/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={873:(e,t,n)=>{"use strict";n.r(t)},156:function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(718),o=n(516);n(873);const a=(0,s.initializeApp)({apiKey:"AIzaSyBrDNbyBpmRoUSCTI-npFm1YIodzQNjIoA",authDomain:"wedding-site-c1fb0.firebaseapp.com",projectId:"wedding-site-c1fb0",storageBucket:"wedding-site-c1fb0.appspot.com",messagingSenderId:"514808349805",appId:"1:514808349805:web:59defead69d7da4e5aeb64",measurementId:"G-4HM7N72DF4"}),c=(0,o.getFirestore)(a),u=["Мохито","Базиликовый смэш","Апероль","Маргарита","Пина-колада","Космополитен","Джин-тоник","Ягодный спритц"],l=["Водка","Виски","Вино","Абсент","Ром"],h=["Корона","Guiness","Paulaner","Pilsner"];function d(e,t){return i(this,void 0,void 0,(function*(){var n;try{const r=(0,o.doc)(c,t,e.replace(/\s+/g,"_")),i=yield(0,o.getDoc)(r);if(i.exists()){const s=(null===(n=i.data())||void 0===n?void 0:n.count)||0;yield(0,o.updateDoc)(r,{count:s+1}),console.log(`Updated ${e} in ${t}: new count ${s+1}`)}else yield(0,o.setDoc)(r,{count:1}),console.log(`Set ${e} in ${t}: new count 1`)}catch(e){console.error("Ошибка при обновлении количества голосов:",e)}}))}function f(){return i(this,void 0,void 0,(function*(){var e;try{const t=["cocktails","luxury","beer"];for(const n of t){const t="cocktails"===n?u:"luxury"===n?l:"beer"===n?h:[];for(const r of t){const t=(0,o.doc)(c,n,r.replace(/\s+/g,"_")),i=yield(0,o.getDoc)(t);if(i.exists()){const t=(null===(e=i.data())||void 0===e?void 0:e.count)||0,n=document.getElementById(`${r.toLowerCase().replace(/\s+/g,"-")}-count`);n&&(n.innerText=`${t} человек`)}}}}catch(e){console.error("Ошибка получения результатов опроса:",e)}}))}document.addEventListener("DOMContentLoaded",(()=>i(void 0,void 0,void 0,(function*(){var e,t;"true"===localStorage.getItem("hasVoted")&&(null===(e=document.getElementById("results"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("survey-form-id"))||void 0===t||t.classList.add("hidden"),document.querySelector(".survey-button").style.display="none",yield f())})))),null===(r=document.getElementById("addGuestBtn"))||void 0===r||r.addEventListener("click",(()=>i(void 0,void 0,void 0,(function*(){const e=document.getElementById("fullName").value;e?(yield function(e){return i(this,void 0,void 0,(function*(){try{const t=(0,o.collection)(c,"guests");if((yield(0,o.getDocs)(t)).docs.length>=25)return void alert("Достигнуто максимальное количество гостей (25).");const n=(0,o.doc)(c,"guests",`${e}`);(yield(0,o.getDoc)(n)).exists()?console.log(`Guest ${e} already exists`):(yield(0,o.setDoc)(n,{fullName:e}),console.log(`Guest ${e} added`))}catch(e){console.error("Error adding guest:",e)}}))}(e),document.getElementById("fullName").value=""):alert("Пожалуйста, введите фамилию и имя гостя")})))),function(){const e=(0,o.collection)(c,"guests");(0,o.onSnapshot)(e,(e=>{const t=document.getElementById("guestList");t&&(t.innerHTML="",e.docs.forEach(((e,t)=>{!function(e,t){const n=document.getElementById("guestList");if(!n)return;const r=document.createElement("tr"),i=document.createElement("td");i.classList.add("number"),i.textContent=(t+1).toString(),r.appendChild(i);const s=document.createElement("td");s.textContent=e.fullName,r.appendChild(s),n.appendChild(r)}(e.data(),t)})))}))}();const p=document.getElementById("survey-form");null==p||p.addEventListener("submit",(e=>i(void 0,void 0,void 0,(function*(){var t,n;e.preventDefault();const r=new FormData(e.target);try{const e=r.getAll("cocktail");for(const t of e)yield d(t.toString(),"cocktails");const i=r.getAll("luxury");for(const e of i)yield d(e.toString(),"luxury");const s=r.getAll("beer");for(const e of s)yield d(e.toString(),"beer");localStorage.setItem("hasVoted","true"),f(),null===(t=document.getElementById("survey-form-id"))||void 0===t||t.classList.add("hidden"),null===(n=document.getElementById("results"))||void 0===n||n.classList.remove("hidden"),document.querySelector(".survey-button").style.display="none"}catch(e){console.error("Ошибка при обновлении количества голосов:",e)}})))),["cocktails","luxury","beer"].forEach((e=>{("cocktails"===e?u:"luxury"===e?l:"beer"===e?h:[]).forEach((t=>{const n=(0,o.doc)(c,e,t.replace(/\s+/g,"_"));(0,o.onSnapshot)(n,(e=>{var n;if(e.exists()){const r=(null===(n=e.data())||void 0===n?void 0:n.count)||0;!function(e,t){const n=document.getElementById(`${e.toLowerCase().replace(/\s+/g,"-")}-count`);n&&(n.innerText=`${t} человек`)}(t,r)}}))}))})),function(){i(this,void 0,void 0,(function*(){const e={cocktails:u,luxury:l,beer:h};try{for(const[t,n]of Object.entries(e))for(const e of n){const n=(0,o.doc)(c,t,e.replace(/\s+/g,"_"));(yield(0,o.getDoc)(n)).exists()||(yield(0,o.setDoc)(n,{count:0}))}console.log("Firestore data initialized")}catch(e){console.error("Error initializing Firestore data:",e)}}))}(),f()},782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n(462),o=n(322),a=n(795),c=n(107),u=n(669),l=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")},e}(),h="@firebase/app",d="0.10.6",f=new a.Logger("@firebase/app"),p="[DEFAULT]",g=((r={})[h]="fire-core",r["@firebase/app-compat"]="fire-core-compat",r["@firebase/analytics"]="fire-analytics",r["@firebase/analytics-compat"]="fire-analytics-compat",r["@firebase/app-check"]="fire-app-check",r["@firebase/app-check-compat"]="fire-app-check-compat",r["@firebase/auth"]="fire-auth",r["@firebase/auth-compat"]="fire-auth-compat",r["@firebase/database"]="fire-rtdb",r["@firebase/database-compat"]="fire-rtdb-compat",r["@firebase/functions"]="fire-fn",r["@firebase/functions-compat"]="fire-fn-compat",r["@firebase/installations"]="fire-iid",r["@firebase/installations-compat"]="fire-iid-compat",r["@firebase/messaging"]="fire-fcm",r["@firebase/messaging-compat"]="fire-fcm-compat",r["@firebase/performance"]="fire-perf",r["@firebase/performance-compat"]="fire-perf-compat",r["@firebase/remote-config"]="fire-rc",r["@firebase/remote-config-compat"]="fire-rc-compat",r["@firebase/storage"]="fire-gcs",r["@firebase/storage-compat"]="fire-gcs-compat",r["@firebase/firestore"]="fire-fst",r["@firebase/firestore-compat"]="fire-fst-compat",r["@firebase/vertexai-preview"]="fire-vertex",r["fire-js"]="fire-js",r.firebase="fire-js-all",r),m=new Map,y=new Map,v=new Map;function w(e,t){try{e.container.addComponent(t)}catch(n){f.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function b(e){var t,n,r,i,s=e.name;if(v.has(s))return f.debug("There were multiple attempts to register component ".concat(s,".")),!1;v.set(s,e);try{for(var a=o.__values(m.values()),c=a.next();!c.done;c=a.next())w(c.value,e)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}try{for(var u=o.__values(y.values()),l=u.next();!l.done;l=u.next())w(l.value,e)}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return!0}function _(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function I(e){return void 0!==e.options}var E=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",i["bad-app-name"]="Illegal App name: '{$appName}'",i["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["server-app-deleted"]="Firebase Server App has been deleted",i["no-options"]="Need to provide options, when not being deployed to hosting via source.",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",i["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",i["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",i["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",i["finalization-registry-not-supported"]="FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",i["invalid-server-app-environment"]="FirebaseServerApp is not for use in browser environments.",i),S=new c.ErrorFactory("app","Firebase",E),T=function(){function e(e,t,n){var r=this;this._isDeleted=!1,this._options=o.__assign({},e),this._config=o.__assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s.Component("app",(function(){return r}),"PUBLIC"))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(e){this._isDeleted=e},enumerable:!1,configurable:!0}),e.prototype.checkDestroyed=function(){if(this.isDeleted)throw S.create("app-deleted",{appName:this._name})},e}(),x=function(e){function t(t,n,r,i){var s=this,a=void 0!==n.automaticDataCollectionEnabled&&n.automaticDataCollectionEnabled,c={name:r,automaticDataCollectionEnabled:a};if(void 0!==t.apiKey)s=e.call(this,t,c,i)||this;else{var u=t;s=e.call(this,u.options,c,i)||this}return s._serverConfig=o.__assign({automaticDataCollectionEnabled:a},n),s._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(s._finalizationRegistry=new FinalizationRegistry((function(){s.automaticCleanup()}))),s._refCount=0,s.incRefCount(s._serverConfig.releaseOnDeref),s._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,A(h,d,"serverapp"),s}return o.__extends(t,e),t.prototype.toJSON=function(){},Object.defineProperty(t.prototype,"refCount",{get:function(){return this._refCount},enumerable:!1,configurable:!0}),t.prototype.incRefCount=function(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))},t.prototype.decRefCount=function(){return this.isDeleted?0:--this._refCount},t.prototype.automaticCleanup=function(){D(this)},Object.defineProperty(t.prototype,"settings",{get:function(){return this.checkDestroyed(),this._serverConfig},enumerable:!1,configurable:!0}),t.prototype.checkDestroyed=function(){if(this.isDeleted)throw S.create("server-app-deleted")},t}(T);function C(e,t){var n,r;void 0===t&&(t={});var i=e;"object"!=typeof t&&(t={name:t});var a=o.__assign({name:p,automaticDataCollectionEnabled:!1},t),u=a.name;if("string"!=typeof u||!u)throw S.create("bad-app-name",{appName:String(u)});if(i||(i=c.getDefaultAppConfig()),!i)throw S.create("no-options");var l=m.get(u);if(l){if(c.deepEqual(i,l.options)&&c.deepEqual(a,l.config))return l;throw S.create("duplicate-app",{appName:u})}var h=new s.ComponentContainer(u);try{for(var d=o.__values(v.values()),f=d.next();!f.done;f=d.next()){var g=f.value;h.addComponent(g)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var y=new T(i,a,h);return m.set(u,y),y}function D(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return t=!1,n=e.name,m.has(n)?(t=!0,m.delete(n)):y.has(n)&&e.decRefCount()<=0&&(y.delete(n),t=!0),t?[4,Promise.all(e.container.getProviders().map((function(e){return e.delete()})))]:[3,2];case 1:r.sent(),e.isDeleted=!0,r.label=2;case 2:return[2]}}))}))}function A(e,t,n){var r,i=null!==(r=g[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var c=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&c.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&c.push("and"),a&&c.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void f.warn(c.join(" "))}b(new s.Component("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var N="firebase-heartbeat-database",k=1,O="firebase-heartbeat-store",L=null;function M(){return L||(L=u.openDB(N,k,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(O)}catch(e){console.warn(e)}}}).catch((function(e){throw S.create("idb-open",{originalErrorMessage:e.message})}))),L}function P(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,M()];case 1:return t=o.sent(),[4,(n=t.transaction(O)).objectStore(O).get(F(e))];case 2:return r=o.sent(),[4,n.done];case 3:return o.sent(),[2,r];case 4:return(i=o.sent())instanceof c.FirebaseError?f.warn(i.message):(s=S.create("idb-get",{originalErrorMessage:null==i?void 0:i.message}),f.warn(s.message)),[3,5];case 5:return[2]}}))}))}function R(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,M()];case 1:return n=o.sent(),[4,(r=n.transaction(O,"readwrite")).objectStore(O).put(t,F(e))];case 2:return o.sent(),[4,r.done];case 3:return o.sent(),[3,5];case 4:return(i=o.sent())instanceof c.FirebaseError?f.warn(i.message):(s=S.create("idb-set",{originalErrorMessage:null==i?void 0:i.message}),f.warn(s.message)),[3,5];case 5:return[2]}}))}))}function F(e){return"".concat(e.name,"!").concat(e.options.appId)}var V=function(){function e(e){var t=this;this.container=e,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new U(n),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return e.prototype.triggerHeartbeat=function(){var e,t;return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=B(),null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)?[3,2]:(s=this,[4,this._heartbeatsCachePromise]);case 1:if(s._heartbeatsCache=o.sent(),null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return[2];o.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))?[2]:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},e.prototype.getHeartbeatsHeader=function(){var e;return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s;return o.__generator(this,(function(a){switch(a.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:a.sent(),a.label=2;case 2:return null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length?[2,""]:(t=B(),n=function(e,t){var n,r;void 0===t&&(t=1024);var i=[],s=e.slice(),a=function(e){var n=i.find((function(t){return t.agent===e.agent}));if(n){if(n.dates.push(e.date),q(i)>t)return n.dates.pop(),"break"}else if(i.push({agent:e.agent,dates:[e.date]}),q(i)>t)return i.pop(),"break";s=s.slice(1)};try{for(var c=o.__values(e),u=c.next();!u.done&&"break"!==a(u.value);u=c.next());}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{heartbeatsToSend:i,unsentEntries:s}}(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,s=c.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return a.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),a.label=5;case 5:return[2,s]}}))}))},e}();function B(){return(new Date).toISOString().substring(0,10)}var U=function(){function e(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e.prototype.runIndexedDBEnvironmentCheck=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return c.isIndexedDBAvailable()?[2,c.validateIndexedDBOpenable().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},e.prototype.read=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return t.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,P(this.app)];case 3:return(null==(e=t.sent())?void 0:e.heartbeats)?[2,e]:[2,{heartbeats:[]}];case 4:return[2]}}))}))},e.prototype.overwrite=function(e){var t;return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})]}}))}))},e.prototype.add=function(e){var t;return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:o.__spreadArray(o.__spreadArray([],o.__read(n.heartbeats),!1),o.__read(e.heartbeats),!1)})]}}))}))},e}();function q(e){return c.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}b(new s.Component("platform-logger",(function(e){return new l(e)}),"PRIVATE")),b(new s.Component("heartbeat",(function(e){return new V(e)}),"PRIVATE")),A(h,d,"node"),A(h,d,"cjs5"),A("fire-js",""),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return c.FirebaseError}}),t.SDK_VERSION="10.12.3",t._DEFAULT_ENTRY_NAME=p,t._addComponent=w,t._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},t._apps=m,t._clearComponents=function(){v.clear()},t._components=v,t._getProvider=_,t._isFirebaseApp=I,t._isFirebaseServerApp=function(e){return void 0!==e.settings},t._registerComponent=b,t._removeServiceInstance=function(e,t,n){void 0===n&&(n=p),_(e,t).clearInstance(n)},t._serverApps=y,t.deleteApp=D,t.getApp=function(e){void 0===e&&(e=p);var t=m.get(e);if(!t&&e===p&&c.getDefaultAppConfig())return C();if(!t)throw S.create("no-app",{appName:e});return t},t.getApps=function(){return Array.from(m.values())},t.initializeApp=C,t.initializeServerApp=function(e,t){var n,r,i;if(c.isBrowser()&&!c.isWebWorker())throw S.create("invalid-server-app-environment");void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),i=I(e)?e.options:e;var a=o.__assign(o.__assign({},t),i);if(void 0!==a.releaseOnDeref&&delete a.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw S.create("finalization-registry-not-supported",{});var u,l=""+(u=JSON.stringify(a),o.__spreadArray([],o.__read(u),!1).reduce((function(e,t){return Math.imul(31,e)+t.charCodeAt(0)|0}),0)),h=y.get(l);if(h)return h.incRefCount(t.releaseOnDeref),h;var d=new s.ComponentContainer(l);try{for(var f=o.__values(v.values()),p=f.next();!p.done;p=f.next()){var g=p.value;d.addComponent(g)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var m=new x(i,t,l,d);return y.set(l,m),m},t.onLog=function(e,t){if(null!==e&&"function"!=typeof e)throw S.create("invalid-log-argument");a.setUserLogHandler(e,t)},t.registerVersion=A,t.setLogLevel=function(e){a.setLogLevel(e)}},462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(322),i=n(107),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=r.__read(s.value,2),c=a[0],u=a[1],l=this.normalizeInstanceIdentifier(c);try{var h=this.getOrInitializeService({instanceIdentifier:l});u.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spreadArray(r.__spreadArray([],r.__read(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),!1),r.__read(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))),!1))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error("".concat(this.name,"(").concat(o,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var c=r.__values(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=r.__read(u.value,2),h=l[0],d=l[1];o===this.normalizeInstanceIdentifier(h)&&d.resolve(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=r.__values(s),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=s,t.ComponentContainer=c,t.Provider=a},100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(782),i=n(462),s=n(795),o=n(107),a=n(293),c=n(493);const u="@firebase/firestore";class l{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");let h="10.12.3";const d=new s.Logger("@firebase/firestore");function f(){return d.logLevel}function p(e,...t){if(d.logLevel<=s.LogLevel.DEBUG){const n=t.map(y);d.debug(`Firestore (${h}): ${e}`,...n)}}function g(e,...t){if(d.logLevel<=s.LogLevel.ERROR){const n=t.map(y);d.error(`Firestore (${h}): ${e}`,...n)}}function m(e,...t){if(d.logLevel<=s.LogLevel.WARN){const n=t.map(y);d.warn(`Firestore (${h}): ${e}`,...n)}}function y(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function v(e="Unexpected state"){const t=`FIRESTORE (${h}) INTERNAL ASSERTION FAILED: `+e;throw g(t),new Error(t)}function w(e,t){e||v()}function b(e,t){return e}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class I extends o.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class E{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class S{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(l.UNAUTHENTICATED)))}shutdown(){}}class x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class C{constructor(e){this.t=e,this.currentUser=l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new E;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new E,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new E)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(w("string"==typeof t.accessToken),new S(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return w(null===e||"string"==typeof e),new l(e)}}class D{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=l.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new D(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(l.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&p("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,p("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(w("string"==typeof e.token),this.R=e.token,new N(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function O(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class L{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=O(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function M(e,t){return e<t?-1:e>t?1:0}function P(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function R(e){return e+"\0"}class F{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new I(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new I(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new I(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new I(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return F.fromMillis(Date.now())}static fromDate(e){return F.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new F(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?M(this.nanoseconds,e.nanoseconds):M(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new F(0,0))}static max(){return new V(new F(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class B{constructor(e,t,n){void 0===t?t=0:t>e.length&&v(),void 0===n?n=e.length-t:n>e.length-t&&v(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===B.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof B?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class U extends B{construct(e,t,n){return new U(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new I(_.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new U(t)}static emptyPath(){return new U([])}}const q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class j extends B{construct(e,t,n){return new j(e,t,n)}static isValidIdentifier(e){return q.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),j.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new j(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new I(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new I(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new I(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new I(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new j(t)}static emptyPath(){return new j([])}}class z{constructor(e){this.path=e}static fromPath(e){return new z(U.fromString(e))}static fromName(e){return new z(U.fromString(e).popFirst(5))}static empty(){return new z(U.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===U.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return U.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new U(e.slice()))}}class G{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function K(e){return e.fields.find((e=>2===e.kind))}function $(e){return e.fields.filter((e=>2!==e.kind))}function Q(e,t){let n=M(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=W(e.fields[r],t.fields[r]),0!==n)return n;return M(e.fields.length,t.fields.length)}G.UNKNOWN_ID=-1;class H{constructor(e,t){this.fieldPath=e,this.kind=t}}function W(e,t){const n=j.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:M(e.kind,t.kind)}class J{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new J(0,Z.min())}}function Y(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new F(n+1,0):new F(n,r));return new Z(i,z.empty(),t)}function X(e){return new Z(e.readTime,e.key,-1)}class Z{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Z(V.min(),z.empty(),-1)}static max(){return new Z(V.max(),z.empty(),-1)}}function ee(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=z.comparator(e.documentKey,t.documentKey),0!==n?n:M(e.largestBatchId,t.largestBatchId))}const te="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function re(e){if(e.code!==_.FAILED_PRECONDITION||e.message!==te)throw e;p("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(e){return ie.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,n)=>{t(e)}))}static reject(e){return new ie(((t,n)=>{n(e)}))}static waitFor(e){return new ie(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ie.resolve(!1);for(const n of e)t=t.next((e=>e?ie.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ie(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ie(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class se{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new E,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ue(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=pe(t.target.error);this.V.reject(new ue(e,n))}}static open(e,t,n,r){try{return new se(t,e.transaction(r,n))}catch(e){throw new ue(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new he(t)}}class oe{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===oe.S(o.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return p("SimpleDb","Removing database:",e),de(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!o.isIndexedDBAvailable())return!1;if(oe.C())return!0;const e=o.getUA(),t=oe.S(e),n=0<t&&t<10,r=ae(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ue(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new I(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new I(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ue(e,r))},r.onupgradeneeded=e=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=se.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ie.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(p("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ae(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ce{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return de(this.B.delete())}}class ue extends I{constructor(e,t){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function le(e){return"IndexedDbTransactionError"===e.name}class he{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),de(n)}add(e){return p("SimpleDb","ADD",this.store.name,e,e),de(this.store.add(e))}get(e){return de(this.store.get(e)).next((t=>(void 0===t&&(t=null),p("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return p("SimpleDb","DELETE",this.store.name,e),de(this.store.delete(e))}count(){return p("SimpleDb","COUNT",this.store.name),de(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new ie(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ie(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){p("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new ie(((n,r)=>{t.onerror=e=>{const t=pe(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new ie(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ce(i),o=t(i.primaryKey,i.value,s);if(o instanceof ie){const e=o.catch((e=>(s.done(),ie.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>ie.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function de(e){return new ie(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=pe(e.target.error);n(t)}}))}let fe=!1;function pe(e){const t=oe.S(o.getUA());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new I("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fe||(fe=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ge{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){p("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{p("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(e){le(e)?p("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await re(e)}await this.X(6e4)}))}}class me{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return ie.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return p("IndexBackfiller",`Processing collection: ${t}`),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(p("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=X(t);ee(r,n)>0&&(n=r)})),new Z(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ye{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ve(e){return null==e}function we(e){return 0===e&&1/e==-1/0}function be(e){return"number"==typeof e&&Number.isInteger(e)&&!we(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function _e(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ee(t)),t=Ie(e.get(n),t);return Ee(t)}function Ie(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Ee(e){return e+""}function Se(e){const t=e.length;if(w(t>=2),2===t)return w(""===e.charAt(0)&&""===e.charAt(1)),U.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&v(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:v()}s=t+2}return new U(r)}ye.oe=-1;const Te=["userId","batchId"];function xe(e,t){return[e,_e(t)]}function Ce(e,t,n){return[e,_e(t),n]}const De={},Ae=["prefixPath","collectionGroup","readTime","documentId"],Ne=["prefixPath","collectionGroup","documentId"],ke=["collectionGroup","readTime","prefixPath","documentId"],Oe=["canonicalId","targetId"],Le=["targetId","path"],Me=["path","targetId"],Pe=["collectionId","parent"],Re=["indexId","uid"],Fe=["uid","sequenceNumber"],Ve=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Be=["indexId","uid","orderedDocumentKey"],Ue=["userId","collectionPath","documentId"],qe=["userId","collectionPath","largestBatchId"],je=["userId","collectionGroup","largestBatchId"],ze=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ge=[...ze,"documentOverlays"],Ke=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$e=Ke,Qe=[...$e,"indexConfiguration","indexState","indexEntries"],He=Qe;class We extends ne{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Je(e,t){const n=b(e);return oe.F(n._e,t)}function Ye(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xe(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ze(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function et(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tt{constructor(e,t){this.comparator=e,this.root=t||rt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nt(this.root,e,this.comparator,!1)}getReverseIterator(){return new nt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nt(this.root,e,this.comparator,!0)}}class nt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rt.RED,this.left=null!=r?r:rt.EMPTY,this.right=null!=i?i:rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();const e=this.left.check();if(e!==this.right.check())throw v();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1,rt.EMPTY=new class{constructor(){this.size=0}get key(){throw v()}get value(){throw v()}get color(){throw v()}get left(){throw v()}get right(){throw v()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new st(this.data.getIterator())}getIteratorFrom(e){return new st(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof it))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class st{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ot(e){return e.hasNext()?e.getNext():void 0}class at{constructor(e){this.fields=e,e.sort(j.comparator)}static empty(){return new at([])}unionWith(e){let t=new it(j.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new at(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return P(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ct extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ct("Invalid base64 string: "+e):e}}(e);return new ut(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return M(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const lt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ht(e){if(w(!!e),"string"==typeof e){let t=0;const n=lt.exec(e);if(w(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dt(e.seconds),nanos:dt(e.nanos)}}function dt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ft(e){return"string"==typeof e?ut.fromBase64String(e):ut.fromUint8Array(e)}function pt(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gt(e){const t=e.mapValue.fields.__previous_value__;return pt(t)?gt(t):t}function mt(e){const t=ht(e.mapValue.fields.__local_write_time__.timestampValue);return new F(t.seconds,t.nanos)}class yt{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class vt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vt&&e.projectId===this.projectId&&e.database===this.database}}const wt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bt={nullValue:"NULL_VALUE"};function _t(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pt(e)?4:Rt(e)?9007199254740991:10:v()}function It(e,t){if(e===t)return!0;const n=_t(e);if(n!==_t(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mt(e).isEqual(mt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ht(e.timestampValue),r=ht(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ft(e.bytesValue).isEqual(ft(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dt(e.geoPointValue.latitude)===dt(t.geoPointValue.latitude)&&dt(e.geoPointValue.longitude)===dt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dt(e.integerValue)===dt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=dt(e.doubleValue),r=dt(t.doubleValue);return n===r?we(n)===we(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return P(e.arrayValue.values||[],t.arrayValue.values||[],It);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ye(n)!==Ye(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!It(n[e],r[e])))return!1;return!0}(e,t);default:return v()}}function Et(e,t){return void 0!==(e.values||[]).find((e=>It(e,t)))}function St(e,t){if(e===t)return 0;const n=_t(e),r=_t(t);if(n!==r)return M(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return M(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=dt(e.integerValue||e.doubleValue),r=dt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tt(e.timestampValue,t.timestampValue);case 4:return Tt(mt(e),mt(t));case 5:return M(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ft(e),r=ft(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=M(n[e],r[e]);if(0!==t)return t}return M(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=M(dt(e.latitude),dt(t.latitude));return 0!==n?n:M(dt(e.longitude),dt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=St(n[e],r[e]);if(t)return t}return M(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wt.mapValue&&t===wt.mapValue)return 0;if(e===wt.mapValue)return 1;if(t===wt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=M(r[e],s[e]);if(0!==t)return t;const o=St(n[r[e]],i[s[e]]);if(0!==o)return o}return M(r.length,s.length)}(e.mapValue,t.mapValue);default:throw v()}}function Tt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return M(e,t);const n=ht(e),r=ht(t),i=M(n.seconds,r.seconds);return 0!==i?i:M(n.nanos,r.nanos)}function xt(e){return Ct(e)}function Ct(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ht(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ft(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return z.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ct(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ct(e.fields[i])}`;return n+"}"}(e.mapValue):v()}function Dt(e){switch(_t(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gt(e);return t?16+Dt(t):16;case 5:return 2*e.stringValue.length;case 6:return ft(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Dt(t)),0)}(e.arrayValue);case 10:return function(e){let t=0;return Xe(e.fields,((e,n)=>{t+=e.length+Dt(n)})),t}(e.mapValue);default:throw v()}}function At(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Nt(e){return!!e&&"integerValue"in e}function kt(e){return!!e&&"arrayValue"in e}function Ot(e){return!!e&&"nullValue"in e}function Lt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mt(e){return!!e&&"mapValue"in e}function Pt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xe(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Pt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ft(e){return"nullValue"in e?bt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?At(vt.empty(),z.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:v()}function Vt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?At(vt.empty(),z.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?wt:v()}function Bt(e,t){const n=St(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ut(e,t){const n=St(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pt(t)}setAll(e){let t=j.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Pt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return It(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xe(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new qt(Pt(this.value))}}function jt(e){const t=[];return Xe(e.fields,((e,n)=>{const r=new j([e]);if(Mt(n)){const e=jt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new at(t)}class zt{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new zt(e,0,V.min(),V.min(),V.min(),qt.empty(),0)}static newFoundDocument(e,t,n,r){return new zt(e,1,t,V.min(),n,r,0)}static newNoDocument(e,t){return new zt(e,2,t,V.min(),V.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,V.min(),V.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gt{constructor(e,t){this.position=e,this.inclusive=t}}function Kt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?z.comparator(z.fromName(o.referenceValue),n.key):St(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $t(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!It(e.position[n],t.position[n]))return!1;return!0}class Qt{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ht(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wt{}class Jt extends Wt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new an(e,t,n):"array-contains"===t?new hn(e,n):"in"===t?new dn(e,n):"not-in"===t?new fn(e,n):"array-contains-any"===t?new pn(e,n):new Jt(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new cn(e,n):new un(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(St(t,this.value)):null!==t&&_t(this.value)===_t(t)&&this.matchesComparison(St(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return v()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends Wt{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Yt(e,t)}matches(e){return Xt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xt(e){return"and"===e.op}function Zt(e){return"or"===e.op}function en(e){return tn(e)&&Xt(e)}function tn(e){for(const t of e.filters)if(t instanceof Yt)return!1;return!0}function nn(e){if(e instanceof Jt)return e.field.canonicalString()+e.op.toString()+xt(e.value);if(en(e))return e.filters.map((e=>nn(e))).join(",");{const t=e.filters.map((e=>nn(e))).join(",");return`${e.op}(${t})`}}function rn(e,t){return e instanceof Jt?function(e,t){return t instanceof Jt&&e.op===t.op&&e.field.isEqual(t.field)&&It(e.value,t.value)}(e,t):e instanceof Yt?function(e,t){return t instanceof Yt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rn(n,t.filters[r])),!0)}(e,t):void v()}function sn(e,t){const n=e.filters.concat(t);return Yt.create(n,e.op)}function on(e){return e instanceof Jt?function(e){return`${e.field.canonicalString()} ${e.op} ${xt(e.value)}`}(e):e instanceof Yt?function(e){return e.op.toString()+" {"+e.getFilters().map(on).join(" ,")+"}"}(e):"Filter"}class an extends Jt{constructor(e,t,n){super(e,t,n),this.key=z.fromName(n.referenceValue)}matches(e){const t=z.comparator(e.key,this.key);return this.matchesComparison(t)}}class cn extends Jt{constructor(e,t){super(e,"in",t),this.keys=ln(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class un extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=ln(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ln(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>z.fromName(e.referenceValue)))}class hn extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kt(t)&&Et(t.arrayValue,this.value)}}class dn extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Et(this.value.arrayValue,t)}}class fn extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Et(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Et(this.value.arrayValue,t)}}class pn extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kt(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Et(this.value.arrayValue,e)))}}class gn{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function mn(e,t=null,n=[],r=[],i=null,s=null,o=null){return new gn(e,t,n,r,i,s,o)}function yn(e){const t=b(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>nn(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ve(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>xt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>xt(e))).join(",")),t.ue=e}return t.ue}function vn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ht(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$t(e.startAt,t.startAt)&&$t(e.endAt,t.endAt)}function wn(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function bn(e,t){return e.filters.filter((e=>e instanceof Jt&&e.field.isEqual(t)))}function _n(e,t,n){let r=bt,i=!0;for(const n of bn(e,t)){let e=bt,t=!0;switch(n.op){case"<":case"<=":e=Ft(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=bt}Bt({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Bt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function In(e,t,n){let r=wt,i=!0;for(const n of bn(e,t)){let e=wt,t=!0;switch(n.op){case">=":case">":e=Vt(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=wt}Ut({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Ut({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class En{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sn(e,t,n,r,i,s,o,a){return new En(e,t,n,r,i,s,o,a)}function Tn(e){return new En(e)}function xn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cn(e){return null!==e.collectionGroup}function Dn(e){const t=b(e);if(null===t.ce){t.ce=[];const e=new Set;for(const n of t.explicitOrderBy)t.ce.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new it(j.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Qt(r,n))})),e.has(j.keyField().canonicalString())||t.ce.push(new Qt(j.keyField(),n))}return t.ce}function An(e){const t=b(e);return t.le||(t.le=kn(t,Dn(e))),t.le}function Nn(e){const t=b(e);return t.he||(t.he=kn(t,e.explicitOrderBy)),t.he}function kn(e,t){if("F"===e.limitType)return mn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Qt(e.field,t)}));const n=e.endAt?new Gt(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gt(e.startAt.position,e.startAt.inclusive):null;return mn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function On(e,t){const n=e.filters.concat([t]);return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ln(e,t,n){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mn(e,t){return vn(An(e),An(t))&&e.limitType===t.limitType}function Pn(e){return`${yn(An(e))}|lt:${e.limitType}`}function Rn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>on(e))).join(", ")}]`),ve(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>xt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>xt(e))).join(",")),`Target(${t})`}(An(e))}; limitType=${e.limitType})`}function Fn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):z.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Dn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Kt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dn(e),t)||e.endAt&&!function(e,t,n){const r=Kt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dn(e),t))}(e,t)}function Vn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bn(e){return(t,n)=>{let r=!1;for(const i of Dn(e)){const e=Un(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Un(e,t,n){const r=e.field.isKeyField()?z.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?St(r,i):v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}class qn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xe(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return et(this.inner)}size(){return this.innerSize}}const jn=new tt(z.comparator);function zn(){return jn}const Gn=new tt(z.comparator);function Kn(...e){let t=Gn;for(const n of e)t=t.insert(n.key,n);return t}function $n(e){let t=Gn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Qn(){return Wn()}function Hn(){return Wn()}function Wn(){return new qn((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Jn=new tt(z.comparator),Yn=new it(z.comparator);function Xn(...e){let t=Yn;for(const n of e)t=t.add(n);return t}const Zn=new it(M);function er(){return Zn}function tr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:we(t)?"-0":t}}function nr(e){return{integerValue:""+e}}function rr(e,t){return be(t)?nr(t):tr(e,t)}class ir{constructor(){this._=void 0}}function sr(e,t,n){return e instanceof cr?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pt(t)&&(t=gt(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ur?lr(e,t):e instanceof hr?dr(e,t):function(e,t){const n=ar(e,t),r=pr(n)+pr(e.Pe);return Nt(n)&&Nt(e.Pe)?nr(r):tr(e.serializer,r)}(e,t)}function or(e,t,n){return e instanceof ur?lr(e,t):e instanceof hr?dr(e,t):n}function ar(e,t){return e instanceof fr?function(e){return Nt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cr extends ir{}class ur extends ir{constructor(e){super(),this.elements=e}}function lr(e,t){const n=gr(t);for(const t of e.elements)n.some((e=>It(e,t)))||n.push(t);return{arrayValue:{values:n}}}class hr extends ir{constructor(e){super(),this.elements=e}}function dr(e,t){let n=gr(t);for(const t of e.elements)n=n.filter((e=>!It(e,t)));return{arrayValue:{values:n}}}class fr extends ir{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function pr(e){return dt(e.integerValue||e.doubleValue)}function gr(e){return kt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class mr{constructor(e,t){this.field=e,this.transform=t}}class yr{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class br{}function _r(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kr(e.key,vr.none()):new xr(e.key,e.data,vr.none());{const n=e.data,r=qt.empty();let i=new it(j.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Cr(e.key,r,new at(i.toArray()),vr.none())}}function Ir(e,t,n){e instanceof xr?function(e,t,n){const r=e.value.clone(),i=Ar(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cr?function(e,t,n){if(!wr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ar(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Er(e,t,n,r){return e instanceof xr?function(e,t,n,r){if(!wr(e.precondition,t))return n;const i=e.value.clone(),s=Nr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cr?function(e,t,n,r){if(!wr(e.precondition,t))return n;const i=Nr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Dr(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return wr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Sr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ar(r.transform,e||null);null!=i&&(null===n&&(n=qt.empty()),n.set(r.field,i))}return n||null}function Tr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&P(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ur&&t instanceof ur||e instanceof hr&&t instanceof hr?P(e.elements,t.elements,It):e instanceof fr&&t instanceof fr?It(e.Pe,t.Pe):e instanceof cr&&t instanceof cr}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xr extends br{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cr extends br{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dr(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ar(e,t,n){const r=new Map;w(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,or(o,a,n[i]))}return r}function Nr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,sr(e,s,t))}return r}class kr extends br{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Or extends br{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Ir(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Er(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Er(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Hn();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=_r(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(V.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xn())}isEqual(e){return this.batchId===e.batchId&&P(this.mutations,e.mutations,((e,t)=>Tr(e,t)))&&P(this.baseMutations,e.baseMutations,((e,t)=>Tr(e,t)))}}class Mr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){w(e.mutations.length===n.length);let r=Jn;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Mr(e,t,n,r)}}class Pr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rr{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Fr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vr,Br;function Ur(e){switch(e){default:return v();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function qr(e){if(void 0===e)return g("GRPC error has no .code"),_.UNKNOWN;switch(e){case Vr.OK:return _.OK;case Vr.CANCELLED:return _.CANCELLED;case Vr.UNKNOWN:return _.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return _.INTERNAL;case Vr.UNAVAILABLE:return _.UNAVAILABLE;case Vr.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Vr.NOT_FOUND:return _.NOT_FOUND;case Vr.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Vr.ABORTED:return _.ABORTED;case Vr.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Vr.DATA_LOSS:return _.DATA_LOSS;default:return v()}}(Br=Vr||(Vr={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";let jr=null;function zr(){return new TextEncoder}const Gr=new a.Integer([4294967295,4294967295],0);function Kr(e){const t=zr().encode(e),n=new a.Md5;return n.update(t),new Uint8Array(n.digest())}function $r(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new a.Integer([n,r],0),new a.Integer([i,s],0)]}class Qr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Hr(`Invalid padding: ${t}`);if(n<0)throw new Hr(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Hr(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Hr(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=a.Integer.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(a.Integer.fromNumber(n)));return 1===r.compare(Gr)&&(r=new a.Integer([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Kr(e),[n,r]=$r(t);for(let e=0;e<this.hashCount;e++){const t=this.Ee(n,r,e);if(!this.de(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Qr(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Kr(e),[n,r]=$r(t);for(let e=0;e<this.hashCount;e++){const t=this.Ee(n,r,e);this.Ae(t)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Hr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Jr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wr(V.min(),r,new tt(M),zn(),Xn())}}class Jr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Jr(n,t,Xn(),Xn(),Xn())}}class Yr{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Xr{constructor(e,t){this.targetId=e,this.me=t}}class Zr{constructor(e,t,n=ut.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ei{constructor(){this.fe=0,this.ge=ri(),this.pe=ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Xn(),t=Xn(),n=Xn();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v()}})),new Jr(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=ri()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,w(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ti{constructor(e){this.Le=e,this.Be=new Map,this.ke=zn(),this.qe=ni(),this.Qe=new tt(M)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:v()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(wn(i))if(0===n){const e=new z(i.path);this.Ue(t,e,zt.newNoDocument(e,V.min()))}else w(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==jr||jr.et(function(e,t,n,r,i){var s,o,a,c,u,l;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(l=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ft(n).toUint8Array()}catch(e){if(e instanceof ct)return m("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Qr(s,r,i)}catch(e){return m(e instanceof Hr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&wn(i.target)){const t=new z(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,zt.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Xn();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Wr(e,t,this.Qe,this.ke,n);return this.ke=zn(),this.qe=ni(),this.Qe=new tt(M),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ei,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new it(M),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ei),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ni(){return new tt(z.comparator)}function ri(){return new tt(z.comparator)}const ii={asc:"ASCENDING",desc:"DESCENDING"},si={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oi={and:"AND",or:"OR"};class ai{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ci(e,t){return e.useProto3Json||ve(t)?t:{value:t}}function ui(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function li(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hi(e,t){return ui(e,t.toTimestamp())}function di(e){return w(!!e),V.fromTimestamp(function(e){const t=ht(e);return new F(t.seconds,t.nanos)}(e))}function fi(e,t){return pi(e,t).canonicalString()}function pi(e,t){const n=function(e){return new U(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function gi(e){const t=U.fromString(e);return w(Vi(t)),t}function mi(e,t){return fi(e.databaseId,t.path)}function yi(e,t){const n=gi(t);if(n.get(1)!==e.databaseId.projectId)throw new I(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new I(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new z(_i(n))}function vi(e,t){return fi(e.databaseId,t)}function wi(e){const t=gi(e);return 4===t.length?U.emptyPath():_i(t)}function bi(e){return new U(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _i(e){return w(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ii(e,t,n){return{name:mi(e,t),fields:n.value.mapValue.fields}}function Ei(e,t,n){const r=yi(e,t.name),i=di(t.updateTime),s=t.createTime?di(t.createTime):V.min(),o=new qt({mapValue:{fields:t.fields}}),a=zt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Si(e,t){let n;if(t instanceof xr)n={update:Ii(e,t.key,t.value)};else if(t instanceof kr)n={delete:mi(e,t.key)};else if(t instanceof Cr)n={update:Ii(e,t.key,t.data),updateMask:Fi(t.fieldMask)};else{if(!(t instanceof Or))return v();n={verify:mi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ur)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fr)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw v()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v()}(e,t.precondition)),n}function Ti(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?vr.updateTime(di(e.updateTime)):void 0!==e.exists?vr.exists(e.exists):vr.none()}(t.currentDocument):vr.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)w("REQUEST_TIME"===t.setToServerValue),n=new cr;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ur(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new hr(e)}else"increment"in t?n=new fr(e,t.increment):v();const r=j.fromServerFormat(t.fieldPath);return new mr(r,n)}(e,t))):[];if(t.update){t.update.name;const i=yi(e,t.update.name),s=new qt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new at(t.map((e=>j.fromServerFormat(e))))}(t.updateMask);return new Cr(i,s,e,n,r)}return new xr(i,s,n,r)}if(t.delete){const r=yi(e,t.delete);return new kr(r,n)}if(t.verify){const r=yi(e,t.verify);return new Or(r,n)}return v()}function xi(e,t){return{documents:[vi(e,t.path)]}}function Ci(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vi(e,i);const s=function(e){if(0!==e.length)return Ri(Yt.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Mi(e.field),direction:ki(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ci(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Di(e,t,n,r){const{_t:i,parent:s}=Ci(e,t),o={},a=[];let c=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+c++;o[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:Mi(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:Mi(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},ut:o,parent:s}}function Ai(e){let t=wi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){w(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ni(e);return t instanceof Yt&&en(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Qt(Pi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ve(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Gt(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Gt(n,t)}(n.endAt)),Sn(t,i,o,s,a,"F",c,u)}function Ni(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pi(e.unaryFilter.field);return Jt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Pi(e.unaryFilter.field);return Jt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pi(e.unaryFilter.field);return Jt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pi(e.unaryFilter.field);return Jt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return v()}}(e):void 0!==e.fieldFilter?function(e){return Jt.create(Pi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return v()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yt.create(e.compositeFilter.filters.map((e=>Ni(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return v()}}(e.compositeFilter.op))}(e):v()}function ki(e){return ii[e]}function Oi(e){return si[e]}function Li(e){return oi[e]}function Mi(e){return{fieldPath:e.canonicalString()}}function Pi(e){return j.fromServerFormat(e.fieldPath)}function Ri(e){return e instanceof Jt?function(e){if("=="===e.op){if(Lt(e.value))return{unaryFilter:{field:Mi(e.field),op:"IS_NAN"}};if(Ot(e.value))return{unaryFilter:{field:Mi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lt(e.value))return{unaryFilter:{field:Mi(e.field),op:"IS_NOT_NAN"}};if(Ot(e.value))return{unaryFilter:{field:Mi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mi(e.field),op:Oi(e.op),value:e.value}}}(e):e instanceof Yt?function(e){const t=e.getFilters().map((e=>Ri(e)));return 1===t.length?t[0]:{compositeFilter:{op:Li(e.op),filters:t}}}(e):v()}function Fi(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Vi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bi{constructor(e,t,n,r,i=V.min(),s=V.min(),o=ut.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ui{constructor(e){this.ct=e}}function qi(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ji(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mi(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ui(e,t.version.toTimestamp()),createTime:ui(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zi(t.version)};else{if(!t.isUnknownDocument())return v();r.unknownDocument={path:n.path.toArray(),version:zi(t.version)}}return r}function ji(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zi(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Gi(e){const t=new F(e.seconds,e.nanoseconds);return V.fromTimestamp(t)}function Ki(e,t){const n=(t.baseMutations||[]).map((t=>Ti(e.ct,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Ti(e.ct,t))),i=F.fromMillis(t.localWriteTimeMs);return new Lr(t.batchId,i,n,r)}function $i(e){const t=Gi(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Gi(e.lastLimboFreeSnapshotVersion):V.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return w(1===e.documents.length),An(Tn(wi(e.documents[0])))}(e.query):function(e){return An(Ai(e))}(e.query),new Bi(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ut.fromBase64String(e.resumeToken))}function Qi(e,t){const n=zi(t.snapshotVersion),r=zi(t.lastLimboFreeSnapshotVersion);let i;i=wn(t.target)?xi(e.ct,t.target):Ci(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yn(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Hi(e){const t=Ai({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ln(t,t.limit,"L"):t}function Wi(e,t){return new Pr(t.largestBatchId,Ti(e.ct,t.overlayMutation))}function Ji(e,t){const n=t.path.lastSegment();return[e,_e(t.path.popLast()),n]}function Yi(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:zi(r.readTime),documentKey:_e(r.documentKey.path),largestBatchId:r.largestBatchId}}class Xi{getBundleMetadata(e,t){return Zi(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Gi(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Zi(e).put(function(e){return{bundleId:e.id,createTime:zi(di(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return es(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Hi(e.bundledQuery),readTime:Gi(e.readTime)}}(e)}))}saveNamedQuery(e,t){return es(e).put(function(e){return{name:e.name,readTime:zi(di(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Zi(e){return Je(e,"bundles")}function es(e){return Je(e,"namedQueries")}class ts{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new ts(e,n)}getOverlay(e,t){return ns(e).get(Ji(this.userId,t)).next((e=>e?Wi(this.serializer,e):null))}getOverlays(e,t){const n=Qn();return ie.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Pr(t,i);r.push(this.ht(e,s))})),ie.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(_e(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ns(e).j("collectionPathOverlayIndex",r))})),ie.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Qn(),i=_e(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ns(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Wi(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Qn();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ns(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Wi(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return ns(e).put(function(e,t,n){const[r,i,s]=Ji(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Si(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function ns(e){return Je(e,"documentOverlays")}class rs{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(dt(e.integerValue));else if("doubleValue"in e){const n=dt(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),we(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=ht(n)),t.At(`${n.seconds||""}`),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ft(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Rt(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):v()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const e of Object.keys(n))this.Rt(e,t),this.It(n[e],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const e of n)this.It(e,t)}gt(e,t){this.Et(t,37),z.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function is(e){if(0===e)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function ss(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=is(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}rs.bt=new rs;class os{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=ss(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}qt(e){const t=this.Bt(e),n=ss(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class as{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class cs{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class us{constructor(){this.Gt=new os,this.zt=new as(this.Gt),this.jt=new cs(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ls{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ls(this.indexId,this.documentKey,this.arrayValue,n)}}function hs(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=ds(e.arrayValue,t.arrayValue),0!==n?n:(n=ds(e.directionalValue,t.directionalValue),0!==n?n:z.comparator(e.documentKey,t.documentKey)))}function ds(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class fs{constructor(e){this.Yt=new it(((e,t)=>j.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(w(e.collectionGroup===this.collectionId),this.en)return!1;const t=K(e);if(void 0!==t&&!this.nn(t))return!1;const n=$(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new it(j.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new H(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new H(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new H(n.field,"asc"===n.dir?0:1)));return new G(G.UNKNOWN_ID,this.collectionId,t,J.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ps(e){var t,n;if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt){if(e instanceof dn){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Jt.create(e.field,"==",t))))||[];return Yt.create(r,"or")}return e}const r=e.filters.map((e=>ps(e)));return Yt.create(r,e.op)}function gs(e){if(0===e.getFilters().length)return[];const t=ws(ps(e));return w(vs(t)),ms(t)||ys(t)?[t]:t.getFilters()}function ms(e){return e instanceof Jt}function ys(e){return e instanceof Yt&&en(e)}function vs(e){return ms(e)||ys(e)||function(e){if(e instanceof Yt&&Zt(e)){for(const t of e.getFilters())if(!ms(t)&&!ys(t))return!1;return!0}return!1}(e)}function ws(e){if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt)return e;if(1===e.filters.length)return ws(e.filters[0]);const t=e.filters.map((e=>ws(e)));let n=Yt.create(t,e.op);return n=Is(n),vs(n)?n:(w(n instanceof Yt),w(Xt(n)),w(n.filters.length>1),n.filters.reduce(((e,t)=>bs(e,t))))}function bs(e,t){let n;return w(e instanceof Jt||e instanceof Yt),w(t instanceof Jt||t instanceof Yt),n=e instanceof Jt?t instanceof Jt?function(e,t){return Yt.create([e,t],"and")}(e,t):_s(e,t):t instanceof Jt?_s(t,e):function(e,t){if(w(e.filters.length>0&&t.filters.length>0),Xt(e)&&Xt(t))return sn(e,t.getFilters());const n=Zt(e)?e:t,r=Zt(e)?t:e,i=n.filters.map((e=>bs(e,r)));return Yt.create(i,"or")}(e,t),Is(n)}function _s(e,t){if(Xt(t))return sn(t,e.getFilters());{const n=t.filters.map((t=>bs(e,t)));return Yt.create(n,"or")}}function Is(e){if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt)return e;const t=e.getFilters();if(1===t.length)return Is(t[0]);if(tn(e))return e;const n=t.map((e=>Is(e))),r=[];return n.forEach((t=>{t instanceof Jt?r.push(t):t instanceof Yt&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Yt.create(r,e.op)}class Es{constructor(){this._n=new Ss}addToCollectionParentIndex(e,t){return this._n.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Z.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Z.min())}updateCollectionGroup(e,t,n){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Ss{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new it(U.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new it(U.comparator)).toArray()}}const Ts=new Uint8Array(0);class xs{constructor(e,t){this.databaseId=t,this.an=new Ss,this.un=new qn((e=>yn(e)),((e,t)=>vn(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:_e(r)};return Cs(e).put(i)}return ie.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[R(t),""],!1,!0);return Cs(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Se(r.parent))}return n}))}addFieldIndex(e,t){const n=As(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Ns(e);return i.next((e=>{n.put(Yi(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=As(e),r=Ns(e),i=Ds(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=As(e),n=Ds(e),r=Ns(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return ie.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new fs(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Ds(e);let r=!0;const i=new Map;return ie.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Xn();const r=[];return ie.forEach(i,((i,s)=>{p("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${yn(t)}`);const o=function(e,t){const n=K(t);if(void 0===n)return null;for(const t of bn(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of $(t))for(const t of bn(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of $(t)){const t=0===i.kind?_n(e,i.fieldPath,e.startAt):In(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Gt(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of $(t)){const t=0===i.kind?In(e,i.fieldPath,e.endAt):_n(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Gt(n,r)}(s,i),l=this.hn(i,s,c),h=this.hn(i,s,u),d=this.Pn(i,s,a),f=this.In(i.indexId,o,l,c.inclusive,h,u.inclusive,d);return ie.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=z.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return ie.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:gs(Yt.create(e.filters,"and")).map((t=>mn(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),u=[];for(let l=0;l<a;++l){const a=t?this.Tn(t[l/c]):Ts,h=this.En(e,a,n[l%c],r),d=this.dn(e,a,i[l%c],s),f=o.map((t=>this.En(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}En(e,t,n,r){const i=new ls(e,z.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new ls(e,z.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new fs(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return ie.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new it(j.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new us;for(const r of $(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);rs.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new us;return rs.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new us;return rs.bt.Pt(At(this.databaseId,t),n.Ht(function(e){const t=$(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new us);let i=0;for(const s of $(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&kt(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);rs.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new us;r.seed(n.Wt()),rs.bt.Pt(e,r.Ht(t.kind)),i.push(r)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Jt&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=As(e),r=Ns(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return ie.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new J(t.sequenceNumber,new Z(Gi(t.readTime),new z(Se(t.documentKey)),t.largestBatchId)):J.empty(),r=e.fields.map((([e,t])=>new H(j.fromServerFormat(e),t)));return new G(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:M(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=As(e),i=Ns(e);return this.gn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ie.forEach(t,(t=>i.put(Yi(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ie.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?ie.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ie.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?ie.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Ds(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Ds(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Ds(e);let i=new it(hs);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new ls(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new it(hs);const r=this.An(t,e);if(null==r)return n;const i=K(t);if(null!=i){const s=e.data.field(i.fieldPath);if(kt(s))for(const i of s.arrayValue.values||[])n=n.add(new ls(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new ls(t.indexId,e.key,Ts,r));return n}wn(e,t,n,r,i){p("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=ot(s),c=ot(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=ot(o)):t?(i(a),a=ot(s)):(a=ot(s),c=ot(o))}}(r,i,hs,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),ie.waitFor(s)}gn(e){let t=1;return Ns(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>hs(e,t))).filter(((e,t,n)=>!t||0!==hs(e,n[t-1])));const r=[];r.push(e);for(const i of n){const n=hs(i,e),s=hs(i,t);if(0===n)r[0]=e.Jt();else if(n>0&&s<0)r.push(i),r.push(i.Jt());else if(s>0)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.Dn(r[e],r[e+1]))return[];const t=[r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,Ts,[]],n=[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,Ts,[]];i.push(IDBKeyRange.bound(t,n))}return i}Dn(e,t){return hs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ks)}getMinOffset(e,t){return ie.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||v())))).next(ks)}}function Cs(e){return Je(e,"collectionParents")}function Ds(e){return Je(e,"indexEntries")}function As(e){return Je(e,"indexConfiguration")}function Ns(e){return Je(e,"indexState")}function ks(e){w(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ee(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Z(t.readTime,t.documentKey,n)}const Os={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ms(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{w(1===a)})));const u=[];for(const e of n.mutations){const r=Ce(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return ie.waitFor(s).next((()=>u))}function Ps(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v();t=e.noDocument}return JSON.stringify(t).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class Rs{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){w(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Rs(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Bs(e),s=Vs(e);return s.add({}).next((o=>{w("number"==typeof o);const a=new Lr(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Si(e.ct,t))),i=n.mutations.map((t=>Si(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let l=new it(((e,t)=>M(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ce(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(i.put(t,De))}return l.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),ie.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Vs(e).get(t).next((e=>e?(w(e.userId===this.userId),Ki(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?ie.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Vs(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(w(t.batchId>=n),i=Ki(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Vs(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).U("userMutationsIndex",t).next((e=>e.map((e=>Ki(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=xe(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Bs(e).J({range:r},((n,r,s)=>{const[o,a,c]=n,u=Se(a);if(o===this.userId&&t.path.isEqual(u))return Vs(e).get(c).next((e=>{if(!e)throw v();w(e.userId===this.userId),i.push(Ki(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new it(M);const r=[];return t.forEach((t=>{const i=xe(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Bs(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,c=Se(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),ie.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=xe(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new it(M);return Bs(e).J({range:s},((e,t,i)=>{const[s,a,c]=e,u=Se(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Vs(e).get(t).next((e=>{if(null===e)throw v();w(e.userId===this.userId),n.push(Ki(this.serializer,e))})))})),ie.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ms(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),ie.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ie.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Bs(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Se(e[1]);r.push(t)}else n.done()})).next((()=>{w(0===r.length)}))}))}containsKey(e,t){return Fs(e,this.userId,t)}xn(e){return Us(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Fs(e,t,n){const r=xe(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Bs(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Vs(e){return Je(e,"mutations")}function Bs(e){return Je(e,"documentMutations")}function Us(e){return Je(e,"mutationQueues")}class qs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qs(0)}static Ln(){return new qs(-1)}}class js{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new qs(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>V.fromTimestamp(new F(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>zs(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(w(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return zs(e).J(((s,o)=>{const a=$i(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>ie.waitFor(i))).next((()=>r))}forEachTarget(e,t){return zs(e).J(((e,n)=>{const r=$i(n);t(r)}))}Bn(e){return Gs(e).get("targetGlobalKey").next((e=>(w(null!==e),e)))}kn(e,t){return Gs(e).put("targetGlobalKey",t)}qn(e,t){return zs(e).put(Qi(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=yn(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return zs(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=$i(n);vn(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ks(e);return t.forEach((t=>{const s=_e(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),ie.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ks(e);return ie.forEach(t,(t=>{const i=_e(t.path);return ie.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ks(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ks(e);let i=Xn();return r.J({range:n,H:!0},((e,t,n)=>{const r=Se(e[1]),s=new z(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=_e(t.path),r=IDBKeyRange.bound([n],[R(n)],!1,!0);let i=0;return Ks(e).J({index:"documentTargetsIndex",H:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}ot(e,t){return zs(e).get(t).next((e=>e?$i(e):null))}}function zs(e){return Je(e,"targets")}function Gs(e){return Je(e,"targetGlobal")}function Ks(e){return Je(e,"targetDocuments")}function $s([e,t],[n,r]){const i=M(e,n);return 0===i?M(t,r):i}class Qs{constructor(e){this.Kn=e,this.buffer=new it($s),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();$s(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hs{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){p("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){le(e)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await re(e)}await this.zn(3e5)}))}}class Ws{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(ye.oe);const n=new Qs(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Os)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Os):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,a,c,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),f()<=s.LogLevel.DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(c-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-c)+"ms\n"+`Total Duration: ${u-l}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Js(e,t){return new Ws(e,t)}class Ys{constructor(e,t){this.db=e,this.garbageCollector=Js(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Xs(e,n)}removeReference(e,t,n){return Xs(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Xs(e,t)}er(e,t){return function(e,t){let n=!1;return Us(e).Y((r=>Fs(e,r,t).next((e=>(e&&(n=!0),ie.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,V.min()),Ks(e).delete(function(e){return[0,_e(e.path)]}(s)))))}));r.push(t)}})).next((()=>ie.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Xs(e,t)}Xn(e,t){const n=Ks(e);let r,i=ye.oe;return n.J({index:"documentTargetsIndex"},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==ye.oe&&t(new z(Se(r)),i),i=o,r=s):i=ye.oe})).next((()=>{i!==ye.oe&&t(new z(Se(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xs(e,t){return Ks(e).put(function(e,t){return{targetId:0,path:_e(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Zs{constructor(){this.changes=new qn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eo{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return io(e).put(n)}removeEntry(e,t,n){return io(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ji(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=zt.newInvalidDocument(t);return io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(so(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:zt.newInvalidDocument(t)};return io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(so(t))},((e,r)=>{n={document:this.nr(t,r),size:Ps(r)}})).next((()=>n))}getEntries(e,t){let n=zn();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=zn(),r=new tt(z.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Ps(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return ie.resolve();let r=new it(ao);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(so(r.first()),so(r.last())),s=r.getIterator();let o=s.getNext();return io(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=z.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&ao(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(so(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),ji(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return io(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=zn();for(const i of e){const e=this.nr(z.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Fn(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=zn();const s=oo(t,n),o=oo(t,Z.max());return io(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(z.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new no(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ro(e).get("remoteDocumentGlobalKey").next((e=>(w(!!e),e)))}tr(e,t){return ro(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ei(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=z.fromSegments(t.noDocument.path),r=Gi(t.noDocument.readTime);n=zt.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return v();{const e=z.fromSegments(t.unknownDocument.path),r=Gi(t.unknownDocument.version);n=zt.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new F(e[0],e[1]);return V.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(V.min()))return e}return zt.newInvalidDocument(e)}}function to(e){return new eo(e)}class no extends Zs{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new qn((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new it(((e,t)=>M(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=qi(this.ar.serializer,s);r=r.add(i.path.popLast());const c=Ps(a);n+=c-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=qi(this.ar.serializer,s.convertToNoDocument(V.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),ie.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((({documents:e,_r:t})=>(t.forEach(((t,n)=>{this.ur.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function ro(e){return Je(e,"remoteDocumentGlobal")}function io(e){return Je(e,"remoteDocumentsV14")}function so(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function oo(e,t){const n=t.documentKey.path.toArray();return[e,ji(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ao(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=M(n[e],r[e]),i)return i;return i=M(n.length,r.length),i||(i=M(n[n.length-2],r[r.length-2]),i||M(n[n.length-1],r[r.length-1]))}class co{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Er(n.mutation,e,at.empty(),F.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Xn()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Xn()){const r=Qn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Kn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Qn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xn())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=zn();const s=Wn(),o=Wn();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Cr)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Er(o.mutation,t,o.mutation.getFieldMask(),F.now())):s.set(t.key,at.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new co(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Wn();let r=new tt(((e,t)=>e-t)),i=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||at.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Xn()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=Hn();c.forEach((e=>{if(!i.has(e)){const r=_r(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return ie.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ie.resolve(Qn());let o=-1,a=i;return s.next((t=>ie.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ie.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Xn()))).next((e=>({batchId:o,changes:$n(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next((e=>{let t=Kn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Kn();return this.indexManager.getCollectionParents(e,i).next((o=>ie.forEach(o,(o=>{const a=function(e,t){return new En(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,zt.newInvalidDocument(r)))}));let n=Kn();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Er(s.mutation,r,at.empty(),F.now()),Fn(t,r)&&(n=n.insert(e,r))})),n}))}}class lo{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ie.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:di(e.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Hi(e.bundledQuery),readTime:di(e.readTime)}}(t)),ie.resolve()}}class ho{constructor(){this.overlays=new tt(z.comparator),this.hr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qn();return ie.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ie.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ie.resolve()}getOverlaysForCollection(e,t,n){const r=Qn(),i=t.length+1,s=new z(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ie.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new tt(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Qn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Qn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return ie.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Pr(t,n));let i=this.hr.get(t);void 0===i&&(i=Xn(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class fo{constructor(){this.Pr=new it(po.Ir),this.Tr=new it(po.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new po(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new po(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new z(new U([])),n=new po(t,e),r=new po(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new z(new U([])),n=new po(t,e),r=new po(t,e+1);let i=Xn();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new po(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class po{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return z.comparator(e.key,t.key)||M(e.pr,t.pr)}static Er(e,t){return M(e.pr,t.pr)||z.comparator(e.key,t.key)}}class go{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new it(po.Ir)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Lr(i,t,n,r);this.mutationQueue.push(s);for(const t of r)this.wr=this.wr.add(new po(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,t){return ie.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return ie.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new po(t,0),r=new po(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),ie.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new it(M);return t.forEach((e=>{const t=new po(e,0),r=new po(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),ie.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;z.isDocumentKey(i)||(i=i.child(""));const s=new po(new z(i),0);let o=new it(M);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),ie.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){w(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ie.forEach(t.mutations,(r=>{const i=new po(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new po(t,0),r=this.wr.firstAfterOrEqual(n);return ie.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mo{constructor(e){this.vr=e,this.docs=new tt(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ie.resolve(n?n.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let n=zn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():zt.newInvalidDocument(e))})),ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=zn();const s=t.path,o=new z(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ee(X(o),n)<=0||(r.has(o.key)||Fn(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ie.resolve(i)}getAllFromCollectionGroup(e,t,n,r){v()}Fr(e,t){return ie.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new yo(this)}getSize(e){return ie.resolve(this.size)}}class yo extends Zs{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),ie.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class vo{constructor(e){this.persistence=e,this.Mr=new qn((e=>yn(e)),vn),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fo,this.targetCount=0,this.Lr=qs.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ie.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new qs(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.qn(t),ie.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),ie.waitFor(i).next((()=>r))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ie.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ie.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ie.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ie.resolve(n)}containsKey(e,t){return ie.resolve(this.Nr.containsKey(t))}}class wo{constructor(e,t){this.Br={},this.overlays={},this.kr=new ye(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vo(this),this.indexManager=new Es,this.remoteDocumentCache=function(e){return new mo(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Ui(t),this.$r=new lo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ho,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new go(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const r=new bo(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return ie.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class bo extends ne{constructor(e){super(),this.currentSequenceNumber=e}}class _o{constructor(e){this.persistence=e,this.zr=new fo,this.jr=null}static Hr(e){return new _o(e)}get Jr(){if(this.jr)return this.jr;throw v()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ie.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ie.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Jr,(n=>{const r=z.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,V.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ie.or([()=>ie.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Io{constructor(e,t){this.persistence=e,this.Zr=new qn((e=>_e(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Js(this,t)}static Hr(e,t){return new Io(e,t)}Ur(){}Wr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Hn(e){const t=this.Zn(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}Jn(e,t){return ie.forEach(this.Zr,((n,r)=>this.er(e,n,r).next((e=>e?ie.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Fr(e,(r=>this.er(e,r,t).next((e=>{e||(n++,i.removeEntry(r,V.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Zr.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.Zr.set(t,e.currentSequenceNumber),ie.resolve()}Kr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dt(e.data.value)),t}er(e,t,n){return ie.or([()=>this.persistence.Gr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Zr.get(t);return ie.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Eo{constructor(e){this.serializer=e}O(e,t,n,r){const i=new se("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Te,{unique:!0}),e.createObjectStore("documentMutations")}(e),So(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=ie.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),So(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:V.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Te,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return ie.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ue});t.createIndex("collectionPathOverlayIndex",qe,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",je,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ae});t.createIndex("documentKeyIndex",Ne),t.createIndex("collectionGroupIndex",ke)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Re}).createIndex("sequenceNumberIndex",Fe,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ve}).createIndex("documentKeyIndex",Be,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}ei(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Ps(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>ie.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>ie.forEach(n,(n=>{w(n.userId===t.userId);const r=Ki(this.serializer,n);return Ms(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new U(n),o=function(e){return[0,_e(e)]}(s);r.push(t.get(o).next((n=>n?ie.resolve():(n=>t.put({targetId:0,path:_e(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>ie.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Pe});const n=t.store("collectionParents"),r=new Ss,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:_e(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new U(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},(([e,t,n],r)=>{const s=Se(t);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.J(((e,n)=>{const r=$i(n),i=Qi(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new z(U.fromString(e.document.name).popFirst(5)):e.noDocument?z.fromSegments(e.noDocument.path):e.unknownDocument?z.fromSegments(e.unknownDocument.path):v()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>ie.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=to(this.serializer),i=new wo(_o.Hr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Xn();Ki(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),ie.forEach(n,((e,n)=>{const s=new l(n),o=ts.lt(this.serializer,s),a=i.getIndexManager(s),c=Rs.lt(s,this.serializer,a,i.referenceDelegate);return new uo(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new We(t,ye.oe),e).next()}))}))}}function So(e){e.createObjectStore("targetDocuments",{keyPath:Le}).createIndex("documentTargetsIndex",Me,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oe,{unique:!0}),e.createObjectStore("targetGlobal")}const To="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xo{constructor(e,t,n,r,i,s,o,a,c,u,l=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=c,this.ai=u,this.ui=l,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!xo.D())throw new I(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ys(this,r),this.Ti=t+"main",this.serializer=new Ui(a),this.Ei=new oe(this.Ti,this.ui,new Eo(this.serializer)),this.Qr=new js(this.referenceDelegate,this.serializer),this.remoteDocumentCache=to(this.serializer),this.$r=new Xi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new I(_.FAILED_PRECONDITION,To);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new ye(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Do(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(le(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Co(e).get("owner").next((e=>ie.resolve(this.Si(e))))}bi(e){return Do(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Je(e,"clientMetadata");return t.U().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return ie.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ie.resolve(!0):Co(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new I(_.FAILED_PRECONDITION,To);return!1}}return!(!this.networkEnabled||!this.inForeground)||Do(e).U().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&p("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new We(e,ye.oe);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Do(e).U().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Rs.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xs(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ts.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){p("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?He:15===e?Qe:14===e?$e:13===e?Ke:12===e?Ge:11===e?ze:void v()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new We(r,this.kr?this.kr.next():ye.oe),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw g(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new I(_.FAILED_PRECONDITION,te);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Co(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new I(_.FAILED_PRECONDITION,To)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Co(e).put("owner",t)}static D(){return oe.D()}yi(e){const t=Co(e);return t.get("owner").next((e=>this.Si(e)?(p("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t||e>n&&(g(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;o.isSafari()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return p("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return g("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){g("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Co(e){return Je(e,"owner")}function Do(e){return Je(e,"clientMetadata")}function Ao(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class No{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Xn(),r=Xn();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new No(e,t.fromCache,n,r)}}class ko{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Oo{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=o.isSafari()?8:ae(o.getUA())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ko;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(f()<=s.LogLevel.DEBUG&&p("QueryEngine","SDK will not create cache indexes for query:",Rn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ie.resolve()):(f()<=s.LogLevel.DEBUG&&p("QueryEngine","Query:",Rn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(f()<=s.LogLevel.DEBUG&&p("QueryEngine","The SDK decides to create cache indexes for query:",Rn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(t))):ie.resolve())}ji(e,t){if(xn(t))return ie.resolve(null);let n=An(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ln(t,null,"F"),n=An(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Xn(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Ln(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return xn(t)||r.isEqual(V.min())?ie.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?ie.resolve(null):(f()<=s.LogLevel.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rn(t)),this.es(e,o,t,Y(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new it(Bn(e));return t.forEach(((t,r)=>{Fn(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return f()<=s.LogLevel.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",Rn(t)),this.zi.getDocumentsMatchingQuery(e,t,Z.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Lo{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new tt(M),this.rs=new qn((e=>yn(e)),vn),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uo(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Mo(e,t,n,r){return new Lo(e,t,n,r)}async function Po(e,t){const n=b(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Xn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ro(e){const t=b(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Fo(e,t,n){let r=Xn(),i=Xn();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=zn();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(V.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Vo(e,t){const n=b(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bo(e,t){const n=b(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,ie.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Bi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Uo(e,t,n){const r=b(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!le(e))throw e;p("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function qo(e,t,n){const r=b(e);let i=V.min(),s=Xn();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=b(e),i=r.rs.get(n);return void 0!==i?ie.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,An(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:V.min(),n?s:Xn()))).next((e=>(Go(r,Vn(t),e),{documents:e,hs:s})))))}function jo(e,t){const n=b(e),r=b(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function zo(e,t){const n=b(e),r=n.ss.get(t)||V.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Y(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Go(n,t,e),e)))}function Go(e,t,n){let r=e.ss.get(t)||V.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Ko(e,t,n=Xn()){const r=await Bo(e,An(Hi(t.bundledQuery))),i=b(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=di(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(ut.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function $o(e,t){return`firestore_clients_${e}_${t}`}function Qo(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Ho(e,t){return`firestore_targets_${e}_${t}`}class Wo{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new I(r.error.code,r.error.message))),s?new Wo(e,t,r.state,i):(g("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jo{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new I(n.error.code,n.error.message))),i?new Jo(e,n.state,r):(g("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yo{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=er();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=be(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Yo(e,i):(g("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xo{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xo(t.clientId,t.onlineState):(g("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zo{constructor(){this.activeTargetIds=er()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ea{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new tt(M),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=$o(this.persistenceKey,this.Vs),this.Ss=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Zo),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Fs=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const t of e){if(t===this.Vs)continue;const e=this.getItem($o(this.persistenceKey,t));if(e){const n=Yo.Es(t,e);n&&(this.ps=this.ps.insert(n.clientId,n))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const e of this.ys)this.gs(e);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Ho(this.persistenceKey,e));if(n){const r=Jo.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ho(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t}setItem(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=ye.oe;if(null!=e)try{const n=JSON.parse(e);w("number"==typeof n),t=n}catch(e){g("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ye.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new Wo(this.currentUser,e,t,n),i=Qo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=Qo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Ho(this.persistenceKey,e),i=new Jo(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Yo.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wo.Es(new l(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Jo.Es(r,t)}xs(e){return Xo.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);p("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=er();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class ta{constructor(){this.no=new Zo,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class na{io(e){}shutdown(){}}class ra{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ia=null;function sa(){return null===ia?ia=268435456+Math.round(2147483648*Math.random()):ia++,"0x"+ia.toString(16)}const oa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aa{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const ca="WebChannelConnection";class ua extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So=`projects/${n}/databases/${r}`,this.bo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Do(){return!1}Co(e,t,n,r,i){const s=sa(),o=this.vo(e,t.toUriEncodedString());p("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,o,a,n).then((t=>(p("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw m("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=oa[e];return`${this.wo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=sa();return new Promise(((s,o)=>{const a=new c.XhrIo;a.setWithCredentials(!0),a.listenOnce(c.EventType.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case c.ErrorCode.NO_ERROR:const t=a.getResponseJson();p(ca,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case c.ErrorCode.TIMEOUT:p(ca,`RPC '${e}' ${i} timed out`),o(new I(_.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:const n=a.getStatus();if(p(ca,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(t)>=0?t:_.UNKNOWN}(t.status);o(new I(e,t.message))}else o(new I(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new I(_.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p(ca,`RPC '${e}' ${i} completed.`)}}));const u=JSON.stringify(r);p(ca,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",u,n,15)}))}Oo(e,t,n){const r=sa(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=c.createWebChannelTransport(),o=c.getStatEventTarget(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.xmlHttpFactory=new c.FetchXmlHttpFactory({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");p(ca,`Creating RPC '${e}' stream ${r}: ${l}`,a);const h=s.createWebChannel(l,a);let d=!1,f=!1;const g=new aa({lo:t=>{f?p(ca,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(p(ca,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),p(ca,`RPC '${e}' stream ${r} sending:`,t),h.send(t))},ho:()=>h.close()}),y=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return y(h,c.WebChannel.EventType.OPEN,(()=>{f||(p(ca,`RPC '${e}' stream ${r} transport opened.`),g.mo())})),y(h,c.WebChannel.EventType.CLOSE,(()=>{f||(f=!0,p(ca,`RPC '${e}' stream ${r} transport closed`),g.po())})),y(h,c.WebChannel.EventType.ERROR,(t=>{f||(f=!0,m(ca,`RPC '${e}' stream ${r} transport errored:`,t),g.po(new I(_.UNAVAILABLE,"The operation could not be completed")))})),y(h,c.WebChannel.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];w(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){p(ca,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Vr[e];if(void 0!==t)return qr(t)}(t),i=o.message;void 0===n&&(n=_.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),f=!0,g.po(new I(n,i)),h.close()}else p(ca,`RPC '${e}' stream ${r} received:`,i),g.yo(i)}})),y(o,c.Event.STAT_EVENT,(t=>{t.stat===c.Stat.PROXY?p(ca,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===c.Stat.NOPROXY&&p(ca,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{g.fo()}),0),g}}function la(){return"undefined"!=typeof window?window:null}function ha(){return"undefined"!=typeof document?document:null}function da(e){return new ai(e,!0)}class fa{constructor(e,t,n=1e3,r=1.5,i=6e4){this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&p("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class pa{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new fa(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===_.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.jo===t&&this.u_(e,n)}),(t=>{e((()=>{const e=new I(_.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return p("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ga extends pa{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(w(void 0===t||"string"==typeof t),ut.fromBase64String(t||"")):(w(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ut.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?_.UNKNOWN:qr(e.code);return new I(t,e.message||"")}(o);n=new Zr(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=yi(e,r.document.name),s=di(r.document.updateTime),o=r.document.createTime?di(r.document.createTime):V.min(),a=new qt({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Yr(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=yi(e,r.document),s=r.readTime?di(r.readTime):V.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yr([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=yi(e,r.document),s=r.removedTargetIds||[];n=new Yr([],s,i,null)}else{if(!("filter"in t))return v();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Fr(r,i),o=e.targetId;n=new Xr(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return V.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?V.min():t.readTime?di(t.readTime):V.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=bi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wn(r)?{documents:xi(e,r)}:{query:Ci(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=li(e,t.resumeToken);const r=ci(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(V.min())>0){n.readTime=ui(e,t.snapshotVersion.toTimestamp());const r=ci(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return v()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=bi(this.serializer),t.removeTarget=e,this.i_(t)}}class ma extends pa{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(w(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(w(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?di(e.updateTime):di(t);return n.isEqual(V.min())&&(n=di(t)),new yr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=di(e.commitTime);return this.listener.A_(n,t)}return w(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=bi(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Si(this.serializer,e)))};this.i_(t)}}class ya extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new I(_.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Co(e,pi(t,n),r,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(_.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.xo(e,pi(t,n),r,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(_.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class va{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(g(t),this.y_=!1):p("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class wa{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Da(this)&&(p("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=b(e);t.M_.add(4),await _a(t),t.N_.set("Unknown"),t.M_.delete(4),await ba(t)}(this))}))})),this.N_=new va(n,r)}}async function ba(e){if(Da(e))for(const t of e.x_)await t(!0)}async function _a(e){for(const t of e.x_)await t(!1)}function Ia(e,t){const n=b(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Ca(n)?xa(n):Qa(n).Xo()&&Sa(n,t))}function Ea(e,t){const n=b(e),r=Qa(n);n.F_.delete(t),r.Xo()&&Ta(n,t),0===n.F_.size&&(r.Xo()?r.n_():Da(n)&&n.N_.set("Unknown"))}function Sa(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(V.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qa(e).P_(t)}function Ta(e,t){e.L_.xe(t),Qa(e).I_(t)}function xa(e){e.L_=new ti({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Qa(e).start(),e.N_.w_()}function Ca(e){return Da(e)&&!Qa(e).Zo()&&e.F_.size>0}function Da(e){return 0===b(e).M_.size}function Aa(e){e.L_=void 0}async function Na(e){e.N_.set("Online")}async function ka(e){e.F_.forEach(((t,n)=>{Sa(e,t)}))}async function Oa(e,t){Aa(e),Ca(e)?(e.N_.D_(t),xa(e)):e.N_.set("Unknown")}async function La(e,t,n){if(e.N_.set("Online"),t instanceof Zr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ma(e,n)}else if(t instanceof Yr?e.L_.Ke(t):t instanceof Xr?e.L_.He(t):e.L_.We(t),!n.isEqual(V.min()))try{const t=await Ro(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(ut.EMPTY_BYTE_STRING,r.snapshotVersion)),Ta(e,t);const i=new Bi(r.target,t,n,r.sequenceNumber);Sa(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){p("RemoteStore","Failed to raise snapshot:",t),await Ma(e,t)}}async function Ma(e,t,n){if(!le(t))throw t;e.M_.add(1),await _a(e),e.N_.set("Offline"),n||(n=()=>Ro(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{p("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await ba(e)}))}function Pa(e,t){return t().catch((n=>Ma(e,n,t)))}async function Ra(e){const t=b(e),n=Ha(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Fa(t);)try{const e=await Vo(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,Va(t,e)}catch(e){await Ma(t,e)}Ba(t)&&Ua(t)}function Fa(e){return Da(e)&&e.v_.length<10}function Va(e,t){e.v_.push(t);const n=Ha(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Ba(e){return Da(e)&&!Ha(e).Zo()&&e.v_.length>0}function Ua(e){Ha(e).start()}async function qa(e){Ha(e).V_()}async function ja(e){const t=Ha(e);for(const n of e.v_)t.d_(n.mutations)}async function za(e,t,n){const r=e.v_.shift(),i=Mr.from(r,t,n);await Pa(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ra(e)}async function Ga(e,t){t&&Ha(e).E_&&await async function(e,t){if(function(e){return Ur(e)&&e!==_.ABORTED}(t.code)){const n=e.v_.shift();Ha(e).t_(),await Pa(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ra(e)}}(e,t),Ba(e)&&Ua(e)}async function Ka(e,t){const n=b(e);n.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials");const r=Da(n);n.M_.add(3),await _a(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await ba(n)}async function $a(e,t){const n=b(e);t?(n.M_.delete(2),await ba(n)):t||(n.M_.add(2),await _a(n),n.N_.set("Unknown"))}function Qa(e){return e.B_||(e.B_=function(e,t,n){const r=b(e);return r.f_(),new ga(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Na.bind(null,e),To:ka.bind(null,e),Ao:Oa.bind(null,e),h_:La.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Ca(e)?xa(e):e.N_.set("Unknown")):(await e.B_.stop(),Aa(e))}))),e.B_}function Ha(e){return e.k_||(e.k_=function(e,t,n){const r=b(e);return r.f_(),new ma(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:qa.bind(null,e),Ao:Ga.bind(null,e),R_:ja.bind(null,e),A_:za.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await Ra(e)):(await e.k_.stop(),e.v_.length>0&&(p("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))}))),e.k_}class Wa{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new E,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Wa(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new I(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ja(e,t){if(g("AsyncQueue",`${t}: ${e}`),le(e))return new I(_.UNAVAILABLE,`${t}: ${e}`);throw e}class Ya{constructor(e){this.comparator=e?(t,n)=>e(t,n)||z.comparator(t.key,n.key):(e,t)=>z.comparator(e.key,t.key),this.keyedMap=Kn(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Ya(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ya))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ya;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xa{constructor(){this.q_=new tt(z.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):v():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Za{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Za(e,t,Ya.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class ec{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class tc{constructor(){this.queries=new qn((e=>Pn(e)),Mn),this.onlineState="Unknown",this.z_=new Set}}async function nc(e,t){const n=b(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new ec,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ja(e,`Initialization of query '${Rn(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&oc(n)}async function rc(e,t){const n=b(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ic(e,t){const n=b(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.U_)t.H_(e)&&(r=!0);i.K_=e}}r&&oc(n)}function sc(e,t,n){const r=b(e),i=r.queries.get(t);if(i)for(const e of i.U_)e.onError(n);r.queries.delete(t)}function oc(e){e.z_.forEach((e=>{e.next()}))}var ac,cc;(cc=ac||(ac={})).J_="default",cc.Cache="cache";class uc{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Za(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ac.Cache}}class lc{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class hc{constructor(e){this.serializer=e}Ps(e){return yi(this.serializer,e)}Is(e){return e.metadata.exists?Ei(this.serializer,e.document,!1):zt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return di(e)}}class dc{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fc(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=U.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new hc(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Xn()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=b(e);let s=Xn(),o=zn();for(const e of n){const n=t.Ps(e.metadata.name);e.document&&(s=s.add(n));const r=t.Is(e);r.setReadTime(t.Ts(e.metadata.readTime)),o=o.insert(n,r)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await Bo(i,function(e){return An(Tn(U.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Fo(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new hc(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const e of this.queries)await Ko(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function fc(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class pc{constructor(e){this.key=e}}class gc{constructor(e){this.key=e}}class mc{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Xn(),this.mutatedKeys=Xn(),this.Ia=Bn(e),this.Ta=new Ya(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new Xa,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=Fn(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ra(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ia(l,a)>0||c&&this.Ia(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,c=a!==this.ha;return this.ha=a,0!==s.length||c?{snapshot:new Za(this.query,e.Ta,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Xa,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Xn(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new gc(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new pc(n))})),t}pa(e){this.la=e.hs,this.Pa=Xn();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Za.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class yc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class vc{constructor(e){this.key=e,this.wa=!1}}class wc{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new qn((e=>Pn(e)),Mn),this.Da=new Map,this.Ca=new Set,this.va=new tt(z.comparator),this.Fa=new Map,this.Ma=new fo,this.xa={},this.Oa=new Map,this.Na=qs.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function bc(e,t,n=!0){const r=Wc(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Ic(r,t,n,!0),i}async function _c(e,t){const n=Wc(e);await Ic(n,t,!0,!1)}async function Ic(e,t,n,r){const i=await Bo(e.localStore,An(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Ec(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Ia(e.remoteStore,i),a}async function Ec(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await qo(e.localStore,t.query,!1).then((({documents:e})=>t.view.da(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Pc(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await qo(e.localStore,t,!0),o=new mc(t,s.hs),a=o.da(s.documents),c=Jr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,c);Pc(e,n,u.fa);const l=new yc(t,n,o);return e.ba.set(t,l),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),u.snapshot}async function Sc(e,t,n){const r=b(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!Mn(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uo(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ea(r.remoteStore,i.targetId),Lc(r,i.targetId)})).catch(re)):(Lc(r,i.targetId),await Uo(r.localStore,i.targetId,!0))}async function Tc(e,t){const n=b(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ea(n.remoteStore,r.targetId))}async function xc(e,t){const n=b(e);try{const e=await function(e,t){const n=b(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(ut.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,s)&&o.push(n.Qr.updateTargetData(e,u))}));let a=zn(),c=Xn();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Fo(e,s,t.documentUpdates).next((e=>{a=e.cs,c=e.ls}))),!r.isEqual(V.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return ie.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(w(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?w(r.wa):e.removedDocuments.size>0&&(w(r.wa),r.wa=!1))})),await Vc(n,e,t)}catch(e){await re(e)}}function Cc(e,t,n){const r=b(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=b(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.U_)e.j_(t)&&(r=!0)})),r&&oc(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dc(e,t,n){const r=b(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new tt(z.comparator);e=e.insert(s,zt.newNoDocument(s,V.min()));const n=Xn().add(s),i=new Wr(V.min(),new Map,new tt(M),e,n);await xc(r,i),r.va=r.va.remove(s),r.Fa.delete(t),Fc(r)}else await Uo(r.localStore,t,!1).then((()=>Lc(r,t,n))).catch(re)}async function Ac(e,t){const n=b(e),r=t.batch.batchId;try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ie.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);w(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Oc(n,r,null),kc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,e)}catch(e){await re(e)}}async function Nc(e,t,n){const r=b(e);try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(w(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Oc(r,t,n),kc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vc(r,e)}catch(n){await re(n)}}function kc(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Oc(e,t,n){const r=b(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Lc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Mc(e,t)}))}function Mc(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Ea(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Fc(e))}function Pc(e,t,n){for(const r of n)r instanceof pc?(e.Ma.addReference(r.key,t),Rc(e,r)):r instanceof gc?(p("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Mc(e,r.key)):v()}function Rc(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(p("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Fc(e))}function Fc(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new z(U.fromString(t)),r=e.Na.next();e.Fa.set(r,new vc(n)),e.va=e.va.insert(n,r),Ia(e.remoteStore,new Bi(An(Tn(n.path)),r,"TargetPurposeLimboResolution",ye.oe))}}async function Vc(e,t,n){const r=b(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=No.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(e,t){const n=b(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ie.forEach(t,(t=>ie.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ie.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!le(e))throw e;p("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ns.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(t,i)}}}(r.localStore,s))}async function Bc(e,t){const n=b(e);if(!n.currentUser.isEqual(t)){p("SyncEngine","User change. New user:",t.toKey());const e=await Po(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new I(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Oa.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vc(n,e.us)}}function Uc(e,t){const n=b(e),r=n.Fa.get(t);if(r&&r.wa)return Xn().add(r.key);{let e=Xn();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function qc(e,t){const n=b(e),r=await qo(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&Pc(n,t.targetId,i.fa),i}async function jc(e,t){const n=b(e);return zo(n.localStore,t).then((e=>Vc(n,e)))}async function zc(e,t,n,r){const i=b(e),s=await function(e,t){const n=b(e),r=b(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ie.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Ra(i.remoteStore):"acknowledged"===n||"rejected"===n?(Oc(i,t,r||null),kc(i,t),function(e,t){b(b(e).mutationQueue).Mn(t)}(i.localStore,t)):v(),await Vc(i,s)):p("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Gc(e,t,n){const r=b(e),i=[],s=[];for(const e of t){let t;const n=r.Da.get(e);if(n&&0!==n.length){t=await Bo(r.localStore,An(n[0]));for(const e of n){const t=r.ba.get(e),n=await qc(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await jo(r.localStore,e);t=await Bo(r.localStore,n),await Ec(r,Kc(n),e,!1,t.resumeToken)}i.push(t)}return r.Sa.h_(s),i}function Kc(e){return Sn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $c(e){return function(e){return b(b(e).persistence).Bi()}(b(e).localStore)}async function Qc(e,t,n,r){const i=b(e);if(i.La)return void p("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await zo(i.localStore,Vn(s[0])),r=Wr.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ut.EMPTY_BYTE_STRING);await Vc(i,e,r);break}case"rejected":await Uo(i.localStore,t,!0),Lc(i,t,r);break;default:v()}}async function Hc(e,t,n){const r=Wc(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){p("SyncEngine","Adding an already active target "+e);continue}const t=await jo(r.localStore,e),n=await Bo(r.localStore,t);await Ec(r,Kc(t),n.targetId,!1,n.resumeToken),Ia(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await Uo(r.localStore,e,!1).then((()=>{Ea(r.remoteStore,e),Lc(r,e)})).catch(re)}}function Wc(e){const t=b(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dc.bind(null,t),t.Sa.h_=ic.bind(null,t.eventManager),t.Sa.ka=sc.bind(null,t.eventManager),t}function Jc(e){const t=b(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ac.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nc.bind(null,t),t}class Yc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=da(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Mo(this.persistence,new Oo,e.initialUser,this.serializer)}createPersistence(e){return new wo(_o.Hr,this.serializer)}createSharedClientState(e){return new ta}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Xc extends Yc{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){w(this.persistence.referenceDelegate instanceof Io);const n=this.persistence.referenceDelegate.garbageCollector;return new Hs(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new wo((e=>Io.Hr(e,t)),this.serializer)}}class Zc extends Yc{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await Jc(this.Qa.syncEngine),await Ra(this.Qa.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Mo(this.persistence,new Oo,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Hs(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new me(t,this.persistence);return new ge(e.asyncQueue,n)}createPersistence(e){const t=Ao(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new xo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,la(),ha(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ta}}class eu extends Zc{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof ea&&(this.sharedClientState.syncEngine={Zs:zc.bind(null,t),Xs:Qc.bind(null,t),eo:Hc.bind(null,t),Bi:$c.bind(null,t),Ys:jc.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=b(e);if(Wc(n),Jc(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Gc(n,e.toArray());n.La=!0,await $a(n.remoteStore,!0);for(const e of t)Ia(n.remoteStore,e)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Lc(n,i),Uo(n.localStore,i,!0)))),Ea(n.remoteStore,i)})),await t,await Gc(n,e),function(e){const t=b(e);t.Fa.forEach(((e,n)=>{Ea(t.remoteStore,n)})),t.Ma.mr(),t.Fa=new Map,t.va=new tt(z.comparator)}(n),n.La=!1,await $a(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=la();if(!ea.D(t))throw new I(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ao(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ea(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class tu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Cc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bc.bind(null,this.syncEngine),await $a(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tc}createDatastore(e){const t=da(e.databaseInfo.databaseId),n=function(e){return new ua(e)}(e.databaseInfo);return function(e,t,n,r){return new ya(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new wa(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Cc(this.syncEngine,e,0)),ra.D()?new ra:new na)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new wc(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=b(e);p("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await _a(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function nu(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class ru{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):g("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class iu{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new E,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.ia)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja(`length string (${t}) is not valid number`);const r=await this.Ha(n);return new lc(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class su{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new I(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=b(e),r={documents:t.map((e=>mi(n.serializer,e)))},i=await n.xo("BatchGetDocuments",n.serializer.databaseId,U.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){w(!!t.found),t.found.name,t.found.updateTime;const n=yi(e,t.found.name),r=di(t.found.updateTime),i=t.found.createTime?di(t.found.createTime):V.min(),s=new qt({mapValue:{fields:t.found.fields}});return zt.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){w(!!t.missing),w(!!t.readTime);const n=yi(e,t.missing),r=di(t.readTime);return zt.newNoDocument(n,r)}(e,t):v()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());w(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new kr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=z.fromPath(t);this.mutations.push(new Or(n,this.precondition(n)))})),await async function(e,t){const n=b(e),r={writes:t.map((e=>Si(n.serializer,e)))};await n.Co("Commit",n.serializer.databaseId,U.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw v();t=V.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new I(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(V.min())?vr.exists(!1):vr.updateTime(t):vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(V.min()))throw new I(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ou{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Yo=new fa(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o((async()=>{const e=new su(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!ve(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ur(t)}return!1}}class au{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=l.UNAUTHENTICATED,this.clientId=L.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{p("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(p("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new I(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new E;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ja(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function cu(e,t){e.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Po(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function uu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hu(e);p("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ka(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ka(t.remoteStore,n))),e._onlineComponents=t}function lu(e){return"FirebaseError"===e.name?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function hu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){p("FirestoreClient","Using user provided OfflineComponentProvider");try{await cu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!lu(n))throw n;m("Error using user provided cache. Falling back to memory cache: "+n),await cu(e,new Yc)}}else p("FirestoreClient","Using default OfflineComponentProvider"),await cu(e,new Yc);return e._offlineComponents}async function du(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(p("FirestoreClient","Using user provided OnlineComponentProvider"),await uu(e,e._uninitializedComponentsProvider._online)):(p("FirestoreClient","Using default OnlineComponentProvider"),await uu(e,new tu))),e._onlineComponents}function fu(e){return hu(e).then((e=>e.persistence))}function pu(e){return hu(e).then((e=>e.localStore))}function gu(e){return du(e).then((e=>e.remoteStore))}function mu(e){return du(e).then((e=>e.syncEngine))}function yu(e){return du(e).then((e=>e.datastore))}async function vu(e){const t=await du(e),n=t.eventManager;return n.onListen=bc.bind(null,t.syncEngine),n.onUnlisten=Sc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_c.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Tc.bind(null,t.syncEngine),n}function wu(e,t,n={}){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ru({next:s=>{t.enqueueAndForget((()=>rc(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new I(_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new I(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new uc(Tn(n.path),s,{includeMetadataChanges:!0,ra:!0});return nc(e,o)}(await vu(e),e.asyncQueue,t,n,r))),r.promise}function bu(e,t,n={}){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ru({next:n=>{t.enqueueAndForget((()=>rc(e,o))),n.fromCache&&"server"===r.source?i.reject(new I(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new uc(n,s,{includeMetadataChanges:!0,ra:!0});return nc(e,o)}(await vu(e),e.asyncQueue,t,n,r))),r.promise}function _u(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Iu=new Map;function Eu(e,t,n){if(!n)throw new I(_.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Su(e,t,n,r){if(!0===t&&!0===r)throw new I(_.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Tu(e){if(!z.isDocumentKey(e))throw new I(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xu(e){if(z.isDocumentKey(e))throw new I(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Cu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":v()}function Du(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new I(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cu(e);throw new I(_.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Au(e,t){if(t<=0)throw new I(_.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Nu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new I(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new I(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Su("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_u(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ku{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new I(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new I(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new T;switch(e.type){case"firstParty":return new A(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new I(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iu.get(e);t&&(p("ComponentProvider","Removing Datastore"),Iu.delete(e),t.terminate())}(this),Promise.resolve()}}function Ou(e,t,n,r={}){var i;const s=(e=Du(e,ku))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&m("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=l.MOCK_USER;else{t=o.createMockUserToken(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new I(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new l(s)}e._authCredentials=new x(new S(t,n))}}class Lu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class Mu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mu(this.firestore,e,this._key)}}class Pu extends Lu{constructor(e,t,n){super(e,t,Tn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mu(this.firestore,null,new z(e))}withConverter(e){return new Pu(this.firestore,e,this._path)}}function Ru(e,t,...n){if(e=o.getModularInstance(e),1===arguments.length&&(t=L.newId()),Eu("doc","path",t),e instanceof ku){const r=U.fromString(t,...n);return Tu(r),new Mu(e,null,new z(r))}{if(!(e instanceof Mu||e instanceof Pu))throw new I(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(U.fromString(t,...n));return Tu(r),new Mu(e.firestore,e instanceof Pu?e.converter:null,new z(r))}}function Fu(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),e instanceof Lu&&t instanceof Lu&&e.firestore===t.firestore&&Mn(e._query,t._query)&&e.converter===t.converter}class Vu{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new fa(this,"async_queue_retry"),this.hu=()=>{const e=ha();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=ha();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=ha();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new E;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!le(e))throw e;p("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw g("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=Wa.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&v()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Bu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Uu{constructor(){this._progressObserver={},this._taskCompletionResolver=new E,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qu extends ku{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zu(this),this._firestoreClient.terminate()}}function ju(e){return e._firestoreClient||zu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zu(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new yt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_u(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new au(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Gu(e,t,n){const r=new E;return e.asyncQueue.enqueue((async()=>{try{await cu(e,n),await uu(e,t),r.resolve()}catch(e){const t=e;if(!lu(t))throw t;m("Error enabling indexeddb cache. Falling back to memory cache: "+t),r.reject(t)}})).then((()=>r.promise))}function Ku(e){if(e._initialized||e._terminated)throw new I(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Qu{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hu(ut.fromBase64String(e))}catch(e){throw new I(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hu(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new I(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new j(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ju{constructor(e){this._methodName=e}}class Yu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new I(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new I(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return M(this._lat,e._lat)||M(this._long,e._long)}}const Xu=/^__.*__$/;class Zu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms):new xr(e,this.data,t,this.fieldTransforms)}}class el{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}class nl{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new nl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Il(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(tl(this.fu)&&Xu.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class rl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||da(e)}Fu(e,t,n,r=!1){return new nl({fu:e,methodName:t,vu:n,path:j.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function il(e){const t=e._freezeSettings(),n=da(e._databaseId);return new rl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sl(e,t,n,r,i,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);vl("Data must be an object, but it was:",o,r);const a=ml(r,o);let c,u;if(s.merge)c=new at(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=wl(t,r,n);if(!o.contains(i))throw new I(_.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);El(e,i)||e.push(i)}c=new at(e),u=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=o.fieldTransforms;return new Zu(new qt(a),c,u)}class ol extends Ju{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ol}}function al(e,t,n){return new nl({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cl extends Ju{_toFieldTransform(e){return new mr(e.path,new cr)}isEqual(e){return e instanceof cl}}class ul extends Ju{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=al(this,e,!0),n=this.Mu.map((e=>gl(e,t))),r=new ur(n);return new mr(e.path,r)}isEqual(e){return e instanceof ul&&o.deepEqual(this.Mu,e.Mu)}}class ll extends Ju{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=al(this,e,!0),n=this.Mu.map((e=>gl(e,t))),r=new hr(n);return new mr(e.path,r)}isEqual(e){return e instanceof ll&&o.deepEqual(this.Mu,e.Mu)}}class hl extends Ju{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new fr(e.serializer,rr(e.serializer,this.xu));return new mr(e.path,t)}isEqual(e){return e instanceof hl&&this.xu===e.xu}}function dl(e,t,n,r){const i=e.Fu(1,t,n);vl("Data must be an object, but it was:",i,r);const s=[],a=qt.empty();Xe(r,((e,r)=>{const c=_l(t,e,n);r=o.getModularInstance(r);const u=i.Su(c);if(r instanceof ol)s.push(c);else{const e=gl(r,u);null!=e&&(s.push(c),a.set(c,e))}}));const c=new at(s);return new el(a,c,i.fieldTransforms)}function fl(e,t,n,r,i,s){const a=e.Fu(1,t,n),c=[wl(t,r,n)],u=[i];if(s.length%2!=0)throw new I(_.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)c.push(wl(t,s[e])),u.push(s[e+1]);const l=[],h=qt.empty();for(let e=c.length-1;e>=0;--e)if(!El(l,c[e])){const t=c[e];let n=u[e];n=o.getModularInstance(n);const r=a.Su(t);if(n instanceof ol)l.push(t);else{const e=gl(n,r);null!=e&&(l.push(t),h.set(t,e))}}const d=new at(l);return new el(h,d,a.fieldTransforms)}function pl(e,t,n,r=!1){return gl(n,e.Fu(r?4:3,t))}function gl(e,t){if(yl(e=o.getModularInstance(e)))return vl("Unsupported field value:",t,e),ml(e,t);if(e instanceof Ju)return function(e,t){if(!tl(t.fu))throw t.Du(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Du(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gl(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=o.getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=F.fromDate(e);return{timestampValue:ui(t.serializer,n)}}if(e instanceof F){const n=new F(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ui(t.serializer,n)}}if(e instanceof Yu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hu)return{bytesValue:li(t.serializer,e._byteString)};if(e instanceof Mu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:fi(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du(`Unsupported field value: ${Cu(e)}`)}(e,t)}function ml(e,t){const n={};return et(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xe(e,((e,r)=>{const i=gl(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof F||e instanceof Yu||e instanceof Hu||e instanceof Mu||e instanceof Ju)}function vl(e,t,n){if(!yl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Cu(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function wl(e,t,n){if((t=o.getModularInstance(t))instanceof Wu)return t._internalPath;if("string"==typeof t)return _l(e,t);throw Il("Field path arguments must be of type string or ",e,!1,void 0,n)}const bl=new RegExp("[~\\*/\\[\\]]");function _l(e,t,n){if(t.search(bl)>=0)throw Il(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wu(...t.split("."))._internalPath}catch(r){throw Il(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Il(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new I(_.INVALID_ARGUMENT,a+e+c)}function El(e,t){return e.some((e=>e.isEqual(t)))}class Sl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tl extends Sl{data(){return super.data()}}function xl(e,t){return"string"==typeof t?_l(e,t):t instanceof Wu?t._internalPath:t._delegate._internalPath}function Cl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new I(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dl{}class Al extends Dl{}class Nl extends Al{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Nl(e,t,n)}_apply(e){const t=this._parse(e);return Bl(e._query,t),new Lu(e.firestore,e.converter,On(e._query,t))}_parse(e){const t=il(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new I(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Vl(o,s);const t=[];for(const n of o)t.push(Fl(r,e,n));a={arrayValue:{values:t}}}else a=Fl(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Vl(o,s),a=pl(n,"where",o,"in"===s||"not-in"===s);return Jt.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class kl extends Dl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kl(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Yt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)Bl(n,e),n=On(n,e)}(e._query,t),new Lu(e.firestore,e.converter,On(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ol extends Al{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ol(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new I(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new I(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qt(t,n)}(e._query,this._field,this._direction);return new Lu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new En(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Ll extends Al{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ll(e,t,n)}_apply(e){return new Lu(e.firestore,e.converter,Ln(e._query,this._limit,this._limitType))}}class Ml extends Al{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Ml(e,t,n)}_apply(e){const t=Rl(e,this.type,this._docOrFields,this._inclusive);return new Lu(e.firestore,e.converter,function(e,t){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Pl extends Al{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Pl(e,t,n)}_apply(e){const t=Rl(e,this.type,this._docOrFields,this._inclusive);return new Lu(e.firestore,e.converter,function(e,t){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Rl(e,t,n,r){if(n[0]=o.getModularInstance(n[0]),n[0]instanceof Sl)return function(e,t,n,r,i){if(!r)throw new I(_.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of Dn(e))if(n.field.isKeyField())s.push(At(t,r.key));else{const e=r.data.field(n.field);if(pt(e))throw new I(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new I(_.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Gt(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=il(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new I(_.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new I(_.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!Cn(e)&&-1!==c.indexOf("/"))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(U.fromString(c));if(!z.isDocumentKey(n))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new z(n);a.push(At(t,i))}else{const e=pl(n,r,c);a.push(e)}}return new Gt(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Fl(e,t,n){if("string"==typeof(n=o.getModularInstance(n))){if(""===n)throw new I(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cn(t)&&-1!==n.indexOf("/"))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(U.fromString(n));if(!z.isDocumentKey(r))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return At(e,new z(r))}if(n instanceof Mu)return At(e,n._key);throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cu(n)}.`)}function Vl(e,t){if(!Array.isArray(e)||0===e.length)throw new I(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Bl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new I(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new I(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Ul(e,t){if(!(t instanceof Nl||t instanceof kl))throw new I(_.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class ql{convertValue(e,t="none"){switch(_t(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ft(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw v()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Xe(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Yu(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=gt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mt(e));default:return null}}convertTimestamp(e){const t=ht(e);return new F(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=U.fromString(e);w(Vi(n));const r=new vt(n.get(1),n.get(3)),i=new z(n.popFirst(5));return r.isEqual(t)||g(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function jl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zl extends ql{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mu(this.firestore,null,t)}}function Gl(){return new $u("count")}class Kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $l extends Sl{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ql extends $l{data(e={}){return super.data(e)}}class Hl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ql(this._firestore,this._userDataWriter,n.key,n,new Kl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new I(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ql(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Kl(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ql(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Wl(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}class Jl extends ql{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mu(this.firestore,null,t)}}function Yl(e,t){return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Jc(e);try{const e=await function(e,t){const n=b(e),r=F.now(),i=t.reduce(((e,t)=>e.add(t.key)),Xn());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=zn(),c=Xn();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Sr(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Cr(e.key,t,jt(t.value.mapValue),vr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:$n(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new tt(M)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vc(r,e.changes),await Ra(r.remoteStore)}catch(e){const t=Ja(e,"Failed to persist write");n.reject(t)}}(await mu(e),t,n))),n.promise}(ju(e),t)}function Xl(e,t,n){const r=n.docs.get(t._key),i=new Jl(e);return new $l(e,i,t._key,r,new Kl(n.hasPendingWrites,n.fromCache),t.converter)}function Zl(e,t){const n=Du(e.firestore,qu),r=ju(n),i=Ze(t,((e,t)=>new Rr(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await yu(e);r.resolve(async function(e,t,n){var r;const i=b(e),{request:s,ut:o,parent:a}=Di(i.serializer,Nn(t),n);i.connection.Do||delete s.parent;const c=(await i.xo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter((e=>!!e.result));w(1===c.length);const u=null===(r=c[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(u).reduce(((e,t)=>(e[o[t]]=u[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Jl(e);return new Qu(t,r,n)}(n,e,t)))}class eh{constructor(e){this.kind="memory",this._onlineComponentProvider=new tu,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new Yc}toJSON(){return{kind:this.kind}}}class th{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=oh(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class nh{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new Yc}toJSON(){return{kind:this.kind}}}class rh{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new Xc(e)}toJSON(){return{kind:this.kind}}}class ih{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new tu,this._offlineComponentProvider=new Zc(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}class sh{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new tu,this._offlineComponentProvider=new eu(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}function oh(e){return new ih(null==e?void 0:e.forceOwnership)}const ah={maxAttempts:5};class ch{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=il(e)}set(e,t,n){this._verifyNotCommitted();const r=uh(e,this._firestore),i=jl(r.converter,t,n),s=sl(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,vr.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=uh(e,this._firestore);let s;return s="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(this._dataReader,"WriteBatch.update",i._key,t,n,r):dl(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uh(e,this._firestore);return this._mutations=this._mutations.concat(new kr(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new I(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uh(e,t){if((e=o.getModularInstance(e)).firestore!==t)throw new I(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class lh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=il(e)}get(e){const t=uh(e,this._firestore),n=new zl(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return v();const r=e[0];if(r.isFoundDocument())return new Sl(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Sl(this._firestore,n,t._key,null,t.converter);throw v()}))}set(e,t,n){const r=uh(e,this._firestore),i=jl(r.converter,t,n),s=sl(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=uh(e,this._firestore);let s;return s="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(this._dataReader,"Transaction.update",i._key,t,n,r):dl(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uh(e,this._firestore),n=new Jl(this._firestore);return super.get(e).then((e=>new $l(this._firestore,n,t._key,e._document,new Kl(!1,!1),t.converter)))}}function hh(e,t){if("string"!=typeof e[t])throw new I(_.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class dh{constructor(e){this._client=e,this.type="PersistentCacheIndexManager"}}function fh(e,t){e._client.verifyNotTerminated(),function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){b(e).ts.Ui=t}(await pu(e),t)))}(e._client,t).then((e=>p(`setting persistent cache index auto creation isEnabled=${t} succeeded`))).catch((e=>m(`setting persistent cache index auto creation isEnabled=${t} failed`,e)))}const ph=new WeakMap;class gh{constructor(){this.Ou=new Map}static get instance(){return mh||(mh=new gh,function(e){if(jr)throw new Error("a TestingHooksSpi instance is already set");jr=e}(mh)),mh}et(e){this.Ou.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Ou;return n.set(t,e),()=>n.delete(t)}}let mh=null;!function(e,t=!0){!function(e){h=e}(r.SDK_VERSION),r._registerComponent(new i.Component("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new qu(new C(e.getProvider("auth-internal")),new k(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new I(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vt(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),r.registerVersion(u,"4.6.4",e),r.registerVersion(u,"4.6.4","cjs2017")}(),t.AbstractUserDataWriter=ql,t.AggregateField=$u,t.AggregateQuerySnapshot=Qu,t.Bytes=Hu,t.CACHE_SIZE_UNLIMITED=-1,t.CollectionReference=Pu,t.DocumentReference=Mu,t.DocumentSnapshot=$l,t.FieldPath=Wu,t.FieldValue=Ju,t.Firestore=qu,t.FirestoreError=I,t.GeoPoint=Yu,t.LoadBundleTask=Uu,t.PersistentCacheIndexManager=dh,t.Query=Lu,t.QueryCompositeFilterConstraint=kl,t.QueryConstraint=Al,t.QueryDocumentSnapshot=Ql,t.QueryEndAtConstraint=Pl,t.QueryFieldFilterConstraint=Nl,t.QueryLimitConstraint=Ll,t.QueryOrderByConstraint=Ol,t.QuerySnapshot=Hl,t.QueryStartAtConstraint=Ml,t.SnapshotMetadata=Kl,t.Timestamp=F,t.Transaction=lh,t.WriteBatch=ch,t._AutoId=L,t._ByteString=ut,t._DatabaseId=vt,t._DocumentKey=z,t._EmptyAppCheckTokenProvider=class{getToken(){return Promise.resolve(new N(""))}invalidateToken(){}start(e,t){}shutdown(){}},t._EmptyAuthCredentialsProvider=T,t._FieldPath=j,t._TestingHooks=class{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return gh.instance.onExistenceFilterMismatch(e)}},t._cast=Du,t._debugAssert=function(e,t){e||v()},t._internalAggregationQueryToProtoRunAggregationQueryRequest=function(e,t){var n;const r=Ze(t,((e,t)=>new Rr(t,e.aggregateType,e._internalFieldPath))),i=null===(n=ju(Du(e.firestore,qu))._onlineComponents)||void 0===n?void 0:n.datastore.serializer;return void 0===i?null:Di(i,Nn(e._query),r,!0).request},t._internalQueryToProtoQueryTarget=function(e){var t;const n=null===(t=ju(Du(e.firestore,qu))._onlineComponents)||void 0===t?void 0:t.datastore.serializer;return void 0===n?null:Ci(n,An(e._query))._t},t._isBase64Available=function(){return"undefined"!=typeof atob},t._logWarn=m,t._validateIsNotUsedTogether=Su,t.addDoc=function(e,t){const n=Du(e.firestore,qu),r=Ru(e),i=jl(e.converter,t);return Yl(n,[sl(il(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vr.exists(!1))]).then((()=>r))},t.aggregateFieldEqual=function(e,t){var n,r;return e instanceof $u&&t instanceof $u&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())},t.aggregateQuerySnapshotEqual=function(e,t){return Fu(e.query,t.query)&&o.deepEqual(e.data(),t.data())},t.and=function(...e){return e.forEach((e=>Ul("and",e))),kl._create("and",e)},t.arrayRemove=function(...e){return new ll("arrayRemove",e)},t.arrayUnion=function(...e){return new ul("arrayUnion",e)},t.average=function(e){return new $u("avg",wl("average",e))},t.clearIndexedDbPersistence=function(e){if(e._initialized&&!e._terminated)throw new I(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new E;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!oe.D())return Promise.resolve();const t=e+"main";await oe.delete(t)}(Ao(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise},t.collection=function(e,t,...n){if(e=o.getModularInstance(e),Eu("collection","path",t),e instanceof ku){const r=U.fromString(t,...n);return xu(r),new Pu(e,null,r)}{if(!(e instanceof Mu||e instanceof Pu))throw new I(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(U.fromString(t,...n));return xu(r),new Pu(e.firestore,null,r)}},t.collectionGroup=function(e,t){if(e=Du(e,ku),Eu("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new I(_.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lu(e,null,function(e){return new En(U.emptyPath(),e)}(t))},t.connectFirestoreEmulator=Ou,t.count=Gl,t.deleteAllPersistentCacheIndexes=function(e){e._client.verifyNotTerminated(),function(e){return e.asyncQueue.enqueue((async()=>function(e){const t=b(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}(await pu(e))))}(e._client).then((e=>p("deleting all persistent cache indexes succeeded"))).catch((e=>m("deleting all persistent cache indexes failed",e)))},t.deleteDoc=function(e){return Yl(Du(e.firestore,qu),[new kr(e._key,vr.none())])},t.deleteField=function(){return new ol("deleteField")},t.disableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await fu(e),n=await gu(e);return t.setNetworkEnabled(!1),async function(e){const t=b(e);t.M_.add(0),await _a(t),t.N_.set("Offline")}(n)}))}(ju(e=Du(e,qu)))},t.disablePersistentCacheIndexAutoCreation=function(e){fh(e,!1)},t.doc=Ru,t.documentId=function(){return new Wu("__name__")},t.enableIndexedDbPersistence=function(e,t){Ku(e=Du(e,qu));const n=ju(e);if(n._uninitializedComponentsProvider)throw new I(_.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new tu;return Gu(n,i,new Zc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))},t.enableMultiTabIndexedDbPersistence=function(e){Ku(e=Du(e,qu));const t=ju(e);if(t._uninitializedComponentsProvider)throw new I(_.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new tu;return Gu(t,r,new eu(r,n.cacheSizeBytes))},t.enableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await fu(e),n=await gu(e);return t.setNetworkEnabled(!0),function(e){const t=b(e);return t.M_.delete(0),ba(t)}(n)}))}(ju(e=Du(e,qu)))},t.enablePersistentCacheIndexAutoCreation=function(e){fh(e,!0)},t.endAt=function(...e){return Pl._create("endAt",e,!0)},t.endBefore=function(...e){return Pl._create("endBefore",e,!1)},t.ensureFirestoreConfigured=ju,t.executeWrite=Yl,t.getAggregateFromServer=Zl,t.getCountFromServer=function(e){return Zl(e,{count:Gl()})},t.getDoc=function(e){e=Du(e,Mu);const t=Du(e.firestore,qu);return wu(ju(t),e._key).then((n=>Xl(t,e,n)))},t.getDocFromCache=function(e){e=Du(e,Mu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=b(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new I(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Ja(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await pu(e),t,n))),n.promise}(n,e._key).then((n=>new $l(t,r,e._key,n,new Kl(null!==n&&n.hasLocalMutations,!0),e.converter)))},t.getDocFromServer=function(e){e=Du(e,Mu);const t=Du(e.firestore,qu);return wu(ju(t),e._key,{source:"server"}).then((n=>Xl(t,e,n)))},t.getDocs=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return Cl(e._query),bu(n,e._query).then((n=>new Hl(t,r,e,n)))},t.getDocsFromCache=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await qo(e,t,!0),i=new mc(t,r.hs),s=i.da(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Ja(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await pu(e),t,n))),n.promise}(n,e._query).then((n=>new Hl(t,r,e,n)))},t.getDocsFromServer=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return bu(n,e._query,{source:"server"}).then((n=>new Hl(t,r,e,n)))},t.getFirestore=function(e,t){const n="object"==typeof e?e:r.getApp(),i="string"==typeof e?e:t||"(default)",s=r._getProvider(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=o.getDefaultEmulatorHostnameAndPort("firestore");e&&Ou(s,...e)}return s},t.getPersistentCacheIndexManager=function(e){var t;e=Du(e,qu);const n=ph.get(e);if(n)return n;const r=ju(e);if("persistent"!==(null===(t=r._uninitializedComponentsProvider)||void 0===t?void 0:t._offlineKind))return null;const i=new dh(r);return ph.set(e,i),i},t.increment=function(e){return new hl("increment",e)},t.initializeFirestore=function(e,t,n){n||(n="(default)");const i=r._getProvider(e,"firestore");if(i.isInitialized(n)){const e=i.getImmediate({identifier:n}),r=i.getOptions(n);if(o.deepEqual(r,t))return e;throw new I(_.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new I(_.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new I(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:n})},t.limit=function(e){return Au("limit",e),Ll._create("limit",e,"F")},t.limitToLast=function(e){return Au("limitToLast",e),Ll._create("limitToLast",e,"L")},t.loadBundle=function(e,t){const n=ju(e=Du(e,qu)),r=new Uu;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?zr().encode(e):e,function(e,t){return new iu(e,t)}(function(e,t){if(e instanceof Uint8Array)return nu(e,t);if(e instanceof ArrayBuffer)return nu(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,da(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=b(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=b(e),r=di(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(fc(r));const i=new dc(r,e.localStore,t.serializer);let s=await t.qa();for(;s;){const e=await i._a(s);e&&n._updateProgress(e),s=await t.qa()}const o=await i.complete();return await Vc(e,o.ca,void 0),await function(e,t){const n=b(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ua)}catch(e){return m("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await mu(e),i,r)}))}(n,e._databaseId,t,r),r},t.memoryEagerGarbageCollector=function(){return new nh},t.memoryLocalCache=function(e){return new eh(e)},t.memoryLruGarbageCollector=function(e){return new rh(null==e?void 0:e.cacheSizeBytes)},t.namedQuery=function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=b(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await pu(e),t)))}(ju(e=Du(e,qu)),t).then((t=>t?new Lu(e,null,t.query):null))},t.onSnapshot=function(e,...t){var n,r,i;e=o.getModularInstance(e);let s={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||Bu(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Bu(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,h;if(e instanceof Mu)l=Du(e.firestore,qu),h=Tn(e._key.path),u={next:n=>{t[a]&&t[a](Xl(l,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Du(e,Lu);l=Du(n.firestore,qu),h=n._query;const r=new Jl(l);u={next:e=>{t[a]&&t[a](new Hl(l,r,n,e))},error:t[a+1],complete:t[a+2]},Cl(e._query)}return function(e,t,n,r){const i=new ru(r),s=new uc(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>nc(await vu(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>rc(await vu(e),s)))}}(ju(l),h,c,u)},t.onSnapshotsInSync=function(e,t){return function(e,t){const n=new ru(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).z_.add(t),t.next()}(await vu(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).z_.delete(t)}(await vu(e),n)))}}(ju(e=Du(e,qu)),Bu(t)?t:{next:t})},t.or=function(...e){return e.forEach((e=>Ul("or",e))),kl._create("or",e)},t.orderBy=function(e,t="asc"){const n=t,r=xl("orderBy",e);return Ol._create(r,n)},t.persistentLocalCache=function(e){return new th(e)},t.persistentMultipleTabManager=function(){return new sh},t.persistentSingleTabManager=oh,t.query=function(e,t,...n){let r=[];t instanceof Dl&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof kl)).length,n=e.filter((e=>e instanceof Nl)).length;if(t>1||t>0&&n>0)throw new I(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e},t.queryEqual=Fu,t.refEqual=function(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),(e instanceof Mu||e instanceof Pu)&&(t instanceof Mu||t instanceof Pu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter},t.runTransaction=function(e,t,n){e=Du(e,qu);const r=Object.assign(Object.assign({},ah),n);return function(e){if(e.maxAttempts<1)throw new I(_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>{const i=await yu(e);new ou(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(ju(e),(n=>t(new lh(e,n))),r)},t.serverTimestamp=function(){return new cl("serverTimestamp")},t.setDoc=function(e,t,n){e=Du(e,Mu);const r=Du(e.firestore,qu),i=jl(e.converter,t,n);return Yl(r,[sl(il(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vr.none())])},t.setIndexConfiguration=function(e,t){var n;const r=ju(e=Du(e,qu));if(!r._uninitializedComponentsProvider||"memory"===(null===(n=r._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return m("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new I(_.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const e of t.indexes){const t=hh(e,"collectionGroup"),r=[];if(Array.isArray(e.fields))for(const t of e.fields){const e=_l("setIndexConfiguration",hh(t,"fieldPath"));"CONTAINS"===t.arrayConfig?r.push(new H(e,2)):"ASCENDING"===t.order?r.push(new H(e,0)):"DESCENDING"===t.order&&r.push(new H(e,1))}n.push(new G(G.UNKNOWN_ID,t,r,J.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=b(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const s=e.length,o=t.length;let a=0,c=0;for(;a<o&&c<s;){const s=n(e[c],t[a]);s<0?i(e[c++]):s>0?r(t[a++]):(a++,c++)}for(;a<o;)r(t[a++]);for(;c<s;)i(e[c++])}(n,t,Q,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>ie.waitFor(i)))))}(await pu(e),t)))}(r,i)},t.setLogLevel=function(e){d.setLogLevel(e)},t.snapshotEqual=function(e,t){return e instanceof $l&&t instanceof $l?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hl&&t instanceof Hl&&e._firestore===t._firestore&&Fu(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)},t.startAfter=function(...e){return Ml._create("startAfter",e,!1)},t.startAt=function(...e){return Ml._create("startAt",e,!0)},t.sum=function(e){return new $u("sum",wl("sum",e))},t.terminate=function(e){return r._removeServiceInstance(e.app,"firestore",e._databaseId.database),e._delete()},t.updateDoc=function(e,t,n,...r){e=Du(e,Mu);const i=Du(e.firestore,qu),s=il(i);let a;return a="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(s,"updateDoc",e._key,t,n,r):dl(s,"updateDoc",e._key,t),Yl(i,[a.toMutation(e._key,vr.exists(!0))])},t.waitForPendingWrites=function(e){return function(e){const t=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=b(e);Da(n.remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=b(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=Ja(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await mu(e),t))),t.promise}(ju(e=Du(e,qu)))},t.where=function(e,t,n){const r=t,i=xl("where",e);return Nl._create(i,r,n)},t.writeBatch=function(e){return ju(e=Du(e,qu)),new ch(e,(t=>Yl(e,t)))}},795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n(322),o=[];t.LogLevel=void 0,(i=t.LogLevel||(t.LogLevel={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var a={debug:t.LogLevel.DEBUG,verbose:t.LogLevel.VERBOSE,info:t.LogLevel.INFO,warn:t.LogLevel.WARN,error:t.LogLevel.ERROR,silent:t.LogLevel.SILENT},c=t.LogLevel.INFO,u=((r={})[t.LogLevel.DEBUG]="log",r[t.LogLevel.VERBOSE]="log",r[t.LogLevel.INFO]="info",r[t.LogLevel.WARN]="warn",r[t.LogLevel.ERROR]="error",r),l=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=u[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));console[o].apply(console,s.__spreadArray(["[".concat(i,"]  ").concat(e.name,":")],n,!1))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in t.LogLevel))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.DEBUG],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.DEBUG],e,!1))},e.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.VERBOSE],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.VERBOSE],e,!1))},e.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.INFO],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.INFO],e,!1))},e.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.WARN],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.WARN],e,!1))},e.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.ERROR],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.ERROR],e,!1))},e}();t.Logger=h,t.setLogLevel=function(e){o.forEach((function(t){t.setLogLevel(e)}))},t.setUserLogHandler=function(e,n){for(var r=function(r){var i=null;n&&n.level&&(i=a[n.level]),r.userLogHandler=null===e?null:function(n,r){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=s.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");r>=(null!=i?i:n.logLevel)&&e({level:t.LogLevel[r].toLowerCase(),message:a,args:s,type:n.name})}},i=0,s=o;i<s.length;i++)r(s[i])}},107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,u=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new c;const u=i<<2|s>>4;if(r.push(u),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(e){const t=o(e);return a.encodeByteArray(t,!0)},l=function(e){return u(e).replace(/\./g,"")},h=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}function f(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}const p=()=>{try{return f().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e="MISSING_ENV_VAR".__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},g=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(I,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new b(r,o,n)}}const I=/\{\$([^}]+)}/g;function E(e){return JSON.parse(e)}const S=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=E(h(s[0])||""),n=E(h(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function T(e){return null!==e&&"object"==typeof e}class x{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function C(){}function D(e,t){return`${e} failed: ${t} argument `}const A=144e5;t.CONSTANTS=r,t.DecodeBase64StringError=c,t.Deferred=m,t.ErrorFactory=_,t.FirebaseError=b,t.MAX_VALUE_MILLIS=A,t.RANDOM_FACTOR=.5,t.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^o&(a^c),i=1518500249):(r=o^a^c,i=1859775393):e<60?(r=o&a|c&(o|a),i=2400959708):(r=o^a^c,i=3395469782);const t=(s<<5|s>>>27)+r+u+i+n[e]&4294967295;u=c,c=a,a=4294967295&(o<<30|o>>>2),o=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}},t.areCookiesEnabled=function(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)},t.assert=i,t.assertionError=s,t.async=function(e,t){return(...n)=>{Promise.resolve(!0).then((()=>{e(...n)})).catch((e=>{t&&t(e)}))}},t.base64=a,t.base64Decode=h,t.base64Encode=u,t.base64urlEncodeWithoutPadding=l,t.calculateBackoffMillis=function(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(A,r+i)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")},t.createSubscribe=function(e,t){const n=new x(e,t);return n.subscribe.bind(n)},t.decode=S,t.deepCopy=function(e){return d(void 0,e)},t.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),i=Object.keys(n);for(const s of r){if(!i.includes(s))return!1;const r=t[s],o=n[s];if(T(r)&&T(o)){if(!e(r,o))return!1}else if(r!==o)return!1}for(const e of i)if(!r.includes(e))return!1;return!0},t.deepExtend=d,t.errorPrefix=D,t.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)},t.getDefaultAppConfig=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},t.getDefaultEmulatorHost=g,t.getDefaultEmulatorHostnameAndPort=e=>{const t=g(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},t.getDefaults=p,t.getExperimentalSetting=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]},t.getGlobal=f,t.getModularInstance=function(e){return e&&e._delegate?e._delegate:e},t.getUA=y,t.isAdmin=function(e){const t=S(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"undefined"!=typeof window||w()},t.isBrowserExtension=function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return y().indexOf("Electron/")>=0},t.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"==typeof indexedDB}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=v,t.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!v()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return y().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){const t=S(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){const t=S(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.isWebWorker=w,t.issuedAtTime=function(e){const t=S(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=E,t.map=function(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.ordinal=function(e){return Number.isFinite(e)?e+function(e){const t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";const n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(e):`${e}`},t.promiseWithTimeout=function(e,t=2e3){const n=new m;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise},t.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);if(s>=55296&&s<=56319){const t=s-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(r)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.validateArgCount=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(e,t)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(e,t)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))},t.validateNamespace=function(e,t,n){if((!n||t)&&"string"!=typeof t)throw new Error(D(e,"namespace")+"must be a valid firebase namespace.")}},293:(e,t,n)=>{(function(){"use strict";var t;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(n,(function(){this.blockSize=-1})),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=n;)r(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){r(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){r(this,i),s=0;break}}this.h=s,this.o+=t},n.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function o(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new i([0|e],0>e?-1:0)}(e)}(e):new i([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return f(a(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var c=o(0),u=o(1),l=o(16777216);function h(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function f(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(u)}function p(e,t){return e.add(f(t))}function g(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function y(e,t){if(h(t))throw Error("division by zero");if(h(e))return new m(c,c);if(d(e))return t=y(f(e),t),new m(f(t.g),f(t.h));if(d(t))return t=y(e,f(t)),new m(f(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!h(r);){var o=s.add(r);0>=o.l(e)&&(i=i.add(n),s=o),r=w(r,1),n=w(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=a(n)).j(t);d(o)||0<o.l(e);)o=(s=a(n-=r)).j(t);h(s)&&(s=u),i=i.add(s),e=p(e,o)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(s,e.h)}(t=i.prototype).m=function(){if(d(this))return-f(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},t.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(d(this))return"-"+f(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,s=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(h(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},t.l=function(e){return d(e=p(this,e))?-1:h(e)?0:1},t.abs=function(){return d(this)?f(this):this},t.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(e){if(h(this)||h(e))return c;if(d(this))return d(e)?f(this).j(f(e)):f(f(this).j(e));if(d(e))return f(this.j(f(e)));if(0>this.l(l)&&0>e.l(l))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var o=this.i(r)>>>16,u=65535&this.i(r),p=e.i(s)>>>16,m=65535&e.i(s);n[2*r+2*s]+=u*m,g(n,2*r+2*s),n[2*r+2*s+1]+=o*m,g(n,2*r+2*s+1),n[2*r+2*s+1]+=u*p,g(n,2*r+2*s+1),n[2*r+2*s+2]+=o*p,g(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},t.A=function(e){return y(this,e).h},t.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},t.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},t.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,e.exports.Md5=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=c,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+o),n);8>o?(o=a(Math.pow(n,o)),i=i.j(o).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},e.exports.Integer=i}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},493:(e,t,n)=>{(function(){"use strict";var t,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in n))break e;n=n[o]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(0,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var s=s||{},o=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function c(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function h(e,t,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:l).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function f(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function p(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(a(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function m(e){return/^[\s\xa0]*$/.test(e)}function y(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function v(e){return v[" "](e),e}v[" "]=function(){};var w=!(-1==y().indexOf("Gecko")||-1!=y().toLowerCase().indexOf("webkit")&&-1==y().indexOf("Edge")||-1!=y().indexOf("Trident")||-1!=y().indexOf("MSIE")||-1!=y().indexOf("Edge"));function b(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){o.setTimeout((()=>{throw e}),0)}function x(){var e=k;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new D),(e=>e.reset()));class D{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let A,N=!1,k=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},O=()=>{const e=o.Promise.resolve(void 0);A=()=>{e.then(L)}};var L=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(e){T(e)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function M(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(e){}return e}();function F(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(w){e:{try{v(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:V[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&F.aa.h.call(this)}}f(F,P);var V={2:"touch",3:"pen",4:"mouse"};F.prototype.h=function(){F.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),U=0;function q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function j(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function G(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(j(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function K(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=K(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new q(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),Q={};function H(e,t,n,r,i){if(r&&r.once)return J(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);return null}return n=re(n),e&&e[B]?e.K(t,n,c(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=c(i)?!!i.capture:!!i,a=te(e);if(a||(e[$]=a=new z(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){const e=ee;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function J(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)J(e,t[s],n,r,i);return null}return n=re(n),e&&e[B]?e.L(t,n,c(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=c(r)?!!r.capture:!!r,n=re(n),e&&e[B]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=K(s=e.g[t],n,r,i))&&(j(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=K(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[B])G(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=te(t))?(G(n,e),0==n.h&&(n.src=null,t[$]=null)):j(e)}}}function Z(e){return e in Q?Q[e]:Q[e]="on"+e}function ee(e,t){if(e.da)e=!0;else{t=new F(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function te(e){return(e=e[$])instanceof z?e:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(e){return"function"==typeof e?e:(e[ne]||(e[ne]=function(t){return e.handleEvent(t)}),e[ne])}function ie(){M.call(this),this.i=new z(this),this.M=this,this.F=null}function se(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;E(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oe(o,r,!0,t)&&i}if(i=oe(o=t.g=e,r,!0,t)&&i,i=oe(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=oe(o=t.g=n[s],r,!1,t)&&i}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.fa&&G(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"==typeof e)n&&(e=h(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=h(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function ce(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,ce(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}f(ie,M),ie.prototype[B]=!0,ie.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)j(n[r]);delete t.g[e],t.h--}}this.F=null},ie.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ie.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ue extends M{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){M.call(this),this.h=e,this.g={}}f(le,M);var he=[];function de(e){b(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),de(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=o.JSON.stringify,pe=o.JSON.parse,ge=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function me(){}function ye(e){return e.h||(e.h=e.i())}function ve(){}me.prototype.h=null;var we={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function be(){P.call(this,"d")}function _e(){P.call(this,"c")}f(be,P),f(_e,P);var Ie={},Ee=null;function Se(){return Ee=Ee||new ie}function Te(e){P.call(this,Ie.La,e)}function xe(e){const t=Se();se(t,new Te(t,e))}function Ce(e,t){P.call(this,Ie.STAT_EVENT,e),this.stat=t}function De(e){const t=Se();se(t,new Ce(t,e))}function Ae(e,t){P.call(this,Ie.Ma,e),this.size=t}function Ne(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function ke(){this.g=!0}function Oe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fe(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ie.La="serverreachability",f(Te,P),Ie.STAT_EVENT="statevent",f(Ce,P),Ie.Ma="timingevent",f(Ae,P),ke.prototype.xa=function(){this.g=!1},ke.prototype.info=function(){};var Le,Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Fe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}f(Re,me),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Le=new Re;var Be={},Ue={};function qe(e,t,n){e.L=1,e.v=ft(ct(t)),e.m=n,e.P=!0,je(e,null)}function je(e,t){e.F=Date.now(),Ke(e),e.A=ct(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ve,e.g=gn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ue(h(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(he[0]=i.toString()),i=he);for(var s=0;s<i.length;s++){var o=H(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?_(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function Ge(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Be:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function Ke(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(h(e.ba,e),t)}function Qe(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,de(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Je(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||tt(n.h,e)))if(!e.K&&tt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;un(n),Xt(n)}on(n),De(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(h(n.Za,n),6e3));if(1>=et(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else dn(n,11)}else if((e.K||n.g==e)&&un(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(nt(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,dt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=pn(r,r.J?r.ia:null,r.W),o.K){rt(r.h,o);var a=o,c=r.L;c&&(a.I=c),a.B&&(Qe(a),Ke(a)),r.g=o}else sn(r);0<n.i.length&&en(n)}else"stop"!=u[0]&&"close"!=u[0]||dn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?dn(n,7):Yt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}xe(4)}catch(e){}}Fe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Qt(e)?t.j():this.Y(e)},Fe.prototype.Y=function(e){try{if(e==this.g)e:{const d=Qt(this.g);var t=this.g.Ba();const f=this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||xe(8==t||0>=f?3:2),Qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Ht(this.g);e="";var i=r.length,s=4==Qt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){We(this),He(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(c)){var l=c;break t}}l=null}if(!(n=l)){this.o=!1,this.s=3,De(12),We(this),He(this);break e}Oe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Je(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ge(this,a),e==Ue){4==d&&(this.s=4,De(14),n=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Be){this.s=4,De(15),Oe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Oe(this.i,this.l,e,null),Je(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,De(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),an(h),h.M=!0,De(11))}}else Oe(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),He(this)}else Oe(this.i,this.l,a,null),Je(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ke(this)))}else(function(e){const t={};e=(e.g&&2<=Qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),We(this),He(this)}}}catch(e){}},Fe.prototype.cancel=function(){this.J=!0,We(this)},Fe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(xe(3),De(17)),We(this),this.s=2,He(this)):$e(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,e=o.PerformanceNavigationTiming?0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function et(e){return e.h?1:e.g?e.g.size:0}function tt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nt(e,t){e.g?e.g.add(t):e.h=t}function rt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function it(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return p(e.i)}function st(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(a(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Xe.prototype.cancel=function(){if(this.i=it(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ut(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ht(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,ut(this,t[1]||"",!0),this.o=pt(t[2]||""),this.g=pt(t[3]||"",!0),lt(this,t[4]),this.l=pt(t[5]||"",!0),ht(this,t[6]||"",!0),this.m=pt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ct(e){return new at(e)}function ut(e,t,n){e.j=n?pt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ht(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tt(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=gt(t,_t)),e.i=new Et(t,e.h))}function dt(e,t,n){e.i.set(t,n)}function ft(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gt(t,vt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(gt(t,vt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gt(n,"/"==n.charAt(0)?bt:wt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",gt(n,It)),e.join("")};var yt,vt=/[#\/\?@]/g,wt=/[#\?:]/g,bt=/[#\?]/g,_t=/[#\?@]/g,It=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tt(e,t){St(e),t=Dt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return St(e),t=Dt(e,t),e.g.has(t)}function Ct(e,t,n){Tt(e,t),0<n.length&&(e.i=null,e.g.set(Dt(e,t),p(n)),e.h+=n.length)}function Dt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function At(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function Nt(){this.g=new ge}function kt(e,t,n){const r=n||"";try{st(e,(function(e,n){let i=e;c(e)&&(i=fe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ie.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Mt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ft(e){let t="";return b(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Vt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ft(n),"string"==typeof e?(encodeURIComponent(String(t)),null!=n&&encodeURIComponent(String(n))):dt(e,t,n))}function Bt(e){ie.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Et.prototype).add=function(e,t){St(this),this.i=null,e=Dt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},t.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},t.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},t.V=function(e){St(this);let t=[];if("string"==typeof e)xt(this,e)&&(t=t.concat(this.g.get(Dt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},t.set=function(e,t){return St(this),this.i=null,xt(this,e=Dt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},f(Ot,me),Ot.prototype.g=function(){return new Lt(this.l,this.j)},Ot.prototype.i=(yt={},function(){return yt}),f(Lt,ie),(t=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},t.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Rt(this),3==this.readyState&&Mt(this)}},t.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},t.Qa=function(e){this.g&&(this.response=e,Pt(this))},t.ga=function(){this.g&&Pt(this)},t.setRequestHeader=function(e,t){this.u.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),f(Bt,ie);var Ut=/^https?$/i,qt=["POST","PUT"];function jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Kt(e)}function zt(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}function Gt(e){if(e.h&&void 0!==s&&(!e.v[1]||4!=Qt(e)||2!=e.Z()))if(e.u&&4==Qt(e))ae(e.Ea,0,e);else if(se(e,"readystatechange"),4==Qt(e)){e.h=!1;try{const s=e.Z();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.D).match(ot)[1]||null;!i&&o.self&&o.self.location&&(i=o.self.location.protocol.slice(0,-1)),r=!Ut.test(i?i.toLowerCase():"")}n=r}if(n)se(e,"complete"),se(e,"success");else{e.m=6;try{var a=2<Qt(e)?e.g.statusText:""}catch(e){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Kt(e)}}}function Kt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||se(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function $t(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Qt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Zt(e),3==e.G){var t=e.U++,n=ct(e.I);if(dt(n,"SID",e.K),dt(n,"RID",t),dt(n,"TYPE","terminate"),nn(e,n),(t=new Fe(e,e.j,t)).L=2,t.v=ft(ct(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=gn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ke(t)}fn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Zt(e){Xt(e),e.u&&(o.clearTimeout(e.u),e.u=null),un(e),e.h.cancel(),e.s&&("number"==typeof e.s&&o.clearTimeout(e.s),e.s=null)}function en(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;A||O(),N||(A(),N=!0),k.add(t,e),e.B=0}}function tn(e,t){var n;n=t?t.l:e.U++;const r=ct(e.I);dt(r,"SID",e.K),dt(r,"RID",n),dt(r,"AID",e.T),nn(e,r),e.m&&e.o&&Vt(r,e.m,e.o),n=new Fe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=rn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),nt(e.h,n),qe(n,r,t)}function nn(e,t){e.H&&b(e.H,(function(e,n){dt(t,n,e)})),e.l&&st({},(function(e,n){dt(t,n,e)}))}function rn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?h(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{kt(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function sn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;A||O(),N||(A(),N=!0),k.add(t,e),e.v=0}}function on(e){return!(e.g||e.u||3<=e.v||(e.Y++,e.u=Ne(h(e.Fa,e),hn(e,e.v)),e.v++,0))}function an(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function cn(e){e.g=new Fe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ct(e.qa);dt(t,"RID","rpc"),dt(t,"SID",e.K),dt(t,"AID",e.T),dt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&dt(t,"TO",e.ja),dt(t,"TYPE","xmlhttp"),nn(e,t),e.m&&e.o&&Vt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ft(ct(t)),n.m=null,n.P=!0,je(n,e)}function un(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){un(e),an(e),e.g=null;var r=2}else{if(!tt(e.h,t))return;n=t.D,rt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;se(r=Se(),new Ae(r,n,t,i)),en(e)}else sn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(et(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ne(h(e.Ga,e,t),hn(e,e.B)),e.B++,0)))}(e,t)||2==r&&on(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:dn(e,5);break;case 4:dn(e,10);break;case 3:dn(e,6);break;default:dn(e,2)}}function hn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function dn(e,t){if(e.j.info("Error code "+t),2==t){var n=h(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||ut(r,"https"),ft(r),t?function(e,t){const n=new ke;if(o.Image){const r=new Image;r.onload=d(At,n,"TestLoadImage: loaded",!0,t,r),r.onerror=d(At,n,"TestLoadImage: error",!1,t,r),r.onabort=d(At,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=d(At,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout((()=>{n.abort(),At(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?At(0,0,!0,t):At(0,0,!1,t)})).catch((()=>{clearTimeout(r),At(0,0,!1,t)}))}(r.toString(),n)}else De(2);e.G=0,e.l&&e.l.sa(t),fn(e),Zt(e)}function fn(e){if(e.G=0,e.ka=[],e.l){const t=it(e.h);0==t.length&&0==e.i.length||(g(e.ka,t),g(e.ka,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.ra()}}function pn(e,t,n){var r=n instanceof at?ct(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new at(null);r&&ut(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&dt(r,n,t),dt(r,"VER",e.la),nn(e,r),r}function gn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Bt(new Ot({eb:n})):new Bt(e.pa)).Ha(e.J),t}function mn(){}function yn(){}function vn(e,t){ie.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new _n(this)}function wn(e){be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bn(){_e.call(this),this.status=1}function _n(e){this.g=e}(t=Bt.prototype).Ha=function(e){this.J=e},t.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Le.g(),this.v=this.o?ye(this.o):ye(Le),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){return void jt(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(qt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){jt(this,e)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,se(this,"complete"),se(this,"abort"),Kt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),Bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},t.bb=function(){Gt(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch(e){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},t.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pe(t)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Jt.prototype).la=8,t.G=1,t.connect=function(e,t,n,r){De(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=pn(this,null,this.W),en(this)},t.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Fe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=_(s),E(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=rn(this,i,t),dt(n=ct(this.I),"RID",e),dt(n,"CVER",22),this.D&&dt(n,"X-HTTP-Session-Id",this.D),nn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ft(s)))+"&"+t:this.m&&Vt(n,this.m,s)),nt(this.h,i),this.Ua&&dt(n,"TYPE","init"),this.P?(dt(n,"$req",t),dt(n,"SID","null"),i.T=!0,qe(i,n,null)):qe(i,n,t),this.G=2}}else 3==this.G&&(e?tn(this,e):0==this.i.length||Ze(this.h)||tn(this))},t.Fa=function(){if(this.u=null,cn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(h(this.ab,this),e)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Xt(this),cn(this))},t.Za=function(){null!=this.C&&(this.C=null,Xt(this),on(this),De(19))},t.fb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=mn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},yn.prototype.g=function(e,t){return new vn(e,t)},f(vn,ie),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Yt(this.g)},vn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=fe(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&en(t)},vn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,vn.aa.N.call(this)},f(wn,be),f(bn,_e),f(_n,mn),_n.prototype.ua=function(){se(this.g,"a")},_n.prototype.ta=function(e){se(this.g,new wn(e))},_n.prototype.sa=function(e){se(this.g,new bn(e))},_n.prototype.ra=function(){se(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,e.exports.createWebChannelTransport=function(){return new yn},e.exports.getStatEventTarget=function(){return Se()},e.exports.Event=Ie,e.exports.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,e.exports.ErrorCode=Me,Pe.COMPLETE="complete",e.exports.EventType=Pe,ve.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",ie.prototype.listen=ie.prototype.K,e.exports.WebChannel=ve,e.exports.FetchXmlHttpFactory=Ot,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,e.exports.XhrIo=Bt}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(782);r.registerVersion("firebase","10.12.3","app"),Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100);Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteDB:()=>m,openDB:()=>g,unwrap:()=>p,wrap:()=>f});const r=(e,t)=>t.some((t=>e instanceof t));let i,s;const o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),f(o.get(this))}:function(...e){return f(t.apply(p(this),e))}:function(e,...n){const r=t.call(p(this),e,...n);return c.set(r,e.sort?e.sort():[e]),f(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));a.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e);var t}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(f(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=d(e);return t!==e&&(u.set(e,t),l.set(t,e)),t}const p=e=>l.get(e);function g(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=f(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(f(o.result),e.oldVersion,e.newVersion,f(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function m(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),f(n).then((()=>{}))}const y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],w=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return w.set(t,s),s}var _;_=h,h={..._,get:(e,t,n)=>b(e,t)||_.get(e,t,n),has:(e,t)=>!!b(e,t)||_.has(e,t)}},322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>M,__assign:()=>s,__asyncDelegator:()=>T,__asyncGenerator:()=>S,__asyncValues:()=>x,__await:()=>E,__awaiter:()=>p,__classPrivateFieldGet:()=>k,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>O,__createBinding:()=>m,__decorate:()=>a,__disposeResources:()=>R,__esDecorate:()=>u,__exportStar:()=>y,__extends:()=>i,__generator:()=>g,__importDefault:()=>N,__importStar:()=>A,__makeTemplateObject:()=>C,__metadata:()=>f,__param:()=>c,__propKey:()=>h,__read:()=>w,__rest:()=>o,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>b,__spreadArray:()=>I,__spreadArrays:()=>_,__values:()=>v,default:()=>F});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,i,s){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,f=n.length-1;f>=0;f--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(e||null))};var m=(0,n[f])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[u]=a)}l&&Object.defineProperty(l,r.name,h),d=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var m=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function I(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function o(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=i[e](t)).value instanceof E?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(e){l(s[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function T(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var D=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&m(t,e,n);return D(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function M(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var P="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function R(e){function t(t){e.error=e.hasError?new P(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const F={__extends:i,__assign:s,__rest:o,__decorate:a,__param:c,__metadata:f,__awaiter:p,__generator:g,__createBinding:m,__exportStar:y,__values:v,__read:w,__spread:b,__spreadArrays:_,__spreadArray:I,__await:E,__asyncGenerator:S,__asyncDelegator:T,__asyncValues:x,__makeTemplateObject:C,__importStar:A,__importDefault:N,__classPrivateFieldGet:k,__classPrivateFieldSet:O,__classPrivateFieldIn:L,__addDisposableResource:M,__disposeResources:R}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(156)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQ3ZTLEVBQUs0NUUsSUFBVW4rRSxPQUFPZSxVQUFVK2xCLGVBQWVqakIsS0FBS1UsRUFBSzQ1RSxHQ0NsRnVlLEVBQW9CN2xGLEVBQUt6VyxJQUNILG9CQUFYc3FCLFFBQTBCQSxPQUFPcXlFLGFBQzFDLzhGLE9BQU9HLGVBQWVDLEVBQVNzcUIsT0FBT3F5RSxZQUFhLENBQUV4L0YsTUFBTyxXQUU3RHlDLE9BQU9HLGVBQWVDLEVBQVMsYUFBYyxDQUFFN0MsT0FBTyxHQUFPLEVDRnBDbS9GLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9kaXN0L2luZGV4LmNqcy5qcyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvZmlyZXN0b3JlL2Rpc3QvaW5kZXguY2pzLmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2xvZ2dlci9kaXN0L2luZGV4LmNqcy5qcyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL2Rpc3QvaW5kZXguY2pzLmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3dlYmNoYW5uZWwtd3JhcHBlci9kaXN0L2Jsb29tLWJsb2IvYmxvb21fYmxvYl9lczIwMTguanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2Uvd2ViY2hhbm5lbC13cmFwcGVyL2Rpc3Qvd2ViY2hhbm5lbC1ibG9iL3dlYmNoYW5uZWxfYmxvYl9lczIwMTguanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hcHAvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9maXJlc3RvcmUvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvd3JhcC1pZGItdmFsdWUuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcclxuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBkb2MsIHNldERvYywgZ2V0RG9jLCBjb2xsZWN0aW9uLCBvblNuYXBzaG90LCBEb2N1bWVudERhdGEsIERvY3VtZW50U25hcHNob3QsIFF1ZXJ5U25hcHNob3QsIHVwZGF0ZURvYywgZ2V0RG9jc30gZnJvbSBcImZpcmViYXNlL2ZpcmVzdG9yZVwiO1xyXG5pbXBvcnQgXCIuL3N0eWxlcy9pbmRleC5jc3NcIjtcclxuXHJcbmNvbnN0IGZpcmViYXNlQ29uZmlnID0ge1xyXG4gICAgYXBpS2V5OiBcIkFJemFTeUJyRE5ieUJwbVJvVVNDVEktbnBGbTFZSW9kelFOaklvQVwiLFxyXG4gICAgYXV0aERvbWFpbjogXCJ3ZWRkaW5nLXNpdGUtYzFmYjAuZmlyZWJhc2VhcHAuY29tXCIsXHJcbiAgICBwcm9qZWN0SWQ6IFwid2VkZGluZy1zaXRlLWMxZmIwXCIsXHJcbiAgICBzdG9yYWdlQnVja2V0OiBcIndlZGRpbmctc2l0ZS1jMWZiMC5hcHBzcG90LmNvbVwiLFxyXG4gICAgbWVzc2FnaW5nU2VuZGVySWQ6IFwiNTE0ODA4MzQ5ODA1XCIsXHJcbiAgICBhcHBJZDogXCIxOjUxNDgwODM0OTgwNTp3ZWI6NTlkZWZlYWQ2OWQ3ZGE0ZTVhZWI2NFwiLFxyXG4gICAgbWVhc3VyZW1lbnRJZDogXCJHLTRITTdONzJERjRcIlxyXG59O1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBGaXJlYmFzZVxyXG5jb25zdCBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcclxuY29uc3QgZGIgPSBnZXRGaXJlc3RvcmUoYXBwKTtcclxuXHJcbi8vIERyaW5rIGRhdGFcclxuY29uc3QgY29ja3RhaWxzRGF0YTogc3RyaW5nW10gPSBbJ9Cc0L7RhdC40YLQvicsICfQkdCw0LfQuNC70LjQutC+0LLRi9C5INGB0LzRjdGIJywgJ9CQ0L/QtdGA0L7Qu9GMJywgJ9Cc0LDRgNCz0LDRgNC40YLQsCcsICfQn9C40L3QsC3QutC+0LvQsNC00LAnLCAn0JrQvtGB0LzQvtC/0L7Qu9C40YLQtdC9JywgJ9CU0LbQuNC9LdGC0L7QvdC40LonLCAn0K/Qs9C+0LTQvdGL0Lkg0YHQv9GA0LjRgtGGJ107XHJcbmNvbnN0IGx1eHVyeURhdGE6IHN0cmluZ1tdID0gWyfQktC+0LTQutCwJywgJ9CS0LjRgdC60LgnLCAn0JLQuNC90L4nLCAn0JDQsdGB0LXQvdGCJywgJ9Cg0L7QvCddO1xyXG5jb25zdCBiZWVyRGF0YTogc3RyaW5nW10gPSBbJ9Ca0L7RgNC+0L3QsCcsICdHdWluZXNzJywgJ1BhdWxhbmVyJywgJ1BpbHNuZXInXTtcclxuXHJcbmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hhc1ZvdGVkJykgPT09ICd0cnVlJykge1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRzJyk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdXJ2ZXktZm9ybS1pZCcpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1cnZleS1idXR0b24nKSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgICAgICBhd2FpdCBpbml0aWFsaXplUmVzdWx0cygpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZEd1ZXN0KGZ1bGxOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGd1ZXN0c0NvbGxlY3Rpb24gPSBjb2xsZWN0aW9uKGRiLCBcImd1ZXN0c1wiKTtcclxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoZ3Vlc3RzQ29sbGVjdGlvbik7XHJcbiAgICAgICAgY29uc3QgZ3Vlc3RDb3VudCA9IHNuYXBzaG90LmRvY3MubGVuZ3RoO1xyXG5cclxuICAgICAgICBpZiAoZ3Vlc3RDb3VudCA+PSAyNSkge1xyXG4gICAgICAgICAgICBhbGVydCgn0JTQvtGB0YLQuNCz0L3Rg9GC0L4g0LzQsNC60YHQuNC80LDQu9GM0L3QvtC1INC60L7Qu9C40YfQtdGB0YLQstC+INCz0L7RgdGC0LXQuSAoMjUpLicpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBndWVzdFJlZiA9IGRvYyhkYiwgXCJndWVzdHNcIiwgYCR7ZnVsbE5hbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhndWVzdFJlZik7XHJcblxyXG5cclxuICAgICAgICBpZiAoIWRvY1NuYXAuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgYXdhaXQgc2V0RG9jKGd1ZXN0UmVmLCB7IGZ1bGxOYW1lIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgR3Vlc3QgJHtmdWxsTmFtZX0gYWRkZWRgKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgR3Vlc3QgJHtmdWxsTmFtZX0gYWxyZWFkeSBleGlzdHNgKTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhZGRpbmcgZ3Vlc3Q6XCIsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlR3Vlc3RMaXN0SW5IVE1MKGd1ZXN0OiB7IGZ1bGxOYW1lOiBzdHJpbmcgfSwgaW5kZXg6IG51bWJlcik6IHZvaWQge1xyXG4gICAgY29uc3QgZ3Vlc3RMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWVzdExpc3RcIik7XHJcbiAgICBpZiAoIWd1ZXN0TGlzdCkgcmV0dXJuO1xyXG5cclxuICAgIGNvbnN0IHJvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICBjb25zdCBudW1iZXJDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gICAgbnVtYmVyQ2VsbC5jbGFzc0xpc3QuYWRkKCdudW1iZXInKVxyXG4gICAgbnVtYmVyQ2VsbC50ZXh0Q29udGVudCA9IChpbmRleCArIDEpLnRvU3RyaW5nKCk7XHJcbiAgICByb3cuYXBwZW5kQ2hpbGQobnVtYmVyQ2VsbCk7XHJcblxyXG4gICAgY29uc3QgbmFtZUNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7XHJcbiAgICBuYW1lQ2VsbC50ZXh0Q29udGVudCA9IGd1ZXN0LmZ1bGxOYW1lO1xyXG4gICAgcm93LmFwcGVuZENoaWxkKG5hbWVDZWxsKTtcclxuXHJcbiAgICBndWVzdExpc3QuYXBwZW5kQ2hpbGQocm93KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUd1ZXN0TGlzdCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IGd1ZXN0c0NvbGxlY3Rpb24gPSBjb2xsZWN0aW9uKGRiLCBcImd1ZXN0c1wiKTtcclxuXHJcbiAgICBvblNuYXBzaG90KGd1ZXN0c0NvbGxlY3Rpb24sIChzbmFwc2hvdDogUXVlcnlTbmFwc2hvdDxEb2N1bWVudERhdGE+KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZ3Vlc3RMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWVzdExpc3RcIik7XHJcbiAgICAgICAgaWYgKCFndWVzdExpc3QpIHJldHVybjtcclxuXHJcbiAgICAgICAgZ3Vlc3RMaXN0LmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgICAgIHNuYXBzaG90LmRvY3MuZm9yRWFjaCgoZG9jLCBpbmRleCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBndWVzdCA9IGRvYy5kYXRhKCkgYXMgeyBmdWxsTmFtZTogc3RyaW5nIH07XHJcbiAgICAgICAgICAgIHVwZGF0ZUd1ZXN0TGlzdEluSFRNTChndWVzdCwgaW5kZXgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkR3Vlc3RCdG5cIik/LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBmdWxsTmFtZSA9IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ1bGxOYW1lXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xyXG5cclxuICAgIGlmIChmdWxsTmFtZSkge1xyXG4gICAgICAgIGF3YWl0IGFkZEd1ZXN0KGZ1bGxOYW1lKTtcclxuICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmdWxsTmFtZVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZSA9IFwiXCI7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGFsZXJ0KFwi0J/QvtC20LDQu9GD0LnRgdGC0LAsINCy0LLQtdC00LjRgtC1INGE0LDQvNC40LvQuNGOINC4INC40LzRjyDQs9C+0YHRgtGPXCIpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmluaXRpYWxpemVHdWVzdExpc3QoKTtcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVJlc3VsdEluSFRNTChkcmluazogc3RyaW5nLCBjb3VudDogbnVtYmVyKTogdm9pZCB7XHJcbiAgICBjb25zdCBjb3VudEVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHtkcmluay50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL1xccysvZywgJy0nKX0tY291bnRgKTtcclxuICAgIGlmIChjb3VudEVsZW1lbnQpIHtcclxuICAgICAgICBjb3VudEVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7Y291bnR9INGH0LXQu9C+0LLQtdC6YDtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZUZpcmVzdG9yZURhdGEoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICBjb25zdCBjYXRlZ29yaWVzID0ge1xyXG4gICAgICAgIGNvY2t0YWlsczogY29ja3RhaWxzRGF0YSxcclxuICAgICAgICBsdXh1cnk6IGx1eHVyeURhdGEsXHJcbiAgICAgICAgYmVlcjogYmVlckRhdGEsXHJcbiAgICB9O1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yIChjb25zdCBbY2F0ZWdvcnksIGRyaW5rc10gb2YgT2JqZWN0LmVudHJpZXMoY2F0ZWdvcmllcykpIHtcclxuICAgICAgICAgICAgZm9yIChjb25zdCBkcmluayBvZiBkcmlua3MpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRyaW5rUmVmID0gZG9jKGRiLCBjYXRlZ29yeSwgZHJpbmsucmVwbGFjZSgvXFxzKy9nLCAnXycpKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZHJpbmtSZWYpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICghZG9jU25hcC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHNldERvYyhkcmlua1JlZiwgeyBjb3VudDogMCB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygnRmlyZXN0b3JlIGRhdGEgaW5pdGlhbGl6ZWQnKTtcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pdGlhbGl6aW5nIEZpcmVzdG9yZSBkYXRhOicsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gdXBkYXRlRHJpbmtDb3VudChkcmluazogc3RyaW5nLCBjYXRlZ29yeTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGRyaW5rUmVmID0gZG9jKGRiLCBjYXRlZ29yeSwgZHJpbmsucmVwbGFjZSgvXFxzKy9nLCAnXycpKTtcclxuICAgICAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRyaW5rUmVmKTtcclxuXHJcbiAgICAgICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudENvdW50ID0gZG9jU25hcC5kYXRhKCk/LmNvdW50IHx8IDA7XHJcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZURvYyhkcmlua1JlZiwgeyBjb3VudDogY3VycmVudENvdW50ICsgMSB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYFVwZGF0ZWQgJHtkcmlua30gaW4gJHtjYXRlZ29yeX06IG5ldyBjb3VudCAke2N1cnJlbnRDb3VudCArIDF9YCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgYXdhaXQgc2V0RG9jKGRyaW5rUmVmLCB7IGNvdW50OiAxIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgU2V0ICR7ZHJpbmt9IGluICR7Y2F0ZWdvcnl9OiBuZXcgY291bnQgMWApO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign0J7RiNC40LHQutCwINC/0YDQuCDQvtCx0L3QvtCy0LvQtdC90LjQuCDQutC+0LvQuNGH0LXRgdGC0LLQsCDQs9C+0LvQvtGB0L7QsjonLCBlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGluaXRpYWxpemVSZXN1bHRzKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjYXRlZ29yaWVzOiBzdHJpbmdbXSA9IFsnY29ja3RhaWxzJywgJ2x1eHVyeScsICdiZWVyJ107XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgY2F0ZWdvcnkgb2YgY2F0ZWdvcmllcykge1xyXG4gICAgICAgICAgICBjb25zdCBkcmlua3MgPSBjYXRlZ29yeSA9PT0gJ2NvY2t0YWlscycgPyBjb2NrdGFpbHNEYXRhIDpcclxuICAgICAgICAgICAgICAgIGNhdGVnb3J5ID09PSAnbHV4dXJ5JyA/IGx1eHVyeURhdGEgOlxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPT09ICdiZWVyJyA/IGJlZXJEYXRhIDogW107XHJcblxyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRyaW5rIG9mIGRyaW5rcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZHJpbmtSZWYgPSBkb2MoZGIsIGNhdGVnb3J5LCBkcmluay5yZXBsYWNlKC9cXHMrL2csICdfJykpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkcmlua1JlZik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IGRvY1NuYXAuZGF0YSgpPy5jb3VudCB8fCAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2RyaW5rLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfS1jb3VudGApO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb3VudEVsZW1lbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY291bnRFbGVtZW50LmlubmVyVGV4dCA9IGAke2NvdW50fSDRh9C10LvQvtCy0LXQumA7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0L/QvtC70YPRh9C10L3QuNGPINGA0LXQt9GD0LvRjNGC0LDRgtC+0LIg0L7Qv9GA0L7RgdCwOicsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgc3VydmV5Rm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdXJ2ZXktZm9ybScpO1xyXG5cclxuc3VydmV5Rm9ybT8uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgYXN5bmMgKGV2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoZXZlbnQudGFyZ2V0IGFzIEhUTUxGb3JtRWxlbWVudCk7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBjb2NrdGFpbERyaW5rcyA9IGZvcm1EYXRhLmdldEFsbCgnY29ja3RhaWwnKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGRyaW5rIG9mIGNvY2t0YWlsRHJpbmtzKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZURyaW5rQ291bnQoZHJpbmsudG9TdHJpbmcoKSwgJ2NvY2t0YWlscycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgbHV4dXJ5RHJpbmtzID0gZm9ybURhdGEuZ2V0QWxsKCdsdXh1cnknKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGRyaW5rIG9mIGx1eHVyeURyaW5rcykge1xyXG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVEcmlua0NvdW50KGRyaW5rLnRvU3RyaW5nKCksICdsdXh1cnknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGJlZXJEcmlua3MgPSBmb3JtRGF0YS5nZXRBbGwoJ2JlZXInKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGRyaW5rIG9mIGJlZXJEcmlua3MpIHtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlRHJpbmtDb3VudChkcmluay50b1N0cmluZygpLCAnYmVlcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2hhc1ZvdGVkJywgJ3RydWUnKTtcclxuICAgICAgICBpbml0aWFsaXplUmVzdWx0cygpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdXJ2ZXktZm9ybS1pZCcpPy5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdWx0cycpPy5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcclxuICAgICAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN1cnZleS1idXR0b24nKSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcign0J7RiNC40LHQutCwINC/0YDQuCDQvtCx0L3QvtCy0LvQtdC90LjQuCDQutC+0LvQuNGH0LXRgdGC0LLQsCDQs9C+0LvQvtGB0L7QsjonLCBlcnJvcik7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuY29uc3QgY2F0ZWdvcmllcyA9IFsnY29ja3RhaWxzJywgJ2x1eHVyeScsICdiZWVyJ107XHJcblxyXG5jYXRlZ29yaWVzLmZvckVhY2goY2F0ZWdvcnkgPT4ge1xyXG4gICAgY29uc3QgZHJpbmtzID0gY2F0ZWdvcnkgPT09ICdjb2NrdGFpbHMnID8gY29ja3RhaWxzRGF0YSA6XHJcbiAgICAgICAgY2F0ZWdvcnkgPT09ICdsdXh1cnknID8gbHV4dXJ5RGF0YSA6XHJcbiAgICAgICAgY2F0ZWdvcnkgPT09ICdiZWVyJyA/IGJlZXJEYXRhIDogW107XHJcblxyXG4gICAgZHJpbmtzLmZvckVhY2goKGRyaW5rKSA9PiB7XHJcbiAgICAgICAgY29uc3QgZHJpbmtSZWYgPSBkb2MoZGIsIGNhdGVnb3J5LCBkcmluay5yZXBsYWNlKC9cXHMrL2csICdfJykpO1xyXG4gICAgICAgIG9uU25hcHNob3QoZHJpbmtSZWYsIChkb2NTbmFwc2hvdDogRG9jdW1lbnRTbmFwc2hvdDxEb2N1bWVudERhdGE+KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChkb2NTbmFwc2hvdC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgY291bnQgPSBkb2NTbmFwc2hvdC5kYXRhKCk/LmNvdW50IHx8IDA7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVSZXN1bHRJbkhUTUwoZHJpbmssIGNvdW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcbmluaXRpYWxpemVGaXJlc3RvcmVEYXRhKCk7XHJcbmluaXRpYWxpemVSZXN1bHRzKCk7IiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29tcG9uZW50ID0gcmVxdWlyZSgnQGZpcmViYXNlL2NvbXBvbmVudCcpO1xudmFyIHRzbGliID0gcmVxdWlyZSgndHNsaWInKTtcbnZhciBsb2dnZXIkMSA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9sb2dnZXInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQGZpcmViYXNlL3V0aWwnKTtcbnZhciBpZGIgPSByZXF1aXJlKCdpZGInKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgfVxyXG4gICAgLy8gSW4gaW5pdGlhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCBieSBpbnN0YWxsYXRpb25zIG9uXHJcbiAgICAvLyBhdXRoIHRva2VuIHJlZnJlc2gsIGFuZCBpbnN0YWxsYXRpb25zIHdpbGwgc2VuZCB0aGlzIHN0cmluZy5cclxuICAgIFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwucHJvdG90eXBlLmdldFBsYXRmb3JtSW5mb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXJzID0gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXJzKCk7XHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHByb3ZpZGVycyBhbmQgZ2V0IGxpYnJhcnkvdmVyc2lvbiBwYWlycyBmcm9tIGFueSB0aGF0IGFyZVxyXG4gICAgICAgIC8vIHZlcnNpb24gY29tcG9uZW50cy5cclxuICAgICAgICByZXR1cm4gcHJvdmlkZXJzXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIocHJvdmlkZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VydmljZSA9IHByb3ZpZGVyLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHNlcnZpY2UubGlicmFyeSwgXCIvXCIpLmNvbmNhdChzZXJ2aWNlLnZlcnNpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChsb2dTdHJpbmcpIHsgcmV0dXJuIGxvZ1N0cmluZzsgfSlcclxuICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbDtcclxufSgpKTtcclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBwcm92aWRlciBjaGVjayBpZiB0aGlzIHByb3ZpZGVyIHByb3ZpZGVzIGEgVmVyc2lvblNlcnZpY2VcclxuICpcclxuICogTk9URTogVXNpbmcgUHJvdmlkZXI8J2FwcC12ZXJzaW9uJz4gaXMgYSBoYWNrIHRvIGluZGljYXRlIHRoYXQgdGhlIHByb3ZpZGVyXHJcbiAqIHByb3ZpZGVzIFZlcnNpb25TZXJ2aWNlLiBUaGUgcHJvdmlkZXIgaXMgbm90IG5lY2Vzc2FyaWx5IGEgJ2FwcC12ZXJzaW9uJ1xyXG4gKiBwcm92aWRlci5cclxuICovXHJcbmZ1bmN0aW9uIGlzVmVyc2lvblNlcnZpY2VQcm92aWRlcihwcm92aWRlcikge1xyXG4gICAgdmFyIGNvbXBvbmVudCA9IHByb3ZpZGVyLmdldENvbXBvbmVudCgpO1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQgPT09IG51bGwgfHwgY29tcG9uZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnQudHlwZSkgPT09IFwiVkVSU0lPTlwiIC8qIENvbXBvbmVudFR5cGUuVkVSU0lPTiAqLztcclxufVxuXG52YXIgbmFtZSRwID0gXCJAZmlyZWJhc2UvYXBwXCI7XG52YXIgdmVyc2lvbiQxID0gXCIwLjEwLjZcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIGxvZ2dlciA9IG5ldyBsb2dnZXIkMS5Mb2dnZXIoJ0BmaXJlYmFzZS9hcHAnKTtcblxudmFyIG5hbWUkbyA9IFwiQGZpcmViYXNlL2FwcC1jb21wYXRcIjtcblxudmFyIG5hbWUkbiA9IFwiQGZpcmViYXNlL2FuYWx5dGljcy1jb21wYXRcIjtcblxudmFyIG5hbWUkbSA9IFwiQGZpcmViYXNlL2FuYWx5dGljc1wiO1xuXG52YXIgbmFtZSRsID0gXCJAZmlyZWJhc2UvYXBwLWNoZWNrLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRrID0gXCJAZmlyZWJhc2UvYXBwLWNoZWNrXCI7XG5cbnZhciBuYW1lJGogPSBcIkBmaXJlYmFzZS9hdXRoXCI7XG5cbnZhciBuYW1lJGkgPSBcIkBmaXJlYmFzZS9hdXRoLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRoID0gXCJAZmlyZWJhc2UvZGF0YWJhc2VcIjtcblxudmFyIG5hbWUkZyA9IFwiQGZpcmViYXNlL2RhdGFiYXNlLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRmID0gXCJAZmlyZWJhc2UvZnVuY3Rpb25zXCI7XG5cbnZhciBuYW1lJGUgPSBcIkBmaXJlYmFzZS9mdW5jdGlvbnMtY29tcGF0XCI7XG5cbnZhciBuYW1lJGQgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zXCI7XG5cbnZhciBuYW1lJGMgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRiID0gXCJAZmlyZWJhc2UvbWVzc2FnaW5nXCI7XG5cbnZhciBuYW1lJGEgPSBcIkBmaXJlYmFzZS9tZXNzYWdpbmctY29tcGF0XCI7XG5cbnZhciBuYW1lJDkgPSBcIkBmaXJlYmFzZS9wZXJmb3JtYW5jZVwiO1xuXG52YXIgbmFtZSQ4ID0gXCJAZmlyZWJhc2UvcGVyZm9ybWFuY2UtY29tcGF0XCI7XG5cbnZhciBuYW1lJDcgPSBcIkBmaXJlYmFzZS9yZW1vdGUtY29uZmlnXCI7XG5cbnZhciBuYW1lJDYgPSBcIkBmaXJlYmFzZS9yZW1vdGUtY29uZmlnLWNvbXBhdFwiO1xuXG52YXIgbmFtZSQ1ID0gXCJAZmlyZWJhc2Uvc3RvcmFnZVwiO1xuXG52YXIgbmFtZSQ0ID0gXCJAZmlyZWJhc2Uvc3RvcmFnZS1jb21wYXRcIjtcblxudmFyIG5hbWUkMyA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG52YXIgbmFtZSQyID0gXCJAZmlyZWJhc2UvdmVydGV4YWktcHJldmlld1wiO1xuXG52YXIgbmFtZSQxID0gXCJAZmlyZWJhc2UvZmlyZXN0b3JlLWNvbXBhdFwiO1xuXG52YXIgbmFtZSA9IFwiZmlyZWJhc2VcIjtcbnZhciB2ZXJzaW9uID0gXCIxMC4xMi4zXCI7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBfYSQxO1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgYXBwIG5hbWVcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XHJcbnZhciBQTEFURk9STV9MT0dfU1RSSU5HID0gKF9hJDEgPSB7fSxcclxuICAgIF9hJDFbbmFtZSRwXSA9ICdmaXJlLWNvcmUnLFxyXG4gICAgX2EkMVtuYW1lJG9dID0gJ2ZpcmUtY29yZS1jb21wYXQnLFxyXG4gICAgX2EkMVtuYW1lJG1dID0gJ2ZpcmUtYW5hbHl0aWNzJyxcclxuICAgIF9hJDFbbmFtZSRuXSA9ICdmaXJlLWFuYWx5dGljcy1jb21wYXQnLFxyXG4gICAgX2EkMVtuYW1lJGtdID0gJ2ZpcmUtYXBwLWNoZWNrJyxcclxuICAgIF9hJDFbbmFtZSRsXSA9ICdmaXJlLWFwcC1jaGVjay1jb21wYXQnLFxyXG4gICAgX2EkMVtuYW1lJGpdID0gJ2ZpcmUtYXV0aCcsXHJcbiAgICBfYSQxW25hbWUkaV0gPSAnZmlyZS1hdXRoLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkaF0gPSAnZmlyZS1ydGRiJyxcclxuICAgIF9hJDFbbmFtZSRnXSA9ICdmaXJlLXJ0ZGItY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSRmXSA9ICdmaXJlLWZuJyxcclxuICAgIF9hJDFbbmFtZSRlXSA9ICdmaXJlLWZuLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkZF0gPSAnZmlyZS1paWQnLFxyXG4gICAgX2EkMVtuYW1lJGNdID0gJ2ZpcmUtaWlkLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkYl0gPSAnZmlyZS1mY20nLFxyXG4gICAgX2EkMVtuYW1lJGFdID0gJ2ZpcmUtZmNtLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkOV0gPSAnZmlyZS1wZXJmJyxcclxuICAgIF9hJDFbbmFtZSQ4XSA9ICdmaXJlLXBlcmYtY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSQ3XSA9ICdmaXJlLXJjJyxcclxuICAgIF9hJDFbbmFtZSQ2XSA9ICdmaXJlLXJjLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkNV0gPSAnZmlyZS1nY3MnLFxyXG4gICAgX2EkMVtuYW1lJDRdID0gJ2ZpcmUtZ2NzLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkM10gPSAnZmlyZS1mc3QnLFxyXG4gICAgX2EkMVtuYW1lJDFdID0gJ2ZpcmUtZnN0LWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkMl0gPSAnZmlyZS12ZXJ0ZXgnLFxyXG4gICAgX2EkMVsnZmlyZS1qcyddID0gJ2ZpcmUtanMnLFxyXG4gICAgX2EkMVtuYW1lXSA9ICdmaXJlLWpzLWFsbCcsXHJcbiAgICBfYSQxKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxudmFyIF9hcHBzID0gbmV3IE1hcCgpO1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgX3NlcnZlckFwcHMgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBSZWdpc3RlcmVkIGNvbXBvbmVudHMuXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxudmFyIF9jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4vKipcclxuICogQHBhcmFtIGNvbXBvbmVudCAtIHRoZSBjb21wb25lbnQgYmVpbmcgYWRkZWQgdG8gdGhpcyBhcHAncyBjb250YWluZXJcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfYWRkQ29tcG9uZW50KGFwcCwgY29tcG9uZW50KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGFwcC5jb250YWluZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcIkNvbXBvbmVudCBcIi5jb25jYXQoY29tcG9uZW50Lm5hbWUsIFwiIGZhaWxlZCB0byByZWdpc3RlciB3aXRoIEZpcmViYXNlQXBwIFwiKS5jb25jYXQoYXBwLm5hbWUpLCBlKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQoYXBwLCBjb21wb25lbnQpIHtcclxuICAgIGFwcC5jb250YWluZXIuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQoY29tcG9uZW50KTtcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIGNvbXBvbmVudCAtIHRoZSBjb21wb25lbnQgdG8gcmVnaXN0ZXJcclxuICogQHJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseVxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xyXG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQubmFtZTtcclxuICAgIGlmIChfY29tcG9uZW50cy5oYXMoY29tcG9uZW50TmFtZSkpIHtcclxuICAgICAgICBsb2dnZXIuZGVidWcoXCJUaGVyZSB3ZXJlIG11bHRpcGxlIGF0dGVtcHRzIHRvIHJlZ2lzdGVyIGNvbXBvbmVudCBcIi5jb25jYXQoY29tcG9uZW50TmFtZSwgXCIuXCIpKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfY29tcG9uZW50cy5zZXQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50KTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gYWRkIHRoZSBjb21wb25lbnQgdG8gZXhpc3RpbmcgYXBwIGluc3RhbmNlc1xyXG4gICAgICAgIGZvciAodmFyIF9jID0gdHNsaWIuX192YWx1ZXMoX2FwcHMudmFsdWVzKCkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBhcHAgPSBfZC52YWx1ZTtcclxuICAgICAgICAgICAgX2FkZENvbXBvbmVudChhcHAsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBfZSA9IHRzbGliLl9fdmFsdWVzKF9zZXJ2ZXJBcHBzLnZhbHVlcygpKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmVyQXBwID0gX2YudmFsdWU7XHJcbiAgICAgICAgICAgIF9hZGRDb21wb25lbnQoc2VydmVyQXBwLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcclxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcclxuICpcclxuICogQHJldHVybnMgdGhlIHByb3ZpZGVyIGZvciB0aGUgc2VydmljZSB3aXRoIHRoZSBtYXRjaGluZyBuYW1lXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2dldFByb3ZpZGVyKGFwcCwgbmFtZSkge1xyXG4gICAgdmFyIGhlYXJ0YmVhdENvbnRyb2xsZXIgPSBhcHAuY29udGFpbmVyXHJcbiAgICAgICAgLmdldFByb3ZpZGVyKCdoZWFydGJlYXQnKVxyXG4gICAgICAgIC5nZXRJbW1lZGlhdGUoeyBvcHRpb25hbDogdHJ1ZSB9KTtcclxuICAgIGlmIChoZWFydGJlYXRDb250cm9sbGVyKSB7XHJcbiAgICAgICAgdm9pZCBoZWFydGJlYXRDb250cm9sbGVyLnRyaWdnZXJIZWFydGJlYXQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcHAuY29udGFpbmVyLmdldFByb3ZpZGVyKG5hbWUpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcclxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcclxuICogQHBhcmFtIGluc3RhbmNlSWRlbnRpZmllciAtIHNlcnZpY2UgaW5zdGFuY2UgaWRlbnRpZmllciBpbiBjYXNlIHRoZSBzZXJ2aWNlIHN1cHBvcnRzIG11bHRpcGxlIGluc3RhbmNlc1xyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UoYXBwLCBuYW1lLCBpbnN0YW5jZUlkZW50aWZpZXIpIHtcclxuICAgIGlmIChpbnN0YW5jZUlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpbnN0YW5jZUlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpLmNsZWFySW5zdGFuY2UoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIG9iaiAtIGFuIG9iamVjdCBvZiB0eXBlIEZpcmViYXNlQXBwIG9yIEZpcmViYXNlT3B0aW9ucy5cclxuICpcclxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZSBvYmplY3QgaXMgb2YgdHlwZSBGaXJlYmFzZUFwcC5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfaXNGaXJlYmFzZUFwcChvYmopIHtcclxuICAgIHJldHVybiBvYmoub3B0aW9ucyAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqIC0gYW4gb2JqZWN0IG9mIHR5cGUgRmlyZWJhc2VBcHAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIG9iamVjdCBpcyBvZiB0eXBlIEZpcmViYXNlU2VydmVyQXBwSW1wbC5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfaXNGaXJlYmFzZVNlcnZlckFwcChvYmopIHtcclxuICAgIHJldHVybiBvYmouc2V0dGluZ3MgIT09IHVuZGVmaW5lZDtcclxufVxyXG4vKipcclxuICogVGVzdCBvbmx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2NsZWFyQ29tcG9uZW50cygpIHtcclxuICAgIF9jb21wb25lbnRzLmNsZWFyKCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIF9hO1xyXG52YXIgRVJST1JTID0gKF9hID0ge30sXHJcbiAgICBfYVtcIm5vLWFwcFwiIC8qIEFwcEVycm9yLk5PX0FQUCAqL10gPSBcIk5vIEZpcmViYXNlIEFwcCAneyRhcHBOYW1lfScgaGFzIGJlZW4gY3JlYXRlZCAtIFwiICtcclxuICAgICAgICAnY2FsbCBpbml0aWFsaXplQXBwKCkgZmlyc3QnLFxyXG4gICAgX2FbXCJiYWQtYXBwLW5hbWVcIiAvKiBBcHBFcnJvci5CQURfQVBQX05BTUUgKi9dID0gXCJJbGxlZ2FsIEFwcCBuYW1lOiAneyRhcHBOYW1lfSdcIixcclxuICAgIF9hW1wiZHVwbGljYXRlLWFwcFwiIC8qIEFwcEVycm9yLkRVUExJQ0FURV9BUFAgKi9dID0gXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZXhpc3RzIHdpdGggZGlmZmVyZW50IG9wdGlvbnMgb3IgY29uZmlnXCIsXHJcbiAgICBfYVtcImFwcC1kZWxldGVkXCIgLyogQXBwRXJyb3IuQVBQX0RFTEVURUQgKi9dID0gXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZGVsZXRlZFwiLFxyXG4gICAgX2FbXCJzZXJ2ZXItYXBwLWRlbGV0ZWRcIiAvKiBBcHBFcnJvci5TRVJWRVJfQVBQX0RFTEVURUQgKi9dID0gJ0ZpcmViYXNlIFNlcnZlciBBcHAgaGFzIGJlZW4gZGVsZXRlZCcsXHJcbiAgICBfYVtcIm5vLW9wdGlvbnNcIiAvKiBBcHBFcnJvci5OT19PUFRJT05TICovXSA9ICdOZWVkIHRvIHByb3ZpZGUgb3B0aW9ucywgd2hlbiBub3QgYmVpbmcgZGVwbG95ZWQgdG8gaG9zdGluZyB2aWEgc291cmNlLicsXHJcbiAgICBfYVtcImludmFsaWQtYXBwLWFyZ3VtZW50XCIgLyogQXBwRXJyb3IuSU5WQUxJRF9BUFBfQVJHVU1FTlQgKi9dID0gJ2ZpcmViYXNlLnskYXBwTmFtZX0oKSB0YWtlcyBlaXRoZXIgbm8gYXJndW1lbnQgb3IgYSAnICtcclxuICAgICAgICAnRmlyZWJhc2UgQXBwIGluc3RhbmNlLicsXHJcbiAgICBfYVtcImludmFsaWQtbG9nLWFyZ3VtZW50XCIgLyogQXBwRXJyb3IuSU5WQUxJRF9MT0dfQVJHVU1FTlQgKi9dID0gJ0ZpcnN0IGFyZ3VtZW50IHRvIGBvbkxvZ2AgbXVzdCBiZSBudWxsIG9yIGEgZnVuY3Rpb24uJyxcclxuICAgIF9hW1wiaWRiLW9wZW5cIiAvKiBBcHBFcnJvci5JREJfT1BFTiAqL10gPSAnRXJyb3IgdGhyb3duIHdoZW4gb3BlbmluZyBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxyXG4gICAgX2FbXCJpZGItZ2V0XCIgLyogQXBwRXJyb3IuSURCX0dFVCAqL10gPSAnRXJyb3IgdGhyb3duIHdoZW4gcmVhZGluZyBmcm9tIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXHJcbiAgICBfYVtcImlkYi1zZXRcIiAvKiBBcHBFcnJvci5JREJfV1JJVEUgKi9dID0gJ0Vycm9yIHRocm93biB3aGVuIHdyaXRpbmcgdG8gSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcclxuICAgIF9hW1wiaWRiLWRlbGV0ZVwiIC8qIEFwcEVycm9yLklEQl9ERUxFVEUgKi9dID0gJ0Vycm9yIHRocm93biB3aGVuIGRlbGV0aW5nIGZyb20gSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcclxuICAgIF9hW1wiZmluYWxpemF0aW9uLXJlZ2lzdHJ5LW5vdC1zdXBwb3J0ZWRcIiAvKiBBcHBFcnJvci5GSU5BTElaQVRJT05fUkVHSVNUUllfTk9UX1NVUFBPUlRFRCAqL10gPSAnRmlyZWJhc2VTZXJ2ZXJBcHAgZGVsZXRlT25EZXJlZiBmaWVsZCBkZWZpbmVkIGJ1dCB0aGUgSlMgcnVudGltZSBkb2VzIG5vdCBzdXBwb3J0IEZpbmFsaXphdGlvblJlZ2lzdHJ5LicsXHJcbiAgICBfYVtcImludmFsaWQtc2VydmVyLWFwcC1lbnZpcm9ubWVudFwiIC8qIEFwcEVycm9yLklOVkFMSURfU0VSVkVSX0FQUF9FTlZJUk9OTUVOVCAqL10gPSAnRmlyZWJhc2VTZXJ2ZXJBcHAgaXMgbm90IGZvciB1c2UgaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuJyxcclxuICAgIF9hKTtcclxudmFyIEVSUk9SX0ZBQ1RPUlkgPSBuZXcgdXRpbC5FcnJvckZhY3RvcnkoJ2FwcCcsICdGaXJlYmFzZScsIEVSUk9SUyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBGaXJlYmFzZUFwcEltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBGaXJlYmFzZUFwcEltcGwob3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2lzRGVsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB0c2xpYi5fX2Fzc2lnbih7fSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fY29uZmlnID0gdHNsaWIuX19hc3NpZ24oe30sIGNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGNvbmZpZy5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9XHJcbiAgICAgICAgICAgIGNvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENvbXBvbmVudChuZXcgY29tcG9uZW50LkNvbXBvbmVudCgnYXBwJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXM7IH0sIFwiUFVCTElDXCIgLyogQ29tcG9uZW50VHlwZS5QVUJMSUMgKi8pKTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLCBcImF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJvcHRpb25zXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJjb25maWdcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUsIFwiY29udGFpbmVyXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJpc0RlbGV0ZWRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEZWxldGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRGVsZXRlZCA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBhbiBFcnJvciBpZiB0aGUgQXBwIGhhcyBhbHJlYWR5IGJlZW4gZGVsZXRlZCAtXHJcbiAgICAgKiB1c2UgYmVmb3JlIHBlcmZvcm1pbmcgQVBJIGFjdGlvbnMgb24gdGhlIEFwcC5cclxuICAgICAqL1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5jaGVja0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLkFQUF9ERUxFVEVEICovLCB7IGFwcE5hbWU6IHRoaXMuX25hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBGaXJlYmFzZUFwcEltcGw7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBGaXJlYmFzZVNlcnZlckFwcEltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICB0c2xpYi5fX2V4dGVuZHMoRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsKG9wdGlvbnMsIHNlcnZlckNvbmZpZywgbmFtZSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBCdWlsZCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSBGaXJlYmFzZUFwcEltcGwgYmFzZSBjbGFzcy5cclxuICAgICAgICB2YXIgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID0gc2VydmVyQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gc2VydmVyQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFxyXG4gICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgRmlyZWJhc2VBcHBTZXR0aW5ncyBvYmplY3QgZm9yIHRoZSBGaXJlYmFzZUFwcEltcCBjb25zdHJ1Y3Rvci5cclxuICAgICAgICB2YXIgY29uZmlnID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXBpS2V5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBwYXJlbnQgRmlyZWJhc2VBcHBJbXAgb2JqZWN0LlxyXG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMsIGNvbmZpZywgY29udGFpbmVyKSB8fCB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGFwcEltcGwgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGFwcEltcGwub3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpIHx8IHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vdyBjb25zdHJ1Y3QgdGhlIGRhdGEgZm9yIHRoZSBGaXJlYmFzZVNlcnZlckFwcEltcGwuXHJcbiAgICAgICAgX3RoaXMuX3NlcnZlckNvbmZpZyA9IHRzbGliLl9fYXNzaWduKHsgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkOiBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgfSwgc2VydmVyQ29uZmlnKTtcclxuICAgICAgICBfdGhpcy5fZmluYWxpemF0aW9uUmVnaXN0cnkgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeSA9IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hdXRvbWF0aWNDbGVhbnVwKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5fcmVmQ291bnQgPSAwO1xyXG4gICAgICAgIF90aGlzLmluY1JlZkNvdW50KF90aGlzLl9zZXJ2ZXJDb25maWcucmVsZWFzZU9uRGVyZWYpO1xyXG4gICAgICAgIC8vIERvIG5vdCByZXRhaW4gYSBoYXJkIHJlZmVyZW5jZSB0byB0aGUgZHJlZiBvYmplY3QsIG90aGVyd2lzZSB0aGUgRmluYWxpemF0aW9uUmVnaXNyeVxyXG4gICAgICAgIC8vIHdpbGwgbmV2ZXIgdHJpZ2dlci5cclxuICAgICAgICBfdGhpcy5fc2VydmVyQ29uZmlnLnJlbGVhc2VPbkRlcmVmID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHNlcnZlckNvbmZpZy5yZWxlYXNlT25EZXJlZiA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZWdpc3RlclZlcnNpb24obmFtZSRwLCB2ZXJzaW9uJDEsICdzZXJ2ZXJhcHAnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLCBcInJlZkNvdW50XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlZkNvdW50O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZXJlbmNlIGNvdW50IG9mIHRoaXMgc2VydmVyIGFwcC4gSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkLCByZWdpc3RlciBpdFxyXG4gICAgLy8gd2l0aCB0aGUgZmluYWxpemF0aW9uIHJlZ2lzdHJ5LlxyXG4gICAgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLnByb3RvdHlwZS5pbmNSZWZDb3VudCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9yZWZDb3VudCsrO1xyXG4gICAgICAgIGlmIChvYmogIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeS5yZWdpc3RlcihvYmosIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBjb3VudC5cclxuICAgIEZpcmViYXNlU2VydmVyQXBwSW1wbC5wcm90b3R5cGUuZGVjUmVmQ291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEZWxldGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLS10aGlzLl9yZWZDb3VudDtcclxuICAgIH07XHJcbiAgICAvLyBJbnZva2VkIGJ5IHRoZSBGaW5hbGl6YXRpb25SZWdpc3RyeSBjYWxsYmFjayB0byBub3RlIHRoYXQgdGhpcyBhcHAgc2hvdWxkIGdvIHRocm91Z2ggaXRzXHJcbiAgICAvLyByZWZlcmVuY2UgY291bnRzIGFuZCBkZWxldGUgaXRzZWxmIGlmIG5vIHJlZmVyZW5jZSBjb3VudCByZW1haW4uIFRoZSBjb29yZGluYXRpbmcgbG9naWMgdGhhdFxyXG4gICAgLy8gaGFuZGxlcyB0aGlzIGlzIGluIGRlbGV0ZUFwcCguLi4pLlxyXG4gICAgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLnByb3RvdHlwZS5hdXRvbWF0aWNDbGVhbnVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZvaWQgZGVsZXRlQXBwKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLCBcInNldHRpbmdzXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VydmVyQ29uZmlnO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cclxuICAgICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLmNoZWNrRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInNlcnZlci1hcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLlNFUlZFUl9BUFBfREVMRVRFRCAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBGaXJlYmFzZVNlcnZlckFwcEltcGw7XHJcbn0oRmlyZWJhc2VBcHBJbXBsKSk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgY3VycmVudCBTREsgdmVyc2lvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxudmFyIFNES19WRVJTSU9OID0gdmVyc2lvbjtcclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcChfb3B0aW9ucywgcmF3Q29uZmlnKSB7XHJcbiAgICB2YXIgZV8xLCBfYTtcclxuICAgIGlmIChyYXdDb25maWcgPT09IHZvaWQgMCkgeyByYXdDb25maWcgPSB7fTsgfVxyXG4gICAgdmFyIG9wdGlvbnMgPSBfb3B0aW9ucztcclxuICAgIGlmICh0eXBlb2YgcmF3Q29uZmlnICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHZhciBuYW1lXzEgPSByYXdDb25maWc7XHJcbiAgICAgICAgcmF3Q29uZmlnID0geyBuYW1lOiBuYW1lXzEgfTtcclxuICAgIH1cclxuICAgIHZhciBjb25maWcgPSB0c2xpYi5fX2Fzc2lnbih7IG5hbWU6IERFRkFVTFRfRU5UUllfTkFNRSwgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkOiBmYWxzZSB9LCByYXdDb25maWcpO1xyXG4gICAgdmFyIG5hbWUgPSBjb25maWcubmFtZTtcclxuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgIW5hbWUpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImJhZC1hcHAtbmFtZVwiIC8qIEFwcEVycm9yLkJBRF9BUFBfTkFNRSAqLywge1xyXG4gICAgICAgICAgICBhcHBOYW1lOiBTdHJpbmcobmFtZSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB1dGlsLmdldERlZmF1bHRBcHBDb25maWcoKSk7XHJcbiAgICBpZiAoIW9wdGlvbnMpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLW9wdGlvbnNcIiAvKiBBcHBFcnJvci5OT19PUFRJT05TICovKTtcclxuICAgIH1cclxuICAgIHZhciBleGlzdGluZ0FwcCA9IF9hcHBzLmdldChuYW1lKTtcclxuICAgIGlmIChleGlzdGluZ0FwcCkge1xyXG4gICAgICAgIC8vIHJldHVybiB0aGUgZXhpc3RpbmcgYXBwIGlmIG9wdGlvbnMgYW5kIGNvbmZpZyBkZWVwIGVxdWFsIHRoZSBvbmVzIGluIHRoZSBleGlzdGluZyBhcHAuXHJcbiAgICAgICAgaWYgKHV0aWwuZGVlcEVxdWFsKG9wdGlvbnMsIGV4aXN0aW5nQXBwLm9wdGlvbnMpICYmXHJcbiAgICAgICAgICAgIHV0aWwuZGVlcEVxdWFsKGNvbmZpZywgZXhpc3RpbmdBcHAuY29uZmlnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdBcHA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImR1cGxpY2F0ZS1hcHBcIiAvKiBBcHBFcnJvci5EVVBMSUNBVEVfQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGNvbnRhaW5lciA9IG5ldyBjb21wb25lbnQuQ29tcG9uZW50Q29udGFpbmVyKG5hbWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBfYiA9IHRzbGliLl9fdmFsdWVzKF9jb21wb25lbnRzLnZhbHVlcygpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50JDEgPSBfYy52YWx1ZTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQkMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5ld0FwcCA9IG5ldyBGaXJlYmFzZUFwcEltcGwob3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpO1xyXG4gICAgX2FwcHMuc2V0KG5hbWUsIG5ld0FwcCk7XHJcbiAgICByZXR1cm4gbmV3QXBwO1xyXG59XHJcbmZ1bmN0aW9uIGluaXRpYWxpemVTZXJ2ZXJBcHAoX29wdGlvbnMsIF9zZXJ2ZXJBcHBDb25maWcpIHtcclxuICAgIHZhciBlXzIsIF9hO1xyXG4gICAgaWYgKHV0aWwuaXNCcm93c2VyKCkgJiYgIXV0aWwuaXNXZWJXb3JrZXIoKSkge1xyXG4gICAgICAgIC8vIEZpcmViYXNlU2VydmVyQXBwIGlzbid0IGRlc2lnbmVkIHRvIGJlIHJ1biBpbiBicm93c2Vycy5cclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtc2VydmVyLWFwcC1lbnZpcm9ubWVudFwiIC8qIEFwcEVycm9yLklOVkFMSURfU0VSVkVSX0FQUF9FTlZJUk9OTUVOVCAqLyk7XHJcbiAgICB9XHJcbiAgICBpZiAoX3NlcnZlckFwcENvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIF9zZXJ2ZXJBcHBDb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgYXBwT3B0aW9ucztcclxuICAgIGlmIChfaXNGaXJlYmFzZUFwcChfb3B0aW9ucykpIHtcclxuICAgICAgICBhcHBPcHRpb25zID0gX29wdGlvbnMub3B0aW9ucztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFwcE9wdGlvbnMgPSBfb3B0aW9ucztcclxuICAgIH1cclxuICAgIC8vIEJ1aWxkIGFuIGFwcCBuYW1lIGJhc2VkIG9uIGEgaGFzaCBvZiB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zLlxyXG4gICAgdmFyIG5hbWVPYmogPSB0c2xpYi5fX2Fzc2lnbih0c2xpYi5fX2Fzc2lnbih7fSwgX3NlcnZlckFwcENvbmZpZyksIGFwcE9wdGlvbnMpO1xyXG4gICAgLy8gSG93ZXZlciwgRG8gbm90IG1hbmdsZSB0aGUgbmFtZSBiYXNlZCBvbiByZWxlYXNlT25EZXJlZiwgc2luY2UgaXQgd2lsbCB2YXJ5IGJldHdlZW4gdGhlXHJcbiAgICAvLyBjb25zdHJ1Y3Rpb24gb2YgRmlyZWJhc2VTZXJ2ZXJBcHAgaW5zdGFuY2VzLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG9iamVjdCBpcyB0aGUgcmVxdWVzdCBoZWFkZXJzLlxyXG4gICAgaWYgKG5hbWVPYmoucmVsZWFzZU9uRGVyZWYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGRlbGV0ZSBuYW1lT2JqLnJlbGVhc2VPbkRlcmVmO1xyXG4gICAgfVxyXG4gICAgdmFyIGhhc2hDb2RlID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19zcHJlYWRBcnJheShbXSwgdHNsaWIuX19yZWFkKHMpLCBmYWxzZSkucmVkdWNlKGZ1bmN0aW9uIChoYXNoLCBjKSB7IHJldHVybiAoTWF0aC5pbXVsKDMxLCBoYXNoKSArIGMuY2hhckNvZGVBdCgwKSkgfCAwOyB9LCAwKTtcclxuICAgIH07XHJcbiAgICBpZiAoX3NlcnZlckFwcENvbmZpZy5yZWxlYXNlT25EZXJlZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJmaW5hbGl6YXRpb24tcmVnaXN0cnktbm90LXN1cHBvcnRlZFwiIC8qIEFwcEVycm9yLkZJTkFMSVpBVElPTl9SRUdJU1RSWV9OT1RfU1VQUE9SVEVEICovLCB7fSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5hbWVTdHJpbmcgPSAnJyArIGhhc2hDb2RlKEpTT04uc3RyaW5naWZ5KG5hbWVPYmopKTtcclxuICAgIHZhciBleGlzdGluZ0FwcCA9IF9zZXJ2ZXJBcHBzLmdldChuYW1lU3RyaW5nKTtcclxuICAgIGlmIChleGlzdGluZ0FwcCkge1xyXG4gICAgICAgIGV4aXN0aW5nQXBwLmluY1JlZkNvdW50KF9zZXJ2ZXJBcHBDb25maWcucmVsZWFzZU9uRGVyZWYpO1xyXG4gICAgICAgIHJldHVybiBleGlzdGluZ0FwcDtcclxuICAgIH1cclxuICAgIHZhciBjb250YWluZXIgPSBuZXcgY29tcG9uZW50LkNvbXBvbmVudENvbnRhaW5lcihuYW1lU3RyaW5nKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yICh2YXIgX2IgPSB0c2xpYi5fX3ZhbHVlcyhfY29tcG9uZW50cy52YWx1ZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCQxID0gX2MudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDb21wb25lbnQoY29tcG9uZW50JDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHZhciBuZXdBcHAgPSBuZXcgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsKGFwcE9wdGlvbnMsIF9zZXJ2ZXJBcHBDb25maWcsIG5hbWVTdHJpbmcsIGNvbnRhaW5lcik7XHJcbiAgICBfc2VydmVyQXBwcy5zZXQobmFtZVN0cmluZywgbmV3QXBwKTtcclxuICAgIHJldHVybiBuZXdBcHA7XHJcbn1cclxuLyoqXHJcbiAqIFJldHJpZXZlcyBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBpbnN0YW5jZS5cclxuICpcclxuICogV2hlbiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIHRoZSBkZWZhdWx0IGFwcCBpcyByZXR1cm5lZC4gV2hlbiBhbiBhcHAgbmFtZVxyXG4gKiBpcyBwcm92aWRlZCwgdGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoYXQgbmFtZSBpcyByZXR1cm5lZC5cclxuICpcclxuICogQW4gZXhjZXB0aW9uIGlzIHRocm93biBpZiB0aGUgYXBwIGJlaW5nIHJldHJpZXZlZCBoYXMgbm90IHlldCBiZWVuXHJcbiAqIGluaXRpYWxpemVkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHVybiB0aGUgZGVmYXVsdCBhcHBcclxuICogY29uc3QgYXBwID0gZ2V0QXBwKCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHVybiBhIG5hbWVkIGFwcFxyXG4gKiBjb25zdCBvdGhlckFwcCA9IGdldEFwcChcIm90aGVyQXBwXCIpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIG5hbWUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBhcHAgdG8gcmV0dXJuLiBJZiBubyBuYW1lIGlzXHJcbiAqICAgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGlzIGBcIltERUZBVUxUXVwiYC5cclxuICpcclxuICogQHJldHVybnMgVGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBhcHAgbmFtZS5cclxuICogICBJZiBubyBhcHAgbmFtZSBpcyBwcm92aWRlZCwgdGhlIGRlZmF1bHQgYXBwIGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBcHAobmFtZSkge1xyXG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICB2YXIgYXBwID0gX2FwcHMuZ2V0KG5hbWUpO1xyXG4gICAgaWYgKCFhcHAgJiYgbmFtZSA9PT0gREVGQVVMVF9FTlRSWV9OQU1FICYmIHV0aWwuZ2V0RGVmYXVsdEFwcENvbmZpZygpKSB7XHJcbiAgICAgICAgcmV0dXJuIGluaXRpYWxpemVBcHAoKTtcclxuICAgIH1cclxuICAgIGlmICghYXBwKSB7XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJuby1hcHBcIiAvKiBBcHBFcnJvci5OT19BUFAgKi8sIHsgYXBwTmFtZTogbmFtZSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcHA7XHJcbn1cclxuLyoqXHJcbiAqIEEgKHJlYWQtb25seSkgYXJyYXkgb2YgYWxsIGluaXRpYWxpemVkIGFwcHMuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIGdldEFwcHMoKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShfYXBwcy52YWx1ZXMoKSk7XHJcbn1cclxuLyoqXHJcbiAqIFJlbmRlcnMgdGhpcyBhcHAgdW51c2FibGUgYW5kIGZyZWVzIHRoZSByZXNvdXJjZXMgb2YgYWxsIGFzc29jaWF0ZWRcclxuICogc2VydmljZXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogZGVsZXRlQXBwKGFwcClcclxuICogICAudGhlbihmdW5jdGlvbigpIHtcclxuICogICAgIGNvbnNvbGUubG9nKFwiQXBwIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gKiAgIH0pXHJcbiAqICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAqICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGRlbGV0aW5nIGFwcDpcIiwgZXJyb3IpO1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gZGVsZXRlQXBwKGFwcCkge1xyXG4gICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjbGVhbnVwUHJvdmlkZXJzLCBuYW1lLCBmaXJlYmFzZVNlcnZlckFwcDtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwUHJvdmlkZXJzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGFwcC5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfYXBwcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW51cFByb3ZpZGVycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hcHBzLmRlbGV0ZShuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX3NlcnZlckFwcHMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcmViYXNlU2VydmVyQXBwID0gYXBwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZWJhc2VTZXJ2ZXJBcHAuZGVjUmVmQ291bnQoKSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmVyQXBwcy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwUHJvdmlkZXJzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNsZWFudXBQcm92aWRlcnMpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKGFwcC5jb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRQcm92aWRlcnMoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvdmlkZXIpIHsgcmV0dXJuIHByb3ZpZGVyLmRlbGV0ZSgpOyB9KSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuaXNEZWxldGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFJlZ2lzdGVycyBhIGxpYnJhcnkncyBuYW1lIGFuZCB2ZXJzaW9uIGZvciBwbGF0Zm9ybSBsb2dnaW5nIHB1cnBvc2VzLlxyXG4gKiBAcGFyYW0gbGlicmFyeSAtIE5hbWUgb2YgMXAgb3IgM3AgbGlicmFyeSAoZS5nLiBmaXJlc3RvcmUsIGFuZ3VsYXJmaXJlKVxyXG4gKiBAcGFyYW0gdmVyc2lvbiAtIEN1cnJlbnQgdmVyc2lvbiBvZiB0aGF0IGxpYnJhcnkuXHJcbiAqIEBwYXJhbSB2YXJpYW50IC0gQnVuZGxlIHZhcmlhbnQsIGUuZy4sIG5vZGUsIHJuLCBldGMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyVmVyc2lvbihsaWJyYXJ5S2V5T3JOYW1lLCB2ZXJzaW9uLCB2YXJpYW50KSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICAvLyBUT0RPOiBXZSBjYW4gdXNlIHRoaXMgY2hlY2sgdG8gd2hpdGVsaXN0IHN0cmluZ3Mgd2hlbi9pZiB3ZSBzZXQgdXBcclxuICAgIC8vIGEgZ29vZCB3aGl0ZWxpc3Qgc3lzdGVtLlxyXG4gICAgdmFyIGxpYnJhcnkgPSAoX2EgPSBQTEFURk9STV9MT0dfU1RSSU5HW2xpYnJhcnlLZXlPck5hbWVdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBsaWJyYXJ5S2V5T3JOYW1lO1xyXG4gICAgaWYgKHZhcmlhbnQpIHtcclxuICAgICAgICBsaWJyYXJ5ICs9IFwiLVwiLmNvbmNhdCh2YXJpYW50KTtcclxuICAgIH1cclxuICAgIHZhciBsaWJyYXJ5TWlzbWF0Y2ggPSBsaWJyYXJ5Lm1hdGNoKC9cXHN8XFwvLyk7XHJcbiAgICB2YXIgdmVyc2lvbk1pc21hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgaWYgKGxpYnJhcnlNaXNtYXRjaCB8fCB2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICB2YXIgd2FybmluZyA9IFtcclxuICAgICAgICAgICAgXCJVbmFibGUgdG8gcmVnaXN0ZXIgbGlicmFyeSBcXFwiXCIuY29uY2F0KGxpYnJhcnksIFwiXFxcIiB3aXRoIHZlcnNpb24gXFxcIlwiKS5jb25jYXQodmVyc2lvbiwgXCJcXFwiOlwiKVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgaWYgKGxpYnJhcnlNaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB3YXJuaW5nLnB1c2goXCJsaWJyYXJ5IG5hbWUgXFxcIlwiLmNvbmNhdChsaWJyYXJ5LCBcIlxcXCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFxcXCIvXFxcIilcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGlicmFyeU1pc21hdGNoICYmIHZlcnNpb25NaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB3YXJuaW5nLnB1c2goJ2FuZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmcucHVzaChcInZlcnNpb24gbmFtZSBcXFwiXCIuY29uY2F0KHZlcnNpb24sIFwiXFxcIiBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnMgKHdoaXRlc3BhY2Ugb3IgXFxcIi9cXFwiKVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvZ2dlci53YXJuKHdhcm5pbmcuam9pbignICcpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnQobmV3IGNvbXBvbmVudC5Db21wb25lbnQoXCJcIi5jb25jYXQobGlicmFyeSwgXCItdmVyc2lvblwiKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgbGlicmFyeTogbGlicmFyeSwgdmVyc2lvbjogdmVyc2lvbiB9KTsgfSwgXCJWRVJTSU9OXCIgLyogQ29tcG9uZW50VHlwZS5WRVJTSU9OICovKSk7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgbG9nIGhhbmRsZXIgZm9yIGFsbCBGaXJlYmFzZSBTREtzLlxyXG4gKiBAcGFyYW0gbG9nQ2FsbGJhY2sgLSBBbiBvcHRpb25hbCBjdXN0b20gbG9nIGhhbmRsZXIgdGhhdCBleGVjdXRlcyB1c2VyIGNvZGUgd2hlbmV2ZXJcclxuICogdGhlIEZpcmViYXNlIFNESyBtYWtlcyBhIGxvZ2dpbmcgY2FsbC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gb25Mb2cobG9nQ2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICAgIGlmIChsb2dDYWxsYmFjayAhPT0gbnVsbCAmJiB0eXBlb2YgbG9nQ2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtbG9nLWFyZ3VtZW50XCIgLyogQXBwRXJyb3IuSU5WQUxJRF9MT0dfQVJHVU1FTlQgKi8pO1xyXG4gICAgfVxyXG4gICAgbG9nZ2VyJDEuc2V0VXNlckxvZ0hhbmRsZXIobG9nQ2FsbGJhY2ssIG9wdGlvbnMpO1xyXG59XHJcbi8qKlxyXG4gKiBTZXRzIGxvZyBsZXZlbCBmb3IgYWxsIEZpcmViYXNlIFNES3MuXHJcbiAqXHJcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCBhcmUgY2FwdHVyZWQgKGkuZS4gaWZcclxuICogeW91IHNldCB0aGUgbG9nIGxldmVsIHRvIGBpbmZvYCwgZXJyb3JzIGFyZSBsb2dnZWQsIGJ1dCBgZGVidWdgIGFuZFxyXG4gKiBgdmVyYm9zZWAgbG9ncyBhcmUgbm90KS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0TG9nTGV2ZWwobG9nTGV2ZWwpIHtcclxuICAgIGxvZ2dlciQxLnNldExvZ0xldmVsKGxvZ0xldmVsKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgREJfTkFNRSA9ICdmaXJlYmFzZS1oZWFydGJlYXQtZGF0YWJhc2UnO1xyXG52YXIgREJfVkVSU0lPTiA9IDE7XHJcbnZhciBTVE9SRV9OQU1FID0gJ2ZpcmViYXNlLWhlYXJ0YmVhdC1zdG9yZSc7XHJcbnZhciBkYlByb21pc2UgPSBudWxsO1xyXG5mdW5jdGlvbiBnZXREYlByb21pc2UoKSB7XHJcbiAgICBpZiAoIWRiUHJvbWlzZSkge1xyXG4gICAgICAgIGRiUHJvbWlzZSA9IGlkYi5vcGVuREIoREJfTkFNRSwgREJfVkVSU0lPTiwge1xyXG4gICAgICAgICAgICB1cGdyYWRlOiBmdW5jdGlvbiAoZGIsIG9sZFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHVzZSAnYnJlYWsnIGluIHRoaXMgc3dpdGNoIHN0YXRlbWVudCwgdGhlIGZhbGwtdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgLy8gYmVoYXZpb3IgaXMgd2hhdCB3ZSB3YW50LCBiZWNhdXNlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSB2ZXJzaW9ucyBiZXR3ZWVuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdlIHdhbnQgQUxMIHRoZSBtaWdyYXRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhvc2UgdmVyc2lvbnMgdG8gcnVuLCBub3Qgb25seSB0aGUgbGFzdCBvbmUuXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1jYXNlXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9sZFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShTVE9SRV9OQU1FKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2FmYXJpL2lPUyBicm93c2VycyB0aHJvdyBvY2Nhc2lvbmFsIGV4Y2VwdGlvbnMgb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCkgdGhhdCBtYXkgYmUgYSBidWcuIEF2b2lkIGJsb2NraW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVzdCBvZiB0aGUgYXBwIGZ1bmN0aW9uYWxpdHkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaWRiLW9wZW5cIiAvKiBBcHBFcnJvci5JREJfT1BFTiAqLywge1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYlByb21pc2U7XHJcbn1cclxuZnVuY3Rpb24gcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCKGFwcCkge1xyXG4gICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkYiwgdHgsIHJlc3VsdCwgZV8xLCBpZGJHZXRFcnJvcjtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzAsIDQsICwgNV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldERiUHJvbWlzZSgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBkYiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHR4Lm9iamVjdFN0b3JlKFNUT1JFX05BTUUpLmdldChjb21wdXRlS2V5KGFwcCkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIHRoZSB2YWx1ZSBidXQgdHguZG9uZSBjYW4gdGhyb3csXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgbmVlZCB0byBhd2FpdCBpdCBoZXJlIHRvIGNhdGNoIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHR4LmRvbmVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGFscmVhZHkgaGF2ZSB0aGUgdmFsdWUgYnV0IHR4LmRvbmUgY2FuIHRocm93LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gYXdhaXQgaXQgaGVyZSB0byBjYXRjaCBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3VsdF07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzEgaW5zdGFuY2VvZiB1dGlsLkZpcmViYXNlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oZV8xLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRiR2V0RXJyb3IgPSBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImlkYi1nZXRcIiAvKiBBcHBFcnJvci5JREJfR0VUICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZV8xID09PSBudWxsIHx8IGVfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZV8xLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQihhcHAsIGhlYXJ0YmVhdE9iamVjdCkge1xyXG4gICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkYiwgdHgsIG9iamVjdFN0b3JlLCBlXzIsIGlkYkdldEVycm9yO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgNCwgLCA1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RGJQcm9taXNlKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGRiID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdFN0b3JlID0gdHgub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgb2JqZWN0U3RvcmUucHV0KGhlYXJ0YmVhdE9iamVjdCwgY29tcHV0ZUtleShhcHApKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHR4LmRvbmVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMiBpbnN0YW5jZW9mIHV0aWwuRmlyZWJhc2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihlXzIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJHZXRFcnJvciA9IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaWRiLXNldFwiIC8qIEFwcEVycm9yLklEQl9XUklURSAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IGVfMiA9PT0gbnVsbCB8fCBlXzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVfMi5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihpZGJHZXRFcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY29tcHV0ZUtleShhcHApIHtcclxuICAgIHJldHVybiBcIlwiLmNvbmNhdChhcHAubmFtZSwgXCIhXCIpLmNvbmNhdChhcHAub3B0aW9ucy5hcHBJZCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIE1BWF9IRUFERVJfQllURVMgPSAxMDI0O1xyXG4vLyAzMCBkYXlzXHJcbnZhciBTVE9SRURfSEVBUlRCRUFUX1JFVEVOVElPTl9NQVhfTUlMTElTID0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG52YXIgSGVhcnRiZWF0U2VydmljZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIZWFydGJlYXRTZXJ2aWNlSW1wbChjb250YWluZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluLW1lbW9yeSBjYWNoZSBmb3IgaGVhcnRiZWF0cywgdXNlZCBieSBnZXRIZWFydGJlYXRzSGVhZGVyKCkgdG8gZ2VuZXJhdGVcclxuICAgICAgICAgKiB0aGUgaGVhZGVyIHN0cmluZy5cclxuICAgICAgICAgKiBTdG9yZXMgb25lIHJlY29yZCBwZXIgZGF0ZS4gVGhpcyB3aWxsIGJlIGNvbnNvbGlkYXRlZCBpbnRvIHRoZSBzdGFuZGFyZFxyXG4gICAgICAgICAqIGZvcm1hdCBvZiBvbmUgcmVjb3JkIHBlciB1c2VyIGFnZW50IHN0cmluZyBiZWZvcmUgYmVpbmcgc2VudCBhcyBhIGhlYWRlci5cclxuICAgICAgICAgKiBQb3B1bGF0ZWQgZnJvbSBpbmRleGVkREIgd2hlbiB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQgYW5kIHNob3VsZFxyXG4gICAgICAgICAqIGJlIGtlcHQgaW4gc3luYyB3aXRoIGluZGV4ZWREQi5cclxuICAgICAgICAgKiBMZWF2ZSBwdWJsaWMgZm9yIGVhc2llciB0ZXN0aW5nLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIGFwcCA9IHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICB0aGlzLl9zdG9yYWdlID0gbmV3IEhlYXJ0YmVhdFN0b3JhZ2VJbXBsKGFwcCk7XHJcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZSA9IHRoaXMuX3N0b3JhZ2UucmVhZCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBfdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgdG8gcmVwb3J0IGEgaGVhcnRiZWF0LiBUaGUgZnVuY3Rpb24gd2lsbCBnZW5lcmF0ZVxyXG4gICAgICogYSBIZWFydGJlYXRzQnlVc2VyQWdlbnQgb2JqZWN0LCB1cGRhdGUgaGVhcnRiZWF0c0NhY2hlLCBhbmQgcGVyc2lzdCBpdFxyXG4gICAgICogdG8gSW5kZXhlZERCLlxyXG4gICAgICogTm90ZSB0aGF0IHdlIG9ubHkgc3RvcmUgb25lIGhlYXJ0YmVhdCBwZXIgZGF5LiBTbyBpZiBhIGhlYXJ0YmVhdCBmb3IgdG9kYXkgaXNcclxuICAgICAqIGFscmVhZHkgbG9nZ2VkLCBzdWJzZXF1ZW50IGNhbGxzIHRvIHRoaXMgZnVuY3Rpb24gaW4gdGhlIHNhbWUgZGF5IHdpbGwgYmUgaWdub3JlZC5cclxuICAgICAqL1xyXG4gICAgSGVhcnRiZWF0U2VydmljZUltcGwucHJvdG90eXBlLnRyaWdnZXJIZWFydGJlYXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwbGF0Zm9ybUxvZ2dlciwgYWdlbnQsIGRhdGUsIF9jO1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9kKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9kLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybUxvZ2dlciA9IHRoaXMuY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0UHJvdmlkZXIoJ3BsYXRmb3JtLWxvZ2dlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50ID0gcGxhdGZvcm1Mb2dnZXIuZ2V0UGxhdGZvcm1JbmZvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSBnZXRVVENEYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCgoX2EgPSB0aGlzLl9oZWFydGJlYXRzQ2FjaGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWFydGJlYXRzKSA9PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5faGVhcnRiZWF0c0NhY2hlID0gX2Quc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBmYWlsZWQgdG8gY29uc3RydWN0IGEgaGVhcnRiZWF0cyBjYWNoZSwgdGhlbiByZXR1cm4gaW1tZWRpYXRlbHkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKF9iID0gdGhpcy5faGVhcnRiZWF0c0NhY2hlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaGVhcnRiZWF0cykgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBzdG9yZSBhIGhlYXJ0YmVhdCBpZiBvbmUgaXMgYWxyZWFkeSBzdG9yZWQgZm9yIHRoaXMgZGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIGlmIGEgaGVhZGVyIGhhcyBhbHJlYWR5IGJlZW4gc2VudCB0b2RheS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPT09IGRhdGUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzLnNvbWUoZnVuY3Rpb24gKHNpbmdsZURhdGVIZWFydGJlYXQpIHsgcmV0dXJuIHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSA9PT0gZGF0ZTsgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIGVudHJ5IGZvciB0aGlzIGRhdGUuIENyZWF0ZSBvbmUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5wdXNoKHsgZGF0ZTogZGF0ZSwgYWdlbnQ6IGFnZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbnRyaWVzIG9sZGVyIHRoYW4gMzAgZGF5cy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMgPSB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5maWx0ZXIoZnVuY3Rpb24gKHNpbmdsZURhdGVIZWFydGJlYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYlRpbWVzdGFtcCA9IG5ldyBEYXRlKHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSkudmFsdWVPZigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm93IC0gaGJUaW1lc3RhbXAgPD0gU1RPUkVEX0hFQVJUQkVBVF9SRVRFTlRJT05fTUFYX01JTExJUztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHdoaWNoIGNhbiBiZSBhdHRhY2hlZCB0byB0aGUgaGVhcnRiZWF0LXNwZWNpZmljIGhlYWRlciBkaXJlY3RseS5cclxuICAgICAqIEl0IGFsc28gY2xlYXJzIGFsbCBoZWFydGJlYXRzIGZyb20gbWVtb3J5IGFzIHdlbGwgYXMgaW4gSW5kZXhlZERCLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IENvbnN1bWluZyBwcm9kdWN0IFNES3Mgc2hvdWxkIG5vdCBzZW5kIHRoZSBoZWFkZXIgaWYgdGhpcyBtZXRob2RcclxuICAgICAqIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBIZWFydGJlYXRTZXJ2aWNlSW1wbC5wcm90b3R5cGUuZ2V0SGVhcnRiZWF0c0hlYWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSwgX2IsIGhlYXJ0YmVhdHNUb1NlbmQsIHVuc2VudEVudHJpZXMsIGhlYWRlclN0cmluZztcclxuICAgICAgICAgICAgcmV0dXJuIHRzbGliLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5faGVhcnRiZWF0c0NhY2hlID09PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZVByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIHN0aWxsIG51bGwgb3IgdGhlIGFycmF5IGlzIGVtcHR5LCB0aGVyZSBpcyBubyBkYXRhIHRvIHNlbmQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5faGVhcnRiZWF0c0NhY2hlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGVhcnRiZWF0cykgPT0gbnVsbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgJyddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSBnZXRVVENEYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gZXh0cmFjdEhlYXJ0YmVhdHNGb3JIZWFkZXIodGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMpLCBoZWFydGJlYXRzVG9TZW5kID0gX2IuaGVhcnRiZWF0c1RvU2VuZCwgdW5zZW50RW50cmllcyA9IF9iLnVuc2VudEVudHJpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclN0cmluZyA9IHV0aWwuYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkoeyB2ZXJzaW9uOiAyLCBoZWFydGJlYXRzOiBoZWFydGJlYXRzVG9TZW5kIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgbGFzdCBzZW50IGRhdGUgdG8gcHJldmVudCBhbm90aGVyIGJlaW5nIGxvZ2dlZC9zZW50IGZvciB0aGUgc2FtZSBkYXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPSBkYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh1bnNlbnRFbnRyaWVzLmxlbmd0aCA+IDApKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgYW55IHVuc2VudCBlbnRyaWVzIGlmIHRoZXkgZXhpc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzID0gdW5zZW50RW50cmllcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyBtb3JlIGxpa2VseSB0aGFuIGVtcHR5aW5nIHRoZSBhcnJheSAoYmVsb3cpIHRvIGxlYWQgdG8gc29tZSBvZGQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNhY2hlIGlzbid0IGVtcHR5IGFuZCB0aGlzIHdpbGwgYmUgY2FsbGVkIGFnYWluIG9uIHRoZSBuZXh0IHJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpcyBwcm9iYWJseSBzYWZlc3QgaWYgd2UgYXdhaXQgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyBtb3JlIGxpa2VseSB0aGFuIGVtcHR5aW5nIHRoZSBhcnJheSAoYmVsb3cpIHRvIGxlYWQgdG8gc29tZSBvZGQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNhY2hlIGlzbid0IGVtcHR5IGFuZCB0aGlzIHdpbGwgYmUgY2FsbGVkIGFnYWluIG9uIHRoZSBuZXh0IHJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpcyBwcm9iYWJseSBzYWZlc3QgaWYgd2UgYXdhaXQgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qgd2FpdCBmb3IgdGhpcywgdG8gcmVkdWNlIGxhdGVuY3kuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5fc3RvcmFnZS5vdmVyd3JpdGUodGhpcy5faGVhcnRiZWF0c0NhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGhlYWRlclN0cmluZ107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBIZWFydGJlYXRTZXJ2aWNlSW1wbDtcclxufSgpKTtcclxuZnVuY3Rpb24gZ2V0VVRDRGF0ZVN0cmluZygpIHtcclxuICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAvLyBSZXR1cm5zIGRhdGUgZm9ybWF0ICdZWVlZLU1NLUREJ1xyXG4gICAgcmV0dXJuIHRvZGF5LnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcclxufVxyXG5mdW5jdGlvbiBleHRyYWN0SGVhcnRiZWF0c0ZvckhlYWRlcihoZWFydGJlYXRzQ2FjaGUsIG1heFNpemUpIHtcclxuICAgIHZhciBlXzEsIF9hO1xyXG4gICAgaWYgKG1heFNpemUgPT09IHZvaWQgMCkgeyBtYXhTaXplID0gTUFYX0hFQURFUl9CWVRFUzsgfVxyXG4gICAgLy8gSGVhcnRiZWF0cyBncm91cGVkIGJ5IHVzZXIgYWdlbnQgaW4gdGhlIHN0YW5kYXJkIGZvcm1hdCB0byBiZSBzZW50IGluXHJcbiAgICAvLyB0aGUgaGVhZGVyLlxyXG4gICAgdmFyIGhlYXJ0YmVhdHNUb1NlbmQgPSBbXTtcclxuICAgIC8vIFNpbmdsZSBkYXRlIGZvcm1hdCBoZWFydGJlYXRzIHRoYXQgYXJlIG5vdCBzZW50LlxyXG4gICAgdmFyIHVuc2VudEVudHJpZXMgPSBoZWFydGJlYXRzQ2FjaGUuc2xpY2UoKTtcclxuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHNpbmdsZURhdGVIZWFydGJlYXQpIHtcclxuICAgICAgICAvLyBMb29rIGZvciBhbiBleGlzdGluZyBlbnRyeSB3aXRoIHRoZSBzYW1lIHVzZXIgYWdlbnQuXHJcbiAgICAgICAgdmFyIGhlYXJ0YmVhdEVudHJ5ID0gaGVhcnRiZWF0c1RvU2VuZC5maW5kKGZ1bmN0aW9uIChoYikgeyByZXR1cm4gaGIuYWdlbnQgPT09IHNpbmdsZURhdGVIZWFydGJlYXQuYWdlbnQ7IH0pO1xyXG4gICAgICAgIGlmICghaGVhcnRiZWF0RW50cnkpIHtcclxuICAgICAgICAgICAgLy8gSWYgbm8gZW50cnkgZm9yIHRoaXMgdXNlciBhZ2VudCBleGlzdHMsIGNyZWF0ZSBvbmUuXHJcbiAgICAgICAgICAgIGhlYXJ0YmVhdHNUb1NlbmQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBhZ2VudDogc2luZ2xlRGF0ZUhlYXJ0YmVhdC5hZ2VudCxcclxuICAgICAgICAgICAgICAgIGRhdGVzOiBbc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGNvdW50Qnl0ZXMoaGVhcnRiZWF0c1RvU2VuZCkgPiBtYXhTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgaGVhZGVyIHdvdWxkIGV4Y2VlZCBtYXggc2l6ZSwgcmVtb3ZlIHRoZSBhZGRlZCBoZWFydGJlYXRcclxuICAgICAgICAgICAgICAgIC8vIGVudHJ5IGFuZCBzdG9wIGFkZGluZyB0byB0aGUgaGVhZGVyLlxyXG4gICAgICAgICAgICAgICAgaGVhcnRiZWF0c1RvU2VuZC5wb3AoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYXJ0YmVhdEVudHJ5LmRhdGVzLnB1c2goc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGhlYWRlciB3b3VsZCBleGNlZWQgbWF4IHNpemUsIHJlbW92ZSB0aGUgYWRkZWQgZGF0ZVxyXG4gICAgICAgICAgICAvLyBhbmQgc3RvcCBhZGRpbmcgdG8gdGhlIGhlYWRlci5cclxuICAgICAgICAgICAgaWYgKGNvdW50Qnl0ZXMoaGVhcnRiZWF0c1RvU2VuZCkgPiBtYXhTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRFbnRyeS5kYXRlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUG9wIHVuc2VudCBlbnRyeSBmcm9tIHF1ZXVlLiAoU2tpcHBlZCBpZiBhZGRpbmcgdGhlIGVudHJ5IGV4Y2VlZGVkXHJcbiAgICAgICAgLy8gcXVvdGEgYW5kIHRoZSBsb29wIGJyZWFrcyBlYXJseS4pXHJcbiAgICAgICAgdW5zZW50RW50cmllcyA9IHVuc2VudEVudHJpZXMuc2xpY2UoMSk7XHJcbiAgICB9O1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBoZWFydGJlYXRzQ2FjaGVfMSA9IHRzbGliLl9fdmFsdWVzKGhlYXJ0YmVhdHNDYWNoZSksIGhlYXJ0YmVhdHNDYWNoZV8xXzEgPSBoZWFydGJlYXRzQ2FjaGVfMS5uZXh0KCk7ICFoZWFydGJlYXRzQ2FjaGVfMV8xLmRvbmU7IGhlYXJ0YmVhdHNDYWNoZV8xXzEgPSBoZWFydGJlYXRzQ2FjaGVfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIHNpbmdsZURhdGVIZWFydGJlYXQgPSBoZWFydGJlYXRzQ2FjaGVfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzEoc2luZ2xlRGF0ZUhlYXJ0YmVhdCk7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZV8xID09PSBcImJyZWFrXCIpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGhlYXJ0YmVhdHNDYWNoZV8xXzEgJiYgIWhlYXJ0YmVhdHNDYWNoZV8xXzEuZG9uZSAmJiAoX2EgPSBoZWFydGJlYXRzQ2FjaGVfMS5yZXR1cm4pKSBfYS5jYWxsKGhlYXJ0YmVhdHNDYWNoZV8xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFydGJlYXRzVG9TZW5kOiBoZWFydGJlYXRzVG9TZW5kLFxyXG4gICAgICAgIHVuc2VudEVudHJpZXM6IHVuc2VudEVudHJpZXNcclxuICAgIH07XHJcbn1cclxudmFyIEhlYXJ0YmVhdFN0b3JhZ2VJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSGVhcnRiZWF0U3RvcmFnZUltcGwoYXBwKSB7XHJcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XHJcbiAgICAgICAgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZSA9IHRoaXMucnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpO1xyXG4gICAgfVxyXG4gICAgSGVhcnRiZWF0U3RvcmFnZUltcGwucHJvdG90eXBlLnJ1bkluZGV4ZWREQkVudmlyb25tZW50Q2hlY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWwuaXNJbmRleGVkREJBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdXRpbC52YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkIGFsbCBoZWFydGJlYXRzLlxyXG4gICAgICovXHJcbiAgICBIZWFydGJlYXRTdG9yYWdlSW1wbC5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW5Vc2VJbmRleGVkREIsIGlkYkhlYXJ0YmVhdE9iamVjdDtcclxuICAgICAgICAgICAgcmV0dXJuIHRzbGliLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5Vc2VJbmRleGVkREIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIWNhblVzZUluZGV4ZWREQikgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7IGhlYXJ0YmVhdHM6IFtdIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCKHRoaXMuYXBwKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJIZWFydGJlYXRPYmplY3QgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZGJIZWFydGJlYXRPYmplY3QgPT09IG51bGwgfHwgaWRiSGVhcnRiZWF0T2JqZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpZGJIZWFydGJlYXRPYmplY3QuaGVhcnRiZWF0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlkYkhlYXJ0YmVhdE9iamVjdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyBoZWFydGJlYXRzOiBbXSB9XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvLyBvdmVyd3JpdGUgdGhlIHN0b3JhZ2Ugd2l0aCB0aGUgcHJvdmlkZWQgaGVhcnRiZWF0c1xyXG4gICAgSGVhcnRiZWF0U3RvcmFnZUltcGwucHJvdG90eXBlLm92ZXJ3cml0ZSA9IGZ1bmN0aW9uIChoZWFydGJlYXRzT2JqZWN0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNhblVzZUluZGV4ZWREQiwgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0O1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblVzZUluZGV4ZWREQiA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2FuVXNlSW5kZXhlZERCKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZWFkKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0ID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIodGhpcy5hcHAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VudEhlYXJ0YmVhdERhdGU6IChfYSA9IGhlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNPYmplY3QuaGVhcnRiZWF0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvLyBhZGQgaGVhcnRiZWF0c1xyXG4gICAgSGVhcnRiZWF0U3RvcmFnZUltcGwucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChoZWFydGJlYXRzT2JqZWN0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNhblVzZUluZGV4ZWREQiwgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0O1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblVzZUluZGV4ZWREQiA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2FuVXNlSW5kZXhlZERCKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZWFkKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0ID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIodGhpcy5hcHAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VudEhlYXJ0YmVhdERhdGU6IChfYSA9IGhlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYXJ0YmVhdHM6IHRzbGliLl9fc3ByZWFkQXJyYXkodHNsaWIuX19zcHJlYWRBcnJheShbXSwgdHNsaWIuX19yZWFkKGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5oZWFydGJlYXRzKSwgZmFsc2UpLCB0c2xpYi5fX3JlYWQoaGVhcnRiZWF0c09iamVjdC5oZWFydGJlYXRzKSwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBIZWFydGJlYXRTdG9yYWdlSW1wbDtcclxufSgpKTtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBieXRlcyBvZiBhIEhlYXJ0YmVhdHNCeVVzZXJBZ2VudCBhcnJheSBhZnRlciBiZWluZyB3cmFwcGVkXHJcbiAqIGluIGEgcGxhdGZvcm0gbG9nZ2luZyBoZWFkZXIgSlNPTiBvYmplY3QsIHN0cmluZ2lmaWVkLCBhbmQgY29udmVydGVkXHJcbiAqIHRvIGJhc2UgNjQuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3VudEJ5dGVzKGhlYXJ0YmVhdHNDYWNoZSkge1xyXG4gICAgLy8gYmFzZTY0IGhhcyBhIHJlc3RyaWN0ZWQgc2V0IG9mIGNoYXJhY3RlcnMsIGFsbCBvZiB3aGljaCBzaG91bGQgYmUgMSBieXRlLlxyXG4gICAgcmV0dXJuIHV0aWwuYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoXHJcbiAgICAvLyBoZWFydGJlYXRzQ2FjaGUgd3JhcHBlciBwcm9wZXJ0aWVzXHJcbiAgICBKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IDIsIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNDYWNoZSB9KSkubGVuZ3RoO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQ29yZUNvbXBvbmVudHModmFyaWFudCkge1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBjb21wb25lbnQuQ29tcG9uZW50KCdwbGF0Zm9ybS1sb2dnZXInLCBmdW5jdGlvbiAoY29udGFpbmVyKSB7IHJldHVybiBuZXcgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbChjb250YWluZXIpOyB9LCBcIlBSSVZBVEVcIiAvKiBDb21wb25lbnRUeXBlLlBSSVZBVEUgKi8pKTtcclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChuZXcgY29tcG9uZW50LkNvbXBvbmVudCgnaGVhcnRiZWF0JywgZnVuY3Rpb24gKGNvbnRhaW5lcikgeyByZXR1cm4gbmV3IEhlYXJ0YmVhdFNlcnZpY2VJbXBsKGNvbnRhaW5lcik7IH0sIFwiUFJJVkFURVwiIC8qIENvbXBvbmVudFR5cGUuUFJJVkFURSAqLykpO1xyXG4gICAgLy8gUmVnaXN0ZXIgYGFwcGAgcGFja2FnZS5cclxuICAgIHJlZ2lzdGVyVmVyc2lvbihuYW1lJHAsIHZlcnNpb24kMSwgdmFyaWFudCk7XHJcbiAgICAvLyBCVUlMRF9UQVJHRVQgd2lsbCBiZSByZXBsYWNlZCBieSB2YWx1ZXMgbGlrZSBlc201LCBlc20yMDE3LCBjanM1LCBldGMgZHVyaW5nIHRoZSBjb21waWxhdGlvblxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUkcCwgdmVyc2lvbiQxLCAnY2pzNScpO1xyXG4gICAgLy8gUmVnaXN0ZXIgcGxhdGZvcm0gU0RLIGlkZW50aWZpZXIgKG5vIHZlcnNpb24pLlxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKCdmaXJlLWpzJywgJycpO1xyXG59XG5cbi8qKlxyXG4gKiBGaXJlYmFzZSBBcHBcclxuICpcclxuICogQHJlbWFya3MgVGhpcyBwYWNrYWdlIGNvb3JkaW5hdGVzIHRoZSBjb21tdW5pY2F0aW9uIGJldHdlZW4gdGhlIGRpZmZlcmVudCBGaXJlYmFzZSBjb21wb25lbnRzXHJcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxyXG4gKi9cclxucmVnaXN0ZXJDb3JlQ29tcG9uZW50cygnbm9kZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ZpcmViYXNlRXJyb3InLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbC5GaXJlYmFzZUVycm9yOyB9XG59KTtcbmV4cG9ydHMuU0RLX1ZFUlNJT04gPSBTREtfVkVSU0lPTjtcbmV4cG9ydHMuX0RFRkFVTFRfRU5UUllfTkFNRSA9IERFRkFVTFRfRU5UUllfTkFNRTtcbmV4cG9ydHMuX2FkZENvbXBvbmVudCA9IF9hZGRDb21wb25lbnQ7XG5leHBvcnRzLl9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudCA9IF9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudDtcbmV4cG9ydHMuX2FwcHMgPSBfYXBwcztcbmV4cG9ydHMuX2NsZWFyQ29tcG9uZW50cyA9IF9jbGVhckNvbXBvbmVudHM7XG5leHBvcnRzLl9jb21wb25lbnRzID0gX2NvbXBvbmVudHM7XG5leHBvcnRzLl9nZXRQcm92aWRlciA9IF9nZXRQcm92aWRlcjtcbmV4cG9ydHMuX2lzRmlyZWJhc2VBcHAgPSBfaXNGaXJlYmFzZUFwcDtcbmV4cG9ydHMuX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgPSBfaXNGaXJlYmFzZVNlcnZlckFwcDtcbmV4cG9ydHMuX3JlZ2lzdGVyQ29tcG9uZW50ID0gX3JlZ2lzdGVyQ29tcG9uZW50O1xuZXhwb3J0cy5fcmVtb3ZlU2VydmljZUluc3RhbmNlID0gX3JlbW92ZVNlcnZpY2VJbnN0YW5jZTtcbmV4cG9ydHMuX3NlcnZlckFwcHMgPSBfc2VydmVyQXBwcztcbmV4cG9ydHMuZGVsZXRlQXBwID0gZGVsZXRlQXBwO1xuZXhwb3J0cy5nZXRBcHAgPSBnZXRBcHA7XG5leHBvcnRzLmdldEFwcHMgPSBnZXRBcHBzO1xuZXhwb3J0cy5pbml0aWFsaXplQXBwID0gaW5pdGlhbGl6ZUFwcDtcbmV4cG9ydHMuaW5pdGlhbGl6ZVNlcnZlckFwcCA9IGluaXRpYWxpemVTZXJ2ZXJBcHA7XG5leHBvcnRzLm9uTG9nID0gb25Mb2c7XG5leHBvcnRzLnJlZ2lzdGVyVmVyc2lvbiA9IHJlZ2lzdGVyVmVyc2lvbjtcbmV4cG9ydHMuc2V0TG9nTGV2ZWwgPSBzZXRMb2dMZXZlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHRzbGliID0gcmVxdWlyZSgndHNsaWInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQGZpcmViYXNlL3V0aWwnKTtcblxuLyoqXHJcbiAqIENvbXBvbmVudCBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcclxuICovXHJcbnZhciBDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgcHVibGljIHNlcnZpY2UgbmFtZSwgZS5nLiBhcHAsIGF1dGgsIGZpcmVzdG9yZSwgZGF0YWJhc2VcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZUZhY3RvcnkgU2VydmljZSBmYWN0b3J5IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgcHVibGljIGludGVyZmFjZVxyXG4gICAgICogQHBhcmFtIHR5cGUgd2hldGhlciB0aGUgc2VydmljZSBwcm92aWRlZCBieSB0aGUgY29tcG9uZW50IGlzIHB1YmxpYyBvciBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChuYW1lLCBpbnN0YW5jZUZhY3RvcnksIHR5cGUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VGYWN0b3J5ID0gaW5zdGFuY2VGYWN0b3J5O1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHNlcnZpY2UgbmFtZXNwYWNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlUHJvcHMgPSB7fTtcclxuICAgICAgICB0aGlzLmluc3RhbnRpYXRpb25Nb2RlID0gXCJMQVpZXCIgLyogSW5zdGFudGlhdGlvbk1vZGUuTEFaWSAqLztcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gbnVsbDtcclxuICAgIH1cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFudGlhdGlvbk1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0TXVsdGlwbGVJbnN0YW5jZXMgPSBmdW5jdGlvbiAobXVsdGlwbGVJbnN0YW5jZXMpIHtcclxuICAgICAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gbXVsdGlwbGVJbnN0YW5jZXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTZXJ2aWNlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHByb3BzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gY2FsbGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBvbmVudDtcclxufSgpKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERFRkFVTFRfRU5UUllfTkFNRSA9ICdbREVGQVVMVF0nO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUHJvdmlkZXIgZm9yIGluc3RhbmNlIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiAnYXV0aCcsICdhdXRoLWludGVybmFsJ1xyXG4gKiBOYW1lU2VydmljZU1hcHBpbmdbVF0gaXMgYW4gYWxpYXMgZm9yIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZVxyXG4gKi9cclxudmFyIFByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvdmlkZXIobmFtZSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZCA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5vbkluaXRDYWxsYmFja3MgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIEEgcHJvdmlkZXIgY2FuIHByb3ZpZGUgbXVsaXRwbGUgaW5zdGFuY2VzIG9mIGEgc2VydmljZVxyXG4gICAgICogaWYgdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgaXMgdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgLy8gaWYgbXVsdGlwbGVJbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBkZWZhdWx0IG5hbWVcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuaGFzKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSBuZXcgdXRpbC5EZWZlcnJlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZGVmZXJyZWQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBzZXJ2aWNlIGlmIGl0IGNhbiBiZSBhdXRvLWluaXRpYWxpemVkXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IHRocm93cyBhbiBleGNlcHRpb24gZHVyaW5nIGdldCgpLCBpdCBzaG91bGQgbm90IGNhdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCByZXR1cm4gdGhlIHVucmVzb2x2ZWQgcHJvbWlzZSBpbiB0aGlzIGNhc2UuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKS5wcm9taXNlO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRJbW1lZGlhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5pZGVudGlmaWVyKTtcclxuICAgICAgICB2YXIgb3B0aW9uYWwgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub3B0aW9uYWwpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpIHx8XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSW4gY2FzZSBhIGNvbXBvbmVudCBpcyBub3QgaW5pdGlhbGl6ZWQgYW5kIHNob3VsZC9jYW4gbm90IGJlIGF1dG8taW5pdGlhbGl6ZWQgYXQgdGhlIG1vbWVudCwgcmV0dXJuIG51bGwgaWYgdGhlIG9wdGlvbmFsIGZsYWcgaXMgc2V0LCBvciB0aHJvd1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTZXJ2aWNlIFwiLmNvbmNhdCh0aGlzLm5hbWUsIFwiIGlzIG5vdCBhdmFpbGFibGVcIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5zZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudC5uYW1lICE9PSB0aGlzLm5hbWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNaXNtYXRjaGluZyBDb21wb25lbnQgXCIuY29uY2F0KGNvbXBvbmVudC5uYW1lLCBcIiBmb3IgUHJvdmlkZXIgXCIpLmNvbmNhdCh0aGlzLm5hbWUsIFwiLlwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBmb3IgXCIuY29uY2F0KHRoaXMubmFtZSwgXCIgaGFzIGFscmVhZHkgYmVlbiBwcm92aWRlZFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xyXG4gICAgICAgIC8vIHJldHVybiBlYXJseSB3aXRob3V0IGF0dGVtcHRpbmcgdG8gaW5pdGlhbGl6ZSB0aGUgY29tcG9uZW50IGlmIHRoZSBjb21wb25lbnQgcmVxdWlyZXMgZXhwbGljaXQgaW5pdGlhbGl6YXRpb24gKGNhbGxpbmcgYFByb3ZpZGVyLmluaXRpYWxpemUoKWApXHJcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiB0aGUgc2VydmljZSBpcyBlYWdlciwgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZVxyXG4gICAgICAgIGlmIChpc0NvbXBvbmVudEVhZ2VyKGNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7IGluc3RhbmNlSWRlbnRpZmllcjogREVGQVVMVF9FTlRSWV9OQU1FIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IGZvciBhbiBlYWdlciBDb21wb25lbnQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgdGhlIGVhZ2VyXHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvbiwgaXQgc2hvdWxkIG5vdCBjYXVzZSBhIGZhdGFsIGVycm9yLlxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogSW52ZXN0aWdhdGUgaWYgd2UgbmVlZCB0byBtYWtlIGl0IGNvbmZpZ3VyYWJsZSwgYmVjYXVzZSBzb21lIGNvbXBvbmVudCBtYXkgd2FudCB0byBjYXVzZVxyXG4gICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvciBpbiB0aGlzIGNhc2U/XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHNlcnZpY2UgaW5zdGFuY2VzIGZvciB0aGUgcGVuZGluZyBwcm9taXNlcyBhbmQgcmVzb2x2ZSB0aGVtXHJcbiAgICAgICAgICAgIC8vIE5PVEU6IGlmIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgaXMgZmFsc2UsIG9ubHkgdGhlIGRlZmF1bHQgaW5zdGFuY2Ugd2lsbCBiZSBjcmVhdGVkXHJcbiAgICAgICAgICAgIC8vIGFuZCBhbGwgcHJvbWlzZXMgd2l0aCByZXNvbHZlIHdpdGggaXQgcmVnYXJkbGVzcyBvZiB0aGUgaWRlbnRpZmllci5cclxuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSB0c2xpYi5fX3ZhbHVlcyh0aGlzLmluc3RhbmNlc0RlZmVycmVkLmVudHJpZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZCA9IHRzbGliLl9fcmVhZChfYy52YWx1ZSwgMiksIGluc3RhbmNlSWRlbnRpZmllciA9IF9kWzBdLCBpbnN0YW5jZURlZmVycmVkID0gX2RbMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBgZ2V0T3JJbml0aWFsaXplU2VydmljZSgpYCBzaG91bGQgYWx3YXlzIHJldHVybiBhIHZhbGlkIGluc3RhbmNlIHNpbmNlIGEgY29tcG9uZW50IGlzIGd1YXJhbnRlZWQuIHVzZSAhIHRvIG1ha2UgdHlwZXNjcmlwdCBoYXBweS5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCBsZWF2ZSB0aGUgcHJvbWlzZSB1bnJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuY2xlYXJJbnN0YW5jZSA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5kZWxldGUoaWRlbnRpZmllcik7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNPcHRpb25zLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlcy5kZWxldGUoaWRlbnRpZmllcik7XHJcbiAgICB9O1xyXG4gICAgLy8gYXBwLmRlbGV0ZSgpIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBvbiBldmVyeSBwcm92aWRlciB0byBkZWxldGUgdGhlIHNlcnZpY2VzXHJcbiAgICAvLyBUT0RPOiBzaG91bGQgd2UgbWFyayB0aGUgcHJvdmlkZXIgYXMgZGVsZXRlZD9cclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmljZXM7XHJcbiAgICAgICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzID0gQXJyYXkuZnJvbSh0aGlzLmluc3RhbmNlcy52YWx1ZXMoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKHRzbGliLl9fc3ByZWFkQXJyYXkodHNsaWIuX19zcHJlYWRBcnJheShbXSwgdHNsaWIuX19yZWFkKHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gJ0lOVEVSTkFMJyBpbiBzZXJ2aWNlOyB9KSAvLyBsZWdhY3kgc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuSU5URVJOQUwuZGVsZXRlKCk7IH0pKSwgZmFsc2UpLCB0c2xpYi5fX3JlYWQoc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiAnX2RlbGV0ZScgaW4gc2VydmljZTsgfSkgLy8gbW9kdWxhcml6ZWQgc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuX2RlbGV0ZSgpOyB9KSksIGZhbHNlKSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pc0NvbXBvbmVudFNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQgIT0gbnVsbDtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuaXNJbml0aWFsaXplZCA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLmhhcyhpZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5nZXQoaWRlbnRpZmllcikgfHwge307XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgIHZhciBlXzIsIF9hO1xyXG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF9iID0gb3B0cy5vcHRpb25zLCBvcHRpb25zID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XHJcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIob3B0cy5pbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiXCIuY29uY2F0KHRoaXMubmFtZSwgXCIoXCIpLmNvbmNhdChub3JtYWxpemVkSWRlbnRpZmllciwgXCIpIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWRcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBcIi5jb25jYXQodGhpcy5uYW1lLCBcIiBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZCB5ZXRcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gcmVzb2x2ZSBhbnkgcGVuZGluZyBwcm9taXNlIHdhaXRpbmcgZm9yIHRoZSBzZXJ2aWNlIGluc3RhbmNlXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9jID0gdHNsaWIuX192YWx1ZXModGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2UgPSB0c2xpYi5fX3JlYWQoX2QudmFsdWUsIDIpLCBpbnN0YW5jZUlkZW50aWZpZXIgPSBfZVswXSwgaW5zdGFuY2VEZWZlcnJlZCA9IF9lWzFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRJZGVudGlmaWVyID09PSBub3JtYWxpemVkRGVmZXJyZWRJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgIGFmdGVyIHRoZSBwcm92aWRlciBoYXMgYmVlbiBpbml0aWFsaXplZCBieSBjYWxsaW5nIHByb3ZpZGVyLmluaXRpYWxpemUoKS5cclxuICAgICAqIFRoZSBmdW5jdGlvbiBpcyBpbnZva2VkIFNZTkNIUk9OT1VTTFksIHNvIGl0IHNob3VsZCBub3QgZXhlY3V0ZSBhbnkgbG9uZ3J1bm5pbmcgdGFza3MgaW4gb3JkZXIgdG8gbm90IGJsb2NrIHRoZSBwcm9ncmFtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIEFuIG9wdGlvbmFsIGluc3RhbmNlIGlkZW50aWZpZXJcclxuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gdG8gdW5yZWdpc3RlciB0aGUgY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLm9uSW5pdCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgaWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcclxuICAgICAgICB2YXIgZXhpc3RpbmdDYWxsYmFja3MgPSAoX2EgPSB0aGlzLm9uSW5pdENhbGxiYWNrcy5nZXQobm9ybWFsaXplZElkZW50aWZpZXIpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgU2V0KCk7XHJcbiAgICAgICAgZXhpc3RpbmdDYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLm9uSW5pdENhbGxiYWNrcy5zZXQobm9ybWFsaXplZElkZW50aWZpZXIsIGV4aXN0aW5nQ2FsbGJhY2tzKTtcclxuICAgICAgICB2YXIgZXhpc3RpbmdJbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzLmdldChub3JtYWxpemVkSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soZXhpc3RpbmdJbnN0YW5jZSwgbm9ybWFsaXplZElkZW50aWZpZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBleGlzdGluZ0NhbGxiYWNrcy5kZWxldGUoY2FsbGJhY2spO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2Ugb25Jbml0IGNhbGxiYWNrcyBzeW5jaHJvbm91c2x5XHJcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgdGhlIHNlcnZpY2UgaW5zdGFuY2VgXHJcbiAgICAgKi9cclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pbnZva2VPbkluaXRDYWxsYmFja3MgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIGlkZW50aWZpZXIpIHtcclxuICAgICAgICB2YXIgZV8zLCBfYTtcclxuICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5vbkluaXRDYWxsYmFja3MuZ2V0KGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICghY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yICh2YXIgY2FsbGJhY2tzXzEgPSB0c2xpYi5fX3ZhbHVlcyhjYWxsYmFja3MpLCBjYWxsYmFja3NfMV8xID0gY2FsbGJhY2tzXzEubmV4dCgpOyAhY2FsbGJhY2tzXzFfMS5kb25lOyBjYWxsYmFja3NfMV8xID0gY2FsbGJhY2tzXzEubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpbnN0YW5jZSwgaWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluaXQgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrc18xXzEgJiYgIWNhbGxiYWNrc18xXzEuZG9uZSAmJiAoX2EgPSBjYWxsYmFja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGNhbGxiYWNrc18xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRPckluaXRpYWxpemVTZXJ2aWNlID0gZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlSWRlbnRpZmllciA9IF9hLmluc3RhbmNlSWRlbnRpZmllciwgX2IgPSBfYS5vcHRpb25zLCBvcHRpb25zID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZ2V0KGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZSAmJiB0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9IHRoaXMuY29tcG9uZW50Lmluc3RhbmNlRmFjdG9yeSh0aGlzLmNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeShpbnN0YW5jZUlkZW50aWZpZXIpLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJbnZva2Ugb25Jbml0IGxpc3RlbmVycy5cclxuICAgICAgICAgICAgICogTm90ZSB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCBpcyBkaWZmZXJlbnQsIHdoaWNoIGlzIHVzZWQgYnkgdGhlIGNvbXBvbmVudCBjcmVhdG9yLFxyXG4gICAgICAgICAgICAgKiB3aGlsZSBvbkluaXQgbGlzdGVuZXJzIGFyZSByZWdpc3RlcmVkIGJ5IGNvbnN1bWVycyBvZiB0aGUgcHJvdmlkZXIuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLmludm9rZU9uSW5pdENhbGxiYWNrcyhpbnN0YW5jZSwgaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE9yZGVyIGlzIGltcG9ydGFudFxyXG4gICAgICAgICAgICAgKiBvbkluc3RhbmNlQ3JlYXRlZCgpIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpOyB3aGljaFxyXG4gICAgICAgICAgICAgKiBtYWtlcyBgaXNJbml0aWFsaXplZCgpYCByZXR1cm4gdHJ1ZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCh0aGlzLmNvbnRhaW5lciwgaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoX2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluc3RhbmNlQ3JlYXRlZENhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIHx8IG51bGw7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllciA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyA/IGlkZW50aWZpZXIgOiBERUZBVUxUX0VOVFJZX05BTUU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcjsgLy8gYXNzdW1lIG11bHRpcGxlIGluc3RhbmNlcyBhcmUgc3VwcG9ydGVkIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHByb3ZpZGVkLlxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuc2hvdWxkQXV0b0luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICghIXRoaXMuY29tcG9uZW50ICYmXHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50Lmluc3RhbnRpYXRpb25Nb2RlICE9PSBcIkVYUExJQ0lUXCIgLyogSW5zdGFudGlhdGlvbk1vZGUuRVhQTElDSVQgKi8pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm92aWRlcjtcclxufSgpKTtcclxuLy8gdW5kZWZpbmVkIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIHNlcnZpY2UgZmFjdG9yeSBmb3IgdGhlIGRlZmF1bHQgaW5zdGFuY2VcclxuZnVuY3Rpb24gbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaWRlbnRpZmllcikge1xyXG4gICAgcmV0dXJuIGlkZW50aWZpZXIgPT09IERFRkFVTFRfRU5UUllfTkFNRSA/IHVuZGVmaW5lZCA6IGlkZW50aWZpZXI7XHJcbn1cclxuZnVuY3Rpb24gaXNDb21wb25lbnRFYWdlcihjb21wb25lbnQpIHtcclxuICAgIHJldHVybiBjb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgPT09IFwiRUFHRVJcIiAvKiBJbnN0YW50aWF0aW9uTW9kZS5FQUdFUiAqLztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ29tcG9uZW50Q29udGFpbmVyIHRoYXQgcHJvdmlkZXMgUHJvdmlkZXJzIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiBgYXV0aGAsIGBhdXRoLWludGVybmFsYFxyXG4gKi9cclxudmFyIENvbXBvbmVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudENvbnRhaW5lcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IGJlaW5nIGFkZGVkXHJcbiAgICAgKiBAcGFyYW0gb3ZlcndyaXRlIFdoZW4gYSBjb21wb25lbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCxcclxuICAgICAqIGlmIG92ZXJ3cml0ZSBpcyB0cnVlOiBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGNvbXBvbmVudCB3aXRoIHRoZSBuZXcgY29tcG9uZW50IGFuZCBjcmVhdGUgYSBuZXdcclxuICAgICAqIHByb3ZpZGVyIHdpdGggdGhlIG5ldyBjb21wb25lbnQuIEl0IGNhbiBiZSB1c2VmdWwgaW4gdGVzdHMgd2hlcmUgeW91IHdhbnQgdG8gdXNlIGRpZmZlcmVudCBtb2Nrc1xyXG4gICAgICogZm9yIGRpZmZlcmVudCB0ZXN0cy5cclxuICAgICAqIGlmIG92ZXJ3cml0ZSBpcyBmYWxzZTogdGhyb3cgYW4gZXhjZXB0aW9uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIoY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIGlmIChwcm92aWRlci5pc0NvbXBvbmVudFNldCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBcIi5jb25jYXQoY29tcG9uZW50Lm5hbWUsIFwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCB3aXRoIFwiKS5jb25jYXQodGhpcy5uYW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3ZpZGVyLnNldENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyLmlzQ29tcG9uZW50U2V0KCkpIHtcclxuICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSBleGlzdGluZyBwcm92aWRlciBmcm9tIHRoZSBjb250YWluZXIsIHNvIHdlIGNhbiByZWdpc3RlciB0aGUgbmV3IGNvbXBvbmVudFxyXG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVycy5kZWxldGUoY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0UHJvdmlkZXIgcHJvdmlkZXMgYSB0eXBlIHNhZmUgaW50ZXJmYWNlIHdoZXJlIGl0IGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgZmllbGQgbmFtZVxyXG4gICAgICogcHJlc2VudCBpbiBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlLlxyXG4gICAgICpcclxuICAgICAqIEZpcmViYXNlIFNES3MgcHJvdmlkaW5nIHNlcnZpY2VzIHNob3VsZCBleHRlbmQgTmFtZVNlcnZpY2VNYXBwaW5nIGludGVyZmFjZSB0byByZWdpc3RlclxyXG4gICAgICogdGhlbXNlbHZlcy5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5nZXRQcm92aWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvdmlkZXJzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnMuZ2V0KG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjcmVhdGUgYSBQcm92aWRlciBmb3IgYSBzZXJ2aWNlIHRoYXQgaGFzbid0IHJlZ2lzdGVyZWQgd2l0aCBGaXJlYmFzZVxyXG4gICAgICAgIHZhciBwcm92aWRlciA9IG5ldyBQcm92aWRlcihuYW1lLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnByb3ZpZGVycy5zZXQobmFtZSwgcHJvdmlkZXIpO1xyXG4gICAgICAgIHJldHVybiBwcm92aWRlcjtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmdldFByb3ZpZGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByb3ZpZGVycy52YWx1ZXMoKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBvbmVudENvbnRhaW5lcjtcclxufSgpKTtcblxuZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG5leHBvcnRzLkNvbXBvbmVudENvbnRhaW5lciA9IENvbXBvbmVudENvbnRhaW5lcjtcbmV4cG9ydHMuUHJvdmlkZXIgPSBQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGFwcCA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9hcHAnKTtcbnZhciBjb21wb25lbnQgPSByZXF1aXJlKCdAZmlyZWJhc2UvY29tcG9uZW50Jyk7XG52YXIgbG9nZ2VyID0gcmVxdWlyZSgnQGZpcmViYXNlL2xvZ2dlcicpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdAZmlyZWJhc2UvdXRpbCcpO1xudmFyIGJsb29tQmxvYiA9IHJlcXVpcmUoJ0BmaXJlYmFzZS93ZWJjaGFubmVsLXdyYXBwZXIvYmxvb20tYmxvYicpO1xudmFyIHdlYmNoYW5uZWxCbG9iID0gcmVxdWlyZSgnQGZpcmViYXNlL3dlYmNoYW5uZWwtd3JhcHBlci93ZWJjaGFubmVsLWJsb2InKTtcblxuY29uc3QgUyA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBTaW1wbGUgd3JhcHBlciBhcm91bmQgYSBudWxsYWJsZSBVSUQuIE1vc3RseSBleGlzdHMgdG8gbWFrZSBjb2RlIG1vcmVcbiAqIHJlYWRhYmxlLlxuICovXG5jbGFzcyBVc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMudWlkID0gZTtcbiAgICB9XG4gICAgaXNBdXRoZW50aWNhdGVkKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPSB0aGlzLnVpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGtleSByZXByZXNlbnRpbmcgdGhpcyB1c2VyLCBzdWl0YWJsZSBmb3IgaW5jbHVzaW9uIGluIGFcbiAgICAgKiBkaWN0aW9uYXJ5LlxuICAgICAqLyAgICB0b0tleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNBdXRoZW50aWNhdGVkKCkgPyBcInVpZDpcIiArIHRoaXMudWlkIDogXCJhbm9ueW1vdXMtdXNlclwiO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUudWlkID09PSB0aGlzLnVpZDtcbiAgICB9XG59XG5cbi8qKiBBIHVzZXIgd2l0aCBhIG51bGwgVUlELiAqLyBVc2VyLlVOQVVUSEVOVElDQVRFRCA9IG5ldyBVc2VyKG51bGwpLCBcbi8vIFRPRE8obWlrZWxlaGVuKTogTG9vayBpbnRvIGdldHRpbmcgYSBwcm9wZXIgdWlkLWVxdWl2YWxlbnQgZm9yXG4vLyBub24tRmlyZWJhc2VBdXRoIHByb3ZpZGVycy5cblVzZXIuR09PR0xFX0NSRURFTlRJQUxTID0gbmV3IFVzZXIoXCJnb29nbGUtY3JlZGVudGlhbHMtdWlkXCIpLCBVc2VyLkZJUlNUX1BBUlRZID0gbmV3IFVzZXIoXCJmaXJzdC1wYXJ0eS11aWRcIiksIFxuVXNlci5NT0NLX1VTRVIgPSBuZXcgVXNlcihcIm1vY2stdXNlclwiKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmxldCBiID0gXCIxMC4xMi4zXCI7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jb25zdCBEID0gbmV3IGxvZ2dlci5Mb2dnZXIoXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCIpO1xuXG4vLyBIZWxwZXIgbWV0aG9kcyBhcmUgbmVlZGVkIGJlY2F1c2UgdmFyaWFibGVzIGNhbid0IGJlIGV4cG9ydGVkIGFzIHJlYWQvd3JpdGVcbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRMb2dMZXZlbCgpIHtcbiAgICByZXR1cm4gRC5sb2dMZXZlbDtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2ZXJib3NpdHkgb2YgQ2xvdWQgRmlyZXN0b3JlIGxvZ3MgKGRlYnVnLCBlcnJvciwgb3Igc2lsZW50KS5cbiAqXG4gKiBAcGFyYW0gbG9nTGV2ZWwgLSBUaGUgdmVyYm9zaXR5IHlvdSBzZXQgZm9yIGFjdGl2aXR5IGFuZCBlcnJvciBsb2dnaW5nLiBDYW5cbiAqICAgYmUgYW55IG9mIHRoZSBmb2xsb3dpbmcgdmFsdWVzOlxuICpcbiAqICAgPHVsPlxuICogICAgIDxsaT5gZGVidWdgIGZvciB0aGUgbW9zdCB2ZXJib3NlIGxvZ2dpbmcgbGV2ZWwsIHByaW1hcmlseSBmb3JcbiAqICAgICBkZWJ1Z2dpbmcuPC9saT5cbiAqICAgICA8bGk+YGVycm9yYCB0byBsb2cgZXJyb3JzIG9ubHkuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+YHNpbGVudGAgdG8gdHVybiBvZmYgbG9nZ2luZy48L2xpPlxuICogICA8L3VsPlxuICovIGZ1bmN0aW9uIHNldExvZ0xldmVsKGUpIHtcbiAgICBELnNldExvZ0xldmVsKGUpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG9nRGVidWcoZSwgLi4udCkge1xuICAgIGlmIChELmxvZ0xldmVsIDw9IGxvZ2dlci5Mb2dMZXZlbC5ERUJVRykge1xuICAgICAgICBjb25zdCBuID0gdC5tYXAoX19QUklWQVRFX2FyZ1RvU3RyaW5nKTtcbiAgICAgICAgRC5kZWJ1ZyhgRmlyZXN0b3JlICgke2J9KTogJHtlfWAsIC4uLm4pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2xvZ0Vycm9yKGUsIC4uLnQpIHtcbiAgICBpZiAoRC5sb2dMZXZlbCA8PSBsb2dnZXIuTG9nTGV2ZWwuRVJST1IpIHtcbiAgICAgICAgY29uc3QgbiA9IHQubWFwKF9fUFJJVkFURV9hcmdUb1N0cmluZyk7XG4gICAgICAgIEQuZXJyb3IoYEZpcmVzdG9yZSAoJHtifSk6ICR7ZX1gLCAuLi5uKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2xvZ1dhcm4oZSwgLi4udCkge1xuICAgIGlmIChELmxvZ0xldmVsIDw9IGxvZ2dlci5Mb2dMZXZlbC5XQVJOKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0Lm1hcChfX1BSSVZBVEVfYXJnVG9TdHJpbmcpO1xuICAgICAgICBELndhcm4oYEZpcmVzdG9yZSAoJHtifSk6ICR7ZX1gLCAuLi5uKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgYW4gYWRkaXRpb25hbCBsb2cgcGFyYW1ldGVyIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9hcmdUb1N0cmluZyhlKSB7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiBlO1xuICAgIHRyeSB7XG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4gICAgICAgIC8qKiBGb3JtYXRzIGFuIG9iamVjdCBhcyBhIEpTT04gc3RyaW5nLCBzdWl0YWJsZSBmb3IgbG9nZ2luZy4gKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9mb3JtYXRKU09OKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlKTtcbiAgICAgICAgfShlKTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgIC8vIENvbnZlcnRpbmcgdG8gSlNPTiBmYWlsZWQsIGp1c3QgbG9nIHRoZSBvYmplY3QgZGlyZWN0bHlcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBVbmNvbmRpdGlvbmFsbHkgZmFpbHMsIHRocm93aW5nIGFuIEVycm9yIHdpdGggdGhlIGdpdmVuIG1lc3NhZ2UuXG4gKiBNZXNzYWdlcyBhcmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiBidWlsZHMuXG4gKlxuICogUmV0dXJucyBgbmV2ZXJgIGFuZCBjYW4gYmUgdXNlZCBpbiBleHByZXNzaW9uczpcbiAqIEBleGFtcGxlXG4gKiBsZXQgZnV0dXJlVmFyID0gZmFpbCgnbm90IGltcGxlbWVudGVkIHlldCcpO1xuICovIGZ1bmN0aW9uIGZhaWwoZSA9IFwiVW5leHBlY3RlZCBzdGF0ZVwiKSB7XG4gICAgLy8gTG9nIHRoZSBmYWlsdXJlIGluIGFkZGl0aW9uIHRvIHRocm93IGFuIGV4Y2VwdGlvbiwganVzdCBpbiBjYXNlIHRoZVxuICAgIC8vIGV4Y2VwdGlvbiBpcyBzd2FsbG93ZWQuXG4gICAgY29uc3QgdCA9IGBGSVJFU1RPUkUgKCR7Yn0pIElOVEVSTkFMIEFTU0VSVElPTiBGQUlMRUQ6IGAgKyBlO1xuICAgIC8vIE5PVEU6IFdlIGRvbid0IHVzZSBGaXJlc3RvcmVFcnJvciBoZXJlIGJlY2F1c2UgdGhlc2UgYXJlIGludGVybmFsIGZhaWx1cmVzXG4gICAgLy8gdGhhdCBjYW5ub3QgYmUgaGFuZGxlZCBieSB0aGUgdXNlci4gKEFsc28gaXQgd291bGQgY3JlYXRlIGEgY2lyY3VsYXJcbiAgICAvLyBkZXBlbmRlbmN5IGJldHdlZW4gdGhlIGVycm9yIGFuZCBhc3NlcnQgbW9kdWxlcyB3aGljaCBkb2Vzbid0IHdvcmsuKVxuICAgIHRocm93IF9fUFJJVkFURV9sb2dFcnJvcih0KSwgbmV3IEVycm9yKHQpO1xufVxuXG4vKipcbiAqIEZhaWxzIGlmIHRoZSBnaXZlbiBhc3NlcnRpb24gY29uZGl0aW9uIGlzIGZhbHNlLCB0aHJvd2luZyBhbiBFcnJvciB3aXRoIHRoZVxuICogZ2l2ZW4gbWVzc2FnZSBpZiBpdCBkaWQuXG4gKlxuICogTWVzc2FnZXMgYXJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUsIHQpIHtcbiAgICBlIHx8IGZhaWwoKTtcbn1cblxuLyoqXG4gKiBGYWlscyBpZiB0aGUgZ2l2ZW4gYXNzZXJ0aW9uIGNvbmRpdGlvbiBpcyBmYWxzZSwgdGhyb3dpbmcgYW4gRXJyb3Igd2l0aCB0aGVcbiAqIGdpdmVuIG1lc3NhZ2UgaWYgaXQgZGlkLlxuICpcbiAqIFRoZSBjb2RlIG9mIGNhbGxzaXRlcyBpbnZva2luZyB0aGlzIGZ1bmN0aW9uIGFyZSBzdHJpcHBlZCBvdXQgaW4gcHJvZHVjdGlvblxuICogYnVpbGRzLiBBbnkgc2lkZS1lZmZlY3RzIG9mIGNvZGUgd2l0aGluIHRoZSBkZWJ1Z0Fzc2VydCgpIGludm9jYXRpb24gd2lsbCBub3RcbiAqIGhhcHBlbiBpbiB0aGlzIGNhc2UuXG4gKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RlYnVnQXNzZXJ0KGUsIHQpIHtcbiAgICBlIHx8IGZhaWwoKTtcbn1cblxuLyoqXG4gKiBDYXN0cyBgb2JqYCB0byBgVGAuIEluIG5vbi1wcm9kdWN0aW9uIGJ1aWxkcywgdmVyaWZpZXMgdGhhdCBgb2JqYCBpcyBhblxuICogaW5zdGFuY2Ugb2YgYFRgIGJlZm9yZSBjYXN0aW5nLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxudCkge1xuICAgIHJldHVybiBlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBDID0ge1xuICAgIC8vIENhdXNlcyBhcmUgY29waWVkIGZyb206XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL2JjZWVjOTRlYTRmYzVmMDA4NWQ4MTIzNWQ4ZTFjMDY3OThkYzM0MWEvaW5jbHVkZS9ncnBjJTJCJTJCL2ltcGwvY29kZWdlbi9zdGF0dXNfY29kZV9lbnVtLmhcbiAgICAvKiogTm90IGFuIGVycm9yOyByZXR1cm5lZCBvbiBzdWNjZXNzLiAqL1xuICAgIE9LOiBcIm9rXCIsXG4gICAgLyoqIFRoZSBvcGVyYXRpb24gd2FzIGNhbmNlbGxlZCAodHlwaWNhbGx5IGJ5IHRoZSBjYWxsZXIpLiAqL1xuICAgIENBTkNFTExFRDogXCJjYW5jZWxsZWRcIixcbiAgICAvKiogVW5rbm93biBlcnJvciBvciBhbiBlcnJvciBmcm9tIGEgZGlmZmVyZW50IGVycm9yIGRvbWFpbi4gKi9cbiAgICBVTktOT1dOOiBcInVua25vd25cIixcbiAgICAvKipcbiAgICAgKiBDbGllbnQgc3BlY2lmaWVkIGFuIGludmFsaWQgYXJndW1lbnQuIE5vdGUgdGhhdCB0aGlzIGRpZmZlcnMgZnJvbVxuICAgICAqIEZBSUxFRF9QUkVDT05ESVRJT04uIElOVkFMSURfQVJHVU1FTlQgaW5kaWNhdGVzIGFyZ3VtZW50cyB0aGF0IGFyZVxuICAgICAqIHByb2JsZW1hdGljIHJlZ2FyZGxlc3Mgb2YgdGhlIHN0YXRlIG9mIHRoZSBzeXN0ZW0gKGUuZy4sIGEgbWFsZm9ybWVkIGZpbGVcbiAgICAgKiBuYW1lKS5cbiAgICAgKi9cbiAgICBJTlZBTElEX0FSR1VNRU5UOiBcImludmFsaWQtYXJndW1lbnRcIixcbiAgICAvKipcbiAgICAgKiBEZWFkbGluZSBleHBpcmVkIGJlZm9yZSBvcGVyYXRpb24gY291bGQgY29tcGxldGUuIEZvciBvcGVyYXRpb25zIHRoYXRcbiAgICAgKiBjaGFuZ2UgdGhlIHN0YXRlIG9mIHRoZSBzeXN0ZW0sIHRoaXMgZXJyb3IgbWF5IGJlIHJldHVybmVkIGV2ZW4gaWYgdGhlXG4gICAgICogb3BlcmF0aW9uIGhhcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LiBGb3IgZXhhbXBsZSwgYSBzdWNjZXNzZnVsIHJlc3BvbnNlXG4gICAgICogZnJvbSBhIHNlcnZlciBjb3VsZCBoYXZlIGJlZW4gZGVsYXllZCBsb25nIGVub3VnaCBmb3IgdGhlIGRlYWRsaW5lIHRvXG4gICAgICogZXhwaXJlLlxuICAgICAqL1xuICAgIERFQURMSU5FX0VYQ0VFREVEOiBcImRlYWRsaW5lLWV4Y2VlZGVkXCIsXG4gICAgLyoqIFNvbWUgcmVxdWVzdGVkIGVudGl0eSAoZS5nLiwgZmlsZSBvciBkaXJlY3RvcnkpIHdhcyBub3QgZm91bmQuICovXG4gICAgTk9UX0ZPVU5EOiBcIm5vdC1mb3VuZFwiLFxuICAgIC8qKlxuICAgICAqIFNvbWUgZW50aXR5IHRoYXQgd2UgYXR0ZW1wdGVkIHRvIGNyZWF0ZSAoZS5nLiwgZmlsZSBvciBkaXJlY3RvcnkpIGFscmVhZHlcbiAgICAgKiBleGlzdHMuXG4gICAgICovXG4gICAgQUxSRUFEWV9FWElTVFM6IFwiYWxyZWFkeS1leGlzdHNcIixcbiAgICAvKipcbiAgICAgKiBUaGUgY2FsbGVyIGRvZXMgbm90IGhhdmUgcGVybWlzc2lvbiB0byBleGVjdXRlIHRoZSBzcGVjaWZpZWQgb3BlcmF0aW9uLlxuICAgICAqIFBFUk1JU1NJT05fREVOSUVEIG11c3Qgbm90IGJlIHVzZWQgZm9yIHJlamVjdGlvbnMgY2F1c2VkIGJ5IGV4aGF1c3RpbmdcbiAgICAgKiBzb21lIHJlc291cmNlICh1c2UgUkVTT1VSQ0VfRVhIQVVTVEVEIGluc3RlYWQgZm9yIHRob3NlIGVycm9ycykuXG4gICAgICogUEVSTUlTU0lPTl9ERU5JRUQgbXVzdCBub3QgYmUgdXNlZCBpZiB0aGUgY2FsbGVyIGNhbiBub3QgYmUgaWRlbnRpZmllZFxuICAgICAqICh1c2UgVU5BVVRIRU5USUNBVEVEIGluc3RlYWQgZm9yIHRob3NlIGVycm9ycykuXG4gICAgICovXG4gICAgUEVSTUlTU0lPTl9ERU5JRUQ6IFwicGVybWlzc2lvbi1kZW5pZWRcIixcbiAgICAvKipcbiAgICAgKiBUaGUgcmVxdWVzdCBkb2VzIG5vdCBoYXZlIHZhbGlkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIGZvciB0aGVcbiAgICAgKiBvcGVyYXRpb24uXG4gICAgICovXG4gICAgVU5BVVRIRU5USUNBVEVEOiBcInVuYXV0aGVudGljYXRlZFwiLFxuICAgIC8qKlxuICAgICAqIFNvbWUgcmVzb3VyY2UgaGFzIGJlZW4gZXhoYXVzdGVkLCBwZXJoYXBzIGEgcGVyLXVzZXIgcXVvdGEsIG9yIHBlcmhhcHMgdGhlXG4gICAgICogZW50aXJlIGZpbGUgc3lzdGVtIGlzIG91dCBvZiBzcGFjZS5cbiAgICAgKi9cbiAgICBSRVNPVVJDRV9FWEhBVVNURUQ6IFwicmVzb3VyY2UtZXhoYXVzdGVkXCIsXG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9uIHdhcyByZWplY3RlZCBiZWNhdXNlIHRoZSBzeXN0ZW0gaXMgbm90IGluIGEgc3RhdGUgcmVxdWlyZWQgZm9yXG4gICAgICogdGhlIG9wZXJhdGlvbidzIGV4ZWN1dGlvbi4gRm9yIGV4YW1wbGUsIGRpcmVjdG9yeSB0byBiZSBkZWxldGVkIG1heSBiZVxuICAgICAqIG5vbi1lbXB0eSwgYW4gcm1kaXIgb3BlcmF0aW9uIGlzIGFwcGxpZWQgdG8gYSBub24tZGlyZWN0b3J5LCBldGMuXG4gICAgICpcbiAgICAgKiBBIGxpdG11cyB0ZXN0IHRoYXQgbWF5IGhlbHAgYSBzZXJ2aWNlIGltcGxlbWVudG9yIGluIGRlY2lkaW5nXG4gICAgICogYmV0d2VlbiBGQUlMRURfUFJFQ09ORElUSU9OLCBBQk9SVEVELCBhbmQgVU5BVkFJTEFCTEU6XG4gICAgICogIChhKSBVc2UgVU5BVkFJTEFCTEUgaWYgdGhlIGNsaWVudCBjYW4gcmV0cnkganVzdCB0aGUgZmFpbGluZyBjYWxsLlxuICAgICAqICAoYikgVXNlIEFCT1JURUQgaWYgdGhlIGNsaWVudCBzaG91bGQgcmV0cnkgYXQgYSBoaWdoZXItbGV2ZWxcbiAgICAgKiAgICAgIChlLmcuLCByZXN0YXJ0aW5nIGEgcmVhZC1tb2RpZnktd3JpdGUgc2VxdWVuY2UpLlxuICAgICAqICAoYykgVXNlIEZBSUxFRF9QUkVDT05ESVRJT04gaWYgdGhlIGNsaWVudCBzaG91bGQgbm90IHJldHJ5IHVudGlsXG4gICAgICogICAgICB0aGUgc3lzdGVtIHN0YXRlIGhhcyBiZWVuIGV4cGxpY2l0bHkgZml4ZWQuIEUuZy4sIGlmIGFuIFwicm1kaXJcIlxuICAgICAqICAgICAgZmFpbHMgYmVjYXVzZSB0aGUgZGlyZWN0b3J5IGlzIG5vbi1lbXB0eSwgRkFJTEVEX1BSRUNPTkRJVElPTlxuICAgICAqICAgICAgc2hvdWxkIGJlIHJldHVybmVkIHNpbmNlIHRoZSBjbGllbnQgc2hvdWxkIG5vdCByZXRyeSB1bmxlc3NcbiAgICAgKiAgICAgIHRoZXkgaGF2ZSBmaXJzdCBmaXhlZCB1cCB0aGUgZGlyZWN0b3J5IGJ5IGRlbGV0aW5nIGZpbGVzIGZyb20gaXQuXG4gICAgICogIChkKSBVc2UgRkFJTEVEX1BSRUNPTkRJVElPTiBpZiB0aGUgY2xpZW50IHBlcmZvcm1zIGNvbmRpdGlvbmFsXG4gICAgICogICAgICBSRVNUIEdldC9VcGRhdGUvRGVsZXRlIG9uIGEgcmVzb3VyY2UgYW5kIHRoZSByZXNvdXJjZSBvbiB0aGVcbiAgICAgKiAgICAgIHNlcnZlciBkb2VzIG5vdCBtYXRjaCB0aGUgY29uZGl0aW9uLiBFLmcuLCBjb25mbGljdGluZ1xuICAgICAqICAgICAgcmVhZC1tb2RpZnktd3JpdGUgb24gdGhlIHNhbWUgcmVzb3VyY2UuXG4gICAgICovXG4gICAgRkFJTEVEX1BSRUNPTkRJVElPTjogXCJmYWlsZWQtcHJlY29uZGl0aW9uXCIsXG4gICAgLyoqXG4gICAgICogVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZCwgdHlwaWNhbGx5IGR1ZSB0byBhIGNvbmN1cnJlbmN5IGlzc3VlIGxpa2VcbiAgICAgKiBzZXF1ZW5jZXIgY2hlY2sgZmFpbHVyZXMsIHRyYW5zYWN0aW9uIGFib3J0cywgZXRjLlxuICAgICAqXG4gICAgICogU2VlIGxpdG11cyB0ZXN0IGFib3ZlIGZvciBkZWNpZGluZyBiZXR3ZWVuIEZBSUxFRF9QUkVDT05ESVRJT04sIEFCT1JURUQsXG4gICAgICogYW5kIFVOQVZBSUxBQkxFLlxuICAgICAqL1xuICAgIEFCT1JURUQ6IFwiYWJvcnRlZFwiLFxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbiB3YXMgYXR0ZW1wdGVkIHBhc3QgdGhlIHZhbGlkIHJhbmdlLiBFLmcuLCBzZWVraW5nIG9yIHJlYWRpbmdcbiAgICAgKiBwYXN0IGVuZCBvZiBmaWxlLlxuICAgICAqXG4gICAgICogVW5saWtlIElOVkFMSURfQVJHVU1FTlQsIHRoaXMgZXJyb3IgaW5kaWNhdGVzIGEgcHJvYmxlbSB0aGF0IG1heSBiZSBmaXhlZFxuICAgICAqIGlmIHRoZSBzeXN0ZW0gc3RhdGUgY2hhbmdlcy4gRm9yIGV4YW1wbGUsIGEgMzItYml0IGZpbGUgc3lzdGVtIHdpbGxcbiAgICAgKiBnZW5lcmF0ZSBJTlZBTElEX0FSR1VNRU5UIGlmIGFza2VkIHRvIHJlYWQgYXQgYW4gb2Zmc2V0IHRoYXQgaXMgbm90IGluIHRoZVxuICAgICAqIHJhbmdlIFswLDJeMzItMV0sIGJ1dCBpdCB3aWxsIGdlbmVyYXRlIE9VVF9PRl9SQU5HRSBpZiBhc2tlZCB0byByZWFkIGZyb21cbiAgICAgKiBhbiBvZmZzZXQgcGFzdCB0aGUgY3VycmVudCBmaWxlIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGVyZSBpcyBhIGZhaXIgYml0IG9mIG92ZXJsYXAgYmV0d2VlbiBGQUlMRURfUFJFQ09ORElUSU9OIGFuZFxuICAgICAqIE9VVF9PRl9SQU5HRS4gV2UgcmVjb21tZW5kIHVzaW5nIE9VVF9PRl9SQU5HRSAodGhlIG1vcmUgc3BlY2lmaWMgZXJyb3IpXG4gICAgICogd2hlbiBpdCBhcHBsaWVzIHNvIHRoYXQgY2FsbGVycyB3aG8gYXJlIGl0ZXJhdGluZyB0aHJvdWdoIGEgc3BhY2UgY2FuXG4gICAgICogZWFzaWx5IGxvb2sgZm9yIGFuIE9VVF9PRl9SQU5HRSBlcnJvciB0byBkZXRlY3Qgd2hlbiB0aGV5IGFyZSBkb25lLlxuICAgICAqL1xuICAgIE9VVF9PRl9SQU5HRTogXCJvdXQtb2YtcmFuZ2VcIixcbiAgICAvKiogT3BlcmF0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZCBvciBub3Qgc3VwcG9ydGVkL2VuYWJsZWQgaW4gdGhpcyBzZXJ2aWNlLiAqL1xuICAgIFVOSU1QTEVNRU5URUQ6IFwidW5pbXBsZW1lbnRlZFwiLFxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGVycm9ycy4gTWVhbnMgc29tZSBpbnZhcmlhbnRzIGV4cGVjdGVkIGJ5IHVuZGVybHlpbmcgU3lzdGVtIGhhc1xuICAgICAqIGJlZW4gYnJva2VuLiBJZiB5b3Ugc2VlIG9uZSBvZiB0aGVzZSBlcnJvcnMsIFNvbWV0aGluZyBpcyB2ZXJ5IGJyb2tlbi5cbiAgICAgKi9cbiAgICBJTlRFUk5BTDogXCJpbnRlcm5hbFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXJ2aWNlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS4gVGhpcyBpcyBhIG1vc3QgbGlrZWx5IGEgdHJhbnNpZW50XG4gICAgICogY29uZGl0aW9uIGFuZCBtYXkgYmUgY29ycmVjdGVkIGJ5IHJldHJ5aW5nIHdpdGggYSBiYWNrb2ZmLlxuICAgICAqXG4gICAgICogU2VlIGxpdG11cyB0ZXN0IGFib3ZlIGZvciBkZWNpZGluZyBiZXR3ZWVuIEZBSUxFRF9QUkVDT05ESVRJT04sIEFCT1JURUQsXG4gICAgICogYW5kIFVOQVZBSUxBQkxFLlxuICAgICAqL1xuICAgIFVOQVZBSUxBQkxFOiBcInVuYXZhaWxhYmxlXCIsXG4gICAgLyoqIFVucmVjb3ZlcmFibGUgZGF0YSBsb3NzIG9yIGNvcnJ1cHRpb24uICovXG4gICAgREFUQV9MT1NTOiBcImRhdGEtbG9zc1wiXG59O1xuXG4vKiogQW4gZXJyb3IgcmV0dXJuZWQgYnkgYSBGaXJlc3RvcmUgb3BlcmF0aW9uLiAqLyBjbGFzcyBGaXJlc3RvcmVFcnJvciBleHRlbmRzIHV0aWwuRmlyZWJhc2VFcnJvciB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2VuZCBlcnJvciBjb2RlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVycm9yLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIEEgY3VzdG9tIGVycm9yIGRlc2NyaXB0aW9uLlxuICAgICAqL1xuICAgIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgdCksIHRoaXMuY29kZSA9IGUsIHRoaXMubWVzc2FnZSA9IHQsIFxuICAgICAgICAvLyBIQUNLOiBXZSB3cml0ZSBhIHRvU3RyaW5nIHByb3BlcnR5IGRpcmVjdGx5IGJlY2F1c2UgRXJyb3IgaXMgbm90IGEgcmVhbFxuICAgICAgICAvLyBjbGFzcyBhbmQgc28gaW5oZXJpdGFuY2UgZG9lcyBub3Qgd29yayBjb3JyZWN0bHkuIFdlIGNvdWxkIGFsdGVybmF0aXZlbHlcbiAgICAgICAgLy8gZG8gdGhlIHNhbWUgXCJiYWNrLWRvb3IgaW5oZXJpdGFuY2VcIiB0cmljayB0aGF0IEZpcmViYXNlRXJyb3IgZG9lcy5cbiAgICAgICAgdGhpcy50b1N0cmluZyA9ICgpID0+IGAke3RoaXMubmFtZX06IFtjb2RlPSR7dGhpcy5jb2RlfV06ICR7dGhpcy5tZXNzYWdlfWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfRGVmZXJyZWQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGUsIHRoaXMucmVqZWN0ID0gdDtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX09BdXRoVG9rZW4ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy51c2VyID0gdCwgdGhpcy50eXBlID0gXCJPQXV0aFwiLCB0aGlzLmhlYWRlcnMgPSBuZXcgTWFwLCB0aGlzLmhlYWRlcnMuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBgQmVhcmVyICR7ZX1gKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBDcmVkZW50aWFsc1Byb3ZpZGVyIHRoYXQgYWx3YXlzIHlpZWxkcyBhbiBlbXB0eSB0b2tlbi5cbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIF9fUFJJVkFURV9FbXB0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIHtcbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge31cbiAgICBzdGFydChlLCB0KSB7XG4gICAgICAgIC8vIEZpcmUgd2l0aCBpbml0aWFsIHVzZXIuXG4gICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gdChVc2VyLlVOQVVUSEVOVElDQVRFRCkpKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7fVxufVxuXG4vKipcbiAqIEEgQ3JlZGVudGlhbHNQcm92aWRlciB0aGF0IGFsd2F5cyByZXR1cm5zIGEgY29uc3RhbnQgdG9rZW4uIFVzZWQgZm9yXG4gKiBlbXVsYXRvciB0b2tlbiBtb2NraW5nLlxuICovIGNsYXNzIF9fUFJJVkFURV9FbXVsYXRvckF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSBlLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyB0aGUgbGlzdGVuZXIgcmVnaXN0ZXJlZCB3aXRoIHNldENoYW5nZUxpc3RlbmVyKClcbiAgICAgICAgICogVGhpcyBpc24ndCBhY3R1YWxseSBuZWNlc3Nhcnkgc2luY2UgdGhlIFVJRCBuZXZlciBjaGFuZ2VzLCBidXQgd2UgdXNlIHRoaXNcbiAgICAgICAgICogdG8gdmVyaWZ5IHRoZSBsaXN0ZW4gY29udHJhY3QgaXMgYWRoZXJlZCB0byBpbiB0ZXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSBudWxsO1xuICAgIH1cbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRva2VuKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge31cbiAgICBzdGFydChlLCB0KSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSB0LCBcbiAgICAgICAgLy8gRmlyZSB3aXRoIGluaXRpYWwgdXNlci5cbiAgICAgICAgZS5lbnF1ZXVlUmV0cnlhYmxlKCgoKSA9PiB0KHRoaXMudG9rZW4udXNlcikpKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSBudWxsO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0ZpcmViYXNlQXV0aENyZWRlbnRpYWxzUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy50ID0gZSwgXG4gICAgICAgIC8qKiBUcmFja3MgdGhlIGN1cnJlbnQgVXNlci4gKi9cbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IFVzZXIuVU5BVVRIRU5USUNBVEVELCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50ZXIgdXNlZCB0byBkZXRlY3QgaWYgdGhlIHRva2VuIGNoYW5nZWQgd2hpbGUgYSBnZXRUb2tlbiByZXF1ZXN0IHdhc1xuICAgICAgICAgKiBvdXRzdGFuZGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaSA9IDAsIHRoaXMuZm9yY2VSZWZyZXNoID0gITEsIHRoaXMuYXV0aCA9IG51bGw7XG4gICAgfVxuICAgIHN0YXJ0KGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSB0aGlzLmk7XG4gICAgICAgIC8vIEEgY2hhbmdlIGxpc3RlbmVyIHRoYXQgcHJldmVudHMgZG91YmxlLWZpcmluZyBmb3IgdGhlIHNhbWUgdG9rZW4gY2hhbmdlLlxuICAgICAgICAgICAgICAgIGNvbnN0IF9fUFJJVkFURV9ndWFyZGVkQ2hhbmdlTGlzdGVuZXIgPSBlID0+IHRoaXMuaSAhPT0gbiA/IChuID0gdGhpcy5pLCBcbiAgICAgICAgdChlKSkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgLy8gQSBwcm9taXNlIHRoYXQgY2FuIGJlIHdhaXRlZCBvbiB0byBibG9jayBvbiB0aGUgbmV4dCB0b2tlbiBjaGFuZ2UuXG4gICAgICAgIC8vIFRoaXMgcHJvbWlzZSBpcyByZS1jcmVhdGVkIGFmdGVyIGVhY2ggY2hhbmdlLlxuICAgICAgICAgICAgICAgIGxldCByID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICAgICAgdGhpcy5vID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pKyssIHRoaXMuY3VycmVudFVzZXIgPSB0aGlzLnUoKSwgci5yZXNvbHZlKCksIHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkLCBcbiAgICAgICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gX19QUklWQVRFX2d1YXJkZWRDaGFuZ2VMaXN0ZW5lcih0aGlzLmN1cnJlbnRVc2VyKSkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBfX1BSSVZBVEVfYXdhaXROZXh0VG9rZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gcjtcbiAgICAgICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHQucHJvbWlzZSwgYXdhaXQgX19QUklWQVRFX2d1YXJkZWRDaGFuZ2VMaXN0ZW5lcih0aGlzLmN1cnJlbnRVc2VyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSwgX19QUklWQVRFX3JlZ2lzdGVyQXV0aCA9IGUgPT4ge1xuICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlclwiLCBcIkF1dGggZGV0ZWN0ZWRcIiksIHRoaXMuYXV0aCA9IGUsIFxuICAgICAgICAgICAgdGhpcy5hdXRoLmFkZEF1dGhUb2tlbkxpc3RlbmVyKHRoaXMubyksIF9fUFJJVkFURV9hd2FpdE5leHRUb2tlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnQub25Jbml0KChlID0+IF9fUFJJVkFURV9yZWdpc3RlckF1dGgoZSkpKSwgXG4gICAgICAgIC8vIE91ciB1c2VycyBjYW4gaW5pdGlhbGl6ZSBBdXRoIHJpZ2h0IGFmdGVyIEZpcmVzdG9yZSwgc28gd2UgZ2l2ZSBpdFxuICAgICAgICAvLyBhIGNoYW5jZSB0byByZWdpc3RlciBpdHNlbGYgd2l0aCB0aGUgY29tcG9uZW50IGZyYW1ld29yayBiZWZvcmUgd2VcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gc3RhcnQgdXAgaW4gdW5hdXRoZW50aWNhdGVkIG1vZGUuXG4gICAgICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hdXRoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMudC5nZXRJbW1lZGlhdGUoe1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbDogITBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlID8gX19QUklWQVRFX3JlZ2lzdGVyQXV0aChlKSA6IChcbiAgICAgICAgICAgICAgICAvLyBJZiBhdXRoIGlzIHN0aWxsIG5vdCBhdmFpbGFibGUsIHByb2NlZWQgd2l0aCBgbnVsbGAgdXNlclxuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmViYXNlQXV0aENyZWRlbnRpYWxzUHJvdmlkZXJcIiwgXCJBdXRoIG5vdCB5ZXQgZGV0ZWN0ZWRcIiksIFxuICAgICAgICAgICAgICAgIHIucmVzb2x2ZSgpLCByID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCAwKSwgX19QUklWQVRFX2F3YWl0TmV4dFRva2VuKCk7XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICAvLyBUYWtlIG5vdGUgb2YgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHRva2VuQ291bnRlciBzbyB0aGF0IHRoaXMgbWV0aG9kXG4gICAgICAgIC8vIGNhbiBmYWlsICh3aXRoIGFuIEFCT1JURUQgZXJyb3IpIGlmIHRoZXJlIGlzIGEgdG9rZW4gY2hhbmdlIHdoaWxlIHRoZVxuICAgICAgICAvLyByZXF1ZXN0IGlzIG91dHN0YW5kaW5nLlxuICAgICAgICBjb25zdCBlID0gdGhpcy5pLCB0ID0gdGhpcy5mb3JjZVJlZnJlc2g7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcmNlUmVmcmVzaCA9ICExLCB0aGlzLmF1dGggPyB0aGlzLmF1dGguZ2V0VG9rZW4odCkudGhlbigodCA9PiBcbiAgICAgICAgLy8gQ2FuY2VsIHRoZSByZXF1ZXN0IHNpbmNlIHRoZSB0b2tlbiBjaGFuZ2VkIHdoaWxlIHRoZSByZXF1ZXN0IHdhc1xuICAgICAgICAvLyBvdXRzdGFuZGluZyBzbyB0aGUgcmVzcG9uc2UgaXMgcG90ZW50aWFsbHkgZm9yIGEgcHJldmlvdXMgdXNlciAod2hpY2hcbiAgICAgICAgLy8gdXNlciwgd2UgY2FuJ3QgYmUgc3VyZSkuXG4gICAgICAgIHRoaXMuaSAhPT0gZSA/IChfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlYmFzZUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyXCIsIFwiZ2V0VG9rZW4gYWJvcnRlZCBkdWUgdG8gdG9rZW4gY2hhbmdlLlwiKSwgXG4gICAgICAgIHRoaXMuZ2V0VG9rZW4oKSkgOiB0ID8gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwic3RyaW5nXCIgPT0gdHlwZW9mIHQuYWNjZXNzVG9rZW4pLCBcbiAgICAgICAgbmV3IF9fUFJJVkFURV9PQXV0aFRva2VuKHQuYWNjZXNzVG9rZW4sIHRoaXMuY3VycmVudFVzZXIpKSA6IG51bGwpKSA6IFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge1xuICAgICAgICB0aGlzLmZvcmNlUmVmcmVzaCA9ICEwO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5hdXRoICYmIHRoaXMuYXV0aC5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcih0aGlzLm8pO1xuICAgIH1cbiAgICAvLyBBdXRoLmdldFVpZCgpIGNhbiByZXR1cm4gbnVsbCBldmVuIHdpdGggYSB1c2VyIGxvZ2dlZCBpbi4gSXQgaXMgYmVjYXVzZVxuICAgIC8vIGdldFVpZCgpIGlzIHN5bmNocm9ub3VzLCBidXQgdGhlIGF1dGggY29kZSBwb3B1bGF0aW5nIFVpZCBpcyBhc3luY2hyb25vdXMuXG4gICAgLy8gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIHRoZSBBdXRoVG9rZW5MaXN0ZW5lciBjYWxsYmFja1xuICAgIC8vIHRvIGd1YXJhbnRlZSB0byBnZXQgdGhlIGFjdHVhbCB1c2VyLlxuICAgIHUoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmF1dGggJiYgdGhpcy5hdXRoLmdldFVpZCgpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQobnVsbCA9PT0gZSB8fCBcInN0cmluZ1wiID09IHR5cGVvZiBlKSwgbmV3IFVzZXIoZSk7XG4gICAgfVxufVxuXG4vKlxuICogRmlyc3RQYXJ0eVRva2VuIHByb3ZpZGVzIGEgZnJlc2ggdG9rZW4gZWFjaCB0aW1lIGl0cyB2YWx1ZVxuICogaXMgcmVxdWVzdGVkLCBiZWNhdXNlIGlmIHRoZSB0b2tlbiBpcyB0b28gb2xkLCByZXF1ZXN0cyB3aWxsIGJlIHJlamVjdGVkLlxuICogVGVjaG5pY2FsbHkgdGhpcyBtYXkgbm8gbG9uZ2VyIGJlIG5lY2Vzc2FyeSBzaW5jZSB0aGUgU0RLIHNob3VsZCBncmFjZWZ1bGx5XG4gKiByZWNvdmVyIGZyb20gdW5hdXRoZW50aWNhdGVkIGVycm9ycyAoc2VlIGIvMzMxNDc4MTggZm9yIGNvbnRleHQpLCBidXQgaXQnc1xuICogc2FmZXIgdG8ga2VlcCB0aGUgaW1wbGVtZW50YXRpb24gYXMtaXMuXG4gKi8gY2xhc3MgX19QUklWQVRFX0ZpcnN0UGFydHlUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLmwgPSBlLCB0aGlzLmggPSB0LCB0aGlzLlAgPSBuLCB0aGlzLnR5cGUgPSBcIkZpcnN0UGFydHlcIiwgdGhpcy51c2VyID0gVXNlci5GSVJTVF9QQVJUWSwgXG4gICAgICAgIHRoaXMuSSA9IG5ldyBNYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gYXV0aG9yaXphdGlvbiB0b2tlbiwgdXNpbmcgYSBwcm92aWRlZCBmYWN0b3J5IGZ1bmN0aW9uLCBvciByZXR1cm5cbiAgICAgKiBudWxsLlxuICAgICAqLyAgICBUKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5QID8gdGhpcy5QKCkgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgaGVhZGVycygpIHtcbiAgICAgICAgdGhpcy5JLnNldChcIlgtR29vZy1BdXRoVXNlclwiLCB0aGlzLmwpO1xuICAgICAgICAvLyBVc2UgYXJyYXkgbm90YXRpb24gdG8gcHJldmVudCBtaW5pZmljYXRpb25cbiAgICAgICAgY29uc3QgZSA9IHRoaXMuVCgpO1xuICAgICAgICByZXR1cm4gZSAmJiB0aGlzLkkuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBlKSwgdGhpcy5oICYmIHRoaXMuSS5zZXQoXCJYLUdvb2ctSWFtLUF1dGhvcml6YXRpb24tVG9rZW5cIiwgdGhpcy5oKSwgXG4gICAgICAgIHRoaXMuSTtcbiAgICB9XG59XG5cbi8qXG4gKiBQcm92aWRlcyB1c2VyIGNyZWRlbnRpYWxzIHJlcXVpcmVkIGZvciB0aGUgRmlyZXN0b3JlIEphdmFTY3JpcHQgU0RLXG4gKiB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXIsIHVzaW5nIHRlY2huaXF1ZSB0aGF0IGlzIG9ubHkgYXZhaWxhYmxlXG4gKiB0byBhcHBsaWNhdGlvbnMgaG9zdGVkIGJ5IEdvb2dsZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfRmlyc3RQYXJ0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMubCA9IGUsIHRoaXMuaCA9IHQsIHRoaXMuUCA9IG47XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBfX1BSSVZBVEVfRmlyc3RQYXJ0eVRva2VuKHRoaXMubCwgdGhpcy5oLCB0aGlzLlApKTtcbiAgICB9XG4gICAgc3RhcnQoZSwgdCkge1xuICAgICAgICAvLyBGaXJlIHdpdGggaW5pdGlhbCB1aWQuXG4gICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gdChVc2VyLkZJUlNUX1BBUlRZKSkpO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHt9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge31cbn1cblxuY2xhc3MgQXBwQ2hlY2tUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gZSwgdGhpcy50eXBlID0gXCJBcHBDaGVja1wiLCB0aGlzLmhlYWRlcnMgPSBuZXcgTWFwLCBlICYmIGUubGVuZ3RoID4gMCAmJiB0aGlzLmhlYWRlcnMuc2V0KFwieC1maXJlYmFzZS1hcHBjaGVja1wiLCB0aGlzLnZhbHVlKTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9GaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLkEgPSBlLCB0aGlzLmZvcmNlUmVmcmVzaCA9ICExLCB0aGlzLmFwcENoZWNrID0gbnVsbCwgdGhpcy5SID0gbnVsbDtcbiAgICB9XG4gICAgc3RhcnQoZSwgdCkge1xuICAgICAgICBjb25zdCBvblRva2VuQ2hhbmdlZCA9IGUgPT4ge1xuICAgICAgICAgICAgbnVsbCAhPSBlLmVycm9yICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmViYXNlQXBwQ2hlY2tUb2tlblByb3ZpZGVyXCIsIGBFcnJvciBnZXR0aW5nIEFwcCBDaGVjayB0b2tlbjsgdXNpbmcgcGxhY2Vob2xkZXIgdG9rZW4gaW5zdGVhZC4gRXJyb3I6ICR7ZS5lcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgY29uc3QgbiA9IGUudG9rZW4gIT09IHRoaXMuUjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlIgPSBlLnRva2VuLCBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlclwiLCBgUmVjZWl2ZWQgJHtuID8gXCJuZXdcIiA6IFwiZXhpc3RpbmdcIn0gdG9rZW4uYCksIFxuICAgICAgICAgICAgbiA/IHQoZS50b2tlbikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vID0gdCA9PiB7XG4gICAgICAgICAgICBlLmVucXVldWVSZXRyeWFibGUoKCgpID0+IG9uVG9rZW5DaGFuZ2VkKHQpKSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IF9fUFJJVkFURV9yZWdpc3RlckFwcENoZWNrID0gZSA9PiB7XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlclwiLCBcIkFwcENoZWNrIGRldGVjdGVkXCIpLCB0aGlzLmFwcENoZWNrID0gZSwgXG4gICAgICAgICAgICB0aGlzLmFwcENoZWNrLmFkZFRva2VuTGlzdGVuZXIodGhpcy5vKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5BLm9uSW5pdCgoZSA9PiBfX1BSSVZBVEVfcmVnaXN0ZXJBcHBDaGVjayhlKSkpLCBcbiAgICAgICAgLy8gT3VyIHVzZXJzIGNhbiBpbml0aWFsaXplIEFwcENoZWNrIGFmdGVyIEZpcmVzdG9yZSwgc28gd2UgZ2l2ZSBpdFxuICAgICAgICAvLyBhIGNoYW5jZSB0byByZWdpc3RlciBpdHNlbGYgd2l0aCB0aGUgY29tcG9uZW50IGZyYW1ld29yay5cbiAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFwcENoZWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuQS5nZXRJbW1lZGlhdGUoe1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbDogITBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlID8gX19QUklWQVRFX3JlZ2lzdGVyQXBwQ2hlY2soZSkgOiBcbiAgICAgICAgICAgICAgICAvLyBJZiBBcHBDaGVjayBpcyBzdGlsbCBub3QgYXZhaWxhYmxlLCBwcm9jZWVkIHdpdGhvdXQgaXQuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZWJhc2VBcHBDaGVja1Rva2VuUHJvdmlkZXJcIiwgXCJBcHBDaGVjayBub3QgeWV0IGRldGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgMCk7XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5mb3JjZVJlZnJlc2g7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcmNlUmVmcmVzaCA9ICExLCB0aGlzLmFwcENoZWNrID8gdGhpcy5hcHBDaGVjay5nZXRUb2tlbihlKS50aGVuKChlID0+IGUgPyAoX19QUklWQVRFX2hhcmRBc3NlcnQoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZS50b2tlbiksIFxuICAgICAgICB0aGlzLlIgPSBlLnRva2VuLCBuZXcgQXBwQ2hlY2tUb2tlbihlLnRva2VuKSkgOiBudWxsKSkgOiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb2tlbigpIHtcbiAgICAgICAgdGhpcy5mb3JjZVJlZnJlc2ggPSAhMDtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuYXBwQ2hlY2sgJiYgdGhpcy5hcHBDaGVjay5yZW1vdmVUb2tlbkxpc3RlbmVyKHRoaXMubyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFuIEFwcENoZWNrIHRva2VuIHByb3ZpZGVyIHRoYXQgYWx3YXlzIHlpZWxkcyBhbiBlbXB0eSB0b2tlbi5cbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIF9fUFJJVkFURV9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlciB7XG4gICAgZ2V0VG9rZW4oKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEFwcENoZWNrVG9rZW4oXCJcIikpO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9rZW4oKSB7fVxuICAgIHN0YXJ0KGUsIHQpIHt9XG4gICAgc2h1dGRvd24oKSB7fVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIENyZWRlbnRpYWxzUHJvdmlkZXIgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mXG4gKiB0aGUgY3JlZGVudGlhbHMgcGFzc2VkIGluLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBHZW5lcmF0ZXMgYG5CeXRlc2Agb2YgcmFuZG9tIGJ5dGVzLlxuICpcbiAqIElmIGBuQnl0ZXMgPCAwYCAsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfcmFuZG9tQnl0ZXMoZSkge1xuICAgIC8vIFBvbHlmaWxscyBmb3IgSUUgYW5kIFdlYldvcmtlciBieSB1c2luZyBgc2VsZmAgYW5kIGBtc0NyeXB0b2Agd2hlbiBgY3J5cHRvYCBpcyBub3QgYXZhaWxhYmxlLlxuICAgIGNvbnN0IHQgPSBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHNlbGYgJiYgKHNlbGYuY3J5cHRvIHx8IHNlbGYubXNDcnlwdG8pLCBuID0gbmV3IFVpbnQ4QXJyYXkoZSk7XG4gICAgaWYgKHQgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiB0LmdldFJhbmRvbVZhbHVlcykgdC5nZXRSYW5kb21WYWx1ZXMobik7IGVsc2UgXG4gICAgLy8gRmFsbHMgYmFjayB0byBNYXRoLnJhbmRvbVxuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZTsgdCsrKSBuW3RdID0gTWF0aC5mbG9vcigyNTYgKiBNYXRoLnJhbmRvbSgpKTtcbiAgICByZXR1cm4gbjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSB1dGlsaXR5IGNsYXNzIGZvciBnZW5lcmF0aW5nIHVuaXF1ZSBhbHBoYW51bWVyaWMgSURzIG9mIGEgc3BlY2lmaWVkIGxlbmd0aC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEV4cG9ydGVkIGludGVybmFsbHkgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gKi8gY2xhc3MgX19QUklWQVRFX0F1dG9JZCB7XG4gICAgc3RhdGljIG5ld0lkKCkge1xuICAgICAgICAvLyBBbHBoYW51bWVyaWMgY2hhcmFjdGVyc1xuICAgICAgICBjb25zdCBlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLCB0ID0gTWF0aC5mbG9vcigyNTYgLyBlLmxlbmd0aCkgKiBlLmxlbmd0aDtcbiAgICAgICAgLy8gVGhlIGxhcmdlc3QgYnl0ZSB2YWx1ZSB0aGF0IGlzIGEgbXVsdGlwbGUgb2YgYGNoYXIubGVuZ3RoYC5cbiAgICAgICAgICAgICAgICBsZXQgbiA9IFwiXCI7XG4gICAgICAgIGZvciAoO24ubGVuZ3RoIDwgMjA7ICkge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9yYW5kb21CeXRlcyg0MCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHIubGVuZ3RoOyArK2kpIFxuICAgICAgICAgICAgLy8gT25seSBhY2NlcHQgdmFsdWVzIHRoYXQgYXJlIFswLCBtYXhNdWx0aXBsZSksIHRoaXMgZW5zdXJlcyB0aGV5IGNhblxuICAgICAgICAgICAgLy8gYmUgZXZlbmx5IG1hcHBlZCB0byBpbmRpY2VzIG9mIGBjaGFyc2AgdmlhIGEgbW9kdWxvIG9wZXJhdGlvbi5cbiAgICAgICAgICAgIG4ubGVuZ3RoIDwgMjAgJiYgcltpXSA8IHQgJiYgKG4gKz0gZS5jaGFyQXQocltpXSAlIGUubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLCB0KSB7XG4gICAgcmV0dXJuIGUgPCB0ID8gLTEgOiBlID4gdCA/IDEgOiAwO1xufVxuXG4vKiogSGVscGVyIHRvIGNvbXBhcmUgYXJyYXlzIHVzaW5nIGlzRXF1YWwoKS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FycmF5RXF1YWxzKGUsIHQsIG4pIHtcbiAgICByZXR1cm4gZS5sZW5ndGggPT09IHQubGVuZ3RoICYmIGUuZXZlcnkoKChlLCByKSA9PiBuKGUsIHRbcl0pKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW1tZWRpYXRlIGxleGljb2dyYXBoaWNhbGx5LWZvbGxvd2luZyBzdHJpbmcuIFRoaXMgaXMgdXNlZnVsIHRvXG4gKiBjb25zdHJ1Y3QgYW4gaW5jbHVzaXZlIHJhbmdlIGZvciBpbmRleGVkZGIgaXRlcmF0b3JzLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pbW1lZGlhdGVTdWNjZXNzb3IoZSkge1xuICAgIC8vIFJldHVybiB0aGUgaW5wdXQgc3RyaW5nLCB3aXRoIGFuIGFkZGl0aW9uYWwgTlVMIGJ5dGUgYXBwZW5kZWQuXG4gICAgcmV0dXJuIGUgKyBcIlxcMFwiO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gVGhlIGVhcmxpZXN0IGRhdGUgc3VwcG9ydGVkIGJ5IEZpcmVzdG9yZSB0aW1lc3RhbXBzICgwMDAxLTAxLTAxVDAwOjAwOjAwWikuXG4vKipcbiAqIEEgYFRpbWVzdGFtcGAgcmVwcmVzZW50cyBhIHBvaW50IGluIHRpbWUgaW5kZXBlbmRlbnQgb2YgYW55IHRpbWUgem9uZSBvclxuICogY2FsZW5kYXIsIHJlcHJlc2VudGVkIGFzIHNlY29uZHMgYW5kIGZyYWN0aW9ucyBvZiBzZWNvbmRzIGF0IG5hbm9zZWNvbmRcbiAqIHJlc29sdXRpb24gaW4gVVRDIEVwb2NoIHRpbWUuXG4gKlxuICogSXQgaXMgZW5jb2RlZCB1c2luZyB0aGUgUHJvbGVwdGljIEdyZWdvcmlhbiBDYWxlbmRhciB3aGljaCBleHRlbmRzIHRoZVxuICogR3JlZ29yaWFuIGNhbGVuZGFyIGJhY2t3YXJkcyB0byB5ZWFyIG9uZS4gSXQgaXMgZW5jb2RlZCBhc3N1bWluZyBhbGwgbWludXRlc1xuICogYXJlIDYwIHNlY29uZHMgbG9uZywgaS5lLiBsZWFwIHNlY29uZHMgYXJlIFwic21lYXJlZFwiIHNvIHRoYXQgbm8gbGVhcCBzZWNvbmRcbiAqIHRhYmxlIGlzIG5lZWRlZCBmb3IgaW50ZXJwcmV0YXRpb24uIFJhbmdlIGlzIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG9cbiAqIDk5OTktMTItMzFUMjM6NTk6NTkuOTk5OTk5OTk5Wi5cbiAqXG4gKiBGb3IgZXhhbXBsZXMgYW5kIGZ1cnRoZXIgc3BlY2lmaWNhdGlvbnMsIHJlZmVyIHRvIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvcHJvdG9idWYvYmxvYi9tYXN0ZXIvc3JjL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAucHJvdG8gfCBUaW1lc3RhbXAgZGVmaW5pdGlvbn0uXG4gKi9cbmNsYXNzIFRpbWVzdGFtcCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0aW1lc3RhbXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2Vjb25kcyAtIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyBvZiBVVEMgdGltZSBzaW5jZSBVbml4IGVwb2NoXG4gICAgICogICAgIDE5NzAtMDEtMDFUMDA6MDA6MDBaLiBNdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG9cbiAgICAgKiAgICAgOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlLlxuICAgICAqIEBwYXJhbSBuYW5vc2Vjb25kcyAtIFRoZSBub24tbmVnYXRpdmUgZnJhY3Rpb25zIG9mIGEgc2Vjb25kIGF0IG5hbm9zZWNvbmRcbiAgICAgKiAgICAgcmVzb2x1dGlvbi4gTmVnYXRpdmUgc2Vjb25kIHZhbHVlcyB3aXRoIGZyYWN0aW9ucyBtdXN0IHN0aWxsIGhhdmVcbiAgICAgKiAgICAgbm9uLW5lZ2F0aXZlIG5hbm9zZWNvbmRzIHZhbHVlcyB0aGF0IGNvdW50IGZvcndhcmQgaW4gdGltZS4gTXVzdCBiZVxuICAgICAqICAgICBmcm9tIDAgdG8gOTk5LDk5OSw5OTkgaW5jbHVzaXZlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyBvZiBVVEMgdGltZSBzaW5jZSBVbml4IGVwb2NoIDE5NzAtMDEtMDFUMDA6MDA6MDBaLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFjdGlvbnMgb2YgYSBzZWNvbmQgYXQgbmFub3NlY29uZCByZXNvbHV0aW9uLipcbiAgICAgKi9cbiAgICB0KSB7XG4gICAgICAgIGlmICh0aGlzLnNlY29uZHMgPSBlLCB0aGlzLm5hbm9zZWNvbmRzID0gdCwgdCA8IDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVGltZXN0YW1wIG5hbm9zZWNvbmRzIG91dCBvZiByYW5nZTogXCIgKyB0KTtcbiAgICAgICAgaWYgKHQgPj0gMWU5KSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlRpbWVzdGFtcCBuYW5vc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiICsgdCk7XG4gICAgICAgIGlmIChlIDwgLTYyMTM1NTk2ODAwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlRpbWVzdGFtcCBzZWNvbmRzIG91dCBvZiByYW5nZTogXCIgKyBlKTtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJyZWFrIGluIHRoZSB5ZWFyIDEwLDAwMC5cbiAgICAgICAgICAgICAgICBpZiAoZSA+PSAyNTM0MDIzMDA4MDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVGltZXN0YW1wIHNlY29uZHMgb3V0IG9mIHJhbmdlOiBcIiArIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRpbWVzdGFtcCB3aXRoIHRoZSBjdXJyZW50IGRhdGUsIHdpdGggbWlsbGlzZWNvbmQgcHJlY2lzaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSBuZXcgdGltZXN0YW1wIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBkYXRlLlxuICAgICAqLyAgICBzdGF0aWMgbm93KCkge1xuICAgICAgICByZXR1cm4gVGltZXN0YW1wLmZyb21NaWxsaXMoRGF0ZS5ub3coKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZXN0YW1wIGZyb20gdGhlIGdpdmVuIGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIHRvIGluaXRpYWxpemUgdGhlIGBUaW1lc3RhbXBgIGZyb20uXG4gICAgICogQHJldHVybnMgQSBuZXcgYFRpbWVzdGFtcGAgcmVwcmVzZW50aW5nIHRoZSBzYW1lIHBvaW50IGluIHRpbWUgYXMgdGhlIGdpdmVuXG4gICAgICogICAgIGRhdGUuXG4gICAgICovICAgIHN0YXRpYyBmcm9tRGF0ZShlKSB7XG4gICAgICAgIHJldHVybiBUaW1lc3RhbXAuZnJvbU1pbGxpcyhlLmdldFRpbWUoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZXN0YW1wIGZyb20gdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWlsbGlzZWNvbmRzIC0gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSBVbml4IGVwb2NoXG4gICAgICogICAgIDE5NzAtMDEtMDFUMDA6MDA6MDBaLlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGBUaW1lc3RhbXBgIHJlcHJlc2VudGluZyB0aGUgc2FtZSBwb2ludCBpbiB0aW1lIGFzIHRoZSBnaXZlblxuICAgICAqICAgICBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbU1pbGxpcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBNYXRoLmZsb29yKGUgLyAxZTMpLCBuID0gTWF0aC5mbG9vcigxZTYgKiAoZSAtIDFlMyAqIHQpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lc3RhbXAodCwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgYFRpbWVzdGFtcGAgdG8gYSBKYXZhU2NyaXB0IGBEYXRlYCBvYmplY3QuIFRoaXMgY29udmVyc2lvblxuICAgICAqIGNhdXNlcyBhIGxvc3Mgb2YgcHJlY2lzaW9uIHNpbmNlIGBEYXRlYCBvYmplY3RzIG9ubHkgc3VwcG9ydCBtaWxsaXNlY29uZFxuICAgICAqIHByZWNpc2lvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEphdmFTY3JpcHQgYERhdGVgIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHNhbWUgcG9pbnQgaW4gdGltZSBhc1xuICAgICAqICAgICB0aGlzIGBUaW1lc3RhbXBgLCB3aXRoIG1pbGxpc2Vjb25kIHByZWNpc2lvbi5cbiAgICAgKi8gICAgdG9EYXRlKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy50b01pbGxpcygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBgVGltZXN0YW1wYCB0byBhIG51bWVyaWMgdGltZXN0YW1wIChpbiBtaWxsaXNlY29uZHMgc2luY2VcbiAgICAgKiBlcG9jaCkuIFRoaXMgb3BlcmF0aW9uIGNhdXNlcyBhIGxvc3Mgb2YgcHJlY2lzaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHBvaW50IGluIHRpbWUgY29ycmVzcG9uZGluZyB0byB0aGlzIHRpbWVzdGFtcCwgcmVwcmVzZW50ZWQgYXNcbiAgICAgKiAgICAgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgVW5peCBlcG9jaCAxOTcwLTAxLTAxVDAwOjAwOjAwWi5cbiAgICAgKi8gICAgdG9NaWxsaXMoKSB7XG4gICAgICAgIHJldHVybiAxZTMgKiB0aGlzLnNlY29uZHMgKyB0aGlzLm5hbm9zZWNvbmRzIC8gMWU2O1xuICAgIH1cbiAgICBfY29tcGFyZVRvKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kcyA9PT0gZS5zZWNvbmRzID8gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IodGhpcy5uYW5vc2Vjb25kcywgZS5uYW5vc2Vjb25kcykgOiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcih0aGlzLnNlY29uZHMsIGUuc2Vjb25kcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBUaW1lc3RhbXBgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYFRpbWVzdGFtcGAgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhpcyBgVGltZXN0YW1wYCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuc2Vjb25kcyA9PT0gdGhpcy5zZWNvbmRzICYmIGUubmFub3NlY29uZHMgPT09IHRoaXMubmFub3NlY29uZHM7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgdGV4dHVhbCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGBUaW1lc3RhbXBgLiAqLyAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiVGltZXN0YW1wKHNlY29uZHM9XCIgKyB0aGlzLnNlY29uZHMgKyBcIiwgbmFub3NlY29uZHM9XCIgKyB0aGlzLm5hbm9zZWNvbmRzICsgXCIpXCI7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBgVGltZXN0YW1wYC4gKi8gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2Vjb25kczogdGhpcy5zZWNvbmRzLFxuICAgICAgICAgICAgbmFub3NlY29uZHM6IHRoaXMubmFub3NlY29uZHNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhpcyBvYmplY3QgdG8gYSBwcmltaXRpdmUgc3RyaW5nLCB3aGljaCBhbGxvd3MgYFRpbWVzdGFtcGAgb2JqZWN0c1xuICAgICAqIHRvIGJlIGNvbXBhcmVkIHVzaW5nIHRoZSBgPmAsIGA8PWAsIGA+PWAgYW5kIGA+YCBvcGVyYXRvcnMuXG4gICAgICovICAgIHZhbHVlT2YoKSB7XG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIHJldHVybnMgYSBzdHJpbmcgb2YgdGhlIGZvcm0gPHNlY29uZHM+LjxuYW5vc2Vjb25kcz4gd2hlcmVcbiAgICAgICAgLy8gPHNlY29uZHM+IGlzIHRyYW5zbGF0ZWQgdG8gaGF2ZSBhIG5vbi1uZWdhdGl2ZSB2YWx1ZSBhbmQgYm90aCA8c2Vjb25kcz5cbiAgICAgICAgLy8gYW5kIDxuYW5vc2Vjb25kcz4gYXJlIGxlZnQtcGFkZGVkIHdpdGggemVyb2VzIHRvIGJlIGEgY29uc2lzdGVudCBsZW5ndGguXG4gICAgICAgIC8vIFN0cmluZ3Mgd2l0aCB0aGlzIGZvcm1hdCB0aGVuIGhhdmUgYSBsZXhpb2dyYXBoaWNhbCBvcmRlcmluZyB0aGF0IG1hdGNoZXNcbiAgICAgICAgLy8gdGhlIGV4cGVjdGVkIG9yZGVyaW5nLiBUaGUgPHNlY29uZHM+IHRyYW5zbGF0aW9uIGlzIGRvbmUgdG8gYXZvaWQgaGF2aW5nXG4gICAgICAgIC8vIGEgbGVhZGluZyBuZWdhdGl2ZSBzaWduIChpLmUuIGEgbGVhZGluZyAnLScgY2hhcmFjdGVyKSBpbiBpdHMgc3RyaW5nXG4gICAgICAgIC8vIHJlcHJlc2VudGF0aW9uLCB3aGljaCB3b3VsZCBhZmZlY3QgaXRzIGxleGlvZ3JhcGhpY2FsIG9yZGVyaW5nLlxuICAgICAgICBjb25zdCBlID0gdGhpcy5zZWNvbmRzIC0gLTYyMTM1NTk2ODAwO1xuICAgICAgICAvLyBOb3RlOiBVcCB0byAxMiBkZWNpbWFsIGRpZ2l0cyBhcmUgcmVxdWlyZWQgdG8gcmVwcmVzZW50IGFsbCB2YWxpZFxuICAgICAgICAvLyAnc2Vjb25kcycgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoZSkucGFkU3RhcnQoMTIsIFwiMFwiKSArIFwiLlwiICsgU3RyaW5nKHRoaXMubmFub3NlY29uZHMpLnBhZFN0YXJ0KDksIFwiMFwiKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgdmVyc2lvbiBvZiBhIGRvY3VtZW50IGluIEZpcmVzdG9yZS4gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgdmVyc2lvblxuICogdGltZXN0YW1wLCBzdWNoIGFzIHVwZGF0ZV90aW1lIG9yIHJlYWRfdGltZS5cbiAqLyBjbGFzcyBTbmFwc2hvdFZlcnNpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBlO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRpbWVzdGFtcChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU25hcHNob3RWZXJzaW9uKGUpO1xuICAgIH1cbiAgICBzdGF0aWMgbWluKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNuYXBzaG90VmVyc2lvbihuZXcgVGltZXN0YW1wKDAsIDApKTtcbiAgICB9XG4gICAgc3RhdGljIG1heCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTbmFwc2hvdFZlcnNpb24obmV3IFRpbWVzdGFtcCgyNTM0MDIzMDA3OTksIDk5OTk5OTk5OSkpO1xuICAgIH1cbiAgICBjb21wYXJlVG8oZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXAuX2NvbXBhcmVUbyhlLnRpbWVzdGFtcCk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXAuaXNFcXVhbChlLnRpbWVzdGFtcCk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgbnVtYmVyIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZXJzaW9uIGZvciB1c2UgaW4gc3BlYyB0ZXN0cy4gKi8gICAgdG9NaWNyb3NlY29uZHMoKSB7XG4gICAgICAgIC8vIENvbnZlcnQgdG8gbWljcm9zZWNvbmRzLlxuICAgICAgICByZXR1cm4gMWU2ICogdGhpcy50aW1lc3RhbXAuc2Vjb25kcyArIHRoaXMudGltZXN0YW1wLm5hbm9zZWNvbmRzIC8gMWUzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiU25hcHNob3RWZXJzaW9uKFwiICsgdGhpcy50aW1lc3RhbXAudG9TdHJpbmcoKSArIFwiKVwiO1xuICAgIH1cbiAgICB0b1RpbWVzdGFtcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUGF0aCByZXByZXNlbnRzIGFuIG9yZGVyZWQgc2VxdWVuY2Ugb2Ygc3RyaW5nIHNlZ21lbnRzLlxuICovXG5jbGFzcyBCYXNlUGF0aCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB2b2lkIDAgPT09IHQgPyB0ID0gMCA6IHQgPiBlLmxlbmd0aCAmJiBmYWlsKCksIHZvaWQgMCA9PT0gbiA/IG4gPSBlLmxlbmd0aCAtIHQgOiBuID4gZS5sZW5ndGggLSB0ICYmIGZhaWwoKSwgXG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBlLCB0aGlzLm9mZnNldCA9IHQsIHRoaXMubGVuID0gbjtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIDAgPT09IEJhc2VQYXRoLmNvbXBhcmF0b3IodGhpcywgZSk7XG4gICAgfVxuICAgIGNoaWxkKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuc2VnbWVudHMuc2xpY2UodGhpcy5vZmZzZXQsIHRoaXMubGltaXQoKSk7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgQmFzZVBhdGggPyBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdC5wdXNoKGUpO1xuICAgICAgICB9KSkgOiB0LnB1c2goZSksIHRoaXMuY29uc3RydWN0KHQpO1xuICAgIH1cbiAgICAvKiogVGhlIGluZGV4IG9mIG9uZSBwYXN0IHRoZSBsYXN0IHNlZ21lbnQgb2YgdGhlIHBhdGguICovICAgIGxpbWl0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXQgKyB0aGlzLmxlbmd0aDtcbiAgICB9XG4gICAgcG9wRmlyc3QoZSkge1xuICAgICAgICByZXR1cm4gZSA9IHZvaWQgMCA9PT0gZSA/IDEgOiBlLCB0aGlzLmNvbnN0cnVjdCh0aGlzLnNlZ21lbnRzLCB0aGlzLm9mZnNldCArIGUsIHRoaXMubGVuZ3RoIC0gZSk7XG4gICAgfVxuICAgIHBvcExhc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdCh0aGlzLnNlZ21lbnRzLCB0aGlzLm9mZnNldCwgdGhpcy5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgZmlyc3RTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c1t0aGlzLm9mZnNldF07XG4gICAgfVxuICAgIGxhc3RTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNbdGhpcy5vZmZzZXQgKyBlXTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIDAgPT09IHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgICBpc1ByZWZpeE9mKGUpIHtcbiAgICAgICAgaWYgKGUubGVuZ3RoIDwgdGhpcy5sZW5ndGgpIHJldHVybiAhMTtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKSBpZiAodGhpcy5nZXQodCkgIT09IGUuZ2V0KHQpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgaXNJbW1lZGlhdGVQYXJlbnRPZihlKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCArIDEgIT09IGUubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgdGhpcy5sZW5ndGg7IHQrKykgaWYgKHRoaXMuZ2V0KHQpICE9PSBlLmdldCh0KSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZvckVhY2goZSkge1xuICAgICAgICBmb3IgKGxldCB0ID0gdGhpcy5vZmZzZXQsIG4gPSB0aGlzLmxpbWl0KCk7IHQgPCBuOyB0KyspIGUodGhpcy5zZWdtZW50c1t0XSk7XG4gICAgfVxuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzLnNsaWNlKHRoaXMub2Zmc2V0LCB0aGlzLmxpbWl0KCkpO1xuICAgIH1cbiAgICBzdGF0aWMgY29tcGFyYXRvcihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBNYXRoLm1pbihlLmxlbmd0aCwgdC5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG47IHIrKykge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUuZ2V0KHIpLCBpID0gdC5nZXQocik7XG4gICAgICAgICAgICBpZiAobiA8IGkpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChuID4gaSkgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUubGVuZ3RoIDwgdC5sZW5ndGggPyAtMSA6IGUubGVuZ3RoID4gdC5sZW5ndGggPyAxIDogMDtcbiAgICB9XG59XG5cbi8qKlxuICogQSBzbGFzaC1zZXBhcmF0ZWQgcGF0aCBmb3IgbmF2aWdhdGluZyByZXNvdXJjZXMgKGRvY3VtZW50cyBhbmQgY29sbGVjdGlvbnMpXG4gKiB3aXRoaW4gRmlyZXN0b3JlLlxuICpcbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIFJlc291cmNlUGF0aCBleHRlbmRzIEJhc2VQYXRoIHtcbiAgICBjb25zdHJ1Y3QoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGF0aChlLCB0LCBuKTtcbiAgICB9XG4gICAgY2Fub25pY2FsU3RyaW5nKCkge1xuICAgICAgICAvLyBOT1RFOiBUaGUgY2xpZW50IGlzIGlnbm9yYW50IG9mIGFueSBwYXRoIHNlZ21lbnRzIGNvbnRhaW5pbmcgZXNjYXBlXG4gICAgICAgIC8vIHNlcXVlbmNlcyAoZS5nLiBfX2lkMTIzX18pIGFuZCBqdXN0IHBhc3NlcyB0aGVtIHRocm91Z2ggcmF3ICh0aGV5IGV4aXN0XG4gICAgICAgIC8vIGZvciBsZWdhY3kgcmVhc29ucyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGZyZXF1ZW50bHkpLlxuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KCkuam9pbihcIi9cIik7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHBhdGhcbiAgICAgKiB3aGVyZSBlYWNoIHBhdGggc2VnbWVudCBoYXMgYmVlbiBlbmNvZGVkIHdpdGhcbiAgICAgKiBgZW5jb2RlVVJJQ29tcG9uZW50YC5cbiAgICAgKi8gICAgdG9VcmlFbmNvZGVkU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KCkubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIi9cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByZXNvdXJjZSBwYXRoIGZyb20gdGhlIGdpdmVuIHNsYXNoLWRlbGltaXRlZCBzdHJpbmcuIElmIG11bHRpcGxlXG4gICAgICogYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgYWxsIGNvbXBvbmVudHMgYXJlIGNvbWJpbmVkLiBMZWFkaW5nIGFuZCB0cmFpbGluZ1xuICAgICAqIHNsYXNoZXMgZnJvbSBhbGwgY29tcG9uZW50cyBhcmUgaWdub3JlZC5cbiAgICAgKi8gICAgc3RhdGljIGZyb21TdHJpbmcoLi4uZSkge1xuICAgICAgICAvLyBOT1RFOiBUaGUgY2xpZW50IGlzIGlnbm9yYW50IG9mIGFueSBwYXRoIHNlZ21lbnRzIGNvbnRhaW5pbmcgZXNjYXBlXG4gICAgICAgIC8vIHNlcXVlbmNlcyAoZS5nLiBfX2lkMTIzX18pIGFuZCBqdXN0IHBhc3NlcyB0aGVtIHRocm91Z2ggcmF3ICh0aGV5IGV4aXN0XG4gICAgICAgIC8vIGZvciBsZWdhY3kgcmVhc29ucyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGZyZXF1ZW50bHkpLlxuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBlKSB7XG4gICAgICAgICAgICBpZiAobi5pbmRleE9mKFwiLy9cIikgPj0gMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgc2VnbWVudCAoJHtufSkuIFBhdGhzIG11c3Qgbm90IGNvbnRhaW4gLy8gaW4gdGhlbS5gKTtcbiAgICAgICAgICAgIC8vIFN0cmlwIGxlYWRpbmcgYW5kIHRyYWxpbmcgc2xhc2hlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHQucHVzaCguLi5uLnNwbGl0KFwiL1wiKS5maWx0ZXIoKGUgPT4gZS5sZW5ndGggPiAwKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQYXRoKHQpO1xuICAgIH1cbiAgICBzdGF0aWMgZW1wdHlQYXRoKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGF0aChbXSk7XG4gICAgfVxufVxuXG5jb25zdCB2ID0gL15bX2EtekEtWl1bX2EtekEtWjAtOV0qJC87XG5cbi8qKlxuICogQSBkb3Qtc2VwYXJhdGVkIHBhdGggZm9yIG5hdmlnYXRpbmcgc3ViLW9iamVjdHMgd2l0aGluIGEgZG9jdW1lbnQuXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBGaWVsZFBhdGgkMSBleHRlbmRzIEJhc2VQYXRoIHtcbiAgICBjb25zdHJ1Y3QoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkUGF0aCQxKGUsIHQsIG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHN0cmluZyBjb3VsZCBiZSB1c2VkIGFzIGEgc2VnbWVudCBpbiBhIGZpZWxkIHBhdGhcbiAgICAgKiB3aXRob3V0IGVzY2FwaW5nLlxuICAgICAqLyAgICBzdGF0aWMgaXNWYWxpZElkZW50aWZpZXIoZSkge1xuICAgICAgICByZXR1cm4gdi50ZXN0KGUpO1xuICAgIH1cbiAgICBjYW5vbmljYWxTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5tYXAoKGUgPT4gKGUgPSBlLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKS5yZXBsYWNlKC9gL2csIFwiXFxcXGBcIiksIFxuICAgICAgICBGaWVsZFBhdGgkMS5pc1ZhbGlkSWRlbnRpZmllcihlKSB8fCAoZSA9IFwiYFwiICsgZSArIFwiYFwiKSwgZSkpKS5qb2luKFwiLlwiKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbm9uaWNhbFN0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBmaWVsZCByZWZlcmVuY2VzIHRoZSBrZXkgb2YgYSBkb2N1bWVudC5cbiAgICAgKi8gICAgaXNLZXlGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIDEgPT09IHRoaXMubGVuZ3RoICYmIFwiX19uYW1lX19cIiA9PT0gdGhpcy5nZXQoMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaWVsZCBkZXNpZ25hdGluZyB0aGUga2V5IG9mIGEgZG9jdW1lbnQuXG4gICAgICovICAgIHN0YXRpYyBrZXlGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFBhdGgkMShbIFwiX19uYW1lX19cIiBdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgZmllbGQgc3RyaW5nIGZyb20gdGhlIGdpdmVuIHNlcnZlci1mb3JtYXR0ZWQgc3RyaW5nLlxuICAgICAqXG4gICAgICogLSBTcGxpdHRpbmcgdGhlIGVtcHR5IHN0cmluZyBpcyBub3QgYWxsb3dlZCAoZm9yIG5vdyBhdCBsZWFzdCkuXG4gICAgICogLSBFbXB0eSBzZWdtZW50cyB3aXRoaW4gdGhlIHN0cmluZyAoZS5nLiBpZiB0aGVyZSBhcmUgdHdvIGNvbnNlY3V0aXZlXG4gICAgICogICBzZXBhcmF0b3JzKSBhcmUgbm90IGFsbG93ZWQuXG4gICAgICpcbiAgICAgKiBUT0RPKGIvMzcyNDQxNTcpOiB3ZSBzaG91bGQgbWFrZSB0aGlzIG1vcmUgc3RyaWN0LiBSaWdodCBub3csIGl0IGFsbG93c1xuICAgICAqIG5vbi1pZGVudGlmaWVyIHBhdGggY29tcG9uZW50cywgZXZlbiBpZiB0aGV5IGFyZW4ndCBlc2NhcGVkLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbVNlcnZlckZvcm1hdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgbGV0IG4gPSBcIlwiLCByID0gMDtcbiAgICAgICAgY29uc3QgX19QUklWQVRFX2FkZEN1cnJlbnRTZWdtZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKDAgPT09IG4ubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBmaWVsZCBwYXRoICgke2V9KS4gUGF0aHMgbXVzdCBub3QgYmUgZW1wdHksIGJlZ2luIHdpdGggJy4nLCBlbmQgd2l0aCAnLicsIG9yIGNvbnRhaW4gJy4uJ2ApO1xuICAgICAgICAgICAgdC5wdXNoKG4pLCBuID0gXCJcIjtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGkgPSAhMTtcbiAgICAgICAgZm9yICg7ciA8IGUubGVuZ3RoOyApIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlW3JdO1xuICAgICAgICAgICAgaWYgKFwiXFxcXFwiID09PSB0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHIgKyAxID09PSBlLmxlbmd0aCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJQYXRoIGhhcyB0cmFpbGluZyBlc2NhcGUgY2hhcmFjdGVyOiBcIiArIGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlW3IgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoXCJcXFxcXCIgIT09IHQgJiYgXCIuXCIgIT09IHQgJiYgXCJgXCIgIT09IHQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiUGF0aCBoYXMgaW52YWxpZCBlc2NhcGUgc2VxdWVuY2U6IFwiICsgZSk7XG4gICAgICAgICAgICAgICAgbiArPSB0LCByICs9IDI7XG4gICAgICAgICAgICB9IGVsc2UgXCJgXCIgPT09IHQgPyAoaSA9ICFpLCByKyspIDogXCIuXCIgIT09IHQgfHwgaSA/IChuICs9IHQsIHIrKykgOiAoX19QUklWQVRFX2FkZEN1cnJlbnRTZWdtZW50KCksIFxuICAgICAgICAgICAgcisrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX19QUklWQVRFX2FkZEN1cnJlbnRTZWdtZW50KCksIGkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVW50ZXJtaW5hdGVkIGAgaW4gcGF0aDogXCIgKyBlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFBhdGgkMSh0KTtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5UGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFBhdGgkMShbXSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBEb2N1bWVudEtleSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnBhdGggPSBlO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVBhdGgoZSkge1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50S2V5KFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKGUpKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21OYW1lKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudEtleShSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhlKS5wb3BGaXJzdCg1KSk7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudEtleShSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCkpO1xuICAgIH1cbiAgICBnZXQgY29sbGVjdGlvbkdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnBvcExhc3QoKS5sYXN0U2VnbWVudCgpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBkb2N1bWVudCBpcyBpbiB0aGUgc3BlY2lmaWVkIGNvbGxlY3Rpb25JZC4gKi8gICAgaGFzQ29sbGVjdGlvbklkKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aC5sZW5ndGggPj0gMiAmJiB0aGlzLnBhdGguZ2V0KHRoaXMucGF0aC5sZW5ndGggLSAyKSA9PT0gZTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIGNvbGxlY3Rpb24gZ3JvdXAgKGkuZS4gdGhlIG5hbWUgb2YgdGhlIHBhcmVudCBjb2xsZWN0aW9uKSBmb3IgdGhpcyBrZXkuICovICAgIGdldENvbGxlY3Rpb25Hcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aC5nZXQodGhpcy5wYXRoLmxlbmd0aCAtIDIpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0aGUgZnVsbHkgcXVhbGlmaWVkIHBhdGggdG8gdGhlIHBhcmVudCBjb2xsZWN0aW9uLiAqLyAgICBnZXRDb2xsZWN0aW9uUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aC5wb3BMYXN0KCk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gZSAmJiAwID09PSBSZXNvdXJjZVBhdGguY29tcGFyYXRvcih0aGlzLnBhdGgsIGUucGF0aCk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjb21wYXJhdG9yKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlUGF0aC5jb21wYXJhdG9yKGUucGF0aCwgdC5wYXRoKTtcbiAgICB9XG4gICAgc3RhdGljIGlzRG9jdW1lbnRLZXkoZSkge1xuICAgICAgICByZXR1cm4gZS5sZW5ndGggJSAyID09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgZG9jdW1lbnQga2V5IHdpdGggdGhlIGdpdmVuIHNlZ21lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlZ21lbnRzIC0gVGhlIHNlZ21lbnRzIG9mIHRoZSBwYXRoIHRvIHRoZSBkb2N1bWVudFxuICAgICAqIEByZXR1cm5zIEEgbmV3IGluc3RhbmNlIG9mIERvY3VtZW50S2V5XG4gICAgICovICAgIHN0YXRpYyBmcm9tU2VnbWVudHMoZSkge1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50S2V5KG5ldyBSZXNvdXJjZVBhdGgoZS5zbGljZSgpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgaW5pdGlhbCBtdXRhdGlvbiBiYXRjaCBpZCBmb3IgZWFjaCBpbmRleC4gR2V0cyB1cGRhdGVkIGR1cmluZyBpbmRleFxuICogYmFja2ZpbGwuXG4gKi9cbi8qKlxuICogQW4gaW5kZXggZGVmaW5pdGlvbiBmb3IgZmllbGQgaW5kZXhlcyBpbiBGaXJlc3RvcmUuXG4gKlxuICogRXZlcnkgaW5kZXggaXMgYXNzb2NpYXRlZCB3aXRoIGEgY29sbGVjdGlvbi4gVGhlIGRlZmluaXRpb24gY29udGFpbnMgYSBsaXN0XG4gKiBvZiBmaWVsZHMgYW5kIHRoZWlyIGluZGV4IGtpbmQgKHdoaWNoIGNhbiBiZSBgQVNDRU5ESU5HYCwgYERFU0NFTkRJTkdgIG9yXG4gKiBgQ09OVEFJTlNgIGZvciBBcnJheUNvbnRhaW5zL0FycmF5Q29udGFpbnNBbnkgcXVlcmllcykuXG4gKlxuICogVW5saWtlIHRoZSBiYWNrZW5kLCB0aGUgU0RLIGRvZXMgbm90IGRpZmZlcmVudGlhdGUgYmV0d2VlbiBjb2xsZWN0aW9uIG9yXG4gKiBjb2xsZWN0aW9uIGdyb3VwLXNjb3BlZCBpbmRpY2VzLiBFdmVyeSBpbmRleCBjYW4gYmUgdXNlZCBmb3IgYm90aCBzaW5nbGVcbiAqIGNvbGxlY3Rpb24gYW5kIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcmllcy5cbiAqL1xuY2xhc3MgRmllbGRJbmRleCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IElELiBSZXR1cm5zIC0xIGlmIHRoZSBpbmRleCBJRCBpcyBub3QgYXZhaWxhYmxlIChlLmcuIHRoZSBpbmRleFxuICAgICAqIGhhcyBub3QgeWV0IGJlZW4gcGVyc2lzdGVkKS5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIGNvbGxlY3Rpb24gSUQgdGhpcyBpbmRleCBhcHBsaWVzIHRvLiAqL1xuICAgIHQsIFxuICAgIC8qKiBUaGUgZmllbGQgc2VnbWVudHMgZm9yIHRoaXMgaW5kZXguICovXG4gICAgbiwgXG4gICAgLyoqIFNob3dzIGhvdyB1cC10by1kYXRlIHRoZSBpbmRleCBpcyBmb3IgdGhlIGN1cnJlbnQgdXNlci4gKi9cbiAgICByKSB7XG4gICAgICAgIHRoaXMuaW5kZXhJZCA9IGUsIHRoaXMuY29sbGVjdGlvbkdyb3VwID0gdCwgdGhpcy5maWVsZHMgPSBuLCB0aGlzLmluZGV4U3RhdGUgPSByO1xuICAgIH1cbn1cblxuLyoqIEFuIElEIGZvciBhbiBpbmRleCB0aGF0IGhhcyBub3QgeWV0IGJlZW4gYWRkZWQgdG8gcGVyc2lzdGVuY2UuICAqL1xuLyoqIFJldHVybnMgdGhlIEFycmF5Q29udGFpbnMvQXJyYXlDb250YWluc0FueSBzZWdtZW50IGZvciB0aGlzIGluZGV4LiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkSW5kZXhHZXRBcnJheVNlZ21lbnQoZSkge1xuICAgIHJldHVybiBlLmZpZWxkcy5maW5kKChlID0+IDIgLyogSW5kZXhLaW5kLkNPTlRBSU5TICovID09PSBlLmtpbmQpKTtcbn1cblxuLyoqIFJldHVybnMgYWxsIGRpcmVjdGlvbmFsIChhc2NlbmRpbmcvZGVzY2VuZGluZykgc2VnbWVudHMgZm9yIHRoaXMgaW5kZXguICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyhlKSB7XG4gICAgcmV0dXJuIGUuZmllbGRzLmZpbHRlcigoZSA9PiAyIC8qIEluZGV4S2luZC5DT05UQUlOUyAqLyAhPT0gZS5raW5kKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3JkZXIgb2YgdGhlIGRvY3VtZW50IGtleSBjb21wb25lbnQgZm9yIHRoZSBnaXZlbiBpbmRleC5cbiAqXG4gKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGluIHRoZSBXZWIgSW5kZXhlZERiIGltcGxlbWVudGF0aW9uLlxuICovXG4vKipcbiAqIENvbXBhcmVzIGluZGV4ZXMgYnkgY29sbGVjdGlvbiBncm91cCBhbmQgc2VnbWVudHMuIElnbm9yZXMgdXBkYXRlIHRpbWUgYW5kXG4gKiBpbmRleCBJRC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkSW5kZXhTZW1hbnRpY0NvbXBhcmF0b3IoZSwgdCkge1xuICAgIGxldCBuID0gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5jb2xsZWN0aW9uR3JvdXAsIHQuY29sbGVjdGlvbkdyb3VwKTtcbiAgICBpZiAoMCAhPT0gbikgcmV0dXJuIG47XG4gICAgZm9yIChsZXQgciA9IDA7IHIgPCBNYXRoLm1pbihlLmZpZWxkcy5sZW5ndGgsIHQuZmllbGRzLmxlbmd0aCk7ICsrcikgaWYgKG4gPSBfX1BSSVZBVEVfaW5kZXhTZWdtZW50Q29tcGFyYXRvcihlLmZpZWxkc1tyXSwgdC5maWVsZHNbcl0pLCBcbiAgICAwICE9PSBuKSByZXR1cm4gbjtcbiAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5maWVsZHMubGVuZ3RoLCB0LmZpZWxkcy5sZW5ndGgpO1xufVxuXG4vKiogUmV0dXJucyBhIGRlYnVnIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmaWVsZCBpbmRleCAqLyBGaWVsZEluZGV4LlVOS05PV05fSUQgPSAtMTtcblxuLyoqIEFuIGluZGV4IGNvbXBvbmVudCBjb25zaXN0aW5nIG9mIGZpZWxkIHBhdGggYW5kIGluZGV4IHR5cGUuICAqL1xuY2xhc3MgSW5kZXhTZWdtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIGZpZWxkIHBhdGggb2YgdGhlIGNvbXBvbmVudC4gKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIGZpZWxkcyBzb3J0aW5nIG9yZGVyLiAqL1xuICAgIHQpIHtcbiAgICAgICAgdGhpcy5maWVsZFBhdGggPSBlLCB0aGlzLmtpbmQgPSB0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2luZGV4U2VnbWVudENvbXBhcmF0b3IoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBGaWVsZFBhdGgkMS5jb21wYXJhdG9yKGUuZmllbGRQYXRoLCB0LmZpZWxkUGF0aCk7XG4gICAgcmV0dXJuIDAgIT09IG4gPyBuIDogX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5raW5kLCB0LmtpbmQpO1xufVxuXG4vKipcbiAqIFN0b3JlcyB0aGUgXCJoaWdoIHdhdGVyIG1hcmtcIiB0aGF0IGluZGljYXRlcyBob3cgdXBkYXRlZCB0aGUgSW5kZXggaXMgZm9yIHRoZVxuICogY3VycmVudCB1c2VyLlxuICovIGNsYXNzIEluZGV4U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGVuIHRoZSBpbmRleCB3YXMgbGFzdCB1cGRhdGVkIChyZWxhdGl2ZSB0byBvdGhlciBpbmRleGVzKS5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIHRoZSBsYXRlc3QgaW5kZXhlZCByZWFkIHRpbWUsIGRvY3VtZW50IGFuZCBiYXRjaCBpZC4gKi9cbiAgICB0KSB7XG4gICAgICAgIHRoaXMuc2VxdWVuY2VOdW1iZXIgPSBlLCB0aGlzLm9mZnNldCA9IHQ7XG4gICAgfVxuICAgIC8qKiBUaGUgc3RhdGUgb2YgYW4gaW5kZXggdGhhdCBoYXMgbm90IHlldCBiZWVuIGJhY2tmaWxsZWQuICovICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbmRleFN0YXRlKDAsIEluZGV4T2Zmc2V0Lm1pbigpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvZmZzZXQgdGhhdCBtYXRjaGVzIGFsbCBkb2N1bWVudHMgd2l0aCBhIHJlYWQgdGltZSBoaWdoZXIgdGhhblxuICogYHJlYWRUaW1lYC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3SW5kZXhPZmZzZXRTdWNjZXNzb3JGcm9tUmVhZFRpbWUoZSwgdCkge1xuICAgIC8vIFdlIHdhbnQgdG8gY3JlYXRlIGFuIG9mZnNldCB0aGF0IG1hdGNoZXMgYWxsIGRvY3VtZW50cyB3aXRoIGEgcmVhZCB0aW1lXG4gICAgLy8gZ3JlYXRlciB0aGFuIHRoZSBwcm92aWRlZCByZWFkIHRpbWUuIFRvIGRvIHNvLCB3ZSB0ZWNobmljYWxseSBuZWVkIHRvXG4gICAgLy8gY3JlYXRlIGFuIG9mZnNldCBmb3IgYChyZWFkVGltZSwgTUFYX0RPQ1VNRU5UX0tFWSlgLiBXaGlsZSB3ZSBjb3VsZCB1c2VcbiAgICAvLyBVbmljb2RlIGNvZGVwb2ludHMgdG8gZ2VuZXJhdGUgTUFYX0RPQ1VNRU5UX0tFWSwgaXQgaXMgbXVjaCBlYXNpZXIgdG8gdXNlXG4gICAgLy8gYChyZWFkVGltZSArIDEsIERvY3VtZW50S2V5LmVtcHR5KCkpYCBzaW5jZSBgPiBEb2N1bWVudEtleS5lbXB0eSgpYCBtYXRjaGVzXG4gICAgLy8gYWxsIHZhbGlkIGRvY3VtZW50IElEcy5cbiAgICBjb25zdCBuID0gZS50b1RpbWVzdGFtcCgpLnNlY29uZHMsIHIgPSBlLnRvVGltZXN0YW1wKCkubmFub3NlY29uZHMgKyAxLCBpID0gU25hcHNob3RWZXJzaW9uLmZyb21UaW1lc3RhbXAoMWU5ID09PSByID8gbmV3IFRpbWVzdGFtcChuICsgMSwgMCkgOiBuZXcgVGltZXN0YW1wKG4sIHIpKTtcbiAgICByZXR1cm4gbmV3IEluZGV4T2Zmc2V0KGksIERvY3VtZW50S2V5LmVtcHR5KCksIHQpO1xufVxuXG4vKiogQ3JlYXRlcyBhIG5ldyBvZmZzZXQgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGRvY3VtZW50LiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3SW5kZXhPZmZzZXRGcm9tRG9jdW1lbnQoZSkge1xuICAgIHJldHVybiBuZXcgSW5kZXhPZmZzZXQoZS5yZWFkVGltZSwgZS5rZXksIC0xKTtcbn1cblxuLyoqXG4gKiBTdG9yZXMgdGhlIGxhdGVzdCByZWFkIHRpbWUsIGRvY3VtZW50IGFuZCBiYXRjaCBJRCB0aGF0IHdlcmUgcHJvY2Vzc2VkIGZvciBhblxuICogaW5kZXguXG4gKi8gY2xhc3MgSW5kZXhPZmZzZXQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBsYXRlc3QgcmVhZCB0aW1lIHZlcnNpb24gdGhhdCBoYXMgYmVlbiBpbmRleGVkIGJ5IEZpcmVzdG9yZSBmb3IgdGhpc1xuICAgICAqIGZpZWxkIGluZGV4LlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgb2YgdGhlIGxhc3QgZG9jdW1lbnQgdGhhdCB3YXMgaW5kZXhlZCBmb3IgdGhpcyBxdWVyeS4gVXNlXG4gICAgICogYERvY3VtZW50S2V5LmVtcHR5KClgIGlmIG5vIGRvY3VtZW50IGhhcyBiZWVuIGluZGV4ZWQuXG4gICAgICovXG4gICAgdCwgXG4gICAgLypcbiAgICAgKiBUaGUgbGFyZ2VzdCBtdXRhdGlvbiBiYXRjaCBpZCB0aGF0J3MgYmVlbiBwcm9jZXNzZWQgYnkgRmlyZXN0b3JlLlxuICAgICAqL1xuICAgIG4pIHtcbiAgICAgICAgdGhpcy5yZWFkVGltZSA9IGUsIHRoaXMuZG9jdW1lbnRLZXkgPSB0LCB0aGlzLmxhcmdlc3RCYXRjaElkID0gbjtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYW4gb2Zmc2V0IHRoYXQgc29ydHMgYmVmb3JlIGFsbCByZWd1bGFyIG9mZnNldHMuICovICAgIHN0YXRpYyBtaW4oKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhPZmZzZXQoU25hcHNob3RWZXJzaW9uLm1pbigpLCBEb2N1bWVudEtleS5lbXB0eSgpLCAtMSk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGFuIG9mZnNldCB0aGF0IHNvcnRzIGFmdGVyIGFsbCByZWd1bGFyIG9mZnNldHMuICovICAgIHN0YXRpYyBtYXgoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhPZmZzZXQoU25hcHNob3RWZXJzaW9uLm1heCgpLCBEb2N1bWVudEtleS5lbXB0eSgpLCAtMSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhPZmZzZXRDb21wYXJhdG9yKGUsIHQpIHtcbiAgICBsZXQgbiA9IGUucmVhZFRpbWUuY29tcGFyZVRvKHQucmVhZFRpbWUpO1xuICAgIHJldHVybiAwICE9PSBuID8gbiA6IChuID0gRG9jdW1lbnRLZXkuY29tcGFyYXRvcihlLmRvY3VtZW50S2V5LCB0LmRvY3VtZW50S2V5KSwgXG4gICAgMCAhPT0gbiA/IG4gOiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLmxhcmdlc3RCYXRjaElkLCB0Lmxhcmdlc3RCYXRjaElkKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IEYgPSBcIlRoZSBjdXJyZW50IHRhYiBpcyBub3QgaW4gdGhlIHJlcXVpcmVkIHN0YXRlIHRvIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24uIEl0IG1pZ2h0IGJlIG5lY2Vzc2FyeSB0byByZWZyZXNoIHRoZSBicm93c2VyIHRhYi5cIjtcblxuLyoqXG4gKiBBIGJhc2UgY2xhc3MgcmVwcmVzZW50aW5nIGEgcGVyc2lzdGVuY2UgdHJhbnNhY3Rpb24sIGVuY2Fwc3VsYXRpbmcgYm90aCB0aGVcbiAqIHRyYW5zYWN0aW9uJ3Mgc2VxdWVuY2UgbnVtYmVycyBhcyB3ZWxsIGFzIGEgbGlzdCBvZiBvbkNvbW1pdHRlZCBsaXN0ZW5lcnMuXG4gKlxuICogV2hlbiB5b3UgY2FsbCBQZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigpLCBpdCB3aWxsIGNyZWF0ZSBhIHRyYW5zYWN0aW9uIGFuZFxuICogcGFzcyBpdCB0byB5b3VyIGNhbGxiYWNrLiBZb3UgdGhlbiBwYXNzIGl0IHRvIGFueSBtZXRob2QgdGhhdCBvcGVyYXRlc1xuICogb24gcGVyc2lzdGVuY2UuXG4gKi8gY2xhc3MgUGVyc2lzdGVuY2VUcmFuc2FjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICB9XG4gICAgYWRkT25Db21taXR0ZWRMaXN0ZW5lcihlKSB7XG4gICAgICAgIHRoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMucHVzaChlKTtcbiAgICB9XG4gICAgcmFpc2VPbkNvbW1pdHRlZEV2ZW50KCkge1xuICAgICAgICB0aGlzLm9uQ29tbWl0dGVkTGlzdGVuZXJzLmZvckVhY2goKGUgPT4gZSgpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBWZXJpZmllcyB0aGUgZXJyb3IgdGhyb3duIGJ5IGEgTG9jYWxTdG9yZSBvcGVyYXRpb24uIElmIGEgTG9jYWxTdG9yZVxuICogb3BlcmF0aW9uIGZhaWxzIGJlY2F1c2UgdGhlIHByaW1hcnkgbGVhc2UgaGFzIGJlZW4gdGFrZW4gYnkgYW5vdGhlciBjbGllbnQsXG4gKiB3ZSBpZ25vcmUgdGhlIGVycm9yICh0aGUgcGVyc2lzdGVuY2UgbGF5ZXIgd2lsbCBpbW1lZGlhdGVseSBjYWxsXG4gKiBgYXBwbHlQcmltYXJ5TGVhc2VgIHRvIHByb3BhZ2F0ZSB0aGUgcHJpbWFyeSBzdGF0ZSBjaGFuZ2UpLiBBbGwgb3RoZXIgZXJyb3JzXG4gKiBhcmUgcmUtdGhyb3duLlxuICpcbiAqIEBwYXJhbSBlcnIgLSBBbiBlcnJvciByZXR1cm5lZCBieSBhIExvY2FsU3RvcmUgb3BlcmF0aW9uLlxuICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgd2UgcmVjb3ZlcmVkLCBvciB0aGUgb3JpZ2luYWwgZXJyb3IuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2lnbm9yZUlmUHJpbWFyeUxlYXNlTG9zcyhlKSB7XG4gICAgaWYgKGUuY29kZSAhPT0gQy5GQUlMRURfUFJFQ09ORElUSU9OIHx8IGUubWVzc2FnZSAhPT0gRikgdGhyb3cgZTtcbiAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJMb2NhbFN0b3JlXCIsIFwiVW5leHBlY3RlZGx5IGxvc3QgcHJpbWFyeSBsZWFzZVwiKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUGVyc2lzdGVuY2VQcm9taXNlIGlzIGVzc2VudGlhbGx5IGEgcmUtaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZSBleGNlcHRcbiAqIGl0IGhhcyBhIC5uZXh0KCkgbWV0aG9kIGluc3RlYWQgb2YgLnRoZW4oKSBhbmQgLm5leHQoKSBhbmQgLmNhdGNoKCkgY2FsbGJhY2tzXG4gKiBhcmUgZXhlY3V0ZWQgc3luY2hyb25vdXNseSB3aGVuIGEgUGVyc2lzdGVuY2VQcm9taXNlIHJlc29sdmVzIHJhdGhlciB0aGFuXG4gKiBhc3luY2hyb25vdXNseSAoUHJvbWlzZSBpbXBsZW1lbnRhdGlvbnMgdXNlIHNldEltbWVkaWF0ZSgpIG9yIHNpbWlsYXIpLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIGludGVyb3BlcmF0ZSB3aXRoIEluZGV4ZWREQiB3aGljaCB3aWxsIGF1dG9tYXRpY2FsbHlcbiAqIGNvbW1pdCB0cmFuc2FjdGlvbnMgaWYgY29udHJvbCBpcyByZXR1cm5lZCB0byB0aGUgZXZlbnQgbG9vcCB3aXRob3V0XG4gKiBzeW5jaHJvbm91c2x5IGluaXRpYXRpbmcgYW5vdGhlciBvcGVyYXRpb24gb24gdGhlIHRyYW5zYWN0aW9uLlxuICpcbiAqIE5PVEU6IC50aGVuKCkgYW5kIC5jYXRjaCgpIG9ubHkgYWxsb3cgYSBzaW5nbGUgY29uc3VtZXIsIHVubGlrZSBub3JtYWxcbiAqIFByb21pc2VzLlxuICovIGNsYXNzIFBlcnNpc3RlbmNlUHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICAvLyBOT1RFOiBuZXh0L2NhdGNoQ2FsbGJhY2sgd2lsbCBhbHdheXMgcG9pbnQgdG8gb3VyIG93biB3cmFwcGVyIGZ1bmN0aW9ucyxcbiAgICAgICAgLy8gbm90IHRoZSB1c2VyJ3MgcmF3IG5leHQoKSBvciBjYXRjaCgpIGNhbGxiYWNrcy5cbiAgICAgICAgdGhpcy5uZXh0Q2FsbGJhY2sgPSBudWxsLCB0aGlzLmNhdGNoQ2FsbGJhY2sgPSBudWxsLCBcbiAgICAgICAgLy8gV2hlbiB0aGUgb3BlcmF0aW9uIHJlc29sdmVzLCB3ZSdsbCBzZXQgcmVzdWx0IG9yIGVycm9yIGFuZCBtYXJrIGlzRG9uZS5cbiAgICAgICAgdGhpcy5yZXN1bHQgPSB2b2lkIDAsIHRoaXMuZXJyb3IgPSB2b2lkIDAsIHRoaXMuaXNEb25lID0gITEsIFxuICAgICAgICAvLyBTZXQgdG8gdHJ1ZSB3aGVuIC50aGVuKCkgb3IgLmNhdGNoKCkgYXJlIGNhbGxlZCBhbmQgcHJldmVudHMgYWRkaXRpb25hbFxuICAgICAgICAvLyBjaGFpbmluZy5cbiAgICAgICAgdGhpcy5jYWxsYmFja0F0dGFjaGVkID0gITEsIGUoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc0RvbmUgPSAhMCwgdGhpcy5yZXN1bHQgPSBlLCB0aGlzLm5leHRDYWxsYmFjayAmJiBcbiAgICAgICAgICAgIC8vIHZhbHVlIHNob3VsZCBiZSBkZWZpbmVkIHVubGVzcyBUIGlzIFZvaWQsIGJ1dCB3ZSBjYW4ndCBleHByZXNzXG4gICAgICAgICAgICAvLyB0aGF0IGluIHRoZSB0eXBlIHN5c3RlbS5cbiAgICAgICAgICAgIHRoaXMubmV4dENhbGxiYWNrKGUpO1xuICAgICAgICB9KSwgKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc0RvbmUgPSAhMCwgdGhpcy5lcnJvciA9IGUsIHRoaXMuY2F0Y2hDYWxsYmFjayAmJiB0aGlzLmNhdGNoQ2FsbGJhY2soZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0KHZvaWQgMCwgZSk7XG4gICAgfVxuICAgIG5leHQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsYmFja0F0dGFjaGVkICYmIGZhaWwoKSwgdGhpcy5jYWxsYmFja0F0dGFjaGVkID0gITAsIHRoaXMuaXNEb25lID8gdGhpcy5lcnJvciA/IHRoaXMud3JhcEZhaWx1cmUodCwgdGhpcy5lcnJvcikgOiB0aGlzLndyYXBTdWNjZXNzKGUsIHRoaXMucmVzdWx0KSA6IG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKChuLCByKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsYmFjayA9IHQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcFN1Y2Nlc3MoZSwgdCkubmV4dChuLCByKTtcbiAgICAgICAgICAgIH0sIHRoaXMuY2F0Y2hDYWxsYmFjayA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcEZhaWx1cmUodCwgZSkubmV4dChuLCByKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdG9Qcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKChlLCB0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5leHQoZSwgdCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgd3JhcFVzZXJGdW5jdGlvbihlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHQgaW5zdGFuY2VvZiBQZXJzaXN0ZW5jZVByb21pc2UgPyB0IDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdyYXBTdWNjZXNzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUgPyB0aGlzLndyYXBVc2VyRnVuY3Rpb24oKCgpID0+IGUodCkpKSA6IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHQpO1xuICAgIH1cbiAgICB3cmFwRmFpbHVyZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBlID8gdGhpcy53cmFwVXNlckZ1bmN0aW9uKCgoKSA9PiBlKHQpKSkgOiBQZXJzaXN0ZW5jZVByb21pc2UucmVqZWN0KHQpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb2x2ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgdChlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVqZWN0KGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICBuKGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXRpYyB3YWl0Rm9yKFxuICAgIC8vIEFjY2VwdCBhbGwgUHJvbWlzZSB0eXBlcyBpbiB3YWl0Rm9yKCkuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgbGV0IHIgPSAwLCBpID0gMCwgcyA9ICExO1xuICAgICAgICAgICAgZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICArK3IsIGUubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICArK2ksIHMgJiYgaSA9PT0gciAmJiB0KCk7XG4gICAgICAgICAgICAgICAgfSksIChlID0+IG4oZSkpKTtcbiAgICAgICAgICAgIH0pKSwgcyA9ICEwLCBpID09PSByICYmIHQoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhbiBhcnJheSBvZiBwcmVkaWNhdGUgZnVuY3Rpb25zIHRoYXQgYXN5bmNocm9ub3VzbHkgZXZhbHVhdGUgdG8gYVxuICAgICAqIGJvb2xlYW4sIGltcGxlbWVudHMgYSBzaG9ydC1jaXJjdWl0aW5nIGBvcmAgYmV0d2VlbiB0aGUgcmVzdWx0cy4gUHJlZGljYXRlc1xuICAgICAqIHdpbGwgYmUgZXZhbHVhdGVkIHVudGlsIG9uZSBvZiB0aGVtIHJldHVybnMgYHRydWVgLCB0aGVuIHN0b3AuIFRoZSBmaW5hbFxuICAgICAqIHJlc3VsdCB3aWxsIGJlIHdoZXRoZXIgYW55IG9mIHRoZW0gcmV0dXJuZWQgYHRydWVgLlxuICAgICAqLyAgICBzdGF0aWMgb3IoZSkge1xuICAgICAgICBsZXQgdCA9IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCExKTtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGUpIHQgPSB0Lm5leHQoKGUgPT4gZSA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKGUpIDogbigpKSk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBzdGF0aWMgZm9yRWFjaChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgcmV0dXJuIGUuZm9yRWFjaCgoKGUsIHIpID0+IHtcbiAgICAgICAgICAgIG4ucHVzaCh0LmNhbGwodGhpcywgZSwgcikpO1xuICAgICAgICB9KSksIHRoaXMud2FpdEZvcihuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uY3VycmVudGx5IG1hcCBhbGwgYXJyYXkgZWxlbWVudHMgdGhyb3VnaCBhc3luY2hyb25vdXMgZnVuY3Rpb24uXG4gICAgICovICAgIHN0YXRpYyBtYXBBcnJheShlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IGUubGVuZ3RoLCBzID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgbGV0IG8gPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgXyA9IDA7IF8gPCBpOyBfKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gXztcbiAgICAgICAgICAgICAgICB0KGVbYV0pLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzW2FdID0gZSwgKytvLCBvID09PSBpICYmIG4ocyk7XG4gICAgICAgICAgICAgICAgfSksIChlID0+IHIoZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byByZWN1cnNpdmUgUGVyc2lzdGVuY2VQcm9taXNlIGNhbGxzLCB0aGF0IGF2b2lkc1xuICAgICAqIHBvdGVudGlhbCBtZW1vcnkgcHJvYmxlbXMgZnJvbSB1bmJvdW5kZWQgY2hhaW5zIG9mIHByb21pc2VzLlxuICAgICAqXG4gICAgICogVGhlIGBhY3Rpb25gIHdpbGwgYmUgY2FsbGVkIHJlcGVhdGVkbHkgd2hpbGUgYGNvbmRpdGlvbmAgaXMgdHJ1ZS5cbiAgICAgKi8gICAgc3RhdGljIGRvV2hpbGUoZSwgdCkge1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgITAgPT09IGUoKSA/IHQoKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICB9KSwgcikgOiBuKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcHJvY2VzcygpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gUmVmZXJlbmNlcyB0byBgd2luZG93YCBhcmUgZ3VhcmRlZCBieSBTaW1wbGVEYi5pc0F2YWlsYWJsZSgpXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbi8qKlxuICogV3JhcHMgYW4gSURCVHJhbnNhY3Rpb24gYW5kIGV4cG9zZXMgYSBzdG9yZSgpIG1ldGhvZCB0byBnZXQgYSBoYW5kbGUgdG8gYVxuICogc3BlY2lmaWMgb2JqZWN0IHN0b3JlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfU2ltcGxlRGJUcmFuc2FjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGUsIHRoaXMudHJhbnNhY3Rpb24gPSB0LCB0aGlzLmFib3J0ZWQgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGBQcm9taXNlYCB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgSW5kZXhlZERiIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5WID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZCwgdGhpcy50cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5WLnJlc29sdmUoKTtcbiAgICAgICAgfSwgdGhpcy50cmFuc2FjdGlvbi5vbmFib3J0ID0gKCkgPT4ge1xuICAgICAgICAgICAgdC5lcnJvciA/IHRoaXMuVi5yZWplY3QobmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUsIHQuZXJyb3IpKSA6IHRoaXMuVi5yZXNvbHZlKCk7XG4gICAgICAgIH0sIHRoaXMudHJhbnNhY3Rpb24ub25lcnJvciA9IHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yKHQudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuVi5yZWplY3QobmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUsIG4pKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIG9wZW4oZSwgdCwgbiwgcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfU2ltcGxlRGJUcmFuc2FjdGlvbih0LCBlLnRyYW5zYWN0aW9uKHIsIG4pKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKHQsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5WLnByb21pc2U7XG4gICAgfVxuICAgIGFib3J0KGUpIHtcbiAgICAgICAgZSAmJiB0aGlzLlYucmVqZWN0KGUpLCB0aGlzLmFib3J0ZWQgfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiQWJvcnRpbmcgdHJhbnNhY3Rpb246XCIsIGUgPyBlLm1lc3NhZ2UgOiBcIkNsaWVudC1pbml0aWF0ZWQgYWJvcnRcIiksIFxuICAgICAgICB0aGlzLmFib3J0ZWQgPSAhMCwgdGhpcy50cmFuc2FjdGlvbi5hYm9ydCgpKTtcbiAgICB9XG4gICAgZygpIHtcbiAgICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgVjMgSW5kZXhlZERCLCB3ZSBpbnZva2UgY29tbWl0KCkgZXhwbGljaXRseSB0b1xuICAgICAgICAvLyBzcGVlZCB1cCBpbmRleCBEQiBwcm9jZXNzaW5nIGlmIHRoZSBldmVudCBsb29wIHJlbWFpbnMgYmxvY2tzLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBjb25zdCBlID0gdGhpcy50cmFuc2FjdGlvbjtcbiAgICAgICAgdGhpcy5hYm9ydGVkIHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZS5jb21taXQgfHwgZS5jb21taXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFNpbXBsZURiU3RvcmU8S2V5VHlwZSwgVmFsdWVUeXBlPiBmb3IgdGhlIHNwZWNpZmllZCBzdG9yZS4gQWxsXG4gICAgICogb3BlcmF0aW9ucyBwZXJmb3JtZWQgb24gdGhlIFNpbXBsZURiU3RvcmUgaGFwcGVuIHdpdGhpbiB0aGUgY29udGV4dCBvZiB0aGlzXG4gICAgICogdHJhbnNhY3Rpb24gYW5kIGl0IGNhbm5vdCBiZSB1c2VkIGFueW1vcmUgb25jZSB0aGUgdHJhbnNhY3Rpb24gaXNcbiAgICAgKiBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgd2UgY2FuJ3QgYWN0dWFsbHkgZW5mb3JjZSB0aGF0IHRoZSBLZXlUeXBlIGFuZCBWYWx1ZVR5cGUgYXJlXG4gICAgICogY29ycmVjdCwgYnV0IHRoZXkgYWxsb3cgdHlwZSBzYWZldHkgdGhyb3VnaCB0aGUgcmVzdCBvZiB0aGUgY29uc3VtaW5nIGNvZGUuXG4gICAgICovICAgIHN0b3JlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMudHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoZSk7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1NpbXBsZURiU3RvcmUodCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGEgd3JhcHBlciBhcm91bmQgSW5kZXhlZERiIHdpdGggYSBzaW1wbGlmaWVkIGludGVyZmFjZSB0aGF0IHVzZXNcbiAqIFByb21pc2UtbGlrZSByZXR1cm4gdmFsdWVzIHRvIGNoYWluIG9wZXJhdGlvbnMuIFJlYWwgcHJvbWlzZXMgY2Fubm90IGJlIHVzZWRcbiAqIHNpbmNlIC50aGVuKCkgY29udGludWF0aW9ucyBhcmUgZXhlY3V0ZWQgYXN5bmNocm9ub3VzbHkgKGUuZy4gdmlhXG4gKiAuc2V0SW1tZWRpYXRlKSwgd2hpY2ggd291bGQgY2F1c2UgSW5kZXhlZERCIHRvIGVuZCB0aGUgdHJhbnNhY3Rpb24uXG4gKiBTZWUgUGVyc2lzdGVuY2VQcm9taXNlIGZvciBtb3JlIGRldGFpbHMuXG4gKi8gY2xhc3MgX19QUklWQVRFX1NpbXBsZURiIHtcbiAgICAvKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU2ltcGxlRGIgd3JhcHBlciBmb3IgSW5kZXhlZERiIGRhdGFiYXNlIGBuYW1lYC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBgdmVyc2lvbmAgbXVzdCBub3QgYmUgYSBkb3duZ3JhZGUuIEluZGV4ZWREQiBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICogZG93bmdyYWRpbmcgdGhlIHNjaGVtYSB2ZXJzaW9uLiBXZSBjdXJyZW50bHkgZG8gbm90IHN1cHBvcnQgYW55IHdheSB0byBkb1xuICAgICAqIHZlcnNpb25pbmcgb3V0c2lkZSBvZiBJbmRleGVkREIncyB2ZXJzaW9uaW5nIG1lY2hhbmlzbSwgYXMgb25seVxuICAgICAqIHZlcnNpb24tdXBncmFkZSB0cmFuc2FjdGlvbnMgYXJlIGFsbG93ZWQgdG8gZG8gdGhpbmdzIGxpa2UgY3JlYXRlXG4gICAgICogb2JqZWN0c3RvcmVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gZSwgdGhpcy52ZXJzaW9uID0gdCwgdGhpcy5wID0gbjtcbiAgICAgICAgLy8gTk9URTogQWNjb3JkaW5nIHRvIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xOTcwNTAsIHRoZVxuICAgICAgICAvLyBidWcgd2UncmUgY2hlY2tpbmcgZm9yIHNob3VsZCBleGlzdCBpbiBpT1MgPj0gMTIuMiBhbmQgPCAxMywgYnV0IGZvclxuICAgICAgICAvLyB3aGF0ZXZlciByZWFzb24gaXQncyBtdWNoIGhhcmRlciB0byBoaXQgYWZ0ZXIgMTIuMiBzbyB3ZSBvbmx5IHByb2FjdGl2ZWx5XG4gICAgICAgIC8vIGxvZyBvbiAxMi4yLlxuICAgICAgICAxMi4yID09PSBfX1BSSVZBVEVfU2ltcGxlRGIuUyh1dGlsLmdldFVBKCkpICYmIF9fUFJJVkFURV9sb2dFcnJvcihcIkZpcmVzdG9yZSBwZXJzaXN0ZW5jZSBzdWZmZXJzIGZyb20gYSBidWcgaW4gaU9TIDEyLjIgU2FmYXJpIHRoYXQgbWF5IGNhdXNlIHlvdXIgYXBwIHRvIHN0b3Agd29ya2luZy4gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS81NjQ5NjI5Ni8xMTA5MTUgZm9yIGRldGFpbHMgYW5kIGEgcG90ZW50aWFsIHdvcmthcm91bmQuXCIpO1xuICAgIH1cbiAgICAvKiogRGVsZXRlcyB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLiAqLyAgICBzdGF0aWMgZGVsZXRlKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiUmVtb3ZpbmcgZGF0YWJhc2U6XCIsIGUpLCBfX1BSSVZBVEVfd3JhcFJlcXVlc3Qod2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShlKSkudG9Qcm9taXNlKCk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgSW5kZXhlZERCIGlzIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudC4gKi8gICAgc3RhdGljIEQoKSB7XG4gICAgICAgIGlmICghdXRpbC5pc0luZGV4ZWREQkF2YWlsYWJsZSgpKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChfX1BSSVZBVEVfU2ltcGxlRGIuQygpKSByZXR1cm4gITA7XG4gICAgICAgIC8vIFdlIGV4dGVuc2l2ZWx5IHVzZSBpbmRleGVkIGFycmF5IHZhbHVlcyBhbmQgY29tcG91bmQga2V5cyxcbiAgICAgICAgLy8gd2hpY2ggSUUgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQuIEhvd2V2ZXIsIHRoZXkgc3RpbGwgaGF2ZSBpbmRleGVkREJcbiAgICAgICAgLy8gZGVmaW5lZCBvbiB0aGUgd2luZG93LCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGVtIGhlcmUgYW5kIG1ha2Ugc3VyZVxuICAgICAgICAvLyB0byByZXR1cm4gdGhhdCBwZXJzaXN0ZW5jZSBpcyBub3QgZW5hYmxlZCBmb3IgdGhvc2UgYnJvd3NlcnMuXG4gICAgICAgIC8vIEZvciB0cmFja2luZyBzdXBwb3J0IG9mIHRoaXMgZmVhdHVyZSwgc2VlIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vc3RhdHVzL2luZGV4ZWRkYmFycmF5c2FuZG11bHRpZW50cnlzdXBwb3J0L1xuICAgICAgICAvLyBDaGVjayB0aGUgVUEgc3RyaW5nIHRvIGZpbmQgb3V0IHRoZSBicm93c2VyLlxuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB1dGlsLmdldFVBKCksIHQgPSBfX1BSSVZBVEVfU2ltcGxlRGIuUyhlKSwgbiA9IDAgPCB0ICYmIHQgPCAxMCwgciA9IF9fUFJJVkFURV9nZXRBbmRyb2lkVmVyc2lvbihlKSwgaSA9IDAgPCByICYmIHIgPCA0LjU7XG4gICAgICAgIC8vIElFIDEwXG4gICAgICAgIC8vIHVhID0gJ01vemlsbGEvNS4wIChjb21wYXRpYmxlOyBNU0lFIDEwLjA7IFdpbmRvd3MgTlQgNi4yOyBUcmlkZW50LzYuMCknO1xuICAgICAgICAvLyBJRSAxMVxuICAgICAgICAvLyB1YSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjM7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvJztcbiAgICAgICAgLy8gRWRnZVxuICAgICAgICAvLyB1YSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCxcbiAgICAgICAgLy8gbGlrZSBHZWNrbykgQ2hyb21lLzM5LjAuMjE3MS43MSBTYWZhcmkvNTM3LjM2IEVkZ2UvMTIuMCc7XG4gICAgICAgIC8vIGlPUyBTYWZhcmk6IERpc2FibGUgZm9yIHVzZXJzIHJ1bm5pbmcgaU9TIHZlcnNpb24gPCAxMC5cbiAgICAgICAgICAgICAgICByZXR1cm4gIShlLmluZGV4T2YoXCJNU0lFIFwiKSA+IDAgfHwgZS5pbmRleE9mKFwiVHJpZGVudC9cIikgPiAwIHx8IGUuaW5kZXhPZihcIkVkZ2UvXCIpID4gMCB8fCBuIHx8IGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGJhY2tpbmcgSW5kZXhlZERCIHN0b3JlIGlzIHRoZSBOb2RlIEluZGV4ZWREQlNoaW1cbiAgICAgKiAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9heGVtY2xpb24vSW5kZXhlZERCU2hpbSkuXG4gICAgICovICAgIHN0YXRpYyBDKCkge1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHByb2Nlc3MgJiYgXCJZRVNcIiA9PT0gKG51bGwgPT09IChlID0gcHJvY2Vzcy5fX1BSSVZBVEVfZW52KSB8fCB2b2lkIDAgPT09IGUgPyB2b2lkIDAgOiBlLnYpO1xuICAgIH1cbiAgICAvKiogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZnJvbSBhIHRyYW5zYWN0aW9uLiAqLyAgICBzdGF0aWMgRihlLCB0KSB7XG4gICAgICAgIHJldHVybiBlLnN0b3JlKHQpO1xuICAgIH1cbiAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgLyoqIFBhcnNlIFVzZXIgQWdlbnQgdG8gZGV0ZXJtaW5lIGlPUyB2ZXJzaW9uLiBSZXR1cm5zIC0xIGlmIG5vdCBmb3VuZC4gKi9cbiAgICBzdGF0aWMgUyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLm1hdGNoKC9pKD86cGhvbmV8cGFkfHBvZCkgb3MgKFtcXGRfXSspL2kpLCBuID0gdCA/IHRbMV0uc3BsaXQoXCJfXCIpLnNsaWNlKDAsIDIpLmpvaW4oXCIuXCIpIDogXCItMVwiO1xuICAgICAgICByZXR1cm4gTnVtYmVyKG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLCBjcmVhdGluZyBvciB1cGdyYWRpbmcgaXQgaWYgbmVjZXNzYXJ5LlxuICAgICAqLyAgICBhc3luYyBNKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIgfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiT3BlbmluZyBkYXRhYmFzZTpcIiwgdGhpcy5uYW1lKSwgXG4gICAgICAgIHRoaXMuZGIgPSBhd2FpdCBuZXcgUHJvbWlzZSgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8obWlrZWxlaGVuKTogSW52ZXN0aWdhdGUgYnJvd3NlciBjb21wYXRpYmlsaXR5LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0luZGV4ZWREQl9BUEkvVXNpbmdfSW5kZXhlZERCXG4gICAgICAgICAgICAvLyBzdWdnZXN0cyBJRTkgYW5kIG9sZGVyIFdlYktpdCBicm93c2VycyBoYW5kbGUgdXBncmFkZVxuICAgICAgICAgICAgLy8gZGlmZmVyZW50bHkuIFRoZXkgZXhwZWN0IHNldFZlcnNpb24sIGFzIGRlc2NyaWJlZCBoZXJlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0lEQlZlcnNpb25DaGFuZ2VSZXF1ZXN0L3NldFZlcnNpb25cbiAgICAgICAgICAgIGNvbnN0IHIgPSBpbmRleGVkREIub3Blbih0aGlzLm5hbWUsIHRoaXMudmVyc2lvbik7XG4gICAgICAgICAgICByLm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgdChuKTtcbiAgICAgICAgICAgIH0sIHIub25ibG9ja2VkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG4obmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUsIFwiQ2Fubm90IHVwZ3JhZGUgSW5kZXhlZERCIHNjaGVtYSB3aGlsZSBhbm90aGVyIHRhYiBpcyBvcGVuLiBDbG9zZSBhbGwgdGFicyB0aGF0IGFjY2VzcyBGaXJlc3RvcmUgYW5kIHJlbG9hZCB0aGlzIHBhZ2UgdG8gcHJvY2VlZC5cIikpO1xuICAgICAgICAgICAgfSwgci5vbmVycm9yID0gdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHQudGFyZ2V0LmVycm9yO1xuICAgICAgICAgICAgICAgIFwiVmVyc2lvbkVycm9yXCIgPT09IHIubmFtZSA/IG4obmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIEZpcmVzdG9yZSBTREsgd2FzIHByZXZpb3VzbHkgdXNlZCBhbmQgc28gdGhlIHBlcnNpc3RlZCBkYXRhIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIHZlcnNpb24gb2YgdGhlIFNESyB5b3UgYXJlIG5vdyB1c2luZy4gVGhlIFNESyB3aWxsIG9wZXJhdGUgd2l0aCBwZXJzaXN0ZW5jZSBkaXNhYmxlZC4gSWYgeW91IG5lZWQgcGVyc2lzdGVuY2UsIHBsZWFzZSByZS11cGdyYWRlIHRvIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgU0RLIG9yIGVsc2UgY2xlYXIgdGhlIHBlcnNpc3RlZCBJbmRleGVkREIgZGF0YSBmb3IgeW91ciBhcHAgdG8gc3RhcnQgZnJlc2guXCIpKSA6IFwiSW52YWxpZFN0YXRlRXJyb3JcIiA9PT0gci5uYW1lID8gbihuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIlVuYWJsZSB0byBvcGVuIGFuIEluZGV4ZWREQiBjb25uZWN0aW9uLiBUaGlzIGNvdWxkIGJlIGR1ZSB0byBydW5uaW5nIGluIGEgcHJpdmF0ZSBicm93c2luZyBzZXNzaW9uIG9uIGEgYnJvd3NlciB3aG9zZSBwcml2YXRlIGJyb3dzaW5nIHNlc3Npb25zIGRvIG5vdCBzdXBwb3J0IEluZGV4ZWREQjogXCIgKyByKSkgOiBuKG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcihlLCByKSk7XG4gICAgICAgICAgICB9LCByLm9udXBncmFkZW5lZWRlZCA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsICdEYXRhYmFzZSBcIicgKyB0aGlzLm5hbWUgKyAnXCIgcmVxdWlyZXMgdXBncmFkZSBmcm9tIHZlcnNpb246JywgZS5vbGRWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgIHRoaXMucC5PKHQsIHIudHJhbnNhY3Rpb24sIGUub2xkVmVyc2lvbiwgdGhpcy52ZXJzaW9uKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiRGF0YWJhc2UgdXBncmFkZSB0byB2ZXJzaW9uIFwiICsgdGhpcy52ZXJzaW9uICsgXCIgY29tcGxldGVcIik7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpKSwgdGhpcy5OICYmICh0aGlzLmRiLm9udmVyc2lvbmNoYW5nZSA9IGUgPT4gdGhpcy5OKGUpKSwgdGhpcy5kYjtcbiAgICB9XG4gICAgTChlKSB7XG4gICAgICAgIHRoaXMuTiA9IGUsIHRoaXMuZGIgJiYgKHRoaXMuZGIub252ZXJzaW9uY2hhbmdlID0gdCA9PiBlKHQpKTtcbiAgICB9XG4gICAgYXN5bmMgcnVuVHJhbnNhY3Rpb24oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gXCJyZWFkb25seVwiID09PSB0O1xuICAgICAgICBsZXQgcyA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICsrcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYiA9IGF3YWl0IHRoaXMuTShlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX1NpbXBsZURiVHJhbnNhY3Rpb24ub3Blbih0aGlzLmRiLCBlLCBpID8gXCJyZWFkb25seVwiIDogXCJyZWFkd3JpdGVcIiwgbiksIHMgPSByKHQpLm5leHQoKGUgPT4gKHQuZygpLCBcbiAgICAgICAgICAgICAgICBlKSkpLmNhdGNoKChlID0+IChcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCB0aGUgdHJhbnNhY3Rpb24gaWYgdGhlcmUgd2FzIGFuIGVycm9yLlxuICAgICAgICAgICAgICAgIHQuYWJvcnQoZSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZWplY3QoZSkpKSkudG9Qcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gQXMgbm90ZWQgYWJvdmUsIGVycm9ycyBhcmUgcHJvcGFnYXRlZCBieSBhYm9ydGluZyB0aGUgdHJhbnNhY3Rpb24uIFNvXG4gICAgICAgICAgICAgICAgLy8gd2Ugc3dhbGxvdyBhbnkgZXJyb3IgaGVyZSB0byBhdm9pZCB0aGUgYnJvd3NlciBsb2dnaW5nIGl0IGFzIHVuaGFuZGxlZC5cbiAgICAgICAgICAgICAgICByZXR1cm4gcy5jYXRjaCgoKCkgPT4ge30pKSwgXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlIChpLmUuIEluZGV4ZWREYidzIG9uc3VjY2VzcyBldmVudCB0b1xuICAgICAgICAgICAgICAgIC8vIGZpcmUpLCBidXQgc3RpbGwgcmV0dXJuIHRoZSBvcmlnaW5hbCB0cmFuc2FjdGlvbkZuUmVzdWx0IGJhY2sgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gY2FsbGVyLlxuICAgICAgICAgICAgICAgIGF3YWl0IHQubSwgcztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZSwgbiA9IFwiRmlyZWJhc2VFcnJvclwiICE9PSB0Lm5hbWUgJiYgcyA8IDM7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyhzY2htaWR0LXNlYmFzdGlhbik6IFdlIGNvdWxkIHByb2JhYmx5IGJlIHNtYXJ0ZXIgYWJvdXQgdGhpcyBhbmRcbiAgICAgICAgICAgICAgICAvLyBub3QgcmV0cnkgZXhjZXB0aW9ucyB0aGF0IGFyZSBsaWtlbHkgdW5yZWNvdmVyYWJsZSAoc3VjaCBhcyBxdW90YVxuICAgICAgICAgICAgICAgIC8vIGV4Y2VlZGVkIGVycm9ycykuXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2UgY2Fubm90IHVzZSBhbiBpbnN0YW5jZW9mIGNoZWNrIGZvciBGaXJlc3RvcmVFeGNlcHRpb24sIHNpbmNlIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiBpcyB3cmFwcGVkIGluIGEgZ2VuZXJpYyBlcnJvciBieSBvdXIgYXN5bmMvYXdhaXQgaGFuZGxpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIlRyYW5zYWN0aW9uIGZhaWxlZCB3aXRoIGVycm9yOlwiLCB0Lm1lc3NhZ2UsIFwiUmV0cnlpbmc6XCIsIG4pLCBcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCksICFuKSByZXR1cm4gUHJvbWlzZS5yZWplY3QodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZGIgJiYgdGhpcy5kYi5jbG9zZSgpLCB0aGlzLmRiID0gdm9pZCAwO1xuICAgIH1cbn1cblxuLyoqIFBhcnNlIFVzZXIgQWdlbnQgdG8gZGV0ZXJtaW5lIEFuZHJvaWQgdmVyc2lvbi4gUmV0dXJucyAtMSBpZiBub3QgZm91bmQuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRBbmRyb2lkVmVyc2lvbihlKSB7XG4gICAgY29uc3QgdCA9IGUubWF0Y2goL0FuZHJvaWQgKFtcXGQuXSspL2kpLCBuID0gdCA/IHRbMV0uc3BsaXQoXCIuXCIpLnNsaWNlKDAsIDIpLmpvaW4oXCIuXCIpIDogXCItMVwiO1xuICAgIHJldHVybiBOdW1iZXIobik7XG59XG5cbi8qKlxuICogQSBjb250cm9sbGVyIGZvciBpdGVyYXRpbmcgb3ZlciBhIGtleSByYW5nZSBvciBpbmRleC4gSXQgYWxsb3dzIGFuIGl0ZXJhdGVcbiAqIGNhbGxiYWNrIHRvIGRlbGV0ZSB0aGUgY3VycmVudGx5LXJlZmVyZW5jZWQgb2JqZWN0LCBvciBqdW1wIHRvIGEgbmV3IGtleVxuICogd2l0aGluIHRoZSBrZXkgcmFuZ2Ugb3IgaW5kZXguXG4gKi8gY2xhc3MgX19QUklWQVRFX0l0ZXJhdGlvbkNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5CID0gZSwgdGhpcy5rID0gITEsIHRoaXMucSA9IG51bGw7XG4gICAgfVxuICAgIGdldCBpc0RvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLms7XG4gICAgfVxuICAgIGdldCBLKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xO1xuICAgIH1cbiAgICBzZXQgY3Vyc29yKGUpIHtcbiAgICAgICAgdGhpcy5CID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIHRvIHN0b3AgaXRlcmF0aW9uIGF0IGFueSBwb2ludC5cbiAgICAgKi8gICAgZG9uZSgpIHtcbiAgICAgICAgdGhpcy5rID0gITA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCB0byBza2lwIHRvIHRoYXQgbmV4dCBrZXksIHdoaWNoIGNvdWxkIGJlXG4gICAgICogYW4gaW5kZXggb3IgYSBwcmltYXJ5IGtleS5cbiAgICAgKi8gICAgJChlKSB7XG4gICAgICAgIHRoaXMucSA9IGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSB0aGUgY3VycmVudCBjdXJzb3IgdmFsdWUgZnJvbSB0aGUgb2JqZWN0IHN0b3JlLlxuICAgICAqXG4gICAgICogTk9URTogWW91IENBTk5PVCBkbyB0aGlzIHdpdGggYSBrZXlzT25seSBxdWVyeS5cbiAgICAgKi8gICAgZGVsZXRlKCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyYXBSZXF1ZXN0KHRoaXMuQi5kZWxldGUoKSk7XG4gICAgfVxufVxuXG4vKiogQW4gZXJyb3IgdGhhdCB3cmFwcyBleGNlcHRpb25zIHRoYXQgdGhyb3duIGR1cmluZyBJbmRleGVkREIgZXhlY3V0aW9uLiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvciBleHRlbmRzIEZpcmVzdG9yZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKEMuVU5BVkFJTEFCTEUsIGBJbmRleGVkREIgdHJhbnNhY3Rpb24gJyR7ZX0nIGZhaWxlZDogJHt0fWApLCB0aGlzLm5hbWUgPSBcIkluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3JcIjtcbiAgICB9XG59XG5cbi8qKiBWZXJpZmllcyB3aGV0aGVyIGBlYCBpcyBhbiBJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpIHtcbiAgICAvLyBVc2UgbmFtZSBlcXVhbGl0eSwgYXMgaW5zdGFuY2VvZiBjaGVja3Mgb24gZXJyb3JzIGRvbid0IHdvcmsgd2l0aCBlcnJvcnNcbiAgICAvLyB0aGF0IHdyYXAgb3RoZXIgZXJyb3JzLlxuICAgIHJldHVybiBcIkluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3JcIiA9PT0gZS5uYW1lO1xufVxuXG4vKipcbiAqIEEgd3JhcHBlciBhcm91bmQgYW4gSURCT2JqZWN0U3RvcmUgcHJvdmlkaW5nIGFuIEFQSSB0aGF0OlxuICpcbiAqIDEpIEhhcyBnZW5lcmljIEtleVR5cGUgLyBWYWx1ZVR5cGUgcGFyYW1ldGVycyB0byBwcm92aWRlIHN0cm9uZ2x5LXR5cGVkXG4gKiBtZXRob2RzIGZvciBhY3RpbmcgYWdhaW5zdCB0aGUgb2JqZWN0IHN0b3JlLlxuICogMikgRGVhbHMgd2l0aCBJbmRleGVkREIncyBvbnN1Y2Nlc3MgLyBvbmVycm9yIGV2ZW50IGNhbGxiYWNrcywgbWFraW5nIGV2ZXJ5XG4gKiBtZXRob2QgcmV0dXJuIGEgUGVyc2lzdGVuY2VQcm9taXNlIGluc3RlYWQuXG4gKiAzKSBQcm92aWRlcyBhIGhpZ2hlci1sZXZlbCBBUEkgdG8gYXZvaWQgbmVlZGluZyB0byBkbyBleGNlc3NpdmUgd3JhcHBpbmcgb2ZcbiAqIGludGVybWVkaWF0ZSBJbmRleGVkREIgdHlwZXMgKElEQkN1cnNvcldpdGhWYWx1ZSwgZXRjLilcbiAqLyBjbGFzcyBfX1BSSVZBVEVfU2ltcGxlRGJTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnN0b3JlID0gZTtcbiAgICB9XG4gICAgcHV0KGUsIHQpIHtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IHQgPyAoX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJQVVRcIiwgdGhpcy5zdG9yZS5uYW1lLCBlLCB0KSwgXG4gICAgICAgIG4gPSB0aGlzLnN0b3JlLnB1dCh0LCBlKSkgOiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJQVVRcIiwgdGhpcy5zdG9yZS5uYW1lLCBcIjxhdXRvLWtleT5cIiwgZSksIFxuICAgICAgICBuID0gdGhpcy5zdG9yZS5wdXQoZSkpLCBfX1BSSVZBVEVfd3JhcFJlcXVlc3Qobik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgdmFsdWUgaW50byBhbiBPYmplY3QgU3RvcmUgYW5kIHJldHVybnMgdGhlIG5ldyBrZXkuIFNpbWlsYXIgdG9cbiAgICAgKiBJbmRleGVkRGIncyBgYWRkKClgLCB0aGlzIG1ldGhvZCB3aWxsIGZhaWwgb24gcHJpbWFyeSBrZXkgY29sbGlzaW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBvYmplY3QgdG8gd3JpdGUuXG4gICAgICogQHJldHVybnMgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gYWRkLlxuICAgICAqLyAgICBhZGQoZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIkFERFwiLCB0aGlzLnN0b3JlLm5hbWUsIGUsIGUpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyYXBSZXF1ZXN0KHRoaXMuc3RvcmUuYWRkKGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZnJvbSB0aGUgc3BlY2lmaWVkIHN0b3JlLCBvciBudWxsXG4gICAgICogaWYgbm8gb2JqZWN0IGV4aXN0cyB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICAqXG4gICAgICogQGtleSBUaGUga2V5IG9mIHRoZSBvYmplY3QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIFRoZSBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBvciBudWxsIGlmIG5vIG9iamVjdCBleGlzdHMuXG4gICAgICovICAgIGdldChlKSB7XG4gICAgICAgIC8vIFdlJ3JlIGRvaW5nIGFuIHVuc2FmZSBjYXN0IHRvIFZhbHVlVHlwZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV93cmFwUmVxdWVzdCh0aGlzLnN0b3JlLmdldChlKSkubmV4dCgodCA9PiAoXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBub25leGlzdGVuY2UgdG8gbnVsbC5cbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gbnVsbCksIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiR0VUXCIsIHRoaXMuc3RvcmUubmFtZSwgZSwgdCksIFxuICAgICAgICB0KSkpO1xuICAgIH1cbiAgICBkZWxldGUoZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIkRFTEVURVwiLCB0aGlzLnN0b3JlLm5hbWUsIGUpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyYXBSZXF1ZXN0KHRoaXMuc3RvcmUuZGVsZXRlKGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgd2UgZXZlciBuZWVkIG1vcmUgb2YgdGhlIGNvdW50IHZhcmlhbnRzLCB3ZSBjYW4gYWRkIG92ZXJsb2Fkcy4gRm9yIG5vdyxcbiAgICAgKiBhbGwgd2UgbmVlZCBpcyB0byBjb3VudCBldmVyeXRoaW5nIGluIGEgc3RvcmUuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgc3RvcmUuXG4gICAgICovICAgIGNvdW50KCkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIkNPVU5UXCIsIHRoaXMuc3RvcmUubmFtZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JhcFJlcXVlc3QodGhpcy5zdG9yZS5jb3VudCgpKTtcbiAgICB9XG4gICAgVShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLm9wdGlvbnMoZSwgdCksIHIgPSBuLmluZGV4ID8gdGhpcy5zdG9yZS5pbmRleChuLmluZGV4KSA6IHRoaXMuc3RvcmU7XG4gICAgICAgIC8vIFVzZSBgZ2V0QWxsKClgIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIEluZGV4ZWREQiB2MywgYXMgaXQgaXMgcm91Z2hseVxuICAgICAgICAvLyAyMCUgZmFzdGVyLlxuICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHIuZ2V0QWxsKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gci5nZXRBbGwobi5yYW5nZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgICAgICBlLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbihlLnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICAgICAgfSwgZS5vbnN1Y2Nlc3MgPSBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdChlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuY3Vyc29yKG4pLCB0ID0gW107XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5XKGUsICgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIHQucHVzaChuKTtcbiAgICAgICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIGZpcnN0IGBjb3VudGAgZWxlbWVudHMgZnJvbSB0aGUgcHJvdmlkZWQgaW5kZXggcmFuZ2UuIExvYWRzIGFsbFxuICAgICAqIGVsZW1lbnRzIGlmIG5vIGxpbWl0IGlzIHByb3ZpZGVkLlxuICAgICAqLyAgICBHKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuc3RvcmUuZ2V0QWxsKGUsIG51bGwgPT09IHQgPyB2b2lkIDAgOiB0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBuLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICB0KGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIH0sIG4ub25zdWNjZXNzID0gdCA9PiB7XG4gICAgICAgICAgICAgICAgZSh0LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBqKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJERUxFVEUgQUxMXCIsIHRoaXMuc3RvcmUubmFtZSk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLm9wdGlvbnMoZSwgdCk7XG4gICAgICAgIG4uSCA9ICExO1xuICAgICAgICBjb25zdCByID0gdGhpcy5jdXJzb3Iobik7XG4gICAgICAgIHJldHVybiB0aGlzLlcociwgKChlLCB0LCBuKSA9PiBuLmRlbGV0ZSgpKSk7XG4gICAgfVxuICAgIEooZSwgdCkge1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgdCA/IG4gPSBlIDogKG4gPSB7fSwgdCA9IGUpO1xuICAgICAgICBjb25zdCByID0gdGhpcy5jdXJzb3Iobik7XG4gICAgICAgIHJldHVybiB0aGlzLlcociwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYSBzdG9yZSwgYnV0IHdhaXRzIGZvciB0aGUgZ2l2ZW4gY2FsbGJhY2sgdG8gY29tcGxldGUgZm9yXG4gICAgICogZWFjaCBlbnRyeSBiZWZvcmUgaXRlcmF0aW5nIHRoZSBuZXh0IGVudHJ5LiBUaGlzIGFsbG93cyB0aGUgY2FsbGJhY2sgdG8gZG9cbiAgICAgKiBhc3luY2hyb25vdXMgd29yayB0byBkZXRlcm1pbmUgaWYgdGhpcyBpdGVyYXRpb24gc2hvdWxkIGNvbnRpbnVlLlxuICAgICAqXG4gICAgICogVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHNob3VsZCByZXR1cm4gYHRydWVgIHRvIGNvbnRpbnVlIGl0ZXJhdGlvbiwgYW5kXG4gICAgICogYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICovICAgIFkoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jdXJzb3Ioe30pO1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIHQub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2hlY2tGb3JBbmRSZXBvcnRpT1NFcnJvcihlLnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICAgICAgcih0KTtcbiAgICAgICAgICAgIH0sIHQub25zdWNjZXNzID0gdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICByID8gZShyLnByaW1hcnlLZXksIHIudmFsdWUpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlID8gci5jb250aW51ZSgpIDogbigpO1xuICAgICAgICAgICAgICAgIH0pKSA6IG4oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgVyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKChyLCBpKSA9PiB7XG4gICAgICAgICAgICBlLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBpKGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIH0sIGUub25zdWNjZXNzID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoIWkpIHJldHVybiB2b2lkIHIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gbmV3IF9fUFJJVkFURV9JdGVyYXRpb25Db250cm9sbGVyKGkpLCBvID0gdChpLnByaW1hcnlLZXksIGkudmFsdWUsIHMpO1xuICAgICAgICAgICAgICAgIGlmIChvIGluc3RhbmNlb2YgUGVyc2lzdGVuY2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBvLmNhdGNoKChlID0+IChzLmRvbmUoKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlamVjdChlKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgbi5wdXNoKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzLmlzRG9uZSA/IHIoKSA6IG51bGwgPT09IHMuSyA/IGkuY29udGludWUoKSA6IGkuY29udGludWUocy5LKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihuKSkpO1xuICAgIH1cbiAgICBvcHRpb25zKGUsIHQpIHtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IGUgJiYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgPyBuID0gZSA6IHQgPSBlKSwge1xuICAgICAgICAgICAgaW5kZXg6IG4sXG4gICAgICAgICAgICByYW5nZTogdFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjdXJzb3IoZSkge1xuICAgICAgICBsZXQgdCA9IFwibmV4dFwiO1xuICAgICAgICBpZiAoZS5yZXZlcnNlICYmICh0ID0gXCJwcmV2XCIpLCBlLmluZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5zdG9yZS5pbmRleChlLmluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiBlLkggPyBuLm9wZW5LZXlDdXJzb3IoZS5yYW5nZSwgdCkgOiBuLm9wZW5DdXJzb3IoZS5yYW5nZSwgdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUub3BlbkN1cnNvcihlLnJhbmdlLCB0KTtcbiAgICB9XG59XG5cbi8qKlxuICogV3JhcHMgYW4gSURCUmVxdWVzdCBpbiBhIFBlcnNpc3RlbmNlUHJvbWlzZSwgdXNpbmcgdGhlIG9uc3VjY2VzcyAvIG9uZXJyb3JcbiAqIGhhbmRsZXJzIHRvIHJlc29sdmUgLyByZWplY3QgdGhlIFBlcnNpc3RlbmNlUHJvbWlzZSBhcyBhcHByb3ByaWF0ZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfd3JhcFJlcXVlc3QoZSkge1xuICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgodCwgbikgPT4ge1xuICAgICAgICBlLm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgIHQobik7XG4gICAgICAgIH0sIGUub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yKGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIG4odCk7XG4gICAgICAgIH07XG4gICAgfSkpO1xufVxuXG4vLyBHdWFyZCBzbyB3ZSBvbmx5IHJlcG9ydCB0aGUgZXJyb3Igb25jZS5cbmxldCBNID0gITE7XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX1NpbXBsZURiLlModXRpbC5nZXRVQSgpKTtcbiAgICBpZiAodCA+PSAxMi4yICYmIHQgPCAxMykge1xuICAgICAgICBjb25zdCB0ID0gXCJBbiBpbnRlcm5hbCBlcnJvciB3YXMgZW5jb3VudGVyZWQgaW4gdGhlIEluZGV4ZWQgRGF0YWJhc2Ugc2VydmVyXCI7XG4gICAgICAgIGlmIChlLm1lc3NhZ2UuaW5kZXhPZih0KSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBXcmFwIGVycm9yIGluIGEgbW9yZSBkZXNjcmlwdGl2ZSBvbmUuXG4gICAgICAgICAgICBjb25zdCBlID0gbmV3IEZpcmVzdG9yZUVycm9yKFwiaW50ZXJuYWxcIiwgYElPU19JTkRFWEVEREJfQlVHMTogSW5kZXhlZERiIGhhcyB0aHJvd24gJyR7dH0nLiBUaGlzIGlzIGxpa2VseSBkdWUgdG8gYW4gdW5hdm9pZGFibGUgYnVnIGluIGlPUy4gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS81NjQ5NjI5Ni8xMTA5MTUgZm9yIGRldGFpbHMgYW5kIGEgcG90ZW50aWFsIHdvcmthcm91bmQuYCk7XG4gICAgICAgICAgICByZXR1cm4gTSB8fCAoTSA9ICEwLCBcbiAgICAgICAgICAgIC8vIFRocm93IGEgZ2xvYmFsIGV4Y2VwdGlvbiBvdXRzaWRlIG9mIHRoaXMgcHJvbWlzZSBjaGFpbiwgZm9yIHRoZSB1c2VyIHRvXG4gICAgICAgICAgICAvLyBwb3RlbnRpYWxseSBjYXRjaC5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSksIDApKSwgZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZTtcbn1cblxuLyoqIFRoaXMgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBzY2hlZHVsaW5nIG9mIEluZGV4IEJhY2tmaWxsZXIuICovXG5jbGFzcyBfX1BSSVZBVEVfSW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuYXN5bmNRdWV1ZSA9IGUsIHRoaXMuWiA9IHQsIHRoaXMudGFzayA9IG51bGw7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLlgoMTVlMyk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMudGFzayAmJiAodGhpcy50YXNrLmNhbmNlbCgpLCB0aGlzLnRhc2sgPSBudWxsKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0aGlzLnRhc2s7XG4gICAgfVxuICAgIFgoZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleEJhY2tmaWxsZXJcIiwgYFNjaGVkdWxlZCBpbiAke2V9bXNgKSwgdGhpcy50YXNrID0gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBZnRlckRlbGF5KFwiaW5kZXhfYmFja2ZpbGxcIiAvKiBUaW1lcklkLkluZGV4QmFja2ZpbGwgKi8gLCBlLCAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhCYWNrZmlsbGVyXCIsIGBEb2N1bWVudHMgd3JpdHRlbjogJHthd2FpdCB0aGlzLlouZWUoKX1gKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpID8gX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhCYWNrZmlsbGVyXCIsIFwiSWdub3JpbmcgSW5kZXhlZERCIGVycm9yIGR1cmluZyBpbmRleCBiYWNrZmlsbDogXCIsIGUpIDogYXdhaXQgX19QUklWQVRFX2lnbm9yZUlmUHJpbWFyeUxlYXNlTG9zcyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuWCg2ZTQpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKiogSW1wbGVtZW50cyB0aGUgc3RlcHMgZm9yIGJhY2tmaWxsaW5nIGluZGV4ZXMuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleEJhY2tmaWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIExvY2FsU3RvcmUgcHJvdmlkZXMgYWNjZXNzIHRvIEluZGV4TWFuYWdlciBhbmQgTG9jYWxEb2N1bWVudFZpZXcuXG4gICAgICogVGhlc2UgcHJvcGVydGllcyB3aWxsIHVwZGF0ZSB3aGVuIHRoZSB1c2VyIGNoYW5nZXMuIENvbnNlcXVlbnRseSxcbiAgICAgKiBtYWtpbmcgYSBsb2NhbCBjb3B5IG9mIEluZGV4TWFuYWdlciBhbmQgTG9jYWxEb2N1bWVudFZpZXcgd2lsbCByZXF1aXJlXG4gICAgICogdXBkYXRlcyBvdmVyIHRpbWUuIFRoZSBzaW1wbGVyIHNvbHV0aW9uIGlzIHRvIHJlbHkgb24gTG9jYWxTdG9yZSB0byBoYXZlXG4gICAgICogYW4gdXAtdG8tZGF0ZSByZWZlcmVuY2VzIHRvIEluZGV4TWFuYWdlciBhbmQgTG9jYWxEb2N1bWVudFN0b3JlLlxuICAgICAqL1xuICAgIGUsIHQpIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JlID0gZSwgdGhpcy5wZXJzaXN0ZW5jZSA9IHQ7XG4gICAgfVxuICAgIGFzeW5jIGVlKGUgPSA1MCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkJhY2tmaWxsIEluZGV4ZXNcIiwgXCJyZWFkd3JpdGUtcHJpbWFyeVwiLCAodCA9PiB0aGlzLnRlKHQsIGUpKSk7XG4gICAgfVxuICAgIC8qKiBXcml0ZXMgaW5kZXggZW50cmllcyB1bnRpbCB0aGUgY2FwIGlzIHJlYWNoZWQuIFJldHVybnMgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcHJvY2Vzc2VkLiAqLyAgICB0ZShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgU2V0O1xuICAgICAgICBsZXQgciA9IHQsIGkgPSAhMDtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5kb1doaWxlKCgoKSA9PiAhMCA9PT0gaSAmJiByID4gMCksICgoKSA9PiB0aGlzLmxvY2FsU3RvcmUuaW5kZXhNYW5hZ2VyLmdldE5leHRDb2xsZWN0aW9uR3JvdXBUb1VwZGF0ZShlKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSB0ICYmICFuLmhhcyh0KSkgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4QmFja2ZpbGxlclwiLCBgUHJvY2Vzc2luZyBjb2xsZWN0aW9uOiAke3R9YCksIFxuICAgICAgICAgICAgdGhpcy5uZShlLCB0LCByKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICByIC09IGUsIG4uYWRkKHQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaSA9ICExO1xuICAgICAgICB9KSkpKS5uZXh0KCgoKSA9PiB0IC0gcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgZW50cmllcyBmb3IgdGhlIHByb3ZpZGVkIGNvbGxlY3Rpb24gZ3JvdXAuIFJldHVybnMgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcHJvY2Vzc2VkLlxuICAgICAqLyAgICBuZShlLCB0LCBuKSB7XG4gICAgICAgIC8vIFVzZSB0aGUgZWFybGllc3Qgb2Zmc2V0IG9mIGFsbCBmaWVsZCBpbmRleGVzIHRvIHF1ZXJ5IHRoZSBsb2NhbCBjYWNoZS5cbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yZS5pbmRleE1hbmFnZXIuZ2V0TWluT2Zmc2V0RnJvbUNvbGxlY3Rpb25Hcm91cChlLCB0KS5uZXh0KChyID0+IHRoaXMubG9jYWxTdG9yZS5sb2NhbERvY3VtZW50cy5nZXROZXh0RG9jdW1lbnRzKGUsIHQsIHIsIG4pLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IG4uY2hhbmdlcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RvcmUuaW5kZXhNYW5hZ2VyLnVwZGF0ZUluZGV4RW50cmllcyhlLCBpKS5uZXh0KCgoKSA9PiB0aGlzLnJlKHIsIG4pKSkubmV4dCgobiA9PiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhCYWNrZmlsbGVyXCIsIGBVcGRhdGluZyBvZmZzZXQ6ICR7bn1gKSwgXG4gICAgICAgICAgICB0aGlzLmxvY2FsU3RvcmUuaW5kZXhNYW5hZ2VyLnVwZGF0ZUNvbGxlY3Rpb25Hcm91cChlLCB0LCBuKSkpKS5uZXh0KCgoKSA9PiBpLnNpemUpKTtcbiAgICAgICAgfSkpKSk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBuZXh0IG9mZnNldCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgZG9jdW1lbnRzLiAqLyAgICByZShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gZTtcbiAgICAgICAgcmV0dXJuIHQuY2hhbmdlcy5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9uZXdJbmRleE9mZnNldEZyb21Eb2N1bWVudCh0KTtcbiAgICAgICAgICAgIF9fUFJJVkFURV9pbmRleE9mZnNldENvbXBhcmF0b3IociwgbikgPiAwICYmIChuID0gcik7XG4gICAgICAgIH0pKSwgbmV3IEluZGV4T2Zmc2V0KG4ucmVhZFRpbWUsIG4uZG9jdW1lbnRLZXksIE1hdGgubWF4KHQuYmF0Y2hJZCwgZS5sYXJnZXN0QmF0Y2hJZCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogYExpc3RlblNlcXVlbmNlYCBpcyBhIG1vbm90b25pYyBzZXF1ZW5jZS4gSXQgaXMgaW5pdGlhbGl6ZWQgd2l0aCBhIG1pbmltdW0gdmFsdWUgdG9cbiAqIGV4Y2VlZC4gQWxsIHN1YnNlcXVlbnQgY2FsbHMgdG8gbmV4dCB3aWxsIHJldHVybiBpbmNyZWFzaW5nIHZhbHVlcy4gSWYgcHJvdmlkZWQgd2l0aCBhXG4gKiBgU2VxdWVuY2VOdW1iZXJTeW5jZXJgLCBpdCB3aWxsIGFkZGl0aW9uYWxseSBidW1wIGl0cyBuZXh0IHZhbHVlIHdoZW4gdG9sZCBvZiBhIG5ldyB2YWx1ZSwgYXNcbiAqIHdlbGwgYXMgd3JpdGUgb3V0IHNlcXVlbmNlIG51bWJlcnMgdGhhdCBpdCBwcm9kdWNlcyB2aWEgYG5leHQoKWAuXG4gKi8gY2xhc3MgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMucHJldmlvdXNWYWx1ZSA9IGUsIHQgJiYgKHQuc2VxdWVuY2VOdW1iZXJIYW5kbGVyID0gZSA9PiB0aGlzLmllKGUpLCB0aGlzLnNlID0gZSA9PiB0LndyaXRlU2VxdWVuY2VOdW1iZXIoZSkpO1xuICAgIH1cbiAgICBpZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZpb3VzVmFsdWUgPSBNYXRoLm1heChlLCB0aGlzLnByZXZpb3VzVmFsdWUpLCB0aGlzLnByZXZpb3VzVmFsdWU7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IGUgPSArK3RoaXMucHJldmlvdXNWYWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2UgJiYgdGhpcy5zZShlKSwgZTtcbiAgICB9XG59XG5cbl9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZSA9IC0xO1xuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBhIHZhcmlhYmxlIGlzIGVpdGhlciB1bmRlZmluZWQgb3IgbnVsbC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2lzTnVsbE9yVW5kZWZpbmVkKGUpIHtcbiAgICByZXR1cm4gbnVsbCA9PSBlO1xufVxuXG4vKiogUmV0dXJucyB3aGV0aGVyIHRoZSB2YWx1ZSByZXByZXNlbnRzIC0wLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8oZSkge1xuICAgIC8vIERldGVjdCBpZiB0aGUgdmFsdWUgaXMgLTAuMC4gQmFzZWQgb24gcG9seWZpbGwgZnJvbVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgIHJldHVybiAwID09PSBlICYmIDEgLyBlID09IC0xIC8gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnRlZ2VyIGFuZCBpbiB0aGUgc2FmZSBpbnRlZ2VyIHJhbmdlXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gdGVzdCBmb3IgYmVpbmcgYW4gaW50ZWdlciBhbmQgaW4gdGhlIHNhZmUgcmFuZ2VcbiAqLyBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKGUpIHtcbiAgICByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgZSAmJiBOdW1iZXIuaXNJbnRlZ2VyKGUpICYmICFfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8oZSkgJiYgZSA8PSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAmJiBlID49IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBFbmNvZGVzIGEgcmVzb3VyY2UgcGF0aCBpbnRvIGEgSW5kZXhlZERiLWNvbXBhdGlibGUgc3RyaW5nIGZvcm0uXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZSkge1xuICAgIGxldCB0ID0gXCJcIjtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHQubGVuZ3RoID4gMCAmJiAodCA9IF9fUFJJVkFURV9lbmNvZGVTZXBhcmF0b3IodCkpLCBcbiAgICB0ID0gX19QUklWQVRFX2VuY29kZVNlZ21lbnQoZS5nZXQobiksIHQpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfZW5jb2RlU2VwYXJhdG9yKHQpO1xufVxuXG4vKiogRW5jb2RlcyBhIHNpbmdsZSBzZWdtZW50IG9mIGEgcmVzb3VyY2UgcGF0aCBpbnRvIHRoZSBnaXZlbiByZXN1bHQgKi8gZnVuY3Rpb24gX19QUklWQVRFX2VuY29kZVNlZ21lbnQoZSwgdCkge1xuICAgIGxldCBuID0gdDtcbiAgICBjb25zdCByID0gZS5sZW5ndGg7XG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCByOyB0KyspIHtcbiAgICAgICAgY29uc3QgciA9IGUuY2hhckF0KHQpO1xuICAgICAgICBzd2l0Y2ggKHIpIHtcbiAgICAgICAgICBjYXNlIFwiXFwwXCI6XG4gICAgICAgICAgICBuICs9IFwiXHUwMDAxXHUwMDEwXCI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJcdTAwMDFcIjpcbiAgICAgICAgICAgIG4gKz0gXCJcdTAwMDFcdTAwMTFcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG4gKz0gcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cblxuLyoqIEVuY29kZXMgYSBwYXRoIHNlcGFyYXRvciBpbnRvIHRoZSBnaXZlbiByZXN1bHQgKi8gZnVuY3Rpb24gX19QUklWQVRFX2VuY29kZVNlcGFyYXRvcihlKSB7XG4gICAgcmV0dXJuIGUgKyBcIlx1MDAwMVx1MDAwMVwiO1xufVxuXG4vKipcbiAqIERlY29kZXMgdGhlIGdpdmVuIEluZGV4ZWREYi1jb21wYXRpYmxlIHN0cmluZyBmb3JtIG9mIGEgcmVzb3VyY2UgcGF0aCBpbnRvXG4gKiBhIFJlc291cmNlUGF0aCBpbnN0YW5jZS4gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGlzIG5vdCBzdWl0YWJsZSBmb3IgdXNlIHdpdGhcbiAqIGRlY29kaW5nIHJlc291cmNlIG5hbWVzIGZyb20gdGhlIHNlcnZlcjsgdGhvc2UgYXJlIE9uZSBQbGF0Zm9ybSBmb3JtYXRcbiAqIHN0cmluZ3MuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChlKSB7XG4gICAgLy8gRXZlbnQgdGhlIGVtcHR5IHBhdGggbXVzdCBlbmNvZGUgYXMgYSBwYXRoIG9mIGF0IGxlYXN0IGxlbmd0aCAyLiBBIHBhdGhcbiAgICAvLyB3aXRoIGV4YWN0bHkgMiBtdXN0IGJlIHRoZSBlbXB0eSBwYXRoLlxuICAgIGNvbnN0IHQgPSBlLmxlbmd0aDtcbiAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQodCA+PSAyKSwgMiA9PT0gdCkgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwiXHUwMDAxXCIgPT09IGUuY2hhckF0KDApICYmIFwiXHUwMDAxXCIgPT09IGUuY2hhckF0KDEpKSwgXG4gICAgUmVzb3VyY2VQYXRoLmVtcHR5UGF0aCgpO1xuICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIGNhbm5vdCBleGlzdCBwYXN0IHRoZSBzZWNvbmQtdG8tbGFzdCBwb3NpdGlvbiBpbiB0aGVcbiAgICAvLyBzb3VyY2UgdmFsdWUuXG4gICAgICAgIGNvbnN0IF9fUFJJVkFURV9sYXN0UmVhc29uYWJsZUVzY2FwZUluZGV4ID0gdCAtIDIsIG4gPSBbXTtcbiAgICBsZXQgciA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0OyApIHtcbiAgICAgICAgLy8gVGhlIGxhc3QgdHdvIGNoYXJhY3RlcnMgb2YgYSB2YWxpZCBlbmNvZGVkIHBhdGggbXVzdCBiZSBhIHNlcGFyYXRvciwgc29cbiAgICAgICAgLy8gdGhlcmUgbXVzdCBiZSBhbiBlbmQgdG8gdGhpcyBzZWdtZW50LlxuICAgICAgICBjb25zdCB0ID0gZS5pbmRleE9mKFwiXHUwMDAxXCIsIGkpO1xuICAgICAgICAodCA8IDAgfHwgdCA+IF9fUFJJVkFURV9sYXN0UmVhc29uYWJsZUVzY2FwZUluZGV4KSAmJiBmYWlsKCk7XG4gICAgICAgIHN3aXRjaCAoZS5jaGFyQXQodCArIDEpKSB7XG4gICAgICAgICAgY2FzZSBcIlx1MDAwMVwiOlxuICAgICAgICAgICAgY29uc3QgcyA9IGUuc3Vic3RyaW5nKGksIHQpO1xuICAgICAgICAgICAgbGV0IG87XG4gICAgICAgICAgICAwID09PSByLmxlbmd0aCA/IFxuICAgICAgICAgICAgLy8gQXZvaWQgY29weWluZyBmb3IgdGhlIGNvbW1vbiBjYXNlIG9mIGEgc2VnbWVudCB0aGF0IGV4Y2x1ZGVzIFxcMFxuICAgICAgICAgICAgLy8gYW5kIFxcMDAxXG4gICAgICAgICAgICBvID0gcyA6IChyICs9IHMsIG8gPSByLCByID0gXCJcIiksIG4ucHVzaChvKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIlx1MDAxMFwiOlxuICAgICAgICAgICAgciArPSBlLnN1YnN0cmluZyhpLCB0KSwgciArPSBcIlxcMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiXHUwMDExXCI6XG4gICAgICAgICAgICAvLyBUaGUgZXNjYXBlIGNoYXJhY3RlciBjYW4gYmUgdXNlZCBpbiB0aGUgb3V0cHV0IHRvIGVuY29kZSBpdHNlbGYuXG4gICAgICAgICAgICByICs9IGUuc3Vic3RyaW5nKGksIHQgKyAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGZhaWwoKTtcbiAgICAgICAgfVxuICAgICAgICBpID0gdCArIDI7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzb3VyY2VQYXRoKG4pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCB4ID0gWyBcInVzZXJJZFwiLCBcImJhdGNoSWRcIiBdO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBOYW1lIG9mIHRoZSBJbmRleGVkRGIgb2JqZWN0IHN0b3JlLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgbmFtZSAnb3duZXInIGlzIGNob3NlbiB0byBlbnN1cmUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aFxuICogb2xkZXIgY2xpZW50cyB0aGF0IG9ubHkgc3VwcG9ydGVkIHNpbmdsZSBsb2NrZWQgYWNjZXNzIHRvIHRoZSBwZXJzaXN0ZW5jZVxuICogbGF5ZXIuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIFt1c2VySWQsIGVuY29kZWRQYXRoXSBrZXkgZm9yIHVzZSBpbiB0aGUgRGJEb2N1bWVudE11dGF0aW9uc1xuICogaW5kZXggdG8gaXRlcmF0ZSBvdmVyIGFsbCBhdCBkb2N1bWVudCBtdXRhdGlvbnMgZm9yIGEgZ2l2ZW4gcGF0aCBvciBsb3dlci5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvblByZWZpeEZvclBhdGgoZSwgdCkge1xuICAgIHJldHVybiBbIGUsIF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodCkgXTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVsbCBpbmRleCBrZXkgb2YgW3VzZXJJZCwgZW5jb2RlZFBhdGgsIGJhdGNoSWRdIGZvciBpbnNlcnRpbmdcbiAqIGFuZCBkZWxldGluZyBpbnRvIHRoZSBEYkRvY3VtZW50TXV0YXRpb25zIGluZGV4LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25LZXkoZSwgdCwgbikge1xuICAgIHJldHVybiBbIGUsIF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodCksIG4gXTtcbn1cblxuLyoqXG4gKiBCZWNhdXNlIHdlIHN0b3JlIGFsbCB0aGUgdXNlZnVsIGluZm9ybWF0aW9uIGZvciB0aGlzIHN0b3JlIGluIHRoZSBrZXksXG4gKiB0aGVyZSBpcyBubyB1c2VmdWwgaW5mb3JtYXRpb24gdG8gc3RvcmUgYXMgdGhlIHZhbHVlLiBUaGUgcmF3ICh1bmVuY29kZWQpXG4gKiBwYXRoIGNhbm5vdCBiZSBzdG9yZWQgYmVjYXVzZSBJbmRleGVkRGIgZG9lc24ndCBzdG9yZSBwcm90b3R5cGVcbiAqIGluZm9ybWF0aW9uLlxuICovIGNvbnN0IE8gPSB7fSwgTiA9IFsgXCJwcmVmaXhQYXRoXCIsIFwiY29sbGVjdGlvbkdyb3VwXCIsIFwicmVhZFRpbWVcIiwgXCJkb2N1bWVudElkXCIgXSwgTCA9IFsgXCJwcmVmaXhQYXRoXCIsIFwiY29sbGVjdGlvbkdyb3VwXCIsIFwiZG9jdW1lbnRJZFwiIF0sIEIgPSBbIFwiY29sbGVjdGlvbkdyb3VwXCIsIFwicmVhZFRpbWVcIiwgXCJwcmVmaXhQYXRoXCIsIFwiZG9jdW1lbnRJZFwiIF0sIGsgPSBbIFwiY2Fub25pY2FsSWRcIiwgXCJ0YXJnZXRJZFwiIF0sIHEgPSBbIFwidGFyZ2V0SWRcIiwgXCJwYXRoXCIgXSwgUSA9IFsgXCJwYXRoXCIsIFwidGFyZ2V0SWRcIiBdLCBLID0gWyBcImNvbGxlY3Rpb25JZFwiLCBcInBhcmVudFwiIF0sICQgPSBbIFwiaW5kZXhJZFwiLCBcInVpZFwiIF0sIFUgPSBbIFwidWlkXCIsIFwic2VxdWVuY2VOdW1iZXJcIiBdLCBXID0gWyBcImluZGV4SWRcIiwgXCJ1aWRcIiwgXCJhcnJheVZhbHVlXCIsIFwiZGlyZWN0aW9uYWxWYWx1ZVwiLCBcIm9yZGVyZWREb2N1bWVudEtleVwiLCBcImRvY3VtZW50S2V5XCIgXSwgRyA9IFsgXCJpbmRleElkXCIsIFwidWlkXCIsIFwib3JkZXJlZERvY3VtZW50S2V5XCIgXSwgeiA9IFsgXCJ1c2VySWRcIiwgXCJjb2xsZWN0aW9uUGF0aFwiLCBcImRvY3VtZW50SWRcIiBdLCBqID0gWyBcInVzZXJJZFwiLCBcImNvbGxlY3Rpb25QYXRoXCIsIFwibGFyZ2VzdEJhdGNoSWRcIiBdLCBIID0gWyBcInVzZXJJZFwiLCBcImNvbGxlY3Rpb25Hcm91cFwiLCBcImxhcmdlc3RCYXRjaElkXCIgXSwgSiA9IFsgLi4uWyAuLi5bIC4uLlsgLi4uWyBcIm11dGF0aW9uUXVldWVzXCIsIFwibXV0YXRpb25zXCIsIFwiZG9jdW1lbnRNdXRhdGlvbnNcIiwgXCJyZW1vdGVEb2N1bWVudHNcIiwgXCJ0YXJnZXRzXCIsIFwib3duZXJcIiwgXCJ0YXJnZXRHbG9iYWxcIiwgXCJ0YXJnZXREb2N1bWVudHNcIiBdLCBcImNsaWVudE1ldGFkYXRhXCIgXSwgXCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiIF0sIFwiY29sbGVjdGlvblBhcmVudHNcIiBdLCBcImJ1bmRsZXNcIiwgXCJuYW1lZFF1ZXJpZXNcIiBdLCBZID0gWyAuLi5KLCBcImRvY3VtZW50T3ZlcmxheXNcIiBdLCBaID0gWyBcIm11dGF0aW9uUXVldWVzXCIsIFwibXV0YXRpb25zXCIsIFwiZG9jdW1lbnRNdXRhdGlvbnNcIiwgXCJyZW1vdGVEb2N1bWVudHNWMTRcIiwgXCJ0YXJnZXRzXCIsIFwib3duZXJcIiwgXCJ0YXJnZXRHbG9iYWxcIiwgXCJ0YXJnZXREb2N1bWVudHNcIiwgXCJjbGllbnRNZXRhZGF0YVwiLCBcInJlbW90ZURvY3VtZW50R2xvYmFsXCIsIFwiY29sbGVjdGlvblBhcmVudHNcIiwgXCJidW5kbGVzXCIsIFwibmFtZWRRdWVyaWVzXCIsIFwiZG9jdW1lbnRPdmVybGF5c1wiIF0sIFggPSBaLCBlZSA9IFsgLi4uWCwgXCJpbmRleENvbmZpZ3VyYXRpb25cIiwgXCJpbmRleFN0YXRlXCIsIFwiaW5kZXhFbnRyaWVzXCIgXSwgdGUgPSBlZTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbiBleHRlbmRzIFBlcnNpc3RlbmNlVHJhbnNhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5fZSA9IGUsIHRoaXMuY3VycmVudFNlcXVlbmNlTnVtYmVyID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRTdG9yZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9TaW1wbGVEYi5GKG4uX2UsIHQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfb2JqZWN0U2l6ZShlKSB7XG4gICAgbGV0IHQgPSAwO1xuICAgIGZvciAoY29uc3QgbiBpbiBlKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgbikgJiYgdCsrO1xuICAgIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBmb3JFYWNoKGUsIHQpIHtcbiAgICBmb3IgKGNvbnN0IG4gaW4gZSkgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIG4pICYmIHQobiwgZVtuXSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9tYXBUb0FycmF5KGUsIHQpIHtcbiAgICBjb25zdCBuID0gW107XG4gICAgZm9yIChjb25zdCByIGluIGUpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCByKSAmJiBuLnB1c2godChlW3JdLCByLCBlKSk7XG4gICAgcmV0dXJuIG47XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHkoZSkge1xuICAgIGZvciAoY29uc3QgdCBpbiBlKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIHQpKSByZXR1cm4gITE7XG4gICAgcmV0dXJuICEwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gQW4gaW1tdXRhYmxlIHNvcnRlZCBtYXAgaW1wbGVtZW50YXRpb24sIGJhc2VkIG9uIGEgTGVmdC1sZWFuaW5nIFJlZC1CbGFja1xuLy8gdHJlZS5cbmNsYXNzIFNvcnRlZE1hcCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmNvbXBhcmF0b3IgPSBlLCB0aGlzLnJvb3QgPSB0IHx8IExMUkJOb2RlLkVNUFRZO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWFwLCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5L3ZhbHVlIGFkZGVkIG9yIHJlcGxhY2VkLlxuICAgIGluc2VydChlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwKHRoaXMuY29tcGFyYXRvciwgdGhpcy5yb290Lmluc2VydChlLCB0LCB0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCwgbnVsbCwgTExSQk5vZGUuQkxBQ0ssIG51bGwsIG51bGwpKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hcCwgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSByZW1vdmVkLlxuICAgIHJlbW92ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwKHRoaXMuY29tcGFyYXRvciwgdGhpcy5yb290LnJlbW92ZShlLCB0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCwgbnVsbCwgTExSQk5vZGUuQkxBQ0ssIG51bGwsIG51bGwpKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIG5vZGUgd2l0aCB0aGUgZ2l2ZW4ga2V5LCBvciBudWxsLlxuICAgIGdldChlKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy5yb290O1xuICAgICAgICBmb3IgKDshdC5pc0VtcHR5KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuY29tcGFyYXRvcihlLCB0LmtleSk7XG4gICAgICAgICAgICBpZiAoMCA9PT0gbikgcmV0dXJuIHQudmFsdWU7XG4gICAgICAgICAgICBuIDwgMCA/IHQgPSB0LmxlZnQgOiBuID4gMCAmJiAodCA9IHQucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGlzIHNvcnRlZCBtYXAsIG9yIC0xIGlmIGl0IGRvZXNuJ3RcbiAgICAvLyBleGlzdC5cbiAgICBpbmRleE9mKGUpIHtcbiAgICAgICAgLy8gTnVtYmVyIG9mIG5vZGVzIHRoYXQgd2VyZSBwcnVuZWQgd2hlbiBkZXNjZW5kaW5nIHJpZ2h0XG4gICAgICAgIGxldCB0ID0gMCwgbiA9IHRoaXMucm9vdDtcbiAgICAgICAgZm9yICg7IW4uaXNFbXB0eSgpOyApIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNvbXBhcmF0b3IoZSwgbi5rZXkpO1xuICAgICAgICAgICAgaWYgKDAgPT09IHIpIHJldHVybiB0ICsgbi5sZWZ0LnNpemU7XG4gICAgICAgICAgICByIDwgMCA/IG4gPSBuLmxlZnQgOiAoXG4gICAgICAgICAgICAvLyBDb3VudCBhbGwgbm9kZXMgbGVmdCBvZiB0aGUgbm9kZSBwbHVzIHRoZSBub2RlIGl0c2VsZlxuICAgICAgICAgICAgdCArPSBuLmxlZnQuc2l6ZSArIDEsIG4gPSBuLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb2RlIG5vdCBmb3VuZFxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5pc0VtcHR5KCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIHRvdGFsIG51bWJlciBvZiBub2RlcyBpbiB0aGUgbWFwLlxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LnNpemU7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1pbmltdW0ga2V5IGluIHRoZSBtYXAuXG4gICAgbWluS2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Lm1pbktleSgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIHRoZSBtYXhpbXVtIGtleSBpbiB0aGUgbWFwLlxuICAgIG1heEtleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5tYXhLZXkoKTtcbiAgICB9XG4gICAgLy8gVHJhdmVyc2VzIHRoZSBtYXAgaW4ga2V5IG9yZGVyIGFuZCBjYWxscyB0aGUgc3BlY2lmaWVkIGFjdGlvbiBmdW5jdGlvblxuICAgIC8vIGZvciBlYWNoIGtleS92YWx1ZSBwYWlyLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXMgYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgaW5vcmRlclRyYXZlcnNhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QuaW5vcmRlclRyYXZlcnNhbChlKTtcbiAgICB9XG4gICAgZm9yRWFjaChlKSB7XG4gICAgICAgIHRoaXMuaW5vcmRlclRyYXZlcnNhbCgoKHQsIG4pID0+IChlKHQsIG4pLCAhMSkpKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5vcmRlclRyYXZlcnNhbCgoKHQsIG4pID0+IChlLnB1c2goYCR7dH06JHtufWApLCAhMSkpKSwgYHske2Uuam9pbihcIiwgXCIpfX1gO1xuICAgIH1cbiAgICAvLyBUcmF2ZXJzZXMgdGhlIG1hcCBpbiByZXZlcnNlIGtleSBvcmRlciBhbmQgY2FsbHMgdGhlIHNwZWNpZmllZCBhY3Rpb25cbiAgICAvLyBmdW5jdGlvbiBmb3IgZWFjaCBrZXkvdmFsdWUgcGFpci4gSWYgYWN0aW9uIHJldHVybnMgdHJ1ZSwgdHJhdmVyc2FsIGlzXG4gICAgLy8gYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgcmV2ZXJzZVRyYXZlcnNhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QucmV2ZXJzZVRyYXZlcnNhbChlKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhbiBpdGVyYXRvciBvdmVyIHRoZSBTb3J0ZWRNYXAuXG4gICAgZ2V0SXRlcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwSXRlcmF0b3IodGhpcy5yb290LCBudWxsLCB0aGlzLmNvbXBhcmF0b3IsICExKTtcbiAgICB9XG4gICAgZ2V0SXRlcmF0b3JGcm9tKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXBJdGVyYXRvcih0aGlzLnJvb3QsIGUsIHRoaXMuY29tcGFyYXRvciwgITEpO1xuICAgIH1cbiAgICBnZXRSZXZlcnNlSXRlcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwSXRlcmF0b3IodGhpcy5yb290LCBudWxsLCB0aGlzLmNvbXBhcmF0b3IsICEwKTtcbiAgICB9XG4gICAgZ2V0UmV2ZXJzZUl0ZXJhdG9yRnJvbShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwSXRlcmF0b3IodGhpcy5yb290LCBlLCB0aGlzLmNvbXBhcmF0b3IsICEwKTtcbiAgICB9XG59XG5cbiAvLyBlbmQgU29ydGVkTWFwXG4vLyBBbiBpdGVyYXRvciBvdmVyIGFuIExMUkJOb2RlLlxuY2xhc3MgU29ydGVkTWFwSXRlcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgdGhpcy5pc1JldmVyc2UgPSByLCB0aGlzLm5vZGVTdGFjayA9IFtdO1xuICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgIGZvciAoOyFlLmlzRW1wdHkoKTsgKSBpZiAoaSA9IHQgPyBuKGUua2V5LCB0KSA6IDEsIFxuICAgICAgICAvLyBmbGlwIHRoZSBjb21wYXJpc29uIGlmIHdlJ3JlIGdvaW5nIGluIHJldmVyc2VcbiAgICAgICAgdCAmJiByICYmIChpICo9IC0xKSwgaSA8IDApIFxuICAgICAgICAvLyBUaGlzIG5vZGUgaXMgbGVzcyB0aGFuIG91ciBzdGFydCBrZXkuIGlnbm9yZSBpdFxuICAgICAgICBlID0gdGhpcy5pc1JldmVyc2UgPyBlLmxlZnQgOiBlLnJpZ2h0OyBlbHNlIHtcbiAgICAgICAgICAgIGlmICgwID09PSBpKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBub2RlIGlzIGV4YWN0bHkgZXF1YWwgdG8gb3VyIHN0YXJ0IGtleS4gUHVzaCBpdCBvbiB0aGUgc3RhY2ssXG4gICAgICAgICAgICAgICAgLy8gYnV0IHN0b3AgaXRlcmF0aW5nO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZVN0YWNrLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIG5vZGUgaXMgZ3JlYXRlciB0aGFuIG91ciBzdGFydCBrZXksIGFkZCBpdCB0byB0aGUgc3RhY2sgYW5kIG1vdmVcbiAgICAgICAgICAgIC8vIHRvIHRoZSBuZXh0IG9uZVxuICAgICAgICAgICAgdGhpcy5ub2RlU3RhY2sucHVzaChlKSwgZSA9IHRoaXMuaXNSZXZlcnNlID8gZS5yaWdodCA6IGUubGVmdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXROZXh0KCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMubm9kZVN0YWNrLnBvcCgpO1xuICAgICAgICBjb25zdCB0ID0ge1xuICAgICAgICAgICAga2V5OiBlLmtleSxcbiAgICAgICAgICAgIHZhbHVlOiBlLnZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmlzUmV2ZXJzZSkgZm9yIChlID0gZS5sZWZ0OyAhZS5pc0VtcHR5KCk7ICkgdGhpcy5ub2RlU3RhY2sucHVzaChlKSwgZSA9IGUucmlnaHQ7IGVsc2UgZm9yIChlID0gZS5yaWdodDsgIWUuaXNFbXB0eSgpOyApIHRoaXMubm9kZVN0YWNrLnB1c2goZSksIFxuICAgICAgICBlID0gZS5sZWZ0O1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgaGFzTmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZVN0YWNrLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIHBlZWsoKSB7XG4gICAgICAgIGlmICgwID09PSB0aGlzLm5vZGVTdGFjay5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5ub2RlU3RhY2tbdGhpcy5ub2RlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGUua2V5LFxuICAgICAgICAgICAgdmFsdWU6IGUudmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbiAvLyBlbmQgU29ydGVkTWFwSXRlcmF0b3Jcbi8vIFJlcHJlc2VudHMgYSBub2RlIGluIGEgTGVmdC1sZWFuaW5nIFJlZC1CbGFjayB0cmVlLlxuY2xhc3MgTExSQk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBlLCB0aGlzLnZhbHVlID0gdCwgdGhpcy5jb2xvciA9IG51bGwgIT0gbiA/IG4gOiBMTFJCTm9kZS5SRUQsIHRoaXMubGVmdCA9IG51bGwgIT0gciA/IHIgOiBMTFJCTm9kZS5FTVBUWSwgXG4gICAgICAgIHRoaXMucmlnaHQgPSBudWxsICE9IGkgPyBpIDogTExSQk5vZGUuRU1QVFksIHRoaXMuc2l6ZSA9IHRoaXMubGVmdC5zaXplICsgMSArIHRoaXMucmlnaHQuc2l6ZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgbm9kZSwgb3B0aW9uYWxseSByZXBsYWNpbmcgcGllY2VzIG9mIGl0LlxuICAgIGNvcHkoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICByZXR1cm4gbmV3IExMUkJOb2RlKG51bGwgIT0gZSA/IGUgOiB0aGlzLmtleSwgbnVsbCAhPSB0ID8gdCA6IHRoaXMudmFsdWUsIG51bGwgIT0gbiA/IG4gOiB0aGlzLmNvbG9yLCBudWxsICE9IHIgPyByIDogdGhpcy5sZWZ0LCBudWxsICE9IGkgPyBpIDogdGhpcy5yaWdodCk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgLy8gVHJhdmVyc2VzIHRoZSB0cmVlIGluIGtleSBvcmRlciBhbmQgY2FsbHMgdGhlIHNwZWNpZmllZCBhY3Rpb24gZnVuY3Rpb25cbiAgICAvLyBmb3IgZWFjaCBub2RlLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXMgYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgaW5vcmRlclRyYXZlcnNhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuaW5vcmRlclRyYXZlcnNhbChlKSB8fCBlKHRoaXMua2V5LCB0aGlzLnZhbHVlKSB8fCB0aGlzLnJpZ2h0Lmlub3JkZXJUcmF2ZXJzYWwoZSk7XG4gICAgfVxuICAgIC8vIFRyYXZlcnNlcyB0aGUgdHJlZSBpbiByZXZlcnNlIGtleSBvcmRlciBhbmQgY2FsbHMgdGhlIHNwZWNpZmllZCBhY3Rpb25cbiAgICAvLyBmdW5jdGlvbiBmb3IgZWFjaCBub2RlLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXMgYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgcmV2ZXJzZVRyYXZlcnNhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJpZ2h0LnJldmVyc2VUcmF2ZXJzYWwoZSkgfHwgZSh0aGlzLmtleSwgdGhpcy52YWx1ZSkgfHwgdGhpcy5sZWZ0LnJldmVyc2VUcmF2ZXJzYWwoZSk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1pbmltdW0gbm9kZSBpbiB0aGUgdHJlZS5cbiAgICBtaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuaXNFbXB0eSgpID8gdGhpcyA6IHRoaXMubGVmdC5taW4oKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgbWF4aW11bSBrZXkgaW4gdGhlIHRyZWUuXG4gICAgbWluS2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oKS5rZXk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1heGltdW0ga2V5IGluIHRoZSB0cmVlLlxuICAgIG1heEtleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmlnaHQuaXNFbXB0eSgpID8gdGhpcy5rZXkgOiB0aGlzLnJpZ2h0Lm1heEtleSgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIG5ldyB0cmVlLCB3aXRoIHRoZSBrZXkvdmFsdWUgYWRkZWQuXG4gICAgaW5zZXJ0KGUsIHQsIG4pIHtcbiAgICAgICAgbGV0IHIgPSB0aGlzO1xuICAgICAgICBjb25zdCBpID0gbihlLCByLmtleSk7XG4gICAgICAgIHJldHVybiByID0gaSA8IDAgPyByLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgci5sZWZ0Lmluc2VydChlLCB0LCBuKSwgbnVsbCkgOiAwID09PSBpID8gci5jb3B5KG51bGwsIHQsIG51bGwsIG51bGwsIG51bGwpIDogci5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIHIucmlnaHQuaW5zZXJ0KGUsIHQsIG4pKSwgXG4gICAgICAgIHIuZml4VXAoKTtcbiAgICB9XG4gICAgcmVtb3ZlTWluKCkge1xuICAgICAgICBpZiAodGhpcy5sZWZ0LmlzRW1wdHkoKSkgcmV0dXJuIExMUkJOb2RlLkVNUFRZO1xuICAgICAgICBsZXQgZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBlLmxlZnQuaXNSZWQoKSB8fCBlLmxlZnQubGVmdC5pc1JlZCgpIHx8IChlID0gZS5tb3ZlUmVkTGVmdCgpKSwgZSA9IGUuY29weShudWxsLCBudWxsLCBudWxsLCBlLmxlZnQucmVtb3ZlTWluKCksIG51bGwpLCBcbiAgICAgICAgZS5maXhVcCgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIG5ldyB0cmVlLCB3aXRoIHRoZSBzcGVjaWZpZWQgaXRlbSByZW1vdmVkLlxuICAgIHJlbW92ZShlLCB0KSB7XG4gICAgICAgIGxldCBuLCByID0gdGhpcztcbiAgICAgICAgaWYgKHQoZSwgci5rZXkpIDwgMCkgci5sZWZ0LmlzRW1wdHkoKSB8fCByLmxlZnQuaXNSZWQoKSB8fCByLmxlZnQubGVmdC5pc1JlZCgpIHx8IChyID0gci5tb3ZlUmVkTGVmdCgpKSwgXG4gICAgICAgIHIgPSByLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgci5sZWZ0LnJlbW92ZShlLCB0KSwgbnVsbCk7IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHIubGVmdC5pc1JlZCgpICYmIChyID0gci5yb3RhdGVSaWdodCgpKSwgci5yaWdodC5pc0VtcHR5KCkgfHwgci5yaWdodC5pc1JlZCgpIHx8IHIucmlnaHQubGVmdC5pc1JlZCgpIHx8IChyID0gci5tb3ZlUmVkUmlnaHQoKSksIFxuICAgICAgICAgICAgMCA9PT0gdChlLCByLmtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoci5yaWdodC5pc0VtcHR5KCkpIHJldHVybiBMTFJCTm9kZS5FTVBUWTtcbiAgICAgICAgICAgICAgICBuID0gci5yaWdodC5taW4oKSwgciA9IHIuY29weShuLmtleSwgbi52YWx1ZSwgbnVsbCwgbnVsbCwgci5yaWdodC5yZW1vdmVNaW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByID0gci5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIHIucmlnaHQucmVtb3ZlKGUsIHQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gci5maXhVcCgpO1xuICAgIH1cbiAgICBpc1JlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3I7XG4gICAgfVxuICAgIC8vIFJldHVybnMgbmV3IHRyZWUgYWZ0ZXIgcGVyZm9ybWluZyBhbnkgbmVlZGVkIHJvdGF0aW9ucy5cbiAgICBmaXhVcCgpIHtcbiAgICAgICAgbGV0IGUgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZS5yaWdodC5pc1JlZCgpICYmICFlLmxlZnQuaXNSZWQoKSAmJiAoZSA9IGUucm90YXRlTGVmdCgpKSwgZS5sZWZ0LmlzUmVkKCkgJiYgZS5sZWZ0LmxlZnQuaXNSZWQoKSAmJiAoZSA9IGUucm90YXRlUmlnaHQoKSksIFxuICAgICAgICBlLmxlZnQuaXNSZWQoKSAmJiBlLnJpZ2h0LmlzUmVkKCkgJiYgKGUgPSBlLmNvbG9yRmxpcCgpKSwgZTtcbiAgICB9XG4gICAgbW92ZVJlZExlZnQoKSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5jb2xvckZsaXAoKTtcbiAgICAgICAgcmV0dXJuIGUucmlnaHQubGVmdC5pc1JlZCgpICYmIChlID0gZS5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIGUucmlnaHQucm90YXRlUmlnaHQoKSksIFxuICAgICAgICBlID0gZS5yb3RhdGVMZWZ0KCksIGUgPSBlLmNvbG9yRmxpcCgpKSwgZTtcbiAgICB9XG4gICAgbW92ZVJlZFJpZ2h0KCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMuY29sb3JGbGlwKCk7XG4gICAgICAgIHJldHVybiBlLmxlZnQubGVmdC5pc1JlZCgpICYmIChlID0gZS5yb3RhdGVSaWdodCgpLCBlID0gZS5jb2xvckZsaXAoKSksIGU7XG4gICAgfVxuICAgIHJvdGF0ZUxlZnQoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNvcHkobnVsbCwgbnVsbCwgTExSQk5vZGUuUkVELCBudWxsLCB0aGlzLnJpZ2h0LmxlZnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5jb3B5KG51bGwsIG51bGwsIHRoaXMuY29sb3IsIGUsIG51bGwpO1xuICAgIH1cbiAgICByb3RhdGVSaWdodCgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY29weShudWxsLCBudWxsLCBMTFJCTm9kZS5SRUQsIHRoaXMubGVmdC5yaWdodCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuY29weShudWxsLCBudWxsLCB0aGlzLmNvbG9yLCBudWxsLCBlKTtcbiAgICB9XG4gICAgY29sb3JGbGlwKCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5sZWZ0LmNvcHkobnVsbCwgbnVsbCwgIXRoaXMubGVmdC5jb2xvciwgbnVsbCwgbnVsbCksIHQgPSB0aGlzLnJpZ2h0LmNvcHkobnVsbCwgbnVsbCwgIXRoaXMucmlnaHQuY29sb3IsIG51bGwsIG51bGwpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5KG51bGwsIG51bGwsICF0aGlzLmNvbG9yLCBlLCB0KTtcbiAgICB9XG4gICAgLy8gRm9yIHRlc3RpbmcuXG4gICAgY2hlY2tNYXhEZXB0aCgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY2hlY2soKTtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KDIsIGUpIDw9IHRoaXMuc2l6ZSArIDE7XG4gICAgfVxuICAgIC8vIEluIGEgYmFsYW5jZWQgUkIgdHJlZSwgdGhlIGJsYWNrLWRlcHRoIChudW1iZXIgb2YgYmxhY2sgbm9kZXMpIGZyb20gcm9vdCB0b1xuICAgIC8vIGxlYXZlcyBpcyBlcXVhbCBvbiBib3RoIHNpZGVzLiAgVGhpcyBmdW5jdGlvbiB2ZXJpZmllcyB0aGF0IG9yIGFzc2VydHMuXG4gICAgY2hlY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVkKCkgJiYgdGhpcy5sZWZ0LmlzUmVkKCkpIHRocm93IGZhaWwoKTtcbiAgICAgICAgaWYgKHRoaXMucmlnaHQuaXNSZWQoKSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5sZWZ0LmNoZWNrKCk7XG4gICAgICAgIGlmIChlICE9PSB0aGlzLnJpZ2h0LmNoZWNrKCkpIHRocm93IGZhaWwoKTtcbiAgICAgICAgcmV0dXJuIGUgKyAodGhpcy5pc1JlZCgpID8gMCA6IDEpO1xuICAgIH1cbn1cblxuIC8vIGVuZCBMTFJCTm9kZVxuLy8gRW1wdHkgbm9kZSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgTExSQiB0cmVlcy5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5MTFJCTm9kZS5FTVBUWSA9IG51bGwsIExMUkJOb2RlLlJFRCA9ICEwLCBMTFJCTm9kZS5CTEFDSyA9ICExO1xuXG4vLyBlbmQgTExSQkVtcHR5Tm9kZVxuTExSQk5vZGUuRU1QVFkgPSBuZXcgXG4vLyBSZXByZXNlbnRzIGFuIGVtcHR5IG5vZGUgKGEgbGVhZiBub2RlIGluIHRoZSBSZWQtQmxhY2sgVHJlZSkuXG5jbGFzcyBMTFJCRW1wdHlOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG4gICAgZ2V0IGtleSgpIHtcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG4gICAgZ2V0IGNvbG9yKCkge1xuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxuICAgIGdldCBsZWZ0KCkge1xuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxuICAgIGdldCByaWdodCgpIHtcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBub2RlLlxuICAgIGNvcHkoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIHRyZWUsIHdpdGggdGhlIHNwZWNpZmllZCBrZXkvdmFsdWUgYWRkZWQuXG4gICAgaW5zZXJ0KGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMTFJCTm9kZShlLCB0KTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIHRyZWUsIHdpdGggdGhlIHNwZWNpZmllZCBrZXkgcmVtb3ZlZC5cbiAgICByZW1vdmUoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBpbm9yZGVyVHJhdmVyc2FsKGUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXZlcnNlVHJhdmVyc2FsKGUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBtaW5LZXkoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBtYXhLZXkoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpc1JlZCgpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvLyBGb3IgdGVzdGluZy5cbiAgICBjaGVja01heERlcHRoKCkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGNoZWNrKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBTb3J0ZWRTZXQgaXMgYW4gaW1tdXRhYmxlIChjb3B5LW9uLXdyaXRlKSBjb2xsZWN0aW9uIHRoYXQgaG9sZHMgZWxlbWVudHNcbiAqIGluIG9yZGVyIHNwZWNpZmllZCBieSB0aGUgcHJvdmlkZWQgY29tcGFyYXRvci5cbiAqXG4gKiBOT1RFOiBpZiBwcm92aWRlZCBjb21wYXJhdG9yIHJldHVybnMgMCBmb3IgdHdvIGVsZW1lbnRzLCB3ZSBjb25zaWRlciB0aGVtIHRvXG4gKiBiZSBlcXVhbCFcbiAqL1xuY2xhc3MgU29ydGVkU2V0IHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuY29tcGFyYXRvciA9IGUsIHRoaXMuZGF0YSA9IG5ldyBTb3J0ZWRNYXAodGhpcy5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgaGFzKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHRoaXMuZGF0YS5nZXQoZSk7XG4gICAgfVxuICAgIGZpcnN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm1pbktleSgpO1xuICAgIH1cbiAgICBsYXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm1heEtleSgpO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zaXplO1xuICAgIH1cbiAgICBpbmRleE9mKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKGUpO1xuICAgIH1cbiAgICAvKiogSXRlcmF0ZXMgZWxlbWVudHMgaW4gb3JkZXIgZGVmaW5lZCBieSBcImNvbXBhcmF0b3JcIiAqLyAgICBmb3JFYWNoKGUpIHtcbiAgICAgICAgdGhpcy5kYXRhLmlub3JkZXJUcmF2ZXJzYWwoKCh0LCBuKSA9PiAoZSh0KSwgITEpKSk7XG4gICAgfVxuICAgIC8qKiBJdGVyYXRlcyBvdmVyIGBlbGVtYHMgc3VjaCB0aGF0OiByYW5nZVswXSAmbHQ7PSBlbGVtICZsdDsgcmFuZ2VbMV0uICovICAgIGZvckVhY2hJblJhbmdlKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZVswXSk7XG4gICAgICAgIGZvciAoO24uaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBuLmdldE5leHQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhcmF0b3Ioci5rZXksIGVbMV0pID49IDApIHJldHVybjtcbiAgICAgICAgICAgIHQoci5rZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYGVsZW1gcyBzdWNoIHRoYXQ6IHN0YXJ0ICZsdDs9IGVsZW0gdW50aWwgZmFsc2UgaXMgcmV0dXJuZWQuXG4gICAgICovICAgIGZvckVhY2hXaGlsZShlLCB0KSB7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBmb3IgKG4gPSB2b2lkIDAgIT09IHQgPyB0aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKHQpIDogdGhpcy5kYXRhLmdldEl0ZXJhdG9yKCk7IG4uaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGlmICghZShuLmdldE5leHQoKS5rZXkpKSByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEZpbmRzIHRoZSBsZWFzdCBlbGVtZW50IGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgZWxlbWAuICovICAgIGZpcnN0QWZ0ZXJPckVxdWFsKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZSk7XG4gICAgICAgIHJldHVybiB0Lmhhc05leHQoKSA/IHQuZ2V0TmV4dCgpLmtleSA6IG51bGw7XG4gICAgfVxuICAgIGdldEl0ZXJhdG9yKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNvcnRlZFNldEl0ZXJhdG9yKHRoaXMuZGF0YS5nZXRJdGVyYXRvcigpKTtcbiAgICB9XG4gICAgZ2V0SXRlcmF0b3JGcm9tKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRTZXRJdGVyYXRvcih0aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKGUpKTtcbiAgICB9XG4gICAgLyoqIEluc2VydHMgb3IgdXBkYXRlcyBhbiBlbGVtZW50ICovICAgIGFkZChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHkodGhpcy5kYXRhLnJlbW92ZShlKS5pbnNlcnQoZSwgITApKTtcbiAgICB9XG4gICAgLyoqIERlbGV0ZXMgYW4gZWxlbWVudCAqLyAgICBkZWxldGUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXMoZSkgPyB0aGlzLmNvcHkodGhpcy5kYXRhLnJlbW92ZShlKSkgOiB0aGlzO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmlzRW1wdHkoKTtcbiAgICB9XG4gICAgdW5pb25XaXRoKGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzO1xuICAgICAgICAvLyBNYWtlIHN1cmUgYHJlc3VsdGAgYWx3YXlzIHJlZmVycyB0byB0aGUgbGFyZ2VyIG9uZSBvZiB0aGUgdHdvIHNldHMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHQuc2l6ZSA8IGUuc2l6ZSAmJiAodCA9IGUsIGUgPSB0aGlzKSwgZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHQgPSB0LmFkZChlKTtcbiAgICAgICAgfSkpLCB0O1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFNvcnRlZFNldCkpIHJldHVybiAhMTtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gZS5zaXplKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmRhdGEuZ2V0SXRlcmF0b3IoKSwgbiA9IGUuZGF0YS5nZXRJdGVyYXRvcigpO1xuICAgICAgICBmb3IgKDt0Lmhhc05leHQoKTsgKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5nZXROZXh0KCkua2V5LCByID0gbi5nZXROZXh0KCkua2V5O1xuICAgICAgICAgICAgaWYgKDAgIT09IHRoaXMuY29tcGFyYXRvcihlLCByKSkgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGUucHVzaCh0KTtcbiAgICAgICAgfSkpLCBlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh0ID0+IGUucHVzaCh0KSkpLCBcIlNvcnRlZFNldChcIiArIGUudG9TdHJpbmcoKSArIFwiKVwiO1xuICAgIH1cbiAgICBjb3B5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBTb3J0ZWRTZXQodGhpcy5jb21wYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIHQuZGF0YSA9IGUsIHQ7XG4gICAgfVxufVxuXG5jbGFzcyBTb3J0ZWRTZXRJdGVyYXRvciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLml0ZXIgPSBlO1xuICAgIH1cbiAgICBnZXROZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyLmdldE5leHQoKS5rZXk7XG4gICAgfVxuICAgIGhhc05leHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXIuaGFzTmV4dCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gc29ydGVkIHNldHMgZm9yIGVxdWFsaXR5IHVzaW5nIHRoZWlyIG5hdHVyYWwgb3JkZXJpbmcuIFRoZVxuICogbWV0aG9kIGNvbXB1dGVzIHRoZSBpbnRlcnNlY3Rpb24gYW5kIGludm9rZXMgYG9uQWRkYCBmb3IgZXZlcnkgZWxlbWVudCB0aGF0XG4gKiBpcyBpbiBgYWZ0ZXJgIGJ1dCBub3QgYGJlZm9yZWAuIGBvblJlbW92ZWAgaXMgaW52b2tlZCBmb3IgZXZlcnkgZWxlbWVudCBpblxuICogYGJlZm9yZWAgYnV0IG1pc3NpbmcgZnJvbSBgYWZ0ZXJgLlxuICpcbiAqIFRoZSBtZXRob2QgY3JlYXRlcyBhIGNvcHkgb2YgYm90aCBgYmVmb3JlYCBhbmQgYGFmdGVyYCBhbmQgcnVucyBpbiBPKG4gbG9nXG4gKiBuKSwgd2hlcmUgbiBpcyB0aGUgc2l6ZSBvZiB0aGUgdHdvIGxpc3RzLlxuICpcbiAqIEBwYXJhbSBiZWZvcmUgLSBUaGUgZWxlbWVudHMgdGhhdCBleGlzdCBpbiB0aGUgb3JpZ2luYWwgc2V0LlxuICogQHBhcmFtIGFmdGVyIC0gVGhlIGVsZW1lbnRzIHRvIGRpZmYgYWdhaW5zdCB0aGUgb3JpZ2luYWwgc2V0LlxuICogQHBhcmFtIGNvbXBhcmF0b3IgLSBUaGUgY29tcGFyYXRvciBmb3IgdGhlIGVsZW1lbnRzIGluIGJlZm9yZSBhbmQgYWZ0ZXIuXG4gKiBAcGFyYW0gb25BZGQgLSBBIGZ1bmN0aW9uIHRvIGludm9rZSBmb3IgZXZlcnkgZWxlbWVudCB0aGF0IGlzIHBhcnQgb2YgYFxuICogYWZ0ZXJgIGJ1dCBub3QgYGJlZm9yZWAuXG4gKiBAcGFyYW0gb25SZW1vdmUgLSBBIGZ1bmN0aW9uIHRvIGludm9rZSBmb3IgZXZlcnkgZWxlbWVudCB0aGF0IGlzIHBhcnQgb2ZcbiAqIGBiZWZvcmVgIGJ1dCBub3QgYGFmdGVyYC5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBuZXh0IGVsZW1lbnQgZnJvbSB0aGUgaXRlcmF0b3Igb3IgYHVuZGVmaW5lZGAgaWYgbm9uZSBhdmFpbGFibGUuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9hZHZhbmNlSXRlcmF0b3IoZSkge1xuICAgIHJldHVybiBlLmhhc05leHQoKSA/IGUuZ2V0TmV4dCgpIDogdm9pZCAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQcm92aWRlcyBhIHNldCBvZiBmaWVsZHMgdGhhdCBjYW4gYmUgdXNlZCB0byBwYXJ0aWFsbHkgcGF0Y2ggYSBkb2N1bWVudC5cbiAqIEZpZWxkTWFzayBpcyB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggT2JqZWN0VmFsdWUuXG4gKiBFeGFtcGxlczpcbiAqICAgZm9vIC0gT3ZlcndyaXRlcyBmb28gZW50aXJlbHkgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWUuIElmIGZvbyBpcyBub3RcbiAqICAgICAgICAgcHJlc2VudCBpbiB0aGUgY29tcGFuaW9uIE9iamVjdFZhbHVlLCB0aGUgZmllbGQgaXMgZGVsZXRlZC5cbiAqICAgZm9vLmJhciAtIE92ZXJ3cml0ZXMgb25seSB0aGUgZmllbGQgYmFyIG9mIHRoZSBvYmplY3QgZm9vLlxuICogICAgICAgICAgICAgSWYgZm9vIGlzIG5vdCBhbiBvYmplY3QsIGZvbyBpcyByZXBsYWNlZCB3aXRoIGFuIG9iamVjdFxuICogICAgICAgICAgICAgY29udGFpbmluZyBmb29cbiAqLyBjbGFzcyBGaWVsZE1hc2sge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBlLCBcbiAgICAgICAgLy8gVE9ETyhkaW1vbmQpOiB2YWxpZGF0aW9uIG9mIEZpZWxkTWFza1xuICAgICAgICAvLyBTb3J0IHRoZSBmaWVsZCBtYXNrIHRvIHN1cHBvcnQgYEZpZWxkTWFzay5pc0VxdWFsKClgIGFuZCBhc3NlcnQgYmVsb3cuXG4gICAgICAgIGUuc29ydChGaWVsZFBhdGgkMS5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkTWFzayhbXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgRmllbGRNYXNrIG9iamVjdCB0aGF0IGlzIHRoZSByZXN1bHQgb2YgYWRkaW5nIGFsbCB0aGUgZ2l2ZW5cbiAgICAgKiBmaWVsZHMgcGF0aHMgdG8gdGhpcyBmaWVsZCBtYXNrLlxuICAgICAqLyAgICB1bmlvbldpdGgoZSkge1xuICAgICAgICBsZXQgdCA9IG5ldyBTb3J0ZWRTZXQoRmllbGRQYXRoJDEuY29tcGFyYXRvcik7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLmZpZWxkcykgdCA9IHQuYWRkKGUpO1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZSkgdCA9IHQuYWRkKG4pO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkTWFzayh0LnRvQXJyYXkoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZlcmlmaWVzIHRoYXQgYGZpZWxkUGF0aGAgaXMgaW5jbHVkZWQgYnkgYXQgbGVhc3Qgb25lIGZpZWxkIGluIHRoaXMgZmllbGRcbiAgICAgKiBtYXNrLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBhbiBPKG4pIG9wZXJhdGlvbiwgd2hlcmUgYG5gIGlzIHRoZSBzaXplIG9mIHRoZSBmaWVsZCBtYXNrLlxuICAgICAqLyAgICBjb3ZlcnMoZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5maWVsZHMpIGlmICh0LmlzUHJlZml4T2YoZSkpIHJldHVybiAhMDtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9hcnJheUVxdWFscyh0aGlzLmZpZWxkcywgZS5maWVsZHMsICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBlcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBkZWNvZGluZyBiYXNlNjQgc3RyaW5nLlxuICovIGNsYXNzIF9fUFJJVkFURV9CYXNlNjREZWNvZGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5uYW1lID0gXCJCYXNlNjREZWNvZGVFcnJvclwiO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBDb252ZXJ0cyBhIEJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byBhIGJpbmFyeSBzdHJpbmcuICovXG4vKiogVHJ1ZSBpZiBhbmQgb25seSBpZiB0aGUgQmFzZTY0IGNvbnZlcnNpb24gZnVuY3Rpb25zIGFyZSBhdmFpbGFibGUuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfaXNCYXNlNjRBdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGF0b2I7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEltbXV0YWJsZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBcInByb3RvXCIgYnl0ZSBzdHJpbmcuXG4gKlxuICogUHJvdG8gYnl0ZSBzdHJpbmdzIGNhbiBlaXRoZXIgYmUgQmFzZTY0LWVuY29kZWQgc3RyaW5ncyBvciBVaW50OEFycmF5cyB3aGVuXG4gKiBzZW50IG9uIHRoZSB3aXJlLiBUaGlzIGNsYXNzIGFic3RyYWN0cyBhd2F5IHRoaXMgZGlmZmVyZW50aWF0aW9uIGJ5IGhvbGRpbmdcbiAqIHRoZSBwcm90byBieXRlIHN0cmluZyBpbiBhIGNvbW1vbiBjbGFzcyB0aGF0IG11c3QgYmUgY29udmVydGVkIGludG8gYSBzdHJpbmdcbiAqIGJlZm9yZSBiZWluZyBzZW50IGFzIGEgcHJvdG8uXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBCeXRlU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuYmluYXJ5U3RyaW5nID0gZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21CYXNlNjRTdHJpbmcoZSkge1xuICAgICAgICBjb25zdCB0ID0gZnVuY3Rpb24gX19QUklWQVRFX2RlY29kZUJhc2U2NChlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdG9iKGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgYERPTUV4Y2VwdGlvbmAgaXMgZGVmaW5lZCBiZWZvcmUgdXNpbmcgaXQgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAvLyBcIlJlZmVyZW5jZUVycm9yOiBQcm9wZXJ0eSAnRE9NRXhjZXB0aW9uJyBkb2Vzbid0IGV4aXN0XCIgaW4gcmVhY3QtbmF0aXZlLlxuICAgICAgICAgICAgICAgIC8vIChodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtanMtc2RrL2lzc3Vlcy83MTE1KVxuICAgICAgICAgICAgICAgIHRocm93IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIERPTUV4Y2VwdGlvbiAmJiBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uID8gbmV3IF9fUFJJVkFURV9CYXNlNjREZWNvZGVFcnJvcihcIkludmFsaWQgYmFzZTY0IHN0cmluZzogXCIgKyBlKSA6IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIENvbnZlcnRzIGEgYmluYXJ5IHN0cmluZyB0byBhIEJhc2U2NCBlbmNvZGVkIHN0cmluZy4gKi8gKGUpO1xuICAgICAgICByZXR1cm4gbmV3IEJ5dGVTdHJpbmcodCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVWludDhBcnJheShlKSB7XG4gICAgICAgIC8vIFRPRE8oaW5kZXhpbmcpOyBSZW1vdmUgdGhlIGNvcHkgb2YgdGhlIGJ5dGUgc3RyaW5nIGhlcmUgYXMgdGhpcyBtZXRob2RcbiAgICAgICAgLy8gaXMgZnJlcXVlbnRseSBjYWxsZWQgZHVyaW5nIGluZGV4aW5nLlxuICAgICAgICBjb25zdCB0ID0gXG4gICAgICAgIC8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgYW4gVWludDhhcnJheSB0byBhIGJpbmFyeSBzdHJpbmcuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2JpbmFyeVN0cmluZ0Zyb21VaW50OEFycmF5KGUpIHtcbiAgICAgICAgICAgIGxldCB0ID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5sZW5ndGg7ICsrbikgdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBhIGJpbmFyeSBzdHJpbmcgdG8gYW4gVWludDhBcnJheS5cbiAqLyAoZSk7XG4gICAgICAgIHJldHVybiBuZXcgQnl0ZVN0cmluZyh0KTtcbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIGxldCBlID0gMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6ICgpID0+IGUgPCB0aGlzLmJpbmFyeVN0cmluZy5sZW5ndGggPyB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoZSsrKSxcbiAgICAgICAgICAgICAgICBkb25lOiAhMVxuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm9pZCAwLFxuICAgICAgICAgICAgICAgIGRvbmU6ICEwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHRvQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2VuY29kZUJhc2U2NChlKSB7XG4gICAgICAgICAgICByZXR1cm4gYnRvYShlKTtcbiAgICAgICAgfSh0aGlzLmJpbmFyeVN0cmluZyk7XG4gICAgfVxuICAgIHRvVWludDhBcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV91aW50OEFycmF5RnJvbUJpbmFyeVN0cmluZyhlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gbmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB0W25dID0gZS5jaGFyQ29kZUF0KG4pO1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAgICAgLy8gQSBSZWdFeHAgbWF0Y2hpbmcgSVNPIDg2MDEgVVRDIHRpbWVzdGFtcHMgd2l0aCBvcHRpb25hbCBmcmFjdGlvbi5cbiAgICAgICAgKHRoaXMuYmluYXJ5U3RyaW5nKTtcbiAgICB9XG4gICAgYXBwcm94aW1hdGVCeXRlU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIDIgKiB0aGlzLmJpbmFyeVN0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGNvbXBhcmVUbyhlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcih0aGlzLmJpbmFyeVN0cmluZywgZS5iaW5hcnlTdHJpbmcpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5U3RyaW5nID09PSBlLmJpbmFyeVN0cmluZztcbiAgICB9XG59XG5cbkJ5dGVTdHJpbmcuRU1QVFlfQllURV9TVFJJTkcgPSBuZXcgQnl0ZVN0cmluZyhcIlwiKTtcblxuY29uc3QgbmUgPSBuZXcgUmVnRXhwKC9eXFxkezR9LVxcZFxcZC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGQoPzpcXC4oXFxkKykpP1okLyk7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHBvc3NpYmxlIFByb3RvIHZhbHVlcyBmb3IgYSB0aW1lc3RhbXAgdmFsdWUgaW50byBhIFwic2Vjb25kcyBhbmRcbiAqIG5hbm9zXCIgcmVwcmVzZW50YXRpb24uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlKSB7XG4gICAgLy8gVGhlIGpzb24gaW50ZXJmYWNlIChmb3IgdGhlIGJyb3dzZXIpIHdpbGwgcmV0dXJuIGFuIGlzbyB0aW1lc3RhbXAgc3RyaW5nLFxuICAgIC8vIHdoaWxlIHRoZSBwcm90byBqcyBsaWJyYXJ5IChmb3Igbm9kZSkgd2lsbCByZXR1cm4gYVxuICAgIC8vIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAgaW5zdGFuY2UuXG4gICAgaWYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhZSksIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHtcbiAgICAgICAgLy8gVGhlIGRhdGUgc3RyaW5nIGNhbiBoYXZlIGhpZ2hlciBwcmVjaXNpb24gKG5hbm9zKSB0aGFuIHRoZSBEYXRlIGNsYXNzXG4gICAgICAgIC8vIChtaWxsaXMpLCBzbyB3ZSBkbyBzb21lIGN1c3RvbSBwYXJzaW5nIGhlcmUuXG4gICAgICAgIC8vIFBhcnNlIHRoZSBuYW5vcyByaWdodCBvdXQgb2YgdGhlIHN0cmluZy5cbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICBjb25zdCBuID0gbmUuZXhlYyhlKTtcbiAgICAgICAgaWYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhbiksIG5bMV0pIHtcbiAgICAgICAgICAgIC8vIFBhZCB0aGUgZnJhY3Rpb24gb3V0IHRvIDkgZGlnaXRzIChuYW5vcykuXG4gICAgICAgICAgICBsZXQgZSA9IG5bMV07XG4gICAgICAgICAgICBlID0gKGUgKyBcIjAwMDAwMDAwMFwiKS5zdWJzdHIoMCwgOSksIHQgPSBOdW1iZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2UgdGhlIGRhdGUgdG8gZ2V0IHRoZSBzZWNvbmRzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgRGF0ZShlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlY29uZHM6IE1hdGguZmxvb3Ioci5nZXRUaW1lKCkgLyAxZTMpLFxuICAgICAgICAgICAgbmFub3M6IHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vjb25kczogX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLnNlY29uZHMpLFxuICAgICAgICBuYW5vczogX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLm5hbm9zKVxuICAgIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHBvc3NpYmxlIFByb3RvIHR5cGVzIGZvciBudW1iZXJzIGludG8gYSBKYXZhU2NyaXB0IG51bWJlci5cbiAqIFJldHVybnMgMCBpZiB0aGUgdmFsdWUgaXMgbm90IG51bWVyaWMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlKSB7XG4gICAgLy8gVE9ETyhiam9ybmljayk6IEhhbmRsZSBpbnQ2NCBncmVhdGVyIHRoYW4gNTMgYml0cy5cbiAgICByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgZSA/IGUgOiBcInN0cmluZ1wiID09IHR5cGVvZiBlID8gTnVtYmVyKGUpIDogMDtcbn1cblxuLyoqIENvbnZlcnRzIHRoZSBwb3NzaWJsZSBQcm90byB0eXBlcyBmb3IgQmxvYnMgaW50byBhIEJ5dGVTdHJpbmcuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUpIHtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSA/IEJ5dGVTdHJpbmcuZnJvbUJhc2U2NFN0cmluZyhlKSA6IEJ5dGVTdHJpbmcuZnJvbVVpbnQ4QXJyYXkoZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsb2NhbGx5LWFwcGxpZWQgU2VydmVyVGltZXN0YW1wLlxuICpcbiAqIFNlcnZlciBUaW1lc3RhbXBzIGFyZSBiYWNrZWQgYnkgTWFwVmFsdWVzIHRoYXQgY29udGFpbiBhbiBpbnRlcm5hbCBmaWVsZFxuICogYF9fdHlwZV9fYCB3aXRoIGEgdmFsdWUgb2YgYHNlcnZlcl90aW1lc3RhbXBgLiBUaGUgcHJldmlvdXMgdmFsdWUgYW5kIGxvY2FsXG4gKiB3cml0ZSB0aW1lIGFyZSBzdG9yZWQgaW4gaXRzIGBfX3ByZXZpb3VzX3ZhbHVlX19gIGFuZCBgX19sb2NhbF93cml0ZV90aW1lX19gXG4gKiBmaWVsZHMgcmVzcGVjdGl2ZWx5LlxuICpcbiAqIE5vdGVzOlxuICogLSBTZXJ2ZXJUaW1lc3RhbXBWYWx1ZSBpbnN0YW5jZXMgYXJlIGNyZWF0ZWQgYXMgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBhXG4gKiAgIHRyYW5zZm9ybS4gVGhleSBjYW4gb25seSBleGlzdCBpbiB0aGUgbG9jYWwgdmlldyBvZiBhIGRvY3VtZW50LiBUaGVyZWZvcmVcbiAqICAgdGhleSBkbyBub3QgbmVlZCB0byBiZSBwYXJzZWQgb3Igc2VyaWFsaXplZC5cbiAqIC0gV2hlbiBldmFsdWF0ZWQgbG9jYWxseSAoZS5nLiBmb3Igc25hcHNob3QuZGF0YSgpKSwgdGhleSBieSBkZWZhdWx0XG4gKiAgIGV2YWx1YXRlIHRvIGBudWxsYC4gVGhpcyBiZWhhdmlvciBjYW4gYmUgY29uZmlndXJlZCBieSBwYXNzaW5nIGN1c3RvbVxuICogICBGaWVsZFZhbHVlT3B0aW9ucyB0byB2YWx1ZSgpLlxuICogLSBXaXRoIHJlc3BlY3QgdG8gb3RoZXIgU2VydmVyVGltZXN0YW1wVmFsdWVzLCB0aGV5IHNvcnQgYnkgdGhlaXJcbiAqICAgbG9jYWxXcml0ZVRpbWUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzU2VydmVyVGltZXN0YW1wKGUpIHtcbiAgICB2YXIgdCwgbjtcbiAgICByZXR1cm4gXCJzZXJ2ZXJfdGltZXN0YW1wXCIgPT09IChudWxsID09PSAobiA9ICgobnVsbCA9PT0gKHQgPSBudWxsID09IGUgPyB2b2lkIDAgOiBlLm1hcFZhbHVlKSB8fCB2b2lkIDAgPT09IHQgPyB2b2lkIDAgOiB0LmZpZWxkcykgfHwge30pLl9fdHlwZV9fKSB8fCB2b2lkIDAgPT09IG4gPyB2b2lkIDAgOiBuLnN0cmluZ1ZhbHVlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFNlcnZlclRpbWVzdGFtcCBwcm90byB2YWx1ZSAodXNpbmcgdGhlIGludGVybmFsIGZvcm1hdCkuXG4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkIGJlZm9yZSB0aGlzIFNlcnZlclRpbWVzdGFtcCB3YXMgc2V0LlxuICpcbiAqIFByZXNlcnZpbmcgdGhlIHByZXZpb3VzIHZhbHVlcyBhbGxvd3MgdGhlIHVzZXIgdG8gZGlzcGxheSB0aGUgbGFzdCByZXNvbGVkXG4gKiB2YWx1ZSB1bnRpbCB0aGUgYmFja2VuZCByZXNwb25kcyB3aXRoIHRoZSB0aW1lc3RhbXAuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRQcmV2aW91c1ZhbHVlKGUpIHtcbiAgICBjb25zdCB0ID0gZS5tYXBWYWx1ZS5maWVsZHMuX19wcmV2aW91c192YWx1ZV9fO1xuICAgIHJldHVybiBfX1BSSVZBVEVfaXNTZXJ2ZXJUaW1lc3RhbXAodCkgPyBfX1BSSVZBVEVfZ2V0UHJldmlvdXNWYWx1ZSh0KSA6IHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbG9jYWwgdGltZSBhdCB3aGljaCB0aGlzIHRpbWVzdGFtcCB3YXMgZmlyc3Qgc2V0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRMb2NhbFdyaXRlVGltZShlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAoZS5tYXBWYWx1ZS5maWVsZHMuX19sb2NhbF93cml0ZV90aW1lX18udGltZXN0YW1wVmFsdWUpO1xuICAgIHJldHVybiBuZXcgVGltZXN0YW1wKHQuc2Vjb25kcywgdC5uYW5vcyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIERhdGFiYXNlSW5mbyB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIERhdGFiYXNlSW5mbyB1c2luZyB0aGUgcHJvdmlkZWQgaG9zdCwgZGF0YWJhc2VJZCBhbmRcbiAgICAgKiBwZXJzaXN0ZW5jZUtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhYmFzZUlkIC0gVGhlIGRhdGFiYXNlIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0gYXBwSWQgLSBUaGUgRmlyZWJhc2UgQXBwIElkLlxuICAgICAqIEBwYXJhbSBwZXJzaXN0ZW5jZUtleSAtIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgRmlyZXN0b3JlJ3MgbG9jYWxcbiAgICAgKiBzdG9yYWdlICh1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGRhdGFiYXNlSWQpLlxuICAgICAqIEBwYXJhbSBob3N0IC0gVGhlIEZpcmVzdG9yZSBiYWNrZW5kIGhvc3QgdG8gY29ubmVjdCB0by5cbiAgICAgKiBAcGFyYW0gc3NsIC0gV2hldGhlciB0byB1c2UgU1NMIHdoZW4gY29ubmVjdGluZy5cbiAgICAgKiBAcGFyYW0gZm9yY2VMb25nUG9sbGluZyAtIFdoZXRoZXIgdG8gdXNlIHRoZSBmb3JjZUxvbmdQb2xsaW5nIG9wdGlvblxuICAgICAqIHdoZW4gdXNpbmcgV2ViQ2hhbm5lbCBhcyB0aGUgbmV0d29yayB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIGF1dG9EZXRlY3RMb25nUG9sbGluZyAtIFdoZXRoZXIgdG8gdXNlIHRoZSBkZXRlY3RCdWZmZXJpbmdQcm94eVxuICAgICAqIG9wdGlvbiB3aGVuIHVzaW5nIFdlYkNoYW5uZWwgYXMgdGhlIG5ldHdvcmsgdHJhbnNwb3J0LlxuICAgICAqIEBwYXJhbSBsb25nUG9sbGluZ09wdGlvbnMgT3B0aW9ucyB0aGF0IGNvbmZpZ3VyZSBsb25nLXBvbGxpbmcuXG4gICAgICogQHBhcmFtIHVzZUZldGNoU3RyZWFtcyBXaGV0aGVyIHRvIHVzZSB0aGUgRmV0Y2ggQVBJIGluc3RlYWQgb2ZcbiAgICAgKiBYTUxIVFRQUmVxdWVzdFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMsIG8sIF8sIGEpIHtcbiAgICAgICAgdGhpcy5kYXRhYmFzZUlkID0gZSwgdGhpcy5hcHBJZCA9IHQsIHRoaXMucGVyc2lzdGVuY2VLZXkgPSBuLCB0aGlzLmhvc3QgPSByLCB0aGlzLnNzbCA9IGksIFxuICAgICAgICB0aGlzLmZvcmNlTG9uZ1BvbGxpbmcgPSBzLCB0aGlzLmF1dG9EZXRlY3RMb25nUG9sbGluZyA9IG8sIHRoaXMubG9uZ1BvbGxpbmdPcHRpb25zID0gXywgXG4gICAgICAgIHRoaXMudXNlRmV0Y2hTdHJlYW1zID0gYTtcbiAgICB9XG59XG5cbi8qKiBUaGUgZGVmYXVsdCBkYXRhYmFzZSBuYW1lIGZvciBhIHByb2plY3QuICovXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGRhdGFiYXNlIElEIGEgRmlyZXN0b3JlIGNsaWVudCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgRGF0YWJhc2VJZCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnByb2plY3RJZCA9IGUsIHRoaXMuZGF0YWJhc2UgPSB0IHx8IFwiKGRlZmF1bHQpXCI7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZUlkKFwiXCIsIFwiXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEZWZhdWx0RGF0YWJhc2UoKSB7XG4gICAgICAgIHJldHVybiBcIihkZWZhdWx0KVwiID09PSB0aGlzLmRhdGFiYXNlO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRhYmFzZUlkICYmIGUucHJvamVjdElkID09PSB0aGlzLnByb2plY3RJZCAmJiBlLmRhdGFiYXNlID09PSB0aGlzLmRhdGFiYXNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNvbnN0IHJlID0ge1xuICAgIG1hcFZhbHVlOiB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgX190eXBlX186IHtcbiAgICAgICAgICAgICAgICBzdHJpbmdWYWx1ZTogXCJfX21heF9fXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0sIGllID0ge1xuICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbn07XG5cbi8qKiBFeHRyYWN0cyB0aGUgYmFja2VuZCdzIHR5cGUgb3JkZXIgZm9yIHRoZSBwcm92aWRlZCB2YWx1ZS4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90eXBlT3JkZXIoZSkge1xuICAgIHJldHVybiBcIm51bGxWYWx1ZVwiIGluIGUgPyAwIC8qIFR5cGVPcmRlci5OdWxsVmFsdWUgKi8gOiBcImJvb2xlYW5WYWx1ZVwiIGluIGUgPyAxIC8qIFR5cGVPcmRlci5Cb29sZWFuVmFsdWUgKi8gOiBcImludGVnZXJWYWx1ZVwiIGluIGUgfHwgXCJkb3VibGVWYWx1ZVwiIGluIGUgPyAyIC8qIFR5cGVPcmRlci5OdW1iZXJWYWx1ZSAqLyA6IFwidGltZXN0YW1wVmFsdWVcIiBpbiBlID8gMyAvKiBUeXBlT3JkZXIuVGltZXN0YW1wVmFsdWUgKi8gOiBcInN0cmluZ1ZhbHVlXCIgaW4gZSA/IDUgLyogVHlwZU9yZGVyLlN0cmluZ1ZhbHVlICovIDogXCJieXRlc1ZhbHVlXCIgaW4gZSA/IDYgLyogVHlwZU9yZGVyLkJsb2JWYWx1ZSAqLyA6IFwicmVmZXJlbmNlVmFsdWVcIiBpbiBlID8gNyAvKiBUeXBlT3JkZXIuUmVmVmFsdWUgKi8gOiBcImdlb1BvaW50VmFsdWVcIiBpbiBlID8gOCAvKiBUeXBlT3JkZXIuR2VvUG9pbnRWYWx1ZSAqLyA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyA5IC8qIFR5cGVPcmRlci5BcnJheVZhbHVlICovIDogXCJtYXBWYWx1ZVwiIGluIGUgPyBfX1BSSVZBVEVfaXNTZXJ2ZXJUaW1lc3RhbXAoZSkgPyA0IC8qIFR5cGVPcmRlci5TZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6IF9fUFJJVkFURV9pc01heFZhbHVlKGUpID8gOTAwNzE5OTI1NDc0MDk5MSAvKiBUeXBlT3JkZXIuTWF4VmFsdWUgKi8gOiAxMCAvKiBUeXBlT3JkZXIuT2JqZWN0VmFsdWUgKi8gOiBmYWlsKCk7XG59XG5cbi8qKiBUZXN0cyBgbGVmdGAgYW5kIGByaWdodGAgZm9yIGVxdWFsaXR5IGJhc2VkIG9uIHRoZSBiYWNrZW5kIHNlbWFudGljcy4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUsIHQpIHtcbiAgICBpZiAoZSA9PT0gdCkgcmV0dXJuICEwO1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfdHlwZU9yZGVyKGUpO1xuICAgIGlmIChuICE9PSBfX1BSSVZBVEVfdHlwZU9yZGVyKHQpKSByZXR1cm4gITE7XG4gICAgc3dpdGNoIChuKSB7XG4gICAgICBjYXNlIDAgLyogVHlwZU9yZGVyLk51bGxWYWx1ZSAqLyA6XG4gICAgICBjYXNlIDkwMDcxOTkyNTQ3NDA5OTEgLyogVHlwZU9yZGVyLk1heFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuICEwO1xuXG4gICAgICBjYXNlIDEgLyogVHlwZU9yZGVyLkJvb2xlYW5WYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBlLmJvb2xlYW5WYWx1ZSA9PT0gdC5ib29sZWFuVmFsdWU7XG5cbiAgICAgIGNhc2UgNCAvKiBUeXBlT3JkZXIuU2VydmVyVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKGUpLmlzRXF1YWwoX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKHQpKTtcblxuICAgICAgY2FzZSAzIC8qIFR5cGVPcmRlci5UaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfdGltZXN0YW1wRXF1YWxzKGUsIHQpIHtcbiAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBlLnRpbWVzdGFtcFZhbHVlICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIHQudGltZXN0YW1wVmFsdWUgJiYgZS50aW1lc3RhbXBWYWx1ZS5sZW5ndGggPT09IHQudGltZXN0YW1wVmFsdWUubGVuZ3RoKSBcbiAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgZXF1YWxpdHkgZm9yIElTTyA4NjAxIHRpbWVzdGFtcHNcbiAgICAgICAgICAgIHJldHVybiBlLnRpbWVzdGFtcFZhbHVlID09PSB0LnRpbWVzdGFtcFZhbHVlO1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAoZS50aW1lc3RhbXBWYWx1ZSksIHIgPSBfX1BSSVZBVEVfbm9ybWFsaXplVGltZXN0YW1wKHQudGltZXN0YW1wVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG4uc2Vjb25kcyA9PT0gci5zZWNvbmRzICYmIG4ubmFub3MgPT09IHIubmFub3M7XG4gICAgICAgIH0oZSwgdCk7XG5cbiAgICAgIGNhc2UgNSAvKiBUeXBlT3JkZXIuU3RyaW5nVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZS5zdHJpbmdWYWx1ZSA9PT0gdC5zdHJpbmdWYWx1ZTtcblxuICAgICAgY2FzZSA2IC8qIFR5cGVPcmRlci5CbG9iVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2Jsb2JFcXVhbHMoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUuYnl0ZXNWYWx1ZSkuaXNFcXVhbChfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyh0LmJ5dGVzVmFsdWUpKTtcbiAgICAgICAgfShlLCB0KTtcblxuICAgICAgY2FzZSA3IC8qIFR5cGVPcmRlci5SZWZWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBlLnJlZmVyZW5jZVZhbHVlID09PSB0LnJlZmVyZW5jZVZhbHVlO1xuXG4gICAgICBjYXNlIDggLyogVHlwZU9yZGVyLkdlb1BvaW50VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2dlb1BvaW50RXF1YWxzKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuZ2VvUG9pbnRWYWx1ZS5sYXRpdHVkZSkgPT09IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5nZW9Qb2ludFZhbHVlLmxhdGl0dWRlKSAmJiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuZ2VvUG9pbnRWYWx1ZS5sb25naXR1ZGUpID09PSBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKHQuZ2VvUG9pbnRWYWx1ZS5sb25naXR1ZGUpO1xuICAgICAgICB9KGUsIHQpO1xuXG4gICAgICBjYXNlIDIgLyogVHlwZU9yZGVyLk51bWJlclZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9udW1iZXJFcXVhbHMoZSwgdCkge1xuICAgICAgICAgICAgaWYgKFwiaW50ZWdlclZhbHVlXCIgaW4gZSAmJiBcImludGVnZXJWYWx1ZVwiIGluIHQpIHJldHVybiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuaW50ZWdlclZhbHVlKSA9PT0gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcih0LmludGVnZXJWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoXCJkb3VibGVWYWx1ZVwiIGluIGUgJiYgXCJkb3VibGVWYWx1ZVwiIGluIHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmRvdWJsZVZhbHVlKSwgciA9IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5kb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4gPT09IHIgPyBfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8obikgPT09IF9fUFJJVkFURV9pc05lZ2F0aXZlWmVybyhyKSA6IGlzTmFOKG4pICYmIGlzTmFOKHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9KGUsIHQpO1xuXG4gICAgICBjYXNlIDkgLyogVHlwZU9yZGVyLkFycmF5VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX2FycmF5RXF1YWxzKGUuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10sIHQuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10sIF9fUFJJVkFURV92YWx1ZUVxdWFscyk7XG5cbiAgICAgIGNhc2UgMTAgLyogVHlwZU9yZGVyLk9iamVjdFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9vYmplY3RFcXVhbHMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUubWFwVmFsdWUuZmllbGRzIHx8IHt9LCByID0gdC5tYXBWYWx1ZS5maWVsZHMgfHwge307XG4gICAgICAgICAgICBpZiAoX19QUklWQVRFX29iamVjdFNpemUobikgIT09IF9fUFJJVkFURV9vYmplY3RTaXplKHIpKSByZXR1cm4gITE7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgaW4gbikgaWYgKG4uaGFzT3duUHJvcGVydHkoZSkgJiYgKHZvaWQgMCA9PT0gcltlXSB8fCAhX19QUklWQVRFX3ZhbHVlRXF1YWxzKG5bZV0sIHJbZV0pKSkgcmV0dXJuICExO1xuICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIEFycmF5VmFsdWUgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LiAqLyAoZSwgdCk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfYXJyYXlWYWx1ZUNvbnRhaW5zKGUsIHQpIHtcbiAgICByZXR1cm4gdm9pZCAwICE9PSAoZS52YWx1ZXMgfHwgW10pLmZpbmQoKGUgPT4gX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUsIHQpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV92YWx1ZUNvbXBhcmUoZSwgdCkge1xuICAgIGlmIChlID09PSB0KSByZXR1cm4gMDtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX3R5cGVPcmRlcihlKSwgciA9IF9fUFJJVkFURV90eXBlT3JkZXIodCk7XG4gICAgaWYgKG4gIT09IHIpIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLCByKTtcbiAgICBzd2l0Y2ggKG4pIHtcbiAgICAgIGNhc2UgMCAvKiBUeXBlT3JkZXIuTnVsbFZhbHVlICovIDpcbiAgICAgIGNhc2UgOTAwNzE5OTI1NDc0MDk5MSAvKiBUeXBlT3JkZXIuTWF4VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gMDtcblxuICAgICAgY2FzZSAxIC8qIFR5cGVPcmRlci5Cb29sZWFuVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5ib29sZWFuVmFsdWUsIHQuYm9vbGVhblZhbHVlKTtcblxuICAgICAgY2FzZSAyIC8qIFR5cGVPcmRlci5OdW1iZXJWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZU51bWJlcnMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5pbnRlZ2VyVmFsdWUgfHwgZS5kb3VibGVWYWx1ZSksIHIgPSBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKHQuaW50ZWdlclZhbHVlIHx8IHQuZG91YmxlVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG4gPCByID8gLTEgOiBuID4gciA/IDEgOiBuID09PSByID8gMCA6IFxuICAgICAgICAgICAgLy8gb25lIG9yIGJvdGggYXJlIE5hTi5cbiAgICAgICAgICAgIGlzTmFOKG4pID8gaXNOYU4ocikgPyAwIDogLTEgOiAxO1xuICAgICAgICB9KGUsIHQpO1xuXG4gICAgICBjYXNlIDMgLyogVHlwZU9yZGVyLlRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9jb21wYXJlVGltZXN0YW1wcyhlLnRpbWVzdGFtcFZhbHVlLCB0LnRpbWVzdGFtcFZhbHVlKTtcblxuICAgICAgY2FzZSA0IC8qIFR5cGVPcmRlci5TZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfY29tcGFyZVRpbWVzdGFtcHMoX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKGUpLCBfX1BSSVZBVEVfZ2V0TG9jYWxXcml0ZVRpbWUodCkpO1xuXG4gICAgICBjYXNlIDUgLyogVHlwZU9yZGVyLlN0cmluZ1ZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUuc3RyaW5nVmFsdWUsIHQuc3RyaW5nVmFsdWUpO1xuXG4gICAgICBjYXNlIDYgLyogVHlwZU9yZGVyLkJsb2JWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZUJsb2JzKGUsIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyhlKSwgciA9IF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKHQpO1xuICAgICAgICAgICAgcmV0dXJuIG4uY29tcGFyZVRvKHIpO1xuICAgICAgICB9KGUuYnl0ZXNWYWx1ZSwgdC5ieXRlc1ZhbHVlKTtcblxuICAgICAgY2FzZSA3IC8qIFR5cGVPcmRlci5SZWZWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZVJlZmVyZW5jZXMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUuc3BsaXQoXCIvXCIpLCByID0gdC5zcGxpdChcIi9cIik7XG4gICAgICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IG4ubGVuZ3RoICYmIGUgPCByLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG5bZV0sIHJbZV0pO1xuICAgICAgICAgICAgICAgIGlmICgwICE9PSB0KSByZXR1cm4gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLmxlbmd0aCwgci5sZW5ndGgpO1xuICAgICAgICB9KGUucmVmZXJlbmNlVmFsdWUsIHQucmVmZXJlbmNlVmFsdWUpO1xuXG4gICAgICBjYXNlIDggLyogVHlwZU9yZGVyLkdlb1BvaW50VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2NvbXBhcmVHZW9Qb2ludHMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5sYXRpdHVkZSksIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5sYXRpdHVkZSkpO1xuICAgICAgICAgICAgaWYgKDAgIT09IG4pIHJldHVybiBuO1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5sb25naXR1ZGUpLCBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKHQubG9uZ2l0dWRlKSk7XG4gICAgICAgIH0oZS5nZW9Qb2ludFZhbHVlLCB0Lmdlb1BvaW50VmFsdWUpO1xuXG4gICAgICBjYXNlIDkgLyogVHlwZU9yZGVyLkFycmF5VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2NvbXBhcmVBcnJheXMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUudmFsdWVzIHx8IFtdLCByID0gdC52YWx1ZXMgfHwgW107XG4gICAgICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IG4ubGVuZ3RoICYmIGUgPCByLmxlbmd0aDsgKytlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWx1ZUNvbXBhcmUobltlXSwgcltlXSk7XG4gICAgICAgICAgICAgICAgaWYgKHQpIHJldHVybiB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG4ubGVuZ3RoLCByLmxlbmd0aCk7XG4gICAgICAgIH0oZS5hcnJheVZhbHVlLCB0LmFycmF5VmFsdWUpO1xuXG4gICAgICBjYXNlIDEwIC8qIFR5cGVPcmRlci5PYmplY3RWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZU1hcHMoZSwgdCkge1xuICAgICAgICAgICAgaWYgKGUgPT09IHJlLm1hcFZhbHVlICYmIHQgPT09IHJlLm1hcFZhbHVlKSByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmIChlID09PSByZS5tYXBWYWx1ZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAodCA9PT0gcmUubWFwVmFsdWUpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLmZpZWxkcyB8fCB7fSwgciA9IE9iamVjdC5rZXlzKG4pLCBpID0gdC5maWVsZHMgfHwge30sIHMgPSBPYmplY3Qua2V5cyhpKTtcbiAgICAgICAgICAgIC8vIEV2ZW4gdGhvdWdoIE1hcFZhbHVlcyBhcmUgbGlrZWx5IHNvcnRlZCBjb3JyZWN0bHkgYmFzZWQgb24gdGhlaXIgaW5zZXJ0aW9uXG4gICAgICAgICAgICAvLyBvcmRlciAoZS5nLiB3aGVuIHJlY2VpdmVkIGZyb20gdGhlIGJhY2tlbmQpLCBsb2NhbCBtb2RpZmljYXRpb25zIGNhbiBicmluZ1xuICAgICAgICAgICAgLy8gZWxlbWVudHMgb3V0IG9mIG9yZGVyLiBXZSBuZWVkIHRvIHJlLXNvcnQgdGhlIGVsZW1lbnRzIHRvIGVuc3VyZSB0aGF0XG4gICAgICAgICAgICAvLyBjYW5vbmljYWwgSURzIGFyZSBpbmRlcGVuZGVudCBvZiBpbnNlcnRpb24gb3JkZXIuXG4gICAgICAgICAgICByLnNvcnQoKSwgcy5zb3J0KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHIubGVuZ3RoICYmIGUgPCBzLmxlbmd0aDsgKytlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKHJbZV0sIHNbZV0pO1xuICAgICAgICAgICAgICAgIGlmICgwICE9PSB0KSByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICBjb25zdCBvID0gX19QUklWQVRFX3ZhbHVlQ29tcGFyZShuW3JbZV1dLCBpW3NbZV1dKTtcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gbykgcmV0dXJuIG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3Ioci5sZW5ndGgsIHMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEdlbmVyYXRlcyB0aGUgY2Fub25pY2FsIElEIGZvciB0aGUgcHJvdmlkZWQgZmllbGQgdmFsdWUgKGFzIHVzZWQgaW4gVGFyZ2V0XG4gKiBzZXJpYWxpemF0aW9uKS5cbiAqLyAoZS5tYXBWYWx1ZSwgdC5tYXBWYWx1ZSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlVGltZXN0YW1wcyhlLCB0KSB7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCAmJiBlLmxlbmd0aCA9PT0gdC5sZW5ndGgpIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLCB0KTtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlKSwgciA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAodCksIGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLnNlY29uZHMsIHIuc2Vjb25kcyk7XG4gICAgcmV0dXJuIDAgIT09IGkgPyBpIDogX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3Iobi5uYW5vcywgci5uYW5vcyk7XG59XG5cbmZ1bmN0aW9uIGNhbm9uaWNhbElkKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2Nhbm9uaWZ5VmFsdWUoZSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeVZhbHVlKGUpIHtcbiAgICByZXR1cm4gXCJudWxsVmFsdWVcIiBpbiBlID8gXCJudWxsXCIgOiBcImJvb2xlYW5WYWx1ZVwiIGluIGUgPyBcIlwiICsgZS5ib29sZWFuVmFsdWUgOiBcImludGVnZXJWYWx1ZVwiIGluIGUgPyBcIlwiICsgZS5pbnRlZ2VyVmFsdWUgOiBcImRvdWJsZVZhbHVlXCIgaW4gZSA/IFwiXCIgKyBlLmRvdWJsZVZhbHVlIDogXCJ0aW1lc3RhbXBWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlUaW1lc3RhbXAoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlKTtcbiAgICAgICAgcmV0dXJuIGB0aW1lKCR7dC5zZWNvbmRzfSwke3QubmFub3N9KWA7XG4gICAgfShlLnRpbWVzdGFtcFZhbHVlKSA6IFwic3RyaW5nVmFsdWVcIiBpbiBlID8gZS5zdHJpbmdWYWx1ZSA6IFwiYnl0ZXNWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlCeXRlU3RyaW5nKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUpLnRvQmFzZTY0KCk7XG4gICAgfShlLmJ5dGVzVmFsdWUpIDogXCJyZWZlcmVuY2VWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlSZWZlcmVuY2UoZSkge1xuICAgICAgICByZXR1cm4gRG9jdW1lbnRLZXkuZnJvbU5hbWUoZSkudG9TdHJpbmcoKTtcbiAgICB9KGUucmVmZXJlbmNlVmFsdWUpIDogXCJnZW9Qb2ludFZhbHVlXCIgaW4gZSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeUdlb1BvaW50KGUpIHtcbiAgICAgICAgcmV0dXJuIGBnZW8oJHtlLmxhdGl0dWRlfSwke2UubG9uZ2l0dWRlfSlgO1xuICAgIH0oZS5nZW9Qb2ludFZhbHVlKSA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlBcnJheShlKSB7XG4gICAgICAgIGxldCB0ID0gXCJbXCIsIG4gPSAhMDtcbiAgICAgICAgZm9yIChjb25zdCByIG9mIGUudmFsdWVzIHx8IFtdKSBuID8gbiA9ICExIDogdCArPSBcIixcIiwgdCArPSBfX1BSSVZBVEVfY2Fub25pZnlWYWx1ZShyKTtcbiAgICAgICAgcmV0dXJuIHQgKyBcIl1cIjtcbiAgICB9XG4gICAgLyoqXG4gKiBSZXR1cm5zIGFuIGFwcHJveGltYXRlIChhbmQgd2lsZGx5IGluYWNjdXJhdGUpIGluLW1lbW9yeSBzaXplIGZvciB0aGUgZmllbGRcbiAqIHZhbHVlLlxuICpcbiAqIFRoZSBtZW1vcnkgc2l6ZSB0YWtlcyBpbnRvIGFjY291bnQgb25seSB0aGUgYWN0dWFsIHVzZXIgZGF0YSBhcyBpdCByZXNpZGVzXG4gKiBpbiBtZW1vcnkgYW5kIGlnbm9yZXMgb2JqZWN0IG92ZXJoZWFkLlxuICovIChlLmFycmF5VmFsdWUpIDogXCJtYXBWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlNYXAoZSkge1xuICAgICAgICAvLyBJdGVyYXRpb24gb3JkZXIgaW4gSmF2YVNjcmlwdCBpcyBub3QgZ3VhcmFudGVlZC4gVG8gZW5zdXJlIHRoYXQgd2UgZ2VuZXJhdGVcbiAgICAgICAgLy8gbWF0Y2hpbmcgY2Fub25pY2FsIElEcyBmb3IgaWRlbnRpY2FsIG1hcHMsIHdlIG5lZWQgdG8gc29ydCB0aGUga2V5cy5cbiAgICAgICAgY29uc3QgdCA9IE9iamVjdC5rZXlzKGUuZmllbGRzIHx8IHt9KS5zb3J0KCk7XG4gICAgICAgIGxldCBuID0gXCJ7XCIsIHIgPSAhMDtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHQpIHIgPyByID0gITEgOiBuICs9IFwiLFwiLCBuICs9IGAke2l9OiR7X19QUklWQVRFX2Nhbm9uaWZ5VmFsdWUoZS5maWVsZHNbaV0pfWA7XG4gICAgICAgIHJldHVybiBuICsgXCJ9XCI7XG4gICAgfShlLm1hcFZhbHVlKSA6IGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2VzdGltYXRlQnl0ZVNpemUoZSkge1xuICAgIHN3aXRjaCAoX19QUklWQVRFX3R5cGVPcmRlcihlKSkge1xuICAgICAgY2FzZSAwIC8qIFR5cGVPcmRlci5OdWxsVmFsdWUgKi8gOlxuICAgICAgY2FzZSAxIC8qIFR5cGVPcmRlci5Cb29sZWFuVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gNDtcblxuICAgICAgY2FzZSAyIC8qIFR5cGVPcmRlci5OdW1iZXJWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiA4O1xuXG4gICAgICBjYXNlIDMgLyogVHlwZU9yZGVyLlRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgIGNhc2UgOCAvKiBUeXBlT3JkZXIuR2VvUG9pbnRWYWx1ZSAqLyA6XG4gICAgICAgIC8vIEdlb1BvaW50cyBhcmUgbWFkZSB1cCBvZiB0d28gZGlzdGluY3QgbnVtYmVycyAobGF0aXR1ZGUgKyBsb25naXR1ZGUpXG4gICAgICAgIHJldHVybiAxNjtcblxuICAgICAgY2FzZSA0IC8qIFR5cGVPcmRlci5TZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZ2V0UHJldmlvdXNWYWx1ZShlKTtcbiAgICAgICAgcmV0dXJuIHQgPyAxNiArIF9fUFJJVkFURV9lc3RpbWF0ZUJ5dGVTaXplKHQpIDogMTY7XG5cbiAgICAgIGNhc2UgNSAvKiBUeXBlT3JkZXIuU3RyaW5nVmFsdWUgKi8gOlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9EYXRhX3N0cnVjdHVyZXM6XG4gICAgICAgIC8vIFwiSmF2YVNjcmlwdCdzIFN0cmluZyB0eXBlIGlzIFsuLi5dIGEgc2V0IG9mIGVsZW1lbnRzIG9mIDE2LWJpdCB1bnNpZ25lZFxuICAgICAgICAvLyBpbnRlZ2VyIHZhbHVlc1wiXG4gICAgICAgIHJldHVybiAyICogZS5zdHJpbmdWYWx1ZS5sZW5ndGg7XG5cbiAgICAgIGNhc2UgNiAvKiBUeXBlT3JkZXIuQmxvYlZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUuYnl0ZXNWYWx1ZSkuYXBwcm94aW1hdGVCeXRlU2l6ZSgpO1xuXG4gICAgICBjYXNlIDcgLyogVHlwZU9yZGVyLlJlZlZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGUucmVmZXJlbmNlVmFsdWUubGVuZ3RoO1xuXG4gICAgICBjYXNlIDkgLyogVHlwZU9yZGVyLkFycmF5VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2VzdGltYXRlQXJyYXlCeXRlU2l6ZShlKSB7XG4gICAgICAgICAgICByZXR1cm4gKGUudmFsdWVzIHx8IFtdKS5yZWR1Y2UoKChlLCB0KSA9PiBlICsgX19QUklWQVRFX2VzdGltYXRlQnl0ZVNpemUodCkpLCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogUmV0dXJucyBhIHJlZmVyZW5jZSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIGRhdGFiYXNlIGFuZCBrZXkuICovIChlLmFycmF5VmFsdWUpO1xuXG4gICAgICBjYXNlIDEwIC8qIFR5cGVPcmRlci5PYmplY3RWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZXN0aW1hdGVNYXBCeXRlU2l6ZShlKSB7XG4gICAgICAgICAgICBsZXQgdCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gZm9yRWFjaChlLmZpZWxkcywgKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgdCArPSBlLmxlbmd0aCArIF9fUFJJVkFURV9lc3RpbWF0ZUJ5dGVTaXplKG4pO1xuICAgICAgICAgICAgfSkpLCB0O1xuICAgICAgICB9KGUubWFwVmFsdWUpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcmVmVmFsdWUoZSwgdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZmVyZW5jZVZhbHVlOiBgcHJvamVjdHMvJHtlLnByb2plY3RJZH0vZGF0YWJhc2VzLyR7ZS5kYXRhYmFzZX0vZG9jdW1lbnRzLyR7dC5wYXRoLmNhbm9uaWNhbFN0cmluZygpfWBcbiAgICB9O1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYW4gSW50ZWdlclZhbHVlIC4gKi8gZnVuY3Rpb24gaXNJbnRlZ2VyKGUpIHtcbiAgICByZXR1cm4gISFlICYmIFwiaW50ZWdlclZhbHVlXCIgaW4gZTtcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGEgRG91YmxlVmFsdWUuICovXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYW4gQXJyYXlWYWx1ZS4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkoZSkge1xuICAgIHJldHVybiAhIWUgJiYgXCJhcnJheVZhbHVlXCIgaW4gZTtcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGEgTnVsbFZhbHVlLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNOdWxsVmFsdWUoZSkge1xuICAgIHJldHVybiAhIWUgJiYgXCJudWxsVmFsdWVcIiBpbiBlO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgTmFOLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNOYW5WYWx1ZShlKSB7XG4gICAgcmV0dXJuICEhZSAmJiBcImRvdWJsZVZhbHVlXCIgaW4gZSAmJiBpc05hTihOdW1iZXIoZS5kb3VibGVWYWx1ZSkpO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYSBNYXBWYWx1ZS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzTWFwVmFsdWUoZSkge1xuICAgIHJldHVybiAhIWUgJiYgXCJtYXBWYWx1ZVwiIGluIGU7XG59XG5cbi8qKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIGBzb3VyY2VgLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZGVlcENsb25lKGUpIHtcbiAgICBpZiAoZS5nZW9Qb2ludFZhbHVlKSByZXR1cm4ge1xuICAgICAgICBnZW9Qb2ludFZhbHVlOiBPYmplY3QuYXNzaWduKHt9LCBlLmdlb1BvaW50VmFsdWUpXG4gICAgfTtcbiAgICBpZiAoZS50aW1lc3RhbXBWYWx1ZSAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBlLnRpbWVzdGFtcFZhbHVlKSByZXR1cm4ge1xuICAgICAgICB0aW1lc3RhbXBWYWx1ZTogT2JqZWN0LmFzc2lnbih7fSwgZS50aW1lc3RhbXBWYWx1ZSlcbiAgICB9O1xuICAgIGlmIChlLm1hcFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgICBtYXBWYWx1ZToge1xuICAgICAgICAgICAgICAgIGZpZWxkczoge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZvckVhY2goZS5tYXBWYWx1ZS5maWVsZHMsICgoZSwgbikgPT4gdC5tYXBWYWx1ZS5maWVsZHNbZV0gPSBfX1BSSVZBVEVfZGVlcENsb25lKG4pKSksIFxuICAgICAgICB0O1xuICAgIH1cbiAgICBpZiAoZS5hcnJheVZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgICBhcnJheVZhbHVlOiB7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IChlLmFycmF5VmFsdWUudmFsdWVzIHx8IFtdKS5sZW5ndGg7ICsrbikgdC5hcnJheVZhbHVlLnZhbHVlc1tuXSA9IF9fUFJJVkFURV9kZWVwQ2xvbmUoZS5hcnJheVZhbHVlLnZhbHVlc1tuXSk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZSk7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIFZhbHVlIHJlcHJlc2VudHMgdGhlIGNhbm9uaWNhbCB7QGxpbmsgI01BWF9WQUxVRX0gLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNNYXhWYWx1ZShlKSB7XG4gICAgcmV0dXJuIFwiX19tYXhfX1wiID09PSAoKChlLm1hcFZhbHVlIHx8IHt9KS5maWVsZHMgfHwge30pLl9fdHlwZV9fIHx8IHt9KS5zdHJpbmdWYWx1ZTtcbn1cblxuLyoqIFJldHVybnMgdGhlIGxvd2VzdCB2YWx1ZSBmb3IgdGhlIGdpdmVuIHZhbHVlIHR5cGUgKGluY2x1c2l2ZSkuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWx1ZXNHZXRMb3dlckJvdW5kKGUpIHtcbiAgICByZXR1cm4gXCJudWxsVmFsdWVcIiBpbiBlID8gaWUgOiBcImJvb2xlYW5WYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIGJvb2xlYW5WYWx1ZTogITFcbiAgICB9IDogXCJpbnRlZ2VyVmFsdWVcIiBpbiBlIHx8IFwiZG91YmxlVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBkb3VibGVWYWx1ZTogTmFOXG4gICAgfSA6IFwidGltZXN0YW1wVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICB0aW1lc3RhbXBWYWx1ZToge1xuICAgICAgICAgICAgc2Vjb25kczogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVJcbiAgICAgICAgfVxuICAgIH0gOiBcInN0cmluZ1ZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgc3RyaW5nVmFsdWU6IFwiXCJcbiAgICB9IDogXCJieXRlc1ZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgYnl0ZXNWYWx1ZTogXCJcIlxuICAgIH0gOiBcInJlZmVyZW5jZVZhbHVlXCIgaW4gZSA/IF9fUFJJVkFURV9yZWZWYWx1ZShEYXRhYmFzZUlkLmVtcHR5KCksIERvY3VtZW50S2V5LmVtcHR5KCkpIDogXCJnZW9Qb2ludFZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgZ2VvUG9pbnRWYWx1ZToge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IC05MCxcbiAgICAgICAgICAgIGxvbmdpdHVkZTogLTE4MFxuICAgICAgICB9XG4gICAgfSA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIGFycmF5VmFsdWU6IHt9XG4gICAgfSA6IFwibWFwVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBtYXBWYWx1ZToge31cbiAgICB9IDogZmFpbCgpO1xufVxuXG4vKiogUmV0dXJucyB0aGUgbGFyZ2VzdCB2YWx1ZSBmb3IgdGhlIGdpdmVuIHZhbHVlIHR5cGUgKGV4Y2x1c2l2ZSkuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWx1ZXNHZXRVcHBlckJvdW5kKGUpIHtcbiAgICByZXR1cm4gXCJudWxsVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBib29sZWFuVmFsdWU6ICExXG4gICAgfSA6IFwiYm9vbGVhblZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgZG91YmxlVmFsdWU6IE5hTlxuICAgIH0gOiBcImludGVnZXJWYWx1ZVwiIGluIGUgfHwgXCJkb3VibGVWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIHRpbWVzdGFtcFZhbHVlOiB7XG4gICAgICAgICAgICBzZWNvbmRzOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUlxuICAgICAgICB9XG4gICAgfSA6IFwidGltZXN0YW1wVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBzdHJpbmdWYWx1ZTogXCJcIlxuICAgIH0gOiBcInN0cmluZ1ZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgYnl0ZXNWYWx1ZTogXCJcIlxuICAgIH0gOiBcImJ5dGVzVmFsdWVcIiBpbiBlID8gX19QUklWQVRFX3JlZlZhbHVlKERhdGFiYXNlSWQuZW1wdHkoKSwgRG9jdW1lbnRLZXkuZW1wdHkoKSkgOiBcInJlZmVyZW5jZVZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgZ2VvUG9pbnRWYWx1ZToge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IC05MCxcbiAgICAgICAgICAgIGxvbmdpdHVkZTogLTE4MFxuICAgICAgICB9XG4gICAgfSA6IFwiZ2VvUG9pbnRWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIGFycmF5VmFsdWU6IHt9XG4gICAgfSA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIG1hcFZhbHVlOiB7fVxuICAgIH0gOiBcIm1hcFZhbHVlXCIgaW4gZSA/IHJlIDogZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG93ZXJCb3VuZENvbXBhcmUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfdmFsdWVDb21wYXJlKGUudmFsdWUsIHQudmFsdWUpO1xuICAgIHJldHVybiAwICE9PSBuID8gbiA6IGUuaW5jbHVzaXZlICYmICF0LmluY2x1c2l2ZSA/IC0xIDogIWUuaW5jbHVzaXZlICYmIHQuaW5jbHVzaXZlID8gMSA6IDA7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV91cHBlckJvdW5kQ29tcGFyZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV92YWx1ZUNvbXBhcmUoZS52YWx1ZSwgdC52YWx1ZSk7XG4gICAgcmV0dXJuIDAgIT09IG4gPyBuIDogZS5pbmNsdXNpdmUgJiYgIXQuaW5jbHVzaXZlID8gMSA6ICFlLmluY2x1c2l2ZSAmJiB0LmluY2x1c2l2ZSA/IC0xIDogMDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gT2JqZWN0VmFsdWUgcmVwcmVzZW50cyBhIE1hcFZhbHVlIGluIHRoZSBGaXJlc3RvcmUgUHJvdG8gYW5kIG9mZmVycyB0aGVcbiAqIGFiaWxpdHkgdG8gYWRkIGFuZCByZW1vdmUgZmllbGRzICh2aWEgdGhlIE9iamVjdFZhbHVlQnVpbGRlcikuXG4gKi8gY2xhc3MgT2JqZWN0VmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGU7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RWYWx1ZSh7XG4gICAgICAgICAgICBtYXBWYWx1ZToge31cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIGF0IHRoZSBnaXZlbiBwYXRoIG9yIG51bGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIHRoZSBwYXRoIHRvIHNlYXJjaFxuICAgICAqIEByZXR1cm5zIFRoZSB2YWx1ZSBhdCB0aGUgcGF0aCBvciBudWxsIGlmIHRoZSBwYXRoIGlzIG5vdCBzZXQuXG4gICAgICovICAgIGZpZWxkKGUpIHtcbiAgICAgICAgaWYgKGUuaXNFbXB0eSgpKSByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLmxlbmd0aCAtIDE7ICsrbikgaWYgKHQgPSAodC5tYXBWYWx1ZS5maWVsZHMgfHwge30pW2UuZ2V0KG4pXSwgXG4gICAgICAgICAgICAhX19QUklWQVRFX2lzTWFwVmFsdWUodCkpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHQgPSAodC5tYXBWYWx1ZS5maWVsZHMgfHwge30pW2UubGFzdFNlZ21lbnQoKV0sIHQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmaWVsZCB0byB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBmaWVsZCBwYXRoIHRvIHNldC5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqLyAgICBzZXQoZSwgdCkge1xuICAgICAgICB0aGlzLmdldEZpZWxkc01hcChlLnBvcExhc3QoKSlbZS5sYXN0U2VnbWVudCgpXSA9IF9fUFJJVkFURV9kZWVwQ2xvbmUodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByb3ZpZGVkIGZpZWxkcyB0byB0aGUgcHJvdmlkZWQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGEgLSBBIG1hcCBvZiBmaWVsZHMgdG8gdmFsdWVzIChvciBudWxsIGZvciBkZWxldGVzKS5cbiAgICAgKi8gICAgc2V0QWxsKGUpIHtcbiAgICAgICAgbGV0IHQgPSBGaWVsZFBhdGgkMS5lbXB0eVBhdGgoKSwgbiA9IHt9LCByID0gW107XG4gICAgICAgIGUuZm9yRWFjaCgoKGUsIGkpID0+IHtcbiAgICAgICAgICAgIGlmICghdC5pc0ltbWVkaWF0ZVBhcmVudE9mKGkpKSB7XG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBhY2N1bXVsYXRlZCBjaGFuZ2VzIGF0IHRoaXMgcGFyZW50IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuZ2V0RmllbGRzTWFwKHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlDaGFuZ2VzKGUsIG4sIHIpLCBuID0ge30sIHIgPSBbXSwgdCA9IGkucG9wTGFzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZSA/IG5baS5sYXN0U2VnbWVudCgpXSA9IF9fUFJJVkFURV9kZWVwQ2xvbmUoZSkgOiByLnB1c2goaS5sYXN0U2VnbWVudCgpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5nZXRGaWVsZHNNYXAodCk7XG4gICAgICAgIHRoaXMuYXBwbHlDaGFuZ2VzKGksIG4sIHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBmaWVsZCBhdCB0aGUgc3BlY2lmaWVkIHBhdGguIElmIHRoZXJlIGlzIG5vIGZpZWxkIGF0IHRoZVxuICAgICAqIHNwZWNpZmllZCBwYXRoLCBub3RoaW5nIGlzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBmaWVsZCBwYXRoIHRvIHJlbW92ZS5cbiAgICAgKi8gICAgZGVsZXRlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZmllbGQoZS5wb3BMYXN0KCkpO1xuICAgICAgICBfX1BSSVZBVEVfaXNNYXBWYWx1ZSh0KSAmJiB0Lm1hcFZhbHVlLmZpZWxkcyAmJiBkZWxldGUgdC5tYXBWYWx1ZS5maWVsZHNbZS5sYXN0U2VnbWVudCgpXTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsdWVFcXVhbHModGhpcy52YWx1ZSwgZS52YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCB0aGF0IGNvbnRhaW5zIHRoZSBsZWFmIGVsZW1lbnQgb2YgYHBhdGhgLiBJZiB0aGUgcGFyZW50XG4gICAgICogZW50cnkgZG9lcyBub3QgeWV0IGV4aXN0LCBvciBpZiBpdCBpcyBub3QgYSBtYXAsIGEgbmV3IG1hcCB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICovICAgIGdldEZpZWxkc01hcChlKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdC5tYXBWYWx1ZS5maWVsZHMgfHwgKHQubWFwVmFsdWUgPSB7XG4gICAgICAgICAgICBmaWVsZHM6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUubGVuZ3RoOyArK24pIHtcbiAgICAgICAgICAgIGxldCByID0gdC5tYXBWYWx1ZS5maWVsZHNbZS5nZXQobildO1xuICAgICAgICAgICAgX19QUklWQVRFX2lzTWFwVmFsdWUocikgJiYgci5tYXBWYWx1ZS5maWVsZHMgfHwgKHIgPSB7XG4gICAgICAgICAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzOiB7fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHQubWFwVmFsdWUuZmllbGRzW2UuZ2V0KG4pXSA9IHIpLCB0ID0gcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdC5tYXBWYWx1ZS5maWVsZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIGBmaWVsZHNNYXBgIGJ5IGFkZGluZywgcmVwbGFjaW5nIG9yIGRlbGV0aW5nIHRoZSBzcGVjaWZpZWRcbiAgICAgKiBlbnRyaWVzLlxuICAgICAqLyAgICBhcHBseUNoYW5nZXMoZSwgdCwgbikge1xuICAgICAgICBmb3JFYWNoKHQsICgodCwgbikgPT4gZVt0XSA9IG4pKTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIG4pIGRlbGV0ZSBlW3RdO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RWYWx1ZShfX1BSSVZBVEVfZGVlcENsb25lKHRoaXMudmFsdWUpKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIEZpZWxkTWFzayBidWlsdCBmcm9tIGFsbCBmaWVsZHMgaW4gYSBNYXBWYWx1ZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZXh0cmFjdEZpZWxkTWFzayhlKSB7XG4gICAgY29uc3QgdCA9IFtdO1xuICAgIHJldHVybiBmb3JFYWNoKGUuZmllbGRzLCAoKGUsIG4pID0+IHtcbiAgICAgICAgY29uc3QgciA9IG5ldyBGaWVsZFBhdGgkMShbIGUgXSk7XG4gICAgICAgIGlmIChfX1BSSVZBVEVfaXNNYXBWYWx1ZShuKSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9leHRyYWN0RmllbGRNYXNrKG4ubWFwVmFsdWUpLmZpZWxkcztcbiAgICAgICAgICAgIGlmICgwID09PSBlLmxlbmd0aCkgXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSB0aGUgZW1wdHkgbWFwIGJ5IGFkZGluZyBpdCB0byB0aGUgRmllbGRNYXNrLlxuICAgICAgICAgICAgdC5wdXNoKHIpOyBlbHNlIFxuICAgICAgICAgICAgLy8gRm9yIG5lc3RlZCBhbmQgbm9uLWVtcHR5IE9iamVjdFZhbHVlcywgYWRkIHRoZSBGaWVsZFBhdGggb2YgdGhlXG4gICAgICAgICAgICAvLyBsZWFmIG5vZGVzLlxuICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIGUpIHQucHVzaChyLmNoaWxkKG4pKTtcbiAgICAgICAgfSBlbHNlIFxuICAgICAgICAvLyBGb3IgbmVzdGVkIGFuZCBub24tZW1wdHkgT2JqZWN0VmFsdWVzLCBhZGQgdGhlIEZpZWxkUGF0aCBvZiB0aGUgbGVhZlxuICAgICAgICAvLyBub2Rlcy5cbiAgICAgICAgdC5wdXNoKHIpO1xuICAgIH0pKSwgbmV3IEZpZWxkTWFzayh0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGRvY3VtZW50IGluIEZpcmVzdG9yZSB3aXRoIGEga2V5LCB2ZXJzaW9uLCBkYXRhIGFuZCB3aGV0aGVyIGl0XG4gKiBoYXMgbG9jYWwgbXV0YXRpb25zIGFwcGxpZWQgdG8gaXQuXG4gKlxuICogRG9jdW1lbnRzIGNhbiB0cmFuc2l0aW9uIGJldHdlZW4gc3RhdGVzIHZpYSBgY29udmVydFRvRm91bmREb2N1bWVudCgpYCxcbiAqIGBjb252ZXJ0VG9Ob0RvY3VtZW50KClgIGFuZCBgY29udmVydFRvVW5rbm93bkRvY3VtZW50KClgLiBJZiBhIGRvY3VtZW50IGRvZXNcbiAqIG5vdCB0cmFuc2l0aW9uIHRvIG9uZSBvZiB0aGVzZSBzdGF0ZXMgZXZlbiBhZnRlciBhbGwgbXV0YXRpb25zIGhhdmUgYmVlblxuICogYXBwbGllZCwgYGlzVmFsaWREb2N1bWVudCgpYCByZXR1cm5zIGZhbHNlIGFuZCB0aGUgZG9jdW1lbnQgc2hvdWxkIGJlIHJlbW92ZWRcbiAqIGZyb20gYWxsIHZpZXdzLlxuICovIGNsYXNzIE11dGFibGVEb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSwgcywgbykge1xuICAgICAgICB0aGlzLmtleSA9IGUsIHRoaXMuZG9jdW1lbnRUeXBlID0gdCwgdGhpcy52ZXJzaW9uID0gbiwgdGhpcy5yZWFkVGltZSA9IHIsIHRoaXMuY3JlYXRlVGltZSA9IGksIFxuICAgICAgICB0aGlzLmRhdGEgPSBzLCB0aGlzLmRvY3VtZW50U3RhdGUgPSBvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZG9jdW1lbnQgd2l0aCBubyBrbm93biB2ZXJzaW9uIG9yIGRhdGEsIGJ1dCB3aGljaCBjYW4gc2VydmUgYXNcbiAgICAgKiBiYXNlIGRvY3VtZW50IGZvciBtdXRhdGlvbnMuXG4gICAgICovICAgIHN0YXRpYyBuZXdJbnZhbGlkRG9jdW1lbnQoZSkge1xuICAgICAgICByZXR1cm4gbmV3IE11dGFibGVEb2N1bWVudChlLCAwIC8qIERvY3VtZW50VHlwZS5JTlZBTElEICovICwgXG4gICAgICAgIC8qIHZlcnNpb24gKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogcmVhZFRpbWUgKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogY3JlYXRlVGltZSAqLyBTbmFwc2hvdFZlcnNpb24ubWluKCksIE9iamVjdFZhbHVlLmVtcHR5KCksIDAgLyogRG9jdW1lbnRTdGF0ZS5TWU5DRUQgKi8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGRvY3VtZW50IHRoYXQgaXMga25vd24gdG8gZXhpc3Qgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBhdCB0aGVcbiAgICAgKiBnaXZlbiB2ZXJzaW9uLlxuICAgICAqLyAgICBzdGF0aWMgbmV3Rm91bmREb2N1bWVudChlLCB0LCBuLCByKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXV0YWJsZURvY3VtZW50KGUsIDEgLyogRG9jdW1lbnRUeXBlLkZPVU5EX0RPQ1VNRU5UICovICwgXG4gICAgICAgIC8qIHZlcnNpb24gKi8gdCwgXG4gICAgICAgIC8qIHJlYWRUaW1lICovIFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXG4gICAgICAgIC8qIGNyZWF0ZVRpbWUgKi8gbiwgciwgMCAvKiBEb2N1bWVudFN0YXRlLlNZTkNFRCAqLyk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IGRvY3VtZW50IHRoYXQgaXMga25vd24gdG8gbm90IGV4aXN0IGF0IHRoZSBnaXZlbiB2ZXJzaW9uLiAqLyAgICBzdGF0aWMgbmV3Tm9Eb2N1bWVudChlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTXV0YWJsZURvY3VtZW50KGUsIDIgLyogRG9jdW1lbnRUeXBlLk5PX0RPQ1VNRU5UICovICwgXG4gICAgICAgIC8qIHZlcnNpb24gKi8gdCwgXG4gICAgICAgIC8qIHJlYWRUaW1lICovIFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXG4gICAgICAgIC8qIGNyZWF0ZVRpbWUgKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBPYmplY3RWYWx1ZS5lbXB0eSgpLCAwIC8qIERvY3VtZW50U3RhdGUuU1lOQ0VEICovKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBkb2N1bWVudCB0aGF0IGlzIGtub3duIHRvIGV4aXN0IGF0IHRoZSBnaXZlbiB2ZXJzaW9uIGJ1dFxuICAgICAqIHdob3NlIGRhdGEgaXMgbm90IGtub3duIChlLmcuIGEgZG9jdW1lbnQgdGhhdCB3YXMgdXBkYXRlZCB3aXRob3V0IGEga25vd25cbiAgICAgKiBiYXNlIGRvY3VtZW50KS5cbiAgICAgKi8gICAgc3RhdGljIG5ld1Vua25vd25Eb2N1bWVudChlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTXV0YWJsZURvY3VtZW50KGUsIDMgLyogRG9jdW1lbnRUeXBlLlVOS05PV05fRE9DVU1FTlQgKi8gLCBcbiAgICAgICAgLyogdmVyc2lvbiAqLyB0LCBcbiAgICAgICAgLyogcmVhZFRpbWUgKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogY3JlYXRlVGltZSAqLyBTbmFwc2hvdFZlcnNpb24ubWluKCksIE9iamVjdFZhbHVlLmVtcHR5KCksIDIgLyogRG9jdW1lbnRTdGF0ZS5IQVNfQ09NTUlUVEVEX01VVEFUSU9OUyAqLyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGRvY3VtZW50IHR5cGUgdG8gaW5kaWNhdGUgdGhhdCBpdCBleGlzdHMgYW5kIHRoYXQgaXRzIHZlcnNpb25cbiAgICAgKiBhbmQgZGF0YSBhcmUga25vd24uXG4gICAgICovICAgIGNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICAvLyBJZiBhIGRvY3VtZW50IGlzIHN3aXRjaGluZyBzdGF0ZSBmcm9tIGJlaW5nIGFuIGludmFsaWQgb3IgZGVsZXRlZFxuICAgICAgICAvLyBkb2N1bWVudCB0byBhIHZhbGlkIChGT1VORF9ET0NVTUVOVCkgZG9jdW1lbnQsIGVpdGhlciBkdWUgdG8gcmVjZWl2aW5nIGFuXG4gICAgICAgIC8vIHVwZGF0ZSBmcm9tIFdhdGNoIG9yIGR1ZSB0byBhcHBseWluZyBhIGxvY2FsIHNldCBtdXRhdGlvbiBvbiB0b3BcbiAgICAgICAgLy8gb2YgYSBkZWxldGVkIGRvY3VtZW50LCBvdXIgYmVzdCBndWVzcyBhYm91dCBpdHMgY3JlYXRlVGltZSB3b3VsZCBiZSB0aGVcbiAgICAgICAgLy8gdmVyc2lvbiBhdCB3aGljaCB0aGUgZG9jdW1lbnQgdHJhbnNpdGlvbmVkIHRvIGEgRk9VTkRfRE9DVU1FTlQuXG4gICAgICAgIHJldHVybiAhdGhpcy5jcmVhdGVUaW1lLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSB8fCAyIC8qIERvY3VtZW50VHlwZS5OT19ET0NVTUVOVCAqLyAhPT0gdGhpcy5kb2N1bWVudFR5cGUgJiYgMCAvKiBEb2N1bWVudFR5cGUuSU5WQUxJRCAqLyAhPT0gdGhpcy5kb2N1bWVudFR5cGUgfHwgKHRoaXMuY3JlYXRlVGltZSA9IGUpLCBcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gZSwgdGhpcy5kb2N1bWVudFR5cGUgPSAxIC8qIERvY3VtZW50VHlwZS5GT1VORF9ET0NVTUVOVCAqLyAsIHRoaXMuZGF0YSA9IHQsIFxuICAgICAgICB0aGlzLmRvY3VtZW50U3RhdGUgPSAwIC8qIERvY3VtZW50U3RhdGUuU1lOQ0VEICovICwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgZG9jdW1lbnQgdHlwZSB0byBpbmRpY2F0ZSB0aGF0IGl0IGRvZXNuJ3QgZXhpc3QgYXQgdGhlIGdpdmVuXG4gICAgICogdmVyc2lvbi5cbiAgICAgKi8gICAgY29udmVydFRvTm9Eb2N1bWVudChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnNpb24gPSBlLCB0aGlzLmRvY3VtZW50VHlwZSA9IDIgLyogRG9jdW1lbnRUeXBlLk5PX0RPQ1VNRU5UICovICwgXG4gICAgICAgIHRoaXMuZGF0YSA9IE9iamVjdFZhbHVlLmVtcHR5KCksIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDAgLyogRG9jdW1lbnRTdGF0ZS5TWU5DRUQgKi8gLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgZG9jdW1lbnQgdHlwZSB0byBpbmRpY2F0ZSB0aGF0IGl0IGV4aXN0cyBhdCBhIGdpdmVuIHZlcnNpb24gYnV0XG4gICAgICogdGhhdCBpdHMgZGF0YSBpcyBub3Qga25vd24gKGUuZy4gYSBkb2N1bWVudCB0aGF0IHdhcyB1cGRhdGVkIHdpdGhvdXQgYSBrbm93blxuICAgICAqIGJhc2UgZG9jdW1lbnQpLlxuICAgICAqLyAgICBjb252ZXJ0VG9Vbmtub3duRG9jdW1lbnQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uID0gZSwgdGhpcy5kb2N1bWVudFR5cGUgPSAzIC8qIERvY3VtZW50VHlwZS5VTktOT1dOX0RPQ1VNRU5UICovICwgXG4gICAgICAgIHRoaXMuZGF0YSA9IE9iamVjdFZhbHVlLmVtcHR5KCksIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDIgLyogRG9jdW1lbnRTdGF0ZS5IQVNfQ09NTUlUVEVEX01VVEFUSU9OUyAqLyAsIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBzZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50U3RhdGUgPSAyIC8qIERvY3VtZW50U3RhdGUuSEFTX0NPTU1JVFRFRF9NVVRBVElPTlMgKi8gLCB0aGlzO1xuICAgIH1cbiAgICBzZXRIYXNMb2NhbE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDEgLyogRG9jdW1lbnRTdGF0ZS5IQVNfTE9DQUxfTVVUQVRJT05TICovICwgdGhpcy52ZXJzaW9uID0gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgc2V0UmVhZFRpbWUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkVGltZSA9IGUsIHRoaXM7XG4gICAgfVxuICAgIGdldCBoYXNMb2NhbE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIDEgLyogRG9jdW1lbnRTdGF0ZS5IQVNfTE9DQUxfTVVUQVRJT05TICovID09PSB0aGlzLmRvY3VtZW50U3RhdGU7XG4gICAgfVxuICAgIGdldCBoYXNDb21taXR0ZWRNdXRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiAyIC8qIERvY3VtZW50U3RhdGUuSEFTX0NPTU1JVFRFRF9NVVRBVElPTlMgKi8gPT09IHRoaXMuZG9jdW1lbnRTdGF0ZTtcbiAgICB9XG4gICAgZ2V0IGhhc1BlbmRpbmdXcml0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc0xvY2FsTXV0YXRpb25zIHx8IHRoaXMuaGFzQ29tbWl0dGVkTXV0YXRpb25zO1xuICAgIH1cbiAgICBpc1ZhbGlkRG9jdW1lbnQoKSB7XG4gICAgICAgIHJldHVybiAwIC8qIERvY3VtZW50VHlwZS5JTlZBTElEICovICE9PSB0aGlzLmRvY3VtZW50VHlwZTtcbiAgICB9XG4gICAgaXNGb3VuZERvY3VtZW50KCkge1xuICAgICAgICByZXR1cm4gMSAvKiBEb2N1bWVudFR5cGUuRk9VTkRfRE9DVU1FTlQgKi8gPT09IHRoaXMuZG9jdW1lbnRUeXBlO1xuICAgIH1cbiAgICBpc05vRG9jdW1lbnQoKSB7XG4gICAgICAgIHJldHVybiAyIC8qIERvY3VtZW50VHlwZS5OT19ET0NVTUVOVCAqLyA9PT0gdGhpcy5kb2N1bWVudFR5cGU7XG4gICAgfVxuICAgIGlzVW5rbm93bkRvY3VtZW50KCkge1xuICAgICAgICByZXR1cm4gMyAvKiBEb2N1bWVudFR5cGUuVU5LTk9XTl9ET0NVTUVOVCAqLyA9PT0gdGhpcy5kb2N1bWVudFR5cGU7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIE11dGFibGVEb2N1bWVudCAmJiB0aGlzLmtleS5pc0VxdWFsKGUua2V5KSAmJiB0aGlzLnZlcnNpb24uaXNFcXVhbChlLnZlcnNpb24pICYmIHRoaXMuZG9jdW1lbnRUeXBlID09PSBlLmRvY3VtZW50VHlwZSAmJiB0aGlzLmRvY3VtZW50U3RhdGUgPT09IGUuZG9jdW1lbnRTdGF0ZSAmJiB0aGlzLmRhdGEuaXNFcXVhbChlLmRhdGEpO1xuICAgIH1cbiAgICBtdXRhYmxlQ29weSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdXRhYmxlRG9jdW1lbnQodGhpcy5rZXksIHRoaXMuZG9jdW1lbnRUeXBlLCB0aGlzLnZlcnNpb24sIHRoaXMucmVhZFRpbWUsIHRoaXMuY3JlYXRlVGltZSwgdGhpcy5kYXRhLmNsb25lKCksIHRoaXMuZG9jdW1lbnRTdGF0ZSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYERvY3VtZW50KCR7dGhpcy5rZXl9LCAke3RoaXMudmVyc2lvbn0sICR7SlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLnZhbHVlKX0sIHtjcmVhdGVUaW1lOiAke3RoaXMuY3JlYXRlVGltZX19KSwge2RvY3VtZW50VHlwZTogJHt0aGlzLmRvY3VtZW50VHlwZX19KSwge2RvY3VtZW50U3RhdGU6ICR7dGhpcy5kb2N1bWVudFN0YXRlfX0pYDtcbiAgICB9XG59XG5cbi8qKlxuICogQ29tcGFyZXMgdGhlIHZhbHVlIGZvciBmaWVsZCBgZmllbGRgIGluIHRoZSBwcm92aWRlZCBkb2N1bWVudHMuIFRocm93cyBpZlxuICogdGhlIGZpZWxkIGRvZXMgbm90IGV4aXN0IGluIGJvdGggZG9jdW1lbnRzLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgYm91bmQgb2YgYSBxdWVyeS5cbiAqXG4gKiBUaGUgYm91bmQgaXMgc3BlY2lmaWVkIHdpdGggdGhlIGdpdmVuIGNvbXBvbmVudHMgcmVwcmVzZW50aW5nIGEgcG9zaXRpb24gYW5kXG4gKiB3aGV0aGVyIGl0J3MganVzdCBiZWZvcmUgb3IganVzdCBhZnRlciB0aGUgcG9zaXRpb24gKHJlbGF0aXZlIHRvIHdoYXRldmVyIHRoZVxuICogcXVlcnkgb3JkZXIgaXMpLlxuICpcbiAqIFRoZSBwb3NpdGlvbiByZXByZXNlbnRzIGEgbG9naWNhbCBpbmRleCBwb3NpdGlvbiBmb3IgYSBxdWVyeS4gSXQncyBhIHByZWZpeFxuICogb2YgdmFsdWVzIGZvciB0aGUgKHBvdGVudGlhbGx5IGltcGxpY2l0KSBvcmRlciBieSBjbGF1c2VzIG9mIGEgcXVlcnkuXG4gKlxuICogQm91bmQgcHJvdmlkZXMgYSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRvY3VtZW50IGNvbWVzIGJlZm9yZSBvclxuICogYWZ0ZXIgYSBib3VuZC4gVGhpcyBpcyBpbmZsdWVuY2VkIGJ5IHdoZXRoZXIgdGhlIHBvc2l0aW9uIGlzIGp1c3QgYmVmb3JlIG9yXG4gKiBqdXN0IGFmdGVyIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG4gKi9cbmNsYXNzIEJvdW5kIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBlLCB0aGlzLmluY2x1c2l2ZSA9IHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfYm91bmRDb21wYXJlVG9Eb2N1bWVudChlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS5wb3NpdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzID0gdFtpXSwgbyA9IGUucG9zaXRpb25baV07XG4gICAgICAgIGlmIChzLmZpZWxkLmlzS2V5RmllbGQoKSkgciA9IERvY3VtZW50S2V5LmNvbXBhcmF0b3IoRG9jdW1lbnRLZXkuZnJvbU5hbWUoby5yZWZlcmVuY2VWYWx1ZSksIG4ua2V5KTsgZWxzZSB7XG4gICAgICAgICAgICByID0gX19QUklWQVRFX3ZhbHVlQ29tcGFyZShvLCBuLmRhdGEuZmllbGQocy5maWVsZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImRlc2NcIiAvKiBEaXJlY3Rpb24uREVTQ0VORElORyAqLyA9PT0gcy5kaXIgJiYgKHIgKj0gLTEpLCAwICE9PSByKSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZG9jdW1lbnQgc29ydHMgYWZ0ZXIgYSBib3VuZCB1c2luZyB0aGUgcHJvdmlkZWQgc29ydFxuICogb3JkZXIuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2JvdW5kRXF1YWxzKGUsIHQpIHtcbiAgICBpZiAobnVsbCA9PT0gZSkgcmV0dXJuIG51bGwgPT09IHQ7XG4gICAgaWYgKG51bGwgPT09IHQpIHJldHVybiAhMTtcbiAgICBpZiAoZS5pbmNsdXNpdmUgIT09IHQuaW5jbHVzaXZlIHx8IGUucG9zaXRpb24ubGVuZ3RoICE9PSB0LnBvc2l0aW9uLmxlbmd0aCkgcmV0dXJuICExO1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5wb3NpdGlvbi5sZW5ndGg7IG4rKykge1xuICAgICAgICBpZiAoIV9fUFJJVkFURV92YWx1ZUVxdWFscyhlLnBvc2l0aW9uW25dLCB0LnBvc2l0aW9uW25dKSkgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXR1cm4gITA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIG9yZGVyaW5nIG9uIGEgZmllbGQsIGluIHNvbWUgRGlyZWN0aW9uLiBEaXJlY3Rpb24gZGVmYXVsdHMgdG8gQVNDRU5ESU5HLlxuICovIGNsYXNzIE9yZGVyQnkge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQgPSBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8pIHtcbiAgICAgICAgdGhpcy5maWVsZCA9IGUsIHRoaXMuZGlyID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9vcmRlckJ5RXF1YWxzKGUsIHQpIHtcbiAgICByZXR1cm4gZS5kaXIgPT09IHQuZGlyICYmIGUuZmllbGQuaXNFcXVhbCh0LmZpZWxkKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgRmlsdGVyIHt9XG5cbmNsYXNzIEZpZWxkRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuZmllbGQgPSBlLCB0aGlzLm9wID0gdCwgdGhpcy52YWx1ZSA9IG47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmaWx0ZXIgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKi8gICAgc3RhdGljIGNyZWF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBlLmlzS2V5RmllbGQoKSA/IFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gdCB8fCBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA9PT0gdCA/IHRoaXMuY3JlYXRlS2V5RmllbGRJbkZpbHRlcihlLCB0LCBuKSA6IG5ldyBfX1BSSVZBVEVfS2V5RmllbGRGaWx0ZXIoZSwgdCwgbikgOiBcImFycmF5LWNvbnRhaW5zXCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlMgKi8gPT09IHQgPyBuZXcgX19QUklWQVRFX0FycmF5Q29udGFpbnNGaWx0ZXIoZSwgbikgOiBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gPT09IHQgPyBuZXcgX19QUklWQVRFX0luRmlsdGVyKGUsIG4pIDogXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gPT09IHQgPyBuZXcgX19QUklWQVRFX05vdEluRmlsdGVyKGUsIG4pIDogXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gPT09IHQgPyBuZXcgX19QUklWQVRFX0FycmF5Q29udGFpbnNBbnlGaWx0ZXIoZSwgbikgOiBuZXcgRmllbGRGaWx0ZXIoZSwgdCwgbik7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVLZXlGaWVsZEluRmlsdGVyKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gdCA/IG5ldyBfX1BSSVZBVEVfS2V5RmllbGRJbkZpbHRlcihlLCBuKSA6IG5ldyBfX1BSSVZBVEVfS2V5RmllbGROb3RJbkZpbHRlcihlLCBuKTtcbiAgICB9XG4gICAgbWF0Y2hlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmRhdGEuZmllbGQodGhpcy5maWVsZCk7XG4gICAgICAgIC8vIFR5cGVzIGRvIG5vdCBoYXZlIHRvIG1hdGNoIGluIE5PVF9FUVVBTCBmaWx0ZXJzLlxuICAgICAgICAgICAgICAgIHJldHVybiBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovID09PSB0aGlzLm9wID8gbnVsbCAhPT0gdCAmJiB0aGlzLm1hdGNoZXNDb21wYXJpc29uKF9fUFJJVkFURV92YWx1ZUNvbXBhcmUodCwgdGhpcy52YWx1ZSkpIDogbnVsbCAhPT0gdCAmJiBfX1BSSVZBVEVfdHlwZU9yZGVyKHRoaXMudmFsdWUpID09PSBfX1BSSVZBVEVfdHlwZU9yZGVyKHQpICYmIHRoaXMubWF0Y2hlc0NvbXBhcmlzb24oX19QUklWQVRFX3ZhbHVlQ29tcGFyZSh0LCB0aGlzLnZhbHVlKSk7XG4gICAgICAgIC8vIE9ubHkgY29tcGFyZSB0eXBlcyB3aXRoIG1hdGNoaW5nIGJhY2tlbmQgb3JkZXIgKHN1Y2ggYXMgZG91YmxlIGFuZCBpbnQpLlxuICAgICAgICB9XG4gICAgbWF0Y2hlc0NvbXBhcmlzb24oZSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMub3ApIHtcbiAgICAgICAgICBjYXNlIFwiPFwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gZSA8IDA7XG5cbiAgICAgICAgICBjYXNlIFwiPD1cIiAvKiBPcGVyYXRvci5MRVNTX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIGUgPD0gMDtcblxuICAgICAgICAgIGNhc2UgXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiAwID09PSBlO1xuXG4gICAgICAgICAgY2FzZSBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiAwICE9PSBlO1xuXG4gICAgICAgICAgY2FzZSBcIj5cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU4gKi8gOlxuICAgICAgICAgICAgcmV0dXJuIGUgPiAwO1xuXG4gICAgICAgICAgY2FzZSBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiBlID49IDA7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0luZXF1YWxpdHkoKSB7XG4gICAgICAgIHJldHVybiBbIFwiPFwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTiAqLyAsIFwiPD1cIiAvKiBPcGVyYXRvci5MRVNTX1RIQU5fT1JfRVFVQUwgKi8gLCBcIj5cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU4gKi8gLCBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovICwgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyAsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIF0uaW5kZXhPZih0aGlzLm9wKSA+PSAwO1xuICAgIH1cbiAgICBnZXRGbGF0dGVuZWRGaWx0ZXJzKCkge1xuICAgICAgICByZXR1cm4gWyB0aGlzIF07XG4gICAgfVxuICAgIGdldEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiBbIHRoaXMgXTtcbiAgICB9XG59XG5cbmNsYXNzIENvbXBvc2l0ZUZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmZpbHRlcnMgPSBlLCB0aGlzLm9wID0gdCwgdGhpcy5hZSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmaWx0ZXIgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKi8gICAgc3RhdGljIGNyZWF0ZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9zaXRlRmlsdGVyKGUsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKHRoaXMpID8gdm9pZCAwID09PSB0aGlzLmZpbHRlcnMuZmluZCgodCA9PiAhdC5tYXRjaGVzKGUpKSkgOiB2b2lkIDAgIT09IHRoaXMuZmlsdGVycy5maW5kKCh0ID0+IHQubWF0Y2hlcyhlKSkpO1xuICAgIH1cbiAgICBnZXRGbGF0dGVuZWRGaWx0ZXJzKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5hZSB8fCAodGhpcy5hZSA9IHRoaXMuZmlsdGVycy5yZWR1Y2UoKChlLCB0KSA9PiBlLmNvbmNhdCh0LmdldEZsYXR0ZW5lZEZpbHRlcnMoKSkpLCBbXSkpLCBcbiAgICAgICAgdGhpcy5hZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIG11dGFibGUgY29weSBvZiBgdGhpcy5maWx0ZXJzYFxuICAgIGdldEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFtdLCB0aGlzLmZpbHRlcnMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24oZSkge1xuICAgIHJldHVybiBcImFuZFwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLkFORCAqLyA9PT0gZS5vcDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRGlzanVuY3Rpb24oZSkge1xuICAgIHJldHVybiBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi8gPT09IGUub3A7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZmlsdGVyIGlzIGEgY29uanVuY3Rpb24gb2YgZmllbGQgZmlsdGVycyBvbmx5LiBSZXR1cm5zIGZhbHNlIG90aGVyd2lzZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0Q29uanVuY3Rpb24oZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0KGUpICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKGUpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGZpbHRlciBkb2VzIG5vdCBjb250YWluIGFueSBjb21wb3NpdGUgZmlsdGVycy4gUmV0dXJucyBmYWxzZSBvdGhlcndpc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRmxhdChlKSB7XG4gICAgZm9yIChjb25zdCB0IG9mIGUuZmlsdGVycykgaWYgKHQgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpIHJldHVybiAhMTtcbiAgICByZXR1cm4gITA7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeUZpbHRlcihlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlcikgXG4gICAgLy8gVE9ETyhiLzI5MTgzMTY1KTogVGVjaG5pY2FsbHksIHRoaXMgd29uJ3QgYmUgdW5pcXVlIGlmIHR3byB2YWx1ZXMgaGF2ZVxuICAgIC8vIHRoZSBzYW1lIGRlc2NyaXB0aW9uLCBzdWNoIGFzIHRoZSBpbnQgMyBhbmQgdGhlIHN0cmluZyBcIjNcIi4gU28gd2Ugc2hvdWxkXG4gICAgLy8gYWRkIHRoZSB0eXBlcyBpbiBoZXJlIHNvbWVob3csIHRvby5cbiAgICByZXR1cm4gZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSArIGUub3AudG9TdHJpbmcoKSArIGNhbm9uaWNhbElkKGUudmFsdWUpO1xuICAgIGlmIChfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0Q29uanVuY3Rpb24oZSkpIFxuICAgIC8vIE9sZGVyIFNESyB2ZXJzaW9ucyB1c2UgYW4gaW1wbGljaXQgQU5EIG9wZXJhdGlvbiBiZXR3ZWVuIHRoZWlyIGZpbHRlcnMuXG4gICAgLy8gSW4gdGhlIG5ldyBTREsgdmVyc2lvbnMsIHRoZSBkZXZlbG9wZXIgbWF5IHVzZSBhbiBleHBsaWNpdCBBTkQgZmlsdGVyLlxuICAgIC8vIFRvIHN0YXkgY29uc2lzdGVudCB3aXRoIHRoZSBvbGQgdXNhZ2VzLCB3ZSBhZGQgYSBzcGVjaWFsIGNhc2UgdG8gZW5zdXJlXG4gICAgLy8gdGhlIGNhbm9uaWNhbCBJRCBmb3IgdGhlc2UgdHdvIGFyZSB0aGUgc2FtZS4gRm9yIGV4YW1wbGU6XG4gICAgLy8gYGNvbC53aGVyZUVxdWFscyhcImFcIiwgMSkud2hlcmVFcXVhbHMoXCJiXCIsIDIpYCBzaG91bGQgaGF2ZSB0aGUgc2FtZVxuICAgIC8vIGNhbm9uaWNhbCBJRCBhcyBgY29sLndoZXJlKGFuZChlcXVhbHMoXCJhXCIsMSksIGVxdWFscyhcImJcIiwyKSkpYC5cbiAgICByZXR1cm4gZS5maWx0ZXJzLm1hcCgoZSA9PiBfX1BSSVZBVEVfY2Fub25pZnlGaWx0ZXIoZSkpKS5qb2luKFwiLFwiKTtcbiAgICB7XG4gICAgICAgIC8vIGZpbHRlciBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlclxuICAgICAgICBjb25zdCB0ID0gZS5maWx0ZXJzLm1hcCgoZSA9PiBfX1BSSVZBVEVfY2Fub25pZnlGaWx0ZXIoZSkpKS5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIGAke2Uub3B9KCR7dH0pYDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maWx0ZXJFcXVhbHMoZSwgdCkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRGaWx0ZXJFcXVhbHMoZSwgdCkge1xuICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyICYmIGUub3AgPT09IHQub3AgJiYgZS5maWVsZC5pc0VxdWFsKHQuZmllbGQpICYmIF9fUFJJVkFURV92YWx1ZUVxdWFscyhlLnZhbHVlLCB0LnZhbHVlKTtcbiAgICB9KGUsIHQpIDogZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJFcXVhbHMoZSwgdCkge1xuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciAmJiBlLm9wID09PSB0Lm9wICYmIGUuZmlsdGVycy5sZW5ndGggPT09IHQuZmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBlLmZpbHRlcnMucmVkdWNlKCgoZSwgbiwgcikgPT4gZSAmJiBfX1BSSVZBVEVfZmlsdGVyRXF1YWxzKG4sIHQuZmlsdGVyc1tyXSkpLCAhMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvKipcbiAqIFJldHVybnMgYSBuZXcgY29tcG9zaXRlIGZpbHRlciB0aGF0IGNvbnRhaW5zIGFsbCBmaWx0ZXIgZnJvbVxuICogYGNvbXBvc2l0ZUZpbHRlcmAgcGx1cyBhbGwgdGhlIGdpdmVuIGZpbHRlcnMgaW4gYG90aGVyRmlsdGVyc2AuXG4gKi8gKGUsIHQpIDogdm9pZCBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJXaXRoQWRkZWRGaWx0ZXJzKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZS5maWx0ZXJzLmNvbmNhdCh0KTtcbiAgICByZXR1cm4gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShuLCBlLm9wKTtcbn1cblxuLyoqIFJldHVybnMgYSBkZWJ1ZyBkZXNjcmlwdGlvbiBmb3IgYGZpbHRlcmAuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zdHJpbmdpZnlGaWx0ZXIoZSkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfc3RyaW5naWZ5RmllbGRGaWx0ZXIoZSkge1xuICAgICAgICByZXR1cm4gYCR7ZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKX0gJHtlLm9wfSAke2Nhbm9uaWNhbElkKGUudmFsdWUpfWA7XG4gICAgfVxuICAgIC8qKiBGaWx0ZXIgdGhhdCBtYXRjaGVzIG9uIGtleSBmaWVsZHMgKGkuZS4gJ19fbmFtZV9fJykuICovIChlKSA6IGUgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfc3RyaW5naWZ5Q29tcG9zaXRlRmlsdGVyKGUpIHtcbiAgICAgICAgcmV0dXJuIGUub3AudG9TdHJpbmcoKSArIFwiIHtcIiArIGUuZ2V0RmlsdGVycygpLm1hcChfX1BSSVZBVEVfc3RyaW5naWZ5RmlsdGVyKS5qb2luKFwiICxcIikgKyBcIn1cIjtcbiAgICB9KGUpIDogXCJGaWx0ZXJcIjtcbn1cblxuY2xhc3MgX19QUklWQVRFX0tleUZpZWxkRmlsdGVyIGV4dGVuZHMgRmllbGRGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoZSwgdCwgbiksIHRoaXMua2V5ID0gRG9jdW1lbnRLZXkuZnJvbU5hbWUobi5yZWZlcmVuY2VWYWx1ZSk7XG4gICAgfVxuICAgIG1hdGNoZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gRG9jdW1lbnRLZXkuY29tcGFyYXRvcihlLmtleSwgdGhpcy5rZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5tYXRjaGVzQ29tcGFyaXNvbih0KTtcbiAgICB9XG59XG5cbi8qKiBGaWx0ZXIgdGhhdCBtYXRjaGVzIG9uIGtleSBmaWVsZHMgd2l0aGluIGFuIGFycmF5LiAqLyBjbGFzcyBfX1BSSVZBVEVfS2V5RmllbGRJbkZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAsIHQpLCB0aGlzLmtleXMgPSBfX1BSSVZBVEVfZXh0cmFjdERvY3VtZW50S2V5c0Zyb21BcnJheVZhbHVlKFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5cy5zb21lKCh0ID0+IHQuaXNFcXVhbChlLmtleSkpKTtcbiAgICB9XG59XG5cbi8qKiBGaWx0ZXIgdGhhdCBtYXRjaGVzIG9uIGtleSBmaWVsZHMgbm90IHByZXNlbnQgd2l0aGluIGFuIGFycmF5LiAqLyBjbGFzcyBfX1BSSVZBVEVfS2V5RmllbGROb3RJbkZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovICwgdCksIHRoaXMua2V5cyA9IF9fUFJJVkFURV9leHRyYWN0RG9jdW1lbnRLZXlzRnJvbUFycmF5VmFsdWUoXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gLCB0KTtcbiAgICB9XG4gICAgbWF0Y2hlcyhlKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5rZXlzLnNvbWUoKHQgPT4gdC5pc0VxdWFsKGUua2V5KSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2V4dHJhY3REb2N1bWVudEtleXNGcm9tQXJyYXlWYWx1ZShlLCB0KSB7XG4gICAgdmFyIG47XG4gICAgcmV0dXJuICgobnVsbCA9PT0gKG4gPSB0LmFycmF5VmFsdWUpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4udmFsdWVzKSB8fCBbXSkubWFwKChlID0+IERvY3VtZW50S2V5LmZyb21OYW1lKGUucmVmZXJlbmNlVmFsdWUpKSk7XG59XG5cbi8qKiBBIEZpbHRlciB0aGF0IGltcGxlbWVudHMgdGhlIGFycmF5LWNvbnRhaW5zIG9wZXJhdG9yLiAqLyBjbGFzcyBfX1BSSVZBVEVfQXJyYXlDb250YWluc0ZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodCkgJiYgX19QUklWQVRFX2FycmF5VmFsdWVDb250YWlucyh0LmFycmF5VmFsdWUsIHRoaXMudmFsdWUpO1xuICAgIH1cbn1cblxuLyoqIEEgRmlsdGVyIHRoYXQgaW1wbGVtZW50cyB0aGUgSU4gb3BlcmF0b3IuICovIGNsYXNzIF9fUFJJVkFURV9JbkZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHQgJiYgX19QUklWQVRFX2FycmF5VmFsdWVDb250YWlucyh0aGlzLnZhbHVlLmFycmF5VmFsdWUsIHQpO1xuICAgIH1cbn1cblxuLyoqIEEgRmlsdGVyIHRoYXQgaW1wbGVtZW50cyB0aGUgbm90LWluIG9wZXJhdG9yLiAqLyBjbGFzcyBfX1BSSVZBVEVfTm90SW5GaWx0ZXIgZXh0ZW5kcyBGaWVsZEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcihlLCBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgaWYgKF9fUFJJVkFURV9hcnJheVZhbHVlQ29udGFpbnModGhpcy52YWx1ZS5hcnJheVZhbHVlLCB7XG4gICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgIH0pKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHQgPSBlLmRhdGEuZmllbGQodGhpcy5maWVsZCk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0ICYmICFfX1BSSVZBVEVfYXJyYXlWYWx1ZUNvbnRhaW5zKHRoaXMudmFsdWUuYXJyYXlWYWx1ZSwgdCk7XG4gICAgfVxufVxuXG4vKiogQSBGaWx0ZXIgdGhhdCBpbXBsZW1lbnRzIHRoZSBhcnJheS1jb250YWlucy1hbnkgb3BlcmF0b3IuICovIGNsYXNzIF9fUFJJVkFURV9BcnJheUNvbnRhaW5zQW55RmlsdGVyIGV4dGVuZHMgRmllbGRGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gLCB0KTtcbiAgICB9XG4gICAgbWF0Y2hlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmRhdGEuZmllbGQodGhpcy5maWVsZCk7XG4gICAgICAgIHJldHVybiAhKCFpc0FycmF5KHQpIHx8ICF0LmFycmF5VmFsdWUudmFsdWVzKSAmJiB0LmFycmF5VmFsdWUudmFsdWVzLnNvbWUoKGUgPT4gX19QUklWQVRFX2FycmF5VmFsdWVDb250YWlucyh0aGlzLnZhbHVlLmFycmF5VmFsdWUsIGUpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY2xhc3MgX19QUklWQVRFX1RhcmdldEltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQgPSBudWxsLCBuID0gW10sIHIgPSBbXSwgaSA9IG51bGwsIHMgPSBudWxsLCBvID0gbnVsbCkge1xuICAgICAgICB0aGlzLnBhdGggPSBlLCB0aGlzLmNvbGxlY3Rpb25Hcm91cCA9IHQsIHRoaXMub3JkZXJCeSA9IG4sIHRoaXMuZmlsdGVycyA9IHIsIHRoaXMubGltaXQgPSBpLCBcbiAgICAgICAgdGhpcy5zdGFydEF0ID0gcywgdGhpcy5lbmRBdCA9IG8sIHRoaXMudWUgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIFRhcmdldCB3aXRoIGEgcGF0aCBhbmQgb3B0aW9uYWwgYWRkaXRpb25hbCBxdWVyeSBjb25zdHJhaW50cy5cbiAqIFBhdGggbXVzdCBjdXJyZW50bHkgYmUgZW1wdHkgaWYgdGhpcyBpcyBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkuXG4gKlxuICogTk9URTogeW91IHNob3VsZCBhbHdheXMgY29uc3RydWN0IGBUYXJnZXRgIGZyb20gYFF1ZXJ5LnRvVGFyZ2V0YCBpbnN0ZWFkIG9mXG4gKiB1c2luZyB0aGlzIGZhY3RvcnkgbWV0aG9kLCBiZWNhdXNlIGBRdWVyeWAgcHJvdmlkZXMgYW4gaW1wbGljaXQgYG9yZGVyQnlgXG4gKiBwcm9wZXJ0eS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3VGFyZ2V0KGUsIHQgPSBudWxsLCBuID0gW10sIHIgPSBbXSwgaSA9IG51bGwsIHMgPSBudWxsLCBvID0gbnVsbCkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1RhcmdldEltcGwoZSwgdCwgbiwgciwgaSwgcywgbyk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeVRhcmdldChlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgaWYgKG51bGwgPT09IHQudWUpIHtcbiAgICAgICAgbGV0IGUgPSB0LnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgICAgIG51bGwgIT09IHQuY29sbGVjdGlvbkdyb3VwICYmIChlICs9IFwifGNnOlwiICsgdC5jb2xsZWN0aW9uR3JvdXApLCBlICs9IFwifGY6XCIsIGUgKz0gdC5maWx0ZXJzLm1hcCgoZSA9PiBfX1BSSVZBVEVfY2Fub25pZnlGaWx0ZXIoZSkpKS5qb2luKFwiLFwiKSwgXG4gICAgICAgIGUgKz0gXCJ8b2I6XCIsIGUgKz0gdC5vcmRlckJ5Lm1hcCgoZSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlPcmRlckJ5KGUpIHtcbiAgICAgICAgICAgIC8vIFRPRE8oYi8yOTE4MzE2NSk6IE1ha2UgdGhpcyBjb2xsaXNpb24gcm9idXN0LlxuICAgICAgICAgICAgcmV0dXJuIGUuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkgKyBlLmRpcjtcbiAgICAgICAgfShlKSkpLmpvaW4oXCIsXCIpLCBfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQodC5saW1pdCkgfHwgKGUgKz0gXCJ8bDpcIiwgZSArPSB0LmxpbWl0KSwgXG4gICAgICAgIHQuc3RhcnRBdCAmJiAoZSArPSBcInxsYjpcIiwgZSArPSB0LnN0YXJ0QXQuaW5jbHVzaXZlID8gXCJiOlwiIDogXCJhOlwiLCBlICs9IHQuc3RhcnRBdC5wb3NpdGlvbi5tYXAoKGUgPT4gY2Fub25pY2FsSWQoZSkpKS5qb2luKFwiLFwiKSksIFxuICAgICAgICB0LmVuZEF0ICYmIChlICs9IFwifHViOlwiLCBlICs9IHQuZW5kQXQuaW5jbHVzaXZlID8gXCJhOlwiIDogXCJiOlwiLCBlICs9IHQuZW5kQXQucG9zaXRpb24ubWFwKChlID0+IGNhbm9uaWNhbElkKGUpKSkuam9pbihcIixcIikpLCBcbiAgICAgICAgdC51ZSA9IGU7XG4gICAgfVxuICAgIHJldHVybiB0LnVlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0RXF1YWxzKGUsIHQpIHtcbiAgICBpZiAoZS5saW1pdCAhPT0gdC5saW1pdCkgcmV0dXJuICExO1xuICAgIGlmIChlLm9yZGVyQnkubGVuZ3RoICE9PSB0Lm9yZGVyQnkubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLm9yZGVyQnkubGVuZ3RoOyBuKyspIGlmICghX19QUklWQVRFX29yZGVyQnlFcXVhbHMoZS5vcmRlckJ5W25dLCB0Lm9yZGVyQnlbbl0pKSByZXR1cm4gITE7XG4gICAgaWYgKGUuZmlsdGVycy5sZW5ndGggIT09IHQuZmlsdGVycy5sZW5ndGgpIHJldHVybiAhMTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUuZmlsdGVycy5sZW5ndGg7IG4rKykgaWYgKCFfX1BSSVZBVEVfZmlsdGVyRXF1YWxzKGUuZmlsdGVyc1tuXSwgdC5maWx0ZXJzW25dKSkgcmV0dXJuICExO1xuICAgIHJldHVybiBlLmNvbGxlY3Rpb25Hcm91cCA9PT0gdC5jb2xsZWN0aW9uR3JvdXAgJiYgKCEhZS5wYXRoLmlzRXF1YWwodC5wYXRoKSAmJiAoISFfX1BSSVZBVEVfYm91bmRFcXVhbHMoZS5zdGFydEF0LCB0LnN0YXJ0QXQpICYmIF9fUFJJVkFURV9ib3VuZEVxdWFscyhlLmVuZEF0LCB0LmVuZEF0KSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0SXNEb2N1bWVudFRhcmdldChlKSB7XG4gICAgcmV0dXJuIERvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkoZS5wYXRoKSAmJiBudWxsID09PSBlLmNvbGxlY3Rpb25Hcm91cCAmJiAwID09PSBlLmZpbHRlcnMubGVuZ3RoO1xufVxuXG4vKiogUmV0dXJucyB0aGUgZmllbGQgZmlsdGVycyB0aGF0IHRhcmdldCB0aGUgZ2l2ZW4gZmllbGQgcGF0aC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldEZpZWxkRmlsdGVyc0ZvclBhdGgoZSwgdCkge1xuICAgIHJldHVybiBlLmZpbHRlcnMuZmlsdGVyKChlID0+IGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciAmJiBlLmZpZWxkLmlzRXF1YWwodCkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZXMgdGhhdCBhcmUgdXNlZCBpbiBBUlJBWV9DT05UQUlOUyBvciBBUlJBWV9DT05UQUlOU19BTllcbiAqIGZpbHRlcnMuIFJldHVybnMgYG51bGxgIGlmIHRoZXJlIGFyZSBubyBzdWNoIGZpbHRlcnMuXG4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgdG8gdXNlIGFzIHRoZSBsb3dlciBib3VuZCBmb3IgYXNjZW5kaW5nIGluZGV4IHNlZ21lbnQgYXRcbiAqIHRoZSBwcm92aWRlZCBgZmllbGRQYXRoYCAob3IgdGhlIHVwcGVyIGJvdW5kIGZvciBhbiBkZXNjZW5kaW5nIHNlZ21lbnQpLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0QXNjZW5kaW5nQm91bmQoZSwgdCwgbikge1xuICAgIGxldCByID0gaWUsIGkgPSAhMDtcbiAgICAvLyBQcm9jZXNzIGFsbCBmaWx0ZXJzIHRvIGZpbmQgYSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgZmllbGQgc2VnbWVudFxuICAgIGZvciAoY29uc3QgbiBvZiBfX1BSSVZBVEVfdGFyZ2V0R2V0RmllbGRGaWx0ZXJzRm9yUGF0aChlLCB0KSkge1xuICAgICAgICBsZXQgZSA9IGllLCB0ID0gITA7XG4gICAgICAgIHN3aXRjaCAobi5vcCkge1xuICAgICAgICAgIGNhc2UgXCI8XCIgLyogT3BlcmF0b3IuTEVTU19USEFOICovIDpcbiAgICAgICAgICBjYXNlIFwiPD1cIiAvKiBPcGVyYXRvci5MRVNTX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgICAgZSA9IF9fUFJJVkFURV92YWx1ZXNHZXRMb3dlckJvdW5kKG4udmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLyA6XG4gICAgICAgICAgY2FzZSBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gOlxuICAgICAgICAgIGNhc2UgXCI+PVwiIC8qIE9wZXJhdG9yLkdSRUFURVJfVEhBTl9PUl9FUVVBTCAqLyA6XG4gICAgICAgICAgICBlID0gbi52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIj5cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU4gKi8gOlxuICAgICAgICAgICAgZSA9IG4udmFsdWUsIHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovIDpcbiAgICAgICAgICBjYXNlIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIDpcbiAgICAgICAgICAgIGUgPSBpZTtcbiAvLyBSZW1haW5pbmcgZmlsdGVycyBjYW5ub3QgYmUgdXNlZCBhcyBsb3dlciBib3VuZHMuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBfX1BSSVZBVEVfbG93ZXJCb3VuZENvbXBhcmUoe1xuICAgICAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGlcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRcbiAgICAgICAgfSkgPCAwICYmIChyID0gZSwgaSA9IHQpO1xuICAgIH1cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBhZGRpdGlvbmFsIGJvdW5kLCBjb21wYXJlIHRoZSB2YWx1ZXMgYWdhaW5zdCB0aGUgZXhpc3RpbmdcbiAgICAvLyByYW5nZSB0byBzZWUgaWYgd2UgY2FuIG5hcnJvdyB0aGUgc2NvcGUuXG4gICAgICAgIGlmIChudWxsICE9PSBuKSBmb3IgKGxldCBzID0gMDsgcyA8IGUub3JkZXJCeS5sZW5ndGg7ICsrcykge1xuICAgICAgICBpZiAoZS5vcmRlckJ5W3NdLmZpZWxkLmlzRXF1YWwodCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuLnBvc2l0aW9uW3NdO1xuICAgICAgICAgICAgX19QUklWQVRFX2xvd2VyQm91bmRDb21wYXJlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcixcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZSxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IG4uaW5jbHVzaXZlXG4gICAgICAgICAgICB9KSA8IDAgJiYgKHIgPSBlLCBpID0gbi5pbmNsdXNpdmUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgIGluY2x1c2l2ZTogaVxuICAgIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgdG8gdXNlIGFzIHRoZSB1cHBlciBib3VuZCBmb3IgYXNjZW5kaW5nIGluZGV4IHNlZ21lbnQgYXRcbiAqIHRoZSBwcm92aWRlZCBgZmllbGRQYXRoYCAob3IgdGhlIGxvd2VyIGJvdW5kIGZvciBhIGRlc2NlbmRpbmcgc2VnbWVudCkuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldERlc2NlbmRpbmdCb3VuZChlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSByZSwgaSA9ICEwO1xuICAgIC8vIFByb2Nlc3MgYWxsIGZpbHRlcnMgdG8gZmluZCBhIHZhbHVlIGZvciB0aGUgY3VycmVudCBmaWVsZCBzZWdtZW50XG4gICAgZm9yIChjb25zdCBuIG9mIF9fUFJJVkFURV90YXJnZXRHZXRGaWVsZEZpbHRlcnNGb3JQYXRoKGUsIHQpKSB7XG4gICAgICAgIGxldCBlID0gcmUsIHQgPSAhMDtcbiAgICAgICAgc3dpdGNoIChuLm9wKSB7XG4gICAgICAgICAgY2FzZSBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovIDpcbiAgICAgICAgICBjYXNlIFwiPlwiIC8qIE9wZXJhdG9yLkdSRUFURVJfVEhBTiAqLyA6XG4gICAgICAgICAgICBlID0gX19QUklWQVRFX3ZhbHVlc0dldFVwcGVyQm91bmQobi52YWx1ZSksIHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIj09XCIgLyogT3BlcmF0b3IuRVFVQUwgKi8gOlxuICAgICAgICAgIGNhc2UgXCJpblwiIC8qIE9wZXJhdG9yLklOICovIDpcbiAgICAgICAgICBjYXNlIFwiPD1cIiAvKiBPcGVyYXRvci5MRVNTX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgICAgZSA9IG4udmFsdWU7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCI8XCIgLyogT3BlcmF0b3IuTEVTU19USEFOICovIDpcbiAgICAgICAgICAgIGUgPSBuLnZhbHVlLCB0ID0gITE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyA6XG4gICAgICAgICAgY2FzZSBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA6XG4gICAgICAgICAgICBlID0gcmU7XG4gLy8gUmVtYWluaW5nIGZpbHRlcnMgY2Fubm90IGJlIHVzZWQgYXMgdXBwZXIgYm91bmRzLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgX19QUklWQVRFX3VwcGVyQm91bmRDb21wYXJlKHtcbiAgICAgICAgICAgIHZhbHVlOiByLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHZhbHVlOiBlLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0XG4gICAgICAgIH0pID4gMCAmJiAociA9IGUsIGkgPSB0KTtcbiAgICB9XG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gYWRkaXRpb25hbCBib3VuZCwgY29tcGFyZSB0aGUgdmFsdWVzIGFnYWluc3QgdGhlIGV4aXN0aW5nXG4gICAgLy8gcmFuZ2UgdG8gc2VlIGlmIHdlIGNhbiBuYXJyb3cgdGhlIHNjb3BlLlxuICAgICAgICBpZiAobnVsbCAhPT0gbikgZm9yIChsZXQgcyA9IDA7IHMgPCBlLm9yZGVyQnkubGVuZ3RoOyArK3MpIHtcbiAgICAgICAgaWYgKGUub3JkZXJCeVtzXS5maWVsZC5pc0VxdWFsKHQpKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbi5wb3NpdGlvbltzXTtcbiAgICAgICAgICAgIF9fUFJJVkFURV91cHBlckJvdW5kQ29tcGFyZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBpXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBuLmluY2x1c2l2ZVxuICAgICAgICAgICAgfSkgPiAwICYmIChyID0gZSwgaSA9IG4uaW5jbHVzaXZlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiByLFxuICAgICAgICBpbmNsdXNpdmU6IGlcbiAgICB9O1xufVxuXG4vKiogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHNlZ21lbnRzIG9mIGEgcGVyZmVjdCBpbmRleCBmb3IgdGhpcyB0YXJnZXQuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBRdWVyeSBlbmNhcHN1bGF0ZXMgYWxsIHRoZSBxdWVyeSBhdHRyaWJ1dGVzIHdlIHN1cHBvcnQgaW4gdGhlIFNESy4gSXQgY2FuXG4gKiBiZSBydW4gYWdhaW5zdCB0aGUgTG9jYWxTdG9yZSwgYXMgd2VsbCBhcyBiZSBjb252ZXJ0ZWQgdG8gYSBgVGFyZ2V0YCB0b1xuICogcXVlcnkgdGhlIFJlbW90ZVN0b3JlIHJlc3VsdHMuXG4gKlxuICogVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAqL1xuY2xhc3MgX19QUklWQVRFX1F1ZXJ5SW1wbCB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBRdWVyeSB3aXRoIGEgcGF0aCBhbmQgb3B0aW9uYWwgYWRkaXRpb25hbCBxdWVyeSBjb25zdHJhaW50cy5cbiAgICAgKiBQYXRoIG11c3QgY3VycmVudGx5IGJlIGVtcHR5IGlmIHRoaXMgaXMgYSBjb2xsZWN0aW9uIGdyb3VwIHF1ZXJ5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQgPSBudWxsLCBuID0gW10sIHIgPSBbXSwgaSA9IG51bGwsIHMgPSBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gLCBvID0gbnVsbCwgXyA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYXRoID0gZSwgdGhpcy5jb2xsZWN0aW9uR3JvdXAgPSB0LCB0aGlzLmV4cGxpY2l0T3JkZXJCeSA9IG4sIHRoaXMuZmlsdGVycyA9IHIsIFxuICAgICAgICB0aGlzLmxpbWl0ID0gaSwgdGhpcy5saW1pdFR5cGUgPSBzLCB0aGlzLnN0YXJ0QXQgPSBvLCB0aGlzLmVuZEF0ID0gXywgdGhpcy5jZSA9IG51bGwsIFxuICAgICAgICAvLyBUaGUgY29ycmVzcG9uZGluZyBgVGFyZ2V0YCBvZiB0aGlzIGBRdWVyeWAgaW5zdGFuY2UsIGZvciB1c2Ugd2l0aFxuICAgICAgICAvLyBub24tYWdncmVnYXRlIHF1ZXJpZXMuXG4gICAgICAgIHRoaXMubGUgPSBudWxsLCBcbiAgICAgICAgLy8gVGhlIGNvcnJlc3BvbmRpbmcgYFRhcmdldGAgb2YgdGhpcyBgUXVlcnlgIGluc3RhbmNlLCBmb3IgdXNlIHdpdGhcbiAgICAgICAgLy8gYWdncmVnYXRlIHF1ZXJpZXMuIFVubGlrZSB0YXJnZXRzIGZvciBub24tYWdncmVnYXRlIHF1ZXJpZXMsXG4gICAgICAgIC8vIGFnZ3JlZ2F0ZSBxdWVyeSB0YXJnZXRzIGRvIG5vdCBjb250YWluIG5vcm1hbGl6ZWQgb3JkZXItYnlzLCB0aGV5IG9ubHlcbiAgICAgICAgLy8gY29udGFpbiBleHBsaWNpdCBvcmRlci1ieXMuXG4gICAgICAgIHRoaXMuaGUgPSBudWxsLCB0aGlzLnN0YXJ0QXQsIHRoaXMuZW5kQXQ7XG4gICAgfVxufVxuXG4vKiogQ3JlYXRlcyBhIG5ldyBRdWVyeSBpbnN0YW5jZSB3aXRoIHRoZSBvcHRpb25zIHByb3ZpZGVkLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnkoZSwgdCwgbiwgciwgaSwgcywgbywgXykge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlLCB0LCBuLCByLCBpLCBzLCBvLCBfKTtcbn1cblxuLyoqIENyZWF0ZXMgYSBuZXcgUXVlcnkgZm9yIGEgcXVlcnkgdGhhdCBtYXRjaGVzIGFsbCBkb2N1bWVudHMgYXQgYHBhdGhgICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgoZSkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gY29udmVydCBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkgaW50byBhIGNvbGxlY3Rpb24gcXVlcnkgYXQgYVxuICogc3BlY2lmaWMgcGF0aC4gVGhpcyBpcyB1c2VkIHdoZW4gZXhlY3V0aW5nIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcmllcywgc2luY2VcbiAqIHdlIGhhdmUgdG8gc3BsaXQgdGhlIHF1ZXJ5IGludG8gYSBzZXQgb2YgY29sbGVjdGlvbiBxdWVyaWVzIGF0IG11bHRpcGxlXG4gKiBwYXRocy5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBxdWVyeSBkb2VzIG5vdCBzcGVjaWZ5IGFueSBxdWVyeSBjb25zdHJhaW50cyB0aGF0XG4gKiBjb3VsZCByZW1vdmUgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0FsbERvY3VtZW50cyhlKSB7XG4gICAgcmV0dXJuIDAgPT09IGUuZmlsdGVycy5sZW5ndGggJiYgbnVsbCA9PT0gZS5saW1pdCAmJiBudWxsID09IGUuc3RhcnRBdCAmJiBudWxsID09IGUuZW5kQXQgJiYgKDAgPT09IGUuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCB8fCAxID09PSBlLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGggJiYgZS5leHBsaWNpdE9yZGVyQnlbMF0uZmllbGQuaXNLZXlGaWVsZCgpKTtcbn1cblxuLy8gUmV0dXJucyB0aGUgc29ydGVkIHNldCBvZiBpbmVxdWFsaXR5IGZpbHRlciBmaWVsZHMgdXNlZCBpbiB0aGlzIHF1ZXJ5LlxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHF1ZXJ5IG1hdGNoZXMgYSBjb2xsZWN0aW9uIGdyb3VwIHJhdGhlciB0aGFuIGEgc3BlY2lmaWNcbiAqIGNvbGxlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KGUpIHtcbiAgICByZXR1cm4gbnVsbCAhPT0gZS5jb2xsZWN0aW9uR3JvdXA7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbm9ybWFsaXplZCBvcmRlci1ieSBjb25zdHJhaW50IHRoYXQgaXMgdXNlZCB0byBleGVjdXRlIHRoZSBRdWVyeSxcbiAqIHdoaWNoIGNhbiBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgb3JkZXItYnkgY29uc3RyYWludHMgdGhlIHVzZXIgcHJvdmlkZWQgKGUuZy5cbiAqIHRoZSBTREsgYW5kIGJhY2tlbmQgYWx3YXlzIG9yZGVycyBieSBgX19uYW1lX19gKS4gVGhlIG5vcm1hbGl6ZWQgb3JkZXItYnlcbiAqIGluY2x1ZGVzIGltcGxpY2l0IG9yZGVyLWJ5cyBpbiBhZGRpdGlvbiB0byB0aGUgZXhwbGljaXQgdXNlciBwcm92aWRlZFxuICogb3JkZXItYnlzLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeU5vcm1hbGl6ZWRPcmRlckJ5KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBpZiAobnVsbCA9PT0gdC5jZSkge1xuICAgICAgICB0LmNlID0gW107XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgU2V0O1xuICAgICAgICAvLyBBbnkgZXhwbGljaXQgb3JkZXIgYnkgZmllbGRzIHNob3VsZCBiZSBhZGRlZCBhcyBpcy5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdC5leHBsaWNpdE9yZGVyQnkpIHQuY2UucHVzaChuKSwgZS5hZGQobi5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSk7XG4gICAgICAgIC8vIFRoZSBvcmRlciBvZiB0aGUgaW1wbGljaXQgb3JkZXJpbmcgYWx3YXlzIG1hdGNoZXMgdGhlIGxhc3QgZXhwbGljaXQgb3JkZXIgYnkuXG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHQuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCA+IDAgPyB0LmV4cGxpY2l0T3JkZXJCeVt0LmV4cGxpY2l0T3JkZXJCeS5sZW5ndGggLSAxXS5kaXIgOiBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8gLCByID0gZnVuY3Rpb24gX19QUklWQVRFX2dldEluZXF1YWxpdHlGaWx0ZXJGaWVsZHMoZSkge1xuICAgICAgICAgICAgbGV0IHQgPSBuZXcgU29ydGVkU2V0KEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIGUuZmlsdGVycy5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICBlLmdldEZsYXR0ZW5lZEZpbHRlcnMoKS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5pc0luZXF1YWxpdHkoKSAmJiAodCA9IHQuYWRkKGUuZmllbGQpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSksIHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFF1ZXJ5IGZvciBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkgdGhhdCBtYXRjaGVzIGFsbCBkb2N1bWVudHNcbiAqIHdpdGhpbiB0aGUgcHJvdmlkZWQgY29sbGVjdGlvbiBncm91cC5cbiAqLyAodCk7XG4gICAgICAgIC8vIEFueSBpbmVxdWFsaXR5IGZpZWxkcyBub3QgZXhwbGljaXRseSBvcmRlcmVkIHNob3VsZCBiZSBpbXBsaWNpdGx5IG9yZGVyZWQgaW4gYSBsZXhpY29ncmFwaGljYWxcbiAgICAgICAgLy8gb3JkZXIuIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGluZXF1YWxpdHkgZmlsdGVycyBvbiB0aGUgc2FtZSBmaWVsZCwgdGhlIGZpZWxkIHNob3VsZCBiZSBhZGRlZFxuICAgICAgICAvLyBvbmx5IG9uY2UuXG4gICAgICAgIC8vIE5vdGU6IGBTb3J0ZWRTZXQ8RmllbGRQYXRoPmAgc29ydHMgdGhlIGtleSBmaWVsZCBiZWZvcmUgb3RoZXIgZmllbGRzLiBIb3dldmVyLCB3ZSB3YW50IHRoZSBrZXlcbiAgICAgICAgLy8gZmllbGQgdG8gYmUgc29ydGVkIGxhc3QuXG4gICAgICAgICAgICAgICAgci5mb3JFYWNoKChyID0+IHtcbiAgICAgICAgICAgIGUuaGFzKHIuY2Fub25pY2FsU3RyaW5nKCkpIHx8IHIuaXNLZXlGaWVsZCgpIHx8IHQuY2UucHVzaChuZXcgT3JkZXJCeShyLCBuKSk7XG4gICAgICAgIH0pKSwgXG4gICAgICAgIC8vIEFkZCB0aGUgZG9jdW1lbnQga2V5IGZpZWxkIHRvIHRoZSBsYXN0IGlmIGl0IGlzIG5vdCBleHBsaWNpdGx5IG9yZGVyZWQuXG4gICAgICAgIGUuaGFzKEZpZWxkUGF0aCQxLmtleUZpZWxkKCkuY2Fub25pY2FsU3RyaW5nKCkpIHx8IHQuY2UucHVzaChuZXcgT3JkZXJCeShGaWVsZFBhdGgkMS5rZXlGaWVsZCgpLCBuKSk7XG4gICAgfVxuICAgIHJldHVybiB0LmNlO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgYFF1ZXJ5YCBpbnN0YW5jZSB0byBpdHMgY29ycmVzcG9uZGluZyBgVGFyZ2V0YCByZXByZXNlbnRhdGlvbi5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIHQubGUgfHwgKHQubGUgPSBfX1BSSVZBVEVfX3F1ZXJ5VG9UYXJnZXQodCwgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSkpKSwgXG4gICAgdC5sZTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGBRdWVyeWAgaW5zdGFuY2UgdG8gaXRzIGNvcnJlc3BvbmRpbmcgYFRhcmdldGAgcmVwcmVzZW50YXRpb24sXG4gKiBmb3IgdXNlIHdpdGhpbiBhbiBhZ2dyZWdhdGUgcXVlcnkuIFVubGlrZSB0YXJnZXRzIGZvciBub24tYWdncmVnYXRlIHF1ZXJpZXMsXG4gKiBhZ2dyZWdhdGUgcXVlcnkgdGFyZ2V0cyBkbyBub3QgY29udGFpbiBub3JtYWxpemVkIG9yZGVyLWJ5cywgdGhleSBvbmx5XG4gKiBjb250YWluIGV4cGxpY2l0IG9yZGVyLWJ5cy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlUb0FnZ3JlZ2F0ZVRhcmdldChlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIHQuaGUgfHwgKFxuICAgIC8vIERvIG5vdCBpbmNsdWRlIGltcGxpY2l0IG9yZGVyLWJ5cyBmb3IgYWdncmVnYXRlIHF1ZXJpZXMuXG4gICAgdC5oZSA9IF9fUFJJVkFURV9fcXVlcnlUb1RhcmdldCh0LCBlLmV4cGxpY2l0T3JkZXJCeSkpLCB0LmhlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfX3F1ZXJ5VG9UYXJnZXQoZSwgdCkge1xuICAgIGlmIChcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gPT09IGUubGltaXRUeXBlKSByZXR1cm4gX19QUklWQVRFX25ld1RhcmdldChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCB0LCBlLmZpbHRlcnMsIGUubGltaXQsIGUuc3RhcnRBdCwgZS5lbmRBdCk7XG4gICAge1xuICAgICAgICAvLyBGbGlwIHRoZSBvcmRlckJ5IGRpcmVjdGlvbnMgc2luY2Ugd2Ugd2FudCB0aGUgbGFzdCByZXN1bHRzXG4gICAgICAgIHQgPSB0Lm1hcCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gXCJkZXNjXCIgLyogRGlyZWN0aW9uLkRFU0NFTkRJTkcgKi8gPT09IGUuZGlyID8gXCJhc2NcIiAvKiBEaXJlY3Rpb24uQVNDRU5ESU5HICovIDogXCJkZXNjXCIgLyogRGlyZWN0aW9uLkRFU0NFTkRJTkcgKi87XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9yZGVyQnkoZS5maWVsZCwgdCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBzd2FwIHRoZSBjdXJzb3JzIHRvIG1hdGNoIHRoZSBub3ctZmxpcHBlZCBxdWVyeSBvcmRlcmluZy5cbiAgICAgICAgY29uc3QgbiA9IGUuZW5kQXQgPyBuZXcgQm91bmQoZS5lbmRBdC5wb3NpdGlvbiwgZS5lbmRBdC5pbmNsdXNpdmUpIDogbnVsbCwgciA9IGUuc3RhcnRBdCA/IG5ldyBCb3VuZChlLnN0YXJ0QXQucG9zaXRpb24sIGUuc3RhcnRBdC5pbmNsdXNpdmUpIDogbnVsbDtcbiAgICAgICAgLy8gTm93IHJldHVybiBhcyBhIExpbWl0VHlwZS5GaXJzdCBxdWVyeS5cbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9uZXdUYXJnZXQoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgdCwgZS5maWx0ZXJzLCBlLmxpbWl0LCBuLCByKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeVdpdGhBZGRlZEZpbHRlcihlLCB0KSB7XG4gICAgY29uc3QgbiA9IGUuZmlsdGVycy5jb25jYXQoWyB0IF0pO1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCBlLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCBuLCBlLmxpbWl0LCBlLmxpbWl0VHlwZSwgZS5zdGFydEF0LCBlLmVuZEF0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aExpbWl0KGUsIHQsIG4pIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9RdWVyeUltcGwoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgZS5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSwgZS5maWx0ZXJzLnNsaWNlKCksIHQsIG4sIGUuc3RhcnRBdCwgZS5lbmRBdCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeUVxdWFscyhlLCB0KSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV90YXJnZXRFcXVhbHMoX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoZSksIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KHQpKSAmJiBlLmxpbWl0VHlwZSA9PT0gdC5saW1pdFR5cGU7XG59XG5cbi8vIFRPRE8oYi8yOTE4MzE2NSk6IFRoaXMgaXMgdXNlZCB0byBnZXQgYSB1bmlxdWUgc3RyaW5nIGZyb20gYSBxdWVyeSB0bywgZm9yXG4vLyBleGFtcGxlLCB1c2UgYXMgYSBkaWN0aW9uYXJ5IGtleSwgYnV0IHRoZSBpbXBsZW1lbnRhdGlvbiBpcyBzdWJqZWN0IHRvXG4vLyBjb2xsaXNpb25zLiBNYWtlIGl0IGNvbGxpc2lvbi1mcmVlLlxuZnVuY3Rpb24gX19QUklWQVRFX2Nhbm9uaWZ5UXVlcnkoZSkge1xuICAgIHJldHVybiBgJHtfX1BSSVZBVEVfY2Fub25pZnlUYXJnZXQoX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoZSkpfXxsdDoke2UubGltaXRUeXBlfWA7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zdHJpbmdpZnlRdWVyeShlKSB7XG4gICAgcmV0dXJuIGBRdWVyeSh0YXJnZXQ9JHtmdW5jdGlvbiBfX1BSSVZBVEVfc3RyaW5naWZ5VGFyZ2V0KGUpIHtcbiAgICAgICAgbGV0IHQgPSBlLnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBlLmNvbGxlY3Rpb25Hcm91cCAmJiAodCArPSBcIiBjb2xsZWN0aW9uR3JvdXA9XCIgKyBlLmNvbGxlY3Rpb25Hcm91cCksIFxuICAgICAgICBlLmZpbHRlcnMubGVuZ3RoID4gMCAmJiAodCArPSBgLCBmaWx0ZXJzOiBbJHtlLmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9zdHJpbmdpZnlGaWx0ZXIoZSkpKS5qb2luKFwiLCBcIil9XWApLCBcbiAgICAgICAgX19QUklWQVRFX2lzTnVsbE9yVW5kZWZpbmVkKGUubGltaXQpIHx8ICh0ICs9IFwiLCBsaW1pdDogXCIgKyBlLmxpbWl0KSwgZS5vcmRlckJ5Lmxlbmd0aCA+IDAgJiYgKHQgKz0gYCwgb3JkZXJCeTogWyR7ZS5vcmRlckJ5Lm1hcCgoZSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfc3RyaW5naWZ5T3JkZXJCeShlKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7ZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKX0gKCR7ZS5kaXJ9KWA7XG4gICAgICAgIH0oZSkpKS5qb2luKFwiLCBcIil9XWApLCBlLnN0YXJ0QXQgJiYgKHQgKz0gXCIsIHN0YXJ0QXQ6IFwiLCB0ICs9IGUuc3RhcnRBdC5pbmNsdXNpdmUgPyBcImI6XCIgOiBcImE6XCIsIFxuICAgICAgICB0ICs9IGUuc3RhcnRBdC5wb3NpdGlvbi5tYXAoKGUgPT4gY2Fub25pY2FsSWQoZSkpKS5qb2luKFwiLFwiKSksIGUuZW5kQXQgJiYgKHQgKz0gXCIsIGVuZEF0OiBcIiwgXG4gICAgICAgIHQgKz0gZS5lbmRBdC5pbmNsdXNpdmUgPyBcImE6XCIgOiBcImI6XCIsIHQgKz0gZS5lbmRBdC5wb3NpdGlvbi5tYXAoKGUgPT4gY2Fub25pY2FsSWQoZSkpKS5qb2luKFwiLFwiKSksIFxuICAgICAgICBgVGFyZ2V0KCR7dH0pYDtcbiAgICB9KF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KGUpKX07IGxpbWl0VHlwZT0ke2UubGltaXRUeXBlfSlgO1xufVxuXG4vKiogUmV0dXJucyB3aGV0aGVyIGBkb2NgIG1hdGNoZXMgdGhlIGNvbnN0cmFpbnRzIG9mIGBxdWVyeWAuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeU1hdGNoZXMoZSwgdCkge1xuICAgIHJldHVybiB0LmlzRm91bmREb2N1bWVudCgpICYmIGZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeU1hdGNoZXNQYXRoQW5kQ29sbGVjdGlvbkdyb3VwKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQua2V5LnBhdGg7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBlLmNvbGxlY3Rpb25Hcm91cCA/IHQua2V5Lmhhc0NvbGxlY3Rpb25JZChlLmNvbGxlY3Rpb25Hcm91cCkgJiYgZS5wYXRoLmlzUHJlZml4T2YobikgOiBEb2N1bWVudEtleS5pc0RvY3VtZW50S2V5KGUucGF0aCkgPyBlLnBhdGguaXNFcXVhbChuKSA6IGUucGF0aC5pc0ltbWVkaWF0ZVBhcmVudE9mKG4pO1xuICAgIH1cbiAgICAvKipcbiAqIEEgZG9jdW1lbnQgbXVzdCBoYXZlIGEgdmFsdWUgZm9yIGV2ZXJ5IG9yZGVyaW5nIGNsYXVzZSBpbiBvcmRlciB0byBzaG93IHVwXG4gKiBpbiB0aGUgcmVzdWx0cy5cbiAqLyAoZSwgdCkgJiYgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc09yZGVyQnkoZSwgdCkge1xuICAgICAgICAvLyBXZSBtdXN0IHVzZSBgcXVlcnlOb3JtYWxpemVkT3JkZXJCeSgpYCB0byBnZXQgdGhlIGxpc3Qgb2YgYWxsIG9yZGVyQnlzIChib3RoIGltcGxpY2l0IGFuZCBleHBsaWNpdCkuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBmb3IgT1IgcXVlcmllcywgb3JkZXJCeSBhcHBsaWVzIHRvIGFsbCBkaXNqdW5jdGlvbiB0ZXJtcyBhbmQgaW1wbGljaXQgb3JkZXJCeXMgbXVzdFxuICAgICAgICAvLyBiZSB0YWtlbiBpbnRvIGFjY291bnQuIEZvciBleGFtcGxlLCB0aGUgcXVlcnkgXCJhID4gMSB8fCBiPT0xXCIgaGFzIGFuIGltcGxpY2l0IFwib3JkZXJCeSBhXCIgZHVlXG4gICAgICAgIC8vIHRvIHRoZSBpbmVxdWFsaXR5LCBhbmQgaXMgZXZhbHVhdGVkIGFzIFwiYSA+IDEgb3JkZXJCeSBhIHx8IGI9PTEgb3JkZXJCeSBhXCIuXG4gICAgICAgIC8vIEEgZG9jdW1lbnQgd2l0aCBjb250ZW50IG9mIHtiOjF9IG1hdGNoZXMgdGhlIGZpbHRlcnMsIGJ1dCBkb2VzIG5vdCBtYXRjaCB0aGUgb3JkZXJCeSBiZWNhdXNlXG4gICAgICAgIC8vIGl0J3MgbWlzc2luZyB0aGUgZmllbGQgJ2EnLlxuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSkpIFxuICAgICAgICAvLyBvcmRlci1ieSBrZXkgYWx3YXlzIG1hdGNoZXNcbiAgICAgICAgaWYgKCFuLmZpZWxkLmlzS2V5RmllbGQoKSAmJiBudWxsID09PSB0LmRhdGEuZmllbGQobi5maWVsZCkpIHJldHVybiAhMTtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH0oZSwgdCkgJiYgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0ZpbHRlcnMoZSwgdCkge1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZS5maWx0ZXJzKSBpZiAoIW4ubWF0Y2hlcyh0KSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIC8qKiBNYWtlcyBzdXJlIGEgZG9jdW1lbnQgaXMgd2l0aGluIHRoZSBib3VuZHMsIGlmIHByb3ZpZGVkLiAqLyAoZSwgdCkgJiYgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0JvdW5kcyhlLCB0KSB7XG4gICAgICAgIGlmIChlLnN0YXJ0QXQgJiYgIVxuICAgICAgICAvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIGRvY3VtZW50IHNvcnRzIGJlZm9yZSBhIGJvdW5kIHVzaW5nIHRoZSBwcm92aWRlZCBzb3J0XG4gKiBvcmRlci5cbiAqL1xuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfYm91bmRTb3J0c0JlZm9yZURvY3VtZW50KGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfYm91bmRDb21wYXJlVG9Eb2N1bWVudChlLCB0LCBuKTtcbiAgICAgICAgICAgIHJldHVybiBlLmluY2x1c2l2ZSA/IHIgPD0gMCA6IHIgPCAwO1xuICAgICAgICB9KGUuc3RhcnRBdCwgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSksIHQpKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChlLmVuZEF0ICYmICFmdW5jdGlvbiBfX1BSSVZBVEVfYm91bmRTb3J0c0FmdGVyRG9jdW1lbnQoZSwgdCwgbikge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9ib3VuZENvbXBhcmVUb0RvY3VtZW50KGUsIHQsIG4pO1xuICAgICAgICAgICAgcmV0dXJuIGUuaW5jbHVzaXZlID8gciA+PSAwIDogciA+IDA7XG4gICAgICAgIH0oZS5lbmRBdCwgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSksIHQpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgLyoqXG4gKiBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIGdyb3VwIHRoYXQgdGhpcyBxdWVyeSB0YXJnZXRzLlxuICpcbiAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgaW4gdGhlIFdlYiBTREsgdG8gZmFjaWxpdGF0ZSBtdWx0aS10YWJcbiAqIHN5bmNocm9uaXphdGlvbiBmb3IgcXVlcnkgcmVzdWx0cy5cbiAqLyAoZSwgdCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeUNvbGxlY3Rpb25Hcm91cChlKSB7XG4gICAgcmV0dXJuIGUuY29sbGVjdGlvbkdyb3VwIHx8IChlLnBhdGgubGVuZ3RoICUgMiA9PSAxID8gZS5wYXRoLmxhc3RTZWdtZW50KCkgOiBlLnBhdGguZ2V0KGUucGF0aC5sZW5ndGggLSAyKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBjb21wYXJhdG9yIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcGFyZSB0d28gZG9jdW1lbnRzXG4gKiBiYXNlZCBvbiB0aGUgUXVlcnkncyBvcmRlcmluZyBjb25zdHJhaW50LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUNvbXBhcmF0b3IoZSkge1xuICAgIHJldHVybiAodCwgbikgPT4ge1xuICAgICAgICBsZXQgciA9ICExO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBfX1BSSVZBVEVfY29tcGFyZURvY3MoaSwgdCwgbik7XG4gICAgICAgICAgICBpZiAoMCAhPT0gZSkgcmV0dXJuIGU7XG4gICAgICAgICAgICByID0gciB8fCBpLmZpZWxkLmlzS2V5RmllbGQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZURvY3MoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBlLmZpZWxkLmlzS2V5RmllbGQoKSA/IERvY3VtZW50S2V5LmNvbXBhcmF0b3IodC5rZXksIG4ua2V5KSA6IGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlRG9jdW1lbnRzQnlGaWVsZChlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSB0LmRhdGEuZmllbGQoZSksIGkgPSBuLmRhdGEuZmllbGQoZSk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSByICYmIG51bGwgIT09IGkgPyBfX1BSSVZBVEVfdmFsdWVDb21wYXJlKHIsIGkpIDogZmFpbCgpO1xuICAgIH0oZS5maWVsZCwgdCwgbik7XG4gICAgc3dpdGNoIChlLmRpcikge1xuICAgICAgY2FzZSBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8gOlxuICAgICAgICByZXR1cm4gcjtcblxuICAgICAgY2FzZSBcImRlc2NcIiAvKiBEaXJlY3Rpb24uREVTQ0VORElORyAqLyA6XG4gICAgICAgIHJldHVybiAtMSAqIHI7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIG1hcCBpbXBsZW1lbnRhdGlvbiB0aGF0IHVzZXMgb2JqZWN0cyBhcyBrZXlzLiBPYmplY3RzIG11c3QgaGF2ZSBhblxuICogYXNzb2NpYXRlZCBlcXVhbHMgZnVuY3Rpb24gYW5kIG11c3QgYmUgaW1tdXRhYmxlLiBFbnRyaWVzIGluIHRoZSBtYXAgYXJlXG4gKiBzdG9yZWQgdG9nZXRoZXIgd2l0aCB0aGUga2V5IGJlaW5nIHByb2R1Y2VkIGZyb20gdGhlIG1hcEtleUZuLiBUaGlzIG1hcFxuICogYXV0b21hdGljYWxseSBoYW5kbGVzIGNvbGxpc2lvbnMgb2Yga2V5cy5cbiAqLyBjbGFzcyBPYmplY3RNYXAge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5tYXBLZXlGbiA9IGUsIHRoaXMuZXF1YWxzRm4gPSB0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbm5lciBtYXAgZm9yIGEga2V5L3ZhbHVlIHBhaXIuIER1ZSB0byB0aGUgcG9zc2liaWxpdHkgb2YgY29sbGlzaW9ucyB3ZVxuICAgICAgICAgKiBrZWVwIGEgbGlzdCBvZiBlbnRyaWVzIHRoYXQgd2UgZG8gYSBsaW5lYXIgc2VhcmNoIHRocm91Z2ggdG8gZmluZCBhbiBhY3R1YWxcbiAgICAgICAgICogbWF0Y2guIE5vdGUgdGhhdCBjb2xsaXNpb25zIHNob3VsZCBiZSByYXJlLCBzbyB3ZSBzdGlsbCBleHBlY3QgbmVhclxuICAgICAgICAgKiBjb25zdGFudCB0aW1lIGxvb2t1cHMgaW4gcHJhY3RpY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlubmVyID0ge30sIFxuICAgICAgICAvKiogVGhlIG51bWJlciBvZiBlbnRyaWVzIHN0b3JlZCBpbiB0aGUgbWFwICovXG4gICAgICAgIHRoaXMuaW5uZXJTaXplID0gMDtcbiAgICB9XG4gICAgLyoqIEdldCBhIHZhbHVlIGZvciB0aGlzIGtleSwgb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXMgbm90IGV4aXN0LiAqLyAgICBnZXQoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5tYXBLZXlGbihlKSwgbiA9IHRoaXMuaW5uZXJbdF07XG4gICAgICAgIGlmICh2b2lkIDAgIT09IG4pIGZvciAoY29uc3QgW3QsIHJdIG9mIG4pIGlmICh0aGlzLmVxdWFsc0ZuKHQsIGUpKSByZXR1cm4gcjtcbiAgICB9XG4gICAgaGFzKGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdGhpcy5nZXQoZSk7XG4gICAgfVxuICAgIC8qKiBQdXQgdGhpcyBrZXkgYW5kIHZhbHVlIGluIHRoZSBtYXAuICovICAgIHNldChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLm1hcEtleUZuKGUpLCByID0gdGhpcy5pbm5lcltuXTtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gcikgcmV0dXJuIHRoaXMuaW5uZXJbbl0gPSBbIFsgZSwgdCBdIF0sIHZvaWQgdGhpcy5pbm5lclNpemUrKztcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCByLmxlbmd0aDsgbisrKSBpZiAodGhpcy5lcXVhbHNGbihyW25dWzBdLCBlKSkgXG4gICAgICAgIC8vIFRoaXMgaXMgdXBkYXRpbmcgYW4gZXhpc3RpbmcgZW50cnkgYW5kIGRvZXMgbm90IGluY3JlYXNlIGBpbm5lclNpemVgLlxuICAgICAgICByZXR1cm4gdm9pZCAocltuXSA9IFsgZSwgdCBdKTtcbiAgICAgICAgci5wdXNoKFsgZSwgdCBdKSwgdGhpcy5pbm5lclNpemUrKztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoaXMga2V5IGZyb20gdGhlIG1hcC4gUmV0dXJucyBhIGJvb2xlYW4gaWYgYW55dGhpbmcgd2FzIGRlbGV0ZWQuXG4gICAgICovICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLm1hcEtleUZuKGUpLCBuID0gdGhpcy5pbm5lclt0XTtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gbikgcmV0dXJuICExO1xuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIGlmICh0aGlzLmVxdWFsc0ZuKG5bcl1bMF0sIGUpKSByZXR1cm4gMSA9PT0gbi5sZW5ndGggPyBkZWxldGUgdGhpcy5pbm5lclt0XSA6IG4uc3BsaWNlKHIsIDEpLCBcbiAgICAgICAgdGhpcy5pbm5lclNpemUtLSwgITA7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZm9yRWFjaChlKSB7XG4gICAgICAgIGZvckVhY2godGhpcy5pbm5lciwgKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFt0LCByXSBvZiBuKSBlKHQsIHIpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBpc0VtcHR5KHRoaXMuaW5uZXIpO1xuICAgIH1cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lclNpemU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBzZSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKSB7XG4gICAgcmV0dXJuIHNlO1xufVxuXG5jb25zdCBvZSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIGRvY3VtZW50TWFwKC4uLmUpIHtcbiAgICBsZXQgdCA9IG9lO1xuICAgIGZvciAoY29uc3QgbiBvZiBlKSB0ID0gdC5pbnNlcnQobi5rZXksIG4pO1xuICAgIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29udmVydE92ZXJsYXllZERvY3VtZW50TWFwVG9Eb2N1bWVudE1hcChlKSB7XG4gICAgbGV0IHQgPSBvZTtcbiAgICByZXR1cm4gZS5mb3JFYWNoKCgoZSwgbikgPT4gdCA9IHQuaW5zZXJ0KGUsIG4ub3ZlcmxheWVkRG9jdW1lbnQpKSksIHQ7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfbmV3RG9jdW1lbnRLZXlNYXAoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX25ld011dGF0aW9uTWFwKCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfbmV3RG9jdW1lbnRLZXlNYXAoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX25ld0RvY3VtZW50S2V5TWFwKCkge1xuICAgIHJldHVybiBuZXcgT2JqZWN0TWFwKChlID0+IGUudG9TdHJpbmcoKSksICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSk7XG59XG5cbmNvbnN0IF9lID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcblxuY29uc3QgYWUgPSBuZXcgU29ydGVkU2V0KERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoLi4uZSkge1xuICAgIGxldCB0ID0gYWU7XG4gICAgZm9yIChjb25zdCBuIG9mIGUpIHQgPSB0LmFkZChuKTtcbiAgICByZXR1cm4gdDtcbn1cblxuY29uc3QgdWUgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKTtcblxuZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldElkU2V0KCkge1xuICAgIHJldHVybiB1ZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmV0dXJucyBhbiBEb3VibGVWYWx1ZSBmb3IgYHZhbHVlYCB0aGF0IGlzIGVuY29kZWQgYmFzZWQgdGhlIHNlcmlhbGl6ZXInc1xuICogYHVzZVByb3RvM0pzb25gIHNldHRpbmcuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RvRG91YmxlKGUsIHQpIHtcbiAgICBpZiAoZS51c2VQcm90bzNKc29uKSB7XG4gICAgICAgIGlmIChpc05hTih0KSkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIk5hTlwiXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0ID09PSAxIC8gMCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIkluZmluaXR5XCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHQgPT09IC0xIC8gMCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIi1JbmZpbml0eVwiXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGRvdWJsZVZhbHVlOiBfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8odCkgPyBcIi0wXCIgOiB0XG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIEludGVnZXJWYWx1ZSBmb3IgYHZhbHVlYC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdG9JbnRlZ2VyKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnRlZ2VyVmFsdWU6IFwiXCIgKyBlXG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdmFsdWUgZm9yIGEgbnVtYmVyIHRoYXQncyBhcHByb3ByaWF0ZSB0byBwdXQgaW50byBhIHByb3RvLlxuICogVGhlIHJldHVybiB2YWx1ZSBpcyBhbiBJbnRlZ2VyVmFsdWUgaWYgaXQgY2FuIHNhZmVseSByZXByZXNlbnQgdGhlIHZhbHVlLFxuICogb3RoZXJ3aXNlIGEgRG91YmxlVmFsdWUgaXMgcmV0dXJuZWQuXG4gKi8gZnVuY3Rpb24gdG9OdW1iZXIoZSwgdCkge1xuICAgIHJldHVybiBpc1NhZmVJbnRlZ2VyKHQpID8gX19QUklWQVRFX3RvSW50ZWdlcih0KSA6IF9fUFJJVkFURV90b0RvdWJsZShlLCB0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBVc2VkIHRvIHJlcHJlc2VudCBhIGZpZWxkIHRyYW5zZm9ybSBvbiBhIG11dGF0aW9uLiAqLyBjbGFzcyBUcmFuc2Zvcm1PcGVyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgc3RydWN0dXJhbCB0eXBlIG9mIGBUcmFuc2Zvcm1PcGVyYXRpb25gIGlzIHVuaXF1ZS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNTQ1MVxuICAgICAgICB0aGlzLl8gPSB2b2lkIDA7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBsb2NhbCB0cmFuc2Zvcm0gcmVzdWx0IGFnYWluc3QgdGhlIHByb3ZpZGVkIGBwcmV2aW91c1ZhbHVlYCxcbiAqIG9wdGlvbmFsbHkgdXNpbmcgdGhlIHByb3ZpZGVkIGxvY2FsV3JpdGVUaW1lLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseVRyYW5zZm9ybU9wZXJhdGlvblRvTG9jYWxWaWV3KGUsIHQsIG4pIHtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm0gPyBmdW5jdGlvbiBzZXJ2ZXJUaW1lc3RhbXAkMShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBfX3R5cGVfXzoge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmdWYWx1ZTogXCJzZXJ2ZXJfdGltZXN0YW1wXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9fbG9jYWxfd3JpdGVfdGltZV9fOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzOiBlLnNlY29uZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW5vczogZS5uYW5vc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBXZSBzaG91bGQgYXZvaWQgc3RvcmluZyBkZWVwbHkgbmVzdGVkIHNlcnZlciB0aW1lc3RhbXAgbWFwIHZhbHVlc1xuICAgICAgICAvLyBiZWNhdXNlIHdlIG5ldmVyIHVzZSB0aGUgaW50ZXJtZWRpYXRlIFwicHJldmlvdXMgdmFsdWVzXCIuXG4gICAgICAgIC8vIEZvciBleGFtcGxlOlxuICAgICAgICAvLyBwcmV2aW91czogNDJMLCBhZGQ6IHQxLCByZXN1bHQ6IHQxIC0+IDQyTFxuICAgICAgICAvLyBwcmV2aW91czogdDEsICBhZGQ6IHQyLCByZXN1bHQ6IHQyIC0+IDQyTCAoTk9UIHQyIC0+IHQxIC0+IDQyTClcbiAgICAgICAgLy8gcHJldmlvdXM6IHQyLCAgYWRkOiB0MywgcmVzdWx0OiB0MyAtPiA0MkwgKE5PVCB0MyAtPiB0MiAtPiB0MSAtPiA0MkwpXG4gICAgICAgIC8vIGBnZXRQcmV2aW91c1ZhbHVlYCByZWN1cnNpdmVseSB0cmF2ZXJzZXMgc2VydmVyIHRpbWVzdGFtcHMgdG8gZmluZCB0aGVcbiAgICAgICAgLy8gbGVhc3QgcmVjZW50IFZhbHVlLlxuICAgICAgICAgICAgICAgIHJldHVybiB0ICYmIF9fUFJJVkFURV9pc1NlcnZlclRpbWVzdGFtcCh0KSAmJiAodCA9IF9fUFJJVkFURV9nZXRQcmV2aW91c1ZhbHVlKHQpKSwgXG4gICAgICAgIHQgJiYgKG4uZmllbGRzLl9fcHJldmlvdXNfdmFsdWVfXyA9IHQpLCB7XG4gICAgICAgICAgICBtYXBWYWx1ZTogblxuICAgICAgICB9O1xuICAgIH0obiwgdCkgOiBlIGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24gPyBfX1BSSVZBVEVfYXBwbHlBcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQpIDogZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbiA/IF9fUFJJVkFURV9hcHBseUFycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQpIDogZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5TnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvblRvTG9jYWxWaWV3KGUsIHQpIHtcbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBTaW5jZSBKYXZhU2NyaXB0J3MgaW50ZWdlciBhcml0aG1ldGljIGlzIGxpbWl0ZWQgdG8gNTMgYml0XG4gICAgICAgIC8vIHByZWNpc2lvbiBhbmQgcmVzb2x2ZXMgb3ZlcmZsb3dzIGJ5IHJlZHVjaW5nIHByZWNpc2lvbiwgd2UgZG8gbm90XG4gICAgICAgIC8vIG1hbnVhbGx5IGNhcCBvdmVyZmxvd3MgYXQgMl42My5cbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9jb21wdXRlVHJhbnNmb3JtT3BlcmF0aW9uQmFzZVZhbHVlKGUsIHQpLCByID0gYXNOdW1iZXIobikgKyBhc051bWJlcihlLlBlKTtcbiAgICAgICAgcmV0dXJuIGlzSW50ZWdlcihuKSAmJiBpc0ludGVnZXIoZS5QZSkgPyBfX1BSSVZBVEVfdG9JbnRlZ2VyKHIpIDogX19QUklWQVRFX3RvRG91YmxlKGUuc2VyaWFsaXplciwgcik7XG4gICAgfShlLCB0KTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBhIGZpbmFsIHRyYW5zZm9ybSByZXN1bHQgYWZ0ZXIgdGhlIHRyYW5zZm9ybSBoYXMgYmVlbiBhY2tub3dsZWRnZWRcbiAqIGJ5IHRoZSBzZXJ2ZXIsIHBvdGVudGlhbGx5IHVzaW5nIHRoZSBzZXJ2ZXItcHJvdmlkZWQgdHJhbnNmb3JtUmVzdWx0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseVRyYW5zZm9ybU9wZXJhdGlvblRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgIC8vIFRoZSBzZXJ2ZXIganVzdCBzZW5kcyBudWxsIGFzIHRoZSB0cmFuc2Zvcm0gcmVzdWx0IGZvciBhcnJheSBvcGVyYXRpb25zLFxuICAgIC8vIHNvIHdlIGhhdmUgdG8gY2FsY3VsYXRlIGEgcmVzdWx0IHRoZSBzYW1lIGFzIHdlIGRvIGZvciBsb2NhbFxuICAgIC8vIGFwcGxpY2F0aW9ucy5cbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uID8gX19QUklWQVRFX2FwcGx5QXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbihlLCB0KSA6IGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24gPyBfX1BSSVZBVEVfYXBwbHlBcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbihlLCB0KSA6IG47XG59XG5cbi8qKlxuICogSWYgdGhpcyB0cmFuc2Zvcm0gb3BlcmF0aW9uIGlzIG5vdCBpZGVtcG90ZW50LCByZXR1cm5zIHRoZSBiYXNlIHZhbHVlIHRvXG4gKiBwZXJzaXN0IGZvciB0aGlzIHRyYW5zZm9ybS4gSWYgYSBiYXNlIHZhbHVlIGlzIHJldHVybmVkLCB0aGUgdHJhbnNmb3JtXG4gKiBvcGVyYXRpb24gaXMgYWx3YXlzIGFwcGxpZWQgdG8gdGhpcyBiYXNlIHZhbHVlLCBldmVuIGlmIGRvY3VtZW50IGhhc1xuICogYWxyZWFkeSBiZWVuIHVwZGF0ZWQuXG4gKlxuICogQmFzZSB2YWx1ZXMgcHJvdmlkZSBjb25zaXN0ZW50IGJlaGF2aW9yIGZvciBub24taWRlbXBvdGVudCB0cmFuc2Zvcm1zIGFuZFxuICogYWxsb3cgdXMgdG8gcmV0dXJuIHRoZSBzYW1lIGxhdGVuY3ktY29tcGVuc2F0ZWQgdmFsdWUgZXZlbiBpZiB0aGUgYmFja2VuZFxuICogaGFzIGFscmVhZHkgYXBwbGllZCB0aGUgdHJhbnNmb3JtIG9wZXJhdGlvbi4gVGhlIGJhc2UgdmFsdWUgaXMgbnVsbCBmb3JcbiAqIGlkZW1wb3RlbnQgdHJhbnNmb3JtcywgYXMgdGhleSBjYW4gYmUgcmUtcGxheWVkIGV2ZW4gaWYgdGhlIGJhY2tlbmQgaGFzXG4gKiBhbHJlYWR5IGFwcGxpZWQgdGhlbS5cbiAqXG4gKiBAcmV0dXJucyBhIGJhc2UgdmFsdWUgdG8gc3RvcmUgYWxvbmcgd2l0aCB0aGUgbXV0YXRpb24sIG9yIG51bGwgZm9yXG4gKiBpZGVtcG90ZW50IHRyYW5zZm9ybXMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NvbXB1dGVUcmFuc2Zvcm1PcGVyYXRpb25CYXNlVmFsdWUoZSwgdCkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRUcmFuc2Zvcm1PcGVyYXRpb24gPyBcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZWl0aGVyIGFuIEludGVnZXJWYWx1ZSBvciBhIERvdWJsZVZhbHVlLiAqL1xuICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9pc051bWJlcihlKSB7XG4gICAgICAgIHJldHVybiBpc0ludGVnZXIoZSkgfHwgZnVuY3Rpb24gX19QUklWQVRFX2lzRG91YmxlKGUpIHtcbiAgICAgICAgICAgIHJldHVybiAhIWUgJiYgXCJkb3VibGVWYWx1ZVwiIGluIGU7XG4gICAgICAgIH0oZSk7XG4gICAgfSh0KSA/IHQgOiB7XG4gICAgICAgIGludGVnZXJWYWx1ZTogMFxuICAgIH0gOiBudWxsO1xufVxuXG4vKiogVHJhbnNmb3JtcyBhIHZhbHVlIGludG8gYSBzZXJ2ZXItZ2VuZXJhdGVkIHRpbWVzdGFtcC4gKi9cbmNsYXNzIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm0gZXh0ZW5kcyBUcmFuc2Zvcm1PcGVyYXRpb24ge31cblxuLyoqIFRyYW5zZm9ybXMgYW4gYXJyYXkgdmFsdWUgdmlhIGEgdW5pb24gb3BlcmF0aW9uLiAqLyBjbGFzcyBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbiBleHRlbmRzIFRyYW5zZm9ybU9wZXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmVsZW1lbnRzID0gZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseUFycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY29lcmNlZEZpZWxkVmFsdWVzQXJyYXkodCk7XG4gICAgZm9yIChjb25zdCB0IG9mIGUuZWxlbWVudHMpIG4uc29tZSgoZSA9PiBfX1BSSVZBVEVfdmFsdWVFcXVhbHMoZSwgdCkpKSB8fCBuLnB1c2godCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXJyYXlWYWx1ZToge1xuICAgICAgICAgICAgdmFsdWVzOiBuXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKiogVHJhbnNmb3JtcyBhbiBhcnJheSB2YWx1ZSB2aWEgYSByZW1vdmUgb3BlcmF0aW9uLiAqLyBjbGFzcyBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24gZXh0ZW5kcyBUcmFuc2Zvcm1PcGVyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5lbGVtZW50cyA9IGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlBcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbihlLCB0KSB7XG4gICAgbGV0IG4gPSBfX1BSSVZBVEVfY29lcmNlZEZpZWxkVmFsdWVzQXJyYXkodCk7XG4gICAgZm9yIChjb25zdCB0IG9mIGUuZWxlbWVudHMpIG4gPSBuLmZpbHRlcigoZSA9PiAhX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUsIHQpKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXJyYXlWYWx1ZToge1xuICAgICAgICAgICAgdmFsdWVzOiBuXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGJhY2tlbmQgc2VtYW50aWNzIGZvciBsb2NhbGx5IGNvbXB1dGVkIE5VTUVSSUNfQUREIChpbmNyZW1lbnQpXG4gKiB0cmFuc2Zvcm1zLiBDb252ZXJ0cyBhbGwgZmllbGQgdmFsdWVzIHRvIGludGVnZXJzIG9yIGRvdWJsZXMsIGJ1dCB1bmxpa2UgdGhlXG4gKiBiYWNrZW5kIGRvZXMgbm90IGNhcCBpbnRlZ2VyIHZhbHVlcyBhdCAyXjYzLiBJbnN0ZWFkLCBKYXZhU2NyaXB0IG51bWJlclxuICogYXJpdGhtZXRpYyBpcyB1c2VkIGFuZCBwcmVjaXNpb24gbG9zcyBjYW4gb2NjdXIgZm9yIHZhbHVlcyBncmVhdGVyIHRoYW4gMl41My5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvbiBleHRlbmRzIFRyYW5zZm9ybU9wZXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLnNlcmlhbGl6ZXIgPSBlLCB0aGlzLlBlID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzTnVtYmVyKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmludGVnZXJWYWx1ZSB8fCBlLmRvdWJsZVZhbHVlKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvZXJjZWRGaWVsZFZhbHVlc0FycmF5KGUpIHtcbiAgICByZXR1cm4gaXNBcnJheShlKSAmJiBlLmFycmF5VmFsdWUudmFsdWVzID8gZS5hcnJheVZhbHVlLnZhbHVlcy5zbGljZSgpIDogW107XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogQSBmaWVsZCBwYXRoIGFuZCB0aGUgVHJhbnNmb3JtT3BlcmF0aW9uIHRvIHBlcmZvcm0gdXBvbiBpdC4gKi8gY2xhc3MgRmllbGRUcmFuc2Zvcm0ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5maWVsZCA9IGUsIHRoaXMudHJhbnNmb3JtID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZFRyYW5zZm9ybUVxdWFscyhlLCB0KSB7XG4gICAgcmV0dXJuIGUuZmllbGQuaXNFcXVhbCh0LmZpZWxkKSAmJiBmdW5jdGlvbiBfX1BSSVZBVEVfdHJhbnNmb3JtT3BlcmF0aW9uRXF1YWxzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbiAmJiB0IGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24gfHwgZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbiAmJiB0IGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uID8gX19QUklWQVRFX2FycmF5RXF1YWxzKGUuZWxlbWVudHMsIHQuZWxlbWVudHMsIF9fUFJJVkFURV92YWx1ZUVxdWFscykgOiBlIGluc3RhbmNlb2YgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRUcmFuc2Zvcm1PcGVyYXRpb24gJiYgdCBpbnN0YW5jZW9mIF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uID8gX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUuUGUsIHQuUGUpIDogZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm0gJiYgdCBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm07XG4gICAgfShlLnRyYW5zZm9ybSwgdC50cmFuc2Zvcm0pO1xufVxuXG4vKiogVGhlIHJlc3VsdCBvZiBzdWNjZXNzZnVsbHkgYXBwbHlpbmcgYSBtdXRhdGlvbiB0byB0aGUgYmFja2VuZC4gKi9cbmNsYXNzIE11dGF0aW9uUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgdmVyc2lvbiBhdCB3aGljaCB0aGUgbXV0YXRpb24gd2FzIGNvbW1pdHRlZDpcbiAgICAgKlxuICAgICAqIC0gRm9yIG1vc3Qgb3BlcmF0aW9ucywgdGhpcyBpcyB0aGUgdXBkYXRlVGltZSBpbiB0aGUgV3JpdGVSZXN1bHQuXG4gICAgICogLSBGb3IgZGVsZXRlcywgdGhlIGNvbW1pdFRpbWUgb2YgdGhlIFdyaXRlUmVzcG9uc2UgKGJlY2F1c2UgZGVsZXRlcyBhcmVcbiAgICAgKiAgIG5vdCBzdG9yZWQgYW5kIGhhdmUgbm8gdXBkYXRlVGltZSkuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlc2UgdmVyc2lvbnMgY2FuIGJlIGRpZmZlcmVudDogTm8tb3Agd3JpdGVzIHdpbGwgbm90IGNoYW5nZVxuICAgICAqIHRoZSB1cGRhdGVUaW1lIGV2ZW4gdGhvdWdoIHRoZSBjb21taXRUaW1lIGFkdmFuY2VzLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHRpbmcgZmllbGRzIHJldHVybmVkIGZyb20gdGhlIGJhY2tlbmQgYWZ0ZXIgYSBtdXRhdGlvblxuICAgICAqIGNvbnRhaW5pbmcgZmllbGQgdHJhbnNmb3JtcyBoYXMgYmVlbiBjb21taXR0ZWQuIENvbnRhaW5zIG9uZSBGaWVsZFZhbHVlXG4gICAgICogZm9yIGVhY2ggRmllbGRUcmFuc2Zvcm0gdGhhdCB3YXMgaW4gdGhlIG11dGF0aW9uLlxuICAgICAqXG4gICAgICogV2lsbCBiZSBlbXB0eSBpZiB0aGUgbXV0YXRpb24gZGlkIG5vdCBjb250YWluIGFueSBmaWVsZCB0cmFuc2Zvcm1zLlxuICAgICAqL1xuICAgIHQpIHtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gZSwgdGhpcy50cmFuc2Zvcm1SZXN1bHRzID0gdDtcbiAgICB9XG59XG5cbi8qKlxuICogRW5jb2RlcyBhIHByZWNvbmRpdGlvbiBmb3IgYSBtdXRhdGlvbi4gVGhpcyBmb2xsb3dzIHRoZSBtb2RlbCB0aGF0IHRoZVxuICogYmFja2VuZCBhY2NlcHRzIHdpdGggdGhlIHNwZWNpYWwgY2FzZSBvZiBhbiBleHBsaWNpdCBcImVtcHR5XCIgcHJlY29uZGl0aW9uXG4gKiAobWVhbmluZyBubyBwcmVjb25kaXRpb24pLlxuICovIGNsYXNzIFByZWNvbmRpdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWUgPSBlLCB0aGlzLmV4aXN0cyA9IHQ7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IGVtcHR5IFByZWNvbmRpdGlvbi4gKi8gICAgc3RhdGljIG5vbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJlY29uZGl0aW9uO1xuICAgIH1cbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBQcmVjb25kaXRpb24gd2l0aCBhbiBleGlzdHMgZmxhZy4gKi8gICAgc3RhdGljIGV4aXN0cyhlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJlY29uZGl0aW9uKHZvaWQgMCwgZSk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IFByZWNvbmRpdGlvbiBiYXNlZCBvbiBhIHZlcnNpb24gYSBkb2N1bWVudCBleGlzdHMgYXQuICovICAgIHN0YXRpYyB1cGRhdGVUaW1lKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcmVjb25kaXRpb24oZSk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBQcmVjb25kaXRpb24gaXMgZW1wdHkuICovICAgIGdldCBpc05vbmUoKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHRoaXMudXBkYXRlVGltZSAmJiB2b2lkIDAgPT09IHRoaXMuZXhpc3RzO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhpc3RzID09PSBlLmV4aXN0cyAmJiAodGhpcy51cGRhdGVUaW1lID8gISFlLnVwZGF0ZVRpbWUgJiYgdGhpcy51cGRhdGVUaW1lLmlzRXF1YWwoZS51cGRhdGVUaW1lKSA6ICFlLnVwZGF0ZVRpbWUpO1xuICAgIH1cbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJlY29uZGl0aW9ucyBpcyB2YWxpZCBmb3IgdGhlIGdpdmVuIGRvY3VtZW50LiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcHJlY29uZGl0aW9uSXNWYWxpZEZvckRvY3VtZW50KGUsIHQpIHtcbiAgICByZXR1cm4gdm9pZCAwICE9PSBlLnVwZGF0ZVRpbWUgPyB0LmlzRm91bmREb2N1bWVudCgpICYmIHQudmVyc2lvbi5pc0VxdWFsKGUudXBkYXRlVGltZSkgOiB2b2lkIDAgPT09IGUuZXhpc3RzIHx8IGUuZXhpc3RzID09PSB0LmlzRm91bmREb2N1bWVudCgpO1xufVxuXG4vKipcbiAqIEEgbXV0YXRpb24gZGVzY3JpYmVzIGEgc2VsZi1jb250YWluZWQgY2hhbmdlIHRvIGEgZG9jdW1lbnQuIE11dGF0aW9ucyBjYW5cbiAqIGNyZWF0ZSwgcmVwbGFjZSwgZGVsZXRlLCBhbmQgdXBkYXRlIHN1YnNldHMgb2YgZG9jdW1lbnRzLlxuICpcbiAqIE11dGF0aW9ucyBub3Qgb25seSBhY3Qgb24gdGhlIHZhbHVlIG9mIHRoZSBkb2N1bWVudCBidXQgYWxzbyBpdHMgdmVyc2lvbi5cbiAqXG4gKiBGb3IgbG9jYWwgbXV0YXRpb25zIChtdXRhdGlvbnMgdGhhdCBoYXZlbid0IGJlZW4gY29tbWl0dGVkIHlldCksIHdlIHByZXNlcnZlXG4gKiB0aGUgZXhpc3RpbmcgdmVyc2lvbiBmb3IgU2V0IGFuZCBQYXRjaCBtdXRhdGlvbnMuIEZvciBEZWxldGUgbXV0YXRpb25zLCB3ZVxuICogcmVzZXQgdGhlIHZlcnNpb24gdG8gMC5cbiAqXG4gKiBIZXJlJ3MgdGhlIGV4cGVjdGVkIHRyYW5zaXRpb24gdGFibGUuXG4gKlxuICogTVVUQVRJT04gICAgICAgICAgIEFQUExJRUQgVE8gICAgICAgICAgICBSRVNVTFRTIElOXG4gKlxuICogU2V0TXV0YXRpb24gICAgICAgIERvY3VtZW50KHYzKSAgICAgICAgICBEb2N1bWVudCh2MylcbiAqIFNldE11dGF0aW9uICAgICAgICBOb0RvY3VtZW50KHYzKSAgICAgICAgRG9jdW1lbnQodjApXG4gKiBTZXRNdXRhdGlvbiAgICAgICAgSW52YWxpZERvY3VtZW50KHYwKSAgIERvY3VtZW50KHYwKVxuICogUGF0Y2hNdXRhdGlvbiAgICAgIERvY3VtZW50KHYzKSAgICAgICAgICBEb2N1bWVudCh2MylcbiAqIFBhdGNoTXV0YXRpb24gICAgICBOb0RvY3VtZW50KHYzKSAgICAgICAgTm9Eb2N1bWVudCh2MylcbiAqIFBhdGNoTXV0YXRpb24gICAgICBJbnZhbGlkRG9jdW1lbnQodjApICAgVW5rbm93bkRvY3VtZW50KHYzKVxuICogRGVsZXRlTXV0YXRpb24gICAgIERvY3VtZW50KHYzKSAgICAgICAgICBOb0RvY3VtZW50KHYwKVxuICogRGVsZXRlTXV0YXRpb24gICAgIE5vRG9jdW1lbnQodjMpICAgICAgICBOb0RvY3VtZW50KHYwKVxuICogRGVsZXRlTXV0YXRpb24gICAgIEludmFsaWREb2N1bWVudCh2MCkgICBOb0RvY3VtZW50KHYwKVxuICpcbiAqIEZvciBhY2tub3dsZWRnZWQgbXV0YXRpb25zLCB3ZSB1c2UgdGhlIHVwZGF0ZVRpbWUgb2YgdGhlIFdyaXRlUmVzcG9uc2UgYXNcbiAqIHRoZSByZXN1bHRpbmcgdmVyc2lvbiBmb3IgU2V0IGFuZCBQYXRjaCBtdXRhdGlvbnMuIEFzIGRlbGV0ZXMgaGF2ZSBub1xuICogZXhwbGljaXQgdXBkYXRlIHRpbWUsIHdlIHVzZSB0aGUgY29tbWl0VGltZSBvZiB0aGUgV3JpdGVSZXNwb25zZSBmb3JcbiAqIERlbGV0ZSBtdXRhdGlvbnMuXG4gKlxuICogSWYgYSBtdXRhdGlvbiBpcyBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmQgYnV0IGZhaWxzIHRoZSBwcmVjb25kaXRpb24gY2hlY2tcbiAqIGxvY2FsbHksIHdlIHRyYW5zaXRpb24gdG8gYW4gYFVua25vd25Eb2N1bWVudGAgYW5kIHJlbHkgb24gV2F0Y2ggdG8gc2VuZCB1c1xuICogdGhlIHVwZGF0ZWQgdmVyc2lvbi5cbiAqXG4gKiBGaWVsZCB0cmFuc2Zvcm1zIGFyZSB1c2VkIG9ubHkgd2l0aCBQYXRjaCBhbmQgU2V0IE11dGF0aW9ucy4gV2UgdXNlIHRoZVxuICogYHVwZGF0ZVRyYW5zZm9ybXNgIG1lc3NhZ2UgdG8gc3RvcmUgdHJhbnNmb3JtcywgcmF0aGVyIHRoYW4gdGhlIGB0cmFuc2Zvcm1zYHNcbiAqIG1lc3NhZ2VzLlxuICpcbiAqICMjIFN1YmNsYXNzaW5nIE5vdGVzXG4gKlxuICogRXZlcnkgdHlwZSBvZiBtdXRhdGlvbiBuZWVkcyB0byBpbXBsZW1lbnQgaXRzIG93biBhcHBseVRvUmVtb3RlRG9jdW1lbnQoKSBhbmRcbiAqIGFwcGx5VG9Mb2NhbFZpZXcoKSB0byBpbXBsZW1lbnQgdGhlIGFjdHVhbCBiZWhhdmlvciBvZiBhcHBseWluZyB0aGUgbXV0YXRpb25cbiAqIHRvIHNvbWUgc291cmNlIGRvY3VtZW50IChzZWUgYHNldE11dGF0aW9uQXBwbHlUb1JlbW90ZURvY3VtZW50KClgIGZvciBhblxuICogZXhhbXBsZSkuXG4gKi8gY2xhc3MgTXV0YXRpb24ge31cblxuLyoqXG4gKiBBIHV0aWxpdHkgbWV0aG9kIHRvIGNhbGN1bGF0ZSBhIGBNdXRhdGlvbmAgcmVwcmVzZW50aW5nIHRoZSBvdmVybGF5IGZyb20gdGhlXG4gKiBmaW5hbCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQsIGFuZCBhIGBGaWVsZE1hc2tgIHJlcHJlc2VudGluZyB0aGUgZmllbGRzIHRoYXRcbiAqIGFyZSBtdXRhdGVkIGJ5IHRoZSBsb2NhbCBtdXRhdGlvbnMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NhbGN1bGF0ZU92ZXJsYXlNdXRhdGlvbihlLCB0KSB7XG4gICAgaWYgKCFlLmhhc0xvY2FsTXV0YXRpb25zIHx8IHQgJiYgMCA9PT0gdC5maWVsZHMubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAvLyBtYXNrIGlzIG51bGwgd2hlbiBzZXRzIG9yIGRlbGV0ZXMgYXJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgZG9jdW1lbnQuXG4gICAgICAgIGlmIChudWxsID09PSB0KSByZXR1cm4gZS5pc05vRG9jdW1lbnQoKSA/IG5ldyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24oZS5rZXksIFByZWNvbmRpdGlvbi5ub25lKCkpIDogbmV3IF9fUFJJVkFURV9TZXRNdXRhdGlvbihlLmtleSwgZS5kYXRhLCBQcmVjb25kaXRpb24ubm9uZSgpKTtcbiAgICB7XG4gICAgICAgIGNvbnN0IG4gPSBlLmRhdGEsIHIgPSBPYmplY3RWYWx1ZS5lbXB0eSgpO1xuICAgICAgICBsZXQgaSA9IG5ldyBTb3J0ZWRTZXQoRmllbGRQYXRoJDEuY29tcGFyYXRvcik7XG4gICAgICAgIGZvciAobGV0IGUgb2YgdC5maWVsZHMpIGlmICghaS5oYXMoZSkpIHtcbiAgICAgICAgICAgIGxldCB0ID0gbi5maWVsZChlKTtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBkZWxldGluZyBhIG5lc3RlZCBmaWVsZCwgd2UgdGFrZSB0aGUgaW1tZWRpYXRlIHBhcmVudCBhc1xuICAgICAgICAgICAgLy8gdGhlIG1hc2sgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHJlc3VsdGluZyBtdXRhdGlvbi5cbiAgICAgICAgICAgIC8vIEp1c3RpZmljYXRpb246IE5lc3RlZCBmaWVsZHMgY2FuIGNyZWF0ZSBwYXJlbnQgZmllbGRzIGltcGxpY2l0bHkuIElmXG4gICAgICAgICAgICAvLyBvbmx5IGEgbGVhZiBlbnRyeSBpcyBkZWxldGVkIGluIGxhdGVyIG11dGF0aW9ucywgdGhlIHBhcmVudCBmaWVsZFxuICAgICAgICAgICAgLy8gc2hvdWxkIHN0aWxsIHJlbWFpbiwgYnV0IHdlIG1heSBoYXZlIGxvc3QgdGhpcyBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgIC8vIENvbnNpZGVyIG11dGF0aW9uIChmb28uYmFyIDEpLCB0aGVuIG11dGF0aW9uIChmb28uYmFyIGRlbGV0ZSgpKS5cbiAgICAgICAgICAgIC8vIFRoaXMgbGVhdmVzIHRoZSBmaW5hbCByZXN1bHQgKGZvbywge30pLiBEZXNwaXRlIHRoZSBmYWN0IHRoYXQgYGRvY2BcbiAgICAgICAgICAgIC8vIGhhcyB0aGUgY29ycmVjdCByZXN1bHQsIGBmb29gIGlzIG5vdCBpbiBgbWFza2AsIGFuZCB0aGUgcmVzdWx0aW5nXG4gICAgICAgICAgICAvLyBtdXRhdGlvbiB3b3VsZCBtaXNzIGBmb29gLlxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gdCAmJiBlLmxlbmd0aCA+IDEgJiYgKGUgPSBlLnBvcExhc3QoKSwgdCA9IG4uZmllbGQoZSkpLCBudWxsID09PSB0ID8gci5kZWxldGUoZSkgOiByLnNldChlLCB0KSwgXG4gICAgICAgICAgICBpID0gaS5hZGQoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbihlLmtleSwgciwgbmV3IEZpZWxkTWFzayhpLnRvQXJyYXkoKSksIFByZWNvbmRpdGlvbi5ub25lKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoaXMgbXV0YXRpb24gdG8gdGhlIGdpdmVuIGRvY3VtZW50IGZvciB0aGUgcHVycG9zZXMgb2YgY29tcHV0aW5nIGFcbiAqIG5ldyByZW1vdGUgZG9jdW1lbnQuIElmIHRoZSBpbnB1dCBkb2N1bWVudCBkb2Vzbid0IG1hdGNoIHRoZSBleHBlY3RlZCBzdGF0ZVxuICogKGUuZy4gaXQgaXMgaW52YWxpZCBvciBvdXRkYXRlZCksIHRoZSBkb2N1bWVudCB0eXBlIG1heSB0cmFuc2l0aW9uIHRvXG4gKiB1bmtub3duLlxuICpcbiAqIEBwYXJhbSBtdXRhdGlvbiAtIFRoZSBtdXRhdGlvbiB0byBhcHBseS5cbiAqIEBwYXJhbSBkb2N1bWVudCAtIFRoZSBkb2N1bWVudCB0byBtdXRhdGUuIFRoZSBpbnB1dCBkb2N1bWVudCBjYW4gYmUgYW5cbiAqICAgICBpbnZhbGlkIGRvY3VtZW50IGlmIHRoZSBjbGllbnQgaGFzIG5vIGtub3dsZWRnZSBvZiB0aGUgcHJlLW11dGF0aW9uIHN0YXRlXG4gKiAgICAgb2YgdGhlIGRvY3VtZW50LlxuICogQHBhcmFtIG11dGF0aW9uUmVzdWx0IC0gVGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgbXV0YXRpb24gZnJvbSB0aGUgYmFja2VuZC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfU2V0TXV0YXRpb24gPyBmdW5jdGlvbiBfX1BSSVZBVEVfc2V0TXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgICAgICAvLyBVbmxpa2Ugc2V0TXV0YXRpb25BcHBseVRvTG9jYWxWaWV3LCBpZiB3ZSdyZSBhcHBseWluZyBhIG11dGF0aW9uIHRvIGFcbiAgICAgICAgLy8gcmVtb3RlIGRvY3VtZW50IHRoZSBzZXJ2ZXIgaGFzIGFjY2VwdGVkIHRoZSBtdXRhdGlvbiBzbyB0aGUgcHJlY29uZGl0aW9uXG4gICAgICAgIC8vIG11c3QgaGF2ZSBoZWxkLlxuICAgICAgICBjb25zdCByID0gZS52YWx1ZS5jbG9uZSgpLCBpID0gX19QUklWQVRFX3NlcnZlclRyYW5zZm9ybVJlc3VsdHMoZS5maWVsZFRyYW5zZm9ybXMsIHQsIG4udHJhbnNmb3JtUmVzdWx0cyk7XG4gICAgICAgIHIuc2V0QWxsKGkpLCB0LmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQobi52ZXJzaW9uLCByKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTtcbiAgICB9KGUsIHQsIG4pIDogZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9QYXRjaE11dGF0aW9uID8gZnVuY3Rpb24gX19QUklWQVRFX3BhdGNoTXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgICAgICBpZiAoIV9fUFJJVkFURV9wcmVjb25kaXRpb25Jc1ZhbGlkRm9yRG9jdW1lbnQoZS5wcmVjb25kaXRpb24sIHQpKSBcbiAgICAgICAgLy8gU2luY2UgdGhlIG11dGF0aW9uIHdhcyBub3QgcmVqZWN0ZWQsIHdlIGtub3cgdGhhdCB0aGUgcHJlY29uZGl0aW9uXG4gICAgICAgIC8vIG1hdGNoZWQgb24gdGhlIGJhY2tlbmQuIFdlIHRoZXJlZm9yZSBtdXN0IG5vdCBoYXZlIHRoZSBleHBlY3RlZCB2ZXJzaW9uXG4gICAgICAgIC8vIG9mIHRoZSBkb2N1bWVudCBpbiBvdXIgY2FjaGUgYW5kIGNvbnZlcnQgdG8gYW4gVW5rbm93bkRvY3VtZW50IHdpdGggYVxuICAgICAgICAvLyBrbm93biB1cGRhdGVUaW1lLlxuICAgICAgICByZXR1cm4gdm9pZCB0LmNvbnZlcnRUb1Vua25vd25Eb2N1bWVudChuLnZlcnNpb24pO1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX3NlcnZlclRyYW5zZm9ybVJlc3VsdHMoZS5maWVsZFRyYW5zZm9ybXMsIHQsIG4udHJhbnNmb3JtUmVzdWx0cyksIGkgPSB0LmRhdGE7XG4gICAgICAgIGkuc2V0QWxsKF9fUFJJVkFURV9nZXRQYXRjaChlKSksIGkuc2V0QWxsKHIpLCB0LmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQobi52ZXJzaW9uLCBpKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTtcbiAgICB9KGUsIHQsIG4pIDogZnVuY3Rpb24gX19QUklWQVRFX2RlbGV0ZU11dGF0aW9uQXBwbHlUb1JlbW90ZURvY3VtZW50KGUsIHQsIG4pIHtcbiAgICAgICAgLy8gVW5saWtlIGFwcGx5VG9Mb2NhbFZpZXcsIGlmIHdlJ3JlIGFwcGx5aW5nIGEgbXV0YXRpb24gdG8gYSByZW1vdGVcbiAgICAgICAgLy8gZG9jdW1lbnQgdGhlIHNlcnZlciBoYXMgYWNjZXB0ZWQgdGhlIG11dGF0aW9uIHNvIHRoZSBwcmVjb25kaXRpb24gbXVzdFxuICAgICAgICAvLyBoYXZlIGhlbGQuXG4gICAgICAgIHQuY29udmVydFRvTm9Eb2N1bWVudChuLnZlcnNpb24pLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpO1xuICAgIH0oMCwgdCwgbik7XG59XG5cbi8qKlxuICogQXBwbGllcyB0aGlzIG11dGF0aW9uIHRvIHRoZSBnaXZlbiBkb2N1bWVudCBmb3IgdGhlIHB1cnBvc2VzIG9mIGNvbXB1dGluZ1xuICogdGhlIG5ldyBsb2NhbCB2aWV3IG9mIGEgZG9jdW1lbnQuIElmIHRoZSBpbnB1dCBkb2N1bWVudCBkb2Vzbid0IG1hdGNoIHRoZVxuICogZXhwZWN0ZWQgc3RhdGUsIHRoZSBkb2N1bWVudCBpcyBub3QgbW9kaWZpZWQuXG4gKlxuICogQHBhcmFtIG11dGF0aW9uIC0gVGhlIG11dGF0aW9uIHRvIGFwcGx5LlxuICogQHBhcmFtIGRvY3VtZW50IC0gVGhlIGRvY3VtZW50IHRvIG11dGF0ZS4gVGhlIGlucHV0IGRvY3VtZW50IGNhbiBiZSBhblxuICogICAgIGludmFsaWQgZG9jdW1lbnQgaWYgdGhlIGNsaWVudCBoYXMgbm8ga25vd2xlZGdlIG9mIHRoZSBwcmUtbXV0YXRpb24gc3RhdGVcbiAqICAgICBvZiB0aGUgZG9jdW1lbnQuXG4gKiBAcGFyYW0gcHJldmlvdXNNYXNrIC0gVGhlIGZpZWxkcyB0aGF0IGhhdmUgYmVlbiB1cGRhdGVkIGJlZm9yZSBhcHBseWluZyB0aGlzIG11dGF0aW9uLlxuICogQHBhcmFtIGxvY2FsV3JpdGVUaW1lIC0gQSB0aW1lc3RhbXAgaW5kaWNhdGluZyB0aGUgbG9jYWwgd3JpdGUgdGltZSBvZiB0aGVcbiAqICAgICBiYXRjaCB0aGlzIG11dGF0aW9uIGlzIGEgcGFydCBvZi5cbiAqIEByZXR1cm5zIEEgYEZpZWxkTWFza2AgcmVwcmVzZW50aW5nIHRoZSBmaWVsZHMgdGhhdCBhcmUgY2hhbmdlZCBieSBhcHBseWluZyB0aGlzIG11dGF0aW9uLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcoZSwgdCwgbiwgcikge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX1NldE11dGF0aW9uID8gZnVuY3Rpb24gX19QUklWQVRFX3NldE11dGF0aW9uQXBwbHlUb0xvY2FsVmlldyhlLCB0LCBuLCByKSB7XG4gICAgICAgIGlmICghX19QUklWQVRFX3ByZWNvbmRpdGlvbklzVmFsaWRGb3JEb2N1bWVudChlLnByZWNvbmRpdGlvbiwgdCkpIFxuICAgICAgICAvLyBUaGUgbXV0YXRpb24gZmFpbGVkIHRvIGFwcGx5IChlLmcuIGEgZG9jdW1lbnQgSUQgY3JlYXRlZCB3aXRoIGFkZCgpXG4gICAgICAgIC8vIGNhdXNlZCBhIG5hbWUgY29sbGlzaW9uKS5cbiAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIGNvbnN0IGkgPSBlLnZhbHVlLmNsb25lKCksIHMgPSBfX1BSSVZBVEVfbG9jYWxUcmFuc2Zvcm1SZXN1bHRzKGUuZmllbGRUcmFuc2Zvcm1zLCByLCB0KTtcbiAgICAgICAgcmV0dXJuIGkuc2V0QWxsKHMpLCB0LmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQodC52ZXJzaW9uLCBpKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpLCBcbiAgICAgICAgbnVsbDtcbiAvLyBTZXRNdXRhdGlvbiBvdmVyd3JpdGVzIGFsbCBmaWVsZHMuXG4gICAgICAgIH1cbiAgICAvKipcbiAqIEEgbXV0YXRpb24gdGhhdCBtb2RpZmllcyBmaWVsZHMgb2YgdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBrZXkgd2l0aCB0aGVcbiAqIGdpdmVuIHZhbHVlcy4gVGhlIHZhbHVlcyBhcmUgYXBwbGllZCB0aHJvdWdoIGEgZmllbGQgbWFzazpcbiAqXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gYm90aCB0aGUgbWFzayBhbmQgdGhlIHZhbHVlcywgdGhlIGNvcnJlc3BvbmRpbmcgZmllbGRcbiAqICAgIGlzIHVwZGF0ZWQuXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gbmVpdGhlciB0aGUgbWFzayBub3IgdGhlIHZhbHVlcywgdGhlIGNvcnJlc3BvbmRpbmdcbiAqICAgIGZpZWxkIGlzIHVubW9kaWZpZWQuXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gdGhlIG1hc2sgYnV0IG5vdCBpbiB0aGUgdmFsdWVzLCB0aGUgY29ycmVzcG9uZGluZyBmaWVsZFxuICogICAgaXMgZGVsZXRlZC5cbiAqICAqIFdoZW4gYSBmaWVsZCBpcyBub3QgaW4gdGhlIG1hc2sgYnV0IGlzIGluIHRoZSB2YWx1ZXMsIHRoZSB2YWx1ZXMgbWFwIGlzXG4gKiAgICBpZ25vcmVkLlxuICovIChlLCB0LCBuLCByKSA6IGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbiA/IGZ1bmN0aW9uIF9fUFJJVkFURV9wYXRjaE11dGF0aW9uQXBwbHlUb0xvY2FsVmlldyhlLCB0LCBuLCByKSB7XG4gICAgICAgIGlmICghX19QUklWQVRFX3ByZWNvbmRpdGlvbklzVmFsaWRGb3JEb2N1bWVudChlLnByZWNvbmRpdGlvbiwgdCkpIHJldHVybiBuO1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2xvY2FsVHJhbnNmb3JtUmVzdWx0cyhlLmZpZWxkVHJhbnNmb3JtcywgciwgdCksIHMgPSB0LmRhdGE7XG4gICAgICAgIGlmIChzLnNldEFsbChfX1BSSVZBVEVfZ2V0UGF0Y2goZSkpLCBzLnNldEFsbChpKSwgdC5jb252ZXJ0VG9Gb3VuZERvY3VtZW50KHQudmVyc2lvbiwgcykuc2V0SGFzTG9jYWxNdXRhdGlvbnMoKSwgXG4gICAgICAgIG51bGwgPT09IG4pIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbi51bmlvbldpdGgoZS5maWVsZE1hc2suZmllbGRzKS51bmlvbldpdGgoZS5maWVsZFRyYW5zZm9ybXMubWFwKChlID0+IGUuZmllbGQpKSk7XG4gICAgfVxuICAgIC8qKlxuICogUmV0dXJucyBhIEZpZWxkUGF0aC9WYWx1ZSBtYXAgd2l0aCB0aGUgY29udGVudCBvZiB0aGUgUGF0Y2hNdXRhdGlvbi5cbiAqLyAoZSwgdCwgbiwgcikgOiBmdW5jdGlvbiBfX1BSSVZBVEVfZGVsZXRlTXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KGUsIHQsIG4pIHtcbiAgICAgICAgaWYgKF9fUFJJVkFURV9wcmVjb25kaXRpb25Jc1ZhbGlkRm9yRG9jdW1lbnQoZS5wcmVjb25kaXRpb24sIHQpKSByZXR1cm4gdC5jb252ZXJ0VG9Ob0RvY3VtZW50KHQudmVyc2lvbikuc2V0SGFzTG9jYWxNdXRhdGlvbnMoKSwgXG4gICAgICAgIG51bGw7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICAvKipcbiAqIEEgbXV0YXRpb24gdGhhdCB2ZXJpZmllcyB0aGUgZXhpc3RlbmNlIG9mIHRoZSBkb2N1bWVudCBhdCB0aGUgZ2l2ZW4ga2V5IHdpdGhcbiAqIHRoZSBwcm92aWRlZCBwcmVjb25kaXRpb24uXG4gKlxuICogVGhlIGB2ZXJpZnlgIG9wZXJhdGlvbiBpcyBvbmx5IHVzZWQgaW4gVHJhbnNhY3Rpb25zLCBhbmQgdGhpcyBjbGFzcyBzZXJ2ZXNcbiAqIHByaW1hcmlseSB0byBmYWNpbGl0YXRlIHNlcmlhbGl6YXRpb24gaW50byBwcm90b3MuXG4gKi8gKGUsIHQsIG4pO1xufVxuXG4vKipcbiAqIElmIHRoaXMgbXV0YXRpb24gaXMgbm90IGlkZW1wb3RlbnQsIHJldHVybnMgdGhlIGJhc2UgdmFsdWUgdG8gcGVyc2lzdCB3aXRoXG4gKiB0aGlzIG11dGF0aW9uLiBJZiBhIGJhc2UgdmFsdWUgaXMgcmV0dXJuZWQsIHRoZSBtdXRhdGlvbiBpcyBhbHdheXMgYXBwbGllZFxuICogdG8gdGhpcyBiYXNlIHZhbHVlLCBldmVuIGlmIGRvY3VtZW50IGhhcyBhbHJlYWR5IGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgYmFzZSB2YWx1ZSBpcyBhIHNwYXJzZSBvYmplY3QgdGhhdCBjb25zaXN0cyBvZiBvbmx5IHRoZSBkb2N1bWVudFxuICogZmllbGRzIGZvciB3aGljaCB0aGlzIG11dGF0aW9uIGNvbnRhaW5zIGEgbm9uLWlkZW1wb3RlbnQgdHJhbnNmb3JtYXRpb25cbiAqIChlLmcuIGEgbnVtZXJpYyBpbmNyZW1lbnQpLiBUaGUgcHJvdmlkZWQgdmFsdWUgZ3VhcmFudGVlcyBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBmb3Igbm9uLWlkZW1wb3RlbnQgdHJhbnNmb3JtcyBhbmQgYWxsb3cgdXMgdG8gcmV0dXJuIHRoZSBzYW1lXG4gKiBsYXRlbmN5LWNvbXBlbnNhdGVkIHZhbHVlIGV2ZW4gaWYgdGhlIGJhY2tlbmQgaGFzIGFscmVhZHkgYXBwbGllZCB0aGVcbiAqIG11dGF0aW9uLiBUaGUgYmFzZSB2YWx1ZSBpcyBudWxsIGZvciBpZGVtcG90ZW50IG11dGF0aW9ucywgYXMgdGhleSBjYW4gYmVcbiAqIHJlLXBsYXllZCBldmVuIGlmIHRoZSBiYWNrZW5kIGhhcyBhbHJlYWR5IGFwcGxpZWQgdGhlbS5cbiAqXG4gKiBAcmV0dXJucyBhIGJhc2UgdmFsdWUgdG8gc3RvcmUgYWxvbmcgd2l0aCB0aGUgbXV0YXRpb24sIG9yIG51bGwgZm9yXG4gKiBpZGVtcG90ZW50IG11dGF0aW9ucy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25FeHRyYWN0QmFzZVZhbHVlKGUsIHQpIHtcbiAgICBsZXQgbiA9IG51bGw7XG4gICAgZm9yIChjb25zdCByIG9mIGUuZmllbGRUcmFuc2Zvcm1zKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0LmRhdGEuZmllbGQoci5maWVsZCksIGkgPSBfX1BSSVZBVEVfY29tcHV0ZVRyYW5zZm9ybU9wZXJhdGlvbkJhc2VWYWx1ZShyLnRyYW5zZm9ybSwgZSB8fCBudWxsKTtcbiAgICAgICAgbnVsbCAhPSBpICYmIChudWxsID09PSBuICYmIChuID0gT2JqZWN0VmFsdWUuZW1wdHkoKSksIG4uc2V0KHIuZmllbGQsIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG4gfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX211dGF0aW9uRXF1YWxzKGUsIHQpIHtcbiAgICByZXR1cm4gZS50eXBlID09PSB0LnR5cGUgJiYgKCEhZS5rZXkuaXNFcXVhbCh0LmtleSkgJiYgKCEhZS5wcmVjb25kaXRpb24uaXNFcXVhbCh0LnByZWNvbmRpdGlvbikgJiYgKCEhZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkVHJhbnNmb3Jtc0FyZUVxdWFsKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiB2b2lkIDAgPT09IHQgfHwgISghZSB8fCAhdCkgJiYgX19QUklWQVRFX2FycmF5RXF1YWxzKGUsIHQsICgoZSwgdCkgPT4gX19QUklWQVRFX2ZpZWxkVHJhbnNmb3JtRXF1YWxzKGUsIHQpKSk7XG4gICAgfShlLmZpZWxkVHJhbnNmb3JtcywgdC5maWVsZFRyYW5zZm9ybXMpICYmICgwIC8qIE11dGF0aW9uVHlwZS5TZXQgKi8gPT09IGUudHlwZSA/IGUudmFsdWUuaXNFcXVhbCh0LnZhbHVlKSA6IDEgLyogTXV0YXRpb25UeXBlLlBhdGNoICovICE9PSBlLnR5cGUgfHwgZS5kYXRhLmlzRXF1YWwodC5kYXRhKSAmJiBlLmZpZWxkTWFzay5pc0VxdWFsKHQuZmllbGRNYXNrKSkpKSk7XG59XG5cbi8qKlxuICogQSBtdXRhdGlvbiB0aGF0IGNyZWF0ZXMgb3IgcmVwbGFjZXMgdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBrZXkgd2l0aCB0aGVcbiAqIG9iamVjdCB2YWx1ZSBjb250ZW50cy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfU2V0TXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciA9IFtdKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gZSwgdGhpcy52YWx1ZSA9IHQsIHRoaXMucHJlY29uZGl0aW9uID0gbiwgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSByLCBcbiAgICAgICAgdGhpcy50eXBlID0gMCAvKiBNdXRhdGlvblR5cGUuU2V0ICovO1xuICAgIH1cbiAgICBnZXRGaWVsZE1hc2soKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX1BhdGNoTXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSA9IFtdKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gZSwgdGhpcy5kYXRhID0gdCwgdGhpcy5maWVsZE1hc2sgPSBuLCB0aGlzLnByZWNvbmRpdGlvbiA9IHIsIFxuICAgICAgICB0aGlzLmZpZWxkVHJhbnNmb3JtcyA9IGksIHRoaXMudHlwZSA9IDEgLyogTXV0YXRpb25UeXBlLlBhdGNoICovO1xuICAgIH1cbiAgICBnZXRGaWVsZE1hc2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkTWFzaztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRQYXRjaChlKSB7XG4gICAgY29uc3QgdCA9IG5ldyBNYXA7XG4gICAgcmV0dXJuIGUuZmllbGRNYXNrLmZpZWxkcy5mb3JFYWNoKChuID0+IHtcbiAgICAgICAgaWYgKCFuLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgciA9IGUuZGF0YS5maWVsZChuKTtcbiAgICAgICAgICAgIHQuc2V0KG4sIHIpO1xuICAgICAgICB9XG4gICAgfSkpLCB0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBsaXN0IG9mIFwidHJhbnNmb3JtIHJlc3VsdHNcIiAoYSB0cmFuc2Zvcm0gcmVzdWx0IGlzIGEgZmllbGQgdmFsdWVcbiAqIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIGEgdHJhbnNmb3JtKSBmb3IgdXNlIGFmdGVyIGEgbXV0YXRpb25cbiAqIGNvbnRhaW5pbmcgdHJhbnNmb3JtcyBoYXMgYmVlbiBhY2tub3dsZWRnZWQgYnkgdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0gZmllbGRUcmFuc2Zvcm1zIC0gVGhlIGZpZWxkIHRyYW5zZm9ybXMgdG8gYXBwbHkgdGhlIHJlc3VsdCB0by5cbiAqIEBwYXJhbSBtdXRhYmxlRG9jdW1lbnQgLSBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQgYWZ0ZXIgYXBwbHlpbmcgYWxsXG4gKiBwcmV2aW91cyBtdXRhdGlvbnMuXG4gKiBAcGFyYW0gc2VydmVyVHJhbnNmb3JtUmVzdWx0cyAtIFRoZSB0cmFuc2Zvcm0gcmVzdWx0cyByZWNlaXZlZCBieSB0aGUgc2VydmVyLlxuICogQHJldHVybnMgVGhlIHRyYW5zZm9ybSByZXN1bHRzIGxpc3QuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3NlcnZlclRyYW5zZm9ybVJlc3VsdHMoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBuZXcgTWFwO1xuICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUubGVuZ3RoID09PSBuLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlW2ldLCBvID0gcy50cmFuc2Zvcm0sIF8gPSB0LmRhdGEuZmllbGQocy5maWVsZCk7XG4gICAgICAgIHIuc2V0KHMuZmllbGQsIF9fUFJJVkFURV9hcHBseVRyYW5zZm9ybU9wZXJhdGlvblRvUmVtb3RlRG9jdW1lbnQobywgXywgbltpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbGlzdCBvZiBcInRyYW5zZm9ybSByZXN1bHRzXCIgKGEgdHJhbnNmb3JtIHJlc3VsdCBpcyBhIGZpZWxkIHZhbHVlXG4gKiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBhIHRyYW5zZm9ybSkgZm9yIHVzZSB3aGVuIGFwcGx5aW5nIGFcbiAqIHRyYW5zZm9ybSBsb2NhbGx5LlxuICpcbiAqIEBwYXJhbSBmaWVsZFRyYW5zZm9ybXMgLSBUaGUgZmllbGQgdHJhbnNmb3JtcyB0byBhcHBseSB0aGUgcmVzdWx0IHRvLlxuICogQHBhcmFtIGxvY2FsV3JpdGVUaW1lIC0gVGhlIGxvY2FsIHRpbWUgb2YgdGhlIG11dGF0aW9uICh1c2VkIHRvXG4gKiAgICAgZ2VuZXJhdGUgU2VydmVyVGltZXN0YW1wVmFsdWVzKS5cbiAqIEBwYXJhbSBtdXRhYmxlRG9jdW1lbnQgLSBUaGUgZG9jdW1lbnQgdG8gYXBwbHkgdHJhbnNmb3JtcyBvbi5cbiAqIEByZXR1cm5zIFRoZSB0cmFuc2Zvcm0gcmVzdWx0cyBsaXN0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFRyYW5zZm9ybVJlc3VsdHMoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBuZXcgTWFwO1xuICAgIGZvciAoY29uc3QgaSBvZiBlKSB7XG4gICAgICAgIGNvbnN0IGUgPSBpLnRyYW5zZm9ybSwgcyA9IG4uZGF0YS5maWVsZChpLmZpZWxkKTtcbiAgICAgICAgci5zZXQoaS5maWVsZCwgX19QUklWQVRFX2FwcGx5VHJhbnNmb3JtT3BlcmF0aW9uVG9Mb2NhbFZpZXcoZSwgcywgdCkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuLyoqIEEgbXV0YXRpb24gdGhhdCBkZWxldGVzIHRoZSBkb2N1bWVudCBhdCB0aGUgZ2l2ZW4ga2V5LiAqLyBjbGFzcyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmtleSA9IGUsIHRoaXMucHJlY29uZGl0aW9uID0gdCwgdGhpcy50eXBlID0gMiAvKiBNdXRhdGlvblR5cGUuRGVsZXRlICovICwgXG4gICAgICAgIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gW107XG4gICAgfVxuICAgIGdldEZpZWxkTWFzaygpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfVmVyaWZ5TXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmtleSA9IGUsIHRoaXMucHJlY29uZGl0aW9uID0gdCwgdGhpcy50eXBlID0gMyAvKiBNdXRhdGlvblR5cGUuVmVyaWZ5ICovICwgXG4gICAgICAgIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gW107XG4gICAgfVxuICAgIGdldEZpZWxkTWFzaygpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGJhdGNoIG9mIG11dGF0aW9ucyB0aGF0IHdpbGwgYmUgc2VudCBhcyBvbmUgdW5pdCB0byB0aGUgYmFja2VuZC5cbiAqLyBjbGFzcyBNdXRhdGlvbkJhdGNoIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYmF0Y2hJZCAtIFRoZSB1bmlxdWUgSUQgb2YgdGhpcyBtdXRhdGlvbiBiYXRjaC5cbiAgICAgKiBAcGFyYW0gbG9jYWxXcml0ZVRpbWUgLSBUaGUgb3JpZ2luYWwgd3JpdGUgdGltZSBvZiB0aGlzIG11dGF0aW9uLlxuICAgICAqIEBwYXJhbSBiYXNlTXV0YXRpb25zIC0gTXV0YXRpb25zIHRoYXQgYXJlIHVzZWQgdG8gcG9wdWxhdGUgdGhlIGJhc2VcbiAgICAgKiB2YWx1ZXMgd2hlbiB0aGlzIG11dGF0aW9uIGlzIGFwcGxpZWQgbG9jYWxseS4gVGhpcyBjYW4gYmUgdXNlZCB0byBsb2NhbGx5XG4gICAgICogb3ZlcndyaXRlIHZhbHVlcyB0aGF0IGFyZSBwZXJzaXN0ZWQgaW4gdGhlIHJlbW90ZSBkb2N1bWVudCBjYWNoZS4gQmFzZVxuICAgICAqIG11dGF0aW9ucyBhcmUgbmV2ZXIgc2VudCB0byB0aGUgYmFja2VuZC5cbiAgICAgKiBAcGFyYW0gbXV0YXRpb25zIC0gVGhlIHVzZXItcHJvdmlkZWQgbXV0YXRpb25zIGluIHRoaXMgbXV0YXRpb24gYmF0Y2guXG4gICAgICogVXNlci1wcm92aWRlZCBtdXRhdGlvbnMgYXJlIGFwcGxpZWQgYm90aCBsb2NhbGx5IGFuZCByZW1vdGVseSBvbiB0aGVcbiAgICAgKiBiYWNrZW5kLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgdGhpcy5iYXRjaElkID0gZSwgdGhpcy5sb2NhbFdyaXRlVGltZSA9IHQsIHRoaXMuYmFzZU11dGF0aW9ucyA9IG4sIHRoaXMubXV0YXRpb25zID0gcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhbGwgdGhlIG11dGF0aW9ucyBpbiB0aGlzIE11dGF0aW9uQmF0Y2ggdG8gdGhlIHNwZWNpZmllZCBkb2N1bWVudFxuICAgICAqIHRvIGNvbXB1dGUgdGhlIHN0YXRlIG9mIHRoZSByZW1vdGUgZG9jdW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudCAtIFRoZSBkb2N1bWVudCB0byBhcHBseSBtdXRhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIGJhdGNoUmVzdWx0IC0gVGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgTXV0YXRpb25CYXRjaCB0byB0aGVcbiAgICAgKiBiYWNrZW5kLlxuICAgICAqLyAgICBhcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5tdXRhdGlvblJlc3VsdHM7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgdGhpcy5tdXRhdGlvbnMubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLm11dGF0aW9uc1t0XTtcbiAgICAgICAgICAgIGlmIChyLmtleS5pc0VxdWFsKGUua2V5KSkge1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9SZW1vdGVEb2N1bWVudChyLCBlLCBuW3RdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbG9jYWwgdmlldyBvZiBhIGRvY3VtZW50IGdpdmVuIGFsbCB0aGUgbXV0YXRpb25zIGluIHRoaXNcbiAgICAgKiBiYXRjaC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudCAtIFRoZSBkb2N1bWVudCB0byBhcHBseSBtdXRhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIG11dGF0ZWRGaWVsZHMgLSBGaWVsZHMgdGhhdCBoYXZlIGJlZW4gdXBkYXRlZCBiZWZvcmUgYXBwbHlpbmcgdGhpcyBtdXRhdGlvbiBiYXRjaC5cbiAgICAgKiBAcmV0dXJucyBBIGBGaWVsZE1hc2tgIHJlcHJlc2VudGluZyBhbGwgdGhlIGZpZWxkcyB0aGF0IGFyZSBtdXRhdGVkLlxuICAgICAqLyAgICBhcHBseVRvTG9jYWxWaWV3KGUsIHQpIHtcbiAgICAgICAgLy8gRmlyc3QsIGFwcGx5IHRoZSBiYXNlIHN0YXRlLiBUaGlzIGFsbG93cyB1cyB0byBhcHBseSBub24taWRlbXBvdGVudFxuICAgICAgICAvLyB0cmFuc2Zvcm0gYWdhaW5zdCBhIGNvbnNpc3RlbnQgc2V0IG9mIHZhbHVlcy5cbiAgICAgICAgZm9yIChjb25zdCBuIG9mIHRoaXMuYmFzZU11dGF0aW9ucykgbi5rZXkuaXNFcXVhbChlLmtleSkgJiYgKHQgPSBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KG4sIGUsIHQsIHRoaXMubG9jYWxXcml0ZVRpbWUpKTtcbiAgICAgICAgLy8gU2Vjb25kLCBhcHBseSBhbGwgdXNlci1wcm92aWRlZCBtdXRhdGlvbnMuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIHRoaXMubXV0YXRpb25zKSBuLmtleS5pc0VxdWFsKGUua2V5KSAmJiAodCA9IF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcobiwgZSwgdCwgdGhpcy5sb2NhbFdyaXRlVGltZSkpO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGxvY2FsIHZpZXcgZm9yIGFsbCBwcm92aWRlZCBkb2N1bWVudHMgZ2l2ZW4gdGhlIG11dGF0aW9ucyBpblxuICAgICAqIHRoaXMgYmF0Y2guIFJldHVybnMgYSBgRG9jdW1lbnRLZXlgIHRvIGBNdXRhdGlvbmAgbWFwIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICogcmVwbGFjZSBhbGwgdGhlIG11dGF0aW9uIGFwcGxpY2F0aW9ucy5cbiAgICAgKi8gICAgYXBwbHlUb0xvY2FsRG9jdW1lbnRTZXQoZSwgdCkge1xuICAgICAgICAvLyBUT0RPKG1yc2NobWlkdCk6IFRoaXMgaW1wbGVtZW50YXRpb24gaXMgTyhuXjIpLiBJZiB3ZSBhcHBseSB0aGUgbXV0YXRpb25zXG4gICAgICAgIC8vIGRpcmVjdGx5IChhcyBkb25lIGluIGBhcHBseVRvTG9jYWxWaWV3KClgKSwgd2UgY2FuIHJlZHVjZSB0aGUgY29tcGxleGl0eVxuICAgICAgICAvLyB0byBPKG4pLlxuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25ld011dGF0aW9uTWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLm11dGF0aW9ucy5mb3JFYWNoKChyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBlLmdldChyLmtleSksIHMgPSBpLm92ZXJsYXllZERvY3VtZW50O1xuICAgICAgICAgICAgLy8gVE9ETyhtdXRhYmxlZG9jdW1lbnRzKTogVGhpcyBtZXRob2Qgc2hvdWxkIHRha2UgYSBNdXRhYmxlRG9jdW1lbnRNYXBcbiAgICAgICAgICAgIC8vIGFuZCB3ZSBzaG91bGQgcmVtb3ZlIHRoaXMgY2FzdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvID0gdGhpcy5hcHBseVRvTG9jYWxWaWV3KHMsIGkubXV0YXRlZEZpZWxkcyk7XG4gICAgICAgICAgICAvLyBTZXQgbXV0YXRlZEZpZWxkcyB0byBudWxsIGlmIHRoZSBkb2N1bWVudCBpcyBvbmx5IGZyb20gbG9jYWwgbXV0YXRpb25zLlxuICAgICAgICAgICAgLy8gVGhpcyBjcmVhdGVzIGEgU2V0IG9yIERlbGV0ZSBtdXRhdGlvbiwgaW5zdGVhZCBvZiB0cnlpbmcgdG8gY3JlYXRlIGFcbiAgICAgICAgICAgIC8vIHBhdGNoIG11dGF0aW9uIGFzIHRoZSBvdmVybGF5LlxuICAgICAgICAgICAgICAgICAgICAgICAgbyA9IHQuaGFzKHIua2V5KSA/IG51bGwgOiBvO1xuICAgICAgICAgICAgY29uc3QgXyA9IF9fUFJJVkFURV9jYWxjdWxhdGVPdmVybGF5TXV0YXRpb24ocywgbyk7XG4gICAgICAgICAgICBudWxsICE9PSBfICYmIG4uc2V0KHIua2V5LCBfKSwgcy5pc1ZhbGlkRG9jdW1lbnQoKSB8fCBzLmNvbnZlcnRUb05vRG9jdW1lbnQoU25hcHNob3RWZXJzaW9uLm1pbigpKTtcbiAgICAgICAgfSkpLCBuO1xuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tdXRhdGlvbnMucmVkdWNlKCgoZSwgdCkgPT4gZS5hZGQodC5rZXkpKSwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmF0Y2hJZCA9PT0gZS5iYXRjaElkICYmIF9fUFJJVkFURV9hcnJheUVxdWFscyh0aGlzLm11dGF0aW9ucywgZS5tdXRhdGlvbnMsICgoZSwgdCkgPT4gX19QUklWQVRFX211dGF0aW9uRXF1YWxzKGUsIHQpKSkgJiYgX19QUklWQVRFX2FycmF5RXF1YWxzKHRoaXMuYmFzZU11dGF0aW9ucywgZS5iYXNlTXV0YXRpb25zLCAoKGUsIHQpID0+IF9fUFJJVkFURV9tdXRhdGlvbkVxdWFscyhlLCB0KSkpO1xuICAgIH1cbn1cblxuLyoqIFRoZSByZXN1bHQgb2YgYXBwbHlpbmcgYSBtdXRhdGlvbiBiYXRjaCB0byB0aGUgYmFja2VuZC4gKi8gY2xhc3MgTXV0YXRpb25CYXRjaFJlc3VsdCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgXG4gICAgLyoqXG4gICAgICogQSBwcmUtY29tcHV0ZWQgbWFwcGluZyBmcm9tIGVhY2ggbXV0YXRlZCBkb2N1bWVudCB0byB0aGUgcmVzdWx0aW5nXG4gICAgICogdmVyc2lvbi5cbiAgICAgKi9cbiAgICByKSB7XG4gICAgICAgIHRoaXMuYmF0Y2ggPSBlLCB0aGlzLmNvbW1pdFZlcnNpb24gPSB0LCB0aGlzLm11dGF0aW9uUmVzdWx0cyA9IG4sIHRoaXMuZG9jVmVyc2lvbnMgPSByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE11dGF0aW9uQmF0Y2hSZXN1bHQgZm9yIHRoZSBnaXZlbiBiYXRjaCBhbmQgcmVzdWx0cy4gVGhlcmVcbiAgICAgKiBtdXN0IGJlIG9uZSByZXN1bHQgZm9yIGVhY2ggbXV0YXRpb24gaW4gdGhlIGJhdGNoLiBUaGlzIHN0YXRpYyBmYWN0b3J5XG4gICAgICogY2FjaGVzIGEgZG9jdW1lbnQ9Jmd0O3ZlcnNpb24gbWFwcGluZyAoZG9jVmVyc2lvbnMpLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbShlLCB0LCBuKSB7XG4gICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUubXV0YXRpb25zLmxlbmd0aCA9PT0gbi5sZW5ndGgpO1xuICAgICAgICBsZXQgciA9IGZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudFZlcnNpb25NYXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2U7XG4gICAgICAgIH0oKTtcbiAgICAgICAgY29uc3QgaSA9IGUubXV0YXRpb25zO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IGkubGVuZ3RoOyBlKyspIHIgPSByLmluc2VydChpW2VdLmtleSwgbltlXS52ZXJzaW9uKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNdXRhdGlvbkJhdGNoUmVzdWx0KGUsIHQsIG4sIHIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYW4gb3ZlcmxheSBjb21wdXRlZCBieSBGaXJlc3RvcmUuXG4gKlxuICogSG9sZHMgaW5mb3JtYXRpb24gYWJvdXQgYSBtdXRhdGlvbiBhbmQgdGhlIGxhcmdlc3QgYmF0Y2ggaWQgaW4gRmlyZXN0b3JlIHdoZW5cbiAqIHRoZSBtdXRhdGlvbiB3YXMgY3JlYXRlZC5cbiAqLyBjbGFzcyBPdmVybGF5IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMubGFyZ2VzdEJhdGNoSWQgPSBlLCB0aGlzLm11dGF0aW9uID0gdDtcbiAgICB9XG4gICAgZ2V0S2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tdXRhdGlvbi5rZXk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gZSAmJiB0aGlzLm11dGF0aW9uID09PSBlLm11dGF0aW9uO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBPdmVybGF5e1xcbiAgICAgIGxhcmdlc3RCYXRjaElkOiAke3RoaXMubGFyZ2VzdEJhdGNoSWR9LFxcbiAgICAgIG11dGF0aW9uOiAke3RoaXMubXV0YXRpb24udG9TdHJpbmcoKX1cXG4gICAgfWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgQWdncmVnYXRlIHR5cGUuXG4gKi8gY2xhc3MgX19QUklWQVRFX0FnZ3JlZ2F0ZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5hbGlhcyA9IGUsIHRoaXMuYWdncmVnYXRlVHlwZSA9IHQsIHRoaXMuZmllbGRQYXRoID0gbjtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIEV4aXN0ZW5jZUZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmNvdW50ID0gZSwgdGhpcy51bmNoYW5nZWROYW1lcyA9IHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBFcnJvciBDb2RlcyBkZXNjcmliaW5nIHRoZSBkaWZmZXJlbnQgd2F5cyBHUlBDIGNhbiBmYWlsLiBUaGVzZSBhcmUgY29waWVkXG4gKiBkaXJlY3RseSBmcm9tIEdSUEMncyBzb3VyY2VzIGhlcmU6XG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL2JjZWVjOTRlYTRmYzVmMDA4NWQ4MTIzNWQ4ZTFjMDY3OThkYzM0MWEvaW5jbHVkZS9ncnBjJTJCJTJCL2ltcGwvY29kZWdlbi9zdGF0dXNfY29kZV9lbnVtLmhcbiAqXG4gKiBJbXBvcnRhbnQhIFRoZSBuYW1lcyBvZiB0aGVzZSBpZGVudGlmaWVycyBtYXR0ZXIgYmVjYXVzZSB0aGUgc3RyaW5nIGZvcm1zXG4gKiBhcmUgdXNlZCBmb3IgcmV2ZXJzZSBsb29rdXBzIGZyb20gdGhlIHdlYmNoYW5uZWwgc3RyZWFtLiBEbyBOT1QgY2hhbmdlIHRoZVxuICogbmFtZXMgb2YgdGhlc2UgaWRlbnRpZmllcnMgb3IgY2hhbmdlIHRoaXMgaW50byBhIGNvbnN0IGVudW0uXG4gKi8gdmFyIGNlLCBsZTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gZXJyb3IgY29kZSByZXByZXNlbnRzIGEgcGVybWFuZW50IGVycm9yIHdoZW4gcmVjZWl2ZWRcbiAqIGluIHJlc3BvbnNlIHRvIGEgbm9uLXdyaXRlIG9wZXJhdGlvbi5cbiAqXG4gKiBTZWUgaXNQZXJtYW5lbnRXcml0ZUVycm9yIGZvciBjbGFzc2lmeWluZyB3cml0ZSBlcnJvcnMuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9pc1Blcm1hbmVudEVycm9yKGUpIHtcbiAgICBzd2l0Y2ggKGUpIHtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG5cbiAgICAgIGNhc2UgQy5DQU5DRUxMRUQ6XG4gICAgICBjYXNlIEMuVU5LTk9XTjpcbiAgICAgIGNhc2UgQy5ERUFETElORV9FWENFRURFRDpcbiAgICAgIGNhc2UgQy5SRVNPVVJDRV9FWEhBVVNURUQ6XG4gICAgICBjYXNlIEMuSU5URVJOQUw6XG4gICAgICBjYXNlIEMuVU5BVkFJTEFCTEU6XG4gLy8gVW5hdXRoZW50aWNhdGVkIG1lYW5zIHNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggb3VyIHRva2VuIGFuZCB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIHJldHJ5IHdpdGggbmV3IGNyZWRlbnRpYWxzIHdoaWNoIHdpbGwgaGFwcGVuIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAgICAgIGNhc2UgQy5VTkFVVEhFTlRJQ0FURUQ6XG4gICAgICAgIHJldHVybiAhMTtcblxuICAgICAgY2FzZSBDLklOVkFMSURfQVJHVU1FTlQ6XG4gICAgICBjYXNlIEMuTk9UX0ZPVU5EOlxuICAgICAgY2FzZSBDLkFMUkVBRFlfRVhJU1RTOlxuICAgICAgY2FzZSBDLlBFUk1JU1NJT05fREVOSUVEOlxuICAgICAgY2FzZSBDLkZBSUxFRF9QUkVDT05ESVRJT046XG4gLy8gQWJvcnRlZCBtaWdodCBiZSByZXRyaWVkIGluIHNvbWUgc2NlbmFyaW9zLCBidXQgdGhhdCBpcyBkZXBlbmRhbnQgb25cbiAgICAgICAgLy8gdGhlIGNvbnRleHQgYW5kIHNob3VsZCBoYW5kbGVkIGluZGl2aWR1YWxseSBieSB0aGUgY2FsbGluZyBjb2RlLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2FwaXMvZGVzaWduL2Vycm9ycy5cbiAgICAgICAgICAgICAgY2FzZSBDLkFCT1JURUQ6XG4gICAgICBjYXNlIEMuT1VUX09GX1JBTkdFOlxuICAgICAgY2FzZSBDLlVOSU1QTEVNRU5URUQ6XG4gICAgICBjYXNlIEMuREFUQV9MT1NTOlxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhbiBlcnJvciBjb2RlIHJlcHJlc2VudHMgYSBwZXJtYW5lbnQgZXJyb3Igd2hlbiByZWNlaXZlZFxuICogaW4gcmVzcG9uc2UgdG8gYSB3cml0ZSBvcGVyYXRpb24uXG4gKlxuICogV3JpdGUgb3BlcmF0aW9ucyBtdXN0IGJlIGhhbmRsZWQgc3BlY2lhbGx5IGJlY2F1c2UgYXMgb2YgYi8xMTk0Mzc3NjQsIEFCT1JURURcbiAqIGVycm9ycyBvbiB0aGUgd3JpdGUgc3RyZWFtIHNob3VsZCBiZSByZXRyaWVkIHRvbyAoZXZlbiB0aG91Z2ggQUJPUlRFRCBlcnJvcnNcbiAqIGFyZSBub3QgZ2VuZXJhbGx5IHJldHJ5YWJsZSkuXG4gKlxuICogTm90ZSB0aGF0IGR1cmluZyB0aGUgaW5pdGlhbCBoYW5kc2hha2Ugb24gdGhlIHdyaXRlIHN0cmVhbSBhbiBBQk9SVEVEIGVycm9yXG4gKiBzaWduYWxzIHRoYXQgd2Ugc2hvdWxkIGRpc2NhcmQgb3VyIHN0cmVhbSB0b2tlbiAoaS5lLiBpdCBpcyBwZXJtYW5lbnQpLiBUaGlzXG4gKiBtZWFucyBhIGhhbmRzaGFrZSBlcnJvciBzaG91bGQgYmUgY2xhc3NpZmllZCB3aXRoIGlzUGVybWFuZW50RXJyb3IsIGFib3ZlLlxuICovXG4vKipcbiAqIE1hcHMgYW4gZXJyb3IgQ29kZSBmcm9tIEdSUEMgc3RhdHVzIGNvZGUgbnVtYmVyLCBsaWtlIDAsIDEsIG9yIDE0LiBUaGVzZVxuICogYXJlIG5vdCB0aGUgc2FtZSBhcyBIVFRQIHN0YXR1cyBjb2Rlcy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgQ29kZSBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBHUlBDIHN0YXR1cyBjb2RlLiBGYWlscyBpZiB0aGVyZVxuICogICAgIGlzIG5vIG1hdGNoLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbWFwQ29kZUZyb21ScGNDb2RlKGUpIHtcbiAgICBpZiAodm9pZCAwID09PSBlKSBcbiAgICAvLyBUaGlzIHNob3VsZG4ndCBub3JtYWxseSBoYXBwZW4sIGJ1dCBpbiBjZXJ0YWluIGVycm9yIGNhc2VzIChsaWtlIHRyeWluZ1xuICAgIC8vIHRvIHNlbmQgaW52YWxpZCBwcm90byBtZXNzYWdlcykgd2UgbWF5IGdldCBhbiBlcnJvciB3aXRoIG5vIEdSUEMgY29kZS5cbiAgICByZXR1cm4gX19QUklWQVRFX2xvZ0Vycm9yKFwiR1JQQyBlcnJvciBoYXMgbm8gLmNvZGVcIiksIEMuVU5LTk9XTjtcbiAgICBzd2l0Y2ggKGUpIHtcbiAgICAgIGNhc2UgY2UuT0s6XG4gICAgICAgIHJldHVybiBDLk9LO1xuXG4gICAgICBjYXNlIGNlLkNBTkNFTExFRDpcbiAgICAgICAgcmV0dXJuIEMuQ0FOQ0VMTEVEO1xuXG4gICAgICBjYXNlIGNlLlVOS05PV046XG4gICAgICAgIHJldHVybiBDLlVOS05PV047XG5cbiAgICAgIGNhc2UgY2UuREVBRExJTkVfRVhDRUVERUQ6XG4gICAgICAgIHJldHVybiBDLkRFQURMSU5FX0VYQ0VFREVEO1xuXG4gICAgICBjYXNlIGNlLlJFU09VUkNFX0VYSEFVU1RFRDpcbiAgICAgICAgcmV0dXJuIEMuUkVTT1VSQ0VfRVhIQVVTVEVEO1xuXG4gICAgICBjYXNlIGNlLklOVEVSTkFMOlxuICAgICAgICByZXR1cm4gQy5JTlRFUk5BTDtcblxuICAgICAgY2FzZSBjZS5VTkFWQUlMQUJMRTpcbiAgICAgICAgcmV0dXJuIEMuVU5BVkFJTEFCTEU7XG5cbiAgICAgIGNhc2UgY2UuVU5BVVRIRU5USUNBVEVEOlxuICAgICAgICByZXR1cm4gQy5VTkFVVEhFTlRJQ0FURUQ7XG5cbiAgICAgIGNhc2UgY2UuSU5WQUxJRF9BUkdVTUVOVDpcbiAgICAgICAgcmV0dXJuIEMuSU5WQUxJRF9BUkdVTUVOVDtcblxuICAgICAgY2FzZSBjZS5OT1RfRk9VTkQ6XG4gICAgICAgIHJldHVybiBDLk5PVF9GT1VORDtcblxuICAgICAgY2FzZSBjZS5BTFJFQURZX0VYSVNUUzpcbiAgICAgICAgcmV0dXJuIEMuQUxSRUFEWV9FWElTVFM7XG5cbiAgICAgIGNhc2UgY2UuUEVSTUlTU0lPTl9ERU5JRUQ6XG4gICAgICAgIHJldHVybiBDLlBFUk1JU1NJT05fREVOSUVEO1xuXG4gICAgICBjYXNlIGNlLkZBSUxFRF9QUkVDT05ESVRJT046XG4gICAgICAgIHJldHVybiBDLkZBSUxFRF9QUkVDT05ESVRJT047XG5cbiAgICAgIGNhc2UgY2UuQUJPUlRFRDpcbiAgICAgICAgcmV0dXJuIEMuQUJPUlRFRDtcblxuICAgICAgY2FzZSBjZS5PVVRfT0ZfUkFOR0U6XG4gICAgICAgIHJldHVybiBDLk9VVF9PRl9SQU5HRTtcblxuICAgICAgY2FzZSBjZS5VTklNUExFTUVOVEVEOlxuICAgICAgICByZXR1cm4gQy5VTklNUExFTUVOVEVEO1xuXG4gICAgICBjYXNlIGNlLkRBVEFfTE9TUzpcbiAgICAgICAgcmV0dXJuIEMuREFUQV9MT1NTO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBIVFRQIHJlc3BvbnNlJ3MgZXJyb3Igc3RhdHVzIHRvIHRoZSBlcXVpdmFsZW50IGVycm9yIGNvZGUuXG4gKlxuICogQHBhcmFtIHN0YXR1cyAtIEFuIEhUVFAgZXJyb3IgcmVzcG9uc2Ugc3RhdHVzIChcIkZBSUxFRF9QUkVDT05ESVRJT05cIixcbiAqIFwiVU5LTk9XTlwiLCBldGMuKVxuICogQHJldHVybnMgVGhlIGVxdWl2YWxlbnQgQ29kZS4gTm9uLW1hdGNoaW5nIHJlc3BvbnNlcyBhcmUgbWFwcGVkIHRvXG4gKiAgICAgQ29kZS5VTktOT1dOLlxuICovIChsZSA9IGNlIHx8IChjZSA9IHt9KSlbbGUuT0sgPSAwXSA9IFwiT0tcIiwgbGVbbGUuQ0FOQ0VMTEVEID0gMV0gPSBcIkNBTkNFTExFRFwiLCBcbmxlW2xlLlVOS05PV04gPSAyXSA9IFwiVU5LTk9XTlwiLCBsZVtsZS5JTlZBTElEX0FSR1VNRU5UID0gM10gPSBcIklOVkFMSURfQVJHVU1FTlRcIiwgXG5sZVtsZS5ERUFETElORV9FWENFRURFRCA9IDRdID0gXCJERUFETElORV9FWENFRURFRFwiLCBsZVtsZS5OT1RfRk9VTkQgPSA1XSA9IFwiTk9UX0ZPVU5EXCIsIFxubGVbbGUuQUxSRUFEWV9FWElTVFMgPSA2XSA9IFwiQUxSRUFEWV9FWElTVFNcIiwgbGVbbGUuUEVSTUlTU0lPTl9ERU5JRUQgPSA3XSA9IFwiUEVSTUlTU0lPTl9ERU5JRURcIiwgXG5sZVtsZS5VTkFVVEhFTlRJQ0FURUQgPSAxNl0gPSBcIlVOQVVUSEVOVElDQVRFRFwiLCBsZVtsZS5SRVNPVVJDRV9FWEhBVVNURUQgPSA4XSA9IFwiUkVTT1VSQ0VfRVhIQVVTVEVEXCIsIFxubGVbbGUuRkFJTEVEX1BSRUNPTkRJVElPTiA9IDldID0gXCJGQUlMRURfUFJFQ09ORElUSU9OXCIsIGxlW2xlLkFCT1JURUQgPSAxMF0gPSBcIkFCT1JURURcIiwgXG5sZVtsZS5PVVRfT0ZfUkFOR0UgPSAxMV0gPSBcIk9VVF9PRl9SQU5HRVwiLCBsZVtsZS5VTklNUExFTUVOVEVEID0gMTJdID0gXCJVTklNUExFTUVOVEVEXCIsIFxubGVbbGUuSU5URVJOQUwgPSAxM10gPSBcIklOVEVSTkFMXCIsIGxlW2xlLlVOQVZBSUxBQkxFID0gMTRdID0gXCJVTkFWQUlMQUJMRVwiLCBsZVtsZS5EQVRBX0xPU1MgPSAxNV0gPSBcIkRBVEFfTE9TU1wiO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgZ2xvYmFsLCBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgVGVzdGluZ0hvb2tzU3BpLlxuICpcbiAqIFRoaXMgdmFyaWFibGUgd2lsbCBiZSBgbnVsbGAgaW4gYWxsIGNhc2VzIF9leGNlcHRfIHdoZW4gcnVubmluZyBmcm9tXG4gKiBpbnRlZ3JhdGlvbiB0ZXN0cyB0aGF0IGhhdmUgcmVnaXN0ZXJlZCBjYWxsYmFja3MgdG8gYmUgbm90aWZpZWQgb2YgZXZlbnRzXG4gKiB0aGF0IGhhcHBlbiBkdXJpbmcgdGhlIHRlc3QgZXhlY3V0aW9uLlxuICovXG5sZXQgaGUgPSBudWxsO1xuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBgdGVzdGluZ0hvb2tzU3BpYCBvYmplY3QuXG4gKiBAcGFyYW0gaW5zdGFuY2UgdGhlIGluc3RhbmNlIHRvIHNldC5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhlIFBsYXRmb3JtJ3MgJ1RleHRFbmNvZGVyJyBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX25ld1RleHRFbmNvZGVyKCkge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXI7XG59XG5cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhlIFBsYXRmb3JtJ3MgJ1RleHREZWNvZGVyJyBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNvbnN0IFBlID0gbmV3IGJsb29tQmxvYi5JbnRlZ2VyKFsgNDI5NDk2NzI5NSwgNDI5NDk2NzI5NSBdLCAwKTtcblxuLy8gSGFzaCBhIHN0cmluZyB1c2luZyBtZDUgaGFzaGluZyBhbGdvcml0aG0uXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0TWQ1SGFzaFZhbHVlKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX25ld1RleHRFbmNvZGVyKCkuZW5jb2RlKGUpLCBuID0gbmV3IGJsb29tQmxvYi5NZDU7XG4gICAgcmV0dXJuIG4udXBkYXRlKHQpLCBuZXcgVWludDhBcnJheShuLmRpZ2VzdCgpKTtcbn1cblxuLy8gSW50ZXJwcmV0IHRoZSAxNiBieXRlcyBhcnJheSBhcyB0d28gNjQtYml0IHVuc2lnbmVkIGludGVnZXJzLCBlbmNvZGVkIHVzaW5nXG4vLyAy4oCZcyBjb21wbGVtZW50IHVzaW5nIGxpdHRsZSBlbmRpYW4uXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0NjRCaXRVaW50cyhlKSB7XG4gICAgY29uc3QgdCA9IG5ldyBEYXRhVmlldyhlLmJ1ZmZlciksIG4gPSB0LmdldFVpbnQzMigwLCAvKiBsaXR0bGVFbmRpYW49ICovICEwKSwgciA9IHQuZ2V0VWludDMyKDQsIC8qIGxpdHRsZUVuZGlhbj0gKi8gITApLCBpID0gdC5nZXRVaW50MzIoOCwgLyogbGl0dGxlRW5kaWFuPSAqLyAhMCksIHMgPSB0LmdldFVpbnQzMigxMiwgLyogbGl0dGxlRW5kaWFuPSAqLyAhMCk7XG4gICAgcmV0dXJuIFsgbmV3IGJsb29tQmxvYi5JbnRlZ2VyKFsgbiwgciBdLCAwKSwgbmV3IGJsb29tQmxvYi5JbnRlZ2VyKFsgaSwgcyBdLCAwKSBdO1xufVxuXG5jbGFzcyBCbG9vbUZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICBpZiAodGhpcy5iaXRtYXAgPSBlLCB0aGlzLnBhZGRpbmcgPSB0LCB0aGlzLmhhc2hDb3VudCA9IG4sIHQgPCAwIHx8IHQgPj0gOCkgdGhyb3cgbmV3IF9fUFJJVkFURV9CbG9vbUZpbHRlckVycm9yKGBJbnZhbGlkIHBhZGRpbmc6ICR7dH1gKTtcbiAgICAgICAgaWYgKG4gPCAwKSB0aHJvdyBuZXcgX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IoYEludmFsaWQgaGFzaCBjb3VudDogJHtufWApO1xuICAgICAgICBpZiAoZS5sZW5ndGggPiAwICYmIDAgPT09IHRoaXMuaGFzaENvdW50KSBcbiAgICAgICAgLy8gT25seSBlbXB0eSBibG9vbSBmaWx0ZXIgY2FuIGhhdmUgMCBoYXNoIGNvdW50LlxuICAgICAgICB0aHJvdyBuZXcgX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IoYEludmFsaWQgaGFzaCBjb3VudDogJHtufWApO1xuICAgICAgICBpZiAoMCA9PT0gZS5sZW5ndGggJiYgMCAhPT0gdCkgXG4gICAgICAgIC8vIEVtcHR5IGJsb29tIGZpbHRlciBzaG91bGQgaGF2ZSAwIHBhZGRpbmcuXG4gICAgICAgIHRocm93IG5ldyBfX1BSSVZBVEVfQmxvb21GaWx0ZXJFcnJvcihgSW52YWxpZCBwYWRkaW5nIHdoZW4gYml0bWFwIGxlbmd0aCBpcyAwOiAke3R9YCk7XG4gICAgICAgIHRoaXMuSWUgPSA4ICogZS5sZW5ndGggLSB0LCBcbiAgICAgICAgLy8gU2V0IHRoZSBiaXQgY291bnQgaW4gSW50ZWdlciB0byBhdm9pZCByZXBldGl0aW9uIGluIG1pZ2h0Q29udGFpbigpLlxuICAgICAgICB0aGlzLlRlID0gYmxvb21CbG9iLkludGVnZXIuZnJvbU51bWJlcih0aGlzLkllKTtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBpdGggaGFzaCB2YWx1ZSBiYXNlZCBvbiB0aGUgaGFzaGVkIDY0Yml0IGludGVnZXJzLFxuICAgIC8vIGFuZCBjYWxjdWxhdGUgaXRzIGNvcnJlc3BvbmRpbmcgYml0IGluZGV4IGluIHRoZSBiaXRtYXAgdG8gYmUgY2hlY2tlZC5cbiAgICBFZShlLCB0LCBuKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBoYXNoZWQgdmFsdWUgaChpKSA9IGgxICsgKGkgKiBoMikuXG4gICAgICAgIGxldCByID0gZS5hZGQodC5tdWx0aXBseShibG9vbUJsb2IuSW50ZWdlci5mcm9tTnVtYmVyKG4pKSk7XG4gICAgICAgIC8vIFdyYXAgaWYgaGFzaCB2YWx1ZSBvdmVyZmxvdyA2NGJpdC5cbiAgICAgICAgICAgICAgICByZXR1cm4gMSA9PT0gci5jb21wYXJlKFBlKSAmJiAociA9IG5ldyBibG9vbUJsb2IuSW50ZWdlcihbIHIuZ2V0Qml0cygwKSwgci5nZXRCaXRzKDEpIF0sIDApKSwgXG4gICAgICAgIHIubW9kdWxvKHRoaXMuVGUpLnRvTnVtYmVyKCk7XG4gICAgfVxuICAgIC8vIFJldHVybiB3aGV0aGVyIHRoZSBiaXQgb24gdGhlIGdpdmVuIGluZGV4IGluIHRoZSBiaXRtYXAgaXMgc2V0IHRvIDEuXG4gICAgZGUoZSkge1xuICAgICAgICByZXR1cm4gMCAhPSAodGhpcy5iaXRtYXBbTWF0aC5mbG9vcihlIC8gOCldICYgMSA8PCBlICUgOCk7XG4gICAgfVxuICAgIG1pZ2h0Q29udGFpbihlKSB7XG4gICAgICAgIC8vIEVtcHR5IGJpdG1hcCBzaG91bGQgYWx3YXlzIHJldHVybiBmYWxzZSBvbiBtZW1iZXJzaGlwIGNoZWNrLlxuICAgICAgICBpZiAoMCA9PT0gdGhpcy5JZSkgcmV0dXJuICExO1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2dldE1kNUhhc2hWYWx1ZShlKSwgW24sIHJdID0gX19QUklWQVRFX2dldDY0Qml0VWludHModCk7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdGhpcy5oYXNoQ291bnQ7IGUrKykge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuRWUobiwgciwgZSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGUodCkpIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIC8qKiBDcmVhdGUgYmxvb20gZmlsdGVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuICovICAgIHN0YXRpYyBjcmVhdGUoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gZSAlIDggPT0gMCA/IDAgOiA4IC0gZSAlIDgsIGkgPSBuZXcgVWludDhBcnJheShNYXRoLmNlaWwoZSAvIDgpKSwgcyA9IG5ldyBCbG9vbUZpbHRlcihpLCByLCB0KTtcbiAgICAgICAgcmV0dXJuIG4uZm9yRWFjaCgoZSA9PiBzLmluc2VydChlKSkpLCBzO1xuICAgIH1cbiAgICBpbnNlcnQoZSkge1xuICAgICAgICBpZiAoMCA9PT0gdGhpcy5JZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2dldE1kNUhhc2hWYWx1ZShlKSwgW24sIHJdID0gX19QUklWQVRFX2dldDY0Qml0VWludHModCk7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdGhpcy5oYXNoQ291bnQ7IGUrKykge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuRWUobiwgciwgZSk7XG4gICAgICAgICAgICB0aGlzLkFlKHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IE1hdGguZmxvb3IoZSAvIDgpLCBuID0gZSAlIDg7XG4gICAgICAgIHRoaXMuYml0bWFwW3RdIHw9IDEgPDwgbjtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9CbG9vbUZpbHRlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm5hbWUgPSBcIkJsb29tRmlsdGVyRXJyb3JcIjtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGV2ZW50IGZyb20gdGhlIFJlbW90ZVN0b3JlLiBJdCBpcyBzcGxpdCBpbnRvIHRhcmdldENoYW5nZXMgKGNoYW5nZXMgdG8gdGhlXG4gKiBzdGF0ZSBvciB0aGUgc2V0IG9mIGRvY3VtZW50cyBpbiBvdXIgd2F0Y2hlZCB0YXJnZXRzKSBhbmQgZG9jdW1lbnRVcGRhdGVzXG4gKiAoY2hhbmdlcyB0byB0aGUgYWN0dWFsIGRvY3VtZW50cykuXG4gKi8gY2xhc3MgUmVtb3RlRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBzbmFwc2hvdCB2ZXJzaW9uIHRoaXMgZXZlbnQgYnJpbmdzIHVzIHVwIHRvLCBvciBNSU4gaWYgbm90IHNldC5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBBIG1hcCBmcm9tIHRhcmdldCB0byBjaGFuZ2VzIHRvIHRoZSB0YXJnZXQuIFNlZSBUYXJnZXRDaGFuZ2UuXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgdGFyZ2V0cyB0aGF0IGlzIGtub3duIHRvIGJlIGluY29uc2lzdGVudCwgYW5kIHRoZSBwdXJwb3NlIGZvclxuICAgICAqIHJlLWxpc3RlbmluZy4gTGlzdGVucyBmb3IgdGhlc2UgdGFyZ2V0cyBzaG91bGQgYmUgcmUtZXN0YWJsaXNoZWQgd2l0aG91dFxuICAgICAqIHJlc3VtZSB0b2tlbnMuXG4gICAgICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2Ygd2hpY2ggZG9jdW1lbnRzIGhhdmUgY2hhbmdlZCBvciBiZWVuIGRlbGV0ZWQsIGFsb25nIHdpdGggdGhlXG4gICAgICogZG9jJ3MgbmV3IHZhbHVlcyAoaWYgbm90IGRlbGV0ZWQpLlxuICAgICAqL1xuICAgIHIsIFxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIHdoaWNoIGRvY3VtZW50IHVwZGF0ZXMgYXJlIGR1ZSBvbmx5IHRvIGxpbWJvIHJlc29sdXRpb24gdGFyZ2V0cy5cbiAgICAgKi9cbiAgICBpKSB7XG4gICAgICAgIHRoaXMuc25hcHNob3RWZXJzaW9uID0gZSwgdGhpcy50YXJnZXRDaGFuZ2VzID0gdCwgdGhpcy50YXJnZXRNaXNtYXRjaGVzID0gbiwgdGhpcy5kb2N1bWVudFVwZGF0ZXMgPSByLCBcbiAgICAgICAgdGhpcy5yZXNvbHZlZExpbWJvRG9jdW1lbnRzID0gaTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSEFDSzogVmlld3MgcmVxdWlyZSBSZW1vdGVFdmVudHMgaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHZpZXcgaXNcbiAgICAgKiBDVVJSRU5ULCBidXQgc2Vjb25kYXJ5IHRhYnMgZG9uJ3QgcmVjZWl2ZSByZW1vdGUgZXZlbnRzLiBTbyB0aGlzIG1ldGhvZCBpc1xuICAgICAqIHVzZWQgdG8gY3JlYXRlIGEgc3ludGhlc2l6ZWQgUmVtb3RlRXZlbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBhcHBseSBhXG4gICAgICogQ1VSUkVOVCBzdGF0dXMgY2hhbmdlIHRvIGEgVmlldywgZm9yIHF1ZXJpZXMgZXhlY3V0ZWQgaW4gYSBkaWZmZXJlbnQgdGFiLlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktdGFiIG9ubHlcbiAgICBzdGF0aWMgY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gbmV3IE1hcDtcbiAgICAgICAgcmV0dXJuIHIuc2V0KGUsIFRhcmdldENoYW5nZS5jcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2UoZSwgdCwgbikpLCBcbiAgICAgICAgbmV3IFJlbW90ZUV2ZW50KFNuYXBzaG90VmVyc2lvbi5taW4oKSwgciwgbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvciksIF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKSwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIFRhcmdldENoYW5nZSBzcGVjaWZpZXMgdGhlIHNldCBvZiBjaGFuZ2VzIGZvciBhIHNwZWNpZmljIHRhcmdldCBhcyBwYXJ0IG9mXG4gKiBhIFJlbW90ZUV2ZW50LiBUaGVzZSBjaGFuZ2VzIHRyYWNrIHdoaWNoIGRvY3VtZW50cyBhcmUgYWRkZWQsIG1vZGlmaWVkIG9yXG4gKiByZW1vdmVkLCBhcyB3ZWxsIGFzIHRoZSB0YXJnZXQncyByZXN1bWUgdG9rZW4gYW5kIHdoZXRoZXIgdGhlIHRhcmdldCBpc1xuICogbWFya2VkIENVUlJFTlQuXG4gKiBUaGUgYWN0dWFsIGNoYW5nZXMgKnRvKiBkb2N1bWVudHMgYXJlIG5vdCBwYXJ0IG9mIHRoZSBUYXJnZXRDaGFuZ2Ugc2luY2VcbiAqIGRvY3VtZW50cyBtYXkgYmUgcGFydCBvZiBtdWx0aXBsZSB0YXJnZXRzLlxuICovIGNsYXNzIFRhcmdldENoYW5nZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogQW4gb3BhcXVlLCBzZXJ2ZXItYXNzaWduZWQgdG9rZW4gdGhhdCBhbGxvd3Mgd2F0Y2hpbmcgYSBxdWVyeSB0byBiZSByZXN1bWVkXG4gICAgICogYWZ0ZXIgZGlzY29ubmVjdGluZyB3aXRob3V0IHJldHJhbnNtaXR0aW5nIGFsbCB0aGUgZGF0YSB0aGF0IG1hdGNoZXMgdGhlXG4gICAgICogcXVlcnkuIFRoZSByZXN1bWUgdG9rZW4gZXNzZW50aWFsbHkgaWRlbnRpZmllcyBhIHBvaW50IGluIHRpbWUgZnJvbSB3aGljaFxuICAgICAqIHRoZSBzZXJ2ZXIgc2hvdWxkIHJlc3VtZSBzZW5kaW5nIHJlc3VsdHMuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIFwiY3VycmVudFwiIChzeW5jZWQpIHN0YXR1cyBvZiB0aGlzIHRhcmdldC4gTm90ZSB0aGF0IFwiY3VycmVudFwiXG4gICAgICogaGFzIHNwZWNpYWwgbWVhbmluZyBpbiB0aGUgUlBDIHByb3RvY29sIHRoYXQgaW1wbGllcyB0aGF0IGEgdGFyZ2V0IGlzXG4gICAgICogYm90aCB1cC10by1kYXRlIGFuZCBjb25zaXN0ZW50IHdpdGggdGhlIHJlc3Qgb2YgdGhlIHdhdGNoIHN0cmVhbS5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBUaGUgc2V0IG9mIGRvY3VtZW50cyB0aGF0IHdlcmUgbmV3bHkgYXNzaWduZWQgdG8gdGhpcyB0YXJnZXQgYXMgcGFydCBvZlxuICAgICAqIHRoaXMgcmVtb3RlIGV2ZW50LlxuICAgICAqL1xuICAgIG4sIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXQgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSBhbHJlYWR5IGFzc2lnbmVkIHRvIHRoaXMgdGFyZ2V0IGJ1dCByZWNlaXZlZFxuICAgICAqIGFuIHVwZGF0ZSBkdXJpbmcgdGhpcyByZW1vdGUgZXZlbnQuXG4gICAgICovXG4gICAgciwgXG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiBkb2N1bWVudHMgdGhhdCB3ZXJlIHJlbW92ZWQgZnJvbSB0aGlzIHRhcmdldCBhcyBwYXJ0IG9mIHRoaXNcbiAgICAgKiByZW1vdGUgZXZlbnQuXG4gICAgICovXG4gICAgaSkge1xuICAgICAgICB0aGlzLnJlc3VtZVRva2VuID0gZSwgdGhpcy5jdXJyZW50ID0gdCwgdGhpcy5hZGRlZERvY3VtZW50cyA9IG4sIHRoaXMubW9kaWZpZWREb2N1bWVudHMgPSByLCBcbiAgICAgICAgdGhpcy5yZW1vdmVkRG9jdW1lbnRzID0gaTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjcmVhdGUgYSBzeW50aGVzaXplZCBUYXJnZXRDaGFuZ2VzIHRoYXQgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiBhcHBseSBhIENVUlJFTlQgc3RhdHVzIGNoYW5nZSB0byBhIFZpZXcgKGZvciBxdWVyaWVzIGV4ZWN1dGVkIGluIGEgZGlmZmVyZW50XG4gICAgICogdGFiKSBvciBmb3IgbmV3IHF1ZXJpZXMgKHRvIHJhaXNlIHNuYXBzaG90cyB3aXRoIGNvcnJlY3QgQ1VSUkVOVCBzdGF0dXMpLlxuICAgICAqLyAgICBzdGF0aWMgY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYXJnZXRDaGFuZ2UobiwgdCwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2hhbmdlZCBkb2N1bWVudCBhbmQgYSBsaXN0IG9mIHRhcmdldCBpZHMgdG8gd2hpY2ggdGhpcyBjaGFuZ2VcbiAqIGFwcGxpZXMuXG4gKlxuICogSWYgZG9jdW1lbnQgaGFzIGJlZW4gZGVsZXRlZCBOb0RvY3VtZW50IHdpbGwgYmUgcHJvdmlkZWQuXG4gKi8gY2xhc3MgX19QUklWQVRFX0RvY3VtZW50V2F0Y2hDaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgbmV3IGRvY3VtZW50IGFwcGxpZXMgdG8gYWxsIG9mIHRoZXNlIHRhcmdldHMuICovXG4gICAgZSwgXG4gICAgLyoqIFRoZSBuZXcgZG9jdW1lbnQgaXMgcmVtb3ZlZCBmcm9tIGFsbCBvZiB0aGVzZSB0YXJnZXRzLiAqL1xuICAgIHQsIFxuICAgIC8qKiBUaGUga2V5IG9mIHRoZSBkb2N1bWVudCBmb3IgdGhpcyBjaGFuZ2UuICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogVGhlIG5ldyBkb2N1bWVudCBvciBOb0RvY3VtZW50IGlmIGl0IHdhcyBkZWxldGVkLiBJcyBudWxsIGlmIHRoZVxuICAgICAqIGRvY3VtZW50IHdlbnQgb3V0IG9mIHZpZXcgd2l0aG91dCB0aGUgc2VydmVyIHNlbmRpbmcgYSBuZXcgZG9jdW1lbnQuXG4gICAgICovXG4gICAgcikge1xuICAgICAgICB0aGlzLlJlID0gZSwgdGhpcy5yZW1vdmVkVGFyZ2V0SWRzID0gdCwgdGhpcy5rZXkgPSBuLCB0aGlzLlZlID0gcjtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9FeGlzdGVuY2VGaWx0ZXJDaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IGUsIHRoaXMubWUgPSB0O1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX1dhdGNoVGFyZ2V0Q2hhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogV2hhdCBraW5kIG9mIGNoYW5nZSBvY2N1cnJlZCB0byB0aGUgd2F0Y2ggdGFyZ2V0LiAqL1xuICAgIGUsIFxuICAgIC8qKiBUaGUgdGFyZ2V0IElEcyB0aGF0IHdlcmUgYWRkZWQvcmVtb3ZlZC9zZXQuICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogQW4gb3BhcXVlLCBzZXJ2ZXItYXNzaWduZWQgdG9rZW4gdGhhdCBhbGxvd3Mgd2F0Y2hpbmcgYSB0YXJnZXQgdG8gYmVcbiAgICAgKiByZXN1bWVkIGFmdGVyIGRpc2Nvbm5lY3Rpbmcgd2l0aG91dCByZXRyYW5zbWl0dGluZyBhbGwgdGhlIGRhdGEgdGhhdFxuICAgICAqIG1hdGNoZXMgdGhlIHRhcmdldC4gVGhlIHJlc3VtZSB0b2tlbiBlc3NlbnRpYWxseSBpZGVudGlmaWVzIGEgcG9pbnQgaW5cbiAgICAgKiB0aW1lIGZyb20gd2hpY2ggdGhlIHNlcnZlciBzaG91bGQgcmVzdW1lIHNlbmRpbmcgcmVzdWx0cy5cbiAgICAgKi9cbiAgICBuID0gQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklOR1xuICAgIC8qKiBBbiBSUEMgZXJyb3IgaW5kaWNhdGluZyB3aHkgdGhlIHdhdGNoIGZhaWxlZC4gKi8gLCByID0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gZSwgdGhpcy50YXJnZXRJZHMgPSB0LCB0aGlzLnJlc3VtZVRva2VuID0gbiwgdGhpcy5jYXVzZSA9IHI7XG4gICAgfVxufVxuXG4vKiogVHJhY2tzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhIFdhdGNoIHRhcmdldC4gKi8gY2xhc3MgX19QUklWQVRFX1RhcmdldFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGVuZGluZyByZXNwb25zZXMgKGFkZHMgb3IgcmVtb3ZlcykgdGhhdCB3ZSBhcmUgd2FpdGluZyBvbi5cbiAgICAgICAgICogV2Ugb25seSBjb25zaWRlciB0YXJnZXRzIGFjdGl2ZSB0aGF0IGhhdmUgbm8gcGVuZGluZyByZXNwb25zZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZlID0gMCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgZG9jdW1lbnQgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCByYWlzZWQgc25hcHNob3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZXNlIGNoYW5nZXMgYXJlIGNvbnRpbnVvdXNseSB1cGRhdGVkIGFzIHdlIHJlY2VpdmUgZG9jdW1lbnQgdXBkYXRlcyBhbmRcbiAgICAgICAgICogYWx3YXlzIHJlZmxlY3QgdGhlIGN1cnJlbnQgc2V0IG9mIGNoYW5nZXMgYWdhaW5zdCB0aGUgbGFzdCBpc3N1ZWQgc25hcHNob3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlID0gX19QUklWQVRFX3NuYXBzaG90Q2hhbmdlc01hcCgpLCBcbiAgICAgICAgLyoqIFNlZSBwdWJsaWMgZ2V0dGVycyBmb3IgZXhwbGFuYXRpb25zIG9mIHRoZXNlIGZpZWxkcy4gKi9cbiAgICAgICAgdGhpcy5wZSA9IEJ5dGVTdHJpbmcuRU1QVFlfQllURV9TVFJJTkcsIHRoaXMueWUgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgdGFyZ2V0IHN0YXRlIHNob3VsZCBiZSBpbmNsdWRlZCBpbiB0aGUgbmV4dCBzbmFwc2hvdC4gV2VcbiAgICAgICAgICogaW5pdGlhbGl6ZSB0byB0cnVlIHNvIHRoYXQgbmV3bHktYWRkZWQgdGFyZ2V0cyBhcmUgaW5jbHVkZWQgaW4gdGhlIG5leHRcbiAgICAgICAgICogUmVtb3RlRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndlID0gITA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyB0YXJnZXQgaGFzIGJlZW4gbWFya2VkICdjdXJyZW50Jy5cbiAgICAgKlxuICAgICAqICdDdXJyZW50JyBoYXMgc3BlY2lhbCBtZWFuaW5nIGluIHRoZSBSUEMgcHJvdG9jb2w6IEl0IGltcGxpZXMgdGhhdCB0aGVcbiAgICAgKiBXYXRjaCBiYWNrZW5kIGhhcyBzZW50IHVzIGFsbCBjaGFuZ2VzIHVwIHRvIHRoZSBwb2ludCBhdCB3aGljaCB0aGUgdGFyZ2V0XG4gICAgICogd2FzIGFkZGVkIGFuZCB0aGF0IHRoZSB0YXJnZXQgaXMgY29uc2lzdGVudCB3aXRoIHRoZSByZXN0IG9mIHRoZSB3YXRjaFxuICAgICAqIHN0cmVhbS5cbiAgICAgKi8gICAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnllO1xuICAgIH1cbiAgICAvKiogVGhlIGxhc3QgcmVzdW1lIHRva2VuIHNlbnQgdG8gdXMgZm9yIHRoaXMgdGFyZ2V0LiAqLyAgICBnZXQgcmVzdW1lVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIHRhcmdldCBoYXMgcGVuZGluZyB0YXJnZXQgYWRkcyBvciB0YXJnZXQgcmVtb3Zlcy4gKi8gICAgZ2V0IFNlKCkge1xuICAgICAgICByZXR1cm4gMCAhPT0gdGhpcy5mZTtcbiAgICB9XG4gICAgLyoqIFdoZXRoZXIgd2UgaGF2ZSBtb2RpZmllZCBhbnkgc3RhdGUgdGhhdCBzaG91bGQgdHJpZ2dlciBhIHNuYXBzaG90LiAqLyAgICBnZXQgYmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSByZXN1bWUgdG9rZW4gdG8gdGhlIFRhcmdldENoYW5nZSwgYnV0IG9ubHkgd2hlbiBpdCBoYXMgYSBuZXdcbiAgICAgKiB2YWx1ZS4gRW1wdHkgcmVzdW1lVG9rZW5zIGFyZSBkaXNjYXJkZWQuXG4gICAgICovICAgIERlKGUpIHtcbiAgICAgICAgZS5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwICYmICh0aGlzLndlID0gITAsIHRoaXMucGUgPSBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRhcmdldCBjaGFuZ2UgZnJvbSB0aGUgY3VycmVudCBzZXQgb2YgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIFRvIHJlc2V0IHRoZSBkb2N1bWVudCBjaGFuZ2VzIGFmdGVyIHJhaXNpbmcgdGhpcyBzbmFwc2hvdCwgY2FsbFxuICAgICAqIGBjbGVhclBlbmRpbmdDaGFuZ2VzKClgLlxuICAgICAqLyAgICBDZSgpIHtcbiAgICAgICAgbGV0IGUgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgdCA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdlLmZvckVhY2goKChyLCBpKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgY2FzZSAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gOlxuICAgICAgICAgICAgICAgIGUgPSBlLmFkZChyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA6XG4gICAgICAgICAgICAgICAgdCA9IHQuYWRkKHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gOlxuICAgICAgICAgICAgICAgIG4gPSBuLmFkZChyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZhaWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLCBuZXcgVGFyZ2V0Q2hhbmdlKHRoaXMucGUsIHRoaXMueWUsIGUsIHQsIG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGRvY3VtZW50IGNoYW5nZXMgYW5kIHNldHMgYGhhc1BlbmRpbmdDaGFuZ2VzYCB0byBmYWxzZS5cbiAgICAgKi8gICAgdmUoKSB7XG4gICAgICAgIHRoaXMud2UgPSAhMSwgdGhpcy5nZSA9IF9fUFJJVkFURV9zbmFwc2hvdENoYW5nZXNNYXAoKTtcbiAgICB9XG4gICAgRmUoZSwgdCkge1xuICAgICAgICB0aGlzLndlID0gITAsIHRoaXMuZ2UgPSB0aGlzLmdlLmluc2VydChlLCB0KTtcbiAgICB9XG4gICAgTWUoZSkge1xuICAgICAgICB0aGlzLndlID0gITAsIHRoaXMuZ2UgPSB0aGlzLmdlLnJlbW92ZShlKTtcbiAgICB9XG4gICAgeGUoKSB7XG4gICAgICAgIHRoaXMuZmUgKz0gMTtcbiAgICB9XG4gICAgT2UoKSB7XG4gICAgICAgIHRoaXMuZmUgLT0gMSwgX19QUklWQVRFX2hhcmRBc3NlcnQodGhpcy5mZSA+PSAwKTtcbiAgICB9XG4gICAgTmUoKSB7XG4gICAgICAgIHRoaXMud2UgPSAhMCwgdGhpcy55ZSA9ICEwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyB0byBhY2N1bXVsYXRlIHdhdGNoIGNoYW5nZXMgaW50byBhIFJlbW90ZUV2ZW50LlxuICovXG5jbGFzcyBfX1BSSVZBVEVfV2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuTGUgPSBlLCBcbiAgICAgICAgLyoqIFRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhbGwgdHJhY2tlZCB0YXJnZXRzLiAqL1xuICAgICAgICB0aGlzLkJlID0gbmV3IE1hcCwgXG4gICAgICAgIC8qKiBLZWVwcyB0cmFjayBvZiB0aGUgZG9jdW1lbnRzIHRvIHVwZGF0ZSBzaW5jZSB0aGUgbGFzdCByYWlzZWQgc25hcHNob3QuICovXG4gICAgICAgIHRoaXMua2UgPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCksIFxuICAgICAgICAvKiogQSBtYXBwaW5nIG9mIGRvY3VtZW50IGtleXMgdG8gdGhlaXIgc2V0IG9mIHRhcmdldCBJRHMuICovXG4gICAgICAgIHRoaXMucWUgPSBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRNYXAoKSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiB0YXJnZXRzIHdpdGggZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaGVzLiBUaGVzZSB0YXJnZXRzIGFyZVxuICAgICAgICAgKiBrbm93biB0byBiZSBpbmNvbnNpc3RlbnQgYW5kIHRoZWlyIGxpc3RlbnMgbmVlZHMgdG8gYmUgcmUtZXN0YWJsaXNoZWQgYnlcbiAgICAgICAgICogUmVtb3RlU3RvcmUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlFlID0gbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyBhbmQgYWRkcyB0aGUgRG9jdW1lbnRXYXRjaENoYW5nZSB0byB0aGUgY3VycmVudCBzZXQgb2YgY2hhbmdlcy5cbiAgICAgKi8gICAgS2UoZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5SZSkgZS5WZSAmJiBlLlZlLmlzRm91bmREb2N1bWVudCgpID8gdGhpcy4kZSh0LCBlLlZlKSA6IHRoaXMuVWUodCwgZS5rZXksIGUuVmUpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5yZW1vdmVkVGFyZ2V0SWRzKSB0aGlzLlVlKHQsIGUua2V5LCBlLlZlKTtcbiAgICB9XG4gICAgLyoqIFByb2Nlc3NlcyBhbmQgYWRkcyB0aGUgV2F0Y2hUYXJnZXRDaGFuZ2UgdG8gdGhlIGN1cnJlbnQgc2V0IG9mIGNoYW5nZXMuICovICAgIFdlKGUpIHtcbiAgICAgICAgdGhpcy5mb3JFYWNoVGFyZ2V0KGUsICh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLkdlKHQpO1xuICAgICAgICAgICAgc3dpdGNoIChlLnN0YXRlKSB7XG4gICAgICAgICAgICAgIGNhc2UgMCAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLk5vQ2hhbmdlICovIDpcbiAgICAgICAgICAgICAgICB0aGlzLnplKHQpICYmIG4uRGUoZS5yZXN1bWVUb2tlbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuQWRkZWQgKi8gOlxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZGVjcmVtZW50IHRoZSBudW1iZXIgb2YgcGVuZGluZyBhY2tzIG5lZWRlZCBmcm9tIHdhdGNoXG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoaXMgdGFyZ2V0SWQuXG4gICAgICAgICAgICAgICAgbi5PZSgpLCBuLlNlIHx8IFxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBmcmVzaGx5IGFkZGVkIHRhcmdldCwgc28gd2UgbmVlZCB0byByZXNldCBhbnkgc3RhdGVcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHdlIGhhZCBwcmV2aW91c2x5LiBUaGlzIGNhbiBoYXBwZW4gZS5nLiB3aGVuIHJlbW92ZSBhbmQgYWRkXG4gICAgICAgICAgICAgICAgLy8gYmFjayBhIHRhcmdldCBmb3IgZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaGVzLlxuICAgICAgICAgICAgICAgIG4udmUoKSwgbi5EZShlLnJlc3VtZVRva2VuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDIgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5SZW1vdmVkICovIDpcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGtlZXAgdHJhY2sgb2YgcmVtb3ZlZCB0YXJnZXRzIHRvIHdlIGNhbiBwb3N0LWZpbHRlciBhbmRcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYW55IHRhcmdldCBjaGFuZ2VzLlxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZGVjcmVtZW50IHRoZSBudW1iZXIgb2YgcGVuZGluZyBhY2tzIG5lZWRlZCBmcm9tIHdhdGNoXG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoaXMgdGFyZ2V0SWQuXG4gICAgICAgICAgICAgICAgbi5PZSgpLCBuLlNlIHx8IHRoaXMucmVtb3ZlVGFyZ2V0KHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMyAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLkN1cnJlbnQgKi8gOlxuICAgICAgICAgICAgICAgIHRoaXMuemUodCkgJiYgKG4uTmUoKSwgbi5EZShlLnJlc3VtZVRva2VuKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA0IC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuUmVzZXQgKi8gOlxuICAgICAgICAgICAgICAgIHRoaXMuemUodCkgJiYgKFxuICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSB0YXJnZXQgYW5kIHN5bnRoZXNpemVzIHJlbW92ZXMgZm9yIGFsbCBleGlzdGluZ1xuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50cy4gVGhlIGJhY2tlbmQgd2lsbCByZS1hZGQgYW55IGRvY3VtZW50cyB0aGF0IHN0aWxsXG4gICAgICAgICAgICAgICAgLy8gbWF0Y2ggdGhlIHRhcmdldCBiZWZvcmUgaXQgc2VuZHMgdGhlIG5leHQgZ2xvYmFsIHNuYXBzaG90LlxuICAgICAgICAgICAgICAgIHRoaXMuamUodCksIG4uRGUoZS5yZXN1bWVUb2tlbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZmFpbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYWxsIHRhcmdldElkcyB0aGF0IHRoZSB3YXRjaCBjaGFuZ2UgYXBwbGllcyB0bzogZWl0aGVyIHRoZVxuICAgICAqIHRhcmdldElkcyBleHBsaWNpdGx5IGxpc3RlZCBpbiB0aGUgY2hhbmdlIG9yIHRoZSB0YXJnZXRJZHMgb2YgYWxsIGN1cnJlbnRseVxuICAgICAqIGFjdGl2ZSB0YXJnZXRzLlxuICAgICAqLyAgICBmb3JFYWNoVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgZS50YXJnZXRJZHMubGVuZ3RoID4gMCA/IGUudGFyZ2V0SWRzLmZvckVhY2godCkgOiB0aGlzLkJlLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnplKG4pICYmIHQobik7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBleGlzdGVuY2UgZmlsdGVycyBhbmQgc3ludGhlc2l6ZXMgZGVsZXRlcyBmb3IgZmlsdGVyIG1pc21hdGNoZXMuXG4gICAgICogVGFyZ2V0cyB0aGF0IGFyZSBpbnZhbGlkYXRlZCBieSBmaWx0ZXIgbWlzbWF0Y2hlcyBhcmUgYWRkZWQgdG9cbiAgICAgKiBgcGVuZGluZ1RhcmdldFJlc2V0c2AuXG4gICAgICovICAgIEhlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUudGFyZ2V0SWQsIG4gPSBlLm1lLmNvdW50LCByID0gdGhpcy5KZSh0KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSByLnRhcmdldDtcbiAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfdGFyZ2V0SXNEb2N1bWVudFRhcmdldChpKSkgaWYgKDAgPT09IG4pIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZXhpc3RlbmNlIGZpbHRlciB0b2xkIHVzIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBleGlzdC4gV2UgZGVkdWNlXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0aGlzIGRvY3VtZW50IGRvZXMgbm90IGV4aXN0IGFuZCBhcHBseSBhIGRlbGV0ZWQgZG9jdW1lbnQgdG9cbiAgICAgICAgICAgICAgICAvLyBvdXIgdXBkYXRlcy4gV2l0aG91dCBhcHBseWluZyB0aGlzIGRlbGV0ZWQgZG9jdW1lbnQgdGhlcmUgbWlnaHQgYmVcbiAgICAgICAgICAgICAgICAvLyBhbm90aGVyIHF1ZXJ5IHRoYXQgd2lsbCByYWlzZSB0aGlzIGRvY3VtZW50IGFzIHBhcnQgb2YgYSBzbmFwc2hvdFxuICAgICAgICAgICAgICAgIC8vIHVudGlsIGl0IGlzIHJlc29sdmVkLCBlc3NlbnRpYWxseSBleHBvc2luZyBpbmNvbnNpc3RlbmN5IGJldHdlZW5cbiAgICAgICAgICAgICAgICAvLyBxdWVyaWVzLlxuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgRG9jdW1lbnRLZXkoaS5wYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLlVlKHQsIGUsIE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KGUsIFNuYXBzaG90VmVyc2lvbi5taW4oKSkpO1xuICAgICAgICAgICAgfSBlbHNlIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDEgPT09IG4pOyBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5ZZSh0KTtcbiAgICAgICAgICAgICAgICAvLyBFeGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoLiBNYXJrIHRoZSBkb2N1bWVudHMgYXMgYmVpbmcgaW4gbGltYm8sIGFuZFxuICAgICAgICAgICAgICAgIC8vIHJhaXNlIGEgc25hcHNob3Qgd2l0aCBgaXNGcm9tQ2FjaGU6dHJ1ZWAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICE9PSBuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGJsb29tIGZpbHRlciB0byBpZGVudGlmeSBhbmQgbWFyayByZW1vdmVkIGRvY3VtZW50cy5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuWmUoZSksIGkgPSBuID8gdGhpcy5YZShuLCBlLCByKSA6IDEgLyogQmxvb21GaWx0ZXJBcHBsaWNhdGlvblN0YXR1cy5Ta2lwcGVkICovO1xuICAgICAgICAgICAgICAgICAgICBpZiAoMCAvKiBCbG9vbUZpbHRlckFwcGxpY2F0aW9uU3RhdHVzLlN1Y2Nlc3MgKi8gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGJsb29tIGZpbHRlciBhcHBsaWNhdGlvbiBmYWlscywgd2UgcmVzZXQgdGhlIG1hcHBpbmcgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHJlLXJ1biBvZiB0aGUgcXVlcnkuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmplKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IDIgLyogQmxvb21GaWx0ZXJBcHBsaWNhdGlvblN0YXR1cy5GYWxzZVBvc2l0aXZlICovID09PSBpID8gXCJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbVwiIC8qIFRhcmdldFB1cnBvc2UuRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbSAqLyA6IFwiVGFyZ2V0UHVycG9zZUV4aXN0ZW5jZUZpbHRlck1pc21hdGNoXCIgLyogVGFyZ2V0UHVycG9zZS5FeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUWUgPSB0aGlzLlFlLmluc2VydCh0LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBudWxsID09IGhlIHx8IGhlLmV0KGZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVFeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaEluZm9Gb3JUZXN0aW5nSG9va3MoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMsIG8sIF8sIGEsIHUsIGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsQ2FjaGVDb3VudDogZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGVuY2VGaWx0ZXJDb3VudDogdC5jb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZUlkOiBuLmRhdGFiYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogbi5wcm9qZWN0SWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGggPSB0LnVuY2hhbmdlZE5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaCAmJiAobC5ibG9vbUZpbHRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWVkOiAwIC8qIEJsb29tRmlsdGVyQXBwbGljYXRpb25TdGF0dXMuU3VjY2VzcyAqLyA9PT0gaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoQ291bnQ6IG51bGwgIT09IChzID0gbnVsbCA9PSBoID8gdm9pZCAwIDogaC5oYXNoQ291bnQpICYmIHZvaWQgMCAhPT0gcyA/IHMgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1hcExlbmd0aDogbnVsbCAhPT0gKGEgPSBudWxsID09PSAoXyA9IG51bGwgPT09IChvID0gbnVsbCA9PSBoID8gdm9pZCAwIDogaC5iaXRzKSB8fCB2b2lkIDAgPT09IG8gPyB2b2lkIDAgOiBvLmJpdG1hcCkgfHwgdm9pZCAwID09PSBfID8gdm9pZCAwIDogXy5sZW5ndGgpICYmIHZvaWQgMCAhPT0gYSA/IGEgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IG51bGwgIT09IChjID0gbnVsbCA9PT0gKHUgPSBudWxsID09IGggPyB2b2lkIDAgOiBoLmJpdHMpIHx8IHZvaWQgMCA9PT0gdSA/IHZvaWQgMCA6IHUucGFkZGluZykgJiYgdm9pZCAwICE9PSBjID8gYyA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRDb250YWluOiBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsICE9PSAodCA9IG51bGwgPT0gciA/IHZvaWQgMCA6IHIubWlnaHRDb250YWluKGUpKSAmJiB2b2lkIDAgIT09IHQgJiYgdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIChyLCBlLm1lLCB0aGlzLkxlLnR0KCksIG4sIGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgdGhlIGJsb29tIGZpbHRlciBmcm9tIHRoZSBcInVuY2hhbmdlZF9uYW1lc1wiIGZpZWxkIG9mIGFuIGV4aXN0ZW5jZVxuICAgICAqIGZpbHRlci5cbiAgICAgKi8gICAgWmUoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5tZS51bmNoYW5nZWROYW1lcztcbiAgICAgICAgaWYgKCF0IHx8ICF0LmJpdHMpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB7Yml0czoge2JpdG1hcDogbiA9IFwiXCIsIHBhZGRpbmc6IHIgPSAwfSwgaGFzaENvdW50OiBpID0gMH0gPSB0O1xuICAgICAgICBsZXQgcywgbztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHMgPSBfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyhuKS50b1VpbnQ4QXJyYXkoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQmFzZTY0RGVjb2RlRXJyb3IpIHJldHVybiBfX1BSSVZBVEVfbG9nV2FybihcIkRlY29kaW5nIHRoZSBiYXNlNjQgYmxvb20gZmlsdGVyIGluIGV4aXN0ZW5jZSBmaWx0ZXIgZmFpbGVkIChcIiArIGUubWVzc2FnZSArIFwiKTsgaWdub3JpbmcgdGhlIGJsb29tIGZpbHRlciBhbmQgZmFsbGluZyBiYWNrIHRvIGZ1bGwgcmUtcXVlcnkuXCIpLCBcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBCbG9vbUZpbHRlciB0aHJvd3MgZXJyb3IgaWYgdGhlIGlucHV0cyBhcmUgaW52YWxpZC5cbiAgICAgICAgICAgIG8gPSBuZXcgQmxvb21GaWx0ZXIocywgciwgaSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbG9nV2FybihlIGluc3RhbmNlb2YgX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IgPyBcIkJsb29tRmlsdGVyIGVycm9yOiBcIiA6IFwiQXBwbHlpbmcgYmxvb20gZmlsdGVyIGZhaWxlZDogXCIsIGUpLCBcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDAgPT09IG8uSWUgPyBudWxsIDogbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbHkgYmxvb20gZmlsdGVyIHRvIHJlbW92ZSB0aGUgZGVsZXRlZCBkb2N1bWVudHMsIGFuZCByZXR1cm4gdGhlXG4gICAgICogYXBwbGljYXRpb24gc3RhdHVzLlxuICAgICAqLyAgICBYZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0Lm1lLmNvdW50ID09PSBuIC0gdGhpcy5udChlLCB0LnRhcmdldElkKSA/IDAgLyogQmxvb21GaWx0ZXJBcHBsaWNhdGlvblN0YXR1cy5TdWNjZXNzICovIDogMiAvKiBCbG9vbUZpbHRlckFwcGxpY2F0aW9uU3RhdHVzLkZhbHNlUG9zaXRpdmUgKi87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbHRlciBvdXQgcmVtb3ZlZCBkb2N1bWVudHMgYmFzZWQgb24gYmxvb20gZmlsdGVyIG1lbWJlcnNoaXAgcmVzdWx0IGFuZFxuICAgICAqIHJldHVybiBudW1iZXIgb2YgZG9jdW1lbnRzIHJlbW92ZWQuXG4gICAgICovICAgIG50KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuTGUuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0KTtcbiAgICAgICAgbGV0IHIgPSAwO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKChuID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLkxlLnR0KCksIHMgPSBgcHJvamVjdHMvJHtpLnByb2plY3RJZH0vZGF0YWJhc2VzLyR7aS5kYXRhYmFzZX0vZG9jdW1lbnRzLyR7bi5wYXRoLmNhbm9uaWNhbFN0cmluZygpfWA7XG4gICAgICAgICAgICBlLm1pZ2h0Q29udGFpbihzKSB8fCAodGhpcy5VZSh0LCBuLCAvKnVwZGF0ZWREb2N1bWVudD0qLyBudWxsKSwgcisrKTtcbiAgICAgICAgfSkpLCByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY3VycmVudGx5IGFjY3VtdWxhdGVkIHN0YXRlIGludG8gYSByZW1vdGUgZXZlbnQgYXQgdGhlXG4gICAgICogcHJvdmlkZWQgc25hcHNob3QgdmVyc2lvbi4gUmVzZXRzIHRoZSBhY2N1bXVsYXRlZCBjaGFuZ2VzIGJlZm9yZSByZXR1cm5pbmcuXG4gICAgICovICAgIHJ0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMuQmUuZm9yRWFjaCgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLkplKHIpO1xuICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICBpZiAobi5jdXJyZW50ICYmIF9fUFJJVkFURV90YXJnZXRJc0RvY3VtZW50VGFyZ2V0KGkudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEb2N1bWVudCBxdWVyaWVzIGZvciBkb2N1bWVudCB0aGF0IGRvbid0IGV4aXN0IGNhbiBwcm9kdWNlIGFuIGVtcHR5XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc3VsdCBzZXQuIFRvIHVwZGF0ZSBvdXIgbG9jYWwgY2FjaGUsIHdlIHN5bnRoZXNpemUgYSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBkZWxldGUgaWYgd2UgaGF2ZSBub3QgcHJldmlvdXNseSByZWNlaXZlZCB0aGUgZG9jdW1lbnQuIFRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzb2x2ZXMgdGhlIGxpbWJvIHN0YXRlIG9mIHRoZSBkb2N1bWVudCwgcmVtb3ZpbmcgaXQgZnJvbVxuICAgICAgICAgICAgICAgICAgICAvLyBsaW1ib0RvY3VtZW50UmVmcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhkaW1vbmQpOiBJZGVhbGx5IHdlIHdvdWxkIGhhdmUgYW4gZXhwbGljaXQgbG9va3VwIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIHJlc3VsdGluZyBpbiBhbiBleHBsaWNpdCBkZWxldGUgbWVzc2FnZSBhbmQgd2UgY291bGRcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoaXMgc3BlY2lhbCBsb2dpYy5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBEb2N1bWVudEtleShpLnRhcmdldC5wYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gdGhpcy5rZS5nZXQodCkgfHwgdGhpcy5pdChyLCB0KSB8fCB0aGlzLlVlKHIsIHQsIE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KHQsIGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbi5iZSAmJiAodC5zZXQociwgbi5DZSgpKSwgbi52ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgbiA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICAvLyBXZSBleHRyYWN0IHRoZSBzZXQgb2YgbGltYm8tb25seSBkb2N1bWVudCB1cGRhdGVzIGFzIHRoZSBHQyBsb2dpY1xuICAgICAgICAvLyBzcGVjaWFsLWNhc2VzIGRvY3VtZW50cyB0aGF0IGRvIG5vdCBhcHBlYXIgaW4gdGhlIHRhcmdldCBjYWNoZS5cbiAgICAgICAgXG4gICAgICAgIC8vIFRPRE8oZ3NvbHRpcyk6IEV4cGFuZCBvbiB0aGlzIGNvbW1lbnQgb25jZSBHQyBpcyBhdmFpbGFibGUgaW4gdGhlIEpTXG4gICAgICAgIC8vIGNsaWVudC5cbiAgICAgICAgICAgICAgICB0aGlzLnFlLmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBsZXQgciA9ICEwO1xuICAgICAgICAgICAgdC5mb3JFYWNoV2hpbGUoKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLkplKGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhdCB8fCBcIlRhcmdldFB1cnBvc2VMaW1ib1Jlc29sdXRpb25cIiAvKiBUYXJnZXRQdXJwb3NlLkxpbWJvUmVzb2x1dGlvbiAqLyA9PT0gdC5wdXJwb3NlIHx8IChyID0gITEsIFxuICAgICAgICAgICAgICAgICExKTtcbiAgICAgICAgICAgIH0pKSwgciAmJiAobiA9IG4uYWRkKGUpKTtcbiAgICAgICAgfSkpLCB0aGlzLmtlLmZvckVhY2goKCh0LCBuKSA9PiBuLnNldFJlYWRUaW1lKGUpKSk7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgUmVtb3RlRXZlbnQoZSwgdCwgdGhpcy5RZSwgdGhpcy5rZSwgbik7XG4gICAgICAgIHJldHVybiB0aGlzLmtlID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpLCB0aGlzLnFlID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0TWFwKCksIFxuICAgICAgICB0aGlzLlFlID0gbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvciksIHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHByb3ZpZGVkIGRvY3VtZW50IHRvIHRoZSBpbnRlcm5hbCBsaXN0IG9mIGRvY3VtZW50IHVwZGF0ZXMgYW5kXG4gICAgICogaXRzIGRvY3VtZW50IGtleSB0byB0aGUgZ2l2ZW4gdGFyZ2V0J3MgbWFwcGluZy5cbiAgICAgKi9cbiAgICAvLyBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICAgICRlKGUsIHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnplKGUpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLml0KGUsIHQua2V5KSA/IDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA6IDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLztcbiAgICAgICAgdGhpcy5HZShlKS5GZSh0LmtleSwgbiksIHRoaXMua2UgPSB0aGlzLmtlLmluc2VydCh0LmtleSwgdCksIHRoaXMucWUgPSB0aGlzLnFlLmluc2VydCh0LmtleSwgdGhpcy5zdCh0LmtleSkuYWRkKGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvdmlkZWQgZG9jdW1lbnQgZnJvbSB0aGUgdGFyZ2V0IG1hcHBpbmcuIElmIHRoZVxuICAgICAqIGRvY3VtZW50IG5vIGxvbmdlciBtYXRjaGVzIHRoZSB0YXJnZXQsIGJ1dCB0aGUgZG9jdW1lbnQncyBzdGF0ZSBpcyBzdGlsbFxuICAgICAqIGtub3duIChlLmcuIHdlIGtub3cgdGhhdCB0aGUgZG9jdW1lbnQgd2FzIGRlbGV0ZWQgb3Igd2UgcmVjZWl2ZWQgdGhlIGNoYW5nZVxuICAgICAqIHRoYXQgY2F1c2VkIHRoZSBmaWx0ZXIgbWlzbWF0Y2gpLCB0aGUgbmV3IGRvY3VtZW50IGNhbiBiZSBwcm92aWRlZFxuICAgICAqIHRvIHVwZGF0ZSB0aGUgcmVtb3RlIGRvY3VtZW50IGNhY2hlLlxuICAgICAqL1xuICAgIC8vIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gICAgVWUoZSwgdCwgbikge1xuICAgICAgICBpZiAoIXRoaXMuemUoZSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuR2UoZSk7XG4gICAgICAgIHRoaXMuaXQoZSwgdCkgPyByLkZlKHQsIDEgLyogQ2hhbmdlVHlwZS5SZW1vdmVkICovKSA6IFxuICAgICAgICAvLyBUaGUgZG9jdW1lbnQgbWF5IGhhdmUgZW50ZXJlZCBhbmQgbGVmdCB0aGUgdGFyZ2V0IGJlZm9yZSB3ZSByYWlzZWQgYVxuICAgICAgICAvLyBzbmFwc2hvdCwgc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBjaGFuZ2UuXG4gICAgICAgIHIuTWUodCksIHRoaXMucWUgPSB0aGlzLnFlLmluc2VydCh0LCB0aGlzLnN0KHQpLmRlbGV0ZShlKSksIG4gJiYgKHRoaXMua2UgPSB0aGlzLmtlLmluc2VydCh0LCBuKSk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldChlKSB7XG4gICAgICAgIHRoaXMuQmUuZGVsZXRlKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNvdW50IG9mIGRvY3VtZW50cyBpbiB0aGUgdGFyZ2V0LiBUaGlzIGluY2x1ZGVzIGJvdGhcbiAgICAgKiB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyB0aGF0IHRoZSBMb2NhbFN0b3JlIGNvbnNpZGVycyB0byBiZSBwYXJ0IG9mIHRoZVxuICAgICAqIHRhcmdldCBhcyB3ZWxsIGFzIGFueSBhY2N1bXVsYXRlZCBjaGFuZ2VzLlxuICAgICAqLyAgICBZZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLkdlKGUpLkNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLkxlLmdldFJlbW90ZUtleXNGb3JUYXJnZXQoZSkuc2l6ZSArIHQuYWRkZWREb2N1bWVudHMuc2l6ZSAtIHQucmVtb3ZlZERvY3VtZW50cy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnQgdGhlIG51bWJlciBvZiBhY2tzIG5lZWRlZCBmcm9tIHdhdGNoIGJlZm9yZSB3ZSBjYW4gY29uc2lkZXIgdGhlXG4gICAgICogc2VydmVyIHRvIGJlICdpbi1zeW5jJyB3aXRoIHRoZSBjbGllbnQncyBhY3RpdmUgdGFyZ2V0cy5cbiAgICAgKi8gICAgeGUoZSkge1xuICAgICAgICB0aGlzLkdlKGUpLnhlKCk7XG4gICAgfVxuICAgIEdlKGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLkJlLmdldChlKTtcbiAgICAgICAgcmV0dXJuIHQgfHwgKHQgPSBuZXcgX19QUklWQVRFX1RhcmdldFN0YXRlLCB0aGlzLkJlLnNldChlLCB0KSksIHQ7XG4gICAgfVxuICAgIHN0KGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLnFlLmdldChlKTtcbiAgICAgICAgcmV0dXJuIHQgfHwgKHQgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKSwgdGhpcy5xZSA9IHRoaXMucWUuaW5zZXJ0KGUsIHQpKSwgXG4gICAgICAgIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZlcmlmaWVzIHRoYXQgdGhlIHVzZXIgaXMgc3RpbGwgaW50ZXJlc3RlZCBpbiB0aGlzIHRhcmdldCAoYnkgY2FsbGluZ1xuICAgICAqIGBnZXRUYXJnZXREYXRhRm9yVGFyZ2V0KClgKSBhbmQgdGhhdCB3ZSBhcmUgbm90IHdhaXRpbmcgZm9yIHBlbmRpbmcgQUREc1xuICAgICAqIGZyb20gd2F0Y2guXG4gICAgICovICAgIHplKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG51bGwgIT09IHRoaXMuSmUoZSk7XG4gICAgICAgIHJldHVybiB0IHx8IF9fUFJJVkFURV9sb2dEZWJ1ZyhcIldhdGNoQ2hhbmdlQWdncmVnYXRvclwiLCBcIkRldGVjdGVkIGluYWN0aXZlIHRhcmdldFwiLCBlKSwgXG4gICAgICAgIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFRhcmdldERhdGEgZm9yIGFuIGFjdGl2ZSB0YXJnZXQgKGkuZS4gYSB0YXJnZXQgdGhhdCB0aGUgdXNlclxuICAgICAqIGlzIHN0aWxsIGludGVyZXN0ZWQgaW4gdGhhdCBoYXMgbm8gb3V0c3RhbmRpbmcgdGFyZ2V0IGNoYW5nZSByZXF1ZXN0cykuXG4gICAgICovICAgIEplKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuQmUuZ2V0KGUpO1xuICAgICAgICByZXR1cm4gdCAmJiB0LlNlID8gbnVsbCA6IHRoaXMuTGUub3QoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgc3RhdGUgb2YgYSBXYXRjaCB0YXJnZXQgdG8gaXRzIGluaXRpYWwgc3RhdGUgKGUuZy4gc2V0c1xuICAgICAqICdjdXJyZW50JyB0byBmYWxzZSwgY2xlYXJzIHRoZSByZXN1bWUgdG9rZW4gYW5kIHJlbW92ZXMgaXRzIHRhcmdldCBtYXBwaW5nXG4gICAgICogZnJvbSBhbGwgZG9jdW1lbnRzKS5cbiAgICAgKi8gICAgamUoZSkge1xuICAgICAgICB0aGlzLkJlLnNldChlLCBuZXcgX19QUklWQVRFX1RhcmdldFN0YXRlKTtcbiAgICAgICAgdGhpcy5MZS5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5VZShlLCB0LCAvKnVwZGF0ZWREb2N1bWVudD0qLyBudWxsKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIExvY2FsU3RvcmUgY29uc2lkZXJzIHRoZSBkb2N1bWVudCB0byBiZSBwYXJ0IG9mIHRoZVxuICAgICAqIHNwZWNpZmllZCB0YXJnZXQuXG4gICAgICovICAgIGl0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTGUuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldChlKS5oYXModCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRNYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zbmFwc2hvdENoYW5nZXNNYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG59XG5cbmNvbnN0IEllID0gKCgpID0+IHtcbiAgICBjb25zdCBlID0ge1xuICAgICAgICBhc2M6IFwiQVNDRU5ESU5HXCIsXG4gICAgICAgIGRlc2M6IFwiREVTQ0VORElOR1wiXG4gICAgfTtcbiAgICByZXR1cm4gZTtcbn0pKCksIFRlID0gKCgpID0+IHtcbiAgICBjb25zdCBlID0ge1xuICAgICAgICBcIjxcIjogXCJMRVNTX1RIQU5cIixcbiAgICAgICAgXCI8PVwiOiBcIkxFU1NfVEhBTl9PUl9FUVVBTFwiLFxuICAgICAgICBcIj5cIjogXCJHUkVBVEVSX1RIQU5cIixcbiAgICAgICAgXCI+PVwiOiBcIkdSRUFURVJfVEhBTl9PUl9FUVVBTFwiLFxuICAgICAgICBcIj09XCI6IFwiRVFVQUxcIixcbiAgICAgICAgXCIhPVwiOiBcIk5PVF9FUVVBTFwiLFxuICAgICAgICBcImFycmF5LWNvbnRhaW5zXCI6IFwiQVJSQVlfQ09OVEFJTlNcIixcbiAgICAgICAgaW46IFwiSU5cIixcbiAgICAgICAgXCJub3QtaW5cIjogXCJOT1RfSU5cIixcbiAgICAgICAgXCJhcnJheS1jb250YWlucy1hbnlcIjogXCJBUlJBWV9DT05UQUlOU19BTllcIlxuICAgIH07XG4gICAgcmV0dXJuIGU7XG59KSgpLCBFZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgZSA9IHtcbiAgICAgICAgYW5kOiBcIkFORFwiLFxuICAgICAgICBvcjogXCJPUlwiXG4gICAgfTtcbiAgICByZXR1cm4gZTtcbn0pKCk7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBnZW5lcmF0ZXMgSnNvbk9iamVjdCB2YWx1ZXMgZm9yIHRoZSBEYXRhc3RvcmUgQVBJIHN1aXRhYmxlIGZvclxuICogc2VuZGluZyB0byBlaXRoZXIgR1JQQyBzdHViIG1ldGhvZHMgb3IgdmlhIHRoZSBKU09OL0hUVFAgUkVTVCBBUEkuXG4gKlxuICogVGhlIHNlcmlhbGl6ZXIgc3VwcG9ydHMgYm90aCBQcm90b2J1Zi5qcyBhbmQgUHJvdG8zIEpTT04gZm9ybWF0cy4gQnlcbiAqIHNldHRpbmcgYHVzZVByb3RvM0pzb25gIHRvIHRydWUsIHRoZSBzZXJpYWxpemVyIHdpbGwgdXNlIHRoZSBQcm90bzMgSlNPTlxuICogZm9ybWF0LlxuICpcbiAqIEZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBQcm90bzMgSlNPTiBmb3JtYXQgY2hlY2tcbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9wcm90bzMjanNvblxuICpcbiAqIFRPRE8oa2xpbXQpOiBXZSBjYW4gcmVtb3ZlIHRoZSBkYXRhYmFzZUlkIGFyZ3VtZW50IGlmIHdlIGtlZXAgdGhlIGZ1bGxcbiAqIHJlc291cmNlIG5hbWUgaW4gZG9jdW1lbnRzLlxuICovXG5jbGFzcyBKc29uUHJvdG9TZXJpYWxpemVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJZCA9IGUsIHRoaXMudXNlUHJvdG8zSnNvbiA9IHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSB2YWx1ZSBmb3IgYSBudW1iZXIgKG9yIG51bGwpIHRoYXQncyBhcHByb3ByaWF0ZSB0byBwdXQgaW50b1xuICogYSBnb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZSBwcm90by5cbiAqIERPIE5PVCBVU0UgVEhJUyBGT1IgQU5ZVEhJTkcgRUxTRS5cbiAqIFRoaXMgbWV0aG9kIGNoZWF0cy4gSXQncyB0eXBlZCBhcyByZXR1cm5pbmcgXCJudW1iZXJcIiBiZWNhdXNlIHRoYXQncyB3aGF0XG4gKiBvdXIgZ2VuZXJhdGVkIHByb3RvIGludGVyZmFjZXMgc2F5IEludDMyVmFsdWUgbXVzdCBiZS4gQnV0IEdSUEMgYWN0dWFsbHlcbiAqIGV4cGVjdHMgYSB7IHZhbHVlOiA8bnVtYmVyPiB9IHN0cnVjdC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3RvSW50MzJQcm90byhlLCB0KSB7XG4gICAgcmV0dXJuIGUudXNlUHJvdG8zSnNvbiB8fCBfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQodCkgPyB0IDoge1xuICAgICAgICB2YWx1ZTogdFxuICAgIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG51bWJlciAob3IgbnVsbCkgZnJvbSBhIGdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlIHByb3RvLlxuICovXG4vKipcbiAqIFJldHVybnMgYSB2YWx1ZSBmb3IgYSBEYXRlIHRoYXQncyBhcHByb3ByaWF0ZSB0byBwdXQgaW50byBhIHByb3RvLlxuICovXG5mdW5jdGlvbiB0b1RpbWVzdGFtcChlLCB0KSB7XG4gICAgaWYgKGUudXNlUHJvdG8zSnNvbikge1xuICAgICAgICByZXR1cm4gYCR7bmV3IERhdGUoMWUzICogdC5zZWNvbmRzKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1xcLlxcZCovLCBcIlwiKS5yZXBsYWNlKFwiWlwiLCBcIlwiKX0uJHsoXCIwMDAwMDAwMDBcIiArIHQubmFub3NlY29uZHMpLnNsaWNlKC05KX1aYDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vjb25kczogXCJcIiArIHQuc2Vjb25kcyxcbiAgICAgICAgbmFub3M6IHQubmFub3NlY29uZHNcbiAgICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB2YWx1ZSBmb3IgYnl0ZXMgdGhhdCdzIGFwcHJvcHJpYXRlIHRvIHB1dCBpbiBhIHByb3RvLlxuICpcbiAqIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0J5dGVzKGUsIHQpIHtcbiAgICByZXR1cm4gZS51c2VQcm90bzNKc29uID8gdC50b0Jhc2U2NCgpIDogdC50b1VpbnQ4QXJyYXkoKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgQnl0ZVN0cmluZyBiYXNlZCBvbiB0aGUgcHJvdG8gc3RyaW5nIHZhbHVlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV90b1ZlcnNpb24oZSwgdCkge1xuICAgIHJldHVybiB0b1RpbWVzdGFtcChlLCB0LnRvVGltZXN0YW1wKCkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVZlcnNpb24oZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfaGFyZEFzc2VydCghIWUpLCBTbmFwc2hvdFZlcnNpb24uZnJvbVRpbWVzdGFtcChmdW5jdGlvbiBmcm9tVGltZXN0YW1wKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAoZSk7XG4gICAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKHQuc2Vjb25kcywgdC5uYW5vcyk7XG4gICAgfShlKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b1Jlc291cmNlTmFtZShlLCB0KSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV90b1Jlc291cmNlUGF0aChlLCB0KS5jYW5vbmljYWxTdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvUmVzb3VyY2VQYXRoKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZnVuY3Rpb24gX19QUklWQVRFX2Z1bGx5UXVhbGlmaWVkUHJlZml4UGF0aChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQYXRoKFsgXCJwcm9qZWN0c1wiLCBlLnByb2plY3RJZCwgXCJkYXRhYmFzZXNcIiwgZS5kYXRhYmFzZSBdKTtcbiAgICB9KGUpLmNoaWxkKFwiZG9jdW1lbnRzXCIpO1xuICAgIHJldHVybiB2b2lkIDAgPT09IHQgPyBuIDogbi5jaGlsZCh0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21SZXNvdXJjZU5hbWUoZSkge1xuICAgIGNvbnN0IHQgPSBSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhlKTtcbiAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQoX19QUklWQVRFX2lzVmFsaWRSZXNvdXJjZU5hbWUodCkpLCB0O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9OYW1lKGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX3RvUmVzb3VyY2VOYW1lKGUuZGF0YWJhc2VJZCwgdC5wYXRoKTtcbn1cblxuZnVuY3Rpb24gZnJvbU5hbWUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZnJvbVJlc291cmNlTmFtZSh0KTtcbiAgICBpZiAobi5nZXQoMSkgIT09IGUuZGF0YWJhc2VJZC5wcm9qZWN0SWQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVHJpZWQgdG8gZGVzZXJpYWxpemUga2V5IGZyb20gZGlmZmVyZW50IHByb2plY3Q6IFwiICsgbi5nZXQoMSkgKyBcIiB2cyBcIiArIGUuZGF0YWJhc2VJZC5wcm9qZWN0SWQpO1xuICAgIGlmIChuLmdldCgzKSAhPT0gZS5kYXRhYmFzZUlkLmRhdGFiYXNlKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlRyaWVkIHRvIGRlc2VyaWFsaXplIGtleSBmcm9tIGRpZmZlcmVudCBkYXRhYmFzZTogXCIgKyBuLmdldCgzKSArIFwiIHZzIFwiICsgZS5kYXRhYmFzZUlkLmRhdGFiYXNlKTtcbiAgICByZXR1cm4gbmV3IERvY3VtZW50S2V5KF9fUFJJVkFURV9leHRyYWN0TG9jYWxQYXRoRnJvbVJlc291cmNlTmFtZShuKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b1F1ZXJ5UGF0aChlLCB0KSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV90b1Jlc291cmNlTmFtZShlLmRhdGFiYXNlSWQsIHQpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVF1ZXJ5UGF0aChlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9mcm9tUmVzb3VyY2VOYW1lKGUpO1xuICAgIC8vIEluIHYxYmV0YTEgcXVlcmllcyBmb3IgY29sbGVjdGlvbnMgYXQgdGhlIHJvb3QgZGlkIG5vdCBoYXZlIGEgdHJhaWxpbmdcbiAgICAvLyBcIi9kb2N1bWVudHNcIi4gSW4gdjEgYWxsIHJlc291cmNlIHBhdGhzIGNvbnRhaW4gXCIvZG9jdW1lbnRzXCIuIFByZXNlcnZlIHRoZVxuICAgIC8vIGFiaWxpdHkgdG8gcmVhZCB0aGUgdjFiZXRhMSBmb3JtIGZvciBjb21wYXRpYmlsaXR5IHdpdGggcXVlcmllcyBwZXJzaXN0ZWRcbiAgICAvLyBpbiB0aGUgbG9jYWwgdGFyZ2V0IGNhY2hlLlxuICAgICAgICByZXR1cm4gNCA9PT0gdC5sZW5ndGggPyBSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCkgOiBfX1BSSVZBVEVfZXh0cmFjdExvY2FsUGF0aEZyb21SZXNvdXJjZU5hbWUodCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRFbmNvZGVkRGF0YWJhc2VJZChlKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBhdGgoWyBcInByb2plY3RzXCIsIGUuZGF0YWJhc2VJZC5wcm9qZWN0SWQsIFwiZGF0YWJhc2VzXCIsIGUuZGF0YWJhc2VJZC5kYXRhYmFzZSBdKS5jYW5vbmljYWxTdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2V4dHJhY3RMb2NhbFBhdGhGcm9tUmVzb3VyY2VOYW1lKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQoZS5sZW5ndGggPiA0ICYmIFwiZG9jdW1lbnRzXCIgPT09IGUuZ2V0KDQpKSwgZS5wb3BGaXJzdCg1KTtcbn1cblxuLyoqIENyZWF0ZXMgYSBEb2N1bWVudCBwcm90byBmcm9tIGtleSBhbmQgZmllbGRzIChidXQgbm8gY3JlYXRlL3VwZGF0ZSB0aW1lKSAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdG9NdXRhdGlvbkRvY3VtZW50KGUsIHQsIG4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBfX1BSSVZBVEVfdG9OYW1lKGUsIHQpLFxuICAgICAgICBmaWVsZHM6IG4udmFsdWUubWFwVmFsdWUuZmllbGRzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Eb2N1bWVudChlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IGZyb21OYW1lKGUsIHQubmFtZSksIGkgPSBfX1BSSVZBVEVfZnJvbVZlcnNpb24odC51cGRhdGVUaW1lKSwgcyA9IHQuY3JlYXRlVGltZSA/IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LmNyZWF0ZVRpbWUpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBvID0gbmV3IE9iamVjdFZhbHVlKHtcbiAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgIGZpZWxkczogdC5maWVsZHNcbiAgICAgICAgfVxuICAgIH0pLCBfID0gTXV0YWJsZURvY3VtZW50Lm5ld0ZvdW5kRG9jdW1lbnQociwgaSwgcywgbyk7XG4gICAgcmV0dXJuIG4gJiYgXy5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSwgbiA/IF8uc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCkgOiBfO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUJhdGNoR2V0RG9jdW1lbnRzUmVzcG9uc2UoZSwgdCkge1xuICAgIHJldHVybiBcImZvdW5kXCIgaW4gdCA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRm91bmQoZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCghIXQuZm91bmQpLCB0LmZvdW5kLm5hbWUsIHQuZm91bmQudXBkYXRlVGltZTtcbiAgICAgICAgY29uc3QgbiA9IGZyb21OYW1lKGUsIHQuZm91bmQubmFtZSksIHIgPSBfX1BSSVZBVEVfZnJvbVZlcnNpb24odC5mb3VuZC51cGRhdGVUaW1lKSwgaSA9IHQuZm91bmQuY3JlYXRlVGltZSA/IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LmZvdW5kLmNyZWF0ZVRpbWUpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBzID0gbmV3IE9iamVjdFZhbHVlKHtcbiAgICAgICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiB0LmZvdW5kLmZpZWxkc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIE11dGFibGVEb2N1bWVudC5uZXdGb3VuZERvY3VtZW50KG4sIHIsIGksIHMpO1xuICAgIH0oZSwgdCkgOiBcIm1pc3NpbmdcIiBpbiB0ID8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21NaXNzaW5nKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoISF0Lm1pc3NpbmcpLCBfX1BSSVZBVEVfaGFyZEFzc2VydCghIXQucmVhZFRpbWUpO1xuICAgICAgICBjb25zdCBuID0gZnJvbU5hbWUoZSwgdC5taXNzaW5nKSwgciA9IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LnJlYWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KG4sIHIpO1xuICAgIH0oZSwgdCkgOiBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tV2F0Y2hDaGFuZ2UoZSwgdCkge1xuICAgIGxldCBuO1xuICAgIGlmIChcInRhcmdldENoYW5nZVwiIGluIHQpIHtcbiAgICAgICAgdC50YXJnZXRDaGFuZ2U7XG4gICAgICAgIC8vIHByb3RvMyBkZWZhdWx0IHZhbHVlIGlzIHVuc2V0IGluIEpTT04gKHVuZGVmaW5lZCksIHNvIHVzZSAnTk9fQ0hBTkdFJ1xuICAgICAgICAvLyBpZiB1bnNldFxuICAgICAgICBjb25zdCByID0gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21XYXRjaFRhcmdldENoYW5nZVN0YXRlKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIk5PX0NIQU5HRVwiID09PSBlID8gMCAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLk5vQ2hhbmdlICovIDogXCJBRERcIiA9PT0gZSA/IDEgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5BZGRlZCAqLyA6IFwiUkVNT1ZFXCIgPT09IGUgPyAyIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuUmVtb3ZlZCAqLyA6IFwiQ1VSUkVOVFwiID09PSBlID8gMyAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLkN1cnJlbnQgKi8gOiBcIlJFU0VUXCIgPT09IGUgPyA0IC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuUmVzZXQgKi8gOiBmYWlsKCk7XG4gICAgICAgIH0odC50YXJnZXRDaGFuZ2UudGFyZ2V0Q2hhbmdlVHlwZSB8fCBcIk5PX0NIQU5HRVwiKSwgaSA9IHQudGFyZ2V0Q2hhbmdlLnRhcmdldElkcyB8fCBbXSwgcyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQnl0ZXMoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIGUudXNlUHJvdG8zSnNvbiA/IChfX1BSSVZBVEVfaGFyZEFzc2VydCh2b2lkIDAgPT09IHQgfHwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCksIFxuICAgICAgICAgICAgQnl0ZVN0cmluZy5mcm9tQmFzZTY0U3RyaW5nKHQgfHwgXCJcIikpIDogKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHZvaWQgMCA9PT0gdCB8fCBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBib3RoIEJ1ZmZlciBhbmQgVWludDhBcnJheSxcbiAgICAgICAgICAgIC8vIGRlc3BpdGUgdGhlIGZhY3QgdGhhdCBCdWZmZXIgZXh0ZW5kcyBVaW50OEFycmF5LiBJbiBzb21lXG4gICAgICAgICAgICAvLyBlbnZpcm9ubWVudHMsIHN1Y2ggYXMganNkb20sIHRoZSBwcm90b3R5cGUgY2hhaW4gb2YgQnVmZmVyXG4gICAgICAgICAgICAvLyBkb2VzIG5vdCBpbmRpY2F0ZSB0aGF0IGl0IGV4dGVuZHMgVWludDhBcnJheS5cbiAgICAgICAgICAgIHQgaW5zdGFuY2VvZiBCdWZmZXIgfHwgdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpLCBCeXRlU3RyaW5nLmZyb21VaW50OEFycmF5KHQgfHwgbmV3IFVpbnQ4QXJyYXkpKTtcbiAgICAgICAgfShlLCB0LnRhcmdldENoYW5nZS5yZXN1bWVUb2tlbiksIG8gPSB0LnRhcmdldENoYW5nZS5jYXVzZSwgXyA9IG8gJiYgZnVuY3Rpb24gX19QUklWQVRFX2Zyb21ScGNTdGF0dXMoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHZvaWQgMCA9PT0gZS5jb2RlID8gQy5VTktOT1dOIDogX19QUklWQVRFX21hcENvZGVGcm9tUnBjQ29kZShlLmNvZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGaXJlc3RvcmVFcnJvcih0LCBlLm1lc3NhZ2UgfHwgXCJcIik7XG4gICAgICAgIH0obyk7XG4gICAgICAgIG4gPSBuZXcgX19QUklWQVRFX1dhdGNoVGFyZ2V0Q2hhbmdlKHIsIGksIHMsIF8gfHwgbnVsbCk7XG4gICAgfSBlbHNlIGlmIChcImRvY3VtZW50Q2hhbmdlXCIgaW4gdCkge1xuICAgICAgICB0LmRvY3VtZW50Q2hhbmdlO1xuICAgICAgICBjb25zdCByID0gdC5kb2N1bWVudENoYW5nZTtcbiAgICAgICAgci5kb2N1bWVudCwgci5kb2N1bWVudC5uYW1lLCByLmRvY3VtZW50LnVwZGF0ZVRpbWU7XG4gICAgICAgIGNvbnN0IGkgPSBmcm9tTmFtZShlLCByLmRvY3VtZW50Lm5hbWUpLCBzID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKHIuZG9jdW1lbnQudXBkYXRlVGltZSksIG8gPSByLmRvY3VtZW50LmNyZWF0ZVRpbWUgPyBfX1BSSVZBVEVfZnJvbVZlcnNpb24oci5kb2N1bWVudC5jcmVhdGVUaW1lKSA6IFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXyA9IG5ldyBPYmplY3RWYWx1ZSh7XG4gICAgICAgICAgICBtYXBWYWx1ZToge1xuICAgICAgICAgICAgICAgIGZpZWxkczogci5kb2N1bWVudC5maWVsZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIGEgPSBNdXRhYmxlRG9jdW1lbnQubmV3Rm91bmREb2N1bWVudChpLCBzLCBvLCBfKSwgdSA9IHIudGFyZ2V0SWRzIHx8IFtdLCBjID0gci5yZW1vdmVkVGFyZ2V0SWRzIHx8IFtdO1xuICAgICAgICBuID0gbmV3IF9fUFJJVkFURV9Eb2N1bWVudFdhdGNoQ2hhbmdlKHUsIGMsIGEua2V5LCBhKTtcbiAgICB9IGVsc2UgaWYgKFwiZG9jdW1lbnREZWxldGVcIiBpbiB0KSB7XG4gICAgICAgIHQuZG9jdW1lbnREZWxldGU7XG4gICAgICAgIGNvbnN0IHIgPSB0LmRvY3VtZW50RGVsZXRlO1xuICAgICAgICByLmRvY3VtZW50O1xuICAgICAgICBjb25zdCBpID0gZnJvbU5hbWUoZSwgci5kb2N1bWVudCksIHMgPSByLnJlYWRUaW1lID8gX19QUklWQVRFX2Zyb21WZXJzaW9uKHIucmVhZFRpbWUpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBvID0gTXV0YWJsZURvY3VtZW50Lm5ld05vRG9jdW1lbnQoaSwgcyksIF8gPSByLnJlbW92ZWRUYXJnZXRJZHMgfHwgW107XG4gICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0RvY3VtZW50V2F0Y2hDaGFuZ2UoW10sIF8sIG8ua2V5LCBvKTtcbiAgICB9IGVsc2UgaWYgKFwiZG9jdW1lbnRSZW1vdmVcIiBpbiB0KSB7XG4gICAgICAgIHQuZG9jdW1lbnRSZW1vdmU7XG4gICAgICAgIGNvbnN0IHIgPSB0LmRvY3VtZW50UmVtb3ZlO1xuICAgICAgICByLmRvY3VtZW50O1xuICAgICAgICBjb25zdCBpID0gZnJvbU5hbWUoZSwgci5kb2N1bWVudCksIHMgPSByLnJlbW92ZWRUYXJnZXRJZHMgfHwgW107XG4gICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0RvY3VtZW50V2F0Y2hDaGFuZ2UoW10sIHMsIGksIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghKFwiZmlsdGVyXCIgaW4gdCkpIHJldHVybiBmYWlsKCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIHQuZmlsdGVyO1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuZmlsdGVyO1xuICAgICAgICAgICAgZS50YXJnZXRJZDtcbiAgICAgICAgICAgIGNvbnN0IHtjb3VudDogciA9IDAsIHVuY2hhbmdlZE5hbWVzOiBpfSA9IGUsIHMgPSBuZXcgRXhpc3RlbmNlRmlsdGVyKHIsIGkpLCBvID0gZS50YXJnZXRJZDtcbiAgICAgICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0V4aXN0ZW5jZUZpbHRlckNoYW5nZShvLCBzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cblxuZnVuY3Rpb24gdG9NdXRhdGlvbihlLCB0KSB7XG4gICAgbGV0IG47XG4gICAgaWYgKHQgaW5zdGFuY2VvZiBfX1BSSVZBVEVfU2V0TXV0YXRpb24pIG4gPSB7XG4gICAgICAgIHVwZGF0ZTogX19QUklWQVRFX3RvTXV0YXRpb25Eb2N1bWVudChlLCB0LmtleSwgdC52YWx1ZSlcbiAgICB9OyBlbHNlIGlmICh0IGluc3RhbmNlb2YgX19QUklWQVRFX0RlbGV0ZU11dGF0aW9uKSBuID0ge1xuICAgICAgICBkZWxldGU6IF9fUFJJVkFURV90b05hbWUoZSwgdC5rZXkpXG4gICAgfTsgZWxzZSBpZiAodCBpbnN0YW5jZW9mIF9fUFJJVkFURV9QYXRjaE11dGF0aW9uKSBuID0ge1xuICAgICAgICB1cGRhdGU6IF9fUFJJVkFURV90b011dGF0aW9uRG9jdW1lbnQoZSwgdC5rZXksIHQuZGF0YSksXG4gICAgICAgIHVwZGF0ZU1hc2s6IF9fUFJJVkFURV90b0RvY3VtZW50TWFzayh0LmZpZWxkTWFzaylcbiAgICB9OyBlbHNlIHtcbiAgICAgICAgaWYgKCEodCBpbnN0YW5jZW9mIF9fUFJJVkFURV9WZXJpZnlNdXRhdGlvbikpIHJldHVybiBmYWlsKCk7XG4gICAgICAgIG4gPSB7XG4gICAgICAgICAgICB2ZXJpZnk6IF9fUFJJVkFURV90b05hbWUoZSwgdC5rZXkpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0LmZpZWxkVHJhbnNmb3Jtcy5sZW5ndGggPiAwICYmIChuLnVwZGF0ZVRyYW5zZm9ybXMgPSB0LmZpZWxkVHJhbnNmb3Jtcy5tYXAoKGUgPT4gZnVuY3Rpb24gX19QUklWQVRFX3RvRmllbGRUcmFuc2Zvcm0oZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC50cmFuc2Zvcm07XG4gICAgICAgIGlmIChuIGluc3RhbmNlb2YgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybSkgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkUGF0aDogdC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxcbiAgICAgICAgICAgIHNldFRvU2VydmVyVmFsdWU6IFwiUkVRVUVTVF9USU1FXCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbikgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkUGF0aDogdC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxcbiAgICAgICAgICAgIGFwcGVuZE1pc3NpbmdFbGVtZW50czoge1xuICAgICAgICAgICAgICAgIHZhbHVlczogbi5lbGVtZW50c1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbikgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkUGF0aDogdC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxcbiAgICAgICAgICAgIHJlbW92ZUFsbEZyb21BcnJheToge1xuICAgICAgICAgICAgICAgIHZhbHVlczogbi5lbGVtZW50c1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uKSByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRQYXRoOiB0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLFxuICAgICAgICAgICAgaW5jcmVtZW50OiBuLlBlXG4gICAgICAgIH07XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9KDAsIGUpKSkpLCB0LnByZWNvbmRpdGlvbi5pc05vbmUgfHwgKG4uY3VycmVudERvY3VtZW50ID0gZnVuY3Rpb24gX19QUklWQVRFX3RvUHJlY29uZGl0aW9uKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdC51cGRhdGVUaW1lID8ge1xuICAgICAgICAgICAgdXBkYXRlVGltZTogX19QUklWQVRFX3RvVmVyc2lvbihlLCB0LnVwZGF0ZVRpbWUpXG4gICAgICAgIH0gOiB2b2lkIDAgIT09IHQuZXhpc3RzID8ge1xuICAgICAgICAgICAgZXhpc3RzOiB0LmV4aXN0c1xuICAgICAgICB9IDogZmFpbCgpO1xuICAgIH0oZSwgdC5wcmVjb25kaXRpb24pKSwgbjtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21NdXRhdGlvbihlLCB0KSB7XG4gICAgY29uc3QgbiA9IHQuY3VycmVudERvY3VtZW50ID8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21QcmVjb25kaXRpb24oZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBlLnVwZGF0ZVRpbWUgPyBQcmVjb25kaXRpb24udXBkYXRlVGltZShfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS51cGRhdGVUaW1lKSkgOiB2b2lkIDAgIT09IGUuZXhpc3RzID8gUHJlY29uZGl0aW9uLmV4aXN0cyhlLmV4aXN0cykgOiBQcmVjb25kaXRpb24ubm9uZSgpO1xuICAgIH0odC5jdXJyZW50RG9jdW1lbnQpIDogUHJlY29uZGl0aW9uLm5vbmUoKSwgciA9IHQudXBkYXRlVHJhbnNmb3JtcyA/IHQudXBkYXRlVHJhbnNmb3Jtcy5tYXAoKHQgPT4gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21GaWVsZFRyYW5zZm9ybShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gbnVsbDtcbiAgICAgICAgaWYgKFwic2V0VG9TZXJ2ZXJWYWx1ZVwiIGluIHQpIF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwiUkVRVUVTVF9USU1FXCIgPT09IHQuc2V0VG9TZXJ2ZXJWYWx1ZSksIFxuICAgICAgICBuID0gbmV3IF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm07IGVsc2UgaWYgKFwiYXBwZW5kTWlzc2luZ0VsZW1lbnRzXCIgaW4gdCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuYXBwZW5kTWlzc2luZ0VsZW1lbnRzLnZhbHVlcyB8fCBbXTtcbiAgICAgICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0FycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24oZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJyZW1vdmVBbGxGcm9tQXJyYXlcIiBpbiB0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5yZW1vdmVBbGxGcm9tQXJyYXkudmFsdWVzIHx8IFtdO1xuICAgICAgICAgICAgbiA9IG5ldyBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24oZSk7XG4gICAgICAgIH0gZWxzZSBcImluY3JlbWVudFwiIGluIHQgPyBuID0gbmV3IF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQuaW5jcmVtZW50KSA6IGZhaWwoKTtcbiAgICAgICAgY29uc3QgciA9IEZpZWxkUGF0aCQxLmZyb21TZXJ2ZXJGb3JtYXQodC5maWVsZFBhdGgpO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkVHJhbnNmb3JtKHIsIG4pO1xuICAgIH0oZSwgdCkpKSA6IFtdO1xuICAgIGlmICh0LnVwZGF0ZSkge1xuICAgICAgICB0LnVwZGF0ZS5uYW1lO1xuICAgICAgICBjb25zdCBpID0gZnJvbU5hbWUoZSwgdC51cGRhdGUubmFtZSksIHMgPSBuZXcgT2JqZWN0VmFsdWUoe1xuICAgICAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHQudXBkYXRlLmZpZWxkc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHQudXBkYXRlTWFzaykge1xuICAgICAgICAgICAgY29uc3QgZSA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRG9jdW1lbnRNYXNrKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZS5maWVsZFBhdGhzIHx8IFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmllbGRNYXNrKHQubWFwKChlID0+IEZpZWxkUGF0aCQxLmZyb21TZXJ2ZXJGb3JtYXQoZSkpKSk7XG4gICAgICAgICAgICB9KHQudXBkYXRlTWFzayk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9QYXRjaE11dGF0aW9uKGksIHMsIGUsIG4sIHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1NldE11dGF0aW9uKGksIHMsIG4sIHIpO1xuICAgIH1cbiAgICBpZiAodC5kZWxldGUpIHtcbiAgICAgICAgY29uc3QgciA9IGZyb21OYW1lKGUsIHQuZGVsZXRlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24ociwgbik7XG4gICAgfVxuICAgIGlmICh0LnZlcmlmeSkge1xuICAgICAgICBjb25zdCByID0gZnJvbU5hbWUoZSwgdC52ZXJpZnkpO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9WZXJpZnlNdXRhdGlvbihyLCBuKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Xcml0ZVJlc3VsdHMoZSwgdCkge1xuICAgIHJldHVybiBlICYmIGUubGVuZ3RoID4gMCA/IChfX1BSSVZBVEVfaGFyZEFzc2VydCh2b2lkIDAgIT09IHQpLCBlLm1hcCgoZSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVdyaXRlUmVzdWx0KGUsIHQpIHtcbiAgICAgICAgLy8gTk9URTogRGVsZXRlcyBkb24ndCBoYXZlIGFuIHVwZGF0ZVRpbWUuXG4gICAgICAgIGxldCBuID0gZS51cGRhdGVUaW1lID8gX19QUklWQVRFX2Zyb21WZXJzaW9uKGUudXBkYXRlVGltZSkgOiBfX1BSSVZBVEVfZnJvbVZlcnNpb24odCk7XG4gICAgICAgIHJldHVybiBuLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSAmJiAoXG4gICAgICAgIC8vIFRoZSBGaXJlc3RvcmUgRW11bGF0b3IgY3VycmVudGx5IHJldHVybnMgYW4gdXBkYXRlIHRpbWUgb2YgMCBmb3JcbiAgICAgICAgLy8gZGVsZXRlcyBvZiBub24tZXhpc3RpbmcgZG9jdW1lbnRzIChyYXRoZXIgdGhhbiBudWxsKS4gVGhpcyBicmVha3MgdGhlXG4gICAgICAgIC8vIHRlc3QgXCJnZXQgZGVsZXRlZCBkb2Mgd2hpbGUgb2ZmbGluZSB3aXRoIHNvdXJjZT1jYWNoZVwiIGFzIE5vRG9jdW1lbnRzXG4gICAgICAgIC8vIHdpdGggdmVyc2lvbiAwIGFyZSBmaWx0ZXJlZCBieSBJbmRleGVkRGIncyBSZW1vdGVEb2N1bWVudENhY2hlLlxuICAgICAgICAvLyBUT0RPKCMyMTQ5KTogUmVtb3ZlIHRoaXMgd2hlbiBFbXVsYXRvciBpcyBmaXhlZFxuICAgICAgICBuID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKHQpKSwgbmV3IE11dGF0aW9uUmVzdWx0KG4sIGUudHJhbnNmb3JtUmVzdWx0cyB8fCBbXSk7XG4gICAgfShlLCB0KSkpKSA6IFtdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9Eb2N1bWVudHNUYXJnZXQoZSwgdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRvY3VtZW50czogWyBfX1BSSVZBVEVfdG9RdWVyeVBhdGgoZSwgdC5wYXRoKSBdXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvUXVlcnlUYXJnZXQoZSwgdCkge1xuICAgIC8vIERpc3NlY3QgdGhlIHBhdGggaW50byBwYXJlbnQsIGNvbGxlY3Rpb25JZCwgYW5kIG9wdGlvbmFsIGtleSBmaWx0ZXIuXG4gICAgY29uc3QgbiA9IHtcbiAgICAgICAgc3RydWN0dXJlZFF1ZXJ5OiB7fVxuICAgIH0sIHIgPSB0LnBhdGg7XG4gICAgbGV0IGk7XG4gICAgbnVsbCAhPT0gdC5jb2xsZWN0aW9uR3JvdXAgPyAoaSA9IHIsIG4uc3RydWN0dXJlZFF1ZXJ5LmZyb20gPSBbIHtcbiAgICAgICAgY29sbGVjdGlvbklkOiB0LmNvbGxlY3Rpb25Hcm91cCxcbiAgICAgICAgYWxsRGVzY2VuZGFudHM6ICEwXG4gICAgfSBdKSA6IChpID0gci5wb3BMYXN0KCksIG4uc3RydWN0dXJlZFF1ZXJ5LmZyb20gPSBbIHtcbiAgICAgICAgY29sbGVjdGlvbklkOiByLmxhc3RTZWdtZW50KClcbiAgICB9IF0pLCBuLnBhcmVudCA9IF9fUFJJVkFURV90b1F1ZXJ5UGF0aChlLCBpKTtcbiAgICBjb25zdCBzID0gZnVuY3Rpb24gX19QUklWQVRFX3RvRmlsdGVycyhlKSB7XG4gICAgICAgIGlmICgwID09PSBlLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RvRmlsdGVyKENvbXBvc2l0ZUZpbHRlci5jcmVhdGUoZSwgXCJhbmRcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5BTkQgKi8pKTtcbiAgICB9KHQuZmlsdGVycyk7XG4gICAgcyAmJiAobi5zdHJ1Y3R1cmVkUXVlcnkud2hlcmUgPSBzKTtcbiAgICBjb25zdCBvID0gZnVuY3Rpb24gX19QUklWQVRFX3RvT3JkZXIoZSkge1xuICAgICAgICBpZiAoMCA9PT0gZS5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGUubWFwKChlID0+IFxuICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV90b1Byb3BlcnR5T3JkZXIoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogX19QUklWQVRFX3RvRGlyZWN0aW9uKGUuZGlyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfShlKSkpO1xuICAgIH0odC5vcmRlckJ5KTtcbiAgICBvICYmIChuLnN0cnVjdHVyZWRRdWVyeS5vcmRlckJ5ID0gbyk7XG4gICAgY29uc3QgXyA9IF9fUFJJVkFURV90b0ludDMyUHJvdG8oZSwgdC5saW1pdCk7XG4gICAgcmV0dXJuIG51bGwgIT09IF8gJiYgKG4uc3RydWN0dXJlZFF1ZXJ5LmxpbWl0ID0gXyksIHQuc3RhcnRBdCAmJiAobi5zdHJ1Y3R1cmVkUXVlcnkuc3RhcnRBdCA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b1N0YXJ0QXRDdXJzb3IoZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmVmb3JlOiBlLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIHZhbHVlczogZS5wb3NpdGlvblxuICAgICAgICB9O1xuICAgIH0odC5zdGFydEF0KSksIHQuZW5kQXQgJiYgKG4uc3RydWN0dXJlZFF1ZXJ5LmVuZEF0ID0gZnVuY3Rpb24gX19QUklWQVRFX3RvRW5kQXRDdXJzb3IoZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmVmb3JlOiAhZS5pbmNsdXNpdmUsXG4gICAgICAgICAgICB2YWx1ZXM6IGUucG9zaXRpb25cbiAgICAgICAgfTtcbiAgICB9KHQuZW5kQXQpKSwge1xuICAgICAgICBfdDogbixcbiAgICAgICAgcGFyZW50OiBpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IHtfdDogaSwgcGFyZW50OiBzfSA9IF9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0KGUsIHQpLCBvID0ge30sIF8gPSBbXTtcbiAgICBsZXQgYSA9IDA7XG4gICAgcmV0dXJuIG4uZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgIC8vIE1hcCBhbGwgY2xpZW50LXNpZGUgYWxpYXNlcyB0byBhIHVuaXF1ZSBzaG9ydC1mb3JtXG4gICAgICAgIC8vIGFsaWFzLiBUaGlzIGF2b2lkcyBpc3N1ZXMgd2l0aCBjbGllbnQtc2lkZSBhbGlhc2VzIHRoYXRcbiAgICAgICAgLy8gZXhjZWVkIHRoZSAxNTAwLWJ5dGUgc3RyaW5nIHNpemUgbGltaXQuXG4gICAgICAgIGNvbnN0IHQgPSByID8gZS5hbGlhcyA6IFwiYWdncmVnYXRlX1wiICsgYSsrO1xuICAgICAgICBvW3RdID0gZS5hbGlhcywgXCJjb3VudFwiID09PSBlLmFnZ3JlZ2F0ZVR5cGUgPyBfLnB1c2goe1xuICAgICAgICAgICAgYWxpYXM6IHQsXG4gICAgICAgICAgICBjb3VudDoge31cbiAgICAgICAgfSkgOiBcImF2Z1wiID09PSBlLmFnZ3JlZ2F0ZVR5cGUgPyBfLnB1c2goe1xuICAgICAgICAgICAgYWxpYXM6IHQsXG4gICAgICAgICAgICBhdmc6IHtcbiAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGRQYXRoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSA6IFwic3VtXCIgPT09IGUuYWdncmVnYXRlVHlwZSAmJiBfLnB1c2goe1xuICAgICAgICAgICAgYWxpYXM6IHQsXG4gICAgICAgICAgICBzdW06IHtcbiAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGRQYXRoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KSksIHtcbiAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgc3RydWN0dXJlZEFnZ3JlZ2F0aW9uUXVlcnk6IHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGlvbnM6IF8sXG4gICAgICAgICAgICAgICAgc3RydWN0dXJlZFF1ZXJ5OiBpLnN0cnVjdHVyZWRRdWVyeVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogaS5wYXJlbnRcbiAgICAgICAgfSxcbiAgICAgICAgdXQ6IG8sXG4gICAgICAgIHBhcmVudDogc1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb252ZXJ0UXVlcnlUYXJnZXRUb1F1ZXJ5KGUpIHtcbiAgICBsZXQgdCA9IF9fUFJJVkFURV9mcm9tUXVlcnlQYXRoKGUucGFyZW50KTtcbiAgICBjb25zdCBuID0gZS5zdHJ1Y3R1cmVkUXVlcnksIHIgPSBuLmZyb20gPyBuLmZyb20ubGVuZ3RoIDogMDtcbiAgICBsZXQgaSA9IG51bGw7XG4gICAgaWYgKHIgPiAwKSB7XG4gICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDEgPT09IHIpO1xuICAgICAgICBjb25zdCBlID0gbi5mcm9tWzBdO1xuICAgICAgICBlLmFsbERlc2NlbmRhbnRzID8gaSA9IGUuY29sbGVjdGlvbklkIDogdCA9IHQuY2hpbGQoZS5jb2xsZWN0aW9uSWQpO1xuICAgIH1cbiAgICBsZXQgcyA9IFtdO1xuICAgIG4ud2hlcmUgJiYgKHMgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUZpbHRlcnMoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2Zyb21GaWx0ZXIoZSk7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXRDb25qdW5jdGlvbih0KSkgcmV0dXJuIHQuZ2V0RmlsdGVycygpO1xuICAgICAgICByZXR1cm4gWyB0IF07XG4gICAgfShuLndoZXJlKSk7XG4gICAgbGV0IG8gPSBbXTtcbiAgICBuLm9yZGVyQnkgJiYgKG8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbU9yZGVyKGUpIHtcbiAgICAgICAgcmV0dXJuIGUubWFwKChlID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tUHJvcGVydHlPcmRlcihlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9yZGVyQnkoX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksIFxuICAgICAgICAgICAgLy8gdmlzaWJsZSBmb3IgdGVzdGluZ1xuICAgICAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EaXJlY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIkFTQ0VORElOR1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhc2NcIiAvKiBEaXJlY3Rpb24uQVNDRU5ESU5HICovO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiREVTQ0VORElOR1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJkZXNjXCIgLyogRGlyZWN0aW9uLkRFU0NFTkRJTkcgKi87XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgICAgICAoZS5kaXJlY3Rpb24pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgIChlKSkpO1xuICAgIH0obi5vcmRlckJ5KSk7XG4gICAgbGV0IF8gPSBudWxsO1xuICAgIG4ubGltaXQgJiYgKF8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUludDMyUHJvdG8oZSkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgcmV0dXJuIHQgPSBcIm9iamVjdFwiID09IHR5cGVvZiBlID8gZS52YWx1ZSA6IGUsIF9fUFJJVkFURV9pc051bGxPclVuZGVmaW5lZCh0KSA/IG51bGwgOiB0O1xuICAgIH0obi5saW1pdCkpO1xuICAgIGxldCBhID0gbnVsbDtcbiAgICBuLnN0YXJ0QXQgJiYgKGEgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVN0YXJ0QXRDdXJzb3IoZSkge1xuICAgICAgICBjb25zdCB0ID0gISFlLmJlZm9yZSwgbiA9IGUudmFsdWVzIHx8IFtdO1xuICAgICAgICByZXR1cm4gbmV3IEJvdW5kKG4sIHQpO1xuICAgIH0obi5zdGFydEF0KSk7XG4gICAgbGV0IHUgPSBudWxsO1xuICAgIHJldHVybiBuLmVuZEF0ICYmICh1ID0gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21FbmRBdEN1cnNvcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSAhZS5iZWZvcmUsIG4gPSBlLnZhbHVlcyB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZChuLCB0KTtcbiAgICB9XG4gICAgLy8gdmlzaWJsZSBmb3IgdGVzdGluZ1xuICAgIChuLmVuZEF0KSksIF9fUFJJVkFURV9uZXdRdWVyeSh0LCBpLCBvLCBzLCBfLCBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gLCBhLCB1KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvTGlzdGVuUmVxdWVzdExhYmVscyhlLCB0KSB7XG4gICAgY29uc3QgbiA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b0xhYmVsKGUpIHtcbiAgICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgICAgY2FzZSBcIlRhcmdldFB1cnBvc2VMaXN0ZW5cIiAvKiBUYXJnZXRQdXJwb3NlLkxpc3RlbiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAgIGNhc2UgXCJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hcIiAvKiBUYXJnZXRQdXJwb3NlLkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoICovIDpcbiAgICAgICAgICAgIHJldHVybiBcImV4aXN0ZW5jZS1maWx0ZXItbWlzbWF0Y2hcIjtcblxuICAgICAgICAgIGNhc2UgXCJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbVwiIC8qIFRhcmdldFB1cnBvc2UuRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gXCJleGlzdGVuY2UtZmlsdGVyLW1pc21hdGNoLWJsb29tXCI7XG5cbiAgICAgICAgICBjYXNlIFwiVGFyZ2V0UHVycG9zZUxpbWJvUmVzb2x1dGlvblwiIC8qIFRhcmdldFB1cnBvc2UuTGltYm9SZXNvbHV0aW9uICovIDpcbiAgICAgICAgICAgIHJldHVybiBcImxpbWJvLWRvY3VtZW50XCI7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgfVxuICAgIH0odC5wdXJwb3NlKTtcbiAgICByZXR1cm4gbnVsbCA9PSBuID8gbnVsbCA6IHtcbiAgICAgICAgXCJnb29nLWxpc3Rlbi10YWdzXCI6IG5cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUZpbHRlcihlKSB7XG4gICAgcmV0dXJuIHZvaWQgMCAhPT0gZS51bmFyeUZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tVW5hcnlGaWx0ZXIoZSkge1xuICAgICAgICBzd2l0Y2ggKGUudW5hcnlGaWx0ZXIub3ApIHtcbiAgICAgICAgICBjYXNlIFwiSVNfTkFOXCI6XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS51bmFyeUZpbHRlci5maWVsZCk7XG4gICAgICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKHQsIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgICAgICBkb3VibGVWYWx1ZTogTmFOXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgXCJJU19OVUxMXCI6XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS51bmFyeUZpbHRlci5maWVsZCk7XG4gICAgICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKG4sIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgXCJJU19OT1RfTkFOXCI6XG4gICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS51bmFyeUZpbHRlci5maWVsZCk7XG4gICAgICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKHIsIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gLCB7XG4gICAgICAgICAgICAgICAgZG91YmxlVmFsdWU6IE5hTlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIFwiSVNfTk9UX05VTExcIjpcbiAgICAgICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlLnVuYXJ5RmlsdGVyLmZpZWxkKTtcbiAgICAgICAgICAgIHJldHVybiBGaWVsZEZpbHRlci5jcmVhdGUoaSwgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgICAgICB9XG4gICAgfShlKSA6IHZvaWQgMCAhPT0gZS5maWVsZEZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRmllbGRGaWx0ZXIoZSkge1xuICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKF9fUFJJVkFURV9mcm9tRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGRGaWx0ZXIuZmllbGQpLCBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbU9wZXJhdG9yTmFtZShlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIkVRVUFMXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiTk9UX0VRVUFMXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkdSRUFURVJfVEhBTlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIj5cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU4gKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkdSRUFURVJfVEhBTl9PUl9FUVVBTFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJMRVNTX1RIQU5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8XCIgLyogT3BlcmF0b3IuTEVTU19USEFOICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJMRVNTX1RIQU5fT1JfRVFVQUxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8PVwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTl9PUl9FUVVBTCAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiQVJSQVlfQ09OVEFJTlNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheS1jb250YWluc1wiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJJTlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcImluXCIgLyogT3BlcmF0b3IuSU4gKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIk5PVF9JTlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiQVJSQVlfQ09OVEFJTlNfQU5ZXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfShlLmZpZWxkRmlsdGVyLm9wKSwgZS5maWVsZEZpbHRlci52YWx1ZSk7XG4gICAgfShlKSA6IHZvaWQgMCAhPT0gZS5jb21wb3NpdGVGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUNvbXBvc2l0ZUZpbHRlcihlKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKGUuY29tcG9zaXRlRmlsdGVyLmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9mcm9tRmlsdGVyKGUpKSksIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQ29tcG9zaXRlT3BlcmF0b3JOYW1lKGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiQU5EXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYW5kXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuQU5EICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJPUlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi87XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KGUuY29tcG9zaXRlRmlsdGVyLm9wKSk7XG4gICAgfShlKSA6IGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvRGlyZWN0aW9uKGUpIHtcbiAgICByZXR1cm4gSWVbZV07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b09wZXJhdG9yTmFtZShlKSB7XG4gICAgcmV0dXJuIFRlW2VdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9Db21wb3NpdGVPcGVyYXRvck5hbWUoZSkge1xuICAgIHJldHVybiBFZVtlXTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaWVsZFBhdGg6IGUuY2Fub25pY2FsU3RyaW5nKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlKSB7XG4gICAgcmV0dXJuIEZpZWxkUGF0aCQxLmZyb21TZXJ2ZXJGb3JtYXQoZS5maWVsZFBhdGgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9GaWx0ZXIoZSkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfdG9VbmFyeU9yRmllbGRGaWx0ZXIoZSkge1xuICAgICAgICBpZiAoXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovID09PSBlLm9wKSB7XG4gICAgICAgICAgICBpZiAoX19QUklWQVRFX2lzTmFuVmFsdWUoZS52YWx1ZSkpIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdW5hcnlGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IF9fUFJJVkFURV90b0ZpZWxkUGF0aFJlZmVyZW5jZShlLmZpZWxkKSxcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiSVNfTkFOXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc051bGxWYWx1ZShlLnZhbHVlKSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bmFyeUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OVUxMXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gPT09IGUub3ApIHtcbiAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfaXNOYW5WYWx1ZShlLnZhbHVlKSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bmFyeUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OT1RfTkFOXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc051bGxWYWx1ZShlLnZhbHVlKSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bmFyeUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OT1RfTlVMTFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgIG9wOiBfX1BSSVZBVEVfdG9PcGVyYXRvck5hbWUoZS5vcCksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGUudmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KGUpIDogZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV90b0NvbXBvc2l0ZUZpbHRlcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmdldEZpbHRlcnMoKS5tYXAoKGUgPT4gX19QUklWQVRFX3RvRmlsdGVyKGUpKSk7XG4gICAgICAgIGlmICgxID09PSB0Lmxlbmd0aCkgcmV0dXJuIHRbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wb3NpdGVGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBvcDogX19QUklWQVRFX3RvQ29tcG9zaXRlT3BlcmF0b3JOYW1lKGUub3ApLFxuICAgICAgICAgICAgICAgIGZpbHRlcnM6IHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KGUpIDogZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9Eb2N1bWVudE1hc2soZSkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICByZXR1cm4gZS5maWVsZHMuZm9yRWFjaCgoZSA9PiB0LnB1c2goZS5jYW5vbmljYWxTdHJpbmcoKSkpKSwge1xuICAgICAgICBmaWVsZFBhdGhzOiB0XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2lzVmFsaWRSZXNvdXJjZU5hbWUoZSkge1xuICAgIC8vIFJlc291cmNlIG5hbWVzIGhhdmUgYXQgbGVhc3QgNCBjb21wb25lbnRzIChwcm9qZWN0IElELCBkYXRhYmFzZSBJRClcbiAgICByZXR1cm4gZS5sZW5ndGggPj0gNCAmJiBcInByb2plY3RzXCIgPT09IGUuZ2V0KDApICYmIFwiZGF0YWJhc2VzXCIgPT09IGUuZ2V0KDIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbW11dGFibGUgc2V0IG9mIG1ldGFkYXRhIHRoYXQgdGhlIGxvY2FsIHN0b3JlIHRyYWNrcyBmb3IgZWFjaCB0YXJnZXQuXG4gKi8gY2xhc3MgVGFyZ2V0RGF0YSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSB0YXJnZXQgYmVpbmcgbGlzdGVuZWQgdG8uICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBJRCB0byB3aGljaCB0aGUgdGFyZ2V0IGNvcnJlc3BvbmRzOyBBc3NpZ25lZCBieSB0aGVcbiAgICAgKiBMb2NhbFN0b3JlIGZvciB1c2VyIGxpc3RlbnMgYW5kIGJ5IHRoZSBTeW5jRW5naW5lIGZvciBsaW1ibyB3YXRjaGVzLlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKiBUaGUgcHVycG9zZSBvZiB0aGUgdGFyZ2V0LiAqL1xuICAgIG4sIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXF1ZW5jZSBudW1iZXIgb2YgdGhlIGxhc3QgdHJhbnNhY3Rpb24gZHVyaW5nIHdoaWNoIHRoaXMgdGFyZ2V0IGRhdGFcbiAgICAgKiB3YXMgbW9kaWZpZWQuXG4gICAgICovXG4gICAgciwgXG4gICAgLyoqIFRoZSBsYXRlc3Qgc25hcHNob3QgdmVyc2lvbiBzZWVuIGZvciB0aGlzIHRhcmdldC4gKi9cbiAgICBpID0gU25hcHNob3RWZXJzaW9uLm1pbigpXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gc25hcHNob3QgdmVyc2lvbiBhdCB3aGljaCB0aGUgYXNzb2NpYXRlZCB2aWV3XG4gICAgICogY29udGFpbmVkIG5vIGxpbWJvIGRvY3VtZW50cy5cbiAgICAgKi8gLCBzID0gU25hcHNob3RWZXJzaW9uLm1pbigpXG4gICAgLyoqXG4gICAgICogQW4gb3BhcXVlLCBzZXJ2ZXItYXNzaWduZWQgdG9rZW4gdGhhdCBhbGxvd3Mgd2F0Y2hpbmcgYSB0YXJnZXQgdG8gYmVcbiAgICAgKiByZXN1bWVkIGFmdGVyIGRpc2Nvbm5lY3Rpbmcgd2l0aG91dCByZXRyYW5zbWl0dGluZyBhbGwgdGhlIGRhdGEgdGhhdFxuICAgICAqIG1hdGNoZXMgdGhlIHRhcmdldC4gVGhlIHJlc3VtZSB0b2tlbiBlc3NlbnRpYWxseSBpZGVudGlmaWVzIGEgcG9pbnQgaW5cbiAgICAgKiB0aW1lIGZyb20gd2hpY2ggdGhlIHNlcnZlciBzaG91bGQgcmVzdW1lIHNlbmRpbmcgcmVzdWx0cy5cbiAgICAgKi8gLCBvID0gQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklOR1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgbGFzdCBtYXRjaGVkIHRoZSBxdWVyeSBhdCB0aGUgcmVzdW1lIHRva2VuIG9yXG4gICAgICogcmVhZCB0aW1lLiBEb2N1bWVudHMgYXJlIGNvdW50ZWQgb25seSB3aGVuIG1ha2luZyBhIGxpc3RlbiByZXF1ZXN0IHdpdGhcbiAgICAgKiByZXN1bWUgdG9rZW4gb3IgcmVhZCB0aW1lLCBvdGhlcndpc2UsIGtlZXAgaXQgbnVsbC5cbiAgICAgKi8gLCBfID0gbnVsbCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IGUsIHRoaXMudGFyZ2V0SWQgPSB0LCB0aGlzLnB1cnBvc2UgPSBuLCB0aGlzLnNlcXVlbmNlTnVtYmVyID0gciwgdGhpcy5zbmFwc2hvdFZlcnNpb24gPSBpLCBcbiAgICAgICAgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uID0gcywgdGhpcy5yZXN1bWVUb2tlbiA9IG8sIHRoaXMuZXhwZWN0ZWRDb3VudCA9IF87XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IHRhcmdldCBkYXRhIGluc3RhbmNlIHdpdGggYW4gdXBkYXRlZCBzZXF1ZW5jZSBudW1iZXIuICovICAgIHdpdGhTZXF1ZW5jZU51bWJlcihlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0RGF0YSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRJZCwgdGhpcy5wdXJwb3NlLCBlLCB0aGlzLnNuYXBzaG90VmVyc2lvbiwgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLCB0aGlzLnJlc3VtZVRva2VuLCB0aGlzLmV4cGVjdGVkQ291bnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRhcmdldCBkYXRhIGluc3RhbmNlIHdpdGggYW4gdXBkYXRlZCByZXN1bWUgdG9rZW4gYW5kXG4gICAgICogc25hcHNob3QgdmVyc2lvbi5cbiAgICAgKi8gICAgd2l0aFJlc3VtZVRva2VuKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYXJnZXREYXRhKHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldElkLCB0aGlzLnB1cnBvc2UsIHRoaXMuc2VxdWVuY2VOdW1iZXIsIHQsIHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbiwgZSwgXG4gICAgICAgIC8qIGV4cGVjdGVkQ291bnQ9ICovIG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRhcmdldCBkYXRhIGluc3RhbmNlIHdpdGggYW4gdXBkYXRlZCBleHBlY3RlZCBjb3VudC5cbiAgICAgKi8gICAgd2l0aEV4cGVjdGVkQ291bnQoZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRhcmdldERhdGEodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0SWQsIHRoaXMucHVycG9zZSwgdGhpcy5zZXF1ZW5jZU51bWJlciwgdGhpcy5zbmFwc2hvdFZlcnNpb24sIHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbiwgdGhpcy5yZXN1bWVUb2tlbiwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IGRhdGEgaW5zdGFuY2Ugd2l0aCBhbiB1cGRhdGVkIGxhc3QgbGltYm8gZnJlZVxuICAgICAqIHNuYXBzaG90IHZlcnNpb24gbnVtYmVyLlxuICAgICAqLyAgICB3aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbihlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0RGF0YSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRJZCwgdGhpcy5wdXJwb3NlLCB0aGlzLnNlcXVlbmNlTnVtYmVyLCB0aGlzLnNuYXBzaG90VmVyc2lvbiwgZSwgdGhpcy5yZXN1bWVUb2tlbiwgdGhpcy5leHBlY3RlZENvdW50KTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogU2VyaWFsaXplciBmb3IgdmFsdWVzIHN0b3JlZCBpbiB0aGUgTG9jYWxTdG9yZS4gKi8gY2xhc3MgX19QUklWQVRFX0xvY2FsU2VyaWFsaXplciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLmN0ID0gZTtcbiAgICB9XG59XG5cbi8qKiBEZWNvZGVzIGEgcmVtb3RlIGRvY3VtZW50IGZyb20gc3RvcmFnZSBsb2NhbGx5IHRvIGEgRG9jdW1lbnQuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRGJSZW1vdGVEb2N1bWVudChlLCB0KSB7XG4gICAgbGV0IG47XG4gICAgaWYgKHQuZG9jdW1lbnQpIG4gPSBfX1BSSVZBVEVfZnJvbURvY3VtZW50KGUuY3QsIHQuZG9jdW1lbnQsICEhdC5oYXNDb21taXR0ZWRNdXRhdGlvbnMpOyBlbHNlIGlmICh0Lm5vRG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3QgZSA9IERvY3VtZW50S2V5LmZyb21TZWdtZW50cyh0Lm5vRG9jdW1lbnQucGF0aCksIHIgPSBfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wKHQubm9Eb2N1bWVudC5yZWFkVGltZSk7XG4gICAgICAgIG4gPSBNdXRhYmxlRG9jdW1lbnQubmV3Tm9Eb2N1bWVudChlLCByKSwgdC5oYXNDb21taXR0ZWRNdXRhdGlvbnMgJiYgbi5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXQudW5rbm93bkRvY3VtZW50KSByZXR1cm4gZmFpbCgpO1xuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlID0gRG9jdW1lbnRLZXkuZnJvbVNlZ21lbnRzKHQudW5rbm93bkRvY3VtZW50LnBhdGgpLCByID0gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcCh0LnVua25vd25Eb2N1bWVudC52ZXJzaW9uKTtcbiAgICAgICAgICAgIG4gPSBNdXRhYmxlRG9jdW1lbnQubmV3VW5rbm93bkRvY3VtZW50KGUsIHIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0LnJlYWRUaW1lICYmIG4uc2V0UmVhZFRpbWUoZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcEtleShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgVGltZXN0YW1wKGVbMF0sIGVbMV0pO1xuICAgICAgICByZXR1cm4gU25hcHNob3RWZXJzaW9uLmZyb21UaW1lc3RhbXAodCk7XG4gICAgfSh0LnJlYWRUaW1lKSksIG47XG59XG5cbi8qKiBFbmNvZGVzIGEgZG9jdW1lbnQgZm9yIHN0b3JhZ2UgbG9jYWxseS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RvRGJSZW1vdGVEb2N1bWVudChlLCB0KSB7XG4gICAgY29uc3QgbiA9IHQua2V5LCByID0ge1xuICAgICAgICBwcmVmaXhQYXRoOiBuLmdldENvbGxlY3Rpb25QYXRoKCkucG9wTGFzdCgpLnRvQXJyYXkoKSxcbiAgICAgICAgY29sbGVjdGlvbkdyb3VwOiBuLmNvbGxlY3Rpb25Hcm91cCxcbiAgICAgICAgZG9jdW1lbnRJZDogbi5wYXRoLmxhc3RTZWdtZW50KCksXG4gICAgICAgIHJlYWRUaW1lOiBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcEtleSh0LnJlYWRUaW1lKSxcbiAgICAgICAgaGFzQ29tbWl0dGVkTXV0YXRpb25zOiB0Lmhhc0NvbW1pdHRlZE11dGF0aW9uc1xuICAgIH07XG4gICAgaWYgKHQuaXNGb3VuZERvY3VtZW50KCkpIHIuZG9jdW1lbnQgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdG9Eb2N1bWVudChlLCB0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBfX1BSSVZBVEVfdG9OYW1lKGUsIHQua2V5KSxcbiAgICAgICAgICAgIGZpZWxkczogdC5kYXRhLnZhbHVlLm1hcFZhbHVlLmZpZWxkcyxcbiAgICAgICAgICAgIHVwZGF0ZVRpbWU6IHRvVGltZXN0YW1wKGUsIHQudmVyc2lvbi50b1RpbWVzdGFtcCgpKSxcbiAgICAgICAgICAgIGNyZWF0ZVRpbWU6IHRvVGltZXN0YW1wKGUsIHQuY3JlYXRlVGltZS50b1RpbWVzdGFtcCgpKVxuICAgICAgICB9O1xuICAgIH0oZS5jdCwgdCk7IGVsc2UgaWYgKHQuaXNOb0RvY3VtZW50KCkpIHIubm9Eb2N1bWVudCA9IHtcbiAgICAgICAgcGF0aDogbi5wYXRoLnRvQXJyYXkoKSxcbiAgICAgICAgcmVhZFRpbWU6IF9fUFJJVkFURV90b0RiVGltZXN0YW1wKHQudmVyc2lvbilcbiAgICB9OyBlbHNlIHtcbiAgICAgICAgaWYgKCF0LmlzVW5rbm93bkRvY3VtZW50KCkpIHJldHVybiBmYWlsKCk7XG4gICAgICAgIHIudW5rbm93bkRvY3VtZW50ID0ge1xuICAgICAgICAgICAgcGF0aDogbi5wYXRoLnRvQXJyYXkoKSxcbiAgICAgICAgICAgIHZlcnNpb246IF9fUFJJVkFURV90b0RiVGltZXN0YW1wKHQudmVyc2lvbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0RiVGltZXN0YW1wS2V5KGUpIHtcbiAgICBjb25zdCB0ID0gZS50b1RpbWVzdGFtcCgpO1xuICAgIHJldHVybiBbIHQuc2Vjb25kcywgdC5uYW5vc2Vjb25kcyBdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcChlKSB7XG4gICAgY29uc3QgdCA9IGUudG9UaW1lc3RhbXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiB0LnNlY29uZHMsXG4gICAgICAgIG5hbm9zZWNvbmRzOiB0Lm5hbm9zZWNvbmRzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlKSB7XG4gICAgY29uc3QgdCA9IG5ldyBUaW1lc3RhbXAoZS5zZWNvbmRzLCBlLm5hbm9zZWNvbmRzKTtcbiAgICByZXR1cm4gU25hcHNob3RWZXJzaW9uLmZyb21UaW1lc3RhbXAodCk7XG59XG5cbi8qKiBFbmNvZGVzIGEgYmF0Y2ggb2YgbXV0YXRpb25zIGludG8gYSBEYk11dGF0aW9uQmF0Y2ggZm9yIGxvY2FsIHN0b3JhZ2UuICovXG4vKiogRGVjb2RlcyBhIERiTXV0YXRpb25CYXRjaCBpbnRvIGEgTXV0YXRpb25CYXRjaCAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYk11dGF0aW9uQmF0Y2goZSwgdCkge1xuICAgIGNvbnN0IG4gPSAodC5iYXNlTXV0YXRpb25zIHx8IFtdKS5tYXAoKHQgPT4gX19QUklWQVRFX2Zyb21NdXRhdGlvbihlLmN0LCB0KSkpO1xuICAgIC8vIFNxdWFzaCBvbGQgdHJhbnNmb3JtIG11dGF0aW9ucyBpbnRvIGV4aXN0aW5nIHBhdGNoIG9yIHNldCBtdXRhdGlvbnMuXG4gICAgLy8gVGhlIHJlcGxhY2VtZW50IG9mIHJlcHJlc2VudGluZyBgdHJhbnNmb3Jtc2Agd2l0aCBgdXBkYXRlX3RyYW5zZm9ybXNgXG4gICAgLy8gb24gdGhlIFNESyBtZWFucyB0aGF0IG9sZCBgdHJhbnNmb3JtYCBtdXRhdGlvbnMgc3RvcmVkIGluIEluZGV4ZWREQiBuZWVkXG4gICAgLy8gdG8gYmUgdXBkYXRlZCB0byBgdXBkYXRlX3RyYW5zZm9ybXNgLlxuICAgIC8vIFRPRE8oYi8xNzQ2MDgzNzQpOiBSZW1vdmUgdGhpcyBjb2RlIG9uY2Ugd2UgcGVyZm9ybSBhIHNjaGVtYSBtaWdyYXRpb24uXG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdC5tdXRhdGlvbnMubGVuZ3RoIC0gMTsgKytlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0Lm11dGF0aW9uc1tlXTtcbiAgICAgICAgaWYgKGUgKyAxIDwgdC5tdXRhdGlvbnMubGVuZ3RoICYmIHZvaWQgMCAhPT0gdC5tdXRhdGlvbnNbZSArIDFdLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgY29uc3QgciA9IHQubXV0YXRpb25zW2UgKyAxXTtcbiAgICAgICAgICAgIG4udXBkYXRlVHJhbnNmb3JtcyA9IHIudHJhbnNmb3JtLmZpZWxkVHJhbnNmb3JtcywgdC5tdXRhdGlvbnMuc3BsaWNlKGUgKyAxLCAxKSwgXG4gICAgICAgICAgICArK2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgciA9IHQubXV0YXRpb25zLm1hcCgodCA9PiBfX1BSSVZBVEVfZnJvbU11dGF0aW9uKGUuY3QsIHQpKSksIGkgPSBUaW1lc3RhbXAuZnJvbU1pbGxpcyh0LmxvY2FsV3JpdGVUaW1lTXMpO1xuICAgIHJldHVybiBuZXcgTXV0YXRpb25CYXRjaCh0LmJhdGNoSWQsIGksIG4sIHIpO1xufVxuXG4vKiogRGVjb2RlcyBhIERiVGFyZ2V0IGludG8gVGFyZ2V0RGF0YSAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiVGFyZ2V0KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlLnJlYWRUaW1lKSwgbiA9IHZvaWQgMCAhPT0gZS5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uID8gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24pIDogU25hcHNob3RWZXJzaW9uLm1pbigpO1xuICAgIGxldCByO1xuICAgIHJldHVybiByID0gXG4gICAgLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiBmb3IgZmlndXJpbmcgb3V0IHdoYXQga2luZCBvZiBxdWVyeSBoYXMgYmVlbiBzdG9yZWQuXG4gKi9cbiAgICBmdW5jdGlvbiBfX1BSSVZBVEVfaXNEb2N1bWVudFF1ZXJ5KGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gZS5kb2N1bWVudHM7XG4gICAgfVxuICAgIC8qKiBFbmNvZGVzIGEgRGJCdW5kbGUgdG8gYSBCdW5kbGVNZXRhZGF0YSBvYmplY3QuICovIChlLnF1ZXJ5KSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRG9jdW1lbnRzVGFyZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDEgPT09IGUuZG9jdW1lbnRzLmxlbmd0aCksIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgoX19QUklWQVRFX2Zyb21RdWVyeVBhdGgoZS5kb2N1bWVudHNbMF0pKSk7XG4gICAgfShlLnF1ZXJ5KSA6IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tUXVlcnlUYXJnZXQoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoX19QUklWQVRFX2NvbnZlcnRRdWVyeVRhcmdldFRvUXVlcnkoZSkpO1xuICAgIH0oZS5xdWVyeSksIG5ldyBUYXJnZXREYXRhKHIsIGUudGFyZ2V0SWQsIFwiVGFyZ2V0UHVycG9zZUxpc3RlblwiIC8qIFRhcmdldFB1cnBvc2UuTGlzdGVuICovICwgZS5sYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIsIHQsIG4sIEJ5dGVTdHJpbmcuZnJvbUJhc2U2NFN0cmluZyhlLnJlc3VtZVRva2VuKSk7XG59XG5cbi8qKiBFbmNvZGVzIFRhcmdldERhdGEgaW50byBhIERiVGFyZ2V0IGZvciBzdG9yYWdlIGxvY2FsbHkuICovIGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiVGFyZ2V0KGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX3RvRGJUaW1lc3RhbXAodC5zbmFwc2hvdFZlcnNpb24pLCByID0gX19QUklWQVRFX3RvRGJUaW1lc3RhbXAodC5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKTtcbiAgICBsZXQgaTtcbiAgICBpID0gX19QUklWQVRFX3RhcmdldElzRG9jdW1lbnRUYXJnZXQodC50YXJnZXQpID8gX19QUklWQVRFX3RvRG9jdW1lbnRzVGFyZ2V0KGUuY3QsIHQudGFyZ2V0KSA6IF9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0KGUuY3QsIHQudGFyZ2V0KS5fdDtcbiAgICAvLyBXZSBjYW4ndCBzdG9yZSB0aGUgcmVzdW1lVG9rZW4gYXMgYSBCeXRlU3RyaW5nIGluIEluZGV4ZWREYiwgc28gd2VcbiAgICAvLyBjb252ZXJ0IGl0IHRvIGEgYmFzZTY0IHN0cmluZyBmb3Igc3RvcmFnZS5cbiAgICAgICAgY29uc3QgcyA9IHQucmVzdW1lVG9rZW4udG9CYXNlNjQoKTtcbiAgICAvLyBsYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgaXMgYWx3YXlzIDAgdW50aWwgd2UgZG8gcmVhbCBHQy5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGFyZ2V0SWQ6IHQudGFyZ2V0SWQsXG4gICAgICAgIGNhbm9uaWNhbElkOiBfX1BSSVZBVEVfY2Fub25pZnlUYXJnZXQodC50YXJnZXQpLFxuICAgICAgICByZWFkVGltZTogbixcbiAgICAgICAgcmVzdW1lVG9rZW46IHMsXG4gICAgICAgIGxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcjogdC5zZXF1ZW5jZU51bWJlcixcbiAgICAgICAgbGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbjogcixcbiAgICAgICAgcXVlcnk6IGlcbiAgICB9O1xufVxuXG4vKipcbiAqIEVuY29kZXMgYSBgQnVuZGxlZFF1ZXJ5YCBmcm9tIGJ1bmRsZSBwcm90byB0byBhIFF1ZXJ5IG9iamVjdC5cbiAqXG4gKiBUaGlzIHJlY29uc3RydWN0cyB0aGUgb3JpZ2luYWwgcXVlcnkgdXNlZCB0byBidWlsZCB0aGUgYnVuZGxlIGJlaW5nIGxvYWRlZCxcbiAqIGluY2x1ZGluZyBmZWF0dXJlcyBleGlzdHMgb25seSBpbiBTREtzIChmb3IgZXhhbXBsZTogbGltaXQtdG8tbGFzdCkuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQnVuZGxlZFF1ZXJ5KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2NvbnZlcnRRdWVyeVRhcmdldFRvUXVlcnkoe1xuICAgICAgICBwYXJlbnQ6IGUucGFyZW50LFxuICAgICAgICBzdHJ1Y3R1cmVkUXVlcnk6IGUuc3RydWN0dXJlZFF1ZXJ5XG4gICAgfSk7XG4gICAgcmV0dXJuIFwiTEFTVFwiID09PSBlLmxpbWl0VHlwZSA/IF9fUFJJVkFURV9xdWVyeVdpdGhMaW1pdCh0LCB0LmxpbWl0LCBcIkxcIiAvKiBMaW1pdFR5cGUuTGFzdCAqLykgOiB0O1xufVxuXG4vKiogRW5jb2RlcyBhIE5hbWVkUXVlcnkgcHJvdG8gb2JqZWN0IHRvIGEgTmFtZWRRdWVyeSBtb2RlbCBvYmplY3QuICovXG4vKiogRW5jb2RlcyBhIERiRG9jdW1lbnRPdmVybGF5IG9iamVjdCB0byBhbiBPdmVybGF5IG1vZGVsIG9iamVjdC4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRGJEb2N1bWVudE92ZXJsYXkoZSwgdCkge1xuICAgIHJldHVybiBuZXcgT3ZlcmxheSh0Lmxhcmdlc3RCYXRjaElkLCBfX1BSSVZBVEVfZnJvbU11dGF0aW9uKGUuY3QsIHQub3ZlcmxheU11dGF0aW9uKSk7XG59XG5cbi8qKiBEZWNvZGVzIGFuIE92ZXJsYXkgbW9kZWwgb2JqZWN0IGludG8gYSBEYkRvY3VtZW50T3ZlcmxheSBvYmplY3QuICovXG4vKipcbiAqIFJldHVybnMgdGhlIERiRG9jdW1lbnRPdmVybGF5S2V5IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIHVzZXIgYW5kXG4gKiBkb2N1bWVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0RiRG9jdW1lbnRPdmVybGF5S2V5KGUsIHQpIHtcbiAgICBjb25zdCBuID0gdC5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgcmV0dXJuIFsgZSwgX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aCh0LnBhdGgucG9wTGFzdCgpKSwgbiBdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9EYkluZGV4U3RhdGUoZSwgdCwgbiwgcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGluZGV4SWQ6IGUsXG4gICAgICAgIHVpZDogdCxcbiAgICAgICAgc2VxdWVuY2VOdW1iZXI6IG4sXG4gICAgICAgIHJlYWRUaW1lOiBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcChyLnJlYWRUaW1lKSxcbiAgICAgICAgZG9jdW1lbnRLZXk6IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoci5kb2N1bWVudEtleS5wYXRoKSxcbiAgICAgICAgbGFyZ2VzdEJhdGNoSWQ6IHIubGFyZ2VzdEJhdGNoSWRcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiQnVuZGxlQ2FjaGUge1xuICAgIGdldEJ1bmRsZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9idW5kbGVzU3RvcmUoZSkuZ2V0KHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUpIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiQnVuZGxlKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZDogZS5idW5kbGVJZCxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGltZTogX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlLmNyZWF0ZVRpbWUpLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBlLnZlcnNpb25cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqIEVuY29kZXMgYSBCdW5kbGVNZXRhZGF0YSB0byBhIERiQnVuZGxlLiAqLyAoZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2F2ZUJ1bmRsZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9idW5kbGVzU3RvcmUoZSkucHV0KGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiQnVuZGxlKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYnVuZGxlSWQ6IGUuaWQsXG4gICAgICAgICAgICAgICAgY3JlYXRlVGltZTogX19QUklWQVRFX3RvRGJUaW1lc3RhbXAoX19QUklWQVRFX2Zyb21WZXJzaW9uKGUuY3JlYXRlVGltZSkpLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGUudmVyc2lvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvKiogRW5jb2RlcyBhIERiTmFtZWRRdWVyeSB0byBhIE5hbWVkUXVlcnkuICovICh0KSk7XG4gICAgfVxuICAgIGdldE5hbWVkUXVlcnkoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX25hbWVkUXVlcmllc1N0b3JlKGUpLmdldCh0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGlmIChlKSByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYk5hbWVkUXVlcnkoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IF9fUFJJVkFURV9mcm9tQnVuZGxlZFF1ZXJ5KGUuYnVuZGxlZFF1ZXJ5KSxcbiAgICAgICAgICAgICAgICAgICAgcmVhZFRpbWU6IF9fUFJJVkFURV9mcm9tRGJUaW1lc3RhbXAoZS5yZWFkVGltZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqIEVuY29kZXMgYSBOYW1lZFF1ZXJ5IGZyb20gYSBidW5kbGUgcHJvdG8gdG8gYSBEYk5hbWVkUXVlcnkuICovIChlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzYXZlTmFtZWRRdWVyeShlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbmFtZWRRdWVyaWVzU3RvcmUoZSkucHV0KGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiTmFtZWRRdWVyeShlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgICAgICByZWFkVGltZTogX19QUklWQVRFX3RvRGJUaW1lc3RhbXAoX19QUklWQVRFX2Zyb21WZXJzaW9uKGUucmVhZFRpbWUpKSxcbiAgICAgICAgICAgICAgICBidW5kbGVkUXVlcnk6IGUuYnVuZGxlZFF1ZXJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KHQpKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBidW5kbGVzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYnVuZGxlc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiYnVuZGxlc1wiKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIG5hbWVkUXVlcmllcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25hbWVkUXVlcmllc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwibmFtZWRRdWVyaWVzXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBEb2N1bWVudE92ZXJsYXlDYWNoZSB1c2luZyBJbmRleGVkRGIuXG4gKi8gY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYkRvY3VtZW50T3ZlcmxheUNhY2hlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplciAtIFRoZSBkb2N1bWVudCBzZXJpYWxpemVyLlxuICAgICAqIEBwYXJhbSB1c2VySWQgLSBUaGUgdXNlcklkIGZvciB3aGljaCB3ZSBhcmUgYWNjZXNzaW5nIG92ZXJsYXlzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gZSwgdGhpcy51c2VySWQgPSB0O1xuICAgIH1cbiAgICBzdGF0aWMgbHQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC51aWQgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiRG9jdW1lbnRPdmVybGF5Q2FjaGUoZSwgbik7XG4gICAgfVxuICAgIGdldE92ZXJsYXkoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlKGUpLmdldChfX1BSSVZBVEVfdG9EYkRvY3VtZW50T3ZlcmxheUtleSh0aGlzLnVzZXJJZCwgdCkpLm5leHQoKGUgPT4gZSA/IF9fUFJJVkFURV9mcm9tRGJEb2N1bWVudE92ZXJsYXkodGhpcy5zZXJpYWxpemVyLCBlKSA6IG51bGwpKTtcbiAgICB9XG4gICAgZ2V0T3ZlcmxheXMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHQsICh0ID0+IHRoaXMuZ2V0T3ZlcmxheShlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIG51bGwgIT09IGUgJiYgbi5zZXQodCwgZSk7XG4gICAgICAgIH0pKSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgc2F2ZU92ZXJsYXlzKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKCgobiwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IG5ldyBPdmVybGF5KHQsIGkpO1xuICAgICAgICAgICAgci5wdXNoKHRoaXMuaHQoZSwgcykpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHIpO1xuICAgIH1cbiAgICByZW1vdmVPdmVybGF5c0ZvckJhdGNoSWQoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gbmV3IFNldDtcbiAgICAgICAgLy8gR2V0IHRoZSBzZXQgb2YgdW5pcXVlIGNvbGxlY3Rpb24gcGF0aHMuXG4gICAgICAgICAgICAgICAgdC5mb3JFYWNoKChlID0+IHIuYWRkKF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZS5nZXRDb2xsZWN0aW9uUGF0aCgpKSkpKTtcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICByZXR1cm4gci5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCB0LCBuIF0sIFsgdGhpcy51c2VySWQsIHQsIG4gKyAxIF0sIFxuICAgICAgICAgICAgLypsb3dlck9wZW49Ki8gITEsIFxuICAgICAgICAgICAgLyp1cHBlck9wZW49Ki8gITApO1xuICAgICAgICAgICAgaS5wdXNoKF9fUFJJVkFURV9kb2N1bWVudE92ZXJsYXlTdG9yZShlKS5qKFwiY29sbGVjdGlvblBhdGhPdmVybGF5SW5kZXhcIiwgcikpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKGkpO1xuICAgIH1cbiAgICBnZXRPdmVybGF5c0ZvckNvbGxlY3Rpb24oZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSwgaSA9IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodCksIHMgPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCBpLCBuIF0sIFsgdGhpcy51c2VySWQsIGksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITApO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlKGUpLlUoXCJjb2xsZWN0aW9uUGF0aE92ZXJsYXlJbmRleFwiLCBzKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9mcm9tRGJEb2N1bWVudE92ZXJsYXkodGhpcy5zZXJpYWxpemVyLCB0KTtcbiAgICAgICAgICAgICAgICByLnNldChlLmdldEtleSgpLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCk7XG4gICAgICAgIGxldCBzO1xuICAgICAgICAvLyBXZSB3YW50IGJhdGNoIElEcyBsYXJnZXIgdGhhbiBgc2luY2VCYXRjaElkYCwgYW5kIHNvIHRoZSBsb3dlciBib3VuZFxuICAgICAgICAvLyBpcyBub3QgaW5jbHVzaXZlLlxuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCB0LCBuIF0sIFsgdGhpcy51c2VySWQsIHQsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITApO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwiY29sbGVjdGlvbkdyb3VwT3ZlcmxheUluZGV4XCIsXG4gICAgICAgICAgICByYW5nZTogb1xuICAgICAgICB9LCAoKGUsIHQsIG4pID0+IHtcbiAgICAgICAgICAgIC8vIFdlIGRvIG5vdCB3YW50IHRvIHJldHVybiBwYXJ0aWFsIGJhdGNoIG92ZXJsYXlzLCBldmVuIGlmIHRoZSBzaXplXG4gICAgICAgICAgICAvLyBvZiB0aGUgcmVzdWx0IHNldCBleGNlZWRzIHRoZSBnaXZlbiBgY291bnRgIGFyZ3VtZW50LiBUaGVyZWZvcmUsIHdlXG4gICAgICAgICAgICAvLyBjb250aW51ZSB0byBhZ2dyZWdhdGUgcmVzdWx0cyBldmVuIGFmdGVyIHRoZSByZXN1bHQgc2l6ZSBleGNlZWRzXG4gICAgICAgICAgICAvLyBgY291bnRgIGlmIHRoZXJlIGFyZSBtb3JlIG92ZXJsYXlzIGZyb20gdGhlIGBjdXJyZW50QmF0Y2hJZGAuXG4gICAgICAgICAgICBjb25zdCBvID0gX19QUklWQVRFX2Zyb21EYkRvY3VtZW50T3ZlcmxheSh0aGlzLnNlcmlhbGl6ZXIsIHQpO1xuICAgICAgICAgICAgaS5zaXplKCkgPCByIHx8IG8ubGFyZ2VzdEJhdGNoSWQgPT09IHMgPyAoaS5zZXQoby5nZXRLZXkoKSwgbyksIHMgPSBvLmxhcmdlc3RCYXRjaElkKSA6IG4uZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBodChlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRPdmVybGF5U3RvcmUoZSkucHV0KGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiRG9jdW1lbnRPdmVybGF5KGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IFtyLCBpLCBzXSA9IF9fUFJJVkFURV90b0RiRG9jdW1lbnRPdmVybGF5S2V5KHQsIG4ubXV0YXRpb24ua2V5KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXNlcklkOiB0LFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25QYXRoOiBpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50SWQ6IHMsXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbkdyb3VwOiBuLm11dGF0aW9uLmtleS5nZXRDb2xsZWN0aW9uR3JvdXAoKSxcbiAgICAgICAgICAgICAgICBsYXJnZXN0QmF0Y2hJZDogbi5sYXJnZXN0QmF0Y2hJZCxcbiAgICAgICAgICAgICAgICBvdmVybGF5TXV0YXRpb246IHRvTXV0YXRpb24oZS5jdCwgbi5tdXRhdGlvbilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odGhpcy5zZXJpYWxpemVyLCB0aGlzLnVzZXJJZCwgdCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIGRvY3VtZW50IG92ZXJsYXkgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudE92ZXJsYXlTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcImRvY3VtZW50T3ZlcmxheXNcIik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBOb3RlOiBUaGlzIGNvZGUgaXMgY29waWVkIGZyb20gdGhlIGJhY2tlbmQuIENvZGUgdGhhdCBpcyBub3QgdXNlZCBieVxuLy8gRmlyZXN0b3JlIHdhcyByZW1vdmVkLlxuLyoqIEZpcmVzdG9yZSBpbmRleCB2YWx1ZSB3cml0ZXIuICAqL1xuY2xhc3MgX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge31cbiAgICAvLyBUaGUgd3JpdGUgbWV0aG9kcyBiZWxvdyBzaG9ydC1jaXJjdWl0IHdyaXRpbmcgdGVybWluYXRvcnMgZm9yIHZhbHVlc1xuICAgIC8vIGNvbnRhaW5pbmcgYSAodGVybWluYXRpbmcpIHRydW5jYXRlZCB2YWx1ZS5cbiAgICAvLyBBcyBhbiBleGFtcGxlLCBjb25zaWRlciB0aGUgcmVzdWx0aW5nIGVuY29kaW5nIGZvcjpcbiAgICAvLyBbXCJiYXJcIiwgWzIsIFwiZm9vXCJdXSAtPiAoU1RSSU5HLCBcImJhclwiLCBURVJNLCBBUlJBWSwgTlVNQkVSLCAyLCBTVFJJTkcsIFwiZm9vXCIsIFRFUk0sIFRFUk0sIFRFUk0pXG4gICAgLy8gW1wiYmFyXCIsIFsyLCB0cnVuY2F0ZWQoXCJmb29cIildXSAtPiAoU1RSSU5HLCBcImJhclwiLCBURVJNLCBBUlJBWSwgTlVNQkVSLCAyLCBTVFJJTkcsIFwiZm9vXCIsIFRSVU5DKVxuICAgIC8vIFtcImJhclwiLCB0cnVuY2F0ZWQoW1wiZm9vXCJdKV0gLT4gKFNUUklORywgXCJiYXJcIiwgVEVSTSwgQVJSQVkuIFNUUklORywgXCJmb29cIiwgVEVSTSwgVFJVTkMpXG4gICAgLyoqIFdyaXRlcyBhbiBpbmRleCB2YWx1ZS4gICovXG4gICAgUHQoZSwgdCkge1xuICAgICAgICB0aGlzLkl0KGUsIHQpLCBcbiAgICAgICAgLy8gV3JpdGUgc2VwYXJhdG9yIHRvIHNwbGl0IGluZGV4IHZhbHVlc1xuICAgICAgICAvLyAoc2VlIGdvL2ZpcmVzdG9yZS1zdG9yYWdlLWZvcm1hdCNlbmNvZGluZ3MpLlxuICAgICAgICB0LlR0KCk7XG4gICAgfVxuICAgIEl0KGUsIHQpIHtcbiAgICAgICAgaWYgKFwibnVsbFZhbHVlXCIgaW4gZSkgdGhpcy5FdCh0LCA1KTsgZWxzZSBpZiAoXCJib29sZWFuVmFsdWVcIiBpbiBlKSB0aGlzLkV0KHQsIDEwKSwgXG4gICAgICAgIHQuZHQoZS5ib29sZWFuVmFsdWUgPyAxIDogMCk7IGVsc2UgaWYgKFwiaW50ZWdlclZhbHVlXCIgaW4gZSkgdGhpcy5FdCh0LCAxNSksIHQuZHQoX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmludGVnZXJWYWx1ZSkpOyBlbHNlIGlmIChcImRvdWJsZVZhbHVlXCIgaW4gZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5kb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICBpc05hTihuKSA/IHRoaXMuRXQodCwgMTMpIDogKHRoaXMuRXQodCwgMTUpLCBfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8obikgPyBcbiAgICAgICAgICAgIC8vIC0wLjAsIDAgYW5kIDAuMCBhcmUgYWxsIGNvbnNpZGVyZWQgdGhlIHNhbWVcbiAgICAgICAgICAgIHQuZHQoMCkgOiB0LmR0KG4pKTtcbiAgICAgICAgfSBlbHNlIGlmIChcInRpbWVzdGFtcFZhbHVlXCIgaW4gZSkge1xuICAgICAgICAgICAgbGV0IG4gPSBlLnRpbWVzdGFtcFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5FdCh0LCAyMCksIFwic3RyaW5nXCIgPT0gdHlwZW9mIG4gJiYgKG4gPSBfX1BSSVZBVEVfbm9ybWFsaXplVGltZXN0YW1wKG4pKSwgdC5BdChgJHtuLnNlY29uZHMgfHwgXCJcIn1gKSwgXG4gICAgICAgICAgICB0LmR0KG4ubmFub3MgfHwgMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJzdHJpbmdWYWx1ZVwiIGluIGUpIHRoaXMuUnQoZS5zdHJpbmdWYWx1ZSwgdCksIHRoaXMuVnQodCk7IGVsc2UgaWYgKFwiYnl0ZXNWYWx1ZVwiIGluIGUpIHRoaXMuRXQodCwgMzApLCBcbiAgICAgICAgdC5mdChfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyhlLmJ5dGVzVmFsdWUpKSwgdGhpcy5WdCh0KTsgZWxzZSBpZiAoXCJyZWZlcmVuY2VWYWx1ZVwiIGluIGUpIHRoaXMuZ3QoZS5yZWZlcmVuY2VWYWx1ZSwgdCk7IGVsc2UgaWYgKFwiZ2VvUG9pbnRWYWx1ZVwiIGluIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLmdlb1BvaW50VmFsdWU7XG4gICAgICAgICAgICB0aGlzLkV0KHQsIDQ1KSwgdC5kdChuLmxhdGl0dWRlIHx8IDApLCB0LmR0KG4ubG9uZ2l0dWRlIHx8IDApO1xuICAgICAgICB9IGVsc2UgXCJtYXBWYWx1ZVwiIGluIGUgPyBfX1BSSVZBVEVfaXNNYXhWYWx1ZShlKSA/IHRoaXMuRXQodCwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIDogKHRoaXMueXQoZS5tYXBWYWx1ZSwgdCksIFxuICAgICAgICB0aGlzLlZ0KHQpKSA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyAodGhpcy53dChlLmFycmF5VmFsdWUsIHQpLCB0aGlzLlZ0KHQpKSA6IGZhaWwoKTtcbiAgICB9XG4gICAgUnQoZSwgdCkge1xuICAgICAgICB0aGlzLkV0KHQsIDI1KSwgdGhpcy5TdChlLCB0KTtcbiAgICB9XG4gICAgU3QoZSwgdCkge1xuICAgICAgICB0LkF0KGUpO1xuICAgIH1cbiAgICB5dChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBlLmZpZWxkcyB8fCB7fTtcbiAgICAgICAgdGhpcy5FdCh0LCA1NSk7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhuKSkgdGhpcy5SdChlLCB0KSwgdGhpcy5JdChuW2VdLCB0KTtcbiAgICB9XG4gICAgd3QoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gZS52YWx1ZXMgfHwgW107XG4gICAgICAgIHRoaXMuRXQodCwgNTApO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgbikgdGhpcy5JdChlLCB0KTtcbiAgICB9XG4gICAgZ3QoZSwgdCkge1xuICAgICAgICB0aGlzLkV0KHQsIDM3KTtcbiAgICAgICAgRG9jdW1lbnRLZXkuZnJvbU5hbWUoZSkucGF0aC5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuRXQodCwgNjApLCB0aGlzLlN0KGUsIHQpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIEV0KGUsIHQpIHtcbiAgICAgICAgZS5kdCh0KTtcbiAgICB9XG4gICAgVnQoZSkge1xuICAgICAgICAvLyBXaGlsZSB0aGUgU0RLIGRvZXMgbm90IGltcGxlbWVudCB0cnVuY2F0aW9uLCB0aGUgdHJ1bmNhdGlvbiBtYXJrZXIgaXNcbiAgICAgICAgLy8gdXNlZCB0byB0ZXJtaW5hdGUgYWxsIHZhcmlhYmxlIGxlbmd0aCB2YWx1ZXMgKHdoaWNoIGFyZSBzdHJpbmdzLCBieXRlcyxcbiAgICAgICAgLy8gcmVmZXJlbmNlcywgYXJyYXlzIGFuZCBtYXBzKS5cbiAgICAgICAgZS5kdCgyKTtcbiAgICB9XG59XG5cbl9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyLmJ0ID0gbmV3IF9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyO1xuXG4vKipcbiAqIENvdW50cyB0aGUgbnVtYmVyIG9mIHplcm9zIGluIGEgYnl0ZS5cbiAqXG4gKiBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbnVtYmVyT2ZMZWFkaW5nWmVyb3NJbkJ5dGUoZSkge1xuICAgIGlmICgwID09PSBlKSByZXR1cm4gODtcbiAgICBsZXQgdCA9IDA7XG4gICAgcmV0dXJuIGUgPj4gNCA9PSAwICYmIChcbiAgICAvLyBUZXN0IGlmIHRoZSBmaXJzdCBmb3VyIGJpdHMgYXJlIHplcm8uXG4gICAgdCArPSA0LCBlIDw8PSA0KSwgZSA+PiA2ID09IDAgJiYgKFxuICAgIC8vIFRlc3QgaWYgdGhlIGZpcnN0IHR3byAob3IgbmV4dCB0d28pIGJpdHMgYXJlIHplcm8uXG4gICAgdCArPSAyLCBlIDw8PSAyKSwgZSA+PiA3ID09IDAgJiYgKFxuICAgIC8vIFRlc3QgaWYgdGhlIHJlbWFpbmluZyBiaXQgaXMgemVyby5cbiAgICB0ICs9IDEpLCB0O1xufVxuXG4vKiogQ291bnRzIHRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBpbiB0aGUgZ2l2ZW4gYnl0ZSBhcnJheS4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHJlcXVpcmVkIHRvIHN0b3JlIFwidmFsdWVcIi4gTGVhZGluZyB6ZXJvIGJ5dGVzXG4gKiBhcmUgc2tpcHBlZC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3Vuc2lnbmVkTnVtTGVuZ3RoKGUpIHtcbiAgICAvLyBUaGlzIGlzIGp1c3QgdGhlIG51bWJlciBvZiBieXRlcyBmb3IgdGhlIHVuc2lnbmVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIuXG4gICAgY29uc3QgdCA9IDY0IC0gZnVuY3Rpb24gX19QUklWQVRFX251bWJlck9mTGVhZGluZ1plcm9zKGUpIHtcbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IDg7ICsrbikge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9udW1iZXJPZkxlYWRpbmdaZXJvc0luQnl0ZSgyNTUgJiBlW25dKTtcbiAgICAgICAgICAgIGlmICh0ICs9IHIsIDggIT09IHIpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH0oZSk7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0IC8gOCk7XG59XG5cbi8qKlxuICogT3JkZXJlZENvZGVXcml0ZXIgaXMgYSBtaW5pbWFsLWFsbG9jYXRpb24gaW1wbGVtZW50YXRpb24gb2YgdGhlIHdyaXRpbmdcbiAqIGJlaGF2aW9yIGRlZmluZWQgYnkgdGhlIGJhY2tlbmQuXG4gKlxuICogVGhlIGNvZGUgaXMgcG9ydGVkIGZyb20gaXRzIEphdmEgY291bnRlcnBhcnQuXG4gKi8gY2xhc3MgX19QUklWQVRFX09yZGVyZWRDb2RlV3JpdGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSgxMDI0KSwgdGhpcy5wb3NpdGlvbiA9IDA7XG4gICAgfVxuICAgIER0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICBsZXQgbiA9IHQubmV4dCgpO1xuICAgICAgICBmb3IgKDshbi5kb25lOyApIHRoaXMuQ3Qobi52YWx1ZSksIG4gPSB0Lm5leHQoKTtcbiAgICAgICAgdGhpcy52dCgpO1xuICAgIH1cbiAgICBGdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgbGV0IG4gPSB0Lm5leHQoKTtcbiAgICAgICAgZm9yICg7IW4uZG9uZTsgKSB0aGlzLk10KG4udmFsdWUpLCBuID0gdC5uZXh0KCk7XG4gICAgICAgIHRoaXMueHQoKTtcbiAgICB9XG4gICAgLyoqIFdyaXRlcyB1dGY4IGJ5dGVzIGludG8gdGhpcyBieXRlIHNlcXVlbmNlLCBhc2NlbmRpbmcuICovICAgIE90KGUpIHtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZSA8IDEyOCkgdGhpcy5DdChlKTsgZWxzZSBpZiAoZSA8IDIwNDgpIHRoaXMuQ3QoOTYwIHwgZSA+Pj4gNiksIHRoaXMuQ3QoMTI4IHwgNjMgJiBlKTsgZWxzZSBpZiAodCA8IFwiXFx1ZDgwMFwiIHx8IFwiXFx1ZGJmZlwiIDwgdCkgdGhpcy5DdCg0ODAgfCBlID4+PiAxMiksIFxuICAgICAgICAgICAgdGhpcy5DdCgxMjggfCA2MyAmIGUgPj4+IDYpLCB0aGlzLkN0KDEyOCB8IDYzICYgZSk7IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0LmNvZGVQb2ludEF0KDApO1xuICAgICAgICAgICAgICAgIHRoaXMuQ3QoMjQwIHwgZSA+Pj4gMTgpLCB0aGlzLkN0KDEyOCB8IDYzICYgZSA+Pj4gMTIpLCB0aGlzLkN0KDEyOCB8IDYzICYgZSA+Pj4gNiksIFxuICAgICAgICAgICAgICAgIHRoaXMuQ3QoMTI4IHwgNjMgJiBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZ0KCk7XG4gICAgfVxuICAgIC8qKiBXcml0ZXMgdXRmOCBieXRlcyBpbnRvIHRoaXMgYnl0ZSBzZXF1ZW5jZSwgZGVzY2VuZGluZyAqLyAgICBOdChlKSB7XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiBlKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgaWYgKGUgPCAxMjgpIHRoaXMuTXQoZSk7IGVsc2UgaWYgKGUgPCAyMDQ4KSB0aGlzLk10KDk2MCB8IGUgPj4+IDYpLCB0aGlzLk10KDEyOCB8IDYzICYgZSk7IGVsc2UgaWYgKHQgPCBcIlxcdWQ4MDBcIiB8fCBcIlxcdWRiZmZcIiA8IHQpIHRoaXMuTXQoNDgwIHwgZSA+Pj4gMTIpLCBcbiAgICAgICAgICAgIHRoaXMuTXQoMTI4IHwgNjMgJiBlID4+PiA2KSwgdGhpcy5NdCgxMjggfCA2MyAmIGUpOyBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdC5jb2RlUG9pbnRBdCgwKTtcbiAgICAgICAgICAgICAgICB0aGlzLk10KDI0MCB8IGUgPj4+IDE4KSwgdGhpcy5NdCgxMjggfCA2MyAmIGUgPj4+IDEyKSwgdGhpcy5NdCgxMjggfCA2MyAmIGUgPj4+IDYpLCBcbiAgICAgICAgICAgICAgICB0aGlzLk10KDEyOCB8IDYzICYgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54dCgpO1xuICAgIH1cbiAgICBMdChlKSB7XG4gICAgICAgIC8vIFZhbHVlcyBhcmUgZW5jb2RlZCB3aXRoIGEgc2luZ2xlIGJ5dGUgbGVuZ3RoIHByZWZpeCwgZm9sbG93ZWQgYnkgdGhlXG4gICAgICAgIC8vIGFjdHVhbCB2YWx1ZSBpbiBiaWctZW5kaWFuIGZvcm1hdCB3aXRoIGxlYWRpbmcgMCBieXRlcyBkcm9wcGVkLlxuICAgICAgICBjb25zdCB0ID0gdGhpcy5CdChlKSwgbiA9IF9fUFJJVkFURV91bnNpZ25lZE51bUxlbmd0aCh0KTtcbiAgICAgICAgdGhpcy5rdCgxICsgbiksIHRoaXMuYnVmZmVyW3RoaXMucG9zaXRpb24rK10gPSAyNTUgJiBuO1xuICAgICAgICAvLyBXcml0ZSB0aGUgbGVuZ3RoXG4gICAgICAgIGZvciAobGV0IGUgPSB0Lmxlbmd0aCAtIG47IGUgPCB0Lmxlbmd0aDsgKytlKSB0aGlzLmJ1ZmZlclt0aGlzLnBvc2l0aW9uKytdID0gMjU1ICYgdFtlXTtcbiAgICB9XG4gICAgcXQoZSkge1xuICAgICAgICAvLyBWYWx1ZXMgYXJlIGVuY29kZWQgd2l0aCBhIHNpbmdsZSBieXRlIGxlbmd0aCBwcmVmaXgsIGZvbGxvd2VkIGJ5IHRoZVxuICAgICAgICAvLyBpbnZlcnRlZCB2YWx1ZSBpbiBiaWctZW5kaWFuIGZvcm1hdCB3aXRoIGxlYWRpbmcgMCBieXRlcyBkcm9wcGVkLlxuICAgICAgICBjb25zdCB0ID0gdGhpcy5CdChlKSwgbiA9IF9fUFJJVkFURV91bnNpZ25lZE51bUxlbmd0aCh0KTtcbiAgICAgICAgdGhpcy5rdCgxICsgbiksIHRoaXMuYnVmZmVyW3RoaXMucG9zaXRpb24rK10gPSB+KDI1NSAmIG4pO1xuICAgICAgICAvLyBXcml0ZSB0aGUgbGVuZ3RoXG4gICAgICAgIGZvciAobGV0IGUgPSB0Lmxlbmd0aCAtIG47IGUgPCB0Lmxlbmd0aDsgKytlKSB0aGlzLmJ1ZmZlclt0aGlzLnBvc2l0aW9uKytdID0gfigyNTUgJiB0W2VdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRoZSBcImluZmluaXR5XCIgYnl0ZSBzZXF1ZW5jZSB0aGF0IHNvcnRzIGFmdGVyIGFsbCBvdGhlciBieXRlXG4gICAgICogc2VxdWVuY2VzIHdyaXR0ZW4gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqLyAgICBRdCgpIHtcbiAgICAgICAgdGhpcy5LdCgyNTUpLCB0aGlzLkt0KDI1NSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyB0aGUgXCJpbmZpbml0eVwiIGJ5dGUgc2VxdWVuY2UgdGhhdCBzb3J0cyBiZWZvcmUgYWxsIG90aGVyIGJ5dGVcbiAgICAgKiBzZXF1ZW5jZXMgd3JpdHRlbiBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqLyAgICAkdCgpIHtcbiAgICAgICAgdGhpcy5VdCgyNTUpLCB0aGlzLlV0KDI1NSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgYnVmZmVyIHN1Y2ggdGhhdCBpdCBpcyB0aGUgc2FtZSBhcyB3aGVuIGl0IHdhcyBuZXdseVxuICAgICAqIGNvbnN0cnVjdGVkLlxuICAgICAqLyAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IDA7XG4gICAgfVxuICAgIHNlZWQoZSkge1xuICAgICAgICB0aGlzLmt0KGUubGVuZ3RoKSwgdGhpcy5idWZmZXIuc2V0KGUsIHRoaXMucG9zaXRpb24pLCB0aGlzLnBvc2l0aW9uICs9IGUubGVuZ3RoO1xuICAgIH1cbiAgICAvKiogTWFrZXMgYSBjb3B5IG9mIHRoZSBlbmNvZGVkIGJ5dGVzIGluIHRoaXMgYnVmZmVyLiAgKi8gICAgV3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5zbGljZSgwLCB0aGlzLnBvc2l0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyBgdmFsYCBpbnRvIGFuIGVuY29kaW5nIHNvIHRoYXQgdGhlIG9yZGVyIG1hdGNoZXMgdGhlIElFRUUgNzU0XG4gICAgICogZmxvYXRpbmctcG9pbnQgY29tcGFyaXNvbiByZXN1bHRzIHdpdGggdGhlIGZvbGxvd2luZyBleGNlcHRpb25zOlxuICAgICAqICAgLTAuMCA8IDAuMFxuICAgICAqICAgYWxsIG5vbi1OYU4gPCBOYU5cbiAgICAgKiAgIE5hTiA9IE5hTlxuICAgICAqLyAgICBCdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBcbiAgICAgICAgLyoqIENvbnZlcnRzIGEgSmF2YVNjcmlwdCBudW1iZXIgdG8gYSBieXRlIGFycmF5ICh1c2luZyBiaWcgZW5kaWFuIGVuY29kaW5nKS4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2RvdWJsZVRvTG9uZ0JpdHMoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoOCkpO1xuICAgICAgICAgICAgcmV0dXJuIHQuc2V0RmxvYXQ2NCgwLCBlLCAvKiBsaXR0bGVFbmRpYW49ICovICExKSwgbmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpO1xuICAgICAgICB9KGUpLCBuID0gMCAhPSAoMTI4ICYgdFswXSk7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBmaXJzdCBiaXQgaXMgc2V0LiBXZSB1c2UgYSBiaXQgbWFzayBzaW5jZSB2YWx1ZVswXSBpc1xuICAgICAgICAvLyBlbmNvZGVkIGFzIGEgbnVtYmVyIGZyb20gMCB0byAyNTUuXG4gICAgICAgICAgICAgICAgLy8gUmV2ZXJ0IHRoZSB0d28gY29tcGxlbWVudCB0byBnZXQgbmF0dXJhbCBvcmRlcmluZ1xuICAgICAgICB0WzBdIF49IG4gPyAyNTUgOiAxMjg7XG4gICAgICAgIGZvciAobGV0IGUgPSAxOyBlIDwgdC5sZW5ndGg7ICsrZSkgdFtlXSBePSBuID8gMjU1IDogMDtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIC8qKiBXcml0ZXMgYSBzaW5nbGUgYnl0ZSBhc2NlbmRpbmcgdG8gdGhlIGJ1ZmZlci4gKi8gICAgQ3QoZSkge1xuICAgICAgICBjb25zdCB0ID0gMjU1ICYgZTtcbiAgICAgICAgMCA9PT0gdCA/ICh0aGlzLkt0KDApLCB0aGlzLkt0KDI1NSkpIDogMjU1ID09PSB0ID8gKHRoaXMuS3QoMjU1KSwgdGhpcy5LdCgwKSkgOiB0aGlzLkt0KHQpO1xuICAgIH1cbiAgICAvKiogV3JpdGVzIGEgc2luZ2xlIGJ5dGUgZGVzY2VuZGluZyB0byB0aGUgYnVmZmVyLiAgKi8gICAgTXQoZSkge1xuICAgICAgICBjb25zdCB0ID0gMjU1ICYgZTtcbiAgICAgICAgMCA9PT0gdCA/ICh0aGlzLlV0KDApLCB0aGlzLlV0KDI1NSkpIDogMjU1ID09PSB0ID8gKHRoaXMuVXQoMjU1KSwgdGhpcy5VdCgwKSkgOiB0aGlzLlV0KGUpO1xuICAgIH1cbiAgICB2dCgpIHtcbiAgICAgICAgdGhpcy5LdCgwKSwgdGhpcy5LdCgxKTtcbiAgICB9XG4gICAgeHQoKSB7XG4gICAgICAgIHRoaXMuVXQoMCksIHRoaXMuVXQoMSk7XG4gICAgfVxuICAgIEt0KGUpIHtcbiAgICAgICAgdGhpcy5rdCgxKSwgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IGU7XG4gICAgfVxuICAgIFV0KGUpIHtcbiAgICAgICAgdGhpcy5rdCgxKSwgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IH5lO1xuICAgIH1cbiAgICBrdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlICsgdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgaWYgKHQgPD0gdGhpcy5idWZmZXIubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIC8vIFRyeSBkb3VibGluZy5cbiAgICAgICAgICAgICAgICBsZXQgbiA9IDIgKiB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIC8vIFN0aWxsIG5vdCBiaWcgZW5vdWdoPyBKdXN0IGFsbG9jYXRlIHRoZSByaWdodCBzaXplLlxuICAgICAgICAgICAgICAgIG4gPCB0ICYmIChuID0gdCk7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IGJ1ZmZlci5cbiAgICAgICAgICAgICAgICBjb25zdCByID0gbmV3IFVpbnQ4QXJyYXkobik7XG4gICAgICAgIHIuc2V0KHRoaXMuYnVmZmVyKSwgLy8gY29weSBvbGQgZGF0YVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IHI7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfQXNjZW5kaW5nSW5kZXhCeXRlRW5jb2RlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLkd0ID0gZTtcbiAgICB9XG4gICAgZnQoZSkge1xuICAgICAgICB0aGlzLkd0LkR0KGUpO1xuICAgIH1cbiAgICBBdChlKSB7XG4gICAgICAgIHRoaXMuR3QuT3QoZSk7XG4gICAgfVxuICAgIGR0KGUpIHtcbiAgICAgICAgdGhpcy5HdC5MdChlKTtcbiAgICB9XG4gICAgVHQoKSB7XG4gICAgICAgIHRoaXMuR3QuUXQoKTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9EZXNjZW5kaW5nSW5kZXhCeXRlRW5jb2RlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLkd0ID0gZTtcbiAgICB9XG4gICAgZnQoZSkge1xuICAgICAgICB0aGlzLkd0LkZ0KGUpO1xuICAgIH1cbiAgICBBdChlKSB7XG4gICAgICAgIHRoaXMuR3QuTnQoZSk7XG4gICAgfVxuICAgIGR0KGUpIHtcbiAgICAgICAgdGhpcy5HdC5xdChlKTtcbiAgICB9XG4gICAgVHQoKSB7XG4gICAgICAgIHRoaXMuR3QuJHQoKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBgRGlyZWN0aW9uYWxJbmRleEJ5dGVFbmNvZGVyYCB1c2luZyBgT3JkZXJlZENvZGVXcml0ZXJgIGZvciB0aGVcbiAqIGFjdHVhbCBlbmNvZGluZy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2RlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuR3QgPSBuZXcgX19QUklWQVRFX09yZGVyZWRDb2RlV3JpdGVyLCB0aGlzLnp0ID0gbmV3IF9fUFJJVkFURV9Bc2NlbmRpbmdJbmRleEJ5dGVFbmNvZGVyKHRoaXMuR3QpLCBcbiAgICAgICAgdGhpcy5qdCA9IG5ldyBfX1BSSVZBVEVfRGVzY2VuZGluZ0luZGV4Qnl0ZUVuY29kZXIodGhpcy5HdCk7XG4gICAgfVxuICAgIHNlZWQoZSkge1xuICAgICAgICB0aGlzLkd0LnNlZWQoZSk7XG4gICAgfVxuICAgIEh0KGUpIHtcbiAgICAgICAgcmV0dXJuIDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLyA9PT0gZSA/IHRoaXMuenQgOiB0aGlzLmp0O1xuICAgIH1cbiAgICBXdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuR3QuV3QoKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuR3QucmVzZXQoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogUmVwcmVzZW50cyBhbiBpbmRleCBlbnRyeSBzYXZlZCBieSB0aGUgU0RLIGluIHBlcnNpc3RlZCBzdG9yYWdlLiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhFbnRyeSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLmluZGV4SWQgPSBlLCB0aGlzLmRvY3VtZW50S2V5ID0gdCwgdGhpcy5hcnJheVZhbHVlID0gbiwgdGhpcy5kaXJlY3Rpb25hbFZhbHVlID0gcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBJbmRleEVudHJ5IGVudHJ5IHRoYXQgc29ydHMgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGN1cnJlbnRcbiAgICAgKiBkaXJlY3Rpb25hbCB2YWx1ZS5cbiAgICAgKi8gICAgSnQoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmRpcmVjdGlvbmFsVmFsdWUubGVuZ3RoLCB0ID0gMCA9PT0gZSB8fCAyNTUgPT09IHRoaXMuZGlyZWN0aW9uYWxWYWx1ZVtlIC0gMV0gPyBlICsgMSA6IGUsIG4gPSBuZXcgVWludDhBcnJheSh0KTtcbiAgICAgICAgcmV0dXJuIG4uc2V0KHRoaXMuZGlyZWN0aW9uYWxWYWx1ZSwgMCksIHQgIT09IGUgPyBuLnNldChbIDAgXSwgdGhpcy5kaXJlY3Rpb25hbFZhbHVlLmxlbmd0aCkgOiArK25bbi5sZW5ndGggLSAxXSwgXG4gICAgICAgIG5ldyBfX1BSSVZBVEVfSW5kZXhFbnRyeSh0aGlzLmluZGV4SWQsIHRoaXMuZG9jdW1lbnRLZXksIHRoaXMuYXJyYXlWYWx1ZSwgbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoZSwgdCkge1xuICAgIGxldCBuID0gZS5pbmRleElkIC0gdC5pbmRleElkO1xuICAgIHJldHVybiAwICE9PSBuID8gbiA6IChuID0gX19QUklWQVRFX2NvbXBhcmVCeXRlQXJyYXlzKGUuYXJyYXlWYWx1ZSwgdC5hcnJheVZhbHVlKSwgXG4gICAgMCAhPT0gbiA/IG4gOiAobiA9IF9fUFJJVkFURV9jb21wYXJlQnl0ZUFycmF5cyhlLmRpcmVjdGlvbmFsVmFsdWUsIHQuZGlyZWN0aW9uYWxWYWx1ZSksIFxuICAgIDAgIT09IG4gPyBuIDogRG9jdW1lbnRLZXkuY29tcGFyYXRvcihlLmRvY3VtZW50S2V5LCB0LmRvY3VtZW50S2V5KSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZUJ5dGVBcnJheXMoZSwgdCkge1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5sZW5ndGggJiYgbiA8IHQubGVuZ3RoOyArK24pIHtcbiAgICAgICAgY29uc3QgciA9IGVbbl0gLSB0W25dO1xuICAgICAgICBpZiAoMCAhPT0gcikgcmV0dXJuIHI7XG4gICAgfVxuICAgIHJldHVybiBlLmxlbmd0aCAtIHQubGVuZ3RoO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGxpZ2h0IHF1ZXJ5IHBsYW5uZXIgZm9yIEZpcmVzdG9yZS5cbiAqXG4gKiBUaGlzIGNsYXNzIG1hdGNoZXMgYSBgRmllbGRJbmRleGAgYWdhaW5zdCBhIEZpcmVzdG9yZSBRdWVyeSBgVGFyZ2V0YC4gSXRcbiAqIGRldGVybWluZXMgd2hldGhlciBhIGdpdmVuIGluZGV4IGNhbiBiZSB1c2VkIHRvIHNlcnZlIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgdGFibGUgc2hvd2Nhc2VzIHNvbWUgcG9zc2libGUgaW5kZXggY29uZmlndXJhdGlvbnM6XG4gKlxuICogUXVlcnkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgSW5kZXhcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiB3aGVyZSgnYScsICc9PScsICdhJykud2hlcmUoJ2InLCAnPT0nLCAnYicpICAgICAgICAgfCBhIEFTQywgYiBERVNDXG4gKiB3aGVyZSgnYScsICc9PScsICdhJykud2hlcmUoJ2InLCAnPT0nLCAnYicpICAgICAgICAgfCBhIEFTQ1xuICogd2hlcmUoJ2EnLCAnPT0nLCAnYScpLndoZXJlKCdiJywgJz09JywgJ2InKSAgICAgICAgIHwgYiBERVNDXG4gKiB3aGVyZSgnYScsICc+PScsICdhJykub3JkZXJCeSgnYScpICAgICAgICAgICAgICAgICAgfCBhIEFTQ1xuICogd2hlcmUoJ2EnLCAnPj0nLCAnYScpLm9yZGVyQnkoJ2EnLCAnZGVzYycpICAgICAgICAgIHwgYSBERVNDXG4gKiB3aGVyZSgnYScsICc+PScsICdhJykub3JkZXJCeSgnYScpLm9yZGVyQnkoJ2InKSAgICAgfCBhIEFTQywgYiBBU0NcbiAqIHdoZXJlKCdhJywgJz49JywgJ2EnKS5vcmRlckJ5KCdhJykub3JkZXJCeSgnYicpICAgICB8IGEgQVNDXG4gKiB3aGVyZSgnYScsICdhcnJheS1jb250YWlucycsICdhJykub3JkZXJCeSgnYicpICAgICAgfCBhIENPTlRBSU5TLCBiIEFTQ0VORElOR1xuICogd2hlcmUoJ2EnLCAnYXJyYXktY29udGFpbnMnLCAnYScpLm9yZGVyQnkoJ2InKSAgICAgIHwgYSBDT05UQUlOU1xuICovIGNsYXNzIF9fUFJJVkFURV9UYXJnZXRJbmRleE1hdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgLy8gVGhlIGluZXF1YWxpdHkgZmlsdGVycyBvZiB0aGUgdGFyZ2V0IChpZiBpdCBleGlzdHMpLlxuICAgICAgICAvLyBOb3RlOiBUaGUgc29ydCBvbiBGaWVsZEZpbHRlcnMgaXMgbm90IHJlcXVpcmVkLiBVc2luZyBTb3J0ZWRTZXQgaGVyZSBqdXN0IHRvIHV0aWxpemUgdGhlIGN1c3RvbVxuICAgICAgICAvLyBjb21wYXJhdG9yLlxuICAgICAgICB0aGlzLll0ID0gbmV3IFNvcnRlZFNldCgoKGUsIHQpID0+IEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IoZS5maWVsZCwgdC5maWVsZCkpKSwgdGhpcy5jb2xsZWN0aW9uSWQgPSBudWxsICE9IGUuY29sbGVjdGlvbkdyb3VwID8gZS5jb2xsZWN0aW9uR3JvdXAgOiBlLnBhdGgubGFzdFNlZ21lbnQoKSwgXG4gICAgICAgIHRoaXMuWnQgPSBlLm9yZGVyQnksIHRoaXMuWHQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUuZmlsdGVycykge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQ7XG4gICAgICAgICAgICBlLmlzSW5lcXVhbGl0eSgpID8gdGhpcy5ZdCA9IHRoaXMuWXQuYWRkKGUpIDogdGhpcy5YdC5wdXNoKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWXQuc2l6ZSA+IDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgaW5kZXggY2FuIGJlIHVzZWQgdG8gc2VydmUgdGhlIFRhcmdldEluZGV4TWF0Y2hlcidzXG4gICAgICogdGFyZ2V0LlxuICAgICAqXG4gICAgICogQW4gaW5kZXggaXMgY29uc2lkZXJlZCBjYXBhYmxlIG9mIHNlcnZpbmcgdGhlIHRhcmdldCB3aGVuOlxuICAgICAqIC0gVGhlIHRhcmdldCB1c2VzIGFsbCBpbmRleCBzZWdtZW50cyBmb3IgaXRzIGZpbHRlcnMgYW5kIG9yZGVyQnkgY2xhdXNlcy5cbiAgICAgKiAgIFRoZSB0YXJnZXQgY2FuIGhhdmUgYWRkaXRpb25hbCBmaWx0ZXIgYW5kIG9yZGVyQnkgY2xhdXNlcywgYnV0IG5vdFxuICAgICAqICAgZmV3ZXIuXG4gICAgICogLSBJZiBhbiBBcnJheUNvbnRhaW5zL0FycmF5Q29udGFpbnNBbnlmaWx0ZXIgaXMgdXNlZCwgdGhlIGluZGV4IG11c3QgYWxzb1xuICAgICAqICAgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgYENPTlRBSU5TYCBzZWdtZW50LlxuICAgICAqIC0gQWxsIGRpcmVjdGlvbmFsIGluZGV4IHNlZ21lbnRzIGNhbiBiZSBtYXBwZWQgdG8gdGhlIHRhcmdldCBhcyBhIHNlcmllcyBvZlxuICAgICAqICAgZXF1YWxpdHkgZmlsdGVycywgYSBzaW5nbGUgaW5lcXVhbGl0eSBmaWx0ZXIgYW5kIGEgc2VyaWVzIG9mIG9yZGVyQnlcbiAgICAgKiAgIGNsYXVzZXMuXG4gICAgICogLSBUaGUgc2VnbWVudHMgdGhhdCByZXByZXNlbnQgdGhlIGVxdWFsaXR5IGZpbHRlcnMgbWF5IGFwcGVhciBvdXQgb2Ygb3JkZXIuXG4gICAgICogLSBUaGUgb3B0aW9uYWwgc2VnbWVudCBmb3IgdGhlIGluZXF1YWxpdHkgZmlsdGVyIG11c3QgYXBwZWFyIGFmdGVyIGFsbFxuICAgICAqICAgZXF1YWxpdHkgc2VnbWVudHMuXG4gICAgICogLSBUaGUgc2VnbWVudHMgdGhhdCByZXByZXNlbnQgdGhhdCBvcmRlckJ5IGNsYXVzZSBvZiB0aGUgdGFyZ2V0IG11c3QgYXBwZWFyXG4gICAgICogICBpbiBvcmRlciBhZnRlciBhbGwgZXF1YWxpdHkgYW5kIGluZXF1YWxpdHkgc2VnbWVudHMuIFNpbmdsZSBvcmRlckJ5XG4gICAgICogICBjbGF1c2VzIGNhbm5vdCBiZSBza2lwcGVkLCBidXQgYSBjb250aW51b3VzIG9yZGVyQnkgc3VmZml4IG1heSBiZVxuICAgICAqICAgb21pdHRlZC5cbiAgICAgKi8gICAgdG4oZSkge1xuICAgICAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQoZS5jb2xsZWN0aW9uR3JvdXAgPT09IHRoaXMuY29sbGVjdGlvbklkKSwgdGhpcy5lbikgXG4gICAgICAgIC8vIE9ubHkgc2luZ2xlIGluZXF1YWxpdHkgaXMgc3VwcG9ydGVkIGZvciBub3cuXG4gICAgICAgIC8vIFRPRE8oQWRkIHN1cHBvcnQgZm9yIG11bHRpcGxlIGluZXF1YWxpdHkgcXVlcnkpOiBiLzI5ODQ0MTA0M1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGFycmF5IGVsZW1lbnQsIGZpbmQgYSBtYXRjaGluZyBmaWx0ZXIuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9maWVsZEluZGV4R2V0QXJyYXlTZWdtZW50KGUpO1xuICAgICAgICBpZiAodm9pZCAwICE9PSB0ICYmICF0aGlzLm5uKHQpKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHMoZSk7XG4gICAgICAgIGxldCByID0gbmV3IFNldCwgaSA9IDAsIHMgPSAwO1xuICAgICAgICAvLyBQcm9jZXNzIGFsbCBlcXVhbGl0aWVzIGZpcnN0LiBFcXVhbGl0aWVzIGNhbiBhcHBlYXIgb3V0IG9mIG9yZGVyLlxuICAgICAgICBmb3IgKDtpIDwgbi5sZW5ndGggJiYgdGhpcy5ubihuW2ldKTsgKytpKSByID0gci5hZGQobltpXS5maWVsZFBhdGguY2Fub25pY2FsU3RyaW5nKCkpO1xuICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgcHJvY2Vzc2VkIGFsbCBzZWdtZW50cywgYWxsIHNlZ21lbnRzIGFyZSB1c2VkIHRvIHNlcnZlXG4gICAgICAgIC8vIHRoZSBlcXVhbGl0eSBmaWx0ZXJzIGFuZCB3ZSBkbyBub3QgbmVlZCB0byBtYXAgYW55IHNlZ21lbnRzIHRvIHRoZVxuICAgICAgICAvLyB0YXJnZXQncyBpbmVxdWFsaXR5IGFuZCBvcmRlckJ5IGNsYXVzZXMuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IG4ubGVuZ3RoKSByZXR1cm4gITA7XG4gICAgICAgIGlmICh0aGlzLll0LnNpemUgPiAwKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGEgc2luZ2xlIGluZXF1YWxpdHkgaXMgY3VycmVudGx5IHN1cHBvcnRlZC4gR2V0IHRoZSBvbmx5IGVudHJ5IGluIHRoZSBzZXQuXG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5ZdC5nZXRJdGVyYXRvcigpLmdldE5leHQoKTtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGluZXF1YWxpdHkgZmlsdGVyIGFuZCB0aGUgZmllbGQgd2FzIG5vdCBpbiBvbmUgb2YgdGhlXG4gICAgICAgICAgICAvLyBlcXVhbGl0eSBmaWx0ZXJzIGFib3ZlLCB0aGUgbmV4dCBzZWdtZW50IG11c3QgbWF0Y2ggYm90aCB0aGUgZmlsdGVyXG4gICAgICAgICAgICAvLyBhbmQgdGhlIGZpcnN0IG9yZGVyQnkgY2xhdXNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyLmhhcyhlLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuW2ldO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ybihlLCB0KSB8fCAhdGhpcy5zbih0aGlzLlp0W3MrK10sIHQpKSByZXR1cm4gITE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK2k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxsIHJlbWFpbmluZyBzZWdtZW50cyBuZWVkIHRvIHJlcHJlc2VudCB0aGUgcHJlZml4IG9mIHRoZSB0YXJnZXQnc1xuICAgICAgICAvLyBvcmRlckJ5LlxuICAgICAgICAgICAgICAgIGZvciAoO2kgPCBuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbltpXTtcbiAgICAgICAgICAgIGlmIChzID49IHRoaXMuWnQubGVuZ3RoIHx8ICF0aGlzLnNuKHRoaXMuWnRbcysrXSwgZSkpIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdWxsIG1hdGNoZWQgZmllbGQgaW5kZXggZm9yIHRoaXMgdGFyZ2V0LiBDdXJyZW50bHkgbXVsdGlwbGVcbiAgICAgKiBpbmVxdWFsaXR5IHF1ZXJ5IGlzIG5vdCBzdXBwb3J0ZWQgc28gZnVuY3Rpb24gcmV0dXJucyBudWxsLlxuICAgICAqLyAgICBvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZW4pIHJldHVybiBudWxsO1xuICAgICAgICAvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSBvbmx5IG9uZSBzZWdtZW50IGNyZWF0ZWQgZm9yIG9uZSBmaWVsZC4gRm9yIGV4YW1wbGUsXG4gICAgICAgIC8vIGluIGNhc2UgbGlrZSBhID09IDMgYW5kIGEgPiAyLCBJbmRleCB7YSBBU0NFTkRJTkd9IHdpbGwgb25seSBiZSBjcmVhdGVkXG4gICAgICAgIC8vIG9uY2UuXG4gICAgICAgICAgICAgICAgbGV0IGUgPSBuZXcgU29ydGVkU2V0KEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IpO1xuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiB0aGlzLlh0KSB7XG4gICAgICAgICAgICBpZiAobi5maWVsZC5pc0tleUZpZWxkKCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyA9PT0gbi5vcCB8fCBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyA9PT0gbi5vcCkgdC5wdXNoKG5ldyBJbmRleFNlZ21lbnQobi5maWVsZCwgMiAvKiBJbmRleEtpbmQuQ09OVEFJTlMgKi8pKTsgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuaGFzKG4uZmllbGQpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBlID0gZS5hZGQobi5maWVsZCksIHQucHVzaChuZXcgSW5kZXhTZWdtZW50KG4uZmllbGQsIDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IFdlIGRvIG5vdCBleHBsaWNpdGx5IGNoZWNrIGB0aGlzLmluZXF1YWxpdHlGaWx0ZXJgIGJ1dCByYXRoZXIgcmVseVxuICAgICAgICAvLyBvbiB0aGUgdGFyZ2V0IGRlZmluaW5nIGFuIGFwcHJvcHJpYXRlIFwib3JkZXIgYnlcIiB0byBlbnN1cmUgdGhhdCB0aGVcbiAgICAgICAgLy8gcmVxdWlyZWQgaW5kZXggc2VnbWVudCBpcyBhZGRlZC4gVGhlIHF1ZXJ5IGVuZ2luZSB3b3VsZCByZWplY3QgYSBxdWVyeVxuICAgICAgICAvLyB3aXRoIGFuIGluZXF1YWxpdHkgZmlsdGVyIHRoYXQgbGFja3MgdGhlIHJlcXVpcmVkIG9yZGVyLWJ5IGNsYXVzZS5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5adCkgXG4gICAgICAgIC8vIFN0b3AgYWRkaW5nIG1vcmUgc2VnbWVudHMgaWYgd2Ugc2VlIGEgb3JkZXItYnkgb24ga2V5LiBUeXBpY2FsbHkgdGhpc1xuICAgICAgICAvLyBpcyB0aGUgZGVmYXVsdCBpbXBsaWNpdCBvcmRlci1ieSB3aGljaCBpcyBjb3ZlcmVkIGluIHRoZSBpbmRleF9lbnRyeVxuICAgICAgICAvLyB0YWJsZSBhcyBhIHNlcGFyYXRlIGNvbHVtbi4gSWYgaXQgaXMgbm90IHRoZSBkZWZhdWx0IG9yZGVyLWJ5LCB0aGVcbiAgICAgICAgLy8gZ2VuZXJhdGVkIGluZGV4IHdpbGwgYmUgbWlzc2luZyBzb21lIHNlZ21lbnRzIG9wdGltaXplZCBmb3Igb3JkZXItYnlzLFxuICAgICAgICAvLyB3aGljaCBpcyBwcm9iYWJseSBmaW5lLlxuICAgICAgICBuLmZpZWxkLmlzS2V5RmllbGQoKSB8fCBlLmhhcyhuLmZpZWxkKSB8fCAoZSA9IGUuYWRkKG4uZmllbGQpLCB0LnB1c2gobmV3IEluZGV4U2VnbWVudChuLmZpZWxkLCBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8gPT09IG4uZGlyID8gMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovIDogMSAvKiBJbmRleEtpbmQuREVTQ0VORElORyAqLykpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZEluZGV4KEZpZWxkSW5kZXguVU5LTk9XTl9JRCwgdGhpcy5jb2xsZWN0aW9uSWQsIHQsIEluZGV4U3RhdGUuZW1wdHkoKSk7XG4gICAgfVxuICAgIG5uKGUpIHtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHRoaXMuWHQpIGlmICh0aGlzLnJuKHQsIGUpKSByZXR1cm4gITA7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgcm4oZSwgdCkge1xuICAgICAgICBpZiAodm9pZCAwID09PSBlIHx8ICFlLmZpZWxkLmlzRXF1YWwodC5maWVsZFBhdGgpKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IG4gPSBcImFycmF5LWNvbnRhaW5zXCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlMgKi8gPT09IGUub3AgfHwgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gPT09IGUub3A7XG4gICAgICAgIHJldHVybiAyIC8qIEluZGV4S2luZC5DT05UQUlOUyAqLyA9PT0gdC5raW5kID09PSBuO1xuICAgIH1cbiAgICBzbihlLCB0KSB7XG4gICAgICAgIHJldHVybiAhIWUuZmllbGQuaXNFcXVhbCh0LmZpZWxkUGF0aCkgJiYgKDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLyA9PT0gdC5raW5kICYmIFwiYXNjXCIgLyogRGlyZWN0aW9uLkFTQ0VORElORyAqLyA9PT0gZS5kaXIgfHwgMSAvKiBJbmRleEtpbmQuREVTQ0VORElORyAqLyA9PT0gdC5raW5kICYmIFwiZGVzY1wiIC8qIERpcmVjdGlvbi5ERVNDRU5ESU5HICovID09PSBlLmRpcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQcm92aWRlcyB1dGlsaXR5IGZ1bmN0aW9ucyB0aGF0IGhlbHAgd2l0aCBib29sZWFuIGxvZ2ljIHRyYW5zZm9ybWF0aW9ucyBuZWVkZWQgZm9yIGhhbmRsaW5nXG4gKiBjb21wbGV4IGZpbHRlcnMgdXNlZCBpbiBxdWVyaWVzLlxuICovXG4vKipcbiAqIFRoZSBgaW5gIGZpbHRlciBpcyBvbmx5IGEgc3ludGFjdGljIHN1Z2FyIG92ZXIgYSBkaXNqdW5jdGlvbiBvZiBlcXVhbGl0aWVzLiBGb3IgaW5zdGFuY2U6IGBhIGluXG4gKiBbMSwyLDNdYCBpcyBpbiBmYWN0IGBhPT0xIHx8IGE9PTIgfHwgYT09M2AuIFRoaXMgbWV0aG9kIGV4cGFuZHMgYW55IGBpbmAgZmlsdGVyIGluIHRoZSBnaXZlblxuICogaW5wdXQgaW50byBhIGRpc2p1bmN0aW9uIG9mIGVxdWFsaXR5IGZpbHRlcnMgYW5kIHJldHVybnMgdGhlIGV4cGFuZGVkIGZpbHRlci5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcHV0ZUluRXhwYW5zaW9uKGUpIHtcbiAgICB2YXIgdCwgbjtcbiAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQoZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyIHx8IGUgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpLCBcbiAgICBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfSW5GaWx0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSAobnVsbCA9PT0gKG4gPSBudWxsID09PSAodCA9IGUudmFsdWUuYXJyYXlWYWx1ZSkgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC52YWx1ZXMpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4ubWFwKCh0ID0+IEZpZWxkRmlsdGVyLmNyZWF0ZShlLmZpZWxkLCBcIj09XCIgLyogT3BlcmF0b3IuRVFVQUwgKi8gLCB0KSkpKSB8fCBbXTtcbiAgICAgICAgICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKHIsIFwib3JcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5PUiAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgaGF2ZSByZWFjaGVkIG90aGVyIGtpbmRzIG9mIGZpZWxkIGZpbHRlcnMuXG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICAvLyBXZSBoYXZlIGEgY29tcG9zaXRlIGZpbHRlci5cbiAgICAgICAgY29uc3QgciA9IGUuZmlsdGVycy5tYXAoKGUgPT4gX19QUklWQVRFX2NvbXB1dGVJbkV4cGFuc2lvbihlKSkpO1xuICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKHIsIGUub3ApO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgY29tcG9zaXRlIGZpbHRlciwgcmV0dXJucyB0aGUgbGlzdCBvZiB0ZXJtcyBpbiBpdHMgZGlzanVuY3RpdmUgbm9ybWFsIGZvcm0uXG4gKlxuICogPHA+RWFjaCBlbGVtZW50IGluIHRoZSByZXR1cm4gdmFsdWUgaXMgb25lIHRlcm0gb2YgdGhlIHJlc3VsdGluZyBETkYuIEZvciBpbnN0YW5jZTogRm9yIHRoZVxuICogaW5wdXQ6IChBIHx8IEIpICYmIEMsIHRoZSBETkYgZm9ybSBpczogKEEgJiYgQykgfHwgKEIgJiYgQyksIGFuZCB0aGUgcmV0dXJuIHZhbHVlIGlzIGEgbGlzdFxuICogd2l0aCB0d28gZWxlbWVudHM6IGEgY29tcG9zaXRlIGZpbHRlciB0aGF0IHBlcmZvcm1zIChBICYmIEMpLCBhbmQgYSBjb21wb3NpdGUgZmlsdGVyIHRoYXRcbiAqIHBlcmZvcm1zIChCICYmIEMpLlxuICpcbiAqIEBwYXJhbSBmaWx0ZXIgdGhlIGNvbXBvc2l0ZSBmaWx0ZXIgdG8gY2FsY3VsYXRlIERORiB0cmFuc2Zvcm0gZm9yLlxuICogQHJldHVybiB0aGUgdGVybXMgaW4gdGhlIERORiB0cmFuc2Zvcm0uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2dldERuZlRlcm1zKGUpIHtcbiAgICBpZiAoMCA9PT0gZS5nZXRGaWx0ZXJzKCkubGVuZ3RoKSByZXR1cm4gW107XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9jb21wdXRlRGlzdHJpYnV0ZWROb3JtYWxGb3JtKF9fUFJJVkFURV9jb21wdXRlSW5FeHBhbnNpb24oZSkpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfaGFyZEFzc2VydChfX1BSSVZBVEVfaXNEaXNqdW5jdGl2ZU5vcm1hbEZvcm0odCkpLCBfX1BSSVZBVEVfaXNTaW5nbGVGaWVsZEZpbHRlcih0KSB8fCBfX1BSSVZBVEVfaXNGbGF0Q29uanVuY3Rpb24odCkgPyBbIHQgXSA6IHQuZ2V0RmlsdGVycygpO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBmaWx0ZXIgaXMgYSBzaW5nbGUgZmllbGQgZmlsdGVyLiBlLmcuIChhID09IDEwKS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzU2luZ2xlRmllbGRGaWx0ZXIoZSkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXI7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBmaWx0ZXIgaXMgdGhlIGNvbmp1bmN0aW9uIG9mIG9uZSBvciBtb3JlIGZpZWxkIGZpbHRlcnMuIGUuZy4gKGEgPT0gMTBcbiAqICYmIGIgPT0gMjApXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzRmxhdENvbmp1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciAmJiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0Q29uanVuY3Rpb24oZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZ2l2ZW4gZmlsdGVyIGlzIGluIGRpc2p1bmN0aXZlIG5vcm1hbCBmb3JtIChETkYpLlxuICpcbiAqIDxwPkluIGJvb2xlYW4gbG9naWMsIGEgZGlzanVuY3RpdmUgbm9ybWFsIGZvcm0gKERORikgaXMgYSBjYW5vbmljYWwgbm9ybWFsIGZvcm0gb2YgYSBsb2dpY2FsXG4gKiBmb3JtdWxhIGNvbnNpc3Rpbmcgb2YgYSBkaXNqdW5jdGlvbiBvZiBjb25qdW5jdGlvbnM7IGl0IGNhbiBhbHNvIGJlIGRlc2NyaWJlZCBhcyBhbiBPUiBvZiBBTkRzLlxuICpcbiAqIDxwPkZvciBtb3JlIGluZm8sIHZpc2l0OiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaXNqdW5jdGl2ZV9ub3JtYWxfZm9ybVxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pc0Rpc2p1bmN0aXZlTm9ybWFsRm9ybShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9pc1NpbmdsZUZpZWxkRmlsdGVyKGUpIHx8IF9fUFJJVkFURV9pc0ZsYXRDb25qdW5jdGlvbihlKSB8fCBcbiAgICAvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZmlsdGVyIGlzIHRoZSBkaXNqdW5jdGlvbiBvZiBvbmUgb3IgbW9yZSBcImZsYXQgY29uanVuY3Rpb25zXCIgYW5kXG4gKiBmaWVsZCBmaWx0ZXJzLiBlLmcuIChhID09IDEwKSB8fCAoYj09MjAgJiYgYz09MzApXG4gKi9cbiAgICBmdW5jdGlvbiBfX1BSSVZBVEVfaXNEaXNqdW5jdGlvbk9mRmllbGRGaWx0ZXJzQW5kRmxhdENvbmp1bmN0aW9ucyhlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Rpc2p1bmN0aW9uKGUpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5nZXRGaWx0ZXJzKCkpIGlmICghX19QUklWQVRFX2lzU2luZ2xlRmllbGRGaWx0ZXIodCkgJiYgIV9fUFJJVkFURV9pc0ZsYXRDb25qdW5jdGlvbih0KSkgcmV0dXJuICExO1xuICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9KGUpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29tcHV0ZURpc3RyaWJ1dGVkTm9ybWFsRm9ybShlKSB7XG4gICAgaWYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciB8fCBlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyKSwgXG4gICAgZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyKSByZXR1cm4gZTtcbiAgICBpZiAoMSA9PT0gZS5maWx0ZXJzLmxlbmd0aCkgcmV0dXJuIF9fUFJJVkFURV9jb21wdXRlRGlzdHJpYnV0ZWROb3JtYWxGb3JtKGUuZmlsdGVyc1swXSk7XG4gICAgLy8gQ29tcHV0ZSBETkYgZm9yIGVhY2ggb2YgdGhlIHN1YmZpbHRlcnMgZmlyc3RcbiAgICAgICAgY29uc3QgdCA9IGUuZmlsdGVycy5tYXAoKGUgPT4gX19QUklWQVRFX2NvbXB1dGVEaXN0cmlidXRlZE5vcm1hbEZvcm0oZSkpKTtcbiAgICBsZXQgbiA9IENvbXBvc2l0ZUZpbHRlci5jcmVhdGUodCwgZS5vcCk7XG4gICAgcmV0dXJuIG4gPSBfX1BSSVZBVEVfYXBwbHlBc3NvY2lhdGlvbihuKSwgX19QUklWQVRFX2lzRGlzanVuY3RpdmVOb3JtYWxGb3JtKG4pID8gbiA6IChfX1BSSVZBVEVfaGFyZEFzc2VydChuIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyKSwgXG4gICAgX19QUklWQVRFX2hhcmRBc3NlcnQoX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24obikpLCBfX1BSSVZBVEVfaGFyZEFzc2VydChuLmZpbHRlcnMubGVuZ3RoID4gMSksIFxuICAgIG4uZmlsdGVycy5yZWR1Y2UoKChlLCB0KSA9PiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb24oZSwgdCkpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbihlLCB0KSB7XG4gICAgbGV0IG47XG4gICAgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciB8fCBlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyKSwgXG4gICAgX19QUklWQVRFX2hhcmRBc3NlcnQodCBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyIHx8IHQgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpLCBcbiAgICAvLyBGaWVsZEZpbHRlciBGaWVsZEZpbHRlclxuICAgIG4gPSBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyB0IGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEZpbHRlcnMoZSwgdCkge1xuICAgICAgICAvLyBDb25qdW5jdGlvbiBkaXN0cmlidXRpb24gZm9yIHR3byBmaWVsZCBmaWx0ZXJzIGlzIHRoZSBjb25qdW5jdGlvbiBvZiB0aGVtLlxuICAgICAgICByZXR1cm4gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShbIGUsIHQgXSwgXCJhbmRcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5BTkQgKi8pO1xuICAgIH0oZSwgdCkgOiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEFuZENvbXBvc2l0ZUZpbHRlcnMoZSwgdCkgOiB0IGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEFuZENvbXBvc2l0ZUZpbHRlcnModCwgZSkgOiBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25Db21wb3NpdGVGaWx0ZXJzKGUsIHQpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIGZvdXIgY2FzZXM6XG4gICAgICAgIC8vIChBICYgQikgJiAoQyAmIEQpIC0tPiAoQSAmIEIgJiBDICYgRClcbiAgICAgICAgLy8gKEEgJiBCKSAmIChDIHwgRCkgLS0+IChBICYgQiAmIEMpIHwgKEEgJiBCICYgRClcbiAgICAgICAgLy8gKEEgfCBCKSAmIChDICYgRCkgLS0+IChDICYgRCAmIEEpIHwgKEMgJiBEICYgQilcbiAgICAgICAgLy8gKEEgfCBCKSAmIChDIHwgRCkgLS0+IChBICYgQykgfCAoQSAmIEQpIHwgKEIgJiBDKSB8IChCICYgRClcbiAgICAgICAgLy8gQ2FzZSAxIGlzIGEgbWVyZ2UuXG4gICAgICAgIGlmIChfX1BSSVZBVEVfaGFyZEFzc2VydChlLmZpbHRlcnMubGVuZ3RoID4gMCAmJiB0LmZpbHRlcnMubGVuZ3RoID4gMCksIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKGUpICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKHQpKSByZXR1cm4gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcldpdGhBZGRlZEZpbHRlcnMoZSwgdC5nZXRGaWx0ZXJzKCkpO1xuICAgICAgICAvLyBDYXNlIDIsMyw0IGFsbCBoYXZlIGF0IGxlYXN0IG9uZSBzaWRlIChsaHMgb3IgcmhzKSB0aGF0IGlzIGEgZGlzanVuY3Rpb24uIEluIGFsbCB0aHJlZSBjYXNlc1xuICAgICAgICAvLyB3ZSBzaG91bGQgdGFrZSBlYWNoIGVsZW1lbnQgb2YgdGhlIGRpc2p1bmN0aW9uIGFuZCBkaXN0cmlidXRlIGl0IG92ZXIgdGhlIG90aGVyIHNpZGUsIGFuZFxuICAgICAgICAvLyByZXR1cm4gdGhlIGRpc2p1bmN0aW9uIG9mIHRoZSBkaXN0cmlidXRpb24gcmVzdWx0cy5cbiAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRGlzanVuY3Rpb24oZSkgPyBlIDogdCwgciA9IF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Rpc2p1bmN0aW9uKGUpID8gdCA6IGUsIGkgPSBuLmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbihlLCByKSkpO1xuICAgICAgICByZXR1cm4gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShpLCBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi8pO1xuICAgIH0oZSwgdCksIF9fUFJJVkFURV9hcHBseUFzc29jaWF0aW9uKG4pO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEFuZENvbXBvc2l0ZUZpbHRlcnMoZSwgdCkge1xuICAgIC8vIFRoZXJlIGFyZSB0d28gY2FzZXM6XG4gICAgLy8gQSAmIChCICYgQykgLS0+IChBICYgQiAmIEMpXG4gICAgLy8gQSAmIChCIHwgQykgLS0+IChBICYgQikgfCAoQSAmIEMpXG4gICAgaWYgKF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKHQpKSBcbiAgICAvLyBDYXNlIDFcbiAgICByZXR1cm4gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcldpdGhBZGRlZEZpbHRlcnModCwgZS5nZXRGaWx0ZXJzKCkpO1xuICAgIHtcbiAgICAgICAgLy8gQ2FzZSAyXG4gICAgICAgIGNvbnN0IG4gPSB0LmZpbHRlcnMubWFwKCh0ID0+IF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbihlLCB0KSkpO1xuICAgICAgICByZXR1cm4gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShuLCBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi8pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBhc3NvY2lhdGl2aXR5IHByb3BlcnR5IHRvIHRoZSBnaXZlbiBmaWx0ZXIgYW5kIHJldHVybnMgdGhlIHJlc3VsdGluZyBmaWx0ZXIuXG4gKlxuICogPHVsPlxuICogICA8bGk+QSB8IChCIHwgQykgPT0gKEEgfCBCKSB8IEMgPT0gKEEgfCBCIHwgQylcbiAqICAgPGxpPkEgJiAoQiAmIEMpID09IChBICYgQikgJiBDID09IChBICYgQiAmIEMpXG4gKiA8L3VsPlxuICpcbiAqIDxwPkZvciBtb3JlIGluZm8sIHZpc2l0OiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Bc3NvY2lhdGl2ZV9wcm9wZXJ0eSNQcm9wb3NpdGlvbmFsX2xvZ2ljXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5QXNzb2NpYXRpb24oZSkge1xuICAgIGlmIChfX1BSSVZBVEVfaGFyZEFzc2VydChlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgfHwgZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciksIFxuICAgIGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlcikgcmV0dXJuIGU7XG4gICAgY29uc3QgdCA9IGUuZ2V0RmlsdGVycygpO1xuICAgIC8vIElmIHRoZSBjb21wb3NpdGUgZmlsdGVyIG9ubHkgY29udGFpbnMgMSBmaWx0ZXIsIGFwcGx5IGFzc29jaWF0aXZpdHkgdG8gaXQuXG4gICAgICAgIGlmICgxID09PSB0Lmxlbmd0aCkgcmV0dXJuIF9fUFJJVkFURV9hcHBseUFzc29jaWF0aW9uKHRbMF0pO1xuICAgIC8vIEFzc29jaWF0aXZpdHkgYXBwbGllZCB0byBhIGZsYXQgY29tcG9zaXRlIGZpbHRlciByZXN1bHRzIGlzIGl0c2VsZi5cbiAgICAgICAgaWYgKF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXQoZSkpIHJldHVybiBlO1xuICAgIC8vIEZpcnN0IGFwcGx5IGFzc29jaWF0aXZpdHkgdG8gYWxsIHN1YmZpbHRlcnMuIFRoaXMgd2lsbCBpbiB0dXJuIHJlY3Vyc2l2ZWx5IGFwcGx5XG4gICAgLy8gYXNzb2NpYXRpdml0eSB0byBhbGwgbmVzdGVkIGNvbXBvc2l0ZSBmaWx0ZXJzIGFuZCBmaWVsZCBmaWx0ZXJzLlxuICAgICAgICBjb25zdCBuID0gdC5tYXAoKGUgPT4gX19QUklWQVRFX2FwcGx5QXNzb2NpYXRpb24oZSkpKSwgciA9IFtdO1xuICAgIC8vIEZvciBjb21wb3NpdGUgc3ViZmlsdGVycyB0aGF0IHBlcmZvcm0gdGhlIHNhbWUga2luZCBvZiBsb2dpY2FsIG9wZXJhdGlvbiBhcyBgY29tcG9zaXRlRmlsdGVyYFxuICAgIC8vIHRha2Ugb3V0IHRoZWlyIGZpbHRlcnMgYW5kIGFkZCB0aGVtIHRvIGBjb21wb3NpdGVGaWx0ZXJgLiBGb3IgZXhhbXBsZTpcbiAgICAvLyBjb21wb3NpdGVGaWx0ZXIgPSAoQSB8IChCIHwgQyB8IEQpKVxuICAgIC8vIGNvbXBvc2l0ZVN1YmZpbHRlciA9IChCIHwgQyB8IEQpXG4gICAgLy8gUmVzdWx0OiAoQSB8IEIgfCBDIHwgRClcbiAgICAvLyBOb3RlIHRoYXQgdGhlIGBjb21wb3NpdGVTdWJmaWx0ZXJgIGhhcyBiZWVuIGVsaW1pbmF0ZWQsIGFuZCBpdHMgZmlsdGVycyAoQiwgQywgRCkgaGF2ZSBiZWVuXG4gICAgLy8gYWRkZWQgdG8gdGhlIHRvcC1sZXZlbCBcImNvbXBvc2l0ZUZpbHRlclwiLlxuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgdCBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyID8gci5wdXNoKHQpIDogdCBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciAmJiAodC5vcCA9PT0gZS5vcCA/IFxuICAgICAgICAvLyBjb21wb3NpdGVGaWx0ZXI6IChBIHwgKEIgfCBDKSlcbiAgICAgICAgLy8gY29tcG9zaXRlU3ViZmlsdGVyOiAoQiB8IEMpXG4gICAgICAgIC8vIFJlc3VsdDogKEEgfCBCIHwgQylcbiAgICAgICAgci5wdXNoKC4uLnQuZmlsdGVycykgOiBcbiAgICAgICAgLy8gY29tcG9zaXRlRmlsdGVyOiAoQSB8IChCICYgQykpXG4gICAgICAgIC8vIGNvbXBvc2l0ZVN1YmZpbHRlcjogKEIgJiBDKVxuICAgICAgICAvLyBSZXN1bHQ6IChBIHwgKEIgJiBDKSlcbiAgICAgICAgci5wdXNoKHQpKTtcbiAgICB9KSksIDEgPT09IHIubGVuZ3RoID8gclswXSA6IENvbXBvc2l0ZUZpbHRlci5jcmVhdGUociwgZS5vcCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGluLW1lbW9yeSBpbXBsZW1lbnRhdGlvbiBvZiBJbmRleE1hbmFnZXIuXG4gKi8gY2xhc3MgX19QUklWQVRFX01lbW9yeUluZGV4TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX24gPSBuZXcgX19QUklWQVRFX01lbW9yeUNvbGxlY3Rpb25QYXJlbnRJbmRleDtcbiAgICB9XG4gICAgYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbi5hZGQodCksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldENvbGxlY3Rpb25QYXJlbnRzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuX24uZ2V0RW50cmllcyh0KSk7XG4gICAgfVxuICAgIGFkZEZpZWxkSW5kZXgoZSwgdCkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZGVsZXRlRmllbGRJbmRleChlLCB0KSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBkZWxldGVBbGxGaWVsZEluZGV4ZXMoZSkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgY3JlYXRlVGFyZ2V0SW5kZXhlcyhlLCB0KSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXREb2N1bWVudHNNYXRjaGluZ1RhcmdldChlLCB0KSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgZ2V0SW5kZXhUeXBlKGUsIHQpIHtcbiAgICAgICAgLy8gRmllbGQgaW5kaWNlcyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIG1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKDAgLyogSW5kZXhUeXBlLk5PTkUgKi8pO1xuICAgIH1cbiAgICBnZXRGaWVsZEluZGV4ZXMoZSwgdCkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH1cbiAgICBnZXROZXh0Q29sbGVjdGlvbkdyb3VwVG9VcGRhdGUoZSkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIGdldE1pbk9mZnNldChlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShJbmRleE9mZnNldC5taW4oKSk7XG4gICAgfVxuICAgIGdldE1pbk9mZnNldEZyb21Db2xsZWN0aW9uR3JvdXAoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoSW5kZXhPZmZzZXQubWluKCkpO1xuICAgIH1cbiAgICB1cGRhdGVDb2xsZWN0aW9uR3JvdXAoZSwgdCwgbikge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdXBkYXRlSW5kZXhFbnRyaWVzKGUsIHQpIHtcbiAgICAgICAgLy8gRmllbGQgaW5kaWNlcyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIG1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjb2xsZWN0aW9uLXBhcmVudCBpbmRleCBleHBvc2VkIGJ5IE1lbW9yeUluZGV4TWFuYWdlci5cbiAqIEFsc28gdXNlZCBmb3IgaW4tbWVtb3J5IGNhY2hpbmcgYnkgSW5kZXhlZERiSW5kZXhNYW5hZ2VyIGFuZCBpbml0aWFsIGluZGV4IHBvcHVsYXRpb25cbiAqIGluIGluZGV4ZWRkYl9zY2hlbWEudHNcbiAqLyBjbGFzcyBfX1BSSVZBVEVfTWVtb3J5Q29sbGVjdGlvblBhcmVudEluZGV4IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IHt9O1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGZhbHNlIGlmIHRoZSBlbnRyeSBhbHJlYWR5IGV4aXN0ZWQuXG4gICAgYWRkKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUubGFzdFNlZ21lbnQoKSwgbiA9IGUucG9wTGFzdCgpLCByID0gdGhpcy5pbmRleFt0XSB8fCBuZXcgU29ydGVkU2V0KFJlc291cmNlUGF0aC5jb21wYXJhdG9yKSwgaSA9ICFyLmhhcyhuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhbdF0gPSByLmFkZChuKSwgaTtcbiAgICB9XG4gICAgaGFzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUubGFzdFNlZ21lbnQoKSwgbiA9IGUucG9wTGFzdCgpLCByID0gdGhpcy5pbmRleFt0XTtcbiAgICAgICAgcmV0dXJuIHIgJiYgci5oYXMobik7XG4gICAgfVxuICAgIGdldEVudHJpZXMoZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMuaW5kZXhbZV0gfHwgbmV3IFNvcnRlZFNldChSZXNvdXJjZVBhdGguY29tcGFyYXRvcikpLnRvQXJyYXkoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IGRlID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbi8qKlxuICogQSBwZXJzaXN0ZWQgaW1wbGVtZW50YXRpb24gb2YgSW5kZXhNYW5hZ2VyLlxuICpcbiAqIFBPUlRJTkcgTk9URTogVW5saWtlIGlPUyBhbmQgQW5kcm9pZCwgdGhlIFdlYiBTREsgZG9lcyBub3QgbWVtb2l6ZSBpbmRleFxuICogZGF0YSBhcyBpdCBzdXBwb3J0cyBtdWx0aS10YWIgYWNjZXNzLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiSW5kZXhNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJZCA9IHQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gaW4tbWVtb3J5IGNvcHkgb2YgdGhlIGluZGV4IGVudHJpZXMgd2UndmUgYWxyZWFkeSB3cml0dGVuIHNpbmNlIHRoZSBTREtcbiAgICAgICAgICogbGF1bmNoZWQuIFVzZWQgdG8gYXZvaWQgcmUtd3JpdGluZyB0aGUgc2FtZSBlbnRyeSByZXBlYXRlZGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzICpOT1QqIGEgY29tcGxldGUgY2FjaGUgb2Ygd2hhdCdzIGluIHBlcnNpc3RlbmNlIGFuZCBzbyBjYW4gbmV2ZXIgYmVcbiAgICAgICAgICogdXNlZCB0byBzYXRpc2Z5IHJlYWRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbiA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5Q29sbGVjdGlvblBhcmVudEluZGV4LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgZnJvbSBhIHRhcmdldCB0byBpdHMgZXF1aXZhbGVudCBsaXN0IG9mIHN1Yi10YXJnZXRzLiBFYWNoIHN1Yi10YXJnZXRcbiAgICAgICAgICogY29udGFpbnMgb25seSBvbmUgdGVybSBmcm9tIHRoZSB0YXJnZXQncyBkaXNqdW5jdGl2ZSBub3JtYWwgZm9ybSAoRE5GKS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW4gPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeVRhcmdldChlKSksICgoZSwgdCkgPT4gX19QUklWQVRFX3RhcmdldEVxdWFscyhlLCB0KSkpLCBcbiAgICAgICAgdGhpcy51aWQgPSBlLnVpZCB8fCBcIlwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGVudHJ5IHRvIHRoZSBjb2xsZWN0aW9uIHBhcmVudCBpbmRleC5cbiAgICAgKlxuICAgICAqIFJlcGVhdGVkIGNhbGxzIGZvciB0aGUgc2FtZSBjb2xsZWN0aW9uUGF0aCBzaG91bGQgYmUgYXZvaWRlZCB3aXRoaW4gYVxuICAgICAqIHRyYW5zYWN0aW9uIGFzIEluZGV4ZWREYkluZGV4TWFuYWdlciBvbmx5IGNhY2hlcyB3cml0ZXMgb25jZSBhIHRyYW5zYWN0aW9uXG4gICAgICogaGFzIGJlZW4gY29tbWl0dGVkLlxuICAgICAqLyAgICBhZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLCB0KSB7XG4gICAgICAgIGlmICghdGhpcy5hbi5oYXModCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0Lmxhc3RTZWdtZW50KCksIHIgPSB0LnBvcExhc3QoKTtcbiAgICAgICAgICAgIGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcigoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY29sbGVjdGlvbiB0byB0aGUgaW4gbWVtb3J5IGNhY2hlIG9ubHkgaWYgdGhlIHRyYW5zYWN0aW9uIHdhc1xuICAgICAgICAgICAgICAgIC8vIHN1Y2Nlc3NmdWxseSBjb21taXR0ZWQuXG4gICAgICAgICAgICAgICAgdGhpcy5hbi5hZGQodCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjb25zdCBpID0ge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25JZDogbixcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgocilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2NvbGxlY3Rpb25QYXJlbnRzU3RvcmUoZSkucHV0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXRDb2xsZWN0aW9uUGFyZW50cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXSwgciA9IElEQktleVJhbmdlLmJvdW5kKFsgdCwgXCJcIiBdLCBbIF9fUFJJVkFURV9pbW1lZGlhdGVTdWNjZXNzb3IodCksIFwiXCIgXSwgXG4gICAgICAgIC8qbG93ZXJPcGVuPSovICExLCBcbiAgICAgICAgLyp1cHBlck9wZW49Ki8gITApO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2NvbGxlY3Rpb25QYXJlbnRzU3RvcmUoZSkuVShyKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiBlKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjb2xsZWN0aW9uSWQgZ3VhcmQgc2hvdWxkbid0IGJlIG5lY2Vzc2FyeSAoYW5kIGlzbid0IGFzIGxvbmdcbiAgICAgICAgICAgICAgICAvLyBhcyB3ZSdyZSBydW5uaW5nIGluIGEgcmVhbCBicm93c2VyKSwgYnV0IHRoZXJlJ3MgYSBidWcgaW5cbiAgICAgICAgICAgICAgICAvLyBpbmRleGVkZGJzaGltIHRoYXQgYnJlYWtzIG91ciByYW5nZSBpbiBvdXIgdGVzdHMgcnVubmluZyBpbiBub2RlOlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9heGVtY2xpb24vSW5kZXhlZERCU2hpbS9pc3N1ZXMvMzM0XG4gICAgICAgICAgICAgICAgaWYgKHIuY29sbGVjdGlvbklkICE9PSB0KSBicmVhaztcbiAgICAgICAgICAgICAgICBuLnB1c2goX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChyLnBhcmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYWRkRmllbGRJbmRleChlLCB0KSB7XG4gICAgICAgIC8vIFRPRE8oaW5kZXhpbmcpOiBWZXJpZnkgdGhhdCB0aGUgYXV0by1pbmNyZW1lbnRpbmcgaW5kZXggSUQgd29ya3MgaW5cbiAgICAgICAgLy8gU2FmYXJpICYgRmlyZWZveC5cbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9pbmRleENvbmZpZ3VyYXRpb25TdG9yZShlKSwgciA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiSW5kZXhDb25maWd1cmF0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5kZXhJZDogZS5pbmRleElkLFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Hcm91cDogZS5jb2xsZWN0aW9uR3JvdXAsXG4gICAgICAgICAgICAgICAgZmllbGRzOiBlLmZpZWxkcy5tYXAoKGUgPT4gWyBlLmZpZWxkUGF0aC5jYW5vbmljYWxTdHJpbmcoKSwgZS5raW5kIF0pKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSh0KTtcbiAgICAgICAgZGVsZXRlIHIuaW5kZXhJZDtcbiAgICAgICAgLy8gYGluZGV4SWRgIGlzIGF1dG8tcG9wdWxhdGVkIGJ5IEluZGV4ZWREYlxuICAgICAgICBjb25zdCBpID0gbi5hZGQocik7XG4gICAgICAgIGlmICh0LmluZGV4U3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlKGUpO1xuICAgICAgICAgICAgcmV0dXJuIGkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgbi5wdXQoX19QUklWQVRFX3RvRGJJbmRleFN0YXRlKGUsIHRoaXMudWlkLCB0LmluZGV4U3RhdGUuc2VxdWVuY2VOdW1iZXIsIHQuaW5kZXhTdGF0ZS5vZmZzZXQpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaS5uZXh0KCk7XG4gICAgfVxuICAgIGRlbGV0ZUZpZWxkSW5kZXgoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlKGUpLCByID0gX19QUklWQVRFX2luZGV4U3RhdGVTdG9yZShlKSwgaSA9IF9fUFJJVkFURV9pbmRleEVudHJpZXNTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIG4uZGVsZXRlKHQuaW5kZXhJZCkubmV4dCgoKCkgPT4gci5kZWxldGUoSURCS2V5UmFuZ2UuYm91bmQoWyB0LmluZGV4SWQgXSwgWyB0LmluZGV4SWQgKyAxIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgIC8qdXBwZXJPcGVuPSovICEwKSkpKS5uZXh0KCgoKSA9PiBpLmRlbGV0ZShJREJLZXlSYW5nZS5ib3VuZChbIHQuaW5kZXhJZCBdLCBbIHQuaW5kZXhJZCArIDEgXSwgXG4gICAgICAgIC8qbG93ZXJPcGVuPSovICExLCBcbiAgICAgICAgLyp1cHBlck9wZW49Ki8gITApKSkpO1xuICAgIH1cbiAgICBkZWxldGVBbGxGaWVsZEluZGV4ZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlKGUpLCBuID0gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpLCByID0gX19QUklWQVRFX2luZGV4U3RhdGVTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIHQuaigpLm5leHQoKCgpID0+IG4uaigpKSkubmV4dCgoKCkgPT4gci5qKCkpKTtcbiAgICB9XG4gICAgY3JlYXRlVGFyZ2V0SW5kZXhlcyhlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0aGlzLmNuKHQpLCAodCA9PiB0aGlzLmdldEluZGV4VHlwZShlLCB0KS5uZXh0KChuID0+IHtcbiAgICAgICAgICAgIGlmICgwIC8qIEluZGV4VHlwZS5OT05FICovID09PSBuIHx8IDEgLyogSW5kZXhUeXBlLlBBUlRJQUwgKi8gPT09IG4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9UYXJnZXRJbmRleE1hdGNoZXIodCkub24oKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBuKSByZXR1cm4gdGhpcy5hZGRGaWVsZEluZGV4KGUsIG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRzTWF0Y2hpbmdUYXJnZXQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpO1xuICAgICAgICBsZXQgciA9ICEwO1xuICAgICAgICBjb25zdCBpID0gbmV3IE1hcDtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHRoaXMuY24odCksICh0ID0+IHRoaXMubG4oZSwgdCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICByICYmIChyID0gISFlKSwgaS5zZXQodCwgZSk7XG4gICAgICAgIH0pKSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKGksICgoaSwgcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleGVkRGJJbmRleE1hbmFnZXJcIiwgYFVzaW5nIGluZGV4ICR7ZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkSW5kZXhUb1N0cmluZyhlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYGlkPSR7ZS5pbmRleElkfXxjZz0ke2UuY29sbGVjdGlvbkdyb3VwfXxmPSR7ZS5maWVsZHMubWFwKChlID0+IGAke2UuZmllbGRQYXRofToke2Uua2luZH1gKSkuam9pbihcIixcIil9YDtcbiAgICAgICAgICAgICAgICAgICAgfShpKX0gdG8gZXhlY3V0ZSAke19fUFJJVkFURV9jYW5vbmlmeVRhcmdldCh0KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IGZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRHZXRBcnJheVZhbHVlcyhlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2ZpZWxkSW5kZXhHZXRBcnJheVNlZ21lbnQodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBfX1BSSVZBVEVfdGFyZ2V0R2V0RmllbGRGaWx0ZXJzRm9yUGF0aChlLCBuLmZpZWxkUGF0aCkpIHN3aXRjaCAodC5vcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC52YWx1ZS5hcnJheVZhbHVlLnZhbHVlcyB8fCBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgdC52YWx1ZSBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbWFpbmluZyBmaWx0ZXJzIGFyZSBub3QgYXJyYXkgZmlsdGVycy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICogUmV0dXJucyB0aGUgbGlzdCBvZiB2YWx1ZXMgdGhhdCBhcmUgdXNlZCBpbiAhPSBvciBOT1RfSU4gZmlsdGVycy4gUmV0dXJuc1xuICogYG51bGxgIGlmIHRoZXJlIGFyZSBubyBzdWNoIGZpbHRlcnMuXG4gKi8gKHMsIGkpLCBfID0gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldE5vdEluVmFsdWVzKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgTWFwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyh0KSkgZm9yIChjb25zdCB0IG9mIF9fUFJJVkFURV90YXJnZXRHZXRGaWVsZEZpbHRlcnNGb3JQYXRoKGUsIHIuZmllbGRQYXRoKSkgc3dpdGNoICh0Lm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuY29kZSBlcXVhbGl0eSBwcmVmaXgsIHdoaWNoIGlzIGVuY29kZWQgaW4gdGhlIGluZGV4IHZhbHVlIGJlZm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBpbmVxdWFsaXR5IChlLmcuIGBhID09ICdhJyAmJiBiICE9ICdiJ2AgaXMgZW5jb2RlZCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGB2YWx1ZSAhPSAnYWInYCkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5zZXQoci5maWVsZFBhdGguY2Fub25pY2FsU3RyaW5nKCksIHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdEluL05vdEVxdWFsIGlzIGFsd2F5cyBhIHN1ZmZpeC4gVGhlcmUgY2Fubm90IGJlIGFueSByZW1haW5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWdtZW50cyBhbmQgaGVuY2Ugd2UgY2FuIHJldHVybiBlYXJseSBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLnNldChyLmZpZWxkUGF0aC5jYW5vbmljYWxTdHJpbmcoKSwgdC52YWx1ZSksIEFycmF5LmZyb20obi52YWx1ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtYWluaW5nIGZpbHRlcnMgY2Fubm90IGJlIHVzZWQgYXMgbm90SW4gYm91bmRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIGEgbG93ZXIgYm91bmQgb2YgZmllbGQgdmFsdWVzIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBzdGFydGluZyBwb2ludCB0b1xuICogc2NhbiB0aGUgaW5kZXggZGVmaW5lZCBieSBgZmllbGRJbmRleGAuIFJldHVybnMgYE1JTl9WQUxVRWAgaWYgbm8gbG93ZXIgYm91bmRcbiAqIGV4aXN0cy5cbiAqLyAocywgaSksIGEgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0TG93ZXJCb3VuZChlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgciA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGVhY2ggc2VnbWVudCwgcmV0cmlldmUgYSBsb3dlciBib3VuZCBpZiB0aGVyZSBpcyBhIHN1aXRhYmxlIGZpbHRlciBvclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnRBdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHModCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovID09PSBpLmtpbmQgPyBfX1BSSVZBVEVfdGFyZ2V0R2V0QXNjZW5kaW5nQm91bmQoZSwgaS5maWVsZFBhdGgsIGUuc3RhcnRBdCkgOiBfX1BSSVZBVEVfdGFyZ2V0R2V0RGVzY2VuZGluZ0JvdW5kKGUsIGkuZmllbGRQYXRoLCBlLnN0YXJ0QXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaCh0LnZhbHVlKSwgciAmJiAociA9IHQuaW5jbHVzaXZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmQobiwgcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIGFuIHVwcGVyIGJvdW5kIG9mIGZpZWxkIHZhbHVlcyB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIGVuZGluZyBwb2ludFxuICogd2hlbiBzY2FubmluZyB0aGUgaW5kZXggZGVmaW5lZCBieSBgZmllbGRJbmRleGAuIFJldHVybnMgYE1BWF9WQUxVRWAgaWYgbm9cbiAqIHVwcGVyIGJvdW5kIGV4aXN0cy5cbiAqLyAocywgaSksIHUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0VXBwZXJCb3VuZChlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgciA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGVhY2ggc2VnbWVudCwgcmV0cmlldmUgYW4gdXBwZXIgYm91bmQgaWYgdGhlcmUgaXMgYSBzdWl0YWJsZSBmaWx0ZXIgb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuZEF0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSAwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8gPT09IGkua2luZCA/IF9fUFJJVkFURV90YXJnZXRHZXREZXNjZW5kaW5nQm91bmQoZSwgaS5maWVsZFBhdGgsIGUuZW5kQXQpIDogX19QUklWQVRFX3RhcmdldEdldEFzY2VuZGluZ0JvdW5kKGUsIGkuZmllbGRQYXRoLCBlLmVuZEF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnB1c2godC52YWx1ZSksIHIgJiYgKHIgPSB0LmluY2x1c2l2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJvdW5kKG4sIHIpO1xuICAgICAgICAgICAgICAgICAgICB9KHMsIGkpLCBjID0gdGhpcy5obihpLCBzLCBhKSwgbCA9IHRoaXMuaG4oaSwgcywgdSksIGggPSB0aGlzLlBuKGksIHMsIF8pLCBQID0gdGhpcy5JbihpLmluZGV4SWQsIG8sIGMsIGEuaW5jbHVzaXZlLCBsLCB1LmluY2x1c2l2ZSwgaCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChQLCAoaSA9PiBuLkcoaSwgdC5saW1pdCkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBEb2N1bWVudEtleS5mcm9tU2VnbWVudHModC5kb2N1bWVudEtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5oYXMobikgfHwgKGUgPSBlLmFkZChuKSwgci5wdXNoKG4pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgICAgICAgICAgfSkpLm5leHQoKCgpID0+IHIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjbihlKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy51bi5nZXQoZSk7XG4gICAgICAgIGlmICh0KSByZXR1cm4gdDtcbiAgICAgICAgaWYgKDAgPT09IGUuZmlsdGVycy5sZW5ndGgpIHQgPSBbIGUgXTsgZWxzZSB7XG4gICAgICAgICAgICB0ID0gX19QUklWQVRFX2dldERuZlRlcm1zKENvbXBvc2l0ZUZpbHRlci5jcmVhdGUoZS5maWx0ZXJzLCBcImFuZFwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLkFORCAqLykpLm1hcCgodCA9PiBfX1BSSVZBVEVfbmV3VGFyZ2V0KGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIGUub3JkZXJCeSwgdC5nZXRGaWx0ZXJzKCksIGUubGltaXQsIGUuc3RhcnRBdCwgZS5lbmRBdCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy51bi5zZXQoZSwgdCksIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdHMgYSBrZXkgcmFuZ2UgcXVlcnkgb24gYERiSW5kZXhFbnRyeVN0b3JlYCB0aGF0IHVuaW9ucyBhbGxcbiAgICAgKiBib3VuZHMuXG4gICAgICovICAgIEluKGUsIHQsIG4sIHIsIGksIHMsIG8pIHtcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiB0b3RhbCBpbmRleCBzY2FucyB3ZSB1bmlvbiB0b2dldGhlci4gVGhpcyBpcyBzaW1pbGFyIHRvIGFcbiAgICAgICAgLy8gZGlzdHJpYnV0ZWQgbm9ybWFsIGZvcm0sIGJ1dCBhZGFwdGVkIGZvciBhcnJheSB2YWx1ZXMuIFdlIGNyZWF0ZSBhIHNpbmdsZVxuICAgICAgICAvLyBpbmRleCByYW5nZSBwZXIgdmFsdWUgaW4gYW4gQVJSQVlfQ09OVEFJTlMgb3IgQVJSQVlfQ09OVEFJTlNfQU5ZIGZpbHRlclxuICAgICAgICAvLyBjb21iaW5lZCB3aXRoIHRoZSB2YWx1ZXMgZnJvbSB0aGUgcXVlcnkgYm91bmRzLlxuICAgICAgICBjb25zdCBfID0gKG51bGwgIT0gdCA/IHQubGVuZ3RoIDogMSkgKiBNYXRoLm1heChuLmxlbmd0aCwgaS5sZW5ndGgpLCBhID0gXyAvIChudWxsICE9IHQgPyB0Lmxlbmd0aCA6IDEpLCB1ID0gW107XG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgXzsgKytjKSB7XG4gICAgICAgICAgICBjb25zdCBfID0gdCA/IHRoaXMuVG4odFtjIC8gYV0pIDogZGUsIGwgPSB0aGlzLkVuKGUsIF8sIG5bYyAlIGFdLCByKSwgaCA9IHRoaXMuZG4oZSwgXywgaVtjICUgYV0sIHMpLCBQID0gby5tYXAoKHQgPT4gdGhpcy5FbihlLCBfLCB0LCBcbiAgICAgICAgICAgIC8qIGluY2x1c2l2ZT0gKi8gITApKSk7XG4gICAgICAgICAgICB1LnB1c2goLi4udGhpcy5jcmVhdGVSYW5nZShsLCBoLCBQKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHU7XG4gICAgfVxuICAgIC8qKiBHZW5lcmF0ZXMgdGhlIGxvd2VyIGJvdW5kIGZvciBgYXJyYXlWYWx1ZWAgYW5kIGBkaXJlY3Rpb25hbFZhbHVlYC4gKi8gICAgRW4oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9JbmRleEVudHJ5KGUsIERvY3VtZW50S2V5LmVtcHR5KCksIHQsIG4pO1xuICAgICAgICByZXR1cm4gciA/IGkgOiBpLkp0KCk7XG4gICAgfVxuICAgIC8qKiBHZW5lcmF0ZXMgdGhlIHVwcGVyIGJvdW5kIGZvciBgYXJyYXlWYWx1ZWAgYW5kIGBkaXJlY3Rpb25hbFZhbHVlYC4gKi8gICAgZG4oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9JbmRleEVudHJ5KGUsIERvY3VtZW50S2V5LmVtcHR5KCksIHQsIG4pO1xuICAgICAgICByZXR1cm4gciA/IGkuSnQoKSA6IGk7XG4gICAgfVxuICAgIGxuKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfVGFyZ2V0SW5kZXhNYXRjaGVyKHQpLCByID0gbnVsbCAhPSB0LmNvbGxlY3Rpb25Hcm91cCA/IHQuY29sbGVjdGlvbkdyb3VwIDogdC5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpZWxkSW5kZXhlcyhlLCByKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgaW5kZXggd2l0aCB0aGUgbW9zdCBudW1iZXIgb2Ygc2VnbWVudHMuXG4gICAgICAgICAgICBsZXQgdCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgZSkge1xuICAgICAgICAgICAgICAgIG4udG4ocikgJiYgKCF0IHx8IHIuZmllbGRzLmxlbmd0aCA+IHQuZmllbGRzLmxlbmd0aCkgJiYgKHQgPSByKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldEluZGV4VHlwZShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gMiAvKiBJbmRleFR5cGUuRlVMTCAqLztcbiAgICAgICAgY29uc3QgciA9IHRoaXMuY24odCk7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChyLCAodCA9PiB0aGlzLmxuKGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZSA/IDAgLyogSW5kZXhUeXBlLk5PTkUgKi8gIT09IG4gJiYgZS5maWVsZHMubGVuZ3RoIDwgZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldFNlZ21lbnRDb3VudChlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSBuZXcgU29ydGVkU2V0KEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IpLCBuID0gITE7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIGUuZmlsdGVycykgZm9yIChjb25zdCBlIG9mIHIuZ2V0RmxhdHRlbmVkRmlsdGVycygpKSBcbiAgICAgICAgICAgICAgICAvLyBfX25hbWVfXyBpcyBub3QgYW4gZXhwbGljaXQgc2VnbWVudCBvZiBhbnkgaW5kZXgsIHNvIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgICAgICAgICAvLyBjb3VudCBpdC5cbiAgICAgICAgICAgICAgICBlLmZpZWxkLmlzS2V5RmllbGQoKSB8fCAoXG4gICAgICAgICAgICAgICAgLy8gQVJSQVlfQ09OVEFJTlMgb3IgQVJSQVlfQ09OVEFJTlNfQU5ZIGZpbHRlcnMgbXVzdCBiZSBjb3VudGVkIHNlcGFyYXRlbHkuXG4gICAgICAgICAgICAgICAgLy8gRm9yIGluc3RhbmNlLCBpdCBpcyBwb3NzaWJsZSB0byBoYXZlIGFuIGluZGV4IGZvciBcImEgQVJSQVkgYSBBU0NcIi4gRXZlblxuICAgICAgICAgICAgICAgIC8vIHRob3VnaCB0aGVzZSBhcmUgb24gdGhlIHNhbWUgZmllbGQsIHRoZXkgc2hvdWxkIGJlIGNvdW50ZWQgYXMgdHdvXG4gICAgICAgICAgICAgICAgLy8gc2VwYXJhdGUgc2VnbWVudHMgaW4gYW4gaW5kZXguXG4gICAgICAgICAgICAgICAgXCJhcnJheS1jb250YWluc1wiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TICovID09PSBlLm9wIHx8IFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovID09PSBlLm9wID8gbiA9ICEwIDogdCA9IHQuYWRkKGUuZmllbGQpKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZS5vcmRlckJ5KSBcbiAgICAgICAgICAgICAgICAvLyBfX25hbWVfXyBpcyBub3QgYW4gZXhwbGljaXQgc2VnbWVudCBvZiBhbnkgaW5kZXgsIHNvIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgICAgICAgICAvLyBjb3VudCBpdC5cbiAgICAgICAgICAgICAgICBuLmZpZWxkLmlzS2V5RmllbGQoKSB8fCAodCA9IHQuYWRkKG4uZmllbGQpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5zaXplICsgKG4gPyAxIDogMCk7XG4gICAgICAgICAgICB9KHQpICYmIChuID0gMSAvKiBJbmRleFR5cGUuUEFSVElBTCAqLykgOiBuID0gMCAvKiBJbmRleFR5cGUuTk9ORSAqLztcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gXG4gICAgICAgIC8vIE9SIHF1ZXJpZXMgaGF2ZSBtb3JlIHRoYW4gb25lIHN1Yi10YXJnZXQgKG9uZSBzdWItdGFyZ2V0IHBlciBETkYgdGVybSkuIFdlIGN1cnJlbnRseSBjb25zaWRlclxuICAgICAgICAvLyBPUiBxdWVyaWVzIHRoYXQgaGF2ZSBhIGBsaW1pdGAgdG8gaGF2ZSBhIHBhcnRpYWwgaW5kZXguIEZvciBzdWNoIHF1ZXJpZXMgd2UgcGVyZm9ybSBzb3J0aW5nXG4gICAgICAgIC8vIGFuZCBhcHBseSB0aGUgbGltaXQgaW4gbWVtb3J5IGFzIGEgcG9zdC1wcm9jZXNzaW5nIHN0ZXAuXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRIYXNMaW1pdChlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCAhPT0gZS5saW1pdDtcbiAgICAgICAgfSh0KSAmJiByLmxlbmd0aCA+IDEgJiYgMiAvKiBJbmRleFR5cGUuRlVMTCAqLyA9PT0gbiA/IDEgLyogSW5kZXhUeXBlLlBBUlRJQUwgKi8gOiBuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJ5dGUgZW5jb2RlZCBmb3JtIG9mIHRoZSBkaXJlY3Rpb25hbCB2YWx1ZXMgaW4gdGhlIGZpZWxkIGluZGV4LlxuICAgICAqIFJldHVybnMgYG51bGxgIGlmIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBoYXZlIGFsbCBmaWVsZHMgc3BlY2lmaWVkIGluIHRoZVxuICAgICAqIGluZGV4LlxuICAgICAqLyAgICBBbihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0luZGV4Qnl0ZUVuY29kZXI7XG4gICAgICAgIGZvciAoY29uc3QgciBvZiBfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHMoZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LmRhdGEuZmllbGQoci5maWVsZFBhdGgpO1xuICAgICAgICAgICAgaWYgKG51bGwgPT0gZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCBpID0gbi5IdChyLmtpbmQpO1xuICAgICAgICAgICAgX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIuYnQuUHQoZSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4uV3QoKTtcbiAgICB9XG4gICAgLyoqIEVuY29kZXMgYSBzaW5nbGUgdmFsdWUgdG8gdGhlIGFzY2VuZGluZyBpbmRleCBmb3JtYXQuICovICAgIFRuKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2RlcjtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyLmJ0LlB0KGUsIHQuSHQoMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovKSksIFxuICAgICAgICB0Lld0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZW5jb2RlZCBmb3JtIG9mIHRoZSBkb2N1bWVudCBrZXkgdGhhdCBzb3J0cyBiYXNlZCBvbiB0aGUga2V5XG4gICAgICogb3JkZXJpbmcgb2YgdGhlIGZpZWxkIGluZGV4LlxuICAgICAqLyAgICBSbihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0luZGV4Qnl0ZUVuY29kZXI7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfRmlyZXN0b3JlSW5kZXhWYWx1ZVdyaXRlci5idC5QdChfX1BSSVZBVEVfcmVmVmFsdWUodGhpcy5kYXRhYmFzZUlkLCB0KSwgbi5IdChmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRJbmRleEdldEtleU9yZGVyKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHMoZSk7XG4gICAgICAgICAgICByZXR1cm4gMCA9PT0gdC5sZW5ndGggPyAwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8gOiB0W3QubGVuZ3RoIC0gMV0ua2luZDtcbiAgICAgICAgfShlKSkpLCBuLld0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZXMgdGhlIGdpdmVuIGZpZWxkIHZhbHVlcyBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb24gaW4gYHRhcmdldGAuXG4gICAgICogRm9yIElOIHF1ZXJpZXMsIGEgbGlzdCBvZiBwb3NzaWJsZSB2YWx1ZXMgaXMgcmV0dXJuZWQuXG4gICAgICovICAgIFBuKGUsIHQsIG4pIHtcbiAgICAgICAgaWYgKG51bGwgPT09IG4pIHJldHVybiBbXTtcbiAgICAgICAgbGV0IHIgPSBbXTtcbiAgICAgICAgci5wdXNoKG5ldyBfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2Rlcik7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyhlKSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IG5baSsrXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiByKSBpZiAodGhpcy5Wbih0LCBzLmZpZWxkUGF0aCkgJiYgaXNBcnJheShlKSkgciA9IHRoaXMubW4ociwgcywgZSk7IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuLkh0KHMua2luZCk7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIuYnQuUHQoZSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm4ocik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZXMgdGhlIGdpdmVuIGJvdW5kcyBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb24gaW4gYHRhcmdldGAuIEZvciBJTlxuICAgICAqIHF1ZXJpZXMsIGEgbGlzdCBvZiBwb3NzaWJsZSB2YWx1ZXMgaXMgcmV0dXJuZWQuXG4gICAgICovICAgIGhuKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuUG4oZSwgdCwgbi5wb3NpdGlvbik7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBieXRlIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgcHJvdmlkZWQgZW5jb2RlcnMuICovICAgIGZuKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUubGVuZ3RoOyArK24pIHRbbl0gPSBlW25dLld0KCk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2VwYXJhdGUgZW5jb2RlciBmb3IgZWFjaCBlbGVtZW50IG9mIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogVGhlIG1ldGhvZCBhcHBlbmRzIGVhY2ggdmFsdWUgdG8gYWxsIGV4aXN0aW5nIGVuY29kZXJzIChlLmcuIGZpbHRlcihcImFcIixcbiAgICAgKiBcIj09XCIsIFwiYTFcIikuZmlsdGVyKFwiYlwiLCBcImluXCIsIFtcImIxXCIsIFwiYjJcIl0pIGJlY29tZXMgW1wiYTEsYjFcIiwgXCJhMSxiMlwiXSkuIEFcbiAgICAgKiBsaXN0IG9mIG5ldyBlbmNvZGVycyBpcyByZXR1cm5lZC5cbiAgICAgKi8gICAgbW4oZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gWyAuLi5lIF0sIGkgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIG4uYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10pIGZvciAoY29uc3QgbiBvZiByKSB7XG4gICAgICAgICAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9JbmRleEJ5dGVFbmNvZGVyO1xuICAgICAgICAgICAgci5zZWVkKG4uV3QoKSksIF9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyLmJ0LlB0KGUsIHIuSHQodC5raW5kKSksIGkucHVzaChyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgVm4oZSwgdCkge1xuICAgICAgICByZXR1cm4gISFlLmZpbHRlcnMuZmluZCgoZSA9PiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgJiYgZS5maWVsZC5pc0VxdWFsKHQpICYmIChcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gPT09IGUub3AgfHwgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gPT09IGUub3ApKSk7XG4gICAgfVxuICAgIGdldEZpZWxkSW5kZXhlcyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhDb25maWd1cmF0aW9uU3RvcmUoZSksIHIgPSBfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gKHQgPyBuLlUoXCJjb2xsZWN0aW9uR3JvdXBJbmRleFwiLCBJREJLZXlSYW5nZS5ib3VuZCh0LCB0KSkgOiBuLlUoKSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2goZSwgKGUgPT4gci5nZXQoWyBlLmluZGV4SWQsIHRoaXMudWlkIF0pLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgICAgIHQucHVzaChmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiSW5kZXhDb25maWd1cmF0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IHQgPyBuZXcgSW5kZXhTdGF0ZSh0LnNlcXVlbmNlTnVtYmVyLCBuZXcgSW5kZXhPZmZzZXQoX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcCh0LnJlYWRUaW1lKSwgbmV3IERvY3VtZW50S2V5KF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgodC5kb2N1bWVudEtleSkpLCB0Lmxhcmdlc3RCYXRjaElkKSkgOiBJbmRleFN0YXRlLmVtcHR5KCksIHIgPSBlLmZpZWxkcy5tYXAoKChbZSwgdF0pID0+IG5ldyBJbmRleFNlZ21lbnQoRmllbGRQYXRoJDEuZnJvbVNlcnZlckZvcm1hdChlKSwgdCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGaWVsZEluZGV4KGUuaW5kZXhJZCwgZS5jb2xsZWN0aW9uR3JvdXAsIHIsIG4pO1xuICAgICAgICAgICAgICAgIH0oZSwgbikpO1xuICAgICAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gdCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldE5leHRDb2xsZWN0aW9uR3JvdXBUb1VwZGF0ZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpZWxkSW5kZXhlcyhlKS5uZXh0KChlID0+IDAgPT09IGUubGVuZ3RoID8gbnVsbCA6IChlLnNvcnQoKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5pbmRleFN0YXRlLnNlcXVlbmNlTnVtYmVyIC0gdC5pbmRleFN0YXRlLnNlcXVlbmNlTnVtYmVyO1xuICAgICAgICAgICAgcmV0dXJuIDAgIT09IG4gPyBuIDogX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5jb2xsZWN0aW9uR3JvdXAsIHQuY29sbGVjdGlvbkdyb3VwKTtcbiAgICAgICAgfSkpLCBlWzBdLmNvbGxlY3Rpb25Hcm91cCkpKTtcbiAgICB9XG4gICAgdXBkYXRlQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9pbmRleENvbmZpZ3VyYXRpb25TdG9yZShlKSwgaSA9IF9fUFJJVkFURV9pbmRleFN0YXRlU3RvcmUoZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmduKGUpLm5leHQoKGUgPT4gci5VKFwiY29sbGVjdGlvbkdyb3VwSW5kZXhcIiwgSURCS2V5UmFuZ2UuYm91bmQodCwgdCkpLm5leHQoKHQgPT4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4gaS5wdXQoX19QUklWQVRFX3RvRGJJbmRleFN0YXRlKHQuaW5kZXhJZCwgdGhpcy51aWQsIGUsIG4pKSkpKSkpKTtcbiAgICB9XG4gICAgdXBkYXRlSW5kZXhFbnRyaWVzKGUsIHQpIHtcbiAgICAgICAgLy8gUG9ydGluZyBOb3RlOiBgZ2V0RmllbGRJbmRleGVzKClgIG9uIFdlYiBkb2VzIG5vdCBjYWNoZSBpbmRleCBsb29rdXBzIGFzXG4gICAgICAgIC8vIGl0IGNvdWxkIGJlIHVzZWQgYWNyb3NzIGRpZmZlcmVudCBJbmRleGVkREIgdHJhbnNhY3Rpb25zLiBBcyBhbnkgY2FjaGVkXG4gICAgICAgIC8vIGRhdGEgbWlnaHQgYmUgaW52YWxpZGF0ZWQgYnkgb3RoZXIgbXVsdGktdGFiIGNsaWVudHMsIHdlIGNhbiBvbmx5IHRydXN0XG4gICAgICAgIC8vIGRhdGEgd2l0aGluIGEgc2luZ2xlIEluZGV4ZWREQiB0cmFuc2FjdGlvbi4gV2UgdGhlcmVmb3JlIGFkZCBhIGNhY2hlXG4gICAgICAgIC8vIGhlcmUuXG4gICAgICAgIGNvbnN0IG4gPSBuZXcgTWFwO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKCh0LCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gbi5nZXQodC5jb2xsZWN0aW9uR3JvdXApO1xuICAgICAgICAgICAgcmV0dXJuIChpID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoaSkgOiB0aGlzLmdldEZpZWxkSW5kZXhlcyhlLCB0LmNvbGxlY3Rpb25Hcm91cCkpLm5leHQoKGkgPT4gKG4uc2V0KHQuY29sbGVjdGlvbkdyb3VwLCBpKSwgXG4gICAgICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChpLCAobiA9PiB0aGlzLnBuKGUsIHQsIG4pLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLnluKHIsIG4pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0LmlzRXF1YWwoaSkgPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpIDogdGhpcy53bihlLCByLCBuLCB0LCBpKTtcbiAgICAgICAgICAgIH0pKSkpKSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIFNuKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9pbmRleEVudHJpZXNTdG9yZShlKS5wdXQoe1xuICAgICAgICAgICAgaW5kZXhJZDogci5pbmRleElkLFxuICAgICAgICAgICAgdWlkOiB0aGlzLnVpZCxcbiAgICAgICAgICAgIGFycmF5VmFsdWU6IHIuYXJyYXlWYWx1ZSxcbiAgICAgICAgICAgIGRpcmVjdGlvbmFsVmFsdWU6IHIuZGlyZWN0aW9uYWxWYWx1ZSxcbiAgICAgICAgICAgIG9yZGVyZWREb2N1bWVudEtleTogdGhpcy5SbihuLCB0LmtleSksXG4gICAgICAgICAgICBkb2N1bWVudEtleTogdC5rZXkucGF0aC50b0FycmF5KClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJuKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9pbmRleEVudHJpZXNTdG9yZShlKS5kZWxldGUoWyByLmluZGV4SWQsIHRoaXMudWlkLCByLmFycmF5VmFsdWUsIHIuZGlyZWN0aW9uYWxWYWx1ZSwgdGhpcy5SbihuLCB0LmtleSksIHQua2V5LnBhdGgudG9BcnJheSgpIF0pO1xuICAgIH1cbiAgICBwbihlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfaW5kZXhFbnRyaWVzU3RvcmUoZSk7XG4gICAgICAgIGxldCBpID0gbmV3IFNvcnRlZFNldChfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gci5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50S2V5SW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBJREJLZXlSYW5nZS5vbmx5KFsgbi5pbmRleElkLCB0aGlzLnVpZCwgdGhpcy5SbihuLCB0KSBdKVxuICAgICAgICB9LCAoKGUsIHIpID0+IHtcbiAgICAgICAgICAgIGkgPSBpLmFkZChuZXcgX19QUklWQVRFX0luZGV4RW50cnkobi5pbmRleElkLCB0LCByLmFycmF5VmFsdWUsIHIuZGlyZWN0aW9uYWxWYWx1ZSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICAvKiogQ3JlYXRlcyB0aGUgaW5kZXggZW50cmllcyBmb3IgdGhlIGdpdmVuIGRvY3VtZW50LiAqLyAgICB5bihlLCB0KSB7XG4gICAgICAgIGxldCBuID0gbmV3IFNvcnRlZFNldChfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IpO1xuICAgICAgICBjb25zdCByID0gdGhpcy5Bbih0LCBlKTtcbiAgICAgICAgaWYgKG51bGwgPT0gcikgcmV0dXJuIG47XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZmllbGRJbmRleEdldEFycmF5U2VnbWVudCh0KTtcbiAgICAgICAgaWYgKG51bGwgIT0gaSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGUuZGF0YS5maWVsZChpLmZpZWxkUGF0aCk7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShzKSkgZm9yIChjb25zdCBpIG9mIHMuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10pIG4gPSBuLmFkZChuZXcgX19QUklWQVRFX0luZGV4RW50cnkodC5pbmRleElkLCBlLmtleSwgdGhpcy5UbihpKSwgcikpO1xuICAgICAgICB9IGVsc2UgbiA9IG4uYWRkKG5ldyBfX1BSSVZBVEVfSW5kZXhFbnRyeSh0LmluZGV4SWQsIGUua2V5LCBkZSwgcikpO1xuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaW5kZXggZW50cmllcyBmb3IgdGhlIHByb3ZpZGVkIGRvY3VtZW50IGJ5IGRlbGV0aW5nIGVudHJpZXNcbiAgICAgKiB0aGF0IGFyZSBubyBsb25nZXIgcmVmZXJlbmNlZCBpbiBgbmV3RW50cmllc2AgYW5kIGFkZGluZyBhbGwgbmV3bHkgYWRkZWRcbiAgICAgKiBlbnRyaWVzLlxuICAgICAqLyAgICB3bihlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYkluZGV4TWFuYWdlclwiLCBcIlVwZGF0aW5nIGluZGV4IGVudHJpZXMgZm9yIGRvY3VtZW50ICclcydcIiwgdC5rZXkpO1xuICAgICAgICBjb25zdCBzID0gW107XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZGlmZlNvcnRlZFNldHMoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGUuZ2V0SXRlcmF0b3IoKSwgbyA9IHQuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgICAgIGxldCBfID0gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihzKSwgYSA9IF9fUFJJVkFURV9hZHZhbmNlSXRlcmF0b3Iobyk7XG4gICAgICAgICAgICAvLyBXYWxrIHRocm91Z2ggdGhlIHR3byBzZXRzIGF0IHRoZSBzYW1lIHRpbWUsIHVzaW5nIHRoZSBvcmRlcmluZyBkZWZpbmVkIGJ5XG4gICAgICAgICAgICAvLyBgY29tcGFyYXRvcmAuXG4gICAgICAgICAgICBmb3IgKDtfIHx8IGE7ICkge1xuICAgICAgICAgICAgICAgIGxldCBlID0gITEsIHQgPSAhMTtcbiAgICAgICAgICAgICAgICBpZiAoXyAmJiBhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuKF8sIGEpO1xuICAgICAgICAgICAgICAgICAgICByIDwgMCA/IFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCB3YXMgcmVtb3ZlZCBpZiB0aGUgbmV4dCBlbGVtZW50IGluIG91ciBvcmRlcmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhbGt0aHJvdWdoIGlzIG9ubHkgaW4gYGJlZm9yZWAuXG4gICAgICAgICAgICAgICAgICAgIHQgPSAhMCA6IHIgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIGlmIHRoZSBuZXh0IGVsZW1lbnQgaW4gb3VyIG9yZGVyZWQgd2Fsa3Rocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgb25seSBpbiBgYWZ0ZXJgLlxuICAgICAgICAgICAgICAgICAgICBlID0gITApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBudWxsICE9IF8gPyB0ID0gITAgOiBlID0gITA7XG4gICAgICAgICAgICAgICAgZSA/IChyKGEpLCBhID0gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihvKSkgOiB0ID8gKGkoXyksIF8gPSBfX1BSSVZBVEVfYWR2YW5jZUl0ZXJhdG9yKHMpKSA6IChfID0gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihzKSwgXG4gICAgICAgICAgICAgICAgYSA9IF9fUFJJVkFURV9hZHZhbmNlSXRlcmF0b3IobykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KHIsIGksIF9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvciwgKFxuICAgICAgICAvKiBvbkFkZD0gKi8gciA9PiB7XG4gICAgICAgICAgICBzLnB1c2godGhpcy5TbihlLCB0LCBuLCByKSk7XG4gICAgICAgIH0pLCAoXG4gICAgICAgIC8qIG9uUmVtb3ZlPSAqLyByID0+IHtcbiAgICAgICAgICAgIHMucHVzaCh0aGlzLmJuKGUsIHQsIG4sIHIpKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihzKTtcbiAgICB9XG4gICAgZ24oZSkge1xuICAgICAgICBsZXQgdCA9IDE7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwic2VxdWVuY2VOdW1iZXJJbmRleFwiLFxuICAgICAgICAgICAgcmV2ZXJzZTogITAsXG4gICAgICAgICAgICByYW5nZTogSURCS2V5UmFuZ2UudXBwZXJCb3VuZChbIHRoaXMudWlkLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiBdKVxuICAgICAgICB9LCAoKGUsIG4sIHIpID0+IHtcbiAgICAgICAgICAgIHIuZG9uZSgpLCB0ID0gbi5zZXF1ZW5jZU51bWJlciArIDE7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgc2V0IG9mIElEQiByYW5nZXMgdGhhdCBzcGxpdHMgdGhlIGV4aXN0aW5nIHJhbmdlIGFuZCBleGNsdWRlc1xuICAgICAqIGFueSB2YWx1ZXMgdGhhdCBtYXRjaCB0aGUgYG5vdEluVmFsdWVgIGZyb20gdGhlc2UgcmFuZ2VzLiBBcyBhbiBleGFtcGxlLFxuICAgICAqICdbZm9vID4gMiAmJiBmb28gIT0gM11gIGJlY29tZXMgIGBbZm9vID4gMiAmJiA8IDMsIGZvbyA+IDNdYC5cbiAgICAgKi8gICAgY3JlYXRlUmFuZ2UoZSwgdCwgbikge1xuICAgICAgICAvLyBUaGUgbm90SW4gdmFsdWVzIG5lZWQgdG8gYmUgc29ydGVkIGFuZCB1bmlxdWUgc28gdGhhdCB3ZSBjYW4gcmV0dXJuIGFcbiAgICAgICAgLy8gc29ydGVkIHNldCBvZiBub24tb3ZlcmxhcHBpbmcgcmFuZ2VzLlxuICAgICAgICBuID0gbi5zb3J0KCgoZSwgdCkgPT4gX19QUklWQVRFX2luZGV4RW50cnlDb21wYXJhdG9yKGUsIHQpKSkuZmlsdGVyKCgoZSwgdCwgbikgPT4gIXQgfHwgMCAhPT0gX19QUklWQVRFX2luZGV4RW50cnlDb21wYXJhdG9yKGUsIG5bdCAtIDFdKSkpO1xuICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgIHIucHVzaChlKTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoaSwgZSksIHMgPSBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoaSwgdCk7XG4gICAgICAgICAgICBpZiAoMCA9PT0gbikgXG4gICAgICAgICAgICAvLyBgbm90SW5WYWx1ZWAgaXMgdGhlIGxvd2VyIGJvdW5kLiBXZSB0aGVyZWZvcmUgbmVlZCB0byByYWlzZSB0aGUgYm91bmRcbiAgICAgICAgICAgIC8vIHRvIHRoZSBuZXh0IHZhbHVlLlxuICAgICAgICAgICAgclswXSA9IGUuSnQoKTsgZWxzZSBpZiAobiA+IDAgJiYgcyA8IDApIFxuICAgICAgICAgICAgLy8gYG5vdEluVmFsdWVgIGlzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHJhbmdlXG4gICAgICAgICAgICByLnB1c2goaSksIHIucHVzaChpLkp0KCkpOyBlbHNlIGlmIChzID4gMCkgXG4gICAgICAgICAgICAvLyBgbm90SW5WYWx1ZWAgKGFuZCBhbGwgZm9sbG93aW5nIHZhbHVlcykgYXJlIG91dCBvZiB0aGUgcmFuZ2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHIucHVzaCh0KTtcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHIubGVuZ3RoOyBlICs9IDIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGVuY291bnRlciB0d28gYm91bmRzIHRoYXQgd2lsbCBjcmVhdGUgYW4gdW5tYXRjaGFibGUga2V5IHJhbmdlLFxuICAgICAgICAgICAgLy8gdGhlbiB3ZSByZXR1cm4gYW4gZW1wdHkgc2V0IG9mIGtleSByYW5nZXMuXG4gICAgICAgICAgICBpZiAodGhpcy5EbihyW2VdLCByW2UgKyAxXSkpIHJldHVybiBbXTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBbIHJbZV0uaW5kZXhJZCwgdGhpcy51aWQsIHJbZV0uYXJyYXlWYWx1ZSwgcltlXS5kaXJlY3Rpb25hbFZhbHVlLCBkZSwgW10gXSwgbiA9IFsgcltlICsgMV0uaW5kZXhJZCwgdGhpcy51aWQsIHJbZSArIDFdLmFycmF5VmFsdWUsIHJbZSArIDFdLmRpcmVjdGlvbmFsVmFsdWUsIGRlLCBbXSBdO1xuICAgICAgICAgICAgaS5wdXNoKElEQktleVJhbmdlLmJvdW5kKHQsIG4pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgRG4oZSwgdCkge1xuICAgICAgICAvLyBJZiBsb3dlciBib3VuZCBpcyBncmVhdGVyIHRoYW4gdGhlIHVwcGVyIGJvdW5kLCB0aGVuIHRoZSBrZXlcbiAgICAgICAgLy8gcmFuZ2UgY2FuIG5ldmVyIGJlIG1hdGNoZWQuXG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoZSwgdCkgPiAwO1xuICAgIH1cbiAgICBnZXRNaW5PZmZzZXRGcm9tQ29sbGVjdGlvbkdyb3VwKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmllbGRJbmRleGVzKGUsIHQpLm5leHQoX19QUklWQVRFX2dldE1pbk9mZnNldEZyb21GaWVsZEluZGV4ZXMpO1xuICAgIH1cbiAgICBnZXRNaW5PZmZzZXQoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLm1hcEFycmF5KHRoaXMuY24odCksICh0ID0+IHRoaXMubG4oZSwgdCkubmV4dCgoZSA9PiBlIHx8IGZhaWwoKSkpKSkubmV4dChfX1BSSVZBVEVfZ2V0TWluT2Zmc2V0RnJvbUZpZWxkSW5kZXhlcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgY29sbGVjdGlvblBhcmVudHNcbiAqIGRvY3VtZW50IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9jb2xsZWN0aW9uUGFyZW50c1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiY29sbGVjdGlvblBhcmVudHNcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBpbmRleCBlbnRyeSBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiaW5kZXhFbnRyaWVzXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgaW5kZXggY29uZmlndXJhdGlvbiBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiaW5kZXhDb25maWd1cmF0aW9uXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgaW5kZXggc3RhdGUgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pbmRleFN0YXRlU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJpbmRleFN0YXRlXCIpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0TWluT2Zmc2V0RnJvbUZpZWxkSW5kZXhlcyhlKSB7XG4gICAgX19QUklWQVRFX2hhcmRBc3NlcnQoMCAhPT0gZS5sZW5ndGgpO1xuICAgIGxldCB0ID0gZVswXS5pbmRleFN0YXRlLm9mZnNldCwgbiA9IHQubGFyZ2VzdEJhdGNoSWQ7XG4gICAgZm9yIChsZXQgciA9IDE7IHIgPCBlLmxlbmd0aDsgcisrKSB7XG4gICAgICAgIGNvbnN0IGkgPSBlW3JdLmluZGV4U3RhdGUub2Zmc2V0O1xuICAgICAgICBfX1BSSVZBVEVfaW5kZXhPZmZzZXRDb21wYXJhdG9yKGksIHQpIDwgMCAmJiAodCA9IGkpLCBuIDwgaS5sYXJnZXN0QmF0Y2hJZCAmJiAobiA9IGkubGFyZ2VzdEJhdGNoSWQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEluZGV4T2Zmc2V0KHQucmVhZFRpbWUsIHQuZG9jdW1lbnRLZXksIG4pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBBZSA9IHtcbiAgICBkaWRSdW46ICExLFxuICAgIHNlcXVlbmNlTnVtYmVyc0NvbGxlY3RlZDogMCxcbiAgICB0YXJnZXRzUmVtb3ZlZDogMCxcbiAgICBkb2N1bWVudHNSZW1vdmVkOiAwXG59O1xuXG5jbGFzcyBMcnVQYXJhbXMge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8vIFdoZW4gd2UgYXR0ZW1wdCB0byBjb2xsZWN0LCB3ZSB3aWxsIG9ubHkgZG8gc28gaWYgdGhlIGNhY2hlIHNpemUgaXMgZ3JlYXRlciB0aGFuIHRoaXNcbiAgICAvLyB0aHJlc2hvbGQuIFBhc3NpbmcgYENPTExFQ1RJT05fRElTQUJMRURgIGhlcmUgd2lsbCBjYXVzZSBjb2xsZWN0aW9uIHRvIGFsd2F5cyBiZSBza2lwcGVkLlxuICAgIGUsIFxuICAgIC8vIFRoZSBwZXJjZW50YWdlIG9mIHNlcXVlbmNlIG51bWJlcnMgdGhhdCB3ZSB3aWxsIGF0dGVtcHQgdG8gY29sbGVjdFxuICAgIHQsIFxuICAgIC8vIEEgY2FwIG9uIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2VxdWVuY2UgbnVtYmVycyB0aGF0IHdpbGwgYmUgY29sbGVjdGVkLiBUaGlzIHByZXZlbnRzXG4gICAgLy8gdXMgZnJvbSBjb2xsZWN0aW5nIGEgaHVnZSBudW1iZXIgb2Ygc2VxdWVuY2UgbnVtYmVycyBpZiB0aGUgY2FjaGUgaGFzIGdyb3duIHZlcnkgbGFyZ2UuXG4gICAgbikge1xuICAgICAgICB0aGlzLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQgPSBlLCB0aGlzLnBlcmNlbnRpbGVUb0NvbGxlY3QgPSB0LCB0aGlzLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QgPSBuO1xuICAgIH1cbiAgICBzdGF0aWMgd2l0aENhY2hlU2l6ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTHJ1UGFyYW1zKGUsIExydVBhcmFtcy5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSwgTHJ1UGFyYW1zLkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBEZWxldGUgYSBtdXRhdGlvbiBiYXRjaCBhbmQgdGhlIGFzc29jaWF0ZWQgZG9jdW1lbnQgbXV0YXRpb25zLlxuICogQHJldHVybnMgQSBQZXJzaXN0ZW5jZVByb21pc2Ugb2YgdGhlIGRvY3VtZW50IG11dGF0aW9ucyB0aGF0IHdlcmUgcmVtb3ZlZC5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTXV0YXRpb25CYXRjaChlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IGUuc3RvcmUoXCJtdXRhdGlvbnNcIiksIGkgPSBlLnN0b3JlKFwiZG9jdW1lbnRNdXRhdGlvbnNcIiksIHMgPSBbXSwgbyA9IElEQktleVJhbmdlLm9ubHkobi5iYXRjaElkKTtcbiAgICBsZXQgXyA9IDA7XG4gICAgY29uc3QgYSA9IHIuSih7XG4gICAgICAgIHJhbmdlOiBvXG4gICAgfSwgKChlLCB0LCBuKSA9PiAoXysrLCBuLmRlbGV0ZSgpKSkpO1xuICAgIHMucHVzaChhLm5leHQoKCgpID0+IHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoMSA9PT0gXyk7XG4gICAgfSkpKTtcbiAgICBjb25zdCB1ID0gW107XG4gICAgZm9yIChjb25zdCBlIG9mIG4ubXV0YXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uS2V5KHQsIGUua2V5LnBhdGgsIG4uYmF0Y2hJZCk7XG4gICAgICAgIHMucHVzaChpLmRlbGV0ZShyKSksIHUucHVzaChlLmtleSk7XG4gICAgfVxuICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihzKS5uZXh0KCgoKSA9PiB1KSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcHByb3hpbWF0ZSBzaXplIGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RiRG9jdW1lbnRTaXplKGUpIHtcbiAgICBpZiAoIWUpIHJldHVybiAwO1xuICAgIGxldCB0O1xuICAgIGlmIChlLmRvY3VtZW50KSB0ID0gZS5kb2N1bWVudDsgZWxzZSBpZiAoZS51bmtub3duRG9jdW1lbnQpIHQgPSBlLnVua25vd25Eb2N1bWVudDsgZWxzZSB7XG4gICAgICAgIGlmICghZS5ub0RvY3VtZW50KSB0aHJvdyBmYWlsKCk7XG4gICAgICAgIHQgPSBlLm5vRG9jdW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0KS5sZW5ndGg7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogQSBtdXRhdGlvbiBxdWV1ZSBmb3IgYSBzcGVjaWZpYyB1c2VyLCBiYWNrZWQgYnkgSW5kZXhlZERCLiAqLyBMcnVQYXJhbXMuREVGQVVMVF9DT0xMRUNUSU9OX1BFUkNFTlRJTEUgPSAxMCwgXG5McnVQYXJhbXMuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUID0gMWUzLCBMcnVQYXJhbXMuREVGQVVMVCA9IG5ldyBMcnVQYXJhbXMoNDE5NDMwNDAsIExydVBhcmFtcy5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSwgTHJ1UGFyYW1zLkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVCksIFxuTHJ1UGFyYW1zLkRJU0FCTEVEID0gbmV3IExydVBhcmFtcygtMSwgMCwgMCk7XG5cbmNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJNdXRhdGlvblF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgbm9ybWFsaXplZCB1c2VySWQgKGUuZy4gbnVsbCBVSUQgPT4gXCJcIiB1c2VySWQpIHVzZWQgdG8gc3RvcmUgL1xuICAgICAqIHJldHJpZXZlIG11dGF0aW9ucy5cbiAgICAgKi9cbiAgICBlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMudXNlcklkID0gZSwgdGhpcy5zZXJpYWxpemVyID0gdCwgdGhpcy5pbmRleE1hbmFnZXIgPSBuLCB0aGlzLnJlZmVyZW5jZURlbGVnYXRlID0gciwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZXMgdGhlIGRvY3VtZW50IGtleXMgZm9yIHBlbmRpbmcgbXV0YXRpb24gYmF0Y2hlcy4gSWYgdGhlIG11dGF0aW9uXG4gICAgICAgICAqIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBJbmRleGVkRGIsIHRoZSBjYWNoZWQgdmFsdWUgbWF5IGNvbnRpbnVlIHRvXG4gICAgICAgICAqIGJlIHVzZWQgdG8gcmV0cmlldmUgdGhlIGJhdGNoJ3MgZG9jdW1lbnQga2V5cy4gVG8gcmVtb3ZlIGEgY2FjaGVkIHZhbHVlXG4gICAgICAgICAqIGxvY2FsbHksIGByZW1vdmVDYWNoZWRNdXRhdGlvbktleXMoKWAgc2hvdWxkIGJlIGludm9rZWQgZWl0aGVyIGRpcmVjdGx5XG4gICAgICAgICAqIG9yIHRocm91Z2ggYHJlbW92ZU11dGF0aW9uQmF0Y2hlcygpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogV2l0aCBtdWx0aS10YWIsIHdoZW4gdGhlIHByaW1hcnkgY2xpZW50IGFja25vd2xlZGdlcyBvciByZWplY3RzIGEgbXV0YXRpb24sXG4gICAgICAgICAqIHRoaXMgY2FjaGUgaXMgdXNlZCBieSBzZWNvbmRhcnkgY2xpZW50cyB0byBpbnZhbGlkYXRlIHRoZSBsb2NhbFxuICAgICAgICAgKiB2aWV3IG9mIHRoZSBkb2N1bWVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgYWZmZWN0ZWQgYnkgdGhlIG11dGF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICAgICAgdGhpcy5DbiA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG11dGF0aW9uIHF1ZXVlIGZvciB0aGUgZ2l2ZW4gdXNlci5cbiAgICAgKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyIGZvciB3aGljaCB0byBjcmVhdGUgYSBtdXRhdGlvbiBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplciAtIFRoZSBzZXJpYWxpemVyIHRvIHVzZSB3aGVuIHBlcnNpc3RpbmcgdG8gSW5kZXhlZERiLlxuICAgICAqLyAgICBzdGF0aWMgbHQoZSwgdCwgbiwgcikge1xuICAgICAgICAvLyBUT0RPKG1jZyk6IEZpZ3VyZSBvdXQgd2hhdCBjb25zdHJhaW50cyB0aGVyZSBhcmUgb24gdXNlcklEc1xuICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBhcmUgdGhlcmUgYW55IHJlc2VydmVkIGNoYXJhY3RlcnM/IGFyZSBlbXB0eSBpZHMgYWxsb3dlZD9cbiAgICAgICAgLy8gRm9yIHRoZSBtb21lbnQgc3RvcmUgdGhlc2UgdG9nZXRoZXIgaW4gdGhlIHNhbWUgbXV0YXRpb25zIHRhYmxlIGFzc3VtaW5nXG4gICAgICAgIC8vIHRoYXQgZW1wdHkgdXNlcklEcyBhcmVuJ3QgYWxsb3dlZC5cbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoXCJcIiAhPT0gZS51aWQpO1xuICAgICAgICBjb25zdCBpID0gZS5pc0F1dGhlbnRpY2F0ZWQoKSA/IGUudWlkIDogXCJcIjtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiTXV0YXRpb25RdWV1ZShpLCB0LCBuLCByKTtcbiAgICB9XG4gICAgY2hlY2tFbXB0eShlKSB7XG4gICAgICAgIGxldCB0ID0gITA7XG4gICAgICAgIGNvbnN0IG4gPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgXSwgWyB0aGlzLnVzZXJJZCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwidXNlck11dGF0aW9uc0luZGV4XCIsXG4gICAgICAgICAgICByYW5nZTogblxuICAgICAgICB9LCAoKGUsIG4sIHIpID0+IHtcbiAgICAgICAgICAgIHQgPSAhMSwgci5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgfVxuICAgIGFkZE11dGF0aW9uQmF0Y2goZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2RvY3VtZW50TXV0YXRpb25zU3RvcmUoZSksIHMgPSBfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSk7XG4gICAgICAgIC8vIFRoZSBJbmRleGVkRGIgaW1wbGVtZW50YXRpb24gaW4gQ2hyb21lIChhbmQgRmlyZWZveCkgZG9lcyBub3QgaGFuZGxlXG4gICAgICAgIC8vIGNvbXBvdW5kIGluZGljZXMgdGhhdCBpbmNsdWRlIGF1dG8tZ2VuZXJhdGVkIGtleXMgY29ycmVjdGx5LiBUbyBlbnN1cmVcbiAgICAgICAgLy8gdGhhdCB0aGUgaW5kZXggZW50cnkgaXMgYWRkZWQgY29ycmVjdGx5IGluIGFsbCBicm93c2Vycywgd2UgcGVyZm9ybSB0d29cbiAgICAgICAgLy8gd3JpdGVzOiBUaGUgZmlyc3Qgd3JpdGUgaXMgdXNlZCB0byByZXRyaWV2ZSB0aGUgbmV4dCBhdXRvLWdlbmVyYXRlZCBCYXRjaFxuICAgICAgICAvLyBJRCwgYW5kIHRoZSBzZWNvbmQgd3JpdGUgcG9wdWxhdGVzIHRoZSBpbmRleCBhbmQgc3RvcmVzIHRoZSBhY3R1YWxcbiAgICAgICAgLy8gbXV0YXRpb24gYmF0Y2guXG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NzAxOTcyXG4gICAgICAgIC8vIFdlIHdyaXRlIGFuIGVtcHR5IG9iamVjdCB0byBvYnRhaW4ga2V5XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJldHVybiBzLmFkZCh7fSkubmV4dCgobyA9PiB7XG4gICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChcIm51bWJlclwiID09IHR5cGVvZiBvKTtcbiAgICAgICAgICAgIGNvbnN0IF8gPSBuZXcgTXV0YXRpb25CYXRjaChvLCB0LCBuLCByKSwgYSA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiTXV0YXRpb25CYXRjaChlLCB0LCBuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IG4uYmFzZU11dGF0aW9ucy5tYXAoKHQgPT4gdG9NdXRhdGlvbihlLmN0LCB0KSkpLCBpID0gbi5tdXRhdGlvbnMubWFwKCh0ID0+IHRvTXV0YXRpb24oZS5jdCwgdCkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHQsXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoSWQ6IG4uYmF0Y2hJZCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxXcml0ZVRpbWVNczogbi5sb2NhbFdyaXRlVGltZS50b01pbGxpcygpLFxuICAgICAgICAgICAgICAgICAgICBiYXNlTXV0YXRpb25zOiByLFxuICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbnM6IGlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSh0aGlzLnNlcmlhbGl6ZXIsIHRoaXMudXNlcklkLCBfKSwgdSA9IFtdO1xuICAgICAgICAgICAgbGV0IGMgPSBuZXcgU29ydGVkU2V0KCgoZSwgdCkgPT4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5jYW5vbmljYWxTdHJpbmcoKSwgdC5jYW5vbmljYWxTdHJpbmcoKSkpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiByKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25LZXkodGhpcy51c2VySWQsIGUua2V5LnBhdGgsIG8pO1xuICAgICAgICAgICAgICAgIGMgPSBjLmFkZChlLmtleS5wYXRoLnBvcExhc3QoKSksIHUucHVzaChzLnB1dChhKSksIHUucHVzaChpLnB1dCh0LCBPKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYy5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICB1LnB1c2godGhpcy5pbmRleE1hbmFnZXIuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSwgdCkpO1xuICAgICAgICAgICAgfSkpLCBlLmFkZE9uQ29tbWl0dGVkTGlzdGVuZXIoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLkNuW29dID0gXy5rZXlzKCk7XG4gICAgICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHUpLm5leHQoKCgpID0+IF8pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBsb29rdXBNdXRhdGlvbkJhdGNoKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvbnNTdG9yZShlKS5nZXQodCkubmV4dCgoZSA9PiBlID8gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUudXNlcklkID09PSB0aGlzLnVzZXJJZCksIFxuICAgICAgICBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpKSA6IG51bGwpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG9jdW1lbnQga2V5cyBmb3IgdGhlIG11dGF0aW9uIGJhdGNoIHdpdGggdGhlIGdpdmVuIGJhdGNoSWQuXG4gICAgICogRm9yIHByaW1hcnkgY2xpZW50cywgdGhpcyBtZXRob2QgcmV0dXJucyBgbnVsbGAgYWZ0ZXJcbiAgICAgKiBgcmVtb3ZlTXV0YXRpb25CYXRjaGVzKClgIGhhcyBiZWVuIGNhbGxlZC4gU2Vjb25kYXJ5IGNsaWVudHMgcmV0dXJuIGFcbiAgICAgKiBjYWNoZWQgcmVzdWx0IHVudGlsIGByZW1vdmVDYWNoZWRNdXRhdGlvbktleXMoKWAgaXMgaW52b2tlZC5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgIHZuKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQ25bdF0gPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLkNuW3RdKSA6IHRoaXMubG9va3VwTXV0YXRpb25CYXRjaChlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IGUua2V5cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkNuW3RdID0gbiwgbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQgKyAxLCByID0gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChbIHRoaXMudXNlcklkLCBuIF0pO1xuICAgICAgICBsZXQgaSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJ1c2VyTXV0YXRpb25zSW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiByXG4gICAgICAgIH0sICgoZSwgdCwgcikgPT4ge1xuICAgICAgICAgICAgdC51c2VySWQgPT09IHRoaXMudXNlcklkICYmIChfX1BSSVZBVEVfaGFyZEFzc2VydCh0LmJhdGNoSWQgPj0gbiksIGkgPSBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIHQpKSwgXG4gICAgICAgICAgICByLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGkpKTtcbiAgICB9XG4gICAgZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBJREJLZXlSYW5nZS51cHBlckJvdW5kKFsgdGhpcy51c2VySWQsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdKTtcbiAgICAgICAgbGV0IG4gPSAtMTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcInVzZXJNdXRhdGlvbnNJbmRleFwiLFxuICAgICAgICAgICAgcmFuZ2U6IHQsXG4gICAgICAgICAgICByZXZlcnNlOiAhMFxuICAgICAgICB9LCAoKGUsIHQsIHIpID0+IHtcbiAgICAgICAgICAgIG4gPSB0LmJhdGNoSWQsIHIuZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0aGlzLnVzZXJJZCwgLTEgXSwgWyB0aGlzLnVzZXJJZCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLlUoXCJ1c2VyTXV0YXRpb25zSW5kZXhcIiwgdCkubmV4dCgoZSA9PiBlLm1hcCgoZSA9PiBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpKSkpKTtcbiAgICB9XG4gICAgZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXkoZSwgdCkge1xuICAgICAgICAvLyBTY2FuIHRoZSBkb2N1bWVudC1tdXRhdGlvbiBpbmRleCBzdGFydGluZyB3aXRoIGEgcHJlZml4IHN0YXJ0aW5nIHdpdGhcbiAgICAgICAgLy8gdGhlIGdpdmVuIGRvY3VtZW50S2V5LlxuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvblByZWZpeEZvclBhdGgodGhpcy51c2VySWQsIHQucGF0aCksIHIgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKG4pLCBpID0gW107XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIHJhbmdlOiByXG4gICAgICAgIH0sICgobiwgciwgcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgW28sIF8sIGFdID0gbiwgdSA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgoXyk7XG4gICAgICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIHJvd3MgbWF0Y2hpbmcgZXhhY3RseSB0aGUgc3BlY2lmaWMga2V5IG9mXG4gICAgICAgICAgICAvLyBpbnRlcmVzdC4gTm90ZSB0aGF0IGJlY2F1c2Ugd2Ugb3JkZXIgYnkgcGF0aCBmaXJzdCwgYW5kIHdlXG4gICAgICAgICAgICAvLyBvcmRlciB0ZXJtaW5hdG9ycyBiZWZvcmUgcGF0aCBzZXBhcmF0b3JzLCB3ZSdsbCBlbmNvdW50ZXIgYWxsXG4gICAgICAgICAgICAvLyB0aGUgaW5kZXggcm93cyBmb3IgZG9jdW1lbnRLZXkgY29udGlndW91c2x5LiBJbiBwYXJ0aWN1bGFyLCBhbGxcbiAgICAgICAgICAgIC8vIHRoZSByb3dzIGZvciBkb2N1bWVudEtleSB3aWxsIG9jY3VyIGJlZm9yZSBhbnkgcm93cyBmb3JcbiAgICAgICAgICAgIC8vIGRvY3VtZW50cyBuZXN0ZWQgaW4gYSBzdWJjb2xsZWN0aW9uIGJlbmVhdGggZG9jdW1lbnRLZXkgc28gd2VcbiAgICAgICAgICAgIC8vIGNhbiBzdG9wIGFzIHNvb24gYXMgd2UgaGl0IGFueSBzdWNoIHJvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID09PSB0aGlzLnVzZXJJZCAmJiB0LnBhdGguaXNFcXVhbCh1KSkgXG4gICAgICAgICAgICAvLyBMb29rIHVwIHRoZSBtdXRhdGlvbiBiYXRjaCBpbiB0aGUgc3RvcmUuXG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLmdldChhKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUpIHRocm93IGZhaWwoKTtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChlLnVzZXJJZCA9PT0gdGhpcy51c2VySWQpLCBpLnB1c2goX19QUklWQVRFX2Zyb21EYk11dGF0aW9uQmF0Y2godGhpcy5zZXJpYWxpemVyLCBlKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBzLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGkpKTtcbiAgICB9XG4gICAgZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKTtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yUGF0aCh0aGlzLnVzZXJJZCwgdC5wYXRoKSwgcyA9IElEQktleVJhbmdlLmxvd2VyQm91bmQoaSksIG8gPSBfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgICAgICByYW5nZTogc1xuICAgICAgICAgICAgfSwgKChlLCByLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3MsIG8sIF9dID0gZSwgYSA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgobyk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBjb25zaWRlciByb3dzIG1hdGNoaW5nIGV4YWN0bHkgdGhlIHNwZWNpZmljIGtleSBvZlxuICAgICAgICAgICAgICAgIC8vIGludGVyZXN0LiBOb3RlIHRoYXQgYmVjYXVzZSB3ZSBvcmRlciBieSBwYXRoIGZpcnN0LCBhbmQgd2VcbiAgICAgICAgICAgICAgICAvLyBvcmRlciB0ZXJtaW5hdG9ycyBiZWZvcmUgcGF0aCBzZXBhcmF0b3JzLCB3ZSdsbCBlbmNvdW50ZXIgYWxsXG4gICAgICAgICAgICAgICAgLy8gdGhlIGluZGV4IHJvd3MgZm9yIGRvY3VtZW50S2V5IGNvbnRpZ3VvdXNseS4gSW4gcGFydGljdWxhciwgYWxsXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJvd3MgZm9yIGRvY3VtZW50S2V5IHdpbGwgb2NjdXIgYmVmb3JlIGFueSByb3dzIGZvclxuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50cyBuZXN0ZWQgaW4gYSBzdWJjb2xsZWN0aW9uIGJlbmVhdGggZG9jdW1lbnRLZXkgc28gd2VcbiAgICAgICAgICAgICAgICAvLyBjYW4gc3RvcCBhcyBzb29uIGFzIHdlIGhpdCBhbnkgc3VjaCByb3cuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPT09IHRoaXMudXNlcklkICYmIHQucGF0aC5pc0VxdWFsKGEpID8gbiA9IG4uYWRkKF8pIDogaS5kb25lKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByLnB1c2gobyk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IocikubmV4dCgoKCkgPT4gdGhpcy5GbihlLCBuKSkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LnBhdGgsIHIgPSBuLmxlbmd0aCArIDEsIGkgPSBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yUGF0aCh0aGlzLnVzZXJJZCwgbiksIHMgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGkpO1xuICAgICAgICAvLyBDb2xsZWN0IHVwIHVuaXF1ZSBiYXRjaElEcyBlbmNvdW50ZXJlZCBkdXJpbmcgYSBzY2FuIG9mIHRoZSBpbmRleC4gVXNlIGFcbiAgICAgICAgLy8gU29ydGVkU2V0IHRvIGFjY3VtdWxhdGUgYmF0Y2ggSURzIHNvIHRoZXkgY2FuIGJlIHRyYXZlcnNlZCBpbiBvcmRlciBpbiBhXG4gICAgICAgIC8vIHNjYW4gb2YgdGhlIG1haW4gdGFibGUuXG4gICAgICAgIGxldCBvID0gbmV3IFNvcnRlZFNldChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcik7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIHJhbmdlOiBzXG4gICAgICAgIH0sICgoZSwgdCwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW3MsIF8sIGFdID0gZSwgdSA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgoXyk7XG4gICAgICAgICAgICBzID09PSB0aGlzLnVzZXJJZCAmJiBuLmlzUHJlZml4T2YodSkgPyBcbiAgICAgICAgICAgIC8vIFJvd3Mgd2l0aCBkb2N1bWVudCBrZXlzIG1vcmUgdGhhbiBvbmUgc2VnbWVudCBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICAgIC8vIHF1ZXJ5IHBhdGggY2FuJ3QgYmUgbWF0Y2hlcy4gRm9yIGV4YW1wbGUsIGEgcXVlcnkgb24gJ3Jvb21zJ1xuICAgICAgICAgICAgLy8gY2FuJ3QgbWF0Y2ggdGhlIGRvY3VtZW50IC9yb29tcy9hYmMvbWVzc2FnZXMveHl4LlxuICAgICAgICAgICAgLy8gVE9ETyhtY2cpOiB3ZSdsbCBuZWVkIGEgZGlmZmVyZW50IHNjYW5uZXIgd2hlbiB3ZSBpbXBsZW1lbnRcbiAgICAgICAgICAgIC8vIGFuY2VzdG9yIHF1ZXJpZXMuXG4gICAgICAgICAgICB1Lmxlbmd0aCA9PT0gciAmJiAobyA9IG8uYWRkKGEpKSA6IGkuZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gdGhpcy5GbihlLCBvKSkpO1xuICAgIH1cbiAgICBGbihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXSwgciA9IFtdO1xuICAgICAgICAvLyBUT0RPKHJvY2t3b29kKTogSW1wbGVtZW50IHRoaXMgdXNpbmcgaXRlcmF0ZS5cbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICByLnB1c2goX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLmdldCh0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gZSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUudXNlcklkID09PSB0aGlzLnVzZXJJZCksIG4ucHVzaChfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IocikubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICByZW1vdmVNdXRhdGlvbkJhdGNoKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZU11dGF0aW9uQmF0Y2goZS5fZSwgdGhpcy51c2VySWQsIHQpLm5leHQoKG4gPT4gKGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcigoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5Nbih0LmJhdGNoSWQpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKG4sICh0ID0+IHRoaXMucmVmZXJlbmNlRGVsZWdhdGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgdCkpKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBjYWNoZWQga2V5cyBmb3IgYSBtdXRhdGlvbiBiYXRjaC4gVGhpcyBtZXRob2Qgc2hvdWxkIGJlXG4gICAgICogY2FsbGVkIGJ5IHNlY29uZGFyeSBjbGllbnRzIGFmdGVyIHRoZXkgcHJvY2VzcyBtdXRhdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGRvZXMgbm90IGhhdmUgdG8gYmUgY2FsbGVkIGZyb20gcHJpbWFyeSBjbGllbnRzIGFzXG4gICAgICogdGhlIGNvcnJlc3BvbmRpbmcgY2FjaGUgZW50cmllcyBhcmUgY2xlYXJlZCB3aGVuIGFuIGFja25vd2xlZGdlZCBvclxuICAgICAqIHJlamVjdGVkIGJhdGNoIGlzIHJlbW92ZWQgZnJvbSB0aGUgbXV0YXRpb24gcXVldWUuXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seVxuICAgIE1uKGUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuQ25bZV07XG4gICAgfVxuICAgIHBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tFbXB0eShlKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIGlmICghdCkgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAvLyBWZXJpZnkgdGhhdCB0aGVyZSBhcmUgbm8gZW50cmllcyBpbiB0aGUgZG9jdW1lbnRNdXRhdGlvbnMgaW5kZXggaWZcbiAgICAgICAgICAgIC8vIHRoZSBxdWV1ZSBpcyBlbXB0eS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKFxuICAgICAgICAgICAgLyoqXG4gKiBDcmVhdGVzIGEgW3VzZXJJZF0ga2V5IGZvciB1c2UgaW4gdGhlIERiRG9jdW1lbnRNdXRhdGlvbnMgaW5kZXggdG8gaXRlcmF0ZVxuICogb3ZlciBhbGwgb2YgYSB1c2VyJ3MgZG9jdW1lbnQgbXV0YXRpb25zLlxuICovXG4gICAgICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yVXNlcihlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgZSBdO1xuICAgICAgICAgICAgfSh0aGlzLnVzZXJJZCkpLCByID0gW107XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50TXV0YXRpb25zU3RvcmUoZSkuSih7XG4gICAgICAgICAgICAgICAgcmFuZ2U6IG5cbiAgICAgICAgICAgIH0sICgoZSwgdCwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlWzBdID09PSB0aGlzLnVzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChlWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgci5wdXNoKHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBuLmRvbmUoKTtcbiAgICAgICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoMCA9PT0gci5sZW5ndGgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlQ29udGFpbnNLZXkoZSwgdGhpcy51c2VySWQsIHQpO1xuICAgIH1cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5IChzdGF0ZSBpcyBoZWxkIGluIG1lbW9yeSBpbiBvdGhlciBjbGllbnRzKS5cbiAgICAvKiogUmV0dXJucyB0aGUgbXV0YXRpb24gcXVldWUncyBtZXRhZGF0YSBmcm9tIEluZGV4ZWREYi4gKi9cbiAgICB4bihlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZXNTdG9yZShlKS5nZXQodGhpcy51c2VySWQpLm5leHQoKGUgPT4gZSB8fCB7XG4gICAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgICAgICAgbGFzdEFja25vd2xlZGdlZEJhdGNoSWQ6IC0xLFxuICAgICAgICAgICAgbGFzdFN0cmVhbVRva2VuOiBcIlwiXG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgbXV0YXRpb24gcXVldWUgZm9yIHRoZSBnaXZlbiB1c2VyIGNvbnRhaW5zIGEgcGVuZGluZ1xuICogICAgICAgICBtdXRhdGlvbiBmb3IgdGhlIGdpdmVuIGtleS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZUNvbnRhaW5zS2V5KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvblByZWZpeEZvclBhdGgodCwgbi5wYXRoKSwgaSA9IHJbMV0sIHMgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHIpO1xuICAgIGxldCBvID0gITE7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9kb2N1bWVudE11dGF0aW9uc1N0b3JlKGUpLkooe1xuICAgICAgICByYW5nZTogcyxcbiAgICAgICAgSDogITBcbiAgICB9LCAoKGUsIG4sIHIpID0+IHtcbiAgICAgICAgY29uc3QgW3MsIF8sIC8qYmF0Y2hJRCovIGFdID0gZTtcbiAgICAgICAgcyA9PT0gdCAmJiBfID09PSBpICYmIChvID0gITApLCByLmRvbmUoKTtcbiAgICB9KSkubmV4dCgoKCkgPT4gbykpO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGFueSBtdXRhdGlvbiBxdWV1ZSBjb250YWlucyB0aGUgZ2l2ZW4gZG9jdW1lbnQuICovXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgbXV0YXRpb25zIG9iamVjdCBzdG9yZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwibXV0YXRpb25zXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgbXV0YXRpb25RdWV1ZXMgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudE11dGF0aW9uc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiZG9jdW1lbnRNdXRhdGlvbnNcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBtdXRhdGlvblF1ZXVlcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX211dGF0aW9uUXVldWVzU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJtdXRhdGlvblF1ZXVlc1wiKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBPZmZzZXQgdG8gZW5zdXJlIG5vbi1vdmVybGFwcGluZyB0YXJnZXQgaWRzLiAqL1xuLyoqXG4gKiBHZW5lcmF0ZXMgbW9ub3RvbmljYWxseSBpbmNyZWFzaW5nIHRhcmdldCBJRHMgZm9yIHNlbmRpbmcgdGFyZ2V0cyB0byB0aGVcbiAqIHdhdGNoIHN0cmVhbS5cbiAqXG4gKiBUaGUgY2xpZW50IGNvbnN0cnVjdHMgdHdvIGdlbmVyYXRvcnMsIG9uZSBmb3IgdGhlIHRhcmdldCBjYWNoZSwgYW5kIG9uZSBmb3JcbiAqIGZvciB0aGUgc3luYyBlbmdpbmUgKHRvIGdlbmVyYXRlIGxpbWJvIGRvY3VtZW50cyB0YXJnZXRzKS4gVGhlc2VcbiAqIGdlbmVyYXRvcnMgcHJvZHVjZSBub24tb3ZlcmxhcHBpbmcgSURzIChieSB1c2luZyBldmVuIGFuZCBvZGQgSURzXG4gKiByZXNwZWN0aXZlbHkpLlxuICpcbiAqIEJ5IHNlcGFyYXRpbmcgdGhlIHRhcmdldCBJRCBzcGFjZSwgdGhlIHF1ZXJ5IGNhY2hlIGNhbiBnZW5lcmF0ZSB0YXJnZXQgSURzXG4gKiB0aGF0IHBlcnNpc3QgYWNyb3NzIGNsaWVudCByZXN0YXJ0cywgd2hpbGUgc3luYyBlbmdpbmUgY2FuIGluZGVwZW5kZW50bHlcbiAqIGdlbmVyYXRlIGluLW1lbW9yeSB0YXJnZXQgSURzIHRoYXQgYXJlIHRyYW5zaWVudCBhbmQgY2FuIGJlIHJldXNlZCBhZnRlciBhXG4gKiByZXN0YXJ0LlxuICovXG5jbGFzcyBfX1BSSVZBVEVfVGFyZ2V0SWRHZW5lcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5PbiA9IGU7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLk9uICs9IDIsIHRoaXMuT247XG4gICAgfVxuICAgIHN0YXRpYyBObigpIHtcbiAgICAgICAgLy8gVGhlIHRhcmdldCBjYWNoZSBnZW5lcmF0b3IgbXVzdCByZXR1cm4gJzInIGluIGl0cyBmaXJzdCBjYWxsIHRvIGBuZXh0KClgXG4gICAgICAgIC8vIGFzIHRoZXJlIGlzIG5vIGRpZmZlcmVudGlhdGlvbiBpbiB0aGUgcHJvdG9jb2wgbGF5ZXIgYmV0d2VlbiBhbiB1bnNldFxuICAgICAgICAvLyBudW1iZXIgYW5kIHRoZSBudW1iZXIgJzAnLiBJZiB3ZSB3ZXJlIHRvIHNlbnQgYSB0YXJnZXQgd2l0aCB0YXJnZXQgSURcbiAgICAgICAgLy8gJzAnLCB0aGUgYmFja2VuZCB3b3VsZCBjb25zaWRlciBpdCB1bnNldCBhbmQgcmVwbGFjZSBpdCB3aXRoIGl0cyBvd24gSUQuXG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yKDApO1xuICAgIH1cbiAgICBzdGF0aWMgTG4oKSB7XG4gICAgICAgIC8vIFN5bmMgZW5naW5lIGFzc2lnbnMgdGFyZ2V0IElEcyBmb3IgbGltYm8gZG9jdW1lbnQgZGV0ZWN0aW9uLlxuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9UYXJnZXRJZEdlbmVyYXRvcigtMSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiVGFyZ2V0Q2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSA9IGUsIHRoaXMuc2VyaWFsaXplciA9IHQ7XG4gICAgfVxuICAgIC8vIFBPUlRJTkcgTk9URTogV2UgZG9uJ3QgY2FjaGUgZ2xvYmFsIG1ldGFkYXRhIGZvciB0aGUgdGFyZ2V0IGNhY2hlLCBzaW5jZVxuICAgIC8vIHNvbWUgb2YgaXQgKGluIHBhcnRpY3VsYXIgYGhpZ2hlc3RUYXJnZXRJZGApIGNhbiBiZSBtb2RpZmllZCBieSBzZWNvbmRhcnlcbiAgICAvLyB0YWJzLiBXZSBjb3VsZCBwZXJoYXBzIGJlIG1vcmUgZ3JhbnVsYXIgKGFuZCBlLmcuIHN0aWxsIGNhY2hlXG4gICAgLy8gYGxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb25gIGluIG1lbW9yeSkgYnV0IGZvciBzaW1wbGljaXR5IHdlIGN1cnJlbnRseSBnb1xuICAgIC8vIHRvIEluZGV4ZWREYiB3aGVuZXZlciB3ZSBuZWVkIHRvIHJlYWQgbWV0YWRhdGEuIFdlIGNhbiByZXZpc2l0IGlmIGl0IHR1cm5zXG4gICAgLy8gb3V0IHRvIGhhdmUgYSBtZWFuaW5nZnVsIHBlcmZvcm1hbmNlIGltcGFjdC5cbiAgICBhbGxvY2F0ZVRhcmdldElkKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQm4oZSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9UYXJnZXRJZEdlbmVyYXRvcih0LmhpZ2hlc3RUYXJnZXRJZCk7XG4gICAgICAgICAgICByZXR1cm4gdC5oaWdoZXN0VGFyZ2V0SWQgPSBuLm5leHQoKSwgdGhpcy5rbihlLCB0KS5uZXh0KCgoKSA9PiB0LmhpZ2hlc3RUYXJnZXRJZCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5CbihlKS5uZXh0KChlID0+IFNuYXBzaG90VmVyc2lvbi5mcm9tVGltZXN0YW1wKG5ldyBUaW1lc3RhbXAoZS5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uLnNlY29uZHMsIGUubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbi5uYW5vc2Vjb25kcykpKSk7XG4gICAgfVxuICAgIGdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcihlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJuKGUpLm5leHQoKGUgPT4gZS5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIpKTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0c01ldGFkYXRhKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQm4oZSkubmV4dCgociA9PiAoci5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgPSB0LCBuICYmIChyLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24gPSBuLnRvVGltZXN0YW1wKCkpLCBcbiAgICAgICAgdCA+IHIuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyICYmIChyLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciA9IHQpLCB0aGlzLmtuKGUsIHIpKSkpO1xuICAgIH1cbiAgICBhZGRUYXJnZXREYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucW4oZSwgdCkubmV4dCgoKCkgPT4gdGhpcy5CbihlKS5uZXh0KChuID0+IChuLnRhcmdldENvdW50ICs9IDEsIHRoaXMuUW4odCwgbiksIFxuICAgICAgICB0aGlzLmtuKGUsIG4pKSkpKSk7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xbihlLCB0KTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsIHQudGFyZ2V0SWQpLm5leHQoKCgpID0+IF9fUFJJVkFURV90YXJnZXRzU3RvcmUoZSkuZGVsZXRlKHQudGFyZ2V0SWQpKSkubmV4dCgoKCkgPT4gdGhpcy5CbihlKSkpLm5leHQoKHQgPT4gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHQudGFyZ2V0Q291bnQgPiAwKSwgXG4gICAgICAgIHQudGFyZ2V0Q291bnQgLT0gMSwgdGhpcy5rbihlLCB0KSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRHJvcHMgYW55IHRhcmdldHMgd2l0aCBzZXF1ZW5jZSBudW1iZXIgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB1cHBlciBib3VuZCwgZXhjZXB0aW5nIHRob3NlXG4gICAgICogcHJlc2VudCBpbiBgYWN0aXZlVGFyZ2V0SWRzYC4gRG9jdW1lbnQgYXNzb2NpYXRpb25zIGZvciB0aGUgcmVtb3ZlZCB0YXJnZXRzIGFyZSBhbHNvIHJlbW92ZWQuXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHRhcmdldHMgcmVtb3ZlZC5cbiAgICAgKi8gICAgcmVtb3ZlVGFyZ2V0cyhlLCB0LCBuKSB7XG4gICAgICAgIGxldCByID0gMDtcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5KKCgocywgbykgPT4ge1xuICAgICAgICAgICAgY29uc3QgXyA9IF9fUFJJVkFURV9mcm9tRGJUYXJnZXQobyk7XG4gICAgICAgICAgICBfLnNlcXVlbmNlTnVtYmVyIDw9IHQgJiYgbnVsbCA9PT0gbi5nZXQoXy50YXJnZXRJZCkgJiYgKHIrKywgaS5wdXNoKHRoaXMucmVtb3ZlVGFyZ2V0RGF0YShlLCBfKSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IoaSkpKS5uZXh0KCgoKSA9PiByKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgcHJvdmlkZWQgZnVuY3Rpb24gd2l0aCBlYWNoIGBUYXJnZXREYXRhYCB0aGF0IHdlIGhhdmUgY2FjaGVkLlxuICAgICAqLyAgICBmb3JFYWNoVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV90YXJnZXRzU3RvcmUoZSkuSigoKGUsIG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZnJvbURiVGFyZ2V0KG4pO1xuICAgICAgICAgICAgdChyKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBCbihlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZ2xvYmFsVGFyZ2V0U3RvcmUoZSkuZ2V0KFwidGFyZ2V0R2xvYmFsS2V5XCIpLm5leHQoKGUgPT4gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KG51bGwgIT09IGUpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAga24oZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2dsb2JhbFRhcmdldFN0b3JlKGUpLnB1dChcInRhcmdldEdsb2JhbEtleVwiLCB0KTtcbiAgICB9XG4gICAgcW4oZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5wdXQoX19QUklWQVRFX3RvRGJUYXJnZXQodGhpcy5zZXJpYWxpemVyLCB0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluLXBsYWNlIHVwZGF0ZXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIHRvIGFjY291bnQgZm9yIHZhbHVlcyBpbiB0aGUgZ2l2ZW5cbiAgICAgKiBUYXJnZXREYXRhLiBTYXZpbmcgaXMgZG9uZSBzZXBhcmF0ZWx5LiBSZXR1cm5zIHRydWUgaWYgdGhlcmUgd2VyZSBhbnlcbiAgICAgKiBjaGFuZ2VzIHRvIHRoZSBtZXRhZGF0YS5cbiAgICAgKi8gICAgUW4oZSwgdCkge1xuICAgICAgICBsZXQgbiA9ICExO1xuICAgICAgICByZXR1cm4gZS50YXJnZXRJZCA+IHQuaGlnaGVzdFRhcmdldElkICYmICh0LmhpZ2hlc3RUYXJnZXRJZCA9IGUudGFyZ2V0SWQsIG4gPSAhMCksIFxuICAgICAgICBlLnNlcXVlbmNlTnVtYmVyID4gdC5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgJiYgKHQuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyID0gZS5zZXF1ZW5jZU51bWJlciwgXG4gICAgICAgIG4gPSAhMCksIG47XG4gICAgfVxuICAgIGdldFRhcmdldENvdW50KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQm4oZSkubmV4dCgoZSA9PiBlLnRhcmdldENvdW50KSk7XG4gICAgfVxuICAgIGdldFRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICAvLyBJdGVyYXRpbmcgYnkgdGhlIGNhbm9uaWNhbElkIG1heSB5aWVsZCBtb3JlIHRoYW4gb25lIHJlc3VsdCBiZWNhdXNlXG4gICAgICAgIC8vIGNhbm9uaWNhbElkIHZhbHVlcyBhcmUgbm90IHJlcXVpcmVkIHRvIGJlIHVuaXF1ZSBwZXIgdGFyZ2V0LiBUaGlzIHF1ZXJ5XG4gICAgICAgIC8vIGRlcGVuZHMgb24gdGhlIHF1ZXJ5VGFyZ2V0cyBpbmRleCB0byBiZSBlZmZpY2llbnQuXG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY2Fub25pZnlUYXJnZXQodCksIHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIG4sIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSBdLCBbIG4sIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdKTtcbiAgICAgICAgbGV0IGkgPSBudWxsO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIHJhbmdlOiByLFxuICAgICAgICAgICAgaW5kZXg6IFwicXVlcnlUYXJnZXRzSW5kZXhcIlxuICAgICAgICB9LCAoKGUsIG4sIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBfX1BSSVZBVEVfZnJvbURiVGFyZ2V0KG4pO1xuICAgICAgICAgICAgLy8gQWZ0ZXIgZmluZGluZyBhIHBvdGVudGlhbCBtYXRjaCwgY2hlY2sgdGhhdCB0aGUgdGFyZ2V0IGlzXG4gICAgICAgICAgICAvLyBhY3R1YWxseSBlcXVhbCB0byB0aGUgcmVxdWVzdGVkIHRhcmdldC5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV90YXJnZXRFcXVhbHModCwgcy50YXJnZXQpICYmIChpID0gcywgci5kb25lKCkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBhZGRNYXRjaGluZ0tleXMoZSwgdCwgbikge1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IFRoZSByZXZlcnNlIGluZGV4IChkb2N1bWVudHNUYXJnZXRzKSBpcyBtYWludGFpbmVkIGJ5XG4gICAgICAgIC8vIEluZGV4ZWREYi5cbiAgICAgICAgY29uc3QgciA9IFtdLCBpID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSk7XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodC5wYXRoKTtcbiAgICAgICAgICAgIHIucHVzaChpLnB1dCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0SWQ6IG4sXG4gICAgICAgICAgICAgICAgcGF0aDogc1xuICAgICAgICAgICAgfSkpLCByLnB1c2godGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5hZGRSZWZlcmVuY2UoZSwgbiwgdCkpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHIpO1xuICAgIH1cbiAgICByZW1vdmVNYXRjaGluZ0tleXMoZSwgdCwgbikge1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IFRoZSByZXZlcnNlIGluZGV4IChkb2N1bWVudHNUYXJnZXRzKSBpcyBtYWludGFpbmVkIGJ5XG4gICAgICAgIC8vIEluZGV4ZWREYi5cbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9kb2N1bWVudFRhcmdldFN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodC5wYXRoKTtcbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihbIHIuZGVsZXRlKFsgbiwgaSBdKSwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5yZW1vdmVSZWZlcmVuY2UoZSwgbiwgdCkgXSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSksIHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIHQgXSwgWyB0ICsgMSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITEsIFxuICAgICAgICAvKnVwcGVyT3Blbj0qLyAhMCk7XG4gICAgICAgIHJldHVybiBuLmRlbGV0ZShyKTtcbiAgICB9XG4gICAgZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0IF0sIFsgdCArIDEgXSwgXG4gICAgICAgIC8qbG93ZXJPcGVuPSovICExLCBcbiAgICAgICAgLyp1cHBlck9wZW49Ki8gITApLCByID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSk7XG4gICAgICAgIGxldCBpID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIHJldHVybiByLkooe1xuICAgICAgICAgICAgcmFuZ2U6IG4sXG4gICAgICAgICAgICBIOiAhMFxuICAgICAgICB9LCAoKGUsIHQsIG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVjb2RlUmVzb3VyY2VQYXRoKGVbMV0pLCBzID0gbmV3IERvY3VtZW50S2V5KHIpO1xuICAgICAgICAgICAgaSA9IGkuYWRkKHMpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBjb250YWluc0tleShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZW5jb2RlUmVzb3VyY2VQYXRoKHQucGF0aCksIHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIG4gXSwgWyBfX1BSSVZBVEVfaW1tZWRpYXRlU3VjY2Vzc29yKG4pIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgIC8qdXBwZXJPcGVuPSovICEwKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJkb2N1bWVudFRhcmdldHNJbmRleFwiLFxuICAgICAgICAgICAgSDogITAsXG4gICAgICAgICAgICByYW5nZTogclxuICAgICAgICB9LCAoKFtlLCB0XSwgbiwgcikgPT4ge1xuICAgICAgICAgICAgLy8gSGF2aW5nIGEgc2VudGluZWwgcm93IGZvciBhIGRvY3VtZW50IGRvZXMgbm90IGNvdW50IGFzIGNvbnRhaW5pbmcgdGhhdCBkb2N1bWVudDtcbiAgICAgICAgICAgIC8vIEZvciB0aGUgdGFyZ2V0IGNhY2hlLCBjb250YWluaW5nIHRoZSBkb2N1bWVudCBtZWFucyB0aGUgZG9jdW1lbnQgaXMgcGFydCBvZiBzb21lXG4gICAgICAgICAgICAvLyB0YXJnZXQuXG4gICAgICAgICAgICAwICE9PSBlICYmIChpKyssIHIuZG9uZSgpKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGkgPiAwKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIGEgVGFyZ2V0RGF0YSBlbnRyeSBieSB0YXJnZXQgSUQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0SWQgLSBUaGUgdGFyZ2V0IElEIG9mIHRoZSBUYXJnZXREYXRhIGVudHJ5IHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgVGhlIGNhY2hlZCBUYXJnZXREYXRhIGVudHJ5LCBvciBudWxsIGlmIHRoZSBjYWNoZSBoYXMgbm8gZW50cnkgZm9yXG4gICAgICogdGhlIHRhcmdldC5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgIG90KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV90YXJnZXRzU3RvcmUoZSkuZ2V0KHQpLm5leHQoKGUgPT4gZSA/IF9fUFJJVkFURV9mcm9tRGJUYXJnZXQoZSkgOiBudWxsKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgcXVlcmllcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcInRhcmdldHNcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSB0YXJnZXQgZ2xvYmFscyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2dsb2JhbFRhcmdldFN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwidGFyZ2V0R2xvYmFsXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgZG9jdW1lbnQgdGFyZ2V0IG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcInRhcmdldERvY3VtZW50c1wiKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2J1ZmZlckVudHJ5Q29tcGFyYXRvcihbZSwgdF0sIFtuLCByXSkge1xuICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLCBuKTtcbiAgICByZXR1cm4gMCA9PT0gaSA/IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKHQsIHIpIDogaTtcbn1cblxuLyoqXG4gKiBVc2VkIHRvIGNhbGN1bGF0ZSB0aGUgbnRoIHNlcXVlbmNlIG51bWJlci4gS2VlcHMgYSByb2xsaW5nIGJ1ZmZlciBvZiB0aGVcbiAqIGxvd2VzdCBuIHZhbHVlcyBwYXNzZWQgdG8gYGFkZEVsZW1lbnRgLCBhbmQgZmluYWxseSByZXBvcnRzIHRoZSBsYXJnZXN0IG9mXG4gKiB0aGVtIGluIGBtYXhWYWx1ZWAuXG4gKi8gY2xhc3MgX19QUklWQVRFX1JvbGxpbmdTZXF1ZW5jZU51bWJlckJ1ZmZlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLktuID0gZSwgdGhpcy5idWZmZXIgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9idWZmZXJFbnRyeUNvbXBhcmF0b3IpLCB0aGlzLiRuID0gMDtcbiAgICB9XG4gICAgVW4oKSB7XG4gICAgICAgIHJldHVybiArK3RoaXMuJG47XG4gICAgfVxuICAgIFduKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFsgZSwgdGhpcy5VbigpIF07XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlci5zaXplIDwgdGhpcy5LbikgdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5hZGQodCk7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuYnVmZmVyLmxhc3QoKTtcbiAgICAgICAgICAgIF9fUFJJVkFURV9idWZmZXJFbnRyeUNvbXBhcmF0b3IodCwgZSkgPCAwICYmICh0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLmRlbGV0ZShlKS5hZGQodCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgLy8gR3VhcmFudGVlZCB0byBiZSBub24tZW1wdHkuIElmIHdlIGRlY2lkZSB3ZSBhcmUgbm90IGNvbGxlY3RpbmcgYW55XG4gICAgICAgIC8vIHNlcXVlbmNlIG51bWJlcnMsIG50aFNlcXVlbmNlTnVtYmVyIGJlbG93IHNob3J0LWNpcmN1aXRzLiBJZiB3ZSBoYXZlXG4gICAgICAgIC8vIGRlY2lkZWQgdGhhdCB3ZSBhcmUgY29sbGVjdGluZyBuIHNlcXVlbmNlIG51bWJlcnMsIGl0J3MgYmVjYXVzZSBuIGlzIHNvbWVcbiAgICAgICAgLy8gcGVyY2VudGFnZSBvZiB0aGUgZXhpc3Rpbmcgc2VxdWVuY2UgbnVtYmVycy4gVGhhdCBtZWFucyB3ZSBzaG91bGQgbmV2ZXJcbiAgICAgICAgLy8gYmUgaW4gYSBzaXR1YXRpb24gd2hlcmUgd2UgYXJlIGNvbGxlY3Rpbmcgc2VxdWVuY2UgbnVtYmVycyBidXQgZG9uJ3RcbiAgICAgICAgLy8gYWN0dWFsbHkgaGF2ZSBhbnkuXG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sYXN0KClbMF07XG4gICAgfVxufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBzY2hlZHVsaW5nIG9mIExSVSBnYXJiYWdlIGNvbGxlY3Rpb24uIEl0IGhhbmRsZXMgY2hlY2tpbmdcbiAqIHdoZXRoZXIgb3Igbm90IEdDIGlzIGVuYWJsZWQsIGFzIHdlbGwgYXMgd2hpY2ggZGVsYXkgdG8gdXNlIGJlZm9yZSB0aGUgbmV4dCBydW4uXG4gKi8gY2xhc3MgX19QUklWQVRFX0xydVNjaGVkdWxlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLmdhcmJhZ2VDb2xsZWN0b3IgPSBlLCB0aGlzLmFzeW5jUXVldWUgPSB0LCB0aGlzLmxvY2FsU3RvcmUgPSBuLCB0aGlzLkduID0gbnVsbDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC0xICE9PSB0aGlzLmdhcmJhZ2VDb2xsZWN0b3IucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQgJiYgdGhpcy56big2ZTQpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLkduICYmICh0aGlzLkduLmNhbmNlbCgpLCB0aGlzLkduID0gbnVsbCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5HbjtcbiAgICB9XG4gICAgem4oZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIGBHYXJiYWdlIGNvbGxlY3Rpb24gc2NoZWR1bGVkIGluICR7ZX1tc2ApLCBcbiAgICAgICAgdGhpcy5HbiA9IHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheShcImxydV9nYXJiYWdlX2NvbGxlY3Rpb25cIiAvKiBUaW1lcklkLkxydUdhcmJhZ2VDb2xsZWN0aW9uICovICwgZSwgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuR24gPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2FsU3RvcmUuY29sbGVjdEdhcmJhZ2UodGhpcy5nYXJiYWdlQ29sbGVjdG9yKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpID8gX19QUklWQVRFX2xvZ0RlYnVnKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLCBcIklnbm9yaW5nIEluZGV4ZWREQiBlcnJvciBkdXJpbmcgZ2FyYmFnZSBjb2xsZWN0aW9uOiBcIiwgZSkgOiBhd2FpdCBfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy56bigzZTUpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIHN0ZXBzIGZvciBMUlUgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICovIGNsYXNzIF9fUFJJVkFURV9McnVHYXJiYWdlQ29sbGVjdG9ySW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmpuID0gZSwgdGhpcy5wYXJhbXMgPSB0O1xuICAgIH1cbiAgICBjYWxjdWxhdGVUYXJnZXRDb3VudChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpuLkhuKGUpLm5leHQoKGUgPT4gTWF0aC5mbG9vcih0IC8gMTAwICogZSkpKTtcbiAgICB9XG4gICAgbnRoU2VxdWVuY2VOdW1iZXIoZSwgdCkge1xuICAgICAgICBpZiAoMCA9PT0gdCkgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZSk7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX1JvbGxpbmdTZXF1ZW5jZU51bWJlckJ1ZmZlcih0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuam4uZm9yRWFjaFRhcmdldChlLCAoZSA9PiBuLlduKGUuc2VxdWVuY2VOdW1iZXIpKSkubmV4dCgoKCkgPT4gdGhpcy5qbi5KbihlLCAoZSA9PiBuLlduKGUpKSkpKS5uZXh0KCgoKSA9PiBuLm1heFZhbHVlKSk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldHMoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5qbi5yZW1vdmVUYXJnZXRzKGUsIHQsIG4pO1xuICAgIH1cbiAgICByZW1vdmVPcnBoYW5lZERvY3VtZW50cyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpuLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUsIHQpO1xuICAgIH1cbiAgICBjb2xsZWN0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIC0xID09PSB0aGlzLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkID8gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgXCJHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgZGlzYWJsZWRcIiksIFxuICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShBZSkpIDogdGhpcy5nZXRDYWNoZVNpemUoZSkubmV4dCgobiA9PiBuIDwgdGhpcy5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZCA/IChfX1BSSVZBVEVfbG9nRGVidWcoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIGBHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgQ2FjaGUgc2l6ZSAke259IGlzIGxvd2VyIHRoYW4gdGhyZXNob2xkICR7dGhpcy5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZH1gKSwgXG4gICAgICAgIEFlKSA6IHRoaXMuWW4oZSwgdCkpKTtcbiAgICB9XG4gICAgZ2V0Q2FjaGVTaXplKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuam4uZ2V0Q2FjaGVTaXplKGUpO1xuICAgIH1cbiAgICBZbihlLCB0KSB7XG4gICAgICAgIGxldCBuLCByLCBpLCBzLCBvLCBhLCB1O1xuICAgICAgICBjb25zdCBjID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlVGFyZ2V0Q291bnQoZSwgdGhpcy5wYXJhbXMucGVyY2VudGlsZVRvQ29sbGVjdCkubmV4dCgodCA9PiAoXG4gICAgICAgIC8vIENhcCBhdCB0aGUgY29uZmlndXJlZCBtYXhcbiAgICAgICAgdCA+IHRoaXMucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QgPyAoX19QUklWQVRFX2xvZ0RlYnVnKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLCBgQ2FwcGluZyBzZXF1ZW5jZSBudW1iZXJzIHRvIGNvbGxlY3QgZG93biB0byB0aGUgbWF4aW11bSBvZiAke3RoaXMucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3R9IGZyb20gJHt0fWApLCBcbiAgICAgICAgciA9IHRoaXMucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QpIDogciA9IHQsIHMgPSBEYXRlLm5vdygpLCB0aGlzLm50aFNlcXVlbmNlTnVtYmVyKGUsIHIpKSkpLm5leHQoKHIgPT4gKG4gPSByLCBcbiAgICAgICAgbyA9IERhdGUubm93KCksIHRoaXMucmVtb3ZlVGFyZ2V0cyhlLCBuLCB0KSkpKS5uZXh0KCh0ID0+IChpID0gdCwgYSA9IERhdGUubm93KCksIFxuICAgICAgICB0aGlzLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUsIG4pKSkpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKHUgPSBEYXRlLm5vdygpLCBfX1BSSVZBVEVfZ2V0TG9nTGV2ZWwoKSA8PSBsb2dnZXIuTG9nTGV2ZWwuREVCVUcpIHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIGBMUlUgR2FyYmFnZSBDb2xsZWN0aW9uXFxuXFx0Q291bnRlZCB0YXJnZXRzIGluICR7cyAtIGN9bXNcXG5cXHREZXRlcm1pbmVkIGxlYXN0IHJlY2VudGx5IHVzZWQgJHtyfSBpbiBgICsgKG8gLSBzKSArIFwibXNcXG5cIiArIGBcXHRSZW1vdmVkICR7aX0gdGFyZ2V0cyBpbiBgICsgKGEgLSBvKSArIFwibXNcXG5cIiArIGBcXHRSZW1vdmVkICR7ZX0gZG9jdW1lbnRzIGluIGAgKyAodSAtIGEpICsgXCJtc1xcblwiICsgYFRvdGFsIER1cmF0aW9uOiAke3UgLSBjfW1zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIGRpZFJ1bjogITAsXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOiByLFxuICAgICAgICAgICAgICAgIHRhcmdldHNSZW1vdmVkOiBpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50c1JlbW92ZWQ6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3THJ1R2FyYmFnZUNvbGxlY3RvcihlLCB0KSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTHJ1R2FyYmFnZUNvbGxlY3RvckltcGwoZSwgdCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogUHJvdmlkZXMgTFJVIGZ1bmN0aW9uYWxpdHkgZm9yIEluZGV4ZWREQiBwZXJzaXN0ZW5jZS4gKi8gY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYkxydURlbGVnYXRlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmRiID0gZSwgdGhpcy5nYXJiYWdlQ29sbGVjdG9yID0gX19QUklWQVRFX25ld0xydUdhcmJhZ2VDb2xsZWN0b3IodGhpcywgdCk7XG4gICAgfVxuICAgIEhuKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuWm4oZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkuZ2V0VGFyZ2V0Q291bnQoZSkubmV4dCgoZSA9PiB0Lm5leHQoKHQgPT4gZSArIHQpKSkpO1xuICAgIH1cbiAgICBabihlKSB7XG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuSm4oZSwgKGUgPT4ge1xuICAgICAgICAgICAgdCsrO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gdCkpO1xuICAgIH1cbiAgICBmb3JFYWNoVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5mb3JFYWNoVGFyZ2V0KGUsIHQpO1xuICAgIH1cbiAgICBKbihlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLlhuKGUsICgoZSwgbikgPT4gdChuKSkpO1xuICAgIH1cbiAgICBhZGRSZWZlcmVuY2UoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyaXRlU2VudGluZWxLZXkoZSwgbik7XG4gICAgfVxuICAgIHJlbW92ZVJlZmVyZW5jZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JpdGVTZW50aW5lbEtleShlLCBuKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0cyhlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkucmVtb3ZlVGFyZ2V0cyhlLCB0LCBuKTtcbiAgICB9XG4gICAgbWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyaXRlU2VudGluZWxLZXkoZSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhbnl0aGluZyB3b3VsZCBwcmV2ZW50IHRoaXMgZG9jdW1lbnQgZnJvbSBiZWluZyBnYXJiYWdlXG4gICAgICogY29sbGVjdGVkLCBnaXZlbiB0aGF0IHRoZSBkb2N1bWVudCBpbiBxdWVzdGlvbiBpcyBub3QgcHJlc2VudCBpbiBhbnlcbiAgICAgKiB0YXJnZXRzIGFuZCBoYXMgYSBzZXF1ZW5jZSBudW1iZXIgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB1cHBlciBib3VuZCBmb3JcbiAgICAgKiB0aGUgY29sbGVjdGlvbiBydW4uXG4gICAgICovICAgIGVyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlc0NvbnRhaW5LZXkoZSwgdCkge1xuICAgICAgICAgICAgbGV0IG4gPSAhMTtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZXNTdG9yZShlKS5ZKChyID0+IF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlQ29udGFpbnNLZXkoZSwgciwgdCkubmV4dCgoZSA9PiAoZSAmJiAobiA9ICEwKSwgXG4gICAgICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSghZSkpKSkpKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgICAgIH0oZSwgdCk7XG4gICAgfVxuICAgIHJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuZGIuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLm5ld0NoYW5nZUJ1ZmZlcigpLCByID0gW107XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuWG4oZSwgKChzLCBvKSA9PiB7XG4gICAgICAgICAgICBpZiAobyA8PSB0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuZXIoZSwgcykubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdCkgXG4gICAgICAgICAgICAgICAgICAgIC8vIE91ciBzaXplIGFjY291bnRpbmcgcmVxdWlyZXMgdXMgdG8gcmVhZCBhbGwgZG9jdW1lbnRzIGJlZm9yZVxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmluZyB0aGVtLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSsrLCBuLmdldEVudHJ5KGUsIHMpLm5leHQoKCgpID0+IChuLnJlbW92ZUVudHJ5KHMsIFNuYXBzaG90VmVyc2lvbi5taW4oKSksIFxuICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKS5kZWxldGUoZnVuY3Rpb24gX19QUklWQVRFX3NlbnRpbmVsS2V5JDEoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgMCwgX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChlLnBhdGgpIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBAcmV0dXJucyBBIHZhbHVlIHN1aXRhYmxlIGZvciB3cml0aW5nIGEgc2VudGluZWwgcm93IGluIHRoZSB0YXJnZXQtZG9jdW1lbnRcbiAqIHN0b3JlLlxuICovIChzKSkpKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHIucHVzaCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLm5leHQoKCgpID0+IFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHIpKSkubmV4dCgoKCkgPT4gbi5hcHBseShlKSkpLm5leHQoKCgpID0+IGkpKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQud2l0aFNlcXVlbmNlTnVtYmVyKGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS51cGRhdGVUYXJnZXREYXRhKGUsIG4pO1xuICAgIH1cbiAgICB1cGRhdGVMaW1ib0RvY3VtZW50KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV93cml0ZVNlbnRpbmVsS2V5KGUsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHByb3ZpZGVkIGZ1bmN0aW9uIGZvciBlYWNoIGRvY3VtZW50IGluIHRoZSBjYWNoZSB0aGF0IGlzICdvcnBoYW5lZCcuIE9ycGhhbmVkXG4gICAgICogbWVhbnMgbm90IGEgcGFydCBvZiBhbnkgdGFyZ2V0LCBzbyB0aGUgb25seSBlbnRyeSBpbiB0aGUgdGFyZ2V0LWRvY3VtZW50IGluZGV4IGZvclxuICAgICAqIHRoYXQgZG9jdW1lbnQgd2lsbCBiZSB0aGUgc2VudGluZWwgcm93ICh0YXJnZXRJZCAwKSwgd2hpY2ggd2lsbCBhbHNvIGhhdmUgdGhlIHNlcXVlbmNlXG4gICAgICogbnVtYmVyIGZvciB0aGUgbGFzdCB0aW1lIHRoZSBkb2N1bWVudCB3YXMgYWNjZXNzZWQuXG4gICAgICovICAgIFhuKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kb2N1bWVudFRhcmdldFN0b3JlKGUpO1xuICAgICAgICBsZXQgciwgaSA9IF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZTtcbiAgICAgICAgcmV0dXJuIG4uSih7XG4gICAgICAgICAgICBpbmRleDogXCJkb2N1bWVudFRhcmdldHNJbmRleFwiXG4gICAgICAgIH0sICgoW2UsIG5dLCB7cGF0aDogcywgc2VxdWVuY2VOdW1iZXI6IG99KSA9PiB7XG4gICAgICAgICAgICAwID09PSBlID8gKFxuICAgICAgICAgICAgLy8gaWYgbmV4dFRvUmVwb3J0IGlzIHZhbGlkLCByZXBvcnQgaXQsIHRoaXMgaXMgYSBuZXcga2V5IHNvIHRoZVxuICAgICAgICAgICAgLy8gbGFzdCBvbmUgbXVzdCBub3QgYmUgYSBtZW1iZXIgb2YgYW55IHRhcmdldHMuXG4gICAgICAgICAgICBpICE9PSBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2UgJiYgdChuZXcgRG9jdW1lbnRLZXkoX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChyKSksIGkpLCBcbiAgICAgICAgICAgIC8vIHNldCBuZXh0VG9SZXBvcnQgdG8gYmUgdGhpcyBzZXF1ZW5jZSBudW1iZXIuIEl0J3MgdGhlIG5leHQgb25lIHdlXG4gICAgICAgICAgICAvLyBtaWdodCByZXBvcnQsIGlmIHdlIGRvbid0IGZpbmQgYW55IHRhcmdldHMgZm9yIHRoaXMgZG9jdW1lbnQuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIHNlcXVlbmNlIG51bWJlciBtdXN0IGJlIGRlZmluZWQgd2hlbiB0aGUgdGFyZ2V0SWRcbiAgICAgICAgICAgIC8vIGlzIDAuXG4gICAgICAgICAgICBpID0gbywgciA9IHMpIDogXG4gICAgICAgICAgICAvLyBzZXQgbmV4dFRvUmVwb3J0IHRvIGJlIGludmFsaWQsIHdlIGtub3cgd2UgZG9uJ3QgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgIC8vIHRoaXMgb25lIHNpbmNlIHdlIGZvdW5kIGEgdGFyZ2V0IGZvciBpdC5cbiAgICAgICAgICAgIGkgPSBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2U7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBTaW5jZSB3ZSByZXBvcnQgc2VxdWVuY2UgbnVtYmVycyBhZnRlciBnZXR0aW5nIHRvIHRoZSBuZXh0IGtleSwgd2VcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gY2hlY2sgaWYgdGhlIGxhc3Qga2V5IHdlIGl0ZXJhdGVkIG92ZXIgd2FzIGFuIG9ycGhhbmVkXG4gICAgICAgICAgICAvLyBkb2N1bWVudCBhbmQgcmVwb3J0IGl0LlxuICAgICAgICAgICAgaSAhPT0gX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lICYmIHQobmV3IERvY3VtZW50S2V5KF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgocikpLCBpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXRDYWNoZVNpemUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkuZ2V0U2l6ZShlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV93cml0ZVNlbnRpbmVsS2V5KGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSkucHV0KGZ1bmN0aW9uIF9fUFJJVkFURV9zZW50aW5lbFJvdyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0YXJnZXRJZDogMCxcbiAgICAgICAgICAgIHBhdGg6IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZS5wYXRoKSxcbiAgICAgICAgICAgIHNlcXVlbmNlTnVtYmVyOiB0XG4gICAgICAgIH07XG4gICAgfSh0LCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlcikpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbi1tZW1vcnkgYnVmZmVyIG9mIGVudHJpZXMgdG8gYmUgd3JpdHRlbiB0byBhIFJlbW90ZURvY3VtZW50Q2FjaGUuXG4gKiBJdCBjYW4gYmUgdXNlZCB0byBiYXRjaCB1cCBhIHNldCBvZiBjaGFuZ2VzIHRvIGJlIHdyaXR0ZW4gdG8gdGhlIGNhY2hlLCBidXRcbiAqIGFkZGl0aW9uYWxseSBzdXBwb3J0cyByZWFkaW5nIGVudHJpZXMgYmFjayB3aXRoIHRoZSBgZ2V0RW50cnkoKWAgbWV0aG9kLFxuICogZmFsbGluZyBiYWNrIHRvIHRoZSB1bmRlcmx5aW5nIFJlbW90ZURvY3VtZW50Q2FjaGUgaWYgbm8gZW50cnkgaXNcbiAqIGJ1ZmZlcmVkLlxuICpcbiAqIEVudHJpZXMgYWRkZWQgdG8gdGhlIGNhY2hlICptdXN0KiBiZSByZWFkIGZpcnN0LiBUaGlzIGlzIHRvIGZhY2lsaXRhdGVcbiAqIGNhbGN1bGF0aW5nIHRoZSBzaXplIGRlbHRhIG9mIHRoZSBwZW5kaW5nIGNoYW5nZXMuXG4gKlxuICogUE9SVElORyBOT1RFOiBUaGlzIGNsYXNzIHdhcyBpbXBsZW1lbnRlZCB0aGVuIHJlbW92ZWQgZnJvbSBvdGhlciBwbGF0Zm9ybXMuXG4gKiBJZiBieXRlLWNvdW50aW5nIGVuZHMgdXAgYmVpbmcgbmVlZGVkIG9uIHRoZSBvdGhlciBwbGF0Zm9ybXMsIGNvbnNpZGVyXG4gKiBwb3J0aW5nIHRoaXMgY2xhc3MgYXMgcGFydCBvZiB0aGF0IGltcGxlbWVudGF0aW9uIHdvcmsuXG4gKi8gY2xhc3MgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBBIG1hcHBpbmcgb2YgZG9jdW1lbnQga2V5IHRvIHRoZSBuZXcgY2FjaGUgZW50cnkgdGhhdCBzaG91bGQgYmUgd3JpdHRlbi5cbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gbmV3IE9iamVjdE1hcCgoZSA9PiBlLnRvU3RyaW5nKCkpLCAoKGUsIHQpID0+IGUuaXNFcXVhbCh0KSkpLCB0aGlzLmNoYW5nZXNBcHBsaWVkID0gITE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1ZmZlcnMgYSBgUmVtb3RlRG9jdW1lbnRDYWNoZS5hZGRFbnRyeSgpYCBjYWxsLlxuICAgICAqXG4gICAgICogWW91IGNhbiBvbmx5IG1vZGlmeSBkb2N1bWVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiByZXRyaWV2ZWQgdmlhXG4gICAgICogYGdldEVudHJ5KCkvZ2V0RW50cmllcygpYCAoZW5mb3JjZWQgdmlhIEluZGV4ZWREYnMgYGFwcGx5KClgKS5cbiAgICAgKi8gICAgYWRkRW50cnkoZSkge1xuICAgICAgICB0aGlzLmFzc2VydE5vdEFwcGxpZWQoKSwgdGhpcy5jaGFuZ2VzLnNldChlLmtleSwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1ZmZlcnMgYSBgUmVtb3RlRG9jdW1lbnRDYWNoZS5yZW1vdmVFbnRyeSgpYCBjYWxsLlxuICAgICAqXG4gICAgICogWW91IGNhbiBvbmx5IHJlbW92ZSBkb2N1bWVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiByZXRyaWV2ZWQgdmlhXG4gICAgICogYGdldEVudHJ5KCkvZ2V0RW50cmllcygpYCAoZW5mb3JjZWQgdmlhIEluZGV4ZWREYnMgYGFwcGx5KClgKS5cbiAgICAgKi8gICAgcmVtb3ZlRW50cnkoZSwgdCkge1xuICAgICAgICB0aGlzLmFzc2VydE5vdEFwcGxpZWQoKSwgdGhpcy5jaGFuZ2VzLnNldChlLCBNdXRhYmxlRG9jdW1lbnQubmV3SW52YWxpZERvY3VtZW50KGUpLnNldFJlYWRUaW1lKHQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYW4gZW50cnkgaW4gdGhlIGNhY2hlLiBUaGUgYnVmZmVyZWQgY2hhbmdlcyB3aWxsIGZpcnN0IGJlIGNoZWNrZWQsXG4gICAgICogYW5kIGlmIG5vIGJ1ZmZlcmVkIGNoYW5nZSBhcHBsaWVzLCB0aGlzIHdpbGwgZm9yd2FyZCB0b1xuICAgICAqIGBSZW1vdGVEb2N1bWVudENhY2hlLmdldEVudHJ5KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uIC0gVGhlIHRyYW5zYWN0aW9uIGluIHdoaWNoIHRvIHBlcmZvcm0gYW55IHBlcnNpc3RlbmNlXG4gICAgICogICAgIG9wZXJhdGlvbnMuXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5IC0gVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2FjaGVkIGRvY3VtZW50IG9yIGFuIGludmFsaWQgZG9jdW1lbnQgaWYgd2UgaGF2ZSBub3RoaW5nXG4gICAgICogY2FjaGVkLlxuICAgICAqLyAgICBnZXRFbnRyeShlLCB0KSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5jaGFuZ2VzLmdldCh0KTtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gbiA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG4pIDogdGhpcy5nZXRGcm9tQ2FjaGUoZSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIHNldmVyYWwgZW50cmllcyBpbiB0aGUgY2FjaGUsIGZvcndhcmRpbmcgdG9cbiAgICAgKiBgUmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyeSgpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiAtIFRoZSB0cmFuc2FjdGlvbiBpbiB3aGljaCB0byBwZXJmb3JtIGFueSBwZXJzaXN0ZW5jZVxuICAgICAqICAgICBvcGVyYXRpb25zLlxuICAgICAqIEBwYXJhbSBkb2N1bWVudEtleXMgLSBUaGUga2V5cyBvZiB0aGUgZW50cmllcyB0byBsb29rIHVwLlxuICAgICAqIEByZXR1cm5zIEEgbWFwIG9mIGNhY2hlZCBkb2N1bWVudHMsIGluZGV4ZWQgYnkga2V5LiBJZiBhbiBlbnRyeSBjYW5ub3QgYmVcbiAgICAgKiAgICAgZm91bmQsIHRoZSBjb3JyZXNwb25kaW5nIGtleSB3aWxsIGJlIG1hcHBlZCB0byBhbiBpbnZhbGlkIGRvY3VtZW50LlxuICAgICAqLyAgICBnZXRFbnRyaWVzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsRnJvbUNhY2hlKGUsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGJ1ZmZlcmVkIGNoYW5nZXMgdG8gdGhlIHVuZGVybHlpbmcgUmVtb3RlRG9jdW1lbnRDYWNoZSwgdXNpbmdcbiAgICAgKiB0aGUgcHJvdmlkZWQgdHJhbnNhY3Rpb24uXG4gICAgICovICAgIGFwcGx5KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLCB0aGlzLmNoYW5nZXNBcHBsaWVkID0gITAsIHRoaXMuYXBwbHlDaGFuZ2VzKGUpO1xuICAgIH1cbiAgICAvKiogSGVscGVyIHRvIGFzc2VydCB0aGlzLmNoYW5nZXMgaXMgbm90IG51bGwgICovICAgIGFzc2VydE5vdEFwcGxpZWQoKSB7fVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgUmVtb3RlRG9jdW1lbnRDYWNoZSBmb3IgSW5kZXhlZERiLiBUbyBjb25zdHJ1Y3QsIGludm9rZVxuICogYG5ld0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGUoKWAuXG4gKi8gY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IGU7XG4gICAgfVxuICAgIHNldEluZGV4TWFuYWdlcihlKSB7XG4gICAgICAgIHRoaXMuaW5kZXhNYW5hZ2VyID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgc3VwcGxpZWQgZW50cmllcyB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBBbGwgY2FsbHMgb2YgYGFkZEVudHJ5YCBhcmUgcmVxdWlyZWQgdG8gZ28gdGhyb3VnaCB0aGUgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXJcbiAgICAgKiByZXR1cm5lZCBieSBgbmV3Q2hhbmdlQnVmZmVyKClgIHRvIGVuc3VyZSBwcm9wZXIgYWNjb3VudGluZyBvZiBtZXRhZGF0YS5cbiAgICAgKi8gICAgYWRkRW50cnkoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpLnB1dChuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGRvY3VtZW50IGZyb20gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQWxsIGNhbGxzIG9mIGByZW1vdmVFbnRyeWAgIGFyZSByZXF1aXJlZCB0byBnbyB0aHJvdWdoIHRoZSBSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlclxuICAgICAqIHJldHVybmVkIGJ5IGBuZXdDaGFuZ2VCdWZmZXIoKWAgdG8gZW5zdXJlIHByb3BlciBhY2NvdW50aW5nIG9mIG1ldGFkYXRhLlxuICAgICAqLyAgICByZW1vdmVFbnRyeShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcmVtb3RlRG9jdW1lbnRzU3RvcmUoZSkuZGVsZXRlKFxuICAgICAgICAvKipcbiAqIFJldHVybnMgYSBrZXkgdGhhdCBjYW4gYmUgdXNlZCBmb3IgZG9jdW1lbnQgbG9va3VwcyB2aWEgdGhlIHByaW1hcnkga2V5IG9mXG4gKiB0aGUgRGJSZW1vdGVEb2N1bWVudCBvYmplY3Qgc3RvcmUuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2RiUmVhZFRpbWVLZXkoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUucGF0aC50b0FycmF5KCk7XG4gICAgICAgICAgICByZXR1cm4gWyBcbiAgICAgICAgICAgIC8qIHByZWZpeCBwYXRoICovIG4uc2xpY2UoMCwgbi5sZW5ndGggLSAyKSwgXG4gICAgICAgICAgICAvKiBjb2xsZWN0aW9uIGlkICovIG5bbi5sZW5ndGggLSAyXSwgX19QUklWQVRFX3RvRGJUaW1lc3RhbXBLZXkodCksIFxuICAgICAgICAgICAgLyogZG9jdW1lbnQgaWQgKi8gbltuLmxlbmd0aCAtIDFdIF07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBSZXR1cm5zIGEga2V5IHRoYXQgY2FuIGJlIHVzZWQgZm9yIGRvY3VtZW50IGxvb2t1cHMgb24gdGhlXG4gKiBgRGJSZW1vdGVEb2N1bWVudERvY3VtZW50Q29sbGVjdGlvbkdyb3VwSW5kZXhgIGluZGV4LlxuICovICh0LCBuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgY2FjaGUgc2l6ZS5cbiAgICAgKlxuICAgICAqIENhbGxlcnMgdG8gYGFkZEVudHJ5KClgIGFuZCBgcmVtb3ZlRW50cnkoKWAgKm11c3QqIGNhbGwgdGhpcyBhZnRlcndhcmRzIHRvIHVwZGF0ZSB0aGVcbiAgICAgKiBjYWNoZSdzIG1ldGFkYXRhLlxuICAgICAqLyAgICB1cGRhdGVNZXRhZGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFkYXRhKGUpLm5leHQoKG4gPT4gKG4uYnl0ZVNpemUgKz0gdCwgdGhpcy50cihlLCBuKSkpKTtcbiAgICB9XG4gICAgZ2V0RW50cnkoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IE11dGFibGVEb2N1bWVudC5uZXdJbnZhbGlkRG9jdW1lbnQodCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcmVtb3RlRG9jdW1lbnRzU3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJkb2N1bWVudEtleUluZGV4XCIsXG4gICAgICAgICAgICByYW5nZTogSURCS2V5UmFuZ2Uub25seShfX1BSSVZBVEVfZGJLZXkodCkpXG4gICAgICAgIH0sICgoZSwgcikgPT4ge1xuICAgICAgICAgICAgbiA9IHRoaXMubnIodCwgcik7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIGFuIGVudHJ5IGluIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudEtleSAtIFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgVGhlIGNhY2hlZCBkb2N1bWVudCBlbnRyeSBhbmQgaXRzIHNpemUuXG4gICAgICovICAgIHJyKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSB7XG4gICAgICAgICAgICBzaXplOiAwLFxuICAgICAgICAgICAgZG9jdW1lbnQ6IE11dGFibGVEb2N1bWVudC5uZXdJbnZhbGlkRG9jdW1lbnQodClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50S2V5SW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBJREJLZXlSYW5nZS5vbmx5KF9fUFJJVkFURV9kYktleSh0KSlcbiAgICAgICAgfSwgKChlLCByKSA9PiB7XG4gICAgICAgICAgICBuID0ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50OiB0aGlzLm5yKHQsIHIpLFxuICAgICAgICAgICAgICAgIHNpemU6IF9fUFJJVkFURV9kYkRvY3VtZW50U2l6ZShyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgZ2V0RW50cmllcyhlLCB0KSB7XG4gICAgICAgIGxldCBuID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pcihlLCB0LCAoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLm5yKGUsIHQpO1xuICAgICAgICAgICAgbiA9IG4uaW5zZXJ0KGUsIHIpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb29rcyB1cCBzZXZlcmFsIGVudHJpZXMgaW4gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5cyAtIFRoZSBzZXQgb2Yga2V5cyBlbnRyaWVzIHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgQSBtYXAgb2YgZG9jdW1lbnRzIGluZGV4ZWQgYnkga2V5IGFuZCBhIG1hcCBvZiBzaXplcyBpbmRleGVkIGJ5XG4gICAgICogICAgIGtleSAoemVybyBpZiB0aGUgZG9jdW1lbnQgZG9lcyBub3QgZXhpc3QpLlxuICAgICAqLyAgICBzcihlLCB0KSB7XG4gICAgICAgIGxldCBuID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpLCByID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXIoZSwgdCwgKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gdGhpcy5ucihlLCB0KTtcbiAgICAgICAgICAgIG4gPSBuLmluc2VydChlLCBpKSwgciA9IHIuaW5zZXJ0KGUsIF9fUFJJVkFURV9kYkRvY3VtZW50U2l6ZSh0KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiAoe1xuICAgICAgICAgICAgZG9jdW1lbnRzOiBuLFxuICAgICAgICAgICAgX3I6IHJcbiAgICAgICAgfSkpKTtcbiAgICB9XG4gICAgaXIoZSwgdCwgbikge1xuICAgICAgICBpZiAodC5pc0VtcHR5KCkpIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBsZXQgciA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX2RiS2V5Q29tcGFyYXRvcik7XG4gICAgICAgIHQuZm9yRWFjaCgoZSA9PiByID0gci5hZGQoZSkpKTtcbiAgICAgICAgY29uc3QgaSA9IElEQktleVJhbmdlLmJvdW5kKF9fUFJJVkFURV9kYktleShyLmZpcnN0KCkpLCBfX1BSSVZBVEVfZGJLZXkoci5sYXN0KCkpKSwgcyA9IHIuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgbGV0IG8gPSBzLmdldE5leHQoKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50S2V5SW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBpXG4gICAgICAgIH0sICgoZSwgdCwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IERvY3VtZW50S2V5LmZyb21TZWdtZW50cyhbIC4uLnQucHJlZml4UGF0aCwgdC5jb2xsZWN0aW9uR3JvdXAsIHQuZG9jdW1lbnRJZCBdKTtcbiAgICAgICAgICAgIC8vIEdvIHRocm91Z2gga2V5cyBub3QgZm91bmQgaW4gY2FjaGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDtvICYmIF9fUFJJVkFURV9kYktleUNvbXBhcmF0b3IobywgaSkgPCAwOyApIG4obywgbnVsbCksIG8gPSBzLmdldE5leHQoKTtcbiAgICAgICAgICAgIG8gJiYgby5pc0VxdWFsKGkpICYmIChcbiAgICAgICAgICAgIC8vIEtleSBmb3VuZCBpbiBjYWNoZS5cbiAgICAgICAgICAgIG4obywgdCksIG8gPSBzLmhhc05leHQoKSA/IHMuZ2V0TmV4dCgpIDogbnVsbCksIFxuICAgICAgICAgICAgLy8gU2tpcCB0byB0aGUgbmV4dCBrZXkgKGlmIHRoZXJlIGlzIG9uZSkuXG4gICAgICAgICAgICBvID8gci4kKF9fUFJJVkFURV9kYktleShvKSkgOiByLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBrZXlzIGFyZSBub3QgaW4gdGhlIGNhY2hlLiBPbmUgY2FzZSB3aGVyZSBgaXRlcmF0ZWBcbiAgICAgICAgICAgIC8vIGFib3ZlIHdvbid0IGdvIHRocm91Z2ggdGhlbSBpcyB3aGVuIHRoZSBjYWNoZSBpcyBlbXB0eS5cbiAgICAgICAgICAgIGZvciAoO287ICkgbihvLCBudWxsKSwgbyA9IHMuaGFzTmV4dCgpID8gcy5nZXROZXh0KCkgOiBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICBjb25zdCBzID0gdC5wYXRoLCBvID0gWyBzLnBvcExhc3QoKS50b0FycmF5KCksIHMubGFzdFNlZ21lbnQoKSwgX19QUklWQVRFX3RvRGJUaW1lc3RhbXBLZXkobi5yZWFkVGltZSksIG4uZG9jdW1lbnRLZXkucGF0aC5pc0VtcHR5KCkgPyBcIlwiIDogbi5kb2N1bWVudEtleS5wYXRoLmxhc3RTZWdtZW50KCkgXSwgXyA9IFsgcy5wb3BMYXN0KCkudG9BcnJheSgpLCBzLmxhc3RTZWdtZW50KCksIFsgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIF0sIFwiXCIgXTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZShlKS5VKElEQktleVJhbmdlLmJvdW5kKG8sIF8sICEwKSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBudWxsID09IGkgfHwgaS5pbmNyZW1lbnREb2N1bWVudFJlYWRDb3VudChlLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgbiA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMubnIoRG9jdW1lbnRLZXkuZnJvbVNlZ21lbnRzKGkucHJlZml4UGF0aC5jb25jYXQoaS5jb2xsZWN0aW9uR3JvdXAsIGkuZG9jdW1lbnRJZCkpLCBpKTtcbiAgICAgICAgICAgICAgICBlLmlzRm91bmREb2N1bWVudCgpICYmIChfX1BSSVZBVEVfcXVlcnlNYXRjaGVzKHQsIGUpIHx8IHIuaGFzKGUua2V5KSkgJiYgKFxuICAgICAgICAgICAgICAgIC8vIEVpdGhlciB0aGUgZG9jdW1lbnQgbWF0Y2hlcyB0aGUgZ2l2ZW4gcXVlcnksIG9yIGl0IGlzIG11dGF0ZWQuXG4gICAgICAgICAgICAgICAgbiA9IG4uaW5zZXJ0KGUua2V5LCBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXRBbGxGcm9tQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgbGV0IGkgPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCk7XG4gICAgICAgIGNvbnN0IHMgPSBfX1BSSVZBVEVfZGJDb2xsZWN0aW9uR3JvdXBLZXkodCwgbiksIG8gPSBfX1BSSVZBVEVfZGJDb2xsZWN0aW9uR3JvdXBLZXkodCwgSW5kZXhPZmZzZXQubWF4KCkpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwiY29sbGVjdGlvbkdyb3VwSW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBJREJLZXlSYW5nZS5ib3VuZChzLCBvLCAhMClcbiAgICAgICAgfSwgKChlLCB0LCBuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5ucihEb2N1bWVudEtleS5mcm9tU2VnbWVudHModC5wcmVmaXhQYXRoLmNvbmNhdCh0LmNvbGxlY3Rpb25Hcm91cCwgdC5kb2N1bWVudElkKSksIHQpO1xuICAgICAgICAgICAgaSA9IGkuaW5zZXJ0KHMua2V5LCBzKSwgaS5zaXplID09PSByICYmIG4uZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBuZXdDaGFuZ2VCdWZmZXIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlcih0aGlzLCAhIWUgJiYgZS50cmFja1JlbW92YWxzKTtcbiAgICB9XG4gICAgZ2V0U2l6ZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFkYXRhKGUpLm5leHQoKGUgPT4gZS5ieXRlU2l6ZSkpO1xuICAgIH1cbiAgICBnZXRNZXRhZGF0YShlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRHbG9iYWxTdG9yZShlKS5nZXQoXCJyZW1vdGVEb2N1bWVudEdsb2JhbEtleVwiKS5uZXh0KChlID0+IChfX1BSSVZBVEVfaGFyZEFzc2VydCghIWUpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAgdHIoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50R2xvYmFsU3RvcmUoZSkucHV0KFwicmVtb3RlRG9jdW1lbnRHbG9iYWxLZXlcIiwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZXMgYGRiUmVtb3RlRG9jYCBhbmQgcmV0dXJucyB0aGUgZG9jdW1lbnQgKG9yIGFuIGludmFsaWQgZG9jdW1lbnQgaWZcbiAgICAgKiB0aGUgZG9jdW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIGZvcm1hdCB1c2VkIGZvciBzZW50aW5lbCBkZWxldGVzKS5cbiAgICAgKi8gICAgbnIoZSwgdCkge1xuICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9mcm9tRGJSZW1vdGVEb2N1bWVudCh0aGlzLnNlcmlhbGl6ZXIsIHQpO1xuICAgICAgICAgICAgLy8gV2hldGhlciB0aGUgZG9jdW1lbnQgaXMgYSBzZW50aW5lbCByZW1vdmFsIGFuZCBzaG91bGQgb25seSBiZSB1c2VkIGluIHRoZVxuICAgICAgICAgICAgLy8gYGdldE5ld0RvY3VtZW50Q2hhbmdlcygpYFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZS5pc05vRG9jdW1lbnQoKSAmJiBlLnZlcnNpb24uaXNFcXVhbChTbmFwc2hvdFZlcnNpb24ubWluKCkpKSkgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE11dGFibGVEb2N1bWVudC5uZXdJbnZhbGlkRG9jdW1lbnQoZSk7XG4gICAgfVxufVxuXG4vKiogQ3JlYXRlcyBhIG5ldyBJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3SW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZShlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZUltcGwoZSk7XG59XG5cbi8qKlxuICogSGFuZGxlcyB0aGUgZGV0YWlscyBvZiBhZGRpbmcgYW5kIHVwZGF0aW5nIGRvY3VtZW50cyBpbiB0aGUgSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqXG4gKiBVbmxpa2UgdGhlIE1lbW9yeVJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyLCB0aGUgSW5kZXhlZERiIGltcGxlbWVudGF0aW9uIGNvbXB1dGVzIHRoZSBzaXplXG4gKiBkZWx0YSBmb3IgYWxsIHN1Ym1pdHRlZCBjaGFuZ2VzLiBUaGlzIGF2b2lkcyBoYXZpbmcgdG8gcmUtcmVhZCBhbGwgZG9jdW1lbnRzIGZyb20gSW5kZXhlZERiXG4gKiB3aGVuIHdlIGFwcGx5IHRoZSBjaGFuZ2VzLlxuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciBleHRlbmRzIFJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRDYWNoZSAtIFRoZSBJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlIHRvIGFwcGx5IHRoZSBjaGFuZ2VzIHRvLlxuICAgICAqIEBwYXJhbSB0cmFja1JlbW92YWxzIC0gV2hldGhlciB0byBjcmVhdGUgc2VudGluZWwgZGVsZXRlcyB0aGF0IGNhbiBiZSB0cmFja2VkIGJ5XG4gICAgICogYGdldE5ld0RvY3VtZW50Q2hhbmdlcygpYC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuYXIgPSBlLCB0aGlzLnRyYWNrUmVtb3ZhbHMgPSB0LCBcbiAgICAgICAgLy8gQSBtYXAgb2YgZG9jdW1lbnQgc2l6ZXMgYW5kIHJlYWQgdGltZXMgcHJpb3IgdG8gYXBwbHlpbmcgdGhlIGNoYW5nZXMgaW5cbiAgICAgICAgLy8gdGhpcyBidWZmZXIuXG4gICAgICAgIHRoaXMudXIgPSBuZXcgT2JqZWN0TWFwKChlID0+IGUudG9TdHJpbmcoKSksICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSk7XG4gICAgfVxuICAgIGFwcGx5Q2hhbmdlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgbGV0IG4gPSAwLCByID0gbmV3IFNvcnRlZFNldCgoKGUsIHQpID0+IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUuY2Fub25pY2FsU3RyaW5nKCksIHQuY2Fub25pY2FsU3RyaW5nKCkpKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5nZXMuZm9yRWFjaCgoKGksIHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG8gPSB0aGlzLnVyLmdldChpKTtcbiAgICAgICAgICAgIGlmICh0LnB1c2godGhpcy5hci5yZW1vdmVFbnRyeShlLCBpLCBvLnJlYWRUaW1lKSksIHMuaXNWYWxpZERvY3VtZW50KCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfID0gX19QUklWQVRFX3RvRGJSZW1vdGVEb2N1bWVudCh0aGlzLmFyLnNlcmlhbGl6ZXIsIHMpO1xuICAgICAgICAgICAgICAgIHIgPSByLmFkZChpLnBhdGgucG9wTGFzdCgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gX19QUklWQVRFX2RiRG9jdW1lbnRTaXplKF8pO1xuICAgICAgICAgICAgICAgIG4gKz0gYSAtIG8uc2l6ZSwgdC5wdXNoKHRoaXMuYXIuYWRkRW50cnkoZSwgaSwgXykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuIC09IG8uc2l6ZSwgdGhpcy50cmFja1JlbW92YWxzKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gdHJhY2sgcmVtb3ZhbHMsIHdlIHN0b3JlIGEgXCJzZW50aW5lbCBkZWxldGVcIiBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBSZW1vdGVEb2N1bWVudENhY2hlLiBUaGlzIGVudHJ5IGlzIHJlcHJlc2VudGVkIGJ5IGEgTm9Eb2N1bWVudFxuICAgICAgICAgICAgICAgIC8vIHdpdGggYSB2ZXJzaW9uIG9mIDAgYW5kIGlnbm9yZWQgYnkgYG1heWJlRGVjb2RlRG9jdW1lbnQoKWAgYnV0XG4gICAgICAgICAgICAgICAgLy8gcHJlc2VydmVkIGluIGBnZXROZXdEb2N1bWVudENoYW5nZXMoKWAuXG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV90b0RiUmVtb3RlRG9jdW1lbnQodGhpcy5hci5zZXJpYWxpemVyLCBzLmNvbnZlcnRUb05vRG9jdW1lbnQoU25hcHNob3RWZXJzaW9uLm1pbigpKSk7XG4gICAgICAgICAgICAgICAgdC5wdXNoKHRoaXMuYXIuYWRkRW50cnkoZSwgaSwgbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIHIuZm9yRWFjaCgobiA9PiB7XG4gICAgICAgICAgICB0LnB1c2godGhpcy5hci5pbmRleE1hbmFnZXIuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSwgbikpO1xuICAgICAgICB9KSksIHQucHVzaCh0aGlzLmFyLnVwZGF0ZU1ldGFkYXRhKGUsIG4pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IodCk7XG4gICAgfVxuICAgIGdldEZyb21DYWNoZShlLCB0KSB7XG4gICAgICAgIC8vIFJlY29yZCB0aGUgc2l6ZSBvZiBldmVyeXRoaW5nIHdlIGxvYWQgZnJvbSB0aGUgY2FjaGUgc28gd2UgY2FuIGNvbXB1dGUgYSBkZWx0YSBsYXRlci5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXIucnIoZSwgdCkubmV4dCgoZSA9PiAodGhpcy51ci5zZXQodCwge1xuICAgICAgICAgICAgc2l6ZTogZS5zaXplLFxuICAgICAgICAgICAgcmVhZFRpbWU6IGUuZG9jdW1lbnQucmVhZFRpbWVcbiAgICAgICAgfSksIGUuZG9jdW1lbnQpKSk7XG4gICAgfVxuICAgIGdldEFsbEZyb21DYWNoZShlLCB0KSB7XG4gICAgICAgIC8vIFJlY29yZCB0aGUgc2l6ZSBvZiBldmVyeXRoaW5nIHdlIGxvYWQgZnJvbSB0aGUgY2FjaGUgc28gd2UgY2FuIGNvbXB1dGVcbiAgICAgICAgLy8gYSBkZWx0YSBsYXRlci5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXIuc3IoZSwgdCkubmV4dCgoKHtkb2N1bWVudHM6IGUsIF9yOiB0fSkgPT4gKFxuICAgICAgICAvLyBOb3RlOiBgZ2V0QWxsRnJvbUNhY2hlYCByZXR1cm5zIHR3byBtYXBzIGluc3RlYWQgb2YgYSBzaW5nbGUgbWFwIGZyb21cbiAgICAgICAgLy8ga2V5cyB0byBgRG9jdW1lbnRTaXplRW50cnlgcy4gVGhpcyBpcyB0byBhbGxvdyByZXR1cm5pbmcgdGhlXG4gICAgICAgIC8vIGBNdXRhYmxlRG9jdW1lbnRNYXBgIGRpcmVjdGx5LCB3aXRob3V0IGEgY29udmVyc2lvbi5cbiAgICAgICAgdC5mb3JFYWNoKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgdGhpcy51ci5zZXQodCwge1xuICAgICAgICAgICAgICAgIHNpemU6IG4sXG4gICAgICAgICAgICAgICAgcmVhZFRpbWU6IGUuZ2V0KHQpLnJlYWRUaW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpLCBlKSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2RvY3VtZW50R2xvYmFsU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIHJlbW90ZURvY3VtZW50cyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwicmVtb3RlRG9jdW1lbnRzVjE0XCIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBrZXkgdGhhdCBjYW4gYmUgdXNlZCBmb3IgZG9jdW1lbnQgbG9va3VwcyBvbiB0aGVcbiAqIGBEYlJlbW90ZURvY3VtZW50RG9jdW1lbnRLZXlJbmRleGAgaW5kZXguXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RiS2V5KGUpIHtcbiAgICBjb25zdCB0ID0gZS5wYXRoLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gWyBcbiAgICAvKiBwcmVmaXggcGF0aCAqLyB0LnNsaWNlKDAsIHQubGVuZ3RoIC0gMiksIFxuICAgIC8qIGNvbGxlY3Rpb24gaWQgKi8gdFt0Lmxlbmd0aCAtIDJdLCBcbiAgICAvKiBkb2N1bWVudCBpZCAqLyB0W3QubGVuZ3RoIC0gMV0gXTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2RiQ29sbGVjdGlvbkdyb3VwS2V5KGUsIHQpIHtcbiAgICBjb25zdCBuID0gdC5kb2N1bWVudEtleS5wYXRoLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gWyBcbiAgICAvKiBjb2xsZWN0aW9uIGlkICovIGUsIF9fUFJJVkFURV90b0RiVGltZXN0YW1wS2V5KHQucmVhZFRpbWUpLCBcbiAgICAvKiBwcmVmaXggcGF0aCAqLyBuLnNsaWNlKDAsIG4ubGVuZ3RoIC0gMiksIFxuICAgIC8qIGRvY3VtZW50IGlkICovIG4ubGVuZ3RoID4gMCA/IG5bbi5sZW5ndGggLSAxXSA6IFwiXCIgXTtcbn1cblxuLyoqXG4gKiBDb21wYXJhdG9yIHRoYXQgY29tcGFyZXMgZG9jdW1lbnQga2V5cyBhY2NvcmRpbmcgdG8gdGhlIHByaW1hcnkga2V5IHNvcnRpbmdcbiAqIHVzZWQgYnkgdGhlIGBEYlJlbW90ZURvY3VtZW50RG9jdW1lbnRgIHN0b3JlIChieSBwcmVmaXggcGF0aCwgY29sbGVjdGlvbiBpZFxuICogYW5kIHRoZW4gZG9jdW1lbnQgSUQpLlxuICpcbiAqIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RiS2V5Q29tcGFyYXRvcihlLCB0KSB7XG4gICAgY29uc3QgbiA9IGUucGF0aC50b0FycmF5KCksIHIgPSB0LnBhdGgudG9BcnJheSgpO1xuICAgIC8vIFRoZSBvcmRlcmluZyBpcyBiYXNlZCBvbiBodHRwczovL2Nocm9taXVtLmdvb2dsZXNvdXJjZS5jb20vY2hyb21pdW0vYmxpbmsvKy9mZTVjMjFmZWY5NGRhZTcxYzFjMzM0NDc3NWI4ZDhhN2Y3ZTZkOWVjL1NvdXJjZS9tb2R1bGVzL2luZGV4ZWRkYi9JREJLZXkuY3BwIzc0XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAobGV0IGUgPSAwOyBlIDwgbi5sZW5ndGggLSAyICYmIGUgPCByLmxlbmd0aCAtIDI7ICsrZSkgaWYgKGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuW2VdLCByW2VdKSwgXG4gICAgaSkgcmV0dXJuIGk7XG4gICAgcmV0dXJuIGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLmxlbmd0aCwgci5sZW5ndGgpLCBpIHx8IChpID0gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IobltuLmxlbmd0aCAtIDJdLCByW3IubGVuZ3RoIC0gMl0pLCBcbiAgICBpIHx8IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG5bbi5sZW5ndGggLSAxXSwgcltyLmxlbmd0aCAtIDFdKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFNjaGVtYSBWZXJzaW9uIGZvciB0aGUgV2ViIGNsaWVudDpcbiAqIDEuICBJbml0aWFsIHZlcnNpb24gaW5jbHVkaW5nIE11dGF0aW9uIFF1ZXVlLCBRdWVyeSBDYWNoZSwgYW5kIFJlbW90ZVxuICogICAgIERvY3VtZW50IENhY2hlXG4gKiAyLiAgVXNlZCB0byBlbnN1cmUgYSB0YXJnZXRHbG9iYWwgb2JqZWN0IGV4aXN0cyBhbmQgYWRkIHRhcmdldENvdW50IHRvIGl0LiBOb1xuICogICAgIGxvbmdlciByZXF1aXJlZCBiZWNhdXNlIG1pZ3JhdGlvbiAzIHVuY29uZGl0aW9uYWxseSBjbGVhcnMgaXQuXG4gKiAzLiAgRHJvcHBlZCBhbmQgcmUtY3JlYXRlZCBRdWVyeSBDYWNoZSB0byBkZWFsIHdpdGggY2FjaGUgY29ycnVwdGlvbiByZWxhdGVkXG4gKiAgICAgdG8gbGltYm8gcmVzb2x1dGlvbi4gQWRkcmVzc2VzXG4gKiAgICAgaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWlvcy1zZGsvaXNzdWVzLzE1NDhcbiAqIDQuICBNdWx0aS1UYWIgU3VwcG9ydC5cbiAqIDUuICBSZW1vdmFsIG9mIGhlbGQgd3JpdGUgYWNrcy5cbiAqIDYuICBDcmVhdGUgZG9jdW1lbnQgZ2xvYmFsIGZvciB0cmFja2luZyBkb2N1bWVudCBjYWNoZSBzaXplLlxuICogNy4gIEVuc3VyZSBldmVyeSBjYWNoZWQgZG9jdW1lbnQgaGFzIGEgc2VudGluZWwgcm93IHdpdGggYSBzZXF1ZW5jZSBudW1iZXIuXG4gKiA4LiAgQWRkIGNvbGxlY3Rpb24tcGFyZW50IGluZGV4IGZvciBDb2xsZWN0aW9uIEdyb3VwIHF1ZXJpZXMuXG4gKiA5LiAgQ2hhbmdlIFJlbW90ZURvY3VtZW50Q2hhbmdlcyBzdG9yZSB0byBiZSBrZXllZCBieSByZWFkVGltZSByYXRoZXIgdGhhblxuICogICAgIGFuIGF1dG8taW5jcmVtZW50aW5nIElELiBUaGlzIGlzIHJlcXVpcmVkIGZvciBJbmRleC1GcmVlIHF1ZXJpZXMuXG4gKiAxMC4gUmV3cml0ZSB0aGUgY2Fub25pY2FsIElEcyB0byB0aGUgZXhwbGljaXQgUHJvdG9idWYtYmFzZWQgZm9ybWF0LlxuICogMTEuIEFkZCBidW5kbGVzIGFuZCBuYW1lZF9xdWVyaWVzIGZvciBidW5kbGUgc3VwcG9ydC5cbiAqIDEyLiBBZGQgZG9jdW1lbnQgb3ZlcmxheXMuXG4gKiAxMy4gUmV3cml0ZSB0aGUga2V5cyBvZiB0aGUgcmVtb3RlIGRvY3VtZW50IGNhY2hlIHRvIGFsbG93IGZvciBlZmZpY2llbnRcbiAqICAgICBkb2N1bWVudCBsb29rdXAgdmlhIGBnZXRBbGwoKWAuXG4gKiAxNC4gQWRkIG92ZXJsYXlzLlxuICogMTUuIEFkZCBpbmRleGluZyBzdXBwb3J0LlxuICogMTYuIFBhcnNlIHRpbWVzdGFtcCBzdHJpbmdzIGJlZm9yZSBjcmVhdGluZyBpbmRleCBlbnRyaWVzLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgbG9jYWwgdmlldyAob3ZlcmxheSkgb2YgYSBkb2N1bWVudCwgYW5kIHRoZSBmaWVsZHMgdGhhdCBhcmVcbiAqIGxvY2FsbHkgbXV0YXRlZC5cbiAqL1xuY2xhc3MgT3ZlcmxheWVkRG9jdW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBmaWVsZHMgdGhhdCBhcmUgbG9jYWxseSBtdXRhdGVkIGJ5IHBhdGNoIG11dGF0aW9ucy5cbiAgICAgKlxuICAgICAqIElmIHRoZSBvdmVybGF5ZWRcdGRvY3VtZW50IGlzIGZyb20gc2V0IG9yIGRlbGV0ZSBtdXRhdGlvbnMsIHRoaXMgaXMgYG51bGxgLlxuICAgICAqIElmIHRoZXJlIGlzIG5vIG92ZXJsYXkgKG11dGF0aW9uKSBmb3IgdGhlIGRvY3VtZW50LCB0aGlzIGlzIGFuIGVtcHR5IGBGaWVsZE1hc2tgLlxuICAgICAqL1xuICAgIHQpIHtcbiAgICAgICAgdGhpcy5vdmVybGF5ZWREb2N1bWVudCA9IGUsIHRoaXMubXV0YXRlZEZpZWxkcyA9IHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHJlYWRvbmx5IHZpZXcgb2YgdGhlIGxvY2FsIHN0YXRlIG9mIGFsbCBkb2N1bWVudHMgd2UncmUgdHJhY2tpbmcgKGkuZS4gd2VcbiAqIGhhdmUgYSBjYWNoZWQgdmVyc2lvbiBpbiByZW1vdGVEb2N1bWVudENhY2hlIG9yIGxvY2FsIG11dGF0aW9ucyBmb3IgdGhlXG4gKiBkb2N1bWVudCkuIFRoZSB2aWV3IGlzIGNvbXB1dGVkIGJ5IGFwcGx5aW5nIHRoZSBtdXRhdGlvbnMgaW4gdGhlXG4gKiBNdXRhdGlvblF1ZXVlIHRvIHRoZSBSZW1vdGVEb2N1bWVudENhY2hlLlxuICovIGNsYXNzIExvY2FsRG9jdW1lbnRzVmlldyB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUgPSBlLCB0aGlzLm11dGF0aW9uUXVldWUgPSB0LCB0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlID0gbiwgXG4gICAgICAgIHRoaXMuaW5kZXhNYW5hZ2VyID0gcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsb2NhbCB2aWV3IG9mIHRoZSBkb2N1bWVudCBpZGVudGlmaWVkIGJ5IGBrZXlgLlxuICAgICAqXG4gICAgICogQHJldHVybnMgTG9jYWwgdmlldyBvZiB0aGUgZG9jdW1lbnQgb3IgbnVsbCBpZiB3ZSBkb24ndCBoYXZlIGFueSBjYWNoZWRcbiAgICAgKiBzdGF0ZSBmb3IgaXQuXG4gICAgICovICAgIGdldERvY3VtZW50KGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudE92ZXJsYXlDYWNoZS5nZXRPdmVybGF5KGUsIHQpLm5leHQoKHIgPT4gKG4gPSByLCB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RW50cnkoZSwgdCkpKSkubmV4dCgoZSA9PiAobnVsbCAhPT0gbiAmJiBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KG4ubXV0YXRpb24sIGUsIEZpZWxkTWFzay5lbXB0eSgpLCBUaW1lc3RhbXAubm93KCkpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgdmlldyBvZiB0aGUgZG9jdW1lbnRzIGlkZW50aWZpZWQgYnkgYGtleXNgLlxuICAgICAqXG4gICAgICogSWYgd2UgZG9uJ3QgaGF2ZSBjYWNoZWQgc3RhdGUgZm9yIGEgZG9jdW1lbnQgaW4gYGtleXNgLCBhIE5vRG9jdW1lbnQgd2lsbFxuICAgICAqIGJlIHN0b3JlZCBmb3IgdGhhdCBrZXkgaW4gdGhlIHJlc3VsdGluZyBzZXQuXG4gICAgICovICAgIGdldERvY3VtZW50cyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RW50cmllcyhlLCB0KS5uZXh0KCh0ID0+IHRoaXMuZ2V0TG9jYWxWaWV3T2ZEb2N1bWVudHMoZSwgdCwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpLm5leHQoKCgpID0+IHQpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW1pbGFyIHRvIGBnZXREb2N1bWVudHNgLCBidXQgY3JlYXRlcyB0aGUgbG9jYWwgdmlldyBmcm9tIHRoZSBnaXZlblxuICAgICAqIGBiYXNlRG9jc2Agd2l0aG91dCByZXRyaWV2aW5nIGRvY3VtZW50cyBmcm9tIHRoZSBsb2NhbCBzdG9yZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiAtIFRoZSB0cmFuc2FjdGlvbiB0aGlzIG9wZXJhdGlvbiBpcyBzY29wZWQgdG8uXG4gICAgICogQHBhcmFtIGRvY3MgLSBUaGUgZG9jdW1lbnRzIHRvIGFwcGx5IGxvY2FsIG11dGF0aW9ucyB0byBnZXQgdGhlIGxvY2FsIHZpZXdzLlxuICAgICAqIEBwYXJhbSBleGlzdGVuY2VTdGF0ZUNoYW5nZWQgLSBUaGUgc2V0IG9mIGRvY3VtZW50IGtleXMgd2hvc2UgZXhpc3RlbmNlIHN0YXRlXG4gICAgICogICBpcyBjaGFuZ2VkLiBUaGlzIGlzIHVzZWZ1bCB0byBkZXRlcm1pbmUgaWYgc29tZSBkb2N1bWVudHMgb3ZlcmxheSBuZWVkc1xuICAgICAqICAgdG8gYmUgcmVjYWxjdWxhdGVkLlxuICAgICAqLyAgICBnZXRMb2NhbFZpZXdPZkRvY3VtZW50cyhlLCB0LCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcHVsYXRlT3ZlcmxheXMoZSwgciwgdCkubmV4dCgoKCkgPT4gdGhpcy5jb21wdXRlVmlld3MoZSwgdCwgciwgbikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBsZXQgdCA9IGRvY3VtZW50TWFwKCk7XG4gICAgICAgICAgICByZXR1cm4gZS5mb3JFYWNoKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIHQgPSB0Lmluc2VydChlLCBuLm92ZXJsYXllZERvY3VtZW50KTtcbiAgICAgICAgICAgIH0pKSwgdDtcbiAgICAgICAgfSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG92ZXJsYXllZCBkb2N1bWVudHMgZm9yIHRoZSBnaXZlbiBkb2N1bWVudCBtYXAsIHdoaWNoIHdpbGwgaW5jbHVkZVxuICAgICAqIHRoZSBsb2NhbCB2aWV3IG9mIHRob3NlIGRvY3VtZW50cyBhbmQgYSBgRmllbGRNYXNrYCBpbmRpY2F0aW5nIHdoaWNoIGZpZWxkc1xuICAgICAqIGFyZSBtdXRhdGVkIGxvY2FsbHksIGBudWxsYCBpZiBvdmVybGF5IGlzIGEgU2V0IG9yIERlbGV0ZSBtdXRhdGlvbi5cbiAgICAgKi8gICAgZ2V0T3ZlcmxheWVkRG9jdW1lbnRzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcHVsYXRlT3ZlcmxheXMoZSwgbiwgdCkubmV4dCgoKCkgPT4gdGhpcy5jb21wdXRlVmlld3MoZSwgdCwgbiwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIG92ZXJsYXlzIGZvciB7QGNvZGUgZG9jc30gYW5kIGFkZHMgdGhlbSB0byBwcm92aWRlZCBvdmVybGF5IG1hcFxuICAgICAqIGlmIHRoZSBtYXAgZG9lcyBub3QgYWxyZWFkeSBjb250YWluIGFuIGVudHJ5IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQga2V5LlxuICAgICAqLyAgICBwb3B1bGF0ZU92ZXJsYXlzKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHQuaGFzKGUpIHx8IHIucHVzaChlKTtcbiAgICAgICAgfSkpLCB0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlLmdldE92ZXJsYXlzKGUsIHIpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZS5mb3JFYWNoKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIHQuc2V0KGUsIG4pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBsb2NhbCB2aWV3IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3MgLSBUaGUgZG9jdW1lbnRzIHRvIGNvbXB1dGUgdmlld3MgZm9yLiBJdCBhbHNvIGhhcyB0aGUgYmFzZVxuICAgICAqICAgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnRzLlxuICAgICAqIEBwYXJhbSBvdmVybGF5cyAtIFRoZSBvdmVybGF5cyB0aGF0IG5lZWQgdG8gYmUgYXBwbGllZCB0byB0aGUgZ2l2ZW4gYmFzZVxuICAgICAqICAgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnRzLlxuICAgICAqIEBwYXJhbSBleGlzdGVuY2VTdGF0ZUNoYW5nZWQgLSBBIHNldCBvZiBkb2N1bWVudHMgd2hvc2UgZXhpc3RlbmNlIHN0YXRlc1xuICAgICAqICAgbWlnaHQgaGF2ZSBjaGFuZ2VkLiBUaGlzIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlXG4gICAgICogICBvdmVybGF5cyBmcm9tIG11dGF0aW9uIHF1ZXVlcy5cbiAgICAgKiBAcmV0dXJuIEEgbWFwIHJlcHJlc2VudHMgdGhlIGxvY2FsIGRvY3VtZW50cyB2aWV3LlxuICAgICAqLyAgICBjb21wdXRlVmlld3MoZSwgdCwgbiwgcikge1xuICAgICAgICBsZXQgaSA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9uZXdEb2N1bWVudEtleU1hcCgpLCBvID0gZnVuY3Rpb24gX19QUklWQVRFX25ld092ZXJsYXllZERvY3VtZW50TWFwKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9uZXdEb2N1bWVudEtleU1hcCgpO1xuICAgICAgICB9KCk7XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvID0gbi5nZXQodC5rZXkpO1xuICAgICAgICAgICAgLy8gUmVjYWxjdWxhdGUgYW4gb3ZlcmxheSBpZiB0aGUgZG9jdW1lbnQncyBleGlzdGVuY2Ugc3RhdGUgY2hhbmdlZCBkdWUgdG9cbiAgICAgICAgICAgIC8vIGEgcmVtb3RlIGV2ZW50ICphbmQqIHRoZSBvdmVybGF5IGlzIGEgUGF0Y2hNdXRhdGlvbi4gVGhpcyBpcyBiZWNhdXNlXG4gICAgICAgICAgICAvLyBkb2N1bWVudCBleGlzdGVuY2Ugc3RhdGUgY2FuIGNoYW5nZSBpZiBzb21lIHBhdGNoIG11dGF0aW9uJ3NcbiAgICAgICAgICAgIC8vIHByZWNvbmRpdGlvbnMgYXJlIG1ldC5cbiAgICAgICAgICAgIC8vIE5PVEU6IHdlIHJlY2FsY3VsYXRlIHdoZW4gYG92ZXJsYXlgIGlzIHVuZGVmaW5lZCBhcyB3ZWxsLCBiZWNhdXNlIHRoZXJlXG4gICAgICAgICAgICAvLyBtaWdodCBiZSBhIHBhdGNoIG11dGF0aW9uIHdob3NlIHByZWNvbmRpdGlvbiBkb2VzIG5vdCBtYXRjaCBiZWZvcmUgdGhlXG4gICAgICAgICAgICAvLyBjaGFuZ2UgKGhlbmNlIG92ZXJsYXkgaXMgdW5kZWZpbmVkKSwgYnV0IHdvdWxkIG5vdyBtYXRjaC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHIuaGFzKHQua2V5KSAmJiAodm9pZCAwID09PSBvIHx8IG8ubXV0YXRpb24gaW5zdGFuY2VvZiBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbikgPyBpID0gaS5pbnNlcnQodC5rZXksIHQpIDogdm9pZCAwICE9PSBvID8gKHMuc2V0KHQua2V5LCBvLm11dGF0aW9uLmdldEZpZWxkTWFzaygpKSwgXG4gICAgICAgICAgICBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KG8ubXV0YXRpb24sIHQsIG8ubXV0YXRpb24uZ2V0RmllbGRNYXNrKCksIFRpbWVzdGFtcC5ub3coKSkpIDogXG4gICAgICAgICAgICAvLyBubyBvdmVybGF5IGV4aXN0c1xuICAgICAgICAgICAgLy8gVXNpbmcgRU1QVFkgdG8gaW5kaWNhdGUgdGhlcmUgaXMgbm8gb3ZlcmxheSBmb3IgdGhlIGRvY3VtZW50LlxuICAgICAgICAgICAgcy5zZXQodC5rZXksIEZpZWxkTWFzay5lbXB0eSgpKTtcbiAgICAgICAgfSkpLCB0aGlzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzKGUsIGkpLm5leHQoKGUgPT4gKGUuZm9yRWFjaCgoKGUsIHQpID0+IHMuc2V0KGUsIHQpKSksIFxuICAgICAgICB0LmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIHJldHVybiBvLnNldChlLCBuZXcgT3ZlcmxheWVkRG9jdW1lbnQodCwgbnVsbCAhPT0gKG4gPSBzLmdldChlKSkgJiYgdm9pZCAwICE9PSBuID8gbiA6IG51bGwpKTtcbiAgICAgICAgfSkpLCBvKSkpO1xuICAgIH1cbiAgICByZWNhbGN1bGF0ZUFuZFNhdmVPdmVybGF5cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbmV3RG9jdW1lbnRLZXlNYXAoKTtcbiAgICAgICAgLy8gQSByZXZlcnNlIGxvb2t1cCBtYXAgZnJvbSBiYXRjaCBpZCB0byB0aGUgZG9jdW1lbnRzIHdpdGhpbiB0aGF0IGJhdGNoLlxuICAgICAgICAgICAgICAgIGxldCByID0gbmV3IFNvcnRlZE1hcCgoKGUsIHQpID0+IGUgLSB0KSksIGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25RdWV1ZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXMoZSwgdCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgZSkgaS5rZXlzKCkuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHQuZ2V0KGUpO1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBzKSByZXR1cm47XG4gICAgICAgICAgICAgICAgbGV0IG8gPSBuLmdldChlKSB8fCBGaWVsZE1hc2suZW1wdHkoKTtcbiAgICAgICAgICAgICAgICBvID0gaS5hcHBseVRvTG9jYWxWaWV3KHMsIG8pLCBuLnNldChlLCBvKTtcbiAgICAgICAgICAgICAgICBjb25zdCBfID0gKHIuZ2V0KGkuYmF0Y2hJZCkgfHwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpLmFkZChlKTtcbiAgICAgICAgICAgICAgICByID0gci5pbnNlcnQoaS5iYXRjaElkLCBfKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBbXSwgbyA9IHIuZ2V0UmV2ZXJzZUl0ZXJhdG9yKCk7XG4gICAgICAgICAgICAvLyBJdGVyYXRlIGluIGRlc2NlbmRpbmcgb3JkZXIgb2YgYmF0Y2ggSURzLCBhbmQgc2tpcCBkb2N1bWVudHMgdGhhdCBhcmVcbiAgICAgICAgICAgIC8vIGFscmVhZHkgc2F2ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDtvLmhhc05leHQoKTsgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IG8uZ2V0TmV4dCgpLCBfID0gci5rZXksIGEgPSByLnZhbHVlLCB1ID0gX19QUklWQVRFX25ld011dGF0aW9uTWFwKCk7XG4gICAgICAgICAgICAgICAgYS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpLmhhcyhlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9jYWxjdWxhdGVPdmVybGF5TXV0YXRpb24odC5nZXQoZSksIG4uZ2V0KGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IHIgJiYgdS5zZXQoZSwgciksIGkgPSBpLmFkZChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKSwgcy5wdXNoKHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUuc2F2ZU92ZXJsYXlzKGUsIF8sIHUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihzKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIG92ZXJsYXlzIGJ5IHJlYWRpbmcgdGhlIGRvY3VtZW50cyBmcm9tIHJlbW90ZSBkb2N1bWVudCBjYWNoZVxuICAgICAqIGZpcnN0LCBhbmQgc2F2ZXMgdGhlbSBhZnRlciB0aGV5IGFyZSBjYWxjdWxhdGVkLlxuICAgICAqLyAgICByZWNhbGN1bGF0ZUFuZFNhdmVPdmVybGF5c0ZvckRvY3VtZW50S2V5cyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RW50cmllcyhlLCB0KS5uZXh0KCh0ID0+IHRoaXMucmVjYWxjdWxhdGVBbmRTYXZlT3ZlcmxheXMoZSwgdCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBxdWVyeSBhZ2FpbnN0IHRoZSBsb2NhbCB2aWV3IG9mIGFsbCBkb2N1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb24gLSBUaGUgcGVyc2lzdGVuY2UgdHJhbnNhY3Rpb24uXG4gICAgICogQHBhcmFtIHF1ZXJ5IC0gVGhlIHF1ZXJ5IHRvIG1hdGNoIGRvY3VtZW50cyBhZ2FpbnN0LlxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBSZWFkIHRpbWUgYW5kIGtleSB0byBzdGFydCBzY2FubmluZyBieSAoZXhjbHVzaXZlKS5cbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIEEgb3B0aW9uYWwgdHJhY2tlciB0byBrZWVwIGEgcmVjb3JkIG9mIGltcG9ydGFudCBkZXRhaWxzXG4gICAgICogICBkdXJpbmcgZGF0YWJhc2UgbG9jYWwgcXVlcnkgZXhlY3V0aW9uLlxuICAgICAqLyAgICBnZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHF1ZXJ5IG1hdGNoZXMgYSBzaW5nbGUgZG9jdW1lbnQgYnkgcGF0aCAocmF0aGVyIHRoYW4gYVxuICogY29sbGVjdGlvbikuXG4gKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9pc0RvY3VtZW50UXVlcnkkMShlKSB7XG4gICAgICAgICAgICByZXR1cm4gRG9jdW1lbnRLZXkuaXNEb2N1bWVudEtleShlLnBhdGgpICYmIG51bGwgPT09IGUuY29sbGVjdGlvbkdyb3VwICYmIDAgPT09IGUuZmlsdGVycy5sZW5ndGg7XG4gICAgICAgIH0odCkgPyB0aGlzLmdldERvY3VtZW50c01hdGNoaW5nRG9jdW1lbnRRdWVyeShlLCB0LnBhdGgpIDogX19QUklWQVRFX2lzQ29sbGVjdGlvbkdyb3VwUXVlcnkodCkgPyB0aGlzLmdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvbkdyb3VwUXVlcnkoZSwgdCwgbiwgcikgOiB0aGlzLmdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvblF1ZXJ5KGUsIHQsIG4sIHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNvbGxlY3Rpb24gZ3JvdXAsIHJldHVybnMgdGhlIG5leHQgZG9jdW1lbnRzIHRoYXQgZm9sbG93IHRoZSBwcm92aWRlZCBvZmZzZXQsIGFsb25nXG4gICAgICogd2l0aCBhbiB1cGRhdGVkIGJhdGNoIElELlxuICAgICAqXG4gICAgICogPHA+VGhlIGRvY3VtZW50cyByZXR1cm5lZCBieSB0aGlzIG1ldGhvZCBhcmUgb3JkZXJlZCBieSByZW1vdGUgdmVyc2lvbiBmcm9tIHRoZSBwcm92aWRlZFxuICAgICAqIG9mZnNldC4gSWYgdGhlcmUgYXJlIG5vIG1vcmUgcmVtb3RlIGRvY3VtZW50cyBhZnRlciB0aGUgcHJvdmlkZWQgb2Zmc2V0LCBkb2N1bWVudHMgd2l0aFxuICAgICAqIG11dGF0aW9ucyBpbiBvcmRlciBvZiBiYXRjaCBpZCBmcm9tIHRoZSBvZmZzZXQgYXJlIHJldHVybmVkLiBTaW5jZSBhbGwgZG9jdW1lbnRzIGluIGEgYmF0Y2ggYXJlXG4gICAgICogcmV0dXJuZWQgdG9nZXRoZXIsIHRoZSB0b3RhbCBudW1iZXIgb2YgZG9jdW1lbnRzIHJldHVybmVkIGNhbiBleGNlZWQge0Bjb2RlIGNvdW50fS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvblxuICAgICAqIEBwYXJhbSBjb2xsZWN0aW9uR3JvdXAgVGhlIGNvbGxlY3Rpb24gZ3JvdXAgZm9yIHRoZSBkb2N1bWVudHMuXG4gICAgICogQHBhcmFtIG9mZnNldCBUaGUgb2Zmc2V0IHRvIGluZGV4IGludG8uXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHRvIHJldHVyblxuICAgICAqIEByZXR1cm4gQSBMb2NhbFdyaXRlUmVzdWx0IHdpdGggdGhlIGRvY3VtZW50cyB0aGF0IGZvbGxvdyB0aGUgcHJvdmlkZWQgb2Zmc2V0IGFuZCB0aGUgbGFzdCBwcm9jZXNzZWQgYmF0Y2ggaWQuXG4gICAgICovICAgIGdldE5leHREb2N1bWVudHMoZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlLmdldEFsbEZyb21Db2xsZWN0aW9uR3JvdXAoZSwgdCwgbiwgcikubmV4dCgoaSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gciAtIGkuc2l6ZSA+IDAgPyB0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlLmdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4ubGFyZ2VzdEJhdGNoSWQsIHIgLSBpLnNpemUpIDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSk7XG4gICAgICAgICAgICAvLyBUaGUgY2FsbHNpdGUgd2lsbCB1c2UgdGhlIGxhcmdlc3QgYmF0Y2ggSUQgdG9nZXRoZXIgd2l0aCB0aGUgbGF0ZXN0IHJlYWQgdGltZSB0byBjcmVhdGVcbiAgICAgICAgICAgIC8vIGEgbmV3IGluZGV4IG9mZnNldC4gU2luY2Ugd2Ugb25seSBwcm9jZXNzIGJhdGNoIElEcyBpZiBhbGwgcmVtb3RlIGRvY3VtZW50cyBoYXZlIGJlZW4gcmVhZCxcbiAgICAgICAgICAgIC8vIG5vIG92ZXJsYXkgd2lsbCBpbmNyZWFzZSB0aGUgb3ZlcmFsbCByZWFkIHRpbWUuIFRoaXMgaXMgd2h5IHdlIG9ubHkgbmVlZCB0byBzcGVjaWFsIGNhc2VcbiAgICAgICAgICAgIC8vIHRoZSBiYXRjaCBpZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvID0gLTEsIF8gPSBpO1xuICAgICAgICAgICAgcmV0dXJuIHMubmV4dCgodCA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAoKHQsIG4pID0+IChvIDwgbi5sYXJnZXN0QmF0Y2hJZCAmJiAobyA9IG4ubGFyZ2VzdEJhdGNoSWQpLCBcbiAgICAgICAgICAgIGkuZ2V0KHQpID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKSA6IHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyeShlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBfID0gXy5pbnNlcnQodCwgZSk7XG4gICAgICAgICAgICB9KSkpKSkubmV4dCgoKCkgPT4gdGhpcy5wb3B1bGF0ZU92ZXJsYXlzKGUsIHQsIGkpKSkubmV4dCgoKCkgPT4gdGhpcy5jb21wdXRlVmlld3MoZSwgXywgdCwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpKSkubmV4dCgoZSA9PiAoe1xuICAgICAgICAgICAgICAgIGJhdGNoSWQ6IG8sXG4gICAgICAgICAgICAgICAgY2hhbmdlczogX19QUklWQVRFX2NvbnZlcnRPdmVybGF5ZWREb2N1bWVudE1hcFRvRG9jdW1lbnRNYXAoZSlcbiAgICAgICAgICAgIH0pKSkpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXREb2N1bWVudHNNYXRjaGluZ0RvY3VtZW50UXVlcnkoZSwgdCkge1xuICAgICAgICAvLyBKdXN0IGRvIGEgc2ltcGxlIGRvY3VtZW50IGxvb2t1cC5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoZSwgbmV3IERvY3VtZW50S2V5KHQpKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGxldCB0ID0gZG9jdW1lbnRNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBlLmlzRm91bmREb2N1bWVudCgpICYmICh0ID0gdC5pbnNlcnQoZS5rZXksIGUpKSwgdDtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXREb2N1bWVudHNNYXRjaGluZ0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgY29uc3QgaSA9IHQuY29sbGVjdGlvbkdyb3VwO1xuICAgICAgICBsZXQgcyA9IGRvY3VtZW50TWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4TWFuYWdlci5nZXRDb2xsZWN0aW9uUGFyZW50cyhlLCBpKS5uZXh0KChvID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKG8sIChvID0+IHtcbiAgICAgICAgICAgIGNvbnN0IF8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfYXNDb2xsZWN0aW9uUXVlcnlBdFBhdGgoZSwgdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbCh0LCBcbiAgICAgICAgICAgICAgICAvKmNvbGxlY3Rpb25Hcm91cD0qLyBudWxsLCBlLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCBlLmZpbHRlcnMuc2xpY2UoKSwgZS5saW1pdCwgZS5saW1pdFR5cGUsIGUuc3RhcnRBdCwgZS5lbmRBdCk7XG4gICAgICAgICAgICB9KHQsIG8uY2hpbGQoaSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uUXVlcnkoZSwgXywgbiwgcikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgZS5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzID0gcy5pbnNlcnQoZSwgdCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gcykpKSk7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvblF1ZXJ5KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgLy8gUXVlcnkgdGhlIHJlbW90ZSBkb2N1bWVudHMgYW5kIG92ZXJsYXkgbXV0YXRpb25zLlxuICAgICAgICBsZXQgaTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUuZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uKGUsIHQucGF0aCwgbi5sYXJnZXN0QmF0Y2hJZCkubmV4dCgocyA9PiAoaSA9IHMsIFxuICAgICAgICB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCB0LCBuLCBpLCByKSkpKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIC8vIEFzIGRvY3VtZW50cyBtaWdodCBtYXRjaCB0aGUgcXVlcnkgYmVjYXVzZSBvZiB0aGVpciBvdmVybGF5IHdlIG5lZWQgdG9cbiAgICAgICAgICAgIC8vIGluY2x1ZGUgZG9jdW1lbnRzIGZvciBhbGwgb3ZlcmxheXMgaW4gdGhlIGluaXRpYWwgZG9jdW1lbnQgc2V0LlxuICAgICAgICAgICAgaS5mb3JFYWNoKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuLmdldEtleSgpO1xuICAgICAgICAgICAgICAgIG51bGwgPT09IGUuZ2V0KHIpICYmIChlID0gZS5pbnNlcnQociwgTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudChyKSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIG92ZXJsYXlzIGFuZCBtYXRjaCBhZ2FpbnN0IHRoZSBxdWVyeS5cbiAgICAgICAgICAgIGxldCBuID0gZG9jdW1lbnRNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBlLmZvckVhY2goKChlLCByKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGkuZ2V0KGUpO1xuICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gcyAmJiBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KHMubXV0YXRpb24sIHIsIEZpZWxkTWFzay5lbXB0eSgpLCBUaW1lc3RhbXAubm93KCkpLCBcbiAgICAgICAgICAgICAgICAvLyBGaW5hbGx5LCBpbnNlcnQgdGhlIGRvY3VtZW50cyB0aGF0IHN0aWxsIG1hdGNoIHRoZSBxdWVyeVxuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9xdWVyeU1hdGNoZXModCwgcikgJiYgKG4gPSBuLmluc2VydChlLCByKSk7XG4gICAgICAgICAgICB9KSksIG47XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9NZW1vcnlCdW5kbGVDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBlLCB0aGlzLmNyID0gbmV3IE1hcCwgdGhpcy5sciA9IG5ldyBNYXA7XG4gICAgfVxuICAgIGdldEJ1bmRsZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuY3IuZ2V0KHQpKTtcbiAgICB9XG4gICAgc2F2ZUJ1bmRsZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Iuc2V0KHQuaWQsIFxuICAgICAgICAvKiogRGVjb2RlcyBhIEJ1bmRsZU1ldGFkYXRhIHByb3RvIGludG8gYSBCdW5kbGVNZXRhZGF0YSBvYmplY3QuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQnVuZGxlTWV0YWRhdGEoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogZS5pZCxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBlLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgY3JlYXRlVGltZTogX19QUklWQVRFX2Zyb21WZXJzaW9uKGUuY3JlYXRlVGltZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odCkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXROYW1lZFF1ZXJ5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMubHIuZ2V0KHQpKTtcbiAgICB9XG4gICAgc2F2ZU5hbWVkUXVlcnkoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sci5zZXQodC5uYW1lLCBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVByb3RvTmFtZWRRdWVyeShlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgICAgICBxdWVyeTogX19QUklWQVRFX2Zyb21CdW5kbGVkUXVlcnkoZS5idW5kbGVkUXVlcnkpLFxuICAgICAgICAgICAgICAgIHJlYWRUaW1lOiBfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS5yZWFkVGltZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odCkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gaW4tbWVtb3J5IGltcGxlbWVudGF0aW9uIG9mIERvY3VtZW50T3ZlcmxheUNhY2hlLlxuICovIGNsYXNzIF9fUFJJVkFURV9NZW1vcnlEb2N1bWVudE92ZXJsYXlDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIEEgbWFwIHNvcnRlZCBieSBEb2N1bWVudEtleSwgd2hvc2UgdmFsdWUgaXMgYSBwYWlyIG9mIHRoZSBsYXJnZXN0IGJhdGNoIGlkXG4gICAgICAgIC8vIGZvciB0aGUgb3ZlcmxheSBhbmQgdGhlIG92ZXJsYXkgaXRzZWxmLlxuICAgICAgICB0aGlzLm92ZXJsYXlzID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKSwgdGhpcy5ociA9IG5ldyBNYXA7XG4gICAgfVxuICAgIGdldE92ZXJsYXkoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5vdmVybGF5cy5nZXQodCkpO1xuICAgIH1cbiAgICBnZXRPdmVybGF5cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbmV3T3ZlcmxheU1hcCgpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4gdGhpcy5nZXRPdmVybGF5KGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgbnVsbCAhPT0gZSAmJiBuLnNldCh0LCBlKTtcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICBzYXZlT3ZlcmxheXMoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5odChlLCB0LCByKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVPdmVybGF5c0ZvckJhdGNoSWQoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gdGhpcy5oci5nZXQobik7XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IHIgJiYgKHIuZm9yRWFjaCgoZSA9PiB0aGlzLm92ZXJsYXlzID0gdGhpcy5vdmVybGF5cy5yZW1vdmUoZSkpKSwgXG4gICAgICAgIHRoaXMuaHIuZGVsZXRlKG4pKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCksIGkgPSB0Lmxlbmd0aCArIDEsIHMgPSBuZXcgRG9jdW1lbnRLZXkodC5jaGlsZChcIlwiKSksIG8gPSB0aGlzLm92ZXJsYXlzLmdldEl0ZXJhdG9yRnJvbShzKTtcbiAgICAgICAgZm9yICg7by5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgZSA9IG8uZ2V0TmV4dCgpLnZhbHVlLCBzID0gZS5nZXRLZXkoKTtcbiAgICAgICAgICAgIGlmICghdC5pc1ByZWZpeE9mKHMucGF0aCkpIGJyZWFrO1xuICAgICAgICAgICAgLy8gRG9jdW1lbnRzIGZyb20gc3ViLWNvbGxlY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBzLnBhdGgubGVuZ3RoID09PSBpICYmIChlLmxhcmdlc3RCYXRjaElkID4gbiAmJiByLnNldChlLmdldEtleSgpLCBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgIH1cbiAgICBnZXRPdmVybGF5c0ZvckNvbGxlY3Rpb25Hcm91cChlLCB0LCBuLCByKSB7XG4gICAgICAgIGxldCBpID0gbmV3IFNvcnRlZE1hcCgoKGUsIHQpID0+IGUgLSB0KSk7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLm92ZXJsYXlzLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGZvciAoO3MuaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBzLmdldE5leHQoKS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChlLmdldEtleSgpLmdldENvbGxlY3Rpb25Hcm91cCgpID09PSB0ICYmIGUubGFyZ2VzdEJhdGNoSWQgPiBuKSB7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSBpLmdldChlLmxhcmdlc3RCYXRjaElkKTtcbiAgICAgICAgICAgICAgICBudWxsID09PSB0ICYmICh0ID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSwgaSA9IGkuaW5zZXJ0KGUubGFyZ2VzdEJhdGNoSWQsIHQpKSwgXG4gICAgICAgICAgICAgICAgdC5zZXQoZS5nZXRLZXkoKSwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbyA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCksIF8gPSBpLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGZvciAoO18uaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGlmIChfLmdldE5leHQoKS52YWx1ZS5mb3JFYWNoKCgoZSwgdCkgPT4gby5zZXQoZSwgdCkpKSwgby5zaXplKCkgPj0gcikgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG8pO1xuICAgIH1cbiAgICBodChlLCB0LCBuKSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgYXNzb2NpYXRpb24gb2YgdGhlIG92ZXJsYXkgdG8gaXRzIGJhdGNoIGlkLlxuICAgICAgICBjb25zdCByID0gdGhpcy5vdmVybGF5cy5nZXQobi5rZXkpO1xuICAgICAgICBpZiAobnVsbCAhPT0gcikge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuaHIuZ2V0KHIubGFyZ2VzdEJhdGNoSWQpLmRlbGV0ZShuLmtleSk7XG4gICAgICAgICAgICB0aGlzLmhyLnNldChyLmxhcmdlc3RCYXRjaElkLCBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm92ZXJsYXlzID0gdGhpcy5vdmVybGF5cy5pbnNlcnQobi5rZXksIG5ldyBPdmVybGF5KHQsIG4pKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBhc3NvY2lhdGlvbiBvZiB0aGlzIG92ZXJsYXkgdG8gdGhlIGdpdmVuIGxhcmdlc3RCYXRjaElkLlxuICAgICAgICBsZXQgaSA9IHRoaXMuaHIuZ2V0KHQpO1xuICAgICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgdGhpcy5oci5zZXQodCwgaSkpLCB0aGlzLmhyLnNldCh0LCBpLmFkZChuLmtleSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBjb2xsZWN0aW9uIG9mIHJlZmVyZW5jZXMgdG8gYSBkb2N1bWVudCBmcm9tIHNvbWUga2luZCBvZiBudW1iZXJlZCBlbnRpdHlcbiAqIChlaXRoZXIgYSB0YXJnZXQgSUQgb3IgYmF0Y2ggSUQpLiBBcyByZWZlcmVuY2VzIGFyZSBhZGRlZCB0byBvciByZW1vdmVkIGZyb21cbiAqIHRoZSBzZXQgY29ycmVzcG9uZGluZyBldmVudHMgYXJlIGVtaXR0ZWQgdG8gYSByZWdpc3RlcmVkIGdhcmJhZ2UgY29sbGVjdG9yLlxuICpcbiAqIEVhY2ggcmVmZXJlbmNlIGlzIHJlcHJlc2VudGVkIGJ5IGEgRG9jdW1lbnRSZWZlcmVuY2Ugb2JqZWN0LiBFYWNoIG9mIHRoZW1cbiAqIGNvbnRhaW5zIGVub3VnaCBpbmZvcm1hdGlvbiB0byB1bmlxdWVseSBpZGVudGlmeSB0aGUgcmVmZXJlbmNlLiBUaGV5IGFyZSBhbGxcbiAqIHN0b3JlZCBwcmltYXJpbHkgaW4gYSBzZXQgc29ydGVkIGJ5IGtleS4gQSBkb2N1bWVudCBpcyBjb25zaWRlcmVkIGdhcmJhZ2UgaWZcbiAqIHRoZXJlJ3Mgbm8gcmVmZXJlbmNlcyBpbiB0aGF0IHNldCAodGhpcyBjYW4gYmUgZWZmaWNpZW50bHkgY2hlY2tlZCB0aGFua3MgdG9cbiAqIHNvcnRpbmcgYnkga2V5KS5cbiAqXG4gKiBSZWZlcmVuY2VTZXQgYWxzbyBrZWVwcyBhIHNlY29uZGFyeSBzZXQgdGhhdCBjb250YWlucyByZWZlcmVuY2VzIHNvcnRlZCBieVxuICogSURzLiBUaGlzIG9uZSBpcyB1c2VkIHRvIGVmZmljaWVudGx5IGltcGxlbWVudCByZW1vdmFsIG9mIGFsbCByZWZlcmVuY2VzIGJ5XG4gKiBzb21lIHRhcmdldCBJRC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfUmVmZXJlbmNlU2V0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gQSBzZXQgb2Ygb3V0c3RhbmRpbmcgcmVmZXJlbmNlcyB0byBhIGRvY3VtZW50IHNvcnRlZCBieSBrZXkuXG4gICAgICAgIHRoaXMuUHIgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UuSXIpLCBcbiAgICAgICAgLy8gQSBzZXQgb2Ygb3V0c3RhbmRpbmcgcmVmZXJlbmNlcyB0byBhIGRvY3VtZW50IHNvcnRlZCBieSB0YXJnZXQgaWQuXG4gICAgICAgIHRoaXMuVHIgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UuRXIpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSByZWZlcmVuY2Ugc2V0IGNvbnRhaW5zIG5vIHJlZmVyZW5jZXMuICovICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlByLmlzRW1wdHkoKTtcbiAgICB9XG4gICAgLyoqIEFkZHMgYSByZWZlcmVuY2UgdG8gdGhlIGdpdmVuIGRvY3VtZW50IGtleSBmb3IgdGhlIGdpdmVuIElELiAqLyAgICBhZGRSZWZlcmVuY2UoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UoZSwgdCk7XG4gICAgICAgIHRoaXMuUHIgPSB0aGlzLlByLmFkZChuKSwgdGhpcy5UciA9IHRoaXMuVHIuYWRkKG4pO1xuICAgIH1cbiAgICAvKiogQWRkIHJlZmVyZW5jZXMgdG8gdGhlIGdpdmVuIGRvY3VtZW50IGtleXMgZm9yIHRoZSBnaXZlbiBJRC4gKi8gICAgZHIoZSwgdCkge1xuICAgICAgICBlLmZvckVhY2goKGUgPT4gdGhpcy5hZGRSZWZlcmVuY2UoZSwgdCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQga2V5IGZvciB0aGUgZ2l2ZW5cbiAgICAgKiBJRC5cbiAgICAgKi8gICAgcmVtb3ZlUmVmZXJlbmNlKGUsIHQpIHtcbiAgICAgICAgdGhpcy5BcihuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShlLCB0KSk7XG4gICAgfVxuICAgIFJyKGUsIHQpIHtcbiAgICAgICAgZS5mb3JFYWNoKChlID0+IHRoaXMucmVtb3ZlUmVmZXJlbmNlKGUsIHQpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgcmVmZXJlbmNlcyB3aXRoIGEgZ2l2ZW4gSUQuIENhbGxzIHJlbW92ZVJlZigpIGZvciBlYWNoIGtleVxuICAgICAqIHJlbW92ZWQuXG4gICAgICovICAgIFZyKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBEb2N1bWVudEtleShuZXcgUmVzb3VyY2VQYXRoKFtdKSksIG4gPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZSh0LCBlKSwgciA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIGUgKyAxKSwgaSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5Uci5mb3JFYWNoSW5SYW5nZShbIG4sIHIgXSwgKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5BcihlKSwgaS5wdXNoKGUua2V5KTtcbiAgICAgICAgfSkpLCBpO1xuICAgIH1cbiAgICBtcigpIHtcbiAgICAgICAgdGhpcy5Qci5mb3JFYWNoKChlID0+IHRoaXMuQXIoZSkpKTtcbiAgICB9XG4gICAgQXIoZSkge1xuICAgICAgICB0aGlzLlByID0gdGhpcy5Qci5kZWxldGUoZSksIHRoaXMuVHIgPSB0aGlzLlRyLmRlbGV0ZShlKTtcbiAgICB9XG4gICAgZ3IoZSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IERvY3VtZW50S2V5KG5ldyBSZXNvdXJjZVBhdGgoW10pKSwgbiA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIGUpLCByID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UodCwgZSArIDEpO1xuICAgICAgICBsZXQgaSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5Uci5mb3JFYWNoSW5SYW5nZShbIG4sIHIgXSwgKGUgPT4ge1xuICAgICAgICAgICAgaSA9IGkuYWRkKGUua2V5KTtcbiAgICAgICAgfSkpLCBpO1xuICAgIH1cbiAgICBjb250YWluc0tleShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShlLCAwKSwgbiA9IHRoaXMuUHIuZmlyc3RBZnRlck9yRXF1YWwodCk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBuICYmIGUuaXNFcXVhbChuLmtleSk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMua2V5ID0gZSwgdGhpcy5wciA9IHQ7XG4gICAgfVxuICAgIC8qKiBDb21wYXJlIGJ5IGtleSB0aGVuIGJ5IElEICovICAgIHN0YXRpYyBJcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBEb2N1bWVudEtleS5jb21wYXJhdG9yKGUua2V5LCB0LmtleSkgfHwgX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5wciwgdC5wcik7XG4gICAgfVxuICAgIC8qKiBDb21wYXJlIGJ5IElEIHRoZW4gYnkga2V5ICovICAgIHN0YXRpYyBFcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLnByLCB0LnByKSB8fCBEb2N1bWVudEtleS5jb21wYXJhdG9yKGUua2V5LCB0LmtleSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTWVtb3J5TXV0YXRpb25RdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmluZGV4TWFuYWdlciA9IGUsIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUgPSB0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzZXQgb2YgYWxsIG11dGF0aW9ucyB0aGF0IGhhdmUgYmVlbiBzZW50IGJ1dCBub3QgeWV0IGJlZW4gYXBwbGllZCB0b1xuICAgICAgICAgKiB0aGUgYmFja2VuZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXV0YXRpb25RdWV1ZSA9IFtdLCBcbiAgICAgICAgLyoqIE5leHQgdmFsdWUgdG8gdXNlIHdoZW4gYXNzaWduaW5nIHNlcXVlbnRpYWwgSURzIHRvIGVhY2ggbXV0YXRpb24gYmF0Y2guICovXG4gICAgICAgIHRoaXMueXIgPSAxLCBcbiAgICAgICAgLyoqIEFuIG9yZGVyZWQgbWFwcGluZyBiZXR3ZWVuIGRvY3VtZW50cyBhbmQgdGhlIG11dGF0aW9ucyBiYXRjaCBJRHMuICovXG4gICAgICAgIHRoaXMud3IgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UuSXIpO1xuICAgIH1cbiAgICBjaGVja0VtcHR5KGUpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKDAgPT09IHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGgpO1xuICAgIH1cbiAgICBhZGRNdXRhdGlvbkJhdGNoKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMueXI7XG4gICAgICAgIHRoaXMueXIrKywgdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCA+IDAgJiYgdGhpcy5tdXRhdGlvblF1ZXVlW3RoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgcyA9IG5ldyBNdXRhdGlvbkJhdGNoKGksIHQsIG4sIHIpO1xuICAgICAgICB0aGlzLm11dGF0aW9uUXVldWUucHVzaChzKTtcbiAgICAgICAgLy8gVHJhY2sgcmVmZXJlbmNlcyBieSBkb2N1bWVudCBrZXkgYW5kIGluZGV4IGNvbGxlY3Rpb24gcGFyZW50cy5cbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHIpIHRoaXMud3IgPSB0aGlzLndyLmFkZChuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZSh0LmtleSwgaSkpLCBcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSwgdC5rZXkucGF0aC5wb3BMYXN0KCkpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUocyk7XG4gICAgfVxuICAgIGxvb2t1cE11dGF0aW9uQmF0Y2goZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5Tcih0KSk7XG4gICAgfVxuICAgIGdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQgKyAxLCByID0gdGhpcy5icihuKSwgaSA9IHIgPCAwID8gMCA6IHI7XG4gICAgICAgIC8vIFRoZSByZXF1ZXN0ZWQgYmF0Y2hJZCBtYXkgc3RpbGwgYmUgb3V0IG9mIHJhbmdlIHNvIG5vcm1hbGl6ZSBpdCB0byB0aGVcbiAgICAgICAgLy8gc3RhcnQgb2YgdGhlIHF1ZXVlLlxuICAgICAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoID4gaSA/IHRoaXMubXV0YXRpb25RdWV1ZVtpXSA6IG51bGwpO1xuICAgIH1cbiAgICBnZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkKCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoMCA9PT0gdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCA/IC0xIDogdGhpcy55ciAtIDEpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXMoZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5tdXRhdGlvblF1ZXVlLnNsaWNlKCkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZSh0LCAwKSwgciA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksIGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMud3IuZm9yRWFjaEluUmFuZ2UoWyBuLCByIF0sIChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLlNyKGUucHIpO1xuICAgICAgICAgICAgaS5wdXNoKHQpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKGkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXMoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShlLCAwKSwgciA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKGUsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgICB0aGlzLndyLmZvckVhY2hJblJhbmdlKFsgdCwgciBdLCAoZSA9PiB7XG4gICAgICAgICAgICAgICAgbiA9IG4uYWRkKGUucHIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuRHIobikpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeShlLCB0KSB7XG4gICAgICAgIC8vIFVzZSB0aGUgcXVlcnkgcGF0aCBhcyBhIHByZWZpeCBmb3IgdGVzdGluZyBpZiBhIGRvY3VtZW50IG1hdGNoZXMgdGhlXG4gICAgICAgIC8vIHF1ZXJ5LlxuICAgICAgICBjb25zdCBuID0gdC5wYXRoLCByID0gbi5sZW5ndGggKyAxO1xuICAgICAgICAvLyBDb25zdHJ1Y3QgYSBkb2N1bWVudCByZWZlcmVuY2UgZm9yIGFjdHVhbGx5IHNjYW5uaW5nIHRoZSBpbmRleC4gVW5saWtlXG4gICAgICAgIC8vIHRoZSBwcmVmaXggdGhlIGRvY3VtZW50IGtleSBpbiB0aGlzIHJlZmVyZW5jZSBtdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgb2ZcbiAgICAgICAgLy8gc2VnbWVudHMuIFRoZSBlbXB0eSBzZWdtZW50IGNhbiBiZSB1c2VkIGEgc3VmZml4IG9mIHRoZSBxdWVyeSBwYXRoXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgcHJlY2VkZXMgYWxsIG90aGVyIHNlZ21lbnRzIGluIGFuIG9yZGVyZWQgdHJhdmVyc2FsLlxuICAgICAgICBsZXQgaSA9IG47XG4gICAgICAgIERvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkoaSkgfHwgKGkgPSBpLmNoaWxkKFwiXCIpKTtcbiAgICAgICAgY29uc3QgcyA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKG5ldyBEb2N1bWVudEtleShpKSwgMCk7XG4gICAgICAgIC8vIEZpbmQgdW5pcXVlIGJhdGNoSURzIHJlZmVyZW5jZWQgYnkgYWxsIGRvY3VtZW50cyBwb3RlbnRpYWxseSBtYXRjaGluZyB0aGVcbiAgICAgICAgLy8gcXVlcnkuXG4gICAgICAgICAgICAgICAgbGV0IG8gPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud3IuZm9yRWFjaFdoaWxlKChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLmtleS5wYXRoO1xuICAgICAgICAgICAgcmV0dXJuICEhbi5pc1ByZWZpeE9mKHQpICYmIChcbiAgICAgICAgICAgIC8vIFJvd3Mgd2l0aCBkb2N1bWVudCBrZXlzIG1vcmUgdGhhbiBvbmUgc2VnbWVudCBsb25nZXIgdGhhbiB0aGUgcXVlcnlcbiAgICAgICAgICAgIC8vIHBhdGggY2FuJ3QgYmUgbWF0Y2hlcy4gRm9yIGV4YW1wbGUsIGEgcXVlcnkgb24gJ3Jvb21zJyBjYW4ndCBtYXRjaFxuICAgICAgICAgICAgLy8gdGhlIGRvY3VtZW50IC9yb29tcy9hYmMvbWVzc2FnZXMveHl4LlxuICAgICAgICAgICAgLy8gVE9ETyhtY2cpOiB3ZSdsbCBuZWVkIGEgZGlmZmVyZW50IHNjYW5uZXIgd2hlbiB3ZSBpbXBsZW1lbnRcbiAgICAgICAgICAgIC8vIGFuY2VzdG9yIHF1ZXJpZXMuXG4gICAgICAgICAgICB0Lmxlbmd0aCA9PT0gciAmJiAobyA9IG8uYWRkKGUucHIpKSwgITApO1xuICAgICAgICB9KSwgcyksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuRHIobykpO1xuICAgIH1cbiAgICBEcihlKSB7XG4gICAgICAgIC8vIENvbnN0cnVjdCBhbiBhcnJheSBvZiBtYXRjaGluZyBiYXRjaGVzLCBzb3J0ZWQgYnkgYmF0Y2hJRCB0byBlbnN1cmUgdGhhdFxuICAgICAgICAvLyBtdWx0aXBsZSBtdXRhdGlvbnMgYWZmZWN0aW5nIHRoZSBzYW1lIGRvY3VtZW50IGtleSBhcmUgYXBwbGllZCBpbiBvcmRlci5cbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICByZXR1cm4gZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLlNyKGUpO1xuICAgICAgICAgICAgbnVsbCAhPT0gbiAmJiB0LnB1c2gobik7XG4gICAgICAgIH0pKSwgdDtcbiAgICB9XG4gICAgcmVtb3ZlTXV0YXRpb25CYXRjaChlLCB0KSB7XG4gICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDAgPT09IHRoaXMuQ3IodC5iYXRjaElkLCBcInJlbW92ZWRcIikpLCB0aGlzLm11dGF0aW9uUXVldWUuc2hpZnQoKTtcbiAgICAgICAgbGV0IG4gPSB0aGlzLndyO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godC5tdXRhdGlvbnMsIChyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShyLmtleSwgdC5iYXRjaElkKTtcbiAgICAgICAgICAgIHJldHVybiBuID0gbi5kZWxldGUoaSksIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgci5rZXkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53ciA9IG47XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgTW4oZSkge1xuICAgICAgICAvLyBOby1vcCBzaW5jZSB0aGUgbWVtb3J5IG11dGF0aW9uIHF1ZXVlIGRvZXMgbm90IG1haW50YWluIGEgc2VwYXJhdGUgY2FjaGUuXG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIDApLCByID0gdGhpcy53ci5maXJzdEFmdGVyT3JFcXVhbChuKTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHQuaXNFcXVhbChyICYmIHIua2V5KSk7XG4gICAgfVxuICAgIHBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGgsIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gYmF0Y2hJZCBpbiB0aGUgbXV0YXRpb24gcXVldWUgYW5kIGFzc2VydHMgdGhhdFxuICAgICAqIHRoZSByZXN1bHRpbmcgaW5kZXggaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJhdGNoSWQgLSBUaGUgYmF0Y2hJZCB0byBzZWFyY2ggZm9yXG4gICAgICogQHBhcmFtIGFjdGlvbiAtIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgY2FsbGVyIGlzIGRvaW5nLCBwaHJhc2VkIGluIHBhc3NpdmVcbiAgICAgKiBmb3JtIChlLmcuIFwiYWNrbm93bGVkZ2VkXCIgaW4gYSByb3V0aW5lIHRoYXQgYWNrbm93bGVkZ2VzIGJhdGNoZXMpLlxuICAgICAqLyAgICBDcihlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJyKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGdpdmVuIGJhdGNoSWQgaW4gdGhlIG11dGF0aW9uIHF1ZXVlLiBUaGlzIG9wZXJhdGlvblxuICAgICAqIGlzIE8oMSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY29tcHV0ZWQgaW5kZXggb2YgdGhlIGJhdGNoIHdpdGggdGhlIGdpdmVuIGJhdGNoSWQsIGJhc2VkIG9uXG4gICAgICogdGhlIHN0YXRlIG9mIHRoZSBxdWV1ZS4gTm90ZSB0aGlzIGluZGV4IGNhbiBiZSBuZWdhdGl2ZSBpZiB0aGUgcmVxdWVzdGVkXG4gICAgICogYmF0Y2hJZCBoYXMgYWxyZWFkeSBiZWVuIHJlbXZvZWQgZnJvbSB0aGUgcXVldWUgb3IgcGFzdCB0aGUgZW5kIG9mIHRoZVxuICAgICAqIHF1ZXVlIGlmIHRoZSBiYXRjaElkIGlzIGxhcmdlciB0aGFuIHRoZSBsYXN0IGFkZGVkIGJhdGNoLlxuICAgICAqLyAgICBicihlKSB7XG4gICAgICAgIGlmICgwID09PSB0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoKSBcbiAgICAgICAgLy8gQXMgYW4gaW5kZXggdGhpcyBpcyBwYXN0IHRoZSBlbmQgb2YgdGhlIHF1ZXVlXG4gICAgICAgIHJldHVybiAwO1xuICAgICAgICAvLyBFeGFtaW5lIHRoZSBmcm9udCBvZiB0aGUgcXVldWUgdG8gZmlndXJlIG91dCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZVxuICAgICAgICAvLyBiYXRjaElkIGFuZCBpbmRleGVzIGluIHRoZSBhcnJheS4gTm90ZSB0aGF0IHNpbmNlIHRoZSBxdWV1ZSBpcyBvcmRlcmVkXG4gICAgICAgIC8vIGJ5IGJhdGNoSWQsIGlmIHRoZSBmaXJzdCBiYXRjaCBoYXMgYSBsYXJnZXIgYmF0Y2hJZCB0aGVuIHRoZSByZXF1ZXN0ZWRcbiAgICAgICAgLy8gYmF0Y2hJZCBkb2Vzbid0IGV4aXN0IGluIHRoZSBxdWV1ZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gZSAtIHRoaXMubXV0YXRpb25RdWV1ZVswXS5iYXRjaElkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHZlcnNpb24gb2YgbG9va3VwTXV0YXRpb25CYXRjaCB0aGF0IGRvZXNuJ3QgcmV0dXJuIGEgcHJvbWlzZSwgdGhpcyBtYWtlc1xuICAgICAqIG90aGVyIGZ1bmN0aW9ucyB0aGF0IHVzZXMgdGhpcyBjb2RlIGVhc2llciB0byByZWFkIGFuZCBtb3JlIGVmZmljZW50LlxuICAgICAqLyAgICBTcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmJyKGUpO1xuICAgICAgICBpZiAodCA8IDAgfHwgdCA+PSB0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25RdWV1ZVt0XTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSBtZW1vcnktb25seSBSZW1vdGVEb2N1bWVudENhY2hlIGZvciBJbmRleGVkRGIuIFRvIGNvbnN0cnVjdCwgaW52b2tlXG4gKiBgbmV3TWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZSgpYC5cbiAqL1xuY2xhc3MgX19QUklWQVRFX01lbW9yeVJlbW90ZURvY3VtZW50Q2FjaGVJbXBsIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2l6ZXIgLSBVc2VkIHRvIGFzc2VzcyB0aGUgc2l6ZSBvZiBhIGRvY3VtZW50LiBGb3IgZWFnZXIgR0MsIHRoaXMgaXNcbiAgICAgKiBleHBlY3RlZCB0byBqdXN0IHJldHVybiAwIHRvIGF2b2lkIHVubmVjZXNzYXJpbHkgZG9pbmcgdGhlIHdvcmsgb2ZcbiAgICAgKiBjYWxjdWxhdGluZyB0aGUgc2l6ZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMudnIgPSBlLCBcbiAgICAgICAgLyoqIFVuZGVybHlpbmcgY2FjaGUgb2YgZG9jdW1lbnRzIGFuZCB0aGVpciByZWFkIHRpbWVzLiAqL1xuICAgICAgICB0aGlzLmRvY3MgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRFbnRyeU1hcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwKERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuICAgICAgICB9KCksIFxuICAgICAgICAvKiogU2l6ZSBvZiBhbGwgY2FjaGVkIGRvY3VtZW50cy4gKi9cbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG4gICAgc2V0SW5kZXhNYW5hZ2VyKGUpIHtcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBzdXBwbGllZCBlbnRyeSB0byB0aGUgY2FjaGUgYW5kIHVwZGF0ZXMgdGhlIGNhY2hlIHNpemUgYXMgYXBwcm9wcmlhdGUuXG4gICAgICpcbiAgICAgKiBBbGwgY2FsbHMgb2YgYGFkZEVudHJ5YCAgYXJlIHJlcXVpcmVkIHRvIGdvIHRocm91Z2ggdGhlIFJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyXG4gICAgICogcmV0dXJuZWQgYnkgYG5ld0NoYW5nZUJ1ZmZlcigpYC5cbiAgICAgKi8gICAgYWRkRW50cnkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5rZXksIHIgPSB0aGlzLmRvY3MuZ2V0KG4pLCBpID0gciA/IHIuc2l6ZSA6IDAsIHMgPSB0aGlzLnZyKHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NzID0gdGhpcy5kb2NzLmluc2VydChuLCB7XG4gICAgICAgICAgICBkb2N1bWVudDogdC5tdXRhYmxlQ29weSgpLFxuICAgICAgICAgICAgc2l6ZTogc1xuICAgICAgICB9KSwgdGhpcy5zaXplICs9IHMgLSBpLCB0aGlzLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLCBuLnBhdGgucG9wTGFzdCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGVudHJ5IGZyb20gdGhlIGNhY2hlIGFuZCB1cGRhdGVzIHRoZSBjYWNoZSBzaXplIGFzIGFwcHJvcHJpYXRlLlxuICAgICAqXG4gICAgICogQWxsIGNhbGxzIG9mIGByZW1vdmVFbnRyeWAgYXJlIHJlcXVpcmVkIHRvIGdvIHRocm91Z2ggdGhlIFJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyXG4gICAgICogcmV0dXJuZWQgYnkgYG5ld0NoYW5nZUJ1ZmZlcigpYC5cbiAgICAgKi8gICAgcmVtb3ZlRW50cnkoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5kb2NzLmdldChlKTtcbiAgICAgICAgdCAmJiAodGhpcy5kb2NzID0gdGhpcy5kb2NzLnJlbW92ZShlKSwgdGhpcy5zaXplIC09IHQuc2l6ZSk7XG4gICAgfVxuICAgIGdldEVudHJ5KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuZG9jcy5nZXQodCk7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShuID8gbi5kb2N1bWVudC5tdXRhYmxlQ29weSgpIDogTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudCh0KSk7XG4gICAgfVxuICAgIGdldEVudHJpZXMoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5kb2NzLmdldChlKTtcbiAgICAgICAgICAgIG4gPSBuLmluc2VydChlLCB0ID8gdC5kb2N1bWVudC5tdXRhYmxlQ29weSgpIDogTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudChlKSk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobik7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSwgdCwgbiwgcikge1xuICAgICAgICBsZXQgaSA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgLy8gRG9jdW1lbnRzIGFyZSBvcmRlcmVkIGJ5IGtleSwgc28gd2UgY2FuIHVzZSBhIHByZWZpeCBzY2FuIHRvIG5hcnJvdyBkb3duXG4gICAgICAgIC8vIHRoZSBkb2N1bWVudHMgd2UgbmVlZCB0byBtYXRjaCB0aGUgcXVlcnkgYWdhaW5zdC5cbiAgICAgICAgICAgICAgICBjb25zdCBzID0gdC5wYXRoLCBvID0gbmV3IERvY3VtZW50S2V5KHMuY2hpbGQoXCJcIikpLCBfID0gdGhpcy5kb2NzLmdldEl0ZXJhdG9yRnJvbShvKTtcbiAgICAgICAgZm9yICg7Xy5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3Qge2tleTogZSwgdmFsdWU6IHtkb2N1bWVudDogb319ID0gXy5nZXROZXh0KCk7XG4gICAgICAgICAgICBpZiAoIXMuaXNQcmVmaXhPZihlLnBhdGgpKSBicmVhaztcbiAgICAgICAgICAgIGUucGF0aC5sZW5ndGggPiBzLmxlbmd0aCArIDEgfHwgKF9fUFJJVkFURV9pbmRleE9mZnNldENvbXBhcmF0b3IoX19QUklWQVRFX25ld0luZGV4T2Zmc2V0RnJvbURvY3VtZW50KG8pLCBuKSA8PSAwIHx8IChyLmhhcyhvLmtleSkgfHwgX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyh0LCBvKSkgJiYgKGkgPSBpLmluc2VydChvLmtleSwgby5tdXRhYmxlQ29weSgpKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShpKTtcbiAgICB9XG4gICAgZ2V0QWxsRnJvbUNvbGxlY3Rpb25Hcm91cChlLCB0LCBuLCByKSB7XG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmcm9tIHRoZSBJbmRleEJhY2tmaWxsZXIgaWYgcGVyc2lzdGVuY2VcbiAgICAgICAgLy8gaXMgZW5hYmxlZC5cbiAgICAgICAgZmFpbCgpO1xuICAgIH1cbiAgICBGcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0aGlzLmRvY3MsIChlID0+IHQoZSkpKTtcbiAgICB9XG4gICAgbmV3Q2hhbmdlQnVmZmVyKGUpIHtcbiAgICAgICAgLy8gYHRyYWNrUmVtb3ZhbHNgIGlzIGlnbm9yZXMgc2luY2UgdGhlIE1lbW9yeVJlbW90ZURvY3VtZW50Q2FjaGUga2VlcHNcbiAgICAgICAgLy8gYSBzZXBhcmF0ZSBjaGFuZ2Vsb2cgYW5kIGRvZXMgbm90IG5lZWQgc3BlY2lhbCBoYW5kbGluZyBmb3IgcmVtb3ZhbHMuXG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyKHRoaXMpO1xuICAgIH1cbiAgICBnZXRTaXplKGUpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuc2l6ZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWVtb3J5LW9ubHkgUmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqXG4gKiBAcGFyYW0gc2l6ZXIgLSBVc2VkIHRvIGFzc2VzcyB0aGUgc2l6ZSBvZiBhIGRvY3VtZW50LiBGb3IgZWFnZXIgR0MsIHRoaXMgaXNcbiAqIGV4cGVjdGVkIHRvIGp1c3QgcmV0dXJuIDAgdG8gYXZvaWQgdW5uZWNlc3NhcmlseSBkb2luZyB0aGUgd29yayBvZlxuICogY2FsY3VsYXRpbmcgdGhlIHNpemUuXG4gKi9cbi8qKlxuICogSGFuZGxlcyB0aGUgZGV0YWlscyBvZiBhZGRpbmcgYW5kIHVwZGF0aW5nIGRvY3VtZW50cyBpbiB0aGUgTWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqL1xuY2xhc3MgX19QUklWQVRFX01lbW9yeVJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyIGV4dGVuZHMgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5hciA9IGU7XG4gICAgfVxuICAgIGFwcGx5Q2hhbmdlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbmdlcy5mb3JFYWNoKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgci5pc1ZhbGlkRG9jdW1lbnQoKSA/IHQucHVzaCh0aGlzLmFyLmFkZEVudHJ5KGUsIHIpKSA6IHRoaXMuYXIucmVtb3ZlRW50cnkobik7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IodCk7XG4gICAgfVxuICAgIGdldEZyb21DYWNoZShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyLmdldEVudHJ5KGUsIHQpO1xuICAgIH1cbiAgICBnZXRBbGxGcm9tQ2FjaGUoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hci5nZXRFbnRyaWVzKGUsIHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX01lbW9yeVRhcmdldENhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMucGVyc2lzdGVuY2UgPSBlLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgYSB0YXJnZXQgdG8gdGhlIGRhdGEgYWJvdXQgdGhhdCB0YXJnZXRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuTXIgPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeVRhcmdldChlKSksIF9fUFJJVkFURV90YXJnZXRFcXVhbHMpLCBcbiAgICAgICAgLyoqIFRoZSBsYXN0IHJlY2VpdmVkIHNuYXBzaG90IHZlcnNpb24uICovXG4gICAgICAgIHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiA9IFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXG4gICAgICAgIC8qKiBUaGUgaGlnaGVzdCBudW1iZXJlZCB0YXJnZXQgSUQgZW5jb3VudGVyZWQuICovXG4gICAgICAgIHRoaXMuaGlnaGVzdFRhcmdldElkID0gMCwgXG4gICAgICAgIC8qKiBUaGUgaGlnaGVzdCBzZXF1ZW5jZSBudW1iZXIgZW5jb3VudGVyZWQuICovXG4gICAgICAgIHRoaXMuT3IgPSAwLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgb3JkZXJlZCBiaWRpcmVjdGlvbmFsIG1hcHBpbmcgYmV0d2VlbiBkb2N1bWVudHMgYW5kIHRoZSByZW1vdGUgdGFyZ2V0XG4gICAgICAgICAqIElEcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuTnIgPSBuZXcgX19QUklWQVRFX1JlZmVyZW5jZVNldCwgdGhpcy50YXJnZXRDb3VudCA9IDAsIHRoaXMuTHIgPSBfX1BSSVZBVEVfVGFyZ2V0SWRHZW5lcmF0b3IuTm4oKTtcbiAgICB9XG4gICAgZm9yRWFjaFRhcmdldChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLk1yLmZvckVhY2goKChlLCBuKSA9PiB0KG4pKSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKTtcbiAgICB9XG4gICAgZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyKGUpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuT3IpO1xuICAgIH1cbiAgICBhbGxvY2F0ZVRhcmdldElkKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlnaGVzdFRhcmdldElkID0gdGhpcy5Mci5uZXh0KCksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuaGlnaGVzdFRhcmdldElkKTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0c01ldGFkYXRhKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIG4gJiYgKHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiA9IG4pLCB0ID4gdGhpcy5PciAmJiAodGhpcy5PciA9IHQpLCBcbiAgICAgICAgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcW4oZSkge1xuICAgICAgICB0aGlzLk1yLnNldChlLnRhcmdldCwgZSk7XG4gICAgICAgIGNvbnN0IHQgPSBlLnRhcmdldElkO1xuICAgICAgICB0ID4gdGhpcy5oaWdoZXN0VGFyZ2V0SWQgJiYgKHRoaXMuTHIgPSBuZXcgX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yKHQpLCB0aGlzLmhpZ2hlc3RUYXJnZXRJZCA9IHQpLCBcbiAgICAgICAgZS5zZXF1ZW5jZU51bWJlciA+IHRoaXMuT3IgJiYgKHRoaXMuT3IgPSBlLnNlcXVlbmNlTnVtYmVyKTtcbiAgICB9XG4gICAgYWRkVGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnFuKHQpLCB0aGlzLnRhcmdldENvdW50ICs9IDEsIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xbih0KSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLk1yLmRlbGV0ZSh0LnRhcmdldCksIHRoaXMuTnIuVnIodC50YXJnZXRJZCksIHRoaXMudGFyZ2V0Q291bnQgLT0gMSwgXG4gICAgICAgIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldHMoZSwgdCwgbikge1xuICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgIGNvbnN0IGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuTXIuZm9yRWFjaCgoKHMsIG8pID0+IHtcbiAgICAgICAgICAgIG8uc2VxdWVuY2VOdW1iZXIgPD0gdCAmJiBudWxsID09PSBuLmdldChvLnRhcmdldElkKSAmJiAodGhpcy5Nci5kZWxldGUocyksIGkucHVzaCh0aGlzLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsIG8udGFyZ2V0SWQpKSwgXG4gICAgICAgICAgICByKyspO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKGkpLm5leHQoKCgpID0+IHIpKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0Q291bnQoZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy50YXJnZXRDb3VudCk7XG4gICAgfVxuICAgIGdldFRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5Nci5nZXQodCkgfHwgbnVsbDtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG4pO1xuICAgIH1cbiAgICBhZGRNYXRjaGluZ0tleXMoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5Oci5kcih0LCBuKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlTWF0Y2hpbmdLZXlzKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5Oci5Scih0LCBuKTtcbiAgICAgICAgY29uc3QgciA9IHRoaXMucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUsIGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIHIgJiYgdC5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGkucHVzaChyLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKGUsIHQpKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihpKTtcbiAgICB9XG4gICAgcmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Oci5Wcih0KSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5Oci5ncih0KTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG4pO1xuICAgIH1cbiAgICBjb250YWluc0tleShlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLk5yLmNvbnRhaW5zS2V5KHQpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgbWVtb3J5LWJhY2tlZCBpbnN0YW5jZSBvZiBQZXJzaXN0ZW5jZS4gRGF0YSBpcyBzdG9yZWQgb25seSBpbiBSQU0gYW5kXG4gKiBub3QgcGVyc2lzdGVkIGFjcm9zcyBzZXNzaW9ucy5cbiAqL1xuY2xhc3MgX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3IgYWNjZXB0cyBhIGZhY3RvcnkgZm9yIGNyZWF0aW5nIGEgcmVmZXJlbmNlIGRlbGVnYXRlLiBUaGlzXG4gICAgICogYWxsb3dzIGJvdGggdGhlIGRlbGVnYXRlIGFuZCB0aGlzIGluc3RhbmNlIHRvIGhhdmUgc3Ryb25nIHJlZmVyZW5jZXMgdG9cbiAgICAgKiBlYWNoIG90aGVyIHdpdGhvdXQgaGF2aW5nIG51bGxhYmxlIGZpZWxkcyB0aGF0IHdvdWxkIHRoZW4gbmVlZCB0byBiZVxuICAgICAqIGNoZWNrZWQgb3IgYXNzZXJ0ZWQgb24gZXZlcnkgYWNjZXNzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5CciA9IHt9LCB0aGlzLm92ZXJsYXlzID0ge30sIHRoaXMua3IgPSBuZXcgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlKDApLCB0aGlzLnFyID0gITEsIFxuICAgICAgICB0aGlzLnFyID0gITAsIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUgPSBlKHRoaXMpLCB0aGlzLlFyID0gbmV3IF9fUFJJVkFURV9NZW1vcnlUYXJnZXRDYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSBuZXcgX19QUklWQVRFX01lbW9yeUluZGV4TWFuYWdlciwgdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlID0gZnVuY3Rpb24gX19QUklWQVRFX25ld01lbW9yeVJlbW90ZURvY3VtZW50Q2FjaGUoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZUltcGwoZSk7XG4gICAgICAgIH0oKGUgPT4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5LcihlKSkpLCB0aGlzLnNlcmlhbGl6ZXIgPSBuZXcgX19QUklWQVRFX0xvY2FsU2VyaWFsaXplcih0KSwgXG4gICAgICAgIHRoaXMuJHIgPSBuZXcgX19QUklWQVRFX01lbW9yeUJ1bmRsZUNhY2hlKHRoaXMuc2VyaWFsaXplcik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICAvLyBObyBkdXJhYmxlIHN0YXRlIHRvIGVuc3VyZSBpcyBjbG9zZWQgb24gc2h1dGRvd24uXG4gICAgICAgIHJldHVybiB0aGlzLnFyID0gITEsIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXI7XG4gICAgfVxuICAgIHNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKCkge1xuICAgICAgICAvLyBObyBvcC5cbiAgICB9XG4gICAgc2V0TmV0d29ya0VuYWJsZWQoKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBnZXRJbmRleE1hbmFnZXIoZSkge1xuICAgICAgICAvLyBXZSBkbyBub3QgY3VycmVudGx5IHN1cHBvcnQgaW5kaWNlcyBmb3IgbWVtb3J5IHBlcnNpc3RlbmNlLCBzbyB3ZSBjYW5cbiAgICAgICAgLy8gcmV0dXJuIHRoZSBzYW1lIHNoYXJlZCBpbnN0YW5jZSBvZiB0aGUgbWVtb3J5IGluZGV4IG1hbmFnZXIuXG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4TWFuYWdlcjtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRPdmVybGF5Q2FjaGUoZSkge1xuICAgICAgICBsZXQgdCA9IHRoaXMub3ZlcmxheXNbZS50b0tleSgpXTtcbiAgICAgICAgcmV0dXJuIHQgfHwgKHQgPSBuZXcgX19QUklWQVRFX01lbW9yeURvY3VtZW50T3ZlcmxheUNhY2hlLCB0aGlzLm92ZXJsYXlzW2UudG9LZXkoKV0gPSB0KSwgXG4gICAgICAgIHQ7XG4gICAgfVxuICAgIGdldE11dGF0aW9uUXVldWUoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IHRoaXMuQnJbZS50b0tleSgpXTtcbiAgICAgICAgcmV0dXJuIG4gfHwgKG4gPSBuZXcgX19QUklWQVRFX01lbW9yeU11dGF0aW9uUXVldWUodCwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSksIHRoaXMuQnJbZS50b0tleSgpXSA9IG4pLCBcbiAgICAgICAgbjtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0Q2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlFyO1xuICAgIH1cbiAgICBnZXRSZW1vdGVEb2N1bWVudENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlO1xuICAgIH1cbiAgICBnZXRCdW5kbGVDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHI7XG4gICAgfVxuICAgIHJ1blRyYW5zYWN0aW9uKGUsIHQsIG4pIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiTWVtb3J5UGVyc2lzdGVuY2VcIiwgXCJTdGFydGluZyB0cmFuc2FjdGlvbjpcIiwgZSk7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX01lbW9yeVRyYW5zYWN0aW9uKHRoaXMua3IubmV4dCgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUuVXIoKSwgbihyKS5uZXh0KChlID0+IHRoaXMucmVmZXJlbmNlRGVsZWdhdGUuV3IocikubmV4dCgoKCkgPT4gZSkpKSkudG9Qcm9taXNlKCkudGhlbigoZSA9PiAoci5yYWlzZU9uQ29tbWl0dGVkRXZlbnQoKSwgXG4gICAgICAgIGUpKSk7XG4gICAgfVxuICAgIEdyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5vcihPYmplY3QudmFsdWVzKHRoaXMuQnIpLm1hcCgobiA9PiAoKSA9PiBuLmNvbnRhaW5zS2V5KGUsIHQpKSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNZW1vcnkgcGVyc2lzdGVuY2UgaXMgbm90IGFjdHVhbGx5IHRyYW5zYWN0aW9uYWwsIGJ1dCBmdXR1cmUgaW1wbGVtZW50YXRpb25zXG4gKiBtYXkgaGF2ZSB0cmFuc2FjdGlvbi1zY29wZWQgc3RhdGUuXG4gKi8gY2xhc3MgX19QUklWQVRFX01lbW9yeVRyYW5zYWN0aW9uIGV4dGVuZHMgUGVyc2lzdGVuY2VUcmFuc2FjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmN1cnJlbnRTZXF1ZW5jZU51bWJlciA9IGU7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5RWFnZXJEZWxlZ2F0ZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnBlcnNpc3RlbmNlID0gZSwgXG4gICAgICAgIC8qKiBUcmFja3MgYWxsIGRvY3VtZW50cyB0aGF0IGFyZSBhY3RpdmUgaW4gUXVlcnkgdmlld3MuICovXG4gICAgICAgIHRoaXMuenIgPSBuZXcgX19QUklWQVRFX1JlZmVyZW5jZVNldCwgXG4gICAgICAgIC8qKiBUaGUgbGlzdCBvZiBkb2N1bWVudHMgdGhhdCBhcmUgcG90ZW50aWFsbHkgR0NlZCBhZnRlciBlYWNoIHRyYW5zYWN0aW9uLiAqL1xuICAgICAgICB0aGlzLmpyID0gbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIEhyKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5RWFnZXJEZWxlZ2F0ZShlKTtcbiAgICB9XG4gICAgZ2V0IEpyKCkge1xuICAgICAgICBpZiAodGhpcy5qcikgcmV0dXJuIHRoaXMuanI7XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG4gICAgYWRkUmVmZXJlbmNlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuenIuYWRkUmVmZXJlbmNlKG4sIHQpLCB0aGlzLkpyLmRlbGV0ZShuLnRvU3RyaW5nKCkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVSZWZlcmVuY2UoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy56ci5yZW1vdmVSZWZlcmVuY2UobiwgdCksIHRoaXMuSnIuYWRkKG4udG9TdHJpbmcoKSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIG1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSnIuYWRkKHQudG9TdHJpbmcoKSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldChlLCB0KSB7XG4gICAgICAgIHRoaXMuenIuVnIodC50YXJnZXRJZCkuZm9yRWFjaCgoZSA9PiB0aGlzLkpyLmFkZChlLnRvU3RyaW5nKCkpKSk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCk7XG4gICAgICAgIHJldHVybiBuLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsIHQudGFyZ2V0SWQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZS5mb3JFYWNoKChlID0+IHRoaXMuSnIuYWRkKGUudG9TdHJpbmcoKSkpKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IG4ucmVtb3ZlVGFyZ2V0RGF0YShlLCB0KSkpO1xuICAgIH1cbiAgICBVcigpIHtcbiAgICAgICAgdGhpcy5qciA9IG5ldyBTZXQ7XG4gICAgfVxuICAgIFdyKGUpIHtcbiAgICAgICAgLy8gUmVtb3ZlIG5ld2x5IG9ycGhhbmVkIGRvY3VtZW50cy5cbiAgICAgICAgY29uc3QgdCA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLm5ld0NoYW5nZUJ1ZmZlcigpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godGhpcy5KciwgKG4gPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IERvY3VtZW50S2V5LmZyb21QYXRoKG4pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuWXIoZSwgcikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgZSB8fCB0LnJlbW92ZUVudHJ5KHIsIFNuYXBzaG90VmVyc2lvbi5taW4oKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiAodGhpcy5qciA9IG51bGwsIHQuYXBwbHkoZSkpKSk7XG4gICAgfVxuICAgIHVwZGF0ZUxpbWJvRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ZcihlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGUgPyB0aGlzLkpyLmRlbGV0ZSh0LnRvU3RyaW5nKCkpIDogdGhpcy5Kci5hZGQodC50b1N0cmluZygpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBLcihlKSB7XG4gICAgICAgIC8vIEZvciBlYWdlciBHQywgd2UgZG9uJ3QgY2FyZSBhYm91dCB0aGUgZG9jdW1lbnQgc2l6ZSwgdGhlcmUgYXJlIG5vIHNpemUgdGhyZXNob2xkcy5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIFlyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5vcihbICgpID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuenIuY29udGFpbnNLZXkodCkpLCAoKSA9PiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkuY29udGFpbnNLZXkoZSwgdCksICgpID0+IHRoaXMucGVyc2lzdGVuY2UuR3IoZSwgdCkgXSk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5THJ1RGVsZWdhdGUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZSA9IGUsIHRoaXMuWnIgPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZS5wYXRoKSksICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSksIFxuICAgICAgICB0aGlzLmdhcmJhZ2VDb2xsZWN0b3IgPSBfX1BSSVZBVEVfbmV3THJ1R2FyYmFnZUNvbGxlY3Rvcih0aGlzLCB0KTtcbiAgICB9XG4gICAgc3RhdGljIEhyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5THJ1RGVsZWdhdGUoZSwgdCk7XG4gICAgfVxuICAgIC8vIE5vLW9wcywgcHJlc2VudCBzbyBtZW1vcnkgcGVyc2lzdGVuY2UgZG9lc24ndCBoYXZlIHRvIGNhcmUgd2hpY2ggZGVsZWdhdGVcbiAgICAvLyBpdCBoYXMuXG4gICAgVXIoKSB7fVxuICAgIFdyKGUpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGZvckVhY2hUYXJnZXQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLmZvckVhY2hUYXJnZXQoZSwgdCk7XG4gICAgfVxuICAgIEhuKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuWm4oZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkuZ2V0VGFyZ2V0Q291bnQoZSkubmV4dCgoZSA9PiB0Lm5leHQoKHQgPT4gZSArIHQpKSkpO1xuICAgIH1cbiAgICBabihlKSB7XG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuSm4oZSwgKGUgPT4ge1xuICAgICAgICAgICAgdCsrO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gdCkpO1xuICAgIH1cbiAgICBKbihlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0aGlzLlpyLCAoKG4sIHIpID0+IHRoaXMuZXIoZSwgbiwgcikubmV4dCgoZSA9PiBlID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKSA6IHQocikpKSkpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXRzKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5yZW1vdmVUYXJnZXRzKGUsIHQsIG4pO1xuICAgIH1cbiAgICByZW1vdmVPcnBoYW5lZERvY3VtZW50cyhlLCB0KSB7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgY29uc3QgciA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLCBpID0gci5uZXdDaGFuZ2VCdWZmZXIoKTtcbiAgICAgICAgcmV0dXJuIHIuRnIoZSwgKHIgPT4gdGhpcy5lcihlLCByLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGUgfHwgKG4rKywgaS5yZW1vdmVFbnRyeShyLCBTbmFwc2hvdFZlcnNpb24ubWluKCkpKTtcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gaS5hcHBseShlKSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgbWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5aci5zZXQodCwgZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC53aXRoU2VxdWVuY2VOdW1iZXIoZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLnVwZGF0ZVRhcmdldERhdGEoZSwgbik7XG4gICAgfVxuICAgIGFkZFJlZmVyZW5jZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlpyLnNldChuLCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVJlZmVyZW5jZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlpyLnNldChuLCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHVwZGF0ZUxpbWJvRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5aci5zZXQodCwgZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBLcihlKSB7XG4gICAgICAgIGxldCB0ID0gZS5rZXkudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBlLmlzRm91bmREb2N1bWVudCgpICYmICh0ICs9IF9fUFJJVkFURV9lc3RpbWF0ZUJ5dGVTaXplKGUuZGF0YS52YWx1ZSkpLCB0O1xuICAgIH1cbiAgICBlcihlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uub3IoWyAoKSA9PiB0aGlzLnBlcnNpc3RlbmNlLkdyKGUsIHQpLCAoKSA9PiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkuY29udGFpbnNLZXkoZSwgdCksICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLlpyLmdldCh0KTtcbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh2b2lkIDAgIT09IGUgJiYgZSA+IG4pO1xuICAgICAgICB9IF0pO1xuICAgIH1cbiAgICBnZXRDYWNoZVNpemUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkuZ2V0U2l6ZShlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogUGVyZm9ybXMgZGF0YWJhc2UgY3JlYXRpb24gYW5kIHNjaGVtYSB1cGdyYWRlcy4gKi8gY2xhc3MgX19QUklWQVRFX1NjaGVtYUNvbnZlcnRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBkYXRhYmFzZSBjcmVhdGlvbiBhbmQgc2NoZW1hIHVwZ3JhZGVzLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGluIHByb2R1Y3Rpb24sIHRoaXMgbWV0aG9kIGlzIG9ubHkgZXZlciB1c2VkIHRvIHVwZ3JhZGUgdGhlIHNjaGVtYVxuICAgICAqIHRvIFNDSEVNQV9WRVJTSU9OLiBEaWZmZXJlbnQgdmFsdWVzIG9mIHRvVmVyc2lvbiBhcmUgb25seSB1c2VkIGZvciB0ZXN0aW5nXG4gICAgICogYW5kIGxvY2FsIGZlYXR1cmUgZGV2ZWxvcG1lbnQuXG4gICAgICovICAgIE8oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9TaW1wbGVEYlRyYW5zYWN0aW9uKFwiY3JlYXRlT3JVcGdyYWRlXCIsIHQpO1xuICAgICAgICBuIDwgMSAmJiByID49IDEgJiYgKCFmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlUHJpbWFyeUNsaWVudFN0b3JlKGUpIHtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJvd25lclwiKTtcbiAgICAgICAgfShlKSwgZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZU11dGF0aW9uUXVldWUoZSkge1xuICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcIm11dGF0aW9uUXVldWVzXCIsIHtcbiAgICAgICAgICAgICAgICBrZXlQYXRoOiBcInVzZXJJZFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJtdXRhdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IFwiYmF0Y2hJZFwiLFxuICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6ICEwXG4gICAgICAgICAgICB9KS5jcmVhdGVJbmRleChcInVzZXJNdXRhdGlvbnNJbmRleFwiLCB4LCB7XG4gICAgICAgICAgICAgICAgdW5pcXVlOiAhMFxuICAgICAgICAgICAgfSksIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJkb2N1bWVudE11dGF0aW9uc1wiKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIFVwZ3JhZGUgZnVuY3Rpb24gdG8gbWlncmF0ZSB0aGUgJ211dGF0aW9ucycgc3RvcmUgZnJvbSBWMSB0byBWMy4gTG9hZHNcbiAqIGFuZCByZXdyaXRlcyBhbGwgZGF0YS5cbiAqLyAoZSksIF9fUFJJVkFURV9jcmVhdGVRdWVyeUNhY2hlKGUpLCBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlTGVnYWN5UmVtb3RlRG9jdW1lbnRDYWNoZShlKSB7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpO1xuICAgICAgICB9KGUpKTtcbiAgICAgICAgLy8gTWlncmF0aW9uIDIgdG8gcG9wdWxhdGUgdGhlIHRhcmdldEdsb2JhbCBvYmplY3Qgbm8gbG9uZ2VyIG5lZWRlZCBzaW5jZVxuICAgICAgICAvLyBtaWdyYXRpb24gMyB1bmNvbmRpdGlvbmFsbHkgY2xlYXJzIGl0LlxuICAgICAgICAgICAgICAgIGxldCBzID0gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuIG4gPCAzICYmIHIgPj0gMyAmJiAoXG4gICAgICAgIC8vIEJyYW5kIG5ldyBjbGllbnRzIGRvbid0IG5lZWQgdG8gZHJvcCBhbmQgcmVjcmVhdGUtLW9ubHkgY2xpZW50cyB0aGF0XG4gICAgICAgIC8vIHBvdGVudGlhbGx5IGhhdmUgY29ycnVwdCBkYXRhLlxuICAgICAgICAwICE9PSBuICYmICghZnVuY3Rpb24gX19QUklWQVRFX2Ryb3BRdWVyeUNhY2hlKGUpIHtcbiAgICAgICAgICAgIGUuZGVsZXRlT2JqZWN0U3RvcmUoXCJ0YXJnZXREb2N1bWVudHNcIiksIGUuZGVsZXRlT2JqZWN0U3RvcmUoXCJ0YXJnZXRzXCIpLCBlLmRlbGV0ZU9iamVjdFN0b3JlKFwidGFyZ2V0R2xvYmFsXCIpO1xuICAgICAgICB9KGUpLCBfX1BSSVZBVEVfY3JlYXRlUXVlcnlDYWNoZShlKSksIHMgPSBzLm5leHQoKCgpID0+IFxuICAgICAgICAvKipcbiAqIENyZWF0ZXMgdGhlIHRhcmdldCBnbG9iYWwgc2luZ2xldG9uIHJvdy5cbiAqXG4gKiBAcGFyYW0gdHhuIC0gVGhlIHZlcnNpb24gdXBncmFkZSB0cmFuc2FjdGlvbiBmb3IgaW5kZXhlZGRiXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3dyaXRlRW1wdHlUYXJnZXRHbG9iYWxFbnRyeShlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS5zdG9yZShcInRhcmdldEdsb2JhbFwiKSwgbiA9IHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0VGFyZ2V0SWQ6IDAsXG4gICAgICAgICAgICAgICAgaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgIGxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb246IFNuYXBzaG90VmVyc2lvbi5taW4oKS50b1RpbWVzdGFtcCgpLFxuICAgICAgICAgICAgICAgIHRhcmdldENvdW50OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHQucHV0KFwidGFyZ2V0R2xvYmFsS2V5XCIsIG4pO1xuICAgICAgICB9KGkpKSkpLCBuIDwgNCAmJiByID49IDQgJiYgKDAgIT09IG4gJiYgKFxuICAgICAgICAvLyBTY2hlbWEgdmVyc2lvbiAzIHVzZXMgYXV0by1nZW5lcmF0ZWQga2V5cyB0byBnZW5lcmF0ZSBnbG9iYWxseSB1bmlxdWVcbiAgICAgICAgLy8gbXV0YXRpb24gYmF0Y2ggSURzICh0aGlzIHdhcyBwcmV2aW91c2x5IGVuc3VyZWQgaW50ZXJuYWxseSBieSB0aGVcbiAgICAgICAgLy8gY2xpZW50KS4gVG8gbWlncmF0ZSB0byB0aGUgbmV3IHNjaGVtYSwgd2UgaGF2ZSB0byByZWFkIGFsbCBtdXRhdGlvbnNcbiAgICAgICAgLy8gYW5kIHdyaXRlIHRoZW0gYmFjayBvdXQuIFdlIHByZXNlcnZlIHRoZSBleGlzdGluZyBiYXRjaCBJRHMgdG8gZ3VhcmFudGVlXG4gICAgICAgIC8vIGNvbnNpc3RlbmN5IHdpdGggb3RoZXIgb2JqZWN0IHN0b3Jlcy4gQW55IGZ1cnRoZXIgbXV0YXRpb24gYmF0Y2ggSURzIHdpbGxcbiAgICAgICAgLy8gYmUgYXV0by1nZW5lcmF0ZWQuXG4gICAgICAgIHMgPSBzLm5leHQoKCgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV91cGdyYWRlTXV0YXRpb25CYXRjaFNjaGVtYUFuZE1pZ3JhdGVEYXRhKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0LnN0b3JlKFwibXV0YXRpb25zXCIpLlUoKS5uZXh0KChuID0+IHtcbiAgICAgICAgICAgICAgICBlLmRlbGV0ZU9iamVjdFN0b3JlKFwibXV0YXRpb25zXCIpO1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJtdXRhdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiBcImJhdGNoSWRcIixcbiAgICAgICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogITBcbiAgICAgICAgICAgICAgICB9KS5jcmVhdGVJbmRleChcInVzZXJNdXRhdGlvbnNJbmRleFwiLCB4LCB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogITBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdC5zdG9yZShcIm11dGF0aW9uc1wiKSwgaSA9IG4ubWFwKChlID0+IHIucHV0KGUpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKGkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KGUsIGkpKSkpLCBzID0gcy5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAhZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZUNsaWVudE1ldGFkYXRhU3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJjbGllbnRNZXRhZGF0YVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IFwiY2xpZW50SWRcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfShlKTtcbiAgICAgICAgfSkpKSwgbiA8IDUgJiYgciA+PSA1ICYmIChzID0gcy5uZXh0KCgoKSA9PiB0aGlzLlhyKGkpKSkpLCBuIDwgNiAmJiByID49IDYgJiYgKHMgPSBzLm5leHQoKCgpID0+IChmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlRG9jdW1lbnRHbG9iYWxTdG9yZShlKSB7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRHbG9iYWxcIik7XG4gICAgICAgIH0oZSksIHRoaXMuZWkoaSkpKSkpLCBuIDwgNyAmJiByID49IDcgJiYgKHMgPSBzLm5leHQoKCgpID0+IHRoaXMudGkoaSkpKSksIG4gPCA4ICYmIHIgPj0gOCAmJiAocyA9IHMubmV4dCgoKCkgPT4gdGhpcy5uaShlLCBpKSkpKSwgXG4gICAgICAgIG4gPCA5ICYmIHIgPj0gOSAmJiAocyA9IHMubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgLy8gTXVsdGktVGFiIHVzZWQgdG8gbWFuYWdlIGl0cyBvd24gY2hhbmdlbG9nLCBidXQgdGhpcyBoYXMgYmVlbiBtb3ZlZFxuICAgICAgICAgICAgLy8gdG8gdGhlIERiUmVtb3RlRG9jdW1lbnQgb2JqZWN0IHN0b3JlIGl0c2VsZi4gU2luY2UgdGhlIHByZXZpb3VzIGNoYW5nZVxuICAgICAgICAgICAgLy8gbG9nIG9ubHkgY29udGFpbmVkIHRyYW5zaWVudCBkYXRhLCB3ZSBjYW4gZHJvcCBpdHMgb2JqZWN0IHN0b3JlLlxuICAgICAgICAgICAgIWZ1bmN0aW9uIF9fUFJJVkFURV9kcm9wUmVtb3RlRG9jdW1lbnRDaGFuZ2VzU3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGUub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhcInJlbW90ZURvY3VtZW50Q2hhbmdlc1wiKSAmJiBlLmRlbGV0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRDaGFuZ2VzXCIpO1xuICAgICAgICAgICAgfShlKTtcbiAgICAgICAgICAgIC8vIE5vdGU6IFNjaGVtYSB2ZXJzaW9uIDkgdXNlZCB0byBjcmVhdGUgYSByZWFkIHRpbWUgaW5kZXggZm9yIHRoZVxuICAgICAgICAgICAgLy8gUmVtb3RlRG9jdW1lbnRDYWNoZS4gVGhpcyBpcyBub3cgZG9uZSB3aXRoIHNjaGVtYSB2ZXJzaW9uIDEzLlxuICAgICAgICAgICAgICAgIH0pKSksIG4gPCAxMCAmJiByID49IDEwICYmIChzID0gcy5uZXh0KCgoKSA9PiB0aGlzLnJpKGkpKSkpLCBuIDwgMTEgJiYgciA+PSAxMSAmJiAocyA9IHMubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgIWZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVCdW5kbGVzU3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJidW5kbGVzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aDogXCJidW5kbGVJZFwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KGUpLCBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlTmFtZWRRdWVyaWVzU3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJuYW1lZFF1ZXJpZXNcIiwge1xuICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiBcIm5hbWVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfShlKTtcbiAgICAgICAgfSkpKSwgbiA8IDEyICYmIHIgPj0gMTIgJiYgKHMgPSBzLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgICFmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlRG9jdW1lbnRPdmVybGF5U3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLmNyZWF0ZU9iamVjdFN0b3JlKFwiZG9jdW1lbnRPdmVybGF5c1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IHpcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0LmNyZWF0ZUluZGV4KFwiY29sbGVjdGlvblBhdGhPdmVybGF5SW5kZXhcIiwgaiwge1xuICAgICAgICAgICAgICAgICAgICB1bmlxdWU6ICExXG4gICAgICAgICAgICAgICAgfSksIHQuY3JlYXRlSW5kZXgoXCJjb2xsZWN0aW9uR3JvdXBPdmVybGF5SW5kZXhcIiwgSCwge1xuICAgICAgICAgICAgICAgICAgICB1bmlxdWU6ICExXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KGUpO1xuICAgICAgICB9KSkpLCBuIDwgMTMgJiYgciA+PSAxMyAmJiAocyA9IHMubmV4dCgoKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZVJlbW90ZURvY3VtZW50Q2FjaGUoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJyZW1vdGVEb2N1bWVudHNWMTRcIiwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IE5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdC5jcmVhdGVJbmRleChcImRvY3VtZW50S2V5SW5kZXhcIiwgTCksIHQuY3JlYXRlSW5kZXgoXCJjb2xsZWN0aW9uR3JvdXBJbmRleFwiLCBCKTtcbiAgICAgICAgfShlKSkpLm5leHQoKCgpID0+IHRoaXMuaWkoZSwgaSkpKS5uZXh0KCgoKSA9PiBlLmRlbGV0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpKSkpLCBcbiAgICAgICAgbiA8IDE0ICYmIHIgPj0gMTQgJiYgKHMgPSBzLm5leHQoKCgpID0+IHRoaXMuc2koZSwgaSkpKSksIG4gPCAxNSAmJiByID49IDE1ICYmIChzID0gcy5uZXh0KCgoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlRmllbGRJbmRleChlKSB7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwiaW5kZXhDb25maWd1cmF0aW9uXCIsIHtcbiAgICAgICAgICAgICAgICBrZXlQYXRoOiBcImluZGV4SWRcIixcbiAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50OiAhMFxuICAgICAgICAgICAgfSkuY3JlYXRlSW5kZXgoXCJjb2xsZWN0aW9uR3JvdXBJbmRleFwiLCBcImNvbGxlY3Rpb25Hcm91cFwiLCB7XG4gICAgICAgICAgICAgICAgdW5pcXVlOiAhMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwiaW5kZXhTdGF0ZVwiLCB7XG4gICAgICAgICAgICAgICAga2V5UGF0aDogJFxuICAgICAgICAgICAgfSkuY3JlYXRlSW5kZXgoXCJzZXF1ZW5jZU51bWJlckluZGV4XCIsIFUsIHtcbiAgICAgICAgICAgICAgICB1bmlxdWU6ICExXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJpbmRleEVudHJpZXNcIiwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IFdcbiAgICAgICAgICAgIH0pLmNyZWF0ZUluZGV4KFwiZG9jdW1lbnRLZXlJbmRleFwiLCBHLCB7XG4gICAgICAgICAgICAgICAgdW5pcXVlOiAhMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0oZSkpKSksIG4gPCAxNiAmJiByID49IDE2ICYmIChcbiAgICAgICAgLy8gQ2xlYXIgdGhlIG9iamVjdCBzdG9yZXMgdG8gcmVtb3ZlIHBvc3NpYmx5IGNvcnJ1cHRlZCBpbmRleCBlbnRyaWVzXG4gICAgICAgIHMgPSBzLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIHQub2JqZWN0U3RvcmUoXCJpbmRleFN0YXRlXCIpLmNsZWFyKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICB0Lm9iamVjdFN0b3JlKFwiaW5kZXhFbnRyaWVzXCIpLmNsZWFyKCk7XG4gICAgICAgIH0pKSksIHM7XG4gICAgfVxuICAgIGVpKGUpIHtcbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICByZXR1cm4gZS5zdG9yZShcInJlbW90ZURvY3VtZW50c1wiKS5KKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgdCArPSBfX1BSSVZBVEVfZGJEb2N1bWVudFNpemUobik7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0ge1xuICAgICAgICAgICAgICAgIGJ5dGVTaXplOiB0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGUuc3RvcmUoXCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiKS5wdXQoXCJyZW1vdGVEb2N1bWVudEdsb2JhbEtleVwiLCBuKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBYcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLnN0b3JlKFwibXV0YXRpb25RdWV1ZXNcIiksIG4gPSBlLnN0b3JlKFwibXV0YXRpb25zXCIpO1xuICAgICAgICByZXR1cm4gdC5VKCkubmV4dCgodCA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAodCA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0LnVzZXJJZCwgLTEgXSwgWyB0LnVzZXJJZCwgdC5sYXN0QWNrbm93bGVkZ2VkQmF0Y2hJZCBdKTtcbiAgICAgICAgICAgIHJldHVybiBuLlUoXCJ1c2VyTXV0YXRpb25zSW5kZXhcIiwgcikubmV4dCgobiA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChuLCAobiA9PiB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQobi51c2VySWQgPT09IHQudXNlcklkKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2Zyb21EYk11dGF0aW9uQmF0Y2godGhpcy5zZXJpYWxpemVyLCBuKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlTXV0YXRpb25CYXRjaChlLCB0LnVzZXJJZCwgcikubmV4dCgoKCkgPT4ge30pKTtcbiAgICAgICAgICAgIH0pKSkpO1xuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IGV2ZXJ5IGRvY3VtZW50IGluIHRoZSByZW1vdGUgZG9jdW1lbnQgY2FjaGUgaGFzIGEgY29ycmVzcG9uZGluZyBzZW50aW5lbCByb3dcbiAgICAgKiB3aXRoIGEgc2VxdWVuY2UgbnVtYmVyLiBNaXNzaW5nIHJvd3MgYXJlIGdpdmVuIHRoZSBtb3N0IHJlY2VudGx5IHVzZWQgc2VxdWVuY2UgbnVtYmVyLlxuICAgICAqLyAgICB0aShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLnN0b3JlKFwidGFyZ2V0RG9jdW1lbnRzXCIpLCBuID0gZS5zdG9yZShcInJlbW90ZURvY3VtZW50c1wiKTtcbiAgICAgICAgcmV0dXJuIGUuc3RvcmUoXCJ0YXJnZXRHbG9iYWxcIikuZ2V0KFwidGFyZ2V0R2xvYmFsS2V5XCIpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIG4uSigoKG4sIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gbmV3IFJlc291cmNlUGF0aChuKSwgbyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9zZW50aW5lbEtleShlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbIDAsIF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZSkgXTtcbiAgICAgICAgICAgICAgICB9KHMpO1xuICAgICAgICAgICAgICAgIHIucHVzaCh0LmdldChvKS5uZXh0KChuID0+IG4gPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpIDogKG4gPT4gdC5wdXQoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRJZDogMCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChuKSxcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXI6IGUuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyXG4gICAgICAgICAgICAgICAgfSkpKHMpKSkpO1xuICAgICAgICAgICAgfSkpLm5leHQoKCgpID0+IFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHIpKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgbmkoZSwgdCkge1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGluZGV4LlxuICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwiY29sbGVjdGlvblBhcmVudHNcIiwge1xuICAgICAgICAgICAga2V5UGF0aDogS1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbiA9IHQuc3RvcmUoXCJjb2xsZWN0aW9uUGFyZW50c1wiKSwgciA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5Q29sbGVjdGlvblBhcmVudEluZGV4LCBhZGRFbnRyeSA9IGUgPT4ge1xuICAgICAgICAgICAgaWYgKHIuYWRkKGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUubGFzdFNlZ21lbnQoKSwgciA9IGUucG9wTGFzdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuLnB1dCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25JZDogdCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBfX1BSSVZBVEVfZW5jb2RlUmVzb3VyY2VQYXRoKHIpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIEhlbHBlciB0byBhZGQgYW4gaW5kZXggZW50cnkgaWZmIHdlIGhhdmVuJ3QgYWxyZWFkeSB3cml0dGVuIGl0LlxuICAgICAgICAgICAgICAgIC8vIEluZGV4IGV4aXN0aW5nIHJlbW90ZSBkb2N1bWVudHMuXG4gICAgICAgIHJldHVybiB0LnN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpLkooe1xuICAgICAgICAgICAgSDogITBcbiAgICAgICAgfSwgKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IFJlc291cmNlUGF0aChlKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRFbnRyeShuLnBvcExhc3QoKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0LnN0b3JlKFwiZG9jdW1lbnRNdXRhdGlvbnNcIikuSih7XG4gICAgICAgICAgICBIOiAhMFxuICAgICAgICB9LCAoKFtlLCB0LCBuXSwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgodCk7XG4gICAgICAgICAgICByZXR1cm4gYWRkRW50cnkoaS5wb3BMYXN0KCkpO1xuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgcmkoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5zdG9yZShcInRhcmdldHNcIik7XG4gICAgICAgIHJldHVybiB0LkooKChlLCBuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2Zyb21EYlRhcmdldChuKSwgaSA9IF9fUFJJVkFURV90b0RiVGFyZ2V0KHRoaXMuc2VyaWFsaXplciwgcik7XG4gICAgICAgICAgICByZXR1cm4gdC5wdXQoaSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgaWkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5zdG9yZShcInJlbW90ZURvY3VtZW50c1wiKSwgciA9IFtdO1xuICAgICAgICByZXR1cm4gbi5KKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IHQuc3RvcmUoXCJyZW1vdGVEb2N1bWVudHNWMTRcIiksIHMgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZXh0cmFjdEtleShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuZG9jdW1lbnQgPyBuZXcgRG9jdW1lbnRLZXkoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcoZS5kb2N1bWVudC5uYW1lKS5wb3BGaXJzdCg1KSkgOiBlLm5vRG9jdW1lbnQgPyBEb2N1bWVudEtleS5mcm9tU2VnbWVudHMoZS5ub0RvY3VtZW50LnBhdGgpIDogZS51bmtub3duRG9jdW1lbnQgPyBEb2N1bWVudEtleS5mcm9tU2VnbWVudHMoZS51bmtub3duRG9jdW1lbnQucGF0aCkgOiBmYWlsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAobikucGF0aC50b0FycmF5KCksIG8gPSB7XG4gICAgICAgICAgICAgICAgcHJlZml4UGF0aDogcy5zbGljZSgwLCBzLmxlbmd0aCAtIDIpLFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Hcm91cDogc1tzLmxlbmd0aCAtIDJdLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50SWQ6IHNbcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICByZWFkVGltZTogbi5yZWFkVGltZSB8fCBbIDAsIDAgXSxcbiAgICAgICAgICAgICAgICB1bmtub3duRG9jdW1lbnQ6IG4udW5rbm93bkRvY3VtZW50LFxuICAgICAgICAgICAgICAgIG5vRG9jdW1lbnQ6IG4ubm9Eb2N1bWVudCxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogbi5kb2N1bWVudCxcbiAgICAgICAgICAgICAgICBoYXNDb21taXR0ZWRNdXRhdGlvbnM6ICEhbi5oYXNDb21taXR0ZWRNdXRhdGlvbnNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByLnB1c2goaS5wdXQobykpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IocikpKTtcbiAgICB9XG4gICAgc2koZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5zdG9yZShcIm11dGF0aW9uc1wiKSwgciA9IF9fUFJJVkFURV9uZXdJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlKHRoaXMuc2VyaWFsaXplciksIGkgPSBuZXcgX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlKF9fUFJJVkFURV9NZW1vcnlFYWdlckRlbGVnYXRlLkhyLCB0aGlzLnNlcmlhbGl6ZXIuY3QpO1xuICAgICAgICByZXR1cm4gbi5VKCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IE1hcDtcbiAgICAgICAgICAgIHJldHVybiBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB0O1xuICAgICAgICAgICAgICAgIGxldCByID0gbnVsbCAhPT0gKHQgPSBuLmdldChlLnVzZXJJZCkpICYmIHZvaWQgMCAhPT0gdCA/IHQgOiBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpLmtleXMoKS5mb3JFYWNoKChlID0+IHIgPSByLmFkZChlKSkpLCBcbiAgICAgICAgICAgICAgICBuLnNldChlLnVzZXJJZCwgcik7XG4gICAgICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKG4sICgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuZXcgVXNlcihuKSwgbyA9IF9fUFJJVkFURV9JbmRleGVkRGJEb2N1bWVudE92ZXJsYXlDYWNoZS5sdCh0aGlzLnNlcmlhbGl6ZXIsIHMpLCBfID0gaS5nZXRJbmRleE1hbmFnZXIocyksIGEgPSBfX1BSSVZBVEVfSW5kZXhlZERiTXV0YXRpb25RdWV1ZS5sdChzLCB0aGlzLnNlcmlhbGl6ZXIsIF8sIGkucmVmZXJlbmNlRGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTG9jYWxEb2N1bWVudHNWaWV3KHIsIGEsIG8sIF8pLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb24odCwgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKSwgZSkubmV4dCgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlUXVlcnlDYWNoZShlKSB7XG4gICAgZS5jcmVhdGVPYmplY3RTdG9yZShcInRhcmdldERvY3VtZW50c1wiLCB7XG4gICAgICAgIGtleVBhdGg6IHFcbiAgICB9KS5jcmVhdGVJbmRleChcImRvY3VtZW50VGFyZ2V0c0luZGV4XCIsIFEsIHtcbiAgICAgICAgdW5pcXVlOiAhMFxuICAgIH0pO1xuICAgIC8vIE5PVEU6IFRoaXMgaXMgdW5pcXVlIG9ubHkgYmVjYXVzZSB0aGUgVGFyZ2V0SWQgaXMgdGhlIHN1ZmZpeC5cbiAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwidGFyZ2V0c1wiLCB7XG4gICAgICAgIGtleVBhdGg6IFwidGFyZ2V0SWRcIlxuICAgIH0pLmNyZWF0ZUluZGV4KFwicXVlcnlUYXJnZXRzSW5kZXhcIiwgaywge1xuICAgICAgICB1bmlxdWU6ICEwXG4gICAgfSksIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJ0YXJnZXRHbG9iYWxcIik7XG59XG5cbmNvbnN0IFJlID0gXCJGYWlsZWQgdG8gb2J0YWluIGV4Y2x1c2l2ZSBhY2Nlc3MgdG8gdGhlIHBlcnNpc3RlbmNlIGxheWVyLiBUbyBhbGxvdyBzaGFyZWQgYWNjZXNzLCBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uIGhhcyB0byBiZSBlbmFibGVkIGluIGFsbCB0YWJzLiBJZiB5b3UgYXJlIHVzaW5nIGBleHBlcmltZW50YWxGb3JjZU93bmluZ1RhYjp0cnVlYCwgbWFrZSBzdXJlIHRoYXQgb25seSBvbmUgdGFiIGhhcyBwZXJzaXN0ZW5jZSBlbmFibGVkIGF0IGFueSBnaXZlbiB0aW1lLlwiO1xuXG4vKipcbiAqIE9sZGVzdCBhY2NlcHRhYmxlIGFnZSBpbiBtaWxsaXNlY29uZHMgZm9yIGNsaWVudCBtZXRhZGF0YSBiZWZvcmUgdGhlIGNsaWVudFxuICogaXMgY29uc2lkZXJlZCBpbmFjdGl2ZSBhbmQgaXRzIGFzc29jaWF0ZWQgZGF0YSBpcyBnYXJiYWdlIGNvbGxlY3RlZC5cbiAqL1xuLyoqXG4gKiBBbiBJbmRleGVkREItYmFja2VkIGluc3RhbmNlIG9mIFBlcnNpc3RlbmNlLiBEYXRhIGlzIHN0b3JlZCBwZXJzaXN0ZW50bHlcbiAqIGFjcm9zcyBzZXNzaW9ucy5cbiAqXG4gKiBPbiBXZWIgb25seSwgdGhlIEZpcmVzdG9yZSBTREtzIHN1cHBvcnQgc2hhcmVkIGFjY2VzcyB0byBpdHMgcGVyc2lzdGVuY2VcbiAqIGxheWVyLiBUaGlzIGFsbG93cyBtdWx0aXBsZSBicm93c2VyIHRhYnMgdG8gcmVhZCBhbmQgd3JpdGUgdG8gSW5kZXhlZERiIGFuZFxuICogdG8gc3luY2hyb25pemUgc3RhdGUgZXZlbiB3aXRob3V0IG5ldHdvcmsgY29ubmVjdGl2aXR5LiBTaGFyZWQgYWNjZXNzIGlzXG4gKiBjdXJyZW50bHkgb3B0aW9uYWwgYW5kIG5vdCBlbmFibGVkIHVubGVzcyBhbGwgY2xpZW50cyBpbnZva2VcbiAqIGBlbmFibGVQZXJzaXN0ZW5jZSgpYCB3aXRoIGB7c3luY2hyb25pemVUYWJzOnRydWV9YC5cbiAqXG4gKiBJbiBtdWx0aS10YWIgbW9kZSwgaWYgbXVsdGlwbGUgY2xpZW50cyBhcmUgYWN0aXZlIGF0IHRoZSBzYW1lIHRpbWUsIHRoZSBTREtcbiAqIHdpbGwgZGVzaWduYXRlIG9uZSBjbGllbnQgYXMgdGhlIOKAnHByaW1hcnkgY2xpZW504oCdLiBBbiBlZmZvcnQgaXMgbWFkZSB0byBwaWNrXG4gKiBhIHZpc2libGUsIG5ldHdvcmstY29ubmVjdGVkIGFuZCBhY3RpdmUgY2xpZW50LCBhbmQgdGhpcyBjbGllbnQgaXNcbiAqIHJlc3BvbnNpYmxlIGZvciBsZXR0aW5nIG90aGVyIGNsaWVudHMga25vdyBhYm91dCBpdHMgcHJlc2VuY2UuIFRoZSBwcmltYXJ5XG4gKiBjbGllbnQgd3JpdGVzIGEgdW5pcXVlIGNsaWVudC1nZW5lcmF0ZWQgaWRlbnRpZmllciAodGhlIGNsaWVudCBJRCkgdG9cbiAqIEluZGV4ZWREYuKAmXMg4oCcb3duZXLigJ0gc3RvcmUgZXZlcnkgNCBzZWNvbmRzLiBJZiB0aGUgcHJpbWFyeSBjbGllbnQgZmFpbHMgdG9cbiAqIHVwZGF0ZSB0aGlzIGVudHJ5LCBhbm90aGVyIGNsaWVudCBjYW4gYWNxdWlyZSB0aGUgbGVhc2UgYW5kIHRha2Ugb3ZlciBhc1xuICogcHJpbWFyeS5cbiAqXG4gKiBTb21lIHBlcnNpc3RlbmNlIG9wZXJhdGlvbnMgaW4gdGhlIFNESyBhcmUgZGVzaWduYXRlZCBhcyBwcmltYXJ5LWNsaWVudCBvbmx5XG4gKiBvcGVyYXRpb25zLiBUaGlzIGluY2x1ZGVzIHRoZSBhY2tub3dsZWRnbWVudCBvZiBtdXRhdGlvbnMgYW5kIGFsbCB1cGRhdGVzIG9mXG4gKiByZW1vdGUgZG9jdW1lbnRzLiBUaGUgZWZmZWN0cyBvZiB0aGVzZSBvcGVyYXRpb25zIGFyZSB3cml0dGVuIHRvIHBlcnNpc3RlbmNlXG4gKiBhbmQgdGhlbiBicm9hZGNhc3QgdG8gb3RoZXIgdGFicyB2aWEgTG9jYWxTdG9yYWdlIChzZWVcbiAqIGBXZWJTdG9yYWdlU2hhcmVkQ2xpZW50U3RhdGVgKSwgd2hpY2ggdGhlbiByZWZyZXNoIHRoZWlyIHN0YXRlIGZyb21cbiAqIHBlcnNpc3RlbmNlLlxuICpcbiAqIFNpbWlsYXJseSwgdGhlIHByaW1hcnkgY2xpZW50IGxpc3RlbnMgdG8gbm90aWZpY2F0aW9ucyBzZW50IGJ5IHNlY29uZGFyeVxuICogY2xpZW50cyB0byBkaXNjb3ZlciBwZXJzaXN0ZW5jZSBjaGFuZ2VzIHdyaXR0ZW4gYnkgc2Vjb25kYXJ5IGNsaWVudHMsIHN1Y2ggYXNcbiAqIHRoZSBhZGRpdGlvbiBvZiBuZXcgbXV0YXRpb25zIGFuZCBxdWVyeSB0YXJnZXRzLlxuICpcbiAqIElmIG11bHRpLXRhYiBpcyBub3QgZW5hYmxlZCBhbmQgYW5vdGhlciB0YWIgYWxyZWFkeSBvYnRhaW5lZCB0aGUgcHJpbWFyeVxuICogbGVhc2UsIEluZGV4ZWREYlBlcnNpc3RlbmNlIGVudGVycyBhIGZhaWxlZCBzdGF0ZSBhbmQgYWxsIHN1YnNlcXVlbnRcbiAqIG9wZXJhdGlvbnMgd2lsbCBhdXRvbWF0aWNhbGx5IGZhaWwuXG4gKlxuICogQWRkaXRpb25hbGx5LCB0aGVyZSBpcyBhbiBvcHRpbWl6YXRpb24gc28gdGhhdCB3aGVuIGEgdGFiIGlzIGNsb3NlZCwgdGhlXG4gKiBwcmltYXJ5IGxlYXNlIGlzIHJlbGVhc2VkIGltbWVkaWF0ZWx5ICh0aGlzIGlzIGVzcGVjaWFsbHkgaW1wb3J0YW50IHRvIG1ha2VcbiAqIHN1cmUgdGhhdCBhIHJlZnJlc2hlZCB0YWIgaXMgYWJsZSB0byBpbW1lZGlhdGVseSByZS1hY3F1aXJlIHRoZSBwcmltYXJ5XG4gKiBsZWFzZSkuIFVuZm9ydHVuYXRlbHksIEluZGV4ZWREQiBjYW5ub3QgYmUgcmVsaWFibHkgdXNlZCBpbiB3aW5kb3cudW5sb2FkXG4gKiBzaW5jZSBpdCBpcyBhbiBhc3luY2hyb25vdXMgQVBJLiBTbyBpbiBhZGRpdGlvbiB0byBhdHRlbXB0aW5nIHRvIGdpdmUgdXAgdGhlXG4gKiBsZWFzZSwgdGhlIGxlYXNlaG9sZGVyIHdyaXRlcyBpdHMgY2xpZW50IElEIHRvIGEgXCJ6b21iaWVkQ2xpZW50XCIgZW50cnkgaW5cbiAqIExvY2FsU3RvcmFnZSB3aGljaCBhY3RzIGFzIGFuIGluZGljYXRvciB0aGF0IGFub3RoZXIgdGFiIHNob3VsZCBnbyBhaGVhZCBhbmRcbiAqIHRha2UgdGhlIHByaW1hcnkgbGVhc2UgaW1tZWRpYXRlbHkgcmVnYXJkbGVzcyBvZiB0aGUgY3VycmVudCBsZWFzZSB0aW1lc3RhbXAuXG4gKlxuICogVE9ETyhiLzExNDIyNjIzNCk6IFJlbW92ZSBgc3luY2hyb25pemVUYWJzYCBzZWN0aW9uIHdoZW4gbXVsdGktdGFiIGlzIG5vXG4gKiBsb25nZXIgb3B0aW9uYWwuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJQZXJzaXN0ZW5jZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBzeW5jaHJvbml6ZSB0aGUgaW4tbWVtb3J5IHN0YXRlIG9mIG11bHRpcGxlIHRhYnMgYW5kIHNoYXJlXG4gICAgICogYWNjZXNzIHRvIGxvY2FsIHBlcnNpc3RlbmNlLlxuICAgICAqL1xuICAgIGUsIHQsIG4sIHIsIGksIHMsIG8sIF8sIGEsIFxuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlLCBmb3JjZWZ1bGx5IG9idGFpbnMgZGF0YWJhc2UgYWNjZXNzLiBFeGlzdGluZyB0YWJzIHdpbGxcbiAgICAgKiBubyBsb25nZXIgYmUgYWJsZSB0byBhY2Nlc3MgSW5kZXhlZERCLlxuICAgICAqL1xuICAgIHUsIGMgPSAxNikge1xuICAgICAgICBpZiAodGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbiA9IGUsIHRoaXMucGVyc2lzdGVuY2VLZXkgPSB0LCB0aGlzLmNsaWVudElkID0gbiwgXG4gICAgICAgIHRoaXMub2kgPSBpLCB0aGlzLndpbmRvdyA9IHMsIHRoaXMuZG9jdW1lbnQgPSBvLCB0aGlzLl9pID0gYSwgdGhpcy5haSA9IHUsIHRoaXMudWkgPSBjLCBcbiAgICAgICAgdGhpcy5rciA9IG51bGwsIHRoaXMucXIgPSAhMSwgdGhpcy5pc1ByaW1hcnkgPSAhMSwgdGhpcy5uZXR3b3JrRW5hYmxlZCA9ICEwLCBcbiAgICAgICAgLyoqIE91ciB3aW5kb3cudW5sb2FkIGhhbmRsZXIsIGlmIHJlZ2lzdGVyZWQuICovXG4gICAgICAgIHRoaXMuY2kgPSBudWxsLCB0aGlzLmluRm9yZWdyb3VuZCA9ICExLCBcbiAgICAgICAgLyoqIE91ciAndmlzaWJpbGl0eWNoYW5nZScgbGlzdGVuZXIgaWYgcmVnaXN0ZXJlZC4gKi9cbiAgICAgICAgdGhpcy5saSA9IG51bGwsIFxuICAgICAgICAvKiogVGhlIGNsaWVudCBtZXRhZGF0YSByZWZyZXNoIHRhc2suICovXG4gICAgICAgIHRoaXMuaGkgPSBudWxsLCBcbiAgICAgICAgLyoqIFRoZSBsYXN0IHRpbWUgd2UgZ2FyYmFnZSBjb2xsZWN0ZWQgdGhlIGNsaWVudCBtZXRhZGF0YSBvYmplY3Qgc3RvcmUuICovXG4gICAgICAgIHRoaXMuUGkgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIFxuICAgICAgICAvKiogQSBsaXN0ZW5lciB0byBub3RpZnkgb24gcHJpbWFyeSBzdGF0ZSBjaGFuZ2VzLiAqL1xuICAgICAgICB0aGlzLklpID0gZSA9PiBQcm9taXNlLnJlc29sdmUoKSwgIV9fUFJJVkFURV9JbmRleGVkRGJQZXJzaXN0ZW5jZS5EKCkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOSU1QTEVNRU5URUQsIFwiVGhpcyBwbGF0Zm9ybSBpcyBlaXRoZXIgbWlzc2luZyBJbmRleGVkREIgb3IgaXMga25vd24gdG8gaGF2ZSBhbiBpbmNvbXBsZXRlIGltcGxlbWVudGF0aW9uLiBPZmZsaW5lIHBlcnNpc3RlbmNlIGhhcyBiZWVuIGRpc2FibGVkLlwiKTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiTHJ1RGVsZWdhdGVJbXBsKHRoaXMsIHIpLCB0aGlzLlRpID0gdCArIFwibWFpblwiLCBcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gbmV3IF9fUFJJVkFURV9Mb2NhbFNlcmlhbGl6ZXIoXyksIHRoaXMuRWkgPSBuZXcgX19QUklWQVRFX1NpbXBsZURiKHRoaXMuVGksIHRoaXMudWksIG5ldyBfX1BSSVZBVEVfU2NoZW1hQ29udmVydGVyKHRoaXMuc2VyaWFsaXplcikpLCBcbiAgICAgICAgdGhpcy5RciA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVGFyZ2V0Q2FjaGUodGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSwgdGhpcy5zZXJpYWxpemVyKSwgXG4gICAgICAgIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZSA9IF9fUFJJVkFURV9uZXdJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlKHRoaXMuc2VyaWFsaXplciksIFxuICAgICAgICB0aGlzLiRyID0gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJCdW5kbGVDYWNoZSwgdGhpcy53aW5kb3cgJiYgdGhpcy53aW5kb3cubG9jYWxTdG9yYWdlID8gdGhpcy5kaSA9IHRoaXMud2luZG93LmxvY2FsU3RvcmFnZSA6ICh0aGlzLmRpID0gbnVsbCwgXG4gICAgICAgICExID09PSB1ICYmIF9fUFJJVkFURV9sb2dFcnJvcihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiTG9jYWxTdG9yYWdlIGlzIHVuYXZhaWxhYmxlLiBBcyBhIHJlc3VsdCwgcGVyc2lzdGVuY2UgbWF5IG5vdCB3b3JrIHJlbGlhYmx5LiBJbiBwYXJ0aWN1bGFyIGVuYWJsZVBlcnNpc3RlbmNlKCkgY291bGQgZmFpbCBpbW1lZGlhdGVseSBhZnRlciByZWZyZXNoaW5nIHRoZSBwYWdlLlwiKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgdG8gc3RhcnQgSW5kZXhlZERiIHBlcnNpc3RlbmNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgV2hldGhlciBwZXJzaXN0ZW5jZSB3YXMgZW5hYmxlZC5cbiAgICAgKi8gICAgc3RhcnQoKSB7XG4gICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgZXhwZWN0ZWQgdG8gZmFpbCBzb21ldGltZXMgKGluIHRoZSBjYXNlIG9mIGFub3RoZXIgdGFiXG4gICAgICAgIC8vIGFscmVhZHkgaGF2aW5nIHRoZSBwZXJzaXN0ZW5jZSBsb2NrKSwgc28gaXQncyB0aGUgZmlyc3QgdGhpbmcgd2Ugc2hvdWxkXG4gICAgICAgIC8vIGRvLlxuICAgICAgICByZXR1cm4gdGhpcy5BaSgpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1ByaW1hcnkgJiYgIXRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pIFxuICAgICAgICAgICAgLy8gRmFpbCBgc3RhcnQoKWAgaWYgYHN5bmNocm9uaXplVGFic2AgaXMgZGlzYWJsZWQgYW5kIHdlIGNhbm5vdFxuICAgICAgICAgICAgLy8gb2J0YWluIHRoZSBwcmltYXJ5IGxlYXNlLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgUmUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmkoKSwgdGhpcy5WaSgpLCB0aGlzLm1pKCksIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJnZXRIaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXJcIiwgXCJyZWFkb25seVwiLCAoZSA9PiB0aGlzLlFyLmdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcihlKSkpO1xuICAgICAgICB9KSkudGhlbigoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmtyID0gbmV3IF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZShlLCB0aGlzLl9pKTtcbiAgICAgICAgfSkpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucXIgPSAhMDtcbiAgICAgICAgfSkpLmNhdGNoKChlID0+ICh0aGlzLkVpICYmIHRoaXMuRWkuY2xvc2UoKSwgUHJvbWlzZS5yZWplY3QoZSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGxpc3RlbmVyIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgcHJpbWFyeSBzdGF0ZSBvZiB0aGVcbiAgICAgKiBpbnN0YW5jZSBjaGFuZ2VzLiBVcG9uIHJlZ2lzdGVyaW5nLCB0aGlzIGxpc3RlbmVyIGlzIGludm9rZWQgaW1tZWRpYXRlbHlcbiAgICAgKiB3aXRoIHRoZSBjdXJyZW50IHByaW1hcnkgc3RhdGUuXG4gICAgICpcbiAgICAgKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBXZWIgbXVsdGktdGFiLlxuICAgICAqLyAgICBmaShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLklpID0gYXN5bmMgdCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydGVkKSByZXR1cm4gZSh0KTtcbiAgICAgICAgfSwgZSh0aGlzLmlzUHJpbWFyeSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGxpc3RlbmVyIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgZGF0YWJhc2UgcmVjZWl2ZXMgYVxuICAgICAqIHZlcnNpb24gY2hhbmdlIGV2ZW50IGluZGljYXRpbmcgdGhhdCBpdCBoYXMgZGVsZXRlZC5cbiAgICAgKlxuICAgICAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgZm9yIFdlYiBtdWx0aS10YWIuXG4gICAgICovICAgIHNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKGUpIHtcbiAgICAgICAgdGhpcy5FaS5MKChhc3luYyB0ID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFuIGF0dGVtcHQgaXMgbWFkZSB0byBkZWxldGUgSW5kZXhlZERCLlxuICAgICAgICAgICAgbnVsbCA9PT0gdC5uZXdWZXJzaW9uICYmIGF3YWl0IGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIHRoZSBjdXJyZW50IG5ldHdvcmsgc3RhdGUgaW4gdGhlIGNsaWVudCdzIG1ldGFkYXRhLCBwb3RlbnRpYWxseVxuICAgICAqIGFmZmVjdGluZyB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICAgKlxuICAgICAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgZm9yIFdlYiBtdWx0aS10YWIuXG4gICAgICovICAgIHNldE5ldHdvcmtFbmFibGVkKGUpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrRW5hYmxlZCAhPT0gZSAmJiAodGhpcy5uZXR3b3JrRW5hYmxlZCA9IGUsIFxuICAgICAgICAvLyBTY2hlZHVsZSBhIHByaW1hcnkgbGVhc2UgcmVmcmVzaCBmb3IgaW1tZWRpYXRlIGV4ZWN1dGlvbi4gVGhlIGV2ZW50dWFsXG4gICAgICAgIC8vIGxlYXNlIHVwZGF0ZSB3aWxsIGJlIHByb3BhZ2F0ZWQgdmlhIGBwcmltYXJ5U3RhdGVMaXN0ZW5lcmAuXG4gICAgICAgIHRoaXMub2kuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkICYmIGF3YWl0IHRoaXMuQWkoKTtcbiAgICAgICAgfSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY2xpZW50IG1ldGFkYXRhIGluIEluZGV4ZWREYiBhbmQgYXR0ZW1wdHMgdG8gZWl0aGVyIG9idGFpbiBvclxuICAgICAqIGV4dGVuZCB0aGUgcHJpbWFyeSBsZWFzZSBmb3IgdGhlIGxvY2FsIGNsaWVudC4gQXN5bmNocm9ub3VzbHkgbm90aWZpZXMgdGhlXG4gICAgICogcHJpbWFyeSBzdGF0ZSBsaXN0ZW5lciBpZiB0aGUgY2xpZW50IGVpdGhlciBuZXdseSBvYnRhaW5lZCBvciByZWxlYXNlZCBpdHNcbiAgICAgKiBwcmltYXJ5IGxlYXNlLlxuICAgICAqLyAgICBBaSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJ1cGRhdGVDbGllbnRNZXRhZGF0YUFuZFRyeUJlY29tZVByaW1hcnlcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gX19QUklWQVRFX2NsaWVudE1ldGFkYXRhU3RvcmUoZSkucHV0KHtcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgbmV0d29ya0VuYWJsZWQ6IHRoaXMubmV0d29ya0VuYWJsZWQsXG4gICAgICAgICAgICBpbkZvcmVncm91bmQ6IHRoaXMuaW5Gb3JlZ3JvdW5kXG4gICAgICAgIH0pLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUHJpbWFyeSkgcmV0dXJuIHRoaXMuZ2koZSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgZSB8fCAodGhpcy5pc1ByaW1hcnkgPSAhMSwgdGhpcy5vaS5lbnF1ZXVlUmV0cnlhYmxlKCgoKSA9PiB0aGlzLklpKCExKSkpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHRoaXMucGkoZSkpKS5uZXh0KCh0ID0+IHRoaXMuaXNQcmltYXJ5ICYmICF0ID8gdGhpcy55aShlKS5uZXh0KCgoKSA9PiAhMSkpIDogISF0ICYmIHRoaXMud2koZSkubmV4dCgoKCkgPT4gITApKSkpKSkuY2F0Y2goKGUgPT4ge1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSkpIFxuICAgICAgICAgICAgLy8gUHJvY2VlZCB3aXRoIHRoZSBleGlzdGluZyBzdGF0ZS4gQW55IHN1YnNlcXVlbnQgYWNjZXNzIHRvXG4gICAgICAgICAgICAvLyBJbmRleGVkREIgd2lsbCB2ZXJpZnkgdGhlIGxlYXNlLlxuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiRmFpbGVkIHRvIGV4dGVuZCBvd25lciBsZWFzZTogXCIsIGUpLCBcbiAgICAgICAgICAgIHRoaXMuaXNQcmltYXJ5O1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uKSB0aHJvdyBlO1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiUmVsZWFzaW5nIG93bmVyIGxlYXNlIGFmdGVyIGVycm9yIGR1cmluZyBsZWFzZSByZWZyZXNoXCIsIGUpLCBcbiAgICAgICAgICAgIC8qIGlzUHJpbWFyeT0gKi8gITE7XG4gICAgICAgIH0pKS50aGVuKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNQcmltYXJ5ICE9PSBlICYmIHRoaXMub2kuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gdGhpcy5JaShlKSkpLCB0aGlzLmlzUHJpbWFyeSA9IGU7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2koZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKS5nZXQoXCJvd25lclwiKS5uZXh0KChlID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuU2koZSkpKSk7XG4gICAgfVxuICAgIGJpKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9jbGllbnRNZXRhZGF0YVN0b3JlKGUpLmRlbGV0ZSh0aGlzLmNsaWVudElkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiB0aHJlc2hvbGQgaGFzIHBhc3NlZCwgcHJ1bmVzIHRoZVxuICAgICAqIFJlbW90ZURvY3VtZW50Q2hhbmdlcyBhbmQgdGhlIENsaWVudE1ldGFkYXRhIHN0b3JlIGJhc2VkIG9uIHRoZSBsYXN0IHVwZGF0ZVxuICAgICAqIHRpbWUgb2YgYWxsIGNsaWVudHMuXG4gICAgICovICAgIGFzeW5jIERpKCkge1xuICAgICAgICBpZiAodGhpcy5pc1ByaW1hcnkgJiYgIXRoaXMuQ2kodGhpcy5QaSwgMThlNSkpIHtcbiAgICAgICAgICAgIHRoaXMuUGkgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgZSA9IGF3YWl0IHRoaXMucnVuVHJhbnNhY3Rpb24oXCJtYXliZUdhcmJhZ2VDb2xsZWN0TXVsdGlDbGllbnRTdGF0ZVwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsIChlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiY2xpZW50TWV0YWRhdGFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQuVSgpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gdGhpcy52aShlLCAxOGU1KSwgciA9IGUuZmlsdGVyKChlID0+IC0xID09PSBuLmluZGV4T2YoZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIG1ldGFkYXRhIGZvciBjbGllbnRzIHRoYXQgYXJlIG5vIGxvbmdlciBjb25zaWRlcmVkIGFjdGl2ZS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHIsIChlID0+IHQuZGVsZXRlKGUuY2xpZW50SWQpKSkubmV4dCgoKCkgPT4gcikpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKS5jYXRjaCgoKCkgPT4gW10pKTtcbiAgICAgICAgICAgIC8vIERlbGV0ZSBwb3RlbnRpYWwgbGVmdG92ZXIgZW50cmllcyB0aGF0IG1heSBjb250aW51ZSB0byBtYXJrIHRoZVxuICAgICAgICAgICAgLy8gaW5hY3RpdmUgY2xpZW50cyBhcyB6b21iaWVkIGluIExvY2FsU3RvcmFnZS5cbiAgICAgICAgICAgIC8vIElkZWFsbHkgd2UnZCBkZWxldGUgdGhlIEluZGV4ZWREYiBhbmQgTG9jYWxTdG9yYWdlIHpvbWJpZSBlbnRyaWVzIGZvclxuICAgICAgICAgICAgLy8gdGhlIGNsaWVudCBhdG9taWNhbGx5LCBidXQgd2UgY2FuJ3QuIFNvIHdlIG9wdCB0byBkZWxldGUgdGhlIEluZGV4ZWREYlxuICAgICAgICAgICAgLy8gZW50cmllcyBmaXJzdCB0byBhdm9pZCBwb3RlbnRpYWxseSByZXZpdmluZyBhIHpvbWJpZWQgY2xpZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGkpIGZvciAoY29uc3QgdCBvZiBlKSB0aGlzLmRpLnJlbW92ZUl0ZW0odGhpcy5GaSh0LmNsaWVudElkKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NoZWR1bGVzIGEgcmVjdXJyaW5nIHRpbWVyIHRvIHVwZGF0ZSB0aGUgY2xpZW50IG1ldGFkYXRhIGFuZCB0byBlaXRoZXJcbiAgICAgKiBleHRlbmQgb3IgYWNxdWlyZSB0aGUgcHJpbWFyeSBsZWFzZSBpZiB0aGUgY2xpZW50IGlzIGVsaWdpYmxlLlxuICAgICAqLyAgICBtaSgpIHtcbiAgICAgICAgdGhpcy5oaSA9IHRoaXMub2kuZW5xdWV1ZUFmdGVyRGVsYXkoXCJjbGllbnRfbWV0YWRhdGFfcmVmcmVzaFwiIC8qIFRpbWVySWQuQ2xpZW50TWV0YWRhdGFSZWZyZXNoICovICwgNGUzLCAoKCkgPT4gdGhpcy5BaSgpLnRoZW4oKCgpID0+IHRoaXMuRGkoKSkpLnRoZW4oKCgpID0+IHRoaXMubWkoKSkpKSk7XG4gICAgfVxuICAgIC8qKiBDaGVja3Mgd2hldGhlciBgY2xpZW50YCBpcyB0aGUgbG9jYWwgY2xpZW50LiAqLyAgICBTaShlKSB7XG4gICAgICAgIHJldHVybiAhIWUgJiYgZS5vd25lcklkID09PSB0aGlzLmNsaWVudElkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFdmFsdWF0ZSB0aGUgc3RhdGUgb2YgYWxsIGFjdGl2ZSBjbGllbnRzIGFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGUgbG9jYWxcbiAgICAgKiBjbGllbnQgaXMgb3IgY2FuIGFjdCBhcyB0aGUgaG9sZGVyIG9mIHRoZSBwcmltYXJ5IGxlYXNlLiBSZXR1cm5zIHdoZXRoZXJcbiAgICAgKiB0aGUgY2xpZW50IGlzIGVsaWdpYmxlIGZvciB0aGUgbGVhc2UsIGJ1dCBkb2VzIG5vdCBhY3R1YWxseSBhY3F1aXJlIGl0LlxuICAgICAqIE1heSByZXR1cm4gJ2ZhbHNlJyBldmVuIGlmIHRoZXJlIGlzIG5vIGFjdGl2ZSBsZWFzZWhvbGRlciBhbmQgYW5vdGhlclxuICAgICAqIChmb3JlZ3JvdW5kKSBjbGllbnQgc2hvdWxkIGJlY29tZSBsZWFzZWhvbGRlciBpbnN0ZWFkLlxuICAgICAqLyAgICBwaShlKSB7XG4gICAgICAgIGlmICh0aGlzLmFpKSByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoITApO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKS5nZXQoXCJvd25lclwiKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIC8vIEEgY2xpZW50IGlzIGVsaWdpYmxlIGZvciB0aGUgcHJpbWFyeSBsZWFzZSBpZjpcbiAgICAgICAgICAgIC8vIC0gaXRzIG5ldHdvcmsgaXMgZW5hYmxlZCBhbmQgdGhlIGNsaWVudCdzIHRhYiBpcyBpbiB0aGUgZm9yZWdyb3VuZC5cbiAgICAgICAgICAgIC8vIC0gaXRzIG5ldHdvcmsgaXMgZW5hYmxlZCBhbmQgbm8gb3RoZXIgY2xpZW50J3MgdGFiIGlzIGluIHRoZVxuICAgICAgICAgICAgLy8gICBmb3JlZ3JvdW5kLlxuICAgICAgICAgICAgLy8gLSBldmVyeSBjbGllbnRzIG5ldHdvcmsgaXMgZGlzYWJsZWQgYW5kIHRoZSBjbGllbnQncyB0YWIgaXMgaW4gdGhlXG4gICAgICAgICAgICAvLyAgIGZvcmVncm91bmQuXG4gICAgICAgICAgICAvLyAtIGV2ZXJ5IGNsaWVudHMgbmV0d29yayBpcyBkaXNhYmxlZCBhbmQgbm8gb3RoZXIgY2xpZW50J3MgdGFiIGlzIGluXG4gICAgICAgICAgICAvLyAgIHRoZSBmb3JlZ3JvdW5kLlxuICAgICAgICAgICAgLy8gLSB0aGUgYGZvcmNlT3duaW5nVGFiYCBzZXR0aW5nIHdhcyBwYXNzZWQgaW4uXG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdCAmJiB0aGlzLkNpKHQubGVhc2VUaW1lc3RhbXBNcywgNWUzKSAmJiAhdGhpcy5NaSh0Lm93bmVySWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU2kodCkgJiYgdGhpcy5uZXR3b3JrRW5hYmxlZCkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5TaSh0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXQuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pIFxuICAgICAgICAgICAgICAgICAgICAvLyBGYWlsIHRoZSBgY2FuQWN0QXNQcmltYXJ5YCBjaGVjayBpZiB0aGUgY3VycmVudCBsZWFzZWhvbGRlciBoYXNcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IG9wdGVkIGludG8gbXVsdGktdGFiIHN5bmNocm9uaXphdGlvbi4gSWYgdGhpcyBoYXBwZW5zIGF0XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsaWVudCBzdGFydHVwLCB3ZSByZWplY3QgdGhlIFByb21pc2UgcmV0dXJuZWQgYnlcbiAgICAgICAgICAgICAgICAgICAgLy8gYGVuYWJsZVBlcnNpc3RlbmNlKClgIGFuZCB0aGUgdXNlciBjYW4gY29udGludWUgdG8gdXNlIEZpcmVzdG9yZVxuICAgICAgICAgICAgICAgICAgICAvLyB3aXRoIGluLW1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBmYWlscyBkdXJpbmcgYSBsZWFzZSByZWZyZXNoLCB3ZSB3aWxsIGluc3RlYWQgYmxvY2sgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIEFzeW5jUXVldWUgZnJvbSBleGVjdXRpbmcgZnVydGhlciBvcGVyYXRpb25zLiBOb3RlIHRoYXQgdGhpcyBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBhY2NlcHRhYmxlIHNpbmNlIG1peGluZyAmIG1hdGNoaW5nIGRpZmZlcmVudCBgc3luY2hyb25pemVUYWJzYFxuICAgICAgICAgICAgICAgICAgICAvLyBzZXR0aW5ncyBpcyBub3Qgc3VwcG9ydGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKGIvMTE0MjI2MjM0KTogUmVtb3ZlIHRoaXMgY2hlY2sgd2hlbiBgc3luY2hyb25pemVUYWJzYCBjYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIGJlIHR1cm5lZCBvZmYuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAhKCF0aGlzLm5ldHdvcmtFbmFibGVkIHx8ICF0aGlzLmluRm9yZWdyb3VuZCkgfHwgX19QUklWQVRFX2NsaWVudE1ldGFkYXRhU3RvcmUoZSkuVSgpLm5leHQoKGUgPT4gdm9pZCAwID09PSB0aGlzLnZpKGUsIDVlMykuZmluZCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50SWQgIT09IGUuY2xpZW50SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9ICF0aGlzLm5ldHdvcmtFbmFibGVkICYmIGUubmV0d29ya0VuYWJsZWQsIG4gPSAhdGhpcy5pbkZvcmVncm91bmQgJiYgZS5pbkZvcmVncm91bmQsIHIgPSB0aGlzLm5ldHdvcmtFbmFibGVkID09PSBlLm5ldHdvcmtFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodCB8fCBuICYmIHIpIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgIH0pKS5uZXh0KChlID0+ICh0aGlzLmlzUHJpbWFyeSAhPT0gZSAmJiBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBgQ2xpZW50ICR7ZSA/IFwiaXNcIiA6IFwiaXMgbm90XCJ9IGVsaWdpYmxlIGZvciBhIHByaW1hcnkgbGVhc2UuYCksIFxuICAgICAgICBlKSkpO1xuICAgIH1cbiAgICBhc3luYyBzaHV0ZG93bigpIHtcbiAgICAgICAgLy8gVGhlIHNodXRkb3duKCkgb3BlcmF0aW9ucyBhcmUgaWRlbXBvdGVudCBhbmQgY2FuIGJlIGNhbGxlZCBldmVuIHdoZW5cbiAgICAgICAgLy8gc3RhcnQoKSBhYm9ydGVkIChlLmcuIGJlY2F1c2UgaXQgY291bGRuJ3QgYWNxdWlyZSB0aGUgcGVyc2lzdGVuY2UgbGVhc2UpLlxuICAgICAgICB0aGlzLnFyID0gITEsIHRoaXMueGkoKSwgdGhpcy5oaSAmJiAodGhpcy5oaS5jYW5jZWwoKSwgdGhpcy5oaSA9IG51bGwpLCB0aGlzLk9pKCksIFxuICAgICAgICB0aGlzLk5pKCksIFxuICAgICAgICAvLyBVc2UgYFNpbXBsZURiLnJ1blRyYW5zYWN0aW9uYCBkaXJlY3RseSB0byBhdm9pZCBmYWlsaW5nIGlmIGFub3RoZXIgdGFiXG4gICAgICAgIC8vIGhhcyBvYnRhaW5lZCB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICAgICAgYXdhaXQgdGhpcy5FaS5ydW5UcmFuc2FjdGlvbihcInNodXRkb3duXCIsIFwicmVhZHdyaXRlXCIsIFsgXCJvd25lclwiLCBcImNsaWVudE1ldGFkYXRhXCIgXSwgKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb24oZSwgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpKHQpLm5leHQoKCgpID0+IHRoaXMuYmkodCkpKTtcbiAgICAgICAgfSkpLCB0aGlzLkVpLmNsb3NlKCksIFxuICAgICAgICAvLyBSZW1vdmUgdGhlIGVudHJ5IG1hcmtpbmcgdGhlIGNsaWVudCBhcyB6b21iaWVkIGZyb20gTG9jYWxTdG9yYWdlIHNpbmNlXG4gICAgICAgIC8vIHdlIHN1Y2Nlc3NmdWxseSBkZWxldGVkIGl0cyBtZXRhZGF0YSBmcm9tIEluZGV4ZWREYi5cbiAgICAgICAgdGhpcy5MaSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNsaWVudHMgdGhhdCBhcmUgbm90IHpvbWJpZWQgYW5kIGhhdmUgYW4gdXBkYXRlVGltZSB3aXRoaW4gdGhlXG4gICAgICogcHJvdmlkZWQgdGhyZXNob2xkLlxuICAgICAqLyAgICB2aShlLCB0KSB7XG4gICAgICAgIHJldHVybiBlLmZpbHRlcigoZSA9PiB0aGlzLkNpKGUudXBkYXRlVGltZU1zLCB0KSAmJiAhdGhpcy5NaShlLmNsaWVudElkKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBJRHMgb2YgdGhlIGNsaWVudHMgdGhhdCBhcmUgY3VycmVudGx5IGFjdGl2ZS4gSWYgbXVsdGktdGFiXG4gICAgICogaXMgbm90IHN1cHBvcnRlZCwgcmV0dXJucyBhbiBhcnJheSB0aGF0IG9ubHkgY29udGFpbnMgdGhlIGxvY2FsIGNsaWVudCdzXG4gICAgICogSUQuXG4gICAgICpcbiAgICAgKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBXZWIgbXVsdGktdGFiLlxuICAgICAqLyAgICBCaSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJnZXRBY3RpdmVDbGllbnRzXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gX19QUklWQVRFX2NsaWVudE1ldGFkYXRhU3RvcmUoZSkuVSgpLm5leHQoKGUgPT4gdGhpcy52aShlLCAxOGU1KS5tYXAoKGUgPT4gZS5jbGllbnRJZCkpKSkpKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnFyO1xuICAgIH1cbiAgICBnZXRNdXRhdGlvblF1ZXVlKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9JbmRleGVkRGJNdXRhdGlvblF1ZXVlLmx0KGUsIHRoaXMuc2VyaWFsaXplciwgdCwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSk7XG4gICAgfVxuICAgIGdldFRhcmdldENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5RcjtcbiAgICB9XG4gICAgZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZTtcbiAgICB9XG4gICAgZ2V0SW5kZXhNYW5hZ2VyKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiSW5kZXhNYW5hZ2VyKGUsIHRoaXMuc2VyaWFsaXplci5jdC5kYXRhYmFzZUlkKTtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRPdmVybGF5Q2FjaGUoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX0luZGV4ZWREYkRvY3VtZW50T3ZlcmxheUNhY2hlLmx0KHRoaXMuc2VyaWFsaXplciwgZSk7XG4gICAgfVxuICAgIGdldEJ1bmRsZUNhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcjtcbiAgICB9XG4gICAgcnVuVHJhbnNhY3Rpb24oZSwgdCwgbikge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBcIlN0YXJ0aW5nIHRyYW5zYWN0aW9uOlwiLCBlKTtcbiAgICAgICAgY29uc3QgciA9IFwicmVhZG9ubHlcIiA9PT0gdCA/IFwicmVhZG9ubHlcIiA6IFwicmVhZHdyaXRlXCIsIGkgPSBcbiAgICAgICAgLyoqIFJldHVybnMgdGhlIG9iamVjdCBzdG9yZXMgZm9yIHRoZSBwcm92aWRlZCBzY2hlbWEuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRPYmplY3RTdG9yZXMoZSkge1xuICAgICAgICAgICAgcmV0dXJuIDE2ID09PSBlID8gdGUgOiAxNSA9PT0gZSA/IGVlIDogMTQgPT09IGUgPyBYIDogMTMgPT09IGUgPyBaIDogMTIgPT09IGUgPyBZIDogMTEgPT09IGUgPyBKIDogdm9pZCBmYWlsKCk7XG4gICAgICAgIH0odGhpcy51aSk7XG4gICAgICAgIGxldCBzO1xuICAgICAgICAvLyBEbyBhbGwgdHJhbnNhY3Rpb25zIGFzIHJlYWR3cml0ZSBhZ2FpbnN0IGFsbCBvYmplY3Qgc3RvcmVzLCBzaW5jZSB3ZVxuICAgICAgICAvLyBhcmUgdGhlIG9ubHkgcmVhZGVyL3dyaXRlci5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5FaS5ydW5UcmFuc2FjdGlvbihlLCByLCBpLCAociA9PiAocyA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb24ociwgdGhpcy5rciA/IHRoaXMua3IubmV4dCgpIDogX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKSwgXG4gICAgICAgIFwicmVhZHdyaXRlLXByaW1hcnlcIiA9PT0gdCA/IHRoaXMuZ2kocykubmV4dCgoZSA9PiAhIWUgfHwgdGhpcy5waShzKSkpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgaWYgKCF0KSB0aHJvdyBfX1BSSVZBVEVfbG9nRXJyb3IoYEZhaWxlZCB0byBvYnRhaW4gcHJpbWFyeSBsZWFzZSBmb3IgYWN0aW9uICcke2V9Jy5gKSwgXG4gICAgICAgICAgICB0aGlzLmlzUHJpbWFyeSA9ICExLCB0aGlzLm9pLmVucXVldWVSZXRyeWFibGUoKCgpID0+IHRoaXMuSWkoITEpKSksIG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIEYpO1xuICAgICAgICAgICAgcmV0dXJuIG4ocyk7XG4gICAgICAgIH0pKS5uZXh0KChlID0+IHRoaXMud2kocykubmV4dCgoKCkgPT4gZSkpKSkgOiB0aGlzLmtpKHMpLm5leHQoKCgpID0+IG4ocykpKSkpKS50aGVuKChlID0+IChzLnJhaXNlT25Db21taXR0ZWRFdmVudCgpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmVyaWZpZXMgdGhhdCB0aGUgY3VycmVudCB0YWIgaXMgdGhlIHByaW1hcnkgbGVhc2Vob2xkZXIgb3IgYWx0ZXJuYXRpdmVseVxuICAgICAqIHRoYXQgdGhlIGxlYXNlaG9sZGVyIGhhcyBvcHRlZCBpbnRvIG11bHRpLXRhYiBzeW5jaHJvbml6YXRpb24uXG4gICAgICovXG4gICAgLy8gVE9ETyhiLzExNDIyNjIzNCk6IFJlbW92ZSB0aGlzIGNoZWNrIHdoZW4gYHN5bmNocm9uaXplVGFic2AgY2FuIG5vIGxvbmdlclxuICAgIC8vIGJlIHR1cm5lZCBvZmYuXG4gICAga2koZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKS5nZXQoXCJvd25lclwiKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBlICYmIHRoaXMuQ2koZS5sZWFzZVRpbWVzdGFtcE1zLCA1ZTMpICYmICF0aGlzLk1pKGUub3duZXJJZCkgJiYgIXRoaXMuU2koZSkgJiYgISh0aGlzLmFpIHx8IHRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24gJiYgZS5hbGxvd1RhYlN5bmNocm9uaXphdGlvbikpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFJlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPYnRhaW5zIG9yIGV4dGVuZHMgdGhlIG5ldyBwcmltYXJ5IGxlYXNlIGZvciB0aGUgbG9jYWwgY2xpZW50LiBUaGlzXG4gICAgICogbWV0aG9kIGRvZXMgbm90IHZlcmlmeSB0aGF0IHRoZSBjbGllbnQgaXMgZWxpZ2libGUgZm9yIHRoaXMgbGVhc2UuXG4gICAgICovICAgIHdpKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIG93bmVySWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICBhbGxvd1RhYlN5bmNocm9uaXphdGlvbjogdGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbixcbiAgICAgICAgICAgIGxlYXNlVGltZXN0YW1wTXM6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltYXJ5Q2xpZW50U3RvcmUoZSkucHV0KFwib3duZXJcIiwgdCk7XG4gICAgfVxuICAgIHN0YXRpYyBEKCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX1NpbXBsZURiLkQoKTtcbiAgICB9XG4gICAgLyoqIENoZWNrcyB0aGUgcHJpbWFyeSBsZWFzZSBhbmQgcmVtb3ZlcyBpdCBpZiB3ZSBhcmUgdGhlIGN1cnJlbnQgcHJpbWFyeS4gKi8gICAgeWkoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIHQuZ2V0KFwib3duZXJcIikubmV4dCgoZSA9PiB0aGlzLlNpKGUpID8gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiUmVsZWFzaW5nIHByaW1hcnkgbGVhc2UuXCIpLCBcbiAgICAgICAgdC5kZWxldGUoXCJvd25lclwiKSkgOiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpKSk7XG4gICAgfVxuICAgIC8qKiBWZXJpZmllcyB0aGF0IGB1cGRhdGVUaW1lTXNgIGlzIHdpdGhpbiBgbWF4QWdlTXNgLiAqLyAgICBDaShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gIShlIDwgbiAtIHQpICYmICghKGUgPiBuKSB8fCAoX19QUklWQVRFX2xvZ0Vycm9yKGBEZXRlY3RlZCBhbiB1cGRhdGUgdGltZSB0aGF0IGlzIGluIHRoZSBmdXR1cmU6ICR7ZX0gPiAke259YCksIFxuICAgICAgICAhMSkpO1xuICAgIH1cbiAgICBSaSgpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy5kb2N1bWVudCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAmJiAodGhpcy5saSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2kuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gKHRoaXMuaW5Gb3JlZ3JvdW5kID0gXCJ2aXNpYmxlXCIgPT09IHRoaXMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlLCBcbiAgICAgICAgICAgIHRoaXMuQWkoKSkpKTtcbiAgICAgICAgfSwgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLmxpKSwgdGhpcy5pbkZvcmVncm91bmQgPSBcInZpc2libGVcIiA9PT0gdGhpcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpO1xuICAgIH1cbiAgICBPaSgpIHtcbiAgICAgICAgdGhpcy5saSAmJiAodGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLmxpKSwgdGhpcy5saSA9IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHdpbmRvdy51bmxvYWQgaGFuZGxlciB0aGF0IHdpbGwgc3luY2hyb25vdXNseSB3cml0ZSBvdXJcbiAgICAgKiBjbGllbnRJZCB0byBhIFwiem9tYmllIGNsaWVudCBpZFwiIGxvY2F0aW9uIGluIExvY2FsU3RvcmFnZS4gVGhpcyBjYW4gYmUgdXNlZFxuICAgICAqIGJ5IHRhYnMgdHJ5aW5nIHRvIGFjcXVpcmUgdGhlIHByaW1hcnkgbGVhc2UgdG8gZGV0ZXJtaW5lIHRoYXQgdGhlIGxlYXNlXG4gICAgICogaXMgbm8gbG9uZ2VyIHZhbGlkIGV2ZW4gaWYgdGhlIHRpbWVzdGFtcCBpcyByZWNlbnQuIFRoaXMgaXMgcGFydGljdWxhcmx5XG4gICAgICogaW1wb3J0YW50IGZvciB0aGUgcmVmcmVzaCBjYXNlIChzbyB0aGUgdGFiIGNvcnJlY3RseSByZS1hY3F1aXJlcyB0aGVcbiAgICAgKiBwcmltYXJ5IGxlYXNlKS4gTG9jYWxTdG9yYWdlIGlzIHVzZWQgZm9yIHRoaXMgcmF0aGVyIHRoYW4gSW5kZXhlZERiIGJlY2F1c2VcbiAgICAgKiBpdCBpcyBhIHN5bmNocm9ub3VzIEFQSSBhbmQgc28gY2FuIGJlIHVzZWQgcmVsaWFibHkgZnJvbSAgYW4gdW5sb2FkXG4gICAgICogaGFuZGxlci5cbiAgICAgKi8gICAgVmkoKSB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIChudWxsID09PSAoZSA9IHRoaXMud2luZG93KSB8fCB2b2lkIDAgPT09IGUgPyB2b2lkIDAgOiBlLmFkZEV2ZW50TGlzdGVuZXIpICYmICh0aGlzLmNpID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gTm90ZTogSW4gdGhlb3J5LCB0aGlzIHNob3VsZCBiZSBzY2hlZHVsZWQgb24gdGhlIEFzeW5jUXVldWUgc2luY2UgaXRcbiAgICAgICAgICAgIC8vIGFjY2Vzc2VzIGludGVybmFsIHN0YXRlLiBXZSBleGVjdXRlIHRoaXMgY29kZSBkaXJlY3RseSBkdXJpbmcgc2h1dGRvd25cbiAgICAgICAgICAgIC8vIHRvIG1ha2Ugc3VyZSBpdCBnZXRzIGEgY2hhbmNlIHRvIHJ1bi5cbiAgICAgICAgICAgIHRoaXMueGkoKTtcbiAgICAgICAgICAgIGNvbnN0IGUgPSAvKD86VmVyc2lvbnxNb2JpbGUpXFwvMVs0NTZdLztcbiAgICAgICAgICAgIHV0aWwuaXNTYWZhcmkoKSAmJiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goZSkgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChlKSkgJiYgXG4gICAgICAgICAgICAvLyBPbiBTYWZhcmkgMTQsIDE1LCBhbmQgMTYsIHdlIGRvIG5vdCBydW4gYW55IGNsZWFudXAgYWN0aW9ucyBhcyBpdCBtaWdodFxuICAgICAgICAgICAgLy8gdHJpZ2dlciBhIGJ1ZyB0aGF0IHByZXZlbnRzIFNhZmFyaSBmcm9tIHJlLW9wZW5pbmcgSW5kZXhlZERCIGR1cmluZ1xuICAgICAgICAgICAgLy8gdGhlIG5leHQgcGFnZSBsb2FkLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMjY1NDdcbiAgICAgICAgICAgIHRoaXMub2kuZW50ZXJSZXN0cmljdGVkTW9kZSgvKiBwdXJnZUV4aXN0aW5nVGFza3M9ICovICEwKSwgdGhpcy5vaS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiB0aGlzLnNodXRkb3duKCkpKTtcbiAgICAgICAgfSwgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIHRoaXMuY2kpKTtcbiAgICB9XG4gICAgTmkoKSB7XG4gICAgICAgIHRoaXMuY2kgJiYgKHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCB0aGlzLmNpKSwgdGhpcy5jaSA9IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYSBjbGllbnQgaXMgXCJ6b21iaWVkXCIgYmFzZWQgb24gaXRzIExvY2FsU3RvcmFnZSBlbnRyeS5cbiAgICAgKiBDbGllbnRzIGJlY29tZSB6b21iaWVkIHdoZW4gdGhlaXIgdGFiIGNsb3NlcyB3aXRob3V0IHJ1bm5pbmcgYWxsIG9mIHRoZVxuICAgICAqIGNsZWFudXAgbG9naWMgaW4gYHNodXRkb3duKClgLlxuICAgICAqLyAgICBNaShlKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbiA9IG51bGwgIT09IChudWxsID09PSAodCA9IHRoaXMuZGkpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuZ2V0SXRlbSh0aGlzLkZpKGUpKSk7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIiwgYENsaWVudCAnJHtlfScgJHtuID8gXCJpc1wiIDogXCJpcyBub3RcIn0gem9tYmllZCBpbiBMb2NhbFN0b3JhZ2VgKSwgXG4gICAgICAgICAgICBuO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBHcmFjZWZ1bGx5IGhhbmRsZSBpZiBMb2NhbFN0b3JhZ2UgaXNuJ3Qgd29ya2luZy5cbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbG9nRXJyb3IoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBcIkZhaWxlZCB0byBnZXQgem9tYmllZCBjbGllbnQgaWQuXCIsIGUpLCBcbiAgICAgICAgICAgICExO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZCBjbGllbnQgYXMgem9tYmllZCAoYSBjbGllbnQgdGhhdCBoYWQgaXRzIHRhYiBjbG9zZWQpLiBab21iaWVkXG4gICAgICogY2xpZW50cyBhcmUgaWdub3JlZCBkdXJpbmcgcHJpbWFyeSB0YWIgc2VsZWN0aW9uLlxuICAgICAqLyAgICB4aSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGkpIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRpLnNldEl0ZW0odGhpcy5GaSh0aGlzLmNsaWVudElkKSwgU3RyaW5nKERhdGUubm93KCkpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gR3JhY2VmdWxseSBoYW5kbGUgaWYgTG9jYWxTdG9yYWdlIGlzbid0IGF2YWlsYWJsZSAvIHdvcmtpbmcuXG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRXJyb3IoXCJGYWlsZWQgdG8gc2V0IHpvbWJpZSBjbGllbnQgaWQuXCIsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBSZW1vdmVzIHRoZSB6b21iaWVkIGNsaWVudCBlbnRyeSBpZiBpdCBleGlzdHMuICovICAgIExpKCkge1xuICAgICAgICBpZiAodGhpcy5kaSkgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGkucmVtb3ZlSXRlbSh0aGlzLkZpKHRoaXMuY2xpZW50SWQpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSWdub3JlXG4gICAgICAgIH1cbiAgICB9XG4gICAgRmkoZSkge1xuICAgICAgICByZXR1cm4gYGZpcmVzdG9yZV96b21iaWVfJHt0aGlzLnBlcnNpc3RlbmNlS2V5fV8ke2V9YDtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBwcmltYXJ5IGNsaWVudCBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcIm93bmVyXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgY2xpZW50IG1ldGFkYXRhIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY2xpZW50TWV0YWRhdGFTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcImNsaWVudE1ldGFkYXRhXCIpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHN0cmluZyB1c2VkIGFzIGEgcHJlZml4IHdoZW4gc3RvcmluZyBkYXRhIGluIEluZGV4ZWREQiBhbmRcbiAqIExvY2FsU3RvcmFnZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhlZERiU3RvcmFnZVByZWZpeChlLCB0KSB7XG4gICAgLy8gVXNlIHR3byBkaWZmZXJlbnQgcHJlZml4IGZvcm1hdHM6XG4gICAgLy8gICAqIGZpcmVzdG9yZSAvIHBlcnNpc3RlbmNlS2V5IC8gcHJvamVjdElEIC4gZGF0YWJhc2VJRCAvIC4uLlxuICAgIC8vICAgKiBmaXJlc3RvcmUgLyBwZXJzaXN0ZW5jZUtleSAvIHByb2plY3RJRCAvIC4uLlxuICAgIC8vIHByb2plY3RJRHMgYXJlIEROUy1jb21wYXRpYmxlIG5hbWVzIGFuZCBjYW5ub3QgY29udGFpbiBkb3RzXG4gICAgLy8gc28gdGhlcmUncyBubyBkYW5nZXIgb2YgY29sbGlzaW9ucy5cbiAgICBsZXQgbiA9IGUucHJvamVjdElkO1xuICAgIHJldHVybiBlLmlzRGVmYXVsdERhdGFiYXNlIHx8IChuICs9IFwiLlwiICsgZS5kYXRhYmFzZSksIFwiZmlyZXN0b3JlL1wiICsgdCArIFwiL1wiICsgbiArIFwiL1wiO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHNldCBvZiBjaGFuZ2VzIHRvIHdoYXQgZG9jdW1lbnRzIGFyZSBjdXJyZW50bHkgaW4gdmlldyBhbmQgb3V0IG9mIHZpZXcgZm9yXG4gKiBhIGdpdmVuIHF1ZXJ5LiBUaGVzZSBjaGFuZ2VzIGFyZSBzZW50IHRvIHRoZSBMb2NhbFN0b3JlIGJ5IHRoZSBWaWV3ICh2aWFcbiAqIHRoZSBTeW5jRW5naW5lKSBhbmQgYXJlIHVzZWQgdG8gcGluIC8gdW5waW4gZG9jdW1lbnRzIGFzIGFwcHJvcHJpYXRlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfTG9jYWxWaWV3Q2hhbmdlcyB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLnRhcmdldElkID0gZSwgdGhpcy5mcm9tQ2FjaGUgPSB0LCB0aGlzLnFpID0gbiwgdGhpcy5RaSA9IHI7XG4gICAgfVxuICAgIHN0YXRpYyBLaShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIHIgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHQuZG9jQ2hhbmdlcykgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLyA6XG4gICAgICAgICAgICBuID0gbi5hZGQoZS5kb2Mua2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA6XG4gICAgICAgICAgICByID0gci5hZGQoZS5kb2Mua2V5KTtcbiAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9Mb2NhbFZpZXdDaGFuZ2VzKGUsIHQuZnJvbUNhY2hlLCBuLCByKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgdHJhY2tlciB0byBrZWVwIGEgcmVjb3JkIG9mIGltcG9ydGFudCBkZXRhaWxzIGR1cmluZyBkYXRhYmFzZSBsb2NhbCBxdWVyeVxuICogZXhlY3V0aW9uLlxuICovIGNsYXNzIFF1ZXJ5Q29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudHMgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcGFzc2VkIHRocm91Z2ggZHVyaW5nIGxvY2FsIHF1ZXJ5IGV4ZWN1dGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RvY3VtZW50UmVhZENvdW50ID0gMDtcbiAgICB9XG4gICAgZ2V0IGRvY3VtZW50UmVhZENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZG9jdW1lbnRSZWFkQ291bnQ7XG4gICAgfVxuICAgIGluY3JlbWVudERvY3VtZW50UmVhZENvdW50KGUpIHtcbiAgICAgICAgdGhpcy5fZG9jdW1lbnRSZWFkQ291bnQgKz0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSBGaXJlc3RvcmUgcXVlcnkgZW5naW5lLlxuICpcbiAqIEZpcmVzdG9yZSBxdWVyaWVzIGNhbiBiZSBleGVjdXRlZCBpbiB0aHJlZSBtb2Rlcy4gVGhlIFF1ZXJ5IEVuZ2luZSBkZXRlcm1pbmVzXG4gKiB3aGF0IG1vZGUgdG8gdXNlIGJhc2VkIG9uIHdoYXQgZGF0YSBpcyBwZXJzaXN0ZWQuIFRoZSBtb2RlIG9ubHkgZGV0ZXJtaW5lc1xuICogdGhlIHJ1bnRpbWUgY29tcGxleGl0eSBvZiB0aGUgcXVlcnkgLSB0aGUgcmVzdWx0IHNldCBpcyBlcXVpdmFsZW50IGFjcm9zcyBhbGxcbiAqIGltcGxlbWVudGF0aW9ucy5cbiAqXG4gKiBUaGUgUXVlcnkgZW5naW5lIHdpbGwgdXNlIGluZGV4ZWQtYmFzZWQgZXhlY3V0aW9uIGlmIGEgdXNlciBoYXMgY29uZmlndXJlZFxuICogYW55IGluZGV4IHRoYXQgY2FuIGJlIHVzZWQgdG8gZXhlY3V0ZSBxdWVyeSAodmlhIGBzZXRJbmRleENvbmZpZ3VyYXRpb24oKWApLlxuICogT3RoZXJ3aXNlLCB0aGUgZW5naW5lIHdpbGwgdHJ5IHRvIG9wdGltaXplIHRoZSBxdWVyeSBieSByZS11c2luZyBhIHByZXZpb3VzbHlcbiAqIHBlcnNpc3RlZCBxdWVyeSByZXN1bHQuIElmIHRoYXQgaXMgbm90IHBvc3NpYmxlLCB0aGUgcXVlcnkgd2lsbCBiZSBleGVjdXRlZFxuICogdmlhIGEgZnVsbCBjb2xsZWN0aW9uIHNjYW4uXG4gKlxuICogSW5kZXgtYmFzZWQgZXhlY3V0aW9uIGlzIHRoZSBkZWZhdWx0IHdoZW4gYXZhaWxhYmxlLiBUaGUgcXVlcnkgZW5naW5lXG4gKiBzdXBwb3J0cyBwYXJ0aWFsIGluZGV4ZWQgZXhlY3V0aW9uIGFuZCBtZXJnZXMgdGhlIHJlc3VsdCBmcm9tIHRoZSBpbmRleFxuICogbG9va3VwIHdpdGggZG9jdW1lbnRzIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gaW5kZXhlZC4gVGhlIGluZGV4IGV2YWx1YXRpb25cbiAqIG1hdGNoZXMgdGhlIGJhY2tlbmQncyBmb3JtYXQgYW5kIGFzIHN1Y2gsIHRoZSBTREsgY2FuIHVzZSBpbmRleGluZyBmb3IgYWxsXG4gKiBxdWVyaWVzIHRoYXQgdGhlIGJhY2tlbmQgc3VwcG9ydHMuXG4gKlxuICogSWYgbm8gaW5kZXggZXhpc3RzLCB0aGUgcXVlcnkgZW5naW5lIHRyaWVzIHRvIHRha2UgYWR2YW50YWdlIG9mIHRoZSB0YXJnZXRcbiAqIGRvY3VtZW50IG1hcHBpbmcgaW4gdGhlIFRhcmdldENhY2hlLiBUaGVzZSBtYXBwaW5ncyBleGlzdHMgZm9yIGFsbCBxdWVyaWVzXG4gKiB0aGF0IGhhdmUgYmVlbiBzeW5jZWQgd2l0aCB0aGUgYmFja2VuZCBhdCBsZWFzdCBvbmNlIGFuZCBhbGxvdyB0aGUgcXVlcnlcbiAqIGVuZ2luZSB0byBvbmx5IHJlYWQgZG9jdW1lbnRzIHRoYXQgcHJldmlvdXNseSBtYXRjaGVkIGEgcXVlcnkgcGx1cyBhbnlcbiAqIGRvY3VtZW50cyB0aGF0IHdlcmUgZWRpdGVkIGFmdGVyIHRoZSBxdWVyeSB3YXMgbGFzdCBsaXN0ZW5lZCB0by5cbiAqXG4gKiBUaGVyZSBhcmUgc29tZSBjYXNlcyB3aGVuIHRoaXMgb3B0aW1pemF0aW9uIGlzIG5vdCBndWFyYW50ZWVkIHRvIHByb2R1Y2VcbiAqIHRoZSBzYW1lIHJlc3VsdHMgYXMgZnVsbCBjb2xsZWN0aW9uIHNjYW5zLiBJbiB0aGVzZSBjYXNlcywgcXVlcnlcbiAqIHByb2Nlc3NpbmcgZmFsbHMgYmFjayB0byBmdWxsIHNjYW5zLiBUaGVzZSBjYXNlcyBhcmU6XG4gKlxuICogLSBMaW1pdCBxdWVyaWVzIHdoZXJlIGEgZG9jdW1lbnQgdGhhdCBtYXRjaGVkIHRoZSBxdWVyeSBwcmV2aW91c2x5IG5vIGxvbmdlclxuICogICBtYXRjaGVzIHRoZSBxdWVyeS5cbiAqXG4gKiAtIExpbWl0IHF1ZXJpZXMgd2hlcmUgYSBkb2N1bWVudCBlZGl0IG1heSBjYXVzZSB0aGUgZG9jdW1lbnQgdG8gc29ydCBiZWxvd1xuICogICBhbm90aGVyIGRvY3VtZW50IHRoYXQgaXMgaW4gdGhlIGxvY2FsIGNhY2hlLlxuICpcbiAqIC0gUXVlcmllcyB0aGF0IGhhdmUgbmV2ZXIgYmVlbiBDVVJSRU5UIG9yIGZyZWUgb2YgbGltYm8gZG9jdW1lbnRzLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfUXVlcnlFbmdpbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLiRpID0gITEsIHRoaXMuVWkgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTREsgb25seSBkZWNpZGVzIHdoZXRoZXIgaXQgc2hvdWxkIGNyZWF0ZSBpbmRleCB3aGVuIGNvbGxlY3Rpb24gc2l6ZSBpc1xuICAgICAgICAgKiBsYXJnZXIgdGhhbiB0aGlzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5XaSA9IDEwMCwgdGhpcy5HaSA9IFxuICAgICAgICAvKipcbiAqIFRoaXMgY29zdCByZXByZXNlbnRzIHRoZSBldmFsdWF0aW9uIHJlc3VsdCBvZlxuICogKChbaW5kZXgsIGRvY0tleV0gKyBbZG9jS2V5LCBkb2NDb250ZW50XSkgcGVyIGRvY3VtZW50IGluIHRoZSByZXN1bHQgc2V0KVxuICogLyAoW2RvY0tleSwgZG9jQ29udGVudF0gcGVyIGRvY3VtZW50cyBpbiBmdWxsIGNvbGxlY3Rpb24gc2NhbikgY29taW5nIGZyb21cbiAqIGV4cGVyaW1lbnQgW2VudGVyIFBSIGV4cGVyaW1lbnQgVVJMIGhlcmVdLlxuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXREZWZhdWx0UmVsYXRpdmVJbmRleFJlYWRDb3N0UGVyRG9jdW1lbnQoKSB7XG4gICAgICAgICAgICAvLyBUaGVzZSB2YWx1ZXMgd2VyZSBkZXJpdmVkIGZyb20gYW4gZXhwZXJpbWVudCB3aGVyZSBzZXZlcmFsIG1lbWJlcnMgb2YgdGhlXG4gICAgICAgICAgICAvLyBGaXJlc3RvcmUgU0RLIHRlYW0gcmFuIGEgcGVyZm9ybWFuY2UgdGVzdCBpbiB2YXJpb3VzIGVudmlyb25tZW50cy5cbiAgICAgICAgICAgIC8vIEdvb2dsZXJzIGNhbiBzZWUgYi8yOTkyODQyODcgZm9yIGRldGFpbHMuXG4gICAgICAgICAgICByZXR1cm4gdXRpbC5pc1NhZmFyaSgpID8gOCA6IF9fUFJJVkFURV9nZXRBbmRyb2lkVmVyc2lvbih1dGlsLmdldFVBKCkpID4gMCA/IDYgOiA0O1xuICAgICAgICB9KCk7XG4gICAgfVxuICAgIC8qKiBTZXRzIHRoZSBkb2N1bWVudCB2aWV3IHRvIHF1ZXJ5IGFnYWluc3QuICovICAgIGluaXRpYWxpemUoZSwgdCkge1xuICAgICAgICB0aGlzLnppID0gZSwgdGhpcy5pbmRleE1hbmFnZXIgPSB0LCB0aGlzLiRpID0gITA7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGFsbCBsb2NhbCBkb2N1bWVudHMgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBxdWVyeS4gKi8gICAgZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCB0LCBuLCByKSB7XG4gICAgICAgIC8vIFN0b3JlcyB0aGUgcmVzdWx0IGZyb20gZXhlY3V0aW5nIHRoZSBxdWVyeTsgdXNpbmcgdGhpcyBvYmplY3QgaXMgbW9yZVxuICAgICAgICAvLyBjb252ZW5pZW50IHRoYW4gcGFzc2luZyB0aGUgcmVzdWx0IGJldHdlZW4gc3RlcHMgb2YgdGhlIHBlcnNpc3RlbmNlXG4gICAgICAgIC8vIHRyYW5zYWN0aW9uIGFuZCBpbXByb3ZlcyByZWFkYWJpbGl0eSBjb21wYXJhdGl2ZWx5LlxuICAgICAgICBjb25zdCBpID0ge1xuICAgICAgICAgICAgcmVzdWx0OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmppKGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaS5yZXN1bHQgPSBlO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpLnJlc3VsdCkgcmV0dXJuIHRoaXMuSGkoZSwgdCwgciwgbikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgaS5yZXN1bHQgPSBlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGkucmVzdWx0KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IFF1ZXJ5Q29udGV4dDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkppKGUsIHQsIG4pLm5leHQoKHIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpLnJlc3VsdCA9IHIsIHRoaXMuVWkpIHJldHVybiB0aGlzLllpKGUsIHQsIG4sIHIuc2l6ZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpLnJlc3VsdCkpO1xuICAgIH1cbiAgICBZaShlLCB0LCBuLCByKSB7XG4gICAgICAgIHJldHVybiBuLmRvY3VtZW50UmVhZENvdW50IDwgdGhpcy5XaSA/IChfX1BSSVZBVEVfZ2V0TG9nTGV2ZWwoKSA8PSBsb2dnZXIuTG9nTGV2ZWwuREVCVUcgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiUXVlcnlFbmdpbmVcIiwgXCJTREsgd2lsbCBub3QgY3JlYXRlIGNhY2hlIGluZGV4ZXMgZm9yIHF1ZXJ5OlwiLCBfX1BSSVZBVEVfc3RyaW5naWZ5UXVlcnkodCksIFwic2luY2UgaXQgb25seSBjcmVhdGVzIGNhY2hlIGluZGV4ZXMgZm9yIGNvbGxlY3Rpb24gY29udGFpbnNcIiwgXCJtb3JlIHRoYW4gb3IgZXF1YWwgdG9cIiwgdGhpcy5XaSwgXCJkb2N1bWVudHNcIiksIFxuICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpKSA6IChfX1BSSVZBVEVfZ2V0TG9nTGV2ZWwoKSA8PSBsb2dnZXIuTG9nTGV2ZWwuREVCVUcgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiUXVlcnlFbmdpbmVcIiwgXCJRdWVyeTpcIiwgX19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5KHQpLCBcInNjYW5zXCIsIG4uZG9jdW1lbnRSZWFkQ291bnQsIFwibG9jYWwgZG9jdW1lbnRzIGFuZCByZXR1cm5zXCIsIHIsIFwiZG9jdW1lbnRzIGFzIHJlc3VsdHMuXCIpLCBcbiAgICAgICAgbi5kb2N1bWVudFJlYWRDb3VudCA+IHRoaXMuR2kgKiByID8gKF9fUFJJVkFURV9nZXRMb2dMZXZlbCgpIDw9IGxvZ2dlci5Mb2dMZXZlbC5ERUJVRyAmJiBfX1BSSVZBVEVfbG9nRGVidWcoXCJRdWVyeUVuZ2luZVwiLCBcIlRoZSBTREsgZGVjaWRlcyB0byBjcmVhdGUgY2FjaGUgaW5kZXhlcyBmb3IgcXVlcnk6XCIsIF9fUFJJVkFURV9zdHJpbmdpZnlRdWVyeSh0KSwgXCJhcyB1c2luZyBjYWNoZSBpbmRleGVzIG1heSBoZWxwIGltcHJvdmUgcGVyZm9ybWFuY2UuXCIpLCBcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIuY3JlYXRlVGFyZ2V0SW5kZXhlcyhlLCBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldCh0KSkpIDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIGluZGV4ZWQgcXVlcnkgdGhhdCBldmFsdWF0ZXMgdGhlIHF1ZXJ5IGJhc2VkIG9uIGEgY29sbGVjdGlvbidzXG4gICAgICogcGVyc2lzdGVkIGluZGV4IHZhbHVlcy4gUmV0dXJucyBgbnVsbGAgaWYgYW4gaW5kZXggaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgKi8gICAgamkoZSwgdCkge1xuICAgICAgICBpZiAoX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0FsbERvY3VtZW50cyh0KSkgXG4gICAgICAgIC8vIFF1ZXJpZXMgdGhhdCBtYXRjaCBhbGwgZG9jdW1lbnRzIGRvbid0IGJlbmVmaXQgZnJvbSB1c2luZ1xuICAgICAgICAvLyBrZXktYmFzZWQgbG9va3Vwcy4gSXQgaXMgbW9yZSBlZmZpY2llbnQgdG8gc2NhbiBhbGwgZG9jdW1lbnRzIGluIGFcbiAgICAgICAgLy8gY29sbGVjdGlvbiwgcmF0aGVyIHRoYW4gdG8gcGVyZm9ybSBpbmRpdmlkdWFsIGxvb2t1cHMuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgbGV0IG4gPSBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldCh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhNYW5hZ2VyLmdldEluZGV4VHlwZShlLCBuKS5uZXh0KChyID0+IDAgLyogSW5kZXhUeXBlLk5PTkUgKi8gPT09IHIgPyBudWxsIDogKG51bGwgIT09IHQubGltaXQgJiYgMSAvKiBJbmRleFR5cGUuUEFSVElBTCAqLyA9PT0gciAmJiAoXG4gICAgICAgIC8vIFdlIGNhbm5vdCBhcHBseSBhIGxpbWl0IGZvciB0YXJnZXRzIHRoYXQgYXJlIHNlcnZlZCB1c2luZyBhIHBhcnRpYWxcbiAgICAgICAgLy8gaW5kZXguIElmIGEgcGFydGlhbCBpbmRleCB3aWxsIGJlIHVzZWQgdG8gc2VydmUgdGhlIHRhcmdldCwgdGhlXG4gICAgICAgIC8vIHF1ZXJ5IG1heSByZXR1cm4gYSBzdXBlcnNldCBvZiBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGUgdGFyZ2V0XG4gICAgICAgIC8vIChlLmcuIGlmIHRoZSBpbmRleCBkb2Vzbid0IGluY2x1ZGUgYWxsIHRoZSB0YXJnZXQncyBmaWx0ZXJzKSwgb3JcbiAgICAgICAgLy8gbWF5IHJldHVybiB0aGUgY29ycmVjdCBzZXQgb2YgZG9jdW1lbnRzIGluIHRoZSB3cm9uZyBvcmRlciAoZS5nLiBpZlxuICAgICAgICAvLyB0aGUgaW5kZXggZG9lc24ndCBpbmNsdWRlIGEgc2VnbWVudCBmb3Igb25lIG9mIHRoZSBvcmRlckJ5cykuXG4gICAgICAgIC8vIFRoZXJlZm9yZSwgYSBsaW1pdCBzaG91bGQgbm90IGJlIGFwcGxpZWQgaW4gc3VjaCBjYXNlcy5cbiAgICAgICAgdCA9IF9fUFJJVkFURV9xdWVyeVdpdGhMaW1pdCh0LCBudWxsLCBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8pLCBuID0gX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQodCkpLCBcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdUYXJnZXQoZSwgbikubmV4dCgociA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KC4uLnIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuemkuZ2V0RG9jdW1lbnRzKGUsIGkpLm5leHQoKHIgPT4gdGhpcy5pbmRleE1hbmFnZXIuZ2V0TWluT2Zmc2V0KGUsIG4pLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLlppKHQsIHIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlhpKHQsIHMsIGksIG4ucmVhZFRpbWUpID8gdGhpcy5qaShlLCBfX1BSSVZBVEVfcXVlcnlXaXRoTGltaXQodCwgbnVsbCwgXCJGXCIgLyogTGltaXRUeXBlLkZpcnN0ICovKSkgOiB0aGlzLmVzKGUsIHMsIHQsIG4pO1xuICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgIH0pKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBxdWVyeSBiYXNlZCBvbiB0aGUgdGFyZ2V0J3MgcGVyc2lzdGVkIHF1ZXJ5IG1hcHBpbmcuIFJldHVybnNcbiAgICAgKiBgbnVsbGAgaWYgdGhlIG1hcHBpbmcgaXMgbm90IGF2YWlsYWJsZSBvciBjYW5ub3QgYmUgdXNlZC5cbiAgICAgKi8gICAgSGkoZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0FsbERvY3VtZW50cyh0KSB8fCByLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG51bGwpIDogdGhpcy56aS5nZXREb2N1bWVudHMoZSwgbikubmV4dCgoaSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5aaSh0LCBpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlhpKHQsIHMsIG4sIHIpID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobnVsbCkgOiAoX19QUklWQVRFX2dldExvZ0xldmVsKCkgPD0gbG9nZ2VyLkxvZ0xldmVsLkRFQlVHICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlF1ZXJ5RW5naW5lXCIsIFwiUmUtdXNpbmcgcHJldmlvdXMgcmVzdWx0IGZyb20gJXMgdG8gZXhlY3V0ZSBxdWVyeTogJXNcIiwgci50b1N0cmluZygpLCBfX1BSSVZBVEVfc3RyaW5naWZ5UXVlcnkodCkpLCBcbiAgICAgICAgICAgIHRoaXMuZXMoZSwgcywgdCwgX19QUklWQVRFX25ld0luZGV4T2Zmc2V0U3VjY2Vzc29yRnJvbVJlYWRUaW1lKHIsIC0xKSkubmV4dCgoZSA9PiBlKSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIC8vIFF1ZXJpZXMgdGhhdCBoYXZlIG5ldmVyIHNlZW4gYSBzbmFwc2hvdCB3aXRob3V0IGxpbWJvIGZyZWUgZG9jdW1lbnRzXG4gICAgICAgIC8vIHNob3VsZCBhbHNvIGJlIHJ1biBhcyBhIGZ1bGwgY29sbGVjdGlvbiBzY2FuLlxuICAgICAgICB9XG4gICAgLyoqIEFwcGxpZXMgdGhlIHF1ZXJ5IGZpbHRlciBhbmQgc29ydGluZyB0byB0aGUgcHJvdmlkZWQgZG9jdW1lbnRzLiAgKi8gICAgWmkoZSwgdCkge1xuICAgICAgICAvLyBTb3J0IHRoZSBkb2N1bWVudHMgYW5kIHJlLWFwcGx5IHRoZSBxdWVyeSBmaWx0ZXIgc2luY2UgcHJldmlvdXNseVxuICAgICAgICAvLyBtYXRjaGluZyBkb2N1bWVudHMgZG8gbm90IG5lY2Vzc2FyaWx5IHN0aWxsIG1hdGNoIHRoZSBxdWVyeS5cbiAgICAgICAgbGV0IG4gPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9uZXdRdWVyeUNvbXBhcmF0b3IoZSkpO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKCgodCwgcikgPT4ge1xuICAgICAgICAgICAgX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyhlLCByKSAmJiAobiA9IG4uYWRkKHIpKTtcbiAgICAgICAgfSkpLCBuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGEgbGltaXQgcXVlcnkgbmVlZHMgdG8gYmUgcmVmaWxsZWQgZnJvbSBjYWNoZSwgbWFraW5nIGl0XG4gICAgICogaW5lbGlnaWJsZSBmb3IgaW5kZXgtZnJlZSBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcXVlcnkgLSBUaGUgcXVlcnkuXG4gICAgICogQHBhcmFtIHNvcnRlZFByZXZpb3VzUmVzdWx0cyAtIFRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaGVkIHRoZSBxdWVyeSB3aGVuIGl0XG4gICAgICogd2FzIGxhc3Qgc3luY2hyb25pemVkLCBzb3J0ZWQgYnkgdGhlIHF1ZXJ5J3MgY29tcGFyYXRvci5cbiAgICAgKiBAcGFyYW0gcmVtb3RlS2V5cyAtIFRoZSBkb2N1bWVudCBrZXlzIHRoYXQgbWF0Y2hlZCB0aGUgcXVlcnkgYXQgdGhlIGxhc3RcbiAgICAgKiBzbmFwc2hvdC5cbiAgICAgKiBAcGFyYW0gbGltYm9GcmVlU25hcHNob3RWZXJzaW9uIC0gVGhlIHZlcnNpb24gb2YgdGhlIHNuYXBzaG90IHdoZW4gdGhlXG4gICAgICogcXVlcnkgd2FzIGxhc3Qgc3luY2hyb25pemVkLlxuICAgICAqLyAgICBYaShlLCB0LCBuLCByKSB7XG4gICAgICAgIGlmIChudWxsID09PSBlLmxpbWl0KSBcbiAgICAgICAgLy8gUXVlcmllcyB3aXRob3V0IGxpbWl0cyBkbyBub3QgbmVlZCB0byBiZSByZWZpbGxlZC5cbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBpZiAobi5zaXplICE9PSB0LnNpemUpIFxuICAgICAgICAvLyBUaGUgcXVlcnkgbmVlZHMgdG8gYmUgcmVmaWxsZWQgaWYgYSBwcmV2aW91c2x5IG1hdGNoaW5nIGRvY3VtZW50IG5vXG4gICAgICAgIC8vIGxvbmdlciBtYXRjaGVzLlxuICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIC8vIExpbWl0IHF1ZXJpZXMgYXJlIG5vdCBlbGlnaWJsZSBmb3IgaW5kZXgtZnJlZSBxdWVyeSBleGVjdXRpb24gaWYgdGhlcmUgaXNcbiAgICAgICAgLy8gYSBwb3RlbnRpYWwgdGhhdCBhbiBvbGRlciBkb2N1bWVudCBmcm9tIGNhY2hlIG5vdyBzb3J0cyBiZWZvcmUgYSBkb2N1bWVudFxuICAgICAgICAvLyB0aGF0IHdhcyBwcmV2aW91c2x5IHBhcnQgb2YgdGhlIGxpbWl0LiBUaGlzLCBob3dldmVyLCBjYW4gb25seSBoYXBwZW4gaWZcbiAgICAgICAgLy8gdGhlIGRvY3VtZW50IGF0IHRoZSBlZGdlIG9mIHRoZSBsaW1pdCBnb2VzIG91dCBvZiBsaW1pdC5cbiAgICAgICAgLy8gSWYgYSBkb2N1bWVudCB0aGF0IGlzIG5vdCB0aGUgbGltaXQgYm91bmRhcnkgc29ydHMgZGlmZmVyZW50bHksXG4gICAgICAgIC8vIHRoZSBib3VuZGFyeSBvZiB0aGUgbGltaXQgaXRzZWxmIGRpZCBub3QgY2hhbmdlIGFuZCBkb2N1bWVudHMgZnJvbSBjYWNoZVxuICAgICAgICAvLyB3aWxsIGNvbnRpbnVlIHRvIGJlIFwicmVqZWN0ZWRcIiBieSB0aGlzIGJvdW5kYXJ5LiBUaGVyZWZvcmUsIHdlIGNhbiBpZ25vcmVcbiAgICAgICAgLy8gYW55IG1vZGlmaWNhdGlvbnMgdGhhdCBkb24ndCBhZmZlY3QgdGhlIGxhc3QgZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyA9PT0gZS5saW1pdFR5cGUgPyB0Lmxhc3QoKSA6IHQuZmlyc3QoKTtcbiAgICAgICAgcmV0dXJuICEhaSAmJiAoaS5oYXNQZW5kaW5nV3JpdGVzIHx8IGkudmVyc2lvbi5jb21wYXJlVG8ocikgPiAwKTtcbiAgICB9XG4gICAgSmkoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2dldExvZ0xldmVsKCkgPD0gbG9nZ2VyLkxvZ0xldmVsLkRFQlVHICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlF1ZXJ5RW5naW5lXCIsIFwiVXNpbmcgZnVsbCBjb2xsZWN0aW9uIHNjYW4gdG8gZXhlY3V0ZSBxdWVyeTpcIiwgX19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5KHQpKSwgXG4gICAgICAgIHRoaXMuemkuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCB0LCBJbmRleE9mZnNldC5taW4oKSwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbWJpbmVzIHRoZSByZXN1bHRzIGZyb20gYW4gaW5kZXhlZCBleGVjdXRpb24gd2l0aCB0aGUgcmVtYWluaW5nIGRvY3VtZW50c1xuICAgICAqIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gaW5kZXhlZC5cbiAgICAgKi8gICAgZXMoZSwgdCwgbiwgcikge1xuICAgICAgICAvLyBSZXRyaWV2ZSBhbGwgcmVzdWx0cyBmb3IgZG9jdW1lbnRzIHRoYXQgd2VyZSB1cGRhdGVkIHNpbmNlIHRoZSBvZmZzZXQuXG4gICAgICAgIHJldHVybiB0aGlzLnppLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSwgbiwgcikubmV4dCgoZSA9PiAoXG4gICAgICAgIC8vIE1lcmdlIHdpdGggZXhpc3RpbmcgcmVzdWx0c1xuICAgICAgICB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgZSA9IGUuaW5zZXJ0KHQua2V5LCB0KTtcbiAgICAgICAgfSkpLCBlKSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSW1wbGVtZW50cyBgTG9jYWxTdG9yZWAgaW50ZXJmYWNlLlxuICpcbiAqIE5vdGU6IHNvbWUgZmllbGQgZGVmaW5lZCBpbiB0aGlzIGNsYXNzIG1pZ2h0IGhhdmUgcHVibGljIGFjY2VzcyBsZXZlbCwgYnV0XG4gKiB0aGUgY2xhc3MgaXMgbm90IGV4cG9ydGVkIHNvIHRoZXkgYXJlIG9ubHkgYWNjZXNzaWJsZSBmcm9tIHRoaXMgbW9kdWxlLlxuICogVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IG9wdGlvbmFsIGZlYXR1cmVzIChsaWtlIGJ1bmRsZXMpIGluIGZyZWVcbiAqIGZ1bmN0aW9ucywgc3VjaCB0aGF0IHRoZXkgYXJlIHRyZWUtc2hha2VhYmxlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfTG9jYWxTdG9yZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBNYW5hZ2VzIG91ciBpbi1tZW1vcnkgb3IgZHVyYWJsZSBwZXJzaXN0ZW5jZS4gKi9cbiAgICBlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMucGVyc2lzdGVuY2UgPSBlLCB0aGlzLnRzID0gdCwgdGhpcy5zZXJpYWxpemVyID0gciwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXBzIGEgdGFyZ2V0SUQgdG8gZGF0YSBhYm91dCBpdHMgdGFyZ2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBQT1JUSU5HIE5PVEU6IFdlIGFyZSB1c2luZyBhbiBpbW11dGFibGUgZGF0YSBzdHJ1Y3R1cmUgb24gV2ViIHRvIG1ha2UgcmUtcnVuc1xuICAgICAgICAgKiBvZiBgYXBwbHlSZW1vdGVFdmVudCgpYCBpZGVtcG90ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ucyA9IG5ldyBTb3J0ZWRNYXAoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpLCBcbiAgICAgICAgLyoqIE1hcHMgYSB0YXJnZXQgdG8gaXRzIHRhcmdldElELiAqL1xuICAgICAgICAvLyBUT0RPKHd1YW5keSk6IEV2YWx1YXRlIGlmIFRhcmdldElkIGNhbiBiZSBwYXJ0IG9mIFRhcmdldC5cbiAgICAgICAgdGhpcy5ycyA9IG5ldyBPYmplY3RNYXAoKGUgPT4gX19QUklWQVRFX2Nhbm9uaWZ5VGFyZ2V0KGUpKSwgX19QUklWQVRFX3RhcmdldEVxdWFscyksIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBwZXIgY29sbGVjdGlvbiBncm91cCBpbmRleCBvZiB0aGUgbGFzdCByZWFkIHRpbWUgcHJvY2Vzc2VkIGJ5XG4gICAgICAgICAqIGBnZXROZXdEb2N1bWVudENoYW5nZXMoKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgZm9yIG11bHRpLXRhYiBzeW5jaHJvbml6YXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNzID0gbmV3IE1hcCwgdGhpcy5vcyA9IGUuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLCB0aGlzLlFyID0gZS5nZXRUYXJnZXRDYWNoZSgpLCBcbiAgICAgICAgdGhpcy4kciA9IGUuZ2V0QnVuZGxlQ2FjaGUoKSwgdGhpcy5fcyhuKTtcbiAgICB9XG4gICAgX3MoZSkge1xuICAgICAgICAvLyBUT0RPKGluZGV4aW5nKTogQWRkIHNwZWMgdGVzdHMgdGhhdCB0ZXN0IHRoZXNlIGNvbXBvbmVudHMgY2hhbmdlIGFmdGVyIGFcbiAgICAgICAgLy8gdXNlciBjaGFuZ2VcbiAgICAgICAgdGhpcy5kb2N1bWVudE92ZXJsYXlDYWNoZSA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0RG9jdW1lbnRPdmVybGF5Q2FjaGUoZSksIHRoaXMuaW5kZXhNYW5hZ2VyID0gdGhpcy5wZXJzaXN0ZW5jZS5nZXRJbmRleE1hbmFnZXIoZSksIFxuICAgICAgICB0aGlzLm11dGF0aW9uUXVldWUgPSB0aGlzLnBlcnNpc3RlbmNlLmdldE11dGF0aW9uUXVldWUoZSwgdGhpcy5pbmRleE1hbmFnZXIpLCB0aGlzLmxvY2FsRG9jdW1lbnRzID0gbmV3IExvY2FsRG9jdW1lbnRzVmlldyh0aGlzLm9zLCB0aGlzLm11dGF0aW9uUXVldWUsIHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUsIHRoaXMuaW5kZXhNYW5hZ2VyKSwgXG4gICAgICAgIHRoaXMub3Muc2V0SW5kZXhNYW5hZ2VyKHRoaXMuaW5kZXhNYW5hZ2VyKSwgdGhpcy50cy5pbml0aWFsaXplKHRoaXMubG9jYWxEb2N1bWVudHMsIHRoaXMuaW5kZXhNYW5hZ2VyKTtcbiAgICB9XG4gICAgY29sbGVjdEdhcmJhZ2UoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkNvbGxlY3QgZ2FyYmFnZVwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsICh0ID0+IGUuY29sbGVjdCh0LCB0aGlzLm5zKSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX25ld0xvY2FsU3RvcmUoXG4vKiogTWFuYWdlcyBvdXIgaW4tbWVtb3J5IG9yIGR1cmFibGUgcGVyc2lzdGVuY2UuICovXG5lLCB0LCBuLCByKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTG9jYWxTdG9yZUltcGwoZSwgdCwgbiwgcik7XG59XG5cbi8qKlxuICogVGVsbHMgdGhlIExvY2FsU3RvcmUgdGhhdCB0aGUgY3VycmVudGx5IGF1dGhlbnRpY2F0ZWQgdXNlciBoYXMgY2hhbmdlZC5cbiAqXG4gKiBJbiByZXNwb25zZSB0aGUgbG9jYWwgc3RvcmUgc3dpdGNoZXMgdGhlIG11dGF0aW9uIHF1ZXVlIHRvIHRoZSBuZXcgdXNlciBhbmRcbiAqIHJldHVybnMgYW55IHJlc3VsdGluZyBkb2N1bWVudCBjaGFuZ2VzLlxuICovXG4vLyBQT1JUSU5HIE5PVEU6IEFuZHJvaWQgYW5kIGlPUyBvbmx5IHJldHVybiB0aGUgZG9jdW1lbnRzIGFmZmVjdGVkIGJ5IHRoZVxuLy8gY2hhbmdlLlxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVIYW5kbGVVc2VyQ2hhbmdlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gYXdhaXQgbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkhhbmRsZSB1c2VyIGNoYW5nZVwiLCBcInJlYWRvbmx5XCIsIChlID0+IHtcbiAgICAgICAgLy8gU3dhcCBvdXQgdGhlIG11dGF0aW9uIHF1ZXVlLCBncmFiYmluZyB0aGUgcGVuZGluZyBtdXRhdGlvbiBiYXRjaGVzXG4gICAgICAgIC8vIGJlZm9yZSBhbmQgYWZ0ZXIuXG4gICAgICAgIGxldCByO1xuICAgICAgICByZXR1cm4gbi5tdXRhdGlvblF1ZXVlLmdldEFsbE11dGF0aW9uQmF0Y2hlcyhlKS5uZXh0KChpID0+IChyID0gaSwgbi5fcyh0KSwgbi5tdXRhdGlvblF1ZXVlLmdldEFsbE11dGF0aW9uQmF0Y2hlcyhlKSkpKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBbXSwgcyA9IFtdO1xuICAgICAgICAgICAgLy8gVW5pb24gdGhlIG9sZC9uZXcgY2hhbmdlZCBrZXlzLlxuICAgICAgICAgICAgbGV0IG8gPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiByKSB7XG4gICAgICAgICAgICAgICAgaS5wdXNoKGUuYmF0Y2hJZCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGUubXV0YXRpb25zKSBvID0gby5hZGQodC5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIHtcbiAgICAgICAgICAgICAgICBzLnB1c2goZS5iYXRjaElkKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5tdXRhdGlvbnMpIG8gPSBvLmFkZCh0LmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHNldCBvZiBhbGwgKHBvdGVudGlhbGx5KSBjaGFuZ2VkIGRvY3VtZW50cyBhbmQgdGhlIGxpc3RcbiAgICAgICAgICAgIC8vIG9mIG11dGF0aW9uIGJhdGNoIElEcyB0aGF0IHdlcmUgYWZmZWN0ZWQgYnkgY2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ubG9jYWxEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKGUsIG8pLm5leHQoKGUgPT4gKHtcbiAgICAgICAgICAgICAgICB1czogZSxcbiAgICAgICAgICAgICAgICByZW1vdmVkQmF0Y2hJZHM6IGksXG4gICAgICAgICAgICAgICAgYWRkZWRCYXRjaElkczogc1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSkpO1xuICAgIH0pKTtcbn1cblxuLyogQWNjZXB0cyBsb2NhbGx5IGdlbmVyYXRlZCBNdXRhdGlvbnMgYW5kIGNvbW1pdCB0aGVtIHRvIHN0b3JhZ2UuICovXG4vKipcbiAqIEFja25vd2xlZGdlcyB0aGUgZ2l2ZW4gYmF0Y2guXG4gKlxuICogT24gdGhlIGhhcHB5IHBhdGggd2hlbiBhIGJhdGNoIGlzIGFja25vd2xlZGdlZCwgdGhlIGxvY2FsIHN0b3JlIHdpbGxcbiAqXG4gKiAgKyByZW1vdmUgdGhlIGJhdGNoIGZyb20gdGhlIG11dGF0aW9uIHF1ZXVlO1xuICogICsgYXBwbHkgdGhlIGNoYW5nZXMgdG8gdGhlIHJlbW90ZSBkb2N1bWVudCBjYWNoZTtcbiAqICArIHJlY2FsY3VsYXRlIHRoZSBsYXRlbmN5IGNvbXBlbnNhdGVkIHZpZXcgaW1wbGllZCBieSB0aG9zZSBjaGFuZ2VzICh0aGVyZVxuICogICAgbWF5IGJlIG11dGF0aW9ucyBpbiB0aGUgcXVldWUgdGhhdCBhZmZlY3QgdGhlIGRvY3VtZW50cyBidXQgaGF2ZW4ndCBiZWVuXG4gKiAgICBhY2tub3dsZWRnZWQgeWV0KTsgYW5kXG4gKiAgKyBnaXZlIHRoZSBjaGFuZ2VkIGRvY3VtZW50cyBiYWNrIHRoZSBzeW5jIGVuZ2luZVxuICpcbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgKG1vZGlmaWVkKSBkb2N1bWVudHMuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQWNrbm93bGVkZ2VCYXRjaChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBY2tub3dsZWRnZSBiYXRjaFwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsIChlID0+IHtcbiAgICAgICAgY29uc3QgciA9IHQuYmF0Y2gua2V5cygpLCBpID0gbi5vcy5uZXdDaGFuZ2VCdWZmZXIoe1xuICAgICAgICAgICAgdHJhY2tSZW1vdmFsczogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlXcml0ZVRvUmVtb3RlRG9jdW1lbnRzKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuLmJhdGNoLCBzID0gaS5rZXlzKCk7XG4gICAgICAgICAgICBsZXQgbyA9IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gcy5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICBvID0gby5uZXh0KCgoKSA9PiByLmdldEVudHJ5KHQsIGUpKSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuLmRvY1ZlcnNpb25zLmdldChlKTtcbiAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQobnVsbCAhPT0gcyksIHQudmVyc2lvbi5jb21wYXJlVG8ocykgPCAwICYmIChpLmFwcGx5VG9SZW1vdGVEb2N1bWVudCh0LCBuKSwgXG4gICAgICAgICAgICAgICAgICAgIHQuaXNWYWxpZERvY3VtZW50KCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGNvbW1pdFZlcnNpb24gYXMgdGhlIHJlYWRUaW1lIHJhdGhlciB0aGFuIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBkb2N1bWVudCdzIHVwZGF0ZVRpbWUgc2luY2UgdGhlIHVwZGF0ZVRpbWUgaXMgbm90IGFkdmFuY2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciB1cGRhdGVzIHRoYXQgZG8gbm90IG1vZGlmeSB0aGUgdW5kZXJseWluZyBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgdC5zZXRSZWFkVGltZShuLmNvbW1pdFZlcnNpb24pLCByLmFkZEVudHJ5KHQpKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpLCBvLm5leHQoKCgpID0+IGUubXV0YXRpb25RdWV1ZS5yZW1vdmVNdXRhdGlvbkJhdGNoKHQsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJldHVybnMgdGhlIGxvY2FsIHZpZXcgb2YgdGhlIGRvY3VtZW50cyBhZmZlY3RlZCBieSBhIG11dGF0aW9uIGJhdGNoLiAqL1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuICAgICAgICAobiwgZSwgdCwgaSkubmV4dCgoKCkgPT4gaS5hcHBseShlKSkpLm5leHQoKCgpID0+IG4ubXV0YXRpb25RdWV1ZS5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjayhlKSkpLm5leHQoKCgpID0+IG4uZG9jdW1lbnRPdmVybGF5Q2FjaGUucmVtb3ZlT3ZlcmxheXNGb3JCYXRjaElkKGUsIHIsIHQuYmF0Y2guYmF0Y2hJZCkpKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKGUsIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRLZXlzV2l0aFRyYW5zZm9ybVJlc3VsdHMoZSkge1xuICAgICAgICAgICAgbGV0IHQgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5tdXRhdGlvblJlc3VsdHMubGVuZ3RoOyArK24pIHtcbiAgICAgICAgICAgICAgICBlLm11dGF0aW9uUmVzdWx0c1tuXS50cmFuc2Zvcm1SZXN1bHRzLmxlbmd0aCA+IDAgJiYgKHQgPSB0LmFkZChlLmJhdGNoLm11dGF0aW9uc1tuXS5rZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUmVtb3ZlcyBtdXRhdGlvbnMgZnJvbSB0aGUgTXV0YXRpb25RdWV1ZSBmb3IgdGhlIHNwZWNpZmllZCBiYXRjaDtcbiAqIExvY2FsRG9jdW1lbnRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkLlxuICpcbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgbW9kaWZpZWQgZG9jdW1lbnRzLlxuICovICh0KSkpKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLmdldERvY3VtZW50cyhlLCByKSkpO1xuICAgIH0pKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXN0IGNvbnNpc3RlbnQgc25hcHNob3QgcHJvY2Vzc2VkICh1c2VkIGJ5IHRoZSBSZW1vdGVTdG9yZSB0b1xuICogZGV0ZXJtaW5lIHdoZXRoZXIgdG8gYnVmZmVyIGluY29taW5nIHNuYXBzaG90cyBmcm9tIHRoZSBiYWNrZW5kKS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gdC5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBsYXN0IHJlbW90ZSBzbmFwc2hvdCB2ZXJzaW9uXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gdC5Rci5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKGUpKSk7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgXCJncm91bmQtc3RhdGVcIiAocmVtb3RlKSBkb2N1bWVudHMuIFdlIGFzc3VtZSB0aGF0IHRoZSByZW1vdGVcbiAqIGV2ZW50IHJlZmxlY3RzIGFueSB3cml0ZSBiYXRjaGVzIHRoYXQgaGF2ZSBiZWVuIGFja25vd2xlZGdlZCBvciByZWplY3RlZFxuICogKGkuZS4gd2UgZG8gbm90IHJlLWFwcGx5IGxvY2FsIG11dGF0aW9ucyB0byB1cGRhdGVzIGZyb20gdGhpcyBldmVudCkuXG4gKlxuICogTG9jYWxEb2N1bWVudHMgYXJlIHJlLWNhbGN1bGF0ZWQgaWYgdGhlcmUgYXJlIHJlbWFpbmluZyBtdXRhdGlvbnMgaW4gdGhlXG4gKiBxdWV1ZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5UmVtb3RlRXZlbnRUb0xvY2FsQ2FjaGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gdC5zbmFwc2hvdFZlcnNpb247XG4gICAgbGV0IGkgPSBuLm5zO1xuICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQXBwbHkgcmVtb3RlIGV2ZW50XCIsIFwicmVhZHdyaXRlLXByaW1hcnlcIiwgKGUgPT4ge1xuICAgICAgICBjb25zdCBzID0gbi5vcy5uZXdDaGFuZ2VCdWZmZXIoe1xuICAgICAgICAgICAgdHJhY2tSZW1vdmFsczogITBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlc2V0IG5ld1RhcmdldERhdGFCeVRhcmdldE1hcCBpbiBjYXNlIHRoaXMgdHJhbnNhY3Rpb24gZ2V0cyByZS1ydW4uXG4gICAgICAgICAgICAgICAgaSA9IG4ubnM7XG4gICAgICAgIGNvbnN0IG8gPSBbXTtcbiAgICAgICAgdC50YXJnZXRDaGFuZ2VzLmZvckVhY2goKChzLCBfKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gaS5nZXQoXyk7XG4gICAgICAgICAgICBpZiAoIWEpIHJldHVybjtcbiAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIHRoZSByZW1vdGUga2V5cyBpZiB0aGUgdGFyZ2V0IGlzIHN0aWxsIGFjdGl2ZS4gVGhpc1xuICAgICAgICAgICAgLy8gZW5zdXJlcyB0aGF0IHdlIGNhbiBwZXJzaXN0IHRoZSB1cGRhdGVkIHRhcmdldCBkYXRhIGFsb25nIHdpdGhcbiAgICAgICAgICAgIC8vIHRoZSB1cGRhdGVkIGFzc2lnbm1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBvLnB1c2gobi5Rci5yZW1vdmVNYXRjaGluZ0tleXMoZSwgcy5yZW1vdmVkRG9jdW1lbnRzLCBfKS5uZXh0KCgoKSA9PiBuLlFyLmFkZE1hdGNoaW5nS2V5cyhlLCBzLmFkZGVkRG9jdW1lbnRzLCBfKSkpKTtcbiAgICAgICAgICAgIGxldCB1ID0gYS53aXRoU2VxdWVuY2VOdW1iZXIoZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpO1xuICAgICAgICAgICAgbnVsbCAhPT0gdC50YXJnZXRNaXNtYXRjaGVzLmdldChfKSA/IHUgPSB1LndpdGhSZXN1bWVUb2tlbihCeXRlU3RyaW5nLkVNUFRZX0JZVEVfU1RSSU5HLCBTbmFwc2hvdFZlcnNpb24ubWluKCkpLndpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKFNuYXBzaG90VmVyc2lvbi5taW4oKSkgOiBzLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDAgJiYgKHUgPSB1LndpdGhSZXN1bWVUb2tlbihzLnJlc3VtZVRva2VuLCByKSksIFxuICAgICAgICAgICAgaSA9IGkuaW5zZXJ0KF8sIHUpLCBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdGFyZ2V0IGRhdGEgaWYgdGhlcmUgYXJlIHRhcmdldCBjaGFuZ2VzIChvciBpZlxuICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0aW1lIGhhcyBwYXNzZWQgc2luY2UgdGhlIGxhc3QgdXBkYXRlKS5cbiAgICAgICAgICAgIC8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBuZXdUYXJnZXREYXRhIHNob3VsZCBiZSBwZXJzaXN0ZWQgZHVyaW5nIGFuIHVwZGF0ZSBvZlxuICogYW4gYWN0aXZlIHRhcmdldC4gVGFyZ2V0RGF0YSBzaG91bGQgYWx3YXlzIGJlIHBlcnNpc3RlZCB3aGVuIGEgdGFyZ2V0IGlzXG4gKiBiZWluZyByZWxlYXNlZCBhbmQgc2hvdWxkIG5vdCBjYWxsIHRoaXMgZnVuY3Rpb24uXG4gKlxuICogV2hpbGUgdGhlIHRhcmdldCBpcyBhY3RpdmUsIFRhcmdldERhdGEgdXBkYXRlcyBjYW4gYmUgb21pdHRlZCB3aGVuIG5vdGhpbmdcbiAqIGFib3V0IHRoZSB0YXJnZXQgaGFzIGNoYW5nZWQgZXhjZXB0IG1ldGFkYXRhIGxpa2UgdGhlIHJlc3VtZSB0b2tlbiBvclxuICogc25hcHNob3QgdmVyc2lvbi4gT2NjYXNpb25hbGx5IGl0J3Mgd29ydGggdGhlIGV4dHJhIHdyaXRlIHRvIHByZXZlbnQgdGhlc2VcbiAqIHZhbHVlcyBmcm9tIGdldHRpbmcgdG9vIHN0YWxlIGFmdGVyIGEgY3Jhc2gsIGJ1dCB0aGlzIGRvZXNuJ3QgaGF2ZSB0byBiZVxuICogdG9vIGZyZXF1ZW50LlxuICovXG4gICAgICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfc2hvdWxkUGVyc2lzdFRhcmdldERhdGEoZSwgdCwgbikge1xuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBwZXJzaXN0IHRhcmdldCBkYXRhIGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhIHJlc3VtZSB0b2tlbi5cbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gZS5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkpIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBhbGxvdyByZXN1bWUgdG9rZW4gY2hhbmdlcyB0byBiZSBidWZmZXJlZCBpbmRlZmluaXRlbHkuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyBhbGxvd3MgdXMgdG8gYmUgcmVhc29uYWJseSB1cC10by1kYXRlIGFmdGVyIGEgY3Jhc2ggYW5kIGF2b2lkcyBuZWVkaW5nXG4gICAgICAgICAgICAgICAgLy8gdG8gbG9vcCBvdmVyIGFsbCBhY3RpdmUgcXVlcmllcyBvbiBzaHV0ZG93bi4gRXNwZWNpYWxseSBpbiB0aGUgYnJvd3NlclxuICAgICAgICAgICAgICAgIC8vIHdlIG1heSBub3QgZ2V0IHRpbWUgdG8gZG8gYW55dGhpbmcgaW50ZXJlc3Rpbmcgd2hpbGUgdGhlIGN1cnJlbnQgdGFiIGlzXG4gICAgICAgICAgICAgICAgLy8gY2xvc2luZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQuc25hcHNob3RWZXJzaW9uLnRvTWljcm9zZWNvbmRzKCkgLSBlLnNuYXBzaG90VmVyc2lvbi50b01pY3Jvc2Vjb25kcygpID49IDNlOCkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBpZiB0aGUgb25seSB0aGluZyB0aGF0IGhhcyBjaGFuZ2VkIGFib3V0IGEgdGFyZ2V0IGlzIGl0cyByZXN1bWVcbiAgICAgICAgICAgICAgICAvLyB0b2tlbiBpdCdzIG5vdCB3b3J0aCBwZXJzaXN0aW5nLiBOb3RlIHRoYXQgdGhlIFJlbW90ZVN0b3JlIGtlZXBzIGFuXG4gICAgICAgICAgICAgICAgLy8gaW4tbWVtb3J5IHZpZXcgb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgdGFyZ2V0cyB3aGljaCBpbmNsdWRlcyB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIHJlc3VtZSB0b2tlbiwgc28gc3RyZWFtIGZhaWx1cmUgb3IgdXNlciBjaGFuZ2VzIHdpbGwgc3RpbGwgdXNlIGFuXG4gICAgICAgICAgICAgICAgLy8gdXAtdG8tZGF0ZSByZXN1bWUgdG9rZW4gcmVnYXJkbGVzcyBvZiB3aGF0IHdlIGRvIGhlcmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmFkZGVkRG9jdW1lbnRzLnNpemUgKyBuLm1vZGlmaWVkRG9jdW1lbnRzLnNpemUgKyBuLnJlbW92ZWREb2N1bWVudHMuc2l6ZSA+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAqIE5vdGlmaWVzIGxvY2FsIHN0b3JlIG9mIHRoZSBjaGFuZ2VkIHZpZXdzIHRvIGxvY2FsbHkgcGluIGRvY3VtZW50cy5cbiAqLyAoYSwgdSwgcykgJiYgby5wdXNoKG4uUXIudXBkYXRlVGFyZ2V0RGF0YShlLCB1KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgbGV0IF8gPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCksIGEgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgLy8gSEFDSzogVGhlIG9ubHkgcmVhc29uIHdlIGFsbG93IGEgbnVsbCBzbmFwc2hvdCB2ZXJzaW9uIGlzIHNvIHRoYXQgd2VcbiAgICAgICAgLy8gY2FuIHN5bnRoZXNpemUgcmVtb3RlIGV2ZW50cyB3aGVuIHdlIGdldCBwZXJtaXNzaW9uIGRlbmllZCBlcnJvcnMgd2hpbGVcbiAgICAgICAgLy8gdHJ5aW5nIHRvIHJlc29sdmUgdGhlIHN0YXRlIG9mIGEgbG9jYWxseSBjYWNoZWQgZG9jdW1lbnQgdGhhdCBpcyBpblxuICAgICAgICAvLyBsaW1iby5cbiAgICAgICAgaWYgKHQuZG9jdW1lbnRVcGRhdGVzLmZvckVhY2goKHIgPT4ge1xuICAgICAgICAgICAgdC5yZXNvbHZlZExpbWJvRG9jdW1lbnRzLmhhcyhyKSAmJiBvLnB1c2gobi5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS51cGRhdGVMaW1ib0RvY3VtZW50KGUsIHIpKTtcbiAgICAgICAgfSkpLCBcbiAgICAgICAgLy8gRWFjaCBsb29wIGl0ZXJhdGlvbiBvbmx5IGFmZmVjdHMgaXRzIFwib3duXCIgZG9jLCBzbyBpdCdzIHNhZmUgdG8gZ2V0IGFsbFxuICAgICAgICAvLyB0aGUgcmVtb3RlIGRvY3VtZW50cyBpbiBhZHZhbmNlIGluIGEgc2luZ2xlIGNhbGwuXG4gICAgICAgIG8ucHVzaChfX1BSSVZBVEVfcG9wdWxhdGVEb2N1bWVudENoYW5nZUJ1ZmZlcihlLCBzLCB0LmRvY3VtZW50VXBkYXRlcykubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBfID0gZS5jcywgYSA9IGUubHM7XG4gICAgICAgIH0pKSksICFyLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IG4uUXIuZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihlKS5uZXh0KCh0ID0+IG4uUXIuc2V0VGFyZ2V0c01ldGFkYXRhKGUsIGUuY3VycmVudFNlcXVlbmNlTnVtYmVyLCByKSkpO1xuICAgICAgICAgICAgby5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihvKS5uZXh0KCgoKSA9PiBzLmFwcGx5KGUpKSkubmV4dCgoKCkgPT4gbi5sb2NhbERvY3VtZW50cy5nZXRMb2NhbFZpZXdPZkRvY3VtZW50cyhlLCBfLCBhKSkpLm5leHQoKCgpID0+IF8pKTtcbiAgICB9KSkudGhlbigoZSA9PiAobi5ucyA9IGksIGUpKSk7XG59XG5cbi8qKlxuICogUG9wdWxhdGVzIGRvY3VtZW50IGNoYW5nZSBidWZmZXIgd2l0aCBkb2N1bWVudHMgZnJvbSBiYWNrZW5kIG9yIGEgYnVuZGxlLlxuICogUmV0dXJucyB0aGUgZG9jdW1lbnQgY2hhbmdlcyByZXN1bHRpbmcgZnJvbSBhcHBseWluZyB0aG9zZSBkb2N1bWVudHMsIGFuZFxuICogYWxzbyBhIHNldCBvZiBkb2N1bWVudHMgd2hvc2UgZXhpc3RlbmNlIHN0YXRlIGFyZSBjaGFuZ2VkIGFzIGEgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB0eG4gLSBUcmFuc2FjdGlvbiB0byB1c2UgdG8gcmVhZCBleGlzdGluZyBkb2N1bWVudHMgZnJvbSBzdG9yYWdlLlxuICogQHBhcmFtIGRvY3VtZW50QnVmZmVyIC0gRG9jdW1lbnQgYnVmZmVyIHRvIGNvbGxlY3QgdGhlIHJlc3VsdGVkIGNoYW5nZXMgdG8gYmVcbiAqICAgICAgICBhcHBsaWVkIHRvIHN0b3JhZ2UuXG4gKiBAcGFyYW0gZG9jdW1lbnRzIC0gRG9jdW1lbnRzIHRvIGJlIGFwcGxpZWQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3BvcHVsYXRlRG9jdW1lbnRDaGFuZ2VCdWZmZXIoZSwgdCwgbikge1xuICAgIGxldCByID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICByZXR1cm4gbi5mb3JFYWNoKChlID0+IHIgPSByLmFkZChlKSkpLCB0LmdldEVudHJpZXMoZSwgcikubmV4dCgoZSA9PiB7XG4gICAgICAgIGxldCByID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKCgobiwgcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbyA9IGUuZ2V0KG4pO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc2VlIGlmIHRoZXJlIGlzIGEgZXhpc3RlbmNlIHN0YXRlIGNoYW5nZSBmb3IgdGhpcyBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHMuaXNGb3VuZERvY3VtZW50KCkgIT09IG8uaXNGb3VuZERvY3VtZW50KCkgJiYgKGkgPSBpLmFkZChuKSksIFxuICAgICAgICAgICAgLy8gTm90ZTogVGhlIG9yZGVyIG9mIHRoZSBzdGVwcyBiZWxvdyBpcyBpbXBvcnRhbnQsIHNpbmNlIHdlIHdhbnRcbiAgICAgICAgICAgIC8vIHRvIGVuc3VyZSB0aGF0IHJlamVjdGVkIGxpbWJvIHJlc29sdXRpb25zICh3aGljaCBmYWJyaWNhdGVcbiAgICAgICAgICAgIC8vIE5vRG9jdW1lbnRzIHdpdGggU25hcHNob3RWZXJzaW9uLm1pbigpKSBuZXZlciBhZGQgZG9jdW1lbnRzIHRvXG4gICAgICAgICAgICAvLyBjYWNoZS5cbiAgICAgICAgICAgIHMuaXNOb0RvY3VtZW50KCkgJiYgcy52ZXJzaW9uLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSA/IChcbiAgICAgICAgICAgIC8vIE5vRG9jdW1lbnRzIHdpdGggU25hcHNob3RWZXJzaW9uLm1pbigpIGFyZSB1c2VkIGluIG1hbnVmYWN0dXJlZFxuICAgICAgICAgICAgLy8gZXZlbnRzLiBXZSByZW1vdmUgdGhlc2UgZG9jdW1lbnRzIGZyb20gY2FjaGUgc2luY2Ugd2UgbG9zdFxuICAgICAgICAgICAgLy8gYWNjZXNzLlxuICAgICAgICAgICAgdC5yZW1vdmVFbnRyeShuLCBzLnJlYWRUaW1lKSwgciA9IHIuaW5zZXJ0KG4sIHMpKSA6ICFvLmlzVmFsaWREb2N1bWVudCgpIHx8IHMudmVyc2lvbi5jb21wYXJlVG8oby52ZXJzaW9uKSA+IDAgfHwgMCA9PT0gcy52ZXJzaW9uLmNvbXBhcmVUbyhvLnZlcnNpb24pICYmIG8uaGFzUGVuZGluZ1dyaXRlcyA/ICh0LmFkZEVudHJ5KHMpLCBcbiAgICAgICAgICAgIHIgPSByLmluc2VydChuLCBzKSkgOiBfX1BSSVZBVEVfbG9nRGVidWcoXCJMb2NhbFN0b3JlXCIsIFwiSWdub3Jpbmcgb3V0ZGF0ZWQgd2F0Y2ggdXBkYXRlIGZvciBcIiwgbiwgXCIuIEN1cnJlbnQgdmVyc2lvbjpcIiwgby52ZXJzaW9uLCBcIiBXYXRjaCB2ZXJzaW9uOlwiLCBzLnZlcnNpb24pO1xuICAgICAgICB9KSksIHtcbiAgICAgICAgICAgIGNzOiByLFxuICAgICAgICAgICAgbHM6IGlcbiAgICAgICAgfTtcbiAgICB9KSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbXV0YXRpb24gYmF0Y2ggYWZ0ZXIgdGhlIHBhc3NlZCBpbiBiYXRjaElkIGluIHRoZSBtdXRhdGlvbiBxdWV1ZVxuICogb3IgbnVsbCBpZiBlbXB0eS5cbiAqIEBwYXJhbSBhZnRlckJhdGNoSWQgLSBJZiBwcm92aWRlZCwgdGhlIGJhdGNoIHRvIHNlYXJjaCBhZnRlci5cbiAqIEByZXR1cm5zIFRoZSBuZXh0IG11dGF0aW9uIG9yIG51bGwgaWYgdGhlcmUgd2Fzbid0IG9uZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXh0TXV0YXRpb25CYXRjaChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbmV4dCBtdXRhdGlvbiBiYXRjaFwiLCBcInJlYWRvbmx5XCIsIChlID0+ICh2b2lkIDAgPT09IHQgJiYgKHQgPSAtMSksIFxuICAgIG4ubXV0YXRpb25RdWV1ZS5nZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZChlLCB0KSkpKTtcbn1cblxuLyoqXG4gKiBSZWFkcyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhIERvY3VtZW50IHdpdGggYSBnaXZlbiBrZXkgb3IgbnVsbCBpZiBub3RcbiAqIGZvdW5kIC0gdXNlZCBmb3IgdGVzdGluZy5cbiAqL1xuLyoqXG4gKiBBc3NpZ25zIHRoZSBnaXZlbiB0YXJnZXQgYW4gaW50ZXJuYWwgSUQgc28gdGhhdCBpdHMgcmVzdWx0cyBjYW4gYmUgcGlubmVkIHNvXG4gKiB0aGV5IGRvbid0IGdldCBHQydkLiBBIHRhcmdldCBtdXN0IGJlIGFsbG9jYXRlZCBpbiB0aGUgbG9jYWwgc3RvcmUgYmVmb3JlXG4gKiB0aGUgc3RvcmUgY2FuIGJlIHVzZWQgdG8gbWFuYWdlIGl0cyB2aWV3LlxuICpcbiAqIEFsbG9jYXRpbmcgYW4gYWxyZWFkeSBhbGxvY2F0ZWQgYFRhcmdldGAgd2lsbCByZXR1cm4gdGhlIGV4aXN0aW5nIGBUYXJnZXREYXRhYFxuICogZm9yIHRoYXQgYFRhcmdldGAuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQWxsb2NhdGUgdGFyZ2V0XCIsIFwicmVhZHdyaXRlXCIsIChlID0+IHtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIHJldHVybiBuLlFyLmdldFRhcmdldERhdGEoZSwgdCkubmV4dCgoaSA9PiBpID8gKFxuICAgICAgICAvLyBUaGlzIHRhcmdldCBoYXMgYmVlbiBsaXN0ZW5lZCB0byBwcmV2aW91c2x5LCBzbyByZXVzZSB0aGVcbiAgICAgICAgLy8gcHJldmlvdXMgdGFyZ2V0SUQuXG4gICAgICAgIC8vIFRPRE8obWNnKTogZnJlc2hlbiBsYXN0IGFjY2Vzc2VkIGRhdGU/XG4gICAgICAgIHIgPSBpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShyKSkgOiBuLlFyLmFsbG9jYXRlVGFyZ2V0SWQoZSkubmV4dCgoaSA9PiAociA9IG5ldyBUYXJnZXREYXRhKHQsIGksIFwiVGFyZ2V0UHVycG9zZUxpc3RlblwiIC8qIFRhcmdldFB1cnBvc2UuTGlzdGVuICovICwgZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpLCBcbiAgICAgICAgbi5Rci5hZGRUYXJnZXREYXRhKGUsIHIpLm5leHQoKCgpID0+IHIpKSkpKSkpO1xuICAgIH0pKS50aGVuKChlID0+IHtcbiAgICAgICAgLy8gSWYgTXVsdGktVGFiIGlzIGVuYWJsZWQsIHRoZSBleGlzdGluZyB0YXJnZXQgZGF0YSBtYXkgYmUgbmV3ZXIgdGhhblxuICAgICAgICAvLyB0aGUgaW4tbWVtb3J5IGRhdGFcbiAgICAgICAgY29uc3QgciA9IG4ubnMuZ2V0KGUudGFyZ2V0SWQpO1xuICAgICAgICByZXR1cm4gKG51bGwgPT09IHIgfHwgZS5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKHIuc25hcHNob3RWZXJzaW9uKSA+IDApICYmIChuLm5zID0gbi5ucy5pbnNlcnQoZS50YXJnZXRJZCwgZSksIFxuICAgICAgICBuLnJzLnNldCh0LCBlLnRhcmdldElkKSksIGU7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIFRhcmdldERhdGEgYXMgc2VlbiBieSB0aGUgTG9jYWxTdG9yZSwgaW5jbHVkaW5nIHVwZGF0ZXMgdGhhdCBtYXlcbiAqIGhhdmUgbm90IHlldCBiZWVuIHBlcnNpc3RlZCB0byB0aGUgVGFyZ2V0Q2FjaGUuXG4gKi9cbi8vIFZpc2libGUgZm9yIHRlc3RpbmcuXG4vKipcbiAqIFVucGlucyBhbGwgdGhlIGRvY3VtZW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHRhcmdldC4gSWZcbiAqIGBrZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YWAgaXMgc2V0IHRvIGZhbHNlIGFuZCBFYWdlciBHQyBlbmFibGVkLCB0aGUgbWV0aG9kXG4gKiBkaXJlY3RseSByZW1vdmVzIHRoZSBhc3NvY2lhdGVkIHRhcmdldCBkYXRhIGZyb20gdGhlIHRhcmdldCBjYWNoZS5cbiAqXG4gKiBSZWxlYXNpbmcgYSBub24tZXhpc3RpbmcgYFRhcmdldGAgaXMgYSBuby1vcC5cbiAqL1xuLy8gUE9SVElORyBOT1RFOiBga2VlcFBlcnNpc3RlZFRhcmdldERhdGFgIGlzIG11bHRpLXRhYiBvbmx5LlxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgaSA9IHIubnMuZ2V0KHQpLCBzID0gbiA/IFwicmVhZHdyaXRlXCIgOiBcInJlYWR3cml0ZS1wcmltYXJ5XCI7XG4gICAgdHJ5IHtcbiAgICAgICAgbiB8fCBhd2FpdCByLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiUmVsZWFzZSB0YXJnZXRcIiwgcywgKGUgPT4gci5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5yZW1vdmVUYXJnZXQoZSwgaSkpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmICghX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcihlKSkgdGhyb3cgZTtcbiAgICAgICAgLy8gQWxsIGByZWxlYXNlVGFyZ2V0YCBkb2VzIGlzIHJlY29yZCB0aGUgZmluYWwgbWV0YWRhdGEgc3RhdGUgZm9yIHRoZVxuICAgICAgICAvLyB0YXJnZXQsIGJ1dCB3ZSd2ZSBiZWVuIHJlY29yZGluZyB0aGlzIHBlcmlvZGljYWxseSBkdXJpbmcgdGFyZ2V0XG4gICAgICAgIC8vIGFjdGl2aXR5LiBJZiB3ZSBsb3NlIHRoaXMgd3JpdGUgdGhpcyBjb3VsZCBjYXVzZSBhIHZlcnkgc2xpZ2h0XG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIG9yZGVyIG9mIHRhcmdldCBkZWxldGlvbiBkdXJpbmcgR0MsIGJ1dCB3ZVxuICAgICAgICAvLyBkb24ndCBkZWZpbmUgZXhhY3QgTFJVIHNlbWFudGljcyBzbyB0aGlzIGlzIGFjY2VwdGFibGUuXG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxvY2FsU3RvcmVcIiwgYEZhaWxlZCB0byB1cGRhdGUgc2VxdWVuY2UgbnVtYmVycyBmb3IgdGFyZ2V0ICR7dH06ICR7ZX1gKTtcbiAgICB9XG4gICAgci5ucyA9IHIubnMucmVtb3ZlKHQpLCByLnJzLmRlbGV0ZShpLnRhcmdldCk7XG59XG5cbi8qKlxuICogUnVucyB0aGUgc3BlY2lmaWVkIHF1ZXJ5IGFnYWluc3QgdGhlIGxvY2FsIHN0b3JlIGFuZCByZXR1cm5zIHRoZSByZXN1bHRzLFxuICogcG90ZW50aWFsbHkgdGFraW5nIGFkdmFudGFnZSBvZiBxdWVyeSBkYXRhIGZyb20gcHJldmlvdXMgZXhlY3V0aW9ucyAoc3VjaFxuICogYXMgdGhlIHNldCBvZiByZW1vdGUga2V5cykuXG4gKlxuICogQHBhcmFtIHVzZVByZXZpb3VzUmVzdWx0cyAtIFdoZXRoZXIgcmVzdWx0cyBmcm9tIHByZXZpb3VzIGV4ZWN1dGlvbnMgY2FuXG4gKiBiZSB1c2VkIHRvIG9wdGltaXplIHRoaXMgcXVlcnkgZXhlY3V0aW9uLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlRXhlY3V0ZVF1ZXJ5KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgaSA9IFNuYXBzaG90VmVyc2lvbi5taW4oKSwgcyA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgIHJldHVybiByLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiRXhlY3V0ZSBxdWVyeVwiLCBcInJlYWR3cml0ZVwiLCAoLy8gVXNlIHJlYWR3cml0ZSBpbnN0ZWFkIG9mIHJlYWRvbmx5IHNvIGluZGV4ZXMgY2FuIGJlIGNyZWF0ZWRcbiAgICAvLyBVc2UgcmVhZHdyaXRlIGluc3RlYWQgb2YgcmVhZG9ubHkgc28gaW5kZXhlcyBjYW4gYmUgY3JlYXRlZFxuICAgIGUgPT4gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXRUYXJnZXREYXRhKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIGkgPSByLnJzLmdldChuKTtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gaSA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHIubnMuZ2V0KGkpKSA6IHIuUXIuZ2V0VGFyZ2V0RGF0YSh0LCBuKTtcbiAgICB9KHIsIGUsIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KHQpKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgaWYgKHQpIHJldHVybiBpID0gdC5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLCByLlFyLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsIHQudGFyZ2V0SWQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgcyA9IGU7XG4gICAgICAgIH0pKTtcbiAgICB9KSkubmV4dCgoKCkgPT4gci50cy5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsIHQsIG4gPyBpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBuID8gcyA6IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpKSkpLm5leHQoKGUgPT4gKF9fUFJJVkFURV9zZXRNYXhSZWFkVGltZShyLCBfX1BSSVZBVEVfcXVlcnlDb2xsZWN0aW9uR3JvdXAodCksIGUpLCBcbiAgICB7XG4gICAgICAgIGRvY3VtZW50czogZSxcbiAgICAgICAgaHM6IHNcbiAgICB9KSkpKSk7XG59XG5cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldENhY2hlZFRhcmdldChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KG4uUXIpLCBpID0gbi5ucy5nZXQodCk7XG4gICAgcmV0dXJuIGkgPyBQcm9taXNlLnJlc29sdmUoaS50YXJnZXQpIDogbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCB0YXJnZXQgZGF0YVwiLCBcInJlYWRvbmx5XCIsIChlID0+IHIub3QoZSwgdCkubmV4dCgoZSA9PiBlID8gZS50YXJnZXQgOiBudWxsKSkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzZXQgb2YgZG9jdW1lbnRzIHRoYXQgaGF2ZSBiZWVuIHVwZGF0ZWQgc2luY2UgdGhlIGxhc3QgY2FsbC5cbiAqIElmIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIHJldHVybnMgdGhlIHNldCBvZiBjaGFuZ2VzIHNpbmNlIGNsaWVudFxuICogaW5pdGlhbGl6YXRpb24uIEZ1cnRoZXIgaW52b2NhdGlvbnMgd2lsbCByZXR1cm4gZG9jdW1lbnQgdGhhdCBoYXZlIGNoYW5nZWRcbiAqIHNpbmNlIHRoZSBwcmlvciBjYWxsLlxuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXdEb2N1bWVudENoYW5nZXMoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gbi5zcy5nZXQodCkgfHwgU25hcHNob3RWZXJzaW9uLm1pbigpO1xuICAgIC8vIEdldCB0aGUgY3VycmVudCBtYXhpbXVtIHJlYWQgdGltZSBmb3IgdGhlIGNvbGxlY3Rpb24uIFRoaXMgc2hvdWxkIGFsd2F5c1xuICAgIC8vIGV4aXN0LCBidXQgdG8gcmVkdWNlIHRoZSBjaGFuY2UgZm9yIHJlZ3Jlc3Npb25zIHdlIGRlZmF1bHQgdG9cbiAgICAvLyBTbmFwc2hvdFZlcnNpb24uTWluKClcbiAgICAvLyBUT0RPKGluZGV4aW5nKTogQ29uc2lkZXIgcmVtb3ZpbmcgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IG5ldyBkb2N1bWVudCBjaGFuZ2VzXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gbi5vcy5nZXRBbGxGcm9tQ29sbGVjdGlvbkdyb3VwKGUsIHQsIF9fUFJJVkFURV9uZXdJbmRleE9mZnNldFN1Y2Nlc3NvckZyb21SZWFkVGltZShyLCAtMSksIFxuICAgIC8qIGxpbWl0PSAqLyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpKS50aGVuKChlID0+IChfX1BSSVZBVEVfc2V0TWF4UmVhZFRpbWUobiwgdCwgZSksIFxuICAgIGUpKSk7XG59XG5cbi8qKiBTZXRzIHRoZSBjb2xsZWN0aW9uIGdyb3VwJ3MgbWF4aW11bSByZWFkIHRpbWUgZnJvbSB0aGUgZ2l2ZW4gZG9jdW1lbnRzLiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zZXRNYXhSZWFkVGltZShlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSBlLnNzLmdldCh0KSB8fCBTbmFwc2hvdFZlcnNpb24ubWluKCk7XG4gICAgbi5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICB0LnJlYWRUaW1lLmNvbXBhcmVUbyhyKSA+IDAgJiYgKHIgPSB0LnJlYWRUaW1lKTtcbiAgICB9KSksIGUuc3Muc2V0KHQsIHIpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IHVzaW5nIHRoZSBnaXZlbiBidW5kbGUgbmFtZSwgd2hpY2ggd2lsbCBiZSB1c2VkIHRvXG4gKiBob2xkIHRoZSBrZXlzIG9mIGFsbCBkb2N1bWVudHMgZnJvbSB0aGUgYnVuZGxlIGluIHF1ZXJ5LWRvY3VtZW50IG1hcHBpbmdzLlxuICogVGhpcyBlbnN1cmVzIHRoYXQgdGhlIGxvYWRlZCBkb2N1bWVudHMgZG8gbm90IGdldCBnYXJiYWdlIGNvbGxlY3RlZFxuICogcmlnaHQgYXdheS5cbiAqL1xuLyoqXG4gKiBBcHBsaWVzIHRoZSBkb2N1bWVudHMgZnJvbSBhIGJ1bmRsZSB0byB0aGUgXCJncm91bmQtc3RhdGVcIiAocmVtb3RlKVxuICogZG9jdW1lbnRzLlxuICpcbiAqIExvY2FsRG9jdW1lbnRzIGFyZSByZS1jYWxjdWxhdGVkIGlmIHRoZXJlIGFyZSByZW1haW5pbmcgbXV0YXRpb25zIGluIHRoZVxuICogcXVldWUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQXBwbHlCdW5kbGVkRG9jdW1lbnRzKGUsIHQsIG4sIHIpIHtcbiAgICBjb25zdCBpID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgcyA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCBvID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgIGZvciAoY29uc3QgZSBvZiBuKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LlBzKGUubWV0YWRhdGEubmFtZSk7XG4gICAgICAgIGUuZG9jdW1lbnQgJiYgKHMgPSBzLmFkZChuKSk7XG4gICAgICAgIGNvbnN0IHIgPSB0LklzKGUpO1xuICAgICAgICByLnNldFJlYWRUaW1lKHQuVHMoZS5tZXRhZGF0YS5yZWFkVGltZSkpLCBvID0gby5pbnNlcnQobiwgcik7XG4gICAgfVxuICAgIGNvbnN0IF8gPSBpLm9zLm5ld0NoYW5nZUJ1ZmZlcih7XG4gICAgICAgIHRyYWNrUmVtb3ZhbHM6ICEwXG4gICAgfSksIGEgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFsbG9jYXRlVGFyZ2V0KGksIGZ1bmN0aW9uIF9fUFJJVkFURV91bWJyZWxsYVRhcmdldChlKSB7XG4gICAgICAgIC8vIEl0IGlzIE9LIHRoYXQgdGhlIHBhdGggdXNlZCBmb3IgdGhlIHF1ZXJ5IGlzIG5vdCB2YWxpZCwgYmVjYXVzZSB0aGlzIHdpbGxcbiAgICAgICAgLy8gbm90IGJlIHJlYWQgYW5kIHF1ZXJpZWQuXG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChfX1BSSVZBVEVfbmV3UXVlcnlGb3JQYXRoKFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKGBfX2J1bmRsZV9fL2RvY3MvJHtlfWApKSk7XG4gICAgfShyKSk7XG4gICAgLy8gQWxsb2NhdGVzIGEgdGFyZ2V0IHRvIGhvbGQgYWxsIGRvY3VtZW50IGtleXMgZnJvbSB0aGUgYnVuZGxlLCBzdWNoIHRoYXRcbiAgICAvLyB0aGV5IHdpbGwgbm90IGdldCBnYXJiYWdlIGNvbGxlY3RlZCByaWdodCBhd2F5LlxuICAgICAgICByZXR1cm4gaS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkFwcGx5IGJ1bmRsZSBkb2N1bWVudHNcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gX19QUklWQVRFX3BvcHVsYXRlRG9jdW1lbnRDaGFuZ2VCdWZmZXIoZSwgXywgbykubmV4dCgodCA9PiAoXy5hcHBseShlKSwgXG4gICAgdCkpKS5uZXh0KCh0ID0+IGkuUXIucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgYS50YXJnZXRJZCkubmV4dCgoKCkgPT4gaS5Rci5hZGRNYXRjaGluZ0tleXMoZSwgcywgYS50YXJnZXRJZCkpKS5uZXh0KCgoKSA9PiBpLmxvY2FsRG9jdW1lbnRzLmdldExvY2FsVmlld09mRG9jdW1lbnRzKGUsIHQuY3MsIHQubHMpKSkubmV4dCgoKCkgPT4gdC5jcykpKSkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBvZiBhIGJvb2xlYW4gdG8gaW5kaWNhdGUgaWYgdGhlIGdpdmVuIGJ1bmRsZSBoYXMgYWxyZWFkeVxuICogYmVlbiBsb2FkZWQgYW5kIHRoZSBjcmVhdGUgdGltZSBpcyBuZXdlciB0aGFuIHRoZSBjdXJyZW50IGxvYWRpbmcgYnVuZGxlLlxuICovXG4vKipcbiAqIFNhdmVzIHRoZSBnaXZlbiBgTmFtZWRRdWVyeWAgdG8gbG9jYWwgcGVyc2lzdGVuY2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlU2F2ZU5hbWVkUXVlcnkoZSwgdCwgbiA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpKSB7XG4gICAgLy8gQWxsb2NhdGUgYSB0YXJnZXQgZm9yIHRoZSBuYW1lZCBxdWVyeSBzdWNoIHRoYXQgaXQgY2FuIGJlIHJlc3VtZWRcbiAgICAvLyBmcm9tIGFzc29jaWF0ZWQgcmVhZCB0aW1lIGlmIHVzZXJzIHVzZSBpdCB0byBsaXN0ZW4uXG4gICAgLy8gTk9URTogdGhpcyBhbHNvIG1lYW5zIGlmIG5vIGNvcnJlc3BvbmRpbmcgdGFyZ2V0IGV4aXN0cywgdGhlIG5ldyB0YXJnZXRcbiAgICAvLyB3aWxsIHJlbWFpbiBhY3RpdmUgYW5kIHdpbGwgbm90IGdldCBjb2xsZWN0ZWQsIHVubGVzcyB1c2VycyBoYXBwZW4gdG9cbiAgICAvLyB1bmxpc3RlbiB0aGUgcXVlcnkgc29tZWhvdy5cbiAgICBjb25zdCByID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBbGxvY2F0ZVRhcmdldChlLCBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChfX1BSSVZBVEVfZnJvbUJ1bmRsZWRRdWVyeSh0LmJ1bmRsZWRRdWVyeSkpKSwgaSA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIGkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJTYXZlIG5hbWVkIHF1ZXJ5XCIsIFwicmVhZHdyaXRlXCIsIChlID0+IHtcbiAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LnJlYWRUaW1lKTtcbiAgICAgICAgLy8gU2ltcGx5IHNhdmUgdGhlIHF1ZXJ5IGl0c2VsZiBpZiBpdCBpcyBvbGRlciB0aGFuIHdoYXQgdGhlIFNESyBhbHJlYWR5XG4gICAgICAgIC8vIGhhcy5cbiAgICAgICAgICAgICAgICBpZiAoci5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKHMpID49IDApIHJldHVybiBpLiRyLnNhdmVOYW1lZFF1ZXJ5KGUsIHQpO1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgdGFyZ2V0IGRhdGEgYmVjYXVzZSB0aGUgcXVlcnkgZnJvbSB0aGUgYnVuZGxlIGlzIG5ld2VyLlxuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSByLndpdGhSZXN1bWVUb2tlbihCeXRlU3RyaW5nLkVNUFRZX0JZVEVfU1RSSU5HLCBzKTtcbiAgICAgICAgcmV0dXJuIGkubnMgPSBpLm5zLmluc2VydChvLnRhcmdldElkLCBvKSwgaS5Rci51cGRhdGVUYXJnZXREYXRhKGUsIG8pLm5leHQoKCgpID0+IGkuUXIucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgci50YXJnZXRJZCkpKS5uZXh0KCgoKSA9PiBpLlFyLmFkZE1hdGNoaW5nS2V5cyhlLCBuLCByLnRhcmdldElkKSkpLm5leHQoKCgpID0+IGkuJHIuc2F2ZU5hbWVkUXVlcnkoZSwgdCkpKTtcbiAgICB9KSk7XG59XG5cbi8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgYSBjbGllbnQgc3RhdGUgaW4gV2ViU3RvcmFnZSAqL1xuZnVuY3Rpb24gY3JlYXRlV2ViU3RvcmFnZUNsaWVudFN0YXRlS2V5KGUsIHQpIHtcbiAgICByZXR1cm4gYGZpcmVzdG9yZV9jbGllbnRzXyR7ZX1fJHt0fWA7XG59XG5cbi8vIFRoZSBmb3JtYXQgb2YgdGhlIFdlYlN0b3JhZ2Uga2V5IHRoYXQgc3RvcmVzIHRoZSBtdXRhdGlvbiBzdGF0ZSBpczpcbi8vICAgICBmaXJlc3RvcmVfbXV0YXRpb25zXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxiYXRjaF9pZD5cbi8vICAgICAoZm9yIHVuYXV0aGVudGljYXRlZCB1c2Vycylcbi8vIG9yOiBmaXJlc3RvcmVfbXV0YXRpb25zXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxiYXRjaF9pZD5fPHVzZXJfdWlkPlxuXG4vLyAndXNlcl91aWQnIGlzIGxhc3QgdG8gYXZvaWQgbmVlZGluZyB0byBlc2NhcGUgJ18nIGNoYXJhY3RlcnMgdGhhdCBpdCBtaWdodFxuLy8gY29udGFpbi5cbi8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgYSBtdXRhdGlvbiBiYXRjaCBpbiBXZWJTdG9yYWdlICovXG5mdW5jdGlvbiBjcmVhdGVXZWJTdG9yYWdlTXV0YXRpb25CYXRjaEtleShlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSBgZmlyZXN0b3JlX211dGF0aW9uc18ke2V9XyR7bn1gO1xuICAgIHJldHVybiB0LmlzQXV0aGVudGljYXRlZCgpICYmIChyICs9IGBfJHt0LnVpZH1gKSwgcjtcbn1cblxuLy8gVGhlIGZvcm1hdCBvZiB0aGUgV2ViU3RvcmFnZSBrZXkgdGhhdCBzdG9yZXMgYSBxdWVyeSB0YXJnZXQncyBtZXRhZGF0YSBpczpcbi8vICAgICBmaXJlc3RvcmVfdGFyZ2V0c188cGVyc2lzdGVuY2VfcHJlZml4Pl88dGFyZ2V0X2lkPlxuLyoqIEFzc2VtYmxlcyB0aGUga2V5IGZvciBhIHF1ZXJ5IHN0YXRlIGluIFdlYlN0b3JhZ2UgKi9cbmZ1bmN0aW9uIGNyZWF0ZVdlYlN0b3JhZ2VRdWVyeVRhcmdldE1ldGFkYXRhS2V5KGUsIHQpIHtcbiAgICByZXR1cm4gYGZpcmVzdG9yZV90YXJnZXRzXyR7ZX1fJHt0fWA7XG59XG5cbi8vIFRoZSBXZWJTdG9yYWdlIHByZWZpeCB0aGF0IHN0b3JlcyB0aGUgcHJpbWFyeSB0YWIncyBvbmxpbmUgc3RhdGUuIFRoZVxuLy8gZm9ybWF0IG9mIHRoZSBrZXkgaXM6XG4vLyAgICAgZmlyZXN0b3JlX29ubGluZV9zdGF0ZV88cGVyc2lzdGVuY2VfcHJlZml4PlxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgYSBtdXRhdGlvbiBiYXRjaCwgaW5jbHVkaW5nIGl0cyB1c2VyIElELCBiYXRjaCBJRCBhbmRcbiAqIHdoZXRoZXIgdGhlIGJhdGNoIGlzICdwZW5kaW5nJywgJ2Fja25vd2xlZGdlZCcgb3IgJ3JlamVjdGVkJy5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY2xhc3MgX19QUklWQVRFX011dGF0aW9uTWV0YWRhdGEge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgdGhpcy51c2VyID0gZSwgdGhpcy5iYXRjaElkID0gdCwgdGhpcy5zdGF0ZSA9IG4sIHRoaXMuZXJyb3IgPSByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBNdXRhdGlvbk1ldGFkYXRhIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gaW4gV2ViU3RvcmFnZS5cbiAgICAgKiBMb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBudWxsIGlmIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGEgaXMgbm90IHZhbGlkLlxuICAgICAqLyAgICBzdGF0aWMgRXMoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gSlNPTi5wYXJzZShuKTtcbiAgICAgICAgbGV0IGksIHMgPSBcIm9iamVjdFwiID09IHR5cGVvZiByICYmIC0xICE9PSBbIFwicGVuZGluZ1wiLCBcImFja25vd2xlZGdlZFwiLCBcInJlamVjdGVkXCIgXS5pbmRleE9mKHIuc3RhdGUpICYmICh2b2lkIDAgPT09IHIuZXJyb3IgfHwgXCJvYmplY3RcIiA9PSB0eXBlb2Ygci5lcnJvcik7XG4gICAgICAgIHJldHVybiBzICYmIHIuZXJyb3IgJiYgKHMgPSBcInN0cmluZ1wiID09IHR5cGVvZiByLmVycm9yLm1lc3NhZ2UgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5lcnJvci5jb2RlLCBcbiAgICAgICAgcyAmJiAoaSA9IG5ldyBGaXJlc3RvcmVFcnJvcihyLmVycm9yLmNvZGUsIHIuZXJyb3IubWVzc2FnZSkpKSwgcyA/IG5ldyBfX1BSSVZBVEVfTXV0YXRpb25NZXRhZGF0YShlLCB0LCByLnN0YXRlLCBpKSA6IChfX1BSSVZBVEVfbG9nRXJyb3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIG11dGF0aW9uIHN0YXRlIGZvciBJRCAnJHt0fSc6ICR7bn1gKSwgXG4gICAgICAgIG51bGwpO1xuICAgIH1cbiAgICBkcygpIHtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yICYmIChlLmVycm9yID0ge1xuICAgICAgICAgICAgY29kZTogdGhpcy5lcnJvci5jb2RlLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5lcnJvci5tZXNzYWdlXG4gICAgICAgIH0pLCBKU09OLnN0cmluZ2lmeShlKTtcbiAgICB9XG59XG5cbi8qKlxuICogSG9sZHMgdGhlIHN0YXRlIG9mIGEgcXVlcnkgdGFyZ2V0LCBpbmNsdWRpbmcgaXRzIHRhcmdldCBJRCBhbmQgd2hldGhlciB0aGVcbiAqIHRhcmdldCBpcyAnbm90LWN1cnJlbnQnLCAnY3VycmVudCcgb3IgJ3JlamVjdGVkJy5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY2xhc3MgX19QUklWQVRFX1F1ZXJ5VGFyZ2V0TWV0YWRhdGEge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IGUsIHRoaXMuc3RhdGUgPSB0LCB0aGlzLmVycm9yID0gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgUXVlcnlUYXJnZXRNZXRhZGF0YSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uIGluIFdlYlN0b3JhZ2UuXG4gICAgICogTG9ncyBhIHdhcm5pbmcgYW5kIHJldHVybnMgbnVsbCBpZiB0aGUgZm9ybWF0IG9mIHRoZSBkYXRhIGlzIG5vdCB2YWxpZC5cbiAgICAgKi8gICAgc3RhdGljIEVzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IEpTT04ucGFyc2UodCk7XG4gICAgICAgIGxldCByLCBpID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgbiAmJiAtMSAhPT0gWyBcIm5vdC1jdXJyZW50XCIsIFwiY3VycmVudFwiLCBcInJlamVjdGVkXCIgXS5pbmRleE9mKG4uc3RhdGUpICYmICh2b2lkIDAgPT09IG4uZXJyb3IgfHwgXCJvYmplY3RcIiA9PSB0eXBlb2Ygbi5lcnJvcik7XG4gICAgICAgIHJldHVybiBpICYmIG4uZXJyb3IgJiYgKGkgPSBcInN0cmluZ1wiID09IHR5cGVvZiBuLmVycm9yLm1lc3NhZ2UgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygbi5lcnJvci5jb2RlLCBcbiAgICAgICAgaSAmJiAociA9IG5ldyBGaXJlc3RvcmVFcnJvcihuLmVycm9yLmNvZGUsIG4uZXJyb3IubWVzc2FnZSkpKSwgaSA/IG5ldyBfX1BSSVZBVEVfUXVlcnlUYXJnZXRNZXRhZGF0YShlLCBuLnN0YXRlLCByKSA6IChfX1BSSVZBVEVfbG9nRXJyb3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIHRhcmdldCBzdGF0ZSBmb3IgSUQgJyR7ZX0nOiAke3R9YCksIFxuICAgICAgICBudWxsKTtcbiAgICB9XG4gICAgZHMoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB7XG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHVwZGF0ZVRpbWVNczogRGF0ZS5ub3coKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvciAmJiAoZS5lcnJvciA9IHtcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuZXJyb3IubWVzc2FnZVxuICAgICAgICB9KSwgSlNPTi5zdHJpbmdpZnkoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyB0aGUgaW1tdXRhYmxlIENsaWVudFN0YXRlIGZvciBhIGNsaWVudCByZWFkIGZyb21cbiAqIFdlYlN0b3JhZ2UsIGNvbnRhaW5pbmcgdGhlIGxpc3Qgb2YgYWN0aXZlIHF1ZXJ5IHRhcmdldHMuXG4gKi8gY2xhc3MgX19QUklWQVRFX1JlbW90ZUNsaWVudFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBlLCB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIFJlbW90ZUNsaWVudFN0YXRlIGZyb20gdGhlIEpTT04gcmVwcmVzZW50YXRpb24gaW4gV2ViU3RvcmFnZS5cbiAgICAgKiBMb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBudWxsIGlmIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGEgaXMgbm90IHZhbGlkLlxuICAgICAqLyAgICBzdGF0aWMgRXMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gSlNPTi5wYXJzZSh0KTtcbiAgICAgICAgbGV0IHIgPSBcIm9iamVjdFwiID09IHR5cGVvZiBuICYmIG4uYWN0aXZlVGFyZ2V0SWRzIGluc3RhbmNlb2YgQXJyYXksIGkgPSBfX1BSSVZBVEVfdGFyZ2V0SWRTZXQoKTtcbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IHIgJiYgZSA8IG4uYWN0aXZlVGFyZ2V0SWRzLmxlbmd0aDsgKytlKSByID0gaXNTYWZlSW50ZWdlcihuLmFjdGl2ZVRhcmdldElkc1tlXSksIFxuICAgICAgICBpID0gaS5hZGQobi5hY3RpdmVUYXJnZXRJZHNbZV0pO1xuICAgICAgICByZXR1cm4gciA/IG5ldyBfX1BSSVZBVEVfUmVtb3RlQ2xpZW50U3RhdGUoZSwgaSkgOiAoX19QUklWQVRFX2xvZ0Vycm9yKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgYEZhaWxlZCB0byBwYXJzZSBjbGllbnQgZGF0YSBmb3IgaW5zdGFuY2UgJyR7ZX0nOiAke3R9YCksIFxuICAgICAgICBudWxsKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIHRoZSBvbmxpbmUgc3RhdGUgZm9yIGFsbCBjbGllbnRzIHBhcnRpY2lwYXRpbmcgaW5cbiAqIG11bHRpLXRhYi4gVGhlIG9ubGluZSBzdGF0ZSBpcyBvbmx5IHdyaXR0ZW4gdG8gYnkgdGhlIHByaW1hcnkgY2xpZW50LCBhbmRcbiAqIHVzZWQgaW4gc2Vjb25kYXJ5IGNsaWVudHMgdG8gdXBkYXRlIHRoZWlyIHF1ZXJ5IHZpZXdzLlxuICovIGNsYXNzIF9fUFJJVkFURV9TaGFyZWRPbmxpbmVTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmNsaWVudElkID0gZSwgdGhpcy5vbmxpbmVTdGF0ZSA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIFNoYXJlZE9ubGluZVN0YXRlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gaW4gV2ViU3RvcmFnZS5cbiAgICAgKiBMb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBudWxsIGlmIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGEgaXMgbm90IHZhbGlkLlxuICAgICAqLyAgICBzdGF0aWMgRXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gSlNPTi5wYXJzZShlKTtcbiAgICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT0gdHlwZW9mIHQgJiYgLTEgIT09IFsgXCJVbmtub3duXCIsIFwiT25saW5lXCIsIFwiT2ZmbGluZVwiIF0uaW5kZXhPZih0Lm9ubGluZVN0YXRlKSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiB0LmNsaWVudElkID8gbmV3IF9fUFJJVkFURV9TaGFyZWRPbmxpbmVTdGF0ZSh0LmNsaWVudElkLCB0Lm9ubGluZVN0YXRlKSA6IChfX1BSSVZBVEVfbG9nRXJyb3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIG9ubGluZSBzdGF0ZTogJHtlfWApLCBcbiAgICAgICAgbnVsbCk7XG4gICAgfVxufVxuXG4vKipcbiAqIE1ldGFkYXRhIHN0YXRlIG9mIHRoZSBsb2NhbCBjbGllbnQuIFVubGlrZSBgUmVtb3RlQ2xpZW50U3RhdGVgLCB0aGlzIGNsYXNzIGlzXG4gKiBtdXRhYmxlIGFuZCBrZWVwcyB0cmFjayBvZiBhbGwgcGVuZGluZyBtdXRhdGlvbnMsIHdoaWNoIGFsbG93cyB1cyB0b1xuICogdXBkYXRlIHRoZSByYW5nZSBvZiBwZW5kaW5nIG11dGF0aW9uIGJhdGNoIElEcyBhcyBuZXcgbXV0YXRpb25zIGFyZSBhZGRlZCBvclxuICogcmVtb3ZlZC5cbiAqXG4gKiBUaGUgZGF0YSBpbiBgTG9jYWxDbGllbnRTdGF0ZWAgaXMgbm90IHJlYWQgZnJvbSBXZWJTdG9yYWdlIGFuZCBpbnN0ZWFkXG4gKiB1cGRhdGVkIHZpYSBpdHMgaW5zdGFuY2UgbWV0aG9kcy4gVGhlIHVwZGF0ZWQgc3RhdGUgY2FuIGJlIHNlcmlhbGl6ZWQgdmlhXG4gKiBgdG9XZWJTdG9yYWdlSlNPTigpYC5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZy5cbmNsYXNzIF9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVUYXJnZXRJZHMgPSBfX1BSSVZBVEVfdGFyZ2V0SWRTZXQoKTtcbiAgICB9XG4gICAgQXMoZSkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IHRoaXMuYWN0aXZlVGFyZ2V0SWRzLmFkZChlKTtcbiAgICB9XG4gICAgUnMoZSkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IHRoaXMuYWN0aXZlVGFyZ2V0SWRzLmRlbGV0ZShlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhpcyBlbnRyeSBpbnRvIGEgSlNPTi1lbmNvZGVkIGZvcm1hdCB3ZSBjYW4gdXNlIGZvciBXZWJTdG9yYWdlLlxuICAgICAqIERvZXMgbm90IGVuY29kZSBgY2xpZW50SWRgIGFzIGl0IGlzIHBhcnQgb2YgdGhlIGtleSBpbiBXZWJTdG9yYWdlLlxuICAgICAqLyAgICBkcygpIHtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIGFjdGl2ZVRhcmdldElkczogdGhpcy5hY3RpdmVUYXJnZXRJZHMudG9BcnJheSgpLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlKTtcbiAgICB9XG59XG5cbi8qKlxuICogYFdlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZWAgdXNlcyBXZWJTdG9yYWdlICh3aW5kb3cubG9jYWxTdG9yYWdlKSBhcyB0aGVcbiAqIGJhY2tpbmcgc3RvcmUgZm9yIHRoZSBTaGFyZWRDbGllbnRTdGF0ZS4gSXQga2VlcHMgdHJhY2sgb2YgYWxsIGFjdGl2ZVxuICogY2xpZW50cyBhbmQgc3VwcG9ydHMgbW9kaWZpY2F0aW9ucyBvZiB0aGUgbG9jYWwgY2xpZW50J3MgZGF0YS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIHRoaXMud2luZG93ID0gZSwgdGhpcy5vaSA9IHQsIHRoaXMucGVyc2lzdGVuY2VLZXkgPSBuLCB0aGlzLlZzID0gciwgdGhpcy5zeW5jRW5naW5lID0gbnVsbCwgXG4gICAgICAgIHRoaXMub25saW5lU3RhdGVIYW5kbGVyID0gbnVsbCwgdGhpcy5zZXF1ZW5jZU51bWJlckhhbmRsZXIgPSBudWxsLCB0aGlzLmZzID0gdGhpcy5ncy5iaW5kKHRoaXMpLCBcbiAgICAgICAgdGhpcy5wcyA9IG5ldyBTb3J0ZWRNYXAoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpLCB0aGlzLnN0YXJ0ZWQgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYXB0dXJlcyBXZWJTdG9yYWdlIGV2ZW50cyB0aGF0IG9jY3VyIGJlZm9yZSBgc3RhcnQoKWAgaXMgY2FsbGVkLiBUaGVzZVxuICAgICAgICAgKiBldmVudHMgYXJlIHJlcGxheWVkIG9uY2UgYFdlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZWAgaXMgc3RhcnRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueXMgPSBbXTtcbiAgICAgICAgLy8gRXNjYXBlIHRoZSBzcGVjaWFsIGNoYXJhY3RlcnMgbWVudGlvbmVkIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9uc1xuICAgICAgICBjb25zdCBzID0gbi5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHRoaXMud2luZG93LmxvY2FsU3RvcmFnZSwgdGhpcy5jdXJyZW50VXNlciA9IGksIHRoaXMud3MgPSBjcmVhdGVXZWJTdG9yYWdlQ2xpZW50U3RhdGVLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgdGhpcy5WcyksIFxuICAgICAgICB0aGlzLlNzID0gXG4gICAgICAgIC8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgdGhlIGN1cnJlbnQgc2VxdWVuY2UgbnVtYmVyLiAqL1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVXZWJTdG9yYWdlU2VxdWVuY2VOdW1iZXJLZXkoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGBmaXJlc3RvcmVfc2VxdWVuY2VfbnVtYmVyXyR7ZX1gO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovICh0aGlzLnBlcnNpc3RlbmNlS2V5KSwgdGhpcy5wcyA9IHRoaXMucHMuaW5zZXJ0KHRoaXMuVnMsIG5ldyBfX1BSSVZBVEVfTG9jYWxDbGllbnRTdGF0ZSksIFxuICAgICAgICB0aGlzLmJzID0gbmV3IFJlZ0V4cChgXmZpcmVzdG9yZV9jbGllbnRzXyR7c31fKFteX10qKSRgKSwgdGhpcy5EcyA9IG5ldyBSZWdFeHAoYF5maXJlc3RvcmVfbXV0YXRpb25zXyR7c31fKFxcXFxkKykoPzpfKC4qKSk/JGApLCBcbiAgICAgICAgdGhpcy5DcyA9IG5ldyBSZWdFeHAoYF5maXJlc3RvcmVfdGFyZ2V0c18ke3N9XyhcXFxcZCspJGApLCB0aGlzLnZzID0gXG4gICAgICAgIC8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgdGhlIG9ubGluZSBzdGF0ZSBvZiB0aGUgcHJpbWFyeSB0YWIuICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVdlYlN0b3JhZ2VPbmxpbmVTdGF0ZUtleShlKSB7XG4gICAgICAgICAgICByZXR1cm4gYGZpcmVzdG9yZV9vbmxpbmVfc3RhdGVfJHtlfWA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIFdlYlN0b3JhZ2UgcHJlZml4IHRoYXQgcGxheXMgYXMgYSBldmVudCB0byBpbmRpY2F0ZSB0aGUgcmVtb3RlIGRvY3VtZW50c1xuICAgICAgICAvLyBtaWdodCBoYXZlIGNoYW5nZWQgZHVlIHRvIHNvbWUgc2Vjb25kYXJ5IHRhYnMgbG9hZGluZyBhIGJ1bmRsZS5cbiAgICAgICAgLy8gZm9ybWF0IG9mIHRoZSBrZXkgaXM6XG4gICAgICAgIC8vICAgICBmaXJlc3RvcmVfYnVuZGxlX2xvYWRlZF92Ml88cGVyc2lzdGVuY2VLZXk+XG4gICAgICAgIC8vIFRoZSB2ZXJzaW9uIGVuZGluZyB3aXRoIFwidjJcIiBzdG9yZXMgdGhlIGxpc3Qgb2YgbW9kaWZpZWQgY29sbGVjdGlvbiBncm91cHMuXG4gICAgICAgICh0aGlzLnBlcnNpc3RlbmNlS2V5KSwgdGhpcy5GcyA9IGZ1bmN0aW9uIGNyZWF0ZUJ1bmRsZUxvYWRlZEtleShlKSB7XG4gICAgICAgICAgICByZXR1cm4gYGZpcmVzdG9yZV9idW5kbGVfbG9hZGVkX3YyXyR7ZX1gO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBXZWJTdG9yYWdlIGtleSBwcmVmaXggZm9yIHRoZSBrZXkgdGhhdCBzdG9yZXMgdGhlIGxhc3Qgc2VxdWVuY2UgbnVtYmVyIGFsbG9jYXRlZC4gVGhlIGtleVxuICAgICAgICAvLyBsb29rcyBsaWtlICdmaXJlc3RvcmVfc2VxdWVuY2VfbnVtYmVyXzxwZXJzaXN0ZW5jZV9wcmVmaXg+Jy5cbiAgICAgICAgKHRoaXMucGVyc2lzdGVuY2VLZXkpLCBcbiAgICAgICAgLy8gUmF0aGVyIHRoYW4gYWRkaW5nIHRoZSBzdG9yYWdlIG9ic2VydmVyIGR1cmluZyBzdGFydCgpLCB3ZSBhZGQgdGhlXG4gICAgICAgIC8vIHN0b3JhZ2Ugb2JzZXJ2ZXIgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBUaGlzIGVuc3VyZXMgdGhhdCB3ZSBjb2xsZWN0XG4gICAgICAgIC8vIGV2ZW50cyBiZWZvcmUgb3RoZXIgY29tcG9uZW50cyBwb3B1bGF0ZSB0aGVpciBpbml0aWFsIHN0YXRlIChkdXJpbmcgdGhlaXJcbiAgICAgICAgLy8gcmVzcGVjdGl2ZSBzdGFydCgpIGNhbGxzKS4gT3RoZXJ3aXNlLCB3ZSBtaWdodCBmb3IgZXhhbXBsZSBtaXNzIGFcbiAgICAgICAgLy8gbXV0YXRpb24gdGhhdCBpcyBhZGRlZCBhZnRlciBMb2NhbFN0b3JlJ3Mgc3RhcnQoKSBwcm9jZXNzZWQgdGhlIGV4aXN0aW5nXG4gICAgICAgIC8vIG11dGF0aW9ucyBidXQgYmVmb3JlIHdlIG9ic2VydmUgV2ViU3RvcmFnZSBldmVudHMuXG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIHRoaXMuZnMpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyAndHJ1ZScgaWYgV2ViU3RvcmFnZSBpcyBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuICovICAgIHN0YXRpYyBEKGUpIHtcbiAgICAgICAgcmV0dXJuICEoIWUgfHwgIWUubG9jYWxTdG9yYWdlKTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIC8vIFJldHJpZXZlIHRoZSBsaXN0IG9mIGV4aXN0aW5nIGNsaWVudHMgdG8gYmFja2ZpbGwgdGhlIGRhdGEgaW5cbiAgICAgICAgLy8gU2hhcmVkQ2xpZW50U3RhdGUuXG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLnN5bmNFbmdpbmUuQmkoKTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgICAgIGlmICh0ID09PSB0aGlzLlZzKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLmdldEl0ZW0oY3JlYXRlV2ViU3RvcmFnZUNsaWVudFN0YXRlS2V5KHRoaXMucGVyc2lzdGVuY2VLZXksIHQpKTtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9SZW1vdGVDbGllbnRTdGF0ZS5Fcyh0LCBlKTtcbiAgICAgICAgICAgICAgICBuICYmICh0aGlzLnBzID0gdGhpcy5wcy5pbnNlcnQobi5jbGllbnRJZCwgbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuTXMoKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYW4gZXhpc3Rpbmcgb25saW5lIHN0YXRlIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBoYW5kbGVyXG4gICAgICAgIC8vIGlmIGFwcGxpY2FibGUuXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnZzKTtcbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLnhzKHQpO1xuICAgICAgICAgICAgZSAmJiB0aGlzLk9zKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLnlzKSB0aGlzLmdzKGUpO1xuICAgICAgICB0aGlzLnlzID0gW10sIFxuICAgICAgICAvLyBSZWdpc3RlciBhIHdpbmRvdyB1bmxvYWQgaG9vayB0byByZW1vdmUgdGhlIGNsaWVudCBtZXRhZGF0YSBlbnRyeSBmcm9tXG4gICAgICAgIC8vIFdlYlN0b3JhZ2UgZXZlbiBpZiBgc2h1dGRvd24oKWAgd2FzIG5vdCBjYWxsZWQuXG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCAoKCkgPT4gdGhpcy5zaHV0ZG93bigpKSksIHRoaXMuc3RhcnRlZCA9ICEwO1xuICAgIH1cbiAgICB3cml0ZVNlcXVlbmNlTnVtYmVyKGUpIHtcbiAgICAgICAgdGhpcy5zZXRJdGVtKHRoaXMuU3MsIEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICB9XG4gICAgZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Ocyh0aGlzLnBzKTtcbiAgICB9XG4gICAgaXNBY3RpdmVRdWVyeVRhcmdldChlKSB7XG4gICAgICAgIGxldCB0ID0gITE7XG4gICAgICAgIHJldHVybiB0aGlzLnBzLmZvckVhY2goKChuLCByKSA9PiB7XG4gICAgICAgICAgICByLmFjdGl2ZVRhcmdldElkcy5oYXMoZSkgJiYgKHQgPSAhMCk7XG4gICAgICAgIH0pKSwgdDtcbiAgICB9XG4gICAgYWRkUGVuZGluZ011dGF0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5McyhlLCBcInBlbmRpbmdcIik7XG4gICAgfVxuICAgIHVwZGF0ZU11dGF0aW9uU3RhdGUoZSwgdCwgbikge1xuICAgICAgICB0aGlzLkxzKGUsIHQsIG4pLCBcbiAgICAgICAgLy8gT25jZSBhIGZpbmFsIG11dGF0aW9uIHJlc3VsdCBpcyBvYnNlcnZlZCBieSBvdGhlciBjbGllbnRzLCB0aGV5IG5vIGxvbmdlclxuICAgICAgICAvLyBhY2Nlc3MgdGhlIG11dGF0aW9uJ3MgbWV0YWRhdGEgZW50cnkuIFNpbmNlIFdlYlN0b3JhZ2UgcmVwbGF5cyBldmVudHNcbiAgICAgICAgLy8gaW4gb3JkZXIsIGl0IGlzIHNhZmUgdG8gZGVsZXRlIHRoZSBlbnRyeSByaWdodCBhZnRlciB1cGRhdGluZyBpdC5cbiAgICAgICAgdGhpcy5CcyhlKTtcbiAgICB9XG4gICAgYWRkTG9jYWxRdWVyeVRhcmdldChlKSB7XG4gICAgICAgIGxldCB0ID0gXCJub3QtY3VycmVudFwiO1xuICAgICAgICAvLyBMb29rdXAgYW4gZXhpc3RpbmcgcXVlcnkgc3RhdGUgaWYgdGhlIHRhcmdldCBJRCB3YXMgYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgICAgIC8vIGJ5IGFub3RoZXIgdGFiXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmVRdWVyeVRhcmdldChlKSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGNyZWF0ZVdlYlN0b3JhZ2VRdWVyeVRhcmdldE1ldGFkYXRhS2V5KHRoaXMucGVyc2lzdGVuY2VLZXksIGUpKTtcbiAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9RdWVyeVRhcmdldE1ldGFkYXRhLkVzKGUsIG4pO1xuICAgICAgICAgICAgICAgIHIgJiYgKHQgPSByLnN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5rcy5BcyhlKSwgdGhpcy5NcygpLCB0O1xuICAgIH1cbiAgICByZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgdGhpcy5rcy5ScyhlKSwgdGhpcy5NcygpO1xuICAgIH1cbiAgICBpc0xvY2FsUXVlcnlUYXJnZXQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5rcy5hY3RpdmVUYXJnZXRJZHMuaGFzKGUpO1xuICAgIH1cbiAgICBjbGVhclF1ZXJ5U3RhdGUoZSkge1xuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0oY3JlYXRlV2ViU3RvcmFnZVF1ZXJ5VGFyZ2V0TWV0YWRhdGFLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgZSkpO1xuICAgIH1cbiAgICB1cGRhdGVRdWVyeVN0YXRlKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5xcyhlLCB0LCBuKTtcbiAgICB9XG4gICAgaGFuZGxlVXNlckNoYW5nZShlLCB0LCBuKSB7XG4gICAgICAgIHQuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLkJzKGUpO1xuICAgICAgICB9KSksIHRoaXMuY3VycmVudFVzZXIgPSBlLCBuLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hZGRQZW5kaW5nTXV0YXRpb24oZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2V0T25saW5lU3RhdGUoZSkge1xuICAgICAgICB0aGlzLlFzKGUpO1xuICAgIH1cbiAgICBub3RpZnlCdW5kbGVMb2FkZWQoZSkge1xuICAgICAgICB0aGlzLktzKGUpO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5zdGFydGVkICYmICh0aGlzLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCB0aGlzLmZzKSwgdGhpcy5yZW1vdmVJdGVtKHRoaXMud3MpLCBcbiAgICAgICAgdGhpcy5zdGFydGVkID0gITEpO1xuICAgIH1cbiAgICBnZXRJdGVtKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGUpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgXCJSRUFEXCIsIGUsIHQpLCB0O1xuICAgIH1cbiAgICBzZXRJdGVtKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgXCJTRVRcIiwgZSwgdCksIHRoaXMuc3RvcmFnZS5zZXRJdGVtKGUsIHQpO1xuICAgIH1cbiAgICByZW1vdmVJdGVtKGUpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgXCJSRU1PVkVcIiwgZSksIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGUpO1xuICAgIH1cbiAgICBncyhlKSB7XG4gICAgICAgIC8vIE5vdGU6IFRoZSBmdW5jdGlvbiBpcyB0eXBlZCB0byB0YWtlIEV2ZW50IHRvIGJlIGludGVyZmFjZS1jb21wYXRpYmxlIHdpdGhcbiAgICAgICAgLy8gYFdpbmRvdy5hZGRFdmVudExpc3RlbmVyYC5cbiAgICAgICAgY29uc3QgdCA9IGU7XG4gICAgICAgIGlmICh0LnN0b3JhZ2VBcmVhID09PSB0aGlzLnN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfbG9nRGVidWcoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBcIkVWRU5UXCIsIHQua2V5LCB0Lm5ld1ZhbHVlKSwgdC5rZXkgPT09IHRoaXMud3MpIHJldHVybiB2b2lkIF9fUFJJVkFURV9sb2dFcnJvcihcIlJlY2VpdmVkIFdlYlN0b3JhZ2Ugbm90aWZpY2F0aW9uIGZvciBsb2NhbCBjaGFuZ2UuIEFub3RoZXIgY2xpZW50IG1pZ2h0IGhhdmUgZ2FyYmFnZS1jb2xsZWN0ZWQgb3VyIHN0YXRlXCIpO1xuICAgICAgICAgICAgdGhpcy5vaS5lbnF1ZXVlUmV0cnlhYmxlKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gdC5rZXkpIGlmICh0aGlzLmJzLnRlc3QodC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSB0Lm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuJHModC5rZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlVzKGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLldzKHQua2V5LCB0Lm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkgcmV0dXJuIHRoaXMuVXMoZS5jbGllbnRJZCwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5Ecy50ZXN0KHQua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHQubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5Hcyh0LmtleSwgdC5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHJldHVybiB0aGlzLnpzKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuQ3MudGVzdCh0LmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSB0Lm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuanModC5rZXksIHQubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKSByZXR1cm4gdGhpcy5IcyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0LmtleSA9PT0gdGhpcy52cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHQubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy54cyh0Lm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkgcmV0dXJuIHRoaXMuT3MoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodC5rZXkgPT09IHRoaXMuU3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVdlYlN0b3JhZ2VTZXF1ZW5jZU51bWJlcihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gZSkgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IEpTT04ucGFyc2UoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwibnVtYmVyXCIgPT0gdHlwZW9mIG4pLCB0ID0gbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dFcnJvcihcIlNoYXJlZENsaWVudFN0YXRlXCIsIFwiRmFpbGVkIHRvIHJlYWQgc2VxdWVuY2UgbnVtYmVyIGZyb20gV2ViU3RvcmFnZVwiLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAqIGBNZW1vcnlTaGFyZWRDbGllbnRTdGF0ZWAgaXMgYSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgU2hhcmVkQ2xpZW50U3RhdGUgZm9yXG4gKiBjbGllbnRzIHVzaW5nIG1lbW9yeSBwZXJzaXN0ZW5jZS4gVGhlIHN0YXRlIGluIHRoaXMgY2xhc3MgcmVtYWlucyBmdWxseVxuICogaXNvbGF0ZWQgYW5kIG5vIHN5bmNocm9uaXphdGlvbiBpcyBwZXJmb3JtZWQuXG4gKi8gKHQubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZSAhPT0gX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lICYmIHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyKGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQua2V5ID09PSB0aGlzLkZzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5Kcyh0Lm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGUubWFwKChlID0+IHRoaXMuc3luY0VuZ2luZS5ZcyhlKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnlzLnB1c2godCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGtzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcy5nZXQodGhpcy5Wcyk7XG4gICAgfVxuICAgIE1zKCkge1xuICAgICAgICB0aGlzLnNldEl0ZW0odGhpcy53cywgdGhpcy5rcy5kcygpKTtcbiAgICB9XG4gICAgTHMoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9NdXRhdGlvbk1ldGFkYXRhKHRoaXMuY3VycmVudFVzZXIsIGUsIHQsIG4pLCBpID0gY3JlYXRlV2ViU3RvcmFnZU11dGF0aW9uQmF0Y2hLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgdGhpcy5jdXJyZW50VXNlciwgZSk7XG4gICAgICAgIHRoaXMuc2V0SXRlbShpLCByLmRzKCkpO1xuICAgIH1cbiAgICBCcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBjcmVhdGVXZWJTdG9yYWdlTXV0YXRpb25CYXRjaEtleSh0aGlzLnBlcnNpc3RlbmNlS2V5LCB0aGlzLmN1cnJlbnRVc2VyLCBlKTtcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtKHQpO1xuICAgIH1cbiAgICBRcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5WcyxcbiAgICAgICAgICAgIG9ubGluZVN0YXRlOiBlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHRoaXMudnMsIEpTT04uc3RyaW5naWZ5KHQpKTtcbiAgICB9XG4gICAgcXMoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gY3JlYXRlV2ViU3RvcmFnZVF1ZXJ5VGFyZ2V0TWV0YWRhdGFLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgZSksIGkgPSBuZXcgX19QUklWQVRFX1F1ZXJ5VGFyZ2V0TWV0YWRhdGEoZSwgdCwgbik7XG4gICAgICAgIHRoaXMuc2V0SXRlbShyLCBpLmRzKCkpO1xuICAgIH1cbiAgICBLcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGUpKTtcbiAgICAgICAgdGhpcy5zZXRJdGVtKHRoaXMuRnMsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBjbGllbnQgc3RhdGUga2V5IGluIFdlYlN0b3JhZ2UuIFJldHVybnMgbnVsbCBpZiB0aGUga2V5IGRvZXMgbm90XG4gICAgICogbWF0Y2ggdGhlIGV4cGVjdGVkIGtleSBmb3JtYXQuXG4gICAgICovICAgICRzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuYnMuZXhlYyhlKTtcbiAgICAgICAgcmV0dXJuIHQgPyB0WzFdIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgY2xpZW50IHN0YXRlIGluIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZSBjb3VsZCBub3RcbiAgICAgKiBiZSBwYXJzZWQuXG4gICAgICovICAgIFdzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuJHMoZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfUmVtb3RlQ2xpZW50U3RhdGUuRXMobiwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIG11dGF0aW9uIGJhdGNoIHN0YXRlIGluIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZVxuICAgICAqIGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4gICAgICovICAgIEdzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuRHMuZXhlYyhlKSwgciA9IE51bWJlcihuWzFdKSwgaSA9IHZvaWQgMCAhPT0gblsyXSA/IG5bMl0gOiBudWxsO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX011dGF0aW9uTWV0YWRhdGEuRXMobmV3IFVzZXIoaSksIHIsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBxdWVyeSB0YXJnZXQgc3RhdGUgZnJvbSBXZWJTdG9yYWdlLiBSZXR1cm5zICdudWxsJyBpZiB0aGUgdmFsdWVcbiAgICAgKiBjb3VsZCBub3QgYmUgcGFyc2VkLlxuICAgICAqLyAgICBqcyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLkNzLmV4ZWMoZSksIHIgPSBOdW1iZXIoblsxXSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfUXVlcnlUYXJnZXRNZXRhZGF0YS5FcyhyLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGFuIG9ubGluZSBzdGF0ZSBmcm9tIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZVxuICAgICAqIGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4gICAgICovICAgIHhzKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9TaGFyZWRPbmxpbmVTdGF0ZS5FcyhlKTtcbiAgICB9XG4gICAgSnMoZSkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShlKTtcbiAgICB9XG4gICAgYXN5bmMgenMoZSkge1xuICAgICAgICBpZiAoZS51c2VyLnVpZCA9PT0gdGhpcy5jdXJyZW50VXNlci51aWQpIHJldHVybiB0aGlzLnN5bmNFbmdpbmUuWnMoZS5iYXRjaElkLCBlLnN0YXRlLCBlLmVycm9yKTtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgYElnbm9yaW5nIG11dGF0aW9uIGZvciBub24tYWN0aXZlIHVzZXIgJHtlLnVzZXIudWlkfWApO1xuICAgIH1cbiAgICBIcyhlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNFbmdpbmUuWHMoZS50YXJnZXRJZCwgZS5zdGF0ZSwgZS5lcnJvcik7XG4gICAgfVxuICAgIFVzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQgPyB0aGlzLnBzLmluc2VydChlLCB0KSA6IHRoaXMucHMucmVtb3ZlKGUpLCByID0gdGhpcy5Ocyh0aGlzLnBzKSwgaSA9IHRoaXMuTnMobiksIHMgPSBbXSwgbyA9IFtdO1xuICAgICAgICByZXR1cm4gaS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHIuaGFzKGUpIHx8IHMucHVzaChlKTtcbiAgICAgICAgfSkpLCByLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgaS5oYXMoZSkgfHwgby5wdXNoKGUpO1xuICAgICAgICB9KSksIHRoaXMuc3luY0VuZ2luZS5lbyhzLCBvKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBzID0gbjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBPcyhlKSB7XG4gICAgICAgIC8vIFdlIGNoZWNrIHdoZXRoZXIgdGhlIGNsaWVudCB0aGF0IHdyb3RlIHRoaXMgb25saW5lIHN0YXRlIGlzIHN0aWxsIGFjdGl2ZVxuICAgICAgICAvLyBieSBjb21wYXJpbmcgaXRzIGNsaWVudCBJRCB0byB0aGUgbGlzdCBvZiBjbGllbnRzIGtlcHQgYWN0aXZlIGluXG4gICAgICAgIC8vIEluZGV4ZWREYi4gSWYgYSBjbGllbnQgZG9lcyBub3QgdXBkYXRlIHRoZWlyIEluZGV4ZWREYiBjbGllbnQgc3RhdGVcbiAgICAgICAgLy8gd2l0aGluIDUgc2Vjb25kcywgaXQgaXMgY29uc2lkZXJlZCBpbmFjdGl2ZSBhbmQgd2UgZG9uJ3QgZW1pdCBhbiBvbmxpbmVcbiAgICAgICAgLy8gc3RhdGUgZXZlbnQuXG4gICAgICAgIHRoaXMucHMuZ2V0KGUuY2xpZW50SWQpICYmIHRoaXMub25saW5lU3RhdGVIYW5kbGVyKGUub25saW5lU3RhdGUpO1xuICAgIH1cbiAgICBOcyhlKSB7XG4gICAgICAgIGxldCB0ID0gX19QUklWQVRFX3RhcmdldElkU2V0KCk7XG4gICAgICAgIHJldHVybiBlLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICB0ID0gdC51bmlvbldpdGgobi5hY3RpdmVUYXJnZXRJZHMpO1xuICAgICAgICB9KSksIHQ7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5U2hhcmVkQ2xpZW50U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm5vID0gbmV3IF9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlLCB0aGlzLnJvID0ge30sIHRoaXMub25saW5lU3RhdGVIYW5kbGVyID0gbnVsbCwgXG4gICAgICAgIHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyID0gbnVsbDtcbiAgICB9XG4gICAgYWRkUGVuZGluZ011dGF0aW9uKGUpIHtcbiAgICAgICAgLy8gTm8gb3AuXG4gICAgfVxuICAgIHVwZGF0ZU11dGF0aW9uU3RhdGUoZSwgdCwgbikge1xuICAgICAgICAvLyBObyBvcC5cbiAgICB9XG4gICAgYWRkTG9jYWxRdWVyeVRhcmdldChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vLkFzKGUpLCB0aGlzLnJvW2VdIHx8IFwibm90LWN1cnJlbnRcIjtcbiAgICB9XG4gICAgdXBkYXRlUXVlcnlTdGF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMucm9bZV0gPSB0O1xuICAgIH1cbiAgICByZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgdGhpcy5uby5ScyhlKTtcbiAgICB9XG4gICAgaXNMb2NhbFF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm8uYWN0aXZlVGFyZ2V0SWRzLmhhcyhlKTtcbiAgICB9XG4gICAgY2xlYXJRdWVyeVN0YXRlKGUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucm9bZV07XG4gICAgfVxuICAgIGdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm8uYWN0aXZlVGFyZ2V0SWRzO1xuICAgIH1cbiAgICBpc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm8uYWN0aXZlVGFyZ2V0SWRzLmhhcyhlKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vID0gbmV3IF9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlLCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgaGFuZGxlVXNlckNoYW5nZShlLCB0LCBuKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBzZXRPbmxpbmVTdGF0ZShlKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBzaHV0ZG93bigpIHt9XG4gICAgd3JpdGVTZXF1ZW5jZU51bWJlcihlKSB7fVxuICAgIG5vdGlmeUJ1bmRsZUxvYWRlZChlKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX05vb3BDb25uZWN0aXZpdHlNb25pdG9yIHtcbiAgICBpbyhlKSB7XG4gICAgICAgIC8vIE5vLW9wLlxuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgLy8gTm8tb3AuXG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gUmVmZXJlbmNlcyB0byBgd2luZG93YCBhcmUgZ3VhcmRlZCBieSBCcm93c2VyQ29ubmVjdGl2aXR5TW9uaXRvci5pc0F2YWlsYWJsZSgpXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbi8qKlxuICogQnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBDb25uZWN0aXZpdHlNb25pdG9yLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfQnJvd3NlckNvbm5lY3Rpdml0eU1vbml0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNvID0gKCkgPT4gdGhpcy5vbygpLCB0aGlzLl9vID0gKCkgPT4gdGhpcy5hbygpLCB0aGlzLnVvID0gW10sIHRoaXMuY28oKTtcbiAgICB9XG4gICAgaW8oZSkge1xuICAgICAgICB0aGlzLnVvLnB1c2goZSk7XG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCB0aGlzLnNvKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsIHRoaXMuX28pO1xuICAgIH1cbiAgICBjbygpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwgdGhpcy5zbyksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLl9vKTtcbiAgICB9XG4gICAgb28oKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkNvbm5lY3Rpdml0eU1vbml0b3JcIiwgXCJOZXR3b3JrIGNvbm5lY3Rpdml0eSBjaGFuZ2VkOiBBVkFJTEFCTEVcIik7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLnVvKSBlKDAgLyogTmV0d29ya1N0YXR1cy5BVkFJTEFCTEUgKi8pO1xuICAgIH1cbiAgICBhbygpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiQ29ubmVjdGl2aXR5TW9uaXRvclwiLCBcIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNoYW5nZWQ6IFVOQVZBSUxBQkxFXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdGhpcy51bykgZSgxIC8qIE5ldHdvcmtTdGF0dXMuVU5BVkFJTEFCTEUgKi8pO1xuICAgIH1cbiAgICAvLyBUT0RPKGNoZW5icmlhbik6IENvbnNpZGVyIHBhc3NpbmcgaW4gd2luZG93IGVpdGhlciBpbnRvIHRoaXMgY29tcG9uZW50IG9yXG4gICAgLy8gaGVyZSBmb3IgdGVzdGluZyB2aWEgRmFrZVdpbmRvdy5cbiAgICAvKiogQ2hlY2tzIHRoYXQgYWxsIHVzZWQgYXR0cmlidXRlcyBvZiB3aW5kb3cgYXJlIGF2YWlsYWJsZS4gKi9cbiAgICBzdGF0aWMgRCgpIHtcbiAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHdpbmRvdyAmJiB2b2lkIDAgIT09IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICYmIHZvaWQgMCAhPT0gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgbW9zdCByZWNlbnQgaW52b2NhdGlvbiBvZlxuICogYGdlbmVyYXRlVW5pcXVlRGVidWdJZCgpYCwgb3IgbnVsbCBpZiBpdCBoYXMgbmV2ZXIgYmVlbiBpbnZva2VkLlxuICovIGxldCBWZSA9IG51bGw7XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuZCByZXR1cm5zIGFuIGluaXRpYWwgdmFsdWUgZm9yIGBsYXN0VW5pcXVlRGVidWdJZGAuXG4gKlxuICogVGhlIHJldHVybmVkIHZhbHVlIGlzIHJhbmRvbWx5IHNlbGVjdGVkIGZyb20gYSByYW5nZSBvZiBpbnRlZ2VycyB0aGF0IGFyZVxuICogcmVwcmVzZW50ZWQgYXMgOCBoZXhhZGVjaW1hbCBkaWdpdHMuIFRoaXMgbWVhbnMgdGhhdCAod2l0aGluIHJlYXNvbikgYW55XG4gKiBudW1iZXJzIGdlbmVyYXRlZCBieSBpbmNyZW1lbnRpbmcgdGhlIHJldHVybmVkIG51bWJlciBieSAxIHdpbGwgYWxzbyBiZVxuICogcmVwcmVzZW50ZWQgYnkgOCBoZXhhZGVjaW1hbCBkaWdpdHMuIFRoaXMgbGVhZHMgdG8gYWxsIFwiSURzXCIgaGF2aW5nIHRoZSBzYW1lXG4gKiBsZW5ndGggd2hlbiBjb252ZXJ0ZWQgdG8gYSBoZXhhZGVjaW1hbCBzdHJpbmcsIG1ha2luZyByZWFkaW5nIGxvZ3MgY29udGFpbmluZ1xuICogdGhlc2UgSURzIGVhc2llciB0byBmb2xsb3cuIEFuZCBzaW5jZSB0aGUgcmV0dXJuIHZhbHVlIGlzIHJhbmRvbWx5IHNlbGVjdGVkXG4gKiBpdCB3aWxsIGhlbHAgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGxvZ3MgZnJvbSBkaWZmZXJlbnQgZXhlY3V0aW9ucy5cbiAqL1xuLyoqXG4gKiBHZW5lcmF0ZXMgYW5kIHJldHVybnMgYSB1bmlxdWUgSUQgYXMgYSBoZXhhZGVjaW1hbCBzdHJpbmcuXG4gKlxuICogVGhlIHJldHVybmVkIElEIGlzIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gZGVidWcgbG9nZ2luZyBtZXNzYWdlcyB0byBoZWxwXG4gKiBjb3JyZWxhdGUgbG9nIG1lc3NhZ2VzIHRoYXQgbWF5IGJlIHNwYXRpYWxseSBzZXBhcmF0ZWQgaW4gdGhlIGxvZ3MsIGJ1dFxuICogbG9naWNhbGx5IHJlbGF0ZWQuIEZvciBleGFtcGxlLCBhIG5ldHdvcmsgY29ubmVjdGlvbiBjb3VsZCBpbmNsdWRlIHRoZSBzYW1lXG4gKiBcImRlYnVnIElEXCIgc3RyaW5nIGluIGFsbCBvZiBpdHMgbG9nIG1lc3NhZ2VzIHRvIGhlbHAgdHJhY2UgYSBzcGVjaWZpY1xuICogY29ubmVjdGlvbiBvdmVyIHRpbWUuXG4gKlxuICogQHJldHVybiB0aGUgMTAtY2hhcmFjdGVyIGdlbmVyYXRlZCBJRCAoZS5nLiBcIjB4YTFiMmMzZDRcIikuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQoKSB7XG4gICAgcmV0dXJuIG51bGwgPT09IFZlID8gVmUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZ2VuZXJhdGVJbml0aWFsVW5pcXVlRGVidWdJZCgpIHtcbiAgICAgICAgcmV0dXJuIDI2ODQzNTQ1NiArIE1hdGgucm91bmQoMjE0NzQ4MzY0OCAqIE1hdGgucmFuZG9tKCkpO1xuICAgIH0oKSA6IFZlKyssIFwiMHhcIiArIFZlLnRvU3RyaW5nKDE2KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY29uc3QgbWUgPSB7XG4gICAgQmF0Y2hHZXREb2N1bWVudHM6IFwiYmF0Y2hHZXRcIixcbiAgICBDb21taXQ6IFwiY29tbWl0XCIsXG4gICAgUnVuUXVlcnk6IFwicnVuUXVlcnlcIixcbiAgICBSdW5BZ2dyZWdhdGlvblF1ZXJ5OiBcInJ1bkFnZ3JlZ2F0aW9uUXVlcnlcIlxufTtcblxuLyoqXG4gKiBNYXBzIFJQQyBuYW1lcyB0byB0aGUgY29ycmVzcG9uZGluZyBSRVNUIGVuZHBvaW50IG5hbWUuXG4gKlxuICogV2UgdXNlIGFycmF5IG5vdGF0aW9uIHRvIGF2b2lkIG1hbmdsaW5nLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQcm92aWRlcyBhIHNpbXBsZSBoZWxwZXIgY2xhc3MgdGhhdCBpbXBsZW1lbnRzIHRoZSBTdHJlYW0gaW50ZXJmYWNlIHRvXG4gKiBicmlkZ2UgdG8gb3RoZXIgaW1wbGVtZW50YXRpb25zIHRoYXQgYXJlIHN0cmVhbXMgYnV0IGRvIG5vdCBpbXBsZW1lbnQgdGhlXG4gKiBpbnRlcmZhY2UuIFRoZSBzdHJlYW0gY2FsbGJhY2tzIGFyZSBpbnZva2VkIHdpdGggdGhlIGNhbGxPbi4uLiBtZXRob2RzLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfU3RyZWFtQnJpZGdlIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMubG8gPSBlLmxvLCB0aGlzLmhvID0gZS5obztcbiAgICB9XG4gICAgUG8oZSkge1xuICAgICAgICB0aGlzLklvID0gZTtcbiAgICB9XG4gICAgVG8oZSkge1xuICAgICAgICB0aGlzLkVvID0gZTtcbiAgICB9XG4gICAgQW8oZSkge1xuICAgICAgICB0aGlzLlJvID0gZTtcbiAgICB9XG4gICAgb25NZXNzYWdlKGUpIHtcbiAgICAgICAgdGhpcy5WbyA9IGU7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmhvKCk7XG4gICAgfVxuICAgIHNlbmQoZSkge1xuICAgICAgICB0aGlzLmxvKGUpO1xuICAgIH1cbiAgICBtbygpIHtcbiAgICAgICAgdGhpcy5JbygpO1xuICAgIH1cbiAgICBmbygpIHtcbiAgICAgICAgdGhpcy5FbygpO1xuICAgIH1cbiAgICBwbyhlKSB7XG4gICAgICAgIHRoaXMuUm8oZSk7XG4gICAgfVxuICAgIHlvKGUpIHtcbiAgICAgICAgdGhpcy5WbyhlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IGZlID0gXCJXZWJDaGFubmVsQ29ubmVjdGlvblwiO1xuXG5jbGFzcyBfX1BSSVZBVEVfV2ViQ2hhbm5lbENvbm5lY3Rpb24gZXh0ZW5kcyBcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIFJlc3QtYmFzZWQgY29ubmVjdGlvbnMgdG8gdGhlIGJhY2tlbmQgKFdlYkNoYW5uZWwgYW5kXG4gKiBIVFRQKS5cbiAqL1xuY2xhc3MgX19QUklWQVRFX1Jlc3RDb25uZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvID0gZSwgdGhpcy5kYXRhYmFzZUlkID0gZS5kYXRhYmFzZUlkO1xuICAgICAgICBjb25zdCB0ID0gZS5zc2wgPyBcImh0dHBzXCIgOiBcImh0dHBcIiwgbiA9IGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkKSwgciA9IGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2UpO1xuICAgICAgICB0aGlzLndvID0gdCArIFwiOi8vXCIgKyBlLmhvc3QsIHRoaXMuU28gPSBgcHJvamVjdHMvJHtufS9kYXRhYmFzZXMvJHtyfWAsIHRoaXMuYm8gPSBcIihkZWZhdWx0KVwiID09PSB0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2UgPyBgcHJvamVjdF9pZD0ke259YCA6IGBwcm9qZWN0X2lkPSR7bn0mZGF0YWJhc2VfaWQ9JHtyfWA7XG4gICAgfVxuICAgIGdldCBEbygpIHtcbiAgICAgICAgLy8gQm90aCBgaW52b2tlUlBDKClgIGFuZCBgaW52b2tlU3RyZWFtaW5nUlBDKClgIHVzZSB0aGVpciBgcGF0aGAgYXJndW1lbnRzIHRvIGRldGVybWluZVxuICAgICAgICAvLyB3aGVyZSB0byBydW4gdGhlIHF1ZXJ5LCBhbmQgZXhwZWN0IHRoZSBgcmVxdWVzdGAgdG8gTk9UIHNwZWNpZnkgdGhlIFwicGF0aFwiLlxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIENvKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQoKSwgbyA9IHRoaXMudm8oZSwgdC50b1VyaUVuY29kZWRTdHJpbmcoKSk7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlc3RDb25uZWN0aW9uXCIsIGBTZW5kaW5nIFJQQyAnJHtlfScgJHtzfTpgLCBvLCBuKTtcbiAgICAgICAgY29uc3QgXyA9IHtcbiAgICAgICAgICAgIFwiZ29vZ2xlLWNsb3VkLXJlc291cmNlLXByZWZpeFwiOiB0aGlzLlNvLFxuICAgICAgICAgICAgXCJ4LWdvb2ctcmVxdWVzdC1wYXJhbXNcIjogdGhpcy5ib1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5GbyhfLCByLCBpKSwgdGhpcy5NbyhlLCBvLCBfLCBuKS50aGVuKCh0ID0+IChfX1BSSVZBVEVfbG9nRGVidWcoXCJSZXN0Q29ubmVjdGlvblwiLCBgUmVjZWl2ZWQgUlBDICcke2V9JyAke3N9OiBgLCB0KSwgXG4gICAgICAgIHQpKSwgKHQgPT4ge1xuICAgICAgICAgICAgdGhyb3cgX19QUklWQVRFX2xvZ1dhcm4oXCJSZXN0Q29ubmVjdGlvblwiLCBgUlBDICcke2V9JyAke3N9IGZhaWxlZCB3aXRoIGVycm9yOiBgLCB0LCBcInVybDogXCIsIG8sIFwicmVxdWVzdDpcIiwgbiksIFxuICAgICAgICAgICAgdDtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB4byhlLCB0LCBuLCByLCBpLCBzKSB7XG4gICAgICAgIC8vIFRoZSBSRVNUIEFQSSBhdXRvbWF0aWNhbGx5IGFnZ3JlZ2F0ZXMgYWxsIG9mIHRoZSBzdHJlYW1lZCByZXN1bHRzLCBzbyB3ZVxuICAgICAgICAvLyBjYW4ganVzdCB1c2UgdGhlIG5vcm1hbCBpbnZva2UoKSBtZXRob2QuXG4gICAgICAgIHJldHVybiB0aGlzLkNvKGUsIHQsIG4sIHIsIGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyB0aGUgaGVhZGVycyBmb3IgYSByZXF1ZXN0LCBhZGRpbmcgYW55IGF1dGhvcml6YXRpb24gdG9rZW4gaWZcbiAgICAgKiBwcmVzZW50IGFuZCBhbnkgYWRkaXRpb25hbCBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdC5cbiAgICAgKi8gICAgRm8oZSwgdCwgbikge1xuICAgICAgICBlW1wiWC1Hb29nLUFwaS1DbGllbnRcIl0gPSBcbiAgICAgICAgLy8gU0RLX1ZFUlNJT04gaXMgdXBkYXRlZCB0byBkaWZmZXJlbnQgdmFsdWUgYXQgcnVudGltZSBkZXBlbmRpbmcgb24gdGhlIGVudHJ5IHBvaW50LFxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdHMgdmFsdWUgd2hlbiB3ZSBuZWVkIGl0IGluIGEgZnVuY3Rpb24uXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRHb29nQXBpQ2xpZW50VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJnbC1qcy8gZmlyZS9cIiArIGI7XG4gICAgICAgIH0oKSwgXG4gICAgICAgIC8vIENvbnRlbnQtVHlwZTogdGV4dC9wbGFpbiB3aWxsIGF2b2lkIHByZWZsaWdodCByZXF1ZXN0cyB3aGljaCBtaWdodFxuICAgICAgICAvLyBtZXNzIHdpdGggQ09SUyBhbmQgcmVkaXJlY3RzIGJ5IHByb3hpZXMuIElmIHdlIGFkZCBjdXN0b20gaGVhZGVyc1xuICAgICAgICAvLyB3ZSB3aWxsIG5lZWQgdG8gY2hhbmdlIHRoaXMgY29kZSB0byBwb3RlbnRpYWxseSB1c2UgdGhlICRodHRwT3ZlcndyaXRlXG4gICAgICAgIC8vIHBhcmFtZXRlciBzdXBwb3J0ZWQgYnkgRVNGIHRvIGF2b2lkIHRyaWdnZXJpbmcgcHJlZmxpZ2h0IHJlcXVlc3RzLlxuICAgICAgICBlW1wiQ29udGVudC1UeXBlXCJdID0gXCJ0ZXh0L3BsYWluXCIsIHRoaXMuZGF0YWJhc2VJbmZvLmFwcElkICYmIChlW1wiWC1GaXJlYmFzZS1HTVBJRFwiXSA9IHRoaXMuZGF0YWJhc2VJbmZvLmFwcElkKSwgXG4gICAgICAgIHQgJiYgdC5oZWFkZXJzLmZvckVhY2goKCh0LCBuKSA9PiBlW25dID0gdCkpLCBuICYmIG4uaGVhZGVycy5mb3JFYWNoKCgodCwgbikgPT4gZVtuXSA9IHQpKTtcbiAgICB9XG4gICAgdm8oZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbWVbZV07XG4gICAgICAgIHJldHVybiBgJHt0aGlzLndvfS92MS8ke3R9OiR7bn1gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgYW5kIGNsZWFucyB1cCBhbnkgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29ubmVjdGlvbi4gVGhpc1xuICAgICAqIGltcGxlbWVudGF0aW9uIGlzIGEgbm8tb3AgYmVjYXVzZSB0aGVyZSBhcmUgbm8gcmVzb3VyY2VzIGFzc29jaWF0ZWRcbiAgICAgKiB3aXRoIHRoZSBSZXN0Q29ubmVjdGlvbiB0aGF0IG5lZWQgdG8gYmUgY2xlYW5lZCB1cC5cbiAgICAgKi8gICAgdGVybWluYXRlKCkge1xuICAgICAgICAvLyBOby1vcFxuICAgIH1cbn0ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoZSksIHRoaXMuZm9yY2VMb25nUG9sbGluZyA9IGUuZm9yY2VMb25nUG9sbGluZywgdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmcgPSBlLmF1dG9EZXRlY3RMb25nUG9sbGluZywgXG4gICAgICAgIHRoaXMudXNlRmV0Y2hTdHJlYW1zID0gZS51c2VGZXRjaFN0cmVhbXMsIHRoaXMubG9uZ1BvbGxpbmdPcHRpb25zID0gZS5sb25nUG9sbGluZ09wdGlvbnM7XG4gICAgfVxuICAgIE1vKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCgocywgbykgPT4ge1xuICAgICAgICAgICAgY29uc3QgXyA9IG5ldyB3ZWJjaGFubmVsQmxvYi5YaHJJbztcbiAgICAgICAgICAgIF8uc2V0V2l0aENyZWRlbnRpYWxzKCEwKSwgXy5saXN0ZW5PbmNlKHdlYmNoYW5uZWxCbG9iLkV2ZW50VHlwZS5DT01QTEVURSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF8uZ2V0TGFzdEVycm9yQ29kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSB3ZWJjaGFubmVsQmxvYi5FcnJvckNvZGUuTk9fRVJST1I6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gXy5nZXRSZXNwb25zZUpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFhIUiBmb3IgUlBDICcke2V9JyAke2l9IHJlY2VpdmVkOmAsIEpTT04uc3RyaW5naWZ5KHQpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBzKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdlYmNoYW5uZWxCbG9iLkVycm9yQ29kZS5USU1FT1VUOlxuICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyAke2l9IHRpbWVkIG91dGApLCBvKG5ldyBGaXJlc3RvcmVFcnJvcihDLkRFQURMSU5FX0VYQ0VFREVELCBcIlJlcXVlc3QgdGltZSBvdXRcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdlYmNoYW5uZWxCbG9iLkVycm9yQ29kZS5IVFRQX0VSUk9SOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IF8uZ2V0U3RhdHVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyAke2l9IGZhaWxlZCB3aXRoIHN0YXR1czpgLCBuLCBcInJlc3BvbnNlIHRleHQ6XCIsIF8uZ2V0UmVzcG9uc2VUZXh0KCkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSBfLmdldFJlc3BvbnNlSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZSkgJiYgKGUgPSBlWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gbnVsbCA9PSBlID8gdm9pZCAwIDogZS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiB0LnN0YXR1cyAmJiB0Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IGZ1bmN0aW9uIF9fUFJJVkFURV9tYXBDb2RlRnJvbUh0dHBSZXNwb25zZUVycm9yU3RhdHVzKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCBcIi1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhDKS5pbmRleE9mKHQpID49IDAgPyB0IDogQy5VTktOT1dOO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KHQuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyhuZXcgRmlyZXN0b3JlRXJyb3IoZSwgdC5tZXNzYWdlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG8obmV3IEZpcmVzdG9yZUVycm9yKEMuVU5LTk9XTiwgXCJTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzIFwiICsgXy5nZXRTdGF0dXMoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVjZWl2ZWQgYW4gSFRUUF9FUlJPUiBidXQgdGhlcmUncyBubyBzdGF0dXMgY29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgbW9zdCBwcm9iYWJseSBhIGNvbm5lY3Rpb24gaXNzdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIG8obmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsIFwiQ29ubmVjdGlvbiBmYWlsZWQuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgJHtpfSBjb21wbGV0ZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3QgYSA9IEpTT04uc3RyaW5naWZ5KHIpO1xuICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyAke2l9IHNlbmRpbmcgcmVxdWVzdDpgLCByKSwgXy5zZW5kKHQsIFwiUE9TVFwiLCBhLCBuLCAxNSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgT28oZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2dlbmVyYXRlVW5pcXVlRGVidWdJZCgpLCBpID0gWyB0aGlzLndvLCBcIi9cIiwgXCJnb29nbGUuZmlyZXN0b3JlLnYxLkZpcmVzdG9yZVwiLCBcIi9cIiwgZSwgXCIvY2hhbm5lbFwiIF0sIHMgPSB3ZWJjaGFubmVsQmxvYi5jcmVhdGVXZWJDaGFubmVsVHJhbnNwb3J0KCksIG8gPSB3ZWJjaGFubmVsQmxvYi5nZXRTdGF0RXZlbnRUYXJnZXQoKSwgXyA9IHtcbiAgICAgICAgICAgIC8vIFJlcXVpcmVkIGZvciBiYWNrZW5kIHN0aWNraW5lc3MsIHJvdXRpbmcgYmVoYXZpb3IgaXMgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgLy8gcGFyYW1ldGVyLlxuICAgICAgICAgICAgaHR0cFNlc3Npb25JZFBhcmFtOiBcImdzZXNzaW9uaWRcIixcbiAgICAgICAgICAgIGluaXRNZXNzYWdlSGVhZGVyczoge30sXG4gICAgICAgICAgICBtZXNzYWdlVXJsUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBwYXJhbSBpcyB1c2VkIHRvIGltcHJvdmUgcm91dGluZyBhbmQgcHJvamVjdCBpc29sYXRpb24gYnkgdGhlXG4gICAgICAgICAgICAgICAgLy8gYmFja2VuZCBhbmQgbXVzdCBiZSBpbmNsdWRlZCBpbiBldmVyeSByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBgcHJvamVjdHMvJHt0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkfS9kYXRhYmFzZXMvJHt0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2V9YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbmRSYXdKc29uOiAhMCxcbiAgICAgICAgICAgIHN1cHBvcnRzQ3Jvc3NEb21haW5YaHI6ICEwLFxuICAgICAgICAgICAgaW50ZXJuYWxDaGFubmVsUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgdGltZW91dCAocmFuZG9taXplZCBiZXR3ZWVuIDEwLTIwIHNlY29uZHMpIHNpbmNlXG4gICAgICAgICAgICAgICAgLy8gYSBsYXJnZSB3cml0ZSBiYXRjaCBvbiBhIHNsb3cgaW50ZXJuZXQgY29ubmVjdGlvbiBtYXkgdGFrZSBhIGxvbmdcbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIHNlbmQgdG8gdGhlIGJhY2tlbmQuIFJhdGhlciB0aGFuIGhhdmUgV2ViQ2hhbm5lbCBpbXBvc2UgYVxuICAgICAgICAgICAgICAgIC8vIHRpZ2h0IHRpbWVvdXQgd2hpY2ggY291bGQgbGVhZCB0byBpbmZpbml0ZSB0aW1lb3V0cyBhbmQgcmV0cmllcywgd2VcbiAgICAgICAgICAgICAgICAvLyBzZXQgaXQgdmVyeSBsYXJnZSAoNS0xMCBtaW51dGVzKSBhbmQgcmVseSBvbiB0aGUgYnJvd3NlcidzIGJ1aWx0aW5cbiAgICAgICAgICAgICAgICAvLyB0aW1lb3V0cyB0byBraWNrIGluIGlmIHRoZSByZXF1ZXN0IGlzbid0IHdvcmtpbmcuXG4gICAgICAgICAgICAgICAgZm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zOiA2ZTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JjZUxvbmdQb2xsaW5nOiB0aGlzLmZvcmNlTG9uZ1BvbGxpbmcsXG4gICAgICAgICAgICBkZXRlY3RCdWZmZXJpbmdQcm94eTogdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmdcbiAgICAgICAgfSwgYSA9IHRoaXMubG9uZ1BvbGxpbmdPcHRpb25zLnRpbWVvdXRTZWNvbmRzO1xuICAgICAgICB2b2lkIDAgIT09IGEgJiYgKF8ubG9uZ1BvbGxpbmdUaW1lb3V0ID0gTWF0aC5yb3VuZCgxZTMgKiBhKSksIHRoaXMudXNlRmV0Y2hTdHJlYW1zICYmIChfLnhtbEh0dHBGYWN0b3J5ID0gbmV3IHdlYmNoYW5uZWxCbG9iLkZldGNoWG1sSHR0cEZhY3Rvcnkoe30pKSwgXG4gICAgICAgIHRoaXMuRm8oXy5pbml0TWVzc2FnZUhlYWRlcnMsIHQsIG4pLCBcbiAgICAgICAgLy8gU2VuZGluZyB0aGUgY3VzdG9tIGhlYWRlcnMgd2UganVzdCBhZGRlZCB0byByZXF1ZXN0LmluaXRNZXNzYWdlSGVhZGVyc1xuICAgICAgICAvLyAoQXV0aG9yaXphdGlvbiwgZXRjLikgd2lsbCB0cmlnZ2VyIHRoZSBicm93c2VyIHRvIG1ha2UgYSBDT1JTIHByZWZsaWdodFxuICAgICAgICAvLyByZXF1ZXN0IGJlY2F1c2UgdGhlIFhIUiB3aWxsIG5vIGxvbmdlciBtZWV0IHRoZSBjcml0ZXJpYSBmb3IgYSBcInNpbXBsZVwiXG4gICAgICAgIC8vIENPUlMgcmVxdWVzdDpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9DT1JTI1NpbXBsZV9yZXF1ZXN0c1xuICAgICAgICAvLyBUaGVyZWZvcmUgdG8gYXZvaWQgdGhlIENPUlMgcHJlZmxpZ2h0IHJlcXVlc3QgKGFuIGV4dHJhIG5ldHdvcmtcbiAgICAgICAgLy8gcm91bmR0cmlwKSwgd2UgdXNlIHRoZSBlbmNvZGVJbml0TWVzc2FnZUhlYWRlcnMgb3B0aW9uIHRvIHNwZWNpZnkgdGhhdFxuICAgICAgICAvLyB0aGUgaGVhZGVycyBzaG91bGQgaW5zdGVhZCBiZSBlbmNvZGVkIGluIHRoZSByZXF1ZXN0J3MgUE9TVCBwYXlsb2FkLFxuICAgICAgICAvLyB3aGljaCBpcyByZWNvZ25pemVkIGJ5IHRoZSB3ZWJjaGFubmVsIGJhY2tlbmQuXG4gICAgICAgIF8uZW5jb2RlSW5pdE1lc3NhZ2VIZWFkZXJzID0gITA7XG4gICAgICAgIGNvbnN0IHUgPSBpLmpvaW4oXCJcIik7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYENyZWF0aW5nIFJQQyAnJHtlfScgc3RyZWFtICR7cn06ICR7dX1gLCBfKTtcbiAgICAgICAgY29uc3QgYyA9IHMuY3JlYXRlV2ViQ2hhbm5lbCh1LCBfKTtcbiAgICAgICAgLy8gV2ViQ2hhbm5lbCBzdXBwb3J0cyBzZW5kaW5nIHRoZSBmaXJzdCBtZXNzYWdlIHdpdGggdGhlIGhhbmRzaGFrZSAtIHNhdmluZ1xuICAgICAgICAvLyBhIG5ldHdvcmsgcm91bmQgdHJpcC4gSG93ZXZlciwgaXQgd2lsbCBoYXZlIHRvIGNhbGwgc2VuZCBpbiB0aGUgc2FtZVxuICAgICAgICAvLyBKUyBldmVudCBsb29wIGFzIG9wZW4uIEluIG9yZGVyIHRvIGVuZm9yY2UgdGhpcywgd2UgZGVsYXkgYWN0dWFsbHlcbiAgICAgICAgLy8gb3BlbmluZyB0aGUgV2ViQ2hhbm5lbCB1bnRpbCBzZW5kIGlzIGNhbGxlZC4gV2hldGhlciB3ZSBoYXZlIGNhbGxlZFxuICAgICAgICAvLyBvcGVuIGlzIHRyYWNrZWQgd2l0aCB0aGlzIHZhcmlhYmxlLlxuICAgICAgICAgICAgICAgIGxldCBsID0gITEsIGggPSAhMTtcbiAgICAgICAgLy8gQSBmbGFnIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBzdHJlYW0gd2FzIGNsb3NlZCAoYnkgdXMgb3IgdGhyb3VnaCBhblxuICAgICAgICAvLyBlcnJvci9jbG9zZSBldmVudCkgdG8gYXZvaWQgZGVsaXZlcmluZyBtdWx0aXBsZSBjbG9zZSBldmVudHMgb3Igc2VuZGluZ1xuICAgICAgICAvLyBvbiBhIGNsb3NlZCBzdHJlYW1cbiAgICAgICAgICAgICAgICBjb25zdCBQID0gbmV3IF9fUFJJVkFURV9TdHJlYW1CcmlkZ2Uoe1xuICAgICAgICAgICAgbG86IHQgPT4ge1xuICAgICAgICAgICAgICAgIGggPyBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBOb3Qgc2VuZGluZyBiZWNhdXNlIFJQQyAnJHtlfScgc3RyZWFtICR7cn0gaXMgY2xvc2VkOmAsIHQpIDogKGwgfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYE9wZW5pbmcgUlBDICcke2V9JyBzdHJlYW0gJHtyfSB0cmFuc3BvcnQuYCksIFxuICAgICAgICAgICAgICAgIGMub3BlbigpLCBsID0gITApLCBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBSUEMgJyR7ZX0nIHN0cmVhbSAke3J9IHNlbmRpbmc6YCwgdCksIFxuICAgICAgICAgICAgICAgIGMuc2VuZCh0KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG86ICgpID0+IGMuY2xvc2UoKVxuICAgICAgICB9KSwgX19QUklWQVRFX3VuZ3VhcmRlZEV2ZW50TGlzdGVuID0gKGUsIHQsIG4pID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8oZGltb25kKTogY2xvc3VyZSB0eXBpbmcgc2VlbXMgYnJva2VuIGJlY2F1c2UgV2ViQ2hhbm5lbCBkb2VzXG4gICAgICAgICAgICAvLyBub3QgaW1wbGVtZW50IGdvb2cuZXZlbnRzLkxpc3RlbmFibGVcbiAgICAgICAgICAgIGUubGlzdGVuKHQsIChlID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuKGUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfSksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2xvc3VyZSBldmVudHMgYXJlIGd1YXJkZWQgYW5kIGV4Y2VwdGlvbnMgYXJlIHN3YWxsb3dlZCwgc28gY2F0Y2ggYW55XG4gICAgICAgIC8vIGV4Y2VwdGlvbiBhbmQgcmV0aHJvdyB1c2luZyBhIHNldFRpbWVvdXQgc28gdGhleSBiZWNvbWUgdmlzaWJsZSBhZ2Fpbi5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGV2ZW50dWFsbHkgdGhpcyBmdW5jdGlvbiBjb3VsZCBnbyBhd2F5IGlmIHdlIGFyZSBjb25maWRlbnRcbiAgICAgICAgLy8gZW5vdWdoIHRoZSBjb2RlIGlzIGV4Y2VwdGlvbiBmcmVlLlxuICAgICAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4oYywgd2ViY2hhbm5lbEJsb2IuV2ViQ2hhbm5lbC5FdmVudFR5cGUuT1BFTiwgKCgpID0+IHtcbiAgICAgICAgICAgIGggfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gdHJhbnNwb3J0IG9wZW5lZC5gKSwgUC5tbygpKTtcbiAgICAgICAgfSkpLCBfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4oYywgd2ViY2hhbm5lbEJsb2IuV2ViQ2hhbm5lbC5FdmVudFR5cGUuQ0xPU0UsICgoKSA9PiB7XG4gICAgICAgICAgICBoIHx8IChoID0gITAsIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gdHJhbnNwb3J0IGNsb3NlZGApLCBcbiAgICAgICAgICAgIFAucG8oKSk7XG4gICAgICAgIH0pKSwgX19QUklWQVRFX3VuZ3VhcmRlZEV2ZW50TGlzdGVuKGMsIHdlYmNoYW5uZWxCbG9iLldlYkNoYW5uZWwuRXZlbnRUeXBlLkVSUk9SLCAodCA9PiB7XG4gICAgICAgICAgICBoIHx8IChoID0gITAsIF9fUFJJVkFURV9sb2dXYXJuKGZlLCBgUlBDICcke2V9JyBzdHJlYW0gJHtyfSB0cmFuc3BvcnQgZXJyb3JlZDpgLCB0KSwgXG4gICAgICAgICAgICBQLnBvKG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOQVZBSUxBQkxFLCBcIlRoZSBvcGVyYXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZFwiKSkpO1xuICAgICAgICB9KSksIF9fUFJJVkFURV91bmd1YXJkZWRFdmVudExpc3RlbihjLCB3ZWJjaGFubmVsQmxvYi5XZWJDaGFubmVsLkV2ZW50VHlwZS5NRVNTQUdFLCAodCA9PiB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIGlmICghaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0LmRhdGFbMF07XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoISFpKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGIvMzUxNDM4OTEpOiBUaGVyZSBpcyBhIGJ1ZyBpbiBPbmUgUGxhdGZvcm0gdGhhdCBjYXVzZWQgZXJyb3JzXG4gICAgICAgICAgICAgICAgLy8gKGFuZCBvbmx5IGVycm9ycykgdG8gYmUgd3JhcHBlZCBpbiBhbiBleHRyYSBhcnJheS4gVG8gYmUgZm9yd2FyZFxuICAgICAgICAgICAgICAgIC8vIGNvbXBhdGlibGUgd2l0aCB0aGUgYnVnIHdlIG5lZWQgdG8gY2hlY2sgZWl0aGVyIGNvbmRpdGlvbi4gVGhlIGxhdHRlclxuICAgICAgICAgICAgICAgIC8vIGNhbiBiZSByZW1vdmVkIG9uY2UgdGhlIGZpeCBoYXMgYmVlbiByb2xsZWQgb3V0LlxuICAgICAgICAgICAgICAgIC8vIFVzZSBhbnkgYmVjYXVzZSBtc2dEYXRhLmVycm9yIGlzIG5vdCB0eXBlZC5cbiAgICAgICAgICAgICAgICBjb25zdCBzID0gaSwgbyA9IHMuZXJyb3IgfHwgKG51bGwgPT09IChuID0gc1swXSkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5lcnJvcik7XG4gICAgICAgICAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyBzdHJlYW0gJHtyfSByZWNlaXZlZCBlcnJvcjpgLCBvKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXJyb3Iuc3RhdHVzIHdpbGwgYmUgYSBzdHJpbmcgbGlrZSAnT0snIG9yICdOT1RfRk9VTkQnLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gby5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuID0gXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICogTWFwcyBhbiBlcnJvciBDb2RlIGZyb20gYSBHUlBDIHN0YXR1cyBpZGVudGlmaWVyIGxpa2UgJ05PVF9GT1VORCcuXG4gKlxuICogQHJldHVybnMgVGhlIENvZGUgZXF1aXZhbGVudCB0byB0aGUgZ2l2ZW4gc3RhdHVzIHN0cmluZyBvciB1bmRlZmluZWQgaWZcbiAqICAgICB0aGVyZSBpcyBubyBtYXRjaC5cbiAqL1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfbWFwQ29kZUZyb21ScGNTdGF0dXMoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9va3VwIGJ5IHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBjZVtlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHQpIHJldHVybiBfX1BSSVZBVEVfbWFwQ29kZUZyb21ScGNDb2RlKHQpO1xuICAgICAgICAgICAgICAgICAgICB9KHQpLCBpID0gby5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB2b2lkIDAgPT09IG4gJiYgKG4gPSBDLklOVEVSTkFMLCBpID0gXCJVbmtub3duIGVycm9yIHN0YXR1czogXCIgKyB0ICsgXCIgd2l0aCBtZXNzYWdlIFwiICsgby5tZXNzYWdlKSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgY2xvc2VkIHNvIG5vIGZ1cnRoZXIgZXZlbnRzIGFyZSBwcm9wYWdhdGVkXG4gICAgICAgICAgICAgICAgICAgIGggPSAhMCwgUC5wbyhuZXcgRmlyZXN0b3JlRXJyb3IobiwgaSkpLCBjLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gcmVjZWl2ZWQ6YCwgaSksIFAueW8oaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSwgX19QUklWQVRFX3VuZ3VhcmRlZEV2ZW50TGlzdGVuKG8sIHdlYmNoYW5uZWxCbG9iLkV2ZW50LlNUQVRfRVZFTlQsICh0ID0+IHtcbiAgICAgICAgICAgIHQuc3RhdCA9PT0gd2ViY2hhbm5lbEJsb2IuU3RhdC5QUk9YWSA/IF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gZGV0ZWN0ZWQgYnVmZmVyaW5nIHByb3h5YCkgOiB0LnN0YXQgPT09IHdlYmNoYW5uZWxCbG9iLlN0YXQuTk9QUk9YWSAmJiBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBSUEMgJyR7ZX0nIHN0cmVhbSAke3J9IGRldGVjdGVkIG5vIGJ1ZmZlcmluZyBwcm94eWApO1xuICAgICAgICB9KSksIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFRlY2huaWNhbGx5IHdlIGNvdWxkL3Nob3VsZCB3YWl0IGZvciB0aGUgV2ViQ2hhbm5lbCBvcGVuZWQgZXZlbnQsXG4gICAgICAgICAgICAvLyBidXQgYmVjYXVzZSB3ZSB3YW50IHRvIHNlbmQgdGhlIGZpcnN0IG1lc3NhZ2Ugd2l0aCB0aGUgV2ViQ2hhbm5lbFxuICAgICAgICAgICAgLy8gaGFuZHNoYWtlIHdlIHByZXRlbmQgdGhlIGNoYW5uZWwgb3BlbmVkIGhlcmUgKGFzeW5jaHJvbm91c2x5KSwgYW5kXG4gICAgICAgICAgICAvLyB0aGVuIGRlbGF5IHRoZSBhY3R1YWwgb3BlbiB1bnRpbCB0aGUgZmlyc3QgbWVzc2FnZSBpcyBzZW50LlxuICAgICAgICAgICAgUC5mbygpO1xuICAgICAgICB9KSwgMCksIFA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIEluaXRpYWxpemVzIHRoZSBXZWJDaGFubmVsQ29ubmVjdGlvbiBmb3IgdGhlIGJyb3dzZXIuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIFRoZSBQbGF0Zm9ybSdzICd3aW5kb3cnIGltcGxlbWVudGF0aW9uIG9yIG51bGwgaWYgbm90IGF2YWlsYWJsZS4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRXaW5kb3coKSB7XG4gICAgLy8gYHdpbmRvd2AgaXMgbm90IGFsd2F5cyBhdmFpbGFibGUsIGUuZy4gaW4gUmVhY3ROYXRpdmUgYW5kIFdlYldvcmtlcnMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiBudWxsO1xufVxuXG4vKiogVGhlIFBsYXRmb3JtJ3MgJ2RvY3VtZW50JyBpbXBsZW1lbnRhdGlvbiBvciBudWxsIGlmIG5vdCBhdmFpbGFibGUuICovIGZ1bmN0aW9uIGdldERvY3VtZW50KCkge1xuICAgIC8vIGBkb2N1bWVudGAgaXMgbm90IGFsd2F5cyBhdmFpbGFibGUsIGUuZy4gaW4gUmVhY3ROYXRpdmUgYW5kIFdlYldvcmtlcnMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBkb2N1bWVudCA/IGRvY3VtZW50IDogbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25ld1NlcmlhbGl6ZXIoZSkge1xuICAgIHJldHVybiBuZXcgSnNvblByb3RvU2VyaWFsaXplcihlLCAvKiB1c2VQcm90bzNKc29uPSAqLyAhMCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgaGVscGVyIGZvciBydW5uaW5nIGRlbGF5ZWQgdGFza3MgZm9sbG93aW5nIGFuIGV4cG9uZW50aWFsIGJhY2tvZmYgY3VydmVcbiAqIGJldHdlZW4gYXR0ZW1wdHMuXG4gKlxuICogRWFjaCBkZWxheSBpcyBtYWRlIHVwIG9mIGEgXCJiYXNlXCIgZGVsYXkgd2hpY2ggZm9sbG93cyB0aGUgZXhwb25lbnRpYWxcbiAqIGJhY2tvZmYgY3VydmUsIGFuZCBhICsvLSA1MCUgXCJqaXR0ZXJcIiB0aGF0IGlzIGNhbGN1bGF0ZWQgYW5kIGFkZGVkIHRvIHRoZVxuICogYmFzZSBkZWxheS4gVGhpcyBwcmV2ZW50cyBjbGllbnRzIGZyb20gYWNjaWRlbnRhbGx5IHN5bmNocm9uaXppbmcgdGhlaXJcbiAqIGRlbGF5cyBjYXVzaW5nIHNwaWtlcyBvZiBsb2FkIHRvIHRoZSBiYWNrZW5kLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfRXhwb25lbnRpYWxCYWNrb2ZmIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgQXN5bmNRdWV1ZSB0byBydW4gYmFja29mZiBvcGVyYXRpb25zIG9uLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBJRCB0byB1c2Ugd2hlbiBzY2hlZHVsaW5nIGJhY2tvZmYgb3BlcmF0aW9ucyBvbiB0aGUgQXN5bmNRdWV1ZS5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBUaGUgaW5pdGlhbCBkZWxheSAodXNlZCBhcyB0aGUgYmFzZSBkZWxheSBvbiB0aGUgZmlyc3QgcmV0cnkgYXR0ZW1wdCkuXG4gICAgICogTm90ZSB0aGF0IGppdHRlciB3aWxsIHN0aWxsIGJlIGFwcGxpZWQsIHNvIHRoZSBhY3R1YWwgZGVsYXkgY291bGQgYmUgYXNcbiAgICAgKiBsaXR0bGUgYXMgMC41KmluaXRpYWxEZWxheU1zLlxuICAgICAqL1xuICAgIG4gPSAxZTNcbiAgICAvKipcbiAgICAgKiBUaGUgbXVsdGlwbGllciB0byB1c2UgdG8gZGV0ZXJtaW5lIHRoZSBleHRlbmRlZCBiYXNlIGRlbGF5IGFmdGVyIGVhY2hcbiAgICAgKiBhdHRlbXB0LlxuICAgICAqLyAsIHIgPSAxLjVcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBiYXNlIGRlbGF5IGFmdGVyIHdoaWNoIG5vIGZ1cnRoZXIgYmFja29mZiBpcyBwZXJmb3JtZWQuXG4gICAgICogTm90ZSB0aGF0IGppdHRlciB3aWxsIHN0aWxsIGJlIGFwcGxpZWQsIHNvIHRoZSBhY3R1YWwgZGVsYXkgY291bGQgYmUgYXNcbiAgICAgKiBtdWNoIGFzIDEuNSptYXhEZWxheU1zLlxuICAgICAqLyAsIGkgPSA2ZTQpIHtcbiAgICAgICAgdGhpcy5vaSA9IGUsIHRoaXMudGltZXJJZCA9IHQsIHRoaXMuTm8gPSBuLCB0aGlzLkxvID0gciwgdGhpcy5CbyA9IGksIHRoaXMua28gPSAwLCBcbiAgICAgICAgdGhpcy5xbyA9IG51bGwsIFxuICAgICAgICAvKiogVGhlIGxhc3QgYmFja29mZiBhdHRlbXB0LCBhcyBlcG9jaCBtaWxsaXNlY29uZHMuICovXG4gICAgICAgIHRoaXMuUW8gPSBEYXRlLm5vdygpLCB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgYmFja29mZiBkZWxheS5cbiAgICAgKlxuICAgICAqIFRoZSB2ZXJ5IG5leHQgYmFja29mZkFuZFdhaXQoKSB3aWxsIGhhdmUgbm8gZGVsYXkuIElmIGl0IGlzIGNhbGxlZCBhZ2FpblxuICAgICAqIChpLmUuIGR1ZSB0byBhbiBlcnJvciksIGluaXRpYWxEZWxheU1zIChwbHVzIGppdHRlcikgd2lsbCBiZSB1c2VkLCBhbmRcbiAgICAgKiBzdWJzZXF1ZW50IG9uZXMgd2lsbCBpbmNyZWFzZSBhY2NvcmRpbmcgdG8gdGhlIGJhY2tvZmZGYWN0b3IuXG4gICAgICovICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmtvID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBiYWNrb2ZmIGRlbGF5IHRvIHRoZSBtYXhpbXVtIGRlbGF5IChlLmcuIGZvciB1c2UgYWZ0ZXIgYVxuICAgICAqIFJFU09VUkNFX0VYSEFVU1RFRCBlcnJvcikuXG4gICAgICovICAgIEtvKCkge1xuICAgICAgICB0aGlzLmtvID0gdGhpcy5CbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciBjdXJyZW50RGVsYXlNcywgYW5kIGluY3JlYXNlcyB0aGVcbiAgICAgKiBkZWxheSBmb3IgYW55IHN1YnNlcXVlbnQgYXR0ZW1wdHMuIElmIHRoZXJlIHdhcyBhIHBlbmRpbmcgYmFja29mZiBvcGVyYXRpb25cbiAgICAgKiBhbHJlYWR5LCBpdCB3aWxsIGJlIGNhbmNlbGVkLlxuICAgICAqLyAgICAkbyhlKSB7XG4gICAgICAgIC8vIENhbmNlbCBhbnkgcGVuZGluZyBiYWNrb2ZmIG9wZXJhdGlvbi5cbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgLy8gRmlyc3Qgc2NoZWR1bGUgdXNpbmcgdGhlIGN1cnJlbnQgYmFzZSAod2hpY2ggbWF5IGJlIDAgYW5kIHNob3VsZCBiZVxuICAgICAgICAvLyBob25vcmVkIGFzIHN1Y2gpLlxuICAgICAgICBjb25zdCB0ID0gTWF0aC5mbG9vcih0aGlzLmtvICsgdGhpcy5VbygpKSwgbiA9IE1hdGgubWF4KDAsIERhdGUubm93KCkgLSB0aGlzLlFvKSwgciA9IE1hdGgubWF4KDAsIHQgLSBuKTtcbiAgICAgICAgLy8gR3VhcmQgYWdhaW5zdCBsYXN0QXR0ZW1wdFRpbWUgYmVpbmcgaW4gdGhlIGZ1dHVyZSBkdWUgdG8gYSBjbG9jayBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgciA+IDAgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiRXhwb25lbnRpYWxCYWNrb2ZmXCIsIGBCYWNraW5nIG9mZiBmb3IgJHtyfSBtcyAoYmFzZSBkZWxheTogJHt0aGlzLmtvfSBtcywgZGVsYXkgd2l0aCBqaXR0ZXI6ICR7dH0gbXMsIGxhc3QgYXR0ZW1wdDogJHtufSBtcyBhZ28pYCksIFxuICAgICAgICB0aGlzLnFvID0gdGhpcy5vaS5lbnF1ZXVlQWZ0ZXJEZWxheSh0aGlzLnRpbWVySWQsIHIsICgoKSA9PiAodGhpcy5RbyA9IERhdGUubm93KCksIFxuICAgICAgICBlKCkpKSksIFxuICAgICAgICAvLyBBcHBseSBiYWNrb2ZmIGZhY3RvciB0byBkZXRlcm1pbmUgbmV4dCBkZWxheSBhbmQgZW5zdXJlIGl0IGlzIHdpdGhpblxuICAgICAgICAvLyBib3VuZHMuXG4gICAgICAgIHRoaXMua28gKj0gdGhpcy5MbywgdGhpcy5rbyA8IHRoaXMuTm8gJiYgKHRoaXMua28gPSB0aGlzLk5vKSwgdGhpcy5rbyA+IHRoaXMuQm8gJiYgKHRoaXMua28gPSB0aGlzLkJvKTtcbiAgICB9XG4gICAgV28oKSB7XG4gICAgICAgIG51bGwgIT09IHRoaXMucW8gJiYgKHRoaXMucW8uc2tpcERlbGF5KCksIHRoaXMucW8gPSBudWxsKTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICBudWxsICE9PSB0aGlzLnFvICYmICh0aGlzLnFvLmNhbmNlbCgpLCB0aGlzLnFvID0gbnVsbCk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHZhbHVlIGluIHRoZSByYW5nZSBbLWN1cnJlbnRCYXNlTXMvMiwgY3VycmVudEJhc2VNcy8yXSAqLyAgICBVbygpIHtcbiAgICAgICAgcmV0dXJuIChNYXRoLnJhbmRvbSgpIC0gLjUpICogdGhpcy5rbztcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgUGVyc2lzdGVudFN0cmVhbSBpcyBhbiBhYnN0cmFjdCBiYXNlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHN0cmVhbWluZyBSUENcbiAqIHRvIHRoZSBGaXJlc3RvcmUgYmFja2VuZC4gSXQncyBidWlsdCBvbiB0b3Agb2YgdGhlIGNvbm5lY3Rpb25zIG93biBzdXBwb3J0XG4gKiBmb3Igc3RyZWFtaW5nIFJQQ3MsIGFuZCBhZGRzIHNldmVyYWwgY3JpdGljYWwgZmVhdHVyZXMgZm9yIG91ciBjbGllbnRzOlxuICpcbiAqICAgLSBFeHBvbmVudGlhbCBiYWNrb2ZmIG9uIGZhaWx1cmVcbiAqICAgLSBBdXRoZW50aWNhdGlvbiB2aWEgQ3JlZGVudGlhbHNQcm92aWRlclxuICogICAtIERpc3BhdGNoaW5nIGFsbCBjYWxsYmFja3MgaW50byB0aGUgc2hhcmVkIHdvcmtlciBxdWV1ZVxuICogICAtIENsb3NpbmcgaWRsZSBzdHJlYW1zIGFmdGVyIDYwIHNlY29uZHMgb2YgaW5hY3Rpdml0eVxuICpcbiAqIFN1YmNsYXNzZXMgb2YgUGVyc2lzdGVudFN0cmVhbSBpbXBsZW1lbnQgc2VyaWFsaXphdGlvbiBvZiBtb2RlbHMgdG8gYW5kXG4gKiBmcm9tIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcm90b2NvbCBidWZmZXJzIGZvciBhIHNwZWNpZmljXG4gKiBzdHJlYW1pbmcgUlBDLlxuICpcbiAqICMjIFN0YXJ0aW5nIGFuZCBTdG9wcGluZ1xuICpcbiAqIFN0cmVhbWluZyBSUENzIGFyZSBzdGF0ZWZ1bCBhbmQgbmVlZCB0byBiZSBzdGFydCgpZWQgYmVmb3JlIG1lc3NhZ2VzIGNhblxuICogYmUgc2VudCBhbmQgcmVjZWl2ZWQuIFRoZSBQZXJzaXN0ZW50U3RyZWFtIHdpbGwgY2FsbCB0aGUgb25PcGVuKCkgZnVuY3Rpb25cbiAqIG9mIHRoZSBsaXN0ZW5lciBvbmNlIHRoZSBzdHJlYW0gaXMgcmVhZHkgdG8gYWNjZXB0IHJlcXVlc3RzLlxuICpcbiAqIFNob3VsZCBhIHN0YXJ0KCkgZmFpbCwgUGVyc2lzdGVudFN0cmVhbSB3aWxsIGNhbGwgdGhlIHJlZ2lzdGVyZWQgb25DbG9zZSgpXG4gKiBsaXN0ZW5lciB3aXRoIGEgRmlyZXN0b3JlRXJyb3IgaW5kaWNhdGluZyB3aGF0IHdlbnQgd3JvbmcuXG4gKlxuICogQSBQZXJzaXN0ZW50U3RyZWFtIGNhbiBiZSBzdGFydGVkIGFuZCBzdG9wcGVkIHJlcGVhdGVkbHkuXG4gKlxuICogR2VuZXJpYyB0eXBlczpcbiAqICBTZW5kVHlwZTogVGhlIHR5cGUgb2YgdGhlIG91dGdvaW5nIG1lc3NhZ2Ugb2YgdGhlIHVuZGVybHlpbmdcbiAqICAgIGNvbm5lY3Rpb24gc3RyZWFtXG4gKiAgUmVjZWl2ZVR5cGU6IFRoZSB0eXBlIG9mIHRoZSBpbmNvbWluZyBtZXNzYWdlIG9mIHRoZSB1bmRlcmx5aW5nXG4gKiAgICBjb25uZWN0aW9uIHN0cmVhbVxuICogIExpc3RlbmVyVHlwZTogVGhlIHR5cGUgb2YgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBjYWxsYmFja3NcbiAqL1xuY2xhc3MgX19QUklWQVRFX1BlcnNpc3RlbnRTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMsIG8sIF8pIHtcbiAgICAgICAgdGhpcy5vaSA9IGUsIHRoaXMuR28gPSBuLCB0aGlzLnpvID0gciwgdGhpcy5jb25uZWN0aW9uID0gaSwgdGhpcy5hdXRoQ3JlZGVudGlhbHNQcm92aWRlciA9IHMsIFxuICAgICAgICB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlciA9IG8sIHRoaXMubGlzdGVuZXIgPSBfLCB0aGlzLnN0YXRlID0gMCAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuSW5pdGlhbCAqLyAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjbG9zZSBjb3VudCB0aGF0J3MgaW5jcmVtZW50ZWQgZXZlcnkgdGltZSB0aGUgc3RyZWFtIGlzIGNsb3NlZDsgdXNlZCBieVxuICAgICAgICAgKiBnZXRDbG9zZUd1YXJkZWREaXNwYXRjaGVyKCkgdG8gaW52YWxpZGF0ZSBjYWxsYmFja3MgdGhhdCBoYXBwZW4gYWZ0ZXJcbiAgICAgICAgICogY2xvc2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmpvID0gMCwgdGhpcy5IbyA9IG51bGwsIHRoaXMuSm8gPSBudWxsLCB0aGlzLnN0cmVhbSA9IG51bGwsIHRoaXMuWW8gPSBuZXcgX19QUklWQVRFX0V4cG9uZW50aWFsQmFja29mZihlLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHN0YXJ0KCkgaGFzIGJlZW4gY2FsbGVkIGFuZCBubyBlcnJvciBoYXMgb2NjdXJyZWQuIFRydWVcbiAgICAgKiBpbmRpY2F0ZXMgdGhlIHN0cmVhbSBpcyBvcGVuIG9yIGluIHRoZSBwcm9jZXNzIG9mIG9wZW5pbmcgKHdoaWNoXG4gICAgICogZW5jb21wYXNzZXMgcmVzcGVjdGluZyBiYWNrb2ZmLCBnZXR0aW5nIGF1dGggdG9rZW5zLCBhbmQgc3RhcnRpbmcgdGhlXG4gICAgICogYWN0dWFsIFJQQykuIFVzZSBpc09wZW4oKSB0byBkZXRlcm1pbmUgaWYgdGhlIHN0cmVhbSBpcyBvcGVuIGFuZCByZWFkeSBmb3JcbiAgICAgKiBvdXRib3VuZCByZXF1ZXN0cy5cbiAgICAgKi8gICAgWm8oKSB7XG4gICAgICAgIHJldHVybiAxIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5TdGFydGluZyAqLyA9PT0gdGhpcy5zdGF0ZSB8fCA1IC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5CYWNrb2ZmICovID09PSB0aGlzLnN0YXRlIHx8IHRoaXMuWG8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIFJQQyBpcyBvcGVuICh0aGUgb25PcGVuKCkgbGlzdGVuZXIgaGFzIGJlZW5cbiAgICAgKiBjYWxsZWQpIGFuZCB0aGUgc3RyZWFtIGlzIHJlYWR5IGZvciBvdXRib3VuZCByZXF1ZXN0cy5cbiAgICAgKi8gICAgWG8oKSB7XG4gICAgICAgIHJldHVybiAyIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5PcGVuICovID09PSB0aGlzLnN0YXRlIHx8IDMgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkhlYWx0aHkgKi8gPT09IHRoaXMuc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgUlBDLiBPbmx5IGFsbG93ZWQgaWYgaXNTdGFydGVkKCkgcmV0dXJucyBmYWxzZS4gVGhlIHN0cmVhbSBpc1xuICAgICAqIG5vdCBpbW1lZGlhdGVseSByZWFkeSBmb3IgdXNlOiBvbk9wZW4oKSB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgUlBDIGlzXG4gICAgICogcmVhZHkgZm9yIG91dGJvdW5kIHJlcXVlc3RzLCBhdCB3aGljaCBwb2ludCBpc09wZW4oKSB3aWxsIHJldHVybiB0cnVlLlxuICAgICAqXG4gICAgICogV2hlbiBzdGFydCByZXR1cm5zLCBpc1N0YXJ0ZWQoKSB3aWxsIHJldHVybiB0cnVlLlxuICAgICAqLyAgICBzdGFydCgpIHtcbiAgICAgICAgNCAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuRXJyb3IgKi8gIT09IHRoaXMuc3RhdGUgPyB0aGlzLmF1dGgoKSA6IHRoaXMuZV8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIFJQQy4gVGhpcyBjYWxsIGlzIGlkZW1wb3RlbnQgYW5kIGFsbG93ZWQgcmVnYXJkbGVzcyBvZiB0aGVcbiAgICAgKiBjdXJyZW50IGlzU3RhcnRlZCgpIHN0YXRlLlxuICAgICAqXG4gICAgICogV2hlbiBzdG9wIHJldHVybnMsIGlzU3RhcnRlZCgpIGFuZCBpc09wZW4oKSB3aWxsIGJvdGggcmV0dXJuIGZhbHNlLlxuICAgICAqLyAgICBhc3luYyBzdG9wKCkge1xuICAgICAgICB0aGlzLlpvKCkgJiYgYXdhaXQgdGhpcy5jbG9zZSgwIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5Jbml0aWFsICovKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgYW4gZXJyb3IgdGhlIHN0cmVhbSB3aWxsIHVzdWFsbHkgYmFjayBvZmYgb24gdGhlIG5leHQgYXR0ZW1wdCB0b1xuICAgICAqIHN0YXJ0IGl0LiBJZiB0aGUgZXJyb3Igd2FycmFudHMgYW4gaW1tZWRpYXRlIHJlc3RhcnQgb2YgdGhlIHN0cmVhbSwgdGhlXG4gICAgICogc2VuZGVyIGNhbiB1c2UgdGhpcyB0byBpbmRpY2F0ZSB0aGF0IHRoZSByZWNlaXZlciBzaG91bGQgbm90IGJhY2sgb2ZmLlxuICAgICAqXG4gICAgICogRWFjaCBlcnJvciB3aWxsIGNhbGwgdGhlIG9uQ2xvc2UoKSBsaXN0ZW5lci4gVGhhdCBmdW5jdGlvbiBjYW4gZGVjaWRlIHRvXG4gICAgICogaW5oaWJpdCBiYWNrb2ZmIGlmIHJlcXVpcmVkLlxuICAgICAqLyAgICB0XygpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDAgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkluaXRpYWwgKi8gLCB0aGlzLllvLnJlc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoaXMgc3RyZWFtIGFzIGlkbGUuIElmIG5vIGZ1cnRoZXIgYWN0aW9ucyBhcmUgcGVyZm9ybWVkIG9uIHRoZVxuICAgICAqIHN0cmVhbSBmb3Igb25lIG1pbnV0ZSwgdGhlIHN0cmVhbSB3aWxsIGF1dG9tYXRpY2FsbHkgY2xvc2UgaXRzZWxmIGFuZFxuICAgICAqIG5vdGlmeSB0aGUgc3RyZWFtJ3Mgb25DbG9zZSgpIGhhbmRsZXIgd2l0aCBTdGF0dXMuT0suIFRoZSBzdHJlYW0gd2lsbCB0aGVuXG4gICAgICogYmUgaW4gYSAhaXNTdGFydGVkKCkgc3RhdGUsIHJlcXVpcmluZyB0aGUgY2FsbGVyIHRvIHN0YXJ0IHRoZSBzdHJlYW0gYWdhaW5cbiAgICAgKiBiZWZvcmUgZnVydGhlciB1c2UuXG4gICAgICpcbiAgICAgKiBPbmx5IHN0cmVhbXMgdGhhdCBhcmUgaW4gc3RhdGUgJ09wZW4nIGNhbiBiZSBtYXJrZWQgaWRsZSwgYXMgYWxsIG90aGVyXG4gICAgICogc3RhdGVzIGltcGx5IHBlbmRpbmcgbmV0d29yayBvcGVyYXRpb25zLlxuICAgICAqLyAgICBuXygpIHtcbiAgICAgICAgLy8gU3RhcnRzIHRoZSBpZGxlIHRpbWUgaWYgd2UgYXJlIGluIHN0YXRlICdPcGVuJyBhbmQgYXJlIG5vdCB5ZXQgYWxyZWFkeVxuICAgICAgICAvLyBydW5uaW5nIGEgdGltZXIgKGluIHdoaWNoIGNhc2UgdGhlIHByZXZpb3VzIGlkbGUgdGltZW91dCBzdGlsbCBhcHBsaWVzKS5cbiAgICAgICAgdGhpcy5YbygpICYmIG51bGwgPT09IHRoaXMuSG8gJiYgKHRoaXMuSG8gPSB0aGlzLm9pLmVucXVldWVBZnRlckRlbGF5KHRoaXMuR28sIDZlNCwgKCgpID0+IHRoaXMucl8oKSkpKTtcbiAgICB9XG4gICAgLyoqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgdW5kZXJseWluZyBzdHJlYW0uICovICAgIGlfKGUpIHtcbiAgICAgICAgdGhpcy5zXygpLCB0aGlzLnN0cmVhbS5zZW5kKGUpO1xuICAgIH1cbiAgICAvKiogQ2FsbGVkIGJ5IHRoZSBpZGxlIHRpbWVyIHdoZW4gdGhlIHN0cmVhbSBzaG91bGQgY2xvc2UgZHVlIHRvIGluYWN0aXZpdHkuICovICAgIGFzeW5jIHJfKCkge1xuICAgICAgICBpZiAodGhpcy5YbygpKSBcbiAgICAgICAgLy8gV2hlbiB0aW1pbmcgb3V0IGFuIGlkbGUgc3RyZWFtIHRoZXJlJ3Mgbm8gcmVhc29uIHRvIGZvcmNlIHRoZSBzdHJlYW0gaW50byBiYWNrb2ZmIHdoZW5cbiAgICAgICAgLy8gaXQgcmVzdGFydHMgc28gc2V0IHRoZSBzdHJlYW0gc3RhdGUgdG8gSW5pdGlhbCBpbnN0ZWFkIG9mIEVycm9yLlxuICAgICAgICByZXR1cm4gdGhpcy5jbG9zZSgwIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5Jbml0aWFsICovKTtcbiAgICB9XG4gICAgLyoqIE1hcmtzIHRoZSBzdHJlYW0gYXMgYWN0aXZlIGFnYWluLiAqLyAgICBzXygpIHtcbiAgICAgICAgdGhpcy5IbyAmJiAodGhpcy5Iby5jYW5jZWwoKSwgdGhpcy5IbyA9IG51bGwpO1xuICAgIH1cbiAgICAvKiogQ2FuY2VscyB0aGUgaGVhbHRoIGNoZWNrIGRlbGF5ZWQgb3BlcmF0aW9uLiAqLyAgICBvXygpIHtcbiAgICAgICAgdGhpcy5KbyAmJiAodGhpcy5Kby5jYW5jZWwoKSwgdGhpcy5KbyA9IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHN0cmVhbSBhbmQgY2xlYW5zIHVwIGFzIG5lY2Vzc2FyeTpcbiAgICAgKlxuICAgICAqICogY2xvc2VzIHRoZSB1bmRlcmx5aW5nIEdSUEMgc3RyZWFtO1xuICAgICAqICogY2FsbHMgdGhlIG9uQ2xvc2UgaGFuZGxlciB3aXRoIHRoZSBnaXZlbiAnZXJyb3InO1xuICAgICAqICogc2V0cyBpbnRlcm5hbCBzdHJlYW0gc3RhdGUgdG8gJ2ZpbmFsU3RhdGUnO1xuICAgICAqICogYWRqdXN0cyB0aGUgYmFja29mZiB0aW1lciBiYXNlZCBvbiB0aGUgZXJyb3JcbiAgICAgKlxuICAgICAqIEEgbmV3IHN0cmVhbSBjYW4gYmUgb3BlbmVkIGJ5IGNhbGxpbmcgc3RhcnQoKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaW5hbFN0YXRlIC0gdGhlIGludGVuZGVkIHN0YXRlIG9mIHRoZSBzdHJlYW0gYWZ0ZXIgY2xvc2luZy5cbiAgICAgKiBAcGFyYW0gZXJyb3IgLSB0aGUgZXJyb3IgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCB3aXRoLlxuICAgICAqLyAgICBhc3luYyBjbG9zZShlLCB0KSB7XG4gICAgICAgIC8vIENhbmNlbCBhbnkgb3V0c3RhbmRpbmcgdGltZXJzICh0aGV5J3JlIGd1YXJhbnRlZWQgbm90IHRvIGV4ZWN1dGUpLlxuICAgICAgICB0aGlzLnNfKCksIHRoaXMub18oKSwgdGhpcy5Zby5jYW5jZWwoKSwgXG4gICAgICAgIC8vIEludmFsaWRhdGVzIGFueSBzdHJlYW0tcmVsYXRlZCBjYWxsYmFja3MgKGUuZy4gZnJvbSBhdXRoIG9yIHRoZVxuICAgICAgICAvLyB1bmRlcmx5aW5nIHN0cmVhbSksIGd1YXJhbnRlZWluZyB0aGV5IHdvbid0IGV4ZWN1dGUuXG4gICAgICAgIHRoaXMuam8rKywgNCAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuRXJyb3IgKi8gIT09IGUgPyBcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBpbnRlbnRpb25hbCBjbG9zZSBlbnN1cmUgd2UgZG9uJ3QgZGVsYXkgb3VyIG5leHQgY29ubmVjdGlvbiBhdHRlbXB0LlxuICAgICAgICB0aGlzLllvLnJlc2V0KCkgOiB0ICYmIHQuY29kZSA9PT0gQy5SRVNPVVJDRV9FWEhBVVNURUQgPyAoXG4gICAgICAgIC8vIExvZyB0aGUgZXJyb3IuIChQcm9iYWJseSBlaXRoZXIgJ3F1b3RhIGV4Y2VlZGVkJyBvciAnbWF4IHF1ZXVlIGxlbmd0aCByZWFjaGVkJy4pXG4gICAgICAgIF9fUFJJVkFURV9sb2dFcnJvcih0LnRvU3RyaW5nKCkpLCBfX1BSSVZBVEVfbG9nRXJyb3IoXCJVc2luZyBtYXhpbXVtIGJhY2tvZmYgZGVsYXkgdG8gcHJldmVudCBvdmVybG9hZGluZyB0aGUgYmFja2VuZC5cIiksIFxuICAgICAgICB0aGlzLllvLktvKCkpIDogdCAmJiB0LmNvZGUgPT09IEMuVU5BVVRIRU5USUNBVEVEICYmIDMgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkhlYWx0aHkgKi8gIT09IHRoaXMuc3RhdGUgJiYgKFxuICAgICAgICAvLyBcInVuYXV0aGVudGljYXRlZFwiIGVycm9yIG1lYW5zIHRoZSB0b2tlbiB3YXMgcmVqZWN0ZWQuIFRoaXMgc2hvdWxkIHJhcmVseVxuICAgICAgICAvLyBoYXBwZW4gc2luY2UgYm90aCBBdXRoIGFuZCBBcHBDaGVjayBlbnN1cmUgYSBzdWZmaWNpZW50IFRUTCB3aGVuIHdlXG4gICAgICAgIC8vIHJlcXVlc3QgYSB0b2tlbi4gSWYgYSB1c2VyIG1hbnVhbGx5IHJlc2V0cyB0aGVpciBzeXN0ZW0gY2xvY2sgdGhpcyBjYW5cbiAgICAgICAgLy8gZmFpbCwgaG93ZXZlci4gSW4gdGhpcyBjYXNlLCB3ZSBzaG91bGQgZ2V0IGEgQ29kZS5VTkFVVEhFTlRJQ0FURUQgZXJyb3JcbiAgICAgICAgLy8gYmVmb3JlIHdlIHJlY2VpdmVkIHRoZSBmaXJzdCBtZXNzYWdlIGFuZCB3ZSBuZWVkIHRvIGludmFsaWRhdGUgdGhlIHRva2VuXG4gICAgICAgIC8vIHRvIGVuc3VyZSB0aGF0IHdlIGZldGNoIGEgbmV3IHRva2VuLlxuICAgICAgICB0aGlzLmF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyLmludmFsaWRhdGVUb2tlbigpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlci5pbnZhbGlkYXRlVG9rZW4oKSksIFxuICAgICAgICAvLyBDbGVhbiB1cCB0aGUgdW5kZXJseWluZyBzdHJlYW0gYmVjYXVzZSB3ZSBhcmUgbm8gbG9uZ2VyIGludGVyZXN0ZWQgaW4gZXZlbnRzLlxuICAgICAgICBudWxsICE9PSB0aGlzLnN0cmVhbSAmJiAodGhpcy5fXygpLCB0aGlzLnN0cmVhbS5jbG9zZSgpLCB0aGlzLnN0cmVhbSA9IG51bGwpLCBcbiAgICAgICAgLy8gVGhpcyBzdGF0ZSBtdXN0IGJlIGFzc2lnbmVkIGJlZm9yZSBjYWxsaW5nIG9uQ2xvc2UoKSB0byBhbGxvdyB0aGUgY2FsbGJhY2sgdG9cbiAgICAgICAgLy8gaW5oaWJpdCBiYWNrb2ZmIG9yIG90aGVyd2lzZSBtYW5pcHVsYXRlIHRoZSBzdGF0ZSBpbiBpdHMgbm9uLXN0YXJ0ZWQgc3RhdGUuXG4gICAgICAgIHRoaXMuc3RhdGUgPSBlLCBcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBsaXN0ZW5lciB0aGF0IHRoZSBzdHJlYW0gY2xvc2VkLlxuICAgICAgICBhd2FpdCB0aGlzLmxpc3RlbmVyLkFvKHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW4gYmUgb3ZlcnJpZGRlbiB0byBwZXJmb3JtIGFkZGl0aW9uYWwgY2xlYW51cCBiZWZvcmUgdGhlIHN0cmVhbSBpcyBjbG9zZWQuXG4gICAgICogQ2FsbGluZyBzdXBlci50ZWFyRG93bigpIGlzIG5vdCByZXF1aXJlZC5cbiAgICAgKi8gICAgX18oKSB7fVxuICAgIGF1dGgoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAxIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5TdGFydGluZyAqLztcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuYV8odGhpcy5qbyksIHQgPSB0aGlzLmpvO1xuICAgICAgICAvLyBUT0RPKG1pa2VsZWhlbik6IEp1c3QgdXNlIGRpc3BhdGNoSWZOb3RDbG9zZWQsIGJ1dCBzZWUgVE9ETyBiZWxvdy5cbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbIHRoaXMuYXV0aENyZWRlbnRpYWxzUHJvdmlkZXIuZ2V0VG9rZW4oKSwgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzUHJvdmlkZXIuZ2V0VG9rZW4oKSBdKS50aGVuKCgoW2UsIG5dKSA9PiB7XG4gICAgICAgICAgICAvLyBTdHJlYW0gY2FuIGJlIHN0b3BwZWQgd2hpbGUgd2FpdGluZyBmb3IgYXV0aGVudGljYXRpb24uXG4gICAgICAgICAgICAvLyBUT0RPKG1pa2VsZWhlbik6IFdlIHJlYWxseSBzaG91bGQganVzdCB1c2UgZGlzcGF0Y2hJZk5vdENsb3NlZFxuICAgICAgICAgICAgLy8gYW5kIGxldCB0aGlzIGRpc3BhdGNoIG9udG8gdGhlIHF1ZXVlLCBidXQgdGhhdCBvcGVuZWQgYSBzcGVjIHRlc3QgY2FuXG4gICAgICAgICAgICAvLyBvZiB3b3JtcyB0aGF0IEkgZG9uJ3Qgd2FudCB0byBkZWFsIHdpdGggaW4gdGhpcyBQUi5cbiAgICAgICAgICAgIHRoaXMuam8gPT09IHQgJiYgXG4gICAgICAgICAgICAvLyBOb3JtYWxseSB3ZSdkIGhhdmUgdG8gc2NoZWR1bGUgdGhlIGNhbGxiYWNrIG9uIHRoZSBBc3luY1F1ZXVlLlxuICAgICAgICAgICAgLy8gSG93ZXZlciwgdGhlIGZvbGxvd2luZyBjYWxscyBhcmUgc2FmZSB0byBiZSBjYWxsZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICAgIC8vIEFzeW5jUXVldWUgc2luY2UgdGhleSBkb24ndCBjaGFpbiBhc3luY2hyb25vdXMgY2FsbHNcbiAgICAgICAgICAgIHRoaXMudV8oZSwgbik7XG4gICAgICAgIH0pLCAodCA9PiB7XG4gICAgICAgICAgICBlKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOS05PV04sIFwiRmV0Y2hpbmcgYXV0aCB0b2tlbiBmYWlsZWQ6IFwiICsgdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jXyhlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB1XyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmFfKHRoaXMuam8pO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IHRoaXMubF8oZSwgdCksIHRoaXMuc3RyZWFtLlBvKCgoKSA9PiB7XG4gICAgICAgICAgICBuKCgoKSA9PiB0aGlzLmxpc3RlbmVyLlBvKCkpKTtcbiAgICAgICAgfSkpLCB0aGlzLnN0cmVhbS5UbygoKCkgPT4ge1xuICAgICAgICAgICAgbigoKCkgPT4gKHRoaXMuc3RhdGUgPSAyIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5PcGVuICovICwgdGhpcy5KbyA9IHRoaXMub2kuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy56bywgMWU0LCAoKCkgPT4gKHRoaXMuWG8oKSAmJiAodGhpcy5zdGF0ZSA9IDMgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkhlYWx0aHkgKi8pLCBcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpKSkpLCB0aGlzLmxpc3RlbmVyLlRvKCkpKSk7XG4gICAgICAgIH0pKSwgdGhpcy5zdHJlYW0uQW8oKGUgPT4ge1xuICAgICAgICAgICAgbigoKCkgPT4gdGhpcy5jXyhlKSkpO1xuICAgICAgICB9KSksIHRoaXMuc3RyZWFtLm9uTWVzc2FnZSgoZSA9PiB7XG4gICAgICAgICAgICBuKCgoKSA9PiB0aGlzLm9uTWVzc2FnZShlKSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGVfKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gNSAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuQmFja29mZiAqLyAsIHRoaXMuWW8uJG8oKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAwIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5Jbml0aWFsICovICwgdGhpcy5zdGFydCgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8vIFZpc2libGUgZm9yIHRlc3RzXG4gICAgY18oZSkge1xuICAgICAgICAvLyBJbiB0aGVvcnkgdGhlIHN0cmVhbSBjb3VsZCBjbG9zZSBjbGVhbmx5LCBob3dldmVyLCBpbiBvdXIgY3VycmVudCBtb2RlbFxuICAgICAgICAvLyB3ZSBuZXZlciBleHBlY3QgdGhpcyB0byBoYXBwZW4gYmVjYXVzZSBpZiB3ZSBzdG9wIGEgc3RyZWFtIG91cnNlbHZlcyxcbiAgICAgICAgLy8gdGhpcyBjYWxsYmFjayB3aWxsIG5ldmVyIGJlIGNhbGxlZC4gVG8gcHJldmVudCBjYXNlcyB3aGVyZSB3ZSByZXRyeVxuICAgICAgICAvLyB3aXRob3V0IGEgYmFja29mZiBhY2NpZGVudGFsbHksIHdlIHNldCB0aGUgc3RyZWFtIHRvIGVycm9yIGluIGFsbCBjYXNlcy5cbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlBlcnNpc3RlbnRTdHJlYW1cIiwgYGNsb3NlIHdpdGggZXJyb3I6ICR7ZX1gKSwgdGhpcy5zdHJlYW0gPSBudWxsLCBcbiAgICAgICAgdGhpcy5jbG9zZSg0IC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5FcnJvciAqLyAsIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgXCJkaXNwYXRjaGVyXCIgZnVuY3Rpb24gdGhhdCBkaXNwYXRjaGVzIG9wZXJhdGlvbnMgb250byB0aGVcbiAgICAgKiBBc3luY1F1ZXVlIGJ1dCBvbmx5IHJ1bnMgdGhlbSBpZiBjbG9zZUNvdW50IHJlbWFpbnMgdW5jaGFuZ2VkLiBUaGlzIGFsbG93c1xuICAgICAqIHVzIHRvIHR1cm4gYXV0aCAvIHN0cmVhbSBjYWxsYmFja3MgaW50byBuby1vcHMgaWYgdGhlIHN0cmVhbSBpcyBjbG9zZWQgL1xuICAgICAqIHJlLW9wZW5lZCwgZXRjLlxuICAgICAqLyAgICBhXyhlKSB7XG4gICAgICAgIHJldHVybiB0ID0+IHtcbiAgICAgICAgICAgIHRoaXMub2kuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gdGhpcy5qbyA9PT0gZSA/IHQoKSA6IChfX1BSSVZBVEVfbG9nRGVidWcoXCJQZXJzaXN0ZW50U3RyZWFtXCIsIFwic3RyZWFtIGNhbGxiYWNrIHNraXBwZWQgYnkgZ2V0Q2xvc2VHdWFyZGVkRGlzcGF0Y2hlci5cIiksIFxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkpKSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vKipcbiAqIEEgUGVyc2lzdGVudFN0cmVhbSB0aGF0IGltcGxlbWVudHMgdGhlIExpc3RlbiBSUEMuXG4gKlxuICogT25jZSB0aGUgTGlzdGVuIHN0cmVhbSBoYXMgY2FsbGVkIHRoZSBvbk9wZW4oKSBsaXN0ZW5lciwgYW55IG51bWJlciBvZlxuICogbGlzdGVuKCkgYW5kIHVubGlzdGVuKCkgY2FsbHMgY2FuIGJlIG1hZGUgdG8gY29udHJvbCB3aGF0IGNoYW5nZXMgd2lsbCBiZVxuICogc2VudCBmcm9tIHRoZSBzZXJ2ZXIgZm9yIExpc3RlblJlc3BvbnNlcy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfUGVyc2lzdGVudExpc3RlblN0cmVhbSBleHRlbmRzIF9fUFJJVkFURV9QZXJzaXN0ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpLCBzKSB7XG4gICAgICAgIHN1cGVyKGUsIFwibGlzdGVuX3N0cmVhbV9jb25uZWN0aW9uX2JhY2tvZmZcIiAvKiBUaW1lcklkLkxpc3RlblN0cmVhbUNvbm5lY3Rpb25CYWNrb2ZmICovICwgXCJsaXN0ZW5fc3RyZWFtX2lkbGVcIiAvKiBUaW1lcklkLkxpc3RlblN0cmVhbUlkbGUgKi8gLCBcImhlYWx0aF9jaGVja190aW1lb3V0XCIgLyogVGltZXJJZC5IZWFsdGhDaGVja1RpbWVvdXQgKi8gLCB0LCBuLCByLCBzKSwgXG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IGk7XG4gICAgfVxuICAgIGxfKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5PbyhcIkxpc3RlblwiLCBlLCB0KTtcbiAgICB9XG4gICAgb25NZXNzYWdlKGUpIHtcbiAgICAgICAgLy8gQSBzdWNjZXNzZnVsIHJlc3BvbnNlIG1lYW5zIHRoZSBzdHJlYW0gaXMgaGVhbHRoeVxuICAgICAgICB0aGlzLllvLnJlc2V0KCk7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZnJvbVdhdGNoQ2hhbmdlKHRoaXMuc2VyaWFsaXplciwgZSksIG4gPSBmdW5jdGlvbiBfX1BSSVZBVEVfdmVyc2lvbkZyb21MaXN0ZW5SZXNwb25zZShlKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIG9ubHkgcmVhY2hlZCBhIGNvbnNpc3RlbnQgc25hcHNob3QgZm9yIHRoZSBlbnRpcmUgc3RyZWFtIGlmIHRoZXJlXG4gICAgICAgICAgICAvLyBpcyBhIHJlYWRfdGltZSBzZXQgYW5kIGl0IGFwcGxpZXMgdG8gYWxsIHRhcmdldHMgKGkuZS4gdGhlIGxpc3Qgb2ZcbiAgICAgICAgICAgIC8vIHRhcmdldHMgaXMgZW1wdHkpLiBUaGUgYmFja2VuZCBpcyBndWFyYW50ZWVkIHRvIHNlbmQgc3VjaCByZXNwb25zZXMuXG4gICAgICAgICAgICBpZiAoIShcInRhcmdldENoYW5nZVwiIGluIGUpKSByZXR1cm4gU25hcHNob3RWZXJzaW9uLm1pbigpO1xuICAgICAgICAgICAgY29uc3QgdCA9IGUudGFyZ2V0Q2hhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIHQudGFyZ2V0SWRzICYmIHQudGFyZ2V0SWRzLmxlbmd0aCA/IFNuYXBzaG90VmVyc2lvbi5taW4oKSA6IHQucmVhZFRpbWUgPyBfX1BSSVZBVEVfZnJvbVZlcnNpb24odC5yZWFkVGltZSkgOiBTbmFwc2hvdFZlcnNpb24ubWluKCk7XG4gICAgICAgIH0oZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmhfKHQsIG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgaW50ZXJlc3QgaW4gdGhlIHJlc3VsdHMgb2YgdGhlIGdpdmVuIHRhcmdldC4gSWYgdGhlIHRhcmdldFxuICAgICAqIGluY2x1ZGVzIGEgcmVzdW1lVG9rZW4gaXQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVxdWVzdC4gUmVzdWx0cyB0aGF0XG4gICAgICogYWZmZWN0IHRoZSB0YXJnZXQgd2lsbCBiZSBzdHJlYW1lZCBiYWNrIGFzIFdhdGNoQ2hhbmdlIG1lc3NhZ2VzIHRoYXRcbiAgICAgKiByZWZlcmVuY2UgdGhlIHRhcmdldElkLlxuICAgICAqLyAgICBQXyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7fTtcbiAgICAgICAgdC5kYXRhYmFzZSA9IF9fUFJJVkFURV9nZXRFbmNvZGVkRGF0YWJhc2VJZCh0aGlzLnNlcmlhbGl6ZXIpLCB0LmFkZFRhcmdldCA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b1RhcmdldChlLCB0KSB7XG4gICAgICAgICAgICBsZXQgbjtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0LnRhcmdldDtcbiAgICAgICAgICAgIGlmIChuID0gX19QUklWQVRFX3RhcmdldElzRG9jdW1lbnRUYXJnZXQocikgPyB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRzOiBfX1BSSVZBVEVfdG9Eb2N1bWVudHNUYXJnZXQoZSwgcilcbiAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgcXVlcnk6IF9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0KGUsIHIpLl90XG4gICAgICAgICAgICB9LCBuLnRhcmdldElkID0gdC50YXJnZXRJZCwgdC5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgbi5yZXN1bWVUb2tlbiA9IF9fUFJJVkFURV90b0J5dGVzKGUsIHQucmVzdW1lVG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfdG9JbnQzMlByb3RvKGUsIHQuZXhwZWN0ZWRDb3VudCk7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gciAmJiAobi5leHBlY3RlZENvdW50ID0gcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQuc25hcHNob3RWZXJzaW9uLmNvbXBhcmVUbyhTbmFwc2hvdFZlcnNpb24ubWluKCkpID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8od3VhbmR5KTogQ29uc2lkZXIgcmVtb3ZpbmcgYWJvdmUgY2hlY2sgYmVjYXVzZSBpdCBpcyBtb3N0IGxpa2VseSB0cnVlLlxuICAgICAgICAgICAgICAgIC8vIFJpZ2h0IG5vdywgbWFueSB0ZXN0cyBkZXBlbmQgb24gdGhpcyBiZWhhdmlvdXIgdGhvdWdoIChsZWF2aW5nIG1pbigpIG91dFxuICAgICAgICAgICAgICAgIC8vIG9mIHNlcmlhbGl6YXRpb24pLlxuICAgICAgICAgICAgICAgIG4ucmVhZFRpbWUgPSB0b1RpbWVzdGFtcChlLCB0LnNuYXBzaG90VmVyc2lvbi50b1RpbWVzdGFtcCgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX3RvSW50MzJQcm90byhlLCB0LmV4cGVjdGVkQ291bnQpO1xuICAgICAgICAgICAgICAgIG51bGwgIT09IHIgJiYgKG4uZXhwZWN0ZWRDb3VudCA9IHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0odGhpcy5zZXJpYWxpemVyLCBlKTtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV90b0xpc3RlblJlcXVlc3RMYWJlbHModGhpcy5zZXJpYWxpemVyLCBlKTtcbiAgICAgICAgbiAmJiAodC5sYWJlbHMgPSBuKSwgdGhpcy5pXyh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgaW50ZXJlc3QgaW4gdGhlIHJlc3VsdHMgb2YgdGhlIHRhcmdldCBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICogZ2l2ZW4gdGFyZ2V0SWQuXG4gICAgICovICAgIElfKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHt9O1xuICAgICAgICB0LmRhdGFiYXNlID0gX19QUklWQVRFX2dldEVuY29kZWREYXRhYmFzZUlkKHRoaXMuc2VyaWFsaXplciksIHQucmVtb3ZlVGFyZ2V0ID0gZSwgXG4gICAgICAgIHRoaXMuaV8odCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgU3RyZWFtIHRoYXQgaW1wbGVtZW50cyB0aGUgV3JpdGUgUlBDLlxuICpcbiAqIFRoZSBXcml0ZSBSUEMgcmVxdWlyZXMgdGhlIGNhbGxlciB0byBtYWludGFpbiBzcGVjaWFsIHN0cmVhbVRva2VuXG4gKiBzdGF0ZSBpbiBiZXR3ZWVuIGNhbGxzLCB0byBoZWxwIHRoZSBzZXJ2ZXIgdW5kZXJzdGFuZCB3aGljaCByZXNwb25zZXMgdGhlXG4gKiBjbGllbnQgaGFzIHByb2Nlc3NlZCBieSB0aGUgdGltZSB0aGUgbmV4dCByZXF1ZXN0IGlzIG1hZGUuIEV2ZXJ5IHJlc3BvbnNlXG4gKiB3aWxsIGNvbnRhaW4gYSBzdHJlYW1Ub2tlbjsgdGhpcyB2YWx1ZSBtdXN0IGJlIHBhc3NlZCB0byB0aGUgbmV4dFxuICogcmVxdWVzdC5cbiAqXG4gKiBBZnRlciBjYWxsaW5nIHN0YXJ0KCkgb24gdGhpcyBzdHJlYW0sIHRoZSBuZXh0IHJlcXVlc3QgbXVzdCBiZSBhIGhhbmRzaGFrZSxcbiAqIGNvbnRhaW5pbmcgd2hhdGV2ZXIgc3RyZWFtVG9rZW4gaXMgb24gaGFuZC4gT25jZSBhIHJlc3BvbnNlIHRvIHRoaXNcbiAqIHJlcXVlc3QgaXMgcmVjZWl2ZWQsIGFsbCBwZW5kaW5nIG11dGF0aW9ucyBtYXkgYmUgc3VibWl0dGVkLiBXaGVuXG4gKiBzdWJtaXR0aW5nIG11bHRpcGxlIGJhdGNoZXMgb2YgbXV0YXRpb25zIGF0IHRoZSBzYW1lIHRpbWUsIGl0J3NcbiAqIG9rYXkgdG8gdXNlIHRoZSBzYW1lIHN0cmVhbVRva2VuIGZvciB0aGUgY2FsbHMgdG8gd3JpdGVNdXRhdGlvbnMuXG4gKlxuICogVE9ETyhiLzMzMjcxMjM1KTogVXNlIHByb3RvIHR5cGVzXG4gKi8gY2xhc3MgX19QUklWQVRFX1BlcnNpc3RlbnRXcml0ZVN0cmVhbSBleHRlbmRzIF9fUFJJVkFURV9QZXJzaXN0ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpLCBzKSB7XG4gICAgICAgIHN1cGVyKGUsIFwid3JpdGVfc3RyZWFtX2Nvbm5lY3Rpb25fYmFja29mZlwiIC8qIFRpbWVySWQuV3JpdGVTdHJlYW1Db25uZWN0aW9uQmFja29mZiAqLyAsIFwid3JpdGVfc3RyZWFtX2lkbGVcIiAvKiBUaW1lcklkLldyaXRlU3RyZWFtSWRsZSAqLyAsIFwiaGVhbHRoX2NoZWNrX3RpbWVvdXRcIiAvKiBUaW1lcklkLkhlYWx0aENoZWNrVGltZW91dCAqLyAsIHQsIG4sIHIsIHMpLCBcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gaSwgdGhpcy5UXyA9ICExO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFja3Mgd2hldGhlciBvciBub3QgYSBoYW5kc2hha2UgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGV4Y2hhbmdlZCBhbmRcbiAgICAgKiB0aGUgc3RyZWFtIGlzIHJlYWR5IHRvIGFjY2VwdCBtdXRhdGlvbnMuXG4gICAgICovICAgIGdldCBFXygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVF87XG4gICAgfVxuICAgIC8vIE92ZXJyaWRlIG9mIFBlcnNpc3RlbnRTdHJlYW0uc3RhcnRcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5UXyA9ICExLCB0aGlzLmxhc3RTdHJlYW1Ub2tlbiA9IHZvaWQgMCwgc3VwZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgX18oKSB7XG4gICAgICAgIHRoaXMuVF8gJiYgdGhpcy5kXyhbXSk7XG4gICAgfVxuICAgIGxfKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5PbyhcIldyaXRlXCIsIGUsIHQpO1xuICAgIH1cbiAgICBvbk1lc3NhZ2UoZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgIC8vIEFsd2F5cyBjYXB0dXJlIHRoZSBsYXN0IHN0cmVhbSB0b2tlbi5cbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoISFlLnN0cmVhbVRva2VuKSwgdGhpcy5sYXN0U3RyZWFtVG9rZW4gPSBlLnN0cmVhbVRva2VuLCB0aGlzLlRfKSB7XG4gICAgICAgICAgICAvLyBBIHN1Y2Nlc3NmdWwgZmlyc3Qgd3JpdGUgcmVzcG9uc2UgbWVhbnMgdGhlIHN0cmVhbSBpcyBoZWFsdGh5LFxuICAgICAgICAgICAgLy8gTm90ZSwgdGhhdCB3ZSBjb3VsZCBjb25zaWRlciBhIHN1Y2Nlc3NmdWwgaGFuZHNoYWtlIGhlYWx0aHksIGhvd2V2ZXIsXG4gICAgICAgICAgICAvLyB0aGUgd3JpdGUgaXRzZWxmIG1pZ2h0IGJlIGNhdXNpbmcgYW4gZXJyb3Igd2Ugd2FudCB0byBiYWNrIG9mZiBmcm9tLlxuICAgICAgICAgICAgdGhpcy5Zby5yZXNldCgpO1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9mcm9tV3JpdGVSZXN1bHRzKGUud3JpdGVSZXN1bHRzLCBlLmNvbW1pdFRpbWUpLCBuID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKGUuY29tbWl0VGltZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5BXyhuLCB0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgZmlyc3QgcmVzcG9uc2UgaXMgYWx3YXlzIHRoZSBoYW5kc2hha2UgcmVzcG9uc2VcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KCFlLndyaXRlUmVzdWx0cyB8fCAwID09PSBlLndyaXRlUmVzdWx0cy5sZW5ndGgpLCB0aGlzLlRfID0gITAsIFxuICAgICAgICB0aGlzLmxpc3RlbmVyLlJfKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGFuIGluaXRpYWwgc3RyZWFtVG9rZW4gdG8gdGhlIHNlcnZlciwgcGVyZm9ybWluZyB0aGUgaGFuZHNoYWtlXG4gICAgICogcmVxdWlyZWQgdG8gbWFrZSB0aGUgU3RyZWFtaW5nV3JpdGUgUlBDIHdvcmsuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyBzaG91bGQgd2FpdCB1bnRpbCBvbkhhbmRzaGFrZUNvbXBsZXRlIHdhcyBjYWxsZWQuXG4gICAgICovICAgIFZfKCkge1xuICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IFN1cHBvcnQgc3RyZWFtIHJlc3VtcHRpb24uIFdlIGludGVudGlvbmFsbHkgZG8gbm90IHNldCB0aGVcbiAgICAgICAgLy8gc3RyZWFtIHRva2VuIG9uIHRoZSBoYW5kc2hha2UsIGlnbm9yaW5nIGFueSBzdHJlYW0gdG9rZW4gd2UgbWlnaHQgaGF2ZS5cbiAgICAgICAgY29uc3QgZSA9IHt9O1xuICAgICAgICBlLmRhdGFiYXNlID0gX19QUklWQVRFX2dldEVuY29kZWREYXRhYmFzZUlkKHRoaXMuc2VyaWFsaXplciksIHRoaXMuaV8oZSk7XG4gICAgfVxuICAgIC8qKiBTZW5kcyBhIGdyb3VwIG9mIG11dGF0aW9ucyB0byB0aGUgRmlyZXN0b3JlIGJhY2tlbmQgdG8gYXBwbHkuICovICAgIGRfKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIHN0cmVhbVRva2VuOiB0aGlzLmxhc3RTdHJlYW1Ub2tlbixcbiAgICAgICAgICAgIHdyaXRlczogZS5tYXAoKGUgPT4gdG9NdXRhdGlvbih0aGlzLnNlcmlhbGl6ZXIsIGUpKSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pXyh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIERhdGFzdG9yZSBhbmQgaXRzIHJlbGF0ZWQgbWV0aG9kcyBhcmUgYSB3cmFwcGVyIGFyb3VuZCB0aGUgZXh0ZXJuYWwgR29vZ2xlXG4gKiBDbG91ZCBEYXRhc3RvcmUgZ3JwYyBBUEksIHdoaWNoIHByb3ZpZGVzIGFuIGludGVyZmFjZSB0aGF0IGlzIG1vcmUgY29udmVuaWVudFxuICogZm9yIHRoZSByZXN0IG9mIHRoZSBjbGllbnQgU0RLIGFyY2hpdGVjdHVyZSB0byBjb25zdW1lLlxuICovXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIERhdGFzdG9yZSB0aGF0IGV4cG9zZXMgYWRkaXRpb25hbCBzdGF0ZSBmb3IgaW50ZXJuYWxcbiAqIGNvbnN1bXB0aW9uLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfRGF0YXN0b3JlSW1wbCBleHRlbmRzIGNsYXNzIERhdGFzdG9yZSB7fSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmF1dGhDcmVkZW50aWFscyA9IGUsIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscyA9IHQsIHRoaXMuY29ubmVjdGlvbiA9IG4sIFxuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSByLCB0aGlzLm1fID0gITE7XG4gICAgfVxuICAgIGZfKCkge1xuICAgICAgICBpZiAodGhpcy5tXykgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJUaGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gdGVybWluYXRlZC5cIik7XG4gICAgfVxuICAgIC8qKiBJbnZva2VzIHRoZSBwcm92aWRlZCBSUEMgd2l0aCBhdXRoIGFuZCBBcHBDaGVjayB0b2tlbnMuICovICAgIENvKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZl8oKSwgUHJvbWlzZS5hbGwoWyB0aGlzLmF1dGhDcmVkZW50aWFscy5nZXRUb2tlbigpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKSBdKS50aGVuKCgoW2ksIHNdKSA9PiB0aGlzLmNvbm5lY3Rpb24uQ28oZSwgX19QUklWQVRFX3RvUmVzb3VyY2VQYXRoKHQsIG4pLCByLCBpLCBzKSkpLmNhdGNoKChlID0+IHtcbiAgICAgICAgICAgIHRocm93IFwiRmlyZWJhc2VFcnJvclwiID09PSBlLm5hbWUgPyAoZS5jb2RlID09PSBDLlVOQVVUSEVOVElDQVRFRCAmJiAodGhpcy5hdXRoQ3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCksIFxuICAgICAgICAgICAgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpKSwgZSkgOiBuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTktOT1dOLCBlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKiBJbnZva2VzIHRoZSBwcm92aWRlZCBSUEMgd2l0aCBzdHJlYW1lZCByZXN1bHRzIHdpdGggYXV0aCBhbmQgQXBwQ2hlY2sgdG9rZW5zLiAqLyAgICB4byhlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZfKCksIFByb21pc2UuYWxsKFsgdGhpcy5hdXRoQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKSwgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzLmdldFRva2VuKCkgXSkudGhlbigoKFtzLCBvXSkgPT4gdGhpcy5jb25uZWN0aW9uLnhvKGUsIF9fUFJJVkFURV90b1Jlc291cmNlUGF0aCh0LCBuKSwgciwgcywgbywgaSkpKS5jYXRjaCgoZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBcIkZpcmViYXNlRXJyb3JcIiA9PT0gZS5uYW1lID8gKGUuY29kZSA9PT0gQy5VTkFVVEhFTlRJQ0FURUQgJiYgKHRoaXMuYXV0aENyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpLCBcbiAgICAgICAgICAgIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscy5pbnZhbGlkYXRlVG9rZW4oKSksIGUpIDogbmV3IEZpcmVzdG9yZUVycm9yKEMuVU5LTk9XTiwgZS50b1N0cmluZygpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHRoaXMubV8gPSAhMCwgdGhpcy5jb25uZWN0aW9uLnRlcm1pbmF0ZSgpO1xuICAgIH1cbn1cblxuLy8gVE9ETyhmaXJlc3RvcmV4cCk6IE1ha2Ugc3VyZSB0aGVyZSBpcyBvbmx5IG9uZSBEYXRhc3RvcmUgaW5zdGFuY2UgcGVyXG4vLyBmaXJlc3RvcmUtZXhwIGNsaWVudC5cbi8qKlxuICogQSBjb21wb25lbnQgdXNlZCBieSB0aGUgUmVtb3RlU3RvcmUgdG8gdHJhY2sgdGhlIE9ubGluZVN0YXRlICh0aGF0IGlzLFxuICogd2hldGhlciBvciBub3QgdGhlIGNsaWVudCBhcyBhIHdob2xlIHNob3VsZCBiZSBjb25zaWRlcmVkIHRvIGJlIG9ubGluZSBvclxuICogb2ZmbGluZSksIGltcGxlbWVudGluZyB0aGUgYXBwcm9wcmlhdGUgaGV1cmlzdGljcy5cbiAqXG4gKiBJbiBwYXJ0aWN1bGFyLCB3aGVuIHRoZSBjbGllbnQgaXMgdHJ5aW5nIHRvIGNvbm5lY3QgdG8gdGhlIGJhY2tlbmQsIHdlXG4gKiBhbGxvdyB1cCB0byBNQVhfV0FUQ0hfU1RSRUFNX0ZBSUxVUkVTIHdpdGhpbiBPTkxJTkVfU1RBVEVfVElNRU9VVF9NUyBmb3JcbiAqIGEgY29ubmVjdGlvbiB0byBzdWNjZWVkLiBJZiB3ZSBoYXZlIHRvbyBtYW55IGZhaWx1cmVzIG9yIHRoZSB0aW1lb3V0IGVsYXBzZXMsXG4gKiB0aGVuIHdlIHNldCB0aGUgT25saW5lU3RhdGUgdG8gT2ZmbGluZSwgYW5kIHRoZSBjbGllbnQgd2lsbCBiZWhhdmUgYXMgaWZcbiAqIGl0IGlzIG9mZmxpbmUgKGdldCgpcyB3aWxsIHJldHVybiBjYWNoZWQgZGF0YSwgZXRjLikuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9PbmxpbmVTdGF0ZVRyYWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5hc3luY1F1ZXVlID0gZSwgdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXIgPSB0LCBcbiAgICAgICAgLyoqIFRoZSBjdXJyZW50IE9ubGluZVN0YXRlLiAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLyAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb3VudCBvZiBjb25zZWN1dGl2ZSBmYWlsdXJlcyB0byBvcGVuIHRoZSBzdHJlYW0uIElmIGl0IHJlYWNoZXMgdGhlXG4gICAgICAgICAqIG1heGltdW0gZGVmaW5lZCBieSBNQVhfV0FUQ0hfU1RSRUFNX0ZBSUxVUkVTLCB3ZSdsbCBzZXQgdGhlIE9ubGluZVN0YXRlIHRvXG4gICAgICAgICAqIE9mZmxpbmUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdfID0gMCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVyIHRoYXQgZWxhcHNlcyBhZnRlciBPTkxJTkVfU1RBVEVfVElNRU9VVF9NUywgYXQgd2hpY2ggcG9pbnQgd2VcbiAgICAgICAgICogdHJhbnNpdGlvbiBmcm9tIE9ubGluZVN0YXRlLlVua25vd24gdG8gT25saW5lU3RhdGUuT2ZmbGluZSB3aXRob3V0IHdhaXRpbmdcbiAgICAgICAgICogZm9yIHRoZSBzdHJlYW0gdG8gYWN0dWFsbHkgZmFpbCAoTUFYX1dBVENIX1NUUkVBTV9GQUlMVVJFUyB0aW1lcykuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBfID0gbnVsbCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBjbGllbnQgc2hvdWxkIGxvZyBhIHdhcm5pbmcgbWVzc2FnZSBpZiBpdCBmYWlscyB0byBjb25uZWN0IHRvXG4gICAgICAgICAqIHRoZSBiYWNrZW5kIChpbml0aWFsbHkgdHJ1ZSwgY2xlYXJlZCBhZnRlciBhIHN1Y2Nlc3NmdWwgc3RyZWFtLCBvciBpZiB3ZSd2ZVxuICAgICAgICAgKiBsb2dnZWQgdGhlIG1lc3NhZ2UgYWxyZWFkeSkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnlfID0gITA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBieSBSZW1vdGVTdG9yZSB3aGVuIGEgd2F0Y2ggc3RyZWFtIGlzIHN0YXJ0ZWQgKGluY2x1ZGluZyBvbiBlYWNoXG4gICAgICogYmFja29mZiBhdHRlbXB0KS5cbiAgICAgKlxuICAgICAqIElmIHRoaXMgaXMgdGhlIGZpcnN0IGF0dGVtcHQsIGl0IHNldHMgdGhlIE9ubGluZVN0YXRlIHRvIFVua25vd24gYW5kIHN0YXJ0c1xuICAgICAqIHRoZSBvbmxpbmVTdGF0ZVRpbWVyLlxuICAgICAqLyAgICB3XygpIHtcbiAgICAgICAgMCA9PT0gdGhpcy5nXyAmJiAodGhpcy5TXyhcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKSwgdGhpcy5wXyA9IHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheShcIm9ubGluZV9zdGF0ZV90aW1lb3V0XCIgLyogVGltZXJJZC5PbmxpbmVTdGF0ZVRpbWVvdXQgKi8gLCAxZTQsICgoKSA9PiAodGhpcy5wXyA9IG51bGwsIFxuICAgICAgICB0aGlzLmJfKFwiQmFja2VuZCBkaWRuJ3QgcmVzcG9uZCB3aXRoaW4gMTAgc2Vjb25kcy5cIiksIHRoaXMuU18oXCJPZmZsaW5lXCIgLyogT25saW5lU3RhdGUuT2ZmbGluZSAqLyksIFxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgb3VyIE9ubGluZVN0YXRlIGFzIGFwcHJvcHJpYXRlIGFmdGVyIHRoZSB3YXRjaCBzdHJlYW0gcmVwb3J0cyBhXG4gICAgICogZmFpbHVyZS4gVGhlIGZpcnN0IGZhaWx1cmUgbW92ZXMgdXMgdG8gdGhlICdVbmtub3duJyBzdGF0ZS4gV2UgdGhlbiBtYXlcbiAgICAgKiBhbGxvdyBtdWx0aXBsZSBmYWlsdXJlcyAoYmFzZWQgb24gTUFYX1dBVENIX1NUUkVBTV9GQUlMVVJFUykgYmVmb3JlIHdlXG4gICAgICogYWN0dWFsbHkgdHJhbnNpdGlvbiB0byB0aGUgJ09mZmxpbmUnIHN0YXRlLlxuICAgICAqLyAgICBEXyhlKSB7XG4gICAgICAgIFwiT25saW5lXCIgLyogT25saW5lU3RhdGUuT25saW5lICovID09PSB0aGlzLnN0YXRlID8gdGhpcy5TXyhcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKSA6ICh0aGlzLmdfKyssIFxuICAgICAgICB0aGlzLmdfID49IDEgJiYgKHRoaXMuQ18oKSwgdGhpcy5iXyhgQ29ubmVjdGlvbiBmYWlsZWQgMSB0aW1lcy4gTW9zdCByZWNlbnQgZXJyb3I6ICR7ZS50b1N0cmluZygpfWApLCBcbiAgICAgICAgdGhpcy5TXyhcIk9mZmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PZmZsaW5lICovKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBsaWNpdGx5IHNldHMgdGhlIE9ubGluZVN0YXRlIHRvIHRoZSBzcGVjaWZpZWQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyByZXNldHMgb3VyIHRpbWVycyAvIGZhaWx1cmUgY291bnRlcnMsIGV0Yy4gdXNlZCBieSBvdXJcbiAgICAgKiBPZmZsaW5lIGhldXJpc3RpY3MsIHNvIG11c3Qgbm90IGJlIHVzZWQgaW4gcGxhY2Ugb2ZcbiAgICAgKiBoYW5kbGVXYXRjaFN0cmVhbVN0YXJ0KCkgYW5kIGhhbmRsZVdhdGNoU3RyZWFtRmFpbHVyZSgpLlxuICAgICAqLyAgICBzZXQoZSkge1xuICAgICAgICB0aGlzLkNfKCksIHRoaXMuZ18gPSAwLCBcIk9ubGluZVwiIC8qIE9ubGluZVN0YXRlLk9ubGluZSAqLyA9PT0gZSAmJiAoXG4gICAgICAgIC8vIFdlJ3ZlIGNvbm5lY3RlZCB0byB3YXRjaCBhdCBsZWFzdCBvbmNlLiBEb24ndCB3YXJuIHRoZSBkZXZlbG9wZXJcbiAgICAgICAgLy8gYWJvdXQgYmVpbmcgb2ZmbGluZSBnb2luZyBmb3J3YXJkLlxuICAgICAgICB0aGlzLnlfID0gITEpLCB0aGlzLlNfKGUpO1xuICAgIH1cbiAgICBTXyhlKSB7XG4gICAgICAgIGUgIT09IHRoaXMuc3RhdGUgJiYgKHRoaXMuc3RhdGUgPSBlLCB0aGlzLm9ubGluZVN0YXRlSGFuZGxlcihlKSk7XG4gICAgfVxuICAgIGJfKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGBDb3VsZCBub3QgcmVhY2ggQ2xvdWQgRmlyZXN0b3JlIGJhY2tlbmQuICR7ZX1cXG5UaGlzIHR5cGljYWxseSBpbmRpY2F0ZXMgdGhhdCB5b3VyIGRldmljZSBkb2VzIG5vdCBoYXZlIGEgaGVhbHRoeSBJbnRlcm5ldCBjb25uZWN0aW9uIGF0IHRoZSBtb21lbnQuIFRoZSBjbGllbnQgd2lsbCBvcGVyYXRlIGluIG9mZmxpbmUgbW9kZSB1bnRpbCBpdCBpcyBhYmxlIHRvIHN1Y2Nlc3NmdWxseSBjb25uZWN0IHRvIHRoZSBiYWNrZW5kLmA7XG4gICAgICAgIHRoaXMueV8gPyAoX19QUklWQVRFX2xvZ0Vycm9yKHQpLCB0aGlzLnlfID0gITEpIDogX19QUklWQVRFX2xvZ0RlYnVnKFwiT25saW5lU3RhdGVUcmFja2VyXCIsIHQpO1xuICAgIH1cbiAgICBDXygpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy5wXyAmJiAodGhpcy5wXy5jYW5jZWwoKSwgdGhpcy5wXyA9IG51bGwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX1JlbW90ZVN0b3JlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsIHN0b3JlLCB1c2VkIHRvIGZpbGwgdGhlIHdyaXRlIHBpcGVsaW5lIHdpdGggb3V0Ym91bmQgbXV0YXRpb25zLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKiBUaGUgY2xpZW50LXNpZGUgcHJveHkgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIGJhY2tlbmQuICovXG4gICAgdCwgbiwgciwgaSkge1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmUgPSBlLCB0aGlzLmRhdGFzdG9yZSA9IHQsIHRoaXMuYXN5bmNRdWV1ZSA9IG4sIHRoaXMucmVtb3RlU3luY2VyID0ge30sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHVwIHRvIE1BWF9QRU5ESU5HX1dSSVRFUyB3cml0ZXMgdGhhdCB3ZSBoYXZlIGZldGNoZWQgZnJvbSB0aGVcbiAgICAgICAgICogTG9jYWxTdG9yZSB2aWEgZmlsbFdyaXRlUGlwZWxpbmUoKSBhbmQgaGF2ZSBvciB3aWxsIHNlbmQgdG8gdGhlIHdyaXRlXG4gICAgICAgICAqIHN0cmVhbS5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbmV2ZXIgd3JpdGVQaXBlbGluZS5sZW5ndGggPiAwIHRoZSBSZW1vdGVTdG9yZSB3aWxsIGF0dGVtcHQgdG8gc3RhcnQgb3JcbiAgICAgICAgICogcmVzdGFydCB0aGUgd3JpdGUgc3RyZWFtLiBXaGVuIHRoZSBzdHJlYW0gaXMgZXN0YWJsaXNoZWQgdGhlIHdyaXRlcyBpbiB0aGVcbiAgICAgICAgICogcGlwZWxpbmUgd2lsbCBiZSBzZW50IGluIG9yZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXcml0ZXMgcmVtYWluIGluIHdyaXRlUGlwZWxpbmUgdW50aWwgdGhleSBhcmUgYWNrbm93bGVkZ2VkIGJ5IHRoZSBiYWNrZW5kXG4gICAgICAgICAqIGFuZCB0aHVzIHdpbGwgYXV0b21hdGljYWxseSBiZSByZS1zZW50IGlmIHRoZSBzdHJlYW0gaXMgaW50ZXJydXB0ZWQgL1xuICAgICAgICAgKiByZXN0YXJ0ZWQgYmVmb3JlIHRoZXkncmUgYWNrbm93bGVkZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXcml0ZSByZXNwb25zZXMgZnJvbSB0aGUgYmFja2VuZCBhcmUgbGlua2VkIHRvIHRoZWlyIG9yaWdpbmF0aW5nIHJlcXVlc3RcbiAgICAgICAgICogcHVyZWx5IGJhc2VkIG9uIG9yZGVyLCBhbmQgc28gd2UgY2FuIGp1c3Qgc2hpZnQoKSB3cml0ZXMgZnJvbSB0aGUgZnJvbnQgb2ZcbiAgICAgICAgICogdGhlIHdyaXRlUGlwZWxpbmUgYXMgd2UgcmVjZWl2ZSByZXNwb25zZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZfID0gW10sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXBwaW5nIG9mIHdhdGNoZWQgdGFyZ2V0cyB0aGF0IHRoZSBjbGllbnQgY2FyZXMgYWJvdXQgdHJhY2tpbmcgYW5kIHRoZVxuICAgICAgICAgKiB1c2VyIGhhcyBleHBsaWNpdGx5IGNhbGxlZCBhICdsaXN0ZW4nIGZvciB0aGlzIHRhcmdldC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgdGFyZ2V0cyBtYXkgb3IgbWF5IG5vdCBoYXZlIGJlZW4gc2VudCB0byBvciBhY2tub3dsZWRnZWQgYnkgdGhlXG4gICAgICAgICAqIHNlcnZlci4gT24gcmUtZXN0YWJsaXNoaW5nIHRoZSBsaXN0ZW4gc3RyZWFtLCB0aGVzZSB0YXJnZXRzIHNob3VsZCBiZSBzZW50XG4gICAgICAgICAqIHRvIHRoZSBzZXJ2ZXIuIFRoZSB0YXJnZXRzIHJlbW92ZWQgd2l0aCB1bmxpc3RlbnMgYXJlIHJlbW92ZWQgZWFnZXJseVxuICAgICAgICAgKiB3aXRob3V0IHdhaXRpbmcgZm9yIGNvbmZpcm1hdGlvbiBmcm9tIHRoZSBsaXN0ZW4gc3RyZWFtLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5GXyA9IG5ldyBNYXAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBzZXQgb2YgcmVhc29ucyBmb3Igd2h5IHRoZSBSZW1vdGVTdG9yZSBtYXkgYmUgb2ZmbGluZS4gSWYgZW1wdHksIHRoZVxuICAgICAgICAgKiBSZW1vdGVTdG9yZSBtYXkgc3RhcnQgaXRzIG5ldHdvcmsgY29ubmVjdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLk1fID0gbmV3IFNldCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBoYW5kbGVycyB0aGF0IGdldCBjYWxsZWQgd2hlbiB0aGUgbmV0d29yayBpcyBkaXNhYmxlZCBvciBlbmFibGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBQT1JUSU5HIE5PVEU6IFRoZXNlIGZ1bmN0aW9ucyBhcmUgdXNlZCBvbiB0aGUgV2ViIGNsaWVudCB0byBjcmVhdGUgdGhlXG4gICAgICAgICAqIHVuZGVybHlpbmcgc3RyZWFtcyAodG8gc3VwcG9ydCB0cmVlLXNoYWtlYWJsZSBzdHJlYW1zKS4gT24gQW5kcm9pZCBhbmQgaU9TLFxuICAgICAgICAgKiB0aGUgc3RyZWFtcyBhcmUgY3JlYXRlZCBkdXJpbmcgY29uc3RydWN0aW9uIG9mIFJlbW90ZVN0b3JlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54XyA9IFtdLCB0aGlzLk9fID0gaSwgdGhpcy5PXy5pbygoZSA9PiB7XG4gICAgICAgICAgICBuLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBQb3J0aW5nIE5vdGU6IFVubGlrZSBpT1MsIGByZXN0YXJ0TmV0d29yaygpYCBpcyBjYWxsZWQgZXZlbiB3aGVuIHRoZVxuICAgICAgICAgICAgICAgIC8vIG5ldHdvcmsgYmVjb21lcyB1bnJlYWNoYWJsZSBhcyB3ZSBkb24ndCBoYXZlIGFueSBvdGhlciB3YXkgdG8gdGVhclxuICAgICAgICAgICAgICAgIC8vIGRvd24gb3VyIHN0cmVhbXMuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2NhblVzZU5ldHdvcmsodGhpcykgJiYgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiUmVzdGFydGluZyBzdHJlYW1zIGZvciBuZXR3b3JrIHJlYWNoYWJpbGl0eSBjaGFuZ2UuXCIpLCBcbiAgICAgICAgICAgICAgICBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVzdGFydE5ldHdvcmsoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgICAgICAgICAgdC5NXy5hZGQoNCAvKiBPZmZsaW5lQ2F1c2UuQ29ubmVjdGl2aXR5Q2hhbmdlICovKSwgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwodCksIFxuICAgICAgICAgICAgICAgICAgICB0Lk5fLnNldChcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKSwgdC5NXy5kZWxldGUoNCAvKiBPZmZsaW5lQ2F1c2UuQ29ubmVjdGl2aXR5Q2hhbmdlICovKSwgXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwodCk7XG4gICAgICAgICAgICAgICAgfSh0aGlzKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKSwgdGhpcy5OXyA9IG5ldyBfX1BSSVZBVEVfT25saW5lU3RhdGVUcmFja2VyKG4sIHIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2VuYWJsZU5ldHdvcmtJbnRlcm5hbChlKSB7XG4gICAgaWYgKF9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrKGUpKSBmb3IgKGNvbnN0IHQgb2YgZS54XykgYXdhaXQgdCgvKiBlbmFibGVkPSAqLyAhMCk7XG59XG5cbi8qKlxuICogVGVtcG9yYXJpbHkgZGlzYWJsZXMgdGhlIG5ldHdvcmsuIFRoZSBuZXR3b3JrIGNhbiBiZSByZS1lbmFibGVkIHVzaW5nXG4gKiBlbmFibGVOZXR3b3JrKCkuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwoZSkge1xuICAgIGZvciAoY29uc3QgdCBvZiBlLnhfKSBhd2FpdCB0KC8qIGVuYWJsZWQ9ICovICExKTtcbn1cblxuLyoqXG4gKiBTdGFydHMgbmV3IGxpc3RlbiBmb3IgdGhlIGdpdmVuIHRhcmdldC4gVXNlcyByZXN1bWUgdG9rZW4gaWYgcHJvdmlkZWQuIEl0XG4gKiBpcyBhIG5vLW9wIGlmIHRoZSB0YXJnZXQgb2YgZ2l2ZW4gYFRhcmdldERhdGFgIGlzIGFscmVhZHkgYmVpbmcgbGlzdGVuZWQgdG8uXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdGVTdG9yZUxpc3RlbihlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgbi5GXy5oYXModC50YXJnZXRJZCkgfHwgKFxuICAgIC8vIE1hcmsgdGhpcyBhcyBzb21ldGhpbmcgdGhlIGNsaWVudCBpcyBjdXJyZW50bHkgbGlzdGVuaW5nIGZvci5cbiAgICBuLkZfLnNldCh0LnRhcmdldElkLCB0KSwgX19QUklWQVRFX3Nob3VsZFN0YXJ0V2F0Y2hTdHJlYW0obikgPyBcbiAgICAvLyBUaGUgbGlzdGVuIHdpbGwgYmUgc2VudCBpbiBvbldhdGNoU3RyZWFtT3BlblxuICAgIF9fUFJJVkFURV9zdGFydFdhdGNoU3RyZWFtKG4pIDogX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKG4pLlhvKCkgJiYgX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QobiwgdCkpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGxpc3RlbiBmcm9tIHNlcnZlci4gSXQgaXMgYSBuby1vcCBpZiB0aGUgZ2l2ZW4gdGFyZ2V0IGlkIGlzXG4gKiBub3QgYmVpbmcgbGlzdGVuZWQgdG8uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKG4pO1xuICAgIG4uRl8uZGVsZXRlKHQpLCByLlhvKCkgJiYgX19QUklWQVRFX3NlbmRVbndhdGNoUmVxdWVzdChuLCB0KSwgMCA9PT0gbi5GXy5zaXplICYmIChyLlhvKCkgPyByLm5fKCkgOiBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhuKSAmJiBcbiAgICAvLyBSZXZlcnQgdG8gT25saW5lU3RhdGUuVW5rbm93biBpZiB0aGUgd2F0Y2ggc3RyZWFtIGlzIG5vdCBvcGVuIGFuZCB3ZVxuICAgIC8vIGhhdmUgbm8gbGlzdGVuZXJzLCBzaW5jZSB3aXRob3V0IGFueSBsaXN0ZW5zIHRvIHNlbmQgd2UgY2Fubm90XG4gICAgLy8gY29uZmlybSBpZiB0aGUgc3RyZWFtIGlzIGhlYWx0aHkgYW5kIHVwZ3JhZGUgdG8gT25saW5lU3RhdGUuT25saW5lLlxuICAgIG4uTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pKTtcbn1cblxuLyoqXG4gKiBXZSBuZWVkIHRvIGluY3JlbWVudCB0aGUgdGhlIGV4cGVjdGVkIG51bWJlciBvZiBwZW5kaW5nIHJlc3BvbnNlcyB3ZSdyZSBkdWVcbiAqIGZyb20gd2F0Y2ggc28gd2Ugd2FpdCBmb3IgdGhlIGFjayB0byBwcm9jZXNzIGFueSBtZXNzYWdlcyBmcm9tIHRoaXMgdGFyZ2V0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zZW5kV2F0Y2hSZXF1ZXN0KGUsIHQpIHtcbiAgICBpZiAoZS5MXy54ZSh0LnRhcmdldElkKSwgdC5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwIHx8IHQuc25hcHNob3RWZXJzaW9uLmNvbXBhcmVUbyhTbmFwc2hvdFZlcnNpb24ubWluKCkpID4gMCkge1xuICAgICAgICBjb25zdCBuID0gZS5yZW1vdGVTeW5jZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0LnRhcmdldElkKS5zaXplO1xuICAgICAgICB0ID0gdC53aXRoRXhwZWN0ZWRDb3VudChuKTtcbiAgICB9XG4gICAgX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKGUpLlBfKHQpO1xufVxuXG4vKipcbiAqIFdlIG5lZWQgdG8gaW5jcmVtZW50IHRoZSBleHBlY3RlZCBudW1iZXIgb2YgcGVuZGluZyByZXNwb25zZXMgd2UncmUgZHVlXG4gKiBmcm9tIHdhdGNoIHNvIHdlIHdhaXQgZm9yIHRoZSByZW1vdmFsIG9uIHRoZSBzZXJ2ZXIgYmVmb3JlIHdlIHByb2Nlc3MgYW55XG4gKiBtZXNzYWdlcyBmcm9tIHRoaXMgdGFyZ2V0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zZW5kVW53YXRjaFJlcXVlc3QoZSwgdCkge1xuICAgIGUuTF8ueGUodCksIF9fUFJJVkFURV9lbnN1cmVXYXRjaFN0cmVhbShlKS5JXyh0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3N0YXJ0V2F0Y2hTdHJlYW0oZSkge1xuICAgIGUuTF8gPSBuZXcgX19QUklWQVRFX1dhdGNoQ2hhbmdlQWdncmVnYXRvcih7XG4gICAgICAgIGdldFJlbW90ZUtleXNGb3JUYXJnZXQ6IHQgPT4gZS5yZW1vdGVTeW5jZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0KSxcbiAgICAgICAgb3Q6IHQgPT4gZS5GXy5nZXQodCkgfHwgbnVsbCxcbiAgICAgICAgdHQ6ICgpID0+IGUuZGF0YXN0b3JlLnNlcmlhbGl6ZXIuZGF0YWJhc2VJZFxuICAgIH0pLCBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hTdHJlYW0oZSkuc3RhcnQoKSwgZS5OXy53XygpO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgd2F0Y2ggc3RyZWFtIHNob3VsZCBiZSBzdGFydGVkIGJlY2F1c2UgaXQncyBuZWNlc3NhcnlcbiAqIGFuZCBoYXMgbm90IHlldCBiZWVuIHN0YXJ0ZWQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3Nob3VsZFN0YXJ0V2F0Y2hTdHJlYW0oZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhlKSAmJiAhX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKGUpLlpvKCkgJiYgZS5GXy5zaXplID4gMDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NhblVzZU5ldHdvcmsoZSkge1xuICAgIHJldHVybiAwID09PSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLk1fLnNpemU7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZShlKSB7XG4gICAgZS5MXyA9IHZvaWQgMDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX29uV2F0Y2hTdHJlYW1Db25uZWN0ZWQoZSkge1xuICAgIC8vIE1hcmsgdGhlIGNsaWVudCBhcyBvbmxpbmUgc2luY2Ugd2UgZ290IGEgXCJjb25uZWN0ZWRcIiBub3RpZmljYXRpb24uXG4gICAgZS5OXy5zZXQoXCJPbmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PbmxpbmUgKi8pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25XYXRjaFN0cmVhbU9wZW4oZSkge1xuICAgIGUuRl8uZm9yRWFjaCgoKHQsIG4pID0+IHtcbiAgICAgICAgX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QoZSwgdCk7XG4gICAgfSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25XYXRjaFN0cmVhbUNsb3NlKGUsIHQpIHtcbiAgICBfX1BSSVZBVEVfY2xlYW5VcFdhdGNoU3RyZWFtU3RhdGUoZSksIFxuICAgIC8vIElmIHdlIHN0aWxsIG5lZWQgdGhlIHdhdGNoIHN0cmVhbSwgcmV0cnkgdGhlIGNvbm5lY3Rpb24uXG4gICAgX19QUklWQVRFX3Nob3VsZFN0YXJ0V2F0Y2hTdHJlYW0oZSkgPyAoZS5OXy5EXyh0KSwgX19QUklWQVRFX3N0YXJ0V2F0Y2hTdHJlYW0oZSkpIDogXG4gICAgLy8gTm8gbmVlZCB0byByZXN0YXJ0IHdhdGNoIHN0cmVhbSBiZWNhdXNlIHRoZXJlIGFyZSBubyBhY3RpdmUgdGFyZ2V0cy5cbiAgICAvLyBUaGUgb25saW5lIHN0YXRlIGlzIHNldCB0byB1bmtub3duIGJlY2F1c2UgdGhlcmUgaXMgbm8gYWN0aXZlIGF0dGVtcHRcbiAgICAvLyBhdCBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uXG4gICAgZS5OXy5zZXQoXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ2hhbmdlKGUsIHQsIG4pIHtcbiAgICBpZiAoXG4gICAgLy8gTWFyayB0aGUgY2xpZW50IGFzIG9ubGluZSBzaW5jZSB3ZSBnb3QgYSBtZXNzYWdlIGZyb20gdGhlIHNlcnZlclxuICAgIGUuTl8uc2V0KFwiT25saW5lXCIgLyogT25saW5lU3RhdGUuT25saW5lICovKSwgdCBpbnN0YW5jZW9mIF9fUFJJVkFURV9XYXRjaFRhcmdldENoYW5nZSAmJiAyIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuUmVtb3ZlZCAqLyA9PT0gdC5zdGF0ZSAmJiB0LmNhdXNlKSBcbiAgICAvLyBUaGVyZSB3YXMgYW4gZXJyb3Igb24gYSB0YXJnZXQsIGRvbid0IHdhaXQgZm9yIGEgY29uc2lzdGVudCBzbmFwc2hvdFxuICAgIC8vIHRvIHJhaXNlIGV2ZW50c1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFxuICAgICAgICAvKiogSGFuZGxlcyBhbiBlcnJvciBvbiBhIHRhcmdldCAqL1xuICAgICAgICBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaGFuZGxlVGFyZ2V0RXJyb3IoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQuY2F1c2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgdC50YXJnZXRJZHMpIFxuICAgICAgICAgICAgLy8gQSB3YXRjaGVkIHRhcmdldCBtaWdodCBoYXZlIGJlZW4gcmVtb3ZlZCBhbHJlYWR5LlxuICAgICAgICAgICAgZS5GXy5oYXMocikgJiYgKGF3YWl0IGUucmVtb3RlU3luY2VyLnJlamVjdExpc3RlbihyLCBuKSwgZS5GXy5kZWxldGUociksIGUuTF8ucmVtb3ZlVGFyZ2V0KHIpKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEF0dGVtcHRzIHRvIGZpbGwgb3VyIHdyaXRlIHBpcGVsaW5lIHdpdGggd3JpdGVzIGZyb20gdGhlIExvY2FsU3RvcmUuXG4gKlxuICogQ2FsbGVkIGludGVybmFsbHkgdG8gYm9vdHN0cmFwIG9yIHJlZmlsbCB0aGUgd3JpdGUgcGlwZWxpbmUgYW5kIGJ5XG4gKiBTeW5jRW5naW5lIHdoZW5ldmVyIHRoZXJlIGFyZSBuZXcgbXV0YXRpb25zIHRvIHByb2Nlc3MuXG4gKlxuICogU3RhcnRzIHRoZSB3cml0ZSBzdHJlYW0gaWYgbmVjZXNzYXJ5LlxuICovIChlLCB0KTtcbiAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiRmFpbGVkIHRvIHJlbW92ZSB0YXJnZXRzICVzOiAlcyBcIiwgdC50YXJnZXRJZHMuam9pbihcIixcIiksIG4pLCBcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeShlLCBuKTtcbiAgICB9IGVsc2UgaWYgKHQgaW5zdGFuY2VvZiBfX1BSSVZBVEVfRG9jdW1lbnRXYXRjaENoYW5nZSA/IGUuTF8uS2UodCkgOiB0IGluc3RhbmNlb2YgX19QUklWQVRFX0V4aXN0ZW5jZUZpbHRlckNoYW5nZSA/IGUuTF8uSGUodCkgOiBlLkxfLldlKHQpLCBcbiAgICAhbi5pc0VxdWFsKFNuYXBzaG90VmVyc2lvbi5taW4oKSkpIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZS5sb2NhbFN0b3JlKTtcbiAgICAgICAgbi5jb21wYXJlVG8odCkgPj0gMCAmJiBcbiAgICAgICAgLy8gV2UgaGF2ZSByZWNlaXZlZCBhIHRhcmdldCBjaGFuZ2Ugd2l0aCBhIGdsb2JhbCBzbmFwc2hvdCBpZiB0aGUgc25hcHNob3RcbiAgICAgICAgLy8gdmVyc2lvbiBpcyBub3QgZXF1YWwgdG8gU25hcHNob3RWZXJzaW9uLm1pbigpLlxuICAgICAgICBhd2FpdCBcbiAgICAgICAgLyoqXG4gKiBUYWtlcyBhIGJhdGNoIG9mIGNoYW5nZXMgZnJvbSB0aGUgRGF0YXN0b3JlLCByZXBhY2thZ2VzIHRoZW0gYXMgYVxuICogUmVtb3RlRXZlbnQsIGFuZCBwYXNzZXMgdGhhdCBvbiB0byB0aGUgbGlzdGVuZXIsIHdoaWNoIGlzIHR5cGljYWxseSB0aGVcbiAqIFN5bmNFbmdpbmUuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3JhaXNlV2F0Y2hTbmFwc2hvdChlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5MXy5ydCh0KTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbi1tZW1vcnkgcmVzdW1lIHRva2Vucy4gTG9jYWxTdG9yZSB3aWxsIHVwZGF0ZSB0aGVcbiAgICAgICAgICAgIC8vIHBlcnNpc3RlbnQgdmlldyBvZiB0aGVzZSB3aGVuIGFwcGx5aW5nIHRoZSBjb21wbGV0ZWQgUmVtb3RlRXZlbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi50YXJnZXRDaGFuZ2VzLmZvckVhY2goKChuLCByKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG4ucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gZS5GXy5nZXQocik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgd2F0Y2hlZCB0YXJnZXQgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWQgYWxyZWFkeS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICYmIGUuRl8uc2V0KHIsIGkud2l0aFJlc3VtZVRva2VuKG4ucmVzdW1lVG9rZW4sIHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSksIFxuICAgICAgICAgICAgLy8gUmUtZXN0YWJsaXNoIGxpc3RlbnMgZm9yIHRoZSB0YXJnZXRzIHRoYXQgaGF2ZSBiZWVuIGludmFsaWRhdGVkIGJ5XG4gICAgICAgICAgICAvLyBleGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoZXMuXG4gICAgICAgICAgICBuLnRhcmdldE1pc21hdGNoZXMuZm9yRWFjaCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gZS5GXy5nZXQodCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyKSBcbiAgICAgICAgICAgICAgICAvLyBBIHdhdGNoZWQgdGFyZ2V0IG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkIGFscmVhZHkuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSByZXN1bWUgdG9rZW4gZm9yIHRoZSB0YXJnZXQsIHNpbmNlIHdlJ3JlIGluIGEga25vd24gbWlzbWF0Y2hcbiAgICAgICAgICAgICAgICAvLyBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5GXy5zZXQodCwgci53aXRoUmVzdW1lVG9rZW4oQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklORywgci5zbmFwc2hvdFZlcnNpb24pKSwgXG4gICAgICAgICAgICAgICAgLy8gQ2F1c2UgYSBoYXJkIHJlc2V0IGJ5IHVud2F0Y2hpbmcgYW5kIHJld2F0Y2hpbmcgaW1tZWRpYXRlbHksIGJ1dFxuICAgICAgICAgICAgICAgIC8vIGRlbGliZXJhdGVseSBkb24ndCBzZW5kIGEgcmVzdW1lIHRva2VuIHNvIHRoYXQgd2UgZ2V0IGEgZnVsbCB1cGRhdGUuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3NlbmRVbndhdGNoUmVxdWVzdChlLCB0KTtcbiAgICAgICAgICAgICAgICAvLyBNYXJrIHRoZSB0YXJnZXQgd2Ugc2VuZCBhcyBiZWluZyBvbiBiZWhhbGYgb2YgYW4gZXhpc3RlbmNlIGZpbHRlclxuICAgICAgICAgICAgICAgIC8vIG1pc21hdGNoLCBidXQgZG9uJ3QgYWN0dWFsbHkgcmV0YWluIHRoYXQgaW4gbGlzdGVuVGFyZ2V0cy4gVGhpcyBlbnN1cmVzXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB3ZSBmbGFnIHRoZSBmaXJzdCByZS1saXN0ZW4gdGhpcyB3YXkgd2l0aG91dCBpbXBhY3RpbmcgZnV0dXJlXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVucyBvZiB0aGlzIHRhcmdldCAodGhhdCBtaWdodCBoYXBwZW4gZS5nLiBvbiByZWNvbm5lY3QpLlxuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgVGFyZ2V0RGF0YShyLnRhcmdldCwgdCwgbiwgci5zZXF1ZW5jZU51bWJlcik7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QoZSwgaSk7XG4gICAgICAgICAgICB9KSksIGUucmVtb3RlU3luY2VyLmFwcGx5UmVtb3RlRXZlbnQobik7XG4gICAgICAgIH0oZSwgbik7XG4gICAgfSBjYXRjaCAodCkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJSZW1vdGVTdG9yZVwiLCBcIkZhaWxlZCB0byByYWlzZSBzbmFwc2hvdDpcIiwgdCksIGF3YWl0IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya1VudGlsUmVjb3ZlcnkoZSwgdCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlY292ZXJ5IGxvZ2ljIGZvciBJbmRleGVkREIgZXJyb3JzIHRoYXQgdGFrZXMgdGhlIG5ldHdvcmsgb2ZmbGluZSB1bnRpbFxuICogYG9wYCBzdWNjZWVkcy4gUmV0cmllcyBhcmUgc2NoZWR1bGVkIHdpdGggYmFja29mZiB1c2luZ1xuICogYGVucXVldWVSZXRyeWFibGUoKWAuIElmIGBvcCgpYCBpcyBub3QgcHJvdmlkZWQsIEluZGV4ZWREQiBhY2Nlc3MgaXNcbiAqIHZhbGlkYXRlZCB2aWEgYSBnZW5lcmljIG9wZXJhdGlvbi5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgUHJvbWlzZSBpcyByZXNvbHZlZCBvbmNlIHRoZSBuZXR3b3JrIGlzIGRpc2FibGVkIGFuZCBiZWZvcmVcbiAqIGFueSByZXRyeSBhdHRlbXB0LlxuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya1VudGlsUmVjb3ZlcnkoZSwgdCwgbikge1xuICAgIGlmICghX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcih0KSkgdGhyb3cgdDtcbiAgICBlLk1fLmFkZCgxIC8qIE9mZmxpbmVDYXVzZS5JbmRleGVkRGJGYWlsZWQgKi8pLCBcbiAgICAvLyBEaXNhYmxlIG5ldHdvcmsgYW5kIHJhaXNlIG9mZmxpbmUgc25hcHNob3RzXG4gICAgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwoZSksIGUuTl8uc2V0KFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8pLCBcbiAgICBuIHx8IChcbiAgICAvLyBVc2UgYSBzaW1wbGUgcmVhZCBvcGVyYXRpb24gdG8gZGV0ZXJtaW5lIGlmIEluZGV4ZWREQiByZWNvdmVyZWQuXG4gICAgLy8gSWRlYWxseSwgd2Ugd291bGQgZXhwb3NlIGEgaGVhbHRoIGNoZWNrIGRpcmVjdGx5IG9uIFNpbXBsZURiLCBidXRcbiAgICAvLyBSZW1vdGVTdG9yZSBvbmx5IGhhcyBhY2Nlc3MgdG8gcGVyc2lzdGVuY2UgdGhyb3VnaCBMb2NhbFN0b3JlLlxuICAgIG4gPSAoKSA9PiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZS5sb2NhbFN0b3JlKSksIFxuICAgIC8vIFByb2JlIEluZGV4ZWREQiBwZXJpb2RpY2FsbHkgYW5kIHJlLWVuYWJsZSBuZXR3b3JrXG4gICAgZS5hc3luY1F1ZXVlLmVucXVldWVSZXRyeWFibGUoKGFzeW5jICgpID0+IHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiUmVtb3RlU3RvcmVcIiwgXCJSZXRyeWluZyBJbmRleGVkREIgYWNjZXNzXCIpLCBhd2FpdCBuKCksIGUuTV8uZGVsZXRlKDEgLyogT2ZmbGluZUNhdXNlLkluZGV4ZWREYkZhaWxlZCAqLyksIFxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfZW5hYmxlTmV0d29ya0ludGVybmFsKGUpO1xuICAgIH0pKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyBgb3BgLiBJZiBgb3BgIGZhaWxzLCB0YWtlcyB0aGUgbmV0d29yayBvZmZsaW5lIHVudGlsIGBvcGBcbiAqIHN1Y2NlZWRzLiBSZXR1cm5zIGFmdGVyIHRoZSBmaXJzdCBhdHRlbXB0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9leGVjdXRlV2l0aFJlY292ZXJ5KGUsIHQpIHtcbiAgICByZXR1cm4gdCgpLmNhdGNoKChuID0+IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya1VudGlsUmVjb3ZlcnkoZSwgbiwgdCkpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgbiA9IF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbSh0KTtcbiAgICBsZXQgciA9IHQudl8ubGVuZ3RoID4gMCA/IHQudl9bdC52Xy5sZW5ndGggLSAxXS5iYXRjaElkIDogLTE7XG4gICAgZm9yICg7X19QUklWQVRFX2NhbkFkZFRvV3JpdGVQaXBlbGluZSh0KTsgKSB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXh0TXV0YXRpb25CYXRjaCh0LmxvY2FsU3RvcmUsIHIpO1xuICAgICAgICBpZiAobnVsbCA9PT0gZSkge1xuICAgICAgICAgICAgMCA9PT0gdC52Xy5sZW5ndGggJiYgbi5uXygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgciA9IGUuYmF0Y2hJZCwgX19QUklWQVRFX2FkZFRvV3JpdGVQaXBlbGluZSh0LCBlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya1VudGlsUmVjb3ZlcnkodCwgZSk7XG4gICAgfVxuICAgIF9fUFJJVkFURV9zaG91bGRTdGFydFdyaXRlU3RyZWFtKHQpICYmIF9fUFJJVkFURV9zdGFydFdyaXRlU3RyZWFtKHQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB3ZSBjYW4gYWRkIHRvIHRoZSB3cml0ZSBwaXBlbGluZSAoaS5lLiB0aGUgbmV0d29yayBpc1xuICogZW5hYmxlZCBhbmQgdGhlIHdyaXRlIHBpcGVsaW5lIGlzIG5vdCBmdWxsKS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY2FuQWRkVG9Xcml0ZVBpcGVsaW5lKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2NhblVzZU5ldHdvcmsoZSkgJiYgZS52Xy5sZW5ndGggPCAxMDtcbn1cblxuLyoqXG4gKiBRdWV1ZXMgYWRkaXRpb25hbCB3cml0ZXMgdG8gYmUgc2VudCB0byB0aGUgd3JpdGUgc3RyZWFtLCBzZW5kaW5nIHRoZW1cbiAqIGltbWVkaWF0ZWx5IGlmIHRoZSB3cml0ZSBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FkZFRvV3JpdGVQaXBlbGluZShlLCB0KSB7XG4gICAgZS52Xy5wdXNoKHQpO1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZW5zdXJlV3JpdGVTdHJlYW0oZSk7XG4gICAgbi5YbygpICYmIG4uRV8gJiYgbi5kXyh0Lm11dGF0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zaG91bGRTdGFydFdyaXRlU3RyZWFtKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2NhblVzZU5ldHdvcmsoZSkgJiYgIV9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKS5abygpICYmIGUudl8ubGVuZ3RoID4gMDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3N0YXJ0V3JpdGVTdHJlYW0oZSkge1xuICAgIF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKS5zdGFydCgpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25Xcml0ZVN0cmVhbU9wZW4oZSkge1xuICAgIF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKS5WXygpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25Xcml0ZUhhbmRzaGFrZUNvbXBsZXRlKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpO1xuICAgIC8vIFNlbmQgdGhlIHdyaXRlIHBpcGVsaW5lIG5vdyB0aGF0IHRoZSBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBlLnZfKSB0LmRfKG4ubXV0YXRpb25zKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX29uTXV0YXRpb25SZXN1bHQoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBlLnZfLnNoaWZ0KCksIGkgPSBNdXRhdGlvbkJhdGNoUmVzdWx0LmZyb20ociwgdCwgbik7XG4gICAgYXdhaXQgX19QUklWQVRFX2V4ZWN1dGVXaXRoUmVjb3ZlcnkoZSwgKCgpID0+IGUucmVtb3RlU3luY2VyLmFwcGx5U3VjY2Vzc2Z1bFdyaXRlKGkpKSksIFxuICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3aXRoIHRoZSBjb21wbGV0aW9uIG9mIHRoaXMgbXV0YXRpb24gYW5vdGhlclxuICAgIC8vIHNsb3QgaGFzIGZyZWVkIHVwLlxuICAgIGF3YWl0IF9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZShlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX29uV3JpdGVTdHJlYW1DbG9zZShlLCB0KSB7XG4gICAgLy8gSWYgdGhlIHdyaXRlIHN0cmVhbSBjbG9zZWQgYWZ0ZXIgdGhlIHdyaXRlIGhhbmRzaGFrZSBjb21wbGV0ZXMsIGEgd3JpdGVcbiAgICAvLyBvcGVyYXRpb24gZmFpbGVkIGFuZCB3ZSBmYWlsIHRoZSBwZW5kaW5nIG9wZXJhdGlvbi5cbiAgICB0ICYmIF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKS5FXyAmJiBcbiAgICAvLyBUaGlzIGVycm9yIGFmZmVjdHMgdGhlIGFjdHVhbCB3cml0ZS5cbiAgICBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaGFuZGxlV3JpdGVFcnJvcihlLCB0KSB7XG4gICAgICAgIC8vIE9ubHkgaGFuZGxlIHBlcm1hbmVudCBlcnJvcnMgaGVyZS4gSWYgaXQncyB0cmFuc2llbnQsIGp1c3QgbGV0IHRoZSByZXRyeVxuICAgICAgICAvLyBsb2dpYyBraWNrIGluLlxuICAgICAgICBpZiAoZnVuY3Rpb24gX19QUklWQVRFX2lzUGVybWFuZW50V3JpdGVFcnJvcihlKSB7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2lzUGVybWFuZW50RXJyb3IoZSkgJiYgZSAhPT0gQy5BQk9SVEVEO1xuICAgICAgICB9KHQuY29kZSkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgd2FzIGEgcGVybWFuZW50IGVycm9yLCB0aGUgcmVxdWVzdCBpdHNlbGYgd2FzIHRoZSBwcm9ibGVtXG4gICAgICAgICAgICAvLyBzbyBpdCdzIG5vdCBnb2luZyB0byBzdWNjZWVkIGlmIHdlIHJlc2VuZCBpdC5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLnZfLnNoaWZ0KCk7XG4gICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2UgaXQncyBhbHNvIHVubGlrZWx5IHRoYXQgdGhlIHNlcnZlciBpdHNlbGYgaXMgbWVsdGluZ1xuICAgICAgICAgICAgLy8gZG93biAtLSB0aGlzIHdhcyBqdXN0IGEgYmFkIHJlcXVlc3Qgc28gaW5oaWJpdCBiYWNrb2ZmIG9uIHRoZSBuZXh0XG4gICAgICAgICAgICAvLyByZXN0YXJ0LlxuICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpLnRfKCksIGF3YWl0IF9fUFJJVkFURV9leGVjdXRlV2l0aFJlY292ZXJ5KGUsICgoKSA9PiBlLnJlbW90ZVN5bmNlci5yZWplY3RGYWlsZWRXcml0ZShuLmJhdGNoSWQsIHQpKSksIFxuICAgICAgICAgICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdpdGggdGhlIGNvbXBsZXRpb24gb2YgdGhpcyBtdXRhdGlvblxuICAgICAgICAgICAgLy8gYW5vdGhlciBzbG90IGhhcyBmcmVlZCB1cC5cbiAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZShlKTtcbiAgICAgICAgfVxuICAgIH0oZSwgdCksIFxuICAgIC8vIFRoZSB3cml0ZSBzdHJlYW0gbWlnaHQgaGF2ZSBiZWVuIHN0YXJ0ZWQgYnkgcmVmaWxsaW5nIHRoZSB3cml0ZVxuICAgIC8vIHBpcGVsaW5lIGZvciBmYWlsZWQgd3JpdGVzXG4gICAgX19QUklWQVRFX3Nob3VsZFN0YXJ0V3JpdGVTdHJlYW0oZSkgJiYgX19QUklWQVRFX3N0YXJ0V3JpdGVTdHJlYW0oZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdGVTdG9yZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIG4uYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiUmVtb3RlU3RvcmUgcmVjZWl2ZWQgbmV3IGNyZWRlbnRpYWxzXCIpO1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhuKTtcbiAgICAvLyBUZWFyIGRvd24gYW5kIHJlLWNyZWF0ZSBvdXIgbmV0d29yayBzdHJlYW1zLiBUaGlzIHdpbGwgZW5zdXJlIHdlIGdldCBhXG4gICAgLy8gZnJlc2ggYXV0aCB0b2tlbiBmb3IgdGhlIG5ldyB1c2VyIGFuZCByZS1maWxsIHRoZSB3cml0ZSBwaXBlbGluZSB3aXRoXG4gICAgLy8gbmV3IG11dGF0aW9ucyBmcm9tIHRoZSBMb2NhbFN0b3JlIChzaW5jZSBtdXRhdGlvbnMgYXJlIHBlci11c2VyKS5cbiAgICAgICAgbi5NXy5hZGQoMyAvKiBPZmZsaW5lQ2F1c2UuQ3JlZGVudGlhbENoYW5nZSAqLyksIGF3YWl0IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya0ludGVybmFsKG4pLCBcbiAgICByICYmIFxuICAgIC8vIERvbid0IHNldCB0aGUgbmV0d29yayBzdGF0dXMgdG8gVW5rbm93biBpZiB3ZSBhcmUgb2ZmbGluZS5cbiAgICBuLk5fLnNldChcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKSwgYXdhaXQgbi5yZW1vdGVTeW5jZXIuaGFuZGxlQ3JlZGVudGlhbENoYW5nZSh0KSwgXG4gICAgbi5NXy5kZWxldGUoMyAvKiBPZmZsaW5lQ2F1c2UuQ3JlZGVudGlhbENoYW5nZSAqLyksIGF3YWl0IF9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwobik7XG59XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgbmV0d29yayBzdGF0ZSB3aGVuIHRoZSBjbGllbnQgZ2FpbnMgb3IgbG9zZXMgaXRzIHByaW1hcnkgbGVhc2UuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZVN0b3JlQXBwbHlQcmltYXJ5U3RhdGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHQgPyAobi5NXy5kZWxldGUoMiAvKiBPZmZsaW5lQ2F1c2UuSXNTZWNvbmRhcnkgKi8pLCBhd2FpdCBfX1BSSVZBVEVfZW5hYmxlTmV0d29ya0ludGVybmFsKG4pKSA6IHQgfHwgKG4uTV8uYWRkKDIgLyogT2ZmbGluZUNhdXNlLklzU2Vjb25kYXJ5ICovKSwgXG4gICAgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwobiksIG4uTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pKTtcbn1cblxuLyoqXG4gKiBJZiBub3QgeWV0IGluaXRpYWxpemVkLCByZWdpc3RlcnMgdGhlIFdhdGNoU3RyZWFtIGFuZCBpdHMgbmV0d29yayBzdGF0ZVxuICogY2FsbGJhY2sgd2l0aCBgcmVtb3RlU3RvcmVJbXBsYC4gUmV0dXJucyB0aGUgZXhpc3Rpbmcgc3RyZWFtIGlmIG9uZSBpc1xuICogYWxyZWFkeSBhdmFpbGFibGUuXG4gKlxuICogUE9SVElORyBOT1RFOiBPbiBpT1MgYW5kIEFuZHJvaWQsIHRoZSBXYXRjaFN0cmVhbSBnZXRzIHJlZ2lzdGVyZWQgb24gc3RhcnR1cC5cbiAqIFRoaXMgaXMgbm90IGRvbmUgb24gV2ViIHRvIGFsbG93IGl0IHRvIGJlIHRyZWUtc2hha2VuLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9lbnN1cmVXYXRjaFN0cmVhbShlKSB7XG4gICAgcmV0dXJuIGUuQl8gfHwgKFxuICAgIC8vIENyZWF0ZSBzdHJlYW0gKGJ1dCBub3RlIHRoYXQgaXQgaXMgbm90IHN0YXJ0ZWQgeWV0KS5cbiAgICBlLkJfID0gZnVuY3Rpb24gX19QUklWQVRFX25ld1BlcnNpc3RlbnRXYXRjaFN0cmVhbShlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICByZXR1cm4gci5mXygpLCBuZXcgX19QUklWQVRFX1BlcnNpc3RlbnRMaXN0ZW5TdHJlYW0odCwgci5jb25uZWN0aW9uLCByLmF1dGhDcmVkZW50aWFscywgci5hcHBDaGVja0NyZWRlbnRpYWxzLCByLnNlcmlhbGl6ZXIsIG4pO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAoZS5kYXRhc3RvcmUsIGUuYXN5bmNRdWV1ZSwge1xuICAgICAgICBQbzogX19QUklWQVRFX29uV2F0Y2hTdHJlYW1Db25uZWN0ZWQuYmluZChudWxsLCBlKSxcbiAgICAgICAgVG86IF9fUFJJVkFURV9vbldhdGNoU3RyZWFtT3Blbi5iaW5kKG51bGwsIGUpLFxuICAgICAgICBBbzogX19QUklWQVRFX29uV2F0Y2hTdHJlYW1DbG9zZS5iaW5kKG51bGwsIGUpLFxuICAgICAgICBoXzogX19QUklWQVRFX29uV2F0Y2hTdHJlYW1DaGFuZ2UuYmluZChudWxsLCBlKVxuICAgIH0pLCBlLnhfLnB1c2goKGFzeW5jIHQgPT4ge1xuICAgICAgICB0ID8gKGUuQl8udF8oKSwgX19QUklWQVRFX3Nob3VsZFN0YXJ0V2F0Y2hTdHJlYW0oZSkgPyBfX1BSSVZBVEVfc3RhcnRXYXRjaFN0cmVhbShlKSA6IGUuTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pKSA6IChhd2FpdCBlLkJfLnN0b3AoKSwgXG4gICAgICAgIF9fUFJJVkFURV9jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZShlKSk7XG4gICAgfSkpKSwgZS5CXztcbn1cblxuLyoqXG4gKiBJZiBub3QgeWV0IGluaXRpYWxpemVkLCByZWdpc3RlcnMgdGhlIFdyaXRlU3RyZWFtIGFuZCBpdHMgbmV0d29yayBzdGF0ZVxuICogY2FsbGJhY2sgd2l0aCBgcmVtb3RlU3RvcmVJbXBsYC4gUmV0dXJucyB0aGUgZXhpc3Rpbmcgc3RyZWFtIGlmIG9uZSBpc1xuICogYWxyZWFkeSBhdmFpbGFibGUuXG4gKlxuICogUE9SVElORyBOT1RFOiBPbiBpT1MgYW5kIEFuZHJvaWQsIHRoZSBXcml0ZVN0cmVhbSBnZXRzIHJlZ2lzdGVyZWQgb24gc3RhcnR1cC5cbiAqIFRoaXMgaXMgbm90IGRvbmUgb24gV2ViIHRvIGFsbG93IGl0IHRvIGJlIHRyZWUtc2hha2VuLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKSB7XG4gICAgcmV0dXJuIGUua18gfHwgKFxuICAgIC8vIENyZWF0ZSBzdHJlYW0gKGJ1dCBub3RlIHRoYXQgaXQgaXMgbm90IHN0YXJ0ZWQgeWV0KS5cbiAgICBlLmtfID0gZnVuY3Rpb24gX19QUklWQVRFX25ld1BlcnNpc3RlbnRXcml0ZVN0cmVhbShlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICByZXR1cm4gci5mXygpLCBuZXcgX19QUklWQVRFX1BlcnNpc3RlbnRXcml0ZVN0cmVhbSh0LCByLmNvbm5lY3Rpb24sIHIuYXV0aENyZWRlbnRpYWxzLCByLmFwcENoZWNrQ3JlZGVudGlhbHMsIHIuc2VyaWFsaXplciwgbik7XG4gICAgfShlLmRhdGFzdG9yZSwgZS5hc3luY1F1ZXVlLCB7XG4gICAgICAgIFBvOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSxcbiAgICAgICAgVG86IF9fUFJJVkFURV9vbldyaXRlU3RyZWFtT3Blbi5iaW5kKG51bGwsIGUpLFxuICAgICAgICBBbzogX19QUklWQVRFX29uV3JpdGVTdHJlYW1DbG9zZS5iaW5kKG51bGwsIGUpLFxuICAgICAgICBSXzogX19QUklWQVRFX29uV3JpdGVIYW5kc2hha2VDb21wbGV0ZS5iaW5kKG51bGwsIGUpLFxuICAgICAgICBBXzogX19QUklWQVRFX29uTXV0YXRpb25SZXN1bHQuYmluZChudWxsLCBlKVxuICAgIH0pLCBlLnhfLnB1c2goKGFzeW5jIHQgPT4ge1xuICAgICAgICB0ID8gKGUua18udF8oKSwgXG4gICAgICAgIC8vIFRoaXMgd2lsbCBzdGFydCB0aGUgd3JpdGUgc3RyZWFtIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKGUpKSA6IChhd2FpdCBlLmtfLnN0b3AoKSwgZS52Xy5sZW5ndGggPiAwICYmIChfX1BSSVZBVEVfbG9nRGVidWcoXCJSZW1vdGVTdG9yZVwiLCBgU3RvcHBpbmcgd3JpdGUgc3RyZWFtIHdpdGggJHtlLnZfLmxlbmd0aH0gcGVuZGluZyB3cml0ZXNgKSwgXG4gICAgICAgIGUudl8gPSBbXSkpO1xuICAgIH0pKSksIGUua187XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gb3BlcmF0aW9uIHNjaGVkdWxlZCB0byBiZSBydW4gaW4gdGhlIGZ1dHVyZSBvbiBhbiBBc3luY1F1ZXVlLlxuICpcbiAqIEl0IGlzIGNyZWF0ZWQgdmlhIERlbGF5ZWRPcGVyYXRpb24uY3JlYXRlQW5kU2NoZWR1bGUoKS5cbiAqXG4gKiBTdXBwb3J0cyBjYW5jZWxsYXRpb24gKHZpYSBjYW5jZWwoKSkgYW5kIGVhcmx5IGV4ZWN1dGlvbiAodmlhIHNraXBEZWxheSgpKS5cbiAqXG4gKiBOb3RlOiBXZSBpbXBsZW1lbnQgYFByb21pc2VMaWtlYCBpbnN0ZWFkIG9mIGBQcm9taXNlYCwgYXMgdGhlIGBQcm9taXNlYCB0eXBlXG4gKiBpbiBuZXdlciB2ZXJzaW9ucyBvZiBUeXBlU2NyaXB0IGRlZmluZXMgYGZpbmFsbHlgLCB3aGljaCBpcyBub3QgYXZhaWxhYmxlIGluXG4gKiBJRS5cbiAqL1xuY2xhc3MgRGVsYXllZE9wZXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICB0aGlzLmFzeW5jUXVldWUgPSBlLCB0aGlzLnRpbWVySWQgPSB0LCB0aGlzLnRhcmdldFRpbWVNcyA9IG4sIHRoaXMub3AgPSByLCB0aGlzLnJlbW92YWxDYWxsYmFjayA9IGksIFxuICAgICAgICB0aGlzLmRlZmVycmVkID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZCwgdGhpcy50aGVuID0gdGhpcy5kZWZlcnJlZC5wcm9taXNlLnRoZW4uYmluZCh0aGlzLmRlZmVycmVkLnByb21pc2UpLCBcbiAgICAgICAgLy8gSXQncyBub3JtYWwgZm9yIHRoZSBkZWZlcnJlZCBwcm9taXNlIHRvIGJlIGNhbmNlbGVkIChkdWUgdG8gY2FuY2VsbGF0aW9uKVxuICAgICAgICAvLyBhbmQgc28gd2UgYXR0YWNoIGEgZHVtbXkgY2F0Y2ggY2FsbGJhY2sgdG8gYXZvaWRcbiAgICAgICAgLy8gJ1VuaGFuZGxlZFByb21pc2VSZWplY3Rpb25XYXJuaW5nJyBsb2cgc3BhbS5cbiAgICAgICAgdGhpcy5kZWZlcnJlZC5wcm9taXNlLmNhdGNoKChlID0+IHt9KSk7XG4gICAgfVxuICAgIGdldCBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgRGVsYXllZE9wZXJhdGlvbiB0aGF0IGhhcyBiZWVuIHNjaGVkdWxlZCB0byBiZVxuICAgICAqIGV4ZWN1dGVkIG9uIHRoZSBwcm92aWRlZCBhc3luY1F1ZXVlIGFmdGVyIHRoZSBwcm92aWRlZCBkZWxheU1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFzeW5jUXVldWUgLSBUaGUgcXVldWUgdG8gc2NoZWR1bGUgdGhlIG9wZXJhdGlvbiBvbi5cbiAgICAgKiBAcGFyYW0gaWQgLSBBIFRpbWVyIElEIGlkZW50aWZ5aW5nIHRoZSB0eXBlIG9mIG9wZXJhdGlvbiB0aGlzIGlzLlxuICAgICAqIEBwYXJhbSBkZWxheU1zIC0gVGhlIGRlbGF5IChtcykgYmVmb3JlIHRoZSBvcGVyYXRpb24gc2hvdWxkIGJlIHNjaGVkdWxlZC5cbiAgICAgKiBAcGFyYW0gb3AgLSBUaGUgb3BlcmF0aW9uIHRvIHJ1bi5cbiAgICAgKiBAcGFyYW0gcmVtb3ZhbENhbGxiYWNrIC0gQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgc3luY2hyb25vdXNseSBvbmNlIHRoZVxuICAgICAqICAgb3BlcmF0aW9uIGlzIGV4ZWN1dGVkIG9yIGNhbmNlbGVkLCBub3RpZnlpbmcgdGhlIEFzeW5jUXVldWUgdG8gcmVtb3ZlIGl0XG4gICAgICogICBmcm9tIGl0cyBkZWxheWVkT3BlcmF0aW9ucyBsaXN0LlxuICAgICAqICAgUE9SVElORyBOT1RFOiBUaGlzIGV4aXN0cyB0byBwcmV2ZW50IG1ha2luZyByZW1vdmVEZWxheWVkT3BlcmF0aW9uKCkgYW5kXG4gICAgICogICB0aGUgRGVsYXllZE9wZXJhdGlvbiBjbGFzcyBwdWJsaWMuXG4gICAgICovICAgIHN0YXRpYyBjcmVhdGVBbmRTY2hlZHVsZShlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIGNvbnN0IHMgPSBEYXRlLm5vdygpICsgbiwgbyA9IG5ldyBEZWxheWVkT3BlcmF0aW9uKGUsIHQsIHMsIHIsIGkpO1xuICAgICAgICByZXR1cm4gby5zdGFydChuKSwgbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSB0aW1lci4gVGhpcyBpcyBjYWxsZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgY29uc3RydWN0aW9uIGJ5XG4gICAgICogY3JlYXRlQW5kU2NoZWR1bGUoKS5cbiAgICAgKi8gICAgc3RhcnQoZSkge1xuICAgICAgICB0aGlzLnRpbWVySGFuZGxlID0gc2V0VGltZW91dCgoKCkgPT4gdGhpcy5oYW5kbGVEZWxheUVsYXBzZWQoKSksIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWV1ZXMgdGhlIG9wZXJhdGlvbiB0byBydW4gaW1tZWRpYXRlbHkgKGlmIGl0IGhhc24ndCBhbHJlYWR5IGJlZW4gcnVuIG9yXG4gICAgICogY2FuY2VsZWQpLlxuICAgICAqLyAgICBza2lwRGVsYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZURlbGF5RWxhcHNlZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIHRoZSBvcGVyYXRpb24gaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBleGVjdXRlZCBvciBjYW5jZWxlZC4gVGhlXG4gICAgICogcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkLlxuICAgICAqXG4gICAgICogQXMgbG9uZyBhcyB0aGUgb3BlcmF0aW9uIGhhcyBub3QgeWV0IGJlZW4gcnVuLCBjYWxsaW5nIGNhbmNlbCgpIHByb3ZpZGVzIGFcbiAgICAgKiBndWFyYW50ZWUgdGhhdCB0aGUgb3BlcmF0aW9uIHdpbGwgbm90IGJlIHJ1bi5cbiAgICAgKi8gICAgY2FuY2VsKGUpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy50aW1lckhhbmRsZSAmJiAodGhpcy5jbGVhclRpbWVvdXQoKSwgdGhpcy5kZWZlcnJlZC5yZWplY3QobmV3IEZpcmVzdG9yZUVycm9yKEMuQ0FOQ0VMTEVELCBcIk9wZXJhdGlvbiBjYW5jZWxsZWRcIiArIChlID8gXCI6IFwiICsgZSA6IFwiXCIpKSkpO1xuICAgIH1cbiAgICBoYW5kbGVEZWxheUVsYXBzZWQoKSB7XG4gICAgICAgIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiBudWxsICE9PSB0aGlzLnRpbWVySGFuZGxlID8gKHRoaXMuY2xlYXJUaW1lb3V0KCksIFxuICAgICAgICB0aGlzLm9wKCkudGhlbigoZSA9PiB0aGlzLmRlZmVycmVkLnJlc29sdmUoZSkpKSkgOiBQcm9taXNlLnJlc29sdmUoKSkpO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQoKSB7XG4gICAgICAgIG51bGwgIT09IHRoaXMudGltZXJIYW5kbGUgJiYgKHRoaXMucmVtb3ZhbENhbGxiYWNrKHRoaXMpLCBjbGVhclRpbWVvdXQodGhpcy50aW1lckhhbmRsZSksIFxuICAgICAgICB0aGlzLnRpbWVySGFuZGxlID0gbnVsbCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBGaXJlc3RvcmVFcnJvciB0aGF0IGNhbiBiZSBzdXJmYWNlZCB0byB0aGUgdXNlciBpZiB0aGUgcHJvdmlkZWRcbiAqIGVycm9yIGlzIGFuIEluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IuIFJlLXRocm93cyB0aGUgZXJyb3Igb3RoZXJ3aXNlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKGUsIHQpIHtcbiAgICBpZiAoX19QUklWQVRFX2xvZ0Vycm9yKFwiQXN5bmNRdWV1ZVwiLCBgJHt0fTogJHtlfWApLCBfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpKSByZXR1cm4gbmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsIGAke3R9OiAke2V9YCk7XG4gICAgdGhyb3cgZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRG9jdW1lbnRTZXQgaXMgYW4gaW1tdXRhYmxlIChjb3B5LW9uLXdyaXRlKSBjb2xsZWN0aW9uIHRoYXQgaG9sZHMgZG9jdW1lbnRzXG4gKiBpbiBvcmRlciBzcGVjaWZpZWQgYnkgdGhlIHByb3ZpZGVkIGNvbXBhcmF0b3IuIFdlIGFsd2F5cyBhZGQgYSBkb2N1bWVudCBrZXlcbiAqIGNvbXBhcmF0b3Igb24gdG9wIG9mIHdoYXQgaXMgcHJvdmlkZWQgdG8gZ3VhcmFudGVlIGRvY3VtZW50IGVxdWFsaXR5IGJhc2VkIG9uXG4gKiB0aGUga2V5LlxuICovIGNsYXNzIERvY3VtZW50U2V0IHtcbiAgICAvKiogVGhlIGRlZmF1bHQgb3JkZXJpbmcgaXMgYnkga2V5IGlmIHRoZSBjb21wYXJhdG9yIGlzIG9taXR0ZWQgKi9cbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIC8vIFdlIGFyZSBhZGRpbmcgZG9jdW1lbnQga2V5IGNvbXBhcmF0b3IgdG8gdGhlIGVuZCBhcyBpdCdzIHRoZSBvbmx5XG4gICAgICAgIC8vIGd1YXJhbnRlZWQgdW5pcXVlIHByb3BlcnR5IG9mIGEgZG9jdW1lbnQuXG4gICAgICAgIHRoaXMuY29tcGFyYXRvciA9IGUgPyAodCwgbikgPT4gZSh0LCBuKSB8fCBEb2N1bWVudEtleS5jb21wYXJhdG9yKHQua2V5LCBuLmtleSkgOiAoZSwgdCkgPT4gRG9jdW1lbnRLZXkuY29tcGFyYXRvcihlLmtleSwgdC5rZXkpLCBcbiAgICAgICAgdGhpcy5rZXllZE1hcCA9IGRvY3VtZW50TWFwKCksIHRoaXMuc29ydGVkU2V0ID0gbmV3IFNvcnRlZE1hcCh0aGlzLmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGVtcHR5IGNvcHkgb2YgdGhlIGV4aXN0aW5nIERvY3VtZW50U2V0LCB1c2luZyB0aGUgc2FtZVxuICAgICAqIGNvbXBhcmF0b3IuXG4gICAgICovICAgIHN0YXRpYyBlbXB0eVNldChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRTZXQoZS5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgaGFzKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT0gdGhpcy5rZXllZE1hcC5nZXQoZSk7XG4gICAgfVxuICAgIGdldChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleWVkTWFwLmdldChlKTtcbiAgICB9XG4gICAgZmlyc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRlZFNldC5taW5LZXkoKTtcbiAgICB9XG4gICAgbGFzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkU2V0Lm1heEtleSgpO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZWRTZXQuaXNFbXB0eSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgcHJvdmlkZWQga2V5IGluIHRoZSBkb2N1bWVudCBzZXQsIG9yIC0xIGlmIHRoZVxuICAgICAqIGRvY3VtZW50IGtleSBpcyBub3QgcHJlc2VudCBpbiB0aGUgc2V0O1xuICAgICAqLyAgICBpbmRleE9mKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMua2V5ZWRNYXAuZ2V0KGUpO1xuICAgICAgICByZXR1cm4gdCA/IHRoaXMuc29ydGVkU2V0LmluZGV4T2YodCkgOiAtMTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRlZFNldC5zaXplO1xuICAgIH1cbiAgICAvKiogSXRlcmF0ZXMgZG9jdW1lbnRzIGluIG9yZGVyIGRlZmluZWQgYnkgXCJjb21wYXJhdG9yXCIgKi8gICAgZm9yRWFjaChlKSB7XG4gICAgICAgIHRoaXMuc29ydGVkU2V0Lmlub3JkZXJUcmF2ZXJzYWwoKCh0LCBuKSA9PiAoZSh0KSwgITEpKSk7XG4gICAgfVxuICAgIC8qKiBJbnNlcnRzIG9yIHVwZGF0ZXMgYSBkb2N1bWVudCB3aXRoIHRoZSBzYW1lIGtleSAqLyAgICBhZGQoZSkge1xuICAgICAgICAvLyBGaXJzdCByZW1vdmUgdGhlIGVsZW1lbnQgaWYgd2UgaGF2ZSBpdC5cbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgcmV0dXJuIHQuY29weSh0LmtleWVkTWFwLmluc2VydChlLmtleSwgZSksIHQuc29ydGVkU2V0Lmluc2VydChlLCBudWxsKSk7XG4gICAgfVxuICAgIC8qKiBEZWxldGVzIGEgZG9jdW1lbnQgd2l0aCBhIGdpdmVuIGtleSAqLyAgICBkZWxldGUoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5nZXQoZSk7XG4gICAgICAgIHJldHVybiB0ID8gdGhpcy5jb3B5KHRoaXMua2V5ZWRNYXAucmVtb3ZlKGUpLCB0aGlzLnNvcnRlZFNldC5yZW1vdmUodCkpIDogdGhpcztcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBEb2N1bWVudFNldCkpIHJldHVybiAhMTtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gZS5zaXplKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnNvcnRlZFNldC5nZXRJdGVyYXRvcigpLCBuID0gZS5zb3J0ZWRTZXQuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgZm9yICg7dC5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuZ2V0TmV4dCgpLmtleSwgciA9IG4uZ2V0TmV4dCgpLmtleTtcbiAgICAgICAgICAgIGlmICghZS5pc0VxdWFsKHIpKSByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGUucHVzaCh0LnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSksIDAgPT09IGUubGVuZ3RoID8gXCJEb2N1bWVudFNldCAoKVwiIDogXCJEb2N1bWVudFNldCAoXFxuICBcIiArIGUuam9pbihcIiAgXFxuXCIpICsgXCJcXG4pXCI7XG4gICAgfVxuICAgIGNvcHkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbmV3IERvY3VtZW50U2V0O1xuICAgICAgICByZXR1cm4gbi5jb21wYXJhdG9yID0gdGhpcy5jb21wYXJhdG9yLCBuLmtleWVkTWFwID0gZSwgbi5zb3J0ZWRTZXQgPSB0LCBuO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRG9jdW1lbnRDaGFuZ2VTZXQga2VlcHMgdHJhY2sgb2YgYSBzZXQgb2YgY2hhbmdlcyB0byBkb2NzIGluIGEgcXVlcnksIG1lcmdpbmdcbiAqIGR1cGxpY2F0ZSBldmVudHMgZm9yIHRoZSBzYW1lIGRvYy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfRG9jdW1lbnRDaGFuZ2VTZXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnFfID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgdHJhY2soZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5kb2Mua2V5LCBuID0gdGhpcy5xXy5nZXQodCk7XG4gICAgICAgIG4gPyBcbiAgICAgICAgLy8gTWVyZ2UgdGhlIG5ldyBjaGFuZ2Ugd2l0aCB0aGUgZXhpc3RpbmcgY2hhbmdlLlxuICAgICAgICAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gIT09IGUudHlwZSAmJiAzIC8qIENoYW5nZVR5cGUuTWV0YWRhdGEgKi8gPT09IG4udHlwZSA/IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCBlKSA6IDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyA9PT0gZS50eXBlICYmIDEgLyogQ2hhbmdlVHlwZS5SZW1vdmVkICovICE9PSBuLnR5cGUgPyB0aGlzLnFfID0gdGhpcy5xXy5pbnNlcnQodCwge1xuICAgICAgICAgICAgdHlwZTogbi50eXBlLFxuICAgICAgICAgICAgZG9jOiBlLmRvY1xuICAgICAgICB9KSA6IDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA9PT0gZS50eXBlICYmIDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA9PT0gbi50eXBlID8gdGhpcy5xXyA9IHRoaXMucV8uaW5zZXJ0KHQsIHtcbiAgICAgICAgICAgIHR5cGU6IDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyAsXG4gICAgICAgICAgICBkb2M6IGUuZG9jXG4gICAgICAgIH0pIDogMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovID09PSBlLnR5cGUgJiYgMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovID09PSBuLnR5cGUgPyB0aGlzLnFfID0gdGhpcy5xXy5pbnNlcnQodCwge1xuICAgICAgICAgICAgdHlwZTogMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovICxcbiAgICAgICAgICAgIGRvYzogZS5kb2NcbiAgICAgICAgfSkgOiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA9PT0gZS50eXBlICYmIDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLyA9PT0gbi50eXBlID8gdGhpcy5xXyA9IHRoaXMucV8ucmVtb3ZlKHQpIDogMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gPT09IGUudHlwZSAmJiAyIC8qIENoYW5nZVR5cGUuTW9kaWZpZWQgKi8gPT09IG4udHlwZSA/IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCB7XG4gICAgICAgICAgICB0eXBlOiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyAsXG4gICAgICAgICAgICBkb2M6IG4uZG9jXG4gICAgICAgIH0pIDogMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovID09PSBlLnR5cGUgJiYgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gPT09IG4udHlwZSA/IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCB7XG4gICAgICAgICAgICB0eXBlOiAyIC8qIENoYW5nZVR5cGUuTW9kaWZpZWQgKi8gLFxuICAgICAgICAgICAgZG9jOiBlLmRvY1xuICAgICAgICB9KSA6IFxuICAgICAgICAvLyBUaGlzIGluY2x1ZGVzIHRoZXNlIGNhc2VzLCB3aGljaCBkb24ndCBtYWtlIHNlbnNlOlxuICAgICAgICAvLyBBZGRlZC0+QWRkZWRcbiAgICAgICAgLy8gUmVtb3ZlZC0+UmVtb3ZlZFxuICAgICAgICAvLyBNb2RpZmllZC0+QWRkZWRcbiAgICAgICAgLy8gUmVtb3ZlZC0+TW9kaWZpZWRcbiAgICAgICAgLy8gTWV0YWRhdGEtPkFkZGVkXG4gICAgICAgIC8vIFJlbW92ZWQtPk1ldGFkYXRhXG4gICAgICAgIGZhaWwoKSA6IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCBlKTtcbiAgICB9XG4gICAgUV8oKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucV8uaW5vcmRlclRyYXZlcnNhbCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIGUucHVzaChuKTtcbiAgICAgICAgfSkpLCBlO1xuICAgIH1cbn1cblxuY2xhc3MgVmlld1NuYXBzaG90IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpLCBzLCBvLCBfLCBhKSB7XG4gICAgICAgIHRoaXMucXVlcnkgPSBlLCB0aGlzLmRvY3MgPSB0LCB0aGlzLm9sZERvY3MgPSBuLCB0aGlzLmRvY0NoYW5nZXMgPSByLCB0aGlzLm11dGF0ZWRLZXlzID0gaSwgXG4gICAgICAgIHRoaXMuZnJvbUNhY2hlID0gcywgdGhpcy5zeW5jU3RhdGVDaGFuZ2VkID0gbywgdGhpcy5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcyA9IF8sIFxuICAgICAgICB0aGlzLmhhc0NhY2hlZFJlc3VsdHMgPSBhO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhIHZpZXcgc25hcHNob3QgYXMgaWYgYWxsIGRvY3VtZW50cyBpbiB0aGUgc25hcHNob3Qgd2VyZSBhZGRlZC4gKi8gICAgc3RhdGljIGZyb21Jbml0aWFsRG9jdW1lbnRzKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgY29uc3QgcyA9IFtdO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovICxcbiAgICAgICAgICAgICAgICBkb2M6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSksIG5ldyBWaWV3U25hcHNob3QoZSwgdCwgRG9jdW1lbnRTZXQuZW1wdHlTZXQodCksIHMsIG4sIHIsIFxuICAgICAgICAvKiBzeW5jU3RhdGVDaGFuZ2VkPSAqLyAhMCwgXG4gICAgICAgIC8qIGV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPSAqLyAhMSwgaSk7XG4gICAgfVxuICAgIGdldCBoYXNQZW5kaW5nV3JpdGVzKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubXV0YXRlZEtleXMuaXNFbXB0eSgpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgaWYgKCEodGhpcy5mcm9tQ2FjaGUgPT09IGUuZnJvbUNhY2hlICYmIHRoaXMuaGFzQ2FjaGVkUmVzdWx0cyA9PT0gZS5oYXNDYWNoZWRSZXN1bHRzICYmIHRoaXMuc3luY1N0YXRlQ2hhbmdlZCA9PT0gZS5zeW5jU3RhdGVDaGFuZ2VkICYmIHRoaXMubXV0YXRlZEtleXMuaXNFcXVhbChlLm11dGF0ZWRLZXlzKSAmJiBfX1BSSVZBVEVfcXVlcnlFcXVhbHModGhpcy5xdWVyeSwgZS5xdWVyeSkgJiYgdGhpcy5kb2NzLmlzRXF1YWwoZS5kb2NzKSAmJiB0aGlzLm9sZERvY3MuaXNFcXVhbChlLm9sZERvY3MpKSkgcmV0dXJuICExO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5kb2NDaGFuZ2VzLCBuID0gZS5kb2NDaGFuZ2VzO1xuICAgICAgICBpZiAodC5sZW5ndGggIT09IG4ubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykgaWYgKHRbZV0udHlwZSAhPT0gbltlXS50eXBlIHx8ICF0W2VdLmRvYy5pc0VxdWFsKG5bZV0uZG9jKSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBIb2xkcyB0aGUgbGlzdGVuZXJzIGFuZCB0aGUgbGFzdCByZWNlaXZlZCBWaWV3U25hcHNob3QgZm9yIGEgcXVlcnkgYmVpbmdcbiAqIHRyYWNrZWQgYnkgRXZlbnRNYW5hZ2VyLlxuICovIGNsYXNzIF9fUFJJVkFURV9RdWVyeUxpc3RlbmVyc0luZm8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLktfID0gdm9pZCAwLCB0aGlzLlVfID0gW107XG4gICAgfVxuICAgIC8vIEhlbHBlciBtZXRob2RzIHRoYXQgY2hlY2tzIGlmIHRoZSBxdWVyeSBoYXMgbGlzdGVuZXJzIHRoYXQgbGlzdGVuaW5nIHRvIHJlbW90ZSBzdG9yZVxuICAgIFdfKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5VXy5zb21lKChlID0+IGUuR18oKSkpO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0V2ZW50TWFuYWdlckltcGwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeVF1ZXJ5KGUpKSwgX19QUklWQVRFX3F1ZXJ5RXF1YWxzKSwgXG4gICAgICAgIHRoaXMub25saW5lU3RhdGUgPSBcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovICwgdGhpcy56XyA9IG5ldyBTZXQ7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyTGlzdGVuKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgciA9IDMgLyogTGlzdGVuZXJTZXR1cEFjdGlvbi5Ob0FjdGlvblJlcXVpcmVkICovO1xuICAgIGNvbnN0IGkgPSB0LnF1ZXJ5O1xuICAgIGxldCBzID0gbi5xdWVyaWVzLmdldChpKTtcbiAgICBzID8gIXMuV18oKSAmJiB0LkdfKCkgJiYgKFxuICAgIC8vIFF1ZXJ5IGhhcyBiZWVuIGxpc3RlbmluZyB0byBsb2NhbCBjYWNoZSwgYW5kIHRyaWVzIHRvIGFkZCBhIG5ldyBsaXN0ZW5lciBzb3VyY2VkIGZyb20gd2F0Y2guXG4gICAgciA9IDIgLyogTGlzdGVuZXJTZXR1cEFjdGlvbi5SZXF1aXJlV2F0Y2hDb25uZWN0aW9uT25seSAqLykgOiAocyA9IG5ldyBfX1BSSVZBVEVfUXVlcnlMaXN0ZW5lcnNJbmZvLCBcbiAgICByID0gdC5HXygpID8gMCAvKiBMaXN0ZW5lclNldHVwQWN0aW9uLkluaXRpYWxpemVMb2NhbExpc3RlbkFuZFJlcXVpcmVXYXRjaENvbm5lY3Rpb24gKi8gOiAxIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uSW5pdGlhbGl6ZUxvY2FsTGlzdGVuT25seSAqLyk7XG4gICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoIChyKSB7XG4gICAgICAgICAgY2FzZSAwIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uSW5pdGlhbGl6ZUxvY2FsTGlzdGVuQW5kUmVxdWlyZVdhdGNoQ29ubmVjdGlvbiAqLyA6XG4gICAgICAgICAgICBzLktfID0gYXdhaXQgbi5vbkxpc3RlbihpLCBcbiAgICAgICAgICAgIC8qKiBlbmFibGVSZW1vdGVMaXN0ZW49ICovICEwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uSW5pdGlhbGl6ZUxvY2FsTGlzdGVuT25seSAqLyA6XG4gICAgICAgICAgICBzLktfID0gYXdhaXQgbi5vbkxpc3RlbihpLCBcbiAgICAgICAgICAgIC8qKiBlbmFibGVSZW1vdGVMaXN0ZW49ICovICExKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uUmVxdWlyZVdhdGNoQ29ubmVjdGlvbk9ubHkgKi8gOlxuICAgICAgICAgICAgYXdhaXQgbi5vbkZpcnN0UmVtb3RlU3RvcmVMaXN0ZW4oaSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZShlLCBgSW5pdGlhbGl6YXRpb24gb2YgcXVlcnkgJyR7X19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5KHQucXVlcnkpfScgZmFpbGVkYCk7XG4gICAgICAgIHJldHVybiB2b2lkIHQub25FcnJvcihuKTtcbiAgICB9XG4gICAgaWYgKG4ucXVlcmllcy5zZXQoaSwgcyksIHMuVV8ucHVzaCh0KSwgXG4gICAgLy8gUnVuIGdsb2JhbCBzbmFwc2hvdCBsaXN0ZW5lcnMgaWYgYSBjb25zaXN0ZW50IHNuYXBzaG90IGhhcyBiZWVuIGVtaXR0ZWQuXG4gICAgdC5qXyhuLm9ubGluZVN0YXRlKSwgcy5LXykge1xuICAgICAgICB0LkhfKHMuS18pICYmIF9fUFJJVkFURV9yYWlzZVNuYXBzaG90c0luU3luY0V2ZW50KG4pO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2V2ZW50TWFuYWdlclVubGlzdGVuKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IHQucXVlcnk7XG4gICAgbGV0IGkgPSAzIC8qIExpc3RlbmVyUmVtb3ZhbEFjdGlvbi5Ob0FjdGlvblJlcXVpcmVkICovO1xuICAgIGNvbnN0IHMgPSBuLnF1ZXJpZXMuZ2V0KHIpO1xuICAgIGlmIChzKSB7XG4gICAgICAgIGNvbnN0IGUgPSBzLlVfLmluZGV4T2YodCk7XG4gICAgICAgIGUgPj0gMCAmJiAocy5VXy5zcGxpY2UoZSwgMSksIDAgPT09IHMuVV8ubGVuZ3RoID8gaSA9IHQuR18oKSA/IDAgLyogTGlzdGVuZXJSZW1vdmFsQWN0aW9uLlRlcm1pbmF0ZUxvY2FsTGlzdGVuQW5kUmVxdWlyZVdhdGNoRGlzY29ubmVjdGlvbiAqLyA6IDEgLyogTGlzdGVuZXJSZW1vdmFsQWN0aW9uLlRlcm1pbmF0ZUxvY2FsTGlzdGVuT25seSAqLyA6ICFzLldfKCkgJiYgdC5HXygpICYmIChcbiAgICAgICAgLy8gVGhlIHJlbW92ZWQgbGlzdGVuZXIgaXMgdGhlIGxhc3Qgb25lIHRoYXQgc291cmNlZCBmcm9tIHdhdGNoLlxuICAgICAgICBpID0gMiAvKiBMaXN0ZW5lclJlbW92YWxBY3Rpb24uUmVxdWlyZVdhdGNoRGlzY29ubmVjdGlvbk9ubHkgKi8pKTtcbiAgICB9XG4gICAgc3dpdGNoIChpKSB7XG4gICAgICBjYXNlIDAgLyogTGlzdGVuZXJSZW1vdmFsQWN0aW9uLlRlcm1pbmF0ZUxvY2FsTGlzdGVuQW5kUmVxdWlyZVdhdGNoRGlzY29ubmVjdGlvbiAqLyA6XG4gICAgICAgIHJldHVybiBuLnF1ZXJpZXMuZGVsZXRlKHIpLCBuLm9uVW5saXN0ZW4ociwgXG4gICAgICAgIC8qKiBkaXNhYmxlUmVtb3RlTGlzdGVuPSAqLyAhMCk7XG5cbiAgICAgIGNhc2UgMSAvKiBMaXN0ZW5lclJlbW92YWxBY3Rpb24uVGVybWluYXRlTG9jYWxMaXN0ZW5Pbmx5ICovIDpcbiAgICAgICAgcmV0dXJuIG4ucXVlcmllcy5kZWxldGUociksIG4ub25Vbmxpc3RlbihyLCBcbiAgICAgICAgLyoqIGRpc2FibGVSZW1vdGVMaXN0ZW49ICovICExKTtcblxuICAgICAgY2FzZSAyIC8qIExpc3RlbmVyUmVtb3ZhbEFjdGlvbi5SZXF1aXJlV2F0Y2hEaXNjb25uZWN0aW9uT25seSAqLyA6XG4gICAgICAgIHJldHVybiBuLm9uTGFzdFJlbW90ZVN0b3JlVW5saXN0ZW4ocik7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9ldmVudE1hbmFnZXJPbldhdGNoQ2hhbmdlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgciA9ICExO1xuICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLnF1ZXJ5LCBpID0gbi5xdWVyaWVzLmdldCh0KTtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBpLlVfKSB0LkhfKGUpICYmIChyID0gITApO1xuICAgICAgICAgICAgaS5LXyA9IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgciAmJiBfX1BSSVZBVEVfcmFpc2VTbmFwc2hvdHNJblN5bmNFdmVudChuKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2V2ZW50TWFuYWdlck9uV2F0Y2hFcnJvcihlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIGkgPSByLnF1ZXJpZXMuZ2V0KHQpO1xuICAgIGlmIChpKSBmb3IgKGNvbnN0IGUgb2YgaS5VXykgZS5vbkVycm9yKG4pO1xuICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzLiBOT1RFOiBXZSBkb24ndCBuZWVkIHRvIGNhbGwgc3luY0VuZ2luZS51bmxpc3RlbigpXG4gICAgLy8gYWZ0ZXIgYW4gZXJyb3IuXG4gICAgICAgIHIucXVlcmllcy5kZWxldGUodCk7XG59XG5cbi8vIENhbGwgYWxsIGdsb2JhbCBzbmFwc2hvdCBsaXN0ZW5lcnMgdGhhdCBoYXZlIGJlZW4gc2V0LlxuZnVuY3Rpb24gX19QUklWQVRFX3JhaXNlU25hcHNob3RzSW5TeW5jRXZlbnQoZSkge1xuICAgIGUuel8uZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgIGUubmV4dCgpO1xuICAgIH0pKTtcbn1cblxudmFyIGdlLCBwZTtcblxuLyoqIExpc3RlbiB0byBib3RoIGNhY2hlIGFuZCBzZXJ2ZXIgY2hhbmdlcyAqL1xuKHBlID0gZ2UgfHwgKGdlID0ge30pKS5KXyA9IFwiZGVmYXVsdFwiLCBcbi8qKiBMaXN0ZW4gdG8gY2hhbmdlcyBpbiBjYWNoZSBvbmx5ICovXG5wZS5DYWNoZSA9IFwiY2FjaGVcIjtcblxuLyoqXG4gKiBRdWVyeUxpc3RlbmVyIHRha2VzIGEgc2VyaWVzIG9mIGludGVybmFsIHZpZXcgc25hcHNob3RzIGFuZCBkZXRlcm1pbmVzXG4gKiB3aGVuIHRvIHJhaXNlIHRoZSBldmVudC5cbiAqXG4gKiBJdCB1c2VzIGFuIE9ic2VydmVyIHRvIGRpc3BhdGNoIGV2ZW50cy5cbiAqL1xuY2xhc3MgX19QUklWQVRFX1F1ZXJ5TGlzdGVuZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGUsIHRoaXMuWV8gPSB0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWwgc25hcHNob3RzIChlLmcuIGZyb20gY2FjaGUpIG1heSBub3QgYmUgcHJvcGFnYXRlZCB0byB0aGUgd3JhcHBlZFxuICAgICAgICAgKiBvYnNlcnZlci4gVGhpcyBmbGFnIGlzIHNldCB0byB0cnVlIG9uY2Ugd2UndmUgYWN0dWFsbHkgcmFpc2VkIGFuIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5aXyA9ICExLCB0aGlzLlhfID0gbnVsbCwgdGhpcy5vbmxpbmVTdGF0ZSA9IFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8gLCBcbiAgICAgICAgdGhpcy5vcHRpb25zID0gbiB8fCB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgbmV3IFZpZXdTbmFwc2hvdCB0byB0aGlzIGxpc3RlbmVyLCByYWlzaW5nIGEgdXNlci1mYWNpbmcgZXZlbnRcbiAgICAgKiBpZiBhcHBsaWNhYmxlIChkZXBlbmRpbmcgb24gd2hhdCBjaGFuZ2VkLCB3aGV0aGVyIHRoZSB1c2VyIGhhcyBvcHRlZCBpbnRvXG4gICAgICogbWV0YWRhdGEtb25seSBjaGFuZ2VzLCBldGMuKS4gUmV0dXJucyB0cnVlIGlmIGEgdXNlci1mYWNpbmcgZXZlbnQgd2FzXG4gICAgICogaW5kZWVkIHJhaXNlZC5cbiAgICAgKi8gICAgSF8oZSkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIG1ldGFkYXRhIG9ubHkgY2hhbmdlcy5cbiAgICAgICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiBlLmRvY0NoYW5nZXMpIDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyAhPT0gbi50eXBlICYmIHQucHVzaChuKTtcbiAgICAgICAgICAgIGUgPSBuZXcgVmlld1NuYXBzaG90KGUucXVlcnksIGUuZG9jcywgZS5vbGREb2NzLCB0LCBlLm11dGF0ZWRLZXlzLCBlLmZyb21DYWNoZSwgZS5zeW5jU3RhdGVDaGFuZ2VkLCBcbiAgICAgICAgICAgIC8qIGV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPSAqLyAhMCwgZS5oYXNDYWNoZWRSZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdCA9ICExO1xuICAgICAgICByZXR1cm4gdGhpcy5aXyA/IHRoaXMuZWEoZSkgJiYgKHRoaXMuWV8ubmV4dChlKSwgdCA9ICEwKSA6IHRoaXMudGEoZSwgdGhpcy5vbmxpbmVTdGF0ZSkgJiYgKHRoaXMubmEoZSksIFxuICAgICAgICB0ID0gITApLCB0aGlzLlhfID0gZSwgdDtcbiAgICB9XG4gICAgb25FcnJvcihlKSB7XG4gICAgICAgIHRoaXMuWV8uZXJyb3IoZSk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHdoZXRoZXIgYSBzbmFwc2hvdCB3YXMgcmFpc2VkLiAqLyAgICBqXyhlKSB7XG4gICAgICAgIHRoaXMub25saW5lU3RhdGUgPSBlO1xuICAgICAgICBsZXQgdCA9ICExO1xuICAgICAgICByZXR1cm4gdGhpcy5YXyAmJiAhdGhpcy5aXyAmJiB0aGlzLnRhKHRoaXMuWF8sIGUpICYmICh0aGlzLm5hKHRoaXMuWF8pLCB0ID0gITApLCBcbiAgICAgICAgdDtcbiAgICB9XG4gICAgdGEoZSwgdCkge1xuICAgICAgICAvLyBBbHdheXMgcmFpc2UgdGhlIGZpcnN0IGV2ZW50IHdoZW4gd2UncmUgc3luY2VkXG4gICAgICAgIGlmICghZS5mcm9tQ2FjaGUpIHJldHVybiAhMDtcbiAgICAgICAgLy8gQWx3YXlzIHJhaXNlIGV2ZW50IGlmIGxpc3RlbmluZyB0byBjYWNoZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5HXygpKSByZXR1cm4gITA7XG4gICAgICAgIC8vIE5PVEU6IFdlIGNvbnNpZGVyIE9ubGluZVN0YXRlLlVua25vd24gYXMgb25saW5lIChpdCBzaG91bGQgYmVjb21lIE9mZmxpbmVcbiAgICAgICAgLy8gb3IgT25saW5lIGlmIHdlIHdhaXQgbG9uZyBlbm91Z2gpLlxuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBcIk9mZmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PZmZsaW5lICovICE9PSB0O1xuICAgICAgICAvLyBEb24ndCByYWlzZSB0aGUgZXZlbnQgaWYgd2UncmUgb25saW5lLCBhcmVuJ3Qgc3luY2VkIHlldCAoY2hlY2tlZFxuICAgICAgICAvLyBhYm92ZSkgYW5kIGFyZSB3YWl0aW5nIGZvciBhIHN5bmMuXG4gICAgICAgICAgICAgICAgcmV0dXJuICghdGhpcy5vcHRpb25zLnJhIHx8ICFuKSAmJiAoIWUuZG9jcy5pc0VtcHR5KCkgfHwgZS5oYXNDYWNoZWRSZXN1bHRzIHx8IFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8gPT09IHQpO1xuICAgICAgICAvLyBSYWlzZSBkYXRhIGZyb20gY2FjaGUgaWYgd2UgaGF2ZSBhbnkgZG9jdW1lbnRzLCBoYXZlIGNhY2hlZCByZXN1bHRzIGJlZm9yZSxcbiAgICAgICAgLy8gb3Igd2UgYXJlIG9mZmxpbmUuXG4gICAgICAgIH1cbiAgICBlYShlKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gaGFuZGxlIGluY2x1ZGVEb2N1bWVudE1ldGFkYXRhQ2hhbmdlcyBoZXJlIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIE1ldGFkYXRhIG9ubHkgY2hhbmdlcyBoYXZlIGFscmVhZHkgYmVlbiBzdHJpcHBlZCBvdXQgaWYgbmVlZGVkLlxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBvbmx5IGNoYW5nZXMgd2Ugd2lsbCBzZWUgYXJlIHRoZSBvbmVzIHdlIHNob3VsZFxuICAgICAgICAvLyBwcm9wYWdhdGUuXG4gICAgICAgIGlmIChlLmRvY0NoYW5nZXMubGVuZ3RoID4gMCkgcmV0dXJuICEwO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5YXyAmJiB0aGlzLlhfLmhhc1BlbmRpbmdXcml0ZXMgIT09IGUuaGFzUGVuZGluZ1dyaXRlcztcbiAgICAgICAgcmV0dXJuICEoIWUuc3luY1N0YXRlQ2hhbmdlZCAmJiAhdCkgJiYgITAgPT09IHRoaXMub3B0aW9ucy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzO1xuICAgICAgICAvLyBHZW5lcmFsbHkgd2Ugc2hvdWxkIGhhdmUgaGl0IG9uZSBvZiB0aGUgY2FzZXMgYWJvdmUsIGJ1dCBpdCdzIHBvc3NpYmxlXG4gICAgICAgIC8vIHRvIGdldCBoZXJlIGlmIHRoZXJlIHdlcmUgb25seSBtZXRhZGF0YSBkb2NDaGFuZ2VzIGFuZCB0aGV5IGdvdFxuICAgICAgICAvLyBzdHJpcHBlZCBvdXQuXG4gICAgICAgIH1cbiAgICBuYShlKSB7XG4gICAgICAgIGUgPSBWaWV3U25hcHNob3QuZnJvbUluaXRpYWxEb2N1bWVudHMoZS5xdWVyeSwgZS5kb2NzLCBlLm11dGF0ZWRLZXlzLCBlLmZyb21DYWNoZSwgZS5oYXNDYWNoZWRSZXN1bHRzKSwgXG4gICAgICAgIHRoaXMuWl8gPSAhMCwgdGhpcy5ZXy5uZXh0KGUpO1xuICAgIH1cbiAgICBHXygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zb3VyY2UgIT09IGdlLkNhY2hlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBjb21wbGV0ZSBlbGVtZW50IGluIHRoZSBidW5kbGUgc3RyZWFtLCB0b2dldGhlciB3aXRoIHRoZSBieXRlIGxlbmd0aCBpdFxuICogb2NjdXBpZXMgaW4gdGhlIHN0cmVhbS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfU2l6ZWRCdW5kbGVFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlLCBcbiAgICAvLyBIb3cgbWFueSBieXRlcyB0aGlzIGVsZW1lbnQgdGFrZXMgdG8gc3RvcmUgaW4gdGhlIGJ1bmRsZS5cbiAgICB0KSB7XG4gICAgICAgIHRoaXMuaWEgPSBlLCB0aGlzLmJ5dGVMZW5ndGggPSB0O1xuICAgIH1cbiAgICBzYSgpIHtcbiAgICAgICAgcmV0dXJuIFwibWV0YWRhdGFcIiBpbiB0aGlzLmlhO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSGVscGVyIHRvIGNvbnZlcnQgb2JqZWN0cyBmcm9tIGJ1bmRsZXMgdG8gbW9kZWwgb2JqZWN0cyBpbiB0aGUgU0RLLlxuICovIGNsYXNzIF9fUFJJVkFURV9CdW5kbGVDb252ZXJ0ZXJJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IGU7XG4gICAgfVxuICAgIFBzKGUpIHtcbiAgICAgICAgcmV0dXJuIGZyb21OYW1lKHRoaXMuc2VyaWFsaXplciwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgQnVuZGxlRG9jdW1lbnQgdG8gYSBNdXRhYmxlRG9jdW1lbnQuXG4gICAgICovICAgIElzKGUpIHtcbiAgICAgICAgcmV0dXJuIGUubWV0YWRhdGEuZXhpc3RzID8gX19QUklWQVRFX2Zyb21Eb2N1bWVudCh0aGlzLnNlcmlhbGl6ZXIsIGUuZG9jdW1lbnQsICExKSA6IE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KHRoaXMuUHMoZS5tZXRhZGF0YS5uYW1lKSwgdGhpcy5UcyhlLm1ldGFkYXRhLnJlYWRUaW1lKSk7XG4gICAgfVxuICAgIFRzKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9mcm9tVmVyc2lvbihlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBjbGFzcyB0byBwcm9jZXNzIHRoZSBlbGVtZW50cyBmcm9tIGEgYnVuZGxlLCBsb2FkIHRoZW0gaW50byBsb2NhbFxuICogc3RvcmFnZSBhbmQgcHJvdmlkZSBwcm9ncmVzcyB1cGRhdGUgd2hpbGUgbG9hZGluZy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfQnVuZGxlTG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMub2EgPSBlLCB0aGlzLmxvY2FsU3RvcmUgPSB0LCB0aGlzLnNlcmlhbGl6ZXIgPSBuLCBcbiAgICAgICAgLyoqIEJhdGNoZWQgcXVlcmllcyB0byBiZSBzYXZlZCBpbnRvIHN0b3JhZ2UgKi9cbiAgICAgICAgdGhpcy5xdWVyaWVzID0gW10sIFxuICAgICAgICAvKiogQmF0Y2hlZCBkb2N1bWVudHMgdG8gYmUgc2F2ZWQgaW50byBzdG9yYWdlICovXG4gICAgICAgIHRoaXMuZG9jdW1lbnRzID0gW10sIFxuICAgICAgICAvKiogVGhlIGNvbGxlY3Rpb24gZ3JvdXBzIGFmZmVjdGVkIGJ5IHRoaXMgYnVuZGxlLiAqL1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25Hcm91cHMgPSBuZXcgU2V0LCB0aGlzLnByb2dyZXNzID0gX19QUklWQVRFX2J1bmRsZUluaXRpYWxQcm9ncmVzcyhlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBlbGVtZW50IGZyb20gdGhlIGJ1bmRsZSB0byB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogUmV0dXJucyBhIG5ldyBwcm9ncmVzcyBpZiBhZGRpbmcgdGhlIGVsZW1lbnQgbGVhZHMgdG8gYSBuZXcgcHJvZ3Jlc3MsXG4gICAgICogb3RoZXJ3aXNlIHJldHVybnMgbnVsbC5cbiAgICAgKi8gICAgX2EoZSkge1xuICAgICAgICB0aGlzLnByb2dyZXNzLmJ5dGVzTG9hZGVkICs9IGUuYnl0ZUxlbmd0aDtcbiAgICAgICAgbGV0IHQgPSB0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZDtcbiAgICAgICAgaWYgKGUuaWEubmFtZWRRdWVyeSkgdGhpcy5xdWVyaWVzLnB1c2goZS5pYS5uYW1lZFF1ZXJ5KTsgZWxzZSBpZiAoZS5pYS5kb2N1bWVudE1ldGFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogZS5pYS5kb2N1bWVudE1ldGFkYXRhXG4gICAgICAgICAgICB9KSwgZS5pYS5kb2N1bWVudE1ldGFkYXRhLmV4aXN0cyB8fCArK3Q7XG4gICAgICAgICAgICBjb25zdCBuID0gUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcoZS5pYS5kb2N1bWVudE1ldGFkYXRhLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uR3JvdXBzLmFkZChuLmdldChuLmxlbmd0aCAtIDIpKTtcbiAgICAgICAgfSBlbHNlIGUuaWEuZG9jdW1lbnQgJiYgKHRoaXMuZG9jdW1lbnRzW3RoaXMuZG9jdW1lbnRzLmxlbmd0aCAtIDFdLmRvY3VtZW50ID0gZS5pYS5kb2N1bWVudCwgXG4gICAgICAgICsrdCk7XG4gICAgICAgIHJldHVybiB0ICE9PSB0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZCA/ICh0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZCA9IHQsIFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb2dyZXNzKSkgOiBudWxsO1xuICAgIH1cbiAgICBhYShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgTWFwLCBuID0gbmV3IF9fUFJJVkFURV9CdW5kbGVDb252ZXJ0ZXJJbXBsKHRoaXMuc2VyaWFsaXplcik7XG4gICAgICAgIGZvciAoY29uc3QgciBvZiBlKSBpZiAoci5tZXRhZGF0YS5xdWVyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbi5QcyhyLm1ldGFkYXRhLm5hbWUpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIHIubWV0YWRhdGEucXVlcmllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSAodC5nZXQobikgfHwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpLmFkZChlKTtcbiAgICAgICAgICAgICAgICB0LnNldChuLCByKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBwcm9ncmVzcyB0byAnU3VjY2VzcycgYW5kIHJldHVybiB0aGUgdXBkYXRlZCBwcm9ncmVzcy5cbiAgICAgKi8gICAgYXN5bmMgY29tcGxldGUoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5QnVuZGxlZERvY3VtZW50cyh0aGlzLmxvY2FsU3RvcmUsIG5ldyBfX1BSSVZBVEVfQnVuZGxlQ29udmVydGVySW1wbCh0aGlzLnNlcmlhbGl6ZXIpLCB0aGlzLmRvY3VtZW50cywgdGhpcy5vYS5pZCksIHQgPSB0aGlzLmFhKHRoaXMuZG9jdW1lbnRzKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMucXVlcmllcykgYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVTYXZlTmFtZWRRdWVyeSh0aGlzLmxvY2FsU3RvcmUsIGUsIHQuZ2V0KGUubmFtZSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzcy50YXNrU3RhdGUgPSBcIlN1Y2Nlc3NcIiwge1xuICAgICAgICAgICAgcHJvZ3Jlc3M6IHRoaXMucHJvZ3Jlc3MsXG4gICAgICAgICAgICB1YTogdGhpcy5jb2xsZWN0aW9uR3JvdXBzLFxuICAgICAgICAgICAgY2E6IGVcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGBMb2FkQnVuZGxlVGFza1Byb2dyZXNzYCByZXByZXNlbnRpbmcgdGhlIGluaXRpYWwgcHJvZ3Jlc3Mgb2ZcbiAqIGxvYWRpbmcgYSBidW5kbGUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2J1bmRsZUluaXRpYWxQcm9ncmVzcyhlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGFza1N0YXRlOiBcIlJ1bm5pbmdcIixcbiAgICAgICAgZG9jdW1lbnRzTG9hZGVkOiAwLFxuICAgICAgICBieXRlc0xvYWRlZDogMCxcbiAgICAgICAgdG90YWxEb2N1bWVudHM6IGUudG90YWxEb2N1bWVudHMsXG4gICAgICAgIHRvdGFsQnl0ZXM6IGUudG90YWxCeXRlc1xuICAgIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGBMb2FkQnVuZGxlVGFza1Byb2dyZXNzYCByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRoYXQgdGhlIGxvYWRpbmdcbiAqIGhhcyBzdWNjZWVkZWQuXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfQWRkZWRMaW1ib0RvY3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMua2V5ID0gZTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9SZW1vdmVkTGltYm9Eb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLmtleSA9IGU7XG4gICAgfVxufVxuXG4vKipcbiAqIFZpZXcgaXMgcmVzcG9uc2libGUgZm9yIGNvbXB1dGluZyB0aGUgZmluYWwgbWVyZ2VkIHRydXRoIG9mIHdoYXQgZG9jcyBhcmUgaW5cbiAqIGEgcXVlcnkuIEl0IGdldHMgbm90aWZpZWQgb2YgbG9jYWwgYW5kIHJlbW90ZSBjaGFuZ2VzIHRvIGRvY3MsIGFuZCBhcHBsaWVzXG4gKiB0aGUgcXVlcnkgZmlsdGVycyBhbmQgbGltaXRzIHRvIGRldGVybWluZSB0aGUgbW9zdCBjb3JyZWN0IHBvc3NpYmxlIHJlc3VsdHMuXG4gKi8gY2xhc3MgX19QUklWQVRFX1ZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGUsIFxuICAgIC8qKiBEb2N1bWVudHMgaW5jbHVkZWQgaW4gdGhlIHJlbW90ZSB0YXJnZXQgKi9cbiAgICB0KSB7XG4gICAgICAgIHRoaXMucXVlcnkgPSBlLCB0aGlzLmxhID0gdCwgdGhpcy5oYSA9IG51bGwsIHRoaXMuaGFzQ2FjaGVkUmVzdWx0cyA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZyB3aGV0aGVyIHRoZSB2aWV3IGlzIGN1cnJlbnQgd2l0aCB0aGUgYmFja2VuZC4gQSB2aWV3IGlzIGNvbnNpZGVyZWRcbiAgICAgICAgICogY3VycmVudCBhZnRlciBpdCBoYXMgc2VlbiB0aGUgY3VycmVudCBmbGFnIGZyb20gdGhlIGJhY2tlbmQgYW5kIGRpZCBub3RcbiAgICAgICAgICogbG9zZSBjb25zaXN0ZW5jeSB3aXRoaW4gdGhlIHdhdGNoIHN0cmVhbSAoZS5nLiBiZWNhdXNlIG9mIGFuIGV4aXN0ZW5jZVxuICAgICAgICAgKiBmaWx0ZXIgbWlzbWF0Y2gpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gITEsIFxuICAgICAgICAvKiogRG9jdW1lbnRzIGluIHRoZSB2aWV3IGJ1dCBub3QgaW4gdGhlIHJlbW90ZSB0YXJnZXQgKi9cbiAgICAgICAgdGhpcy5QYSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCBcbiAgICAgICAgLyoqIERvY3VtZW50IEtleXMgdGhhdCBoYXZlIGxvY2FsIGNoYW5nZXMgKi9cbiAgICAgICAgdGhpcy5tdXRhdGVkS2V5cyA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCB0aGlzLklhID0gX19QUklWQVRFX25ld1F1ZXJ5Q29tcGFyYXRvcihlKSwgXG4gICAgICAgIHRoaXMuVGEgPSBuZXcgRG9jdW1lbnRTZXQodGhpcy5JYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzZXQgb2YgcmVtb3RlIGRvY3VtZW50cyB0aGF0IHRoZSBzZXJ2ZXIgaGFzIHRvbGQgdXMgYmVsb25ncyB0byB0aGUgdGFyZ2V0IGFzc29jaWF0ZWQgd2l0aFxuICAgICAqIHRoaXMgdmlldy5cbiAgICAgKi8gICAgZ2V0IEVhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBhIHNldCBvZiBkb2MgY2hhbmdlcywgYXBwbGllcyB0aGUgcXVlcnkgbGltaXQsIGFuZCBjb21wdXRlc1xuICAgICAqIHdoYXQgdGhlIG5ldyByZXN1bHRzIHNob3VsZCBiZSwgd2hhdCB0aGUgY2hhbmdlcyB3ZXJlLCBhbmQgd2hldGhlciB3ZSBtYXlcbiAgICAgKiBuZWVkIHRvIGdvIGJhY2sgdG8gdGhlIGxvY2FsIGNhY2hlIGZvciBtb3JlIHJlc3VsdHMuIERvZXMgbm90IG1ha2UgYW55XG4gICAgICogY2hhbmdlcyB0byB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0gZG9jQ2hhbmdlcyAtIFRoZSBkb2MgY2hhbmdlcyB0byBhcHBseSB0byB0aGlzIHZpZXcuXG4gICAgICogQHBhcmFtIHByZXZpb3VzQ2hhbmdlcyAtIElmIHRoaXMgaXMgYmVpbmcgY2FsbGVkIHdpdGggYSByZWZpbGwsIHRoZW4gc3RhcnRcbiAgICAgKiAgICAgICAgd2l0aCB0aGlzIHNldCBvZiBkb2NzIGFuZCBjaGFuZ2VzIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgdmlldy5cbiAgICAgKiBAcmV0dXJucyBhIG5ldyBzZXQgb2YgZG9jcywgY2hhbmdlcywgYW5kIHJlZmlsbCBmbGFnLlxuICAgICAqLyAgICBkYShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0ID8gdC5BYSA6IG5ldyBfX1BSSVZBVEVfRG9jdW1lbnRDaGFuZ2VTZXQsIHIgPSB0ID8gdC5UYSA6IHRoaXMuVGE7XG4gICAgICAgIGxldCBpID0gdCA/IHQubXV0YXRlZEtleXMgOiB0aGlzLm11dGF0ZWRLZXlzLCBzID0gciwgbyA9ICExO1xuICAgICAgICAvLyBUcmFjayB0aGUgbGFzdCBkb2MgaW4gYSAoZnVsbCkgbGltaXQuIFRoaXMgaXMgbmVjZXNzYXJ5LCBiZWNhdXNlIHNvbWVcbiAgICAgICAgLy8gdXBkYXRlIChhIGRlbGV0ZSwgb3IgYW4gdXBkYXRlIG1vdmluZyBhIGRvYyBwYXN0IHRoZSBvbGQgbGltaXQpIG1pZ2h0XG4gICAgICAgIC8vIG1lYW4gdGhlcmUgaXMgc29tZSBvdGhlciBkb2N1bWVudCBpbiB0aGUgbG9jYWwgY2FjaGUgdGhhdCBlaXRoZXIgc2hvdWxkXG4gICAgICAgIC8vIGNvbWUgKDEpIGJldHdlZW4gdGhlIG9sZCBsYXN0IGxpbWl0IGRvYyBhbmQgdGhlIG5ldyBsYXN0IGRvY3VtZW50LCBpbiB0aGVcbiAgICAgICAgLy8gY2FzZSBvZiB1cGRhdGVzLCBvciAoMikgYWZ0ZXIgdGhlIG5ldyBsYXN0IGRvY3VtZW50LCBpbiB0aGUgY2FzZSBvZlxuICAgICAgICAvLyBkZWxldGVzLiBTbyB3ZSBrZWVwIHRoaXMgZG9jIGF0IHRoZSBvbGQgbGltaXQgdG8gY29tcGFyZSB0aGUgdXBkYXRlcyB0by5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgc2hvdWxkIG5ldmVyIGdldCB1c2VkIGluIGEgcmVmaWxsICh3aGVuIHByZXZpb3VzQ2hhbmdlcyBpc1xuICAgICAgICAvLyBzZXQpLCBiZWNhdXNlIHRoZXJlIHdpbGwgb25seSBiZSBhZGRzIC0tIG5vIGRlbGV0ZXMgb3IgdXBkYXRlcy5cbiAgICAgICAgY29uc3QgXyA9IFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyA9PT0gdGhpcy5xdWVyeS5saW1pdFR5cGUgJiYgci5zaXplID09PSB0aGlzLnF1ZXJ5LmxpbWl0ID8gci5sYXN0KCkgOiBudWxsLCBhID0gXCJMXCIgLyogTGltaXRUeXBlLkxhc3QgKi8gPT09IHRoaXMucXVlcnkubGltaXRUeXBlICYmIHIuc2l6ZSA9PT0gdGhpcy5xdWVyeS5saW1pdCA/IHIuZmlyc3QoKSA6IG51bGw7XG4gICAgICAgIC8vIERyb3AgZG9jdW1lbnRzIG91dCB0byBtZWV0IGxpbWl0L2xpbWl0VG9MYXN0IHJlcXVpcmVtZW50LlxuICAgICAgICBpZiAoZS5pbm9yZGVyVHJhdmVyc2FsKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdSA9IHIuZ2V0KGUpLCBjID0gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyh0aGlzLnF1ZXJ5LCB0KSA/IHQgOiBudWxsLCBsID0gISF1ICYmIHRoaXMubXV0YXRlZEtleXMuaGFzKHUua2V5KSwgaCA9ICEhYyAmJiAoYy5oYXNMb2NhbE11dGF0aW9ucyB8fCBcbiAgICAgICAgICAgIC8vIFdlIG9ubHkgY29uc2lkZXIgY29tbWl0dGVkIG11dGF0aW9ucyBmb3IgZG9jdW1lbnRzIHRoYXQgd2VyZVxuICAgICAgICAgICAgLy8gbXV0YXRlZCBkdXJpbmcgdGhlIGxpZmV0aW1lIG9mIHRoZSB2aWV3LlxuICAgICAgICAgICAgdGhpcy5tdXRhdGVkS2V5cy5oYXMoYy5rZXkpICYmIGMuaGFzQ29tbWl0dGVkTXV0YXRpb25zKTtcbiAgICAgICAgICAgIGxldCBQID0gITE7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodSAmJiBjKSB7XG4gICAgICAgICAgICAgICAgdS5kYXRhLmlzRXF1YWwoYy5kYXRhKSA/IGwgIT09IGggJiYgKG4udHJhY2soe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAzIC8qIENoYW5nZVR5cGUuTWV0YWRhdGEgKi8gLFxuICAgICAgICAgICAgICAgICAgICBkb2M6IGNcbiAgICAgICAgICAgICAgICB9KSwgUCA9ICEwKSA6IHRoaXMuUmEodSwgYykgfHwgKG4udHJhY2soe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAyIC8qIENoYW5nZVR5cGUuTW9kaWZpZWQgKi8gLFxuICAgICAgICAgICAgICAgICAgICBkb2M6IGNcbiAgICAgICAgICAgICAgICB9KSwgUCA9ICEwLCAoXyAmJiB0aGlzLklhKGMsIF8pID4gMCB8fCBhICYmIHRoaXMuSWEoYywgYSkgPCAwKSAmJiAoXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBkb2MgbW92ZWQgZnJvbSBpbnNpZGUgdGhlIGxpbWl0IHRvIG91dHNpZGUgdGhlIGxpbWl0LlxuICAgICAgICAgICAgICAgIC8vIFRoYXQgbWVhbnMgdGhlcmUgbWF5IGJlIHNvbWUgb3RoZXIgZG9jIGluIHRoZSBsb2NhbCBjYWNoZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluc3RlYWQuXG4gICAgICAgICAgICAgICAgbyA9ICEwKSk7XG4gICAgICAgICAgICB9IGVsc2UgIXUgJiYgYyA/IChuLnRyYWNrKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gLFxuICAgICAgICAgICAgICAgIGRvYzogY1xuICAgICAgICAgICAgfSksIFAgPSAhMCkgOiB1ICYmICFjICYmIChuLnRyYWNrKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyAsXG4gICAgICAgICAgICAgICAgZG9jOiB1XG4gICAgICAgICAgICB9KSwgUCA9ICEwLCAoXyB8fCBhKSAmJiAoXG4gICAgICAgICAgICAvLyBBIGRvYyB3YXMgcmVtb3ZlZCBmcm9tIGEgZnVsbCBsaW1pdCBxdWVyeS4gV2UnbGwgbmVlZCB0b1xuICAgICAgICAgICAgLy8gcmVxdWVyeSBmcm9tIHRoZSBsb2NhbCBjYWNoZSB0byBzZWUgaWYgd2Uga25vdyBhYm91dCBzb21lIG90aGVyXG4gICAgICAgICAgICAvLyBkb2MgdGhhdCBzaG91bGQgYmUgaW4gdGhlIHJlc3VsdHMuXG4gICAgICAgICAgICBvID0gITApKTtcbiAgICAgICAgICAgIFAgJiYgKGMgPyAocyA9IHMuYWRkKGMpLCBpID0gaCA/IGkuYWRkKGUpIDogaS5kZWxldGUoZSkpIDogKHMgPSBzLmRlbGV0ZShlKSwgaSA9IGkuZGVsZXRlKGUpKSk7XG4gICAgICAgIH0pKSwgbnVsbCAhPT0gdGhpcy5xdWVyeS5saW1pdCkgZm9yICg7cy5zaXplID4gdGhpcy5xdWVyeS5saW1pdDsgKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gXCJGXCIgLyogTGltaXRUeXBlLkZpcnN0ICovID09PSB0aGlzLnF1ZXJ5LmxpbWl0VHlwZSA/IHMubGFzdCgpIDogcy5maXJzdCgpO1xuICAgICAgICAgICAgcyA9IHMuZGVsZXRlKGUua2V5KSwgaSA9IGkuZGVsZXRlKGUua2V5KSwgbi50cmFjayh7XG4gICAgICAgICAgICAgICAgdHlwZTogMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gLFxuICAgICAgICAgICAgICAgIGRvYzogZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFRhOiBzLFxuICAgICAgICAgICAgQWE6IG4sXG4gICAgICAgICAgICBYaTogbyxcbiAgICAgICAgICAgIG11dGF0ZWRLZXlzOiBpXG4gICAgICAgIH07XG4gICAgfVxuICAgIFJhKGUsIHQpIHtcbiAgICAgICAgLy8gV2Ugc3VwcHJlc3MgdGhlIGluaXRpYWwgY2hhbmdlIGV2ZW50IGZvciBkb2N1bWVudHMgdGhhdCB3ZXJlIG1vZGlmaWVkIGFzXG4gICAgICAgIC8vIHBhcnQgb2YgYSB3cml0ZSBhY2tub3dsZWRnbWVudCAoZS5nLiB3aGVuIHRoZSB2YWx1ZSBvZiBhIHNlcnZlciB0cmFuc2Zvcm1cbiAgICAgICAgLy8gaXMgYXBwbGllZCkgYXMgV2F0Y2ggd2lsbCBzZW5kIHVzIHRoZSBzYW1lIGRvY3VtZW50IGFnYWluLlxuICAgICAgICAvLyBCeSBzdXBwcmVzc2luZyB0aGUgZXZlbnQsIHdlIG9ubHkgcmFpc2UgdHdvIHVzZXIgdmlzaWJsZSBldmVudHMgKG9uZSB3aXRoXG4gICAgICAgIC8vIGBoYXNQZW5kaW5nV3JpdGVzYCBhbmQgdGhlIGZpbmFsIHN0YXRlIG9mIHRoZSBkb2N1bWVudCkgaW5zdGVhZCBvZiB0aHJlZVxuICAgICAgICAvLyAob25lIHdpdGggYGhhc1BlbmRpbmdXcml0ZXNgLCB0aGUgbW9kaWZpZWQgZG9jdW1lbnQgd2l0aFxuICAgICAgICAvLyBgaGFzUGVuZGluZ1dyaXRlc2AgYW5kIHRoZSBmaW5hbCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQpLlxuICAgICAgICByZXR1cm4gZS5oYXNMb2NhbE11dGF0aW9ucyAmJiB0Lmhhc0NvbW1pdHRlZE11dGF0aW9ucyAmJiAhdC5oYXNMb2NhbE11dGF0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmlldyB3aXRoIHRoZSBnaXZlbiBWaWV3RG9jdW1lbnRDaGFuZ2VzIGFuZCBvcHRpb25hbGx5IHVwZGF0ZXNcbiAgICAgKiBsaW1ibyBkb2NzIGFuZCBzeW5jIHN0YXRlIGZyb20gdGhlIHByb3ZpZGVkIHRhcmdldCBjaGFuZ2UuXG4gICAgICogQHBhcmFtIGRvY0NoYW5nZXMgLSBUaGUgc2V0IG9mIGNoYW5nZXMgdG8gbWFrZSB0byB0aGUgdmlldydzIGRvY3MuXG4gICAgICogQHBhcmFtIGxpbWJvUmVzb2x1dGlvbkVuYWJsZWQgLSBXaGV0aGVyIHRvIHVwZGF0ZSBsaW1ibyBkb2N1bWVudHMgYmFzZWQgb25cbiAgICAgKiAgICAgICAgdGhpcyBjaGFuZ2UuXG4gICAgICogQHBhcmFtIHRhcmdldENoYW5nZSAtIEEgdGFyZ2V0IGNoYW5nZSB0byBhcHBseSBmb3IgY29tcHV0aW5nIGxpbWJvIGRvY3MgYW5kXG4gICAgICogICAgICAgIHN5bmMgc3RhdGUuXG4gICAgICogQHBhcmFtIHRhcmdldElzUGVuZGluZ1Jlc2V0IC0gV2hldGhlciB0aGUgdGFyZ2V0IGlzIHBlbmRpbmcgdG8gcmVzZXQgZHVlIHRvXG4gICAgICogICAgICAgIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2guIElmIG5vdCBleHBsaWNpdGx5IHNwZWNpZmllZCwgaXQgaXMgdHJlYXRlZFxuICAgICAqICAgICAgICBlcXVpdmFsZW50bHkgdG8gYGZhbHNlYC5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBWaWV3Q2hhbmdlIHdpdGggdGhlIGdpdmVuIGRvY3MsIGNoYW5nZXMsIGFuZCBzeW5jIHN0YXRlLlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogVGhlIGlPUy9BbmRyb2lkIGNsaWVudHMgYWx3YXlzIGNvbXB1dGUgbGltYm8gZG9jdW1lbnQgY2hhbmdlcy5cbiAgICBhcHBseUNoYW5nZXMoZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gdGhpcy5UYTtcbiAgICAgICAgdGhpcy5UYSA9IGUuVGEsIHRoaXMubXV0YXRlZEtleXMgPSBlLm11dGF0ZWRLZXlzO1xuICAgICAgICAvLyBTb3J0IGNoYW5nZXMgYmFzZWQgb24gdHlwZSBhbmQgcXVlcnkgY29tcGFyYXRvclxuICAgICAgICBjb25zdCBzID0gZS5BYS5RXygpO1xuICAgICAgICBzLnNvcnQoKChlLCB0KSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZUNoYW5nZVR5cGUoZSwgdCkge1xuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovIDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovIDpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBDaGFuZ2VUeXBlLk1ldGFkYXRhICovIDpcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBtZXRhZGF0YSBjaGFuZ2UgaXMgY29udmVydGVkIHRvIGEgbW9kaWZpZWQgY2hhbmdlIGF0IHRoZSBwdWJsaWNcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBpIGxheWVyLiAgU2luY2Ugd2Ugc29ydCBieSBkb2N1bWVudCBrZXkgYW5kIHRoZW4gY2hhbmdlIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ldGFkYXRhIGFuZCBtb2RpZmllZCBjaGFuZ2VzIG11c3QgYmUgc29ydGVkIGVxdWl2YWxlbnRseS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIG9yZGVyKGUpIC0gb3JkZXIodCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gKGUudHlwZSwgdC50eXBlKSB8fCB0aGlzLklhKGUuZG9jLCB0LmRvYykpKSwgdGhpcy5WYShuKSwgciA9IG51bGwgIT0gciAmJiByO1xuICAgICAgICBjb25zdCBvID0gdCAmJiAhciA/IHRoaXMubWEoKSA6IFtdLCBfID0gMCA9PT0gdGhpcy5QYS5zaXplICYmIHRoaXMuY3VycmVudCAmJiAhciA/IDEgLyogU3luY1N0YXRlLlN5bmNlZCAqLyA6IDAgLyogU3luY1N0YXRlLkxvY2FsICovICwgYSA9IF8gIT09IHRoaXMuaGE7XG4gICAgICAgIC8vIFdlIGFyZSBhdCBzeW5jZWQgc3RhdGUgaWYgdGhlcmUgaXMgbm8gbGltYm8gZG9jcyBhcmUgd2FpdGluZyB0byBiZSByZXNvbHZlZCwgdmlldyBpcyBjdXJyZW50XG4gICAgICAgIC8vIHdpdGggdGhlIGJhY2tlbmQsIGFuZCB0aGUgcXVlcnkgaXMgbm90IHBlbmRpbmcgdG8gcmVzZXQgZHVlIHRvIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2guXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGEgPSBfLCAwICE9PSBzLmxlbmd0aCB8fCBhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNuYXBzaG90OiBuZXcgVmlld1NuYXBzaG90KHRoaXMucXVlcnksIGUuVGEsIGksIHMsIGUubXV0YXRlZEtleXMsIDAgLyogU3luY1N0YXRlLkxvY2FsICovID09PSBfLCBhLCBcbiAgICAgICAgICAgICAgICAvKiBleGNsdWRlc01ldGFkYXRhQ2hhbmdlcz0gKi8gITEsICEhbiAmJiBuLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDApLFxuICAgICAgICAgICAgICAgIGZhOiBvXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIGNoYW5nZXNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZhOiBvXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYW4gT25saW5lU3RhdGUgY2hhbmdlIHRvIHRoZSB2aWV3LCBwb3RlbnRpYWxseSBnZW5lcmF0aW5nIGFcbiAgICAgKiBWaWV3Q2hhbmdlIGlmIHRoZSB2aWV3J3Mgc3luY1N0YXRlIGNoYW5nZXMgYXMgYSByZXN1bHQuXG4gICAgICovICAgIGpfKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudCAmJiBcIk9mZmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PZmZsaW5lICovID09PSBlID8gKFxuICAgICAgICAvLyBJZiB3ZSdyZSBvZmZsaW5lLCBzZXQgYGN1cnJlbnRgIHRvIGZhbHNlIGFuZCB0aGVuIGNhbGwgYXBwbHlDaGFuZ2VzKClcbiAgICAgICAgLy8gdG8gcmVmcmVzaCBvdXIgc3luY1N0YXRlIGFuZCBnZW5lcmF0ZSBhIFZpZXdDaGFuZ2UgYXMgYXBwcm9wcmlhdGUuIFdlXG4gICAgICAgIC8vIGFyZSBndWFyYW50ZWVkIHRvIGdldCBhIG5ldyBUYXJnZXRDaGFuZ2UgdGhhdCBzZXRzIGBjdXJyZW50YCBiYWNrIHRvXG4gICAgICAgIC8vIHRydWUgb25jZSB0aGUgY2xpZW50IGlzIGJhY2sgb25saW5lLlxuICAgICAgICB0aGlzLmN1cnJlbnQgPSAhMSwgdGhpcy5hcHBseUNoYW5nZXMoe1xuICAgICAgICAgICAgVGE6IHRoaXMuVGEsXG4gICAgICAgICAgICBBYTogbmV3IF9fUFJJVkFURV9Eb2N1bWVudENoYW5nZVNldCxcbiAgICAgICAgICAgIG11dGF0ZWRLZXlzOiB0aGlzLm11dGF0ZWRLZXlzLFxuICAgICAgICAgICAgWGk6ICExXG4gICAgICAgIH0sIFxuICAgICAgICAvKiBsaW1ib1Jlc29sdXRpb25FbmFibGVkPSAqLyAhMSkpIDoge1xuICAgICAgICAgICAgZmE6IFtdXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgZG9jIGZvciB0aGUgZ2l2ZW4ga2V5IHNob3VsZCBiZSBpbiBsaW1iby5cbiAgICAgKi8gICAgZ2EoZSkge1xuICAgICAgICAvLyBJZiB0aGUgcmVtb3RlIGVuZCBzYXlzIGl0J3MgcGFydCBvZiB0aGlzIHF1ZXJ5LCBpdCdzIG5vdCBpbiBsaW1iby5cbiAgICAgICAgcmV0dXJuICF0aGlzLmxhLmhhcyhlKSAmJiAoXG4gICAgICAgIC8vIFRoZSBsb2NhbCBzdG9yZSBkb2Vzbid0IHRoaW5rIGl0J3MgYSByZXN1bHQsIHNvIGl0IHNob3VsZG4ndCBiZSBpbiBsaW1iby5cbiAgICAgICAgISF0aGlzLlRhLmhhcyhlKSAmJiAhdGhpcy5UYS5nZXQoZSkuaGFzTG9jYWxNdXRhdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHN5bmNlZERvY3VtZW50cywgY3VycmVudCwgYW5kIGxpbWJvIGRvY3MgYmFzZWQgb24gdGhlIGdpdmVuIGNoYW5nZS5cbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGNoYW5nZXMgdG8gd2hpY2ggZG9jcyBhcmUgaW4gbGltYm8uXG4gICAgICovICAgIFZhKGUpIHtcbiAgICAgICAgZSAmJiAoZS5hZGRlZERvY3VtZW50cy5mb3JFYWNoKChlID0+IHRoaXMubGEgPSB0aGlzLmxhLmFkZChlKSkpLCBlLm1vZGlmaWVkRG9jdW1lbnRzLmZvckVhY2goKGUgPT4ge30pKSwgXG4gICAgICAgIGUucmVtb3ZlZERvY3VtZW50cy5mb3JFYWNoKChlID0+IHRoaXMubGEgPSB0aGlzLmxhLmRlbGV0ZShlKSkpLCB0aGlzLmN1cnJlbnQgPSBlLmN1cnJlbnQpO1xuICAgIH1cbiAgICBtYSgpIHtcbiAgICAgICAgLy8gV2UgY2FuIG9ubHkgZGV0ZXJtaW5lIGxpbWJvIGRvY3VtZW50cyB3aGVuIHdlJ3JlIGluLXN5bmMgd2l0aCB0aGUgc2VydmVyLlxuICAgICAgICBpZiAoIXRoaXMuY3VycmVudCkgcmV0dXJuIFtdO1xuICAgICAgICAvLyBUT0RPKGtsaW10KTogRG8gdGhpcyBpbmNyZW1lbnRhbGx5IHNvIHRoYXQgaXQncyBub3QgcXVhZHJhdGljIHdoZW5cbiAgICAgICAgLy8gdXBkYXRpbmcgbWFueSBkb2N1bWVudHMuXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuUGE7XG4gICAgICAgIHRoaXMuUGEgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgdGhpcy5UYS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2EoZS5rZXkpICYmICh0aGlzLlBhID0gdGhpcy5QYS5hZGQoZS5rZXkpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBEaWZmIHRoZSBuZXcgbGltYm8gZG9jcyB3aXRoIHRoZSBvbGQgbGltYm8gZG9jcy5cbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICByZXR1cm4gZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuUGEuaGFzKGUpIHx8IHQucHVzaChuZXcgX19QUklWQVRFX1JlbW92ZWRMaW1ib0RvY3VtZW50KGUpKTtcbiAgICAgICAgfSkpLCB0aGlzLlBhLmZvckVhY2goKG4gPT4ge1xuICAgICAgICAgICAgZS5oYXMobikgfHwgdC5wdXNoKG5ldyBfX1BSSVZBVEVfQWRkZWRMaW1ib0RvY3VtZW50KG4pKTtcbiAgICAgICAgfSkpLCB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGluLW1lbW9yeSBzdGF0ZSBvZiB0aGUgY3VycmVudCB2aWV3IHdpdGggdGhlIHN0YXRlIHJlYWQgZnJvbVxuICAgICAqIHBlcnNpc3RlbmNlLlxuICAgICAqXG4gICAgICogV2UgdXBkYXRlIHRoZSBxdWVyeSB2aWV3IHdoZW5ldmVyIGEgY2xpZW50J3MgcHJpbWFyeSBzdGF0dXMgY2hhbmdlczpcbiAgICAgKiAtIFdoZW4gYSBjbGllbnQgdHJhbnNpdGlvbnMgZnJvbSBwcmltYXJ5IHRvIHNlY29uZGFyeSwgaXQgY2FuIG1pc3NcbiAgICAgKiAgIExvY2FsU3RvcmFnZSB1cGRhdGVzIGFuZCBpdHMgcXVlcnkgdmlld3MgbWF5IHRlbXBvcmFyaWx5IG5vdCBiZVxuICAgICAqICAgc3luY2hyb25pemVkIHdpdGggdGhlIHN0YXRlIG9uIGRpc2suXG4gICAgICogLSBGb3Igc2Vjb25kYXJ5IHRvIHByaW1hcnkgdHJhbnNpdGlvbnMsIHRoZSBjbGllbnQgbmVlZHMgdG8gdXBkYXRlIHRoZSBsaXN0XG4gICAgICogICBvZiBgc3luY2VkRG9jdW1lbnRzYCBzaW5jZSBzZWNvbmRhcnkgY2xpZW50cyB1cGRhdGUgdGhlaXIgcXVlcnkgdmlld3NcbiAgICAgKiAgIGJhc2VkIHB1cmVseSBvbiBzeW50aGVzaXplZCBSZW1vdGVFdmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcXVlcnlSZXN1bHQuZG9jdW1lbnRzIC0gVGhlIGRvY3VtZW50cyB0aGF0IG1hdGNoIHRoZSBxdWVyeSBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgTG9jYWxTdG9yZS5cbiAgICAgKiBAcGFyYW0gcXVlcnlSZXN1bHQucmVtb3RlS2V5cyAtIFRoZSBrZXlzIG9mIHRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGVcbiAgICAgKiBxdWVyeSBhY2NvcmRpbmcgdG8gdGhlIGJhY2tlbmQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgVmlld0NoYW5nZSB0aGF0IHJlc3VsdGVkIGZyb20gdGhpcyBzeW5jaHJvbml6YXRpb24uXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICBwYShlKSB7XG4gICAgICAgIHRoaXMubGEgPSBlLmhzLCB0aGlzLlBhID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmRhKGUuZG9jdW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlDaGFuZ2VzKHQsIC8qIGxpbWJvUmVzb2x1dGlvbkVuYWJsZWQ9ICovICEwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHZpZXcgc25hcHNob3QgYXMgaWYgdGhpcyBxdWVyeSB3YXMganVzdCBsaXN0ZW5lZCB0by4gQ29udGFpbnNcbiAgICAgKiBhIGRvY3VtZW50IGFkZCBmb3IgZXZlcnkgZXhpc3RpbmcgZG9jdW1lbnQgYW5kIHRoZSBgZnJvbUNhY2hlYCBhbmRcbiAgICAgKiBgaGFzUGVuZGluZ1dyaXRlc2Agc3RhdHVzIG9mIHRoZSBhbHJlYWR5IGVzdGFibGlzaGVkIHZpZXcuXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICB5YSgpIHtcbiAgICAgICAgcmV0dXJuIFZpZXdTbmFwc2hvdC5mcm9tSW5pdGlhbERvY3VtZW50cyh0aGlzLnF1ZXJ5LCB0aGlzLlRhLCB0aGlzLm11dGF0ZWRLZXlzLCAwIC8qIFN5bmNTdGF0ZS5Mb2NhbCAqLyA9PT0gdGhpcy5oYSwgdGhpcy5oYXNDYWNoZWRSZXN1bHRzKTtcbiAgICB9XG59XG5cbi8qKlxuICogUXVlcnlWaWV3IGNvbnRhaW5zIGFsbCBvZiB0aGUgZGF0YSB0aGF0IFN5bmNFbmdpbmUgbmVlZHMgdG8ga2VlcCB0cmFjayBvZiBmb3JcbiAqIGEgcGFydGljdWxhciBxdWVyeS5cbiAqL1xuY2xhc3MgX19QUklWQVRFX1F1ZXJ5VmlldyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIHF1ZXJ5IGl0c2VsZi5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IG51bWJlciBjcmVhdGVkIGJ5IHRoZSBjbGllbnQgdGhhdCBpcyB1c2VkIGluIHRoZSB3YXRjaFxuICAgICAqIHN0cmVhbSB0byBpZGVudGlmeSB0aGlzIHF1ZXJ5LlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKlxuICAgICAqIFRoZSB2aWV3IGlzIHJlc3BvbnNpYmxlIGZvciBjb21wdXRpbmcgdGhlIGZpbmFsIG1lcmdlZCB0cnV0aCBvZiB3aGF0XG4gICAgICogZG9jcyBhcmUgaW4gdGhlIHF1ZXJ5LiBJdCBnZXRzIG5vdGlmaWVkIG9mIGxvY2FsIGFuZCByZW1vdGUgY2hhbmdlcyxcbiAgICAgKiBhbmQgYXBwbGllcyB0aGUgcXVlcnkgZmlsdGVycyBhbmQgbGltaXRzIHRvIGRldGVybWluZSB0aGUgbW9zdCBjb3JyZWN0XG4gICAgICogcG9zc2libGUgcmVzdWx0cy5cbiAgICAgKi9cbiAgICBuKSB7XG4gICAgICAgIHRoaXMucXVlcnkgPSBlLCB0aGlzLnRhcmdldElkID0gdCwgdGhpcy52aWV3ID0gbjtcbiAgICB9XG59XG5cbi8qKiBUcmFja3MgYSBsaW1ibyByZXNvbHV0aW9uLiAqLyBjbGFzcyBMaW1ib1Jlc29sdXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBlLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIG9uY2Ugd2UndmUgcmVjZWl2ZWQgYSBkb2N1bWVudC4gVGhpcyBpcyB1c2VkIGluXG4gICAgICAgICAqIGdldFJlbW90ZUtleXNGb3JUYXJnZXQoKSBhbmQgdWx0aW1hdGVseSB1c2VkIGJ5IFdhdGNoQ2hhbmdlQWdncmVnYXRvciB0b1xuICAgICAgICAgKiBkZWNpZGUgd2hldGhlciBpdCBuZWVkcyB0byBtYW51ZmFjdHVyZSBhIGRlbGV0ZSBldmVudCBmb3IgdGhlIHRhcmdldCBvbmNlXG4gICAgICAgICAqIHRoZSB0YXJnZXQgaXMgQ1VSUkVOVC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2EgPSAhMTtcbiAgICB9XG59XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgYFN5bmNFbmdpbmVgIGNvb3JkaW5hdGluZyB3aXRoIG90aGVyIHBhcnRzIG9mIFNESy5cbiAqXG4gKiBUaGUgcGFydHMgb2YgU3luY0VuZ2luZSB0aGF0IGFjdCBhcyBhIGNhbGxiYWNrIHRvIFJlbW90ZVN0b3JlIG5lZWQgdG8gYmVcbiAqIHJlZ2lzdGVyZWQgaW5kaXZpZHVhbGx5LiBUaGlzIGlzIGRvbmUgaW4gYHN5bmNFbmdpbmVXcml0ZSgpYCBhbmRcbiAqIGBzeW5jRW5naW5lTGlzdGVuKClgIChhcyB3ZWxsIGFzIGBhcHBseVByaW1hcnlTdGF0ZSgpYCkgYXMgdGhlc2UgbWV0aG9kc1xuICogc2VydmUgYXMgZW50cnkgcG9pbnRzIHRvIFJlbW90ZVN0b3JlJ3MgZnVuY3Rpb25hbGl0eS5cbiAqXG4gKiBOb3RlOiBzb21lIGZpZWxkIGRlZmluZWQgaW4gdGhpcyBjbGFzcyBtaWdodCBoYXZlIHB1YmxpYyBhY2Nlc3MgbGV2ZWwsIGJ1dFxuICogdGhlIGNsYXNzIGlzIG5vdCBleHBvcnRlZCBzbyB0aGV5IGFyZSBvbmx5IGFjY2Vzc2libGUgZnJvbSB0aGlzIG1vZHVsZS5cbiAqIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBvcHRpb25hbCBmZWF0dXJlcyAobGlrZSBidW5kbGVzKSBpbiBmcmVlXG4gKiBmdW5jdGlvbnMsIHN1Y2ggdGhhdCB0aGV5IGFyZSB0cmVlLXNoYWtlYWJsZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfU3luY0VuZ2luZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIFxuICAgIC8vIFBPUlRJTkcgTk9URTogTWFuYWdlcyBzdGF0ZSBzeW5jaHJvbml6YXRpb24gaW4gbXVsdGktdGFiIGVudmlyb25tZW50cy5cbiAgICByLCBpLCBzKSB7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yZSA9IGUsIHRoaXMucmVtb3RlU3RvcmUgPSB0LCB0aGlzLmV2ZW50TWFuYWdlciA9IG4sIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgPSByLCBcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IGksIHRoaXMubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnMgPSBzLCB0aGlzLlNhID0ge30sIHRoaXMuYmEgPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeVF1ZXJ5KGUpKSwgX19QUklWQVRFX3F1ZXJ5RXF1YWxzKSwgXG4gICAgICAgIHRoaXMuRGEgPSBuZXcgTWFwLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBrZXlzIG9mIGRvY3VtZW50cyB0aGF0IGFyZSBpbiBsaW1ibyBmb3Igd2hpY2ggd2UgaGF2ZW4ndCB5ZXQgc3RhcnRlZCBhXG4gICAgICAgICAqIGxpbWJvIHJlc29sdXRpb24gcXVlcnkuIFRoZSBzdHJpbmdzIGluIHRoaXMgc2V0IGFyZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmdcbiAgICAgICAgICogYGtleS5wYXRoLmNhbm9uaWNhbFN0cmluZygpYCB3aGVyZSBga2V5YCBpcyBhIGBEb2N1bWVudEtleWAgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgYFNldGAgdHlwZSB3YXMgY2hvc2VuIGJlY2F1c2UgaXQgcHJvdmlkZXMgZWZmaWNpZW50IGxvb2t1cCBhbmQgcmVtb3ZhbFxuICAgICAgICAgKiBvZiBhcmJpdHJhcnkgZWxlbWVudHMgYW5kIGl0IGFsc28gbWFpbnRhaW5zIGluc2VydGlvbiBvcmRlciwgcHJvdmlkaW5nIHRoZVxuICAgICAgICAgKiBkZXNpcmVkIHF1ZXVlLWxpa2UgRklGTyBzZW1hbnRpY3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkNhID0gbmV3IFNldCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgdGFyZ2V0IElEIGZvciBlYWNoIGRvY3VtZW50IHRoYXQgaXMgaW4gbGltYm8gd2l0aCBhblxuICAgICAgICAgKiBhY3RpdmUgdGFyZ2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvciksIFxuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcHMgdHJhY2sgb2YgdGhlIGluZm9ybWF0aW9uIGFib3V0IGFuIGFjdGl2ZSBsaW1ibyByZXNvbHV0aW9uIGZvciBlYWNoXG4gICAgICAgICAqIGFjdGl2ZSB0YXJnZXQgSUQgdGhhdCB3YXMgc3RhcnRlZCBmb3IgdGhlIHB1cnBvc2Ugb2YgbGltYm8gcmVzb2x1dGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuRmEgPSBuZXcgTWFwLCB0aGlzLk1hID0gbmV3IF9fUFJJVkFURV9SZWZlcmVuY2VTZXQsIFxuICAgICAgICAvKiogU3RvcmVzIHVzZXIgY29tcGxldGlvbiBoYW5kbGVycywgaW5kZXhlZCBieSBVc2VyIGFuZCBCYXRjaElkLiAqL1xuICAgICAgICB0aGlzLnhhID0ge30sIFxuICAgICAgICAvKiogU3RvcmVzIHVzZXIgY2FsbGJhY2tzIHdhaXRpbmcgZm9yIGFsbCBwZW5kaW5nIHdyaXRlcyB0byBiZSBhY2tub3dsZWRnZWQuICovXG4gICAgICAgIHRoaXMuT2EgPSBuZXcgTWFwLCB0aGlzLk5hID0gX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yLkxuKCksIHRoaXMub25saW5lU3RhdGUgPSBcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovICwgXG4gICAgICAgIC8vIFRoZSBwcmltYXJ5IHN0YXRlIGlzIHNldCB0byBgdHJ1ZWAgb3IgYGZhbHNlYCBpbW1lZGlhdGVseSBhZnRlciBGaXJlc3RvcmVcbiAgICAgICAgLy8gc3RhcnR1cC4gSW4gdGhlIGludGVyaW0sIGEgY2xpZW50IHNob3VsZCBvbmx5IGJlIGNvbnNpZGVyZWQgcHJpbWFyeSBpZlxuICAgICAgICAvLyBgaXNQcmltYXJ5YCBpcyB0cnVlLlxuICAgICAgICB0aGlzLkxhID0gdm9pZCAwO1xuICAgIH1cbiAgICBnZXQgaXNQcmltYXJ5Q2xpZW50KCkge1xuICAgICAgICByZXR1cm4gITAgPT09IHRoaXMuTGE7XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXRpYXRlcyB0aGUgbmV3IGxpc3RlbiwgcmVzb2x2ZXMgcHJvbWlzZSB3aGVuIGxpc3RlbiBlbnF1ZXVlZCB0byB0aGVcbiAqIHNlcnZlci4gQWxsIHRoZSBzdWJzZXF1ZW50IHZpZXcgc25hcHNob3RzIG9yIGVycm9ycyBhcmUgc2VudCB0byB0aGVcbiAqIHN1YnNjcmliZWQgaGFuZGxlcnMuIFJldHVybnMgdGhlIGluaXRpYWwgc25hcHNob3QuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lTGlzdGVuKGUsIHQsIG4gPSAhMCkge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hDYWxsYmFja3MoZSk7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgcyA9IHIuYmEuZ2V0KHQpO1xuICAgIHJldHVybiBzID8gKFxuICAgIC8vIFBPUlRJTkcgTk9URTogV2l0aCBNdWx0aS1UYWIgV2ViLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGEgcXVlcnkgdmlld1xuICAgIC8vIGFscmVhZHkgZXhpc3RzIHdoZW4gRXZlbnRNYW5hZ2VyIGNhbGxzIHVzIGZvciB0aGUgZmlyc3QgdGltZS4gVGhpc1xuICAgIC8vIGhhcHBlbnMgd2hlbiB0aGUgcHJpbWFyeSB0YWIgaXMgYWxyZWFkeSBsaXN0ZW5pbmcgdG8gdGhpcyBxdWVyeSBvblxuICAgIC8vIGJlaGFsZiBvZiBhbm90aGVyIHRhYiBhbmQgdGhlIHVzZXIgb2YgdGhlIHByaW1hcnkgYWxzbyBzdGFydHMgbGlzdGVuaW5nXG4gICAgLy8gdG8gdGhlIHF1ZXJ5LiBFdmVudE1hbmFnZXIgd2lsbCBub3QgaGF2ZSBhbiBhc3NpZ25lZCB0YXJnZXQgSUQgaW4gdGhpc1xuICAgIC8vIGNhc2UgYW5kIGNhbGxzIGBsaXN0ZW5gIHRvIG9idGFpbiB0aGlzIElELlxuICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUuYWRkTG9jYWxRdWVyeVRhcmdldChzLnRhcmdldElkKSwgaSA9IHMudmlldy55YSgpKSA6IGkgPSBhd2FpdCBfX1BSSVZBVEVfYWxsb2NhdGVUYXJnZXRBbmRNYXliZUxpc3RlbihyLCB0LCBuLCBcbiAgICAvKiogc2hvdWxkSW5pdGlhbGl6ZVZpZXc9ICovICEwKSwgaTtcbn1cblxuLyoqIFF1ZXJ5IGhhcyBiZWVuIGxpc3RlbmluZyB0byB0aGUgY2FjaGUsIGFuZCB0cmllcyB0byBpbml0aWF0ZSB0aGUgcmVtb3RlIHN0b3JlIGxpc3RlbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfdHJpZ2dlclJlbW90ZVN0b3JlTGlzdGVuKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2Vuc3VyZVdhdGNoQ2FsbGJhY2tzKGUpO1xuICAgIGF3YWl0IF9fUFJJVkFURV9hbGxvY2F0ZVRhcmdldEFuZE1heWJlTGlzdGVuKG4sIHQsIFxuICAgIC8qKiBzaG91bGRMaXN0ZW5Ub1JlbW90ZT0gKi8gITAsIFxuICAgIC8qKiBzaG91bGRJbml0aWFsaXplVmlldz0gKi8gITEpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfYWxsb2NhdGVUYXJnZXRBbmRNYXliZUxpc3RlbihlLCB0LCBuLCByKSB7XG4gICAgY29uc3QgaSA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoZS5sb2NhbFN0b3JlLCBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldCh0KSksIHMgPSBpLnRhcmdldElkLCBvID0gbiA/IGUuc2hhcmVkQ2xpZW50U3RhdGUuYWRkTG9jYWxRdWVyeVRhcmdldChzKSA6IFwibm90LWN1cnJlbnRcIjtcbiAgICBsZXQgXztcbiAgICByZXR1cm4gciAmJiAoXyA9IGF3YWl0IF9fUFJJVkFURV9pbml0aWFsaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdChlLCB0LCBzLCBcImN1cnJlbnRcIiA9PT0gbywgaS5yZXN1bWVUb2tlbikpLCBcbiAgICBlLmlzUHJpbWFyeUNsaWVudCAmJiBuICYmIF9fUFJJVkFURV9yZW1vdGVTdG9yZUxpc3RlbihlLnJlbW90ZVN0b3JlLCBpKSwgXztcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSB2aWV3IGZvciBhIHByZXZpb3VzbHkgdW5rbm93biBxdWVyeSBhbmQgY29tcHV0ZXMgaXRzIGluaXRpYWxcbiAqIHNuYXBzaG90LlxuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9pbml0aWFsaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdChlLCB0LCBuLCByLCBpKSB7XG4gICAgLy8gUE9SVElORyBOT1RFOiBPbiBXZWIgb25seSwgd2UgaW5qZWN0IHRoZSBjb2RlIHRoYXQgcmVnaXN0ZXJzIG5ldyBMaW1ib1xuICAgIC8vIHRhcmdldHMgYmFzZWQgb24gdmlldyBjaGFuZ2VzLiBUaGlzIGFsbG93cyB1cyB0byBvbmx5IGRlcGVuZCBvbiBMaW1ib1xuICAgIC8vIGNoYW5nZXMgd2hlbiB1c2VyIGNvZGUgaW5jbHVkZXMgcXVlcmllcy5cbiAgICBlLkJhID0gKHQsIG4sIHIpID0+IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseURvY0NoYW5nZXMoZSwgdCwgbiwgcikge1xuICAgICAgICBsZXQgaSA9IHQudmlldy5kYShuKTtcbiAgICAgICAgaS5YaSAmJiAoXG4gICAgICAgIC8vIFRoZSBxdWVyeSBoYXMgYSBsaW1pdCBhbmQgc29tZSBkb2NzIHdlcmUgcmVtb3ZlZCwgc28gd2UgbmVlZFxuICAgICAgICAvLyB0byByZS1ydW4gdGhlIHF1ZXJ5IGFnYWluc3QgdGhlIGxvY2FsIHN0b3JlIHRvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICAvLyBkaWRuJ3QgbG9zZSBhbnkgZ29vZCBkb2NzIHRoYXQgaGFkIGJlZW4gcGFzdCB0aGUgbGltaXQuXG4gICAgICAgIGkgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUV4ZWN1dGVRdWVyeShlLmxvY2FsU3RvcmUsIHQucXVlcnksIFxuICAgICAgICAvKiB1c2VQcmV2aW91c1Jlc3VsdHM9ICovICExKS50aGVuKCgoe2RvY3VtZW50czogZX0pID0+IHQudmlldy5kYShlLCBpKSkpKTtcbiAgICAgICAgY29uc3QgcyA9IHIgJiYgci50YXJnZXRDaGFuZ2VzLmdldCh0LnRhcmdldElkKSwgbyA9IHIgJiYgbnVsbCAhPSByLnRhcmdldE1pc21hdGNoZXMuZ2V0KHQudGFyZ2V0SWQpLCBfID0gdC52aWV3LmFwcGx5Q2hhbmdlcyhpLCBcbiAgICAgICAgLyogbGltYm9SZXNvbHV0aW9uRW5hYmxlZD0gKi8gZS5pc1ByaW1hcnlDbGllbnQsIHMsIG8pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3VwZGF0ZVRyYWNrZWRMaW1ib3MoZSwgdC50YXJnZXRJZCwgXy5mYSksIF8uc25hcHNob3Q7XG4gICAgfShlLCB0LCBuLCByKTtcbiAgICBjb25zdCBzID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVFeGVjdXRlUXVlcnkoZS5sb2NhbFN0b3JlLCB0LCBcbiAgICAvKiB1c2VQcmV2aW91c1Jlc3VsdHM9ICovICEwKSwgbyA9IG5ldyBfX1BSSVZBVEVfVmlldyh0LCBzLmhzKSwgXyA9IG8uZGEocy5kb2N1bWVudHMpLCBhID0gVGFyZ2V0Q2hhbmdlLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZShuLCByICYmIFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8gIT09IGUub25saW5lU3RhdGUsIGkpLCB1ID0gby5hcHBseUNoYW5nZXMoXywgXG4gICAgLyogbGltYm9SZXNvbHV0aW9uRW5hYmxlZD0gKi8gZS5pc1ByaW1hcnlDbGllbnQsIGEpO1xuICAgIF9fUFJJVkFURV91cGRhdGVUcmFja2VkTGltYm9zKGUsIG4sIHUuZmEpO1xuICAgIGNvbnN0IGMgPSBuZXcgX19QUklWQVRFX1F1ZXJ5Vmlldyh0LCBuLCBvKTtcbiAgICByZXR1cm4gZS5iYS5zZXQodCwgYyksIGUuRGEuaGFzKG4pID8gZS5EYS5nZXQobikucHVzaCh0KSA6IGUuRGEuc2V0KG4sIFsgdCBdKSwgdS5zbmFwc2hvdDtcbn1cblxuLyoqIFN0b3BzIGxpc3RlbmluZyB0byB0aGUgcXVlcnkuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lVW5saXN0ZW4oZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBpID0gci5iYS5nZXQodCksIHMgPSByLkRhLmdldChpLnRhcmdldElkKTtcbiAgICBpZiAocy5sZW5ndGggPiAxKSByZXR1cm4gci5EYS5zZXQoaS50YXJnZXRJZCwgcy5maWx0ZXIoKGUgPT4gIV9fUFJJVkFURV9xdWVyeUVxdWFscyhlLCB0KSkpKSwgXG4gICAgdm9pZCByLmJhLmRlbGV0ZSh0KTtcbiAgICAvLyBObyBvdGhlciBxdWVyaWVzIGFyZSBtYXBwZWQgdG8gdGhlIHRhcmdldCwgY2xlYW4gdXAgdGhlIHF1ZXJ5IGFuZCB0aGUgdGFyZ2V0LlxuICAgICAgICBpZiAoci5pc1ByaW1hcnlDbGllbnQpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byByZW1vdmUgdGhlIGxvY2FsIHF1ZXJ5IHRhcmdldCBmaXJzdCB0byBhbGxvdyB1cyB0byB2ZXJpZnlcbiAgICAgICAgLy8gd2hldGhlciBhbnkgb3RoZXIgY2xpZW50IGlzIHN0aWxsIGludGVyZXN0ZWQgaW4gdGhpcyB0YXJnZXQuXG4gICAgICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldChpLnRhcmdldElkKTtcbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGkudGFyZ2V0SWQpIHx8IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlUmVsZWFzZVRhcmdldChyLmxvY2FsU3RvcmUsIGkudGFyZ2V0SWQsIFxuICAgICAgICAvKmtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhPSovICExKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICByLnNoYXJlZENsaWVudFN0YXRlLmNsZWFyUXVlcnlTdGF0ZShpLnRhcmdldElkKSwgbiAmJiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbihyLnJlbW90ZVN0b3JlLCBpLnRhcmdldElkKSwgXG4gICAgICAgICAgICBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChyLCBpLnRhcmdldElkKTtcbiAgICAgICAgfSkpLmNhdGNoKF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MpO1xuICAgIH0gZWxzZSBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChyLCBpLnRhcmdldElkKSwgYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KHIubG9jYWxTdG9yZSwgaS50YXJnZXRJZCwgXG4gICAgLyprZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YT0qLyAhMCk7XG59XG5cbi8qKiBVbmxpc3RlbnMgdG8gdGhlIHJlbW90ZSBzdG9yZSB3aGlsZSBzdGlsbCBsaXN0ZW5pbmcgdG8gdGhlIGNhY2hlLiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfdHJpZ2dlclJlbW90ZVN0b3JlVW5saXN0ZW4oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gbi5iYS5nZXQodCksIGkgPSBuLkRhLmdldChyLnRhcmdldElkKTtcbiAgICBuLmlzUHJpbWFyeUNsaWVudCAmJiAxID09PSBpLmxlbmd0aCAmJiAoXG4gICAgLy8gUE9SVElORyBOT1RFOiBVbnJlZ2lzdGVyIHRoZSB0YXJnZXQgSUQgd2l0aCBsb2NhbCBGaXJlc3RvcmUgY2xpZW50IGFzXG4gICAgLy8gd2F0Y2ggdGFyZ2V0LlxuICAgIG4uc2hhcmVkQ2xpZW50U3RhdGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldChyLnRhcmdldElkKSwgX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4obi5yZW1vdGVTdG9yZSwgci50YXJnZXRJZCkpO1xufVxuXG4vKipcbiAqIEluaXRpYXRlcyB0aGUgd3JpdGUgb2YgbG9jYWwgbXV0YXRpb24gYmF0Y2ggd2hpY2ggaW52b2x2ZXMgYWRkaW5nIHRoZVxuICogd3JpdGVzIHRvIHRoZSBtdXRhdGlvbiBxdWV1ZSwgbm90aWZ5aW5nIHRoZSByZW1vdGUgc3RvcmUgYWJvdXQgbmV3XG4gKiBtdXRhdGlvbnMgYW5kIHJhaXNpbmcgZXZlbnRzIGZvciBhbnkgY2hhbmdlcyB0aGlzIHdyaXRlIGNhdXNlZC5cbiAqXG4gKiBUaGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGlzIGNhbGwgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgYWJvdmUgc3RlcHNcbiAqIGhhdmUgY29tcGxldGVkLCAqbm90KiB3aGVuIHRoZSB3cml0ZSB3YXMgYWNrZWQgYnkgdGhlIGJhY2tlbmQuIFRoZVxuICogdXNlckNhbGxiYWNrIGlzIHJlc29sdmVkIG9uY2UgdGhlIHdyaXRlIHdhcyBhY2tlZC9yZWplY3RlZCBieSB0aGVcbiAqIGJhY2tlbmQgKG9yIGZhaWxlZCBsb2NhbGx5IGZvciBhbnkgb3RoZXIgcmVhc29uKS5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZVdyaXRlKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX3N5bmNFbmdpbmVFbnN1cmVXcml0ZUNhbGxiYWNrcyhlKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVXcml0ZUxvY2FsbHkoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBUaW1lc3RhbXAubm93KCksIGkgPSB0LnJlZHVjZSgoKGUsIHQpID0+IGUuYWRkKHQua2V5KSksIF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpKTtcbiAgICAgICAgICAgIGxldCBzLCBvO1xuICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJMb2NhbGx5IHdyaXRlIG11dGF0aW9uc1wiLCBcInJlYWR3cml0ZVwiLCAoZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRmlndXJlIG91dCB3aGljaCBrZXlzIGRvIG5vdCBoYXZlIGEgcmVtb3RlIHZlcnNpb24gaW4gdGhlIGNhY2hlLCB0aGlzXG4gICAgICAgICAgICAgICAgLy8gaXMgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgcmlnaHQgb3ZlcmxheSBtdXRhdGlvbjogaWYgbm8gcmVtb3RlIHZlcnNpb25cbiAgICAgICAgICAgICAgICAvLyBwcmVzZW50cywgd2UgZG8gbm90IG5lZWQgdG8gY3JlYXRlIG92ZXJsYXlzIGFzIHBhdGNoIG11dGF0aW9ucy5cbiAgICAgICAgICAgICAgICAvLyBUT0RPKE92ZXJsYXkpOiBJcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gZGV0ZXJtaW5lIHRoaXM/IFVzaW5nIHRoZVxuICAgICAgICAgICAgICAgIC8vICBkb2N1bWVudCB2ZXJzaW9uIGRvZXMgbm90IHdvcmsgYmVjYXVzZSBsb2NhbCBtdXRhdGlvbnMgc2V0IHRoZW0gYmFja1xuICAgICAgICAgICAgICAgIC8vICB0byAwLlxuICAgICAgICAgICAgICAgIGxldCBfID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpLCBhID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ub3MuZ2V0RW50cmllcyhlLCBpKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgXyA9IGUsIF8uZm9yRWFjaCgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuaXNWYWxpZERvY3VtZW50KCkgfHwgKGEgPSBhLmFkZChlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9KSkubmV4dCgoKCkgPT4gbi5sb2NhbERvY3VtZW50cy5nZXRPdmVybGF5ZWREb2N1bWVudHMoZSwgXykpKS5uZXh0KChpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IGk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBub24taWRlbXBvdGVudCBtdXRhdGlvbnMgKHN1Y2ggYXMgYEZpZWxkVmFsdWUuaW5jcmVtZW50KClgKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgcmVjb3JkIHRoZSBiYXNlIHN0YXRlIGluIGEgc2VwYXJhdGUgcGF0Y2ggbXV0YXRpb24uIFRoaXMgaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gbGF0ZXIgdXNlZCB0byBndWFyYW50ZWUgY29uc2lzdGVudCB2YWx1ZXMgYW5kIHByZXZlbnRzIGZsaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbiBpZiB0aGUgYmFja2VuZCBzZW5kcyB1cyBhbiB1cGRhdGUgdGhhdCBhbHJlYWR5IGluY2x1ZGVzIG91clxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbXV0YXRpb25FeHRyYWN0QmFzZVZhbHVlKGUsIHMuZ2V0KGUua2V5KS5vdmVybGF5ZWREb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9IHQgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBUaGUgYmFzZSBzdGF0ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIGlmIHRoZXJlJ3Mgc29tZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgZG9jdW1lbnQgdG8gb3ZlcnJpZGUsIHNvIHVzZSBhIFByZWNvbmRpdGlvbiBvZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhpc3RzPXRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucHVzaChuZXcgX19QUklWQVRFX1BhdGNoTXV0YXRpb24oZS5rZXksIHQsIF9fUFJJVkFURV9leHRyYWN0RmllbGRNYXNrKHQudmFsdWUubWFwVmFsdWUpLCBQcmVjb25kaXRpb24uZXhpc3RzKCEwKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuLm11dGF0aW9uUXVldWUuYWRkTXV0YXRpb25CYXRjaChlLCByLCBvLCB0KTtcbiAgICAgICAgICAgICAgICB9KSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSB0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gdC5hcHBseVRvTG9jYWxEb2N1bWVudFNldChzLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uZG9jdW1lbnRPdmVybGF5Q2FjaGUuc2F2ZU92ZXJsYXlzKGUsIHQuYmF0Y2hJZCwgcik7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKCgpID0+ICh7XG4gICAgICAgICAgICAgICAgYmF0Y2hJZDogby5iYXRjaElkLFxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IF9fUFJJVkFURV9jb252ZXJ0T3ZlcmxheWVkRG9jdW1lbnRNYXBUb0RvY3VtZW50TWFwKHMpXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9KHIubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUuYWRkUGVuZGluZ011dGF0aW9uKGUuYmF0Y2hJZCksIGZ1bmN0aW9uIF9fUFJJVkFURV9hZGRNdXRhdGlvbkNhbGxiYWNrKGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGxldCByID0gZS54YVtlLmN1cnJlbnRVc2VyLnRvS2V5KCldO1xuICAgICAgICAgICAgciB8fCAociA9IG5ldyBTb3J0ZWRNYXAoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpKTtcbiAgICAgICAgICAgIHIgPSByLmluc2VydCh0LCBuKSwgZS54YVtlLmN1cnJlbnRVc2VyLnRvS2V5KCldID0gcjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIFJlc29sdmVzIG9yIHJlamVjdHMgdGhlIHVzZXIgY2FsbGJhY2sgZm9yIHRoZSBnaXZlbiBiYXRjaCBhbmQgdGhlbiBkaXNjYXJkc1xuICogaXQuXG4gKi8gKHIsIGUuYmF0Y2hJZCwgbiksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShyLCBlLmNoYW5nZXMpLCBcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKHIucmVtb3RlU3RvcmUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWYgd2UgY2FuJ3QgcGVyc2lzdCB0aGUgbXV0YXRpb24sIHdlIHJlamVjdCB0aGUgdXNlciBjYWxsYmFjayBhbmRcbiAgICAgICAgLy8gZG9uJ3Qgc2VuZCB0aGUgbXV0YXRpb24uIFRoZSB1c2VyIGNhbiB0aGVuIHJldHJ5IHRoZSB3cml0ZS5cbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKGUsIFwiRmFpbGVkIHRvIHBlcnNpc3Qgd3JpdGVcIik7XG4gICAgICAgIG4ucmVqZWN0KHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBcHBsaWVzIG9uZSByZW1vdGUgZXZlbnQgdG8gdGhlIHN5bmMgZW5naW5lLCBub3RpZnlpbmcgYW55IHZpZXdzIG9mIHRoZVxuICogY2hhbmdlcywgYW5kIHJlbGVhc2luZyBhbnkgcGVuZGluZyBtdXRhdGlvbiBiYXRjaGVzIHRoYXQgd291bGQgYmVjb21lXG4gKiB2aXNpYmxlIGJlY2F1c2Ugb2YgdGhlIHNuYXBzaG90IHZlcnNpb24gdGhlIHJlbW90ZSBldmVudCBjb250YWlucy5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UmVtb3RlRXZlbnQoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5UmVtb3RlRXZlbnRUb0xvY2FsQ2FjaGUobi5sb2NhbFN0b3JlLCB0KTtcbiAgICAgICAgLy8gVXBkYXRlIGByZWNlaXZlZERvY3VtZW50YCBhcyBhcHByb3ByaWF0ZSBmb3IgYW55IGxpbWJvIHRhcmdldHMuXG4gICAgICAgICAgICAgICAgdC50YXJnZXRDaGFuZ2VzLmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gbi5GYS5nZXQodCk7XG4gICAgICAgICAgICByICYmIChcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgaXMgYSBsaW1ibyByZXNvbHV0aW9uIGxvb2t1cCwgaXQncyBmb3IgYSBzaW5nbGUgZG9jdW1lbnRcbiAgICAgICAgICAgIC8vIGFuZCBpdCBjb3VsZCBiZSBhZGRlZCwgbW9kaWZpZWQsIG9yIHJlbW92ZWQsIGJ1dCBub3QgYSBjb21iaW5hdGlvbi5cbiAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUuYWRkZWREb2N1bWVudHMuc2l6ZSArIGUubW9kaWZpZWREb2N1bWVudHMuc2l6ZSArIGUucmVtb3ZlZERvY3VtZW50cy5zaXplIDw9IDEpLCBcbiAgICAgICAgICAgIGUuYWRkZWREb2N1bWVudHMuc2l6ZSA+IDAgPyByLndhID0gITAgOiBlLm1vZGlmaWVkRG9jdW1lbnRzLnNpemUgPiAwID8gX19QUklWQVRFX2hhcmRBc3NlcnQoci53YSkgOiBlLnJlbW92ZWREb2N1bWVudHMuc2l6ZSA+IDAgJiYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHIud2EpLCBcbiAgICAgICAgICAgIHIud2EgPSAhMSkpO1xuICAgICAgICB9KSksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuLCBlLCB0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFwcGxpZXMgYW4gT25saW5lU3RhdGUgY2hhbmdlIHRvIHRoZSBzeW5jIGVuZ2luZSBhbmQgbm90aWZpZXMgYW55IHZpZXdzIG9mXG4gKiB0aGUgY2hhbmdlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlPbmxpbmVTdGF0ZUNoYW5nZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgLy8gSWYgd2UgYXJlIHRoZSBzZWNvbmRhcnkgY2xpZW50LCB3ZSBleHBsaWNpdGx5IGlnbm9yZSB0aGUgcmVtb3RlIHN0b3JlJ3NcbiAgICAvLyBvbmxpbmUgc3RhdGUgKHRoZSBsb2NhbCBjbGllbnQgbWF5IGdvIG9mZmxpbmUsIGV2ZW4gdGhvdWdoIHRoZSBwcmltYXJ5XG4gICAgLy8gdGFiIHJlbWFpbnMgb25saW5lKSBhbmQgb25seSBhcHBseSB0aGUgcHJpbWFyeSB0YWIncyBvbmxpbmUgc3RhdGUgZnJvbVxuICAgIC8vIFNoYXJlZENsaWVudFN0YXRlLlxuICAgICAgICBpZiAoci5pc1ByaW1hcnlDbGllbnQgJiYgMCAvKiBPbmxpbmVTdGF0ZVNvdXJjZS5SZW1vdGVTdG9yZSAqLyA9PT0gbiB8fCAhci5pc1ByaW1hcnlDbGllbnQgJiYgMSAvKiBPbmxpbmVTdGF0ZVNvdXJjZS5TaGFyZWRDbGllbnRTdGF0ZSAqLyA9PT0gbikge1xuICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgIHIuYmEuZm9yRWFjaCgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSByLnZpZXcual8odCk7XG4gICAgICAgICAgICBpLnNuYXBzaG90ICYmIGUucHVzaChpLnNuYXBzaG90KTtcbiAgICAgICAgfSkpLCBmdW5jdGlvbiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyT25PbmxpbmVTdGF0ZUNoYW5nZShlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgIG4ub25saW5lU3RhdGUgPSB0O1xuICAgICAgICAgICAgbGV0IHIgPSAhMTtcbiAgICAgICAgICAgIG4ucXVlcmllcy5mb3JFYWNoKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBuLlVfKSBcbiAgICAgICAgICAgICAgICAvLyBSdW4gZ2xvYmFsIHNuYXBzaG90IGxpc3RlbmVycyBpZiBhIGNvbnNpc3RlbnQgc25hcHNob3QgaGFzIGJlZW4gZW1pdHRlZC5cbiAgICAgICAgICAgICAgICBlLmpfKHQpICYmIChyID0gITApO1xuICAgICAgICAgICAgfSkpLCByICYmIF9fUFJJVkFURV9yYWlzZVNuYXBzaG90c0luU3luY0V2ZW50KG4pO1xuICAgICAgICB9KHIuZXZlbnRNYW5hZ2VyLCB0KSwgZS5sZW5ndGggJiYgci5TYS5oXyhlKSwgci5vbmxpbmVTdGF0ZSA9IHQsIHIuaXNQcmltYXJ5Q2xpZW50ICYmIHIuc2hhcmVkQ2xpZW50U3RhdGUuc2V0T25saW5lU3RhdGUodCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlamVjdHMgdGhlIGxpc3RlbiBmb3IgdGhlIGdpdmVuIHRhcmdldElELiBUaGlzIGNhbiBiZSB0cmlnZ2VyZWQgYnkgdGhlXG4gKiBiYWNrZW5kIGZvciBhbnkgYWN0aXZlIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0gc3luY0VuZ2luZSAtIFRoZSBzeW5jIGVuZ2luZSBpbXBsZW1lbnRhdGlvbi5cbiAqIEBwYXJhbSB0YXJnZXRJZCAtIFRoZSB0YXJnZXRJRCBjb3JyZXNwb25kcyB0byBvbmUgcHJldmlvdXNseSBpbml0aWF0ZWQgYnkgdGhlXG4gKiB1c2VyIGFzIHBhcnQgb2YgVGFyZ2V0RGF0YSBwYXNzZWQgdG8gbGlzdGVuKCkgb24gUmVtb3RlU3RvcmUuXG4gKiBAcGFyYW0gZXJyIC0gQSBkZXNjcmlwdGlvbiBvZiB0aGUgY29uZGl0aW9uIHRoYXQgaGFzIGZvcmNlZCB0aGUgcmVqZWN0aW9uLlxuICogTmVhcmx5IGFsd2F5cyB0aGlzIHdpbGwgYmUgYW4gaW5kaWNhdGlvbiB0aGF0IHRoZSB1c2VyIGlzIG5vIGxvbmdlclxuICogYXV0aG9yaXplZCB0byBzZWUgdGhlIGRhdGEgbWF0Y2hpbmcgdGhlIHRhcmdldC5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZVJlamVjdExpc3RlbihlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVRdWVyeVN0YXRlKHQsIFwicmVqZWN0ZWRcIiwgbik7XG4gICAgY29uc3QgaSA9IHIuRmEuZ2V0KHQpLCBzID0gaSAmJiBpLmtleTtcbiAgICBpZiAocykge1xuICAgICAgICAvLyBUT0RPKGtsaW10KTogV2UgcmVhbGx5IG9ubHkgc2hvdWxkIGRvIHRoZSBmb2xsb3dpbmcgb24gcGVybWlzc2lvblxuICAgICAgICAvLyBkZW5pZWQgZXJyb3JzLCBidXQgd2UgZG9uJ3QgaGF2ZSB0aGUgY2F1c2UgY29kZSBoZXJlLlxuICAgICAgICAvLyBJdCdzIGEgbGltYm8gZG9jLiBDcmVhdGUgYSBzeW50aGV0aWMgZXZlbnQgc2F5aW5nIGl0IHdhcyBkZWxldGVkLlxuICAgICAgICAvLyBUaGlzIGlzIGtpbmQgb2YgYSBoYWNrLiBJZGVhbGx5LCB3ZSB3b3VsZCBoYXZlIGEgbWV0aG9kIGluIHRoZSBsb2NhbFxuICAgICAgICAvLyBzdG9yZSB0byBwdXJnZSBhIGRvY3VtZW50LiBIb3dldmVyLCBpdCB3b3VsZCBiZSB0cmlja3kgdG8ga2VlcCBhbGwgb2ZcbiAgICAgICAgLy8gdGhlIGxvY2FsIHN0b3JlJ3MgaW52YXJpYW50cyB3aXRoIGFub3RoZXIgbWV0aG9kLlxuICAgICAgICBsZXQgZSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG4gICAgICAgIC8vIFRPRE8oYi8yMTcxODkyMTYpOiBUaGlzIGxpbWJvIGRvY3VtZW50IHNob3VsZCBpZGVhbGx5IGhhdmUgYSByZWFkIHRpbWUsXG4gICAgICAgIC8vIHNvIHRoYXQgaXQgaXMgcGlja2VkIHVwIGJ5IGFueSByZWFkLXRpbWUgYmFzZWQgc2NhbnMuIFRoZSBiYWNrZW5kLFxuICAgICAgICAvLyBob3dldmVyLCBkb2VzIG5vdCBzZW5kIGEgcmVhZCB0aW1lIGZvciB0YXJnZXQgcmVtb3ZhbHMuXG4gICAgICAgICAgICAgICAgZSA9IGUuaW5zZXJ0KHMsIE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KHMsIFNuYXBzaG90VmVyc2lvbi5taW4oKSkpO1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkuYWRkKHMpLCBpID0gbmV3IFJlbW90ZUV2ZW50KFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXG4gICAgICAgIC8qIHRhcmdldENoYW5nZXM9ICovIG5ldyBNYXAsIFxuICAgICAgICAvKiB0YXJnZXRNaXNtYXRjaGVzPSAqLyBuZXcgU29ydGVkTWFwKF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKSwgZSwgbik7XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlSZW1vdGVFdmVudChyLCBpKSwgXG4gICAgICAgIC8vIFNpbmNlIHRoaXMgcXVlcnkgZmFpbGVkLCB3ZSB3b24ndCB3YW50IHRvIG1hbnVhbGx5IHVubGlzdGVuIHRvIGl0LlxuICAgICAgICAvLyBXZSBvbmx5IHJlbW92ZSBpdCBmcm9tIGJvb2trZWVwaW5nIGFmdGVyIHdlIHN1Y2Nlc3NmdWxseSBhcHBsaWVkIHRoZVxuICAgICAgICAvLyBSZW1vdGVFdmVudC4gSWYgYGFwcGx5UmVtb3RlRXZlbnQoKWAgdGhyb3dzLCB3ZSB3YW50IHRvIHJlLWxpc3RlbiB0b1xuICAgICAgICAvLyB0aGlzIHF1ZXJ5IHdoZW4gdGhlIFJlbW90ZVN0b3JlIHJlc3RhcnRzIHRoZSBXYXRjaCBzdHJlYW0sIHdoaWNoIHNob3VsZFxuICAgICAgICAvLyByZS10cmlnZ2VyIHRoZSB0YXJnZXQgZmFpbHVyZS5cbiAgICAgICAgci52YSA9IHIudmEucmVtb3ZlKHMpLCByLkZhLmRlbGV0ZSh0KSwgX19QUklWQVRFX3B1bXBFbnF1ZXVlZExpbWJvUmVzb2x1dGlvbnMocik7XG4gICAgfSBlbHNlIGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlUmVsZWFzZVRhcmdldChyLmxvY2FsU3RvcmUsIHQsIFxuICAgIC8qIGtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhICovICExKS50aGVuKCgoKSA9PiBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChyLCB0LCBuKSkpLmNhdGNoKF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5U3VjY2Vzc2Z1bFdyaXRlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IHQuYmF0Y2guYmF0Y2hJZDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBY2tub3dsZWRnZUJhdGNoKG4ubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgIC8vIFRoZSBsb2NhbCBzdG9yZSBtYXkgb3IgbWF5IG5vdCBiZSBhYmxlIHRvIGFwcGx5IHRoZSB3cml0ZSByZXN1bHQgYW5kXG4gICAgICAgIC8vIHJhaXNlIGV2ZW50cyBpbW1lZGlhdGVseSAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHdhdGNoZXIgaXMgY2F1Z2h0XG4gICAgICAgIC8vIHVwKSwgc28gd2UgcmFpc2UgdXNlciBjYWxsYmFja3MgZmlyc3Qgc28gdGhhdCB0aGV5IGNvbnNpc3RlbnRseSBoYXBwZW5cbiAgICAgICAgLy8gYmVmb3JlIGxpc3RlbiBldmVudHMuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3Byb2Nlc3NVc2VyQ2FsbGJhY2sobiwgciwgLyplcnJvcj0qLyBudWxsKSwgX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzKG4sIHIpLCBcbiAgICAgICAgbi5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVNdXRhdGlvblN0YXRlKHIsIFwiYWNrbm93bGVkZ2VkXCIpLCBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUobiwgZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzKGUpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVSZWplY3RGYWlsZWRXcml0ZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlUmVqZWN0QmF0Y2goZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlJlamVjdCBiYXRjaFwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsIChlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5tdXRhdGlvblF1ZXVlLmxvb2t1cE11dGF0aW9uQmF0Y2goZSwgdCkubmV4dCgodCA9PiAoX19QUklWQVRFX2hhcmRBc3NlcnQobnVsbCAhPT0gdCksIFxuICAgICAgICAgICAgICAgIHIgPSB0LmtleXMoKSwgbi5tdXRhdGlvblF1ZXVlLnJlbW92ZU11dGF0aW9uQmF0Y2goZSwgdCkpKSkubmV4dCgoKCkgPT4gbi5tdXRhdGlvblF1ZXVlLnBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKGUpKSkubmV4dCgoKCkgPT4gbi5kb2N1bWVudE92ZXJsYXlDYWNoZS5yZW1vdmVPdmVybGF5c0ZvckJhdGNoSWQoZSwgciwgdCkpKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKGUsIHIpKSkubmV4dCgoKCkgPT4gbi5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudHMoZSwgcikpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIFJldHVybnMgdGhlIGxhcmdlc3QgKGxhdGVzdCkgYmF0Y2ggaWQgaW4gbXV0YXRpb24gcXVldWUgdGhhdCBpcyBwZW5kaW5nXG4gKiBzZXJ2ZXIgcmVzcG9uc2UuXG4gKlxuICogUmV0dXJucyBgQkFUQ0hJRF9VTktOT1dOYCBpZiB0aGUgcXVldWUgaXMgZW1wdHkuXG4gKi8gKHIubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgIC8vIFRoZSBsb2NhbCBzdG9yZSBtYXkgb3IgbWF5IG5vdCBiZSBhYmxlIHRvIGFwcGx5IHRoZSB3cml0ZSByZXN1bHQgYW5kXG4gICAgICAgIC8vIHJhaXNlIGV2ZW50cyBpbW1lZGlhdGVseSAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHdhdGNoZXIgaXMgY2F1Z2h0IHVwKSxcbiAgICAgICAgLy8gc28gd2UgcmFpc2UgdXNlciBjYWxsYmFja3MgZmlyc3Qgc28gdGhhdCB0aGV5IGNvbnNpc3RlbnRseSBoYXBwZW4gYmVmb3JlXG4gICAgICAgIC8vIGxpc3RlbiBldmVudHMuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3Byb2Nlc3NVc2VyQ2FsbGJhY2sociwgdCwgbiksIF9fUFJJVkFURV90cmlnZ2VyUGVuZGluZ1dyaXRlc0NhbGxiYWNrcyhyLCB0KSwgXG4gICAgICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlTXV0YXRpb25TdGF0ZSh0LCBcInJlamVjdGVkXCIsIG4pLCBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUociwgZSk7XG4gICAgfSBjYXRjaCAobikge1xuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzKG4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSB1c2VyIGNhbGxiYWNrIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgcGVuZGluZyBtdXRhdGlvbnMgYXQgdGhlIG1vbWVudCBvZiBjYWxsaW5nXG4gKiBhcmUgYWNrbm93bGVkZ2VkIC5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZVJlZ2lzdGVyUGVuZGluZ1dyaXRlc0NhbGxiYWNrKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhuLnJlbW90ZVN0b3JlKSB8fCBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiVGhlIG5ldHdvcmsgaXMgZGlzYWJsZWQuIFRoZSB0YXNrIHJldHVybmVkIGJ5ICdhd2FpdFBlbmRpbmdXcml0ZXMoKScgd2lsbCBub3QgY29tcGxldGUgdW50aWwgdGhlIG5ldHdvcmsgaXMgZW5hYmxlZC5cIik7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZChlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgIHJldHVybiB0LnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IGhpZ2hlc3QgdW5hY2tub3dsZWRnZWQgYmF0Y2ggaWRcIiwgXCJyZWFkb25seVwiLCAoZSA9PiB0Lm11dGF0aW9uUXVldWUuZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZChlKSkpO1xuICAgICAgICB9KG4ubG9jYWxTdG9yZSk7XG4gICAgICAgIGlmICgtMSA9PT0gZSkgXG4gICAgICAgIC8vIFRyaWdnZXIgdGhlIGNhbGxiYWNrIHJpZ2h0IGF3YXkgaWYgdGhlcmUgaXMgbm8gcGVuZGluZyB3cml0ZXMgYXQgdGhlIG1vbWVudC5cbiAgICAgICAgcmV0dXJuIHZvaWQgdC5yZXNvbHZlKCk7XG4gICAgICAgIGNvbnN0IHIgPSBuLk9hLmdldChlKSB8fCBbXTtcbiAgICAgICAgci5wdXNoKHQpLCBuLk9hLnNldChlLCByKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZShlLCBcIkluaXRpYWxpemF0aW9uIG9mIHdhaXRGb3JQZW5kaW5nV3JpdGVzKCkgb3BlcmF0aW9uIGZhaWxlZFwiKTtcbiAgICAgICAgdC5yZWplY3Qobik7XG4gICAgfVxufVxuXG4vKipcbiAqIFRyaWdnZXJzIHRoZSBjYWxsYmFja3MgdGhhdCBhcmUgd2FpdGluZyBmb3IgdGhpcyBiYXRjaCBpZCB0byBnZXQgYWNrbm93bGVkZ2VkIGJ5IHNlcnZlcixcbiAqIGlmIHRoZXJlIGFyZSBhbnkuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzKGUsIHQpIHtcbiAgICAoZS5PYS5nZXQodCkgfHwgW10pLmZvckVhY2goKGUgPT4ge1xuICAgICAgICBlLnJlc29sdmUoKTtcbiAgICB9KSksIGUuT2EuZGVsZXRlKHQpO1xufVxuXG4vKiogUmVqZWN0IGFsbCBvdXRzdGFuZGluZyBjYWxsYmFja3Mgd2FpdGluZyBmb3IgcGVuZGluZyB3cml0ZXMgdG8gY29tcGxldGUuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wcm9jZXNzVXNlckNhbGxiYWNrKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgaSA9IHIueGFbci5jdXJyZW50VXNlci50b0tleSgpXTtcbiAgICAvLyBOT1RFOiBNdXRhdGlvbnMgcmVzdG9yZWQgZnJvbSBwZXJzaXN0ZW5jZSB3b24ndCBoYXZlIGNhbGxiYWNrcywgc28gaXQnc1xuICAgIC8vIG9rYXkgZm9yIHRoZXJlIHRvIGJlIG5vIGNhbGxiYWNrIGZvciB0aGlzIElELlxuICAgICAgICBpZiAoaSkge1xuICAgICAgICBjb25zdCBlID0gaS5nZXQodCk7XG4gICAgICAgIGUgJiYgKG4gPyBlLnJlamVjdChuKSA6IGUucmVzb2x2ZSgpLCBpID0gaS5yZW1vdmUodCkpLCByLnhhW3IuY3VycmVudFVzZXIudG9LZXkoKV0gPSBpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3JlbW92ZUFuZENsZWFudXBUYXJnZXQoZSwgdCwgbiA9IG51bGwpIHtcbiAgICBlLnNoYXJlZENsaWVudFN0YXRlLnJlbW92ZUxvY2FsUXVlcnlUYXJnZXQodCk7XG4gICAgZm9yIChjb25zdCByIG9mIGUuRGEuZ2V0KHQpKSBlLmJhLmRlbGV0ZShyKSwgbiAmJiBlLlNhLmthKHIsIG4pO1xuICAgIGlmIChlLkRhLmRlbGV0ZSh0KSwgZS5pc1ByaW1hcnlDbGllbnQpIHtcbiAgICAgICAgZS5NYS5Wcih0KS5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGUuTWEuY29udGFpbnNLZXkodCkgfHwgXG4gICAgICAgICAgICAvLyBXZSByZW1vdmVkIHRoZSBsYXN0IHJlZmVyZW5jZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgICAgIF9fUFJJVkFURV9yZW1vdmVMaW1ib1RhcmdldChlLCB0KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3JlbW92ZUxpbWJvVGFyZ2V0KGUsIHQpIHtcbiAgICBlLkNhLmRlbGV0ZSh0LnBhdGguY2Fub25pY2FsU3RyaW5nKCkpO1xuICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB0aGUgdGFyZ2V0IGFscmVhZHkgZ290IHJlbW92ZWQgYmVjYXVzZSB0aGUgcXVlcnkgZmFpbGVkLiBJbiB0aGF0IGNhc2UsXG4gICAgLy8gdGhlIGtleSB3b24ndCBleGlzdCBpbiBgbGltYm9UYXJnZXRzQnlLZXlgLiBPbmx5IGRvIHRoZSBjbGVhbnVwIGlmIHdlIHN0aWxsIGhhdmUgdGhlIHRhcmdldC5cbiAgICBjb25zdCBuID0gZS52YS5nZXQodCk7XG4gICAgbnVsbCAhPT0gbiAmJiAoX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4oZS5yZW1vdGVTdG9yZSwgbiksIGUudmEgPSBlLnZhLnJlbW92ZSh0KSwgXG4gICAgZS5GYS5kZWxldGUobiksIF9fUFJJVkFURV9wdW1wRW5xdWV1ZWRMaW1ib1Jlc29sdXRpb25zKGUpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3VwZGF0ZVRyYWNrZWRMaW1ib3MoZSwgdCwgbikge1xuICAgIGZvciAoY29uc3QgciBvZiBuKSBpZiAociBpbnN0YW5jZW9mIF9fUFJJVkFURV9BZGRlZExpbWJvRG9jdW1lbnQpIGUuTWEuYWRkUmVmZXJlbmNlKHIua2V5LCB0KSwgXG4gICAgX19QUklWQVRFX3RyYWNrTGltYm9DaGFuZ2UoZSwgcik7IGVsc2UgaWYgKHIgaW5zdGFuY2VvZiBfX1BSSVZBVEVfUmVtb3ZlZExpbWJvRG9jdW1lbnQpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU3luY0VuZ2luZVwiLCBcIkRvY3VtZW50IG5vIGxvbmdlciBpbiBsaW1ibzogXCIgKyByLmtleSksIGUuTWEucmVtb3ZlUmVmZXJlbmNlKHIua2V5LCB0KTtcbiAgICAgICAgZS5NYS5jb250YWluc0tleShyLmtleSkgfHwgXG4gICAgICAgIC8vIFdlIHJlbW92ZWQgdGhlIGxhc3QgcmVmZXJlbmNlIGZvciB0aGlzIGtleVxuICAgICAgICBfX1BSSVZBVEVfcmVtb3ZlTGltYm9UYXJnZXQoZSwgci5rZXkpO1xuICAgIH0gZWxzZSBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90cmFja0xpbWJvQ2hhbmdlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gdC5rZXksIHIgPSBuLnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgZS52YS5nZXQobikgfHwgZS5DYS5oYXMocikgfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlN5bmNFbmdpbmVcIiwgXCJOZXcgZG9jdW1lbnQgaW4gbGltYm86IFwiICsgbiksIFxuICAgIGUuQ2EuYWRkKHIpLCBfX1BSSVZBVEVfcHVtcEVucXVldWVkTGltYm9SZXNvbHV0aW9ucyhlKSk7XG59XG5cbi8qKlxuICogU3RhcnRzIGxpc3RlbnMgZm9yIGRvY3VtZW50cyBpbiBsaW1ibyB0aGF0IGFyZSBlbnF1ZXVlZCBmb3IgcmVzb2x1dGlvbixcbiAqIHN1YmplY3QgdG8gYSBtYXhpbXVtIG51bWJlciBvZiBjb25jdXJyZW50IHJlc29sdXRpb25zLlxuICpcbiAqIFdpdGhvdXQgYm91bmRpbmcgdGhlIG51bWJlciBvZiBjb25jdXJyZW50IHJlc29sdXRpb25zLCB0aGUgc2VydmVyIGNhbiBmYWlsXG4gKiB3aXRoIFwicmVzb3VyY2UgZXhoYXVzdGVkXCIgZXJyb3JzIHdoaWNoIGNhbiBsZWFkIHRvIHBhdGhvbG9naWNhbCBjbGllbnRcbiAqIGJlaGF2aW9yIGFzIHNlZW4gaW4gaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWpzLXNkay9pc3N1ZXMvMjY4My5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcHVtcEVucXVldWVkTGltYm9SZXNvbHV0aW9ucyhlKSB7XG4gICAgZm9yICg7ZS5DYS5zaXplID4gMCAmJiBlLnZhLnNpemUgPCBlLm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zOyApIHtcbiAgICAgICAgY29uc3QgdCA9IGUuQ2EudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICBlLkNhLmRlbGV0ZSh0KTtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBEb2N1bWVudEtleShSZXNvdXJjZVBhdGguZnJvbVN0cmluZyh0KSksIHIgPSBlLk5hLm5leHQoKTtcbiAgICAgICAgZS5GYS5zZXQociwgbmV3IExpbWJvUmVzb2x1dGlvbihuKSksIGUudmEgPSBlLnZhLmluc2VydChuLCByKSwgX19QUklWQVRFX3JlbW90ZVN0b3JlTGlzdGVuKGUucmVtb3RlU3RvcmUsIG5ldyBUYXJnZXREYXRhKF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgobi5wYXRoKSksIHIsIFwiVGFyZ2V0UHVycG9zZUxpbWJvUmVzb2x1dGlvblwiIC8qIFRhcmdldFB1cnBvc2UuTGltYm9SZXNvbHV0aW9uICovICwgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKSk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBpID0gW10sIHMgPSBbXSwgbyA9IFtdO1xuICAgIHIuYmEuaXNFbXB0eSgpIHx8IChyLmJhLmZvckVhY2goKChlLCBfKSA9PiB7XG4gICAgICAgIG8ucHVzaChyLkJhKF8sIHQsIG4pLnRoZW4oKGUgPT4ge1xuICAgICAgICAgICAgdmFyIHQ7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgY2hhbmdlcywgb3Igd2UgYXJlIGhhbmRsaW5nIGEgZ2xvYmFsIHNuYXBzaG90LCBub3RpZnlcbiAgICAgICAgICAgIC8vIHNlY29uZGFyeSBjbGllbnRzIHRvIHVwZGF0ZSBxdWVyeSBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZSB8fCBuKSAmJiByLmlzUHJpbWFyeUNsaWVudCkge1xuICAgICAgICAgICAgICAgIC8vIFF1ZXJ5IHN0YXRlIGlzIHNldCB0byBgY3VycmVudGAgaWY6XG4gICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHZpZXcgY2hhbmdlIGFuZCBpdCBpcyB1cC10by1kYXRlLCBvcixcbiAgICAgICAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgZ2xvYmFsIHNuYXBzaG90LCB0aGUgVGFyZ2V0IGlzIGN1cnJlbnQsIGFuZCBubyBjaGFuZ2VzIHRvIGJlIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGUgPyAhZS5mcm9tQ2FjaGUgOiBudWxsID09PSAodCA9IG51bGwgPT0gbiA/IHZvaWQgMCA6IG4udGFyZ2V0Q2hhbmdlcy5nZXQoXy50YXJnZXRJZCkpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuY3VycmVudDtcbiAgICAgICAgICAgICAgICByLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUoXy50YXJnZXRJZCwgaSA/IFwiY3VycmVudFwiIDogXCJub3QtY3VycmVudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB2aWV3cyBpZiB0aGVyZSBhcmUgYWN0dWFsIGNoYW5nZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgIGkucHVzaChlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX0xvY2FsVmlld0NoYW5nZXMuS2koXy50YXJnZXRJZCwgZSk7XG4gICAgICAgICAgICAgICAgcy5wdXNoKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkpO1xuICAgIH0pKSwgYXdhaXQgUHJvbWlzZS5hbGwobyksIHIuU2EuaF8oaSksIGF3YWl0IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlTm90aWZ5TG9jYWxWaWV3Q2hhbmdlcyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIm5vdGlmeUxvY2FsVmlld0NoYW5nZXNcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godC5xaSwgKHIgPT4gbi5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5hZGRSZWZlcmVuY2UoZSwgdC50YXJnZXRJZCwgcikpKS5uZXh0KCgoKSA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LlFpLCAociA9PiBuLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZShlLCB0LnRhcmdldElkLCByKSkpKSkpKSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoIV9fUFJJVkFURV9pc0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSkpIHRocm93IGU7XG4gICAgICAgICAgICAvLyBJZiBgbm90aWZ5TG9jYWxWaWV3Q2hhbmdlc2AgZmFpbHMsIHdlIGRpZCBub3QgYWR2YW5jZSB0aGUgc2VxdWVuY2VcbiAgICAgICAgICAgIC8vIG51bWJlciBmb3IgdGhlIGRvY3VtZW50cyB0aGF0IHdlcmUgaW5jbHVkZWQgaW4gdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgIC8vIFRoaXMgbWlnaHQgdHJpZ2dlciB0aGVtIHRvIGJlIGRlbGV0ZWQgZWFybGllciB0aGFuIHRoZXkgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlLCBidXQgaXQgc2hvdWxkIG5vdCBpbnZhbGlkYXRlIHRoZSBpbnRlZ3JpdHkgb2YgdGhlIGRhdGEuXG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJMb2NhbFN0b3JlXCIsIFwiRmFpbGVkIHRvIHVwZGF0ZSBzZXF1ZW5jZSBudW1iZXJzOiBcIiArIGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS50YXJnZXRJZDtcbiAgICAgICAgICAgIGlmICghZS5mcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gbi5ucy5nZXQodCksIHIgPSBlLnNuYXBzaG90VmVyc2lvbiwgaSA9IGUud2l0aExhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24ocik7XG4gICAgICAgICAgICAgICAgLy8gQWR2YW5jZSB0aGUgbGFzdCBsaW1ibyBmcmVlIHNuYXBzaG90IHZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5ucyA9IG4ubnMuaW5zZXJ0KHQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfShyLmxvY2FsU3RvcmUsIHMpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVIYW5kbGVDcmVkZW50aWFsQ2hhbmdlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBpZiAoIW4uY3VycmVudFVzZXIuaXNFcXVhbCh0KSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiVXNlciBjaGFuZ2UuIE5ldyB1c2VyOlwiLCB0LnRvS2V5KCkpO1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVIYW5kbGVVc2VyQ2hhbmdlKG4ubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgIG4uY3VycmVudFVzZXIgPSB0LCBcbiAgICAgICAgLy8gRmFpbHMgdGFza3Mgd2FpdGluZyBmb3IgcGVuZGluZyB3cml0ZXMgcmVxdWVzdGVkIGJ5IHByZXZpb3VzIHVzZXIuXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9yZWplY3RPdXRzdGFuZGluZ1BlbmRpbmdXcml0ZXNDYWxsYmFja3MoZSwgdCkge1xuICAgICAgICAgICAgZS5PYS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5DQU5DRUxMRUQsIHQpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSksIGUuT2EuY2xlYXIoKTtcbiAgICAgICAgfShuLCBcIid3YWl0Rm9yUGVuZGluZ1dyaXRlcycgcHJvbWlzZSBpcyByZWplY3RlZCBkdWUgdG8gYSB1c2VyIGNoYW5nZS5cIiksIFxuICAgICAgICAvLyBUT0RPKGIvMTE0MjI2NDE3KTogQ29uc2lkZXIgY2FsbGluZyB0aGlzIG9ubHkgaW4gdGhlIHByaW1hcnkgdGFiLlxuICAgICAgICBuLnNoYXJlZENsaWVudFN0YXRlLmhhbmRsZVVzZXJDaGFuZ2UodCwgZS5yZW1vdmVkQmF0Y2hJZHMsIGUuYWRkZWRCYXRjaElkcyksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuLCBlLnVzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lR2V0UmVtb3RlS2V5c0ZvclRhcmdldChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBuLkZhLmdldCh0KTtcbiAgICBpZiAociAmJiByLndhKSByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkuYWRkKHIua2V5KTtcbiAgICB7XG4gICAgICAgIGxldCBlID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIGNvbnN0IHIgPSBuLkRhLmdldCh0KTtcbiAgICAgICAgaWYgKCFyKSByZXR1cm4gZTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHIpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBuLmJhLmdldCh0KTtcbiAgICAgICAgICAgIGUgPSBlLnVuaW9uV2l0aChyLnZpZXcuRWEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZWNvbmNpbGUgdGhlIGxpc3Qgb2Ygc3luY2VkIGRvY3VtZW50cyBpbiBhbiBleGlzdGluZyB2aWV3IHdpdGggdGhvc2VcbiAqIGZyb20gcGVyc2lzdGVuY2UuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNocm9uaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUV4ZWN1dGVRdWVyeShuLmxvY2FsU3RvcmUsIHQucXVlcnksIFxuICAgIC8qIHVzZVByZXZpb3VzUmVzdWx0cz0gKi8gITApLCBpID0gdC52aWV3LnBhKHIpO1xuICAgIHJldHVybiBuLmlzUHJpbWFyeUNsaWVudCAmJiBfX1BSSVZBVEVfdXBkYXRlVHJhY2tlZExpbWJvcyhuLCB0LnRhcmdldElkLCBpLmZhKSwgXG4gICAgaTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgbmV3bHkgY2hhbmdlZCBkb2N1bWVudHMgZnJvbSByZW1vdGUgZG9jdW1lbnQgY2FjaGUgYW5kIHJhaXNlc1xuICogc25hcHNob3RzIGlmIG5lZWRlZC5cbiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lU3luY2hyb25pemVXaXRoQ2hhbmdlZERvY3VtZW50cyhlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TmV3RG9jdW1lbnRDaGFuZ2VzKG4ubG9jYWxTdG9yZSwgdCkudGhlbigoZSA9PiBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUobiwgZSkpKTtcbn1cblxuLyoqIEFwcGxpZXMgYSBtdXRhdGlvbiBzdGF0ZSB0byBhbiBleGlzdGluZyBiYXRjaC4gICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUJhdGNoU3RhdGUoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBzID0gYXdhaXQgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVMb29rdXBNdXRhdGlvbkRvY3VtZW50cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChuLm11dGF0aW9uUXVldWUpO1xuICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkxvb2t1cCBtdXRhdGlvbiBkb2N1bWVudHNcIiwgXCJyZWFkb25seVwiLCAoZSA9PiByLnZuKGUsIHQpLm5leHQoKHQgPT4gdCA/IG4ubG9jYWxEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKGUsIHQpIDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobnVsbCkpKSkpO1xuICAgIH1cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuICAgIChpLmxvY2FsU3RvcmUsIHQpO1xuICAgIG51bGwgIT09IHMgPyAoXCJwZW5kaW5nXCIgPT09IG4gPyBcbiAgICAvLyBJZiB3ZSBhcmUgdGhlIHByaW1hcnkgY2xpZW50LCB3ZSBuZWVkIHRvIHNlbmQgdGhpcyB3cml0ZSB0byB0aGVcbiAgICAvLyBiYWNrZW5kLiBTZWNvbmRhcnkgY2xpZW50cyB3aWxsIGlnbm9yZSB0aGVzZSB3cml0ZXMgc2luY2UgdGhlaXIgcmVtb3RlXG4gICAgLy8gY29ubmVjdGlvbiBpcyBkaXNhYmxlZC5cbiAgICBhd2FpdCBfX1BSSVZBVEVfZmlsbFdyaXRlUGlwZWxpbmUoaS5yZW1vdGVTdG9yZSkgOiBcImFja25vd2xlZGdlZFwiID09PSBuIHx8IFwicmVqZWN0ZWRcIiA9PT0gbiA/IChcbiAgICAvLyBOT1RFOiBCb3RoIHRoZXNlIG1ldGhvZHMgYXJlIG5vLW9wcyBmb3IgYmF0Y2hlcyB0aGF0IG9yaWdpbmF0ZWQgZnJvbVxuICAgIC8vIG90aGVyIGNsaWVudHMuXG4gICAgX19QUklWQVRFX3Byb2Nlc3NVc2VyQ2FsbGJhY2soaSwgdCwgciB8fCBudWxsKSwgX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzKGksIHQpLCBcbiAgICBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlbW92ZUNhY2hlZE11dGF0aW9uQmF0Y2hNZXRhZGF0YShlLCB0KSB7XG4gICAgICAgIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoX19QUklWQVRFX2RlYnVnQ2FzdChlKS5tdXRhdGlvblF1ZXVlKS5Nbih0KTtcbiAgICB9XG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAoaS5sb2NhbFN0b3JlLCB0KSkgOiBmYWlsKCksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShpLCBzKSkgOiBcbiAgICAvLyBBIHRocm90dGxlZCB0YWIgbWF5IG5vdCBoYXZlIHNlZW4gdGhlIG11dGF0aW9uIGJlZm9yZSBpdCB3YXMgY29tcGxldGVkXG4gICAgLy8gYW5kIHJlbW92ZWQgZnJvbSB0aGUgbXV0YXRpb24gcXVldWUsIGluIHdoaWNoIGNhc2Ugd2Ugd29uJ3QgaGF2ZSBjYWNoZWRcbiAgICAvLyB0aGUgYWZmZWN0ZWQgZG9jdW1lbnRzLiBJbiB0aGlzIGNhc2Ugd2UgY2FuIHNhZmVseSBpZ25vcmUgdGhlIHVwZGF0ZVxuICAgIC8vIHNpbmNlIHRoYXQgbWVhbnMgd2UgZGlkbid0IGFwcGx5IHRoZSBtdXRhdGlvbiBsb2NhbGx5IGF0IGFsbCAoaWYgd2VcbiAgICAvLyBoYWQsIHdlIHdvdWxkIGhhdmUgY2FjaGVkIHRoZSBhZmZlY3RlZCBkb2N1bWVudHMpLCBhbmQgc28gd2Ugd2lsbCBqdXN0XG4gICAgLy8gc2VlIGFueSByZXN1bHRpbmcgZG9jdW1lbnQgY2hhbmdlcyB2aWEgbm9ybWFsIHJlbW90ZSBkb2N1bWVudCB1cGRhdGVzXG4gICAgLy8gYXMgYXBwbGljYWJsZS5cbiAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiQ2Fubm90IGFwcGx5IG11dGF0aW9uIGJhdGNoIHdpdGggaWQ6IFwiICsgdCk7XG59XG5cbi8qKiBBcHBsaWVzIGEgcXVlcnkgdGFyZ2V0IGNoYW5nZSBmcm9tIGEgZGlmZmVyZW50IHRhYi4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UHJpbWFyeVN0YXRlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBpZiAoX19QUklWQVRFX2Vuc3VyZVdhdGNoQ2FsbGJhY2tzKG4pLCBfX1BSSVZBVEVfc3luY0VuZ2luZUVuc3VyZVdyaXRlQ2FsbGJhY2tzKG4pLCBcbiAgICAhMCA9PT0gdCAmJiAhMCAhPT0gbi5MYSkge1xuICAgICAgICAvLyBTZWNvbmRhcnkgdGFicyBvbmx5IG1haW50YWluIFZpZXdzIGZvciB0aGVpciBsb2NhbCBsaXN0ZW5lcnMgYW5kIHRoZVxuICAgICAgICAvLyBWaWV3cyBpbnRlcm5hbCBzdGF0ZSBtYXkgbm90IGJlIDEwMCUgcG9wdWxhdGVkIChpbiBwYXJ0aWN1bGFyXG4gICAgICAgIC8vIHNlY29uZGFyeSB0YWJzIGRvbid0IHRyYWNrIHN5bmNlZERvY3VtZW50cywgdGhlIHNldCBvZiBkb2N1bWVudHMgdGhlXG4gICAgICAgIC8vIHNlcnZlciBjb25zaWRlcnMgdG8gYmUgaW4gdGhlIHRhcmdldCkuIFNvIHdoZW4gYSBzZWNvbmRhcnkgYmVjb21lc1xuICAgICAgICAvLyBwcmltYXJ5LCB3ZSBuZWVkIHRvIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHZpZXdzIGZvciBhbGwgdGFyZ2V0c1xuICAgICAgICAvLyBtYXRjaCB0aGUgc3RhdGUgb24gZGlzay5cbiAgICAgICAgY29uc3QgZSA9IG4uc2hhcmVkQ2xpZW50U3RhdGUuZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzKCksIHQgPSBhd2FpdCBfX1BSSVZBVEVfc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMobiwgZS50b0FycmF5KCkpO1xuICAgICAgICBuLkxhID0gITAsIGF3YWl0IF9fUFJJVkFURV9yZW1vdGVTdG9yZUFwcGx5UHJpbWFyeVN0YXRlKG4ucmVtb3RlU3RvcmUsICEwKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIF9fUFJJVkFURV9yZW1vdGVTdG9yZUxpc3RlbihuLnJlbW90ZVN0b3JlLCBlKTtcbiAgICB9IGVsc2UgaWYgKCExID09PSB0ICYmICExICE9PSBuLkxhKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgbGV0IHQgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgbi5EYS5mb3JFYWNoKCgociwgaSkgPT4ge1xuICAgICAgICAgICAgbi5zaGFyZWRDbGllbnRTdGF0ZS5pc0xvY2FsUXVlcnlUYXJnZXQoaSkgPyBlLnB1c2goaSkgOiB0ID0gdC50aGVuKCgoKSA9PiAoX19QUklWQVRFX3JlbW92ZUFuZENsZWFudXBUYXJnZXQobiwgaSksIFxuICAgICAgICAgICAgX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KG4ubG9jYWxTdG9yZSwgaSwgXG4gICAgICAgICAgICAvKmtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhPSovICEwKSkpKSwgX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4obi5yZW1vdGVTdG9yZSwgaSk7XG4gICAgICAgIH0pKSwgYXdhaXQgdCwgYXdhaXQgX19QUklWQVRFX3N5bmNocm9uaXplUXVlcnlWaWV3c0FuZFJhaXNlU25hcHNob3RzKG4sIGUpLCBcbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3Jlc2V0TGltYm9Eb2N1bWVudHMoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICB0LkZhLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4odC5yZW1vdGVTdG9yZSwgbik7XG4gICAgICAgICAgICB9KSksIHQuTWEubXIoKSwgdC5GYSA9IG5ldyBNYXAsIHQudmEgPSBuZXcgU29ydGVkTWFwKERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUmVjb25jaWxlIHRoZSBxdWVyeSB2aWV3cyBvZiB0aGUgcHJvdmlkZWQgcXVlcnkgdGFyZ2V0cyB3aXRoIHRoZSBzdGF0ZSBmcm9tXG4gKiBwZXJzaXN0ZW5jZS4gUmFpc2VzIHNuYXBzaG90cyBmb3IgYW55IGNoYW5nZXMgdGhhdCBhZmZlY3QgdGhlIGxvY2FsXG4gKiBjbGllbnQgYW5kIHJldHVybnMgdGhlIHVwZGF0ZWQgc3RhdGUgb2YgYWxsIHRhcmdldCdzIHF1ZXJ5IGRhdGEuXG4gKlxuICogQHBhcmFtIHN5bmNFbmdpbmUgLSBUaGUgc3luYyBlbmdpbmUgaW1wbGVtZW50YXRpb25cbiAqIEBwYXJhbSB0YXJnZXRzIC0gdGhlIGxpc3Qgb2YgdGFyZ2V0cyB3aXRoIHZpZXdzIHRoYXQgbmVlZCB0byBiZSByZWNvbXB1dGVkXG4gKiBAcGFyYW0gdHJhbnNpdGlvblRvUHJpbWFyeSAtIGB0cnVlYCBpZmYgdGhlIHRhYiB0cmFuc2l0aW9ucyBmcm9tIGEgc2Vjb25kYXJ5XG4gKiB0YWIgdG8gYSBwcmltYXJ5IHRhYlxuICovXG4gICAgICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG4gICAgICAgIChuKSwgbi5MYSA9ICExLCBhd2FpdCBfX1BSSVZBVEVfcmVtb3RlU3RvcmVBcHBseVByaW1hcnlTdGF0ZShuLnJlbW90ZVN0b3JlLCAhMSk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBpID0gW10sIHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGUgb2YgdCkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgY29uc3QgbiA9IHIuRGEuZ2V0KGUpO1xuICAgICAgICBpZiAobiAmJiAwICE9PSBuLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gRm9yIHF1ZXJpZXMgdGhhdCBoYXZlIGEgbG9jYWwgVmlldywgd2UgZmV0Y2ggdGhlaXIgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgLy8gZnJvbSBMb2NhbFN0b3JlIChhcyB0aGUgcmVzdW1lIHRva2VuIGFuZCB0aGUgc25hcHNob3QgdmVyc2lvblxuICAgICAgICAgICAgLy8gbWlnaHQgaGF2ZSBjaGFuZ2VkKSBhbmQgcmVjb25jaWxlIHRoZWlyIHZpZXdzIHdpdGggdGhlIHBlcnNpc3RlZFxuICAgICAgICAgICAgLy8gc3RhdGUgKHRoZSBsaXN0IG9mIHN5bmNlZERvY3VtZW50cyBtYXkgaGF2ZSBnb3R0ZW4gb3V0IG9mIHN5bmMpLlxuICAgICAgICAgICAgdCA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoci5sb2NhbFN0b3JlLCBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChuWzBdKSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2Ygbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSByLmJhLmdldChlKSwgbiA9IGF3YWl0IF9fUFJJVkFURV9zeW5jaHJvbml6ZVZpZXdBbmRDb21wdXRlU25hcHNob3QociwgdCk7XG4gICAgICAgICAgICAgICAgbi5zbmFwc2hvdCAmJiBzLnB1c2gobi5zbmFwc2hvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGb3IgcXVlcmllcyB0aGF0IG5ldmVyIGV4ZWN1dGVkIG9uIHRoaXMgY2xpZW50LCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyBhbGxvY2F0ZSB0aGUgdGFyZ2V0IGluIExvY2FsU3RvcmUgYW5kIGluaXRpYWxpemUgYSBuZXcgVmlldy5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldENhY2hlZFRhcmdldChyLmxvY2FsU3RvcmUsIGUpO1xuICAgICAgICAgICAgdCA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoci5sb2NhbFN0b3JlLCBuKSwgYXdhaXQgX19QUklWQVRFX2luaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KHIsIF9fUFJJVkFURV9zeW50aGVzaXplVGFyZ2V0VG9RdWVyeShuKSwgZSwgXG4gICAgICAgICAgICAvKmN1cnJlbnQ9Ki8gITEsIHQucmVzdW1lVG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGkucHVzaCh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHIuU2EuaF8ocyksIGk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBRdWVyeWAgb2JqZWN0IGZyb20gdGhlIHNwZWNpZmllZCBgVGFyZ2V0YC4gVGhlcmUgaXMgbm8gd2F5IHRvXG4gKiBvYnRhaW4gdGhlIG9yaWdpbmFsIGBRdWVyeWAsIHNvIHdlIHN5bnRoZXNpemUgYSBgUXVlcnlgIGZyb20gdGhlIGBUYXJnZXRgXG4gKiBvYmplY3QuXG4gKlxuICogVGhlIHN5bnRoZXNpemVkIHJlc3VsdCBtaWdodCBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgb3JpZ2luYWwgYFF1ZXJ5YCwgYnV0XG4gKiBzaW5jZSB0aGUgc3ludGhlc2l6ZWQgYFF1ZXJ5YCBzaG91bGQgcmV0dXJuIHRoZSBzYW1lIHJlc3VsdHMgYXMgdGhlXG4gKiBvcmlnaW5hbCBvbmUgKG9ubHkgdGhlIHByZXNlbnRhdGlvbiBvZiByZXN1bHRzIG1pZ2h0IGRpZmZlciksIHRoZSBwb3RlbnRpYWxcbiAqIGRpZmZlcmVuY2Ugd2lsbCBub3QgY2F1c2UgaXNzdWVzLlxuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuZnVuY3Rpb24gX19QUklWQVRFX3N5bnRoZXNpemVUYXJnZXRUb1F1ZXJ5KGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX25ld1F1ZXJ5KGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIGUub3JkZXJCeSwgZS5maWx0ZXJzLCBlLmxpbWl0LCBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gLCBlLnN0YXJ0QXQsIGUuZW5kQXQpO1xufVxuXG4vKiogUmV0dXJucyB0aGUgSURzIG9mIHRoZSBjbGllbnRzIHRoYXQgYXJlIGN1cnJlbnRseSBhY3RpdmUuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVHZXRBY3RpdmVDbGllbnRzKGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXRBY3RpdmVDbGllbnRzKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoX19QUklWQVRFX2RlYnVnQ2FzdChlKS5wZXJzaXN0ZW5jZSkuQmkoKTtcbiAgICB9KF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSkubG9jYWxTdG9yZSk7XG59XG5cbi8qKiBBcHBsaWVzIGEgcXVlcnkgdGFyZ2V0IGNoYW5nZSBmcm9tIGEgZGlmZmVyZW50IHRhYi4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5VGFyZ2V0U3RhdGUoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGlmIChpLkxhKSBcbiAgICAvLyBJZiB3ZSByZWNlaXZlIGEgdGFyZ2V0IHN0YXRlIG5vdGlmaWNhdGlvbiB2aWEgV2ViU3RvcmFnZSwgd2UgYXJlXG4gICAgLy8gZWl0aGVyIGFscmVhZHkgc2Vjb25kYXJ5IG9yIGFub3RoZXIgdGFiIGhhcyB0YWtlbiB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICByZXR1cm4gdm9pZCBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiSWdub3JpbmcgdW5leHBlY3RlZCBxdWVyeSBzdGF0ZSBub3RpZmljYXRpb24uXCIpO1xuICAgIGNvbnN0IHMgPSBpLkRhLmdldCh0KTtcbiAgICBpZiAocyAmJiBzLmxlbmd0aCA+IDApIHN3aXRjaCAobikge1xuICAgICAgY2FzZSBcImN1cnJlbnRcIjpcbiAgICAgIGNhc2UgXCJub3QtY3VycmVudFwiOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXdEb2N1bWVudENoYW5nZXMoaS5sb2NhbFN0b3JlLCBfX1BSSVZBVEVfcXVlcnlDb2xsZWN0aW9uR3JvdXAoc1swXSkpLCByID0gUmVtb3RlRXZlbnQuY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UodCwgXCJjdXJyZW50XCIgPT09IG4sIEJ5dGVTdHJpbmcuRU1QVFlfQllURV9TVFJJTkcpO1xuICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVFbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKGksIGUsIHIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlUmVsZWFzZVRhcmdldChpLmxvY2FsU3RvcmUsIHQsIFxuICAgICAgICAvKiBrZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YSAqLyAhMCksIF9fUFJJVkFURV9yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KGksIHQsIHIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZmFpbCgpO1xuICAgIH1cbn1cblxuLyoqIEFkZHMgb3IgcmVtb3ZlcyBXYXRjaCB0YXJnZXRzIGZvciBxdWVyaWVzIGZyb20gZGlmZmVyZW50IHRhYnMuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlBY3RpdmVUYXJnZXRzQ2hhbmdlKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2Vuc3VyZVdhdGNoQ2FsbGJhY2tzKGUpO1xuICAgIGlmIChyLkxhKSB7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgICAgICBpZiAoci5EYS5oYXMoZSkgJiYgci5zaGFyZWRDbGllbnRTdGF0ZS5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGUpKSB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU3luY0VuZ2luZVwiLCBcIkFkZGluZyBhbiBhbHJlYWR5IGFjdGl2ZSB0YXJnZXQgXCIgKyBlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHQgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldENhY2hlZFRhcmdldChyLmxvY2FsU3RvcmUsIGUpLCBuID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBbGxvY2F0ZVRhcmdldChyLmxvY2FsU3RvcmUsIHQpO1xuICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX2luaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KHIsIF9fUFJJVkFURV9zeW50aGVzaXplVGFyZ2V0VG9RdWVyeSh0KSwgbi50YXJnZXRJZCwgXG4gICAgICAgICAgICAvKmN1cnJlbnQ9Ki8gITEsIG4ucmVzdW1lVG9rZW4pLCBfX1BSSVZBVEVfcmVtb3RlU3RvcmVMaXN0ZW4oci5yZW1vdGVTdG9yZSwgbik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBlIG9mIG4pIFxuICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSB0YXJnZXQgaXMgc3RpbGwgYWN0aXZlIHNpbmNlIHRoZSB0YXJnZXQgbWlnaHQgaGF2ZSBiZWVuXG4gICAgICAgIC8vIHJlbW92ZWQgaWYgaXQgaGFzIGJlZW4gcmVqZWN0ZWQgYnkgdGhlIGJhY2tlbmQuXG4gICAgICAgIHIuRGEuaGFzKGUpICYmIFxuICAgICAgICAvLyBSZWxlYXNlIHF1ZXJpZXMgdGhhdCBhcmUgc3RpbGwgYWN0aXZlLlxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlbGVhc2VUYXJnZXQoci5sb2NhbFN0b3JlLCBlLCBcbiAgICAgICAgLyoga2VlcFBlcnNpc3RlZFRhcmdldERhdGEgKi8gITEpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIF9fUFJJVkFURV9yZW1vdGVTdG9yZVVubGlzdGVuKHIucmVtb3RlU3RvcmUsIGUpLCBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChyLCBlKTtcbiAgICAgICAgfSkpLmNhdGNoKF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Vuc3VyZVdhdGNoQ2FsbGJhY2tzKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIuYXBwbHlSZW1vdGVFdmVudCA9IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlSZW1vdGVFdmVudC5iaW5kKG51bGwsIHQpLCBcbiAgICB0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0ID0gX19QUklWQVRFX3N5bmNFbmdpbmVHZXRSZW1vdGVLZXlzRm9yVGFyZ2V0LmJpbmQobnVsbCwgdCksIFxuICAgIHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLnJlamVjdExpc3RlbiA9IF9fUFJJVkFURV9zeW5jRW5naW5lUmVqZWN0TGlzdGVuLmJpbmQobnVsbCwgdCksIFxuICAgIHQuU2EuaF8gPSBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyT25XYXRjaENoYW5nZS5iaW5kKG51bGwsIHQuZXZlbnRNYW5hZ2VyKSwgdC5TYS5rYSA9IF9fUFJJVkFURV9ldmVudE1hbmFnZXJPbldhdGNoRXJyb3IuYmluZChudWxsLCB0LmV2ZW50TWFuYWdlciksIFxuICAgIHQ7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lRW5zdXJlV3JpdGVDYWxsYmFja3MoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHJldHVybiB0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5hcHBseVN1Y2Nlc3NmdWxXcml0ZSA9IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlTdWNjZXNzZnVsV3JpdGUuYmluZChudWxsLCB0KSwgXG4gICAgdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIucmVqZWN0RmFpbGVkV3JpdGUgPSBfX1BSSVZBVEVfc3luY0VuZ2luZVJlamVjdEZhaWxlZFdyaXRlLmJpbmQobnVsbCwgdCksIFxuICAgIHQ7XG59XG5cbi8qKlxuICogTG9hZHMgYSBGaXJlc3RvcmUgYnVuZGxlIGludG8gdGhlIFNESy4gVGhlIHJldHVybmVkIHByb21pc2UgcmVzb2x2ZXMgd2hlblxuICogdGhlIGJ1bmRsZSBmaW5pc2hlZCBsb2FkaW5nLlxuICpcbiAqIEBwYXJhbSBzeW5jRW5naW5lIC0gU3luY0VuZ2luZSB0byB1c2UuXG4gKiBAcGFyYW0gYnVuZGxlUmVhZGVyIC0gQnVuZGxlIHRvIGxvYWQgaW50byB0aGUgU0RLLlxuICogQHBhcmFtIHRhc2sgLSBMb2FkQnVuZGxlVGFzayB1c2VkIHRvIHVwZGF0ZSB0aGUgbG9hZGluZyBwcm9ncmVzcyB0byBwdWJsaWMgQVBJLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lTG9hZEJ1bmRsZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAoXG4gICAgLyoqIExvYWRzIGEgYnVuZGxlIGFuZCByZXR1cm5zIHRoZSBsaXN0IG9mIGFmZmVjdGVkIGNvbGxlY3Rpb24gZ3JvdXBzLiAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2FkQnVuZGxlSW1wbChlLCB0LCBuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgdC5nZXRNZXRhZGF0YSgpO1xuICAgICAgICAgICAgaWYgKGF3YWl0IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlSGFzTmV3ZXJCdW5kbGUoZSwgdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKHQuY3JlYXRlVGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJoYXNOZXdlckJ1bmRsZVwiLCBcInJlYWRvbmx5XCIsIChlID0+IG4uJHIuZ2V0QnVuZGxlTWV0YWRhdGEoZSwgdC5pZCkpKS50aGVuKChlID0+ICEhZSAmJiBlLmNyZWF0ZVRpbWUuY29tcGFyZVRvKHIpID49IDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogU2F2ZXMgdGhlIGdpdmVuIGBCdW5kbGVNZXRhZGF0YWAgdG8gbG9jYWwgcGVyc2lzdGVuY2UuXG4gKi8gKGUubG9jYWxTdG9yZSwgcikpIHJldHVybiBhd2FpdCB0LmNsb3NlKCksIG4uX2NvbXBsZXRlV2l0aChmdW5jdGlvbiBfX1BSSVZBVEVfYnVuZGxlU3VjY2Vzc1Byb2dyZXNzKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0YXNrU3RhdGU6IFwiU3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHNMb2FkZWQ6IGUudG90YWxEb2N1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVzTG9hZGVkOiBlLnRvdGFsQnl0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsRG9jdW1lbnRzOiBlLnRvdGFsRG9jdW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbEJ5dGVzOiBlLnRvdGFsQnl0ZXNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfShyKSksIFByb21pc2UucmVzb2x2ZShuZXcgU2V0KTtcbiAgICAgICAgICAgIG4uX3VwZGF0ZVByb2dyZXNzKF9fUFJJVkFURV9idW5kbGVJbml0aWFsUHJvZ3Jlc3MocikpO1xuICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBfX1BSSVZBVEVfQnVuZGxlTG9hZGVyKHIsIGUubG9jYWxTdG9yZSwgdC5zZXJpYWxpemVyKTtcbiAgICAgICAgICAgIGxldCBzID0gYXdhaXQgdC5xYSgpO1xuICAgICAgICAgICAgZm9yICg7czsgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGF3YWl0IGkuX2Eocyk7XG4gICAgICAgICAgICAgICAgZSAmJiBuLl91cGRhdGVQcm9ncmVzcyhlKSwgcyA9IGF3YWl0IHQucWEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG8gPSBhd2FpdCBpLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVFbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKGUsIG8uY2EsIFxuICAgICAgICAgICAgLyogcmVtb3RlRXZlbnQgKi8gdm9pZCAwKSwgXG4gICAgICAgICAgICAvLyBTYXZlIG1ldGFkYXRhLCBzbyBsb2FkaW5nIHRoZSBzYW1lIGJ1bmRsZSB3aWxsIHNraXAuXG4gICAgICAgICAgICBhd2FpdCBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVNhdmVCdW5kbGUoZSwgdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiU2F2ZSBidW5kbGVcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gbi4kci5zYXZlQnVuZGxlTWV0YWRhdGEoZSwgdCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogUmV0dXJucyBhIHByb21pc2Ugb2YgYSBgTmFtZWRRdWVyeWAgYXNzb2NpYXRlZCB3aXRoIGdpdmVuIHF1ZXJ5IG5hbWUuIFByb21pc2VcbiAqIHJlc29sdmVzIHRvIHVuZGVmaW5lZCBpZiBubyBwZXJzaXN0ZWQgZGF0YSBjYW4gYmUgZm91bmQuXG4gKi8gKGUubG9jYWxTdG9yZSwgciksIG4uX2NvbXBsZXRlV2l0aChvLnByb2dyZXNzKSwgUHJvbWlzZS5yZXNvbHZlKG8udWEpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ1dhcm4oXCJTeW5jRW5naW5lXCIsIGBMb2FkaW5nIGJ1bmRsZSBmYWlsZWQgd2l0aCAke2V9YCksIG4uX2ZhaWxXaXRoKGUpLCBcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShuZXcgU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgIC8qKlxuICogUHJvdmlkZXMgYWxsIGNvbXBvbmVudHMgbmVlZGVkIGZvciBGaXJlc3RvcmUgd2l0aCBpbi1tZW1vcnkgcGVyc2lzdGVuY2UuXG4gKiBVc2VzIEVhZ2VyR0MgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICovKShyLCB0LCBuKS50aGVuKChlID0+IHtcbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS5ub3RpZnlCdW5kbGVMb2FkZWQoZSk7XG4gICAgfSkpO1xufVxuXG5jbGFzcyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN5bmNocm9uaXplVGFicyA9ICExO1xuICAgIH1cbiAgICBhc3luYyBpbml0aWFsaXplKGUpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gX19QUklWQVRFX25ld1NlcmlhbGl6ZXIoZS5kYXRhYmFzZUluZm8uZGF0YWJhc2VJZCksIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgPSB0aGlzLmNyZWF0ZVNoYXJlZENsaWVudFN0YXRlKGUpLCBcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZSA9IHRoaXMuY3JlYXRlUGVyc2lzdGVuY2UoZSksIGF3YWl0IHRoaXMucGVyc2lzdGVuY2Uuc3RhcnQoKSwgdGhpcy5sb2NhbFN0b3JlID0gdGhpcy5jcmVhdGVMb2NhbFN0b3JlKGUpLCBcbiAgICAgICAgdGhpcy5nY1NjaGVkdWxlciA9IHRoaXMuY3JlYXRlR2FyYmFnZUNvbGxlY3Rpb25TY2hlZHVsZXIoZSwgdGhpcy5sb2NhbFN0b3JlKSwgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIgPSB0aGlzLmNyZWF0ZUluZGV4QmFja2ZpbGxlclNjaGVkdWxlcihlLCB0aGlzLmxvY2FsU3RvcmUpO1xuICAgIH1cbiAgICBjcmVhdGVHYXJiYWdlQ29sbGVjdGlvblNjaGVkdWxlcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjcmVhdGVJbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIoZSwgdCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY3JlYXRlTG9jYWxTdG9yZShlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbmV3TG9jYWxTdG9yZSh0aGlzLnBlcnNpc3RlbmNlLCBuZXcgX19QUklWQVRFX1F1ZXJ5RW5naW5lLCBlLmluaXRpYWxVc2VyLCB0aGlzLnNlcmlhbGl6ZXIpO1xuICAgIH1cbiAgICBjcmVhdGVQZXJzaXN0ZW5jZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlKF9fUFJJVkFURV9NZW1vcnlFYWdlckRlbGVnYXRlLkhyLCB0aGlzLnNlcmlhbGl6ZXIpO1xuICAgIH1cbiAgICBjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVNoYXJlZENsaWVudFN0YXRlO1xuICAgIH1cbiAgICBhc3luYyB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHZhciBlLCB0O1xuICAgICAgICBudWxsID09PSAoZSA9IHRoaXMuZ2NTY2hlZHVsZXIpIHx8IHZvaWQgMCA9PT0gZSB8fCBlLnN0b3AoKSwgbnVsbCA9PT0gKHQgPSB0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlcikgfHwgdm9pZCAwID09PSB0IHx8IHQuc3RvcCgpLCBcbiAgICAgICAgdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zaHV0ZG93bigpLCBhd2FpdCB0aGlzLnBlcnNpc3RlbmNlLnNodXRkb3duKCk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTHJ1R2NNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgZXh0ZW5kcyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5jYWNoZVNpemVCeXRlcyA9IGU7XG4gICAgfVxuICAgIGNyZWF0ZUdhcmJhZ2VDb2xsZWN0aW9uU2NoZWR1bGVyKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQodGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9NZW1vcnlMcnVEZWxlZ2F0ZSk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLmdhcmJhZ2VDb2xsZWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0xydVNjaGVkdWxlcihuLCBlLmFzeW5jUXVldWUsIHQpO1xuICAgIH1cbiAgICBjcmVhdGVQZXJzaXN0ZW5jZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB2b2lkIDAgIT09IHRoaXMuY2FjaGVTaXplQnl0ZXMgPyBMcnVQYXJhbXMud2l0aENhY2hlU2l6ZSh0aGlzLmNhY2hlU2l6ZUJ5dGVzKSA6IExydVBhcmFtcy5ERUZBVUxUO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NZW1vcnlQZXJzaXN0ZW5jZSgoZSA9PiBfX1BSSVZBVEVfTWVtb3J5THJ1RGVsZWdhdGUuSHIoZSwgdCkpLCB0aGlzLnNlcmlhbGl6ZXIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm92aWRlcyBhbGwgY29tcG9uZW50cyBuZWVkZWQgZm9yIEZpcmVzdG9yZSB3aXRoIEluZGV4ZWREQiBwZXJzaXN0ZW5jZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIGV4dGVuZHMgTWVtb3J5T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuUWEgPSBlLCB0aGlzLmNhY2hlU2l6ZUJ5dGVzID0gdCwgdGhpcy5mb3JjZU93bmVyc2hpcCA9IG4sIHRoaXMuc3luY2hyb25pemVUYWJzID0gITE7XG4gICAgfVxuICAgIGFzeW5jIGluaXRpYWxpemUoZSkge1xuICAgICAgICBhd2FpdCBzdXBlci5pbml0aWFsaXplKGUpLCBhd2FpdCB0aGlzLlFhLmluaXRpYWxpemUodGhpcywgZSksIFxuICAgICAgICAvLyBFbnF1ZXVlIHdyaXRlcyBmcm9tIGEgcHJldmlvdXMgc2Vzc2lvblxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUVuc3VyZVdyaXRlQ2FsbGJhY2tzKHRoaXMuUWEuc3luY0VuZ2luZSksIGF3YWl0IF9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZSh0aGlzLlFhLnJlbW90ZVN0b3JlKSwgXG4gICAgICAgIC8vIE5PVEU6IFRoaXMgd2lsbCBpbW1lZGlhdGVseSBjYWxsIHRoZSBsaXN0ZW5lciwgc28gd2UgbWFrZSBzdXJlIHRvXG4gICAgICAgIC8vIHNldCBpdCBhZnRlciBsb2NhbFN0b3JlIC8gcmVtb3RlU3RvcmUgYXJlIHN0YXJ0ZWQuXG4gICAgICAgIGF3YWl0IHRoaXMucGVyc2lzdGVuY2UuZmkoKCgpID0+ICh0aGlzLmdjU2NoZWR1bGVyICYmICF0aGlzLmdjU2NoZWR1bGVyLnN0YXJ0ZWQgJiYgdGhpcy5nY1NjaGVkdWxlci5zdGFydCgpLCBcbiAgICAgICAgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIgJiYgIXRoaXMuaW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyLnN0YXJ0ZWQgJiYgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIuc3RhcnQoKSwgXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpKSkpO1xuICAgIH1cbiAgICBjcmVhdGVMb2NhbFN0b3JlKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9uZXdMb2NhbFN0b3JlKHRoaXMucGVyc2lzdGVuY2UsIG5ldyBfX1BSSVZBVEVfUXVlcnlFbmdpbmUsIGUuaW5pdGlhbFVzZXIsIHRoaXMuc2VyaWFsaXplcik7XG4gICAgfVxuICAgIGNyZWF0ZUdhcmJhZ2VDb2xsZWN0aW9uU2NoZWR1bGVyKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUuZ2FyYmFnZUNvbGxlY3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTHJ1U2NoZWR1bGVyKG4sIGUuYXN5bmNRdWV1ZSwgdCk7XG4gICAgfVxuICAgIGNyZWF0ZUluZGV4QmFja2ZpbGxlclNjaGVkdWxlcihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0luZGV4QmFja2ZpbGxlcih0LCB0aGlzLnBlcnNpc3RlbmNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyKGUuYXN5bmNRdWV1ZSwgbik7XG4gICAgfVxuICAgIGNyZWF0ZVBlcnNpc3RlbmNlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9pbmRleGVkRGJTdG9yYWdlUHJlZml4KGUuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQsIGUuZGF0YWJhc2VJbmZvLnBlcnNpc3RlbmNlS2V5KSwgbiA9IHZvaWQgMCAhPT0gdGhpcy5jYWNoZVNpemVCeXRlcyA/IExydVBhcmFtcy53aXRoQ2FjaGVTaXplKHRoaXMuY2FjaGVTaXplQnl0ZXMpIDogTHJ1UGFyYW1zLkRFRkFVTFQ7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0luZGV4ZWREYlBlcnNpc3RlbmNlKHRoaXMuc3luY2hyb25pemVUYWJzLCB0LCBlLmNsaWVudElkLCBuLCBlLmFzeW5jUXVldWUsIF9fUFJJVkFURV9nZXRXaW5kb3coKSwgZ2V0RG9jdW1lbnQoKSwgdGhpcy5zZXJpYWxpemVyLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLCAhIXRoaXMuZm9yY2VPd25lcnNoaXApO1xuICAgIH1cbiAgICBjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVNoYXJlZENsaWVudFN0YXRlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm92aWRlcyBhbGwgY29tcG9uZW50cyBuZWVkZWQgZm9yIEZpcmVzdG9yZSB3aXRoIG11bHRpLXRhYiBJbmRleGVkREJcbiAqIHBlcnNpc3RlbmNlLlxuICpcbiAqIEluIHRoZSBsZWdhY3kgY2xpZW50LCB0aGlzIHByb3ZpZGVyIGlzIHVzZWQgdG8gcHJvdmlkZSBib3RoIG11bHRpLXRhYiBhbmRcbiAqIG5vbi1tdWx0aS10YWIgcGVyc2lzdGVuY2Ugc2luY2Ugd2UgY2Fubm90IHRlbGwgYXQgYnVpbGQgdGltZSB3aGV0aGVyXG4gKiBgc3luY2hyb25pemVUYWJzYCB3aWxsIGJlIGVuYWJsZWQuXG4gKi8gY2xhc3MgX19QUklWQVRFX011bHRpVGFiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIGV4dGVuZHMgX19QUklWQVRFX0luZGV4ZWREYk9mZmxpbmVDb21wb25lbnRQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcihlLCB0LCAvKiBmb3JjZU93bmVyc2hpcD0gKi8gITEpLCB0aGlzLlFhID0gZSwgdGhpcy5jYWNoZVNpemVCeXRlcyA9IHQsIHRoaXMuc3luY2hyb25pemVUYWJzID0gITA7XG4gICAgfVxuICAgIGFzeW5jIGluaXRpYWxpemUoZSkge1xuICAgICAgICBhd2FpdCBzdXBlci5pbml0aWFsaXplKGUpO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5RYS5zeW5jRW5naW5lO1xuICAgICAgICB0aGlzLnNoYXJlZENsaWVudFN0YXRlIGluc3RhbmNlb2YgX19QUklWQVRFX1dlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZSAmJiAodGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zeW5jRW5naW5lID0ge1xuICAgICAgICAgICAgWnM6IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlCYXRjaFN0YXRlLmJpbmQobnVsbCwgdCksXG4gICAgICAgICAgICBYczogX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseVRhcmdldFN0YXRlLmJpbmQobnVsbCwgdCksXG4gICAgICAgICAgICBlbzogX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUFjdGl2ZVRhcmdldHNDaGFuZ2UuYmluZChudWxsLCB0KSxcbiAgICAgICAgICAgIEJpOiBfX1BSSVZBVEVfc3luY0VuZ2luZUdldEFjdGl2ZUNsaWVudHMuYmluZChudWxsLCB0KSxcbiAgICAgICAgICAgIFlzOiBfX1BSSVZBVEVfc3luY0VuZ2luZVN5bmNocm9uaXplV2l0aENoYW5nZWREb2N1bWVudHMuYmluZChudWxsLCB0KVxuICAgICAgICB9LCBhd2FpdCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLnN0YXJ0KCkpLCBcbiAgICAgICAgLy8gTk9URTogVGhpcyB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGxpc3RlbmVyLCBzbyB3ZSBtYWtlIHN1cmUgdG9cbiAgICAgICAgLy8gc2V0IGl0IGFmdGVyIGxvY2FsU3RvcmUgLyByZW1vdGVTdG9yZSBhcmUgc3RhcnRlZC5cbiAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZS5maSgoYXN5bmMgZSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UHJpbWFyeVN0YXRlKHRoaXMuUWEuc3luY0VuZ2luZSwgZSksIHRoaXMuZ2NTY2hlZHVsZXIgJiYgKGUgJiYgIXRoaXMuZ2NTY2hlZHVsZXIuc3RhcnRlZCA/IHRoaXMuZ2NTY2hlZHVsZXIuc3RhcnQoKSA6IGUgfHwgdGhpcy5nY1NjaGVkdWxlci5zdG9wKCkpLCBcbiAgICAgICAgICAgIHRoaXMuaW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyICYmIChlICYmICF0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlci5zdGFydGVkID8gdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIuc3RhcnQoKSA6IGUgfHwgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIuc3RvcCgpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZ2V0V2luZG93KCk7XG4gICAgICAgIGlmICghX19QUklWQVRFX1dlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZS5EKHQpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTklNUExFTUVOVEVELCBcIkluZGV4ZWREQiBwZXJzaXN0ZW5jZSBpcyBvbmx5IGF2YWlsYWJsZSBvbiBwbGF0Zm9ybXMgdGhhdCBzdXBwb3J0IExvY2FsU3RvcmFnZS5cIik7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhlZERiU3RvcmFnZVByZWZpeChlLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkLCBlLmRhdGFiYXNlSW5mby5wZXJzaXN0ZW5jZUtleSk7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1dlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZSh0LCBlLmFzeW5jUXVldWUsIG4sIGUuY2xpZW50SWQsIGUuaW5pdGlhbFVzZXIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbmQgd2lyZXMgdGhlIGNvbXBvbmVudHMgdGhhdCBhcmUgbmVlZGVkIHRvIGludGVyZmFjZSB3aXRoIHRoZVxuICogbmV0d29yay5cbiAqLyBjbGFzcyBPbmxpbmVDb21wb25lbnRQcm92aWRlciB7XG4gICAgYXN5bmMgaW5pdGlhbGl6ZShlLCB0KSB7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yZSB8fCAodGhpcy5sb2NhbFN0b3JlID0gZS5sb2NhbFN0b3JlLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlID0gZS5zaGFyZWRDbGllbnRTdGF0ZSwgXG4gICAgICAgIHRoaXMuZGF0YXN0b3JlID0gdGhpcy5jcmVhdGVEYXRhc3RvcmUodCksIHRoaXMucmVtb3RlU3RvcmUgPSB0aGlzLmNyZWF0ZVJlbW90ZVN0b3JlKHQpLCBcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSB0aGlzLmNyZWF0ZUV2ZW50TWFuYWdlcih0KSwgdGhpcy5zeW5jRW5naW5lID0gdGhpcy5jcmVhdGVTeW5jRW5naW5lKHQsIFxuICAgICAgICAvKiBzdGFydEFzUHJpbWFyeT0qLyAhZS5zeW5jaHJvbml6ZVRhYnMpLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLm9ubGluZVN0YXRlSGFuZGxlciA9IGUgPT4gX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseU9ubGluZVN0YXRlQ2hhbmdlKHRoaXMuc3luY0VuZ2luZSwgZSwgMSAvKiBPbmxpbmVTdGF0ZVNvdXJjZS5TaGFyZWRDbGllbnRTdGF0ZSAqLyksIFxuICAgICAgICB0aGlzLnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5oYW5kbGVDcmVkZW50aWFsQ2hhbmdlID0gX19QUklWQVRFX3N5bmNFbmdpbmVIYW5kbGVDcmVkZW50aWFsQ2hhbmdlLmJpbmQobnVsbCwgdGhpcy5zeW5jRW5naW5lKSwgXG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9yZW1vdGVTdG9yZUFwcGx5UHJpbWFyeVN0YXRlKHRoaXMucmVtb3RlU3RvcmUsIHRoaXMuc3luY0VuZ2luZS5pc1ByaW1hcnlDbGllbnQpKTtcbiAgICB9XG4gICAgY3JlYXRlRXZlbnRNYW5hZ2VyKGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdFdmVudE1hbmFnZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9FdmVudE1hbmFnZXJJbXBsO1xuICAgICAgICB9KCk7XG4gICAgfVxuICAgIGNyZWF0ZURhdGFzdG9yZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbmV3U2VyaWFsaXplcihlLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSwgbiA9IGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdDb25uZWN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1dlYkNoYW5uZWxDb25uZWN0aW9uKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBSZXR1cm4gdGhlIFBsYXRmb3JtLXNwZWNpZmljIGNvbm5lY3Rpdml0eSBtb25pdG9yLiAqLyAoZS5kYXRhYmFzZUluZm8pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX25ld0RhdGFzdG9yZShlLCB0LCBuLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9EYXRhc3RvcmVJbXBsKGUsIHQsIG4sIHIpO1xuICAgICAgICB9KGUuYXV0aENyZWRlbnRpYWxzLCBlLmFwcENoZWNrQ3JlZGVudGlhbHMsIG4sIHQpO1xuICAgIH1cbiAgICBjcmVhdGVSZW1vdGVTdG9yZShlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UmVtb3RlU3RvcmUoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUmVtb3RlU3RvcmVJbXBsKGUsIHQsIG4sIHIsIGkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBSZS1lbmFibGVzIHRoZSBuZXR3b3JrLiBJZGVtcG90ZW50LiAqLyAodGhpcy5sb2NhbFN0b3JlLCB0aGlzLmRhdGFzdG9yZSwgZS5hc3luY1F1ZXVlLCAoZSA9PiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5T25saW5lU3RhdGVDaGFuZ2UodGhpcy5zeW5jRW5naW5lLCBlLCAwIC8qIE9ubGluZVN0YXRlU291cmNlLlJlbW90ZVN0b3JlICovKSksIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdDb25uZWN0aXZpdHlNb25pdG9yKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9Ccm93c2VyQ29ubmVjdGl2aXR5TW9uaXRvci5EKCkgPyBuZXcgX19QUklWQVRFX0Jyb3dzZXJDb25uZWN0aXZpdHlNb25pdG9yIDogbmV3IF9fUFJJVkFURV9Ob29wQ29ubmVjdGl2aXR5TW9uaXRvcjtcbiAgICAgICAgfSgpKTtcbiAgICB9XG4gICAgY3JlYXRlU3luY0VuZ2luZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3U3luY0VuZ2luZShlLCB0LCBuLCBcbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNYW5hZ2VzIHN0YXRlIHN5bmNocm9uaXphdGlvbiBpbiBtdWx0aS10YWIgZW52aXJvbm1lbnRzLlxuICAgICAgICByLCBpLCBzLCBvKSB7XG4gICAgICAgICAgICBjb25zdCBfID0gbmV3IF9fUFJJVkFURV9TeW5jRW5naW5lSW1wbChlLCB0LCBuLCByLCBpLCBzKTtcbiAgICAgICAgICAgIHJldHVybiBvICYmIChfLkxhID0gITApLCBfO1xuICAgICAgICB9KHRoaXMubG9jYWxTdG9yZSwgdGhpcy5yZW1vdGVTdG9yZSwgdGhpcy5ldmVudE1hbmFnZXIsIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUsIGUuaW5pdGlhbFVzZXIsIGUubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnMsIHQpO1xuICAgIH1cbiAgICBhc3luYyB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVTaHV0ZG93bihlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiUmVtb3RlU3RvcmUgc2h1dHRpbmcgZG93bi5cIiksIHQuTV8uYWRkKDUgLyogT2ZmbGluZUNhdXNlLlNodXRkb3duICovKSwgXG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfZGlzYWJsZU5ldHdvcmtJbnRlcm5hbCh0KSwgdC5PXy5zaHV0ZG93bigpLCBcbiAgICAgICAgICAgIC8vIFNldCB0aGUgT25saW5lU3RhdGUgdG8gVW5rbm93biAocmF0aGVyIHRoYW4gT2ZmbGluZSkgdG8gYXZvaWQgcG90ZW50aWFsbHlcbiAgICAgICAgICAgIC8vIHRyaWdnZXJpbmcgc3B1cmlvdXMgbGlzdGVuZXIgZXZlbnRzIHdpdGggY2FjaGVkIGRhdGEsIGV0Yy5cbiAgICAgICAgICAgIHQuTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pO1xuICAgICAgICB9KHRoaXMucmVtb3RlU3RvcmUpLCBudWxsID09PSAoZSA9IHRoaXMuZGF0YXN0b3JlKSB8fCB2b2lkIDAgPT09IGUgfHwgZS50ZXJtaW5hdGUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEhvdyBtYW55IGJ5dGVzIHRvIHJlYWQgZWFjaCB0aW1lIHdoZW4gYFJlYWRhYmxlU3RyZWFtUmVhZGVyLnJlYWQoKWAgaXNcbiAqIGNhbGxlZC4gT25seSBhcHBsaWNhYmxlIGZvciBieXRlIHN0cmVhbXMgdGhhdCB3ZSBjb250cm9sIChlLmcuIHRob3NlIGJhY2tlZFxuICogYnkgYW4gVUludDhBcnJheSkuXG4gKi9cbi8qKlxuICogQnVpbGRzIGEgYEJ5dGVTdHJlYW1SZWFkZXJgIGZyb20gYSBVSW50OEFycmF5LlxuICogQHBhcmFtIHNvdXJjZSAtIFRoZSBkYXRhIHNvdXJjZSB0byB1c2UuXG4gKiBAcGFyYW0gYnl0ZXNQZXJSZWFkIC0gSG93IG1hbnkgYnl0ZXMgZWFjaCBgcmVhZCgpYCBmcm9tIHRoZSByZXR1cm5lZCByZWFkZXJcbiAqICAgICAgICB3aWxsIHJlYWQuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0J5dGVTdHJlYW1SZWFkZXJIZWxwZXIoZSwgdCA9IDEwMjQwKSB7XG4gICAgbGV0IG4gPSAwO1xuICAgIC8vIFRoZSBUeXBlU2NyaXB0IGRlZmluaXRpb24gZm9yIFJlYWRhYmxlU3RyZWFtUmVhZGVyIGNoYW5nZWQuIFdlIHVzZVxuICAgIC8vIGBhbnlgIGhlcmUgdG8gYWxsb3cgdGhpcyBjb2RlIHRvIGNvbXBpbGUgd2l0aCBkaWZmZXJlbnQgdmVyc2lvbnMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNDI5NzBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBhc3luYyByZWFkKCkge1xuICAgICAgICAgICAgaWYgKG4gPCBlLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZS5zbGljZShuLCBuICsgdCksXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6ICExXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbiArPSB0LCByO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkb25lOiAhMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY2FuY2VsKCkge30sXG4gICAgICAgIHJlbGVhc2VMb2NrKCkge30sXG4gICAgICAgIGNsb3NlZDogUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBPbiB3ZWIsIGEgYFJlYWRhYmxlU3RyZWFtYCBpcyB3cmFwcGVkIGFyb3VuZCBieSBhIGBCeXRlU3RyZWFtUmVhZGVyYC5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qXG4gKiBBIHdyYXBwZXIgaW1wbGVtZW50YXRpb24gb2YgT2JzZXJ2ZXI8VD4gdGhhdCB3aWxsIGRpc3BhdGNoIGV2ZW50c1xuICogYXN5bmNocm9ub3VzbHkuIFRvIGFsbG93IGltbWVkaWF0ZSBzaWxlbmNpbmcsIGEgbXV0ZSBjYWxsIGlzIGFkZGVkIHdoaWNoXG4gKiBjYXVzZXMgZXZlbnRzIHNjaGVkdWxlZCB0byBubyBsb25nZXIgYmUgcmFpc2VkLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfQXN5bmNPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gZSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlLCB3aWxsIG5vdCByYWlzZSBmdXR1cmUgZXZlbnRzLiBOZWNlc3NhcnkgdG8gZGVhbCB3aXRoXG4gICAgICAgICAqIGFzeW5jIGRldGFjaG1lbnQgb2YgbGlzdGVuZXIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm11dGVkID0gITE7XG4gICAgfVxuICAgIG5leHQoZSkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLm5leHQgJiYgdGhpcy5LYSh0aGlzLm9ic2VydmVyLm5leHQsIGUpO1xuICAgIH1cbiAgICBlcnJvcihlKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuZXJyb3IgPyB0aGlzLkthKHRoaXMub2JzZXJ2ZXIuZXJyb3IsIGUpIDogX19QUklWQVRFX2xvZ0Vycm9yKFwiVW5jYXVnaHQgRXJyb3IgaW4gc25hcHNob3QgbGlzdGVuZXI6XCIsIGUudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgICRhKCkge1xuICAgICAgICB0aGlzLm11dGVkID0gITA7XG4gICAgfVxuICAgIEthKGUsIHQpIHtcbiAgICAgICAgdGhpcy5tdXRlZCB8fCBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm11dGVkIHx8IGUodCk7XG4gICAgICAgIH0pLCAwKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50aW5nIGEgYnVuZGxlLlxuICpcbiAqIFRha2VzIGEgYnVuZGxlIHN0cmVhbSBvciBidWZmZXIsIGFuZCBwcmVzZW50cyBhYnN0cmFjdGlvbnMgdG8gcmVhZCBidW5kbGVkXG4gKiBlbGVtZW50cyBvdXQgb2YgdGhlIHVuZGVybHlpbmcgY29udGVudC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfQnVuZGxlUmVhZGVySW1wbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSByZWFkZXIgdG8gcmVhZCBmcm9tIHVuZGVybHlpbmcgYmluYXJ5IGJ1bmRsZSBkYXRhIHNvdXJjZS4gKi9cbiAgICBlLCB0KSB7XG4gICAgICAgIHRoaXMuVWEgPSBlLCB0aGlzLnNlcmlhbGl6ZXIgPSB0LCBcbiAgICAgICAgLyoqIENhY2hlZCBidW5kbGUgbWV0YWRhdGEuICovXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGJ1ZmZlciB0byBob2xkIGJ1bmRsZSBjb250ZW50LCBhY2N1bXVsYXRpbmcgaW5jb21wbGV0ZSBlbGVtZW50XG4gICAgICAgICAqIGNvbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5LCB0aGlzLldhID0gZnVuY3Rpb24gX19QUklWQVRFX25ld1RleHREZWNvZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpO1xuICAgICAgICB9KCksIFxuICAgICAgICAvLyBSZWFkIHRoZSBtZXRhZGF0YSAod2hpY2ggaXMgdGhlIGZpcnN0IGVsZW1lbnQpLlxuICAgICAgICB0aGlzLkdhKCkudGhlbigoZSA9PiB7XG4gICAgICAgICAgICBlICYmIGUuc2EoKSA/IHRoaXMubWV0YWRhdGEucmVzb2x2ZShlLmlhLm1ldGFkYXRhKSA6IHRoaXMubWV0YWRhdGEucmVqZWN0KG5ldyBFcnJvcihgVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGJ1bmRsZSBpcyBub3QgYSBtZXRhZGF0YSwgaXQgaXNcXG4gICAgICAgICAgICAgJHtKU09OLnN0cmluZ2lmeShudWxsID09IGUgPyB2b2lkIDAgOiBlLmlhKX1gKSk7XG4gICAgICAgIH0pLCAoZSA9PiB0aGlzLm1ldGFkYXRhLnJlamVjdChlKSkpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVWEuY2FuY2VsKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldE1ldGFkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YS5wcm9taXNlO1xuICAgIH1cbiAgICBhc3luYyBxYSgpIHtcbiAgICAgICAgLy8gTWFrZXMgc3VyZSBtZXRhZGF0YSBpcyByZWFkIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRNZXRhZGF0YSgpLCB0aGlzLkdhKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIGZyb20gdGhlIGhlYWQgb2YgaW50ZXJuYWwgYnVmZmVyLCBhbmQgcHVsbGluZyBtb3JlIGRhdGEgZnJvbVxuICAgICAqIHVuZGVybHlpbmcgc3RyZWFtIGlmIGEgY29tcGxldGUgZWxlbWVudCBjYW5ub3QgYmUgZm91bmQsIHVudGlsIGFuXG4gICAgICogZWxlbWVudChpbmNsdWRpbmcgdGhlIHByZWZpeGVkIGxlbmd0aCBhbmQgdGhlIEpTT04gc3RyaW5nKSBpcyBmb3VuZC5cbiAgICAgKlxuICAgICAqIE9uY2UgYSBjb21wbGV0ZSBlbGVtZW50IGlzIHJlYWQsIGl0IGlzIGRyb3BwZWQgZnJvbSBpbnRlcm5hbCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGVpdGhlciB0aGUgYnVuZGxlZCBlbGVtZW50LCBvciBudWxsIGlmIHdlIGhhdmUgcmVhY2hlZCB0aGUgZW5kIG9mXG4gICAgICogdGhlIHN0cmVhbS5cbiAgICAgKi8gICAgYXN5bmMgR2EoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLnphKCk7XG4gICAgICAgIGlmIChudWxsID09PSBlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuV2EuZGVjb2RlKGUpLCBuID0gTnVtYmVyKHQpO1xuICAgICAgICBpc05hTihuKSAmJiB0aGlzLmphKGBsZW5ndGggc3RyaW5nICgke3R9KSBpcyBub3QgdmFsaWQgbnVtYmVyYCk7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCB0aGlzLkhhKG4pO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9TaXplZEJ1bmRsZUVsZW1lbnQoSlNPTi5wYXJzZShyKSwgZS5sZW5ndGggKyBuKTtcbiAgICB9XG4gICAgLyoqIEZpcnN0IGluZGV4IG9mICd7JyBmcm9tIHRoZSB1bmRlcmx5aW5nIGJ1ZmZlci4gKi8gICAgSmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5maW5kSW5kZXgoKGUgPT4gZSA9PT0gXCJ7XCIuY2hhckNvZGVBdCgwKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGludGVybmFsIGJ1ZmZlciwgdW50aWwgdGhlIGZpcnN0ICd7JywgYW5kXG4gICAgICogcmV0dXJuIHRoZSBjb250ZW50LlxuICAgICAqXG4gICAgICogSWYgcmVhY2hlZCBlbmQgb2YgdGhlIHN0cmVhbSwgcmV0dXJucyBhIG51bGwuXG4gICAgICovICAgIGFzeW5jIHphKCkge1xuICAgICAgICBmb3IgKDt0aGlzLkphKCkgPCAwOyApIHtcbiAgICAgICAgICAgIGlmIChhd2FpdCB0aGlzLllhKCkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJyb2tlIG91dCBvZiB0aGUgbG9vcCBiZWNhdXNlIHVuZGVybHlpbmcgc3RyZWFtIGlzIGNsb3NlZCwgYW5kIHRoZXJlXG4gICAgICAgIC8vIGhhcHBlbnMgdG8gYmUgbm8gbW9yZSBkYXRhIHRvIHByb2Nlc3MuXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHRoaXMuYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLkphKCk7XG4gICAgICAgIC8vIEJyb2tlIG91dCBvZiB0aGUgbG9vcCBiZWNhdXNlIHVuZGVybHlpbmcgc3RyZWFtIGlzIGNsb3NlZCwgYnV0IHN0aWxsXG4gICAgICAgIC8vIGNhbm5vdCBmaW5kIGFuIG9wZW4gYnJhY2tldC5cbiAgICAgICAgICAgICAgICBlIDwgMCAmJiB0aGlzLmphKFwiUmVhY2hlZCB0aGUgZW5kIG9mIGJ1bmRsZSB3aGVuIGEgbGVuZ3RoIHN0cmluZyBpcyBleHBlY3RlZC5cIik7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmJ1ZmZlci5zbGljZSgwLCBlKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBpbnRlcm5hbCBidWZmZXIgdG8gZHJvcCB0aGUgcmVhZCBsZW5ndGguXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UoZSksIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIGZyb20gYSBzcGVjaWZpZWQgcG9zaXRpb24gZnJvbSB0aGUgaW50ZXJuYWwgYnVmZmVyLCBmb3IgYSBzcGVjaWZpZWRcbiAgICAgKiBudW1iZXIgb2YgYnl0ZXMsIHB1bGxpbmcgbW9yZSBkYXRhIGZyb20gdGhlIHVuZGVybHlpbmcgc3RyZWFtIGlmIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgZGVjb2RlZCBmcm9tIHRoZSByZWFkIGJ5dGVzLlxuICAgICAqLyAgICBhc3luYyBIYShlKSB7XG4gICAgICAgIGZvciAoO3RoaXMuYnVmZmVyLmxlbmd0aCA8IGU7ICkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5ZYSgpICYmIHRoaXMuamEoXCJSZWFjaGVkIHRoZSBlbmQgb2YgYnVuZGxlIHdoZW4gbW9yZSBpcyBleHBlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdCA9IHRoaXMuV2EuZGVjb2RlKHRoaXMuYnVmZmVyLnNsaWNlKDAsIGUpKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBpbnRlcm5hbCBidWZmZXIgdG8gZHJvcCB0aGUgcmVhZCBqc29uIHN0cmluZy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5zbGljZShlKSwgdDtcbiAgICB9XG4gICAgamEoZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIHRocm93IHRoaXMuVWEuY2FuY2VsKCksIG5ldyBFcnJvcihgSW52YWxpZCBidW5kbGUgZm9ybWF0OiAke2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1bGxzIG1vcmUgZGF0YSBmcm9tIHVuZGVybHlpbmcgc3RyZWFtIHRvIGludGVybmFsIGJ1ZmZlci5cbiAgICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHN0cmVhbSBpcyBmaW5pc2hlZC5cbiAgICAgKi8gICAgYXN5bmMgWWEoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLlVhLnJlYWQoKTtcbiAgICAgICAgaWYgKCFlLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlci5sZW5ndGggKyBlLnZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICB0LnNldCh0aGlzLmJ1ZmZlciksIHQuc2V0KGUudmFsdWUsIHRoaXMuYnVmZmVyLmxlbmd0aCksIHRoaXMuYnVmZmVyID0gdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZS5kb25lO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSW50ZXJuYWwgdHJhbnNhY3Rpb24gb2JqZWN0IHJlc3BvbnNpYmxlIGZvciBhY2N1bXVsYXRpbmcgdGhlIG11dGF0aW9ucyB0b1xuICogcGVyZm9ybSBhbmQgdGhlIGJhc2UgdmVyc2lvbnMgZm9yIGFueSBkb2N1bWVudHMgcmVhZC5cbiAqL1xuY2xhc3MgVHJhbnNhY3Rpb24kMiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLmRhdGFzdG9yZSA9IGUsIFxuICAgICAgICAvLyBUaGUgdmVyc2lvbiBvZiBlYWNoIGRvY3VtZW50IHRoYXQgd2FzIHJlYWQgZHVyaW5nIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgICAgIHRoaXMucmVhZFZlcnNpb25zID0gbmV3IE1hcCwgdGhpcy5tdXRhdGlvbnMgPSBbXSwgdGhpcy5jb21taXR0ZWQgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRlZmVycmVkIHVzYWdlIGVycm9yIHRoYXQgb2NjdXJyZWQgcHJldmlvdXNseSBpbiB0aGlzIHRyYW5zYWN0aW9uIHRoYXRcbiAgICAgICAgICogd2lsbCBjYXVzZSB0aGUgdHJhbnNhY3Rpb24gdG8gZmFpbCBvbmNlIGl0IGFjdHVhbGx5IGNvbW1pdHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbkVycm9yID0gbnVsbCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgb2YgZG9jdW1lbnRzIHRoYXQgaGF2ZSBiZWVuIHdyaXR0ZW4gaW4gdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSB3cml0ZSB0byB0aGUgc2FtZSBrZXkgaW4gYSB0cmFuc2FjdGlvbiwgYW55XG4gICAgICAgICAqIHdyaXRlcyBhZnRlciB0aGUgZmlyc3QgYXJlIGhhbmRsZWQgZGlmZmVyZW50bHkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyaXR0ZW5Eb2NzID0gbmV3IFNldDtcbiAgICB9XG4gICAgYXN5bmMgbG9va3VwKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCksIHRoaXMubXV0YXRpb25zLmxlbmd0aCA+IDApIHRocm93IHRoaXMubGFzdFRyYW5zYWN0aW9uRXJyb3IgPSBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkZpcmVzdG9yZSB0cmFuc2FjdGlvbnMgcmVxdWlyZSBhbGwgcmVhZHMgdG8gYmUgZXhlY3V0ZWQgYmVmb3JlIGFsbCB3cml0ZXMuXCIpLCBcbiAgICAgICAgdGhpcy5sYXN0VHJhbnNhY3Rpb25FcnJvcjtcbiAgICAgICAgY29uc3QgdCA9IGF3YWl0IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9pbnZva2VCYXRjaEdldERvY3VtZW50c1JwYyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudHM6IHQubWFwKChlID0+IF9fUFJJVkFURV90b05hbWUobi5zZXJpYWxpemVyLCBlKSkpXG4gICAgICAgICAgICB9LCBpID0gYXdhaXQgbi54byhcIkJhdGNoR2V0RG9jdW1lbnRzXCIsIG4uc2VyaWFsaXplci5kYXRhYmFzZUlkLCBSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCksIHIsIHQubGVuZ3RoKSwgcyA9IG5ldyBNYXA7XG4gICAgICAgICAgICBpLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZnJvbUJhdGNoR2V0RG9jdW1lbnRzUmVzcG9uc2Uobi5zZXJpYWxpemVyLCBlKTtcbiAgICAgICAgICAgICAgICBzLnNldCh0LmtleS50b1N0cmluZygpLCB0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IG8gPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0LmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBzLmdldChlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhdCksIG8ucHVzaCh0KTtcbiAgICAgICAgICAgIH0pKSwgbztcbiAgICAgICAgfSh0aGlzLmRhdGFzdG9yZSwgZSk7XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKGUgPT4gdGhpcy5yZWNvcmRWZXJzaW9uKGUpKSksIHQ7XG4gICAgfVxuICAgIHNldChlLCB0KSB7XG4gICAgICAgIHRoaXMud3JpdGUodC50b011dGF0aW9uKGUsIHRoaXMucHJlY29uZGl0aW9uKGUpKSksIHRoaXMud3JpdHRlbkRvY3MuYWRkKGUudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHVwZGF0ZShlLCB0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKHQudG9NdXRhdGlvbihlLCB0aGlzLnByZWNvbmRpdGlvbkZvclVwZGF0ZShlKSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbkVycm9yID0gZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyaXR0ZW5Eb2NzLmFkZChlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBkZWxldGUoZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5ldyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24oZSwgdGhpcy5wcmVjb25kaXRpb24oZSkpKSwgdGhpcy53cml0dGVuRG9jcy5hZGQoZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgYXN5bmMgY29tbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSwgdGhpcy5sYXN0VHJhbnNhY3Rpb25FcnJvcikgdGhyb3cgdGhpcy5sYXN0VHJhbnNhY3Rpb25FcnJvcjtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMucmVhZFZlcnNpb25zO1xuICAgICAgICAvLyBGb3IgZWFjaCBtdXRhdGlvbiwgbm90ZSB0aGF0IHRoZSBkb2Mgd2FzIHdyaXR0ZW4uXG4gICAgICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnMuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICBlLmRlbGV0ZSh0LmtleS50b1N0cmluZygpKTtcbiAgICAgICAgfSkpLCBcbiAgICAgICAgLy8gRm9yIGVhY2ggZG9jdW1lbnQgdGhhdCB3YXMgcmVhZCBidXQgbm90IHdyaXR0ZW4gdG8sIHdlIHdhbnQgdG8gcGVyZm9ybVxuICAgICAgICAvLyBhIGB2ZXJpZnlgIG9wZXJhdGlvbi5cbiAgICAgICAgZS5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IERvY3VtZW50S2V5LmZyb21QYXRoKHQpO1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnMucHVzaChuZXcgX19QUklWQVRFX1ZlcmlmeU11dGF0aW9uKG4sIHRoaXMucHJlY29uZGl0aW9uKG4pKSk7XG4gICAgICAgIH0pKSwgYXdhaXQgYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2ludm9rZUNvbW1pdFJwYyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IHtcbiAgICAgICAgICAgICAgICB3cml0ZXM6IHQubWFwKChlID0+IHRvTXV0YXRpb24obi5zZXJpYWxpemVyLCBlKSkpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXdhaXQgbi5DbyhcIkNvbW1pdFwiLCBuLnNlcmlhbGl6ZXIuZGF0YWJhc2VJZCwgUmVzb3VyY2VQYXRoLmVtcHR5UGF0aCgpLCByKTtcbiAgICAgICAgfSh0aGlzLmRhdGFzdG9yZSwgdGhpcy5tdXRhdGlvbnMpLCB0aGlzLmNvbW1pdHRlZCA9ICEwO1xuICAgIH1cbiAgICByZWNvcmRWZXJzaW9uKGUpIHtcbiAgICAgICAgbGV0IHQ7XG4gICAgICAgIGlmIChlLmlzRm91bmREb2N1bWVudCgpKSB0ID0gZS52ZXJzaW9uOyBlbHNlIHtcbiAgICAgICAgICAgIGlmICghZS5pc05vRG9jdW1lbnQoKSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICAgICAgLy8gUmVwcmVzZW50IGEgZGVsZXRlZCBkb2MgdXNpbmcgU25hcHNob3RWZXJzaW9uLm1pbigpLlxuICAgICAgICAgICAgdCA9IFNuYXBzaG90VmVyc2lvbi5taW4oKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gdGhpcy5yZWFkVmVyc2lvbnMuZ2V0KGUua2V5LnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgaWYgKCF0LmlzRXF1YWwobikpIFxuICAgICAgICAgICAgLy8gVGhpcyB0cmFuc2FjdGlvbiB3aWxsIGZhaWwgbm8gbWF0dGVyIHdoYXQuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5BQk9SVEVELCBcIkRvY3VtZW50IHZlcnNpb24gY2hhbmdlZCBiZXR3ZWVuIHR3byByZWFkcy5cIik7XG4gICAgICAgIH0gZWxzZSB0aGlzLnJlYWRWZXJzaW9ucy5zZXQoZS5rZXkudG9TdHJpbmcoKSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgdGhpcyBkb2N1bWVudCB3aGVuIGl0IHdhcyByZWFkIGluIHRoaXMgdHJhbnNhY3Rpb24sXG4gICAgICogYXMgYSBwcmVjb25kaXRpb24sIG9yIG5vIHByZWNvbmRpdGlvbiBpZiBpdCB3YXMgbm90IHJlYWQuXG4gICAgICovICAgIHByZWNvbmRpdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnJlYWRWZXJzaW9ucy5nZXQoZS50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLndyaXR0ZW5Eb2NzLmhhcyhlLnRvU3RyaW5nKCkpICYmIHQgPyB0LmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSA/IFByZWNvbmRpdGlvbi5leGlzdHMoITEpIDogUHJlY29uZGl0aW9uLnVwZGF0ZVRpbWUodCkgOiBQcmVjb25kaXRpb24ubm9uZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcmVjb25kaXRpb24gZm9yIGEgZG9jdW1lbnQgaWYgdGhlIG9wZXJhdGlvbiBpcyBhbiB1cGRhdGUuXG4gICAgICovICAgIHByZWNvbmRpdGlvbkZvclVwZGF0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnJlYWRWZXJzaW9ucy5nZXQoZS50b1N0cmluZygpKTtcbiAgICAgICAgLy8gVGhlIGZpcnN0IHRpbWUgYSBkb2N1bWVudCBpcyB3cml0dGVuLCB3ZSB3YW50IHRvIHRha2UgaW50byBhY2NvdW50IHRoZVxuICAgICAgICAvLyByZWFkIHRpbWUgYW5kIGV4aXN0ZW5jZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy53cml0dGVuRG9jcy5oYXMoZS50b1N0cmluZygpKSAmJiB0KSB7XG4gICAgICAgICAgICBpZiAodC5pc0VxdWFsKFNuYXBzaG90VmVyc2lvbi5taW4oKSkpIFxuICAgICAgICAgICAgLy8gVGhlIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3QsIHNvIGZhaWwgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgLy8gVGhpcyBoYXMgdG8gYmUgdmFsaWRhdGVkIGxvY2FsbHkgYmVjYXVzZSB5b3UgY2FuJ3Qgc2VuZCBhXG4gICAgICAgICAgICAvLyBwcmVjb25kaXRpb24gdGhhdCBhIGRvY3VtZW50IGRvZXMgbm90IGV4aXN0IHdpdGhvdXQgY2hhbmdpbmcgdGhlXG4gICAgICAgICAgICAvLyBzZW1hbnRpY3Mgb2YgdGhlIGJhY2tlbmQgd3JpdGUgdG8gYmUgYW4gaW5zZXJ0LiBUaGlzIGlzIHRoZSByZXZlcnNlXG4gICAgICAgICAgICAvLyBvZiB3aGF0IHdlIHdhbnQsIHNpbmNlIHdlIHdhbnQgdG8gYXNzZXJ0IHRoYXQgdGhlIGRvY3VtZW50IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGV4aXN0IGJ1dCB0aGVuIHNlbmQgdGhlIHVwZGF0ZSBhbmQgaGF2ZSBpdCBmYWlsLiBTaW5jZSB3ZSBjYW4ndFxuICAgICAgICAgICAgLy8gZXhwcmVzcyB0aGF0IHRvIHRoZSBiYWNrZW5kLCB3ZSBoYXZlIHRvIHZhbGlkYXRlIGxvY2FsbHkuXG4gICAgICAgICAgICAvLyBOb3RlOiB0aGlzIGNhbiBjaGFuZ2Ugb25jZSB3ZSBjYW4gc2VuZCBzZXBhcmF0ZSB2ZXJpZnkgd3JpdGVzIGluIHRoZVxuICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkNhbid0IHVwZGF0ZSBhIGRvY3VtZW50IHRoYXQgZG9lc24ndCBleGlzdC5cIik7XG4gICAgICAgICAgICAvLyBEb2N1bWVudCBleGlzdHMsIGJhc2UgcHJlY29uZGl0aW9uIG9uIGRvY3VtZW50IHVwZGF0ZSB0aW1lLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByZWNvbmRpdGlvbi51cGRhdGVUaW1lKHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvY3VtZW50IHdhcyBub3QgcmVhZCwgc28gd2UganVzdCB1c2UgdGhlIHByZWNvbmRpdGlvbnMgZm9yIGEgYmxpbmRcbiAgICAgICAgLy8gdXBkYXRlLlxuICAgICAgICByZXR1cm4gUHJlY29uZGl0aW9uLmV4aXN0cyghMCk7XG4gICAgfVxuICAgIHdyaXRlKGUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSwgdGhpcy5tdXRhdGlvbnMucHVzaChlKTtcbiAgICB9XG4gICAgZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCkge31cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogVHJhbnNhY3Rpb25SdW5uZXIgZW5jYXBzdWxhdGVzIHRoZSBsb2dpYyBuZWVkZWQgdG8gcnVuIGFuZCByZXRyeSB0cmFuc2FjdGlvbnNcbiAqIHdpdGggYmFja29mZi5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfVHJhbnNhY3Rpb25SdW5uZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgdGhpcy5hc3luY1F1ZXVlID0gZSwgdGhpcy5kYXRhc3RvcmUgPSB0LCB0aGlzLm9wdGlvbnMgPSBuLCB0aGlzLnVwZGF0ZUZ1bmN0aW9uID0gciwgXG4gICAgICAgIHRoaXMuZGVmZXJyZWQgPSBpLCB0aGlzLlphID0gbi5tYXhBdHRlbXB0cywgdGhpcy5ZbyA9IG5ldyBfX1BSSVZBVEVfRXhwb25lbnRpYWxCYWNrb2ZmKHRoaXMuYXN5bmNRdWV1ZSwgXCJ0cmFuc2FjdGlvbl9yZXRyeVwiIC8qIFRpbWVySWQuVHJhbnNhY3Rpb25SZXRyeSAqLyk7XG4gICAgfVxuICAgIC8qKiBSdW5zIHRoZSB0cmFuc2FjdGlvbiBhbmQgc2V0cyB0aGUgcmVzdWx0IG9uIGRlZmVycmVkLiAqLyAgICBYYSgpIHtcbiAgICAgICAgdGhpcy5aYSAtPSAxLCB0aGlzLmV1KCk7XG4gICAgfVxuICAgIGV1KCkge1xuICAgICAgICB0aGlzLllvLiRvKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gbmV3IFRyYW5zYWN0aW9uJDIodGhpcy5kYXRhc3RvcmUpLCB0ID0gdGhpcy50dShlKTtcbiAgICAgICAgICAgIHQgJiYgdC50aGVuKCh0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gZS5jb21taXQoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmZXJyZWQucmVzb2x2ZSh0KTtcbiAgICAgICAgICAgICAgICB9KSkuY2F0Y2goKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm51KGUpO1xuICAgICAgICAgICAgICAgIH0pKSkpO1xuICAgICAgICAgICAgfSkpLmNhdGNoKChlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm51KGUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHR1KGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnVwZGF0ZUZ1bmN0aW9uKGUpO1xuICAgICAgICAgICAgcmV0dXJuICFfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQodCkgJiYgdC5jYXRjaCAmJiB0LnRoZW4gPyB0IDogKHRoaXMuZGVmZXJyZWQucmVqZWN0KEVycm9yKFwiVHJhbnNhY3Rpb24gY2FsbGJhY2sgbXVzdCByZXR1cm4gYSBQcm9taXNlXCIpKSwgXG4gICAgICAgICAgICBudWxsKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gRG8gbm90IHJldHJ5IGVycm9ycyB0aHJvd24gYnkgdXNlciBwcm92aWRlZCB1cGRhdGVGdW5jdGlvbi5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkLnJlamVjdChlKSwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBudShlKSB7XG4gICAgICAgIHRoaXMuWmEgPiAwICYmIHRoaXMucnUoZSkgPyAodGhpcy5aYSAtPSAxLCB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gKHRoaXMuZXUoKSwgXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpKSkpKSA6IHRoaXMuZGVmZXJyZWQucmVqZWN0KGUpO1xuICAgIH1cbiAgICBydShlKSB7XG4gICAgICAgIGlmIChcIkZpcmViYXNlRXJyb3JcIiA9PT0gZS5uYW1lKSB7XG4gICAgICAgICAgICAvLyBJbiB0cmFuc2FjdGlvbnMsIHRoZSBiYWNrZW5kIHdpbGwgZmFpbCBvdXRkYXRlZCByZWFkcyB3aXRoIEZBSUxFRF9QUkVDT05ESVRJT04gYW5kXG4gICAgICAgICAgICAvLyBub24tbWF0Y2hpbmcgZG9jdW1lbnQgdmVyc2lvbnMgd2l0aCBBQk9SVEVELiBUaGVzZSBlcnJvcnMgc2hvdWxkIGJlIHJldHJpZWQuXG4gICAgICAgICAgICBjb25zdCB0ID0gZS5jb2RlO1xuICAgICAgICAgICAgcmV0dXJuIFwiYWJvcnRlZFwiID09PSB0IHx8IFwiZmFpbGVkLXByZWNvbmRpdGlvblwiID09PSB0IHx8IFwiYWxyZWFkeS1leGlzdHNcIiA9PT0gdCB8fCAhX19QUklWQVRFX2lzUGVybWFuZW50RXJyb3IodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRmlyZXN0b3JlQ2xpZW50IGlzIGEgdG9wLWxldmVsIGNsYXNzIHRoYXQgY29uc3RydWN0cyBhbmQgb3ducyBhbGwgb2YgdGhlIC8vXG4gKiBwaWVjZXMgb2YgdGhlIGNsaWVudCBTREsgYXJjaGl0ZWN0dXJlLiBJdCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhlIC8vXG4gKiBhc3luYyBxdWV1ZSB0aGF0IGlzIHNoYXJlZCBieSBhbGwgb2YgdGhlIG90aGVyIGNvbXBvbmVudHMgaW4gdGhlIHN5c3RlbS4gLy9cbiAqL1xuY2xhc3MgRmlyZXN0b3JlQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBcbiAgICAvKipcbiAgICAgKiBBc3luY2hyb25vdXMgcXVldWUgcmVzcG9uc2libGUgZm9yIGFsbCBvZiBvdXIgaW50ZXJuYWwgcHJvY2Vzc2luZy4gV2hlblxuICAgICAqIHdlIGdldCBpbmNvbWluZyB3b3JrIGZyb20gdGhlIHVzZXIgKHZpYSBwdWJsaWMgQVBJKSBvciB0aGUgbmV0d29ya1xuICAgICAqIChpbmNvbWluZyBHUlBDIG1lc3NhZ2VzKSwgd2Ugc2hvdWxkIGFsd2F5cyBzY2hlZHVsZSBvbnRvIHRoaXMgcXVldWUuXG4gICAgICogVGhpcyBlbnN1cmVzIGFsbCBvZiBvdXIgd29yayBpcyBwcm9wZXJseSBzZXJpYWxpemVkIChlLmcuIHdlIGRvbid0XG4gICAgICogc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBvcGVyYXRpb24gd2hpbGUgdGhlIHByZXZpb3VzIG9uZSBpcyB3YWl0aW5nIGZvclxuICAgICAqIGFuIGFzeW5jIEkvTyB0byBjb21wbGV0ZSkuXG4gICAgICovXG4gICAgbiwgcikge1xuICAgICAgICB0aGlzLmF1dGhDcmVkZW50aWFscyA9IGUsIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscyA9IHQsIHRoaXMuYXN5bmNRdWV1ZSA9IG4sIHRoaXMuZGF0YWJhc2VJbmZvID0gciwgXG4gICAgICAgIHRoaXMudXNlciA9IFVzZXIuVU5BVVRIRU5USUNBVEVELCB0aGlzLmNsaWVudElkID0gX19QUklWQVRFX0F1dG9JZC5uZXdJZCgpLCB0aGlzLmF1dGhDcmVkZW50aWFsTGlzdGVuZXIgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSwgXG4gICAgICAgIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFsTGlzdGVuZXIgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSwgdGhpcy5hdXRoQ3JlZGVudGlhbHMuc3RhcnQobiwgKGFzeW5jIGUgPT4ge1xuICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiUmVjZWl2ZWQgdXNlcj1cIiwgZS51aWQpLCBhd2FpdCB0aGlzLmF1dGhDcmVkZW50aWFsTGlzdGVuZXIoZSksIFxuICAgICAgICAgICAgdGhpcy51c2VyID0gZTtcbiAgICAgICAgfSkpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuc3RhcnQobiwgKGUgPT4gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmVzdG9yZUNsaWVudFwiLCBcIlJlY2VpdmVkIG5ldyBhcHAgY2hlY2sgdG9rZW49XCIsIGUpLCBcbiAgICAgICAgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxMaXN0ZW5lcihlLCB0aGlzLnVzZXIpKSkpO1xuICAgIH1cbiAgICBnZXQgY29uZmlndXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzeW5jUXVldWU6IHRoaXMuYXN5bmNRdWV1ZSxcbiAgICAgICAgICAgIGRhdGFiYXNlSW5mbzogdGhpcy5kYXRhYmFzZUluZm8sXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jbGllbnRJZCxcbiAgICAgICAgICAgIGF1dGhDcmVkZW50aWFsczogdGhpcy5hdXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICBhcHBDaGVja0NyZWRlbnRpYWxzOiB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICBpbml0aWFsVXNlcjogdGhpcy51c2VyLFxuICAgICAgICAgICAgbWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM6IDEwMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoZSkge1xuICAgICAgICB0aGlzLmF1dGhDcmVkZW50aWFsTGlzdGVuZXIgPSBlO1xuICAgIH1cbiAgICBzZXRBcHBDaGVja1Rva2VuQ2hhbmdlTGlzdGVuZXIoZSkge1xuICAgICAgICB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbExpc3RlbmVyID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoYXQgdGhlIGNsaWVudCBoYXMgbm90IGJlZW4gdGVybWluYXRlZC4gRW5zdXJlcyB0aGF0IG90aGVyIG1ldGhvZHMgb24gLy9cbiAgICAgKiB0aGlzIGNsYXNzIGNhbm5vdCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGNsaWVudCBpcyB0ZXJtaW5hdGVkLiAvL1xuICAgICAqLyAgICB2ZXJpZnlOb3RUZXJtaW5hdGVkKCkge1xuICAgICAgICBpZiAodGhpcy5hc3luY1F1ZXVlLmlzU2h1dHRpbmdEb3duKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIlRoZSBjbGllbnQgaGFzIGFscmVhZHkgYmVlbiB0ZXJtaW5hdGVkLlwiKTtcbiAgICB9XG4gICAgdGVybWluYXRlKCkge1xuICAgICAgICB0aGlzLmFzeW5jUXVldWUuZW50ZXJSZXN0cmljdGVkTW9kZSgpO1xuICAgICAgICBjb25zdCBlID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbmxpbmVDb21wb25lbnRzICYmIGF3YWl0IHRoaXMuX29ubGluZUNvbXBvbmVudHMudGVybWluYXRlKCksIHRoaXMuX29mZmxpbmVDb21wb25lbnRzICYmIGF3YWl0IHRoaXMuX29mZmxpbmVDb21wb25lbnRzLnRlcm1pbmF0ZSgpLCBcbiAgICAgICAgICAgICAgICAvLyBUaGUgY3JlZGVudGlhbHMgcHJvdmlkZXIgbXVzdCBiZSB0ZXJtaW5hdGVkIGFmdGVyIHNodXR0aW5nIGRvd24gdGhlXG4gICAgICAgICAgICAgICAgLy8gUmVtb3RlU3RvcmUgYXMgaXQgd2lsbCBwcmV2ZW50IHRoZSBSZW1vdGVTdG9yZSBmcm9tIHJldHJpZXZpbmcgYXV0aFxuICAgICAgICAgICAgICAgIC8vIHRva2Vucy5cbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhDcmVkZW50aWFscy5zaHV0ZG93bigpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuc2h1dGRvd24oKSwgZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKHQsIFwiRmFpbGVkIHRvIHNodXRkb3duIHBlcnNpc3RlbmNlXCIpO1xuICAgICAgICAgICAgICAgIGUucmVqZWN0KG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIGUucHJvbWlzZTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zZXRPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgdCkge1xuICAgIGUuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmVzdG9yZUNsaWVudFwiLCBcIkluaXRpYWxpemluZyBPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXJcIik7XG4gICAgY29uc3QgbiA9IGUuY29uZmlndXJhdGlvbjtcbiAgICBhd2FpdCB0LmluaXRpYWxpemUobik7XG4gICAgbGV0IHIgPSBuLmluaXRpYWxVc2VyO1xuICAgIGUuc2V0Q3JlZGVudGlhbENoYW5nZUxpc3RlbmVyKChhc3luYyBlID0+IHtcbiAgICAgICAgci5pc0VxdWFsKGUpIHx8IChhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUhhbmRsZVVzZXJDaGFuZ2UodC5sb2NhbFN0b3JlLCBlKSwgciA9IGUpO1xuICAgIH0pKSwgXG4gICAgLy8gV2hlbiBhIHVzZXIgY2FsbHMgY2xlYXJQZXJzaXN0ZW5jZSgpIGluIG9uZSBjbGllbnQsIGFsbCBvdGhlciBjbGllbnRzXG4gICAgLy8gbmVlZCB0byBiZSB0ZXJtaW5hdGVkIHRvIGFsbG93IHRoZSBkZWxldGUgdG8gc3VjY2VlZC5cbiAgICB0LnBlcnNpc3RlbmNlLnNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKCgoKSA9PiBlLnRlcm1pbmF0ZSgpKSksIGUuX29mZmxpbmVDb21wb25lbnRzID0gdDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3NldE9ubGluZUNvbXBvbmVudFByb3ZpZGVyKGUsIHQpIHtcbiAgICBlLmFzeW5jUXVldWUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpO1xuICAgIGNvbnN0IG4gPSBhd2FpdCBfX1BSSVZBVEVfZW5zdXJlT2ZmbGluZUNvbXBvbmVudHMoZSk7XG4gICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiSW5pdGlhbGl6aW5nIE9ubGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLCBhd2FpdCB0LmluaXRpYWxpemUobiwgZS5jb25maWd1cmF0aW9uKSwgXG4gICAgLy8gVGhlIENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lciBvZiB0aGUgb25saW5lIGNvbXBvbmVudCBwcm92aWRlciB0YWtlc1xuICAgIC8vIHByZWNlZGVuY2Ugb3ZlciB0aGUgb2ZmbGluZSBjb21wb25lbnQgcHJvdmlkZXIuXG4gICAgZS5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoKGUgPT4gX19QUklWQVRFX3JlbW90ZVN0b3JlSGFuZGxlQ3JlZGVudGlhbENoYW5nZSh0LnJlbW90ZVN0b3JlLCBlKSkpLCBcbiAgICBlLnNldEFwcENoZWNrVG9rZW5DaGFuZ2VMaXN0ZW5lcigoKGUsIG4pID0+IF9fUFJJVkFURV9yZW1vdGVTdG9yZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UodC5yZW1vdGVTdG9yZSwgbikpKSwgXG4gICAgZS5fb25saW5lQ29tcG9uZW50cyA9IHQ7XG59XG5cbi8qKlxuICogRGVjaWRlcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBlcnJvciBhbGxvd3MgdXMgdG8gZ3JhY2VmdWxseSBkaXNhYmxlXG4gKiBwZXJzaXN0ZW5jZSAoYXMgb3Bwb3NlZCB0byBjcmFzaGluZyB0aGUgY2xpZW50KS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY2FuRmFsbGJhY2tGcm9tSW5kZXhlZERiRXJyb3IoZSkge1xuICAgIHJldHVybiBcIkZpcmViYXNlRXJyb3JcIiA9PT0gZS5uYW1lID8gZS5jb2RlID09PSBDLkZBSUxFRF9QUkVDT05ESVRJT04gfHwgZS5jb2RlID09PSBDLlVOSU1QTEVNRU5URUQgOiAhKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIERPTUV4Y2VwdGlvbiAmJiBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSB8fCAoXG4gICAgLy8gV2hlbiB0aGUgYnJvd3NlciBpcyBvdXQgb2YgcXVvdGEgd2UgY291bGQgZ2V0IGVpdGhlciBxdW90YSBleGNlZWRlZFxuICAgIC8vIG9yIGFuIGFib3J0ZWQgZXJyb3IgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGVycm9yIGhhcHBlbmVkIGR1cmluZ1xuICAgIC8vIHNjaGVtYSBtaWdyYXRpb24uXG4gICAgMjIgPT09IGUuY29kZSB8fCAyMCA9PT0gZS5jb2RlIHx8IFxuICAgIC8vIEZpcmVmb3ggUHJpdmF0ZSBCcm93c2luZyBtb2RlIGRpc2FibGVzIEluZGV4ZWREYiBhbmQgcmV0dXJuc1xuICAgIC8vIElOVkFMSURfU1RBVEUgZm9yIGFueSB1c2FnZS5cbiAgICAxMSA9PT0gZS5jb2RlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2Vuc3VyZU9mZmxpbmVDb21wb25lbnRzKGUpIHtcbiAgICBpZiAoIWUuX29mZmxpbmVDb21wb25lbnRzKSBpZiAoZS5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlcikge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJVc2luZyB1c2VyIHByb3ZpZGVkIE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9zZXRPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgZS5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlci5fb2ZmbGluZSk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0O1xuICAgICAgICAgICAgaWYgKCFfX1BSSVZBVEVfY2FuRmFsbGJhY2tGcm9tSW5kZXhlZERiRXJyb3IobikpIHRocm93IG47XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nV2FybihcIkVycm9yIHVzaW5nIHVzZXIgcHJvdmlkZWQgY2FjaGUuIEZhbGxpbmcgYmFjayB0byBtZW1vcnkgY2FjaGU6IFwiICsgbiksIFxuICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlcihlLCBuZXcgTWVtb3J5T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJVc2luZyBkZWZhdWx0IE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKSwgXG4gICAgYXdhaXQgX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlcihlLCBuZXcgTWVtb3J5T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKTtcbiAgICByZXR1cm4gZS5fb2ZmbGluZUNvbXBvbmVudHM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9lbnN1cmVPbmxpbmVDb21wb25lbnRzKGUpIHtcbiAgICByZXR1cm4gZS5fb25saW5lQ29tcG9uZW50cyB8fCAoZS5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlciA/IChfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJVc2luZyB1c2VyIHByb3ZpZGVkIE9ubGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLCBcbiAgICBhd2FpdCBfX1BSSVZBVEVfc2V0T25saW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgZS5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlci5fb25saW5lKSkgOiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiVXNpbmcgZGVmYXVsdCBPbmxpbmVDb21wb25lbnRQcm92aWRlclwiKSwgXG4gICAgYXdhaXQgX19QUklWQVRFX3NldE9ubGluZUNvbXBvbmVudFByb3ZpZGVyKGUsIG5ldyBPbmxpbmVDb21wb25lbnRQcm92aWRlcikpKSwgZS5fb25saW5lQ29tcG9uZW50cztcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2dldFBlcnNpc3RlbmNlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2Vuc3VyZU9mZmxpbmVDb21wb25lbnRzKGUpLnRoZW4oKGUgPT4gZS5wZXJzaXN0ZW5jZSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0TG9jYWxTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9lbnN1cmVPZmZsaW5lQ29tcG9uZW50cyhlKS50aGVuKChlID0+IGUubG9jYWxTdG9yZSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0UmVtb3RlU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyhlKS50aGVuKChlID0+IGUucmVtb3RlU3RvcmUpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2dldFN5bmNFbmdpbmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyhlKS50aGVuKChlID0+IGUuc3luY0VuZ2luZSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0RGF0YXN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2Vuc3VyZU9ubGluZUNvbXBvbmVudHMoZSkudGhlbigoZSA9PiBlLmRhdGFzdG9yZSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZ2V0RXZlbnRNYW5hZ2VyKGUpIHtcbiAgICBjb25zdCB0ID0gYXdhaXQgX19QUklWQVRFX2Vuc3VyZU9ubGluZUNvbXBvbmVudHMoZSksIG4gPSB0LmV2ZW50TWFuYWdlcjtcbiAgICByZXR1cm4gbi5vbkxpc3RlbiA9IF9fUFJJVkFURV9zeW5jRW5naW5lTGlzdGVuLmJpbmQobnVsbCwgdC5zeW5jRW5naW5lKSwgbi5vblVubGlzdGVuID0gX19QUklWQVRFX3N5bmNFbmdpbmVVbmxpc3Rlbi5iaW5kKG51bGwsIHQuc3luY0VuZ2luZSksIFxuICAgIG4ub25GaXJzdFJlbW90ZVN0b3JlTGlzdGVuID0gX19QUklWQVRFX3RyaWdnZXJSZW1vdGVTdG9yZUxpc3Rlbi5iaW5kKG51bGwsIHQuc3luY0VuZ2luZSksIFxuICAgIG4ub25MYXN0UmVtb3RlU3RvcmVVbmxpc3RlbiA9IF9fUFJJVkFURV90cmlnZ2VyUmVtb3RlU3RvcmVVbmxpc3Rlbi5iaW5kKG51bGwsIHQuc3luY0VuZ2luZSksIFxuICAgIG47XG59XG5cbi8qKiBFbmFibGVzIHRoZSBuZXR3b3JrIGNvbm5lY3Rpb24gYW5kIHJlLWVucXVldWVzIGFsbCBwZW5kaW5nIG9wZXJhdGlvbnMuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRFbmFibGVOZXR3b3JrKGUpIHtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWUoKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IGF3YWl0IF9fUFJJVkFURV9nZXRQZXJzaXN0ZW5jZShlKSwgbiA9IGF3YWl0IF9fUFJJVkFURV9nZXRSZW1vdGVTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIHQuc2V0TmV0d29ya0VuYWJsZWQoITApLCBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVFbmFibGVOZXR3b3JrKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgcmV0dXJuIHQuTV8uZGVsZXRlKDAgLyogT2ZmbGluZUNhdXNlLlVzZXJEaXNhYmxlZCAqLyksIF9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwodCk7XG4gICAgICAgIH0obik7XG4gICAgfSkpO1xufVxuXG4vKiogRGlzYWJsZXMgdGhlIG5ldHdvcmsgY29ubmVjdGlvbi4gUGVuZGluZyBvcGVyYXRpb25zIHdpbGwgbm90IGNvbXBsZXRlLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGlzYWJsZU5ldHdvcmsoZSkge1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gYXdhaXQgX19QUklWQVRFX2dldFBlcnNpc3RlbmNlKGUpLCBuID0gYXdhaXQgX19QUklWQVRFX2dldFJlbW90ZVN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gdC5zZXROZXR3b3JrRW5hYmxlZCghMSksIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdGVTdG9yZURpc2FibGVOZXR3b3JrKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgdC5NXy5hZGQoMCAvKiBPZmZsaW5lQ2F1c2UuVXNlckRpc2FibGVkICovKSwgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwodCksIFxuICAgICAgICAgICAgLy8gU2V0IHRoZSBPbmxpbmVTdGF0ZSB0byBPZmZsaW5lIHNvIGdldCgpcyByZXR1cm4gZnJvbSBjYWNoZSwgZXRjLlxuICAgICAgICAgICAgdC5OXy5zZXQoXCJPZmZsaW5lXCIgLyogT25saW5lU3RhdGUuT2ZmbGluZSAqLyk7XG4gICAgICAgIH0obik7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgd3JpdGVzIHRoYXQgd2VyZSBwZW5kaW5nIGF0IHRoZSB0aW1lXG4gKiB0aGlzIG1ldGhvZCB3YXMgY2FsbGVkIHJlY2VpdmVkIHNlcnZlciBhY2tub3dsZWRnZW1lbnQuIEFuIGFja25vd2xlZGdlbWVudFxuICogY2FuIGJlIGVpdGhlciBhY2NlcHRhbmNlIG9yIHJlamVjdGlvbi5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRGcm9tTG9jYWxDYWNoZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVhZERvY3VtZW50RnJvbUNhY2hlKGUsIHQsIG4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlYWREb2N1bWVudChlLCB0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJyZWFkIGRvY3VtZW50XCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gbi5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudChlLCB0KSkpO1xuICAgICAgICAgICAgfShlLCB0KTtcbiAgICAgICAgICAgIHIuaXNGb3VuZERvY3VtZW50KCkgPyBuLnJlc29sdmUocikgOiByLmlzTm9Eb2N1bWVudCgpID8gbi5yZXNvbHZlKG51bGwpIDogbi5yZWplY3QobmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsIFwiRmFpbGVkIHRvIGdldCBkb2N1bWVudCBmcm9tIGNhY2hlLiAoSG93ZXZlciwgdGhpcyBkb2N1bWVudCBtYXkgZXhpc3Qgb24gdGhlIHNlcnZlci4gUnVuIGFnYWluIHdpdGhvdXQgc2V0dGluZyAnc291cmNlJyBpbiB0aGUgR2V0T3B0aW9ucyB0byBhdHRlbXB0IHRvIHJldHJpZXZlIHRoZSBkb2N1bWVudCBmcm9tIHRoZSBzZXJ2ZXIuKVwiKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZShlLCBgRmFpbGVkIHRvIGdldCBkb2N1bWVudCAnJHt0fSBmcm9tIGNhY2hlYCk7XG4gICAgICAgICAgICBuLnJlamVjdChyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAqIFJldHJpZXZlcyBhIGxhdGVuY3ktY29tcGVuc2F0ZWQgZG9jdW1lbnQgZnJvbSB0aGUgYmFja2VuZCB2aWEgYVxuICogU25hcHNob3RMaXN0ZW5lci5cbiAqLyAoYXdhaXQgX19QUklWQVRFX2dldExvY2FsU3RvcmUoZSksIHQsIG4pKSksIG4ucHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50VmlhU25hcHNob3RMaXN0ZW5lcihlLCB0LCBuID0ge30pIHtcbiAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9yZWFkRG9jdW1lbnRWaWFTbmFwc2hvdExpc3RlbmVyKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgY29uc3QgcyA9IG5ldyBfX1BSSVZBVEVfQXN5bmNPYnNlcnZlcih7XG4gICAgICAgICAgICBuZXh0OiBzID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcXVlcnkgZmlyc3QgYmVmb3JlIHBhc3NpbmcgZXZlbnQgdG8gdXNlciB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIHVzZXIgYWN0aW9ucyBhZmZlY3RpbmcgdGhlIG5vdyBzdGFsZSBxdWVyeS5cbiAgICAgICAgICAgICAgICB0LmVucXVldWVBbmRGb3JnZXQoKCgpID0+IF9fUFJJVkFURV9ldmVudE1hbmFnZXJVbmxpc3RlbihlLCBvKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IF8gPSBzLmRvY3MuaGFzKG4pO1xuICAgICAgICAgICAgICAgICFfICYmIHMuZnJvbUNhY2hlID8gXG4gICAgICAgICAgICAgICAgLy8gVE9ETyhkaW1vbmQpOiBJZiB3ZSdyZSBvbmxpbmUgYW5kIHRoZSBkb2N1bWVudCBkb2Vzbid0XG4gICAgICAgICAgICAgICAgLy8gZXhpc3QgdGhlbiB3ZSByZXNvbHZlIHdpdGggYSBkb2MuZXhpc3RzIHNldCB0byBmYWxzZS4gSWZcbiAgICAgICAgICAgICAgICAvLyB3ZSdyZSBvZmZsaW5lIGhvd2V2ZXIsIHdlIHJlamVjdCB0aGUgUHJvbWlzZSBpbiB0aGlzXG4gICAgICAgICAgICAgICAgLy8gY2FzZS4gVHdvIG9wdGlvbnM6IDEpIENhY2hlIHRoZSBuZWdhdGl2ZSByZXNwb25zZSBmcm9tXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNlcnZlciBzbyB3ZSBjYW4gZGVsaXZlciB0aGF0IGV2ZW4gd2hlbiB5b3UncmVcbiAgICAgICAgICAgICAgICAvLyBvZmZsaW5lIDIpIEFjdHVhbGx5IHJlamVjdCB0aGUgUHJvbWlzZSBpbiB0aGUgb25saW5lIGNhc2VcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZG9jdW1lbnQgZG9lc24ndCBleGlzdC5cbiAgICAgICAgICAgICAgICBpLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTkFWQUlMQUJMRSwgXCJGYWlsZWQgdG8gZ2V0IGRvY3VtZW50IGJlY2F1c2UgdGhlIGNsaWVudCBpcyBvZmZsaW5lLlwiKSkgOiBfICYmIHMuZnJvbUNhY2hlICYmIHIgJiYgXCJzZXJ2ZXJcIiA9PT0gci5zb3VyY2UgPyBpLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTkFWQUlMQUJMRSwgJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnQgZnJvbSBzZXJ2ZXIuIChIb3dldmVyLCB0aGlzIGRvY3VtZW50IGRvZXMgZXhpc3QgaW4gdGhlIGxvY2FsIGNhY2hlLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nIHNvdXJjZSB0byBcInNlcnZlclwiIHRvIHJldHJpZXZlIHRoZSBjYWNoZWQgZG9jdW1lbnQuKScpKSA6IGkucmVzb2x2ZShzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZSA9PiBpLnJlamVjdChlKVxuICAgICAgICB9KSwgbyA9IG5ldyBfX1BSSVZBVEVfUXVlcnlMaXN0ZW5lcihfX1BSSVZBVEVfbmV3UXVlcnlGb3JQYXRoKG4ucGF0aCksIHMsIHtcbiAgICAgICAgICAgIGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6ICEwLFxuICAgICAgICAgICAgcmE6ICEwXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2V2ZW50TWFuYWdlckxpc3RlbihlLCBvKTtcbiAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIoZSksIGUuYXN5bmNRdWV1ZSwgdCwgbiwgcikpKSwgci5wcm9taXNlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRzRnJvbUxvY2FsQ2FjaGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2V4ZWN1dGVRdWVyeUZyb21DYWNoZShlLCB0LCBuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVFeGVjdXRlUXVlcnkoZSwgdCwgXG4gICAgICAgICAgICAvKiB1c2VQcmV2aW91c1Jlc3VsdHM9ICovICEwKSwgaSA9IG5ldyBfX1BSSVZBVEVfVmlldyh0LCByLmhzKSwgcyA9IGkuZGEoci5kb2N1bWVudHMpLCBvID0gaS5hcHBseUNoYW5nZXMocywgXG4gICAgICAgICAgICAvKiBsaW1ib1Jlc29sdXRpb25FbmFibGVkPSAqLyAhMSk7XG4gICAgICAgICAgICBuLnJlc29sdmUoby5zbmFwc2hvdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZShlLCBgRmFpbGVkIHRvIGV4ZWN1dGUgcXVlcnkgJyR7dH0gYWdhaW5zdCBjYWNoZWApO1xuICAgICAgICAgICAgbi5yZWplY3Qocik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gKiBSZXRyaWV2ZXMgYSBsYXRlbmN5LWNvbXBlbnNhdGVkIHF1ZXJ5IHNuYXBzaG90IGZyb20gdGhlIGJhY2tlbmQgdmlhIGFcbiAqIFNuYXBzaG90TGlzdGVuZXIuXG4gKi8gKGF3YWl0IF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpLCB0LCBuKSkpLCBuLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudHNWaWFTbmFwc2hvdExpc3RlbmVyKGUsIHQsIG4gPSB7fSkge1xuICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX2V4ZWN1dGVRdWVyeVZpYVNuYXBzaG90TGlzdGVuZXIoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICBjb25zdCBzID0gbmV3IF9fUFJJVkFURV9Bc3luY09ic2VydmVyKHtcbiAgICAgICAgICAgIG5leHQ6IG4gPT4ge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBxdWVyeSBmaXJzdCBiZWZvcmUgcGFzc2luZyBldmVudCB0byB1c2VyIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgLy8gdXNlciBhY3Rpb25zIGFmZmVjdGluZyB0aGUgbm93IHN0YWxlIHF1ZXJ5LlxuICAgICAgICAgICAgICAgIHQuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gX19QUklWQVRFX2V2ZW50TWFuYWdlclVubGlzdGVuKGUsIG8pKSksIG4uZnJvbUNhY2hlICYmIFwic2VydmVyXCIgPT09IHIuc291cmNlID8gaS5yZWplY3QobmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsICdGYWlsZWQgdG8gZ2V0IGRvY3VtZW50cyBmcm9tIHNlcnZlci4gKEhvd2V2ZXIsIHRoZXNlIGRvY3VtZW50cyBtYXkgZXhpc3QgaW4gdGhlIGxvY2FsIGNhY2hlLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nIHNvdXJjZSB0byBcInNlcnZlclwiIHRvIHJldHJpZXZlIHRoZSBjYWNoZWQgZG9jdW1lbnRzLiknKSkgOiBpLnJlc29sdmUobik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGUgPT4gaS5yZWplY3QoZSlcbiAgICAgICAgfSksIG8gPSBuZXcgX19QUklWQVRFX1F1ZXJ5TGlzdGVuZXIobiwgcywge1xuICAgICAgICAgICAgaW5jbHVkZU1ldGFkYXRhQ2hhbmdlczogITAsXG4gICAgICAgICAgICByYTogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyTGlzdGVuKGUsIG8pO1xuICAgIH0oYXdhaXQgX19QUklWQVRFX2dldEV2ZW50TWFuYWdlcihlKSwgZS5hc3luY1F1ZXVlLCB0LCBuLCByKSkpLCByLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRSdW5BZ2dyZWdhdGVRdWVyeShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiB7XG4gICAgICAgIC8vIEltcGxlbWVudCBhbmQgY2FsbCBleGVjdXRlQWdncmVnYXRlUXVlcnlWaWFTbmFwc2hvdExpc3RlbmVyLCBzaW1pbGFyXG4gICAgICAgIC8vIHRvIHRoZSBpbXBsZW1lbnRhdGlvbiBpbiBmaXJlc3RvcmVDbGllbnRHZXREb2N1bWVudHNWaWFTbmFwc2hvdExpc3RlbmVyXG4gICAgICAgIC8vIGFib3ZlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUT0RPKGIvMjc3NjI4Mzg0KTogY2hlY2sgYGNhblVzZU5ldHdvcmsoKWAgYW5kIGhhbmRsZSBtdWx0aS10YWIuXG4gICAgICAgICAgICBjb25zdCBpID0gYXdhaXQgX19QUklWQVRFX2dldERhdGFzdG9yZShlKTtcbiAgICAgICAgICAgIHIucmVzb2x2ZShhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaW52b2tlUnVuQWdncmVnYXRpb25RdWVyeVJwYyhlLCB0LCBuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHI7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHtyZXF1ZXN0OiBzLCB1dDogbywgcGFyZW50OiBffSA9IF9fUFJJVkFURV90b1J1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0KGkuc2VyaWFsaXplciwgX19QUklWQVRFX3F1ZXJ5VG9BZ2dyZWdhdGVUYXJnZXQodCksIG4pO1xuICAgICAgICAgICAgICAgIGkuY29ubmVjdGlvbi5EbyB8fCBkZWxldGUgcy5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IChhd2FpdCBpLnhvKFwiUnVuQWdncmVnYXRpb25RdWVyeVwiLCBpLnNlcmlhbGl6ZXIuZGF0YWJhc2VJZCwgXywgcywgXG4gICAgICAgICAgICAgICAgLypleHBlY3RlZFJlc3BvbnNlQ291bnQ9Ki8gMSkpLmZpbHRlcigoZSA9PiAhIWUucmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgLy8gT21pdCBSdW5BZ2dyZWdhdGlvblF1ZXJ5UmVzcG9uc2UgdGhhdCBvbmx5IGNvbnRhaW4gcmVhZFRpbWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCgxID09PSBhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgLy8gUmVtYXAgdGhlIHNob3J0LWZvcm0gYWxpYXNlcyB0aGF0IHdlcmUgc2VudCB0byB0aGUgc2VydmVyXG4gICAgICAgICAgICAgICAgLy8gdG8gdGhlIGNsaWVudC1zaWRlIGFsaWFzZXMuIFVzZXJzIHdpbGwgYWNjZXNzIHRoZSByZXN1bHRzXG4gICAgICAgICAgICAgICAgLy8gdXNpbmcgdGhlIGNsaWVudC1zaWRlIGFsaWFzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHUgPSBudWxsID09PSAociA9IGFbMF0ucmVzdWx0KSB8fCB2b2lkIDAgPT09IHIgPyB2b2lkIDAgOiByLmFnZ3JlZ2F0ZUZpZWxkcztcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModSkucmVkdWNlKCgoZSwgdCkgPT4gKGVbb1t0XV0gPSB1W3RdLCBlKSksIHt9KTtcbiAgICAgICAgICAgIH0oaSwgdCwgbikpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pKSwgci5wcm9taXNlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50QWRkU25hcHNob3RzSW5TeW5jTGlzdGVuZXIoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0FzeW5jT2JzZXJ2ZXIodCk7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfYWRkU25hcHNob3RzSW5TeW5jTGlzdGVuZXIoZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLnpfLmFkZCh0KSwgXG4gICAgICAgIC8vIEltbWVkaWF0ZWx5IGZpcmUgYW4gaW5pdGlhbCBldmVudCwgaW5kaWNhdGluZyBhbGwgZXhpc3RpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIGFyZSBpbi1zeW5jLlxuICAgICAgICB0Lm5leHQoKTtcbiAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIoZSksIG4pKSksICgpID0+IHtcbiAgICAgICAgbi4kYSgpLCBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX3JlbW92ZVNuYXBzaG90c0luU3luY0xpc3RlbmVyKGUsIHQpIHtcbiAgICAgICAgICAgIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSkuel8uZGVsZXRlKHQpO1xuICAgICAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIoZSksIG4pKSk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhbiB1cGRhdGVGdW5jdGlvbiBpbiB3aGljaCBhIHNldCBvZiByZWFkcyBhbmQgd3JpdGVzIGNhbiBiZSBwZXJmb3JtZWRcbiAqIGF0b21pY2FsbHkuIEluIHRoZSB1cGRhdGVGdW5jdGlvbiwgdGhlIGNsaWVudCBjYW4gcmVhZCBhbmQgd3JpdGUgdmFsdWVzXG4gKiB1c2luZyB0aGUgc3VwcGxpZWQgdHJhbnNhY3Rpb24gb2JqZWN0LiBBZnRlciB0aGUgdXBkYXRlRnVuY3Rpb24sIGFsbFxuICogY2hhbmdlcyB3aWxsIGJlIGNvbW1pdHRlZC4gSWYgYSByZXRyeWFibGUgZXJyb3Igb2NjdXJzIChleDogc29tZSBvdGhlclxuICogY2xpZW50IGhhcyBjaGFuZ2VkIGFueSBvZiB0aGUgZGF0YSByZWZlcmVuY2VkKSwgdGhlbiB0aGUgdXBkYXRlRnVuY3Rpb25cbiAqIHdpbGwgYmUgY2FsbGVkIGFnYWluIGFmdGVyIGEgYmFja29mZi4gSWYgdGhlIHVwZGF0ZUZ1bmN0aW9uIHN0aWxsIGZhaWxzXG4gKiBhZnRlciBhbGwgcmV0cmllcywgdGhlbiB0aGUgdHJhbnNhY3Rpb24gd2lsbCBiZSByZWplY3RlZC5cbiAqXG4gKiBUaGUgdHJhbnNhY3Rpb24gb2JqZWN0IHBhc3NlZCB0byB0aGUgdXBkYXRlRnVuY3Rpb24gY29udGFpbnMgbWV0aG9kcyBmb3JcbiAqIGFjY2Vzc2luZyBkb2N1bWVudHMgYW5kIGNvbGxlY3Rpb25zLiBVbmxpa2Ugb3RoZXIgZGF0YXN0b3JlIGFjY2VzcywgZGF0YVxuICogYWNjZXNzZWQgd2l0aCB0aGUgdHJhbnNhY3Rpb24gd2lsbCBub3QgcmVmbGVjdCBsb2NhbCBjaGFuZ2VzIHRoYXQgaGF2ZSBub3RcbiAqIGJlZW4gY29tbWl0dGVkLiBGb3IgdGhpcyByZWFzb24sIGl0IGlzIHJlcXVpcmVkIHRoYXQgYWxsIHJlYWRzIGFyZVxuICogcGVyZm9ybWVkIGJlZm9yZSBhbnkgd3JpdGVzLiBUcmFuc2FjdGlvbnMgbXVzdCBiZSBwZXJmb3JtZWQgd2hpbGUgb25saW5lLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRMb2FkQnVuZGxlKGUsIHQsIG4sIHIpIHtcbiAgICBjb25zdCBpID0gZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZUJ1bmRsZVJlYWRlcihlLCB0KSB7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBuID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSA/IF9fUFJJVkFURV9uZXdUZXh0RW5jb2RlcigpLmVuY29kZShlKSA6IGU7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3QnVuZGxlUmVhZGVyKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0J1bmRsZVJlYWRlckltcGwoZSwgdCk7XG4gICAgICAgIH0oZnVuY3Rpb24gX19QUklWQVRFX3RvQnl0ZVN0cmVhbVJlYWRlcihlLCB0KSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHJldHVybiBfX1BSSVZBVEVfdG9CeXRlU3RyZWFtUmVhZGVySGVscGVyKGUsIHQpO1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgcmV0dXJuIF9fUFJJVkFURV90b0J5dGVTdHJlYW1SZWFkZXJIZWxwZXIobmV3IFVpbnQ4QXJyYXkoZSksIHQpO1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbSkgcmV0dXJuIGUuZ2V0UmVhZGVyKCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb3VyY2Ugb2YgYHRvQnl0ZVN0cmVhbVJlYWRlcmAgaGFzIHRvIGJlIGEgQXJyYXlCdWZmZXIgb3IgUmVhZGFibGVTdHJlYW1cIik7XG4gICAgICAgIH0obiksIHQpO1xuICAgIH0obiwgX19QUklWQVRFX25ld1NlcmlhbGl6ZXIodCkpO1xuICAgIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiB7XG4gICAgICAgIF9fUFJJVkFURV9zeW5jRW5naW5lTG9hZEJ1bmRsZShhd2FpdCBfX1BSSVZBVEVfZ2V0U3luY0VuZ2luZShlKSwgaSwgcik7XG4gICAgfSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0TmFtZWRRdWVyeShlLCB0KSB7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlKChhc3luYyAoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldE5hbWVkUXVlcnkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbmFtZWQgcXVlcnlcIiwgXCJyZWFkb25seVwiLCAoZSA9PiBuLiRyLmdldE5hbWVkUXVlcnkoZSwgdCkpKTtcbiAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpLCB0KSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50U2V0SW5kZXhDb25maWd1cmF0aW9uKGUsIHQpIHtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWUoKGFzeW5jICgpID0+IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQ29uZmlndXJlRmllbGRJbmRleGVzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBuLmluZGV4TWFuYWdlciwgaSA9IFtdO1xuICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkNvbmZpZ3VyZSBpbmRleGVzXCIsIFwicmVhZHdyaXRlXCIsIChlID0+IHIuZ2V0RmllbGRJbmRleGVzKGUpLm5leHQoKG4gPT4gXG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4gICAgICAgIC8qKlxuICogQ29tcGFyZXMgdHdvIGFycmF5IGZvciBlcXVhbGl0eSB1c2luZyBjb21wYXJhdG9yLiBUaGUgbWV0aG9kIGNvbXB1dGVzIHRoZVxuICogaW50ZXJzZWN0aW9uIGFuZCBpbnZva2VzIGBvbkFkZGAgZm9yIGV2ZXJ5IGVsZW1lbnQgdGhhdCBpcyBpbiBgYWZ0ZXJgIGJ1dCBub3RcbiAqIGBiZWZvcmVgLiBgb25SZW1vdmVgIGlzIGludm9rZWQgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gYGJlZm9yZWAgYnV0IG1pc3NpbmdcbiAqIGZyb20gYGFmdGVyYC5cbiAqXG4gKiBUaGUgbWV0aG9kIGNyZWF0ZXMgYSBjb3B5IG9mIGJvdGggYGJlZm9yZWAgYW5kIGBhZnRlcmAgYW5kIHJ1bnMgaW4gTyhuIGxvZ1xuICogbiksIHdoZXJlIG4gaXMgdGhlIHNpemUgb2YgdGhlIHR3byBsaXN0cy5cbiAqXG4gKiBAcGFyYW0gYmVmb3JlIC0gVGhlIGVsZW1lbnRzIHRoYXQgZXhpc3QgaW4gdGhlIG9yaWdpbmFsIGFycmF5LlxuICogQHBhcmFtIGFmdGVyIC0gVGhlIGVsZW1lbnRzIHRvIGRpZmYgYWdhaW5zdCB0aGUgb3JpZ2luYWwgYXJyYXkuXG4gKiBAcGFyYW0gY29tcGFyYXRvciAtIFRoZSBjb21wYXJhdG9yIGZvciB0aGUgZWxlbWVudHMgaW4gYmVmb3JlIGFuZCBhZnRlci5cbiAqIEBwYXJhbSBvbkFkZCAtIEEgZnVuY3Rpb24gdG8gaW52b2tlIGZvciBldmVyeSBlbGVtZW50IHRoYXQgaXMgcGFydCBvZiBgXG4gKiBhZnRlcmAgYnV0IG5vdCBgYmVmb3JlYC5cbiAqIEBwYXJhbSBvblJlbW92ZSAtIEEgZnVuY3Rpb24gdG8gaW52b2tlIGZvciBldmVyeSBlbGVtZW50IHRoYXQgaXMgcGFydCBvZlxuICogYGJlZm9yZWAgYnV0IG5vdCBgYWZ0ZXJgLlxuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9kaWZmQXJyYXlzKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgICAgIGUgPSBbIC4uLmUgXSwgdCA9IFsgLi4udCBdLCBlLnNvcnQobiksIHQuc29ydChuKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBlLmxlbmd0aCwgbyA9IHQubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IF8gPSAwLCBhID0gMDtcbiAgICAgICAgICAgIGZvciAoO18gPCBvICYmIGEgPCBzOyApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gbihlW2FdLCB0W19dKTtcbiAgICAgICAgICAgICAgICBzIDwgMCA/IFxuICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IHdhcyByZW1vdmVkIGlmIHRoZSBuZXh0IGVsZW1lbnQgaW4gb3VyIG9yZGVyZWRcbiAgICAgICAgICAgICAgICAvLyB3YWxrdGhyb3VnaCBpcyBvbmx5IGluIGBiZWZvcmVgLlxuICAgICAgICAgICAgICAgIGkoZVthKytdKSA6IHMgPiAwID8gXG4gICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIGlmIHRoZSBuZXh0IGVsZW1lbnQgaW4gb3VyIG9yZGVyZWQgd2Fsa3Rocm91Z2hcbiAgICAgICAgICAgICAgICAvLyBpcyBvbmx5IGluIGBhZnRlcmAuXG4gICAgICAgICAgICAgICAgcih0W18rK10pIDogKF8rKywgYSsrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoO18gPCBvOyApIHIodFtfKytdKTtcbiAgICAgICAgICAgIGZvciAoO2EgPCBzOyApIGkoZVthKytdKTtcbiAgICAgICAgfShuLCB0LCBfX1BSSVZBVEVfZmllbGRJbmRleFNlbWFudGljQ29tcGFyYXRvciwgKHQgPT4ge1xuICAgICAgICAgICAgaS5wdXNoKHIuYWRkRmllbGRJbmRleChlLCB0KSk7XG4gICAgICAgIH0pLCAodCA9PiB7XG4gICAgICAgICAgICBpLnB1c2goci5kZWxldGVGaWVsZEluZGV4KGUsIHQpKTtcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IoaSkpKSkpO1xuICAgIH0oYXdhaXQgX19QUklWQVRFX2dldExvY2FsU3RvcmUoZSksIHQpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRTZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZSwgdCkge1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVTZXRJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLnRzLlVpID0gdDtcbiAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpLCB0KSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGVsZXRlQWxsRmllbGRJbmRleGVzKGUpIHtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWUoKGFzeW5jICgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlRGVsZXRlQWxsRmllbGRJbmRleGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIG4gPSB0LmluZGV4TWFuYWdlcjtcbiAgICAgICAgcmV0dXJuIHQucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJEZWxldGUgQWxsIEluZGV4ZXNcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gbi5kZWxldGVBbGxGaWVsZEluZGV4ZXMoZSkpKTtcbiAgICB9XG4gICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAvLyBUaGUgZm9ybWF0IG9mIHRoZSBMb2NhbFN0b3JhZ2Uga2V5IHRoYXQgc3RvcmVzIHRoZSBjbGllbnQgc3RhdGUgaXM6XG4gICAgLy8gICAgIGZpcmVzdG9yZV9jbGllbnRzXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxpbnN0YW5jZV9rZXk+XG4gICAgKGF3YWl0IF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpKSkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDb21wYXJlcyB0d28gYEV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9uc2Agb2JqZWN0cyBmb3IgZXF1YWxpdHkuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBgRXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zYCB3aXRoIHRoZSBzYW1lXG4gKiBvcHRpb24gdmFsdWVzIGFzIHRoZSBnaXZlbiBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2Nsb25lTG9uZ1BvbGxpbmdPcHRpb25zKGUpIHtcbiAgICBjb25zdCB0ID0ge307XG4gICAgcmV0dXJuIHZvaWQgMCAhPT0gZS50aW1lb3V0U2Vjb25kcyAmJiAodC50aW1lb3V0U2Vjb25kcyA9IGUudGltZW91dFNlY29uZHMpLCB0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCB5ZSA9IG5ldyBNYXA7XG5cbi8qKlxuICogQW4gaW5zdGFuY2UgbWFwIHRoYXQgZW5zdXJlcyBvbmx5IG9uZSBEYXRhc3RvcmUgZXhpc3RzIHBlciBGaXJlc3RvcmVcbiAqIGluc3RhbmNlLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlTm9uRW1wdHlBcmd1bWVudChlLCB0LCBuKSB7XG4gICAgaWYgKCFuKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgRnVuY3Rpb24gJHtlfSgpIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBhbiBlbXB0eSAke3R9LmApO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IHR3byBib29sZWFuIG9wdGlvbnMgYXJlIG5vdCBzZXQgYXQgdGhlIHNhbWUgdGltZS5cbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZUlzTm90VXNlZFRvZ2V0aGVyKGUsIHQsIG4sIHIpIHtcbiAgICBpZiAoITAgPT09IHQgJiYgITAgPT09IHIpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGAke2V9IGFuZCAke259IGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLmApO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IGBwYXRoYCByZWZlcnMgdG8gYSBkb2N1bWVudCAoaW5kaWNhdGVkIGJ5IHRoZSBmYWN0IGl0IGNvbnRhaW5zXG4gKiBhbiBldmVuIG51bWJlcnMgb2Ygc2VnbWVudHMpLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZURvY3VtZW50UGF0aChlKSB7XG4gICAgaWYgKCFEb2N1bWVudEtleS5pc0RvY3VtZW50S2V5KGUpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBkb2N1bWVudCByZWZlcmVuY2UuIERvY3VtZW50IHJlZmVyZW5jZXMgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzLCBidXQgJHtlfSBoYXMgJHtlLmxlbmd0aH0uYCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgYHBhdGhgIHJlZmVycyB0byBhIGNvbGxlY3Rpb24gKGluZGljYXRlZCBieSB0aGUgZmFjdCBpdFxuICogY29udGFpbnMgYW4gb2RkIG51bWJlcnMgb2Ygc2VnbWVudHMpLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZUNvbGxlY3Rpb25QYXRoKGUpIHtcbiAgICBpZiAoRG9jdW1lbnRLZXkuaXNEb2N1bWVudEtleShlKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgY29sbGVjdGlvbiByZWZlcmVuY2UuIENvbGxlY3Rpb24gcmVmZXJlbmNlcyBtdXN0IGhhdmUgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cywgYnV0ICR7ZX0gaGFzICR7ZS5sZW5ndGh9LmApO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBpdCdzIGEgbm9uLW51bGwgb2JqZWN0IHdpdGhvdXQgYSBjdXN0b20gcHJvdG90eXBlXG4gKiAoaS5lLiBleGNsdWRlcyBBcnJheSwgRGF0ZSwgZXRjLikuXG4gKi9cbi8qKiBSZXR1cm5zIGEgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIHR5cGUgLyB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgaW5wdXQuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmFsdWVEZXNjcmlwdGlvbihlKSB7XG4gICAgaWYgKHZvaWQgMCA9PT0gZSkgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgaWYgKG51bGwgPT09IGUpIHJldHVybiBcIm51bGxcIjtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIGUubGVuZ3RoID4gMjAgJiYgKGUgPSBgJHtlLnN1YnN0cmluZygwLCAyMCl9Li4uYCksIFxuICAgIEpTT04uc3RyaW5naWZ5KGUpO1xuICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBlIHx8IFwiYm9vbGVhblwiID09IHR5cGVvZiBlKSByZXR1cm4gXCJcIiArIGU7XG4gICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBcnJheSkgcmV0dXJuIFwiYW4gYXJyYXlcIjtcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdCA9IFxuICAgICAgICAgICAgLyoqIHRyeSB0byBnZXQgdGhlIGNvbnN0cnVjdG9yIG5hbWUgZm9yIGFuIG9iamVjdC4gKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV90cnlHZXRDdXN0b21PYmplY3RUeXBlKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5jb25zdHJ1Y3RvcikgcmV0dXJuIGUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogQ2FzdHMgYG9iamAgdG8gYFRgLCBvcHRpb25hbGx5IHVud3JhcHBpbmcgQ29tcGF0IHR5cGVzIHRvIGV4cG9zZSB0aGVcbiAqIHVuZGVybHlpbmcgaW5zdGFuY2UuIFRocm93cyBpZiAgYG9iamAgaXMgbm90IGFuIGluc3RhbmNlIG9mIGBUYC5cbiAqXG4gKiBUaGlzIGNhc3QgaXMgdXNlZCBpbiB0aGUgTGl0ZSBhbmQgRnVsbCBTREsgdG8gdmVyaWZ5IGluc3RhbmNlIHR5cGVzIGZvclxuICogYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgcHVibGljIEFQSS5cbiAqIEBpbnRlcm5hbFxuICovIChlKTtcbiAgICAgICAgICAgIHJldHVybiB0ID8gYGEgY3VzdG9tICR7dH0gb2JqZWN0YCA6IFwiYW4gb2JqZWN0XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSA/IFwiYSBmdW5jdGlvblwiIDogZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY2FzdChlLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG50KSB7XG4gICAgaWYgKFwiX2RlbGVnYXRlXCIgaW4gZSAmJiAoXG4gICAgLy8gVW53cmFwIENvbXBhdCB0eXBlc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZSA9IGUuX2RlbGVnYXRlKSwgIShlIGluc3RhbmNlb2YgdCkpIHtcbiAgICAgICAgaWYgKHQubmFtZSA9PT0gZS5jb25zdHJ1Y3Rvci5uYW1lKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlR5cGUgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGluc3RhbmNlLiBEaWQgeW91IHBhc3MgYSByZWZlcmVuY2UgZnJvbSBhIGRpZmZlcmVudCBGaXJlc3RvcmUgU0RLP1wiKTtcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uKGUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEV4cGVjdGVkIHR5cGUgJyR7dC5uYW1lfScsIGJ1dCBpdCB3YXM6ICR7bn1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlUG9zaXRpdmVOdW1iZXIoZSwgdCkge1xuICAgIGlmICh0IDw9IDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGdW5jdGlvbiAke2V9KCkgcmVxdWlyZXMgYSBwb3NpdGl2ZSBudW1iZXIsIGJ1dCBpdCB3YXM6ICR7dH0uYCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBzZXR0aW5ncygpIGRlZmF1bHRzOlxuLyoqXG4gKiBBIGNvbmNyZXRlIHR5cGUgZGVzY3JpYmluZyBhbGwgdGhlIHZhbHVlcyB0aGF0IGNhbiBiZSBhcHBsaWVkIHZpYSBhXG4gKiB1c2VyLXN1cHBsaWVkIGBGaXJlc3RvcmVTZXR0aW5nc2Agb2JqZWN0LiBUaGlzIGlzIGEgc2VwYXJhdGUgdHlwZSBzbyB0aGF0XG4gKiBkZWZhdWx0cyBjYW4gYmUgc3VwcGxpZWQgYW5kIHRoZSB2YWx1ZSBjYW4gYmUgY2hlY2tlZCBmb3IgZXF1YWxpdHkuXG4gKi9cbmNsYXNzIEZpcmVzdG9yZVNldHRpbmdzSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB2YXIgdCwgbjtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZS5ob3N0KSB7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBlLnNzbCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJDYW4ndCBwcm92aWRlIHNzbCBvcHRpb24gaWYgaG9zdCBvcHRpb24gaXMgbm90IHNldFwiKTtcbiAgICAgICAgICAgIHRoaXMuaG9zdCA9IFwiZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tXCIsIHRoaXMuc3NsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHRoaXMuaG9zdCA9IGUuaG9zdCwgdGhpcy5zc2wgPSBudWxsID09PSAodCA9IGUuc3NsKSB8fCB2b2lkIDAgPT09IHQgfHwgdDtcbiAgICAgICAgaWYgKHRoaXMuY3JlZGVudGlhbHMgPSBlLmNyZWRlbnRpYWxzLCB0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgPSAhIWUuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcywgXG4gICAgICAgIHRoaXMubG9jYWxDYWNoZSA9IGUubG9jYWxDYWNoZSwgdm9pZCAwID09PSBlLmNhY2hlU2l6ZUJ5dGVzKSB0aGlzLmNhY2hlU2l6ZUJ5dGVzID0gNDE5NDMwNDA7IGVsc2Uge1xuICAgICAgICAgICAgaWYgKC0xICE9PSBlLmNhY2hlU2l6ZUJ5dGVzICYmIGUuY2FjaGVTaXplQnl0ZXMgPCAxMDQ4NTc2KSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcImNhY2hlU2l6ZUJ5dGVzIG11c3QgYmUgYXQgbGVhc3QgMTA0ODU3NlwiKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVTaXplQnl0ZXMgPSBlLmNhY2hlU2l6ZUJ5dGVzO1xuICAgICAgICB9XG4gICAgICAgIF9fUFJJVkFURV92YWxpZGF0ZUlzTm90VXNlZFRvZ2V0aGVyKFwiZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZ1wiLCBlLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsIFwiZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nXCIsIGUuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nKSwgXG4gICAgICAgIHRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyA9ICEhZS5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nLCB0aGlzLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcgPyB0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA9ICExIDogdm9pZCAwID09PSBlLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA/IHRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nID0gdHJ1ZSA6IFxuICAgICAgICAvLyBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIGNvZXJjZSB0aGUgdmFsdWUgdG8gYm9vbGVhbiBldmVuIHRob3VnaFxuICAgICAgICAvLyB0aGUgVHlwZVNjcmlwdCBjb21waWxlciBoYXMgbmFycm93ZWQgdGhlIHR5cGUgdG8gYm9vbGVhbiBhbHJlYWR5LlxuICAgICAgICAvLyBub2luc3BlY3Rpb24gUG9pbnRsZXNzQm9vbGVhbkV4cHJlc3Npb25KU1xuICAgICAgICB0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA9ICEhZS5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcsIFxuICAgICAgICB0aGlzLmV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9ucyA9IF9fUFJJVkFURV9jbG9uZUxvbmdQb2xsaW5nT3B0aW9ucyhudWxsICE9PSAobiA9IGUuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zKSAmJiB2b2lkIDAgIT09IG4gPyBuIDoge30pLCBcbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlTG9uZ1BvbGxpbmdPcHRpb25zKGUpIHtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUudGltZW91dFNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZS50aW1lb3V0U2Vjb25kcykpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBpbnZhbGlkIGxvbmcgcG9sbGluZyB0aW1lb3V0OiAke2UudGltZW91dFNlY29uZHN9IChtdXN0IG5vdCBiZSBOYU4pYCk7XG4gICAgICAgICAgICAgICAgaWYgKGUudGltZW91dFNlY29uZHMgPCA1KSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgaW52YWxpZCBsb25nIHBvbGxpbmcgdGltZW91dDogJHtlLnRpbWVvdXRTZWNvbmRzfSAobWluaW11bSBhbGxvd2VkIHZhbHVlIGlzIDUpYCk7XG4gICAgICAgICAgICAgICAgaWYgKGUudGltZW91dFNlY29uZHMgPiAzMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYGludmFsaWQgbG9uZyBwb2xsaW5nIHRpbWVvdXQ6ICR7ZS50aW1lb3V0U2Vjb25kc30gKG1heGltdW0gYWxsb3dlZCB2YWx1ZSBpcyAzMClgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgICAgICAvKipcbiAqIFRoZSBDbG91ZCBGaXJlc3RvcmUgc2VydmljZSBpbnRlcmZhY2UuXG4gKlxuICogRG8gbm90IGNhbGwgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gSW5zdGVhZCwgdXNlIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfS5cbiAqLyAodGhpcy5leHBlcmltZW50YWxMb25nUG9sbGluZ09wdGlvbnMpLCB0aGlzLnVzZUZldGNoU3RyZWFtcyA9ICEhZS51c2VGZXRjaFN0cmVhbXM7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3N0ID09PSBlLmhvc3QgJiYgdGhpcy5zc2wgPT09IGUuc3NsICYmIHRoaXMuY3JlZGVudGlhbHMgPT09IGUuY3JlZGVudGlhbHMgJiYgdGhpcy5jYWNoZVNpemVCeXRlcyA9PT0gZS5jYWNoZVNpemVCeXRlcyAmJiB0aGlzLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcgPT09IGUuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyAmJiB0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA9PT0gZS5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcgJiYgZnVuY3Rpb24gX19QUklWQVRFX2xvbmdQb2xsaW5nT3B0aW9uc0VxdWFsKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBlLnRpbWVvdXRTZWNvbmRzID09PSB0LnRpbWVvdXRTZWNvbmRzO1xuICAgICAgICB9KHRoaXMuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zLCBlLmV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9ucykgJiYgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzID09PSBlLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgJiYgdGhpcy51c2VGZXRjaFN0cmVhbXMgPT09IGUudXNlRmV0Y2hTdHJlYW1zO1xuICAgIH1cbn1cblxuY2xhc3MgRmlyZXN0b3JlJDEge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLl9hdXRoQ3JlZGVudGlhbHMgPSBlLCB0aGlzLl9hcHBDaGVja0NyZWRlbnRpYWxzID0gdCwgdGhpcy5fZGF0YWJhc2VJZCA9IG4sIFxuICAgICAgICB0aGlzLl9hcHAgPSByLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgaXQncyBhIEZpcmVzdG9yZSBvciBGaXJlc3RvcmUgTGl0ZSBpbnN0YW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwiZmlyZXN0b3JlLWxpdGVcIiwgdGhpcy5fcGVyc2lzdGVuY2VLZXkgPSBcIihsaXRlKVwiLCB0aGlzLl9zZXR0aW5ncyA9IG5ldyBGaXJlc3RvcmVTZXR0aW5nc0ltcGwoe30pLCBcbiAgICAgICAgdGhpcy5fc2V0dGluZ3NGcm96ZW4gPSAhMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBhc3NvY2lhdGVkIHdpdGggdGhpcyBgRmlyZXN0b3JlYCBzZXJ2aWNlXG4gICAgICogaW5zdGFuY2UuXG4gICAgICovICAgIGdldCBhcHAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fYXBwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkZpcmVzdG9yZSB3YXMgbm90IGluaXRpYWxpemVkIHVzaW5nIHRoZSBGaXJlYmFzZSBTREsuICdhcHAnIGlzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHA7XG4gICAgfVxuICAgIGdldCBfaW5pdGlhbGl6ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbjtcbiAgICB9XG4gICAgZ2V0IF90ZXJtaW5hdGVkKCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSB0aGlzLl90ZXJtaW5hdGVUYXNrO1xuICAgIH1cbiAgICBfc2V0U2V0dGluZ3MoZSkge1xuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3NGcm96ZW4pIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiRmlyZXN0b3JlIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBhbmQgaXRzIHNldHRpbmdzIGNhbiBubyBsb25nZXIgYmUgY2hhbmdlZC4gWW91IGNhbiBvbmx5IG1vZGlmeSBzZXR0aW5ncyBiZWZvcmUgY2FsbGluZyBhbnkgb3RoZXIgbWV0aG9kcyBvbiBhIEZpcmVzdG9yZSBvYmplY3QuXCIpO1xuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IG5ldyBGaXJlc3RvcmVTZXR0aW5nc0ltcGwoZSksIHZvaWQgMCAhPT0gZS5jcmVkZW50aWFscyAmJiAodGhpcy5fYXV0aENyZWRlbnRpYWxzID0gZnVuY3Rpb24gX19QUklWQVRFX21ha2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlcihlKSB7XG4gICAgICAgICAgICBpZiAoIWUpIHJldHVybiBuZXcgX19QUklWQVRFX0VtcHR5QXV0aENyZWRlbnRpYWxzUHJvdmlkZXI7XG4gICAgICAgICAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiZmlyc3RQYXJ0eVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0ZpcnN0UGFydHlBdXRoQ3JlZGVudGlhbHNQcm92aWRlcihlLnNlc3Npb25JbmRleCB8fCBcIjBcIiwgZS5pYW1Ub2tlbiB8fCBudWxsLCBlLmF1dGhUb2tlbkZhY3RvcnkgfHwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgY2FzZSBcInByb3ZpZGVyXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuY2xpZW50O1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJtYWtlQXV0aENyZWRlbnRpYWxzUHJvdmlkZXIgZmFpbGVkIGR1ZSB0byBpbnZhbGlkIGNyZWRlbnRpYWwgdHlwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfShlLmNyZWRlbnRpYWxzKSk7XG4gICAgfVxuICAgIF9nZXRTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzO1xuICAgIH1cbiAgICBfZnJlZXplU2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbiA9ICEwLCB0aGlzLl9zZXR0aW5ncztcbiAgICB9XG4gICAgX2RlbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rlcm1pbmF0ZVRhc2sgfHwgKHRoaXMuX3Rlcm1pbmF0ZVRhc2sgPSB0aGlzLl90ZXJtaW5hdGUoKSksIHRoaXMuX3Rlcm1pbmF0ZVRhc2s7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBgRmlyZXN0b3JlYCBpbnN0YW5jZS4gKi8gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXBwOiB0aGlzLl9hcHAsXG4gICAgICAgICAgICBkYXRhYmFzZUlkOiB0aGlzLl9kYXRhYmFzZUlkLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHRoaXMuX3NldHRpbmdzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZXMgYWxsIGNvbXBvbmVudHMgdXNlZCBieSB0aGlzIGNsaWVudC4gU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGVcbiAgICAgKiB0aGlzIG1ldGhvZCB0byBjbGVhbiB1cCB0aGVpciBvd24gZGVwZW5kZW5jaWVzLCBidXQgbXVzdCBhbHNvIGNhbGwgdGhpc1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIE9ubHkgZXZlciBjYWxsZWQgb25jZS5cbiAgICAgKi8gICAgX3Rlcm1pbmF0ZSgpIHtcbiAgICAgICAgLyoqXG4gKiBSZW1vdmVzIGFsbCBjb21wb25lbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlkZWQgaW5zdGFuY2UuIE11c3QgYmUgY2FsbGVkXG4gKiB3aGVuIHRoZSBgRmlyZXN0b3JlYCBpbnN0YW5jZSBpcyB0ZXJtaW5hdGVkLlxuICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3ZlQ29tcG9uZW50cyhlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0geWUuZ2V0KGUpO1xuICAgICAgICAgICAgdCAmJiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiQ29tcG9uZW50UHJvdmlkZXJcIiwgXCJSZW1vdmluZyBEYXRhc3RvcmVcIiksIHllLmRlbGV0ZShlKSwgXG4gICAgICAgICAgICB0LnRlcm1pbmF0ZSgpKTtcbiAgICAgICAgfSh0aGlzKSwgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIE1vZGlmeSB0aGlzIGluc3RhbmNlIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIENsb3VkIEZpcmVzdG9yZSBlbXVsYXRvci5cbiAqXG4gKiBOb3RlOiBUaGlzIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB0aGlzIGluc3RhbmNlIGhhcyBiZWVuIHVzZWQgdG8gZG8gYW55XG4gKiBvcGVyYXRpb25zLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUgYEZpcmVzdG9yZWAgaW5zdGFuY2UgdG8gY29uZmlndXJlIHRvIGNvbm5lY3QgdG8gdGhlXG4gKiBlbXVsYXRvci5cbiAqIEBwYXJhbSBob3N0IC0gdGhlIGVtdWxhdG9yIGhvc3QgKGV4OiBsb2NhbGhvc3QpLlxuICogQHBhcmFtIHBvcnQgLSB0aGUgZW11bGF0b3IgcG9ydCAoZXg6IDkwMDApLlxuICogQHBhcmFtIG9wdGlvbnMubW9ja1VzZXJUb2tlbiAtIHRoZSBtb2NrIGF1dGggdG9rZW4gdG8gdXNlIGZvciB1bml0IHRlc3RpbmdcbiAqIFNlY3VyaXR5IFJ1bGVzLlxuICovIGZ1bmN0aW9uIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcihlLCB0LCBuLCByID0ge30pIHtcbiAgICB2YXIgaTtcbiAgICBjb25zdCBzID0gKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUkMSkpLl9nZXRTZXR0aW5ncygpLCBvID0gYCR7dH06JHtufWA7XG4gICAgaWYgKFwiZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tXCIgIT09IHMuaG9zdCAmJiBzLmhvc3QgIT09IG8gJiYgX19QUklWQVRFX2xvZ1dhcm4oXCJIb3N0IGhhcyBiZWVuIHNldCBpbiBib3RoIHNldHRpbmdzKCkgYW5kIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcigpLCBlbXVsYXRvciBob3N0IHdpbGwgYmUgdXNlZC5cIiksIFxuICAgIGUuX3NldFNldHRpbmdzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcyksIHtcbiAgICAgICAgaG9zdDogbyxcbiAgICAgICAgc3NsOiAhMVxuICAgIH0pKSwgci5tb2NrVXNlclRva2VuKSB7XG4gICAgICAgIGxldCB0LCBuO1xuICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5tb2NrVXNlclRva2VuKSB0ID0gci5tb2NrVXNlclRva2VuLCBuID0gVXNlci5NT0NLX1VTRVI7IGVsc2Uge1xuICAgICAgICAgICAgLy8gTGV0IGNyZWF0ZU1vY2tVc2VyVG9rZW4gdmFsaWRhdGUgZmlyc3QgKGNhdGNoZXMgY29tbW9uIG1pc3Rha2VzIGxpa2VcbiAgICAgICAgICAgIC8vIGludmFsaWQgZmllbGQgXCJ1aWRcIiBhbmQgbWlzc2luZyBmaWVsZCBcInN1YlwiIC8gXCJ1c2VyX2lkXCIuKVxuICAgICAgICAgICAgdCA9IHV0aWwuY3JlYXRlTW9ja1VzZXJUb2tlbihyLm1vY2tVc2VyVG9rZW4sIG51bGwgPT09IChpID0gZS5fYXBwKSB8fCB2b2lkIDAgPT09IGkgPyB2b2lkIDAgOiBpLm9wdGlvbnMucHJvamVjdElkKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSByLm1vY2tVc2VyVG9rZW4uc3ViIHx8IHIubW9ja1VzZXJUb2tlbi51c2VyX2lkO1xuICAgICAgICAgICAgaWYgKCFzKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIm1vY2tVc2VyVG9rZW4gbXVzdCBjb250YWluICdzdWInIG9yICd1c2VyX2lkJyBmaWVsZCFcIik7XG4gICAgICAgICAgICBuID0gbmV3IFVzZXIocyk7XG4gICAgICAgIH1cbiAgICAgICAgZS5fYXV0aENyZWRlbnRpYWxzID0gbmV3IF9fUFJJVkFURV9FbXVsYXRvckF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyKG5ldyBfX1BSSVZBVEVfT0F1dGhUb2tlbih0LCBuKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGBRdWVyeWAgcmVmZXJzIHRvIGEgcXVlcnkgd2hpY2ggeW91IGNhbiByZWFkIG9yIGxpc3RlbiB0by4gWW91IGNhbiBhbHNvXG4gKiBjb25zdHJ1Y3QgcmVmaW5lZCBgUXVlcnlgIG9iamVjdHMgYnkgYWRkaW5nIGZpbHRlcnMgYW5kIG9yZGVyaW5nLlxuICovIGNsYXNzIFF1ZXJ5IHtcbiAgICAvLyBUaGlzIGlzIHRoZSBsaXRlIHZlcnNpb24gb2YgdGhlIFF1ZXJ5IGNsYXNzIGluIHRoZSBtYWluIFNESy5cbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciBwcm90ZWN0ZWQgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCBcbiAgICAvKipcbiAgICAgKiBJZiBwcm92aWRlZCwgdGhlIGBGaXJlc3RvcmVEYXRhQ29udmVydGVyYCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICB0LCBuKSB7XG4gICAgICAgIHRoaXMuY29udmVydGVyID0gdCwgdGhpcy5fcXVlcnkgPSBuLCBcbiAgICAgICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgRmlyZXN0b3JlIHJlZmVyZW5jZS4gKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJxdWVyeVwiLCB0aGlzLmZpcmVzdG9yZSA9IGU7XG4gICAgfVxuICAgIHdpdGhDb252ZXJ0ZXIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KHRoaXMuZmlyZXN0b3JlLCBlLCB0aGlzLl9xdWVyeSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgYERvY3VtZW50UmVmZXJlbmNlYCByZWZlcnMgdG8gYSBkb2N1bWVudCBsb2NhdGlvbiBpbiBhIEZpcmVzdG9yZSBkYXRhYmFzZVxuICogYW5kIGNhbiBiZSB1c2VkIHRvIHdyaXRlLCByZWFkLCBvciBsaXN0ZW4gdG8gdGhlIGxvY2F0aW9uLiBUaGUgZG9jdW1lbnQgYXRcbiAqIHRoZSByZWZlcmVuY2VkIGxvY2F0aW9uIG1heSBvciBtYXkgbm90IGV4aXN0LlxuICovIGNsYXNzIERvY3VtZW50UmVmZXJlbmNlIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIFxuICAgIC8qKlxuICAgICAqIElmIHByb3ZpZGVkLCB0aGUgYEZpcmVzdG9yZURhdGFDb252ZXJ0ZXJgIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGluc3RhbmNlLlxuICAgICAqL1xuICAgIHQsIG4pIHtcbiAgICAgICAgdGhpcy5jb252ZXJ0ZXIgPSB0LCB0aGlzLl9rZXkgPSBuLCBcbiAgICAgICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgRmlyZXN0b3JlIHJlZmVyZW5jZS4gKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJkb2N1bWVudFwiLCB0aGlzLmZpcmVzdG9yZSA9IGU7XG4gICAgfVxuICAgIGdldCBfcGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleS5wYXRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZG9jdW1lbnQncyBpZGVudGlmaWVyIHdpdGhpbiBpdHMgY29sbGVjdGlvbi5cbiAgICAgKi8gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5LnBhdGgubGFzdFNlZ21lbnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBwYXRoIG9mIHRoZSByZWZlcmVuY2VkIGRvY3VtZW50IChyZWxhdGl2ZVxuICAgICAqIHRvIHRoZSByb290IG9mIHRoZSBkYXRhYmFzZSkuXG4gICAgICovICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5LnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsZWN0aW9uIHRoaXMgYERvY3VtZW50UmVmZXJlbmNlYCBiZWxvbmdzIHRvLlxuICAgICAqLyAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb25SZWZlcmVuY2UodGhpcy5maXJlc3RvcmUsIHRoaXMuY29udmVydGVyLCB0aGlzLl9rZXkucGF0aC5wb3BMYXN0KCkpO1xuICAgIH1cbiAgICB3aXRoQ29udmVydGVyKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudFJlZmVyZW5jZSh0aGlzLmZpcmVzdG9yZSwgZSwgdGhpcy5fa2V5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBgQ29sbGVjdGlvblJlZmVyZW5jZWAgb2JqZWN0IGNhbiBiZSB1c2VkIGZvciBhZGRpbmcgZG9jdW1lbnRzLCBnZXR0aW5nXG4gKiBkb2N1bWVudCByZWZlcmVuY2VzLCBhbmQgcXVlcnlpbmcgZm9yIGRvY3VtZW50cyAodXNpbmcge0BsaW5rIChxdWVyeToxKX0pLlxuICovIGNsYXNzIENvbGxlY3Rpb25SZWZlcmVuY2UgZXh0ZW5kcyBRdWVyeSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKGUsIHQsIF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgobikpLCB0aGlzLl9wYXRoID0gbiwgXG4gICAgICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIEZpcmVzdG9yZSByZWZlcmVuY2UuICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwiY29sbGVjdGlvblwiO1xuICAgIH1cbiAgICAvKiogVGhlIGNvbGxlY3Rpb24ncyBpZGVudGlmaWVyLiAqLyAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWVyeS5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcGF0aCBvZiB0aGUgcmVmZXJlbmNlZCBjb2xsZWN0aW9uIChyZWxhdGl2ZVxuICAgICAqIHRvIHRoZSByb290IG9mIHRoZSBkYXRhYmFzZSkuXG4gICAgICovICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVlcnkucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGNvbnRhaW5pbmcgYERvY3VtZW50UmVmZXJlbmNlYCBpZiB0aGlzIGlzIGFcbiAgICAgKiBzdWJjb2xsZWN0aW9uLiBJZiB0aGlzIGlzbid0IGEgc3ViY29sbGVjdGlvbiwgdGhlIHJlZmVyZW5jZSBpcyBudWxsLlxuICAgICAqLyAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5fcGF0aC5wb3BMYXN0KCk7XG4gICAgICAgIHJldHVybiBlLmlzRW1wdHkoKSA/IG51bGwgOiBuZXcgRG9jdW1lbnRSZWZlcmVuY2UodGhpcy5maXJlc3RvcmUsIFxuICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIG5ldyBEb2N1bWVudEtleShlKSk7XG4gICAgfVxuICAgIHdpdGhDb252ZXJ0ZXIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb25SZWZlcmVuY2UodGhpcy5maXJlc3RvcmUsIGUsIHRoaXMuX3BhdGgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdGlvbihlLCB0LCAuLi5uKSB7XG4gICAgaWYgKGUgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShlKSwgX19QUklWQVRFX3ZhbGlkYXRlTm9uRW1wdHlBcmd1bWVudChcImNvbGxlY3Rpb25cIiwgXCJwYXRoXCIsIHQpLCBlIGluc3RhbmNlb2YgRmlyZXN0b3JlJDEpIHtcbiAgICAgICAgY29uc3QgciA9IFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKHQsIC4uLm4pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ZhbGlkYXRlQ29sbGVjdGlvblBhdGgociksIG5ldyBDb2xsZWN0aW9uUmVmZXJlbmNlKGUsIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgcik7XG4gICAgfVxuICAgIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIERvY3VtZW50UmVmZXJlbmNlIHx8IGUgaW5zdGFuY2VvZiBDb2xsZWN0aW9uUmVmZXJlbmNlKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBjb2xsZWN0aW9uKCkgdG8gYmUgYSBDb2xsZWN0aW9uUmVmZXJlbmNlLCBhIERvY3VtZW50UmVmZXJlbmNlIG9yIEZpcmViYXNlRmlyZXN0b3JlXCIpO1xuICAgICAgICBjb25zdCByID0gZS5fcGF0aC5jaGlsZChSZXNvdXJjZVBhdGguZnJvbVN0cmluZyh0LCAuLi5uKSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVDb2xsZWN0aW9uUGF0aChyKSwgbmV3IENvbGxlY3Rpb25SZWZlcmVuY2UoZS5maXJlc3RvcmUsIFxuICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIHIpO1xuICAgIH1cbn1cblxuLy8gVE9ETyhmaXJlc3RvcmVsaXRlKTogQ29uc2lkZXIgdXNpbmcgRXJyb3JGYWN0b3J5IC1cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvYmxvYi8wMTMxZTFmL3BhY2thZ2VzL3V0aWwvc3JjL2Vycm9ycy50cyNMMTA2XG4vKipcbiAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgYFF1ZXJ5YCBpbnN0YW5jZSB0aGF0IGluY2x1ZGVzIGFsbCBkb2N1bWVudHMgaW4gdGhlXG4gKiBkYXRhYmFzZSB0aGF0IGFyZSBjb250YWluZWQgaW4gYSBjb2xsZWN0aW9uIG9yIHN1YmNvbGxlY3Rpb24gd2l0aCB0aGVcbiAqIGdpdmVuIGBjb2xsZWN0aW9uSWRgLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBBIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBgRmlyZXN0b3JlYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSBjb2xsZWN0aW9uSWQgLSBJZGVudGlmaWVzIHRoZSBjb2xsZWN0aW9ucyB0byBxdWVyeSBvdmVyLiBFdmVyeVxuICogY29sbGVjdGlvbiBvciBzdWJjb2xsZWN0aW9uIHdpdGggdGhpcyBJRCBhcyB0aGUgbGFzdCBzZWdtZW50IG9mIGl0cyBwYXRoXG4gKiB3aWxsIGJlIGluY2x1ZGVkLiBDYW5ub3QgY29udGFpbiBhIHNsYXNoLlxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQgYFF1ZXJ5YC5cbiAqLyBmdW5jdGlvbiBjb2xsZWN0aW9uR3JvdXAoZSwgdCkge1xuICAgIGlmIChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlJDEpLCBfX1BSSVZBVEVfdmFsaWRhdGVOb25FbXB0eUFyZ3VtZW50KFwiY29sbGVjdGlvbkdyb3VwXCIsIFwiY29sbGVjdGlvbiBpZFwiLCB0KSwgXG4gICAgdC5pbmRleE9mKFwiL1wiKSA+PSAwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBjb2xsZWN0aW9uIElEICcke3R9JyBwYXNzZWQgdG8gZnVuY3Rpb24gY29sbGVjdGlvbkdyb3VwKCkuIENvbGxlY3Rpb24gSURzIG11c3Qgbm90IGNvbnRhaW4gJy8nLmApO1xuICAgIHJldHVybiBuZXcgUXVlcnkoZSwgXG4gICAgLyogY29udmVydGVyPSAqLyBudWxsLCBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnlGb3JDb2xsZWN0aW9uR3JvdXAoZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9RdWVyeUltcGwoUmVzb3VyY2VQYXRoLmVtcHR5UGF0aCgpLCBlKTtcbiAgICB9KHQpKTtcbn1cblxuZnVuY3Rpb24gZG9jKGUsIHQsIC4uLm4pIHtcbiAgICBpZiAoZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpLCBcbiAgICAvLyBXZSBhbGxvdyBvbWlzc2lvbiBvZiAncGF0aFN0cmluZycgYnV0IGV4cGxpY2l0bHkgcHJvaGliaXQgcGFzc2luZyBpbiBib3RoXG4gICAgLy8gJ3VuZGVmaW5lZCcgYW5kICdudWxsJy5cbiAgICAxID09PSBhcmd1bWVudHMubGVuZ3RoICYmICh0ID0gX19QUklWQVRFX0F1dG9JZC5uZXdJZCgpKSwgX19QUklWQVRFX3ZhbGlkYXRlTm9uRW1wdHlBcmd1bWVudChcImRvY1wiLCBcInBhdGhcIiwgdCksIFxuICAgIGUgaW5zdGFuY2VvZiBGaXJlc3RvcmUkMSkge1xuICAgICAgICBjb25zdCByID0gUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcodCwgLi4ubik7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVEb2N1bWVudFBhdGgociksIG5ldyBEb2N1bWVudFJlZmVyZW5jZShlLCBcbiAgICAgICAgLyogY29udmVydGVyPSAqLyBudWxsLCBuZXcgRG9jdW1lbnRLZXkocikpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSB8fCBlIGluc3RhbmNlb2YgQ29sbGVjdGlvblJlZmVyZW5jZSkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gY29sbGVjdGlvbigpIHRvIGJlIGEgQ29sbGVjdGlvblJlZmVyZW5jZSwgYSBEb2N1bWVudFJlZmVyZW5jZSBvciBGaXJlYmFzZUZpcmVzdG9yZVwiKTtcbiAgICAgICAgY29uc3QgciA9IGUuX3BhdGguY2hpbGQoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcodCwgLi4ubikpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ZhbGlkYXRlRG9jdW1lbnRQYXRoKHIpLCBuZXcgRG9jdW1lbnRSZWZlcmVuY2UoZS5maXJlc3RvcmUsIGUgaW5zdGFuY2VvZiBDb2xsZWN0aW9uUmVmZXJlbmNlID8gZS5jb252ZXJ0ZXIgOiBudWxsLCBuZXcgRG9jdW1lbnRLZXkocikpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIHJlZmVyZW5jZXMgYXJlIGVxdWFsLlxuICpcbiAqIEBwYXJhbSBsZWZ0IC0gQSByZWZlcmVuY2UgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSByaWdodCAtIEEgcmVmZXJlbmNlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSByZWZlcmVuY2VzIHBvaW50IHRvIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBzYW1lXG4gKiBGaXJlc3RvcmUgZGF0YWJhc2UuXG4gKi8gZnVuY3Rpb24gcmVmRXF1YWwoZSwgdCkge1xuICAgIHJldHVybiBlID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UoZSksIHQgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZSh0KSwgKGUgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSB8fCBlIGluc3RhbmNlb2YgQ29sbGVjdGlvblJlZmVyZW5jZSkgJiYgKHQgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSB8fCB0IGluc3RhbmNlb2YgQ29sbGVjdGlvblJlZmVyZW5jZSkgJiYgKGUuZmlyZXN0b3JlID09PSB0LmZpcmVzdG9yZSAmJiBlLnBhdGggPT09IHQucGF0aCAmJiBlLmNvbnZlcnRlciA9PT0gdC5jb252ZXJ0ZXIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgcXVlcmllcyBwb2ludCB0byB0aGUgc2FtZSBjb2xsZWN0aW9uIGFuZCBhcHBseVxuICogdGhlIHNhbWUgY29uc3RyYWludHMuXG4gKlxuICogQHBhcmFtIGxlZnQgLSBBIGBRdWVyeWAgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSByaWdodCAtIEEgYFF1ZXJ5YCB0byBjb21wYXJlLlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmVmZXJlbmNlcyBwb2ludCB0byB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgc2FtZVxuICogRmlyZXN0b3JlIGRhdGFiYXNlLlxuICovIGZ1bmN0aW9uIHF1ZXJ5RXF1YWwoZSwgdCkge1xuICAgIHJldHVybiBlID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UoZSksIHQgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZSh0KSwgZSBpbnN0YW5jZW9mIFF1ZXJ5ICYmIHQgaW5zdGFuY2VvZiBRdWVyeSAmJiAoZS5maXJlc3RvcmUgPT09IHQuZmlyZXN0b3JlICYmIF9fUFJJVkFURV9xdWVyeUVxdWFscyhlLl9xdWVyeSwgdC5fcXVlcnkpICYmIGUuY29udmVydGVyID09PSB0LmNvbnZlcnRlcik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9Bc3luY1F1ZXVlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIFRoZSBsYXN0IHByb21pc2UgaW4gdGhlIHF1ZXVlLlxuICAgICAgICB0aGlzLml1ID0gUHJvbWlzZS5yZXNvbHZlKCksIFxuICAgICAgICAvLyBBIGxpc3Qgb2YgcmV0cnlhYmxlIG9wZXJhdGlvbnMuIFJldHJ5YWJsZSBvcGVyYXRpb25zIGFyZSBydW4gaW4gb3JkZXIgYW5kXG4gICAgICAgIC8vIHJldHJpZWQgd2l0aCBiYWNrb2ZmLlxuICAgICAgICB0aGlzLnN1ID0gW10sIFxuICAgICAgICAvLyBJcyB0aGlzIEFzeW5jUXVldWUgYmVpbmcgc2h1dCBkb3duPyBPbmNlIGl0IGlzIHNldCB0byB0cnVlLCBpdCB3aWxsIG5vdFxuICAgICAgICAvLyBiZSBjaGFuZ2VkIGFnYWluLlxuICAgICAgICB0aGlzLm91ID0gITEsIFxuICAgICAgICAvLyBPcGVyYXRpb25zIHNjaGVkdWxlZCB0byBiZSBxdWV1ZWQgaW4gdGhlIGZ1dHVyZS4gT3BlcmF0aW9ucyBhcmVcbiAgICAgICAgLy8gYXV0b21hdGljYWxseSByZW1vdmVkIGFmdGVyIHRoZXkgYXJlIHJ1biBvciBjYW5jZWxlZC5cbiAgICAgICAgdGhpcy5fdSA9IFtdLCBcbiAgICAgICAgLy8gdmlzaWJsZSBmb3IgdGVzdGluZ1xuICAgICAgICB0aGlzLmF1ID0gbnVsbCwgXG4gICAgICAgIC8vIEZsYWcgc2V0IHdoaWxlIHRoZXJlJ3MgYW4gb3V0c3RhbmRpbmcgQXN5bmNRdWV1ZSBvcGVyYXRpb24sIHVzZWQgZm9yXG4gICAgICAgIC8vIGFzc2VydGlvbiBzYW5pdHktY2hlY2tzLlxuICAgICAgICB0aGlzLnV1ID0gITEsIFxuICAgICAgICAvLyBFbmFibGVkIGR1cmluZyBzaHV0ZG93biBvbiBTYWZhcmkgdG8gcHJldmVudCBmdXR1cmUgYWNjZXNzIHRvIEluZGV4ZWREQi5cbiAgICAgICAgdGhpcy5jdSA9ICExLCBcbiAgICAgICAgLy8gTGlzdCBvZiBUaW1lcklkcyB0byBmYXN0LWZvcndhcmQgZGVsYXlzIGZvci5cbiAgICAgICAgdGhpcy5sdSA9IFtdLCBcbiAgICAgICAgLy8gQmFja29mZiB0aW1lciB1c2VkIHRvIHNjaGVkdWxlIHJldHJpZXMgZm9yIHJldHJ5YWJsZSBvcGVyYXRpb25zXG4gICAgICAgIHRoaXMuWW8gPSBuZXcgX19QUklWQVRFX0V4cG9uZW50aWFsQmFja29mZih0aGlzLCBcImFzeW5jX3F1ZXVlX3JldHJ5XCIgLyogVGltZXJJZC5Bc3luY1F1ZXVlUmV0cnkgKi8pLCBcbiAgICAgICAgLy8gVmlzaWJpbGl0eSBoYW5kbGVyIHRoYXQgdHJpZ2dlcnMgYW4gaW1tZWRpYXRlIHJldHJ5IG9mIGFsbCByZXRyeWFibGVcbiAgICAgICAgLy8gb3BlcmF0aW9ucy4gTWVhbnQgdG8gc3BlZWQgdXAgcmVjb3Zlcnkgd2hlbiB3ZSByZWdhaW4gZmlsZSBzeXN0ZW0gYWNjZXNzXG4gICAgICAgIC8vIGFmdGVyIHBhZ2UgY29tZXMgaW50byBmb3JlZ3JvdW5kLlxuICAgICAgICB0aGlzLmh1ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IGdldERvY3VtZW50KCk7XG4gICAgICAgICAgICBlICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkFzeW5jUXVldWVcIiwgXCJWaXNpYmlsaXR5IHN0YXRlIGNoYW5nZWQgdG8gXCIgKyBlLnZpc2liaWxpdHlTdGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5Zby5XbygpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgZSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lciAmJiBlLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMuaHUpO1xuICAgIH1cbiAgICBnZXQgaXNTaHV0dGluZ0Rvd24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IG9wZXJhdGlvbiB0byB0aGUgcXVldWUgd2l0aG91dCB3YWl0aW5nIGZvciBpdCB0byBjb21wbGV0ZSAoaS5lLlxuICAgICAqIHdlIGlnbm9yZSB0aGUgUHJvbWlzZSByZXN1bHQpLlxuICAgICAqLyAgICBlbnF1ZXVlQW5kRm9yZ2V0KGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB0aGlzLmVucXVldWUoZSk7XG4gICAgfVxuICAgIGVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKGUpIHtcbiAgICAgICAgdGhpcy5QdSgpLCBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB0aGlzLkl1KGUpO1xuICAgIH1cbiAgICBlbnRlclJlc3RyaWN0ZWRNb2RlKGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm91KSB7XG4gICAgICAgICAgICB0aGlzLm91ID0gITAsIHRoaXMuY3UgPSBlIHx8ICExO1xuICAgICAgICAgICAgY29uc3QgdCA9IGdldERvY3VtZW50KCk7XG4gICAgICAgICAgICB0ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdC5yZW1vdmVFdmVudExpc3RlbmVyICYmIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5odSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5xdWV1ZShlKSB7XG4gICAgICAgIGlmICh0aGlzLlB1KCksIHRoaXMub3UpIFxuICAgICAgICAvLyBSZXR1cm4gYSBQcm9taXNlIHdoaWNoIG5ldmVyIHJlc29sdmVzLlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKCgpID0+IHt9KSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIGRlZmVycmVkIFByb21pc2UgdGhhdCB3ZSBjYW4gcmV0dXJuIHRvIHRoZSBjYWxsZWUuIFRoaXNcbiAgICAgICAgLy8gYWxsb3dzIHVzIHRvIHJldHVybiBhIFwiaGFuZ2luZyBQcm9taXNlXCIgb25seSB0byB0aGUgY2FsbGVlIGFuZCBzdGlsbFxuICAgICAgICAvLyBhZHZhbmNlIHRoZSBxdWV1ZSBldmVuIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBub3QgcnVuLlxuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5JdSgoKCkgPT4gdGhpcy5vdSAmJiB0aGlzLmN1ID8gUHJvbWlzZS5yZXNvbHZlKCkgOiAoZSgpLnRoZW4odC5yZXNvbHZlLCB0LnJlamVjdCksIFxuICAgICAgICB0LnByb21pc2UpKSkudGhlbigoKCkgPT4gdC5wcm9taXNlKSk7XG4gICAgfVxuICAgIGVucXVldWVSZXRyeWFibGUoZSkge1xuICAgICAgICB0aGlzLmVucXVldWVBbmRGb3JnZXQoKCgpID0+ICh0aGlzLnN1LnB1c2goZSksIHRoaXMuVHUoKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgbmV4dCBvcGVyYXRpb24gZnJvbSB0aGUgcmV0cnlhYmxlIHF1ZXVlLiBJZiB0aGUgb3BlcmF0aW9uIGZhaWxzLFxuICAgICAqIHJlc2NoZWR1bGVzIHdpdGggYmFja29mZi5cbiAgICAgKi8gICAgYXN5bmMgVHUoKSB7XG4gICAgICAgIGlmICgwICE9PSB0aGlzLnN1Lmxlbmd0aCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN1WzBdKCksIHRoaXMuc3Uuc2hpZnQoKSwgdGhpcy5Zby5yZXNldCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmICghX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcihlKSkgdGhyb3cgZTtcbiAvLyBGYWlsdXJlIHdpbGwgYmUgaGFuZGxlZCBieSBBc3luY1F1ZXVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkFzeW5jUXVldWVcIiwgXCJPcGVyYXRpb24gZmFpbGVkIHdpdGggcmV0cnlhYmxlIGVycm9yOiBcIiArIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdS5sZW5ndGggPiAwICYmIFxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFkZGl0aW9uYWwgb3BlcmF0aW9ucywgd2UgcmUtc2NoZWR1bGUgYHJldHJ5TmV4dE9wKClgLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgdG8gcnVuIHJldHJ5YWJsZSBvcGVyYXRpb25zIHRoYXQgZmFpbGVkIGR1cmluZ1xuICAgICAgICAgICAgLy8gdGhlaXIgaW5pdGlhbCBhdHRlbXB0IHNpbmNlIHdlIGRvbid0IGtub3cgd2hldGhlciB0aGV5IGFyZSBhbHJlYWR5XG4gICAgICAgICAgICAvLyBlbnF1ZXVlZC4gSWYsIGZvciBleGFtcGxlLCBgb3AxYCwgYG9wMmAsIGBvcDNgIGFyZSBlbnF1ZXVlZCBhbmQgYG9wMWBcbiAgICAgICAgICAgIC8vIG5lZWRzIHRvICBiZSByZS1ydW4sIHdlIHdpbGwgcnVuIGBvcDFgLCBgb3AxYCwgYG9wMmAgdXNpbmcgdGhlXG4gICAgICAgICAgICAvLyBhbHJlYWR5IGVucXVldWVkIGNhbGxzIHRvIGByZXRyeU5leHRPcCgpYC4gYG9wMygpYCB3aWxsIHRoZW4gcnVuIGluIHRoZVxuICAgICAgICAgICAgLy8gY2FsbCBzY2hlZHVsZWQgaGVyZS5cbiAgICAgICAgICAgIC8vIFNpbmNlIGBiYWNrb2ZmQW5kUnVuKClgIGNhbmNlbHMgYW4gZXhpc3RpbmcgYmFja29mZiBhbmQgc2NoZWR1bGVzIGFcbiAgICAgICAgICAgIC8vIG5ldyBiYWNrb2ZmIG9uIGV2ZXJ5IGNhbGwsIHRoZXJlIGlzIG9ubHkgZXZlciBhIHNpbmdsZSBhZGRpdGlvbmFsXG4gICAgICAgICAgICAvLyBvcGVyYXRpb24gaW4gdGhlIHF1ZXVlLlxuICAgICAgICAgICAgdGhpcy5Zby4kbygoKCkgPT4gdGhpcy5UdSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSXUoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5pdS50aGVuKCgoKSA9PiAodGhpcy51dSA9ICEwLCBlKCkuY2F0Y2goKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hdSA9IGUsIHRoaXMudXUgPSAhMTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBcbiAgICAgICAgICAgIC8qKlxuICogQ2hyb21lIGluY2x1ZGVzIEVycm9yLm1lc3NhZ2UgaW4gRXJyb3Iuc3RhY2suIE90aGVyIGJyb3dzZXJzIGRvIG5vdC5cbiAqIFRoaXMgcmV0dXJucyBleHBlY3RlZCBvdXRwdXQgb2YgbWVzc2FnZSArIHN0YWNrIHdoZW4gYXZhaWxhYmxlLlxuICogQHBhcmFtIGVycm9yIC0gRXJyb3Igb3IgRmlyZXN0b3JlRXJyb3JcbiAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2dldE1lc3NhZ2VPclN0YWNrKGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IGUubWVzc2FnZSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIGUuc3RhY2sgJiYgKHQgPSBlLnN0YWNrLmluY2x1ZGVzKGUubWVzc2FnZSkgPyBlLnN0YWNrIDogZS5tZXNzYWdlICsgXCJcXG5cIiArIGUuc3RhY2spO1xuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gKGUpO1xuICAgICAgICAgICAgLy8gUmUtdGhyb3cgdGhlIGVycm9yIHNvIHRoYXQgdGhpcy50YWlsIGJlY29tZXMgYSByZWplY3RlZCBQcm9taXNlIGFuZFxuICAgICAgICAgICAgLy8gYWxsIGZ1cnRoZXIgYXR0ZW1wdHMgdG8gY2hhaW4gKHZpYSAudGhlbikgd2lsbCBqdXN0IHNob3J0LWNpcmN1aXRcbiAgICAgICAgICAgIC8vIGFuZCByZXR1cm4gdGhlIHJlamVjdGVkIFByb21pc2UuXG4gICAgICAgICAgICB0aHJvdyBfX1BSSVZBVEVfbG9nRXJyb3IoXCJJTlRFUk5BTCBVTkhBTkRMRUQgRVJST1I6IFwiLCB0KSwgZTtcbiAgICAgICAgfSkpLnRoZW4oKGUgPT4gKHRoaXMudXUgPSAhMSwgZSkpKSkpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXUgPSB0LCB0O1xuICAgIH1cbiAgICBlbnF1ZXVlQWZ0ZXJEZWxheShlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuUHUoKSwgXG4gICAgICAgIC8vIEZhc3QtZm9yd2FyZCBkZWxheXMgZm9yIHRpbWVySWRzIHRoYXQgaGF2ZSBiZWVuIG92ZXJyaWRlbi5cbiAgICAgICAgdGhpcy5sdS5pbmRleE9mKGUpID4gLTEgJiYgKHQgPSAwKTtcbiAgICAgICAgY29uc3QgciA9IERlbGF5ZWRPcGVyYXRpb24uY3JlYXRlQW5kU2NoZWR1bGUodGhpcywgZSwgdCwgbiwgKGUgPT4gdGhpcy5FdShlKSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdS5wdXNoKHIpLCByO1xuICAgIH1cbiAgICBQdSgpIHtcbiAgICAgICAgdGhpcy5hdSAmJiBmYWlsKCk7XG4gICAgfVxuICAgIHZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MoKSB7fVxuICAgIC8qKlxuICAgICAqIFdhaXRzIHVudGlsIGFsbCBjdXJyZW50bHkgcXVldWVkIHRhc2tzIGFyZSBmaW5pc2hlZCBleGVjdXRpbmcuIERlbGF5ZWRcbiAgICAgKiBvcGVyYXRpb25zIGFyZSBub3QgcnVuLlxuICAgICAqLyAgICBhc3luYyBkdSgpIHtcbiAgICAgICAgLy8gT3BlcmF0aW9ucyBpbiB0aGUgcXVldWUgcHJpb3IgdG8gZHJhaW5pbmcgbWF5IGhhdmUgZW5xdWV1ZWQgYWRkaXRpb25hbFxuICAgICAgICAvLyBvcGVyYXRpb25zLiBLZWVwIGRyYWluaW5nIHRoZSBxdWV1ZSB1bnRpbCB0aGUgdGFpbCBpcyBubyBsb25nZXIgYWR2YW5jZWQsXG4gICAgICAgIC8vIHdoaWNoIGluZGljYXRlcyB0aGF0IG5vIG1vcmUgbmV3IG9wZXJhdGlvbnMgd2VyZSBlbnF1ZXVlZCBhbmQgdGhhdCBhbGxcbiAgICAgICAgLy8gb3BlcmF0aW9ucyB3ZXJlIGV4ZWN1dGVkLlxuICAgICAgICBsZXQgZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgZSA9IHRoaXMuaXUsIGF3YWl0IGU7XG4gICAgICAgIH0gd2hpbGUgKGUgIT09IHRoaXMuaXUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgVGVzdHM6IERldGVybWluZSBpZiBhIGRlbGF5ZWQgb3BlcmF0aW9uIHdpdGggYSBwYXJ0aWN1bGFyIFRpbWVySWRcbiAgICAgKiBleGlzdHMuXG4gICAgICovICAgIEF1KGUpIHtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHRoaXMuX3UpIGlmICh0LnRpbWVySWQgPT09IGUpIHJldHVybiAhMDtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgVGVzdHM6IFJ1bnMgc29tZSBvciBhbGwgZGVsYXllZCBvcGVyYXRpb25zIGVhcmx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxhc3RUaW1lcklkIC0gRGVsYXllZCBvcGVyYXRpb25zIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhpcyBUaW1lcklkXG4gICAgICogd2lsbCBiZSBkcmFpbmVkLiBQYXNzIFRpbWVySWQuQWxsIHRvIHJ1biBhbGwgZGVsYXllZCBvcGVyYXRpb25zLlxuICAgICAqIEByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgYWxsIG9wZXJhdGlvbnMgaGF2ZSBiZWVuIHJ1bi5cbiAgICAgKi8gICAgUnUoZSkge1xuICAgICAgICAvLyBOb3RlIHRoYXQgZHJhaW5pbmcgbWF5IGdlbmVyYXRlIG1vcmUgZGVsYXllZCBvcHMsIHNvIHdlIGRvIHRoYXQgZmlyc3QuXG4gICAgICAgIHJldHVybiB0aGlzLmR1KCkudGhlbigoKCkgPT4ge1xuICAgICAgICAgICAgLy8gUnVuIG9wcyBpbiB0aGUgc2FtZSBvcmRlciB0aGV5J2QgcnVuIGlmIHRoZXkgcmFuIG5hdHVyYWxseS5cbiAgICAgICAgICAgIHRoaXMuX3Uuc29ydCgoKGUsIHQpID0+IGUudGFyZ2V0VGltZU1zIC0gdC50YXJnZXRUaW1lTXMpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLl91KSBpZiAodC5za2lwRGVsYXkoKSwgXCJhbGxcIiAvKiBUaW1lcklkLkFsbCAqLyAhPT0gZSAmJiB0LnRpbWVySWQgPT09IGUpIGJyZWFrO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHUoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgVGVzdHM6IFNraXAgYWxsIHN1YnNlcXVlbnQgZGVsYXlzIGZvciBhIHRpbWVyIGlkLlxuICAgICAqLyAgICBWdShlKSB7XG4gICAgICAgIHRoaXMubHUucHVzaChlKTtcbiAgICB9XG4gICAgLyoqIENhbGxlZCBvbmNlIGEgRGVsYXllZE9wZXJhdGlvbiBpcyBydW4gb3IgY2FuY2VsZWQuICovICAgIEV1KGUpIHtcbiAgICAgICAgLy8gTk9URTogaW5kZXhPZiAvIHNsaWNlIGFyZSBPKG4pLCBidXQgZGVsYXllZE9wZXJhdGlvbnMgaXMgZXhwZWN0ZWQgdG8gYmUgc21hbGwuXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLl91LmluZGV4T2YoZSk7XG4gICAgICAgIHRoaXMuX3Uuc3BsaWNlKHQsIDEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2lzUGFydGlhbE9ic2VydmVyKGUpIHtcbiAgICAvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBvYmogaXMgYW4gb2JqZWN0IGFuZCBjb250YWlucyBhdCBsZWFzdCBvbmUgb2YgdGhlIHNwZWNpZmllZFxuICogbWV0aG9kcy5cbiAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfaW1wbGVtZW50c0FueU1ldGhvZHMoZSwgdCkge1xuICAgICAgICBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgZSB8fCBudWxsID09PSBlKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IG4gPSBlO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdCkgaWYgKGUgaW4gbiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG5bZV0pIHJldHVybiAhMDtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgIC8qKlxuICogUmVwcmVzZW50cyB0aGUgdGFzayBvZiBsb2FkaW5nIGEgRmlyZXN0b3JlIGJ1bmRsZS4gSXQgcHJvdmlkZXMgcHJvZ3Jlc3Mgb2YgYnVuZGxlXG4gKiBsb2FkaW5nLCBhcyB3ZWxsIGFzIHRhc2sgY29tcGxldGlvbiBhbmQgZXJyb3IgZXZlbnRzLlxuICpcbiAqIFRoZSBBUEkgaXMgY29tcGF0aWJsZSB3aXRoIGBQcm9taXNlPExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3M+YC5cbiAqLyAoZSwgWyBcIm5leHRcIiwgXCJlcnJvclwiLCBcImNvbXBsZXRlXCIgXSk7XG59XG5cbmNsYXNzIExvYWRCdW5kbGVUYXNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlciA9IHt9LCB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZCwgXG4gICAgICAgIHRoaXMuX2xhc3RQcm9ncmVzcyA9IHtcbiAgICAgICAgICAgIHRhc2tTdGF0ZTogXCJSdW5uaW5nXCIsXG4gICAgICAgICAgICB0b3RhbEJ5dGVzOiAwLFxuICAgICAgICAgICAgdG90YWxEb2N1bWVudHM6IDAsXG4gICAgICAgICAgICBieXRlc0xvYWRlZDogMCxcbiAgICAgICAgICAgIGRvY3VtZW50c0xvYWRlZDogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgZnVuY3Rpb25zIHRvIGxpc3RlbiB0byBidW5kbGUgbG9hZGluZyBwcm9ncmVzcyBldmVudHMuXG4gICAgICogQHBhcmFtIG5leHQgLSBDYWxsZWQgd2hlbiB0aGVyZSBpcyBhIHByb2dyZXNzIHVwZGF0ZSBmcm9tIGJ1bmRsZSBsb2FkaW5nLiBUeXBpY2FsbHkgYG5leHRgIGNhbGxzIG9jY3VyXG4gICAgICogICBlYWNoIHRpbWUgYSBGaXJlc3RvcmUgZG9jdW1lbnQgaXMgbG9hZGVkIGZyb20gdGhlIGJ1bmRsZS5cbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGJ1bmRsZSBsb2FkaW5nLiBUaGUgdGFzayBhYm9ydHMgYWZ0ZXIgcmVwb3J0aW5nIHRoZVxuICAgICAqICAgZXJyb3IsIGFuZCB0aGVyZSBzaG91bGQgYmUgbm8gbW9yZSB1cGRhdGVzIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIGNvbXBsZXRlIC0gQ2FsbGVkIHdoZW4gdGhlIGxvYWRpbmcgdGFzayBpcyBjb21wbGV0ZS5cbiAgICAgKi8gICAgb25Qcm9ncmVzcyhlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICBuZXh0OiBlLFxuICAgICAgICAgICAgZXJyb3I6IHQsXG4gICAgICAgICAgICBjb21wbGV0ZTogblxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRzIHRoZSBgUHJvbWlzZTxMb2FkQnVuZGxlVGFza1Byb2dyZXNzPi5jYXRjaGAgaW50ZXJmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9uUmVqZWN0ZWQgLSBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGJ1bmRsZSBsb2FkaW5nLlxuICAgICAqLyAgICBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnByb21pc2UuY2F0Y2goZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgdGhlIGBQcm9taXNlPExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3M+LnRoZW5gIGludGVyZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvbkZ1bGZpbGxlZCAtIENhbGxlZCBvbiB0aGUgY29tcGxldGlvbiBvZiB0aGUgbG9hZGluZyB0YXNrIHdpdGggYSBmaW5hbCBgTG9hZEJ1bmRsZVRhc2tQcm9ncmVzc2AgdXBkYXRlLlxuICAgICAqICAgVGhlIHVwZGF0ZSB3aWxsIGFsd2F5cyBoYXZlIGl0cyBgdGFza1N0YXRlYCBzZXQgdG8gYFwiU3VjY2Vzc1wiYC5cbiAgICAgKiBAcGFyYW0gb25SZWplY3RlZCAtIENhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgYnVuZGxlIGxvYWRpbmcuXG4gICAgICovICAgIHRoZW4oZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5wcm9taXNlLnRoZW4oZSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIGFsbCBvYnNlcnZlcnMgdGhhdCBidW5kbGUgbG9hZGluZyBoYXMgY29tcGxldGVkLCB3aXRoIGEgcHJvdmlkZWRcbiAgICAgKiBgTG9hZEJ1bmRsZVRhc2tQcm9ncmVzc2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi8gICAgX2NvbXBsZXRlV2l0aChlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzKGUpLCB0aGlzLl9wcm9ncmVzc09ic2VydmVyLmNvbXBsZXRlICYmIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIuY29tcGxldGUoKSwgXG4gICAgICAgIHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIucmVzb2x2ZShlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgYWxsIG9ic2VydmVycyB0aGF0IGJ1bmRsZSBsb2FkaW5nIGhhcyBmYWlsZWQsIHdpdGggYSBwcm92aWRlZFxuICAgICAqIGBFcnJvcmAgYXMgdGhlIHJlYXNvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovICAgIF9mYWlsV2l0aChlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RQcm9ncmVzcy50YXNrU3RhdGUgPSBcIkVycm9yXCIsIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCAmJiB0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQodGhpcy5fbGFzdFByb2dyZXNzKSwgXG4gICAgICAgIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIuZXJyb3IgJiYgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5lcnJvcihlKSwgdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5yZWplY3QoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIGEgcHJvZ3Jlc3MgdXBkYXRlIG9mIGxvYWRpbmcgYSBidW5kbGUuXG4gICAgICogQHBhcmFtIHByb2dyZXNzIC0gVGhlIG5ldyBwcm9ncmVzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovICAgIF91cGRhdGVQcm9ncmVzcyhlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RQcm9ncmVzcyA9IGUsIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCAmJiB0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGluZGljYXRlIHRoZSBMUlUgZ2FyYmFnZSBjb2xsZWN0aW9uIHNob3VsZCBiZSBkaXNhYmxlZC5cbiAqIFNldCB0aGlzIHZhbHVlIGFzIHRoZSBgY2FjaGVTaXplQnl0ZXNgIG9uIHRoZSBzZXR0aW5ncyBwYXNzZWQgdG8gdGhlXG4gKiB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZS5cbiAqLyBjb25zdCB3ZSA9IC0xO1xuXG4vKipcbiAqIFRoZSBDbG91ZCBGaXJlc3RvcmUgc2VydmljZSBpbnRlcmZhY2UuXG4gKlxuICogRG8gbm90IGNhbGwgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gSW5zdGVhZCwgdXNlIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfS5cbiAqLyBjbGFzcyBGaXJlc3RvcmUgZXh0ZW5kcyBGaXJlc3RvcmUkMSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByKSB7XG4gICAgICAgIHN1cGVyKGUsIHQsIG4sIHIpLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgaXQncyBhIHtAbGluayBGaXJlc3RvcmV9IG9yIEZpcmVzdG9yZSBMaXRlIGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJmaXJlc3RvcmVcIiwgdGhpcy5fcXVldWUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3QXN5bmNRdWV1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0FzeW5jUXVldWVJbXBsO1xuICAgICAgICB9KCksIHRoaXMuX3BlcnNpc3RlbmNlS2V5ID0gKG51bGwgPT0gciA/IHZvaWQgMCA6IHIubmFtZSkgfHwgXCJbREVGQVVMVF1cIjtcbiAgICB9XG4gICAgX3Rlcm1pbmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcmVzdG9yZUNsaWVudCB8fCBcbiAgICAgICAgLy8gVGhlIGNsaWVudCBtdXN0IGJlIGluaXRpYWxpemVkIHRvIGVuc3VyZSB0aGF0IGFsbCBzdWJzZXF1ZW50IEFQSVxuICAgICAgICAvLyB1c2FnZSB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgICAgICBfX1BSSVZBVEVfY29uZmlndXJlRmlyZXN0b3JlKHRoaXMpLCB0aGlzLl9maXJlc3RvcmVDbGllbnQudGVybWluYXRlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBGaXJlc3RvcmV9IHdpdGggdGhlIHByb3ZpZGVkIHNldHRpbmdzLlxuICogQ2FuIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBhbnkgb3RoZXIgZnVuY3Rpb24sIGluY2x1ZGluZ1xuICoge0BsaW5rIChnZXRGaXJlc3RvcmU6MSl9LiBJZiB0aGUgY3VzdG9tIHNldHRpbmdzIGFyZSBlbXB0eSwgdGhpcyBmdW5jdGlvbiBpc1xuICogZXF1aXZhbGVudCB0byBjYWxsaW5nIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfS5cbiAqXG4gKiBAcGFyYW0gYXBwIC0gVGhlIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSB3aXRoIHdoaWNoIHRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB3aWxsXG4gKiBiZSBhc3NvY2lhdGVkLlxuICogQHBhcmFtIHNldHRpbmdzIC0gQSBzZXR0aW5ncyBvYmplY3QgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBkYXRhYmFzZUlkIC0gVGhlIG5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICogQHJldHVybnMgQSBuZXdseSBpbml0aWFsaXplZCB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZS5cbiAqLyBmdW5jdGlvbiBpbml0aWFsaXplRmlyZXN0b3JlKGUsIHQsIG4pIHtcbiAgICBuIHx8IChuID0gXCIoZGVmYXVsdClcIik7XG4gICAgY29uc3QgciA9IGFwcC5fZ2V0UHJvdmlkZXIoZSwgXCJmaXJlc3RvcmVcIik7XG4gICAgaWYgKHIuaXNJbml0aWFsaXplZChuKSkge1xuICAgICAgICBjb25zdCBlID0gci5nZXRJbW1lZGlhdGUoe1xuICAgICAgICAgICAgaWRlbnRpZmllcjogblxuICAgICAgICB9KSwgaSA9IHIuZ2V0T3B0aW9ucyhuKTtcbiAgICAgICAgaWYgKHV0aWwuZGVlcEVxdWFsKGksIHQpKSByZXR1cm4gZTtcbiAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJpbml0aWFsaXplRmlyZXN0b3JlKCkgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWQgd2l0aCBkaWZmZXJlbnQgb3B0aW9ucy4gVG8gYXZvaWQgdGhpcyBlcnJvciwgY2FsbCBpbml0aWFsaXplRmlyZXN0b3JlKCkgd2l0aCB0aGUgc2FtZSBvcHRpb25zIGFzIHdoZW4gaXQgd2FzIG9yaWdpbmFsbHkgY2FsbGVkLCBvciBjYWxsIGdldEZpcmVzdG9yZSgpIHRvIHJldHVybiB0aGUgYWxyZWFkeSBpbml0aWFsaXplZCBpbnN0YW5jZS5cIik7XG4gICAgfVxuICAgIGlmICh2b2lkIDAgIT09IHQuY2FjaGVTaXplQnl0ZXMgJiYgdm9pZCAwICE9PSB0LmxvY2FsQ2FjaGUpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiY2FjaGUgYW5kIGNhY2hlU2l6ZUJ5dGVzIGNhbm5vdCBiZSBzcGVjaWZpZWQgYXQgdGhlIHNhbWUgdGltZSBhcyBjYWNoZVNpemVCeXRlcyB3aWxsYmUgZGVwcmVjYXRlZC4gSW5zdGVhZCwgc3BlY2lmeSB0aGUgY2FjaGUgc2l6ZSBpbiB0aGUgY2FjaGUgb2JqZWN0XCIpO1xuICAgIGlmICh2b2lkIDAgIT09IHQuY2FjaGVTaXplQnl0ZXMgJiYgLTEgIT09IHQuY2FjaGVTaXplQnl0ZXMgJiYgdC5jYWNoZVNpemVCeXRlcyA8IDEwNDg1NzYpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiY2FjaGVTaXplQnl0ZXMgbXVzdCBiZSBhdCBsZWFzdCAxMDQ4NTc2XCIpO1xuICAgIHJldHVybiByLmluaXRpYWxpemUoe1xuICAgICAgICBvcHRpb25zOiB0LFxuICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RmlyZXN0b3JlKHQsIG4pIHtcbiAgICBjb25zdCByID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdCA/IHQgOiBhcHAuZ2V0QXBwKCksIGkgPSBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gdCA6IG4gfHwgXCIoZGVmYXVsdClcIiwgcyA9IGFwcC5fZ2V0UHJvdmlkZXIociwgXCJmaXJlc3RvcmVcIikuZ2V0SW1tZWRpYXRlKHtcbiAgICAgICAgaWRlbnRpZmllcjogaVxuICAgIH0pO1xuICAgIGlmICghcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgY29uc3QgZSA9IHV0aWwuZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0KFwiZmlyZXN0b3JlXCIpO1xuICAgICAgICBlICYmIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcihzLCAuLi5lKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlKSB7XG4gICAgcmV0dXJuIGUuX2ZpcmVzdG9yZUNsaWVudCB8fCBfX1BSSVZBVEVfY29uZmlndXJlRmlyZXN0b3JlKGUpLCBlLl9maXJlc3RvcmVDbGllbnQudmVyaWZ5Tm90VGVybWluYXRlZCgpLCBcbiAgICBlLl9maXJlc3RvcmVDbGllbnQ7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb25maWd1cmVGaXJlc3RvcmUoZSkge1xuICAgIHZhciB0LCBuLCByO1xuICAgIGNvbnN0IGkgPSBlLl9mcmVlemVTZXR0aW5ncygpLCBzID0gZnVuY3Rpb24gX19QUklWQVRFX21ha2VEYXRhYmFzZUluZm8oZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gbmV3IERhdGFiYXNlSW5mbyhlLCB0LCBuLCByLmhvc3QsIHIuc3NsLCByLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsIHIuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nLCBfX1BSSVZBVEVfY2xvbmVMb25nUG9sbGluZ09wdGlvbnMoci5leHBlcmltZW50YWxMb25nUG9sbGluZ09wdGlvbnMpLCByLnVzZUZldGNoU3RyZWFtcyk7XG4gICAgfShlLl9kYXRhYmFzZUlkLCAobnVsbCA9PT0gKHQgPSBlLl9hcHApIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQub3B0aW9ucy5hcHBJZCkgfHwgXCJcIiwgZS5fcGVyc2lzdGVuY2VLZXksIGkpO1xuICAgIGUuX2ZpcmVzdG9yZUNsaWVudCA9IG5ldyBGaXJlc3RvcmVDbGllbnQoZS5fYXV0aENyZWRlbnRpYWxzLCBlLl9hcHBDaGVja0NyZWRlbnRpYWxzLCBlLl9xdWV1ZSwgcyksIFxuICAgIChudWxsID09PSAobiA9IGkubG9jYWxDYWNoZSkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKSAmJiAobnVsbCA9PT0gKHIgPSBpLmxvY2FsQ2FjaGUpIHx8IHZvaWQgMCA9PT0gciA/IHZvaWQgMCA6IHIuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyKSAmJiAoZS5fZmlyZXN0b3JlQ2xpZW50Ll91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyID0ge1xuICAgICAgICBfb2ZmbGluZUtpbmQ6IGkubG9jYWxDYWNoZS5raW5kLFxuICAgICAgICBfb2ZmbGluZTogaS5sb2NhbENhY2hlLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIsXG4gICAgICAgIF9vbmxpbmU6IGkubG9jYWxDYWNoZS5fb25saW5lQ29tcG9uZW50UHJvdmlkZXJcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBBdHRlbXB0cyB0byBlbmFibGUgcGVyc2lzdGVudCBzdG9yYWdlLCBpZiBwb3NzaWJsZS5cbiAqXG4gKiBPbiBmYWlsdXJlLCBgZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UoKWAgd2lsbCByZWplY3QgdGhlIHByb21pc2Ugb3JcbiAqIHRocm93IGFuIGV4Y2VwdGlvbi4gVGhlcmUgYXJlIHNldmVyYWwgcmVhc29ucyB3aHkgdGhpcyBjYW4gZmFpbCwgd2hpY2ggY2FuIGJlXG4gKiBpZGVudGlmaWVkIGJ5IHRoZSBgY29kZWAgb24gdGhlIGVycm9yLlxuICpcbiAqICAgKiBmYWlsZWQtcHJlY29uZGl0aW9uOiBUaGUgYXBwIGlzIGFscmVhZHkgb3BlbiBpbiBhbm90aGVyIGJyb3dzZXIgdGFiLlxuICogICAqIHVuaW1wbGVtZW50ZWQ6IFRoZSBicm93c2VyIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBvZmZsaW5lIHBlcnNpc3RlbmNlXG4gKiAgICAgaW1wbGVtZW50YXRpb24uXG4gKlxuICogTm90ZSB0aGF0IGV2ZW4gYWZ0ZXIgYSBmYWlsdXJlLCB0aGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2Ugd2lsbCByZW1haW5cbiAqIHVzYWJsZSwgaG93ZXZlciBvZmZsaW5lIHBlcnNpc3RlbmNlIHdpbGwgYmUgZGlzYWJsZWQuXG4gKlxuICogTm90ZTogYGVuYWJsZUluZGV4ZWREYlBlcnNpc3RlbmNlKClgIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBhbnkgb3RoZXIgZnVuY3Rpb25zXG4gKiAob3RoZXIgdGhhbiB7QGxpbmsgaW5pdGlhbGl6ZUZpcmVzdG9yZX0sIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfSBvclxuICoge0BsaW5rIGNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2V9LlxuICpcbiAqIFBlcnNpc3RlbmNlIGNhbm5vdCBiZSB1c2VkIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcGFyYW0gZmlyZXN0b3JlIC0gVGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIHRvIGVuYWJsZSBwZXJzaXN0ZW5jZSBmb3IuXG4gKiBAcGFyYW0gcGVyc2lzdGVuY2VTZXR0aW5ncyAtIE9wdGlvbmFsIHNldHRpbmdzIG9iamVjdCB0byBjb25maWd1cmVcbiAqIHBlcnNpc3RlbmNlLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXByZXNlbnRzIHN1Y2Nlc3NmdWxseSBlbmFibGluZyBwZXJzaXN0ZW50IHN0b3JhZ2UuXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBJbnN0ZWFkLCBzZXRcbiAqIGBGaXJlc3RvcmVTZXR0aW5ncy5sb2NhbENhY2hlYCB0byBhbiBpbnN0YW5jZSBvZiBgUGVyc2lzdGVudExvY2FsQ2FjaGVgIHRvXG4gKiB0dXJuIG9uIEluZGV4ZWREYiBjYWNoZS4gQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdoZW4gYEZpcmVzdG9yZVNldHRpbmdzLmxvY2FsQ2FjaGVgXG4gKiBpcyBhbHJlYWR5IHNwZWNpZmllZCB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbi5cbiAqLyBmdW5jdGlvbiBlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZShlLCB0KSB7XG4gICAgX19QUklWQVRFX3ZlcmlmeU5vdEluaXRpYWxpemVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKTtcbiAgICBjb25zdCBuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlKTtcbiAgICBpZiAobi5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlcikgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJTREsgY2FjaGUgaXMgYWxyZWFkeSBzcGVjaWZpZWQuXCIpO1xuICAgIF9fUFJJVkFURV9sb2dXYXJuKFwiZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UoKSB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIGZ1dHVyZSwgeW91IGNhbiB1c2UgYEZpcmVzdG9yZVNldHRpbmdzLmNhY2hlYCBpbnN0ZWFkLlwiKTtcbiAgICBjb25zdCByID0gZS5fZnJlZXplU2V0dGluZ3MoKSwgaSA9IG5ldyBPbmxpbmVDb21wb25lbnRQcm92aWRlcjtcbiAgICByZXR1cm4gX19QUklWQVRFX3NldFBlcnNpc3RlbmNlUHJvdmlkZXJzKG4sIGksIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKGksIHIuY2FjaGVTaXplQnl0ZXMsIG51bGwgPT0gdCA/IHZvaWQgMCA6IHQuZm9yY2VPd25lcnNoaXApKTtcbn1cblxuLyoqXG4gKiBBdHRlbXB0cyB0byBlbmFibGUgbXVsdGktdGFiIHBlcnNpc3RlbnQgc3RvcmFnZSwgaWYgcG9zc2libGUuIElmIGVuYWJsZWRcbiAqIGFjcm9zcyBhbGwgdGFicywgYWxsIG9wZXJhdGlvbnMgc2hhcmUgYWNjZXNzIHRvIGxvY2FsIHBlcnNpc3RlbmNlLCBpbmNsdWRpbmdcbiAqIHNoYXJlZCBleGVjdXRpb24gb2YgcXVlcmllcyBhbmQgbGF0ZW5jeS1jb21wZW5zYXRlZCBsb2NhbCBkb2N1bWVudCB1cGRhdGVzXG4gKiBhY3Jvc3MgYWxsIGNvbm5lY3RlZCBpbnN0YW5jZXMuXG4gKlxuICogT24gZmFpbHVyZSwgYGVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UoKWAgd2lsbCByZWplY3QgdGhlIHByb21pc2Ugb3JcbiAqIHRocm93IGFuIGV4Y2VwdGlvbi4gVGhlcmUgYXJlIHNldmVyYWwgcmVhc29ucyB3aHkgdGhpcyBjYW4gZmFpbCwgd2hpY2ggY2FuIGJlXG4gKiBpZGVudGlmaWVkIGJ5IHRoZSBgY29kZWAgb24gdGhlIGVycm9yLlxuICpcbiAqICAgKiBmYWlsZWQtcHJlY29uZGl0aW9uOiBUaGUgYXBwIGlzIGFscmVhZHkgb3BlbiBpbiBhbm90aGVyIGJyb3dzZXIgdGFiIGFuZFxuICogICAgIG11bHRpLXRhYiBpcyBub3QgZW5hYmxlZC5cbiAqICAgKiB1bmltcGxlbWVudGVkOiBUaGUgYnJvd3NlciBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgb2ZmbGluZSBwZXJzaXN0ZW5jZVxuICogICAgIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIE5vdGUgdGhhdCBldmVuIGFmdGVyIGEgZmFpbHVyZSwgdGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIHdpbGwgcmVtYWluXG4gKiB1c2FibGUsIGhvd2V2ZXIgb2ZmbGluZSBwZXJzaXN0ZW5jZSB3aWxsIGJlIGRpc2FibGVkLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gZW5hYmxlIHBlcnNpc3RlbmNlIGZvci5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgcmVwcmVzZW50cyBzdWNjZXNzZnVsbHkgZW5hYmxpbmcgcGVyc2lzdGVudFxuICogc3RvcmFnZS5cbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIEluc3RlYWQsIHNldFxuICogYEZpcmVzdG9yZVNldHRpbmdzLmxvY2FsQ2FjaGVgIHRvIGFuIGluc3RhbmNlIG9mIGBQZXJzaXN0ZW50TG9jYWxDYWNoZWAgdG9cbiAqIHR1cm4gb24gaW5kZXhlZGRiIGNhY2hlLiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2hlbiBgRmlyZXN0b3JlU2V0dGluZ3MubG9jYWxDYWNoZWBcbiAqIGlzIGFscmVhZHkgc3BlY2lmaWVkIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uLlxuICovIGZ1bmN0aW9uIGVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UoZSkge1xuICAgIF9fUFJJVkFURV92ZXJpZnlOb3RJbml0aWFsaXplZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSk7XG4gICAgY29uc3QgdCA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSk7XG4gICAgaWYgKHQuX3VuaW5pdGlhbGl6ZWRDb21wb25lbnRzUHJvdmlkZXIpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiU0RLIGNhY2hlIGlzIGFscmVhZHkgc3BlY2lmaWVkLlwiKTtcbiAgICBfX1BSSVZBVEVfbG9nV2FybihcImVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UoKSB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIGZ1dHVyZSwgeW91IGNhbiB1c2UgYEZpcmVzdG9yZVNldHRpbmdzLmNhY2hlYCBpbnN0ZWFkLlwiKTtcbiAgICBjb25zdCBuID0gZS5fZnJlZXplU2V0dGluZ3MoKSwgciA9IG5ldyBPbmxpbmVDb21wb25lbnRQcm92aWRlcjtcbiAgICByZXR1cm4gX19QUklWQVRFX3NldFBlcnNpc3RlbmNlUHJvdmlkZXJzKHQsIHIsIG5ldyBfX1BSSVZBVEVfTXVsdGlUYWJPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIociwgbi5jYWNoZVNpemVCeXRlcykpO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBib3RoIHRoZSBgT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyYCBhbmQgYE9ubGluZUNvbXBvbmVudFByb3ZpZGVyYC5cbiAqIElmIHRoZSBvcGVyYXRpb24gZmFpbHMgd2l0aCBhIHJlY292ZXJhYmxlIGVycm9yIChzZWVcbiAqIGBjYW5SZWNvdmVyRnJvbUluZGV4ZWREYkVycm9yKClgIGJlbG93KSwgdGhlIHJldHVybmVkIFByb21pc2UgaXMgcmVqZWN0ZWRcbiAqIGJ1dCB0aGUgY2xpZW50IHJlbWFpbnMgdXNhYmxlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zZXRQZXJzaXN0ZW5jZVByb3ZpZGVycyhlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlKChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfc2V0T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKGUsIG4pLCBhd2FpdCBfX1BSSVZBVEVfc2V0T25saW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgdCksIFxuICAgICAgICAgICAgci5yZXNvbHZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlO1xuICAgICAgICAgICAgaWYgKCFfX1BSSVZBVEVfY2FuRmFsbGJhY2tGcm9tSW5kZXhlZERiRXJyb3IodCkpIHRocm93IHQ7XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nV2FybihcIkVycm9yIGVuYWJsaW5nIGluZGV4ZWRkYiBjYWNoZS4gRmFsbGluZyBiYWNrIHRvIG1lbW9yeSBjYWNoZTogXCIgKyB0KSwgXG4gICAgICAgICAgICByLnJlamVjdCh0KTtcbiAgICAgICAgfVxuICAgIH0pKS50aGVuKCgoKSA9PiByLnByb21pc2UpKTtcbn1cblxuLyoqXG4gKiBDbGVhcnMgdGhlIHBlcnNpc3RlbnQgc3RvcmFnZS4gVGhpcyBpbmNsdWRlcyBwZW5kaW5nIHdyaXRlcyBhbmQgY2FjaGVkXG4gKiBkb2N1bWVudHMuXG4gKlxuICogTXVzdCBiZSBjYWxsZWQgd2hpbGUgdGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIGlzIG5vdCBzdGFydGVkIChhZnRlciB0aGUgYXBwIGlzXG4gKiB0ZXJtaW5hdGVkIG9yIHdoZW4gdGhlIGFwcCBpcyBmaXJzdCBpbml0aWFsaXplZCkuIE9uIHN0YXJ0dXAsIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBvdGhlciBmdW5jdGlvbnMgKG90aGVyIHRoYW4ge0BsaW5rXG4gKiBpbml0aWFsaXplRmlyZXN0b3JlfSBvciB7QGxpbmsgKGdldEZpcmVzdG9yZToxKX0pKS4gSWYgdGhlIHtAbGluayBGaXJlc3RvcmV9XG4gKiBpbnN0YW5jZSBpcyBzdGlsbCBydW5uaW5nLCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIGVycm9yIGNvZGVcbiAqIG9mIGBmYWlsZWQtcHJlY29uZGl0aW9uYC5cbiAqXG4gKiBOb3RlOiBgY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCBpcyBwcmltYXJpbHkgaW50ZW5kZWQgdG8gaGVscCB3cml0ZVxuICogcmVsaWFibGUgdGVzdHMgdGhhdCB1c2UgQ2xvdWQgRmlyZXN0b3JlLiBJdCB1c2VzIGFuIGVmZmljaWVudCBtZWNoYW5pc20gZm9yXG4gKiBkcm9wcGluZyBleGlzdGluZyBkYXRhIGJ1dCBkb2VzIG5vdCBhdHRlbXB0IHRvIHNlY3VyZWx5IG92ZXJ3cml0ZSBvclxuICogb3RoZXJ3aXNlIG1ha2UgY2FjaGVkIGRhdGEgdW5yZWNvdmVyYWJsZS4gRm9yIGFwcGxpY2F0aW9ucyB0aGF0IGFyZSBzZW5zaXRpdmVcbiAqIHRvIHRoZSBkaXNjbG9zdXJlIG9mIGNhY2hlZCBkYXRhIGluIGJldHdlZW4gdXNlciBzZXNzaW9ucywgd2Ugc3Ryb25nbHlcbiAqIHJlY29tbWVuZCBub3QgZW5hYmxpbmcgcGVyc2lzdGVuY2UgYXQgYWxsLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gY2xlYXIgcGVyc2lzdGVuY2UgZm9yLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBwZXJzaXN0ZW50IHN0b3JhZ2UgaXNcbiAqIGNsZWFyZWQuIE90aGVyd2lzZSwgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cbiAqLyBmdW5jdGlvbiBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlKGUpIHtcbiAgICBpZiAoZS5faW5pdGlhbGl6ZWQgJiYgIWUuX3Rlcm1pbmF0ZWQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiUGVyc2lzdGVuY2UgY2FuIG9ubHkgYmUgY2xlYXJlZCBiZWZvcmUgYSBGaXJlc3RvcmUgaW5zdGFuY2UgaXMgaW5pdGlhbGl6ZWQgb3IgYWZ0ZXIgaXQgaXMgdGVybWluYXRlZC5cIik7XG4gICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuX3F1ZXVlLmVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhlZERiQ2xlYXJQZXJzaXN0ZW5jZShlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfX1BSSVZBVEVfU2ltcGxlRGIuRCgpKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUgKyBcIm1haW5cIjtcbiAgICAgICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfU2ltcGxlRGIuZGVsZXRlKHQpO1xuICAgICAgICAgICAgfShfX1BSSVZBVEVfaW5kZXhlZERiU3RvcmFnZVByZWZpeChlLl9kYXRhYmFzZUlkLCBlLl9wZXJzaXN0ZW5jZUtleSkpLCB0LnJlc29sdmUoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdC5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9KSksIHQucHJvbWlzZTtcbn1cblxuLyoqXG4gKiBXYWl0cyB1bnRpbCBhbGwgY3VycmVudGx5IHBlbmRpbmcgd3JpdGVzIGZvciB0aGUgYWN0aXZlIHVzZXIgaGF2ZSBiZWVuXG4gKiBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmQuXG4gKlxuICogVGhlIHJldHVybmVkIHByb21pc2UgcmVzb2x2ZXMgaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIG91dHN0YW5kaW5nIHdyaXRlcy5cbiAqIE90aGVyd2lzZSwgdGhlIHByb21pc2Ugd2FpdHMgZm9yIGFsbCBwcmV2aW91c2x5IGlzc3VlZCB3cml0ZXMgKGluY2x1ZGluZ1xuICogdGhvc2Ugd3JpdHRlbiBpbiBhIHByZXZpb3VzIGFwcCBzZXNzaW9uKSwgYnV0IGl0IGRvZXMgbm90IHdhaXQgZm9yIHdyaXRlc1xuICogdGhhdCB3ZXJlIGFkZGVkIGFmdGVyIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuIElmIHlvdSB3YW50IHRvIHdhaXQgZm9yXG4gKiBhZGRpdGlvbmFsIHdyaXRlcywgY2FsbCBgd2FpdEZvclBlbmRpbmdXcml0ZXMoKWAgYWdhaW4uXG4gKlxuICogQW55IG91dHN0YW5kaW5nIGB3YWl0Rm9yUGVuZGluZ1dyaXRlcygpYCBwcm9taXNlcyBhcmUgcmVqZWN0ZWQgZHVyaW5nIHVzZXJcbiAqIGNoYW5nZXMuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgd2hpY2ggcmVzb2x2ZXMgd2hlbiBhbGwgY3VycmVudGx5IHBlbmRpbmcgd3JpdGVzIGhhdmUgYmVlblxuICogYWNrbm93bGVkZ2VkIGJ5IHRoZSBiYWNrZW5kLlxuICovIGZ1bmN0aW9uIHdhaXRGb3JQZW5kaW5nV3JpdGVzKGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFdhaXRGb3JQZW5kaW5nV3JpdGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gX19QUklWQVRFX3N5bmNFbmdpbmVSZWdpc3RlclBlbmRpbmdXcml0ZXNDYWxsYmFjayhhd2FpdCBfX1BSSVZBVEVfZ2V0U3luY0VuZ2luZShlKSwgdCkpKSwgXG4gICAgICAgIHQucHJvbWlzZTtcbiAgICB9KGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpKTtcbn1cblxuLyoqXG4gKiBSZS1lbmFibGVzIHVzZSBvZiB0aGUgbmV0d29yayBmb3IgdGhpcyB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSBhZnRlciBhIHByaW9yXG4gKiBjYWxsIHRvIHtAbGluayBkaXNhYmxlTmV0d29ya30uXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCBpcyByZXNvbHZlZCBvbmNlIHRoZSBuZXR3b3JrIGhhcyBiZWVuIGVuYWJsZWQuXG4gKi8gZnVuY3Rpb24gZW5hYmxlTmV0d29yayhlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRFbmFibGVOZXR3b3JrKGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpKTtcbn1cblxuLyoqXG4gKiBEaXNhYmxlcyBuZXR3b3JrIHVzYWdlIGZvciB0aGlzIGluc3RhbmNlLiBJdCBjYW4gYmUgcmUtZW5hYmxlZCB2aWEge0BsaW5rXG4gKiBlbmFibGVOZXR3b3JrfS4gV2hpbGUgdGhlIG5ldHdvcmsgaXMgZGlzYWJsZWQsIGFueSBzbmFwc2hvdCBsaXN0ZW5lcnMsXG4gKiBgZ2V0RG9jKClgIG9yIGBnZXREb2NzKClgIGNhbGxzIHdpbGwgcmV0dXJuIHJlc3VsdHMgZnJvbSBjYWNoZSwgYW5kIGFueSB3cml0ZVxuICogb3BlcmF0aW9ucyB3aWxsIGJlIHF1ZXVlZCB1bnRpbCB0aGUgbmV0d29yayBpcyByZXN0b3JlZC5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IGlzIHJlc29sdmVkIG9uY2UgdGhlIG5ldHdvcmsgaGFzIGJlZW4gZGlzYWJsZWQuXG4gKi8gZnVuY3Rpb24gZGlzYWJsZU5ldHdvcmsoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGlzYWJsZU5ldHdvcmsoZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSkpO1xufVxuXG4vKipcbiAqIFRlcm1pbmF0ZXMgdGhlIHByb3ZpZGVkIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlLlxuICpcbiAqIEFmdGVyIGNhbGxpbmcgYHRlcm1pbmF0ZSgpYCBvbmx5IHRoZSBgY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCBmdW5jdGlvblxuICogbWF5IGJlIHVzZWQuIEFueSBvdGhlciBmdW5jdGlvbiB3aWxsIHRocm93IGEgYEZpcmVzdG9yZUVycm9yYC5cbiAqXG4gKiBUbyByZXN0YXJ0IGFmdGVyIHRlcm1pbmF0aW9uLCBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgRmlyZWJhc2VGaXJlc3RvcmUgd2l0aFxuICoge0BsaW5rIChnZXRGaXJlc3RvcmU6MSl9LlxuICpcbiAqIFRlcm1pbmF0aW9uIGRvZXMgbm90IGNhbmNlbCBhbnkgcGVuZGluZyB3cml0ZXMsIGFuZCBhbnkgcHJvbWlzZXMgdGhhdCBhcmVcbiAqIGF3YWl0aW5nIGEgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyIHdpbGwgbm90IGJlIHJlc29sdmVkLiBJZiB5b3UgaGF2ZVxuICogcGVyc2lzdGVuY2UgZW5hYmxlZCwgdGhlIG5leHQgdGltZSB5b3Ugc3RhcnQgdGhpcyBpbnN0YW5jZSwgaXQgd2lsbCByZXN1bWVcbiAqIHNlbmRpbmcgdGhlc2Ugd3JpdGVzIHRvIHRoZSBzZXJ2ZXIuXG4gKlxuICogTm90ZTogVW5kZXIgbm9ybWFsIGNpcmN1bXN0YW5jZXMsIGNhbGxpbmcgYHRlcm1pbmF0ZSgpYCBpcyBub3QgcmVxdWlyZWQuIFRoaXNcbiAqIGZ1bmN0aW9uIGlzIHVzZWZ1bCBvbmx5IHdoZW4geW91IHdhbnQgdG8gZm9yY2UgdGhpcyBpbnN0YW5jZSB0byByZWxlYXNlIGFsbFxuICogb2YgaXRzIHJlc291cmNlcyBvciBpbiBjb21iaW5hdGlvbiB3aXRoIGBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlKClgIHRvXG4gKiBlbnN1cmUgdGhhdCBhbGwgbG9jYWwgc3RhdGUgaXMgZGVzdHJveWVkIGJldHdlZW4gdGVzdCBydW5zLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgaW5zdGFuY2UgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gKiB0ZXJtaW5hdGVkLlxuICovIGZ1bmN0aW9uIHRlcm1pbmF0ZShlKSB7XG4gICAgcmV0dXJuIGFwcC5fcmVtb3ZlU2VydmljZUluc3RhbmNlKGUuYXBwLCBcImZpcmVzdG9yZVwiLCBlLl9kYXRhYmFzZUlkLmRhdGFiYXNlKSwgZS5fZGVsZXRlKCk7XG59XG5cbi8qKlxuICogTG9hZHMgYSBGaXJlc3RvcmUgYnVuZGxlIGludG8gdGhlIGxvY2FsIGNhY2hlLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gbG9hZCBidW5kbGVzIGZvci5cbiAqIEBwYXJhbSBidW5kbGVEYXRhIC0gQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgYnVuZGxlIHRvIGJlIGxvYWRlZC4gVmFsaWRcbiAqIG9iamVjdHMgYXJlIGBBcnJheUJ1ZmZlcmAsIGBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PmAgb3IgYHN0cmluZ2AuXG4gKlxuICogQHJldHVybnMgQSBgTG9hZEJ1bmRsZVRhc2tgIG9iamVjdCwgd2hpY2ggbm90aWZpZXMgY2FsbGVycyB3aXRoIHByb2dyZXNzXG4gKiB1cGRhdGVzLCBhbmQgY29tcGxldGlvbiBvciBlcnJvciBldmVudHMuIEl0IGNhbiBiZSB1c2VkIGFzIGFcbiAqIGBQcm9taXNlPExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3M+YC5cbiAqLyBmdW5jdGlvbiBsb2FkQnVuZGxlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSksIHIgPSBuZXcgTG9hZEJ1bmRsZVRhc2s7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRMb2FkQnVuZGxlKG4sIGUuX2RhdGFiYXNlSWQsIHQsIHIpLCByO1xufVxuXG4vKipcbiAqIFJlYWRzIGEgRmlyZXN0b3JlIHtAbGluayBRdWVyeX0gZnJvbSBsb2NhbCBjYWNoZSwgaWRlbnRpZmllZCBieSB0aGUgZ2l2ZW5cbiAqIG5hbWUuXG4gKlxuICogVGhlIG5hbWVkIHF1ZXJpZXMgYXJlIHBhY2thZ2VkICBpbnRvIGJ1bmRsZXMgb24gdGhlIHNlcnZlciBzaWRlIChhbG9uZ1xuICogd2l0aCByZXN1bHRpbmcgZG9jdW1lbnRzKSwgYW5kIGxvYWRlZCB0byBsb2NhbCBjYWNoZSB1c2luZyBgbG9hZEJ1bmRsZWAuIE9uY2VcbiAqIGluIGxvY2FsIGNhY2hlLCB1c2UgdGhpcyBtZXRob2QgdG8gZXh0cmFjdCBhIHtAbGluayBRdWVyeX0gYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0gZmlyZXN0b3JlIC0gVGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIHRvIHJlYWQgdGhlIHF1ZXJ5IGZyb20uXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBxdWVyeS5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgUXVlcnkgb3IgYG51bGxgLlxuICovIGZ1bmN0aW9uIG5hbWVkUXVlcnkoZSwgdCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0TmFtZWRRdWVyeShlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKSwgdCkudGhlbigodCA9PiB0ID8gbmV3IFF1ZXJ5KGUsIG51bGwsIHQucXVlcnkpIDogbnVsbCkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmVyaWZ5Tm90SW5pdGlhbGl6ZWQoZSkge1xuICAgIGlmIChlLl9pbml0aWFsaXplZCB8fCBlLl90ZXJtaW5hdGVkKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkZpcmVzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQgYW5kIHBlcnNpc3RlbmNlIGNhbiBubyBsb25nZXIgYmUgZW5hYmxlZC4gWW91IGNhbiBvbmx5IGVuYWJsZSBwZXJzaXN0ZW5jZSBiZWZvcmUgY2FsbGluZyBhbnkgb3RoZXIgbWV0aG9kcyBvbiBhIEZpcmVzdG9yZSBvYmplY3QuXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBhZ2dyZWdhdGlvbiB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgYnkgRmlyZXN0b3JlLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5jbGFzcyBBZ2dyZWdhdGVGaWVsZCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEFnZ3JlZ2F0ZUZpZWxkPFQ+XG4gICAgICogQHBhcmFtIGFnZ3JlZ2F0ZVR5cGUgU3BlY2lmaWVzIHRoZSB0eXBlIG9mIGFnZ3JlZ2F0aW9uIG9wZXJhdGlvbiB0byBwZXJmb3JtLlxuICAgICAqIEBwYXJhbSBfaW50ZXJuYWxGaWVsZFBhdGggT3B0aW9uYWxseSBzcGVjaWZpZXMgdGhlIGZpZWxkIHRoYXQgaXMgYWdncmVnYXRlZC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlID0gXCJjb3VudFwiLCB0KSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsRmllbGRQYXRoID0gdCwgXG4gICAgICAgIC8qKiBBIHR5cGUgc3RyaW5nIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGluc3RhbmNlcyBvZiB0aGlzIGNsYXNzLiAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcIkFnZ3JlZ2F0ZUZpZWxkXCIsIHRoaXMuYWdncmVnYXRlVHlwZSA9IGU7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSByZXN1bHRzIG9mIGV4ZWN1dGluZyBhbiBhZ2dyZWdhdGlvbiBxdWVyeS5cbiAqLyBjbGFzcyBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90IHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5fdXNlckRhdGFXcml0ZXIgPSB0LCB0aGlzLl9kYXRhID0gbiwgXG4gICAgICAgIC8qKiBBIHR5cGUgc3RyaW5nIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGluc3RhbmNlcyBvZiB0aGlzIGNsYXNzLiAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcIkFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RcIiwgdGhpcy5xdWVyeSA9IGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgdGhlIGFnZ3JlZ2F0aW9ucyBwZXJmb3JtZWQgb3ZlciB0aGUgdW5kZXJseWluZ1xuICAgICAqIHF1ZXJ5LlxuICAgICAqXG4gICAgICogVGhlIGtleXMgb2YgdGhlIHJldHVybmVkIG9iamVjdCB3aWxsIGJlIHRoZSBzYW1lIGFzIHRob3NlIG9mIHRoZVxuICAgICAqIGBBZ2dyZWdhdGVTcGVjYCBvYmplY3Qgc3BlY2lmaWVkIHRvIHRoZSBhZ2dyZWdhdGlvbiBtZXRob2QsIGFuZCB0aGUgdmFsdWVzXG4gICAgICogd2lsbCBiZSB0aGUgY29ycmVzcG9uZGluZyBhZ2dyZWdhdGlvbiByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0cyBvZiB0aGUgYWdncmVnYXRpb25zIHBlcmZvcm1lZCBvdmVyIHRoZSB1bmRlcmx5aW5nXG4gICAgICogcXVlcnkuXG4gICAgICovICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0T2JqZWN0TWFwKHRoaXMuX2RhdGEpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gaW1tdXRhYmxlIG9iamVjdCByZXByZXNlbnRpbmcgYW4gYXJyYXkgb2YgYnl0ZXMuXG4gKi8gY2xhc3MgQnl0ZXMge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLl9ieXRlU3RyaW5nID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBgQnl0ZXNgIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBCYXNlNjQgc3RyaW5nLCBjb252ZXJ0aW5nIGl0IHRvXG4gICAgICogYnl0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmFzZTY0IC0gVGhlIEJhc2U2NCBzdHJpbmcgdXNlZCB0byBjcmVhdGUgdGhlIGBCeXRlc2Agb2JqZWN0LlxuICAgICAqLyAgICBzdGF0aWMgZnJvbUJhc2U2NFN0cmluZyhlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJ5dGVzKEJ5dGVTdHJpbmcuZnJvbUJhc2U2NFN0cmluZyhlKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiRmFpbGVkIHRvIGNvbnN0cnVjdCBkYXRhIGZyb20gQmFzZTY0IHN0cmluZzogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGBCeXRlc2Agb2JqZWN0IGZyb20gdGhlIGdpdmVuIFVpbnQ4QXJyYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBUaGUgVWludDhBcnJheSB1c2VkIHRvIGNyZWF0ZSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHN0YXRpYyBmcm9tVWludDhBcnJheShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQnl0ZXMoQnl0ZVN0cmluZy5mcm9tVWludDhBcnJheShlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgYnl0ZXMgYXMgYSBCYXNlNjQtZW5jb2RlZCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgQmFzZTY0LWVuY29kZWQgc3RyaW5nIGNyZWF0ZWQgZnJvbSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHRvQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnl0ZVN0cmluZy50b0Jhc2U2NCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIGJ5dGVzIGluIGEgbmV3IGBVaW50OEFycmF5YC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBVaW50OEFycmF5IGNyZWF0ZWQgZnJvbSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHRvVWludDhBcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J5dGVTdHJpbmcudG9VaW50OEFycmF5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGBCeXRlc2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGBCeXRlc2Agb2JqZWN0LlxuICAgICAqLyAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiQnl0ZXMoYmFzZTY0OiBcIiArIHRoaXMudG9CYXNlNjQoKSArIFwiKVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBgQnl0ZXNgIG9iamVjdCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyIC0gVGhlIGBCeXRlc2Agb2JqZWN0IHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoaXMgYEJ5dGVzYCBvYmplY3QgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKi8gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ieXRlU3RyaW5nLmlzRXF1YWwoZS5fYnl0ZVN0cmluZyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGBGaWVsZFBhdGhgIHJlZmVycyB0byBhIGZpZWxkIGluIGEgZG9jdW1lbnQuIFRoZSBwYXRoIG1heSBjb25zaXN0IG9mIGFcbiAqIHNpbmdsZSBmaWVsZCBuYW1lIChyZWZlcnJpbmcgdG8gYSB0b3AtbGV2ZWwgZmllbGQgaW4gdGhlIGRvY3VtZW50KSwgb3IgYVxuICogbGlzdCBvZiBmaWVsZCBuYW1lcyAocmVmZXJyaW5nIHRvIGEgbmVzdGVkIGZpZWxkIGluIHRoZSBkb2N1bWVudCkuXG4gKlxuICogQ3JlYXRlIGEgYEZpZWxkUGF0aGAgYnkgcHJvdmlkaW5nIGZpZWxkIG5hbWVzLiBJZiBtb3JlIHRoYW4gb25lIGZpZWxkXG4gKiBuYW1lIGlzIHByb3ZpZGVkLCB0aGUgcGF0aCB3aWxsIHBvaW50IHRvIGEgbmVzdGVkIGZpZWxkIGluIGEgZG9jdW1lbnQuXG4gKi8gY2xhc3MgRmllbGRQYXRoIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYEZpZWxkUGF0aGAgZnJvbSB0aGUgcHJvdmlkZWQgZmllbGQgbmFtZXMuIElmIG1vcmUgdGhhbiBvbmUgZmllbGRcbiAgICAgKiBuYW1lIGlzIHByb3ZpZGVkLCB0aGUgcGF0aCB3aWxsIHBvaW50IHRvIGEgbmVzdGVkIGZpZWxkIGluIGEgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmllbGROYW1lcyAtIEEgbGlzdCBvZiBmaWVsZCBuYW1lcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciguLi5lKSB7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZS5sZW5ndGg7ICsrdCkgaWYgKDAgPT09IGVbdF0ubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkludmFsaWQgZmllbGQgbmFtZSBhdCBhcmd1bWVudCAkKGkgKyAxKS4gRmllbGQgbmFtZXMgbXVzdCBub3QgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFBhdGggPSBuZXcgRmllbGRQYXRoJDEoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBGaWVsZFBhdGhgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYEZpZWxkUGF0aGAgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhpcyBgRmllbGRQYXRoYCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFsUGF0aC5pc0VxdWFsKGUuX2ludGVybmFsUGF0aCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBzcGVjaWFsIHNlbnRpbmVsIGBGaWVsZFBhdGhgIHRvIHJlZmVyIHRvIHRoZSBJRCBvZiBhIGRvY3VtZW50LlxuICogSXQgY2FuIGJlIHVzZWQgaW4gcXVlcmllcyB0byBzb3J0IG9yIGZpbHRlciBieSB0aGUgZG9jdW1lbnQgSUQuXG4gKi8gZnVuY3Rpb24gZG9jdW1lbnRJZCgpIHtcbiAgICByZXR1cm4gbmV3IEZpZWxkUGF0aChcIl9fbmFtZV9fXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBTZW50aW5lbCB2YWx1ZXMgdGhhdCBjYW4gYmUgdXNlZCB3aGVuIHdyaXRpbmcgZG9jdW1lbnQgZmllbGRzIHdpdGggYHNldCgpYFxuICogb3IgYHVwZGF0ZSgpYC5cbiAqLyBjbGFzcyBGaWVsZFZhbHVlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gX21ldGhvZE5hbWUgLSBUaGUgcHVibGljIEFQSSBlbmRwb2ludCB0aGF0IHJldHVybnMgdGhpcyBjbGFzcy5cbiAgICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLl9tZXRob2ROYW1lID0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGltbXV0YWJsZSBvYmplY3QgcmVwcmVzZW50aW5nIGEgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBpbiBGaXJlc3RvcmUuIFRoZVxuICogbG9jYXRpb24gaXMgcmVwcmVzZW50ZWQgYXMgbGF0aXR1ZGUvbG9uZ2l0dWRlIHBhaXIuXG4gKlxuICogTGF0aXR1ZGUgdmFsdWVzIGFyZSBpbiB0aGUgcmFuZ2Ugb2YgWy05MCwgOTBdLlxuICogTG9uZ2l0dWRlIHZhbHVlcyBhcmUgaW4gdGhlIHJhbmdlIG9mIFstMTgwLCAxODBdLlxuICovIGNsYXNzIEdlb1BvaW50IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGltbXV0YWJsZSBgR2VvUG9pbnRgIG9iamVjdCB3aXRoIHRoZSBwcm92aWRlZCBsYXRpdHVkZSBhbmRcbiAgICAgKiBsb25naXR1ZGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBsYXRpdHVkZSAtIFRoZSBsYXRpdHVkZSBhcyBudW1iZXIgYmV0d2VlbiAtOTAgYW5kIDkwLlxuICAgICAqIEBwYXJhbSBsb25naXR1ZGUgLSBUaGUgbG9uZ2l0dWRlIGFzIG51bWJlciBiZXR3ZWVuIC0xODAgYW5kIDE4MC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIGlmICghaXNGaW5pdGUoZSkgfHwgZSA8IC05MCB8fCBlID4gOTApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiTGF0aXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC05MCBhbmQgOTAsIGJ1dCB3YXM6IFwiICsgZSk7XG4gICAgICAgIGlmICghaXNGaW5pdGUodCkgfHwgdCA8IC0xODAgfHwgdCA+IDE4MCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJMb25naXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC0xODAgYW5kIDE4MCwgYnV0IHdhczogXCIgKyB0KTtcbiAgICAgICAgdGhpcy5fbGF0ID0gZSwgdGhpcy5fbG9uZyA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsYXRpdHVkZSBvZiB0aGlzIGBHZW9Qb2ludGAgaW5zdGFuY2UuXG4gICAgICovICAgIGdldCBsYXRpdHVkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGlzIGBHZW9Qb2ludGAgaW5zdGFuY2UuXG4gICAgICovICAgIGdldCBsb25naXR1ZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBgR2VvUG9pbnRgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYEdlb1BvaW50YCB0byBjb21wYXJlIGFnYWluc3QuXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGlzIGBHZW9Qb2ludGAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKi8gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXQgPT09IGUuX2xhdCAmJiB0aGlzLl9sb25nID09PSBlLl9sb25nO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhIEpTT04tc2VyaWFsaXphYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgR2VvUG9pbnQuICovICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhdGl0dWRlOiB0aGlzLl9sYXQsXG4gICAgICAgICAgICBsb25naXR1ZGU6IHRoaXMuX2xvbmdcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJpdmF0ZSB0byBKUyBjb25zdW1lcnMgb2Ygb3VyIEFQSSwgc28gdGhpcyBmdW5jdGlvbiBpcyBwcmVmaXhlZFxuICAgICAqIHdpdGggYW4gdW5kZXJzY29yZS5cbiAgICAgKi8gICAgX2NvbXBhcmVUbyhlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcih0aGlzLl9sYXQsIGUuX2xhdCkgfHwgX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IodGhpcy5fbG9uZywgZS5fbG9uZyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBTZSA9IC9eX18uKl9fJC87XG5cbi8qKiBUaGUgcmVzdWx0IG9mIHBhcnNpbmcgZG9jdW1lbnQgZGF0YSAoZS5nLiBmb3IgYSBzZXREYXRhIGNhbGwpLiAqLyBjbGFzcyBQYXJzZWRTZXREYXRhIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGUsIHRoaXMuZmllbGRNYXNrID0gdCwgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSBuO1xuICAgIH1cbiAgICB0b011dGF0aW9uKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHRoaXMuZmllbGRNYXNrID8gbmV3IF9fUFJJVkFURV9QYXRjaE11dGF0aW9uKGUsIHRoaXMuZGF0YSwgdGhpcy5maWVsZE1hc2ssIHQsIHRoaXMuZmllbGRUcmFuc2Zvcm1zKSA6IG5ldyBfX1BSSVZBVEVfU2V0TXV0YXRpb24oZSwgdGhpcy5kYXRhLCB0LCB0aGlzLmZpZWxkVHJhbnNmb3Jtcyk7XG4gICAgfVxufVxuXG4vKiogVGhlIHJlc3VsdCBvZiBwYXJzaW5nIFwidXBkYXRlXCIgZGF0YSAoaS5lLiBmb3IgYW4gdXBkYXRlRGF0YSBjYWxsKS4gKi8gY2xhc3MgUGFyc2VkVXBkYXRlRGF0YSB7XG4gICAgY29uc3RydWN0b3IoZSwgXG4gICAgLy8gVGhlIGZpZWxkTWFzayBkb2VzIG5vdCBpbmNsdWRlIGRvY3VtZW50IHRyYW5zZm9ybXMuXG4gICAgdCwgbikge1xuICAgICAgICB0aGlzLmRhdGEgPSBlLCB0aGlzLmZpZWxkTWFzayA9IHQsIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gbjtcbiAgICB9XG4gICAgdG9NdXRhdGlvbihlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1BhdGNoTXV0YXRpb24oZSwgdGhpcy5kYXRhLCB0aGlzLmZpZWxkTWFzaywgdCwgdGhpcy5maWVsZFRyYW5zZm9ybXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2lzV3JpdGUoZSkge1xuICAgIHN3aXRjaCAoZSkge1xuICAgICAgY2FzZSAwIC8qIFVzZXJEYXRhU291cmNlLlNldCAqLyA6XG4gLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgIGNhc2UgMiAvKiBVc2VyRGF0YVNvdXJjZS5NZXJnZVNldCAqLyA6XG4gLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgIGNhc2UgMSAvKiBVc2VyRGF0YVNvdXJjZS5VcGRhdGUgKi8gOlxuICAgICAgICByZXR1cm4gITA7XG5cbiAgICAgIGNhc2UgMyAvKiBVc2VyRGF0YVNvdXJjZS5Bcmd1bWVudCAqLyA6XG4gICAgICBjYXNlIDQgLyogVXNlckRhdGFTb3VyY2UuQXJyYXlBcmd1bWVudCAqLyA6XG4gICAgICAgIHJldHVybiAhMTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbn1cblxuLyoqIEEgXCJjb250ZXh0XCIgb2JqZWN0IHBhc3NlZCBhcm91bmQgd2hpbGUgcGFyc2luZyB1c2VyIGRhdGEuICovIGNsYXNzIF9fUFJJVkFURV9QYXJzZUNvbnRleHRJbXBsIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIFBhcnNlQ29udGV4dCB3aXRoIHRoZSBnaXZlbiBzb3VyY2UgYW5kIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2V0dGluZ3MgLSBUaGUgc2V0dGluZ3MgZm9yIHRoZSBwYXJzZXIuXG4gICAgICogQHBhcmFtIGRhdGFiYXNlSWQgLSBUaGUgZGF0YWJhc2UgSUQgb2YgdGhlIEZpcmVzdG9yZSBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplciAtIFRoZSBzZXJpYWxpemVyIHRvIHVzZSB0byBnZW5lcmF0ZSB0aGUgVmFsdWUgcHJvdG8uXG4gICAgICogQHBhcmFtIGlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgLSBXaGV0aGVyIHRvIGlnbm9yZSB1bmRlZmluZWQgcHJvcGVydGllc1xuICAgICAqIHJhdGhlciB0aGFuIHRocm93LlxuICAgICAqIEBwYXJhbSBmaWVsZFRyYW5zZm9ybXMgLSBBIG11dGFibGUgbGlzdCBvZiBmaWVsZCB0cmFuc2Zvcm1zIGVuY291bnRlcmVkXG4gICAgICogd2hpbGUgcGFyc2luZyB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gZmllbGRNYXNrIC0gQSBtdXRhYmxlIGxpc3Qgb2YgZmllbGQgcGF0aHMgZW5jb3VudGVyZWQgd2hpbGUgcGFyc2luZ1xuICAgICAqIHRoZSBkYXRhLlxuICAgICAqXG4gICAgICogVE9ETyhiLzM0ODcxMTMxKTogV2UgZG9uJ3Qgc3VwcG9ydCBhcnJheSBwYXRocyByaWdodCBub3csIHNvIHBhdGggY2FuIGJlXG4gICAgICogbnVsbCB0byBpbmRpY2F0ZSB0aGUgY29udGV4dCByZXByZXNlbnRzIGFueSBsb2NhdGlvbiB3aXRoaW4gYW4gYXJyYXkgKGluXG4gICAgICogd2hpY2ggY2FzZSBjZXJ0YWluIGZlYXR1cmVzIHdpbGwgbm90IHdvcmsgYW5kIGVycm9ycyB3aWxsIGJlIHNvbWV3aGF0XG4gICAgICogY29tcHJvbWlzZWQpLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IGUsIHRoaXMuZGF0YWJhc2VJZCA9IHQsIHRoaXMuc2VyaWFsaXplciA9IG4sIHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyA9IHIsIFxuICAgICAgICAvLyBNaW5vciBoYWNrOiBJZiBmaWVsZFRyYW5zZm9ybXMgaXMgdW5kZWZpbmVkLCB3ZSBhc3N1bWUgdGhpcyBpcyBhblxuICAgICAgICAvLyBleHRlcm5hbCBjYWxsIGFuZCB3ZSBuZWVkIHRvIHZhbGlkYXRlIHRoZSBlbnRpcmUgcGF0aC5cbiAgICAgICAgdm9pZCAwID09PSBpICYmIHRoaXMubXUoKSwgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSBpIHx8IFtdLCB0aGlzLmZpZWxkTWFzayA9IHMgfHwgW107XG4gICAgfVxuICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wYXRoO1xuICAgIH1cbiAgICBnZXQgZnUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmZ1O1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhIG5ldyBjb250ZXh0IHdpdGggdGhlIHNwZWNpZmllZCBzZXR0aW5ncyBvdmVyd3JpdHRlbi4gKi8gICAgZ3UoZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9QYXJzZUNvbnRleHRJbXBsKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zZXR0aW5ncyksIGUpLCB0aGlzLmRhdGFiYXNlSWQsIHRoaXMuc2VyaWFsaXplciwgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzLCB0aGlzLmZpZWxkVHJhbnNmb3JtcywgdGhpcy5maWVsZE1hc2spO1xuICAgIH1cbiAgICBwdShlKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICBjb25zdCBuID0gbnVsbCA9PT0gKHQgPSB0aGlzLnBhdGgpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuY2hpbGQoZSksIHIgPSB0aGlzLmd1KHtcbiAgICAgICAgICAgIHBhdGg6IG4sXG4gICAgICAgICAgICB5dTogITFcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByLnd1KGUpLCByO1xuICAgIH1cbiAgICBTdShlKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICBjb25zdCBuID0gbnVsbCA9PT0gKHQgPSB0aGlzLnBhdGgpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuY2hpbGQoZSksIHIgPSB0aGlzLmd1KHtcbiAgICAgICAgICAgIHBhdGg6IG4sXG4gICAgICAgICAgICB5dTogITFcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByLm11KCksIHI7XG4gICAgfVxuICAgIGJ1KGUpIHtcbiAgICAgICAgLy8gVE9ETyhiLzM0ODcxMTMxKTogV2UgZG9uJ3Qgc3VwcG9ydCBhcnJheSBwYXRocyByaWdodCBub3c7IHNvIG1ha2UgcGF0aFxuICAgICAgICAvLyB1bmRlZmluZWQuXG4gICAgICAgIHJldHVybiB0aGlzLmd1KHtcbiAgICAgICAgICAgIHBhdGg6IHZvaWQgMCxcbiAgICAgICAgICAgIHl1OiAhMFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgRHUoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2NyZWF0ZUVycm9yKGUsIHRoaXMuc2V0dGluZ3MubWV0aG9kTmFtZSwgdGhpcy5zZXR0aW5ncy5DdSB8fCAhMSwgdGhpcy5wYXRoLCB0aGlzLnNldHRpbmdzLnZ1KTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgJ3RydWUnIGlmICdmaWVsZFBhdGgnIHdhcyB0cmF2ZXJzZWQgd2hlbiBjcmVhdGluZyB0aGlzIGNvbnRleHQuICovICAgIGNvbnRhaW5zKGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdGhpcy5maWVsZE1hc2suZmluZCgodCA9PiBlLmlzUHJlZml4T2YodCkpKSB8fCB2b2lkIDAgIT09IHRoaXMuZmllbGRUcmFuc2Zvcm1zLmZpbmQoKHQgPT4gZS5pc1ByZWZpeE9mKHQuZmllbGQpKSk7XG4gICAgfVxuICAgIG11KCkge1xuICAgICAgICAvLyBUT0RPKGIvMzQ4NzExMzEpOiBSZW1vdmUgbnVsbCBjaGVjayBvbmNlIHdlIGhhdmUgcHJvcGVyIHBhdGhzIGZvciBmaWVsZHNcbiAgICAgICAgLy8gd2l0aGluIGFycmF5cy5cbiAgICAgICAgaWYgKHRoaXMucGF0aCkgZm9yIChsZXQgZSA9IDA7IGUgPCB0aGlzLnBhdGgubGVuZ3RoOyBlKyspIHRoaXMud3UodGhpcy5wYXRoLmdldChlKSk7XG4gICAgfVxuICAgIHd1KGUpIHtcbiAgICAgICAgaWYgKDAgPT09IGUubGVuZ3RoKSB0aHJvdyB0aGlzLkR1KFwiRG9jdW1lbnQgZmllbGRzIG11c3Qgbm90IGJlIGVtcHR5XCIpO1xuICAgICAgICBpZiAoX19QUklWQVRFX2lzV3JpdGUodGhpcy5mdSkgJiYgU2UudGVzdChlKSkgdGhyb3cgdGhpcy5EdSgnRG9jdW1lbnQgZmllbGRzIGNhbm5vdCBiZWdpbiBhbmQgZW5kIHdpdGggXCJfX1wiJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmb3IgcGFyc2luZyByYXcgdXNlciBpbnB1dCAocHJvdmlkZWQgdmlhIHRoZSBBUEkpIGludG8gaW50ZXJuYWwgbW9kZWxcbiAqIGNsYXNzZXMuXG4gKi8gY2xhc3MgX19QUklWQVRFX1VzZXJEYXRhUmVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJZCA9IGUsIHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyA9IHQsIHRoaXMuc2VyaWFsaXplciA9IG4gfHwgX19QUklWQVRFX25ld1NlcmlhbGl6ZXIoZSk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IHRvcC1sZXZlbCBwYXJzZSBjb250ZXh0LiAqLyAgICBGdShlLCB0LCBuLCByID0gITEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUGFyc2VDb250ZXh0SW1wbCh7XG4gICAgICAgICAgICBmdTogZSxcbiAgICAgICAgICAgIG1ldGhvZE5hbWU6IHQsXG4gICAgICAgICAgICB2dTogbixcbiAgICAgICAgICAgIHBhdGg6IEZpZWxkUGF0aCQxLmVtcHR5UGF0aCgpLFxuICAgICAgICAgICAgeXU6ICExLFxuICAgICAgICAgICAgQ3U6IHJcbiAgICAgICAgfSwgdGhpcy5kYXRhYmFzZUlkLCB0aGlzLnNlcmlhbGl6ZXIsIHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoZSkge1xuICAgIGNvbnN0IHQgPSBlLl9mcmVlemVTZXR0aW5ncygpLCBuID0gX19QUklWQVRFX25ld1NlcmlhbGl6ZXIoZS5fZGF0YWJhc2VJZCk7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfVXNlckRhdGFSZWFkZXIoZS5fZGF0YWJhc2VJZCwgISF0Lmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsIG4pO1xufVxuXG4vKiogUGFyc2UgZG9jdW1lbnQgZGF0YSBmcm9tIGEgc2V0KCkgY2FsbC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlU2V0RGF0YShlLCB0LCBuLCByLCBpLCBzID0ge30pIHtcbiAgICBjb25zdCBvID0gZS5GdShzLm1lcmdlIHx8IHMubWVyZ2VGaWVsZHMgPyAyIC8qIFVzZXJEYXRhU291cmNlLk1lcmdlU2V0ICovIDogMCAvKiBVc2VyRGF0YVNvdXJjZS5TZXQgKi8gLCB0LCBuLCBpKTtcbiAgICBfX1BSSVZBVEVfdmFsaWRhdGVQbGFpbk9iamVjdChcIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6XCIsIG8sIHIpO1xuICAgIGNvbnN0IF8gPSBfX1BSSVZBVEVfcGFyc2VPYmplY3Qociwgbyk7XG4gICAgbGV0IGEsIHU7XG4gICAgaWYgKHMubWVyZ2UpIGEgPSBuZXcgRmllbGRNYXNrKG8uZmllbGRNYXNrKSwgdSA9IG8uZmllbGRUcmFuc2Zvcm1zOyBlbHNlIGlmIChzLm1lcmdlRmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCByIG9mIHMubWVyZ2VGaWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEodCwgciwgbik7XG4gICAgICAgICAgICBpZiAoIW8uY29udGFpbnMoaSkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGaWVsZCAnJHtpfScgaXMgc3BlY2lmaWVkIGluIHlvdXIgZmllbGQgbWFzayBidXQgbWlzc2luZyBmcm9tIHlvdXIgaW5wdXQgZGF0YS5gKTtcbiAgICAgICAgICAgIF9fUFJJVkFURV9maWVsZE1hc2tDb250YWlucyhlLCBpKSB8fCBlLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IG5ldyBGaWVsZE1hc2soZSksIHUgPSBvLmZpZWxkVHJhbnNmb3Jtcy5maWx0ZXIoKGUgPT4gYS5jb3ZlcnMoZS5maWVsZCkpKTtcbiAgICB9IGVsc2UgYSA9IG51bGwsIHUgPSBvLmZpZWxkVHJhbnNmb3JtcztcbiAgICByZXR1cm4gbmV3IFBhcnNlZFNldERhdGEobmV3IE9iamVjdFZhbHVlKF8pLCBhLCB1KTtcbn1cblxuY2xhc3MgX19QUklWQVRFX0RlbGV0ZUZpZWxkVmFsdWVJbXBsIGV4dGVuZHMgRmllbGRWYWx1ZSB7XG4gICAgX3RvRmllbGRUcmFuc2Zvcm0oZSkge1xuICAgICAgICBpZiAoMiAvKiBVc2VyRGF0YVNvdXJjZS5NZXJnZVNldCAqLyAhPT0gZS5mdSkgdGhyb3cgMSAvKiBVc2VyRGF0YVNvdXJjZS5VcGRhdGUgKi8gPT09IGUuZnUgPyBlLkR1KGAke3RoaXMuX21ldGhvZE5hbWV9KCkgY2FuIG9ubHkgYXBwZWFyIGF0IHRoZSB0b3AgbGV2ZWwgb2YgeW91ciB1cGRhdGUgZGF0YWApIDogZS5EdShgJHt0aGlzLl9tZXRob2ROYW1lfSgpIGNhbm5vdCBiZSB1c2VkIHdpdGggc2V0KCkgdW5sZXNzIHlvdSBwYXNzIHttZXJnZTp0cnVlfWApO1xuICAgICAgICAvLyBObyB0cmFuc2Zvcm0gdG8gYWRkIGZvciBhIGRlbGV0ZSwgYnV0IHdlIG5lZWQgdG8gYWRkIGl0IHRvIG91clxuICAgICAgICAvLyBmaWVsZE1hc2sgc28gaXQgZ2V0cyBkZWxldGVkLlxuICAgICAgICByZXR1cm4gZS5maWVsZE1hc2sucHVzaChlLnBhdGgpLCBudWxsO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGw7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjaGlsZCBjb250ZXh0IGZvciBwYXJzaW5nIFNlcmlhbGl6YWJsZUZpZWxkVmFsdWVzLlxuICpcbiAqIFRoaXMgaXMgZGlmZmVyZW50IHRoYW4gY2FsbGluZyBgUGFyc2VDb250ZXh0LmNvbnRleHRXaXRoYCBiZWNhdXNlIGl0IGtlZXBzXG4gKiB0aGUgZmllbGRUcmFuc2Zvcm1zIGFuZCBmaWVsZE1hc2sgc2VwYXJhdGUuXG4gKlxuICogVGhlIGNyZWF0ZWQgY29udGV4dCBoYXMgaXRzIGBkYXRhU291cmNlYCBzZXQgdG8gYFVzZXJEYXRhU291cmNlLkFyZ3VtZW50YC5cbiAqIEFsdGhvdWdoIHRoZXNlIHZhbHVlcyBhcmUgdXNlZCB3aXRoIHdyaXRlcywgYW55IGVsZW1lbnRzIGluIHRoZXNlIEZpZWxkVmFsdWVzXG4gKiBhcmUgbm90IGNvbnNpZGVyZWQgd3JpdGVzIHNpbmNlIHRoZXkgY2Fubm90IGNvbnRhaW4gYW55IEZpZWxkVmFsdWUgc2VudGluZWxzLFxuICogZXRjLlxuICpcbiAqIEBwYXJhbSBmaWVsZFZhbHVlIC0gVGhlIHNlbnRpbmVsIEZpZWxkVmFsdWUgZm9yIHdoaWNoIHRvIGNyZWF0ZSBhIGNoaWxkXG4gKiAgICAgY29udGV4dC5cbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIHBhcmVudCBjb250ZXh0LlxuICogQHBhcmFtIGFycmF5RWxlbWVudCAtIFdoZXRoZXIgb3Igbm90IHRoZSBGaWVsZFZhbHVlIGhhcyBhbiBhcnJheS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlU2VudGluZWxDaGlsZENvbnRleHQoZSwgdCwgbikge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1BhcnNlQ29udGV4dEltcGwoe1xuICAgICAgICBmdTogMyAvKiBVc2VyRGF0YVNvdXJjZS5Bcmd1bWVudCAqLyAsXG4gICAgICAgIHZ1OiB0LnNldHRpbmdzLnZ1LFxuICAgICAgICBtZXRob2ROYW1lOiBlLl9tZXRob2ROYW1lLFxuICAgICAgICB5dTogblxuICAgIH0sIHQuZGF0YWJhc2VJZCwgdC5zZXJpYWxpemVyLCB0Lmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMpO1xufVxuXG5jbGFzcyBfX1BSSVZBVEVfU2VydmVyVGltZXN0YW1wRmllbGRWYWx1ZUltcGwgZXh0ZW5kcyBGaWVsZFZhbHVlIHtcbiAgICBfdG9GaWVsZFRyYW5zZm9ybShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRUcmFuc2Zvcm0oZS5wYXRoLCBuZXcgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBGaWVsZFZhbHVlSW1wbDtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9BcnJheVVuaW9uRmllbGRWYWx1ZUltcGwgZXh0ZW5kcyBGaWVsZFZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUpLCB0aGlzLk11ID0gdDtcbiAgICB9XG4gICAgX3RvRmllbGRUcmFuc2Zvcm0oZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2NyZWF0ZVNlbnRpbmVsQ2hpbGRDb250ZXh0KHRoaXMsIGUsIFxuICAgICAgICAvKmFycmF5PSovICEwKSwgbiA9IHRoaXMuTXUubWFwKChlID0+IF9fUFJJVkFURV9wYXJzZURhdGEoZSwgdCkpKSwgciA9IG5ldyBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbihuKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFRyYW5zZm9ybShlLnBhdGgsIHIpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlVbmlvbkZpZWxkVmFsdWVJbXBsICYmIHV0aWwuZGVlcEVxdWFsKHRoaXMuTXUsIGUuTXUpO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0FycmF5UmVtb3ZlRmllbGRWYWx1ZUltcGwgZXh0ZW5kcyBGaWVsZFZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUpLCB0aGlzLk11ID0gdDtcbiAgICB9XG4gICAgX3RvRmllbGRUcmFuc2Zvcm0oZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2NyZWF0ZVNlbnRpbmVsQ2hpbGRDb250ZXh0KHRoaXMsIGUsIFxuICAgICAgICAvKmFycmF5PSovICEwKSwgbiA9IHRoaXMuTXUubWFwKChlID0+IF9fUFJJVkFURV9wYXJzZURhdGEoZSwgdCkpKSwgciA9IG5ldyBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24obik7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRUcmFuc2Zvcm0oZS5wYXRoLCByKTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5UmVtb3ZlRmllbGRWYWx1ZUltcGwgJiYgdXRpbC5kZWVwRXF1YWwodGhpcy5NdSwgZS5NdSk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudEZpZWxkVmFsdWVJbXBsIGV4dGVuZHMgRmllbGRWYWx1ZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcihlKSwgdGhpcy54dSA9IHQ7XG4gICAgfVxuICAgIF90b0ZpZWxkVHJhbnNmb3JtKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvbihlLnNlcmlhbGl6ZXIsIHRvTnVtYmVyKGUuc2VyaWFsaXplciwgdGhpcy54dSkpO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkVHJhbnNmb3JtKGUucGF0aCwgdCk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50RmllbGRWYWx1ZUltcGwgJiYgdGhpcy54dSA9PT0gZS54dTtcbiAgICB9XG59XG5cbi8qKiBQYXJzZSB1cGRhdGUgZGF0YSBmcm9tIGFuIHVwZGF0ZSgpIGNhbGwuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZVVwZGF0ZURhdGEoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IGkgPSBlLkZ1KDEgLyogVXNlckRhdGFTb3VyY2UuVXBkYXRlICovICwgdCwgbik7XG4gICAgX19QUklWQVRFX3ZhbGlkYXRlUGxhaW5PYmplY3QoXCJEYXRhIG11c3QgYmUgYW4gb2JqZWN0LCBidXQgaXQgd2FzOlwiLCBpLCByKTtcbiAgICBjb25zdCBzID0gW10sIG8gPSBPYmplY3RWYWx1ZS5lbXB0eSgpO1xuICAgIGZvckVhY2gociwgKChlLCByKSA9PiB7XG4gICAgICAgIGNvbnN0IF8gPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyh0LCBlLCBuKTtcbiAgICAgICAgLy8gRm9yIENvbXBhdCB0eXBlcywgd2UgaGF2ZSB0byBcImV4dHJhY3RcIiB0aGUgdW5kZXJseWluZyB0eXBlcyBiZWZvcmVcbiAgICAgICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIHIgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShyKTtcbiAgICAgICAgY29uc3QgYSA9IGkuU3UoXyk7XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgX19QUklWQVRFX0RlbGV0ZUZpZWxkVmFsdWVJbXBsKSBcbiAgICAgICAgLy8gQWRkIGl0IHRvIHRoZSBmaWVsZCBtYXNrLCBidXQgZG9uJ3QgYWRkIGFueXRoaW5nIHRvIHVwZGF0ZURhdGEuXG4gICAgICAgIHMucHVzaChfKTsgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlID0gX19QUklWQVRFX3BhcnNlRGF0YShyLCBhKTtcbiAgICAgICAgICAgIG51bGwgIT0gZSAmJiAocy5wdXNoKF8pLCBvLnNldChfLCBlKSk7XG4gICAgICAgIH1cbiAgICB9KSk7XG4gICAgY29uc3QgXyA9IG5ldyBGaWVsZE1hc2socyk7XG4gICAgcmV0dXJuIG5ldyBQYXJzZWRVcGRhdGVEYXRhKG8sIF8sIGkuZmllbGRUcmFuc2Zvcm1zKTtcbn1cblxuLyoqIFBhcnNlIHVwZGF0ZSBkYXRhIGZyb20gYSBsaXN0IG9mIGZpZWxkL3ZhbHVlIGFyZ3VtZW50cy4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlVXBkYXRlVmFyYXJncyhlLCB0LCBuLCByLCBpLCBzKSB7XG4gICAgY29uc3QgbyA9IGUuRnUoMSAvKiBVc2VyRGF0YVNvdXJjZS5VcGRhdGUgKi8gLCB0LCBuKSwgXyA9IFsgX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudCQxKHQsIHIsIG4pIF0sIGEgPSBbIGkgXTtcbiAgICBpZiAocy5sZW5ndGggJSAyICE9IDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGdW5jdGlvbiAke3R9KCkgbmVlZHMgdG8gYmUgY2FsbGVkIHdpdGggYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzIHRoYXQgYWx0ZXJuYXRlIGJldHdlZW4gZmllbGQgbmFtZXMgYW5kIHZhbHVlcy5gKTtcbiAgICBmb3IgKGxldCBlID0gMDsgZSA8IHMubGVuZ3RoOyBlICs9IDIpIF8ucHVzaChfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEodCwgc1tlXSkpLCBcbiAgICBhLnB1c2goc1tlICsgMV0pO1xuICAgIGNvbnN0IHUgPSBbXSwgYyA9IE9iamVjdFZhbHVlLmVtcHR5KCk7XG4gICAgLy8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIG9yZGVyIHRvIHBpY2sgdGhlIGxhc3QgdmFsdWUgZm9yIGEgZmllbGQgaWYgdGhlXG4gICAgLy8gdXNlciBzcGVjaWZpZWQgdGhlIGZpZWxkIG11bHRpcGxlIHRpbWVzLlxuICAgIGZvciAobGV0IGUgPSBfLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSBpZiAoIV9fUFJJVkFURV9maWVsZE1hc2tDb250YWlucyh1LCBfW2VdKSkge1xuICAgICAgICBjb25zdCB0ID0gX1tlXTtcbiAgICAgICAgbGV0IG4gPSBhW2VdO1xuICAgICAgICAvLyBGb3IgQ29tcGF0IHR5cGVzLCB3ZSBoYXZlIHRvIFwiZXh0cmFjdFwiIHRoZSB1bmRlcmx5aW5nIHR5cGVzIGJlZm9yZVxuICAgICAgICAvLyBwZXJmb3JtaW5nIHZhbGlkYXRpb24uXG4gICAgICAgICAgICAgICAgbiA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKG4pO1xuICAgICAgICBjb25zdCByID0gby5TdSh0KTtcbiAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGwpIFxuICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIGZpZWxkIG1hc2ssIGJ1dCBkb24ndCBhZGQgYW55dGhpbmcgdG8gdXBkYXRlRGF0YS5cbiAgICAgICAgdS5wdXNoKHQpOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBfX1BSSVZBVEVfcGFyc2VEYXRhKG4sIHIpO1xuICAgICAgICAgICAgbnVsbCAhPSBlICYmICh1LnB1c2godCksIGMuc2V0KHQsIGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBsID0gbmV3IEZpZWxkTWFzayh1KTtcbiAgICByZXR1cm4gbmV3IFBhcnNlZFVwZGF0ZURhdGEoYywgbCwgby5maWVsZFRyYW5zZm9ybXMpO1xufVxuXG4vKipcbiAqIFBhcnNlIGEgXCJxdWVyeSB2YWx1ZVwiIChlLmcuIHZhbHVlIGluIGEgd2hlcmUgZmlsdGVyIG9yIGEgdmFsdWUgaW4gYSBjdXJzb3JcbiAqIGJvdW5kKS5cbiAqXG4gKiBAcGFyYW0gYWxsb3dBcnJheXMgLSBXaGV0aGVyIHRoZSBxdWVyeSB2YWx1ZSBpcyBhbiBhcnJheSB0aGF0IG1heSBkaXJlY3RseVxuICogY29udGFpbiBhZGRpdGlvbmFsIGFycmF5cyAoZS5nLiB0aGUgb3BlcmFuZCBvZiBhbiBgaW5gIHF1ZXJ5KS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VRdWVyeVZhbHVlKGUsIHQsIG4sIHIgPSAhMSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfcGFyc2VEYXRhKG4sIGUuRnUociA/IDQgLyogVXNlckRhdGFTb3VyY2UuQXJyYXlBcmd1bWVudCAqLyA6IDMgLyogVXNlckRhdGFTb3VyY2UuQXJndW1lbnQgKi8gLCB0KSk7XG59XG5cbi8qKlxuICogUGFyc2VzIHVzZXIgZGF0YSB0byBQcm90b2J1ZiBWYWx1ZXMuXG4gKlxuICogQHBhcmFtIGlucHV0IC0gRGF0YSB0byBiZSBwYXJzZWQuXG4gKiBAcGFyYW0gY29udGV4dCAtIEEgY29udGV4dCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHBhdGggYmVpbmcgcGFyc2VkLFxuICogdGhlIHNvdXJjZSBvZiB0aGUgZGF0YSBiZWluZyBwYXJzZWQsIGV0Yy5cbiAqIEByZXR1cm5zIFRoZSBwYXJzZWQgdmFsdWUsIG9yIG51bGwgaWYgdGhlIHZhbHVlIHdhcyBhIEZpZWxkVmFsdWUgc2VudGluZWxcbiAqIHRoYXQgc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0aW5nIHBhcnNlZCBkYXRhLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZURhdGEoZSwgdCkge1xuICAgIGlmIChfX1BSSVZBVEVfbG9va3NMaWtlSnNvbk9iamVjdChcbiAgICAvLyBVbndyYXAgdGhlIEFQSSB0eXBlIGZyb20gdGhlIENvbXBhdCBTREsuIFRoaXMgd2lsbCByZXR1cm4gdGhlIEFQSSB0eXBlXG4gICAgLy8gZnJvbSBmaXJlc3RvcmUtZXhwLlxuICAgIGUgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShlKSkpIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVQbGFpbk9iamVjdChcIlVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOlwiLCB0LCBlKSwgXG4gICAgX19QUklWQVRFX3BhcnNlT2JqZWN0KGUsIHQpO1xuICAgIGlmIChlIGluc3RhbmNlb2YgRmllbGRWYWx1ZSkgXG4gICAgLy8gRmllbGRWYWx1ZXMgdXN1YWxseSBwYXJzZSBpbnRvIHRyYW5zZm9ybXMgKGV4Y2VwdCBkZWxldGVGaWVsZCgpKVxuICAgIC8vIGluIHdoaWNoIGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gaW5jbHVkZSB0aGlzIGZpZWxkIGluIG91ciBwYXJzZWQgZGF0YVxuICAgIC8vIChhcyBkb2luZyBzbyB3aWxsIG92ZXJ3cml0ZSB0aGUgZmllbGQgZGlyZWN0bHkgcHJpb3IgdG8gdGhlIHRyYW5zZm9ybVxuICAgIC8vIHRyeWluZyB0byB0cmFuc2Zvcm0gaXQpLiBTbyB3ZSBkb24ndCBhZGQgdGhpcyBsb2NhdGlvbiB0b1xuICAgIC8vIGNvbnRleHQuZmllbGRNYXNrIGFuZCB3ZSByZXR1cm4gbnVsbCBhcyBvdXIgcGFyc2luZyByZXN1bHQuXG4gICAgLyoqXG4gKiBcIlBhcnNlc1wiIHRoZSBwcm92aWRlZCBGaWVsZFZhbHVlSW1wbCwgYWRkaW5nIGFueSBuZWNlc3NhcnkgdHJhbnNmb3JtcyB0b1xuICogY29udGV4dC5maWVsZFRyYW5zZm9ybXMuXG4gKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlU2VudGluZWxGaWVsZFZhbHVlKGUsIHQpIHtcbiAgICAgICAgLy8gU2VudGluZWxzIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIHdyaXRlcywgYW5kIG5vdCB3aXRoaW4gYXJyYXlzLlxuICAgICAgICBpZiAoIV9fUFJJVkFURV9pc1dyaXRlKHQuZnUpKSB0aHJvdyB0LkR1KGAke2UuX21ldGhvZE5hbWV9KCkgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHVwZGF0ZSgpIGFuZCBzZXQoKWApO1xuICAgICAgICBpZiAoIXQucGF0aCkgdGhyb3cgdC5EdShgJHtlLl9tZXRob2ROYW1lfSgpIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluc2lkZSBhcnJheXNgKTtcbiAgICAgICAgY29uc3QgbiA9IGUuX3RvRmllbGRUcmFuc2Zvcm0odCk7XG4gICAgICAgIG4gJiYgdC5maWVsZFRyYW5zZm9ybXMucHVzaChuKTtcbiAgICB9XG4gICAgLyoqXG4gKiBIZWxwZXIgdG8gcGFyc2UgYSBzY2FsYXIgdmFsdWUgKGkuZS4gbm90IGFuIE9iamVjdCwgQXJyYXksIG9yIEZpZWxkVmFsdWUpXG4gKlxuICogQHJldHVybnMgVGhlIHBhcnNlZCB2YWx1ZVxuICovIChlLCB0KSwgbnVsbDtcbiAgICBpZiAodm9pZCAwID09PSBlICYmIHQuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcykgXG4gICAgLy8gSWYgdGhlIGlucHV0IGlzIHVuZGVmaW5lZCBpdCBjYW4gbmV2ZXIgcGFydGljaXBhdGUgaW4gdGhlIGZpZWxkTWFzaywgc29cbiAgICAvLyBkb24ndCBoYW5kbGUgdGhpcyBiZWxvdy4gSWYgYGlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXNgIGlzIGZhbHNlLFxuICAgIC8vIGBwYXJzZVNjYWxhclZhbHVlYCB3aWxsIHJlamVjdCBhbiB1bmRlZmluZWQgdmFsdWUuXG4gICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKFxuICAgIC8vIElmIGNvbnRleHQucGF0aCBpcyBudWxsIHdlIGFyZSBpbnNpZGUgYW4gYXJyYXkgYW5kIHdlIGRvbid0IHN1cHBvcnRcbiAgICAvLyBmaWVsZCBtYXNrIHBhdGhzIG1vcmUgZ3JhbnVsYXIgdGhhbiB0aGUgdG9wLWxldmVsIGFycmF5LlxuICAgIHQucGF0aCAmJiB0LmZpZWxkTWFzay5wdXNoKHQucGF0aCksIGUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAvLyBUT0RPKGIvMzQ4NzExMzEpOiBJbmNsdWRlIHRoZSBwYXRoIGNvbnRhaW5pbmcgdGhlIGFycmF5IGluIHRoZSBlcnJvclxuICAgICAgICAvLyBtZXNzYWdlLlxuICAgICAgICAvLyBJbiB0aGUgY2FzZSBvZiBJTiBxdWVyaWVzLCB0aGUgcGFyc2VkIGRhdGEgaXMgYW4gYXJyYXkgKHJlcHJlc2VudGluZ1xuICAgICAgICAvLyB0aGUgc2V0IG9mIHZhbHVlcyB0byBiZSBpbmNsdWRlZCBmb3IgdGhlIElOIHF1ZXJ5KSB0aGF0IG1heSBkaXJlY3RseVxuICAgICAgICAvLyBjb250YWluIGFkZGl0aW9uYWwgYXJyYXlzIChlYWNoIHJlcHJlc2VudGluZyBhbiBpbmRpdmlkdWFsIGZpZWxkXG4gICAgICAgIC8vIHZhbHVlKSwgc28gd2UgZGlzYWJsZSB0aGlzIHZhbGlkYXRpb24uXG4gICAgICAgIGlmICh0LnNldHRpbmdzLnl1ICYmIDQgLyogVXNlckRhdGFTb3VyY2UuQXJyYXlBcmd1bWVudCAqLyAhPT0gdC5mdSkgdGhyb3cgdC5EdShcIk5lc3RlZCBhcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VBcnJheShlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gW107XG4gICAgICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgZSkge1xuICAgICAgICAgICAgICAgIGxldCBlID0gX19QUklWQVRFX3BhcnNlRGF0YShpLCB0LmJ1KHIpKTtcbiAgICAgICAgICAgICAgICBudWxsID09IGUgJiYgKFxuICAgICAgICAgICAgICAgIC8vIEp1c3QgaW5jbHVkZSBudWxscyBpbiB0aGUgYXJyYXkgZm9yIGZpZWxkcyBiZWluZyByZXBsYWNlZCB3aXRoIGFcbiAgICAgICAgICAgICAgICAvLyBzZW50aW5lbC5cbiAgICAgICAgICAgICAgICBlID0ge1xuICAgICAgICAgICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgICAgICAgICAgfSksIG4ucHVzaChlKSwgcisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhcnJheVZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oZSwgdCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VTY2FsYXJWYWx1ZShlLCB0KSB7XG4gICAgICAgIGlmIChudWxsID09PSAoZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpKSkgcmV0dXJuIHtcbiAgICAgICAgICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGUpIHJldHVybiB0b051bWJlcih0LnNlcmlhbGl6ZXIsIGUpO1xuICAgICAgICBpZiAoXCJib29sZWFuXCIgPT0gdHlwZW9mIGUpIHJldHVybiB7XG4gICAgICAgICAgICBib29sZWFuVmFsdWU6IGVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiB7XG4gICAgICAgICAgICBzdHJpbmdWYWx1ZTogZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBUaW1lc3RhbXAuZnJvbURhdGUoZSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRpbWVzdGFtcFZhbHVlOiB0b1RpbWVzdGFtcCh0LnNlcmlhbGl6ZXIsIG4pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgVGltZXN0YW1wKSB7XG4gICAgICAgICAgICAvLyBGaXJlc3RvcmUgYmFja2VuZCB0cnVuY2F0ZXMgcHJlY2lzaW9uIGRvd24gdG8gbWljcm9zZWNvbmRzLiBUbyBlbnN1cmVcbiAgICAgICAgICAgIC8vIG9mZmxpbmUgbW9kZSB3b3JrcyB0aGUgc2FtZSB3aXRoIHJlZ2FyZHMgdG8gdHJ1bmNhdGlvbiwgcGVyZm9ybSB0aGVcbiAgICAgICAgICAgIC8vIHRydW5jYXRpb24gaW1tZWRpYXRlbHkgd2l0aG91dCB3YWl0aW5nIGZvciB0aGUgYmFja2VuZCB0byBkbyB0aGF0LlxuICAgICAgICAgICAgY29uc3QgbiA9IG5ldyBUaW1lc3RhbXAoZS5zZWNvbmRzLCAxZTMgKiBNYXRoLmZsb29yKGUubmFub3NlY29uZHMgLyAxZTMpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wVmFsdWU6IHRvVGltZXN0YW1wKHQuc2VyaWFsaXplciwgbilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBHZW9Qb2ludCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGdlb1BvaW50VmFsdWU6IHtcbiAgICAgICAgICAgICAgICBsYXRpdHVkZTogZS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGUubG9uZ2l0dWRlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgQnl0ZXMpIHJldHVybiB7XG4gICAgICAgICAgICBieXRlc1ZhbHVlOiBfX1BSSVZBVEVfdG9CeXRlcyh0LnNlcmlhbGl6ZXIsIGUuX2J5dGVTdHJpbmcpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRG9jdW1lbnRSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LmRhdGFiYXNlSWQsIHIgPSBlLmZpcmVzdG9yZS5fZGF0YWJhc2VJZDtcbiAgICAgICAgICAgIGlmICghci5pc0VxdWFsKG4pKSB0aHJvdyB0LkR1KGBEb2N1bWVudCByZWZlcmVuY2UgaXMgZm9yIGRhdGFiYXNlICR7ci5wcm9qZWN0SWR9LyR7ci5kYXRhYmFzZX0gYnV0IHNob3VsZCBiZSBmb3IgZGF0YWJhc2UgJHtuLnByb2plY3RJZH0vJHtuLmRhdGFiYXNlfWApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZWZlcmVuY2VWYWx1ZTogX19QUklWQVRFX3RvUmVzb3VyY2VOYW1lKGUuZmlyZXN0b3JlLl9kYXRhYmFzZUlkIHx8IHQuZGF0YWJhc2VJZCwgZS5fa2V5LnBhdGgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHQuRHUoYFVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOiAke19fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uKGUpfWApO1xuICAgIH1cbiAgICAvKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIG9iamVjdCBsb29rcyBsaWtlIGEgSlNPTiBvYmplY3QgdGhhdCBzaG91bGQgYmUgY29udmVydGVkXG4gKiBpbnRvIGEgc3RydWN0LiBOb3JtYWwgY2xhc3MvcHJvdG90eXBlIGluc3RhbmNlcyBhcmUgY29uc2lkZXJlZCB0byBsb29rIGxpa2VcbiAqIEpTT04gb2JqZWN0cyBzaW5jZSB0aGV5IHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSBzdHJ1Y3QgdmFsdWUuIEFycmF5cywgRGF0ZXMsXG4gKiBHZW9Qb2ludHMsIGV0Yy4gYXJlIG5vdCBjb25zaWRlcmVkIHRvIGxvb2sgbGlrZSBKU09OIG9iamVjdHMgc2luY2UgdGhleSBtYXBcbiAqIHRvIHNwZWNpZmljIEZpZWxkVmFsdWUgdHlwZXMgb3RoZXIgdGhhbiBPYmplY3RWYWx1ZS5cbiAqLyAoZSwgdCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZU9iamVjdChlLCB0KSB7XG4gICAgY29uc3QgbiA9IHt9O1xuICAgIHJldHVybiBpc0VtcHR5KGUpID8gXG4gICAgLy8gSWYgd2UgZW5jb3VudGVyIGFuIGVtcHR5IG9iamVjdCwgd2UgZXhwbGljaXRseSBhZGQgaXQgdG8gdGhlIHVwZGF0ZVxuICAgIC8vIG1hc2sgdG8gZW5zdXJlIHRoYXQgdGhlIHNlcnZlciBjcmVhdGVzIGEgbWFwIGVudHJ5LlxuICAgIHQucGF0aCAmJiB0LnBhdGgubGVuZ3RoID4gMCAmJiB0LmZpZWxkTWFzay5wdXNoKHQucGF0aCkgOiBmb3JFYWNoKGUsICgoZSwgcikgPT4ge1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX3BhcnNlRGF0YShyLCB0LnB1KGUpKTtcbiAgICAgICAgbnVsbCAhPSBpICYmIChuW2VdID0gaSk7XG4gICAgfSkpLCB7XG4gICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICBmaWVsZHM6IG5cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb29rc0xpa2VKc29uT2JqZWN0KGUpIHtcbiAgICByZXR1cm4gIShcIm9iamVjdFwiICE9IHR5cGVvZiBlIHx8IG51bGwgPT09IGUgfHwgZSBpbnN0YW5jZW9mIEFycmF5IHx8IGUgaW5zdGFuY2VvZiBEYXRlIHx8IGUgaW5zdGFuY2VvZiBUaW1lc3RhbXAgfHwgZSBpbnN0YW5jZW9mIEdlb1BvaW50IHx8IGUgaW5zdGFuY2VvZiBCeXRlcyB8fCBlIGluc3RhbmNlb2YgRG9jdW1lbnRSZWZlcmVuY2UgfHwgZSBpbnN0YW5jZW9mIEZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVQbGFpbk9iamVjdChlLCB0LCBuKSB7XG4gICAgaWYgKCFfX1BSSVZBVEVfbG9va3NMaWtlSnNvbk9iamVjdChuKSB8fCAhZnVuY3Rpb24gX19QUklWQVRFX2lzUGxhaW5PYmplY3QoZSkge1xuICAgICAgICByZXR1cm4gXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBudWxsICE9PSBlICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgbnVsbCA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKTtcbiAgICB9KG4pKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfdmFsdWVEZXNjcmlwdGlvbihuKTtcbiAgICAgICAgdGhyb3cgXCJhbiBvYmplY3RcIiA9PT0gciA/IHQuRHUoZSArIFwiIGEgY3VzdG9tIG9iamVjdFwiKSA6IHQuRHUoZSArIFwiIFwiICsgcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0aGF0IGNhbGxzIGZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoKSBidXQgd3JhcHMgYW55IGVycm9yIHRocm93bi5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEoZSwgdCwgbikge1xuICAgIGlmICgoXG4gICAgLy8gSWYgcmVxdWlyZWQsIHJlcGxhY2UgdGhlIEZpZWxkUGF0aCBDb21wYXQgY2xhc3Mgd2l0aCB3aXRoIHRoZSBmaXJlc3RvcmUtZXhwXG4gICAgLy8gRmllbGRQYXRoLlxuICAgIHQgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZSh0KSkgaW5zdGFuY2VvZiBGaWVsZFBhdGgpIHJldHVybiB0Ll9pbnRlcm5hbFBhdGg7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHQpIHJldHVybiBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyhlLCB0KTtcbiAgICB0aHJvdyBfX1BSSVZBVEVfY3JlYXRlRXJyb3IoXCJGaWVsZCBwYXRoIGFyZ3VtZW50cyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nIG9yIFwiLCBlLCBcbiAgICAvKiBoYXNDb252ZXJ0ZXI9ICovICExLCBcbiAgICAvKiBwYXRoPSAqLyB2b2lkIDAsIG4pO1xufVxuXG4vKipcbiAqIE1hdGNoZXMgYW55IGNoYXJhY3RlcnMgaW4gYSBmaWVsZCBwYXRoIHN0cmluZyB0aGF0IGFyZSByZXNlcnZlZC5cbiAqLyBjb25zdCBiZSA9IG5ldyBSZWdFeHAoXCJbflxcXFwqL1xcXFxbXFxcXF1dXCIpO1xuXG4vKipcbiAqIFdyYXBzIGZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcgd2l0aCBhbiBlcnJvciBtZXNzYWdlIGFib3V0IHRoZSBtZXRob2QgdGhhdFxuICogd2FzIHRocm93bi5cbiAqIEBwYXJhbSBtZXRob2ROYW1lIC0gVGhlIHB1YmxpY2x5IHZpc2libGUgbWV0aG9kIG5hbWVcbiAqIEBwYXJhbSBwYXRoIC0gVGhlIGRvdC1zZXBhcmF0ZWQgc3RyaW5nIGZvcm0gb2YgYSBmaWVsZCBwYXRoIHdoaWNoIHdpbGwgYmVcbiAqIHNwbGl0IG9uIGRvdHMuXG4gKiBAcGFyYW0gdGFyZ2V0RG9jIC0gVGhlIGRvY3VtZW50IGFnYWluc3Qgd2hpY2ggdGhlIGZpZWxkIHBhdGggd2lsbCBiZVxuICogZXZhbHVhdGVkLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZFBhdGhGcm9tRG90U2VwYXJhdGVkU3RyaW5nKGUsIHQsIG4pIHtcbiAgICBpZiAodC5zZWFyY2goYmUpID49IDApIHRocm93IF9fUFJJVkFURV9jcmVhdGVFcnJvcihgSW52YWxpZCBmaWVsZCBwYXRoICgke3R9KS4gUGF0aHMgbXVzdCBub3QgY29udGFpbiAnficsICcqJywgJy8nLCAnWycsIG9yICddJ2AsIGUsIFxuICAgIC8qIGhhc0NvbnZlcnRlcj0gKi8gITEsIFxuICAgIC8qIHBhdGg9ICovIHZvaWQgMCwgbik7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFBhdGgoLi4udC5zcGxpdChcIi5cIikpLl9pbnRlcm5hbFBhdGg7XG4gICAgfSBjYXRjaCAocikge1xuICAgICAgICB0aHJvdyBfX1BSSVZBVEVfY3JlYXRlRXJyb3IoYEludmFsaWQgZmllbGQgcGF0aCAoJHt0fSkuIFBhdGhzIG11c3Qgbm90IGJlIGVtcHR5LCBiZWdpbiB3aXRoICcuJywgZW5kIHdpdGggJy4nLCBvciBjb250YWluICcuLidgLCBlLCBcbiAgICAgICAgLyogaGFzQ29udmVydGVyPSAqLyAhMSwgXG4gICAgICAgIC8qIHBhdGg9ICovIHZvaWQgMCwgbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlRXJyb3IoZSwgdCwgbiwgciwgaSkge1xuICAgIGNvbnN0IHMgPSByICYmICFyLmlzRW1wdHkoKSwgbyA9IHZvaWQgMCAhPT0gaTtcbiAgICBsZXQgXyA9IGBGdW5jdGlvbiAke3R9KCkgY2FsbGVkIHdpdGggaW52YWxpZCBkYXRhYDtcbiAgICBuICYmIChfICs9IFwiICh2aWEgYHRvRmlyZXN0b3JlKClgKVwiKSwgXyArPSBcIi4gXCI7XG4gICAgbGV0IGEgPSBcIlwiO1xuICAgIHJldHVybiAocyB8fCBvKSAmJiAoYSArPSBcIiAoZm91bmRcIiwgcyAmJiAoYSArPSBgIGluIGZpZWxkICR7cn1gKSwgbyAmJiAoYSArPSBgIGluIGRvY3VtZW50ICR7aX1gKSwgXG4gICAgYSArPSBcIilcIiksIG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIF8gKyBlICsgYSk7XG59XG5cbi8qKiBDaGVja3MgYGhheXN0YWNrYCBpZiBGaWVsZFBhdGggYG5lZWRsZWAgaXMgcHJlc2VudC4gUnVucyBpbiBPKG4pLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRNYXNrQ29udGFpbnMoZSwgdCkge1xuICAgIHJldHVybiBlLnNvbWUoKGUgPT4gZS5pc0VxdWFsKHQpKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgYERvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91ciBGaXJlc3RvcmVcbiAqIGRhdGFiYXNlLiBUaGUgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0b1xuICogZ2V0IGEgc3BlY2lmaWMgZmllbGQuXG4gKlxuICogRm9yIGEgYERvY3VtZW50U25hcHNob3RgIHRoYXQgcG9pbnRzIHRvIGEgbm9uLWV4aXN0aW5nIGRvY3VtZW50LCBhbnkgZGF0YVxuICogYWNjZXNzIHdpbGwgcmV0dXJuICd1bmRlZmluZWQnLiBZb3UgY2FuIHVzZSB0aGUgYGV4aXN0cygpYCBtZXRob2QgdG9cbiAqIGV4cGxpY2l0bHkgdmVyaWZ5IGEgZG9jdW1lbnQncyBleGlzdGVuY2UuXG4gKi8gY2xhc3MgRG9jdW1lbnRTbmFwc2hvdCQxIHtcbiAgICAvLyBOb3RlOiBUaGlzIGNsYXNzIGlzIHN0cmlwcGVkIGRvd24gdmVyc2lvbiBvZiB0aGUgRG9jdW1lbnRTbmFwc2hvdCBpblxuICAgIC8vIHRoZSBsZWdhY3kgU0RLLiBUaGUgY2hhbmdlcyBhcmU6XG4gICAgLy8gLSBObyBzdXBwb3J0IGZvciBTbmFwc2hvdE1ldGFkYXRhLlxuICAgIC8vIC0gTm8gc3VwcG9ydCBmb3IgU25hcHNob3RPcHRpb25zLlxuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yIHByb3RlY3RlZCAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgdGhpcy5fZmlyZXN0b3JlID0gZSwgdGhpcy5fdXNlckRhdGFXcml0ZXIgPSB0LCB0aGlzLl9rZXkgPSBuLCB0aGlzLl9kb2N1bWVudCA9IHIsIFxuICAgICAgICB0aGlzLl9jb252ZXJ0ZXIgPSBpO1xuICAgIH1cbiAgICAvKiogUHJvcGVydHkgb2YgdGhlIGBEb2N1bWVudFNuYXBzaG90YCB0aGF0IHByb3ZpZGVzIHRoZSBkb2N1bWVudCdzIElELiAqLyAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXkucGF0aC5sYXN0U2VnbWVudCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYERvY3VtZW50UmVmZXJlbmNlYCBmb3IgdGhlIGRvY3VtZW50IGluY2x1ZGVkIGluIHRoZSBgRG9jdW1lbnRTbmFwc2hvdGAuXG4gICAgICovICAgIGdldCByZWYoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRSZWZlcmVuY2UodGhpcy5fZmlyZXN0b3JlLCB0aGlzLl9jb252ZXJ0ZXIsIHRoaXMuX2tleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpZ25hbHMgd2hldGhlciBvciBub3QgdGhlIGRvY3VtZW50IGF0IHRoZSBzbmFwc2hvdCdzIGxvY2F0aW9uIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGRvY3VtZW50IGV4aXN0cy5cbiAgICAgKi8gICAgZXhpc3RzKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5fZG9jdW1lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBhcyBhbiBgT2JqZWN0YC4gUmV0dXJucyBgdW5kZWZpbmVkYCBpZlxuICAgICAqIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQW4gYE9iamVjdGAgY29udGFpbmluZyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBvciBgdW5kZWZpbmVkYFxuICAgICAqIGlmIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqLyAgICBkYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5fZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb252ZXJ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gdXNlIHRoZSBjb252ZXJ0ZXIgYW5kIGNyZWF0ZSBhIG5ldyBEb2N1bWVudFNuYXBzaG90XG4gICAgICAgICAgICAgICAgLy8gaWYgYSBjb252ZXJ0ZXIgaGFzIGJlZW4gcHJvdmlkZWQuXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBRdWVyeURvY3VtZW50U25hcHNob3QkMSh0aGlzLl9maXJlc3RvcmUsIHRoaXMuX3VzZXJEYXRhV3JpdGVyLCB0aGlzLl9rZXksIHRoaXMuX2RvY3VtZW50LCBcbiAgICAgICAgICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb252ZXJ0ZXIuZnJvbUZpcmVzdG9yZShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUodGhpcy5fZG9jdW1lbnQuZGF0YS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBmaWVsZCBzcGVjaWZpZWQgYnkgYGZpZWxkUGF0aGAuIFJldHVybnMgYHVuZGVmaW5lZGAgaWYgdGhlXG4gICAgICogZG9jdW1lbnQgb3IgZmllbGQgZG9lc24ndCBleGlzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWVsZFBhdGggLSBUaGUgcGF0aCAoZm9yIGV4YW1wbGUgJ2Zvbycgb3IgJ2Zvby5iYXInKSB0byBhIHNwZWNpZmljXG4gICAgICogZmllbGQuXG4gICAgICogQHJldHVybnMgVGhlIGRhdGEgYXQgdGhlIHNwZWNpZmllZCBmaWVsZCBsb2NhdGlvbiBvciB1bmRlZmluZWQgaWYgbm8gc3VjaFxuICAgICAqIGZpZWxkIGV4aXN0cyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgLy8gV2UgYXJlIHVzaW5nIGBhbnlgIGhlcmUgdG8gYXZvaWQgYW4gZXhwbGljaXQgY2FzdCBieSBvdXIgdXNlcnMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBnZXQoZSkge1xuICAgICAgICBpZiAodGhpcy5fZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLl9kb2N1bWVudC5kYXRhLmZpZWxkKF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQoXCJEb2N1bWVudFNuYXBzaG90LmdldFwiLCBlKSk7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdCkgcmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBRdWVyeURvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91clxuICogRmlyZXN0b3JlIGRhdGFiYXNlIGFzIHBhcnQgb2YgYSBxdWVyeS4gVGhlIGRvY3VtZW50IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3RcbiAqIGFuZCBpdHMgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0byBnZXQgYVxuICogc3BlY2lmaWMgZmllbGQuXG4gKlxuICogQSBgUXVlcnlEb2N1bWVudFNuYXBzaG90YCBvZmZlcnMgdGhlIHNhbWUgQVBJIHN1cmZhY2UgYXMgYVxuICogYERvY3VtZW50U25hcHNob3RgLiBTaW5jZSBxdWVyeSByZXN1bHRzIGNvbnRhaW4gb25seSBleGlzdGluZyBkb2N1bWVudHMsIHRoZVxuICogYGV4aXN0c2AgcHJvcGVydHkgd2lsbCBhbHdheXMgYmUgdHJ1ZSBhbmQgYGRhdGEoKWAgd2lsbCBuZXZlciByZXR1cm5cbiAqICd1bmRlZmluZWQnLlxuICovIGNsYXNzIFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCQxIGV4dGVuZHMgRG9jdW1lbnRTbmFwc2hvdCQxIHtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQgYXMgYW4gYE9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJucyBBbiBgT2JqZWN0YCBjb250YWluaW5nIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5kYXRhKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0aGF0IGNhbGxzIGBmcm9tRG90U2VwYXJhdGVkU3RyaW5nKClgIGJ1dCB3cmFwcyBhbnkgZXJyb3IgdGhyb3duLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQoZSwgdCkge1xuICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoZSwgdCkgOiB0IGluc3RhbmNlb2YgRmllbGRQYXRoID8gdC5faW50ZXJuYWxQYXRoIDogdC5fZGVsZWdhdGUuX2ludGVybmFsUGF0aDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlSGFzRXhwbGljaXRPcmRlckJ5Rm9yTGltaXRUb0xhc3QoZSkge1xuICAgIGlmIChcIkxcIiAvKiBMaW1pdFR5cGUuTGFzdCAqLyA9PT0gZS5saW1pdFR5cGUgJiYgMCA9PT0gZS5leHBsaWNpdE9yZGVyQnkubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTklNUExFTUVOVEVELCBcImxpbWl0VG9MYXN0KCkgcXVlcmllcyByZXF1aXJlIHNwZWNpZnlpbmcgYXQgbGVhc3Qgb25lIG9yZGVyQnkoKSBjbGF1c2VcIik7XG59XG5cbi8qKlxuICogQW4gYEFwcGxpYWJsZUNvbnN0cmFpbnRgIGlzIGFuIGFic3RyYWN0aW9uIG9mIGEgY29uc3RyYWludCB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBhIEZpcmVzdG9yZSBxdWVyeS5cbiAqLyBjbGFzcyBBcHBsaWFibGVDb25zdHJhaW50IHt9XG5cbi8qKlxuICogQSBgUXVlcnlDb25zdHJhaW50YCBpcyB1c2VkIHRvIG5hcnJvdyB0aGUgc2V0IG9mIGRvY3VtZW50cyByZXR1cm5lZCBieSBhXG4gKiBGaXJlc3RvcmUgcXVlcnkuIGBRdWVyeUNvbnN0cmFpbnRgcyBhcmUgY3JlYXRlZCBieSBpbnZva2luZyB7QGxpbmsgd2hlcmV9LFxuICoge0BsaW5rIG9yZGVyQnl9LCB7QGxpbmsgKHN0YXJ0QXQ6MSl9LCB7QGxpbmsgKHN0YXJ0QWZ0ZXI6MSl9LCB7QGxpbmtcbiAqIChlbmRCZWZvcmU6MSl9LCB7QGxpbmsgKGVuZEF0OjEpfSwge0BsaW5rIGxpbWl0fSwge0BsaW5rIGxpbWl0VG9MYXN0fSBhbmRcbiAqIGNhbiB0aGVuIGJlIHBhc3NlZCB0byB7QGxpbmsgKHF1ZXJ5OjEpfSB0byBjcmVhdGUgYSBuZXcgcXVlcnkgaW5zdGFuY2UgdGhhdFxuICogYWxzbyBjb250YWlucyB0aGlzIGBRdWVyeUNvbnN0cmFpbnRgLlxuICovIGNsYXNzIFF1ZXJ5Q29uc3RyYWludCBleHRlbmRzIEFwcGxpYWJsZUNvbnN0cmFpbnQge31cblxuZnVuY3Rpb24gcXVlcnkoZSwgdCwgLi4ubikge1xuICAgIGxldCByID0gW107XG4gICAgdCBpbnN0YW5jZW9mIEFwcGxpYWJsZUNvbnN0cmFpbnQgJiYgci5wdXNoKHQpLCByID0gci5jb25jYXQobiksIGZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZVF1ZXJ5Q29uc3RyYWludEFycmF5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZmlsdGVyKChlID0+IGUgaW5zdGFuY2VvZiBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnQpKS5sZW5ndGgsIG4gPSBlLmZpbHRlcigoZSA9PiBlIGluc3RhbmNlb2YgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQpKS5sZW5ndGg7XG4gICAgICAgIGlmICh0ID4gMSB8fCB0ID4gMCAmJiBuID4gMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJJbnZhbGlkUXVlcnkuIFdoZW4gdXNpbmcgY29tcG9zaXRlIGZpbHRlcnMsIHlvdSBjYW5ub3QgdXNlIG1vcmUgdGhhbiBvbmUgZmlsdGVyIGF0IHRoZSB0b3AgbGV2ZWwuIENvbnNpZGVyIG5lc3RpbmcgdGhlIG11bHRpcGxlIGZpbHRlcnMgd2l0aGluIGFuIGBhbmQoLi4uKWAgc3RhdGVtZW50LiBGb3IgZXhhbXBsZTogY2hhbmdlIGBxdWVyeShxdWVyeSwgd2hlcmUoLi4uKSwgb3IoLi4uKSlgIHRvIGBxdWVyeShxdWVyeSwgYW5kKHdoZXJlKC4uLiksIG9yKC4uLikpKWAuXCIpO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgIC8qKlxuICogQ29udmVydHMgRmlyZXN0b3JlJ3MgaW50ZXJuYWwgdHlwZXMgdG8gdGhlIEphdmFTY3JpcHQgdHlwZXMgdGhhdCB3ZSBleHBvc2VcbiAqIHRvIHRoZSB1c2VyLlxuICpcbiAqIEBpbnRlcm5hbFxuICovIChyKTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgcikgZSA9IHQuX2FwcGx5KGUpO1xuICAgIHJldHVybiBlO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50YCBpcyB1c2VkIHRvIG5hcnJvdyB0aGUgc2V0IG9mIGRvY3VtZW50cyByZXR1cm5lZCBieVxuICogYSBGaXJlc3RvcmUgcXVlcnkgYnkgZmlsdGVyaW5nIG9uIG9uZSBvciBtb3JlIGRvY3VtZW50IGZpZWxkcy5cbiAqIGBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nIHtAbGluayB3aGVyZX0gYW5kIGNhbiB0aGVuXG4gKiBiZSBwYXNzZWQgdG8ge0BsaW5rIChxdWVyeToxKX0gdG8gY3JlYXRlIGEgbmV3IHF1ZXJ5IGluc3RhbmNlIHRoYXQgYWxzbyBjb250YWluc1xuICogdGhpcyBgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnRgLlxuICovIGNsYXNzIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50IGV4dGVuZHMgUXVlcnlDb25zdHJhaW50IHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuX2ZpZWxkID0gZSwgdGhpcy5fb3AgPSB0LCB0aGlzLl92YWx1ZSA9IG4sIFxuICAgICAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBxdWVyeSBjb25zdHJhaW50ICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwid2hlcmVcIjtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50KGUsIHQsIG4pO1xuICAgIH1cbiAgICBfYXBwbHkoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5fcGFyc2UoZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVOZXdGaWVsZEZpbHRlcihlLl9xdWVyeSwgdCksIG5ldyBRdWVyeShlLmZpcmVzdG9yZSwgZS5jb252ZXJ0ZXIsIF9fUFJJVkFURV9xdWVyeVdpdGhBZGRlZEZpbHRlcihlLl9xdWVyeSwgdCkpO1xuICAgIH1cbiAgICBfcGFyc2UoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX25ld1VzZXJEYXRhUmVhZGVyKGUuZmlyZXN0b3JlKSwgbiA9IGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUZpbHRlcihlLCB0LCBuLCByLCBpLCBzLCBvKSB7XG4gICAgICAgICAgICBsZXQgXztcbiAgICAgICAgICAgIGlmIChpLmlzS2V5RmllbGQoKSkge1xuICAgICAgICAgICAgICAgIGlmIChcImFycmF5LWNvbnRhaW5zXCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlMgKi8gPT09IHMgfHwgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gPT09IHMpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIFF1ZXJ5LiBZb3UgY2FuJ3QgcGVyZm9ybSAnJHtzfScgcXVlcmllcyBvbiBkb2N1bWVudElkKCkuYCk7XG4gICAgICAgICAgICAgICAgaWYgKFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gcyB8fCBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA9PT0gcykge1xuICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfdmFsaWRhdGVEaXNqdW5jdGl2ZUZpbHRlckVsZW1lbnRzKG8sIHMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiBvKSB0LnB1c2goX19QUklWQVRFX3BhcnNlRG9jdW1lbnRJZFZhbHVlKHIsIGUsIG4pKTtcbiAgICAgICAgICAgICAgICAgICAgXyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5VmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgXyA9IF9fUFJJVkFURV9wYXJzZURvY3VtZW50SWRWYWx1ZShyLCBlLCBvKTtcbiAgICAgICAgICAgIH0gZWxzZSBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gIT09IHMgJiYgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gIT09IHMgJiYgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gIT09IHMgfHwgX19QUklWQVRFX3ZhbGlkYXRlRGlzanVuY3RpdmVGaWx0ZXJFbGVtZW50cyhvLCBzKSwgXG4gICAgICAgICAgICBfID0gX19QUklWQVRFX3BhcnNlUXVlcnlWYWx1ZShuLCB0LCBvLCBcbiAgICAgICAgICAgIC8qIGFsbG93QXJyYXlzPSAqLyBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gPT09IHMgfHwgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gPT09IHMpO1xuICAgICAgICAgICAgcmV0dXJuIEZpZWxkRmlsdGVyLmNyZWF0ZShpLCBzLCBfKTtcbiAgICAgICAgfShlLl9xdWVyeSwgXCJ3aGVyZVwiLCB0LCBlLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCwgdGhpcy5fZmllbGQsIHRoaXMuX29wLCB0aGlzLl92YWx1ZSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50fSB0aGF0IGVuZm9yY2VzIHRoYXQgZG9jdW1lbnRzXG4gKiBtdXN0IGNvbnRhaW4gdGhlIHNwZWNpZmllZCBmaWVsZCBhbmQgdGhhdCB0aGUgdmFsdWUgc2hvdWxkIHNhdGlzZnkgdGhlXG4gKiByZWxhdGlvbiBjb25zdHJhaW50IHByb3ZpZGVkLlxuICpcbiAqIEBwYXJhbSBmaWVsZFBhdGggLSBUaGUgcGF0aCB0byBjb21wYXJlXG4gKiBAcGFyYW0gb3BTdHIgLSBUaGUgb3BlcmF0aW9uIHN0cmluZyAoZS5nIFwiJmx0O1wiLCBcIiZsdDs9XCIsIFwiPT1cIiwgXCImbHQ7XCIsXG4gKiAgIFwiJmx0Oz1cIiwgXCIhPVwiKS5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBmb3IgY29tcGFyaXNvblxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQge0BsaW5rIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50fS5cbiAqLyBmdW5jdGlvbiB3aGVyZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IHQsIGkgPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50KFwid2hlcmVcIiwgZSk7XG4gICAgcmV0dXJuIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50Ll9jcmVhdGUoaSwgciwgbik7XG59XG5cbi8qKlxuICogQSBgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50YCBpcyB1c2VkIHRvIG5hcnJvdyB0aGUgc2V0IG9mIGRvY3VtZW50c1xuICogcmV0dXJuZWQgYnkgYSBGaXJlc3RvcmUgcXVlcnkgYnkgcGVyZm9ybWluZyB0aGUgbG9naWNhbCBPUiBvciBBTkQgb2YgbXVsdGlwbGVcbiAqIHtAbGluayBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludH1zIG9yIHtAbGluayBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnR9cy5cbiAqIGBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnRgcyBhcmUgY3JlYXRlZCBieSBpbnZva2luZyB7QGxpbmsgb3J9IG9yXG4gKiB7QGxpbmsgYW5kfSBhbmQgY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhIG5ldyBxdWVyeVxuICogaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zIHRoZSBgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50YC5cbiAqLyBjbGFzcyBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnQgZXh0ZW5kcyBBcHBsaWFibGVDb25zdHJhaW50IHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBxdWVyeSBjb25zdHJhaW50ICovXG4gICAgZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLnR5cGUgPSBlLCB0aGlzLl9xdWVyeUNvbnN0cmFpbnRzID0gdDtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludChlLCB0KTtcbiAgICB9XG4gICAgX3BhcnNlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuX3F1ZXJ5Q29uc3RyYWludHMubWFwKCh0ID0+IHQuX3BhcnNlKGUpKSkuZmlsdGVyKChlID0+IGUuZ2V0RmlsdGVycygpLmxlbmd0aCA+IDApKTtcbiAgICAgICAgcmV0dXJuIDEgPT09IHQubGVuZ3RoID8gdFswXSA6IENvbXBvc2l0ZUZpbHRlci5jcmVhdGUodCwgdGhpcy5fZ2V0T3BlcmF0b3IoKSk7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLl9wYXJzZShlKTtcbiAgICAgICAgcmV0dXJuIDAgPT09IHQuZ2V0RmlsdGVycygpLmxlbmd0aCA/IGUgOiAoZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlTmV3RmlsdGVyKGUsIHQpIHtcbiAgICAgICAgICAgIGxldCBuID0gZTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0LmdldEZsYXR0ZW5lZEZpbHRlcnMoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiByKSBfX1BSSVZBVEVfdmFsaWRhdGVOZXdGaWVsZEZpbHRlcihuLCBlKSwgbiA9IF9fUFJJVkFURV9xdWVyeVdpdGhBZGRlZEZpbHRlcihuLCBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVja3MgaWYgYW55IG9mIHRoZSBwcm92aWRlZCBmaWx0ZXIgb3BlcmF0b3JzIGFyZSBpbmNsdWRlZCBpbiB0aGUgZ2l2ZW4gbGlzdCBvZiBmaWx0ZXJzIGFuZFxuICAgICAgICAvLyByZXR1cm5zIHRoZSBmaXJzdCBvbmUgdGhhdCBpcywgb3IgbnVsbCBpZiBub25lIGFyZS5cbiAgICAgICAgKGUuX3F1ZXJ5LCB0KSwgbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgX19QUklWQVRFX3F1ZXJ5V2l0aEFkZGVkRmlsdGVyKGUuX3F1ZXJ5LCB0KSkpO1xuICAgIH1cbiAgICBfZ2V0UXVlcnlDb25zdHJhaW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXJ5Q29uc3RyYWludHM7XG4gICAgfVxuICAgIF9nZXRPcGVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIFwiYW5kXCIgPT09IHRoaXMudHlwZSA/IFwiYW5kXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuQU5EICovIDogXCJvclwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLk9SICovO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHtAbGluayBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnR9IHRoYXQgaXMgYSBkaXNqdW5jdGlvbiBvZlxuICogdGhlIGdpdmVuIGZpbHRlciBjb25zdHJhaW50cy4gQSBkaXNqdW5jdGlvbiBmaWx0ZXIgaW5jbHVkZXMgYSBkb2N1bWVudCBpZiBpdFxuICogc2F0aXNmaWVzIGFueSBvZiB0aGUgZ2l2ZW4gZmlsdGVycy5cbiAqXG4gKiBAcGFyYW0gcXVlcnlDb25zdHJhaW50cyAtIE9wdGlvbmFsLiBUaGUgbGlzdCBvZlxuICoge0BsaW5rIFF1ZXJ5RmlsdGVyQ29uc3RyYWludH1zIHRvIHBlcmZvcm0gYSBkaXNqdW5jdGlvbiBmb3IuIFRoZXNlIG11c3QgYmVcbiAqIGNyZWF0ZWQgd2l0aCBjYWxscyB0byB7QGxpbmsgd2hlcmV9LCB7QGxpbmsgb3J9LCBvciB7QGxpbmsgYW5kfS5cbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIHtAbGluayBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnR9LlxuICovIGZ1bmN0aW9uIG9yKC4uLmUpIHtcbiAgICAvLyBPbmx5IHN1cHBvcnQgUXVlcnlGaWx0ZXJDb25zdHJhaW50c1xuICAgIHJldHVybiBlLmZvckVhY2goKGUgPT4gX19QUklWQVRFX3ZhbGlkYXRlUXVlcnlGaWx0ZXJDb25zdHJhaW50KFwib3JcIiwgZSkpKSwgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50Ll9jcmVhdGUoXCJvclwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLk9SICovICwgZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB7QGxpbmsgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50fSB0aGF0IGlzIGEgY29uanVuY3Rpb24gb2ZcbiAqIHRoZSBnaXZlbiBmaWx0ZXIgY29uc3RyYWludHMuIEEgY29uanVuY3Rpb24gZmlsdGVyIGluY2x1ZGVzIGEgZG9jdW1lbnQgaWYgaXRcbiAqIHNhdGlzZmllcyBhbGwgb2YgdGhlIGdpdmVuIGZpbHRlcnMuXG4gKlxuICogQHBhcmFtIHF1ZXJ5Q29uc3RyYWludHMgLSBPcHRpb25hbC4gVGhlIGxpc3Qgb2ZcbiAqIHtAbGluayBRdWVyeUZpbHRlckNvbnN0cmFpbnR9cyB0byBwZXJmb3JtIGEgY29uanVuY3Rpb24gZm9yLiBUaGVzZSBtdXN0IGJlXG4gKiBjcmVhdGVkIHdpdGggY2FsbHMgdG8ge0BsaW5rIHdoZXJlfSwge0BsaW5rIG9yfSwgb3Ige0BsaW5rIGFuZH0uXG4gKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCB7QGxpbmsgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50fS5cbiAqLyBmdW5jdGlvbiBhbmQoLi4uZSkge1xuICAgIC8vIE9ubHkgc3VwcG9ydCBRdWVyeUZpbHRlckNvbnN0cmFpbnRzXG4gICAgcmV0dXJuIGUuZm9yRWFjaCgoZSA9PiBfX1BSSVZBVEVfdmFsaWRhdGVRdWVyeUZpbHRlckNvbnN0cmFpbnQoXCJhbmRcIiwgZSkpKSwgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50Ll9jcmVhdGUoXCJhbmRcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5BTkQgKi8gLCBlKTtcbn1cblxuLyoqXG4gKiBBIGBRdWVyeU9yZGVyQnlDb25zdHJhaW50YCBpcyB1c2VkIHRvIHNvcnQgdGhlIHNldCBvZiBkb2N1bWVudHMgcmV0dXJuZWQgYnkgYVxuICogRmlyZXN0b3JlIHF1ZXJ5LiBgUXVlcnlPcmRlckJ5Q29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nXG4gKiB7QGxpbmsgb3JkZXJCeX0gYW5kIGNhbiB0aGVuIGJlIHBhc3NlZCB0byB7QGxpbmsgKHF1ZXJ5OjEpfSB0byBjcmVhdGUgYSBuZXcgcXVlcnlcbiAqIGluc3RhbmNlIHRoYXQgYWxzbyBjb250YWlucyB0aGlzIGBRdWVyeU9yZGVyQnlDb25zdHJhaW50YC5cbiAqXG4gKiBOb3RlOiBEb2N1bWVudHMgdGhhdCBkbyBub3QgY29udGFpbiB0aGUgb3JkZXJCeSBmaWVsZCB3aWxsIG5vdCBiZSBwcmVzZW50IGluXG4gKiB0aGUgcXVlcnkgcmVzdWx0LlxuICovIGNsYXNzIFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnQgZXh0ZW5kcyBRdWVyeUNvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5fZmllbGQgPSBlLCB0aGlzLl9kaXJlY3Rpb24gPSB0LCBcbiAgICAgICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgcXVlcnkgY29uc3RyYWludCAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcIm9yZGVyQnlcIjtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnQoZSwgdCk7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnlPcmRlckJ5KGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBlLnN0YXJ0QXQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgc3RhcnRBdCgpIG9yIHN0YXJ0QWZ0ZXIoKSBiZWZvcmUgY2FsbGluZyBvcmRlckJ5KCkuXCIpO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGUuZW5kQXQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgZW5kQXQoKSBvciBlbmRCZWZvcmUoKSBiZWZvcmUgY2FsbGluZyBvcmRlckJ5KCkuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBPcmRlckJ5KHQsIG4pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQ3JlYXRlIGEgYEJvdW5kYCBmcm9tIGEgcXVlcnkgYW5kIGEgZG9jdW1lbnQuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBgQm91bmRgIHdpbGwgYWx3YXlzIGluY2x1ZGUgdGhlIGtleSBvZiB0aGUgZG9jdW1lbnRcbiAqIGFuZCBzbyBvbmx5IHRoZSBwcm92aWRlZCBkb2N1bWVudCB3aWxsIGNvbXBhcmUgZXF1YWwgdG8gdGhlIHJldHVybmVkXG4gKiBwb3NpdGlvbi5cbiAqXG4gKiBXaWxsIHRocm93IGlmIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBjb250YWluIGFsbCBmaWVsZHMgb2YgdGhlIG9yZGVyIGJ5XG4gKiBvZiB0aGUgcXVlcnkgb3IgaWYgYW55IG9mIHRoZSBmaWVsZHMgaW4gdGhlIG9yZGVyIGJ5IGFyZSBhbiB1bmNvbW1pdHRlZFxuICogc2VydmVyIHRpbWVzdGFtcC5cbiAqLyAoZS5fcXVlcnksIHRoaXMuX2ZpZWxkLCB0aGlzLl9kaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aEFkZGVkT3JkZXJCeShlLCB0KSB7XG4gICAgICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IHZhbGlkYXRlIHRoYXQgb3JkZXJCeSBkb2VzIG5vdCBsaXN0IHRoZSBzYW1lIGtleSB0d2ljZS5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLmV4cGxpY2l0T3JkZXJCeS5jb25jYXQoWyB0IF0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIG4sIGUuZmlsdGVycy5zbGljZSgpLCBlLmxpbWl0LCBlLmxpbWl0VHlwZSwgZS5zdGFydEF0LCBlLmVuZEF0KTtcbiAgICAgICAgfShlLl9xdWVyeSwgdCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnR9IHRoYXQgc29ydHMgdGhlIHF1ZXJ5IHJlc3VsdCBieSB0aGVcbiAqIHNwZWNpZmllZCBmaWVsZCwgb3B0aW9uYWxseSBpbiBkZXNjZW5kaW5nIG9yZGVyIGluc3RlYWQgb2YgYXNjZW5kaW5nLlxuICpcbiAqIE5vdGU6IERvY3VtZW50cyB0aGF0IGRvIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgZmllbGQgd2lsbCBub3QgYmUgcHJlc2VudFxuICogaW4gdGhlIHF1ZXJ5IHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0gZmllbGRQYXRoIC0gVGhlIGZpZWxkIHRvIHNvcnQgYnkuXG4gKiBAcGFyYW0gZGlyZWN0aW9uU3RyIC0gT3B0aW9uYWwgZGlyZWN0aW9uIHRvIHNvcnQgYnkgKCdhc2MnIG9yICdkZXNjJykuIElmXG4gKiBub3Qgc3BlY2lmaWVkLCBvcmRlciB3aWxsIGJlIGFzY2VuZGluZy5cbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHtAbGluayBRdWVyeU9yZGVyQnlDb25zdHJhaW50fS5cbiAqLyBmdW5jdGlvbiBvcmRlckJ5KGUsIHQgPSBcImFzY1wiKSB7XG4gICAgY29uc3QgbiA9IHQsIHIgPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50KFwib3JkZXJCeVwiLCBlKTtcbiAgICByZXR1cm4gUXVlcnlPcmRlckJ5Q29uc3RyYWludC5fY3JlYXRlKHIsIG4pO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5TGltaXRDb25zdHJhaW50YCBpcyB1c2VkIHRvIGxpbWl0IHRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHJldHVybmVkIGJ5XG4gKiBhIEZpcmVzdG9yZSBxdWVyeS5cbiAqIGBRdWVyeUxpbWl0Q29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nIHtAbGluayBsaW1pdH0gb3JcbiAqIHtAbGluayBsaW1pdFRvTGFzdH0gYW5kIGNhbiB0aGVuIGJlIHBhc3NlZCB0byB7QGxpbmsgKHF1ZXJ5OjEpfSB0byBjcmVhdGUgYSBuZXdcbiAqIHF1ZXJ5IGluc3RhbmNlIHRoYXQgYWxzbyBjb250YWlucyB0aGlzIGBRdWVyeUxpbWl0Q29uc3RyYWludGAuXG4gKi8gY2xhc3MgUXVlcnlMaW1pdENvbnN0cmFpbnQgZXh0ZW5kcyBRdWVyeUNvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIHF1ZXJ5IGNvbnN0cmFpbnQgKi9cbiAgICBlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMudHlwZSA9IGUsIHRoaXMuX2xpbWl0ID0gdCwgdGhpcy5fbGltaXRUeXBlID0gbjtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5TGltaXRDb25zdHJhaW50KGUsIHQsIG4pO1xuICAgIH1cbiAgICBfYXBwbHkoZSkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgX19QUklWQVRFX3F1ZXJ5V2l0aExpbWl0KGUuX3F1ZXJ5LCB0aGlzLl9saW1pdCwgdGhpcy5fbGltaXRUeXBlKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUXVlcnlMaW1pdENvbnN0cmFpbnR9IHRoYXQgb25seSByZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGluZ1xuICogZG9jdW1lbnRzLlxuICpcbiAqIEBwYXJhbSBsaW1pdCAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0byByZXR1cm4uXG4gKiBAcmV0dXJucyBUaGUgY3JlYXRlZCB7QGxpbmsgUXVlcnlMaW1pdENvbnN0cmFpbnR9LlxuICovIGZ1bmN0aW9uIGxpbWl0KGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX3ZhbGlkYXRlUG9zaXRpdmVOdW1iZXIoXCJsaW1pdFwiLCBlKSwgUXVlcnlMaW1pdENvbnN0cmFpbnQuX2NyZWF0ZShcImxpbWl0XCIsIGUsIFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBRdWVyeUxpbWl0Q29uc3RyYWludH0gdGhhdCBvbmx5IHJldHVybnMgdGhlIGxhc3QgbWF0Y2hpbmdcbiAqIGRvY3VtZW50cy5cbiAqXG4gKiBZb3UgbXVzdCBzcGVjaWZ5IGF0IGxlYXN0IG9uZSBgb3JkZXJCeWAgY2xhdXNlIGZvciBgbGltaXRUb0xhc3RgIHF1ZXJpZXMsXG4gKiBvdGhlcndpc2UgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duIGR1cmluZyBleGVjdXRpb24uXG4gKlxuICogQHBhcmFtIGxpbWl0IC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVybi5cbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHtAbGluayBRdWVyeUxpbWl0Q29uc3RyYWludH0uXG4gKi8gZnVuY3Rpb24gbGltaXRUb0xhc3QoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVQb3NpdGl2ZU51bWJlcihcImxpbWl0VG9MYXN0XCIsIGUpLCBRdWVyeUxpbWl0Q29uc3RyYWludC5fY3JlYXRlKFwibGltaXRUb0xhc3RcIiwgZSwgXCJMXCIgLyogTGltaXRUeXBlLkxhc3QgKi8pO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnRgIGlzIHVzZWQgdG8gZXhjbHVkZSBkb2N1bWVudHMgZnJvbSB0aGUgc3RhcnQgb2YgYVxuICogcmVzdWx0IHNldCByZXR1cm5lZCBieSBhIEZpcmVzdG9yZSBxdWVyeS5cbiAqIGBRdWVyeVN0YXJ0QXRDb25zdHJhaW50YHMgYXJlIGNyZWF0ZWQgYnkgaW52b2tpbmcge0BsaW5rIChzdGFydEF0OjEpfSBvclxuICoge0BsaW5rIChzdGFydEFmdGVyOjEpfSBhbmQgY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhXG4gKiBuZXcgcXVlcnkgaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zIHRoaXMgYFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnRgLlxuICovIGNsYXNzIFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQgZXh0ZW5kcyBRdWVyeUNvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIHF1ZXJ5IGNvbnN0cmFpbnQgKi9cbiAgICBlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMudHlwZSA9IGUsIHRoaXMuX2RvY09yRmllbGRzID0gdCwgdGhpcy5faW5jbHVzaXZlID0gbjtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQoZSwgdCwgbik7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbmV3UXVlcnlCb3VuZEZyb21Eb2NPckZpZWxkcyhlLCB0aGlzLnR5cGUsIHRoaXMuX2RvY09yRmllbGRzLCB0aGlzLl9pbmNsdXNpdmUpO1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aFN0YXJ0QXQoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIGUuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksIGUuZmlsdGVycy5zbGljZSgpLCBlLmxpbWl0LCBlLmxpbWl0VHlwZSwgdCwgZS5lbmRBdCk7XG4gICAgICAgIH0oZS5fcXVlcnksIHQpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0QXQoLi4uZSkge1xuICAgIHJldHVybiBRdWVyeVN0YXJ0QXRDb25zdHJhaW50Ll9jcmVhdGUoXCJzdGFydEF0XCIsIGUsIFxuICAgIC8qaW5jbHVzaXZlPSovICEwKTtcbn1cblxuZnVuY3Rpb24gc3RhcnRBZnRlciguLi5lKSB7XG4gICAgcmV0dXJuIFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQuX2NyZWF0ZShcInN0YXJ0QWZ0ZXJcIiwgZSwgXG4gICAgLyppbmNsdXNpdmU9Ki8gITEpO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5RW5kQXRDb25zdHJhaW50YCBpcyB1c2VkIHRvIGV4Y2x1ZGUgZG9jdW1lbnRzIGZyb20gdGhlIGVuZCBvZiBhXG4gKiByZXN1bHQgc2V0IHJldHVybmVkIGJ5IGEgRmlyZXN0b3JlIHF1ZXJ5LlxuICogYFF1ZXJ5RW5kQXRDb25zdHJhaW50YHMgYXJlIGNyZWF0ZWQgYnkgaW52b2tpbmcge0BsaW5rIChlbmRBdDoxKX0gb3JcbiAqIHtAbGluayAoZW5kQmVmb3JlOjEpfSBhbmQgY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhIG5ld1xuICogcXVlcnkgaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zIHRoaXMgYFF1ZXJ5RW5kQXRDb25zdHJhaW50YC5cbiAqLyBjbGFzcyBRdWVyeUVuZEF0Q29uc3RyYWludCBleHRlbmRzIFF1ZXJ5Q29uc3RyYWludCB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgcXVlcnkgY29uc3RyYWludCAqL1xuICAgIGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy50eXBlID0gZSwgdGhpcy5fZG9jT3JGaWVsZHMgPSB0LCB0aGlzLl9pbmNsdXNpdmUgPSBuO1xuICAgIH1cbiAgICBzdGF0aWMgX2NyZWF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlFbmRBdENvbnN0cmFpbnQoZSwgdCwgbik7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbmV3UXVlcnlCb3VuZEZyb21Eb2NPckZpZWxkcyhlLCB0aGlzLnR5cGUsIHRoaXMuX2RvY09yRmllbGRzLCB0aGlzLl9pbmNsdXNpdmUpO1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aEVuZEF0KGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCBlLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCBlLmZpbHRlcnMuc2xpY2UoKSwgZS5saW1pdCwgZS5saW1pdFR5cGUsIGUuc3RhcnRBdCwgdCk7XG4gICAgICAgIH0oZS5fcXVlcnksIHQpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVuZEJlZm9yZSguLi5lKSB7XG4gICAgcmV0dXJuIFF1ZXJ5RW5kQXRDb25zdHJhaW50Ll9jcmVhdGUoXCJlbmRCZWZvcmVcIiwgZSwgXG4gICAgLyppbmNsdXNpdmU9Ki8gITEpO1xufVxuXG5mdW5jdGlvbiBlbmRBdCguLi5lKSB7XG4gICAgcmV0dXJuIFF1ZXJ5RW5kQXRDb25zdHJhaW50Ll9jcmVhdGUoXCJlbmRBdFwiLCBlLCBcbiAgICAvKmluY2x1c2l2ZT0qLyAhMCk7XG59XG5cbi8qKiBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGEgYm91bmQgZnJvbSBhIGRvY3VtZW50IG9yIGZpZWxkcyAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnlCb3VuZEZyb21Eb2NPckZpZWxkcyhlLCB0LCBuLCByKSB7XG4gICAgaWYgKG5bMF0gPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShuWzBdKSwgblswXSBpbnN0YW5jZW9mIERvY3VtZW50U25hcHNob3QkMSkgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUJvdW5kRnJvbURvY3VtZW50KGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgaWYgKCFyKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5OT1RfRk9VTkQsIGBDYW4ndCB1c2UgYSBEb2N1bWVudFNuYXBzaG90IHRoYXQgZG9lc24ndCBleGlzdCBmb3IgJHtufSgpLmApO1xuICAgICAgICBjb25zdCBzID0gW107XG4gICAgICAgIC8vIEJlY2F1c2UgcGVvcGxlIGV4cGVjdCB0byBjb250aW51ZS9lbmQgYSBxdWVyeSBhdCB0aGUgZXhhY3QgZG9jdW1lbnRcbiAgICAgICAgLy8gcHJvdmlkZWQsIHdlIG5lZWQgdG8gdXNlIHRoZSBpbXBsaWNpdCBzb3J0IG9yZGVyIHJhdGhlciB0aGFuIHRoZSBleHBsaWNpdFxuICAgICAgICAvLyBzb3J0IG9yZGVyLCBiZWNhdXNlIGl0J3MgZ3VhcmFudGVlZCB0byBjb250YWluIHRoZSBkb2N1bWVudCBrZXkuIFRoYXQgd2F5XG4gICAgICAgIC8vIHRoZSBwb3NpdGlvbiBiZWNvbWVzIHVuYW1iaWd1b3VzIGFuZCB0aGUgcXVlcnkgY29udGludWVzL2VuZHMgZXhhY3RseSBhdFxuICAgICAgICAvLyB0aGUgcHJvdmlkZWQgZG9jdW1lbnQuIFdpdGhvdXQgdGhlIGtleSAoYnkgdXNpbmcgdGhlIGV4cGxpY2l0IHNvcnRcbiAgICAgICAgLy8gb3JkZXJzKSwgbXVsdGlwbGUgZG9jdW1lbnRzIGNvdWxkIG1hdGNoIHRoZSBwb3NpdGlvbiwgeWllbGRpbmcgZHVwbGljYXRlXG4gICAgICAgIC8vIHJlc3VsdHMuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIF9fUFJJVkFURV9xdWVyeU5vcm1hbGl6ZWRPcmRlckJ5KGUpKSBpZiAobi5maWVsZC5pc0tleUZpZWxkKCkpIHMucHVzaChfX1BSSVZBVEVfcmVmVmFsdWUodCwgci5rZXkpKTsgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlID0gci5kYXRhLmZpZWxkKG4uZmllbGQpO1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc1NlcnZlclRpbWVzdGFtcChlKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgJ0ludmFsaWQgcXVlcnkuIFlvdSBhcmUgdHJ5aW5nIHRvIHN0YXJ0IG9yIGVuZCBhIHF1ZXJ5IHVzaW5nIGEgZG9jdW1lbnQgZm9yIHdoaWNoIHRoZSBmaWVsZCBcIicgKyBuLmZpZWxkICsgJ1wiIGlzIGFuIHVuY29tbWl0dGVkIHNlcnZlciB0aW1lc3RhbXAuIChTaW5jZSB0aGUgdmFsdWUgb2YgdGhpcyBmaWVsZCBpcyB1bmtub3duLCB5b3UgY2Fubm90IHN0YXJ0L2VuZCBhIHF1ZXJ5IHdpdGggaXQuKScpO1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gbi5maWVsZC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gWW91IGFyZSB0cnlpbmcgdG8gc3RhcnQgb3IgZW5kIGEgcXVlcnkgdXNpbmcgYSBkb2N1bWVudCBmb3Igd2hpY2ggdGhlIGZpZWxkICcke2V9JyAodXNlZCBhcyB0aGUgb3JkZXJCeSkgZG9lcyBub3QgZXhpc3QuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLnB1c2goZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZChzLCBpKTtcbiAgICB9XG4gICAgLyoqXG4gKiBDb252ZXJ0cyBhIGxpc3Qgb2YgZmllbGQgdmFsdWVzIHRvIGEgYEJvdW5kYCBmb3IgdGhlIGdpdmVuIHF1ZXJ5LlxuICovIChlLl9xdWVyeSwgZS5maXJlc3RvcmUuX2RhdGFiYXNlSWQsIHQsIG5bMF0uX2RvY3VtZW50LCByKTtcbiAgICB7XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoZS5maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX25ld1F1ZXJ5Qm91bmRGcm9tRmllbGRzKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgICAgIC8vIFVzZSBleHBsaWNpdCBvcmRlciBieSdzIGJlY2F1c2UgaXQgaGFzIHRvIG1hdGNoIHRoZSBxdWVyeSB0aGUgdXNlciBtYWRlXG4gICAgICAgICAgICBjb25zdCBvID0gZS5leHBsaWNpdE9yZGVyQnk7XG4gICAgICAgICAgICBpZiAoaS5sZW5ndGggPiBvLmxlbmd0aCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYFRvbyBtYW55IGFyZ3VtZW50cyBwcm92aWRlZCB0byAke3J9KCkuIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBudW1iZXIgb2Ygb3JkZXJCeSgpIGNsYXVzZXNgKTtcbiAgICAgICAgICAgIGNvbnN0IF8gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBpW3NdO1xuICAgICAgICAgICAgICAgIGlmIChvW3NdLmZpZWxkLmlzS2V5RmllbGQoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgYSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIEV4cGVjdGVkIGEgc3RyaW5nIGZvciBkb2N1bWVudCBJRCBpbiAke3J9KCksIGJ1dCBnb3QgYSAke3R5cGVvZiBhfWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9fUFJJVkFURV9pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KGUpICYmIC0xICE9PSBhLmluZGV4T2YoXCIvXCIpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gYW5kIG9yZGVyaW5nIGJ5IGRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHBhc3NlZCB0byAke3J9KCkgbXVzdCBiZSBhIHBsYWluIGRvY3VtZW50IElELCBidXQgJyR7YX0nIGNvbnRhaW5zIGEgc2xhc2guYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBlLnBhdGguY2hpbGQoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcoYSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIURvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkobikpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBncm91cCBhbmQgb3JkZXJpbmcgYnkgZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcGFzc2VkIHRvICR7cn0oKSBtdXN0IHJlc3VsdCBpbiBhIHZhbGlkIGRvY3VtZW50IHBhdGgsIGJ1dCAnJHtufScgaXMgbm90IGJlY2F1c2UgaXQgY29udGFpbnMgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cy5gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBEb2N1bWVudEtleShuKTtcbiAgICAgICAgICAgICAgICAgICAgXy5wdXNoKF9fUFJJVkFURV9yZWZWYWx1ZSh0LCBpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9wYXJzZVF1ZXJ5VmFsdWUobiwgciwgYSk7XG4gICAgICAgICAgICAgICAgICAgIF8ucHVzaChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJvdW5kKF8sIHMpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiBgZG9jdW1lbnRJZFZhbHVlYCBpbnRvIGEgYFJlZmVyZW5jZVZhbHVlYCwgdGhyb3dpbmdcbiAqIGFwcHJvcHJpYXRlIGVycm9ycyBpZiB0aGUgdmFsdWUgaXMgYW55dGhpbmcgb3RoZXIgdGhhbiBhIGBEb2N1bWVudFJlZmVyZW5jZWBcbiAqIG9yIGBzdHJpbmdgLCBvciBpZiB0aGUgc3RyaW5nIGlzIG1hbGZvcm1lZC5cbiAqLyAoZS5fcXVlcnksIGUuZmlyZXN0b3JlLl9kYXRhYmFzZUlkLCBpLCB0LCBuLCByKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZURvY3VtZW50SWRWYWx1ZShlLCB0LCBuKSB7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIChuID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UobikpKSB7XG4gICAgICAgIGlmIChcIlwiID09PSBuKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgd2l0aCBkb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSB2YWxpZCBkb2N1bWVudCBJRCwgYnV0IGl0IHdhcyBhbiBlbXB0eSBzdHJpbmcuXCIpO1xuICAgICAgICBpZiAoIV9fUFJJVkFURV9pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KHQpICYmIC0xICE9PSBuLmluZGV4T2YoXCIvXCIpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gYnkgZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgcGxhaW4gZG9jdW1lbnQgSUQsIGJ1dCAnJHtufScgY29udGFpbnMgYSAnLycgY2hhcmFjdGVyLmApO1xuICAgICAgICBjb25zdCByID0gdC5wYXRoLmNoaWxkKFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKG4pKTtcbiAgICAgICAgaWYgKCFEb2N1bWVudEtleS5pc0RvY3VtZW50S2V5KHIpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gZ3JvdXAgYnkgZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcHJvdmlkZWQgbXVzdCByZXN1bHQgaW4gYSB2YWxpZCBkb2N1bWVudCBwYXRoLCBidXQgJyR7cn0nIGlzIG5vdCBiZWNhdXNlIGl0IGhhcyBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzICgke3IubGVuZ3RofSkuYCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcmVmVmFsdWUoZSwgbmV3IERvY3VtZW50S2V5KHIpKTtcbiAgICB9XG4gICAgaWYgKG4gaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSkgcmV0dXJuIF9fUFJJVkFURV9yZWZWYWx1ZShlLCBuLl9rZXkpO1xuICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIHdpdGggZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgdmFsaWQgc3RyaW5nIG9yIGEgRG9jdW1lbnRSZWZlcmVuY2UsIGJ1dCBpdCB3YXM6ICR7X19QUklWQVRFX3ZhbHVlRGVzY3JpcHRpb24obil9LmApO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBwYXNzZWQgaW50byBhIGRpc2p1bmN0aXZlIGZpbHRlciBzYXRpc2ZpZXMgYWxsXG4gKiBhcnJheSByZXF1aXJlbWVudHMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlRGlzanVuY3RpdmVGaWx0ZXJFbGVtZW50cyhlLCB0KSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGUpIHx8IDAgPT09IGUubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBRdWVyeS4gQSBub24tZW1wdHkgYXJyYXkgaXMgcmVxdWlyZWQgZm9yICcke3QudG9TdHJpbmcoKX0nIGZpbHRlcnMuYCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gb3BlcmF0b3IsIHJldHVybnMgdGhlIHNldCBvZiBvcGVyYXRvcnMgdGhhdCBjYW5ub3QgYmUgdXNlZCB3aXRoIGl0LlxuICpcbiAqIFRoaXMgaXMgbm90IGEgY29tcHJlaGVuc2l2ZSBjaGVjaywgYW5kIHRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHJlbW92ZWQgaW4gdGhlXG4gKiBsb25nIHRlcm0uIFZhbGlkYXRpb25zIHNob3VsZCBvY2N1ciBpbiB0aGUgRmlyZXN0b3JlIGJhY2tlbmQuXG4gKlxuICogT3BlcmF0b3JzIGluIGEgcXVlcnkgbXVzdCBhZGhlcmUgdG8gdGhlIGZvbGxvd2luZyBzZXQgb2YgcnVsZXM6XG4gKiAxLiBPbmx5IG9uZSBpbmVxdWFsaXR5IHBlciBxdWVyeS5cbiAqIDIuIGBOT1RfSU5gIGNhbm5vdCBiZSB1c2VkIHdpdGggYXJyYXksIGRpc2p1bmN0aXZlLCBvciBgTk9UX0VRVUFMYCBvcGVyYXRvcnMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlTmV3RmllbGRGaWx0ZXIoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBmdW5jdGlvbiBfX1BSSVZBVEVfZmluZE9wSW5zaWRlRmlsdGVycyhlLCB0KSB7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBlKSBmb3IgKGNvbnN0IGUgb2Ygbi5nZXRGbGF0dGVuZWRGaWx0ZXJzKCkpIGlmICh0LmluZGV4T2YoZS5vcCkgPj0gMCkgcmV0dXJuIGUub3A7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0oZS5maWx0ZXJzLCBmdW5jdGlvbiBfX1BSSVZBVEVfY29uZmxpY3RpbmdPcHMoZSkge1xuICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICBjYXNlIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIFsgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyAsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIF07XG5cbiAgICAgICAgICBjYXNlIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovIDpcbiAgICAgICAgICBjYXNlIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gWyBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyBdO1xuXG4gICAgICAgICAgY2FzZSBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gWyBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyAsIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovICwgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyBdO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0odC5vcCkpO1xuICAgIGlmIChudWxsICE9PSBuKSBcbiAgICAvLyBTcGVjaWFsIGNhc2Ugd2hlbiBpdCdzIGEgZHVwbGljYXRlIG9wIHRvIGdpdmUgYSBzbGlnaHRseSBjbGVhcmVyIGVycm9yIG1lc3NhZ2UuXG4gICAgdGhyb3cgbiA9PT0gdC5vcCA/IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBZb3UgY2Fubm90IHVzZSBtb3JlIHRoYW4gb25lICcke3Qub3AudG9TdHJpbmcoKX0nIGZpbHRlci5gKSA6IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBZb3UgY2Fubm90IHVzZSAnJHt0Lm9wLnRvU3RyaW5nKCl9JyBmaWx0ZXJzIHdpdGggJyR7bi50b1N0cmluZygpfScgZmlsdGVycy5gKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlUXVlcnlGaWx0ZXJDb25zdHJhaW50KGUsIHQpIHtcbiAgICBpZiAoISh0IGluc3RhbmNlb2YgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQgfHwgdCBpbnN0YW5jZW9mIFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludCkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGdW5jdGlvbiAke2V9KCkgcmVxdWlyZXMgQXBwbGlhYmxlQ29uc3RyYWludHMgY3JlYXRlZCB3aXRoIGEgY2FsbCB0byAnd2hlcmUoLi4uKScsICdvciguLi4pJywgb3IgJ2FuZCguLi4pJy5gKTtcbn1cblxuY2xhc3MgQWJzdHJhY3RVc2VyRGF0YVdyaXRlciB7XG4gICAgY29udmVydFZhbHVlKGUsIHQgPSBcIm5vbmVcIikge1xuICAgICAgICBzd2l0Y2ggKF9fUFJJVkFURV90eXBlT3JkZXIoZSkpIHtcbiAgICAgICAgICBjYXNlIDAgLyogVHlwZU9yZGVyLk51bGxWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAgIGNhc2UgMSAvKiBUeXBlT3JkZXIuQm9vbGVhblZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiBlLmJvb2xlYW5WYWx1ZTtcblxuICAgICAgICAgIGNhc2UgMiAvKiBUeXBlT3JkZXIuTnVtYmVyVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5pbnRlZ2VyVmFsdWUgfHwgZS5kb3VibGVWYWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIDMgLyogVHlwZU9yZGVyLlRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAoZS50aW1lc3RhbXBWYWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIDQgLyogVHlwZU9yZGVyLlNlcnZlclRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXAoZSwgdCk7XG5cbiAgICAgICAgICBjYXNlIDUgLyogVHlwZU9yZGVyLlN0cmluZ1ZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiBlLnN0cmluZ1ZhbHVlO1xuXG4gICAgICAgICAgY2FzZSA2IC8qIFR5cGVPcmRlci5CbG9iVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydEJ5dGVzKF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUuYnl0ZXNWYWx1ZSkpO1xuXG4gICAgICAgICAgY2FzZSA3IC8qIFR5cGVPcmRlci5SZWZWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJ0UmVmZXJlbmNlKGUucmVmZXJlbmNlVmFsdWUpO1xuXG4gICAgICAgICAgY2FzZSA4IC8qIFR5cGVPcmRlci5HZW9Qb2ludFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRHZW9Qb2ludChlLmdlb1BvaW50VmFsdWUpO1xuXG4gICAgICAgICAgY2FzZSA5IC8qIFR5cGVPcmRlci5BcnJheVZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRBcnJheShlLmFycmF5VmFsdWUsIHQpO1xuXG4gICAgICAgICAgY2FzZSAxMCAvKiBUeXBlT3JkZXIuT2JqZWN0VmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydE9iamVjdChlLm1hcFZhbHVlLCB0KTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udmVydE9iamVjdChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRPYmplY3RNYXAoZS5maWVsZHMsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi8gICAgY29udmVydE9iamVjdE1hcChlLCB0ID0gXCJub25lXCIpIHtcbiAgICAgICAgY29uc3QgbiA9IHt9O1xuICAgICAgICByZXR1cm4gZm9yRWFjaChlLCAoKGUsIHIpID0+IHtcbiAgICAgICAgICAgIG5bZV0gPSB0aGlzLmNvbnZlcnRWYWx1ZShyLCB0KTtcbiAgICAgICAgfSkpLCBuO1xuICAgIH1cbiAgICBjb252ZXJ0R2VvUG9pbnQoZSkge1xuICAgICAgICByZXR1cm4gbmV3IEdlb1BvaW50KF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5sYXRpdHVkZSksIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5sb25naXR1ZGUpKTtcbiAgICB9XG4gICAgY29udmVydEFycmF5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIChlLnZhbHVlcyB8fCBbXSkubWFwKChlID0+IHRoaXMuY29udmVydFZhbHVlKGUsIHQpKSk7XG4gICAgfVxuICAgIGNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXAoZSwgdCkge1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICBjYXNlIFwicHJldmlvdXNcIjpcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZ2V0UHJldmlvdXNWYWx1ZShlKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsID09IG4gPyBudWxsIDogdGhpcy5jb252ZXJ0VmFsdWUobiwgdCk7XG5cbiAgICAgICAgICBjYXNlIFwiZXN0aW1hdGVcIjpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAoX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKGUpKTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb252ZXJ0VGltZXN0YW1wKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAoZSk7XG4gICAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKHQuc2Vjb25kcywgdC5uYW5vcyk7XG4gICAgfVxuICAgIGNvbnZlcnREb2N1bWVudEtleShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhlKTtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoX19QUklWQVRFX2lzVmFsaWRSZXNvdXJjZU5hbWUobikpO1xuICAgICAgICBjb25zdCByID0gbmV3IERhdGFiYXNlSWQobi5nZXQoMSksIG4uZ2V0KDMpKSwgaSA9IG5ldyBEb2N1bWVudEtleShuLnBvcEZpcnN0KDUpKTtcbiAgICAgICAgcmV0dXJuIHIuaXNFcXVhbCh0KSB8fCBcbiAgICAgICAgLy8gVE9ETyhiLzY0MTMwMjAyKTogU29tZWhvdyBzdXBwb3J0IGZvcmVpZ24gcmVmZXJlbmNlcy5cbiAgICAgICAgX19QUklWQVRFX2xvZ0Vycm9yKGBEb2N1bWVudCAke2l9IGNvbnRhaW5zIGEgZG9jdW1lbnQgcmVmZXJlbmNlIHdpdGhpbiBhIGRpZmZlcmVudCBkYXRhYmFzZSAoJHtyLnByb2plY3RJZH0vJHtyLmRhdGFiYXNlfSkgd2hpY2ggaXMgbm90IHN1cHBvcnRlZC4gSXQgd2lsbCBiZSB0cmVhdGVkIGFzIGEgcmVmZXJlbmNlIGluIHRoZSBjdXJyZW50IGRhdGFiYXNlICgke3QucHJvamVjdElkfS8ke3QuZGF0YWJhc2V9KSBpbnN0ZWFkLmApLCBcbiAgICAgICAgaTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENvbnZlcnRzIGN1c3RvbSBtb2RlbCBvYmplY3Qgb2YgdHlwZSBUIGludG8gYERvY3VtZW50RGF0YWAgYnkgYXBwbHlpbmcgdGhlXG4gKiBjb252ZXJ0ZXIgaWYgaXQgZXhpc3RzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB3aGVuIGNvbnZlcnRpbmcgdXNlciBvYmplY3RzIHRvIGBEb2N1bWVudERhdGFgXG4gKiBiZWNhdXNlIHdlIHdhbnQgdG8gcHJvdmlkZSB0aGUgdXNlciB3aXRoIGEgbW9yZSBzcGVjaWZpYyBlcnJvciBtZXNzYWdlIGlmXG4gKiB0aGVpciBgc2V0KClgIG9yIGZhaWxzIGR1ZSB0byBpbnZhbGlkIGRhdGEgb3JpZ2luYXRpbmcgZnJvbSBhIGB0b0ZpcmVzdG9yZSgpYFxuICogY2FsbC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlGaXJlc3RvcmVEYXRhQ29udmVydGVyKGUsIHQsIG4pIHtcbiAgICBsZXQgcjtcbiAgICAvLyBDYXN0IHRvIGBhbnlgIGluIG9yZGVyIHRvIHNhdGlzZnkgdGhlIHVuaW9uIHR5cGUgY29uc3RyYWludCBvblxuICAgIC8vIHRvRmlyZXN0b3JlKCkuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gciA9IGUgPyBuICYmIChuLm1lcmdlIHx8IG4ubWVyZ2VGaWVsZHMpID8gZS50b0ZpcmVzdG9yZSh0LCBuKSA6IGUudG9GaXJlc3RvcmUodCkgOiB0LCBcbiAgICByO1xufVxuXG5jbGFzcyBfX1BSSVZBVEVfTGl0ZVVzZXJEYXRhV3JpdGVyIGV4dGVuZHMgQWJzdHJhY3RVc2VyRGF0YVdyaXRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmZpcmVzdG9yZSA9IGU7XG4gICAgfVxuICAgIGNvbnZlcnRCeXRlcyhlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQnl0ZXMoZSk7XG4gICAgfVxuICAgIGNvbnZlcnRSZWZlcmVuY2UoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jb252ZXJ0RG9jdW1lbnRLZXkoZSwgdGhpcy5maXJlc3RvcmUuX2RhdGFiYXNlSWQpO1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50UmVmZXJlbmNlKHRoaXMuZmlyZXN0b3JlLCAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQ3JlYXRlIGFuIEFnZ3JlZ2F0ZUZpZWxkIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNvbXB1dGUgdGhlIHN1bSBvZlxuICogYSBzcGVjaWZpZWQgZmllbGQgb3ZlciBhIHJhbmdlIG9mIGRvY3VtZW50cyBpbiB0aGUgcmVzdWx0IHNldCBvZiBhIHF1ZXJ5LlxuICogQHBhcmFtIGZpZWxkIFNwZWNpZmllcyB0aGUgZmllbGQgdG8gc3VtIGFjcm9zcyB0aGUgcmVzdWx0IHNldC5cbiAqLyBmdW5jdGlvbiBzdW0oZSkge1xuICAgIHJldHVybiBuZXcgQWdncmVnYXRlRmllbGQoXCJzdW1cIiwgX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudCQxKFwic3VtXCIsIGUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gQWdncmVnYXRlRmllbGQgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcHV0ZSB0aGUgYXZlcmFnZSBvZlxuICogYSBzcGVjaWZpZWQgZmllbGQgb3ZlciBhIHJhbmdlIG9mIGRvY3VtZW50cyBpbiB0aGUgcmVzdWx0IHNldCBvZiBhIHF1ZXJ5LlxuICogQHBhcmFtIGZpZWxkIFNwZWNpZmllcyB0aGUgZmllbGQgdG8gYXZlcmFnZSBhY3Jvc3MgdGhlIHJlc3VsdCBzZXQuXG4gKi8gZnVuY3Rpb24gYXZlcmFnZShlKSB7XG4gICAgcmV0dXJuIG5ldyBBZ2dyZWdhdGVGaWVsZChcImF2Z1wiLCBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEoXCJhdmVyYWdlXCIsIGUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gQWdncmVnYXRlRmllbGQgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcHV0ZSB0aGUgY291bnQgb2ZcbiAqIGRvY3VtZW50cyBpbiB0aGUgcmVzdWx0IHNldCBvZiBhIHF1ZXJ5LlxuICovIGZ1bmN0aW9uIGNvdW50KCkge1xuICAgIHJldHVybiBuZXcgQWdncmVnYXRlRmllbGQoXCJjb3VudFwiKTtcbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gJ0FnZ3JlZ2F0ZUZpZWxkYCBpbnN0YW5jZXMgZm9yIGVxdWFsaXR5LlxuICpcbiAqIEBwYXJhbSBsZWZ0IENvbXBhcmUgdGhpcyBBZ2dyZWdhdGVGaWVsZCB0byB0aGUgYHJpZ2h0YC5cbiAqIEBwYXJhbSByaWdodCBDb21wYXJlIHRoaXMgQWdncmVnYXRlRmllbGQgdG8gdGhlIGBsZWZ0YC5cbiAqLyBmdW5jdGlvbiBhZ2dyZWdhdGVGaWVsZEVxdWFsKGUsIHQpIHtcbiAgICB2YXIgbiwgcjtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIEFnZ3JlZ2F0ZUZpZWxkICYmIHQgaW5zdGFuY2VvZiBBZ2dyZWdhdGVGaWVsZCAmJiBlLmFnZ3JlZ2F0ZVR5cGUgPT09IHQuYWdncmVnYXRlVHlwZSAmJiAobnVsbCA9PT0gKG4gPSBlLl9pbnRlcm5hbEZpZWxkUGF0aCkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5jYW5vbmljYWxTdHJpbmcoKSkgPT09IChudWxsID09PSAociA9IHQuX2ludGVybmFsRmllbGRQYXRoKSB8fCB2b2lkIDAgPT09IHIgPyB2b2lkIDAgOiByLmNhbm9uaWNhbFN0cmluZygpKTtcbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gYEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RgIGluc3RhbmNlcyBmb3IgZXF1YWxpdHkuXG4gKlxuICogVHdvIGBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90YCBpbnN0YW5jZXMgYXJlIGNvbnNpZGVyZWQgXCJlcXVhbFwiIGlmIHRoZXkgaGF2ZVxuICogdW5kZXJseWluZyBxdWVyaWVzIHRoYXQgY29tcGFyZSBlcXVhbCwgYW5kIHRoZSBzYW1lIGRhdGEuXG4gKlxuICogQHBhcmFtIGxlZnQgLSBUaGUgZmlyc3QgYEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RgIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0gcmlnaHQgLSBUaGUgc2Vjb25kIGBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90YCB0byBjb21wYXJlLlxuICpcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgXCJlcXVhbFwiLCBhcyBkZWZpbmVkIGFib3ZlLCBvciBgZmFsc2VgXG4gKiBvdGhlcndpc2UuXG4gKi8gZnVuY3Rpb24gYWdncmVnYXRlUXVlcnlTbmFwc2hvdEVxdWFsKGUsIHQpIHtcbiAgICByZXR1cm4gcXVlcnlFcXVhbChlLnF1ZXJ5LCB0LnF1ZXJ5KSAmJiB1dGlsLmRlZXBFcXVhbChlLmRhdGEoKSwgdC5kYXRhKCkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBNZXRhZGF0YSBhYm91dCBhIHNuYXBzaG90LCBkZXNjcmliaW5nIHRoZSBzdGF0ZSBvZiB0aGUgc25hcHNob3QuXG4gKi8gY2xhc3MgU25hcHNob3RNZXRhZGF0YSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ1dyaXRlcyA9IGUsIHRoaXMuZnJvbUNhY2hlID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgYFNuYXBzaG90TWV0YWRhdGFgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYFNuYXBzaG90TWV0YWRhdGFgIHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoaXMgYFNuYXBzaG90TWV0YWRhdGFgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICovICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNQZW5kaW5nV3JpdGVzID09PSBlLmhhc1BlbmRpbmdXcml0ZXMgJiYgdGhpcy5mcm9tQ2FjaGUgPT09IGUuZnJvbUNhY2hlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBEb2N1bWVudFNuYXBzaG90YCBjb250YWlucyBkYXRhIHJlYWQgZnJvbSBhIGRvY3VtZW50IGluIHlvdXIgRmlyZXN0b3JlXG4gKiBkYXRhYmFzZS4gVGhlIGRhdGEgY2FuIGJlIGV4dHJhY3RlZCB3aXRoIGAuZGF0YSgpYCBvciBgLmdldCg8ZmllbGQ+KWAgdG9cbiAqIGdldCBhIHNwZWNpZmljIGZpZWxkLlxuICpcbiAqIEZvciBhIGBEb2N1bWVudFNuYXBzaG90YCB0aGF0IHBvaW50cyB0byBhIG5vbi1leGlzdGluZyBkb2N1bWVudCwgYW55IGRhdGFcbiAqIGFjY2VzcyB3aWxsIHJldHVybiAndW5kZWZpbmVkJy4gWW91IGNhbiB1c2UgdGhlIGBleGlzdHMoKWAgbWV0aG9kIHRvXG4gKiBleHBsaWNpdGx5IHZlcmlmeSBhIGRvY3VtZW50J3MgZXhpc3RlbmNlLlxuICovIGNsYXNzIERvY3VtZW50U25hcHNob3QgZXh0ZW5kcyBEb2N1bWVudFNuYXBzaG90JDEge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yIHByb3RlY3RlZCAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgc3VwZXIoZSwgdCwgbiwgciwgcyksIHRoaXMuX2ZpcmVzdG9yZSA9IGUsIHRoaXMuX2ZpcmVzdG9yZUltcGwgPSBlLCB0aGlzLm1ldGFkYXRhID0gaTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZGF0YSBleGlzdHMuIFRydWUgaWYgdGhlIGRvY3VtZW50IGV4aXN0cy5cbiAgICAgKi8gICAgZXhpc3RzKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZXhpc3RzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBhcyBhbiBgT2JqZWN0YC4gUmV0dXJucyBgdW5kZWZpbmVkYCBpZlxuICAgICAqIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgYHNlcnZlclRpbWVzdGFtcCgpYCB2YWx1ZXMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlblxuICAgICAqIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSB3aWxsIGJlIHJldHVybmVkIGFzIGBudWxsYC4gWW91IGNhbiBvdmVycmlkZVxuICAgICAqIHRoaXMgYnkgcGFzc2luZyBhbiBvcHRpb25zIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gY29uZmlndXJlIGhvdyBkYXRhIGlzIHJldHJpZXZlZCBmcm9tXG4gICAgICogdGhlIHNuYXBzaG90IChmb3IgZXhhbXBsZSB0aGUgZGVzaXJlZCBiZWhhdmlvciBmb3Igc2VydmVyIHRpbWVzdGFtcHMgdGhhdFxuICAgICAqIGhhdmUgbm90IHlldCBiZWVuIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSkuXG4gICAgICogQHJldHVybnMgQW4gYE9iamVjdGAgY29udGFpbmluZyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBvciBgdW5kZWZpbmVkYCBpZlxuICAgICAqIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqLyAgICBkYXRhKGUgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy5fZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb252ZXJ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gdXNlIHRoZSBjb252ZXJ0ZXIgYW5kIGNyZWF0ZSBhIG5ldyBEb2N1bWVudFNuYXBzaG90XG4gICAgICAgICAgICAgICAgLy8gaWYgYSBjb252ZXJ0ZXIgaGFzIGJlZW4gcHJvdmlkZWQuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBRdWVyeURvY3VtZW50U25hcHNob3QodGhpcy5fZmlyZXN0b3JlLCB0aGlzLl91c2VyRGF0YVdyaXRlciwgdGhpcy5fa2V5LCB0aGlzLl9kb2N1bWVudCwgdGhpcy5tZXRhZGF0YSwgXG4gICAgICAgICAgICAgICAgLyogY29udmVydGVyPSAqLyBudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udmVydGVyLmZyb21GaXJlc3RvcmUodCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHRoaXMuX2RvY3VtZW50LmRhdGEudmFsdWUsIGUuc2VydmVyVGltZXN0YW1wcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBmaWVsZCBzcGVjaWZpZWQgYnkgYGZpZWxkUGF0aGAuIFJldHVybnMgYHVuZGVmaW5lZGAgaWYgdGhlXG4gICAgICogZG9jdW1lbnQgb3IgZmllbGQgZG9lc24ndCBleGlzdC5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIGEgYHNlcnZlclRpbWVzdGFtcCgpYCB0aGF0IGhhcyBub3QgeWV0IGJlZW4gc2V0IHRvXG4gICAgICogaXRzIGZpbmFsIHZhbHVlIHdpbGwgYmUgcmV0dXJuZWQgYXMgYG51bGxgLiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgYnlcbiAgICAgKiBwYXNzaW5nIGFuIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpZWxkUGF0aCAtIFRoZSBwYXRoIChmb3IgZXhhbXBsZSAnZm9vJyBvciAnZm9vLmJhcicpIHRvIGEgc3BlY2lmaWNcbiAgICAgKiBmaWVsZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIGNvbmZpZ3VyZSBob3cgdGhlIGZpZWxkIGlzIHJldHJpZXZlZFxuICAgICAqIGZyb20gdGhlIHNuYXBzaG90IChmb3IgZXhhbXBsZSB0aGUgZGVzaXJlZCBiZWhhdmlvciBmb3Igc2VydmVyIHRpbWVzdGFtcHNcbiAgICAgKiB0aGF0IGhhdmUgbm90IHlldCBiZWVuIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSkuXG4gICAgICogQHJldHVybnMgVGhlIGRhdGEgYXQgdGhlIHNwZWNpZmllZCBmaWVsZCBsb2NhdGlvbiBvciB1bmRlZmluZWQgaWYgbm8gc3VjaFxuICAgICAqIGZpZWxkIGV4aXN0cyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgLy8gV2UgYXJlIHVzaW5nIGBhbnlgIGhlcmUgdG8gYXZvaWQgYW4gZXhwbGljaXQgY2FzdCBieSBvdXIgdXNlcnMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBnZXQoZSwgdCA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLl9kb2N1bWVudCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuX2RvY3VtZW50LmRhdGEuZmllbGQoX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudChcIkRvY3VtZW50U25hcHNob3QuZ2V0XCIsIGUpKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBuKSByZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKG4sIHQuc2VydmVyVGltZXN0YW1wcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQSBgUXVlcnlEb2N1bWVudFNuYXBzaG90YCBjb250YWlucyBkYXRhIHJlYWQgZnJvbSBhIGRvY3VtZW50IGluIHlvdXJcbiAqIEZpcmVzdG9yZSBkYXRhYmFzZSBhcyBwYXJ0IG9mIGEgcXVlcnkuIFRoZSBkb2N1bWVudCBpcyBndWFyYW50ZWVkIHRvIGV4aXN0XG4gKiBhbmQgaXRzIGRhdGEgY2FuIGJlIGV4dHJhY3RlZCB3aXRoIGAuZGF0YSgpYCBvciBgLmdldCg8ZmllbGQ+KWAgdG8gZ2V0IGFcbiAqIHNwZWNpZmljIGZpZWxkLlxuICpcbiAqIEEgYFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdGAgb2ZmZXJzIHRoZSBzYW1lIEFQSSBzdXJmYWNlIGFzIGFcbiAqIGBEb2N1bWVudFNuYXBzaG90YC4gU2luY2UgcXVlcnkgcmVzdWx0cyBjb250YWluIG9ubHkgZXhpc3RpbmcgZG9jdW1lbnRzLCB0aGVcbiAqIGBleGlzdHNgIHByb3BlcnR5IHdpbGwgYWx3YXlzIGJlIHRydWUgYW5kIGBkYXRhKClgIHdpbGwgbmV2ZXIgcmV0dXJuXG4gKiAndW5kZWZpbmVkJy5cbiAqLyBjbGFzcyBRdWVyeURvY3VtZW50U25hcHNob3QgZXh0ZW5kcyBEb2N1bWVudFNuYXBzaG90IHtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQgYXMgYW4gYE9iamVjdGAuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCBgc2VydmVyVGltZXN0YW1wKClgIHZhbHVlcyB0aGF0IGhhdmUgbm90IHlldCBiZWVuXG4gICAgICogc2V0IHRvIHRoZWlyIGZpbmFsIHZhbHVlIHdpbGwgYmUgcmV0dXJuZWQgYXMgYG51bGxgLiBZb3UgY2FuIG92ZXJyaWRlXG4gICAgICogdGhpcyBieSBwYXNzaW5nIGFuIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0byBjb25maWd1cmUgaG93IGRhdGEgaXMgcmV0cmlldmVkIGZyb21cbiAgICAgKiB0aGUgc25hcHNob3QgKGZvciBleGFtcGxlIHRoZSBkZXNpcmVkIGJlaGF2aW9yIGZvciBzZXJ2ZXIgdGltZXN0YW1wcyB0aGF0XG4gICAgICogaGF2ZSBub3QgeWV0IGJlZW4gc2V0IHRvIHRoZWlyIGZpbmFsIHZhbHVlKS5cbiAgICAgKiBAcmV0dXJucyBBbiBgT2JqZWN0YCBjb250YWluaW5nIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGRhdGEoZSA9IHt9KSB7XG4gICAgICAgIHJldHVybiBzdXBlci5kYXRhKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBRdWVyeVNuYXBzaG90YCBjb250YWlucyB6ZXJvIG9yIG1vcmUgYERvY3VtZW50U25hcHNob3RgIG9iamVjdHNcbiAqIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0cyBvZiBhIHF1ZXJ5LiBUaGUgZG9jdW1lbnRzIGNhbiBiZSBhY2Nlc3NlZCBhcyBhblxuICogYXJyYXkgdmlhIHRoZSBgZG9jc2AgcHJvcGVydHkgb3IgZW51bWVyYXRlZCB1c2luZyB0aGUgYGZvckVhY2hgIG1ldGhvZC4gVGhlXG4gKiBudW1iZXIgb2YgZG9jdW1lbnRzIGNhbiBiZSBkZXRlcm1pbmVkIHZpYSB0aGUgYGVtcHR5YCBhbmQgYHNpemVgXG4gKiBwcm9wZXJ0aWVzLlxuICovIGNsYXNzIFF1ZXJ5U25hcHNob3Qge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLl9maXJlc3RvcmUgPSBlLCB0aGlzLl91c2VyRGF0YVdyaXRlciA9IHQsIHRoaXMuX3NuYXBzaG90ID0gciwgdGhpcy5tZXRhZGF0YSA9IG5ldyBTbmFwc2hvdE1ldGFkYXRhKHIuaGFzUGVuZGluZ1dyaXRlcywgci5mcm9tQ2FjaGUpLCBcbiAgICAgICAgdGhpcy5xdWVyeSA9IG47XG4gICAgfVxuICAgIC8qKiBBbiBhcnJheSBvZiBhbGwgdGhlIGRvY3VtZW50cyBpbiB0aGUgYFF1ZXJ5U25hcHNob3RgLiAqLyAgICBnZXQgZG9jcygpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh0ID0+IGUucHVzaCh0KSkpLCBlO1xuICAgIH1cbiAgICAvKiogVGhlIG51bWJlciBvZiBkb2N1bWVudHMgaW4gdGhlIGBRdWVyeVNuYXBzaG90YC4gKi8gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zbmFwc2hvdC5kb2NzLnNpemU7XG4gICAgfVxuICAgIC8qKiBUcnVlIGlmIHRoZXJlIGFyZSBubyBkb2N1bWVudHMgaW4gdGhlIGBRdWVyeVNuYXBzaG90YC4gKi8gICAgZ2V0IGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gMCA9PT0gdGhpcy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnVtZXJhdGVzIGFsbCBvZiB0aGUgZG9jdW1lbnRzIGluIHRoZSBgUXVlcnlTbmFwc2hvdGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aXRoIGEgYFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdGAgZm9yXG4gICAgICogZWFjaCBkb2N1bWVudCBpbiB0aGUgc25hcHNob3QuXG4gICAgICogQHBhcmFtIHRoaXNBcmcgLSBUaGUgYHRoaXNgIGJpbmRpbmcgZm9yIHRoZSBjYWxsYmFjay5cbiAgICAgKi8gICAgZm9yRWFjaChlLCB0KSB7XG4gICAgICAgIHRoaXMuX3NuYXBzaG90LmRvY3MuZm9yRWFjaCgobiA9PiB7XG4gICAgICAgICAgICBlLmNhbGwodCwgbmV3IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCh0aGlzLl9maXJlc3RvcmUsIHRoaXMuX3VzZXJEYXRhV3JpdGVyLCBuLmtleSwgbiwgbmV3IFNuYXBzaG90TWV0YWRhdGEodGhpcy5fc25hcHNob3QubXV0YXRlZEtleXMuaGFzKG4ua2V5KSwgdGhpcy5fc25hcHNob3QuZnJvbUNhY2hlKSwgdGhpcy5xdWVyeS5jb252ZXJ0ZXIpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBkb2N1bWVudHMgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCBzbmFwc2hvdC4gSWYgdGhpc1xuICAgICAqIGlzIHRoZSBmaXJzdCBzbmFwc2hvdCwgYWxsIGRvY3VtZW50cyB3aWxsIGJlIGluIHRoZSBsaXN0IGFzICdhZGRlZCdcbiAgICAgKiBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBgU25hcHNob3RMaXN0ZW5PcHRpb25zYCB0aGF0IGNvbnRyb2wgd2hldGhlciBtZXRhZGF0YS1vbmx5XG4gICAgICogY2hhbmdlcyAoaS5lLiBvbmx5IGBEb2N1bWVudFNuYXBzaG90Lm1ldGFkYXRhYCBjaGFuZ2VkKSBzaG91bGQgdHJpZ2dlclxuICAgICAqIHNuYXBzaG90IGV2ZW50cy5cbiAgICAgKi8gICAgZG9jQ2hhbmdlcyhlID0ge30pIHtcbiAgICAgICAgY29uc3QgdCA9ICEhZS5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzO1xuICAgICAgICBpZiAodCAmJiB0aGlzLl9zbmFwc2hvdC5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcykgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJUbyBpbmNsdWRlIG1ldGFkYXRhIGNoYW5nZXMgd2l0aCB5b3VyIGRvY3VtZW50IGNoYW5nZXMsIHlvdSBtdXN0IGFsc28gcGFzcyB7IGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6dHJ1ZSB9IHRvIG9uU25hcHNob3QoKS5cIik7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRDaGFuZ2VzICYmIHRoaXMuX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzID09PSB0IHx8ICh0aGlzLl9jYWNoZWRDaGFuZ2VzID0gXG4gICAgICAgIC8qKiBDYWxjdWxhdGVzIHRoZSBhcnJheSBvZiBgRG9jdW1lbnRDaGFuZ2VgcyBmb3IgYSBnaXZlbiBgVmlld1NuYXBzaG90YC4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2NoYW5nZXNGcm9tU25hcHNob3QoZSwgdCkge1xuICAgICAgICAgICAgaWYgKGUuX3NuYXBzaG90Lm9sZERvY3MuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBlLl9zbmFwc2hvdC5kb2NDaGFuZ2VzLm1hcCgobiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgUXVlcnlEb2N1bWVudFNuYXBzaG90KGUuX2ZpcmVzdG9yZSwgZS5fdXNlckRhdGFXcml0ZXIsIG4uZG9jLmtleSwgbi5kb2MsIG5ldyBTbmFwc2hvdE1ldGFkYXRhKGUuX3NuYXBzaG90Lm11dGF0ZWRLZXlzLmhhcyhuLmRvYy5rZXkpLCBlLl9zbmFwc2hvdC5mcm9tQ2FjaGUpLCBlLnF1ZXJ5LmNvbnZlcnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmRvYywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZGRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jOiByLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkSW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXg6IHQrK1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBBIGBEb2N1bWVudFNldGAgdGhhdCBpcyB1cGRhdGVkIGluY3JlbWVudGFsbHkgYXMgY2hhbmdlcyBhcmUgYXBwbGllZCB0byB1c2VcbiAgICAgICAgICAgICAgICAvLyB0byBsb29rdXAgdGhlIGluZGV4IG9mIGEgZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgbGV0IG4gPSBlLl9zbmFwc2hvdC5vbGREb2NzO1xuICAgICAgICAgICAgICAgIHJldHVybiBlLl9zbmFwc2hvdC5kb2NDaGFuZ2VzLmZpbHRlcigoZSA9PiB0IHx8IDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyAhPT0gZS50eXBlKSkubWFwKCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IG5ldyBRdWVyeURvY3VtZW50U25hcHNob3QoZS5fZmlyZXN0b3JlLCBlLl91c2VyRGF0YVdyaXRlciwgdC5kb2Mua2V5LCB0LmRvYywgbmV3IFNuYXBzaG90TWV0YWRhdGEoZS5fc25hcHNob3QubXV0YXRlZEtleXMuaGFzKHQuZG9jLmtleSksIGUuX3NuYXBzaG90LmZyb21DYWNoZSksIGUucXVlcnkuY29udmVydGVyKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAtMSwgcyA9IC0xO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovICE9PSB0LnR5cGUgJiYgKGkgPSBuLmluZGV4T2YodC5kb2Mua2V5KSwgbiA9IG4uZGVsZXRlKHQuZG9jLmtleSkpLCBcbiAgICAgICAgICAgICAgICAgICAgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gIT09IHQudHlwZSAmJiAobiA9IG4uYWRkKHQuZG9jKSwgcyA9IG4uaW5kZXhPZih0LmRvYy5rZXkpKSwgXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IF9fUFJJVkFURV9yZXN1bHRDaGFuZ2VUeXBlKHQudHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2M6IHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRJbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGV4OiBzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KHRoaXMsIHQpLCB0aGlzLl9jYWNoZWRDaGFuZ2VzSW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyA9IHQpLCB0aGlzLl9jYWNoZWRDaGFuZ2VzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3Jlc3VsdENoYW5nZVR5cGUoZSkge1xuICAgIHN3aXRjaCAoZSkge1xuICAgICAgY2FzZSAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gOlxuICAgICAgICByZXR1cm4gXCJhZGRlZFwiO1xuXG4gICAgICBjYXNlIDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA6XG4gICAgICBjYXNlIDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyA6XG4gICAgICAgIHJldHVybiBcIm1vZGlmaWVkXCI7XG5cbiAgICAgIGNhc2UgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gOlxuICAgICAgICByZXR1cm4gXCJyZW1vdmVkXCI7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgfVxufVxuXG4vLyBUT0RPKGZpcmVzdG9yZWV4cCk6IEFkZCB0ZXN0cyBmb3Igc25hcHNob3RFcXVhbCB3aXRoIGRpZmZlcmVudCBzbmFwc2hvdFxuLy8gbWV0YWRhdGFcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBzbmFwc2hvdHMgYXJlIGVxdWFsLlxuICpcbiAqIEBwYXJhbSBsZWZ0IC0gQSBzbmFwc2hvdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHJpZ2h0IC0gQSBzbmFwc2hvdCB0byBjb21wYXJlLlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgc25hcHNob3RzIGFyZSBlcXVhbC5cbiAqLyBmdW5jdGlvbiBzbmFwc2hvdEVxdWFsKGUsIHQpIHtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIERvY3VtZW50U25hcHNob3QgJiYgdCBpbnN0YW5jZW9mIERvY3VtZW50U25hcHNob3QgPyBlLl9maXJlc3RvcmUgPT09IHQuX2ZpcmVzdG9yZSAmJiBlLl9rZXkuaXNFcXVhbCh0Ll9rZXkpICYmIChudWxsID09PSBlLl9kb2N1bWVudCA/IG51bGwgPT09IHQuX2RvY3VtZW50IDogZS5fZG9jdW1lbnQuaXNFcXVhbCh0Ll9kb2N1bWVudCkpICYmIGUuX2NvbnZlcnRlciA9PT0gdC5fY29udmVydGVyIDogZSBpbnN0YW5jZW9mIFF1ZXJ5U25hcHNob3QgJiYgdCBpbnN0YW5jZW9mIFF1ZXJ5U25hcHNob3QgJiYgKGUuX2ZpcmVzdG9yZSA9PT0gdC5fZmlyZXN0b3JlICYmIHF1ZXJ5RXF1YWwoZS5xdWVyeSwgdC5xdWVyeSkgJiYgZS5tZXRhZGF0YS5pc0VxdWFsKHQubWV0YWRhdGEpICYmIGUuX3NuYXBzaG90LmlzRXF1YWwodC5fc25hcHNob3QpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVhZHMgdGhlIGRvY3VtZW50IHJlZmVycmVkIHRvIGJ5IHRoaXMgYERvY3VtZW50UmVmZXJlbmNlYC5cbiAqXG4gKiBOb3RlOiBgZ2V0RG9jKClgIGF0dGVtcHRzIHRvIHByb3ZpZGUgdXAtdG8tZGF0ZSBkYXRhIHdoZW4gcG9zc2libGUgYnkgd2FpdGluZ1xuICogZm9yIGRhdGEgZnJvbSB0aGUgc2VydmVyLCBidXQgaXQgbWF5IHJldHVybiBjYWNoZWQgZGF0YSBvciBmYWlsIGlmIHlvdSBhcmVcbiAqIG9mZmxpbmUgYW5kIHRoZSBzZXJ2ZXIgY2Fubm90IGJlIHJlYWNoZWQuIFRvIHNwZWNpZnkgdGhpcyBiZWhhdmlvciwgaW52b2tlXG4gKiB7QGxpbmsgZ2V0RG9jRnJvbUNhY2hlfSBvciB7QGxpbmsgZ2V0RG9jRnJvbVNlcnZlcn0uXG4gKlxuICogQHBhcmFtIHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2Ugb2YgdGhlIGRvY3VtZW50IHRvIGZldGNoLlxuICogQHJldHVybnMgQSBQcm9taXNlIHJlc29sdmVkIHdpdGggYSBgRG9jdW1lbnRTbmFwc2hvdGAgY29udGFpbmluZyB0aGVcbiAqIGN1cnJlbnQgZG9jdW1lbnQgY29udGVudHMuXG4gKi8gZnVuY3Rpb24gZ2V0RG9jKGUpIHtcbiAgICBlID0gX19QUklWQVRFX2Nhc3QoZSwgRG9jdW1lbnRSZWZlcmVuY2UpO1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKTtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50VmlhU25hcHNob3RMaXN0ZW5lcihlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHQpLCBlLl9rZXkpLnRoZW4oKG4gPT4gX19QUklWQVRFX2NvbnZlcnRUb0RvY1NuYXBzaG90KHQsIGUsIG4pKSk7XG59XG5cbmNsYXNzIF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlciBleHRlbmRzIEFic3RyYWN0VXNlckRhdGFXcml0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5maXJlc3RvcmUgPSBlO1xuICAgIH1cbiAgICBjb252ZXJ0Qnl0ZXMoZSkge1xuICAgICAgICByZXR1cm4gbmV3IEJ5dGVzKGUpO1xuICAgIH1cbiAgICBjb252ZXJ0UmVmZXJlbmNlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuY29udmVydERvY3VtZW50S2V5KGUsIHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkKTtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudFJlZmVyZW5jZSh0aGlzLmZpcmVzdG9yZSwgLyogY29udmVydGVyPSAqLyBudWxsLCB0KTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVhZHMgdGhlIGRvY3VtZW50IHJlZmVycmVkIHRvIGJ5IHRoaXMgYERvY3VtZW50UmVmZXJlbmNlYCBmcm9tIGNhY2hlLlxuICogUmV0dXJucyBhbiBlcnJvciBpZiB0aGUgZG9jdW1lbnQgaXMgbm90IGN1cnJlbnRseSBjYWNoZWQuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgcmVzb2x2ZWQgd2l0aCBhIGBEb2N1bWVudFNuYXBzaG90YCBjb250YWluaW5nIHRoZVxuICogY3VycmVudCBkb2N1bWVudCBjb250ZW50cy5cbiAqLyBmdW5jdGlvbiBnZXREb2NGcm9tQ2FjaGUoZSkge1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBEb2N1bWVudFJlZmVyZW5jZSk7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCBuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZCh0KSwgciA9IG5ldyBfX1BSSVZBVEVfRXhwVXNlckRhdGFXcml0ZXIodCk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudEZyb21Mb2NhbENhY2hlKG4sIGUuX2tleSkudGhlbigobiA9PiBuZXcgRG9jdW1lbnRTbmFwc2hvdCh0LCByLCBlLl9rZXksIG4sIG5ldyBTbmFwc2hvdE1ldGFkYXRhKG51bGwgIT09IG4gJiYgbi5oYXNMb2NhbE11dGF0aW9ucywgXG4gICAgLyogZnJvbUNhY2hlPSAqLyAhMCksIGUuY29udmVydGVyKSkpO1xufVxuXG4vKipcbiAqIFJlYWRzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGlzIGBEb2N1bWVudFJlZmVyZW5jZWAgZnJvbSB0aGUgc2VydmVyLlxuICogUmV0dXJucyBhbiBlcnJvciBpZiB0aGUgbmV0d29yayBpcyBub3QgYXZhaWxhYmxlLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHJlc29sdmVkIHdpdGggYSBgRG9jdW1lbnRTbmFwc2hvdGAgY29udGFpbmluZyB0aGVcbiAqIGN1cnJlbnQgZG9jdW1lbnQgY29udGVudHMuXG4gKi8gZnVuY3Rpb24gZ2V0RG9jRnJvbVNlcnZlcihlKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIERvY3VtZW50UmVmZXJlbmNlKTtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudFZpYVNuYXBzaG90TGlzdGVuZXIoZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZCh0KSwgZS5fa2V5LCB7XG4gICAgICAgIHNvdXJjZTogXCJzZXJ2ZXJcIlxuICAgIH0pLnRoZW4oKG4gPT4gX19QUklWQVRFX2NvbnZlcnRUb0RvY1NuYXBzaG90KHQsIGUsIG4pKSk7XG59XG5cbi8qKlxuICogRXhlY3V0ZXMgdGhlIHF1ZXJ5IGFuZCByZXR1cm5zIHRoZSByZXN1bHRzIGFzIGEgYFF1ZXJ5U25hcHNob3RgLlxuICpcbiAqIE5vdGU6IGBnZXREb2NzKClgIGF0dGVtcHRzIHRvIHByb3ZpZGUgdXAtdG8tZGF0ZSBkYXRhIHdoZW4gcG9zc2libGUgYnlcbiAqIHdhaXRpbmcgZm9yIGRhdGEgZnJvbSB0aGUgc2VydmVyLCBidXQgaXQgbWF5IHJldHVybiBjYWNoZWQgZGF0YSBvciBmYWlsIGlmXG4gKiB5b3UgYXJlIG9mZmxpbmUgYW5kIHRoZSBzZXJ2ZXIgY2Fubm90IGJlIHJlYWNoZWQuIFRvIHNwZWNpZnkgdGhpcyBiZWhhdmlvcixcbiAqIGludm9rZSB7QGxpbmsgZ2V0RG9jc0Zyb21DYWNoZX0gb3Ige0BsaW5rIGdldERvY3NGcm9tU2VydmVyfS5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgcXVlcnkuXG4gKi8gZnVuY3Rpb24gZ2V0RG9jcyhlKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIFF1ZXJ5KTtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIG4gPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHQpLCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih0KTtcbiAgICByZXR1cm4gX19QUklWQVRFX3ZhbGlkYXRlSGFzRXhwbGljaXRPcmRlckJ5Rm9yTGltaXRUb0xhc3QoZS5fcXVlcnkpLCBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRzVmlhU25hcHNob3RMaXN0ZW5lcihuLCBlLl9xdWVyeSkudGhlbigobiA9PiBuZXcgUXVlcnlTbmFwc2hvdCh0LCByLCBlLCBuKSkpO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBxdWVyeSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0cyBhcyBhIGBRdWVyeVNuYXBzaG90YCBmcm9tIGNhY2hlLlxuICogUmV0dXJucyBhbiBlbXB0eSByZXN1bHQgc2V0IGlmIG5vIGRvY3VtZW50cyBtYXRjaGluZyB0aGUgcXVlcnkgYXJlIGN1cnJlbnRseVxuICogY2FjaGVkLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeS5cbiAqLyBmdW5jdGlvbiBnZXREb2NzRnJvbUNhY2hlKGUpIHtcbiAgICBlID0gX19QUklWQVRFX2Nhc3QoZSwgUXVlcnkpO1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgbiA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQodCksIHIgPSBuZXcgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyKHQpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRzRnJvbUxvY2FsQ2FjaGUobiwgZS5fcXVlcnkpLnRoZW4oKG4gPT4gbmV3IFF1ZXJ5U25hcHNob3QodCwgciwgZSwgbikpKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgcXVlcnkgYW5kIHJldHVybnMgdGhlIHJlc3VsdHMgYXMgYSBgUXVlcnlTbmFwc2hvdGAgZnJvbSB0aGVcbiAqIHNlcnZlci4gUmV0dXJucyBhbiBlcnJvciBpZiB0aGUgbmV0d29yayBpcyBub3QgYXZhaWxhYmxlLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeS5cbiAqLyBmdW5jdGlvbiBnZXREb2NzRnJvbVNlcnZlcihlKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIFF1ZXJ5KTtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIG4gPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHQpLCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih0KTtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c1ZpYVNuYXBzaG90TGlzdGVuZXIobiwgZS5fcXVlcnksIHtcbiAgICAgICAgc291cmNlOiBcInNlcnZlclwiXG4gICAgfSkudGhlbigobiA9PiBuZXcgUXVlcnlTbmFwc2hvdCh0LCByLCBlLCBuKSkpO1xufVxuXG5mdW5jdGlvbiBzZXREb2MoZSwgdCwgbikge1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBEb2N1bWVudFJlZmVyZW5jZSk7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCBpID0gX19QUklWQVRFX2FwcGx5RmlyZXN0b3JlRGF0YUNvbnZlcnRlcihlLmNvbnZlcnRlciwgdCwgbik7XG4gICAgcmV0dXJuIGV4ZWN1dGVXcml0ZShyLCBbIF9fUFJJVkFURV9wYXJzZVNldERhdGEoX19QUklWQVRFX25ld1VzZXJEYXRhUmVhZGVyKHIpLCBcInNldERvY1wiLCBlLl9rZXksIGksIG51bGwgIT09IGUuY29udmVydGVyLCBuKS50b011dGF0aW9uKGUuX2tleSwgUHJlY29uZGl0aW9uLm5vbmUoKSkgXSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZURvYyhlLCB0LCBuLCAuLi5yKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIERvY3VtZW50UmVmZXJlbmNlKTtcbiAgICBjb25zdCBpID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIHMgPSBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoaSk7XG4gICAgbGV0IG87XG4gICAgbyA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIChcbiAgICAvLyBGb3IgQ29tcGF0IHR5cGVzLCB3ZSBoYXZlIHRvIFwiZXh0cmFjdFwiIHRoZSB1bmRlcmx5aW5nIHR5cGVzIGJlZm9yZVxuICAgIC8vIHBlcmZvcm1pbmcgdmFsaWRhdGlvbi5cbiAgICB0ID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UodCkpIHx8IHQgaW5zdGFuY2VvZiBGaWVsZFBhdGggPyBfX1BSSVZBVEVfcGFyc2VVcGRhdGVWYXJhcmdzKHMsIFwidXBkYXRlRG9jXCIsIGUuX2tleSwgdCwgbiwgcikgOiBfX1BSSVZBVEVfcGFyc2VVcGRhdGVEYXRhKHMsIFwidXBkYXRlRG9jXCIsIGUuX2tleSwgdCk7XG4gICAgcmV0dXJuIGV4ZWN1dGVXcml0ZShpLCBbIG8udG9NdXRhdGlvbihlLl9rZXksIFByZWNvbmRpdGlvbi5leGlzdHMoITApKSBdKTtcbn1cblxuLyoqXG4gKiBEZWxldGVzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGUgc3BlY2lmaWVkIGBEb2N1bWVudFJlZmVyZW5jZWAuXG4gKlxuICogQHBhcmFtIHJlZmVyZW5jZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBkZWxldGUuXG4gKiBAcmV0dXJucyBBIFByb21pc2UgcmVzb2x2ZWQgb25jZSB0aGUgZG9jdW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gKiBkZWxldGVkIGZyb20gdGhlIGJhY2tlbmQgKG5vdGUgdGhhdCBpdCB3b24ndCByZXNvbHZlIHdoaWxlIHlvdSdyZSBvZmZsaW5lKS5cbiAqLyBmdW5jdGlvbiBkZWxldGVEb2MoZSkge1xuICAgIHJldHVybiBleGVjdXRlV3JpdGUoX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIFsgbmV3IF9fUFJJVkFURV9EZWxldGVNdXRhdGlvbihlLl9rZXksIFByZWNvbmRpdGlvbi5ub25lKCkpIF0pO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBkb2N1bWVudCB0byBzcGVjaWZpZWQgYENvbGxlY3Rpb25SZWZlcmVuY2VgIHdpdGggdGhlIGdpdmVuIGRhdGEsXG4gKiBhc3NpZ25pbmcgaXQgYSBkb2N1bWVudCBJRCBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEBwYXJhbSByZWZlcmVuY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgY29sbGVjdGlvbiB0byBhZGQgdGhpcyBkb2N1bWVudCB0by5cbiAqIEBwYXJhbSBkYXRhIC0gQW4gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRhdGEgZm9yIHRoZSBuZXcgZG9jdW1lbnQuXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCByZXNvbHZlZCB3aXRoIGEgYERvY3VtZW50UmVmZXJlbmNlYCBwb2ludGluZyB0byB0aGVcbiAqIG5ld2x5IGNyZWF0ZWQgZG9jdW1lbnQgYWZ0ZXIgaXQgaGFzIGJlZW4gd3JpdHRlbiB0byB0aGUgYmFja2VuZCAoTm90ZSB0aGF0IGl0XG4gKiB3b24ndCByZXNvbHZlIHdoaWxlIHlvdSdyZSBvZmZsaW5lKS5cbiAqLyBmdW5jdGlvbiBhZGREb2MoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgciA9IGRvYyhlKSwgaSA9IF9fUFJJVkFURV9hcHBseUZpcmVzdG9yZURhdGFDb252ZXJ0ZXIoZS5jb252ZXJ0ZXIsIHQpO1xuICAgIHJldHVybiBleGVjdXRlV3JpdGUobiwgWyBfX1BSSVZBVEVfcGFyc2VTZXREYXRhKF9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlcihlLmZpcmVzdG9yZSksIFwiYWRkRG9jXCIsIHIuX2tleSwgaSwgbnVsbCAhPT0gZS5jb252ZXJ0ZXIsIHt9KS50b011dGF0aW9uKHIuX2tleSwgUHJlY29uZGl0aW9uLmV4aXN0cyghMSkpIF0pLnRoZW4oKCgpID0+IHIpKTtcbn1cblxuZnVuY3Rpb24gb25TbmFwc2hvdChlLCAuLi50KSB7XG4gICAgdmFyIG4sIHIsIGk7XG4gICAgZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpO1xuICAgIGxldCBzID0ge1xuICAgICAgICBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiAhMSxcbiAgICAgICAgc291cmNlOiBcImRlZmF1bHRcIlxuICAgIH0sIG8gPSAwO1xuICAgIFwib2JqZWN0XCIgIT0gdHlwZW9mIHRbb10gfHwgX19QUklWQVRFX2lzUGFydGlhbE9ic2VydmVyKHRbb10pIHx8IChzID0gdFtvXSwgbysrKTtcbiAgICBjb25zdCBfID0ge1xuICAgICAgICBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiBzLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXMsXG4gICAgICAgIHNvdXJjZTogcy5zb3VyY2VcbiAgICB9O1xuICAgIGlmIChfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIodFtvXSkpIHtcbiAgICAgICAgY29uc3QgZSA9IHRbb107XG4gICAgICAgIHRbb10gPSBudWxsID09PSAobiA9IGUubmV4dCkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5iaW5kKGUpLCB0W28gKyAxXSA9IG51bGwgPT09IChyID0gZS5lcnJvcikgfHwgdm9pZCAwID09PSByID8gdm9pZCAwIDogci5iaW5kKGUpLCBcbiAgICAgICAgdFtvICsgMl0gPSBudWxsID09PSAoaSA9IGUuY29tcGxldGUpIHx8IHZvaWQgMCA9PT0gaSA/IHZvaWQgMCA6IGkuYmluZChlKTtcbiAgICB9XG4gICAgbGV0IGEsIHUsIGM7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSkgdSA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCBcbiAgICBjID0gX19QUklWQVRFX25ld1F1ZXJ5Rm9yUGF0aChlLl9rZXkucGF0aCksIGEgPSB7XG4gICAgICAgIG5leHQ6IG4gPT4ge1xuICAgICAgICAgICAgdFtvXSAmJiB0W29dKF9fUFJJVkFURV9jb252ZXJ0VG9Eb2NTbmFwc2hvdCh1LCBlLCBuKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiB0W28gKyAxXSxcbiAgICAgICAgY29tcGxldGU6IHRbbyArIDJdXG4gICAgfTsgZWxzZSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY2FzdChlLCBRdWVyeSk7XG4gICAgICAgIHUgPSBfX1BSSVZBVEVfY2FzdChuLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgYyA9IG4uX3F1ZXJ5O1xuICAgICAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih1KTtcbiAgICAgICAgYSA9IHtcbiAgICAgICAgICAgIG5leHQ6IGUgPT4ge1xuICAgICAgICAgICAgICAgIHRbb10gJiYgdFtvXShuZXcgUXVlcnlTbmFwc2hvdCh1LCByLCBuLCBlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IHRbbyArIDFdLFxuICAgICAgICAgICAgY29tcGxldGU6IHRbbyArIDJdXG4gICAgICAgIH0sIF9fUFJJVkFURV92YWxpZGF0ZUhhc0V4cGxpY2l0T3JkZXJCeUZvckxpbWl0VG9MYXN0KGUuX3F1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRMaXN0ZW4oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9Bc3luY09ic2VydmVyKHIpLCBzID0gbmV3IF9fUFJJVkFURV9RdWVyeUxpc3RlbmVyKHQsIGksIG4pO1xuICAgICAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IF9fUFJJVkFURV9ldmVudE1hbmFnZXJMaXN0ZW4oYXdhaXQgX19QUklWQVRFX2dldEV2ZW50TWFuYWdlcihlKSwgcykpKSwgXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGkuJGEoKSwgZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IF9fUFJJVkFURV9ldmVudE1hbmFnZXJVbmxpc3Rlbihhd2FpdCBfX1BSSVZBVEVfZ2V0RXZlbnRNYW5hZ2VyKGUpLCBzKSkpO1xuICAgICAgICB9O1xuICAgIH0oZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZCh1KSwgYywgXywgYSk7XG59XG5cbmZ1bmN0aW9uIG9uU25hcHNob3RzSW5TeW5jKGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEFkZFNuYXBzaG90c0luU3luY0xpc3RlbmVyKGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpLCBfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIodCkgPyB0IDoge1xuICAgICAgICBuZXh0OiB0XG4gICAgfSk7XG59XG5cbi8qKlxuICogTG9jYWxseSB3cml0ZXMgYG11dGF0aW9uc2Agb24gdGhlIGFzeW5jIHF1ZXVlLlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gZXhlY3V0ZVdyaXRlKGUsIHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFdyaXRlKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gX19QUklWQVRFX3N5bmNFbmdpbmVXcml0ZShhd2FpdCBfX1BSSVZBVEVfZ2V0U3luY0VuZ2luZShlKSwgdCwgbikpKSwgXG4gICAgICAgIG4ucHJvbWlzZTtcbiAgICB9KGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSksIHQpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEge0BsaW5rIFZpZXdTbmFwc2hvdH0gdGhhdCBjb250YWlucyB0aGUgc2luZ2xlIGRvY3VtZW50IHNwZWNpZmllZCBieSBgcmVmYFxuICogdG8gYSB7QGxpbmsgRG9jdW1lbnRTbmFwc2hvdH0uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NvbnZlcnRUb0RvY1NuYXBzaG90KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gbi5kb2NzLmdldCh0Ll9rZXkpLCBpID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcihlKTtcbiAgICByZXR1cm4gbmV3IERvY3VtZW50U25hcHNob3QoZSwgaSwgdC5fa2V5LCByLCBuZXcgU25hcHNob3RNZXRhZGF0YShuLmhhc1BlbmRpbmdXcml0ZXMsIG4uZnJvbUNhY2hlKSwgdC5jb252ZXJ0ZXIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIGluIHRoZSByZXN1bHQgc2V0IG9mIHRoZSBnaXZlbiBxdWVyeVxuICogd2l0aG91dCBhY3R1YWxseSBkb3dubG9hZGluZyB0aGUgZG9jdW1lbnRzLlxuICpcbiAqIFVzaW5nIHRoaXMgZnVuY3Rpb24gdG8gY291bnQgdGhlIGRvY3VtZW50cyBpcyBlZmZpY2llbnQgYmVjYXVzZSBvbmx5IHRoZVxuICogZmluYWwgY291bnQsIG5vdCB0aGUgZG9jdW1lbnRzJyBkYXRhLCBpcyBkb3dubG9hZGVkLiBUaGlzIGZ1bmN0aW9uIGNhblxuICogY291bnQgdGhlIGRvY3VtZW50cyBpbiBjYXNlcyB3aGVyZSB0aGUgcmVzdWx0IHNldCBpcyBwcm9oaWJpdGl2ZWx5IGxhcmdlIHRvXG4gKiBkb3dubG9hZCBlbnRpcmVseSAodGhvdXNhbmRzIG9mIGRvY3VtZW50cykuXG4gKlxuICogVGhlIHJlc3VsdCByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIgaXMgcHJlc2VudGVkLCB1bmFsdGVyZWQsIHdpdGhvdXRcbiAqIGNvbnNpZGVyaW5nIGFueSBsb2NhbCBzdGF0ZS4gVGhhdCBpcywgZG9jdW1lbnRzIGluIHRoZSBsb2NhbCBjYWNoZSBhcmUgbm90XG4gKiB0YWtlbiBpbnRvIGNvbnNpZGVyYXRpb24sIG5laXRoZXIgYXJlIGxvY2FsIG1vZGlmaWNhdGlvbnMgbm90IHlldFxuICogc3luY2hyb25pemVkIHdpdGggdGhlIHNlcnZlci4gUHJldmlvdXNseS1kb3dubG9hZGVkIHJlc3VsdHMsIGlmIGFueSwgYXJlIG5vdFxuICogdXNlZC4gRXZlcnkgaW52b2NhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uIG5lY2Vzc2FyaWx5IGludm9sdmVzIGEgcm91bmQgdHJpcCB0b1xuICogdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHdob3NlIHJlc3VsdCBzZXQgc2l6ZSBpcyBjYWxjdWxhdGVkLlxuICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSBjb3VudDsgdGhlIGNvdW50IGNhbiBiZVxuICogcmV0cmlldmVkIGZyb20gYHNuYXBzaG90LmRhdGEoKS5jb3VudGAsIHdoZXJlIGBzbmFwc2hvdGAgaXMgdGhlXG4gKiBgQWdncmVnYXRlUXVlcnlTbmFwc2hvdGAgdG8gd2hpY2ggdGhlIHJldHVybmVkIFByb21pc2UgcmVzb2x2ZXMuXG4gKi8gZnVuY3Rpb24gZ2V0Q291bnRGcm9tU2VydmVyKGUpIHtcbiAgICByZXR1cm4gZ2V0QWdncmVnYXRlRnJvbVNlcnZlcihlLCB7XG4gICAgICAgIGNvdW50OiBjb3VudCgpXG4gICAgfSk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3BlY2lmaWVkIGFnZ3JlZ2F0aW9ucyBvdmVyIHRoZSBkb2N1bWVudHMgaW4gdGhlIHJlc3VsdFxuICogc2V0IG9mIHRoZSBnaXZlbiBxdWVyeSB3aXRob3V0IGFjdHVhbGx5IGRvd25sb2FkaW5nIHRoZSBkb2N1bWVudHMuXG4gKlxuICogVXNpbmcgdGhpcyBmdW5jdGlvbiB0byBwZXJmb3JtIGFnZ3JlZ2F0aW9ucyBpcyBlZmZpY2llbnQgYmVjYXVzZSBvbmx5IHRoZVxuICogZmluYWwgYWdncmVnYXRpb24gdmFsdWVzLCBub3QgdGhlIGRvY3VtZW50cycgZGF0YSwgYXJlIGRvd25sb2FkZWQuIFRoaXNcbiAqIGZ1bmN0aW9uIGNhbiBwZXJmb3JtIGFnZ3JlZ2F0aW9ucyBvZiB0aGUgZG9jdW1lbnRzIGluIGNhc2VzIHdoZXJlIHRoZSByZXN1bHRcbiAqIHNldCBpcyBwcm9oaWJpdGl2ZWx5IGxhcmdlIHRvIGRvd25sb2FkIGVudGlyZWx5ICh0aG91c2FuZHMgb2YgZG9jdW1lbnRzKS5cbiAqXG4gKiBUaGUgcmVzdWx0IHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlciBpcyBwcmVzZW50ZWQsIHVuYWx0ZXJlZCwgd2l0aG91dFxuICogY29uc2lkZXJpbmcgYW55IGxvY2FsIHN0YXRlLiBUaGF0IGlzLCBkb2N1bWVudHMgaW4gdGhlIGxvY2FsIGNhY2hlIGFyZSBub3RcbiAqIHRha2VuIGludG8gY29uc2lkZXJhdGlvbiwgbmVpdGhlciBhcmUgbG9jYWwgbW9kaWZpY2F0aW9ucyBub3QgeWV0XG4gKiBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgc2VydmVyLiBQcmV2aW91c2x5LWRvd25sb2FkZWQgcmVzdWx0cywgaWYgYW55LCBhcmUgbm90XG4gKiB1c2VkLiBFdmVyeSBpbnZvY2F0aW9uIG9mIHRoaXMgZnVuY3Rpb24gbmVjZXNzYXJpbHkgaW52b2x2ZXMgYSByb3VuZCB0cmlwIHRvXG4gKiB0aGUgc2VydmVyLlxuICpcbiAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgd2hvc2UgcmVzdWx0IHNldCBpcyBhZ2dyZWdhdGVkIG92ZXIuXG4gKiBAcGFyYW0gYWdncmVnYXRlU3BlYyBBbiBgQWdncmVnYXRlU3BlY2Agb2JqZWN0IHRoYXQgc3BlY2lmaWVzIHRoZSBhZ2dyZWdhdGVzXG4gKiB0byBwZXJmb3JtIG92ZXIgdGhlIHJlc3VsdCBzZXQuIFRoZSBBZ2dyZWdhdGVTcGVjIHNwZWNpZmllcyBhbGlhc2VzIGZvciBlYWNoXG4gKiBhZ2dyZWdhdGUsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBhZ2dyZWdhdGUgcmVzdWx0LlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IGFnZ3JlZ2F0ZVNuYXBzaG90ID0gYXdhaXQgZ2V0QWdncmVnYXRlRnJvbVNlcnZlcihxdWVyeSwge1xuICogICBjb3VudE9mRG9jczogY291bnQoKSxcbiAqICAgdG90YWxIb3Vyczogc3VtKCdob3VycycpLFxuICogICBhdmVyYWdlU2NvcmU6IGF2ZXJhZ2UoJ3Njb3JlJylcbiAqIH0pO1xuICpcbiAqIGNvbnN0IGNvdW50T2ZEb2NzOiBudW1iZXIgPSBhZ2dyZWdhdGVTbmFwc2hvdC5kYXRhKCkuY291bnRPZkRvY3M7XG4gKiBjb25zdCB0b3RhbEhvdXJzOiBudW1iZXIgPSBhZ2dyZWdhdGVTbmFwc2hvdC5kYXRhKCkudG90YWxIb3VycztcbiAqIGNvbnN0IGF2ZXJhZ2VTY29yZTogbnVtYmVyIHwgbnVsbCA9IGFnZ3JlZ2F0ZVNuYXBzaG90LmRhdGEoKS5hdmVyYWdlU2NvcmU7XG4gKiBgYGBcbiAqLyBmdW5jdGlvbiBnZXRBZ2dyZWdhdGVGcm9tU2VydmVyKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIHIgPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKG4pLCBpID0gX19QUklWQVRFX21hcFRvQXJyYXkodCwgKChlLCB0KSA9PiBuZXcgX19QUklWQVRFX0FnZ3JlZ2F0ZUltcGwodCwgZS5hZ2dyZWdhdGVUeXBlLCBlLl9pbnRlcm5hbEZpZWxkUGF0aCkpKTtcbiAgICAvLyBSdW4gdGhlIGFnZ3JlZ2F0aW9uIGFuZCBjb252ZXJ0IHRoZSByZXN1bHRzXG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRSdW5BZ2dyZWdhdGVRdWVyeShyLCBlLl9xdWVyeSwgaSkudGhlbigodCA9PiBcbiAgICAvKipcbiAqIENvbnZlcnRzIHRoZSBjb3JlIGFnZ3JlZ3JhdGlvbiByZXN1bHQgdG8gYW4gYEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RgXG4gKiB0aGF0IGNhbiBiZSByZXR1cm5lZCB0byB0aGUgY29uc3VtZXIuXG4gKiBAcGFyYW0gcXVlcnlcbiAqIEBwYXJhbSBhZ2dyZWdhdGVSZXN1bHQgQ29yZSBhZ2dyZWdhdGlvbiByZXN1bHRcbiAqIEBpbnRlcm5hbFxuICovXG4gICAgZnVuY3Rpb24gX19QUklWQVRFX2NvbnZlcnRUb0FnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3QoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcihlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90KHQsIHIsIG4pO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAobiwgZSwgdCkpKTtcbn1cblxuY2xhc3MgX19QUklWQVRFX01lbW9yeUxvY2FsQ2FjaGVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMua2luZCA9IFwibWVtb3J5XCIsIHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyLCBcbiAgICAgICAgKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuZ2FyYmFnZUNvbGxlY3RvcikgPyB0aGlzLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgPSBlLmdhcmJhZ2VDb2xsZWN0b3IuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA6IHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IG5ldyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXI7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6IHRoaXMua2luZFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX1BlcnNpc3RlbnRMb2NhbENhY2hlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgdGhpcy5raW5kID0gXCJwZXJzaXN0ZW50XCIsIChudWxsID09IGUgPyB2b2lkIDAgOiBlLnRhYk1hbmFnZXIpID8gKGUudGFiTWFuYWdlci5faW5pdGlhbGl6ZShlKSwgXG4gICAgICAgIHQgPSBlLnRhYk1hbmFnZXIpIDogKHQgPSBwZXJzaXN0ZW50U2luZ2xlVGFiTWFuYWdlcih2b2lkIDApLCB0Ll9pbml0aWFsaXplKGUpKSwgXG4gICAgICAgIHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyID0gdC5fb25saW5lQ29tcG9uZW50UHJvdmlkZXIsIHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IHQuX29mZmxpbmVDb21wb25lbnRQcm92aWRlcjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogdGhpcy5raW5kXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5RWFnZXJHYWJhZ2VDb2xsZWN0b3JJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5raW5kID0gXCJtZW1vcnlFYWdlclwiLCB0aGlzLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgPSBuZXcgTWVtb3J5T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiB0aGlzLmtpbmRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9NZW1vcnlMcnVHYWJhZ2VDb2xsZWN0b3JJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMua2luZCA9IFwibWVtb3J5THJ1XCIsIHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IG5ldyBfX1BSSVZBVEVfTHJ1R2NNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIoZSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6IHRoaXMua2luZFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBNZW1vcnlFYWdlckdhcmJhZ2VDb2xsZWN0b3JgLiBUaGlzIGlzIGFsc28gdGhlXG4gKiBkZWZhdWx0IGdhcmJhZ2UgY29sbGVjdG9yIHVubGVzcyBpdCBpcyBleHBsaWNpdGx5IHNwZWNpZmllZCBvdGhlcndpc2UuXG4gKi8gZnVuY3Rpb24gbWVtb3J5RWFnZXJHYXJiYWdlQ29sbGVjdG9yKCkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeUVhZ2VyR2FiYWdlQ29sbGVjdG9ySW1wbDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBNZW1vcnlMcnVHYXJiYWdlQ29sbGVjdG9yYC5cbiAqXG4gKiBBIHRhcmdldCBzaXplIGNhbiBiZSBzcGVjaWZpZWQgYXMgcGFydCBvZiB0aGUgc2V0dGluZyBwYXJhbWV0ZXIuIFRoZVxuICogY29sbGVjdG9yIHdpbGwgc3RhcnQgZGVsZXRpbmcgZG9jdW1lbnRzIG9uY2UgdGhlIGNhY2hlIHNpemUgZXhjZWVkc1xuICogdGhlIGdpdmVuIHNpemUuIFRoZSBkZWZhdWx0IGNhY2hlIHNpemUgaXMgNDBNQiAoNDAgKiAxMDI0ICogMTAyNCBieXRlcykuXG4gKi8gZnVuY3Rpb24gbWVtb3J5THJ1R2FyYmFnZUNvbGxlY3RvcihlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5THJ1R2FiYWdlQ29sbGVjdG9ySW1wbChudWxsID09IGUgPyB2b2lkIDAgOiBlLmNhY2hlU2l6ZUJ5dGVzKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBNZW1vcnlMb2NhbENhY2hlYC4gVGhlIGluc3RhbmNlIGNhbiBiZSBzZXQgdG9cbiAqIGBGaXJlc3RvcmVTZXR0aW5ncy5jYWNoZWAgdG8gdGVsbCB0aGUgU0RLIHdoaWNoIGNhY2hlIGxheWVyIHRvIHVzZS5cbiAqLyBmdW5jdGlvbiBtZW1vcnlMb2NhbENhY2hlKGUpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NZW1vcnlMb2NhbENhY2hlSW1wbChlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBQZXJzaXN0ZW50TG9jYWxDYWNoZWAuIFRoZSBpbnN0YW5jZSBjYW4gYmUgc2V0IHRvXG4gKiBgRmlyZXN0b3JlU2V0dGluZ3MuY2FjaGVgIHRvIHRlbGwgdGhlIFNESyB3aGljaCBjYWNoZSBsYXllciB0byB1c2UuXG4gKlxuICogUGVyc2lzdGVudCBjYWNoZSBjYW5ub3QgYmUgdXNlZCBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKi8gZnVuY3Rpb24gcGVyc2lzdGVudExvY2FsQ2FjaGUoZSkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1BlcnNpc3RlbnRMb2NhbENhY2hlSW1wbChlKTtcbn1cblxuY2xhc3MgX19QUklWQVRFX1NpbmdsZVRhYk1hbmFnZXJJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuZm9yY2VPd25lcnNoaXAgPSBlLCB0aGlzLmtpbmQgPSBcInBlcnNpc3RlbnRTaW5nbGVUYWJcIjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogdGhpcy5raW5kXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqLyAgICBfaW5pdGlhbGl6ZShlKSB7XG4gICAgICAgIHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyLCB0aGlzLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgPSBuZXcgX19QUklWQVRFX0luZGV4ZWREYk9mZmxpbmVDb21wb25lbnRQcm92aWRlcih0aGlzLl9vbmxpbmVDb21wb25lbnRQcm92aWRlciwgbnVsbCA9PSBlID8gdm9pZCAwIDogZS5jYWNoZVNpemVCeXRlcywgdGhpcy5mb3JjZU93bmVyc2hpcCk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTXVsdGlUYWJNYW5hZ2VySW1wbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMua2luZCA9IFwiUGVyc2lzdGVudE11bHRpcGxlVGFiXCI7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6IHRoaXMua2luZFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi8gICAgX2luaXRpYWxpemUoZSkge1xuICAgICAgICB0aGlzLl9vbmxpbmVDb21wb25lbnRQcm92aWRlciA9IG5ldyBPbmxpbmVDb21wb25lbnRQcm92aWRlciwgdGhpcy5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IF9fUFJJVkFURV9NdWx0aVRhYk9mZmxpbmVDb21wb25lbnRQcm92aWRlcih0aGlzLl9vbmxpbmVDb21wb25lbnRQcm92aWRlciwgbnVsbCA9PSBlID8gdm9pZCAwIDogZS5jYWNoZVNpemVCeXRlcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYFBlcnNpc3RlbnRTaW5nbGVUYWJNYW5hZ2VyYC5cbiAqXG4gKiBAcGFyYW0gc2V0dGluZ3MgQ29uZmlndXJlcyB0aGUgY3JlYXRlZCB0YWIgbWFuYWdlci5cbiAqLyBmdW5jdGlvbiBwZXJzaXN0ZW50U2luZ2xlVGFiTWFuYWdlcihlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfU2luZ2xlVGFiTWFuYWdlckltcGwobnVsbCA9PSBlID8gdm9pZCAwIDogZS5mb3JjZU93bmVyc2hpcCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBgUGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlcmAuXG4gKi8gZnVuY3Rpb24gcGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlcigpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NdWx0aVRhYk1hbmFnZXJJbXBsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBEZSA9IHtcbiAgICBtYXhBdHRlbXB0czogNVxufTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSB3cml0ZSBiYXRjaCwgdXNlZCB0byBwZXJmb3JtIG11bHRpcGxlIHdyaXRlcyBhcyBhIHNpbmdsZSBhdG9taWMgdW5pdC5cbiAqXG4gKiBBIGBXcml0ZUJhdGNoYCBvYmplY3QgY2FuIGJlIGFjcXVpcmVkIGJ5IGNhbGxpbmcge0BsaW5rIHdyaXRlQmF0Y2h9LiBJdFxuICogcHJvdmlkZXMgbWV0aG9kcyBmb3IgYWRkaW5nIHdyaXRlcyB0byB0aGUgd3JpdGUgYmF0Y2guIE5vbmUgb2YgdGhlIHdyaXRlc1xuICogd2lsbCBiZSBjb21taXR0ZWQgKG9yIHZpc2libGUgbG9jYWxseSkgdW50aWwge0BsaW5rIFdyaXRlQmF0Y2guY29tbWl0fSBpc1xuICogY2FsbGVkLlxuICovXG5jbGFzcyBXcml0ZUJhdGNoIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5fZmlyZXN0b3JlID0gZSwgdGhpcy5fY29tbWl0SGFuZGxlciA9IHQsIHRoaXMuX211dGF0aW9ucyA9IFtdLCB0aGlzLl9jb21taXR0ZWQgPSAhMSwgXG4gICAgICAgIHRoaXMuX2RhdGFSZWFkZXIgPSBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoZSk7XG4gICAgfVxuICAgIHNldChlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpO1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHRoaXMuX2ZpcmVzdG9yZSksIGkgPSBfX1BSSVZBVEVfYXBwbHlGaXJlc3RvcmVEYXRhQ29udmVydGVyKHIuY29udmVydGVyLCB0LCBuKSwgcyA9IF9fUFJJVkFURV9wYXJzZVNldERhdGEodGhpcy5fZGF0YVJlYWRlciwgXCJXcml0ZUJhdGNoLnNldFwiLCByLl9rZXksIGksIG51bGwgIT09IHIuY29udmVydGVyLCBuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX211dGF0aW9ucy5wdXNoKHMudG9NdXRhdGlvbihyLl9rZXksIFByZWNvbmRpdGlvbi5ub25lKCkpKSwgdGhpcztcbiAgICB9XG4gICAgdXBkYXRlKGUsIHQsIG4sIC4uLnIpIHtcbiAgICAgICAgdGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCk7XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgLy8gRm9yIENvbXBhdCB0eXBlcywgd2UgaGF2ZSB0byBcImV4dHJhY3RcIiB0aGUgdW5kZXJseWluZyB0eXBlcyBiZWZvcmVcbiAgICAgICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIGxldCBzO1xuICAgICAgICByZXR1cm4gcyA9IFwic3RyaW5nXCIgPT0gdHlwZW9mICh0ID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UodCkpIHx8IHQgaW5zdGFuY2VvZiBGaWVsZFBhdGggPyBfX1BSSVZBVEVfcGFyc2VVcGRhdGVWYXJhcmdzKHRoaXMuX2RhdGFSZWFkZXIsIFwiV3JpdGVCYXRjaC51cGRhdGVcIiwgaS5fa2V5LCB0LCBuLCByKSA6IF9fUFJJVkFURV9wYXJzZVVwZGF0ZURhdGEodGhpcy5fZGF0YVJlYWRlciwgXCJXcml0ZUJhdGNoLnVwZGF0ZVwiLCBpLl9rZXksIHQpLCBcbiAgICAgICAgdGhpcy5fbXV0YXRpb25zLnB1c2gocy50b011dGF0aW9uKGkuX2tleSwgUHJlY29uZGl0aW9uLmV4aXN0cyghMCkpKSwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgZG9jdW1lbnQgcmVmZXJyZWQgdG8gYnkgdGhlIHByb3ZpZGVkIHtAbGluayBEb2N1bWVudFJlZmVyZW5jZX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRSZWYgLSBBIHJlZmVyZW5jZSB0byB0aGUgZG9jdW1lbnQgdG8gYmUgZGVsZXRlZC5cbiAgICAgKiBAcmV0dXJucyBUaGlzIGBXcml0ZUJhdGNoYCBpbnN0YW5jZS4gVXNlZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqLyAgICBkZWxldGUoZSkge1xuICAgICAgICB0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKTtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fbXV0YXRpb25zID0gdGhpcy5fbXV0YXRpb25zLmNvbmNhdChuZXcgX19QUklWQVRFX0RlbGV0ZU11dGF0aW9uKHQuX2tleSwgUHJlY29uZGl0aW9uLm5vbmUoKSkpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tbWl0cyBhbGwgb2YgdGhlIHdyaXRlcyBpbiB0aGlzIHdyaXRlIGJhdGNoIGFzIGEgc2luZ2xlIGF0b21pYyB1bml0LlxuICAgICAqXG4gICAgICogVGhlIHJlc3VsdCBvZiB0aGVzZSB3cml0ZXMgd2lsbCBvbmx5IGJlIHJlZmxlY3RlZCBpbiBkb2N1bWVudCByZWFkcyB0aGF0XG4gICAgICogb2NjdXIgYWZ0ZXIgdGhlIHJldHVybmVkIHByb21pc2UgcmVzb2x2ZXMuIElmIHRoZSBjbGllbnQgaXMgb2ZmbGluZSwgdGhlXG4gICAgICogd3JpdGUgZmFpbHMuIElmIHlvdSB3b3VsZCBsaWtlIHRvIHNlZSBsb2NhbCBtb2RpZmljYXRpb25zIG9yIGJ1ZmZlciB3cml0ZXNcbiAgICAgKiB1bnRpbCB0aGUgY2xpZW50IGlzIG9ubGluZSwgdXNlIHRoZSBmdWxsIEZpcmVzdG9yZSBTREsuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGBQcm9taXNlYCByZXNvbHZlZCBvbmNlIGFsbCBvZiB0aGUgd3JpdGVzIGluIHRoZSBiYXRjaCBoYXZlIGJlZW5cbiAgICAgKiBzdWNjZXNzZnVsbHkgd3JpdHRlbiB0byB0aGUgYmFja2VuZCBhcyBhbiBhdG9taWMgdW5pdCAobm90ZSB0aGF0IGl0IHdvbid0XG4gICAgICogcmVzb2x2ZSB3aGlsZSB5b3UncmUgb2ZmbGluZSkuXG4gICAgICovICAgIGNvbW1pdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpLCB0aGlzLl9jb21taXR0ZWQgPSAhMCwgdGhpcy5fbXV0YXRpb25zLmxlbmd0aCA+IDAgPyB0aGlzLl9jb21taXRIYW5kbGVyKHRoaXMuX211dGF0aW9ucykgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgX3ZlcmlmeU5vdENvbW1pdHRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbW1pdHRlZCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJBIHdyaXRlIGJhdGNoIGNhbiBubyBsb25nZXIgYmUgdXNlZCBhZnRlciBjb21taXQoKSBoYXMgYmVlbiBjYWxsZWQuXCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHQpIHtcbiAgICBpZiAoKGUgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShlKSkuZmlyZXN0b3JlICE9PSB0KSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlByb3ZpZGVkIGRvY3VtZW50IHJlZmVyZW5jZSBpcyBmcm9tIGEgZGlmZmVyZW50IEZpcmVzdG9yZSBpbnN0YW5jZS5cIik7XG4gICAgcmV0dXJuIGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBUT0RPKG1yc2NobWlkdCkgQ29uc2lkZXIgdXNpbmcgYEJhc2VUcmFuc2FjdGlvbmAgYXMgdGhlIGJhc2UgY2xhc3MgaW4gdGhlXG4vLyBsZWdhY3kgU0RLLlxuLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBhIHRyYW5zYWN0aW9uLlxuICpcbiAqIFRoZSBgVHJhbnNhY3Rpb25gIG9iamVjdCBwYXNzZWQgdG8gYSB0cmFuc2FjdGlvbidzIGB1cGRhdGVGdW5jdGlvbmAgcHJvdmlkZXNcbiAqIHRoZSBtZXRob2RzIHRvIHJlYWQgYW5kIHdyaXRlIGRhdGEgd2l0aGluIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0LiBTZWVcbiAqIHtAbGluayBydW5UcmFuc2FjdGlvbn0uXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGEgdHJhbnNhY3Rpb24uXG4gKlxuICogVGhlIGBUcmFuc2FjdGlvbmAgb2JqZWN0IHBhc3NlZCB0byBhIHRyYW5zYWN0aW9uJ3MgYHVwZGF0ZUZ1bmN0aW9uYCBwcm92aWRlc1xuICogdGhlIG1ldGhvZHMgdG8gcmVhZCBhbmQgd3JpdGUgZGF0YSB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uIGNvbnRleHQuIFNlZVxuICoge0BsaW5rIHJ1blRyYW5zYWN0aW9ufS5cbiAqL1xuY2xhc3MgVHJhbnNhY3Rpb24gZXh0ZW5kcyBjbGFzcyBUcmFuc2FjdGlvbiQxIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5fZmlyZXN0b3JlID0gZSwgdGhpcy5fdHJhbnNhY3Rpb24gPSB0LCB0aGlzLl9kYXRhUmVhZGVyID0gX19QUklWQVRFX25ld1VzZXJEYXRhUmVhZGVyKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJlbmNlZCBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSByZWFkLlxuICAgICAqIEByZXR1cm5zIEEgYERvY3VtZW50U25hcHNob3RgIHdpdGggdGhlIHJlYWQgZGF0YS5cbiAgICAgKi8gICAgZ2V0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpLCBuID0gbmV3IF9fUFJJVkFURV9MaXRlVXNlckRhdGFXcml0ZXIodGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmxvb2t1cChbIHQuX2tleSBdKS50aGVuKChlID0+IHtcbiAgICAgICAgICAgIGlmICghZSB8fCAxICE9PSBlLmxlbmd0aCkgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBlWzBdO1xuICAgICAgICAgICAgaWYgKHIuaXNGb3VuZERvY3VtZW50KCkpIHJldHVybiBuZXcgRG9jdW1lbnRTbmFwc2hvdCQxKHRoaXMuX2ZpcmVzdG9yZSwgbiwgci5rZXksIHIsIHQuY29udmVydGVyKTtcbiAgICAgICAgICAgIGlmIChyLmlzTm9Eb2N1bWVudCgpKSByZXR1cm4gbmV3IERvY3VtZW50U25hcHNob3QkMSh0aGlzLl9maXJlc3RvcmUsIG4sIHQuX2tleSwgbnVsbCwgdC5jb252ZXJ0ZXIpO1xuICAgICAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHNldChlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdGhpcy5fZmlyZXN0b3JlKSwgaSA9IF9fUFJJVkFURV9hcHBseUZpcmVzdG9yZURhdGFDb252ZXJ0ZXIoci5jb252ZXJ0ZXIsIHQsIG4pLCBzID0gX19QUklWQVRFX3BhcnNlU2V0RGF0YSh0aGlzLl9kYXRhUmVhZGVyLCBcIlRyYW5zYWN0aW9uLnNldFwiLCByLl9rZXksIGksIG51bGwgIT09IHIuY29udmVydGVyLCBuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLnNldChyLl9rZXksIHMpLCB0aGlzO1xuICAgIH1cbiAgICB1cGRhdGUoZSwgdCwgbiwgLi4ucikge1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHRoaXMuX2ZpcmVzdG9yZSk7XG4gICAgICAgIC8vIEZvciBDb21wYXQgdHlwZXMsIHdlIGhhdmUgdG8gXCJleHRyYWN0XCIgdGhlIHVuZGVybHlpbmcgdHlwZXMgYmVmb3JlXG4gICAgICAgIC8vIHBlcmZvcm1pbmcgdmFsaWRhdGlvbi5cbiAgICAgICAgICAgICAgICBsZXQgcztcbiAgICAgICAgcmV0dXJuIHMgPSBcInN0cmluZ1wiID09IHR5cGVvZiAodCA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKHQpKSB8fCB0IGluc3RhbmNlb2YgRmllbGRQYXRoID8gX19QUklWQVRFX3BhcnNlVXBkYXRlVmFyYXJncyh0aGlzLl9kYXRhUmVhZGVyLCBcIlRyYW5zYWN0aW9uLnVwZGF0ZVwiLCBpLl9rZXksIHQsIG4sIHIpIDogX19QUklWQVRFX3BhcnNlVXBkYXRlRGF0YSh0aGlzLl9kYXRhUmVhZGVyLCBcIlRyYW5zYWN0aW9uLnVwZGF0ZVwiLCBpLl9rZXksIHQpLCBcbiAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb24udXBkYXRlKGkuX2tleSwgcyksIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIGRvY3VtZW50IHJlZmVycmVkIHRvIGJ5IHRoZSBwcm92aWRlZCB7QGxpbmsgRG9jdW1lbnRSZWZlcmVuY2V9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50UmVmIC0gQSByZWZlcmVuY2UgdG8gdGhlIGRvY3VtZW50IHRvIGJlIGRlbGV0ZWQuXG4gICAgICogQHJldHVybnMgVGhpcyBgVHJhbnNhY3Rpb25gIGluc3RhbmNlLiBVc2VkIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmRlbGV0ZSh0Ll9rZXkpLCB0aGlzO1xuICAgIH1cbn0ge1xuICAgIC8vIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgc2FtZSBsb2dpYyBhcyB0aGUgVHJhbnNhY3Rpb24gQVBJIGluIHRoZSBMaXRlIFNES1xuICAgIC8vIGJ1dCBpcyBzdWJjbGFzc2VkIGluIG9yZGVyIHRvIHJldHVybiBpdHMgb3duIERvY3VtZW50U25hcHNob3QgdHlwZXMuXG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIHQpLCB0aGlzLl9maXJlc3RvcmUgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJlbmNlZCBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSByZWFkLlxuICAgICAqIEByZXR1cm5zIEEgYERvY3VtZW50U25hcHNob3RgIHdpdGggdGhlIHJlYWQgZGF0YS5cbiAgICAgKi8gICAgZ2V0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpLCBuID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih0aGlzLl9maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGUpLnRoZW4oKGUgPT4gbmV3IERvY3VtZW50U25hcHNob3QodGhpcy5fZmlyZXN0b3JlLCBuLCB0Ll9rZXksIGUuX2RvY3VtZW50LCBuZXcgU25hcHNob3RNZXRhZGF0YShcbiAgICAgICAgLyogaGFzUGVuZGluZ1dyaXRlcz0gKi8gITEsIFxuICAgICAgICAvKiBmcm9tQ2FjaGU9ICovICExKSwgdC5jb252ZXJ0ZXIpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBnaXZlbiBgdXBkYXRlRnVuY3Rpb25gIGFuZCB0aGVuIGF0dGVtcHRzIHRvIGNvbW1pdCB0aGUgY2hhbmdlc1xuICogYXBwbGllZCB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uLiBJZiBhbnkgZG9jdW1lbnQgcmVhZCB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uXG4gKiBoYXMgY2hhbmdlZCwgQ2xvdWQgRmlyZXN0b3JlIHJldHJpZXMgdGhlIGB1cGRhdGVGdW5jdGlvbmAuIElmIGl0IGZhaWxzIHRvXG4gKiBjb21taXQgYWZ0ZXIgNSBhdHRlbXB0cywgdGhlIHRyYW5zYWN0aW9uIGZhaWxzLlxuICpcbiAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB3cml0ZXMgYWxsb3dlZCBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBpcyA1MDAuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBGaXJlc3RvcmUgZGF0YWJhc2UgdG8gcnVuIHRoaXNcbiAqIHRyYW5zYWN0aW9uIGFnYWluc3QuXG4gKiBAcGFyYW0gdXBkYXRlRnVuY3Rpb24gLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uXG4gKiBjb250ZXh0LlxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0byBjb25maWd1cmUgbWF4aW11bSBudW1iZXIgb2YgYXR0ZW1wdHMgdG9cbiAqIGNvbW1pdC5cbiAqIEByZXR1cm5zIElmIHRoZSB0cmFuc2FjdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IG9yIHdhcyBleHBsaWNpdGx5IGFib3J0ZWRcbiAqICh0aGUgYHVwZGF0ZUZ1bmN0aW9uYCByZXR1cm5lZCBhIGZhaWxlZCBwcm9taXNlKSwgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlXG4gKiBgdXBkYXRlRnVuY3Rpb24gYGlzIHJldHVybmVkIGhlcmUuIE90aGVyd2lzZSwgaWYgdGhlIHRyYW5zYWN0aW9uIGZhaWxlZCwgYVxuICogcmVqZWN0ZWQgcHJvbWlzZSB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGZhaWx1cmUgZXJyb3IgaXMgcmV0dXJuZWQuXG4gKi8gZnVuY3Rpb24gcnVuVHJhbnNhY3Rpb24oZSwgdCwgbikge1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpO1xuICAgIGNvbnN0IHIgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERlKSwgbik7XG4gICAgIWZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZVRyYW5zYWN0aW9uT3B0aW9ucyhlKSB7XG4gICAgICAgIGlmIChlLm1heEF0dGVtcHRzIDwgMSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJNYXggYXR0ZW1wdHMgbXVzdCBiZSBhdCBsZWFzdCAxXCIpO1xuICAgIH0ocik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRUcmFuc2FjdGlvbihlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgICAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBhd2FpdCBfX1BSSVZBVEVfZ2V0RGF0YXN0b3JlKGUpO1xuICAgICAgICAgICAgbmV3IF9fUFJJVkFURV9UcmFuc2FjdGlvblJ1bm5lcihlLmFzeW5jUXVldWUsIGksIG4sIHQsIHIpLlhhKCk7XG4gICAgICAgIH0pKSwgci5wcm9taXNlO1xuICAgIH0oZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlKSwgKG4gPT4gdChuZXcgVHJhbnNhY3Rpb24oZSwgbikpKSwgcik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJldHVybnMgYSBzZW50aW5lbCBmb3IgdXNlIHdpdGgge0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSModXBkYXRlRG9jOjEpfSBvclxuICoge0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSMoc2V0RG9jOjEpfSB3aXRoIGB7bWVyZ2U6IHRydWV9YCB0byBtYXJrIGEgZmllbGQgZm9yIGRlbGV0aW9uLlxuICovIGZ1bmN0aW9uIGRlbGV0ZUZpZWxkKCkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX0RlbGV0ZUZpZWxkVmFsdWVJbXBsKFwiZGVsZXRlRmllbGRcIik7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNlbnRpbmVsIHVzZWQgd2l0aCB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyhzZXREb2M6MSl9IG9yIHtAbGluayBAZmlyZWJhc2UvZmlyZXN0b3JlL2xpdGUjKHVwZGF0ZURvYzoxKX0gdG9cbiAqIGluY2x1ZGUgYSBzZXJ2ZXItZ2VuZXJhdGVkIHRpbWVzdGFtcCBpbiB0aGUgd3JpdHRlbiBkYXRhLlxuICovIGZ1bmN0aW9uIHNlcnZlclRpbWVzdGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBGaWVsZFZhbHVlSW1wbChcInNlcnZlclRpbWVzdGFtcFwiKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3BlY2lhbCB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHdpdGgge0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSMoc2V0RG9jOjEpfSBvciB7QGxpbmtcbiAqIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSModXBkYXRlRG9jOjEpfSB0aGF0IHRlbGxzIHRoZSBzZXJ2ZXIgdG8gdW5pb24gdGhlIGdpdmVuIGVsZW1lbnRzIHdpdGggYW55IGFycmF5XG4gKiB2YWx1ZSB0aGF0IGFscmVhZHkgZXhpc3RzIG9uIHRoZSBzZXJ2ZXIuIEVhY2ggc3BlY2lmaWVkIGVsZW1lbnQgdGhhdCBkb2Vzbid0XG4gKiBhbHJlYWR5IGV4aXN0IGluIHRoZSBhcnJheSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbmQuIElmIHRoZSBmaWVsZCBiZWluZ1xuICogbW9kaWZpZWQgaXMgbm90IGFscmVhZHkgYW4gYXJyYXkgaXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIGFuIGFycmF5XG4gKiBjb250YWluaW5nIGV4YWN0bHkgdGhlIHNwZWNpZmllZCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudHMgLSBUaGUgZWxlbWVudHMgdG8gdW5pb24gaW50byB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGUgYEZpZWxkVmFsdWVgIHNlbnRpbmVsIGZvciB1c2UgaW4gYSBjYWxsIHRvIGBzZXREb2MoKWAgb3JcbiAqIGB1cGRhdGVEb2MoKWAuXG4gKi8gZnVuY3Rpb24gYXJyYXlVbmlvbiguLi5lKSB7XG4gICAgLy8gTk9URTogV2UgZG9uJ3QgYWN0dWFsbHkgcGFyc2UgdGhlIGRhdGEgdW50aWwgaXQncyB1c2VkIGluIHNldCgpIG9yXG4gICAgLy8gdXBkYXRlKCkgc2luY2Ugd2UnZCBuZWVkIHRoZSBGaXJlc3RvcmUgaW5zdGFuY2UgdG8gZG8gdGhpcy5cbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9BcnJheVVuaW9uRmllbGRWYWx1ZUltcGwoXCJhcnJheVVuaW9uXCIsIGUpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzcGVjaWFsIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB7QGxpbmsgKHNldERvYzoxKX0gb3Ige0BsaW5rXG4gKiB1cGRhdGVEb2M6MX0gdGhhdCB0ZWxscyB0aGUgc2VydmVyIHRvIHJlbW92ZSB0aGUgZ2l2ZW4gZWxlbWVudHMgZnJvbSBhbnlcbiAqIGFycmF5IHZhbHVlIHRoYXQgYWxyZWFkeSBleGlzdHMgb24gdGhlIHNlcnZlci4gQWxsIGluc3RhbmNlcyBvZiBlYWNoIGVsZW1lbnRcbiAqIHNwZWNpZmllZCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgYXJyYXkuIElmIHRoZSBmaWVsZCBiZWluZyBtb2RpZmllZCBpcyBub3RcbiAqIGFscmVhZHkgYW4gYXJyYXkgaXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIGFuIGVtcHR5IGFycmF5LlxuICpcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byByZW1vdmUgZnJvbSB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGUgYEZpZWxkVmFsdWVgIHNlbnRpbmVsIGZvciB1c2UgaW4gYSBjYWxsIHRvIGBzZXREb2MoKWAgb3JcbiAqIGB1cGRhdGVEb2MoKWBcbiAqLyBmdW5jdGlvbiBhcnJheVJlbW92ZSguLi5lKSB7XG4gICAgLy8gTk9URTogV2UgZG9uJ3QgYWN0dWFsbHkgcGFyc2UgdGhlIGRhdGEgdW50aWwgaXQncyB1c2VkIGluIHNldCgpIG9yXG4gICAgLy8gdXBkYXRlKCkgc2luY2Ugd2UnZCBuZWVkIHRoZSBGaXJlc3RvcmUgaW5zdGFuY2UgdG8gZG8gdGhpcy5cbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9BcnJheVJlbW92ZUZpZWxkVmFsdWVJbXBsKFwiYXJyYXlSZW1vdmVcIiwgZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNwZWNpYWwgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHtAbGluayBAZmlyZWJhc2UvZmlyZXN0b3JlL2xpdGUjKHNldERvYzoxKX0gb3Ige0BsaW5rXG4gKiBAZmlyZWJhc2UvZmlyZXN0b3JlL2xpdGUjKHVwZGF0ZURvYzoxKX0gdGhhdCB0ZWxscyB0aGUgc2VydmVyIHRvIGluY3JlbWVudCB0aGUgZmllbGQncyBjdXJyZW50IHZhbHVlIGJ5XG4gKiB0aGUgZ2l2ZW4gdmFsdWUuXG4gKlxuICogSWYgZWl0aGVyIHRoZSBvcGVyYW5kIG9yIHRoZSBjdXJyZW50IGZpZWxkIHZhbHVlIHVzZXMgZmxvYXRpbmcgcG9pbnRcbiAqIHByZWNpc2lvbiwgYWxsIGFyaXRobWV0aWMgZm9sbG93cyBJRUVFIDc1NCBzZW1hbnRpY3MuIElmIGJvdGggdmFsdWVzIGFyZVxuICogaW50ZWdlcnMsIHZhbHVlcyBvdXRzaWRlIG9mIEphdmFTY3JpcHQncyBzYWZlIG51bWJlciByYW5nZVxuICogKGBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUmAgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYCkgYXJlIGFsc28gc3ViamVjdCB0b1xuICogcHJlY2lzaW9uIGxvc3MuIEZ1cnRoZXJtb3JlLCBvbmNlIHByb2Nlc3NlZCBieSB0aGUgRmlyZXN0b3JlIGJhY2tlbmQsIGFsbFxuICogaW50ZWdlciBvcGVyYXRpb25zIGFyZSBjYXBwZWQgYmV0d2VlbiAtMl42MyBhbmQgMl42My0xLlxuICpcbiAqIElmIHRoZSBjdXJyZW50IGZpZWxkIHZhbHVlIGlzIG5vdCBvZiB0eXBlIGBudW1iZXJgLCBvciBpZiB0aGUgZmllbGQgZG9lcyBub3RcbiAqIHlldCBleGlzdCwgdGhlIHRyYW5zZm9ybWF0aW9uIHNldHMgdGhlIGZpZWxkIHRvIHRoZSBnaXZlbiB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbiAtIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgYnkuXG4gKiBAcmV0dXJucyBUaGUgYEZpZWxkVmFsdWVgIHNlbnRpbmVsIGZvciB1c2UgaW4gYSBjYWxsIHRvIGBzZXREb2MoKWAgb3JcbiAqIGB1cGRhdGVEb2MoKWBcbiAqLyBmdW5jdGlvbiBpbmNyZW1lbnQoZSkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRGaWVsZFZhbHVlSW1wbChcImluY3JlbWVudFwiLCBlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIHdyaXRlIGJhdGNoLCB1c2VkIGZvciBwZXJmb3JtaW5nIG11bHRpcGxlIHdyaXRlcyBhcyBhIHNpbmdsZVxuICogYXRvbWljIG9wZXJhdGlvbi4gVGhlIG1heGltdW0gbnVtYmVyIG9mIHdyaXRlcyBhbGxvd2VkIGluIGEgc2luZ2xlIHtAbGluayBXcml0ZUJhdGNofVxuICogaXMgNTAwLlxuICpcbiAqIFVubGlrZSB0cmFuc2FjdGlvbnMsIHdyaXRlIGJhdGNoZXMgYXJlIHBlcnNpc3RlZCBvZmZsaW5lIGFuZCB0aGVyZWZvcmUgYXJlXG4gKiBwcmVmZXJhYmxlIHdoZW4geW91IGRvbid0IG5lZWQgdG8gY29uZGl0aW9uIHlvdXIgd3JpdGVzIG9uIHJlYWQgZGF0YS5cbiAqXG4gKiBAcmV0dXJucyBBIHtAbGluayBXcml0ZUJhdGNofSB0aGF0IGNhbiBiZSB1c2VkIHRvIGF0b21pY2FsbHkgZXhlY3V0ZSBtdWx0aXBsZVxuICogd3JpdGVzLlxuICovIGZ1bmN0aW9uIHdyaXRlQmF0Y2goZSkge1xuICAgIHJldHVybiBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKSwgbmV3IFdyaXRlQmF0Y2goZSwgKHQgPT4gZXhlY3V0ZVdyaXRlKGUsIHQpKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGZ1bmN0aW9uIHNldEluZGV4Q29uZmlndXJhdGlvbihlLCB0KSB7XG4gICAgdmFyIG47XG4gICAgY29uc3QgciA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpO1xuICAgIGlmICghci5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlciB8fCBcIm1lbW9yeVwiID09PSAobnVsbCA9PT0gKG4gPSByLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyKSB8fCB2b2lkIDAgPT09IG4gPyB2b2lkIDAgOiBuLl9vZmZsaW5lS2luZCkpIFxuICAgIC8vIFBPUlRJTkcgTk9URTogV2UgZG9uJ3QgcmV0dXJuIGFuIGVycm9yIGlmIHRoZSB1c2VyIGhhcyBub3QgZW5hYmxlZFxuICAgIC8vIHBlcnNpc3RlbmNlIHNpbmNlIGBlbmFibGVJbmRleGVkZGJQZXJzaXN0ZW5jZSgpYCBjYW4gZmFpbCBvbiB0aGUgV2ViLlxuICAgIHJldHVybiBfX1BSSVZBVEVfbG9nV2FybihcIkNhbm5vdCBlbmFibGUgaW5kZXhlcyB3aGVuIHBlcnNpc3RlbmNlIGlzIGRpc2FibGVkXCIpLCBcbiAgICBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBjb25zdCBpID0gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlSW5kZXhlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBcInN0cmluZ1wiID09IHR5cGVvZiBlID8gZnVuY3Rpb24gX19QUklWQVRFX3RyeVBhcnNlSnNvbihlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiRmFpbGVkIHRvIHBhcnNlIEpTT046IFwiICsgKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUubWVzc2FnZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KGUpIDogZSwgbiA9IFtdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0LmluZGV4ZXMpKSBmb3IgKGNvbnN0IGUgb2YgdC5pbmRleGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3RyeUdldFN0cmluZyhlLCBcImNvbGxlY3Rpb25Hcm91cFwiKSwgciA9IFtdO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZS5maWVsZHMpKSBmb3IgKGNvbnN0IHQgb2YgZS5maWVsZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoXCJzZXRJbmRleENvbmZpZ3VyYXRpb25cIiwgX19QUklWQVRFX3RyeUdldFN0cmluZyh0LCBcImZpZWxkUGF0aFwiKSk7XG4gICAgICAgICAgICAgICAgXCJDT05UQUlOU1wiID09PSB0LmFycmF5Q29uZmlnID8gci5wdXNoKG5ldyBJbmRleFNlZ21lbnQoZSwgMiAvKiBJbmRleEtpbmQuQ09OVEFJTlMgKi8pKSA6IFwiQVNDRU5ESU5HXCIgPT09IHQub3JkZXIgPyByLnB1c2gobmV3IEluZGV4U2VnbWVudChlLCAwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8pKSA6IFwiREVTQ0VORElOR1wiID09PSB0Lm9yZGVyICYmIHIucHVzaChuZXcgSW5kZXhTZWdtZW50KGUsIDEgLyogSW5kZXhLaW5kLkRFU0NFTkRJTkcgKi8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4ucHVzaChuZXcgRmllbGRJbmRleChGaWVsZEluZGV4LlVOS05PV05fSUQsIHQsIHIsIEluZGV4U3RhdGUuZW1wdHkoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH0odCk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRTZXRJbmRleENvbmZpZ3VyYXRpb24ociwgaSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90cnlHZXRTdHJpbmcoZSwgdCkge1xuICAgIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBlW3RdKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIk1pc3Npbmcgc3RyaW5nIHZhbHVlIGZvcjogXCIgKyB0KTtcbiAgICByZXR1cm4gZVt0XTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBgUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyYCBmb3IgY29uZmlndXJpbmcgcGVyc2lzdGVudCBjYWNoZSBpbmRleGVzIHVzZWRcbiAqIGZvciBsb2NhbCBxdWVyeSBleGVjdXRpb24uXG4gKlxuICogVG8gdXNlLCBjYWxsIGBnZXRQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXIoKWAgdG8gZ2V0IGFuIGluc3RhbmNlLlxuICovIGNsYXNzIFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlciB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuX2NsaWVudCA9IGUsIFxuICAgICAgICAvKiogQSB0eXBlIHN0cmluZyB0byB1bmlxdWVseSBpZGVudGlmeSBpbnN0YW5jZXMgb2YgdGhpcyBjbGFzcy4gKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXJcIjtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgUGVyc2lzdGVudENhY2hlIEluZGV4IE1hbmFnZXIgdXNlZCBieSB0aGUgZ2l2ZW4gYEZpcmVzdG9yZWBcbiAqIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIFRoZSBgUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyYCBpbnN0YW5jZSwgb3IgYG51bGxgIGlmIGxvY2FsXG4gKiBwZXJzaXN0ZW50IHN0b3JhZ2UgaXMgbm90IGluIHVzZS5cbiAqLyBmdW5jdGlvbiBnZXRQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXIoZSkge1xuICAgIHZhciB0O1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpO1xuICAgIGNvbnN0IG4gPSBDZS5nZXQoZSk7XG4gICAgaWYgKG4pIHJldHVybiBuO1xuICAgIGNvbnN0IHIgPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUpO1xuICAgIGlmIChcInBlcnNpc3RlbnRcIiAhPT0gKG51bGwgPT09ICh0ID0gci5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlcikgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5fb2ZmbGluZUtpbmQpKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpID0gbmV3IFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlcihyKTtcbiAgICByZXR1cm4gQ2Uuc2V0KGUsIGkpLCBpO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgdGhlIFNESyB0byBjcmVhdGUgcGVyc2lzdGVudCBjYWNoZSBpbmRleGVzIGF1dG9tYXRpY2FsbHkgZm9yIGxvY2FsXG4gKiBxdWVyeSBleGVjdXRpb24gd2hlbiB0aGUgU0RLIGJlbGlldmVzIGNhY2hlIGluZGV4ZXMgY2FuIGhlbHAgaW1wcm92ZVxuICogcGVyZm9ybWFuY2UuXG4gKlxuICogVGhpcyBmZWF0dXJlIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gKi8gZnVuY3Rpb24gZW5hYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb24oZSkge1xuICAgIF9fUFJJVkFURV9zZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZSwgITApO1xufVxuXG4vKipcbiAqIFN0b3BzIGNyZWF0aW5nIHBlcnNpc3RlbnQgY2FjaGUgaW5kZXhlcyBhdXRvbWF0aWNhbGx5IGZvciBsb2NhbCBxdWVyeVxuICogZXhlY3V0aW9uLiBUaGUgaW5kZXhlcyB3aGljaCBoYXZlIGJlZW4gY3JlYXRlZCBieSBjYWxsaW5nXG4gKiBgZW5hYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb24oKWAgc3RpbGwgdGFrZSBlZmZlY3QuXG4gKi8gZnVuY3Rpb24gZGlzYWJsZVBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uKGUpIHtcbiAgICBfX1BSSVZBVEVfc2V0UGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb25FbmFibGVkKGUsICExKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBwZXJzaXN0ZW50IGNhY2hlIGluZGV4ZXMuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhpcyBmdW5jdGlvbiB3aWxsIGFsc28gZGVsZXRlcyBpbmRleGVzIGdlbmVyYXRlZCBieVxuICogYHNldEluZGV4Q29uZmlndXJhdGlvbigpYCwgd2hpY2ggaXMgZGVwcmVjYXRlZC5cbiAqLyBmdW5jdGlvbiBkZWxldGVBbGxQZXJzaXN0ZW50Q2FjaGVJbmRleGVzKGUpIHtcbiAgICBlLl9jbGllbnQudmVyaWZ5Tm90VGVybWluYXRlZCgpO1xuICAgIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnREZWxldGVBbGxGaWVsZEluZGV4ZXMoZS5fY2xpZW50KS50aGVuKChlID0+IF9fUFJJVkFURV9sb2dEZWJ1ZyhcImRlbGV0aW5nIGFsbCBwZXJzaXN0ZW50IGNhY2hlIGluZGV4ZXMgc3VjY2VlZGVkXCIpKSkuY2F0Y2goKGUgPT4gX19QUklWQVRFX2xvZ1dhcm4oXCJkZWxldGluZyBhbGwgcGVyc2lzdGVudCBjYWNoZSBpbmRleGVzIGZhaWxlZFwiLCBlKSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfc2V0UGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb25FbmFibGVkKGUsIHQpIHtcbiAgICBlLl9jbGllbnQudmVyaWZ5Tm90VGVybWluYXRlZCgpO1xuICAgIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRTZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZS5fY2xpZW50LCB0KS50aGVuKChlID0+IF9fUFJJVkFURV9sb2dEZWJ1Zyhgc2V0dGluZyBwZXJzaXN0ZW50IGNhY2hlIGluZGV4IGF1dG8gY3JlYXRpb24gaXNFbmFibGVkPSR7dH0gc3VjY2VlZGVkYCkpKS5jYXRjaCgoZSA9PiBfX1BSSVZBVEVfbG9nV2Fybihgc2V0dGluZyBwZXJzaXN0ZW50IGNhY2hlIGluZGV4IGF1dG8gY3JlYXRpb24gaXNFbmFibGVkPSR7dH0gZmFpbGVkYCwgZSkpKTtcbn1cblxuLyoqXG4gKiBNYXBzIGBGaXJlc3RvcmVgIGluc3RhbmNlcyB0byB0aGVpciBjb3JyZXNwb25kaW5nXG4gKiBgUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyYCBpbnN0YW5jZXMuXG4gKlxuICogVXNlIGEgYFdlYWtNYXBgIHNvIHRoYXQgdGhlIG1hcHBpbmcgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRyb3BwZWQgd2hlbiB0aGVcbiAqIGBGaXJlc3RvcmVgIGluc3RhbmNlIGlzIGdhcmJhZ2UgY29sbGVjdGVkLiBUaGlzIGVtdWxhdGVzIGEgcHJpdmF0ZSBtZW1iZXJcbiAqIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL2dvby5nbGUvNDU0eXZ1Zy5cbiAqLyBjb25zdCBDZSA9IG5ldyBXZWFrTWFwO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBwcml2YXRlXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBmb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG4gKlxuICogUmV0dXJucyB0aGUgYFF1ZXJ5VGFyZ2V0YCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gcXVlcnkuIFJldHVybnMgYG51bGxgXG4gKiBpZiB0aGUgRmlyZXN0b3JlIGNsaWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHF1ZXJ5IGhhcyBub3QgYmVlblxuICogaW5pdGlhbGl6ZWQgb3IgaGFzIGJlZW4gdGVybWluYXRlZC5cbiAqXG4gKiBAcGFyYW0gcXVlcnkgLSBUaGUgUXVlcnkgdG8gY29udmVydCB0byBwcm90byByZXByZXNlbnRhdGlvbi5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIF9pbnRlcm5hbFF1ZXJ5VG9Qcm90b1F1ZXJ5VGFyZ2V0KGUpIHtcbiAgICB2YXIgdDtcbiAgICBjb25zdCBuID0gbnVsbCA9PT0gKHQgPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpKS5fb25saW5lQ29tcG9uZW50cykgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5kYXRhc3RvcmUuc2VyaWFsaXplcjtcbiAgICByZXR1cm4gdm9pZCAwID09PSBuID8gbnVsbCA6IF9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0KG4sIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KGUuX3F1ZXJ5KSkuX3Q7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBAcHJpdmF0ZVxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICpcbiAqIFJldHVybnMgYFJ1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0YCB3aGljaCBjb250YWlucyB0aGUgcHJvdG8gcmVwcmVzZW50YXRpb25cbiAqIG9mIHRoZSBnaXZlbiBhZ2dyZWdhdGlvbiBxdWVyeSByZXF1ZXN0LiBSZXR1cm5zIG51bGwgaWYgdGhlIEZpcmVzdG9yZSBjbGllbnRcbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcXVlcnkgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIG9yIGhhcyBiZWVuXG4gKiB0ZXJtaW5hdGVkLlxuICpcbiAqIEBwYXJhbSBxdWVyeSAtIFRoZSBRdWVyeSB0byBjb252ZXJ0IHRvIHByb3RvIHJlcHJlc2VudGF0aW9uLlxuICogQHBhcmFtIGFnZ3JlZ2F0ZVNwZWMgLSBUaGUgc2V0IG9mIGFnZ3JlZ2F0aW9ucyBhbmQgdGhlaXIgYWxpYXNlcy5cbiAqLyBmdW5jdGlvbiBfaW50ZXJuYWxBZ2dyZWdhdGlvblF1ZXJ5VG9Qcm90b1J1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0KGUsIHQpIHtcbiAgICB2YXIgbjtcbiAgICBjb25zdCByID0gX19QUklWQVRFX21hcFRvQXJyYXkodCwgKChlLCB0KSA9PiBuZXcgX19QUklWQVRFX0FnZ3JlZ2F0ZUltcGwodCwgZS5hZ2dyZWdhdGVUeXBlLCBlLl9pbnRlcm5hbEZpZWxkUGF0aCkpKSwgaSA9IG51bGwgPT09IChuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSkuX29ubGluZUNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4uZGF0YXN0b3JlLnNlcmlhbGl6ZXI7XG4gICAgcmV0dXJuIHZvaWQgMCA9PT0gaSA/IG51bGwgOiBfX1BSSVZBVEVfdG9SdW5BZ2dyZWdhdGlvblF1ZXJ5UmVxdWVzdChpLCBfX1BSSVZBVEVfcXVlcnlUb0FnZ3JlZ2F0ZVRhcmdldChlLl9xdWVyeSksIHIsIFxuICAgIC8qIHNraXBBbGlhc2luZz0gKi8gITApLnJlcXVlc3Q7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRlc3RpbmcgaG9va3MgZm9yIHVzZSBieSBGaXJlc3RvcmUncyBpbnRlZ3JhdGlvbiB0ZXN0IHN1aXRlIHRvIHJlYWNoIGludG8gdGhlXG4gKiBTREsgaW50ZXJuYWxzIHRvIHZhbGlkYXRlIGxvZ2ljIGFuZCBiZWhhdmlvciB0aGF0IGlzIG5vdCB2aXNpYmxlIGZyb20gdGhlXG4gKiBwdWJsaWMgQVBJIHN1cmZhY2UuXG4gKlxuICogQGludGVybmFsXG4gKi8gY2xhc3MgVGVzdGluZ0hvb2tzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW5zdGFuY2VzIG9mIHRoaXMgY2xhc3Mgc2hvdWxkIG5vdCBiZSBjcmVhdGVkXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBub3RpZmllZCB3aGVuIGFuIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2hcbiAgICAgKiBvY2N1cnMgaW4gdGhlIFdhdGNoIGxpc3RlbiBzdHJlYW0uXG4gICAgICpcbiAgICAgKiBUaGUgcmVsYXRpdmUgb3JkZXIgaW4gd2hpY2ggY2FsbGJhY2tzIGFyZSBub3RpZmllZCBpcyB1bnNwZWNpZmllZDsgZG8gbm90XG4gICAgICogcmVseSBvbiBhbnkgcGFydGljdWxhciBvcmRlcmluZy4gSWYgYSBnaXZlbiBjYWxsYmFjayBpcyByZWdpc3RlcmVkIG11bHRpcGxlXG4gICAgICogdGltZXMgdGhlbiBpdCB3aWxsIGJlIG5vdGlmaWVkIG11bHRpcGxlIHRpbWVzLCBvbmNlIHBlciByZWdpc3RyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHRvIGludm9rZSB1cG9uIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2guXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIHVucmVnaXN0ZXJzIHRoZSBnaXZlbiBjYWxsYmFjazsgb25seVxuICAgICAqIHRoZSBmaXJzdCBpbnZvY2F0aW9uIG9mIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBkb2VzIGFueXRoaW5nOyBhbGwgc3Vic2VxdWVudFxuICAgICAqIGludm9jYXRpb25zIGRvIG5vdGhpbmcuXG4gICAgICovICAgIHN0YXRpYyBvbkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9UZXN0aW5nSG9va3NTcGlJbXBsLmluc3RhbmNlLm9uRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2goZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBpbXBsZW1lbnRhdGlvbiBvZiBgVGVzdGluZ0hvb2tzU3BpYC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfVGVzdGluZ0hvb2tzU3BpSW1wbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuT3UgPSBuZXcgTWFwO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICByZXR1cm4gdmUgfHwgKHZlID0gbmV3IF9fUFJJVkFURV9UZXN0aW5nSG9va3NTcGlJbXBsLCBmdW5jdGlvbiBfX1BSSVZBVEVfc2V0VGVzdGluZ0hvb2tzU3BpKGUpIHtcbiAgICAgICAgICAgIGlmIChoZSkgdGhyb3cgbmV3IEVycm9yKFwiYSBUZXN0aW5nSG9va3NTcGkgaW5zdGFuY2UgaXMgYWxyZWFkeSBzZXRcIik7XG4gICAgICAgICAgICBoZSA9IGU7XG4gICAgICAgIH0odmUpKSwgdmU7XG4gICAgfVxuICAgIGV0KGUpIHtcbiAgICAgICAgdGhpcy5PdS5mb3JFYWNoKCh0ID0+IHQoZSkpKTtcbiAgICB9XG4gICAgb25FeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBTeW1ib2woKSwgbiA9IHRoaXMuT3U7XG4gICAgICAgIHJldHVybiBuLnNldCh0LCBlKSwgKCkgPT4gbi5kZWxldGUodCk7XG4gICAgfVxufVxuXG5sZXQgdmUgPSBudWxsO1xuXG4vKipcbiAqIENsb3VkIEZpcmVzdG9yZVxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovICFmdW5jdGlvbiBfX1BSSVZBVEVfcmVnaXN0ZXJGaXJlc3RvcmUoZSwgdCA9ICEwKSB7XG4gICAgIWZ1bmN0aW9uIF9fUFJJVkFURV9zZXRTREtWZXJzaW9uKGUpIHtcbiAgICAgICAgYiA9IGU7XG4gICAgfShhcHAuU0RLX1ZFUlNJT04pLCBhcHAuX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBjb21wb25lbnQuQ29tcG9uZW50KFwiZmlyZXN0b3JlXCIsICgoZSwge2luc3RhbmNlSWRlbnRpZmllcjogbiwgb3B0aW9uczogcn0pID0+IHtcbiAgICAgICAgY29uc3QgaSA9IGUuZ2V0UHJvdmlkZXIoXCJhcHBcIikuZ2V0SW1tZWRpYXRlKCksIHMgPSBuZXcgRmlyZXN0b3JlKG5ldyBfX1BSSVZBVEVfRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlcihlLmdldFByb3ZpZGVyKFwiYXV0aC1pbnRlcm5hbFwiKSksIG5ldyBfX1BSSVZBVEVfRmlyZWJhc2VBcHBDaGVja1Rva2VuUHJvdmlkZXIoZS5nZXRQcm92aWRlcihcImFwcC1jaGVjay1pbnRlcm5hbFwiKSksIGZ1bmN0aW9uIF9fUFJJVkFURV9kYXRhYmFzZUlkRnJvbUFwcChlLCB0KSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuYXBwbHkoZS5vcHRpb25zLCBbIFwicHJvamVjdElkXCIgXSkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsICdcInByb2plY3RJZFwiIG5vdCBwcm92aWRlZCBpbiBmaXJlYmFzZS5pbml0aWFsaXplQXBwLicpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZUlkKGUub3B0aW9ucy5wcm9qZWN0SWQsIHQpO1xuICAgICAgICB9KGksIG4pLCBpKTtcbiAgICAgICAgcmV0dXJuIHIgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVzZUZldGNoU3RyZWFtczogdFxuICAgICAgICB9LCByKSwgcy5fc2V0U2V0dGluZ3MociksIHM7XG4gICAgfSksIFwiUFVCTElDXCIpLnNldE11bHRpcGxlSW5zdGFuY2VzKCEwKSksIGFwcC5yZWdpc3RlclZlcnNpb24oUywgXCI0LjYuNFwiLCBlKSwgXG4gICAgLy8gQlVJTERfVEFSR0VUIHdpbGwgYmUgcmVwbGFjZWQgYnkgdmFsdWVzIGxpa2UgZXNtNSwgZXNtMjAxNywgY2pzNSwgZXRjIGR1cmluZyB0aGUgY29tcGlsYXRpb25cbiAgICBhcHAucmVnaXN0ZXJWZXJzaW9uKFMsIFwiNC42LjRcIiwgXCJjanMyMDE3XCIpO1xufSgpO1xuXG5leHBvcnRzLkFic3RyYWN0VXNlckRhdGFXcml0ZXIgPSBBYnN0cmFjdFVzZXJEYXRhV3JpdGVyO1xuZXhwb3J0cy5BZ2dyZWdhdGVGaWVsZCA9IEFnZ3JlZ2F0ZUZpZWxkO1xuZXhwb3J0cy5BZ2dyZWdhdGVRdWVyeVNuYXBzaG90ID0gQWdncmVnYXRlUXVlcnlTbmFwc2hvdDtcbmV4cG9ydHMuQnl0ZXMgPSBCeXRlcztcbmV4cG9ydHMuQ0FDSEVfU0laRV9VTkxJTUlURUQgPSB3ZTtcbmV4cG9ydHMuQ29sbGVjdGlvblJlZmVyZW5jZSA9IENvbGxlY3Rpb25SZWZlcmVuY2U7XG5leHBvcnRzLkRvY3VtZW50UmVmZXJlbmNlID0gRG9jdW1lbnRSZWZlcmVuY2U7XG5leHBvcnRzLkRvY3VtZW50U25hcHNob3QgPSBEb2N1bWVudFNuYXBzaG90O1xuZXhwb3J0cy5GaWVsZFBhdGggPSBGaWVsZFBhdGg7XG5leHBvcnRzLkZpZWxkVmFsdWUgPSBGaWVsZFZhbHVlO1xuZXhwb3J0cy5GaXJlc3RvcmUgPSBGaXJlc3RvcmU7XG5leHBvcnRzLkZpcmVzdG9yZUVycm9yID0gRmlyZXN0b3JlRXJyb3I7XG5leHBvcnRzLkdlb1BvaW50ID0gR2VvUG9pbnQ7XG5leHBvcnRzLkxvYWRCdW5kbGVUYXNrID0gTG9hZEJ1bmRsZVRhc2s7XG5leHBvcnRzLlBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlciA9IFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlcjtcbmV4cG9ydHMuUXVlcnkgPSBRdWVyeTtcbmV4cG9ydHMuUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50ID0gUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50O1xuZXhwb3J0cy5RdWVyeUNvbnN0cmFpbnQgPSBRdWVyeUNvbnN0cmFpbnQ7XG5leHBvcnRzLlF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCA9IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDtcbmV4cG9ydHMuUXVlcnlFbmRBdENvbnN0cmFpbnQgPSBRdWVyeUVuZEF0Q29uc3RyYWludDtcbmV4cG9ydHMuUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQgPSBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludDtcbmV4cG9ydHMuUXVlcnlMaW1pdENvbnN0cmFpbnQgPSBRdWVyeUxpbWl0Q29uc3RyYWludDtcbmV4cG9ydHMuUXVlcnlPcmRlckJ5Q29uc3RyYWludCA9IFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnQ7XG5leHBvcnRzLlF1ZXJ5U25hcHNob3QgPSBRdWVyeVNuYXBzaG90O1xuZXhwb3J0cy5RdWVyeVN0YXJ0QXRDb25zdHJhaW50ID0gUXVlcnlTdGFydEF0Q29uc3RyYWludDtcbmV4cG9ydHMuU25hcHNob3RNZXRhZGF0YSA9IFNuYXBzaG90TWV0YWRhdGE7XG5leHBvcnRzLlRpbWVzdGFtcCA9IFRpbWVzdGFtcDtcbmV4cG9ydHMuVHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbjtcbmV4cG9ydHMuV3JpdGVCYXRjaCA9IFdyaXRlQmF0Y2g7XG5leHBvcnRzLl9BdXRvSWQgPSBfX1BSSVZBVEVfQXV0b0lkO1xuZXhwb3J0cy5fQnl0ZVN0cmluZyA9IEJ5dGVTdHJpbmc7XG5leHBvcnRzLl9EYXRhYmFzZUlkID0gRGF0YWJhc2VJZDtcbmV4cG9ydHMuX0RvY3VtZW50S2V5ID0gRG9jdW1lbnRLZXk7XG5leHBvcnRzLl9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlciA9IF9fUFJJVkFURV9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlcjtcbmV4cG9ydHMuX0VtcHR5QXV0aENyZWRlbnRpYWxzUHJvdmlkZXIgPSBfX1BSSVZBVEVfRW1wdHlBdXRoQ3JlZGVudGlhbHNQcm92aWRlcjtcbmV4cG9ydHMuX0ZpZWxkUGF0aCA9IEZpZWxkUGF0aCQxO1xuZXhwb3J0cy5fVGVzdGluZ0hvb2tzID0gVGVzdGluZ0hvb2tzO1xuZXhwb3J0cy5fY2FzdCA9IF9fUFJJVkFURV9jYXN0O1xuZXhwb3J0cy5fZGVidWdBc3NlcnQgPSBfX1BSSVZBVEVfZGVidWdBc3NlcnQ7XG5leHBvcnRzLl9pbnRlcm5hbEFnZ3JlZ2F0aW9uUXVlcnlUb1Byb3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QgPSBfaW50ZXJuYWxBZ2dyZWdhdGlvblF1ZXJ5VG9Qcm90b1J1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0O1xuZXhwb3J0cy5faW50ZXJuYWxRdWVyeVRvUHJvdG9RdWVyeVRhcmdldCA9IF9pbnRlcm5hbFF1ZXJ5VG9Qcm90b1F1ZXJ5VGFyZ2V0O1xuZXhwb3J0cy5faXNCYXNlNjRBdmFpbGFibGUgPSBfX1BSSVZBVEVfaXNCYXNlNjRBdmFpbGFibGU7XG5leHBvcnRzLl9sb2dXYXJuID0gX19QUklWQVRFX2xvZ1dhcm47XG5leHBvcnRzLl92YWxpZGF0ZUlzTm90VXNlZFRvZ2V0aGVyID0gX19QUklWQVRFX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXI7XG5leHBvcnRzLmFkZERvYyA9IGFkZERvYztcbmV4cG9ydHMuYWdncmVnYXRlRmllbGRFcXVhbCA9IGFnZ3JlZ2F0ZUZpZWxkRXF1YWw7XG5leHBvcnRzLmFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RFcXVhbCA9IGFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RFcXVhbDtcbmV4cG9ydHMuYW5kID0gYW5kO1xuZXhwb3J0cy5hcnJheVJlbW92ZSA9IGFycmF5UmVtb3ZlO1xuZXhwb3J0cy5hcnJheVVuaW9uID0gYXJyYXlVbmlvbjtcbmV4cG9ydHMuYXZlcmFnZSA9IGF2ZXJhZ2U7XG5leHBvcnRzLmNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2UgPSBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlO1xuZXhwb3J0cy5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbmV4cG9ydHMuY29sbGVjdGlvbkdyb3VwID0gY29sbGVjdGlvbkdyb3VwO1xuZXhwb3J0cy5jb25uZWN0RmlyZXN0b3JlRW11bGF0b3IgPSBjb25uZWN0RmlyZXN0b3JlRW11bGF0b3I7XG5leHBvcnRzLmNvdW50ID0gY291bnQ7XG5leHBvcnRzLmRlbGV0ZUFsbFBlcnNpc3RlbnRDYWNoZUluZGV4ZXMgPSBkZWxldGVBbGxQZXJzaXN0ZW50Q2FjaGVJbmRleGVzO1xuZXhwb3J0cy5kZWxldGVEb2MgPSBkZWxldGVEb2M7XG5leHBvcnRzLmRlbGV0ZUZpZWxkID0gZGVsZXRlRmllbGQ7XG5leHBvcnRzLmRpc2FibGVOZXR3b3JrID0gZGlzYWJsZU5ldHdvcms7XG5leHBvcnRzLmRpc2FibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbiA9IGRpc2FibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbjtcbmV4cG9ydHMuZG9jID0gZG9jO1xuZXhwb3J0cy5kb2N1bWVudElkID0gZG9jdW1lbnRJZDtcbmV4cG9ydHMuZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UgPSBlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZTtcbmV4cG9ydHMuZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZSA9IGVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2U7XG5leHBvcnRzLmVuYWJsZU5ldHdvcmsgPSBlbmFibGVOZXR3b3JrO1xuZXhwb3J0cy5lbmFibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbiA9IGVuYWJsZVBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uO1xuZXhwb3J0cy5lbmRBdCA9IGVuZEF0O1xuZXhwb3J0cy5lbmRCZWZvcmUgPSBlbmRCZWZvcmU7XG5leHBvcnRzLmVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQgPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkO1xuZXhwb3J0cy5leGVjdXRlV3JpdGUgPSBleGVjdXRlV3JpdGU7XG5leHBvcnRzLmdldEFnZ3JlZ2F0ZUZyb21TZXJ2ZXIgPSBnZXRBZ2dyZWdhdGVGcm9tU2VydmVyO1xuZXhwb3J0cy5nZXRDb3VudEZyb21TZXJ2ZXIgPSBnZXRDb3VudEZyb21TZXJ2ZXI7XG5leHBvcnRzLmdldERvYyA9IGdldERvYztcbmV4cG9ydHMuZ2V0RG9jRnJvbUNhY2hlID0gZ2V0RG9jRnJvbUNhY2hlO1xuZXhwb3J0cy5nZXREb2NGcm9tU2VydmVyID0gZ2V0RG9jRnJvbVNlcnZlcjtcbmV4cG9ydHMuZ2V0RG9jcyA9IGdldERvY3M7XG5leHBvcnRzLmdldERvY3NGcm9tQ2FjaGUgPSBnZXREb2NzRnJvbUNhY2hlO1xuZXhwb3J0cy5nZXREb2NzRnJvbVNlcnZlciA9IGdldERvY3NGcm9tU2VydmVyO1xuZXhwb3J0cy5nZXRGaXJlc3RvcmUgPSBnZXRGaXJlc3RvcmU7XG5leHBvcnRzLmdldFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlciA9IGdldFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlcjtcbmV4cG9ydHMuaW5jcmVtZW50ID0gaW5jcmVtZW50O1xuZXhwb3J0cy5pbml0aWFsaXplRmlyZXN0b3JlID0gaW5pdGlhbGl6ZUZpcmVzdG9yZTtcbmV4cG9ydHMubGltaXQgPSBsaW1pdDtcbmV4cG9ydHMubGltaXRUb0xhc3QgPSBsaW1pdFRvTGFzdDtcbmV4cG9ydHMubG9hZEJ1bmRsZSA9IGxvYWRCdW5kbGU7XG5leHBvcnRzLm1lbW9yeUVhZ2VyR2FyYmFnZUNvbGxlY3RvciA9IG1lbW9yeUVhZ2VyR2FyYmFnZUNvbGxlY3RvcjtcbmV4cG9ydHMubWVtb3J5TG9jYWxDYWNoZSA9IG1lbW9yeUxvY2FsQ2FjaGU7XG5leHBvcnRzLm1lbW9yeUxydUdhcmJhZ2VDb2xsZWN0b3IgPSBtZW1vcnlMcnVHYXJiYWdlQ29sbGVjdG9yO1xuZXhwb3J0cy5uYW1lZFF1ZXJ5ID0gbmFtZWRRdWVyeTtcbmV4cG9ydHMub25TbmFwc2hvdCA9IG9uU25hcHNob3Q7XG5leHBvcnRzLm9uU25hcHNob3RzSW5TeW5jID0gb25TbmFwc2hvdHNJblN5bmM7XG5leHBvcnRzLm9yID0gb3I7XG5leHBvcnRzLm9yZGVyQnkgPSBvcmRlckJ5O1xuZXhwb3J0cy5wZXJzaXN0ZW50TG9jYWxDYWNoZSA9IHBlcnNpc3RlbnRMb2NhbENhY2hlO1xuZXhwb3J0cy5wZXJzaXN0ZW50TXVsdGlwbGVUYWJNYW5hZ2VyID0gcGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlcjtcbmV4cG9ydHMucGVyc2lzdGVudFNpbmdsZVRhYk1hbmFnZXIgPSBwZXJzaXN0ZW50U2luZ2xlVGFiTWFuYWdlcjtcbmV4cG9ydHMucXVlcnkgPSBxdWVyeTtcbmV4cG9ydHMucXVlcnlFcXVhbCA9IHF1ZXJ5RXF1YWw7XG5leHBvcnRzLnJlZkVxdWFsID0gcmVmRXF1YWw7XG5leHBvcnRzLnJ1blRyYW5zYWN0aW9uID0gcnVuVHJhbnNhY3Rpb247XG5leHBvcnRzLnNlcnZlclRpbWVzdGFtcCA9IHNlcnZlclRpbWVzdGFtcDtcbmV4cG9ydHMuc2V0RG9jID0gc2V0RG9jO1xuZXhwb3J0cy5zZXRJbmRleENvbmZpZ3VyYXRpb24gPSBzZXRJbmRleENvbmZpZ3VyYXRpb247XG5leHBvcnRzLnNldExvZ0xldmVsID0gc2V0TG9nTGV2ZWw7XG5leHBvcnRzLnNuYXBzaG90RXF1YWwgPSBzbmFwc2hvdEVxdWFsO1xuZXhwb3J0cy5zdGFydEFmdGVyID0gc3RhcnRBZnRlcjtcbmV4cG9ydHMuc3RhcnRBdCA9IHN0YXJ0QXQ7XG5leHBvcnRzLnN1bSA9IHN1bTtcbmV4cG9ydHMudGVybWluYXRlID0gdGVybWluYXRlO1xuZXhwb3J0cy51cGRhdGVEb2MgPSB1cGRhdGVEb2M7XG5leHBvcnRzLndhaXRGb3JQZW5kaW5nV3JpdGVzID0gd2FpdEZvclBlbmRpbmdXcml0ZXM7XG5leHBvcnRzLndoZXJlID0gd2hlcmU7XG5leHBvcnRzLndyaXRlQmF0Y2ggPSB3cml0ZUJhdGNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgdHNsaWIgPSByZXF1aXJlKCd0c2xpYicpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgX2E7XHJcbi8qKlxyXG4gKiBBIGNvbnRhaW5lciBmb3IgYWxsIG9mIHRoZSBMb2dnZXIgaW5zdGFuY2VzXHJcbiAqL1xyXG52YXIgaW5zdGFuY2VzID0gW107XHJcbi8qKlxyXG4gKiBUaGUgSlMgU0RLIHN1cHBvcnRzIDUgbG9nIGxldmVscyBhbmQgYWxzbyBhbGxvd3MgYSB1c2VyIHRoZSBhYmlsaXR5IHRvXHJcbiAqIHNpbGVuY2UgdGhlIGxvZ3MgYWx0b2dldGhlci5cclxuICpcclxuICogVGhlIG9yZGVyIGlzIGEgZm9sbG93czpcclxuICogREVCVUcgPCBWRVJCT1NFIDwgSU5GTyA8IFdBUk4gPCBFUlJPUlxyXG4gKlxyXG4gKiBBbGwgb2YgdGhlIGxvZyB0eXBlcyBhYm92ZSB0aGUgY3VycmVudCBsb2cgbGV2ZWwgd2lsbCBiZSBjYXB0dXJlZCAoaS5lLiBpZlxyXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYElORk9gLCBlcnJvcnMgd2lsbCBzdGlsbCBiZSBsb2dnZWQsIGJ1dCBgREVCVUdgIGFuZFxyXG4gKiBgVkVSQk9TRWAgbG9ncyB3aWxsIG5vdClcclxuICovXHJcbmV4cG9ydHMuTG9nTGV2ZWwgPSB2b2lkIDA7XHJcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiREVCVUdcIl0gPSAwXSA9IFwiREVCVUdcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiVkVSQk9TRVwiXSA9IDFdID0gXCJWRVJCT1NFXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIklORk9cIl0gPSAyXSA9IFwiSU5GT1wiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXQVJOXCJdID0gM10gPSBcIldBUk5cIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRVJST1JcIl0gPSA0XSA9IFwiRVJST1JcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiU0lMRU5UXCJdID0gNV0gPSBcIlNJTEVOVFwiO1xyXG59KShleHBvcnRzLkxvZ0xldmVsIHx8IChleHBvcnRzLkxvZ0xldmVsID0ge30pKTtcclxudmFyIGxldmVsU3RyaW5nVG9FbnVtID0ge1xyXG4gICAgJ2RlYnVnJzogZXhwb3J0cy5Mb2dMZXZlbC5ERUJVRyxcclxuICAgICd2ZXJib3NlJzogZXhwb3J0cy5Mb2dMZXZlbC5WRVJCT1NFLFxyXG4gICAgJ2luZm8nOiBleHBvcnRzLkxvZ0xldmVsLklORk8sXHJcbiAgICAnd2Fybic6IGV4cG9ydHMuTG9nTGV2ZWwuV0FSTixcclxuICAgICdlcnJvcic6IGV4cG9ydHMuTG9nTGV2ZWwuRVJST1IsXHJcbiAgICAnc2lsZW50JzogZXhwb3J0cy5Mb2dMZXZlbC5TSUxFTlRcclxufTtcclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGxvZyBsZXZlbFxyXG4gKi9cclxudmFyIGRlZmF1bHRMb2dMZXZlbCA9IGV4cG9ydHMuTG9nTGV2ZWwuSU5GTztcclxuLyoqXHJcbiAqIEJ5IGRlZmF1bHQsIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgZGlzcGxheWVkIGluIHRoZSBkZXZlbG9wZXIgY29uc29sZSAoaW5cclxuICogY2hyb21lKS4gVG8gYXZvaWQgZm9yY2luZyB1c2VycyB0byBoYXZlIHRvIG9wdC1pbiB0byB0aGVzZSBsb2dzIHR3aWNlXHJcbiAqIChpLmUuIG9uY2UgZm9yIGZpcmViYXNlLCBhbmQgb25jZSBpbiB0aGUgY29uc29sZSksIHdlIGFyZSBzZW5kaW5nIGBERUJVR2BcclxuICogbG9ncyB0byB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbi5cclxuICovXHJcbnZhciBDb25zb2xlTWV0aG9kID0gKF9hID0ge30sXHJcbiAgICBfYVtleHBvcnRzLkxvZ0xldmVsLkRFQlVHXSA9ICdsb2cnLFxyXG4gICAgX2FbZXhwb3J0cy5Mb2dMZXZlbC5WRVJCT1NFXSA9ICdsb2cnLFxyXG4gICAgX2FbZXhwb3J0cy5Mb2dMZXZlbC5JTkZPXSA9ICdpbmZvJyxcclxuICAgIF9hW2V4cG9ydHMuTG9nTGV2ZWwuV0FSTl0gPSAnd2FybicsXHJcbiAgICBfYVtleHBvcnRzLkxvZ0xldmVsLkVSUk9SXSA9ICdlcnJvcicsXHJcbiAgICBfYSk7XHJcbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBsb2cgaGFuZGxlciB3aWxsIGZvcndhcmQgREVCVUcsIFZFUkJPU0UsIElORk8sIFdBUk4sIGFuZCBFUlJPUlxyXG4gKiBtZXNzYWdlcyBvbiB0byB0aGVpciBjb3JyZXNwb25kaW5nIGNvbnNvbGUgY291bnRlcnBhcnRzIChpZiB0aGUgbG9nIG1ldGhvZFxyXG4gKiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgbG9nIGxldmVsKVxyXG4gKi9cclxudmFyIGRlZmF1bHRMb2dIYW5kbGVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCBsb2dUeXBlKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgaWYgKGxvZ1R5cGUgPCBpbnN0YW5jZS5sb2dMZXZlbCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICB2YXIgbWV0aG9kID0gQ29uc29sZU1ldGhvZFtsb2dUeXBlXTtcclxuICAgIGlmIChtZXRob2QpIHtcclxuICAgICAgICBjb25zb2xlW21ldGhvZF0uYXBwbHkoY29uc29sZSwgdHNsaWIuX19zcHJlYWRBcnJheShbXCJbXCIuY29uY2F0KG5vdywgXCJdICBcIikuY29uY2F0KGluc3RhbmNlLm5hbWUsIFwiOlwiKV0sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6IFwiLmNvbmNhdChsb2dUeXBlLCBcIilcIikpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlcyB5b3UgYW4gaW5zdGFuY2Ugb2YgYSBMb2dnZXIgdG8gY2FwdHVyZSBtZXNzYWdlcyBhY2NvcmRpbmcgdG9cclxuICAgICAqIEZpcmViYXNlJ3MgbG9nZ2luZyBzY2hlbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdGhhdCB0aGUgbG9ncyB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxvZyBsZXZlbCBvZiB0aGUgZ2l2ZW4gTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0xldmVsID0gZGVmYXVsdExvZ0xldmVsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBtYWluIChpbnRlcm5hbCkgbG9nIGhhbmRsZXIgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQ2FuIGJlIHNldCB0byBhIG5ldyBmdW5jdGlvbiBpbiBpbnRlcm5hbCBwYWNrYWdlIGNvZGUgYnV0IG5vdCBieSB1c2VyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIgPSBkZWZhdWx0TG9nSGFuZGxlcjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgb3B0aW9uYWwsIGFkZGl0aW9uYWwsIHVzZXItZGVmaW5lZCBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FwdHVyZSB0aGUgY3VycmVudCBpbnN0YW5jZSBmb3IgbGF0ZXIgdXNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5zdGFuY2VzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJsb2dMZXZlbFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2dMZXZlbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAoISh2YWwgaW4gZXhwb3J0cy5Mb2dMZXZlbCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHZhbHVlIFxcXCJcIi5jb25jYXQodmFsLCBcIlxcXCIgYXNzaWduZWQgdG8gYGxvZ0xldmVsYFwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLy8gV29ya2Fyb3VuZCBmb3Igc2V0dGVyL2dldHRlciBoYXZpbmcgdG8gYmUgdGhlIHNhbWUgdHlwZS5cclxuICAgIExvZ2dlci5wcm90b3R5cGUuc2V0TG9nTGV2ZWwgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IGxldmVsU3RyaW5nVG9FbnVtW3ZhbF0gOiB2YWw7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvZ2dlci5wcm90b3R5cGUsIFwibG9nSGFuZGxlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2dIYW5kbGVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBhc3NpZ25lZCB0byBgbG9nSGFuZGxlcmAgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbG9nSGFuZGxlciA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJ1c2VyTG9nSGFuZGxlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VyTG9nSGFuZGxlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgYXJlIGFsbCBiYXNlZCBvbiB0aGUgYGNvbnNvbGVgIGludGVyZmFjZVxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLkRFQlVHXSwgYXJncywgZmFsc2UpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuREVCVUddLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLlZFUkJPU0VdLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5WRVJCT1NFXSwgYXJncywgZmFsc2UpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuSU5GT10sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLklORk9dLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUud2FybiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5XQVJOXSwgYXJncywgZmFsc2UpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuV0FSTl0sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5FUlJPUl0sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLkVSUk9SXSwgYXJncywgZmFsc2UpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTG9nZ2VyO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsZXZlbCkge1xyXG4gICAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3QpIHtcclxuICAgICAgICBpbnN0LnNldExvZ0xldmVsKGxldmVsKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNldFVzZXJMb2dIYW5kbGVyKGxvZ0NhbGxiYWNrLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIHZhciBjdXN0b21Mb2dMZXZlbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sZXZlbCkge1xyXG4gICAgICAgICAgICBjdXN0b21Mb2dMZXZlbCA9IGxldmVsU3RyaW5nVG9FbnVtW29wdGlvbnMubGV2ZWxdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobG9nQ2FsbGJhY2sgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UudXNlckxvZ0hhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UudXNlckxvZ0hhbmRsZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIGxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYXJnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZzsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID49IChjdXN0b21Mb2dMZXZlbCAhPT0gbnVsbCAmJiBjdXN0b21Mb2dMZXZlbCAhPT0gdm9pZCAwID8gY3VzdG9tTG9nTGV2ZWwgOiBpbnN0YW5jZS5sb2dMZXZlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dDYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsOiBleHBvcnRzLkxvZ0xldmVsW2xldmVsXS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpbnN0YW5jZS5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgaW5zdGFuY2VzXzEgPSBpbnN0YW5jZXM7IF9pIDwgaW5zdGFuY2VzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gaW5zdGFuY2VzXzFbX2ldO1xyXG4gICAgICAgIF9sb29wXzEoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydHMuTG9nZ2VyID0gTG9nZ2VyO1xuZXhwb3J0cy5zZXRMb2dMZXZlbCA9IHNldExvZ0xldmVsO1xuZXhwb3J0cy5zZXRVc2VyTG9nSGFuZGxlciA9IHNldFVzZXJMb2dIYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBGaXJlYmFzZSBjb25zdGFudHMuICBTb21lIG9mIHRoZXNlIChAZGVmaW5lcykgY2FuIGJlIG92ZXJyaWRkZW4gYXQgY29tcGlsZS10aW1lLlxyXG4gKi9cclxuY29uc3QgQ09OU1RBTlRTID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVmaW5lIHtib29sZWFufSBXaGV0aGVyIHRoaXMgaXMgdGhlIGNsaWVudCBOb2RlLmpzIFNESy5cclxuICAgICAqL1xyXG4gICAgTk9ERV9DTElFTlQ6IGZhbHNlLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVmaW5lIHtib29sZWFufSBXaGV0aGVyIHRoaXMgaXMgdGhlIEFkbWluIE5vZGUuanMgU0RLLlxyXG4gICAgICovXHJcbiAgICBOT0RFX0FETUlOOiBmYWxzZSxcclxuICAgIC8qKlxyXG4gICAgICogRmlyZWJhc2UgU0RLIFZlcnNpb25cclxuICAgICAqL1xyXG4gICAgU0RLX1ZFUlNJT046ICcke0pTQ09SRV9WRVJTSU9OfSdcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgcHJvdmlkZWQgYXNzZXJ0aW9uIGlzIGZhbHN5XHJcbiAqL1xyXG5jb25zdCBhc3NlcnQgPSBmdW5jdGlvbiAoYXNzZXJ0aW9uLCBtZXNzYWdlKSB7XHJcbiAgICBpZiAoIWFzc2VydGlvbikge1xyXG4gICAgICAgIHRocm93IGFzc2VydGlvbkVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogUmV0dXJucyBhbiBFcnJvciBvYmplY3Qgc3VpdGFibGUgZm9yIHRocm93aW5nLlxyXG4gKi9cclxuY29uc3QgYXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIG5ldyBFcnJvcignRmlyZWJhc2UgRGF0YWJhc2UgKCcgK1xyXG4gICAgICAgIENPTlNUQU5UUy5TREtfVkVSU0lPTiArXHJcbiAgICAgICAgJykgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogJyArXHJcbiAgICAgICAgbWVzc2FnZSk7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IHN0cmluZ1RvQnl0ZUFycmF5JDEgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgY29uc3Qgb3V0ID0gW107XHJcbiAgICBsZXQgcCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJlxyXG4gICAgICAgICAgICBpICsgMSA8IHN0ci5sZW5ndGggJiZcclxuICAgICAgICAgICAgKHN0ci5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xyXG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxyXG4gICAgICAgICAgICBjID0gMHgxMDAwMCArICgoYyAmIDB4MDNmZikgPDwgMTApICsgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDAzZmYpO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDE4KSB8IDI0MDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gMTIpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG59O1xyXG4vKipcclxuICogVHVybnMgYW4gYXJyYXkgb2YgbnVtYmVycyBpbnRvIHRoZSBzdHJpbmcgZ2l2ZW4gYnkgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlXHJcbiAqIGNoYXJhY3RlcnMgdG8gd2hpY2ggdGhlIG51bWJlcnMgY29ycmVzcG9uZC5cclxuICogQHBhcmFtIGJ5dGVzIEFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGNoYXJhY3RlcnMuXHJcbiAqIEByZXR1cm4gU3RyaW5naWZpY2F0aW9uIG9mIHRoZSBhcnJheS5cclxuICovXHJcbmNvbnN0IGJ5dGVBcnJheVRvU3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVzKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgY29uc3Qgb3V0ID0gW107XHJcbiAgICBsZXQgcG9zID0gMCwgYyA9IDA7XHJcbiAgICB3aGlsZSAocG9zIDwgYnl0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgYzEgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMTkxICYmIGMxIDwgMjI0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMSAmIDMxKSA8PCA2KSB8IChjMiAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMjM5ICYmIGMxIDwgMzY1KSB7XHJcbiAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBjb25zdCBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgY29uc3QgYzQgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIGNvbnN0IHUgPSAoKChjMSAmIDcpIDw8IDE4KSB8ICgoYzIgJiA2MykgPDwgMTIpIHwgKChjMyAmIDYzKSA8PCA2KSB8IChjNCAmIDYzKSkgLVxyXG4gICAgICAgICAgICAgICAgMHgxMDAwMDtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZDgwMCArICh1ID4+IDEwKSk7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGRjMDAgKyAodSAmIDEwMjMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBjb25zdCBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAxNSkgPDwgMTIpIHwgKChjMiAmIDYzKSA8PCA2KSB8IChjMyAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcclxufTtcclxuLy8gV2UgZGVmaW5lIGl0IGFzIGFuIG9iamVjdCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjbGFzcyBiZWNhdXNlIGEgY2xhc3MgY29tcGlsZWQgZG93biB0byBlczUgY2FuJ3RcclxuLy8gYmUgdHJlZXNoYWtlZC4gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE2OTFcclxuLy8gU3RhdGljIGxvb2t1cCBtYXBzLCBsYXppbHkgcG9wdWxhdGVkIGJ5IGluaXRfKClcclxuY29uc3QgYmFzZTY0ID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIGNoYXJhY3RlcnMuXHJcbiAgICAgKi9cclxuICAgIGJ5dGVUb0NoYXJNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXHJcbiAgICAgKi9cclxuICAgIGNoYXJUb0J5dGVNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIHdlYnNhZmUgY2hhcmFjdGVycy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGJ5dGVUb0NoYXJNYXBXZWJTYWZlXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyB3ZWJzYWZlIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBjaGFyVG9CeXRlTWFwV2ViU2FmZV86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LCBzaGFyZWQgYmV0d2VlblxyXG4gICAgICogRU5DT0RFRF9WQUxTIGFuZCBFTkNPREVEX1ZBTFNfV0VCU0FGRVxyXG4gICAgICovXHJcbiAgICBFTkNPREVEX1ZBTFNfQkFTRTogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJyArICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicgKyAnMDEyMzQ1Njc4OScsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LiBWYWx1ZSA2NCAoPSkgaXMgc3BlY2lhbDsgaXQgbWVhbnMgXCJub3RoaW5nLlwiXHJcbiAgICAgKi9cclxuICAgIGdldCBFTkNPREVEX1ZBTFMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnKy89JztcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIE91ciB3ZWJzYWZlIGFscGhhYmV0LlxyXG4gICAgICovXHJcbiAgICBnZXQgRU5DT0RFRF9WQUxTX1dFQlNBRkUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnLV8uJztcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyBicm93c2VyIHN1cHBvcnRzIHRoZSBhdG9iIGFuZCBidG9hIGZ1bmN0aW9ucy4gVGhpcyBleHRlbnNpb25cclxuICAgICAqIHN0YXJ0ZWQgYXQgTW96aWxsYSBidXQgaXMgbm93IGltcGxlbWVudGVkIGJ5IG1hbnkgYnJvd3NlcnMuIFdlIHVzZSB0aGVcclxuICAgICAqIEFTU1VNRV8qIHZhcmlhYmxlcyB0byBhdm9pZCBwdWxsaW5nIGluIHRoZSBmdWxsIHVzZXJhZ2VudCBkZXRlY3Rpb24gbGlicmFyeVxyXG4gICAgICogYnV0IHN0aWxsIGFsbG93aW5nIHRoZSBzdGFuZGFyZCBwZXItYnJvd3NlciBjb21waWxhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBIQVNfTkFUSVZFX1NVUFBPUlQ6IHR5cGVvZiBhdG9iID09PSAnZnVuY3Rpb24nLFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZW5jb2RlIGFuIGFycmF5IG9mIGJ5dGVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCBBbiBhcnJheSBvZiBieXRlcyAobnVtYmVycyB3aXRoXHJcbiAgICAgKiAgICAgdmFsdWUgaW4gWzAsIDI1NV0pIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIEJvb2xlYW4gaW5kaWNhdGluZyB3ZSBzaG91bGQgdXNlIHRoZVxyXG4gICAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBUaGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBlbmNvZGVCeXRlQXJyYXkoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0XygpO1xyXG4gICAgICAgIGNvbnN0IGJ5dGVUb0NoYXJNYXAgPSB3ZWJTYWZlXHJcbiAgICAgICAgICAgID8gdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9cclxuICAgICAgICAgICAgOiB0aGlzLmJ5dGVUb0NoYXJNYXBfO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTEgPSBpbnB1dFtpXTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUyID0gaSArIDEgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUyID0gaGF2ZUJ5dGUyID8gaW5wdXRbaSArIDFdIDogMDtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUzID0gaSArIDIgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUzID0gaGF2ZUJ5dGUzID8gaW5wdXRbaSArIDJdIDogMDtcclxuICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTEgPSBieXRlMSA+PiAyO1xyXG4gICAgICAgICAgICBjb25zdCBvdXRCeXRlMiA9ICgoYnl0ZTEgJiAweDAzKSA8PCA0KSB8IChieXRlMiA+PiA0KTtcclxuICAgICAgICAgICAgbGV0IG91dEJ5dGUzID0gKChieXRlMiAmIDB4MGYpIDw8IDIpIHwgKGJ5dGUzID4+IDYpO1xyXG4gICAgICAgICAgICBsZXQgb3V0Qnl0ZTQgPSBieXRlMyAmIDB4M2Y7XHJcbiAgICAgICAgICAgIGlmICghaGF2ZUJ5dGUzKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRCeXRlNCA9IDY0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXZlQnl0ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRCeXRlMyA9IDY0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTFdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUyXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlM10sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1lbmNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IEEgc3RyaW5nIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIElmIHRydWUsIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIGVuY29kZVN0cmluZyhpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XHJcbiAgICAgICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxyXG4gICAgICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnRvYShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVuY29kZUJ5dGVBcnJheShzdHJpbmdUb0J5dGVBcnJheSQxKGlucHV0KSwgd2ViU2FmZSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCB0byBkZWNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBUcnVlIGlmIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlY29kZWQgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGRlY29kZVN0cmluZyhpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XHJcbiAgICAgICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxyXG4gICAgICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXRvYihpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBieXRlQXJyYXlUb1N0cmluZyh0aGlzLmRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0LCB3ZWJTYWZlKSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEluIGJhc2UtNjQgZGVjb2RpbmcsIGdyb3VwcyBvZiBmb3VyIGNoYXJhY3RlcnMgYXJlIGNvbnZlcnRlZCBpbnRvIHRocmVlXHJcbiAgICAgKiBieXRlcy4gIElmIHRoZSBlbmNvZGVyIGRpZCBub3QgYXBwbHkgcGFkZGluZywgdGhlIGlucHV0IGxlbmd0aCBtYXkgbm90XHJcbiAgICAgKiBiZSBhIG11bHRpcGxlIG9mIDQuXHJcbiAgICAgKlxyXG4gICAgICogSW4gdGhpcyBjYXNlLCB0aGUgbGFzdCBncm91cCB3aWxsIGhhdmUgZmV3ZXIgdGhhbiA0IGNoYXJhY3RlcnMsIGFuZFxyXG4gICAgICogcGFkZGluZyB3aWxsIGJlIGluZmVycmVkLiAgSWYgdGhlIGdyb3VwIGhhcyBvbmUgb3IgdHdvIGNoYXJhY3RlcnMsIGl0IGRlY29kZXNcclxuICAgICAqIHRvIG9uZSBieXRlLiAgSWYgdGhlIGdyb3VwIGhhcyB0aHJlZSBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzIHRvIHR3byBieXRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgSW5wdXQgdG8gZGVjb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgVHJ1ZSBpZiB3ZSBzaG91bGQgdXNlIHRoZSB3ZWItc2FmZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBkZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICBjb25zdCBjaGFyVG9CeXRlTWFwID0gd2ViU2FmZVxyXG4gICAgICAgICAgICA/IHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfXHJcbiAgICAgICAgICAgIDogdGhpcy5jaGFyVG9CeXRlTWFwXztcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDspIHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTEgPSBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKyspXTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUyID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiAwO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhdmVCeXRlMyA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUzID0gaGF2ZUJ5dGUzID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGU0ID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTQgPSBoYXZlQnl0ZTQgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBpZiAoYnl0ZTEgPT0gbnVsbCB8fCBieXRlMiA9PSBudWxsIHx8IGJ5dGUzID09IG51bGwgfHwgYnl0ZTQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUJhc2U2NFN0cmluZ0Vycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTEgPSAoYnl0ZTEgPDwgMikgfCAoYnl0ZTIgPj4gNCk7XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUxKTtcclxuICAgICAgICAgICAgaWYgKGJ5dGUzICE9PSA2NCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTIgPSAoKGJ5dGUyIDw8IDQpICYgMHhmMCkgfCAoYnl0ZTMgPj4gMik7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZTQgIT09IDY0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTMgPSAoKGJ5dGUzIDw8IDYpICYgMHhjMCkgfCBieXRlNDtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIExhenkgc3RhdGljIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uLiBDYWxsZWQgYmVmb3JlXHJcbiAgICAgKiBhY2Nlc3NpbmcgYW55IG9mIHRoZSBzdGF0aWMgbWFwIHZhcmlhYmxlcy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGluaXRfKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ieXRlVG9DaGFyTWFwXykge1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgLy8gV2Ugd2FudCBxdWljayBtYXBwaW5ncyBiYWNrIGFuZCBmb3J0aCwgc28gd2UgcHJlY29tcHV0ZSB0d28gbWFwcy5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVOQ09ERURfVkFMUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5ieXRlVG9DaGFyTWFwX1tpXV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV0gPSB0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAvLyBCZSBmb3JnaXZpbmcgd2hlbiBkZWNvZGluZyBhbmQgY29ycmVjdGx5IGRlY29kZSBib3RoIGVuY29kaW5ncy5cclxuICAgICAgICAgICAgICAgIGlmIChpID49IHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQW4gZXJyb3IgZW5jb3VudGVyZWQgd2hpbGUgZGVjb2RpbmcgYmFzZTY0IHN0cmluZy5cclxuICovXHJcbmNsYXNzIERlY29kZUJhc2U2NFN0cmluZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3InO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmdcclxuICovXHJcbmNvbnN0IGJhc2U2NEVuY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIGNvbnN0IHV0ZjhCeXRlcyA9IHN0cmluZ1RvQnl0ZUFycmF5JDEoc3RyKTtcclxuICAgIHJldHVybiBiYXNlNjQuZW5jb2RlQnl0ZUFycmF5KHV0ZjhCeXRlcywgdHJ1ZSk7XHJcbn07XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmcgKHdpdGhvdXQgXCIuXCIgcGFkZGluZyBpbiB0aGUgZW5kKS5cclxuICogZS5nLiBVc2VkIGluIEpTT04gV2ViIFRva2VuIChKV1QpIHBhcnRzLlxyXG4gKi9cclxuY29uc3QgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAvLyBVc2UgYmFzZTY0dXJsIGVuY29kaW5nIGFuZCByZW1vdmUgcGFkZGluZyBpbiB0aGUgZW5kIChkb3QgY2hhcmFjdGVycykuXHJcbiAgICByZXR1cm4gYmFzZTY0RW5jb2RlKHN0cikucmVwbGFjZSgvXFwuL2csICcnKTtcclxufTtcclxuLyoqXHJcbiAqIFVSTC1zYWZlIGJhc2U2NCBkZWNvZGluZ1xyXG4gKlxyXG4gKiBOT1RFOiBETyBOT1QgdXNlIHRoZSBnbG9iYWwgYXRvYigpIGZ1bmN0aW9uIC0gaXQgZG9lcyBOT1Qgc3VwcG9ydCB0aGVcclxuICogYmFzZTY0VXJsIHZhcmlhbnQgZW5jb2RpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSBzdHIgVG8gYmUgZGVjb2RlZFxyXG4gKiBAcmV0dXJuIERlY29kZWQgcmVzdWx0LCBpZiBwb3NzaWJsZVxyXG4gKi9cclxuY29uc3QgYmFzZTY0RGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYmFzZTY0LmRlY29kZVN0cmluZyhzdHIsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdiYXNlNjREZWNvZGUgZmFpbGVkOiAnLCBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRG8gYSBkZWVwLWNvcHkgb2YgYmFzaWMgSmF2YVNjcmlwdCBPYmplY3RzIG9yIEFycmF5cy5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDb3B5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZGVlcEV4dGVuZCh1bmRlZmluZWQsIHZhbHVlKTtcclxufVxyXG4vKipcclxuICogQ29weSBwcm9wZXJ0aWVzIGZyb20gc291cmNlIHRvIHRhcmdldCAocmVjdXJzaXZlbHkgYWxsb3dzIGV4dGVuc2lvblxyXG4gKiBvZiBPYmplY3RzIGFuZCBBcnJheXMpLiAgU2NhbGFyIHZhbHVlcyBpbiB0aGUgdGFyZ2V0IGFyZSBvdmVyLXdyaXR0ZW4uXHJcbiAqIElmIHRhcmdldCBpcyB1bmRlZmluZWQsIGFuIG9iamVjdCBvZiB0aGUgYXBwcm9wcmlhdGUgdHlwZSB3aWxsIGJlIGNyZWF0ZWRcclxuICogKGFuZCByZXR1cm5lZCkuXHJcbiAqXHJcbiAqIFdlIHJlY3Vyc2l2ZWx5IGNvcHkgYWxsIGNoaWxkIHByb3BlcnRpZXMgb2YgcGxhaW4gT2JqZWN0cyBpbiB0aGUgc291cmNlLSBzb1xyXG4gKiB0aGF0IG5hbWVzcGFjZS0gbGlrZSBkaWN0aW9uYXJpZXMgYXJlIG1lcmdlZC5cclxuICpcclxuICogTm90ZSB0aGF0IHRoZSB0YXJnZXQgY2FuIGJlIGEgZnVuY3Rpb24sIGluIHdoaWNoIGNhc2UgdGhlIHByb3BlcnRpZXMgaW5cclxuICogdGhlIHNvdXJjZSBPYmplY3QgYXJlIGNvcGllZCBvbnRvIGl0IGFzIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBGdW5jdGlvbi5cclxuICpcclxuICogTm90ZTogd2UgZG9uJ3QgbWVyZ2UgX19wcm90b19fIHRvIHByZXZlbnQgcHJvdG90eXBlIHBvbGx1dGlvblxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHNvdXJjZS5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGNhc2UgRGF0ZTpcclxuICAgICAgICAgICAgLy8gVHJlYXQgRGF0ZXMgbGlrZSBzY2FsYXJzOyBpZiB0aGUgdGFyZ2V0IGRhdGUgb2JqZWN0IGhhZCBhbnkgY2hpbGRcclxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyAtIHRoZXkgd2lsbCBiZSBsb3N0IVxyXG4gICAgICAgICAgICBjb25zdCBkYXRlVmFsdWUgPSBzb3VyY2U7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlVmFsdWUuZ2V0VGltZSgpKTtcclxuICAgICAgICBjYXNlIE9iamVjdDpcclxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEFycmF5OlxyXG4gICAgICAgICAgICAvLyBBbHdheXMgY29weSB0aGUgYXJyYXkgc291cmNlIGFuZCBvdmVyd3JpdGUgdGhlIHRhcmdldC5cclxuICAgICAgICAgICAgdGFyZ2V0ID0gW107XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8vIE5vdCBhIHBsYWluIE9iamVjdCAtIHRyZWF0IGl0IGFzIGEgc2NhbGFyLlxyXG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xyXG4gICAgICAgIC8vIHVzZSBpc1ZhbGlkS2V5IHRvIGd1YXJkIGFnYWluc3QgcHJvdG90eXBlIHBvbGx1dGlvbi4gU2VlIGh0dHBzOi8vc255ay5pby92dWxuL1NOWUstSlMtTE9EQVNILTQ1MDIwMlxyXG4gICAgICAgIGlmICghc291cmNlLmhhc093blByb3BlcnR5KHByb3ApIHx8ICFpc1ZhbGlkS2V5KHByb3ApKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBkZWVwRXh0ZW5kKHRhcmdldFtwcm9wXSwgc291cmNlW3Byb3BdKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gaXNWYWxpZEtleShrZXkpIHtcclxuICAgIHJldHVybiBrZXkgIT09ICdfX3Byb3RvX18nO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBQb2x5ZmlsbCBmb3IgYGdsb2JhbFRoaXNgIG9iamVjdC5cclxuICogQHJldHVybnMgdGhlIGBnbG9iYWxUaGlzYCBvYmplY3QgZm9yIHRoZSBnaXZlbiBlbnZpcm9ubWVudC5cclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0R2xvYmFsKCkge1xyXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBnbG9iYWw7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdC4nKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0c0Zyb21HbG9iYWwgPSAoKSA9PiBnZXRHbG9iYWwoKS5fX0ZJUkVCQVNFX0RFRkFVTFRTX187XHJcbi8qKlxyXG4gKiBBdHRlbXB0IHRvIHJlYWQgZGVmYXVsdHMgZnJvbSBhIEpTT04gc3RyaW5nIHByb3ZpZGVkIHRvXHJcbiAqIHByb2Nlc3MoLillbnYoLilfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb3IgYSBKU09OIGZpbGUgd2hvc2UgcGF0aCBpcyBpblxyXG4gKiBwcm9jZXNzKC4pZW52KC4pX19GSVJFQkFTRV9ERUZBVUxUU19QQVRIX19cclxuICogVGhlIGRvdHMgYXJlIGluIHBhcmVucyBiZWNhdXNlIGNlcnRhaW4gY29tcGlsZXJzIChWaXRlPykgY2Fubm90XHJcbiAqIGhhbmRsZSBzZWVpbmcgdGhhdCB2YXJpYWJsZSBpbiBjb21tZW50cy5cclxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvaXNzdWVzLzY4MzhcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRzRnJvbUVudlZhcmlhYmxlID0gKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgcHJvY2Vzcy5lbnYgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGVmYXVsdHNKc29uU3RyaW5nID0gcHJvY2Vzcy5lbnYuX19GSVJFQkFTRV9ERUZBVUxUU19fO1xyXG4gICAgaWYgKGRlZmF1bHRzSnNvblN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRlZmF1bHRzSnNvblN0cmluZyk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGdldERlZmF1bHRzRnJvbUNvb2tpZSA9ICgpID0+IHtcclxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IG1hdGNoO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaCgvX19GSVJFQkFTRV9ERUZBVUxUU19fPShbXjtdKykvKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gU29tZSBlbnZpcm9ubWVudHMgc3VjaCBhcyBBbmd1bGFyIFVuaXZlcnNhbCBTU1IgaGF2ZSBhXHJcbiAgICAgICAgLy8gYGRvY3VtZW50YCBvYmplY3QgYnV0IGVycm9yIG9uIGFjY2Vzc2luZyBgZG9jdW1lbnQuY29va2llYC5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBkZWNvZGVkID0gbWF0Y2ggJiYgYmFzZTY0RGVjb2RlKG1hdGNoWzFdKTtcclxuICAgIHJldHVybiBkZWNvZGVkICYmIEpTT04ucGFyc2UoZGVjb2RlZCk7XHJcbn07XHJcbi8qKlxyXG4gKiBHZXQgdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QuIEl0IGNoZWNrcyBpbiBvcmRlcjpcclxuICogKDEpIGlmIHN1Y2ggYW4gb2JqZWN0IGV4aXN0cyBhcyBhIHByb3BlcnR5IG9mIGBnbG9iYWxUaGlzYFxyXG4gKiAoMikgaWYgc3VjaCBhbiBvYmplY3Qgd2FzIHByb3ZpZGVkIG9uIGEgc2hlbGwgZW52aXJvbm1lbnQgdmFyaWFibGVcclxuICogKDMpIGlmIHN1Y2ggYW4gb2JqZWN0IGV4aXN0cyBpbiBhIGNvb2tpZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0cyA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIChnZXREZWZhdWx0c0Zyb21HbG9iYWwoKSB8fFxyXG4gICAgICAgICAgICBnZXREZWZhdWx0c0Zyb21FbnZWYXJpYWJsZSgpIHx8XHJcbiAgICAgICAgICAgIGdldERlZmF1bHRzRnJvbUNvb2tpZSgpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2F0Y2gtYWxsIGZvciBiZWluZyB1bmFibGUgdG8gZ2V0IF9fRklSRUJBU0VfREVGQVVMVFNfXyBkdWVcclxuICAgICAgICAgKiB0byBhbnkgZW52aXJvbm1lbnQgY2FzZSB3ZSBoYXZlIG5vdCBhY2NvdW50ZWQgZm9yLiBMb2cgdG9cclxuICAgICAgICAgKiBpbmZvIGluc3RlYWQgb2Ygc3dhbGxvd2luZyBzbyB3ZSBjYW4gZmluZCB0aGVzZSB1bmtub3duIGNhc2VzXHJcbiAgICAgICAgICogYW5kIGFkZCBwYXRocyBmb3IgdGhlbSBpZiBuZWVkZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc29sZS5pbmZvKGBVbmFibGUgdG8gZ2V0IF9fRklSRUJBU0VfREVGQVVMVFNfXyBkdWUgdG86ICR7ZX1gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGVtdWxhdG9yIGhvc3Qgc3RvcmVkIGluIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0XHJcbiAqIGZvciB0aGUgZ2l2ZW4gcHJvZHVjdC5cclxuICogQHJldHVybnMgYSBVUkwgaG9zdCBmb3JtYXR0ZWQgbGlrZSBgMTI3LjAuMC4xOjk5OTlgIG9yIGBbOjoxXTo0MDAwYCBpZiBhdmFpbGFibGVcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCA9IChwcm9kdWN0TmFtZSkgPT4geyB2YXIgX2EsIF9iOyByZXR1cm4gKF9iID0gKF9hID0gZ2V0RGVmYXVsdHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtdWxhdG9ySG9zdHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYltwcm9kdWN0TmFtZV07IH07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGVtdWxhdG9yIGhvc3RuYW1lIGFuZCBwb3J0IHN0b3JlZCBpbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdFxyXG4gKiBmb3IgdGhlIGdpdmVuIHByb2R1Y3QuXHJcbiAqIEByZXR1cm5zIGEgcGFpciBvZiBob3N0bmFtZSBhbmQgcG9ydCBsaWtlIGBbXCI6OjFcIiwgNDAwMF1gIGlmIGF2YWlsYWJsZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQgPSAocHJvZHVjdE5hbWUpID0+IHtcclxuICAgIGNvbnN0IGhvc3QgPSBnZXREZWZhdWx0RW11bGF0b3JIb3N0KHByb2R1Y3ROYW1lKTtcclxuICAgIGlmICghaG9zdCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXBhcmF0b3JJbmRleCA9IGhvc3QubGFzdEluZGV4T2YoJzonKTsgLy8gRmluZGluZyB0aGUgbGFzdCBzaW5jZSBJUHY2IGFkZHIgYWxzbyBoYXMgY29sb25zLlxyXG4gICAgaWYgKHNlcGFyYXRvckluZGV4IDw9IDAgfHwgc2VwYXJhdG9ySW5kZXggKyAxID09PSBob3N0Lmxlbmd0aCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBob3N0ICR7aG9zdH0gd2l0aCBubyBzZXBhcmF0ZSBob3N0bmFtZSBhbmQgcG9ydCFgKTtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcclxuICAgIGNvbnN0IHBvcnQgPSBwYXJzZUludChob3N0LnN1YnN0cmluZyhzZXBhcmF0b3JJbmRleCArIDEpLCAxMCk7XHJcbiAgICBpZiAoaG9zdFswXSA9PT0gJ1snKSB7XHJcbiAgICAgICAgLy8gQnJhY2tldC1xdW90ZWQgYFtpcHY2YWRkcl06cG9ydGAgPT4gcmV0dXJuIFwiaXB2NmFkZHJcIiAod2l0aG91dCBicmFja2V0cykuXHJcbiAgICAgICAgcmV0dXJuIFtob3N0LnN1YnN0cmluZygxLCBzZXBhcmF0b3JJbmRleCAtIDEpLCBwb3J0XTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBbaG9zdC5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpLCBwb3J0XTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgRmlyZWJhc2UgYXBwIGNvbmZpZyBzdG9yZWQgaW4gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRBcHBDb25maWcgPSAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGdldERlZmF1bHRzKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb25maWc7IH07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGV4cGVyaW1lbnRhbCBzZXR0aW5nIG9uIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0IChwcm9wZXJ0aWVzXHJcbiAqIHByZWZpeGVkIGJ5IFwiX1wiKVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXRFeHBlcmltZW50YWxTZXR0aW5nID0gKG5hbWUpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gZ2V0RGVmYXVsdHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2BfJHtuYW1lfWBdOyB9O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBEZWZlcnJlZCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnJlamVjdCA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogT3VyIEFQSSBpbnRlcm5hbHMgYXJlIG5vdCBwcm9taXNlaWZpZWQgYW5kIGNhbm5vdCBiZWNhdXNlIG91ciBjYWxsYmFjayBBUElzIGhhdmUgc3VidGxlIGV4cGVjdGF0aW9ucyBhcm91bmRcclxuICAgICAqIGludm9raW5nIHByb21pc2VzIGlubGluZSwgd2hpY2ggUHJvbWlzZXMgYXJlIGZvcmJpZGRlbiB0byBkby4gVGhpcyBtZXRob2QgYWNjZXB0cyBhbiBvcHRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrXHJcbiAgICAgKiBhbmQgcmV0dXJucyBhIG5vZGUtc3R5bGUgY2FsbGJhY2sgd2hpY2ggd2lsbCByZXNvbHZlIG9yIHJlamVjdCB0aGUgRGVmZXJyZWQncyBwcm9taXNlLlxyXG4gICAgICovXHJcbiAgICB3cmFwQ2FsbGJhY2soY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gKGVycm9yLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNoaW5nIG5vb3AgaGFuZGxlciBqdXN0IGluIGNhc2UgZGV2ZWxvcGVyIHdhc24ndCBleHBlY3RpbmdcclxuICAgICAgICAgICAgICAgIC8vIHByb21pc2VzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb21pc2UuY2F0Y2goKCkgPT4geyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIFNvbWUgb2Ygb3VyIGNhbGxiYWNrcyBkb24ndCBleHBlY3QgYSB2YWx1ZSBhbmQgb3VyIG93biB0ZXN0c1xyXG4gICAgICAgICAgICAgICAgLy8gYXNzZXJ0IHRoYXQgdGhlIHBhcmFtZXRlciBsZW5ndGggaXMgMVxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZU1vY2tVc2VyVG9rZW4odG9rZW4sIHByb2plY3RJZCkge1xyXG4gICAgaWYgKHRva2VuLnVpZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFwidWlkXCIgZmllbGQgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBieSBtb2NrVXNlclRva2VuLiBQbGVhc2UgdXNlIFwic3ViXCIgaW5zdGVhZCBmb3IgRmlyZWJhc2UgQXV0aCBVc2VyIElELicpO1xyXG4gICAgfVxyXG4gICAgLy8gVW5zZWN1cmVkIEpXVHMgdXNlIFwibm9uZVwiIGFzIHRoZSBhbGdvcml0aG0uXHJcbiAgICBjb25zdCBoZWFkZXIgPSB7XHJcbiAgICAgICAgYWxnOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogJ0pXVCdcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdElkIHx8ICdkZW1vLXByb2plY3QnO1xyXG4gICAgY29uc3QgaWF0ID0gdG9rZW4uaWF0IHx8IDA7XHJcbiAgICBjb25zdCBzdWIgPSB0b2tlbi5zdWIgfHwgdG9rZW4udXNlcl9pZDtcclxuICAgIGlmICghc3ViKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibW9ja1VzZXJUb2tlbiBtdXN0IGNvbnRhaW4gJ3N1Yicgb3IgJ3VzZXJfaWQnIGZpZWxkIVwiKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHBheWxvYWQgPSBPYmplY3QuYXNzaWduKHsgXHJcbiAgICAgICAgLy8gU2V0IGFsbCByZXF1aXJlZCBmaWVsZHMgdG8gZGVjZW50IGRlZmF1bHRzXHJcbiAgICAgICAgaXNzOiBgaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tLyR7cHJvamVjdH1gLCBhdWQ6IHByb2plY3QsIGlhdCwgZXhwOiBpYXQgKyAzNjAwLCBhdXRoX3RpbWU6IGlhdCwgc3ViLCB1c2VyX2lkOiBzdWIsIGZpcmViYXNlOiB7XHJcbiAgICAgICAgICAgIHNpZ25faW5fcHJvdmlkZXI6ICdjdXN0b20nLFxyXG4gICAgICAgICAgICBpZGVudGl0aWVzOiB7fVxyXG4gICAgICAgIH0gfSwgdG9rZW4pO1xyXG4gICAgLy8gVW5zZWN1cmVkIEpXVHMgdXNlIHRoZSBlbXB0eSBzdHJpbmcgYXMgYSBzaWduYXR1cmUuXHJcbiAgICBjb25zdCBzaWduYXR1cmUgPSAnJztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkoaGVhZGVyKSksXHJcbiAgICAgICAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpLFxyXG4gICAgICAgIHNpZ25hdHVyZVxyXG4gICAgXS5qb2luKCcuJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgbmF2aWdhdG9yLnVzZXJBZ2VudCBzdHJpbmcgb3IgJycgaWYgaXQncyBub3QgZGVmaW5lZC5cclxuICogQHJldHVybiB1c2VyIGFnZW50IHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0VUEoKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yWyd1c2VyQWdlbnQnXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yWyd1c2VyQWdlbnQnXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogRGV0ZWN0IENvcmRvdmEgLyBQaG9uZUdhcCAvIElvbmljIGZyYW1ld29ya3Mgb24gYSBtb2JpbGUgZGV2aWNlLlxyXG4gKlxyXG4gKiBEZWxpYmVyYXRlbHkgZG9lcyBub3QgcmVseSBvbiBjaGVja2luZyBgZmlsZTovL2AgVVJMcyAoYXMgdGhpcyBmYWlscyBQaG9uZUdhcFxyXG4gKiBpbiB0aGUgUmlwcGxlIGVtdWxhdG9yKSBub3IgQ29yZG92YSBgb25EZXZpY2VSZWFkeWAsIHdoaWNoIHdvdWxkIG5vcm1hbGx5XHJcbiAqIHdhaXQgZm9yIGEgY2FsbGJhY2suXHJcbiAqL1xyXG5mdW5jdGlvbiBpc01vYmlsZUNvcmRvdmEoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBTZXR0aW5nIHVwIGFuIGJyb2FkbHkgYXBwbGljYWJsZSBpbmRleCBzaWduYXR1cmUgZm9yIFdpbmRvd1xyXG4gICAgICAgIC8vIGp1c3QgdG8gZGVhbCB3aXRoIHRoaXMgY2FzZSB3b3VsZCBwcm9iYWJseSBiZSBhIGJhZCBpZGVhLlxyXG4gICAgICAgICEhKHdpbmRvd1snY29yZG92YSddIHx8IHdpbmRvd1sncGhvbmVnYXAnXSB8fCB3aW5kb3dbJ1Bob25lR2FwJ10pICYmXHJcbiAgICAgICAgL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoZ2V0VUEoKSkpO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgTm9kZS5qcy5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIE5vZGUuanMgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQgb3Igc3BlY2lmaWVkLlxyXG4gKi9cclxuLy8gTm9kZSBkZXRlY3Rpb24gbG9naWMgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2lsaWFrYW4vZGV0ZWN0LW5vZGUvXHJcbmZ1bmN0aW9uIGlzTm9kZSgpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IGZvcmNlRW52aXJvbm1lbnQgPSAoX2EgPSBnZXREZWZhdWx0cygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yY2VFbnZpcm9ubWVudDtcclxuICAgIGlmIChmb3JjZUVudmlyb25tZW50ID09PSAnbm9kZScpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZvcmNlRW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBCcm93c2VyIEVudmlyb25tZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jyb3dzZXIoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgfHwgaXNXZWJXb3JrZXIoKTtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IFdlYiBXb3JrZXIgY29udGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gaXNXZWJXb3JrZXIoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUpO1xyXG59XHJcbmZ1bmN0aW9uIGlzQnJvd3NlckV4dGVuc2lvbigpIHtcclxuICAgIGNvbnN0IHJ1bnRpbWUgPSB0eXBlb2YgY2hyb21lID09PSAnb2JqZWN0J1xyXG4gICAgICAgID8gY2hyb21lLnJ1bnRpbWVcclxuICAgICAgICA6IHR5cGVvZiBicm93c2VyID09PSAnb2JqZWN0J1xyXG4gICAgICAgICAgICA/IGJyb3dzZXIucnVudGltZVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiB0eXBlb2YgcnVudGltZSA9PT0gJ29iamVjdCcgJiYgcnVudGltZS5pZCAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgUmVhY3QgTmF0aXZlLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1JlYWN0TmF0aXZlKCkge1xyXG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3JbJ3Byb2R1Y3QnXSA9PT0gJ1JlYWN0TmF0aXZlJyk7XHJcbn1cclxuLyoqIERldGVjdHMgRWxlY3Ryb24gYXBwcy4gKi9cclxuZnVuY3Rpb24gaXNFbGVjdHJvbigpIHtcclxuICAgIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ0VsZWN0cm9uLycpID49IDA7XHJcbn1cclxuLyoqIERldGVjdHMgSW50ZXJuZXQgRXhwbG9yZXIuICovXHJcbmZ1bmN0aW9uIGlzSUUoKSB7XHJcbiAgICBjb25zdCB1YSA9IGdldFVBKCk7XHJcbiAgICByZXR1cm4gdWEuaW5kZXhPZignTVNJRSAnKSA+PSAwIHx8IHVhLmluZGV4T2YoJ1RyaWRlbnQvJykgPj0gMDtcclxufVxyXG4vKiogRGV0ZWN0cyBVbml2ZXJzYWwgV2luZG93cyBQbGF0Zm9ybSBhcHBzLiAqL1xyXG5mdW5jdGlvbiBpc1VXUCgpIHtcclxuICAgIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ01TQXBwSG9zdC8nKSA+PSAwO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3Qgd2hldGhlciB0aGUgY3VycmVudCBTREsgYnVpbGQgaXMgdGhlIE5vZGUgdmVyc2lvbi5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIGl0J3MgdGhlIE5vZGUgU0RLIGJ1aWxkLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNOb2RlU2RrKCkge1xyXG4gICAgcmV0dXJuIENPTlNUQU5UUy5OT0RFX0NMSUVOVCA9PT0gdHJ1ZSB8fCBDT05TVEFOVFMuTk9ERV9BRE1JTiA9PT0gdHJ1ZTtcclxufVxyXG4vKiogUmV0dXJucyB0cnVlIGlmIHdlIGFyZSBydW5uaW5nIGluIFNhZmFyaS4gKi9cclxuZnVuY3Rpb24gaXNTYWZhcmkoKSB7XHJcbiAgICByZXR1cm4gKCFpc05vZGUoKSAmJlxyXG4gICAgICAgICEhbmF2aWdhdG9yLnVzZXJBZ2VudCAmJlxyXG4gICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ1NhZmFyaScpICYmXHJcbiAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ0Nocm9tZScpKTtcclxufVxyXG4vKipcclxuICogVGhpcyBtZXRob2QgY2hlY2tzIGlmIGluZGV4ZWREQiBpcyBzdXBwb3J0ZWQgYnkgY3VycmVudCBicm93c2VyL3NlcnZpY2Ugd29ya2VyIGNvbnRleHRcclxuICogQHJldHVybiB0cnVlIGlmIGluZGV4ZWREQiBpcyBzdXBwb3J0ZWQgYnkgY3VycmVudCBicm93c2VyL3NlcnZpY2Ugd29ya2VyIGNvbnRleHRcclxuICovXHJcbmZ1bmN0aW9uIGlzSW5kZXhlZERCQXZhaWxhYmxlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIGluZGV4ZWREQiA9PT0gJ29iamVjdCc7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVGhpcyBtZXRob2QgdmFsaWRhdGVzIGJyb3dzZXIvc3cgY29udGV4dCBmb3IgaW5kZXhlZERCIGJ5IG9wZW5pbmcgYSBkdW1teSBpbmRleGVkREIgZGF0YWJhc2UgYW5kIHJlamVjdFxyXG4gKiBpZiBlcnJvcnMgb2NjdXIgZHVyaW5nIHRoZSBkYXRhYmFzZSBvcGVuIG9wZXJhdGlvbi5cclxuICpcclxuICogQHRocm93cyBleGNlcHRpb24gaWYgY3VycmVudCBicm93c2VyL3N3IGNvbnRleHQgY2FuJ3QgcnVuIGlkYi5vcGVuIChleDogU2FmYXJpIGlmcmFtZSwgRmlyZWZveFxyXG4gKiBwcml2YXRlIGJyb3dzaW5nKVxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSgpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHByZUV4aXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3QgREJfQ0hFQ0tfTkFNRSA9ICd2YWxpZGF0ZS1icm93c2VyLWNvbnRleHQtZm9yLWluZGV4ZWRkYi1hbmFseXRpY3MtbW9kdWxlJztcclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHNlbGYuaW5kZXhlZERCLm9wZW4oREJfQ0hFQ0tfTkFNRSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5yZXN1bHQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBkYXRhYmFzZSBvbmx5IHdoZW4gaXQgZG9lc24ndCBwcmUtZXhpc3RcclxuICAgICAgICAgICAgICAgIGlmICghcHJlRXhpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShEQl9DSEVDS19OQU1FKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJlRXhpc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KCgoX2EgPSByZXF1ZXN0LmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWVzc2FnZSkgfHwgJycpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICpcclxuICogVGhpcyBtZXRob2QgY2hlY2tzIHdoZXRoZXIgY29va2llIGlzIGVuYWJsZWQgd2l0aGluIGN1cnJlbnQgYnJvd3NlclxyXG4gKiBAcmV0dXJuIHRydWUgaWYgY29va2llIGlzIGVuYWJsZWQgd2l0aGluIGN1cnJlbnQgYnJvd3NlclxyXG4gKi9cclxuZnVuY3Rpb24gYXJlQ29va2llc0VuYWJsZWQoKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgU3RhbmRhcmRpemVkIEZpcmViYXNlIEVycm9yLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICpcclxuICogICAvLyBUeXBlc2NyaXB0IHN0cmluZyBsaXRlcmFscyBmb3IgdHlwZS1zYWZlIGNvZGVzXHJcbiAqICAgdHlwZSBFcnIgPVxyXG4gKiAgICAgJ3Vua25vd24nIHxcclxuICogICAgICdvYmplY3Qtbm90LWZvdW5kJ1xyXG4gKiAgICAgO1xyXG4gKlxyXG4gKiAgIC8vIENsb3N1cmUgZW51bSBmb3IgdHlwZS1zYWZlIGVycm9yIGNvZGVzXHJcbiAqICAgLy8gYXQtZW51bSB7c3RyaW5nfVxyXG4gKiAgIHZhciBFcnIgPSB7XHJcbiAqICAgICBVTktOT1dOOiAndW5rbm93bicsXHJcbiAqICAgICBPQkpFQ1RfTk9UX0ZPVU5EOiAnb2JqZWN0LW5vdC1mb3VuZCcsXHJcbiAqICAgfVxyXG4gKlxyXG4gKiAgIGxldCBlcnJvcnM6IE1hcDxFcnIsIHN0cmluZz4gPSB7XHJcbiAqICAgICAnZ2VuZXJpYy1lcnJvcic6IFwiVW5rbm93biBlcnJvclwiLFxyXG4gKiAgICAgJ2ZpbGUtbm90LWZvdW5kJzogXCJDb3VsZCBub3QgZmluZCBmaWxlOiB7JGZpbGV9XCIsXHJcbiAqICAgfTtcclxuICpcclxuICogICAvLyBUeXBlLXNhZmUgZnVuY3Rpb24gLSBtdXN0IHBhc3MgYSB2YWxpZCBlcnJvciBjb2RlIGFzIHBhcmFtLlxyXG4gKiAgIGxldCBlcnJvciA9IG5ldyBFcnJvckZhY3Rvcnk8RXJyPignc2VydmljZScsICdTZXJ2aWNlJywgZXJyb3JzKTtcclxuICpcclxuICogICAuLi5cclxuICogICB0aHJvdyBlcnJvci5jcmVhdGUoRXJyLkdFTkVSSUMpO1xyXG4gKiAgIC4uLlxyXG4gKiAgIHRocm93IGVycm9yLmNyZWF0ZShFcnIuRklMRV9OT1RfRk9VTkQsIHsnZmlsZSc6IGZpbGVOYW1lfSk7XHJcbiAqICAgLi4uXHJcbiAqICAgLy8gU2VydmljZTogQ291bGQgbm90IGZpbGUgZmlsZTogZm9vLnR4dCAoc2VydmljZS9maWxlLW5vdC1mb3VuZCkuXHJcbiAqXHJcbiAqICAgY2F0Y2ggKGUpIHtcclxuICogICAgIGFzc2VydChlLm1lc3NhZ2UgPT09IFwiQ291bGQgbm90IGZpbmQgZmlsZTogZm9vLnR4dC5cIik7XHJcbiAqICAgICBpZiAoKGUgYXMgRmlyZWJhc2VFcnJvcik/LmNvZGUgPT09ICdzZXJ2aWNlL2ZpbGUtbm90LWZvdW5kJykge1xyXG4gKiAgICAgICBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCByZWFkIGZpbGU6IFwiICsgZVsnZmlsZSddKTtcclxuICogICAgIH1cclxuICogICB9XHJcbiAqL1xyXG5jb25zdCBFUlJPUl9OQU1FID0gJ0ZpcmViYXNlRXJyb3InO1xyXG4vLyBCYXNlZCBvbiBjb2RlIGZyb206XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yI0N1c3RvbV9FcnJvcl9UeXBlc1xyXG5jbGFzcyBGaXJlYmFzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAvKiogVGhlIGVycm9yIGNvZGUgZm9yIHRoaXMgZXJyb3IuICovXHJcbiAgICBjb2RlLCBtZXNzYWdlLCBcclxuICAgIC8qKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBlcnJvci4gKi9cclxuICAgIGN1c3RvbURhdGEpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIHRoaXMuY3VzdG9tRGF0YSA9IGN1c3RvbURhdGE7XHJcbiAgICAgICAgLyoqIFRoZSBjdXN0b20gbmFtZSBmb3IgYWxsIEZpcmViYXNlRXJyb3JzLiAqL1xyXG4gICAgICAgIHRoaXMubmFtZSA9IEVSUk9SX05BTUU7XHJcbiAgICAgICAgLy8gRml4IEZvciBFUzVcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQtd2lraS9ibG9iL21hc3Rlci9CcmVha2luZy1DaGFuZ2VzLm1kI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBGaXJlYmFzZUVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgLy8gTWFpbnRhaW5zIHByb3BlciBzdGFjayB0cmFjZSBmb3Igd2hlcmUgb3VyIGVycm9yIHdhcyB0aHJvd24uXHJcbiAgICAgICAgLy8gT25seSBhdmFpbGFibGUgb24gVjguXHJcbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XHJcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEVycm9yRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgRXJyb3JGYWN0b3J5IHtcclxuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2UsIHNlcnZpY2VOYW1lLCBlcnJvcnMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMuc2VydmljZU5hbWUgPSBzZXJ2aWNlTmFtZTtcclxuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcclxuICAgIH1cclxuICAgIGNyZWF0ZShjb2RlLCAuLi5kYXRhKSB7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tRGF0YSA9IGRhdGFbMF0gfHwge307XHJcbiAgICAgICAgY29uc3QgZnVsbENvZGUgPSBgJHt0aGlzLnNlcnZpY2V9LyR7Y29kZX1gO1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5lcnJvcnNbY29kZV07XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRlbXBsYXRlID8gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlLCBjdXN0b21EYXRhKSA6ICdFcnJvcic7XHJcbiAgICAgICAgLy8gU2VydmljZSBOYW1lOiBFcnJvciBtZXNzYWdlIChzZXJ2aWNlL2NvZGUpLlxyXG4gICAgICAgIGNvbnN0IGZ1bGxNZXNzYWdlID0gYCR7dGhpcy5zZXJ2aWNlTmFtZX06ICR7bWVzc2FnZX0gKCR7ZnVsbENvZGV9KS5gO1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEZpcmViYXNlRXJyb3IoZnVsbENvZGUsIGZ1bGxNZXNzYWdlLCBjdXN0b21EYXRhKTtcclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlLCBkYXRhKSB7XHJcbiAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShQQVRURVJOLCAoXywga2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhW2tleV07XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyBTdHJpbmcodmFsdWUpIDogYDwke2tleX0/PmA7XHJcbiAgICB9KTtcclxufVxyXG5jb25zdCBQQVRURVJOID0gL1xce1xcJChbXn1dKyl9L2c7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFdmFsdWF0ZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgQSBzdHJpbmcgY29udGFpbmluZyBKU09OLlxyXG4gKiBAcmV0dXJuIHsqfSBUaGUgamF2YXNjcmlwdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpZWQgSlNPTi5cclxuICovXHJcbmZ1bmN0aW9uIGpzb25FdmFsKHN0cikge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBKU09OIHJlcHJlc2VudGluZyBhIGphdmFzY3JpcHQgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IGRhdGEgSmF2YXNjcmlwdCBvYmplY3QgdG8gYmUgc3RyaW5naWZpZWQuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIEpTT04gY29udGVudHMgb2YgdGhlIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeShkYXRhKSB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBpbnRvIGNvbnN0aXR1ZW50IHBhcnRzLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIHdpdGggaW52YWxpZCAvIGluY29tcGxldGUgY2xhaW1zIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxuY29uc3QgZGVjb2RlID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBsZXQgaGVhZGVyID0ge30sIGNsYWltcyA9IHt9LCBkYXRhID0ge30sIHNpZ25hdHVyZSA9ICcnO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaGVhZGVyID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzBdKSB8fCAnJyk7XHJcbiAgICAgICAgY2xhaW1zID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzFdKSB8fCAnJyk7XHJcbiAgICAgICAgc2lnbmF0dXJlID0gcGFydHNbMl07XHJcbiAgICAgICAgZGF0YSA9IGNsYWltc1snZCddIHx8IHt9O1xyXG4gICAgICAgIGRlbGV0ZSBjbGFpbXNbJ2QnXTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyLFxyXG4gICAgICAgIGNsYWltcyxcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIHNpZ25hdHVyZVxyXG4gICAgfTtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgdGltZS1iYXNlZCBjbGFpbXMuIFdpbGwgcmV0dXJuIHRydWUgaWYgdGhlXHJcbiAqIHRva2VuIGlzIHdpdGhpbiB0aGUgdGltZSB3aW5kb3cgYXV0aG9yaXplZCBieSB0aGUgJ25iZicgKG5vdC1iZWZvcmUpIGFuZCAnaWF0JyAoaXNzdWVkLWF0KSBjbGFpbXMuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGlzVmFsaWRUaW1lc3RhbXAgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGNvbnN0IGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xyXG4gICAgbGV0IHZhbGlkU2luY2UgPSAwLCB2YWxpZFVudGlsID0gMDtcclxuICAgIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ25iZicpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ25iZiddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ2lhdCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCdleHAnKSkge1xyXG4gICAgICAgICAgICB2YWxpZFVudGlsID0gY2xhaW1zWydleHAnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRva2VuIHdpbGwgZXhwaXJlIGFmdGVyIDI0aCBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgIHZhbGlkVW50aWwgPSB2YWxpZFNpbmNlICsgODY0MDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuICghIW5vdyAmJlxyXG4gICAgICAgICEhdmFsaWRTaW5jZSAmJlxyXG4gICAgICAgICEhdmFsaWRVbnRpbCAmJlxyXG4gICAgICAgIG5vdyA+PSB2YWxpZFNpbmNlICYmXHJcbiAgICAgICAgbm93IDw9IHZhbGlkVW50aWwpO1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCByZXR1cm5zIGl0cyBpc3N1ZWQgYXQgdGltZSBpZiB2YWxpZCwgbnVsbCBvdGhlcndpc2UuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gbnVsbCBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGlzc3VlZEF0VGltZSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgY29uc3QgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICBpZiAodHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKSkge1xyXG4gICAgICAgIHJldHVybiBjbGFpbXNbJ2lhdCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIGNoZWNrcyB0aGUgdmFsaWRpdHkgb2YgaXRzIGZvcm1hdC4gRXhwZWN0cyBhIHZhbGlkIGlzc3VlZC1hdCB0aW1lLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG5jb25zdCBpc1ZhbGlkRm9ybWF0ID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlKHRva2VuKSwgY2xhaW1zID0gZGVjb2RlZC5jbGFpbXM7XHJcbiAgICByZXR1cm4gISFjbGFpbXMgJiYgdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKTtcclxufTtcclxuLyoqXHJcbiAqIEF0dGVtcHRzIHRvIHBlZXIgaW50byBhbiBhdXRoIHRva2VuIGFuZCBkZXRlcm1pbmUgaWYgaXQncyBhbiBhZG1pbiBhdXRoIHRva2VuIGJ5IGxvb2tpbmcgYXQgdGhlIGNsYWltcyBwb3J0aW9uLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG5jb25zdCBpc0FkbWluID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBjb25zdCBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIHJldHVybiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXNbJ2FkbWluJ10gPT09IHRydWU7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGNvbnRhaW5zKG9iaiwga2V5KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxufVxyXG5mdW5jdGlvbiBzYWZlR2V0KG9iaiwga2V5KSB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgIHJldHVybiBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBtYXAob2JqLCBmbiwgY29udGV4dE9iaikge1xyXG4gICAgY29uc3QgcmVzID0ge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgICByZXNba2V5XSA9IGZuLmNhbGwoY29udGV4dE9iaiwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbi8qKlxyXG4gKiBEZWVwIGVxdWFsIHR3byBvYmplY3RzLiBTdXBwb3J0IEFycmF5cyBhbmQgT2JqZWN0cy5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XHJcbiAgICBpZiAoYSA9PT0gYikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcclxuICAgIGNvbnN0IGJLZXlzID0gT2JqZWN0LmtleXMoYik7XHJcbiAgICBmb3IgKGNvbnN0IGsgb2YgYUtleXMpIHtcclxuICAgICAgICBpZiAoIWJLZXlzLmluY2x1ZGVzKGspKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYVByb3AgPSBhW2tdO1xyXG4gICAgICAgIGNvbnN0IGJQcm9wID0gYltrXTtcclxuICAgICAgICBpZiAoaXNPYmplY3QoYVByb3ApICYmIGlzT2JqZWN0KGJQcm9wKSkge1xyXG4gICAgICAgICAgICBpZiAoIWRlZXBFcXVhbChhUHJvcCwgYlByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYVByb3AgIT09IGJQcm9wKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGsgb2YgYktleXMpIHtcclxuICAgICAgICBpZiAoIWFLZXlzLmluY2x1ZGVzKGspKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBpc09iamVjdCh0aGluZykge1xyXG4gICAgcmV0dXJuIHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJlamVjdHMgaWYgdGhlIGdpdmVuIHByb21pc2UgZG9lc24ndCByZXNvbHZlIGluIHRpbWVJbk1TIG1pbGxpc2Vjb25kcy5cclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBwcm9taXNlV2l0aFRpbWVvdXQocHJvbWlzZSwgdGltZUluTVMgPSAyMDAwKSB7XHJcbiAgICBjb25zdCBkZWZlcnJlZFByb21pc2UgPSBuZXcgRGVmZXJyZWQoKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gZGVmZXJyZWRQcm9taXNlLnJlamVjdCgndGltZW91dCEnKSwgdGltZUluTVMpO1xyXG4gICAgcHJvbWlzZS50aGVuKGRlZmVycmVkUHJvbWlzZS5yZXNvbHZlLCBkZWZlcnJlZFByb21pc2UucmVqZWN0KTtcclxuICAgIHJldHVybiBkZWZlcnJlZFByb21pc2UucHJvbWlzZTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBhIHF1ZXJ5c3RyaW5nLWZvcm1hdHRlZCBzdHJpbmcgKGUuZy4gJmFyZz12YWwmYXJnMj12YWwyKSBmcm9tIGFcclxuICogcGFyYW1zIG9iamVjdCAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcclxuICogTm90ZTogWW91IG11c3QgcHJlcGVuZCBpdCB3aXRoID8gd2hlbiBhZGRpbmcgaXQgdG8gYSBVUkwuXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeXN0cmluZyhxdWVyeXN0cmluZ1BhcmFtcykge1xyXG4gICAgY29uc3QgcGFyYW1zID0gW107XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhxdWVyeXN0cmluZ1BhcmFtcykpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChhcnJheVZhbCA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChhcnJheVZhbCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcmFtcy5sZW5ndGggPyAnJicgKyBwYXJhbXMuam9pbignJicpIDogJyc7XHJcbn1cclxuLyoqXHJcbiAqIERlY29kZXMgYSBxdWVyeXN0cmluZyAoZS5nLiA/YXJnPXZhbCZhcmcyPXZhbDIpIGludG8gYSBwYXJhbXMgb2JqZWN0XHJcbiAqIChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxyXG4gKi9cclxuZnVuY3Rpb24gcXVlcnlzdHJpbmdEZWNvZGUocXVlcnlzdHJpbmcpIHtcclxuICAgIGNvbnN0IG9iaiA9IHt9O1xyXG4gICAgY29uc3QgdG9rZW5zID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sICcnKS5zcGxpdCgnJicpO1xyXG4gICAgdG9rZW5zLmZvckVhY2godG9rZW4gPT4ge1xyXG4gICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSB0b2tlbi5zcGxpdCgnPScpO1xyXG4gICAgICAgICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KGtleSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBvYmo7XHJcbn1cclxuLyoqXHJcbiAqIEV4dHJhY3QgdGhlIHF1ZXJ5IHN0cmluZyBwYXJ0IG9mIGEgVVJMLCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgcXVlc3Rpb24gbWFyayAoaWYgcHJlc2VudCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0UXVlcnlzdHJpbmcodXJsKSB7XHJcbiAgICBjb25zdCBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcclxuICAgIGlmICghcXVlcnlTdGFydCkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGNvbnN0IGZyYWdtZW50U3RhcnQgPSB1cmwuaW5kZXhPZignIycsIHF1ZXJ5U3RhcnQpO1xyXG4gICAgcmV0dXJuIHVybC5zdWJzdHJpbmcocXVlcnlTdGFydCwgZnJhZ21lbnRTdGFydCA+IDAgPyBmcmFnbWVudFN0YXJ0IDogdW5kZWZpbmVkKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2guXHJcbiAqIFZhcmlhYmxlIG5hbWVzIGZvbGxvdyB0aGUgbm90YXRpb24gaW4gRklQUyBQVUIgMTgwLTM6XHJcbiAqIGh0dHA6Ly9jc3JjLm5pc3QuZ292L3B1YmxpY2F0aW9ucy9maXBzL2ZpcHMxODAtMy9maXBzMTgwLTNfZmluYWwucGRmLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICogICB2YXIgc2hhMSA9IG5ldyBzaGExKCk7XHJcbiAqICAgc2hhMS51cGRhdGUoYnl0ZXMpO1xyXG4gKiAgIHZhciBoYXNoID0gc2hhMS5kaWdlc3QoKTtcclxuICpcclxuICogUGVyZm9ybWFuY2U6XHJcbiAqICAgQ2hyb21lIDIzOiAgIH40MDAgTWJpdC9zXHJcbiAqICAgRmlyZWZveCAxNjogIH4yNTAgTWJpdC9zXHJcbiAqXHJcbiAqL1xyXG4vKipcclxuICogU0hBLTEgY3J5cHRvZ3JhcGhpYyBoYXNoIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKiBUaGUgcHJvcGVydGllcyBkZWNsYXJlZCBoZXJlIGFyZSBkaXNjdXNzZWQgaW4gdGhlIGFib3ZlIGFsZ29yaXRobSBkb2N1bWVudC5cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBmaW5hbFxyXG4gKiBAc3RydWN0XHJcbiAqL1xyXG5jbGFzcyBTaGExIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhvbGRzIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgYWNjdW11bGF0ZWQgdmFyaWFibGVzIGEtZSBpbiB0aGUgY29tcHJlc3NfXHJcbiAgICAgICAgICogZnVuY3Rpb24uXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNoYWluXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgYnVmZmVyIGhvbGRpbmcgdGhlIHBhcnRpYWxseSBjb21wdXRlZCBoYXNoIHJlc3VsdC5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYnVmXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuIGFycmF5IG9mIDgwIGJ5dGVzLCBlYWNoIGEgcGFydCBvZiB0aGUgbWVzc2FnZSB0byBiZSBoYXNoZWQuICBSZWZlcnJlZCB0b1xyXG4gICAgICAgICAqIGFzIHRoZSBtZXNzYWdlIHNjaGVkdWxlIGluIHRoZSBkb2NzLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5XXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnRhaW5zIGRhdGEgbmVlZGVkIHRvIHBhZCBtZXNzYWdlcyBsZXNzIHRoYW4gNjQgYnl0ZXMuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnBhZF8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaW5idWZfID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMudG90YWxfID0gMDtcclxuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IDUxMiAvIDg7XHJcbiAgICAgICAgdGhpcy5wYWRfWzBdID0gMTI4O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5ibG9ja1NpemU7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZF9baV0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmNoYWluX1swXSA9IDB4Njc0NTIzMDE7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMV0gPSAweGVmY2RhYjg5O1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzJdID0gMHg5OGJhZGNmZTtcclxuICAgICAgICB0aGlzLmNoYWluX1szXSA9IDB4MTAzMjU0NzY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bNF0gPSAweGMzZDJlMWYwO1xyXG4gICAgICAgIHRoaXMuaW5idWZfID0gMDtcclxuICAgICAgICB0aGlzLnRvdGFsXyA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIGNvbXByZXNzIGhlbHBlciBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSBidWYgQmxvY2sgdG8gY29tcHJlc3MuXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IE9mZnNldCBvZiB0aGUgYmxvY2sgaW4gdGhlIGJ1ZmZlci5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbXByZXNzXyhidWYsIG9mZnNldCkge1xyXG4gICAgICAgIGlmICghb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IFcgPSB0aGlzLldfO1xyXG4gICAgICAgIC8vIGdldCAxNiBiaWcgZW5kaWFuIHdvcmRzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBidWYgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyh1c2VyKTogW2J1ZyA4MTQwMTIyXSBSZWNlbnQgdmVyc2lvbnMgb2YgU2FmYXJpIGZvciBNYWMgT1MgYW5kIGlPU1xyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGJ1ZyB0aGF0IHR1cm5zIHRoZSBwb3N0LWluY3JlbWVudCArKyBvcGVyYXRvciBpbnRvIHByZS1pbmNyZW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIGR1cmluZyBKSVQgY29tcGlsYXRpb24uICBXZSBoYXZlIGNvZGUgdGhhdCBkZXBlbmRzIGhlYXZpbHkgb24gU0hBLTEgZm9yXHJcbiAgICAgICAgICAgICAgICAvLyBjb3JyZWN0bmVzcyBhbmQgd2hpY2ggaXMgYWZmZWN0ZWQgYnkgdGhpcyBidWcsIHNvIEkndmUgcmVtb3ZlZCBhbGwgdXNlc1xyXG4gICAgICAgICAgICAgICAgLy8gb2YgcG9zdC1pbmNyZW1lbnQgKysgaW4gd2hpY2ggdGhlIHJlc3VsdCB2YWx1ZSBpcyB1c2VkLiAgV2UgY2FuIHJldmVydFxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjaGFuZ2Ugb25jZSB0aGUgU2FmYXJpIGJ1Z1xyXG4gICAgICAgICAgICAgICAgLy8gKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDkwMzYpIGhhcyBiZWVuIGZpeGVkIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBjbGllbnRzIGhhdmUgYmVlbiB1cGRhdGVkLlxyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCkgPDwgMjQpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDEpIDw8IDE2KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQgKyAyKSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDMpO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXRdIDw8IDI0KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWZbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXQgKyAyXSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZltvZmZzZXQgKyAzXTtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGV4cGFuZCB0byA4MCB3b3Jkc1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxNjsgaSA8IDgwOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdCA9IFdbaSAtIDNdIF4gV1tpIC0gOF0gXiBXW2kgLSAxNF0gXiBXW2kgLSAxNl07XHJcbiAgICAgICAgICAgIFdbaV0gPSAoKHQgPDwgMSkgfCAodCA+Pj4gMzEpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhID0gdGhpcy5jaGFpbl9bMF07XHJcbiAgICAgICAgbGV0IGIgPSB0aGlzLmNoYWluX1sxXTtcclxuICAgICAgICBsZXQgYyA9IHRoaXMuY2hhaW5fWzJdO1xyXG4gICAgICAgIGxldCBkID0gdGhpcy5jaGFpbl9bM107XHJcbiAgICAgICAgbGV0IGUgPSB0aGlzLmNoYWluX1s0XTtcclxuICAgICAgICBsZXQgZiwgaztcclxuICAgICAgICAvLyBUT0RPKHVzZXIpOiBUcnkgdG8gdW5yb2xsIHRoaXMgbG9vcCB0byBzcGVlZCB1cCB0aGUgY29tcHV0YXRpb24uXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4MDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDwgNDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDwgMjApIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gZCBeIChiICYgKGMgXiBkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4NWE4Mjc5OTk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gYiBeIGMgXiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDZlZDllYmExO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCA2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSAoYiAmIGMpIHwgKGQgJiAoYiB8IGMpKTtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg4ZjFiYmNkYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4Y2E2MmMxZDY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdCA9ICgoKGEgPDwgNSkgfCAoYSA+Pj4gMjcpKSArIGYgKyBlICsgayArIFdbaV0pICYgMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgZSA9IGQ7XHJcbiAgICAgICAgICAgIGQgPSBjO1xyXG4gICAgICAgICAgICBjID0gKChiIDw8IDMwKSB8IChiID4+PiAyKSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBiID0gYTtcclxuICAgICAgICAgICAgYSA9IHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhaW5fWzBdID0gKHRoaXMuY2hhaW5fWzBdICsgYSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzFdID0gKHRoaXMuY2hhaW5fWzFdICsgYikgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzJdID0gKHRoaXMuY2hhaW5fWzJdICsgYykgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzNdID0gKHRoaXMuY2hhaW5fWzNdICsgZCkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzRdID0gKHRoaXMuY2hhaW5fWzRdICsgZSkgJiAweGZmZmZmZmZmO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGJ5dGVzLCBsZW5ndGgpIHtcclxuICAgICAgICAvLyBUT0RPKGpvaG5sZW56KTogdGlnaHRlbiB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIGFuZCByZW1vdmUgdGhpcyBjaGVja1xyXG4gICAgICAgIGlmIChieXRlcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoTWludXNCbG9jayA9IGxlbmd0aCAtIHRoaXMuYmxvY2tTaXplO1xyXG4gICAgICAgIGxldCBuID0gMDtcclxuICAgICAgICAvLyBVc2luZyBsb2NhbCBpbnN0ZWFkIG9mIG1lbWJlciB2YXJpYWJsZXMgZ2l2ZXMgfjUlIHNwZWVkdXAgb24gRmlyZWZveCAxNi5cclxuICAgICAgICBjb25zdCBidWYgPSB0aGlzLmJ1Zl87XHJcbiAgICAgICAgbGV0IGluYnVmID0gdGhpcy5pbmJ1Zl87XHJcbiAgICAgICAgLy8gVGhlIG91dGVyIHdoaWxlIGxvb3Agc2hvdWxkIGV4ZWN1dGUgYXQgbW9zdCB0d2ljZS5cclxuICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIHdlIGhhdmUgbm8gZGF0YSBpbiB0aGUgYmxvY2sgdG8gdG9wIHVwLCB3ZSBjYW4gZGlyZWN0bHkgcHJvY2VzcyB0aGVcclxuICAgICAgICAgICAgLy8gaW5wdXQgYnVmZmVyIChhc3N1bWluZyBpdCBjb250YWlucyBzdWZmaWNpZW50IGRhdGEpLiBUaGlzIGdpdmVzIH4yNSVcclxuICAgICAgICAgICAgLy8gc3BlZWR1cCBvbiBDaHJvbWUgMjMgYW5kIH4xNSUgc3BlZWR1cCBvbiBGaXJlZm94IDE2LCBidXQgcmVxdWlyZXMgdGhhdFxyXG4gICAgICAgICAgICAvLyB0aGUgZGF0YSBpcyBwcm92aWRlZCBpbiBsYXJnZSBjaHVua3MgKG9yIGluIG11bHRpcGxlcyBvZiA2NCBieXRlcykuXHJcbiAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPD0gbGVuZ3RoTWludXNCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ5dGVzLCBuKTtcclxuICAgICAgICAgICAgICAgICAgICBuICs9IHRoaXMuYmxvY2tTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpbmJ1Zl0gPSBieXRlcy5jaGFyQ29kZUF0KG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICsraW5idWY7XHJcbiAgICAgICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gdGhpcy5ibG9ja1NpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5idWYgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBKdW1wIHRvIHRoZSBvdXRlciBsb29wIHNvIHdlIHVzZSB0aGUgZnVsbC1ibG9jayBvcHRpbWl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzW25dO1xyXG4gICAgICAgICAgICAgICAgICAgICsraW5idWY7XHJcbiAgICAgICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gdGhpcy5ibG9ja1NpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5idWYgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBKdW1wIHRvIHRoZSBvdXRlciBsb29wIHNvIHdlIHVzZSB0aGUgZnVsbC1ibG9jayBvcHRpbWl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluYnVmXyA9IGluYnVmO1xyXG4gICAgICAgIHRoaXMudG90YWxfICs9IGxlbmd0aDtcclxuICAgIH1cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIGRpZ2VzdCgpIHtcclxuICAgICAgICBjb25zdCBkaWdlc3QgPSBbXTtcclxuICAgICAgICBsZXQgdG90YWxCaXRzID0gdGhpcy50b3RhbF8gKiA4O1xyXG4gICAgICAgIC8vIEFkZCBwYWQgMHg4MCAweDAwKi5cclxuICAgICAgICBpZiAodGhpcy5pbmJ1Zl8gPCA1Nikge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZF8sIDU2IC0gdGhpcy5pbmJ1Zl8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCB0aGlzLmJsb2NrU2l6ZSAtICh0aGlzLmluYnVmXyAtIDU2KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCAjIGJpdHMuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuYmxvY2tTaXplIC0gMTsgaSA+PSA1NjsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmX1tpXSA9IHRvdGFsQml0cyAmIDI1NTtcclxuICAgICAgICAgICAgdG90YWxCaXRzIC89IDI1NjsgLy8gRG9uJ3QgdXNlIGJpdC1zaGlmdGluZyBoZXJlIVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbXByZXNzXyh0aGlzLmJ1Zl8pO1xyXG4gICAgICAgIGxldCBuID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMjQ7IGogPj0gMDsgaiAtPSA4KSB7XHJcbiAgICAgICAgICAgICAgICBkaWdlc3Rbbl0gPSAodGhpcy5jaGFpbl9baV0gPj4gaikgJiAyNTU7XHJcbiAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRpZ2VzdDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogSGVscGVyIHRvIG1ha2UgYSBTdWJzY3JpYmUgZnVuY3Rpb24gKGp1c3QgbGlrZSBQcm9taXNlIGhlbHBzIG1ha2UgYVxyXG4gKiBUaGVuYWJsZSkuXHJcbiAqXHJcbiAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxyXG4gKiAgICAgYXMgYSBwcm94eS5cclxuICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlKGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKSB7XHJcbiAgICBjb25zdCBwcm94eSA9IG5ldyBPYnNlcnZlclByb3h5KGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKTtcclxuICAgIHJldHVybiBwcm94eS5zdWJzY3JpYmUuYmluZChwcm94eSk7XHJcbn1cclxuLyoqXHJcbiAqIEltcGxlbWVudCBmYW4tb3V0IGZvciBhbnkgbnVtYmVyIG9mIE9ic2VydmVycyBhdHRhY2hlZCB2aWEgYSBzdWJzY3JpYmVcclxuICogZnVuY3Rpb24uXHJcbiAqL1xyXG5jbGFzcyBPYnNlcnZlclByb3h5IHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXHJcbiAgICAgKiAgICAgYXMgYSBwcm94eS5cclxuICAgICAqIEBwYXJhbSBvbk5vT2JzZXJ2ZXJzIENhbGxiYWNrIHdoZW4gY291bnQgb2YgT2JzZXJ2ZXJzIGdvZXMgdG8gemVyby5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVzID0gW107XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlckNvdW50ID0gMDtcclxuICAgICAgICAvLyBNaWNyby10YXNrIHNjaGVkdWxpbmcgYnkgY2FsbGluZyB0YXNrLnRoZW4oKS5cclxuICAgICAgICB0aGlzLnRhc2sgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub25Ob09ic2VydmVycyA9IG9uTm9PYnNlcnZlcnM7XHJcbiAgICAgICAgLy8gQ2FsbCB0aGUgZXhlY3V0b3IgYXN5bmNocm9ub3VzbHkgc28gc3Vic2NyaWJlcnMgdGhhdCBhcmUgY2FsbGVkXHJcbiAgICAgICAgLy8gc3luY2hyb25vdXNseSBhZnRlciB0aGUgY3JlYXRpb24gb2YgdGhlIHN1YnNjcmliZSBmdW5jdGlvblxyXG4gICAgICAgIC8vIGNhbiBzdGlsbCByZWNlaXZlIHRoZSB2ZXJ5IGZpcnN0IHZhbHVlIGdlbmVyYXRlZCBpbiB0aGUgZXhlY3V0b3IuXHJcbiAgICAgICAgdGhpcy50YXNrXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgZXhlY3V0b3IodGhpcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbmV4dCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVycm9yKGVycm9yKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsb3NlKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbXBsZXRlKCkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU3Vic2NyaWJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIGFuIE9ic2VydmVyIHRvIHRoZSBmYW4tb3V0IGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogLSBXZSByZXF1aXJlIHRoYXQgbm8gZXZlbnQgaXMgc2VudCB0byBhIHN1YnNjcmliZXIgc3ljaHJvbm91c2x5IHRvIHRoZWlyXHJcbiAgICAgKiAgIGNhbGwgdG8gc3Vic2NyaWJlKCkuXHJcbiAgICAgKi9cclxuICAgIHN1YnNjcmliZShuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgbGV0IG9ic2VydmVyO1xyXG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciA9PT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGVycm9yID09PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgY29tcGxldGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgT2JzZXJ2ZXIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFzc2VtYmxlIGFuIE9ic2VydmVyIG9iamVjdCB3aGVuIHBhc3NlZCBhcyBjYWxsYmFjayBmdW5jdGlvbnMuXHJcbiAgICAgICAgaWYgKGltcGxlbWVudHNBbnlNZXRob2RzKG5leHRPck9ic2VydmVyLCBbXHJcbiAgICAgICAgICAgICduZXh0JyxcclxuICAgICAgICAgICAgJ2Vycm9yJyxcclxuICAgICAgICAgICAgJ2NvbXBsZXRlJ1xyXG4gICAgICAgIF0pKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0gbmV4dE9yT2JzZXJ2ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvYnNlcnZlciA9IHtcclxuICAgICAgICAgICAgICAgIG5leHQ6IG5leHRPck9ic2VydmVyLFxyXG4gICAgICAgICAgICAgICAgZXJyb3IsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIuZXJyb3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvciA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5jb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdW5zdWIgPSB0aGlzLnVuc3Vic2NyaWJlT25lLmJpbmQodGhpcywgdGhpcy5vYnNlcnZlcnMubGVuZ3RoKTtcclxuICAgICAgICAvLyBBdHRlbXB0IHRvIHN1YnNjcmliZSB0byBhIHRlcm1pbmF0ZWQgT2JzZXJ2YWJsZSAtIHdlXHJcbiAgICAgICAgLy8ganVzdCByZXNwb25kIHRvIHRoZSBPYnNlcnZlciB3aXRoIHRoZSBmaW5hbCBlcnJvciBvciBjb21wbGV0ZVxyXG4gICAgICAgIC8vIGV2ZW50LlxyXG4gICAgICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgICAgIHRoaXMudGFzay50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmluYWxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcih0aGlzLmZpbmFsRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xyXG4gICAgICAgIHJldHVybiB1bnN1YjtcclxuICAgIH1cclxuICAgIC8vIFVuc3Vic2NyaWJlIGlzIHN5bmNocm9ub3VzIC0gd2UgZ3VhcmFudGVlIHRoYXQgbm8gZXZlbnRzIGFyZSBzZW50IHRvXHJcbiAgICAvLyBhbnkgdW5zdWJzY3JpYmVkIE9ic2VydmVyLlxyXG4gICAgdW5zdWJzY3JpYmVPbmUoaSkge1xyXG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVycyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMub2JzZXJ2ZXJzW2ldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlckNvdW50IC09IDE7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJDb3VudCA9PT0gMCAmJiB0aGlzLm9uTm9PYnNlcnZlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uTm9PYnNlcnZlcnModGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yRWFjaE9ic2VydmVyKGZuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIEFscmVhZHkgY2xvc2VkIGJ5IHByZXZpb3VzIGV2ZW50Li4uLmp1c3QgZWF0IHRoZSBhZGRpdGlvbmFsIHZhbHVlcy5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTaW5jZSBzZW5kT25lIGNhbGxzIGFzeW5jaHJvbm91c2x5IC0gdGhlcmUgaXMgbm8gY2hhbmNlIHRoYXRcclxuICAgICAgICAvLyB0aGlzLm9ic2VydmVycyB3aWxsIGJlY29tZSB1bmRlZmluZWQuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRPbmUoaSwgZm4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIENhbGwgdGhlIE9ic2VydmVyIHZpYSBvbmUgb2YgaXQncyBjYWxsYmFjayBmdW5jdGlvbi4gV2UgYXJlIGNhcmVmdWwgdG9cclxuICAgIC8vIGNvbmZpcm0gdGhhdCB0aGUgb2JzZXJ2ZSBoYXMgbm90IGJlZW4gdW5zdWJzY3JpYmVkIHNpbmNlIHRoaXMgYXN5bmNocm9ub3VzXHJcbiAgICAvLyBmdW5jdGlvbiBoYWQgYmVlbiBxdWV1ZWQuXHJcbiAgICBzZW5kT25lKGksIGZuKSB7XHJcbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgY2FsbGJhY2sgYXN5bmNocm9ub3VzbHlcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgdGhpcy50YXNrLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMgIT09IHVuZGVmaW5lZCAmJiB0aGlzLm9ic2VydmVyc1tpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuKHRoaXMub2JzZXJ2ZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGV4Y2VwdGlvbnMgcmFpc2VkIGluIE9ic2VydmVycyBvciBtaXNzaW5nIG1ldGhvZHMgb2YgYW5cclxuICAgICAgICAgICAgICAgICAgICAvLyBPYnNlcnZlci5cclxuICAgICAgICAgICAgICAgICAgICAvLyBMb2cgZXJyb3IgdG8gY29uc29sZS4gYi8zMTQwNDgwNlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoZXJyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpbmFsRXJyb3IgPSBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFByb3h5IGlzIG5vIGxvbmdlciBuZWVkZWQgLSBnYXJiYWdlIGNvbGxlY3QgcmVmZXJlbmNlc1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICB0aGlzLnRhc2sudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLm9uTm9PYnNlcnZlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqIFR1cm4gc3luY2hyb25vdXMgZnVuY3Rpb24gaW50byBvbmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5LiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xyXG5mdW5jdGlvbiBhc3luYyhmbiwgb25FcnJvcikge1xyXG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHRydWUpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgZm4oLi4uYXJncyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBvYmplY3QgcGFzc2VkIGluIGltcGxlbWVudHMgYW55IG9mIHRoZSBuYW1lZCBtZXRob2RzLlxyXG4gKi9cclxuZnVuY3Rpb24gaW1wbGVtZW50c0FueU1ldGhvZHMob2JqLCBtZXRob2RzKSB7XHJcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBtZXRob2Qgb2YgbWV0aG9kcykge1xyXG4gICAgICAgIGlmIChtZXRob2QgaW4gb2JqICYmIHR5cGVvZiBvYmpbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gbm9vcCgpIHtcclxuICAgIC8vIGRvIG5vdGhpbmdcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ2hlY2sgdG8gbWFrZSBzdXJlIHRoZSBhcHByb3ByaWF0ZSBudW1iZXIgb2YgYXJndW1lbnRzIGFyZSBwcm92aWRlZCBmb3IgYSBwdWJsaWMgZnVuY3Rpb24uXHJcbiAqIFRocm93cyBhbiBlcnJvciBpZiBpdCBmYWlscy5cclxuICpcclxuICogQHBhcmFtIGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0gbWluQ291bnQgVGhlIG1pbmltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBhbGxvdyBmb3IgdGhlIGZ1bmN0aW9uIGNhbGxcclxuICogQHBhcmFtIG1heENvdW50IFRoZSBtYXhpbXVtIG51bWJlciBvZiBhcmd1bWVudCB0byBhbGxvdyBmb3IgdGhlIGZ1bmN0aW9uIGNhbGxcclxuICogQHBhcmFtIGFyZ0NvdW50IFRoZSBhY3R1YWwgbnVtYmVyIG9mIGFyZ3VtZW50cyBwcm92aWRlZC5cclxuICovXHJcbmNvbnN0IHZhbGlkYXRlQXJnQ291bnQgPSBmdW5jdGlvbiAoZm5OYW1lLCBtaW5Db3VudCwgbWF4Q291bnQsIGFyZ0NvdW50KSB7XHJcbiAgICBsZXQgYXJnRXJyb3I7XHJcbiAgICBpZiAoYXJnQ291bnQgPCBtaW5Db3VudCkge1xyXG4gICAgICAgIGFyZ0Vycm9yID0gJ2F0IGxlYXN0ICcgKyBtaW5Db3VudDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFyZ0NvdW50ID4gbWF4Q291bnQpIHtcclxuICAgICAgICBhcmdFcnJvciA9IG1heENvdW50ID09PSAwID8gJ25vbmUnIDogJ25vIG1vcmUgdGhhbiAnICsgbWF4Q291bnQ7XHJcbiAgICB9XHJcbiAgICBpZiAoYXJnRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBlcnJvciA9IGZuTmFtZSArXHJcbiAgICAgICAgICAgICcgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggJyArXHJcbiAgICAgICAgICAgIGFyZ0NvdW50ICtcclxuICAgICAgICAgICAgKGFyZ0NvdW50ID09PSAxID8gJyBhcmd1bWVudC4nIDogJyBhcmd1bWVudHMuJykgK1xyXG4gICAgICAgICAgICAnIEV4cGVjdHMgJyArXHJcbiAgICAgICAgICAgIGFyZ0Vycm9yICtcclxuICAgICAgICAgICAgJy4nO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBzdHJpbmcgdG8gcHJlZml4IGFuIGVycm9yIG1lc3NhZ2UgYWJvdXQgZmFpbGVkIGFyZ3VtZW50IHZhbGlkYXRpb25cclxuICpcclxuICogQHBhcmFtIGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0gYXJnTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXJndW1lbnRcclxuICogQHJldHVybiBUaGUgcHJlZml4IHRvIGFkZCB0byB0aGUgZXJyb3IgdGhyb3duIGZvciB2YWxpZGF0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmdOYW1lKSB7XHJcbiAgICByZXR1cm4gYCR7Zm5OYW1lfSBmYWlsZWQ6ICR7YXJnTmFtZX0gYXJndW1lbnQgYDtcclxufVxyXG4vKipcclxuICogQHBhcmFtIGZuTmFtZVxyXG4gKiBAcGFyYW0gYXJndW1lbnROdW1iZXJcclxuICogQHBhcmFtIG5hbWVzcGFjZVxyXG4gKiBAcGFyYW0gb3B0aW9uYWxcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlTmFtZXNwYWNlKGZuTmFtZSwgbmFtZXNwYWNlLCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFuYW1lc3BhY2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAvL1RPRE86IEkgc2hvdWxkIGRvIG1vcmUgdmFsaWRhdGlvbiBoZXJlLiBXZSBvbmx5IGFsbG93IGNlcnRhaW4gY2hhcnMgaW4gbmFtZXNwYWNlcy5cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCAnbmFtZXNwYWNlJykgKyAnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIG5hbWVzcGFjZS4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUNhbGxiYWNrKGZuTmFtZSwgYXJndW1lbnROYW1lLCBcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcclxuY2FsbGJhY2ssIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TmFtZSkgKyAnbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLicpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29udGV4dE9iamVjdChmbk5hbWUsIGFyZ3VtZW50TmFtZSwgY29udGV4dCwgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhY29udGV4dCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgY29udGV4dCAhPT0gJ29iamVjdCcgfHwgY29udGV4dCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TmFtZSkgKyAnbXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LicpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8vIENvZGUgb3JpZ2luYWxseSBjYW1lIGZyb20gZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXksIGJ1dCBmb3Igc29tZSByZWFzb24gdGhleVxyXG4vLyBhdXRvbWF0aWNhbGx5IHJlcGxhY2VkICdcXHJcXG4nIHdpdGggJ1xcbicsIGFuZCB0aGV5IGRpZG4ndCBoYW5kbGUgc3Vycm9nYXRlIHBhaXJzLFxyXG4vLyBzbyBpdCdzIGJlZW4gbW9kaWZpZWQuXHJcbi8vIE5vdGUgdGhhdCBub3QgYWxsIFVuaWNvZGUgY2hhcmFjdGVycyBhcHBlYXIgYXMgc2luZ2xlIGNoYXJhY3RlcnMgaW4gSmF2YVNjcmlwdCBzdHJpbmdzLlxyXG4vLyBmcm9tQ2hhckNvZGUgcmV0dXJucyB0aGUgVVRGLTE2IGVuY29kaW5nIG9mIGEgY2hhcmFjdGVyIC0gc28gc29tZSBVbmljb2RlIGNoYXJhY3RlcnNcclxuLy8gdXNlIDIgY2hhcmFjdGVycyBpbiBKYXZhc2NyaXB0LiAgQWxsIDQtYnl0ZSBVVEYtOCBjaGFyYWN0ZXJzIGJlZ2luIHdpdGggYSBmaXJzdFxyXG4vLyBjaGFyYWN0ZXIgaW4gdGhlIHJhbmdlIDB4RDgwMCAtIDB4REJGRiAodGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHNvLWNhbGxlZCBzdXJyb2dhdGVcclxuLy8gcGFpcikuXHJcbi8vIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtMTUuMS4zXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKi9cclxuY29uc3Qgc3RyaW5nVG9CeXRlQXJyYXkgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICBjb25zdCBvdXQgPSBbXTtcclxuICAgIGxldCBwID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICAvLyBJcyB0aGlzIHRoZSBsZWFkIHN1cnJvZ2F0ZSBpbiBhIHN1cnJvZ2F0ZSBwYWlyP1xyXG4gICAgICAgIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xyXG4gICAgICAgICAgICBjb25zdCBoaWdoID0gYyAtIDB4ZDgwMDsgLy8gdGhlIGhpZ2ggMTAgYml0cy5cclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICBhc3NlcnQoaSA8IHN0ci5sZW5ndGgsICdTdXJyb2dhdGUgcGFpciBtaXNzaW5nIHRyYWlsIHN1cnJvZ2F0ZS4nKTtcclxuICAgICAgICAgICAgY29uc3QgbG93ID0gc3RyLmNoYXJDb2RlQXQoaSkgLSAweGRjMDA7IC8vIHRoZSBsb3cgMTAgYml0cy5cclxuICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoaGlnaCA8PCAxMCkgKyBsb3c7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gYztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiA2KSB8IDE5MjtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDY1NTM2KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbn07XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgbGVuZ3RoIHdpdGhvdXQgYWN0dWFsbHkgY29udmVydGluZzsgdXNlZnVsIGZvciBkb2luZyBjaGVhcGVyIHZhbGlkYXRpb24uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cclxuY29uc3Qgc3RyaW5nTGVuZ3RoID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgbGV0IHAgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgcCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBwICs9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPj0gMHhkODAwICYmIGMgPD0gMHhkYmZmKSB7XHJcbiAgICAgICAgICAgIC8vIExlYWQgc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXIuICBUaGUgcGFpciB0b2dldGhlciB3aWxsIHRha2UgNCBieXRlcyB0byByZXByZXNlbnQuXHJcbiAgICAgICAgICAgIHAgKz0gNDtcclxuICAgICAgICAgICAgaSsrOyAvLyBza2lwIHRyYWlsIHN1cnJvZ2F0ZS5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHAgKz0gMztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcDtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENvcGllZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbiAqIEdlbmVyYXRlcyBhIG5ldyB1dWlkLlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCB1dWlkdjQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBjID0+IHtcclxuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICB9KTtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoZSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHRvIGV4cG9uZW50aWFsbHkgaW5jcmVhc2UuXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX0lOVEVSVkFMX01JTExJUyA9IDEwMDA7XHJcbi8qKlxyXG4gKiBUaGUgZmFjdG9yIHRvIGJhY2tvZmYgYnkuXHJcbiAqIFNob3VsZCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMS5cclxuICovXHJcbmNvbnN0IERFRkFVTFRfQkFDS09GRl9GQUNUT1IgPSAyO1xyXG4vKipcclxuICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRvIGluY3JlYXNlIHRvLlxyXG4gKlxyXG4gKiA8cD5WaXNpYmxlIGZvciB0ZXN0aW5nXHJcbiAqL1xyXG5jb25zdCBNQVhfVkFMVUVfTUlMTElTID0gNCAqIDYwICogNjAgKiAxMDAwOyAvLyBGb3VyIGhvdXJzLCBsaWtlIGlPUyBhbmQgQW5kcm9pZC5cclxuLyoqXHJcbiAqIFRoZSBwZXJjZW50YWdlIG9mIGJhY2tvZmYgdGltZSB0byByYW5kb21pemUgYnkuXHJcbiAqIFNlZVxyXG4gKiBodHRwOi8vZ28vc2FmZS1jbGllbnQtYmVoYXZpb3Ijc3RlcC0xLWRldGVybWluZS10aGUtYXBwcm9wcmlhdGUtcmV0cnktaW50ZXJ2YWwtdG8taGFuZGxlLXNwaWtlLXRyYWZmaWNcclxuICogZm9yIGNvbnRleHQuXHJcbiAqXHJcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmdcclxuICovXHJcbmNvbnN0IFJBTkRPTV9GQUNUT1IgPSAwLjU7XHJcbi8qKlxyXG4gKiBCYXNlZCBvbiB0aGUgYmFja29mZiBtZXRob2QgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iL21hc3Rlci9jbG9zdXJlL2dvb2cvbWF0aC9leHBvbmVudGlhbGJhY2tvZmYuanMuXHJcbiAqIEV4dHJhY3RlZCBoZXJlIHNvIHdlIGRvbid0IG5lZWQgdG8gcGFzcyBtZXRhZGF0YSBhbmQgYSBzdGF0ZWZ1bCBFeHBvbmVudGlhbEJhY2tvZmYgb2JqZWN0IGFyb3VuZC5cclxuICovXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUJhY2tvZmZNaWxsaXMoYmFja29mZkNvdW50LCBpbnRlcnZhbE1pbGxpcyA9IERFRkFVTFRfSU5URVJWQUxfTUlMTElTLCBiYWNrb2ZmRmFjdG9yID0gREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUikge1xyXG4gICAgLy8gQ2FsY3VsYXRlcyBhbiBleHBvbmVudGlhbGx5IGluY3JlYXNpbmcgdmFsdWUuXHJcbiAgICAvLyBEZXZpYXRpb246IGNhbGN1bGF0ZXMgdmFsdWUgZnJvbSBjb3VudCBhbmQgYSBjb25zdGFudCBpbnRlcnZhbCwgc28gd2Ugb25seSBuZWVkIHRvIHNhdmUgdmFsdWVcclxuICAgIC8vIGFuZCBjb3VudCB0byByZXN0b3JlIHN0YXRlLlxyXG4gICAgY29uc3QgY3VyckJhc2VWYWx1ZSA9IGludGVydmFsTWlsbGlzICogTWF0aC5wb3coYmFja29mZkZhY3RvciwgYmFja29mZkNvdW50KTtcclxuICAgIC8vIEEgcmFuZG9tIFwiZnV6elwiIHRvIGF2b2lkIHdhdmVzIG9mIHJldHJpZXMuXHJcbiAgICAvLyBEZXZpYXRpb246IHJhbmRvbUZhY3RvciBpcyByZXF1aXJlZC5cclxuICAgIGNvbnN0IHJhbmRvbVdhaXQgPSBNYXRoLnJvdW5kKFxyXG4gICAgLy8gQSBmcmFjdGlvbiBvZiB0aGUgYmFja29mZiB2YWx1ZSB0byBhZGQvc3VidHJhY3QuXHJcbiAgICAvLyBEZXZpYXRpb246IGNoYW5nZXMgbXVsdGlwbGljYXRpb24gb3JkZXIgdG8gaW1wcm92ZSByZWFkYWJpbGl0eS5cclxuICAgIFJBTkRPTV9GQUNUT1IgKlxyXG4gICAgICAgIGN1cnJCYXNlVmFsdWUgKlxyXG4gICAgICAgIC8vIEEgcmFuZG9tIGZsb2F0IChyb3VuZGVkIHRvIGludCBieSBNYXRoLnJvdW5kIGFib3ZlKSBpbiB0aGUgcmFuZ2UgWy0xLCAxXS4gRGV0ZXJtaW5lc1xyXG4gICAgICAgIC8vIGlmIHdlIGFkZCBvciBzdWJ0cmFjdC5cclxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKlxyXG4gICAgICAgIDIpO1xyXG4gICAgLy8gTGltaXRzIGJhY2tvZmYgdG8gbWF4IHRvIGF2b2lkIGVmZmVjdGl2ZWx5IHBlcm1hbmVudCBiYWNrb2ZmLlxyXG4gICAgcmV0dXJuIE1hdGgubWluKE1BWF9WQUxVRV9NSUxMSVMsIGN1cnJCYXNlVmFsdWUgKyByYW5kb21XYWl0KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUHJvdmlkZSBFbmdsaXNoIG9yZGluYWwgbGV0dGVycyBhZnRlciBhIG51bWJlclxyXG4gKi9cclxuZnVuY3Rpb24gb3JkaW5hbChpKSB7XHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpKSkge1xyXG4gICAgICAgIHJldHVybiBgJHtpfWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaSArIGluZGljYXRvcihpKTtcclxufVxyXG5mdW5jdGlvbiBpbmRpY2F0b3IoaSkge1xyXG4gICAgaSA9IE1hdGguYWJzKGkpO1xyXG4gICAgY29uc3QgY2VudCA9IGkgJSAxMDA7XHJcbiAgICBpZiAoY2VudCA+PSAxMCAmJiBjZW50IDw9IDIwKSB7XHJcbiAgICAgICAgcmV0dXJuICd0aCc7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkZWMgPSBpICUgMTA7XHJcbiAgICBpZiAoZGVjID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuICdzdCc7XHJcbiAgICB9XHJcbiAgICBpZiAoZGVjID09PSAyKSB7XHJcbiAgICAgICAgcmV0dXJuICduZCc7XHJcbiAgICB9XHJcbiAgICBpZiAoZGVjID09PSAzKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ3RoJztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRNb2R1bGFySW5zdGFuY2Uoc2VydmljZSkge1xyXG4gICAgaWYgKHNlcnZpY2UgJiYgc2VydmljZS5fZGVsZWdhdGUpIHtcclxuICAgICAgICByZXR1cm4gc2VydmljZS5fZGVsZWdhdGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc2VydmljZTtcclxuICAgIH1cclxufVxuXG5leHBvcnRzLkNPTlNUQU5UUyA9IENPTlNUQU5UUztcbmV4cG9ydHMuRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IgPSBEZWNvZGVCYXNlNjRTdHJpbmdFcnJvcjtcbmV4cG9ydHMuRGVmZXJyZWQgPSBEZWZlcnJlZDtcbmV4cG9ydHMuRXJyb3JGYWN0b3J5ID0gRXJyb3JGYWN0b3J5O1xuZXhwb3J0cy5GaXJlYmFzZUVycm9yID0gRmlyZWJhc2VFcnJvcjtcbmV4cG9ydHMuTUFYX1ZBTFVFX01JTExJUyA9IE1BWF9WQUxVRV9NSUxMSVM7XG5leHBvcnRzLlJBTkRPTV9GQUNUT1IgPSBSQU5ET01fRkFDVE9SO1xuZXhwb3J0cy5TaGExID0gU2hhMTtcbmV4cG9ydHMuYXJlQ29va2llc0VuYWJsZWQgPSBhcmVDb29raWVzRW5hYmxlZDtcbmV4cG9ydHMuYXNzZXJ0ID0gYXNzZXJ0O1xuZXhwb3J0cy5hc3NlcnRpb25FcnJvciA9IGFzc2VydGlvbkVycm9yO1xuZXhwb3J0cy5hc3luYyA9IGFzeW5jO1xuZXhwb3J0cy5iYXNlNjQgPSBiYXNlNjQ7XG5leHBvcnRzLmJhc2U2NERlY29kZSA9IGJhc2U2NERlY29kZTtcbmV4cG9ydHMuYmFzZTY0RW5jb2RlID0gYmFzZTY0RW5jb2RlO1xuZXhwb3J0cy5iYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyA9IGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nO1xuZXhwb3J0cy5jYWxjdWxhdGVCYWNrb2ZmTWlsbGlzID0gY2FsY3VsYXRlQmFja29mZk1pbGxpcztcbmV4cG9ydHMuY29udGFpbnMgPSBjb250YWlucztcbmV4cG9ydHMuY3JlYXRlTW9ja1VzZXJUb2tlbiA9IGNyZWF0ZU1vY2tVc2VyVG9rZW47XG5leHBvcnRzLmNyZWF0ZVN1YnNjcmliZSA9IGNyZWF0ZVN1YnNjcmliZTtcbmV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xuZXhwb3J0cy5kZWVwQ29weSA9IGRlZXBDb3B5O1xuZXhwb3J0cy5kZWVwRXF1YWwgPSBkZWVwRXF1YWw7XG5leHBvcnRzLmRlZXBFeHRlbmQgPSBkZWVwRXh0ZW5kO1xuZXhwb3J0cy5lcnJvclByZWZpeCA9IGVycm9yUHJlZml4O1xuZXhwb3J0cy5leHRyYWN0UXVlcnlzdHJpbmcgPSBleHRyYWN0UXVlcnlzdHJpbmc7XG5leHBvcnRzLmdldERlZmF1bHRBcHBDb25maWcgPSBnZXREZWZhdWx0QXBwQ29uZmlnO1xuZXhwb3J0cy5nZXREZWZhdWx0RW11bGF0b3JIb3N0ID0gZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdDtcbmV4cG9ydHMuZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0ID0gZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0O1xuZXhwb3J0cy5nZXREZWZhdWx0cyA9IGdldERlZmF1bHRzO1xuZXhwb3J0cy5nZXRFeHBlcmltZW50YWxTZXR0aW5nID0gZ2V0RXhwZXJpbWVudGFsU2V0dGluZztcbmV4cG9ydHMuZ2V0R2xvYmFsID0gZ2V0R2xvYmFsO1xuZXhwb3J0cy5nZXRNb2R1bGFySW5zdGFuY2UgPSBnZXRNb2R1bGFySW5zdGFuY2U7XG5leHBvcnRzLmdldFVBID0gZ2V0VUE7XG5leHBvcnRzLmlzQWRtaW4gPSBpc0FkbWluO1xuZXhwb3J0cy5pc0Jyb3dzZXIgPSBpc0Jyb3dzZXI7XG5leHBvcnRzLmlzQnJvd3NlckV4dGVuc2lvbiA9IGlzQnJvd3NlckV4dGVuc2lvbjtcbmV4cG9ydHMuaXNFbGVjdHJvbiA9IGlzRWxlY3Ryb247XG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xuZXhwb3J0cy5pc0lFID0gaXNJRTtcbmV4cG9ydHMuaXNJbmRleGVkREJBdmFpbGFibGUgPSBpc0luZGV4ZWREQkF2YWlsYWJsZTtcbmV4cG9ydHMuaXNNb2JpbGVDb3Jkb3ZhID0gaXNNb2JpbGVDb3Jkb3ZhO1xuZXhwb3J0cy5pc05vZGUgPSBpc05vZGU7XG5leHBvcnRzLmlzTm9kZVNkayA9IGlzTm9kZVNkaztcbmV4cG9ydHMuaXNSZWFjdE5hdGl2ZSA9IGlzUmVhY3ROYXRpdmU7XG5leHBvcnRzLmlzU2FmYXJpID0gaXNTYWZhcmk7XG5leHBvcnRzLmlzVVdQID0gaXNVV1A7XG5leHBvcnRzLmlzVmFsaWRGb3JtYXQgPSBpc1ZhbGlkRm9ybWF0O1xuZXhwb3J0cy5pc1ZhbGlkVGltZXN0YW1wID0gaXNWYWxpZFRpbWVzdGFtcDtcbmV4cG9ydHMuaXNXZWJXb3JrZXIgPSBpc1dlYldvcmtlcjtcbmV4cG9ydHMuaXNzdWVkQXRUaW1lID0gaXNzdWVkQXRUaW1lO1xuZXhwb3J0cy5qc29uRXZhbCA9IGpzb25FdmFsO1xuZXhwb3J0cy5tYXAgPSBtYXA7XG5leHBvcnRzLm9yZGluYWwgPSBvcmRpbmFsO1xuZXhwb3J0cy5wcm9taXNlV2l0aFRpbWVvdXQgPSBwcm9taXNlV2l0aFRpbWVvdXQ7XG5leHBvcnRzLnF1ZXJ5c3RyaW5nID0gcXVlcnlzdHJpbmc7XG5leHBvcnRzLnF1ZXJ5c3RyaW5nRGVjb2RlID0gcXVlcnlzdHJpbmdEZWNvZGU7XG5leHBvcnRzLnNhZmVHZXQgPSBzYWZlR2V0O1xuZXhwb3J0cy5zdHJpbmdMZW5ndGggPSBzdHJpbmdMZW5ndGg7XG5leHBvcnRzLnN0cmluZ1RvQnl0ZUFycmF5ID0gc3RyaW5nVG9CeXRlQXJyYXk7XG5leHBvcnRzLnN0cmluZ2lmeSA9IHN0cmluZ2lmeTtcbmV4cG9ydHMudXVpZHY0ID0gdXVpZHY0O1xuZXhwb3J0cy52YWxpZGF0ZUFyZ0NvdW50ID0gdmFsaWRhdGVBcmdDb3VudDtcbmV4cG9ydHMudmFsaWRhdGVDYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2s7XG5leHBvcnRzLnZhbGlkYXRlQ29udGV4dE9iamVjdCA9IHZhbGlkYXRlQ29udGV4dE9iamVjdDtcbmV4cG9ydHMudmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSA9IHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGU7XG5leHBvcnRzLnZhbGlkYXRlTmFtZXNwYWNlID0gdmFsaWRhdGVOYW1lc3BhY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5janMuanMubWFwXG4iLCIvKiogQGxpY2Vuc2VcbkNvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuXG5TUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuKi9cbihmdW5jdGlvbigpIHsndXNlIHN0cmljdCc7dmFyIGg7LyoqIEBsaWNlbnNlXG5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuZnVuY3Rpb24gayhmLGEpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9YS5wcm90b3R5cGU7Zi5EPWEucHJvdG90eXBlO2YucHJvdG90eXBlPW5ldyBjO2YucHJvdG90eXBlLmNvbnN0cnVjdG9yPWY7Zi5DPWZ1bmN0aW9uKGQsZSxnKXtmb3IodmFyIGI9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxyPTI7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyliW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiBhLnByb3RvdHlwZVtlXS5hcHBseShkLGIpfX07ZnVuY3Rpb24gbCgpe3RoaXMuYmxvY2tTaXplPS0xfTtmdW5jdGlvbiBtKCl7dGhpcy5ibG9ja1NpemU9LTE7dGhpcy5ibG9ja1NpemU9NjQ7dGhpcy5nPUFycmF5KDQpO3RoaXMuQj1BcnJheSh0aGlzLmJsb2NrU2l6ZSk7dGhpcy5vPXRoaXMuaD0wO3RoaXMucygpfWsobSxsKTttLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dGhpcy5nWzBdPTE3MzI1ODQxOTM7dGhpcy5nWzFdPTQwMjMyMzM0MTc7dGhpcy5nWzJdPTI1NjIzODMxMDI7dGhpcy5nWzNdPTI3MTczMzg3ODt0aGlzLm89dGhpcy5oPTB9O1xuZnVuY3Rpb24gbihmLGEsYyl7Y3x8KGM9MCk7dmFyIGQ9QXJyYXkoMTYpO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlmb3IodmFyIGU9MDsxNj5lOysrZSlkW2VdPWEuY2hhckNvZGVBdChjKyspfGEuY2hhckNvZGVBdChjKyspPDw4fGEuY2hhckNvZGVBdChjKyspPDwxNnxhLmNoYXJDb2RlQXQoYysrKTw8MjQ7ZWxzZSBmb3IoZT0wOzE2PmU7KytlKWRbZV09YVtjKytdfGFbYysrXTw8OHxhW2MrK108PDE2fGFbYysrXTw8MjQ7YT1mLmdbMF07Yz1mLmdbMV07ZT1mLmdbMl07dmFyIGc9Zi5nWzNdO3ZhciBiPWErKGdeYyYoZV5nKSkrZFswXSszNjE0MDkwMzYwJjQyOTQ5NjcyOTU7YT1jKyhiPDw3JjQyOTQ5NjcyOTV8Yj4+PjI1KTtiPWcrKGVeYSYoY15lKSkrZFsxXSszOTA1NDAyNzEwJjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMiY0Mjk0OTY3Mjk1fGI+Pj4yMCk7Yj1lKyhjXmcmKGFeYykpK2RbMl0rNjA2MTA1ODE5JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNyY0Mjk0OTY3Mjk1fGI+Pj4xNSk7XG5iPWMrKGFeZSYoZ15hKSkrZFszXSszMjUwNDQxOTY2JjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMiY0Mjk0OTY3Mjk1fGI+Pj4xMCk7Yj1hKyhnXmMmKGVeZykpK2RbNF0rNDExODU0ODM5OSY0Mjk0OTY3Mjk1O2E9YysoYjw8NyY0Mjk0OTY3Mjk1fGI+Pj4yNSk7Yj1nKyhlXmEmKGNeZSkpK2RbNV0rMTIwMDA4MDQyNiY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTImNDI5NDk2NzI5NXxiPj4+MjApO2I9ZSsoY15nJihhXmMpKStkWzZdKzI4MjE3MzU5NTUmNDI5NDk2NzI5NTtlPWcrKGI8PDE3JjQyOTQ5NjcyOTV8Yj4+PjE1KTtiPWMrKGFeZSYoZ15hKSkrZFs3XSs0MjQ5MjYxMzEzJjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMiY0Mjk0OTY3Mjk1fGI+Pj4xMCk7Yj1hKyhnXmMmKGVeZykpK2RbOF0rMTc3MDAzNTQxNiY0Mjk0OTY3Mjk1O2E9YysoYjw8NyY0Mjk0OTY3Mjk1fGI+Pj4yNSk7Yj1nKyhlXmEmKGNeZSkpK2RbOV0rMjMzNjU1Mjg3OSY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTImNDI5NDk2NzI5NXxcbmI+Pj4yMCk7Yj1lKyhjXmcmKGFeYykpK2RbMTBdKzQyOTQ5MjUyMzMmNDI5NDk2NzI5NTtlPWcrKGI8PDE3JjQyOTQ5NjcyOTV8Yj4+PjE1KTtiPWMrKGFeZSYoZ15hKSkrZFsxMV0rMjMwNDU2MzEzNCY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjImNDI5NDk2NzI5NXxiPj4+MTApO2I9YSsoZ15jJihlXmcpKStkWzEyXSsxODA0NjAzNjgyJjQyOTQ5NjcyOTU7YT1jKyhiPDw3JjQyOTQ5NjcyOTV8Yj4+PjI1KTtiPWcrKGVeYSYoY15lKSkrZFsxM10rNDI1NDYyNjE5NSY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTImNDI5NDk2NzI5NXxiPj4+MjApO2I9ZSsoY15nJihhXmMpKStkWzE0XSsyNzkyOTY1MDA2JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNyY0Mjk0OTY3Mjk1fGI+Pj4xNSk7Yj1jKyhhXmUmKGdeYSkpK2RbMTVdKzEyMzY1MzUzMjkmNDI5NDk2NzI5NTtjPWUrKGI8PDIyJjQyOTQ5NjcyOTV8Yj4+PjEwKTtiPWErKGVeZyYoY15lKSkrZFsxXSs0MTI5MTcwNzg2JjQyOTQ5NjcyOTU7YT1jKyhiPDxcbjUmNDI5NDk2NzI5NXxiPj4+MjcpO2I9ZysoY15lJihhXmMpKStkWzZdKzMyMjU0NjU2NjQmNDI5NDk2NzI5NTtnPWErKGI8PDkmNDI5NDk2NzI5NXxiPj4+MjMpO2I9ZSsoYV5jJihnXmEpKStkWzExXSs2NDM3MTc3MTMmNDI5NDk2NzI5NTtlPWcrKGI8PDE0JjQyOTQ5NjcyOTV8Yj4+PjE4KTtiPWMrKGdeYSYoZV5nKSkrZFswXSszOTIxMDY5OTk0JjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMCY0Mjk0OTY3Mjk1fGI+Pj4xMik7Yj1hKyhlXmcmKGNeZSkpK2RbNV0rMzU5MzQwODYwNSY0Mjk0OTY3Mjk1O2E9YysoYjw8NSY0Mjk0OTY3Mjk1fGI+Pj4yNyk7Yj1nKyhjXmUmKGFeYykpK2RbMTBdKzM4MDE2MDgzJjQyOTQ5NjcyOTU7Zz1hKyhiPDw5JjQyOTQ5NjcyOTV8Yj4+PjIzKTtiPWUrKGFeYyYoZ15hKSkrZFsxNV0rMzYzNDQ4ODk2MSY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTQmNDI5NDk2NzI5NXxiPj4+MTgpO2I9YysoZ15hJihlXmcpKStkWzRdKzM4ODk0Mjk0NDgmNDI5NDk2NzI5NTtjPVxuZSsoYjw8MjAmNDI5NDk2NzI5NXxiPj4+MTIpO2I9YSsoZV5nJihjXmUpKStkWzldKzU2ODQ0NjQzOCY0Mjk0OTY3Mjk1O2E9YysoYjw8NSY0Mjk0OTY3Mjk1fGI+Pj4yNyk7Yj1nKyhjXmUmKGFeYykpK2RbMTRdKzMyNzUxNjM2MDYmNDI5NDk2NzI5NTtnPWErKGI8PDkmNDI5NDk2NzI5NXxiPj4+MjMpO2I9ZSsoYV5jJihnXmEpKStkWzNdKzQxMDc2MDMzMzUmNDI5NDk2NzI5NTtlPWcrKGI8PDE0JjQyOTQ5NjcyOTV8Yj4+PjE4KTtiPWMrKGdeYSYoZV5nKSkrZFs4XSsxMTYzNTMxNTAxJjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMCY0Mjk0OTY3Mjk1fGI+Pj4xMik7Yj1hKyhlXmcmKGNeZSkpK2RbMTNdKzI4NTAyODU4MjkmNDI5NDk2NzI5NTthPWMrKGI8PDUmNDI5NDk2NzI5NXxiPj4+MjcpO2I9ZysoY15lJihhXmMpKStkWzJdKzQyNDM1NjM1MTImNDI5NDk2NzI5NTtnPWErKGI8PDkmNDI5NDk2NzI5NXxiPj4+MjMpO2I9ZSsoYV5jJihnXmEpKStkWzddKzE3MzUzMjg0NzMmNDI5NDk2NzI5NTtcbmU9ZysoYjw8MTQmNDI5NDk2NzI5NXxiPj4+MTgpO2I9YysoZ15hJihlXmcpKStkWzEyXSsyMzY4MzU5NTYyJjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMCY0Mjk0OTY3Mjk1fGI+Pj4xMik7Yj1hKyhjXmVeZykrZFs1XSs0Mjk0NTg4NzM4JjQyOTQ5NjcyOTU7YT1jKyhiPDw0JjQyOTQ5NjcyOTV8Yj4+PjI4KTtiPWcrKGFeY15lKStkWzhdKzIyNzIzOTI4MzMmNDI5NDk2NzI5NTtnPWErKGI8PDExJjQyOTQ5NjcyOTV8Yj4+PjIxKTtiPWUrKGdeYV5jKStkWzExXSsxODM5MDMwNTYyJjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNiY0Mjk0OTY3Mjk1fGI+Pj4xNik7Yj1jKyhlXmdeYSkrZFsxNF0rNDI1OTY1Nzc0MCY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjMmNDI5NDk2NzI5NXxiPj4+OSk7Yj1hKyhjXmVeZykrZFsxXSsyNzYzOTc1MjM2JjQyOTQ5NjcyOTU7YT1jKyhiPDw0JjQyOTQ5NjcyOTV8Yj4+PjI4KTtiPWcrKGFeY15lKStkWzRdKzEyNzI4OTMzNTMmNDI5NDk2NzI5NTtnPWErKGI8PDExJjQyOTQ5NjcyOTV8XG5iPj4+MjEpO2I9ZSsoZ15hXmMpK2RbN10rNDEzOTQ2OTY2NCY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTYmNDI5NDk2NzI5NXxiPj4+MTYpO2I9YysoZV5nXmEpK2RbMTBdKzMyMDAyMzY2NTYmNDI5NDk2NzI5NTtjPWUrKGI8PDIzJjQyOTQ5NjcyOTV8Yj4+PjkpO2I9YSsoY15lXmcpK2RbMTNdKzY4MTI3OTE3NCY0Mjk0OTY3Mjk1O2E9YysoYjw8NCY0Mjk0OTY3Mjk1fGI+Pj4yOCk7Yj1nKyhhXmNeZSkrZFswXSszOTM2NDMwMDc0JjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMSY0Mjk0OTY3Mjk1fGI+Pj4yMSk7Yj1lKyhnXmFeYykrZFszXSszNTcyNDQ1MzE3JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNiY0Mjk0OTY3Mjk1fGI+Pj4xNik7Yj1jKyhlXmdeYSkrZFs2XSs3NjAyOTE4OSY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjMmNDI5NDk2NzI5NXxiPj4+OSk7Yj1hKyhjXmVeZykrZFs5XSszNjU0NjAyODA5JjQyOTQ5NjcyOTU7YT1jKyhiPDw0JjQyOTQ5NjcyOTV8Yj4+PjI4KTtiPWcrKGFeY15lKStkWzEyXStcbjM4NzMxNTE0NjEmNDI5NDk2NzI5NTtnPWErKGI8PDExJjQyOTQ5NjcyOTV8Yj4+PjIxKTtiPWUrKGdeYV5jKStkWzE1XSs1MzA3NDI1MjAmNDI5NDk2NzI5NTtlPWcrKGI8PDE2JjQyOTQ5NjcyOTV8Yj4+PjE2KTtiPWMrKGVeZ15hKStkWzJdKzMyOTk2Mjg2NDUmNDI5NDk2NzI5NTtjPWUrKGI8PDIzJjQyOTQ5NjcyOTV8Yj4+PjkpO2I9YSsoZV4oY3x+ZykpK2RbMF0rNDA5NjMzNjQ1MiY0Mjk0OTY3Mjk1O2E9YysoYjw8NiY0Mjk0OTY3Mjk1fGI+Pj4yNik7Yj1nKyhjXihhfH5lKSkrZFs3XSsxMTI2ODkxNDE1JjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMCY0Mjk0OTY3Mjk1fGI+Pj4yMik7Yj1lKyhhXihnfH5jKSkrZFsxNF0rMjg3ODYxMjM5MSY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTUmNDI5NDk2NzI5NXxiPj4+MTcpO2I9YysoZ14oZXx+YSkpK2RbNV0rNDIzNzUzMzI0MSY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjEmNDI5NDk2NzI5NXxiPj4+MTEpO2I9YSsoZV4oY3x+ZykpK2RbMTJdKzE3MDA0ODU1NzEmXG40Mjk0OTY3Mjk1O2E9YysoYjw8NiY0Mjk0OTY3Mjk1fGI+Pj4yNik7Yj1nKyhjXihhfH5lKSkrZFszXSsyMzk5OTgwNjkwJjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMCY0Mjk0OTY3Mjk1fGI+Pj4yMik7Yj1lKyhhXihnfH5jKSkrZFsxMF0rNDI5MzkxNTc3MyY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTUmNDI5NDk2NzI5NXxiPj4+MTcpO2I9YysoZ14oZXx+YSkpK2RbMV0rMjI0MDA0NDQ5NyY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjEmNDI5NDk2NzI5NXxiPj4+MTEpO2I9YSsoZV4oY3x+ZykpK2RbOF0rMTg3MzMxMzM1OSY0Mjk0OTY3Mjk1O2E9YysoYjw8NiY0Mjk0OTY3Mjk1fGI+Pj4yNik7Yj1nKyhjXihhfH5lKSkrZFsxNV0rNDI2NDM1NTU1MiY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTAmNDI5NDk2NzI5NXxiPj4+MjIpO2I9ZSsoYV4oZ3x+YykpK2RbNl0rMjczNDc2ODkxNiY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTUmNDI5NDk2NzI5NXxiPj4+MTcpO2I9YysoZ14oZXx+YSkpK2RbMTNdKzEzMDkxNTE2NDkmXG40Mjk0OTY3Mjk1O2M9ZSsoYjw8MjEmNDI5NDk2NzI5NXxiPj4+MTEpO2I9YSsoZV4oY3x+ZykpK2RbNF0rNDE0OTQ0NDIyNiY0Mjk0OTY3Mjk1O2E9YysoYjw8NiY0Mjk0OTY3Mjk1fGI+Pj4yNik7Yj1nKyhjXihhfH5lKSkrZFsxMV0rMzE3NDc1NjkxNyY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTAmNDI5NDk2NzI5NXxiPj4+MjIpO2I9ZSsoYV4oZ3x+YykpK2RbMl0rNzE4Nzg3MjU5JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNSY0Mjk0OTY3Mjk1fGI+Pj4xNyk7Yj1jKyhnXihlfH5hKSkrZFs5XSszOTUxNDgxNzQ1JjQyOTQ5NjcyOTU7Zi5nWzBdPWYuZ1swXSthJjQyOTQ5NjcyOTU7Zi5nWzFdPWYuZ1sxXSsoZSsoYjw8MjEmNDI5NDk2NzI5NXxiPj4+MTEpKSY0Mjk0OTY3Mjk1O2YuZ1syXT1mLmdbMl0rZSY0Mjk0OTY3Mjk1O2YuZ1szXT1mLmdbM10rZyY0Mjk0OTY3Mjk1fVxubS5wcm90b3R5cGUudT1mdW5jdGlvbihmLGEpe3ZvaWQgMD09PWEmJihhPWYubGVuZ3RoKTtmb3IodmFyIGM9YS10aGlzLmJsb2NrU2l6ZSxkPXRoaXMuQixlPXRoaXMuaCxnPTA7ZzxhOyl7aWYoMD09ZSlmb3IoO2c8PWM7KW4odGhpcyxmLGcpLGcrPXRoaXMuYmxvY2tTaXplO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgZilmb3IoO2c8YTspe2lmKGRbZSsrXT1mLmNoYXJDb2RlQXQoZysrKSxlPT10aGlzLmJsb2NrU2l6ZSl7bih0aGlzLGQpO2U9MDticmVha319ZWxzZSBmb3IoO2c8YTspaWYoZFtlKytdPWZbZysrXSxlPT10aGlzLmJsb2NrU2l6ZSl7bih0aGlzLGQpO2U9MDticmVha319dGhpcy5oPWU7dGhpcy5vKz1hfTtcbm0ucHJvdG90eXBlLnY9ZnVuY3Rpb24oKXt2YXIgZj1BcnJheSgoNTY+dGhpcy5oP3RoaXMuYmxvY2tTaXplOjIqdGhpcy5ibG9ja1NpemUpLXRoaXMuaCk7ZlswXT0xMjg7Zm9yKHZhciBhPTE7YTxmLmxlbmd0aC04OysrYSlmW2FdPTA7dmFyIGM9OCp0aGlzLm87Zm9yKGE9Zi5sZW5ndGgtODthPGYubGVuZ3RoOysrYSlmW2FdPWMmMjU1LGMvPTI1Njt0aGlzLnUoZik7Zj1BcnJheSgxNik7Zm9yKGE9Yz0wOzQ+YTsrK2EpZm9yKHZhciBkPTA7MzI+ZDtkKz04KWZbYysrXT10aGlzLmdbYV0+Pj5kJjI1NTtyZXR1cm4gZn07ZnVuY3Rpb24gcChmLGEpe3ZhciBjPXE7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLGYpP2NbZl06Y1tmXT1hKGYpfTtmdW5jdGlvbiB0KGYsYSl7dGhpcy5oPWE7Zm9yKHZhciBjPVtdLGQ9ITAsZT1mLmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgZz1mW2VdfDA7ZCYmZz09YXx8KGNbZV09ZyxkPSExKX10aGlzLmc9Y312YXIgcT17fTtmdW5jdGlvbiB1KGYpe3JldHVybi0xMjg8PWYmJjEyOD5mP3AoZixmdW5jdGlvbihhKXtyZXR1cm4gbmV3IHQoW2F8MF0sMD5hPy0xOjApfSk6bmV3IHQoW2Z8MF0sMD5mPy0xOjApfWZ1bmN0aW9uIHYoZil7aWYoaXNOYU4oZil8fCFpc0Zpbml0ZShmKSlyZXR1cm4gdztpZigwPmYpcmV0dXJuIHgodigtZikpO2Zvcih2YXIgYT1bXSxjPTEsZD0wO2Y+PWM7ZCsrKWFbZF09Zi9jfDAsYyo9NDI5NDk2NzI5NjtyZXR1cm4gbmV3IHQoYSwwKX1cbmZ1bmN0aW9uIHkoZixhKXtpZigwPT1mLmxlbmd0aCl0aHJvdyBFcnJvcihcIm51bWJlciBmb3JtYXQgZXJyb3I6IGVtcHR5IHN0cmluZ1wiKTthPWF8fDEwO2lmKDI+YXx8MzY8YSl0aHJvdyBFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIrYSk7aWYoXCItXCI9PWYuY2hhckF0KDApKXJldHVybiB4KHkoZi5zdWJzdHJpbmcoMSksYSkpO2lmKDA8PWYuaW5kZXhPZihcIi1cIikpdGhyb3cgRXJyb3IoJ251bWJlciBmb3JtYXQgZXJyb3I6IGludGVyaW9yIFwiLVwiIGNoYXJhY3RlcicpO2Zvcih2YXIgYz12KE1hdGgucG93KGEsOCkpLGQ9dyxlPTA7ZTxmLmxlbmd0aDtlKz04KXt2YXIgZz1NYXRoLm1pbig4LGYubGVuZ3RoLWUpLGI9cGFyc2VJbnQoZi5zdWJzdHJpbmcoZSxlK2cpLGEpOzg+Zz8oZz12KE1hdGgucG93KGEsZykpLGQ9ZC5qKGcpLmFkZCh2KGIpKSk6KGQ9ZC5qKGMpLGQ9ZC5hZGQodihiKSkpfXJldHVybiBkfXZhciB3PXUoMCksej11KDEpLEE9dSgxNjc3NzIxNik7aD10LnByb3RvdHlwZTtcbmgubT1mdW5jdGlvbigpe2lmKEIodGhpcykpcmV0dXJuLXgodGhpcykubSgpO2Zvcih2YXIgZj0wLGE9MSxjPTA7Yzx0aGlzLmcubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5pKGMpO2YrPSgwPD1kP2Q6NDI5NDk2NzI5NitkKSphO2EqPTQyOTQ5NjcyOTZ9cmV0dXJuIGZ9O2gudG9TdHJpbmc9ZnVuY3Rpb24oZil7Zj1mfHwxMDtpZigyPmZ8fDM2PGYpdGhyb3cgRXJyb3IoXCJyYWRpeCBvdXQgb2YgcmFuZ2U6IFwiK2YpO2lmKEModGhpcykpcmV0dXJuXCIwXCI7aWYoQih0aGlzKSlyZXR1cm5cIi1cIit4KHRoaXMpLnRvU3RyaW5nKGYpO2Zvcih2YXIgYT12KE1hdGgucG93KGYsNikpLGM9dGhpcyxkPVwiXCI7Oyl7dmFyIGU9RChjLGEpLmc7Yz1GKGMsZS5qKGEpKTt2YXIgZz0oKDA8Yy5nLmxlbmd0aD9jLmdbMF06Yy5oKT4+PjApLnRvU3RyaW5nKGYpO2M9ZTtpZihDKGMpKXJldHVybiBnK2Q7Zm9yKDs2PmcubGVuZ3RoOylnPVwiMFwiK2c7ZD1nK2R9fTtcbmguaT1mdW5jdGlvbihmKXtyZXR1cm4gMD5mPzA6Zjx0aGlzLmcubGVuZ3RoP3RoaXMuZ1tmXTp0aGlzLmh9O2Z1bmN0aW9uIEMoZil7aWYoMCE9Zi5oKXJldHVybiExO2Zvcih2YXIgYT0wO2E8Zi5nLmxlbmd0aDthKyspaWYoMCE9Zi5nW2FdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEIoZil7cmV0dXJuLTE9PWYuaH1oLmw9ZnVuY3Rpb24oZil7Zj1GKHRoaXMsZik7cmV0dXJuIEIoZik/LTE6QyhmKT8wOjF9O2Z1bmN0aW9uIHgoZil7Zm9yKHZhciBhPWYuZy5sZW5ndGgsYz1bXSxkPTA7ZDxhO2QrKyljW2RdPX5mLmdbZF07cmV0dXJuKG5ldyB0KGMsfmYuaCkpLmFkZCh6KX1oLmFicz1mdW5jdGlvbigpe3JldHVybiBCKHRoaXMpP3godGhpcyk6dGhpc307XG5oLmFkZD1mdW5jdGlvbihmKXtmb3IodmFyIGE9TWF0aC5tYXgodGhpcy5nLmxlbmd0aCxmLmcubGVuZ3RoKSxjPVtdLGQ9MCxlPTA7ZTw9YTtlKyspe3ZhciBnPWQrKHRoaXMuaShlKSY2NTUzNSkrKGYuaShlKSY2NTUzNSksYj0oZz4+PjE2KSsodGhpcy5pKGUpPj4+MTYpKyhmLmkoZSk+Pj4xNik7ZD1iPj4+MTY7ZyY9NjU1MzU7YiY9NjU1MzU7Y1tlXT1iPDwxNnxnfXJldHVybiBuZXcgdChjLGNbYy5sZW5ndGgtMV0mLTIxNDc0ODM2NDg/LTE6MCl9O2Z1bmN0aW9uIEYoZixhKXtyZXR1cm4gZi5hZGQoeChhKSl9XG5oLmo9ZnVuY3Rpb24oZil7aWYoQyh0aGlzKXx8QyhmKSlyZXR1cm4gdztpZihCKHRoaXMpKXJldHVybiBCKGYpP3godGhpcykuaih4KGYpKTp4KHgodGhpcykuaihmKSk7aWYoQihmKSlyZXR1cm4geCh0aGlzLmooeChmKSkpO2lmKDA+dGhpcy5sKEEpJiYwPmYubChBKSlyZXR1cm4gdih0aGlzLm0oKSpmLm0oKSk7Zm9yKHZhciBhPXRoaXMuZy5sZW5ndGgrZi5nLmxlbmd0aCxjPVtdLGQ9MDtkPDIqYTtkKyspY1tkXT0wO2ZvcihkPTA7ZDx0aGlzLmcubGVuZ3RoO2QrKylmb3IodmFyIGU9MDtlPGYuZy5sZW5ndGg7ZSsrKXt2YXIgZz10aGlzLmkoZCk+Pj4xNixiPXRoaXMuaShkKSY2NTUzNSxyPWYuaShlKT4+PjE2LEU9Zi5pKGUpJjY1NTM1O2NbMipkKzIqZV0rPWIqRTtHKGMsMipkKzIqZSk7Y1syKmQrMiplKzFdKz1nKkU7RyhjLDIqZCsyKmUrMSk7Y1syKmQrMiplKzFdKz1iKnI7RyhjLDIqZCsyKmUrMSk7Y1syKmQrMiplKzJdKz1nKnI7RyhjLDIqZCsyKmUrMil9Zm9yKGQ9MDtkPFxuYTtkKyspY1tkXT1jWzIqZCsxXTw8MTZ8Y1syKmRdO2ZvcihkPWE7ZDwyKmE7ZCsrKWNbZF09MDtyZXR1cm4gbmV3IHQoYywwKX07ZnVuY3Rpb24gRyhmLGEpe2Zvcig7KGZbYV0mNjU1MzUpIT1mW2FdOylmW2ErMV0rPWZbYV0+Pj4xNixmW2FdJj02NTUzNSxhKyt9ZnVuY3Rpb24gSChmLGEpe3RoaXMuZz1mO3RoaXMuaD1hfVxuZnVuY3Rpb24gRChmLGEpe2lmKEMoYSkpdGhyb3cgRXJyb3IoXCJkaXZpc2lvbiBieSB6ZXJvXCIpO2lmKEMoZikpcmV0dXJuIG5ldyBIKHcsdyk7aWYoQihmKSlyZXR1cm4gYT1EKHgoZiksYSksbmV3IEgoeChhLmcpLHgoYS5oKSk7aWYoQihhKSlyZXR1cm4gYT1EKGYseChhKSksbmV3IEgoeChhLmcpLGEuaCk7aWYoMzA8Zi5nLmxlbmd0aCl7aWYoQihmKXx8QihhKSl0aHJvdyBFcnJvcihcInNsb3dEaXZpZGVfIG9ubHkgd29ya3Mgd2l0aCBwb3NpdGl2ZSBpbnRlZ2Vycy5cIik7Zm9yKHZhciBjPXosZD1hOzA+PWQubChmKTspYz1JKGMpLGQ9SShkKTt2YXIgZT1KKGMsMSksZz1KKGQsMSk7ZD1KKGQsMik7Zm9yKGM9SihjLDIpOyFDKGQpOyl7dmFyIGI9Zy5hZGQoZCk7MD49Yi5sKGYpJiYoZT1lLmFkZChjKSxnPWIpO2Q9SihkLDEpO2M9SihjLDEpfWE9RihmLGUuaihhKSk7cmV0dXJuIG5ldyBIKGUsYSl9Zm9yKGU9dzswPD1mLmwoYSk7KXtjPU1hdGgubWF4KDEsTWF0aC5mbG9vcihmLm0oKS9cbmEubSgpKSk7ZD1NYXRoLmNlaWwoTWF0aC5sb2coYykvTWF0aC5MTjIpO2Q9NDg+PWQ/MTpNYXRoLnBvdygyLGQtNDgpO2c9dihjKTtmb3IoYj1nLmooYSk7QihiKXx8MDxiLmwoZik7KWMtPWQsZz12KGMpLGI9Zy5qKGEpO0MoZykmJihnPXopO2U9ZS5hZGQoZyk7Zj1GKGYsYil9cmV0dXJuIG5ldyBIKGUsZil9aC5BPWZ1bmN0aW9uKGYpe3JldHVybiBEKHRoaXMsZikuaH07aC5hbmQ9ZnVuY3Rpb24oZil7Zm9yKHZhciBhPU1hdGgubWF4KHRoaXMuZy5sZW5ndGgsZi5nLmxlbmd0aCksYz1bXSxkPTA7ZDxhO2QrKyljW2RdPXRoaXMuaShkKSZmLmkoZCk7cmV0dXJuIG5ldyB0KGMsdGhpcy5oJmYuaCl9O2gub3I9ZnVuY3Rpb24oZil7Zm9yKHZhciBhPU1hdGgubWF4KHRoaXMuZy5sZW5ndGgsZi5nLmxlbmd0aCksYz1bXSxkPTA7ZDxhO2QrKyljW2RdPXRoaXMuaShkKXxmLmkoZCk7cmV0dXJuIG5ldyB0KGMsdGhpcy5ofGYuaCl9O1xuaC54b3I9ZnVuY3Rpb24oZil7Zm9yKHZhciBhPU1hdGgubWF4KHRoaXMuZy5sZW5ndGgsZi5nLmxlbmd0aCksYz1bXSxkPTA7ZDxhO2QrKyljW2RdPXRoaXMuaShkKV5mLmkoZCk7cmV0dXJuIG5ldyB0KGMsdGhpcy5oXmYuaCl9O2Z1bmN0aW9uIEkoZil7Zm9yKHZhciBhPWYuZy5sZW5ndGgrMSxjPVtdLGQ9MDtkPGE7ZCsrKWNbZF09Zi5pKGQpPDwxfGYuaShkLTEpPj4+MzE7cmV0dXJuIG5ldyB0KGMsZi5oKX1mdW5jdGlvbiBKKGYsYSl7dmFyIGM9YT4+NTthJT0zMjtmb3IodmFyIGQ9Zi5nLmxlbmd0aC1jLGU9W10sZz0wO2c8ZDtnKyspZVtnXT0wPGE/Zi5pKGcrYyk+Pj5hfGYuaShnK2MrMSk8PDMyLWE6Zi5pKGcrYyk7cmV0dXJuIG5ldyB0KGUsZi5oKX07bS5wcm90b3R5cGUuZGlnZXN0PW0ucHJvdG90eXBlLnY7bS5wcm90b3R5cGUucmVzZXQ9bS5wcm90b3R5cGUuczttLnByb3RvdHlwZS51cGRhdGU9bS5wcm90b3R5cGUudTttb2R1bGUuZXhwb3J0cy5NZDU9bTt0LnByb3RvdHlwZS5hZGQ9dC5wcm90b3R5cGUuYWRkO3QucHJvdG90eXBlLm11bHRpcGx5PXQucHJvdG90eXBlLmo7dC5wcm90b3R5cGUubW9kdWxvPXQucHJvdG90eXBlLkE7dC5wcm90b3R5cGUuY29tcGFyZT10LnByb3RvdHlwZS5sO3QucHJvdG90eXBlLnRvTnVtYmVyPXQucHJvdG90eXBlLm07dC5wcm90b3R5cGUudG9TdHJpbmc9dC5wcm90b3R5cGUudG9TdHJpbmc7dC5wcm90b3R5cGUuZ2V0Qml0cz10LnByb3RvdHlwZS5pO3QuZnJvbU51bWJlcj12O3QuZnJvbVN0cmluZz15O21vZHVsZS5leHBvcnRzLkludGVnZXI9dDt9KS5hcHBseSggdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93ICA6IHt9KTtcbiIsIi8qKiBAbGljZW5zZVxuQ29weXJpZ2h0IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy5cblNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuKGZ1bmN0aW9uKCkgeyd1c2Ugc3RyaWN0Jzt2YXIgaCxhYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PUFycmF5LnByb3RvdHlwZXx8YT09T2JqZWN0LnByb3RvdHlwZSlyZXR1cm4gYTthW2JdPWMudmFsdWU7cmV0dXJuIGF9O2Z1bmN0aW9uIGJhKGEpe2E9W1wib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLGEsXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbF07Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2Ipe3ZhciBjPWFbYl07aWYoYyYmYy5NYXRoPT1NYXRoKXJldHVybiBjfXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgZ2xvYmFsIG9iamVjdFwiKTt9dmFyIGNhPWJhKHRoaXMpO1xuZnVuY3Rpb24gZGEoYSxiKXtpZihiKWE6e3ZhciBjPWNhO2E9YS5zcGxpdChcIi5cIik7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aC0xO2QrKyl7dmFyIGU9YVtkXTtpZighKGUgaW4gYykpYnJlYWsgYTtjPWNbZV19YT1hW2EubGVuZ3RoLTFdO2Q9Y1thXTtiPWIoZCk7YiE9ZCYmbnVsbCE9YiYmYWEoYyxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pfX1mdW5jdGlvbiBlYShhLGIpe2EgaW5zdGFuY2VvZiBTdHJpbmcmJihhKz1cIlwiKTt2YXIgYz0wLGQ9ITEsZT17bmV4dDpmdW5jdGlvbigpe2lmKCFkJiZjPGEubGVuZ3RoKXt2YXIgZj1jKys7cmV0dXJue3ZhbHVlOmIoZixhW2ZdKSxkb25lOiExfX1kPSEwO3JldHVybntkb25lOiEwLHZhbHVlOnZvaWQgMH19fTtlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGV9XG5kYShcIkFycmF5LnByb3RvdHlwZS52YWx1ZXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKCl7cmV0dXJuIGVhKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gY30pfX0pOy8qKiBAbGljZW5zZVxuXG4gQ29weXJpZ2h0IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy5cbiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuKi9cbnZhciBmYT1mYXx8e30saz10aGlzfHxzZWxmO2Z1bmN0aW9uIGhhKGEpe3ZhciBiPXR5cGVvZiBhO2I9XCJvYmplY3RcIiE9Yj9iOmE/QXJyYXkuaXNBcnJheShhKT9cImFycmF5XCI6YjpcIm51bGxcIjtyZXR1cm5cImFycmF5XCI9PWJ8fFwib2JqZWN0XCI9PWImJlwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aH1mdW5jdGlvbiBuKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVyblwib2JqZWN0XCI9PWImJm51bGwhPWF8fFwiZnVuY3Rpb25cIj09Yn1mdW5jdGlvbiBpYShhLGIsYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX1cbmZ1bmN0aW9uIGphKGEsYixjKXtpZighYSl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoZSxkKTtyZXR1cm4gYS5hcHBseShiLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHAoYSxiLGMpe3A9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9pYTpqYTtyZXR1cm4gcC5hcHBseShudWxsLGFyZ3VtZW50cyl9XG5mdW5jdGlvbiBrYShhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7ZC5wdXNoLmFwcGx5KGQsYXJndW1lbnRzKTtyZXR1cm4gYS5hcHBseSh0aGlzLGQpfX1mdW5jdGlvbiByKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLmFhPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5RYj1mdW5jdGlvbihkLGUsZil7Zm9yKHZhciBnPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksbT0yO208YXJndW1lbnRzLmxlbmd0aDttKyspZ1ttLTJdPWFyZ3VtZW50c1ttXTtyZXR1cm4gYi5wcm90b3R5cGVbZV0uYXBwbHkoZCxnKX19O2Z1bmN0aW9uIGxhKGEpe2NvbnN0IGI9YS5sZW5ndGg7aWYoMDxiKXtjb25zdCBjPUFycmF5KGIpO2ZvcihsZXQgZD0wO2Q8YjtkKyspY1tkXT1hW2RdO3JldHVybiBjfXJldHVybltdfWZ1bmN0aW9uIG1hKGEsYil7Zm9yKGxldCBjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7Y29uc3QgZD1hcmd1bWVudHNbY107aWYoaGEoZCkpe2NvbnN0IGU9YS5sZW5ndGh8fDAsZj1kLmxlbmd0aHx8MDthLmxlbmd0aD1lK2Y7Zm9yKGxldCBnPTA7ZzxmO2crKylhW2UrZ109ZFtnXX1lbHNlIGEucHVzaChkKX19O2NsYXNzIG5he2NvbnN0cnVjdG9yKGEsYil7dGhpcy5pPWE7dGhpcy5qPWI7dGhpcy5oPTA7dGhpcy5nPW51bGx9Z2V0KCl7bGV0IGE7MDx0aGlzLmg/KHRoaXMuaC0tLGE9dGhpcy5nLHRoaXMuZz1hLm5leHQsYS5uZXh0PW51bGwpOmE9dGhpcy5pKCk7cmV0dXJuIGF9fTtmdW5jdGlvbiB0KGEpe3JldHVybi9eW1xcc1xceGEwXSokLy50ZXN0KGEpfTtmdW5jdGlvbiB1KCl7dmFyIGE9ay5uYXZpZ2F0b3I7cmV0dXJuIGEmJihhPWEudXNlckFnZW50KT9hOlwiXCJ9O2Z1bmN0aW9uIG9hKGEpe29hW1wiIFwiXShhKTtyZXR1cm4gYX1vYVtcIiBcIl09ZnVuY3Rpb24oKXt9O3ZhciBwYT0tMSE9dSgpLmluZGV4T2YoXCJHZWNrb1wiKSYmISgtMSE9dSgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmLTE9PXUoKS5pbmRleE9mKFwiRWRnZVwiKSkmJiEoLTEhPXUoKS5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPXUoKS5pbmRleE9mKFwiTVNJRVwiKSkmJi0xPT11KCkuaW5kZXhPZihcIkVkZ2VcIik7ZnVuY3Rpb24gcWEoYSxiLGMpe2Zvcihjb25zdCBkIGluIGEpYi5jYWxsKGMsYVtkXSxkLGEpfWZ1bmN0aW9uIHJhKGEsYil7Zm9yKGNvbnN0IGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX1mdW5jdGlvbiBzYShhKXtjb25zdCBiPXt9O2Zvcihjb25zdCBjIGluIGEpYltjXT1hW2NdO3JldHVybiBifWNvbnN0IHRhPVwiY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mXCIuc3BsaXQoXCIgXCIpO2Z1bmN0aW9uIHVhKGEsYil7bGV0IGMsZDtmb3IobGV0IGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXtkPWFyZ3VtZW50c1tlXTtmb3IoYyBpbiBkKWFbY109ZFtjXTtmb3IobGV0IGY9MDtmPHRhLmxlbmd0aDtmKyspYz10YVtmXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxjKSYmKGFbY109ZFtjXSl9fTtmdW5jdGlvbiB2YShhKXt2YXIgYj0xO2E9YS5zcGxpdChcIjpcIik7Y29uc3QgYz1bXTtmb3IoOzA8YiYmYS5sZW5ndGg7KWMucHVzaChhLnNoaWZ0KCkpLGItLTthLmxlbmd0aCYmYy5wdXNoKGEuam9pbihcIjpcIikpO3JldHVybiBjfTtmdW5jdGlvbiB3YShhKXtrLnNldFRpbWVvdXQoKCk9Pnt0aHJvdyBhO30sMCl9O2Z1bmN0aW9uIHhhKCl7dmFyIGE9emE7bGV0IGI9bnVsbDthLmcmJihiPWEuZyxhLmc9YS5nLm5leHQsYS5nfHwoYS5oPW51bGwpLGIubmV4dD1udWxsKTtyZXR1cm4gYn1jbGFzcyBBYXtjb25zdHJ1Y3Rvcigpe3RoaXMuaD10aGlzLmc9bnVsbH1hZGQoYSxiKXtjb25zdCBjPUJhLmdldCgpO2Muc2V0KGEsYik7dGhpcy5oP3RoaXMuaC5uZXh0PWM6dGhpcy5nPWM7dGhpcy5oPWN9fXZhciBCYT1uZXcgbmEoKCk9Pm5ldyBDYSxhPT5hLnJlc2V0KCkpO2NsYXNzIENhe2NvbnN0cnVjdG9yKCl7dGhpcy5uZXh0PXRoaXMuZz10aGlzLmg9bnVsbH1zZXQoYSxiKXt0aGlzLmg9YTt0aGlzLmc9Yjt0aGlzLm5leHQ9bnVsbH1yZXNldCgpe3RoaXMubmV4dD10aGlzLmc9dGhpcy5oPW51bGx9fTtsZXQgeCx5PSExLHphPW5ldyBBYSxFYT0oKT0+e2NvbnN0IGE9ay5Qcm9taXNlLnJlc29sdmUodm9pZCAwKTt4PSgpPT57YS50aGVuKERhKX19O3ZhciBEYT0oKT0+e2Zvcih2YXIgYTthPXhhKCk7KXt0cnl7YS5oLmNhbGwoYS5nKX1jYXRjaChjKXt3YShjKX12YXIgYj1CYTtiLmooYSk7MTAwPmIuaCYmKGIuaCsrLGEubmV4dD1iLmcsYi5nPWEpfXk9ITF9O2Z1bmN0aW9uIHooKXt0aGlzLnM9dGhpcy5zO3RoaXMuQz10aGlzLkN9ei5wcm90b3R5cGUucz0hMTt6LnByb3RvdHlwZS5tYT1mdW5jdGlvbigpe3RoaXMuc3x8KHRoaXMucz0hMCx0aGlzLk4oKSl9O3oucHJvdG90eXBlLk49ZnVuY3Rpb24oKXtpZih0aGlzLkMpZm9yKDt0aGlzLkMubGVuZ3RoOyl0aGlzLkMuc2hpZnQoKSgpfTtmdW5jdGlvbiBBKGEsYil7dGhpcy50eXBlPWE7dGhpcy5nPXRoaXMudGFyZ2V0PWI7dGhpcy5kZWZhdWx0UHJldmVudGVkPSExfUEucHJvdG90eXBlLmg9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9O3ZhciBGYT1mdW5jdGlvbigpe2lmKCFrLmFkZEV2ZW50TGlzdGVuZXJ8fCFPYmplY3QuZGVmaW5lUHJvcGVydHkpcmV0dXJuITE7dmFyIGE9ITEsYj1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJwYXNzaXZlXCIse2dldDpmdW5jdGlvbigpe2E9ITB9fSk7dHJ5e2NvbnN0IGM9KCk9Pnt9O2suYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIixjLGIpO2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRlc3RcIixjLGIpfWNhdGNoKGMpe31yZXR1cm4gYX0oKTtmdW5jdGlvbiBDKGEsYil7QS5jYWxsKHRoaXMsYT9hLnR5cGU6XCJcIik7dGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuZz10aGlzLnRhcmdldD1udWxsO3RoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD0wO3RoaXMua2V5PVwiXCI7dGhpcy5tZXRhS2V5PXRoaXMuc2hpZnRLZXk9dGhpcy5hbHRLZXk9dGhpcy5jdHJsS2V5PSExO3RoaXMuc3RhdGU9bnVsbDt0aGlzLnBvaW50ZXJJZD0wO3RoaXMucG9pbnRlclR5cGU9XCJcIjt0aGlzLmk9bnVsbDtpZihhKXt2YXIgYz10aGlzLnR5cGU9YS50eXBlLGQ9YS5jaGFuZ2VkVG91Y2hlcyYmYS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg/YS5jaGFuZ2VkVG91Y2hlc1swXTpudWxsO3RoaXMudGFyZ2V0PWEudGFyZ2V0fHxhLnNyY0VsZW1lbnQ7dGhpcy5nPWI7aWYoYj1hLnJlbGF0ZWRUYXJnZXQpe2lmKHBhKXthOnt0cnl7b2EoYi5ub2RlTmFtZSk7dmFyIGU9ITA7YnJlYWsgYX1jYXRjaChmKXt9ZT1cbiExfWV8fChiPW51bGwpfX1lbHNlXCJtb3VzZW92ZXJcIj09Yz9iPWEuZnJvbUVsZW1lbnQ6XCJtb3VzZW91dFwiPT1jJiYoYj1hLnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWI7ZD8odGhpcy5jbGllbnRYPXZvaWQgMCE9PWQuY2xpZW50WD9kLmNsaWVudFg6ZC5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09ZC5jbGllbnRZP2QuY2xpZW50WTpkLnBhZ2VZLHRoaXMuc2NyZWVuWD1kLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPWQuc2NyZWVuWXx8MCk6KHRoaXMuY2xpZW50WD12b2lkIDAhPT1hLmNsaWVudFg/YS5jbGllbnRYOmEucGFnZVgsdGhpcy5jbGllbnRZPXZvaWQgMCE9PWEuY2xpZW50WT9hLmNsaWVudFk6YS5wYWdlWSx0aGlzLnNjcmVlblg9YS5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT1hLnNjcmVlbll8fDApO3RoaXMuYnV0dG9uPWEuYnV0dG9uO3RoaXMua2V5PWEua2V5fHxcIlwiO3RoaXMuY3RybEtleT1hLmN0cmxLZXk7dGhpcy5hbHRLZXk9YS5hbHRLZXk7dGhpcy5zaGlmdEtleT1cbmEuc2hpZnRLZXk7dGhpcy5tZXRhS2V5PWEubWV0YUtleTt0aGlzLnBvaW50ZXJJZD1hLnBvaW50ZXJJZHx8MDt0aGlzLnBvaW50ZXJUeXBlPVwic3RyaW5nXCI9PT10eXBlb2YgYS5wb2ludGVyVHlwZT9hLnBvaW50ZXJUeXBlOkdhW2EucG9pbnRlclR5cGVdfHxcIlwiO3RoaXMuc3RhdGU9YS5zdGF0ZTt0aGlzLmk9YTthLmRlZmF1bHRQcmV2ZW50ZWQmJkMuYWEuaC5jYWxsKHRoaXMpfX1yKEMsQSk7dmFyIEdhPXsyOlwidG91Y2hcIiwzOlwicGVuXCIsNDpcIm1vdXNlXCJ9O0MucHJvdG90eXBlLmg9ZnVuY3Rpb24oKXtDLmFhLmguY2FsbCh0aGlzKTt2YXIgYT10aGlzLmk7YS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMX07dmFyIEQ9XCJjbG9zdXJlX2xpc3RlbmFibGVfXCIrKDFFNipNYXRoLnJhbmRvbSgpfDApO3ZhciBIYT0wO2Z1bmN0aW9uIElhKGEsYixjLGQsZSl7dGhpcy5saXN0ZW5lcj1hO3RoaXMucHJveHk9bnVsbDt0aGlzLnNyYz1iO3RoaXMudHlwZT1jO3RoaXMuY2FwdHVyZT0hIWQ7dGhpcy5oYT1lO3RoaXMua2V5PSsrSGE7dGhpcy5kYT10aGlzLmZhPSExfWZ1bmN0aW9uIEphKGEpe2EuZGE9ITA7YS5saXN0ZW5lcj1udWxsO2EucHJveHk9bnVsbDthLnNyYz1udWxsO2EuaGE9bnVsbH07ZnVuY3Rpb24gS2EoYSl7dGhpcy5zcmM9YTt0aGlzLmc9e307dGhpcy5oPTB9S2EucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudG9TdHJpbmcoKTthPXRoaXMuZ1tmXTthfHwoYT10aGlzLmdbZl09W10sdGhpcy5oKyspO3ZhciBnPUxhKGEsYixkLGUpOy0xPGc/KGI9YVtnXSxjfHwoYi5mYT0hMSkpOihiPW5ldyBJYShiLHRoaXMuc3JjLGYsISFkLGUpLGIuZmE9YyxhLnB1c2goYikpO3JldHVybiBifTtmdW5jdGlvbiBNYShhLGIpe3ZhciBjPWIudHlwZTtpZihjIGluIGEuZyl7dmFyIGQ9YS5nW2NdLGU9QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChkLGIsdm9pZCAwKSxmOyhmPTA8PWUpJiZBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoZCxlLDEpO2YmJihKYShiKSwwPT1hLmdbY10ubGVuZ3RoJiYoZGVsZXRlIGEuZ1tjXSxhLmgtLSkpfX1cbmZ1bmN0aW9uIExhKGEsYixjLGQpe2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7KytlKXt2YXIgZj1hW2VdO2lmKCFmLmRhJiZmLmxpc3RlbmVyPT1iJiZmLmNhcHR1cmU9PSEhYyYmZi5oYT09ZClyZXR1cm4gZX1yZXR1cm4tMX07dmFyIE5hPVwiY2xvc3VyZV9sbV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCksT2E9e30sUGE9MDtmdW5jdGlvbiBRYShhLGIsYyxkLGUpe2lmKGQmJmQub25jZSlyZXR1cm4gUmEoYSxiLGMsZCxlKTtpZihBcnJheS5pc0FycmF5KGIpKXtmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylRYShhLGJbZl0sYyxkLGUpO3JldHVybiBudWxsfWM9U2EoYyk7cmV0dXJuIGEmJmFbRF0/YS5LKGIsYyxuKGQpPyEhZC5jYXB0dXJlOiEhZCxlKTpUYShhLGIsYywhMSxkLGUpfVxuZnVuY3Rpb24gVGEoYSxiLGMsZCxlLGYpe2lmKCFiKXRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO3ZhciBnPW4oZSk/ISFlLmNhcHR1cmU6ISFlLG09VWEoYSk7bXx8KGFbTmFdPW09bmV3IEthKGEpKTtjPW0uYWRkKGIsYyxkLGcsZik7aWYoYy5wcm94eSlyZXR1cm4gYztkPVZhKCk7Yy5wcm94eT1kO2Quc3JjPWE7ZC5saXN0ZW5lcj1jO2lmKGEuYWRkRXZlbnRMaXN0ZW5lcilGYXx8KGU9Zyksdm9pZCAwPT09ZSYmKGU9ITEpLGEuYWRkRXZlbnRMaXN0ZW5lcihiLnRvU3RyaW5nKCksZCxlKTtlbHNlIGlmKGEuYXR0YWNoRXZlbnQpYS5hdHRhY2hFdmVudChXYShiLnRvU3RyaW5nKCkpLGQpO2Vsc2UgaWYoYS5hZGRMaXN0ZW5lciYmYS5yZW1vdmVMaXN0ZW5lcilhLmFkZExpc3RlbmVyKGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpO1BhKys7cmV0dXJuIGN9XG5mdW5jdGlvbiBWYSgpe2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGIuY2FsbChhLnNyYyxhLmxpc3RlbmVyLGMpfWNvbnN0IGI9WGE7cmV0dXJuIGF9ZnVuY3Rpb24gUmEoYSxiLGMsZCxlKXtpZihBcnJheS5pc0FycmF5KGIpKXtmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylSYShhLGJbZl0sYyxkLGUpO3JldHVybiBudWxsfWM9U2EoYyk7cmV0dXJuIGEmJmFbRF0/YS5MKGIsYyxuKGQpPyEhZC5jYXB0dXJlOiEhZCxlKTpUYShhLGIsYywhMCxkLGUpfVxuZnVuY3Rpb24gWWEoYSxiLGMsZCxlKXtpZihBcnJheS5pc0FycmF5KGIpKWZvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKVlhKGEsYltmXSxjLGQsZSk7ZWxzZShkPW4oZCk/ISFkLmNhcHR1cmU6ISFkLGM9U2EoYyksYSYmYVtEXSk/KGE9YS5pLGI9U3RyaW5nKGIpLnRvU3RyaW5nKCksYiBpbiBhLmcmJihmPWEuZ1tiXSxjPUxhKGYsYyxkLGUpLC0xPGMmJihKYShmW2NdKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoZixjLDEpLDA9PWYubGVuZ3RoJiYoZGVsZXRlIGEuZ1tiXSxhLmgtLSkpKSk6YSYmKGE9VWEoYSkpJiYoYj1hLmdbYi50b1N0cmluZygpXSxhPS0xLGImJihhPUxhKGIsYyxkLGUpKSwoYz0tMTxhP2JbYV06bnVsbCkmJlphKGMpKX1cbmZ1bmN0aW9uIFphKGEpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgYSYmYSYmIWEuZGEpe3ZhciBiPWEuc3JjO2lmKGImJmJbRF0pTWEoYi5pLGEpO2Vsc2V7dmFyIGM9YS50eXBlLGQ9YS5wcm94eTtiLnJlbW92ZUV2ZW50TGlzdGVuZXI/Yi5yZW1vdmVFdmVudExpc3RlbmVyKGMsZCxhLmNhcHR1cmUpOmIuZGV0YWNoRXZlbnQ/Yi5kZXRhY2hFdmVudChXYShjKSxkKTpiLmFkZExpc3RlbmVyJiZiLnJlbW92ZUxpc3RlbmVyJiZiLnJlbW92ZUxpc3RlbmVyKGQpO1BhLS07KGM9VWEoYikpPyhNYShjLGEpLDA9PWMuaCYmKGMuc3JjPW51bGwsYltOYV09bnVsbCkpOkphKGEpfX19ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIGEgaW4gT2E/T2FbYV06T2FbYV09XCJvblwiK2F9ZnVuY3Rpb24gWGEoYSxiKXtpZihhLmRhKWE9ITA7ZWxzZXtiPW5ldyBDKGIsdGhpcyk7dmFyIGM9YS5saXN0ZW5lcixkPWEuaGF8fGEuc3JjO2EuZmEmJlphKGEpO2E9Yy5jYWxsKGQsYil9cmV0dXJuIGF9XG5mdW5jdGlvbiBVYShhKXthPWFbTmFdO3JldHVybiBhIGluc3RhbmNlb2YgS2E/YTpudWxsfXZhciAkYT1cIl9fY2xvc3VyZV9ldmVudHNfZm5fXCIrKDFFOSpNYXRoLnJhbmRvbSgpPj4+MCk7ZnVuY3Rpb24gU2EoYSl7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGE7YVskYV18fChhWyRhXT1mdW5jdGlvbihiKXtyZXR1cm4gYS5oYW5kbGVFdmVudChiKX0pO3JldHVybiBhWyRhXX07ZnVuY3Rpb24gRSgpe3ouY2FsbCh0aGlzKTt0aGlzLmk9bmV3IEthKHRoaXMpO3RoaXMuTT10aGlzO3RoaXMuRj1udWxsfXIoRSx6KTtFLnByb3RvdHlwZVtEXT0hMDtFLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjLGQpe1lhKHRoaXMsYSxiLGMsZCl9O1xuZnVuY3Rpb24gRihhLGIpe3ZhciBjLGQ9YS5GO2lmKGQpZm9yKGM9W107ZDtkPWQuRiljLnB1c2goZCk7YT1hLk07ZD1iLnR5cGV8fGI7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBiKWI9bmV3IEEoYixhKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBBKWIudGFyZ2V0PWIudGFyZ2V0fHxhO2Vsc2V7dmFyIGU9YjtiPW5ldyBBKGQsYSk7dWEoYixlKX1lPSEwO2lmKGMpZm9yKHZhciBmPWMubGVuZ3RoLTE7MDw9ZjtmLS0pe3ZhciBnPWIuZz1jW2ZdO2U9YWIoZyxkLCEwLGIpJiZlfWc9Yi5nPWE7ZT1hYihnLGQsITAsYikmJmU7ZT1hYihnLGQsITEsYikmJmU7aWYoYylmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKWc9Yi5nPWNbZl0sZT1hYihnLGQsITEsYikmJmV9XG5FLnByb3RvdHlwZS5OPWZ1bmN0aW9uKCl7RS5hYS5OLmNhbGwodGhpcyk7aWYodGhpcy5pKXt2YXIgYT10aGlzLmksYj0wLGM7Zm9yKGMgaW4gYS5nKXtmb3IodmFyIGQ9YS5nW2NdLGU9MDtlPGQubGVuZ3RoO2UrKykrK2IsSmEoZFtlXSk7ZGVsZXRlIGEuZ1tjXTthLmgtLX19dGhpcy5GPW51bGx9O0UucHJvdG90eXBlLks9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuaS5hZGQoU3RyaW5nKGEpLGIsITEsYyxkKX07RS5wcm90b3R5cGUuTD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5pLmFkZChTdHJpbmcoYSksYiwhMCxjLGQpfTtcbmZ1bmN0aW9uIGFiKGEsYixjLGQpe2I9YS5pLmdbU3RyaW5nKGIpXTtpZighYilyZXR1cm4hMDtiPWIuY29uY2F0KCk7Zm9yKHZhciBlPSEwLGY9MDtmPGIubGVuZ3RoOysrZil7dmFyIGc9YltmXTtpZihnJiYhZy5kYSYmZy5jYXB0dXJlPT1jKXt2YXIgbT1nLmxpc3RlbmVyLHE9Zy5oYXx8Zy5zcmM7Zy5mYSYmTWEoYS5pLGcpO2U9ITEhPT1tLmNhbGwocSxkKSYmZX19cmV0dXJuIGUmJiFkLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIGJiKGEsYixjKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSljJiYoYT1wKGEsYykpO2Vsc2UgaWYoYSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5oYW5kbGVFdmVudClhPXAoYS5oYW5kbGVFdmVudCxhKTtlbHNlIHRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTtyZXR1cm4gMjE0NzQ4MzY0NzxOdW1iZXIoYik/LTE6ay5zZXRUaW1lb3V0KGEsYnx8MCl9O2Z1bmN0aW9uIGNiKGEpe2EuZz1iYigoKT0+e2EuZz1udWxsO2EuaSYmKGEuaT0hMSxjYihhKSl9LGEubCk7Y29uc3QgYj1hLmg7YS5oPW51bGw7YS5tLmFwcGx5KG51bGwsYil9Y2xhc3MgZWIgZXh0ZW5kcyB6e2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoKTt0aGlzLm09YTt0aGlzLmw9Yjt0aGlzLmg9bnVsbDt0aGlzLmk9ITE7dGhpcy5nPW51bGx9aihhKXt0aGlzLmg9YXJndW1lbnRzO3RoaXMuZz90aGlzLmk9ITA6Y2IodGhpcyl9Tigpe3N1cGVyLk4oKTt0aGlzLmcmJihrLmNsZWFyVGltZW91dCh0aGlzLmcpLHRoaXMuZz1udWxsLHRoaXMuaT0hMSx0aGlzLmg9bnVsbCl9fTtmdW5jdGlvbiBHKGEpe3ouY2FsbCh0aGlzKTt0aGlzLmg9YTt0aGlzLmc9e319cihHLHopO3ZhciBmYj1bXTtmdW5jdGlvbiBnYihhKXtxYShhLmcsZnVuY3Rpb24oYixjKXt0aGlzLmcuaGFzT3duUHJvcGVydHkoYykmJlphKGIpfSxhKTthLmc9e319Ry5wcm90b3R5cGUuTj1mdW5jdGlvbigpe0cuYWEuTi5jYWxsKHRoaXMpO2diKHRoaXMpfTtHLnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiRXZlbnRIYW5kbGVyLmhhbmRsZUV2ZW50IG5vdCBpbXBsZW1lbnRlZFwiKTt9O3ZhciBoYj1rLkpTT04uc3RyaW5naWZ5O3ZhciBpYj1rLkpTT04ucGFyc2U7dmFyIGpiPWNsYXNze3N0cmluZ2lmeShhKXtyZXR1cm4gay5KU09OLnN0cmluZ2lmeShhLHZvaWQgMCl9cGFyc2UoYSl7cmV0dXJuIGsuSlNPTi5wYXJzZShhLHZvaWQgMCl9fTtmdW5jdGlvbiBrYigpe31rYi5wcm90b3R5cGUuaD1udWxsO2Z1bmN0aW9uIGxiKGEpe3JldHVybiBhLmh8fChhLmg9YS5pKCkpfTtmdW5jdGlvbiBtYigpe312YXIgSD17T1BFTjpcImFcIixrYjpcImJcIixKYTpcImNcIix3YjpcImRcIn07ZnVuY3Rpb24gbmIoKXtBLmNhbGwodGhpcyxcImRcIil9cihuYixBKTtmdW5jdGlvbiBvYigpe0EuY2FsbCh0aGlzLFwiY1wiKX1yKG9iLEEpO3ZhciBJPXt9LHBiPW51bGw7ZnVuY3Rpb24gcWIoKXtyZXR1cm4gcGI9cGJ8fG5ldyBFfUkuTGE9XCJzZXJ2ZXJyZWFjaGFiaWxpdHlcIjtmdW5jdGlvbiByYihhKXtBLmNhbGwodGhpcyxJLkxhLGEpfXIocmIsQSk7ZnVuY3Rpb24gSihhKXtjb25zdCBiPXFiKCk7RihiLG5ldyByYihiLGEpKX1JLlNUQVRfRVZFTlQ9XCJzdGF0ZXZlbnRcIjtmdW5jdGlvbiBzYihhLGIpe0EuY2FsbCh0aGlzLEkuU1RBVF9FVkVOVCxhKTt0aGlzLnN0YXQ9Yn1yKHNiLEEpO2Z1bmN0aW9uIEsoYSl7Y29uc3QgYj1xYigpO0YoYixuZXcgc2IoYixhKSl9SS5NYT1cInRpbWluZ2V2ZW50XCI7ZnVuY3Rpb24gdGIoYSxiKXtBLmNhbGwodGhpcyxJLk1hLGEpO3RoaXMuc2l6ZT1ifXIodGIsQSk7XG5mdW5jdGlvbiB1YihhLGIpe2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhKXRocm93IEVycm9yKFwiRm4gbXVzdCBub3QgYmUgbnVsbCBhbmQgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXthKCl9LGIpfTtmdW5jdGlvbiB2Yigpe3RoaXMuZz0hMH12Yi5wcm90b3R5cGUueGE9ZnVuY3Rpb24oKXt0aGlzLmc9ITF9O2Z1bmN0aW9uIHdiKGEsYixjLGQsZSxmKXthLmluZm8oZnVuY3Rpb24oKXtpZihhLmcpaWYoZil7dmFyIGc9XCJcIjtmb3IodmFyIG09Zi5zcGxpdChcIiZcIikscT0wO3E8bS5sZW5ndGg7cSsrKXt2YXIgbD1tW3FdLnNwbGl0KFwiPVwiKTtpZigxPGwubGVuZ3RoKXt2YXIgdj1sWzBdO2w9bFsxXTt2YXIgdz12LnNwbGl0KFwiX1wiKTtnPTI8PXcubGVuZ3RoJiZcInR5cGVcIj09d1sxXT9nKyh2K1wiPVwiK2wrXCImXCIpOmcrKHYrXCI9cmVkYWN0ZWQmXCIpfX19ZWxzZSBnPW51bGw7ZWxzZSBnPWY7cmV0dXJuXCJYTUxIVFRQIFJFUSAoXCIrZCtcIikgW2F0dGVtcHQgXCIrZStcIl06IFwiK2IrXCJcXG5cIitjK1wiXFxuXCIrZ30pfVxuZnVuY3Rpb24geGIoYSxiLGMsZCxlLGYsZyl7YS5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuXCJYTUxIVFRQIFJFU1AgKFwiK2QrXCIpIFsgYXR0ZW1wdCBcIitlK1wiXTogXCIrYitcIlxcblwiK2MrXCJcXG5cIitmK1wiIFwiK2d9KX1mdW5jdGlvbiBMKGEsYixjLGQpe2EuaW5mbyhmdW5jdGlvbigpe3JldHVyblwiWE1MSFRUUCBURVhUIChcIitiK1wiKTogXCIreWIoYSxjKSsoZD9cIiBcIitkOlwiXCIpfSl9ZnVuY3Rpb24gemIoYSxiKXthLmluZm8oZnVuY3Rpb24oKXtyZXR1cm5cIlRJTUVPVVQ6IFwiK2J9KX12Yi5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe307XG5mdW5jdGlvbiB5YihhLGIpe2lmKCFhLmcpcmV0dXJuIGI7aWYoIWIpcmV0dXJuIG51bGw7dHJ5e3ZhciBjPUpTT04ucGFyc2UoYik7aWYoYylmb3IoYT0wO2E8Yy5sZW5ndGg7YSsrKWlmKEFycmF5LmlzQXJyYXkoY1thXSkpe3ZhciBkPWNbYV07aWYoISgyPmQubGVuZ3RoKSl7dmFyIGU9ZFsxXTtpZihBcnJheS5pc0FycmF5KGUpJiYhKDE+ZS5sZW5ndGgpKXt2YXIgZj1lWzBdO2lmKFwibm9vcFwiIT1mJiZcInN0b3BcIiE9ZiYmXCJjbG9zZVwiIT1mKWZvcih2YXIgZz0xO2c8ZS5sZW5ndGg7ZysrKWVbZ109XCJcIn19fXJldHVybiBoYihjKX1jYXRjaChtKXtyZXR1cm4gYn19O3ZhciBBYj17Tk9fRVJST1I6MCxnYjoxLHRiOjIsc2I6MyxuYjo0LHJiOjUsdWI6NixJYTo3LFRJTUVPVVQ6OCx4Yjo5fTt2YXIgQmI9e2xiOlwiY29tcGxldGVcIixIYjpcInN1Y2Nlc3NcIixKYTpcImVycm9yXCIsSWE6XCJhYm9ydFwiLHpiOlwicmVhZHlcIixBYjpcInJlYWR5c3RhdGVjaGFuZ2VcIixUSU1FT1VUOlwidGltZW91dFwiLHZiOlwiaW5jcmVtZW50YWxkYXRhXCIseWI6XCJwcm9ncmVzc1wiLG9iOlwiZG93bmxvYWRwcm9ncmVzc1wiLFBiOlwidXBsb2FkcHJvZ3Jlc3NcIn07dmFyIENiO2Z1bmN0aW9uIERiKCl7fXIoRGIsa2IpO0RiLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH07RGIucHJvdG90eXBlLmk9ZnVuY3Rpb24oKXtyZXR1cm57fX07Q2I9bmV3IERiO2Z1bmN0aW9uIE0oYSxiLGMsZCl7dGhpcy5qPWE7dGhpcy5pPWI7dGhpcy5sPWM7dGhpcy5SPWR8fDE7dGhpcy5VPW5ldyBHKHRoaXMpO3RoaXMuST00NUUzO3RoaXMuSD1udWxsO3RoaXMubz0hMTt0aGlzLm09dGhpcy5BPXRoaXMudj10aGlzLkw9dGhpcy5GPXRoaXMuUz10aGlzLkI9bnVsbDt0aGlzLkQ9W107dGhpcy5nPW51bGw7dGhpcy5DPTA7dGhpcy5zPXRoaXMudT1udWxsO3RoaXMuWD0tMTt0aGlzLko9ITE7dGhpcy5PPTA7dGhpcy5NPW51bGw7dGhpcy5XPXRoaXMuSz10aGlzLlQ9dGhpcy5QPSExO3RoaXMuaD1uZXcgRWJ9ZnVuY3Rpb24gRWIoKXt0aGlzLmk9bnVsbDt0aGlzLmc9XCJcIjt0aGlzLmg9ITF9dmFyIEZiPXt9LEdiPXt9O2Z1bmN0aW9uIEhiKGEsYixjKXthLkw9MTthLnY9SWIoTihiKSk7YS5tPWM7YS5QPSEwO0piKGEsbnVsbCl9XG5mdW5jdGlvbiBKYihhLGIpe2EuRj1EYXRlLm5vdygpO0tiKGEpO2EuQT1OKGEudik7dmFyIGM9YS5BLGQ9YS5SO0FycmF5LmlzQXJyYXkoZCl8fChkPVtTdHJpbmcoZCldKTtMYihjLmksXCJ0XCIsZCk7YS5DPTA7Yz1hLmouSjthLmg9bmV3IEViO2EuZz1NYihhLmosYz9iOm51bGwsIWEubSk7MDxhLk8mJihhLk09bmV3IGViKHAoYS5ZLGEsYS5nKSxhLk8pKTtiPWEuVTtjPWEuZztkPWEuY2E7dmFyIGU9XCJyZWFkeXN0YXRlY2hhbmdlXCI7QXJyYXkuaXNBcnJheShlKXx8KGUmJihmYlswXT1lLnRvU3RyaW5nKCkpLGU9ZmIpO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1RYShjLGVbZl0sZHx8Yi5oYW5kbGVFdmVudCwhMSxiLmh8fGIpO2lmKCFnKWJyZWFrO2IuZ1tnLmtleV09Z31iPWEuSD9zYShhLkgpOnt9O2EubT8oYS51fHwoYS51PVwiUE9TVFwiKSxiW1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsYS5nLmVhKGEuQSxhLnUsXG5hLm0sYikpOihhLnU9XCJHRVRcIixhLmcuZWEoYS5BLGEudSxudWxsLGIpKTtKKDEpO3diKGEuaSxhLnUsYS5BLGEubCxhLlIsYS5tKX1NLnByb3RvdHlwZS5jYT1mdW5jdGlvbihhKXthPWEudGFyZ2V0O2NvbnN0IGI9dGhpcy5NO2ImJjM9PVAoYSk/Yi5qKCk6dGhpcy5ZKGEpfTtcbk0ucHJvdG90eXBlLlk9ZnVuY3Rpb24oYSl7dHJ5e2lmKGE9PXRoaXMuZylhOntjb25zdCB3PVAodGhpcy5nKTt2YXIgYj10aGlzLmcuQmEoKTtjb25zdCBPPXRoaXMuZy5aKCk7aWYoISgzPncpJiYoMyE9d3x8dGhpcy5nJiYodGhpcy5oLmh8fHRoaXMuZy5vYSgpfHxOYih0aGlzLmcpKSkpe3RoaXMuSnx8NCE9d3x8Nz09Ynx8KDg9PWJ8fDA+PU8/SigzKTpKKDIpKTtPYih0aGlzKTt2YXIgYz10aGlzLmcuWigpO3RoaXMuWD1jO2I6aWYoUGIodGhpcykpe3ZhciBkPU5iKHRoaXMuZyk7YT1cIlwiO3ZhciBlPWQubGVuZ3RoLGY9ND09UCh0aGlzLmcpO2lmKCF0aGlzLmguaSl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBUZXh0RGVjb2Rlcil7USh0aGlzKTtRYih0aGlzKTt2YXIgZz1cIlwiO2JyZWFrIGJ9dGhpcy5oLmk9bmV3IGsuVGV4dERlY29kZXJ9Zm9yKGI9MDtiPGU7YisrKXRoaXMuaC5oPSEwLGErPXRoaXMuaC5pLmRlY29kZShkW2JdLHtzdHJlYW06IShmJiZiPT1lLTEpfSk7ZC5sZW5ndGg9XG4wO3RoaXMuaC5nKz1hO3RoaXMuQz0wO2c9dGhpcy5oLmd9ZWxzZSBnPXRoaXMuZy5vYSgpO3RoaXMubz0yMDA9PWM7eGIodGhpcy5pLHRoaXMudSx0aGlzLkEsdGhpcy5sLHRoaXMuUix3LGMpO2lmKHRoaXMubyl7aWYodGhpcy5UJiYhdGhpcy5LKXtiOntpZih0aGlzLmcpe3ZhciBtLHE9dGhpcy5nO2lmKChtPXEuZz9xLmcuZ2V0UmVzcG9uc2VIZWFkZXIoXCJYLUhUVFAtSW5pdGlhbC1SZXNwb25zZVwiKTpudWxsKSYmIXQobSkpe3ZhciBsPW07YnJlYWsgYn19bD1udWxsfWlmKGM9bClMKHRoaXMuaSx0aGlzLmwsYyxcIkluaXRpYWwgaGFuZHNoYWtlIHJlc3BvbnNlIHZpYSBYLUhUVFAtSW5pdGlhbC1SZXNwb25zZVwiKSx0aGlzLks9ITAsUmIodGhpcyxjKTtlbHNle3RoaXMubz0hMTt0aGlzLnM9MztLKDEyKTtRKHRoaXMpO1FiKHRoaXMpO2JyZWFrIGF9fWlmKHRoaXMuUCl7Yz0hMDtsZXQgQjtmb3IoOyF0aGlzLkomJnRoaXMuQzxnLmxlbmd0aDspaWYoQj1TYih0aGlzLGcpLEI9PUdiKXs0PT1cbncmJih0aGlzLnM9NCxLKDE0KSxjPSExKTtMKHRoaXMuaSx0aGlzLmwsbnVsbCxcIltJbmNvbXBsZXRlIFJlc3BvbnNlXVwiKTticmVha31lbHNlIGlmKEI9PUZiKXt0aGlzLnM9NDtLKDE1KTtMKHRoaXMuaSx0aGlzLmwsZyxcIltJbnZhbGlkIENodW5rXVwiKTtjPSExO2JyZWFrfWVsc2UgTCh0aGlzLmksdGhpcy5sLEIsbnVsbCksUmIodGhpcyxCKTtQYih0aGlzKSYmMCE9dGhpcy5DJiYodGhpcy5oLmc9dGhpcy5oLmcuc2xpY2UodGhpcy5DKSx0aGlzLkM9MCk7NCE9d3x8MCE9Zy5sZW5ndGh8fHRoaXMuaC5ofHwodGhpcy5zPTEsSygxNiksYz0hMSk7dGhpcy5vPXRoaXMubyYmYztpZighYylMKHRoaXMuaSx0aGlzLmwsZyxcIltJbnZhbGlkIENodW5rZWQgUmVzcG9uc2VdXCIpLFEodGhpcyksUWIodGhpcyk7ZWxzZSBpZigwPGcubGVuZ3RoJiYhdGhpcy5XKXt0aGlzLlc9ITA7dmFyIHY9dGhpcy5qO3YuZz09dGhpcyYmdi5iYSYmIXYuTSYmKHYuai5pbmZvKFwiR3JlYXQsIG5vIGJ1ZmZlcmluZyBwcm94eSBkZXRlY3RlZC4gQnl0ZXMgcmVjZWl2ZWQ6IFwiK1xuZy5sZW5ndGgpLFRiKHYpLHYuTT0hMCxLKDExKSl9fWVsc2UgTCh0aGlzLmksdGhpcy5sLGcsbnVsbCksUmIodGhpcyxnKTs0PT13JiZRKHRoaXMpO3RoaXMubyYmIXRoaXMuSiYmKDQ9PXc/VWIodGhpcy5qLHRoaXMpOih0aGlzLm89ITEsS2IodGhpcykpKX1lbHNlIFZiKHRoaXMuZyksNDAwPT1jJiYwPGcuaW5kZXhPZihcIlVua25vd24gU0lEXCIpPyh0aGlzLnM9MyxLKDEyKSk6KHRoaXMucz0wLEsoMTMpKSxRKHRoaXMpLFFiKHRoaXMpfX19Y2F0Y2godyl7fWZpbmFsbHl7fX07ZnVuY3Rpb24gUGIoYSl7cmV0dXJuIGEuZz9cIkdFVFwiPT1hLnUmJjIhPWEuTCYmYS5qLkNhOiExfVxuZnVuY3Rpb24gU2IoYSxiKXt2YXIgYz1hLkMsZD1iLmluZGV4T2YoXCJcXG5cIixjKTtpZigtMT09ZClyZXR1cm4gR2I7Yz1OdW1iZXIoYi5zdWJzdHJpbmcoYyxkKSk7aWYoaXNOYU4oYykpcmV0dXJuIEZiO2QrPTE7aWYoZCtjPmIubGVuZ3RoKXJldHVybiBHYjtiPWIuc2xpY2UoZCxkK2MpO2EuQz1kK2M7cmV0dXJuIGJ9TS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5KPSEwO1EodGhpcyl9O2Z1bmN0aW9uIEtiKGEpe2EuUz1EYXRlLm5vdygpK2EuSTtXYihhLGEuSSl9ZnVuY3Rpb24gV2IoYSxiKXtpZihudWxsIT1hLkIpdGhyb3cgRXJyb3IoXCJXYXRjaERvZyB0aW1lciBub3QgbnVsbFwiKTthLkI9dWIocChhLmJhLGEpLGIpfWZ1bmN0aW9uIE9iKGEpe2EuQiYmKGsuY2xlYXJUaW1lb3V0KGEuQiksYS5CPW51bGwpfVxuTS5wcm90b3R5cGUuYmE9ZnVuY3Rpb24oKXt0aGlzLkI9bnVsbDtjb25zdCBhPURhdGUubm93KCk7MDw9YS10aGlzLlM/KHpiKHRoaXMuaSx0aGlzLkEpLDIhPXRoaXMuTCYmKEooMyksSygxNykpLFEodGhpcyksdGhpcy5zPTIsUWIodGhpcykpOldiKHRoaXMsdGhpcy5TLWEpfTtmdW5jdGlvbiBRYihhKXswPT1hLmouR3x8YS5KfHxVYihhLmosYSl9ZnVuY3Rpb24gUShhKXtPYihhKTt2YXIgYj1hLk07YiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYi5tYSYmYi5tYSgpO2EuTT1udWxsO2diKGEuVSk7YS5nJiYoYj1hLmcsYS5nPW51bGwsYi5hYm9ydCgpLGIubWEoKSl9XG5mdW5jdGlvbiBSYihhLGIpe3RyeXt2YXIgYz1hLmo7aWYoMCE9Yy5HJiYoYy5nPT1hfHxYYihjLmgsYSkpKWlmKCFhLksmJlhiKGMuaCxhKSYmMz09Yy5HKXt0cnl7dmFyIGQ9Yy5EYS5nLnBhcnNlKGIpfWNhdGNoKGwpe2Q9bnVsbH1pZihBcnJheS5pc0FycmF5KGQpJiYzPT1kLmxlbmd0aCl7dmFyIGU9ZDtpZigwPT1lWzBdKWE6e2lmKCFjLnUpe2lmKGMuZylpZihjLmcuRiszRTM8YS5GKVliKGMpLFpiKGMpO2Vsc2UgYnJlYWsgYTskYihjKTtLKDE4KX19ZWxzZSBjLnphPWVbMV0sMDxjLnphLWMuVCYmMzc1MDA+ZVsyXSYmYy5GJiYwPT1jLnYmJiFjLkMmJihjLkM9dWIocChjLlphLGMpLDZFMykpO2lmKDE+PWFjKGMuaCkmJmMuY2Epe3RyeXtjLmNhKCl9Y2F0Y2gobCl7fWMuY2E9dm9pZCAwfX1lbHNlIFIoYywxMSl9ZWxzZSBpZigoYS5LfHxjLmc9PWEpJiZZYihjKSwhdChiKSlmb3IoZT1jLkRhLmcucGFyc2UoYiksYj0wO2I8ZS5sZW5ndGg7YisrKXtsZXQgbD1lW2JdO2MuVD1cbmxbMF07bD1sWzFdO2lmKDI9PWMuRylpZihcImNcIj09bFswXSl7Yy5LPWxbMV07Yy5pYT1sWzJdO2NvbnN0IHY9bFszXTtudWxsIT12JiYoYy5sYT12LGMuai5pbmZvKFwiVkVSPVwiK2MubGEpKTtjb25zdCB3PWxbNF07bnVsbCE9dyYmKGMuQWE9dyxjLmouaW5mbyhcIlNWRVI9XCIrYy5BYSkpO2NvbnN0IE89bFs1XTtudWxsIT1PJiZcIm51bWJlclwiPT09dHlwZW9mIE8mJjA8TyYmKGQ9MS41Kk8sYy5MPWQsYy5qLmluZm8oXCJiYWNrQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXNfPVwiK2QpKTtkPWM7Y29uc3QgQj1hLmc7aWYoQil7Y29uc3QgeWE9Qi5nP0IuZy5nZXRSZXNwb25zZUhlYWRlcihcIlgtQ2xpZW50LVdpcmUtUHJvdG9jb2xcIik6bnVsbDtpZih5YSl7dmFyIGY9ZC5oO2YuZ3x8LTE9PXlhLmluZGV4T2YoXCJzcGR5XCIpJiYtMT09eWEuaW5kZXhPZihcInF1aWNcIikmJi0xPT15YS5pbmRleE9mKFwiaDJcIil8fChmLmo9Zi5sLGYuZz1uZXcgU2V0LGYuaCYmKGJjKGYsZi5oKSxmLmg9bnVsbCkpfWlmKGQuRCl7Y29uc3QgZGI9XG5CLmc/Qi5nLmdldFJlc3BvbnNlSGVhZGVyKFwiWC1IVFRQLVNlc3Npb24tSWRcIik6bnVsbDtkYiYmKGQueWE9ZGIsUyhkLkksZC5ELGRiKSl9fWMuRz0zO2MubCYmYy5sLnVhKCk7Yy5iYSYmKGMuUj1EYXRlLm5vdygpLWEuRixjLmouaW5mbyhcIkhhbmRzaGFrZSBSVFQ6IFwiK2MuUitcIm1zXCIpKTtkPWM7dmFyIGc9YTtkLnFhPWNjKGQsZC5KP2QuaWE6bnVsbCxkLlcpO2lmKGcuSyl7ZGMoZC5oLGcpO3ZhciBtPWcscT1kLkw7cSYmKG0uST1xKTttLkImJihPYihtKSxLYihtKSk7ZC5nPWd9ZWxzZSBlYyhkKTswPGMuaS5sZW5ndGgmJmZjKGMpfWVsc2VcInN0b3BcIiE9bFswXSYmXCJjbG9zZVwiIT1sWzBdfHxSKGMsNyk7ZWxzZSAzPT1jLkcmJihcInN0b3BcIj09bFswXXx8XCJjbG9zZVwiPT1sWzBdP1wic3RvcFwiPT1sWzBdP1IoYyw3KTpnYyhjKTpcIm5vb3BcIiE9bFswXSYmYy5sJiZjLmwudGEobCksYy52PTApfUooNCl9Y2F0Y2gobCl7fX07dmFyIGhjPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5nPWE7dGhpcy5tYXA9Yn19O2Z1bmN0aW9uIGljKGEpe3RoaXMubD1hfHwxMDtrLlBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZz8oYT1rLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpLGE9MDxhLmxlbmd0aCYmKFwiaHFcIj09YVswXS5uZXh0SG9wUHJvdG9jb2x8fFwiaDJcIj09YVswXS5uZXh0SG9wUHJvdG9jb2wpKTphPSEhKGsuY2hyb21lJiZrLmNocm9tZS5sb2FkVGltZXMmJmsuY2hyb21lLmxvYWRUaW1lcygpJiZrLmNocm9tZS5sb2FkVGltZXMoKS53YXNGZXRjaGVkVmlhU3BkeSk7dGhpcy5qPWE/dGhpcy5sOjE7dGhpcy5nPW51bGw7MTx0aGlzLmomJih0aGlzLmc9bmV3IFNldCk7dGhpcy5oPW51bGw7dGhpcy5pPVtdfWZ1bmN0aW9uIGpjKGEpe3JldHVybiBhLmg/ITA6YS5nP2EuZy5zaXplPj1hLmo6ITF9ZnVuY3Rpb24gYWMoYSl7cmV0dXJuIGEuaD8xOmEuZz9hLmcuc2l6ZTowfWZ1bmN0aW9uIFhiKGEsYil7cmV0dXJuIGEuaD9hLmg9PWI6YS5nP2EuZy5oYXMoYik6ITF9XG5mdW5jdGlvbiBiYyhhLGIpe2EuZz9hLmcuYWRkKGIpOmEuaD1ifWZ1bmN0aW9uIGRjKGEsYil7YS5oJiZhLmg9PWI/YS5oPW51bGw6YS5nJiZhLmcuaGFzKGIpJiZhLmcuZGVsZXRlKGIpfWljLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmk9a2ModGhpcyk7aWYodGhpcy5oKXRoaXMuaC5jYW5jZWwoKSx0aGlzLmg9bnVsbDtlbHNlIGlmKHRoaXMuZyYmMCE9PXRoaXMuZy5zaXplKXtmb3IoY29uc3QgYSBvZiB0aGlzLmcudmFsdWVzKCkpYS5jYW5jZWwoKTt0aGlzLmcuY2xlYXIoKX19O2Z1bmN0aW9uIGtjKGEpe2lmKG51bGwhPWEuaClyZXR1cm4gYS5pLmNvbmNhdChhLmguRCk7aWYobnVsbCE9YS5nJiYwIT09YS5nLnNpemUpe2xldCBiPWEuaTtmb3IoY29uc3QgYyBvZiBhLmcudmFsdWVzKCkpYj1iLmNvbmNhdChjLkQpO3JldHVybiBifXJldHVybiBsYShhLmkpfTtmdW5jdGlvbiBsYyhhKXtpZihhLlYmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVilyZXR1cm4gYS5WKCk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBNYXAmJmEgaW5zdGFuY2VvZiBNYXB8fFwidW5kZWZpbmVkXCIhPT10eXBlb2YgU2V0JiZhIGluc3RhbmNlb2YgU2V0KXJldHVybiBBcnJheS5mcm9tKGEudmFsdWVzKCkpO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlyZXR1cm4gYS5zcGxpdChcIlwiKTtpZihoYShhKSl7Zm9yKHZhciBiPVtdLGM9YS5sZW5ndGgsZD0wO2Q8YztkKyspYi5wdXNoKGFbZF0pO3JldHVybiBifWI9W107Yz0wO2ZvcihkIGluIGEpYltjKytdPWFbZF07cmV0dXJuIGJ9XG5mdW5jdGlvbiBtYyhhKXtpZihhLm5hJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm5hKXJldHVybiBhLm5hKCk7aWYoIWEuVnx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5WKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIE1hcCYmYSBpbnN0YW5jZW9mIE1hcClyZXR1cm4gQXJyYXkuZnJvbShhLmtleXMoKSk7aWYoIShcInVuZGVmaW5lZFwiIT09dHlwZW9mIFNldCYmYSBpbnN0YW5jZW9mIFNldCkpe2lmKGhhKGEpfHxcInN0cmluZ1wiPT09dHlwZW9mIGEpe3ZhciBiPVtdO2E9YS5sZW5ndGg7Zm9yKHZhciBjPTA7YzxhO2MrKyliLnB1c2goYyk7cmV0dXJuIGJ9Yj1bXTtjPTA7Zm9yKGNvbnN0IGQgaW4gYSliW2MrK109ZDtyZXR1cm4gYn19fVxuZnVuY3Rpb24gbmMoYSxiKXtpZihhLmZvckVhY2gmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZm9yRWFjaClhLmZvckVhY2goYix2b2lkIDApO2Vsc2UgaWYoaGEoYSl8fFwic3RyaW5nXCI9PT10eXBlb2YgYSlBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsYix2b2lkIDApO2Vsc2UgZm9yKHZhciBjPW1jKGEpLGQ9bGMoYSksZT1kLmxlbmd0aCxmPTA7ZjxlO2YrKyliLmNhbGwodm9pZCAwLGRbZl0sYyYmY1tmXSxhKX07dmFyIG9jPVJlZ0V4cChcIl4oPzooW146Lz8jLl0rKTopPyg/Oi8vKD86KFteXFxcXFxcXFwvPyNdKilAKT8oW15cXFxcXFxcXC8/I10qPykoPzo6KFswLTldKykpPyg/PVtcXFxcXFxcXC8/I118JCkpPyhbXj8jXSspPyg/OlxcXFw/KFteI10qKSk/KD86IyhbXFxcXHNcXFxcU10qKSk/JFwiKTtmdW5jdGlvbiBwYyhhLGIpe2lmKGEpe2E9YS5zcGxpdChcIiZcIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10uaW5kZXhPZihcIj1cIiksZT1udWxsO2lmKDA8PWQpe3ZhciBmPWFbY10uc3Vic3RyaW5nKDAsZCk7ZT1hW2NdLnN1YnN0cmluZyhkKzEpfWVsc2UgZj1hW2NdO2IoZixlP2RlY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSk6XCJcIil9fX07ZnVuY3Rpb24gVChhKXt0aGlzLmc9dGhpcy5vPXRoaXMuaj1cIlwiO3RoaXMucz1udWxsO3RoaXMubT10aGlzLmw9XCJcIjt0aGlzLmg9ITE7aWYoYSBpbnN0YW5jZW9mIFQpe3RoaXMuaD1hLmg7cWModGhpcyxhLmopO3RoaXMubz1hLm87dGhpcy5nPWEuZztyYyh0aGlzLGEucyk7dGhpcy5sPWEubDt2YXIgYj1hLmk7dmFyIGM9bmV3IHNjO2MuaT1iLmk7Yi5nJiYoYy5nPW5ldyBNYXAoYi5nKSxjLmg9Yi5oKTt0Yyh0aGlzLGMpO3RoaXMubT1hLm19ZWxzZSBhJiYoYj1TdHJpbmcoYSkubWF0Y2gob2MpKT8odGhpcy5oPSExLHFjKHRoaXMsYlsxXXx8XCJcIiwhMCksdGhpcy5vPXVjKGJbMl18fFwiXCIpLHRoaXMuZz11YyhiWzNdfHxcIlwiLCEwKSxyYyh0aGlzLGJbNF0pLHRoaXMubD11YyhiWzVdfHxcIlwiLCEwKSx0Yyh0aGlzLGJbNl18fFwiXCIsITApLHRoaXMubT11YyhiWzddfHxcIlwiKSk6KHRoaXMuaD0hMSx0aGlzLmk9bmV3IHNjKG51bGwsdGhpcy5oKSl9XG5ULnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy5qO2ImJmEucHVzaCh2YyhiLHdjLCEwKSxcIjpcIik7dmFyIGM9dGhpcy5nO2lmKGN8fFwiZmlsZVwiPT1iKWEucHVzaChcIi8vXCIpLChiPXRoaXMubykmJmEucHVzaCh2YyhiLHdjLCEwKSxcIkBcIiksYS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYykpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSksYz10aGlzLnMsbnVsbCE9YyYmYS5wdXNoKFwiOlwiLFN0cmluZyhjKSk7aWYoYz10aGlzLmwpdGhpcy5nJiZcIi9cIiE9Yy5jaGFyQXQoMCkmJmEucHVzaChcIi9cIiksYS5wdXNoKHZjKGMsXCIvXCI9PWMuY2hhckF0KDApP3hjOnljLCEwKSk7KGM9dGhpcy5pLnRvU3RyaW5nKCkpJiZhLnB1c2goXCI/XCIsYyk7KGM9dGhpcy5tKSYmYS5wdXNoKFwiI1wiLHZjKGMsemMpKTtyZXR1cm4gYS5qb2luKFwiXCIpfTtmdW5jdGlvbiBOKGEpe3JldHVybiBuZXcgVChhKX1cbmZ1bmN0aW9uIHFjKGEsYixjKXthLmo9Yz91YyhiLCEwKTpiO2EuaiYmKGEuaj1hLmoucmVwbGFjZSgvOiQvLFwiXCIpKX1mdW5jdGlvbiByYyhhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIrYik7YS5zPWJ9ZWxzZSBhLnM9bnVsbH1mdW5jdGlvbiB0YyhhLGIsYyl7YiBpbnN0YW5jZW9mIHNjPyhhLmk9YixBYyhhLmksYS5oKSk6KGN8fChiPXZjKGIsQmMpKSxhLmk9bmV3IHNjKGIsYS5oKSl9ZnVuY3Rpb24gUyhhLGIsYyl7YS5pLnNldChiLGMpfWZ1bmN0aW9uIEliKGEpe1MoYSxcInp4XCIsTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSleRGF0ZS5ub3coKSkudG9TdHJpbmcoMzYpKTtyZXR1cm4gYX1cbmZ1bmN0aW9uIHVjKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYS5yZXBsYWNlKC8lMjUvZyxcIiUyNTI1XCIpKTpkZWNvZGVVUklDb21wb25lbnQoYSk6XCJcIn1mdW5jdGlvbiB2YyhhLGIsYyl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsQ2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxhKTpudWxsfWZ1bmN0aW9uIENjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVyblwiJVwiKyhhPj40JjE1KS50b1N0cmluZygxNikrKGEmMTUpLnRvU3RyaW5nKDE2KX12YXIgd2M9L1sjXFwvXFw/QF0vZyx5Yz0vWyNcXD86XS9nLHhjPS9bI1xcP10vZyxCYz0vWyNcXD9AXS9nLHpjPS8jL2c7ZnVuY3Rpb24gc2MoYSxiKXt0aGlzLmg9dGhpcy5nPW51bGw7dGhpcy5pPWF8fG51bGw7dGhpcy5qPSEhYn1cbmZ1bmN0aW9uIFUoYSl7YS5nfHwoYS5nPW5ldyBNYXAsYS5oPTAsYS5pJiZwYyhhLmksZnVuY3Rpb24oYixjKXthLmFkZChkZWNvZGVVUklDb21wb25lbnQoYi5yZXBsYWNlKC9cXCsvZyxcIiBcIikpLGMpfSkpfWg9c2MucHJvdG90eXBlO2guYWRkPWZ1bmN0aW9uKGEsYil7VSh0aGlzKTt0aGlzLmk9bnVsbDthPVYodGhpcyxhKTt2YXIgYz10aGlzLmcuZ2V0KGEpO2N8fHRoaXMuZy5zZXQoYSxjPVtdKTtjLnB1c2goYik7dGhpcy5oKz0xO3JldHVybiB0aGlzfTtmdW5jdGlvbiBEYyhhLGIpe1UoYSk7Yj1WKGEsYik7YS5nLmhhcyhiKSYmKGEuaT1udWxsLGEuaC09YS5nLmdldChiKS5sZW5ndGgsYS5nLmRlbGV0ZShiKSl9ZnVuY3Rpb24gRWMoYSxiKXtVKGEpO2I9VihhLGIpO3JldHVybiBhLmcuaGFzKGIpfVxuaC5mb3JFYWNoPWZ1bmN0aW9uKGEsYil7VSh0aGlzKTt0aGlzLmcuZm9yRWFjaChmdW5jdGlvbihjLGQpe2MuZm9yRWFjaChmdW5jdGlvbihlKXthLmNhbGwoYixlLGQsdGhpcyl9LHRoaXMpfSx0aGlzKX07aC5uYT1mdW5jdGlvbigpe1UodGhpcyk7Y29uc3QgYT1BcnJheS5mcm9tKHRoaXMuZy52YWx1ZXMoKSksYj1BcnJheS5mcm9tKHRoaXMuZy5rZXlzKCkpLGM9W107Zm9yKGxldCBkPTA7ZDxiLmxlbmd0aDtkKyspe2NvbnN0IGU9YVtkXTtmb3IobGV0IGY9MDtmPGUubGVuZ3RoO2YrKyljLnB1c2goYltkXSl9cmV0dXJuIGN9O2guVj1mdW5jdGlvbihhKXtVKHRoaXMpO2xldCBiPVtdO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlFYyh0aGlzLGEpJiYoYj1iLmNvbmNhdCh0aGlzLmcuZ2V0KFYodGhpcyxhKSkpKTtlbHNle2E9QXJyYXkuZnJvbSh0aGlzLmcudmFsdWVzKCkpO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKWI9Yi5jb25jYXQoYVtjXSl9cmV0dXJuIGJ9O1xuaC5zZXQ9ZnVuY3Rpb24oYSxiKXtVKHRoaXMpO3RoaXMuaT1udWxsO2E9Vih0aGlzLGEpO0VjKHRoaXMsYSkmJih0aGlzLmgtPXRoaXMuZy5nZXQoYSkubGVuZ3RoKTt0aGlzLmcuc2V0KGEsW2JdKTt0aGlzLmgrPTE7cmV0dXJuIHRoaXN9O2guZ2V0PWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIGI7YT10aGlzLlYoYSk7cmV0dXJuIDA8YS5sZW5ndGg/U3RyaW5nKGFbMF0pOmJ9O2Z1bmN0aW9uIExiKGEsYixjKXtEYyhhLGIpOzA8Yy5sZW5ndGgmJihhLmk9bnVsbCxhLmcuc2V0KFYoYSxiKSxsYShjKSksYS5oKz1jLmxlbmd0aCl9XG5oLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5pKXJldHVybiB0aGlzLmk7aWYoIXRoaXMuZylyZXR1cm5cIlwiO2NvbnN0IGE9W10sYj1BcnJheS5mcm9tKHRoaXMuZy5rZXlzKCkpO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2NvbnN0IGY9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkKSksZz10aGlzLlYoZCk7Zm9yKGQ9MDtkPGcubGVuZ3RoO2QrKyl7dmFyIGU9ZjtcIlwiIT09Z1tkXSYmKGUrPVwiPVwiK2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZ1tkXSkpKTthLnB1c2goZSl9fXJldHVybiB0aGlzLmk9YS5qb2luKFwiJlwiKX07ZnVuY3Rpb24gVihhLGIpe2I9U3RyaW5nKGIpO2EuaiYmKGI9Yi50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIEFjKGEsYil7YiYmIWEuaiYmKFUoYSksYS5pPW51bGwsYS5nLmZvckVhY2goZnVuY3Rpb24oYyxkKXt2YXIgZT1kLnRvTG93ZXJDYXNlKCk7ZCE9ZSYmKERjKHRoaXMsZCksTGIodGhpcyxlLGMpKX0sYSkpO2Euaj1ifTtmdW5jdGlvbiBGYyhhLGIpe2NvbnN0IGM9bmV3IHZiO2lmKGsuSW1hZ2Upe2NvbnN0IGQ9bmV3IEltYWdlO2Qub25sb2FkPWthKFcsYyxcIlRlc3RMb2FkSW1hZ2U6IGxvYWRlZFwiLCEwLGIsZCk7ZC5vbmVycm9yPWthKFcsYyxcIlRlc3RMb2FkSW1hZ2U6IGVycm9yXCIsITEsYixkKTtkLm9uYWJvcnQ9a2EoVyxjLFwiVGVzdExvYWRJbWFnZTogYWJvcnRcIiwhMSxiLGQpO2Qub250aW1lb3V0PWthKFcsYyxcIlRlc3RMb2FkSW1hZ2U6IHRpbWVvdXRcIiwhMSxiLGQpO2suc2V0VGltZW91dChmdW5jdGlvbigpe2lmKGQub250aW1lb3V0KWQub250aW1lb3V0KCl9LDFFNCk7ZC5zcmM9YX1lbHNlIGIoITEpfVxuZnVuY3Rpb24gR2MoYSxiKXtjb25zdCBjPW5ldyB2YixkPW5ldyBBYm9ydENvbnRyb2xsZXIsZT1zZXRUaW1lb3V0KCgpPT57ZC5hYm9ydCgpO1coYyxcIlRlc3RQaW5nU2VydmVyOiB0aW1lb3V0XCIsITEsYil9LDFFNCk7ZmV0Y2goYSx7c2lnbmFsOmQuc2lnbmFsfSkudGhlbihmPT57Y2xlYXJUaW1lb3V0KGUpO2Yub2s/VyhjLFwiVGVzdFBpbmdTZXJ2ZXI6IG9rXCIsITAsYik6VyhjLFwiVGVzdFBpbmdTZXJ2ZXI6IHNlcnZlciBlcnJvclwiLCExLGIpfSkuY2F0Y2goKCk9PntjbGVhclRpbWVvdXQoZSk7VyhjLFwiVGVzdFBpbmdTZXJ2ZXI6IGVycm9yXCIsITEsYil9KX1mdW5jdGlvbiBXKGEsYixjLGQsZSl7dHJ5e2UmJihlLm9ubG9hZD1udWxsLGUub25lcnJvcj1udWxsLGUub25hYm9ydD1udWxsLGUub250aW1lb3V0PW51bGwpLGQoYyl9Y2F0Y2goZil7fX07ZnVuY3Rpb24gSGMoKXt0aGlzLmc9bmV3IGpifWZ1bmN0aW9uIEljKGEsYixjKXtjb25zdCBkPWN8fFwiXCI7dHJ5e25jKGEsZnVuY3Rpb24oZSxmKXtsZXQgZz1lO24oZSkmJihnPWhiKGUpKTtiLnB1c2goZCtmK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChnKSl9KX1jYXRjaChlKXt0aHJvdyBiLnB1c2goZCtcInR5cGU9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiX2JhZG1hcFwiKSksZTt9fTtmdW5jdGlvbiBKYyhhKXt0aGlzLmw9YS5VYnx8bnVsbDt0aGlzLmo9YS5lYnx8ITF9cihKYyxrYik7SmMucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEtjKHRoaXMubCx0aGlzLmopfTtKYy5wcm90b3R5cGUuaT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19KHt9KTtmdW5jdGlvbiBLYyhhLGIpe0UuY2FsbCh0aGlzKTt0aGlzLkQ9YTt0aGlzLm89Yjt0aGlzLm09dm9pZCAwO3RoaXMuc3RhdHVzPXRoaXMucmVhZHlTdGF0ZT0wO3RoaXMucmVzcG9uc2VUeXBlPXRoaXMucmVzcG9uc2VUZXh0PXRoaXMucmVzcG9uc2U9dGhpcy5zdGF0dXNUZXh0PVwiXCI7dGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDt0aGlzLnU9bmV3IEhlYWRlcnM7dGhpcy5oPW51bGw7dGhpcy5CPVwiR0VUXCI7dGhpcy5BPVwiXCI7dGhpcy5nPSExO3RoaXMudj10aGlzLmo9dGhpcy5sPW51bGx9cihLYyxFKTtoPUtjLnByb3RvdHlwZTtcbmgub3Blbj1mdW5jdGlvbihhLGIpe2lmKDAhPXRoaXMucmVhZHlTdGF0ZSl0aHJvdyB0aGlzLmFib3J0KCksRXJyb3IoXCJFcnJvciByZW9wZW5pbmcgYSBjb25uZWN0aW9uXCIpO3RoaXMuQj1hO3RoaXMuQT1iO3RoaXMucmVhZHlTdGF0ZT0xO0xjKHRoaXMpfTtoLnNlbmQ9ZnVuY3Rpb24oYSl7aWYoMSE9dGhpcy5yZWFkeVN0YXRlKXRocm93IHRoaXMuYWJvcnQoKSxFcnJvcihcIm5lZWQgdG8gY2FsbCBvcGVuKCkgZmlyc3QuIFwiKTt0aGlzLmc9ITA7Y29uc3QgYj17aGVhZGVyczp0aGlzLnUsbWV0aG9kOnRoaXMuQixjcmVkZW50aWFsczp0aGlzLm0sY2FjaGU6dm9pZCAwfTthJiYoYi5ib2R5PWEpOyh0aGlzLkR8fGspLmZldGNoKG5ldyBSZXF1ZXN0KHRoaXMuQSxiKSkudGhlbih0aGlzLlNhLmJpbmQodGhpcyksdGhpcy5nYS5iaW5kKHRoaXMpKX07XG5oLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5yZXNwb25zZT10aGlzLnJlc3BvbnNlVGV4dD1cIlwiO3RoaXMudT1uZXcgSGVhZGVyczt0aGlzLnN0YXR1cz0wO3RoaXMuaiYmdGhpcy5qLmNhbmNlbChcIlJlcXVlc3Qgd2FzIGFib3J0ZWQuXCIpLmNhdGNoKCgpPT57fSk7MTw9dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLmcmJjQhPXRoaXMucmVhZHlTdGF0ZSYmKHRoaXMuZz0hMSxNYyh0aGlzKSk7dGhpcy5yZWFkeVN0YXRlPTB9O1xuaC5TYT1mdW5jdGlvbihhKXtpZih0aGlzLmcmJih0aGlzLmw9YSx0aGlzLmh8fCh0aGlzLnN0YXR1cz10aGlzLmwuc3RhdHVzLHRoaXMuc3RhdHVzVGV4dD10aGlzLmwuc3RhdHVzVGV4dCx0aGlzLmg9YS5oZWFkZXJzLHRoaXMucmVhZHlTdGF0ZT0yLExjKHRoaXMpKSx0aGlzLmcmJih0aGlzLnJlYWR5U3RhdGU9MyxMYyh0aGlzKSx0aGlzLmcpKSlpZihcImFycmF5YnVmZmVyXCI9PT10aGlzLnJlc3BvbnNlVHlwZSlhLmFycmF5QnVmZmVyKCkudGhlbih0aGlzLlFhLmJpbmQodGhpcyksdGhpcy5nYS5iaW5kKHRoaXMpKTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygay5SZWFkYWJsZVN0cmVhbSYmXCJib2R5XCJpbiBhKXt0aGlzLmo9YS5ib2R5LmdldFJlYWRlcigpO2lmKHRoaXMubyl7aWYodGhpcy5yZXNwb25zZVR5cGUpdGhyb3cgRXJyb3IoJ3Jlc3BvbnNlVHlwZSBtdXN0IGJlIGVtcHR5IGZvciBcInN0cmVhbUJpbmFyeUNodW5rc1wiIG1vZGUgcmVzcG9uc2VzLicpO3RoaXMucmVzcG9uc2U9XG5bXX1lbHNlIHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9XCJcIix0aGlzLnY9bmV3IFRleHREZWNvZGVyO05jKHRoaXMpfWVsc2UgYS50ZXh0KCkudGhlbih0aGlzLlJhLmJpbmQodGhpcyksdGhpcy5nYS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gTmMoYSl7YS5qLnJlYWQoKS50aGVuKGEuUGEuYmluZChhKSkuY2F0Y2goYS5nYS5iaW5kKGEpKX1oLlBhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuZyl7aWYodGhpcy5vJiZhLnZhbHVlKXRoaXMucmVzcG9uc2UucHVzaChhLnZhbHVlKTtlbHNlIGlmKCF0aGlzLm8pe3ZhciBiPWEudmFsdWU/YS52YWx1ZTpuZXcgVWludDhBcnJheSgwKTtpZihiPXRoaXMudi5kZWNvZGUoYix7c3RyZWFtOiFhLmRvbmV9KSl0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0Kz1ifWEuZG9uZT9NYyh0aGlzKTpMYyh0aGlzKTszPT10aGlzLnJlYWR5U3RhdGUmJk5jKHRoaXMpfX07XG5oLlJhPWZ1bmN0aW9uKGEpe3RoaXMuZyYmKHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9YSxNYyh0aGlzKSl9O2guUWE9ZnVuY3Rpb24oYSl7dGhpcy5nJiYodGhpcy5yZXNwb25zZT1hLE1jKHRoaXMpKX07aC5nYT1mdW5jdGlvbigpe3RoaXMuZyYmTWModGhpcyl9O2Z1bmN0aW9uIE1jKGEpe2EucmVhZHlTdGF0ZT00O2EubD1udWxsO2Euaj1udWxsO2Eudj1udWxsO0xjKGEpfWguc2V0UmVxdWVzdEhlYWRlcj1mdW5jdGlvbihhLGIpe3RoaXMudS5hcHBlbmQoYSxiKX07aC5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oP3RoaXMuaC5nZXQoYS50b0xvd2VyQ2FzZSgpKXx8XCJcIjpcIlwifTtcbmguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaClyZXR1cm5cIlwiO2NvbnN0IGE9W10sYj10aGlzLmguZW50cmllcygpO2Zvcih2YXIgYz1iLm5leHQoKTshYy5kb25lOyljPWMudmFsdWUsYS5wdXNoKGNbMF0rXCI6IFwiK2NbMV0pLGM9Yi5uZXh0KCk7cmV0dXJuIGEuam9pbihcIlxcclxcblwiKX07ZnVuY3Rpb24gTGMoYSl7YS5vbnJlYWR5c3RhdGVjaGFuZ2UmJmEub25yZWFkeXN0YXRlY2hhbmdlLmNhbGwoYSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KEtjLnByb3RvdHlwZSxcIndpdGhDcmVkZW50aWFsc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImluY2x1ZGVcIj09PXRoaXMubX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMubT1hP1wiaW5jbHVkZVwiOlwic2FtZS1vcmlnaW5cIn19KTtmdW5jdGlvbiBPYyhhKXtsZXQgYj1cIlwiO3FhKGEsZnVuY3Rpb24oYyxkKXtiKz1kO2IrPVwiOlwiO2IrPWM7Yis9XCJcXHJcXG5cIn0pO3JldHVybiBifWZ1bmN0aW9uIFBjKGEsYixjKXthOntmb3IoZCBpbiBjKXt2YXIgZD0hMTticmVhayBhfWQ9ITB9ZHx8KGM9T2MoYyksXCJzdHJpbmdcIj09PXR5cGVvZiBhPyhlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGIpKSxudWxsIT1jJiZlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGMpKSk6UyhhLGIsYykpfTtmdW5jdGlvbiBYKGEpe0UuY2FsbCh0aGlzKTt0aGlzLmhlYWRlcnM9bmV3IE1hcDt0aGlzLm89YXx8bnVsbDt0aGlzLmg9ITE7dGhpcy52PXRoaXMuZz1udWxsO3RoaXMuRD1cIlwiO3RoaXMubT0wO3RoaXMubD1cIlwiO3RoaXMuaj10aGlzLkI9dGhpcy51PXRoaXMuQT0hMTt0aGlzLkk9bnVsbDt0aGlzLkg9XCJcIjt0aGlzLko9ITF9cihYLEUpO3ZhciBRYz0vXmh0dHBzPyQvaSxSYz1bXCJQT1NUXCIsXCJQVVRcIl07aD1YLnByb3RvdHlwZTtoLkhhPWZ1bmN0aW9uKGEpe3RoaXMuSj1hfTtcbmguZWE9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5nKXRocm93IEVycm9yKFwiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PVwiK3RoaXMuRCtcIjsgbmV3VXJpPVwiK2EpO2I9Yj9iLnRvVXBwZXJDYXNlKCk6XCJHRVRcIjt0aGlzLkQ9YTt0aGlzLmw9XCJcIjt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5oPSEwO3RoaXMuZz10aGlzLm8/dGhpcy5vLmcoKTpDYi5nKCk7dGhpcy52PXRoaXMubz9sYih0aGlzLm8pOmxiKENiKTt0aGlzLmcub25yZWFkeXN0YXRlY2hhbmdlPXAodGhpcy5FYSx0aGlzKTt0cnl7dGhpcy5CPSEwLHRoaXMuZy5vcGVuKGIsU3RyaW5nKGEpLCEwKSx0aGlzLkI9ITF9Y2F0Y2goZil7U2ModGhpcyxmKTtyZXR1cm59YT1jfHxcIlwiO2M9bmV3IE1hcCh0aGlzLmhlYWRlcnMpO2lmKGQpaWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKGQpPT09T2JqZWN0LnByb3RvdHlwZSlmb3IodmFyIGUgaW4gZCljLnNldChlLGRbZV0pO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09XG50eXBlb2YgZC5rZXlzJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5nZXQpZm9yKGNvbnN0IGYgb2YgZC5rZXlzKCkpYy5zZXQoZixkLmdldChmKSk7ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gaW5wdXQgdHlwZSBmb3Igb3B0X2hlYWRlcnM6IFwiK1N0cmluZyhkKSk7ZD1BcnJheS5mcm9tKGMua2V5cygpKS5maW5kKGY9PlwiY29udGVudC10eXBlXCI9PWYudG9Mb3dlckNhc2UoKSk7ZT1rLkZvcm1EYXRhJiZhIGluc3RhbmNlb2Ygay5Gb3JtRGF0YTshKDA8PUFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoUmMsYix2b2lkIDApKXx8ZHx8ZXx8Yy5zZXQoXCJDb250ZW50LVR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIpO2Zvcihjb25zdCBbZixnXW9mIGMpdGhpcy5nLnNldFJlcXVlc3RIZWFkZXIoZixnKTt0aGlzLkgmJih0aGlzLmcucmVzcG9uc2VUeXBlPXRoaXMuSCk7XCJ3aXRoQ3JlZGVudGlhbHNcImluIHRoaXMuZyYmdGhpcy5nLndpdGhDcmVkZW50aWFscyE9PVxudGhpcy5KJiYodGhpcy5nLndpdGhDcmVkZW50aWFscz10aGlzLkopO3RyeXtUYyh0aGlzKSx0aGlzLnU9ITAsdGhpcy5nLnNlbmQoYSksdGhpcy51PSExfWNhdGNoKGYpe1NjKHRoaXMsZil9fTtmdW5jdGlvbiBTYyhhLGIpe2EuaD0hMTthLmcmJihhLmo9ITAsYS5nLmFib3J0KCksYS5qPSExKTthLmw9YjthLm09NTtVYyhhKTtWYyhhKX1mdW5jdGlvbiBVYyhhKXthLkF8fChhLkE9ITAsRihhLFwiY29tcGxldGVcIiksRihhLFwiZXJyb3JcIikpfWguYWJvcnQ9ZnVuY3Rpb24oYSl7dGhpcy5nJiZ0aGlzLmgmJih0aGlzLmg9ITEsdGhpcy5qPSEwLHRoaXMuZy5hYm9ydCgpLHRoaXMuaj0hMSx0aGlzLm09YXx8NyxGKHRoaXMsXCJjb21wbGV0ZVwiKSxGKHRoaXMsXCJhYm9ydFwiKSxWYyh0aGlzKSl9O2guTj1mdW5jdGlvbigpe3RoaXMuZyYmKHRoaXMuaCYmKHRoaXMuaD0hMSx0aGlzLmo9ITAsdGhpcy5nLmFib3J0KCksdGhpcy5qPSExKSxWYyh0aGlzLCEwKSk7WC5hYS5OLmNhbGwodGhpcyl9O1xuaC5FYT1mdW5jdGlvbigpe3RoaXMuc3x8KHRoaXMuQnx8dGhpcy51fHx0aGlzLmo/V2ModGhpcyk6dGhpcy5iYigpKX07aC5iYj1mdW5jdGlvbigpe1djKHRoaXMpfTtcbmZ1bmN0aW9uIFdjKGEpe2lmKGEuaCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZhJiYoIWEudlsxXXx8NCE9UChhKXx8MiE9YS5aKCkpKWlmKGEudSYmND09UChhKSliYihhLkVhLDAsYSk7ZWxzZSBpZihGKGEsXCJyZWFkeXN0YXRlY2hhbmdlXCIpLDQ9PVAoYSkpe2EuaD0hMTt0cnl7Y29uc3QgZz1hLlooKTthOnN3aXRjaChnKXtjYXNlIDIwMDpjYXNlIDIwMTpjYXNlIDIwMjpjYXNlIDIwNDpjYXNlIDIwNjpjYXNlIDMwNDpjYXNlIDEyMjM6dmFyIGI9ITA7YnJlYWsgYTtkZWZhdWx0OmI9ITF9dmFyIGM7aWYoIShjPWIpKXt2YXIgZDtpZihkPTA9PT1nKXt2YXIgZT1TdHJpbmcoYS5EKS5tYXRjaChvYylbMV18fG51bGw7IWUmJmsuc2VsZiYmay5zZWxmLmxvY2F0aW9uJiYoZT1rLnNlbGYubG9jYXRpb24ucHJvdG9jb2wuc2xpY2UoMCwtMSkpO2Q9IVFjLnRlc3QoZT9lLnRvTG93ZXJDYXNlKCk6XCJcIil9Yz1kfWlmKGMpRihhLFwiY29tcGxldGVcIiksRihhLFwic3VjY2Vzc1wiKTtlbHNle2EubT1cbjY7dHJ5e3ZhciBmPTI8UChhKT9hLmcuc3RhdHVzVGV4dDpcIlwifWNhdGNoKG0pe2Y9XCJcIn1hLmw9ZitcIiBbXCIrYS5aKCkrXCJdXCI7VWMoYSl9fWZpbmFsbHl7VmMoYSl9fX1mdW5jdGlvbiBWYyhhLGIpe2lmKGEuZyl7VGMoYSk7Y29uc3QgYz1hLmcsZD1hLnZbMF0/KCk9Pnt9Om51bGw7YS5nPW51bGw7YS52PW51bGw7Ynx8RihhLFwicmVhZHlcIik7dHJ5e2Mub25yZWFkeXN0YXRlY2hhbmdlPWR9Y2F0Y2goZSl7fX19ZnVuY3Rpb24gVGMoYSl7YS5JJiYoay5jbGVhclRpbWVvdXQoYS5JKSxhLkk9bnVsbCl9aC5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nfTtmdW5jdGlvbiBQKGEpe3JldHVybiBhLmc/YS5nLnJlYWR5U3RhdGU6MH1oLlo9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIDI8UCh0aGlzKT90aGlzLmcuc3RhdHVzOi0xfWNhdGNoKGEpe3JldHVybi0xfX07aC5vYT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5nP3RoaXMuZy5yZXNwb25zZVRleHQ6XCJcIn1jYXRjaChhKXtyZXR1cm5cIlwifX07XG5oLk9hPWZ1bmN0aW9uKGEpe2lmKHRoaXMuZyl7dmFyIGI9dGhpcy5nLnJlc3BvbnNlVGV4dDthJiYwPT1iLmluZGV4T2YoYSkmJihiPWIuc3Vic3RyaW5nKGEubGVuZ3RoKSk7cmV0dXJuIGliKGIpfX07ZnVuY3Rpb24gTmIoYSl7dHJ5e2lmKCFhLmcpcmV0dXJuIG51bGw7aWYoXCJyZXNwb25zZVwiaW4gYS5nKXJldHVybiBhLmcucmVzcG9uc2U7c3dpdGNoKGEuSCl7Y2FzZSBcIlwiOmNhc2UgXCJ0ZXh0XCI6cmV0dXJuIGEuZy5yZXNwb25zZVRleHQ7Y2FzZSBcImFycmF5YnVmZmVyXCI6aWYoXCJtb3pSZXNwb25zZUFycmF5QnVmZmVyXCJpbiBhLmcpcmV0dXJuIGEuZy5tb3pSZXNwb25zZUFycmF5QnVmZmVyfXJldHVybiBudWxsfWNhdGNoKGIpe3JldHVybiBudWxsfX1cbmZ1bmN0aW9uIFZiKGEpe2NvbnN0IGI9e307YT0oYS5nJiYyPD1QKGEpP2EuZy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKXx8XCJcIjpcIlwiKS5zcGxpdChcIlxcclxcblwiKTtmb3IobGV0IGQ9MDtkPGEubGVuZ3RoO2QrKyl7aWYodChhW2RdKSljb250aW51ZTt2YXIgYz12YShhW2RdKTtjb25zdCBlPWNbMF07Yz1jWzFdO2lmKFwic3RyaW5nXCIhPT10eXBlb2YgYyljb250aW51ZTtjPWMudHJpbSgpO2NvbnN0IGY9YltlXXx8W107YltlXT1mO2YucHVzaChjKX1yYShiLGZ1bmN0aW9uKGQpe3JldHVybiBkLmpvaW4oXCIsIFwiKX0pfWguQmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtoLkthPWZ1bmN0aW9uKCl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiB0aGlzLmw/dGhpcy5sOlN0cmluZyh0aGlzLmwpfTtmdW5jdGlvbiBYYyhhLGIsYyl7cmV0dXJuIGMmJmMuaW50ZXJuYWxDaGFubmVsUGFyYW1zP2MuaW50ZXJuYWxDaGFubmVsUGFyYW1zW2FdfHxiOmJ9XG5mdW5jdGlvbiBZYyhhKXt0aGlzLkFhPTA7dGhpcy5pPVtdO3RoaXMuaj1uZXcgdmI7dGhpcy5pYT10aGlzLnFhPXRoaXMuST10aGlzLlc9dGhpcy5nPXRoaXMueWE9dGhpcy5EPXRoaXMuSD10aGlzLm09dGhpcy5TPXRoaXMubz1udWxsO3RoaXMuWWE9dGhpcy5VPTA7dGhpcy5WYT1YYyhcImZhaWxGYXN0XCIsITEsYSk7dGhpcy5GPXRoaXMuQz10aGlzLnU9dGhpcy5zPXRoaXMubD1udWxsO3RoaXMuWD0hMDt0aGlzLnphPXRoaXMuVD0tMTt0aGlzLlk9dGhpcy52PXRoaXMuQj0wO3RoaXMuVGE9WGMoXCJiYXNlUmV0cnlEZWxheU1zXCIsNUUzLGEpO3RoaXMuY2I9WGMoXCJyZXRyeURlbGF5U2VlZE1zXCIsMUU0LGEpO3RoaXMuV2E9WGMoXCJmb3J3YXJkQ2hhbm5lbE1heFJldHJpZXNcIiwyLGEpO3RoaXMud2E9WGMoXCJmb3J3YXJkQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXNcIiwyRTQsYSk7dGhpcy5wYT1hJiZhLnhtbEh0dHBGYWN0b3J5fHx2b2lkIDA7dGhpcy5YYT1hJiZhLlRifHx2b2lkIDA7dGhpcy5DYT1cbmEmJmEudXNlRmV0Y2hTdHJlYW1zfHwhMTt0aGlzLkw9dm9pZCAwO3RoaXMuSj1hJiZhLnN1cHBvcnRzQ3Jvc3NEb21haW5YaHJ8fCExO3RoaXMuSz1cIlwiO3RoaXMuaD1uZXcgaWMoYSYmYS5jb25jdXJyZW50UmVxdWVzdExpbWl0KTt0aGlzLkRhPW5ldyBIYzt0aGlzLlA9YSYmYS5mYXN0SGFuZHNoYWtlfHwhMTt0aGlzLk89YSYmYS5lbmNvZGVJbml0TWVzc2FnZUhlYWRlcnN8fCExO3RoaXMuUCYmdGhpcy5PJiYodGhpcy5PPSExKTt0aGlzLlVhPWEmJmEuUmJ8fCExO2EmJmEueGEmJnRoaXMuai54YSgpO2EmJmEuZm9yY2VMb25nUG9sbGluZyYmKHRoaXMuWD0hMSk7dGhpcy5iYT0hdGhpcy5QJiZ0aGlzLlgmJmEmJmEuZGV0ZWN0QnVmZmVyaW5nUHJveHl8fCExO3RoaXMuamE9dm9pZCAwO2EmJmEubG9uZ1BvbGxpbmdUaW1lb3V0JiYwPGEubG9uZ1BvbGxpbmdUaW1lb3V0JiYodGhpcy5qYT1hLmxvbmdQb2xsaW5nVGltZW91dCk7dGhpcy5jYT12b2lkIDA7dGhpcy5SPTA7dGhpcy5NPVxuITE7dGhpcy5rYT10aGlzLkE9bnVsbH1oPVljLnByb3RvdHlwZTtoLmxhPTg7aC5HPTE7aC5jb25uZWN0PWZ1bmN0aW9uKGEsYixjLGQpe0soMCk7dGhpcy5XPWE7dGhpcy5IPWJ8fHt9O2MmJnZvaWQgMCE9PWQmJih0aGlzLkguT1NJRD1jLHRoaXMuSC5PQUlEPWQpO3RoaXMuRj10aGlzLlg7dGhpcy5JPWNjKHRoaXMsbnVsbCx0aGlzLlcpO2ZjKHRoaXMpfTtcbmZ1bmN0aW9uIGdjKGEpe1pjKGEpO2lmKDM9PWEuRyl7dmFyIGI9YS5VKyssYz1OKGEuSSk7UyhjLFwiU0lEXCIsYS5LKTtTKGMsXCJSSURcIixiKTtTKGMsXCJUWVBFXCIsXCJ0ZXJtaW5hdGVcIik7JGMoYSxjKTtiPW5ldyBNKGEsYS5qLGIpO2IuTD0yO2Iudj1JYihOKGMpKTtjPSExO2lmKGsubmF2aWdhdG9yJiZrLm5hdmlnYXRvci5zZW5kQmVhY29uKXRyeXtjPWsubmF2aWdhdG9yLnNlbmRCZWFjb24oYi52LnRvU3RyaW5nKCksXCJcIil9Y2F0Y2goZCl7fSFjJiZrLkltYWdlJiYoKG5ldyBJbWFnZSkuc3JjPWIudixjPSEwKTtjfHwoYi5nPU1iKGIuaixudWxsKSxiLmcuZWEoYi52KSk7Yi5GPURhdGUubm93KCk7S2IoYil9YWQoYSl9ZnVuY3Rpb24gWmIoYSl7YS5nJiYoVGIoYSksYS5nLmNhbmNlbCgpLGEuZz1udWxsKX1cbmZ1bmN0aW9uIFpjKGEpe1piKGEpO2EudSYmKGsuY2xlYXJUaW1lb3V0KGEudSksYS51PW51bGwpO1liKGEpO2EuaC5jYW5jZWwoKTthLnMmJihcIm51bWJlclwiPT09dHlwZW9mIGEucyYmay5jbGVhclRpbWVvdXQoYS5zKSxhLnM9bnVsbCl9ZnVuY3Rpb24gZmMoYSl7aWYoIWpjKGEuaCkmJiFhLnMpe2Eucz0hMDt2YXIgYj1hLkdhO3h8fEVhKCk7eXx8KHgoKSx5PSEwKTt6YS5hZGQoYixhKTthLkI9MH19ZnVuY3Rpb24gYmQoYSxiKXtpZihhYyhhLmgpPj1hLmguai0oYS5zPzE6MCkpcmV0dXJuITE7aWYoYS5zKXJldHVybiBhLmk9Yi5ELmNvbmNhdChhLmkpLCEwO2lmKDE9PWEuR3x8Mj09YS5HfHxhLkI+PShhLlZhPzA6YS5XYSkpcmV0dXJuITE7YS5zPXViKHAoYS5HYSxhLGIpLGNkKGEsYS5CKSk7YS5CKys7cmV0dXJuITB9XG5oLkdhPWZ1bmN0aW9uKGEpe2lmKHRoaXMucylpZih0aGlzLnM9bnVsbCwxPT10aGlzLkcpe2lmKCFhKXt0aGlzLlU9TWF0aC5mbG9vcigxRTUqTWF0aC5yYW5kb20oKSk7YT10aGlzLlUrKztjb25zdCBlPW5ldyBNKHRoaXMsdGhpcy5qLGEpO2xldCBmPXRoaXMubzt0aGlzLlMmJihmPyhmPXNhKGYpLHVhKGYsdGhpcy5TKSk6Zj10aGlzLlMpO251bGwhPT10aGlzLm18fHRoaXMuT3x8KGUuSD1mLGY9bnVsbCk7aWYodGhpcy5QKWE6e3ZhciBiPTA7Zm9yKHZhciBjPTA7Yzx0aGlzLmkubGVuZ3RoO2MrKyl7Yjp7dmFyIGQ9dGhpcy5pW2NdO2lmKFwiX19kYXRhX19cImluIGQubWFwJiYoZD1kLm1hcC5fX2RhdGFfXyxcInN0cmluZ1wiPT09dHlwZW9mIGQpKXtkPWQubGVuZ3RoO2JyZWFrIGJ9ZD12b2lkIDB9aWYodm9pZCAwPT09ZClicmVhaztiKz1kO2lmKDQwOTY8Yil7Yj1jO2JyZWFrIGF9aWYoNDA5Nj09PWJ8fGM9PT10aGlzLmkubGVuZ3RoLTEpe2I9YysxO2JyZWFrIGF9fWI9MUUzfWVsc2UgYj1cbjFFMztiPWRkKHRoaXMsZSxiKTtjPU4odGhpcy5JKTtTKGMsXCJSSURcIixhKTtTKGMsXCJDVkVSXCIsMjIpO3RoaXMuRCYmUyhjLFwiWC1IVFRQLVNlc3Npb24tSWRcIix0aGlzLkQpOyRjKHRoaXMsYyk7ZiYmKHRoaXMuTz9iPVwiaGVhZGVycz1cIitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKE9jKGYpKSkrXCImXCIrYjp0aGlzLm0mJlBjKGMsdGhpcy5tLGYpKTtiYyh0aGlzLmgsZSk7dGhpcy5VYSYmUyhjLFwiVFlQRVwiLFwiaW5pdFwiKTt0aGlzLlA/KFMoYyxcIiRyZXFcIixiKSxTKGMsXCJTSURcIixcIm51bGxcIiksZS5UPSEwLEhiKGUsYyxudWxsKSk6SGIoZSxjLGIpO3RoaXMuRz0yfX1lbHNlIDM9PXRoaXMuRyYmKGE/ZWQodGhpcyxhKTowPT10aGlzLmkubGVuZ3RofHxqYyh0aGlzLmgpfHxlZCh0aGlzKSl9O1xuZnVuY3Rpb24gZWQoYSxiKXt2YXIgYztiP2M9Yi5sOmM9YS5VKys7Y29uc3QgZD1OKGEuSSk7UyhkLFwiU0lEXCIsYS5LKTtTKGQsXCJSSURcIixjKTtTKGQsXCJBSURcIixhLlQpOyRjKGEsZCk7YS5tJiZhLm8mJlBjKGQsYS5tLGEubyk7Yz1uZXcgTShhLGEuaixjLGEuQisxKTtudWxsPT09YS5tJiYoYy5IPWEubyk7YiYmKGEuaT1iLkQuY29uY2F0KGEuaSkpO2I9ZGQoYSxjLDFFMyk7Yy5JPU1hdGgucm91bmQoLjUqYS53YSkrTWF0aC5yb3VuZCguNSphLndhKk1hdGgucmFuZG9tKCkpO2JjKGEuaCxjKTtIYihjLGQsYil9ZnVuY3Rpb24gJGMoYSxiKXthLkgmJnFhKGEuSCxmdW5jdGlvbihjLGQpe1MoYixkLGMpfSk7YS5sJiZuYyh7fSxmdW5jdGlvbihjLGQpe1MoYixkLGMpfSl9XG5mdW5jdGlvbiBkZChhLGIsYyl7Yz1NYXRoLm1pbihhLmkubGVuZ3RoLGMpO3ZhciBkPWEubD9wKGEubC5OYSxhLmwsYSk6bnVsbDthOnt2YXIgZT1hLmk7bGV0IGY9LTE7Zm9yKDs7KXtjb25zdCBnPVtcImNvdW50PVwiK2NdOy0xPT1mPzA8Yz8oZj1lWzBdLmcsZy5wdXNoKFwib2ZzPVwiK2YpKTpmPTA6Zy5wdXNoKFwib2ZzPVwiK2YpO2xldCBtPSEwO2ZvcihsZXQgcT0wO3E8YztxKyspe2xldCBsPWVbcV0uZztjb25zdCB2PWVbcV0ubWFwO2wtPWY7aWYoMD5sKWY9TWF0aC5tYXgoMCxlW3FdLmctMTAwKSxtPSExO2Vsc2UgdHJ5e0ljKHYsZyxcInJlcVwiK2wrXCJfXCIpfWNhdGNoKHcpe2QmJmQodil9fWlmKG0pe2Q9Zy5qb2luKFwiJlwiKTticmVhayBhfX19YT1hLmkuc3BsaWNlKDAsYyk7Yi5EPWE7cmV0dXJuIGR9ZnVuY3Rpb24gZWMoYSl7aWYoIWEuZyYmIWEudSl7YS5ZPTE7dmFyIGI9YS5GYTt4fHxFYSgpO3l8fCh4KCkseT0hMCk7emEuYWRkKGIsYSk7YS52PTB9fVxuZnVuY3Rpb24gJGIoYSl7aWYoYS5nfHxhLnV8fDM8PWEudilyZXR1cm4hMTthLlkrKzthLnU9dWIocChhLkZhLGEpLGNkKGEsYS52KSk7YS52Kys7cmV0dXJuITB9aC5GYT1mdW5jdGlvbigpe3RoaXMudT1udWxsO2ZkKHRoaXMpO2lmKHRoaXMuYmEmJiEodGhpcy5NfHxudWxsPT10aGlzLmd8fDA+PXRoaXMuUikpe3ZhciBhPTIqdGhpcy5SO3RoaXMuai5pbmZvKFwiQlAgZGV0ZWN0aW9uIHRpbWVyIGVuYWJsZWQ6IFwiK2EpO3RoaXMuQT11YihwKHRoaXMuYWIsdGhpcyksYSl9fTtoLmFiPWZ1bmN0aW9uKCl7dGhpcy5BJiYodGhpcy5BPW51bGwsdGhpcy5qLmluZm8oXCJCUCBkZXRlY3Rpb24gdGltZW91dCByZWFjaGVkLlwiKSx0aGlzLmouaW5mbyhcIkJ1ZmZlcmluZyBwcm94eSBkZXRlY3RlZCBhbmQgc3dpdGNoIHRvIGxvbmctcG9sbGluZyFcIiksdGhpcy5GPSExLHRoaXMuTT0hMCxLKDEwKSxaYih0aGlzKSxmZCh0aGlzKSl9O1xuZnVuY3Rpb24gVGIoYSl7bnVsbCE9YS5BJiYoay5jbGVhclRpbWVvdXQoYS5BKSxhLkE9bnVsbCl9ZnVuY3Rpb24gZmQoYSl7YS5nPW5ldyBNKGEsYS5qLFwicnBjXCIsYS5ZKTtudWxsPT09YS5tJiYoYS5nLkg9YS5vKTthLmcuTz0wO3ZhciBiPU4oYS5xYSk7UyhiLFwiUklEXCIsXCJycGNcIik7UyhiLFwiU0lEXCIsYS5LKTtTKGIsXCJBSURcIixhLlQpO1MoYixcIkNJXCIsYS5GP1wiMFwiOlwiMVwiKTshYS5GJiZhLmphJiZTKGIsXCJUT1wiLGEuamEpO1MoYixcIlRZUEVcIixcInhtbGh0dHBcIik7JGMoYSxiKTthLm0mJmEubyYmUGMoYixhLm0sYS5vKTthLkwmJihhLmcuST1hLkwpO3ZhciBjPWEuZzthPWEuaWE7Yy5MPTE7Yy52PUliKE4oYikpO2MubT1udWxsO2MuUD0hMDtKYihjLGEpfWguWmE9ZnVuY3Rpb24oKXtudWxsIT10aGlzLkMmJih0aGlzLkM9bnVsbCxaYih0aGlzKSwkYih0aGlzKSxLKDE5KSl9O2Z1bmN0aW9uIFliKGEpe251bGwhPWEuQyYmKGsuY2xlYXJUaW1lb3V0KGEuQyksYS5DPW51bGwpfVxuZnVuY3Rpb24gVWIoYSxiKXt2YXIgYz1udWxsO2lmKGEuZz09Yil7WWIoYSk7VGIoYSk7YS5nPW51bGw7dmFyIGQ9Mn1lbHNlIGlmKFhiKGEuaCxiKSljPWIuRCxkYyhhLmgsYiksZD0xO2Vsc2UgcmV0dXJuO2lmKDAhPWEuRylpZihiLm8paWYoMT09ZCl7Yz1iLm0/Yi5tLmxlbmd0aDowO2I9RGF0ZS5ub3coKS1iLkY7dmFyIGU9YS5CO2Q9cWIoKTtGKGQsbmV3IHRiKGQsYyxiLGUpKTtmYyhhKX1lbHNlIGVjKGEpO2Vsc2UgaWYoZT1iLnMsMz09ZXx8MD09ZSYmMDxiLlh8fCEoMT09ZCYmYmQoYSxiKXx8Mj09ZCYmJGIoYSkpKXN3aXRjaChjJiYwPGMubGVuZ3RoJiYoYj1hLmgsYi5pPWIuaS5jb25jYXQoYykpLGUpe2Nhc2UgMTpSKGEsNSk7YnJlYWs7Y2FzZSA0OlIoYSwxMCk7YnJlYWs7Y2FzZSAzOlIoYSw2KTticmVhaztkZWZhdWx0OlIoYSwyKX19XG5mdW5jdGlvbiBjZChhLGIpe2xldCBjPWEuVGErTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmEuY2IpO2EuaXNBY3RpdmUoKXx8KGMqPTIpO3JldHVybiBjKmJ9ZnVuY3Rpb24gUihhLGIpe2Euai5pbmZvKFwiRXJyb3IgY29kZSBcIitiKTtpZigyPT1iKXt2YXIgYz1wKGEuZmIsYSksZD1hLlhhO2NvbnN0IGU9IWQ7ZD1uZXcgVChkfHxcIi8vd3d3Lmdvb2dsZS5jb20vaW1hZ2VzL2NsZWFyZG90LmdpZlwiKTtrLmxvY2F0aW9uJiZcImh0dHBcIj09ay5sb2NhdGlvbi5wcm90b2NvbHx8cWMoZCxcImh0dHBzXCIpO0liKGQpO2U/RmMoZC50b1N0cmluZygpLGMpOkdjKGQudG9TdHJpbmcoKSxjKX1lbHNlIEsoMik7YS5HPTA7YS5sJiZhLmwuc2EoYik7YWQoYSk7WmMoYSl9aC5mYj1mdW5jdGlvbihhKXthPyh0aGlzLmouaW5mbyhcIlN1Y2Nlc3NmdWxseSBwaW5nZWQgZ29vZ2xlLmNvbVwiKSxLKDIpKToodGhpcy5qLmluZm8oXCJGYWlsZWQgdG8gcGluZyBnb29nbGUuY29tXCIpLEsoMSkpfTtcbmZ1bmN0aW9uIGFkKGEpe2EuRz0wO2Eua2E9W107aWYoYS5sKXtjb25zdCBiPWtjKGEuaCk7aWYoMCE9Yi5sZW5ndGh8fDAhPWEuaS5sZW5ndGgpbWEoYS5rYSxiKSxtYShhLmthLGEuaSksYS5oLmkubGVuZ3RoPTAsbGEoYS5pKSxhLmkubGVuZ3RoPTA7YS5sLnJhKCl9fWZ1bmN0aW9uIGNjKGEsYixjKXt2YXIgZD1jIGluc3RhbmNlb2YgVD9OKGMpOm5ldyBUKGMpO2lmKFwiXCIhPWQuZyliJiYoZC5nPWIrXCIuXCIrZC5nKSxyYyhkLGQucyk7ZWxzZXt2YXIgZT1rLmxvY2F0aW9uO2Q9ZS5wcm90b2NvbDtiPWI/YitcIi5cIitlLmhvc3RuYW1lOmUuaG9zdG5hbWU7ZT0rZS5wb3J0O3ZhciBmPW5ldyBUKG51bGwpO2QmJnFjKGYsZCk7YiYmKGYuZz1iKTtlJiZyYyhmLGUpO2MmJihmLmw9Yyk7ZD1mfWM9YS5EO2I9YS55YTtjJiZiJiZTKGQsYyxiKTtTKGQsXCJWRVJcIixhLmxhKTskYyhhLGQpO3JldHVybiBkfVxuZnVuY3Rpb24gTWIoYSxiLGMpe2lmKGImJiFhLkopdGhyb3cgRXJyb3IoXCJDYW4ndCBjcmVhdGUgc2Vjb25kYXJ5IGRvbWFpbiBjYXBhYmxlIFhocklvIG9iamVjdC5cIik7Yj1hLkNhJiYhYS5wYT9uZXcgWChuZXcgSmMoe2ViOmN9KSk6bmV3IFgoYS5wYSk7Yi5IYShhLkopO3JldHVybiBifWguaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubCYmdGhpcy5sLmlzQWN0aXZlKHRoaXMpfTtmdW5jdGlvbiBnZCgpe31oPWdkLnByb3RvdHlwZTtoLnVhPWZ1bmN0aW9uKCl7fTtoLnRhPWZ1bmN0aW9uKCl7fTtoLnNhPWZ1bmN0aW9uKCl7fTtoLnJhPWZ1bmN0aW9uKCl7fTtoLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guTmE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIGhkKCl7fWhkLnByb3RvdHlwZS5nPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBZKGEsYil9O1xuZnVuY3Rpb24gWShhLGIpe0UuY2FsbCh0aGlzKTt0aGlzLmc9bmV3IFljKGIpO3RoaXMubD1hO3RoaXMuaD1iJiZiLm1lc3NhZ2VVcmxQYXJhbXN8fG51bGw7YT1iJiZiLm1lc3NhZ2VIZWFkZXJzfHxudWxsO2ImJmIuY2xpZW50UHJvdG9jb2xIZWFkZXJSZXF1aXJlZCYmKGE/YVtcIlgtQ2xpZW50LVByb3RvY29sXCJdPVwid2ViY2hhbm5lbFwiOmE9e1wiWC1DbGllbnQtUHJvdG9jb2xcIjpcIndlYmNoYW5uZWxcIn0pO3RoaXMuZy5vPWE7YT1iJiZiLmluaXRNZXNzYWdlSGVhZGVyc3x8bnVsbDtiJiZiLm1lc3NhZ2VDb250ZW50VHlwZSYmKGE/YVtcIlgtV2ViQ2hhbm5lbC1Db250ZW50LVR5cGVcIl09Yi5tZXNzYWdlQ29udGVudFR5cGU6YT17XCJYLVdlYkNoYW5uZWwtQ29udGVudC1UeXBlXCI6Yi5tZXNzYWdlQ29udGVudFR5cGV9KTtiJiZiLnZhJiYoYT9hW1wiWC1XZWJDaGFubmVsLUNsaWVudC1Qcm9maWxlXCJdPWIudmE6YT17XCJYLVdlYkNoYW5uZWwtQ2xpZW50LVByb2ZpbGVcIjpiLnZhfSk7dGhpcy5nLlM9XG5hOyhhPWImJmIuU2IpJiYhdChhKSYmKHRoaXMuZy5tPWEpO3RoaXMudj1iJiZiLnN1cHBvcnRzQ3Jvc3NEb21haW5YaHJ8fCExO3RoaXMudT1iJiZiLnNlbmRSYXdKc29ufHwhMTsoYj1iJiZiLmh0dHBTZXNzaW9uSWRQYXJhbSkmJiF0KGIpJiYodGhpcy5nLkQ9YixhPXRoaXMuaCxudWxsIT09YSYmYiBpbiBhJiYoYT10aGlzLmgsYiBpbiBhJiZkZWxldGUgYVtiXSkpO3RoaXMuaj1uZXcgWih0aGlzKX1yKFksRSk7WS5wcm90b3R5cGUubT1mdW5jdGlvbigpe3RoaXMuZy5sPXRoaXMuajt0aGlzLnYmJih0aGlzLmcuSj0hMCk7dGhpcy5nLmNvbm5lY3QodGhpcy5sLHRoaXMuaHx8dm9pZCAwKX07WS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtnYyh0aGlzLmcpfTtcblkucHJvdG90eXBlLm89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSl7dmFyIGM9e307Yy5fX2RhdGFfXz1hO2E9Y31lbHNlIHRoaXMudSYmKGM9e30sYy5fX2RhdGFfXz1oYihhKSxhPWMpO2IuaS5wdXNoKG5ldyBoYyhiLllhKyssYSkpOzM9PWIuRyYmZmMoYil9O1kucHJvdG90eXBlLk49ZnVuY3Rpb24oKXt0aGlzLmcubD1udWxsO2RlbGV0ZSB0aGlzLmo7Z2ModGhpcy5nKTtkZWxldGUgdGhpcy5nO1kuYWEuTi5jYWxsKHRoaXMpfTtcbmZ1bmN0aW9uIGlkKGEpe25iLmNhbGwodGhpcyk7YS5fX2hlYWRlcnNfXyYmKHRoaXMuaGVhZGVycz1hLl9faGVhZGVyc19fLHRoaXMuc3RhdHVzQ29kZT1hLl9fc3RhdHVzX18sZGVsZXRlIGEuX19oZWFkZXJzX18sZGVsZXRlIGEuX19zdGF0dXNfXyk7dmFyIGI9YS5fX3NtX187aWYoYil7YTp7Zm9yKGNvbnN0IGMgaW4gYil7YT1jO2JyZWFrIGF9YT12b2lkIDB9aWYodGhpcy5pPWEpYT10aGlzLmksYj1udWxsIT09YiYmYSBpbiBiP2JbYV06dm9pZCAwO3RoaXMuZGF0YT1ifWVsc2UgdGhpcy5kYXRhPWF9cihpZCxuYik7ZnVuY3Rpb24gamQoKXtvYi5jYWxsKHRoaXMpO3RoaXMuc3RhdHVzPTF9cihqZCxvYik7ZnVuY3Rpb24gWihhKXt0aGlzLmc9YX1yKFosZ2QpO1oucHJvdG90eXBlLnVhPWZ1bmN0aW9uKCl7Rih0aGlzLmcsXCJhXCIpfTtaLnByb3RvdHlwZS50YT1mdW5jdGlvbihhKXtGKHRoaXMuZyxuZXcgaWQoYSkpfTtcbloucHJvdG90eXBlLnNhPWZ1bmN0aW9uKGEpe0YodGhpcy5nLG5ldyBqZChhKSl9O1oucHJvdG90eXBlLnJhPWZ1bmN0aW9uKCl7Rih0aGlzLmcsXCJiXCIpfTtoZC5wcm90b3R5cGUuY3JlYXRlV2ViQ2hhbm5lbD1oZC5wcm90b3R5cGUuZztZLnByb3RvdHlwZS5zZW5kPVkucHJvdG90eXBlLm87WS5wcm90b3R5cGUub3Blbj1ZLnByb3RvdHlwZS5tO1kucHJvdG90eXBlLmNsb3NlPVkucHJvdG90eXBlLmNsb3NlO21vZHVsZS5leHBvcnRzLmNyZWF0ZVdlYkNoYW5uZWxUcmFuc3BvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGhkfTttb2R1bGUuZXhwb3J0cy5nZXRTdGF0RXZlbnRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gcWIoKX07bW9kdWxlLmV4cG9ydHMuRXZlbnQ9STttb2R1bGUuZXhwb3J0cy5TdGF0PXttYjowLHBiOjEscWI6MixKYjozLE9iOjQsTGI6NSxNYjo2LEtiOjcsSWI6OCxOYjo5LFBST1hZOjEwLE5PUFJPWFk6MTEsR2I6MTIsQ2I6MTMsRGI6MTQsQmI6MTUsRWI6MTYsRmI6MTcsaWI6MTgsaGI6MTksamI6MjB9O0FiLk5PX0VSUk9SPTA7QWIuVElNRU9VVD04O0FiLkhUVFBfRVJST1I9Njtcbm1vZHVsZS5leHBvcnRzLkVycm9yQ29kZT1BYjtCYi5DT01QTEVURT1cImNvbXBsZXRlXCI7bW9kdWxlLmV4cG9ydHMuRXZlbnRUeXBlPUJiO21iLkV2ZW50VHlwZT1IO0guT1BFTj1cImFcIjtILkNMT1NFPVwiYlwiO0guRVJST1I9XCJjXCI7SC5NRVNTQUdFPVwiZFwiO0UucHJvdG90eXBlLmxpc3Rlbj1FLnByb3RvdHlwZS5LO21vZHVsZS5leHBvcnRzLldlYkNoYW5uZWw9bWI7bW9kdWxlLmV4cG9ydHMuRmV0Y2hYbWxIdHRwRmFjdG9yeT1KYztYLnByb3RvdHlwZS5saXN0ZW5PbmNlPVgucHJvdG90eXBlLkw7WC5wcm90b3R5cGUuZ2V0TGFzdEVycm9yPVgucHJvdG90eXBlLkthO1gucHJvdG90eXBlLmdldExhc3RFcnJvckNvZGU9WC5wcm90b3R5cGUuQmE7WC5wcm90b3R5cGUuZ2V0U3RhdHVzPVgucHJvdG90eXBlLlo7WC5wcm90b3R5cGUuZ2V0UmVzcG9uc2VKc29uPVgucHJvdG90eXBlLk9hO1gucHJvdG90eXBlLmdldFJlc3BvbnNlVGV4dD1YLnByb3RvdHlwZS5vYTtcblgucHJvdG90eXBlLnNlbmQ9WC5wcm90b3R5cGUuZWE7WC5wcm90b3R5cGUuc2V0V2l0aENyZWRlbnRpYWxzPVgucHJvdG90eXBlLkhhO21vZHVsZS5leHBvcnRzLlhocklvPVg7fSkuYXBwbHkoIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyAgOiB7fSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBhcHAgPSByZXF1aXJlKCdAZmlyZWJhc2UvYXBwJyk7XG5cbnZhciBuYW1lID0gXCJmaXJlYmFzZVwiO1xudmFyIHZlcnNpb24gPSBcIjEwLjEyLjNcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuYXBwLnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCAnYXBwJyk7XG5cbk9iamVjdC5rZXlzKGFwcCkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICBpZiAoayAhPT0gJ2RlZmF1bHQnICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KGspKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgaywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhcHBba107IH1cbiAgfSk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGZpcmVzdG9yZSA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9maXJlc3RvcmUnKTtcblxuXG5cbk9iamVjdC5rZXlzKGZpcmVzdG9yZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuXHRpZiAoayAhPT0gJ2RlZmF1bHQnICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KGspKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgaywge1xuXHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaXJlc3RvcmVba107IH1cblx0fSk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsImNvbnN0IGluc3RhbmNlT2ZBbnkgPSAob2JqZWN0LCBjb25zdHJ1Y3RvcnMpID0+IGNvbnN0cnVjdG9ycy5zb21lKChjKSA9PiBvYmplY3QgaW5zdGFuY2VvZiBjKTtcblxubGV0IGlkYlByb3h5YWJsZVR5cGVzO1xubGV0IGN1cnNvckFkdmFuY2VNZXRob2RzO1xuLy8gVGhpcyBpcyBhIGZ1bmN0aW9uIHRvIHByZXZlbnQgaXQgdGhyb3dpbmcgdXAgaW4gbm9kZSBlbnZpcm9ubWVudHMuXG5mdW5jdGlvbiBnZXRJZGJQcm94eWFibGVUeXBlcygpIHtcbiAgICByZXR1cm4gKGlkYlByb3h5YWJsZVR5cGVzIHx8XG4gICAgICAgIChpZGJQcm94eWFibGVUeXBlcyA9IFtcbiAgICAgICAgICAgIElEQkRhdGFiYXNlLFxuICAgICAgICAgICAgSURCT2JqZWN0U3RvcmUsXG4gICAgICAgICAgICBJREJJbmRleCxcbiAgICAgICAgICAgIElEQkN1cnNvcixcbiAgICAgICAgICAgIElEQlRyYW5zYWN0aW9uLFxuICAgICAgICBdKSk7XG59XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkge1xuICAgIHJldHVybiAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgfHxcbiAgICAgICAgKGN1cnNvckFkdmFuY2VNZXRob2RzID0gW1xuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5hZHZhbmNlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZSxcbiAgICAgICAgICAgIElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWVQcmltYXJ5S2V5LFxuICAgICAgICBdKSk7XG59XG5jb25zdCBjdXJzb3JSZXF1ZXN0TWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRG9uZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCkge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh3cmFwKHJlcXVlc3QucmVzdWx0KSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIHN1Y2Nlc3MpO1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH0pO1xuICAgIHByb21pc2VcbiAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgIC8vIFNpbmNlIGN1cnNvcmluZyByZXVzZXMgdGhlIElEQlJlcXVlc3QgKCpzaWdoKiksIHdlIGNhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWxcbiAgICAgICAgLy8gKHNlZSB3cmFwRnVuY3Rpb24pLlxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJDdXJzb3IpIHtcbiAgICAgICAgICAgIGN1cnNvclJlcXVlc3RNYXAuc2V0KHZhbHVlLCByZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXRjaGluZyB0byBhdm9pZCBcIlVuY2F1Z2h0IFByb21pc2UgZXhjZXB0aW9uc1wiXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgLy8gVGhpcyBtYXBwaW5nIGV4aXN0cyBpbiByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYnV0IGRvZXNuJ3QgZG9lc24ndCBleGlzdCBpbiB0cmFuc2Zvcm1DYWNoZS4gVGhpc1xuICAgIC8vIGlzIGJlY2F1c2Ugd2UgY3JlYXRlIG1hbnkgcHJvbWlzZXMgZnJvbSBhIHNpbmdsZSBJREJSZXF1ZXN0LlxuICAgIHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5zZXQocHJvbWlzZSwgcmVxdWVzdCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odHgpIHtcbiAgICAvLyBFYXJseSBiYWlsIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCBhIGRvbmUgcHJvbWlzZSBmb3IgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICBpZiAodHJhbnNhY3Rpb25Eb25lTWFwLmhhcyh0eCkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBkb25lID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCB1bmxpc3RlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdCh0eC5lcnJvciB8fCBuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydEVycm9yJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIGNvbXBsZXRlKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgIH0pO1xuICAgIC8vIENhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAgdHJhbnNhY3Rpb25Eb25lTWFwLnNldCh0eCwgZG9uZSk7XG59XG5sZXQgaWRiUHJveHlUcmFwcyA9IHtcbiAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHRyYW5zYWN0aW9uLmRvbmUuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2RvbmUnKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkRvbmVNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICAvLyBQb2x5ZmlsbCBmb3Igb2JqZWN0U3RvcmVOYW1lcyBiZWNhdXNlIG9mIEVkZ2UuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29iamVjdFN0b3JlTmFtZXMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5vYmplY3RTdG9yZU5hbWVzIHx8IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ha2UgdHguc3RvcmUgcmV0dXJuIHRoZSBvbmx5IHN0b3JlIGluIHRoZSB0cmFuc2FjdGlvbiwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBtYW55LlxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdzdG9yZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1sxXVxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IHJlY2VpdmVyLm9iamVjdFN0b3JlKHJlY2VpdmVyLm9iamVjdFN0b3JlTmFtZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVsc2UgdHJhbnNmb3JtIHdoYXRldmVyIHdlIGdldCBiYWNrLlxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXRbcHJvcF0pO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaGFzKHRhcmdldCwgcHJvcCkge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24gJiZcbiAgICAgICAgICAgIChwcm9wID09PSAnZG9uZScgfHwgcHJvcCA9PT0gJ3N0b3JlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wIGluIHRhcmdldDtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIHJlcGxhY2VUcmFwcyhjYWxsYmFjaykge1xuICAgIGlkYlByb3h5VHJhcHMgPSBjYWxsYmFjayhpZGJQcm94eVRyYXBzKTtcbn1cbmZ1bmN0aW9uIHdyYXBGdW5jdGlvbihmdW5jKSB7XG4gICAgLy8gRHVlIHRvIGV4cGVjdGVkIG9iamVjdCBlcXVhbGl0eSAod2hpY2ggaXMgZW5mb3JjZWQgYnkgdGhlIGNhY2hpbmcgaW4gYHdyYXBgKSwgd2VcbiAgICAvLyBvbmx5IGNyZWF0ZSBvbmUgbmV3IGZ1bmMgcGVyIGZ1bmMuXG4gICAgLy8gRWRnZSBkb2Vzbid0IHN1cHBvcnQgb2JqZWN0U3RvcmVOYW1lcyAoYm9vbyksIHNvIHdlIHBvbHlmaWxsIGl0IGhlcmUuXG4gICAgaWYgKGZ1bmMgPT09IElEQkRhdGFiYXNlLnByb3RvdHlwZS50cmFuc2FjdGlvbiAmJlxuICAgICAgICAhKCdvYmplY3RTdG9yZU5hbWVzJyBpbiBJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RvcmVOYW1lcywgLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgdHggPSBmdW5jLmNhbGwodW53cmFwKHRoaXMpLCBzdG9yZU5hbWVzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5zZXQodHgsIHN0b3JlTmFtZXMuc29ydCA/IHN0b3JlTmFtZXMuc29ydCgpIDogW3N0b3JlTmFtZXNdKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKHR4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ3Vyc29yIG1ldGhvZHMgYXJlIHNwZWNpYWwsIGFzIHRoZSBiZWhhdmlvdXIgaXMgYSBsaXR0bGUgbW9yZSBkaWZmZXJlbnQgdG8gc3RhbmRhcmQgSURCLiBJblxuICAgIC8vIElEQiwgeW91IGFkdmFuY2UgdGhlIGN1cnNvciBhbmQgd2FpdCBmb3IgYSBuZXcgJ3N1Y2Nlc3MnIG9uIHRoZSBJREJSZXF1ZXN0IHRoYXQgZ2F2ZSB5b3UgdGhlXG4gICAgLy8gY3Vyc29yLiBJdCdzIGtpbmRhIGxpa2UgYSBwcm9taXNlIHRoYXQgY2FuIHJlc29sdmUgd2l0aCBtYW55IHZhbHVlcy4gVGhhdCBkb2Vzbid0IG1ha2Ugc2Vuc2VcbiAgICAvLyB3aXRoIHJlYWwgcHJvbWlzZXMsIHNvIGVhY2ggYWR2YW5jZSBtZXRob2RzIHJldHVybnMgYSBuZXcgcHJvbWlzZSBmb3IgdGhlIGN1cnNvciBvYmplY3QsIG9yXG4gICAgLy8gdW5kZWZpbmVkIGlmIHRoZSBlbmQgb2YgdGhlIGN1cnNvciBoYXMgYmVlbiByZWFjaGVkLlxuICAgIGlmIChnZXRDdXJzb3JBZHZhbmNlTWV0aG9kcygpLmluY2x1ZGVzKGZ1bmMpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgICAgIGZ1bmMuYXBwbHkodW53cmFwKHRoaXMpLCBhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKGN1cnNvclJlcXVlc3RNYXAuZ2V0KHRoaXMpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIC8vIENhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3h5IGFzICd0aGlzJyBjYXVzZXMgSUxMRUdBTCBJTlZPQ0FUSU9OLCBzbyB3ZSB1c2VcbiAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHdyYXAoZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB3cmFwRnVuY3Rpb24odmFsdWUpO1xuICAgIC8vIFRoaXMgZG9lc24ndCByZXR1cm4sIGl0IGp1c3QgY3JlYXRlcyBhICdkb25lJyBwcm9taXNlIGZvciB0aGUgdHJhbnNhY3Rpb24sXG4gICAgLy8gd2hpY2ggaXMgbGF0ZXIgcmV0dXJuZWQgZm9yIHRyYW5zYWN0aW9uLmRvbmUgKHNlZSBpZGJPYmplY3RIYW5kbGVyKS5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbilcbiAgICAgICAgY2FjaGVEb25lUHJvbWlzZUZvclRyYW5zYWN0aW9uKHZhbHVlKTtcbiAgICBpZiAoaW5zdGFuY2VPZkFueSh2YWx1ZSwgZ2V0SWRiUHJveHlhYmxlVHlwZXMoKSkpXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodmFsdWUsIGlkYlByb3h5VHJhcHMpO1xuICAgIC8vIFJldHVybiB0aGUgc2FtZSB2YWx1ZSBiYWNrIGlmIHdlJ3JlIG5vdCBnb2luZyB0byB0cmFuc2Zvcm0gaXQuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gd3JhcCh2YWx1ZSkge1xuICAgIC8vIFdlIHNvbWV0aW1lcyBnZW5lcmF0ZSBtdWx0aXBsZSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QgKGVnIHdoZW4gY3Vyc29yaW5nKSwgYmVjYXVzZVxuICAgIC8vIElEQiBpcyB3ZWlyZCBhbmQgYSBzaW5nbGUgSURCUmVxdWVzdCBjYW4geWllbGQgbWFueSByZXNwb25zZXMsIHNvIHRoZXNlIGNhbid0IGJlIGNhY2hlZC5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJSZXF1ZXN0KVxuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdCh2YWx1ZSk7XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSB0cmFuc2Zvcm1lZCB0aGlzIHZhbHVlIGJlZm9yZSwgcmV1c2UgdGhlIHRyYW5zZm9ybWVkIHZhbHVlLlxuICAgIC8vIFRoaXMgaXMgZmFzdGVyLCBidXQgaXQgYWxzbyBwcm92aWRlcyBvYmplY3QgZXF1YWxpdHkuXG4gICAgaWYgKHRyYW5zZm9ybUNhY2hlLmhhcyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSk7XG4gICAgLy8gTm90IGFsbCB0eXBlcyBhcmUgdHJhbnNmb3JtZWQuXG4gICAgLy8gVGhlc2UgbWF5IGJlIHByaW1pdGl2ZSB0eXBlcywgc28gdGhleSBjYW4ndCBiZSBXZWFrTWFwIGtleXMuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICB0cmFuc2Zvcm1DYWNoZS5zZXQodmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChuZXdWYWx1ZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3VmFsdWU7XG59XG5jb25zdCB1bndyYXAgPSAodmFsdWUpID0+IHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuXG5leHBvcnQgeyByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYXMgYSwgaW5zdGFuY2VPZkFueSBhcyBpLCByZXBsYWNlVHJhcHMgYXMgciwgdW53cmFwIGFzIHUsIHdyYXAgYXMgdyB9O1xuIiwiaW1wb3J0IHsgdyBhcyB3cmFwLCByIGFzIHJlcGxhY2VUcmFwcyB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuZXhwb3J0IHsgdSBhcyB1bndyYXAsIHcgYXMgd3JhcCB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuXG4vKipcbiAqIE9wZW4gYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqIEBwYXJhbSB2ZXJzaW9uIFNjaGVtYSB2ZXJzaW9uLlxuICogQHBhcmFtIGNhbGxiYWNrcyBBZGRpdGlvbmFsIGNhbGxiYWNrcy5cbiAqL1xuZnVuY3Rpb24gb3BlbkRCKG5hbWUsIHZlcnNpb24sIHsgYmxvY2tlZCwgdXBncmFkZSwgYmxvY2tpbmcsIHRlcm1pbmF0ZWQgfSA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKG5hbWUsIHZlcnNpb24pO1xuICAgIGNvbnN0IG9wZW5Qcm9taXNlID0gd3JhcChyZXF1ZXN0KTtcbiAgICBpZiAodXBncmFkZSkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3VwZ3JhZGVuZWVkZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHVwZ3JhZGUod3JhcChyZXF1ZXN0LnJlc3VsdCksIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIHdyYXAocmVxdWVzdC50cmFuc2FjdGlvbiksIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsIChldmVudCkgPT4gYmxvY2tlZChcbiAgICAgICAgLy8gQ2FzdGluZyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0LURPTS1saWItZ2VuZXJhdG9yL3B1bGwvMTQwNVxuICAgICAgICBldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCBldmVudCkpO1xuICAgIH1cbiAgICBvcGVuUHJvbWlzZVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgaWYgKHRlcm1pbmF0ZWQpXG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsICgpID0+IHRlcm1pbmF0ZWQoKSk7XG4gICAgICAgIGlmIChibG9ja2luZykge1xuICAgICAgICAgICAgZGIuYWRkRXZlbnRMaXN0ZW5lcigndmVyc2lvbmNoYW5nZScsIChldmVudCkgPT4gYmxvY2tpbmcoZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIHJldHVybiBvcGVuUHJvbWlzZTtcbn1cbi8qKlxuICogRGVsZXRlIGEgZGF0YWJhc2UuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZURCKG5hbWUsIHsgYmxvY2tlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKG5hbWUpO1xuICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsIChldmVudCkgPT4gYmxvY2tlZChcbiAgICAgICAgLy8gQ2FzdGluZyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0LURPTS1saWItZ2VuZXJhdG9yL3B1bGwvMTQwNVxuICAgICAgICBldmVudC5vbGRWZXJzaW9uLCBldmVudCkpO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcChyZXF1ZXN0KS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG59XG5cbmNvbnN0IHJlYWRNZXRob2RzID0gWydnZXQnLCAnZ2V0S2V5JywgJ2dldEFsbCcsICdnZXRBbGxLZXlzJywgJ2NvdW50J107XG5jb25zdCB3cml0ZU1ldGhvZHMgPSBbJ3B1dCcsICdhZGQnLCAnZGVsZXRlJywgJ2NsZWFyJ107XG5jb25zdCBjYWNoZWRNZXRob2RzID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkge1xuICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIElEQkRhdGFiYXNlICYmXG4gICAgICAgICEocHJvcCBpbiB0YXJnZXQpICYmXG4gICAgICAgIHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FjaGVkTWV0aG9kcy5nZXQocHJvcCkpXG4gICAgICAgIHJldHVybiBjYWNoZWRNZXRob2RzLmdldChwcm9wKTtcbiAgICBjb25zdCB0YXJnZXRGdW5jTmFtZSA9IHByb3AucmVwbGFjZSgvRnJvbUluZGV4JC8sICcnKTtcbiAgICBjb25zdCB1c2VJbmRleCA9IHByb3AgIT09IHRhcmdldEZ1bmNOYW1lO1xuICAgIGNvbnN0IGlzV3JpdGUgPSB3cml0ZU1ldGhvZHMuaW5jbHVkZXModGFyZ2V0RnVuY05hbWUpO1xuICAgIGlmIChcbiAgICAvLyBCYWlsIGlmIHRoZSB0YXJnZXQgZG9lc24ndCBleGlzdCBvbiB0aGUgdGFyZ2V0LiBFZywgZ2V0QWxsIGlzbid0IGluIEVkZ2UuXG4gICAgISh0YXJnZXRGdW5jTmFtZSBpbiAodXNlSW5kZXggPyBJREJJbmRleCA6IElEQk9iamVjdFN0b3JlKS5wcm90b3R5cGUpIHx8XG4gICAgICAgICEoaXNXcml0ZSB8fCByZWFkTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0aG9kID0gYXN5bmMgZnVuY3Rpb24gKHN0b3JlTmFtZSwgLi4uYXJncykge1xuICAgICAgICAvLyBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiB1bmRlZmluZWQgZ3ppcHBzIGJldHRlciwgYnV0IGZhaWxzIGluIEVkZ2UgOihcbiAgICAgICAgY29uc3QgdHggPSB0aGlzLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgaXNXcml0ZSA/ICdyZWFkd3JpdGUnIDogJ3JlYWRvbmx5Jyk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0eC5zdG9yZTtcbiAgICAgICAgaWYgKHVzZUluZGV4KVxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmluZGV4KGFyZ3Muc2hpZnQoKSk7XG4gICAgICAgIC8vIE11c3QgcmVqZWN0IGlmIG9wIHJlamVjdHMuXG4gICAgICAgIC8vIElmIGl0J3MgYSB3cml0ZSBvcGVyYXRpb24sIG11c3QgcmVqZWN0IGlmIHR4LmRvbmUgcmVqZWN0cy5cbiAgICAgICAgLy8gTXVzdCByZWplY3Qgd2l0aCBvcCByZWplY3Rpb24gZmlyc3QuXG4gICAgICAgIC8vIE11c3QgcmVzb2x2ZSB3aXRoIG9wIHZhbHVlLlxuICAgICAgICAvLyBNdXN0IGhhbmRsZSBib3RoIHByb21pc2VzIChubyB1bmhhbmRsZWQgcmVqZWN0aW9ucylcbiAgICAgICAgcmV0dXJuIChhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0RnVuY05hbWVdKC4uLmFyZ3MpLFxuICAgICAgICAgICAgaXNXcml0ZSAmJiB0eC5kb25lLFxuICAgICAgICBdKSlbMF07XG4gICAgfTtcbiAgICBjYWNoZWRNZXRob2RzLnNldChwcm9wLCBtZXRob2QpO1xuICAgIHJldHVybiBtZXRob2Q7XG59XG5yZXBsYWNlVHJhcHMoKG9sZFRyYXBzKSA9PiAoe1xuICAgIC4uLm9sZFRyYXBzLFxuICAgIGdldDogKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpID0+IGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHx8IG9sZFRyYXBzLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSxcbiAgICBoYXM6ICh0YXJnZXQsIHByb3ApID0+ICEhZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuaGFzKHRhcmdldCwgcHJvcCksXG59KSk7XG5cbmV4cG9ydCB7IGRlbGV0ZURCLCBvcGVuREIgfTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XG4gIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcbiAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XG4gIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xuICAgIHZhciBkaXNwb3NlLCBpbm5lcjtcbiAgICBpZiAoYXN5bmMpIHtcbiAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5hc3luY0Rpc3Bvc2VdO1xuICAgIH1cbiAgICBpZiAoZGlzcG9zZSA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICAgIGlmIChhc3luYykgaW5uZXIgPSBkaXNwb3NlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XG4gICAgaWYgKGlubmVyKSBkaXNwb3NlID0gZnVuY3Rpb24oKSB7IHRyeSB7IGlubmVyLmNhbGwodGhpcyk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpOyB9IH07XG4gICAgZW52LnN0YWNrLnB1c2goeyB2YWx1ZTogdmFsdWUsIGRpc3Bvc2U6IGRpc3Bvc2UsIGFzeW5jOiBhc3luYyB9KTtcbiAgfVxuICBlbHNlIGlmIChhc3luYykge1xuICAgIGVudi5zdGFjay5wdXNoKHsgYXN5bmM6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgX1N1cHByZXNzZWRFcnJvciA9IHR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xuICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52KSB7XG4gIGZ1bmN0aW9uIGZhaWwoZSkge1xuICAgIGVudi5lcnJvciA9IGVudi5oYXNFcnJvciA/IG5ldyBfU3VwcHJlc3NlZEVycm9yKGUsIGVudi5lcnJvciwgXCJBbiBlcnJvciB3YXMgc3VwcHJlc3NlZCBkdXJpbmcgZGlzcG9zYWwuXCIpIDogZTtcbiAgICBlbnYuaGFzRXJyb3IgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKGVudi5zdGFjay5sZW5ndGgpIHtcbiAgICAgIHZhciByZWMgPSBlbnYuc3RhY2sucG9wKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjLmRpc3Bvc2UgJiYgcmVjLmRpc3Bvc2UuY2FsbChyZWMudmFsdWUpO1xuICAgICAgICBpZiAocmVjLmFzeW5jKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcbiJdLCJuYW1lcyI6WyJhcHAiLCJpbml0aWFsaXplQXBwIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsImFwcElkIiwibWVhc3VyZW1lbnRJZCIsImRiIiwiZ2V0RmlyZXN0b3JlIiwiY29ja3RhaWxzRGF0YSIsImx1eHVyeURhdGEiLCJiZWVyRGF0YSIsInVwZGF0ZURyaW5rQ291bnQiLCJkcmluayIsImNhdGVnb3J5IiwiZHJpbmtSZWYiLCJkb2MiLCJyZXBsYWNlIiwiZG9jU25hcCIsImdldERvYyIsImV4aXN0cyIsImN1cnJlbnRDb3VudCIsImRhdGEiLCJjb3VudCIsInVwZGF0ZURvYyIsImNvbnNvbGUiLCJsb2ciLCJzZXREb2MiLCJlcnJvciIsImluaXRpYWxpemVSZXN1bHRzIiwiY2F0ZWdvcmllcyIsImRyaW5rcyIsImNvdW50RWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b0xvd2VyQ2FzZSIsImlubmVyVGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwiYWRkIiwicXVlcnlTZWxlY3RvciIsInN0eWxlIiwiZGlzcGxheSIsImZ1bGxOYW1lIiwidmFsdWUiLCJndWVzdHNDb2xsZWN0aW9uIiwiY29sbGVjdGlvbiIsImdldERvY3MiLCJkb2NzIiwibGVuZ3RoIiwiYWxlcnQiLCJndWVzdFJlZiIsImFkZEd1ZXN0Iiwib25TbmFwc2hvdCIsInNuYXBzaG90IiwiZ3Vlc3RMaXN0IiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsImluZGV4IiwiZ3Vlc3QiLCJyb3ciLCJjcmVhdGVFbGVtZW50IiwibnVtYmVyQ2VsbCIsInRleHRDb250ZW50IiwidG9TdHJpbmciLCJhcHBlbmRDaGlsZCIsIm5hbWVDZWxsIiwidXBkYXRlR3Vlc3RMaXN0SW5IVE1MIiwiaW5pdGlhbGl6ZUd1ZXN0TGlzdCIsInN1cnZleUZvcm0iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRhcmdldCIsImNvY2t0YWlsRHJpbmtzIiwiZ2V0QWxsIiwibHV4dXJ5RHJpbmtzIiwiYmVlckRyaW5rcyIsInNldEl0ZW0iLCJkb2NTbmFwc2hvdCIsInVwZGF0ZVJlc3VsdEluSFRNTCIsImNvY2t0YWlscyIsImx1eHVyeSIsImJlZXIiLCJPYmplY3QiLCJlbnRyaWVzIiwiaW5pdGlhbGl6ZUZpcmVzdG9yZURhdGEiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJfYSQxIiwiX2EiLCJjb21wb25lbnQiLCJ0c2xpYiIsImxvZ2dlciQxIiwidXRpbCIsImlkYiIsIlBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwiLCJjb250YWluZXIiLCJ0aGlzIiwicHJvdG90eXBlIiwiZ2V0UGxhdGZvcm1JbmZvU3RyaW5nIiwiZ2V0UHJvdmlkZXJzIiwibWFwIiwicHJvdmlkZXIiLCJnZXRDb21wb25lbnQiLCJ0eXBlIiwiaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyIiwic2VydmljZSIsImdldEltbWVkaWF0ZSIsImNvbmNhdCIsImxpYnJhcnkiLCJ2ZXJzaW9uIiwiZmlsdGVyIiwibG9nU3RyaW5nIiwiam9pbiIsIm5hbWUkcCIsInZlcnNpb24kMSIsImxvZ2dlciIsIkxvZ2dlciIsIkRFRkFVTFRfRU5UUllfTkFNRSIsIlBMQVRGT1JNX0xPR19TVFJJTkciLCJfYXBwcyIsIk1hcCIsIl9zZXJ2ZXJBcHBzIiwiX2NvbXBvbmVudHMiLCJfYWRkQ29tcG9uZW50IiwiYWRkQ29tcG9uZW50IiwiZSIsImRlYnVnIiwibmFtZSIsIl9yZWdpc3RlckNvbXBvbmVudCIsImVfMSIsImVfMiIsIl9iIiwiY29tcG9uZW50TmFtZSIsImhhcyIsInNldCIsIl9jIiwiX192YWx1ZXMiLCJ2YWx1ZXMiLCJfZCIsIm5leHQiLCJkb25lIiwiZV8xXzEiLCJyZXR1cm4iLCJjYWxsIiwiX2UiLCJfZiIsImVfMl8xIiwiX2dldFByb3ZpZGVyIiwiaGVhcnRiZWF0Q29udHJvbGxlciIsImdldFByb3ZpZGVyIiwib3B0aW9uYWwiLCJ0cmlnZ2VySGVhcnRiZWF0IiwiX2lzRmlyZWJhc2VBcHAiLCJvYmoiLCJ1bmRlZmluZWQiLCJvcHRpb25zIiwiRVJST1JTIiwiRVJST1JfRkFDVE9SWSIsIkVycm9yRmFjdG9yeSIsIkZpcmViYXNlQXBwSW1wbCIsImNvbmZpZyIsIl90aGlzIiwiX2lzRGVsZXRlZCIsIl9vcHRpb25zIiwiX19hc3NpZ24iLCJfY29uZmlnIiwiX25hbWUiLCJfYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiX2NvbnRhaW5lciIsIkNvbXBvbmVudCIsImdldCIsImNoZWNrRGVzdHJveWVkIiwidmFsIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImlzRGVsZXRlZCIsImNyZWF0ZSIsImFwcE5hbWUiLCJGaXJlYmFzZVNlcnZlckFwcEltcGwiLCJfc3VwZXIiLCJzZXJ2ZXJDb25maWciLCJhcHBJbXBsIiwiX3NlcnZlckNvbmZpZyIsIl9maW5hbGl6YXRpb25SZWdpc3RyeSIsIkZpbmFsaXphdGlvblJlZ2lzdHJ5IiwiYXV0b21hdGljQ2xlYW51cCIsIl9yZWZDb3VudCIsImluY1JlZkNvdW50IiwicmVsZWFzZU9uRGVyZWYiLCJyZWdpc3RlclZlcnNpb24iLCJfX2V4dGVuZHMiLCJ0b0pTT04iLCJyZWdpc3RlciIsImRlY1JlZkNvdW50IiwiZGVsZXRlQXBwIiwicmF3Q29uZmlnIiwiU3RyaW5nIiwiZ2V0RGVmYXVsdEFwcENvbmZpZyIsImV4aXN0aW5nQXBwIiwiZGVlcEVxdWFsIiwiQ29tcG9uZW50Q29udGFpbmVyIiwiY29tcG9uZW50JDEiLCJuZXdBcHAiLCJfX2F3YWl0ZXIiLCJjbGVhbnVwUHJvdmlkZXJzIiwiX19nZW5lcmF0b3IiLCJsYWJlbCIsImRlbGV0ZSIsIlByb21pc2UiLCJhbGwiLCJzZW50IiwibGlicmFyeUtleU9yTmFtZSIsInZhcmlhbnQiLCJsaWJyYXJ5TWlzbWF0Y2giLCJtYXRjaCIsInZlcnNpb25NaXNtYXRjaCIsIndhcm5pbmciLCJwdXNoIiwid2FybiIsIkRCX05BTUUiLCJEQl9WRVJTSU9OIiwiU1RPUkVfTkFNRSIsImRiUHJvbWlzZSIsImdldERiUHJvbWlzZSIsIm9wZW5EQiIsInVwZ3JhZGUiLCJvbGRWZXJzaW9uIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJjYXRjaCIsIm9yaWdpbmFsRXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQiIsInR4IiwicmVzdWx0IiwiaWRiR2V0RXJyb3IiLCJ0cnlzIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImNvbXB1dGVLZXkiLCJGaXJlYmFzZUVycm9yIiwid3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIiLCJoZWFydGJlYXRPYmplY3QiLCJwdXQiLCJIZWFydGJlYXRTZXJ2aWNlSW1wbCIsIl9oZWFydGJlYXRzQ2FjaGUiLCJfc3RvcmFnZSIsIkhlYXJ0YmVhdFN0b3JhZ2VJbXBsIiwiX2hlYXJ0YmVhdHNDYWNoZVByb21pc2UiLCJyZWFkIiwidGhlbiIsInBsYXRmb3JtTG9nZ2VyIiwiYWdlbnQiLCJkYXRlIiwiZ2V0VVRDRGF0ZVN0cmluZyIsImhlYXJ0YmVhdHMiLCJsYXN0U2VudEhlYXJ0YmVhdERhdGUiLCJzb21lIiwic2luZ2xlRGF0ZUhlYXJ0YmVhdCIsImhiVGltZXN0YW1wIiwiRGF0ZSIsInZhbHVlT2YiLCJub3ciLCJvdmVyd3JpdGUiLCJnZXRIZWFydGJlYXRzSGVhZGVyIiwiaGVhcnRiZWF0c1RvU2VuZCIsInVuc2VudEVudHJpZXMiLCJoZWFkZXJTdHJpbmciLCJoZWFydGJlYXRzQ2FjaGUiLCJtYXhTaXplIiwic2xpY2UiLCJfbG9vcF8xIiwiaGVhcnRiZWF0RW50cnkiLCJmaW5kIiwiaGIiLCJkYXRlcyIsImNvdW50Qnl0ZXMiLCJwb3AiLCJoZWFydGJlYXRzQ2FjaGVfMSIsImhlYXJ0YmVhdHNDYWNoZV8xXzEiLCJleHRyYWN0SGVhcnRiZWF0c0ZvckhlYWRlciIsImJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSVNPU3RyaW5nIiwic3Vic3RyaW5nIiwiX2NhblVzZUluZGV4ZWREQlByb21pc2UiLCJydW5JbmRleGVkREJFbnZpcm9ubWVudENoZWNrIiwiaXNJbmRleGVkREJBdmFpbGFibGUiLCJ2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlIiwiaWRiSGVhcnRiZWF0T2JqZWN0IiwiaGVhcnRiZWF0c09iamVjdCIsImV4aXN0aW5nSGVhcnRiZWF0c09iamVjdCIsIl9fc3ByZWFkQXJyYXkiLCJfX3JlYWQiLCJTREtfVkVSU0lPTiIsIl9ERUZBVUxUX0VOVFJZX05BTUUiLCJfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQiLCJhZGRPck92ZXJ3cml0ZUNvbXBvbmVudCIsIl9jbGVhckNvbXBvbmVudHMiLCJjbGVhciIsIl9pc0ZpcmViYXNlU2VydmVyQXBwIiwic2V0dGluZ3MiLCJfcmVtb3ZlU2VydmljZUluc3RhbmNlIiwiaW5zdGFuY2VJZGVudGlmaWVyIiwiY2xlYXJJbnN0YW5jZSIsImdldEFwcCIsImdldEFwcHMiLCJBcnJheSIsImZyb20iLCJpbml0aWFsaXplU2VydmVyQXBwIiwiX3NlcnZlckFwcENvbmZpZyIsImFwcE9wdGlvbnMiLCJpc0Jyb3dzZXIiLCJpc1dlYldvcmtlciIsIm5hbWVPYmoiLCJzIiwibmFtZVN0cmluZyIsInJlZHVjZSIsImhhc2giLCJjIiwiTWF0aCIsImltdWwiLCJjaGFyQ29kZUF0Iiwib25Mb2ciLCJsb2dDYWxsYmFjayIsInNldFVzZXJMb2dIYW5kbGVyIiwic2V0TG9nTGV2ZWwiLCJsb2dMZXZlbCIsImluc3RhbmNlRmFjdG9yeSIsIm11bHRpcGxlSW5zdGFuY2VzIiwic2VydmljZVByb3BzIiwiaW5zdGFudGlhdGlvbk1vZGUiLCJvbkluc3RhbmNlQ3JlYXRlZCIsInNldEluc3RhbnRpYXRpb25Nb2RlIiwibW9kZSIsInNldE11bHRpcGxlSW5zdGFuY2VzIiwic2V0U2VydmljZVByb3BzIiwicHJvcHMiLCJzZXRJbnN0YW5jZUNyZWF0ZWRDYWxsYmFjayIsImNhbGxiYWNrIiwiUHJvdmlkZXIiLCJpbnN0YW5jZXMiLCJpbnN0YW5jZXNEZWZlcnJlZCIsImluc3RhbmNlc09wdGlvbnMiLCJvbkluaXRDYWxsYmFja3MiLCJpZGVudGlmaWVyIiwibm9ybWFsaXplZElkZW50aWZpZXIiLCJub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIiLCJkZWZlcnJlZCIsIkRlZmVycmVkIiwiaXNJbml0aWFsaXplZCIsInNob3VsZEF1dG9Jbml0aWFsaXplIiwiaW5zdGFuY2UiLCJnZXRPckluaXRpYWxpemVTZXJ2aWNlIiwicmVzb2x2ZSIsInByb21pc2UiLCJFcnJvciIsInNldENvbXBvbmVudCIsImlzQ29tcG9uZW50RWFnZXIiLCJpbnN0YW5jZURlZmVycmVkIiwic2VydmljZXMiLCJJTlRFUk5BTCIsIl9kZWxldGUiLCJpc0NvbXBvbmVudFNldCIsImdldE9wdGlvbnMiLCJpbml0aWFsaXplIiwib3B0cyIsIm9uSW5pdCIsImV4aXN0aW5nQ2FsbGJhY2tzIiwiU2V0IiwiZXhpc3RpbmdJbnN0YW5jZSIsImludm9rZU9uSW5pdENhbGxiYWNrcyIsImVfMyIsImNhbGxiYWNrcyIsImNhbGxiYWNrc18xIiwiY2FsbGJhY2tzXzFfMSIsImVfM18xIiwicHJvdmlkZXJzIiwiYmxvb21CbG9iIiwid2ViY2hhbm5lbEJsb2IiLCJTIiwiVXNlciIsImNvbnN0cnVjdG9yIiwidWlkIiwiaXNBdXRoZW50aWNhdGVkIiwidG9LZXkiLCJpc0VxdWFsIiwiVU5BVVRIRU5USUNBVEVEIiwiR09PR0xFX0NSRURFTlRJQUxTIiwiRklSU1RfUEFSVFkiLCJNT0NLX1VTRVIiLCJiIiwiRCIsIl9fUFJJVkFURV9nZXRMb2dMZXZlbCIsIl9fUFJJVkFURV9sb2dEZWJ1ZyIsInQiLCJMb2dMZXZlbCIsIkRFQlVHIiwibiIsIl9fUFJJVkFURV9hcmdUb1N0cmluZyIsIl9fUFJJVkFURV9sb2dFcnJvciIsIkVSUk9SIiwiX19QUklWQVRFX2xvZ1dhcm4iLCJXQVJOIiwiZmFpbCIsIl9fUFJJVkFURV9oYXJkQXNzZXJ0IiwiX19QUklWQVRFX2RlYnVnQ2FzdCIsIkMiLCJPSyIsIkNBTkNFTExFRCIsIlVOS05PV04iLCJJTlZBTElEX0FSR1VNRU5UIiwiREVBRExJTkVfRVhDRUVERUQiLCJOT1RfRk9VTkQiLCJBTFJFQURZX0VYSVNUUyIsIlBFUk1JU1NJT05fREVOSUVEIiwiUkVTT1VSQ0VfRVhIQVVTVEVEIiwiRkFJTEVEX1BSRUNPTkRJVElPTiIsIkFCT1JURUQiLCJPVVRfT0ZfUkFOR0UiLCJVTklNUExFTUVOVEVEIiwiVU5BVkFJTEFCTEUiLCJEQVRBX0xPU1MiLCJGaXJlc3RvcmVFcnJvciIsInN1cGVyIiwiY29kZSIsIl9fUFJJVkFURV9EZWZlcnJlZCIsInJlamVjdCIsIl9fUFJJVkFURV9PQXV0aFRva2VuIiwidXNlciIsImhlYWRlcnMiLCJfX1BSSVZBVEVfRW1wdHlBdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsImdldFRva2VuIiwiaW52YWxpZGF0ZVRva2VuIiwic3RhcnQiLCJlbnF1ZXVlUmV0cnlhYmxlIiwic2h1dGRvd24iLCJfX1BSSVZBVEVfRW11bGF0b3JBdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsInRva2VuIiwiY2hhbmdlTGlzdGVuZXIiLCJfX1BSSVZBVEVfRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsImN1cnJlbnRVc2VyIiwiaSIsImZvcmNlUmVmcmVzaCIsImF1dGgiLCJfX1BSSVZBVEVfZ3VhcmRlZENoYW5nZUxpc3RlbmVyIiwiciIsIm8iLCJ1IiwiX19QUklWQVRFX2F3YWl0TmV4dFRva2VuIiwiX19QUklWQVRFX3JlZ2lzdGVyQXV0aCIsImFkZEF1dGhUb2tlbkxpc3RlbmVyIiwic2V0VGltZW91dCIsImFjY2Vzc1Rva2VuIiwicmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIiLCJnZXRVaWQiLCJfX1BSSVZBVEVfRmlyc3RQYXJ0eVRva2VuIiwibCIsImgiLCJQIiwiSSIsIlQiLCJfX1BSSVZBVEVfRmlyc3RQYXJ0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIiwiQXBwQ2hlY2tUb2tlbiIsIl9fUFJJVkFURV9GaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlciIsIkEiLCJhcHBDaGVjayIsIlIiLCJvblRva2VuQ2hhbmdlZCIsIl9fUFJJVkFURV9yZWdpc3RlckFwcENoZWNrIiwiYWRkVG9rZW5MaXN0ZW5lciIsInJlbW92ZVRva2VuTGlzdGVuZXIiLCJfX1BSSVZBVEVfcmFuZG9tQnl0ZXMiLCJzZWxmIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJVaW50OEFycmF5IiwiZ2V0UmFuZG9tVmFsdWVzIiwiZmxvb3IiLCJyYW5kb20iLCJfX1BSSVZBVEVfQXV0b0lkIiwibmV3SWQiLCJjaGFyQXQiLCJfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvciIsIl9fUFJJVkFURV9hcnJheUVxdWFscyIsImV2ZXJ5IiwiX19QUklWQVRFX2ltbWVkaWF0ZVN1Y2Nlc3NvciIsIlRpbWVzdGFtcCIsInNlY29uZHMiLCJuYW5vc2Vjb25kcyIsImZyb21NaWxsaXMiLCJmcm9tRGF0ZSIsImdldFRpbWUiLCJ0b0RhdGUiLCJ0b01pbGxpcyIsIl9jb21wYXJlVG8iLCJwYWRTdGFydCIsIlNuYXBzaG90VmVyc2lvbiIsInRpbWVzdGFtcCIsImZyb21UaW1lc3RhbXAiLCJtaW4iLCJtYXgiLCJjb21wYXJlVG8iLCJ0b01pY3Jvc2Vjb25kcyIsInRvVGltZXN0YW1wIiwiQmFzZVBhdGgiLCJzZWdtZW50cyIsIm9mZnNldCIsImxlbiIsImNvbXBhcmF0b3IiLCJjaGlsZCIsImxpbWl0IiwiY29uc3RydWN0IiwicG9wRmlyc3QiLCJwb3BMYXN0IiwiZmlyc3RTZWdtZW50IiwibGFzdFNlZ21lbnQiLCJpc0VtcHR5IiwiaXNQcmVmaXhPZiIsImlzSW1tZWRpYXRlUGFyZW50T2YiLCJ0b0FycmF5IiwiUmVzb3VyY2VQYXRoIiwiY2Fub25pY2FsU3RyaW5nIiwidG9VcmlFbmNvZGVkU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZnJvbVN0cmluZyIsImluZGV4T2YiLCJzcGxpdCIsImVtcHR5UGF0aCIsInYiLCJGaWVsZFBhdGgkMSIsImlzVmFsaWRJZGVudGlmaWVyIiwidGVzdCIsImlzS2V5RmllbGQiLCJrZXlGaWVsZCIsImZyb21TZXJ2ZXJGb3JtYXQiLCJfX1BSSVZBVEVfYWRkQ3VycmVudFNlZ21lbnQiLCJEb2N1bWVudEtleSIsInBhdGgiLCJmcm9tUGF0aCIsImZyb21OYW1lIiwiZW1wdHkiLCJjb2xsZWN0aW9uR3JvdXAiLCJoYXNDb2xsZWN0aW9uSWQiLCJnZXRDb2xsZWN0aW9uR3JvdXAiLCJnZXRDb2xsZWN0aW9uUGF0aCIsImlzRG9jdW1lbnRLZXkiLCJmcm9tU2VnbWVudHMiLCJGaWVsZEluZGV4IiwiaW5kZXhJZCIsImZpZWxkcyIsImluZGV4U3RhdGUiLCJfX1BSSVZBVEVfZmllbGRJbmRleEdldEFycmF5U2VnbWVudCIsImtpbmQiLCJfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHMiLCJfX1BSSVZBVEVfZmllbGRJbmRleFNlbWFudGljQ29tcGFyYXRvciIsIl9fUFJJVkFURV9pbmRleFNlZ21lbnRDb21wYXJhdG9yIiwiVU5LTk9XTl9JRCIsIkluZGV4U2VnbWVudCIsImZpZWxkUGF0aCIsIkluZGV4U3RhdGUiLCJzZXF1ZW5jZU51bWJlciIsIkluZGV4T2Zmc2V0IiwiX19QUklWQVRFX25ld0luZGV4T2Zmc2V0U3VjY2Vzc29yRnJvbVJlYWRUaW1lIiwiX19QUklWQVRFX25ld0luZGV4T2Zmc2V0RnJvbURvY3VtZW50IiwicmVhZFRpbWUiLCJrZXkiLCJkb2N1bWVudEtleSIsImxhcmdlc3RCYXRjaElkIiwiX19QUklWQVRFX2luZGV4T2Zmc2V0Q29tcGFyYXRvciIsIkYiLCJQZXJzaXN0ZW5jZVRyYW5zYWN0aW9uIiwib25Db21taXR0ZWRMaXN0ZW5lcnMiLCJhZGRPbkNvbW1pdHRlZExpc3RlbmVyIiwicmFpc2VPbkNvbW1pdHRlZEV2ZW50IiwiYXN5bmMiLCJfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzIiwiUGVyc2lzdGVuY2VQcm9taXNlIiwibmV4dENhbGxiYWNrIiwiY2F0Y2hDYWxsYmFjayIsImlzRG9uZSIsImNhbGxiYWNrQXR0YWNoZWQiLCJ3cmFwRmFpbHVyZSIsIndyYXBTdWNjZXNzIiwidG9Qcm9taXNlIiwid3JhcFVzZXJGdW5jdGlvbiIsIndhaXRGb3IiLCJvciIsIm1hcEFycmF5IiwiXyIsImEiLCJkb1doaWxlIiwicHJvY2VzcyIsIl9fUFJJVkFURV9TaW1wbGVEYlRyYW5zYWN0aW9uIiwiYWN0aW9uIiwiYWJvcnRlZCIsIlYiLCJvbmNvbXBsZXRlIiwib25hYm9ydCIsIl9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yIiwib25lcnJvciIsIl9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yIiwib3BlbiIsIm0iLCJhYm9ydCIsImciLCJjb21taXQiLCJzdG9yZSIsIl9fUFJJVkFURV9TaW1wbGVEYlN0b3JlIiwiX19QUklWQVRFX1NpbXBsZURiIiwicCIsImdldFVBIiwiX19QUklWQVRFX3dyYXBSZXF1ZXN0Iiwid2luZG93IiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJfX1BSSVZBVEVfZ2V0QW5kcm9pZFZlcnNpb24iLCJfX1BSSVZBVEVfZW52IiwiTnVtYmVyIiwiTSIsIm9uc3VjY2VzcyIsIm9uYmxvY2tlZCIsIm9udXBncmFkZW5lZWRlZCIsIk8iLCJOIiwib252ZXJzaW9uY2hhbmdlIiwiTCIsInJ1blRyYW5zYWN0aW9uIiwiY2xvc2UiLCJfX1BSSVZBVEVfSXRlcmF0aW9uQ29udHJvbGxlciIsIkIiLCJrIiwicSIsIksiLCJjdXJzb3IiLCIkIiwiX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvciIsIlUiLCJyYW5nZSIsIlciLCJHIiwiaiIsIkgiLCJKIiwiWSIsInByaW1hcnlLZXkiLCJjb250aW51ZSIsInJldmVyc2UiLCJvcGVuS2V5Q3Vyc29yIiwib3BlbkN1cnNvciIsIl9fUFJJVkFURV9JbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIiLCJhc3luY1F1ZXVlIiwiWiIsInRhc2siLCJYIiwic3RvcCIsImNhbmNlbCIsInN0YXJ0ZWQiLCJlbnF1ZXVlQWZ0ZXJEZWxheSIsImVlIiwiX19QUklWQVRFX0luZGV4QmFja2ZpbGxlciIsImxvY2FsU3RvcmUiLCJwZXJzaXN0ZW5jZSIsInRlIiwiaW5kZXhNYW5hZ2VyIiwiZ2V0TmV4dENvbGxlY3Rpb25Hcm91cFRvVXBkYXRlIiwibmUiLCJnZXRNaW5PZmZzZXRGcm9tQ29sbGVjdGlvbkdyb3VwIiwibG9jYWxEb2N1bWVudHMiLCJnZXROZXh0RG9jdW1lbnRzIiwiY2hhbmdlcyIsInVwZGF0ZUluZGV4RW50cmllcyIsInJlIiwidXBkYXRlQ29sbGVjdGlvbkdyb3VwIiwic2l6ZSIsImJhdGNoSWQiLCJfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2UiLCJwcmV2aW91c1ZhbHVlIiwic2VxdWVuY2VOdW1iZXJIYW5kbGVyIiwiaWUiLCJzZSIsIndyaXRlU2VxdWVuY2VOdW1iZXIiLCJfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQiLCJfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8iLCJpc1NhZmVJbnRlZ2VyIiwiaXNJbnRlZ2VyIiwiTUFYX1NBRkVfSU5URUdFUiIsIk1JTl9TQUZFX0lOVEVHRVIiLCJfX1BSSVZBVEVfZW5jb2RlUmVzb3VyY2VQYXRoIiwiX19QUklWQVRFX2VuY29kZVNlcGFyYXRvciIsIl9fUFJJVkFURV9lbmNvZGVTZWdtZW50IiwiX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aCIsIl9fUFJJVkFURV9sYXN0UmVhc29uYWJsZUVzY2FwZUluZGV4Iiwib2UiLCJ4IiwiX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvblByZWZpeEZvclBhdGgiLCJfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uS2V5IiwiUSIsInoiLCJfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb24iLCJjdXJyZW50U2VxdWVuY2VOdW1iZXIiLCJfX1BSSVZBVEVfZ2V0U3RvcmUiLCJfX1BSSVZBVEVfb2JqZWN0U2l6ZSIsImhhc093blByb3BlcnR5IiwiX19QUklWQVRFX21hcFRvQXJyYXkiLCJTb3J0ZWRNYXAiLCJyb290IiwiTExSQk5vZGUiLCJFTVBUWSIsImluc2VydCIsImNvcHkiLCJCTEFDSyIsImxlZnQiLCJyaWdodCIsIm1pbktleSIsIm1heEtleSIsImlub3JkZXJUcmF2ZXJzYWwiLCJyZXZlcnNlVHJhdmVyc2FsIiwiZ2V0SXRlcmF0b3IiLCJTb3J0ZWRNYXBJdGVyYXRvciIsImdldEl0ZXJhdG9yRnJvbSIsImdldFJldmVyc2VJdGVyYXRvciIsImdldFJldmVyc2VJdGVyYXRvckZyb20iLCJpc1JldmVyc2UiLCJub2RlU3RhY2siLCJnZXROZXh0IiwiaGFzTmV4dCIsInBlZWsiLCJjb2xvciIsIlJFRCIsImZpeFVwIiwicmVtb3ZlTWluIiwiaXNSZWQiLCJtb3ZlUmVkTGVmdCIsInJvdGF0ZVJpZ2h0IiwibW92ZVJlZFJpZ2h0Iiwicm90YXRlTGVmdCIsImNvbG9yRmxpcCIsImNoZWNrTWF4RGVwdGgiLCJjaGVjayIsInBvdyIsIlNvcnRlZFNldCIsImZpcnN0IiwibGFzdCIsImZvckVhY2hJblJhbmdlIiwiZm9yRWFjaFdoaWxlIiwiZmlyc3RBZnRlck9yRXF1YWwiLCJTb3J0ZWRTZXRJdGVyYXRvciIsInVuaW9uV2l0aCIsIml0ZXIiLCJfX1BSSVZBVEVfYWR2YW5jZUl0ZXJhdG9yIiwiRmllbGRNYXNrIiwic29ydCIsImNvdmVycyIsIl9fUFJJVkFURV9CYXNlNjREZWNvZGVFcnJvciIsImFyZ3VtZW50cyIsIkJ5dGVTdHJpbmciLCJiaW5hcnlTdHJpbmciLCJmcm9tQmFzZTY0U3RyaW5nIiwiYXRvYiIsIkRPTUV4Y2VwdGlvbiIsImZyb21VaW50OEFycmF5IiwiZnJvbUNoYXJDb2RlIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJ0b0Jhc2U2NCIsImJ0b2EiLCJ0b1VpbnQ4QXJyYXkiLCJhcHByb3hpbWF0ZUJ5dGVTaXplIiwiRU1QVFlfQllURV9TVFJJTkciLCJSZWdFeHAiLCJfX1BSSVZBVEVfbm9ybWFsaXplVGltZXN0YW1wIiwiZXhlYyIsInN1YnN0ciIsIm5hbm9zIiwiX19QUklWQVRFX25vcm1hbGl6ZU51bWJlciIsIl9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nIiwiX19QUklWQVRFX2lzU2VydmVyVGltZXN0YW1wIiwibWFwVmFsdWUiLCJfX3R5cGVfXyIsInN0cmluZ1ZhbHVlIiwiX19QUklWQVRFX2dldFByZXZpb3VzVmFsdWUiLCJfX3ByZXZpb3VzX3ZhbHVlX18iLCJfX1BSSVZBVEVfZ2V0TG9jYWxXcml0ZVRpbWUiLCJfX2xvY2FsX3dyaXRlX3RpbWVfXyIsInRpbWVzdGFtcFZhbHVlIiwiRGF0YWJhc2VJbmZvIiwiZGF0YWJhc2VJZCIsInBlcnNpc3RlbmNlS2V5IiwiaG9zdCIsInNzbCIsImZvcmNlTG9uZ1BvbGxpbmciLCJhdXRvRGV0ZWN0TG9uZ1BvbGxpbmciLCJsb25nUG9sbGluZ09wdGlvbnMiLCJ1c2VGZXRjaFN0cmVhbXMiLCJEYXRhYmFzZUlkIiwiZGF0YWJhc2UiLCJpc0RlZmF1bHREYXRhYmFzZSIsIm51bGxWYWx1ZSIsIl9fUFJJVkFURV90eXBlT3JkZXIiLCJfX1BSSVZBVEVfaXNNYXhWYWx1ZSIsIl9fUFJJVkFURV92YWx1ZUVxdWFscyIsImJvb2xlYW5WYWx1ZSIsImJ5dGVzVmFsdWUiLCJyZWZlcmVuY2VWYWx1ZSIsImdlb1BvaW50VmFsdWUiLCJsYXRpdHVkZSIsImxvbmdpdHVkZSIsImludGVnZXJWYWx1ZSIsImRvdWJsZVZhbHVlIiwiaXNOYU4iLCJhcnJheVZhbHVlIiwiX19QUklWQVRFX2FycmF5VmFsdWVDb250YWlucyIsIl9fUFJJVkFURV92YWx1ZUNvbXBhcmUiLCJfX1BSSVZBVEVfY29tcGFyZVRpbWVzdGFtcHMiLCJrZXlzIiwiY2Fub25pY2FsSWQiLCJfX1BSSVZBVEVfY2Fub25pZnlWYWx1ZSIsIl9fUFJJVkFURV9lc3RpbWF0ZUJ5dGVTaXplIiwiX19QUklWQVRFX3JlZlZhbHVlIiwiaXNBcnJheSIsIl9fUFJJVkFURV9pc051bGxWYWx1ZSIsIl9fUFJJVkFURV9pc05hblZhbHVlIiwiX19QUklWQVRFX2lzTWFwVmFsdWUiLCJfX1BSSVZBVEVfZGVlcENsb25lIiwiYXNzaWduIiwiX19QUklWQVRFX3ZhbHVlc0dldExvd2VyQm91bmQiLCJOYU4iLCJfX1BSSVZBVEVfdmFsdWVzR2V0VXBwZXJCb3VuZCIsIl9fUFJJVkFURV9sb3dlckJvdW5kQ29tcGFyZSIsImluY2x1c2l2ZSIsIl9fUFJJVkFURV91cHBlckJvdW5kQ29tcGFyZSIsIk9iamVjdFZhbHVlIiwiZmllbGQiLCJnZXRGaWVsZHNNYXAiLCJzZXRBbGwiLCJhcHBseUNoYW5nZXMiLCJjbG9uZSIsIl9fUFJJVkFURV9leHRyYWN0RmllbGRNYXNrIiwiTXV0YWJsZURvY3VtZW50IiwiZG9jdW1lbnRUeXBlIiwiY3JlYXRlVGltZSIsImRvY3VtZW50U3RhdGUiLCJuZXdJbnZhbGlkRG9jdW1lbnQiLCJuZXdGb3VuZERvY3VtZW50IiwibmV3Tm9Eb2N1bWVudCIsIm5ld1Vua25vd25Eb2N1bWVudCIsImNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQiLCJjb252ZXJ0VG9Ob0RvY3VtZW50IiwiY29udmVydFRvVW5rbm93bkRvY3VtZW50Iiwic2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zIiwic2V0SGFzTG9jYWxNdXRhdGlvbnMiLCJzZXRSZWFkVGltZSIsImhhc0xvY2FsTXV0YXRpb25zIiwiaGFzQ29tbWl0dGVkTXV0YXRpb25zIiwiaGFzUGVuZGluZ1dyaXRlcyIsImlzVmFsaWREb2N1bWVudCIsImlzRm91bmREb2N1bWVudCIsImlzTm9Eb2N1bWVudCIsImlzVW5rbm93bkRvY3VtZW50IiwibXV0YWJsZUNvcHkiLCJCb3VuZCIsInBvc2l0aW9uIiwiX19QUklWQVRFX2JvdW5kQ29tcGFyZVRvRG9jdW1lbnQiLCJkaXIiLCJfX1BSSVZBVEVfYm91bmRFcXVhbHMiLCJPcmRlckJ5IiwiX19QUklWQVRFX29yZGVyQnlFcXVhbHMiLCJGaWx0ZXIiLCJGaWVsZEZpbHRlciIsIm9wIiwiY3JlYXRlS2V5RmllbGRJbkZpbHRlciIsIl9fUFJJVkFURV9LZXlGaWVsZEZpbHRlciIsIl9fUFJJVkFURV9BcnJheUNvbnRhaW5zRmlsdGVyIiwiX19QUklWQVRFX0luRmlsdGVyIiwiX19QUklWQVRFX05vdEluRmlsdGVyIiwiX19QUklWQVRFX0FycmF5Q29udGFpbnNBbnlGaWx0ZXIiLCJfX1BSSVZBVEVfS2V5RmllbGRJbkZpbHRlciIsIl9fUFJJVkFURV9LZXlGaWVsZE5vdEluRmlsdGVyIiwibWF0Y2hlcyIsIm1hdGNoZXNDb21wYXJpc29uIiwiaXNJbmVxdWFsaXR5IiwiZ2V0RmxhdHRlbmVkRmlsdGVycyIsImdldEZpbHRlcnMiLCJDb21wb3NpdGVGaWx0ZXIiLCJmaWx0ZXJzIiwiYWUiLCJfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNDb25qdW5jdGlvbiIsIl9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Rpc2p1bmN0aW9uIiwiX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRmxhdENvbmp1bmN0aW9uIiwiX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRmxhdCIsIl9fUFJJVkFURV9jYW5vbmlmeUZpbHRlciIsIl9fUFJJVkFURV9maWx0ZXJFcXVhbHMiLCJfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVyV2l0aEFkZGVkRmlsdGVycyIsIl9fUFJJVkFURV9zdHJpbmdpZnlGaWx0ZXIiLCJfX1BSSVZBVEVfZXh0cmFjdERvY3VtZW50S2V5c0Zyb21BcnJheVZhbHVlIiwiX19QUklWQVRFX1RhcmdldEltcGwiLCJvcmRlckJ5Iiwic3RhcnRBdCIsImVuZEF0IiwidWUiLCJfX1BSSVZBVEVfbmV3VGFyZ2V0IiwiX19QUklWQVRFX2Nhbm9uaWZ5VGFyZ2V0IiwiX19QUklWQVRFX3RhcmdldEVxdWFscyIsIl9fUFJJVkFURV90YXJnZXRJc0RvY3VtZW50VGFyZ2V0IiwiX19QUklWQVRFX3RhcmdldEdldEZpZWxkRmlsdGVyc0ZvclBhdGgiLCJfX1BSSVZBVEVfdGFyZ2V0R2V0QXNjZW5kaW5nQm91bmQiLCJfX1BSSVZBVEVfdGFyZ2V0R2V0RGVzY2VuZGluZ0JvdW5kIiwiX19QUklWQVRFX1F1ZXJ5SW1wbCIsImV4cGxpY2l0T3JkZXJCeSIsImxpbWl0VHlwZSIsImNlIiwibGUiLCJoZSIsIl9fUFJJVkFURV9uZXdRdWVyeSIsIl9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgiLCJfX1BSSVZBVEVfcXVlcnlNYXRjaGVzQWxsRG9jdW1lbnRzIiwiX19QUklWQVRFX2lzQ29sbGVjdGlvbkdyb3VwUXVlcnkiLCJfX1BSSVZBVEVfcXVlcnlOb3JtYWxpemVkT3JkZXJCeSIsIl9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0IiwiX19QUklWQVRFX19xdWVyeVRvVGFyZ2V0IiwiX19QUklWQVRFX3F1ZXJ5VG9BZ2dyZWdhdGVUYXJnZXQiLCJfX1BSSVZBVEVfcXVlcnlXaXRoQWRkZWRGaWx0ZXIiLCJfX1BSSVZBVEVfcXVlcnlXaXRoTGltaXQiLCJfX1BSSVZBVEVfcXVlcnlFcXVhbHMiLCJfX1BSSVZBVEVfY2Fub25pZnlRdWVyeSIsIl9fUFJJVkFURV9zdHJpbmdpZnlRdWVyeSIsIl9fUFJJVkFURV9xdWVyeU1hdGNoZXMiLCJfX1BSSVZBVEVfcXVlcnlDb2xsZWN0aW9uR3JvdXAiLCJfX1BSSVZBVEVfbmV3UXVlcnlDb21wYXJhdG9yIiwiX19QUklWQVRFX2NvbXBhcmVEb2NzIiwiT2JqZWN0TWFwIiwibWFwS2V5Rm4iLCJlcXVhbHNGbiIsImlubmVyIiwiaW5uZXJTaXplIiwic3BsaWNlIiwiX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCIsImRvY3VtZW50TWFwIiwiX19QUklWQVRFX2NvbnZlcnRPdmVybGF5ZWREb2N1bWVudE1hcFRvRG9jdW1lbnRNYXAiLCJvdmVybGF5ZWREb2N1bWVudCIsIl9fUFJJVkFURV9uZXdPdmVybGF5TWFwIiwiX19QUklWQVRFX25ld0RvY3VtZW50S2V5TWFwIiwiX19QUklWQVRFX25ld011dGF0aW9uTWFwIiwiX19QUklWQVRFX2RvY3VtZW50S2V5U2V0IiwiX19QUklWQVRFX3RhcmdldElkU2V0IiwiX19QUklWQVRFX3RvRG91YmxlIiwidXNlUHJvdG8zSnNvbiIsIl9fUFJJVkFURV90b0ludGVnZXIiLCJ0b051bWJlciIsIlRyYW5zZm9ybU9wZXJhdGlvbiIsIl9fUFJJVkFURV9hcHBseVRyYW5zZm9ybU9wZXJhdGlvblRvTG9jYWxWaWV3IiwiX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybSIsIl9fUFJJVkFURV9BcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uIiwiX19QUklWQVRFX2FwcGx5QXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbiIsIl9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbiIsIl9fUFJJVkFURV9hcHBseUFycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uIiwiX19QUklWQVRFX2NvbXB1dGVUcmFuc2Zvcm1PcGVyYXRpb25CYXNlVmFsdWUiLCJhc051bWJlciIsIlBlIiwic2VyaWFsaXplciIsIl9fUFJJVkFURV9hcHBseVRyYW5zZm9ybU9wZXJhdGlvblRvUmVtb3RlRG9jdW1lbnQiLCJfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvbiIsImVsZW1lbnRzIiwiX19QUklWQVRFX2NvZXJjZWRGaWVsZFZhbHVlc0FycmF5IiwiRmllbGRUcmFuc2Zvcm0iLCJ0cmFuc2Zvcm0iLCJNdXRhdGlvblJlc3VsdCIsInRyYW5zZm9ybVJlc3VsdHMiLCJQcmVjb25kaXRpb24iLCJ1cGRhdGVUaW1lIiwibm9uZSIsImlzTm9uZSIsIl9fUFJJVkFURV9wcmVjb25kaXRpb25Jc1ZhbGlkRm9yRG9jdW1lbnQiLCJNdXRhdGlvbiIsIl9fUFJJVkFURV9jYWxjdWxhdGVPdmVybGF5TXV0YXRpb24iLCJfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24iLCJfX1BSSVZBVEVfU2V0TXV0YXRpb24iLCJfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbiIsIl9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9SZW1vdGVEb2N1bWVudCIsIl9fUFJJVkFURV9zZXJ2ZXJUcmFuc2Zvcm1SZXN1bHRzIiwiZmllbGRUcmFuc2Zvcm1zIiwicHJlY29uZGl0aW9uIiwiX19QUklWQVRFX2dldFBhdGNoIiwiX19QUklWQVRFX211dGF0aW9uQXBwbHlUb0xvY2FsVmlldyIsIl9fUFJJVkFURV9sb2NhbFRyYW5zZm9ybVJlc3VsdHMiLCJmaWVsZE1hc2siLCJfX1BSSVZBVEVfbXV0YXRpb25FeHRyYWN0QmFzZVZhbHVlIiwiX19QUklWQVRFX211dGF0aW9uRXF1YWxzIiwiX19QUklWQVRFX2ZpZWxkVHJhbnNmb3JtRXF1YWxzIiwiZ2V0RmllbGRNYXNrIiwiX19QUklWQVRFX1ZlcmlmeU11dGF0aW9uIiwiTXV0YXRpb25CYXRjaCIsImxvY2FsV3JpdGVUaW1lIiwiYmFzZU11dGF0aW9ucyIsIm11dGF0aW9ucyIsImFwcGx5VG9SZW1vdGVEb2N1bWVudCIsIm11dGF0aW9uUmVzdWx0cyIsImFwcGx5VG9Mb2NhbFZpZXciLCJhcHBseVRvTG9jYWxEb2N1bWVudFNldCIsIm11dGF0ZWRGaWVsZHMiLCJNdXRhdGlvbkJhdGNoUmVzdWx0IiwiYmF0Y2giLCJjb21taXRWZXJzaW9uIiwiZG9jVmVyc2lvbnMiLCJPdmVybGF5IiwibXV0YXRpb24iLCJnZXRLZXkiLCJfX1BSSVZBVEVfQWdncmVnYXRlSW1wbCIsImFsaWFzIiwiYWdncmVnYXRlVHlwZSIsIkV4aXN0ZW5jZUZpbHRlciIsInVuY2hhbmdlZE5hbWVzIiwiX19QUklWQVRFX2lzUGVybWFuZW50RXJyb3IiLCJfX1BSSVZBVEVfbWFwQ29kZUZyb21ScGNDb2RlIiwiX19QUklWQVRFX25ld1RleHRFbmNvZGVyIiwiVGV4dEVuY29kZXIiLCJJbnRlZ2VyIiwiX19QUklWQVRFX2dldE1kNUhhc2hWYWx1ZSIsImVuY29kZSIsIk1kNSIsInVwZGF0ZSIsImRpZ2VzdCIsIl9fUFJJVkFURV9nZXQ2NEJpdFVpbnRzIiwiRGF0YVZpZXciLCJidWZmZXIiLCJnZXRVaW50MzIiLCJCbG9vbUZpbHRlciIsImJpdG1hcCIsInBhZGRpbmciLCJoYXNoQ291bnQiLCJfX1BSSVZBVEVfQmxvb21GaWx0ZXJFcnJvciIsIkllIiwiVGUiLCJmcm9tTnVtYmVyIiwiRWUiLCJtdWx0aXBseSIsImNvbXBhcmUiLCJnZXRCaXRzIiwibW9kdWxvIiwiZGUiLCJtaWdodENvbnRhaW4iLCJjZWlsIiwiQWUiLCJSZW1vdGVFdmVudCIsInNuYXBzaG90VmVyc2lvbiIsInRhcmdldENoYW5nZXMiLCJ0YXJnZXRNaXNtYXRjaGVzIiwiZG9jdW1lbnRVcGRhdGVzIiwicmVzb2x2ZWRMaW1ib0RvY3VtZW50cyIsImNyZWF0ZVN5bnRoZXNpemVkUmVtb3RlRXZlbnRGb3JDdXJyZW50Q2hhbmdlIiwiVGFyZ2V0Q2hhbmdlIiwiY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlIiwicmVzdW1lVG9rZW4iLCJjdXJyZW50IiwiYWRkZWREb2N1bWVudHMiLCJtb2RpZmllZERvY3VtZW50cyIsInJlbW92ZWREb2N1bWVudHMiLCJfX1BSSVZBVEVfRG9jdW1lbnRXYXRjaENoYW5nZSIsIlJlIiwicmVtb3ZlZFRhcmdldElkcyIsIlZlIiwiX19QUklWQVRFX0V4aXN0ZW5jZUZpbHRlckNoYW5nZSIsInRhcmdldElkIiwibWUiLCJfX1BSSVZBVEVfV2F0Y2hUYXJnZXRDaGFuZ2UiLCJzdGF0ZSIsInRhcmdldElkcyIsImNhdXNlIiwiX19QUklWQVRFX1RhcmdldFN0YXRlIiwiZmUiLCJnZSIsIl9fUFJJVkFURV9zbmFwc2hvdENoYW5nZXNNYXAiLCJwZSIsInllIiwid2UiLCJTZSIsImJlIiwiRGUiLCJDZSIsInZlIiwiRmUiLCJNZSIsInhlIiwiT2UiLCJOZSIsIl9fUFJJVkFURV9XYXRjaENoYW5nZUFnZ3JlZ2F0b3IiLCJMZSIsIkJlIiwia2UiLCJxZSIsIl9fUFJJVkFURV9kb2N1bWVudFRhcmdldE1hcCIsIlFlIiwiS2UiLCIkZSIsIlVlIiwiV2UiLCJmb3JFYWNoVGFyZ2V0IiwiR2UiLCJ6ZSIsInJlbW92ZVRhcmdldCIsImplIiwiSGUiLCJKZSIsIlllIiwiWmUiLCJYZSIsImV0IiwibG9jYWxDYWNoZUNvdW50IiwiZXhpc3RlbmNlRmlsdGVyQ291bnQiLCJibG9vbUZpbHRlciIsImFwcGxpZWQiLCJiaXRtYXBMZW5ndGgiLCJiaXRzIiwidHQiLCJudCIsImdldFJlbW90ZUtleXNGb3JUYXJnZXQiLCJydCIsIml0IiwicHVycG9zZSIsInN0Iiwib3QiLCJhc2MiLCJkZXNjIiwiaW4iLCJhbmQiLCJKc29uUHJvdG9TZXJpYWxpemVyIiwiX19QUklWQVRFX3RvSW50MzJQcm90byIsIl9fUFJJVkFURV90b0J5dGVzIiwiX19QUklWQVRFX3RvVmVyc2lvbiIsIl9fUFJJVkFURV9mcm9tVmVyc2lvbiIsIl9fUFJJVkFURV90b1Jlc291cmNlTmFtZSIsIl9fUFJJVkFURV90b1Jlc291cmNlUGF0aCIsIl9fUFJJVkFURV9mcm9tUmVzb3VyY2VOYW1lIiwiX19QUklWQVRFX2lzVmFsaWRSZXNvdXJjZU5hbWUiLCJfX1BSSVZBVEVfdG9OYW1lIiwiX19QUklWQVRFX2V4dHJhY3RMb2NhbFBhdGhGcm9tUmVzb3VyY2VOYW1lIiwiX19QUklWQVRFX3RvUXVlcnlQYXRoIiwiX19QUklWQVRFX2Zyb21RdWVyeVBhdGgiLCJfX1BSSVZBVEVfZ2V0RW5jb2RlZERhdGFiYXNlSWQiLCJfX1BSSVZBVEVfdG9NdXRhdGlvbkRvY3VtZW50IiwiX19QUklWQVRFX2Zyb21Eb2N1bWVudCIsInRvTXV0YXRpb24iLCJ1cGRhdGVNYXNrIiwiX19QUklWQVRFX3RvRG9jdW1lbnRNYXNrIiwidmVyaWZ5IiwidXBkYXRlVHJhbnNmb3JtcyIsInNldFRvU2VydmVyVmFsdWUiLCJhcHBlbmRNaXNzaW5nRWxlbWVudHMiLCJyZW1vdmVBbGxGcm9tQXJyYXkiLCJpbmNyZW1lbnQiLCJjdXJyZW50RG9jdW1lbnQiLCJfX1BSSVZBVEVfZnJvbU11dGF0aW9uIiwiZmllbGRQYXRocyIsIl9fUFJJVkFURV90b0RvY3VtZW50c1RhcmdldCIsImRvY3VtZW50cyIsIl9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0Iiwic3RydWN0dXJlZFF1ZXJ5IiwiY29sbGVjdGlvbklkIiwiYWxsRGVzY2VuZGFudHMiLCJwYXJlbnQiLCJfX1BSSVZBVEVfdG9GaWx0ZXIiLCJ3aGVyZSIsIl9fUFJJVkFURV90b0ZpZWxkUGF0aFJlZmVyZW5jZSIsImRpcmVjdGlvbiIsIl9fUFJJVkFURV90b0RpcmVjdGlvbiIsImJlZm9yZSIsIl90IiwiX19QUklWQVRFX3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QiLCJhdmciLCJzdW0iLCJyZXF1ZXN0Iiwic3RydWN0dXJlZEFnZ3JlZ2F0aW9uUXVlcnkiLCJhZ2dyZWdhdGlvbnMiLCJ1dCIsIl9fUFJJVkFURV9jb252ZXJ0UXVlcnlUYXJnZXRUb1F1ZXJ5IiwiX19QUklWQVRFX2Zyb21GaWx0ZXIiLCJfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZSIsInVuYXJ5RmlsdGVyIiwiZmllbGRGaWx0ZXIiLCJjb21wb3NpdGVGaWx0ZXIiLCJfX1BSSVZBVEVfdG9PcGVyYXRvck5hbWUiLCJfX1BSSVZBVEVfdG9Db21wb3NpdGVPcGVyYXRvck5hbWUiLCJUYXJnZXREYXRhIiwibGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbiIsImV4cGVjdGVkQ291bnQiLCJ3aXRoU2VxdWVuY2VOdW1iZXIiLCJ3aXRoUmVzdW1lVG9rZW4iLCJ3aXRoRXhwZWN0ZWRDb3VudCIsIndpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uIiwiX19QUklWQVRFX0xvY2FsU2VyaWFsaXplciIsImN0IiwiX19QUklWQVRFX3RvRGJSZW1vdGVEb2N1bWVudCIsInByZWZpeFBhdGgiLCJkb2N1bWVudElkIiwiX19QUklWQVRFX3RvRGJUaW1lc3RhbXBLZXkiLCJub0RvY3VtZW50IiwiX19QUklWQVRFX3RvRGJUaW1lc3RhbXAiLCJ1bmtub3duRG9jdW1lbnQiLCJfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wIiwiX19QUklWQVRFX2Zyb21EYk11dGF0aW9uQmF0Y2giLCJsb2NhbFdyaXRlVGltZU1zIiwiX19QUklWQVRFX2Zyb21EYlRhcmdldCIsInF1ZXJ5IiwibGFzdExpc3RlblNlcXVlbmNlTnVtYmVyIiwiX19QUklWQVRFX3RvRGJUYXJnZXQiLCJfX1BSSVZBVEVfZnJvbUJ1bmRsZWRRdWVyeSIsIl9fUFJJVkFURV9mcm9tRGJEb2N1bWVudE92ZXJsYXkiLCJvdmVybGF5TXV0YXRpb24iLCJfX1BSSVZBVEVfdG9EYkRvY3VtZW50T3ZlcmxheUtleSIsIl9fUFJJVkFURV90b0RiSW5kZXhTdGF0ZSIsIl9fUFJJVkFURV9JbmRleGVkRGJCdW5kbGVDYWNoZSIsImdldEJ1bmRsZU1ldGFkYXRhIiwiX19QUklWQVRFX2J1bmRsZXNTdG9yZSIsImlkIiwiYnVuZGxlSWQiLCJzYXZlQnVuZGxlTWV0YWRhdGEiLCJnZXROYW1lZFF1ZXJ5IiwiX19QUklWQVRFX25hbWVkUXVlcmllc1N0b3JlIiwiYnVuZGxlZFF1ZXJ5Iiwic2F2ZU5hbWVkUXVlcnkiLCJfX1BSSVZBVEVfSW5kZXhlZERiRG9jdW1lbnRPdmVybGF5Q2FjaGUiLCJ1c2VySWQiLCJsdCIsImdldE92ZXJsYXkiLCJfX1BSSVZBVEVfZG9jdW1lbnRPdmVybGF5U3RvcmUiLCJnZXRPdmVybGF5cyIsInNhdmVPdmVybGF5cyIsImh0IiwicmVtb3ZlT3ZlcmxheXNGb3JCYXRjaElkIiwiSURCS2V5UmFuZ2UiLCJib3VuZCIsImdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbiIsIlBPU0lUSVZFX0lORklOSVRZIiwiZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uR3JvdXAiLCJjb2xsZWN0aW9uUGF0aCIsIl9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyIiwiUHQiLCJJdCIsIlR0IiwiRXQiLCJkdCIsIkF0IiwiUnQiLCJWdCIsImZ0IiwiZ3QiLCJ5dCIsInd0IiwiU3QiLCJfX1BSSVZBVEVfbnVtYmVyT2ZMZWFkaW5nWmVyb3NJbkJ5dGUiLCJfX1BSSVZBVEVfdW5zaWduZWROdW1MZW5ndGgiLCJidCIsIl9fUFJJVkFURV9PcmRlcmVkQ29kZVdyaXRlciIsIkR0IiwiQ3QiLCJ2dCIsIkZ0IiwiTXQiLCJ4dCIsIk90IiwiY29kZVBvaW50QXQiLCJOdCIsIkx0IiwiQnQiLCJrdCIsInF0IiwiUXQiLCJLdCIsIiR0IiwiVXQiLCJyZXNldCIsInNlZWQiLCJXdCIsIkFycmF5QnVmZmVyIiwic2V0RmxvYXQ2NCIsIl9fUFJJVkFURV9Bc2NlbmRpbmdJbmRleEJ5dGVFbmNvZGVyIiwiR3QiLCJfX1BSSVZBVEVfRGVzY2VuZGluZ0luZGV4Qnl0ZUVuY29kZXIiLCJfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2RlciIsInp0IiwianQiLCJIdCIsIl9fUFJJVkFURV9JbmRleEVudHJ5IiwiZGlyZWN0aW9uYWxWYWx1ZSIsIkp0IiwiX19QUklWQVRFX2luZGV4RW50cnlDb21wYXJhdG9yIiwiX19QUklWQVRFX2NvbXBhcmVCeXRlQXJyYXlzIiwiX19QUklWQVRFX1RhcmdldEluZGV4TWF0Y2hlciIsIll0IiwiWnQiLCJYdCIsImVuIiwidG4iLCJubiIsInJuIiwic24iLCJvbiIsIl9fUFJJVkFURV9jb21wdXRlSW5FeHBhbnNpb24iLCJfX1BSSVZBVEVfZ2V0RG5mVGVybXMiLCJfX1BSSVZBVEVfY29tcHV0ZURpc3RyaWJ1dGVkTm9ybWFsRm9ybSIsIl9fUFJJVkFURV9pc0Rpc2p1bmN0aXZlTm9ybWFsRm9ybSIsIl9fUFJJVkFURV9pc1NpbmdsZUZpZWxkRmlsdGVyIiwiX19QUklWQVRFX2lzRmxhdENvbmp1bmN0aW9uIiwiX19QUklWQVRFX2FwcGx5QXNzb2NpYXRpb24iLCJfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb24iLCJfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEFuZENvbXBvc2l0ZUZpbHRlcnMiLCJfX1BSSVZBVEVfTWVtb3J5SW5kZXhNYW5hZ2VyIiwiX24iLCJfX1BSSVZBVEVfTWVtb3J5Q29sbGVjdGlvblBhcmVudEluZGV4IiwiYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgiLCJnZXRDb2xsZWN0aW9uUGFyZW50cyIsImdldEVudHJpZXMiLCJhZGRGaWVsZEluZGV4IiwiZGVsZXRlRmllbGRJbmRleCIsImRlbGV0ZUFsbEZpZWxkSW5kZXhlcyIsImNyZWF0ZVRhcmdldEluZGV4ZXMiLCJnZXREb2N1bWVudHNNYXRjaGluZ1RhcmdldCIsImdldEluZGV4VHlwZSIsImdldEZpZWxkSW5kZXhlcyIsImdldE1pbk9mZnNldCIsIl9fUFJJVkFURV9JbmRleGVkRGJJbmRleE1hbmFnZXIiLCJhbiIsInVuIiwiX19QUklWQVRFX2NvbGxlY3Rpb25QYXJlbnRzU3RvcmUiLCJfX1BSSVZBVEVfaW5kZXhDb25maWd1cmF0aW9uU3RvcmUiLCJfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlIiwiX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlIiwiY24iLCJsbiIsImhuIiwiUG4iLCJJbiIsIlRuIiwiRW4iLCJkbiIsImNyZWF0ZVJhbmdlIiwiQW4iLCJSbiIsIlZuIiwibW4iLCJmbiIsImduIiwicG4iLCJ5biIsInduIiwiU24iLCJvcmRlcmVkRG9jdW1lbnRLZXkiLCJibiIsIm9ubHkiLCJ1cHBlckJvdW5kIiwiRG4iLCJfX1BSSVZBVEVfZ2V0TWluT2Zmc2V0RnJvbUZpZWxkSW5kZXhlcyIsImRpZFJ1biIsInNlcXVlbmNlTnVtYmVyc0NvbGxlY3RlZCIsInRhcmdldHNSZW1vdmVkIiwiZG9jdW1lbnRzUmVtb3ZlZCIsIkxydVBhcmFtcyIsImNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQiLCJwZXJjZW50aWxlVG9Db2xsZWN0IiwibWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdCIsIndpdGhDYWNoZVNpemUiLCJERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSIsIkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVCIsInJlbW92ZU11dGF0aW9uQmF0Y2giLCJfX1BSSVZBVEVfZGJEb2N1bWVudFNpemUiLCJERUZBVUxUIiwiRElTQUJMRUQiLCJfX1BSSVZBVEVfSW5kZXhlZERiTXV0YXRpb25RdWV1ZSIsInJlZmVyZW5jZURlbGVnYXRlIiwiQ24iLCJjaGVja0VtcHR5IiwiTkVHQVRJVkVfSU5GSU5JVFkiLCJfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUiLCJhZGRNdXRhdGlvbkJhdGNoIiwiX19QUklWQVRFX2RvY3VtZW50TXV0YXRpb25zU3RvcmUiLCJsb29rdXBNdXRhdGlvbkJhdGNoIiwidm4iLCJnZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZCIsImxvd2VyQm91bmQiLCJnZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkIiwiZ2V0QWxsTXV0YXRpb25CYXRjaGVzIiwiZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXkiLCJnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXMiLCJGbiIsImdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5IiwiTW4iLCJtYXJrUG90ZW50aWFsbHlPcnBoYW5lZCIsInBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrIiwiY29udGFpbnNLZXkiLCJfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZUNvbnRhaW5zS2V5IiwieG4iLCJfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZXNTdG9yZSIsImxhc3RBY2tub3dsZWRnZWRCYXRjaElkIiwibGFzdFN0cmVhbVRva2VuIiwiX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yIiwiT24iLCJObiIsIkxuIiwiX19QUklWQVRFX0luZGV4ZWREYlRhcmdldENhY2hlIiwiYWxsb2NhdGVUYXJnZXRJZCIsIkJuIiwiaGlnaGVzdFRhcmdldElkIiwia24iLCJnZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uIiwibGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiIsImdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlciIsImhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciIsInNldFRhcmdldHNNZXRhZGF0YSIsImFkZFRhcmdldERhdGEiLCJxbiIsInRhcmdldENvdW50IiwiUW4iLCJ1cGRhdGVUYXJnZXREYXRhIiwicmVtb3ZlVGFyZ2V0RGF0YSIsInJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkIiwiX19QUklWQVRFX3RhcmdldHNTdG9yZSIsInJlbW92ZVRhcmdldHMiLCJfX1BSSVZBVEVfZ2xvYmFsVGFyZ2V0U3RvcmUiLCJnZXRUYXJnZXRDb3VudCIsImdldFRhcmdldERhdGEiLCJhZGRNYXRjaGluZ0tleXMiLCJfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZSIsImFkZFJlZmVyZW5jZSIsInJlbW92ZU1hdGNoaW5nS2V5cyIsInJlbW92ZVJlZmVyZW5jZSIsImdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkIiwiX19QUklWQVRFX2J1ZmZlckVudHJ5Q29tcGFyYXRvciIsIl9fUFJJVkFURV9Sb2xsaW5nU2VxdWVuY2VOdW1iZXJCdWZmZXIiLCJLbiIsIiRuIiwiVW4iLCJXbiIsIm1heFZhbHVlIiwiX19QUklWQVRFX0xydVNjaGVkdWxlciIsImdhcmJhZ2VDb2xsZWN0b3IiLCJHbiIsInBhcmFtcyIsInpuIiwiY29sbGVjdEdhcmJhZ2UiLCJfX1BSSVZBVEVfTHJ1R2FyYmFnZUNvbGxlY3RvckltcGwiLCJqbiIsImNhbGN1bGF0ZVRhcmdldENvdW50IiwiSG4iLCJudGhTZXF1ZW5jZU51bWJlciIsIkpuIiwicmVtb3ZlT3JwaGFuZWREb2N1bWVudHMiLCJjb2xsZWN0IiwiZ2V0Q2FjaGVTaXplIiwiWW4iLCJfX1BSSVZBVEVfbmV3THJ1R2FyYmFnZUNvbGxlY3RvciIsIl9fUFJJVkFURV9JbmRleGVkRGJMcnVEZWxlZ2F0ZUltcGwiLCJabiIsImdldFRhcmdldENhY2hlIiwiWG4iLCJfX1BSSVZBVEVfd3JpdGVTZW50aW5lbEtleSIsImVyIiwiZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSIsIm5ld0NoYW5nZUJ1ZmZlciIsImdldEVudHJ5IiwicmVtb3ZlRW50cnkiLCJhcHBseSIsInVwZGF0ZUxpbWJvRG9jdW1lbnQiLCJnZXRTaXplIiwiUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIiLCJjaGFuZ2VzQXBwbGllZCIsImFkZEVudHJ5IiwiYXNzZXJ0Tm90QXBwbGllZCIsImdldEZyb21DYWNoZSIsImdldEFsbEZyb21DYWNoZSIsIl9fUFJJVkFURV9JbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlSW1wbCIsInNldEluZGV4TWFuYWdlciIsIl9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZSIsInVwZGF0ZU1ldGFkYXRhIiwiZ2V0TWV0YWRhdGEiLCJieXRlU2l6ZSIsInRyIiwiX19QUklWQVRFX2RiS2V5IiwibnIiLCJyciIsImlyIiwic3IiLCJfciIsIl9fUFJJVkFURV9kYktleUNvbXBhcmF0b3IiLCJnZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5IiwiaW5jcmVtZW50RG9jdW1lbnRSZWFkQ291bnQiLCJnZXRBbGxGcm9tQ29sbGVjdGlvbkdyb3VwIiwiX19QUklWQVRFX2RiQ29sbGVjdGlvbkdyb3VwS2V5IiwiX19QUklWQVRFX0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyIiwidHJhY2tSZW1vdmFscyIsIl9fUFJJVkFURV9kb2N1bWVudEdsb2JhbFN0b3JlIiwiX19QUklWQVRFX2Zyb21EYlJlbW90ZURvY3VtZW50IiwiX19QUklWQVRFX25ld0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGUiLCJhciIsInVyIiwiT3ZlcmxheWVkRG9jdW1lbnQiLCJMb2NhbERvY3VtZW50c1ZpZXciLCJyZW1vdGVEb2N1bWVudENhY2hlIiwibXV0YXRpb25RdWV1ZSIsImRvY3VtZW50T3ZlcmxheUNhY2hlIiwiZ2V0RG9jdW1lbnQiLCJnZXREb2N1bWVudHMiLCJnZXRMb2NhbFZpZXdPZkRvY3VtZW50cyIsInBvcHVsYXRlT3ZlcmxheXMiLCJjb21wdXRlVmlld3MiLCJnZXRPdmVybGF5ZWREb2N1bWVudHMiLCJyZWNhbGN1bGF0ZUFuZFNhdmVPdmVybGF5cyIsInJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzIiwiZ2V0RG9jdW1lbnRzTWF0Y2hpbmdEb2N1bWVudFF1ZXJ5IiwiZ2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uR3JvdXBRdWVyeSIsImdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvblF1ZXJ5IiwiX19QUklWQVRFX01lbW9yeUJ1bmRsZUNhY2hlIiwiY3IiLCJsciIsIl9fUFJJVkFURV9NZW1vcnlEb2N1bWVudE92ZXJsYXlDYWNoZSIsIm92ZXJsYXlzIiwiaHIiLCJfX1BSSVZBVEVfUmVmZXJlbmNlU2V0IiwiUHIiLCJfX1BSSVZBVEVfRG9jUmVmZXJlbmNlIiwiSXIiLCJUciIsIkVyIiwiZHIiLCJBciIsIlJyIiwiVnIiLCJtciIsImdyIiwicHIiLCJfX1BSSVZBVEVfTWVtb3J5TXV0YXRpb25RdWV1ZSIsInlyIiwid3IiLCJTciIsImJyIiwiRHIiLCJDciIsInNoaWZ0IiwiX19QUklWQVRFX01lbW9yeVJlbW90ZURvY3VtZW50Q2FjaGVJbXBsIiwidnIiLCJGciIsIl9fUFJJVkFURV9NZW1vcnlSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciIsIl9fUFJJVkFURV9NZW1vcnlUYXJnZXRDYWNoZSIsIk1yIiwiT3IiLCJOciIsIkxyIiwiX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlIiwiQnIiLCJrciIsInFyIiwiUXIiLCJLciIsIiRyIiwic2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXIiLCJzZXROZXR3b3JrRW5hYmxlZCIsImdldEluZGV4TWFuYWdlciIsImdldERvY3VtZW50T3ZlcmxheUNhY2hlIiwiZ2V0TXV0YXRpb25RdWV1ZSIsImdldEJ1bmRsZUNhY2hlIiwiX19QUklWQVRFX01lbW9yeVRyYW5zYWN0aW9uIiwiVXIiLCJXciIsIkdyIiwiX19QUklWQVRFX01lbW9yeUVhZ2VyRGVsZWdhdGUiLCJ6ciIsImpyIiwiSHIiLCJKciIsIllyIiwiX19QUklWQVRFX01lbW9yeUxydURlbGVnYXRlIiwiWnIiLCJfX1BSSVZBVEVfU2NoZW1hQ29udmVydGVyIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsIl9fUFJJVkFURV9jcmVhdGVRdWVyeUNhY2hlIiwiZGVsZXRlT2JqZWN0U3RvcmUiLCJYciIsImVpIiwidGkiLCJuaSIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsInJpIiwiaWkiLCJzaSIsIl9fUFJJVkFURV9JbmRleGVkRGJQZXJzaXN0ZW5jZSIsImFsbG93VGFiU3luY2hyb25pemF0aW9uIiwiY2xpZW50SWQiLCJvaSIsIl9pIiwiYWkiLCJ1aSIsImlzUHJpbWFyeSIsIm5ldHdvcmtFbmFibGVkIiwiY2kiLCJpbkZvcmVncm91bmQiLCJsaSIsImhpIiwiUGkiLCJJaSIsIlRpIiwiRWkiLCJkaSIsIkFpIiwiUmkiLCJWaSIsIm1pIiwiZmkiLCJuZXdWZXJzaW9uIiwiZW5xdWV1ZUFuZEZvcmdldCIsIl9fUFJJVkFURV9jbGllbnRNZXRhZGF0YVN0b3JlIiwidXBkYXRlVGltZU1zIiwiZ2kiLCJwaSIsInlpIiwid2kiLCJfX1BSSVZBVEVfcHJpbWFyeUNsaWVudFN0b3JlIiwiU2kiLCJiaSIsIkRpIiwiQ2kiLCJ2aSIsInJlbW92ZUl0ZW0iLCJGaSIsIm93bmVySWQiLCJsZWFzZVRpbWVzdGFtcE1zIiwiTWkiLCJ4aSIsIk9pIiwiTmkiLCJMaSIsIkJpIiwia2kiLCJ2aXNpYmlsaXR5U3RhdGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNTYWZhcmkiLCJuYXZpZ2F0b3IiLCJhcHBWZXJzaW9uIiwidXNlckFnZW50IiwiZW50ZXJSZXN0cmljdGVkTW9kZSIsIl9fUFJJVkFURV9pbmRleGVkRGJTdG9yYWdlUHJlZml4IiwiX19QUklWQVRFX0xvY2FsVmlld0NoYW5nZXMiLCJmcm9tQ2FjaGUiLCJxaSIsIlFpIiwiS2kiLCJkb2NDaGFuZ2VzIiwiUXVlcnlDb250ZXh0IiwiX2RvY3VtZW50UmVhZENvdW50IiwiZG9jdW1lbnRSZWFkQ291bnQiLCJfX1BSSVZBVEVfUXVlcnlFbmdpbmUiLCIkaSIsIlVpIiwiV2kiLCJHaSIsInppIiwiamkiLCJIaSIsIkppIiwiWWkiLCJaaSIsIlhpIiwiZXMiLCJfX1BSSVZBVEVfTG9jYWxTdG9yZUltcGwiLCJ0cyIsIm5zIiwicnMiLCJzcyIsIm9zIiwiX3MiLCJfX1BSSVZBVEVfbmV3TG9jYWxTdG9yZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlSGFuZGxlVXNlckNoYW5nZSIsInVzIiwicmVtb3ZlZEJhdGNoSWRzIiwiYWRkZWRCYXRjaElkcyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiIsIl9fUFJJVkFURV9wb3B1bGF0ZURvY3VtZW50Q2hhbmdlQnVmZmVyIiwiY3MiLCJscyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TmV4dE11dGF0aW9uQmF0Y2giLCJfX1BSSVZBVEVfbG9jYWxTdG9yZUFsbG9jYXRlVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVFeGVjdXRlUXVlcnkiLCJfX1BSSVZBVEVfc2V0TWF4UmVhZFRpbWUiLCJocyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0Q2FjaGVkVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXdEb2N1bWVudENoYW5nZXMiLCJfX1BSSVZBVEVfbG9jYWxTdG9yZVNhdmVOYW1lZFF1ZXJ5IiwiY3JlYXRlV2ViU3RvcmFnZUNsaWVudFN0YXRlS2V5IiwiY3JlYXRlV2ViU3RvcmFnZU11dGF0aW9uQmF0Y2hLZXkiLCJjcmVhdGVXZWJTdG9yYWdlUXVlcnlUYXJnZXRNZXRhZGF0YUtleSIsIl9fUFJJVkFURV9NdXRhdGlvbk1ldGFkYXRhIiwiRXMiLCJwYXJzZSIsImRzIiwiX19QUklWQVRFX1F1ZXJ5VGFyZ2V0TWV0YWRhdGEiLCJfX1BSSVZBVEVfUmVtb3RlQ2xpZW50U3RhdGUiLCJhY3RpdmVUYXJnZXRJZHMiLCJfX1BSSVZBVEVfU2hhcmVkT25saW5lU3RhdGUiLCJvbmxpbmVTdGF0ZSIsIl9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlIiwiQXMiLCJScyIsIl9fUFJJVkFURV9XZWJTdG9yYWdlU2hhcmVkQ2xpZW50U3RhdGUiLCJWcyIsInN5bmNFbmdpbmUiLCJvbmxpbmVTdGF0ZUhhbmRsZXIiLCJmcyIsImdzIiwiYmluZCIsInBzIiwieXMiLCJzdG9yYWdlIiwid3MiLCJTcyIsImJzIiwiRHMiLCJDcyIsInZzIiwiRnMiLCJNcyIsInhzIiwiT3MiLCJnZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMiLCJOcyIsImlzQWN0aXZlUXVlcnlUYXJnZXQiLCJhZGRQZW5kaW5nTXV0YXRpb24iLCJMcyIsInVwZGF0ZU11dGF0aW9uU3RhdGUiLCJCcyIsImFkZExvY2FsUXVlcnlUYXJnZXQiLCJrcyIsInJlbW92ZUxvY2FsUXVlcnlUYXJnZXQiLCJpc0xvY2FsUXVlcnlUYXJnZXQiLCJjbGVhclF1ZXJ5U3RhdGUiLCJ1cGRhdGVRdWVyeVN0YXRlIiwicXMiLCJoYW5kbGVVc2VyQ2hhbmdlIiwic2V0T25saW5lU3RhdGUiLCJRcyIsIm5vdGlmeUJ1bmRsZUxvYWRlZCIsIktzIiwic3RvcmFnZUFyZWEiLCJuZXdWYWx1ZSIsIiRzIiwiVXMiLCJXcyIsIkdzIiwienMiLCJqcyIsIkhzIiwiSnMiLCJZcyIsIlpzIiwiWHMiLCJlbyIsIl9fUFJJVkFURV9NZW1vcnlTaGFyZWRDbGllbnRTdGF0ZSIsIm5vIiwicm8iLCJfX1BSSVZBVEVfTm9vcENvbm5lY3Rpdml0eU1vbml0b3IiLCJpbyIsIl9fUFJJVkFURV9Ccm93c2VyQ29ubmVjdGl2aXR5TW9uaXRvciIsInNvIiwib28iLCJfbyIsImFvIiwidW8iLCJjbyIsIl9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQiLCJyb3VuZCIsIkJhdGNoR2V0RG9jdW1lbnRzIiwiQ29tbWl0IiwiUnVuUXVlcnkiLCJSdW5BZ2dyZWdhdGlvblF1ZXJ5IiwiX19QUklWQVRFX1N0cmVhbUJyaWRnZSIsImxvIiwiaG8iLCJQbyIsIklvIiwiVG8iLCJFbyIsIkFvIiwiUm8iLCJvbk1lc3NhZ2UiLCJWbyIsInNlbmQiLCJtbyIsImZvIiwicG8iLCJ5byIsIl9fUFJJVkFURV9XZWJDaGFubmVsQ29ubmVjdGlvbiIsImRhdGFiYXNlSW5mbyIsIndvIiwiU28iLCJibyIsIkRvIiwiQ28iLCJ2byIsIkZvIiwiTW8iLCJ4byIsInRlcm1pbmF0ZSIsIlhocklvIiwic2V0V2l0aENyZWRlbnRpYWxzIiwibGlzdGVuT25jZSIsIkV2ZW50VHlwZSIsIkNPTVBMRVRFIiwiZ2V0TGFzdEVycm9yQ29kZSIsIkVycm9yQ29kZSIsIk5PX0VSUk9SIiwiZ2V0UmVzcG9uc2VKc29uIiwiVElNRU9VVCIsIkhUVFBfRVJST1IiLCJnZXRTdGF0dXMiLCJnZXRSZXNwb25zZVRleHQiLCJzdGF0dXMiLCJPbyIsImNyZWF0ZVdlYkNoYW5uZWxUcmFuc3BvcnQiLCJnZXRTdGF0RXZlbnRUYXJnZXQiLCJodHRwU2Vzc2lvbklkUGFyYW0iLCJpbml0TWVzc2FnZUhlYWRlcnMiLCJtZXNzYWdlVXJsUGFyYW1zIiwic2VuZFJhd0pzb24iLCJzdXBwb3J0c0Nyb3NzRG9tYWluWGhyIiwiaW50ZXJuYWxDaGFubmVsUGFyYW1zIiwiZm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zIiwiZGV0ZWN0QnVmZmVyaW5nUHJveHkiLCJ0aW1lb3V0U2Vjb25kcyIsImxvbmdQb2xsaW5nVGltZW91dCIsInhtbEh0dHBGYWN0b3J5IiwiRmV0Y2hYbWxIdHRwRmFjdG9yeSIsImVuY29kZUluaXRNZXNzYWdlSGVhZGVycyIsImNyZWF0ZVdlYkNoYW5uZWwiLCJfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4iLCJsaXN0ZW4iLCJXZWJDaGFubmVsIiwiT1BFTiIsIkNMT1NFIiwiTUVTU0FHRSIsIkV2ZW50IiwiU1RBVF9FVkVOVCIsInN0YXQiLCJTdGF0IiwiUFJPWFkiLCJOT1BST1hZIiwiX19QUklWQVRFX2dldFdpbmRvdyIsIl9fUFJJVkFURV9uZXdTZXJpYWxpemVyIiwiX19QUklWQVRFX0V4cG9uZW50aWFsQmFja29mZiIsInRpbWVySWQiLCJObyIsIkxvIiwiQm8iLCJrbyIsInFvIiwiUW8iLCJLbyIsIiRvIiwiVW8iLCJXbyIsInNraXBEZWxheSIsIl9fUFJJVkFURV9QZXJzaXN0ZW50U3RyZWFtIiwiR28iLCJ6byIsImNvbm5lY3Rpb24iLCJhdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsImFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlciIsImxpc3RlbmVyIiwiam8iLCJIbyIsIkpvIiwic3RyZWFtIiwiWW8iLCJabyIsIlhvIiwiZV8iLCJ0XyIsIm5fIiwicl8iLCJpXyIsInNfIiwib18iLCJfXyIsImFfIiwidV8iLCJjXyIsImxfIiwiX19QUklWQVRFX1BlcnNpc3RlbnRMaXN0ZW5TdHJlYW0iLCJ0YXJnZXRDaGFuZ2UiLCJ0YXJnZXRDaGFuZ2VUeXBlIiwiQnVmZmVyIiwiZG9jdW1lbnRDaGFuZ2UiLCJkb2N1bWVudERlbGV0ZSIsImRvY3VtZW50UmVtb3ZlIiwiX19QUklWQVRFX2Zyb21XYXRjaENoYW5nZSIsImhfIiwiUF8iLCJhZGRUYXJnZXQiLCJfX1BSSVZBVEVfdG9MaXN0ZW5SZXF1ZXN0TGFiZWxzIiwibGFiZWxzIiwiSV8iLCJfX1BSSVZBVEVfUGVyc2lzdGVudFdyaXRlU3RyZWFtIiwiVF8iLCJFXyIsImRfIiwic3RyZWFtVG9rZW4iLCJfX1BSSVZBVEVfZnJvbVdyaXRlUmVzdWx0cyIsIndyaXRlUmVzdWx0cyIsImNvbW1pdFRpbWUiLCJBXyIsIlJfIiwiVl8iLCJ3cml0ZXMiLCJfX1BSSVZBVEVfRGF0YXN0b3JlSW1wbCIsImF1dGhDcmVkZW50aWFscyIsImFwcENoZWNrQ3JlZGVudGlhbHMiLCJtXyIsImZfIiwiX19QUklWQVRFX09ubGluZVN0YXRlVHJhY2tlciIsImdfIiwicF8iLCJ5XyIsIndfIiwiU18iLCJiXyIsIkRfIiwiQ18iLCJfX1BSSVZBVEVfUmVtb3RlU3RvcmVJbXBsIiwiZGF0YXN0b3JlIiwicmVtb3RlU3luY2VyIiwidl8iLCJGXyIsIk1fIiwieF8iLCJPXyIsIl9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrIiwiX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwiLCJOXyIsIl9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwiLCJfX1BSSVZBVEVfcmVtb3RlU3RvcmVMaXN0ZW4iLCJfX1BSSVZBVEVfc2hvdWxkU3RhcnRXYXRjaFN0cmVhbSIsIl9fUFJJVkFURV9zdGFydFdhdGNoU3RyZWFtIiwiX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtIiwiX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QiLCJfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbiIsIl9fUFJJVkFURV9zZW5kVW53YXRjaFJlcXVlc3QiLCJMXyIsIl9fUFJJVkFURV9jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZSIsIl9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ29ubmVjdGVkIiwiX19QUklWQVRFX29uV2F0Y2hTdHJlYW1PcGVuIiwiX19QUklWQVRFX29uV2F0Y2hTdHJlYW1DbG9zZSIsIl9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ2hhbmdlIiwicmVqZWN0TGlzdGVuIiwiX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeSIsImFwcGx5UmVtb3RlRXZlbnQiLCJfX1BSSVZBVEVfZXhlY3V0ZVdpdGhSZWNvdmVyeSIsIl9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZSIsIl9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbSIsIl9fUFJJVkFURV9jYW5BZGRUb1dyaXRlUGlwZWxpbmUiLCJfX1BSSVZBVEVfYWRkVG9Xcml0ZVBpcGVsaW5lIiwiX19QUklWQVRFX3Nob3VsZFN0YXJ0V3JpdGVTdHJlYW0iLCJfX1BSSVZBVEVfc3RhcnRXcml0ZVN0cmVhbSIsIl9fUFJJVkFURV9vbldyaXRlU3RyZWFtT3BlbiIsIl9fUFJJVkFURV9vbldyaXRlSGFuZHNoYWtlQ29tcGxldGUiLCJfX1BSSVZBVEVfb25NdXRhdGlvblJlc3VsdCIsImFwcGx5U3VjY2Vzc2Z1bFdyaXRlIiwiX19QUklWQVRFX29uV3JpdGVTdHJlYW1DbG9zZSIsInJlamVjdEZhaWxlZFdyaXRlIiwiX19QUklWQVRFX3JlbW90ZVN0b3JlSGFuZGxlQ3JlZGVudGlhbENoYW5nZSIsInZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MiLCJoYW5kbGVDcmVkZW50aWFsQ2hhbmdlIiwiX19QUklWQVRFX3JlbW90ZVN0b3JlQXBwbHlQcmltYXJ5U3RhdGUiLCJCXyIsImtfIiwiRGVsYXllZE9wZXJhdGlvbiIsInRhcmdldFRpbWVNcyIsInJlbW92YWxDYWxsYmFjayIsImNyZWF0ZUFuZFNjaGVkdWxlIiwidGltZXJIYW5kbGUiLCJoYW5kbGVEZWxheUVsYXBzZWQiLCJjbGVhclRpbWVvdXQiLCJfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZSIsIkRvY3VtZW50U2V0Iiwia2V5ZWRNYXAiLCJzb3J0ZWRTZXQiLCJlbXB0eVNldCIsIl9fUFJJVkFURV9Eb2N1bWVudENoYW5nZVNldCIsInFfIiwidHJhY2siLCJRXyIsIlZpZXdTbmFwc2hvdCIsIm9sZERvY3MiLCJtdXRhdGVkS2V5cyIsInN5bmNTdGF0ZUNoYW5nZWQiLCJleGNsdWRlc01ldGFkYXRhQ2hhbmdlcyIsImhhc0NhY2hlZFJlc3VsdHMiLCJmcm9tSW5pdGlhbERvY3VtZW50cyIsIl9fUFJJVkFURV9RdWVyeUxpc3RlbmVyc0luZm8iLCJLXyIsIlVfIiwiV18iLCJHXyIsIl9fUFJJVkFURV9FdmVudE1hbmFnZXJJbXBsIiwicXVlcmllcyIsInpfIiwiX19QUklWQVRFX2V2ZW50TWFuYWdlckxpc3RlbiIsIm9uTGlzdGVuIiwib25GaXJzdFJlbW90ZVN0b3JlTGlzdGVuIiwib25FcnJvciIsImpfIiwiSF8iLCJfX1BSSVZBVEVfcmFpc2VTbmFwc2hvdHNJblN5bmNFdmVudCIsIl9fUFJJVkFURV9ldmVudE1hbmFnZXJVbmxpc3RlbiIsIm9uVW5saXN0ZW4iLCJvbkxhc3RSZW1vdGVTdG9yZVVubGlzdGVuIiwiX19QUklWQVRFX2V2ZW50TWFuYWdlck9uV2F0Y2hDaGFuZ2UiLCJfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyT25XYXRjaEVycm9yIiwiSl8iLCJDYWNoZSIsIl9fUFJJVkFURV9RdWVyeUxpc3RlbmVyIiwiWV8iLCJaXyIsIlhfIiwiaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyIsImVhIiwidGEiLCJuYSIsInJhIiwic291cmNlIiwiX19QUklWQVRFX1NpemVkQnVuZGxlRWxlbWVudCIsImlhIiwiYnl0ZUxlbmd0aCIsInNhIiwiX19QUklWQVRFX0J1bmRsZUNvbnZlcnRlckltcGwiLCJQcyIsIklzIiwibWV0YWRhdGEiLCJUcyIsIl9fUFJJVkFURV9CdW5kbGVMb2FkZXIiLCJvYSIsImNvbGxlY3Rpb25Hcm91cHMiLCJwcm9ncmVzcyIsIl9fUFJJVkFURV9idW5kbGVJbml0aWFsUHJvZ3Jlc3MiLCJieXRlc0xvYWRlZCIsImRvY3VtZW50c0xvYWRlZCIsIm5hbWVkUXVlcnkiLCJkb2N1bWVudE1ldGFkYXRhIiwiYWEiLCJjb21wbGV0ZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlQXBwbHlCdW5kbGVkRG9jdW1lbnRzIiwidGFza1N0YXRlIiwidWEiLCJjYSIsInRvdGFsRG9jdW1lbnRzIiwidG90YWxCeXRlcyIsIl9fUFJJVkFURV9BZGRlZExpbWJvRG9jdW1lbnQiLCJfX1BSSVZBVEVfUmVtb3ZlZExpbWJvRG9jdW1lbnQiLCJfX1BSSVZBVEVfVmlldyIsImxhIiwiaGEiLCJQYSIsIklhIiwiVGEiLCJFYSIsImRhIiwiQWEiLCJSYSIsIm9yZGVyIiwiVmEiLCJtYSIsImZhIiwiZ2EiLCJwYSIsInlhIiwiX19QUklWQVRFX1F1ZXJ5VmlldyIsInZpZXciLCJMaW1ib1Jlc29sdXRpb24iLCJ3YSIsIl9fUFJJVkFURV9TeW5jRW5naW5lSW1wbCIsInJlbW90ZVN0b3JlIiwiZXZlbnRNYW5hZ2VyIiwic2hhcmVkQ2xpZW50U3RhdGUiLCJtYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9ucyIsIlNhIiwiYmEiLCJEYSIsIkNhIiwidmEiLCJGYSIsIk1hIiwieGEiLCJPYSIsIk5hIiwiTGEiLCJpc1ByaW1hcnlDbGllbnQiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUxpc3RlbiIsIl9fUFJJVkFURV9lbnN1cmVXYXRjaENhbGxiYWNrcyIsIl9fUFJJVkFURV9hbGxvY2F0ZVRhcmdldEFuZE1heWJlTGlzdGVuIiwiX19QUklWQVRFX3RyaWdnZXJSZW1vdGVTdG9yZUxpc3RlbiIsIl9fUFJJVkFURV9pbml0aWFsaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdCIsIkJhIiwiX19QUklWQVRFX3VwZGF0ZVRyYWNrZWRMaW1ib3MiLCJfX1BSSVZBVEVfc3luY0VuZ2luZVVubGlzdGVuIiwiX19QUklWQVRFX3JlbW92ZUFuZENsZWFudXBUYXJnZXQiLCJfX1BSSVZBVEVfdHJpZ2dlclJlbW90ZVN0b3JlVW5saXN0ZW4iLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UmVtb3RlRXZlbnQiLCJfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5UmVtb3RlRXZlbnRUb0xvY2FsQ2FjaGUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5T25saW5lU3RhdGVDaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZVJlamVjdExpc3RlbiIsIl9fUFJJVkFURV9wdW1wRW5xdWV1ZWRMaW1ib1Jlc29sdXRpb25zIiwiX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseVN1Y2Nlc3NmdWxXcml0ZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlQWNrbm93bGVkZ2VCYXRjaCIsIl9fUFJJVkFURV9wcm9jZXNzVXNlckNhbGxiYWNrIiwiX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzIiwiX19QUklWQVRFX3N5bmNFbmdpbmVSZWplY3RGYWlsZWRXcml0ZSIsImthIiwiX19QUklWQVRFX3JlbW92ZUxpbWJvVGFyZ2V0IiwiX19QUklWQVRFX3RyYWNrTGltYm9DaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUdldFJlbW90ZUtleXNGb3JUYXJnZXQiLCJfX1BSSVZBVEVfc3luY2hyb25pemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90IiwiX19QUklWQVRFX3N5bmNFbmdpbmVTeW5jaHJvbml6ZVdpdGhDaGFuZ2VkRG9jdW1lbnRzIiwiX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUJhdGNoU3RhdGUiLCJfX1BSSVZBVEVfc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMiLCJfX1BSSVZBVEVfc3ludGhlc2l6ZVRhcmdldFRvUXVlcnkiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUdldEFjdGl2ZUNsaWVudHMiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5VGFyZ2V0U3RhdGUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5QWN0aXZlVGFyZ2V0c0NoYW5nZSIsIl9fUFJJVkFURV9zeW5jRW5naW5lRW5zdXJlV3JpdGVDYWxsYmFja3MiLCJNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIiLCJzeW5jaHJvbml6ZVRhYnMiLCJjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZSIsImNyZWF0ZVBlcnNpc3RlbmNlIiwiY3JlYXRlTG9jYWxTdG9yZSIsImdjU2NoZWR1bGVyIiwiY3JlYXRlR2FyYmFnZUNvbGxlY3Rpb25TY2hlZHVsZXIiLCJpbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIiLCJjcmVhdGVJbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIiLCJpbml0aWFsVXNlciIsIl9fUFJJVkFURV9McnVHY01lbW9yeU9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsImNhY2hlU2l6ZUJ5dGVzIiwiX19QUklWQVRFX0luZGV4ZWREYk9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsIlFhIiwiZm9yY2VPd25lcnNoaXAiLCJfX1BSSVZBVEVfTXVsdGlUYWJPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UHJpbWFyeVN0YXRlIiwiT25saW5lQ29tcG9uZW50UHJvdmlkZXIiLCJjcmVhdGVEYXRhc3RvcmUiLCJjcmVhdGVSZW1vdGVTdG9yZSIsImNyZWF0ZUV2ZW50TWFuYWdlciIsImNyZWF0ZVN5bmNFbmdpbmUiLCJfX1BSSVZBVEVfdG9CeXRlU3RyZWFtUmVhZGVySGVscGVyIiwicmVsZWFzZUxvY2siLCJjbG9zZWQiLCJfX1BSSVZBVEVfQXN5bmNPYnNlcnZlciIsIm9ic2VydmVyIiwibXV0ZWQiLCJLYSIsIiRhIiwiX19QUklWQVRFX0J1bmRsZVJlYWRlckltcGwiLCJVYSIsIldhIiwiVGV4dERlY29kZXIiLCJHYSIsInFhIiwiemEiLCJkZWNvZGUiLCJqYSIsIkhhIiwiSmEiLCJmaW5kSW5kZXgiLCJZYSIsIlRyYW5zYWN0aW9uJDIiLCJyZWFkVmVyc2lvbnMiLCJjb21taXR0ZWQiLCJsYXN0VHJhbnNhY3Rpb25FcnJvciIsIndyaXR0ZW5Eb2NzIiwibG9va3VwIiwiZW5zdXJlQ29tbWl0Tm90Q2FsbGVkIiwiZm91bmQiLCJtaXNzaW5nIiwiX19QUklWQVRFX2Zyb21CYXRjaEdldERvY3VtZW50c1Jlc3BvbnNlIiwicmVjb3JkVmVyc2lvbiIsIndyaXRlIiwicHJlY29uZGl0aW9uRm9yVXBkYXRlIiwiX19QUklWQVRFX1RyYW5zYWN0aW9uUnVubmVyIiwidXBkYXRlRnVuY3Rpb24iLCJaYSIsIm1heEF0dGVtcHRzIiwiWGEiLCJldSIsInR1IiwibnUiLCJydSIsIkZpcmVzdG9yZUNsaWVudCIsImF1dGhDcmVkZW50aWFsTGlzdGVuZXIiLCJhcHBDaGVja0NyZWRlbnRpYWxMaXN0ZW5lciIsImNvbmZpZ3VyYXRpb24iLCJzZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIiLCJzZXRBcHBDaGVja1Rva2VuQ2hhbmdlTGlzdGVuZXIiLCJ2ZXJpZnlOb3RUZXJtaW5hdGVkIiwiaXNTaHV0dGluZ0Rvd24iLCJlbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZCIsIl9vbmxpbmVDb21wb25lbnRzIiwiX29mZmxpbmVDb21wb25lbnRzIiwiX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsIl9fUFJJVkFURV9zZXRPbmxpbmVDb21wb25lbnRQcm92aWRlciIsIl9fUFJJVkFURV9lbnN1cmVPZmZsaW5lQ29tcG9uZW50cyIsIl9fUFJJVkFURV9jYW5GYWxsYmFja0Zyb21JbmRleGVkRGJFcnJvciIsIl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyIiwiX29mZmxpbmUiLCJfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyIsIl9vbmxpbmUiLCJfX1BSSVZBVEVfZ2V0UGVyc2lzdGVuY2UiLCJfX1BSSVZBVEVfZ2V0TG9jYWxTdG9yZSIsIl9fUFJJVkFURV9nZXRSZW1vdGVTdG9yZSIsIl9fUFJJVkFURV9nZXRTeW5jRW5naW5lIiwiX19QUklWQVRFX2dldERhdGFzdG9yZSIsIl9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRWaWFTbmFwc2hvdExpc3RlbmVyIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c1ZpYVNuYXBzaG90TGlzdGVuZXIiLCJfX1BSSVZBVEVfY2xvbmVMb25nUG9sbGluZ09wdGlvbnMiLCJfX1BSSVZBVEVfdmFsaWRhdGVOb25FbXB0eUFyZ3VtZW50IiwiX19QUklWQVRFX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIiLCJfX1BSSVZBVEVfdmFsaWRhdGVEb2N1bWVudFBhdGgiLCJfX1BSSVZBVEVfdmFsaWRhdGVDb2xsZWN0aW9uUGF0aCIsIl9fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uIiwiX19QUklWQVRFX2Nhc3QiLCJfZGVsZWdhdGUiLCJfX1BSSVZBVEVfdmFsaWRhdGVQb3NpdGl2ZU51bWJlciIsIkZpcmVzdG9yZVNldHRpbmdzSW1wbCIsImNyZWRlbnRpYWxzIiwiaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyIsImxvY2FsQ2FjaGUiLCJleHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nIiwiZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nIiwiZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zIiwiRmlyZXN0b3JlJDEiLCJfYXV0aENyZWRlbnRpYWxzIiwiX2FwcENoZWNrQ3JlZGVudGlhbHMiLCJfZGF0YWJhc2VJZCIsIl9hcHAiLCJfcGVyc2lzdGVuY2VLZXkiLCJfc2V0dGluZ3MiLCJfc2V0dGluZ3NGcm96ZW4iLCJfaW5pdGlhbGl6ZWQiLCJfdGVybWluYXRlZCIsIl90ZXJtaW5hdGVUYXNrIiwiX3NldFNldHRpbmdzIiwic2Vzc2lvbkluZGV4IiwiaWFtVG9rZW4iLCJhdXRoVG9rZW5GYWN0b3J5IiwiY2xpZW50IiwiX2dldFNldHRpbmdzIiwiX2ZyZWV6ZVNldHRpbmdzIiwiX3Rlcm1pbmF0ZSIsImNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvciIsIm1vY2tVc2VyVG9rZW4iLCJjcmVhdGVNb2NrVXNlclRva2VuIiwic3ViIiwidXNlcl9pZCIsIlF1ZXJ5IiwiY29udmVydGVyIiwiX3F1ZXJ5IiwiZmlyZXN0b3JlIiwid2l0aENvbnZlcnRlciIsIkRvY3VtZW50UmVmZXJlbmNlIiwiX2tleSIsIl9wYXRoIiwiQ29sbGVjdGlvblJlZmVyZW5jZSIsImdldE1vZHVsYXJJbnN0YW5jZSIsInF1ZXJ5RXF1YWwiLCJfX1BSSVZBVEVfQXN5bmNRdWV1ZUltcGwiLCJpdSIsInN1Iiwib3UiLCJfdSIsImF1IiwidXUiLCJjdSIsImx1IiwiaHUiLCJlbnF1ZXVlIiwiUHUiLCJJdSIsIlR1Iiwic3RhY2siLCJpbmNsdWRlcyIsIkV1IiwiZHUiLCJBdSIsIlJ1IiwiVnUiLCJfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIiLCJMb2FkQnVuZGxlVGFzayIsIl9wcm9ncmVzc09ic2VydmVyIiwiX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIiLCJfbGFzdFByb2dyZXNzIiwib25Qcm9ncmVzcyIsIl9jb21wbGV0ZVdpdGgiLCJfdXBkYXRlUHJvZ3Jlc3MiLCJfZmFpbFdpdGgiLCJGaXJlc3RvcmUiLCJfcXVldWUiLCJfZmlyZXN0b3JlQ2xpZW50IiwiX19QUklWQVRFX2NvbmZpZ3VyZUZpcmVzdG9yZSIsImVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQiLCJfb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIiwiX29ubGluZUNvbXBvbmVudFByb3ZpZGVyIiwiX29mZmxpbmVLaW5kIiwiX19QUklWQVRFX3NldFBlcnNpc3RlbmNlUHJvdmlkZXJzIiwiX19QUklWQVRFX3ZlcmlmeU5vdEluaXRpYWxpemVkIiwiQWdncmVnYXRlRmllbGQiLCJfaW50ZXJuYWxGaWVsZFBhdGgiLCJBZ2dyZWdhdGVRdWVyeVNuYXBzaG90IiwiX3VzZXJEYXRhV3JpdGVyIiwiX2RhdGEiLCJjb252ZXJ0T2JqZWN0TWFwIiwiQnl0ZXMiLCJfYnl0ZVN0cmluZyIsIkZpZWxkUGF0aCIsIl9pbnRlcm5hbFBhdGgiLCJGaWVsZFZhbHVlIiwiX21ldGhvZE5hbWUiLCJHZW9Qb2ludCIsImlzRmluaXRlIiwiX2xhdCIsIl9sb25nIiwiUGFyc2VkU2V0RGF0YSIsIlBhcnNlZFVwZGF0ZURhdGEiLCJfX1BSSVZBVEVfaXNXcml0ZSIsIl9fUFJJVkFURV9QYXJzZUNvbnRleHRJbXBsIiwibXUiLCJmdSIsImd1IiwicHUiLCJ5dSIsInd1IiwiU3UiLCJidSIsIkR1IiwiX19QUklWQVRFX2NyZWF0ZUVycm9yIiwibWV0aG9kTmFtZSIsIkN1IiwidnUiLCJfX1BSSVZBVEVfVXNlckRhdGFSZWFkZXIiLCJGdSIsIl9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlciIsIl9fUFJJVkFURV9wYXJzZVNldERhdGEiLCJtZXJnZSIsIm1lcmdlRmllbGRzIiwiX19QUklWQVRFX3ZhbGlkYXRlUGxhaW5PYmplY3QiLCJfX1BSSVZBVEVfcGFyc2VPYmplY3QiLCJfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEiLCJfX1BSSVZBVEVfZmllbGRNYXNrQ29udGFpbnMiLCJfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGwiLCJfdG9GaWVsZFRyYW5zZm9ybSIsIl9fUFJJVkFURV9jcmVhdGVTZW50aW5lbENoaWxkQ29udGV4dCIsIl9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBGaWVsZFZhbHVlSW1wbCIsIl9fUFJJVkFURV9BcnJheVVuaW9uRmllbGRWYWx1ZUltcGwiLCJNdSIsIl9fUFJJVkFURV9wYXJzZURhdGEiLCJfX1BSSVZBVEVfQXJyYXlSZW1vdmVGaWVsZFZhbHVlSW1wbCIsIl9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50RmllbGRWYWx1ZUltcGwiLCJ4dSIsIl9fUFJJVkFURV9wYXJzZVVwZGF0ZURhdGEiLCJfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyIsIl9fUFJJVkFURV9wYXJzZVVwZGF0ZVZhcmFyZ3MiLCJfX1BSSVZBVEVfcGFyc2VRdWVyeVZhbHVlIiwiX19QUklWQVRFX2xvb2tzTGlrZUpzb25PYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsInNlYXJjaCIsIkRvY3VtZW50U25hcHNob3QkMSIsIl9maXJlc3RvcmUiLCJfZG9jdW1lbnQiLCJfY29udmVydGVyIiwicmVmIiwiUXVlcnlEb2N1bWVudFNuYXBzaG90JDEiLCJmcm9tRmlyZXN0b3JlIiwiY29udmVydFZhbHVlIiwiX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudCIsIl9fUFJJVkFURV92YWxpZGF0ZUhhc0V4cGxpY2l0T3JkZXJCeUZvckxpbWl0VG9MYXN0IiwiQXBwbGlhYmxlQ29uc3RyYWludCIsIlF1ZXJ5Q29uc3RyYWludCIsIlF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50IiwiX2ZpZWxkIiwiX29wIiwiX3ZhbHVlIiwiX2NyZWF0ZSIsIl9hcHBseSIsIl9wYXJzZSIsIl9fUFJJVkFURV92YWxpZGF0ZU5ld0ZpZWxkRmlsdGVyIiwiX19QUklWQVRFX3ZhbGlkYXRlRGlzanVuY3RpdmVGaWx0ZXJFbGVtZW50cyIsIl9fUFJJVkFURV9wYXJzZURvY3VtZW50SWRWYWx1ZSIsIlF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludCIsIl9xdWVyeUNvbnN0cmFpbnRzIiwiX2dldE9wZXJhdG9yIiwiX2dldFF1ZXJ5Q29uc3RyYWludHMiLCJRdWVyeU9yZGVyQnlDb25zdHJhaW50IiwiX2RpcmVjdGlvbiIsIlF1ZXJ5TGltaXRDb25zdHJhaW50IiwiX2xpbWl0IiwiX2xpbWl0VHlwZSIsIlF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQiLCJfZG9jT3JGaWVsZHMiLCJfaW5jbHVzaXZlIiwiX19QUklWQVRFX25ld1F1ZXJ5Qm91bmRGcm9tRG9jT3JGaWVsZHMiLCJRdWVyeUVuZEF0Q29uc3RyYWludCIsIl9fUFJJVkFURV92YWxpZGF0ZVF1ZXJ5RmlsdGVyQ29uc3RyYWludCIsIkFic3RyYWN0VXNlckRhdGFXcml0ZXIiLCJjb252ZXJ0VGltZXN0YW1wIiwiY29udmVydFNlcnZlclRpbWVzdGFtcCIsImNvbnZlcnRCeXRlcyIsImNvbnZlcnRSZWZlcmVuY2UiLCJjb252ZXJ0R2VvUG9pbnQiLCJjb252ZXJ0QXJyYXkiLCJjb252ZXJ0T2JqZWN0IiwiY29udmVydERvY3VtZW50S2V5IiwiX19QUklWQVRFX2FwcGx5RmlyZXN0b3JlRGF0YUNvbnZlcnRlciIsInRvRmlyZXN0b3JlIiwiX19QUklWQVRFX0xpdGVVc2VyRGF0YVdyaXRlciIsIlNuYXBzaG90TWV0YWRhdGEiLCJEb2N1bWVudFNuYXBzaG90IiwiX2ZpcmVzdG9yZUltcGwiLCJRdWVyeURvY3VtZW50U25hcHNob3QiLCJzZXJ2ZXJUaW1lc3RhbXBzIiwiUXVlcnlTbmFwc2hvdCIsIl9zbmFwc2hvdCIsIl9jYWNoZWRDaGFuZ2VzIiwiX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzIiwib2xkSW5kZXgiLCJuZXdJbmRleCIsIl9fUFJJVkFURV9yZXN1bHRDaGFuZ2VUeXBlIiwiX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyIiwiZXhlY3V0ZVdyaXRlIiwiX19QUklWQVRFX3N5bmNFbmdpbmVXcml0ZSIsIl9fUFJJVkFURV9jb252ZXJ0VG9Eb2NTbmFwc2hvdCIsImdldEFnZ3JlZ2F0ZUZyb21TZXJ2ZXIiLCJhZ2dyZWdhdGVGaWVsZHMiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50UnVuQWdncmVnYXRlUXVlcnkiLCJfX1BSSVZBVEVfTWVtb3J5TG9jYWxDYWNoZUltcGwiLCJfX1BSSVZBVEVfUGVyc2lzdGVudExvY2FsQ2FjaGVJbXBsIiwidGFiTWFuYWdlciIsIl9pbml0aWFsaXplIiwicGVyc2lzdGVudFNpbmdsZVRhYk1hbmFnZXIiLCJfX1BSSVZBVEVfTWVtb3J5RWFnZXJHYWJhZ2VDb2xsZWN0b3JJbXBsIiwiX19QUklWQVRFX01lbW9yeUxydUdhYmFnZUNvbGxlY3RvckltcGwiLCJfX1BSSVZBVEVfU2luZ2xlVGFiTWFuYWdlckltcGwiLCJfX1BSSVZBVEVfTXVsdGlUYWJNYW5hZ2VySW1wbCIsIldyaXRlQmF0Y2giLCJfY29tbWl0SGFuZGxlciIsIl9tdXRhdGlvbnMiLCJfY29tbWl0dGVkIiwiX2RhdGFSZWFkZXIiLCJfdmVyaWZ5Tm90Q29tbWl0dGVkIiwiX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlIiwiVHJhbnNhY3Rpb24iLCJfdHJhbnNhY3Rpb24iLCJfX1BSSVZBVEVfdHJ5R2V0U3RyaW5nIiwiUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyIiwiX2NsaWVudCIsIl9fUFJJVkFURV9zZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50U2V0UGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb25FbmFibGVkIiwiV2Vha01hcCIsIl9fUFJJVkFURV9UZXN0aW5nSG9va3NTcGlJbXBsIiwiT3UiLCJvbkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoIiwiQ0FDSEVfU0laRV9VTkxJTUlURUQiLCJfQXV0b0lkIiwiX0J5dGVTdHJpbmciLCJfRGF0YWJhc2VJZCIsIl9Eb2N1bWVudEtleSIsIl9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlciIsIl9FbXB0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIiwiX0ZpZWxkUGF0aCIsIl9UZXN0aW5nSG9va3MiLCJfY2FzdCIsIl9kZWJ1Z0Fzc2VydCIsIl9pbnRlcm5hbEFnZ3JlZ2F0aW9uUXVlcnlUb1Byb3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QiLCJfaW50ZXJuYWxRdWVyeVRvUHJvdG9RdWVyeVRhcmdldCIsIl9pc0Jhc2U2NEF2YWlsYWJsZSIsIl9sb2dXYXJuIiwiX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIiLCJhZGREb2MiLCJhZ2dyZWdhdGVGaWVsZEVxdWFsIiwiYWdncmVnYXRlUXVlcnlTbmFwc2hvdEVxdWFsIiwiYXJyYXlSZW1vdmUiLCJhcnJheVVuaW9uIiwiYXZlcmFnZSIsImNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2UiLCJkZWxldGVBbGxQZXJzaXN0ZW50Q2FjaGVJbmRleGVzIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudERlbGV0ZUFsbEZpZWxkSW5kZXhlcyIsImRlbGV0ZURvYyIsImRlbGV0ZUZpZWxkIiwiZGlzYWJsZU5ldHdvcmsiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGlzYWJsZU5ldHdvcmsiLCJkaXNhYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb24iLCJlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZSIsImVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UiLCJlbmFibGVOZXR3b3JrIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEVuYWJsZU5ldHdvcmsiLCJlbmFibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbiIsImVuZEJlZm9yZSIsImdldENvdW50RnJvbVNlcnZlciIsImdldERvY0Zyb21DYWNoZSIsIl9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudEZyb21Mb2NhbENhY2hlIiwiZ2V0RG9jRnJvbVNlcnZlciIsImdldERvY3NGcm9tQ2FjaGUiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRzRnJvbUxvY2FsQ2FjaGUiLCJnZXREb2NzRnJvbVNlcnZlciIsImdldERlZmF1bHRFbXVsYXRvckhvc3RuYW1lQW5kUG9ydCIsImdldFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlciIsImluaXRpYWxpemVGaXJlc3RvcmUiLCJsaW1pdFRvTGFzdCIsImxvYWRCdW5kbGUiLCJSZWFkYWJsZVN0cmVhbSIsImdldFJlYWRlciIsIl9fUFJJVkFURV9zeW5jRW5naW5lTG9hZEJ1bmRsZSIsIl9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRMb2FkQnVuZGxlIiwibWVtb3J5RWFnZXJHYXJiYWdlQ29sbGVjdG9yIiwibWVtb3J5TG9jYWxDYWNoZSIsIm1lbW9yeUxydUdhcmJhZ2VDb2xsZWN0b3IiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0TmFtZWRRdWVyeSIsIm9uU25hcHNob3RzSW5TeW5jIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEFkZFNuYXBzaG90c0luU3luY0xpc3RlbmVyIiwicGVyc2lzdGVudExvY2FsQ2FjaGUiLCJwZXJzaXN0ZW50TXVsdGlwbGVUYWJNYW5hZ2VyIiwicmVmRXF1YWwiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJzZXRJbmRleENvbmZpZ3VyYXRpb24iLCJpbmRleGVzIiwiYXJyYXlDb25maWciLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50U2V0SW5kZXhDb25maWd1cmF0aW9uIiwic25hcHNob3RFcXVhbCIsInN0YXJ0QWZ0ZXIiLCJ3YWl0Rm9yUGVuZGluZ1dyaXRlcyIsIl9fUFJJVkFURV9zeW5jRW5naW5lUmVnaXN0ZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2siLCJ3cml0ZUJhdGNoIiwibGV2ZWxTdHJpbmdUb0VudW0iLCJWRVJCT1NFIiwiSU5GTyIsIlNJTEVOVCIsImRlZmF1bHRMb2dMZXZlbCIsIkNvbnNvbGVNZXRob2QiLCJkZWZhdWx0TG9nSGFuZGxlciIsImxvZ1R5cGUiLCJhcmdzIiwibWV0aG9kIiwiX2xvZ0xldmVsIiwiX2xvZ0hhbmRsZXIiLCJfdXNlckxvZ0hhbmRsZXIiLCJUeXBlRXJyb3IiLCJpbmZvIiwibGV2ZWwiLCJpbnN0IiwiY3VzdG9tTG9nTGV2ZWwiLCJ1c2VyTG9nSGFuZGxlciIsImFyZyIsImlnbm9yZWQiLCJpbnN0YW5jZXNfMSIsIkNPTlNUQU5UUyIsIk5PREVfQ0xJRU5UIiwiTk9ERV9BRE1JTiIsImFzc2VydCIsImFzc2VydGlvbiIsImFzc2VydGlvbkVycm9yIiwic3RyaW5nVG9CeXRlQXJyYXkkMSIsInN0ciIsIm91dCIsImJhc2U2NCIsImJ5dGVUb0NoYXJNYXBfIiwiY2hhclRvQnl0ZU1hcF8iLCJieXRlVG9DaGFyTWFwV2ViU2FmZV8iLCJjaGFyVG9CeXRlTWFwV2ViU2FmZV8iLCJFTkNPREVEX1ZBTFNfQkFTRSIsIkVOQ09ERURfVkFMUyIsIkVOQ09ERURfVkFMU19XRUJTQUZFIiwiSEFTX05BVElWRV9TVVBQT1JUIiwiZW5jb2RlQnl0ZUFycmF5IiwiaW5wdXQiLCJ3ZWJTYWZlIiwiaW5pdF8iLCJieXRlVG9DaGFyTWFwIiwib3V0cHV0IiwiYnl0ZTEiLCJoYXZlQnl0ZTIiLCJieXRlMiIsImhhdmVCeXRlMyIsImJ5dGUzIiwib3V0Qnl0ZTEiLCJvdXRCeXRlMiIsIm91dEJ5dGUzIiwib3V0Qnl0ZTQiLCJlbmNvZGVTdHJpbmciLCJkZWNvZGVTdHJpbmciLCJieXRlcyIsInBvcyIsImMxIiwiYzIiLCJjMyIsImJ5dGVBcnJheVRvU3RyaW5nIiwiZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkiLCJjaGFyVG9CeXRlTWFwIiwiYnl0ZTQiLCJEZWNvZGVCYXNlNjRTdHJpbmdFcnJvciIsImJhc2U2NEVuY29kZSIsInV0ZjhCeXRlcyIsImJhc2U2NERlY29kZSIsImRlZXBFeHRlbmQiLCJwcm9wIiwiZ2V0R2xvYmFsIiwiZ2V0RGVmYXVsdHMiLCJfX0ZJUkVCQVNFX0RFRkFVTFRTX18iLCJkZWZhdWx0c0pzb25TdHJpbmciLCJnZXREZWZhdWx0c0Zyb21FbnZWYXJpYWJsZSIsImNvb2tpZSIsImRlY29kZWQiLCJnZXREZWZhdWx0c0Zyb21Db29raWUiLCJnZXREZWZhdWx0RW11bGF0b3JIb3N0IiwicHJvZHVjdE5hbWUiLCJlbXVsYXRvckhvc3RzIiwid3JhcENhbGxiYWNrIiwiaXNOb2RlIiwiZm9yY2VFbnZpcm9ubWVudCIsIldvcmtlckdsb2JhbFNjb3BlIiwiY3VzdG9tRGF0YSIsInNldFByb3RvdHlwZU9mIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJzZXJ2aWNlTmFtZSIsImVycm9ycyIsImZ1bGxDb2RlIiwidGVtcGxhdGUiLCJQQVRURVJOIiwicmVwbGFjZVRlbXBsYXRlIiwiZnVsbE1lc3NhZ2UiLCJqc29uRXZhbCIsImhlYWRlciIsImNsYWltcyIsInNpZ25hdHVyZSIsInBhcnRzIiwiaXNPYmplY3QiLCJ0aGluZyIsIk9ic2VydmVyUHJveHkiLCJleGVjdXRvciIsIm9uTm9PYnNlcnZlcnMiLCJvYnNlcnZlcnMiLCJ1bnN1YnNjcmliZXMiLCJvYnNlcnZlckNvdW50IiwiZmluYWxpemVkIiwiZm9yRWFjaE9ic2VydmVyIiwic3Vic2NyaWJlIiwibmV4dE9yT2JzZXJ2ZXIiLCJtZXRob2RzIiwiaW1wbGVtZW50c0FueU1ldGhvZHMiLCJub29wIiwidW5zdWIiLCJ1bnN1YnNjcmliZU9uZSIsImZpbmFsRXJyb3IiLCJzZW5kT25lIiwiZXJyIiwiZXJyb3JQcmVmaXgiLCJmbk5hbWUiLCJhcmdOYW1lIiwiTUFYX1ZBTFVFX01JTExJUyIsIlJBTkRPTV9GQUNUT1IiLCJTaGExIiwiY2hhaW5fIiwiYnVmXyIsInBhZF8iLCJpbmJ1Zl8iLCJ0b3RhbF8iLCJibG9ja1NpemUiLCJjb21wcmVzc18iLCJidWYiLCJmIiwiZCIsImxlbmd0aE1pbnVzQmxvY2siLCJpbmJ1ZiIsInRvdGFsQml0cyIsImFyZUNvb2tpZXNFbmFibGVkIiwiY29va2llRW5hYmxlZCIsImNhbGN1bGF0ZUJhY2tvZmZNaWxsaXMiLCJiYWNrb2ZmQ291bnQiLCJpbnRlcnZhbE1pbGxpcyIsImJhY2tvZmZGYWN0b3IiLCJjdXJyQmFzZVZhbHVlIiwicmFuZG9tV2FpdCIsInByb2plY3QiLCJpYXQiLCJwYXlsb2FkIiwiaXNzIiwiYXVkIiwiZXhwIiwiYXV0aF90aW1lIiwiZmlyZWJhc2UiLCJzaWduX2luX3Byb3ZpZGVyIiwiaWRlbnRpdGllcyIsImFsZyIsImNyZWF0ZVN1YnNjcmliZSIsInByb3h5IiwiZGVlcENvcHkiLCJhS2V5cyIsImJLZXlzIiwiYVByb3AiLCJiUHJvcCIsImV4dHJhY3RRdWVyeXN0cmluZyIsInVybCIsInF1ZXJ5U3RhcnQiLCJmcmFnbWVudFN0YXJ0Iiwic2VwYXJhdG9ySW5kZXgiLCJsYXN0SW5kZXhPZiIsInBvcnQiLCJwYXJzZUludCIsImdldEV4cGVyaW1lbnRhbFNldHRpbmciLCJpc0FkbWluIiwiaXNCcm93c2VyRXh0ZW5zaW9uIiwicnVudGltZSIsImNocm9tZSIsImJyb3dzZXIiLCJpc0VsZWN0cm9uIiwiaXNJRSIsImlzTW9iaWxlQ29yZG92YSIsImlzTm9kZVNkayIsImlzUmVhY3ROYXRpdmUiLCJpc1VXUCIsImlzVmFsaWRGb3JtYXQiLCJpc1ZhbGlkVGltZXN0YW1wIiwidmFsaWRTaW5jZSIsInZhbGlkVW50aWwiLCJpc3N1ZWRBdFRpbWUiLCJjb250ZXh0T2JqIiwicmVzIiwib3JkaW5hbCIsImNlbnQiLCJhYnMiLCJkZWMiLCJpbmRpY2F0b3IiLCJwcm9taXNlV2l0aFRpbWVvdXQiLCJ0aW1lSW5NUyIsImRlZmVycmVkUHJvbWlzZSIsInF1ZXJ5c3RyaW5nIiwicXVlcnlzdHJpbmdQYXJhbXMiLCJhcnJheVZhbCIsInF1ZXJ5c3RyaW5nRGVjb2RlIiwiZGVjb2RlVVJJQ29tcG9uZW50Iiwic2FmZUdldCIsInN0cmluZ0xlbmd0aCIsInN0cmluZ1RvQnl0ZUFycmF5IiwiaGlnaCIsInV1aWR2NCIsInZhbGlkYXRlQXJnQ291bnQiLCJtaW5Db3VudCIsIm1heENvdW50IiwiYXJnQ291bnQiLCJhcmdFcnJvciIsInZhbGlkYXRlQ2FsbGJhY2siLCJhcmd1bWVudE5hbWUiLCJ2YWxpZGF0ZUNvbnRleHRPYmplY3QiLCJjb250ZXh0IiwicHJlRXhpc3QiLCJEQl9DSEVDS19OQU1FIiwidmFsaWRhdGVOYW1lc3BhY2UiLCJuYW1lc3BhY2UiLCJ3IiwiTE4yIiwiRSIsInhvciIsIm1vZHVsZSIsInkiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiZ2xvYmFsVGhpcyIsIndyaXRhYmxlIiwidW5zaGlmdCIsIkZ1bmN0aW9uIiwiUWIiLCJkZWZhdWx0UHJldmVudGVkIiwicmVsYXRlZFRhcmdldCIsImJ1dHRvbiIsInNjcmVlblkiLCJzY3JlZW5YIiwiY2xpZW50WSIsImNsaWVudFgiLCJtZXRhS2V5Iiwic2hpZnRLZXkiLCJhbHRLZXkiLCJjdHJsS2V5IiwicG9pbnRlcklkIiwicG9pbnRlclR5cGUiLCJjaGFuZ2VkVG91Y2hlcyIsInNyY0VsZW1lbnQiLCJub2RlTmFtZSIsImZyb21FbGVtZW50IiwidG9FbGVtZW50IiwicGFnZVgiLCJwYWdlWSIsInJldHVyblZhbHVlIiwic3JjIiwiY2FwdHVyZSIsIm9uY2UiLCJhdHRhY2hFdmVudCIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJkZXRhY2hFdmVudCIsImhhbmRsZUV2ZW50IiwiYWIiLCJiYiIsImNiIiwiZWIiLCJmYiIsImdiIiwiaWIiLCJqYiIsImtiIiwibGIiLCJtYiIsIndiIiwibmIiLCJvYiIsInBiIiwicWIiLCJyYiIsInNiIiwidGIiLCJ1YiIsInZiIiwieWIiLCJDYiIsIkFiIiwieGIiLCJCYiIsIkhiIiwiemIiLCJQYiIsIkRiIiwiRWIiLCJYTUxIdHRwUmVxdWVzdCIsIkZiIiwiR2IiLCJJYiIsIkpiIiwiS2IiLCJMYiIsIk1iIiwiU2IiLCJXYiIsIk9iIiwiVWIiLCJSYiIsIlhiIiwiWWIiLCJaYiIsIiRiIiwiYWMiLCJnZXRSZXNwb25zZUhlYWRlciIsImJjIiwiY2MiLCJkYyIsImVjIiwiZmMiLCJnYyIsIk5iIiwiVGIiLCJnZXRBbGxSZXNwb25zZUhlYWRlcnMiLCJ0cmltIiwiVmIiLCJoYyIsImljIiwiUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nIiwicGVyZm9ybWFuY2UiLCJnZXRFbnRyaWVzQnlUeXBlIiwibmV4dEhvcFByb3RvY29sIiwibG9hZFRpbWVzIiwid2FzRmV0Y2hlZFZpYVNwZHkiLCJqYyIsImtjIiwibmMiLCJtYyIsImxjIiwib2MiLCJxYyIsInJjIiwic2MiLCJ0YyIsInVjIiwiRGMiLCJBYyIsInZjIiwiQmMiLCJkZWNvZGVVUkkiLCJlbmNvZGVVUkkiLCJDYyIsIndjIiwieGMiLCJ5YyIsInpjIiwicGMiLCJFYyIsIm9ubG9hZCIsIm9udGltZW91dCIsIkhjIiwiSWMiLCJKYyIsIktjIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlVGV4dCIsInJlc3BvbnNlIiwic3RhdHVzVGV4dCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsIkhlYWRlcnMiLCJOYyIsIk1jIiwiTGMiLCJPYyIsIlBjIiwiY2FjaGUiLCJib2R5IiwiZmV0Y2giLCJSZXF1ZXN0IiwiYXJyYXlCdWZmZXIiLCJ0ZXh0Iiwic2V0UmVxdWVzdEhlYWRlciIsImFwcGVuZCIsIlFjIiwiUmMiLCJTYyIsIlVjIiwiVmMiLCJXYyIsImxvY2F0aW9uIiwicHJvdG9jb2wiLCJUYyIsIm1velJlc3BvbnNlQXJyYXlCdWZmZXIiLCJYYyIsIlljIiwiY29uY3VycmVudFJlcXVlc3RMaW1pdCIsImZhc3RIYW5kc2hha2UiLCJaYyIsIiRjIiwic2VuZEJlYWNvbiIsIkltYWdlIiwiYWQiLCJlZCIsImRkIiwiY2QiLCJmZCIsImJkIiwiaXNBY3RpdmUiLCJGYyIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsIm9rIiwiR2MiLCJob3N0bmFtZSIsImdkIiwiaGQiLCJtZXNzYWdlSGVhZGVycyIsImNsaWVudFByb3RvY29sSGVhZGVyUmVxdWlyZWQiLCJtZXNzYWdlQ29udGVudFR5cGUiLCJfX2hlYWRlcnNfXyIsInN0YXR1c0NvZGUiLCJfX3N0YXR1c19fIiwiX19zbV9fIiwiamQiLCJ0b1VwcGVyQ2FzZSIsIndpdGhDcmVkZW50aWFscyIsImNvbm5lY3QiLCJPU0lEIiwiT0FJRCIsIl9fZGF0YV9fIiwiZ2V0TGFzdEVycm9yIiwiaW5zdGFuY2VPZkFueSIsIm9iamVjdCIsImNvbnN0cnVjdG9ycyIsImlkYlByb3h5YWJsZVR5cGVzIiwiY3Vyc29yQWR2YW5jZU1ldGhvZHMiLCJjdXJzb3JSZXF1ZXN0TWFwIiwidHJhbnNhY3Rpb25Eb25lTWFwIiwidHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwIiwidHJhbnNmb3JtQ2FjaGUiLCJyZXZlcnNlVHJhbnNmb3JtQ2FjaGUiLCJpZGJQcm94eVRyYXBzIiwicmVjZWl2ZXIiLCJJREJUcmFuc2FjdGlvbiIsIndyYXAiLCJ0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlIiwiZnVuYyIsIklEQkRhdGFiYXNlIiwiSURCQ3Vyc29yIiwiYWR2YW5jZSIsImNvbnRpbnVlUHJpbWFyeUtleSIsInVud3JhcCIsInN0b3JlTmFtZXMiLCJ1bmxpc3RlbiIsImNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbiIsIklEQk9iamVjdFN0b3JlIiwiSURCSW5kZXgiLCJQcm94eSIsIklEQlJlcXVlc3QiLCJzdWNjZXNzIiwicHJvbWlzaWZ5UmVxdWVzdCIsImJsb2NrZWQiLCJibG9ja2luZyIsInRlcm1pbmF0ZWQiLCJvcGVuUHJvbWlzZSIsImRlbGV0ZURCIiwicmVhZE1ldGhvZHMiLCJ3cml0ZU1ldGhvZHMiLCJjYWNoZWRNZXRob2RzIiwiZ2V0TWV0aG9kIiwidGFyZ2V0RnVuY05hbWUiLCJ1c2VJbmRleCIsImlzV3JpdGUiLCJzdG9yZU5hbWUiLCJvbGRUcmFwcyIsImV4dGVuZFN0YXRpY3MiLCJfX3Byb3RvX18iLCJfX3Jlc3QiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJfX2VzRGVjb3JhdGUiLCJjdG9yIiwiZGVzY3JpcHRvckluIiwiY29udGV4dEluIiwiaW5pdGlhbGl6ZXJzIiwiZXh0cmFJbml0aWFsaXplcnMiLCJhY2NlcHQiLCJkZXNjcmlwdG9yIiwiYWNjZXNzIiwiYWRkSW5pdGlhbGl6ZXIiLCJpbml0IiwiX19ydW5Jbml0aWFsaXplcnMiLCJ0aGlzQXJnIiwidXNlVmFsdWUiLCJfX3Byb3BLZXkiLCJfX3NldEZ1bmN0aW9uTmFtZSIsInByZWZpeCIsImRlc2NyaXB0aW9uIiwiX19tZXRhZGF0YSIsIm1ldGFkYXRhS2V5IiwibWV0YWRhdGFWYWx1ZSIsIl9hcmd1bWVudHMiLCJnZW5lcmF0b3IiLCJmdWxmaWxsZWQiLCJzdGVwIiwicmVqZWN0ZWQiLCJvcHMiLCJ2ZXJiIiwiX19jcmVhdGVCaW5kaW5nIiwiazIiLCJfX2VzTW9kdWxlIiwiX19leHBvcnRTdGFyIiwiX19zcHJlYWQiLCJfX3NwcmVhZEFycmF5cyIsImlsIiwiamwiLCJ0byIsInBhY2siLCJfX2F3YWl0IiwiX19hc3luY0dlbmVyYXRvciIsImFzeW5jSXRlcmF0b3IiLCJyZXN1bWUiLCJmdWxmaWxsIiwic2V0dGxlIiwiX19hc3luY0RlbGVnYXRvciIsIl9fYXN5bmNWYWx1ZXMiLCJfX21ha2VUZW1wbGF0ZU9iamVjdCIsImNvb2tlZCIsInJhdyIsIl9fc2V0TW9kdWxlRGVmYXVsdCIsIl9faW1wb3J0U3RhciIsIm1vZCIsIl9faW1wb3J0RGVmYXVsdCIsImRlZmF1bHQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0IiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsIl9fY2xhc3NQcml2YXRlRmllbGRJbiIsIl9fYWRkRGlzcG9zYWJsZVJlc291cmNlIiwiZW52IiwiZGlzcG9zZSIsImFzeW5jRGlzcG9zZSIsIl9TdXBwcmVzc2VkRXJyb3IiLCJTdXBwcmVzc2VkRXJyb3IiLCJzdXBwcmVzc2VkIiwiX19kaXNwb3NlUmVzb3VyY2VzIiwiaGFzRXJyb3IiLCJyZWMiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiZGVmaW5pdGlvbiIsInRvU3RyaW5nVGFnIl0sInNvdXJjZVJvb3QiOiIifQ==