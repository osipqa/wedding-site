/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={873:(e,t,n)=>{"use strict";n.r(t)},156:function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(718),o=n(516);n(873);const a=(0,s.initializeApp)({apiKey:"AIzaSyBrDNbyBpmRoUSCTI-npFm1YIodzQNjIoA",authDomain:"wedding-site-c1fb0.firebaseapp.com",projectId:"wedding-site-c1fb0",storageBucket:"wedding-site-c1fb0.appspot.com",messagingSenderId:"514808349805",appId:"1:514808349805:web:59defead69d7da4e5aeb64",measurementId:"G-4HM7N72DF4"}),c=(0,o.getFirestore)(a),u=["Мохито","Базиликовый смэш","Апероль","Маргарита"],l=["Водка","Виски","Вино","Абсент","Ром"],h=["Корона","Heineken","Paulaner","Pilsner"];function d(e,t){return i(this,void 0,void 0,(function*(){var n;try{const r=(0,o.doc)(c,t,e.replace(/\s+/g,"_")),i=yield(0,o.getDoc)(r);if(i.exists()){const s=(null===(n=i.data())||void 0===n?void 0:n.count)||0;yield(0,o.updateDoc)(r,{count:s+1}),console.log(`Updated ${e} in ${t}: new count ${s+1}`)}else yield(0,o.setDoc)(r,{count:1}),console.log(`Set ${e} in ${t}: new count 1`)}catch(e){console.error("Ошибка при обновлении количества голосов:",e)}}))}function f(){return i(this,void 0,void 0,(function*(){var e;try{const t=["cocktails","luxury","beer"];for(const n of t){const t="cocktails"===n?u:"luxury"===n?l:"beer"===n?h:[];for(const r of t){const t=(0,o.doc)(c,n,r.replace(/\s+/g,"_")),i=yield(0,o.getDoc)(t);if(i.exists()){const t=(null===(e=i.data())||void 0===e?void 0:e.count)||0,n=document.getElementById(`${r.toLowerCase().replace(/\s+/g,"-")}-count`);n&&(n.innerText=`${t} человек`)}}}}catch(e){console.error("Ошибка получения результатов опроса:",e)}}))}null===(r=document.getElementById("addGuestBtn"))||void 0===r||r.addEventListener("click",(()=>i(void 0,void 0,void 0,(function*(){const e=document.getElementById("lastName").value,t=document.getElementById("firstName").value;e&&t?(yield function(e,t){return i(this,void 0,void 0,(function*(){try{const n=(0,o.doc)(c,"guests",`${e}_${t}`);(yield(0,o.getDoc)(n)).exists()?console.log(`Guest ${e} ${t} already exists`):(yield(0,o.setDoc)(n,{lastName:e,firstName:t}),console.log(`Guest ${e} ${t} added`))}catch(e){console.error("Error adding guest:",e)}}))}(e,t),document.getElementById("lastName").value="",document.getElementById("firstName").value=""):alert("Пожалуйста, введите фамилию и имя гостя")})))),function(){const e=(0,o.collection)(c,"guests");(0,o.onSnapshot)(e,(e=>{const t=document.getElementById("guestList");t&&(t.innerHTML="",e.forEach((e=>{!function(e){const t=document.getElementById("guestList");if(!t)return;const n=document.createElement("tr"),r=document.createElement("td");r.textContent=e.lastName,n.appendChild(r);const i=document.createElement("td");i.textContent=e.firstName,n.appendChild(i),t.appendChild(n)}(e.data())})))}))}(),function(){i(this,void 0,void 0,(function*(){const e={cocktails:u,luxury:l,beer:h};try{for(const[t,n]of Object.entries(e))for(const e of n){const n=(0,o.doc)(c,t,e.replace(/\s+/g,"_"));(yield(0,o.getDoc)(n)).exists()||(yield(0,o.setDoc)(n,{count:0}))}console.log("Firestore data initialized")}catch(e){console.error("Error initializing Firestore data:",e)}}))}(),f();const p=document.getElementById("survey-form");null==p||p.addEventListener("submit",(e=>i(void 0,void 0,void 0,(function*(){var t;e.preventDefault();const n=new FormData(e.target);try{const e=n.getAll("cocktail");for(const t of e)yield d(t.toString(),"cocktails");const r=n.getAll("luxury");for(const e of r)yield d(e.toString(),"luxury");const i=n.getAll("beer");for(const e of i)yield d(e.toString(),"beer");localStorage.setItem("hasVoted","true"),f(),null===(t=document.getElementById("results"))||void 0===t||t.classList.remove("hidden"),document.querySelector(".survey-button").style.display="none"}catch(e){console.error("Ошибка при обновлении количества голосов:",e)}})))),["cocktails","luxury","beer"].forEach((e=>{("cocktails"===e?u:"luxury"===e?l:"beer"===e?h:[]).forEach((t=>{const n=(0,o.doc)(c,e,t.replace(/\s+/g,"_"));(0,o.onSnapshot)(n,(e=>{var n;if(e.exists()){const r=(null===(n=e.data())||void 0===n?void 0:n.count)||0;!function(e,t){const n=document.getElementById(`${e.toLowerCase().replace(/\s+/g,"-")}-count`);n&&(n.innerText=`${t} человек`)}(t,r)}}))}))}))},782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n(462),o=n(322),a=n(795),c=n(107),u=n(669),l=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")},e}(),h="@firebase/app",d="0.10.6",f=new a.Logger("@firebase/app"),p="[DEFAULT]",g=((r={})[h]="fire-core",r["@firebase/app-compat"]="fire-core-compat",r["@firebase/analytics"]="fire-analytics",r["@firebase/analytics-compat"]="fire-analytics-compat",r["@firebase/app-check"]="fire-app-check",r["@firebase/app-check-compat"]="fire-app-check-compat",r["@firebase/auth"]="fire-auth",r["@firebase/auth-compat"]="fire-auth-compat",r["@firebase/database"]="fire-rtdb",r["@firebase/database-compat"]="fire-rtdb-compat",r["@firebase/functions"]="fire-fn",r["@firebase/functions-compat"]="fire-fn-compat",r["@firebase/installations"]="fire-iid",r["@firebase/installations-compat"]="fire-iid-compat",r["@firebase/messaging"]="fire-fcm",r["@firebase/messaging-compat"]="fire-fcm-compat",r["@firebase/performance"]="fire-perf",r["@firebase/performance-compat"]="fire-perf-compat",r["@firebase/remote-config"]="fire-rc",r["@firebase/remote-config-compat"]="fire-rc-compat",r["@firebase/storage"]="fire-gcs",r["@firebase/storage-compat"]="fire-gcs-compat",r["@firebase/firestore"]="fire-fst",r["@firebase/firestore-compat"]="fire-fst-compat",r["@firebase/vertexai-preview"]="fire-vertex",r["fire-js"]="fire-js",r.firebase="fire-js-all",r),m=new Map,y=new Map,v=new Map;function w(e,t){try{e.container.addComponent(t)}catch(n){f.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function b(e){var t,n,r,i,s=e.name;if(v.has(s))return f.debug("There were multiple attempts to register component ".concat(s,".")),!1;v.set(s,e);try{for(var a=o.__values(m.values()),c=a.next();!c.done;c=a.next())w(c.value,e)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}try{for(var u=o.__values(y.values()),l=u.next();!l.done;l=u.next())w(l.value,e)}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return!0}function _(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function I(e){return void 0!==e.options}var E=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",i["bad-app-name"]="Illegal App name: '{$appName}'",i["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["server-app-deleted"]="Firebase Server App has been deleted",i["no-options"]="Need to provide options, when not being deployed to hosting via source.",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",i["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",i["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",i["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",i["finalization-registry-not-supported"]="FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",i["invalid-server-app-environment"]="FirebaseServerApp is not for use in browser environments.",i),S=new c.ErrorFactory("app","Firebase",E),T=function(){function e(e,t,n){var r=this;this._isDeleted=!1,this._options=o.__assign({},e),this._config=o.__assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s.Component("app",(function(){return r}),"PUBLIC"))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(e){this._isDeleted=e},enumerable:!1,configurable:!0}),e.prototype.checkDestroyed=function(){if(this.isDeleted)throw S.create("app-deleted",{appName:this._name})},e}(),x=function(e){function t(t,n,r,i){var s=this,a=void 0!==n.automaticDataCollectionEnabled&&n.automaticDataCollectionEnabled,c={name:r,automaticDataCollectionEnabled:a};if(void 0!==t.apiKey)s=e.call(this,t,c,i)||this;else{var u=t;s=e.call(this,u.options,c,i)||this}return s._serverConfig=o.__assign({automaticDataCollectionEnabled:a},n),s._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(s._finalizationRegistry=new FinalizationRegistry((function(){s.automaticCleanup()}))),s._refCount=0,s.incRefCount(s._serverConfig.releaseOnDeref),s._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,A(h,d,"serverapp"),s}return o.__extends(t,e),t.prototype.toJSON=function(){},Object.defineProperty(t.prototype,"refCount",{get:function(){return this._refCount},enumerable:!1,configurable:!0}),t.prototype.incRefCount=function(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))},t.prototype.decRefCount=function(){return this.isDeleted?0:--this._refCount},t.prototype.automaticCleanup=function(){D(this)},Object.defineProperty(t.prototype,"settings",{get:function(){return this.checkDestroyed(),this._serverConfig},enumerable:!1,configurable:!0}),t.prototype.checkDestroyed=function(){if(this.isDeleted)throw S.create("server-app-deleted")},t}(T);function C(e,t){var n,r;void 0===t&&(t={});var i=e;"object"!=typeof t&&(t={name:t});var a=o.__assign({name:p,automaticDataCollectionEnabled:!1},t),u=a.name;if("string"!=typeof u||!u)throw S.create("bad-app-name",{appName:String(u)});if(i||(i=c.getDefaultAppConfig()),!i)throw S.create("no-options");var l=m.get(u);if(l){if(c.deepEqual(i,l.options)&&c.deepEqual(a,l.config))return l;throw S.create("duplicate-app",{appName:u})}var h=new s.ComponentContainer(u);try{for(var d=o.__values(v.values()),f=d.next();!f.done;f=d.next()){var g=f.value;h.addComponent(g)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var y=new T(i,a,h);return m.set(u,y),y}function D(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return t=!1,n=e.name,m.has(n)?(t=!0,m.delete(n)):y.has(n)&&e.decRefCount()<=0&&(y.delete(n),t=!0),t?[4,Promise.all(e.container.getProviders().map((function(e){return e.delete()})))]:[3,2];case 1:r.sent(),e.isDeleted=!0,r.label=2;case 2:return[2]}}))}))}function A(e,t,n){var r,i=null!==(r=g[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var c=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&c.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&c.push("and"),a&&c.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void f.warn(c.join(" "))}b(new s.Component("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var N="firebase-heartbeat-database",k=1,O="firebase-heartbeat-store",L=null;function P(){return L||(L=u.openDB(N,k,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(O)}catch(e){console.warn(e)}}}).catch((function(e){throw S.create("idb-open",{originalErrorMessage:e.message})}))),L}function M(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,P()];case 1:return t=o.sent(),[4,(n=t.transaction(O)).objectStore(O).get(F(e))];case 2:return r=o.sent(),[4,n.done];case 3:return o.sent(),[2,r];case 4:return(i=o.sent())instanceof c.FirebaseError?f.warn(i.message):(s=S.create("idb-get",{originalErrorMessage:null==i?void 0:i.message}),f.warn(s.message)),[3,5];case 5:return[2]}}))}))}function R(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,P()];case 1:return n=o.sent(),[4,(r=n.transaction(O,"readwrite")).objectStore(O).put(t,F(e))];case 2:return o.sent(),[4,r.done];case 3:return o.sent(),[3,5];case 4:return(i=o.sent())instanceof c.FirebaseError?f.warn(i.message):(s=S.create("idb-set",{originalErrorMessage:null==i?void 0:i.message}),f.warn(s.message)),[3,5];case 5:return[2]}}))}))}function F(e){return"".concat(e.name,"!").concat(e.options.appId)}var V=function(){function e(e){var t=this;this.container=e,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new U(n),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return e.prototype.triggerHeartbeat=function(){var e,t;return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=B(),null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)?[3,2]:(s=this,[4,this._heartbeatsCachePromise]);case 1:if(s._heartbeatsCache=o.sent(),null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return[2];o.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))?[2]:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},e.prototype.getHeartbeatsHeader=function(){var e;return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s;return o.__generator(this,(function(a){switch(a.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:a.sent(),a.label=2;case 2:return null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length?[2,""]:(t=B(),n=function(e,t){var n,r;void 0===t&&(t=1024);var i=[],s=e.slice(),a=function(e){var n=i.find((function(t){return t.agent===e.agent}));if(n){if(n.dates.push(e.date),q(i)>t)return n.dates.pop(),"break"}else if(i.push({agent:e.agent,dates:[e.date]}),q(i)>t)return i.pop(),"break";s=s.slice(1)};try{for(var c=o.__values(e),u=c.next();!u.done&&"break"!==a(u.value);u=c.next());}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{heartbeatsToSend:i,unsentEntries:s}}(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,s=c.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return a.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),a.label=5;case 5:return[2,s]}}))}))},e}();function B(){return(new Date).toISOString().substring(0,10)}var U=function(){function e(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e.prototype.runIndexedDBEnvironmentCheck=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return c.isIndexedDBAvailable()?[2,c.validateIndexedDBOpenable().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},e.prototype.read=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return t.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,M(this.app)];case 3:return(null==(e=t.sent())?void 0:e.heartbeats)?[2,e]:[2,{heartbeats:[]}];case 4:return[2]}}))}))},e.prototype.overwrite=function(e){var t;return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})]}}))}))},e.prototype.add=function(e){var t;return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:o.__spreadArray(o.__spreadArray([],o.__read(n.heartbeats),!1),o.__read(e.heartbeats),!1)})]}}))}))},e}();function q(e){return c.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}b(new s.Component("platform-logger",(function(e){return new l(e)}),"PRIVATE")),b(new s.Component("heartbeat",(function(e){return new V(e)}),"PRIVATE")),A(h,d,"node"),A(h,d,"cjs5"),A("fire-js",""),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return c.FirebaseError}}),t.SDK_VERSION="10.12.3",t._DEFAULT_ENTRY_NAME=p,t._addComponent=w,t._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},t._apps=m,t._clearComponents=function(){v.clear()},t._components=v,t._getProvider=_,t._isFirebaseApp=I,t._isFirebaseServerApp=function(e){return void 0!==e.settings},t._registerComponent=b,t._removeServiceInstance=function(e,t,n){void 0===n&&(n=p),_(e,t).clearInstance(n)},t._serverApps=y,t.deleteApp=D,t.getApp=function(e){void 0===e&&(e=p);var t=m.get(e);if(!t&&e===p&&c.getDefaultAppConfig())return C();if(!t)throw S.create("no-app",{appName:e});return t},t.getApps=function(){return Array.from(m.values())},t.initializeApp=C,t.initializeServerApp=function(e,t){var n,r,i;if(c.isBrowser()&&!c.isWebWorker())throw S.create("invalid-server-app-environment");void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),i=I(e)?e.options:e;var a=o.__assign(o.__assign({},t),i);if(void 0!==a.releaseOnDeref&&delete a.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw S.create("finalization-registry-not-supported",{});var u,l=""+(u=JSON.stringify(a),o.__spreadArray([],o.__read(u),!1).reduce((function(e,t){return Math.imul(31,e)+t.charCodeAt(0)|0}),0)),h=y.get(l);if(h)return h.incRefCount(t.releaseOnDeref),h;var d=new s.ComponentContainer(l);try{for(var f=o.__values(v.values()),p=f.next();!p.done;p=f.next()){var g=p.value;d.addComponent(g)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var m=new x(i,t,l,d);return y.set(l,m),m},t.onLog=function(e,t){if(null!==e&&"function"!=typeof e)throw S.create("invalid-log-argument");a.setUserLogHandler(e,t)},t.registerVersion=A,t.setLogLevel=function(e){a.setLogLevel(e)}},462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(322),i=n(107),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=r.__read(s.value,2),c=a[0],u=a[1],l=this.normalizeInstanceIdentifier(c);try{var h=this.getOrInitializeService({instanceIdentifier:l});u.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spreadArray(r.__spreadArray([],r.__read(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),!1),r.__read(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))),!1))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error("".concat(this.name,"(").concat(o,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var c=r.__values(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=r.__read(u.value,2),h=l[0],d=l[1];o===this.normalizeInstanceIdentifier(h)&&d.resolve(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=r.__values(s),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=s,t.ComponentContainer=c,t.Provider=a},100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(782),i=n(462),s=n(795),o=n(107),a=n(293),c=n(493);const u="@firebase/firestore";class l{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");let h="10.12.3";const d=new s.Logger("@firebase/firestore");function f(){return d.logLevel}function p(e,...t){if(d.logLevel<=s.LogLevel.DEBUG){const n=t.map(y);d.debug(`Firestore (${h}): ${e}`,...n)}}function g(e,...t){if(d.logLevel<=s.LogLevel.ERROR){const n=t.map(y);d.error(`Firestore (${h}): ${e}`,...n)}}function m(e,...t){if(d.logLevel<=s.LogLevel.WARN){const n=t.map(y);d.warn(`Firestore (${h}): ${e}`,...n)}}function y(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function v(e="Unexpected state"){const t=`FIRESTORE (${h}) INTERNAL ASSERTION FAILED: `+e;throw g(t),new Error(t)}function w(e,t){e||v()}function b(e,t){return e}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class I extends o.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class E{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class S{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(l.UNAUTHENTICATED)))}shutdown(){}}class x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class C{constructor(e){this.t=e,this.currentUser=l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new E;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new E,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new E)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(w("string"==typeof t.accessToken),new S(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return w(null===e||"string"==typeof e),new l(e)}}class D{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=l.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new D(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(l.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&p("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,p("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(w("string"==typeof e.token),this.R=e.token,new N(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function O(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class L{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=O(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function P(e,t){return e<t?-1:e>t?1:0}function M(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function R(e){return e+"\0"}class F{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new I(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new I(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new I(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new I(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return F.fromMillis(Date.now())}static fromDate(e){return F.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new F(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?P(this.nanoseconds,e.nanoseconds):P(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new F(0,0))}static max(){return new V(new F(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class B{constructor(e,t,n){void 0===t?t=0:t>e.length&&v(),void 0===n?n=e.length-t:n>e.length-t&&v(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===B.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof B?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class U extends B{construct(e,t,n){return new U(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new I(_.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new U(t)}static emptyPath(){return new U([])}}const q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class j extends B{construct(e,t,n){return new j(e,t,n)}static isValidIdentifier(e){return q.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),j.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new j(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new I(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new I(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new I(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new I(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new j(t)}static emptyPath(){return new j([])}}class z{constructor(e){this.path=e}static fromPath(e){return new z(U.fromString(e))}static fromName(e){return new z(U.fromString(e).popFirst(5))}static empty(){return new z(U.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===U.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return U.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new U(e.slice()))}}class G{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function K(e){return e.fields.find((e=>2===e.kind))}function $(e){return e.fields.filter((e=>2!==e.kind))}function Q(e,t){let n=P(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=W(e.fields[r],t.fields[r]),0!==n)return n;return P(e.fields.length,t.fields.length)}G.UNKNOWN_ID=-1;class H{constructor(e,t){this.fieldPath=e,this.kind=t}}function W(e,t){const n=j.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:P(e.kind,t.kind)}class J{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new J(0,Z.min())}}function Y(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new F(n+1,0):new F(n,r));return new Z(i,z.empty(),t)}function X(e){return new Z(e.readTime,e.key,-1)}class Z{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Z(V.min(),z.empty(),-1)}static max(){return new Z(V.max(),z.empty(),-1)}}function ee(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=z.comparator(e.documentKey,t.documentKey),0!==n?n:P(e.largestBatchId,t.largestBatchId))}const te="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function re(e){if(e.code!==_.FAILED_PRECONDITION||e.message!==te)throw e;p("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(e){return ie.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,n)=>{t(e)}))}static reject(e){return new ie(((t,n)=>{n(e)}))}static waitFor(e){return new ie(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ie.resolve(!1);for(const n of e)t=t.next((e=>e?ie.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ie(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ie(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class se{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new E,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ue(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=pe(t.target.error);this.V.reject(new ue(e,n))}}static open(e,t,n,r){try{return new se(t,e.transaction(r,n))}catch(e){throw new ue(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new he(t)}}class oe{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===oe.S(o.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return p("SimpleDb","Removing database:",e),de(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!o.isIndexedDBAvailable())return!1;if(oe.C())return!0;const e=o.getUA(),t=oe.S(e),n=0<t&&t<10,r=ae(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ue(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new I(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new I(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ue(e,r))},r.onupgradeneeded=e=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=se.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ie.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(p("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ae(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ce{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return de(this.B.delete())}}class ue extends I{constructor(e,t){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function le(e){return"IndexedDbTransactionError"===e.name}class he{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),de(n)}add(e){return p("SimpleDb","ADD",this.store.name,e,e),de(this.store.add(e))}get(e){return de(this.store.get(e)).next((t=>(void 0===t&&(t=null),p("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return p("SimpleDb","DELETE",this.store.name,e),de(this.store.delete(e))}count(){return p("SimpleDb","COUNT",this.store.name),de(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new ie(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ie(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){p("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new ie(((n,r)=>{t.onerror=e=>{const t=pe(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new ie(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ce(i),o=t(i.primaryKey,i.value,s);if(o instanceof ie){const e=o.catch((e=>(s.done(),ie.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>ie.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function de(e){return new ie(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=pe(e.target.error);n(t)}}))}let fe=!1;function pe(e){const t=oe.S(o.getUA());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new I("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fe||(fe=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ge{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){p("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{p("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(e){le(e)?p("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await re(e)}await this.X(6e4)}))}}class me{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return ie.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return p("IndexBackfiller",`Processing collection: ${t}`),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(p("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=X(t);ee(r,n)>0&&(n=r)})),new Z(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ye{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ve(e){return null==e}function we(e){return 0===e&&1/e==-1/0}function be(e){return"number"==typeof e&&Number.isInteger(e)&&!we(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function _e(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ee(t)),t=Ie(e.get(n),t);return Ee(t)}function Ie(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Ee(e){return e+""}function Se(e){const t=e.length;if(w(t>=2),2===t)return w(""===e.charAt(0)&&""===e.charAt(1)),U.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&v(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:v()}s=t+2}return new U(r)}ye.oe=-1;const Te=["userId","batchId"];function xe(e,t){return[e,_e(t)]}function Ce(e,t,n){return[e,_e(t),n]}const De={},Ae=["prefixPath","collectionGroup","readTime","documentId"],Ne=["prefixPath","collectionGroup","documentId"],ke=["collectionGroup","readTime","prefixPath","documentId"],Oe=["canonicalId","targetId"],Le=["targetId","path"],Pe=["path","targetId"],Me=["collectionId","parent"],Re=["indexId","uid"],Fe=["uid","sequenceNumber"],Ve=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Be=["indexId","uid","orderedDocumentKey"],Ue=["userId","collectionPath","documentId"],qe=["userId","collectionPath","largestBatchId"],je=["userId","collectionGroup","largestBatchId"],ze=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ge=[...ze,"documentOverlays"],Ke=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$e=Ke,Qe=[...$e,"indexConfiguration","indexState","indexEntries"],He=Qe;class We extends ne{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Je(e,t){const n=b(e);return oe.F(n._e,t)}function Ye(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xe(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ze(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function et(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tt{constructor(e,t){this.comparator=e,this.root=t||rt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nt(this.root,e,this.comparator,!1)}getReverseIterator(){return new nt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nt(this.root,e,this.comparator,!0)}}class nt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rt.RED,this.left=null!=r?r:rt.EMPTY,this.right=null!=i?i:rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();const e=this.left.check();if(e!==this.right.check())throw v();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1,rt.EMPTY=new class{constructor(){this.size=0}get key(){throw v()}get value(){throw v()}get color(){throw v()}get left(){throw v()}get right(){throw v()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new st(this.data.getIterator())}getIteratorFrom(e){return new st(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof it))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class st{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ot(e){return e.hasNext()?e.getNext():void 0}class at{constructor(e){this.fields=e,e.sort(j.comparator)}static empty(){return new at([])}unionWith(e){let t=new it(j.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new at(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return M(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ct extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ct("Invalid base64 string: "+e):e}}(e);return new ut(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return P(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const lt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ht(e){if(w(!!e),"string"==typeof e){let t=0;const n=lt.exec(e);if(w(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dt(e.seconds),nanos:dt(e.nanos)}}function dt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ft(e){return"string"==typeof e?ut.fromBase64String(e):ut.fromUint8Array(e)}function pt(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gt(e){const t=e.mapValue.fields.__previous_value__;return pt(t)?gt(t):t}function mt(e){const t=ht(e.mapValue.fields.__local_write_time__.timestampValue);return new F(t.seconds,t.nanos)}class yt{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class vt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vt&&e.projectId===this.projectId&&e.database===this.database}}const wt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bt={nullValue:"NULL_VALUE"};function _t(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pt(e)?4:Rt(e)?9007199254740991:10:v()}function It(e,t){if(e===t)return!0;const n=_t(e);if(n!==_t(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mt(e).isEqual(mt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ht(e.timestampValue),r=ht(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ft(e.bytesValue).isEqual(ft(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dt(e.geoPointValue.latitude)===dt(t.geoPointValue.latitude)&&dt(e.geoPointValue.longitude)===dt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dt(e.integerValue)===dt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=dt(e.doubleValue),r=dt(t.doubleValue);return n===r?we(n)===we(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return M(e.arrayValue.values||[],t.arrayValue.values||[],It);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ye(n)!==Ye(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!It(n[e],r[e])))return!1;return!0}(e,t);default:return v()}}function Et(e,t){return void 0!==(e.values||[]).find((e=>It(e,t)))}function St(e,t){if(e===t)return 0;const n=_t(e),r=_t(t);if(n!==r)return P(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return P(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=dt(e.integerValue||e.doubleValue),r=dt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tt(e.timestampValue,t.timestampValue);case 4:return Tt(mt(e),mt(t));case 5:return P(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ft(e),r=ft(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=P(n[e],r[e]);if(0!==t)return t}return P(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=P(dt(e.latitude),dt(t.latitude));return 0!==n?n:P(dt(e.longitude),dt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=St(n[e],r[e]);if(t)return t}return P(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wt.mapValue&&t===wt.mapValue)return 0;if(e===wt.mapValue)return 1;if(t===wt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=P(r[e],s[e]);if(0!==t)return t;const o=St(n[r[e]],i[s[e]]);if(0!==o)return o}return P(r.length,s.length)}(e.mapValue,t.mapValue);default:throw v()}}function Tt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return P(e,t);const n=ht(e),r=ht(t),i=P(n.seconds,r.seconds);return 0!==i?i:P(n.nanos,r.nanos)}function xt(e){return Ct(e)}function Ct(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ht(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ft(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return z.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ct(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ct(e.fields[i])}`;return n+"}"}(e.mapValue):v()}function Dt(e){switch(_t(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gt(e);return t?16+Dt(t):16;case 5:return 2*e.stringValue.length;case 6:return ft(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Dt(t)),0)}(e.arrayValue);case 10:return function(e){let t=0;return Xe(e.fields,((e,n)=>{t+=e.length+Dt(n)})),t}(e.mapValue);default:throw v()}}function At(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Nt(e){return!!e&&"integerValue"in e}function kt(e){return!!e&&"arrayValue"in e}function Ot(e){return!!e&&"nullValue"in e}function Lt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Pt(e){return!!e&&"mapValue"in e}function Mt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xe(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Mt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Mt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ft(e){return"nullValue"in e?bt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?At(vt.empty(),z.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:v()}function Vt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?At(vt.empty(),z.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?wt:v()}function Bt(e,t){const n=St(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ut(e,t){const n=St(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Pt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Mt(t)}setAll(e){let t=j.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Mt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Pt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return It(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Pt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xe(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new qt(Mt(this.value))}}function jt(e){const t=[];return Xe(e.fields,((e,n)=>{const r=new j([e]);if(Pt(n)){const e=jt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new at(t)}class zt{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new zt(e,0,V.min(),V.min(),V.min(),qt.empty(),0)}static newFoundDocument(e,t,n,r){return new zt(e,1,t,V.min(),n,r,0)}static newNoDocument(e,t){return new zt(e,2,t,V.min(),V.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,V.min(),V.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gt{constructor(e,t){this.position=e,this.inclusive=t}}function Kt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?z.comparator(z.fromName(o.referenceValue),n.key):St(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $t(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!It(e.position[n],t.position[n]))return!1;return!0}class Qt{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ht(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wt{}class Jt extends Wt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new an(e,t,n):"array-contains"===t?new hn(e,n):"in"===t?new dn(e,n):"not-in"===t?new fn(e,n):"array-contains-any"===t?new pn(e,n):new Jt(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new cn(e,n):new un(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(St(t,this.value)):null!==t&&_t(this.value)===_t(t)&&this.matchesComparison(St(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return v()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends Wt{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Yt(e,t)}matches(e){return Xt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xt(e){return"and"===e.op}function Zt(e){return"or"===e.op}function en(e){return tn(e)&&Xt(e)}function tn(e){for(const t of e.filters)if(t instanceof Yt)return!1;return!0}function nn(e){if(e instanceof Jt)return e.field.canonicalString()+e.op.toString()+xt(e.value);if(en(e))return e.filters.map((e=>nn(e))).join(",");{const t=e.filters.map((e=>nn(e))).join(",");return`${e.op}(${t})`}}function rn(e,t){return e instanceof Jt?function(e,t){return t instanceof Jt&&e.op===t.op&&e.field.isEqual(t.field)&&It(e.value,t.value)}(e,t):e instanceof Yt?function(e,t){return t instanceof Yt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rn(n,t.filters[r])),!0)}(e,t):void v()}function sn(e,t){const n=e.filters.concat(t);return Yt.create(n,e.op)}function on(e){return e instanceof Jt?function(e){return`${e.field.canonicalString()} ${e.op} ${xt(e.value)}`}(e):e instanceof Yt?function(e){return e.op.toString()+" {"+e.getFilters().map(on).join(" ,")+"}"}(e):"Filter"}class an extends Jt{constructor(e,t,n){super(e,t,n),this.key=z.fromName(n.referenceValue)}matches(e){const t=z.comparator(e.key,this.key);return this.matchesComparison(t)}}class cn extends Jt{constructor(e,t){super(e,"in",t),this.keys=ln(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class un extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=ln(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ln(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>z.fromName(e.referenceValue)))}class hn extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kt(t)&&Et(t.arrayValue,this.value)}}class dn extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Et(this.value.arrayValue,t)}}class fn extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Et(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Et(this.value.arrayValue,t)}}class pn extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kt(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Et(this.value.arrayValue,e)))}}class gn{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function mn(e,t=null,n=[],r=[],i=null,s=null,o=null){return new gn(e,t,n,r,i,s,o)}function yn(e){const t=b(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>nn(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ve(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>xt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>xt(e))).join(",")),t.ue=e}return t.ue}function vn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ht(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$t(e.startAt,t.startAt)&&$t(e.endAt,t.endAt)}function wn(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function bn(e,t){return e.filters.filter((e=>e instanceof Jt&&e.field.isEqual(t)))}function _n(e,t,n){let r=bt,i=!0;for(const n of bn(e,t)){let e=bt,t=!0;switch(n.op){case"<":case"<=":e=Ft(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=bt}Bt({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Bt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function In(e,t,n){let r=wt,i=!0;for(const n of bn(e,t)){let e=wt,t=!0;switch(n.op){case">=":case">":e=Vt(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=wt}Ut({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Ut({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class En{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sn(e,t,n,r,i,s,o,a){return new En(e,t,n,r,i,s,o,a)}function Tn(e){return new En(e)}function xn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cn(e){return null!==e.collectionGroup}function Dn(e){const t=b(e);if(null===t.ce){t.ce=[];const e=new Set;for(const n of t.explicitOrderBy)t.ce.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new it(j.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Qt(r,n))})),e.has(j.keyField().canonicalString())||t.ce.push(new Qt(j.keyField(),n))}return t.ce}function An(e){const t=b(e);return t.le||(t.le=kn(t,Dn(e))),t.le}function Nn(e){const t=b(e);return t.he||(t.he=kn(t,e.explicitOrderBy)),t.he}function kn(e,t){if("F"===e.limitType)return mn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Qt(e.field,t)}));const n=e.endAt?new Gt(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gt(e.startAt.position,e.startAt.inclusive):null;return mn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function On(e,t){const n=e.filters.concat([t]);return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ln(e,t,n){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Pn(e,t){return vn(An(e),An(t))&&e.limitType===t.limitType}function Mn(e){return`${yn(An(e))}|lt:${e.limitType}`}function Rn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>on(e))).join(", ")}]`),ve(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>xt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>xt(e))).join(",")),`Target(${t})`}(An(e))}; limitType=${e.limitType})`}function Fn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):z.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Dn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Kt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dn(e),t)||e.endAt&&!function(e,t,n){const r=Kt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dn(e),t))}(e,t)}function Vn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bn(e){return(t,n)=>{let r=!1;for(const i of Dn(e)){const e=Un(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Un(e,t,n){const r=e.field.isKeyField()?z.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?St(r,i):v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}class qn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xe(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return et(this.inner)}size(){return this.innerSize}}const jn=new tt(z.comparator);function zn(){return jn}const Gn=new tt(z.comparator);function Kn(...e){let t=Gn;for(const n of e)t=t.insert(n.key,n);return t}function $n(e){let t=Gn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Qn(){return Wn()}function Hn(){return Wn()}function Wn(){return new qn((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Jn=new tt(z.comparator),Yn=new it(z.comparator);function Xn(...e){let t=Yn;for(const n of e)t=t.add(n);return t}const Zn=new it(P);function er(){return Zn}function tr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:we(t)?"-0":t}}function nr(e){return{integerValue:""+e}}function rr(e,t){return be(t)?nr(t):tr(e,t)}class ir{constructor(){this._=void 0}}function sr(e,t,n){return e instanceof cr?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pt(t)&&(t=gt(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ur?lr(e,t):e instanceof hr?dr(e,t):function(e,t){const n=ar(e,t),r=pr(n)+pr(e.Pe);return Nt(n)&&Nt(e.Pe)?nr(r):tr(e.serializer,r)}(e,t)}function or(e,t,n){return e instanceof ur?lr(e,t):e instanceof hr?dr(e,t):n}function ar(e,t){return e instanceof fr?function(e){return Nt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cr extends ir{}class ur extends ir{constructor(e){super(),this.elements=e}}function lr(e,t){const n=gr(t);for(const t of e.elements)n.some((e=>It(e,t)))||n.push(t);return{arrayValue:{values:n}}}class hr extends ir{constructor(e){super(),this.elements=e}}function dr(e,t){let n=gr(t);for(const t of e.elements)n=n.filter((e=>!It(e,t)));return{arrayValue:{values:n}}}class fr extends ir{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function pr(e){return dt(e.integerValue||e.doubleValue)}function gr(e){return kt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class mr{constructor(e,t){this.field=e,this.transform=t}}class yr{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class br{}function _r(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kr(e.key,vr.none()):new xr(e.key,e.data,vr.none());{const n=e.data,r=qt.empty();let i=new it(j.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Cr(e.key,r,new at(i.toArray()),vr.none())}}function Ir(e,t,n){e instanceof xr?function(e,t,n){const r=e.value.clone(),i=Ar(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cr?function(e,t,n){if(!wr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ar(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Er(e,t,n,r){return e instanceof xr?function(e,t,n,r){if(!wr(e.precondition,t))return n;const i=e.value.clone(),s=Nr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cr?function(e,t,n,r){if(!wr(e.precondition,t))return n;const i=Nr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Dr(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return wr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Sr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ar(r.transform,e||null);null!=i&&(null===n&&(n=qt.empty()),n.set(r.field,i))}return n||null}function Tr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&M(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ur&&t instanceof ur||e instanceof hr&&t instanceof hr?M(e.elements,t.elements,It):e instanceof fr&&t instanceof fr?It(e.Pe,t.Pe):e instanceof cr&&t instanceof cr}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xr extends br{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cr extends br{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dr(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ar(e,t,n){const r=new Map;w(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,or(o,a,n[i]))}return r}function Nr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,sr(e,s,t))}return r}class kr extends br{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Or extends br{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Ir(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Er(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Er(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Hn();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=_r(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(V.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xn())}isEqual(e){return this.batchId===e.batchId&&M(this.mutations,e.mutations,((e,t)=>Tr(e,t)))&&M(this.baseMutations,e.baseMutations,((e,t)=>Tr(e,t)))}}class Pr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){w(e.mutations.length===n.length);let r=Jn;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Pr(e,t,n,r)}}class Mr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rr{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Fr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vr,Br;function Ur(e){switch(e){default:return v();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function qr(e){if(void 0===e)return g("GRPC error has no .code"),_.UNKNOWN;switch(e){case Vr.OK:return _.OK;case Vr.CANCELLED:return _.CANCELLED;case Vr.UNKNOWN:return _.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return _.INTERNAL;case Vr.UNAVAILABLE:return _.UNAVAILABLE;case Vr.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Vr.NOT_FOUND:return _.NOT_FOUND;case Vr.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Vr.ABORTED:return _.ABORTED;case Vr.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Vr.DATA_LOSS:return _.DATA_LOSS;default:return v()}}(Br=Vr||(Vr={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";let jr=null;function zr(){return new TextEncoder}const Gr=new a.Integer([4294967295,4294967295],0);function Kr(e){const t=zr().encode(e),n=new a.Md5;return n.update(t),new Uint8Array(n.digest())}function $r(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new a.Integer([n,r],0),new a.Integer([i,s],0)]}class Qr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Hr(`Invalid padding: ${t}`);if(n<0)throw new Hr(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Hr(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Hr(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=a.Integer.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(a.Integer.fromNumber(n)));return 1===r.compare(Gr)&&(r=new a.Integer([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Kr(e),[n,r]=$r(t);for(let e=0;e<this.hashCount;e++){const t=this.Ee(n,r,e);if(!this.de(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Qr(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Kr(e),[n,r]=$r(t);for(let e=0;e<this.hashCount;e++){const t=this.Ee(n,r,e);this.Ae(t)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Hr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Jr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wr(V.min(),r,new tt(P),zn(),Xn())}}class Jr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Jr(n,t,Xn(),Xn(),Xn())}}class Yr{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Xr{constructor(e,t){this.targetId=e,this.me=t}}class Zr{constructor(e,t,n=ut.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ei{constructor(){this.fe=0,this.ge=ri(),this.pe=ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Xn(),t=Xn(),n=Xn();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v()}})),new Jr(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=ri()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,w(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ti{constructor(e){this.Le=e,this.Be=new Map,this.ke=zn(),this.qe=ni(),this.Qe=new tt(P)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:v()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(wn(i))if(0===n){const e=new z(i.path);this.Ue(t,e,zt.newNoDocument(e,V.min()))}else w(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==jr||jr.et(function(e,t,n,r,i){var s,o,a,c,u,l;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(l=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ft(n).toUint8Array()}catch(e){if(e instanceof ct)return m("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Qr(s,r,i)}catch(e){return m(e instanceof Hr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&wn(i.target)){const t=new z(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,zt.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Xn();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Wr(e,t,this.Qe,this.ke,n);return this.ke=zn(),this.qe=ni(),this.Qe=new tt(P),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ei,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new it(P),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ei),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ni(){return new tt(z.comparator)}function ri(){return new tt(z.comparator)}const ii={asc:"ASCENDING",desc:"DESCENDING"},si={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oi={and:"AND",or:"OR"};class ai{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ci(e,t){return e.useProto3Json||ve(t)?t:{value:t}}function ui(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function li(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hi(e,t){return ui(e,t.toTimestamp())}function di(e){return w(!!e),V.fromTimestamp(function(e){const t=ht(e);return new F(t.seconds,t.nanos)}(e))}function fi(e,t){return pi(e,t).canonicalString()}function pi(e,t){const n=function(e){return new U(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function gi(e){const t=U.fromString(e);return w(Vi(t)),t}function mi(e,t){return fi(e.databaseId,t.path)}function yi(e,t){const n=gi(t);if(n.get(1)!==e.databaseId.projectId)throw new I(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new I(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new z(_i(n))}function vi(e,t){return fi(e.databaseId,t)}function wi(e){const t=gi(e);return 4===t.length?U.emptyPath():_i(t)}function bi(e){return new U(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _i(e){return w(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ii(e,t,n){return{name:mi(e,t),fields:n.value.mapValue.fields}}function Ei(e,t,n){const r=yi(e,t.name),i=di(t.updateTime),s=t.createTime?di(t.createTime):V.min(),o=new qt({mapValue:{fields:t.fields}}),a=zt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Si(e,t){let n;if(t instanceof xr)n={update:Ii(e,t.key,t.value)};else if(t instanceof kr)n={delete:mi(e,t.key)};else if(t instanceof Cr)n={update:Ii(e,t.key,t.data),updateMask:Fi(t.fieldMask)};else{if(!(t instanceof Or))return v();n={verify:mi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ur)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fr)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw v()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v()}(e,t.precondition)),n}function Ti(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?vr.updateTime(di(e.updateTime)):void 0!==e.exists?vr.exists(e.exists):vr.none()}(t.currentDocument):vr.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)w("REQUEST_TIME"===t.setToServerValue),n=new cr;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ur(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new hr(e)}else"increment"in t?n=new fr(e,t.increment):v();const r=j.fromServerFormat(t.fieldPath);return new mr(r,n)}(e,t))):[];if(t.update){t.update.name;const i=yi(e,t.update.name),s=new qt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new at(t.map((e=>j.fromServerFormat(e))))}(t.updateMask);return new Cr(i,s,e,n,r)}return new xr(i,s,n,r)}if(t.delete){const r=yi(e,t.delete);return new kr(r,n)}if(t.verify){const r=yi(e,t.verify);return new Or(r,n)}return v()}function xi(e,t){return{documents:[vi(e,t.path)]}}function Ci(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vi(e,i);const s=function(e){if(0!==e.length)return Ri(Yt.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Pi(e.field),direction:ki(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ci(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Di(e,t,n,r){const{_t:i,parent:s}=Ci(e,t),o={},a=[];let c=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+c++;o[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:Pi(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:Pi(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},ut:o,parent:s}}function Ai(e){let t=wi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){w(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ni(e);return t instanceof Yt&&en(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Qt(Mi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ve(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Gt(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Gt(n,t)}(n.endAt)),Sn(t,i,o,s,a,"F",c,u)}function Ni(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mi(e.unaryFilter.field);return Jt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Mi(e.unaryFilter.field);return Jt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mi(e.unaryFilter.field);return Jt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mi(e.unaryFilter.field);return Jt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return v()}}(e):void 0!==e.fieldFilter?function(e){return Jt.create(Mi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return v()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yt.create(e.compositeFilter.filters.map((e=>Ni(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return v()}}(e.compositeFilter.op))}(e):v()}function ki(e){return ii[e]}function Oi(e){return si[e]}function Li(e){return oi[e]}function Pi(e){return{fieldPath:e.canonicalString()}}function Mi(e){return j.fromServerFormat(e.fieldPath)}function Ri(e){return e instanceof Jt?function(e){if("=="===e.op){if(Lt(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NAN"}};if(Ot(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lt(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NOT_NAN"}};if(Ot(e.value))return{unaryFilter:{field:Pi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pi(e.field),op:Oi(e.op),value:e.value}}}(e):e instanceof Yt?function(e){const t=e.getFilters().map((e=>Ri(e)));return 1===t.length?t[0]:{compositeFilter:{op:Li(e.op),filters:t}}}(e):v()}function Fi(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Vi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bi{constructor(e,t,n,r,i=V.min(),s=V.min(),o=ut.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ui{constructor(e){this.ct=e}}function qi(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ji(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mi(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ui(e,t.version.toTimestamp()),createTime:ui(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zi(t.version)};else{if(!t.isUnknownDocument())return v();r.unknownDocument={path:n.path.toArray(),version:zi(t.version)}}return r}function ji(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zi(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Gi(e){const t=new F(e.seconds,e.nanoseconds);return V.fromTimestamp(t)}function Ki(e,t){const n=(t.baseMutations||[]).map((t=>Ti(e.ct,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Ti(e.ct,t))),i=F.fromMillis(t.localWriteTimeMs);return new Lr(t.batchId,i,n,r)}function $i(e){const t=Gi(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Gi(e.lastLimboFreeSnapshotVersion):V.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return w(1===e.documents.length),An(Tn(wi(e.documents[0])))}(e.query):function(e){return An(Ai(e))}(e.query),new Bi(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ut.fromBase64String(e.resumeToken))}function Qi(e,t){const n=zi(t.snapshotVersion),r=zi(t.lastLimboFreeSnapshotVersion);let i;i=wn(t.target)?xi(e.ct,t.target):Ci(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yn(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Hi(e){const t=Ai({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ln(t,t.limit,"L"):t}function Wi(e,t){return new Mr(t.largestBatchId,Ti(e.ct,t.overlayMutation))}function Ji(e,t){const n=t.path.lastSegment();return[e,_e(t.path.popLast()),n]}function Yi(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:zi(r.readTime),documentKey:_e(r.documentKey.path),largestBatchId:r.largestBatchId}}class Xi{getBundleMetadata(e,t){return Zi(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Gi(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Zi(e).put(function(e){return{bundleId:e.id,createTime:zi(di(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return es(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Hi(e.bundledQuery),readTime:Gi(e.readTime)}}(e)}))}saveNamedQuery(e,t){return es(e).put(function(e){return{name:e.name,readTime:zi(di(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Zi(e){return Je(e,"bundles")}function es(e){return Je(e,"namedQueries")}class ts{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new ts(e,n)}getOverlay(e,t){return ns(e).get(Ji(this.userId,t)).next((e=>e?Wi(this.serializer,e):null))}getOverlays(e,t){const n=Qn();return ie.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Mr(t,i);r.push(this.ht(e,s))})),ie.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(_e(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ns(e).j("collectionPathOverlayIndex",r))})),ie.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Qn(),i=_e(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ns(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Wi(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Qn();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ns(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Wi(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return ns(e).put(function(e,t,n){const[r,i,s]=Ji(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Si(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function ns(e){return Je(e,"documentOverlays")}class rs{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(dt(e.integerValue));else if("doubleValue"in e){const n=dt(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),we(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=ht(n)),t.At(`${n.seconds||""}`),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ft(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Rt(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):v()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const e of Object.keys(n))this.Rt(e,t),this.It(n[e],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const e of n)this.It(e,t)}gt(e,t){this.Et(t,37),z.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function is(e){if(0===e)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function ss(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=is(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}rs.bt=new rs;class os{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=ss(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}qt(e){const t=this.Bt(e),n=ss(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class as{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class cs{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class us{constructor(){this.Gt=new os,this.zt=new as(this.Gt),this.jt=new cs(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ls{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ls(this.indexId,this.documentKey,this.arrayValue,n)}}function hs(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=ds(e.arrayValue,t.arrayValue),0!==n?n:(n=ds(e.directionalValue,t.directionalValue),0!==n?n:z.comparator(e.documentKey,t.documentKey)))}function ds(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class fs{constructor(e){this.Yt=new it(((e,t)=>j.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(w(e.collectionGroup===this.collectionId),this.en)return!1;const t=K(e);if(void 0!==t&&!this.nn(t))return!1;const n=$(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new it(j.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new H(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new H(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new H(n.field,"asc"===n.dir?0:1)));return new G(G.UNKNOWN_ID,this.collectionId,t,J.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ps(e){var t,n;if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt){if(e instanceof dn){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Jt.create(e.field,"==",t))))||[];return Yt.create(r,"or")}return e}const r=e.filters.map((e=>ps(e)));return Yt.create(r,e.op)}function gs(e){if(0===e.getFilters().length)return[];const t=ws(ps(e));return w(vs(t)),ms(t)||ys(t)?[t]:t.getFilters()}function ms(e){return e instanceof Jt}function ys(e){return e instanceof Yt&&en(e)}function vs(e){return ms(e)||ys(e)||function(e){if(e instanceof Yt&&Zt(e)){for(const t of e.getFilters())if(!ms(t)&&!ys(t))return!1;return!0}return!1}(e)}function ws(e){if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt)return e;if(1===e.filters.length)return ws(e.filters[0]);const t=e.filters.map((e=>ws(e)));let n=Yt.create(t,e.op);return n=Is(n),vs(n)?n:(w(n instanceof Yt),w(Xt(n)),w(n.filters.length>1),n.filters.reduce(((e,t)=>bs(e,t))))}function bs(e,t){let n;return w(e instanceof Jt||e instanceof Yt),w(t instanceof Jt||t instanceof Yt),n=e instanceof Jt?t instanceof Jt?function(e,t){return Yt.create([e,t],"and")}(e,t):_s(e,t):t instanceof Jt?_s(t,e):function(e,t){if(w(e.filters.length>0&&t.filters.length>0),Xt(e)&&Xt(t))return sn(e,t.getFilters());const n=Zt(e)?e:t,r=Zt(e)?t:e,i=n.filters.map((e=>bs(e,r)));return Yt.create(i,"or")}(e,t),Is(n)}function _s(e,t){if(Xt(t))return sn(t,e.getFilters());{const n=t.filters.map((t=>bs(e,t)));return Yt.create(n,"or")}}function Is(e){if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt)return e;const t=e.getFilters();if(1===t.length)return Is(t[0]);if(tn(e))return e;const n=t.map((e=>Is(e))),r=[];return n.forEach((t=>{t instanceof Jt?r.push(t):t instanceof Yt&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Yt.create(r,e.op)}class Es{constructor(){this._n=new Ss}addToCollectionParentIndex(e,t){return this._n.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Z.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Z.min())}updateCollectionGroup(e,t,n){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Ss{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new it(U.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new it(U.comparator)).toArray()}}const Ts=new Uint8Array(0);class xs{constructor(e,t){this.databaseId=t,this.an=new Ss,this.un=new qn((e=>yn(e)),((e,t)=>vn(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:_e(r)};return Cs(e).put(i)}return ie.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[R(t),""],!1,!0);return Cs(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Se(r.parent))}return n}))}addFieldIndex(e,t){const n=As(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Ns(e);return i.next((e=>{n.put(Yi(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=As(e),r=Ns(e),i=Ds(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=As(e),n=Ds(e),r=Ns(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return ie.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new fs(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Ds(e);let r=!0;const i=new Map;return ie.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Xn();const r=[];return ie.forEach(i,((i,s)=>{p("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${yn(t)}`);const o=function(e,t){const n=K(t);if(void 0===n)return null;for(const t of bn(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of $(t))for(const t of bn(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of $(t)){const t=0===i.kind?_n(e,i.fieldPath,e.startAt):In(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Gt(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of $(t)){const t=0===i.kind?In(e,i.fieldPath,e.endAt):_n(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Gt(n,r)}(s,i),l=this.hn(i,s,c),h=this.hn(i,s,u),d=this.Pn(i,s,a),f=this.In(i.indexId,o,l,c.inclusive,h,u.inclusive,d);return ie.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=z.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return ie.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:gs(Yt.create(e.filters,"and")).map((t=>mn(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),u=[];for(let l=0;l<a;++l){const a=t?this.Tn(t[l/c]):Ts,h=this.En(e,a,n[l%c],r),d=this.dn(e,a,i[l%c],s),f=o.map((t=>this.En(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}En(e,t,n,r){const i=new ls(e,z.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new ls(e,z.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new fs(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return ie.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new it(j.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new us;for(const r of $(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);rs.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new us;return rs.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new us;return rs.bt.Pt(At(this.databaseId,t),n.Ht(function(e){const t=$(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new us);let i=0;for(const s of $(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&kt(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);rs.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new us;r.seed(n.Wt()),rs.bt.Pt(e,r.Ht(t.kind)),i.push(r)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Jt&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=As(e),r=Ns(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return ie.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new J(t.sequenceNumber,new Z(Gi(t.readTime),new z(Se(t.documentKey)),t.largestBatchId)):J.empty(),r=e.fields.map((([e,t])=>new H(j.fromServerFormat(e),t)));return new G(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:P(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=As(e),i=Ns(e);return this.gn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ie.forEach(t,(t=>i.put(Yi(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ie.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?ie.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ie.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?ie.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Ds(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Ds(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Ds(e);let i=new it(hs);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new ls(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new it(hs);const r=this.An(t,e);if(null==r)return n;const i=K(t);if(null!=i){const s=e.data.field(i.fieldPath);if(kt(s))for(const i of s.arrayValue.values||[])n=n.add(new ls(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new ls(t.indexId,e.key,Ts,r));return n}wn(e,t,n,r,i){p("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=ot(s),c=ot(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=ot(o)):t?(i(a),a=ot(s)):(a=ot(s),c=ot(o))}}(r,i,hs,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),ie.waitFor(s)}gn(e){let t=1;return Ns(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>hs(e,t))).filter(((e,t,n)=>!t||0!==hs(e,n[t-1])));const r=[];r.push(e);for(const i of n){const n=hs(i,e),s=hs(i,t);if(0===n)r[0]=e.Jt();else if(n>0&&s<0)r.push(i),r.push(i.Jt());else if(s>0)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.Dn(r[e],r[e+1]))return[];const t=[r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,Ts,[]],n=[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,Ts,[]];i.push(IDBKeyRange.bound(t,n))}return i}Dn(e,t){return hs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ks)}getMinOffset(e,t){return ie.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||v())))).next(ks)}}function Cs(e){return Je(e,"collectionParents")}function Ds(e){return Je(e,"indexEntries")}function As(e){return Je(e,"indexConfiguration")}function Ns(e){return Je(e,"indexState")}function ks(e){w(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ee(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Z(t.readTime,t.documentKey,n)}const Os={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ps(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{w(1===a)})));const u=[];for(const e of n.mutations){const r=Ce(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return ie.waitFor(s).next((()=>u))}function Ms(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v();t=e.noDocument}return JSON.stringify(t).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class Rs{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){w(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Rs(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Bs(e),s=Vs(e);return s.add({}).next((o=>{w("number"==typeof o);const a=new Lr(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Si(e.ct,t))),i=n.mutations.map((t=>Si(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let l=new it(((e,t)=>P(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ce(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(i.put(t,De))}return l.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),ie.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Vs(e).get(t).next((e=>e?(w(e.userId===this.userId),Ki(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?ie.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Vs(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(w(t.batchId>=n),i=Ki(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Vs(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).U("userMutationsIndex",t).next((e=>e.map((e=>Ki(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=xe(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Bs(e).J({range:r},((n,r,s)=>{const[o,a,c]=n,u=Se(a);if(o===this.userId&&t.path.isEqual(u))return Vs(e).get(c).next((e=>{if(!e)throw v();w(e.userId===this.userId),i.push(Ki(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new it(P);const r=[];return t.forEach((t=>{const i=xe(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Bs(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,c=Se(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),ie.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=xe(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new it(P);return Bs(e).J({range:s},((e,t,i)=>{const[s,a,c]=e,u=Se(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Vs(e).get(t).next((e=>{if(null===e)throw v();w(e.userId===this.userId),n.push(Ki(this.serializer,e))})))})),ie.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ps(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),ie.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ie.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Bs(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Se(e[1]);r.push(t)}else n.done()})).next((()=>{w(0===r.length)}))}))}containsKey(e,t){return Fs(e,this.userId,t)}xn(e){return Us(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Fs(e,t,n){const r=xe(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Bs(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Vs(e){return Je(e,"mutations")}function Bs(e){return Je(e,"documentMutations")}function Us(e){return Je(e,"mutationQueues")}class qs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qs(0)}static Ln(){return new qs(-1)}}class js{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new qs(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>V.fromTimestamp(new F(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>zs(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(w(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return zs(e).J(((s,o)=>{const a=$i(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>ie.waitFor(i))).next((()=>r))}forEachTarget(e,t){return zs(e).J(((e,n)=>{const r=$i(n);t(r)}))}Bn(e){return Gs(e).get("targetGlobalKey").next((e=>(w(null!==e),e)))}kn(e,t){return Gs(e).put("targetGlobalKey",t)}qn(e,t){return zs(e).put(Qi(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=yn(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return zs(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=$i(n);vn(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ks(e);return t.forEach((t=>{const s=_e(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),ie.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ks(e);return ie.forEach(t,(t=>{const i=_e(t.path);return ie.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ks(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ks(e);let i=Xn();return r.J({range:n,H:!0},((e,t,n)=>{const r=Se(e[1]),s=new z(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=_e(t.path),r=IDBKeyRange.bound([n],[R(n)],!1,!0);let i=0;return Ks(e).J({index:"documentTargetsIndex",H:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}ot(e,t){return zs(e).get(t).next((e=>e?$i(e):null))}}function zs(e){return Je(e,"targets")}function Gs(e){return Je(e,"targetGlobal")}function Ks(e){return Je(e,"targetDocuments")}function $s([e,t],[n,r]){const i=P(e,n);return 0===i?P(t,r):i}class Qs{constructor(e){this.Kn=e,this.buffer=new it($s),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();$s(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hs{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){p("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){le(e)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await re(e)}await this.zn(3e5)}))}}class Ws{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(ye.oe);const n=new Qs(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Os)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Os):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,a,c,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),f()<=s.LogLevel.DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(c-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-c)+"ms\n"+`Total Duration: ${u-l}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Js(e,t){return new Ws(e,t)}class Ys{constructor(e,t){this.db=e,this.garbageCollector=Js(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Xs(e,n)}removeReference(e,t,n){return Xs(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Xs(e,t)}er(e,t){return function(e,t){let n=!1;return Us(e).Y((r=>Fs(e,r,t).next((e=>(e&&(n=!0),ie.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,V.min()),Ks(e).delete(function(e){return[0,_e(e.path)]}(s)))))}));r.push(t)}})).next((()=>ie.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Xs(e,t)}Xn(e,t){const n=Ks(e);let r,i=ye.oe;return n.J({index:"documentTargetsIndex"},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==ye.oe&&t(new z(Se(r)),i),i=o,r=s):i=ye.oe})).next((()=>{i!==ye.oe&&t(new z(Se(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xs(e,t){return Ks(e).put(function(e,t){return{targetId:0,path:_e(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Zs{constructor(){this.changes=new qn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eo{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return io(e).put(n)}removeEntry(e,t,n){return io(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ji(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=zt.newInvalidDocument(t);return io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(so(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:zt.newInvalidDocument(t)};return io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(so(t))},((e,r)=>{n={document:this.nr(t,r),size:Ms(r)}})).next((()=>n))}getEntries(e,t){let n=zn();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=zn(),r=new tt(z.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Ms(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return ie.resolve();let r=new it(ao);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(so(r.first()),so(r.last())),s=r.getIterator();let o=s.getNext();return io(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=z.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&ao(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(so(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),ji(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return io(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=zn();for(const i of e){const e=this.nr(z.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Fn(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=zn();const s=oo(t,n),o=oo(t,Z.max());return io(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(z.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new no(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ro(e).get("remoteDocumentGlobalKey").next((e=>(w(!!e),e)))}tr(e,t){return ro(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ei(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=z.fromSegments(t.noDocument.path),r=Gi(t.noDocument.readTime);n=zt.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return v();{const e=z.fromSegments(t.unknownDocument.path),r=Gi(t.unknownDocument.version);n=zt.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new F(e[0],e[1]);return V.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(V.min()))return e}return zt.newInvalidDocument(e)}}function to(e){return new eo(e)}class no extends Zs{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new qn((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new it(((e,t)=>P(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=qi(this.ar.serializer,s);r=r.add(i.path.popLast());const c=Ms(a);n+=c-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=qi(this.ar.serializer,s.convertToNoDocument(V.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),ie.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((({documents:e,_r:t})=>(t.forEach(((t,n)=>{this.ur.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function ro(e){return Je(e,"remoteDocumentGlobal")}function io(e){return Je(e,"remoteDocumentsV14")}function so(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function oo(e,t){const n=t.documentKey.path.toArray();return[e,ji(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ao(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=P(n[e],r[e]),i)return i;return i=P(n.length,r.length),i||(i=P(n[n.length-2],r[r.length-2]),i||P(n[n.length-1],r[r.length-1]))}class co{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Er(n.mutation,e,at.empty(),F.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Xn()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Xn()){const r=Qn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Kn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Qn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xn())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=zn();const s=Wn(),o=Wn();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Cr)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Er(o.mutation,t,o.mutation.getFieldMask(),F.now())):s.set(t.key,at.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new co(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Wn();let r=new tt(((e,t)=>e-t)),i=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||at.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Xn()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=Hn();c.forEach((e=>{if(!i.has(e)){const r=_r(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return ie.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ie.resolve(Qn());let o=-1,a=i;return s.next((t=>ie.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ie.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Xn()))).next((e=>({batchId:o,changes:$n(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next((e=>{let t=Kn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Kn();return this.indexManager.getCollectionParents(e,i).next((o=>ie.forEach(o,(o=>{const a=function(e,t){return new En(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,zt.newInvalidDocument(r)))}));let n=Kn();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Er(s.mutation,r,at.empty(),F.now()),Fn(t,r)&&(n=n.insert(e,r))})),n}))}}class lo{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ie.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:di(e.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Hi(e.bundledQuery),readTime:di(e.readTime)}}(t)),ie.resolve()}}class ho{constructor(){this.overlays=new tt(z.comparator),this.hr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qn();return ie.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ie.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ie.resolve()}getOverlaysForCollection(e,t,n){const r=Qn(),i=t.length+1,s=new z(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ie.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new tt(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Qn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Qn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return ie.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Mr(t,n));let i=this.hr.get(t);void 0===i&&(i=Xn(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class fo{constructor(){this.Pr=new it(po.Ir),this.Tr=new it(po.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new po(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new po(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new z(new U([])),n=new po(t,e),r=new po(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new z(new U([])),n=new po(t,e),r=new po(t,e+1);let i=Xn();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new po(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class po{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return z.comparator(e.key,t.key)||P(e.pr,t.pr)}static Er(e,t){return P(e.pr,t.pr)||z.comparator(e.key,t.key)}}class go{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new it(po.Ir)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Lr(i,t,n,r);this.mutationQueue.push(s);for(const t of r)this.wr=this.wr.add(new po(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,t){return ie.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return ie.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new po(t,0),r=new po(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),ie.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new it(P);return t.forEach((e=>{const t=new po(e,0),r=new po(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),ie.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;z.isDocumentKey(i)||(i=i.child(""));const s=new po(new z(i),0);let o=new it(P);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),ie.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){w(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ie.forEach(t.mutations,(r=>{const i=new po(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new po(t,0),r=this.wr.firstAfterOrEqual(n);return ie.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mo{constructor(e){this.vr=e,this.docs=new tt(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ie.resolve(n?n.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let n=zn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():zt.newInvalidDocument(e))})),ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=zn();const s=t.path,o=new z(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ee(X(o),n)<=0||(r.has(o.key)||Fn(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ie.resolve(i)}getAllFromCollectionGroup(e,t,n,r){v()}Fr(e,t){return ie.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new yo(this)}getSize(e){return ie.resolve(this.size)}}class yo extends Zs{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),ie.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class vo{constructor(e){this.persistence=e,this.Mr=new qn((e=>yn(e)),vn),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fo,this.targetCount=0,this.Lr=qs.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ie.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new qs(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.qn(t),ie.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),ie.waitFor(i).next((()=>r))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ie.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ie.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ie.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ie.resolve(n)}containsKey(e,t){return ie.resolve(this.Nr.containsKey(t))}}class wo{constructor(e,t){this.Br={},this.overlays={},this.kr=new ye(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vo(this),this.indexManager=new Es,this.remoteDocumentCache=function(e){return new mo(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Ui(t),this.$r=new lo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ho,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new go(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const r=new bo(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return ie.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class bo extends ne{constructor(e){super(),this.currentSequenceNumber=e}}class _o{constructor(e){this.persistence=e,this.zr=new fo,this.jr=null}static Hr(e){return new _o(e)}get Jr(){if(this.jr)return this.jr;throw v()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ie.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ie.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Jr,(n=>{const r=z.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,V.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ie.or([()=>ie.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Io{constructor(e,t){this.persistence=e,this.Zr=new qn((e=>_e(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Js(this,t)}static Hr(e,t){return new Io(e,t)}Ur(){}Wr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Hn(e){const t=this.Zn(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}Jn(e,t){return ie.forEach(this.Zr,((n,r)=>this.er(e,n,r).next((e=>e?ie.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Fr(e,(r=>this.er(e,r,t).next((e=>{e||(n++,i.removeEntry(r,V.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Zr.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.Zr.set(t,e.currentSequenceNumber),ie.resolve()}Kr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dt(e.data.value)),t}er(e,t,n){return ie.or([()=>this.persistence.Gr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Zr.get(t);return ie.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Eo{constructor(e){this.serializer=e}O(e,t,n,r){const i=new se("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Te,{unique:!0}),e.createObjectStore("documentMutations")}(e),So(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=ie.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),So(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:V.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Te,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return ie.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ue});t.createIndex("collectionPathOverlayIndex",qe,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",je,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ae});t.createIndex("documentKeyIndex",Ne),t.createIndex("collectionGroupIndex",ke)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Re}).createIndex("sequenceNumberIndex",Fe,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ve}).createIndex("documentKeyIndex",Be,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}ei(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Ms(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>ie.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>ie.forEach(n,(n=>{w(n.userId===t.userId);const r=Ki(this.serializer,n);return Ps(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new U(n),o=function(e){return[0,_e(e)]}(s);r.push(t.get(o).next((n=>n?ie.resolve():(n=>t.put({targetId:0,path:_e(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>ie.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Me});const n=t.store("collectionParents"),r=new Ss,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:_e(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new U(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},(([e,t,n],r)=>{const s=Se(t);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.J(((e,n)=>{const r=$i(n),i=Qi(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new z(U.fromString(e.document.name).popFirst(5)):e.noDocument?z.fromSegments(e.noDocument.path):e.unknownDocument?z.fromSegments(e.unknownDocument.path):v()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>ie.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=to(this.serializer),i=new wo(_o.Hr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Xn();Ki(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),ie.forEach(n,((e,n)=>{const s=new l(n),o=ts.lt(this.serializer,s),a=i.getIndexManager(s),c=Rs.lt(s,this.serializer,a,i.referenceDelegate);return new uo(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new We(t,ye.oe),e).next()}))}))}}function So(e){e.createObjectStore("targetDocuments",{keyPath:Le}).createIndex("documentTargetsIndex",Pe,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oe,{unique:!0}),e.createObjectStore("targetGlobal")}const To="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xo{constructor(e,t,n,r,i,s,o,a,c,u,l=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=c,this.ai=u,this.ui=l,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!xo.D())throw new I(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ys(this,r),this.Ti=t+"main",this.serializer=new Ui(a),this.Ei=new oe(this.Ti,this.ui,new Eo(this.serializer)),this.Qr=new js(this.referenceDelegate,this.serializer),this.remoteDocumentCache=to(this.serializer),this.$r=new Xi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new I(_.FAILED_PRECONDITION,To);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new ye(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Do(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(le(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Co(e).get("owner").next((e=>ie.resolve(this.Si(e))))}bi(e){return Do(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Je(e,"clientMetadata");return t.U().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return ie.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ie.resolve(!0):Co(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new I(_.FAILED_PRECONDITION,To);return!1}}return!(!this.networkEnabled||!this.inForeground)||Do(e).U().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&p("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new We(e,ye.oe);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Do(e).U().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Rs.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xs(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ts.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){p("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?He:15===e?Qe:14===e?$e:13===e?Ke:12===e?Ge:11===e?ze:void v()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new We(r,this.kr?this.kr.next():ye.oe),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw g(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new I(_.FAILED_PRECONDITION,te);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Co(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new I(_.FAILED_PRECONDITION,To)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Co(e).put("owner",t)}static D(){return oe.D()}yi(e){const t=Co(e);return t.get("owner").next((e=>this.Si(e)?(p("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t||e>n&&(g(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;o.isSafari()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return p("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return g("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){g("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Co(e){return Je(e,"owner")}function Do(e){return Je(e,"clientMetadata")}function Ao(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class No{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Xn(),r=Xn();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new No(e,t.fromCache,n,r)}}class ko{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Oo{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=o.isSafari()?8:ae(o.getUA())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ko;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(f()<=s.LogLevel.DEBUG&&p("QueryEngine","SDK will not create cache indexes for query:",Rn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ie.resolve()):(f()<=s.LogLevel.DEBUG&&p("QueryEngine","Query:",Rn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(f()<=s.LogLevel.DEBUG&&p("QueryEngine","The SDK decides to create cache indexes for query:",Rn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(t))):ie.resolve())}ji(e,t){if(xn(t))return ie.resolve(null);let n=An(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ln(t,null,"F"),n=An(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Xn(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Ln(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return xn(t)||r.isEqual(V.min())?ie.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?ie.resolve(null):(f()<=s.LogLevel.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rn(t)),this.es(e,o,t,Y(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new it(Bn(e));return t.forEach(((t,r)=>{Fn(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return f()<=s.LogLevel.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",Rn(t)),this.zi.getDocumentsMatchingQuery(e,t,Z.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Lo{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new tt(P),this.rs=new qn((e=>yn(e)),vn),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uo(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Po(e,t,n,r){return new Lo(e,t,n,r)}async function Mo(e,t){const n=b(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Xn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ro(e){const t=b(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Fo(e,t,n){let r=Xn(),i=Xn();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=zn();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(V.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Vo(e,t){const n=b(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bo(e,t){const n=b(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,ie.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Bi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Uo(e,t,n){const r=b(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!le(e))throw e;p("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function qo(e,t,n){const r=b(e);let i=V.min(),s=Xn();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=b(e),i=r.rs.get(n);return void 0!==i?ie.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,An(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:V.min(),n?s:Xn()))).next((e=>(Go(r,Vn(t),e),{documents:e,hs:s})))))}function jo(e,t){const n=b(e),r=b(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function zo(e,t){const n=b(e),r=n.ss.get(t)||V.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Y(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Go(n,t,e),e)))}function Go(e,t,n){let r=e.ss.get(t)||V.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Ko(e,t,n=Xn()){const r=await Bo(e,An(Hi(t.bundledQuery))),i=b(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=di(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(ut.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function $o(e,t){return`firestore_clients_${e}_${t}`}function Qo(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Ho(e,t){return`firestore_targets_${e}_${t}`}class Wo{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new I(r.error.code,r.error.message))),s?new Wo(e,t,r.state,i):(g("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jo{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new I(n.error.code,n.error.message))),i?new Jo(e,n.state,r):(g("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yo{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=er();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=be(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Yo(e,i):(g("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xo{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xo(t.clientId,t.onlineState):(g("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zo{constructor(){this.activeTargetIds=er()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ea{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new tt(P),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=$o(this.persistenceKey,this.Vs),this.Ss=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Zo),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Fs=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const t of e){if(t===this.Vs)continue;const e=this.getItem($o(this.persistenceKey,t));if(e){const n=Yo.Es(t,e);n&&(this.ps=this.ps.insert(n.clientId,n))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const e of this.ys)this.gs(e);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Ho(this.persistenceKey,e));if(n){const r=Jo.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ho(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t}setItem(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=ye.oe;if(null!=e)try{const n=JSON.parse(e);w("number"==typeof n),t=n}catch(e){g("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ye.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new Wo(this.currentUser,e,t,n),i=Qo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=Qo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Ho(this.persistenceKey,e),i=new Jo(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Yo.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wo.Es(new l(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Jo.Es(r,t)}xs(e){return Xo.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);p("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=er();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class ta{constructor(){this.no=new Zo,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class na{io(e){}shutdown(){}}class ra{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ia=null;function sa(){return null===ia?ia=268435456+Math.round(2147483648*Math.random()):ia++,"0x"+ia.toString(16)}const oa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aa{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const ca="WebChannelConnection";class ua extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So=`projects/${n}/databases/${r}`,this.bo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Do(){return!1}Co(e,t,n,r,i){const s=sa(),o=this.vo(e,t.toUriEncodedString());p("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,o,a,n).then((t=>(p("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw m("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=oa[e];return`${this.wo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=sa();return new Promise(((s,o)=>{const a=new c.XhrIo;a.setWithCredentials(!0),a.listenOnce(c.EventType.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case c.ErrorCode.NO_ERROR:const t=a.getResponseJson();p(ca,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case c.ErrorCode.TIMEOUT:p(ca,`RPC '${e}' ${i} timed out`),o(new I(_.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:const n=a.getStatus();if(p(ca,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(t)>=0?t:_.UNKNOWN}(t.status);o(new I(e,t.message))}else o(new I(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new I(_.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p(ca,`RPC '${e}' ${i} completed.`)}}));const u=JSON.stringify(r);p(ca,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",u,n,15)}))}Oo(e,t,n){const r=sa(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=c.createWebChannelTransport(),o=c.getStatEventTarget(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.xmlHttpFactory=new c.FetchXmlHttpFactory({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");p(ca,`Creating RPC '${e}' stream ${r}: ${l}`,a);const h=s.createWebChannel(l,a);let d=!1,f=!1;const g=new aa({lo:t=>{f?p(ca,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(p(ca,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),p(ca,`RPC '${e}' stream ${r} sending:`,t),h.send(t))},ho:()=>h.close()}),y=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return y(h,c.WebChannel.EventType.OPEN,(()=>{f||(p(ca,`RPC '${e}' stream ${r} transport opened.`),g.mo())})),y(h,c.WebChannel.EventType.CLOSE,(()=>{f||(f=!0,p(ca,`RPC '${e}' stream ${r} transport closed`),g.po())})),y(h,c.WebChannel.EventType.ERROR,(t=>{f||(f=!0,m(ca,`RPC '${e}' stream ${r} transport errored:`,t),g.po(new I(_.UNAVAILABLE,"The operation could not be completed")))})),y(h,c.WebChannel.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];w(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){p(ca,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Vr[e];if(void 0!==t)return qr(t)}(t),i=o.message;void 0===n&&(n=_.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),f=!0,g.po(new I(n,i)),h.close()}else p(ca,`RPC '${e}' stream ${r} received:`,i),g.yo(i)}})),y(o,c.Event.STAT_EVENT,(t=>{t.stat===c.Stat.PROXY?p(ca,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===c.Stat.NOPROXY&&p(ca,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{g.fo()}),0),g}}function la(){return"undefined"!=typeof window?window:null}function ha(){return"undefined"!=typeof document?document:null}function da(e){return new ai(e,!0)}class fa{constructor(e,t,n=1e3,r=1.5,i=6e4){this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&p("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class pa{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new fa(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===_.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.jo===t&&this.u_(e,n)}),(t=>{e((()=>{const e=new I(_.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return p("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ga extends pa{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(w(void 0===t||"string"==typeof t),ut.fromBase64String(t||"")):(w(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ut.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?_.UNKNOWN:qr(e.code);return new I(t,e.message||"")}(o);n=new Zr(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=yi(e,r.document.name),s=di(r.document.updateTime),o=r.document.createTime?di(r.document.createTime):V.min(),a=new qt({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Yr(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=yi(e,r.document),s=r.readTime?di(r.readTime):V.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yr([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=yi(e,r.document),s=r.removedTargetIds||[];n=new Yr([],s,i,null)}else{if(!("filter"in t))return v();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Fr(r,i),o=e.targetId;n=new Xr(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return V.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?V.min():t.readTime?di(t.readTime):V.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=bi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wn(r)?{documents:xi(e,r)}:{query:Ci(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=li(e,t.resumeToken);const r=ci(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(V.min())>0){n.readTime=ui(e,t.snapshotVersion.toTimestamp());const r=ci(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return v()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=bi(this.serializer),t.removeTarget=e,this.i_(t)}}class ma extends pa{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(w(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(w(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?di(e.updateTime):di(t);return n.isEqual(V.min())&&(n=di(t)),new yr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=di(e.commitTime);return this.listener.A_(n,t)}return w(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=bi(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Si(this.serializer,e)))};this.i_(t)}}class ya extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new I(_.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Co(e,pi(t,n),r,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(_.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.xo(e,pi(t,n),r,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(_.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class va{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(g(t),this.y_=!1):p("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class wa{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Da(this)&&(p("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=b(e);t.M_.add(4),await _a(t),t.N_.set("Unknown"),t.M_.delete(4),await ba(t)}(this))}))})),this.N_=new va(n,r)}}async function ba(e){if(Da(e))for(const t of e.x_)await t(!0)}async function _a(e){for(const t of e.x_)await t(!1)}function Ia(e,t){const n=b(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Ca(n)?xa(n):Qa(n).Xo()&&Sa(n,t))}function Ea(e,t){const n=b(e),r=Qa(n);n.F_.delete(t),r.Xo()&&Ta(n,t),0===n.F_.size&&(r.Xo()?r.n_():Da(n)&&n.N_.set("Unknown"))}function Sa(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(V.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qa(e).P_(t)}function Ta(e,t){e.L_.xe(t),Qa(e).I_(t)}function xa(e){e.L_=new ti({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Qa(e).start(),e.N_.w_()}function Ca(e){return Da(e)&&!Qa(e).Zo()&&e.F_.size>0}function Da(e){return 0===b(e).M_.size}function Aa(e){e.L_=void 0}async function Na(e){e.N_.set("Online")}async function ka(e){e.F_.forEach(((t,n)=>{Sa(e,t)}))}async function Oa(e,t){Aa(e),Ca(e)?(e.N_.D_(t),xa(e)):e.N_.set("Unknown")}async function La(e,t,n){if(e.N_.set("Online"),t instanceof Zr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Pa(e,n)}else if(t instanceof Yr?e.L_.Ke(t):t instanceof Xr?e.L_.He(t):e.L_.We(t),!n.isEqual(V.min()))try{const t=await Ro(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(ut.EMPTY_BYTE_STRING,r.snapshotVersion)),Ta(e,t);const i=new Bi(r.target,t,n,r.sequenceNumber);Sa(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){p("RemoteStore","Failed to raise snapshot:",t),await Pa(e,t)}}async function Pa(e,t,n){if(!le(t))throw t;e.M_.add(1),await _a(e),e.N_.set("Offline"),n||(n=()=>Ro(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{p("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await ba(e)}))}function Ma(e,t){return t().catch((n=>Pa(e,n,t)))}async function Ra(e){const t=b(e),n=Ha(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Fa(t);)try{const e=await Vo(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,Va(t,e)}catch(e){await Pa(t,e)}Ba(t)&&Ua(t)}function Fa(e){return Da(e)&&e.v_.length<10}function Va(e,t){e.v_.push(t);const n=Ha(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Ba(e){return Da(e)&&!Ha(e).Zo()&&e.v_.length>0}function Ua(e){Ha(e).start()}async function qa(e){Ha(e).V_()}async function ja(e){const t=Ha(e);for(const n of e.v_)t.d_(n.mutations)}async function za(e,t,n){const r=e.v_.shift(),i=Pr.from(r,t,n);await Ma(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ra(e)}async function Ga(e,t){t&&Ha(e).E_&&await async function(e,t){if(function(e){return Ur(e)&&e!==_.ABORTED}(t.code)){const n=e.v_.shift();Ha(e).t_(),await Ma(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ra(e)}}(e,t),Ba(e)&&Ua(e)}async function Ka(e,t){const n=b(e);n.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials");const r=Da(n);n.M_.add(3),await _a(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await ba(n)}async function $a(e,t){const n=b(e);t?(n.M_.delete(2),await ba(n)):t||(n.M_.add(2),await _a(n),n.N_.set("Unknown"))}function Qa(e){return e.B_||(e.B_=function(e,t,n){const r=b(e);return r.f_(),new ga(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Na.bind(null,e),To:ka.bind(null,e),Ao:Oa.bind(null,e),h_:La.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Ca(e)?xa(e):e.N_.set("Unknown")):(await e.B_.stop(),Aa(e))}))),e.B_}function Ha(e){return e.k_||(e.k_=function(e,t,n){const r=b(e);return r.f_(),new ma(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:qa.bind(null,e),Ao:Ga.bind(null,e),R_:ja.bind(null,e),A_:za.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await Ra(e)):(await e.k_.stop(),e.v_.length>0&&(p("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))}))),e.k_}class Wa{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new E,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Wa(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new I(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ja(e,t){if(g("AsyncQueue",`${t}: ${e}`),le(e))return new I(_.UNAVAILABLE,`${t}: ${e}`);throw e}class Ya{constructor(e){this.comparator=e?(t,n)=>e(t,n)||z.comparator(t.key,n.key):(e,t)=>z.comparator(e.key,t.key),this.keyedMap=Kn(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Ya(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ya))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ya;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xa{constructor(){this.q_=new tt(z.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):v():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Za{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Za(e,t,Ya.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Pn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class ec{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class tc{constructor(){this.queries=new qn((e=>Mn(e)),Pn),this.onlineState="Unknown",this.z_=new Set}}async function nc(e,t){const n=b(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new ec,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ja(e,`Initialization of query '${Rn(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&oc(n)}async function rc(e,t){const n=b(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ic(e,t){const n=b(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.U_)t.H_(e)&&(r=!0);i.K_=e}}r&&oc(n)}function sc(e,t,n){const r=b(e),i=r.queries.get(t);if(i)for(const e of i.U_)e.onError(n);r.queries.delete(t)}function oc(e){e.z_.forEach((e=>{e.next()}))}var ac,cc;(cc=ac||(ac={})).J_="default",cc.Cache="cache";class uc{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Za(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ac.Cache}}class lc{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class hc{constructor(e){this.serializer=e}Ps(e){return yi(this.serializer,e)}Is(e){return e.metadata.exists?Ei(this.serializer,e.document,!1):zt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return di(e)}}class dc{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fc(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=U.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new hc(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Xn()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=b(e);let s=Xn(),o=zn();for(const e of n){const n=t.Ps(e.metadata.name);e.document&&(s=s.add(n));const r=t.Is(e);r.setReadTime(t.Ts(e.metadata.readTime)),o=o.insert(n,r)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await Bo(i,function(e){return An(Tn(U.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Fo(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new hc(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const e of this.queries)await Ko(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function fc(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class pc{constructor(e){this.key=e}}class gc{constructor(e){this.key=e}}class mc{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Xn(),this.mutatedKeys=Xn(),this.Ia=Bn(e),this.Ta=new Ya(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new Xa,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=Fn(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ra(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ia(l,a)>0||c&&this.Ia(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,c=a!==this.ha;return this.ha=a,0!==s.length||c?{snapshot:new Za(this.query,e.Ta,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Xa,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Xn(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new gc(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new pc(n))})),t}pa(e){this.la=e.hs,this.Pa=Xn();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Za.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class yc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class vc{constructor(e){this.key=e,this.wa=!1}}class wc{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new qn((e=>Mn(e)),Pn),this.Da=new Map,this.Ca=new Set,this.va=new tt(z.comparator),this.Fa=new Map,this.Ma=new fo,this.xa={},this.Oa=new Map,this.Na=qs.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function bc(e,t,n=!0){const r=Wc(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Ic(r,t,n,!0),i}async function _c(e,t){const n=Wc(e);await Ic(n,t,!0,!1)}async function Ic(e,t,n,r){const i=await Bo(e.localStore,An(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Ec(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Ia(e.remoteStore,i),a}async function Ec(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await qo(e.localStore,t.query,!1).then((({documents:e})=>t.view.da(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Mc(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await qo(e.localStore,t,!0),o=new mc(t,s.hs),a=o.da(s.documents),c=Jr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,c);Mc(e,n,u.fa);const l=new yc(t,n,o);return e.ba.set(t,l),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),u.snapshot}async function Sc(e,t,n){const r=b(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!Pn(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uo(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ea(r.remoteStore,i.targetId),Lc(r,i.targetId)})).catch(re)):(Lc(r,i.targetId),await Uo(r.localStore,i.targetId,!0))}async function Tc(e,t){const n=b(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ea(n.remoteStore,r.targetId))}async function xc(e,t){const n=b(e);try{const e=await function(e,t){const n=b(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(ut.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,s)&&o.push(n.Qr.updateTargetData(e,u))}));let a=zn(),c=Xn();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Fo(e,s,t.documentUpdates).next((e=>{a=e.cs,c=e.ls}))),!r.isEqual(V.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return ie.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(w(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?w(r.wa):e.removedDocuments.size>0&&(w(r.wa),r.wa=!1))})),await Vc(n,e,t)}catch(e){await re(e)}}function Cc(e,t,n){const r=b(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=b(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.U_)e.j_(t)&&(r=!0)})),r&&oc(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dc(e,t,n){const r=b(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new tt(z.comparator);e=e.insert(s,zt.newNoDocument(s,V.min()));const n=Xn().add(s),i=new Wr(V.min(),new Map,new tt(P),e,n);await xc(r,i),r.va=r.va.remove(s),r.Fa.delete(t),Fc(r)}else await Uo(r.localStore,t,!1).then((()=>Lc(r,t,n))).catch(re)}async function Ac(e,t){const n=b(e),r=t.batch.batchId;try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ie.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);w(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Oc(n,r,null),kc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,e)}catch(e){await re(e)}}async function Nc(e,t,n){const r=b(e);try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(w(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Oc(r,t,n),kc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vc(r,e)}catch(n){await re(n)}}function kc(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Oc(e,t,n){const r=b(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Lc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Pc(e,t)}))}function Pc(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Ea(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Fc(e))}function Mc(e,t,n){for(const r of n)r instanceof pc?(e.Ma.addReference(r.key,t),Rc(e,r)):r instanceof gc?(p("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Pc(e,r.key)):v()}function Rc(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(p("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Fc(e))}function Fc(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new z(U.fromString(t)),r=e.Na.next();e.Fa.set(r,new vc(n)),e.va=e.va.insert(n,r),Ia(e.remoteStore,new Bi(An(Tn(n.path)),r,"TargetPurposeLimboResolution",ye.oe))}}async function Vc(e,t,n){const r=b(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=No.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(e,t){const n=b(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ie.forEach(t,(t=>ie.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ie.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!le(e))throw e;p("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ns.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(t,i)}}}(r.localStore,s))}async function Bc(e,t){const n=b(e);if(!n.currentUser.isEqual(t)){p("SyncEngine","User change. New user:",t.toKey());const e=await Mo(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new I(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Oa.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vc(n,e.us)}}function Uc(e,t){const n=b(e),r=n.Fa.get(t);if(r&&r.wa)return Xn().add(r.key);{let e=Xn();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function qc(e,t){const n=b(e),r=await qo(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&Mc(n,t.targetId,i.fa),i}async function jc(e,t){const n=b(e);return zo(n.localStore,t).then((e=>Vc(n,e)))}async function zc(e,t,n,r){const i=b(e),s=await function(e,t){const n=b(e),r=b(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ie.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Ra(i.remoteStore):"acknowledged"===n||"rejected"===n?(Oc(i,t,r||null),kc(i,t),function(e,t){b(b(e).mutationQueue).Mn(t)}(i.localStore,t)):v(),await Vc(i,s)):p("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Gc(e,t,n){const r=b(e),i=[],s=[];for(const e of t){let t;const n=r.Da.get(e);if(n&&0!==n.length){t=await Bo(r.localStore,An(n[0]));for(const e of n){const t=r.ba.get(e),n=await qc(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await jo(r.localStore,e);t=await Bo(r.localStore,n),await Ec(r,Kc(n),e,!1,t.resumeToken)}i.push(t)}return r.Sa.h_(s),i}function Kc(e){return Sn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $c(e){return function(e){return b(b(e).persistence).Bi()}(b(e).localStore)}async function Qc(e,t,n,r){const i=b(e);if(i.La)return void p("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await zo(i.localStore,Vn(s[0])),r=Wr.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ut.EMPTY_BYTE_STRING);await Vc(i,e,r);break}case"rejected":await Uo(i.localStore,t,!0),Lc(i,t,r);break;default:v()}}async function Hc(e,t,n){const r=Wc(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){p("SyncEngine","Adding an already active target "+e);continue}const t=await jo(r.localStore,e),n=await Bo(r.localStore,t);await Ec(r,Kc(t),n.targetId,!1,n.resumeToken),Ia(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await Uo(r.localStore,e,!1).then((()=>{Ea(r.remoteStore,e),Lc(r,e)})).catch(re)}}function Wc(e){const t=b(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dc.bind(null,t),t.Sa.h_=ic.bind(null,t.eventManager),t.Sa.ka=sc.bind(null,t.eventManager),t}function Jc(e){const t=b(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ac.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nc.bind(null,t),t}class Yc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=da(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Po(this.persistence,new Oo,e.initialUser,this.serializer)}createPersistence(e){return new wo(_o.Hr,this.serializer)}createSharedClientState(e){return new ta}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Xc extends Yc{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){w(this.persistence.referenceDelegate instanceof Io);const n=this.persistence.referenceDelegate.garbageCollector;return new Hs(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new wo((e=>Io.Hr(e,t)),this.serializer)}}class Zc extends Yc{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await Jc(this.Qa.syncEngine),await Ra(this.Qa.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Po(this.persistence,new Oo,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Hs(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new me(t,this.persistence);return new ge(e.asyncQueue,n)}createPersistence(e){const t=Ao(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new xo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,la(),ha(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ta}}class eu extends Zc{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof ea&&(this.sharedClientState.syncEngine={Zs:zc.bind(null,t),Xs:Qc.bind(null,t),eo:Hc.bind(null,t),Bi:$c.bind(null,t),Ys:jc.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=b(e);if(Wc(n),Jc(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Gc(n,e.toArray());n.La=!0,await $a(n.remoteStore,!0);for(const e of t)Ia(n.remoteStore,e)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Lc(n,i),Uo(n.localStore,i,!0)))),Ea(n.remoteStore,i)})),await t,await Gc(n,e),function(e){const t=b(e);t.Fa.forEach(((e,n)=>{Ea(t.remoteStore,n)})),t.Ma.mr(),t.Fa=new Map,t.va=new tt(z.comparator)}(n),n.La=!1,await $a(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=la();if(!ea.D(t))throw new I(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ao(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ea(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class tu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Cc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bc.bind(null,this.syncEngine),await $a(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tc}createDatastore(e){const t=da(e.databaseInfo.databaseId),n=function(e){return new ua(e)}(e.databaseInfo);return function(e,t,n,r){return new ya(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new wa(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Cc(this.syncEngine,e,0)),ra.D()?new ra:new na)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new wc(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=b(e);p("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await _a(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function nu(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class ru{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):g("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class iu{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new E,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.ia)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja(`length string (${t}) is not valid number`);const r=await this.Ha(n);return new lc(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class su{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new I(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=b(e),r={documents:t.map((e=>mi(n.serializer,e)))},i=await n.xo("BatchGetDocuments",n.serializer.databaseId,U.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){w(!!t.found),t.found.name,t.found.updateTime;const n=yi(e,t.found.name),r=di(t.found.updateTime),i=t.found.createTime?di(t.found.createTime):V.min(),s=new qt({mapValue:{fields:t.found.fields}});return zt.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){w(!!t.missing),w(!!t.readTime);const n=yi(e,t.missing),r=di(t.readTime);return zt.newNoDocument(n,r)}(e,t):v()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());w(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new kr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=z.fromPath(t);this.mutations.push(new Or(n,this.precondition(n)))})),await async function(e,t){const n=b(e),r={writes:t.map((e=>Si(n.serializer,e)))};await n.Co("Commit",n.serializer.databaseId,U.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw v();t=V.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new I(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(V.min())?vr.exists(!1):vr.updateTime(t):vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(V.min()))throw new I(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ou{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Yo=new fa(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o((async()=>{const e=new su(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!ve(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ur(t)}return!1}}class au{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=l.UNAUTHENTICATED,this.clientId=L.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{p("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(p("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new I(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new E;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ja(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function cu(e,t){e.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Mo(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function uu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hu(e);p("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ka(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ka(t.remoteStore,n))),e._onlineComponents=t}function lu(e){return"FirebaseError"===e.name?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function hu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){p("FirestoreClient","Using user provided OfflineComponentProvider");try{await cu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!lu(n))throw n;m("Error using user provided cache. Falling back to memory cache: "+n),await cu(e,new Yc)}}else p("FirestoreClient","Using default OfflineComponentProvider"),await cu(e,new Yc);return e._offlineComponents}async function du(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(p("FirestoreClient","Using user provided OnlineComponentProvider"),await uu(e,e._uninitializedComponentsProvider._online)):(p("FirestoreClient","Using default OnlineComponentProvider"),await uu(e,new tu))),e._onlineComponents}function fu(e){return hu(e).then((e=>e.persistence))}function pu(e){return hu(e).then((e=>e.localStore))}function gu(e){return du(e).then((e=>e.remoteStore))}function mu(e){return du(e).then((e=>e.syncEngine))}function yu(e){return du(e).then((e=>e.datastore))}async function vu(e){const t=await du(e),n=t.eventManager;return n.onListen=bc.bind(null,t.syncEngine),n.onUnlisten=Sc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_c.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Tc.bind(null,t.syncEngine),n}function wu(e,t,n={}){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ru({next:s=>{t.enqueueAndForget((()=>rc(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new I(_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new I(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new uc(Tn(n.path),s,{includeMetadataChanges:!0,ra:!0});return nc(e,o)}(await vu(e),e.asyncQueue,t,n,r))),r.promise}function bu(e,t,n={}){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ru({next:n=>{t.enqueueAndForget((()=>rc(e,o))),n.fromCache&&"server"===r.source?i.reject(new I(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new uc(n,s,{includeMetadataChanges:!0,ra:!0});return nc(e,o)}(await vu(e),e.asyncQueue,t,n,r))),r.promise}function _u(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Iu=new Map;function Eu(e,t,n){if(!n)throw new I(_.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Su(e,t,n,r){if(!0===t&&!0===r)throw new I(_.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Tu(e){if(!z.isDocumentKey(e))throw new I(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xu(e){if(z.isDocumentKey(e))throw new I(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Cu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":v()}function Du(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new I(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cu(e);throw new I(_.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Au(e,t){if(t<=0)throw new I(_.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Nu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new I(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new I(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Su("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_u(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ku{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new I(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new I(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new T;switch(e.type){case"firstParty":return new A(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new I(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iu.get(e);t&&(p("ComponentProvider","Removing Datastore"),Iu.delete(e),t.terminate())}(this),Promise.resolve()}}function Ou(e,t,n,r={}){var i;const s=(e=Du(e,ku))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&m("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=l.MOCK_USER;else{t=o.createMockUserToken(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new I(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new l(s)}e._authCredentials=new x(new S(t,n))}}class Lu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class Pu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pu(this.firestore,e,this._key)}}class Mu extends Lu{constructor(e,t,n){super(e,t,Tn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pu(this.firestore,null,new z(e))}withConverter(e){return new Mu(this.firestore,e,this._path)}}function Ru(e,t,...n){if(e=o.getModularInstance(e),1===arguments.length&&(t=L.newId()),Eu("doc","path",t),e instanceof ku){const r=U.fromString(t,...n);return Tu(r),new Pu(e,null,new z(r))}{if(!(e instanceof Pu||e instanceof Mu))throw new I(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(U.fromString(t,...n));return Tu(r),new Pu(e.firestore,e instanceof Mu?e.converter:null,new z(r))}}function Fu(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),e instanceof Lu&&t instanceof Lu&&e.firestore===t.firestore&&Pn(e._query,t._query)&&e.converter===t.converter}class Vu{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new fa(this,"async_queue_retry"),this.hu=()=>{const e=ha();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=ha();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=ha();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new E;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!le(e))throw e;p("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw g("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=Wa.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&v()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Bu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Uu{constructor(){this._progressObserver={},this._taskCompletionResolver=new E,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qu extends ku{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zu(this),this._firestoreClient.terminate()}}function ju(e){return e._firestoreClient||zu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zu(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new yt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_u(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new au(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Gu(e,t,n){const r=new E;return e.asyncQueue.enqueue((async()=>{try{await cu(e,n),await uu(e,t),r.resolve()}catch(e){const t=e;if(!lu(t))throw t;m("Error enabling indexeddb cache. Falling back to memory cache: "+t),r.reject(t)}})).then((()=>r.promise))}function Ku(e){if(e._initialized||e._terminated)throw new I(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Qu{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hu(ut.fromBase64String(e))}catch(e){throw new I(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hu(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new I(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new j(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ju{constructor(e){this._methodName=e}}class Yu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new I(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new I(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return P(this._lat,e._lat)||P(this._long,e._long)}}const Xu=/^__.*__$/;class Zu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms):new xr(e,this.data,t,this.fieldTransforms)}}class el{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}class nl{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new nl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Il(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(tl(this.fu)&&Xu.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class rl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||da(e)}Fu(e,t,n,r=!1){return new nl({fu:e,methodName:t,vu:n,path:j.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function il(e){const t=e._freezeSettings(),n=da(e._databaseId);return new rl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sl(e,t,n,r,i,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);vl("Data must be an object, but it was:",o,r);const a=ml(r,o);let c,u;if(s.merge)c=new at(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=wl(t,r,n);if(!o.contains(i))throw new I(_.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);El(e,i)||e.push(i)}c=new at(e),u=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=o.fieldTransforms;return new Zu(new qt(a),c,u)}class ol extends Ju{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ol}}function al(e,t,n){return new nl({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cl extends Ju{_toFieldTransform(e){return new mr(e.path,new cr)}isEqual(e){return e instanceof cl}}class ul extends Ju{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=al(this,e,!0),n=this.Mu.map((e=>gl(e,t))),r=new ur(n);return new mr(e.path,r)}isEqual(e){return e instanceof ul&&o.deepEqual(this.Mu,e.Mu)}}class ll extends Ju{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=al(this,e,!0),n=this.Mu.map((e=>gl(e,t))),r=new hr(n);return new mr(e.path,r)}isEqual(e){return e instanceof ll&&o.deepEqual(this.Mu,e.Mu)}}class hl extends Ju{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new fr(e.serializer,rr(e.serializer,this.xu));return new mr(e.path,t)}isEqual(e){return e instanceof hl&&this.xu===e.xu}}function dl(e,t,n,r){const i=e.Fu(1,t,n);vl("Data must be an object, but it was:",i,r);const s=[],a=qt.empty();Xe(r,((e,r)=>{const c=_l(t,e,n);r=o.getModularInstance(r);const u=i.Su(c);if(r instanceof ol)s.push(c);else{const e=gl(r,u);null!=e&&(s.push(c),a.set(c,e))}}));const c=new at(s);return new el(a,c,i.fieldTransforms)}function fl(e,t,n,r,i,s){const a=e.Fu(1,t,n),c=[wl(t,r,n)],u=[i];if(s.length%2!=0)throw new I(_.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)c.push(wl(t,s[e])),u.push(s[e+1]);const l=[],h=qt.empty();for(let e=c.length-1;e>=0;--e)if(!El(l,c[e])){const t=c[e];let n=u[e];n=o.getModularInstance(n);const r=a.Su(t);if(n instanceof ol)l.push(t);else{const e=gl(n,r);null!=e&&(l.push(t),h.set(t,e))}}const d=new at(l);return new el(h,d,a.fieldTransforms)}function pl(e,t,n,r=!1){return gl(n,e.Fu(r?4:3,t))}function gl(e,t){if(yl(e=o.getModularInstance(e)))return vl("Unsupported field value:",t,e),ml(e,t);if(e instanceof Ju)return function(e,t){if(!tl(t.fu))throw t.Du(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Du(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gl(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=o.getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=F.fromDate(e);return{timestampValue:ui(t.serializer,n)}}if(e instanceof F){const n=new F(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ui(t.serializer,n)}}if(e instanceof Yu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hu)return{bytesValue:li(t.serializer,e._byteString)};if(e instanceof Pu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:fi(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du(`Unsupported field value: ${Cu(e)}`)}(e,t)}function ml(e,t){const n={};return et(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xe(e,((e,r)=>{const i=gl(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof F||e instanceof Yu||e instanceof Hu||e instanceof Pu||e instanceof Ju)}function vl(e,t,n){if(!yl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Cu(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function wl(e,t,n){if((t=o.getModularInstance(t))instanceof Wu)return t._internalPath;if("string"==typeof t)return _l(e,t);throw Il("Field path arguments must be of type string or ",e,!1,void 0,n)}const bl=new RegExp("[~\\*/\\[\\]]");function _l(e,t,n){if(t.search(bl)>=0)throw Il(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wu(...t.split("."))._internalPath}catch(r){throw Il(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Il(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new I(_.INVALID_ARGUMENT,a+e+c)}function El(e,t){return e.some((e=>e.isEqual(t)))}class Sl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tl extends Sl{data(){return super.data()}}function xl(e,t){return"string"==typeof t?_l(e,t):t instanceof Wu?t._internalPath:t._delegate._internalPath}function Cl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new I(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dl{}class Al extends Dl{}class Nl extends Al{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Nl(e,t,n)}_apply(e){const t=this._parse(e);return Bl(e._query,t),new Lu(e.firestore,e.converter,On(e._query,t))}_parse(e){const t=il(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new I(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Vl(o,s);const t=[];for(const n of o)t.push(Fl(r,e,n));a={arrayValue:{values:t}}}else a=Fl(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Vl(o,s),a=pl(n,"where",o,"in"===s||"not-in"===s);return Jt.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class kl extends Dl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kl(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Yt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)Bl(n,e),n=On(n,e)}(e._query,t),new Lu(e.firestore,e.converter,On(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ol extends Al{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ol(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new I(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new I(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qt(t,n)}(e._query,this._field,this._direction);return new Lu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new En(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Ll extends Al{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ll(e,t,n)}_apply(e){return new Lu(e.firestore,e.converter,Ln(e._query,this._limit,this._limitType))}}class Pl extends Al{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Pl(e,t,n)}_apply(e){const t=Rl(e,this.type,this._docOrFields,this._inclusive);return new Lu(e.firestore,e.converter,function(e,t){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Ml extends Al{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Ml(e,t,n)}_apply(e){const t=Rl(e,this.type,this._docOrFields,this._inclusive);return new Lu(e.firestore,e.converter,function(e,t){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Rl(e,t,n,r){if(n[0]=o.getModularInstance(n[0]),n[0]instanceof Sl)return function(e,t,n,r,i){if(!r)throw new I(_.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of Dn(e))if(n.field.isKeyField())s.push(At(t,r.key));else{const e=r.data.field(n.field);if(pt(e))throw new I(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new I(_.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Gt(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=il(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new I(_.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new I(_.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!Cn(e)&&-1!==c.indexOf("/"))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(U.fromString(c));if(!z.isDocumentKey(n))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new z(n);a.push(At(t,i))}else{const e=pl(n,r,c);a.push(e)}}return new Gt(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Fl(e,t,n){if("string"==typeof(n=o.getModularInstance(n))){if(""===n)throw new I(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cn(t)&&-1!==n.indexOf("/"))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(U.fromString(n));if(!z.isDocumentKey(r))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return At(e,new z(r))}if(n instanceof Pu)return At(e,n._key);throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cu(n)}.`)}function Vl(e,t){if(!Array.isArray(e)||0===e.length)throw new I(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Bl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new I(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new I(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Ul(e,t){if(!(t instanceof Nl||t instanceof kl))throw new I(_.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class ql{convertValue(e,t="none"){switch(_t(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ft(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw v()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Xe(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Yu(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=gt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mt(e));default:return null}}convertTimestamp(e){const t=ht(e);return new F(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=U.fromString(e);w(Vi(n));const r=new vt(n.get(1),n.get(3)),i=new z(n.popFirst(5));return r.isEqual(t)||g(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function jl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zl extends ql{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pu(this.firestore,null,t)}}function Gl(){return new $u("count")}class Kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $l extends Sl{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ql extends $l{data(e={}){return super.data(e)}}class Hl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ql(this._firestore,this._userDataWriter,n.key,n,new Kl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new I(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ql(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Kl(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ql(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Wl(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}class Jl extends ql{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Pu(this.firestore,null,t)}}function Yl(e,t){return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Jc(e);try{const e=await function(e,t){const n=b(e),r=F.now(),i=t.reduce(((e,t)=>e.add(t.key)),Xn());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=zn(),c=Xn();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Sr(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Cr(e.key,t,jt(t.value.mapValue),vr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:$n(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new tt(P)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vc(r,e.changes),await Ra(r.remoteStore)}catch(e){const t=Ja(e,"Failed to persist write");n.reject(t)}}(await mu(e),t,n))),n.promise}(ju(e),t)}function Xl(e,t,n){const r=n.docs.get(t._key),i=new Jl(e);return new $l(e,i,t._key,r,new Kl(n.hasPendingWrites,n.fromCache),t.converter)}function Zl(e,t){const n=Du(e.firestore,qu),r=ju(n),i=Ze(t,((e,t)=>new Rr(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await yu(e);r.resolve(async function(e,t,n){var r;const i=b(e),{request:s,ut:o,parent:a}=Di(i.serializer,Nn(t),n);i.connection.Do||delete s.parent;const c=(await i.xo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter((e=>!!e.result));w(1===c.length);const u=null===(r=c[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(u).reduce(((e,t)=>(e[o[t]]=u[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Jl(e);return new Qu(t,r,n)}(n,e,t)))}class eh{constructor(e){this.kind="memory",this._onlineComponentProvider=new tu,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new Yc}toJSON(){return{kind:this.kind}}}class th{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=oh(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class nh{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new Yc}toJSON(){return{kind:this.kind}}}class rh{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new Xc(e)}toJSON(){return{kind:this.kind}}}class ih{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new tu,this._offlineComponentProvider=new Zc(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}class sh{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new tu,this._offlineComponentProvider=new eu(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}function oh(e){return new ih(null==e?void 0:e.forceOwnership)}const ah={maxAttempts:5};class ch{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=il(e)}set(e,t,n){this._verifyNotCommitted();const r=uh(e,this._firestore),i=jl(r.converter,t,n),s=sl(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,vr.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=uh(e,this._firestore);let s;return s="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(this._dataReader,"WriteBatch.update",i._key,t,n,r):dl(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uh(e,this._firestore);return this._mutations=this._mutations.concat(new kr(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new I(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uh(e,t){if((e=o.getModularInstance(e)).firestore!==t)throw new I(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class lh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=il(e)}get(e){const t=uh(e,this._firestore),n=new zl(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return v();const r=e[0];if(r.isFoundDocument())return new Sl(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Sl(this._firestore,n,t._key,null,t.converter);throw v()}))}set(e,t,n){const r=uh(e,this._firestore),i=jl(r.converter,t,n),s=sl(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=uh(e,this._firestore);let s;return s="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(this._dataReader,"Transaction.update",i._key,t,n,r):dl(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uh(e,this._firestore),n=new Jl(this._firestore);return super.get(e).then((e=>new $l(this._firestore,n,t._key,e._document,new Kl(!1,!1),t.converter)))}}function hh(e,t){if("string"!=typeof e[t])throw new I(_.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class dh{constructor(e){this._client=e,this.type="PersistentCacheIndexManager"}}function fh(e,t){e._client.verifyNotTerminated(),function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){b(e).ts.Ui=t}(await pu(e),t)))}(e._client,t).then((e=>p(`setting persistent cache index auto creation isEnabled=${t} succeeded`))).catch((e=>m(`setting persistent cache index auto creation isEnabled=${t} failed`,e)))}const ph=new WeakMap;class gh{constructor(){this.Ou=new Map}static get instance(){return mh||(mh=new gh,function(e){if(jr)throw new Error("a TestingHooksSpi instance is already set");jr=e}(mh)),mh}et(e){this.Ou.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Ou;return n.set(t,e),()=>n.delete(t)}}let mh=null;!function(e,t=!0){!function(e){h=e}(r.SDK_VERSION),r._registerComponent(new i.Component("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new qu(new C(e.getProvider("auth-internal")),new k(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new I(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vt(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),r.registerVersion(u,"4.6.4",e),r.registerVersion(u,"4.6.4","cjs2017")}(),t.AbstractUserDataWriter=ql,t.AggregateField=$u,t.AggregateQuerySnapshot=Qu,t.Bytes=Hu,t.CACHE_SIZE_UNLIMITED=-1,t.CollectionReference=Mu,t.DocumentReference=Pu,t.DocumentSnapshot=$l,t.FieldPath=Wu,t.FieldValue=Ju,t.Firestore=qu,t.FirestoreError=I,t.GeoPoint=Yu,t.LoadBundleTask=Uu,t.PersistentCacheIndexManager=dh,t.Query=Lu,t.QueryCompositeFilterConstraint=kl,t.QueryConstraint=Al,t.QueryDocumentSnapshot=Ql,t.QueryEndAtConstraint=Ml,t.QueryFieldFilterConstraint=Nl,t.QueryLimitConstraint=Ll,t.QueryOrderByConstraint=Ol,t.QuerySnapshot=Hl,t.QueryStartAtConstraint=Pl,t.SnapshotMetadata=Kl,t.Timestamp=F,t.Transaction=lh,t.WriteBatch=ch,t._AutoId=L,t._ByteString=ut,t._DatabaseId=vt,t._DocumentKey=z,t._EmptyAppCheckTokenProvider=class{getToken(){return Promise.resolve(new N(""))}invalidateToken(){}start(e,t){}shutdown(){}},t._EmptyAuthCredentialsProvider=T,t._FieldPath=j,t._TestingHooks=class{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return gh.instance.onExistenceFilterMismatch(e)}},t._cast=Du,t._debugAssert=function(e,t){e||v()},t._internalAggregationQueryToProtoRunAggregationQueryRequest=function(e,t){var n;const r=Ze(t,((e,t)=>new Rr(t,e.aggregateType,e._internalFieldPath))),i=null===(n=ju(Du(e.firestore,qu))._onlineComponents)||void 0===n?void 0:n.datastore.serializer;return void 0===i?null:Di(i,Nn(e._query),r,!0).request},t._internalQueryToProtoQueryTarget=function(e){var t;const n=null===(t=ju(Du(e.firestore,qu))._onlineComponents)||void 0===t?void 0:t.datastore.serializer;return void 0===n?null:Ci(n,An(e._query))._t},t._isBase64Available=function(){return"undefined"!=typeof atob},t._logWarn=m,t._validateIsNotUsedTogether=Su,t.addDoc=function(e,t){const n=Du(e.firestore,qu),r=Ru(e),i=jl(e.converter,t);return Yl(n,[sl(il(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vr.exists(!1))]).then((()=>r))},t.aggregateFieldEqual=function(e,t){var n,r;return e instanceof $u&&t instanceof $u&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())},t.aggregateQuerySnapshotEqual=function(e,t){return Fu(e.query,t.query)&&o.deepEqual(e.data(),t.data())},t.and=function(...e){return e.forEach((e=>Ul("and",e))),kl._create("and",e)},t.arrayRemove=function(...e){return new ll("arrayRemove",e)},t.arrayUnion=function(...e){return new ul("arrayUnion",e)},t.average=function(e){return new $u("avg",wl("average",e))},t.clearIndexedDbPersistence=function(e){if(e._initialized&&!e._terminated)throw new I(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new E;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!oe.D())return Promise.resolve();const t=e+"main";await oe.delete(t)}(Ao(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise},t.collection=function(e,t,...n){if(e=o.getModularInstance(e),Eu("collection","path",t),e instanceof ku){const r=U.fromString(t,...n);return xu(r),new Mu(e,null,r)}{if(!(e instanceof Pu||e instanceof Mu))throw new I(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(U.fromString(t,...n));return xu(r),new Mu(e.firestore,null,r)}},t.collectionGroup=function(e,t){if(e=Du(e,ku),Eu("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new I(_.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lu(e,null,function(e){return new En(U.emptyPath(),e)}(t))},t.connectFirestoreEmulator=Ou,t.count=Gl,t.deleteAllPersistentCacheIndexes=function(e){e._client.verifyNotTerminated(),function(e){return e.asyncQueue.enqueue((async()=>function(e){const t=b(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}(await pu(e))))}(e._client).then((e=>p("deleting all persistent cache indexes succeeded"))).catch((e=>m("deleting all persistent cache indexes failed",e)))},t.deleteDoc=function(e){return Yl(Du(e.firestore,qu),[new kr(e._key,vr.none())])},t.deleteField=function(){return new ol("deleteField")},t.disableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await fu(e),n=await gu(e);return t.setNetworkEnabled(!1),async function(e){const t=b(e);t.M_.add(0),await _a(t),t.N_.set("Offline")}(n)}))}(ju(e=Du(e,qu)))},t.disablePersistentCacheIndexAutoCreation=function(e){fh(e,!1)},t.doc=Ru,t.documentId=function(){return new Wu("__name__")},t.enableIndexedDbPersistence=function(e,t){Ku(e=Du(e,qu));const n=ju(e);if(n._uninitializedComponentsProvider)throw new I(_.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new tu;return Gu(n,i,new Zc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))},t.enableMultiTabIndexedDbPersistence=function(e){Ku(e=Du(e,qu));const t=ju(e);if(t._uninitializedComponentsProvider)throw new I(_.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new tu;return Gu(t,r,new eu(r,n.cacheSizeBytes))},t.enableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await fu(e),n=await gu(e);return t.setNetworkEnabled(!0),function(e){const t=b(e);return t.M_.delete(0),ba(t)}(n)}))}(ju(e=Du(e,qu)))},t.enablePersistentCacheIndexAutoCreation=function(e){fh(e,!0)},t.endAt=function(...e){return Ml._create("endAt",e,!0)},t.endBefore=function(...e){return Ml._create("endBefore",e,!1)},t.ensureFirestoreConfigured=ju,t.executeWrite=Yl,t.getAggregateFromServer=Zl,t.getCountFromServer=function(e){return Zl(e,{count:Gl()})},t.getDoc=function(e){e=Du(e,Pu);const t=Du(e.firestore,qu);return wu(ju(t),e._key).then((n=>Xl(t,e,n)))},t.getDocFromCache=function(e){e=Du(e,Pu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=b(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new I(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Ja(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await pu(e),t,n))),n.promise}(n,e._key).then((n=>new $l(t,r,e._key,n,new Kl(null!==n&&n.hasLocalMutations,!0),e.converter)))},t.getDocFromServer=function(e){e=Du(e,Pu);const t=Du(e.firestore,qu);return wu(ju(t),e._key,{source:"server"}).then((n=>Xl(t,e,n)))},t.getDocs=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return Cl(e._query),bu(n,e._query).then((n=>new Hl(t,r,e,n)))},t.getDocsFromCache=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await qo(e,t,!0),i=new mc(t,r.hs),s=i.da(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Ja(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await pu(e),t,n))),n.promise}(n,e._query).then((n=>new Hl(t,r,e,n)))},t.getDocsFromServer=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return bu(n,e._query,{source:"server"}).then((n=>new Hl(t,r,e,n)))},t.getFirestore=function(e,t){const n="object"==typeof e?e:r.getApp(),i="string"==typeof e?e:t||"(default)",s=r._getProvider(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=o.getDefaultEmulatorHostnameAndPort("firestore");e&&Ou(s,...e)}return s},t.getPersistentCacheIndexManager=function(e){var t;e=Du(e,qu);const n=ph.get(e);if(n)return n;const r=ju(e);if("persistent"!==(null===(t=r._uninitializedComponentsProvider)||void 0===t?void 0:t._offlineKind))return null;const i=new dh(r);return ph.set(e,i),i},t.increment=function(e){return new hl("increment",e)},t.initializeFirestore=function(e,t,n){n||(n="(default)");const i=r._getProvider(e,"firestore");if(i.isInitialized(n)){const e=i.getImmediate({identifier:n}),r=i.getOptions(n);if(o.deepEqual(r,t))return e;throw new I(_.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new I(_.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new I(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:n})},t.limit=function(e){return Au("limit",e),Ll._create("limit",e,"F")},t.limitToLast=function(e){return Au("limitToLast",e),Ll._create("limitToLast",e,"L")},t.loadBundle=function(e,t){const n=ju(e=Du(e,qu)),r=new Uu;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?zr().encode(e):e,function(e,t){return new iu(e,t)}(function(e,t){if(e instanceof Uint8Array)return nu(e,t);if(e instanceof ArrayBuffer)return nu(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,da(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=b(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=b(e),r=di(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(fc(r));const i=new dc(r,e.localStore,t.serializer);let s=await t.qa();for(;s;){const e=await i._a(s);e&&n._updateProgress(e),s=await t.qa()}const o=await i.complete();return await Vc(e,o.ca,void 0),await function(e,t){const n=b(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ua)}catch(e){return m("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await mu(e),i,r)}))}(n,e._databaseId,t,r),r},t.memoryEagerGarbageCollector=function(){return new nh},t.memoryLocalCache=function(e){return new eh(e)},t.memoryLruGarbageCollector=function(e){return new rh(null==e?void 0:e.cacheSizeBytes)},t.namedQuery=function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=b(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await pu(e),t)))}(ju(e=Du(e,qu)),t).then((t=>t?new Lu(e,null,t.query):null))},t.onSnapshot=function(e,...t){var n,r,i;e=o.getModularInstance(e);let s={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||Bu(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Bu(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,h;if(e instanceof Pu)l=Du(e.firestore,qu),h=Tn(e._key.path),u={next:n=>{t[a]&&t[a](Xl(l,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Du(e,Lu);l=Du(n.firestore,qu),h=n._query;const r=new Jl(l);u={next:e=>{t[a]&&t[a](new Hl(l,r,n,e))},error:t[a+1],complete:t[a+2]},Cl(e._query)}return function(e,t,n,r){const i=new ru(r),s=new uc(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>nc(await vu(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>rc(await vu(e),s)))}}(ju(l),h,c,u)},t.onSnapshotsInSync=function(e,t){return function(e,t){const n=new ru(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).z_.add(t),t.next()}(await vu(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).z_.delete(t)}(await vu(e),n)))}}(ju(e=Du(e,qu)),Bu(t)?t:{next:t})},t.or=function(...e){return e.forEach((e=>Ul("or",e))),kl._create("or",e)},t.orderBy=function(e,t="asc"){const n=t,r=xl("orderBy",e);return Ol._create(r,n)},t.persistentLocalCache=function(e){return new th(e)},t.persistentMultipleTabManager=function(){return new sh},t.persistentSingleTabManager=oh,t.query=function(e,t,...n){let r=[];t instanceof Dl&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof kl)).length,n=e.filter((e=>e instanceof Nl)).length;if(t>1||t>0&&n>0)throw new I(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e},t.queryEqual=Fu,t.refEqual=function(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),(e instanceof Pu||e instanceof Mu)&&(t instanceof Pu||t instanceof Mu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter},t.runTransaction=function(e,t,n){e=Du(e,qu);const r=Object.assign(Object.assign({},ah),n);return function(e){if(e.maxAttempts<1)throw new I(_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>{const i=await yu(e);new ou(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(ju(e),(n=>t(new lh(e,n))),r)},t.serverTimestamp=function(){return new cl("serverTimestamp")},t.setDoc=function(e,t,n){e=Du(e,Pu);const r=Du(e.firestore,qu),i=jl(e.converter,t,n);return Yl(r,[sl(il(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vr.none())])},t.setIndexConfiguration=function(e,t){var n;const r=ju(e=Du(e,qu));if(!r._uninitializedComponentsProvider||"memory"===(null===(n=r._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return m("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new I(_.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const e of t.indexes){const t=hh(e,"collectionGroup"),r=[];if(Array.isArray(e.fields))for(const t of e.fields){const e=_l("setIndexConfiguration",hh(t,"fieldPath"));"CONTAINS"===t.arrayConfig?r.push(new H(e,2)):"ASCENDING"===t.order?r.push(new H(e,0)):"DESCENDING"===t.order&&r.push(new H(e,1))}n.push(new G(G.UNKNOWN_ID,t,r,J.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=b(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const s=e.length,o=t.length;let a=0,c=0;for(;a<o&&c<s;){const s=n(e[c],t[a]);s<0?i(e[c++]):s>0?r(t[a++]):(a++,c++)}for(;a<o;)r(t[a++]);for(;c<s;)i(e[c++])}(n,t,Q,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>ie.waitFor(i)))))}(await pu(e),t)))}(r,i)},t.setLogLevel=function(e){d.setLogLevel(e)},t.snapshotEqual=function(e,t){return e instanceof $l&&t instanceof $l?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hl&&t instanceof Hl&&e._firestore===t._firestore&&Fu(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)},t.startAfter=function(...e){return Pl._create("startAfter",e,!1)},t.startAt=function(...e){return Pl._create("startAt",e,!0)},t.sum=function(e){return new $u("sum",wl("sum",e))},t.terminate=function(e){return r._removeServiceInstance(e.app,"firestore",e._databaseId.database),e._delete()},t.updateDoc=function(e,t,n,...r){e=Du(e,Pu);const i=Du(e.firestore,qu),s=il(i);let a;return a="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(s,"updateDoc",e._key,t,n,r):dl(s,"updateDoc",e._key,t),Yl(i,[a.toMutation(e._key,vr.exists(!0))])},t.waitForPendingWrites=function(e){return function(e){const t=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=b(e);Da(n.remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=b(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=Ja(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await mu(e),t))),t.promise}(ju(e=Du(e,qu)))},t.where=function(e,t,n){const r=t,i=xl("where",e);return Nl._create(i,r,n)},t.writeBatch=function(e){return ju(e=Du(e,qu)),new ch(e,(t=>Yl(e,t)))}},795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n(322),o=[];t.LogLevel=void 0,(i=t.LogLevel||(t.LogLevel={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var a={debug:t.LogLevel.DEBUG,verbose:t.LogLevel.VERBOSE,info:t.LogLevel.INFO,warn:t.LogLevel.WARN,error:t.LogLevel.ERROR,silent:t.LogLevel.SILENT},c=t.LogLevel.INFO,u=((r={})[t.LogLevel.DEBUG]="log",r[t.LogLevel.VERBOSE]="log",r[t.LogLevel.INFO]="info",r[t.LogLevel.WARN]="warn",r[t.LogLevel.ERROR]="error",r),l=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=u[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));console[o].apply(console,s.__spreadArray(["[".concat(i,"]  ").concat(e.name,":")],n,!1))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in t.LogLevel))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.DEBUG],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.DEBUG],e,!1))},e.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.VERBOSE],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.VERBOSE],e,!1))},e.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.INFO],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.INFO],e,!1))},e.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.WARN],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.WARN],e,!1))},e.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.ERROR],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.ERROR],e,!1))},e}();t.Logger=h,t.setLogLevel=function(e){o.forEach((function(t){t.setLogLevel(e)}))},t.setUserLogHandler=function(e,n){for(var r=function(r){var i=null;n&&n.level&&(i=a[n.level]),r.userLogHandler=null===e?null:function(n,r){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=s.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");r>=(null!=i?i:n.logLevel)&&e({level:t.LogLevel[r].toLowerCase(),message:a,args:s,type:n.name})}},i=0,s=o;i<s.length;i++)r(s[i])}},107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,u=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new c;const u=i<<2|s>>4;if(r.push(u),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(e){const t=o(e);return a.encodeByteArray(t,!0)},l=function(e){return u(e).replace(/\./g,"")},h=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}function f(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}const p=()=>{try{return f().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e="MISSING_ENV_VAR".__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},g=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(I,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new b(r,o,n)}}const I=/\{\$([^}]+)}/g;function E(e){return JSON.parse(e)}const S=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=E(h(s[0])||""),n=E(h(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function T(e){return null!==e&&"object"==typeof e}class x{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function C(){}function D(e,t){return`${e} failed: ${t} argument `}const A=144e5;t.CONSTANTS=r,t.DecodeBase64StringError=c,t.Deferred=m,t.ErrorFactory=_,t.FirebaseError=b,t.MAX_VALUE_MILLIS=A,t.RANDOM_FACTOR=.5,t.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^o&(a^c),i=1518500249):(r=o^a^c,i=1859775393):e<60?(r=o&a|c&(o|a),i=2400959708):(r=o^a^c,i=3395469782);const t=(s<<5|s>>>27)+r+u+i+n[e]&4294967295;u=c,c=a,a=4294967295&(o<<30|o>>>2),o=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}},t.areCookiesEnabled=function(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)},t.assert=i,t.assertionError=s,t.async=function(e,t){return(...n)=>{Promise.resolve(!0).then((()=>{e(...n)})).catch((e=>{t&&t(e)}))}},t.base64=a,t.base64Decode=h,t.base64Encode=u,t.base64urlEncodeWithoutPadding=l,t.calculateBackoffMillis=function(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(A,r+i)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")},t.createSubscribe=function(e,t){const n=new x(e,t);return n.subscribe.bind(n)},t.decode=S,t.deepCopy=function(e){return d(void 0,e)},t.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),i=Object.keys(n);for(const s of r){if(!i.includes(s))return!1;const r=t[s],o=n[s];if(T(r)&&T(o)){if(!e(r,o))return!1}else if(r!==o)return!1}for(const e of i)if(!r.includes(e))return!1;return!0},t.deepExtend=d,t.errorPrefix=D,t.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)},t.getDefaultAppConfig=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},t.getDefaultEmulatorHost=g,t.getDefaultEmulatorHostnameAndPort=e=>{const t=g(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},t.getDefaults=p,t.getExperimentalSetting=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]},t.getGlobal=f,t.getModularInstance=function(e){return e&&e._delegate?e._delegate:e},t.getUA=y,t.isAdmin=function(e){const t=S(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"undefined"!=typeof window||w()},t.isBrowserExtension=function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return y().indexOf("Electron/")>=0},t.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"==typeof indexedDB}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=v,t.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!v()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return y().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){const t=S(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){const t=S(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.isWebWorker=w,t.issuedAtTime=function(e){const t=S(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=E,t.map=function(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.ordinal=function(e){return Number.isFinite(e)?e+function(e){const t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";const n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(e):`${e}`},t.promiseWithTimeout=function(e,t=2e3){const n=new m;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise},t.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);if(s>=55296&&s<=56319){const t=s-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(r)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.validateArgCount=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(e,t)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(e,t)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))},t.validateNamespace=function(e,t,n){if((!n||t)&&"string"!=typeof t)throw new Error(D(e,"namespace")+"must be a valid firebase namespace.")}},293:(e,t,n)=>{(function(){"use strict";var t;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(n,(function(){this.blockSize=-1})),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=n;)r(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){r(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){r(this,i),s=0;break}}this.h=s,this.o+=t},n.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function o(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new i([0|e],0>e?-1:0)}(e)}(e):new i([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return f(a(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var c=o(0),u=o(1),l=o(16777216);function h(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function f(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(u)}function p(e,t){return e.add(f(t))}function g(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function y(e,t){if(h(t))throw Error("division by zero");if(h(e))return new m(c,c);if(d(e))return t=y(f(e),t),new m(f(t.g),f(t.h));if(d(t))return t=y(e,f(t)),new m(f(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!h(r);){var o=s.add(r);0>=o.l(e)&&(i=i.add(n),s=o),r=w(r,1),n=w(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=a(n)).j(t);d(o)||0<o.l(e);)o=(s=a(n-=r)).j(t);h(s)&&(s=u),i=i.add(s),e=p(e,o)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(s,e.h)}(t=i.prototype).m=function(){if(d(this))return-f(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},t.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(d(this))return"-"+f(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,s=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(h(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},t.l=function(e){return d(e=p(this,e))?-1:h(e)?0:1},t.abs=function(){return d(this)?f(this):this},t.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(e){if(h(this)||h(e))return c;if(d(this))return d(e)?f(this).j(f(e)):f(f(this).j(e));if(d(e))return f(this.j(f(e)));if(0>this.l(l)&&0>e.l(l))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var o=this.i(r)>>>16,u=65535&this.i(r),p=e.i(s)>>>16,m=65535&e.i(s);n[2*r+2*s]+=u*m,g(n,2*r+2*s),n[2*r+2*s+1]+=o*m,g(n,2*r+2*s+1),n[2*r+2*s+1]+=u*p,g(n,2*r+2*s+1),n[2*r+2*s+2]+=o*p,g(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},t.A=function(e){return y(this,e).h},t.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},t.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},t.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,e.exports.Md5=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=c,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+o),n);8>o?(o=a(Math.pow(n,o)),i=i.j(o).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},e.exports.Integer=i}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},493:(e,t,n)=>{(function(){"use strict";var t,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in n))break e;n=n[o]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(0,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var s=s||{},o=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function c(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function h(e,t,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:l).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function f(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function p(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(a(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function m(e){return/^[\s\xa0]*$/.test(e)}function y(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function v(e){return v[" "](e),e}v[" "]=function(){};var w=!(-1==y().indexOf("Gecko")||-1!=y().toLowerCase().indexOf("webkit")&&-1==y().indexOf("Edge")||-1!=y().indexOf("Trident")||-1!=y().indexOf("MSIE")||-1!=y().indexOf("Edge"));function b(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){o.setTimeout((()=>{throw e}),0)}function x(){var e=k;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new D),(e=>e.reset()));class D{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let A,N=!1,k=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},O=()=>{const e=o.Promise.resolve(void 0);A=()=>{e.then(L)}};var L=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(e){T(e)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function P(){this.s=this.s,this.C=this.C}function M(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},M.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(e){}return e}();function F(e,t){if(M.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(w){e:{try{v(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:V[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&F.aa.h.call(this)}}f(F,M);var V={2:"touch",3:"pen",4:"mouse"};F.prototype.h=function(){F.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),U=0;function q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function j(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function G(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(j(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function K(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=K(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new q(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),Q={};function H(e,t,n,r,i){if(r&&r.once)return J(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);return null}return n=re(n),e&&e[B]?e.K(t,n,c(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=c(i)?!!i.capture:!!i,a=te(e);if(a||(e[$]=a=new z(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){const e=ee;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function J(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)J(e,t[s],n,r,i);return null}return n=re(n),e&&e[B]?e.L(t,n,c(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=c(r)?!!r.capture:!!r,n=re(n),e&&e[B]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=K(s=e.g[t],n,r,i))&&(j(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=K(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[B])G(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=te(t))?(G(n,e),0==n.h&&(n.src=null,t[$]=null)):j(e)}}}function Z(e){return e in Q?Q[e]:Q[e]="on"+e}function ee(e,t){if(e.da)e=!0;else{t=new F(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function te(e){return(e=e[$])instanceof z?e:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(e){return"function"==typeof e?e:(e[ne]||(e[ne]=function(t){return e.handleEvent(t)}),e[ne])}function ie(){P.call(this),this.i=new z(this),this.M=this,this.F=null}function se(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new M(t,e);else if(t instanceof M)t.target=t.target||e;else{var i=t;E(t=new M(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oe(o,r,!0,t)&&i}if(i=oe(o=t.g=e,r,!0,t)&&i,i=oe(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=oe(o=t.g=n[s],r,!1,t)&&i}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.fa&&G(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"==typeof e)n&&(e=h(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=h(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function ce(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,ce(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}f(ie,P),ie.prototype[B]=!0,ie.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)j(n[r]);delete t.g[e],t.h--}}this.F=null},ie.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ie.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ue extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}f(le,P);var he=[];function de(e){b(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),de(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=o.JSON.stringify,pe=o.JSON.parse,ge=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function me(){}function ye(e){return e.h||(e.h=e.i())}function ve(){}me.prototype.h=null;var we={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function be(){M.call(this,"d")}function _e(){M.call(this,"c")}f(be,M),f(_e,M);var Ie={},Ee=null;function Se(){return Ee=Ee||new ie}function Te(e){M.call(this,Ie.La,e)}function xe(e){const t=Se();se(t,new Te(t,e))}function Ce(e,t){M.call(this,Ie.STAT_EVENT,e),this.stat=t}function De(e){const t=Se();se(t,new Ce(t,e))}function Ae(e,t){M.call(this,Ie.Ma,e),this.size=t}function Ne(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function ke(){this.g=!0}function Oe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fe(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ie.La="serverreachability",f(Te,M),Ie.STAT_EVENT="statevent",f(Ce,M),Ie.Ma="timingevent",f(Ae,M),ke.prototype.xa=function(){this.g=!1},ke.prototype.info=function(){};var Le,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Me={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Fe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}f(Re,me),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Le=new Re;var Be={},Ue={};function qe(e,t,n){e.L=1,e.v=ft(ct(t)),e.m=n,e.P=!0,je(e,null)}function je(e,t){e.F=Date.now(),Ke(e),e.A=ct(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ve,e.g=gn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ue(h(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(he[0]=i.toString()),i=he);for(var s=0;s<i.length;s++){var o=H(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?_(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function Ge(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Be:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function Ke(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(h(e.ba,e),t)}function Qe(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,de(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Je(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||tt(n.h,e)))if(!e.K&&tt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;un(n),Xt(n)}on(n),De(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(h(n.Za,n),6e3));if(1>=et(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else dn(n,11)}else if((e.K||n.g==e)&&un(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(nt(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,dt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=pn(r,r.J?r.ia:null,r.W),o.K){rt(r.h,o);var a=o,c=r.L;c&&(a.I=c),a.B&&(Qe(a),Ke(a)),r.g=o}else sn(r);0<n.i.length&&en(n)}else"stop"!=u[0]&&"close"!=u[0]||dn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?dn(n,7):Yt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}xe(4)}catch(e){}}Fe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Qt(e)?t.j():this.Y(e)},Fe.prototype.Y=function(e){try{if(e==this.g)e:{const d=Qt(this.g);var t=this.g.Ba();const f=this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||xe(8==t||0>=f?3:2),Qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Ht(this.g);e="";var i=r.length,s=4==Qt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){We(this),He(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(c)){var l=c;break t}}l=null}if(!(n=l)){this.o=!1,this.s=3,De(12),We(this),He(this);break e}Oe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Je(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ge(this,a),e==Ue){4==d&&(this.s=4,De(14),n=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Be){this.s=4,De(15),Oe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Oe(this.i,this.l,e,null),Je(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,De(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),an(h),h.M=!0,De(11))}}else Oe(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),He(this)}else Oe(this.i,this.l,a,null),Je(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ke(this)))}else(function(e){const t={};e=(e.g&&2<=Qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),We(this),He(this)}}}catch(e){}},Fe.prototype.cancel=function(){this.J=!0,We(this)},Fe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(xe(3),De(17)),We(this),this.s=2,He(this)):$e(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,e=o.PerformanceNavigationTiming?0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function et(e){return e.h?1:e.g?e.g.size:0}function tt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nt(e,t){e.g?e.g.add(t):e.h=t}function rt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function it(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return p(e.i)}function st(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(a(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Xe.prototype.cancel=function(){if(this.i=it(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ut(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ht(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,ut(this,t[1]||"",!0),this.o=pt(t[2]||""),this.g=pt(t[3]||"",!0),lt(this,t[4]),this.l=pt(t[5]||"",!0),ht(this,t[6]||"",!0),this.m=pt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ct(e){return new at(e)}function ut(e,t,n){e.j=n?pt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ht(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tt(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=gt(t,_t)),e.i=new Et(t,e.h))}function dt(e,t,n){e.i.set(t,n)}function ft(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gt(t,vt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(gt(t,vt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gt(n,"/"==n.charAt(0)?bt:wt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",gt(n,It)),e.join("")};var yt,vt=/[#\/\?@]/g,wt=/[#\?:]/g,bt=/[#\?]/g,_t=/[#\?@]/g,It=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tt(e,t){St(e),t=Dt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return St(e),t=Dt(e,t),e.g.has(t)}function Ct(e,t,n){Tt(e,t),0<n.length&&(e.i=null,e.g.set(Dt(e,t),p(n)),e.h+=n.length)}function Dt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function At(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function Nt(){this.g=new ge}function kt(e,t,n){const r=n||"";try{st(e,(function(e,n){let i=e;c(e)&&(i=fe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ie.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Mt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ft(e){let t="";return b(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Vt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ft(n),"string"==typeof e?(encodeURIComponent(String(t)),null!=n&&encodeURIComponent(String(n))):dt(e,t,n))}function Bt(e){ie.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Et.prototype).add=function(e,t){St(this),this.i=null,e=Dt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},t.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},t.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},t.V=function(e){St(this);let t=[];if("string"==typeof e)xt(this,e)&&(t=t.concat(this.g.get(Dt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},t.set=function(e,t){return St(this),this.i=null,xt(this,e=Dt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},f(Ot,me),Ot.prototype.g=function(){return new Lt(this.l,this.j)},Ot.prototype.i=(yt={},function(){return yt}),f(Lt,ie),(t=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Mt(this)),this.readyState=0},t.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Mt(this):Rt(this),3==this.readyState&&Pt(this)}},t.Ra=function(e){this.g&&(this.response=this.responseText=e,Mt(this))},t.Qa=function(e){this.g&&(this.response=e,Mt(this))},t.ga=function(){this.g&&Mt(this)},t.setRequestHeader=function(e,t){this.u.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),f(Bt,ie);var Ut=/^https?$/i,qt=["POST","PUT"];function jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Kt(e)}function zt(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}function Gt(e){if(e.h&&void 0!==s&&(!e.v[1]||4!=Qt(e)||2!=e.Z()))if(e.u&&4==Qt(e))ae(e.Ea,0,e);else if(se(e,"readystatechange"),4==Qt(e)){e.h=!1;try{const s=e.Z();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.D).match(ot)[1]||null;!i&&o.self&&o.self.location&&(i=o.self.location.protocol.slice(0,-1)),r=!Ut.test(i?i.toLowerCase():"")}n=r}if(n)se(e,"complete"),se(e,"success");else{e.m=6;try{var a=2<Qt(e)?e.g.statusText:""}catch(e){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Kt(e)}}}function Kt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||se(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function $t(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Qt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Zt(e),3==e.G){var t=e.U++,n=ct(e.I);if(dt(n,"SID",e.K),dt(n,"RID",t),dt(n,"TYPE","terminate"),nn(e,n),(t=new Fe(e,e.j,t)).L=2,t.v=ft(ct(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=gn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ke(t)}fn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Zt(e){Xt(e),e.u&&(o.clearTimeout(e.u),e.u=null),un(e),e.h.cancel(),e.s&&("number"==typeof e.s&&o.clearTimeout(e.s),e.s=null)}function en(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;A||O(),N||(A(),N=!0),k.add(t,e),e.B=0}}function tn(e,t){var n;n=t?t.l:e.U++;const r=ct(e.I);dt(r,"SID",e.K),dt(r,"RID",n),dt(r,"AID",e.T),nn(e,r),e.m&&e.o&&Vt(r,e.m,e.o),n=new Fe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=rn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),nt(e.h,n),qe(n,r,t)}function nn(e,t){e.H&&b(e.H,(function(e,n){dt(t,n,e)})),e.l&&st({},(function(e,n){dt(t,n,e)}))}function rn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?h(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{kt(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function sn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;A||O(),N||(A(),N=!0),k.add(t,e),e.v=0}}function on(e){return!(e.g||e.u||3<=e.v||(e.Y++,e.u=Ne(h(e.Fa,e),hn(e,e.v)),e.v++,0))}function an(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function cn(e){e.g=new Fe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ct(e.qa);dt(t,"RID","rpc"),dt(t,"SID",e.K),dt(t,"AID",e.T),dt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&dt(t,"TO",e.ja),dt(t,"TYPE","xmlhttp"),nn(e,t),e.m&&e.o&&Vt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ft(ct(t)),n.m=null,n.P=!0,je(n,e)}function un(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){un(e),an(e),e.g=null;var r=2}else{if(!tt(e.h,t))return;n=t.D,rt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;se(r=Se(),new Ae(r,n,t,i)),en(e)}else sn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(et(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ne(h(e.Ga,e,t),hn(e,e.B)),e.B++,0)))}(e,t)||2==r&&on(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:dn(e,5);break;case 4:dn(e,10);break;case 3:dn(e,6);break;default:dn(e,2)}}function hn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function dn(e,t){if(e.j.info("Error code "+t),2==t){var n=h(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||ut(r,"https"),ft(r),t?function(e,t){const n=new ke;if(o.Image){const r=new Image;r.onload=d(At,n,"TestLoadImage: loaded",!0,t,r),r.onerror=d(At,n,"TestLoadImage: error",!1,t,r),r.onabort=d(At,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=d(At,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout((()=>{n.abort(),At(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?At(0,0,!0,t):At(0,0,!1,t)})).catch((()=>{clearTimeout(r),At(0,0,!1,t)}))}(r.toString(),n)}else De(2);e.G=0,e.l&&e.l.sa(t),fn(e),Zt(e)}function fn(e){if(e.G=0,e.ka=[],e.l){const t=it(e.h);0==t.length&&0==e.i.length||(g(e.ka,t),g(e.ka,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.ra()}}function pn(e,t,n){var r=n instanceof at?ct(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new at(null);r&&ut(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&dt(r,n,t),dt(r,"VER",e.la),nn(e,r),r}function gn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Bt(new Ot({eb:n})):new Bt(e.pa)).Ha(e.J),t}function mn(){}function yn(){}function vn(e,t){ie.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new _n(this)}function wn(e){be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bn(){_e.call(this),this.status=1}function _n(e){this.g=e}(t=Bt.prototype).Ha=function(e){this.J=e},t.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Le.g(),this.v=this.o?ye(this.o):ye(Le),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){return void jt(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(qt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){jt(this,e)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,se(this,"complete"),se(this,"abort"),Kt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),Bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},t.bb=function(){Gt(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch(e){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},t.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pe(t)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Jt.prototype).la=8,t.G=1,t.connect=function(e,t,n,r){De(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=pn(this,null,this.W),en(this)},t.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Fe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=_(s),E(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=rn(this,i,t),dt(n=ct(this.I),"RID",e),dt(n,"CVER",22),this.D&&dt(n,"X-HTTP-Session-Id",this.D),nn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ft(s)))+"&"+t:this.m&&Vt(n,this.m,s)),nt(this.h,i),this.Ua&&dt(n,"TYPE","init"),this.P?(dt(n,"$req",t),dt(n,"SID","null"),i.T=!0,qe(i,n,null)):qe(i,n,t),this.G=2}}else 3==this.G&&(e?tn(this,e):0==this.i.length||Ze(this.h)||tn(this))},t.Fa=function(){if(this.u=null,cn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(h(this.ab,this),e)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Xt(this),cn(this))},t.Za=function(){null!=this.C&&(this.C=null,Xt(this),on(this),De(19))},t.fb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=mn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},yn.prototype.g=function(e,t){return new vn(e,t)},f(vn,ie),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Yt(this.g)},vn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=fe(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&en(t)},vn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,vn.aa.N.call(this)},f(wn,be),f(bn,_e),f(_n,mn),_n.prototype.ua=function(){se(this.g,"a")},_n.prototype.ta=function(e){se(this.g,new wn(e))},_n.prototype.sa=function(e){se(this.g,new bn(e))},_n.prototype.ra=function(){se(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,e.exports.createWebChannelTransport=function(){return new yn},e.exports.getStatEventTarget=function(){return Se()},e.exports.Event=Ie,e.exports.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,e.exports.ErrorCode=Pe,Me.COMPLETE="complete",e.exports.EventType=Me,ve.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",ie.prototype.listen=ie.prototype.K,e.exports.WebChannel=ve,e.exports.FetchXmlHttpFactory=Ot,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,e.exports.XhrIo=Bt}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(782);r.registerVersion("firebase","10.12.3","app"),Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100);Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteDB:()=>m,openDB:()=>g,unwrap:()=>p,wrap:()=>f});const r=(e,t)=>t.some((t=>e instanceof t));let i,s;const o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),f(o.get(this))}:function(...e){return f(t.apply(p(this),e))}:function(e,...n){const r=t.call(p(this),e,...n);return c.set(r,e.sort?e.sort():[e]),f(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));a.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e);var t}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(f(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=d(e);return t!==e&&(u.set(e,t),l.set(t,e)),t}const p=e=>l.get(e);function g(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=f(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(f(o.result),e.oldVersion,e.newVersion,f(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function m(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),f(n).then((()=>{}))}const y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],w=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return w.set(t,s),s}var _;_=h,h={..._,get:(e,t,n)=>b(e,t)||_.get(e,t,n),has:(e,t)=>!!b(e,t)||_.has(e,t)}},322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>P,__assign:()=>s,__asyncDelegator:()=>T,__asyncGenerator:()=>S,__asyncValues:()=>x,__await:()=>E,__awaiter:()=>p,__classPrivateFieldGet:()=>k,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>O,__createBinding:()=>m,__decorate:()=>a,__disposeResources:()=>R,__esDecorate:()=>u,__exportStar:()=>y,__extends:()=>i,__generator:()=>g,__importDefault:()=>N,__importStar:()=>A,__makeTemplateObject:()=>C,__metadata:()=>f,__param:()=>c,__propKey:()=>h,__read:()=>w,__rest:()=>o,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>b,__spreadArray:()=>I,__spreadArrays:()=>_,__values:()=>v,default:()=>F});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,i,s){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,f=n.length-1;f>=0;f--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(e||null))};var m=(0,n[f])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[u]=a)}l&&Object.defineProperty(l,r.name,h),d=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var m=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function I(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function o(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=i[e](t)).value instanceof E?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(e){l(s[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function T(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var D=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&m(t,e,n);return D(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function P(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var M="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function R(e){function t(t){e.error=e.hasError?new M(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const F={__extends:i,__assign:s,__rest:o,__decorate:a,__param:c,__metadata:f,__awaiter:p,__generator:g,__createBinding:m,__exportStar:y,__values:v,__read:w,__spread:b,__spreadArrays:_,__spreadArray:I,__await:E,__asyncGenerator:S,__asyncDelegator:T,__asyncValues:x,__makeTemplateObject:C,__importStar:A,__importDefault:N,__classPrivateFieldGet:k,__classPrivateFieldSet:O,__classPrivateFieldIn:L,__addDisposableResource:P,__disposeResources:R}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(156)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NC9GLEVBQW9CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2FwcC9kaXN0L2luZGV4LmNqcy5qcyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9jb21wb25lbnQvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvZmlyZXN0b3JlL2Rpc3QvaW5kZXguY2pzLmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2xvZ2dlci9kaXN0L2luZGV4LmNqcy5qcyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS91dGlsL2Rpc3QvaW5kZXguY2pzLmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3dlYmNoYW5uZWwtd3JhcHBlci9kaXN0L2Jsb29tLWJsb2IvYmxvb21fYmxvYl9lczIwMTguanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2Uvd2ViY2hhbm5lbC13cmFwcGVyL2Rpc3Qvd2ViY2hhbm5lbC1ibG9iL3dlYmNoYW5uZWxfYmxvYl9lczIwMTguanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9hcHAvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9maXJlc3RvcmUvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvd3JhcC1pZGItdmFsdWUuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9pZGIvYnVpbGQvaW5kZXguanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYubWpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL3J1bnRpbWUvZ2xvYmFsIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL3J1bnRpbWUvbWFrZSBuYW1lc3BhY2Ugb2JqZWN0Iiwid2VicGFjazovL3dlZGRpbmctc2l0ZS93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gXCJmaXJlYmFzZS9hcHBcIjtcclxuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlLCBkb2MsIHNldERvYywgZ2V0RG9jLCBjb2xsZWN0aW9uLCBvblNuYXBzaG90LCBEb2N1bWVudERhdGEsIERvY3VtZW50U25hcHNob3QsIFF1ZXJ5U25hcHNob3QsIHVwZGF0ZURvYyB9IGZyb20gXCJmaXJlYmFzZS9maXJlc3RvcmVcIjtcclxuaW1wb3J0IFwiLi9zdHlsZXMvaW5kZXguY3NzXCI7XHJcblxyXG5jb25zdCBmaXJlYmFzZUNvbmZpZyA9IHtcclxuICAgIGFwaUtleTogXCJBSXphU3lCckROYnlCcG1Sb1VTQ1RJLW5wRm0xWUlvZHpRTmpJb0FcIixcclxuICAgIGF1dGhEb21haW46IFwid2VkZGluZy1zaXRlLWMxZmIwLmZpcmViYXNlYXBwLmNvbVwiLFxyXG4gICAgcHJvamVjdElkOiBcIndlZGRpbmctc2l0ZS1jMWZiMFwiLFxyXG4gICAgc3RvcmFnZUJ1Y2tldDogXCJ3ZWRkaW5nLXNpdGUtYzFmYjAuYXBwc3BvdC5jb21cIixcclxuICAgIG1lc3NhZ2luZ1NlbmRlcklkOiBcIjUxNDgwODM0OTgwNVwiLFxyXG4gICAgYXBwSWQ6IFwiMTo1MTQ4MDgzNDk4MDU6d2ViOjU5ZGVmZWFkNjlkN2RhNGU1YWViNjRcIixcclxuICAgIG1lYXN1cmVtZW50SWQ6IFwiRy00SE03TjcyREY0XCJcclxufTtcclxuXHJcbi8vIEluaXRpYWxpemUgRmlyZWJhc2VcclxuY29uc3QgYXBwID0gaW5pdGlhbGl6ZUFwcChmaXJlYmFzZUNvbmZpZyk7XHJcbmNvbnN0IGRiID0gZ2V0RmlyZXN0b3JlKGFwcCk7XHJcblxyXG4vLyBEcmluayBkYXRhXHJcbmNvbnN0IGNvY2t0YWlsc0RhdGE6IHN0cmluZ1tdID0gWyfQnNC+0YXQuNGC0L4nLCAn0JHQsNC30LjQu9C40LrQvtCy0YvQuSDRgdC80Y3RiCcsICfQkNC/0LXRgNC+0LvRjCcsICfQnNCw0YDQs9Cw0YDQuNGC0LAnXTtcclxuY29uc3QgbHV4dXJ5RGF0YTogc3RyaW5nW10gPSBbJ9CS0L7QtNC60LAnLCAn0JLQuNGB0LrQuCcsICfQktC40L3QvicsICfQkNCx0YHQtdC90YInLCAn0KDQvtC8J107XHJcbmNvbnN0IGJlZXJEYXRhOiBzdHJpbmdbXSA9IFsn0JrQvtGA0L7QvdCwJywgJ0hlaW5la2VuJywgJ1BhdWxhbmVyJywgJ1BpbHNuZXInXTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGFkZEd1ZXN0KGxhc3ROYW1lOiBzdHJpbmcsIGZpcnN0TmFtZTogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGd1ZXN0UmVmID0gZG9jKGRiLCBcImd1ZXN0c1wiLCBgJHtsYXN0TmFtZX1fJHtmaXJzdE5hbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhndWVzdFJlZik7XHJcblxyXG4gICAgICAgIGlmICghZG9jU25hcC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICBhd2FpdCBzZXREb2MoZ3Vlc3RSZWYsIHsgbGFzdE5hbWUsIGZpcnN0TmFtZSB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coYEd1ZXN0ICR7bGFzdE5hbWV9ICR7Zmlyc3ROYW1lfSBhZGRlZGApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBHdWVzdCAke2xhc3ROYW1lfSAke2ZpcnN0TmFtZX0gYWxyZWFkeSBleGlzdHNgKTtcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhZGRpbmcgZ3Vlc3Q6XCIsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlR3Vlc3RMaXN0SW5IVE1MKGd1ZXN0OiB7IGxhc3ROYW1lOiBzdHJpbmc7IGZpcnN0TmFtZTogc3RyaW5nIH0pOiB2b2lkIHtcclxuICAgIGNvbnN0IGd1ZXN0TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3Vlc3RMaXN0XCIpO1xyXG4gICAgaWYgKCFndWVzdExpc3QpIHJldHVybjtcclxuXHJcbiAgICBjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7XHJcblxyXG4gICAgY29uc3QgbGFzdE5hbWVDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gICAgbGFzdE5hbWVDZWxsLnRleHRDb250ZW50ID0gZ3Vlc3QubGFzdE5hbWU7XHJcbiAgICByb3cuYXBwZW5kQ2hpbGQobGFzdE5hbWVDZWxsKTtcclxuXHJcbiAgICBjb25zdCBmaXJzdE5hbWVDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gICAgZmlyc3ROYW1lQ2VsbC50ZXh0Q29udGVudCA9IGd1ZXN0LmZpcnN0TmFtZTtcclxuICAgIHJvdy5hcHBlbmRDaGlsZChmaXJzdE5hbWVDZWxsKTtcclxuXHJcbiAgICBndWVzdExpc3QuYXBwZW5kQ2hpbGQocm93KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUd1ZXN0TGlzdCgpOiB2b2lkIHtcclxuICAgIGNvbnN0IGd1ZXN0c0NvbGxlY3Rpb24gPSBjb2xsZWN0aW9uKGRiLCBcImd1ZXN0c1wiKTtcclxuXHJcbiAgICBvblNuYXBzaG90KGd1ZXN0c0NvbGxlY3Rpb24sIChzbmFwc2hvdDogUXVlcnlTbmFwc2hvdDxEb2N1bWVudERhdGE+KSA9PiB7XHJcbiAgICAgICAgY29uc3QgZ3Vlc3RMaXN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJndWVzdExpc3RcIik7XHJcbiAgICAgICAgaWYgKCFndWVzdExpc3QpIHJldHVybjtcclxuXHJcbiAgICAgICAgZ3Vlc3RMaXN0LmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgICAgIHNuYXBzaG90LmZvckVhY2goKGRvYzogRG9jdW1lbnRTbmFwc2hvdDxEb2N1bWVudERhdGE+KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGd1ZXN0ID0gZG9jLmRhdGEoKSBhcyB7IGxhc3ROYW1lOiBzdHJpbmc7IGZpcnN0TmFtZTogc3RyaW5nIH07XHJcbiAgICAgICAgICAgIHVwZGF0ZUd1ZXN0TGlzdEluSFRNTChndWVzdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRHdWVzdEJ0blwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGxhc3ROYW1lID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibGFzdE5hbWVcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcbiAgICBjb25zdCBmaXJzdE5hbWUgPSAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXJzdE5hbWVcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblxyXG4gICAgaWYgKGxhc3ROYW1lICYmIGZpcnN0TmFtZSkge1xyXG4gICAgICAgIGF3YWl0IGFkZEd1ZXN0KGxhc3ROYW1lLCBmaXJzdE5hbWUpO1xyXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImxhc3ROYW1lXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gXCJcIjtcclxuICAgICAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaXJzdE5hbWVcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWUgPSBcIlwiO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBhbGVydChcItCf0L7QttCw0LvRg9C50YHRgtCwLCDQstCy0LXQtNC40YLQtSDRhNCw0LzQuNC70LjRjiDQuCDQuNC80Y8g0LPQvtGB0YLRj1wiKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5pbml0aWFsaXplR3Vlc3RMaXN0KCk7XHJcblxyXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRmlyZXN0b3JlRGF0YSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7XHJcbiAgICAgICAgY29ja3RhaWxzOiBjb2NrdGFpbHNEYXRhLFxyXG4gICAgICAgIGx1eHVyeTogbHV4dXJ5RGF0YSxcclxuICAgICAgICBiZWVyOiBiZWVyRGF0YSxcclxuICAgIH07XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtjYXRlZ29yeSwgZHJpbmtzXSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yaWVzKSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRyaW5rIG9mIGRyaW5rcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZHJpbmtSZWYgPSBkb2MoZGIsIGNhdGVnb3J5LCBkcmluay5yZXBsYWNlKC9cXHMrL2csICdfJykpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkcmlua1JlZik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFkb2NTbmFwLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2V0RG9jKGRyaW5rUmVmLCB7IGNvdW50OiAwIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGaXJlc3RvcmUgZGF0YSBpbml0aWFsaXplZCcpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgRmlyZXN0b3JlIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVEcmlua0NvdW50KGRyaW5rOiBzdHJpbmcsIGNhdGVnb3J5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZHJpbmtSZWYgPSBkb2MoZGIsIGNhdGVnb3J5LCBkcmluay5yZXBsYWNlKC9cXHMrL2csICdfJykpO1xyXG4gICAgICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZHJpbmtSZWYpO1xyXG5cclxuICAgICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQgPSBkb2NTbmFwLmRhdGEoKT8uY291bnQgfHwgMDtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGRyaW5rUmVmLCB7IGNvdW50OiBjdXJyZW50Q291bnQgKyAxIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCAke2RyaW5rfSBpbiAke2NhdGVnb3J5fTogbmV3IGNvdW50ICR7Y3VycmVudENvdW50ICsgMX1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhd2FpdCBzZXREb2MoZHJpbmtSZWYsIHsgY291bnQ6IDEgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZXQgJHtkcmlua30gaW4gJHtjYXRlZ29yeX06IG5ldyBjb3VudCAxYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0L/RgNC4INC+0LHQvdC+0LLQu9C10L3QuNC4INC60L7Qu9C40YfQtdGB0YLQstCwINCz0L7Qu9C+0YHQvtCyOicsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVJlc3VsdHMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXM6IHN0cmluZ1tdID0gWydjb2NrdGFpbHMnLCAnbHV4dXJ5JywgJ2JlZXInXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyaW5rcyA9IGNhdGVnb3J5ID09PSAnY29ja3RhaWxzJyA/IGNvY2t0YWlsc0RhdGEgOlxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPT09ICdsdXh1cnknID8gbHV4dXJ5RGF0YSA6XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9PT0gJ2JlZXInID8gYmVlckRhdGEgOiBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZHJpbmsgb2YgZHJpbmtzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkcmlua1JlZiA9IGRvYyhkYiwgY2F0ZWdvcnksIGRyaW5rLnJlcGxhY2UoL1xccysvZywgJ18nKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRyaW5rUmVmKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZG9jU25hcC5kYXRhKCk/LmNvdW50IHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZHJpbmsudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LWNvdW50YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudEVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7Y291bnR9INGH0LXQu9C+0LLQtdC6YDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YDQtdC30YPQu9GM0YLQsNGC0L7QsiDQvtC/0YDQvtGB0LA6JywgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVSZXN1bHRJbkhUTUwoZHJpbms6IHN0cmluZywgY291bnQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgY29uc3QgY291bnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZHJpbmsudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LWNvdW50YCk7XHJcbiAgICBpZiAoY291bnRFbGVtZW50KSB7XHJcbiAgICAgICAgY291bnRFbGVtZW50LmlubmVyVGV4dCA9IGAke2NvdW50fSDRh9C10LvQvtCy0LXQumA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmluaXRpYWxpemVGaXJlc3RvcmVEYXRhKCk7XHJcbmluaXRpYWxpemVSZXN1bHRzKCk7XHJcblxyXG5jb25zdCBzdXJ2ZXlGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1cnZleS1mb3JtJyk7XHJcblxyXG5zdXJ2ZXlGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShldmVudC50YXJnZXQgYXMgSFRNTEZvcm1FbGVtZW50KTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvY2t0YWlsRHJpbmtzID0gZm9ybURhdGEuZ2V0QWxsKCdjb2NrdGFpbCcpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJpbmsgb2YgY29ja3RhaWxEcmlua3MpIHtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlRHJpbmtDb3VudChkcmluay50b1N0cmluZygpLCAnY29ja3RhaWxzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsdXh1cnlEcmlua3MgPSBmb3JtRGF0YS5nZXRBbGwoJ2x1eHVyeScpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJpbmsgb2YgbHV4dXJ5RHJpbmtzKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZURyaW5rQ291bnQoZHJpbmsudG9TdHJpbmcoKSwgJ2x1eHVyeScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmVlckRyaW5rcyA9IGZvcm1EYXRhLmdldEFsbCgnYmVlcicpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJpbmsgb2YgYmVlckRyaW5rcykge1xyXG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVEcmlua0NvdW50KGRyaW5rLnRvU3RyaW5nKCksICdiZWVyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGFzVm90ZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIGluaXRpYWxpemVSZXN1bHRzKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdHMnKT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdXJ2ZXktYnV0dG9uJykgYXMgSFRNTEVsZW1lbnQpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L7QsdC90L7QstC70LXQvdC40Lgg0LrQvtC70LjRh9C10YHRgtCy0LAg0LPQvtC70L7RgdC+0LI6JywgZXJyb3IpO1xyXG4gICAgfVxyXG59KTtcclxuXHJcbmNvbnN0IGNhdGVnb3JpZXMgPSBbJ2NvY2t0YWlscycsICdsdXh1cnknLCAnYmVlciddO1xyXG5cclxuY2F0ZWdvcmllcy5mb3JFYWNoKGNhdGVnb3J5ID0+IHtcclxuICAgIGNvbnN0IGRyaW5rcyA9IGNhdGVnb3J5ID09PSAnY29ja3RhaWxzJyA/IGNvY2t0YWlsc0RhdGEgOlxyXG4gICAgICAgIGNhdGVnb3J5ID09PSAnbHV4dXJ5JyA/IGx1eHVyeURhdGEgOlxyXG4gICAgICAgIGNhdGVnb3J5ID09PSAnYmVlcicgPyBiZWVyRGF0YSA6IFtdO1xyXG5cclxuICAgIGRyaW5rcy5mb3JFYWNoKChkcmluaykgPT4ge1xyXG4gICAgICAgIGNvbnN0IGRyaW5rUmVmID0gZG9jKGRiLCBjYXRlZ29yeSwgZHJpbmsucmVwbGFjZSgvXFxzKy9nLCAnXycpKTtcclxuICAgICAgICBvblNuYXBzaG90KGRyaW5rUmVmLCAoZG9jU25hcHNob3Q6IERvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPikgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZG9jU25hcHNob3QuZXhpc3RzKCkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZG9jU25hcHNob3QuZGF0YSgpPy5jb3VudCB8fCAwO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlUmVzdWx0SW5IVE1MKGRyaW5rLCBjb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59KTtcclxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgY29tcG9uZW50ID0gcmVxdWlyZSgnQGZpcmViYXNlL2NvbXBvbmVudCcpO1xudmFyIHRzbGliID0gcmVxdWlyZSgndHNsaWInKTtcbnZhciBsb2dnZXIkMSA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9sb2dnZXInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQGZpcmViYXNlL3V0aWwnKTtcbnZhciBpZGIgPSByZXF1aXJlKCdpZGInKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgfVxyXG4gICAgLy8gSW4gaW5pdGlhbCBpbXBsZW1lbnRhdGlvbiwgdGhpcyB3aWxsIGJlIGNhbGxlZCBieSBpbnN0YWxsYXRpb25zIG9uXHJcbiAgICAvLyBhdXRoIHRva2VuIHJlZnJlc2gsIGFuZCBpbnN0YWxsYXRpb25zIHdpbGwgc2VuZCB0aGlzIHN0cmluZy5cclxuICAgIFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwucHJvdG90eXBlLmdldFBsYXRmb3JtSW5mb1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXJzID0gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXJzKCk7XHJcbiAgICAgICAgLy8gTG9vcCB0aHJvdWdoIHByb3ZpZGVycyBhbmQgZ2V0IGxpYnJhcnkvdmVyc2lvbiBwYWlycyBmcm9tIGFueSB0aGF0IGFyZVxyXG4gICAgICAgIC8vIHZlcnNpb24gY29tcG9uZW50cy5cclxuICAgICAgICByZXR1cm4gcHJvdmlkZXJzXHJcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHByb3ZpZGVyKSB7XHJcbiAgICAgICAgICAgIGlmIChpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIocHJvdmlkZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgc2VydmljZSA9IHByb3ZpZGVyLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiXCIuY29uY2F0KHNlcnZpY2UubGlicmFyeSwgXCIvXCIpLmNvbmNhdChzZXJ2aWNlLnZlcnNpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChsb2dTdHJpbmcpIHsgcmV0dXJuIGxvZ1N0cmluZzsgfSlcclxuICAgICAgICAgICAgLmpvaW4oJyAnKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbDtcclxufSgpKTtcclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBwcm92aWRlciBjaGVjayBpZiB0aGlzIHByb3ZpZGVyIHByb3ZpZGVzIGEgVmVyc2lvblNlcnZpY2VcclxuICpcclxuICogTk9URTogVXNpbmcgUHJvdmlkZXI8J2FwcC12ZXJzaW9uJz4gaXMgYSBoYWNrIHRvIGluZGljYXRlIHRoYXQgdGhlIHByb3ZpZGVyXHJcbiAqIHByb3ZpZGVzIFZlcnNpb25TZXJ2aWNlLiBUaGUgcHJvdmlkZXIgaXMgbm90IG5lY2Vzc2FyaWx5IGEgJ2FwcC12ZXJzaW9uJ1xyXG4gKiBwcm92aWRlci5cclxuICovXHJcbmZ1bmN0aW9uIGlzVmVyc2lvblNlcnZpY2VQcm92aWRlcihwcm92aWRlcikge1xyXG4gICAgdmFyIGNvbXBvbmVudCA9IHByb3ZpZGVyLmdldENvbXBvbmVudCgpO1xyXG4gICAgcmV0dXJuIChjb21wb25lbnQgPT09IG51bGwgfHwgY29tcG9uZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjb21wb25lbnQudHlwZSkgPT09IFwiVkVSU0lPTlwiIC8qIENvbXBvbmVudFR5cGUuVkVSU0lPTiAqLztcclxufVxuXG52YXIgbmFtZSRwID0gXCJAZmlyZWJhc2UvYXBwXCI7XG52YXIgdmVyc2lvbiQxID0gXCIwLjEwLjZcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIGxvZ2dlciA9IG5ldyBsb2dnZXIkMS5Mb2dnZXIoJ0BmaXJlYmFzZS9hcHAnKTtcblxudmFyIG5hbWUkbyA9IFwiQGZpcmViYXNlL2FwcC1jb21wYXRcIjtcblxudmFyIG5hbWUkbiA9IFwiQGZpcmViYXNlL2FuYWx5dGljcy1jb21wYXRcIjtcblxudmFyIG5hbWUkbSA9IFwiQGZpcmViYXNlL2FuYWx5dGljc1wiO1xuXG52YXIgbmFtZSRsID0gXCJAZmlyZWJhc2UvYXBwLWNoZWNrLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRrID0gXCJAZmlyZWJhc2UvYXBwLWNoZWNrXCI7XG5cbnZhciBuYW1lJGogPSBcIkBmaXJlYmFzZS9hdXRoXCI7XG5cbnZhciBuYW1lJGkgPSBcIkBmaXJlYmFzZS9hdXRoLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRoID0gXCJAZmlyZWJhc2UvZGF0YWJhc2VcIjtcblxudmFyIG5hbWUkZyA9IFwiQGZpcmViYXNlL2RhdGFiYXNlLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRmID0gXCJAZmlyZWJhc2UvZnVuY3Rpb25zXCI7XG5cbnZhciBuYW1lJGUgPSBcIkBmaXJlYmFzZS9mdW5jdGlvbnMtY29tcGF0XCI7XG5cbnZhciBuYW1lJGQgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zXCI7XG5cbnZhciBuYW1lJGMgPSBcIkBmaXJlYmFzZS9pbnN0YWxsYXRpb25zLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRiID0gXCJAZmlyZWJhc2UvbWVzc2FnaW5nXCI7XG5cbnZhciBuYW1lJGEgPSBcIkBmaXJlYmFzZS9tZXNzYWdpbmctY29tcGF0XCI7XG5cbnZhciBuYW1lJDkgPSBcIkBmaXJlYmFzZS9wZXJmb3JtYW5jZVwiO1xuXG52YXIgbmFtZSQ4ID0gXCJAZmlyZWJhc2UvcGVyZm9ybWFuY2UtY29tcGF0XCI7XG5cbnZhciBuYW1lJDcgPSBcIkBmaXJlYmFzZS9yZW1vdGUtY29uZmlnXCI7XG5cbnZhciBuYW1lJDYgPSBcIkBmaXJlYmFzZS9yZW1vdGUtY29uZmlnLWNvbXBhdFwiO1xuXG52YXIgbmFtZSQ1ID0gXCJAZmlyZWJhc2Uvc3RvcmFnZVwiO1xuXG52YXIgbmFtZSQ0ID0gXCJAZmlyZWJhc2Uvc3RvcmFnZS1jb21wYXRcIjtcblxudmFyIG5hbWUkMyA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG52YXIgbmFtZSQyID0gXCJAZmlyZWJhc2UvdmVydGV4YWktcHJldmlld1wiO1xuXG52YXIgbmFtZSQxID0gXCJAZmlyZWJhc2UvZmlyZXN0b3JlLWNvbXBhdFwiO1xuXG52YXIgbmFtZSA9IFwiZmlyZWJhc2VcIjtcbnZhciB2ZXJzaW9uID0gXCIxMC4xMi4zXCI7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBfYSQxO1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgYXBwIG5hbWVcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XHJcbnZhciBQTEFURk9STV9MT0dfU1RSSU5HID0gKF9hJDEgPSB7fSxcclxuICAgIF9hJDFbbmFtZSRwXSA9ICdmaXJlLWNvcmUnLFxyXG4gICAgX2EkMVtuYW1lJG9dID0gJ2ZpcmUtY29yZS1jb21wYXQnLFxyXG4gICAgX2EkMVtuYW1lJG1dID0gJ2ZpcmUtYW5hbHl0aWNzJyxcclxuICAgIF9hJDFbbmFtZSRuXSA9ICdmaXJlLWFuYWx5dGljcy1jb21wYXQnLFxyXG4gICAgX2EkMVtuYW1lJGtdID0gJ2ZpcmUtYXBwLWNoZWNrJyxcclxuICAgIF9hJDFbbmFtZSRsXSA9ICdmaXJlLWFwcC1jaGVjay1jb21wYXQnLFxyXG4gICAgX2EkMVtuYW1lJGpdID0gJ2ZpcmUtYXV0aCcsXHJcbiAgICBfYSQxW25hbWUkaV0gPSAnZmlyZS1hdXRoLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkaF0gPSAnZmlyZS1ydGRiJyxcclxuICAgIF9hJDFbbmFtZSRnXSA9ICdmaXJlLXJ0ZGItY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSRmXSA9ICdmaXJlLWZuJyxcclxuICAgIF9hJDFbbmFtZSRlXSA9ICdmaXJlLWZuLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkZF0gPSAnZmlyZS1paWQnLFxyXG4gICAgX2EkMVtuYW1lJGNdID0gJ2ZpcmUtaWlkLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkYl0gPSAnZmlyZS1mY20nLFxyXG4gICAgX2EkMVtuYW1lJGFdID0gJ2ZpcmUtZmNtLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkOV0gPSAnZmlyZS1wZXJmJyxcclxuICAgIF9hJDFbbmFtZSQ4XSA9ICdmaXJlLXBlcmYtY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSQ3XSA9ICdmaXJlLXJjJyxcclxuICAgIF9hJDFbbmFtZSQ2XSA9ICdmaXJlLXJjLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkNV0gPSAnZmlyZS1nY3MnLFxyXG4gICAgX2EkMVtuYW1lJDRdID0gJ2ZpcmUtZ2NzLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkM10gPSAnZmlyZS1mc3QnLFxyXG4gICAgX2EkMVtuYW1lJDFdID0gJ2ZpcmUtZnN0LWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkMl0gPSAnZmlyZS12ZXJ0ZXgnLFxyXG4gICAgX2EkMVsnZmlyZS1qcyddID0gJ2ZpcmUtanMnLFxyXG4gICAgX2EkMVtuYW1lXSA9ICdmaXJlLWpzLWFsbCcsXHJcbiAgICBfYSQxKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxudmFyIF9hcHBzID0gbmV3IE1hcCgpO1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgX3NlcnZlckFwcHMgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBSZWdpc3RlcmVkIGNvbXBvbmVudHMuXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxudmFyIF9jb21wb25lbnRzID0gbmV3IE1hcCgpO1xyXG4vKipcclxuICogQHBhcmFtIGNvbXBvbmVudCAtIHRoZSBjb21wb25lbnQgYmVpbmcgYWRkZWQgdG8gdGhpcyBhcHAncyBjb250YWluZXJcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfYWRkQ29tcG9uZW50KGFwcCwgY29tcG9uZW50KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGFwcC5jb250YWluZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcIkNvbXBvbmVudCBcIi5jb25jYXQoY29tcG9uZW50Lm5hbWUsIFwiIGZhaWxlZCB0byByZWdpc3RlciB3aXRoIEZpcmViYXNlQXBwIFwiKS5jb25jYXQoYXBwLm5hbWUpLCBlKTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQoYXBwLCBjb21wb25lbnQpIHtcclxuICAgIGFwcC5jb250YWluZXIuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQoY29tcG9uZW50KTtcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIGNvbXBvbmVudCAtIHRoZSBjb21wb25lbnQgdG8gcmVnaXN0ZXJcclxuICogQHJldHVybnMgd2hldGhlciBvciBub3QgdGhlIGNvbXBvbmVudCBpcyByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseVxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9yZWdpc3RlckNvbXBvbmVudChjb21wb25lbnQpIHtcclxuICAgIHZhciBlXzEsIF9hLCBlXzIsIF9iO1xyXG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQubmFtZTtcclxuICAgIGlmIChfY29tcG9uZW50cy5oYXMoY29tcG9uZW50TmFtZSkpIHtcclxuICAgICAgICBsb2dnZXIuZGVidWcoXCJUaGVyZSB3ZXJlIG11bHRpcGxlIGF0dGVtcHRzIHRvIHJlZ2lzdGVyIGNvbXBvbmVudCBcIi5jb25jYXQoY29tcG9uZW50TmFtZSwgXCIuXCIpKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBfY29tcG9uZW50cy5zZXQoY29tcG9uZW50TmFtZSwgY29tcG9uZW50KTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgLy8gYWRkIHRoZSBjb21wb25lbnQgdG8gZXhpc3RpbmcgYXBwIGluc3RhbmNlc1xyXG4gICAgICAgIGZvciAodmFyIF9jID0gdHNsaWIuX192YWx1ZXMoX2FwcHMudmFsdWVzKCkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBhcHAgPSBfZC52YWx1ZTtcclxuICAgICAgICAgICAgX2FkZENvbXBvbmVudChhcHAsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBfZSA9IHRzbGliLl9fdmFsdWVzKF9zZXJ2ZXJBcHBzLnZhbHVlcygpKSwgX2YgPSBfZS5uZXh0KCk7ICFfZi5kb25lOyBfZiA9IF9lLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmVyQXBwID0gX2YudmFsdWU7XHJcbiAgICAgICAgICAgIF9hZGRDb21wb25lbnQoc2VydmVyQXBwLCBjb21wb25lbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcclxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcclxuICpcclxuICogQHJldHVybnMgdGhlIHByb3ZpZGVyIGZvciB0aGUgc2VydmljZSB3aXRoIHRoZSBtYXRjaGluZyBuYW1lXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2dldFByb3ZpZGVyKGFwcCwgbmFtZSkge1xyXG4gICAgdmFyIGhlYXJ0YmVhdENvbnRyb2xsZXIgPSBhcHAuY29udGFpbmVyXHJcbiAgICAgICAgLmdldFByb3ZpZGVyKCdoZWFydGJlYXQnKVxyXG4gICAgICAgIC5nZXRJbW1lZGlhdGUoeyBvcHRpb25hbDogdHJ1ZSB9KTtcclxuICAgIGlmIChoZWFydGJlYXRDb250cm9sbGVyKSB7XHJcbiAgICAgICAgdm9pZCBoZWFydGJlYXRDb250cm9sbGVyLnRyaWdnZXJIZWFydGJlYXQoKTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcHAuY29udGFpbmVyLmdldFByb3ZpZGVyKG5hbWUpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2VBcHAgaW5zdGFuY2VcclxuICogQHBhcmFtIG5hbWUgLSBzZXJ2aWNlIG5hbWVcclxuICogQHBhcmFtIGluc3RhbmNlSWRlbnRpZmllciAtIHNlcnZpY2UgaW5zdGFuY2UgaWRlbnRpZmllciBpbiBjYXNlIHRoZSBzZXJ2aWNlIHN1cHBvcnRzIG11bHRpcGxlIGluc3RhbmNlc1xyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UoYXBwLCBuYW1lLCBpbnN0YW5jZUlkZW50aWZpZXIpIHtcclxuICAgIGlmIChpbnN0YW5jZUlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpbnN0YW5jZUlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgIF9nZXRQcm92aWRlcihhcHAsIG5hbWUpLmNsZWFySW5zdGFuY2UoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxufVxyXG4vKipcclxuICpcclxuICogQHBhcmFtIG9iaiAtIGFuIG9iamVjdCBvZiB0eXBlIEZpcmViYXNlQXBwIG9yIEZpcmViYXNlT3B0aW9ucy5cclxuICpcclxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZSBvYmplY3QgaXMgb2YgdHlwZSBGaXJlYmFzZUFwcC5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfaXNGaXJlYmFzZUFwcChvYmopIHtcclxuICAgIHJldHVybiBvYmoub3B0aW9ucyAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqIC0gYW4gb2JqZWN0IG9mIHR5cGUgRmlyZWJhc2VBcHAuXHJcbiAqXHJcbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIG9iamVjdCBpcyBvZiB0eXBlIEZpcmViYXNlU2VydmVyQXBwSW1wbC5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfaXNGaXJlYmFzZVNlcnZlckFwcChvYmopIHtcclxuICAgIHJldHVybiBvYmouc2V0dGluZ3MgIT09IHVuZGVmaW5lZDtcclxufVxyXG4vKipcclxuICogVGVzdCBvbmx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX2NsZWFyQ29tcG9uZW50cygpIHtcclxuICAgIF9jb21wb25lbnRzLmNsZWFyKCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIF9hO1xyXG52YXIgRVJST1JTID0gKF9hID0ge30sXHJcbiAgICBfYVtcIm5vLWFwcFwiIC8qIEFwcEVycm9yLk5PX0FQUCAqL10gPSBcIk5vIEZpcmViYXNlIEFwcCAneyRhcHBOYW1lfScgaGFzIGJlZW4gY3JlYXRlZCAtIFwiICtcclxuICAgICAgICAnY2FsbCBpbml0aWFsaXplQXBwKCkgZmlyc3QnLFxyXG4gICAgX2FbXCJiYWQtYXBwLW5hbWVcIiAvKiBBcHBFcnJvci5CQURfQVBQX05BTUUgKi9dID0gXCJJbGxlZ2FsIEFwcCBuYW1lOiAneyRhcHBOYW1lfSdcIixcclxuICAgIF9hW1wiZHVwbGljYXRlLWFwcFwiIC8qIEFwcEVycm9yLkRVUExJQ0FURV9BUFAgKi9dID0gXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZXhpc3RzIHdpdGggZGlmZmVyZW50IG9wdGlvbnMgb3IgY29uZmlnXCIsXHJcbiAgICBfYVtcImFwcC1kZWxldGVkXCIgLyogQXBwRXJyb3IuQVBQX0RFTEVURUQgKi9dID0gXCJGaXJlYmFzZSBBcHAgbmFtZWQgJ3skYXBwTmFtZX0nIGFscmVhZHkgZGVsZXRlZFwiLFxyXG4gICAgX2FbXCJzZXJ2ZXItYXBwLWRlbGV0ZWRcIiAvKiBBcHBFcnJvci5TRVJWRVJfQVBQX0RFTEVURUQgKi9dID0gJ0ZpcmViYXNlIFNlcnZlciBBcHAgaGFzIGJlZW4gZGVsZXRlZCcsXHJcbiAgICBfYVtcIm5vLW9wdGlvbnNcIiAvKiBBcHBFcnJvci5OT19PUFRJT05TICovXSA9ICdOZWVkIHRvIHByb3ZpZGUgb3B0aW9ucywgd2hlbiBub3QgYmVpbmcgZGVwbG95ZWQgdG8gaG9zdGluZyB2aWEgc291cmNlLicsXHJcbiAgICBfYVtcImludmFsaWQtYXBwLWFyZ3VtZW50XCIgLyogQXBwRXJyb3IuSU5WQUxJRF9BUFBfQVJHVU1FTlQgKi9dID0gJ2ZpcmViYXNlLnskYXBwTmFtZX0oKSB0YWtlcyBlaXRoZXIgbm8gYXJndW1lbnQgb3IgYSAnICtcclxuICAgICAgICAnRmlyZWJhc2UgQXBwIGluc3RhbmNlLicsXHJcbiAgICBfYVtcImludmFsaWQtbG9nLWFyZ3VtZW50XCIgLyogQXBwRXJyb3IuSU5WQUxJRF9MT0dfQVJHVU1FTlQgKi9dID0gJ0ZpcnN0IGFyZ3VtZW50IHRvIGBvbkxvZ2AgbXVzdCBiZSBudWxsIG9yIGEgZnVuY3Rpb24uJyxcclxuICAgIF9hW1wiaWRiLW9wZW5cIiAvKiBBcHBFcnJvci5JREJfT1BFTiAqL10gPSAnRXJyb3IgdGhyb3duIHdoZW4gb3BlbmluZyBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxyXG4gICAgX2FbXCJpZGItZ2V0XCIgLyogQXBwRXJyb3IuSURCX0dFVCAqL10gPSAnRXJyb3IgdGhyb3duIHdoZW4gcmVhZGluZyBmcm9tIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXHJcbiAgICBfYVtcImlkYi1zZXRcIiAvKiBBcHBFcnJvci5JREJfV1JJVEUgKi9dID0gJ0Vycm9yIHRocm93biB3aGVuIHdyaXRpbmcgdG8gSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcclxuICAgIF9hW1wiaWRiLWRlbGV0ZVwiIC8qIEFwcEVycm9yLklEQl9ERUxFVEUgKi9dID0gJ0Vycm9yIHRocm93biB3aGVuIGRlbGV0aW5nIGZyb20gSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcclxuICAgIF9hW1wiZmluYWxpemF0aW9uLXJlZ2lzdHJ5LW5vdC1zdXBwb3J0ZWRcIiAvKiBBcHBFcnJvci5GSU5BTElaQVRJT05fUkVHSVNUUllfTk9UX1NVUFBPUlRFRCAqL10gPSAnRmlyZWJhc2VTZXJ2ZXJBcHAgZGVsZXRlT25EZXJlZiBmaWVsZCBkZWZpbmVkIGJ1dCB0aGUgSlMgcnVudGltZSBkb2VzIG5vdCBzdXBwb3J0IEZpbmFsaXphdGlvblJlZ2lzdHJ5LicsXHJcbiAgICBfYVtcImludmFsaWQtc2VydmVyLWFwcC1lbnZpcm9ubWVudFwiIC8qIEFwcEVycm9yLklOVkFMSURfU0VSVkVSX0FQUF9FTlZJUk9OTUVOVCAqL10gPSAnRmlyZWJhc2VTZXJ2ZXJBcHAgaXMgbm90IGZvciB1c2UgaW4gYnJvd3NlciBlbnZpcm9ubWVudHMuJyxcclxuICAgIF9hKTtcclxudmFyIEVSUk9SX0ZBQ1RPUlkgPSBuZXcgdXRpbC5FcnJvckZhY3RvcnkoJ2FwcCcsICdGaXJlYmFzZScsIEVSUk9SUyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBGaXJlYmFzZUFwcEltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBGaXJlYmFzZUFwcEltcGwob3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuX2lzRGVsZXRlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuX29wdGlvbnMgPSB0c2xpYi5fX2Fzc2lnbih7fSwgb3B0aW9ucyk7XHJcbiAgICAgICAgdGhpcy5fY29uZmlnID0gdHNsaWIuX19hc3NpZ24oe30sIGNvbmZpZyk7XHJcbiAgICAgICAgdGhpcy5fbmFtZSA9IGNvbmZpZy5uYW1lO1xyXG4gICAgICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9XHJcbiAgICAgICAgICAgIGNvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ7XHJcbiAgICAgICAgdGhpcy5fY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmFkZENvbXBvbmVudChuZXcgY29tcG9uZW50LkNvbXBvbmVudCgnYXBwJywgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXM7IH0sIFwiUFVCTElDXCIgLyogQ29tcG9uZW50VHlwZS5QVUJMSUMgKi8pKTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLCBcImF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuX2F1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJuYW1lXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbmFtZTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJvcHRpb25zXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJjb25maWdcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25maWc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUsIFwiY29udGFpbmVyXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnRhaW5lcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJpc0RlbGV0ZWRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faXNEZWxldGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2lzRGVsZXRlZCA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFRoaXMgZnVuY3Rpb24gd2lsbCB0aHJvdyBhbiBFcnJvciBpZiB0aGUgQXBwIGhhcyBhbHJlYWR5IGJlZW4gZGVsZXRlZCAtXHJcbiAgICAgKiB1c2UgYmVmb3JlIHBlcmZvcm1pbmcgQVBJIGFjdGlvbnMgb24gdGhlIEFwcC5cclxuICAgICAqL1xyXG4gICAgRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZS5jaGVja0Rlc3Ryb3llZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJhcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLkFQUF9ERUxFVEVEICovLCB7IGFwcE5hbWU6IHRoaXMuX25hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBGaXJlYmFzZUFwcEltcGw7XHJcbn0oKSk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBGaXJlYmFzZVNlcnZlckFwcEltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICB0c2xpYi5fX2V4dGVuZHMoRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsKG9wdGlvbnMsIHNlcnZlckNvbmZpZywgbmFtZSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICAvLyBCdWlsZCBjb25maWd1cmF0aW9uIHBhcmFtZXRlcnMgZm9yIHRoZSBGaXJlYmFzZUFwcEltcGwgYmFzZSBjbGFzcy5cclxuICAgICAgICB2YXIgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID0gc2VydmVyQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCAhPT0gdW5kZWZpbmVkXHJcbiAgICAgICAgICAgID8gc2VydmVyQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFxyXG4gICAgICAgICAgICA6IGZhbHNlO1xyXG4gICAgICAgIC8vIENyZWF0ZSB0aGUgRmlyZWJhc2VBcHBTZXR0aW5ncyBvYmplY3QgZm9yIHRoZSBGaXJlYmFzZUFwcEltcCBjb25zdHJ1Y3Rvci5cclxuICAgICAgICB2YXIgY29uZmlnID0ge1xyXG4gICAgICAgICAgICBuYW1lOiBuYW1lLFxyXG4gICAgICAgICAgICBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgaWYgKG9wdGlvbnMuYXBpS2V5ICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgLy8gQ29uc3RydWN0IHRoZSBwYXJlbnQgRmlyZWJhc2VBcHBJbXAgb2JqZWN0LlxyXG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG9wdGlvbnMsIGNvbmZpZywgY29udGFpbmVyKSB8fCB0aGlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGFwcEltcGwgPSBvcHRpb25zO1xyXG4gICAgICAgICAgICBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGFwcEltcGwub3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpIHx8IHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIE5vdyBjb25zdHJ1Y3QgdGhlIGRhdGEgZm9yIHRoZSBGaXJlYmFzZVNlcnZlckFwcEltcGwuXHJcbiAgICAgICAgX3RoaXMuX3NlcnZlckNvbmZpZyA9IHRzbGliLl9fYXNzaWduKHsgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkOiBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgfSwgc2VydmVyQ29uZmlnKTtcclxuICAgICAgICBfdGhpcy5fZmluYWxpemF0aW9uUmVnaXN0cnkgPSBudWxsO1xyXG4gICAgICAgIGlmICh0eXBlb2YgRmluYWxpemF0aW9uUmVnaXN0cnkgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeSA9IG5ldyBGaW5hbGl6YXRpb25SZWdpc3RyeShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy5hdXRvbWF0aWNDbGVhbnVwKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5fcmVmQ291bnQgPSAwO1xyXG4gICAgICAgIF90aGlzLmluY1JlZkNvdW50KF90aGlzLl9zZXJ2ZXJDb25maWcucmVsZWFzZU9uRGVyZWYpO1xyXG4gICAgICAgIC8vIERvIG5vdCByZXRhaW4gYSBoYXJkIHJlZmVyZW5jZSB0byB0aGUgZHJlZiBvYmplY3QsIG90aGVyd2lzZSB0aGUgRmluYWxpemF0aW9uUmVnaXNyeVxyXG4gICAgICAgIC8vIHdpbGwgbmV2ZXIgdHJpZ2dlci5cclxuICAgICAgICBfdGhpcy5fc2VydmVyQ29uZmlnLnJlbGVhc2VPbkRlcmVmID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHNlcnZlckNvbmZpZy5yZWxlYXNlT25EZXJlZiA9IHVuZGVmaW5lZDtcclxuICAgICAgICByZWdpc3RlclZlcnNpb24obmFtZSRwLCB2ZXJzaW9uJDEsICdzZXJ2ZXJhcHAnKTtcclxuICAgICAgICByZXR1cm4gX3RoaXM7XHJcbiAgICB9XHJcbiAgICBGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLCBcInJlZkNvdW50XCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlZkNvdW50O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8vIEluY3JlbWVudCB0aGUgcmVmZXJlbmNlIGNvdW50IG9mIHRoaXMgc2VydmVyIGFwcC4gSWYgYW4gb2JqZWN0IGlzIHByb3ZpZGVkLCByZWdpc3RlciBpdFxyXG4gICAgLy8gd2l0aCB0aGUgZmluYWxpemF0aW9uIHJlZ2lzdHJ5LlxyXG4gICAgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLnByb3RvdHlwZS5pbmNSZWZDb3VudCA9IGZ1bmN0aW9uIChvYmopIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9yZWZDb3VudCsrO1xyXG4gICAgICAgIGlmIChvYmogIT09IHVuZGVmaW5lZCAmJiB0aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeSAhPT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeS5yZWdpc3RlcihvYmosIHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBEZWNyZW1lbnQgdGhlIHJlZmVyZW5jZSBjb3VudC5cclxuICAgIEZpcmViYXNlU2VydmVyQXBwSW1wbC5wcm90b3R5cGUuZGVjUmVmQ291bnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEZWxldGVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gLS10aGlzLl9yZWZDb3VudDtcclxuICAgIH07XHJcbiAgICAvLyBJbnZva2VkIGJ5IHRoZSBGaW5hbGl6YXRpb25SZWdpc3RyeSBjYWxsYmFjayB0byBub3RlIHRoYXQgdGhpcyBhcHAgc2hvdWxkIGdvIHRocm91Z2ggaXRzXHJcbiAgICAvLyByZWZlcmVuY2UgY291bnRzIGFuZCBkZWxldGUgaXRzZWxmIGlmIG5vIHJlZmVyZW5jZSBjb3VudCByZW1haW4uIFRoZSBjb29yZGluYXRpbmcgbG9naWMgdGhhdFxyXG4gICAgLy8gaGFuZGxlcyB0aGlzIGlzIGluIGRlbGV0ZUFwcCguLi4pLlxyXG4gICAgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLnByb3RvdHlwZS5hdXRvbWF0aWNDbGVhbnVwID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZvaWQgZGVsZXRlQXBwKHRoaXMpO1xyXG4gICAgfTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLCBcInNldHRpbmdzXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VydmVyQ29uZmlnO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cclxuICAgICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLmNoZWNrRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcInNlcnZlci1hcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLlNFUlZFUl9BUFBfREVMRVRFRCAqLyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHJldHVybiBGaXJlYmFzZVNlcnZlckFwcEltcGw7XHJcbn0oRmlyZWJhc2VBcHBJbXBsKSk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBUaGUgY3VycmVudCBTREsgdmVyc2lvbi5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxudmFyIFNES19WRVJTSU9OID0gdmVyc2lvbjtcclxuZnVuY3Rpb24gaW5pdGlhbGl6ZUFwcChfb3B0aW9ucywgcmF3Q29uZmlnKSB7XHJcbiAgICB2YXIgZV8xLCBfYTtcclxuICAgIGlmIChyYXdDb25maWcgPT09IHZvaWQgMCkgeyByYXdDb25maWcgPSB7fTsgfVxyXG4gICAgdmFyIG9wdGlvbnMgPSBfb3B0aW9ucztcclxuICAgIGlmICh0eXBlb2YgcmF3Q29uZmlnICE9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIHZhciBuYW1lXzEgPSByYXdDb25maWc7XHJcbiAgICAgICAgcmF3Q29uZmlnID0geyBuYW1lOiBuYW1lXzEgfTtcclxuICAgIH1cclxuICAgIHZhciBjb25maWcgPSB0c2xpYi5fX2Fzc2lnbih7IG5hbWU6IERFRkFVTFRfRU5UUllfTkFNRSwgYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkOiBmYWxzZSB9LCByYXdDb25maWcpO1xyXG4gICAgdmFyIG5hbWUgPSBjb25maWcubmFtZTtcclxuICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycgfHwgIW5hbWUpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImJhZC1hcHAtbmFtZVwiIC8qIEFwcEVycm9yLkJBRF9BUFBfTkFNRSAqLywge1xyXG4gICAgICAgICAgICBhcHBOYW1lOiBTdHJpbmcobmFtZSlcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIG9wdGlvbnMgfHwgKG9wdGlvbnMgPSB1dGlsLmdldERlZmF1bHRBcHBDb25maWcoKSk7XHJcbiAgICBpZiAoIW9wdGlvbnMpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLW9wdGlvbnNcIiAvKiBBcHBFcnJvci5OT19PUFRJT05TICovKTtcclxuICAgIH1cclxuICAgIHZhciBleGlzdGluZ0FwcCA9IF9hcHBzLmdldChuYW1lKTtcclxuICAgIGlmIChleGlzdGluZ0FwcCkge1xyXG4gICAgICAgIC8vIHJldHVybiB0aGUgZXhpc3RpbmcgYXBwIGlmIG9wdGlvbnMgYW5kIGNvbmZpZyBkZWVwIGVxdWFsIHRoZSBvbmVzIGluIHRoZSBleGlzdGluZyBhcHAuXHJcbiAgICAgICAgaWYgKHV0aWwuZGVlcEVxdWFsKG9wdGlvbnMsIGV4aXN0aW5nQXBwLm9wdGlvbnMpICYmXHJcbiAgICAgICAgICAgIHV0aWwuZGVlcEVxdWFsKGNvbmZpZywgZXhpc3RpbmdBcHAuY29uZmlnKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZXhpc3RpbmdBcHA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImR1cGxpY2F0ZS1hcHBcIiAvKiBBcHBFcnJvci5EVVBMSUNBVEVfQVBQICovLCB7IGFwcE5hbWU6IG5hbWUgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIGNvbnRhaW5lciA9IG5ldyBjb21wb25lbnQuQ29tcG9uZW50Q29udGFpbmVyKG5hbWUpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBfYiA9IHRzbGliLl9fdmFsdWVzKF9jb21wb25lbnRzLnZhbHVlcygpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50JDEgPSBfYy52YWx1ZTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQkMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5ld0FwcCA9IG5ldyBGaXJlYmFzZUFwcEltcGwob3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpO1xyXG4gICAgX2FwcHMuc2V0KG5hbWUsIG5ld0FwcCk7XHJcbiAgICByZXR1cm4gbmV3QXBwO1xyXG59XHJcbmZ1bmN0aW9uIGluaXRpYWxpemVTZXJ2ZXJBcHAoX29wdGlvbnMsIF9zZXJ2ZXJBcHBDb25maWcpIHtcclxuICAgIHZhciBlXzIsIF9hO1xyXG4gICAgaWYgKHV0aWwuaXNCcm93c2VyKCkgJiYgIXV0aWwuaXNXZWJXb3JrZXIoKSkge1xyXG4gICAgICAgIC8vIEZpcmViYXNlU2VydmVyQXBwIGlzbid0IGRlc2lnbmVkIHRvIGJlIHJ1biBpbiBicm93c2Vycy5cclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtc2VydmVyLWFwcC1lbnZpcm9ubWVudFwiIC8qIEFwcEVycm9yLklOVkFMSURfU0VSVkVSX0FQUF9FTlZJUk9OTUVOVCAqLyk7XHJcbiAgICB9XHJcbiAgICBpZiAoX3NlcnZlckFwcENvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIF9zZXJ2ZXJBcHBDb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICB2YXIgYXBwT3B0aW9ucztcclxuICAgIGlmIChfaXNGaXJlYmFzZUFwcChfb3B0aW9ucykpIHtcclxuICAgICAgICBhcHBPcHRpb25zID0gX29wdGlvbnMub3B0aW9ucztcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGFwcE9wdGlvbnMgPSBfb3B0aW9ucztcclxuICAgIH1cclxuICAgIC8vIEJ1aWxkIGFuIGFwcCBuYW1lIGJhc2VkIG9uIGEgaGFzaCBvZiB0aGUgY29uZmlndXJhdGlvbiBvcHRpb25zLlxyXG4gICAgdmFyIG5hbWVPYmogPSB0c2xpYi5fX2Fzc2lnbih0c2xpYi5fX2Fzc2lnbih7fSwgX3NlcnZlckFwcENvbmZpZyksIGFwcE9wdGlvbnMpO1xyXG4gICAgLy8gSG93ZXZlciwgRG8gbm90IG1hbmdsZSB0aGUgbmFtZSBiYXNlZCBvbiByZWxlYXNlT25EZXJlZiwgc2luY2UgaXQgd2lsbCB2YXJ5IGJldHdlZW4gdGhlXHJcbiAgICAvLyBjb25zdHJ1Y3Rpb24gb2YgRmlyZWJhc2VTZXJ2ZXJBcHAgaW5zdGFuY2VzLiBGb3IgZXhhbXBsZSwgaWYgdGhlIG9iamVjdCBpcyB0aGUgcmVxdWVzdCBoZWFkZXJzLlxyXG4gICAgaWYgKG5hbWVPYmoucmVsZWFzZU9uRGVyZWYgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgIGRlbGV0ZSBuYW1lT2JqLnJlbGVhc2VPbkRlcmVmO1xyXG4gICAgfVxyXG4gICAgdmFyIGhhc2hDb2RlID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19zcHJlYWRBcnJheShbXSwgdHNsaWIuX19yZWFkKHMpLCBmYWxzZSkucmVkdWNlKGZ1bmN0aW9uIChoYXNoLCBjKSB7IHJldHVybiAoTWF0aC5pbXVsKDMxLCBoYXNoKSArIGMuY2hhckNvZGVBdCgwKSkgfCAwOyB9LCAwKTtcclxuICAgIH07XHJcbiAgICBpZiAoX3NlcnZlckFwcENvbmZpZy5yZWxlYXNlT25EZXJlZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJmaW5hbGl6YXRpb24tcmVnaXN0cnktbm90LXN1cHBvcnRlZFwiIC8qIEFwcEVycm9yLkZJTkFMSVpBVElPTl9SRUdJU1RSWV9OT1RfU1VQUE9SVEVEICovLCB7fSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5hbWVTdHJpbmcgPSAnJyArIGhhc2hDb2RlKEpTT04uc3RyaW5naWZ5KG5hbWVPYmopKTtcclxuICAgIHZhciBleGlzdGluZ0FwcCA9IF9zZXJ2ZXJBcHBzLmdldChuYW1lU3RyaW5nKTtcclxuICAgIGlmIChleGlzdGluZ0FwcCkge1xyXG4gICAgICAgIGV4aXN0aW5nQXBwLmluY1JlZkNvdW50KF9zZXJ2ZXJBcHBDb25maWcucmVsZWFzZU9uRGVyZWYpO1xyXG4gICAgICAgIHJldHVybiBleGlzdGluZ0FwcDtcclxuICAgIH1cclxuICAgIHZhciBjb250YWluZXIgPSBuZXcgY29tcG9uZW50LkNvbXBvbmVudENvbnRhaW5lcihuYW1lU3RyaW5nKTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZm9yICh2YXIgX2IgPSB0c2xpYi5fX3ZhbHVlcyhfY29tcG9uZW50cy52YWx1ZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGNvbXBvbmVudCQxID0gX2MudmFsdWU7XHJcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDb21wb25lbnQoY29tcG9uZW50JDEpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHZhciBuZXdBcHAgPSBuZXcgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsKGFwcE9wdGlvbnMsIF9zZXJ2ZXJBcHBDb25maWcsIG5hbWVTdHJpbmcsIGNvbnRhaW5lcik7XHJcbiAgICBfc2VydmVyQXBwcy5zZXQobmFtZVN0cmluZywgbmV3QXBwKTtcclxuICAgIHJldHVybiBuZXdBcHA7XHJcbn1cclxuLyoqXHJcbiAqIFJldHJpZXZlcyBhIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBpbnN0YW5jZS5cclxuICpcclxuICogV2hlbiBjYWxsZWQgd2l0aCBubyBhcmd1bWVudHMsIHRoZSBkZWZhdWx0IGFwcCBpcyByZXR1cm5lZC4gV2hlbiBhbiBhcHAgbmFtZVxyXG4gKiBpcyBwcm92aWRlZCwgdGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoYXQgbmFtZSBpcyByZXR1cm5lZC5cclxuICpcclxuICogQW4gZXhjZXB0aW9uIGlzIHRocm93biBpZiB0aGUgYXBwIGJlaW5nIHJldHJpZXZlZCBoYXMgbm90IHlldCBiZWVuXHJcbiAqIGluaXRpYWxpemVkLlxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHVybiB0aGUgZGVmYXVsdCBhcHBcclxuICogY29uc3QgYXBwID0gZ2V0QXBwKCk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAZXhhbXBsZVxyXG4gKiBgYGBqYXZhc2NyaXB0XHJcbiAqIC8vIFJldHVybiBhIG5hbWVkIGFwcFxyXG4gKiBjb25zdCBvdGhlckFwcCA9IGdldEFwcChcIm90aGVyQXBwXCIpO1xyXG4gKiBgYGBcclxuICpcclxuICogQHBhcmFtIG5hbWUgLSBPcHRpb25hbCBuYW1lIG9mIHRoZSBhcHAgdG8gcmV0dXJuLiBJZiBubyBuYW1lIGlzXHJcbiAqICAgcHJvdmlkZWQsIHRoZSBkZWZhdWx0IGlzIGBcIltERUZBVUxUXVwiYC5cclxuICpcclxuICogQHJldHVybnMgVGhlIGFwcCBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm92aWRlZCBhcHAgbmFtZS5cclxuICogICBJZiBubyBhcHAgbmFtZSBpcyBwcm92aWRlZCwgdGhlIGRlZmF1bHQgYXBwIGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRBcHAobmFtZSkge1xyXG4gICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICB2YXIgYXBwID0gX2FwcHMuZ2V0KG5hbWUpO1xyXG4gICAgaWYgKCFhcHAgJiYgbmFtZSA9PT0gREVGQVVMVF9FTlRSWV9OQU1FICYmIHV0aWwuZ2V0RGVmYXVsdEFwcENvbmZpZygpKSB7XHJcbiAgICAgICAgcmV0dXJuIGluaXRpYWxpemVBcHAoKTtcclxuICAgIH1cclxuICAgIGlmICghYXBwKSB7XHJcbiAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJuby1hcHBcIiAvKiBBcHBFcnJvci5OT19BUFAgKi8sIHsgYXBwTmFtZTogbmFtZSB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBhcHA7XHJcbn1cclxuLyoqXHJcbiAqIEEgKHJlYWQtb25seSkgYXJyYXkgb2YgYWxsIGluaXRpYWxpemVkIGFwcHMuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIGdldEFwcHMoKSB7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbShfYXBwcy52YWx1ZXMoKSk7XHJcbn1cclxuLyoqXHJcbiAqIFJlbmRlcnMgdGhpcyBhcHAgdW51c2FibGUgYW5kIGZyZWVzIHRoZSByZXNvdXJjZXMgb2YgYWxsIGFzc29jaWF0ZWRcclxuICogc2VydmljZXMuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogZGVsZXRlQXBwKGFwcClcclxuICogICAudGhlbihmdW5jdGlvbigpIHtcclxuICogICAgIGNvbnNvbGUubG9nKFwiQXBwIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5XCIpO1xyXG4gKiAgIH0pXHJcbiAqICAgLmNhdGNoKGZ1bmN0aW9uKGVycm9yKSB7XHJcbiAqICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGRlbGV0aW5nIGFwcDpcIiwgZXJyb3IpO1xyXG4gKiAgIH0pO1xyXG4gKiBgYGBcclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gZGVsZXRlQXBwKGFwcCkge1xyXG4gICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBjbGVhbnVwUHJvdmlkZXJzLCBuYW1lLCBmaXJlYmFzZVNlcnZlckFwcDtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwUHJvdmlkZXJzID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IGFwcC5uYW1lO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChfYXBwcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYW51cFByb3ZpZGVycyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hcHBzLmRlbGV0ZShuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoX3NlcnZlckFwcHMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpcmViYXNlU2VydmVyQXBwID0gYXBwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZmlyZWJhc2VTZXJ2ZXJBcHAuZGVjUmVmQ291bnQoKSA8PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfc2VydmVyQXBwcy5kZWxldGUobmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwUHJvdmlkZXJzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNsZWFudXBQcm92aWRlcnMpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKGFwcC5jb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRQcm92aWRlcnMoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvdmlkZXIpIHsgcmV0dXJuIHByb3ZpZGVyLmRlbGV0ZSgpOyB9KSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHAuaXNEZWxldGVkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBfYS5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuLyoqXHJcbiAqIFJlZ2lzdGVycyBhIGxpYnJhcnkncyBuYW1lIGFuZCB2ZXJzaW9uIGZvciBwbGF0Zm9ybSBsb2dnaW5nIHB1cnBvc2VzLlxyXG4gKiBAcGFyYW0gbGlicmFyeSAtIE5hbWUgb2YgMXAgb3IgM3AgbGlicmFyeSAoZS5nLiBmaXJlc3RvcmUsIGFuZ3VsYXJmaXJlKVxyXG4gKiBAcGFyYW0gdmVyc2lvbiAtIEN1cnJlbnQgdmVyc2lvbiBvZiB0aGF0IGxpYnJhcnkuXHJcbiAqIEBwYXJhbSB2YXJpYW50IC0gQnVuZGxlIHZhcmlhbnQsIGUuZy4sIG5vZGUsIHJuLCBldGMuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyVmVyc2lvbihsaWJyYXJ5S2V5T3JOYW1lLCB2ZXJzaW9uLCB2YXJpYW50KSB7XHJcbiAgICB2YXIgX2E7XHJcbiAgICAvLyBUT0RPOiBXZSBjYW4gdXNlIHRoaXMgY2hlY2sgdG8gd2hpdGVsaXN0IHN0cmluZ3Mgd2hlbi9pZiB3ZSBzZXQgdXBcclxuICAgIC8vIGEgZ29vZCB3aGl0ZWxpc3Qgc3lzdGVtLlxyXG4gICAgdmFyIGxpYnJhcnkgPSAoX2EgPSBQTEFURk9STV9MT0dfU1RSSU5HW2xpYnJhcnlLZXlPck5hbWVdKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBsaWJyYXJ5S2V5T3JOYW1lO1xyXG4gICAgaWYgKHZhcmlhbnQpIHtcclxuICAgICAgICBsaWJyYXJ5ICs9IFwiLVwiLmNvbmNhdCh2YXJpYW50KTtcclxuICAgIH1cclxuICAgIHZhciBsaWJyYXJ5TWlzbWF0Y2ggPSBsaWJyYXJ5Lm1hdGNoKC9cXHN8XFwvLyk7XHJcbiAgICB2YXIgdmVyc2lvbk1pc21hdGNoID0gdmVyc2lvbi5tYXRjaCgvXFxzfFxcLy8pO1xyXG4gICAgaWYgKGxpYnJhcnlNaXNtYXRjaCB8fCB2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICB2YXIgd2FybmluZyA9IFtcclxuICAgICAgICAgICAgXCJVbmFibGUgdG8gcmVnaXN0ZXIgbGlicmFyeSBcXFwiXCIuY29uY2F0KGxpYnJhcnksIFwiXFxcIiB3aXRoIHZlcnNpb24gXFxcIlwiKS5jb25jYXQodmVyc2lvbiwgXCJcXFwiOlwiKVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgaWYgKGxpYnJhcnlNaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB3YXJuaW5nLnB1c2goXCJsaWJyYXJ5IG5hbWUgXFxcIlwiLmNvbmNhdChsaWJyYXJ5LCBcIlxcXCIgY29udGFpbnMgaWxsZWdhbCBjaGFyYWN0ZXJzICh3aGl0ZXNwYWNlIG9yIFxcXCIvXFxcIilcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGlicmFyeU1pc21hdGNoICYmIHZlcnNpb25NaXNtYXRjaCkge1xyXG4gICAgICAgICAgICB3YXJuaW5nLnB1c2goJ2FuZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmcucHVzaChcInZlcnNpb24gbmFtZSBcXFwiXCIuY29uY2F0KHZlcnNpb24sIFwiXFxcIiBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnMgKHdoaXRlc3BhY2Ugb3IgXFxcIi9cXFwiKVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxvZ2dlci53YXJuKHdhcm5pbmcuam9pbignICcpKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnQobmV3IGNvbXBvbmVudC5Db21wb25lbnQoXCJcIi5jb25jYXQobGlicmFyeSwgXCItdmVyc2lvblwiKSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gKHsgbGlicmFyeTogbGlicmFyeSwgdmVyc2lvbjogdmVyc2lvbiB9KTsgfSwgXCJWRVJTSU9OXCIgLyogQ29tcG9uZW50VHlwZS5WRVJTSU9OICovKSk7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgbG9nIGhhbmRsZXIgZm9yIGFsbCBGaXJlYmFzZSBTREtzLlxyXG4gKiBAcGFyYW0gbG9nQ2FsbGJhY2sgLSBBbiBvcHRpb25hbCBjdXN0b20gbG9nIGhhbmRsZXIgdGhhdCBleGVjdXRlcyB1c2VyIGNvZGUgd2hlbmV2ZXJcclxuICogdGhlIEZpcmViYXNlIFNESyBtYWtlcyBhIGxvZ2dpbmcgY2FsbC5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gb25Mb2cobG9nQ2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICAgIGlmIChsb2dDYWxsYmFjayAhPT0gbnVsbCAmJiB0eXBlb2YgbG9nQ2FsbGJhY2sgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImludmFsaWQtbG9nLWFyZ3VtZW50XCIgLyogQXBwRXJyb3IuSU5WQUxJRF9MT0dfQVJHVU1FTlQgKi8pO1xyXG4gICAgfVxyXG4gICAgbG9nZ2VyJDEuc2V0VXNlckxvZ0hhbmRsZXIobG9nQ2FsbGJhY2ssIG9wdGlvbnMpO1xyXG59XHJcbi8qKlxyXG4gKiBTZXRzIGxvZyBsZXZlbCBmb3IgYWxsIEZpcmViYXNlIFNES3MuXHJcbiAqXHJcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCBhcmUgY2FwdHVyZWQgKGkuZS4gaWZcclxuICogeW91IHNldCB0aGUgbG9nIGxldmVsIHRvIGBpbmZvYCwgZXJyb3JzIGFyZSBsb2dnZWQsIGJ1dCBgZGVidWdgIGFuZFxyXG4gKiBgdmVyYm9zZWAgbG9ncyBhcmUgbm90KS5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gc2V0TG9nTGV2ZWwobG9nTGV2ZWwpIHtcclxuICAgIGxvZ2dlciQxLnNldExvZ0xldmVsKGxvZ0xldmVsKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgREJfTkFNRSA9ICdmaXJlYmFzZS1oZWFydGJlYXQtZGF0YWJhc2UnO1xyXG52YXIgREJfVkVSU0lPTiA9IDE7XHJcbnZhciBTVE9SRV9OQU1FID0gJ2ZpcmViYXNlLWhlYXJ0YmVhdC1zdG9yZSc7XHJcbnZhciBkYlByb21pc2UgPSBudWxsO1xyXG5mdW5jdGlvbiBnZXREYlByb21pc2UoKSB7XHJcbiAgICBpZiAoIWRiUHJvbWlzZSkge1xyXG4gICAgICAgIGRiUHJvbWlzZSA9IGlkYi5vcGVuREIoREJfTkFNRSwgREJfVkVSU0lPTiwge1xyXG4gICAgICAgICAgICB1cGdyYWRlOiBmdW5jdGlvbiAoZGIsIG9sZFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IHVzZSAnYnJlYWsnIGluIHRoaXMgc3dpdGNoIHN0YXRlbWVudCwgdGhlIGZhbGwtdGhyb3VnaFxyXG4gICAgICAgICAgICAgICAgLy8gYmVoYXZpb3IgaXMgd2hhdCB3ZSB3YW50LCBiZWNhdXNlIGlmIHRoZXJlIGFyZSBtdWx0aXBsZSB2ZXJzaW9ucyBiZXR3ZWVuXHJcbiAgICAgICAgICAgICAgICAvLyB0aGUgb2xkIHZlcnNpb24gYW5kIHRoZSBjdXJyZW50IHZlcnNpb24sIHdlIHdhbnQgQUxMIHRoZSBtaWdyYXRpb25zXHJcbiAgICAgICAgICAgICAgICAvLyB0aGF0IGNvcnJlc3BvbmQgdG8gdGhvc2UgdmVyc2lvbnMgdG8gcnVuLCBub3Qgb25seSB0aGUgbGFzdCBvbmUuXHJcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZGVmYXVsdC1jYXNlXHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKG9sZFZlcnNpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShTVE9SRV9OQU1FKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2FmYXJpL2lPUyBicm93c2VycyB0aHJvdyBvY2Nhc2lvbmFsIGV4Y2VwdGlvbnMgb25cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRiLmNyZWF0ZU9iamVjdFN0b3JlKCkgdGhhdCBtYXkgYmUgYSBidWcuIEF2b2lkIGJsb2NraW5nXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgcmVzdCBvZiB0aGUgYXBwIGZ1bmN0aW9uYWxpdHkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaWRiLW9wZW5cIiAvKiBBcHBFcnJvci5JREJfT1BFTiAqLywge1xyXG4gICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBkYlByb21pc2U7XHJcbn1cclxuZnVuY3Rpb24gcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCKGFwcCkge1xyXG4gICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkYiwgdHgsIHJlc3VsdCwgZV8xLCBpZGJHZXRFcnJvcjtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBfYS50cnlzLnB1c2goWzAsIDQsICwgNV0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGdldERiUHJvbWlzZSgpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICBkYiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICB0eCA9IGRiLnRyYW5zYWN0aW9uKFNUT1JFX05BTUUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHR4Lm9iamVjdFN0b3JlKFNUT1JFX05BTUUpLmdldChjb21wdXRlS2V5KGFwcCkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIHRoZSB2YWx1ZSBidXQgdHguZG9uZSBjYW4gdGhyb3csXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgbmVlZCB0byBhd2FpdCBpdCBoZXJlIHRvIGNhdGNoIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHR4LmRvbmVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIGFscmVhZHkgaGF2ZSB0aGUgdmFsdWUgYnV0IHR4LmRvbmUgY2FuIHRocm93LFxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gYXdhaXQgaXQgaGVyZSB0byBjYXRjaCBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHJlc3VsdF07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgZV8xID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzEgaW5zdGFuY2VvZiB1dGlsLkZpcmViYXNlRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oZV8xLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWRiR2V0RXJyb3IgPSBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImlkYi1nZXRcIiAvKiBBcHBFcnJvci5JREJfR0VUICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZV8xID09PSBudWxsIHx8IGVfMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZV8xLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQihhcHAsIGhlYXJ0YmVhdE9iamVjdCkge1xyXG4gICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBkYiwgdHgsIG9iamVjdFN0b3JlLCBlXzIsIGlkYkdldEVycm9yO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgNCwgLCA1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RGJQcm9taXNlKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGRiID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSwgJ3JlYWR3cml0ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIG9iamVjdFN0b3JlID0gdHgub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgb2JqZWN0U3RvcmUucHV0KGhlYXJ0YmVhdE9iamVjdCwgY29tcHV0ZUtleShhcHApKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHR4LmRvbmVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMiBpbnN0YW5jZW9mIHV0aWwuRmlyZWJhc2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihlXzIubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJHZXRFcnJvciA9IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaWRiLXNldFwiIC8qIEFwcEVycm9yLklEQl9XUklURSAqLywge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxFcnJvck1lc3NhZ2U6IGVfMiA9PT0gbnVsbCB8fCBlXzIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVfMi5tZXNzYWdlXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihpZGJHZXRFcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gY29tcHV0ZUtleShhcHApIHtcclxuICAgIHJldHVybiBcIlwiLmNvbmNhdChhcHAubmFtZSwgXCIhXCIpLmNvbmNhdChhcHAub3B0aW9ucy5hcHBJZCk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIE1BWF9IRUFERVJfQllURVMgPSAxMDI0O1xyXG4vLyAzMCBkYXlzXHJcbnZhciBTVE9SRURfSEVBUlRCRUFUX1JFVEVOVElPTl9NQVhfTUlMTElTID0gMzAgKiAyNCAqIDYwICogNjAgKiAxMDAwO1xyXG52YXIgSGVhcnRiZWF0U2VydmljZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIZWFydGJlYXRTZXJ2aWNlSW1wbChjb250YWluZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEluLW1lbW9yeSBjYWNoZSBmb3IgaGVhcnRiZWF0cywgdXNlZCBieSBnZXRIZWFydGJlYXRzSGVhZGVyKCkgdG8gZ2VuZXJhdGVcclxuICAgICAgICAgKiB0aGUgaGVhZGVyIHN0cmluZy5cclxuICAgICAgICAgKiBTdG9yZXMgb25lIHJlY29yZCBwZXIgZGF0ZS4gVGhpcyB3aWxsIGJlIGNvbnNvbGlkYXRlZCBpbnRvIHRoZSBzdGFuZGFyZFxyXG4gICAgICAgICAqIGZvcm1hdCBvZiBvbmUgcmVjb3JkIHBlciB1c2VyIGFnZW50IHN0cmluZyBiZWZvcmUgYmVpbmcgc2VudCBhcyBhIGhlYWRlci5cclxuICAgICAgICAgKiBQb3B1bGF0ZWQgZnJvbSBpbmRleGVkREIgd2hlbiB0aGUgY29udHJvbGxlciBpcyBpbnN0YW50aWF0ZWQgYW5kIHNob3VsZFxyXG4gICAgICAgICAqIGJlIGtlcHQgaW4gc3luYyB3aXRoIGluZGV4ZWREQi5cclxuICAgICAgICAgKiBMZWF2ZSBwdWJsaWMgZm9yIGVhc2llciB0ZXN0aW5nLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIGFwcCA9IHRoaXMuY29udGFpbmVyLmdldFByb3ZpZGVyKCdhcHAnKS5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICB0aGlzLl9zdG9yYWdlID0gbmV3IEhlYXJ0YmVhdFN0b3JhZ2VJbXBsKGFwcCk7XHJcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZSA9IHRoaXMuX3N0b3JhZ2UucmVhZCgpLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICBfdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gcmVzdWx0O1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxsZWQgdG8gcmVwb3J0IGEgaGVhcnRiZWF0LiBUaGUgZnVuY3Rpb24gd2lsbCBnZW5lcmF0ZVxyXG4gICAgICogYSBIZWFydGJlYXRzQnlVc2VyQWdlbnQgb2JqZWN0LCB1cGRhdGUgaGVhcnRiZWF0c0NhY2hlLCBhbmQgcGVyc2lzdCBpdFxyXG4gICAgICogdG8gSW5kZXhlZERCLlxyXG4gICAgICogTm90ZSB0aGF0IHdlIG9ubHkgc3RvcmUgb25lIGhlYXJ0YmVhdCBwZXIgZGF5LiBTbyBpZiBhIGhlYXJ0YmVhdCBmb3IgdG9kYXkgaXNcclxuICAgICAqIGFscmVhZHkgbG9nZ2VkLCBzdWJzZXF1ZW50IGNhbGxzIHRvIHRoaXMgZnVuY3Rpb24gaW4gdGhlIHNhbWUgZGF5IHdpbGwgYmUgaWdub3JlZC5cclxuICAgICAqL1xyXG4gICAgSGVhcnRiZWF0U2VydmljZUltcGwucHJvdG90eXBlLnRyaWdnZXJIZWFydGJlYXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwbGF0Zm9ybUxvZ2dlciwgYWdlbnQsIGRhdGUsIF9jO1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9kKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9kLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGF0Zm9ybUxvZ2dlciA9IHRoaXMuY29udGFpbmVyXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0UHJvdmlkZXIoJ3BsYXRmb3JtLWxvZ2dlcicpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFnZW50ID0gcGxhdGZvcm1Mb2dnZXIuZ2V0UGxhdGZvcm1JbmZvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSBnZXRVVENEYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKCgoX2EgPSB0aGlzLl9oZWFydGJlYXRzQ2FjaGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWFydGJlYXRzKSA9PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jID0gdGhpcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5faGVhcnRiZWF0c0NhY2hlID0gX2Quc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSBmYWlsZWQgdG8gY29uc3RydWN0IGEgaGVhcnRiZWF0cyBjYWNoZSwgdGhlbiByZXR1cm4gaW1tZWRpYXRlbHkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKF9iID0gdGhpcy5faGVhcnRiZWF0c0NhY2hlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaGVhcnRiZWF0cykgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9kLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCBzdG9yZSBhIGhlYXJ0YmVhdCBpZiBvbmUgaXMgYWxyZWFkeSBzdG9yZWQgZm9yIHRoaXMgZGF5XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIGlmIGEgaGVhZGVyIGhhcyBhbHJlYWR5IGJlZW4gc2VudCB0b2RheS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPT09IGRhdGUgfHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzLnNvbWUoZnVuY3Rpb24gKHNpbmdsZURhdGVIZWFydGJlYXQpIHsgcmV0dXJuIHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSA9PT0gZGF0ZTsgfSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoZXJlIGlzIG5vIGVudHJ5IGZvciB0aGlzIGRhdGUuIENyZWF0ZSBvbmUuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5wdXNoKHsgZGF0ZTogZGF0ZSwgYWdlbnQ6IGFnZW50IH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBlbnRyaWVzIG9sZGVyIHRoYW4gMzAgZGF5cy5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMgPSB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5maWx0ZXIoZnVuY3Rpb24gKHNpbmdsZURhdGVIZWFydGJlYXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBoYlRpbWVzdGFtcCA9IG5ldyBEYXRlKHNpbmdsZURhdGVIZWFydGJlYXQuZGF0ZSkudmFsdWVPZigpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5vdyA9IERhdGUubm93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm93IC0gaGJUaW1lc3RhbXAgPD0gU1RPUkVEX0hFQVJUQkVBVF9SRVRFTlRJT05fTUFYX01JTExJUztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZXR1cm5zIGEgYmFzZTY0IGVuY29kZWQgc3RyaW5nIHdoaWNoIGNhbiBiZSBhdHRhY2hlZCB0byB0aGUgaGVhcnRiZWF0LXNwZWNpZmljIGhlYWRlciBkaXJlY3RseS5cclxuICAgICAqIEl0IGFsc28gY2xlYXJzIGFsbCBoZWFydGJlYXRzIGZyb20gbWVtb3J5IGFzIHdlbGwgYXMgaW4gSW5kZXhlZERCLlxyXG4gICAgICpcclxuICAgICAqIE5PVEU6IENvbnN1bWluZyBwcm9kdWN0IFNES3Mgc2hvdWxkIG5vdCBzZW5kIHRoZSBoZWFkZXIgaWYgdGhpcyBtZXRob2RcclxuICAgICAqIHJldHVybnMgYW4gZW1wdHkgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBIZWFydGJlYXRTZXJ2aWNlSW1wbC5wcm90b3R5cGUuZ2V0SGVhcnRiZWF0c0hlYWRlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgZGF0ZSwgX2IsIGhlYXJ0YmVhdHNUb1NlbmQsIHVuc2VudEVudHJpZXMsIGhlYWRlclN0cmluZztcclxuICAgICAgICAgICAgcmV0dXJuIHRzbGliLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYy5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEodGhpcy5faGVhcnRiZWF0c0NhY2hlID09PSBudWxsKSkgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZVByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDI7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiBpdCdzIHN0aWxsIG51bGwgb3IgdGhlIGFycmF5IGlzIGVtcHR5LCB0aGVyZSBpcyBubyBkYXRhIHRvIHNlbmQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoKF9hID0gdGhpcy5faGVhcnRiZWF0c0NhY2hlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuaGVhcnRiZWF0cykgPT0gbnVsbCB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMubGVuZ3RoID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgJyddO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSBnZXRVVENEYXRlU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iID0gZXh0cmFjdEhlYXJ0YmVhdHNGb3JIZWFkZXIodGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMpLCBoZWFydGJlYXRzVG9TZW5kID0gX2IuaGVhcnRiZWF0c1RvU2VuZCwgdW5zZW50RW50cmllcyA9IF9iLnVuc2VudEVudHJpZXM7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlclN0cmluZyA9IHV0aWwuYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkoeyB2ZXJzaW9uOiAyLCBoZWFydGJlYXRzOiBoZWFydGJlYXRzVG9TZW5kIH0pKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgbGFzdCBzZW50IGRhdGUgdG8gcHJldmVudCBhbm90aGVyIGJlaW5nIGxvZ2dlZC9zZW50IGZvciB0aGUgc2FtZSBkYXkuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5sYXN0U2VudEhlYXJ0YmVhdERhdGUgPSBkYXRlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh1bnNlbnRFbnRyaWVzLmxlbmd0aCA+IDApKSByZXR1cm4gWzMgLypicmVhayovLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RvcmUgYW55IHVuc2VudCBlbnRyaWVzIGlmIHRoZXkgZXhpc3QuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzID0gdW5zZW50RW50cmllcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyBtb3JlIGxpa2VseSB0aGFuIGVtcHR5aW5nIHRoZSBhcnJheSAoYmVsb3cpIHRvIGxlYWQgdG8gc29tZSBvZGQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNhY2hlIGlzbid0IGVtcHR5IGFuZCB0aGlzIHdpbGwgYmUgY2FsbGVkIGFnYWluIG9uIHRoZSBuZXh0IHJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpcyBwcm9iYWJseSBzYWZlc3QgaWYgd2UgYXdhaXQgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBzZWVtcyBtb3JlIGxpa2VseSB0aGFuIGVtcHR5aW5nIHRoZSBhcnJheSAoYmVsb3cpIHRvIGxlYWQgdG8gc29tZSBvZGQgc3RhdGVcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2luY2UgdGhlIGNhY2hlIGlzbid0IGVtcHR5IGFuZCB0aGlzIHdpbGwgYmUgY2FsbGVkIGFnYWluIG9uIHRoZSBuZXh0IHJlcXVlc3QsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFuZCBpcyBwcm9iYWJseSBzYWZlc3QgaWYgd2UgYXdhaXQgaXQuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBEbyBub3Qgd2FpdCBmb3IgdGhpcywgdG8gcmVkdWNlIGxhdGVuY3kuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZvaWQgdGhpcy5fc3RvcmFnZS5vdmVyd3JpdGUodGhpcy5faGVhcnRiZWF0c0NhY2hlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSA1O1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGhlYWRlclN0cmluZ107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBIZWFydGJlYXRTZXJ2aWNlSW1wbDtcclxufSgpKTtcclxuZnVuY3Rpb24gZ2V0VVRDRGF0ZVN0cmluZygpIHtcclxuICAgIHZhciB0b2RheSA9IG5ldyBEYXRlKCk7XHJcbiAgICAvLyBSZXR1cm5zIGRhdGUgZm9ybWF0ICdZWVlZLU1NLUREJ1xyXG4gICAgcmV0dXJuIHRvZGF5LnRvSVNPU3RyaW5nKCkuc3Vic3RyaW5nKDAsIDEwKTtcclxufVxyXG5mdW5jdGlvbiBleHRyYWN0SGVhcnRiZWF0c0ZvckhlYWRlcihoZWFydGJlYXRzQ2FjaGUsIG1heFNpemUpIHtcclxuICAgIHZhciBlXzEsIF9hO1xyXG4gICAgaWYgKG1heFNpemUgPT09IHZvaWQgMCkgeyBtYXhTaXplID0gTUFYX0hFQURFUl9CWVRFUzsgfVxyXG4gICAgLy8gSGVhcnRiZWF0cyBncm91cGVkIGJ5IHVzZXIgYWdlbnQgaW4gdGhlIHN0YW5kYXJkIGZvcm1hdCB0byBiZSBzZW50IGluXHJcbiAgICAvLyB0aGUgaGVhZGVyLlxyXG4gICAgdmFyIGhlYXJ0YmVhdHNUb1NlbmQgPSBbXTtcclxuICAgIC8vIFNpbmdsZSBkYXRlIGZvcm1hdCBoZWFydGJlYXRzIHRoYXQgYXJlIG5vdCBzZW50LlxyXG4gICAgdmFyIHVuc2VudEVudHJpZXMgPSBoZWFydGJlYXRzQ2FjaGUuc2xpY2UoKTtcclxuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKHNpbmdsZURhdGVIZWFydGJlYXQpIHtcclxuICAgICAgICAvLyBMb29rIGZvciBhbiBleGlzdGluZyBlbnRyeSB3aXRoIHRoZSBzYW1lIHVzZXIgYWdlbnQuXHJcbiAgICAgICAgdmFyIGhlYXJ0YmVhdEVudHJ5ID0gaGVhcnRiZWF0c1RvU2VuZC5maW5kKGZ1bmN0aW9uIChoYikgeyByZXR1cm4gaGIuYWdlbnQgPT09IHNpbmdsZURhdGVIZWFydGJlYXQuYWdlbnQ7IH0pO1xyXG4gICAgICAgIGlmICghaGVhcnRiZWF0RW50cnkpIHtcclxuICAgICAgICAgICAgLy8gSWYgbm8gZW50cnkgZm9yIHRoaXMgdXNlciBhZ2VudCBleGlzdHMsIGNyZWF0ZSBvbmUuXHJcbiAgICAgICAgICAgIGhlYXJ0YmVhdHNUb1NlbmQucHVzaCh7XHJcbiAgICAgICAgICAgICAgICBhZ2VudDogc2luZ2xlRGF0ZUhlYXJ0YmVhdC5hZ2VudCxcclxuICAgICAgICAgICAgICAgIGRhdGVzOiBbc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlXVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgaWYgKGNvdW50Qnl0ZXMoaGVhcnRiZWF0c1RvU2VuZCkgPiBtYXhTaXplKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgaGVhZGVyIHdvdWxkIGV4Y2VlZCBtYXggc2l6ZSwgcmVtb3ZlIHRoZSBhZGRlZCBoZWFydGJlYXRcclxuICAgICAgICAgICAgICAgIC8vIGVudHJ5IGFuZCBzdG9wIGFkZGluZyB0byB0aGUgaGVhZGVyLlxyXG4gICAgICAgICAgICAgICAgaGVhcnRiZWF0c1RvU2VuZC5wb3AoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhlYXJ0YmVhdEVudHJ5LmRhdGVzLnB1c2goc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKTtcclxuICAgICAgICAgICAgLy8gSWYgdGhlIGhlYWRlciB3b3VsZCBleGNlZWQgbWF4IHNpemUsIHJlbW92ZSB0aGUgYWRkZWQgZGF0ZVxyXG4gICAgICAgICAgICAvLyBhbmQgc3RvcCBhZGRpbmcgdG8gdGhlIGhlYWRlci5cclxuICAgICAgICAgICAgaWYgKGNvdW50Qnl0ZXMoaGVhcnRiZWF0c1RvU2VuZCkgPiBtYXhTaXplKSB7XHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRFbnRyeS5kYXRlcy5wb3AoKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiBcImJyZWFrXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUG9wIHVuc2VudCBlbnRyeSBmcm9tIHF1ZXVlLiAoU2tpcHBlZCBpZiBhZGRpbmcgdGhlIGVudHJ5IGV4Y2VlZGVkXHJcbiAgICAgICAgLy8gcXVvdGEgYW5kIHRoZSBsb29wIGJyZWFrcyBlYXJseS4pXHJcbiAgICAgICAgdW5zZW50RW50cmllcyA9IHVuc2VudEVudHJpZXMuc2xpY2UoMSk7XHJcbiAgICB9O1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBoZWFydGJlYXRzQ2FjaGVfMSA9IHRzbGliLl9fdmFsdWVzKGhlYXJ0YmVhdHNDYWNoZSksIGhlYXJ0YmVhdHNDYWNoZV8xXzEgPSBoZWFydGJlYXRzQ2FjaGVfMS5uZXh0KCk7ICFoZWFydGJlYXRzQ2FjaGVfMV8xLmRvbmU7IGhlYXJ0YmVhdHNDYWNoZV8xXzEgPSBoZWFydGJlYXRzQ2FjaGVfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIHNpbmdsZURhdGVIZWFydGJlYXQgPSBoZWFydGJlYXRzQ2FjaGVfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICB2YXIgc3RhdGVfMSA9IF9sb29wXzEoc2luZ2xlRGF0ZUhlYXJ0YmVhdCk7XHJcbiAgICAgICAgICAgIGlmIChzdGF0ZV8xID09PSBcImJyZWFrXCIpXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGhlYXJ0YmVhdHNDYWNoZV8xXzEgJiYgIWhlYXJ0YmVhdHNDYWNoZV8xXzEuZG9uZSAmJiAoX2EgPSBoZWFydGJlYXRzQ2FjaGVfMS5yZXR1cm4pKSBfYS5jYWxsKGhlYXJ0YmVhdHNDYWNoZV8xKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFydGJlYXRzVG9TZW5kOiBoZWFydGJlYXRzVG9TZW5kLFxyXG4gICAgICAgIHVuc2VudEVudHJpZXM6IHVuc2VudEVudHJpZXNcclxuICAgIH07XHJcbn1cclxudmFyIEhlYXJ0YmVhdFN0b3JhZ2VJbXBsID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSGVhcnRiZWF0U3RvcmFnZUltcGwoYXBwKSB7XHJcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XHJcbiAgICAgICAgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZSA9IHRoaXMucnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjaygpO1xyXG4gICAgfVxyXG4gICAgSGVhcnRiZWF0U3RvcmFnZUltcGwucHJvdG90eXBlLnJ1bkluZGV4ZWREQkVudmlyb25tZW50Q2hlY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXV0aWwuaXNJbmRleGVkREJBdmFpbGFibGUoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdXRpbC52YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkgeyByZXR1cm4gZmFsc2U7IH0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBSZWFkIGFsbCBoZWFydGJlYXRzLlxyXG4gICAgICovXHJcbiAgICBIZWFydGJlYXRTdG9yYWdlSW1wbC5wcm90b3R5cGUucmVhZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBjYW5Vc2VJbmRleGVkREIsIGlkYkhlYXJ0YmVhdE9iamVjdDtcclxuICAgICAgICAgICAgcmV0dXJuIHRzbGliLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fY2FuVXNlSW5kZXhlZERCUHJvbWlzZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW5Vc2VJbmRleGVkREIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIWNhblVzZUluZGV4ZWREQikgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7IGhlYXJ0YmVhdHM6IFtdIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgcmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCKHRoaXMuYXBwKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJIZWFydGJlYXRPYmplY3QgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZGJIZWFydGJlYXRPYmplY3QgPT09IG51bGwgfHwgaWRiSGVhcnRiZWF0T2JqZWN0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpZGJIZWFydGJlYXRPYmplY3QuaGVhcnRiZWF0cykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGlkYkhlYXJ0YmVhdE9iamVjdF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgeyBoZWFydGJlYXRzOiBbXSB9XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvLyBvdmVyd3JpdGUgdGhlIHN0b3JhZ2Ugd2l0aCB0aGUgcHJvdmlkZWQgaGVhcnRiZWF0c1xyXG4gICAgSGVhcnRiZWF0U3RvcmFnZUltcGwucHJvdG90eXBlLm92ZXJ3cml0ZSA9IGZ1bmN0aW9uIChoZWFydGJlYXRzT2JqZWN0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNhblVzZUluZGV4ZWREQiwgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0O1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblVzZUluZGV4ZWREQiA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2FuVXNlSW5kZXhlZERCKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZWFkKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0ID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIodGhpcy5hcHAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VudEhlYXJ0YmVhdERhdGU6IChfYSA9IGhlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNPYmplY3QuaGVhcnRiZWF0c1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvLyBhZGQgaGVhcnRiZWF0c1xyXG4gICAgSGVhcnRiZWF0U3RvcmFnZUltcGwucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChoZWFydGJlYXRzT2JqZWN0KSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNhblVzZUluZGV4ZWREQiwgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0O1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblVzZUluZGV4ZWREQiA9IF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2FuVXNlSW5kZXhlZERCKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5yZWFkKCldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0ID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgd3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIodGhpcy5hcHAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYXN0U2VudEhlYXJ0YmVhdERhdGU6IChfYSA9IGhlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QubGFzdFNlbnRIZWFydGJlYXREYXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYXJ0YmVhdHM6IHRzbGliLl9fc3ByZWFkQXJyYXkodHNsaWIuX19zcHJlYWRBcnJheShbXSwgdHNsaWIuX19yZWFkKGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5oZWFydGJlYXRzKSwgZmFsc2UpLCB0c2xpYi5fX3JlYWQoaGVhcnRiZWF0c09iamVjdC5oZWFydGJlYXRzKSwgZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBIZWFydGJlYXRTdG9yYWdlSW1wbDtcclxufSgpKTtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBieXRlcyBvZiBhIEhlYXJ0YmVhdHNCeVVzZXJBZ2VudCBhcnJheSBhZnRlciBiZWluZyB3cmFwcGVkXHJcbiAqIGluIGEgcGxhdGZvcm0gbG9nZ2luZyBoZWFkZXIgSlNPTiBvYmplY3QsIHN0cmluZ2lmaWVkLCBhbmQgY29udmVydGVkXHJcbiAqIHRvIGJhc2UgNjQuXHJcbiAqL1xyXG5mdW5jdGlvbiBjb3VudEJ5dGVzKGhlYXJ0YmVhdHNDYWNoZSkge1xyXG4gICAgLy8gYmFzZTY0IGhhcyBhIHJlc3RyaWN0ZWQgc2V0IG9mIGNoYXJhY3RlcnMsIGFsbCBvZiB3aGljaCBzaG91bGQgYmUgMSBieXRlLlxyXG4gICAgcmV0dXJuIHV0aWwuYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoXHJcbiAgICAvLyBoZWFydGJlYXRzQ2FjaGUgd3JhcHBlciBwcm9wZXJ0aWVzXHJcbiAgICBKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IDIsIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNDYWNoZSB9KSkubGVuZ3RoO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIHJlZ2lzdGVyQ29yZUNvbXBvbmVudHModmFyaWFudCkge1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBjb21wb25lbnQuQ29tcG9uZW50KCdwbGF0Zm9ybS1sb2dnZXInLCBmdW5jdGlvbiAoY29udGFpbmVyKSB7IHJldHVybiBuZXcgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbChjb250YWluZXIpOyB9LCBcIlBSSVZBVEVcIiAvKiBDb21wb25lbnRUeXBlLlBSSVZBVEUgKi8pKTtcclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChuZXcgY29tcG9uZW50LkNvbXBvbmVudCgnaGVhcnRiZWF0JywgZnVuY3Rpb24gKGNvbnRhaW5lcikgeyByZXR1cm4gbmV3IEhlYXJ0YmVhdFNlcnZpY2VJbXBsKGNvbnRhaW5lcik7IH0sIFwiUFJJVkFURVwiIC8qIENvbXBvbmVudFR5cGUuUFJJVkFURSAqLykpO1xyXG4gICAgLy8gUmVnaXN0ZXIgYGFwcGAgcGFja2FnZS5cclxuICAgIHJlZ2lzdGVyVmVyc2lvbihuYW1lJHAsIHZlcnNpb24kMSwgdmFyaWFudCk7XHJcbiAgICAvLyBCVUlMRF9UQVJHRVQgd2lsbCBiZSByZXBsYWNlZCBieSB2YWx1ZXMgbGlrZSBlc201LCBlc20yMDE3LCBjanM1LCBldGMgZHVyaW5nIHRoZSBjb21waWxhdGlvblxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUkcCwgdmVyc2lvbiQxLCAnY2pzNScpO1xyXG4gICAgLy8gUmVnaXN0ZXIgcGxhdGZvcm0gU0RLIGlkZW50aWZpZXIgKG5vIHZlcnNpb24pLlxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKCdmaXJlLWpzJywgJycpO1xyXG59XG5cbi8qKlxyXG4gKiBGaXJlYmFzZSBBcHBcclxuICpcclxuICogQHJlbWFya3MgVGhpcyBwYWNrYWdlIGNvb3JkaW5hdGVzIHRoZSBjb21tdW5pY2F0aW9uIGJldHdlZW4gdGhlIGRpZmZlcmVudCBGaXJlYmFzZSBjb21wb25lbnRzXHJcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxyXG4gKi9cclxucmVnaXN0ZXJDb3JlQ29tcG9uZW50cygnbm9kZScpO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ0ZpcmViYXNlRXJyb3InLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdXRpbC5GaXJlYmFzZUVycm9yOyB9XG59KTtcbmV4cG9ydHMuU0RLX1ZFUlNJT04gPSBTREtfVkVSU0lPTjtcbmV4cG9ydHMuX0RFRkFVTFRfRU5UUllfTkFNRSA9IERFRkFVTFRfRU5UUllfTkFNRTtcbmV4cG9ydHMuX2FkZENvbXBvbmVudCA9IF9hZGRDb21wb25lbnQ7XG5leHBvcnRzLl9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudCA9IF9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudDtcbmV4cG9ydHMuX2FwcHMgPSBfYXBwcztcbmV4cG9ydHMuX2NsZWFyQ29tcG9uZW50cyA9IF9jbGVhckNvbXBvbmVudHM7XG5leHBvcnRzLl9jb21wb25lbnRzID0gX2NvbXBvbmVudHM7XG5leHBvcnRzLl9nZXRQcm92aWRlciA9IF9nZXRQcm92aWRlcjtcbmV4cG9ydHMuX2lzRmlyZWJhc2VBcHAgPSBfaXNGaXJlYmFzZUFwcDtcbmV4cG9ydHMuX2lzRmlyZWJhc2VTZXJ2ZXJBcHAgPSBfaXNGaXJlYmFzZVNlcnZlckFwcDtcbmV4cG9ydHMuX3JlZ2lzdGVyQ29tcG9uZW50ID0gX3JlZ2lzdGVyQ29tcG9uZW50O1xuZXhwb3J0cy5fcmVtb3ZlU2VydmljZUluc3RhbmNlID0gX3JlbW92ZVNlcnZpY2VJbnN0YW5jZTtcbmV4cG9ydHMuX3NlcnZlckFwcHMgPSBfc2VydmVyQXBwcztcbmV4cG9ydHMuZGVsZXRlQXBwID0gZGVsZXRlQXBwO1xuZXhwb3J0cy5nZXRBcHAgPSBnZXRBcHA7XG5leHBvcnRzLmdldEFwcHMgPSBnZXRBcHBzO1xuZXhwb3J0cy5pbml0aWFsaXplQXBwID0gaW5pdGlhbGl6ZUFwcDtcbmV4cG9ydHMuaW5pdGlhbGl6ZVNlcnZlckFwcCA9IGluaXRpYWxpemVTZXJ2ZXJBcHA7XG5leHBvcnRzLm9uTG9nID0gb25Mb2c7XG5leHBvcnRzLnJlZ2lzdGVyVmVyc2lvbiA9IHJlZ2lzdGVyVmVyc2lvbjtcbmV4cG9ydHMuc2V0TG9nTGV2ZWwgPSBzZXRMb2dMZXZlbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIHRzbGliID0gcmVxdWlyZSgndHNsaWInKTtcbnZhciB1dGlsID0gcmVxdWlyZSgnQGZpcmViYXNlL3V0aWwnKTtcblxuLyoqXHJcbiAqIENvbXBvbmVudCBmb3Igc2VydmljZSBuYW1lIFQsIGUuZy4gYGF1dGhgLCBgYXV0aC1pbnRlcm5hbGBcclxuICovXHJcbnZhciBDb21wb25lbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgcHVibGljIHNlcnZpY2UgbmFtZSwgZS5nLiBhcHAsIGF1dGgsIGZpcmVzdG9yZSwgZGF0YWJhc2VcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZUZhY3RvcnkgU2VydmljZSBmYWN0b3J5IHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgcHVibGljIGludGVyZmFjZVxyXG4gICAgICogQHBhcmFtIHR5cGUgd2hldGhlciB0aGUgc2VydmljZSBwcm92aWRlZCBieSB0aGUgY29tcG9uZW50IGlzIHB1YmxpYyBvciBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudChuYW1lLCBpbnN0YW5jZUZhY3RvcnksIHR5cGUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VGYWN0b3J5ID0gaW5zdGFuY2VGYWN0b3J5O1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyA9IGZhbHNlO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFByb3BlcnRpZXMgdG8gYmUgYWRkZWQgdG8gdGhlIHNlcnZpY2UgbmFtZXNwYWNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlUHJvcHMgPSB7fTtcclxuICAgICAgICB0aGlzLmluc3RhbnRpYXRpb25Nb2RlID0gXCJMQVpZXCIgLyogSW5zdGFudGlhdGlvbk1vZGUuTEFaWSAqLztcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gbnVsbDtcclxuICAgIH1cclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFudGlhdGlvbk1vZGUgPSBmdW5jdGlvbiAobW9kZSkge1xyXG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBtb2RlO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0TXVsdGlwbGVJbnN0YW5jZXMgPSBmdW5jdGlvbiAobXVsdGlwbGVJbnN0YW5jZXMpIHtcclxuICAgICAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gbXVsdGlwbGVJbnN0YW5jZXM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRTZXJ2aWNlUHJvcHMgPSBmdW5jdGlvbiAocHJvcHMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHByb3BzO1xyXG4gICAgICAgIHJldHVybiB0aGlzO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudC5wcm90b3R5cGUuc2V0SW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICB0aGlzLm9uSW5zdGFuY2VDcmVhdGVkID0gY2FsbGJhY2s7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBvbmVudDtcclxufSgpKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIERFRkFVTFRfRU5UUllfTkFNRSA9ICdbREVGQVVMVF0nO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUHJvdmlkZXIgZm9yIGluc3RhbmNlIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiAnYXV0aCcsICdhdXRoLWludGVybmFsJ1xyXG4gKiBOYW1lU2VydmljZU1hcHBpbmdbVF0gaXMgYW4gYWxpYXMgZm9yIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZVxyXG4gKi9cclxudmFyIFByb3ZpZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gUHJvdmlkZXIobmFtZSwgY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLmNvbnRhaW5lciA9IGNvbnRhaW5lcjtcclxuICAgICAgICB0aGlzLmNvbXBvbmVudCA9IG51bGw7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZCA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMgPSBuZXcgTWFwKCk7XHJcbiAgICAgICAgdGhpcy5vbkluaXRDYWxsYmFja3MgPSBuZXcgTWFwKCk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIEEgcHJvdmlkZXIgY2FuIHByb3ZpZGUgbXVsaXRwbGUgaW5zdGFuY2VzIG9mIGEgc2VydmljZVxyXG4gICAgICogaWYgdGhpcy5jb21wb25lbnQubXVsdGlwbGVJbnN0YW5jZXMgaXMgdHJ1ZS5cclxuICAgICAqL1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgLy8gaWYgbXVsdGlwbGVJbnN0YW5jZXMgaXMgbm90IHN1cHBvcnRlZCwgdXNlIHRoZSBkZWZhdWx0IG5hbWVcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIXRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuaGFzKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSkge1xyXG4gICAgICAgICAgICB2YXIgZGVmZXJyZWQgPSBuZXcgdXRpbC5EZWZlcnJlZCgpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZGVmZXJyZWQpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5pc0luaXRpYWxpemVkKG5vcm1hbGl6ZWRJZGVudGlmaWVyKSB8fFxyXG4gICAgICAgICAgICAgICAgdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXplIHRoZSBzZXJ2aWNlIGlmIGl0IGNhbiBiZSBhdXRvLWluaXRpYWxpemVkXHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmZXJyZWQucmVzb2x2ZShpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IHRocm93cyBhbiBleGNlcHRpb24gZHVyaW5nIGdldCgpLCBpdCBzaG91bGQgbm90IGNhdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCByZXR1cm4gdGhlIHVucmVzb2x2ZWQgcHJvbWlzZSBpbiB0aGlzIGNhc2UuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKS5wcm9taXNlO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRJbW1lZGlhdGUgPSBmdW5jdGlvbiAob3B0aW9ucykge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5pZGVudGlmaWVyKTtcclxuICAgICAgICB2YXIgb3B0aW9uYWwgPSAoX2EgPSBvcHRpb25zID09PSBudWxsIHx8IG9wdGlvbnMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9wdGlvbnMub3B0aW9uYWwpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGZhbHNlO1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpIHx8XHJcbiAgICAgICAgICAgIHRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSW4gY2FzZSBhIGNvbXBvbmVudCBpcyBub3QgaW5pdGlhbGl6ZWQgYW5kIHNob3VsZC9jYW4gbm90IGJlIGF1dG8taW5pdGlhbGl6ZWQgYXQgdGhlIG1vbWVudCwgcmV0dXJuIG51bGwgaWYgdGhlIG9wdGlvbmFsIGZsYWcgaXMgc2V0LCBvciB0aHJvd1xyXG4gICAgICAgICAgICBpZiAob3B0aW9uYWwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJTZXJ2aWNlIFwiLmNvbmNhdCh0aGlzLm5hbWUsIFwiIGlzIG5vdCBhdmFpbGFibGVcIikpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50O1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5zZXRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgaWYgKGNvbXBvbmVudC5uYW1lICE9PSB0aGlzLm5hbWUpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJNaXNtYXRjaGluZyBDb21wb25lbnQgXCIuY29uY2F0KGNvbXBvbmVudC5uYW1lLCBcIiBmb3IgUHJvdmlkZXIgXCIpLmNvbmNhdCh0aGlzLm5hbWUsIFwiLlwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBmb3IgXCIuY29uY2F0KHRoaXMubmFtZSwgXCIgaGFzIGFscmVhZHkgYmVlbiBwcm92aWRlZFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gY29tcG9uZW50O1xyXG4gICAgICAgIC8vIHJldHVybiBlYXJseSB3aXRob3V0IGF0dGVtcHRpbmcgdG8gaW5pdGlhbGl6ZSB0aGUgY29tcG9uZW50IGlmIHRoZSBjb21wb25lbnQgcmVxdWlyZXMgZXhwbGljaXQgaW5pdGlhbGl6YXRpb24gKGNhbGxpbmcgYFByb3ZpZGVyLmluaXRpYWxpemUoKWApXHJcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiB0aGUgc2VydmljZSBpcyBlYWdlciwgaW5pdGlhbGl6ZSB0aGUgZGVmYXVsdCBpbnN0YW5jZVxyXG4gICAgICAgIGlmIChpc0NvbXBvbmVudEVhZ2VyKGNvbXBvbmVudCkpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7IGluc3RhbmNlSWRlbnRpZmllcjogREVGQVVMVF9FTlRSWV9OQU1FIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IGZvciBhbiBlYWdlciBDb21wb25lbnQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgdGhlIGVhZ2VyXHJcbiAgICAgICAgICAgICAgICAvLyBpbml0aWFsaXphdGlvbiwgaXQgc2hvdWxkIG5vdCBjYXVzZSBhIGZhdGFsIGVycm9yLlxyXG4gICAgICAgICAgICAgICAgLy8gVE9ETzogSW52ZXN0aWdhdGUgaWYgd2UgbmVlZCB0byBtYWtlIGl0IGNvbmZpZ3VyYWJsZSwgYmVjYXVzZSBzb21lIGNvbXBvbmVudCBtYXkgd2FudCB0byBjYXVzZVxyXG4gICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvciBpbiB0aGlzIGNhc2U/XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gQ3JlYXRlIHNlcnZpY2UgaW5zdGFuY2VzIGZvciB0aGUgcGVuZGluZyBwcm9taXNlcyBhbmQgcmVzb2x2ZSB0aGVtXHJcbiAgICAgICAgICAgIC8vIE5PVEU6IGlmIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgaXMgZmFsc2UsIG9ubHkgdGhlIGRlZmF1bHQgaW5zdGFuY2Ugd2lsbCBiZSBjcmVhdGVkXHJcbiAgICAgICAgICAgIC8vIGFuZCBhbGwgcHJvbWlzZXMgd2l0aCByZXNvbHZlIHdpdGggaXQgcmVnYXJkbGVzcyBvZiB0aGUgaWRlbnRpZmllci5cclxuICAgICAgICAgICAgZm9yICh2YXIgX2IgPSB0c2xpYi5fX3ZhbHVlcyh0aGlzLmluc3RhbmNlc0RlZmVycmVkLmVudHJpZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZCA9IHRzbGliLl9fcmVhZChfYy52YWx1ZSwgMiksIGluc3RhbmNlSWRlbnRpZmllciA9IF9kWzBdLCBpbnN0YW5jZURlZmVycmVkID0gX2RbMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBgZ2V0T3JJbml0aWFsaXplU2VydmljZSgpYCBzaG91bGQgYWx3YXlzIHJldHVybiBhIHZhbGlkIGluc3RhbmNlIHNpbmNlIGEgY29tcG9uZW50IGlzIGd1YXJhbnRlZWQuIHVzZSAhIHRvIG1ha2UgdHlwZXNjcmlwdCBoYXBweS5cclxuICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB0aGUgaW5zdGFuY2UgZmFjdG9yeSB0aHJvd3MgYW4gZXhjZXB0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gYSBmYXRhbCBlcnJvci4gV2UganVzdCBsZWF2ZSB0aGUgcHJvbWlzZSB1bnJlc29sdmVkLlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuY2xlYXJJbnN0YW5jZSA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5kZWxldGUoaWRlbnRpZmllcik7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZXNPcHRpb25zLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlcy5kZWxldGUoaWRlbnRpZmllcik7XHJcbiAgICB9O1xyXG4gICAgLy8gYXBwLmRlbGV0ZSgpIHdpbGwgY2FsbCB0aGlzIG1ldGhvZCBvbiBldmVyeSBwcm92aWRlciB0byBkZWxldGUgdGhlIHNlcnZpY2VzXHJcbiAgICAvLyBUT0RPOiBzaG91bGQgd2UgbWFyayB0aGUgcHJvdmlkZXIgYXMgZGVsZXRlZD9cclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgc2VydmljZXM7XHJcbiAgICAgICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZpY2VzID0gQXJyYXkuZnJvbSh0aGlzLmluc3RhbmNlcy52YWx1ZXMoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKHRzbGliLl9fc3ByZWFkQXJyYXkodHNsaWIuX19zcHJlYWRBcnJheShbXSwgdHNsaWIuX19yZWFkKHNlcnZpY2VzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gJ0lOVEVSTkFMJyBpbiBzZXJ2aWNlOyB9KSAvLyBsZWdhY3kgc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuSU5URVJOQUwuZGVsZXRlKCk7IH0pKSwgZmFsc2UpLCB0c2xpYi5fX3JlYWQoc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiAnX2RlbGV0ZScgaW4gc2VydmljZTsgfSkgLy8gbW9kdWxhcml6ZWQgc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuIHNlcnZpY2UuX2RlbGV0ZSgpOyB9KSksIGZhbHNlKSldO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pc0NvbXBvbmVudFNldCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQgIT0gbnVsbDtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuaXNJbml0aWFsaXplZCA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzLmhhcyhpZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0T3B0aW9ucyA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5nZXQoaWRlbnRpZmllcikgfHwge307XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmluaXRpYWxpemUgPSBmdW5jdGlvbiAob3B0cykge1xyXG4gICAgICAgIHZhciBlXzIsIF9hO1xyXG4gICAgICAgIGlmIChvcHRzID09PSB2b2lkIDApIHsgb3B0cyA9IHt9OyB9XHJcbiAgICAgICAgdmFyIF9iID0gb3B0cy5vcHRpb25zLCBvcHRpb25zID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XHJcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIob3B0cy5pbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiXCIuY29uY2F0KHRoaXMubmFtZSwgXCIoXCIpLmNvbmNhdChub3JtYWxpemVkSWRlbnRpZmllciwgXCIpIGhhcyBhbHJlYWR5IGJlZW4gaW5pdGlhbGl6ZWRcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRoaXMuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIkNvbXBvbmVudCBcIi5jb25jYXQodGhpcy5uYW1lLCBcIiBoYXMgbm90IGJlZW4gcmVnaXN0ZXJlZCB5ZXRcIikpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2Uoe1xyXG4gICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyLFxyXG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgLy8gcmVzb2x2ZSBhbnkgcGVuZGluZyBwcm9taXNlIHdhaXRpbmcgZm9yIHRoZSBzZXJ2aWNlIGluc3RhbmNlXHJcbiAgICAgICAgICAgIGZvciAodmFyIF9jID0gdHNsaWIuX192YWx1ZXModGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5lbnRyaWVzKCkpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2UgPSB0c2xpYi5fX3JlYWQoX2QudmFsdWUsIDIpLCBpbnN0YW5jZUlkZW50aWZpZXIgPSBfZVswXSwgaW5zdGFuY2VEZWZlcnJlZCA9IF9lWzFdO1xyXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKG5vcm1hbGl6ZWRJZGVudGlmaWVyID09PSBub3JtYWxpemVkRGVmZXJyZWRJZGVudGlmaWVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VEZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGludm9rZWQgIGFmdGVyIHRoZSBwcm92aWRlciBoYXMgYmVlbiBpbml0aWFsaXplZCBieSBjYWxsaW5nIHByb3ZpZGVyLmluaXRpYWxpemUoKS5cclxuICAgICAqIFRoZSBmdW5jdGlvbiBpcyBpbnZva2VkIFNZTkNIUk9OT1VTTFksIHNvIGl0IHNob3VsZCBub3QgZXhlY3V0ZSBhbnkgbG9uZ3J1bm5pbmcgdGFza3MgaW4gb3JkZXIgdG8gbm90IGJsb2NrIHRoZSBwcm9ncmFtLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpZGVudGlmaWVyIEFuIG9wdGlvbmFsIGluc3RhbmNlIGlkZW50aWZpZXJcclxuICAgICAqIEByZXR1cm5zIGEgZnVuY3Rpb24gdG8gdW5yZWdpc3RlciB0aGUgY2FsbGJhY2tcclxuICAgICAqL1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLm9uSW5pdCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgaWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihpZGVudGlmaWVyKTtcclxuICAgICAgICB2YXIgZXhpc3RpbmdDYWxsYmFja3MgPSAoX2EgPSB0aGlzLm9uSW5pdENhbGxiYWNrcy5nZXQobm9ybWFsaXplZElkZW50aWZpZXIpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBuZXcgU2V0KCk7XHJcbiAgICAgICAgZXhpc3RpbmdDYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcclxuICAgICAgICB0aGlzLm9uSW5pdENhbGxiYWNrcy5zZXQobm9ybWFsaXplZElkZW50aWZpZXIsIGV4aXN0aW5nQ2FsbGJhY2tzKTtcclxuICAgICAgICB2YXIgZXhpc3RpbmdJbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2VzLmdldChub3JtYWxpemVkSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKGV4aXN0aW5nSW5zdGFuY2UpIHtcclxuICAgICAgICAgICAgY2FsbGJhY2soZXhpc3RpbmdJbnN0YW5jZSwgbm9ybWFsaXplZElkZW50aWZpZXIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBleGlzdGluZ0NhbGxiYWNrcy5kZWxldGUoY2FsbGJhY2spO1xyXG4gICAgICAgIH07XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBJbnZva2Ugb25Jbml0IGNhbGxiYWNrcyBzeW5jaHJvbm91c2x5XHJcbiAgICAgKiBAcGFyYW0gaW5zdGFuY2UgdGhlIHNlcnZpY2UgaW5zdGFuY2VgXHJcbiAgICAgKi9cclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pbnZva2VPbkluaXRDYWxsYmFja3MgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIGlkZW50aWZpZXIpIHtcclxuICAgICAgICB2YXIgZV8zLCBfYTtcclxuICAgICAgICB2YXIgY2FsbGJhY2tzID0gdGhpcy5vbkluaXRDYWxsYmFja3MuZ2V0KGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICghY2FsbGJhY2tzKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yICh2YXIgY2FsbGJhY2tzXzEgPSB0c2xpYi5fX3ZhbHVlcyhjYWxsYmFja3MpLCBjYWxsYmFja3NfMV8xID0gY2FsbGJhY2tzXzEubmV4dCgpOyAhY2FsbGJhY2tzXzFfMS5kb25lOyBjYWxsYmFja3NfMV8xID0gY2FsbGJhY2tzXzEubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhpbnN0YW5jZSwgaWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoX2IpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluaXQgY2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZV8zXzEpIHsgZV8zID0geyBlcnJvcjogZV8zXzEgfTsgfVxyXG4gICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrc18xXzEgJiYgIWNhbGxiYWNrc18xXzEuZG9uZSAmJiAoX2EgPSBjYWxsYmFja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGNhbGxiYWNrc18xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRPckluaXRpYWxpemVTZXJ2aWNlID0gZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlSWRlbnRpZmllciA9IF9hLmluc3RhbmNlSWRlbnRpZmllciwgX2IgPSBfYS5vcHRpb25zLCBvcHRpb25zID0gX2IgPT09IHZvaWQgMCA/IHt9IDogX2I7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZ2V0KGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKCFpbnN0YW5jZSAmJiB0aGlzLmNvbXBvbmVudCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZSA9IHRoaXMuY29tcG9uZW50Lmluc3RhbmNlRmFjdG9yeSh0aGlzLmNvbnRhaW5lciwge1xyXG4gICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeShpbnN0YW5jZUlkZW50aWZpZXIpLFxyXG4gICAgICAgICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgb3B0aW9ucyk7XHJcbiAgICAgICAgICAgIC8qKlxyXG4gICAgICAgICAgICAgKiBJbnZva2Ugb25Jbml0IGxpc3RlbmVycy5cclxuICAgICAgICAgICAgICogTm90ZSB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCBpcyBkaWZmZXJlbnQsIHdoaWNoIGlzIHVzZWQgYnkgdGhlIGNvbXBvbmVudCBjcmVhdG9yLFxyXG4gICAgICAgICAgICAgKiB3aGlsZSBvbkluaXQgbGlzdGVuZXJzIGFyZSByZWdpc3RlcmVkIGJ5IGNvbnN1bWVycyBvZiB0aGUgcHJvdmlkZXIuXHJcbiAgICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB0aGlzLmludm9rZU9uSW5pdENhbGxiYWNrcyhpbnN0YW5jZSwgaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIE9yZGVyIGlzIGltcG9ydGFudFxyXG4gICAgICAgICAgICAgKiBvbkluc3RhbmNlQ3JlYXRlZCgpIHNob3VsZCBiZSBjYWxsZWQgYWZ0ZXIgdGhpcy5pbnN0YW5jZXMuc2V0KGluc3RhbmNlSWRlbnRpZmllciwgaW5zdGFuY2UpOyB3aGljaFxyXG4gICAgICAgICAgICAgKiBtYWtlcyBgaXNJbml0aWFsaXplZCgpYCByZXR1cm4gdHJ1ZS5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCkge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudC5vbkluc3RhbmNlQ3JlYXRlZCh0aGlzLmNvbnRhaW5lciwgaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoX2MpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBpZ25vcmUgZXJyb3JzIGluIHRoZSBvbkluc3RhbmNlQ3JlYXRlZENhbGxiYWNrXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluc3RhbmNlIHx8IG51bGw7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllciA9IGZ1bmN0aW9uIChpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgaWYgKGlkZW50aWZpZXIgPT09IHZvaWQgMCkgeyBpZGVudGlmaWVyID0gREVGQVVMVF9FTlRSWV9OQU1FOyB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyA/IGlkZW50aWZpZXIgOiBERUZBVUxUX0VOVFJZX05BTUU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gaWRlbnRpZmllcjsgLy8gYXNzdW1lIG11bHRpcGxlIGluc3RhbmNlcyBhcmUgc3VwcG9ydGVkIGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHByb3ZpZGVkLlxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuc2hvdWxkQXV0b0luaXRpYWxpemUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuICghIXRoaXMuY29tcG9uZW50ICYmXHJcbiAgICAgICAgICAgIHRoaXMuY29tcG9uZW50Lmluc3RhbnRpYXRpb25Nb2RlICE9PSBcIkVYUExJQ0lUXCIgLyogSW5zdGFudGlhdGlvbk1vZGUuRVhQTElDSVQgKi8pO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQcm92aWRlcjtcclxufSgpKTtcclxuLy8gdW5kZWZpbmVkIHNob3VsZCBiZSBwYXNzZWQgdG8gdGhlIHNlcnZpY2UgZmFjdG9yeSBmb3IgdGhlIGRlZmF1bHQgaW5zdGFuY2VcclxuZnVuY3Rpb24gbm9ybWFsaXplSWRlbnRpZmllckZvckZhY3RvcnkoaWRlbnRpZmllcikge1xyXG4gICAgcmV0dXJuIGlkZW50aWZpZXIgPT09IERFRkFVTFRfRU5UUllfTkFNRSA/IHVuZGVmaW5lZCA6IGlkZW50aWZpZXI7XHJcbn1cclxuZnVuY3Rpb24gaXNDb21wb25lbnRFYWdlcihjb21wb25lbnQpIHtcclxuICAgIHJldHVybiBjb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgPT09IFwiRUFHRVJcIiAvKiBJbnN0YW50aWF0aW9uTW9kZS5FQUdFUiAqLztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ29tcG9uZW50Q29udGFpbmVyIHRoYXQgcHJvdmlkZXMgUHJvdmlkZXJzIGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiBgYXV0aGAsIGBhdXRoLWludGVybmFsYFxyXG4gKi9cclxudmFyIENvbXBvbmVudENvbnRhaW5lciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIENvbXBvbmVudENvbnRhaW5lcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnByb3ZpZGVycyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBjb21wb25lbnQgQ29tcG9uZW50IGJlaW5nIGFkZGVkXHJcbiAgICAgKiBAcGFyYW0gb3ZlcndyaXRlIFdoZW4gYSBjb21wb25lbnQgd2l0aCB0aGUgc2FtZSBuYW1lIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCxcclxuICAgICAqIGlmIG92ZXJ3cml0ZSBpcyB0cnVlOiBvdmVyd3JpdGUgdGhlIGV4aXN0aW5nIGNvbXBvbmVudCB3aXRoIHRoZSBuZXcgY29tcG9uZW50IGFuZCBjcmVhdGUgYSBuZXdcclxuICAgICAqIHByb3ZpZGVyIHdpdGggdGhlIG5ldyBjb21wb25lbnQuIEl0IGNhbiBiZSB1c2VmdWwgaW4gdGVzdHMgd2hlcmUgeW91IHdhbnQgdG8gdXNlIGRpZmZlcmVudCBtb2Nrc1xyXG4gICAgICogZm9yIGRpZmZlcmVudCB0ZXN0cy5cclxuICAgICAqIGlmIG92ZXJ3cml0ZSBpcyBmYWxzZTogdGhyb3cgYW4gZXhjZXB0aW9uXHJcbiAgICAgKi9cclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuYWRkQ29tcG9uZW50ID0gZnVuY3Rpb24gKGNvbXBvbmVudCkge1xyXG4gICAgICAgIHZhciBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIoY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIGlmIChwcm92aWRlci5pc0NvbXBvbmVudFNldCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvbXBvbmVudCBcIi5jb25jYXQoY29tcG9uZW50Lm5hbWUsIFwiIGhhcyBhbHJlYWR5IGJlZW4gcmVnaXN0ZXJlZCB3aXRoIFwiKS5jb25jYXQodGhpcy5uYW1lKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHByb3ZpZGVyLnNldENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuYWRkT3JPdmVyd3JpdGVDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyLmlzQ29tcG9uZW50U2V0KCkpIHtcclxuICAgICAgICAgICAgLy8gZGVsZXRlIHRoZSBleGlzdGluZyBwcm92aWRlciBmcm9tIHRoZSBjb250YWluZXIsIHNvIHdlIGNhbiByZWdpc3RlciB0aGUgbmV3IGNvbXBvbmVudFxyXG4gICAgICAgICAgICB0aGlzLnByb3ZpZGVycy5kZWxldGUoY29tcG9uZW50Lm5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmFkZENvbXBvbmVudChjb21wb25lbnQpO1xyXG4gICAgfTtcclxuICAgIC8qKlxyXG4gICAgICogZ2V0UHJvdmlkZXIgcHJvdmlkZXMgYSB0eXBlIHNhZmUgaW50ZXJmYWNlIHdoZXJlIGl0IGNhbiBvbmx5IGJlIGNhbGxlZCB3aXRoIGEgZmllbGQgbmFtZVxyXG4gICAgICogcHJlc2VudCBpbiBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlLlxyXG4gICAgICpcclxuICAgICAqIEZpcmViYXNlIFNES3MgcHJvdmlkaW5nIHNlcnZpY2VzIHNob3VsZCBleHRlbmQgTmFtZVNlcnZpY2VNYXBwaW5nIGludGVyZmFjZSB0byByZWdpc3RlclxyXG4gICAgICogdGhlbXNlbHZlcy5cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5nZXRQcm92aWRlciA9IGZ1bmN0aW9uIChuYW1lKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucHJvdmlkZXJzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnMuZ2V0KG5hbWUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjcmVhdGUgYSBQcm92aWRlciBmb3IgYSBzZXJ2aWNlIHRoYXQgaGFzbid0IHJlZ2lzdGVyZWQgd2l0aCBGaXJlYmFzZVxyXG4gICAgICAgIHZhciBwcm92aWRlciA9IG5ldyBQcm92aWRlcihuYW1lLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnByb3ZpZGVycy5zZXQobmFtZSwgcHJvdmlkZXIpO1xyXG4gICAgICAgIHJldHVybiBwcm92aWRlcjtcclxuICAgIH07XHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmdldFByb3ZpZGVycyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnByb3ZpZGVycy52YWx1ZXMoKSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIENvbXBvbmVudENvbnRhaW5lcjtcclxufSgpKTtcblxuZXhwb3J0cy5Db21wb25lbnQgPSBDb21wb25lbnQ7XG5leHBvcnRzLkNvbXBvbmVudENvbnRhaW5lciA9IENvbXBvbmVudENvbnRhaW5lcjtcbmV4cG9ydHMuUHJvdmlkZXIgPSBQcm92aWRlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGFwcCA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9hcHAnKTtcbnZhciBjb21wb25lbnQgPSByZXF1aXJlKCdAZmlyZWJhc2UvY29tcG9uZW50Jyk7XG52YXIgbG9nZ2VyID0gcmVxdWlyZSgnQGZpcmViYXNlL2xvZ2dlcicpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdAZmlyZWJhc2UvdXRpbCcpO1xudmFyIGJsb29tQmxvYiA9IHJlcXVpcmUoJ0BmaXJlYmFzZS93ZWJjaGFubmVsLXdyYXBwZXIvYmxvb20tYmxvYicpO1xudmFyIHdlYmNoYW5uZWxCbG9iID0gcmVxdWlyZSgnQGZpcmViYXNlL3dlYmNoYW5uZWwtd3JhcHBlci93ZWJjaGFubmVsLWJsb2InKTtcblxuY29uc3QgUyA9IFwiQGZpcmViYXNlL2ZpcmVzdG9yZVwiO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBTaW1wbGUgd3JhcHBlciBhcm91bmQgYSBudWxsYWJsZSBVSUQuIE1vc3RseSBleGlzdHMgdG8gbWFrZSBjb2RlIG1vcmVcbiAqIHJlYWRhYmxlLlxuICovXG5jbGFzcyBVc2VyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMudWlkID0gZTtcbiAgICB9XG4gICAgaXNBdXRoZW50aWNhdGVkKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPSB0aGlzLnVpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGtleSByZXByZXNlbnRpbmcgdGhpcyB1c2VyLCBzdWl0YWJsZSBmb3IgaW5jbHVzaW9uIGluIGFcbiAgICAgKiBkaWN0aW9uYXJ5LlxuICAgICAqLyAgICB0b0tleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNBdXRoZW50aWNhdGVkKCkgPyBcInVpZDpcIiArIHRoaXMudWlkIDogXCJhbm9ueW1vdXMtdXNlclwiO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUudWlkID09PSB0aGlzLnVpZDtcbiAgICB9XG59XG5cbi8qKiBBIHVzZXIgd2l0aCBhIG51bGwgVUlELiAqLyBVc2VyLlVOQVVUSEVOVElDQVRFRCA9IG5ldyBVc2VyKG51bGwpLCBcbi8vIFRPRE8obWlrZWxlaGVuKTogTG9vayBpbnRvIGdldHRpbmcgYSBwcm9wZXIgdWlkLWVxdWl2YWxlbnQgZm9yXG4vLyBub24tRmlyZWJhc2VBdXRoIHByb3ZpZGVycy5cblVzZXIuR09PR0xFX0NSRURFTlRJQUxTID0gbmV3IFVzZXIoXCJnb29nbGUtY3JlZGVudGlhbHMtdWlkXCIpLCBVc2VyLkZJUlNUX1BBUlRZID0gbmV3IFVzZXIoXCJmaXJzdC1wYXJ0eS11aWRcIiksIFxuVXNlci5NT0NLX1VTRVIgPSBuZXcgVXNlcihcIm1vY2stdXNlclwiKTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmxldCBiID0gXCIxMC4xMi4zXCI7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jb25zdCBEID0gbmV3IGxvZ2dlci5Mb2dnZXIoXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCIpO1xuXG4vLyBIZWxwZXIgbWV0aG9kcyBhcmUgbmVlZGVkIGJlY2F1c2UgdmFyaWFibGVzIGNhbid0IGJlIGV4cG9ydGVkIGFzIHJlYWQvd3JpdGVcbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRMb2dMZXZlbCgpIHtcbiAgICByZXR1cm4gRC5sb2dMZXZlbDtcbn1cblxuLyoqXG4gKiBTZXRzIHRoZSB2ZXJib3NpdHkgb2YgQ2xvdWQgRmlyZXN0b3JlIGxvZ3MgKGRlYnVnLCBlcnJvciwgb3Igc2lsZW50KS5cbiAqXG4gKiBAcGFyYW0gbG9nTGV2ZWwgLSBUaGUgdmVyYm9zaXR5IHlvdSBzZXQgZm9yIGFjdGl2aXR5IGFuZCBlcnJvciBsb2dnaW5nLiBDYW5cbiAqICAgYmUgYW55IG9mIHRoZSBmb2xsb3dpbmcgdmFsdWVzOlxuICpcbiAqICAgPHVsPlxuICogICAgIDxsaT5gZGVidWdgIGZvciB0aGUgbW9zdCB2ZXJib3NlIGxvZ2dpbmcgbGV2ZWwsIHByaW1hcmlseSBmb3JcbiAqICAgICBkZWJ1Z2dpbmcuPC9saT5cbiAqICAgICA8bGk+YGVycm9yYCB0byBsb2cgZXJyb3JzIG9ubHkuPC9saT5cbiAqICAgICA8bGk+PGNvZGU+YHNpbGVudGAgdG8gdHVybiBvZmYgbG9nZ2luZy48L2xpPlxuICogICA8L3VsPlxuICovIGZ1bmN0aW9uIHNldExvZ0xldmVsKGUpIHtcbiAgICBELnNldExvZ0xldmVsKGUpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG9nRGVidWcoZSwgLi4udCkge1xuICAgIGlmIChELmxvZ0xldmVsIDw9IGxvZ2dlci5Mb2dMZXZlbC5ERUJVRykge1xuICAgICAgICBjb25zdCBuID0gdC5tYXAoX19QUklWQVRFX2FyZ1RvU3RyaW5nKTtcbiAgICAgICAgRC5kZWJ1ZyhgRmlyZXN0b3JlICgke2J9KTogJHtlfWAsIC4uLm4pO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2xvZ0Vycm9yKGUsIC4uLnQpIHtcbiAgICBpZiAoRC5sb2dMZXZlbCA8PSBsb2dnZXIuTG9nTGV2ZWwuRVJST1IpIHtcbiAgICAgICAgY29uc3QgbiA9IHQubWFwKF9fUFJJVkFURV9hcmdUb1N0cmluZyk7XG4gICAgICAgIEQuZXJyb3IoYEZpcmVzdG9yZSAoJHtifSk6ICR7ZX1gLCAuLi5uKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2xvZ1dhcm4oZSwgLi4udCkge1xuICAgIGlmIChELmxvZ0xldmVsIDw9IGxvZ2dlci5Mb2dMZXZlbC5XQVJOKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0Lm1hcChfX1BSSVZBVEVfYXJnVG9TdHJpbmcpO1xuICAgICAgICBELndhcm4oYEZpcmVzdG9yZSAoJHtifSk6ICR7ZX1gLCAuLi5uKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ29udmVydHMgYW4gYWRkaXRpb25hbCBsb2cgcGFyYW1ldGVyIHRvIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9hcmdUb1N0cmluZyhlKSB7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiBlO1xuICAgIHRyeSB7XG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4gICAgICAgIC8qKiBGb3JtYXRzIGFuIG9iamVjdCBhcyBhIEpTT04gc3RyaW5nLCBzdWl0YWJsZSBmb3IgbG9nZ2luZy4gKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9mb3JtYXRKU09OKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlKTtcbiAgICAgICAgfShlKTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgIC8vIENvbnZlcnRpbmcgdG8gSlNPTiBmYWlsZWQsIGp1c3QgbG9nIHRoZSBvYmplY3QgZGlyZWN0bHlcbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBVbmNvbmRpdGlvbmFsbHkgZmFpbHMsIHRocm93aW5nIGFuIEVycm9yIHdpdGggdGhlIGdpdmVuIG1lc3NhZ2UuXG4gKiBNZXNzYWdlcyBhcmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiBidWlsZHMuXG4gKlxuICogUmV0dXJucyBgbmV2ZXJgIGFuZCBjYW4gYmUgdXNlZCBpbiBleHByZXNzaW9uczpcbiAqIEBleGFtcGxlXG4gKiBsZXQgZnV0dXJlVmFyID0gZmFpbCgnbm90IGltcGxlbWVudGVkIHlldCcpO1xuICovIGZ1bmN0aW9uIGZhaWwoZSA9IFwiVW5leHBlY3RlZCBzdGF0ZVwiKSB7XG4gICAgLy8gTG9nIHRoZSBmYWlsdXJlIGluIGFkZGl0aW9uIHRvIHRocm93IGFuIGV4Y2VwdGlvbiwganVzdCBpbiBjYXNlIHRoZVxuICAgIC8vIGV4Y2VwdGlvbiBpcyBzd2FsbG93ZWQuXG4gICAgY29uc3QgdCA9IGBGSVJFU1RPUkUgKCR7Yn0pIElOVEVSTkFMIEFTU0VSVElPTiBGQUlMRUQ6IGAgKyBlO1xuICAgIC8vIE5PVEU6IFdlIGRvbid0IHVzZSBGaXJlc3RvcmVFcnJvciBoZXJlIGJlY2F1c2UgdGhlc2UgYXJlIGludGVybmFsIGZhaWx1cmVzXG4gICAgLy8gdGhhdCBjYW5ub3QgYmUgaGFuZGxlZCBieSB0aGUgdXNlci4gKEFsc28gaXQgd291bGQgY3JlYXRlIGEgY2lyY3VsYXJcbiAgICAvLyBkZXBlbmRlbmN5IGJldHdlZW4gdGhlIGVycm9yIGFuZCBhc3NlcnQgbW9kdWxlcyB3aGljaCBkb2Vzbid0IHdvcmsuKVxuICAgIHRocm93IF9fUFJJVkFURV9sb2dFcnJvcih0KSwgbmV3IEVycm9yKHQpO1xufVxuXG4vKipcbiAqIEZhaWxzIGlmIHRoZSBnaXZlbiBhc3NlcnRpb24gY29uZGl0aW9uIGlzIGZhbHNlLCB0aHJvd2luZyBhbiBFcnJvciB3aXRoIHRoZVxuICogZ2l2ZW4gbWVzc2FnZSBpZiBpdCBkaWQuXG4gKlxuICogTWVzc2FnZXMgYXJlIHN0cmlwcGVkIGluIHByb2R1Y3Rpb24gYnVpbGRzLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUsIHQpIHtcbiAgICBlIHx8IGZhaWwoKTtcbn1cblxuLyoqXG4gKiBGYWlscyBpZiB0aGUgZ2l2ZW4gYXNzZXJ0aW9uIGNvbmRpdGlvbiBpcyBmYWxzZSwgdGhyb3dpbmcgYW4gRXJyb3Igd2l0aCB0aGVcbiAqIGdpdmVuIG1lc3NhZ2UgaWYgaXQgZGlkLlxuICpcbiAqIFRoZSBjb2RlIG9mIGNhbGxzaXRlcyBpbnZva2luZyB0aGlzIGZ1bmN0aW9uIGFyZSBzdHJpcHBlZCBvdXQgaW4gcHJvZHVjdGlvblxuICogYnVpbGRzLiBBbnkgc2lkZS1lZmZlY3RzIG9mIGNvZGUgd2l0aGluIHRoZSBkZWJ1Z0Fzc2VydCgpIGludm9jYXRpb24gd2lsbCBub3RcbiAqIGhhcHBlbiBpbiB0aGlzIGNhc2UuXG4gKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RlYnVnQXNzZXJ0KGUsIHQpIHtcbiAgICBlIHx8IGZhaWwoKTtcbn1cblxuLyoqXG4gKiBDYXN0cyBgb2JqYCB0byBgVGAuIEluIG5vbi1wcm9kdWN0aW9uIGJ1aWxkcywgdmVyaWZpZXMgdGhhdCBgb2JqYCBpcyBhblxuICogaW5zdGFuY2Ugb2YgYFRgIGJlZm9yZSBjYXN0aW5nLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxudCkge1xuICAgIHJldHVybiBlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBDID0ge1xuICAgIC8vIENhdXNlcyBhcmUgY29waWVkIGZyb206XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL2JjZWVjOTRlYTRmYzVmMDA4NWQ4MTIzNWQ4ZTFjMDY3OThkYzM0MWEvaW5jbHVkZS9ncnBjJTJCJTJCL2ltcGwvY29kZWdlbi9zdGF0dXNfY29kZV9lbnVtLmhcbiAgICAvKiogTm90IGFuIGVycm9yOyByZXR1cm5lZCBvbiBzdWNjZXNzLiAqL1xuICAgIE9LOiBcIm9rXCIsXG4gICAgLyoqIFRoZSBvcGVyYXRpb24gd2FzIGNhbmNlbGxlZCAodHlwaWNhbGx5IGJ5IHRoZSBjYWxsZXIpLiAqL1xuICAgIENBTkNFTExFRDogXCJjYW5jZWxsZWRcIixcbiAgICAvKiogVW5rbm93biBlcnJvciBvciBhbiBlcnJvciBmcm9tIGEgZGlmZmVyZW50IGVycm9yIGRvbWFpbi4gKi9cbiAgICBVTktOT1dOOiBcInVua25vd25cIixcbiAgICAvKipcbiAgICAgKiBDbGllbnQgc3BlY2lmaWVkIGFuIGludmFsaWQgYXJndW1lbnQuIE5vdGUgdGhhdCB0aGlzIGRpZmZlcnMgZnJvbVxuICAgICAqIEZBSUxFRF9QUkVDT05ESVRJT04uIElOVkFMSURfQVJHVU1FTlQgaW5kaWNhdGVzIGFyZ3VtZW50cyB0aGF0IGFyZVxuICAgICAqIHByb2JsZW1hdGljIHJlZ2FyZGxlc3Mgb2YgdGhlIHN0YXRlIG9mIHRoZSBzeXN0ZW0gKGUuZy4sIGEgbWFsZm9ybWVkIGZpbGVcbiAgICAgKiBuYW1lKS5cbiAgICAgKi9cbiAgICBJTlZBTElEX0FSR1VNRU5UOiBcImludmFsaWQtYXJndW1lbnRcIixcbiAgICAvKipcbiAgICAgKiBEZWFkbGluZSBleHBpcmVkIGJlZm9yZSBvcGVyYXRpb24gY291bGQgY29tcGxldGUuIEZvciBvcGVyYXRpb25zIHRoYXRcbiAgICAgKiBjaGFuZ2UgdGhlIHN0YXRlIG9mIHRoZSBzeXN0ZW0sIHRoaXMgZXJyb3IgbWF5IGJlIHJldHVybmVkIGV2ZW4gaWYgdGhlXG4gICAgICogb3BlcmF0aW9uIGhhcyBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5LiBGb3IgZXhhbXBsZSwgYSBzdWNjZXNzZnVsIHJlc3BvbnNlXG4gICAgICogZnJvbSBhIHNlcnZlciBjb3VsZCBoYXZlIGJlZW4gZGVsYXllZCBsb25nIGVub3VnaCBmb3IgdGhlIGRlYWRsaW5lIHRvXG4gICAgICogZXhwaXJlLlxuICAgICAqL1xuICAgIERFQURMSU5FX0VYQ0VFREVEOiBcImRlYWRsaW5lLWV4Y2VlZGVkXCIsXG4gICAgLyoqIFNvbWUgcmVxdWVzdGVkIGVudGl0eSAoZS5nLiwgZmlsZSBvciBkaXJlY3RvcnkpIHdhcyBub3QgZm91bmQuICovXG4gICAgTk9UX0ZPVU5EOiBcIm5vdC1mb3VuZFwiLFxuICAgIC8qKlxuICAgICAqIFNvbWUgZW50aXR5IHRoYXQgd2UgYXR0ZW1wdGVkIHRvIGNyZWF0ZSAoZS5nLiwgZmlsZSBvciBkaXJlY3RvcnkpIGFscmVhZHlcbiAgICAgKiBleGlzdHMuXG4gICAgICovXG4gICAgQUxSRUFEWV9FWElTVFM6IFwiYWxyZWFkeS1leGlzdHNcIixcbiAgICAvKipcbiAgICAgKiBUaGUgY2FsbGVyIGRvZXMgbm90IGhhdmUgcGVybWlzc2lvbiB0byBleGVjdXRlIHRoZSBzcGVjaWZpZWQgb3BlcmF0aW9uLlxuICAgICAqIFBFUk1JU1NJT05fREVOSUVEIG11c3Qgbm90IGJlIHVzZWQgZm9yIHJlamVjdGlvbnMgY2F1c2VkIGJ5IGV4aGF1c3RpbmdcbiAgICAgKiBzb21lIHJlc291cmNlICh1c2UgUkVTT1VSQ0VfRVhIQVVTVEVEIGluc3RlYWQgZm9yIHRob3NlIGVycm9ycykuXG4gICAgICogUEVSTUlTU0lPTl9ERU5JRUQgbXVzdCBub3QgYmUgdXNlZCBpZiB0aGUgY2FsbGVyIGNhbiBub3QgYmUgaWRlbnRpZmllZFxuICAgICAqICh1c2UgVU5BVVRIRU5USUNBVEVEIGluc3RlYWQgZm9yIHRob3NlIGVycm9ycykuXG4gICAgICovXG4gICAgUEVSTUlTU0lPTl9ERU5JRUQ6IFwicGVybWlzc2lvbi1kZW5pZWRcIixcbiAgICAvKipcbiAgICAgKiBUaGUgcmVxdWVzdCBkb2VzIG5vdCBoYXZlIHZhbGlkIGF1dGhlbnRpY2F0aW9uIGNyZWRlbnRpYWxzIGZvciB0aGVcbiAgICAgKiBvcGVyYXRpb24uXG4gICAgICovXG4gICAgVU5BVVRIRU5USUNBVEVEOiBcInVuYXV0aGVudGljYXRlZFwiLFxuICAgIC8qKlxuICAgICAqIFNvbWUgcmVzb3VyY2UgaGFzIGJlZW4gZXhoYXVzdGVkLCBwZXJoYXBzIGEgcGVyLXVzZXIgcXVvdGEsIG9yIHBlcmhhcHMgdGhlXG4gICAgICogZW50aXJlIGZpbGUgc3lzdGVtIGlzIG91dCBvZiBzcGFjZS5cbiAgICAgKi9cbiAgICBSRVNPVVJDRV9FWEhBVVNURUQ6IFwicmVzb3VyY2UtZXhoYXVzdGVkXCIsXG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9uIHdhcyByZWplY3RlZCBiZWNhdXNlIHRoZSBzeXN0ZW0gaXMgbm90IGluIGEgc3RhdGUgcmVxdWlyZWQgZm9yXG4gICAgICogdGhlIG9wZXJhdGlvbidzIGV4ZWN1dGlvbi4gRm9yIGV4YW1wbGUsIGRpcmVjdG9yeSB0byBiZSBkZWxldGVkIG1heSBiZVxuICAgICAqIG5vbi1lbXB0eSwgYW4gcm1kaXIgb3BlcmF0aW9uIGlzIGFwcGxpZWQgdG8gYSBub24tZGlyZWN0b3J5LCBldGMuXG4gICAgICpcbiAgICAgKiBBIGxpdG11cyB0ZXN0IHRoYXQgbWF5IGhlbHAgYSBzZXJ2aWNlIGltcGxlbWVudG9yIGluIGRlY2lkaW5nXG4gICAgICogYmV0d2VlbiBGQUlMRURfUFJFQ09ORElUSU9OLCBBQk9SVEVELCBhbmQgVU5BVkFJTEFCTEU6XG4gICAgICogIChhKSBVc2UgVU5BVkFJTEFCTEUgaWYgdGhlIGNsaWVudCBjYW4gcmV0cnkganVzdCB0aGUgZmFpbGluZyBjYWxsLlxuICAgICAqICAoYikgVXNlIEFCT1JURUQgaWYgdGhlIGNsaWVudCBzaG91bGQgcmV0cnkgYXQgYSBoaWdoZXItbGV2ZWxcbiAgICAgKiAgICAgIChlLmcuLCByZXN0YXJ0aW5nIGEgcmVhZC1tb2RpZnktd3JpdGUgc2VxdWVuY2UpLlxuICAgICAqICAoYykgVXNlIEZBSUxFRF9QUkVDT05ESVRJT04gaWYgdGhlIGNsaWVudCBzaG91bGQgbm90IHJldHJ5IHVudGlsXG4gICAgICogICAgICB0aGUgc3lzdGVtIHN0YXRlIGhhcyBiZWVuIGV4cGxpY2l0bHkgZml4ZWQuIEUuZy4sIGlmIGFuIFwicm1kaXJcIlxuICAgICAqICAgICAgZmFpbHMgYmVjYXVzZSB0aGUgZGlyZWN0b3J5IGlzIG5vbi1lbXB0eSwgRkFJTEVEX1BSRUNPTkRJVElPTlxuICAgICAqICAgICAgc2hvdWxkIGJlIHJldHVybmVkIHNpbmNlIHRoZSBjbGllbnQgc2hvdWxkIG5vdCByZXRyeSB1bmxlc3NcbiAgICAgKiAgICAgIHRoZXkgaGF2ZSBmaXJzdCBmaXhlZCB1cCB0aGUgZGlyZWN0b3J5IGJ5IGRlbGV0aW5nIGZpbGVzIGZyb20gaXQuXG4gICAgICogIChkKSBVc2UgRkFJTEVEX1BSRUNPTkRJVElPTiBpZiB0aGUgY2xpZW50IHBlcmZvcm1zIGNvbmRpdGlvbmFsXG4gICAgICogICAgICBSRVNUIEdldC9VcGRhdGUvRGVsZXRlIG9uIGEgcmVzb3VyY2UgYW5kIHRoZSByZXNvdXJjZSBvbiB0aGVcbiAgICAgKiAgICAgIHNlcnZlciBkb2VzIG5vdCBtYXRjaCB0aGUgY29uZGl0aW9uLiBFLmcuLCBjb25mbGljdGluZ1xuICAgICAqICAgICAgcmVhZC1tb2RpZnktd3JpdGUgb24gdGhlIHNhbWUgcmVzb3VyY2UuXG4gICAgICovXG4gICAgRkFJTEVEX1BSRUNPTkRJVElPTjogXCJmYWlsZWQtcHJlY29uZGl0aW9uXCIsXG4gICAgLyoqXG4gICAgICogVGhlIG9wZXJhdGlvbiB3YXMgYWJvcnRlZCwgdHlwaWNhbGx5IGR1ZSB0byBhIGNvbmN1cnJlbmN5IGlzc3VlIGxpa2VcbiAgICAgKiBzZXF1ZW5jZXIgY2hlY2sgZmFpbHVyZXMsIHRyYW5zYWN0aW9uIGFib3J0cywgZXRjLlxuICAgICAqXG4gICAgICogU2VlIGxpdG11cyB0ZXN0IGFib3ZlIGZvciBkZWNpZGluZyBiZXR3ZWVuIEZBSUxFRF9QUkVDT05ESVRJT04sIEFCT1JURUQsXG4gICAgICogYW5kIFVOQVZBSUxBQkxFLlxuICAgICAqL1xuICAgIEFCT1JURUQ6IFwiYWJvcnRlZFwiLFxuICAgIC8qKlxuICAgICAqIE9wZXJhdGlvbiB3YXMgYXR0ZW1wdGVkIHBhc3QgdGhlIHZhbGlkIHJhbmdlLiBFLmcuLCBzZWVraW5nIG9yIHJlYWRpbmdcbiAgICAgKiBwYXN0IGVuZCBvZiBmaWxlLlxuICAgICAqXG4gICAgICogVW5saWtlIElOVkFMSURfQVJHVU1FTlQsIHRoaXMgZXJyb3IgaW5kaWNhdGVzIGEgcHJvYmxlbSB0aGF0IG1heSBiZSBmaXhlZFxuICAgICAqIGlmIHRoZSBzeXN0ZW0gc3RhdGUgY2hhbmdlcy4gRm9yIGV4YW1wbGUsIGEgMzItYml0IGZpbGUgc3lzdGVtIHdpbGxcbiAgICAgKiBnZW5lcmF0ZSBJTlZBTElEX0FSR1VNRU5UIGlmIGFza2VkIHRvIHJlYWQgYXQgYW4gb2Zmc2V0IHRoYXQgaXMgbm90IGluIHRoZVxuICAgICAqIHJhbmdlIFswLDJeMzItMV0sIGJ1dCBpdCB3aWxsIGdlbmVyYXRlIE9VVF9PRl9SQU5HRSBpZiBhc2tlZCB0byByZWFkIGZyb21cbiAgICAgKiBhbiBvZmZzZXQgcGFzdCB0aGUgY3VycmVudCBmaWxlIHNpemUuXG4gICAgICpcbiAgICAgKiBUaGVyZSBpcyBhIGZhaXIgYml0IG9mIG92ZXJsYXAgYmV0d2VlbiBGQUlMRURfUFJFQ09ORElUSU9OIGFuZFxuICAgICAqIE9VVF9PRl9SQU5HRS4gV2UgcmVjb21tZW5kIHVzaW5nIE9VVF9PRl9SQU5HRSAodGhlIG1vcmUgc3BlY2lmaWMgZXJyb3IpXG4gICAgICogd2hlbiBpdCBhcHBsaWVzIHNvIHRoYXQgY2FsbGVycyB3aG8gYXJlIGl0ZXJhdGluZyB0aHJvdWdoIGEgc3BhY2UgY2FuXG4gICAgICogZWFzaWx5IGxvb2sgZm9yIGFuIE9VVF9PRl9SQU5HRSBlcnJvciB0byBkZXRlY3Qgd2hlbiB0aGV5IGFyZSBkb25lLlxuICAgICAqL1xuICAgIE9VVF9PRl9SQU5HRTogXCJvdXQtb2YtcmFuZ2VcIixcbiAgICAvKiogT3BlcmF0aW9uIGlzIG5vdCBpbXBsZW1lbnRlZCBvciBub3Qgc3VwcG9ydGVkL2VuYWJsZWQgaW4gdGhpcyBzZXJ2aWNlLiAqL1xuICAgIFVOSU1QTEVNRU5URUQ6IFwidW5pbXBsZW1lbnRlZFwiLFxuICAgIC8qKlxuICAgICAqIEludGVybmFsIGVycm9ycy4gTWVhbnMgc29tZSBpbnZhcmlhbnRzIGV4cGVjdGVkIGJ5IHVuZGVybHlpbmcgU3lzdGVtIGhhc1xuICAgICAqIGJlZW4gYnJva2VuLiBJZiB5b3Ugc2VlIG9uZSBvZiB0aGVzZSBlcnJvcnMsIFNvbWV0aGluZyBpcyB2ZXJ5IGJyb2tlbi5cbiAgICAgKi9cbiAgICBJTlRFUk5BTDogXCJpbnRlcm5hbFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXJ2aWNlIGlzIGN1cnJlbnRseSB1bmF2YWlsYWJsZS4gVGhpcyBpcyBhIG1vc3QgbGlrZWx5IGEgdHJhbnNpZW50XG4gICAgICogY29uZGl0aW9uIGFuZCBtYXkgYmUgY29ycmVjdGVkIGJ5IHJldHJ5aW5nIHdpdGggYSBiYWNrb2ZmLlxuICAgICAqXG4gICAgICogU2VlIGxpdG11cyB0ZXN0IGFib3ZlIGZvciBkZWNpZGluZyBiZXR3ZWVuIEZBSUxFRF9QUkVDT05ESVRJT04sIEFCT1JURUQsXG4gICAgICogYW5kIFVOQVZBSUxBQkxFLlxuICAgICAqL1xuICAgIFVOQVZBSUxBQkxFOiBcInVuYXZhaWxhYmxlXCIsXG4gICAgLyoqIFVucmVjb3ZlcmFibGUgZGF0YSBsb3NzIG9yIGNvcnJ1cHRpb24uICovXG4gICAgREFUQV9MT1NTOiBcImRhdGEtbG9zc1wiXG59O1xuXG4vKiogQW4gZXJyb3IgcmV0dXJuZWQgYnkgYSBGaXJlc3RvcmUgb3BlcmF0aW9uLiAqLyBjbGFzcyBGaXJlc3RvcmVFcnJvciBleHRlbmRzIHV0aWwuRmlyZWJhc2VFcnJvciB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgYmFja2VuZCBlcnJvciBjb2RlIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGVycm9yLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIEEgY3VzdG9tIGVycm9yIGRlc2NyaXB0aW9uLlxuICAgICAqL1xuICAgIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgdCksIHRoaXMuY29kZSA9IGUsIHRoaXMubWVzc2FnZSA9IHQsIFxuICAgICAgICAvLyBIQUNLOiBXZSB3cml0ZSBhIHRvU3RyaW5nIHByb3BlcnR5IGRpcmVjdGx5IGJlY2F1c2UgRXJyb3IgaXMgbm90IGEgcmVhbFxuICAgICAgICAvLyBjbGFzcyBhbmQgc28gaW5oZXJpdGFuY2UgZG9lcyBub3Qgd29yayBjb3JyZWN0bHkuIFdlIGNvdWxkIGFsdGVybmF0aXZlbHlcbiAgICAgICAgLy8gZG8gdGhlIHNhbWUgXCJiYWNrLWRvb3IgaW5oZXJpdGFuY2VcIiB0cmljayB0aGF0IEZpcmViYXNlRXJyb3IgZG9lcy5cbiAgICAgICAgdGhpcy50b1N0cmluZyA9ICgpID0+IGAke3RoaXMubmFtZX06IFtjb2RlPSR7dGhpcy5jb2RlfV06ICR7dGhpcy5tZXNzYWdlfWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfRGVmZXJyZWQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IGUsIHRoaXMucmVqZWN0ID0gdDtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX09BdXRoVG9rZW4ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy51c2VyID0gdCwgdGhpcy50eXBlID0gXCJPQXV0aFwiLCB0aGlzLmhlYWRlcnMgPSBuZXcgTWFwLCB0aGlzLmhlYWRlcnMuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBgQmVhcmVyICR7ZX1gKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBDcmVkZW50aWFsc1Byb3ZpZGVyIHRoYXQgYWx3YXlzIHlpZWxkcyBhbiBlbXB0eSB0b2tlbi5cbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIF9fUFJJVkFURV9FbXB0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIHtcbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge31cbiAgICBzdGFydChlLCB0KSB7XG4gICAgICAgIC8vIEZpcmUgd2l0aCBpbml0aWFsIHVzZXIuXG4gICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gdChVc2VyLlVOQVVUSEVOVElDQVRFRCkpKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7fVxufVxuXG4vKipcbiAqIEEgQ3JlZGVudGlhbHNQcm92aWRlciB0aGF0IGFsd2F5cyByZXR1cm5zIGEgY29uc3RhbnQgdG9rZW4uIFVzZWQgZm9yXG4gKiBlbXVsYXRvciB0b2tlbiBtb2NraW5nLlxuICovIGNsYXNzIF9fUFJJVkFURV9FbXVsYXRvckF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMudG9rZW4gPSBlLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyB0aGUgbGlzdGVuZXIgcmVnaXN0ZXJlZCB3aXRoIHNldENoYW5nZUxpc3RlbmVyKClcbiAgICAgICAgICogVGhpcyBpc24ndCBhY3R1YWxseSBuZWNlc3Nhcnkgc2luY2UgdGhlIFVJRCBuZXZlciBjaGFuZ2VzLCBidXQgd2UgdXNlIHRoaXNcbiAgICAgICAgICogdG8gdmVyaWZ5IHRoZSBsaXN0ZW4gY29udHJhY3QgaXMgYWRoZXJlZCB0byBpbiB0ZXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSBudWxsO1xuICAgIH1cbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLnRva2VuKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge31cbiAgICBzdGFydChlLCB0KSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSB0LCBcbiAgICAgICAgLy8gRmlyZSB3aXRoIGluaXRpYWwgdXNlci5cbiAgICAgICAgZS5lbnF1ZXVlUmV0cnlhYmxlKCgoKSA9PiB0KHRoaXMudG9rZW4udXNlcikpKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuY2hhbmdlTGlzdGVuZXIgPSBudWxsO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0ZpcmViYXNlQXV0aENyZWRlbnRpYWxzUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy50ID0gZSwgXG4gICAgICAgIC8qKiBUcmFja3MgdGhlIGN1cnJlbnQgVXNlci4gKi9cbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IFVzZXIuVU5BVVRIRU5USUNBVEVELCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50ZXIgdXNlZCB0byBkZXRlY3QgaWYgdGhlIHRva2VuIGNoYW5nZWQgd2hpbGUgYSBnZXRUb2tlbiByZXF1ZXN0IHdhc1xuICAgICAgICAgKiBvdXRzdGFuZGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaSA9IDAsIHRoaXMuZm9yY2VSZWZyZXNoID0gITEsIHRoaXMuYXV0aCA9IG51bGw7XG4gICAgfVxuICAgIHN0YXJ0KGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSB0aGlzLmk7XG4gICAgICAgIC8vIEEgY2hhbmdlIGxpc3RlbmVyIHRoYXQgcHJldmVudHMgZG91YmxlLWZpcmluZyBmb3IgdGhlIHNhbWUgdG9rZW4gY2hhbmdlLlxuICAgICAgICAgICAgICAgIGNvbnN0IF9fUFJJVkFURV9ndWFyZGVkQ2hhbmdlTGlzdGVuZXIgPSBlID0+IHRoaXMuaSAhPT0gbiA/IChuID0gdGhpcy5pLCBcbiAgICAgICAgdChlKSkgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgLy8gQSBwcm9taXNlIHRoYXQgY2FuIGJlIHdhaXRlZCBvbiB0byBibG9jayBvbiB0aGUgbmV4dCB0b2tlbiBjaGFuZ2UuXG4gICAgICAgIC8vIFRoaXMgcHJvbWlzZSBpcyByZS1jcmVhdGVkIGFmdGVyIGVhY2ggY2hhbmdlLlxuICAgICAgICAgICAgICAgIGxldCByID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICAgICAgdGhpcy5vID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pKyssIHRoaXMuY3VycmVudFVzZXIgPSB0aGlzLnUoKSwgci5yZXNvbHZlKCksIHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkLCBcbiAgICAgICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gX19QUklWQVRFX2d1YXJkZWRDaGFuZ2VMaXN0ZW5lcih0aGlzLmN1cnJlbnRVc2VyKSkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBfX1BSSVZBVEVfYXdhaXROZXh0VG9rZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gcjtcbiAgICAgICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGF3YWl0IHQucHJvbWlzZSwgYXdhaXQgX19QUklWQVRFX2d1YXJkZWRDaGFuZ2VMaXN0ZW5lcih0aGlzLmN1cnJlbnRVc2VyKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSwgX19QUklWQVRFX3JlZ2lzdGVyQXV0aCA9IGUgPT4ge1xuICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlclwiLCBcIkF1dGggZGV0ZWN0ZWRcIiksIHRoaXMuYXV0aCA9IGUsIFxuICAgICAgICAgICAgdGhpcy5hdXRoLmFkZEF1dGhUb2tlbkxpc3RlbmVyKHRoaXMubyksIF9fUFJJVkFURV9hd2FpdE5leHRUb2tlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnQub25Jbml0KChlID0+IF9fUFJJVkFURV9yZWdpc3RlckF1dGgoZSkpKSwgXG4gICAgICAgIC8vIE91ciB1c2VycyBjYW4gaW5pdGlhbGl6ZSBBdXRoIHJpZ2h0IGFmdGVyIEZpcmVzdG9yZSwgc28gd2UgZ2l2ZSBpdFxuICAgICAgICAvLyBhIGNoYW5jZSB0byByZWdpc3RlciBpdHNlbGYgd2l0aCB0aGUgY29tcG9uZW50IGZyYW1ld29yayBiZWZvcmUgd2VcbiAgICAgICAgLy8gZGV0ZXJtaW5lIHdoZXRoZXIgdG8gc3RhcnQgdXAgaW4gdW5hdXRoZW50aWNhdGVkIG1vZGUuXG4gICAgICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5hdXRoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMudC5nZXRJbW1lZGlhdGUoe1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbDogITBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlID8gX19QUklWQVRFX3JlZ2lzdGVyQXV0aChlKSA6IChcbiAgICAgICAgICAgICAgICAvLyBJZiBhdXRoIGlzIHN0aWxsIG5vdCBhdmFpbGFibGUsIHByb2NlZWQgd2l0aCBgbnVsbGAgdXNlclxuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmViYXNlQXV0aENyZWRlbnRpYWxzUHJvdmlkZXJcIiwgXCJBdXRoIG5vdCB5ZXQgZGV0ZWN0ZWRcIiksIFxuICAgICAgICAgICAgICAgIHIucmVzb2x2ZSgpLCByID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCAwKSwgX19QUklWQVRFX2F3YWl0TmV4dFRva2VuKCk7XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICAvLyBUYWtlIG5vdGUgb2YgdGhlIGN1cnJlbnQgdmFsdWUgb2YgdGhlIHRva2VuQ291bnRlciBzbyB0aGF0IHRoaXMgbWV0aG9kXG4gICAgICAgIC8vIGNhbiBmYWlsICh3aXRoIGFuIEFCT1JURUQgZXJyb3IpIGlmIHRoZXJlIGlzIGEgdG9rZW4gY2hhbmdlIHdoaWxlIHRoZVxuICAgICAgICAvLyByZXF1ZXN0IGlzIG91dHN0YW5kaW5nLlxuICAgICAgICBjb25zdCBlID0gdGhpcy5pLCB0ID0gdGhpcy5mb3JjZVJlZnJlc2g7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcmNlUmVmcmVzaCA9ICExLCB0aGlzLmF1dGggPyB0aGlzLmF1dGguZ2V0VG9rZW4odCkudGhlbigodCA9PiBcbiAgICAgICAgLy8gQ2FuY2VsIHRoZSByZXF1ZXN0IHNpbmNlIHRoZSB0b2tlbiBjaGFuZ2VkIHdoaWxlIHRoZSByZXF1ZXN0IHdhc1xuICAgICAgICAvLyBvdXRzdGFuZGluZyBzbyB0aGUgcmVzcG9uc2UgaXMgcG90ZW50aWFsbHkgZm9yIGEgcHJldmlvdXMgdXNlciAod2hpY2hcbiAgICAgICAgLy8gdXNlciwgd2UgY2FuJ3QgYmUgc3VyZSkuXG4gICAgICAgIHRoaXMuaSAhPT0gZSA/IChfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlYmFzZUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyXCIsIFwiZ2V0VG9rZW4gYWJvcnRlZCBkdWUgdG8gdG9rZW4gY2hhbmdlLlwiKSwgXG4gICAgICAgIHRoaXMuZ2V0VG9rZW4oKSkgOiB0ID8gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwic3RyaW5nXCIgPT0gdHlwZW9mIHQuYWNjZXNzVG9rZW4pLCBcbiAgICAgICAgbmV3IF9fUFJJVkFURV9PQXV0aFRva2VuKHQuYWNjZXNzVG9rZW4sIHRoaXMuY3VycmVudFVzZXIpKSA6IG51bGwpKSA6IFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge1xuICAgICAgICB0aGlzLmZvcmNlUmVmcmVzaCA9ICEwO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5hdXRoICYmIHRoaXMuYXV0aC5yZW1vdmVBdXRoVG9rZW5MaXN0ZW5lcih0aGlzLm8pO1xuICAgIH1cbiAgICAvLyBBdXRoLmdldFVpZCgpIGNhbiByZXR1cm4gbnVsbCBldmVuIHdpdGggYSB1c2VyIGxvZ2dlZCBpbi4gSXQgaXMgYmVjYXVzZVxuICAgIC8vIGdldFVpZCgpIGlzIHN5bmNocm9ub3VzLCBidXQgdGhlIGF1dGggY29kZSBwb3B1bGF0aW5nIFVpZCBpcyBhc3luY2hyb25vdXMuXG4gICAgLy8gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGluIHRoZSBBdXRoVG9rZW5MaXN0ZW5lciBjYWxsYmFja1xuICAgIC8vIHRvIGd1YXJhbnRlZSB0byBnZXQgdGhlIGFjdHVhbCB1c2VyLlxuICAgIHUoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmF1dGggJiYgdGhpcy5hdXRoLmdldFVpZCgpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQobnVsbCA9PT0gZSB8fCBcInN0cmluZ1wiID09IHR5cGVvZiBlKSwgbmV3IFVzZXIoZSk7XG4gICAgfVxufVxuXG4vKlxuICogRmlyc3RQYXJ0eVRva2VuIHByb3ZpZGVzIGEgZnJlc2ggdG9rZW4gZWFjaCB0aW1lIGl0cyB2YWx1ZVxuICogaXMgcmVxdWVzdGVkLCBiZWNhdXNlIGlmIHRoZSB0b2tlbiBpcyB0b28gb2xkLCByZXF1ZXN0cyB3aWxsIGJlIHJlamVjdGVkLlxuICogVGVjaG5pY2FsbHkgdGhpcyBtYXkgbm8gbG9uZ2VyIGJlIG5lY2Vzc2FyeSBzaW5jZSB0aGUgU0RLIHNob3VsZCBncmFjZWZ1bGx5XG4gKiByZWNvdmVyIGZyb20gdW5hdXRoZW50aWNhdGVkIGVycm9ycyAoc2VlIGIvMzMxNDc4MTggZm9yIGNvbnRleHQpLCBidXQgaXQnc1xuICogc2FmZXIgdG8ga2VlcCB0aGUgaW1wbGVtZW50YXRpb24gYXMtaXMuXG4gKi8gY2xhc3MgX19QUklWQVRFX0ZpcnN0UGFydHlUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLmwgPSBlLCB0aGlzLmggPSB0LCB0aGlzLlAgPSBuLCB0aGlzLnR5cGUgPSBcIkZpcnN0UGFydHlcIiwgdGhpcy51c2VyID0gVXNlci5GSVJTVF9QQVJUWSwgXG4gICAgICAgIHRoaXMuSSA9IG5ldyBNYXA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gYXV0aG9yaXphdGlvbiB0b2tlbiwgdXNpbmcgYSBwcm92aWRlZCBmYWN0b3J5IGZ1bmN0aW9uLCBvciByZXR1cm5cbiAgICAgKiBudWxsLlxuICAgICAqLyAgICBUKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5QID8gdGhpcy5QKCkgOiBudWxsO1xuICAgIH1cbiAgICBnZXQgaGVhZGVycygpIHtcbiAgICAgICAgdGhpcy5JLnNldChcIlgtR29vZy1BdXRoVXNlclwiLCB0aGlzLmwpO1xuICAgICAgICAvLyBVc2UgYXJyYXkgbm90YXRpb24gdG8gcHJldmVudCBtaW5pZmljYXRpb25cbiAgICAgICAgY29uc3QgZSA9IHRoaXMuVCgpO1xuICAgICAgICByZXR1cm4gZSAmJiB0aGlzLkkuc2V0KFwiQXV0aG9yaXphdGlvblwiLCBlKSwgdGhpcy5oICYmIHRoaXMuSS5zZXQoXCJYLUdvb2ctSWFtLUF1dGhvcml6YXRpb24tVG9rZW5cIiwgdGhpcy5oKSwgXG4gICAgICAgIHRoaXMuSTtcbiAgICB9XG59XG5cbi8qXG4gKiBQcm92aWRlcyB1c2VyIGNyZWRlbnRpYWxzIHJlcXVpcmVkIGZvciB0aGUgRmlyZXN0b3JlIEphdmFTY3JpcHQgU0RLXG4gKiB0byBhdXRoZW50aWNhdGUgdGhlIHVzZXIsIHVzaW5nIHRlY2huaXF1ZSB0aGF0IGlzIG9ubHkgYXZhaWxhYmxlXG4gKiB0byBhcHBsaWNhdGlvbnMgaG9zdGVkIGJ5IEdvb2dsZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfRmlyc3RQYXJ0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMubCA9IGUsIHRoaXMuaCA9IHQsIHRoaXMuUCA9IG47XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBfX1BSSVZBVEVfRmlyc3RQYXJ0eVRva2VuKHRoaXMubCwgdGhpcy5oLCB0aGlzLlApKTtcbiAgICB9XG4gICAgc3RhcnQoZSwgdCkge1xuICAgICAgICAvLyBGaXJlIHdpdGggaW5pdGlhbCB1aWQuXG4gICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gdChVc2VyLkZJUlNUX1BBUlRZKSkpO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHt9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge31cbn1cblxuY2xhc3MgQXBwQ2hlY2tUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gZSwgdGhpcy50eXBlID0gXCJBcHBDaGVja1wiLCB0aGlzLmhlYWRlcnMgPSBuZXcgTWFwLCBlICYmIGUubGVuZ3RoID4gMCAmJiB0aGlzLmhlYWRlcnMuc2V0KFwieC1maXJlYmFzZS1hcHBjaGVja1wiLCB0aGlzLnZhbHVlKTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9GaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLkEgPSBlLCB0aGlzLmZvcmNlUmVmcmVzaCA9ICExLCB0aGlzLmFwcENoZWNrID0gbnVsbCwgdGhpcy5SID0gbnVsbDtcbiAgICB9XG4gICAgc3RhcnQoZSwgdCkge1xuICAgICAgICBjb25zdCBvblRva2VuQ2hhbmdlZCA9IGUgPT4ge1xuICAgICAgICAgICAgbnVsbCAhPSBlLmVycm9yICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmViYXNlQXBwQ2hlY2tUb2tlblByb3ZpZGVyXCIsIGBFcnJvciBnZXR0aW5nIEFwcCBDaGVjayB0b2tlbjsgdXNpbmcgcGxhY2Vob2xkZXIgdG9rZW4gaW5zdGVhZC4gRXJyb3I6ICR7ZS5lcnJvci5tZXNzYWdlfWApO1xuICAgICAgICAgICAgY29uc3QgbiA9IGUudG9rZW4gIT09IHRoaXMuUjtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlIgPSBlLnRva2VuLCBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlclwiLCBgUmVjZWl2ZWQgJHtuID8gXCJuZXdcIiA6IFwiZXhpc3RpbmdcIn0gdG9rZW4uYCksIFxuICAgICAgICAgICAgbiA/IHQoZS50b2tlbikgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5vID0gdCA9PiB7XG4gICAgICAgICAgICBlLmVucXVldWVSZXRyeWFibGUoKCgpID0+IG9uVG9rZW5DaGFuZ2VkKHQpKSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IF9fUFJJVkFURV9yZWdpc3RlckFwcENoZWNrID0gZSA9PiB7XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlclwiLCBcIkFwcENoZWNrIGRldGVjdGVkXCIpLCB0aGlzLmFwcENoZWNrID0gZSwgXG4gICAgICAgICAgICB0aGlzLmFwcENoZWNrLmFkZFRva2VuTGlzdGVuZXIodGhpcy5vKTtcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5BLm9uSW5pdCgoZSA9PiBfX1BSSVZBVEVfcmVnaXN0ZXJBcHBDaGVjayhlKSkpLCBcbiAgICAgICAgLy8gT3VyIHVzZXJzIGNhbiBpbml0aWFsaXplIEFwcENoZWNrIGFmdGVyIEZpcmVzdG9yZSwgc28gd2UgZ2l2ZSBpdFxuICAgICAgICAvLyBhIGNoYW5jZSB0byByZWdpc3RlciBpdHNlbGYgd2l0aCB0aGUgY29tcG9uZW50IGZyYW1ld29yay5cbiAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFwcENoZWNrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuQS5nZXRJbW1lZGlhdGUoe1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25hbDogITBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBlID8gX19QUklWQVRFX3JlZ2lzdGVyQXBwQ2hlY2soZSkgOiBcbiAgICAgICAgICAgICAgICAvLyBJZiBBcHBDaGVjayBpcyBzdGlsbCBub3QgYXZhaWxhYmxlLCBwcm9jZWVkIHdpdGhvdXQgaXQuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZWJhc2VBcHBDaGVja1Rva2VuUHJvdmlkZXJcIiwgXCJBcHBDaGVjayBub3QgeWV0IGRldGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgMCk7XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5mb3JjZVJlZnJlc2g7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcmNlUmVmcmVzaCA9ICExLCB0aGlzLmFwcENoZWNrID8gdGhpcy5hcHBDaGVjay5nZXRUb2tlbihlKS50aGVuKChlID0+IGUgPyAoX19QUklWQVRFX2hhcmRBc3NlcnQoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZS50b2tlbiksIFxuICAgICAgICB0aGlzLlIgPSBlLnRva2VuLCBuZXcgQXBwQ2hlY2tUb2tlbihlLnRva2VuKSkgOiBudWxsKSkgOiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb2tlbigpIHtcbiAgICAgICAgdGhpcy5mb3JjZVJlZnJlc2ggPSAhMDtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHRoaXMuYXBwQ2hlY2sgJiYgdGhpcy5hcHBDaGVjay5yZW1vdmVUb2tlbkxpc3RlbmVyKHRoaXMubyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFuIEFwcENoZWNrIHRva2VuIHByb3ZpZGVyIHRoYXQgYWx3YXlzIHlpZWxkcyBhbiBlbXB0eSB0b2tlbi5cbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIF9fUFJJVkFURV9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlciB7XG4gICAgZ2V0VG9rZW4oKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEFwcENoZWNrVG9rZW4oXCJcIikpO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9rZW4oKSB7fVxuICAgIHN0YXJ0KGUsIHQpIHt9XG4gICAgc2h1dGRvd24oKSB7fVxufVxuXG4vKipcbiAqIEJ1aWxkcyBhIENyZWRlbnRpYWxzUHJvdmlkZXIgZGVwZW5kaW5nIG9uIHRoZSB0eXBlIG9mXG4gKiB0aGUgY3JlZGVudGlhbHMgcGFzc2VkIGluLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBHZW5lcmF0ZXMgYG5CeXRlc2Agb2YgcmFuZG9tIGJ5dGVzLlxuICpcbiAqIElmIGBuQnl0ZXMgPCAwYCAsIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfcmFuZG9tQnl0ZXMoZSkge1xuICAgIC8vIFBvbHlmaWxscyBmb3IgSUUgYW5kIFdlYldvcmtlciBieSB1c2luZyBgc2VsZmAgYW5kIGBtc0NyeXB0b2Agd2hlbiBgY3J5cHRvYCBpcyBub3QgYXZhaWxhYmxlLlxuICAgIGNvbnN0IHQgPSBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHNlbGYgJiYgKHNlbGYuY3J5cHRvIHx8IHNlbGYubXNDcnlwdG8pLCBuID0gbmV3IFVpbnQ4QXJyYXkoZSk7XG4gICAgaWYgKHQgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiB0LmdldFJhbmRvbVZhbHVlcykgdC5nZXRSYW5kb21WYWx1ZXMobik7IGVsc2UgXG4gICAgLy8gRmFsbHMgYmFjayB0byBNYXRoLnJhbmRvbVxuICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZTsgdCsrKSBuW3RdID0gTWF0aC5mbG9vcigyNTYgKiBNYXRoLnJhbmRvbSgpKTtcbiAgICByZXR1cm4gbjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSB1dGlsaXR5IGNsYXNzIGZvciBnZW5lcmF0aW5nIHVuaXF1ZSBhbHBoYW51bWVyaWMgSURzIG9mIGEgc3BlY2lmaWVkIGxlbmd0aC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqIEV4cG9ydGVkIGludGVybmFsbHkgZm9yIHRlc3RpbmcgcHVycG9zZXMuXG4gKi8gY2xhc3MgX19QUklWQVRFX0F1dG9JZCB7XG4gICAgc3RhdGljIG5ld0lkKCkge1xuICAgICAgICAvLyBBbHBoYW51bWVyaWMgY2hhcmFjdGVyc1xuICAgICAgICBjb25zdCBlID0gXCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLCB0ID0gTWF0aC5mbG9vcigyNTYgLyBlLmxlbmd0aCkgKiBlLmxlbmd0aDtcbiAgICAgICAgLy8gVGhlIGxhcmdlc3QgYnl0ZSB2YWx1ZSB0aGF0IGlzIGEgbXVsdGlwbGUgb2YgYGNoYXIubGVuZ3RoYC5cbiAgICAgICAgICAgICAgICBsZXQgbiA9IFwiXCI7XG4gICAgICAgIGZvciAoO24ubGVuZ3RoIDwgMjA7ICkge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9yYW5kb21CeXRlcyg0MCk7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHIubGVuZ3RoOyArK2kpIFxuICAgICAgICAgICAgLy8gT25seSBhY2NlcHQgdmFsdWVzIHRoYXQgYXJlIFswLCBtYXhNdWx0aXBsZSksIHRoaXMgZW5zdXJlcyB0aGV5IGNhblxuICAgICAgICAgICAgLy8gYmUgZXZlbmx5IG1hcHBlZCB0byBpbmRpY2VzIG9mIGBjaGFyc2AgdmlhIGEgbW9kdWxvIG9wZXJhdGlvbi5cbiAgICAgICAgICAgIG4ubGVuZ3RoIDwgMjAgJiYgcltpXSA8IHQgJiYgKG4gKz0gZS5jaGFyQXQocltpXSAlIGUubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLCB0KSB7XG4gICAgcmV0dXJuIGUgPCB0ID8gLTEgOiBlID4gdCA/IDEgOiAwO1xufVxuXG4vKiogSGVscGVyIHRvIGNvbXBhcmUgYXJyYXlzIHVzaW5nIGlzRXF1YWwoKS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FycmF5RXF1YWxzKGUsIHQsIG4pIHtcbiAgICByZXR1cm4gZS5sZW5ndGggPT09IHQubGVuZ3RoICYmIGUuZXZlcnkoKChlLCByKSA9PiBuKGUsIHRbcl0pKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgaW1tZWRpYXRlIGxleGljb2dyYXBoaWNhbGx5LWZvbGxvd2luZyBzdHJpbmcuIFRoaXMgaXMgdXNlZnVsIHRvXG4gKiBjb25zdHJ1Y3QgYW4gaW5jbHVzaXZlIHJhbmdlIGZvciBpbmRleGVkZGIgaXRlcmF0b3JzLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pbW1lZGlhdGVTdWNjZXNzb3IoZSkge1xuICAgIC8vIFJldHVybiB0aGUgaW5wdXQgc3RyaW5nLCB3aXRoIGFuIGFkZGl0aW9uYWwgTlVMIGJ5dGUgYXBwZW5kZWQuXG4gICAgcmV0dXJuIGUgKyBcIlxcMFwiO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gVGhlIGVhcmxpZXN0IGRhdGUgc3VwcG9ydGVkIGJ5IEZpcmVzdG9yZSB0aW1lc3RhbXBzICgwMDAxLTAxLTAxVDAwOjAwOjAwWikuXG4vKipcbiAqIEEgYFRpbWVzdGFtcGAgcmVwcmVzZW50cyBhIHBvaW50IGluIHRpbWUgaW5kZXBlbmRlbnQgb2YgYW55IHRpbWUgem9uZSBvclxuICogY2FsZW5kYXIsIHJlcHJlc2VudGVkIGFzIHNlY29uZHMgYW5kIGZyYWN0aW9ucyBvZiBzZWNvbmRzIGF0IG5hbm9zZWNvbmRcbiAqIHJlc29sdXRpb24gaW4gVVRDIEVwb2NoIHRpbWUuXG4gKlxuICogSXQgaXMgZW5jb2RlZCB1c2luZyB0aGUgUHJvbGVwdGljIEdyZWdvcmlhbiBDYWxlbmRhciB3aGljaCBleHRlbmRzIHRoZVxuICogR3JlZ29yaWFuIGNhbGVuZGFyIGJhY2t3YXJkcyB0byB5ZWFyIG9uZS4gSXQgaXMgZW5jb2RlZCBhc3N1bWluZyBhbGwgbWludXRlc1xuICogYXJlIDYwIHNlY29uZHMgbG9uZywgaS5lLiBsZWFwIHNlY29uZHMgYXJlIFwic21lYXJlZFwiIHNvIHRoYXQgbm8gbGVhcCBzZWNvbmRcbiAqIHRhYmxlIGlzIG5lZWRlZCBmb3IgaW50ZXJwcmV0YXRpb24uIFJhbmdlIGlzIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG9cbiAqIDk5OTktMTItMzFUMjM6NTk6NTkuOTk5OTk5OTk5Wi5cbiAqXG4gKiBGb3IgZXhhbXBsZXMgYW5kIGZ1cnRoZXIgc3BlY2lmaWNhdGlvbnMsIHJlZmVyIHRvIHRoZVxuICoge0BsaW5rIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvcHJvdG9idWYvYmxvYi9tYXN0ZXIvc3JjL2dvb2dsZS9wcm90b2J1Zi90aW1lc3RhbXAucHJvdG8gfCBUaW1lc3RhbXAgZGVmaW5pdGlvbn0uXG4gKi9cbmNsYXNzIFRpbWVzdGFtcCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0aW1lc3RhbXAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2Vjb25kcyAtIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyBvZiBVVEMgdGltZSBzaW5jZSBVbml4IGVwb2NoXG4gICAgICogICAgIDE5NzAtMDEtMDFUMDA6MDA6MDBaLiBNdXN0IGJlIGZyb20gMDAwMS0wMS0wMVQwMDowMDowMFogdG9cbiAgICAgKiAgICAgOTk5OS0xMi0zMVQyMzo1OTo1OVogaW5jbHVzaXZlLlxuICAgICAqIEBwYXJhbSBuYW5vc2Vjb25kcyAtIFRoZSBub24tbmVnYXRpdmUgZnJhY3Rpb25zIG9mIGEgc2Vjb25kIGF0IG5hbm9zZWNvbmRcbiAgICAgKiAgICAgcmVzb2x1dGlvbi4gTmVnYXRpdmUgc2Vjb25kIHZhbHVlcyB3aXRoIGZyYWN0aW9ucyBtdXN0IHN0aWxsIGhhdmVcbiAgICAgKiAgICAgbm9uLW5lZ2F0aXZlIG5hbm9zZWNvbmRzIHZhbHVlcyB0aGF0IGNvdW50IGZvcndhcmQgaW4gdGltZS4gTXVzdCBiZVxuICAgICAqICAgICBmcm9tIDAgdG8gOTk5LDk5OSw5OTkgaW5jbHVzaXZlLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2Ygc2Vjb25kcyBvZiBVVEMgdGltZSBzaW5jZSBVbml4IGVwb2NoIDE5NzAtMDEtMDFUMDA6MDA6MDBaLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBmcmFjdGlvbnMgb2YgYSBzZWNvbmQgYXQgbmFub3NlY29uZCByZXNvbHV0aW9uLipcbiAgICAgKi9cbiAgICB0KSB7XG4gICAgICAgIGlmICh0aGlzLnNlY29uZHMgPSBlLCB0aGlzLm5hbm9zZWNvbmRzID0gdCwgdCA8IDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVGltZXN0YW1wIG5hbm9zZWNvbmRzIG91dCBvZiByYW5nZTogXCIgKyB0KTtcbiAgICAgICAgaWYgKHQgPj0gMWU5KSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlRpbWVzdGFtcCBuYW5vc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiICsgdCk7XG4gICAgICAgIGlmIChlIDwgLTYyMTM1NTk2ODAwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlRpbWVzdGFtcCBzZWNvbmRzIG91dCBvZiByYW5nZTogXCIgKyBlKTtcbiAgICAgICAgLy8gVGhpcyB3aWxsIGJyZWFrIGluIHRoZSB5ZWFyIDEwLDAwMC5cbiAgICAgICAgICAgICAgICBpZiAoZSA+PSAyNTM0MDIzMDA4MDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVGltZXN0YW1wIHNlY29uZHMgb3V0IG9mIHJhbmdlOiBcIiArIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRpbWVzdGFtcCB3aXRoIHRoZSBjdXJyZW50IGRhdGUsIHdpdGggbWlsbGlzZWNvbmQgcHJlY2lzaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgYSBuZXcgdGltZXN0YW1wIHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBkYXRlLlxuICAgICAqLyAgICBzdGF0aWMgbm93KCkge1xuICAgICAgICByZXR1cm4gVGltZXN0YW1wLmZyb21NaWxsaXMoRGF0ZS5ub3coKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZXN0YW1wIGZyb20gdGhlIGdpdmVuIGRhdGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0ZSAtIFRoZSBkYXRlIHRvIGluaXRpYWxpemUgdGhlIGBUaW1lc3RhbXBgIGZyb20uXG4gICAgICogQHJldHVybnMgQSBuZXcgYFRpbWVzdGFtcGAgcmVwcmVzZW50aW5nIHRoZSBzYW1lIHBvaW50IGluIHRpbWUgYXMgdGhlIGdpdmVuXG4gICAgICogICAgIGRhdGUuXG4gICAgICovICAgIHN0YXRpYyBmcm9tRGF0ZShlKSB7XG4gICAgICAgIHJldHVybiBUaW1lc3RhbXAuZnJvbU1pbGxpcyhlLmdldFRpbWUoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZXN0YW1wIGZyb20gdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWlsbGlzZWNvbmRzIC0gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSBVbml4IGVwb2NoXG4gICAgICogICAgIDE5NzAtMDEtMDFUMDA6MDA6MDBaLlxuICAgICAqIEByZXR1cm5zIEEgbmV3IGBUaW1lc3RhbXBgIHJlcHJlc2VudGluZyB0aGUgc2FtZSBwb2ludCBpbiB0aW1lIGFzIHRoZSBnaXZlblxuICAgICAqICAgICBudW1iZXIgb2YgbWlsbGlzZWNvbmRzLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbU1pbGxpcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBNYXRoLmZsb29yKGUgLyAxZTMpLCBuID0gTWF0aC5mbG9vcigxZTYgKiAoZSAtIDFlMyAqIHQpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lc3RhbXAodCwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgYFRpbWVzdGFtcGAgdG8gYSBKYXZhU2NyaXB0IGBEYXRlYCBvYmplY3QuIFRoaXMgY29udmVyc2lvblxuICAgICAqIGNhdXNlcyBhIGxvc3Mgb2YgcHJlY2lzaW9uIHNpbmNlIGBEYXRlYCBvYmplY3RzIG9ubHkgc3VwcG9ydCBtaWxsaXNlY29uZFxuICAgICAqIHByZWNpc2lvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEphdmFTY3JpcHQgYERhdGVgIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHNhbWUgcG9pbnQgaW4gdGltZSBhc1xuICAgICAqICAgICB0aGlzIGBUaW1lc3RhbXBgLCB3aXRoIG1pbGxpc2Vjb25kIHByZWNpc2lvbi5cbiAgICAgKi8gICAgdG9EYXRlKCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy50b01pbGxpcygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBgVGltZXN0YW1wYCB0byBhIG51bWVyaWMgdGltZXN0YW1wIChpbiBtaWxsaXNlY29uZHMgc2luY2VcbiAgICAgKiBlcG9jaCkuIFRoaXMgb3BlcmF0aW9uIGNhdXNlcyBhIGxvc3Mgb2YgcHJlY2lzaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIHBvaW50IGluIHRpbWUgY29ycmVzcG9uZGluZyB0byB0aGlzIHRpbWVzdGFtcCwgcmVwcmVzZW50ZWQgYXNcbiAgICAgKiAgICAgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgc2luY2UgVW5peCBlcG9jaCAxOTcwLTAxLTAxVDAwOjAwOjAwWi5cbiAgICAgKi8gICAgdG9NaWxsaXMoKSB7XG4gICAgICAgIHJldHVybiAxZTMgKiB0aGlzLnNlY29uZHMgKyB0aGlzLm5hbm9zZWNvbmRzIC8gMWU2O1xuICAgIH1cbiAgICBfY29tcGFyZVRvKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kcyA9PT0gZS5zZWNvbmRzID8gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IodGhpcy5uYW5vc2Vjb25kcywgZS5uYW5vc2Vjb25kcykgOiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcih0aGlzLnNlY29uZHMsIGUuc2Vjb25kcyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBUaW1lc3RhbXBgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYFRpbWVzdGFtcGAgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhpcyBgVGltZXN0YW1wYCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUuc2Vjb25kcyA9PT0gdGhpcy5zZWNvbmRzICYmIGUubmFub3NlY29uZHMgPT09IHRoaXMubmFub3NlY29uZHM7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgdGV4dHVhbCByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGBUaW1lc3RhbXBgLiAqLyAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiVGltZXN0YW1wKHNlY29uZHM9XCIgKyB0aGlzLnNlY29uZHMgKyBcIiwgbmFub3NlY29uZHM9XCIgKyB0aGlzLm5hbm9zZWNvbmRzICsgXCIpXCI7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBgVGltZXN0YW1wYC4gKi8gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2Vjb25kczogdGhpcy5zZWNvbmRzLFxuICAgICAgICAgICAgbmFub3NlY29uZHM6IHRoaXMubmFub3NlY29uZHNcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhpcyBvYmplY3QgdG8gYSBwcmltaXRpdmUgc3RyaW5nLCB3aGljaCBhbGxvd3MgYFRpbWVzdGFtcGAgb2JqZWN0c1xuICAgICAqIHRvIGJlIGNvbXBhcmVkIHVzaW5nIHRoZSBgPmAsIGA8PWAsIGA+PWAgYW5kIGA+YCBvcGVyYXRvcnMuXG4gICAgICovICAgIHZhbHVlT2YoKSB7XG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIHJldHVybnMgYSBzdHJpbmcgb2YgdGhlIGZvcm0gPHNlY29uZHM+LjxuYW5vc2Vjb25kcz4gd2hlcmVcbiAgICAgICAgLy8gPHNlY29uZHM+IGlzIHRyYW5zbGF0ZWQgdG8gaGF2ZSBhIG5vbi1uZWdhdGl2ZSB2YWx1ZSBhbmQgYm90aCA8c2Vjb25kcz5cbiAgICAgICAgLy8gYW5kIDxuYW5vc2Vjb25kcz4gYXJlIGxlZnQtcGFkZGVkIHdpdGggemVyb2VzIHRvIGJlIGEgY29uc2lzdGVudCBsZW5ndGguXG4gICAgICAgIC8vIFN0cmluZ3Mgd2l0aCB0aGlzIGZvcm1hdCB0aGVuIGhhdmUgYSBsZXhpb2dyYXBoaWNhbCBvcmRlcmluZyB0aGF0IG1hdGNoZXNcbiAgICAgICAgLy8gdGhlIGV4cGVjdGVkIG9yZGVyaW5nLiBUaGUgPHNlY29uZHM+IHRyYW5zbGF0aW9uIGlzIGRvbmUgdG8gYXZvaWQgaGF2aW5nXG4gICAgICAgIC8vIGEgbGVhZGluZyBuZWdhdGl2ZSBzaWduIChpLmUuIGEgbGVhZGluZyAnLScgY2hhcmFjdGVyKSBpbiBpdHMgc3RyaW5nXG4gICAgICAgIC8vIHJlcHJlc2VudGF0aW9uLCB3aGljaCB3b3VsZCBhZmZlY3QgaXRzIGxleGlvZ3JhcGhpY2FsIG9yZGVyaW5nLlxuICAgICAgICBjb25zdCBlID0gdGhpcy5zZWNvbmRzIC0gLTYyMTM1NTk2ODAwO1xuICAgICAgICAvLyBOb3RlOiBVcCB0byAxMiBkZWNpbWFsIGRpZ2l0cyBhcmUgcmVxdWlyZWQgdG8gcmVwcmVzZW50IGFsbCB2YWxpZFxuICAgICAgICAvLyAnc2Vjb25kcycgdmFsdWVzLlxuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcoZSkucGFkU3RhcnQoMTIsIFwiMFwiKSArIFwiLlwiICsgU3RyaW5nKHRoaXMubmFub3NlY29uZHMpLnBhZFN0YXJ0KDksIFwiMFwiKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgdmVyc2lvbiBvZiBhIGRvY3VtZW50IGluIEZpcmVzdG9yZS4gVGhpcyBjb3JyZXNwb25kcyB0byB0aGUgdmVyc2lvblxuICogdGltZXN0YW1wLCBzdWNoIGFzIHVwZGF0ZV90aW1lIG9yIHJlYWRfdGltZS5cbiAqLyBjbGFzcyBTbmFwc2hvdFZlcnNpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBlO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVRpbWVzdGFtcChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU25hcHNob3RWZXJzaW9uKGUpO1xuICAgIH1cbiAgICBzdGF0aWMgbWluKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNuYXBzaG90VmVyc2lvbihuZXcgVGltZXN0YW1wKDAsIDApKTtcbiAgICB9XG4gICAgc3RhdGljIG1heCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTbmFwc2hvdFZlcnNpb24obmV3IFRpbWVzdGFtcCgyNTM0MDIzMDA3OTksIDk5OTk5OTk5OSkpO1xuICAgIH1cbiAgICBjb21wYXJlVG8oZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXAuX2NvbXBhcmVUbyhlLnRpbWVzdGFtcCk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXAuaXNFcXVhbChlLnRpbWVzdGFtcCk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgbnVtYmVyIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2ZXJzaW9uIGZvciB1c2UgaW4gc3BlYyB0ZXN0cy4gKi8gICAgdG9NaWNyb3NlY29uZHMoKSB7XG4gICAgICAgIC8vIENvbnZlcnQgdG8gbWljcm9zZWNvbmRzLlxuICAgICAgICByZXR1cm4gMWU2ICogdGhpcy50aW1lc3RhbXAuc2Vjb25kcyArIHRoaXMudGltZXN0YW1wLm5hbm9zZWNvbmRzIC8gMWUzO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiU25hcHNob3RWZXJzaW9uKFwiICsgdGhpcy50aW1lc3RhbXAudG9TdHJpbmcoKSArIFwiKVwiO1xuICAgIH1cbiAgICB0b1RpbWVzdGFtcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUGF0aCByZXByZXNlbnRzIGFuIG9yZGVyZWQgc2VxdWVuY2Ugb2Ygc3RyaW5nIHNlZ21lbnRzLlxuICovXG5jbGFzcyBCYXNlUGF0aCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB2b2lkIDAgPT09IHQgPyB0ID0gMCA6IHQgPiBlLmxlbmd0aCAmJiBmYWlsKCksIHZvaWQgMCA9PT0gbiA/IG4gPSBlLmxlbmd0aCAtIHQgOiBuID4gZS5sZW5ndGggLSB0ICYmIGZhaWwoKSwgXG4gICAgICAgIHRoaXMuc2VnbWVudHMgPSBlLCB0aGlzLm9mZnNldCA9IHQsIHRoaXMubGVuID0gbjtcbiAgICB9XG4gICAgZ2V0IGxlbmd0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIDAgPT09IEJhc2VQYXRoLmNvbXBhcmF0b3IodGhpcywgZSk7XG4gICAgfVxuICAgIGNoaWxkKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuc2VnbWVudHMuc2xpY2UodGhpcy5vZmZzZXQsIHRoaXMubGltaXQoKSk7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgQmFzZVBhdGggPyBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdC5wdXNoKGUpO1xuICAgICAgICB9KSkgOiB0LnB1c2goZSksIHRoaXMuY29uc3RydWN0KHQpO1xuICAgIH1cbiAgICAvKiogVGhlIGluZGV4IG9mIG9uZSBwYXN0IHRoZSBsYXN0IHNlZ21lbnQgb2YgdGhlIHBhdGguICovICAgIGxpbWl0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vZmZzZXQgKyB0aGlzLmxlbmd0aDtcbiAgICB9XG4gICAgcG9wRmlyc3QoZSkge1xuICAgICAgICByZXR1cm4gZSA9IHZvaWQgMCA9PT0gZSA/IDEgOiBlLCB0aGlzLmNvbnN0cnVjdCh0aGlzLnNlZ21lbnRzLCB0aGlzLm9mZnNldCArIGUsIHRoaXMubGVuZ3RoIC0gZSk7XG4gICAgfVxuICAgIHBvcExhc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdCh0aGlzLnNlZ21lbnRzLCB0aGlzLm9mZnNldCwgdGhpcy5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgZmlyc3RTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c1t0aGlzLm9mZnNldF07XG4gICAgfVxuICAgIGxhc3RTZWdtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXQodGhpcy5sZW5ndGggLSAxKTtcbiAgICB9XG4gICAgZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHNbdGhpcy5vZmZzZXQgKyBlXTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIDAgPT09IHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgICBpc1ByZWZpeE9mKGUpIHtcbiAgICAgICAgaWYgKGUubGVuZ3RoIDwgdGhpcy5sZW5ndGgpIHJldHVybiAhMTtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKSBpZiAodGhpcy5nZXQodCkgIT09IGUuZ2V0KHQpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgaXNJbW1lZGlhdGVQYXJlbnRPZihlKSB7XG4gICAgICAgIGlmICh0aGlzLmxlbmd0aCArIDEgIT09IGUubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgdGhpcy5sZW5ndGg7IHQrKykgaWYgKHRoaXMuZ2V0KHQpICE9PSBlLmdldCh0KSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGZvckVhY2goZSkge1xuICAgICAgICBmb3IgKGxldCB0ID0gdGhpcy5vZmZzZXQsIG4gPSB0aGlzLmxpbWl0KCk7IHQgPCBuOyB0KyspIGUodGhpcy5zZWdtZW50c1t0XSk7XG4gICAgfVxuICAgIHRvQXJyYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzLnNsaWNlKHRoaXMub2Zmc2V0LCB0aGlzLmxpbWl0KCkpO1xuICAgIH1cbiAgICBzdGF0aWMgY29tcGFyYXRvcihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBNYXRoLm1pbihlLmxlbmd0aCwgdC5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG47IHIrKykge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUuZ2V0KHIpLCBpID0gdC5nZXQocik7XG4gICAgICAgICAgICBpZiAobiA8IGkpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGlmIChuID4gaSkgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGUubGVuZ3RoIDwgdC5sZW5ndGggPyAtMSA6IGUubGVuZ3RoID4gdC5sZW5ndGggPyAxIDogMDtcbiAgICB9XG59XG5cbi8qKlxuICogQSBzbGFzaC1zZXBhcmF0ZWQgcGF0aCBmb3IgbmF2aWdhdGluZyByZXNvdXJjZXMgKGRvY3VtZW50cyBhbmQgY29sbGVjdGlvbnMpXG4gKiB3aXRoaW4gRmlyZXN0b3JlLlxuICpcbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIFJlc291cmNlUGF0aCBleHRlbmRzIEJhc2VQYXRoIHtcbiAgICBjb25zdHJ1Y3QoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGF0aChlLCB0LCBuKTtcbiAgICB9XG4gICAgY2Fub25pY2FsU3RyaW5nKCkge1xuICAgICAgICAvLyBOT1RFOiBUaGUgY2xpZW50IGlzIGlnbm9yYW50IG9mIGFueSBwYXRoIHNlZ21lbnRzIGNvbnRhaW5pbmcgZXNjYXBlXG4gICAgICAgIC8vIHNlcXVlbmNlcyAoZS5nLiBfX2lkMTIzX18pIGFuZCBqdXN0IHBhc3NlcyB0aGVtIHRocm91Z2ggcmF3ICh0aGV5IGV4aXN0XG4gICAgICAgIC8vIGZvciBsZWdhY3kgcmVhc29ucyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGZyZXF1ZW50bHkpLlxuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KCkuam9pbihcIi9cIik7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGlzIHBhdGhcbiAgICAgKiB3aGVyZSBlYWNoIHBhdGggc2VnbWVudCBoYXMgYmVlbiBlbmNvZGVkIHdpdGhcbiAgICAgKiBgZW5jb2RlVVJJQ29tcG9uZW50YC5cbiAgICAgKi8gICAgdG9VcmlFbmNvZGVkU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50b0FycmF5KCkubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIi9cIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSByZXNvdXJjZSBwYXRoIGZyb20gdGhlIGdpdmVuIHNsYXNoLWRlbGltaXRlZCBzdHJpbmcuIElmIG11bHRpcGxlXG4gICAgICogYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgYWxsIGNvbXBvbmVudHMgYXJlIGNvbWJpbmVkLiBMZWFkaW5nIGFuZCB0cmFpbGluZ1xuICAgICAqIHNsYXNoZXMgZnJvbSBhbGwgY29tcG9uZW50cyBhcmUgaWdub3JlZC5cbiAgICAgKi8gICAgc3RhdGljIGZyb21TdHJpbmcoLi4uZSkge1xuICAgICAgICAvLyBOT1RFOiBUaGUgY2xpZW50IGlzIGlnbm9yYW50IG9mIGFueSBwYXRoIHNlZ21lbnRzIGNvbnRhaW5pbmcgZXNjYXBlXG4gICAgICAgIC8vIHNlcXVlbmNlcyAoZS5nLiBfX2lkMTIzX18pIGFuZCBqdXN0IHBhc3NlcyB0aGVtIHRocm91Z2ggcmF3ICh0aGV5IGV4aXN0XG4gICAgICAgIC8vIGZvciBsZWdhY3kgcmVhc29ucyBhbmQgc2hvdWxkIG5vdCBiZSB1c2VkIGZyZXF1ZW50bHkpLlxuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBlKSB7XG4gICAgICAgICAgICBpZiAobi5pbmRleE9mKFwiLy9cIikgPj0gMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgc2VnbWVudCAoJHtufSkuIFBhdGhzIG11c3Qgbm90IGNvbnRhaW4gLy8gaW4gdGhlbS5gKTtcbiAgICAgICAgICAgIC8vIFN0cmlwIGxlYWRpbmcgYW5kIHRyYWxpbmcgc2xhc2hlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHQucHVzaCguLi5uLnNwbGl0KFwiL1wiKS5maWx0ZXIoKGUgPT4gZS5sZW5ndGggPiAwKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQYXRoKHQpO1xuICAgIH1cbiAgICBzdGF0aWMgZW1wdHlQYXRoKCkge1xuICAgICAgICByZXR1cm4gbmV3IFJlc291cmNlUGF0aChbXSk7XG4gICAgfVxufVxuXG5jb25zdCB2ID0gL15bX2EtekEtWl1bX2EtekEtWjAtOV0qJC87XG5cbi8qKlxuICogQSBkb3Qtc2VwYXJhdGVkIHBhdGggZm9yIG5hdmlnYXRpbmcgc3ViLW9iamVjdHMgd2l0aGluIGEgZG9jdW1lbnQuXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBGaWVsZFBhdGgkMSBleHRlbmRzIEJhc2VQYXRoIHtcbiAgICBjb25zdHJ1Y3QoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkUGF0aCQxKGUsIHQsIG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHN0cmluZyBjb3VsZCBiZSB1c2VkIGFzIGEgc2VnbWVudCBpbiBhIGZpZWxkIHBhdGhcbiAgICAgKiB3aXRob3V0IGVzY2FwaW5nLlxuICAgICAqLyAgICBzdGF0aWMgaXNWYWxpZElkZW50aWZpZXIoZSkge1xuICAgICAgICByZXR1cm4gdi50ZXN0KGUpO1xuICAgIH1cbiAgICBjYW5vbmljYWxTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5tYXAoKGUgPT4gKGUgPSBlLnJlcGxhY2UoL1xcXFwvZywgXCJcXFxcXFxcXFwiKS5yZXBsYWNlKC9gL2csIFwiXFxcXGBcIiksIFxuICAgICAgICBGaWVsZFBhdGgkMS5pc1ZhbGlkSWRlbnRpZmllcihlKSB8fCAoZSA9IFwiYFwiICsgZSArIFwiYFwiKSwgZSkpKS5qb2luKFwiLlwiKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbm9uaWNhbFN0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBmaWVsZCByZWZlcmVuY2VzIHRoZSBrZXkgb2YgYSBkb2N1bWVudC5cbiAgICAgKi8gICAgaXNLZXlGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIDEgPT09IHRoaXMubGVuZ3RoICYmIFwiX19uYW1lX19cIiA9PT0gdGhpcy5nZXQoMCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBmaWVsZCBkZXNpZ25hdGluZyB0aGUga2V5IG9mIGEgZG9jdW1lbnQuXG4gICAgICovICAgIHN0YXRpYyBrZXlGaWVsZCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFBhdGgkMShbIFwiX19uYW1lX19cIiBdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgZmllbGQgc3RyaW5nIGZyb20gdGhlIGdpdmVuIHNlcnZlci1mb3JtYXR0ZWQgc3RyaW5nLlxuICAgICAqXG4gICAgICogLSBTcGxpdHRpbmcgdGhlIGVtcHR5IHN0cmluZyBpcyBub3QgYWxsb3dlZCAoZm9yIG5vdyBhdCBsZWFzdCkuXG4gICAgICogLSBFbXB0eSBzZWdtZW50cyB3aXRoaW4gdGhlIHN0cmluZyAoZS5nLiBpZiB0aGVyZSBhcmUgdHdvIGNvbnNlY3V0aXZlXG4gICAgICogICBzZXBhcmF0b3JzKSBhcmUgbm90IGFsbG93ZWQuXG4gICAgICpcbiAgICAgKiBUT0RPKGIvMzcyNDQxNTcpOiB3ZSBzaG91bGQgbWFrZSB0aGlzIG1vcmUgc3RyaWN0LiBSaWdodCBub3csIGl0IGFsbG93c1xuICAgICAqIG5vbi1pZGVudGlmaWVyIHBhdGggY29tcG9uZW50cywgZXZlbiBpZiB0aGV5IGFyZW4ndCBlc2NhcGVkLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbVNlcnZlckZvcm1hdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgbGV0IG4gPSBcIlwiLCByID0gMDtcbiAgICAgICAgY29uc3QgX19QUklWQVRFX2FkZEN1cnJlbnRTZWdtZW50ID0gKCkgPT4ge1xuICAgICAgICAgICAgaWYgKDAgPT09IG4ubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBmaWVsZCBwYXRoICgke2V9KS4gUGF0aHMgbXVzdCBub3QgYmUgZW1wdHksIGJlZ2luIHdpdGggJy4nLCBlbmQgd2l0aCAnLicsIG9yIGNvbnRhaW4gJy4uJ2ApO1xuICAgICAgICAgICAgdC5wdXNoKG4pLCBuID0gXCJcIjtcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGkgPSAhMTtcbiAgICAgICAgZm9yICg7ciA8IGUubGVuZ3RoOyApIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlW3JdO1xuICAgICAgICAgICAgaWYgKFwiXFxcXFwiID09PSB0KSB7XG4gICAgICAgICAgICAgICAgaWYgKHIgKyAxID09PSBlLmxlbmd0aCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJQYXRoIGhhcyB0cmFpbGluZyBlc2NhcGUgY2hhcmFjdGVyOiBcIiArIGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlW3IgKyAxXTtcbiAgICAgICAgICAgICAgICBpZiAoXCJcXFxcXCIgIT09IHQgJiYgXCIuXCIgIT09IHQgJiYgXCJgXCIgIT09IHQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiUGF0aCBoYXMgaW52YWxpZCBlc2NhcGUgc2VxdWVuY2U6IFwiICsgZSk7XG4gICAgICAgICAgICAgICAgbiArPSB0LCByICs9IDI7XG4gICAgICAgICAgICB9IGVsc2UgXCJgXCIgPT09IHQgPyAoaSA9ICFpLCByKyspIDogXCIuXCIgIT09IHQgfHwgaSA/IChuICs9IHQsIHIrKykgOiAoX19QUklWQVRFX2FkZEN1cnJlbnRTZWdtZW50KCksIFxuICAgICAgICAgICAgcisrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX19QUklWQVRFX2FkZEN1cnJlbnRTZWdtZW50KCksIGkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVW50ZXJtaW5hdGVkIGAgaW4gcGF0aDogXCIgKyBlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFBhdGgkMSh0KTtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5UGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFBhdGgkMShbXSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBEb2N1bWVudEtleSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnBhdGggPSBlO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbVBhdGgoZSkge1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50S2V5KFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKGUpKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21OYW1lKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudEtleShSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhlKS5wb3BGaXJzdCg1KSk7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudEtleShSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCkpO1xuICAgIH1cbiAgICBnZXQgY29sbGVjdGlvbkdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnBvcExhc3QoKS5sYXN0U2VnbWVudCgpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSBkb2N1bWVudCBpcyBpbiB0aGUgc3BlY2lmaWVkIGNvbGxlY3Rpb25JZC4gKi8gICAgaGFzQ29sbGVjdGlvbklkKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aC5sZW5ndGggPj0gMiAmJiB0aGlzLnBhdGguZ2V0KHRoaXMucGF0aC5sZW5ndGggLSAyKSA9PT0gZTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIGNvbGxlY3Rpb24gZ3JvdXAgKGkuZS4gdGhlIG5hbWUgb2YgdGhlIHBhcmVudCBjb2xsZWN0aW9uKSBmb3IgdGhpcyBrZXkuICovICAgIGdldENvbGxlY3Rpb25Hcm91cCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aC5nZXQodGhpcy5wYXRoLmxlbmd0aCAtIDIpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0aGUgZnVsbHkgcXVhbGlmaWVkIHBhdGggdG8gdGhlIHBhcmVudCBjb2xsZWN0aW9uLiAqLyAgICBnZXRDb2xsZWN0aW9uUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aC5wb3BMYXN0KCk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gZSAmJiAwID09PSBSZXNvdXJjZVBhdGguY29tcGFyYXRvcih0aGlzLnBhdGgsIGUucGF0aCk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjb21wYXJhdG9yKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFJlc291cmNlUGF0aC5jb21wYXJhdG9yKGUucGF0aCwgdC5wYXRoKTtcbiAgICB9XG4gICAgc3RhdGljIGlzRG9jdW1lbnRLZXkoZSkge1xuICAgICAgICByZXR1cm4gZS5sZW5ndGggJSAyID09IDA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgZG9jdW1lbnQga2V5IHdpdGggdGhlIGdpdmVuIHNlZ21lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIHNlZ21lbnRzIC0gVGhlIHNlZ21lbnRzIG9mIHRoZSBwYXRoIHRvIHRoZSBkb2N1bWVudFxuICAgICAqIEByZXR1cm5zIEEgbmV3IGluc3RhbmNlIG9mIERvY3VtZW50S2V5XG4gICAgICovICAgIHN0YXRpYyBmcm9tU2VnbWVudHMoZSkge1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50S2V5KG5ldyBSZXNvdXJjZVBhdGgoZS5zbGljZSgpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgaW5pdGlhbCBtdXRhdGlvbiBiYXRjaCBpZCBmb3IgZWFjaCBpbmRleC4gR2V0cyB1cGRhdGVkIGR1cmluZyBpbmRleFxuICogYmFja2ZpbGwuXG4gKi9cbi8qKlxuICogQW4gaW5kZXggZGVmaW5pdGlvbiBmb3IgZmllbGQgaW5kZXhlcyBpbiBGaXJlc3RvcmUuXG4gKlxuICogRXZlcnkgaW5kZXggaXMgYXNzb2NpYXRlZCB3aXRoIGEgY29sbGVjdGlvbi4gVGhlIGRlZmluaXRpb24gY29udGFpbnMgYSBsaXN0XG4gKiBvZiBmaWVsZHMgYW5kIHRoZWlyIGluZGV4IGtpbmQgKHdoaWNoIGNhbiBiZSBgQVNDRU5ESU5HYCwgYERFU0NFTkRJTkdgIG9yXG4gKiBgQ09OVEFJTlNgIGZvciBBcnJheUNvbnRhaW5zL0FycmF5Q29udGFpbnNBbnkgcXVlcmllcykuXG4gKlxuICogVW5saWtlIHRoZSBiYWNrZW5kLCB0aGUgU0RLIGRvZXMgbm90IGRpZmZlcmVudGlhdGUgYmV0d2VlbiBjb2xsZWN0aW9uIG9yXG4gKiBjb2xsZWN0aW9uIGdyb3VwLXNjb3BlZCBpbmRpY2VzLiBFdmVyeSBpbmRleCBjYW4gYmUgdXNlZCBmb3IgYm90aCBzaW5nbGVcbiAqIGNvbGxlY3Rpb24gYW5kIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcmllcy5cbiAqL1xuY2xhc3MgRmllbGRJbmRleCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGluZGV4IElELiBSZXR1cm5zIC0xIGlmIHRoZSBpbmRleCBJRCBpcyBub3QgYXZhaWxhYmxlIChlLmcuIHRoZSBpbmRleFxuICAgICAqIGhhcyBub3QgeWV0IGJlZW4gcGVyc2lzdGVkKS5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIGNvbGxlY3Rpb24gSUQgdGhpcyBpbmRleCBhcHBsaWVzIHRvLiAqL1xuICAgIHQsIFxuICAgIC8qKiBUaGUgZmllbGQgc2VnbWVudHMgZm9yIHRoaXMgaW5kZXguICovXG4gICAgbiwgXG4gICAgLyoqIFNob3dzIGhvdyB1cC10by1kYXRlIHRoZSBpbmRleCBpcyBmb3IgdGhlIGN1cnJlbnQgdXNlci4gKi9cbiAgICByKSB7XG4gICAgICAgIHRoaXMuaW5kZXhJZCA9IGUsIHRoaXMuY29sbGVjdGlvbkdyb3VwID0gdCwgdGhpcy5maWVsZHMgPSBuLCB0aGlzLmluZGV4U3RhdGUgPSByO1xuICAgIH1cbn1cblxuLyoqIEFuIElEIGZvciBhbiBpbmRleCB0aGF0IGhhcyBub3QgeWV0IGJlZW4gYWRkZWQgdG8gcGVyc2lzdGVuY2UuICAqL1xuLyoqIFJldHVybnMgdGhlIEFycmF5Q29udGFpbnMvQXJyYXlDb250YWluc0FueSBzZWdtZW50IGZvciB0aGlzIGluZGV4LiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkSW5kZXhHZXRBcnJheVNlZ21lbnQoZSkge1xuICAgIHJldHVybiBlLmZpZWxkcy5maW5kKChlID0+IDIgLyogSW5kZXhLaW5kLkNPTlRBSU5TICovID09PSBlLmtpbmQpKTtcbn1cblxuLyoqIFJldHVybnMgYWxsIGRpcmVjdGlvbmFsIChhc2NlbmRpbmcvZGVzY2VuZGluZykgc2VnbWVudHMgZm9yIHRoaXMgaW5kZXguICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyhlKSB7XG4gICAgcmV0dXJuIGUuZmllbGRzLmZpbHRlcigoZSA9PiAyIC8qIEluZGV4S2luZC5DT05UQUlOUyAqLyAhPT0gZS5raW5kKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgb3JkZXIgb2YgdGhlIGRvY3VtZW50IGtleSBjb21wb25lbnQgZm9yIHRoZSBnaXZlbiBpbmRleC5cbiAqXG4gKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGluIHRoZSBXZWIgSW5kZXhlZERiIGltcGxlbWVudGF0aW9uLlxuICovXG4vKipcbiAqIENvbXBhcmVzIGluZGV4ZXMgYnkgY29sbGVjdGlvbiBncm91cCBhbmQgc2VnbWVudHMuIElnbm9yZXMgdXBkYXRlIHRpbWUgYW5kXG4gKiBpbmRleCBJRC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkSW5kZXhTZW1hbnRpY0NvbXBhcmF0b3IoZSwgdCkge1xuICAgIGxldCBuID0gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5jb2xsZWN0aW9uR3JvdXAsIHQuY29sbGVjdGlvbkdyb3VwKTtcbiAgICBpZiAoMCAhPT0gbikgcmV0dXJuIG47XG4gICAgZm9yIChsZXQgciA9IDA7IHIgPCBNYXRoLm1pbihlLmZpZWxkcy5sZW5ndGgsIHQuZmllbGRzLmxlbmd0aCk7ICsrcikgaWYgKG4gPSBfX1BSSVZBVEVfaW5kZXhTZWdtZW50Q29tcGFyYXRvcihlLmZpZWxkc1tyXSwgdC5maWVsZHNbcl0pLCBcbiAgICAwICE9PSBuKSByZXR1cm4gbjtcbiAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5maWVsZHMubGVuZ3RoLCB0LmZpZWxkcy5sZW5ndGgpO1xufVxuXG4vKiogUmV0dXJucyBhIGRlYnVnIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBmaWVsZCBpbmRleCAqLyBGaWVsZEluZGV4LlVOS05PV05fSUQgPSAtMTtcblxuLyoqIEFuIGluZGV4IGNvbXBvbmVudCBjb25zaXN0aW5nIG9mIGZpZWxkIHBhdGggYW5kIGluZGV4IHR5cGUuICAqL1xuY2xhc3MgSW5kZXhTZWdtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIGZpZWxkIHBhdGggb2YgdGhlIGNvbXBvbmVudC4gKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIGZpZWxkcyBzb3J0aW5nIG9yZGVyLiAqL1xuICAgIHQpIHtcbiAgICAgICAgdGhpcy5maWVsZFBhdGggPSBlLCB0aGlzLmtpbmQgPSB0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2luZGV4U2VnbWVudENvbXBhcmF0b3IoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBGaWVsZFBhdGgkMS5jb21wYXJhdG9yKGUuZmllbGRQYXRoLCB0LmZpZWxkUGF0aCk7XG4gICAgcmV0dXJuIDAgIT09IG4gPyBuIDogX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5raW5kLCB0LmtpbmQpO1xufVxuXG4vKipcbiAqIFN0b3JlcyB0aGUgXCJoaWdoIHdhdGVyIG1hcmtcIiB0aGF0IGluZGljYXRlcyBob3cgdXBkYXRlZCB0aGUgSW5kZXggaXMgZm9yIHRoZVxuICogY3VycmVudCB1c2VyLlxuICovIGNsYXNzIEluZGV4U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGVuIHRoZSBpbmRleCB3YXMgbGFzdCB1cGRhdGVkIChyZWxhdGl2ZSB0byBvdGhlciBpbmRleGVzKS5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIHRoZSBsYXRlc3QgaW5kZXhlZCByZWFkIHRpbWUsIGRvY3VtZW50IGFuZCBiYXRjaCBpZC4gKi9cbiAgICB0KSB7XG4gICAgICAgIHRoaXMuc2VxdWVuY2VOdW1iZXIgPSBlLCB0aGlzLm9mZnNldCA9IHQ7XG4gICAgfVxuICAgIC8qKiBUaGUgc3RhdGUgb2YgYW4gaW5kZXggdGhhdCBoYXMgbm90IHlldCBiZWVuIGJhY2tmaWxsZWQuICovICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbmRleFN0YXRlKDAsIEluZGV4T2Zmc2V0Lm1pbigpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBvZmZzZXQgdGhhdCBtYXRjaGVzIGFsbCBkb2N1bWVudHMgd2l0aCBhIHJlYWQgdGltZSBoaWdoZXIgdGhhblxuICogYHJlYWRUaW1lYC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3SW5kZXhPZmZzZXRTdWNjZXNzb3JGcm9tUmVhZFRpbWUoZSwgdCkge1xuICAgIC8vIFdlIHdhbnQgdG8gY3JlYXRlIGFuIG9mZnNldCB0aGF0IG1hdGNoZXMgYWxsIGRvY3VtZW50cyB3aXRoIGEgcmVhZCB0aW1lXG4gICAgLy8gZ3JlYXRlciB0aGFuIHRoZSBwcm92aWRlZCByZWFkIHRpbWUuIFRvIGRvIHNvLCB3ZSB0ZWNobmljYWxseSBuZWVkIHRvXG4gICAgLy8gY3JlYXRlIGFuIG9mZnNldCBmb3IgYChyZWFkVGltZSwgTUFYX0RPQ1VNRU5UX0tFWSlgLiBXaGlsZSB3ZSBjb3VsZCB1c2VcbiAgICAvLyBVbmljb2RlIGNvZGVwb2ludHMgdG8gZ2VuZXJhdGUgTUFYX0RPQ1VNRU5UX0tFWSwgaXQgaXMgbXVjaCBlYXNpZXIgdG8gdXNlXG4gICAgLy8gYChyZWFkVGltZSArIDEsIERvY3VtZW50S2V5LmVtcHR5KCkpYCBzaW5jZSBgPiBEb2N1bWVudEtleS5lbXB0eSgpYCBtYXRjaGVzXG4gICAgLy8gYWxsIHZhbGlkIGRvY3VtZW50IElEcy5cbiAgICBjb25zdCBuID0gZS50b1RpbWVzdGFtcCgpLnNlY29uZHMsIHIgPSBlLnRvVGltZXN0YW1wKCkubmFub3NlY29uZHMgKyAxLCBpID0gU25hcHNob3RWZXJzaW9uLmZyb21UaW1lc3RhbXAoMWU5ID09PSByID8gbmV3IFRpbWVzdGFtcChuICsgMSwgMCkgOiBuZXcgVGltZXN0YW1wKG4sIHIpKTtcbiAgICByZXR1cm4gbmV3IEluZGV4T2Zmc2V0KGksIERvY3VtZW50S2V5LmVtcHR5KCksIHQpO1xufVxuXG4vKiogQ3JlYXRlcyBhIG5ldyBvZmZzZXQgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGRvY3VtZW50LiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3SW5kZXhPZmZzZXRGcm9tRG9jdW1lbnQoZSkge1xuICAgIHJldHVybiBuZXcgSW5kZXhPZmZzZXQoZS5yZWFkVGltZSwgZS5rZXksIC0xKTtcbn1cblxuLyoqXG4gKiBTdG9yZXMgdGhlIGxhdGVzdCByZWFkIHRpbWUsIGRvY3VtZW50IGFuZCBiYXRjaCBJRCB0aGF0IHdlcmUgcHJvY2Vzc2VkIGZvciBhblxuICogaW5kZXguXG4gKi8gY2xhc3MgSW5kZXhPZmZzZXQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBsYXRlc3QgcmVhZCB0aW1lIHZlcnNpb24gdGhhdCBoYXMgYmVlbiBpbmRleGVkIGJ5IEZpcmVzdG9yZSBmb3IgdGhpc1xuICAgICAqIGZpZWxkIGluZGV4LlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBrZXkgb2YgdGhlIGxhc3QgZG9jdW1lbnQgdGhhdCB3YXMgaW5kZXhlZCBmb3IgdGhpcyBxdWVyeS4gVXNlXG4gICAgICogYERvY3VtZW50S2V5LmVtcHR5KClgIGlmIG5vIGRvY3VtZW50IGhhcyBiZWVuIGluZGV4ZWQuXG4gICAgICovXG4gICAgdCwgXG4gICAgLypcbiAgICAgKiBUaGUgbGFyZ2VzdCBtdXRhdGlvbiBiYXRjaCBpZCB0aGF0J3MgYmVlbiBwcm9jZXNzZWQgYnkgRmlyZXN0b3JlLlxuICAgICAqL1xuICAgIG4pIHtcbiAgICAgICAgdGhpcy5yZWFkVGltZSA9IGUsIHRoaXMuZG9jdW1lbnRLZXkgPSB0LCB0aGlzLmxhcmdlc3RCYXRjaElkID0gbjtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYW4gb2Zmc2V0IHRoYXQgc29ydHMgYmVmb3JlIGFsbCByZWd1bGFyIG9mZnNldHMuICovICAgIHN0YXRpYyBtaW4oKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhPZmZzZXQoU25hcHNob3RWZXJzaW9uLm1pbigpLCBEb2N1bWVudEtleS5lbXB0eSgpLCAtMSk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGFuIG9mZnNldCB0aGF0IHNvcnRzIGFmdGVyIGFsbCByZWd1bGFyIG9mZnNldHMuICovICAgIHN0YXRpYyBtYXgoKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhPZmZzZXQoU25hcHNob3RWZXJzaW9uLm1heCgpLCBEb2N1bWVudEtleS5lbXB0eSgpLCAtMSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhPZmZzZXRDb21wYXJhdG9yKGUsIHQpIHtcbiAgICBsZXQgbiA9IGUucmVhZFRpbWUuY29tcGFyZVRvKHQucmVhZFRpbWUpO1xuICAgIHJldHVybiAwICE9PSBuID8gbiA6IChuID0gRG9jdW1lbnRLZXkuY29tcGFyYXRvcihlLmRvY3VtZW50S2V5LCB0LmRvY3VtZW50S2V5KSwgXG4gICAgMCAhPT0gbiA/IG4gOiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLmxhcmdlc3RCYXRjaElkLCB0Lmxhcmdlc3RCYXRjaElkKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IEYgPSBcIlRoZSBjdXJyZW50IHRhYiBpcyBub3QgaW4gdGhlIHJlcXVpcmVkIHN0YXRlIHRvIHBlcmZvcm0gdGhpcyBvcGVyYXRpb24uIEl0IG1pZ2h0IGJlIG5lY2Vzc2FyeSB0byByZWZyZXNoIHRoZSBicm93c2VyIHRhYi5cIjtcblxuLyoqXG4gKiBBIGJhc2UgY2xhc3MgcmVwcmVzZW50aW5nIGEgcGVyc2lzdGVuY2UgdHJhbnNhY3Rpb24sIGVuY2Fwc3VsYXRpbmcgYm90aCB0aGVcbiAqIHRyYW5zYWN0aW9uJ3Mgc2VxdWVuY2UgbnVtYmVycyBhcyB3ZWxsIGFzIGEgbGlzdCBvZiBvbkNvbW1pdHRlZCBsaXN0ZW5lcnMuXG4gKlxuICogV2hlbiB5b3UgY2FsbCBQZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbigpLCBpdCB3aWxsIGNyZWF0ZSBhIHRyYW5zYWN0aW9uIGFuZFxuICogcGFzcyBpdCB0byB5b3VyIGNhbGxiYWNrLiBZb3UgdGhlbiBwYXNzIGl0IHRvIGFueSBtZXRob2QgdGhhdCBvcGVyYXRlc1xuICogb24gcGVyc2lzdGVuY2UuXG4gKi8gY2xhc3MgUGVyc2lzdGVuY2VUcmFuc2FjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMgPSBbXTtcbiAgICB9XG4gICAgYWRkT25Db21taXR0ZWRMaXN0ZW5lcihlKSB7XG4gICAgICAgIHRoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMucHVzaChlKTtcbiAgICB9XG4gICAgcmFpc2VPbkNvbW1pdHRlZEV2ZW50KCkge1xuICAgICAgICB0aGlzLm9uQ29tbWl0dGVkTGlzdGVuZXJzLmZvckVhY2goKGUgPT4gZSgpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBWZXJpZmllcyB0aGUgZXJyb3IgdGhyb3duIGJ5IGEgTG9jYWxTdG9yZSBvcGVyYXRpb24uIElmIGEgTG9jYWxTdG9yZVxuICogb3BlcmF0aW9uIGZhaWxzIGJlY2F1c2UgdGhlIHByaW1hcnkgbGVhc2UgaGFzIGJlZW4gdGFrZW4gYnkgYW5vdGhlciBjbGllbnQsXG4gKiB3ZSBpZ25vcmUgdGhlIGVycm9yICh0aGUgcGVyc2lzdGVuY2UgbGF5ZXIgd2lsbCBpbW1lZGlhdGVseSBjYWxsXG4gKiBgYXBwbHlQcmltYXJ5TGVhc2VgIHRvIHByb3BhZ2F0ZSB0aGUgcHJpbWFyeSBzdGF0ZSBjaGFuZ2UpLiBBbGwgb3RoZXIgZXJyb3JzXG4gKiBhcmUgcmUtdGhyb3duLlxuICpcbiAqIEBwYXJhbSBlcnIgLSBBbiBlcnJvciByZXR1cm5lZCBieSBhIExvY2FsU3RvcmUgb3BlcmF0aW9uLlxuICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgYWZ0ZXIgd2UgcmVjb3ZlcmVkLCBvciB0aGUgb3JpZ2luYWwgZXJyb3IuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2lnbm9yZUlmUHJpbWFyeUxlYXNlTG9zcyhlKSB7XG4gICAgaWYgKGUuY29kZSAhPT0gQy5GQUlMRURfUFJFQ09ORElUSU9OIHx8IGUubWVzc2FnZSAhPT0gRikgdGhyb3cgZTtcbiAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJMb2NhbFN0b3JlXCIsIFwiVW5leHBlY3RlZGx5IGxvc3QgcHJpbWFyeSBsZWFzZVwiKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUGVyc2lzdGVuY2VQcm9taXNlIGlzIGVzc2VudGlhbGx5IGEgcmUtaW1wbGVtZW50YXRpb24gb2YgUHJvbWlzZSBleGNlcHRcbiAqIGl0IGhhcyBhIC5uZXh0KCkgbWV0aG9kIGluc3RlYWQgb2YgLnRoZW4oKSBhbmQgLm5leHQoKSBhbmQgLmNhdGNoKCkgY2FsbGJhY2tzXG4gKiBhcmUgZXhlY3V0ZWQgc3luY2hyb25vdXNseSB3aGVuIGEgUGVyc2lzdGVuY2VQcm9taXNlIHJlc29sdmVzIHJhdGhlciB0aGFuXG4gKiBhc3luY2hyb25vdXNseSAoUHJvbWlzZSBpbXBsZW1lbnRhdGlvbnMgdXNlIHNldEltbWVkaWF0ZSgpIG9yIHNpbWlsYXIpLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IHRvIGludGVyb3BlcmF0ZSB3aXRoIEluZGV4ZWREQiB3aGljaCB3aWxsIGF1dG9tYXRpY2FsbHlcbiAqIGNvbW1pdCB0cmFuc2FjdGlvbnMgaWYgY29udHJvbCBpcyByZXR1cm5lZCB0byB0aGUgZXZlbnQgbG9vcCB3aXRob3V0XG4gKiBzeW5jaHJvbm91c2x5IGluaXRpYXRpbmcgYW5vdGhlciBvcGVyYXRpb24gb24gdGhlIHRyYW5zYWN0aW9uLlxuICpcbiAqIE5PVEU6IC50aGVuKCkgYW5kIC5jYXRjaCgpIG9ubHkgYWxsb3cgYSBzaW5nbGUgY29uc3VtZXIsIHVubGlrZSBub3JtYWxcbiAqIFByb21pc2VzLlxuICovIGNsYXNzIFBlcnNpc3RlbmNlUHJvbWlzZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICAvLyBOT1RFOiBuZXh0L2NhdGNoQ2FsbGJhY2sgd2lsbCBhbHdheXMgcG9pbnQgdG8gb3VyIG93biB3cmFwcGVyIGZ1bmN0aW9ucyxcbiAgICAgICAgLy8gbm90IHRoZSB1c2VyJ3MgcmF3IG5leHQoKSBvciBjYXRjaCgpIGNhbGxiYWNrcy5cbiAgICAgICAgdGhpcy5uZXh0Q2FsbGJhY2sgPSBudWxsLCB0aGlzLmNhdGNoQ2FsbGJhY2sgPSBudWxsLCBcbiAgICAgICAgLy8gV2hlbiB0aGUgb3BlcmF0aW9uIHJlc29sdmVzLCB3ZSdsbCBzZXQgcmVzdWx0IG9yIGVycm9yIGFuZCBtYXJrIGlzRG9uZS5cbiAgICAgICAgdGhpcy5yZXN1bHQgPSB2b2lkIDAsIHRoaXMuZXJyb3IgPSB2b2lkIDAsIHRoaXMuaXNEb25lID0gITEsIFxuICAgICAgICAvLyBTZXQgdG8gdHJ1ZSB3aGVuIC50aGVuKCkgb3IgLmNhdGNoKCkgYXJlIGNhbGxlZCBhbmQgcHJldmVudHMgYWRkaXRpb25hbFxuICAgICAgICAvLyBjaGFpbmluZy5cbiAgICAgICAgdGhpcy5jYWxsYmFja0F0dGFjaGVkID0gITEsIGUoKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc0RvbmUgPSAhMCwgdGhpcy5yZXN1bHQgPSBlLCB0aGlzLm5leHRDYWxsYmFjayAmJiBcbiAgICAgICAgICAgIC8vIHZhbHVlIHNob3VsZCBiZSBkZWZpbmVkIHVubGVzcyBUIGlzIFZvaWQsIGJ1dCB3ZSBjYW4ndCBleHByZXNzXG4gICAgICAgICAgICAvLyB0aGF0IGluIHRoZSB0eXBlIHN5c3RlbS5cbiAgICAgICAgICAgIHRoaXMubmV4dENhbGxiYWNrKGUpO1xuICAgICAgICB9KSwgKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc0RvbmUgPSAhMCwgdGhpcy5lcnJvciA9IGUsIHRoaXMuY2F0Y2hDYWxsYmFjayAmJiB0aGlzLmNhdGNoQ2FsbGJhY2soZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY2F0Y2goZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5uZXh0KHZvaWQgMCwgZSk7XG4gICAgfVxuICAgIG5leHQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxsYmFja0F0dGFjaGVkICYmIGZhaWwoKSwgdGhpcy5jYWxsYmFja0F0dGFjaGVkID0gITAsIHRoaXMuaXNEb25lID8gdGhpcy5lcnJvciA/IHRoaXMud3JhcEZhaWx1cmUodCwgdGhpcy5lcnJvcikgOiB0aGlzLndyYXBTdWNjZXNzKGUsIHRoaXMucmVzdWx0KSA6IG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKChuLCByKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5leHRDYWxsYmFjayA9IHQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcFN1Y2Nlc3MoZSwgdCkubmV4dChuLCByKTtcbiAgICAgICAgICAgIH0sIHRoaXMuY2F0Y2hDYWxsYmFjayA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMud3JhcEZhaWx1cmUodCwgZSkubmV4dChuLCByKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdG9Qcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKChlLCB0KSA9PiB7XG4gICAgICAgICAgICB0aGlzLm5leHQoZSwgdCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgd3JhcFVzZXJGdW5jdGlvbihlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZSgpO1xuICAgICAgICAgICAgcmV0dXJuIHQgaW5zdGFuY2VvZiBQZXJzaXN0ZW5jZVByb21pc2UgPyB0IDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdyYXBTdWNjZXNzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUgPyB0aGlzLndyYXBVc2VyRnVuY3Rpb24oKCgpID0+IGUodCkpKSA6IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHQpO1xuICAgIH1cbiAgICB3cmFwRmFpbHVyZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBlID8gdGhpcy53cmFwVXNlckZ1bmN0aW9uKCgoKSA9PiBlKHQpKSkgOiBQZXJzaXN0ZW5jZVByb21pc2UucmVqZWN0KHQpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVzb2x2ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgdChlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzdGF0aWMgcmVqZWN0KGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICBuKGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXRpYyB3YWl0Rm9yKFxuICAgIC8vIEFjY2VwdCBhbGwgUHJvbWlzZSB0eXBlcyBpbiB3YWl0Rm9yKCkuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgbGV0IHIgPSAwLCBpID0gMCwgcyA9ICExO1xuICAgICAgICAgICAgZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICArK3IsIGUubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICArK2ksIHMgJiYgaSA9PT0gciAmJiB0KCk7XG4gICAgICAgICAgICAgICAgfSksIChlID0+IG4oZSkpKTtcbiAgICAgICAgICAgIH0pKSwgcyA9ICEwLCBpID09PSByICYmIHQoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhbiBhcnJheSBvZiBwcmVkaWNhdGUgZnVuY3Rpb25zIHRoYXQgYXN5bmNocm9ub3VzbHkgZXZhbHVhdGUgdG8gYVxuICAgICAqIGJvb2xlYW4sIGltcGxlbWVudHMgYSBzaG9ydC1jaXJjdWl0aW5nIGBvcmAgYmV0d2VlbiB0aGUgcmVzdWx0cy4gUHJlZGljYXRlc1xuICAgICAqIHdpbGwgYmUgZXZhbHVhdGVkIHVudGlsIG9uZSBvZiB0aGVtIHJldHVybnMgYHRydWVgLCB0aGVuIHN0b3AuIFRoZSBmaW5hbFxuICAgICAqIHJlc3VsdCB3aWxsIGJlIHdoZXRoZXIgYW55IG9mIHRoZW0gcmV0dXJuZWQgYHRydWVgLlxuICAgICAqLyAgICBzdGF0aWMgb3IoZSkge1xuICAgICAgICBsZXQgdCA9IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCExKTtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGUpIHQgPSB0Lm5leHQoKGUgPT4gZSA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKGUpIDogbigpKSk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBzdGF0aWMgZm9yRWFjaChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgcmV0dXJuIGUuZm9yRWFjaCgoKGUsIHIpID0+IHtcbiAgICAgICAgICAgIG4ucHVzaCh0LmNhbGwodGhpcywgZSwgcikpO1xuICAgICAgICB9KSksIHRoaXMud2FpdEZvcihuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uY3VycmVudGx5IG1hcCBhbGwgYXJyYXkgZWxlbWVudHMgdGhyb3VnaCBhc3luY2hyb25vdXMgZnVuY3Rpb24uXG4gICAgICovICAgIHN0YXRpYyBtYXBBcnJheShlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IGUubGVuZ3RoLCBzID0gbmV3IEFycmF5KGkpO1xuICAgICAgICAgICAgbGV0IG8gPSAwO1xuICAgICAgICAgICAgZm9yIChsZXQgXyA9IDA7IF8gPCBpOyBfKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gXztcbiAgICAgICAgICAgICAgICB0KGVbYV0pLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzW2FdID0gZSwgKytvLCBvID09PSBpICYmIG4ocyk7XG4gICAgICAgICAgICAgICAgfSksIChlID0+IHIoZSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBbiBhbHRlcm5hdGl2ZSB0byByZWN1cnNpdmUgUGVyc2lzdGVuY2VQcm9taXNlIGNhbGxzLCB0aGF0IGF2b2lkc1xuICAgICAqIHBvdGVudGlhbCBtZW1vcnkgcHJvYmxlbXMgZnJvbSB1bmJvdW5kZWQgY2hhaW5zIG9mIHByb21pc2VzLlxuICAgICAqXG4gICAgICogVGhlIGBhY3Rpb25gIHdpbGwgYmUgY2FsbGVkIHJlcGVhdGVkbHkgd2hpbGUgYGNvbmRpdGlvbmAgaXMgdHJ1ZS5cbiAgICAgKi8gICAgc3RhdGljIGRvV2hpbGUoZSwgdCkge1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgITAgPT09IGUoKSA/IHQoKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3MoKTtcbiAgICAgICAgICAgICAgICB9KSwgcikgOiBuKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcHJvY2VzcygpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gUmVmZXJlbmNlcyB0byBgd2luZG93YCBhcmUgZ3VhcmRlZCBieSBTaW1wbGVEYi5pc0F2YWlsYWJsZSgpXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbi8qKlxuICogV3JhcHMgYW4gSURCVHJhbnNhY3Rpb24gYW5kIGV4cG9zZXMgYSBzdG9yZSgpIG1ldGhvZCB0byBnZXQgYSBoYW5kbGUgdG8gYVxuICogc3BlY2lmaWMgb2JqZWN0IHN0b3JlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfU2ltcGxlRGJUcmFuc2FjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGUsIHRoaXMudHJhbnNhY3Rpb24gPSB0LCB0aGlzLmFib3J0ZWQgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGBQcm9taXNlYCB0aGF0IHJlc29sdmVzIHdpdGggdGhlIHJlc3VsdCBvZiB0aGUgSW5kZXhlZERiIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5WID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZCwgdGhpcy50cmFuc2FjdGlvbi5vbmNvbXBsZXRlID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5WLnJlc29sdmUoKTtcbiAgICAgICAgfSwgdGhpcy50cmFuc2FjdGlvbi5vbmFib3J0ID0gKCkgPT4ge1xuICAgICAgICAgICAgdC5lcnJvciA/IHRoaXMuVi5yZWplY3QobmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUsIHQuZXJyb3IpKSA6IHRoaXMuVi5yZXNvbHZlKCk7XG4gICAgICAgIH0sIHRoaXMudHJhbnNhY3Rpb24ub25lcnJvciA9IHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yKHQudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuVi5yZWplY3QobmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUsIG4pKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIG9wZW4oZSwgdCwgbiwgcikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfU2ltcGxlRGJUcmFuc2FjdGlvbih0LCBlLnRyYW5zYWN0aW9uKHIsIG4pKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKHQsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5WLnByb21pc2U7XG4gICAgfVxuICAgIGFib3J0KGUpIHtcbiAgICAgICAgZSAmJiB0aGlzLlYucmVqZWN0KGUpLCB0aGlzLmFib3J0ZWQgfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiQWJvcnRpbmcgdHJhbnNhY3Rpb246XCIsIGUgPyBlLm1lc3NhZ2UgOiBcIkNsaWVudC1pbml0aWF0ZWQgYWJvcnRcIiksIFxuICAgICAgICB0aGlzLmFib3J0ZWQgPSAhMCwgdGhpcy50cmFuc2FjdGlvbi5hYm9ydCgpKTtcbiAgICB9XG4gICAgZygpIHtcbiAgICAgICAgLy8gSWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgVjMgSW5kZXhlZERCLCB3ZSBpbnZva2UgY29tbWl0KCkgZXhwbGljaXRseSB0b1xuICAgICAgICAvLyBzcGVlZCB1cCBpbmRleCBEQiBwcm9jZXNzaW5nIGlmIHRoZSBldmVudCBsb29wIHJlbWFpbnMgYmxvY2tzLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBjb25zdCBlID0gdGhpcy50cmFuc2FjdGlvbjtcbiAgICAgICAgdGhpcy5hYm9ydGVkIHx8IFwiZnVuY3Rpb25cIiAhPSB0eXBlb2YgZS5jb21taXQgfHwgZS5jb21taXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFNpbXBsZURiU3RvcmU8S2V5VHlwZSwgVmFsdWVUeXBlPiBmb3IgdGhlIHNwZWNpZmllZCBzdG9yZS4gQWxsXG4gICAgICogb3BlcmF0aW9ucyBwZXJmb3JtZWQgb24gdGhlIFNpbXBsZURiU3RvcmUgaGFwcGVuIHdpdGhpbiB0aGUgY29udGV4dCBvZiB0aGlzXG4gICAgICogdHJhbnNhY3Rpb24gYW5kIGl0IGNhbm5vdCBiZSB1c2VkIGFueW1vcmUgb25jZSB0aGUgdHJhbnNhY3Rpb24gaXNcbiAgICAgKiBjb21wbGV0ZWQuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgd2UgY2FuJ3QgYWN0dWFsbHkgZW5mb3JjZSB0aGF0IHRoZSBLZXlUeXBlIGFuZCBWYWx1ZVR5cGUgYXJlXG4gICAgICogY29ycmVjdCwgYnV0IHRoZXkgYWxsb3cgdHlwZSBzYWZldHkgdGhyb3VnaCB0aGUgcmVzdCBvZiB0aGUgY29uc3VtaW5nIGNvZGUuXG4gICAgICovICAgIHN0b3JlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMudHJhbnNhY3Rpb24ub2JqZWN0U3RvcmUoZSk7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1NpbXBsZURiU3RvcmUodCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGEgd3JhcHBlciBhcm91bmQgSW5kZXhlZERiIHdpdGggYSBzaW1wbGlmaWVkIGludGVyZmFjZSB0aGF0IHVzZXNcbiAqIFByb21pc2UtbGlrZSByZXR1cm4gdmFsdWVzIHRvIGNoYWluIG9wZXJhdGlvbnMuIFJlYWwgcHJvbWlzZXMgY2Fubm90IGJlIHVzZWRcbiAqIHNpbmNlIC50aGVuKCkgY29udGludWF0aW9ucyBhcmUgZXhlY3V0ZWQgYXN5bmNocm9ub3VzbHkgKGUuZy4gdmlhXG4gKiAuc2V0SW1tZWRpYXRlKSwgd2hpY2ggd291bGQgY2F1c2UgSW5kZXhlZERCIHRvIGVuZCB0aGUgdHJhbnNhY3Rpb24uXG4gKiBTZWUgUGVyc2lzdGVuY2VQcm9taXNlIGZvciBtb3JlIGRldGFpbHMuXG4gKi8gY2xhc3MgX19QUklWQVRFX1NpbXBsZURiIHtcbiAgICAvKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgU2ltcGxlRGIgd3JhcHBlciBmb3IgSW5kZXhlZERiIGRhdGFiYXNlIGBuYW1lYC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBgdmVyc2lvbmAgbXVzdCBub3QgYmUgYSBkb3duZ3JhZGUuIEluZGV4ZWREQiBkb2VzIG5vdCBzdXBwb3J0XG4gICAgICogZG93bmdyYWRpbmcgdGhlIHNjaGVtYSB2ZXJzaW9uLiBXZSBjdXJyZW50bHkgZG8gbm90IHN1cHBvcnQgYW55IHdheSB0byBkb1xuICAgICAqIHZlcnNpb25pbmcgb3V0c2lkZSBvZiBJbmRleGVkREIncyB2ZXJzaW9uaW5nIG1lY2hhbmlzbSwgYXMgb25seVxuICAgICAqIHZlcnNpb24tdXBncmFkZSB0cmFuc2FjdGlvbnMgYXJlIGFsbG93ZWQgdG8gZG8gdGhpbmdzIGxpa2UgY3JlYXRlXG4gICAgICogb2JqZWN0c3RvcmVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5uYW1lID0gZSwgdGhpcy52ZXJzaW9uID0gdCwgdGhpcy5wID0gbjtcbiAgICAgICAgLy8gTk9URTogQWNjb3JkaW5nIHRvIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xOTcwNTAsIHRoZVxuICAgICAgICAvLyBidWcgd2UncmUgY2hlY2tpbmcgZm9yIHNob3VsZCBleGlzdCBpbiBpT1MgPj0gMTIuMiBhbmQgPCAxMywgYnV0IGZvclxuICAgICAgICAvLyB3aGF0ZXZlciByZWFzb24gaXQncyBtdWNoIGhhcmRlciB0byBoaXQgYWZ0ZXIgMTIuMiBzbyB3ZSBvbmx5IHByb2FjdGl2ZWx5XG4gICAgICAgIC8vIGxvZyBvbiAxMi4yLlxuICAgICAgICAxMi4yID09PSBfX1BSSVZBVEVfU2ltcGxlRGIuUyh1dGlsLmdldFVBKCkpICYmIF9fUFJJVkFURV9sb2dFcnJvcihcIkZpcmVzdG9yZSBwZXJzaXN0ZW5jZSBzdWZmZXJzIGZyb20gYSBidWcgaW4gaU9TIDEyLjIgU2FmYXJpIHRoYXQgbWF5IGNhdXNlIHlvdXIgYXBwIHRvIHN0b3Agd29ya2luZy4gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS81NjQ5NjI5Ni8xMTA5MTUgZm9yIGRldGFpbHMgYW5kIGEgcG90ZW50aWFsIHdvcmthcm91bmQuXCIpO1xuICAgIH1cbiAgICAvKiogRGVsZXRlcyB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLiAqLyAgICBzdGF0aWMgZGVsZXRlKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiUmVtb3ZpbmcgZGF0YWJhc2U6XCIsIGUpLCBfX1BSSVZBVEVfd3JhcFJlcXVlc3Qod2luZG93LmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShlKSkudG9Qcm9taXNlKCk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgSW5kZXhlZERCIGlzIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudC4gKi8gICAgc3RhdGljIEQoKSB7XG4gICAgICAgIGlmICghdXRpbC5pc0luZGV4ZWREQkF2YWlsYWJsZSgpKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChfX1BSSVZBVEVfU2ltcGxlRGIuQygpKSByZXR1cm4gITA7XG4gICAgICAgIC8vIFdlIGV4dGVuc2l2ZWx5IHVzZSBpbmRleGVkIGFycmF5IHZhbHVlcyBhbmQgY29tcG91bmQga2V5cyxcbiAgICAgICAgLy8gd2hpY2ggSUUgYW5kIEVkZ2UgZG8gbm90IHN1cHBvcnQuIEhvd2V2ZXIsIHRoZXkgc3RpbGwgaGF2ZSBpbmRleGVkREJcbiAgICAgICAgLy8gZGVmaW5lZCBvbiB0aGUgd2luZG93LCBzbyB3ZSBuZWVkIHRvIGNoZWNrIGZvciB0aGVtIGhlcmUgYW5kIG1ha2Ugc3VyZVxuICAgICAgICAvLyB0byByZXR1cm4gdGhhdCBwZXJzaXN0ZW5jZSBpcyBub3QgZW5hYmxlZCBmb3IgdGhvc2UgYnJvd3NlcnMuXG4gICAgICAgIC8vIEZvciB0cmFja2luZyBzdXBwb3J0IG9mIHRoaXMgZmVhdHVyZSwgc2VlIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vc3RhdHVzL2luZGV4ZWRkYmFycmF5c2FuZG11bHRpZW50cnlzdXBwb3J0L1xuICAgICAgICAvLyBDaGVjayB0aGUgVUEgc3RyaW5nIHRvIGZpbmQgb3V0IHRoZSBicm93c2VyLlxuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB1dGlsLmdldFVBKCksIHQgPSBfX1BSSVZBVEVfU2ltcGxlRGIuUyhlKSwgbiA9IDAgPCB0ICYmIHQgPCAxMCwgciA9IF9fUFJJVkFURV9nZXRBbmRyb2lkVmVyc2lvbihlKSwgaSA9IDAgPCByICYmIHIgPCA0LjU7XG4gICAgICAgIC8vIElFIDEwXG4gICAgICAgIC8vIHVhID0gJ01vemlsbGEvNS4wIChjb21wYXRpYmxlOyBNU0lFIDEwLjA7IFdpbmRvd3MgTlQgNi4yOyBUcmlkZW50LzYuMCknO1xuICAgICAgICAvLyBJRSAxMVxuICAgICAgICAvLyB1YSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCA2LjM7IFRyaWRlbnQvNy4wOyBydjoxMS4wKSBsaWtlIEdlY2tvJztcbiAgICAgICAgLy8gRWRnZVxuICAgICAgICAvLyB1YSA9ICdNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXT1c2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCxcbiAgICAgICAgLy8gbGlrZSBHZWNrbykgQ2hyb21lLzM5LjAuMjE3MS43MSBTYWZhcmkvNTM3LjM2IEVkZ2UvMTIuMCc7XG4gICAgICAgIC8vIGlPUyBTYWZhcmk6IERpc2FibGUgZm9yIHVzZXJzIHJ1bm5pbmcgaU9TIHZlcnNpb24gPCAxMC5cbiAgICAgICAgICAgICAgICByZXR1cm4gIShlLmluZGV4T2YoXCJNU0lFIFwiKSA+IDAgfHwgZS5pbmRleE9mKFwiVHJpZGVudC9cIikgPiAwIHx8IGUuaW5kZXhPZihcIkVkZ2UvXCIpID4gMCB8fCBuIHx8IGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGJhY2tpbmcgSW5kZXhlZERCIHN0b3JlIGlzIHRoZSBOb2RlIEluZGV4ZWREQlNoaW1cbiAgICAgKiAoc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9heGVtY2xpb24vSW5kZXhlZERCU2hpbSkuXG4gICAgICovICAgIHN0YXRpYyBDKCkge1xuICAgICAgICB2YXIgZTtcbiAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHByb2Nlc3MgJiYgXCJZRVNcIiA9PT0gKG51bGwgPT09IChlID0gcHJvY2Vzcy5fX1BSSVZBVEVfZW52KSB8fCB2b2lkIDAgPT09IGUgPyB2b2lkIDAgOiBlLnYpO1xuICAgIH1cbiAgICAvKiogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZnJvbSBhIHRyYW5zYWN0aW9uLiAqLyAgICBzdGF0aWMgRihlLCB0KSB7XG4gICAgICAgIHJldHVybiBlLnN0b3JlKHQpO1xuICAgIH1cbiAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgLyoqIFBhcnNlIFVzZXIgQWdlbnQgdG8gZGV0ZXJtaW5lIGlPUyB2ZXJzaW9uLiBSZXR1cm5zIC0xIGlmIG5vdCBmb3VuZC4gKi9cbiAgICBzdGF0aWMgUyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLm1hdGNoKC9pKD86cGhvbmV8cGFkfHBvZCkgb3MgKFtcXGRfXSspL2kpLCBuID0gdCA/IHRbMV0uc3BsaXQoXCJfXCIpLnNsaWNlKDAsIDIpLmpvaW4oXCIuXCIpIDogXCItMVwiO1xuICAgICAgICByZXR1cm4gTnVtYmVyKG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcGVucyB0aGUgc3BlY2lmaWVkIGRhdGFiYXNlLCBjcmVhdGluZyBvciB1cGdyYWRpbmcgaXQgaWYgbmVjZXNzYXJ5LlxuICAgICAqLyAgICBhc3luYyBNKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIgfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiT3BlbmluZyBkYXRhYmFzZTpcIiwgdGhpcy5uYW1lKSwgXG4gICAgICAgIHRoaXMuZGIgPSBhd2FpdCBuZXcgUHJvbWlzZSgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8obWlrZWxlaGVuKTogSW52ZXN0aWdhdGUgYnJvd3NlciBjb21wYXRpYmlsaXR5LlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0luZGV4ZWREQl9BUEkvVXNpbmdfSW5kZXhlZERCXG4gICAgICAgICAgICAvLyBzdWdnZXN0cyBJRTkgYW5kIG9sZGVyIFdlYktpdCBicm93c2VycyBoYW5kbGUgdXBncmFkZVxuICAgICAgICAgICAgLy8gZGlmZmVyZW50bHkuIFRoZXkgZXhwZWN0IHNldFZlcnNpb24sIGFzIGRlc2NyaWJlZCBoZXJlOlxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0lEQlZlcnNpb25DaGFuZ2VSZXF1ZXN0L3NldFZlcnNpb25cbiAgICAgICAgICAgIGNvbnN0IHIgPSBpbmRleGVkREIub3Blbih0aGlzLm5hbWUsIHRoaXMudmVyc2lvbik7XG4gICAgICAgICAgICByLm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgdChuKTtcbiAgICAgICAgICAgIH0sIHIub25ibG9ja2VkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIG4obmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUsIFwiQ2Fubm90IHVwZ3JhZGUgSW5kZXhlZERCIHNjaGVtYSB3aGlsZSBhbm90aGVyIHRhYiBpcyBvcGVuLiBDbG9zZSBhbGwgdGFicyB0aGF0IGFjY2VzcyBGaXJlc3RvcmUgYW5kIHJlbG9hZCB0aGlzIHBhZ2UgdG8gcHJvY2VlZC5cIikpO1xuICAgICAgICAgICAgfSwgci5vbmVycm9yID0gdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHQudGFyZ2V0LmVycm9yO1xuICAgICAgICAgICAgICAgIFwiVmVyc2lvbkVycm9yXCIgPT09IHIubmFtZSA/IG4obmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJBIG5ld2VyIHZlcnNpb24gb2YgdGhlIEZpcmVzdG9yZSBTREsgd2FzIHByZXZpb3VzbHkgdXNlZCBhbmQgc28gdGhlIHBlcnNpc3RlZCBkYXRhIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggdGhlIHZlcnNpb24gb2YgdGhlIFNESyB5b3UgYXJlIG5vdyB1c2luZy4gVGhlIFNESyB3aWxsIG9wZXJhdGUgd2l0aCBwZXJzaXN0ZW5jZSBkaXNhYmxlZC4gSWYgeW91IG5lZWQgcGVyc2lzdGVuY2UsIHBsZWFzZSByZS11cGdyYWRlIHRvIGEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgU0RLIG9yIGVsc2UgY2xlYXIgdGhlIHBlcnNpc3RlZCBJbmRleGVkREIgZGF0YSBmb3IgeW91ciBhcHAgdG8gc3RhcnQgZnJlc2guXCIpKSA6IFwiSW52YWxpZFN0YXRlRXJyb3JcIiA9PT0gci5uYW1lID8gbihuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIlVuYWJsZSB0byBvcGVuIGFuIEluZGV4ZWREQiBjb25uZWN0aW9uLiBUaGlzIGNvdWxkIGJlIGR1ZSB0byBydW5uaW5nIGluIGEgcHJpdmF0ZSBicm93c2luZyBzZXNzaW9uIG9uIGEgYnJvd3NlciB3aG9zZSBwcml2YXRlIGJyb3dzaW5nIHNlc3Npb25zIGRvIG5vdCBzdXBwb3J0IEluZGV4ZWREQjogXCIgKyByKSkgOiBuKG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcihlLCByKSk7XG4gICAgICAgICAgICB9LCByLm9udXBncmFkZW5lZWRlZCA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsICdEYXRhYmFzZSBcIicgKyB0aGlzLm5hbWUgKyAnXCIgcmVxdWlyZXMgdXBncmFkZSBmcm9tIHZlcnNpb246JywgZS5vbGRWZXJzaW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgIHRoaXMucC5PKHQsIHIudHJhbnNhY3Rpb24sIGUub2xkVmVyc2lvbiwgdGhpcy52ZXJzaW9uKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiRGF0YWJhc2UgdXBncmFkZSB0byB2ZXJzaW9uIFwiICsgdGhpcy52ZXJzaW9uICsgXCIgY29tcGxldGVcIik7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpKSwgdGhpcy5OICYmICh0aGlzLmRiLm9udmVyc2lvbmNoYW5nZSA9IGUgPT4gdGhpcy5OKGUpKSwgdGhpcy5kYjtcbiAgICB9XG4gICAgTChlKSB7XG4gICAgICAgIHRoaXMuTiA9IGUsIHRoaXMuZGIgJiYgKHRoaXMuZGIub252ZXJzaW9uY2hhbmdlID0gdCA9PiBlKHQpKTtcbiAgICB9XG4gICAgYXN5bmMgcnVuVHJhbnNhY3Rpb24oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gXCJyZWFkb25seVwiID09PSB0O1xuICAgICAgICBsZXQgcyA9IDA7XG4gICAgICAgIGZvciAoOzspIHtcbiAgICAgICAgICAgICsrcztcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYiA9IGF3YWl0IHRoaXMuTShlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX1NpbXBsZURiVHJhbnNhY3Rpb24ub3Blbih0aGlzLmRiLCBlLCBpID8gXCJyZWFkb25seVwiIDogXCJyZWFkd3JpdGVcIiwgbiksIHMgPSByKHQpLm5leHQoKGUgPT4gKHQuZygpLCBcbiAgICAgICAgICAgICAgICBlKSkpLmNhdGNoKChlID0+IChcbiAgICAgICAgICAgICAgICAvLyBBYm9ydCB0aGUgdHJhbnNhY3Rpb24gaWYgdGhlcmUgd2FzIGFuIGVycm9yLlxuICAgICAgICAgICAgICAgIHQuYWJvcnQoZSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZWplY3QoZSkpKSkudG9Qcm9taXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gQXMgbm90ZWQgYWJvdmUsIGVycm9ycyBhcmUgcHJvcGFnYXRlZCBieSBhYm9ydGluZyB0aGUgdHJhbnNhY3Rpb24uIFNvXG4gICAgICAgICAgICAgICAgLy8gd2Ugc3dhbGxvdyBhbnkgZXJyb3IgaGVyZSB0byBhdm9pZCB0aGUgYnJvd3NlciBsb2dnaW5nIGl0IGFzIHVuaGFuZGxlZC5cbiAgICAgICAgICAgICAgICByZXR1cm4gcy5jYXRjaCgoKCkgPT4ge30pKSwgXG4gICAgICAgICAgICAgICAgLy8gV2FpdCBmb3IgdGhlIHRyYW5zYWN0aW9uIHRvIGNvbXBsZXRlIChpLmUuIEluZGV4ZWREYidzIG9uc3VjY2VzcyBldmVudCB0b1xuICAgICAgICAgICAgICAgIC8vIGZpcmUpLCBidXQgc3RpbGwgcmV0dXJuIHRoZSBvcmlnaW5hbCB0cmFuc2FjdGlvbkZuUmVzdWx0IGJhY2sgdG8gdGhlXG4gICAgICAgICAgICAgICAgLy8gY2FsbGVyLlxuICAgICAgICAgICAgICAgIGF3YWl0IHQubSwgcztcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZSwgbiA9IFwiRmlyZWJhc2VFcnJvclwiICE9PSB0Lm5hbWUgJiYgcyA8IDM7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyhzY2htaWR0LXNlYmFzdGlhbik6IFdlIGNvdWxkIHByb2JhYmx5IGJlIHNtYXJ0ZXIgYWJvdXQgdGhpcyBhbmRcbiAgICAgICAgICAgICAgICAvLyBub3QgcmV0cnkgZXhjZXB0aW9ucyB0aGF0IGFyZSBsaWtlbHkgdW5yZWNvdmVyYWJsZSAoc3VjaCBhcyBxdW90YVxuICAgICAgICAgICAgICAgIC8vIGV4Y2VlZGVkIGVycm9ycykuXG4gICAgICAgICAgICAgICAgLy8gTm90ZTogV2UgY2Fubm90IHVzZSBhbiBpbnN0YW5jZW9mIGNoZWNrIGZvciBGaXJlc3RvcmVFeGNlcHRpb24sIHNpbmNlIHRoZVxuICAgICAgICAgICAgICAgIC8vIGV4Y2VwdGlvbiBpcyB3cmFwcGVkIGluIGEgZ2VuZXJpYyBlcnJvciBieSBvdXIgYXN5bmMvYXdhaXQgaGFuZGxpbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIlRyYW5zYWN0aW9uIGZhaWxlZCB3aXRoIGVycm9yOlwiLCB0Lm1lc3NhZ2UsIFwiUmV0cnlpbmc6XCIsIG4pLCBcbiAgICAgICAgICAgICAgICB0aGlzLmNsb3NlKCksICFuKSByZXR1cm4gUHJvbWlzZS5yZWplY3QodCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZGIgJiYgdGhpcy5kYi5jbG9zZSgpLCB0aGlzLmRiID0gdm9pZCAwO1xuICAgIH1cbn1cblxuLyoqIFBhcnNlIFVzZXIgQWdlbnQgdG8gZGV0ZXJtaW5lIEFuZHJvaWQgdmVyc2lvbi4gUmV0dXJucyAtMSBpZiBub3QgZm91bmQuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRBbmRyb2lkVmVyc2lvbihlKSB7XG4gICAgY29uc3QgdCA9IGUubWF0Y2goL0FuZHJvaWQgKFtcXGQuXSspL2kpLCBuID0gdCA/IHRbMV0uc3BsaXQoXCIuXCIpLnNsaWNlKDAsIDIpLmpvaW4oXCIuXCIpIDogXCItMVwiO1xuICAgIHJldHVybiBOdW1iZXIobik7XG59XG5cbi8qKlxuICogQSBjb250cm9sbGVyIGZvciBpdGVyYXRpbmcgb3ZlciBhIGtleSByYW5nZSBvciBpbmRleC4gSXQgYWxsb3dzIGFuIGl0ZXJhdGVcbiAqIGNhbGxiYWNrIHRvIGRlbGV0ZSB0aGUgY3VycmVudGx5LXJlZmVyZW5jZWQgb2JqZWN0LCBvciBqdW1wIHRvIGEgbmV3IGtleVxuICogd2l0aGluIHRoZSBrZXkgcmFuZ2Ugb3IgaW5kZXguXG4gKi8gY2xhc3MgX19QUklWQVRFX0l0ZXJhdGlvbkNvbnRyb2xsZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5CID0gZSwgdGhpcy5rID0gITEsIHRoaXMucSA9IG51bGw7XG4gICAgfVxuICAgIGdldCBpc0RvbmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLms7XG4gICAgfVxuICAgIGdldCBLKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xO1xuICAgIH1cbiAgICBzZXQgY3Vyc29yKGUpIHtcbiAgICAgICAgdGhpcy5CID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIHRvIHN0b3AgaXRlcmF0aW9uIGF0IGFueSBwb2ludC5cbiAgICAgKi8gICAgZG9uZSgpIHtcbiAgICAgICAgdGhpcy5rID0gITA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gY2FuIGJlIGNhbGxlZCB0byBza2lwIHRvIHRoYXQgbmV4dCBrZXksIHdoaWNoIGNvdWxkIGJlXG4gICAgICogYW4gaW5kZXggb3IgYSBwcmltYXJ5IGtleS5cbiAgICAgKi8gICAgJChlKSB7XG4gICAgICAgIHRoaXMucSA9IGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSB0aGUgY3VycmVudCBjdXJzb3IgdmFsdWUgZnJvbSB0aGUgb2JqZWN0IHN0b3JlLlxuICAgICAqXG4gICAgICogTk9URTogWW91IENBTk5PVCBkbyB0aGlzIHdpdGggYSBrZXlzT25seSBxdWVyeS5cbiAgICAgKi8gICAgZGVsZXRlKCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyYXBSZXF1ZXN0KHRoaXMuQi5kZWxldGUoKSk7XG4gICAgfVxufVxuXG4vKiogQW4gZXJyb3IgdGhhdCB3cmFwcyBleGNlcHRpb25zIHRoYXQgdGhyb3duIGR1cmluZyBJbmRleGVkREIgZXhlY3V0aW9uLiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvciBleHRlbmRzIEZpcmVzdG9yZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKEMuVU5BVkFJTEFCTEUsIGBJbmRleGVkREIgdHJhbnNhY3Rpb24gJyR7ZX0nIGZhaWxlZDogJHt0fWApLCB0aGlzLm5hbWUgPSBcIkluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3JcIjtcbiAgICB9XG59XG5cbi8qKiBWZXJpZmllcyB3aGV0aGVyIGBlYCBpcyBhbiBJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpIHtcbiAgICAvLyBVc2UgbmFtZSBlcXVhbGl0eSwgYXMgaW5zdGFuY2VvZiBjaGVja3Mgb24gZXJyb3JzIGRvbid0IHdvcmsgd2l0aCBlcnJvcnNcbiAgICAvLyB0aGF0IHdyYXAgb3RoZXIgZXJyb3JzLlxuICAgIHJldHVybiBcIkluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3JcIiA9PT0gZS5uYW1lO1xufVxuXG4vKipcbiAqIEEgd3JhcHBlciBhcm91bmQgYW4gSURCT2JqZWN0U3RvcmUgcHJvdmlkaW5nIGFuIEFQSSB0aGF0OlxuICpcbiAqIDEpIEhhcyBnZW5lcmljIEtleVR5cGUgLyBWYWx1ZVR5cGUgcGFyYW1ldGVycyB0byBwcm92aWRlIHN0cm9uZ2x5LXR5cGVkXG4gKiBtZXRob2RzIGZvciBhY3RpbmcgYWdhaW5zdCB0aGUgb2JqZWN0IHN0b3JlLlxuICogMikgRGVhbHMgd2l0aCBJbmRleGVkREIncyBvbnN1Y2Nlc3MgLyBvbmVycm9yIGV2ZW50IGNhbGxiYWNrcywgbWFraW5nIGV2ZXJ5XG4gKiBtZXRob2QgcmV0dXJuIGEgUGVyc2lzdGVuY2VQcm9taXNlIGluc3RlYWQuXG4gKiAzKSBQcm92aWRlcyBhIGhpZ2hlci1sZXZlbCBBUEkgdG8gYXZvaWQgbmVlZGluZyB0byBkbyBleGNlc3NpdmUgd3JhcHBpbmcgb2ZcbiAqIGludGVybWVkaWF0ZSBJbmRleGVkREIgdHlwZXMgKElEQkN1cnNvcldpdGhWYWx1ZSwgZXRjLilcbiAqLyBjbGFzcyBfX1BSSVZBVEVfU2ltcGxlRGJTdG9yZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnN0b3JlID0gZTtcbiAgICB9XG4gICAgcHV0KGUsIHQpIHtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IHQgPyAoX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJQVVRcIiwgdGhpcy5zdG9yZS5uYW1lLCBlLCB0KSwgXG4gICAgICAgIG4gPSB0aGlzLnN0b3JlLnB1dCh0LCBlKSkgOiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJQVVRcIiwgdGhpcy5zdG9yZS5uYW1lLCBcIjxhdXRvLWtleT5cIiwgZSksIFxuICAgICAgICBuID0gdGhpcy5zdG9yZS5wdXQoZSkpLCBfX1BSSVZBVEVfd3JhcFJlcXVlc3Qobik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgdmFsdWUgaW50byBhbiBPYmplY3QgU3RvcmUgYW5kIHJldHVybnMgdGhlIG5ldyBrZXkuIFNpbWlsYXIgdG9cbiAgICAgKiBJbmRleGVkRGIncyBgYWRkKClgLCB0aGlzIG1ldGhvZCB3aWxsIGZhaWwgb24gcHJpbWFyeSBrZXkgY29sbGlzaW9ucy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBvYmplY3QgdG8gd3JpdGUuXG4gICAgICogQHJldHVybnMgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gYWRkLlxuICAgICAqLyAgICBhZGQoZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIkFERFwiLCB0aGlzLnN0b3JlLm5hbWUsIGUsIGUpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyYXBSZXF1ZXN0KHRoaXMuc3RvcmUuYWRkKGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgb2JqZWN0IHdpdGggdGhlIHNwZWNpZmllZCBrZXkgZnJvbSB0aGUgc3BlY2lmaWVkIHN0b3JlLCBvciBudWxsXG4gICAgICogaWYgbm8gb2JqZWN0IGV4aXN0cyB3aXRoIHRoZSBzcGVjaWZpZWQga2V5LlxuICAgICAqXG4gICAgICogQGtleSBUaGUga2V5IG9mIHRoZSBvYmplY3QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIFRoZSBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBvciBudWxsIGlmIG5vIG9iamVjdCBleGlzdHMuXG4gICAgICovICAgIGdldChlKSB7XG4gICAgICAgIC8vIFdlJ3JlIGRvaW5nIGFuIHVuc2FmZSBjYXN0IHRvIFZhbHVlVHlwZS5cbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV93cmFwUmVxdWVzdCh0aGlzLnN0b3JlLmdldChlKSkubmV4dCgodCA9PiAoXG4gICAgICAgIC8vIE5vcm1hbGl6ZSBub25leGlzdGVuY2UgdG8gbnVsbC5cbiAgICAgICAgdm9pZCAwID09PSB0ICYmICh0ID0gbnVsbCksIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiR0VUXCIsIHRoaXMuc3RvcmUubmFtZSwgZSwgdCksIFxuICAgICAgICB0KSkpO1xuICAgIH1cbiAgICBkZWxldGUoZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIkRFTEVURVwiLCB0aGlzLnN0b3JlLm5hbWUsIGUpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyYXBSZXF1ZXN0KHRoaXMuc3RvcmUuZGVsZXRlKGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgd2UgZXZlciBuZWVkIG1vcmUgb2YgdGhlIGNvdW50IHZhcmlhbnRzLCB3ZSBjYW4gYWRkIG92ZXJsb2Fkcy4gRm9yIG5vdyxcbiAgICAgKiBhbGwgd2UgbmVlZCBpcyB0byBjb3VudCBldmVyeXRoaW5nIGluIGEgc3RvcmUuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygcm93cyBpbiB0aGUgc3RvcmUuXG4gICAgICovICAgIGNvdW50KCkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIkNPVU5UXCIsIHRoaXMuc3RvcmUubmFtZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JhcFJlcXVlc3QodGhpcy5zdG9yZS5jb3VudCgpKTtcbiAgICB9XG4gICAgVShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLm9wdGlvbnMoZSwgdCksIHIgPSBuLmluZGV4ID8gdGhpcy5zdG9yZS5pbmRleChuLmluZGV4KSA6IHRoaXMuc3RvcmU7XG4gICAgICAgIC8vIFVzZSBgZ2V0QWxsKClgIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIEluZGV4ZWREQiB2MywgYXMgaXQgaXMgcm91Z2hseVxuICAgICAgICAvLyAyMCUgZmFzdGVyLlxuICAgICAgICAgICAgICAgIGlmIChcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHIuZ2V0QWxsKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gci5nZXRBbGwobi5yYW5nZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgICAgICBlLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbihlLnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICAgICAgfSwgZS5vbnN1Y2Nlc3MgPSBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdChlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuY3Vyc29yKG4pLCB0ID0gW107XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5XKGUsICgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIHQucHVzaChuKTtcbiAgICAgICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIGZpcnN0IGBjb3VudGAgZWxlbWVudHMgZnJvbSB0aGUgcHJvdmlkZWQgaW5kZXggcmFuZ2UuIExvYWRzIGFsbFxuICAgICAqIGVsZW1lbnRzIGlmIG5vIGxpbWl0IGlzIHByb3ZpZGVkLlxuICAgICAqLyAgICBHKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuc3RvcmUuZ2V0QWxsKGUsIG51bGwgPT09IHQgPyB2b2lkIDAgOiB0KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBuLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICB0KGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIH0sIG4ub25zdWNjZXNzID0gdCA9PiB7XG4gICAgICAgICAgICAgICAgZSh0LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBqKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJERUxFVEUgQUxMXCIsIHRoaXMuc3RvcmUubmFtZSk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLm9wdGlvbnMoZSwgdCk7XG4gICAgICAgIG4uSCA9ICExO1xuICAgICAgICBjb25zdCByID0gdGhpcy5jdXJzb3Iobik7XG4gICAgICAgIHJldHVybiB0aGlzLlcociwgKChlLCB0LCBuKSA9PiBuLmRlbGV0ZSgpKSk7XG4gICAgfVxuICAgIEooZSwgdCkge1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgdCA/IG4gPSBlIDogKG4gPSB7fSwgdCA9IGUpO1xuICAgICAgICBjb25zdCByID0gdGhpcy5jdXJzb3Iobik7XG4gICAgICAgIHJldHVybiB0aGlzLlcociwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYSBzdG9yZSwgYnV0IHdhaXRzIGZvciB0aGUgZ2l2ZW4gY2FsbGJhY2sgdG8gY29tcGxldGUgZm9yXG4gICAgICogZWFjaCBlbnRyeSBiZWZvcmUgaXRlcmF0aW5nIHRoZSBuZXh0IGVudHJ5LiBUaGlzIGFsbG93cyB0aGUgY2FsbGJhY2sgdG8gZG9cbiAgICAgKiBhc3luY2hyb25vdXMgd29yayB0byBkZXRlcm1pbmUgaWYgdGhpcyBpdGVyYXRpb24gc2hvdWxkIGNvbnRpbnVlLlxuICAgICAqXG4gICAgICogVGhlIHByb3ZpZGVkIGNhbGxiYWNrIHNob3VsZCByZXR1cm4gYHRydWVgIHRvIGNvbnRpbnVlIGl0ZXJhdGlvbiwgYW5kXG4gICAgICogYGZhbHNlYCBvdGhlcndpc2UuXG4gICAgICovICAgIFkoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jdXJzb3Ioe30pO1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIHQub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2hlY2tGb3JBbmRSZXBvcnRpT1NFcnJvcihlLnRhcmdldC5lcnJvcik7XG4gICAgICAgICAgICAgICAgcih0KTtcbiAgICAgICAgICAgIH0sIHQub25zdWNjZXNzID0gdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IHQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICByID8gZShyLnByaW1hcnlLZXksIHIudmFsdWUpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlID8gci5jb250aW51ZSgpIDogbigpO1xuICAgICAgICAgICAgICAgIH0pKSA6IG4oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgVyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKChyLCBpKSA9PiB7XG4gICAgICAgICAgICBlLm9uZXJyb3IgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBpKGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIH0sIGUub25zdWNjZXNzID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICBpZiAoIWkpIHJldHVybiB2b2lkIHIoKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gbmV3IF9fUFJJVkFURV9JdGVyYXRpb25Db250cm9sbGVyKGkpLCBvID0gdChpLnByaW1hcnlLZXksIGkudmFsdWUsIHMpO1xuICAgICAgICAgICAgICAgIGlmIChvIGluc3RhbmNlb2YgUGVyc2lzdGVuY2VQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBvLmNhdGNoKChlID0+IChzLmRvbmUoKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlamVjdChlKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgbi5wdXNoKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzLmlzRG9uZSA/IHIoKSA6IG51bGwgPT09IHMuSyA/IGkuY29udGludWUoKSA6IGkuY29udGludWUocy5LKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihuKSkpO1xuICAgIH1cbiAgICBvcHRpb25zKGUsIHQpIHtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IGUgJiYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgPyBuID0gZSA6IHQgPSBlKSwge1xuICAgICAgICAgICAgaW5kZXg6IG4sXG4gICAgICAgICAgICByYW5nZTogdFxuICAgICAgICB9O1xuICAgIH1cbiAgICBjdXJzb3IoZSkge1xuICAgICAgICBsZXQgdCA9IFwibmV4dFwiO1xuICAgICAgICBpZiAoZS5yZXZlcnNlICYmICh0ID0gXCJwcmV2XCIpLCBlLmluZGV4KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5zdG9yZS5pbmRleChlLmluZGV4KTtcbiAgICAgICAgICAgIHJldHVybiBlLkggPyBuLm9wZW5LZXlDdXJzb3IoZS5yYW5nZSwgdCkgOiBuLm9wZW5DdXJzb3IoZS5yYW5nZSwgdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmUub3BlbkN1cnNvcihlLnJhbmdlLCB0KTtcbiAgICB9XG59XG5cbi8qKlxuICogV3JhcHMgYW4gSURCUmVxdWVzdCBpbiBhIFBlcnNpc3RlbmNlUHJvbWlzZSwgdXNpbmcgdGhlIG9uc3VjY2VzcyAvIG9uZXJyb3JcbiAqIGhhbmRsZXJzIHRvIHJlc29sdmUgLyByZWplY3QgdGhlIFBlcnNpc3RlbmNlUHJvbWlzZSBhcyBhcHByb3ByaWF0ZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfd3JhcFJlcXVlc3QoZSkge1xuICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgodCwgbikgPT4ge1xuICAgICAgICBlLm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgIHQobik7XG4gICAgICAgIH0sIGUub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yKGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgIG4odCk7XG4gICAgICAgIH07XG4gICAgfSkpO1xufVxuXG4vLyBHdWFyZCBzbyB3ZSBvbmx5IHJlcG9ydCB0aGUgZXJyb3Igb25jZS5cbmxldCBNID0gITE7XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX1NpbXBsZURiLlModXRpbC5nZXRVQSgpKTtcbiAgICBpZiAodCA+PSAxMi4yICYmIHQgPCAxMykge1xuICAgICAgICBjb25zdCB0ID0gXCJBbiBpbnRlcm5hbCBlcnJvciB3YXMgZW5jb3VudGVyZWQgaW4gdGhlIEluZGV4ZWQgRGF0YWJhc2Ugc2VydmVyXCI7XG4gICAgICAgIGlmIChlLm1lc3NhZ2UuaW5kZXhPZih0KSA+PSAwKSB7XG4gICAgICAgICAgICAvLyBXcmFwIGVycm9yIGluIGEgbW9yZSBkZXNjcmlwdGl2ZSBvbmUuXG4gICAgICAgICAgICBjb25zdCBlID0gbmV3IEZpcmVzdG9yZUVycm9yKFwiaW50ZXJuYWxcIiwgYElPU19JTkRFWEVEREJfQlVHMTogSW5kZXhlZERiIGhhcyB0aHJvd24gJyR7dH0nLiBUaGlzIGlzIGxpa2VseSBkdWUgdG8gYW4gdW5hdm9pZGFibGUgYnVnIGluIGlPUy4gU2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcS81NjQ5NjI5Ni8xMTA5MTUgZm9yIGRldGFpbHMgYW5kIGEgcG90ZW50aWFsIHdvcmthcm91bmQuYCk7XG4gICAgICAgICAgICByZXR1cm4gTSB8fCAoTSA9ICEwLCBcbiAgICAgICAgICAgIC8vIFRocm93IGEgZ2xvYmFsIGV4Y2VwdGlvbiBvdXRzaWRlIG9mIHRoaXMgcHJvbWlzZSBjaGFpbiwgZm9yIHRoZSB1c2VyIHRvXG4gICAgICAgICAgICAvLyBwb3RlbnRpYWxseSBjYXRjaC5cbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfSksIDApKSwgZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZTtcbn1cblxuLyoqIFRoaXMgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBzY2hlZHVsaW5nIG9mIEluZGV4IEJhY2tmaWxsZXIuICovXG5jbGFzcyBfX1BSSVZBVEVfSW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuYXN5bmNRdWV1ZSA9IGUsIHRoaXMuWiA9IHQsIHRoaXMudGFzayA9IG51bGw7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLlgoMTVlMyk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMudGFzayAmJiAodGhpcy50YXNrLmNhbmNlbCgpLCB0aGlzLnRhc2sgPSBudWxsKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0aGlzLnRhc2s7XG4gICAgfVxuICAgIFgoZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleEJhY2tmaWxsZXJcIiwgYFNjaGVkdWxlZCBpbiAke2V9bXNgKSwgdGhpcy50YXNrID0gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBZnRlckRlbGF5KFwiaW5kZXhfYmFja2ZpbGxcIiAvKiBUaW1lcklkLkluZGV4QmFja2ZpbGwgKi8gLCBlLCAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy50YXNrID0gbnVsbDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhCYWNrZmlsbGVyXCIsIGBEb2N1bWVudHMgd3JpdHRlbjogJHthd2FpdCB0aGlzLlouZWUoKX1gKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpID8gX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhCYWNrZmlsbGVyXCIsIFwiSWdub3JpbmcgSW5kZXhlZERCIGVycm9yIGR1cmluZyBpbmRleCBiYWNrZmlsbDogXCIsIGUpIDogYXdhaXQgX19QUklWQVRFX2lnbm9yZUlmUHJpbWFyeUxlYXNlTG9zcyhlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGF3YWl0IHRoaXMuWCg2ZTQpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKiogSW1wbGVtZW50cyB0aGUgc3RlcHMgZm9yIGJhY2tmaWxsaW5nIGluZGV4ZXMuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleEJhY2tmaWxsZXIge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIExvY2FsU3RvcmUgcHJvdmlkZXMgYWNjZXNzIHRvIEluZGV4TWFuYWdlciBhbmQgTG9jYWxEb2N1bWVudFZpZXcuXG4gICAgICogVGhlc2UgcHJvcGVydGllcyB3aWxsIHVwZGF0ZSB3aGVuIHRoZSB1c2VyIGNoYW5nZXMuIENvbnNlcXVlbnRseSxcbiAgICAgKiBtYWtpbmcgYSBsb2NhbCBjb3B5IG9mIEluZGV4TWFuYWdlciBhbmQgTG9jYWxEb2N1bWVudFZpZXcgd2lsbCByZXF1aXJlXG4gICAgICogdXBkYXRlcyBvdmVyIHRpbWUuIFRoZSBzaW1wbGVyIHNvbHV0aW9uIGlzIHRvIHJlbHkgb24gTG9jYWxTdG9yZSB0byBoYXZlXG4gICAgICogYW4gdXAtdG8tZGF0ZSByZWZlcmVuY2VzIHRvIEluZGV4TWFuYWdlciBhbmQgTG9jYWxEb2N1bWVudFN0b3JlLlxuICAgICAqL1xuICAgIGUsIHQpIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JlID0gZSwgdGhpcy5wZXJzaXN0ZW5jZSA9IHQ7XG4gICAgfVxuICAgIGFzeW5jIGVlKGUgPSA1MCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkJhY2tmaWxsIEluZGV4ZXNcIiwgXCJyZWFkd3JpdGUtcHJpbWFyeVwiLCAodCA9PiB0aGlzLnRlKHQsIGUpKSk7XG4gICAgfVxuICAgIC8qKiBXcml0ZXMgaW5kZXggZW50cmllcyB1bnRpbCB0aGUgY2FwIGlzIHJlYWNoZWQuIFJldHVybnMgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcHJvY2Vzc2VkLiAqLyAgICB0ZShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgU2V0O1xuICAgICAgICBsZXQgciA9IHQsIGkgPSAhMDtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5kb1doaWxlKCgoKSA9PiAhMCA9PT0gaSAmJiByID4gMCksICgoKSA9PiB0aGlzLmxvY2FsU3RvcmUuaW5kZXhNYW5hZ2VyLmdldE5leHRDb2xsZWN0aW9uR3JvdXBUb1VwZGF0ZShlKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSB0ICYmICFuLmhhcyh0KSkgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4QmFja2ZpbGxlclwiLCBgUHJvY2Vzc2luZyBjb2xsZWN0aW9uOiAke3R9YCksIFxuICAgICAgICAgICAgdGhpcy5uZShlLCB0LCByKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICByIC09IGUsIG4uYWRkKHQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaSA9ICExO1xuICAgICAgICB9KSkpKS5uZXh0KCgoKSA9PiB0IC0gcikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgZW50cmllcyBmb3IgdGhlIHByb3ZpZGVkIGNvbGxlY3Rpb24gZ3JvdXAuIFJldHVybnMgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcHJvY2Vzc2VkLlxuICAgICAqLyAgICBuZShlLCB0LCBuKSB7XG4gICAgICAgIC8vIFVzZSB0aGUgZWFybGllc3Qgb2Zmc2V0IG9mIGFsbCBmaWVsZCBpbmRleGVzIHRvIHF1ZXJ5IHRoZSBsb2NhbCBjYWNoZS5cbiAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yZS5pbmRleE1hbmFnZXIuZ2V0TWluT2Zmc2V0RnJvbUNvbGxlY3Rpb25Hcm91cChlLCB0KS5uZXh0KChyID0+IHRoaXMubG9jYWxTdG9yZS5sb2NhbERvY3VtZW50cy5nZXROZXh0RG9jdW1lbnRzKGUsIHQsIHIsIG4pLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IG4uY2hhbmdlcztcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsU3RvcmUuaW5kZXhNYW5hZ2VyLnVwZGF0ZUluZGV4RW50cmllcyhlLCBpKS5uZXh0KCgoKSA9PiB0aGlzLnJlKHIsIG4pKSkubmV4dCgobiA9PiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhCYWNrZmlsbGVyXCIsIGBVcGRhdGluZyBvZmZzZXQ6ICR7bn1gKSwgXG4gICAgICAgICAgICB0aGlzLmxvY2FsU3RvcmUuaW5kZXhNYW5hZ2VyLnVwZGF0ZUNvbGxlY3Rpb25Hcm91cChlLCB0LCBuKSkpKS5uZXh0KCgoKSA9PiBpLnNpemUpKTtcbiAgICAgICAgfSkpKSk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBuZXh0IG9mZnNldCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgZG9jdW1lbnRzLiAqLyAgICByZShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gZTtcbiAgICAgICAgcmV0dXJuIHQuY2hhbmdlcy5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9uZXdJbmRleE9mZnNldEZyb21Eb2N1bWVudCh0KTtcbiAgICAgICAgICAgIF9fUFJJVkFURV9pbmRleE9mZnNldENvbXBhcmF0b3IociwgbikgPiAwICYmIChuID0gcik7XG4gICAgICAgIH0pKSwgbmV3IEluZGV4T2Zmc2V0KG4ucmVhZFRpbWUsIG4uZG9jdW1lbnRLZXksIE1hdGgubWF4KHQuYmF0Y2hJZCwgZS5sYXJnZXN0QmF0Y2hJZCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogYExpc3RlblNlcXVlbmNlYCBpcyBhIG1vbm90b25pYyBzZXF1ZW5jZS4gSXQgaXMgaW5pdGlhbGl6ZWQgd2l0aCBhIG1pbmltdW0gdmFsdWUgdG9cbiAqIGV4Y2VlZC4gQWxsIHN1YnNlcXVlbnQgY2FsbHMgdG8gbmV4dCB3aWxsIHJldHVybiBpbmNyZWFzaW5nIHZhbHVlcy4gSWYgcHJvdmlkZWQgd2l0aCBhXG4gKiBgU2VxdWVuY2VOdW1iZXJTeW5jZXJgLCBpdCB3aWxsIGFkZGl0aW9uYWxseSBidW1wIGl0cyBuZXh0IHZhbHVlIHdoZW4gdG9sZCBvZiBhIG5ldyB2YWx1ZSwgYXNcbiAqIHdlbGwgYXMgd3JpdGUgb3V0IHNlcXVlbmNlIG51bWJlcnMgdGhhdCBpdCBwcm9kdWNlcyB2aWEgYG5leHQoKWAuXG4gKi8gY2xhc3MgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMucHJldmlvdXNWYWx1ZSA9IGUsIHQgJiYgKHQuc2VxdWVuY2VOdW1iZXJIYW5kbGVyID0gZSA9PiB0aGlzLmllKGUpLCB0aGlzLnNlID0gZSA9PiB0LndyaXRlU2VxdWVuY2VOdW1iZXIoZSkpO1xuICAgIH1cbiAgICBpZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXZpb3VzVmFsdWUgPSBNYXRoLm1heChlLCB0aGlzLnByZXZpb3VzVmFsdWUpLCB0aGlzLnByZXZpb3VzVmFsdWU7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IGUgPSArK3RoaXMucHJldmlvdXNWYWx1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2UgJiYgdGhpcy5zZShlKSwgZTtcbiAgICB9XG59XG5cbl9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZSA9IC0xO1xuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBhIHZhcmlhYmxlIGlzIGVpdGhlciB1bmRlZmluZWQgb3IgbnVsbC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2lzTnVsbE9yVW5kZWZpbmVkKGUpIHtcbiAgICByZXR1cm4gbnVsbCA9PSBlO1xufVxuXG4vKiogUmV0dXJucyB3aGV0aGVyIHRoZSB2YWx1ZSByZXByZXNlbnRzIC0wLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8oZSkge1xuICAgIC8vIERldGVjdCBpZiB0aGUgdmFsdWUgaXMgLTAuMC4gQmFzZWQgb24gcG9seWZpbGwgZnJvbVxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9pc1xuICAgIHJldHVybiAwID09PSBlICYmIDEgLyBlID09IC0xIC8gMDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgYSB2YWx1ZSBpcyBhbiBpbnRlZ2VyIGFuZCBpbiB0aGUgc2FmZSBpbnRlZ2VyIHJhbmdlXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gdGVzdCBmb3IgYmVpbmcgYW4gaW50ZWdlciBhbmQgaW4gdGhlIHNhZmUgcmFuZ2VcbiAqLyBmdW5jdGlvbiBpc1NhZmVJbnRlZ2VyKGUpIHtcbiAgICByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgZSAmJiBOdW1iZXIuaXNJbnRlZ2VyKGUpICYmICFfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8oZSkgJiYgZSA8PSBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiAmJiBlID49IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBFbmNvZGVzIGEgcmVzb3VyY2UgcGF0aCBpbnRvIGEgSW5kZXhlZERiLWNvbXBhdGlibGUgc3RyaW5nIGZvcm0uXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZSkge1xuICAgIGxldCB0ID0gXCJcIjtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHQubGVuZ3RoID4gMCAmJiAodCA9IF9fUFJJVkFURV9lbmNvZGVTZXBhcmF0b3IodCkpLCBcbiAgICB0ID0gX19QUklWQVRFX2VuY29kZVNlZ21lbnQoZS5nZXQobiksIHQpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfZW5jb2RlU2VwYXJhdG9yKHQpO1xufVxuXG4vKiogRW5jb2RlcyBhIHNpbmdsZSBzZWdtZW50IG9mIGEgcmVzb3VyY2UgcGF0aCBpbnRvIHRoZSBnaXZlbiByZXN1bHQgKi8gZnVuY3Rpb24gX19QUklWQVRFX2VuY29kZVNlZ21lbnQoZSwgdCkge1xuICAgIGxldCBuID0gdDtcbiAgICBjb25zdCByID0gZS5sZW5ndGg7XG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCByOyB0KyspIHtcbiAgICAgICAgY29uc3QgciA9IGUuY2hhckF0KHQpO1xuICAgICAgICBzd2l0Y2ggKHIpIHtcbiAgICAgICAgICBjYXNlIFwiXFwwXCI6XG4gICAgICAgICAgICBuICs9IFwiXHUwMDAxXHUwMDEwXCI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJcdTAwMDFcIjpcbiAgICAgICAgICAgIG4gKz0gXCJcdTAwMDFcdTAwMTFcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIG4gKz0gcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cblxuLyoqIEVuY29kZXMgYSBwYXRoIHNlcGFyYXRvciBpbnRvIHRoZSBnaXZlbiByZXN1bHQgKi8gZnVuY3Rpb24gX19QUklWQVRFX2VuY29kZVNlcGFyYXRvcihlKSB7XG4gICAgcmV0dXJuIGUgKyBcIlx1MDAwMVx1MDAwMVwiO1xufVxuXG4vKipcbiAqIERlY29kZXMgdGhlIGdpdmVuIEluZGV4ZWREYi1jb21wYXRpYmxlIHN0cmluZyBmb3JtIG9mIGEgcmVzb3VyY2UgcGF0aCBpbnRvXG4gKiBhIFJlc291cmNlUGF0aCBpbnN0YW5jZS4gTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGlzIG5vdCBzdWl0YWJsZSBmb3IgdXNlIHdpdGhcbiAqIGRlY29kaW5nIHJlc291cmNlIG5hbWVzIGZyb20gdGhlIHNlcnZlcjsgdGhvc2UgYXJlIE9uZSBQbGF0Zm9ybSBmb3JtYXRcbiAqIHN0cmluZ3MuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChlKSB7XG4gICAgLy8gRXZlbnQgdGhlIGVtcHR5IHBhdGggbXVzdCBlbmNvZGUgYXMgYSBwYXRoIG9mIGF0IGxlYXN0IGxlbmd0aCAyLiBBIHBhdGhcbiAgICAvLyB3aXRoIGV4YWN0bHkgMiBtdXN0IGJlIHRoZSBlbXB0eSBwYXRoLlxuICAgIGNvbnN0IHQgPSBlLmxlbmd0aDtcbiAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQodCA+PSAyKSwgMiA9PT0gdCkgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwiXHUwMDAxXCIgPT09IGUuY2hhckF0KDApICYmIFwiXHUwMDAxXCIgPT09IGUuY2hhckF0KDEpKSwgXG4gICAgUmVzb3VyY2VQYXRoLmVtcHR5UGF0aCgpO1xuICAgIC8vIEVzY2FwZSBjaGFyYWN0ZXJzIGNhbm5vdCBleGlzdCBwYXN0IHRoZSBzZWNvbmQtdG8tbGFzdCBwb3NpdGlvbiBpbiB0aGVcbiAgICAvLyBzb3VyY2UgdmFsdWUuXG4gICAgICAgIGNvbnN0IF9fUFJJVkFURV9sYXN0UmVhc29uYWJsZUVzY2FwZUluZGV4ID0gdCAtIDIsIG4gPSBbXTtcbiAgICBsZXQgciA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0OyApIHtcbiAgICAgICAgLy8gVGhlIGxhc3QgdHdvIGNoYXJhY3RlcnMgb2YgYSB2YWxpZCBlbmNvZGVkIHBhdGggbXVzdCBiZSBhIHNlcGFyYXRvciwgc29cbiAgICAgICAgLy8gdGhlcmUgbXVzdCBiZSBhbiBlbmQgdG8gdGhpcyBzZWdtZW50LlxuICAgICAgICBjb25zdCB0ID0gZS5pbmRleE9mKFwiXHUwMDAxXCIsIGkpO1xuICAgICAgICAodCA8IDAgfHwgdCA+IF9fUFJJVkFURV9sYXN0UmVhc29uYWJsZUVzY2FwZUluZGV4KSAmJiBmYWlsKCk7XG4gICAgICAgIHN3aXRjaCAoZS5jaGFyQXQodCArIDEpKSB7XG4gICAgICAgICAgY2FzZSBcIlx1MDAwMVwiOlxuICAgICAgICAgICAgY29uc3QgcyA9IGUuc3Vic3RyaW5nKGksIHQpO1xuICAgICAgICAgICAgbGV0IG87XG4gICAgICAgICAgICAwID09PSByLmxlbmd0aCA/IFxuICAgICAgICAgICAgLy8gQXZvaWQgY29weWluZyBmb3IgdGhlIGNvbW1vbiBjYXNlIG9mIGEgc2VnbWVudCB0aGF0IGV4Y2x1ZGVzIFxcMFxuICAgICAgICAgICAgLy8gYW5kIFxcMDAxXG4gICAgICAgICAgICBvID0gcyA6IChyICs9IHMsIG8gPSByLCByID0gXCJcIiksIG4ucHVzaChvKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIlx1MDAxMFwiOlxuICAgICAgICAgICAgciArPSBlLnN1YnN0cmluZyhpLCB0KSwgciArPSBcIlxcMFwiO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiXHUwMDExXCI6XG4gICAgICAgICAgICAvLyBUaGUgZXNjYXBlIGNoYXJhY3RlciBjYW4gYmUgdXNlZCBpbiB0aGUgb3V0cHV0IHRvIGVuY29kZSBpdHNlbGYuXG4gICAgICAgICAgICByICs9IGUuc3Vic3RyaW5nKGksIHQgKyAxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGZhaWwoKTtcbiAgICAgICAgfVxuICAgICAgICBpID0gdCArIDI7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVzb3VyY2VQYXRoKG4pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCB4ID0gWyBcInVzZXJJZFwiLCBcImJhdGNoSWRcIiBdO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBOYW1lIG9mIHRoZSBJbmRleGVkRGIgb2JqZWN0IHN0b3JlLlxuICpcbiAqIE5vdGUgdGhhdCB0aGUgbmFtZSAnb3duZXInIGlzIGNob3NlbiB0byBlbnN1cmUgYmFja3dhcmRzIGNvbXBhdGliaWxpdHkgd2l0aFxuICogb2xkZXIgY2xpZW50cyB0aGF0IG9ubHkgc3VwcG9ydGVkIHNpbmdsZSBsb2NrZWQgYWNjZXNzIHRvIHRoZSBwZXJzaXN0ZW5jZVxuICogbGF5ZXIuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIFt1c2VySWQsIGVuY29kZWRQYXRoXSBrZXkgZm9yIHVzZSBpbiB0aGUgRGJEb2N1bWVudE11dGF0aW9uc1xuICogaW5kZXggdG8gaXRlcmF0ZSBvdmVyIGFsbCBhdCBkb2N1bWVudCBtdXRhdGlvbnMgZm9yIGEgZ2l2ZW4gcGF0aCBvciBsb3dlci5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvblByZWZpeEZvclBhdGgoZSwgdCkge1xuICAgIHJldHVybiBbIGUsIF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodCkgXTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgZnVsbCBpbmRleCBrZXkgb2YgW3VzZXJJZCwgZW5jb2RlZFBhdGgsIGJhdGNoSWRdIGZvciBpbnNlcnRpbmdcbiAqIGFuZCBkZWxldGluZyBpbnRvIHRoZSBEYkRvY3VtZW50TXV0YXRpb25zIGluZGV4LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25LZXkoZSwgdCwgbikge1xuICAgIHJldHVybiBbIGUsIF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodCksIG4gXTtcbn1cblxuLyoqXG4gKiBCZWNhdXNlIHdlIHN0b3JlIGFsbCB0aGUgdXNlZnVsIGluZm9ybWF0aW9uIGZvciB0aGlzIHN0b3JlIGluIHRoZSBrZXksXG4gKiB0aGVyZSBpcyBubyB1c2VmdWwgaW5mb3JtYXRpb24gdG8gc3RvcmUgYXMgdGhlIHZhbHVlLiBUaGUgcmF3ICh1bmVuY29kZWQpXG4gKiBwYXRoIGNhbm5vdCBiZSBzdG9yZWQgYmVjYXVzZSBJbmRleGVkRGIgZG9lc24ndCBzdG9yZSBwcm90b3R5cGVcbiAqIGluZm9ybWF0aW9uLlxuICovIGNvbnN0IE8gPSB7fSwgTiA9IFsgXCJwcmVmaXhQYXRoXCIsIFwiY29sbGVjdGlvbkdyb3VwXCIsIFwicmVhZFRpbWVcIiwgXCJkb2N1bWVudElkXCIgXSwgTCA9IFsgXCJwcmVmaXhQYXRoXCIsIFwiY29sbGVjdGlvbkdyb3VwXCIsIFwiZG9jdW1lbnRJZFwiIF0sIEIgPSBbIFwiY29sbGVjdGlvbkdyb3VwXCIsIFwicmVhZFRpbWVcIiwgXCJwcmVmaXhQYXRoXCIsIFwiZG9jdW1lbnRJZFwiIF0sIGsgPSBbIFwiY2Fub25pY2FsSWRcIiwgXCJ0YXJnZXRJZFwiIF0sIHEgPSBbIFwidGFyZ2V0SWRcIiwgXCJwYXRoXCIgXSwgUSA9IFsgXCJwYXRoXCIsIFwidGFyZ2V0SWRcIiBdLCBLID0gWyBcImNvbGxlY3Rpb25JZFwiLCBcInBhcmVudFwiIF0sICQgPSBbIFwiaW5kZXhJZFwiLCBcInVpZFwiIF0sIFUgPSBbIFwidWlkXCIsIFwic2VxdWVuY2VOdW1iZXJcIiBdLCBXID0gWyBcImluZGV4SWRcIiwgXCJ1aWRcIiwgXCJhcnJheVZhbHVlXCIsIFwiZGlyZWN0aW9uYWxWYWx1ZVwiLCBcIm9yZGVyZWREb2N1bWVudEtleVwiLCBcImRvY3VtZW50S2V5XCIgXSwgRyA9IFsgXCJpbmRleElkXCIsIFwidWlkXCIsIFwib3JkZXJlZERvY3VtZW50S2V5XCIgXSwgeiA9IFsgXCJ1c2VySWRcIiwgXCJjb2xsZWN0aW9uUGF0aFwiLCBcImRvY3VtZW50SWRcIiBdLCBqID0gWyBcInVzZXJJZFwiLCBcImNvbGxlY3Rpb25QYXRoXCIsIFwibGFyZ2VzdEJhdGNoSWRcIiBdLCBIID0gWyBcInVzZXJJZFwiLCBcImNvbGxlY3Rpb25Hcm91cFwiLCBcImxhcmdlc3RCYXRjaElkXCIgXSwgSiA9IFsgLi4uWyAuLi5bIC4uLlsgLi4uWyBcIm11dGF0aW9uUXVldWVzXCIsIFwibXV0YXRpb25zXCIsIFwiZG9jdW1lbnRNdXRhdGlvbnNcIiwgXCJyZW1vdGVEb2N1bWVudHNcIiwgXCJ0YXJnZXRzXCIsIFwib3duZXJcIiwgXCJ0YXJnZXRHbG9iYWxcIiwgXCJ0YXJnZXREb2N1bWVudHNcIiBdLCBcImNsaWVudE1ldGFkYXRhXCIgXSwgXCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiIF0sIFwiY29sbGVjdGlvblBhcmVudHNcIiBdLCBcImJ1bmRsZXNcIiwgXCJuYW1lZFF1ZXJpZXNcIiBdLCBZID0gWyAuLi5KLCBcImRvY3VtZW50T3ZlcmxheXNcIiBdLCBaID0gWyBcIm11dGF0aW9uUXVldWVzXCIsIFwibXV0YXRpb25zXCIsIFwiZG9jdW1lbnRNdXRhdGlvbnNcIiwgXCJyZW1vdGVEb2N1bWVudHNWMTRcIiwgXCJ0YXJnZXRzXCIsIFwib3duZXJcIiwgXCJ0YXJnZXRHbG9iYWxcIiwgXCJ0YXJnZXREb2N1bWVudHNcIiwgXCJjbGllbnRNZXRhZGF0YVwiLCBcInJlbW90ZURvY3VtZW50R2xvYmFsXCIsIFwiY29sbGVjdGlvblBhcmVudHNcIiwgXCJidW5kbGVzXCIsIFwibmFtZWRRdWVyaWVzXCIsIFwiZG9jdW1lbnRPdmVybGF5c1wiIF0sIFggPSBaLCBlZSA9IFsgLi4uWCwgXCJpbmRleENvbmZpZ3VyYXRpb25cIiwgXCJpbmRleFN0YXRlXCIsIFwiaW5kZXhFbnRyaWVzXCIgXSwgdGUgPSBlZTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbiBleHRlbmRzIFBlcnNpc3RlbmNlVHJhbnNhY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5fZSA9IGUsIHRoaXMuY3VycmVudFNlcXVlbmNlTnVtYmVyID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRTdG9yZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9TaW1wbGVEYi5GKG4uX2UsIHQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfb2JqZWN0U2l6ZShlKSB7XG4gICAgbGV0IHQgPSAwO1xuICAgIGZvciAoY29uc3QgbiBpbiBlKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgbikgJiYgdCsrO1xuICAgIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBmb3JFYWNoKGUsIHQpIHtcbiAgICBmb3IgKGNvbnN0IG4gaW4gZSkgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIG4pICYmIHQobiwgZVtuXSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9tYXBUb0FycmF5KGUsIHQpIHtcbiAgICBjb25zdCBuID0gW107XG4gICAgZm9yIChjb25zdCByIGluIGUpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCByKSAmJiBuLnB1c2godChlW3JdLCByLCBlKSk7XG4gICAgcmV0dXJuIG47XG59XG5cbmZ1bmN0aW9uIGlzRW1wdHkoZSkge1xuICAgIGZvciAoY29uc3QgdCBpbiBlKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIHQpKSByZXR1cm4gITE7XG4gICAgcmV0dXJuICEwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gQW4gaW1tdXRhYmxlIHNvcnRlZCBtYXAgaW1wbGVtZW50YXRpb24sIGJhc2VkIG9uIGEgTGVmdC1sZWFuaW5nIFJlZC1CbGFja1xuLy8gdHJlZS5cbmNsYXNzIFNvcnRlZE1hcCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmNvbXBhcmF0b3IgPSBlLCB0aGlzLnJvb3QgPSB0IHx8IExMUkJOb2RlLkVNUFRZO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWFwLCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5L3ZhbHVlIGFkZGVkIG9yIHJlcGxhY2VkLlxuICAgIGluc2VydChlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwKHRoaXMuY29tcGFyYXRvciwgdGhpcy5yb290Lmluc2VydChlLCB0LCB0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCwgbnVsbCwgTExSQk5vZGUuQkxBQ0ssIG51bGwsIG51bGwpKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIG1hcCwgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSByZW1vdmVkLlxuICAgIHJlbW92ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwKHRoaXMuY29tcGFyYXRvciwgdGhpcy5yb290LnJlbW92ZShlLCB0aGlzLmNvbXBhcmF0b3IpLmNvcHkobnVsbCwgbnVsbCwgTExSQk5vZGUuQkxBQ0ssIG51bGwsIG51bGwpKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIG5vZGUgd2l0aCB0aGUgZ2l2ZW4ga2V5LCBvciBudWxsLlxuICAgIGdldChlKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy5yb290O1xuICAgICAgICBmb3IgKDshdC5pc0VtcHR5KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuY29tcGFyYXRvcihlLCB0LmtleSk7XG4gICAgICAgICAgICBpZiAoMCA9PT0gbikgcmV0dXJuIHQudmFsdWU7XG4gICAgICAgICAgICBuIDwgMCA/IHQgPSB0LmxlZnQgOiBuID4gMCAmJiAodCA9IHQucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCBpbiB0aGlzIHNvcnRlZCBtYXAsIG9yIC0xIGlmIGl0IGRvZXNuJ3RcbiAgICAvLyBleGlzdC5cbiAgICBpbmRleE9mKGUpIHtcbiAgICAgICAgLy8gTnVtYmVyIG9mIG5vZGVzIHRoYXQgd2VyZSBwcnVuZWQgd2hlbiBkZXNjZW5kaW5nIHJpZ2h0XG4gICAgICAgIGxldCB0ID0gMCwgbiA9IHRoaXMucm9vdDtcbiAgICAgICAgZm9yICg7IW4uaXNFbXB0eSgpOyApIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLmNvbXBhcmF0b3IoZSwgbi5rZXkpO1xuICAgICAgICAgICAgaWYgKDAgPT09IHIpIHJldHVybiB0ICsgbi5sZWZ0LnNpemU7XG4gICAgICAgICAgICByIDwgMCA/IG4gPSBuLmxlZnQgOiAoXG4gICAgICAgICAgICAvLyBDb3VudCBhbGwgbm9kZXMgbGVmdCBvZiB0aGUgbm9kZSBwbHVzIHRoZSBub2RlIGl0c2VsZlxuICAgICAgICAgICAgdCArPSBuLmxlZnQuc2l6ZSArIDEsIG4gPSBuLnJpZ2h0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBOb2RlIG5vdCBmb3VuZFxuICAgICAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5pc0VtcHR5KCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIHRvdGFsIG51bWJlciBvZiBub2RlcyBpbiB0aGUgbWFwLlxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LnNpemU7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1pbmltdW0ga2V5IGluIHRoZSBtYXAuXG4gICAgbWluS2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Lm1pbktleSgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIHRoZSBtYXhpbXVtIGtleSBpbiB0aGUgbWFwLlxuICAgIG1heEtleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5tYXhLZXkoKTtcbiAgICB9XG4gICAgLy8gVHJhdmVyc2VzIHRoZSBtYXAgaW4ga2V5IG9yZGVyIGFuZCBjYWxscyB0aGUgc3BlY2lmaWVkIGFjdGlvbiBmdW5jdGlvblxuICAgIC8vIGZvciBlYWNoIGtleS92YWx1ZSBwYWlyLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXMgYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgaW5vcmRlclRyYXZlcnNhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QuaW5vcmRlclRyYXZlcnNhbChlKTtcbiAgICB9XG4gICAgZm9yRWFjaChlKSB7XG4gICAgICAgIHRoaXMuaW5vcmRlclRyYXZlcnNhbCgoKHQsIG4pID0+IChlKHQsIG4pLCAhMSkpKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5vcmRlclRyYXZlcnNhbCgoKHQsIG4pID0+IChlLnB1c2goYCR7dH06JHtufWApLCAhMSkpKSwgYHske2Uuam9pbihcIiwgXCIpfX1gO1xuICAgIH1cbiAgICAvLyBUcmF2ZXJzZXMgdGhlIG1hcCBpbiByZXZlcnNlIGtleSBvcmRlciBhbmQgY2FsbHMgdGhlIHNwZWNpZmllZCBhY3Rpb25cbiAgICAvLyBmdW5jdGlvbiBmb3IgZWFjaCBrZXkvdmFsdWUgcGFpci4gSWYgYWN0aW9uIHJldHVybnMgdHJ1ZSwgdHJhdmVyc2FsIGlzXG4gICAgLy8gYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgcmV2ZXJzZVRyYXZlcnNhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QucmV2ZXJzZVRyYXZlcnNhbChlKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhbiBpdGVyYXRvciBvdmVyIHRoZSBTb3J0ZWRNYXAuXG4gICAgZ2V0SXRlcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwSXRlcmF0b3IodGhpcy5yb290LCBudWxsLCB0aGlzLmNvbXBhcmF0b3IsICExKTtcbiAgICB9XG4gICAgZ2V0SXRlcmF0b3JGcm9tKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXBJdGVyYXRvcih0aGlzLnJvb3QsIGUsIHRoaXMuY29tcGFyYXRvciwgITEpO1xuICAgIH1cbiAgICBnZXRSZXZlcnNlSXRlcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwSXRlcmF0b3IodGhpcy5yb290LCBudWxsLCB0aGlzLmNvbXBhcmF0b3IsICEwKTtcbiAgICB9XG4gICAgZ2V0UmV2ZXJzZUl0ZXJhdG9yRnJvbShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwSXRlcmF0b3IodGhpcy5yb290LCBlLCB0aGlzLmNvbXBhcmF0b3IsICEwKTtcbiAgICB9XG59XG5cbiAvLyBlbmQgU29ydGVkTWFwXG4vLyBBbiBpdGVyYXRvciBvdmVyIGFuIExMUkJOb2RlLlxuY2xhc3MgU29ydGVkTWFwSXRlcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgdGhpcy5pc1JldmVyc2UgPSByLCB0aGlzLm5vZGVTdGFjayA9IFtdO1xuICAgICAgICBsZXQgaSA9IDE7XG4gICAgICAgIGZvciAoOyFlLmlzRW1wdHkoKTsgKSBpZiAoaSA9IHQgPyBuKGUua2V5LCB0KSA6IDEsIFxuICAgICAgICAvLyBmbGlwIHRoZSBjb21wYXJpc29uIGlmIHdlJ3JlIGdvaW5nIGluIHJldmVyc2VcbiAgICAgICAgdCAmJiByICYmIChpICo9IC0xKSwgaSA8IDApIFxuICAgICAgICAvLyBUaGlzIG5vZGUgaXMgbGVzcyB0aGFuIG91ciBzdGFydCBrZXkuIGlnbm9yZSBpdFxuICAgICAgICBlID0gdGhpcy5pc1JldmVyc2UgPyBlLmxlZnQgOiBlLnJpZ2h0OyBlbHNlIHtcbiAgICAgICAgICAgIGlmICgwID09PSBpKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBub2RlIGlzIGV4YWN0bHkgZXF1YWwgdG8gb3VyIHN0YXJ0IGtleS4gUHVzaCBpdCBvbiB0aGUgc3RhY2ssXG4gICAgICAgICAgICAgICAgLy8gYnV0IHN0b3AgaXRlcmF0aW5nO1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZVN0YWNrLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUaGlzIG5vZGUgaXMgZ3JlYXRlciB0aGFuIG91ciBzdGFydCBrZXksIGFkZCBpdCB0byB0aGUgc3RhY2sgYW5kIG1vdmVcbiAgICAgICAgICAgIC8vIHRvIHRoZSBuZXh0IG9uZVxuICAgICAgICAgICAgdGhpcy5ub2RlU3RhY2sucHVzaChlKSwgZSA9IHRoaXMuaXNSZXZlcnNlID8gZS5yaWdodCA6IGUubGVmdDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXROZXh0KCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMubm9kZVN0YWNrLnBvcCgpO1xuICAgICAgICBjb25zdCB0ID0ge1xuICAgICAgICAgICAga2V5OiBlLmtleSxcbiAgICAgICAgICAgIHZhbHVlOiBlLnZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmlzUmV2ZXJzZSkgZm9yIChlID0gZS5sZWZ0OyAhZS5pc0VtcHR5KCk7ICkgdGhpcy5ub2RlU3RhY2sucHVzaChlKSwgZSA9IGUucmlnaHQ7IGVsc2UgZm9yIChlID0gZS5yaWdodDsgIWUuaXNFbXB0eSgpOyApIHRoaXMubm9kZVN0YWNrLnB1c2goZSksIFxuICAgICAgICBlID0gZS5sZWZ0O1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgaGFzTmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZVN0YWNrLmxlbmd0aCA+IDA7XG4gICAgfVxuICAgIHBlZWsoKSB7XG4gICAgICAgIGlmICgwID09PSB0aGlzLm5vZGVTdGFjay5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5ub2RlU3RhY2tbdGhpcy5ub2RlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IGUua2V5LFxuICAgICAgICAgICAgdmFsdWU6IGUudmFsdWVcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbiAvLyBlbmQgU29ydGVkTWFwSXRlcmF0b3Jcbi8vIFJlcHJlc2VudHMgYSBub2RlIGluIGEgTGVmdC1sZWFuaW5nIFJlZC1CbGFjayB0cmVlLlxuY2xhc3MgTExSQk5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBlLCB0aGlzLnZhbHVlID0gdCwgdGhpcy5jb2xvciA9IG51bGwgIT0gbiA/IG4gOiBMTFJCTm9kZS5SRUQsIHRoaXMubGVmdCA9IG51bGwgIT0gciA/IHIgOiBMTFJCTm9kZS5FTVBUWSwgXG4gICAgICAgIHRoaXMucmlnaHQgPSBudWxsICE9IGkgPyBpIDogTExSQk5vZGUuRU1QVFksIHRoaXMuc2l6ZSA9IHRoaXMubGVmdC5zaXplICsgMSArIHRoaXMucmlnaHQuc2l6ZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIGN1cnJlbnQgbm9kZSwgb3B0aW9uYWxseSByZXBsYWNpbmcgcGllY2VzIG9mIGl0LlxuICAgIGNvcHkoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICByZXR1cm4gbmV3IExMUkJOb2RlKG51bGwgIT0gZSA/IGUgOiB0aGlzLmtleSwgbnVsbCAhPSB0ID8gdCA6IHRoaXMudmFsdWUsIG51bGwgIT0gbiA/IG4gOiB0aGlzLmNvbG9yLCBudWxsICE9IHIgPyByIDogdGhpcy5sZWZ0LCBudWxsICE9IGkgPyBpIDogdGhpcy5yaWdodCk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgLy8gVHJhdmVyc2VzIHRoZSB0cmVlIGluIGtleSBvcmRlciBhbmQgY2FsbHMgdGhlIHNwZWNpZmllZCBhY3Rpb24gZnVuY3Rpb25cbiAgICAvLyBmb3IgZWFjaCBub2RlLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXMgYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgaW5vcmRlclRyYXZlcnNhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuaW5vcmRlclRyYXZlcnNhbChlKSB8fCBlKHRoaXMua2V5LCB0aGlzLnZhbHVlKSB8fCB0aGlzLnJpZ2h0Lmlub3JkZXJUcmF2ZXJzYWwoZSk7XG4gICAgfVxuICAgIC8vIFRyYXZlcnNlcyB0aGUgdHJlZSBpbiByZXZlcnNlIGtleSBvcmRlciBhbmQgY2FsbHMgdGhlIHNwZWNpZmllZCBhY3Rpb25cbiAgICAvLyBmdW5jdGlvbiBmb3IgZWFjaCBub2RlLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXMgYWJvcnRlZC5cbiAgICAvLyBSZXR1cm5zIHRoZSBmaXJzdCB0cnV0aHkgdmFsdWUgcmV0dXJuZWQgYnkgYWN0aW9uLCBvciB0aGUgbGFzdCBmYWxzZXlcbiAgICAvLyB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24uXG4gICAgcmV2ZXJzZVRyYXZlcnNhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJpZ2h0LnJldmVyc2VUcmF2ZXJzYWwoZSkgfHwgZSh0aGlzLmtleSwgdGhpcy52YWx1ZSkgfHwgdGhpcy5sZWZ0LnJldmVyc2VUcmF2ZXJzYWwoZSk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1pbmltdW0gbm9kZSBpbiB0aGUgdHJlZS5cbiAgICBtaW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuaXNFbXB0eSgpID8gdGhpcyA6IHRoaXMubGVmdC5taW4oKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgbWF4aW11bSBrZXkgaW4gdGhlIHRyZWUuXG4gICAgbWluS2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oKS5rZXk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1heGltdW0ga2V5IGluIHRoZSB0cmVlLlxuICAgIG1heEtleSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmlnaHQuaXNFbXB0eSgpID8gdGhpcy5rZXkgOiB0aGlzLnJpZ2h0Lm1heEtleSgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIG5ldyB0cmVlLCB3aXRoIHRoZSBrZXkvdmFsdWUgYWRkZWQuXG4gICAgaW5zZXJ0KGUsIHQsIG4pIHtcbiAgICAgICAgbGV0IHIgPSB0aGlzO1xuICAgICAgICBjb25zdCBpID0gbihlLCByLmtleSk7XG4gICAgICAgIHJldHVybiByID0gaSA8IDAgPyByLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgci5sZWZ0Lmluc2VydChlLCB0LCBuKSwgbnVsbCkgOiAwID09PSBpID8gci5jb3B5KG51bGwsIHQsIG51bGwsIG51bGwsIG51bGwpIDogci5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIHIucmlnaHQuaW5zZXJ0KGUsIHQsIG4pKSwgXG4gICAgICAgIHIuZml4VXAoKTtcbiAgICB9XG4gICAgcmVtb3ZlTWluKCkge1xuICAgICAgICBpZiAodGhpcy5sZWZ0LmlzRW1wdHkoKSkgcmV0dXJuIExMUkJOb2RlLkVNUFRZO1xuICAgICAgICBsZXQgZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBlLmxlZnQuaXNSZWQoKSB8fCBlLmxlZnQubGVmdC5pc1JlZCgpIHx8IChlID0gZS5tb3ZlUmVkTGVmdCgpKSwgZSA9IGUuY29weShudWxsLCBudWxsLCBudWxsLCBlLmxlZnQucmVtb3ZlTWluKCksIG51bGwpLCBcbiAgICAgICAgZS5maXhVcCgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIG5ldyB0cmVlLCB3aXRoIHRoZSBzcGVjaWZpZWQgaXRlbSByZW1vdmVkLlxuICAgIHJlbW92ZShlLCB0KSB7XG4gICAgICAgIGxldCBuLCByID0gdGhpcztcbiAgICAgICAgaWYgKHQoZSwgci5rZXkpIDwgMCkgci5sZWZ0LmlzRW1wdHkoKSB8fCByLmxlZnQuaXNSZWQoKSB8fCByLmxlZnQubGVmdC5pc1JlZCgpIHx8IChyID0gci5tb3ZlUmVkTGVmdCgpKSwgXG4gICAgICAgIHIgPSByLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgci5sZWZ0LnJlbW92ZShlLCB0KSwgbnVsbCk7IGVsc2Uge1xuICAgICAgICAgICAgaWYgKHIubGVmdC5pc1JlZCgpICYmIChyID0gci5yb3RhdGVSaWdodCgpKSwgci5yaWdodC5pc0VtcHR5KCkgfHwgci5yaWdodC5pc1JlZCgpIHx8IHIucmlnaHQubGVmdC5pc1JlZCgpIHx8IChyID0gci5tb3ZlUmVkUmlnaHQoKSksIFxuICAgICAgICAgICAgMCA9PT0gdChlLCByLmtleSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoci5yaWdodC5pc0VtcHR5KCkpIHJldHVybiBMTFJCTm9kZS5FTVBUWTtcbiAgICAgICAgICAgICAgICBuID0gci5yaWdodC5taW4oKSwgciA9IHIuY29weShuLmtleSwgbi52YWx1ZSwgbnVsbCwgbnVsbCwgci5yaWdodC5yZW1vdmVNaW4oKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByID0gci5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIHIucmlnaHQucmVtb3ZlKGUsIHQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gci5maXhVcCgpO1xuICAgIH1cbiAgICBpc1JlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sb3I7XG4gICAgfVxuICAgIC8vIFJldHVybnMgbmV3IHRyZWUgYWZ0ZXIgcGVyZm9ybWluZyBhbnkgbmVlZGVkIHJvdGF0aW9ucy5cbiAgICBmaXhVcCgpIHtcbiAgICAgICAgbGV0IGUgPSB0aGlzO1xuICAgICAgICByZXR1cm4gZS5yaWdodC5pc1JlZCgpICYmICFlLmxlZnQuaXNSZWQoKSAmJiAoZSA9IGUucm90YXRlTGVmdCgpKSwgZS5sZWZ0LmlzUmVkKCkgJiYgZS5sZWZ0LmxlZnQuaXNSZWQoKSAmJiAoZSA9IGUucm90YXRlUmlnaHQoKSksIFxuICAgICAgICBlLmxlZnQuaXNSZWQoKSAmJiBlLnJpZ2h0LmlzUmVkKCkgJiYgKGUgPSBlLmNvbG9yRmxpcCgpKSwgZTtcbiAgICB9XG4gICAgbW92ZVJlZExlZnQoKSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5jb2xvckZsaXAoKTtcbiAgICAgICAgcmV0dXJuIGUucmlnaHQubGVmdC5pc1JlZCgpICYmIChlID0gZS5jb3B5KG51bGwsIG51bGwsIG51bGwsIG51bGwsIGUucmlnaHQucm90YXRlUmlnaHQoKSksIFxuICAgICAgICBlID0gZS5yb3RhdGVMZWZ0KCksIGUgPSBlLmNvbG9yRmxpcCgpKSwgZTtcbiAgICB9XG4gICAgbW92ZVJlZFJpZ2h0KCkge1xuICAgICAgICBsZXQgZSA9IHRoaXMuY29sb3JGbGlwKCk7XG4gICAgICAgIHJldHVybiBlLmxlZnQubGVmdC5pc1JlZCgpICYmIChlID0gZS5yb3RhdGVSaWdodCgpLCBlID0gZS5jb2xvckZsaXAoKSksIGU7XG4gICAgfVxuICAgIHJvdGF0ZUxlZnQoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmNvcHkobnVsbCwgbnVsbCwgTExSQk5vZGUuUkVELCBudWxsLCB0aGlzLnJpZ2h0LmxlZnQpO1xuICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5jb3B5KG51bGwsIG51bGwsIHRoaXMuY29sb3IsIGUsIG51bGwpO1xuICAgIH1cbiAgICByb3RhdGVSaWdodCgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY29weShudWxsLCBudWxsLCBMTFJCTm9kZS5SRUQsIHRoaXMubGVmdC5yaWdodCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmxlZnQuY29weShudWxsLCBudWxsLCB0aGlzLmNvbG9yLCBudWxsLCBlKTtcbiAgICB9XG4gICAgY29sb3JGbGlwKCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5sZWZ0LmNvcHkobnVsbCwgbnVsbCwgIXRoaXMubGVmdC5jb2xvciwgbnVsbCwgbnVsbCksIHQgPSB0aGlzLnJpZ2h0LmNvcHkobnVsbCwgbnVsbCwgIXRoaXMucmlnaHQuY29sb3IsIG51bGwsIG51bGwpO1xuICAgICAgICByZXR1cm4gdGhpcy5jb3B5KG51bGwsIG51bGwsICF0aGlzLmNvbG9yLCBlLCB0KTtcbiAgICB9XG4gICAgLy8gRm9yIHRlc3RpbmcuXG4gICAgY2hlY2tNYXhEZXB0aCgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY2hlY2soKTtcbiAgICAgICAgcmV0dXJuIE1hdGgucG93KDIsIGUpIDw9IHRoaXMuc2l6ZSArIDE7XG4gICAgfVxuICAgIC8vIEluIGEgYmFsYW5jZWQgUkIgdHJlZSwgdGhlIGJsYWNrLWRlcHRoIChudW1iZXIgb2YgYmxhY2sgbm9kZXMpIGZyb20gcm9vdCB0b1xuICAgIC8vIGxlYXZlcyBpcyBlcXVhbCBvbiBib3RoIHNpZGVzLiAgVGhpcyBmdW5jdGlvbiB2ZXJpZmllcyB0aGF0IG9yIGFzc2VydHMuXG4gICAgY2hlY2soKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUmVkKCkgJiYgdGhpcy5sZWZ0LmlzUmVkKCkpIHRocm93IGZhaWwoKTtcbiAgICAgICAgaWYgKHRoaXMucmlnaHQuaXNSZWQoKSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5sZWZ0LmNoZWNrKCk7XG4gICAgICAgIGlmIChlICE9PSB0aGlzLnJpZ2h0LmNoZWNrKCkpIHRocm93IGZhaWwoKTtcbiAgICAgICAgcmV0dXJuIGUgKyAodGhpcy5pc1JlZCgpID8gMCA6IDEpO1xuICAgIH1cbn1cblxuIC8vIGVuZCBMTFJCTm9kZVxuLy8gRW1wdHkgbm9kZSBpcyBzaGFyZWQgYmV0d2VlbiBhbGwgTExSQiB0cmVlcy5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5MTFJCTm9kZS5FTVBUWSA9IG51bGwsIExMUkJOb2RlLlJFRCA9ICEwLCBMTFJCTm9kZS5CTEFDSyA9ICExO1xuXG4vLyBlbmQgTExSQkVtcHR5Tm9kZVxuTExSQk5vZGUuRU1QVFkgPSBuZXcgXG4vLyBSZXByZXNlbnRzIGFuIGVtcHR5IG5vZGUgKGEgbGVhZiBub2RlIGluIHRoZSBSZWQtQmxhY2sgVHJlZSkuXG5jbGFzcyBMTFJCRW1wdHlOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG4gICAgZ2V0IGtleSgpIHtcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbiAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG4gICAgZ2V0IGNvbG9yKCkge1xuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxuICAgIGdldCBsZWZ0KCkge1xuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxuICAgIGdldCByaWdodCgpIHtcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBub2RlLlxuICAgIGNvcHkoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIHRyZWUsIHdpdGggdGhlIHNwZWNpZmllZCBrZXkvdmFsdWUgYWRkZWQuXG4gICAgaW5zZXJ0KGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMTFJCTm9kZShlLCB0KTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIGNvcHkgb2YgdGhlIHRyZWUsIHdpdGggdGhlIHNwZWNpZmllZCBrZXkgcmVtb3ZlZC5cbiAgICByZW1vdmUoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBpbm9yZGVyVHJhdmVyc2FsKGUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXZlcnNlVHJhdmVyc2FsKGUpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBtaW5LZXkoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBtYXhLZXkoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpc1JlZCgpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvLyBGb3IgdGVzdGluZy5cbiAgICBjaGVja01heERlcHRoKCkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGNoZWNrKCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBTb3J0ZWRTZXQgaXMgYW4gaW1tdXRhYmxlIChjb3B5LW9uLXdyaXRlKSBjb2xsZWN0aW9uIHRoYXQgaG9sZHMgZWxlbWVudHNcbiAqIGluIG9yZGVyIHNwZWNpZmllZCBieSB0aGUgcHJvdmlkZWQgY29tcGFyYXRvci5cbiAqXG4gKiBOT1RFOiBpZiBwcm92aWRlZCBjb21wYXJhdG9yIHJldHVybnMgMCBmb3IgdHdvIGVsZW1lbnRzLCB3ZSBjb25zaWRlciB0aGVtIHRvXG4gKiBiZSBlcXVhbCFcbiAqL1xuY2xhc3MgU29ydGVkU2V0IHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuY29tcGFyYXRvciA9IGUsIHRoaXMuZGF0YSA9IG5ldyBTb3J0ZWRNYXAodGhpcy5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgaGFzKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHRoaXMuZGF0YS5nZXQoZSk7XG4gICAgfVxuICAgIGZpcnN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm1pbktleSgpO1xuICAgIH1cbiAgICBsYXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLm1heEtleSgpO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5zaXplO1xuICAgIH1cbiAgICBpbmRleE9mKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5pbmRleE9mKGUpO1xuICAgIH1cbiAgICAvKiogSXRlcmF0ZXMgZWxlbWVudHMgaW4gb3JkZXIgZGVmaW5lZCBieSBcImNvbXBhcmF0b3JcIiAqLyAgICBmb3JFYWNoKGUpIHtcbiAgICAgICAgdGhpcy5kYXRhLmlub3JkZXJUcmF2ZXJzYWwoKCh0LCBuKSA9PiAoZSh0KSwgITEpKSk7XG4gICAgfVxuICAgIC8qKiBJdGVyYXRlcyBvdmVyIGBlbGVtYHMgc3VjaCB0aGF0OiByYW5nZVswXSAmbHQ7PSBlbGVtICZsdDsgcmFuZ2VbMV0uICovICAgIGZvckVhY2hJblJhbmdlKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZVswXSk7XG4gICAgICAgIGZvciAoO24uaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBuLmdldE5leHQoKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbXBhcmF0b3Ioci5rZXksIGVbMV0pID49IDApIHJldHVybjtcbiAgICAgICAgICAgIHQoci5rZXkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYGVsZW1gcyBzdWNoIHRoYXQ6IHN0YXJ0ICZsdDs9IGVsZW0gdW50aWwgZmFsc2UgaXMgcmV0dXJuZWQuXG4gICAgICovICAgIGZvckVhY2hXaGlsZShlLCB0KSB7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBmb3IgKG4gPSB2b2lkIDAgIT09IHQgPyB0aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKHQpIDogdGhpcy5kYXRhLmdldEl0ZXJhdG9yKCk7IG4uaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGlmICghZShuLmdldE5leHQoKS5rZXkpKSByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEZpbmRzIHRoZSBsZWFzdCBlbGVtZW50IGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBgZWxlbWAuICovICAgIGZpcnN0QWZ0ZXJPckVxdWFsKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZSk7XG4gICAgICAgIHJldHVybiB0Lmhhc05leHQoKSA/IHQuZ2V0TmV4dCgpLmtleSA6IG51bGw7XG4gICAgfVxuICAgIGdldEl0ZXJhdG9yKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNvcnRlZFNldEl0ZXJhdG9yKHRoaXMuZGF0YS5nZXRJdGVyYXRvcigpKTtcbiAgICB9XG4gICAgZ2V0SXRlcmF0b3JGcm9tKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRTZXRJdGVyYXRvcih0aGlzLmRhdGEuZ2V0SXRlcmF0b3JGcm9tKGUpKTtcbiAgICB9XG4gICAgLyoqIEluc2VydHMgb3IgdXBkYXRlcyBhbiBlbGVtZW50ICovICAgIGFkZChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHkodGhpcy5kYXRhLnJlbW92ZShlKS5pbnNlcnQoZSwgITApKTtcbiAgICB9XG4gICAgLyoqIERlbGV0ZXMgYW4gZWxlbWVudCAqLyAgICBkZWxldGUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXMoZSkgPyB0aGlzLmNvcHkodGhpcy5kYXRhLnJlbW92ZShlKSkgOiB0aGlzO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmlzRW1wdHkoKTtcbiAgICB9XG4gICAgdW5pb25XaXRoKGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzO1xuICAgICAgICAvLyBNYWtlIHN1cmUgYHJlc3VsdGAgYWx3YXlzIHJlZmVycyB0byB0aGUgbGFyZ2VyIG9uZSBvZiB0aGUgdHdvIHNldHMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHQuc2l6ZSA8IGUuc2l6ZSAmJiAodCA9IGUsIGUgPSB0aGlzKSwgZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHQgPSB0LmFkZChlKTtcbiAgICAgICAgfSkpLCB0O1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIFNvcnRlZFNldCkpIHJldHVybiAhMTtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gZS5zaXplKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmRhdGEuZ2V0SXRlcmF0b3IoKSwgbiA9IGUuZGF0YS5nZXRJdGVyYXRvcigpO1xuICAgICAgICBmb3IgKDt0Lmhhc05leHQoKTsgKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5nZXROZXh0KCkua2V5LCByID0gbi5nZXROZXh0KCkua2V5O1xuICAgICAgICAgICAgaWYgKDAgIT09IHRoaXMuY29tcGFyYXRvcihlLCByKSkgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGUucHVzaCh0KTtcbiAgICAgICAgfSkpLCBlO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh0ID0+IGUucHVzaCh0KSkpLCBcIlNvcnRlZFNldChcIiArIGUudG9TdHJpbmcoKSArIFwiKVwiO1xuICAgIH1cbiAgICBjb3B5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBTb3J0ZWRTZXQodGhpcy5jb21wYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIHQuZGF0YSA9IGUsIHQ7XG4gICAgfVxufVxuXG5jbGFzcyBTb3J0ZWRTZXRJdGVyYXRvciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLml0ZXIgPSBlO1xuICAgIH1cbiAgICBnZXROZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyLmdldE5leHQoKS5rZXk7XG4gICAgfVxuICAgIGhhc05leHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXIuaGFzTmV4dCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gc29ydGVkIHNldHMgZm9yIGVxdWFsaXR5IHVzaW5nIHRoZWlyIG5hdHVyYWwgb3JkZXJpbmcuIFRoZVxuICogbWV0aG9kIGNvbXB1dGVzIHRoZSBpbnRlcnNlY3Rpb24gYW5kIGludm9rZXMgYG9uQWRkYCBmb3IgZXZlcnkgZWxlbWVudCB0aGF0XG4gKiBpcyBpbiBgYWZ0ZXJgIGJ1dCBub3QgYGJlZm9yZWAuIGBvblJlbW92ZWAgaXMgaW52b2tlZCBmb3IgZXZlcnkgZWxlbWVudCBpblxuICogYGJlZm9yZWAgYnV0IG1pc3NpbmcgZnJvbSBgYWZ0ZXJgLlxuICpcbiAqIFRoZSBtZXRob2QgY3JlYXRlcyBhIGNvcHkgb2YgYm90aCBgYmVmb3JlYCBhbmQgYGFmdGVyYCBhbmQgcnVucyBpbiBPKG4gbG9nXG4gKiBuKSwgd2hlcmUgbiBpcyB0aGUgc2l6ZSBvZiB0aGUgdHdvIGxpc3RzLlxuICpcbiAqIEBwYXJhbSBiZWZvcmUgLSBUaGUgZWxlbWVudHMgdGhhdCBleGlzdCBpbiB0aGUgb3JpZ2luYWwgc2V0LlxuICogQHBhcmFtIGFmdGVyIC0gVGhlIGVsZW1lbnRzIHRvIGRpZmYgYWdhaW5zdCB0aGUgb3JpZ2luYWwgc2V0LlxuICogQHBhcmFtIGNvbXBhcmF0b3IgLSBUaGUgY29tcGFyYXRvciBmb3IgdGhlIGVsZW1lbnRzIGluIGJlZm9yZSBhbmQgYWZ0ZXIuXG4gKiBAcGFyYW0gb25BZGQgLSBBIGZ1bmN0aW9uIHRvIGludm9rZSBmb3IgZXZlcnkgZWxlbWVudCB0aGF0IGlzIHBhcnQgb2YgYFxuICogYWZ0ZXJgIGJ1dCBub3QgYGJlZm9yZWAuXG4gKiBAcGFyYW0gb25SZW1vdmUgLSBBIGZ1bmN0aW9uIHRvIGludm9rZSBmb3IgZXZlcnkgZWxlbWVudCB0aGF0IGlzIHBhcnQgb2ZcbiAqIGBiZWZvcmVgIGJ1dCBub3QgYGFmdGVyYC5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBuZXh0IGVsZW1lbnQgZnJvbSB0aGUgaXRlcmF0b3Igb3IgYHVuZGVmaW5lZGAgaWYgbm9uZSBhdmFpbGFibGUuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9hZHZhbmNlSXRlcmF0b3IoZSkge1xuICAgIHJldHVybiBlLmhhc05leHQoKSA/IGUuZ2V0TmV4dCgpIDogdm9pZCAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQcm92aWRlcyBhIHNldCBvZiBmaWVsZHMgdGhhdCBjYW4gYmUgdXNlZCB0byBwYXJ0aWFsbHkgcGF0Y2ggYSBkb2N1bWVudC5cbiAqIEZpZWxkTWFzayBpcyB1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggT2JqZWN0VmFsdWUuXG4gKiBFeGFtcGxlczpcbiAqICAgZm9vIC0gT3ZlcndyaXRlcyBmb28gZW50aXJlbHkgd2l0aCB0aGUgcHJvdmlkZWQgdmFsdWUuIElmIGZvbyBpcyBub3RcbiAqICAgICAgICAgcHJlc2VudCBpbiB0aGUgY29tcGFuaW9uIE9iamVjdFZhbHVlLCB0aGUgZmllbGQgaXMgZGVsZXRlZC5cbiAqICAgZm9vLmJhciAtIE92ZXJ3cml0ZXMgb25seSB0aGUgZmllbGQgYmFyIG9mIHRoZSBvYmplY3QgZm9vLlxuICogICAgICAgICAgICAgSWYgZm9vIGlzIG5vdCBhbiBvYmplY3QsIGZvbyBpcyByZXBsYWNlZCB3aXRoIGFuIG9iamVjdFxuICogICAgICAgICAgICAgY29udGFpbmluZyBmb29cbiAqLyBjbGFzcyBGaWVsZE1hc2sge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBlLCBcbiAgICAgICAgLy8gVE9ETyhkaW1vbmQpOiB2YWxpZGF0aW9uIG9mIEZpZWxkTWFza1xuICAgICAgICAvLyBTb3J0IHRoZSBmaWVsZCBtYXNrIHRvIHN1cHBvcnQgYEZpZWxkTWFzay5pc0VxdWFsKClgIGFuZCBhc3NlcnQgYmVsb3cuXG4gICAgICAgIGUuc29ydChGaWVsZFBhdGgkMS5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkTWFzayhbXSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgRmllbGRNYXNrIG9iamVjdCB0aGF0IGlzIHRoZSByZXN1bHQgb2YgYWRkaW5nIGFsbCB0aGUgZ2l2ZW5cbiAgICAgKiBmaWVsZHMgcGF0aHMgdG8gdGhpcyBmaWVsZCBtYXNrLlxuICAgICAqLyAgICB1bmlvbldpdGgoZSkge1xuICAgICAgICBsZXQgdCA9IG5ldyBTb3J0ZWRTZXQoRmllbGRQYXRoJDEuY29tcGFyYXRvcik7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLmZpZWxkcykgdCA9IHQuYWRkKGUpO1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZSkgdCA9IHQuYWRkKG4pO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkTWFzayh0LnRvQXJyYXkoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZlcmlmaWVzIHRoYXQgYGZpZWxkUGF0aGAgaXMgaW5jbHVkZWQgYnkgYXQgbGVhc3Qgb25lIGZpZWxkIGluIHRoaXMgZmllbGRcbiAgICAgKiBtYXNrLlxuICAgICAqXG4gICAgICogVGhpcyBpcyBhbiBPKG4pIG9wZXJhdGlvbiwgd2hlcmUgYG5gIGlzIHRoZSBzaXplIG9mIHRoZSBmaWVsZCBtYXNrLlxuICAgICAqLyAgICBjb3ZlcnMoZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5maWVsZHMpIGlmICh0LmlzUHJlZml4T2YoZSkpIHJldHVybiAhMDtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9hcnJheUVxdWFscyh0aGlzLmZpZWxkcywgZS5maWVsZHMsICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBlcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBkZWNvZGluZyBiYXNlNjQgc3RyaW5nLlxuICovIGNsYXNzIF9fUFJJVkFURV9CYXNlNjREZWNvZGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKSwgdGhpcy5uYW1lID0gXCJCYXNlNjREZWNvZGVFcnJvclwiO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBDb252ZXJ0cyBhIEJhc2U2NCBlbmNvZGVkIHN0cmluZyB0byBhIGJpbmFyeSBzdHJpbmcuICovXG4vKiogVHJ1ZSBpZiBhbmQgb25seSBpZiB0aGUgQmFzZTY0IGNvbnZlcnNpb24gZnVuY3Rpb25zIGFyZSBhdmFpbGFibGUuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfaXNCYXNlNjRBdmFpbGFibGUoKSB7XG4gICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGF0b2I7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEltbXV0YWJsZSBjbGFzcyB0aGF0IHJlcHJlc2VudHMgYSBcInByb3RvXCIgYnl0ZSBzdHJpbmcuXG4gKlxuICogUHJvdG8gYnl0ZSBzdHJpbmdzIGNhbiBlaXRoZXIgYmUgQmFzZTY0LWVuY29kZWQgc3RyaW5ncyBvciBVaW50OEFycmF5cyB3aGVuXG4gKiBzZW50IG9uIHRoZSB3aXJlLiBUaGlzIGNsYXNzIGFic3RyYWN0cyBhd2F5IHRoaXMgZGlmZmVyZW50aWF0aW9uIGJ5IGhvbGRpbmdcbiAqIHRoZSBwcm90byBieXRlIHN0cmluZyBpbiBhIGNvbW1vbiBjbGFzcyB0aGF0IG11c3QgYmUgY29udmVydGVkIGludG8gYSBzdHJpbmdcbiAqIGJlZm9yZSBiZWluZyBzZW50IGFzIGEgcHJvdG8uXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBCeXRlU3RyaW5nIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuYmluYXJ5U3RyaW5nID0gZTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21CYXNlNjRTdHJpbmcoZSkge1xuICAgICAgICBjb25zdCB0ID0gZnVuY3Rpb24gX19QUklWQVRFX2RlY29kZUJhc2U2NChlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhdG9iKGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgYERPTUV4Y2VwdGlvbmAgaXMgZGVmaW5lZCBiZWZvcmUgdXNpbmcgaXQgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAvLyBcIlJlZmVyZW5jZUVycm9yOiBQcm9wZXJ0eSAnRE9NRXhjZXB0aW9uJyBkb2Vzbid0IGV4aXN0XCIgaW4gcmVhY3QtbmF0aXZlLlxuICAgICAgICAgICAgICAgIC8vIChodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtanMtc2RrL2lzc3Vlcy83MTE1KVxuICAgICAgICAgICAgICAgIHRocm93IFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIERPTUV4Y2VwdGlvbiAmJiBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uID8gbmV3IF9fUFJJVkFURV9CYXNlNjREZWNvZGVFcnJvcihcIkludmFsaWQgYmFzZTY0IHN0cmluZzogXCIgKyBlKSA6IGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyoqIENvbnZlcnRzIGEgYmluYXJ5IHN0cmluZyB0byBhIEJhc2U2NCBlbmNvZGVkIHN0cmluZy4gKi8gKGUpO1xuICAgICAgICByZXR1cm4gbmV3IEJ5dGVTdHJpbmcodCk7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVWludDhBcnJheShlKSB7XG4gICAgICAgIC8vIFRPRE8oaW5kZXhpbmcpOyBSZW1vdmUgdGhlIGNvcHkgb2YgdGhlIGJ5dGUgc3RyaW5nIGhlcmUgYXMgdGhpcyBtZXRob2RcbiAgICAgICAgLy8gaXMgZnJlcXVlbnRseSBjYWxsZWQgZHVyaW5nIGluZGV4aW5nLlxuICAgICAgICBjb25zdCB0ID0gXG4gICAgICAgIC8qKlxuICogSGVscGVyIGZ1bmN0aW9uIHRvIGNvbnZlcnQgYW4gVWludDhhcnJheSB0byBhIGJpbmFyeSBzdHJpbmcuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2JpbmFyeVN0cmluZ0Zyb21VaW50OEFycmF5KGUpIHtcbiAgICAgICAgICAgIGxldCB0ID0gXCJcIjtcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5sZW5ndGg7ICsrbikgdCArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGVbbl0pO1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBhIGJpbmFyeSBzdHJpbmcgdG8gYW4gVWludDhBcnJheS5cbiAqLyAoZSk7XG4gICAgICAgIHJldHVybiBuZXcgQnl0ZVN0cmluZyh0KTtcbiAgICB9XG4gICAgW1N5bWJvbC5pdGVyYXRvcl0oKSB7XG4gICAgICAgIGxldCBlID0gMDtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6ICgpID0+IGUgPCB0aGlzLmJpbmFyeVN0cmluZy5sZW5ndGggPyB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHRoaXMuYmluYXJ5U3RyaW5nLmNoYXJDb2RlQXQoZSsrKSxcbiAgICAgICAgICAgICAgICBkb25lOiAhMVxuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdm9pZCAwLFxuICAgICAgICAgICAgICAgIGRvbmU6ICEwXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuICAgIHRvQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2VuY29kZUJhc2U2NChlKSB7XG4gICAgICAgICAgICByZXR1cm4gYnRvYShlKTtcbiAgICAgICAgfSh0aGlzLmJpbmFyeVN0cmluZyk7XG4gICAgfVxuICAgIHRvVWludDhBcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV91aW50OEFycmF5RnJvbUJpbmFyeVN0cmluZyhlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gbmV3IFVpbnQ4QXJyYXkoZS5sZW5ndGgpO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLmxlbmd0aDsgbisrKSB0W25dID0gZS5jaGFyQ29kZUF0KG4pO1xuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAgICAgLy8gQSBSZWdFeHAgbWF0Y2hpbmcgSVNPIDg2MDEgVVRDIHRpbWVzdGFtcHMgd2l0aCBvcHRpb25hbCBmcmFjdGlvbi5cbiAgICAgICAgKHRoaXMuYmluYXJ5U3RyaW5nKTtcbiAgICB9XG4gICAgYXBwcm94aW1hdGVCeXRlU2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIDIgKiB0aGlzLmJpbmFyeVN0cmluZy5sZW5ndGg7XG4gICAgfVxuICAgIGNvbXBhcmVUbyhlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcih0aGlzLmJpbmFyeVN0cmluZywgZS5iaW5hcnlTdHJpbmcpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJ5U3RyaW5nID09PSBlLmJpbmFyeVN0cmluZztcbiAgICB9XG59XG5cbkJ5dGVTdHJpbmcuRU1QVFlfQllURV9TVFJJTkcgPSBuZXcgQnl0ZVN0cmluZyhcIlwiKTtcblxuY29uc3QgbmUgPSBuZXcgUmVnRXhwKC9eXFxkezR9LVxcZFxcZC1cXGRcXGRUXFxkXFxkOlxcZFxcZDpcXGRcXGQoPzpcXC4oXFxkKykpP1okLyk7XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHBvc3NpYmxlIFByb3RvIHZhbHVlcyBmb3IgYSB0aW1lc3RhbXAgdmFsdWUgaW50byBhIFwic2Vjb25kcyBhbmRcbiAqIG5hbm9zXCIgcmVwcmVzZW50YXRpb24uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlKSB7XG4gICAgLy8gVGhlIGpzb24gaW50ZXJmYWNlIChmb3IgdGhlIGJyb3dzZXIpIHdpbGwgcmV0dXJuIGFuIGlzbyB0aW1lc3RhbXAgc3RyaW5nLFxuICAgIC8vIHdoaWxlIHRoZSBwcm90byBqcyBsaWJyYXJ5IChmb3Igbm9kZSkgd2lsbCByZXR1cm4gYVxuICAgIC8vIGdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXAgaW5zdGFuY2UuXG4gICAgaWYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhZSksIFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHtcbiAgICAgICAgLy8gVGhlIGRhdGUgc3RyaW5nIGNhbiBoYXZlIGhpZ2hlciBwcmVjaXNpb24gKG5hbm9zKSB0aGFuIHRoZSBEYXRlIGNsYXNzXG4gICAgICAgIC8vIChtaWxsaXMpLCBzbyB3ZSBkbyBzb21lIGN1c3RvbSBwYXJzaW5nIGhlcmUuXG4gICAgICAgIC8vIFBhcnNlIHRoZSBuYW5vcyByaWdodCBvdXQgb2YgdGhlIHN0cmluZy5cbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICBjb25zdCBuID0gbmUuZXhlYyhlKTtcbiAgICAgICAgaWYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhbiksIG5bMV0pIHtcbiAgICAgICAgICAgIC8vIFBhZCB0aGUgZnJhY3Rpb24gb3V0IHRvIDkgZGlnaXRzIChuYW5vcykuXG4gICAgICAgICAgICBsZXQgZSA9IG5bMV07XG4gICAgICAgICAgICBlID0gKGUgKyBcIjAwMDAwMDAwMFwiKS5zdWJzdHIoMCwgOSksIHQgPSBOdW1iZXIoZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUGFyc2UgdGhlIGRhdGUgdG8gZ2V0IHRoZSBzZWNvbmRzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgRGF0ZShlKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNlY29uZHM6IE1hdGguZmxvb3Ioci5nZXRUaW1lKCkgLyAxZTMpLFxuICAgICAgICAgICAgbmFub3M6IHRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vjb25kczogX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLnNlY29uZHMpLFxuICAgICAgICBuYW5vczogX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLm5hbm9zKVxuICAgIH07XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhlIHBvc3NpYmxlIFByb3RvIHR5cGVzIGZvciBudW1iZXJzIGludG8gYSBKYXZhU2NyaXB0IG51bWJlci5cbiAqIFJldHVybnMgMCBpZiB0aGUgdmFsdWUgaXMgbm90IG51bWVyaWMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlKSB7XG4gICAgLy8gVE9ETyhiam9ybmljayk6IEhhbmRsZSBpbnQ2NCBncmVhdGVyIHRoYW4gNTMgYml0cy5cbiAgICByZXR1cm4gXCJudW1iZXJcIiA9PSB0eXBlb2YgZSA/IGUgOiBcInN0cmluZ1wiID09IHR5cGVvZiBlID8gTnVtYmVyKGUpIDogMDtcbn1cblxuLyoqIENvbnZlcnRzIHRoZSBwb3NzaWJsZSBQcm90byB0eXBlcyBmb3IgQmxvYnMgaW50byBhIEJ5dGVTdHJpbmcuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUpIHtcbiAgICByZXR1cm4gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSA/IEJ5dGVTdHJpbmcuZnJvbUJhc2U2NFN0cmluZyhlKSA6IEJ5dGVTdHJpbmcuZnJvbVVpbnQ4QXJyYXkoZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsb2NhbGx5LWFwcGxpZWQgU2VydmVyVGltZXN0YW1wLlxuICpcbiAqIFNlcnZlciBUaW1lc3RhbXBzIGFyZSBiYWNrZWQgYnkgTWFwVmFsdWVzIHRoYXQgY29udGFpbiBhbiBpbnRlcm5hbCBmaWVsZFxuICogYF9fdHlwZV9fYCB3aXRoIGEgdmFsdWUgb2YgYHNlcnZlcl90aW1lc3RhbXBgLiBUaGUgcHJldmlvdXMgdmFsdWUgYW5kIGxvY2FsXG4gKiB3cml0ZSB0aW1lIGFyZSBzdG9yZWQgaW4gaXRzIGBfX3ByZXZpb3VzX3ZhbHVlX19gIGFuZCBgX19sb2NhbF93cml0ZV90aW1lX19gXG4gKiBmaWVsZHMgcmVzcGVjdGl2ZWx5LlxuICpcbiAqIE5vdGVzOlxuICogLSBTZXJ2ZXJUaW1lc3RhbXBWYWx1ZSBpbnN0YW5jZXMgYXJlIGNyZWF0ZWQgYXMgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBhXG4gKiAgIHRyYW5zZm9ybS4gVGhleSBjYW4gb25seSBleGlzdCBpbiB0aGUgbG9jYWwgdmlldyBvZiBhIGRvY3VtZW50LiBUaGVyZWZvcmVcbiAqICAgdGhleSBkbyBub3QgbmVlZCB0byBiZSBwYXJzZWQgb3Igc2VyaWFsaXplZC5cbiAqIC0gV2hlbiBldmFsdWF0ZWQgbG9jYWxseSAoZS5nLiBmb3Igc25hcHNob3QuZGF0YSgpKSwgdGhleSBieSBkZWZhdWx0XG4gKiAgIGV2YWx1YXRlIHRvIGBudWxsYC4gVGhpcyBiZWhhdmlvciBjYW4gYmUgY29uZmlndXJlZCBieSBwYXNzaW5nIGN1c3RvbVxuICogICBGaWVsZFZhbHVlT3B0aW9ucyB0byB2YWx1ZSgpLlxuICogLSBXaXRoIHJlc3BlY3QgdG8gb3RoZXIgU2VydmVyVGltZXN0YW1wVmFsdWVzLCB0aGV5IHNvcnQgYnkgdGhlaXJcbiAqICAgbG9jYWxXcml0ZVRpbWUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzU2VydmVyVGltZXN0YW1wKGUpIHtcbiAgICB2YXIgdCwgbjtcbiAgICByZXR1cm4gXCJzZXJ2ZXJfdGltZXN0YW1wXCIgPT09IChudWxsID09PSAobiA9ICgobnVsbCA9PT0gKHQgPSBudWxsID09IGUgPyB2b2lkIDAgOiBlLm1hcFZhbHVlKSB8fCB2b2lkIDAgPT09IHQgPyB2b2lkIDAgOiB0LmZpZWxkcykgfHwge30pLl9fdHlwZV9fKSB8fCB2b2lkIDAgPT09IG4gPyB2b2lkIDAgOiBuLnN0cmluZ1ZhbHVlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFNlcnZlclRpbWVzdGFtcCBwcm90byB2YWx1ZSAodXNpbmcgdGhlIGludGVybmFsIGZvcm1hdCkuXG4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgb2YgdGhlIGZpZWxkIGJlZm9yZSB0aGlzIFNlcnZlclRpbWVzdGFtcCB3YXMgc2V0LlxuICpcbiAqIFByZXNlcnZpbmcgdGhlIHByZXZpb3VzIHZhbHVlcyBhbGxvd3MgdGhlIHVzZXIgdG8gZGlzcGxheSB0aGUgbGFzdCByZXNvbGVkXG4gKiB2YWx1ZSB1bnRpbCB0aGUgYmFja2VuZCByZXNwb25kcyB3aXRoIHRoZSB0aW1lc3RhbXAuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRQcmV2aW91c1ZhbHVlKGUpIHtcbiAgICBjb25zdCB0ID0gZS5tYXBWYWx1ZS5maWVsZHMuX19wcmV2aW91c192YWx1ZV9fO1xuICAgIHJldHVybiBfX1BSSVZBVEVfaXNTZXJ2ZXJUaW1lc3RhbXAodCkgPyBfX1BSSVZBVEVfZ2V0UHJldmlvdXNWYWx1ZSh0KSA6IHQ7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbG9jYWwgdGltZSBhdCB3aGljaCB0aGlzIHRpbWVzdGFtcCB3YXMgZmlyc3Qgc2V0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRMb2NhbFdyaXRlVGltZShlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAoZS5tYXBWYWx1ZS5maWVsZHMuX19sb2NhbF93cml0ZV90aW1lX18udGltZXN0YW1wVmFsdWUpO1xuICAgIHJldHVybiBuZXcgVGltZXN0YW1wKHQuc2Vjb25kcywgdC5uYW5vcyk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIERhdGFiYXNlSW5mbyB7XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIERhdGFiYXNlSW5mbyB1c2luZyB0aGUgcHJvdmlkZWQgaG9zdCwgZGF0YWJhc2VJZCBhbmRcbiAgICAgKiBwZXJzaXN0ZW5jZUtleS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhYmFzZUlkIC0gVGhlIGRhdGFiYXNlIHRvIHVzZS5cbiAgICAgKiBAcGFyYW0gYXBwSWQgLSBUaGUgRmlyZWJhc2UgQXBwIElkLlxuICAgICAqIEBwYXJhbSBwZXJzaXN0ZW5jZUtleSAtIEEgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoaXMgRmlyZXN0b3JlJ3MgbG9jYWxcbiAgICAgKiBzdG9yYWdlICh1c2VkIGluIGNvbmp1bmN0aW9uIHdpdGggdGhlIGRhdGFiYXNlSWQpLlxuICAgICAqIEBwYXJhbSBob3N0IC0gVGhlIEZpcmVzdG9yZSBiYWNrZW5kIGhvc3QgdG8gY29ubmVjdCB0by5cbiAgICAgKiBAcGFyYW0gc3NsIC0gV2hldGhlciB0byB1c2UgU1NMIHdoZW4gY29ubmVjdGluZy5cbiAgICAgKiBAcGFyYW0gZm9yY2VMb25nUG9sbGluZyAtIFdoZXRoZXIgdG8gdXNlIHRoZSBmb3JjZUxvbmdQb2xsaW5nIG9wdGlvblxuICAgICAqIHdoZW4gdXNpbmcgV2ViQ2hhbm5lbCBhcyB0aGUgbmV0d29yayB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIGF1dG9EZXRlY3RMb25nUG9sbGluZyAtIFdoZXRoZXIgdG8gdXNlIHRoZSBkZXRlY3RCdWZmZXJpbmdQcm94eVxuICAgICAqIG9wdGlvbiB3aGVuIHVzaW5nIFdlYkNoYW5uZWwgYXMgdGhlIG5ldHdvcmsgdHJhbnNwb3J0LlxuICAgICAqIEBwYXJhbSBsb25nUG9sbGluZ09wdGlvbnMgT3B0aW9ucyB0aGF0IGNvbmZpZ3VyZSBsb25nLXBvbGxpbmcuXG4gICAgICogQHBhcmFtIHVzZUZldGNoU3RyZWFtcyBXaGV0aGVyIHRvIHVzZSB0aGUgRmV0Y2ggQVBJIGluc3RlYWQgb2ZcbiAgICAgKiBYTUxIVFRQUmVxdWVzdFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMsIG8sIF8sIGEpIHtcbiAgICAgICAgdGhpcy5kYXRhYmFzZUlkID0gZSwgdGhpcy5hcHBJZCA9IHQsIHRoaXMucGVyc2lzdGVuY2VLZXkgPSBuLCB0aGlzLmhvc3QgPSByLCB0aGlzLnNzbCA9IGksIFxuICAgICAgICB0aGlzLmZvcmNlTG9uZ1BvbGxpbmcgPSBzLCB0aGlzLmF1dG9EZXRlY3RMb25nUG9sbGluZyA9IG8sIHRoaXMubG9uZ1BvbGxpbmdPcHRpb25zID0gXywgXG4gICAgICAgIHRoaXMudXNlRmV0Y2hTdHJlYW1zID0gYTtcbiAgICB9XG59XG5cbi8qKiBUaGUgZGVmYXVsdCBkYXRhYmFzZSBuYW1lIGZvciBhIHByb2plY3QuICovXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGRhdGFiYXNlIElEIGEgRmlyZXN0b3JlIGNsaWVudCBpcyBhc3NvY2lhdGVkIHdpdGguXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgRGF0YWJhc2VJZCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnByb2plY3RJZCA9IGUsIHRoaXMuZGF0YWJhc2UgPSB0IHx8IFwiKGRlZmF1bHQpXCI7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZUlkKFwiXCIsIFwiXCIpO1xuICAgIH1cbiAgICBnZXQgaXNEZWZhdWx0RGF0YWJhc2UoKSB7XG4gICAgICAgIHJldHVybiBcIihkZWZhdWx0KVwiID09PSB0aGlzLmRhdGFiYXNlO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBEYXRhYmFzZUlkICYmIGUucHJvamVjdElkID09PSB0aGlzLnByb2plY3RJZCAmJiBlLmRhdGFiYXNlID09PSB0aGlzLmRhdGFiYXNlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNvbnN0IHJlID0ge1xuICAgIG1hcFZhbHVlOiB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgX190eXBlX186IHtcbiAgICAgICAgICAgICAgICBzdHJpbmdWYWx1ZTogXCJfX21heF9fXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0sIGllID0ge1xuICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbn07XG5cbi8qKiBFeHRyYWN0cyB0aGUgYmFja2VuZCdzIHR5cGUgb3JkZXIgZm9yIHRoZSBwcm92aWRlZCB2YWx1ZS4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90eXBlT3JkZXIoZSkge1xuICAgIHJldHVybiBcIm51bGxWYWx1ZVwiIGluIGUgPyAwIC8qIFR5cGVPcmRlci5OdWxsVmFsdWUgKi8gOiBcImJvb2xlYW5WYWx1ZVwiIGluIGUgPyAxIC8qIFR5cGVPcmRlci5Cb29sZWFuVmFsdWUgKi8gOiBcImludGVnZXJWYWx1ZVwiIGluIGUgfHwgXCJkb3VibGVWYWx1ZVwiIGluIGUgPyAyIC8qIFR5cGVPcmRlci5OdW1iZXJWYWx1ZSAqLyA6IFwidGltZXN0YW1wVmFsdWVcIiBpbiBlID8gMyAvKiBUeXBlT3JkZXIuVGltZXN0YW1wVmFsdWUgKi8gOiBcInN0cmluZ1ZhbHVlXCIgaW4gZSA/IDUgLyogVHlwZU9yZGVyLlN0cmluZ1ZhbHVlICovIDogXCJieXRlc1ZhbHVlXCIgaW4gZSA/IDYgLyogVHlwZU9yZGVyLkJsb2JWYWx1ZSAqLyA6IFwicmVmZXJlbmNlVmFsdWVcIiBpbiBlID8gNyAvKiBUeXBlT3JkZXIuUmVmVmFsdWUgKi8gOiBcImdlb1BvaW50VmFsdWVcIiBpbiBlID8gOCAvKiBUeXBlT3JkZXIuR2VvUG9pbnRWYWx1ZSAqLyA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyA5IC8qIFR5cGVPcmRlci5BcnJheVZhbHVlICovIDogXCJtYXBWYWx1ZVwiIGluIGUgPyBfX1BSSVZBVEVfaXNTZXJ2ZXJUaW1lc3RhbXAoZSkgPyA0IC8qIFR5cGVPcmRlci5TZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6IF9fUFJJVkFURV9pc01heFZhbHVlKGUpID8gOTAwNzE5OTI1NDc0MDk5MSAvKiBUeXBlT3JkZXIuTWF4VmFsdWUgKi8gOiAxMCAvKiBUeXBlT3JkZXIuT2JqZWN0VmFsdWUgKi8gOiBmYWlsKCk7XG59XG5cbi8qKiBUZXN0cyBgbGVmdGAgYW5kIGByaWdodGAgZm9yIGVxdWFsaXR5IGJhc2VkIG9uIHRoZSBiYWNrZW5kIHNlbWFudGljcy4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUsIHQpIHtcbiAgICBpZiAoZSA9PT0gdCkgcmV0dXJuICEwO1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfdHlwZU9yZGVyKGUpO1xuICAgIGlmIChuICE9PSBfX1BSSVZBVEVfdHlwZU9yZGVyKHQpKSByZXR1cm4gITE7XG4gICAgc3dpdGNoIChuKSB7XG4gICAgICBjYXNlIDAgLyogVHlwZU9yZGVyLk51bGxWYWx1ZSAqLyA6XG4gICAgICBjYXNlIDkwMDcxOTkyNTQ3NDA5OTEgLyogVHlwZU9yZGVyLk1heFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuICEwO1xuXG4gICAgICBjYXNlIDEgLyogVHlwZU9yZGVyLkJvb2xlYW5WYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBlLmJvb2xlYW5WYWx1ZSA9PT0gdC5ib29sZWFuVmFsdWU7XG5cbiAgICAgIGNhc2UgNCAvKiBUeXBlT3JkZXIuU2VydmVyVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKGUpLmlzRXF1YWwoX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKHQpKTtcblxuICAgICAgY2FzZSAzIC8qIFR5cGVPcmRlci5UaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfdGltZXN0YW1wRXF1YWxzKGUsIHQpIHtcbiAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBlLnRpbWVzdGFtcFZhbHVlICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIHQudGltZXN0YW1wVmFsdWUgJiYgZS50aW1lc3RhbXBWYWx1ZS5sZW5ndGggPT09IHQudGltZXN0YW1wVmFsdWUubGVuZ3RoKSBcbiAgICAgICAgICAgIC8vIFVzZSBzdHJpbmcgZXF1YWxpdHkgZm9yIElTTyA4NjAxIHRpbWVzdGFtcHNcbiAgICAgICAgICAgIHJldHVybiBlLnRpbWVzdGFtcFZhbHVlID09PSB0LnRpbWVzdGFtcFZhbHVlO1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAoZS50aW1lc3RhbXBWYWx1ZSksIHIgPSBfX1BSSVZBVEVfbm9ybWFsaXplVGltZXN0YW1wKHQudGltZXN0YW1wVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG4uc2Vjb25kcyA9PT0gci5zZWNvbmRzICYmIG4ubmFub3MgPT09IHIubmFub3M7XG4gICAgICAgIH0oZSwgdCk7XG5cbiAgICAgIGNhc2UgNSAvKiBUeXBlT3JkZXIuU3RyaW5nVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZS5zdHJpbmdWYWx1ZSA9PT0gdC5zdHJpbmdWYWx1ZTtcblxuICAgICAgY2FzZSA2IC8qIFR5cGVPcmRlci5CbG9iVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2Jsb2JFcXVhbHMoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUuYnl0ZXNWYWx1ZSkuaXNFcXVhbChfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyh0LmJ5dGVzVmFsdWUpKTtcbiAgICAgICAgfShlLCB0KTtcblxuICAgICAgY2FzZSA3IC8qIFR5cGVPcmRlci5SZWZWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBlLnJlZmVyZW5jZVZhbHVlID09PSB0LnJlZmVyZW5jZVZhbHVlO1xuXG4gICAgICBjYXNlIDggLyogVHlwZU9yZGVyLkdlb1BvaW50VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2dlb1BvaW50RXF1YWxzKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuZ2VvUG9pbnRWYWx1ZS5sYXRpdHVkZSkgPT09IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5nZW9Qb2ludFZhbHVlLmxhdGl0dWRlKSAmJiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuZ2VvUG9pbnRWYWx1ZS5sb25naXR1ZGUpID09PSBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKHQuZ2VvUG9pbnRWYWx1ZS5sb25naXR1ZGUpO1xuICAgICAgICB9KGUsIHQpO1xuXG4gICAgICBjYXNlIDIgLyogVHlwZU9yZGVyLk51bWJlclZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9udW1iZXJFcXVhbHMoZSwgdCkge1xuICAgICAgICAgICAgaWYgKFwiaW50ZWdlclZhbHVlXCIgaW4gZSAmJiBcImludGVnZXJWYWx1ZVwiIGluIHQpIHJldHVybiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuaW50ZWdlclZhbHVlKSA9PT0gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcih0LmludGVnZXJWYWx1ZSk7XG4gICAgICAgICAgICBpZiAoXCJkb3VibGVWYWx1ZVwiIGluIGUgJiYgXCJkb3VibGVWYWx1ZVwiIGluIHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmRvdWJsZVZhbHVlKSwgciA9IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5kb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4gPT09IHIgPyBfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8obikgPT09IF9fUFJJVkFURV9pc05lZ2F0aXZlWmVybyhyKSA6IGlzTmFOKG4pICYmIGlzTmFOKHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICB9KGUsIHQpO1xuXG4gICAgICBjYXNlIDkgLyogVHlwZU9yZGVyLkFycmF5VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX2FycmF5RXF1YWxzKGUuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10sIHQuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10sIF9fUFJJVkFURV92YWx1ZUVxdWFscyk7XG5cbiAgICAgIGNhc2UgMTAgLyogVHlwZU9yZGVyLk9iamVjdFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9vYmplY3RFcXVhbHMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUubWFwVmFsdWUuZmllbGRzIHx8IHt9LCByID0gdC5tYXBWYWx1ZS5maWVsZHMgfHwge307XG4gICAgICAgICAgICBpZiAoX19QUklWQVRFX29iamVjdFNpemUobikgIT09IF9fUFJJVkFURV9vYmplY3RTaXplKHIpKSByZXR1cm4gITE7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgaW4gbikgaWYgKG4uaGFzT3duUHJvcGVydHkoZSkgJiYgKHZvaWQgMCA9PT0gcltlXSB8fCAhX19QUklWQVRFX3ZhbHVlRXF1YWxzKG5bZV0sIHJbZV0pKSkgcmV0dXJuICExO1xuICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIEFycmF5VmFsdWUgY29udGFpbnMgdGhlIHNwZWNpZmllZCBlbGVtZW50LiAqLyAoZSwgdCk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfYXJyYXlWYWx1ZUNvbnRhaW5zKGUsIHQpIHtcbiAgICByZXR1cm4gdm9pZCAwICE9PSAoZS52YWx1ZXMgfHwgW10pLmZpbmQoKGUgPT4gX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUsIHQpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV92YWx1ZUNvbXBhcmUoZSwgdCkge1xuICAgIGlmIChlID09PSB0KSByZXR1cm4gMDtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX3R5cGVPcmRlcihlKSwgciA9IF9fUFJJVkFURV90eXBlT3JkZXIodCk7XG4gICAgaWYgKG4gIT09IHIpIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLCByKTtcbiAgICBzd2l0Y2ggKG4pIHtcbiAgICAgIGNhc2UgMCAvKiBUeXBlT3JkZXIuTnVsbFZhbHVlICovIDpcbiAgICAgIGNhc2UgOTAwNzE5OTI1NDc0MDk5MSAvKiBUeXBlT3JkZXIuTWF4VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gMDtcblxuICAgICAgY2FzZSAxIC8qIFR5cGVPcmRlci5Cb29sZWFuVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5ib29sZWFuVmFsdWUsIHQuYm9vbGVhblZhbHVlKTtcblxuICAgICAgY2FzZSAyIC8qIFR5cGVPcmRlci5OdW1iZXJWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZU51bWJlcnMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5pbnRlZ2VyVmFsdWUgfHwgZS5kb3VibGVWYWx1ZSksIHIgPSBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKHQuaW50ZWdlclZhbHVlIHx8IHQuZG91YmxlVmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIG4gPCByID8gLTEgOiBuID4gciA/IDEgOiBuID09PSByID8gMCA6IFxuICAgICAgICAgICAgLy8gb25lIG9yIGJvdGggYXJlIE5hTi5cbiAgICAgICAgICAgIGlzTmFOKG4pID8gaXNOYU4ocikgPyAwIDogLTEgOiAxO1xuICAgICAgICB9KGUsIHQpO1xuXG4gICAgICBjYXNlIDMgLyogVHlwZU9yZGVyLlRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9jb21wYXJlVGltZXN0YW1wcyhlLnRpbWVzdGFtcFZhbHVlLCB0LnRpbWVzdGFtcFZhbHVlKTtcblxuICAgICAgY2FzZSA0IC8qIFR5cGVPcmRlci5TZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfY29tcGFyZVRpbWVzdGFtcHMoX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKGUpLCBfX1BSSVZBVEVfZ2V0TG9jYWxXcml0ZVRpbWUodCkpO1xuXG4gICAgICBjYXNlIDUgLyogVHlwZU9yZGVyLlN0cmluZ1ZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUuc3RyaW5nVmFsdWUsIHQuc3RyaW5nVmFsdWUpO1xuXG4gICAgICBjYXNlIDYgLyogVHlwZU9yZGVyLkJsb2JWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZUJsb2JzKGUsIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyhlKSwgciA9IF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKHQpO1xuICAgICAgICAgICAgcmV0dXJuIG4uY29tcGFyZVRvKHIpO1xuICAgICAgICB9KGUuYnl0ZXNWYWx1ZSwgdC5ieXRlc1ZhbHVlKTtcblxuICAgICAgY2FzZSA3IC8qIFR5cGVPcmRlci5SZWZWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZVJlZmVyZW5jZXMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUuc3BsaXQoXCIvXCIpLCByID0gdC5zcGxpdChcIi9cIik7XG4gICAgICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IG4ubGVuZ3RoICYmIGUgPCByLmxlbmd0aDsgZSsrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG5bZV0sIHJbZV0pO1xuICAgICAgICAgICAgICAgIGlmICgwICE9PSB0KSByZXR1cm4gdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLmxlbmd0aCwgci5sZW5ndGgpO1xuICAgICAgICB9KGUucmVmZXJlbmNlVmFsdWUsIHQucmVmZXJlbmNlVmFsdWUpO1xuXG4gICAgICBjYXNlIDggLyogVHlwZU9yZGVyLkdlb1BvaW50VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2NvbXBhcmVHZW9Qb2ludHMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5sYXRpdHVkZSksIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5sYXRpdHVkZSkpO1xuICAgICAgICAgICAgaWYgKDAgIT09IG4pIHJldHVybiBuO1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5sb25naXR1ZGUpLCBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKHQubG9uZ2l0dWRlKSk7XG4gICAgICAgIH0oZS5nZW9Qb2ludFZhbHVlLCB0Lmdlb1BvaW50VmFsdWUpO1xuXG4gICAgICBjYXNlIDkgLyogVHlwZU9yZGVyLkFycmF5VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2NvbXBhcmVBcnJheXMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUudmFsdWVzIHx8IFtdLCByID0gdC52YWx1ZXMgfHwgW107XG4gICAgICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IG4ubGVuZ3RoICYmIGUgPCByLmxlbmd0aDsgKytlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWx1ZUNvbXBhcmUobltlXSwgcltlXSk7XG4gICAgICAgICAgICAgICAgaWYgKHQpIHJldHVybiB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG4ubGVuZ3RoLCByLmxlbmd0aCk7XG4gICAgICAgIH0oZS5hcnJheVZhbHVlLCB0LmFycmF5VmFsdWUpO1xuXG4gICAgICBjYXNlIDEwIC8qIFR5cGVPcmRlci5PYmplY3RWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZU1hcHMoZSwgdCkge1xuICAgICAgICAgICAgaWYgKGUgPT09IHJlLm1hcFZhbHVlICYmIHQgPT09IHJlLm1hcFZhbHVlKSByZXR1cm4gMDtcbiAgICAgICAgICAgIGlmIChlID09PSByZS5tYXBWYWx1ZSkgcmV0dXJuIDE7XG4gICAgICAgICAgICBpZiAodCA9PT0gcmUubWFwVmFsdWUpIHJldHVybiAtMTtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLmZpZWxkcyB8fCB7fSwgciA9IE9iamVjdC5rZXlzKG4pLCBpID0gdC5maWVsZHMgfHwge30sIHMgPSBPYmplY3Qua2V5cyhpKTtcbiAgICAgICAgICAgIC8vIEV2ZW4gdGhvdWdoIE1hcFZhbHVlcyBhcmUgbGlrZWx5IHNvcnRlZCBjb3JyZWN0bHkgYmFzZWQgb24gdGhlaXIgaW5zZXJ0aW9uXG4gICAgICAgICAgICAvLyBvcmRlciAoZS5nLiB3aGVuIHJlY2VpdmVkIGZyb20gdGhlIGJhY2tlbmQpLCBsb2NhbCBtb2RpZmljYXRpb25zIGNhbiBicmluZ1xuICAgICAgICAgICAgLy8gZWxlbWVudHMgb3V0IG9mIG9yZGVyLiBXZSBuZWVkIHRvIHJlLXNvcnQgdGhlIGVsZW1lbnRzIHRvIGVuc3VyZSB0aGF0XG4gICAgICAgICAgICAvLyBjYW5vbmljYWwgSURzIGFyZSBpbmRlcGVuZGVudCBvZiBpbnNlcnRpb24gb3JkZXIuXG4gICAgICAgICAgICByLnNvcnQoKSwgcy5zb3J0KCk7XG4gICAgICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHIubGVuZ3RoICYmIGUgPCBzLmxlbmd0aDsgKytlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKHJbZV0sIHNbZV0pO1xuICAgICAgICAgICAgICAgIGlmICgwICE9PSB0KSByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICBjb25zdCBvID0gX19QUklWQVRFX3ZhbHVlQ29tcGFyZShuW3JbZV1dLCBpW3NbZV1dKTtcbiAgICAgICAgICAgICAgICBpZiAoMCAhPT0gbykgcmV0dXJuIG87XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3Ioci5sZW5ndGgsIHMubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEdlbmVyYXRlcyB0aGUgY2Fub25pY2FsIElEIGZvciB0aGUgcHJvdmlkZWQgZmllbGQgdmFsdWUgKGFzIHVzZWQgaW4gVGFyZ2V0XG4gKiBzZXJpYWxpemF0aW9uKS5cbiAqLyAoZS5tYXBWYWx1ZSwgdC5tYXBWYWx1ZSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlVGltZXN0YW1wcyhlLCB0KSB7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCAmJiBlLmxlbmd0aCA9PT0gdC5sZW5ndGgpIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLCB0KTtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlKSwgciA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAodCksIGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLnNlY29uZHMsIHIuc2Vjb25kcyk7XG4gICAgcmV0dXJuIDAgIT09IGkgPyBpIDogX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3Iobi5uYW5vcywgci5uYW5vcyk7XG59XG5cbmZ1bmN0aW9uIGNhbm9uaWNhbElkKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2Nhbm9uaWZ5VmFsdWUoZSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeVZhbHVlKGUpIHtcbiAgICByZXR1cm4gXCJudWxsVmFsdWVcIiBpbiBlID8gXCJudWxsXCIgOiBcImJvb2xlYW5WYWx1ZVwiIGluIGUgPyBcIlwiICsgZS5ib29sZWFuVmFsdWUgOiBcImludGVnZXJWYWx1ZVwiIGluIGUgPyBcIlwiICsgZS5pbnRlZ2VyVmFsdWUgOiBcImRvdWJsZVZhbHVlXCIgaW4gZSA/IFwiXCIgKyBlLmRvdWJsZVZhbHVlIDogXCJ0aW1lc3RhbXBWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlUaW1lc3RhbXAoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlKTtcbiAgICAgICAgcmV0dXJuIGB0aW1lKCR7dC5zZWNvbmRzfSwke3QubmFub3N9KWA7XG4gICAgfShlLnRpbWVzdGFtcFZhbHVlKSA6IFwic3RyaW5nVmFsdWVcIiBpbiBlID8gZS5zdHJpbmdWYWx1ZSA6IFwiYnl0ZXNWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlCeXRlU3RyaW5nKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUpLnRvQmFzZTY0KCk7XG4gICAgfShlLmJ5dGVzVmFsdWUpIDogXCJyZWZlcmVuY2VWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlSZWZlcmVuY2UoZSkge1xuICAgICAgICByZXR1cm4gRG9jdW1lbnRLZXkuZnJvbU5hbWUoZSkudG9TdHJpbmcoKTtcbiAgICB9KGUucmVmZXJlbmNlVmFsdWUpIDogXCJnZW9Qb2ludFZhbHVlXCIgaW4gZSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeUdlb1BvaW50KGUpIHtcbiAgICAgICAgcmV0dXJuIGBnZW8oJHtlLmxhdGl0dWRlfSwke2UubG9uZ2l0dWRlfSlgO1xuICAgIH0oZS5nZW9Qb2ludFZhbHVlKSA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlBcnJheShlKSB7XG4gICAgICAgIGxldCB0ID0gXCJbXCIsIG4gPSAhMDtcbiAgICAgICAgZm9yIChjb25zdCByIG9mIGUudmFsdWVzIHx8IFtdKSBuID8gbiA9ICExIDogdCArPSBcIixcIiwgdCArPSBfX1BSSVZBVEVfY2Fub25pZnlWYWx1ZShyKTtcbiAgICAgICAgcmV0dXJuIHQgKyBcIl1cIjtcbiAgICB9XG4gICAgLyoqXG4gKiBSZXR1cm5zIGFuIGFwcHJveGltYXRlIChhbmQgd2lsZGx5IGluYWNjdXJhdGUpIGluLW1lbW9yeSBzaXplIGZvciB0aGUgZmllbGRcbiAqIHZhbHVlLlxuICpcbiAqIFRoZSBtZW1vcnkgc2l6ZSB0YWtlcyBpbnRvIGFjY291bnQgb25seSB0aGUgYWN0dWFsIHVzZXIgZGF0YSBhcyBpdCByZXNpZGVzXG4gKiBpbiBtZW1vcnkgYW5kIGlnbm9yZXMgb2JqZWN0IG92ZXJoZWFkLlxuICovIChlLmFycmF5VmFsdWUpIDogXCJtYXBWYWx1ZVwiIGluIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlNYXAoZSkge1xuICAgICAgICAvLyBJdGVyYXRpb24gb3JkZXIgaW4gSmF2YVNjcmlwdCBpcyBub3QgZ3VhcmFudGVlZC4gVG8gZW5zdXJlIHRoYXQgd2UgZ2VuZXJhdGVcbiAgICAgICAgLy8gbWF0Y2hpbmcgY2Fub25pY2FsIElEcyBmb3IgaWRlbnRpY2FsIG1hcHMsIHdlIG5lZWQgdG8gc29ydCB0aGUga2V5cy5cbiAgICAgICAgY29uc3QgdCA9IE9iamVjdC5rZXlzKGUuZmllbGRzIHx8IHt9KS5zb3J0KCk7XG4gICAgICAgIGxldCBuID0gXCJ7XCIsIHIgPSAhMDtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIHQpIHIgPyByID0gITEgOiBuICs9IFwiLFwiLCBuICs9IGAke2l9OiR7X19QUklWQVRFX2Nhbm9uaWZ5VmFsdWUoZS5maWVsZHNbaV0pfWA7XG4gICAgICAgIHJldHVybiBuICsgXCJ9XCI7XG4gICAgfShlLm1hcFZhbHVlKSA6IGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2VzdGltYXRlQnl0ZVNpemUoZSkge1xuICAgIHN3aXRjaCAoX19QUklWQVRFX3R5cGVPcmRlcihlKSkge1xuICAgICAgY2FzZSAwIC8qIFR5cGVPcmRlci5OdWxsVmFsdWUgKi8gOlxuICAgICAgY2FzZSAxIC8qIFR5cGVPcmRlci5Cb29sZWFuVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gNDtcblxuICAgICAgY2FzZSAyIC8qIFR5cGVPcmRlci5OdW1iZXJWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiA4O1xuXG4gICAgICBjYXNlIDMgLyogVHlwZU9yZGVyLlRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgIGNhc2UgOCAvKiBUeXBlT3JkZXIuR2VvUG9pbnRWYWx1ZSAqLyA6XG4gICAgICAgIC8vIEdlb1BvaW50cyBhcmUgbWFkZSB1cCBvZiB0d28gZGlzdGluY3QgbnVtYmVycyAobGF0aXR1ZGUgKyBsb25naXR1ZGUpXG4gICAgICAgIHJldHVybiAxNjtcblxuICAgICAgY2FzZSA0IC8qIFR5cGVPcmRlci5TZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZ2V0UHJldmlvdXNWYWx1ZShlKTtcbiAgICAgICAgcmV0dXJuIHQgPyAxNiArIF9fUFJJVkFURV9lc3RpbWF0ZUJ5dGVTaXplKHQpIDogMTY7XG5cbiAgICAgIGNhc2UgNSAvKiBUeXBlT3JkZXIuU3RyaW5nVmFsdWUgKi8gOlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9EYXRhX3N0cnVjdHVyZXM6XG4gICAgICAgIC8vIFwiSmF2YVNjcmlwdCdzIFN0cmluZyB0eXBlIGlzIFsuLi5dIGEgc2V0IG9mIGVsZW1lbnRzIG9mIDE2LWJpdCB1bnNpZ25lZFxuICAgICAgICAvLyBpbnRlZ2VyIHZhbHVlc1wiXG4gICAgICAgIHJldHVybiAyICogZS5zdHJpbmdWYWx1ZS5sZW5ndGg7XG5cbiAgICAgIGNhc2UgNiAvKiBUeXBlT3JkZXIuQmxvYlZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUuYnl0ZXNWYWx1ZSkuYXBwcm94aW1hdGVCeXRlU2l6ZSgpO1xuXG4gICAgICBjYXNlIDcgLyogVHlwZU9yZGVyLlJlZlZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGUucmVmZXJlbmNlVmFsdWUubGVuZ3RoO1xuXG4gICAgICBjYXNlIDkgLyogVHlwZU9yZGVyLkFycmF5VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2VzdGltYXRlQXJyYXlCeXRlU2l6ZShlKSB7XG4gICAgICAgICAgICByZXR1cm4gKGUudmFsdWVzIHx8IFtdKS5yZWR1Y2UoKChlLCB0KSA9PiBlICsgX19QUklWQVRFX2VzdGltYXRlQnl0ZVNpemUodCkpLCAwKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogUmV0dXJucyBhIHJlZmVyZW5jZSB2YWx1ZSBmb3IgdGhlIHByb3ZpZGVkIGRhdGFiYXNlIGFuZCBrZXkuICovIChlLmFycmF5VmFsdWUpO1xuXG4gICAgICBjYXNlIDEwIC8qIFR5cGVPcmRlci5PYmplY3RWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZXN0aW1hdGVNYXBCeXRlU2l6ZShlKSB7XG4gICAgICAgICAgICBsZXQgdCA9IDA7XG4gICAgICAgICAgICByZXR1cm4gZm9yRWFjaChlLmZpZWxkcywgKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgdCArPSBlLmxlbmd0aCArIF9fUFJJVkFURV9lc3RpbWF0ZUJ5dGVTaXplKG4pO1xuICAgICAgICAgICAgfSkpLCB0O1xuICAgICAgICB9KGUubWFwVmFsdWUpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcmVmVmFsdWUoZSwgdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHJlZmVyZW5jZVZhbHVlOiBgcHJvamVjdHMvJHtlLnByb2plY3RJZH0vZGF0YWJhc2VzLyR7ZS5kYXRhYmFzZX0vZG9jdW1lbnRzLyR7dC5wYXRoLmNhbm9uaWNhbFN0cmluZygpfWBcbiAgICB9O1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYW4gSW50ZWdlclZhbHVlIC4gKi8gZnVuY3Rpb24gaXNJbnRlZ2VyKGUpIHtcbiAgICByZXR1cm4gISFlICYmIFwiaW50ZWdlclZhbHVlXCIgaW4gZTtcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGEgRG91YmxlVmFsdWUuICovXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYW4gQXJyYXlWYWx1ZS4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkoZSkge1xuICAgIHJldHVybiAhIWUgJiYgXCJhcnJheVZhbHVlXCIgaW4gZTtcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiBgdmFsdWVgIGlzIGEgTnVsbFZhbHVlLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNOdWxsVmFsdWUoZSkge1xuICAgIHJldHVybiAhIWUgJiYgXCJudWxsVmFsdWVcIiBpbiBlO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgTmFOLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNOYW5WYWx1ZShlKSB7XG4gICAgcmV0dXJuICEhZSAmJiBcImRvdWJsZVZhbHVlXCIgaW4gZSAmJiBpc05hTihOdW1iZXIoZS5kb3VibGVWYWx1ZSkpO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYSBNYXBWYWx1ZS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzTWFwVmFsdWUoZSkge1xuICAgIHJldHVybiAhIWUgJiYgXCJtYXBWYWx1ZVwiIGluIGU7XG59XG5cbi8qKiBDcmVhdGVzIGEgZGVlcCBjb3B5IG9mIGBzb3VyY2VgLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZGVlcENsb25lKGUpIHtcbiAgICBpZiAoZS5nZW9Qb2ludFZhbHVlKSByZXR1cm4ge1xuICAgICAgICBnZW9Qb2ludFZhbHVlOiBPYmplY3QuYXNzaWduKHt9LCBlLmdlb1BvaW50VmFsdWUpXG4gICAgfTtcbiAgICBpZiAoZS50aW1lc3RhbXBWYWx1ZSAmJiBcIm9iamVjdFwiID09IHR5cGVvZiBlLnRpbWVzdGFtcFZhbHVlKSByZXR1cm4ge1xuICAgICAgICB0aW1lc3RhbXBWYWx1ZTogT2JqZWN0LmFzc2lnbih7fSwgZS50aW1lc3RhbXBWYWx1ZSlcbiAgICB9O1xuICAgIGlmIChlLm1hcFZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgICBtYXBWYWx1ZToge1xuICAgICAgICAgICAgICAgIGZpZWxkczoge31cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZvckVhY2goZS5tYXBWYWx1ZS5maWVsZHMsICgoZSwgbikgPT4gdC5tYXBWYWx1ZS5maWVsZHNbZV0gPSBfX1BSSVZBVEVfZGVlcENsb25lKG4pKSksIFxuICAgICAgICB0O1xuICAgIH1cbiAgICBpZiAoZS5hcnJheVZhbHVlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgICBhcnJheVZhbHVlOiB7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IChlLmFycmF5VmFsdWUudmFsdWVzIHx8IFtdKS5sZW5ndGg7ICsrbikgdC5hcnJheVZhbHVlLnZhbHVlc1tuXSA9IF9fUFJJVkFURV9kZWVwQ2xvbmUoZS5hcnJheVZhbHVlLnZhbHVlc1tuXSk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbih7fSwgZSk7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIFZhbHVlIHJlcHJlc2VudHMgdGhlIGNhbm9uaWNhbCB7QGxpbmsgI01BWF9WQUxVRX0gLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNNYXhWYWx1ZShlKSB7XG4gICAgcmV0dXJuIFwiX19tYXhfX1wiID09PSAoKChlLm1hcFZhbHVlIHx8IHt9KS5maWVsZHMgfHwge30pLl9fdHlwZV9fIHx8IHt9KS5zdHJpbmdWYWx1ZTtcbn1cblxuLyoqIFJldHVybnMgdGhlIGxvd2VzdCB2YWx1ZSBmb3IgdGhlIGdpdmVuIHZhbHVlIHR5cGUgKGluY2x1c2l2ZSkuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWx1ZXNHZXRMb3dlckJvdW5kKGUpIHtcbiAgICByZXR1cm4gXCJudWxsVmFsdWVcIiBpbiBlID8gaWUgOiBcImJvb2xlYW5WYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIGJvb2xlYW5WYWx1ZTogITFcbiAgICB9IDogXCJpbnRlZ2VyVmFsdWVcIiBpbiBlIHx8IFwiZG91YmxlVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBkb3VibGVWYWx1ZTogTmFOXG4gICAgfSA6IFwidGltZXN0YW1wVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICB0aW1lc3RhbXBWYWx1ZToge1xuICAgICAgICAgICAgc2Vjb25kczogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVJcbiAgICAgICAgfVxuICAgIH0gOiBcInN0cmluZ1ZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgc3RyaW5nVmFsdWU6IFwiXCJcbiAgICB9IDogXCJieXRlc1ZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgYnl0ZXNWYWx1ZTogXCJcIlxuICAgIH0gOiBcInJlZmVyZW5jZVZhbHVlXCIgaW4gZSA/IF9fUFJJVkFURV9yZWZWYWx1ZShEYXRhYmFzZUlkLmVtcHR5KCksIERvY3VtZW50S2V5LmVtcHR5KCkpIDogXCJnZW9Qb2ludFZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgZ2VvUG9pbnRWYWx1ZToge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IC05MCxcbiAgICAgICAgICAgIGxvbmdpdHVkZTogLTE4MFxuICAgICAgICB9XG4gICAgfSA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIGFycmF5VmFsdWU6IHt9XG4gICAgfSA6IFwibWFwVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBtYXBWYWx1ZToge31cbiAgICB9IDogZmFpbCgpO1xufVxuXG4vKiogUmV0dXJucyB0aGUgbGFyZ2VzdCB2YWx1ZSBmb3IgdGhlIGdpdmVuIHZhbHVlIHR5cGUgKGV4Y2x1c2l2ZSkuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWx1ZXNHZXRVcHBlckJvdW5kKGUpIHtcbiAgICByZXR1cm4gXCJudWxsVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBib29sZWFuVmFsdWU6ICExXG4gICAgfSA6IFwiYm9vbGVhblZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgZG91YmxlVmFsdWU6IE5hTlxuICAgIH0gOiBcImludGVnZXJWYWx1ZVwiIGluIGUgfHwgXCJkb3VibGVWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIHRpbWVzdGFtcFZhbHVlOiB7XG4gICAgICAgICAgICBzZWNvbmRzOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUlxuICAgICAgICB9XG4gICAgfSA6IFwidGltZXN0YW1wVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBzdHJpbmdWYWx1ZTogXCJcIlxuICAgIH0gOiBcInN0cmluZ1ZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgYnl0ZXNWYWx1ZTogXCJcIlxuICAgIH0gOiBcImJ5dGVzVmFsdWVcIiBpbiBlID8gX19QUklWQVRFX3JlZlZhbHVlKERhdGFiYXNlSWQuZW1wdHkoKSwgRG9jdW1lbnRLZXkuZW1wdHkoKSkgOiBcInJlZmVyZW5jZVZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgZ2VvUG9pbnRWYWx1ZToge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IC05MCxcbiAgICAgICAgICAgIGxvbmdpdHVkZTogLTE4MFxuICAgICAgICB9XG4gICAgfSA6IFwiZ2VvUG9pbnRWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIGFycmF5VmFsdWU6IHt9XG4gICAgfSA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIG1hcFZhbHVlOiB7fVxuICAgIH0gOiBcIm1hcFZhbHVlXCIgaW4gZSA/IHJlIDogZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG93ZXJCb3VuZENvbXBhcmUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfdmFsdWVDb21wYXJlKGUudmFsdWUsIHQudmFsdWUpO1xuICAgIHJldHVybiAwICE9PSBuID8gbiA6IGUuaW5jbHVzaXZlICYmICF0LmluY2x1c2l2ZSA/IC0xIDogIWUuaW5jbHVzaXZlICYmIHQuaW5jbHVzaXZlID8gMSA6IDA7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV91cHBlckJvdW5kQ29tcGFyZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV92YWx1ZUNvbXBhcmUoZS52YWx1ZSwgdC52YWx1ZSk7XG4gICAgcmV0dXJuIDAgIT09IG4gPyBuIDogZS5pbmNsdXNpdmUgJiYgIXQuaW5jbHVzaXZlID8gMSA6ICFlLmluY2x1c2l2ZSAmJiB0LmluY2x1c2l2ZSA/IC0xIDogMDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gT2JqZWN0VmFsdWUgcmVwcmVzZW50cyBhIE1hcFZhbHVlIGluIHRoZSBGaXJlc3RvcmUgUHJvdG8gYW5kIG9mZmVycyB0aGVcbiAqIGFiaWxpdHkgdG8gYWRkIGFuZCByZW1vdmUgZmllbGRzICh2aWEgdGhlIE9iamVjdFZhbHVlQnVpbGRlcikuXG4gKi8gY2xhc3MgT2JqZWN0VmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGU7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RWYWx1ZSh7XG4gICAgICAgICAgICBtYXBWYWx1ZToge31cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZhbHVlIGF0IHRoZSBnaXZlbiBwYXRoIG9yIG51bGwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIHRoZSBwYXRoIHRvIHNlYXJjaFxuICAgICAqIEByZXR1cm5zIFRoZSB2YWx1ZSBhdCB0aGUgcGF0aCBvciBudWxsIGlmIHRoZSBwYXRoIGlzIG5vdCBzZXQuXG4gICAgICovICAgIGZpZWxkKGUpIHtcbiAgICAgICAgaWYgKGUuaXNFbXB0eSgpKSByZXR1cm4gdGhpcy52YWx1ZTtcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHQgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLmxlbmd0aCAtIDE7ICsrbikgaWYgKHQgPSAodC5tYXBWYWx1ZS5maWVsZHMgfHwge30pW2UuZ2V0KG4pXSwgXG4gICAgICAgICAgICAhX19QUklWQVRFX2lzTWFwVmFsdWUodCkpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgcmV0dXJuIHQgPSAodC5tYXBWYWx1ZS5maWVsZHMgfHwge30pW2UubGFzdFNlZ21lbnQoKV0sIHQgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBmaWVsZCB0byB0aGUgcHJvdmlkZWQgdmFsdWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBmaWVsZCBwYXRoIHRvIHNldC5cbiAgICAgKiBAcGFyYW0gdmFsdWUgLSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqLyAgICBzZXQoZSwgdCkge1xuICAgICAgICB0aGlzLmdldEZpZWxkc01hcChlLnBvcExhc3QoKSlbZS5sYXN0U2VnbWVudCgpXSA9IF9fUFJJVkFURV9kZWVwQ2xvbmUodCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHByb3ZpZGVkIGZpZWxkcyB0byB0aGUgcHJvdmlkZWQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGEgLSBBIG1hcCBvZiBmaWVsZHMgdG8gdmFsdWVzIChvciBudWxsIGZvciBkZWxldGVzKS5cbiAgICAgKi8gICAgc2V0QWxsKGUpIHtcbiAgICAgICAgbGV0IHQgPSBGaWVsZFBhdGgkMS5lbXB0eVBhdGgoKSwgbiA9IHt9LCByID0gW107XG4gICAgICAgIGUuZm9yRWFjaCgoKGUsIGkpID0+IHtcbiAgICAgICAgICAgIGlmICghdC5pc0ltbWVkaWF0ZVBhcmVudE9mKGkpKSB7XG4gICAgICAgICAgICAgICAgLy8gSW5zZXJ0IHRoZSBhY2N1bXVsYXRlZCBjaGFuZ2VzIGF0IHRoaXMgcGFyZW50IGxvY2F0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuZ2V0RmllbGRzTWFwKHQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwbHlDaGFuZ2VzKGUsIG4sIHIpLCBuID0ge30sIHIgPSBbXSwgdCA9IGkucG9wTGFzdCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZSA/IG5baS5sYXN0U2VnbWVudCgpXSA9IF9fUFJJVkFURV9kZWVwQ2xvbmUoZSkgOiByLnB1c2goaS5sYXN0U2VnbWVudCgpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBjb25zdCBpID0gdGhpcy5nZXRGaWVsZHNNYXAodCk7XG4gICAgICAgIHRoaXMuYXBwbHlDaGFuZ2VzKGksIG4sIHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBmaWVsZCBhdCB0aGUgc3BlY2lmaWVkIHBhdGguIElmIHRoZXJlIGlzIG5vIGZpZWxkIGF0IHRoZVxuICAgICAqIHNwZWNpZmllZCBwYXRoLCBub3RoaW5nIGlzIGNoYW5nZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGF0aCAtIFRoZSBmaWVsZCBwYXRoIHRvIHJlbW92ZS5cbiAgICAgKi8gICAgZGVsZXRlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZmllbGQoZS5wb3BMYXN0KCkpO1xuICAgICAgICBfX1BSSVZBVEVfaXNNYXBWYWx1ZSh0KSAmJiB0Lm1hcFZhbHVlLmZpZWxkcyAmJiBkZWxldGUgdC5tYXBWYWx1ZS5maWVsZHNbZS5sYXN0U2VnbWVudCgpXTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsdWVFcXVhbHModGhpcy52YWx1ZSwgZS52YWx1ZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hcCB0aGF0IGNvbnRhaW5zIHRoZSBsZWFmIGVsZW1lbnQgb2YgYHBhdGhgLiBJZiB0aGUgcGFyZW50XG4gICAgICogZW50cnkgZG9lcyBub3QgeWV0IGV4aXN0LCBvciBpZiBpdCBpcyBub3QgYSBtYXAsIGEgbmV3IG1hcCB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICovICAgIGdldEZpZWxkc01hcChlKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy52YWx1ZTtcbiAgICAgICAgdC5tYXBWYWx1ZS5maWVsZHMgfHwgKHQubWFwVmFsdWUgPSB7XG4gICAgICAgICAgICBmaWVsZHM6IHt9XG4gICAgICAgIH0pO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUubGVuZ3RoOyArK24pIHtcbiAgICAgICAgICAgIGxldCByID0gdC5tYXBWYWx1ZS5maWVsZHNbZS5nZXQobildO1xuICAgICAgICAgICAgX19QUklWQVRFX2lzTWFwVmFsdWUocikgJiYgci5tYXBWYWx1ZS5maWVsZHMgfHwgKHIgPSB7XG4gICAgICAgICAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzOiB7fVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHQubWFwVmFsdWUuZmllbGRzW2UuZ2V0KG4pXSA9IHIpLCB0ID0gcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdC5tYXBWYWx1ZS5maWVsZHM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIGBmaWVsZHNNYXBgIGJ5IGFkZGluZywgcmVwbGFjaW5nIG9yIGRlbGV0aW5nIHRoZSBzcGVjaWZpZWRcbiAgICAgKiBlbnRyaWVzLlxuICAgICAqLyAgICBhcHBseUNoYW5nZXMoZSwgdCwgbikge1xuICAgICAgICBmb3JFYWNoKHQsICgodCwgbikgPT4gZVt0XSA9IG4pKTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIG4pIGRlbGV0ZSBlW3RdO1xuICAgIH1cbiAgICBjbG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYmplY3RWYWx1ZShfX1BSSVZBVEVfZGVlcENsb25lKHRoaXMudmFsdWUpKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIEZpZWxkTWFzayBidWlsdCBmcm9tIGFsbCBmaWVsZHMgaW4gYSBNYXBWYWx1ZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZXh0cmFjdEZpZWxkTWFzayhlKSB7XG4gICAgY29uc3QgdCA9IFtdO1xuICAgIHJldHVybiBmb3JFYWNoKGUuZmllbGRzLCAoKGUsIG4pID0+IHtcbiAgICAgICAgY29uc3QgciA9IG5ldyBGaWVsZFBhdGgkMShbIGUgXSk7XG4gICAgICAgIGlmIChfX1BSSVZBVEVfaXNNYXBWYWx1ZShuKSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9leHRyYWN0RmllbGRNYXNrKG4ubWFwVmFsdWUpLmZpZWxkcztcbiAgICAgICAgICAgIGlmICgwID09PSBlLmxlbmd0aCkgXG4gICAgICAgICAgICAvLyBQcmVzZXJ2ZSB0aGUgZW1wdHkgbWFwIGJ5IGFkZGluZyBpdCB0byB0aGUgRmllbGRNYXNrLlxuICAgICAgICAgICAgdC5wdXNoKHIpOyBlbHNlIFxuICAgICAgICAgICAgLy8gRm9yIG5lc3RlZCBhbmQgbm9uLWVtcHR5IE9iamVjdFZhbHVlcywgYWRkIHRoZSBGaWVsZFBhdGggb2YgdGhlXG4gICAgICAgICAgICAvLyBsZWFmIG5vZGVzLlxuICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIGUpIHQucHVzaChyLmNoaWxkKG4pKTtcbiAgICAgICAgfSBlbHNlIFxuICAgICAgICAvLyBGb3IgbmVzdGVkIGFuZCBub24tZW1wdHkgT2JqZWN0VmFsdWVzLCBhZGQgdGhlIEZpZWxkUGF0aCBvZiB0aGUgbGVhZlxuICAgICAgICAvLyBub2Rlcy5cbiAgICAgICAgdC5wdXNoKHIpO1xuICAgIH0pKSwgbmV3IEZpZWxkTWFzayh0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGRvY3VtZW50IGluIEZpcmVzdG9yZSB3aXRoIGEga2V5LCB2ZXJzaW9uLCBkYXRhIGFuZCB3aGV0aGVyIGl0XG4gKiBoYXMgbG9jYWwgbXV0YXRpb25zIGFwcGxpZWQgdG8gaXQuXG4gKlxuICogRG9jdW1lbnRzIGNhbiB0cmFuc2l0aW9uIGJldHdlZW4gc3RhdGVzIHZpYSBgY29udmVydFRvRm91bmREb2N1bWVudCgpYCxcbiAqIGBjb252ZXJ0VG9Ob0RvY3VtZW50KClgIGFuZCBgY29udmVydFRvVW5rbm93bkRvY3VtZW50KClgLiBJZiBhIGRvY3VtZW50IGRvZXNcbiAqIG5vdCB0cmFuc2l0aW9uIHRvIG9uZSBvZiB0aGVzZSBzdGF0ZXMgZXZlbiBhZnRlciBhbGwgbXV0YXRpb25zIGhhdmUgYmVlblxuICogYXBwbGllZCwgYGlzVmFsaWREb2N1bWVudCgpYCByZXR1cm5zIGZhbHNlIGFuZCB0aGUgZG9jdW1lbnQgc2hvdWxkIGJlIHJlbW92ZWRcbiAqIGZyb20gYWxsIHZpZXdzLlxuICovIGNsYXNzIE11dGFibGVEb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSwgcywgbykge1xuICAgICAgICB0aGlzLmtleSA9IGUsIHRoaXMuZG9jdW1lbnRUeXBlID0gdCwgdGhpcy52ZXJzaW9uID0gbiwgdGhpcy5yZWFkVGltZSA9IHIsIHRoaXMuY3JlYXRlVGltZSA9IGksIFxuICAgICAgICB0aGlzLmRhdGEgPSBzLCB0aGlzLmRvY3VtZW50U3RhdGUgPSBvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZG9jdW1lbnQgd2l0aCBubyBrbm93biB2ZXJzaW9uIG9yIGRhdGEsIGJ1dCB3aGljaCBjYW4gc2VydmUgYXNcbiAgICAgKiBiYXNlIGRvY3VtZW50IGZvciBtdXRhdGlvbnMuXG4gICAgICovICAgIHN0YXRpYyBuZXdJbnZhbGlkRG9jdW1lbnQoZSkge1xuICAgICAgICByZXR1cm4gbmV3IE11dGFibGVEb2N1bWVudChlLCAwIC8qIERvY3VtZW50VHlwZS5JTlZBTElEICovICwgXG4gICAgICAgIC8qIHZlcnNpb24gKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogcmVhZFRpbWUgKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogY3JlYXRlVGltZSAqLyBTbmFwc2hvdFZlcnNpb24ubWluKCksIE9iamVjdFZhbHVlLmVtcHR5KCksIDAgLyogRG9jdW1lbnRTdGF0ZS5TWU5DRUQgKi8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGRvY3VtZW50IHRoYXQgaXMga25vd24gdG8gZXhpc3Qgd2l0aCB0aGUgZ2l2ZW4gZGF0YSBhdCB0aGVcbiAgICAgKiBnaXZlbiB2ZXJzaW9uLlxuICAgICAqLyAgICBzdGF0aWMgbmV3Rm91bmREb2N1bWVudChlLCB0LCBuLCByKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXV0YWJsZURvY3VtZW50KGUsIDEgLyogRG9jdW1lbnRUeXBlLkZPVU5EX0RPQ1VNRU5UICovICwgXG4gICAgICAgIC8qIHZlcnNpb24gKi8gdCwgXG4gICAgICAgIC8qIHJlYWRUaW1lICovIFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXG4gICAgICAgIC8qIGNyZWF0ZVRpbWUgKi8gbiwgciwgMCAvKiBEb2N1bWVudFN0YXRlLlNZTkNFRCAqLyk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IGRvY3VtZW50IHRoYXQgaXMga25vd24gdG8gbm90IGV4aXN0IGF0IHRoZSBnaXZlbiB2ZXJzaW9uLiAqLyAgICBzdGF0aWMgbmV3Tm9Eb2N1bWVudChlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTXV0YWJsZURvY3VtZW50KGUsIDIgLyogRG9jdW1lbnRUeXBlLk5PX0RPQ1VNRU5UICovICwgXG4gICAgICAgIC8qIHZlcnNpb24gKi8gdCwgXG4gICAgICAgIC8qIHJlYWRUaW1lICovIFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXG4gICAgICAgIC8qIGNyZWF0ZVRpbWUgKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBPYmplY3RWYWx1ZS5lbXB0eSgpLCAwIC8qIERvY3VtZW50U3RhdGUuU1lOQ0VEICovKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBkb2N1bWVudCB0aGF0IGlzIGtub3duIHRvIGV4aXN0IGF0IHRoZSBnaXZlbiB2ZXJzaW9uIGJ1dFxuICAgICAqIHdob3NlIGRhdGEgaXMgbm90IGtub3duIChlLmcuIGEgZG9jdW1lbnQgdGhhdCB3YXMgdXBkYXRlZCB3aXRob3V0IGEga25vd25cbiAgICAgKiBiYXNlIGRvY3VtZW50KS5cbiAgICAgKi8gICAgc3RhdGljIG5ld1Vua25vd25Eb2N1bWVudChlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgTXV0YWJsZURvY3VtZW50KGUsIDMgLyogRG9jdW1lbnRUeXBlLlVOS05PV05fRE9DVU1FTlQgKi8gLCBcbiAgICAgICAgLyogdmVyc2lvbiAqLyB0LCBcbiAgICAgICAgLyogcmVhZFRpbWUgKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogY3JlYXRlVGltZSAqLyBTbmFwc2hvdFZlcnNpb24ubWluKCksIE9iamVjdFZhbHVlLmVtcHR5KCksIDIgLyogRG9jdW1lbnRTdGF0ZS5IQVNfQ09NTUlUVEVEX01VVEFUSU9OUyAqLyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENoYW5nZXMgdGhlIGRvY3VtZW50IHR5cGUgdG8gaW5kaWNhdGUgdGhhdCBpdCBleGlzdHMgYW5kIHRoYXQgaXRzIHZlcnNpb25cbiAgICAgKiBhbmQgZGF0YSBhcmUga25vd24uXG4gICAgICovICAgIGNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICAvLyBJZiBhIGRvY3VtZW50IGlzIHN3aXRjaGluZyBzdGF0ZSBmcm9tIGJlaW5nIGFuIGludmFsaWQgb3IgZGVsZXRlZFxuICAgICAgICAvLyBkb2N1bWVudCB0byBhIHZhbGlkIChGT1VORF9ET0NVTUVOVCkgZG9jdW1lbnQsIGVpdGhlciBkdWUgdG8gcmVjZWl2aW5nIGFuXG4gICAgICAgIC8vIHVwZGF0ZSBmcm9tIFdhdGNoIG9yIGR1ZSB0byBhcHBseWluZyBhIGxvY2FsIHNldCBtdXRhdGlvbiBvbiB0b3BcbiAgICAgICAgLy8gb2YgYSBkZWxldGVkIGRvY3VtZW50LCBvdXIgYmVzdCBndWVzcyBhYm91dCBpdHMgY3JlYXRlVGltZSB3b3VsZCBiZSB0aGVcbiAgICAgICAgLy8gdmVyc2lvbiBhdCB3aGljaCB0aGUgZG9jdW1lbnQgdHJhbnNpdGlvbmVkIHRvIGEgRk9VTkRfRE9DVU1FTlQuXG4gICAgICAgIHJldHVybiAhdGhpcy5jcmVhdGVUaW1lLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSB8fCAyIC8qIERvY3VtZW50VHlwZS5OT19ET0NVTUVOVCAqLyAhPT0gdGhpcy5kb2N1bWVudFR5cGUgJiYgMCAvKiBEb2N1bWVudFR5cGUuSU5WQUxJRCAqLyAhPT0gdGhpcy5kb2N1bWVudFR5cGUgfHwgKHRoaXMuY3JlYXRlVGltZSA9IGUpLCBcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gZSwgdGhpcy5kb2N1bWVudFR5cGUgPSAxIC8qIERvY3VtZW50VHlwZS5GT1VORF9ET0NVTUVOVCAqLyAsIHRoaXMuZGF0YSA9IHQsIFxuICAgICAgICB0aGlzLmRvY3VtZW50U3RhdGUgPSAwIC8qIERvY3VtZW50U3RhdGUuU1lOQ0VEICovICwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgZG9jdW1lbnQgdHlwZSB0byBpbmRpY2F0ZSB0aGF0IGl0IGRvZXNuJ3QgZXhpc3QgYXQgdGhlIGdpdmVuXG4gICAgICogdmVyc2lvbi5cbiAgICAgKi8gICAgY29udmVydFRvTm9Eb2N1bWVudChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnNpb24gPSBlLCB0aGlzLmRvY3VtZW50VHlwZSA9IDIgLyogRG9jdW1lbnRUeXBlLk5PX0RPQ1VNRU5UICovICwgXG4gICAgICAgIHRoaXMuZGF0YSA9IE9iamVjdFZhbHVlLmVtcHR5KCksIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDAgLyogRG9jdW1lbnRTdGF0ZS5TWU5DRUQgKi8gLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgZG9jdW1lbnQgdHlwZSB0byBpbmRpY2F0ZSB0aGF0IGl0IGV4aXN0cyBhdCBhIGdpdmVuIHZlcnNpb24gYnV0XG4gICAgICogdGhhdCBpdHMgZGF0YSBpcyBub3Qga25vd24gKGUuZy4gYSBkb2N1bWVudCB0aGF0IHdhcyB1cGRhdGVkIHdpdGhvdXQgYSBrbm93blxuICAgICAqIGJhc2UgZG9jdW1lbnQpLlxuICAgICAqLyAgICBjb252ZXJ0VG9Vbmtub3duRG9jdW1lbnQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uID0gZSwgdGhpcy5kb2N1bWVudFR5cGUgPSAzIC8qIERvY3VtZW50VHlwZS5VTktOT1dOX0RPQ1VNRU5UICovICwgXG4gICAgICAgIHRoaXMuZGF0YSA9IE9iamVjdFZhbHVlLmVtcHR5KCksIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDIgLyogRG9jdW1lbnRTdGF0ZS5IQVNfQ09NTUlUVEVEX01VVEFUSU9OUyAqLyAsIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBzZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50U3RhdGUgPSAyIC8qIERvY3VtZW50U3RhdGUuSEFTX0NPTU1JVFRFRF9NVVRBVElPTlMgKi8gLCB0aGlzO1xuICAgIH1cbiAgICBzZXRIYXNMb2NhbE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDEgLyogRG9jdW1lbnRTdGF0ZS5IQVNfTE9DQUxfTVVUQVRJT05TICovICwgdGhpcy52ZXJzaW9uID0gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgc2V0UmVhZFRpbWUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkVGltZSA9IGUsIHRoaXM7XG4gICAgfVxuICAgIGdldCBoYXNMb2NhbE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIDEgLyogRG9jdW1lbnRTdGF0ZS5IQVNfTE9DQUxfTVVUQVRJT05TICovID09PSB0aGlzLmRvY3VtZW50U3RhdGU7XG4gICAgfVxuICAgIGdldCBoYXNDb21taXR0ZWRNdXRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiAyIC8qIERvY3VtZW50U3RhdGUuSEFTX0NPTU1JVFRFRF9NVVRBVElPTlMgKi8gPT09IHRoaXMuZG9jdW1lbnRTdGF0ZTtcbiAgICB9XG4gICAgZ2V0IGhhc1BlbmRpbmdXcml0ZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc0xvY2FsTXV0YXRpb25zIHx8IHRoaXMuaGFzQ29tbWl0dGVkTXV0YXRpb25zO1xuICAgIH1cbiAgICBpc1ZhbGlkRG9jdW1lbnQoKSB7XG4gICAgICAgIHJldHVybiAwIC8qIERvY3VtZW50VHlwZS5JTlZBTElEICovICE9PSB0aGlzLmRvY3VtZW50VHlwZTtcbiAgICB9XG4gICAgaXNGb3VuZERvY3VtZW50KCkge1xuICAgICAgICByZXR1cm4gMSAvKiBEb2N1bWVudFR5cGUuRk9VTkRfRE9DVU1FTlQgKi8gPT09IHRoaXMuZG9jdW1lbnRUeXBlO1xuICAgIH1cbiAgICBpc05vRG9jdW1lbnQoKSB7XG4gICAgICAgIHJldHVybiAyIC8qIERvY3VtZW50VHlwZS5OT19ET0NVTUVOVCAqLyA9PT0gdGhpcy5kb2N1bWVudFR5cGU7XG4gICAgfVxuICAgIGlzVW5rbm93bkRvY3VtZW50KCkge1xuICAgICAgICByZXR1cm4gMyAvKiBEb2N1bWVudFR5cGUuVU5LTk9XTl9ET0NVTUVOVCAqLyA9PT0gdGhpcy5kb2N1bWVudFR5cGU7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIE11dGFibGVEb2N1bWVudCAmJiB0aGlzLmtleS5pc0VxdWFsKGUua2V5KSAmJiB0aGlzLnZlcnNpb24uaXNFcXVhbChlLnZlcnNpb24pICYmIHRoaXMuZG9jdW1lbnRUeXBlID09PSBlLmRvY3VtZW50VHlwZSAmJiB0aGlzLmRvY3VtZW50U3RhdGUgPT09IGUuZG9jdW1lbnRTdGF0ZSAmJiB0aGlzLmRhdGEuaXNFcXVhbChlLmRhdGEpO1xuICAgIH1cbiAgICBtdXRhYmxlQ29weSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdXRhYmxlRG9jdW1lbnQodGhpcy5rZXksIHRoaXMuZG9jdW1lbnRUeXBlLCB0aGlzLnZlcnNpb24sIHRoaXMucmVhZFRpbWUsIHRoaXMuY3JlYXRlVGltZSwgdGhpcy5kYXRhLmNsb25lKCksIHRoaXMuZG9jdW1lbnRTdGF0ZSk7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYERvY3VtZW50KCR7dGhpcy5rZXl9LCAke3RoaXMudmVyc2lvbn0sICR7SlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhLnZhbHVlKX0sIHtjcmVhdGVUaW1lOiAke3RoaXMuY3JlYXRlVGltZX19KSwge2RvY3VtZW50VHlwZTogJHt0aGlzLmRvY3VtZW50VHlwZX19KSwge2RvY3VtZW50U3RhdGU6ICR7dGhpcy5kb2N1bWVudFN0YXRlfX0pYDtcbiAgICB9XG59XG5cbi8qKlxuICogQ29tcGFyZXMgdGhlIHZhbHVlIGZvciBmaWVsZCBgZmllbGRgIGluIHRoZSBwcm92aWRlZCBkb2N1bWVudHMuIFRocm93cyBpZlxuICogdGhlIGZpZWxkIGRvZXMgbm90IGV4aXN0IGluIGJvdGggZG9jdW1lbnRzLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgYm91bmQgb2YgYSBxdWVyeS5cbiAqXG4gKiBUaGUgYm91bmQgaXMgc3BlY2lmaWVkIHdpdGggdGhlIGdpdmVuIGNvbXBvbmVudHMgcmVwcmVzZW50aW5nIGEgcG9zaXRpb24gYW5kXG4gKiB3aGV0aGVyIGl0J3MganVzdCBiZWZvcmUgb3IganVzdCBhZnRlciB0aGUgcG9zaXRpb24gKHJlbGF0aXZlIHRvIHdoYXRldmVyIHRoZVxuICogcXVlcnkgb3JkZXIgaXMpLlxuICpcbiAqIFRoZSBwb3NpdGlvbiByZXByZXNlbnRzIGEgbG9naWNhbCBpbmRleCBwb3NpdGlvbiBmb3IgYSBxdWVyeS4gSXQncyBhIHByZWZpeFxuICogb2YgdmFsdWVzIGZvciB0aGUgKHBvdGVudGlhbGx5IGltcGxpY2l0KSBvcmRlciBieSBjbGF1c2VzIG9mIGEgcXVlcnkuXG4gKlxuICogQm91bmQgcHJvdmlkZXMgYSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRvY3VtZW50IGNvbWVzIGJlZm9yZSBvclxuICogYWZ0ZXIgYSBib3VuZC4gVGhpcyBpcyBpbmZsdWVuY2VkIGJ5IHdoZXRoZXIgdGhlIHBvc2l0aW9uIGlzIGp1c3QgYmVmb3JlIG9yXG4gKiBqdXN0IGFmdGVyIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG4gKi9cbmNsYXNzIEJvdW5kIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMucG9zaXRpb24gPSBlLCB0aGlzLmluY2x1c2l2ZSA9IHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfYm91bmRDb21wYXJlVG9Eb2N1bWVudChlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZS5wb3NpdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBzID0gdFtpXSwgbyA9IGUucG9zaXRpb25baV07XG4gICAgICAgIGlmIChzLmZpZWxkLmlzS2V5RmllbGQoKSkgciA9IERvY3VtZW50S2V5LmNvbXBhcmF0b3IoRG9jdW1lbnRLZXkuZnJvbU5hbWUoby5yZWZlcmVuY2VWYWx1ZSksIG4ua2V5KTsgZWxzZSB7XG4gICAgICAgICAgICByID0gX19QUklWQVRFX3ZhbHVlQ29tcGFyZShvLCBuLmRhdGEuZmllbGQocy5maWVsZCkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChcImRlc2NcIiAvKiBEaXJlY3Rpb24uREVTQ0VORElORyAqLyA9PT0gcy5kaXIgJiYgKHIgKj0gLTEpLCAwICE9PSByKSBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZG9jdW1lbnQgc29ydHMgYWZ0ZXIgYSBib3VuZCB1c2luZyB0aGUgcHJvdmlkZWQgc29ydFxuICogb3JkZXIuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2JvdW5kRXF1YWxzKGUsIHQpIHtcbiAgICBpZiAobnVsbCA9PT0gZSkgcmV0dXJuIG51bGwgPT09IHQ7XG4gICAgaWYgKG51bGwgPT09IHQpIHJldHVybiAhMTtcbiAgICBpZiAoZS5pbmNsdXNpdmUgIT09IHQuaW5jbHVzaXZlIHx8IGUucG9zaXRpb24ubGVuZ3RoICE9PSB0LnBvc2l0aW9uLmxlbmd0aCkgcmV0dXJuICExO1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5wb3NpdGlvbi5sZW5ndGg7IG4rKykge1xuICAgICAgICBpZiAoIV9fUFJJVkFURV92YWx1ZUVxdWFscyhlLnBvc2l0aW9uW25dLCB0LnBvc2l0aW9uW25dKSkgcmV0dXJuICExO1xuICAgIH1cbiAgICByZXR1cm4gITA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIG9yZGVyaW5nIG9uIGEgZmllbGQsIGluIHNvbWUgRGlyZWN0aW9uLiBEaXJlY3Rpb24gZGVmYXVsdHMgdG8gQVNDRU5ESU5HLlxuICovIGNsYXNzIE9yZGVyQnkge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQgPSBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8pIHtcbiAgICAgICAgdGhpcy5maWVsZCA9IGUsIHRoaXMuZGlyID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9vcmRlckJ5RXF1YWxzKGUsIHQpIHtcbiAgICByZXR1cm4gZS5kaXIgPT09IHQuZGlyICYmIGUuZmllbGQuaXNFcXVhbCh0LmZpZWxkKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgRmlsdGVyIHt9XG5cbmNsYXNzIEZpZWxkRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuZmllbGQgPSBlLCB0aGlzLm9wID0gdCwgdGhpcy52YWx1ZSA9IG47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmaWx0ZXIgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKi8gICAgc3RhdGljIGNyZWF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBlLmlzS2V5RmllbGQoKSA/IFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gdCB8fCBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA9PT0gdCA/IHRoaXMuY3JlYXRlS2V5RmllbGRJbkZpbHRlcihlLCB0LCBuKSA6IG5ldyBfX1BSSVZBVEVfS2V5RmllbGRGaWx0ZXIoZSwgdCwgbikgOiBcImFycmF5LWNvbnRhaW5zXCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlMgKi8gPT09IHQgPyBuZXcgX19QUklWQVRFX0FycmF5Q29udGFpbnNGaWx0ZXIoZSwgbikgOiBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gPT09IHQgPyBuZXcgX19QUklWQVRFX0luRmlsdGVyKGUsIG4pIDogXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gPT09IHQgPyBuZXcgX19QUklWQVRFX05vdEluRmlsdGVyKGUsIG4pIDogXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gPT09IHQgPyBuZXcgX19QUklWQVRFX0FycmF5Q29udGFpbnNBbnlGaWx0ZXIoZSwgbikgOiBuZXcgRmllbGRGaWx0ZXIoZSwgdCwgbik7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVLZXlGaWVsZEluRmlsdGVyKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gdCA/IG5ldyBfX1BSSVZBVEVfS2V5RmllbGRJbkZpbHRlcihlLCBuKSA6IG5ldyBfX1BSSVZBVEVfS2V5RmllbGROb3RJbkZpbHRlcihlLCBuKTtcbiAgICB9XG4gICAgbWF0Y2hlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmRhdGEuZmllbGQodGhpcy5maWVsZCk7XG4gICAgICAgIC8vIFR5cGVzIGRvIG5vdCBoYXZlIHRvIG1hdGNoIGluIE5PVF9FUVVBTCBmaWx0ZXJzLlxuICAgICAgICAgICAgICAgIHJldHVybiBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovID09PSB0aGlzLm9wID8gbnVsbCAhPT0gdCAmJiB0aGlzLm1hdGNoZXNDb21wYXJpc29uKF9fUFJJVkFURV92YWx1ZUNvbXBhcmUodCwgdGhpcy52YWx1ZSkpIDogbnVsbCAhPT0gdCAmJiBfX1BSSVZBVEVfdHlwZU9yZGVyKHRoaXMudmFsdWUpID09PSBfX1BSSVZBVEVfdHlwZU9yZGVyKHQpICYmIHRoaXMubWF0Y2hlc0NvbXBhcmlzb24oX19QUklWQVRFX3ZhbHVlQ29tcGFyZSh0LCB0aGlzLnZhbHVlKSk7XG4gICAgICAgIC8vIE9ubHkgY29tcGFyZSB0eXBlcyB3aXRoIG1hdGNoaW5nIGJhY2tlbmQgb3JkZXIgKHN1Y2ggYXMgZG91YmxlIGFuZCBpbnQpLlxuICAgICAgICB9XG4gICAgbWF0Y2hlc0NvbXBhcmlzb24oZSkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMub3ApIHtcbiAgICAgICAgICBjYXNlIFwiPFwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gZSA8IDA7XG5cbiAgICAgICAgICBjYXNlIFwiPD1cIiAvKiBPcGVyYXRvci5MRVNTX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIGUgPD0gMDtcblxuICAgICAgICAgIGNhc2UgXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiAwID09PSBlO1xuXG4gICAgICAgICAgY2FzZSBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiAwICE9PSBlO1xuXG4gICAgICAgICAgY2FzZSBcIj5cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU4gKi8gOlxuICAgICAgICAgICAgcmV0dXJuIGUgPiAwO1xuXG4gICAgICAgICAgY2FzZSBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovIDpcbiAgICAgICAgICAgIHJldHVybiBlID49IDA7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpc0luZXF1YWxpdHkoKSB7XG4gICAgICAgIHJldHVybiBbIFwiPFwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTiAqLyAsIFwiPD1cIiAvKiBPcGVyYXRvci5MRVNTX1RIQU5fT1JfRVFVQUwgKi8gLCBcIj5cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU4gKi8gLCBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovICwgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyAsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIF0uaW5kZXhPZih0aGlzLm9wKSA+PSAwO1xuICAgIH1cbiAgICBnZXRGbGF0dGVuZWRGaWx0ZXJzKCkge1xuICAgICAgICByZXR1cm4gWyB0aGlzIF07XG4gICAgfVxuICAgIGdldEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiBbIHRoaXMgXTtcbiAgICB9XG59XG5cbmNsYXNzIENvbXBvc2l0ZUZpbHRlciBleHRlbmRzIEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmZpbHRlcnMgPSBlLCB0aGlzLm9wID0gdCwgdGhpcy5hZSA9IG51bGw7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmaWx0ZXIgYmFzZWQgb24gdGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKi8gICAgc3RhdGljIGNyZWF0ZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29tcG9zaXRlRmlsdGVyKGUsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKHRoaXMpID8gdm9pZCAwID09PSB0aGlzLmZpbHRlcnMuZmluZCgodCA9PiAhdC5tYXRjaGVzKGUpKSkgOiB2b2lkIDAgIT09IHRoaXMuZmlsdGVycy5maW5kKCh0ID0+IHQubWF0Y2hlcyhlKSkpO1xuICAgIH1cbiAgICBnZXRGbGF0dGVuZWRGaWx0ZXJzKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5hZSB8fCAodGhpcy5hZSA9IHRoaXMuZmlsdGVycy5yZWR1Y2UoKChlLCB0KSA9PiBlLmNvbmNhdCh0LmdldEZsYXR0ZW5lZEZpbHRlcnMoKSkpLCBbXSkpLCBcbiAgICAgICAgdGhpcy5hZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBhIG11dGFibGUgY29weSBvZiBgdGhpcy5maWx0ZXJzYFxuICAgIGdldEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKFtdLCB0aGlzLmZpbHRlcnMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24oZSkge1xuICAgIHJldHVybiBcImFuZFwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLkFORCAqLyA9PT0gZS5vcDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRGlzanVuY3Rpb24oZSkge1xuICAgIHJldHVybiBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi8gPT09IGUub3A7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZmlsdGVyIGlzIGEgY29uanVuY3Rpb24gb2YgZmllbGQgZmlsdGVycyBvbmx5LiBSZXR1cm5zIGZhbHNlIG90aGVyd2lzZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0Q29uanVuY3Rpb24oZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0KGUpICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKGUpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGZpbHRlciBkb2VzIG5vdCBjb250YWluIGFueSBjb21wb3NpdGUgZmlsdGVycy4gUmV0dXJucyBmYWxzZSBvdGhlcndpc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRmxhdChlKSB7XG4gICAgZm9yIChjb25zdCB0IG9mIGUuZmlsdGVycykgaWYgKHQgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpIHJldHVybiAhMTtcbiAgICByZXR1cm4gITA7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeUZpbHRlcihlKSB7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlcikgXG4gICAgLy8gVE9ETyhiLzI5MTgzMTY1KTogVGVjaG5pY2FsbHksIHRoaXMgd29uJ3QgYmUgdW5pcXVlIGlmIHR3byB2YWx1ZXMgaGF2ZVxuICAgIC8vIHRoZSBzYW1lIGRlc2NyaXB0aW9uLCBzdWNoIGFzIHRoZSBpbnQgMyBhbmQgdGhlIHN0cmluZyBcIjNcIi4gU28gd2Ugc2hvdWxkXG4gICAgLy8gYWRkIHRoZSB0eXBlcyBpbiBoZXJlIHNvbWVob3csIHRvby5cbiAgICByZXR1cm4gZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSArIGUub3AudG9TdHJpbmcoKSArIGNhbm9uaWNhbElkKGUudmFsdWUpO1xuICAgIGlmIChfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0Q29uanVuY3Rpb24oZSkpIFxuICAgIC8vIE9sZGVyIFNESyB2ZXJzaW9ucyB1c2UgYW4gaW1wbGljaXQgQU5EIG9wZXJhdGlvbiBiZXR3ZWVuIHRoZWlyIGZpbHRlcnMuXG4gICAgLy8gSW4gdGhlIG5ldyBTREsgdmVyc2lvbnMsIHRoZSBkZXZlbG9wZXIgbWF5IHVzZSBhbiBleHBsaWNpdCBBTkQgZmlsdGVyLlxuICAgIC8vIFRvIHN0YXkgY29uc2lzdGVudCB3aXRoIHRoZSBvbGQgdXNhZ2VzLCB3ZSBhZGQgYSBzcGVjaWFsIGNhc2UgdG8gZW5zdXJlXG4gICAgLy8gdGhlIGNhbm9uaWNhbCBJRCBmb3IgdGhlc2UgdHdvIGFyZSB0aGUgc2FtZS4gRm9yIGV4YW1wbGU6XG4gICAgLy8gYGNvbC53aGVyZUVxdWFscyhcImFcIiwgMSkud2hlcmVFcXVhbHMoXCJiXCIsIDIpYCBzaG91bGQgaGF2ZSB0aGUgc2FtZVxuICAgIC8vIGNhbm9uaWNhbCBJRCBhcyBgY29sLndoZXJlKGFuZChlcXVhbHMoXCJhXCIsMSksIGVxdWFscyhcImJcIiwyKSkpYC5cbiAgICByZXR1cm4gZS5maWx0ZXJzLm1hcCgoZSA9PiBfX1BSSVZBVEVfY2Fub25pZnlGaWx0ZXIoZSkpKS5qb2luKFwiLFwiKTtcbiAgICB7XG4gICAgICAgIC8vIGZpbHRlciBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlclxuICAgICAgICBjb25zdCB0ID0gZS5maWx0ZXJzLm1hcCgoZSA9PiBfX1BSSVZBVEVfY2Fub25pZnlGaWx0ZXIoZSkpKS5qb2luKFwiLFwiKTtcbiAgICAgICAgcmV0dXJuIGAke2Uub3B9KCR7dH0pYDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maWx0ZXJFcXVhbHMoZSwgdCkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRGaWx0ZXJFcXVhbHMoZSwgdCkge1xuICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyICYmIGUub3AgPT09IHQub3AgJiYgZS5maWVsZC5pc0VxdWFsKHQuZmllbGQpICYmIF9fUFJJVkFURV92YWx1ZUVxdWFscyhlLnZhbHVlLCB0LnZhbHVlKTtcbiAgICB9KGUsIHQpIDogZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJFcXVhbHMoZSwgdCkge1xuICAgICAgICBpZiAodCBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciAmJiBlLm9wID09PSB0Lm9wICYmIGUuZmlsdGVycy5sZW5ndGggPT09IHQuZmlsdGVycy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBlLmZpbHRlcnMucmVkdWNlKCgoZSwgbiwgcikgPT4gZSAmJiBfX1BSSVZBVEVfZmlsdGVyRXF1YWxzKG4sIHQuZmlsdGVyc1tyXSkpLCAhMCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvKipcbiAqIFJldHVybnMgYSBuZXcgY29tcG9zaXRlIGZpbHRlciB0aGF0IGNvbnRhaW5zIGFsbCBmaWx0ZXIgZnJvbVxuICogYGNvbXBvc2l0ZUZpbHRlcmAgcGx1cyBhbGwgdGhlIGdpdmVuIGZpbHRlcnMgaW4gYG90aGVyRmlsdGVyc2AuXG4gKi8gKGUsIHQpIDogdm9pZCBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJXaXRoQWRkZWRGaWx0ZXJzKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZS5maWx0ZXJzLmNvbmNhdCh0KTtcbiAgICByZXR1cm4gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShuLCBlLm9wKTtcbn1cblxuLyoqIFJldHVybnMgYSBkZWJ1ZyBkZXNjcmlwdGlvbiBmb3IgYGZpbHRlcmAuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zdHJpbmdpZnlGaWx0ZXIoZSkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfc3RyaW5naWZ5RmllbGRGaWx0ZXIoZSkge1xuICAgICAgICByZXR1cm4gYCR7ZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKX0gJHtlLm9wfSAke2Nhbm9uaWNhbElkKGUudmFsdWUpfWA7XG4gICAgfVxuICAgIC8qKiBGaWx0ZXIgdGhhdCBtYXRjaGVzIG9uIGtleSBmaWVsZHMgKGkuZS4gJ19fbmFtZV9fJykuICovIChlKSA6IGUgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfc3RyaW5naWZ5Q29tcG9zaXRlRmlsdGVyKGUpIHtcbiAgICAgICAgcmV0dXJuIGUub3AudG9TdHJpbmcoKSArIFwiIHtcIiArIGUuZ2V0RmlsdGVycygpLm1hcChfX1BSSVZBVEVfc3RyaW5naWZ5RmlsdGVyKS5qb2luKFwiICxcIikgKyBcIn1cIjtcbiAgICB9KGUpIDogXCJGaWx0ZXJcIjtcbn1cblxuY2xhc3MgX19QUklWQVRFX0tleUZpZWxkRmlsdGVyIGV4dGVuZHMgRmllbGRGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoZSwgdCwgbiksIHRoaXMua2V5ID0gRG9jdW1lbnRLZXkuZnJvbU5hbWUobi5yZWZlcmVuY2VWYWx1ZSk7XG4gICAgfVxuICAgIG1hdGNoZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gRG9jdW1lbnRLZXkuY29tcGFyYXRvcihlLmtleSwgdGhpcy5rZXkpO1xuICAgICAgICByZXR1cm4gdGhpcy5tYXRjaGVzQ29tcGFyaXNvbih0KTtcbiAgICB9XG59XG5cbi8qKiBGaWx0ZXIgdGhhdCBtYXRjaGVzIG9uIGtleSBmaWVsZHMgd2l0aGluIGFuIGFycmF5LiAqLyBjbGFzcyBfX1BSSVZBVEVfS2V5RmllbGRJbkZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAsIHQpLCB0aGlzLmtleXMgPSBfX1BSSVZBVEVfZXh0cmFjdERvY3VtZW50S2V5c0Zyb21BcnJheVZhbHVlKFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5cy5zb21lKCh0ID0+IHQuaXNFcXVhbChlLmtleSkpKTtcbiAgICB9XG59XG5cbi8qKiBGaWx0ZXIgdGhhdCBtYXRjaGVzIG9uIGtleSBmaWVsZHMgbm90IHByZXNlbnQgd2l0aGluIGFuIGFycmF5LiAqLyBjbGFzcyBfX1BSSVZBVEVfS2V5RmllbGROb3RJbkZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovICwgdCksIHRoaXMua2V5cyA9IF9fUFJJVkFURV9leHRyYWN0RG9jdW1lbnRLZXlzRnJvbUFycmF5VmFsdWUoXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gLCB0KTtcbiAgICB9XG4gICAgbWF0Y2hlcyhlKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5rZXlzLnNvbWUoKHQgPT4gdC5pc0VxdWFsKGUua2V5KSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2V4dHJhY3REb2N1bWVudEtleXNGcm9tQXJyYXlWYWx1ZShlLCB0KSB7XG4gICAgdmFyIG47XG4gICAgcmV0dXJuICgobnVsbCA9PT0gKG4gPSB0LmFycmF5VmFsdWUpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4udmFsdWVzKSB8fCBbXSkubWFwKChlID0+IERvY3VtZW50S2V5LmZyb21OYW1lKGUucmVmZXJlbmNlVmFsdWUpKSk7XG59XG5cbi8qKiBBIEZpbHRlciB0aGF0IGltcGxlbWVudHMgdGhlIGFycmF5LWNvbnRhaW5zIG9wZXJhdG9yLiAqLyBjbGFzcyBfX1BSSVZBVEVfQXJyYXlDb250YWluc0ZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkodCkgJiYgX19QUklWQVRFX2FycmF5VmFsdWVDb250YWlucyh0LmFycmF5VmFsdWUsIHRoaXMudmFsdWUpO1xuICAgIH1cbn1cblxuLyoqIEEgRmlsdGVyIHRoYXQgaW1wbGVtZW50cyB0aGUgSU4gb3BlcmF0b3IuICovIGNsYXNzIF9fUFJJVkFURV9JbkZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHQgJiYgX19QUklWQVRFX2FycmF5VmFsdWVDb250YWlucyh0aGlzLnZhbHVlLmFycmF5VmFsdWUsIHQpO1xuICAgIH1cbn1cblxuLyoqIEEgRmlsdGVyIHRoYXQgaW1wbGVtZW50cyB0aGUgbm90LWluIG9wZXJhdG9yLiAqLyBjbGFzcyBfX1BSSVZBVEVfTm90SW5GaWx0ZXIgZXh0ZW5kcyBGaWVsZEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcihlLCBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgaWYgKF9fUFJJVkFURV9hcnJheVZhbHVlQ29udGFpbnModGhpcy52YWx1ZS5hcnJheVZhbHVlLCB7XG4gICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgIH0pKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHQgPSBlLmRhdGEuZmllbGQodGhpcy5maWVsZCk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0ICYmICFfX1BSSVZBVEVfYXJyYXlWYWx1ZUNvbnRhaW5zKHRoaXMudmFsdWUuYXJyYXlWYWx1ZSwgdCk7XG4gICAgfVxufVxuXG4vKiogQSBGaWx0ZXIgdGhhdCBpbXBsZW1lbnRzIHRoZSBhcnJheS1jb250YWlucy1hbnkgb3BlcmF0b3IuICovIGNsYXNzIF9fUFJJVkFURV9BcnJheUNvbnRhaW5zQW55RmlsdGVyIGV4dGVuZHMgRmllbGRGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gLCB0KTtcbiAgICB9XG4gICAgbWF0Y2hlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmRhdGEuZmllbGQodGhpcy5maWVsZCk7XG4gICAgICAgIHJldHVybiAhKCFpc0FycmF5KHQpIHx8ICF0LmFycmF5VmFsdWUudmFsdWVzKSAmJiB0LmFycmF5VmFsdWUudmFsdWVzLnNvbWUoKGUgPT4gX19QUklWQVRFX2FycmF5VmFsdWVDb250YWlucyh0aGlzLnZhbHVlLmFycmF5VmFsdWUsIGUpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY2xhc3MgX19QUklWQVRFX1RhcmdldEltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQgPSBudWxsLCBuID0gW10sIHIgPSBbXSwgaSA9IG51bGwsIHMgPSBudWxsLCBvID0gbnVsbCkge1xuICAgICAgICB0aGlzLnBhdGggPSBlLCB0aGlzLmNvbGxlY3Rpb25Hcm91cCA9IHQsIHRoaXMub3JkZXJCeSA9IG4sIHRoaXMuZmlsdGVycyA9IHIsIHRoaXMubGltaXQgPSBpLCBcbiAgICAgICAgdGhpcy5zdGFydEF0ID0gcywgdGhpcy5lbmRBdCA9IG8sIHRoaXMudWUgPSBudWxsO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhIFRhcmdldCB3aXRoIGEgcGF0aCBhbmQgb3B0aW9uYWwgYWRkaXRpb25hbCBxdWVyeSBjb25zdHJhaW50cy5cbiAqIFBhdGggbXVzdCBjdXJyZW50bHkgYmUgZW1wdHkgaWYgdGhpcyBpcyBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkuXG4gKlxuICogTk9URTogeW91IHNob3VsZCBhbHdheXMgY29uc3RydWN0IGBUYXJnZXRgIGZyb20gYFF1ZXJ5LnRvVGFyZ2V0YCBpbnN0ZWFkIG9mXG4gKiB1c2luZyB0aGlzIGZhY3RvcnkgbWV0aG9kLCBiZWNhdXNlIGBRdWVyeWAgcHJvdmlkZXMgYW4gaW1wbGljaXQgYG9yZGVyQnlgXG4gKiBwcm9wZXJ0eS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3VGFyZ2V0KGUsIHQgPSBudWxsLCBuID0gW10sIHIgPSBbXSwgaSA9IG51bGwsIHMgPSBudWxsLCBvID0gbnVsbCkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1RhcmdldEltcGwoZSwgdCwgbiwgciwgaSwgcywgbyk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeVRhcmdldChlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgaWYgKG51bGwgPT09IHQudWUpIHtcbiAgICAgICAgbGV0IGUgPSB0LnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgICAgIG51bGwgIT09IHQuY29sbGVjdGlvbkdyb3VwICYmIChlICs9IFwifGNnOlwiICsgdC5jb2xsZWN0aW9uR3JvdXApLCBlICs9IFwifGY6XCIsIGUgKz0gdC5maWx0ZXJzLm1hcCgoZSA9PiBfX1BSSVZBVEVfY2Fub25pZnlGaWx0ZXIoZSkpKS5qb2luKFwiLFwiKSwgXG4gICAgICAgIGUgKz0gXCJ8b2I6XCIsIGUgKz0gdC5vcmRlckJ5Lm1hcCgoZSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlPcmRlckJ5KGUpIHtcbiAgICAgICAgICAgIC8vIFRPRE8oYi8yOTE4MzE2NSk6IE1ha2UgdGhpcyBjb2xsaXNpb24gcm9idXN0LlxuICAgICAgICAgICAgcmV0dXJuIGUuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkgKyBlLmRpcjtcbiAgICAgICAgfShlKSkpLmpvaW4oXCIsXCIpLCBfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQodC5saW1pdCkgfHwgKGUgKz0gXCJ8bDpcIiwgZSArPSB0LmxpbWl0KSwgXG4gICAgICAgIHQuc3RhcnRBdCAmJiAoZSArPSBcInxsYjpcIiwgZSArPSB0LnN0YXJ0QXQuaW5jbHVzaXZlID8gXCJiOlwiIDogXCJhOlwiLCBlICs9IHQuc3RhcnRBdC5wb3NpdGlvbi5tYXAoKGUgPT4gY2Fub25pY2FsSWQoZSkpKS5qb2luKFwiLFwiKSksIFxuICAgICAgICB0LmVuZEF0ICYmIChlICs9IFwifHViOlwiLCBlICs9IHQuZW5kQXQuaW5jbHVzaXZlID8gXCJhOlwiIDogXCJiOlwiLCBlICs9IHQuZW5kQXQucG9zaXRpb24ubWFwKChlID0+IGNhbm9uaWNhbElkKGUpKSkuam9pbihcIixcIikpLCBcbiAgICAgICAgdC51ZSA9IGU7XG4gICAgfVxuICAgIHJldHVybiB0LnVlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0RXF1YWxzKGUsIHQpIHtcbiAgICBpZiAoZS5saW1pdCAhPT0gdC5saW1pdCkgcmV0dXJuICExO1xuICAgIGlmIChlLm9yZGVyQnkubGVuZ3RoICE9PSB0Lm9yZGVyQnkubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLm9yZGVyQnkubGVuZ3RoOyBuKyspIGlmICghX19QUklWQVRFX29yZGVyQnlFcXVhbHMoZS5vcmRlckJ5W25dLCB0Lm9yZGVyQnlbbl0pKSByZXR1cm4gITE7XG4gICAgaWYgKGUuZmlsdGVycy5sZW5ndGggIT09IHQuZmlsdGVycy5sZW5ndGgpIHJldHVybiAhMTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUuZmlsdGVycy5sZW5ndGg7IG4rKykgaWYgKCFfX1BSSVZBVEVfZmlsdGVyRXF1YWxzKGUuZmlsdGVyc1tuXSwgdC5maWx0ZXJzW25dKSkgcmV0dXJuICExO1xuICAgIHJldHVybiBlLmNvbGxlY3Rpb25Hcm91cCA9PT0gdC5jb2xsZWN0aW9uR3JvdXAgJiYgKCEhZS5wYXRoLmlzRXF1YWwodC5wYXRoKSAmJiAoISFfX1BSSVZBVEVfYm91bmRFcXVhbHMoZS5zdGFydEF0LCB0LnN0YXJ0QXQpICYmIF9fUFJJVkFURV9ib3VuZEVxdWFscyhlLmVuZEF0LCB0LmVuZEF0KSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0SXNEb2N1bWVudFRhcmdldChlKSB7XG4gICAgcmV0dXJuIERvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkoZS5wYXRoKSAmJiBudWxsID09PSBlLmNvbGxlY3Rpb25Hcm91cCAmJiAwID09PSBlLmZpbHRlcnMubGVuZ3RoO1xufVxuXG4vKiogUmV0dXJucyB0aGUgZmllbGQgZmlsdGVycyB0aGF0IHRhcmdldCB0aGUgZ2l2ZW4gZmllbGQgcGF0aC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldEZpZWxkRmlsdGVyc0ZvclBhdGgoZSwgdCkge1xuICAgIHJldHVybiBlLmZpbHRlcnMuZmlsdGVyKChlID0+IGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciAmJiBlLmZpZWxkLmlzRXF1YWwodCkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZXMgdGhhdCBhcmUgdXNlZCBpbiBBUlJBWV9DT05UQUlOUyBvciBBUlJBWV9DT05UQUlOU19BTllcbiAqIGZpbHRlcnMuIFJldHVybnMgYG51bGxgIGlmIHRoZXJlIGFyZSBubyBzdWNoIGZpbHRlcnMuXG4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgdG8gdXNlIGFzIHRoZSBsb3dlciBib3VuZCBmb3IgYXNjZW5kaW5nIGluZGV4IHNlZ21lbnQgYXRcbiAqIHRoZSBwcm92aWRlZCBgZmllbGRQYXRoYCAob3IgdGhlIHVwcGVyIGJvdW5kIGZvciBhbiBkZXNjZW5kaW5nIHNlZ21lbnQpLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0QXNjZW5kaW5nQm91bmQoZSwgdCwgbikge1xuICAgIGxldCByID0gaWUsIGkgPSAhMDtcbiAgICAvLyBQcm9jZXNzIGFsbCBmaWx0ZXJzIHRvIGZpbmQgYSB2YWx1ZSBmb3IgdGhlIGN1cnJlbnQgZmllbGQgc2VnbWVudFxuICAgIGZvciAoY29uc3QgbiBvZiBfX1BSSVZBVEVfdGFyZ2V0R2V0RmllbGRGaWx0ZXJzRm9yUGF0aChlLCB0KSkge1xuICAgICAgICBsZXQgZSA9IGllLCB0ID0gITA7XG4gICAgICAgIHN3aXRjaCAobi5vcCkge1xuICAgICAgICAgIGNhc2UgXCI8XCIgLyogT3BlcmF0b3IuTEVTU19USEFOICovIDpcbiAgICAgICAgICBjYXNlIFwiPD1cIiAvKiBPcGVyYXRvci5MRVNTX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgICAgZSA9IF9fUFJJVkFURV92YWx1ZXNHZXRMb3dlckJvdW5kKG4udmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLyA6XG4gICAgICAgICAgY2FzZSBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gOlxuICAgICAgICAgIGNhc2UgXCI+PVwiIC8qIE9wZXJhdG9yLkdSRUFURVJfVEhBTl9PUl9FUVVBTCAqLyA6XG4gICAgICAgICAgICBlID0gbi52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIj5cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU4gKi8gOlxuICAgICAgICAgICAgZSA9IG4udmFsdWUsIHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovIDpcbiAgICAgICAgICBjYXNlIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIDpcbiAgICAgICAgICAgIGUgPSBpZTtcbiAvLyBSZW1haW5pbmcgZmlsdGVycyBjYW5ub3QgYmUgdXNlZCBhcyBsb3dlciBib3VuZHMuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBfX1BSSVZBVEVfbG93ZXJCb3VuZENvbXBhcmUoe1xuICAgICAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGlcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRcbiAgICAgICAgfSkgPCAwICYmIChyID0gZSwgaSA9IHQpO1xuICAgIH1cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBhZGRpdGlvbmFsIGJvdW5kLCBjb21wYXJlIHRoZSB2YWx1ZXMgYWdhaW5zdCB0aGUgZXhpc3RpbmdcbiAgICAvLyByYW5nZSB0byBzZWUgaWYgd2UgY2FuIG5hcnJvdyB0aGUgc2NvcGUuXG4gICAgICAgIGlmIChudWxsICE9PSBuKSBmb3IgKGxldCBzID0gMDsgcyA8IGUub3JkZXJCeS5sZW5ndGg7ICsrcykge1xuICAgICAgICBpZiAoZS5vcmRlckJ5W3NdLmZpZWxkLmlzRXF1YWwodCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuLnBvc2l0aW9uW3NdO1xuICAgICAgICAgICAgX19QUklWQVRFX2xvd2VyQm91bmRDb21wYXJlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcixcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZSxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IG4uaW5jbHVzaXZlXG4gICAgICAgICAgICB9KSA8IDAgJiYgKHIgPSBlLCBpID0gbi5pbmNsdXNpdmUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgIGluY2x1c2l2ZTogaVxuICAgIH07XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgdmFsdWUgdG8gdXNlIGFzIHRoZSB1cHBlciBib3VuZCBmb3IgYXNjZW5kaW5nIGluZGV4IHNlZ21lbnQgYXRcbiAqIHRoZSBwcm92aWRlZCBgZmllbGRQYXRoYCAob3IgdGhlIGxvd2VyIGJvdW5kIGZvciBhIGRlc2NlbmRpbmcgc2VnbWVudCkuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldERlc2NlbmRpbmdCb3VuZChlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSByZSwgaSA9ICEwO1xuICAgIC8vIFByb2Nlc3MgYWxsIGZpbHRlcnMgdG8gZmluZCBhIHZhbHVlIGZvciB0aGUgY3VycmVudCBmaWVsZCBzZWdtZW50XG4gICAgZm9yIChjb25zdCBuIG9mIF9fUFJJVkFURV90YXJnZXRHZXRGaWVsZEZpbHRlcnNGb3JQYXRoKGUsIHQpKSB7XG4gICAgICAgIGxldCBlID0gcmUsIHQgPSAhMDtcbiAgICAgICAgc3dpdGNoIChuLm9wKSB7XG4gICAgICAgICAgY2FzZSBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovIDpcbiAgICAgICAgICBjYXNlIFwiPlwiIC8qIE9wZXJhdG9yLkdSRUFURVJfVEhBTiAqLyA6XG4gICAgICAgICAgICBlID0gX19QUklWQVRFX3ZhbHVlc0dldFVwcGVyQm91bmQobi52YWx1ZSksIHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIj09XCIgLyogT3BlcmF0b3IuRVFVQUwgKi8gOlxuICAgICAgICAgIGNhc2UgXCJpblwiIC8qIE9wZXJhdG9yLklOICovIDpcbiAgICAgICAgICBjYXNlIFwiPD1cIiAvKiBPcGVyYXRvci5MRVNTX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgICAgZSA9IG4udmFsdWU7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCI8XCIgLyogT3BlcmF0b3IuTEVTU19USEFOICovIDpcbiAgICAgICAgICAgIGUgPSBuLnZhbHVlLCB0ID0gITE7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyA6XG4gICAgICAgICAgY2FzZSBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA6XG4gICAgICAgICAgICBlID0gcmU7XG4gLy8gUmVtYWluaW5nIGZpbHRlcnMgY2Fubm90IGJlIHVzZWQgYXMgdXBwZXIgYm91bmRzLlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgX19QUklWQVRFX3VwcGVyQm91bmRDb21wYXJlKHtcbiAgICAgICAgICAgIHZhbHVlOiByLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBpXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHZhbHVlOiBlLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0XG4gICAgICAgIH0pID4gMCAmJiAociA9IGUsIGkgPSB0KTtcbiAgICB9XG4gICAgLy8gSWYgdGhlcmUgaXMgYW4gYWRkaXRpb25hbCBib3VuZCwgY29tcGFyZSB0aGUgdmFsdWVzIGFnYWluc3QgdGhlIGV4aXN0aW5nXG4gICAgLy8gcmFuZ2UgdG8gc2VlIGlmIHdlIGNhbiBuYXJyb3cgdGhlIHNjb3BlLlxuICAgICAgICBpZiAobnVsbCAhPT0gbikgZm9yIChsZXQgcyA9IDA7IHMgPCBlLm9yZGVyQnkubGVuZ3RoOyArK3MpIHtcbiAgICAgICAgaWYgKGUub3JkZXJCeVtzXS5maWVsZC5pc0VxdWFsKHQpKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbi5wb3NpdGlvbltzXTtcbiAgICAgICAgICAgIF9fUFJJVkFURV91cHBlckJvdW5kQ29tcGFyZSh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBpXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBuLmluY2x1c2l2ZVxuICAgICAgICAgICAgfSkgPiAwICYmIChyID0gZSwgaSA9IG4uaW5jbHVzaXZlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiByLFxuICAgICAgICBpbmNsdXNpdmU6IGlcbiAgICB9O1xufVxuXG4vKiogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHNlZ21lbnRzIG9mIGEgcGVyZmVjdCBpbmRleCBmb3IgdGhpcyB0YXJnZXQuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBRdWVyeSBlbmNhcHN1bGF0ZXMgYWxsIHRoZSBxdWVyeSBhdHRyaWJ1dGVzIHdlIHN1cHBvcnQgaW4gdGhlIFNESy4gSXQgY2FuXG4gKiBiZSBydW4gYWdhaW5zdCB0aGUgTG9jYWxTdG9yZSwgYXMgd2VsbCBhcyBiZSBjb252ZXJ0ZWQgdG8gYSBgVGFyZ2V0YCB0b1xuICogcXVlcnkgdGhlIFJlbW90ZVN0b3JlIHJlc3VsdHMuXG4gKlxuICogVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAqL1xuY2xhc3MgX19QUklWQVRFX1F1ZXJ5SW1wbCB7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYSBRdWVyeSB3aXRoIGEgcGF0aCBhbmQgb3B0aW9uYWwgYWRkaXRpb25hbCBxdWVyeSBjb25zdHJhaW50cy5cbiAgICAgKiBQYXRoIG11c3QgY3VycmVudGx5IGJlIGVtcHR5IGlmIHRoaXMgaXMgYSBjb2xsZWN0aW9uIGdyb3VwIHF1ZXJ5LlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQgPSBudWxsLCBuID0gW10sIHIgPSBbXSwgaSA9IG51bGwsIHMgPSBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gLCBvID0gbnVsbCwgXyA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5wYXRoID0gZSwgdGhpcy5jb2xsZWN0aW9uR3JvdXAgPSB0LCB0aGlzLmV4cGxpY2l0T3JkZXJCeSA9IG4sIHRoaXMuZmlsdGVycyA9IHIsIFxuICAgICAgICB0aGlzLmxpbWl0ID0gaSwgdGhpcy5saW1pdFR5cGUgPSBzLCB0aGlzLnN0YXJ0QXQgPSBvLCB0aGlzLmVuZEF0ID0gXywgdGhpcy5jZSA9IG51bGwsIFxuICAgICAgICAvLyBUaGUgY29ycmVzcG9uZGluZyBgVGFyZ2V0YCBvZiB0aGlzIGBRdWVyeWAgaW5zdGFuY2UsIGZvciB1c2Ugd2l0aFxuICAgICAgICAvLyBub24tYWdncmVnYXRlIHF1ZXJpZXMuXG4gICAgICAgIHRoaXMubGUgPSBudWxsLCBcbiAgICAgICAgLy8gVGhlIGNvcnJlc3BvbmRpbmcgYFRhcmdldGAgb2YgdGhpcyBgUXVlcnlgIGluc3RhbmNlLCBmb3IgdXNlIHdpdGhcbiAgICAgICAgLy8gYWdncmVnYXRlIHF1ZXJpZXMuIFVubGlrZSB0YXJnZXRzIGZvciBub24tYWdncmVnYXRlIHF1ZXJpZXMsXG4gICAgICAgIC8vIGFnZ3JlZ2F0ZSBxdWVyeSB0YXJnZXRzIGRvIG5vdCBjb250YWluIG5vcm1hbGl6ZWQgb3JkZXItYnlzLCB0aGV5IG9ubHlcbiAgICAgICAgLy8gY29udGFpbiBleHBsaWNpdCBvcmRlci1ieXMuXG4gICAgICAgIHRoaXMuaGUgPSBudWxsLCB0aGlzLnN0YXJ0QXQsIHRoaXMuZW5kQXQ7XG4gICAgfVxufVxuXG4vKiogQ3JlYXRlcyBhIG5ldyBRdWVyeSBpbnN0YW5jZSB3aXRoIHRoZSBvcHRpb25zIHByb3ZpZGVkLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnkoZSwgdCwgbiwgciwgaSwgcywgbywgXykge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlLCB0LCBuLCByLCBpLCBzLCBvLCBfKTtcbn1cblxuLyoqIENyZWF0ZXMgYSBuZXcgUXVlcnkgZm9yIGEgcXVlcnkgdGhhdCBtYXRjaGVzIGFsbCBkb2N1bWVudHMgYXQgYHBhdGhgICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgoZSkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gY29udmVydCBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkgaW50byBhIGNvbGxlY3Rpb24gcXVlcnkgYXQgYVxuICogc3BlY2lmaWMgcGF0aC4gVGhpcyBpcyB1c2VkIHdoZW4gZXhlY3V0aW5nIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcmllcywgc2luY2VcbiAqIHdlIGhhdmUgdG8gc3BsaXQgdGhlIHF1ZXJ5IGludG8gYSBzZXQgb2YgY29sbGVjdGlvbiBxdWVyaWVzIGF0IG11bHRpcGxlXG4gKiBwYXRocy5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBxdWVyeSBkb2VzIG5vdCBzcGVjaWZ5IGFueSBxdWVyeSBjb25zdHJhaW50cyB0aGF0XG4gKiBjb3VsZCByZW1vdmUgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0FsbERvY3VtZW50cyhlKSB7XG4gICAgcmV0dXJuIDAgPT09IGUuZmlsdGVycy5sZW5ndGggJiYgbnVsbCA9PT0gZS5saW1pdCAmJiBudWxsID09IGUuc3RhcnRBdCAmJiBudWxsID09IGUuZW5kQXQgJiYgKDAgPT09IGUuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCB8fCAxID09PSBlLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGggJiYgZS5leHBsaWNpdE9yZGVyQnlbMF0uZmllbGQuaXNLZXlGaWVsZCgpKTtcbn1cblxuLy8gUmV0dXJucyB0aGUgc29ydGVkIHNldCBvZiBpbmVxdWFsaXR5IGZpbHRlciBmaWVsZHMgdXNlZCBpbiB0aGlzIHF1ZXJ5LlxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHF1ZXJ5IG1hdGNoZXMgYSBjb2xsZWN0aW9uIGdyb3VwIHJhdGhlciB0aGFuIGEgc3BlY2lmaWNcbiAqIGNvbGxlY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KGUpIHtcbiAgICByZXR1cm4gbnVsbCAhPT0gZS5jb2xsZWN0aW9uR3JvdXA7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgbm9ybWFsaXplZCBvcmRlci1ieSBjb25zdHJhaW50IHRoYXQgaXMgdXNlZCB0byBleGVjdXRlIHRoZSBRdWVyeSxcbiAqIHdoaWNoIGNhbiBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgb3JkZXItYnkgY29uc3RyYWludHMgdGhlIHVzZXIgcHJvdmlkZWQgKGUuZy5cbiAqIHRoZSBTREsgYW5kIGJhY2tlbmQgYWx3YXlzIG9yZGVycyBieSBgX19uYW1lX19gKS4gVGhlIG5vcm1hbGl6ZWQgb3JkZXItYnlcbiAqIGluY2x1ZGVzIGltcGxpY2l0IG9yZGVyLWJ5cyBpbiBhZGRpdGlvbiB0byB0aGUgZXhwbGljaXQgdXNlciBwcm92aWRlZFxuICogb3JkZXItYnlzLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeU5vcm1hbGl6ZWRPcmRlckJ5KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBpZiAobnVsbCA9PT0gdC5jZSkge1xuICAgICAgICB0LmNlID0gW107XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgU2V0O1xuICAgICAgICAvLyBBbnkgZXhwbGljaXQgb3JkZXIgYnkgZmllbGRzIHNob3VsZCBiZSBhZGRlZCBhcyBpcy5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdC5leHBsaWNpdE9yZGVyQnkpIHQuY2UucHVzaChuKSwgZS5hZGQobi5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSk7XG4gICAgICAgIC8vIFRoZSBvcmRlciBvZiB0aGUgaW1wbGljaXQgb3JkZXJpbmcgYWx3YXlzIG1hdGNoZXMgdGhlIGxhc3QgZXhwbGljaXQgb3JkZXIgYnkuXG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IHQuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCA+IDAgPyB0LmV4cGxpY2l0T3JkZXJCeVt0LmV4cGxpY2l0T3JkZXJCeS5sZW5ndGggLSAxXS5kaXIgOiBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8gLCByID0gZnVuY3Rpb24gX19QUklWQVRFX2dldEluZXF1YWxpdHlGaWx0ZXJGaWVsZHMoZSkge1xuICAgICAgICAgICAgbGV0IHQgPSBuZXcgU29ydGVkU2V0KEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IpO1xuICAgICAgICAgICAgcmV0dXJuIGUuZmlsdGVycy5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICBlLmdldEZsYXR0ZW5lZEZpbHRlcnMoKS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZS5pc0luZXF1YWxpdHkoKSAmJiAodCA9IHQuYWRkKGUuZmllbGQpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSksIHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFF1ZXJ5IGZvciBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkgdGhhdCBtYXRjaGVzIGFsbCBkb2N1bWVudHNcbiAqIHdpdGhpbiB0aGUgcHJvdmlkZWQgY29sbGVjdGlvbiBncm91cC5cbiAqLyAodCk7XG4gICAgICAgIC8vIEFueSBpbmVxdWFsaXR5IGZpZWxkcyBub3QgZXhwbGljaXRseSBvcmRlcmVkIHNob3VsZCBiZSBpbXBsaWNpdGx5IG9yZGVyZWQgaW4gYSBsZXhpY29ncmFwaGljYWxcbiAgICAgICAgLy8gb3JkZXIuIFdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIGluZXF1YWxpdHkgZmlsdGVycyBvbiB0aGUgc2FtZSBmaWVsZCwgdGhlIGZpZWxkIHNob3VsZCBiZSBhZGRlZFxuICAgICAgICAvLyBvbmx5IG9uY2UuXG4gICAgICAgIC8vIE5vdGU6IGBTb3J0ZWRTZXQ8RmllbGRQYXRoPmAgc29ydHMgdGhlIGtleSBmaWVsZCBiZWZvcmUgb3RoZXIgZmllbGRzLiBIb3dldmVyLCB3ZSB3YW50IHRoZSBrZXlcbiAgICAgICAgLy8gZmllbGQgdG8gYmUgc29ydGVkIGxhc3QuXG4gICAgICAgICAgICAgICAgci5mb3JFYWNoKChyID0+IHtcbiAgICAgICAgICAgIGUuaGFzKHIuY2Fub25pY2FsU3RyaW5nKCkpIHx8IHIuaXNLZXlGaWVsZCgpIHx8IHQuY2UucHVzaChuZXcgT3JkZXJCeShyLCBuKSk7XG4gICAgICAgIH0pKSwgXG4gICAgICAgIC8vIEFkZCB0aGUgZG9jdW1lbnQga2V5IGZpZWxkIHRvIHRoZSBsYXN0IGlmIGl0IGlzIG5vdCBleHBsaWNpdGx5IG9yZGVyZWQuXG4gICAgICAgIGUuaGFzKEZpZWxkUGF0aCQxLmtleUZpZWxkKCkuY2Fub25pY2FsU3RyaW5nKCkpIHx8IHQuY2UucHVzaChuZXcgT3JkZXJCeShGaWVsZFBhdGgkMS5rZXlGaWVsZCgpLCBuKSk7XG4gICAgfVxuICAgIHJldHVybiB0LmNlO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgYFF1ZXJ5YCBpbnN0YW5jZSB0byBpdHMgY29ycmVzcG9uZGluZyBgVGFyZ2V0YCByZXByZXNlbnRhdGlvbi5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIHQubGUgfHwgKHQubGUgPSBfX1BSSVZBVEVfX3F1ZXJ5VG9UYXJnZXQodCwgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSkpKSwgXG4gICAgdC5sZTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGlzIGBRdWVyeWAgaW5zdGFuY2UgdG8gaXRzIGNvcnJlc3BvbmRpbmcgYFRhcmdldGAgcmVwcmVzZW50YXRpb24sXG4gKiBmb3IgdXNlIHdpdGhpbiBhbiBhZ2dyZWdhdGUgcXVlcnkuIFVubGlrZSB0YXJnZXRzIGZvciBub24tYWdncmVnYXRlIHF1ZXJpZXMsXG4gKiBhZ2dyZWdhdGUgcXVlcnkgdGFyZ2V0cyBkbyBub3QgY29udGFpbiBub3JtYWxpemVkIG9yZGVyLWJ5cywgdGhleSBvbmx5XG4gKiBjb250YWluIGV4cGxpY2l0IG9yZGVyLWJ5cy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlUb0FnZ3JlZ2F0ZVRhcmdldChlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIHQuaGUgfHwgKFxuICAgIC8vIERvIG5vdCBpbmNsdWRlIGltcGxpY2l0IG9yZGVyLWJ5cyBmb3IgYWdncmVnYXRlIHF1ZXJpZXMuXG4gICAgdC5oZSA9IF9fUFJJVkFURV9fcXVlcnlUb1RhcmdldCh0LCBlLmV4cGxpY2l0T3JkZXJCeSkpLCB0LmhlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfX3F1ZXJ5VG9UYXJnZXQoZSwgdCkge1xuICAgIGlmIChcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gPT09IGUubGltaXRUeXBlKSByZXR1cm4gX19QUklWQVRFX25ld1RhcmdldChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCB0LCBlLmZpbHRlcnMsIGUubGltaXQsIGUuc3RhcnRBdCwgZS5lbmRBdCk7XG4gICAge1xuICAgICAgICAvLyBGbGlwIHRoZSBvcmRlckJ5IGRpcmVjdGlvbnMgc2luY2Ugd2Ugd2FudCB0aGUgbGFzdCByZXN1bHRzXG4gICAgICAgIHQgPSB0Lm1hcCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gXCJkZXNjXCIgLyogRGlyZWN0aW9uLkRFU0NFTkRJTkcgKi8gPT09IGUuZGlyID8gXCJhc2NcIiAvKiBEaXJlY3Rpb24uQVNDRU5ESU5HICovIDogXCJkZXNjXCIgLyogRGlyZWN0aW9uLkRFU0NFTkRJTkcgKi87XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9yZGVyQnkoZS5maWVsZCwgdCk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBzd2FwIHRoZSBjdXJzb3JzIHRvIG1hdGNoIHRoZSBub3ctZmxpcHBlZCBxdWVyeSBvcmRlcmluZy5cbiAgICAgICAgY29uc3QgbiA9IGUuZW5kQXQgPyBuZXcgQm91bmQoZS5lbmRBdC5wb3NpdGlvbiwgZS5lbmRBdC5pbmNsdXNpdmUpIDogbnVsbCwgciA9IGUuc3RhcnRBdCA/IG5ldyBCb3VuZChlLnN0YXJ0QXQucG9zaXRpb24sIGUuc3RhcnRBdC5pbmNsdXNpdmUpIDogbnVsbDtcbiAgICAgICAgLy8gTm93IHJldHVybiBhcyBhIExpbWl0VHlwZS5GaXJzdCBxdWVyeS5cbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9uZXdUYXJnZXQoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgdCwgZS5maWx0ZXJzLCBlLmxpbWl0LCBuLCByKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeVdpdGhBZGRlZEZpbHRlcihlLCB0KSB7XG4gICAgY29uc3QgbiA9IGUuZmlsdGVycy5jb25jYXQoWyB0IF0pO1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCBlLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCBuLCBlLmxpbWl0LCBlLmxpbWl0VHlwZSwgZS5zdGFydEF0LCBlLmVuZEF0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aExpbWl0KGUsIHQsIG4pIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9RdWVyeUltcGwoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgZS5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSwgZS5maWx0ZXJzLnNsaWNlKCksIHQsIG4sIGUuc3RhcnRBdCwgZS5lbmRBdCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeUVxdWFscyhlLCB0KSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV90YXJnZXRFcXVhbHMoX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoZSksIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KHQpKSAmJiBlLmxpbWl0VHlwZSA9PT0gdC5saW1pdFR5cGU7XG59XG5cbi8vIFRPRE8oYi8yOTE4MzE2NSk6IFRoaXMgaXMgdXNlZCB0byBnZXQgYSB1bmlxdWUgc3RyaW5nIGZyb20gYSBxdWVyeSB0bywgZm9yXG4vLyBleGFtcGxlLCB1c2UgYXMgYSBkaWN0aW9uYXJ5IGtleSwgYnV0IHRoZSBpbXBsZW1lbnRhdGlvbiBpcyBzdWJqZWN0IHRvXG4vLyBjb2xsaXNpb25zLiBNYWtlIGl0IGNvbGxpc2lvbi1mcmVlLlxuZnVuY3Rpb24gX19QUklWQVRFX2Nhbm9uaWZ5UXVlcnkoZSkge1xuICAgIHJldHVybiBgJHtfX1BSSVZBVEVfY2Fub25pZnlUYXJnZXQoX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoZSkpfXxsdDoke2UubGltaXRUeXBlfWA7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zdHJpbmdpZnlRdWVyeShlKSB7XG4gICAgcmV0dXJuIGBRdWVyeSh0YXJnZXQ9JHtmdW5jdGlvbiBfX1BSSVZBVEVfc3RyaW5naWZ5VGFyZ2V0KGUpIHtcbiAgICAgICAgbGV0IHQgPSBlLnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBlLmNvbGxlY3Rpb25Hcm91cCAmJiAodCArPSBcIiBjb2xsZWN0aW9uR3JvdXA9XCIgKyBlLmNvbGxlY3Rpb25Hcm91cCksIFxuICAgICAgICBlLmZpbHRlcnMubGVuZ3RoID4gMCAmJiAodCArPSBgLCBmaWx0ZXJzOiBbJHtlLmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9zdHJpbmdpZnlGaWx0ZXIoZSkpKS5qb2luKFwiLCBcIil9XWApLCBcbiAgICAgICAgX19QUklWQVRFX2lzTnVsbE9yVW5kZWZpbmVkKGUubGltaXQpIHx8ICh0ICs9IFwiLCBsaW1pdDogXCIgKyBlLmxpbWl0KSwgZS5vcmRlckJ5Lmxlbmd0aCA+IDAgJiYgKHQgKz0gYCwgb3JkZXJCeTogWyR7ZS5vcmRlckJ5Lm1hcCgoZSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfc3RyaW5naWZ5T3JkZXJCeShlKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7ZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKX0gKCR7ZS5kaXJ9KWA7XG4gICAgICAgIH0oZSkpKS5qb2luKFwiLCBcIil9XWApLCBlLnN0YXJ0QXQgJiYgKHQgKz0gXCIsIHN0YXJ0QXQ6IFwiLCB0ICs9IGUuc3RhcnRBdC5pbmNsdXNpdmUgPyBcImI6XCIgOiBcImE6XCIsIFxuICAgICAgICB0ICs9IGUuc3RhcnRBdC5wb3NpdGlvbi5tYXAoKGUgPT4gY2Fub25pY2FsSWQoZSkpKS5qb2luKFwiLFwiKSksIGUuZW5kQXQgJiYgKHQgKz0gXCIsIGVuZEF0OiBcIiwgXG4gICAgICAgIHQgKz0gZS5lbmRBdC5pbmNsdXNpdmUgPyBcImE6XCIgOiBcImI6XCIsIHQgKz0gZS5lbmRBdC5wb3NpdGlvbi5tYXAoKGUgPT4gY2Fub25pY2FsSWQoZSkpKS5qb2luKFwiLFwiKSksIFxuICAgICAgICBgVGFyZ2V0KCR7dH0pYDtcbiAgICB9KF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KGUpKX07IGxpbWl0VHlwZT0ke2UubGltaXRUeXBlfSlgO1xufVxuXG4vKiogUmV0dXJucyB3aGV0aGVyIGBkb2NgIG1hdGNoZXMgdGhlIGNvbnN0cmFpbnRzIG9mIGBxdWVyeWAuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeU1hdGNoZXMoZSwgdCkge1xuICAgIHJldHVybiB0LmlzRm91bmREb2N1bWVudCgpICYmIGZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeU1hdGNoZXNQYXRoQW5kQ29sbGVjdGlvbkdyb3VwKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQua2V5LnBhdGg7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBlLmNvbGxlY3Rpb25Hcm91cCA/IHQua2V5Lmhhc0NvbGxlY3Rpb25JZChlLmNvbGxlY3Rpb25Hcm91cCkgJiYgZS5wYXRoLmlzUHJlZml4T2YobikgOiBEb2N1bWVudEtleS5pc0RvY3VtZW50S2V5KGUucGF0aCkgPyBlLnBhdGguaXNFcXVhbChuKSA6IGUucGF0aC5pc0ltbWVkaWF0ZVBhcmVudE9mKG4pO1xuICAgIH1cbiAgICAvKipcbiAqIEEgZG9jdW1lbnQgbXVzdCBoYXZlIGEgdmFsdWUgZm9yIGV2ZXJ5IG9yZGVyaW5nIGNsYXVzZSBpbiBvcmRlciB0byBzaG93IHVwXG4gKiBpbiB0aGUgcmVzdWx0cy5cbiAqLyAoZSwgdCkgJiYgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc09yZGVyQnkoZSwgdCkge1xuICAgICAgICAvLyBXZSBtdXN0IHVzZSBgcXVlcnlOb3JtYWxpemVkT3JkZXJCeSgpYCB0byBnZXQgdGhlIGxpc3Qgb2YgYWxsIG9yZGVyQnlzIChib3RoIGltcGxpY2l0IGFuZCBleHBsaWNpdCkuXG4gICAgICAgIC8vIE5vdGUgdGhhdCBmb3IgT1IgcXVlcmllcywgb3JkZXJCeSBhcHBsaWVzIHRvIGFsbCBkaXNqdW5jdGlvbiB0ZXJtcyBhbmQgaW1wbGljaXQgb3JkZXJCeXMgbXVzdFxuICAgICAgICAvLyBiZSB0YWtlbiBpbnRvIGFjY291bnQuIEZvciBleGFtcGxlLCB0aGUgcXVlcnkgXCJhID4gMSB8fCBiPT0xXCIgaGFzIGFuIGltcGxpY2l0IFwib3JkZXJCeSBhXCIgZHVlXG4gICAgICAgIC8vIHRvIHRoZSBpbmVxdWFsaXR5LCBhbmQgaXMgZXZhbHVhdGVkIGFzIFwiYSA+IDEgb3JkZXJCeSBhIHx8IGI9PTEgb3JkZXJCeSBhXCIuXG4gICAgICAgIC8vIEEgZG9jdW1lbnQgd2l0aCBjb250ZW50IG9mIHtiOjF9IG1hdGNoZXMgdGhlIGZpbHRlcnMsIGJ1dCBkb2VzIG5vdCBtYXRjaCB0aGUgb3JkZXJCeSBiZWNhdXNlXG4gICAgICAgIC8vIGl0J3MgbWlzc2luZyB0aGUgZmllbGQgJ2EnLlxuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSkpIFxuICAgICAgICAvLyBvcmRlci1ieSBrZXkgYWx3YXlzIG1hdGNoZXNcbiAgICAgICAgaWYgKCFuLmZpZWxkLmlzS2V5RmllbGQoKSAmJiBudWxsID09PSB0LmRhdGEuZmllbGQobi5maWVsZCkpIHJldHVybiAhMTtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH0oZSwgdCkgJiYgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0ZpbHRlcnMoZSwgdCkge1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZS5maWx0ZXJzKSBpZiAoIW4ubWF0Y2hlcyh0KSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIC8qKiBNYWtlcyBzdXJlIGEgZG9jdW1lbnQgaXMgd2l0aGluIHRoZSBib3VuZHMsIGlmIHByb3ZpZGVkLiAqLyAoZSwgdCkgJiYgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0JvdW5kcyhlLCB0KSB7XG4gICAgICAgIGlmIChlLnN0YXJ0QXQgJiYgIVxuICAgICAgICAvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBhIGRvY3VtZW50IHNvcnRzIGJlZm9yZSBhIGJvdW5kIHVzaW5nIHRoZSBwcm92aWRlZCBzb3J0XG4gKiBvcmRlci5cbiAqL1xuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfYm91bmRTb3J0c0JlZm9yZURvY3VtZW50KGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfYm91bmRDb21wYXJlVG9Eb2N1bWVudChlLCB0LCBuKTtcbiAgICAgICAgICAgIHJldHVybiBlLmluY2x1c2l2ZSA/IHIgPD0gMCA6IHIgPCAwO1xuICAgICAgICB9KGUuc3RhcnRBdCwgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSksIHQpKSByZXR1cm4gITE7XG4gICAgICAgIGlmIChlLmVuZEF0ICYmICFmdW5jdGlvbiBfX1BSSVZBVEVfYm91bmRTb3J0c0FmdGVyRG9jdW1lbnQoZSwgdCwgbikge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9ib3VuZENvbXBhcmVUb0RvY3VtZW50KGUsIHQsIG4pO1xuICAgICAgICAgICAgcmV0dXJuIGUuaW5jbHVzaXZlID8gciA+PSAwIDogciA+IDA7XG4gICAgICAgIH0oZS5lbmRBdCwgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSksIHQpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgLyoqXG4gKiBSZXR1cm5zIHRoZSBjb2xsZWN0aW9uIGdyb3VwIHRoYXQgdGhpcyBxdWVyeSB0YXJnZXRzLlxuICpcbiAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgaW4gdGhlIFdlYiBTREsgdG8gZmFjaWxpdGF0ZSBtdWx0aS10YWJcbiAqIHN5bmNocm9uaXphdGlvbiBmb3IgcXVlcnkgcmVzdWx0cy5cbiAqLyAoZSwgdCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeUNvbGxlY3Rpb25Hcm91cChlKSB7XG4gICAgcmV0dXJuIGUuY29sbGVjdGlvbkdyb3VwIHx8IChlLnBhdGgubGVuZ3RoICUgMiA9PSAxID8gZS5wYXRoLmxhc3RTZWdtZW50KCkgOiBlLnBhdGguZ2V0KGUucGF0aC5sZW5ndGggLSAyKSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG5ldyBjb21wYXJhdG9yIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcGFyZSB0d28gZG9jdW1lbnRzXG4gKiBiYXNlZCBvbiB0aGUgUXVlcnkncyBvcmRlcmluZyBjb25zdHJhaW50LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUNvbXBhcmF0b3IoZSkge1xuICAgIHJldHVybiAodCwgbikgPT4ge1xuICAgICAgICBsZXQgciA9ICExO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBfX1BSSVZBVEVfY29tcGFyZURvY3MoaSwgdCwgbik7XG4gICAgICAgICAgICBpZiAoMCAhPT0gZSkgcmV0dXJuIGU7XG4gICAgICAgICAgICByID0gciB8fCBpLmZpZWxkLmlzS2V5RmllbGQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMDtcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZURvY3MoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBlLmZpZWxkLmlzS2V5RmllbGQoKSA/IERvY3VtZW50S2V5LmNvbXBhcmF0b3IodC5rZXksIG4ua2V5KSA6IGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlRG9jdW1lbnRzQnlGaWVsZChlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSB0LmRhdGEuZmllbGQoZSksIGkgPSBuLmRhdGEuZmllbGQoZSk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSByICYmIG51bGwgIT09IGkgPyBfX1BSSVZBVEVfdmFsdWVDb21wYXJlKHIsIGkpIDogZmFpbCgpO1xuICAgIH0oZS5maWVsZCwgdCwgbik7XG4gICAgc3dpdGNoIChlLmRpcikge1xuICAgICAgY2FzZSBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8gOlxuICAgICAgICByZXR1cm4gcjtcblxuICAgICAgY2FzZSBcImRlc2NcIiAvKiBEaXJlY3Rpb24uREVTQ0VORElORyAqLyA6XG4gICAgICAgIHJldHVybiAtMSAqIHI7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIG1hcCBpbXBsZW1lbnRhdGlvbiB0aGF0IHVzZXMgb2JqZWN0cyBhcyBrZXlzLiBPYmplY3RzIG11c3QgaGF2ZSBhblxuICogYXNzb2NpYXRlZCBlcXVhbHMgZnVuY3Rpb24gYW5kIG11c3QgYmUgaW1tdXRhYmxlLiBFbnRyaWVzIGluIHRoZSBtYXAgYXJlXG4gKiBzdG9yZWQgdG9nZXRoZXIgd2l0aCB0aGUga2V5IGJlaW5nIHByb2R1Y2VkIGZyb20gdGhlIG1hcEtleUZuLiBUaGlzIG1hcFxuICogYXV0b21hdGljYWxseSBoYW5kbGVzIGNvbGxpc2lvbnMgb2Yga2V5cy5cbiAqLyBjbGFzcyBPYmplY3RNYXAge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5tYXBLZXlGbiA9IGUsIHRoaXMuZXF1YWxzRm4gPSB0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBpbm5lciBtYXAgZm9yIGEga2V5L3ZhbHVlIHBhaXIuIER1ZSB0byB0aGUgcG9zc2liaWxpdHkgb2YgY29sbGlzaW9ucyB3ZVxuICAgICAgICAgKiBrZWVwIGEgbGlzdCBvZiBlbnRyaWVzIHRoYXQgd2UgZG8gYSBsaW5lYXIgc2VhcmNoIHRocm91Z2ggdG8gZmluZCBhbiBhY3R1YWxcbiAgICAgICAgICogbWF0Y2guIE5vdGUgdGhhdCBjb2xsaXNpb25zIHNob3VsZCBiZSByYXJlLCBzbyB3ZSBzdGlsbCBleHBlY3QgbmVhclxuICAgICAgICAgKiBjb25zdGFudCB0aW1lIGxvb2t1cHMgaW4gcHJhY3RpY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmlubmVyID0ge30sIFxuICAgICAgICAvKiogVGhlIG51bWJlciBvZiBlbnRyaWVzIHN0b3JlZCBpbiB0aGUgbWFwICovXG4gICAgICAgIHRoaXMuaW5uZXJTaXplID0gMDtcbiAgICB9XG4gICAgLyoqIEdldCBhIHZhbHVlIGZvciB0aGlzIGtleSwgb3IgdW5kZWZpbmVkIGlmIGl0IGRvZXMgbm90IGV4aXN0LiAqLyAgICBnZXQoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5tYXBLZXlGbihlKSwgbiA9IHRoaXMuaW5uZXJbdF07XG4gICAgICAgIGlmICh2b2lkIDAgIT09IG4pIGZvciAoY29uc3QgW3QsIHJdIG9mIG4pIGlmICh0aGlzLmVxdWFsc0ZuKHQsIGUpKSByZXR1cm4gcjtcbiAgICB9XG4gICAgaGFzKGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdGhpcy5nZXQoZSk7XG4gICAgfVxuICAgIC8qKiBQdXQgdGhpcyBrZXkgYW5kIHZhbHVlIGluIHRoZSBtYXAuICovICAgIHNldChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLm1hcEtleUZuKGUpLCByID0gdGhpcy5pbm5lcltuXTtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gcikgcmV0dXJuIHRoaXMuaW5uZXJbbl0gPSBbIFsgZSwgdCBdIF0sIHZvaWQgdGhpcy5pbm5lclNpemUrKztcbiAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCByLmxlbmd0aDsgbisrKSBpZiAodGhpcy5lcXVhbHNGbihyW25dWzBdLCBlKSkgXG4gICAgICAgIC8vIFRoaXMgaXMgdXBkYXRpbmcgYW4gZXhpc3RpbmcgZW50cnkgYW5kIGRvZXMgbm90IGluY3JlYXNlIGBpbm5lclNpemVgLlxuICAgICAgICByZXR1cm4gdm9pZCAocltuXSA9IFsgZSwgdCBdKTtcbiAgICAgICAgci5wdXNoKFsgZSwgdCBdKSwgdGhpcy5pbm5lclNpemUrKztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRoaXMga2V5IGZyb20gdGhlIG1hcC4gUmV0dXJucyBhIGJvb2xlYW4gaWYgYW55dGhpbmcgd2FzIGRlbGV0ZWQuXG4gICAgICovICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLm1hcEtleUZuKGUpLCBuID0gdGhpcy5pbm5lclt0XTtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gbikgcmV0dXJuICExO1xuICAgICAgICBmb3IgKGxldCByID0gMDsgciA8IG4ubGVuZ3RoOyByKyspIGlmICh0aGlzLmVxdWFsc0ZuKG5bcl1bMF0sIGUpKSByZXR1cm4gMSA9PT0gbi5sZW5ndGggPyBkZWxldGUgdGhpcy5pbm5lclt0XSA6IG4uc3BsaWNlKHIsIDEpLCBcbiAgICAgICAgdGhpcy5pbm5lclNpemUtLSwgITA7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgZm9yRWFjaChlKSB7XG4gICAgICAgIGZvckVhY2godGhpcy5pbm5lciwgKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFt0LCByXSBvZiBuKSBlKHQsIHIpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBpc0VtcHR5KHRoaXMuaW5uZXIpO1xuICAgIH1cbiAgICBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbm5lclNpemU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBzZSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKSB7XG4gICAgcmV0dXJuIHNlO1xufVxuXG5jb25zdCBvZSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIGRvY3VtZW50TWFwKC4uLmUpIHtcbiAgICBsZXQgdCA9IG9lO1xuICAgIGZvciAoY29uc3QgbiBvZiBlKSB0ID0gdC5pbnNlcnQobi5rZXksIG4pO1xuICAgIHJldHVybiB0O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29udmVydE92ZXJsYXllZERvY3VtZW50TWFwVG9Eb2N1bWVudE1hcChlKSB7XG4gICAgbGV0IHQgPSBvZTtcbiAgICByZXR1cm4gZS5mb3JFYWNoKCgoZSwgbikgPT4gdCA9IHQuaW5zZXJ0KGUsIG4ub3ZlcmxheWVkRG9jdW1lbnQpKSksIHQ7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfbmV3RG9jdW1lbnRLZXlNYXAoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX25ld011dGF0aW9uTWFwKCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfbmV3RG9jdW1lbnRLZXlNYXAoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX25ld0RvY3VtZW50S2V5TWFwKCkge1xuICAgIHJldHVybiBuZXcgT2JqZWN0TWFwKChlID0+IGUudG9TdHJpbmcoKSksICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSk7XG59XG5cbmNvbnN0IF9lID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcblxuY29uc3QgYWUgPSBuZXcgU29ydGVkU2V0KERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoLi4uZSkge1xuICAgIGxldCB0ID0gYWU7XG4gICAgZm9yIChjb25zdCBuIG9mIGUpIHQgPSB0LmFkZChuKTtcbiAgICByZXR1cm4gdDtcbn1cblxuY29uc3QgdWUgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKTtcblxuZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldElkU2V0KCkge1xuICAgIHJldHVybiB1ZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmV0dXJucyBhbiBEb3VibGVWYWx1ZSBmb3IgYHZhbHVlYCB0aGF0IGlzIGVuY29kZWQgYmFzZWQgdGhlIHNlcmlhbGl6ZXInc1xuICogYHVzZVByb3RvM0pzb25gIHNldHRpbmcuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RvRG91YmxlKGUsIHQpIHtcbiAgICBpZiAoZS51c2VQcm90bzNKc29uKSB7XG4gICAgICAgIGlmIChpc05hTih0KSkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIk5hTlwiXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0ID09PSAxIC8gMCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIkluZmluaXR5XCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHQgPT09IC0xIC8gMCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBcIi1JbmZpbml0eVwiXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICAgIGRvdWJsZVZhbHVlOiBfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8odCkgPyBcIi0wXCIgOiB0XG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIEludGVnZXJWYWx1ZSBmb3IgYHZhbHVlYC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdG9JbnRlZ2VyKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBpbnRlZ2VyVmFsdWU6IFwiXCIgKyBlXG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgdmFsdWUgZm9yIGEgbnVtYmVyIHRoYXQncyBhcHByb3ByaWF0ZSB0byBwdXQgaW50byBhIHByb3RvLlxuICogVGhlIHJldHVybiB2YWx1ZSBpcyBhbiBJbnRlZ2VyVmFsdWUgaWYgaXQgY2FuIHNhZmVseSByZXByZXNlbnQgdGhlIHZhbHVlLFxuICogb3RoZXJ3aXNlIGEgRG91YmxlVmFsdWUgaXMgcmV0dXJuZWQuXG4gKi8gZnVuY3Rpb24gdG9OdW1iZXIoZSwgdCkge1xuICAgIHJldHVybiBpc1NhZmVJbnRlZ2VyKHQpID8gX19QUklWQVRFX3RvSW50ZWdlcih0KSA6IF9fUFJJVkFURV90b0RvdWJsZShlLCB0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBVc2VkIHRvIHJlcHJlc2VudCBhIGZpZWxkIHRyYW5zZm9ybSBvbiBhIG11dGF0aW9uLiAqLyBjbGFzcyBUcmFuc2Zvcm1PcGVyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBNYWtlIHN1cmUgdGhhdCB0aGUgc3RydWN0dXJhbCB0eXBlIG9mIGBUcmFuc2Zvcm1PcGVyYXRpb25gIGlzIHVuaXF1ZS5cbiAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNTQ1MVxuICAgICAgICB0aGlzLl8gPSB2b2lkIDA7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbXB1dGVzIHRoZSBsb2NhbCB0cmFuc2Zvcm0gcmVzdWx0IGFnYWluc3QgdGhlIHByb3ZpZGVkIGBwcmV2aW91c1ZhbHVlYCxcbiAqIG9wdGlvbmFsbHkgdXNpbmcgdGhlIHByb3ZpZGVkIGxvY2FsV3JpdGVUaW1lLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseVRyYW5zZm9ybU9wZXJhdGlvblRvTG9jYWxWaWV3KGUsIHQsIG4pIHtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm0gPyBmdW5jdGlvbiBzZXJ2ZXJUaW1lc3RhbXAkMShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBfX3R5cGVfXzoge1xuICAgICAgICAgICAgICAgICAgICBzdHJpbmdWYWx1ZTogXCJzZXJ2ZXJfdGltZXN0YW1wXCJcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF9fbG9jYWxfd3JpdGVfdGltZV9fOiB7XG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzOiBlLnNlY29uZHMsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW5vczogZS5uYW5vc2Vjb25kc1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBXZSBzaG91bGQgYXZvaWQgc3RvcmluZyBkZWVwbHkgbmVzdGVkIHNlcnZlciB0aW1lc3RhbXAgbWFwIHZhbHVlc1xuICAgICAgICAvLyBiZWNhdXNlIHdlIG5ldmVyIHVzZSB0aGUgaW50ZXJtZWRpYXRlIFwicHJldmlvdXMgdmFsdWVzXCIuXG4gICAgICAgIC8vIEZvciBleGFtcGxlOlxuICAgICAgICAvLyBwcmV2aW91czogNDJMLCBhZGQ6IHQxLCByZXN1bHQ6IHQxIC0+IDQyTFxuICAgICAgICAvLyBwcmV2aW91czogdDEsICBhZGQ6IHQyLCByZXN1bHQ6IHQyIC0+IDQyTCAoTk9UIHQyIC0+IHQxIC0+IDQyTClcbiAgICAgICAgLy8gcHJldmlvdXM6IHQyLCAgYWRkOiB0MywgcmVzdWx0OiB0MyAtPiA0MkwgKE5PVCB0MyAtPiB0MiAtPiB0MSAtPiA0MkwpXG4gICAgICAgIC8vIGBnZXRQcmV2aW91c1ZhbHVlYCByZWN1cnNpdmVseSB0cmF2ZXJzZXMgc2VydmVyIHRpbWVzdGFtcHMgdG8gZmluZCB0aGVcbiAgICAgICAgLy8gbGVhc3QgcmVjZW50IFZhbHVlLlxuICAgICAgICAgICAgICAgIHJldHVybiB0ICYmIF9fUFJJVkFURV9pc1NlcnZlclRpbWVzdGFtcCh0KSAmJiAodCA9IF9fUFJJVkFURV9nZXRQcmV2aW91c1ZhbHVlKHQpKSwgXG4gICAgICAgIHQgJiYgKG4uZmllbGRzLl9fcHJldmlvdXNfdmFsdWVfXyA9IHQpLCB7XG4gICAgICAgICAgICBtYXBWYWx1ZTogblxuICAgICAgICB9O1xuICAgIH0obiwgdCkgOiBlIGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24gPyBfX1BSSVZBVEVfYXBwbHlBcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQpIDogZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbiA/IF9fUFJJVkFURV9hcHBseUFycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQpIDogZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5TnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvblRvTG9jYWxWaWV3KGUsIHQpIHtcbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBTaW5jZSBKYXZhU2NyaXB0J3MgaW50ZWdlciBhcml0aG1ldGljIGlzIGxpbWl0ZWQgdG8gNTMgYml0XG4gICAgICAgIC8vIHByZWNpc2lvbiBhbmQgcmVzb2x2ZXMgb3ZlcmZsb3dzIGJ5IHJlZHVjaW5nIHByZWNpc2lvbiwgd2UgZG8gbm90XG4gICAgICAgIC8vIG1hbnVhbGx5IGNhcCBvdmVyZmxvd3MgYXQgMl42My5cbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9jb21wdXRlVHJhbnNmb3JtT3BlcmF0aW9uQmFzZVZhbHVlKGUsIHQpLCByID0gYXNOdW1iZXIobikgKyBhc051bWJlcihlLlBlKTtcbiAgICAgICAgcmV0dXJuIGlzSW50ZWdlcihuKSAmJiBpc0ludGVnZXIoZS5QZSkgPyBfX1BSSVZBVEVfdG9JbnRlZ2VyKHIpIDogX19QUklWQVRFX3RvRG91YmxlKGUuc2VyaWFsaXplciwgcik7XG4gICAgfShlLCB0KTtcbn1cblxuLyoqXG4gKiBDb21wdXRlcyBhIGZpbmFsIHRyYW5zZm9ybSByZXN1bHQgYWZ0ZXIgdGhlIHRyYW5zZm9ybSBoYXMgYmVlbiBhY2tub3dsZWRnZWRcbiAqIGJ5IHRoZSBzZXJ2ZXIsIHBvdGVudGlhbGx5IHVzaW5nIHRoZSBzZXJ2ZXItcHJvdmlkZWQgdHJhbnNmb3JtUmVzdWx0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseVRyYW5zZm9ybU9wZXJhdGlvblRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgIC8vIFRoZSBzZXJ2ZXIganVzdCBzZW5kcyBudWxsIGFzIHRoZSB0cmFuc2Zvcm0gcmVzdWx0IGZvciBhcnJheSBvcGVyYXRpb25zLFxuICAgIC8vIHNvIHdlIGhhdmUgdG8gY2FsY3VsYXRlIGEgcmVzdWx0IHRoZSBzYW1lIGFzIHdlIGRvIGZvciBsb2NhbFxuICAgIC8vIGFwcGxpY2F0aW9ucy5cbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uID8gX19QUklWQVRFX2FwcGx5QXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbihlLCB0KSA6IGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24gPyBfX1BSSVZBVEVfYXBwbHlBcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbihlLCB0KSA6IG47XG59XG5cbi8qKlxuICogSWYgdGhpcyB0cmFuc2Zvcm0gb3BlcmF0aW9uIGlzIG5vdCBpZGVtcG90ZW50LCByZXR1cm5zIHRoZSBiYXNlIHZhbHVlIHRvXG4gKiBwZXJzaXN0IGZvciB0aGlzIHRyYW5zZm9ybS4gSWYgYSBiYXNlIHZhbHVlIGlzIHJldHVybmVkLCB0aGUgdHJhbnNmb3JtXG4gKiBvcGVyYXRpb24gaXMgYWx3YXlzIGFwcGxpZWQgdG8gdGhpcyBiYXNlIHZhbHVlLCBldmVuIGlmIGRvY3VtZW50IGhhc1xuICogYWxyZWFkeSBiZWVuIHVwZGF0ZWQuXG4gKlxuICogQmFzZSB2YWx1ZXMgcHJvdmlkZSBjb25zaXN0ZW50IGJlaGF2aW9yIGZvciBub24taWRlbXBvdGVudCB0cmFuc2Zvcm1zIGFuZFxuICogYWxsb3cgdXMgdG8gcmV0dXJuIHRoZSBzYW1lIGxhdGVuY3ktY29tcGVuc2F0ZWQgdmFsdWUgZXZlbiBpZiB0aGUgYmFja2VuZFxuICogaGFzIGFscmVhZHkgYXBwbGllZCB0aGUgdHJhbnNmb3JtIG9wZXJhdGlvbi4gVGhlIGJhc2UgdmFsdWUgaXMgbnVsbCBmb3JcbiAqIGlkZW1wb3RlbnQgdHJhbnNmb3JtcywgYXMgdGhleSBjYW4gYmUgcmUtcGxheWVkIGV2ZW4gaWYgdGhlIGJhY2tlbmQgaGFzXG4gKiBhbHJlYWR5IGFwcGxpZWQgdGhlbS5cbiAqXG4gKiBAcmV0dXJucyBhIGJhc2UgdmFsdWUgdG8gc3RvcmUgYWxvbmcgd2l0aCB0aGUgbXV0YXRpb24sIG9yIG51bGwgZm9yXG4gKiBpZGVtcG90ZW50IHRyYW5zZm9ybXMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NvbXB1dGVUcmFuc2Zvcm1PcGVyYXRpb25CYXNlVmFsdWUoZSwgdCkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRUcmFuc2Zvcm1PcGVyYXRpb24gPyBcbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgZWl0aGVyIGFuIEludGVnZXJWYWx1ZSBvciBhIERvdWJsZVZhbHVlLiAqL1xuICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9pc051bWJlcihlKSB7XG4gICAgICAgIHJldHVybiBpc0ludGVnZXIoZSkgfHwgZnVuY3Rpb24gX19QUklWQVRFX2lzRG91YmxlKGUpIHtcbiAgICAgICAgICAgIHJldHVybiAhIWUgJiYgXCJkb3VibGVWYWx1ZVwiIGluIGU7XG4gICAgICAgIH0oZSk7XG4gICAgfSh0KSA/IHQgOiB7XG4gICAgICAgIGludGVnZXJWYWx1ZTogMFxuICAgIH0gOiBudWxsO1xufVxuXG4vKiogVHJhbnNmb3JtcyBhIHZhbHVlIGludG8gYSBzZXJ2ZXItZ2VuZXJhdGVkIHRpbWVzdGFtcC4gKi9cbmNsYXNzIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm0gZXh0ZW5kcyBUcmFuc2Zvcm1PcGVyYXRpb24ge31cblxuLyoqIFRyYW5zZm9ybXMgYW4gYXJyYXkgdmFsdWUgdmlhIGEgdW5pb24gb3BlcmF0aW9uLiAqLyBjbGFzcyBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbiBleHRlbmRzIFRyYW5zZm9ybU9wZXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmVsZW1lbnRzID0gZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseUFycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY29lcmNlZEZpZWxkVmFsdWVzQXJyYXkodCk7XG4gICAgZm9yIChjb25zdCB0IG9mIGUuZWxlbWVudHMpIG4uc29tZSgoZSA9PiBfX1BSSVZBVEVfdmFsdWVFcXVhbHMoZSwgdCkpKSB8fCBuLnB1c2godCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXJyYXlWYWx1ZToge1xuICAgICAgICAgICAgdmFsdWVzOiBuXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKiogVHJhbnNmb3JtcyBhbiBhcnJheSB2YWx1ZSB2aWEgYSByZW1vdmUgb3BlcmF0aW9uLiAqLyBjbGFzcyBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24gZXh0ZW5kcyBUcmFuc2Zvcm1PcGVyYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5lbGVtZW50cyA9IGU7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlBcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbihlLCB0KSB7XG4gICAgbGV0IG4gPSBfX1BSSVZBVEVfY29lcmNlZEZpZWxkVmFsdWVzQXJyYXkodCk7XG4gICAgZm9yIChjb25zdCB0IG9mIGUuZWxlbWVudHMpIG4gPSBuLmZpbHRlcigoZSA9PiAhX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUsIHQpKSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXJyYXlWYWx1ZToge1xuICAgICAgICAgICAgdmFsdWVzOiBuXG4gICAgICAgIH1cbiAgICB9O1xufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIGJhY2tlbmQgc2VtYW50aWNzIGZvciBsb2NhbGx5IGNvbXB1dGVkIE5VTUVSSUNfQUREIChpbmNyZW1lbnQpXG4gKiB0cmFuc2Zvcm1zLiBDb252ZXJ0cyBhbGwgZmllbGQgdmFsdWVzIHRvIGludGVnZXJzIG9yIGRvdWJsZXMsIGJ1dCB1bmxpa2UgdGhlXG4gKiBiYWNrZW5kIGRvZXMgbm90IGNhcCBpbnRlZ2VyIHZhbHVlcyBhdCAyXjYzLiBJbnN0ZWFkLCBKYXZhU2NyaXB0IG51bWJlclxuICogYXJpdGhtZXRpYyBpcyB1c2VkIGFuZCBwcmVjaXNpb24gbG9zcyBjYW4gb2NjdXIgZm9yIHZhbHVlcyBncmVhdGVyIHRoYW4gMl41My5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvbiBleHRlbmRzIFRyYW5zZm9ybU9wZXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLnNlcmlhbGl6ZXIgPSBlLCB0aGlzLlBlID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGFzTnVtYmVyKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmludGVnZXJWYWx1ZSB8fCBlLmRvdWJsZVZhbHVlKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvZXJjZWRGaWVsZFZhbHVlc0FycmF5KGUpIHtcbiAgICByZXR1cm4gaXNBcnJheShlKSAmJiBlLmFycmF5VmFsdWUudmFsdWVzID8gZS5hcnJheVZhbHVlLnZhbHVlcy5zbGljZSgpIDogW107XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogQSBmaWVsZCBwYXRoIGFuZCB0aGUgVHJhbnNmb3JtT3BlcmF0aW9uIHRvIHBlcmZvcm0gdXBvbiBpdC4gKi8gY2xhc3MgRmllbGRUcmFuc2Zvcm0ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5maWVsZCA9IGUsIHRoaXMudHJhbnNmb3JtID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZFRyYW5zZm9ybUVxdWFscyhlLCB0KSB7XG4gICAgcmV0dXJuIGUuZmllbGQuaXNFcXVhbCh0LmZpZWxkKSAmJiBmdW5jdGlvbiBfX1BSSVZBVEVfdHJhbnNmb3JtT3BlcmF0aW9uRXF1YWxzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbiAmJiB0IGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24gfHwgZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbiAmJiB0IGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uID8gX19QUklWQVRFX2FycmF5RXF1YWxzKGUuZWxlbWVudHMsIHQuZWxlbWVudHMsIF9fUFJJVkFURV92YWx1ZUVxdWFscykgOiBlIGluc3RhbmNlb2YgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRUcmFuc2Zvcm1PcGVyYXRpb24gJiYgdCBpbnN0YW5jZW9mIF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uID8gX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUuUGUsIHQuUGUpIDogZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm0gJiYgdCBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm07XG4gICAgfShlLnRyYW5zZm9ybSwgdC50cmFuc2Zvcm0pO1xufVxuXG4vKiogVGhlIHJlc3VsdCBvZiBzdWNjZXNzZnVsbHkgYXBwbHlpbmcgYSBtdXRhdGlvbiB0byB0aGUgYmFja2VuZC4gKi9cbmNsYXNzIE11dGF0aW9uUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgdmVyc2lvbiBhdCB3aGljaCB0aGUgbXV0YXRpb24gd2FzIGNvbW1pdHRlZDpcbiAgICAgKlxuICAgICAqIC0gRm9yIG1vc3Qgb3BlcmF0aW9ucywgdGhpcyBpcyB0aGUgdXBkYXRlVGltZSBpbiB0aGUgV3JpdGVSZXN1bHQuXG4gICAgICogLSBGb3IgZGVsZXRlcywgdGhlIGNvbW1pdFRpbWUgb2YgdGhlIFdyaXRlUmVzcG9uc2UgKGJlY2F1c2UgZGVsZXRlcyBhcmVcbiAgICAgKiAgIG5vdCBzdG9yZWQgYW5kIGhhdmUgbm8gdXBkYXRlVGltZSkuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhlc2UgdmVyc2lvbnMgY2FuIGJlIGRpZmZlcmVudDogTm8tb3Agd3JpdGVzIHdpbGwgbm90IGNoYW5nZVxuICAgICAqIHRoZSB1cGRhdGVUaW1lIGV2ZW4gdGhvdWdoIHRoZSBjb21taXRUaW1lIGFkdmFuY2VzLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSByZXN1bHRpbmcgZmllbGRzIHJldHVybmVkIGZyb20gdGhlIGJhY2tlbmQgYWZ0ZXIgYSBtdXRhdGlvblxuICAgICAqIGNvbnRhaW5pbmcgZmllbGQgdHJhbnNmb3JtcyBoYXMgYmVlbiBjb21taXR0ZWQuIENvbnRhaW5zIG9uZSBGaWVsZFZhbHVlXG4gICAgICogZm9yIGVhY2ggRmllbGRUcmFuc2Zvcm0gdGhhdCB3YXMgaW4gdGhlIG11dGF0aW9uLlxuICAgICAqXG4gICAgICogV2lsbCBiZSBlbXB0eSBpZiB0aGUgbXV0YXRpb24gZGlkIG5vdCBjb250YWluIGFueSBmaWVsZCB0cmFuc2Zvcm1zLlxuICAgICAqL1xuICAgIHQpIHtcbiAgICAgICAgdGhpcy52ZXJzaW9uID0gZSwgdGhpcy50cmFuc2Zvcm1SZXN1bHRzID0gdDtcbiAgICB9XG59XG5cbi8qKlxuICogRW5jb2RlcyBhIHByZWNvbmRpdGlvbiBmb3IgYSBtdXRhdGlvbi4gVGhpcyBmb2xsb3dzIHRoZSBtb2RlbCB0aGF0IHRoZVxuICogYmFja2VuZCBhY2NlcHRzIHdpdGggdGhlIHNwZWNpYWwgY2FzZSBvZiBhbiBleHBsaWNpdCBcImVtcHR5XCIgcHJlY29uZGl0aW9uXG4gKiAobWVhbmluZyBubyBwcmVjb25kaXRpb24pLlxuICovIGNsYXNzIFByZWNvbmRpdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnVwZGF0ZVRpbWUgPSBlLCB0aGlzLmV4aXN0cyA9IHQ7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IGVtcHR5IFByZWNvbmRpdGlvbi4gKi8gICAgc3RhdGljIG5vbmUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJlY29uZGl0aW9uO1xuICAgIH1cbiAgICAvKiogQ3JlYXRlcyBhIG5ldyBQcmVjb25kaXRpb24gd2l0aCBhbiBleGlzdHMgZmxhZy4gKi8gICAgc3RhdGljIGV4aXN0cyhlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJlY29uZGl0aW9uKHZvaWQgMCwgZSk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IFByZWNvbmRpdGlvbiBiYXNlZCBvbiBhIHZlcnNpb24gYSBkb2N1bWVudCBleGlzdHMgYXQuICovICAgIHN0YXRpYyB1cGRhdGVUaW1lKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcmVjb25kaXRpb24oZSk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHdoZXRoZXIgdGhpcyBQcmVjb25kaXRpb24gaXMgZW1wdHkuICovICAgIGdldCBpc05vbmUoKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgPT09IHRoaXMudXBkYXRlVGltZSAmJiB2b2lkIDAgPT09IHRoaXMuZXhpc3RzO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhpc3RzID09PSBlLmV4aXN0cyAmJiAodGhpcy51cGRhdGVUaW1lID8gISFlLnVwZGF0ZVRpbWUgJiYgdGhpcy51cGRhdGVUaW1lLmlzRXF1YWwoZS51cGRhdGVUaW1lKSA6ICFlLnVwZGF0ZVRpbWUpO1xuICAgIH1cbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJlY29uZGl0aW9ucyBpcyB2YWxpZCBmb3IgdGhlIGdpdmVuIGRvY3VtZW50LiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcHJlY29uZGl0aW9uSXNWYWxpZEZvckRvY3VtZW50KGUsIHQpIHtcbiAgICByZXR1cm4gdm9pZCAwICE9PSBlLnVwZGF0ZVRpbWUgPyB0LmlzRm91bmREb2N1bWVudCgpICYmIHQudmVyc2lvbi5pc0VxdWFsKGUudXBkYXRlVGltZSkgOiB2b2lkIDAgPT09IGUuZXhpc3RzIHx8IGUuZXhpc3RzID09PSB0LmlzRm91bmREb2N1bWVudCgpO1xufVxuXG4vKipcbiAqIEEgbXV0YXRpb24gZGVzY3JpYmVzIGEgc2VsZi1jb250YWluZWQgY2hhbmdlIHRvIGEgZG9jdW1lbnQuIE11dGF0aW9ucyBjYW5cbiAqIGNyZWF0ZSwgcmVwbGFjZSwgZGVsZXRlLCBhbmQgdXBkYXRlIHN1YnNldHMgb2YgZG9jdW1lbnRzLlxuICpcbiAqIE11dGF0aW9ucyBub3Qgb25seSBhY3Qgb24gdGhlIHZhbHVlIG9mIHRoZSBkb2N1bWVudCBidXQgYWxzbyBpdHMgdmVyc2lvbi5cbiAqXG4gKiBGb3IgbG9jYWwgbXV0YXRpb25zIChtdXRhdGlvbnMgdGhhdCBoYXZlbid0IGJlZW4gY29tbWl0dGVkIHlldCksIHdlIHByZXNlcnZlXG4gKiB0aGUgZXhpc3RpbmcgdmVyc2lvbiBmb3IgU2V0IGFuZCBQYXRjaCBtdXRhdGlvbnMuIEZvciBEZWxldGUgbXV0YXRpb25zLCB3ZVxuICogcmVzZXQgdGhlIHZlcnNpb24gdG8gMC5cbiAqXG4gKiBIZXJlJ3MgdGhlIGV4cGVjdGVkIHRyYW5zaXRpb24gdGFibGUuXG4gKlxuICogTVVUQVRJT04gICAgICAgICAgIEFQUExJRUQgVE8gICAgICAgICAgICBSRVNVTFRTIElOXG4gKlxuICogU2V0TXV0YXRpb24gICAgICAgIERvY3VtZW50KHYzKSAgICAgICAgICBEb2N1bWVudCh2MylcbiAqIFNldE11dGF0aW9uICAgICAgICBOb0RvY3VtZW50KHYzKSAgICAgICAgRG9jdW1lbnQodjApXG4gKiBTZXRNdXRhdGlvbiAgICAgICAgSW52YWxpZERvY3VtZW50KHYwKSAgIERvY3VtZW50KHYwKVxuICogUGF0Y2hNdXRhdGlvbiAgICAgIERvY3VtZW50KHYzKSAgICAgICAgICBEb2N1bWVudCh2MylcbiAqIFBhdGNoTXV0YXRpb24gICAgICBOb0RvY3VtZW50KHYzKSAgICAgICAgTm9Eb2N1bWVudCh2MylcbiAqIFBhdGNoTXV0YXRpb24gICAgICBJbnZhbGlkRG9jdW1lbnQodjApICAgVW5rbm93bkRvY3VtZW50KHYzKVxuICogRGVsZXRlTXV0YXRpb24gICAgIERvY3VtZW50KHYzKSAgICAgICAgICBOb0RvY3VtZW50KHYwKVxuICogRGVsZXRlTXV0YXRpb24gICAgIE5vRG9jdW1lbnQodjMpICAgICAgICBOb0RvY3VtZW50KHYwKVxuICogRGVsZXRlTXV0YXRpb24gICAgIEludmFsaWREb2N1bWVudCh2MCkgICBOb0RvY3VtZW50KHYwKVxuICpcbiAqIEZvciBhY2tub3dsZWRnZWQgbXV0YXRpb25zLCB3ZSB1c2UgdGhlIHVwZGF0ZVRpbWUgb2YgdGhlIFdyaXRlUmVzcG9uc2UgYXNcbiAqIHRoZSByZXN1bHRpbmcgdmVyc2lvbiBmb3IgU2V0IGFuZCBQYXRjaCBtdXRhdGlvbnMuIEFzIGRlbGV0ZXMgaGF2ZSBub1xuICogZXhwbGljaXQgdXBkYXRlIHRpbWUsIHdlIHVzZSB0aGUgY29tbWl0VGltZSBvZiB0aGUgV3JpdGVSZXNwb25zZSBmb3JcbiAqIERlbGV0ZSBtdXRhdGlvbnMuXG4gKlxuICogSWYgYSBtdXRhdGlvbiBpcyBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmQgYnV0IGZhaWxzIHRoZSBwcmVjb25kaXRpb24gY2hlY2tcbiAqIGxvY2FsbHksIHdlIHRyYW5zaXRpb24gdG8gYW4gYFVua25vd25Eb2N1bWVudGAgYW5kIHJlbHkgb24gV2F0Y2ggdG8gc2VuZCB1c1xuICogdGhlIHVwZGF0ZWQgdmVyc2lvbi5cbiAqXG4gKiBGaWVsZCB0cmFuc2Zvcm1zIGFyZSB1c2VkIG9ubHkgd2l0aCBQYXRjaCBhbmQgU2V0IE11dGF0aW9ucy4gV2UgdXNlIHRoZVxuICogYHVwZGF0ZVRyYW5zZm9ybXNgIG1lc3NhZ2UgdG8gc3RvcmUgdHJhbnNmb3JtcywgcmF0aGVyIHRoYW4gdGhlIGB0cmFuc2Zvcm1zYHNcbiAqIG1lc3NhZ2VzLlxuICpcbiAqICMjIFN1YmNsYXNzaW5nIE5vdGVzXG4gKlxuICogRXZlcnkgdHlwZSBvZiBtdXRhdGlvbiBuZWVkcyB0byBpbXBsZW1lbnQgaXRzIG93biBhcHBseVRvUmVtb3RlRG9jdW1lbnQoKSBhbmRcbiAqIGFwcGx5VG9Mb2NhbFZpZXcoKSB0byBpbXBsZW1lbnQgdGhlIGFjdHVhbCBiZWhhdmlvciBvZiBhcHBseWluZyB0aGUgbXV0YXRpb25cbiAqIHRvIHNvbWUgc291cmNlIGRvY3VtZW50IChzZWUgYHNldE11dGF0aW9uQXBwbHlUb1JlbW90ZURvY3VtZW50KClgIGZvciBhblxuICogZXhhbXBsZSkuXG4gKi8gY2xhc3MgTXV0YXRpb24ge31cblxuLyoqXG4gKiBBIHV0aWxpdHkgbWV0aG9kIHRvIGNhbGN1bGF0ZSBhIGBNdXRhdGlvbmAgcmVwcmVzZW50aW5nIHRoZSBvdmVybGF5IGZyb20gdGhlXG4gKiBmaW5hbCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQsIGFuZCBhIGBGaWVsZE1hc2tgIHJlcHJlc2VudGluZyB0aGUgZmllbGRzIHRoYXRcbiAqIGFyZSBtdXRhdGVkIGJ5IHRoZSBsb2NhbCBtdXRhdGlvbnMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NhbGN1bGF0ZU92ZXJsYXlNdXRhdGlvbihlLCB0KSB7XG4gICAgaWYgKCFlLmhhc0xvY2FsTXV0YXRpb25zIHx8IHQgJiYgMCA9PT0gdC5maWVsZHMubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAvLyBtYXNrIGlzIG51bGwgd2hlbiBzZXRzIG9yIGRlbGV0ZXMgYXJlIGFwcGxpZWQgdG8gdGhlIGN1cnJlbnQgZG9jdW1lbnQuXG4gICAgICAgIGlmIChudWxsID09PSB0KSByZXR1cm4gZS5pc05vRG9jdW1lbnQoKSA/IG5ldyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24oZS5rZXksIFByZWNvbmRpdGlvbi5ub25lKCkpIDogbmV3IF9fUFJJVkFURV9TZXRNdXRhdGlvbihlLmtleSwgZS5kYXRhLCBQcmVjb25kaXRpb24ubm9uZSgpKTtcbiAgICB7XG4gICAgICAgIGNvbnN0IG4gPSBlLmRhdGEsIHIgPSBPYmplY3RWYWx1ZS5lbXB0eSgpO1xuICAgICAgICBsZXQgaSA9IG5ldyBTb3J0ZWRTZXQoRmllbGRQYXRoJDEuY29tcGFyYXRvcik7XG4gICAgICAgIGZvciAobGV0IGUgb2YgdC5maWVsZHMpIGlmICghaS5oYXMoZSkpIHtcbiAgICAgICAgICAgIGxldCB0ID0gbi5maWVsZChlKTtcbiAgICAgICAgICAgIC8vIElmIHdlIGFyZSBkZWxldGluZyBhIG5lc3RlZCBmaWVsZCwgd2UgdGFrZSB0aGUgaW1tZWRpYXRlIHBhcmVudCBhc1xuICAgICAgICAgICAgLy8gdGhlIG1hc2sgdXNlZCB0byBjb25zdHJ1Y3QgdGhlIHJlc3VsdGluZyBtdXRhdGlvbi5cbiAgICAgICAgICAgIC8vIEp1c3RpZmljYXRpb246IE5lc3RlZCBmaWVsZHMgY2FuIGNyZWF0ZSBwYXJlbnQgZmllbGRzIGltcGxpY2l0bHkuIElmXG4gICAgICAgICAgICAvLyBvbmx5IGEgbGVhZiBlbnRyeSBpcyBkZWxldGVkIGluIGxhdGVyIG11dGF0aW9ucywgdGhlIHBhcmVudCBmaWVsZFxuICAgICAgICAgICAgLy8gc2hvdWxkIHN0aWxsIHJlbWFpbiwgYnV0IHdlIG1heSBoYXZlIGxvc3QgdGhpcyBpbmZvcm1hdGlvbi5cbiAgICAgICAgICAgIC8vIENvbnNpZGVyIG11dGF0aW9uIChmb28uYmFyIDEpLCB0aGVuIG11dGF0aW9uIChmb28uYmFyIGRlbGV0ZSgpKS5cbiAgICAgICAgICAgIC8vIFRoaXMgbGVhdmVzIHRoZSBmaW5hbCByZXN1bHQgKGZvbywge30pLiBEZXNwaXRlIHRoZSBmYWN0IHRoYXQgYGRvY2BcbiAgICAgICAgICAgIC8vIGhhcyB0aGUgY29ycmVjdCByZXN1bHQsIGBmb29gIGlzIG5vdCBpbiBgbWFza2AsIGFuZCB0aGUgcmVzdWx0aW5nXG4gICAgICAgICAgICAvLyBtdXRhdGlvbiB3b3VsZCBtaXNzIGBmb29gLlxuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCA9PT0gdCAmJiBlLmxlbmd0aCA+IDEgJiYgKGUgPSBlLnBvcExhc3QoKSwgdCA9IG4uZmllbGQoZSkpLCBudWxsID09PSB0ID8gci5kZWxldGUoZSkgOiByLnNldChlLCB0KSwgXG4gICAgICAgICAgICBpID0gaS5hZGQoZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbihlLmtleSwgciwgbmV3IEZpZWxkTWFzayhpLnRvQXJyYXkoKSksIFByZWNvbmRpdGlvbi5ub25lKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoaXMgbXV0YXRpb24gdG8gdGhlIGdpdmVuIGRvY3VtZW50IGZvciB0aGUgcHVycG9zZXMgb2YgY29tcHV0aW5nIGFcbiAqIG5ldyByZW1vdGUgZG9jdW1lbnQuIElmIHRoZSBpbnB1dCBkb2N1bWVudCBkb2Vzbid0IG1hdGNoIHRoZSBleHBlY3RlZCBzdGF0ZVxuICogKGUuZy4gaXQgaXMgaW52YWxpZCBvciBvdXRkYXRlZCksIHRoZSBkb2N1bWVudCB0eXBlIG1heSB0cmFuc2l0aW9uIHRvXG4gKiB1bmtub3duLlxuICpcbiAqIEBwYXJhbSBtdXRhdGlvbiAtIFRoZSBtdXRhdGlvbiB0byBhcHBseS5cbiAqIEBwYXJhbSBkb2N1bWVudCAtIFRoZSBkb2N1bWVudCB0byBtdXRhdGUuIFRoZSBpbnB1dCBkb2N1bWVudCBjYW4gYmUgYW5cbiAqICAgICBpbnZhbGlkIGRvY3VtZW50IGlmIHRoZSBjbGllbnQgaGFzIG5vIGtub3dsZWRnZSBvZiB0aGUgcHJlLW11dGF0aW9uIHN0YXRlXG4gKiAgICAgb2YgdGhlIGRvY3VtZW50LlxuICogQHBhcmFtIG11dGF0aW9uUmVzdWx0IC0gVGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgbXV0YXRpb24gZnJvbSB0aGUgYmFja2VuZC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfU2V0TXV0YXRpb24gPyBmdW5jdGlvbiBfX1BSSVZBVEVfc2V0TXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgICAgICAvLyBVbmxpa2Ugc2V0TXV0YXRpb25BcHBseVRvTG9jYWxWaWV3LCBpZiB3ZSdyZSBhcHBseWluZyBhIG11dGF0aW9uIHRvIGFcbiAgICAgICAgLy8gcmVtb3RlIGRvY3VtZW50IHRoZSBzZXJ2ZXIgaGFzIGFjY2VwdGVkIHRoZSBtdXRhdGlvbiBzbyB0aGUgcHJlY29uZGl0aW9uXG4gICAgICAgIC8vIG11c3QgaGF2ZSBoZWxkLlxuICAgICAgICBjb25zdCByID0gZS52YWx1ZS5jbG9uZSgpLCBpID0gX19QUklWQVRFX3NlcnZlclRyYW5zZm9ybVJlc3VsdHMoZS5maWVsZFRyYW5zZm9ybXMsIHQsIG4udHJhbnNmb3JtUmVzdWx0cyk7XG4gICAgICAgIHIuc2V0QWxsKGkpLCB0LmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQobi52ZXJzaW9uLCByKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTtcbiAgICB9KGUsIHQsIG4pIDogZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9QYXRjaE11dGF0aW9uID8gZnVuY3Rpb24gX19QUklWQVRFX3BhdGNoTXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgICAgICBpZiAoIV9fUFJJVkFURV9wcmVjb25kaXRpb25Jc1ZhbGlkRm9yRG9jdW1lbnQoZS5wcmVjb25kaXRpb24sIHQpKSBcbiAgICAgICAgLy8gU2luY2UgdGhlIG11dGF0aW9uIHdhcyBub3QgcmVqZWN0ZWQsIHdlIGtub3cgdGhhdCB0aGUgcHJlY29uZGl0aW9uXG4gICAgICAgIC8vIG1hdGNoZWQgb24gdGhlIGJhY2tlbmQuIFdlIHRoZXJlZm9yZSBtdXN0IG5vdCBoYXZlIHRoZSBleHBlY3RlZCB2ZXJzaW9uXG4gICAgICAgIC8vIG9mIHRoZSBkb2N1bWVudCBpbiBvdXIgY2FjaGUgYW5kIGNvbnZlcnQgdG8gYW4gVW5rbm93bkRvY3VtZW50IHdpdGggYVxuICAgICAgICAvLyBrbm93biB1cGRhdGVUaW1lLlxuICAgICAgICByZXR1cm4gdm9pZCB0LmNvbnZlcnRUb1Vua25vd25Eb2N1bWVudChuLnZlcnNpb24pO1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX3NlcnZlclRyYW5zZm9ybVJlc3VsdHMoZS5maWVsZFRyYW5zZm9ybXMsIHQsIG4udHJhbnNmb3JtUmVzdWx0cyksIGkgPSB0LmRhdGE7XG4gICAgICAgIGkuc2V0QWxsKF9fUFJJVkFURV9nZXRQYXRjaChlKSksIGkuc2V0QWxsKHIpLCB0LmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQobi52ZXJzaW9uLCBpKS5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTtcbiAgICB9KGUsIHQsIG4pIDogZnVuY3Rpb24gX19QUklWQVRFX2RlbGV0ZU11dGF0aW9uQXBwbHlUb1JlbW90ZURvY3VtZW50KGUsIHQsIG4pIHtcbiAgICAgICAgLy8gVW5saWtlIGFwcGx5VG9Mb2NhbFZpZXcsIGlmIHdlJ3JlIGFwcGx5aW5nIGEgbXV0YXRpb24gdG8gYSByZW1vdGVcbiAgICAgICAgLy8gZG9jdW1lbnQgdGhlIHNlcnZlciBoYXMgYWNjZXB0ZWQgdGhlIG11dGF0aW9uIHNvIHRoZSBwcmVjb25kaXRpb24gbXVzdFxuICAgICAgICAvLyBoYXZlIGhlbGQuXG4gICAgICAgIHQuY29udmVydFRvTm9Eb2N1bWVudChuLnZlcnNpb24pLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpO1xuICAgIH0oMCwgdCwgbik7XG59XG5cbi8qKlxuICogQXBwbGllcyB0aGlzIG11dGF0aW9uIHRvIHRoZSBnaXZlbiBkb2N1bWVudCBmb3IgdGhlIHB1cnBvc2VzIG9mIGNvbXB1dGluZ1xuICogdGhlIG5ldyBsb2NhbCB2aWV3IG9mIGEgZG9jdW1lbnQuIElmIHRoZSBpbnB1dCBkb2N1bWVudCBkb2Vzbid0IG1hdGNoIHRoZVxuICogZXhwZWN0ZWQgc3RhdGUsIHRoZSBkb2N1bWVudCBpcyBub3QgbW9kaWZpZWQuXG4gKlxuICogQHBhcmFtIG11dGF0aW9uIC0gVGhlIG11dGF0aW9uIHRvIGFwcGx5LlxuICogQHBhcmFtIGRvY3VtZW50IC0gVGhlIGRvY3VtZW50IHRvIG11dGF0ZS4gVGhlIGlucHV0IGRvY3VtZW50IGNhbiBiZSBhblxuICogICAgIGludmFsaWQgZG9jdW1lbnQgaWYgdGhlIGNsaWVudCBoYXMgbm8ga25vd2xlZGdlIG9mIHRoZSBwcmUtbXV0YXRpb24gc3RhdGVcbiAqICAgICBvZiB0aGUgZG9jdW1lbnQuXG4gKiBAcGFyYW0gcHJldmlvdXNNYXNrIC0gVGhlIGZpZWxkcyB0aGF0IGhhdmUgYmVlbiB1cGRhdGVkIGJlZm9yZSBhcHBseWluZyB0aGlzIG11dGF0aW9uLlxuICogQHBhcmFtIGxvY2FsV3JpdGVUaW1lIC0gQSB0aW1lc3RhbXAgaW5kaWNhdGluZyB0aGUgbG9jYWwgd3JpdGUgdGltZSBvZiB0aGVcbiAqICAgICBiYXRjaCB0aGlzIG11dGF0aW9uIGlzIGEgcGFydCBvZi5cbiAqIEByZXR1cm5zIEEgYEZpZWxkTWFza2AgcmVwcmVzZW50aW5nIHRoZSBmaWVsZHMgdGhhdCBhcmUgY2hhbmdlZCBieSBhcHBseWluZyB0aGlzIG11dGF0aW9uLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcoZSwgdCwgbiwgcikge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX1NldE11dGF0aW9uID8gZnVuY3Rpb24gX19QUklWQVRFX3NldE11dGF0aW9uQXBwbHlUb0xvY2FsVmlldyhlLCB0LCBuLCByKSB7XG4gICAgICAgIGlmICghX19QUklWQVRFX3ByZWNvbmRpdGlvbklzVmFsaWRGb3JEb2N1bWVudChlLnByZWNvbmRpdGlvbiwgdCkpIFxuICAgICAgICAvLyBUaGUgbXV0YXRpb24gZmFpbGVkIHRvIGFwcGx5IChlLmcuIGEgZG9jdW1lbnQgSUQgY3JlYXRlZCB3aXRoIGFkZCgpXG4gICAgICAgIC8vIGNhdXNlZCBhIG5hbWUgY29sbGlzaW9uKS5cbiAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIGNvbnN0IGkgPSBlLnZhbHVlLmNsb25lKCksIHMgPSBfX1BSSVZBVEVfbG9jYWxUcmFuc2Zvcm1SZXN1bHRzKGUuZmllbGRUcmFuc2Zvcm1zLCByLCB0KTtcbiAgICAgICAgcmV0dXJuIGkuc2V0QWxsKHMpLCB0LmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQodC52ZXJzaW9uLCBpKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpLCBcbiAgICAgICAgbnVsbDtcbiAvLyBTZXRNdXRhdGlvbiBvdmVyd3JpdGVzIGFsbCBmaWVsZHMuXG4gICAgICAgIH1cbiAgICAvKipcbiAqIEEgbXV0YXRpb24gdGhhdCBtb2RpZmllcyBmaWVsZHMgb2YgdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBrZXkgd2l0aCB0aGVcbiAqIGdpdmVuIHZhbHVlcy4gVGhlIHZhbHVlcyBhcmUgYXBwbGllZCB0aHJvdWdoIGEgZmllbGQgbWFzazpcbiAqXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gYm90aCB0aGUgbWFzayBhbmQgdGhlIHZhbHVlcywgdGhlIGNvcnJlc3BvbmRpbmcgZmllbGRcbiAqICAgIGlzIHVwZGF0ZWQuXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gbmVpdGhlciB0aGUgbWFzayBub3IgdGhlIHZhbHVlcywgdGhlIGNvcnJlc3BvbmRpbmdcbiAqICAgIGZpZWxkIGlzIHVubW9kaWZpZWQuXG4gKiAgKiBXaGVuIGEgZmllbGQgaXMgaW4gdGhlIG1hc2sgYnV0IG5vdCBpbiB0aGUgdmFsdWVzLCB0aGUgY29ycmVzcG9uZGluZyBmaWVsZFxuICogICAgaXMgZGVsZXRlZC5cbiAqICAqIFdoZW4gYSBmaWVsZCBpcyBub3QgaW4gdGhlIG1hc2sgYnV0IGlzIGluIHRoZSB2YWx1ZXMsIHRoZSB2YWx1ZXMgbWFwIGlzXG4gKiAgICBpZ25vcmVkLlxuICovIChlLCB0LCBuLCByKSA6IGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbiA/IGZ1bmN0aW9uIF9fUFJJVkFURV9wYXRjaE11dGF0aW9uQXBwbHlUb0xvY2FsVmlldyhlLCB0LCBuLCByKSB7XG4gICAgICAgIGlmICghX19QUklWQVRFX3ByZWNvbmRpdGlvbklzVmFsaWRGb3JEb2N1bWVudChlLnByZWNvbmRpdGlvbiwgdCkpIHJldHVybiBuO1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2xvY2FsVHJhbnNmb3JtUmVzdWx0cyhlLmZpZWxkVHJhbnNmb3JtcywgciwgdCksIHMgPSB0LmRhdGE7XG4gICAgICAgIGlmIChzLnNldEFsbChfX1BSSVZBVEVfZ2V0UGF0Y2goZSkpLCBzLnNldEFsbChpKSwgdC5jb252ZXJ0VG9Gb3VuZERvY3VtZW50KHQudmVyc2lvbiwgcykuc2V0SGFzTG9jYWxNdXRhdGlvbnMoKSwgXG4gICAgICAgIG51bGwgPT09IG4pIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gbi51bmlvbldpdGgoZS5maWVsZE1hc2suZmllbGRzKS51bmlvbldpdGgoZS5maWVsZFRyYW5zZm9ybXMubWFwKChlID0+IGUuZmllbGQpKSk7XG4gICAgfVxuICAgIC8qKlxuICogUmV0dXJucyBhIEZpZWxkUGF0aC9WYWx1ZSBtYXAgd2l0aCB0aGUgY29udGVudCBvZiB0aGUgUGF0Y2hNdXRhdGlvbi5cbiAqLyAoZSwgdCwgbiwgcikgOiBmdW5jdGlvbiBfX1BSSVZBVEVfZGVsZXRlTXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KGUsIHQsIG4pIHtcbiAgICAgICAgaWYgKF9fUFJJVkFURV9wcmVjb25kaXRpb25Jc1ZhbGlkRm9yRG9jdW1lbnQoZS5wcmVjb25kaXRpb24sIHQpKSByZXR1cm4gdC5jb252ZXJ0VG9Ob0RvY3VtZW50KHQudmVyc2lvbikuc2V0SGFzTG9jYWxNdXRhdGlvbnMoKSwgXG4gICAgICAgIG51bGw7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICAvKipcbiAqIEEgbXV0YXRpb24gdGhhdCB2ZXJpZmllcyB0aGUgZXhpc3RlbmNlIG9mIHRoZSBkb2N1bWVudCBhdCB0aGUgZ2l2ZW4ga2V5IHdpdGhcbiAqIHRoZSBwcm92aWRlZCBwcmVjb25kaXRpb24uXG4gKlxuICogVGhlIGB2ZXJpZnlgIG9wZXJhdGlvbiBpcyBvbmx5IHVzZWQgaW4gVHJhbnNhY3Rpb25zLCBhbmQgdGhpcyBjbGFzcyBzZXJ2ZXNcbiAqIHByaW1hcmlseSB0byBmYWNpbGl0YXRlIHNlcmlhbGl6YXRpb24gaW50byBwcm90b3MuXG4gKi8gKGUsIHQsIG4pO1xufVxuXG4vKipcbiAqIElmIHRoaXMgbXV0YXRpb24gaXMgbm90IGlkZW1wb3RlbnQsIHJldHVybnMgdGhlIGJhc2UgdmFsdWUgdG8gcGVyc2lzdCB3aXRoXG4gKiB0aGlzIG11dGF0aW9uLiBJZiBhIGJhc2UgdmFsdWUgaXMgcmV0dXJuZWQsIHRoZSBtdXRhdGlvbiBpcyBhbHdheXMgYXBwbGllZFxuICogdG8gdGhpcyBiYXNlIHZhbHVlLCBldmVuIGlmIGRvY3VtZW50IGhhcyBhbHJlYWR5IGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBUaGUgYmFzZSB2YWx1ZSBpcyBhIHNwYXJzZSBvYmplY3QgdGhhdCBjb25zaXN0cyBvZiBvbmx5IHRoZSBkb2N1bWVudFxuICogZmllbGRzIGZvciB3aGljaCB0aGlzIG11dGF0aW9uIGNvbnRhaW5zIGEgbm9uLWlkZW1wb3RlbnQgdHJhbnNmb3JtYXRpb25cbiAqIChlLmcuIGEgbnVtZXJpYyBpbmNyZW1lbnQpLiBUaGUgcHJvdmlkZWQgdmFsdWUgZ3VhcmFudGVlcyBjb25zaXN0ZW50XG4gKiBiZWhhdmlvciBmb3Igbm9uLWlkZW1wb3RlbnQgdHJhbnNmb3JtcyBhbmQgYWxsb3cgdXMgdG8gcmV0dXJuIHRoZSBzYW1lXG4gKiBsYXRlbmN5LWNvbXBlbnNhdGVkIHZhbHVlIGV2ZW4gaWYgdGhlIGJhY2tlbmQgaGFzIGFscmVhZHkgYXBwbGllZCB0aGVcbiAqIG11dGF0aW9uLiBUaGUgYmFzZSB2YWx1ZSBpcyBudWxsIGZvciBpZGVtcG90ZW50IG11dGF0aW9ucywgYXMgdGhleSBjYW4gYmVcbiAqIHJlLXBsYXllZCBldmVuIGlmIHRoZSBiYWNrZW5kIGhhcyBhbHJlYWR5IGFwcGxpZWQgdGhlbS5cbiAqXG4gKiBAcmV0dXJucyBhIGJhc2UgdmFsdWUgdG8gc3RvcmUgYWxvbmcgd2l0aCB0aGUgbXV0YXRpb24sIG9yIG51bGwgZm9yXG4gKiBpZGVtcG90ZW50IG11dGF0aW9ucy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25FeHRyYWN0QmFzZVZhbHVlKGUsIHQpIHtcbiAgICBsZXQgbiA9IG51bGw7XG4gICAgZm9yIChjb25zdCByIG9mIGUuZmllbGRUcmFuc2Zvcm1zKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0LmRhdGEuZmllbGQoci5maWVsZCksIGkgPSBfX1BSSVZBVEVfY29tcHV0ZVRyYW5zZm9ybU9wZXJhdGlvbkJhc2VWYWx1ZShyLnRyYW5zZm9ybSwgZSB8fCBudWxsKTtcbiAgICAgICAgbnVsbCAhPSBpICYmIChudWxsID09PSBuICYmIChuID0gT2JqZWN0VmFsdWUuZW1wdHkoKSksIG4uc2V0KHIuZmllbGQsIGkpKTtcbiAgICB9XG4gICAgcmV0dXJuIG4gfHwgbnVsbDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX211dGF0aW9uRXF1YWxzKGUsIHQpIHtcbiAgICByZXR1cm4gZS50eXBlID09PSB0LnR5cGUgJiYgKCEhZS5rZXkuaXNFcXVhbCh0LmtleSkgJiYgKCEhZS5wcmVjb25kaXRpb24uaXNFcXVhbCh0LnByZWNvbmRpdGlvbikgJiYgKCEhZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkVHJhbnNmb3Jtc0FyZUVxdWFsKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gZSAmJiB2b2lkIDAgPT09IHQgfHwgISghZSB8fCAhdCkgJiYgX19QUklWQVRFX2FycmF5RXF1YWxzKGUsIHQsICgoZSwgdCkgPT4gX19QUklWQVRFX2ZpZWxkVHJhbnNmb3JtRXF1YWxzKGUsIHQpKSk7XG4gICAgfShlLmZpZWxkVHJhbnNmb3JtcywgdC5maWVsZFRyYW5zZm9ybXMpICYmICgwIC8qIE11dGF0aW9uVHlwZS5TZXQgKi8gPT09IGUudHlwZSA/IGUudmFsdWUuaXNFcXVhbCh0LnZhbHVlKSA6IDEgLyogTXV0YXRpb25UeXBlLlBhdGNoICovICE9PSBlLnR5cGUgfHwgZS5kYXRhLmlzRXF1YWwodC5kYXRhKSAmJiBlLmZpZWxkTWFzay5pc0VxdWFsKHQuZmllbGRNYXNrKSkpKSk7XG59XG5cbi8qKlxuICogQSBtdXRhdGlvbiB0aGF0IGNyZWF0ZXMgb3IgcmVwbGFjZXMgdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBrZXkgd2l0aCB0aGVcbiAqIG9iamVjdCB2YWx1ZSBjb250ZW50cy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfU2V0TXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciA9IFtdKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gZSwgdGhpcy52YWx1ZSA9IHQsIHRoaXMucHJlY29uZGl0aW9uID0gbiwgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSByLCBcbiAgICAgICAgdGhpcy50eXBlID0gMCAvKiBNdXRhdGlvblR5cGUuU2V0ICovO1xuICAgIH1cbiAgICBnZXRGaWVsZE1hc2soKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX1BhdGNoTXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSA9IFtdKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gZSwgdGhpcy5kYXRhID0gdCwgdGhpcy5maWVsZE1hc2sgPSBuLCB0aGlzLnByZWNvbmRpdGlvbiA9IHIsIFxuICAgICAgICB0aGlzLmZpZWxkVHJhbnNmb3JtcyA9IGksIHRoaXMudHlwZSA9IDEgLyogTXV0YXRpb25UeXBlLlBhdGNoICovO1xuICAgIH1cbiAgICBnZXRGaWVsZE1hc2soKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkTWFzaztcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRQYXRjaChlKSB7XG4gICAgY29uc3QgdCA9IG5ldyBNYXA7XG4gICAgcmV0dXJuIGUuZmllbGRNYXNrLmZpZWxkcy5mb3JFYWNoKChuID0+IHtcbiAgICAgICAgaWYgKCFuLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgY29uc3QgciA9IGUuZGF0YS5maWVsZChuKTtcbiAgICAgICAgICAgIHQuc2V0KG4sIHIpO1xuICAgICAgICB9XG4gICAgfSkpLCB0O1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBsaXN0IG9mIFwidHJhbnNmb3JtIHJlc3VsdHNcIiAoYSB0cmFuc2Zvcm0gcmVzdWx0IGlzIGEgZmllbGQgdmFsdWVcbiAqIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIGEgdHJhbnNmb3JtKSBmb3IgdXNlIGFmdGVyIGEgbXV0YXRpb25cbiAqIGNvbnRhaW5pbmcgdHJhbnNmb3JtcyBoYXMgYmVlbiBhY2tub3dsZWRnZWQgYnkgdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0gZmllbGRUcmFuc2Zvcm1zIC0gVGhlIGZpZWxkIHRyYW5zZm9ybXMgdG8gYXBwbHkgdGhlIHJlc3VsdCB0by5cbiAqIEBwYXJhbSBtdXRhYmxlRG9jdW1lbnQgLSBUaGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQgYWZ0ZXIgYXBwbHlpbmcgYWxsXG4gKiBwcmV2aW91cyBtdXRhdGlvbnMuXG4gKiBAcGFyYW0gc2VydmVyVHJhbnNmb3JtUmVzdWx0cyAtIFRoZSB0cmFuc2Zvcm0gcmVzdWx0cyByZWNlaXZlZCBieSB0aGUgc2VydmVyLlxuICogQHJldHVybnMgVGhlIHRyYW5zZm9ybSByZXN1bHRzIGxpc3QuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3NlcnZlclRyYW5zZm9ybVJlc3VsdHMoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBuZXcgTWFwO1xuICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUubGVuZ3RoID09PSBuLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHMgPSBlW2ldLCBvID0gcy50cmFuc2Zvcm0sIF8gPSB0LmRhdGEuZmllbGQocy5maWVsZCk7XG4gICAgICAgIHIuc2V0KHMuZmllbGQsIF9fUFJJVkFURV9hcHBseVRyYW5zZm9ybU9wZXJhdGlvblRvUmVtb3RlRG9jdW1lbnQobywgXywgbltpXSkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbGlzdCBvZiBcInRyYW5zZm9ybSByZXN1bHRzXCIgKGEgdHJhbnNmb3JtIHJlc3VsdCBpcyBhIGZpZWxkIHZhbHVlXG4gKiByZXByZXNlbnRpbmcgdGhlIHJlc3VsdCBvZiBhcHBseWluZyBhIHRyYW5zZm9ybSkgZm9yIHVzZSB3aGVuIGFwcGx5aW5nIGFcbiAqIHRyYW5zZm9ybSBsb2NhbGx5LlxuICpcbiAqIEBwYXJhbSBmaWVsZFRyYW5zZm9ybXMgLSBUaGUgZmllbGQgdHJhbnNmb3JtcyB0byBhcHBseSB0aGUgcmVzdWx0IHRvLlxuICogQHBhcmFtIGxvY2FsV3JpdGVUaW1lIC0gVGhlIGxvY2FsIHRpbWUgb2YgdGhlIG11dGF0aW9uICh1c2VkIHRvXG4gKiAgICAgZ2VuZXJhdGUgU2VydmVyVGltZXN0YW1wVmFsdWVzKS5cbiAqIEBwYXJhbSBtdXRhYmxlRG9jdW1lbnQgLSBUaGUgZG9jdW1lbnQgdG8gYXBwbHkgdHJhbnNmb3JtcyBvbi5cbiAqIEByZXR1cm5zIFRoZSB0cmFuc2Zvcm0gcmVzdWx0cyBsaXN0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFRyYW5zZm9ybVJlc3VsdHMoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBuZXcgTWFwO1xuICAgIGZvciAoY29uc3QgaSBvZiBlKSB7XG4gICAgICAgIGNvbnN0IGUgPSBpLnRyYW5zZm9ybSwgcyA9IG4uZGF0YS5maWVsZChpLmZpZWxkKTtcbiAgICAgICAgci5zZXQoaS5maWVsZCwgX19QUklWQVRFX2FwcGx5VHJhbnNmb3JtT3BlcmF0aW9uVG9Mb2NhbFZpZXcoZSwgcywgdCkpO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuLyoqIEEgbXV0YXRpb24gdGhhdCBkZWxldGVzIHRoZSBkb2N1bWVudCBhdCB0aGUgZ2l2ZW4ga2V5LiAqLyBjbGFzcyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmtleSA9IGUsIHRoaXMucHJlY29uZGl0aW9uID0gdCwgdGhpcy50eXBlID0gMiAvKiBNdXRhdGlvblR5cGUuRGVsZXRlICovICwgXG4gICAgICAgIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gW107XG4gICAgfVxuICAgIGdldEZpZWxkTWFzaygpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfVmVyaWZ5TXV0YXRpb24gZXh0ZW5kcyBNdXRhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmtleSA9IGUsIHRoaXMucHJlY29uZGl0aW9uID0gdCwgdGhpcy50eXBlID0gMyAvKiBNdXRhdGlvblR5cGUuVmVyaWZ5ICovICwgXG4gICAgICAgIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gW107XG4gICAgfVxuICAgIGdldEZpZWxkTWFzaygpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGJhdGNoIG9mIG11dGF0aW9ucyB0aGF0IHdpbGwgYmUgc2VudCBhcyBvbmUgdW5pdCB0byB0aGUgYmFja2VuZC5cbiAqLyBjbGFzcyBNdXRhdGlvbkJhdGNoIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gYmF0Y2hJZCAtIFRoZSB1bmlxdWUgSUQgb2YgdGhpcyBtdXRhdGlvbiBiYXRjaC5cbiAgICAgKiBAcGFyYW0gbG9jYWxXcml0ZVRpbWUgLSBUaGUgb3JpZ2luYWwgd3JpdGUgdGltZSBvZiB0aGlzIG11dGF0aW9uLlxuICAgICAqIEBwYXJhbSBiYXNlTXV0YXRpb25zIC0gTXV0YXRpb25zIHRoYXQgYXJlIHVzZWQgdG8gcG9wdWxhdGUgdGhlIGJhc2VcbiAgICAgKiB2YWx1ZXMgd2hlbiB0aGlzIG11dGF0aW9uIGlzIGFwcGxpZWQgbG9jYWxseS4gVGhpcyBjYW4gYmUgdXNlZCB0byBsb2NhbGx5XG4gICAgICogb3ZlcndyaXRlIHZhbHVlcyB0aGF0IGFyZSBwZXJzaXN0ZWQgaW4gdGhlIHJlbW90ZSBkb2N1bWVudCBjYWNoZS4gQmFzZVxuICAgICAqIG11dGF0aW9ucyBhcmUgbmV2ZXIgc2VudCB0byB0aGUgYmFja2VuZC5cbiAgICAgKiBAcGFyYW0gbXV0YXRpb25zIC0gVGhlIHVzZXItcHJvdmlkZWQgbXV0YXRpb25zIGluIHRoaXMgbXV0YXRpb24gYmF0Y2guXG4gICAgICogVXNlci1wcm92aWRlZCBtdXRhdGlvbnMgYXJlIGFwcGxpZWQgYm90aCBsb2NhbGx5IGFuZCByZW1vdGVseSBvbiB0aGVcbiAgICAgKiBiYWNrZW5kLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgdGhpcy5iYXRjaElkID0gZSwgdGhpcy5sb2NhbFdyaXRlVGltZSA9IHQsIHRoaXMuYmFzZU11dGF0aW9ucyA9IG4sIHRoaXMubXV0YXRpb25zID0gcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhbGwgdGhlIG11dGF0aW9ucyBpbiB0aGlzIE11dGF0aW9uQmF0Y2ggdG8gdGhlIHNwZWNpZmllZCBkb2N1bWVudFxuICAgICAqIHRvIGNvbXB1dGUgdGhlIHN0YXRlIG9mIHRoZSByZW1vdGUgZG9jdW1lbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudCAtIFRoZSBkb2N1bWVudCB0byBhcHBseSBtdXRhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIGJhdGNoUmVzdWx0IC0gVGhlIHJlc3VsdCBvZiBhcHBseWluZyB0aGUgTXV0YXRpb25CYXRjaCB0byB0aGVcbiAgICAgKiBiYWNrZW5kLlxuICAgICAqLyAgICBhcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5tdXRhdGlvblJlc3VsdHM7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgdGhpcy5tdXRhdGlvbnMubGVuZ3RoOyB0KyspIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLm11dGF0aW9uc1t0XTtcbiAgICAgICAgICAgIGlmIChyLmtleS5pc0VxdWFsKGUua2V5KSkge1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9SZW1vdGVEb2N1bWVudChyLCBlLCBuW3RdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbG9jYWwgdmlldyBvZiBhIGRvY3VtZW50IGdpdmVuIGFsbCB0aGUgbXV0YXRpb25zIGluIHRoaXNcbiAgICAgKiBiYXRjaC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudCAtIFRoZSBkb2N1bWVudCB0byBhcHBseSBtdXRhdGlvbnMgdG8uXG4gICAgICogQHBhcmFtIG11dGF0ZWRGaWVsZHMgLSBGaWVsZHMgdGhhdCBoYXZlIGJlZW4gdXBkYXRlZCBiZWZvcmUgYXBwbHlpbmcgdGhpcyBtdXRhdGlvbiBiYXRjaC5cbiAgICAgKiBAcmV0dXJucyBBIGBGaWVsZE1hc2tgIHJlcHJlc2VudGluZyBhbGwgdGhlIGZpZWxkcyB0aGF0IGFyZSBtdXRhdGVkLlxuICAgICAqLyAgICBhcHBseVRvTG9jYWxWaWV3KGUsIHQpIHtcbiAgICAgICAgLy8gRmlyc3QsIGFwcGx5IHRoZSBiYXNlIHN0YXRlLiBUaGlzIGFsbG93cyB1cyB0byBhcHBseSBub24taWRlbXBvdGVudFxuICAgICAgICAvLyB0cmFuc2Zvcm0gYWdhaW5zdCBhIGNvbnNpc3RlbnQgc2V0IG9mIHZhbHVlcy5cbiAgICAgICAgZm9yIChjb25zdCBuIG9mIHRoaXMuYmFzZU11dGF0aW9ucykgbi5rZXkuaXNFcXVhbChlLmtleSkgJiYgKHQgPSBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KG4sIGUsIHQsIHRoaXMubG9jYWxXcml0ZVRpbWUpKTtcbiAgICAgICAgLy8gU2Vjb25kLCBhcHBseSBhbGwgdXNlci1wcm92aWRlZCBtdXRhdGlvbnMuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIHRoaXMubXV0YXRpb25zKSBuLmtleS5pc0VxdWFsKGUua2V5KSAmJiAodCA9IF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcobiwgZSwgdCwgdGhpcy5sb2NhbFdyaXRlVGltZSkpO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGxvY2FsIHZpZXcgZm9yIGFsbCBwcm92aWRlZCBkb2N1bWVudHMgZ2l2ZW4gdGhlIG11dGF0aW9ucyBpblxuICAgICAqIHRoaXMgYmF0Y2guIFJldHVybnMgYSBgRG9jdW1lbnRLZXlgIHRvIGBNdXRhdGlvbmAgbWFwIHdoaWNoIGNhbiBiZSB1c2VkIHRvXG4gICAgICogcmVwbGFjZSBhbGwgdGhlIG11dGF0aW9uIGFwcGxpY2F0aW9ucy5cbiAgICAgKi8gICAgYXBwbHlUb0xvY2FsRG9jdW1lbnRTZXQoZSwgdCkge1xuICAgICAgICAvLyBUT0RPKG1yc2NobWlkdCk6IFRoaXMgaW1wbGVtZW50YXRpb24gaXMgTyhuXjIpLiBJZiB3ZSBhcHBseSB0aGUgbXV0YXRpb25zXG4gICAgICAgIC8vIGRpcmVjdGx5IChhcyBkb25lIGluIGBhcHBseVRvTG9jYWxWaWV3KClgKSwgd2UgY2FuIHJlZHVjZSB0aGUgY29tcGxleGl0eVxuICAgICAgICAvLyB0byBPKG4pLlxuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25ld011dGF0aW9uTWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLm11dGF0aW9ucy5mb3JFYWNoKChyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBlLmdldChyLmtleSksIHMgPSBpLm92ZXJsYXllZERvY3VtZW50O1xuICAgICAgICAgICAgLy8gVE9ETyhtdXRhYmxlZG9jdW1lbnRzKTogVGhpcyBtZXRob2Qgc2hvdWxkIHRha2UgYSBNdXRhYmxlRG9jdW1lbnRNYXBcbiAgICAgICAgICAgIC8vIGFuZCB3ZSBzaG91bGQgcmVtb3ZlIHRoaXMgY2FzdC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvID0gdGhpcy5hcHBseVRvTG9jYWxWaWV3KHMsIGkubXV0YXRlZEZpZWxkcyk7XG4gICAgICAgICAgICAvLyBTZXQgbXV0YXRlZEZpZWxkcyB0byBudWxsIGlmIHRoZSBkb2N1bWVudCBpcyBvbmx5IGZyb20gbG9jYWwgbXV0YXRpb25zLlxuICAgICAgICAgICAgLy8gVGhpcyBjcmVhdGVzIGEgU2V0IG9yIERlbGV0ZSBtdXRhdGlvbiwgaW5zdGVhZCBvZiB0cnlpbmcgdG8gY3JlYXRlIGFcbiAgICAgICAgICAgIC8vIHBhdGNoIG11dGF0aW9uIGFzIHRoZSBvdmVybGF5LlxuICAgICAgICAgICAgICAgICAgICAgICAgbyA9IHQuaGFzKHIua2V5KSA/IG51bGwgOiBvO1xuICAgICAgICAgICAgY29uc3QgXyA9IF9fUFJJVkFURV9jYWxjdWxhdGVPdmVybGF5TXV0YXRpb24ocywgbyk7XG4gICAgICAgICAgICBudWxsICE9PSBfICYmIG4uc2V0KHIua2V5LCBfKSwgcy5pc1ZhbGlkRG9jdW1lbnQoKSB8fCBzLmNvbnZlcnRUb05vRG9jdW1lbnQoU25hcHNob3RWZXJzaW9uLm1pbigpKTtcbiAgICAgICAgfSkpLCBuO1xuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tdXRhdGlvbnMucmVkdWNlKCgoZSwgdCkgPT4gZS5hZGQodC5rZXkpKSwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmF0Y2hJZCA9PT0gZS5iYXRjaElkICYmIF9fUFJJVkFURV9hcnJheUVxdWFscyh0aGlzLm11dGF0aW9ucywgZS5tdXRhdGlvbnMsICgoZSwgdCkgPT4gX19QUklWQVRFX211dGF0aW9uRXF1YWxzKGUsIHQpKSkgJiYgX19QUklWQVRFX2FycmF5RXF1YWxzKHRoaXMuYmFzZU11dGF0aW9ucywgZS5iYXNlTXV0YXRpb25zLCAoKGUsIHQpID0+IF9fUFJJVkFURV9tdXRhdGlvbkVxdWFscyhlLCB0KSkpO1xuICAgIH1cbn1cblxuLyoqIFRoZSByZXN1bHQgb2YgYXBwbHlpbmcgYSBtdXRhdGlvbiBiYXRjaCB0byB0aGUgYmFja2VuZC4gKi8gY2xhc3MgTXV0YXRpb25CYXRjaFJlc3VsdCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgXG4gICAgLyoqXG4gICAgICogQSBwcmUtY29tcHV0ZWQgbWFwcGluZyBmcm9tIGVhY2ggbXV0YXRlZCBkb2N1bWVudCB0byB0aGUgcmVzdWx0aW5nXG4gICAgICogdmVyc2lvbi5cbiAgICAgKi9cbiAgICByKSB7XG4gICAgICAgIHRoaXMuYmF0Y2ggPSBlLCB0aGlzLmNvbW1pdFZlcnNpb24gPSB0LCB0aGlzLm11dGF0aW9uUmVzdWx0cyA9IG4sIHRoaXMuZG9jVmVyc2lvbnMgPSByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IE11dGF0aW9uQmF0Y2hSZXN1bHQgZm9yIHRoZSBnaXZlbiBiYXRjaCBhbmQgcmVzdWx0cy4gVGhlcmVcbiAgICAgKiBtdXN0IGJlIG9uZSByZXN1bHQgZm9yIGVhY2ggbXV0YXRpb24gaW4gdGhlIGJhdGNoLiBUaGlzIHN0YXRpYyBmYWN0b3J5XG4gICAgICogY2FjaGVzIGEgZG9jdW1lbnQ9Jmd0O3ZlcnNpb24gbWFwcGluZyAoZG9jVmVyc2lvbnMpLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbShlLCB0LCBuKSB7XG4gICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUubXV0YXRpb25zLmxlbmd0aCA9PT0gbi5sZW5ndGgpO1xuICAgICAgICBsZXQgciA9IGZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudFZlcnNpb25NYXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX2U7XG4gICAgICAgIH0oKTtcbiAgICAgICAgY29uc3QgaSA9IGUubXV0YXRpb25zO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IGkubGVuZ3RoOyBlKyspIHIgPSByLmluc2VydChpW2VdLmtleSwgbltlXS52ZXJzaW9uKTtcbiAgICAgICAgcmV0dXJuIG5ldyBNdXRhdGlvbkJhdGNoUmVzdWx0KGUsIHQsIG4sIHIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50YXRpb24gb2YgYW4gb3ZlcmxheSBjb21wdXRlZCBieSBGaXJlc3RvcmUuXG4gKlxuICogSG9sZHMgaW5mb3JtYXRpb24gYWJvdXQgYSBtdXRhdGlvbiBhbmQgdGhlIGxhcmdlc3QgYmF0Y2ggaWQgaW4gRmlyZXN0b3JlIHdoZW5cbiAqIHRoZSBtdXRhdGlvbiB3YXMgY3JlYXRlZC5cbiAqLyBjbGFzcyBPdmVybGF5IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMubGFyZ2VzdEJhdGNoSWQgPSBlLCB0aGlzLm11dGF0aW9uID0gdDtcbiAgICB9XG4gICAgZ2V0S2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tdXRhdGlvbi5rZXk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gZSAmJiB0aGlzLm11dGF0aW9uID09PSBlLm11dGF0aW9uO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIGBPdmVybGF5e1xcbiAgICAgIGxhcmdlc3RCYXRjaElkOiAke3RoaXMubGFyZ2VzdEJhdGNoSWR9LFxcbiAgICAgIG11dGF0aW9uOiAke3RoaXMubXV0YXRpb24udG9TdHJpbmcoKX1cXG4gICAgfWA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDb25jcmV0ZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgQWdncmVnYXRlIHR5cGUuXG4gKi8gY2xhc3MgX19QUklWQVRFX0FnZ3JlZ2F0ZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5hbGlhcyA9IGUsIHRoaXMuYWdncmVnYXRlVHlwZSA9IHQsIHRoaXMuZmllbGRQYXRoID0gbjtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIEV4aXN0ZW5jZUZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmNvdW50ID0gZSwgdGhpcy51bmNoYW5nZWROYW1lcyA9IHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBFcnJvciBDb2RlcyBkZXNjcmliaW5nIHRoZSBkaWZmZXJlbnQgd2F5cyBHUlBDIGNhbiBmYWlsLiBUaGVzZSBhcmUgY29waWVkXG4gKiBkaXJlY3RseSBmcm9tIEdSUEMncyBzb3VyY2VzIGhlcmU6XG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2dycGMvZ3JwYy9ibG9iL2JjZWVjOTRlYTRmYzVmMDA4NWQ4MTIzNWQ4ZTFjMDY3OThkYzM0MWEvaW5jbHVkZS9ncnBjJTJCJTJCL2ltcGwvY29kZWdlbi9zdGF0dXNfY29kZV9lbnVtLmhcbiAqXG4gKiBJbXBvcnRhbnQhIFRoZSBuYW1lcyBvZiB0aGVzZSBpZGVudGlmaWVycyBtYXR0ZXIgYmVjYXVzZSB0aGUgc3RyaW5nIGZvcm1zXG4gKiBhcmUgdXNlZCBmb3IgcmV2ZXJzZSBsb29rdXBzIGZyb20gdGhlIHdlYmNoYW5uZWwgc3RyZWFtLiBEbyBOT1QgY2hhbmdlIHRoZVxuICogbmFtZXMgb2YgdGhlc2UgaWRlbnRpZmllcnMgb3IgY2hhbmdlIHRoaXMgaW50byBhIGNvbnN0IGVudW0uXG4gKi8gdmFyIGNlLCBsZTtcblxuLyoqXG4gKiBEZXRlcm1pbmVzIHdoZXRoZXIgYW4gZXJyb3IgY29kZSByZXByZXNlbnRzIGEgcGVybWFuZW50IGVycm9yIHdoZW4gcmVjZWl2ZWRcbiAqIGluIHJlc3BvbnNlIHRvIGEgbm9uLXdyaXRlIG9wZXJhdGlvbi5cbiAqXG4gKiBTZWUgaXNQZXJtYW5lbnRXcml0ZUVycm9yIGZvciBjbGFzc2lmeWluZyB3cml0ZSBlcnJvcnMuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9pc1Blcm1hbmVudEVycm9yKGUpIHtcbiAgICBzd2l0Y2ggKGUpIHtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG5cbiAgICAgIGNhc2UgQy5DQU5DRUxMRUQ6XG4gICAgICBjYXNlIEMuVU5LTk9XTjpcbiAgICAgIGNhc2UgQy5ERUFETElORV9FWENFRURFRDpcbiAgICAgIGNhc2UgQy5SRVNPVVJDRV9FWEhBVVNURUQ6XG4gICAgICBjYXNlIEMuSU5URVJOQUw6XG4gICAgICBjYXNlIEMuVU5BVkFJTEFCTEU6XG4gLy8gVW5hdXRoZW50aWNhdGVkIG1lYW5zIHNvbWV0aGluZyB3ZW50IHdyb25nIHdpdGggb3VyIHRva2VuIGFuZCB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIHJldHJ5IHdpdGggbmV3IGNyZWRlbnRpYWxzIHdoaWNoIHdpbGwgaGFwcGVuIGF1dG9tYXRpY2FsbHkuXG4gICAgICAgICAgICAgIGNhc2UgQy5VTkFVVEhFTlRJQ0FURUQ6XG4gICAgICAgIHJldHVybiAhMTtcblxuICAgICAgY2FzZSBDLklOVkFMSURfQVJHVU1FTlQ6XG4gICAgICBjYXNlIEMuTk9UX0ZPVU5EOlxuICAgICAgY2FzZSBDLkFMUkVBRFlfRVhJU1RTOlxuICAgICAgY2FzZSBDLlBFUk1JU1NJT05fREVOSUVEOlxuICAgICAgY2FzZSBDLkZBSUxFRF9QUkVDT05ESVRJT046XG4gLy8gQWJvcnRlZCBtaWdodCBiZSByZXRyaWVkIGluIHNvbWUgc2NlbmFyaW9zLCBidXQgdGhhdCBpcyBkZXBlbmRhbnQgb25cbiAgICAgICAgLy8gdGhlIGNvbnRleHQgYW5kIHNob3VsZCBoYW5kbGVkIGluZGl2aWR1YWxseSBieSB0aGUgY2FsbGluZyBjb2RlLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2FwaXMvZGVzaWduL2Vycm9ycy5cbiAgICAgICAgICAgICAgY2FzZSBDLkFCT1JURUQ6XG4gICAgICBjYXNlIEMuT1VUX09GX1JBTkdFOlxuICAgICAgY2FzZSBDLlVOSU1QTEVNRU5URUQ6XG4gICAgICBjYXNlIEMuREFUQV9MT1NTOlxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxufVxuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhbiBlcnJvciBjb2RlIHJlcHJlc2VudHMgYSBwZXJtYW5lbnQgZXJyb3Igd2hlbiByZWNlaXZlZFxuICogaW4gcmVzcG9uc2UgdG8gYSB3cml0ZSBvcGVyYXRpb24uXG4gKlxuICogV3JpdGUgb3BlcmF0aW9ucyBtdXN0IGJlIGhhbmRsZWQgc3BlY2lhbGx5IGJlY2F1c2UgYXMgb2YgYi8xMTk0Mzc3NjQsIEFCT1JURURcbiAqIGVycm9ycyBvbiB0aGUgd3JpdGUgc3RyZWFtIHNob3VsZCBiZSByZXRyaWVkIHRvbyAoZXZlbiB0aG91Z2ggQUJPUlRFRCBlcnJvcnNcbiAqIGFyZSBub3QgZ2VuZXJhbGx5IHJldHJ5YWJsZSkuXG4gKlxuICogTm90ZSB0aGF0IGR1cmluZyB0aGUgaW5pdGlhbCBoYW5kc2hha2Ugb24gdGhlIHdyaXRlIHN0cmVhbSBhbiBBQk9SVEVEIGVycm9yXG4gKiBzaWduYWxzIHRoYXQgd2Ugc2hvdWxkIGRpc2NhcmQgb3VyIHN0cmVhbSB0b2tlbiAoaS5lLiBpdCBpcyBwZXJtYW5lbnQpLiBUaGlzXG4gKiBtZWFucyBhIGhhbmRzaGFrZSBlcnJvciBzaG91bGQgYmUgY2xhc3NpZmllZCB3aXRoIGlzUGVybWFuZW50RXJyb3IsIGFib3ZlLlxuICovXG4vKipcbiAqIE1hcHMgYW4gZXJyb3IgQ29kZSBmcm9tIEdSUEMgc3RhdHVzIGNvZGUgbnVtYmVyLCBsaWtlIDAsIDEsIG9yIDE0LiBUaGVzZVxuICogYXJlIG5vdCB0aGUgc2FtZSBhcyBIVFRQIHN0YXR1cyBjb2Rlcy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgQ29kZSBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBHUlBDIHN0YXR1cyBjb2RlLiBGYWlscyBpZiB0aGVyZVxuICogICAgIGlzIG5vIG1hdGNoLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbWFwQ29kZUZyb21ScGNDb2RlKGUpIHtcbiAgICBpZiAodm9pZCAwID09PSBlKSBcbiAgICAvLyBUaGlzIHNob3VsZG4ndCBub3JtYWxseSBoYXBwZW4sIGJ1dCBpbiBjZXJ0YWluIGVycm9yIGNhc2VzIChsaWtlIHRyeWluZ1xuICAgIC8vIHRvIHNlbmQgaW52YWxpZCBwcm90byBtZXNzYWdlcykgd2UgbWF5IGdldCBhbiBlcnJvciB3aXRoIG5vIEdSUEMgY29kZS5cbiAgICByZXR1cm4gX19QUklWQVRFX2xvZ0Vycm9yKFwiR1JQQyBlcnJvciBoYXMgbm8gLmNvZGVcIiksIEMuVU5LTk9XTjtcbiAgICBzd2l0Y2ggKGUpIHtcbiAgICAgIGNhc2UgY2UuT0s6XG4gICAgICAgIHJldHVybiBDLk9LO1xuXG4gICAgICBjYXNlIGNlLkNBTkNFTExFRDpcbiAgICAgICAgcmV0dXJuIEMuQ0FOQ0VMTEVEO1xuXG4gICAgICBjYXNlIGNlLlVOS05PV046XG4gICAgICAgIHJldHVybiBDLlVOS05PV047XG5cbiAgICAgIGNhc2UgY2UuREVBRExJTkVfRVhDRUVERUQ6XG4gICAgICAgIHJldHVybiBDLkRFQURMSU5FX0VYQ0VFREVEO1xuXG4gICAgICBjYXNlIGNlLlJFU09VUkNFX0VYSEFVU1RFRDpcbiAgICAgICAgcmV0dXJuIEMuUkVTT1VSQ0VfRVhIQVVTVEVEO1xuXG4gICAgICBjYXNlIGNlLklOVEVSTkFMOlxuICAgICAgICByZXR1cm4gQy5JTlRFUk5BTDtcblxuICAgICAgY2FzZSBjZS5VTkFWQUlMQUJMRTpcbiAgICAgICAgcmV0dXJuIEMuVU5BVkFJTEFCTEU7XG5cbiAgICAgIGNhc2UgY2UuVU5BVVRIRU5USUNBVEVEOlxuICAgICAgICByZXR1cm4gQy5VTkFVVEhFTlRJQ0FURUQ7XG5cbiAgICAgIGNhc2UgY2UuSU5WQUxJRF9BUkdVTUVOVDpcbiAgICAgICAgcmV0dXJuIEMuSU5WQUxJRF9BUkdVTUVOVDtcblxuICAgICAgY2FzZSBjZS5OT1RfRk9VTkQ6XG4gICAgICAgIHJldHVybiBDLk5PVF9GT1VORDtcblxuICAgICAgY2FzZSBjZS5BTFJFQURZX0VYSVNUUzpcbiAgICAgICAgcmV0dXJuIEMuQUxSRUFEWV9FWElTVFM7XG5cbiAgICAgIGNhc2UgY2UuUEVSTUlTU0lPTl9ERU5JRUQ6XG4gICAgICAgIHJldHVybiBDLlBFUk1JU1NJT05fREVOSUVEO1xuXG4gICAgICBjYXNlIGNlLkZBSUxFRF9QUkVDT05ESVRJT046XG4gICAgICAgIHJldHVybiBDLkZBSUxFRF9QUkVDT05ESVRJT047XG5cbiAgICAgIGNhc2UgY2UuQUJPUlRFRDpcbiAgICAgICAgcmV0dXJuIEMuQUJPUlRFRDtcblxuICAgICAgY2FzZSBjZS5PVVRfT0ZfUkFOR0U6XG4gICAgICAgIHJldHVybiBDLk9VVF9PRl9SQU5HRTtcblxuICAgICAgY2FzZSBjZS5VTklNUExFTUVOVEVEOlxuICAgICAgICByZXR1cm4gQy5VTklNUExFTUVOVEVEO1xuXG4gICAgICBjYXNlIGNlLkRBVEFfTE9TUzpcbiAgICAgICAgcmV0dXJuIEMuREFUQV9MT1NTO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBIVFRQIHJlc3BvbnNlJ3MgZXJyb3Igc3RhdHVzIHRvIHRoZSBlcXVpdmFsZW50IGVycm9yIGNvZGUuXG4gKlxuICogQHBhcmFtIHN0YXR1cyAtIEFuIEhUVFAgZXJyb3IgcmVzcG9uc2Ugc3RhdHVzIChcIkZBSUxFRF9QUkVDT05ESVRJT05cIixcbiAqIFwiVU5LTk9XTlwiLCBldGMuKVxuICogQHJldHVybnMgVGhlIGVxdWl2YWxlbnQgQ29kZS4gTm9uLW1hdGNoaW5nIHJlc3BvbnNlcyBhcmUgbWFwcGVkIHRvXG4gKiAgICAgQ29kZS5VTktOT1dOLlxuICovIChsZSA9IGNlIHx8IChjZSA9IHt9KSlbbGUuT0sgPSAwXSA9IFwiT0tcIiwgbGVbbGUuQ0FOQ0VMTEVEID0gMV0gPSBcIkNBTkNFTExFRFwiLCBcbmxlW2xlLlVOS05PV04gPSAyXSA9IFwiVU5LTk9XTlwiLCBsZVtsZS5JTlZBTElEX0FSR1VNRU5UID0gM10gPSBcIklOVkFMSURfQVJHVU1FTlRcIiwgXG5sZVtsZS5ERUFETElORV9FWENFRURFRCA9IDRdID0gXCJERUFETElORV9FWENFRURFRFwiLCBsZVtsZS5OT1RfRk9VTkQgPSA1XSA9IFwiTk9UX0ZPVU5EXCIsIFxubGVbbGUuQUxSRUFEWV9FWElTVFMgPSA2XSA9IFwiQUxSRUFEWV9FWElTVFNcIiwgbGVbbGUuUEVSTUlTU0lPTl9ERU5JRUQgPSA3XSA9IFwiUEVSTUlTU0lPTl9ERU5JRURcIiwgXG5sZVtsZS5VTkFVVEhFTlRJQ0FURUQgPSAxNl0gPSBcIlVOQVVUSEVOVElDQVRFRFwiLCBsZVtsZS5SRVNPVVJDRV9FWEhBVVNURUQgPSA4XSA9IFwiUkVTT1VSQ0VfRVhIQVVTVEVEXCIsIFxubGVbbGUuRkFJTEVEX1BSRUNPTkRJVElPTiA9IDldID0gXCJGQUlMRURfUFJFQ09ORElUSU9OXCIsIGxlW2xlLkFCT1JURUQgPSAxMF0gPSBcIkFCT1JURURcIiwgXG5sZVtsZS5PVVRfT0ZfUkFOR0UgPSAxMV0gPSBcIk9VVF9PRl9SQU5HRVwiLCBsZVtsZS5VTklNUExFTUVOVEVEID0gMTJdID0gXCJVTklNUExFTUVOVEVEXCIsIFxubGVbbGUuSU5URVJOQUwgPSAxM10gPSBcIklOVEVSTkFMXCIsIGxlW2xlLlVOQVZBSUxBQkxFID0gMTRdID0gXCJVTkFWQUlMQUJMRVwiLCBsZVtsZS5EQVRBX0xPU1MgPSAxNV0gPSBcIkRBVEFfTE9TU1wiO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgZ2xvYmFsLCBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgVGVzdGluZ0hvb2tzU3BpLlxuICpcbiAqIFRoaXMgdmFyaWFibGUgd2lsbCBiZSBgbnVsbGAgaW4gYWxsIGNhc2VzIF9leGNlcHRfIHdoZW4gcnVubmluZyBmcm9tXG4gKiBpbnRlZ3JhdGlvbiB0ZXN0cyB0aGF0IGhhdmUgcmVnaXN0ZXJlZCBjYWxsYmFja3MgdG8gYmUgbm90aWZpZWQgb2YgZXZlbnRzXG4gKiB0aGF0IGhhcHBlbiBkdXJpbmcgdGhlIHRlc3QgZXhlY3V0aW9uLlxuICovXG5sZXQgaGUgPSBudWxsO1xuXG4vKipcbiAqIFNldHMgdGhlIHZhbHVlIG9mIHRoZSBgdGVzdGluZ0hvb2tzU3BpYCBvYmplY3QuXG4gKiBAcGFyYW0gaW5zdGFuY2UgdGhlIGluc3RhbmNlIHRvIHNldC5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhlIFBsYXRmb3JtJ3MgJ1RleHRFbmNvZGVyJyBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX25ld1RleHRFbmNvZGVyKCkge1xuICAgIHJldHVybiBuZXcgVGV4dEVuY29kZXI7XG59XG5cbi8qKlxuICogQW4gaW5zdGFuY2Ugb2YgdGhlIFBsYXRmb3JtJ3MgJ1RleHREZWNvZGVyJyBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNvbnN0IFBlID0gbmV3IGJsb29tQmxvYi5JbnRlZ2VyKFsgNDI5NDk2NzI5NSwgNDI5NDk2NzI5NSBdLCAwKTtcblxuLy8gSGFzaCBhIHN0cmluZyB1c2luZyBtZDUgaGFzaGluZyBhbGdvcml0aG0uXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0TWQ1SGFzaFZhbHVlKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX25ld1RleHRFbmNvZGVyKCkuZW5jb2RlKGUpLCBuID0gbmV3IGJsb29tQmxvYi5NZDU7XG4gICAgcmV0dXJuIG4udXBkYXRlKHQpLCBuZXcgVWludDhBcnJheShuLmRpZ2VzdCgpKTtcbn1cblxuLy8gSW50ZXJwcmV0IHRoZSAxNiBieXRlcyBhcnJheSBhcyB0d28gNjQtYml0IHVuc2lnbmVkIGludGVnZXJzLCBlbmNvZGVkIHVzaW5nXG4vLyAy4oCZcyBjb21wbGVtZW50IHVzaW5nIGxpdHRsZSBlbmRpYW4uXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0NjRCaXRVaW50cyhlKSB7XG4gICAgY29uc3QgdCA9IG5ldyBEYXRhVmlldyhlLmJ1ZmZlciksIG4gPSB0LmdldFVpbnQzMigwLCAvKiBsaXR0bGVFbmRpYW49ICovICEwKSwgciA9IHQuZ2V0VWludDMyKDQsIC8qIGxpdHRsZUVuZGlhbj0gKi8gITApLCBpID0gdC5nZXRVaW50MzIoOCwgLyogbGl0dGxlRW5kaWFuPSAqLyAhMCksIHMgPSB0LmdldFVpbnQzMigxMiwgLyogbGl0dGxlRW5kaWFuPSAqLyAhMCk7XG4gICAgcmV0dXJuIFsgbmV3IGJsb29tQmxvYi5JbnRlZ2VyKFsgbiwgciBdLCAwKSwgbmV3IGJsb29tQmxvYi5JbnRlZ2VyKFsgaSwgcyBdLCAwKSBdO1xufVxuXG5jbGFzcyBCbG9vbUZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICBpZiAodGhpcy5iaXRtYXAgPSBlLCB0aGlzLnBhZGRpbmcgPSB0LCB0aGlzLmhhc2hDb3VudCA9IG4sIHQgPCAwIHx8IHQgPj0gOCkgdGhyb3cgbmV3IF9fUFJJVkFURV9CbG9vbUZpbHRlckVycm9yKGBJbnZhbGlkIHBhZGRpbmc6ICR7dH1gKTtcbiAgICAgICAgaWYgKG4gPCAwKSB0aHJvdyBuZXcgX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IoYEludmFsaWQgaGFzaCBjb3VudDogJHtufWApO1xuICAgICAgICBpZiAoZS5sZW5ndGggPiAwICYmIDAgPT09IHRoaXMuaGFzaENvdW50KSBcbiAgICAgICAgLy8gT25seSBlbXB0eSBibG9vbSBmaWx0ZXIgY2FuIGhhdmUgMCBoYXNoIGNvdW50LlxuICAgICAgICB0aHJvdyBuZXcgX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IoYEludmFsaWQgaGFzaCBjb3VudDogJHtufWApO1xuICAgICAgICBpZiAoMCA9PT0gZS5sZW5ndGggJiYgMCAhPT0gdCkgXG4gICAgICAgIC8vIEVtcHR5IGJsb29tIGZpbHRlciBzaG91bGQgaGF2ZSAwIHBhZGRpbmcuXG4gICAgICAgIHRocm93IG5ldyBfX1BSSVZBVEVfQmxvb21GaWx0ZXJFcnJvcihgSW52YWxpZCBwYWRkaW5nIHdoZW4gYml0bWFwIGxlbmd0aCBpcyAwOiAke3R9YCk7XG4gICAgICAgIHRoaXMuSWUgPSA4ICogZS5sZW5ndGggLSB0LCBcbiAgICAgICAgLy8gU2V0IHRoZSBiaXQgY291bnQgaW4gSW50ZWdlciB0byBhdm9pZCByZXBldGl0aW9uIGluIG1pZ2h0Q29udGFpbigpLlxuICAgICAgICB0aGlzLlRlID0gYmxvb21CbG9iLkludGVnZXIuZnJvbU51bWJlcih0aGlzLkllKTtcbiAgICB9XG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBpdGggaGFzaCB2YWx1ZSBiYXNlZCBvbiB0aGUgaGFzaGVkIDY0Yml0IGludGVnZXJzLFxuICAgIC8vIGFuZCBjYWxjdWxhdGUgaXRzIGNvcnJlc3BvbmRpbmcgYml0IGluZGV4IGluIHRoZSBiaXRtYXAgdG8gYmUgY2hlY2tlZC5cbiAgICBFZShlLCB0LCBuKSB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSBoYXNoZWQgdmFsdWUgaChpKSA9IGgxICsgKGkgKiBoMikuXG4gICAgICAgIGxldCByID0gZS5hZGQodC5tdWx0aXBseShibG9vbUJsb2IuSW50ZWdlci5mcm9tTnVtYmVyKG4pKSk7XG4gICAgICAgIC8vIFdyYXAgaWYgaGFzaCB2YWx1ZSBvdmVyZmxvdyA2NGJpdC5cbiAgICAgICAgICAgICAgICByZXR1cm4gMSA9PT0gci5jb21wYXJlKFBlKSAmJiAociA9IG5ldyBibG9vbUJsb2IuSW50ZWdlcihbIHIuZ2V0Qml0cygwKSwgci5nZXRCaXRzKDEpIF0sIDApKSwgXG4gICAgICAgIHIubW9kdWxvKHRoaXMuVGUpLnRvTnVtYmVyKCk7XG4gICAgfVxuICAgIC8vIFJldHVybiB3aGV0aGVyIHRoZSBiaXQgb24gdGhlIGdpdmVuIGluZGV4IGluIHRoZSBiaXRtYXAgaXMgc2V0IHRvIDEuXG4gICAgZGUoZSkge1xuICAgICAgICByZXR1cm4gMCAhPSAodGhpcy5iaXRtYXBbTWF0aC5mbG9vcihlIC8gOCldICYgMSA8PCBlICUgOCk7XG4gICAgfVxuICAgIG1pZ2h0Q29udGFpbihlKSB7XG4gICAgICAgIC8vIEVtcHR5IGJpdG1hcCBzaG91bGQgYWx3YXlzIHJldHVybiBmYWxzZSBvbiBtZW1iZXJzaGlwIGNoZWNrLlxuICAgICAgICBpZiAoMCA9PT0gdGhpcy5JZSkgcmV0dXJuICExO1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2dldE1kNUhhc2hWYWx1ZShlKSwgW24sIHJdID0gX19QUklWQVRFX2dldDY0Qml0VWludHModCk7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdGhpcy5oYXNoQ291bnQ7IGUrKykge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuRWUobiwgciwgZSk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZGUodCkpIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIC8qKiBDcmVhdGUgYmxvb20gZmlsdGVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzIG9ubHkuICovICAgIHN0YXRpYyBjcmVhdGUoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gZSAlIDggPT0gMCA/IDAgOiA4IC0gZSAlIDgsIGkgPSBuZXcgVWludDhBcnJheShNYXRoLmNlaWwoZSAvIDgpKSwgcyA9IG5ldyBCbG9vbUZpbHRlcihpLCByLCB0KTtcbiAgICAgICAgcmV0dXJuIG4uZm9yRWFjaCgoZSA9PiBzLmluc2VydChlKSkpLCBzO1xuICAgIH1cbiAgICBpbnNlcnQoZSkge1xuICAgICAgICBpZiAoMCA9PT0gdGhpcy5JZSkgcmV0dXJuO1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2dldE1kNUhhc2hWYWx1ZShlKSwgW24sIHJdID0gX19QUklWQVRFX2dldDY0Qml0VWludHModCk7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdGhpcy5oYXNoQ291bnQ7IGUrKykge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuRWUobiwgciwgZSk7XG4gICAgICAgICAgICB0aGlzLkFlKHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIEFlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IE1hdGguZmxvb3IoZSAvIDgpLCBuID0gZSAlIDg7XG4gICAgICAgIHRoaXMuYml0bWFwW3RdIHw9IDEgPDwgbjtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9CbG9vbUZpbHRlckVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm5hbWUgPSBcIkJsb29tRmlsdGVyRXJyb3JcIjtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGV2ZW50IGZyb20gdGhlIFJlbW90ZVN0b3JlLiBJdCBpcyBzcGxpdCBpbnRvIHRhcmdldENoYW5nZXMgKGNoYW5nZXMgdG8gdGhlXG4gKiBzdGF0ZSBvciB0aGUgc2V0IG9mIGRvY3VtZW50cyBpbiBvdXIgd2F0Y2hlZCB0YXJnZXRzKSBhbmQgZG9jdW1lbnRVcGRhdGVzXG4gKiAoY2hhbmdlcyB0byB0aGUgYWN0dWFsIGRvY3VtZW50cykuXG4gKi8gY2xhc3MgUmVtb3RlRXZlbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBzbmFwc2hvdCB2ZXJzaW9uIHRoaXMgZXZlbnQgYnJpbmdzIHVzIHVwIHRvLCBvciBNSU4gaWYgbm90IHNldC5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBBIG1hcCBmcm9tIHRhcmdldCB0byBjaGFuZ2VzIHRvIHRoZSB0YXJnZXQuIFNlZSBUYXJnZXRDaGFuZ2UuXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogQSBtYXAgb2YgdGFyZ2V0cyB0aGF0IGlzIGtub3duIHRvIGJlIGluY29uc2lzdGVudCwgYW5kIHRoZSBwdXJwb3NlIGZvclxuICAgICAqIHJlLWxpc3RlbmluZy4gTGlzdGVucyBmb3IgdGhlc2UgdGFyZ2V0cyBzaG91bGQgYmUgcmUtZXN0YWJsaXNoZWQgd2l0aG91dFxuICAgICAqIHJlc3VtZSB0b2tlbnMuXG4gICAgICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2Ygd2hpY2ggZG9jdW1lbnRzIGhhdmUgY2hhbmdlZCBvciBiZWVuIGRlbGV0ZWQsIGFsb25nIHdpdGggdGhlXG4gICAgICogZG9jJ3MgbmV3IHZhbHVlcyAoaWYgbm90IGRlbGV0ZWQpLlxuICAgICAqL1xuICAgIHIsIFxuICAgIC8qKlxuICAgICAqIEEgc2V0IG9mIHdoaWNoIGRvY3VtZW50IHVwZGF0ZXMgYXJlIGR1ZSBvbmx5IHRvIGxpbWJvIHJlc29sdXRpb24gdGFyZ2V0cy5cbiAgICAgKi9cbiAgICBpKSB7XG4gICAgICAgIHRoaXMuc25hcHNob3RWZXJzaW9uID0gZSwgdGhpcy50YXJnZXRDaGFuZ2VzID0gdCwgdGhpcy50YXJnZXRNaXNtYXRjaGVzID0gbiwgdGhpcy5kb2N1bWVudFVwZGF0ZXMgPSByLCBcbiAgICAgICAgdGhpcy5yZXNvbHZlZExpbWJvRG9jdW1lbnRzID0gaTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSEFDSzogVmlld3MgcmVxdWlyZSBSZW1vdGVFdmVudHMgaW4gb3JkZXIgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHZpZXcgaXNcbiAgICAgKiBDVVJSRU5ULCBidXQgc2Vjb25kYXJ5IHRhYnMgZG9uJ3QgcmVjZWl2ZSByZW1vdGUgZXZlbnRzLiBTbyB0aGlzIG1ldGhvZCBpc1xuICAgICAqIHVzZWQgdG8gY3JlYXRlIGEgc3ludGhlc2l6ZWQgUmVtb3RlRXZlbnQgdGhhdCBjYW4gYmUgdXNlZCB0byBhcHBseSBhXG4gICAgICogQ1VSUkVOVCBzdGF0dXMgY2hhbmdlIHRvIGEgVmlldywgZm9yIHF1ZXJpZXMgZXhlY3V0ZWQgaW4gYSBkaWZmZXJlbnQgdGFiLlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktdGFiIG9ubHlcbiAgICBzdGF0aWMgY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gbmV3IE1hcDtcbiAgICAgICAgcmV0dXJuIHIuc2V0KGUsIFRhcmdldENoYW5nZS5jcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2UoZSwgdCwgbikpLCBcbiAgICAgICAgbmV3IFJlbW90ZUV2ZW50KFNuYXBzaG90VmVyc2lvbi5taW4oKSwgciwgbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvciksIF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKSwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIFRhcmdldENoYW5nZSBzcGVjaWZpZXMgdGhlIHNldCBvZiBjaGFuZ2VzIGZvciBhIHNwZWNpZmljIHRhcmdldCBhcyBwYXJ0IG9mXG4gKiBhIFJlbW90ZUV2ZW50LiBUaGVzZSBjaGFuZ2VzIHRyYWNrIHdoaWNoIGRvY3VtZW50cyBhcmUgYWRkZWQsIG1vZGlmaWVkIG9yXG4gKiByZW1vdmVkLCBhcyB3ZWxsIGFzIHRoZSB0YXJnZXQncyByZXN1bWUgdG9rZW4gYW5kIHdoZXRoZXIgdGhlIHRhcmdldCBpc1xuICogbWFya2VkIENVUlJFTlQuXG4gKiBUaGUgYWN0dWFsIGNoYW5nZXMgKnRvKiBkb2N1bWVudHMgYXJlIG5vdCBwYXJ0IG9mIHRoZSBUYXJnZXRDaGFuZ2Ugc2luY2VcbiAqIGRvY3VtZW50cyBtYXkgYmUgcGFydCBvZiBtdWx0aXBsZSB0YXJnZXRzLlxuICovIGNsYXNzIFRhcmdldENoYW5nZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogQW4gb3BhcXVlLCBzZXJ2ZXItYXNzaWduZWQgdG9rZW4gdGhhdCBhbGxvd3Mgd2F0Y2hpbmcgYSBxdWVyeSB0byBiZSByZXN1bWVkXG4gICAgICogYWZ0ZXIgZGlzY29ubmVjdGluZyB3aXRob3V0IHJldHJhbnNtaXR0aW5nIGFsbCB0aGUgZGF0YSB0aGF0IG1hdGNoZXMgdGhlXG4gICAgICogcXVlcnkuIFRoZSByZXN1bWUgdG9rZW4gZXNzZW50aWFsbHkgaWRlbnRpZmllcyBhIHBvaW50IGluIHRpbWUgZnJvbSB3aGljaFxuICAgICAqIHRoZSBzZXJ2ZXIgc2hvdWxkIHJlc3VtZSBzZW5kaW5nIHJlc3VsdHMuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIFwiY3VycmVudFwiIChzeW5jZWQpIHN0YXR1cyBvZiB0aGlzIHRhcmdldC4gTm90ZSB0aGF0IFwiY3VycmVudFwiXG4gICAgICogaGFzIHNwZWNpYWwgbWVhbmluZyBpbiB0aGUgUlBDIHByb3RvY29sIHRoYXQgaW1wbGllcyB0aGF0IGEgdGFyZ2V0IGlzXG4gICAgICogYm90aCB1cC10by1kYXRlIGFuZCBjb25zaXN0ZW50IHdpdGggdGhlIHJlc3Qgb2YgdGhlIHdhdGNoIHN0cmVhbS5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBUaGUgc2V0IG9mIGRvY3VtZW50cyB0aGF0IHdlcmUgbmV3bHkgYXNzaWduZWQgdG8gdGhpcyB0YXJnZXQgYXMgcGFydCBvZlxuICAgICAqIHRoaXMgcmVtb3RlIGV2ZW50LlxuICAgICAqL1xuICAgIG4sIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXQgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSBhbHJlYWR5IGFzc2lnbmVkIHRvIHRoaXMgdGFyZ2V0IGJ1dCByZWNlaXZlZFxuICAgICAqIGFuIHVwZGF0ZSBkdXJpbmcgdGhpcyByZW1vdGUgZXZlbnQuXG4gICAgICovXG4gICAgciwgXG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiBkb2N1bWVudHMgdGhhdCB3ZXJlIHJlbW92ZWQgZnJvbSB0aGlzIHRhcmdldCBhcyBwYXJ0IG9mIHRoaXNcbiAgICAgKiByZW1vdGUgZXZlbnQuXG4gICAgICovXG4gICAgaSkge1xuICAgICAgICB0aGlzLnJlc3VtZVRva2VuID0gZSwgdGhpcy5jdXJyZW50ID0gdCwgdGhpcy5hZGRlZERvY3VtZW50cyA9IG4sIHRoaXMubW9kaWZpZWREb2N1bWVudHMgPSByLCBcbiAgICAgICAgdGhpcy5yZW1vdmVkRG9jdW1lbnRzID0gaTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdXNlZCB0byBjcmVhdGUgYSBzeW50aGVzaXplZCBUYXJnZXRDaGFuZ2VzIHRoYXQgY2FuIGJlIHVzZWQgdG9cbiAgICAgKiBhcHBseSBhIENVUlJFTlQgc3RhdHVzIGNoYW5nZSB0byBhIFZpZXcgKGZvciBxdWVyaWVzIGV4ZWN1dGVkIGluIGEgZGlmZmVyZW50XG4gICAgICogdGFiKSBvciBmb3IgbmV3IHF1ZXJpZXMgKHRvIHJhaXNlIHNuYXBzaG90cyB3aXRoIGNvcnJlY3QgQ1VSUkVOVCBzdGF0dXMpLlxuICAgICAqLyAgICBzdGF0aWMgY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYXJnZXRDaGFuZ2UobiwgdCwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgY2hhbmdlZCBkb2N1bWVudCBhbmQgYSBsaXN0IG9mIHRhcmdldCBpZHMgdG8gd2hpY2ggdGhpcyBjaGFuZ2VcbiAqIGFwcGxpZXMuXG4gKlxuICogSWYgZG9jdW1lbnQgaGFzIGJlZW4gZGVsZXRlZCBOb0RvY3VtZW50IHdpbGwgYmUgcHJvdmlkZWQuXG4gKi8gY2xhc3MgX19QUklWQVRFX0RvY3VtZW50V2F0Y2hDaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgbmV3IGRvY3VtZW50IGFwcGxpZXMgdG8gYWxsIG9mIHRoZXNlIHRhcmdldHMuICovXG4gICAgZSwgXG4gICAgLyoqIFRoZSBuZXcgZG9jdW1lbnQgaXMgcmVtb3ZlZCBmcm9tIGFsbCBvZiB0aGVzZSB0YXJnZXRzLiAqL1xuICAgIHQsIFxuICAgIC8qKiBUaGUga2V5IG9mIHRoZSBkb2N1bWVudCBmb3IgdGhpcyBjaGFuZ2UuICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogVGhlIG5ldyBkb2N1bWVudCBvciBOb0RvY3VtZW50IGlmIGl0IHdhcyBkZWxldGVkLiBJcyBudWxsIGlmIHRoZVxuICAgICAqIGRvY3VtZW50IHdlbnQgb3V0IG9mIHZpZXcgd2l0aG91dCB0aGUgc2VydmVyIHNlbmRpbmcgYSBuZXcgZG9jdW1lbnQuXG4gICAgICovXG4gICAgcikge1xuICAgICAgICB0aGlzLlJlID0gZSwgdGhpcy5yZW1vdmVkVGFyZ2V0SWRzID0gdCwgdGhpcy5rZXkgPSBuLCB0aGlzLlZlID0gcjtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9FeGlzdGVuY2VGaWx0ZXJDaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IGUsIHRoaXMubWUgPSB0O1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX1dhdGNoVGFyZ2V0Q2hhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogV2hhdCBraW5kIG9mIGNoYW5nZSBvY2N1cnJlZCB0byB0aGUgd2F0Y2ggdGFyZ2V0LiAqL1xuICAgIGUsIFxuICAgIC8qKiBUaGUgdGFyZ2V0IElEcyB0aGF0IHdlcmUgYWRkZWQvcmVtb3ZlZC9zZXQuICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogQW4gb3BhcXVlLCBzZXJ2ZXItYXNzaWduZWQgdG9rZW4gdGhhdCBhbGxvd3Mgd2F0Y2hpbmcgYSB0YXJnZXQgdG8gYmVcbiAgICAgKiByZXN1bWVkIGFmdGVyIGRpc2Nvbm5lY3Rpbmcgd2l0aG91dCByZXRyYW5zbWl0dGluZyBhbGwgdGhlIGRhdGEgdGhhdFxuICAgICAqIG1hdGNoZXMgdGhlIHRhcmdldC4gVGhlIHJlc3VtZSB0b2tlbiBlc3NlbnRpYWxseSBpZGVudGlmaWVzIGEgcG9pbnQgaW5cbiAgICAgKiB0aW1lIGZyb20gd2hpY2ggdGhlIHNlcnZlciBzaG91bGQgcmVzdW1lIHNlbmRpbmcgcmVzdWx0cy5cbiAgICAgKi9cbiAgICBuID0gQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklOR1xuICAgIC8qKiBBbiBSUEMgZXJyb3IgaW5kaWNhdGluZyB3aHkgdGhlIHdhdGNoIGZhaWxlZC4gKi8gLCByID0gbnVsbCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gZSwgdGhpcy50YXJnZXRJZHMgPSB0LCB0aGlzLnJlc3VtZVRva2VuID0gbiwgdGhpcy5jYXVzZSA9IHI7XG4gICAgfVxufVxuXG4vKiogVHJhY2tzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhIFdhdGNoIHRhcmdldC4gKi8gY2xhc3MgX19QUklWQVRFX1RhcmdldFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBudW1iZXIgb2YgcGVuZGluZyByZXNwb25zZXMgKGFkZHMgb3IgcmVtb3ZlcykgdGhhdCB3ZSBhcmUgd2FpdGluZyBvbi5cbiAgICAgICAgICogV2Ugb25seSBjb25zaWRlciB0YXJnZXRzIGFjdGl2ZSB0aGF0IGhhdmUgbm8gcGVuZGluZyByZXNwb25zZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZlID0gMCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgZG9jdW1lbnQgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCByYWlzZWQgc25hcHNob3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZXNlIGNoYW5nZXMgYXJlIGNvbnRpbnVvdXNseSB1cGRhdGVkIGFzIHdlIHJlY2VpdmUgZG9jdW1lbnQgdXBkYXRlcyBhbmRcbiAgICAgICAgICogYWx3YXlzIHJlZmxlY3QgdGhlIGN1cnJlbnQgc2V0IG9mIGNoYW5nZXMgYWdhaW5zdCB0aGUgbGFzdCBpc3N1ZWQgc25hcHNob3QuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdlID0gX19QUklWQVRFX3NuYXBzaG90Q2hhbmdlc01hcCgpLCBcbiAgICAgICAgLyoqIFNlZSBwdWJsaWMgZ2V0dGVycyBmb3IgZXhwbGFuYXRpb25zIG9mIHRoZXNlIGZpZWxkcy4gKi9cbiAgICAgICAgdGhpcy5wZSA9IEJ5dGVTdHJpbmcuRU1QVFlfQllURV9TVFJJTkcsIHRoaXMueWUgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgdGFyZ2V0IHN0YXRlIHNob3VsZCBiZSBpbmNsdWRlZCBpbiB0aGUgbmV4dCBzbmFwc2hvdC4gV2VcbiAgICAgICAgICogaW5pdGlhbGl6ZSB0byB0cnVlIHNvIHRoYXQgbmV3bHktYWRkZWQgdGFyZ2V0cyBhcmUgaW5jbHVkZWQgaW4gdGhlIG5leHRcbiAgICAgICAgICogUmVtb3RlRXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndlID0gITA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhpcyB0YXJnZXQgaGFzIGJlZW4gbWFya2VkICdjdXJyZW50Jy5cbiAgICAgKlxuICAgICAqICdDdXJyZW50JyBoYXMgc3BlY2lhbCBtZWFuaW5nIGluIHRoZSBSUEMgcHJvdG9jb2w6IEl0IGltcGxpZXMgdGhhdCB0aGVcbiAgICAgKiBXYXRjaCBiYWNrZW5kIGhhcyBzZW50IHVzIGFsbCBjaGFuZ2VzIHVwIHRvIHRoZSBwb2ludCBhdCB3aGljaCB0aGUgdGFyZ2V0XG4gICAgICogd2FzIGFkZGVkIGFuZCB0aGF0IHRoZSB0YXJnZXQgaXMgY29uc2lzdGVudCB3aXRoIHRoZSByZXN0IG9mIHRoZSB3YXRjaFxuICAgICAqIHN0cmVhbS5cbiAgICAgKi8gICAgZ2V0IGN1cnJlbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnllO1xuICAgIH1cbiAgICAvKiogVGhlIGxhc3QgcmVzdW1lIHRva2VuIHNlbnQgdG8gdXMgZm9yIHRoaXMgdGFyZ2V0LiAqLyAgICBnZXQgcmVzdW1lVG9rZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB0aGlzIHRhcmdldCBoYXMgcGVuZGluZyB0YXJnZXQgYWRkcyBvciB0YXJnZXQgcmVtb3Zlcy4gKi8gICAgZ2V0IFNlKCkge1xuICAgICAgICByZXR1cm4gMCAhPT0gdGhpcy5mZTtcbiAgICB9XG4gICAgLyoqIFdoZXRoZXIgd2UgaGF2ZSBtb2RpZmllZCBhbnkgc3RhdGUgdGhhdCBzaG91bGQgdHJpZ2dlciBhIHNuYXBzaG90LiAqLyAgICBnZXQgYmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLndlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSByZXN1bWUgdG9rZW4gdG8gdGhlIFRhcmdldENoYW5nZSwgYnV0IG9ubHkgd2hlbiBpdCBoYXMgYSBuZXdcbiAgICAgKiB2YWx1ZS4gRW1wdHkgcmVzdW1lVG9rZW5zIGFyZSBkaXNjYXJkZWQuXG4gICAgICovICAgIERlKGUpIHtcbiAgICAgICAgZS5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwICYmICh0aGlzLndlID0gITAsIHRoaXMucGUgPSBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRhcmdldCBjaGFuZ2UgZnJvbSB0aGUgY3VycmVudCBzZXQgb2YgY2hhbmdlcy5cbiAgICAgKlxuICAgICAqIFRvIHJlc2V0IHRoZSBkb2N1bWVudCBjaGFuZ2VzIGFmdGVyIHJhaXNpbmcgdGhpcyBzbmFwc2hvdCwgY2FsbFxuICAgICAqIGBjbGVhclBlbmRpbmdDaGFuZ2VzKClgLlxuICAgICAqLyAgICBDZSgpIHtcbiAgICAgICAgbGV0IGUgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgdCA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdlLmZvckVhY2goKChyLCBpKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKGkpIHtcbiAgICAgICAgICAgICAgY2FzZSAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gOlxuICAgICAgICAgICAgICAgIGUgPSBlLmFkZChyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA6XG4gICAgICAgICAgICAgICAgdCA9IHQuYWRkKHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gOlxuICAgICAgICAgICAgICAgIG4gPSBuLmFkZChyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGZhaWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLCBuZXcgVGFyZ2V0Q2hhbmdlKHRoaXMucGUsIHRoaXMueWUsIGUsIHQsIG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGRvY3VtZW50IGNoYW5nZXMgYW5kIHNldHMgYGhhc1BlbmRpbmdDaGFuZ2VzYCB0byBmYWxzZS5cbiAgICAgKi8gICAgdmUoKSB7XG4gICAgICAgIHRoaXMud2UgPSAhMSwgdGhpcy5nZSA9IF9fUFJJVkFURV9zbmFwc2hvdENoYW5nZXNNYXAoKTtcbiAgICB9XG4gICAgRmUoZSwgdCkge1xuICAgICAgICB0aGlzLndlID0gITAsIHRoaXMuZ2UgPSB0aGlzLmdlLmluc2VydChlLCB0KTtcbiAgICB9XG4gICAgTWUoZSkge1xuICAgICAgICB0aGlzLndlID0gITAsIHRoaXMuZ2UgPSB0aGlzLmdlLnJlbW92ZShlKTtcbiAgICB9XG4gICAgeGUoKSB7XG4gICAgICAgIHRoaXMuZmUgKz0gMTtcbiAgICB9XG4gICAgT2UoKSB7XG4gICAgICAgIHRoaXMuZmUgLT0gMSwgX19QUklWQVRFX2hhcmRBc3NlcnQodGhpcy5mZSA+PSAwKTtcbiAgICB9XG4gICAgTmUoKSB7XG4gICAgICAgIHRoaXMud2UgPSAhMCwgdGhpcy55ZSA9ICEwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGhlbHBlciBjbGFzcyB0byBhY2N1bXVsYXRlIHdhdGNoIGNoYW5nZXMgaW50byBhIFJlbW90ZUV2ZW50LlxuICovXG5jbGFzcyBfX1BSSVZBVEVfV2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuTGUgPSBlLCBcbiAgICAgICAgLyoqIFRoZSBpbnRlcm5hbCBzdGF0ZSBvZiBhbGwgdHJhY2tlZCB0YXJnZXRzLiAqL1xuICAgICAgICB0aGlzLkJlID0gbmV3IE1hcCwgXG4gICAgICAgIC8qKiBLZWVwcyB0cmFjayBvZiB0aGUgZG9jdW1lbnRzIHRvIHVwZGF0ZSBzaW5jZSB0aGUgbGFzdCByYWlzZWQgc25hcHNob3QuICovXG4gICAgICAgIHRoaXMua2UgPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCksIFxuICAgICAgICAvKiogQSBtYXBwaW5nIG9mIGRvY3VtZW50IGtleXMgdG8gdGhlaXIgc2V0IG9mIHRhcmdldCBJRHMuICovXG4gICAgICAgIHRoaXMucWUgPSBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRNYXAoKSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcCBvZiB0YXJnZXRzIHdpdGggZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaGVzLiBUaGVzZSB0YXJnZXRzIGFyZVxuICAgICAgICAgKiBrbm93biB0byBiZSBpbmNvbnNpc3RlbnQgYW5kIHRoZWlyIGxpc3RlbnMgbmVlZHMgdG8gYmUgcmUtZXN0YWJsaXNoZWQgYnlcbiAgICAgICAgICogUmVtb3RlU3RvcmUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlFlID0gbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyBhbmQgYWRkcyB0aGUgRG9jdW1lbnRXYXRjaENoYW5nZSB0byB0aGUgY3VycmVudCBzZXQgb2YgY2hhbmdlcy5cbiAgICAgKi8gICAgS2UoZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5SZSkgZS5WZSAmJiBlLlZlLmlzRm91bmREb2N1bWVudCgpID8gdGhpcy4kZSh0LCBlLlZlKSA6IHRoaXMuVWUodCwgZS5rZXksIGUuVmUpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5yZW1vdmVkVGFyZ2V0SWRzKSB0aGlzLlVlKHQsIGUua2V5LCBlLlZlKTtcbiAgICB9XG4gICAgLyoqIFByb2Nlc3NlcyBhbmQgYWRkcyB0aGUgV2F0Y2hUYXJnZXRDaGFuZ2UgdG8gdGhlIGN1cnJlbnQgc2V0IG9mIGNoYW5nZXMuICovICAgIFdlKGUpIHtcbiAgICAgICAgdGhpcy5mb3JFYWNoVGFyZ2V0KGUsICh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLkdlKHQpO1xuICAgICAgICAgICAgc3dpdGNoIChlLnN0YXRlKSB7XG4gICAgICAgICAgICAgIGNhc2UgMCAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLk5vQ2hhbmdlICovIDpcbiAgICAgICAgICAgICAgICB0aGlzLnplKHQpICYmIG4uRGUoZS5yZXN1bWVUb2tlbik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuQWRkZWQgKi8gOlxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZGVjcmVtZW50IHRoZSBudW1iZXIgb2YgcGVuZGluZyBhY2tzIG5lZWRlZCBmcm9tIHdhdGNoXG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoaXMgdGFyZ2V0SWQuXG4gICAgICAgICAgICAgICAgbi5PZSgpLCBuLlNlIHx8IFxuICAgICAgICAgICAgICAgIC8vIFdlIGhhdmUgYSBmcmVzaGx5IGFkZGVkIHRhcmdldCwgc28gd2UgbmVlZCB0byByZXNldCBhbnkgc3RhdGVcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHdlIGhhZCBwcmV2aW91c2x5LiBUaGlzIGNhbiBoYXBwZW4gZS5nLiB3aGVuIHJlbW92ZSBhbmQgYWRkXG4gICAgICAgICAgICAgICAgLy8gYmFjayBhIHRhcmdldCBmb3IgZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaGVzLlxuICAgICAgICAgICAgICAgIG4udmUoKSwgbi5EZShlLnJlc3VtZVRva2VuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDIgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5SZW1vdmVkICovIDpcbiAgICAgICAgICAgICAgICAvLyBXZSBuZWVkIHRvIGtlZXAgdHJhY2sgb2YgcmVtb3ZlZCB0YXJnZXRzIHRvIHdlIGNhbiBwb3N0LWZpbHRlciBhbmRcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYW55IHRhcmdldCBjaGFuZ2VzLlxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gZGVjcmVtZW50IHRoZSBudW1iZXIgb2YgcGVuZGluZyBhY2tzIG5lZWRlZCBmcm9tIHdhdGNoXG4gICAgICAgICAgICAgICAgLy8gZm9yIHRoaXMgdGFyZ2V0SWQuXG4gICAgICAgICAgICAgICAgbi5PZSgpLCBuLlNlIHx8IHRoaXMucmVtb3ZlVGFyZ2V0KHQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMyAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLkN1cnJlbnQgKi8gOlxuICAgICAgICAgICAgICAgIHRoaXMuemUodCkgJiYgKG4uTmUoKSwgbi5EZShlLnJlc3VtZVRva2VuKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSA0IC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuUmVzZXQgKi8gOlxuICAgICAgICAgICAgICAgIHRoaXMuemUodCkgJiYgKFxuICAgICAgICAgICAgICAgIC8vIFJlc2V0IHRoZSB0YXJnZXQgYW5kIHN5bnRoZXNpemVzIHJlbW92ZXMgZm9yIGFsbCBleGlzdGluZ1xuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50cy4gVGhlIGJhY2tlbmQgd2lsbCByZS1hZGQgYW55IGRvY3VtZW50cyB0aGF0IHN0aWxsXG4gICAgICAgICAgICAgICAgLy8gbWF0Y2ggdGhlIHRhcmdldCBiZWZvcmUgaXQgc2VuZHMgdGhlIG5leHQgZ2xvYmFsIHNuYXBzaG90LlxuICAgICAgICAgICAgICAgIHRoaXMuamUodCksIG4uRGUoZS5yZXN1bWVUb2tlbikpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZmFpbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgYWxsIHRhcmdldElkcyB0aGF0IHRoZSB3YXRjaCBjaGFuZ2UgYXBwbGllcyB0bzogZWl0aGVyIHRoZVxuICAgICAqIHRhcmdldElkcyBleHBsaWNpdGx5IGxpc3RlZCBpbiB0aGUgY2hhbmdlIG9yIHRoZSB0YXJnZXRJZHMgb2YgYWxsIGN1cnJlbnRseVxuICAgICAqIGFjdGl2ZSB0YXJnZXRzLlxuICAgICAqLyAgICBmb3JFYWNoVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgZS50YXJnZXRJZHMubGVuZ3RoID4gMCA/IGUudGFyZ2V0SWRzLmZvckVhY2godCkgOiB0aGlzLkJlLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnplKG4pICYmIHQobik7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSGFuZGxlcyBleGlzdGVuY2UgZmlsdGVycyBhbmQgc3ludGhlc2l6ZXMgZGVsZXRlcyBmb3IgZmlsdGVyIG1pc21hdGNoZXMuXG4gICAgICogVGFyZ2V0cyB0aGF0IGFyZSBpbnZhbGlkYXRlZCBieSBmaWx0ZXIgbWlzbWF0Y2hlcyBhcmUgYWRkZWQgdG9cbiAgICAgKiBgcGVuZGluZ1RhcmdldFJlc2V0c2AuXG4gICAgICovICAgIEhlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUudGFyZ2V0SWQsIG4gPSBlLm1lLmNvdW50LCByID0gdGhpcy5KZSh0KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSByLnRhcmdldDtcbiAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfdGFyZ2V0SXNEb2N1bWVudFRhcmdldChpKSkgaWYgKDAgPT09IG4pIHtcbiAgICAgICAgICAgICAgICAvLyBUaGUgZXhpc3RlbmNlIGZpbHRlciB0b2xkIHVzIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBleGlzdC4gV2UgZGVkdWNlXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB0aGlzIGRvY3VtZW50IGRvZXMgbm90IGV4aXN0IGFuZCBhcHBseSBhIGRlbGV0ZWQgZG9jdW1lbnQgdG9cbiAgICAgICAgICAgICAgICAvLyBvdXIgdXBkYXRlcy4gV2l0aG91dCBhcHBseWluZyB0aGlzIGRlbGV0ZWQgZG9jdW1lbnQgdGhlcmUgbWlnaHQgYmVcbiAgICAgICAgICAgICAgICAvLyBhbm90aGVyIHF1ZXJ5IHRoYXQgd2lsbCByYWlzZSB0aGlzIGRvY3VtZW50IGFzIHBhcnQgb2YgYSBzbmFwc2hvdFxuICAgICAgICAgICAgICAgIC8vIHVudGlsIGl0IGlzIHJlc29sdmVkLCBlc3NlbnRpYWxseSBleHBvc2luZyBpbmNvbnNpc3RlbmN5IGJldHdlZW5cbiAgICAgICAgICAgICAgICAvLyBxdWVyaWVzLlxuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgRG9jdW1lbnRLZXkoaS5wYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLlVlKHQsIGUsIE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KGUsIFNuYXBzaG90VmVyc2lvbi5taW4oKSkpO1xuICAgICAgICAgICAgfSBlbHNlIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDEgPT09IG4pOyBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdGhpcy5ZZSh0KTtcbiAgICAgICAgICAgICAgICAvLyBFeGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoLiBNYXJrIHRoZSBkb2N1bWVudHMgYXMgYmVpbmcgaW4gbGltYm8sIGFuZFxuICAgICAgICAgICAgICAgIC8vIHJhaXNlIGEgc25hcHNob3Qgd2l0aCBgaXNGcm9tQ2FjaGU6dHJ1ZWAuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyICE9PSBuKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFwcGx5IGJsb29tIGZpbHRlciB0byBpZGVudGlmeSBhbmQgbWFyayByZW1vdmVkIGRvY3VtZW50cy5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuWmUoZSksIGkgPSBuID8gdGhpcy5YZShuLCBlLCByKSA6IDEgLyogQmxvb21GaWx0ZXJBcHBsaWNhdGlvblN0YXR1cy5Ta2lwcGVkICovO1xuICAgICAgICAgICAgICAgICAgICBpZiAoMCAvKiBCbG9vbUZpbHRlckFwcGxpY2F0aW9uU3RhdHVzLlN1Y2Nlc3MgKi8gIT09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGJsb29tIGZpbHRlciBhcHBsaWNhdGlvbiBmYWlscywgd2UgcmVzZXQgdGhlIG1hcHBpbmcgYW5kXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0cmlnZ2VyIHJlLXJ1biBvZiB0aGUgcXVlcnkuXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmplKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IDIgLyogQmxvb21GaWx0ZXJBcHBsaWNhdGlvblN0YXR1cy5GYWxzZVBvc2l0aXZlICovID09PSBpID8gXCJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbVwiIC8qIFRhcmdldFB1cnBvc2UuRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbSAqLyA6IFwiVGFyZ2V0UHVycG9zZUV4aXN0ZW5jZUZpbHRlck1pc21hdGNoXCIgLyogVGFyZ2V0UHVycG9zZS5FeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaCAqLztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuUWUgPSB0aGlzLlFlLmluc2VydCh0LCBlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBudWxsID09IGhlIHx8IGhlLmV0KGZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVFeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaEluZm9Gb3JUZXN0aW5nSG9va3MoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHMsIG8sIF8sIGEsIHUsIGM7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2FsQ2FjaGVDb3VudDogZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGVuY2VGaWx0ZXJDb3VudDogdC5jb3VudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhYmFzZUlkOiBuLmRhdGFiYXNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb2plY3RJZDogbi5wcm9qZWN0SWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIGggPSB0LnVuY2hhbmdlZE5hbWVzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaCAmJiAobC5ibG9vbUZpbHRlciA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBsaWVkOiAwIC8qIEJsb29tRmlsdGVyQXBwbGljYXRpb25TdGF0dXMuU3VjY2VzcyAqLyA9PT0gaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNoQ291bnQ6IG51bGwgIT09IChzID0gbnVsbCA9PSBoID8gdm9pZCAwIDogaC5oYXNoQ291bnQpICYmIHZvaWQgMCAhPT0gcyA/IHMgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdG1hcExlbmd0aDogbnVsbCAhPT0gKGEgPSBudWxsID09PSAoXyA9IG51bGwgPT09IChvID0gbnVsbCA9PSBoID8gdm9pZCAwIDogaC5iaXRzKSB8fCB2b2lkIDAgPT09IG8gPyB2b2lkIDAgOiBvLmJpdG1hcCkgfHwgdm9pZCAwID09PSBfID8gdm9pZCAwIDogXy5sZW5ndGgpICYmIHZvaWQgMCAhPT0gYSA/IGEgOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6IG51bGwgIT09IChjID0gbnVsbCA9PT0gKHUgPSBudWxsID09IGggPyB2b2lkIDAgOiBoLmJpdHMpIHx8IHZvaWQgMCA9PT0gdSA/IHZvaWQgMCA6IHUucGFkZGluZykgJiYgdm9pZCAwICE9PSBjID8gYyA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWlnaHRDb250YWluOiBlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsICE9PSAodCA9IG51bGwgPT0gciA/IHZvaWQgMCA6IHIubWlnaHRDb250YWluKGUpKSAmJiB2b2lkIDAgIT09IHQgJiYgdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIChyLCBlLm1lLCB0aGlzLkxlLnR0KCksIG4sIGkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2UgdGhlIGJsb29tIGZpbHRlciBmcm9tIHRoZSBcInVuY2hhbmdlZF9uYW1lc1wiIGZpZWxkIG9mIGFuIGV4aXN0ZW5jZVxuICAgICAqIGZpbHRlci5cbiAgICAgKi8gICAgWmUoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5tZS51bmNoYW5nZWROYW1lcztcbiAgICAgICAgaWYgKCF0IHx8ICF0LmJpdHMpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB7Yml0czoge2JpdG1hcDogbiA9IFwiXCIsIHBhZGRpbmc6IHIgPSAwfSwgaGFzaENvdW50OiBpID0gMH0gPSB0O1xuICAgICAgICBsZXQgcywgbztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHMgPSBfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyhuKS50b1VpbnQ4QXJyYXkoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQmFzZTY0RGVjb2RlRXJyb3IpIHJldHVybiBfX1BSSVZBVEVfbG9nV2FybihcIkRlY29kaW5nIHRoZSBiYXNlNjQgYmxvb20gZmlsdGVyIGluIGV4aXN0ZW5jZSBmaWx0ZXIgZmFpbGVkIChcIiArIGUubWVzc2FnZSArIFwiKTsgaWdub3JpbmcgdGhlIGJsb29tIGZpbHRlciBhbmQgZmFsbGluZyBiYWNrIHRvIGZ1bGwgcmUtcXVlcnkuXCIpLCBcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBCbG9vbUZpbHRlciB0aHJvd3MgZXJyb3IgaWYgdGhlIGlucHV0cyBhcmUgaW52YWxpZC5cbiAgICAgICAgICAgIG8gPSBuZXcgQmxvb21GaWx0ZXIocywgciwgaSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbG9nV2FybihlIGluc3RhbmNlb2YgX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IgPyBcIkJsb29tRmlsdGVyIGVycm9yOiBcIiA6IFwiQXBwbHlpbmcgYmxvb20gZmlsdGVyIGZhaWxlZDogXCIsIGUpLCBcbiAgICAgICAgICAgIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDAgPT09IG8uSWUgPyBudWxsIDogbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbHkgYmxvb20gZmlsdGVyIHRvIHJlbW92ZSB0aGUgZGVsZXRlZCBkb2N1bWVudHMsIGFuZCByZXR1cm4gdGhlXG4gICAgICogYXBwbGljYXRpb24gc3RhdHVzLlxuICAgICAqLyAgICBYZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0Lm1lLmNvdW50ID09PSBuIC0gdGhpcy5udChlLCB0LnRhcmdldElkKSA/IDAgLyogQmxvb21GaWx0ZXJBcHBsaWNhdGlvblN0YXR1cy5TdWNjZXNzICovIDogMiAvKiBCbG9vbUZpbHRlckFwcGxpY2F0aW9uU3RhdHVzLkZhbHNlUG9zaXRpdmUgKi87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbHRlciBvdXQgcmVtb3ZlZCBkb2N1bWVudHMgYmFzZWQgb24gYmxvb20gZmlsdGVyIG1lbWJlcnNoaXAgcmVzdWx0IGFuZFxuICAgICAqIHJldHVybiBudW1iZXIgb2YgZG9jdW1lbnRzIHJlbW92ZWQuXG4gICAgICovICAgIG50KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuTGUuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0KTtcbiAgICAgICAgbGV0IHIgPSAwO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKChuID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLkxlLnR0KCksIHMgPSBgcHJvamVjdHMvJHtpLnByb2plY3RJZH0vZGF0YWJhc2VzLyR7aS5kYXRhYmFzZX0vZG9jdW1lbnRzLyR7bi5wYXRoLmNhbm9uaWNhbFN0cmluZygpfWA7XG4gICAgICAgICAgICBlLm1pZ2h0Q29udGFpbihzKSB8fCAodGhpcy5VZSh0LCBuLCAvKnVwZGF0ZWREb2N1bWVudD0qLyBudWxsKSwgcisrKTtcbiAgICAgICAgfSkpLCByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgY3VycmVudGx5IGFjY3VtdWxhdGVkIHN0YXRlIGludG8gYSByZW1vdGUgZXZlbnQgYXQgdGhlXG4gICAgICogcHJvdmlkZWQgc25hcHNob3QgdmVyc2lvbi4gUmVzZXRzIHRoZSBhY2N1bXVsYXRlZCBjaGFuZ2VzIGJlZm9yZSByZXR1cm5pbmcuXG4gICAgICovICAgIHJ0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBNYXA7XG4gICAgICAgIHRoaXMuQmUuZm9yRWFjaCgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLkplKHIpO1xuICAgICAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICBpZiAobi5jdXJyZW50ICYmIF9fUFJJVkFURV90YXJnZXRJc0RvY3VtZW50VGFyZ2V0KGkudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBEb2N1bWVudCBxdWVyaWVzIGZvciBkb2N1bWVudCB0aGF0IGRvbid0IGV4aXN0IGNhbiBwcm9kdWNlIGFuIGVtcHR5XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc3VsdCBzZXQuIFRvIHVwZGF0ZSBvdXIgbG9jYWwgY2FjaGUsIHdlIHN5bnRoZXNpemUgYSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAvLyBkZWxldGUgaWYgd2UgaGF2ZSBub3QgcHJldmlvdXNseSByZWNlaXZlZCB0aGUgZG9jdW1lbnQuIFRoaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzb2x2ZXMgdGhlIGxpbWJvIHN0YXRlIG9mIHRoZSBkb2N1bWVudCwgcmVtb3ZpbmcgaXQgZnJvbVxuICAgICAgICAgICAgICAgICAgICAvLyBsaW1ib0RvY3VtZW50UmVmcy5cbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyhkaW1vbmQpOiBJZGVhbGx5IHdlIHdvdWxkIGhhdmUgYW4gZXhwbGljaXQgbG9va3VwIHRhcmdldFxuICAgICAgICAgICAgICAgICAgICAvLyBpbnN0ZWFkIHJlc3VsdGluZyBpbiBhbiBleHBsaWNpdCBkZWxldGUgbWVzc2FnZSBhbmQgd2UgY291bGRcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIHRoaXMgc3BlY2lhbCBsb2dpYy5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBEb2N1bWVudEtleShpLnRhcmdldC5wYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gdGhpcy5rZS5nZXQodCkgfHwgdGhpcy5pdChyLCB0KSB8fCB0aGlzLlVlKHIsIHQsIE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KHQsIGUpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbi5iZSAmJiAodC5zZXQociwgbi5DZSgpKSwgbi52ZSgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgbiA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICAvLyBXZSBleHRyYWN0IHRoZSBzZXQgb2YgbGltYm8tb25seSBkb2N1bWVudCB1cGRhdGVzIGFzIHRoZSBHQyBsb2dpY1xuICAgICAgICAvLyBzcGVjaWFsLWNhc2VzIGRvY3VtZW50cyB0aGF0IGRvIG5vdCBhcHBlYXIgaW4gdGhlIHRhcmdldCBjYWNoZS5cbiAgICAgICAgXG4gICAgICAgIC8vIFRPRE8oZ3NvbHRpcyk6IEV4cGFuZCBvbiB0aGlzIGNvbW1lbnQgb25jZSBHQyBpcyBhdmFpbGFibGUgaW4gdGhlIEpTXG4gICAgICAgIC8vIGNsaWVudC5cbiAgICAgICAgICAgICAgICB0aGlzLnFlLmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBsZXQgciA9ICEwO1xuICAgICAgICAgICAgdC5mb3JFYWNoV2hpbGUoKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLkplKGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhdCB8fCBcIlRhcmdldFB1cnBvc2VMaW1ib1Jlc29sdXRpb25cIiAvKiBUYXJnZXRQdXJwb3NlLkxpbWJvUmVzb2x1dGlvbiAqLyA9PT0gdC5wdXJwb3NlIHx8IChyID0gITEsIFxuICAgICAgICAgICAgICAgICExKTtcbiAgICAgICAgICAgIH0pKSwgciAmJiAobiA9IG4uYWRkKGUpKTtcbiAgICAgICAgfSkpLCB0aGlzLmtlLmZvckVhY2goKCh0LCBuKSA9PiBuLnNldFJlYWRUaW1lKGUpKSk7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgUmVtb3RlRXZlbnQoZSwgdCwgdGhpcy5RZSwgdGhpcy5rZSwgbik7XG4gICAgICAgIHJldHVybiB0aGlzLmtlID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpLCB0aGlzLnFlID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0TWFwKCksIFxuICAgICAgICB0aGlzLlFlID0gbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvciksIHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHByb3ZpZGVkIGRvY3VtZW50IHRvIHRoZSBpbnRlcm5hbCBsaXN0IG9mIGRvY3VtZW50IHVwZGF0ZXMgYW5kXG4gICAgICogaXRzIGRvY3VtZW50IGtleSB0byB0aGUgZ2l2ZW4gdGFyZ2V0J3MgbWFwcGluZy5cbiAgICAgKi9cbiAgICAvLyBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICAgICRlKGUsIHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLnplKGUpKSByZXR1cm47XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLml0KGUsIHQua2V5KSA/IDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA6IDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLztcbiAgICAgICAgdGhpcy5HZShlKS5GZSh0LmtleSwgbiksIHRoaXMua2UgPSB0aGlzLmtlLmluc2VydCh0LmtleSwgdCksIHRoaXMucWUgPSB0aGlzLnFlLmluc2VydCh0LmtleSwgdGhpcy5zdCh0LmtleSkuYWRkKGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgcHJvdmlkZWQgZG9jdW1lbnQgZnJvbSB0aGUgdGFyZ2V0IG1hcHBpbmcuIElmIHRoZVxuICAgICAqIGRvY3VtZW50IG5vIGxvbmdlciBtYXRjaGVzIHRoZSB0YXJnZXQsIGJ1dCB0aGUgZG9jdW1lbnQncyBzdGF0ZSBpcyBzdGlsbFxuICAgICAqIGtub3duIChlLmcuIHdlIGtub3cgdGhhdCB0aGUgZG9jdW1lbnQgd2FzIGRlbGV0ZWQgb3Igd2UgcmVjZWl2ZWQgdGhlIGNoYW5nZVxuICAgICAqIHRoYXQgY2F1c2VkIHRoZSBmaWx0ZXIgbWlzbWF0Y2gpLCB0aGUgbmV3IGRvY3VtZW50IGNhbiBiZSBwcm92aWRlZFxuICAgICAqIHRvIHVwZGF0ZSB0aGUgcmVtb3RlIGRvY3VtZW50IGNhY2hlLlxuICAgICAqL1xuICAgIC8vIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gICAgVWUoZSwgdCwgbikge1xuICAgICAgICBpZiAoIXRoaXMuemUoZSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgciA9IHRoaXMuR2UoZSk7XG4gICAgICAgIHRoaXMuaXQoZSwgdCkgPyByLkZlKHQsIDEgLyogQ2hhbmdlVHlwZS5SZW1vdmVkICovKSA6IFxuICAgICAgICAvLyBUaGUgZG9jdW1lbnQgbWF5IGhhdmUgZW50ZXJlZCBhbmQgbGVmdCB0aGUgdGFyZ2V0IGJlZm9yZSB3ZSByYWlzZWQgYVxuICAgICAgICAvLyBzbmFwc2hvdCwgc28gd2UgY2FuIGp1c3QgaWdub3JlIHRoZSBjaGFuZ2UuXG4gICAgICAgIHIuTWUodCksIHRoaXMucWUgPSB0aGlzLnFlLmluc2VydCh0LCB0aGlzLnN0KHQpLmRlbGV0ZShlKSksIG4gJiYgKHRoaXMua2UgPSB0aGlzLmtlLmluc2VydCh0LCBuKSk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldChlKSB7XG4gICAgICAgIHRoaXMuQmUuZGVsZXRlKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IGNvdW50IG9mIGRvY3VtZW50cyBpbiB0aGUgdGFyZ2V0LiBUaGlzIGluY2x1ZGVzIGJvdGhcbiAgICAgKiB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyB0aGF0IHRoZSBMb2NhbFN0b3JlIGNvbnNpZGVycyB0byBiZSBwYXJ0IG9mIHRoZVxuICAgICAqIHRhcmdldCBhcyB3ZWxsIGFzIGFueSBhY2N1bXVsYXRlZCBjaGFuZ2VzLlxuICAgICAqLyAgICBZZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLkdlKGUpLkNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLkxlLmdldFJlbW90ZUtleXNGb3JUYXJnZXQoZSkuc2l6ZSArIHQuYWRkZWREb2N1bWVudHMuc2l6ZSAtIHQucmVtb3ZlZERvY3VtZW50cy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbmNyZW1lbnQgdGhlIG51bWJlciBvZiBhY2tzIG5lZWRlZCBmcm9tIHdhdGNoIGJlZm9yZSB3ZSBjYW4gY29uc2lkZXIgdGhlXG4gICAgICogc2VydmVyIHRvIGJlICdpbi1zeW5jJyB3aXRoIHRoZSBjbGllbnQncyBhY3RpdmUgdGFyZ2V0cy5cbiAgICAgKi8gICAgeGUoZSkge1xuICAgICAgICB0aGlzLkdlKGUpLnhlKCk7XG4gICAgfVxuICAgIEdlKGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLkJlLmdldChlKTtcbiAgICAgICAgcmV0dXJuIHQgfHwgKHQgPSBuZXcgX19QUklWQVRFX1RhcmdldFN0YXRlLCB0aGlzLkJlLnNldChlLCB0KSksIHQ7XG4gICAgfVxuICAgIHN0KGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLnFlLmdldChlKTtcbiAgICAgICAgcmV0dXJuIHQgfHwgKHQgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKSwgdGhpcy5xZSA9IHRoaXMucWUuaW5zZXJ0KGUsIHQpKSwgXG4gICAgICAgIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFZlcmlmaWVzIHRoYXQgdGhlIHVzZXIgaXMgc3RpbGwgaW50ZXJlc3RlZCBpbiB0aGlzIHRhcmdldCAoYnkgY2FsbGluZ1xuICAgICAqIGBnZXRUYXJnZXREYXRhRm9yVGFyZ2V0KClgKSBhbmQgdGhhdCB3ZSBhcmUgbm90IHdhaXRpbmcgZm9yIHBlbmRpbmcgQUREc1xuICAgICAqIGZyb20gd2F0Y2guXG4gICAgICovICAgIHplKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG51bGwgIT09IHRoaXMuSmUoZSk7XG4gICAgICAgIHJldHVybiB0IHx8IF9fUFJJVkFURV9sb2dEZWJ1ZyhcIldhdGNoQ2hhbmdlQWdncmVnYXRvclwiLCBcIkRldGVjdGVkIGluYWN0aXZlIHRhcmdldFwiLCBlKSwgXG4gICAgICAgIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIFRhcmdldERhdGEgZm9yIGFuIGFjdGl2ZSB0YXJnZXQgKGkuZS4gYSB0YXJnZXQgdGhhdCB0aGUgdXNlclxuICAgICAqIGlzIHN0aWxsIGludGVyZXN0ZWQgaW4gdGhhdCBoYXMgbm8gb3V0c3RhbmRpbmcgdGFyZ2V0IGNoYW5nZSByZXF1ZXN0cykuXG4gICAgICovICAgIEplKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuQmUuZ2V0KGUpO1xuICAgICAgICByZXR1cm4gdCAmJiB0LlNlID8gbnVsbCA6IHRoaXMuTGUub3QoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgc3RhdGUgb2YgYSBXYXRjaCB0YXJnZXQgdG8gaXRzIGluaXRpYWwgc3RhdGUgKGUuZy4gc2V0c1xuICAgICAqICdjdXJyZW50JyB0byBmYWxzZSwgY2xlYXJzIHRoZSByZXN1bWUgdG9rZW4gYW5kIHJlbW92ZXMgaXRzIHRhcmdldCBtYXBwaW5nXG4gICAgICogZnJvbSBhbGwgZG9jdW1lbnRzKS5cbiAgICAgKi8gICAgamUoZSkge1xuICAgICAgICB0aGlzLkJlLnNldChlLCBuZXcgX19QUklWQVRFX1RhcmdldFN0YXRlKTtcbiAgICAgICAgdGhpcy5MZS5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5VZShlLCB0LCAvKnVwZGF0ZWREb2N1bWVudD0qLyBudWxsKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIExvY2FsU3RvcmUgY29uc2lkZXJzIHRoZSBkb2N1bWVudCB0byBiZSBwYXJ0IG9mIHRoZVxuICAgICAqIHNwZWNpZmllZCB0YXJnZXQuXG4gICAgICovICAgIGl0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTGUuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldChlKS5oYXModCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRNYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zbmFwc2hvdENoYW5nZXNNYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG59XG5cbmNvbnN0IEllID0gKCgpID0+IHtcbiAgICBjb25zdCBlID0ge1xuICAgICAgICBhc2M6IFwiQVNDRU5ESU5HXCIsXG4gICAgICAgIGRlc2M6IFwiREVTQ0VORElOR1wiXG4gICAgfTtcbiAgICByZXR1cm4gZTtcbn0pKCksIFRlID0gKCgpID0+IHtcbiAgICBjb25zdCBlID0ge1xuICAgICAgICBcIjxcIjogXCJMRVNTX1RIQU5cIixcbiAgICAgICAgXCI8PVwiOiBcIkxFU1NfVEhBTl9PUl9FUVVBTFwiLFxuICAgICAgICBcIj5cIjogXCJHUkVBVEVSX1RIQU5cIixcbiAgICAgICAgXCI+PVwiOiBcIkdSRUFURVJfVEhBTl9PUl9FUVVBTFwiLFxuICAgICAgICBcIj09XCI6IFwiRVFVQUxcIixcbiAgICAgICAgXCIhPVwiOiBcIk5PVF9FUVVBTFwiLFxuICAgICAgICBcImFycmF5LWNvbnRhaW5zXCI6IFwiQVJSQVlfQ09OVEFJTlNcIixcbiAgICAgICAgaW46IFwiSU5cIixcbiAgICAgICAgXCJub3QtaW5cIjogXCJOT1RfSU5cIixcbiAgICAgICAgXCJhcnJheS1jb250YWlucy1hbnlcIjogXCJBUlJBWV9DT05UQUlOU19BTllcIlxuICAgIH07XG4gICAgcmV0dXJuIGU7XG59KSgpLCBFZSA9ICgoKSA9PiB7XG4gICAgY29uc3QgZSA9IHtcbiAgICAgICAgYW5kOiBcIkFORFwiLFxuICAgICAgICBvcjogXCJPUlwiXG4gICAgfTtcbiAgICByZXR1cm4gZTtcbn0pKCk7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBnZW5lcmF0ZXMgSnNvbk9iamVjdCB2YWx1ZXMgZm9yIHRoZSBEYXRhc3RvcmUgQVBJIHN1aXRhYmxlIGZvclxuICogc2VuZGluZyB0byBlaXRoZXIgR1JQQyBzdHViIG1ldGhvZHMgb3IgdmlhIHRoZSBKU09OL0hUVFAgUkVTVCBBUEkuXG4gKlxuICogVGhlIHNlcmlhbGl6ZXIgc3VwcG9ydHMgYm90aCBQcm90b2J1Zi5qcyBhbmQgUHJvdG8zIEpTT04gZm9ybWF0cy4gQnlcbiAqIHNldHRpbmcgYHVzZVByb3RvM0pzb25gIHRvIHRydWUsIHRoZSBzZXJpYWxpemVyIHdpbGwgdXNlIHRoZSBQcm90bzMgSlNPTlxuICogZm9ybWF0LlxuICpcbiAqIEZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBQcm90bzMgSlNPTiBmb3JtYXQgY2hlY2tcbiAqIGh0dHBzOi8vZGV2ZWxvcGVycy5nb29nbGUuY29tL3Byb3RvY29sLWJ1ZmZlcnMvZG9jcy9wcm90bzMjanNvblxuICpcbiAqIFRPRE8oa2xpbXQpOiBXZSBjYW4gcmVtb3ZlIHRoZSBkYXRhYmFzZUlkIGFyZ3VtZW50IGlmIHdlIGtlZXAgdGhlIGZ1bGxcbiAqIHJlc291cmNlIG5hbWUgaW4gZG9jdW1lbnRzLlxuICovXG5jbGFzcyBKc29uUHJvdG9TZXJpYWxpemVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJZCA9IGUsIHRoaXMudXNlUHJvdG8zSnNvbiA9IHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSB2YWx1ZSBmb3IgYSBudW1iZXIgKG9yIG51bGwpIHRoYXQncyBhcHByb3ByaWF0ZSB0byBwdXQgaW50b1xuICogYSBnb29nbGUucHJvdG9idWYuSW50MzJWYWx1ZSBwcm90by5cbiAqIERPIE5PVCBVU0UgVEhJUyBGT1IgQU5ZVEhJTkcgRUxTRS5cbiAqIFRoaXMgbWV0aG9kIGNoZWF0cy4gSXQncyB0eXBlZCBhcyByZXR1cm5pbmcgXCJudW1iZXJcIiBiZWNhdXNlIHRoYXQncyB3aGF0XG4gKiBvdXIgZ2VuZXJhdGVkIHByb3RvIGludGVyZmFjZXMgc2F5IEludDMyVmFsdWUgbXVzdCBiZS4gQnV0IEdSUEMgYWN0dWFsbHlcbiAqIGV4cGVjdHMgYSB7IHZhbHVlOiA8bnVtYmVyPiB9IHN0cnVjdC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3RvSW50MzJQcm90byhlLCB0KSB7XG4gICAgcmV0dXJuIGUudXNlUHJvdG8zSnNvbiB8fCBfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQodCkgPyB0IDoge1xuICAgICAgICB2YWx1ZTogdFxuICAgIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIG51bWJlciAob3IgbnVsbCkgZnJvbSBhIGdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlIHByb3RvLlxuICovXG4vKipcbiAqIFJldHVybnMgYSB2YWx1ZSBmb3IgYSBEYXRlIHRoYXQncyBhcHByb3ByaWF0ZSB0byBwdXQgaW50byBhIHByb3RvLlxuICovXG5mdW5jdGlvbiB0b1RpbWVzdGFtcChlLCB0KSB7XG4gICAgaWYgKGUudXNlUHJvdG8zSnNvbikge1xuICAgICAgICByZXR1cm4gYCR7bmV3IERhdGUoMWUzICogdC5zZWNvbmRzKS50b0lTT1N0cmluZygpLnJlcGxhY2UoL1xcLlxcZCovLCBcIlwiKS5yZXBsYWNlKFwiWlwiLCBcIlwiKX0uJHsoXCIwMDAwMDAwMDBcIiArIHQubmFub3NlY29uZHMpLnNsaWNlKC05KX1aYDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vjb25kczogXCJcIiArIHQuc2Vjb25kcyxcbiAgICAgICAgbmFub3M6IHQubmFub3NlY29uZHNcbiAgICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB2YWx1ZSBmb3IgYnl0ZXMgdGhhdCdzIGFwcHJvcHJpYXRlIHRvIHB1dCBpbiBhIHByb3RvLlxuICpcbiAqIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0J5dGVzKGUsIHQpIHtcbiAgICByZXR1cm4gZS51c2VQcm90bzNKc29uID8gdC50b0Jhc2U2NCgpIDogdC50b1VpbnQ4QXJyYXkoKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgQnl0ZVN0cmluZyBiYXNlZCBvbiB0aGUgcHJvdG8gc3RyaW5nIHZhbHVlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV90b1ZlcnNpb24oZSwgdCkge1xuICAgIHJldHVybiB0b1RpbWVzdGFtcChlLCB0LnRvVGltZXN0YW1wKCkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVZlcnNpb24oZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfaGFyZEFzc2VydCghIWUpLCBTbmFwc2hvdFZlcnNpb24uZnJvbVRpbWVzdGFtcChmdW5jdGlvbiBmcm9tVGltZXN0YW1wKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAoZSk7XG4gICAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKHQuc2Vjb25kcywgdC5uYW5vcyk7XG4gICAgfShlKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b1Jlc291cmNlTmFtZShlLCB0KSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV90b1Jlc291cmNlUGF0aChlLCB0KS5jYW5vbmljYWxTdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvUmVzb3VyY2VQYXRoKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZnVuY3Rpb24gX19QUklWQVRFX2Z1bGx5UXVhbGlmaWVkUHJlZml4UGF0aChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQYXRoKFsgXCJwcm9qZWN0c1wiLCBlLnByb2plY3RJZCwgXCJkYXRhYmFzZXNcIiwgZS5kYXRhYmFzZSBdKTtcbiAgICB9KGUpLmNoaWxkKFwiZG9jdW1lbnRzXCIpO1xuICAgIHJldHVybiB2b2lkIDAgPT09IHQgPyBuIDogbi5jaGlsZCh0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21SZXNvdXJjZU5hbWUoZSkge1xuICAgIGNvbnN0IHQgPSBSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhlKTtcbiAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQoX19QUklWQVRFX2lzVmFsaWRSZXNvdXJjZU5hbWUodCkpLCB0O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9OYW1lKGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX3RvUmVzb3VyY2VOYW1lKGUuZGF0YWJhc2VJZCwgdC5wYXRoKTtcbn1cblxuZnVuY3Rpb24gZnJvbU5hbWUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZnJvbVJlc291cmNlTmFtZSh0KTtcbiAgICBpZiAobi5nZXQoMSkgIT09IGUuZGF0YWJhc2VJZC5wcm9qZWN0SWQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVHJpZWQgdG8gZGVzZXJpYWxpemUga2V5IGZyb20gZGlmZmVyZW50IHByb2plY3Q6IFwiICsgbi5nZXQoMSkgKyBcIiB2cyBcIiArIGUuZGF0YWJhc2VJZC5wcm9qZWN0SWQpO1xuICAgIGlmIChuLmdldCgzKSAhPT0gZS5kYXRhYmFzZUlkLmRhdGFiYXNlKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlRyaWVkIHRvIGRlc2VyaWFsaXplIGtleSBmcm9tIGRpZmZlcmVudCBkYXRhYmFzZTogXCIgKyBuLmdldCgzKSArIFwiIHZzIFwiICsgZS5kYXRhYmFzZUlkLmRhdGFiYXNlKTtcbiAgICByZXR1cm4gbmV3IERvY3VtZW50S2V5KF9fUFJJVkFURV9leHRyYWN0TG9jYWxQYXRoRnJvbVJlc291cmNlTmFtZShuKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b1F1ZXJ5UGF0aChlLCB0KSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV90b1Jlc291cmNlTmFtZShlLmRhdGFiYXNlSWQsIHQpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVF1ZXJ5UGF0aChlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9mcm9tUmVzb3VyY2VOYW1lKGUpO1xuICAgIC8vIEluIHYxYmV0YTEgcXVlcmllcyBmb3IgY29sbGVjdGlvbnMgYXQgdGhlIHJvb3QgZGlkIG5vdCBoYXZlIGEgdHJhaWxpbmdcbiAgICAvLyBcIi9kb2N1bWVudHNcIi4gSW4gdjEgYWxsIHJlc291cmNlIHBhdGhzIGNvbnRhaW4gXCIvZG9jdW1lbnRzXCIuIFByZXNlcnZlIHRoZVxuICAgIC8vIGFiaWxpdHkgdG8gcmVhZCB0aGUgdjFiZXRhMSBmb3JtIGZvciBjb21wYXRpYmlsaXR5IHdpdGggcXVlcmllcyBwZXJzaXN0ZWRcbiAgICAvLyBpbiB0aGUgbG9jYWwgdGFyZ2V0IGNhY2hlLlxuICAgICAgICByZXR1cm4gNCA9PT0gdC5sZW5ndGggPyBSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCkgOiBfX1BSSVZBVEVfZXh0cmFjdExvY2FsUGF0aEZyb21SZXNvdXJjZU5hbWUodCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRFbmNvZGVkRGF0YWJhc2VJZChlKSB7XG4gICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBhdGgoWyBcInByb2plY3RzXCIsIGUuZGF0YWJhc2VJZC5wcm9qZWN0SWQsIFwiZGF0YWJhc2VzXCIsIGUuZGF0YWJhc2VJZC5kYXRhYmFzZSBdKS5jYW5vbmljYWxTdHJpbmcoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2V4dHJhY3RMb2NhbFBhdGhGcm9tUmVzb3VyY2VOYW1lKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQoZS5sZW5ndGggPiA0ICYmIFwiZG9jdW1lbnRzXCIgPT09IGUuZ2V0KDQpKSwgZS5wb3BGaXJzdCg1KTtcbn1cblxuLyoqIENyZWF0ZXMgYSBEb2N1bWVudCBwcm90byBmcm9tIGtleSBhbmQgZmllbGRzIChidXQgbm8gY3JlYXRlL3VwZGF0ZSB0aW1lKSAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdG9NdXRhdGlvbkRvY3VtZW50KGUsIHQsIG4pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lOiBfX1BSSVZBVEVfdG9OYW1lKGUsIHQpLFxuICAgICAgICBmaWVsZHM6IG4udmFsdWUubWFwVmFsdWUuZmllbGRzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Eb2N1bWVudChlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IGZyb21OYW1lKGUsIHQubmFtZSksIGkgPSBfX1BSSVZBVEVfZnJvbVZlcnNpb24odC51cGRhdGVUaW1lKSwgcyA9IHQuY3JlYXRlVGltZSA/IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LmNyZWF0ZVRpbWUpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBvID0gbmV3IE9iamVjdFZhbHVlKHtcbiAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgIGZpZWxkczogdC5maWVsZHNcbiAgICAgICAgfVxuICAgIH0pLCBfID0gTXV0YWJsZURvY3VtZW50Lm5ld0ZvdW5kRG9jdW1lbnQociwgaSwgcywgbyk7XG4gICAgcmV0dXJuIG4gJiYgXy5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSwgbiA/IF8uc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCkgOiBfO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUJhdGNoR2V0RG9jdW1lbnRzUmVzcG9uc2UoZSwgdCkge1xuICAgIHJldHVybiBcImZvdW5kXCIgaW4gdCA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRm91bmQoZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCghIXQuZm91bmQpLCB0LmZvdW5kLm5hbWUsIHQuZm91bmQudXBkYXRlVGltZTtcbiAgICAgICAgY29uc3QgbiA9IGZyb21OYW1lKGUsIHQuZm91bmQubmFtZSksIHIgPSBfX1BSSVZBVEVfZnJvbVZlcnNpb24odC5mb3VuZC51cGRhdGVUaW1lKSwgaSA9IHQuZm91bmQuY3JlYXRlVGltZSA/IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LmZvdW5kLmNyZWF0ZVRpbWUpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBzID0gbmV3IE9iamVjdFZhbHVlKHtcbiAgICAgICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiB0LmZvdW5kLmZpZWxkc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIE11dGFibGVEb2N1bWVudC5uZXdGb3VuZERvY3VtZW50KG4sIHIsIGksIHMpO1xuICAgIH0oZSwgdCkgOiBcIm1pc3NpbmdcIiBpbiB0ID8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21NaXNzaW5nKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoISF0Lm1pc3NpbmcpLCBfX1BSSVZBVEVfaGFyZEFzc2VydCghIXQucmVhZFRpbWUpO1xuICAgICAgICBjb25zdCBuID0gZnJvbU5hbWUoZSwgdC5taXNzaW5nKSwgciA9IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LnJlYWRUaW1lKTtcbiAgICAgICAgcmV0dXJuIE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KG4sIHIpO1xuICAgIH0oZSwgdCkgOiBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tV2F0Y2hDaGFuZ2UoZSwgdCkge1xuICAgIGxldCBuO1xuICAgIGlmIChcInRhcmdldENoYW5nZVwiIGluIHQpIHtcbiAgICAgICAgdC50YXJnZXRDaGFuZ2U7XG4gICAgICAgIC8vIHByb3RvMyBkZWZhdWx0IHZhbHVlIGlzIHVuc2V0IGluIEpTT04gKHVuZGVmaW5lZCksIHNvIHVzZSAnTk9fQ0hBTkdFJ1xuICAgICAgICAvLyBpZiB1bnNldFxuICAgICAgICBjb25zdCByID0gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21XYXRjaFRhcmdldENoYW5nZVN0YXRlKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBcIk5PX0NIQU5HRVwiID09PSBlID8gMCAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLk5vQ2hhbmdlICovIDogXCJBRERcIiA9PT0gZSA/IDEgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5BZGRlZCAqLyA6IFwiUkVNT1ZFXCIgPT09IGUgPyAyIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuUmVtb3ZlZCAqLyA6IFwiQ1VSUkVOVFwiID09PSBlID8gMyAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLkN1cnJlbnQgKi8gOiBcIlJFU0VUXCIgPT09IGUgPyA0IC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuUmVzZXQgKi8gOiBmYWlsKCk7XG4gICAgICAgIH0odC50YXJnZXRDaGFuZ2UudGFyZ2V0Q2hhbmdlVHlwZSB8fCBcIk5PX0NIQU5HRVwiKSwgaSA9IHQudGFyZ2V0Q2hhbmdlLnRhcmdldElkcyB8fCBbXSwgcyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQnl0ZXMoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIGUudXNlUHJvdG8zSnNvbiA/IChfX1BSSVZBVEVfaGFyZEFzc2VydCh2b2lkIDAgPT09IHQgfHwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCksIFxuICAgICAgICAgICAgQnl0ZVN0cmluZy5mcm9tQmFzZTY0U3RyaW5nKHQgfHwgXCJcIikpIDogKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHZvaWQgMCA9PT0gdCB8fCBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSB2YWx1ZSBpcyBhbiBpbnN0YW5jZSBvZiBib3RoIEJ1ZmZlciBhbmQgVWludDhBcnJheSxcbiAgICAgICAgICAgIC8vIGRlc3BpdGUgdGhlIGZhY3QgdGhhdCBCdWZmZXIgZXh0ZW5kcyBVaW50OEFycmF5LiBJbiBzb21lXG4gICAgICAgICAgICAvLyBlbnZpcm9ubWVudHMsIHN1Y2ggYXMganNkb20sIHRoZSBwcm90b3R5cGUgY2hhaW4gb2YgQnVmZmVyXG4gICAgICAgICAgICAvLyBkb2VzIG5vdCBpbmRpY2F0ZSB0aGF0IGl0IGV4dGVuZHMgVWludDhBcnJheS5cbiAgICAgICAgICAgIHQgaW5zdGFuY2VvZiBCdWZmZXIgfHwgdCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpLCBCeXRlU3RyaW5nLmZyb21VaW50OEFycmF5KHQgfHwgbmV3IFVpbnQ4QXJyYXkpKTtcbiAgICAgICAgfShlLCB0LnRhcmdldENoYW5nZS5yZXN1bWVUb2tlbiksIG8gPSB0LnRhcmdldENoYW5nZS5jYXVzZSwgXyA9IG8gJiYgZnVuY3Rpb24gX19QUklWQVRFX2Zyb21ScGNTdGF0dXMoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHZvaWQgMCA9PT0gZS5jb2RlID8gQy5VTktOT1dOIDogX19QUklWQVRFX21hcENvZGVGcm9tUnBjQ29kZShlLmNvZGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGaXJlc3RvcmVFcnJvcih0LCBlLm1lc3NhZ2UgfHwgXCJcIik7XG4gICAgICAgIH0obyk7XG4gICAgICAgIG4gPSBuZXcgX19QUklWQVRFX1dhdGNoVGFyZ2V0Q2hhbmdlKHIsIGksIHMsIF8gfHwgbnVsbCk7XG4gICAgfSBlbHNlIGlmIChcImRvY3VtZW50Q2hhbmdlXCIgaW4gdCkge1xuICAgICAgICB0LmRvY3VtZW50Q2hhbmdlO1xuICAgICAgICBjb25zdCByID0gdC5kb2N1bWVudENoYW5nZTtcbiAgICAgICAgci5kb2N1bWVudCwgci5kb2N1bWVudC5uYW1lLCByLmRvY3VtZW50LnVwZGF0ZVRpbWU7XG4gICAgICAgIGNvbnN0IGkgPSBmcm9tTmFtZShlLCByLmRvY3VtZW50Lm5hbWUpLCBzID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKHIuZG9jdW1lbnQudXBkYXRlVGltZSksIG8gPSByLmRvY3VtZW50LmNyZWF0ZVRpbWUgPyBfX1BSSVZBVEVfZnJvbVZlcnNpb24oci5kb2N1bWVudC5jcmVhdGVUaW1lKSA6IFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXyA9IG5ldyBPYmplY3RWYWx1ZSh7XG4gICAgICAgICAgICBtYXBWYWx1ZToge1xuICAgICAgICAgICAgICAgIGZpZWxkczogci5kb2N1bWVudC5maWVsZHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIGEgPSBNdXRhYmxlRG9jdW1lbnQubmV3Rm91bmREb2N1bWVudChpLCBzLCBvLCBfKSwgdSA9IHIudGFyZ2V0SWRzIHx8IFtdLCBjID0gci5yZW1vdmVkVGFyZ2V0SWRzIHx8IFtdO1xuICAgICAgICBuID0gbmV3IF9fUFJJVkFURV9Eb2N1bWVudFdhdGNoQ2hhbmdlKHUsIGMsIGEua2V5LCBhKTtcbiAgICB9IGVsc2UgaWYgKFwiZG9jdW1lbnREZWxldGVcIiBpbiB0KSB7XG4gICAgICAgIHQuZG9jdW1lbnREZWxldGU7XG4gICAgICAgIGNvbnN0IHIgPSB0LmRvY3VtZW50RGVsZXRlO1xuICAgICAgICByLmRvY3VtZW50O1xuICAgICAgICBjb25zdCBpID0gZnJvbU5hbWUoZSwgci5kb2N1bWVudCksIHMgPSByLnJlYWRUaW1lID8gX19QUklWQVRFX2Zyb21WZXJzaW9uKHIucmVhZFRpbWUpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBvID0gTXV0YWJsZURvY3VtZW50Lm5ld05vRG9jdW1lbnQoaSwgcyksIF8gPSByLnJlbW92ZWRUYXJnZXRJZHMgfHwgW107XG4gICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0RvY3VtZW50V2F0Y2hDaGFuZ2UoW10sIF8sIG8ua2V5LCBvKTtcbiAgICB9IGVsc2UgaWYgKFwiZG9jdW1lbnRSZW1vdmVcIiBpbiB0KSB7XG4gICAgICAgIHQuZG9jdW1lbnRSZW1vdmU7XG4gICAgICAgIGNvbnN0IHIgPSB0LmRvY3VtZW50UmVtb3ZlO1xuICAgICAgICByLmRvY3VtZW50O1xuICAgICAgICBjb25zdCBpID0gZnJvbU5hbWUoZSwgci5kb2N1bWVudCksIHMgPSByLnJlbW92ZWRUYXJnZXRJZHMgfHwgW107XG4gICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0RvY3VtZW50V2F0Y2hDaGFuZ2UoW10sIHMsIGksIG51bGwpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghKFwiZmlsdGVyXCIgaW4gdCkpIHJldHVybiBmYWlsKCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIHQuZmlsdGVyO1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuZmlsdGVyO1xuICAgICAgICAgICAgZS50YXJnZXRJZDtcbiAgICAgICAgICAgIGNvbnN0IHtjb3VudDogciA9IDAsIHVuY2hhbmdlZE5hbWVzOiBpfSA9IGUsIHMgPSBuZXcgRXhpc3RlbmNlRmlsdGVyKHIsIGkpLCBvID0gZS50YXJnZXRJZDtcbiAgICAgICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0V4aXN0ZW5jZUZpbHRlckNoYW5nZShvLCBzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbjtcbn1cblxuZnVuY3Rpb24gdG9NdXRhdGlvbihlLCB0KSB7XG4gICAgbGV0IG47XG4gICAgaWYgKHQgaW5zdGFuY2VvZiBfX1BSSVZBVEVfU2V0TXV0YXRpb24pIG4gPSB7XG4gICAgICAgIHVwZGF0ZTogX19QUklWQVRFX3RvTXV0YXRpb25Eb2N1bWVudChlLCB0LmtleSwgdC52YWx1ZSlcbiAgICB9OyBlbHNlIGlmICh0IGluc3RhbmNlb2YgX19QUklWQVRFX0RlbGV0ZU11dGF0aW9uKSBuID0ge1xuICAgICAgICBkZWxldGU6IF9fUFJJVkFURV90b05hbWUoZSwgdC5rZXkpXG4gICAgfTsgZWxzZSBpZiAodCBpbnN0YW5jZW9mIF9fUFJJVkFURV9QYXRjaE11dGF0aW9uKSBuID0ge1xuICAgICAgICB1cGRhdGU6IF9fUFJJVkFURV90b011dGF0aW9uRG9jdW1lbnQoZSwgdC5rZXksIHQuZGF0YSksXG4gICAgICAgIHVwZGF0ZU1hc2s6IF9fUFJJVkFURV90b0RvY3VtZW50TWFzayh0LmZpZWxkTWFzaylcbiAgICB9OyBlbHNlIHtcbiAgICAgICAgaWYgKCEodCBpbnN0YW5jZW9mIF9fUFJJVkFURV9WZXJpZnlNdXRhdGlvbikpIHJldHVybiBmYWlsKCk7XG4gICAgICAgIG4gPSB7XG4gICAgICAgICAgICB2ZXJpZnk6IF9fUFJJVkFURV90b05hbWUoZSwgdC5rZXkpXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiB0LmZpZWxkVHJhbnNmb3Jtcy5sZW5ndGggPiAwICYmIChuLnVwZGF0ZVRyYW5zZm9ybXMgPSB0LmZpZWxkVHJhbnNmb3Jtcy5tYXAoKGUgPT4gZnVuY3Rpb24gX19QUklWQVRFX3RvRmllbGRUcmFuc2Zvcm0oZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC50cmFuc2Zvcm07XG4gICAgICAgIGlmIChuIGluc3RhbmNlb2YgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybSkgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkUGF0aDogdC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxcbiAgICAgICAgICAgIHNldFRvU2VydmVyVmFsdWU6IFwiUkVRVUVTVF9USU1FXCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbikgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkUGF0aDogdC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxcbiAgICAgICAgICAgIGFwcGVuZE1pc3NpbmdFbGVtZW50czoge1xuICAgICAgICAgICAgICAgIHZhbHVlczogbi5lbGVtZW50c1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbikgcmV0dXJuIHtcbiAgICAgICAgICAgIGZpZWxkUGF0aDogdC5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSxcbiAgICAgICAgICAgIHJlbW92ZUFsbEZyb21BcnJheToge1xuICAgICAgICAgICAgICAgIHZhbHVlczogbi5lbGVtZW50c1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uKSByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRQYXRoOiB0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLFxuICAgICAgICAgICAgaW5jcmVtZW50OiBuLlBlXG4gICAgICAgIH07XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9KDAsIGUpKSkpLCB0LnByZWNvbmRpdGlvbi5pc05vbmUgfHwgKG4uY3VycmVudERvY3VtZW50ID0gZnVuY3Rpb24gX19QUklWQVRFX3RvUHJlY29uZGl0aW9uKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdC51cGRhdGVUaW1lID8ge1xuICAgICAgICAgICAgdXBkYXRlVGltZTogX19QUklWQVRFX3RvVmVyc2lvbihlLCB0LnVwZGF0ZVRpbWUpXG4gICAgICAgIH0gOiB2b2lkIDAgIT09IHQuZXhpc3RzID8ge1xuICAgICAgICAgICAgZXhpc3RzOiB0LmV4aXN0c1xuICAgICAgICB9IDogZmFpbCgpO1xuICAgIH0oZSwgdC5wcmVjb25kaXRpb24pKSwgbjtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21NdXRhdGlvbihlLCB0KSB7XG4gICAgY29uc3QgbiA9IHQuY3VycmVudERvY3VtZW50ID8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21QcmVjb25kaXRpb24oZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBlLnVwZGF0ZVRpbWUgPyBQcmVjb25kaXRpb24udXBkYXRlVGltZShfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS51cGRhdGVUaW1lKSkgOiB2b2lkIDAgIT09IGUuZXhpc3RzID8gUHJlY29uZGl0aW9uLmV4aXN0cyhlLmV4aXN0cykgOiBQcmVjb25kaXRpb24ubm9uZSgpO1xuICAgIH0odC5jdXJyZW50RG9jdW1lbnQpIDogUHJlY29uZGl0aW9uLm5vbmUoKSwgciA9IHQudXBkYXRlVHJhbnNmb3JtcyA/IHQudXBkYXRlVHJhbnNmb3Jtcy5tYXAoKHQgPT4gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21GaWVsZFRyYW5zZm9ybShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gbnVsbDtcbiAgICAgICAgaWYgKFwic2V0VG9TZXJ2ZXJWYWx1ZVwiIGluIHQpIF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwiUkVRVUVTVF9USU1FXCIgPT09IHQuc2V0VG9TZXJ2ZXJWYWx1ZSksIFxuICAgICAgICBuID0gbmV3IF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm07IGVsc2UgaWYgKFwiYXBwZW5kTWlzc2luZ0VsZW1lbnRzXCIgaW4gdCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuYXBwZW5kTWlzc2luZ0VsZW1lbnRzLnZhbHVlcyB8fCBbXTtcbiAgICAgICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0FycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24oZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJyZW1vdmVBbGxGcm9tQXJyYXlcIiBpbiB0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5yZW1vdmVBbGxGcm9tQXJyYXkudmFsdWVzIHx8IFtdO1xuICAgICAgICAgICAgbiA9IG5ldyBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24oZSk7XG4gICAgICAgIH0gZWxzZSBcImluY3JlbWVudFwiIGluIHQgPyBuID0gbmV3IF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQuaW5jcmVtZW50KSA6IGZhaWwoKTtcbiAgICAgICAgY29uc3QgciA9IEZpZWxkUGF0aCQxLmZyb21TZXJ2ZXJGb3JtYXQodC5maWVsZFBhdGgpO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkVHJhbnNmb3JtKHIsIG4pO1xuICAgIH0oZSwgdCkpKSA6IFtdO1xuICAgIGlmICh0LnVwZGF0ZSkge1xuICAgICAgICB0LnVwZGF0ZS5uYW1lO1xuICAgICAgICBjb25zdCBpID0gZnJvbU5hbWUoZSwgdC51cGRhdGUubmFtZSksIHMgPSBuZXcgT2JqZWN0VmFsdWUoe1xuICAgICAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHQudXBkYXRlLmZpZWxkc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHQudXBkYXRlTWFzaykge1xuICAgICAgICAgICAgY29uc3QgZSA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRG9jdW1lbnRNYXNrKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZS5maWVsZFBhdGhzIHx8IFtdO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRmllbGRNYXNrKHQubWFwKChlID0+IEZpZWxkUGF0aCQxLmZyb21TZXJ2ZXJGb3JtYXQoZSkpKSk7XG4gICAgICAgICAgICB9KHQudXBkYXRlTWFzayk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9QYXRjaE11dGF0aW9uKGksIHMsIGUsIG4sIHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1NldE11dGF0aW9uKGksIHMsIG4sIHIpO1xuICAgIH1cbiAgICBpZiAodC5kZWxldGUpIHtcbiAgICAgICAgY29uc3QgciA9IGZyb21OYW1lKGUsIHQuZGVsZXRlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24ociwgbik7XG4gICAgfVxuICAgIGlmICh0LnZlcmlmeSkge1xuICAgICAgICBjb25zdCByID0gZnJvbU5hbWUoZSwgdC52ZXJpZnkpO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9WZXJpZnlNdXRhdGlvbihyLCBuKTtcbiAgICB9XG4gICAgcmV0dXJuIGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Xcml0ZVJlc3VsdHMoZSwgdCkge1xuICAgIHJldHVybiBlICYmIGUubGVuZ3RoID4gMCA/IChfX1BSSVZBVEVfaGFyZEFzc2VydCh2b2lkIDAgIT09IHQpLCBlLm1hcCgoZSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVdyaXRlUmVzdWx0KGUsIHQpIHtcbiAgICAgICAgLy8gTk9URTogRGVsZXRlcyBkb24ndCBoYXZlIGFuIHVwZGF0ZVRpbWUuXG4gICAgICAgIGxldCBuID0gZS51cGRhdGVUaW1lID8gX19QUklWQVRFX2Zyb21WZXJzaW9uKGUudXBkYXRlVGltZSkgOiBfX1BSSVZBVEVfZnJvbVZlcnNpb24odCk7XG4gICAgICAgIHJldHVybiBuLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSAmJiAoXG4gICAgICAgIC8vIFRoZSBGaXJlc3RvcmUgRW11bGF0b3IgY3VycmVudGx5IHJldHVybnMgYW4gdXBkYXRlIHRpbWUgb2YgMCBmb3JcbiAgICAgICAgLy8gZGVsZXRlcyBvZiBub24tZXhpc3RpbmcgZG9jdW1lbnRzIChyYXRoZXIgdGhhbiBudWxsKS4gVGhpcyBicmVha3MgdGhlXG4gICAgICAgIC8vIHRlc3QgXCJnZXQgZGVsZXRlZCBkb2Mgd2hpbGUgb2ZmbGluZSB3aXRoIHNvdXJjZT1jYWNoZVwiIGFzIE5vRG9jdW1lbnRzXG4gICAgICAgIC8vIHdpdGggdmVyc2lvbiAwIGFyZSBmaWx0ZXJlZCBieSBJbmRleGVkRGIncyBSZW1vdGVEb2N1bWVudENhY2hlLlxuICAgICAgICAvLyBUT0RPKCMyMTQ5KTogUmVtb3ZlIHRoaXMgd2hlbiBFbXVsYXRvciBpcyBmaXhlZFxuICAgICAgICBuID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKHQpKSwgbmV3IE11dGF0aW9uUmVzdWx0KG4sIGUudHJhbnNmb3JtUmVzdWx0cyB8fCBbXSk7XG4gICAgfShlLCB0KSkpKSA6IFtdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9Eb2N1bWVudHNUYXJnZXQoZSwgdCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGRvY3VtZW50czogWyBfX1BSSVZBVEVfdG9RdWVyeVBhdGgoZSwgdC5wYXRoKSBdXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvUXVlcnlUYXJnZXQoZSwgdCkge1xuICAgIC8vIERpc3NlY3QgdGhlIHBhdGggaW50byBwYXJlbnQsIGNvbGxlY3Rpb25JZCwgYW5kIG9wdGlvbmFsIGtleSBmaWx0ZXIuXG4gICAgY29uc3QgbiA9IHtcbiAgICAgICAgc3RydWN0dXJlZFF1ZXJ5OiB7fVxuICAgIH0sIHIgPSB0LnBhdGg7XG4gICAgbGV0IGk7XG4gICAgbnVsbCAhPT0gdC5jb2xsZWN0aW9uR3JvdXAgPyAoaSA9IHIsIG4uc3RydWN0dXJlZFF1ZXJ5LmZyb20gPSBbIHtcbiAgICAgICAgY29sbGVjdGlvbklkOiB0LmNvbGxlY3Rpb25Hcm91cCxcbiAgICAgICAgYWxsRGVzY2VuZGFudHM6ICEwXG4gICAgfSBdKSA6IChpID0gci5wb3BMYXN0KCksIG4uc3RydWN0dXJlZFF1ZXJ5LmZyb20gPSBbIHtcbiAgICAgICAgY29sbGVjdGlvbklkOiByLmxhc3RTZWdtZW50KClcbiAgICB9IF0pLCBuLnBhcmVudCA9IF9fUFJJVkFURV90b1F1ZXJ5UGF0aChlLCBpKTtcbiAgICBjb25zdCBzID0gZnVuY3Rpb24gX19QUklWQVRFX3RvRmlsdGVycyhlKSB7XG4gICAgICAgIGlmICgwID09PSBlLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RvRmlsdGVyKENvbXBvc2l0ZUZpbHRlci5jcmVhdGUoZSwgXCJhbmRcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5BTkQgKi8pKTtcbiAgICB9KHQuZmlsdGVycyk7XG4gICAgcyAmJiAobi5zdHJ1Y3R1cmVkUXVlcnkud2hlcmUgPSBzKTtcbiAgICBjb25zdCBvID0gZnVuY3Rpb24gX19QUklWQVRFX3RvT3JkZXIoZSkge1xuICAgICAgICBpZiAoMCA9PT0gZS5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgcmV0dXJuIGUubWFwKChlID0+IFxuICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV90b1Byb3BlcnR5T3JkZXIoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogX19QUklWQVRFX3RvRGlyZWN0aW9uKGUuZGlyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfShlKSkpO1xuICAgIH0odC5vcmRlckJ5KTtcbiAgICBvICYmIChuLnN0cnVjdHVyZWRRdWVyeS5vcmRlckJ5ID0gbyk7XG4gICAgY29uc3QgXyA9IF9fUFJJVkFURV90b0ludDMyUHJvdG8oZSwgdC5saW1pdCk7XG4gICAgcmV0dXJuIG51bGwgIT09IF8gJiYgKG4uc3RydWN0dXJlZFF1ZXJ5LmxpbWl0ID0gXyksIHQuc3RhcnRBdCAmJiAobi5zdHJ1Y3R1cmVkUXVlcnkuc3RhcnRBdCA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b1N0YXJ0QXRDdXJzb3IoZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmVmb3JlOiBlLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIHZhbHVlczogZS5wb3NpdGlvblxuICAgICAgICB9O1xuICAgIH0odC5zdGFydEF0KSksIHQuZW5kQXQgJiYgKG4uc3RydWN0dXJlZFF1ZXJ5LmVuZEF0ID0gZnVuY3Rpb24gX19QUklWQVRFX3RvRW5kQXRDdXJzb3IoZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYmVmb3JlOiAhZS5pbmNsdXNpdmUsXG4gICAgICAgICAgICB2YWx1ZXM6IGUucG9zaXRpb25cbiAgICAgICAgfTtcbiAgICB9KHQuZW5kQXQpKSwge1xuICAgICAgICBfdDogbixcbiAgICAgICAgcGFyZW50OiBpXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IHtfdDogaSwgcGFyZW50OiBzfSA9IF9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0KGUsIHQpLCBvID0ge30sIF8gPSBbXTtcbiAgICBsZXQgYSA9IDA7XG4gICAgcmV0dXJuIG4uZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgIC8vIE1hcCBhbGwgY2xpZW50LXNpZGUgYWxpYXNlcyB0byBhIHVuaXF1ZSBzaG9ydC1mb3JtXG4gICAgICAgIC8vIGFsaWFzLiBUaGlzIGF2b2lkcyBpc3N1ZXMgd2l0aCBjbGllbnQtc2lkZSBhbGlhc2VzIHRoYXRcbiAgICAgICAgLy8gZXhjZWVkIHRoZSAxNTAwLWJ5dGUgc3RyaW5nIHNpemUgbGltaXQuXG4gICAgICAgIGNvbnN0IHQgPSByID8gZS5hbGlhcyA6IFwiYWdncmVnYXRlX1wiICsgYSsrO1xuICAgICAgICBvW3RdID0gZS5hbGlhcywgXCJjb3VudFwiID09PSBlLmFnZ3JlZ2F0ZVR5cGUgPyBfLnB1c2goe1xuICAgICAgICAgICAgYWxpYXM6IHQsXG4gICAgICAgICAgICBjb3VudDoge31cbiAgICAgICAgfSkgOiBcImF2Z1wiID09PSBlLmFnZ3JlZ2F0ZVR5cGUgPyBfLnB1c2goe1xuICAgICAgICAgICAgYWxpYXM6IHQsXG4gICAgICAgICAgICBhdmc6IHtcbiAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGRQYXRoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KSA6IFwic3VtXCIgPT09IGUuYWdncmVnYXRlVHlwZSAmJiBfLnB1c2goe1xuICAgICAgICAgICAgYWxpYXM6IHQsXG4gICAgICAgICAgICBzdW06IHtcbiAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGRQYXRoKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KSksIHtcbiAgICAgICAgcmVxdWVzdDoge1xuICAgICAgICAgICAgc3RydWN0dXJlZEFnZ3JlZ2F0aW9uUXVlcnk6IHtcbiAgICAgICAgICAgICAgICBhZ2dyZWdhdGlvbnM6IF8sXG4gICAgICAgICAgICAgICAgc3RydWN0dXJlZFF1ZXJ5OiBpLnN0cnVjdHVyZWRRdWVyeVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhcmVudDogaS5wYXJlbnRcbiAgICAgICAgfSxcbiAgICAgICAgdXQ6IG8sXG4gICAgICAgIHBhcmVudDogc1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb252ZXJ0UXVlcnlUYXJnZXRUb1F1ZXJ5KGUpIHtcbiAgICBsZXQgdCA9IF9fUFJJVkFURV9mcm9tUXVlcnlQYXRoKGUucGFyZW50KTtcbiAgICBjb25zdCBuID0gZS5zdHJ1Y3R1cmVkUXVlcnksIHIgPSBuLmZyb20gPyBuLmZyb20ubGVuZ3RoIDogMDtcbiAgICBsZXQgaSA9IG51bGw7XG4gICAgaWYgKHIgPiAwKSB7XG4gICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDEgPT09IHIpO1xuICAgICAgICBjb25zdCBlID0gbi5mcm9tWzBdO1xuICAgICAgICBlLmFsbERlc2NlbmRhbnRzID8gaSA9IGUuY29sbGVjdGlvbklkIDogdCA9IHQuY2hpbGQoZS5jb2xsZWN0aW9uSWQpO1xuICAgIH1cbiAgICBsZXQgcyA9IFtdO1xuICAgIG4ud2hlcmUgJiYgKHMgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUZpbHRlcnMoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2Zyb21GaWx0ZXIoZSk7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXRDb25qdW5jdGlvbih0KSkgcmV0dXJuIHQuZ2V0RmlsdGVycygpO1xuICAgICAgICByZXR1cm4gWyB0IF07XG4gICAgfShuLndoZXJlKSk7XG4gICAgbGV0IG8gPSBbXTtcbiAgICBuLm9yZGVyQnkgJiYgKG8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbU9yZGVyKGUpIHtcbiAgICAgICAgcmV0dXJuIGUubWFwKChlID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tUHJvcGVydHlPcmRlcihlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9yZGVyQnkoX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksIFxuICAgICAgICAgICAgLy8gdmlzaWJsZSBmb3IgdGVzdGluZ1xuICAgICAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EaXJlY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSBcIkFTQ0VORElOR1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJhc2NcIiAvKiBEaXJlY3Rpb24uQVNDRU5ESU5HICovO1xuXG4gICAgICAgICAgICAgICAgICBjYXNlIFwiREVTQ0VORElOR1wiOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJkZXNjXCIgLyogRGlyZWN0aW9uLkRFU0NFTkRJTkcgKi87XG5cbiAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgICAgICAoZS5kaXJlY3Rpb24pKTtcbiAgICAgICAgfVxuICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgIChlKSkpO1xuICAgIH0obi5vcmRlckJ5KSk7XG4gICAgbGV0IF8gPSBudWxsO1xuICAgIG4ubGltaXQgJiYgKF8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUludDMyUHJvdG8oZSkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgcmV0dXJuIHQgPSBcIm9iamVjdFwiID09IHR5cGVvZiBlID8gZS52YWx1ZSA6IGUsIF9fUFJJVkFURV9pc051bGxPclVuZGVmaW5lZCh0KSA/IG51bGwgOiB0O1xuICAgIH0obi5saW1pdCkpO1xuICAgIGxldCBhID0gbnVsbDtcbiAgICBuLnN0YXJ0QXQgJiYgKGEgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVN0YXJ0QXRDdXJzb3IoZSkge1xuICAgICAgICBjb25zdCB0ID0gISFlLmJlZm9yZSwgbiA9IGUudmFsdWVzIHx8IFtdO1xuICAgICAgICByZXR1cm4gbmV3IEJvdW5kKG4sIHQpO1xuICAgIH0obi5zdGFydEF0KSk7XG4gICAgbGV0IHUgPSBudWxsO1xuICAgIHJldHVybiBuLmVuZEF0ICYmICh1ID0gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21FbmRBdEN1cnNvcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSAhZS5iZWZvcmUsIG4gPSBlLnZhbHVlcyB8fCBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZChuLCB0KTtcbiAgICB9XG4gICAgLy8gdmlzaWJsZSBmb3IgdGVzdGluZ1xuICAgIChuLmVuZEF0KSksIF9fUFJJVkFURV9uZXdRdWVyeSh0LCBpLCBvLCBzLCBfLCBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gLCBhLCB1KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvTGlzdGVuUmVxdWVzdExhYmVscyhlLCB0KSB7XG4gICAgY29uc3QgbiA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b0xhYmVsKGUpIHtcbiAgICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgICAgY2FzZSBcIlRhcmdldFB1cnBvc2VMaXN0ZW5cIiAvKiBUYXJnZXRQdXJwb3NlLkxpc3RlbiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAgIGNhc2UgXCJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hcIiAvKiBUYXJnZXRQdXJwb3NlLkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoICovIDpcbiAgICAgICAgICAgIHJldHVybiBcImV4aXN0ZW5jZS1maWx0ZXItbWlzbWF0Y2hcIjtcblxuICAgICAgICAgIGNhc2UgXCJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbVwiIC8qIFRhcmdldFB1cnBvc2UuRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hCbG9vbSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gXCJleGlzdGVuY2UtZmlsdGVyLW1pc21hdGNoLWJsb29tXCI7XG5cbiAgICAgICAgICBjYXNlIFwiVGFyZ2V0UHVycG9zZUxpbWJvUmVzb2x1dGlvblwiIC8qIFRhcmdldFB1cnBvc2UuTGltYm9SZXNvbHV0aW9uICovIDpcbiAgICAgICAgICAgIHJldHVybiBcImxpbWJvLWRvY3VtZW50XCI7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgfVxuICAgIH0odC5wdXJwb3NlKTtcbiAgICByZXR1cm4gbnVsbCA9PSBuID8gbnVsbCA6IHtcbiAgICAgICAgXCJnb29nLWxpc3Rlbi10YWdzXCI6IG5cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUZpbHRlcihlKSB7XG4gICAgcmV0dXJuIHZvaWQgMCAhPT0gZS51bmFyeUZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tVW5hcnlGaWx0ZXIoZSkge1xuICAgICAgICBzd2l0Y2ggKGUudW5hcnlGaWx0ZXIub3ApIHtcbiAgICAgICAgICBjYXNlIFwiSVNfTkFOXCI6XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS51bmFyeUZpbHRlci5maWVsZCk7XG4gICAgICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKHQsIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgICAgICBkb3VibGVWYWx1ZTogTmFOXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgXCJJU19OVUxMXCI6XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS51bmFyeUZpbHRlci5maWVsZCk7XG4gICAgICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKG4sIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgXCJJU19OT1RfTkFOXCI6XG4gICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS51bmFyeUZpbHRlci5maWVsZCk7XG4gICAgICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKHIsIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gLCB7XG4gICAgICAgICAgICAgICAgZG91YmxlVmFsdWU6IE5hTlxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICBjYXNlIFwiSVNfTk9UX05VTExcIjpcbiAgICAgICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlLnVuYXJ5RmlsdGVyLmZpZWxkKTtcbiAgICAgICAgICAgIHJldHVybiBGaWVsZEZpbHRlci5jcmVhdGUoaSwgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgICAgICB9XG4gICAgfShlKSA6IHZvaWQgMCAhPT0gZS5maWVsZEZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRmllbGRGaWx0ZXIoZSkge1xuICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKF9fUFJJVkFURV9mcm9tRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGRGaWx0ZXIuZmllbGQpLCBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbU9wZXJhdG9yTmFtZShlKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcIkVRVUFMXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiTk9UX0VRVUFMXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkdSRUFURVJfVEhBTlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIj5cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU4gKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkdSRUFURVJfVEhBTl9PUl9FUVVBTFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJMRVNTX1RIQU5cIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8XCIgLyogT3BlcmF0b3IuTEVTU19USEFOICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJMRVNTX1RIQU5fT1JfRVFVQUxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI8PVwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTl9PUl9FUVVBTCAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiQVJSQVlfQ09OVEFJTlNcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheS1jb250YWluc1wiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJJTlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcImluXCIgLyogT3BlcmF0b3IuSU4gKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIk5PVF9JTlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiQVJSQVlfQ09OVEFJTlNfQU5ZXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfShlLmZpZWxkRmlsdGVyLm9wKSwgZS5maWVsZEZpbHRlci52YWx1ZSk7XG4gICAgfShlKSA6IHZvaWQgMCAhPT0gZS5jb21wb3NpdGVGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUNvbXBvc2l0ZUZpbHRlcihlKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKGUuY29tcG9zaXRlRmlsdGVyLmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9mcm9tRmlsdGVyKGUpKSksIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQ29tcG9zaXRlT3BlcmF0b3JOYW1lKGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiQU5EXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYW5kXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuQU5EICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJPUlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi87XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KGUuY29tcG9zaXRlRmlsdGVyLm9wKSk7XG4gICAgfShlKSA6IGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvRGlyZWN0aW9uKGUpIHtcbiAgICByZXR1cm4gSWVbZV07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b09wZXJhdG9yTmFtZShlKSB7XG4gICAgcmV0dXJuIFRlW2VdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9Db21wb3NpdGVPcGVyYXRvck5hbWUoZSkge1xuICAgIHJldHVybiBFZVtlXTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBmaWVsZFBhdGg6IGUuY2Fub25pY2FsU3RyaW5nKClcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlKSB7XG4gICAgcmV0dXJuIEZpZWxkUGF0aCQxLmZyb21TZXJ2ZXJGb3JtYXQoZS5maWVsZFBhdGgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9GaWx0ZXIoZSkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfdG9VbmFyeU9yRmllbGRGaWx0ZXIoZSkge1xuICAgICAgICBpZiAoXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovID09PSBlLm9wKSB7XG4gICAgICAgICAgICBpZiAoX19QUklWQVRFX2lzTmFuVmFsdWUoZS52YWx1ZSkpIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdW5hcnlGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IF9fUFJJVkFURV90b0ZpZWxkUGF0aFJlZmVyZW5jZShlLmZpZWxkKSxcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiSVNfTkFOXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc051bGxWYWx1ZShlLnZhbHVlKSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bmFyeUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OVUxMXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2UgaWYgKFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gPT09IGUub3ApIHtcbiAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfaXNOYW5WYWx1ZShlLnZhbHVlKSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bmFyeUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OT1RfTkFOXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc051bGxWYWx1ZShlLnZhbHVlKSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bmFyeUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OT1RfTlVMTFwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgIG9wOiBfX1BSSVZBVEVfdG9PcGVyYXRvck5hbWUoZS5vcCksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGUudmFsdWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KGUpIDogZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV90b0NvbXBvc2l0ZUZpbHRlcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmdldEZpbHRlcnMoKS5tYXAoKGUgPT4gX19QUklWQVRFX3RvRmlsdGVyKGUpKSk7XG4gICAgICAgIGlmICgxID09PSB0Lmxlbmd0aCkgcmV0dXJuIHRbMF07XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb21wb3NpdGVGaWx0ZXI6IHtcbiAgICAgICAgICAgICAgICBvcDogX19QUklWQVRFX3RvQ29tcG9zaXRlT3BlcmF0b3JOYW1lKGUub3ApLFxuICAgICAgICAgICAgICAgIGZpbHRlcnM6IHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9KGUpIDogZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9Eb2N1bWVudE1hc2soZSkge1xuICAgIGNvbnN0IHQgPSBbXTtcbiAgICByZXR1cm4gZS5maWVsZHMuZm9yRWFjaCgoZSA9PiB0LnB1c2goZS5jYW5vbmljYWxTdHJpbmcoKSkpKSwge1xuICAgICAgICBmaWVsZFBhdGhzOiB0XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2lzVmFsaWRSZXNvdXJjZU5hbWUoZSkge1xuICAgIC8vIFJlc291cmNlIG5hbWVzIGhhdmUgYXQgbGVhc3QgNCBjb21wb25lbnRzIChwcm9qZWN0IElELCBkYXRhYmFzZSBJRClcbiAgICByZXR1cm4gZS5sZW5ndGggPj0gNCAmJiBcInByb2plY3RzXCIgPT09IGUuZ2V0KDApICYmIFwiZGF0YWJhc2VzXCIgPT09IGUuZ2V0KDIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbW11dGFibGUgc2V0IG9mIG1ldGFkYXRhIHRoYXQgdGhlIGxvY2FsIHN0b3JlIHRyYWNrcyBmb3IgZWFjaCB0YXJnZXQuXG4gKi8gY2xhc3MgVGFyZ2V0RGF0YSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSB0YXJnZXQgYmVpbmcgbGlzdGVuZWQgdG8uICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBJRCB0byB3aGljaCB0aGUgdGFyZ2V0IGNvcnJlc3BvbmRzOyBBc3NpZ25lZCBieSB0aGVcbiAgICAgKiBMb2NhbFN0b3JlIGZvciB1c2VyIGxpc3RlbnMgYW5kIGJ5IHRoZSBTeW5jRW5naW5lIGZvciBsaW1ibyB3YXRjaGVzLlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKiBUaGUgcHVycG9zZSBvZiB0aGUgdGFyZ2V0LiAqL1xuICAgIG4sIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXF1ZW5jZSBudW1iZXIgb2YgdGhlIGxhc3QgdHJhbnNhY3Rpb24gZHVyaW5nIHdoaWNoIHRoaXMgdGFyZ2V0IGRhdGFcbiAgICAgKiB3YXMgbW9kaWZpZWQuXG4gICAgICovXG4gICAgciwgXG4gICAgLyoqIFRoZSBsYXRlc3Qgc25hcHNob3QgdmVyc2lvbiBzZWVuIGZvciB0aGlzIHRhcmdldC4gKi9cbiAgICBpID0gU25hcHNob3RWZXJzaW9uLm1pbigpXG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gc25hcHNob3QgdmVyc2lvbiBhdCB3aGljaCB0aGUgYXNzb2NpYXRlZCB2aWV3XG4gICAgICogY29udGFpbmVkIG5vIGxpbWJvIGRvY3VtZW50cy5cbiAgICAgKi8gLCBzID0gU25hcHNob3RWZXJzaW9uLm1pbigpXG4gICAgLyoqXG4gICAgICogQW4gb3BhcXVlLCBzZXJ2ZXItYXNzaWduZWQgdG9rZW4gdGhhdCBhbGxvd3Mgd2F0Y2hpbmcgYSB0YXJnZXQgdG8gYmVcbiAgICAgKiByZXN1bWVkIGFmdGVyIGRpc2Nvbm5lY3Rpbmcgd2l0aG91dCByZXRyYW5zbWl0dGluZyBhbGwgdGhlIGRhdGEgdGhhdFxuICAgICAqIG1hdGNoZXMgdGhlIHRhcmdldC4gVGhlIHJlc3VtZSB0b2tlbiBlc3NlbnRpYWxseSBpZGVudGlmaWVzIGEgcG9pbnQgaW5cbiAgICAgKiB0aW1lIGZyb20gd2hpY2ggdGhlIHNlcnZlciBzaG91bGQgcmVzdW1lIHNlbmRpbmcgcmVzdWx0cy5cbiAgICAgKi8gLCBvID0gQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklOR1xuICAgIC8qKlxuICAgICAqIFRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgbGFzdCBtYXRjaGVkIHRoZSBxdWVyeSBhdCB0aGUgcmVzdW1lIHRva2VuIG9yXG4gICAgICogcmVhZCB0aW1lLiBEb2N1bWVudHMgYXJlIGNvdW50ZWQgb25seSB3aGVuIG1ha2luZyBhIGxpc3RlbiByZXF1ZXN0IHdpdGhcbiAgICAgKiByZXN1bWUgdG9rZW4gb3IgcmVhZCB0aW1lLCBvdGhlcndpc2UsIGtlZXAgaXQgbnVsbC5cbiAgICAgKi8gLCBfID0gbnVsbCkge1xuICAgICAgICB0aGlzLnRhcmdldCA9IGUsIHRoaXMudGFyZ2V0SWQgPSB0LCB0aGlzLnB1cnBvc2UgPSBuLCB0aGlzLnNlcXVlbmNlTnVtYmVyID0gciwgdGhpcy5zbmFwc2hvdFZlcnNpb24gPSBpLCBcbiAgICAgICAgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uID0gcywgdGhpcy5yZXN1bWVUb2tlbiA9IG8sIHRoaXMuZXhwZWN0ZWRDb3VudCA9IF87XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IHRhcmdldCBkYXRhIGluc3RhbmNlIHdpdGggYW4gdXBkYXRlZCBzZXF1ZW5jZSBudW1iZXIuICovICAgIHdpdGhTZXF1ZW5jZU51bWJlcihlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0RGF0YSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRJZCwgdGhpcy5wdXJwb3NlLCBlLCB0aGlzLnNuYXBzaG90VmVyc2lvbiwgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLCB0aGlzLnJlc3VtZVRva2VuLCB0aGlzLmV4cGVjdGVkQ291bnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRhcmdldCBkYXRhIGluc3RhbmNlIHdpdGggYW4gdXBkYXRlZCByZXN1bWUgdG9rZW4gYW5kXG4gICAgICogc25hcHNob3QgdmVyc2lvbi5cbiAgICAgKi8gICAgd2l0aFJlc3VtZVRva2VuKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYXJnZXREYXRhKHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldElkLCB0aGlzLnB1cnBvc2UsIHRoaXMuc2VxdWVuY2VOdW1iZXIsIHQsIHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbiwgZSwgXG4gICAgICAgIC8qIGV4cGVjdGVkQ291bnQ9ICovIG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRhcmdldCBkYXRhIGluc3RhbmNlIHdpdGggYW4gdXBkYXRlZCBleHBlY3RlZCBjb3VudC5cbiAgICAgKi8gICAgd2l0aEV4cGVjdGVkQ291bnQoZSkge1xuICAgICAgICByZXR1cm4gbmV3IFRhcmdldERhdGEodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0SWQsIHRoaXMucHVycG9zZSwgdGhpcy5zZXF1ZW5jZU51bWJlciwgdGhpcy5zbmFwc2hvdFZlcnNpb24sIHRoaXMubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbiwgdGhpcy5yZXN1bWVUb2tlbiwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IGRhdGEgaW5zdGFuY2Ugd2l0aCBhbiB1cGRhdGVkIGxhc3QgbGltYm8gZnJlZVxuICAgICAqIHNuYXBzaG90IHZlcnNpb24gbnVtYmVyLlxuICAgICAqLyAgICB3aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbihlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0RGF0YSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRJZCwgdGhpcy5wdXJwb3NlLCB0aGlzLnNlcXVlbmNlTnVtYmVyLCB0aGlzLnNuYXBzaG90VmVyc2lvbiwgZSwgdGhpcy5yZXN1bWVUb2tlbiwgdGhpcy5leHBlY3RlZENvdW50KTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogU2VyaWFsaXplciBmb3IgdmFsdWVzIHN0b3JlZCBpbiB0aGUgTG9jYWxTdG9yZS4gKi8gY2xhc3MgX19QUklWQVRFX0xvY2FsU2VyaWFsaXplciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLmN0ID0gZTtcbiAgICB9XG59XG5cbi8qKiBEZWNvZGVzIGEgcmVtb3RlIGRvY3VtZW50IGZyb20gc3RvcmFnZSBsb2NhbGx5IHRvIGEgRG9jdW1lbnQuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRGJSZW1vdGVEb2N1bWVudChlLCB0KSB7XG4gICAgbGV0IG47XG4gICAgaWYgKHQuZG9jdW1lbnQpIG4gPSBfX1BSSVZBVEVfZnJvbURvY3VtZW50KGUuY3QsIHQuZG9jdW1lbnQsICEhdC5oYXNDb21taXR0ZWRNdXRhdGlvbnMpOyBlbHNlIGlmICh0Lm5vRG9jdW1lbnQpIHtcbiAgICAgICAgY29uc3QgZSA9IERvY3VtZW50S2V5LmZyb21TZWdtZW50cyh0Lm5vRG9jdW1lbnQucGF0aCksIHIgPSBfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wKHQubm9Eb2N1bWVudC5yZWFkVGltZSk7XG4gICAgICAgIG4gPSBNdXRhYmxlRG9jdW1lbnQubmV3Tm9Eb2N1bWVudChlLCByKSwgdC5oYXNDb21taXR0ZWRNdXRhdGlvbnMgJiYgbi5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoIXQudW5rbm93bkRvY3VtZW50KSByZXR1cm4gZmFpbCgpO1xuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlID0gRG9jdW1lbnRLZXkuZnJvbVNlZ21lbnRzKHQudW5rbm93bkRvY3VtZW50LnBhdGgpLCByID0gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcCh0LnVua25vd25Eb2N1bWVudC52ZXJzaW9uKTtcbiAgICAgICAgICAgIG4gPSBNdXRhYmxlRG9jdW1lbnQubmV3VW5rbm93bkRvY3VtZW50KGUsIHIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0LnJlYWRUaW1lICYmIG4uc2V0UmVhZFRpbWUoZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcEtleShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgVGltZXN0YW1wKGVbMF0sIGVbMV0pO1xuICAgICAgICByZXR1cm4gU25hcHNob3RWZXJzaW9uLmZyb21UaW1lc3RhbXAodCk7XG4gICAgfSh0LnJlYWRUaW1lKSksIG47XG59XG5cbi8qKiBFbmNvZGVzIGEgZG9jdW1lbnQgZm9yIHN0b3JhZ2UgbG9jYWxseS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RvRGJSZW1vdGVEb2N1bWVudChlLCB0KSB7XG4gICAgY29uc3QgbiA9IHQua2V5LCByID0ge1xuICAgICAgICBwcmVmaXhQYXRoOiBuLmdldENvbGxlY3Rpb25QYXRoKCkucG9wTGFzdCgpLnRvQXJyYXkoKSxcbiAgICAgICAgY29sbGVjdGlvbkdyb3VwOiBuLmNvbGxlY3Rpb25Hcm91cCxcbiAgICAgICAgZG9jdW1lbnRJZDogbi5wYXRoLmxhc3RTZWdtZW50KCksXG4gICAgICAgIHJlYWRUaW1lOiBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcEtleSh0LnJlYWRUaW1lKSxcbiAgICAgICAgaGFzQ29tbWl0dGVkTXV0YXRpb25zOiB0Lmhhc0NvbW1pdHRlZE11dGF0aW9uc1xuICAgIH07XG4gICAgaWYgKHQuaXNGb3VuZERvY3VtZW50KCkpIHIuZG9jdW1lbnQgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdG9Eb2N1bWVudChlLCB0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBfX1BSSVZBVEVfdG9OYW1lKGUsIHQua2V5KSxcbiAgICAgICAgICAgIGZpZWxkczogdC5kYXRhLnZhbHVlLm1hcFZhbHVlLmZpZWxkcyxcbiAgICAgICAgICAgIHVwZGF0ZVRpbWU6IHRvVGltZXN0YW1wKGUsIHQudmVyc2lvbi50b1RpbWVzdGFtcCgpKSxcbiAgICAgICAgICAgIGNyZWF0ZVRpbWU6IHRvVGltZXN0YW1wKGUsIHQuY3JlYXRlVGltZS50b1RpbWVzdGFtcCgpKVxuICAgICAgICB9O1xuICAgIH0oZS5jdCwgdCk7IGVsc2UgaWYgKHQuaXNOb0RvY3VtZW50KCkpIHIubm9Eb2N1bWVudCA9IHtcbiAgICAgICAgcGF0aDogbi5wYXRoLnRvQXJyYXkoKSxcbiAgICAgICAgcmVhZFRpbWU6IF9fUFJJVkFURV90b0RiVGltZXN0YW1wKHQudmVyc2lvbilcbiAgICB9OyBlbHNlIHtcbiAgICAgICAgaWYgKCF0LmlzVW5rbm93bkRvY3VtZW50KCkpIHJldHVybiBmYWlsKCk7XG4gICAgICAgIHIudW5rbm93bkRvY3VtZW50ID0ge1xuICAgICAgICAgICAgcGF0aDogbi5wYXRoLnRvQXJyYXkoKSxcbiAgICAgICAgICAgIHZlcnNpb246IF9fUFJJVkFURV90b0RiVGltZXN0YW1wKHQudmVyc2lvbilcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHI7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0RiVGltZXN0YW1wS2V5KGUpIHtcbiAgICBjb25zdCB0ID0gZS50b1RpbWVzdGFtcCgpO1xuICAgIHJldHVybiBbIHQuc2Vjb25kcywgdC5uYW5vc2Vjb25kcyBdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcChlKSB7XG4gICAgY29uc3QgdCA9IGUudG9UaW1lc3RhbXAoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiB0LnNlY29uZHMsXG4gICAgICAgIG5hbm9zZWNvbmRzOiB0Lm5hbm9zZWNvbmRzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlKSB7XG4gICAgY29uc3QgdCA9IG5ldyBUaW1lc3RhbXAoZS5zZWNvbmRzLCBlLm5hbm9zZWNvbmRzKTtcbiAgICByZXR1cm4gU25hcHNob3RWZXJzaW9uLmZyb21UaW1lc3RhbXAodCk7XG59XG5cbi8qKiBFbmNvZGVzIGEgYmF0Y2ggb2YgbXV0YXRpb25zIGludG8gYSBEYk11dGF0aW9uQmF0Y2ggZm9yIGxvY2FsIHN0b3JhZ2UuICovXG4vKiogRGVjb2RlcyBhIERiTXV0YXRpb25CYXRjaCBpbnRvIGEgTXV0YXRpb25CYXRjaCAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYk11dGF0aW9uQmF0Y2goZSwgdCkge1xuICAgIGNvbnN0IG4gPSAodC5iYXNlTXV0YXRpb25zIHx8IFtdKS5tYXAoKHQgPT4gX19QUklWQVRFX2Zyb21NdXRhdGlvbihlLmN0LCB0KSkpO1xuICAgIC8vIFNxdWFzaCBvbGQgdHJhbnNmb3JtIG11dGF0aW9ucyBpbnRvIGV4aXN0aW5nIHBhdGNoIG9yIHNldCBtdXRhdGlvbnMuXG4gICAgLy8gVGhlIHJlcGxhY2VtZW50IG9mIHJlcHJlc2VudGluZyBgdHJhbnNmb3Jtc2Agd2l0aCBgdXBkYXRlX3RyYW5zZm9ybXNgXG4gICAgLy8gb24gdGhlIFNESyBtZWFucyB0aGF0IG9sZCBgdHJhbnNmb3JtYCBtdXRhdGlvbnMgc3RvcmVkIGluIEluZGV4ZWREQiBuZWVkXG4gICAgLy8gdG8gYmUgdXBkYXRlZCB0byBgdXBkYXRlX3RyYW5zZm9ybXNgLlxuICAgIC8vIFRPRE8oYi8xNzQ2MDgzNzQpOiBSZW1vdmUgdGhpcyBjb2RlIG9uY2Ugd2UgcGVyZm9ybSBhIHNjaGVtYSBtaWdyYXRpb24uXG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdC5tdXRhdGlvbnMubGVuZ3RoIC0gMTsgKytlKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0Lm11dGF0aW9uc1tlXTtcbiAgICAgICAgaWYgKGUgKyAxIDwgdC5tdXRhdGlvbnMubGVuZ3RoICYmIHZvaWQgMCAhPT0gdC5tdXRhdGlvbnNbZSArIDFdLnRyYW5zZm9ybSkge1xuICAgICAgICAgICAgY29uc3QgciA9IHQubXV0YXRpb25zW2UgKyAxXTtcbiAgICAgICAgICAgIG4udXBkYXRlVHJhbnNmb3JtcyA9IHIudHJhbnNmb3JtLmZpZWxkVHJhbnNmb3JtcywgdC5tdXRhdGlvbnMuc3BsaWNlKGUgKyAxLCAxKSwgXG4gICAgICAgICAgICArK2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgciA9IHQubXV0YXRpb25zLm1hcCgodCA9PiBfX1BSSVZBVEVfZnJvbU11dGF0aW9uKGUuY3QsIHQpKSksIGkgPSBUaW1lc3RhbXAuZnJvbU1pbGxpcyh0LmxvY2FsV3JpdGVUaW1lTXMpO1xuICAgIHJldHVybiBuZXcgTXV0YXRpb25CYXRjaCh0LmJhdGNoSWQsIGksIG4sIHIpO1xufVxuXG4vKiogRGVjb2RlcyBhIERiVGFyZ2V0IGludG8gVGFyZ2V0RGF0YSAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiVGFyZ2V0KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlLnJlYWRUaW1lKSwgbiA9IHZvaWQgMCAhPT0gZS5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uID8gX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24pIDogU25hcHNob3RWZXJzaW9uLm1pbigpO1xuICAgIGxldCByO1xuICAgIHJldHVybiByID0gXG4gICAgLyoqXG4gKiBBIGhlbHBlciBmdW5jdGlvbiBmb3IgZmlndXJpbmcgb3V0IHdoYXQga2luZCBvZiBxdWVyeSBoYXMgYmVlbiBzdG9yZWQuXG4gKi9cbiAgICBmdW5jdGlvbiBfX1BSSVZBVEVfaXNEb2N1bWVudFF1ZXJ5KGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gZS5kb2N1bWVudHM7XG4gICAgfVxuICAgIC8qKiBFbmNvZGVzIGEgRGJCdW5kbGUgdG8gYSBCdW5kbGVNZXRhZGF0YSBvYmplY3QuICovIChlLnF1ZXJ5KSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRG9jdW1lbnRzVGFyZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDEgPT09IGUuZG9jdW1lbnRzLmxlbmd0aCksIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgoX19QUklWQVRFX2Zyb21RdWVyeVBhdGgoZS5kb2N1bWVudHNbMF0pKSk7XG4gICAgfShlLnF1ZXJ5KSA6IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tUXVlcnlUYXJnZXQoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoX19QUklWQVRFX2NvbnZlcnRRdWVyeVRhcmdldFRvUXVlcnkoZSkpO1xuICAgIH0oZS5xdWVyeSksIG5ldyBUYXJnZXREYXRhKHIsIGUudGFyZ2V0SWQsIFwiVGFyZ2V0UHVycG9zZUxpc3RlblwiIC8qIFRhcmdldFB1cnBvc2UuTGlzdGVuICovICwgZS5sYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIsIHQsIG4sIEJ5dGVTdHJpbmcuZnJvbUJhc2U2NFN0cmluZyhlLnJlc3VtZVRva2VuKSk7XG59XG5cbi8qKiBFbmNvZGVzIFRhcmdldERhdGEgaW50byBhIERiVGFyZ2V0IGZvciBzdG9yYWdlIGxvY2FsbHkuICovIGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiVGFyZ2V0KGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX3RvRGJUaW1lc3RhbXAodC5zbmFwc2hvdFZlcnNpb24pLCByID0gX19QUklWQVRFX3RvRGJUaW1lc3RhbXAodC5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKTtcbiAgICBsZXQgaTtcbiAgICBpID0gX19QUklWQVRFX3RhcmdldElzRG9jdW1lbnRUYXJnZXQodC50YXJnZXQpID8gX19QUklWQVRFX3RvRG9jdW1lbnRzVGFyZ2V0KGUuY3QsIHQudGFyZ2V0KSA6IF9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0KGUuY3QsIHQudGFyZ2V0KS5fdDtcbiAgICAvLyBXZSBjYW4ndCBzdG9yZSB0aGUgcmVzdW1lVG9rZW4gYXMgYSBCeXRlU3RyaW5nIGluIEluZGV4ZWREYiwgc28gd2VcbiAgICAvLyBjb252ZXJ0IGl0IHRvIGEgYmFzZTY0IHN0cmluZyBmb3Igc3RvcmFnZS5cbiAgICAgICAgY29uc3QgcyA9IHQucmVzdW1lVG9rZW4udG9CYXNlNjQoKTtcbiAgICAvLyBsYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgaXMgYWx3YXlzIDAgdW50aWwgd2UgZG8gcmVhbCBHQy5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgdGFyZ2V0SWQ6IHQudGFyZ2V0SWQsXG4gICAgICAgIGNhbm9uaWNhbElkOiBfX1BSSVZBVEVfY2Fub25pZnlUYXJnZXQodC50YXJnZXQpLFxuICAgICAgICByZWFkVGltZTogbixcbiAgICAgICAgcmVzdW1lVG9rZW46IHMsXG4gICAgICAgIGxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcjogdC5zZXF1ZW5jZU51bWJlcixcbiAgICAgICAgbGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbjogcixcbiAgICAgICAgcXVlcnk6IGlcbiAgICB9O1xufVxuXG4vKipcbiAqIEVuY29kZXMgYSBgQnVuZGxlZFF1ZXJ5YCBmcm9tIGJ1bmRsZSBwcm90byB0byBhIFF1ZXJ5IG9iamVjdC5cbiAqXG4gKiBUaGlzIHJlY29uc3RydWN0cyB0aGUgb3JpZ2luYWwgcXVlcnkgdXNlZCB0byBidWlsZCB0aGUgYnVuZGxlIGJlaW5nIGxvYWRlZCxcbiAqIGluY2x1ZGluZyBmZWF0dXJlcyBleGlzdHMgb25seSBpbiBTREtzIChmb3IgZXhhbXBsZTogbGltaXQtdG8tbGFzdCkuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQnVuZGxlZFF1ZXJ5KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2NvbnZlcnRRdWVyeVRhcmdldFRvUXVlcnkoe1xuICAgICAgICBwYXJlbnQ6IGUucGFyZW50LFxuICAgICAgICBzdHJ1Y3R1cmVkUXVlcnk6IGUuc3RydWN0dXJlZFF1ZXJ5XG4gICAgfSk7XG4gICAgcmV0dXJuIFwiTEFTVFwiID09PSBlLmxpbWl0VHlwZSA/IF9fUFJJVkFURV9xdWVyeVdpdGhMaW1pdCh0LCB0LmxpbWl0LCBcIkxcIiAvKiBMaW1pdFR5cGUuTGFzdCAqLykgOiB0O1xufVxuXG4vKiogRW5jb2RlcyBhIE5hbWVkUXVlcnkgcHJvdG8gb2JqZWN0IHRvIGEgTmFtZWRRdWVyeSBtb2RlbCBvYmplY3QuICovXG4vKiogRW5jb2RlcyBhIERiRG9jdW1lbnRPdmVybGF5IG9iamVjdCB0byBhbiBPdmVybGF5IG1vZGVsIG9iamVjdC4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRGJEb2N1bWVudE92ZXJsYXkoZSwgdCkge1xuICAgIHJldHVybiBuZXcgT3ZlcmxheSh0Lmxhcmdlc3RCYXRjaElkLCBfX1BSSVZBVEVfZnJvbU11dGF0aW9uKGUuY3QsIHQub3ZlcmxheU11dGF0aW9uKSk7XG59XG5cbi8qKiBEZWNvZGVzIGFuIE92ZXJsYXkgbW9kZWwgb2JqZWN0IGludG8gYSBEYkRvY3VtZW50T3ZlcmxheSBvYmplY3QuICovXG4vKipcbiAqIFJldHVybnMgdGhlIERiRG9jdW1lbnRPdmVybGF5S2V5IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIHVzZXIgYW5kXG4gKiBkb2N1bWVudCBrZXkuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0RiRG9jdW1lbnRPdmVybGF5S2V5KGUsIHQpIHtcbiAgICBjb25zdCBuID0gdC5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgcmV0dXJuIFsgZSwgX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aCh0LnBhdGgucG9wTGFzdCgpKSwgbiBdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9EYkluZGV4U3RhdGUoZSwgdCwgbiwgcikge1xuICAgIHJldHVybiB7XG4gICAgICAgIGluZGV4SWQ6IGUsXG4gICAgICAgIHVpZDogdCxcbiAgICAgICAgc2VxdWVuY2VOdW1iZXI6IG4sXG4gICAgICAgIHJlYWRUaW1lOiBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcChyLnJlYWRUaW1lKSxcbiAgICAgICAgZG9jdW1lbnRLZXk6IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoci5kb2N1bWVudEtleS5wYXRoKSxcbiAgICAgICAgbGFyZ2VzdEJhdGNoSWQ6IHIubGFyZ2VzdEJhdGNoSWRcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiQnVuZGxlQ2FjaGUge1xuICAgIGdldEJ1bmRsZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9idW5kbGVzU3RvcmUoZSkuZ2V0KHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUpIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiQnVuZGxlKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpZDogZS5idW5kbGVJZCxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlVGltZTogX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlLmNyZWF0ZVRpbWUpLFxuICAgICAgICAgICAgICAgICAgICB2ZXJzaW9uOiBlLnZlcnNpb25cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqIEVuY29kZXMgYSBCdW5kbGVNZXRhZGF0YSB0byBhIERiQnVuZGxlLiAqLyAoZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2F2ZUJ1bmRsZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9idW5kbGVzU3RvcmUoZSkucHV0KGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiQnVuZGxlKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgYnVuZGxlSWQ6IGUuaWQsXG4gICAgICAgICAgICAgICAgY3JlYXRlVGltZTogX19QUklWQVRFX3RvRGJUaW1lc3RhbXAoX19QUklWQVRFX2Zyb21WZXJzaW9uKGUuY3JlYXRlVGltZSkpLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGUudmVyc2lvblxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAvKiogRW5jb2RlcyBhIERiTmFtZWRRdWVyeSB0byBhIE5hbWVkUXVlcnkuICovICh0KSk7XG4gICAgfVxuICAgIGdldE5hbWVkUXVlcnkoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX25hbWVkUXVlcmllc1N0b3JlKGUpLmdldCh0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGlmIChlKSByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYk5hbWVkUXVlcnkoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IF9fUFJJVkFURV9mcm9tQnVuZGxlZFF1ZXJ5KGUuYnVuZGxlZFF1ZXJ5KSxcbiAgICAgICAgICAgICAgICAgICAgcmVhZFRpbWU6IF9fUFJJVkFURV9mcm9tRGJUaW1lc3RhbXAoZS5yZWFkVGltZSlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqIEVuY29kZXMgYSBOYW1lZFF1ZXJ5IGZyb20gYSBidW5kbGUgcHJvdG8gdG8gYSBEYk5hbWVkUXVlcnkuICovIChlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzYXZlTmFtZWRRdWVyeShlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbmFtZWRRdWVyaWVzU3RvcmUoZSkucHV0KGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiTmFtZWRRdWVyeShlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgICAgICByZWFkVGltZTogX19QUklWQVRFX3RvRGJUaW1lc3RhbXAoX19QUklWQVRFX2Zyb21WZXJzaW9uKGUucmVhZFRpbWUpKSxcbiAgICAgICAgICAgICAgICBidW5kbGVkUXVlcnk6IGUuYnVuZGxlZFF1ZXJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KHQpKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBidW5kbGVzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYnVuZGxlc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiYnVuZGxlc1wiKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIG5hbWVkUXVlcmllcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25hbWVkUXVlcmllc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwibmFtZWRRdWVyaWVzXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBJbXBsZW1lbnRhdGlvbiBvZiBEb2N1bWVudE92ZXJsYXlDYWNoZSB1c2luZyBJbmRleGVkRGIuXG4gKi8gY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYkRvY3VtZW50T3ZlcmxheUNhY2hlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplciAtIFRoZSBkb2N1bWVudCBzZXJpYWxpemVyLlxuICAgICAqIEBwYXJhbSB1c2VySWQgLSBUaGUgdXNlcklkIGZvciB3aGljaCB3ZSBhcmUgYWNjZXNzaW5nIG92ZXJsYXlzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gZSwgdGhpcy51c2VySWQgPSB0O1xuICAgIH1cbiAgICBzdGF0aWMgbHQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC51aWQgfHwgXCJcIjtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiRG9jdW1lbnRPdmVybGF5Q2FjaGUoZSwgbik7XG4gICAgfVxuICAgIGdldE92ZXJsYXkoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlKGUpLmdldChfX1BSSVZBVEVfdG9EYkRvY3VtZW50T3ZlcmxheUtleSh0aGlzLnVzZXJJZCwgdCkpLm5leHQoKGUgPT4gZSA/IF9fUFJJVkFURV9mcm9tRGJEb2N1bWVudE92ZXJsYXkodGhpcy5zZXJpYWxpemVyLCBlKSA6IG51bGwpKTtcbiAgICB9XG4gICAgZ2V0T3ZlcmxheXMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHQsICh0ID0+IHRoaXMuZ2V0T3ZlcmxheShlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIG51bGwgIT09IGUgJiYgbi5zZXQodCwgZSk7XG4gICAgICAgIH0pKSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgc2F2ZU92ZXJsYXlzKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKCgobiwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IG5ldyBPdmVybGF5KHQsIGkpO1xuICAgICAgICAgICAgci5wdXNoKHRoaXMuaHQoZSwgcykpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHIpO1xuICAgIH1cbiAgICByZW1vdmVPdmVybGF5c0ZvckJhdGNoSWQoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gbmV3IFNldDtcbiAgICAgICAgLy8gR2V0IHRoZSBzZXQgb2YgdW5pcXVlIGNvbGxlY3Rpb24gcGF0aHMuXG4gICAgICAgICAgICAgICAgdC5mb3JFYWNoKChlID0+IHIuYWRkKF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZS5nZXRDb2xsZWN0aW9uUGF0aCgpKSkpKTtcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICByZXR1cm4gci5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCB0LCBuIF0sIFsgdGhpcy51c2VySWQsIHQsIG4gKyAxIF0sIFxuICAgICAgICAgICAgLypsb3dlck9wZW49Ki8gITEsIFxuICAgICAgICAgICAgLyp1cHBlck9wZW49Ki8gITApO1xuICAgICAgICAgICAgaS5wdXNoKF9fUFJJVkFURV9kb2N1bWVudE92ZXJsYXlTdG9yZShlKS5qKFwiY29sbGVjdGlvblBhdGhPdmVybGF5SW5kZXhcIiwgcikpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKGkpO1xuICAgIH1cbiAgICBnZXRPdmVybGF5c0ZvckNvbGxlY3Rpb24oZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSwgaSA9IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodCksIHMgPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCBpLCBuIF0sIFsgdGhpcy51c2VySWQsIGksIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITApO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlKGUpLlUoXCJjb2xsZWN0aW9uUGF0aE92ZXJsYXlJbmRleFwiLCBzKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9mcm9tRGJEb2N1bWVudE92ZXJsYXkodGhpcy5zZXJpYWxpemVyLCB0KTtcbiAgICAgICAgICAgICAgICByLnNldChlLmdldEtleSgpLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCk7XG4gICAgICAgIGxldCBzO1xuICAgICAgICAvLyBXZSB3YW50IGJhdGNoIElEcyBsYXJnZXIgdGhhbiBgc2luY2VCYXRjaElkYCwgYW5kIHNvIHRoZSBsb3dlciBib3VuZFxuICAgICAgICAvLyBpcyBub3QgaW5jbHVzaXZlLlxuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCB0LCBuIF0sIFsgdGhpcy51c2VySWQsIHQsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITApO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwiY29sbGVjdGlvbkdyb3VwT3ZlcmxheUluZGV4XCIsXG4gICAgICAgICAgICByYW5nZTogb1xuICAgICAgICB9LCAoKGUsIHQsIG4pID0+IHtcbiAgICAgICAgICAgIC8vIFdlIGRvIG5vdCB3YW50IHRvIHJldHVybiBwYXJ0aWFsIGJhdGNoIG92ZXJsYXlzLCBldmVuIGlmIHRoZSBzaXplXG4gICAgICAgICAgICAvLyBvZiB0aGUgcmVzdWx0IHNldCBleGNlZWRzIHRoZSBnaXZlbiBgY291bnRgIGFyZ3VtZW50LiBUaGVyZWZvcmUsIHdlXG4gICAgICAgICAgICAvLyBjb250aW51ZSB0byBhZ2dyZWdhdGUgcmVzdWx0cyBldmVuIGFmdGVyIHRoZSByZXN1bHQgc2l6ZSBleGNlZWRzXG4gICAgICAgICAgICAvLyBgY291bnRgIGlmIHRoZXJlIGFyZSBtb3JlIG92ZXJsYXlzIGZyb20gdGhlIGBjdXJyZW50QmF0Y2hJZGAuXG4gICAgICAgICAgICBjb25zdCBvID0gX19QUklWQVRFX2Zyb21EYkRvY3VtZW50T3ZlcmxheSh0aGlzLnNlcmlhbGl6ZXIsIHQpO1xuICAgICAgICAgICAgaS5zaXplKCkgPCByIHx8IG8ubGFyZ2VzdEJhdGNoSWQgPT09IHMgPyAoaS5zZXQoby5nZXRLZXkoKSwgbyksIHMgPSBvLmxhcmdlc3RCYXRjaElkKSA6IG4uZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBodChlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRPdmVybGF5U3RvcmUoZSkucHV0KGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiRG9jdW1lbnRPdmVybGF5KGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IFtyLCBpLCBzXSA9IF9fUFJJVkFURV90b0RiRG9jdW1lbnRPdmVybGF5S2V5KHQsIG4ubXV0YXRpb24ua2V5KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXNlcklkOiB0LFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25QYXRoOiBpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50SWQ6IHMsXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbkdyb3VwOiBuLm11dGF0aW9uLmtleS5nZXRDb2xsZWN0aW9uR3JvdXAoKSxcbiAgICAgICAgICAgICAgICBsYXJnZXN0QmF0Y2hJZDogbi5sYXJnZXN0QmF0Y2hJZCxcbiAgICAgICAgICAgICAgICBvdmVybGF5TXV0YXRpb246IHRvTXV0YXRpb24oZS5jdCwgbi5tdXRhdGlvbilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odGhpcy5zZXJpYWxpemVyLCB0aGlzLnVzZXJJZCwgdCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIGRvY3VtZW50IG92ZXJsYXkgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudE92ZXJsYXlTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcImRvY3VtZW50T3ZlcmxheXNcIik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBOb3RlOiBUaGlzIGNvZGUgaXMgY29waWVkIGZyb20gdGhlIGJhY2tlbmQuIENvZGUgdGhhdCBpcyBub3QgdXNlZCBieVxuLy8gRmlyZXN0b3JlIHdhcyByZW1vdmVkLlxuLyoqIEZpcmVzdG9yZSBpbmRleCB2YWx1ZSB3cml0ZXIuICAqL1xuY2xhc3MgX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge31cbiAgICAvLyBUaGUgd3JpdGUgbWV0aG9kcyBiZWxvdyBzaG9ydC1jaXJjdWl0IHdyaXRpbmcgdGVybWluYXRvcnMgZm9yIHZhbHVlc1xuICAgIC8vIGNvbnRhaW5pbmcgYSAodGVybWluYXRpbmcpIHRydW5jYXRlZCB2YWx1ZS5cbiAgICAvLyBBcyBhbiBleGFtcGxlLCBjb25zaWRlciB0aGUgcmVzdWx0aW5nIGVuY29kaW5nIGZvcjpcbiAgICAvLyBbXCJiYXJcIiwgWzIsIFwiZm9vXCJdXSAtPiAoU1RSSU5HLCBcImJhclwiLCBURVJNLCBBUlJBWSwgTlVNQkVSLCAyLCBTVFJJTkcsIFwiZm9vXCIsIFRFUk0sIFRFUk0sIFRFUk0pXG4gICAgLy8gW1wiYmFyXCIsIFsyLCB0cnVuY2F0ZWQoXCJmb29cIildXSAtPiAoU1RSSU5HLCBcImJhclwiLCBURVJNLCBBUlJBWSwgTlVNQkVSLCAyLCBTVFJJTkcsIFwiZm9vXCIsIFRSVU5DKVxuICAgIC8vIFtcImJhclwiLCB0cnVuY2F0ZWQoW1wiZm9vXCJdKV0gLT4gKFNUUklORywgXCJiYXJcIiwgVEVSTSwgQVJSQVkuIFNUUklORywgXCJmb29cIiwgVEVSTSwgVFJVTkMpXG4gICAgLyoqIFdyaXRlcyBhbiBpbmRleCB2YWx1ZS4gICovXG4gICAgUHQoZSwgdCkge1xuICAgICAgICB0aGlzLkl0KGUsIHQpLCBcbiAgICAgICAgLy8gV3JpdGUgc2VwYXJhdG9yIHRvIHNwbGl0IGluZGV4IHZhbHVlc1xuICAgICAgICAvLyAoc2VlIGdvL2ZpcmVzdG9yZS1zdG9yYWdlLWZvcm1hdCNlbmNvZGluZ3MpLlxuICAgICAgICB0LlR0KCk7XG4gICAgfVxuICAgIEl0KGUsIHQpIHtcbiAgICAgICAgaWYgKFwibnVsbFZhbHVlXCIgaW4gZSkgdGhpcy5FdCh0LCA1KTsgZWxzZSBpZiAoXCJib29sZWFuVmFsdWVcIiBpbiBlKSB0aGlzLkV0KHQsIDEwKSwgXG4gICAgICAgIHQuZHQoZS5ib29sZWFuVmFsdWUgPyAxIDogMCk7IGVsc2UgaWYgKFwiaW50ZWdlclZhbHVlXCIgaW4gZSkgdGhpcy5FdCh0LCAxNSksIHQuZHQoX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmludGVnZXJWYWx1ZSkpOyBlbHNlIGlmIChcImRvdWJsZVZhbHVlXCIgaW4gZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5kb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICBpc05hTihuKSA/IHRoaXMuRXQodCwgMTMpIDogKHRoaXMuRXQodCwgMTUpLCBfX1BSSVZBVEVfaXNOZWdhdGl2ZVplcm8obikgPyBcbiAgICAgICAgICAgIC8vIC0wLjAsIDAgYW5kIDAuMCBhcmUgYWxsIGNvbnNpZGVyZWQgdGhlIHNhbWVcbiAgICAgICAgICAgIHQuZHQoMCkgOiB0LmR0KG4pKTtcbiAgICAgICAgfSBlbHNlIGlmIChcInRpbWVzdGFtcFZhbHVlXCIgaW4gZSkge1xuICAgICAgICAgICAgbGV0IG4gPSBlLnRpbWVzdGFtcFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5FdCh0LCAyMCksIFwic3RyaW5nXCIgPT0gdHlwZW9mIG4gJiYgKG4gPSBfX1BSSVZBVEVfbm9ybWFsaXplVGltZXN0YW1wKG4pKSwgdC5BdChgJHtuLnNlY29uZHMgfHwgXCJcIn1gKSwgXG4gICAgICAgICAgICB0LmR0KG4ubmFub3MgfHwgMCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJzdHJpbmdWYWx1ZVwiIGluIGUpIHRoaXMuUnQoZS5zdHJpbmdWYWx1ZSwgdCksIHRoaXMuVnQodCk7IGVsc2UgaWYgKFwiYnl0ZXNWYWx1ZVwiIGluIGUpIHRoaXMuRXQodCwgMzApLCBcbiAgICAgICAgdC5mdChfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyhlLmJ5dGVzVmFsdWUpKSwgdGhpcy5WdCh0KTsgZWxzZSBpZiAoXCJyZWZlcmVuY2VWYWx1ZVwiIGluIGUpIHRoaXMuZ3QoZS5yZWZlcmVuY2VWYWx1ZSwgdCk7IGVsc2UgaWYgKFwiZ2VvUG9pbnRWYWx1ZVwiIGluIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLmdlb1BvaW50VmFsdWU7XG4gICAgICAgICAgICB0aGlzLkV0KHQsIDQ1KSwgdC5kdChuLmxhdGl0dWRlIHx8IDApLCB0LmR0KG4ubG9uZ2l0dWRlIHx8IDApO1xuICAgICAgICB9IGVsc2UgXCJtYXBWYWx1ZVwiIGluIGUgPyBfX1BSSVZBVEVfaXNNYXhWYWx1ZShlKSA/IHRoaXMuRXQodCwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIDogKHRoaXMueXQoZS5tYXBWYWx1ZSwgdCksIFxuICAgICAgICB0aGlzLlZ0KHQpKSA6IFwiYXJyYXlWYWx1ZVwiIGluIGUgPyAodGhpcy53dChlLmFycmF5VmFsdWUsIHQpLCB0aGlzLlZ0KHQpKSA6IGZhaWwoKTtcbiAgICB9XG4gICAgUnQoZSwgdCkge1xuICAgICAgICB0aGlzLkV0KHQsIDI1KSwgdGhpcy5TdChlLCB0KTtcbiAgICB9XG4gICAgU3QoZSwgdCkge1xuICAgICAgICB0LkF0KGUpO1xuICAgIH1cbiAgICB5dChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBlLmZpZWxkcyB8fCB7fTtcbiAgICAgICAgdGhpcy5FdCh0LCA1NSk7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiBPYmplY3Qua2V5cyhuKSkgdGhpcy5SdChlLCB0KSwgdGhpcy5JdChuW2VdLCB0KTtcbiAgICB9XG4gICAgd3QoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gZS52YWx1ZXMgfHwgW107XG4gICAgICAgIHRoaXMuRXQodCwgNTApO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgbikgdGhpcy5JdChlLCB0KTtcbiAgICB9XG4gICAgZ3QoZSwgdCkge1xuICAgICAgICB0aGlzLkV0KHQsIDM3KTtcbiAgICAgICAgRG9jdW1lbnRLZXkuZnJvbU5hbWUoZSkucGF0aC5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuRXQodCwgNjApLCB0aGlzLlN0KGUsIHQpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIEV0KGUsIHQpIHtcbiAgICAgICAgZS5kdCh0KTtcbiAgICB9XG4gICAgVnQoZSkge1xuICAgICAgICAvLyBXaGlsZSB0aGUgU0RLIGRvZXMgbm90IGltcGxlbWVudCB0cnVuY2F0aW9uLCB0aGUgdHJ1bmNhdGlvbiBtYXJrZXIgaXNcbiAgICAgICAgLy8gdXNlZCB0byB0ZXJtaW5hdGUgYWxsIHZhcmlhYmxlIGxlbmd0aCB2YWx1ZXMgKHdoaWNoIGFyZSBzdHJpbmdzLCBieXRlcyxcbiAgICAgICAgLy8gcmVmZXJlbmNlcywgYXJyYXlzIGFuZCBtYXBzKS5cbiAgICAgICAgZS5kdCgyKTtcbiAgICB9XG59XG5cbl9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyLmJ0ID0gbmV3IF9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyO1xuXG4vKipcbiAqIENvdW50cyB0aGUgbnVtYmVyIG9mIHplcm9zIGluIGEgYnl0ZS5cbiAqXG4gKiBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbnVtYmVyT2ZMZWFkaW5nWmVyb3NJbkJ5dGUoZSkge1xuICAgIGlmICgwID09PSBlKSByZXR1cm4gODtcbiAgICBsZXQgdCA9IDA7XG4gICAgcmV0dXJuIGUgPj4gNCA9PSAwICYmIChcbiAgICAvLyBUZXN0IGlmIHRoZSBmaXJzdCBmb3VyIGJpdHMgYXJlIHplcm8uXG4gICAgdCArPSA0LCBlIDw8PSA0KSwgZSA+PiA2ID09IDAgJiYgKFxuICAgIC8vIFRlc3QgaWYgdGhlIGZpcnN0IHR3byAob3IgbmV4dCB0d28pIGJpdHMgYXJlIHplcm8uXG4gICAgdCArPSAyLCBlIDw8PSAyKSwgZSA+PiA3ID09IDAgJiYgKFxuICAgIC8vIFRlc3QgaWYgdGhlIHJlbWFpbmluZyBiaXQgaXMgemVyby5cbiAgICB0ICs9IDEpLCB0O1xufVxuXG4vKiogQ291bnRzIHRoZSBudW1iZXIgb2YgbGVhZGluZyB6ZXJvcyBpbiB0aGUgZ2l2ZW4gYnl0ZSBhcnJheS4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIGJ5dGVzIHJlcXVpcmVkIHRvIHN0b3JlIFwidmFsdWVcIi4gTGVhZGluZyB6ZXJvIGJ5dGVzXG4gKiBhcmUgc2tpcHBlZC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3Vuc2lnbmVkTnVtTGVuZ3RoKGUpIHtcbiAgICAvLyBUaGlzIGlzIGp1c3QgdGhlIG51bWJlciBvZiBieXRlcyBmb3IgdGhlIHVuc2lnbmVkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBudW1iZXIuXG4gICAgY29uc3QgdCA9IDY0IC0gZnVuY3Rpb24gX19QUklWQVRFX251bWJlck9mTGVhZGluZ1plcm9zKGUpIHtcbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IDg7ICsrbikge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9udW1iZXJPZkxlYWRpbmdaZXJvc0luQnl0ZSgyNTUgJiBlW25dKTtcbiAgICAgICAgICAgIGlmICh0ICs9IHIsIDggIT09IHIpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH0oZSk7XG4gICAgcmV0dXJuIE1hdGguY2VpbCh0IC8gOCk7XG59XG5cbi8qKlxuICogT3JkZXJlZENvZGVXcml0ZXIgaXMgYSBtaW5pbWFsLWFsbG9jYXRpb24gaW1wbGVtZW50YXRpb24gb2YgdGhlIHdyaXRpbmdcbiAqIGJlaGF2aW9yIGRlZmluZWQgYnkgdGhlIGJhY2tlbmQuXG4gKlxuICogVGhlIGNvZGUgaXMgcG9ydGVkIGZyb20gaXRzIEphdmEgY291bnRlcnBhcnQuXG4gKi8gY2xhc3MgX19QUklWQVRFX09yZGVyZWRDb2RlV3JpdGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5idWZmZXIgPSBuZXcgVWludDhBcnJheSgxMDI0KSwgdGhpcy5wb3NpdGlvbiA9IDA7XG4gICAgfVxuICAgIER0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICBsZXQgbiA9IHQubmV4dCgpO1xuICAgICAgICBmb3IgKDshbi5kb25lOyApIHRoaXMuQ3Qobi52YWx1ZSksIG4gPSB0Lm5leHQoKTtcbiAgICAgICAgdGhpcy52dCgpO1xuICAgIH1cbiAgICBGdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlW1N5bWJvbC5pdGVyYXRvcl0oKTtcbiAgICAgICAgbGV0IG4gPSB0Lm5leHQoKTtcbiAgICAgICAgZm9yICg7IW4uZG9uZTsgKSB0aGlzLk10KG4udmFsdWUpLCBuID0gdC5uZXh0KCk7XG4gICAgICAgIHRoaXMueHQoKTtcbiAgICB9XG4gICAgLyoqIFdyaXRlcyB1dGY4IGJ5dGVzIGludG8gdGhpcyBieXRlIHNlcXVlbmNlLCBhc2NlbmRpbmcuICovICAgIE90KGUpIHtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZSA8IDEyOCkgdGhpcy5DdChlKTsgZWxzZSBpZiAoZSA8IDIwNDgpIHRoaXMuQ3QoOTYwIHwgZSA+Pj4gNiksIHRoaXMuQ3QoMTI4IHwgNjMgJiBlKTsgZWxzZSBpZiAodCA8IFwiXFx1ZDgwMFwiIHx8IFwiXFx1ZGJmZlwiIDwgdCkgdGhpcy5DdCg0ODAgfCBlID4+PiAxMiksIFxuICAgICAgICAgICAgdGhpcy5DdCgxMjggfCA2MyAmIGUgPj4+IDYpLCB0aGlzLkN0KDEyOCB8IDYzICYgZSk7IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0LmNvZGVQb2ludEF0KDApO1xuICAgICAgICAgICAgICAgIHRoaXMuQ3QoMjQwIHwgZSA+Pj4gMTgpLCB0aGlzLkN0KDEyOCB8IDYzICYgZSA+Pj4gMTIpLCB0aGlzLkN0KDEyOCB8IDYzICYgZSA+Pj4gNiksIFxuICAgICAgICAgICAgICAgIHRoaXMuQ3QoMTI4IHwgNjMgJiBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZ0KCk7XG4gICAgfVxuICAgIC8qKiBXcml0ZXMgdXRmOCBieXRlcyBpbnRvIHRoaXMgYnl0ZSBzZXF1ZW5jZSwgZGVzY2VuZGluZyAqLyAgICBOdChlKSB7XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiBlKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgaWYgKGUgPCAxMjgpIHRoaXMuTXQoZSk7IGVsc2UgaWYgKGUgPCAyMDQ4KSB0aGlzLk10KDk2MCB8IGUgPj4+IDYpLCB0aGlzLk10KDEyOCB8IDYzICYgZSk7IGVsc2UgaWYgKHQgPCBcIlxcdWQ4MDBcIiB8fCBcIlxcdWRiZmZcIiA8IHQpIHRoaXMuTXQoNDgwIHwgZSA+Pj4gMTIpLCBcbiAgICAgICAgICAgIHRoaXMuTXQoMTI4IHwgNjMgJiBlID4+PiA2KSwgdGhpcy5NdCgxMjggfCA2MyAmIGUpOyBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdC5jb2RlUG9pbnRBdCgwKTtcbiAgICAgICAgICAgICAgICB0aGlzLk10KDI0MCB8IGUgPj4+IDE4KSwgdGhpcy5NdCgxMjggfCA2MyAmIGUgPj4+IDEyKSwgdGhpcy5NdCgxMjggfCA2MyAmIGUgPj4+IDYpLCBcbiAgICAgICAgICAgICAgICB0aGlzLk10KDEyOCB8IDYzICYgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy54dCgpO1xuICAgIH1cbiAgICBMdChlKSB7XG4gICAgICAgIC8vIFZhbHVlcyBhcmUgZW5jb2RlZCB3aXRoIGEgc2luZ2xlIGJ5dGUgbGVuZ3RoIHByZWZpeCwgZm9sbG93ZWQgYnkgdGhlXG4gICAgICAgIC8vIGFjdHVhbCB2YWx1ZSBpbiBiaWctZW5kaWFuIGZvcm1hdCB3aXRoIGxlYWRpbmcgMCBieXRlcyBkcm9wcGVkLlxuICAgICAgICBjb25zdCB0ID0gdGhpcy5CdChlKSwgbiA9IF9fUFJJVkFURV91bnNpZ25lZE51bUxlbmd0aCh0KTtcbiAgICAgICAgdGhpcy5rdCgxICsgbiksIHRoaXMuYnVmZmVyW3RoaXMucG9zaXRpb24rK10gPSAyNTUgJiBuO1xuICAgICAgICAvLyBXcml0ZSB0aGUgbGVuZ3RoXG4gICAgICAgIGZvciAobGV0IGUgPSB0Lmxlbmd0aCAtIG47IGUgPCB0Lmxlbmd0aDsgKytlKSB0aGlzLmJ1ZmZlclt0aGlzLnBvc2l0aW9uKytdID0gMjU1ICYgdFtlXTtcbiAgICB9XG4gICAgcXQoZSkge1xuICAgICAgICAvLyBWYWx1ZXMgYXJlIGVuY29kZWQgd2l0aCBhIHNpbmdsZSBieXRlIGxlbmd0aCBwcmVmaXgsIGZvbGxvd2VkIGJ5IHRoZVxuICAgICAgICAvLyBpbnZlcnRlZCB2YWx1ZSBpbiBiaWctZW5kaWFuIGZvcm1hdCB3aXRoIGxlYWRpbmcgMCBieXRlcyBkcm9wcGVkLlxuICAgICAgICBjb25zdCB0ID0gdGhpcy5CdChlKSwgbiA9IF9fUFJJVkFURV91bnNpZ25lZE51bUxlbmd0aCh0KTtcbiAgICAgICAgdGhpcy5rdCgxICsgbiksIHRoaXMuYnVmZmVyW3RoaXMucG9zaXRpb24rK10gPSB+KDI1NSAmIG4pO1xuICAgICAgICAvLyBXcml0ZSB0aGUgbGVuZ3RoXG4gICAgICAgIGZvciAobGV0IGUgPSB0Lmxlbmd0aCAtIG47IGUgPCB0Lmxlbmd0aDsgKytlKSB0aGlzLmJ1ZmZlclt0aGlzLnBvc2l0aW9uKytdID0gfigyNTUgJiB0W2VdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRoZSBcImluZmluaXR5XCIgYnl0ZSBzZXF1ZW5jZSB0aGF0IHNvcnRzIGFmdGVyIGFsbCBvdGhlciBieXRlXG4gICAgICogc2VxdWVuY2VzIHdyaXR0ZW4gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqLyAgICBRdCgpIHtcbiAgICAgICAgdGhpcy5LdCgyNTUpLCB0aGlzLkt0KDI1NSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyB0aGUgXCJpbmZpbml0eVwiIGJ5dGUgc2VxdWVuY2UgdGhhdCBzb3J0cyBiZWZvcmUgYWxsIG90aGVyIGJ5dGVcbiAgICAgKiBzZXF1ZW5jZXMgd3JpdHRlbiBpbiBkZXNjZW5kaW5nIG9yZGVyLlxuICAgICAqLyAgICAkdCgpIHtcbiAgICAgICAgdGhpcy5VdCgyNTUpLCB0aGlzLlV0KDI1NSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgYnVmZmVyIHN1Y2ggdGhhdCBpdCBpcyB0aGUgc2FtZSBhcyB3aGVuIGl0IHdhcyBuZXdseVxuICAgICAqIGNvbnN0cnVjdGVkLlxuICAgICAqLyAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IDA7XG4gICAgfVxuICAgIHNlZWQoZSkge1xuICAgICAgICB0aGlzLmt0KGUubGVuZ3RoKSwgdGhpcy5idWZmZXIuc2V0KGUsIHRoaXMucG9zaXRpb24pLCB0aGlzLnBvc2l0aW9uICs9IGUubGVuZ3RoO1xuICAgIH1cbiAgICAvKiogTWFrZXMgYSBjb3B5IG9mIHRoZSBlbmNvZGVkIGJ5dGVzIGluIHRoaXMgYnVmZmVyLiAgKi8gICAgV3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5zbGljZSgwLCB0aGlzLnBvc2l0aW9uKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyBgdmFsYCBpbnRvIGFuIGVuY29kaW5nIHNvIHRoYXQgdGhlIG9yZGVyIG1hdGNoZXMgdGhlIElFRUUgNzU0XG4gICAgICogZmxvYXRpbmctcG9pbnQgY29tcGFyaXNvbiByZXN1bHRzIHdpdGggdGhlIGZvbGxvd2luZyBleGNlcHRpb25zOlxuICAgICAqICAgLTAuMCA8IDAuMFxuICAgICAqICAgYWxsIG5vbi1OYU4gPCBOYU5cbiAgICAgKiAgIE5hTiA9IE5hTlxuICAgICAqLyAgICBCdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBcbiAgICAgICAgLyoqIENvbnZlcnRzIGEgSmF2YVNjcmlwdCBudW1iZXIgdG8gYSBieXRlIGFycmF5ICh1c2luZyBiaWcgZW5kaWFuIGVuY29kaW5nKS4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2RvdWJsZVRvTG9uZ0JpdHMoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBEYXRhVmlldyhuZXcgQXJyYXlCdWZmZXIoOCkpO1xuICAgICAgICAgICAgcmV0dXJuIHQuc2V0RmxvYXQ2NCgwLCBlLCAvKiBsaXR0bGVFbmRpYW49ICovICExKSwgbmV3IFVpbnQ4QXJyYXkodC5idWZmZXIpO1xuICAgICAgICB9KGUpLCBuID0gMCAhPSAoMTI4ICYgdFswXSk7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSBmaXJzdCBiaXQgaXMgc2V0LiBXZSB1c2UgYSBiaXQgbWFzayBzaW5jZSB2YWx1ZVswXSBpc1xuICAgICAgICAvLyBlbmNvZGVkIGFzIGEgbnVtYmVyIGZyb20gMCB0byAyNTUuXG4gICAgICAgICAgICAgICAgLy8gUmV2ZXJ0IHRoZSB0d28gY29tcGxlbWVudCB0byBnZXQgbmF0dXJhbCBvcmRlcmluZ1xuICAgICAgICB0WzBdIF49IG4gPyAyNTUgOiAxMjg7XG4gICAgICAgIGZvciAobGV0IGUgPSAxOyBlIDwgdC5sZW5ndGg7ICsrZSkgdFtlXSBePSBuID8gMjU1IDogMDtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIC8qKiBXcml0ZXMgYSBzaW5nbGUgYnl0ZSBhc2NlbmRpbmcgdG8gdGhlIGJ1ZmZlci4gKi8gICAgQ3QoZSkge1xuICAgICAgICBjb25zdCB0ID0gMjU1ICYgZTtcbiAgICAgICAgMCA9PT0gdCA/ICh0aGlzLkt0KDApLCB0aGlzLkt0KDI1NSkpIDogMjU1ID09PSB0ID8gKHRoaXMuS3QoMjU1KSwgdGhpcy5LdCgwKSkgOiB0aGlzLkt0KHQpO1xuICAgIH1cbiAgICAvKiogV3JpdGVzIGEgc2luZ2xlIGJ5dGUgZGVzY2VuZGluZyB0byB0aGUgYnVmZmVyLiAgKi8gICAgTXQoZSkge1xuICAgICAgICBjb25zdCB0ID0gMjU1ICYgZTtcbiAgICAgICAgMCA9PT0gdCA/ICh0aGlzLlV0KDApLCB0aGlzLlV0KDI1NSkpIDogMjU1ID09PSB0ID8gKHRoaXMuVXQoMjU1KSwgdGhpcy5VdCgwKSkgOiB0aGlzLlV0KGUpO1xuICAgIH1cbiAgICB2dCgpIHtcbiAgICAgICAgdGhpcy5LdCgwKSwgdGhpcy5LdCgxKTtcbiAgICB9XG4gICAgeHQoKSB7XG4gICAgICAgIHRoaXMuVXQoMCksIHRoaXMuVXQoMSk7XG4gICAgfVxuICAgIEt0KGUpIHtcbiAgICAgICAgdGhpcy5rdCgxKSwgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IGU7XG4gICAgfVxuICAgIFV0KGUpIHtcbiAgICAgICAgdGhpcy5rdCgxKSwgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IH5lO1xuICAgIH1cbiAgICBrdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlICsgdGhpcy5wb3NpdGlvbjtcbiAgICAgICAgaWYgKHQgPD0gdGhpcy5idWZmZXIubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIC8vIFRyeSBkb3VibGluZy5cbiAgICAgICAgICAgICAgICBsZXQgbiA9IDIgKiB0aGlzLmJ1ZmZlci5sZW5ndGg7XG4gICAgICAgIC8vIFN0aWxsIG5vdCBiaWcgZW5vdWdoPyBKdXN0IGFsbG9jYXRlIHRoZSByaWdodCBzaXplLlxuICAgICAgICAgICAgICAgIG4gPCB0ICYmIChuID0gdCk7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgbmV3IGJ1ZmZlci5cbiAgICAgICAgICAgICAgICBjb25zdCByID0gbmV3IFVpbnQ4QXJyYXkobik7XG4gICAgICAgIHIuc2V0KHRoaXMuYnVmZmVyKSwgLy8gY29weSBvbGQgZGF0YVxuICAgICAgICB0aGlzLmJ1ZmZlciA9IHI7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfQXNjZW5kaW5nSW5kZXhCeXRlRW5jb2RlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLkd0ID0gZTtcbiAgICB9XG4gICAgZnQoZSkge1xuICAgICAgICB0aGlzLkd0LkR0KGUpO1xuICAgIH1cbiAgICBBdChlKSB7XG4gICAgICAgIHRoaXMuR3QuT3QoZSk7XG4gICAgfVxuICAgIGR0KGUpIHtcbiAgICAgICAgdGhpcy5HdC5MdChlKTtcbiAgICB9XG4gICAgVHQoKSB7XG4gICAgICAgIHRoaXMuR3QuUXQoKTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9EZXNjZW5kaW5nSW5kZXhCeXRlRW5jb2RlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLkd0ID0gZTtcbiAgICB9XG4gICAgZnQoZSkge1xuICAgICAgICB0aGlzLkd0LkZ0KGUpO1xuICAgIH1cbiAgICBBdChlKSB7XG4gICAgICAgIHRoaXMuR3QuTnQoZSk7XG4gICAgfVxuICAgIGR0KGUpIHtcbiAgICAgICAgdGhpcy5HdC5xdChlKTtcbiAgICB9XG4gICAgVHQoKSB7XG4gICAgICAgIHRoaXMuR3QuJHQoKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyBgRGlyZWN0aW9uYWxJbmRleEJ5dGVFbmNvZGVyYCB1c2luZyBgT3JkZXJlZENvZGVXcml0ZXJgIGZvciB0aGVcbiAqIGFjdHVhbCBlbmNvZGluZy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2RlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuR3QgPSBuZXcgX19QUklWQVRFX09yZGVyZWRDb2RlV3JpdGVyLCB0aGlzLnp0ID0gbmV3IF9fUFJJVkFURV9Bc2NlbmRpbmdJbmRleEJ5dGVFbmNvZGVyKHRoaXMuR3QpLCBcbiAgICAgICAgdGhpcy5qdCA9IG5ldyBfX1BSSVZBVEVfRGVzY2VuZGluZ0luZGV4Qnl0ZUVuY29kZXIodGhpcy5HdCk7XG4gICAgfVxuICAgIHNlZWQoZSkge1xuICAgICAgICB0aGlzLkd0LnNlZWQoZSk7XG4gICAgfVxuICAgIEh0KGUpIHtcbiAgICAgICAgcmV0dXJuIDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLyA9PT0gZSA/IHRoaXMuenQgOiB0aGlzLmp0O1xuICAgIH1cbiAgICBXdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuR3QuV3QoKTtcbiAgICB9XG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuR3QucmVzZXQoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogUmVwcmVzZW50cyBhbiBpbmRleCBlbnRyeSBzYXZlZCBieSB0aGUgU0RLIGluIHBlcnNpc3RlZCBzdG9yYWdlLiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhFbnRyeSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLmluZGV4SWQgPSBlLCB0aGlzLmRvY3VtZW50S2V5ID0gdCwgdGhpcy5hcnJheVZhbHVlID0gbiwgdGhpcy5kaXJlY3Rpb25hbFZhbHVlID0gcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBJbmRleEVudHJ5IGVudHJ5IHRoYXQgc29ydHMgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGN1cnJlbnRcbiAgICAgKiBkaXJlY3Rpb25hbCB2YWx1ZS5cbiAgICAgKi8gICAgSnQoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmRpcmVjdGlvbmFsVmFsdWUubGVuZ3RoLCB0ID0gMCA9PT0gZSB8fCAyNTUgPT09IHRoaXMuZGlyZWN0aW9uYWxWYWx1ZVtlIC0gMV0gPyBlICsgMSA6IGUsIG4gPSBuZXcgVWludDhBcnJheSh0KTtcbiAgICAgICAgcmV0dXJuIG4uc2V0KHRoaXMuZGlyZWN0aW9uYWxWYWx1ZSwgMCksIHQgIT09IGUgPyBuLnNldChbIDAgXSwgdGhpcy5kaXJlY3Rpb25hbFZhbHVlLmxlbmd0aCkgOiArK25bbi5sZW5ndGggLSAxXSwgXG4gICAgICAgIG5ldyBfX1BSSVZBVEVfSW5kZXhFbnRyeSh0aGlzLmluZGV4SWQsIHRoaXMuZG9jdW1lbnRLZXksIHRoaXMuYXJyYXlWYWx1ZSwgbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoZSwgdCkge1xuICAgIGxldCBuID0gZS5pbmRleElkIC0gdC5pbmRleElkO1xuICAgIHJldHVybiAwICE9PSBuID8gbiA6IChuID0gX19QUklWQVRFX2NvbXBhcmVCeXRlQXJyYXlzKGUuYXJyYXlWYWx1ZSwgdC5hcnJheVZhbHVlKSwgXG4gICAgMCAhPT0gbiA/IG4gOiAobiA9IF9fUFJJVkFURV9jb21wYXJlQnl0ZUFycmF5cyhlLmRpcmVjdGlvbmFsVmFsdWUsIHQuZGlyZWN0aW9uYWxWYWx1ZSksIFxuICAgIDAgIT09IG4gPyBuIDogRG9jdW1lbnRLZXkuY29tcGFyYXRvcihlLmRvY3VtZW50S2V5LCB0LmRvY3VtZW50S2V5KSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZUJ5dGVBcnJheXMoZSwgdCkge1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5sZW5ndGggJiYgbiA8IHQubGVuZ3RoOyArK24pIHtcbiAgICAgICAgY29uc3QgciA9IGVbbl0gLSB0W25dO1xuICAgICAgICBpZiAoMCAhPT0gcikgcmV0dXJuIHI7XG4gICAgfVxuICAgIHJldHVybiBlLmxlbmd0aCAtIHQubGVuZ3RoO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGxpZ2h0IHF1ZXJ5IHBsYW5uZXIgZm9yIEZpcmVzdG9yZS5cbiAqXG4gKiBUaGlzIGNsYXNzIG1hdGNoZXMgYSBgRmllbGRJbmRleGAgYWdhaW5zdCBhIEZpcmVzdG9yZSBRdWVyeSBgVGFyZ2V0YC4gSXRcbiAqIGRldGVybWluZXMgd2hldGhlciBhIGdpdmVuIGluZGV4IGNhbiBiZSB1c2VkIHRvIHNlcnZlIHRoZSBzcGVjaWZpZWQgdGFyZ2V0LlxuICpcbiAqIFRoZSBmb2xsb3dpbmcgdGFibGUgc2hvd2Nhc2VzIHNvbWUgcG9zc2libGUgaW5kZXggY29uZmlndXJhdGlvbnM6XG4gKlxuICogUXVlcnkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHwgSW5kZXhcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiB3aGVyZSgnYScsICc9PScsICdhJykud2hlcmUoJ2InLCAnPT0nLCAnYicpICAgICAgICAgfCBhIEFTQywgYiBERVNDXG4gKiB3aGVyZSgnYScsICc9PScsICdhJykud2hlcmUoJ2InLCAnPT0nLCAnYicpICAgICAgICAgfCBhIEFTQ1xuICogd2hlcmUoJ2EnLCAnPT0nLCAnYScpLndoZXJlKCdiJywgJz09JywgJ2InKSAgICAgICAgIHwgYiBERVNDXG4gKiB3aGVyZSgnYScsICc+PScsICdhJykub3JkZXJCeSgnYScpICAgICAgICAgICAgICAgICAgfCBhIEFTQ1xuICogd2hlcmUoJ2EnLCAnPj0nLCAnYScpLm9yZGVyQnkoJ2EnLCAnZGVzYycpICAgICAgICAgIHwgYSBERVNDXG4gKiB3aGVyZSgnYScsICc+PScsICdhJykub3JkZXJCeSgnYScpLm9yZGVyQnkoJ2InKSAgICAgfCBhIEFTQywgYiBBU0NcbiAqIHdoZXJlKCdhJywgJz49JywgJ2EnKS5vcmRlckJ5KCdhJykub3JkZXJCeSgnYicpICAgICB8IGEgQVNDXG4gKiB3aGVyZSgnYScsICdhcnJheS1jb250YWlucycsICdhJykub3JkZXJCeSgnYicpICAgICAgfCBhIENPTlRBSU5TLCBiIEFTQ0VORElOR1xuICogd2hlcmUoJ2EnLCAnYXJyYXktY29udGFpbnMnLCAnYScpLm9yZGVyQnkoJ2InKSAgICAgIHwgYSBDT05UQUlOU1xuICovIGNsYXNzIF9fUFJJVkFURV9UYXJnZXRJbmRleE1hdGNoZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgLy8gVGhlIGluZXF1YWxpdHkgZmlsdGVycyBvZiB0aGUgdGFyZ2V0IChpZiBpdCBleGlzdHMpLlxuICAgICAgICAvLyBOb3RlOiBUaGUgc29ydCBvbiBGaWVsZEZpbHRlcnMgaXMgbm90IHJlcXVpcmVkLiBVc2luZyBTb3J0ZWRTZXQgaGVyZSBqdXN0IHRvIHV0aWxpemUgdGhlIGN1c3RvbVxuICAgICAgICAvLyBjb21wYXJhdG9yLlxuICAgICAgICB0aGlzLll0ID0gbmV3IFNvcnRlZFNldCgoKGUsIHQpID0+IEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IoZS5maWVsZCwgdC5maWVsZCkpKSwgdGhpcy5jb2xsZWN0aW9uSWQgPSBudWxsICE9IGUuY29sbGVjdGlvbkdyb3VwID8gZS5jb2xsZWN0aW9uR3JvdXAgOiBlLnBhdGgubGFzdFNlZ21lbnQoKSwgXG4gICAgICAgIHRoaXMuWnQgPSBlLm9yZGVyQnksIHRoaXMuWHQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUuZmlsdGVycykge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQ7XG4gICAgICAgICAgICBlLmlzSW5lcXVhbGl0eSgpID8gdGhpcy5ZdCA9IHRoaXMuWXQuYWRkKGUpIDogdGhpcy5YdC5wdXNoKGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWXQuc2l6ZSA+IDE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgaW5kZXggY2FuIGJlIHVzZWQgdG8gc2VydmUgdGhlIFRhcmdldEluZGV4TWF0Y2hlcidzXG4gICAgICogdGFyZ2V0LlxuICAgICAqXG4gICAgICogQW4gaW5kZXggaXMgY29uc2lkZXJlZCBjYXBhYmxlIG9mIHNlcnZpbmcgdGhlIHRhcmdldCB3aGVuOlxuICAgICAqIC0gVGhlIHRhcmdldCB1c2VzIGFsbCBpbmRleCBzZWdtZW50cyBmb3IgaXRzIGZpbHRlcnMgYW5kIG9yZGVyQnkgY2xhdXNlcy5cbiAgICAgKiAgIFRoZSB0YXJnZXQgY2FuIGhhdmUgYWRkaXRpb25hbCBmaWx0ZXIgYW5kIG9yZGVyQnkgY2xhdXNlcywgYnV0IG5vdFxuICAgICAqICAgZmV3ZXIuXG4gICAgICogLSBJZiBhbiBBcnJheUNvbnRhaW5zL0FycmF5Q29udGFpbnNBbnlmaWx0ZXIgaXMgdXNlZCwgdGhlIGluZGV4IG11c3QgYWxzb1xuICAgICAqICAgaGF2ZSBhIGNvcnJlc3BvbmRpbmcgYENPTlRBSU5TYCBzZWdtZW50LlxuICAgICAqIC0gQWxsIGRpcmVjdGlvbmFsIGluZGV4IHNlZ21lbnRzIGNhbiBiZSBtYXBwZWQgdG8gdGhlIHRhcmdldCBhcyBhIHNlcmllcyBvZlxuICAgICAqICAgZXF1YWxpdHkgZmlsdGVycywgYSBzaW5nbGUgaW5lcXVhbGl0eSBmaWx0ZXIgYW5kIGEgc2VyaWVzIG9mIG9yZGVyQnlcbiAgICAgKiAgIGNsYXVzZXMuXG4gICAgICogLSBUaGUgc2VnbWVudHMgdGhhdCByZXByZXNlbnQgdGhlIGVxdWFsaXR5IGZpbHRlcnMgbWF5IGFwcGVhciBvdXQgb2Ygb3JkZXIuXG4gICAgICogLSBUaGUgb3B0aW9uYWwgc2VnbWVudCBmb3IgdGhlIGluZXF1YWxpdHkgZmlsdGVyIG11c3QgYXBwZWFyIGFmdGVyIGFsbFxuICAgICAqICAgZXF1YWxpdHkgc2VnbWVudHMuXG4gICAgICogLSBUaGUgc2VnbWVudHMgdGhhdCByZXByZXNlbnQgdGhhdCBvcmRlckJ5IGNsYXVzZSBvZiB0aGUgdGFyZ2V0IG11c3QgYXBwZWFyXG4gICAgICogICBpbiBvcmRlciBhZnRlciBhbGwgZXF1YWxpdHkgYW5kIGluZXF1YWxpdHkgc2VnbWVudHMuIFNpbmdsZSBvcmRlckJ5XG4gICAgICogICBjbGF1c2VzIGNhbm5vdCBiZSBza2lwcGVkLCBidXQgYSBjb250aW51b3VzIG9yZGVyQnkgc3VmZml4IG1heSBiZVxuICAgICAqICAgb21pdHRlZC5cbiAgICAgKi8gICAgdG4oZSkge1xuICAgICAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQoZS5jb2xsZWN0aW9uR3JvdXAgPT09IHRoaXMuY29sbGVjdGlvbklkKSwgdGhpcy5lbikgXG4gICAgICAgIC8vIE9ubHkgc2luZ2xlIGluZXF1YWxpdHkgaXMgc3VwcG9ydGVkIGZvciBub3cuXG4gICAgICAgIC8vIFRPRE8oQWRkIHN1cHBvcnQgZm9yIG11bHRpcGxlIGluZXF1YWxpdHkgcXVlcnkpOiBiLzI5ODQ0MTA0M1xuICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGFycmF5IGVsZW1lbnQsIGZpbmQgYSBtYXRjaGluZyBmaWx0ZXIuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9maWVsZEluZGV4R2V0QXJyYXlTZWdtZW50KGUpO1xuICAgICAgICBpZiAodm9pZCAwICE9PSB0ICYmICF0aGlzLm5uKHQpKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHMoZSk7XG4gICAgICAgIGxldCByID0gbmV3IFNldCwgaSA9IDAsIHMgPSAwO1xuICAgICAgICAvLyBQcm9jZXNzIGFsbCBlcXVhbGl0aWVzIGZpcnN0LiBFcXVhbGl0aWVzIGNhbiBhcHBlYXIgb3V0IG9mIG9yZGVyLlxuICAgICAgICBmb3IgKDtpIDwgbi5sZW5ndGggJiYgdGhpcy5ubihuW2ldKTsgKytpKSByID0gci5hZGQobltpXS5maWVsZFBhdGguY2Fub25pY2FsU3RyaW5nKCkpO1xuICAgICAgICAvLyBJZiB3ZSBhbHJlYWR5IGhhdmUgcHJvY2Vzc2VkIGFsbCBzZWdtZW50cywgYWxsIHNlZ21lbnRzIGFyZSB1c2VkIHRvIHNlcnZlXG4gICAgICAgIC8vIHRoZSBlcXVhbGl0eSBmaWx0ZXJzIGFuZCB3ZSBkbyBub3QgbmVlZCB0byBtYXAgYW55IHNlZ21lbnRzIHRvIHRoZVxuICAgICAgICAvLyB0YXJnZXQncyBpbmVxdWFsaXR5IGFuZCBvcmRlckJ5IGNsYXVzZXMuXG4gICAgICAgICAgICAgICAgaWYgKGkgPT09IG4ubGVuZ3RoKSByZXR1cm4gITA7XG4gICAgICAgIGlmICh0aGlzLll0LnNpemUgPiAwKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGEgc2luZ2xlIGluZXF1YWxpdHkgaXMgY3VycmVudGx5IHN1cHBvcnRlZC4gR2V0IHRoZSBvbmx5IGVudHJ5IGluIHRoZSBzZXQuXG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5ZdC5nZXRJdGVyYXRvcigpLmdldE5leHQoKTtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGlzIGFuIGluZXF1YWxpdHkgZmlsdGVyIGFuZCB0aGUgZmllbGQgd2FzIG5vdCBpbiBvbmUgb2YgdGhlXG4gICAgICAgICAgICAvLyBlcXVhbGl0eSBmaWx0ZXJzIGFib3ZlLCB0aGUgbmV4dCBzZWdtZW50IG11c3QgbWF0Y2ggYm90aCB0aGUgZmlsdGVyXG4gICAgICAgICAgICAvLyBhbmQgdGhlIGZpcnN0IG9yZGVyQnkgY2xhdXNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFyLmhhcyhlLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuW2ldO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5ybihlLCB0KSB8fCAhdGhpcy5zbih0aGlzLlp0W3MrK10sIHQpKSByZXR1cm4gITE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICArK2k7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQWxsIHJlbWFpbmluZyBzZWdtZW50cyBuZWVkIHRvIHJlcHJlc2VudCB0aGUgcHJlZml4IG9mIHRoZSB0YXJnZXQnc1xuICAgICAgICAvLyBvcmRlckJ5LlxuICAgICAgICAgICAgICAgIGZvciAoO2kgPCBuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbltpXTtcbiAgICAgICAgICAgIGlmIChzID49IHRoaXMuWnQubGVuZ3RoIHx8ICF0aGlzLnNuKHRoaXMuWnRbcysrXSwgZSkpIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdWxsIG1hdGNoZWQgZmllbGQgaW5kZXggZm9yIHRoaXMgdGFyZ2V0LiBDdXJyZW50bHkgbXVsdGlwbGVcbiAgICAgKiBpbmVxdWFsaXR5IHF1ZXJ5IGlzIG5vdCBzdXBwb3J0ZWQgc28gZnVuY3Rpb24gcmV0dXJucyBudWxsLlxuICAgICAqLyAgICBvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZW4pIHJldHVybiBudWxsO1xuICAgICAgICAvLyBXZSB3YW50IHRvIG1ha2Ugc3VyZSBvbmx5IG9uZSBzZWdtZW50IGNyZWF0ZWQgZm9yIG9uZSBmaWVsZC4gRm9yIGV4YW1wbGUsXG4gICAgICAgIC8vIGluIGNhc2UgbGlrZSBhID09IDMgYW5kIGEgPiAyLCBJbmRleCB7YSBBU0NFTkRJTkd9IHdpbGwgb25seSBiZSBjcmVhdGVkXG4gICAgICAgIC8vIG9uY2UuXG4gICAgICAgICAgICAgICAgbGV0IGUgPSBuZXcgU29ydGVkU2V0KEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IpO1xuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiB0aGlzLlh0KSB7XG4gICAgICAgICAgICBpZiAobi5maWVsZC5pc0tleUZpZWxkKCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgaWYgKFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyA9PT0gbi5vcCB8fCBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyA9PT0gbi5vcCkgdC5wdXNoKG5ldyBJbmRleFNlZ21lbnQobi5maWVsZCwgMiAvKiBJbmRleEtpbmQuQ09OVEFJTlMgKi8pKTsgZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGUuaGFzKG4uZmllbGQpKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBlID0gZS5hZGQobi5maWVsZCksIHQucHVzaChuZXcgSW5kZXhTZWdtZW50KG4uZmllbGQsIDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIE5vdGU6IFdlIGRvIG5vdCBleHBsaWNpdGx5IGNoZWNrIGB0aGlzLmluZXF1YWxpdHlGaWx0ZXJgIGJ1dCByYXRoZXIgcmVseVxuICAgICAgICAvLyBvbiB0aGUgdGFyZ2V0IGRlZmluaW5nIGFuIGFwcHJvcHJpYXRlIFwib3JkZXIgYnlcIiB0byBlbnN1cmUgdGhhdCB0aGVcbiAgICAgICAgLy8gcmVxdWlyZWQgaW5kZXggc2VnbWVudCBpcyBhZGRlZC4gVGhlIHF1ZXJ5IGVuZ2luZSB3b3VsZCByZWplY3QgYSBxdWVyeVxuICAgICAgICAvLyB3aXRoIGFuIGluZXF1YWxpdHkgZmlsdGVyIHRoYXQgbGFja3MgdGhlIHJlcXVpcmVkIG9yZGVyLWJ5IGNsYXVzZS5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5adCkgXG4gICAgICAgIC8vIFN0b3AgYWRkaW5nIG1vcmUgc2VnbWVudHMgaWYgd2Ugc2VlIGEgb3JkZXItYnkgb24ga2V5LiBUeXBpY2FsbHkgdGhpc1xuICAgICAgICAvLyBpcyB0aGUgZGVmYXVsdCBpbXBsaWNpdCBvcmRlci1ieSB3aGljaCBpcyBjb3ZlcmVkIGluIHRoZSBpbmRleF9lbnRyeVxuICAgICAgICAvLyB0YWJsZSBhcyBhIHNlcGFyYXRlIGNvbHVtbi4gSWYgaXQgaXMgbm90IHRoZSBkZWZhdWx0IG9yZGVyLWJ5LCB0aGVcbiAgICAgICAgLy8gZ2VuZXJhdGVkIGluZGV4IHdpbGwgYmUgbWlzc2luZyBzb21lIHNlZ21lbnRzIG9wdGltaXplZCBmb3Igb3JkZXItYnlzLFxuICAgICAgICAvLyB3aGljaCBpcyBwcm9iYWJseSBmaW5lLlxuICAgICAgICBuLmZpZWxkLmlzS2V5RmllbGQoKSB8fCBlLmhhcyhuLmZpZWxkKSB8fCAoZSA9IGUuYWRkKG4uZmllbGQpLCB0LnB1c2gobmV3IEluZGV4U2VnbWVudChuLmZpZWxkLCBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8gPT09IG4uZGlyID8gMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovIDogMSAvKiBJbmRleEtpbmQuREVTQ0VORElORyAqLykpKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZEluZGV4KEZpZWxkSW5kZXguVU5LTk9XTl9JRCwgdGhpcy5jb2xsZWN0aW9uSWQsIHQsIEluZGV4U3RhdGUuZW1wdHkoKSk7XG4gICAgfVxuICAgIG5uKGUpIHtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHRoaXMuWHQpIGlmICh0aGlzLnJuKHQsIGUpKSByZXR1cm4gITA7XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgcm4oZSwgdCkge1xuICAgICAgICBpZiAodm9pZCAwID09PSBlIHx8ICFlLmZpZWxkLmlzRXF1YWwodC5maWVsZFBhdGgpKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IG4gPSBcImFycmF5LWNvbnRhaW5zXCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlMgKi8gPT09IGUub3AgfHwgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gPT09IGUub3A7XG4gICAgICAgIHJldHVybiAyIC8qIEluZGV4S2luZC5DT05UQUlOUyAqLyA9PT0gdC5raW5kID09PSBuO1xuICAgIH1cbiAgICBzbihlLCB0KSB7XG4gICAgICAgIHJldHVybiAhIWUuZmllbGQuaXNFcXVhbCh0LmZpZWxkUGF0aCkgJiYgKDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLyA9PT0gdC5raW5kICYmIFwiYXNjXCIgLyogRGlyZWN0aW9uLkFTQ0VORElORyAqLyA9PT0gZS5kaXIgfHwgMSAvKiBJbmRleEtpbmQuREVTQ0VORElORyAqLyA9PT0gdC5raW5kICYmIFwiZGVzY1wiIC8qIERpcmVjdGlvbi5ERVNDRU5ESU5HICovID09PSBlLmRpcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQcm92aWRlcyB1dGlsaXR5IGZ1bmN0aW9ucyB0aGF0IGhlbHAgd2l0aCBib29sZWFuIGxvZ2ljIHRyYW5zZm9ybWF0aW9ucyBuZWVkZWQgZm9yIGhhbmRsaW5nXG4gKiBjb21wbGV4IGZpbHRlcnMgdXNlZCBpbiBxdWVyaWVzLlxuICovXG4vKipcbiAqIFRoZSBgaW5gIGZpbHRlciBpcyBvbmx5IGEgc3ludGFjdGljIHN1Z2FyIG92ZXIgYSBkaXNqdW5jdGlvbiBvZiBlcXVhbGl0aWVzLiBGb3IgaW5zdGFuY2U6IGBhIGluXG4gKiBbMSwyLDNdYCBpcyBpbiBmYWN0IGBhPT0xIHx8IGE9PTIgfHwgYT09M2AuIFRoaXMgbWV0aG9kIGV4cGFuZHMgYW55IGBpbmAgZmlsdGVyIGluIHRoZSBnaXZlblxuICogaW5wdXQgaW50byBhIGRpc2p1bmN0aW9uIG9mIGVxdWFsaXR5IGZpbHRlcnMgYW5kIHJldHVybnMgdGhlIGV4cGFuZGVkIGZpbHRlci5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcHV0ZUluRXhwYW5zaW9uKGUpIHtcbiAgICB2YXIgdCwgbjtcbiAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQoZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyIHx8IGUgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpLCBcbiAgICBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfSW5GaWx0ZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSAobnVsbCA9PT0gKG4gPSBudWxsID09PSAodCA9IGUudmFsdWUuYXJyYXlWYWx1ZSkgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC52YWx1ZXMpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4ubWFwKCh0ID0+IEZpZWxkRmlsdGVyLmNyZWF0ZShlLmZpZWxkLCBcIj09XCIgLyogT3BlcmF0b3IuRVFVQUwgKi8gLCB0KSkpKSB8fCBbXTtcbiAgICAgICAgICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKHIsIFwib3JcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5PUiAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gV2UgaGF2ZSByZWFjaGVkIG90aGVyIGtpbmRzIG9mIGZpZWxkIGZpbHRlcnMuXG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbiAgICAvLyBXZSBoYXZlIGEgY29tcG9zaXRlIGZpbHRlci5cbiAgICAgICAgY29uc3QgciA9IGUuZmlsdGVycy5tYXAoKGUgPT4gX19QUklWQVRFX2NvbXB1dGVJbkV4cGFuc2lvbihlKSkpO1xuICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKHIsIGUub3ApO1xufVxuXG4vKipcbiAqIEdpdmVuIGEgY29tcG9zaXRlIGZpbHRlciwgcmV0dXJucyB0aGUgbGlzdCBvZiB0ZXJtcyBpbiBpdHMgZGlzanVuY3RpdmUgbm9ybWFsIGZvcm0uXG4gKlxuICogPHA+RWFjaCBlbGVtZW50IGluIHRoZSByZXR1cm4gdmFsdWUgaXMgb25lIHRlcm0gb2YgdGhlIHJlc3VsdGluZyBETkYuIEZvciBpbnN0YW5jZTogRm9yIHRoZVxuICogaW5wdXQ6IChBIHx8IEIpICYmIEMsIHRoZSBETkYgZm9ybSBpczogKEEgJiYgQykgfHwgKEIgJiYgQyksIGFuZCB0aGUgcmV0dXJuIHZhbHVlIGlzIGEgbGlzdFxuICogd2l0aCB0d28gZWxlbWVudHM6IGEgY29tcG9zaXRlIGZpbHRlciB0aGF0IHBlcmZvcm1zIChBICYmIEMpLCBhbmQgYSBjb21wb3NpdGUgZmlsdGVyIHRoYXRcbiAqIHBlcmZvcm1zIChCICYmIEMpLlxuICpcbiAqIEBwYXJhbSBmaWx0ZXIgdGhlIGNvbXBvc2l0ZSBmaWx0ZXIgdG8gY2FsY3VsYXRlIERORiB0cmFuc2Zvcm0gZm9yLlxuICogQHJldHVybiB0aGUgdGVybXMgaW4gdGhlIERORiB0cmFuc2Zvcm0uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2dldERuZlRlcm1zKGUpIHtcbiAgICBpZiAoMCA9PT0gZS5nZXRGaWx0ZXJzKCkubGVuZ3RoKSByZXR1cm4gW107XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9jb21wdXRlRGlzdHJpYnV0ZWROb3JtYWxGb3JtKF9fUFJJVkFURV9jb21wdXRlSW5FeHBhbnNpb24oZSkpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfaGFyZEFzc2VydChfX1BSSVZBVEVfaXNEaXNqdW5jdGl2ZU5vcm1hbEZvcm0odCkpLCBfX1BSSVZBVEVfaXNTaW5nbGVGaWVsZEZpbHRlcih0KSB8fCBfX1BSSVZBVEVfaXNGbGF0Q29uanVuY3Rpb24odCkgPyBbIHQgXSA6IHQuZ2V0RmlsdGVycygpO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBmaWx0ZXIgaXMgYSBzaW5nbGUgZmllbGQgZmlsdGVyLiBlLmcuIChhID09IDEwKS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzU2luZ2xlRmllbGRGaWx0ZXIoZSkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXI7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBmaWx0ZXIgaXMgdGhlIGNvbmp1bmN0aW9uIG9mIG9uZSBvciBtb3JlIGZpZWxkIGZpbHRlcnMuIGUuZy4gKGEgPT0gMTBcbiAqICYmIGIgPT0gMjApXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzRmxhdENvbmp1bmN0aW9uKGUpIHtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciAmJiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0Q29uanVuY3Rpb24oZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZ2l2ZW4gZmlsdGVyIGlzIGluIGRpc2p1bmN0aXZlIG5vcm1hbCBmb3JtIChETkYpLlxuICpcbiAqIDxwPkluIGJvb2xlYW4gbG9naWMsIGEgZGlzanVuY3RpdmUgbm9ybWFsIGZvcm0gKERORikgaXMgYSBjYW5vbmljYWwgbm9ybWFsIGZvcm0gb2YgYSBsb2dpY2FsXG4gKiBmb3JtdWxhIGNvbnNpc3Rpbmcgb2YgYSBkaXNqdW5jdGlvbiBvZiBjb25qdW5jdGlvbnM7IGl0IGNhbiBhbHNvIGJlIGRlc2NyaWJlZCBhcyBhbiBPUiBvZiBBTkRzLlxuICpcbiAqIDxwPkZvciBtb3JlIGluZm8sIHZpc2l0OiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9EaXNqdW5jdGl2ZV9ub3JtYWxfZm9ybVxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pc0Rpc2p1bmN0aXZlTm9ybWFsRm9ybShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9pc1NpbmdsZUZpZWxkRmlsdGVyKGUpIHx8IF9fUFJJVkFURV9pc0ZsYXRDb25qdW5jdGlvbihlKSB8fCBcbiAgICAvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gZmlsdGVyIGlzIHRoZSBkaXNqdW5jdGlvbiBvZiBvbmUgb3IgbW9yZSBcImZsYXQgY29uanVuY3Rpb25zXCIgYW5kXG4gKiBmaWVsZCBmaWx0ZXJzLiBlLmcuIChhID09IDEwKSB8fCAoYj09MjAgJiYgYz09MzApXG4gKi9cbiAgICBmdW5jdGlvbiBfX1BSSVZBVEVfaXNEaXNqdW5jdGlvbk9mRmllbGRGaWx0ZXJzQW5kRmxhdENvbmp1bmN0aW9ucyhlKSB7XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Rpc2p1bmN0aW9uKGUpKSB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5nZXRGaWx0ZXJzKCkpIGlmICghX19QUklWQVRFX2lzU2luZ2xlRmllbGRGaWx0ZXIodCkgJiYgIV9fUFJJVkFURV9pc0ZsYXRDb25qdW5jdGlvbih0KSkgcmV0dXJuICExO1xuICAgICAgICAgICAgcmV0dXJuICEwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9KGUpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29tcHV0ZURpc3RyaWJ1dGVkTm9ybWFsRm9ybShlKSB7XG4gICAgaWYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciB8fCBlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyKSwgXG4gICAgZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyKSByZXR1cm4gZTtcbiAgICBpZiAoMSA9PT0gZS5maWx0ZXJzLmxlbmd0aCkgcmV0dXJuIF9fUFJJVkFURV9jb21wdXRlRGlzdHJpYnV0ZWROb3JtYWxGb3JtKGUuZmlsdGVyc1swXSk7XG4gICAgLy8gQ29tcHV0ZSBETkYgZm9yIGVhY2ggb2YgdGhlIHN1YmZpbHRlcnMgZmlyc3RcbiAgICAgICAgY29uc3QgdCA9IGUuZmlsdGVycy5tYXAoKGUgPT4gX19QUklWQVRFX2NvbXB1dGVEaXN0cmlidXRlZE5vcm1hbEZvcm0oZSkpKTtcbiAgICBsZXQgbiA9IENvbXBvc2l0ZUZpbHRlci5jcmVhdGUodCwgZS5vcCk7XG4gICAgcmV0dXJuIG4gPSBfX1BSSVZBVEVfYXBwbHlBc3NvY2lhdGlvbihuKSwgX19QUklWQVRFX2lzRGlzanVuY3RpdmVOb3JtYWxGb3JtKG4pID8gbiA6IChfX1BSSVZBVEVfaGFyZEFzc2VydChuIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyKSwgXG4gICAgX19QUklWQVRFX2hhcmRBc3NlcnQoX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24obikpLCBfX1BSSVZBVEVfaGFyZEFzc2VydChuLmZpbHRlcnMubGVuZ3RoID4gMSksIFxuICAgIG4uZmlsdGVycy5yZWR1Y2UoKChlLCB0KSA9PiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb24oZSwgdCkpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbihlLCB0KSB7XG4gICAgbGV0IG47XG4gICAgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciB8fCBlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyKSwgXG4gICAgX19QUklWQVRFX2hhcmRBc3NlcnQodCBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyIHx8IHQgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpLCBcbiAgICAvLyBGaWVsZEZpbHRlciBGaWVsZEZpbHRlclxuICAgIG4gPSBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyB0IGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEZpbHRlcnMoZSwgdCkge1xuICAgICAgICAvLyBDb25qdW5jdGlvbiBkaXN0cmlidXRpb24gZm9yIHR3byBmaWVsZCBmaWx0ZXJzIGlzIHRoZSBjb25qdW5jdGlvbiBvZiB0aGVtLlxuICAgICAgICByZXR1cm4gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShbIGUsIHQgXSwgXCJhbmRcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5BTkQgKi8pO1xuICAgIH0oZSwgdCkgOiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEFuZENvbXBvc2l0ZUZpbHRlcnMoZSwgdCkgOiB0IGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEFuZENvbXBvc2l0ZUZpbHRlcnModCwgZSkgOiBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25Db21wb3NpdGVGaWx0ZXJzKGUsIHQpIHtcbiAgICAgICAgLy8gVGhlcmUgYXJlIGZvdXIgY2FzZXM6XG4gICAgICAgIC8vIChBICYgQikgJiAoQyAmIEQpIC0tPiAoQSAmIEIgJiBDICYgRClcbiAgICAgICAgLy8gKEEgJiBCKSAmIChDIHwgRCkgLS0+IChBICYgQiAmIEMpIHwgKEEgJiBCICYgRClcbiAgICAgICAgLy8gKEEgfCBCKSAmIChDICYgRCkgLS0+IChDICYgRCAmIEEpIHwgKEMgJiBEICYgQilcbiAgICAgICAgLy8gKEEgfCBCKSAmIChDIHwgRCkgLS0+IChBICYgQykgfCAoQSAmIEQpIHwgKEIgJiBDKSB8IChCICYgRClcbiAgICAgICAgLy8gQ2FzZSAxIGlzIGEgbWVyZ2UuXG4gICAgICAgIGlmIChfX1BSSVZBVEVfaGFyZEFzc2VydChlLmZpbHRlcnMubGVuZ3RoID4gMCAmJiB0LmZpbHRlcnMubGVuZ3RoID4gMCksIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKGUpICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKHQpKSByZXR1cm4gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcldpdGhBZGRlZEZpbHRlcnMoZSwgdC5nZXRGaWx0ZXJzKCkpO1xuICAgICAgICAvLyBDYXNlIDIsMyw0IGFsbCBoYXZlIGF0IGxlYXN0IG9uZSBzaWRlIChsaHMgb3IgcmhzKSB0aGF0IGlzIGEgZGlzanVuY3Rpb24uIEluIGFsbCB0aHJlZSBjYXNlc1xuICAgICAgICAvLyB3ZSBzaG91bGQgdGFrZSBlYWNoIGVsZW1lbnQgb2YgdGhlIGRpc2p1bmN0aW9uIGFuZCBkaXN0cmlidXRlIGl0IG92ZXIgdGhlIG90aGVyIHNpZGUsIGFuZFxuICAgICAgICAvLyByZXR1cm4gdGhlIGRpc2p1bmN0aW9uIG9mIHRoZSBkaXN0cmlidXRpb24gcmVzdWx0cy5cbiAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRGlzanVuY3Rpb24oZSkgPyBlIDogdCwgciA9IF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Rpc2p1bmN0aW9uKGUpID8gdCA6IGUsIGkgPSBuLmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbihlLCByKSkpO1xuICAgICAgICByZXR1cm4gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShpLCBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi8pO1xuICAgIH0oZSwgdCksIF9fUFJJVkFURV9hcHBseUFzc29jaWF0aW9uKG4pO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlEaXN0cmlidXRpb25GaWVsZEFuZENvbXBvc2l0ZUZpbHRlcnMoZSwgdCkge1xuICAgIC8vIFRoZXJlIGFyZSB0d28gY2FzZXM6XG4gICAgLy8gQSAmIChCICYgQykgLS0+IChBICYgQiAmIEMpXG4gICAgLy8gQSAmIChCIHwgQykgLS0+IChBICYgQikgfCAoQSAmIEMpXG4gICAgaWYgKF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uKHQpKSBcbiAgICAvLyBDYXNlIDFcbiAgICByZXR1cm4gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcldpdGhBZGRlZEZpbHRlcnModCwgZS5nZXRGaWx0ZXJzKCkpO1xuICAgIHtcbiAgICAgICAgLy8gQ2FzZSAyXG4gICAgICAgIGNvbnN0IG4gPSB0LmZpbHRlcnMubWFwKCh0ID0+IF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbihlLCB0KSkpO1xuICAgICAgICByZXR1cm4gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShuLCBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi8pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoZSBhc3NvY2lhdGl2aXR5IHByb3BlcnR5IHRvIHRoZSBnaXZlbiBmaWx0ZXIgYW5kIHJldHVybnMgdGhlIHJlc3VsdGluZyBmaWx0ZXIuXG4gKlxuICogPHVsPlxuICogICA8bGk+QSB8IChCIHwgQykgPT0gKEEgfCBCKSB8IEMgPT0gKEEgfCBCIHwgQylcbiAqICAgPGxpPkEgJiAoQiAmIEMpID09IChBICYgQikgJiBDID09IChBICYgQiAmIEMpXG4gKiA8L3VsPlxuICpcbiAqIDxwPkZvciBtb3JlIGluZm8sIHZpc2l0OiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Bc3NvY2lhdGl2ZV9wcm9wZXJ0eSNQcm9wb3NpdGlvbmFsX2xvZ2ljXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5QXNzb2NpYXRpb24oZSkge1xuICAgIGlmIChfX1BSSVZBVEVfaGFyZEFzc2VydChlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgfHwgZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciksIFxuICAgIGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlcikgcmV0dXJuIGU7XG4gICAgY29uc3QgdCA9IGUuZ2V0RmlsdGVycygpO1xuICAgIC8vIElmIHRoZSBjb21wb3NpdGUgZmlsdGVyIG9ubHkgY29udGFpbnMgMSBmaWx0ZXIsIGFwcGx5IGFzc29jaWF0aXZpdHkgdG8gaXQuXG4gICAgICAgIGlmICgxID09PSB0Lmxlbmd0aCkgcmV0dXJuIF9fUFJJVkFURV9hcHBseUFzc29jaWF0aW9uKHRbMF0pO1xuICAgIC8vIEFzc29jaWF0aXZpdHkgYXBwbGllZCB0byBhIGZsYXQgY29tcG9zaXRlIGZpbHRlciByZXN1bHRzIGlzIGl0c2VsZi5cbiAgICAgICAgaWYgKF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXQoZSkpIHJldHVybiBlO1xuICAgIC8vIEZpcnN0IGFwcGx5IGFzc29jaWF0aXZpdHkgdG8gYWxsIHN1YmZpbHRlcnMuIFRoaXMgd2lsbCBpbiB0dXJuIHJlY3Vyc2l2ZWx5IGFwcGx5XG4gICAgLy8gYXNzb2NpYXRpdml0eSB0byBhbGwgbmVzdGVkIGNvbXBvc2l0ZSBmaWx0ZXJzIGFuZCBmaWVsZCBmaWx0ZXJzLlxuICAgICAgICBjb25zdCBuID0gdC5tYXAoKGUgPT4gX19QUklWQVRFX2FwcGx5QXNzb2NpYXRpb24oZSkpKSwgciA9IFtdO1xuICAgIC8vIEZvciBjb21wb3NpdGUgc3ViZmlsdGVycyB0aGF0IHBlcmZvcm0gdGhlIHNhbWUga2luZCBvZiBsb2dpY2FsIG9wZXJhdGlvbiBhcyBgY29tcG9zaXRlRmlsdGVyYFxuICAgIC8vIHRha2Ugb3V0IHRoZWlyIGZpbHRlcnMgYW5kIGFkZCB0aGVtIHRvIGBjb21wb3NpdGVGaWx0ZXJgLiBGb3IgZXhhbXBsZTpcbiAgICAvLyBjb21wb3NpdGVGaWx0ZXIgPSAoQSB8IChCIHwgQyB8IEQpKVxuICAgIC8vIGNvbXBvc2l0ZVN1YmZpbHRlciA9IChCIHwgQyB8IEQpXG4gICAgLy8gUmVzdWx0OiAoQSB8IEIgfCBDIHwgRClcbiAgICAvLyBOb3RlIHRoYXQgdGhlIGBjb21wb3NpdGVTdWJmaWx0ZXJgIGhhcyBiZWVuIGVsaW1pbmF0ZWQsIGFuZCBpdHMgZmlsdGVycyAoQiwgQywgRCkgaGF2ZSBiZWVuXG4gICAgLy8gYWRkZWQgdG8gdGhlIHRvcC1sZXZlbCBcImNvbXBvc2l0ZUZpbHRlclwiLlxuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgdCBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyID8gci5wdXNoKHQpIDogdCBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciAmJiAodC5vcCA9PT0gZS5vcCA/IFxuICAgICAgICAvLyBjb21wb3NpdGVGaWx0ZXI6IChBIHwgKEIgfCBDKSlcbiAgICAgICAgLy8gY29tcG9zaXRlU3ViZmlsdGVyOiAoQiB8IEMpXG4gICAgICAgIC8vIFJlc3VsdDogKEEgfCBCIHwgQylcbiAgICAgICAgci5wdXNoKC4uLnQuZmlsdGVycykgOiBcbiAgICAgICAgLy8gY29tcG9zaXRlRmlsdGVyOiAoQSB8IChCICYgQykpXG4gICAgICAgIC8vIGNvbXBvc2l0ZVN1YmZpbHRlcjogKEIgJiBDKVxuICAgICAgICAvLyBSZXN1bHQ6IChBIHwgKEIgJiBDKSlcbiAgICAgICAgci5wdXNoKHQpKTtcbiAgICB9KSksIDEgPT09IHIubGVuZ3RoID8gclswXSA6IENvbXBvc2l0ZUZpbHRlci5jcmVhdGUociwgZS5vcCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGluLW1lbW9yeSBpbXBsZW1lbnRhdGlvbiBvZiBJbmRleE1hbmFnZXIuXG4gKi8gY2xhc3MgX19QUklWQVRFX01lbW9yeUluZGV4TWFuYWdlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX24gPSBuZXcgX19QUklWQVRFX01lbW9yeUNvbGxlY3Rpb25QYXJlbnRJbmRleDtcbiAgICB9XG4gICAgYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbi5hZGQodCksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldENvbGxlY3Rpb25QYXJlbnRzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuX24uZ2V0RW50cmllcyh0KSk7XG4gICAgfVxuICAgIGFkZEZpZWxkSW5kZXgoZSwgdCkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZGVsZXRlRmllbGRJbmRleChlLCB0KSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBkZWxldGVBbGxGaWVsZEluZGV4ZXMoZSkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgY3JlYXRlVGFyZ2V0SW5kZXhlcyhlLCB0KSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXREb2N1bWVudHNNYXRjaGluZ1RhcmdldChlLCB0KSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgZ2V0SW5kZXhUeXBlKGUsIHQpIHtcbiAgICAgICAgLy8gRmllbGQgaW5kaWNlcyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIG1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKDAgLyogSW5kZXhUeXBlLk5PTkUgKi8pO1xuICAgIH1cbiAgICBnZXRGaWVsZEluZGV4ZXMoZSwgdCkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoW10pO1xuICAgIH1cbiAgICBnZXROZXh0Q29sbGVjdGlvbkdyb3VwVG9VcGRhdGUoZSkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgfVxuICAgIGdldE1pbk9mZnNldChlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShJbmRleE9mZnNldC5taW4oKSk7XG4gICAgfVxuICAgIGdldE1pbk9mZnNldEZyb21Db2xsZWN0aW9uR3JvdXAoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoSW5kZXhPZmZzZXQubWluKCkpO1xuICAgIH1cbiAgICB1cGRhdGVDb2xsZWN0aW9uR3JvdXAoZSwgdCwgbikge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdXBkYXRlSW5kZXhFbnRyaWVzKGUsIHQpIHtcbiAgICAgICAgLy8gRmllbGQgaW5kaWNlcyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIG1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEludGVybmFsIGltcGxlbWVudGF0aW9uIG9mIHRoZSBjb2xsZWN0aW9uLXBhcmVudCBpbmRleCBleHBvc2VkIGJ5IE1lbW9yeUluZGV4TWFuYWdlci5cbiAqIEFsc28gdXNlZCBmb3IgaW4tbWVtb3J5IGNhY2hpbmcgYnkgSW5kZXhlZERiSW5kZXhNYW5hZ2VyIGFuZCBpbml0aWFsIGluZGV4IHBvcHVsYXRpb25cbiAqIGluIGluZGV4ZWRkYl9zY2hlbWEudHNcbiAqLyBjbGFzcyBfX1BSSVZBVEVfTWVtb3J5Q29sbGVjdGlvblBhcmVudEluZGV4IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5pbmRleCA9IHt9O1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGZhbHNlIGlmIHRoZSBlbnRyeSBhbHJlYWR5IGV4aXN0ZWQuXG4gICAgYWRkKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUubGFzdFNlZ21lbnQoKSwgbiA9IGUucG9wTGFzdCgpLCByID0gdGhpcy5pbmRleFt0XSB8fCBuZXcgU29ydGVkU2V0KFJlc291cmNlUGF0aC5jb21wYXJhdG9yKSwgaSA9ICFyLmhhcyhuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhbdF0gPSByLmFkZChuKSwgaTtcbiAgICB9XG4gICAgaGFzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUubGFzdFNlZ21lbnQoKSwgbiA9IGUucG9wTGFzdCgpLCByID0gdGhpcy5pbmRleFt0XTtcbiAgICAgICAgcmV0dXJuIHIgJiYgci5oYXMobik7XG4gICAgfVxuICAgIGdldEVudHJpZXMoZSkge1xuICAgICAgICByZXR1cm4gKHRoaXMuaW5kZXhbZV0gfHwgbmV3IFNvcnRlZFNldChSZXNvdXJjZVBhdGguY29tcGFyYXRvcikpLnRvQXJyYXkoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IGRlID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbi8qKlxuICogQSBwZXJzaXN0ZWQgaW1wbGVtZW50YXRpb24gb2YgSW5kZXhNYW5hZ2VyLlxuICpcbiAqIFBPUlRJTkcgTk9URTogVW5saWtlIGlPUyBhbmQgQW5kcm9pZCwgdGhlIFdlYiBTREsgZG9lcyBub3QgbWVtb2l6ZSBpbmRleFxuICogZGF0YSBhcyBpdCBzdXBwb3J0cyBtdWx0aS10YWIgYWNjZXNzLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiSW5kZXhNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJZCA9IHQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQW4gaW4tbWVtb3J5IGNvcHkgb2YgdGhlIGluZGV4IGVudHJpZXMgd2UndmUgYWxyZWFkeSB3cml0dGVuIHNpbmNlIHRoZSBTREtcbiAgICAgICAgICogbGF1bmNoZWQuIFVzZWQgdG8gYXZvaWQgcmUtd3JpdGluZyB0aGUgc2FtZSBlbnRyeSByZXBlYXRlZGx5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzICpOT1QqIGEgY29tcGxldGUgY2FjaGUgb2Ygd2hhdCdzIGluIHBlcnNpc3RlbmNlIGFuZCBzbyBjYW4gbmV2ZXIgYmVcbiAgICAgICAgICogdXNlZCB0byBzYXRpc2Z5IHJlYWRzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5hbiA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5Q29sbGVjdGlvblBhcmVudEluZGV4LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgZnJvbSBhIHRhcmdldCB0byBpdHMgZXF1aXZhbGVudCBsaXN0IG9mIHN1Yi10YXJnZXRzLiBFYWNoIHN1Yi10YXJnZXRcbiAgICAgICAgICogY29udGFpbnMgb25seSBvbmUgdGVybSBmcm9tIHRoZSB0YXJnZXQncyBkaXNqdW5jdGl2ZSBub3JtYWwgZm9ybSAoRE5GKS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudW4gPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeVRhcmdldChlKSksICgoZSwgdCkgPT4gX19QUklWQVRFX3RhcmdldEVxdWFscyhlLCB0KSkpLCBcbiAgICAgICAgdGhpcy51aWQgPSBlLnVpZCB8fCBcIlwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGVudHJ5IHRvIHRoZSBjb2xsZWN0aW9uIHBhcmVudCBpbmRleC5cbiAgICAgKlxuICAgICAqIFJlcGVhdGVkIGNhbGxzIGZvciB0aGUgc2FtZSBjb2xsZWN0aW9uUGF0aCBzaG91bGQgYmUgYXZvaWRlZCB3aXRoaW4gYVxuICAgICAqIHRyYW5zYWN0aW9uIGFzIEluZGV4ZWREYkluZGV4TWFuYWdlciBvbmx5IGNhY2hlcyB3cml0ZXMgb25jZSBhIHRyYW5zYWN0aW9uXG4gICAgICogaGFzIGJlZW4gY29tbWl0dGVkLlxuICAgICAqLyAgICBhZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLCB0KSB7XG4gICAgICAgIGlmICghdGhpcy5hbi5oYXModCkpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0Lmxhc3RTZWdtZW50KCksIHIgPSB0LnBvcExhc3QoKTtcbiAgICAgICAgICAgIGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcigoKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEFkZCB0aGUgY29sbGVjdGlvbiB0byB0aGUgaW4gbWVtb3J5IGNhY2hlIG9ubHkgaWYgdGhlIHRyYW5zYWN0aW9uIHdhc1xuICAgICAgICAgICAgICAgIC8vIHN1Y2Nlc3NmdWxseSBjb21taXR0ZWQuXG4gICAgICAgICAgICAgICAgdGhpcy5hbi5hZGQodCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjb25zdCBpID0ge1xuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25JZDogbixcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgocilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2NvbGxlY3Rpb25QYXJlbnRzU3RvcmUoZSkucHV0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXRDb2xsZWN0aW9uUGFyZW50cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXSwgciA9IElEQktleVJhbmdlLmJvdW5kKFsgdCwgXCJcIiBdLCBbIF9fUFJJVkFURV9pbW1lZGlhdGVTdWNjZXNzb3IodCksIFwiXCIgXSwgXG4gICAgICAgIC8qbG93ZXJPcGVuPSovICExLCBcbiAgICAgICAgLyp1cHBlck9wZW49Ki8gITApO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2NvbGxlY3Rpb25QYXJlbnRzU3RvcmUoZSkuVShyKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiBlKSB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjb2xsZWN0aW9uSWQgZ3VhcmQgc2hvdWxkbid0IGJlIG5lY2Vzc2FyeSAoYW5kIGlzbid0IGFzIGxvbmdcbiAgICAgICAgICAgICAgICAvLyBhcyB3ZSdyZSBydW5uaW5nIGluIGEgcmVhbCBicm93c2VyKSwgYnV0IHRoZXJlJ3MgYSBidWcgaW5cbiAgICAgICAgICAgICAgICAvLyBpbmRleGVkZGJzaGltIHRoYXQgYnJlYWtzIG91ciByYW5nZSBpbiBvdXIgdGVzdHMgcnVubmluZyBpbiBub2RlOlxuICAgICAgICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9heGVtY2xpb24vSW5kZXhlZERCU2hpbS9pc3N1ZXMvMzM0XG4gICAgICAgICAgICAgICAgaWYgKHIuY29sbGVjdGlvbklkICE9PSB0KSBicmVhaztcbiAgICAgICAgICAgICAgICBuLnB1c2goX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChyLnBhcmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgYWRkRmllbGRJbmRleChlLCB0KSB7XG4gICAgICAgIC8vIFRPRE8oaW5kZXhpbmcpOiBWZXJpZnkgdGhhdCB0aGUgYXV0by1pbmNyZW1lbnRpbmcgaW5kZXggSUQgd29ya3MgaW5cbiAgICAgICAgLy8gU2FmYXJpICYgRmlyZWZveC5cbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9pbmRleENvbmZpZ3VyYXRpb25TdG9yZShlKSwgciA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiSW5kZXhDb25maWd1cmF0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaW5kZXhJZDogZS5pbmRleElkLFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Hcm91cDogZS5jb2xsZWN0aW9uR3JvdXAsXG4gICAgICAgICAgICAgICAgZmllbGRzOiBlLmZpZWxkcy5tYXAoKGUgPT4gWyBlLmZpZWxkUGF0aC5jYW5vbmljYWxTdHJpbmcoKSwgZS5raW5kIF0pKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSh0KTtcbiAgICAgICAgZGVsZXRlIHIuaW5kZXhJZDtcbiAgICAgICAgLy8gYGluZGV4SWRgIGlzIGF1dG8tcG9wdWxhdGVkIGJ5IEluZGV4ZWREYlxuICAgICAgICBjb25zdCBpID0gbi5hZGQocik7XG4gICAgICAgIGlmICh0LmluZGV4U3RhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlKGUpO1xuICAgICAgICAgICAgcmV0dXJuIGkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgbi5wdXQoX19QUklWQVRFX3RvRGJJbmRleFN0YXRlKGUsIHRoaXMudWlkLCB0LmluZGV4U3RhdGUuc2VxdWVuY2VOdW1iZXIsIHQuaW5kZXhTdGF0ZS5vZmZzZXQpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaS5uZXh0KCk7XG4gICAgfVxuICAgIGRlbGV0ZUZpZWxkSW5kZXgoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlKGUpLCByID0gX19QUklWQVRFX2luZGV4U3RhdGVTdG9yZShlKSwgaSA9IF9fUFJJVkFURV9pbmRleEVudHJpZXNTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIG4uZGVsZXRlKHQuaW5kZXhJZCkubmV4dCgoKCkgPT4gci5kZWxldGUoSURCS2V5UmFuZ2UuYm91bmQoWyB0LmluZGV4SWQgXSwgWyB0LmluZGV4SWQgKyAxIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgIC8qdXBwZXJPcGVuPSovICEwKSkpKS5uZXh0KCgoKSA9PiBpLmRlbGV0ZShJREJLZXlSYW5nZS5ib3VuZChbIHQuaW5kZXhJZCBdLCBbIHQuaW5kZXhJZCArIDEgXSwgXG4gICAgICAgIC8qbG93ZXJPcGVuPSovICExLCBcbiAgICAgICAgLyp1cHBlck9wZW49Ki8gITApKSkpO1xuICAgIH1cbiAgICBkZWxldGVBbGxGaWVsZEluZGV4ZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlKGUpLCBuID0gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpLCByID0gX19QUklWQVRFX2luZGV4U3RhdGVTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIHQuaigpLm5leHQoKCgpID0+IG4uaigpKSkubmV4dCgoKCkgPT4gci5qKCkpKTtcbiAgICB9XG4gICAgY3JlYXRlVGFyZ2V0SW5kZXhlcyhlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0aGlzLmNuKHQpLCAodCA9PiB0aGlzLmdldEluZGV4VHlwZShlLCB0KS5uZXh0KChuID0+IHtcbiAgICAgICAgICAgIGlmICgwIC8qIEluZGV4VHlwZS5OT05FICovID09PSBuIHx8IDEgLyogSW5kZXhUeXBlLlBBUlRJQUwgKi8gPT09IG4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9UYXJnZXRJbmRleE1hdGNoZXIodCkub24oKTtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBuKSByZXR1cm4gdGhpcy5hZGRGaWVsZEluZGV4KGUsIG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRzTWF0Y2hpbmdUYXJnZXQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpO1xuICAgICAgICBsZXQgciA9ICEwO1xuICAgICAgICBjb25zdCBpID0gbmV3IE1hcDtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHRoaXMuY24odCksICh0ID0+IHRoaXMubG4oZSwgdCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICByICYmIChyID0gISFlKSwgaS5zZXQodCwgZSk7XG4gICAgICAgIH0pKSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKGksICgoaSwgcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleGVkRGJJbmRleE1hbmFnZXJcIiwgYFVzaW5nIGluZGV4ICR7ZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkSW5kZXhUb1N0cmluZyhlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYGlkPSR7ZS5pbmRleElkfXxjZz0ke2UuY29sbGVjdGlvbkdyb3VwfXxmPSR7ZS5maWVsZHMubWFwKChlID0+IGAke2UuZmllbGRQYXRofToke2Uua2luZH1gKSkuam9pbihcIixcIil9YDtcbiAgICAgICAgICAgICAgICAgICAgfShpKX0gdG8gZXhlY3V0ZSAke19fUFJJVkFURV9jYW5vbmlmeVRhcmdldCh0KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IGZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRHZXRBcnJheVZhbHVlcyhlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2ZpZWxkSW5kZXhHZXRBcnJheVNlZ21lbnQodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodm9pZCAwID09PSBuKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBfX1BSSVZBVEVfdGFyZ2V0R2V0RmllbGRGaWx0ZXJzRm9yUGF0aChlLCBuLmZpZWxkUGF0aCkpIHN3aXRjaCAodC5vcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdC52YWx1ZS5hcnJheVZhbHVlLnZhbHVlcyB8fCBbXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgdC52YWx1ZSBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbWFpbmluZyBmaWx0ZXJzIGFyZSBub3QgYXJyYXkgZmlsdGVycy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICogUmV0dXJucyB0aGUgbGlzdCBvZiB2YWx1ZXMgdGhhdCBhcmUgdXNlZCBpbiAhPSBvciBOT1RfSU4gZmlsdGVycy4gUmV0dXJuc1xuICogYG51bGxgIGlmIHRoZXJlIGFyZSBubyBzdWNoIGZpbHRlcnMuXG4gKi8gKHMsIGkpLCBfID0gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldE5vdEluVmFsdWVzKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgTWFwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyh0KSkgZm9yIChjb25zdCB0IG9mIF9fUFJJVkFURV90YXJnZXRHZXRGaWVsZEZpbHRlcnNGb3JQYXRoKGUsIHIuZmllbGRQYXRoKSkgc3dpdGNoICh0Lm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuY29kZSBlcXVhbGl0eSBwcmVmaXgsIHdoaWNoIGlzIGVuY29kZWQgaW4gdGhlIGluZGV4IHZhbHVlIGJlZm9yZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSBpbmVxdWFsaXR5IChlLmcuIGBhID09ICdhJyAmJiBiICE9ICdiJ2AgaXMgZW5jb2RlZCB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGB2YWx1ZSAhPSAnYWInYCkuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5zZXQoci5maWVsZFBhdGguY2Fub25pY2FsU3RyaW5nKCksIHQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5vdEluL05vdEVxdWFsIGlzIGFsd2F5cyBhIHN1ZmZpeC4gVGhlcmUgY2Fubm90IGJlIGFueSByZW1haW5pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZWdtZW50cyBhbmQgaGVuY2Ugd2UgY2FuIHJldHVybiBlYXJseSBoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLnNldChyLmZpZWxkUGF0aC5jYW5vbmljYWxTdHJpbmcoKSwgdC52YWx1ZSksIEFycmF5LmZyb20obi52YWx1ZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtYWluaW5nIGZpbHRlcnMgY2Fubm90IGJlIHVzZWQgYXMgbm90SW4gYm91bmRzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIGEgbG93ZXIgYm91bmQgb2YgZmllbGQgdmFsdWVzIHRoYXQgY2FuIGJlIHVzZWQgYXMgYSBzdGFydGluZyBwb2ludCB0b1xuICogc2NhbiB0aGUgaW5kZXggZGVmaW5lZCBieSBgZmllbGRJbmRleGAuIFJldHVybnMgYE1JTl9WQUxVRWAgaWYgbm8gbG93ZXIgYm91bmRcbiAqIGV4aXN0cy5cbiAqLyAocywgaSksIGEgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0TG93ZXJCb3VuZChlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgciA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGVhY2ggc2VnbWVudCwgcmV0cmlldmUgYSBsb3dlciBib3VuZCBpZiB0aGVyZSBpcyBhIHN1aXRhYmxlIGZpbHRlciBvclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnRBdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHModCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovID09PSBpLmtpbmQgPyBfX1BSSVZBVEVfdGFyZ2V0R2V0QXNjZW5kaW5nQm91bmQoZSwgaS5maWVsZFBhdGgsIGUuc3RhcnRBdCkgOiBfX1BSSVZBVEVfdGFyZ2V0R2V0RGVzY2VuZGluZ0JvdW5kKGUsIGkuZmllbGRQYXRoLCBlLnN0YXJ0QXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaCh0LnZhbHVlKSwgciAmJiAociA9IHQuaW5jbHVzaXZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmQobiwgcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIGFuIHVwcGVyIGJvdW5kIG9mIGZpZWxkIHZhbHVlcyB0aGF0IGNhbiBiZSB1c2VkIGFzIGFuIGVuZGluZyBwb2ludFxuICogd2hlbiBzY2FubmluZyB0aGUgaW5kZXggZGVmaW5lZCBieSBgZmllbGRJbmRleGAuIFJldHVybnMgYE1BWF9WQUxVRWAgaWYgbm9cbiAqIHVwcGVyIGJvdW5kIGV4aXN0cy5cbiAqLyAocywgaSksIHUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0VXBwZXJCb3VuZChlLCB0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgciA9ICEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRm9yIGVhY2ggc2VnbWVudCwgcmV0cmlldmUgYW4gdXBwZXIgYm91bmQgaWYgdGhlcmUgaXMgYSBzdWl0YWJsZSBmaWx0ZXIgb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVuZEF0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSAwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8gPT09IGkua2luZCA/IF9fUFJJVkFURV90YXJnZXRHZXREZXNjZW5kaW5nQm91bmQoZSwgaS5maWVsZFBhdGgsIGUuZW5kQXQpIDogX19QUklWQVRFX3RhcmdldEdldEFzY2VuZGluZ0JvdW5kKGUsIGkuZmllbGRQYXRoLCBlLmVuZEF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnB1c2godC52YWx1ZSksIHIgJiYgKHIgPSB0LmluY2x1c2l2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEJvdW5kKG4sIHIpO1xuICAgICAgICAgICAgICAgICAgICB9KHMsIGkpLCBjID0gdGhpcy5obihpLCBzLCBhKSwgbCA9IHRoaXMuaG4oaSwgcywgdSksIGggPSB0aGlzLlBuKGksIHMsIF8pLCBQID0gdGhpcy5JbihpLmluZGV4SWQsIG8sIGMsIGEuaW5jbHVzaXZlLCBsLCB1LmluY2x1c2l2ZSwgaCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChQLCAoaSA9PiBuLkcoaSwgdC5saW1pdCkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBEb2N1bWVudEtleS5mcm9tU2VnbWVudHModC5kb2N1bWVudEtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5oYXMobikgfHwgKGUgPSBlLmFkZChuKSwgci5wdXNoKG4pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgICAgICAgICAgfSkpLm5leHQoKCgpID0+IHIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjbihlKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy51bi5nZXQoZSk7XG4gICAgICAgIGlmICh0KSByZXR1cm4gdDtcbiAgICAgICAgaWYgKDAgPT09IGUuZmlsdGVycy5sZW5ndGgpIHQgPSBbIGUgXTsgZWxzZSB7XG4gICAgICAgICAgICB0ID0gX19QUklWQVRFX2dldERuZlRlcm1zKENvbXBvc2l0ZUZpbHRlci5jcmVhdGUoZS5maWx0ZXJzLCBcImFuZFwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLkFORCAqLykpLm1hcCgodCA9PiBfX1BSSVZBVEVfbmV3VGFyZ2V0KGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIGUub3JkZXJCeSwgdC5nZXRGaWx0ZXJzKCksIGUubGltaXQsIGUuc3RhcnRBdCwgZS5lbmRBdCkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy51bi5zZXQoZSwgdCksIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnN0cnVjdHMgYSBrZXkgcmFuZ2UgcXVlcnkgb24gYERiSW5kZXhFbnRyeVN0b3JlYCB0aGF0IHVuaW9ucyBhbGxcbiAgICAgKiBib3VuZHMuXG4gICAgICovICAgIEluKGUsIHQsIG4sIHIsIGksIHMsIG8pIHtcbiAgICAgICAgLy8gVGhlIG51bWJlciBvZiB0b3RhbCBpbmRleCBzY2FucyB3ZSB1bmlvbiB0b2dldGhlci4gVGhpcyBpcyBzaW1pbGFyIHRvIGFcbiAgICAgICAgLy8gZGlzdHJpYnV0ZWQgbm9ybWFsIGZvcm0sIGJ1dCBhZGFwdGVkIGZvciBhcnJheSB2YWx1ZXMuIFdlIGNyZWF0ZSBhIHNpbmdsZVxuICAgICAgICAvLyBpbmRleCByYW5nZSBwZXIgdmFsdWUgaW4gYW4gQVJSQVlfQ09OVEFJTlMgb3IgQVJSQVlfQ09OVEFJTlNfQU5ZIGZpbHRlclxuICAgICAgICAvLyBjb21iaW5lZCB3aXRoIHRoZSB2YWx1ZXMgZnJvbSB0aGUgcXVlcnkgYm91bmRzLlxuICAgICAgICBjb25zdCBfID0gKG51bGwgIT0gdCA/IHQubGVuZ3RoIDogMSkgKiBNYXRoLm1heChuLmxlbmd0aCwgaS5sZW5ndGgpLCBhID0gXyAvIChudWxsICE9IHQgPyB0Lmxlbmd0aCA6IDEpLCB1ID0gW107XG4gICAgICAgIGZvciAobGV0IGMgPSAwOyBjIDwgXzsgKytjKSB7XG4gICAgICAgICAgICBjb25zdCBfID0gdCA/IHRoaXMuVG4odFtjIC8gYV0pIDogZGUsIGwgPSB0aGlzLkVuKGUsIF8sIG5bYyAlIGFdLCByKSwgaCA9IHRoaXMuZG4oZSwgXywgaVtjICUgYV0sIHMpLCBQID0gby5tYXAoKHQgPT4gdGhpcy5FbihlLCBfLCB0LCBcbiAgICAgICAgICAgIC8qIGluY2x1c2l2ZT0gKi8gITApKSk7XG4gICAgICAgICAgICB1LnB1c2goLi4udGhpcy5jcmVhdGVSYW5nZShsLCBoLCBQKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHU7XG4gICAgfVxuICAgIC8qKiBHZW5lcmF0ZXMgdGhlIGxvd2VyIGJvdW5kIGZvciBgYXJyYXlWYWx1ZWAgYW5kIGBkaXJlY3Rpb25hbFZhbHVlYC4gKi8gICAgRW4oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9JbmRleEVudHJ5KGUsIERvY3VtZW50S2V5LmVtcHR5KCksIHQsIG4pO1xuICAgICAgICByZXR1cm4gciA/IGkgOiBpLkp0KCk7XG4gICAgfVxuICAgIC8qKiBHZW5lcmF0ZXMgdGhlIHVwcGVyIGJvdW5kIGZvciBgYXJyYXlWYWx1ZWAgYW5kIGBkaXJlY3Rpb25hbFZhbHVlYC4gKi8gICAgZG4oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9JbmRleEVudHJ5KGUsIERvY3VtZW50S2V5LmVtcHR5KCksIHQsIG4pO1xuICAgICAgICByZXR1cm4gciA/IGkuSnQoKSA6IGk7XG4gICAgfVxuICAgIGxuKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfVGFyZ2V0SW5kZXhNYXRjaGVyKHQpLCByID0gbnVsbCAhPSB0LmNvbGxlY3Rpb25Hcm91cCA/IHQuY29sbGVjdGlvbkdyb3VwIDogdC5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpZWxkSW5kZXhlcyhlLCByKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgaW5kZXggd2l0aCB0aGUgbW9zdCBudW1iZXIgb2Ygc2VnbWVudHMuXG4gICAgICAgICAgICBsZXQgdCA9IG51bGw7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgZSkge1xuICAgICAgICAgICAgICAgIG4udG4ocikgJiYgKCF0IHx8IHIuZmllbGRzLmxlbmd0aCA+IHQuZmllbGRzLmxlbmd0aCkgJiYgKHQgPSByKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldEluZGV4VHlwZShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gMiAvKiBJbmRleFR5cGUuRlVMTCAqLztcbiAgICAgICAgY29uc3QgciA9IHRoaXMuY24odCk7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChyLCAodCA9PiB0aGlzLmxuKGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZSA/IDAgLyogSW5kZXhUeXBlLk5PTkUgKi8gIT09IG4gJiYgZS5maWVsZHMubGVuZ3RoIDwgZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldFNlZ21lbnRDb3VudChlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSBuZXcgU29ydGVkU2V0KEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IpLCBuID0gITE7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIGUuZmlsdGVycykgZm9yIChjb25zdCBlIG9mIHIuZ2V0RmxhdHRlbmVkRmlsdGVycygpKSBcbiAgICAgICAgICAgICAgICAvLyBfX25hbWVfXyBpcyBub3QgYW4gZXhwbGljaXQgc2VnbWVudCBvZiBhbnkgaW5kZXgsIHNvIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgICAgICAgICAvLyBjb3VudCBpdC5cbiAgICAgICAgICAgICAgICBlLmZpZWxkLmlzS2V5RmllbGQoKSB8fCAoXG4gICAgICAgICAgICAgICAgLy8gQVJSQVlfQ09OVEFJTlMgb3IgQVJSQVlfQ09OVEFJTlNfQU5ZIGZpbHRlcnMgbXVzdCBiZSBjb3VudGVkIHNlcGFyYXRlbHkuXG4gICAgICAgICAgICAgICAgLy8gRm9yIGluc3RhbmNlLCBpdCBpcyBwb3NzaWJsZSB0byBoYXZlIGFuIGluZGV4IGZvciBcImEgQVJSQVkgYSBBU0NcIi4gRXZlblxuICAgICAgICAgICAgICAgIC8vIHRob3VnaCB0aGVzZSBhcmUgb24gdGhlIHNhbWUgZmllbGQsIHRoZXkgc2hvdWxkIGJlIGNvdW50ZWQgYXMgdHdvXG4gICAgICAgICAgICAgICAgLy8gc2VwYXJhdGUgc2VnbWVudHMgaW4gYW4gaW5kZXguXG4gICAgICAgICAgICAgICAgXCJhcnJheS1jb250YWluc1wiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TICovID09PSBlLm9wIHx8IFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovID09PSBlLm9wID8gbiA9ICEwIDogdCA9IHQuYWRkKGUuZmllbGQpKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZS5vcmRlckJ5KSBcbiAgICAgICAgICAgICAgICAvLyBfX25hbWVfXyBpcyBub3QgYW4gZXhwbGljaXQgc2VnbWVudCBvZiBhbnkgaW5kZXgsIHNvIHdlIGRvbid0IG5lZWQgdG9cbiAgICAgICAgICAgICAgICAvLyBjb3VudCBpdC5cbiAgICAgICAgICAgICAgICBuLmZpZWxkLmlzS2V5RmllbGQoKSB8fCAodCA9IHQuYWRkKG4uZmllbGQpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5zaXplICsgKG4gPyAxIDogMCk7XG4gICAgICAgICAgICB9KHQpICYmIChuID0gMSAvKiBJbmRleFR5cGUuUEFSVElBTCAqLykgOiBuID0gMCAvKiBJbmRleFR5cGUuTk9ORSAqLztcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gXG4gICAgICAgIC8vIE9SIHF1ZXJpZXMgaGF2ZSBtb3JlIHRoYW4gb25lIHN1Yi10YXJnZXQgKG9uZSBzdWItdGFyZ2V0IHBlciBETkYgdGVybSkuIFdlIGN1cnJlbnRseSBjb25zaWRlclxuICAgICAgICAvLyBPUiBxdWVyaWVzIHRoYXQgaGF2ZSBhIGBsaW1pdGAgdG8gaGF2ZSBhIHBhcnRpYWwgaW5kZXguIEZvciBzdWNoIHF1ZXJpZXMgd2UgcGVyZm9ybSBzb3J0aW5nXG4gICAgICAgIC8vIGFuZCBhcHBseSB0aGUgbGltaXQgaW4gbWVtb3J5IGFzIGEgcG9zdC1wcm9jZXNzaW5nIHN0ZXAuXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRIYXNMaW1pdChlKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbCAhPT0gZS5saW1pdDtcbiAgICAgICAgfSh0KSAmJiByLmxlbmd0aCA+IDEgJiYgMiAvKiBJbmRleFR5cGUuRlVMTCAqLyA9PT0gbiA/IDEgLyogSW5kZXhUeXBlLlBBUlRJQUwgKi8gOiBuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGJ5dGUgZW5jb2RlZCBmb3JtIG9mIHRoZSBkaXJlY3Rpb25hbCB2YWx1ZXMgaW4gdGhlIGZpZWxkIGluZGV4LlxuICAgICAqIFJldHVybnMgYG51bGxgIGlmIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBoYXZlIGFsbCBmaWVsZHMgc3BlY2lmaWVkIGluIHRoZVxuICAgICAqIGluZGV4LlxuICAgICAqLyAgICBBbihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0luZGV4Qnl0ZUVuY29kZXI7XG4gICAgICAgIGZvciAoY29uc3QgciBvZiBfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHMoZSkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LmRhdGEuZmllbGQoci5maWVsZFBhdGgpO1xuICAgICAgICAgICAgaWYgKG51bGwgPT0gZSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICBjb25zdCBpID0gbi5IdChyLmtpbmQpO1xuICAgICAgICAgICAgX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIuYnQuUHQoZSwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG4uV3QoKTtcbiAgICB9XG4gICAgLyoqIEVuY29kZXMgYSBzaW5nbGUgdmFsdWUgdG8gdGhlIGFzY2VuZGluZyBpbmRleCBmb3JtYXQuICovICAgIFRuKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2RlcjtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyLmJ0LlB0KGUsIHQuSHQoMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovKSksIFxuICAgICAgICB0Lld0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZW5jb2RlZCBmb3JtIG9mIHRoZSBkb2N1bWVudCBrZXkgdGhhdCBzb3J0cyBiYXNlZCBvbiB0aGUga2V5XG4gICAgICogb3JkZXJpbmcgb2YgdGhlIGZpZWxkIGluZGV4LlxuICAgICAqLyAgICBSbihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0luZGV4Qnl0ZUVuY29kZXI7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfRmlyZXN0b3JlSW5kZXhWYWx1ZVdyaXRlci5idC5QdChfX1BSSVZBVEVfcmVmVmFsdWUodGhpcy5kYXRhYmFzZUlkLCB0KSwgbi5IdChmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRJbmRleEdldEtleU9yZGVyKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHMoZSk7XG4gICAgICAgICAgICByZXR1cm4gMCA9PT0gdC5sZW5ndGggPyAwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8gOiB0W3QubGVuZ3RoIC0gMV0ua2luZDtcbiAgICAgICAgfShlKSkpLCBuLld0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZXMgdGhlIGdpdmVuIGZpZWxkIHZhbHVlcyBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb24gaW4gYHRhcmdldGAuXG4gICAgICogRm9yIElOIHF1ZXJpZXMsIGEgbGlzdCBvZiBwb3NzaWJsZSB2YWx1ZXMgaXMgcmV0dXJuZWQuXG4gICAgICovICAgIFBuKGUsIHQsIG4pIHtcbiAgICAgICAgaWYgKG51bGwgPT09IG4pIHJldHVybiBbXTtcbiAgICAgICAgbGV0IHIgPSBbXTtcbiAgICAgICAgci5wdXNoKG5ldyBfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2Rlcik7XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgZm9yIChjb25zdCBzIG9mIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyhlKSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IG5baSsrXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiByKSBpZiAodGhpcy5Wbih0LCBzLmZpZWxkUGF0aCkgJiYgaXNBcnJheShlKSkgciA9IHRoaXMubW4ociwgcywgZSk7IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuLkh0KHMua2luZCk7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIuYnQuUHQoZSwgdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZm4ocik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVuY29kZXMgdGhlIGdpdmVuIGJvdW5kcyBhY2NvcmRpbmcgdG8gdGhlIHNwZWNpZmljYXRpb24gaW4gYHRhcmdldGAuIEZvciBJTlxuICAgICAqIHF1ZXJpZXMsIGEgbGlzdCBvZiBwb3NzaWJsZSB2YWx1ZXMgaXMgcmV0dXJuZWQuXG4gICAgICovICAgIGhuKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuUG4oZSwgdCwgbi5wb3NpdGlvbik7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBieXRlIHJlcHJlc2VudGF0aW9uIGZvciB0aGUgcHJvdmlkZWQgZW5jb2RlcnMuICovICAgIGZuKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUubGVuZ3RoOyArK24pIHRbbl0gPSBlW25dLld0KCk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2VwYXJhdGUgZW5jb2RlciBmb3IgZWFjaCBlbGVtZW50IG9mIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogVGhlIG1ldGhvZCBhcHBlbmRzIGVhY2ggdmFsdWUgdG8gYWxsIGV4aXN0aW5nIGVuY29kZXJzIChlLmcuIGZpbHRlcihcImFcIixcbiAgICAgKiBcIj09XCIsIFwiYTFcIikuZmlsdGVyKFwiYlwiLCBcImluXCIsIFtcImIxXCIsIFwiYjJcIl0pIGJlY29tZXMgW1wiYTEsYjFcIiwgXCJhMSxiMlwiXSkuIEFcbiAgICAgKiBsaXN0IG9mIG5ldyBlbmNvZGVycyBpcyByZXR1cm5lZC5cbiAgICAgKi8gICAgbW4oZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gWyAuLi5lIF0sIGkgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIG4uYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10pIGZvciAoY29uc3QgbiBvZiByKSB7XG4gICAgICAgICAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9JbmRleEJ5dGVFbmNvZGVyO1xuICAgICAgICAgICAgci5zZWVkKG4uV3QoKSksIF9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyLmJ0LlB0KGUsIHIuSHQodC5raW5kKSksIGkucHVzaChyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgVm4oZSwgdCkge1xuICAgICAgICByZXR1cm4gISFlLmZpbHRlcnMuZmluZCgoZSA9PiBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgJiYgZS5maWVsZC5pc0VxdWFsKHQpICYmIChcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gPT09IGUub3AgfHwgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gPT09IGUub3ApKSk7XG4gICAgfVxuICAgIGdldEZpZWxkSW5kZXhlcyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhDb25maWd1cmF0aW9uU3RvcmUoZSksIHIgPSBfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gKHQgPyBuLlUoXCJjb2xsZWN0aW9uR3JvdXBJbmRleFwiLCBJREJLZXlSYW5nZS5ib3VuZCh0LCB0KSkgOiBuLlUoKSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2goZSwgKGUgPT4gci5nZXQoWyBlLmluZGV4SWQsIHRoaXMudWlkIF0pLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgICAgIHQucHVzaChmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiSW5kZXhDb25maWd1cmF0aW9uKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IHQgPyBuZXcgSW5kZXhTdGF0ZSh0LnNlcXVlbmNlTnVtYmVyLCBuZXcgSW5kZXhPZmZzZXQoX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcCh0LnJlYWRUaW1lKSwgbmV3IERvY3VtZW50S2V5KF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgodC5kb2N1bWVudEtleSkpLCB0Lmxhcmdlc3RCYXRjaElkKSkgOiBJbmRleFN0YXRlLmVtcHR5KCksIHIgPSBlLmZpZWxkcy5tYXAoKChbZSwgdF0pID0+IG5ldyBJbmRleFNlZ21lbnQoRmllbGRQYXRoJDEuZnJvbVNlcnZlckZvcm1hdChlKSwgdCkpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGaWVsZEluZGV4KGUuaW5kZXhJZCwgZS5jb2xsZWN0aW9uR3JvdXAsIHIsIG4pO1xuICAgICAgICAgICAgICAgIH0oZSwgbikpO1xuICAgICAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gdCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldE5leHRDb2xsZWN0aW9uR3JvdXBUb1VwZGF0ZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZpZWxkSW5kZXhlcyhlKS5uZXh0KChlID0+IDAgPT09IGUubGVuZ3RoID8gbnVsbCA6IChlLnNvcnQoKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5pbmRleFN0YXRlLnNlcXVlbmNlTnVtYmVyIC0gdC5pbmRleFN0YXRlLnNlcXVlbmNlTnVtYmVyO1xuICAgICAgICAgICAgcmV0dXJuIDAgIT09IG4gPyBuIDogX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5jb2xsZWN0aW9uR3JvdXAsIHQuY29sbGVjdGlvbkdyb3VwKTtcbiAgICAgICAgfSkpLCBlWzBdLmNvbGxlY3Rpb25Hcm91cCkpKTtcbiAgICB9XG4gICAgdXBkYXRlQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9pbmRleENvbmZpZ3VyYXRpb25TdG9yZShlKSwgaSA9IF9fUFJJVkFURV9pbmRleFN0YXRlU3RvcmUoZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmduKGUpLm5leHQoKGUgPT4gci5VKFwiY29sbGVjdGlvbkdyb3VwSW5kZXhcIiwgSURCS2V5UmFuZ2UuYm91bmQodCwgdCkpLm5leHQoKHQgPT4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4gaS5wdXQoX19QUklWQVRFX3RvRGJJbmRleFN0YXRlKHQuaW5kZXhJZCwgdGhpcy51aWQsIGUsIG4pKSkpKSkpKTtcbiAgICB9XG4gICAgdXBkYXRlSW5kZXhFbnRyaWVzKGUsIHQpIHtcbiAgICAgICAgLy8gUG9ydGluZyBOb3RlOiBgZ2V0RmllbGRJbmRleGVzKClgIG9uIFdlYiBkb2VzIG5vdCBjYWNoZSBpbmRleCBsb29rdXBzIGFzXG4gICAgICAgIC8vIGl0IGNvdWxkIGJlIHVzZWQgYWNyb3NzIGRpZmZlcmVudCBJbmRleGVkREIgdHJhbnNhY3Rpb25zLiBBcyBhbnkgY2FjaGVkXG4gICAgICAgIC8vIGRhdGEgbWlnaHQgYmUgaW52YWxpZGF0ZWQgYnkgb3RoZXIgbXVsdGktdGFiIGNsaWVudHMsIHdlIGNhbiBvbmx5IHRydXN0XG4gICAgICAgIC8vIGRhdGEgd2l0aGluIGEgc2luZ2xlIEluZGV4ZWREQiB0cmFuc2FjdGlvbi4gV2UgdGhlcmVmb3JlIGFkZCBhIGNhY2hlXG4gICAgICAgIC8vIGhlcmUuXG4gICAgICAgIGNvbnN0IG4gPSBuZXcgTWFwO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKCh0LCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gbi5nZXQodC5jb2xsZWN0aW9uR3JvdXApO1xuICAgICAgICAgICAgcmV0dXJuIChpID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoaSkgOiB0aGlzLmdldEZpZWxkSW5kZXhlcyhlLCB0LmNvbGxlY3Rpb25Hcm91cCkpLm5leHQoKGkgPT4gKG4uc2V0KHQuY29sbGVjdGlvbkdyb3VwLCBpKSwgXG4gICAgICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChpLCAobiA9PiB0aGlzLnBuKGUsIHQsIG4pLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLnluKHIsIG4pO1xuICAgICAgICAgICAgICAgIHJldHVybiB0LmlzRXF1YWwoaSkgPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpIDogdGhpcy53bihlLCByLCBuLCB0LCBpKTtcbiAgICAgICAgICAgIH0pKSkpKSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIFNuKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9pbmRleEVudHJpZXNTdG9yZShlKS5wdXQoe1xuICAgICAgICAgICAgaW5kZXhJZDogci5pbmRleElkLFxuICAgICAgICAgICAgdWlkOiB0aGlzLnVpZCxcbiAgICAgICAgICAgIGFycmF5VmFsdWU6IHIuYXJyYXlWYWx1ZSxcbiAgICAgICAgICAgIGRpcmVjdGlvbmFsVmFsdWU6IHIuZGlyZWN0aW9uYWxWYWx1ZSxcbiAgICAgICAgICAgIG9yZGVyZWREb2N1bWVudEtleTogdGhpcy5SbihuLCB0LmtleSksXG4gICAgICAgICAgICBkb2N1bWVudEtleTogdC5rZXkucGF0aC50b0FycmF5KClcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJuKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9pbmRleEVudHJpZXNTdG9yZShlKS5kZWxldGUoWyByLmluZGV4SWQsIHRoaXMudWlkLCByLmFycmF5VmFsdWUsIHIuZGlyZWN0aW9uYWxWYWx1ZSwgdGhpcy5SbihuLCB0LmtleSksIHQua2V5LnBhdGgudG9BcnJheSgpIF0pO1xuICAgIH1cbiAgICBwbihlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfaW5kZXhFbnRyaWVzU3RvcmUoZSk7XG4gICAgICAgIGxldCBpID0gbmV3IFNvcnRlZFNldChfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gci5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50S2V5SW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBJREJLZXlSYW5nZS5vbmx5KFsgbi5pbmRleElkLCB0aGlzLnVpZCwgdGhpcy5SbihuLCB0KSBdKVxuICAgICAgICB9LCAoKGUsIHIpID0+IHtcbiAgICAgICAgICAgIGkgPSBpLmFkZChuZXcgX19QUklWQVRFX0luZGV4RW50cnkobi5pbmRleElkLCB0LCByLmFycmF5VmFsdWUsIHIuZGlyZWN0aW9uYWxWYWx1ZSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICAvKiogQ3JlYXRlcyB0aGUgaW5kZXggZW50cmllcyBmb3IgdGhlIGdpdmVuIGRvY3VtZW50LiAqLyAgICB5bihlLCB0KSB7XG4gICAgICAgIGxldCBuID0gbmV3IFNvcnRlZFNldChfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IpO1xuICAgICAgICBjb25zdCByID0gdGhpcy5Bbih0LCBlKTtcbiAgICAgICAgaWYgKG51bGwgPT0gcikgcmV0dXJuIG47XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZmllbGRJbmRleEdldEFycmF5U2VnbWVudCh0KTtcbiAgICAgICAgaWYgKG51bGwgIT0gaSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGUuZGF0YS5maWVsZChpLmZpZWxkUGF0aCk7XG4gICAgICAgICAgICBpZiAoaXNBcnJheShzKSkgZm9yIChjb25zdCBpIG9mIHMuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10pIG4gPSBuLmFkZChuZXcgX19QUklWQVRFX0luZGV4RW50cnkodC5pbmRleElkLCBlLmtleSwgdGhpcy5UbihpKSwgcikpO1xuICAgICAgICB9IGVsc2UgbiA9IG4uYWRkKG5ldyBfX1BSSVZBVEVfSW5kZXhFbnRyeSh0LmluZGV4SWQsIGUua2V5LCBkZSwgcikpO1xuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgaW5kZXggZW50cmllcyBmb3IgdGhlIHByb3ZpZGVkIGRvY3VtZW50IGJ5IGRlbGV0aW5nIGVudHJpZXNcbiAgICAgKiB0aGF0IGFyZSBubyBsb25nZXIgcmVmZXJlbmNlZCBpbiBgbmV3RW50cmllc2AgYW5kIGFkZGluZyBhbGwgbmV3bHkgYWRkZWRcbiAgICAgKiBlbnRyaWVzLlxuICAgICAqLyAgICB3bihlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYkluZGV4TWFuYWdlclwiLCBcIlVwZGF0aW5nIGluZGV4IGVudHJpZXMgZm9yIGRvY3VtZW50ICclcydcIiwgdC5rZXkpO1xuICAgICAgICBjb25zdCBzID0gW107XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZGlmZlNvcnRlZFNldHMoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICAgICAgY29uc3QgcyA9IGUuZ2V0SXRlcmF0b3IoKSwgbyA9IHQuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgICAgIGxldCBfID0gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihzKSwgYSA9IF9fUFJJVkFURV9hZHZhbmNlSXRlcmF0b3Iobyk7XG4gICAgICAgICAgICAvLyBXYWxrIHRocm91Z2ggdGhlIHR3byBzZXRzIGF0IHRoZSBzYW1lIHRpbWUsIHVzaW5nIHRoZSBvcmRlcmluZyBkZWZpbmVkIGJ5XG4gICAgICAgICAgICAvLyBgY29tcGFyYXRvcmAuXG4gICAgICAgICAgICBmb3IgKDtfIHx8IGE7ICkge1xuICAgICAgICAgICAgICAgIGxldCBlID0gITEsIHQgPSAhMTtcbiAgICAgICAgICAgICAgICBpZiAoXyAmJiBhKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuKF8sIGEpO1xuICAgICAgICAgICAgICAgICAgICByIDwgMCA/IFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCB3YXMgcmVtb3ZlZCBpZiB0aGUgbmV4dCBlbGVtZW50IGluIG91ciBvcmRlcmVkXG4gICAgICAgICAgICAgICAgICAgIC8vIHdhbGt0aHJvdWdoIGlzIG9ubHkgaW4gYGJlZm9yZWAuXG4gICAgICAgICAgICAgICAgICAgIHQgPSAhMCA6IHIgPiAwICYmIChcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIGlmIHRoZSBuZXh0IGVsZW1lbnQgaW4gb3VyIG9yZGVyZWQgd2Fsa3Rocm91Z2hcbiAgICAgICAgICAgICAgICAgICAgLy8gaXMgb25seSBpbiBgYWZ0ZXJgLlxuICAgICAgICAgICAgICAgICAgICBlID0gITApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBudWxsICE9IF8gPyB0ID0gITAgOiBlID0gITA7XG4gICAgICAgICAgICAgICAgZSA/IChyKGEpLCBhID0gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihvKSkgOiB0ID8gKGkoXyksIF8gPSBfX1BSSVZBVEVfYWR2YW5jZUl0ZXJhdG9yKHMpKSA6IChfID0gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihzKSwgXG4gICAgICAgICAgICAgICAgYSA9IF9fUFJJVkFURV9hZHZhbmNlSXRlcmF0b3IobykpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KHIsIGksIF9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvciwgKFxuICAgICAgICAvKiBvbkFkZD0gKi8gciA9PiB7XG4gICAgICAgICAgICBzLnB1c2godGhpcy5TbihlLCB0LCBuLCByKSk7XG4gICAgICAgIH0pLCAoXG4gICAgICAgIC8qIG9uUmVtb3ZlPSAqLyByID0+IHtcbiAgICAgICAgICAgIHMucHVzaCh0aGlzLmJuKGUsIHQsIG4sIHIpKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihzKTtcbiAgICB9XG4gICAgZ24oZSkge1xuICAgICAgICBsZXQgdCA9IDE7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwic2VxdWVuY2VOdW1iZXJJbmRleFwiLFxuICAgICAgICAgICAgcmV2ZXJzZTogITAsXG4gICAgICAgICAgICByYW5nZTogSURCS2V5UmFuZ2UudXBwZXJCb3VuZChbIHRoaXMudWlkLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiBdKVxuICAgICAgICB9LCAoKGUsIG4sIHIpID0+IHtcbiAgICAgICAgICAgIHIuZG9uZSgpLCB0ID0gbi5zZXF1ZW5jZU51bWJlciArIDE7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBuZXcgc2V0IG9mIElEQiByYW5nZXMgdGhhdCBzcGxpdHMgdGhlIGV4aXN0aW5nIHJhbmdlIGFuZCBleGNsdWRlc1xuICAgICAqIGFueSB2YWx1ZXMgdGhhdCBtYXRjaCB0aGUgYG5vdEluVmFsdWVgIGZyb20gdGhlc2UgcmFuZ2VzLiBBcyBhbiBleGFtcGxlLFxuICAgICAqICdbZm9vID4gMiAmJiBmb28gIT0gM11gIGJlY29tZXMgIGBbZm9vID4gMiAmJiA8IDMsIGZvbyA+IDNdYC5cbiAgICAgKi8gICAgY3JlYXRlUmFuZ2UoZSwgdCwgbikge1xuICAgICAgICAvLyBUaGUgbm90SW4gdmFsdWVzIG5lZWQgdG8gYmUgc29ydGVkIGFuZCB1bmlxdWUgc28gdGhhdCB3ZSBjYW4gcmV0dXJuIGFcbiAgICAgICAgLy8gc29ydGVkIHNldCBvZiBub24tb3ZlcmxhcHBpbmcgcmFuZ2VzLlxuICAgICAgICBuID0gbi5zb3J0KCgoZSwgdCkgPT4gX19QUklWQVRFX2luZGV4RW50cnlDb21wYXJhdG9yKGUsIHQpKSkuZmlsdGVyKCgoZSwgdCwgbikgPT4gIXQgfHwgMCAhPT0gX19QUklWQVRFX2luZGV4RW50cnlDb21wYXJhdG9yKGUsIG5bdCAtIDFdKSkpO1xuICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgIHIucHVzaChlKTtcbiAgICAgICAgZm9yIChjb25zdCBpIG9mIG4pIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoaSwgZSksIHMgPSBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoaSwgdCk7XG4gICAgICAgICAgICBpZiAoMCA9PT0gbikgXG4gICAgICAgICAgICAvLyBgbm90SW5WYWx1ZWAgaXMgdGhlIGxvd2VyIGJvdW5kLiBXZSB0aGVyZWZvcmUgbmVlZCB0byByYWlzZSB0aGUgYm91bmRcbiAgICAgICAgICAgIC8vIHRvIHRoZSBuZXh0IHZhbHVlLlxuICAgICAgICAgICAgclswXSA9IGUuSnQoKTsgZWxzZSBpZiAobiA+IDAgJiYgcyA8IDApIFxuICAgICAgICAgICAgLy8gYG5vdEluVmFsdWVgIGlzIGluIHRoZSBtaWRkbGUgb2YgdGhlIHJhbmdlXG4gICAgICAgICAgICByLnB1c2goaSksIHIucHVzaChpLkp0KCkpOyBlbHNlIGlmIChzID4gMCkgXG4gICAgICAgICAgICAvLyBgbm90SW5WYWx1ZWAgKGFuZCBhbGwgZm9sbG93aW5nIHZhbHVlcykgYXJlIG91dCBvZiB0aGUgcmFuZ2VcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHIucHVzaCh0KTtcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgZSA8IHIubGVuZ3RoOyBlICs9IDIpIHtcbiAgICAgICAgICAgIC8vIElmIHdlIGVuY291bnRlciB0d28gYm91bmRzIHRoYXQgd2lsbCBjcmVhdGUgYW4gdW5tYXRjaGFibGUga2V5IHJhbmdlLFxuICAgICAgICAgICAgLy8gdGhlbiB3ZSByZXR1cm4gYW4gZW1wdHkgc2V0IG9mIGtleSByYW5nZXMuXG4gICAgICAgICAgICBpZiAodGhpcy5EbihyW2VdLCByW2UgKyAxXSkpIHJldHVybiBbXTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBbIHJbZV0uaW5kZXhJZCwgdGhpcy51aWQsIHJbZV0uYXJyYXlWYWx1ZSwgcltlXS5kaXJlY3Rpb25hbFZhbHVlLCBkZSwgW10gXSwgbiA9IFsgcltlICsgMV0uaW5kZXhJZCwgdGhpcy51aWQsIHJbZSArIDFdLmFycmF5VmFsdWUsIHJbZSArIDFdLmRpcmVjdGlvbmFsVmFsdWUsIGRlLCBbXSBdO1xuICAgICAgICAgICAgaS5wdXNoKElEQktleVJhbmdlLmJvdW5kKHQsIG4pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaTtcbiAgICB9XG4gICAgRG4oZSwgdCkge1xuICAgICAgICAvLyBJZiBsb3dlciBib3VuZCBpcyBncmVhdGVyIHRoYW4gdGhlIHVwcGVyIGJvdW5kLCB0aGVuIHRoZSBrZXlcbiAgICAgICAgLy8gcmFuZ2UgY2FuIG5ldmVyIGJlIG1hdGNoZWQuXG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoZSwgdCkgPiAwO1xuICAgIH1cbiAgICBnZXRNaW5PZmZzZXRGcm9tQ29sbGVjdGlvbkdyb3VwKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmllbGRJbmRleGVzKGUsIHQpLm5leHQoX19QUklWQVRFX2dldE1pbk9mZnNldEZyb21GaWVsZEluZGV4ZXMpO1xuICAgIH1cbiAgICBnZXRNaW5PZmZzZXQoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLm1hcEFycmF5KHRoaXMuY24odCksICh0ID0+IHRoaXMubG4oZSwgdCkubmV4dCgoZSA9PiBlIHx8IGZhaWwoKSkpKSkubmV4dChfX1BSSVZBVEVfZ2V0TWluT2Zmc2V0RnJvbUZpZWxkSW5kZXhlcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgY29sbGVjdGlvblBhcmVudHNcbiAqIGRvY3VtZW50IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9jb2xsZWN0aW9uUGFyZW50c1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiY29sbGVjdGlvblBhcmVudHNcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBpbmRleCBlbnRyeSBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiaW5kZXhFbnRyaWVzXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgaW5kZXggY29uZmlndXJhdGlvbiBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiaW5kZXhDb25maWd1cmF0aW9uXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgaW5kZXggc3RhdGUgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pbmRleFN0YXRlU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJpbmRleFN0YXRlXCIpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0TWluT2Zmc2V0RnJvbUZpZWxkSW5kZXhlcyhlKSB7XG4gICAgX19QUklWQVRFX2hhcmRBc3NlcnQoMCAhPT0gZS5sZW5ndGgpO1xuICAgIGxldCB0ID0gZVswXS5pbmRleFN0YXRlLm9mZnNldCwgbiA9IHQubGFyZ2VzdEJhdGNoSWQ7XG4gICAgZm9yIChsZXQgciA9IDE7IHIgPCBlLmxlbmd0aDsgcisrKSB7XG4gICAgICAgIGNvbnN0IGkgPSBlW3JdLmluZGV4U3RhdGUub2Zmc2V0O1xuICAgICAgICBfX1BSSVZBVEVfaW5kZXhPZmZzZXRDb21wYXJhdG9yKGksIHQpIDwgMCAmJiAodCA9IGkpLCBuIDwgaS5sYXJnZXN0QmF0Y2hJZCAmJiAobiA9IGkubGFyZ2VzdEJhdGNoSWQpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEluZGV4T2Zmc2V0KHQucmVhZFRpbWUsIHQuZG9jdW1lbnRLZXksIG4pO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBBZSA9IHtcbiAgICBkaWRSdW46ICExLFxuICAgIHNlcXVlbmNlTnVtYmVyc0NvbGxlY3RlZDogMCxcbiAgICB0YXJnZXRzUmVtb3ZlZDogMCxcbiAgICBkb2N1bWVudHNSZW1vdmVkOiAwXG59O1xuXG5jbGFzcyBMcnVQYXJhbXMge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8vIFdoZW4gd2UgYXR0ZW1wdCB0byBjb2xsZWN0LCB3ZSB3aWxsIG9ubHkgZG8gc28gaWYgdGhlIGNhY2hlIHNpemUgaXMgZ3JlYXRlciB0aGFuIHRoaXNcbiAgICAvLyB0aHJlc2hvbGQuIFBhc3NpbmcgYENPTExFQ1RJT05fRElTQUJMRURgIGhlcmUgd2lsbCBjYXVzZSBjb2xsZWN0aW9uIHRvIGFsd2F5cyBiZSBza2lwcGVkLlxuICAgIGUsIFxuICAgIC8vIFRoZSBwZXJjZW50YWdlIG9mIHNlcXVlbmNlIG51bWJlcnMgdGhhdCB3ZSB3aWxsIGF0dGVtcHQgdG8gY29sbGVjdFxuICAgIHQsIFxuICAgIC8vIEEgY2FwIG9uIHRoZSB0b3RhbCBudW1iZXIgb2Ygc2VxdWVuY2UgbnVtYmVycyB0aGF0IHdpbGwgYmUgY29sbGVjdGVkLiBUaGlzIHByZXZlbnRzXG4gICAgLy8gdXMgZnJvbSBjb2xsZWN0aW5nIGEgaHVnZSBudW1iZXIgb2Ygc2VxdWVuY2UgbnVtYmVycyBpZiB0aGUgY2FjaGUgaGFzIGdyb3duIHZlcnkgbGFyZ2UuXG4gICAgbikge1xuICAgICAgICB0aGlzLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQgPSBlLCB0aGlzLnBlcmNlbnRpbGVUb0NvbGxlY3QgPSB0LCB0aGlzLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QgPSBuO1xuICAgIH1cbiAgICBzdGF0aWMgd2l0aENhY2hlU2l6ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTHJ1UGFyYW1zKGUsIExydVBhcmFtcy5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSwgTHJ1UGFyYW1zLkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBEZWxldGUgYSBtdXRhdGlvbiBiYXRjaCBhbmQgdGhlIGFzc29jaWF0ZWQgZG9jdW1lbnQgbXV0YXRpb25zLlxuICogQHJldHVybnMgQSBQZXJzaXN0ZW5jZVByb21pc2Ugb2YgdGhlIGRvY3VtZW50IG11dGF0aW9ucyB0aGF0IHdlcmUgcmVtb3ZlZC5cbiAqL1xuZnVuY3Rpb24gcmVtb3ZlTXV0YXRpb25CYXRjaChlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IGUuc3RvcmUoXCJtdXRhdGlvbnNcIiksIGkgPSBlLnN0b3JlKFwiZG9jdW1lbnRNdXRhdGlvbnNcIiksIHMgPSBbXSwgbyA9IElEQktleVJhbmdlLm9ubHkobi5iYXRjaElkKTtcbiAgICBsZXQgXyA9IDA7XG4gICAgY29uc3QgYSA9IHIuSih7XG4gICAgICAgIHJhbmdlOiBvXG4gICAgfSwgKChlLCB0LCBuKSA9PiAoXysrLCBuLmRlbGV0ZSgpKSkpO1xuICAgIHMucHVzaChhLm5leHQoKCgpID0+IHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoMSA9PT0gXyk7XG4gICAgfSkpKTtcbiAgICBjb25zdCB1ID0gW107XG4gICAgZm9yIChjb25zdCBlIG9mIG4ubXV0YXRpb25zKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uS2V5KHQsIGUua2V5LnBhdGgsIG4uYmF0Y2hJZCk7XG4gICAgICAgIHMucHVzaChpLmRlbGV0ZShyKSksIHUucHVzaChlLmtleSk7XG4gICAgfVxuICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihzKS5uZXh0KCgoKSA9PiB1KSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBhcHByb3hpbWF0ZSBzaXplIGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RiRG9jdW1lbnRTaXplKGUpIHtcbiAgICBpZiAoIWUpIHJldHVybiAwO1xuICAgIGxldCB0O1xuICAgIGlmIChlLmRvY3VtZW50KSB0ID0gZS5kb2N1bWVudDsgZWxzZSBpZiAoZS51bmtub3duRG9jdW1lbnQpIHQgPSBlLnVua25vd25Eb2N1bWVudDsgZWxzZSB7XG4gICAgICAgIGlmICghZS5ub0RvY3VtZW50KSB0aHJvdyBmYWlsKCk7XG4gICAgICAgIHQgPSBlLm5vRG9jdW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh0KS5sZW5ndGg7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogQSBtdXRhdGlvbiBxdWV1ZSBmb3IgYSBzcGVjaWZpYyB1c2VyLCBiYWNrZWQgYnkgSW5kZXhlZERCLiAqLyBMcnVQYXJhbXMuREVGQVVMVF9DT0xMRUNUSU9OX1BFUkNFTlRJTEUgPSAxMCwgXG5McnVQYXJhbXMuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUID0gMWUzLCBMcnVQYXJhbXMuREVGQVVMVCA9IG5ldyBMcnVQYXJhbXMoNDE5NDMwNDAsIExydVBhcmFtcy5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSwgTHJ1UGFyYW1zLkRFRkFVTFRfTUFYX1NFUVVFTkNFX05VTUJFUlNfVE9fQ09MTEVDVCksIFxuTHJ1UGFyYW1zLkRJU0FCTEVEID0gbmV3IExydVBhcmFtcygtMSwgMCwgMCk7XG5cbmNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJNdXRhdGlvblF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgbm9ybWFsaXplZCB1c2VySWQgKGUuZy4gbnVsbCBVSUQgPT4gXCJcIiB1c2VySWQpIHVzZWQgdG8gc3RvcmUgL1xuICAgICAqIHJldHJpZXZlIG11dGF0aW9ucy5cbiAgICAgKi9cbiAgICBlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMudXNlcklkID0gZSwgdGhpcy5zZXJpYWxpemVyID0gdCwgdGhpcy5pbmRleE1hbmFnZXIgPSBuLCB0aGlzLnJlZmVyZW5jZURlbGVnYXRlID0gciwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWNoZXMgdGhlIGRvY3VtZW50IGtleXMgZm9yIHBlbmRpbmcgbXV0YXRpb24gYmF0Y2hlcy4gSWYgdGhlIG11dGF0aW9uXG4gICAgICAgICAqIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBJbmRleGVkRGIsIHRoZSBjYWNoZWQgdmFsdWUgbWF5IGNvbnRpbnVlIHRvXG4gICAgICAgICAqIGJlIHVzZWQgdG8gcmV0cmlldmUgdGhlIGJhdGNoJ3MgZG9jdW1lbnQga2V5cy4gVG8gcmVtb3ZlIGEgY2FjaGVkIHZhbHVlXG4gICAgICAgICAqIGxvY2FsbHksIGByZW1vdmVDYWNoZWRNdXRhdGlvbktleXMoKWAgc2hvdWxkIGJlIGludm9rZWQgZWl0aGVyIGRpcmVjdGx5XG4gICAgICAgICAqIG9yIHRocm91Z2ggYHJlbW92ZU11dGF0aW9uQmF0Y2hlcygpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogV2l0aCBtdWx0aS10YWIsIHdoZW4gdGhlIHByaW1hcnkgY2xpZW50IGFja25vd2xlZGdlcyBvciByZWplY3RzIGEgbXV0YXRpb24sXG4gICAgICAgICAqIHRoaXMgY2FjaGUgaXMgdXNlZCBieSBzZWNvbmRhcnkgY2xpZW50cyB0byBpbnZhbGlkYXRlIHRoZSBsb2NhbFxuICAgICAgICAgKiB2aWV3IG9mIHRoZSBkb2N1bWVudHMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgYWZmZWN0ZWQgYnkgdGhlIG11dGF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICAgICAgdGhpcy5DbiA9IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IG11dGF0aW9uIHF1ZXVlIGZvciB0aGUgZ2l2ZW4gdXNlci5cbiAgICAgKiBAcGFyYW0gdXNlciAtIFRoZSB1c2VyIGZvciB3aGljaCB0byBjcmVhdGUgYSBtdXRhdGlvbiBxdWV1ZS5cbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplciAtIFRoZSBzZXJpYWxpemVyIHRvIHVzZSB3aGVuIHBlcnNpc3RpbmcgdG8gSW5kZXhlZERiLlxuICAgICAqLyAgICBzdGF0aWMgbHQoZSwgdCwgbiwgcikge1xuICAgICAgICAvLyBUT0RPKG1jZyk6IEZpZ3VyZSBvdXQgd2hhdCBjb25zdHJhaW50cyB0aGVyZSBhcmUgb24gdXNlcklEc1xuICAgICAgICAvLyBJbiBwYXJ0aWN1bGFyLCBhcmUgdGhlcmUgYW55IHJlc2VydmVkIGNoYXJhY3RlcnM/IGFyZSBlbXB0eSBpZHMgYWxsb3dlZD9cbiAgICAgICAgLy8gRm9yIHRoZSBtb21lbnQgc3RvcmUgdGhlc2UgdG9nZXRoZXIgaW4gdGhlIHNhbWUgbXV0YXRpb25zIHRhYmxlIGFzc3VtaW5nXG4gICAgICAgIC8vIHRoYXQgZW1wdHkgdXNlcklEcyBhcmVuJ3QgYWxsb3dlZC5cbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoXCJcIiAhPT0gZS51aWQpO1xuICAgICAgICBjb25zdCBpID0gZS5pc0F1dGhlbnRpY2F0ZWQoKSA/IGUudWlkIDogXCJcIjtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiTXV0YXRpb25RdWV1ZShpLCB0LCBuLCByKTtcbiAgICB9XG4gICAgY2hlY2tFbXB0eShlKSB7XG4gICAgICAgIGxldCB0ID0gITA7XG4gICAgICAgIGNvbnN0IG4gPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgXSwgWyB0aGlzLnVzZXJJZCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwidXNlck11dGF0aW9uc0luZGV4XCIsXG4gICAgICAgICAgICByYW5nZTogblxuICAgICAgICB9LCAoKGUsIG4sIHIpID0+IHtcbiAgICAgICAgICAgIHQgPSAhMSwgci5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgfVxuICAgIGFkZE11dGF0aW9uQmF0Y2goZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2RvY3VtZW50TXV0YXRpb25zU3RvcmUoZSksIHMgPSBfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSk7XG4gICAgICAgIC8vIFRoZSBJbmRleGVkRGIgaW1wbGVtZW50YXRpb24gaW4gQ2hyb21lIChhbmQgRmlyZWZveCkgZG9lcyBub3QgaGFuZGxlXG4gICAgICAgIC8vIGNvbXBvdW5kIGluZGljZXMgdGhhdCBpbmNsdWRlIGF1dG8tZ2VuZXJhdGVkIGtleXMgY29ycmVjdGx5LiBUbyBlbnN1cmVcbiAgICAgICAgLy8gdGhhdCB0aGUgaW5kZXggZW50cnkgaXMgYWRkZWQgY29ycmVjdGx5IGluIGFsbCBicm93c2Vycywgd2UgcGVyZm9ybSB0d29cbiAgICAgICAgLy8gd3JpdGVzOiBUaGUgZmlyc3Qgd3JpdGUgaXMgdXNlZCB0byByZXRyaWV2ZSB0aGUgbmV4dCBhdXRvLWdlbmVyYXRlZCBCYXRjaFxuICAgICAgICAvLyBJRCwgYW5kIHRoZSBzZWNvbmQgd3JpdGUgcG9wdWxhdGVzIHRoZSBpbmRleCBhbmQgc3RvcmVzIHRoZSBhY3R1YWxcbiAgICAgICAgLy8gbXV0YXRpb24gYmF0Y2guXG4gICAgICAgIC8vIFNlZTogaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NzAxOTcyXG4gICAgICAgIC8vIFdlIHdyaXRlIGFuIGVtcHR5IG9iamVjdCB0byBvYnRhaW4ga2V5XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJldHVybiBzLmFkZCh7fSkubmV4dCgobyA9PiB7XG4gICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChcIm51bWJlclwiID09IHR5cGVvZiBvKTtcbiAgICAgICAgICAgIGNvbnN0IF8gPSBuZXcgTXV0YXRpb25CYXRjaChvLCB0LCBuLCByKSwgYSA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b0RiTXV0YXRpb25CYXRjaChlLCB0LCBuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IG4uYmFzZU11dGF0aW9ucy5tYXAoKHQgPT4gdG9NdXRhdGlvbihlLmN0LCB0KSkpLCBpID0gbi5tdXRhdGlvbnMubWFwKCh0ID0+IHRvTXV0YXRpb24oZS5jdCwgdCkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB1c2VySWQ6IHQsXG4gICAgICAgICAgICAgICAgICAgIGJhdGNoSWQ6IG4uYmF0Y2hJZCxcbiAgICAgICAgICAgICAgICAgICAgbG9jYWxXcml0ZVRpbWVNczogbi5sb2NhbFdyaXRlVGltZS50b01pbGxpcygpLFxuICAgICAgICAgICAgICAgICAgICBiYXNlTXV0YXRpb25zOiByLFxuICAgICAgICAgICAgICAgICAgICBtdXRhdGlvbnM6IGlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSh0aGlzLnNlcmlhbGl6ZXIsIHRoaXMudXNlcklkLCBfKSwgdSA9IFtdO1xuICAgICAgICAgICAgbGV0IGMgPSBuZXcgU29ydGVkU2V0KCgoZSwgdCkgPT4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5jYW5vbmljYWxTdHJpbmcoKSwgdC5jYW5vbmljYWxTdHJpbmcoKSkpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiByKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25LZXkodGhpcy51c2VySWQsIGUua2V5LnBhdGgsIG8pO1xuICAgICAgICAgICAgICAgIGMgPSBjLmFkZChlLmtleS5wYXRoLnBvcExhc3QoKSksIHUucHVzaChzLnB1dChhKSksIHUucHVzaChpLnB1dCh0LCBPKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYy5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgICAgICB1LnB1c2godGhpcy5pbmRleE1hbmFnZXIuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSwgdCkpO1xuICAgICAgICAgICAgfSkpLCBlLmFkZE9uQ29tbWl0dGVkTGlzdGVuZXIoKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLkNuW29dID0gXy5rZXlzKCk7XG4gICAgICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHUpLm5leHQoKCgpID0+IF8pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBsb29rdXBNdXRhdGlvbkJhdGNoKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvbnNTdG9yZShlKS5nZXQodCkubmV4dCgoZSA9PiBlID8gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUudXNlcklkID09PSB0aGlzLnVzZXJJZCksIFxuICAgICAgICBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpKSA6IG51bGwpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZG9jdW1lbnQga2V5cyBmb3IgdGhlIG11dGF0aW9uIGJhdGNoIHdpdGggdGhlIGdpdmVuIGJhdGNoSWQuXG4gICAgICogRm9yIHByaW1hcnkgY2xpZW50cywgdGhpcyBtZXRob2QgcmV0dXJucyBgbnVsbGAgYWZ0ZXJcbiAgICAgKiBgcmVtb3ZlTXV0YXRpb25CYXRjaGVzKClgIGhhcyBiZWVuIGNhbGxlZC4gU2Vjb25kYXJ5IGNsaWVudHMgcmV0dXJuIGFcbiAgICAgKiBjYWNoZWQgcmVzdWx0IHVudGlsIGByZW1vdmVDYWNoZWRNdXRhdGlvbktleXMoKWAgaXMgaW52b2tlZC5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgIHZuKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQ25bdF0gPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLkNuW3RdKSA6IHRoaXMubG9va3VwTXV0YXRpb25CYXRjaChlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IGUua2V5cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkNuW3RdID0gbiwgbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQgKyAxLCByID0gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChbIHRoaXMudXNlcklkLCBuIF0pO1xuICAgICAgICBsZXQgaSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJ1c2VyTXV0YXRpb25zSW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiByXG4gICAgICAgIH0sICgoZSwgdCwgcikgPT4ge1xuICAgICAgICAgICAgdC51c2VySWQgPT09IHRoaXMudXNlcklkICYmIChfX1BSSVZBVEVfaGFyZEFzc2VydCh0LmJhdGNoSWQgPj0gbiksIGkgPSBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIHQpKSwgXG4gICAgICAgICAgICByLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGkpKTtcbiAgICB9XG4gICAgZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBJREJLZXlSYW5nZS51cHBlckJvdW5kKFsgdGhpcy51c2VySWQsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdKTtcbiAgICAgICAgbGV0IG4gPSAtMTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcInVzZXJNdXRhdGlvbnNJbmRleFwiLFxuICAgICAgICAgICAgcmFuZ2U6IHQsXG4gICAgICAgICAgICByZXZlcnNlOiAhMFxuICAgICAgICB9LCAoKGUsIHQsIHIpID0+IHtcbiAgICAgICAgICAgIG4gPSB0LmJhdGNoSWQsIHIuZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0aGlzLnVzZXJJZCwgLTEgXSwgWyB0aGlzLnVzZXJJZCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLlUoXCJ1c2VyTXV0YXRpb25zSW5kZXhcIiwgdCkubmV4dCgoZSA9PiBlLm1hcCgoZSA9PiBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpKSkpKTtcbiAgICB9XG4gICAgZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXkoZSwgdCkge1xuICAgICAgICAvLyBTY2FuIHRoZSBkb2N1bWVudC1tdXRhdGlvbiBpbmRleCBzdGFydGluZyB3aXRoIGEgcHJlZml4IHN0YXJ0aW5nIHdpdGhcbiAgICAgICAgLy8gdGhlIGdpdmVuIGRvY3VtZW50S2V5LlxuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvblByZWZpeEZvclBhdGgodGhpcy51c2VySWQsIHQucGF0aCksIHIgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKG4pLCBpID0gW107XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIHJhbmdlOiByXG4gICAgICAgIH0sICgobiwgciwgcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgW28sIF8sIGFdID0gbiwgdSA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgoXyk7XG4gICAgICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIHJvd3MgbWF0Y2hpbmcgZXhhY3RseSB0aGUgc3BlY2lmaWMga2V5IG9mXG4gICAgICAgICAgICAvLyBpbnRlcmVzdC4gTm90ZSB0aGF0IGJlY2F1c2Ugd2Ugb3JkZXIgYnkgcGF0aCBmaXJzdCwgYW5kIHdlXG4gICAgICAgICAgICAvLyBvcmRlciB0ZXJtaW5hdG9ycyBiZWZvcmUgcGF0aCBzZXBhcmF0b3JzLCB3ZSdsbCBlbmNvdW50ZXIgYWxsXG4gICAgICAgICAgICAvLyB0aGUgaW5kZXggcm93cyBmb3IgZG9jdW1lbnRLZXkgY29udGlndW91c2x5LiBJbiBwYXJ0aWN1bGFyLCBhbGxcbiAgICAgICAgICAgIC8vIHRoZSByb3dzIGZvciBkb2N1bWVudEtleSB3aWxsIG9jY3VyIGJlZm9yZSBhbnkgcm93cyBmb3JcbiAgICAgICAgICAgIC8vIGRvY3VtZW50cyBuZXN0ZWQgaW4gYSBzdWJjb2xsZWN0aW9uIGJlbmVhdGggZG9jdW1lbnRLZXkgc28gd2VcbiAgICAgICAgICAgIC8vIGNhbiBzdG9wIGFzIHNvb24gYXMgd2UgaGl0IGFueSBzdWNoIHJvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvID09PSB0aGlzLnVzZXJJZCAmJiB0LnBhdGguaXNFcXVhbCh1KSkgXG4gICAgICAgICAgICAvLyBMb29rIHVwIHRoZSBtdXRhdGlvbiBiYXRjaCBpbiB0aGUgc3RvcmUuXG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLmdldChhKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIWUpIHRocm93IGZhaWwoKTtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChlLnVzZXJJZCA9PT0gdGhpcy51c2VySWQpLCBpLnB1c2goX19QUklWQVRFX2Zyb21EYk11dGF0aW9uQmF0Y2godGhpcy5zZXJpYWxpemVyLCBlKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBzLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGkpKTtcbiAgICB9XG4gICAgZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKTtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yUGF0aCh0aGlzLnVzZXJJZCwgdC5wYXRoKSwgcyA9IElEQktleVJhbmdlLmxvd2VyQm91bmQoaSksIG8gPSBfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgICAgICByYW5nZTogc1xuICAgICAgICAgICAgfSwgKChlLCByLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgW3MsIG8sIF9dID0gZSwgYSA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgobyk7XG4gICAgICAgICAgICAgICAgLy8gT25seSBjb25zaWRlciByb3dzIG1hdGNoaW5nIGV4YWN0bHkgdGhlIHNwZWNpZmljIGtleSBvZlxuICAgICAgICAgICAgICAgIC8vIGludGVyZXN0LiBOb3RlIHRoYXQgYmVjYXVzZSB3ZSBvcmRlciBieSBwYXRoIGZpcnN0LCBhbmQgd2VcbiAgICAgICAgICAgICAgICAvLyBvcmRlciB0ZXJtaW5hdG9ycyBiZWZvcmUgcGF0aCBzZXBhcmF0b3JzLCB3ZSdsbCBlbmNvdW50ZXIgYWxsXG4gICAgICAgICAgICAgICAgLy8gdGhlIGluZGV4IHJvd3MgZm9yIGRvY3VtZW50S2V5IGNvbnRpZ3VvdXNseS4gSW4gcGFydGljdWxhciwgYWxsXG4gICAgICAgICAgICAgICAgLy8gdGhlIHJvd3MgZm9yIGRvY3VtZW50S2V5IHdpbGwgb2NjdXIgYmVmb3JlIGFueSByb3dzIGZvclxuICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50cyBuZXN0ZWQgaW4gYSBzdWJjb2xsZWN0aW9uIGJlbmVhdGggZG9jdW1lbnRLZXkgc28gd2VcbiAgICAgICAgICAgICAgICAvLyBjYW4gc3RvcCBhcyBzb29uIGFzIHdlIGhpdCBhbnkgc3VjaCByb3cuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHMgPT09IHRoaXMudXNlcklkICYmIHQucGF0aC5pc0VxdWFsKGEpID8gbiA9IG4uYWRkKF8pIDogaS5kb25lKCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICByLnB1c2gobyk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IocikubmV4dCgoKCkgPT4gdGhpcy5GbihlLCBuKSkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LnBhdGgsIHIgPSBuLmxlbmd0aCArIDEsIGkgPSBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yUGF0aCh0aGlzLnVzZXJJZCwgbiksIHMgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGkpO1xuICAgICAgICAvLyBDb2xsZWN0IHVwIHVuaXF1ZSBiYXRjaElEcyBlbmNvdW50ZXJlZCBkdXJpbmcgYSBzY2FuIG9mIHRoZSBpbmRleC4gVXNlIGFcbiAgICAgICAgLy8gU29ydGVkU2V0IHRvIGFjY3VtdWxhdGUgYmF0Y2ggSURzIHNvIHRoZXkgY2FuIGJlIHRyYXZlcnNlZCBpbiBvcmRlciBpbiBhXG4gICAgICAgIC8vIHNjYW4gb2YgdGhlIG1haW4gdGFibGUuXG4gICAgICAgIGxldCBvID0gbmV3IFNvcnRlZFNldChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcik7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIHJhbmdlOiBzXG4gICAgICAgIH0sICgoZSwgdCwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgW3MsIF8sIGFdID0gZSwgdSA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgoXyk7XG4gICAgICAgICAgICBzID09PSB0aGlzLnVzZXJJZCAmJiBuLmlzUHJlZml4T2YodSkgPyBcbiAgICAgICAgICAgIC8vIFJvd3Mgd2l0aCBkb2N1bWVudCBrZXlzIG1vcmUgdGhhbiBvbmUgc2VnbWVudCBsb25nZXIgdGhhbiB0aGVcbiAgICAgICAgICAgIC8vIHF1ZXJ5IHBhdGggY2FuJ3QgYmUgbWF0Y2hlcy4gRm9yIGV4YW1wbGUsIGEgcXVlcnkgb24gJ3Jvb21zJ1xuICAgICAgICAgICAgLy8gY2FuJ3QgbWF0Y2ggdGhlIGRvY3VtZW50IC9yb29tcy9hYmMvbWVzc2FnZXMveHl4LlxuICAgICAgICAgICAgLy8gVE9ETyhtY2cpOiB3ZSdsbCBuZWVkIGEgZGlmZmVyZW50IHNjYW5uZXIgd2hlbiB3ZSBpbXBsZW1lbnRcbiAgICAgICAgICAgIC8vIGFuY2VzdG9yIHF1ZXJpZXMuXG4gICAgICAgICAgICB1Lmxlbmd0aCA9PT0gciAmJiAobyA9IG8uYWRkKGEpKSA6IGkuZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gdGhpcy5GbihlLCBvKSkpO1xuICAgIH1cbiAgICBGbihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBbXSwgciA9IFtdO1xuICAgICAgICAvLyBUT0RPKHJvY2t3b29kKTogSW1wbGVtZW50IHRoaXMgdXNpbmcgaXRlcmF0ZS5cbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICByLnB1c2goX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLmdldCh0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobnVsbCA9PT0gZSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUudXNlcklkID09PSB0aGlzLnVzZXJJZCksIG4ucHVzaChfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IocikubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICByZW1vdmVNdXRhdGlvbkJhdGNoKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHJlbW92ZU11dGF0aW9uQmF0Y2goZS5fZSwgdGhpcy51c2VySWQsIHQpLm5leHQoKG4gPT4gKGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcigoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5Nbih0LmJhdGNoSWQpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKG4sICh0ID0+IHRoaXMucmVmZXJlbmNlRGVsZWdhdGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgdCkpKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBjYWNoZWQga2V5cyBmb3IgYSBtdXRhdGlvbiBiYXRjaC4gVGhpcyBtZXRob2Qgc2hvdWxkIGJlXG4gICAgICogY2FsbGVkIGJ5IHNlY29uZGFyeSBjbGllbnRzIGFmdGVyIHRoZXkgcHJvY2VzcyBtdXRhdGlvbiB1cGRhdGVzLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoaXMgbWV0aG9kIGRvZXMgbm90IGhhdmUgdG8gYmUgY2FsbGVkIGZyb20gcHJpbWFyeSBjbGllbnRzIGFzXG4gICAgICogdGhlIGNvcnJlc3BvbmRpbmcgY2FjaGUgZW50cmllcyBhcmUgY2xlYXJlZCB3aGVuIGFuIGFja25vd2xlZGdlZCBvclxuICAgICAqIHJlamVjdGVkIGJhdGNoIGlzIHJlbW92ZWQgZnJvbSB0aGUgbXV0YXRpb24gcXVldWUuXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seVxuICAgIE1uKGUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuQ25bZV07XG4gICAgfVxuICAgIHBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tFbXB0eShlKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIGlmICghdCkgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAvLyBWZXJpZnkgdGhhdCB0aGVyZSBhcmUgbm8gZW50cmllcyBpbiB0aGUgZG9jdW1lbnRNdXRhdGlvbnMgaW5kZXggaWZcbiAgICAgICAgICAgIC8vIHRoZSBxdWV1ZSBpcyBlbXB0eS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKFxuICAgICAgICAgICAgLyoqXG4gKiBDcmVhdGVzIGEgW3VzZXJJZF0ga2V5IGZvciB1c2UgaW4gdGhlIERiRG9jdW1lbnRNdXRhdGlvbnMgaW5kZXggdG8gaXRlcmF0ZVxuICogb3ZlciBhbGwgb2YgYSB1c2VyJ3MgZG9jdW1lbnQgbXV0YXRpb25zLlxuICovXG4gICAgICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yVXNlcihlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsgZSBdO1xuICAgICAgICAgICAgfSh0aGlzLnVzZXJJZCkpLCByID0gW107XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50TXV0YXRpb25zU3RvcmUoZSkuSih7XG4gICAgICAgICAgICAgICAgcmFuZ2U6IG5cbiAgICAgICAgICAgIH0sICgoZSwgdCwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChlWzBdID09PSB0aGlzLnVzZXJJZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChlWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgci5wdXNoKHQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBuLmRvbmUoKTtcbiAgICAgICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoMCA9PT0gci5sZW5ndGgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlQ29udGFpbnNLZXkoZSwgdGhpcy51c2VySWQsIHQpO1xuICAgIH1cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5IChzdGF0ZSBpcyBoZWxkIGluIG1lbW9yeSBpbiBvdGhlciBjbGllbnRzKS5cbiAgICAvKiogUmV0dXJucyB0aGUgbXV0YXRpb24gcXVldWUncyBtZXRhZGF0YSBmcm9tIEluZGV4ZWREYi4gKi9cbiAgICB4bihlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZXNTdG9yZShlKS5nZXQodGhpcy51c2VySWQpLm5leHQoKGUgPT4gZSB8fCB7XG4gICAgICAgICAgICB1c2VySWQ6IHRoaXMudXNlcklkLFxuICAgICAgICAgICAgbGFzdEFja25vd2xlZGdlZEJhdGNoSWQ6IC0xLFxuICAgICAgICAgICAgbGFzdFN0cmVhbVRva2VuOiBcIlwiXG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgbXV0YXRpb24gcXVldWUgZm9yIHRoZSBnaXZlbiB1c2VyIGNvbnRhaW5zIGEgcGVuZGluZ1xuICogICAgICAgICBtdXRhdGlvbiBmb3IgdGhlIGdpdmVuIGtleS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZUNvbnRhaW5zS2V5KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvblByZWZpeEZvclBhdGgodCwgbi5wYXRoKSwgaSA9IHJbMV0sIHMgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHIpO1xuICAgIGxldCBvID0gITE7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9kb2N1bWVudE11dGF0aW9uc1N0b3JlKGUpLkooe1xuICAgICAgICByYW5nZTogcyxcbiAgICAgICAgSDogITBcbiAgICB9LCAoKGUsIG4sIHIpID0+IHtcbiAgICAgICAgY29uc3QgW3MsIF8sIC8qYmF0Y2hJRCovIGFdID0gZTtcbiAgICAgICAgcyA9PT0gdCAmJiBfID09PSBpICYmIChvID0gITApLCByLmRvbmUoKTtcbiAgICB9KSkubmV4dCgoKCkgPT4gbykpO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGFueSBtdXRhdGlvbiBxdWV1ZSBjb250YWlucyB0aGUgZ2l2ZW4gZG9jdW1lbnQuICovXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgbXV0YXRpb25zIG9iamVjdCBzdG9yZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwibXV0YXRpb25zXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgbXV0YXRpb25RdWV1ZXMgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudE11dGF0aW9uc1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiZG9jdW1lbnRNdXRhdGlvbnNcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBtdXRhdGlvblF1ZXVlcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX211dGF0aW9uUXVldWVzU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJtdXRhdGlvblF1ZXVlc1wiKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBPZmZzZXQgdG8gZW5zdXJlIG5vbi1vdmVybGFwcGluZyB0YXJnZXQgaWRzLiAqL1xuLyoqXG4gKiBHZW5lcmF0ZXMgbW9ub3RvbmljYWxseSBpbmNyZWFzaW5nIHRhcmdldCBJRHMgZm9yIHNlbmRpbmcgdGFyZ2V0cyB0byB0aGVcbiAqIHdhdGNoIHN0cmVhbS5cbiAqXG4gKiBUaGUgY2xpZW50IGNvbnN0cnVjdHMgdHdvIGdlbmVyYXRvcnMsIG9uZSBmb3IgdGhlIHRhcmdldCBjYWNoZSwgYW5kIG9uZSBmb3JcbiAqIGZvciB0aGUgc3luYyBlbmdpbmUgKHRvIGdlbmVyYXRlIGxpbWJvIGRvY3VtZW50cyB0YXJnZXRzKS4gVGhlc2VcbiAqIGdlbmVyYXRvcnMgcHJvZHVjZSBub24tb3ZlcmxhcHBpbmcgSURzIChieSB1c2luZyBldmVuIGFuZCBvZGQgSURzXG4gKiByZXNwZWN0aXZlbHkpLlxuICpcbiAqIEJ5IHNlcGFyYXRpbmcgdGhlIHRhcmdldCBJRCBzcGFjZSwgdGhlIHF1ZXJ5IGNhY2hlIGNhbiBnZW5lcmF0ZSB0YXJnZXQgSURzXG4gKiB0aGF0IHBlcnNpc3QgYWNyb3NzIGNsaWVudCByZXN0YXJ0cywgd2hpbGUgc3luYyBlbmdpbmUgY2FuIGluZGVwZW5kZW50bHlcbiAqIGdlbmVyYXRlIGluLW1lbW9yeSB0YXJnZXQgSURzIHRoYXQgYXJlIHRyYW5zaWVudCBhbmQgY2FuIGJlIHJldXNlZCBhZnRlciBhXG4gKiByZXN0YXJ0LlxuICovXG5jbGFzcyBfX1BSSVZBVEVfVGFyZ2V0SWRHZW5lcmF0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5PbiA9IGU7XG4gICAgfVxuICAgIG5leHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLk9uICs9IDIsIHRoaXMuT247XG4gICAgfVxuICAgIHN0YXRpYyBObigpIHtcbiAgICAgICAgLy8gVGhlIHRhcmdldCBjYWNoZSBnZW5lcmF0b3IgbXVzdCByZXR1cm4gJzInIGluIGl0cyBmaXJzdCBjYWxsIHRvIGBuZXh0KClgXG4gICAgICAgIC8vIGFzIHRoZXJlIGlzIG5vIGRpZmZlcmVudGlhdGlvbiBpbiB0aGUgcHJvdG9jb2wgbGF5ZXIgYmV0d2VlbiBhbiB1bnNldFxuICAgICAgICAvLyBudW1iZXIgYW5kIHRoZSBudW1iZXIgJzAnLiBJZiB3ZSB3ZXJlIHRvIHNlbnQgYSB0YXJnZXQgd2l0aCB0YXJnZXQgSURcbiAgICAgICAgLy8gJzAnLCB0aGUgYmFja2VuZCB3b3VsZCBjb25zaWRlciBpdCB1bnNldCBhbmQgcmVwbGFjZSBpdCB3aXRoIGl0cyBvd24gSUQuXG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yKDApO1xuICAgIH1cbiAgICBzdGF0aWMgTG4oKSB7XG4gICAgICAgIC8vIFN5bmMgZW5naW5lIGFzc2lnbnMgdGFyZ2V0IElEcyBmb3IgbGltYm8gZG9jdW1lbnQgZGV0ZWN0aW9uLlxuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9UYXJnZXRJZEdlbmVyYXRvcigtMSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiVGFyZ2V0Q2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSA9IGUsIHRoaXMuc2VyaWFsaXplciA9IHQ7XG4gICAgfVxuICAgIC8vIFBPUlRJTkcgTk9URTogV2UgZG9uJ3QgY2FjaGUgZ2xvYmFsIG1ldGFkYXRhIGZvciB0aGUgdGFyZ2V0IGNhY2hlLCBzaW5jZVxuICAgIC8vIHNvbWUgb2YgaXQgKGluIHBhcnRpY3VsYXIgYGhpZ2hlc3RUYXJnZXRJZGApIGNhbiBiZSBtb2RpZmllZCBieSBzZWNvbmRhcnlcbiAgICAvLyB0YWJzLiBXZSBjb3VsZCBwZXJoYXBzIGJlIG1vcmUgZ3JhbnVsYXIgKGFuZCBlLmcuIHN0aWxsIGNhY2hlXG4gICAgLy8gYGxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb25gIGluIG1lbW9yeSkgYnV0IGZvciBzaW1wbGljaXR5IHdlIGN1cnJlbnRseSBnb1xuICAgIC8vIHRvIEluZGV4ZWREYiB3aGVuZXZlciB3ZSBuZWVkIHRvIHJlYWQgbWV0YWRhdGEuIFdlIGNhbiByZXZpc2l0IGlmIGl0IHR1cm5zXG4gICAgLy8gb3V0IHRvIGhhdmUgYSBtZWFuaW5nZnVsIHBlcmZvcm1hbmNlIGltcGFjdC5cbiAgICBhbGxvY2F0ZVRhcmdldElkKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQm4oZSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9UYXJnZXRJZEdlbmVyYXRvcih0LmhpZ2hlc3RUYXJnZXRJZCk7XG4gICAgICAgICAgICByZXR1cm4gdC5oaWdoZXN0VGFyZ2V0SWQgPSBuLm5leHQoKSwgdGhpcy5rbihlLCB0KS5uZXh0KCgoKSA9PiB0LmhpZ2hlc3RUYXJnZXRJZCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5CbihlKS5uZXh0KChlID0+IFNuYXBzaG90VmVyc2lvbi5mcm9tVGltZXN0YW1wKG5ldyBUaW1lc3RhbXAoZS5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uLnNlY29uZHMsIGUubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbi5uYW5vc2Vjb25kcykpKSk7XG4gICAgfVxuICAgIGdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcihlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJuKGUpLm5leHQoKGUgPT4gZS5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIpKTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0c01ldGFkYXRhKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQm4oZSkubmV4dCgociA9PiAoci5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgPSB0LCBuICYmIChyLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24gPSBuLnRvVGltZXN0YW1wKCkpLCBcbiAgICAgICAgdCA+IHIuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyICYmIChyLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciA9IHQpLCB0aGlzLmtuKGUsIHIpKSkpO1xuICAgIH1cbiAgICBhZGRUYXJnZXREYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucW4oZSwgdCkubmV4dCgoKCkgPT4gdGhpcy5CbihlKS5uZXh0KChuID0+IChuLnRhcmdldENvdW50ICs9IDEsIHRoaXMuUW4odCwgbiksIFxuICAgICAgICB0aGlzLmtuKGUsIG4pKSkpKSk7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xbihlLCB0KTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsIHQudGFyZ2V0SWQpLm5leHQoKCgpID0+IF9fUFJJVkFURV90YXJnZXRzU3RvcmUoZSkuZGVsZXRlKHQudGFyZ2V0SWQpKSkubmV4dCgoKCkgPT4gdGhpcy5CbihlKSkpLm5leHQoKHQgPT4gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHQudGFyZ2V0Q291bnQgPiAwKSwgXG4gICAgICAgIHQudGFyZ2V0Q291bnQgLT0gMSwgdGhpcy5rbihlLCB0KSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRHJvcHMgYW55IHRhcmdldHMgd2l0aCBzZXF1ZW5jZSBudW1iZXIgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB1cHBlciBib3VuZCwgZXhjZXB0aW5nIHRob3NlXG4gICAgICogcHJlc2VudCBpbiBgYWN0aXZlVGFyZ2V0SWRzYC4gRG9jdW1lbnQgYXNzb2NpYXRpb25zIGZvciB0aGUgcmVtb3ZlZCB0YXJnZXRzIGFyZSBhbHNvIHJlbW92ZWQuXG4gICAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9mIHRhcmdldHMgcmVtb3ZlZC5cbiAgICAgKi8gICAgcmVtb3ZlVGFyZ2V0cyhlLCB0LCBuKSB7XG4gICAgICAgIGxldCByID0gMDtcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5KKCgocywgbykgPT4ge1xuICAgICAgICAgICAgY29uc3QgXyA9IF9fUFJJVkFURV9mcm9tRGJUYXJnZXQobyk7XG4gICAgICAgICAgICBfLnNlcXVlbmNlTnVtYmVyIDw9IHQgJiYgbnVsbCA9PT0gbi5nZXQoXy50YXJnZXRJZCkgJiYgKHIrKywgaS5wdXNoKHRoaXMucmVtb3ZlVGFyZ2V0RGF0YShlLCBfKSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IoaSkpKS5uZXh0KCgoKSA9PiByKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgcHJvdmlkZWQgZnVuY3Rpb24gd2l0aCBlYWNoIGBUYXJnZXREYXRhYCB0aGF0IHdlIGhhdmUgY2FjaGVkLlxuICAgICAqLyAgICBmb3JFYWNoVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV90YXJnZXRzU3RvcmUoZSkuSigoKGUsIG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZnJvbURiVGFyZ2V0KG4pO1xuICAgICAgICAgICAgdChyKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBCbihlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZ2xvYmFsVGFyZ2V0U3RvcmUoZSkuZ2V0KFwidGFyZ2V0R2xvYmFsS2V5XCIpLm5leHQoKGUgPT4gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KG51bGwgIT09IGUpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAga24oZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2dsb2JhbFRhcmdldFN0b3JlKGUpLnB1dChcInRhcmdldEdsb2JhbEtleVwiLCB0KTtcbiAgICB9XG4gICAgcW4oZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5wdXQoX19QUklWQVRFX3RvRGJUYXJnZXQodGhpcy5zZXJpYWxpemVyLCB0KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluLXBsYWNlIHVwZGF0ZXMgdGhlIHByb3ZpZGVkIG1ldGFkYXRhIHRvIGFjY291bnQgZm9yIHZhbHVlcyBpbiB0aGUgZ2l2ZW5cbiAgICAgKiBUYXJnZXREYXRhLiBTYXZpbmcgaXMgZG9uZSBzZXBhcmF0ZWx5LiBSZXR1cm5zIHRydWUgaWYgdGhlcmUgd2VyZSBhbnlcbiAgICAgKiBjaGFuZ2VzIHRvIHRoZSBtZXRhZGF0YS5cbiAgICAgKi8gICAgUW4oZSwgdCkge1xuICAgICAgICBsZXQgbiA9ICExO1xuICAgICAgICByZXR1cm4gZS50YXJnZXRJZCA+IHQuaGlnaGVzdFRhcmdldElkICYmICh0LmhpZ2hlc3RUYXJnZXRJZCA9IGUudGFyZ2V0SWQsIG4gPSAhMCksIFxuICAgICAgICBlLnNlcXVlbmNlTnVtYmVyID4gdC5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgJiYgKHQuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyID0gZS5zZXF1ZW5jZU51bWJlciwgXG4gICAgICAgIG4gPSAhMCksIG47XG4gICAgfVxuICAgIGdldFRhcmdldENvdW50KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQm4oZSkubmV4dCgoZSA9PiBlLnRhcmdldENvdW50KSk7XG4gICAgfVxuICAgIGdldFRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICAvLyBJdGVyYXRpbmcgYnkgdGhlIGNhbm9uaWNhbElkIG1heSB5aWVsZCBtb3JlIHRoYW4gb25lIHJlc3VsdCBiZWNhdXNlXG4gICAgICAgIC8vIGNhbm9uaWNhbElkIHZhbHVlcyBhcmUgbm90IHJlcXVpcmVkIHRvIGJlIHVuaXF1ZSBwZXIgdGFyZ2V0LiBUaGlzIHF1ZXJ5XG4gICAgICAgIC8vIGRlcGVuZHMgb24gdGhlIHF1ZXJ5VGFyZ2V0cyBpbmRleCB0byBiZSBlZmZpY2llbnQuXG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY2Fub25pZnlUYXJnZXQodCksIHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIG4sIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSBdLCBbIG4sIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSBdKTtcbiAgICAgICAgbGV0IGkgPSBudWxsO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIHJhbmdlOiByLFxuICAgICAgICAgICAgaW5kZXg6IFwicXVlcnlUYXJnZXRzSW5kZXhcIlxuICAgICAgICB9LCAoKGUsIG4sIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBfX1BSSVZBVEVfZnJvbURiVGFyZ2V0KG4pO1xuICAgICAgICAgICAgLy8gQWZ0ZXIgZmluZGluZyBhIHBvdGVudGlhbCBtYXRjaCwgY2hlY2sgdGhhdCB0aGUgdGFyZ2V0IGlzXG4gICAgICAgICAgICAvLyBhY3R1YWxseSBlcXVhbCB0byB0aGUgcmVxdWVzdGVkIHRhcmdldC5cbiAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV90YXJnZXRFcXVhbHModCwgcy50YXJnZXQpICYmIChpID0gcywgci5kb25lKCkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBhZGRNYXRjaGluZ0tleXMoZSwgdCwgbikge1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IFRoZSByZXZlcnNlIGluZGV4IChkb2N1bWVudHNUYXJnZXRzKSBpcyBtYWludGFpbmVkIGJ5XG4gICAgICAgIC8vIEluZGV4ZWREYi5cbiAgICAgICAgY29uc3QgciA9IFtdLCBpID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSk7XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodC5wYXRoKTtcbiAgICAgICAgICAgIHIucHVzaChpLnB1dCh7XG4gICAgICAgICAgICAgICAgdGFyZ2V0SWQ6IG4sXG4gICAgICAgICAgICAgICAgcGF0aDogc1xuICAgICAgICAgICAgfSkpLCByLnB1c2godGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5hZGRSZWZlcmVuY2UoZSwgbiwgdCkpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHIpO1xuICAgIH1cbiAgICByZW1vdmVNYXRjaGluZ0tleXMoZSwgdCwgbikge1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IFRoZSByZXZlcnNlIGluZGV4IChkb2N1bWVudHNUYXJnZXRzKSBpcyBtYWludGFpbmVkIGJ5XG4gICAgICAgIC8vIEluZGV4ZWREYi5cbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9kb2N1bWVudFRhcmdldFN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodC5wYXRoKTtcbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihbIHIuZGVsZXRlKFsgbiwgaSBdKSwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5yZW1vdmVSZWZlcmVuY2UoZSwgbiwgdCkgXSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgcmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSksIHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIHQgXSwgWyB0ICsgMSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITEsIFxuICAgICAgICAvKnVwcGVyT3Blbj0qLyAhMCk7XG4gICAgICAgIHJldHVybiBuLmRlbGV0ZShyKTtcbiAgICB9XG4gICAgZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0IF0sIFsgdCArIDEgXSwgXG4gICAgICAgIC8qbG93ZXJPcGVuPSovICExLCBcbiAgICAgICAgLyp1cHBlck9wZW49Ki8gITApLCByID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSk7XG4gICAgICAgIGxldCBpID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIHJldHVybiByLkooe1xuICAgICAgICAgICAgcmFuZ2U6IG4sXG4gICAgICAgICAgICBIOiAhMFxuICAgICAgICB9LCAoKGUsIHQsIG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVjb2RlUmVzb3VyY2VQYXRoKGVbMV0pLCBzID0gbmV3IERvY3VtZW50S2V5KHIpO1xuICAgICAgICAgICAgaSA9IGkuYWRkKHMpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBjb250YWluc0tleShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZW5jb2RlUmVzb3VyY2VQYXRoKHQucGF0aCksIHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIG4gXSwgWyBfX1BSSVZBVEVfaW1tZWRpYXRlU3VjY2Vzc29yKG4pIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgIC8qdXBwZXJPcGVuPSovICEwKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJkb2N1bWVudFRhcmdldHNJbmRleFwiLFxuICAgICAgICAgICAgSDogITAsXG4gICAgICAgICAgICByYW5nZTogclxuICAgICAgICB9LCAoKFtlLCB0XSwgbiwgcikgPT4ge1xuICAgICAgICAgICAgLy8gSGF2aW5nIGEgc2VudGluZWwgcm93IGZvciBhIGRvY3VtZW50IGRvZXMgbm90IGNvdW50IGFzIGNvbnRhaW5pbmcgdGhhdCBkb2N1bWVudDtcbiAgICAgICAgICAgIC8vIEZvciB0aGUgdGFyZ2V0IGNhY2hlLCBjb250YWluaW5nIHRoZSBkb2N1bWVudCBtZWFucyB0aGUgZG9jdW1lbnQgaXMgcGFydCBvZiBzb21lXG4gICAgICAgICAgICAvLyB0YXJnZXQuXG4gICAgICAgICAgICAwICE9PSBlICYmIChpKyssIHIuZG9uZSgpKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGkgPiAwKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIGEgVGFyZ2V0RGF0YSBlbnRyeSBieSB0YXJnZXQgSUQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFyZ2V0SWQgLSBUaGUgdGFyZ2V0IElEIG9mIHRoZSBUYXJnZXREYXRhIGVudHJ5IHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgVGhlIGNhY2hlZCBUYXJnZXREYXRhIGVudHJ5LCBvciBudWxsIGlmIHRoZSBjYWNoZSBoYXMgbm8gZW50cnkgZm9yXG4gICAgICogdGhlIHRhcmdldC5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgIG90KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV90YXJnZXRzU3RvcmUoZSkuZ2V0KHQpLm5leHQoKGUgPT4gZSA/IF9fUFJJVkFURV9mcm9tRGJUYXJnZXQoZSkgOiBudWxsKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgcXVlcmllcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcInRhcmdldHNcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSB0YXJnZXQgZ2xvYmFscyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2dsb2JhbFRhcmdldFN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwidGFyZ2V0R2xvYmFsXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgZG9jdW1lbnQgdGFyZ2V0IG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcInRhcmdldERvY3VtZW50c1wiKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2J1ZmZlckVudHJ5Q29tcGFyYXRvcihbZSwgdF0sIFtuLCByXSkge1xuICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLCBuKTtcbiAgICByZXR1cm4gMCA9PT0gaSA/IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKHQsIHIpIDogaTtcbn1cblxuLyoqXG4gKiBVc2VkIHRvIGNhbGN1bGF0ZSB0aGUgbnRoIHNlcXVlbmNlIG51bWJlci4gS2VlcHMgYSByb2xsaW5nIGJ1ZmZlciBvZiB0aGVcbiAqIGxvd2VzdCBuIHZhbHVlcyBwYXNzZWQgdG8gYGFkZEVsZW1lbnRgLCBhbmQgZmluYWxseSByZXBvcnRzIHRoZSBsYXJnZXN0IG9mXG4gKiB0aGVtIGluIGBtYXhWYWx1ZWAuXG4gKi8gY2xhc3MgX19QUklWQVRFX1JvbGxpbmdTZXF1ZW5jZU51bWJlckJ1ZmZlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLktuID0gZSwgdGhpcy5idWZmZXIgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9idWZmZXJFbnRyeUNvbXBhcmF0b3IpLCB0aGlzLiRuID0gMDtcbiAgICB9XG4gICAgVW4oKSB7XG4gICAgICAgIHJldHVybiArK3RoaXMuJG47XG4gICAgfVxuICAgIFduKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFsgZSwgdGhpcy5VbigpIF07XG4gICAgICAgIGlmICh0aGlzLmJ1ZmZlci5zaXplIDwgdGhpcy5LbikgdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5hZGQodCk7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuYnVmZmVyLmxhc3QoKTtcbiAgICAgICAgICAgIF9fUFJJVkFURV9idWZmZXJFbnRyeUNvbXBhcmF0b3IodCwgZSkgPCAwICYmICh0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLmRlbGV0ZShlKS5hZGQodCkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgLy8gR3VhcmFudGVlZCB0byBiZSBub24tZW1wdHkuIElmIHdlIGRlY2lkZSB3ZSBhcmUgbm90IGNvbGxlY3RpbmcgYW55XG4gICAgICAgIC8vIHNlcXVlbmNlIG51bWJlcnMsIG50aFNlcXVlbmNlTnVtYmVyIGJlbG93IHNob3J0LWNpcmN1aXRzLiBJZiB3ZSBoYXZlXG4gICAgICAgIC8vIGRlY2lkZWQgdGhhdCB3ZSBhcmUgY29sbGVjdGluZyBuIHNlcXVlbmNlIG51bWJlcnMsIGl0J3MgYmVjYXVzZSBuIGlzIHNvbWVcbiAgICAgICAgLy8gcGVyY2VudGFnZSBvZiB0aGUgZXhpc3Rpbmcgc2VxdWVuY2UgbnVtYmVycy4gVGhhdCBtZWFucyB3ZSBzaG91bGQgbmV2ZXJcbiAgICAgICAgLy8gYmUgaW4gYSBzaXR1YXRpb24gd2hlcmUgd2UgYXJlIGNvbGxlY3Rpbmcgc2VxdWVuY2UgbnVtYmVycyBidXQgZG9uJ3RcbiAgICAgICAgLy8gYWN0dWFsbHkgaGF2ZSBhbnkuXG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5sYXN0KClbMF07XG4gICAgfVxufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgaXMgcmVzcG9uc2libGUgZm9yIHRoZSBzY2hlZHVsaW5nIG9mIExSVSBnYXJiYWdlIGNvbGxlY3Rpb24uIEl0IGhhbmRsZXMgY2hlY2tpbmdcbiAqIHdoZXRoZXIgb3Igbm90IEdDIGlzIGVuYWJsZWQsIGFzIHdlbGwgYXMgd2hpY2ggZGVsYXkgdG8gdXNlIGJlZm9yZSB0aGUgbmV4dCBydW4uXG4gKi8gY2xhc3MgX19QUklWQVRFX0xydVNjaGVkdWxlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLmdhcmJhZ2VDb2xsZWN0b3IgPSBlLCB0aGlzLmFzeW5jUXVldWUgPSB0LCB0aGlzLmxvY2FsU3RvcmUgPSBuLCB0aGlzLkduID0gbnVsbDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIC0xICE9PSB0aGlzLmdhcmJhZ2VDb2xsZWN0b3IucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQgJiYgdGhpcy56big2ZTQpO1xuICAgIH1cbiAgICBzdG9wKCkge1xuICAgICAgICB0aGlzLkduICYmICh0aGlzLkduLmNhbmNlbCgpLCB0aGlzLkduID0gbnVsbCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5HbjtcbiAgICB9XG4gICAgem4oZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIGBHYXJiYWdlIGNvbGxlY3Rpb24gc2NoZWR1bGVkIGluICR7ZX1tc2ApLCBcbiAgICAgICAgdGhpcy5HbiA9IHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheShcImxydV9nYXJiYWdlX2NvbGxlY3Rpb25cIiAvKiBUaW1lcklkLkxydUdhcmJhZ2VDb2xsZWN0aW9uICovICwgZSwgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuR24gPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLmxvY2FsU3RvcmUuY29sbGVjdEdhcmJhZ2UodGhpcy5nYXJiYWdlQ29sbGVjdG9yKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpID8gX19QUklWQVRFX2xvZ0RlYnVnKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLCBcIklnbm9yaW5nIEluZGV4ZWREQiBlcnJvciBkdXJpbmcgZ2FyYmFnZSBjb2xsZWN0aW9uOiBcIiwgZSkgOiBhd2FpdCBfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy56bigzZTUpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEltcGxlbWVudHMgdGhlIHN0ZXBzIGZvciBMUlUgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICovIGNsYXNzIF9fUFJJVkFURV9McnVHYXJiYWdlQ29sbGVjdG9ySW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmpuID0gZSwgdGhpcy5wYXJhbXMgPSB0O1xuICAgIH1cbiAgICBjYWxjdWxhdGVUYXJnZXRDb3VudChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpuLkhuKGUpLm5leHQoKGUgPT4gTWF0aC5mbG9vcih0IC8gMTAwICogZSkpKTtcbiAgICB9XG4gICAgbnRoU2VxdWVuY2VOdW1iZXIoZSwgdCkge1xuICAgICAgICBpZiAoMCA9PT0gdCkgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZSk7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX1JvbGxpbmdTZXF1ZW5jZU51bWJlckJ1ZmZlcih0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuam4uZm9yRWFjaFRhcmdldChlLCAoZSA9PiBuLlduKGUuc2VxdWVuY2VOdW1iZXIpKSkubmV4dCgoKCkgPT4gdGhpcy5qbi5KbihlLCAoZSA9PiBuLlduKGUpKSkpKS5uZXh0KCgoKSA9PiBuLm1heFZhbHVlKSk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldHMoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5qbi5yZW1vdmVUYXJnZXRzKGUsIHQsIG4pO1xuICAgIH1cbiAgICByZW1vdmVPcnBoYW5lZERvY3VtZW50cyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpuLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUsIHQpO1xuICAgIH1cbiAgICBjb2xsZWN0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIC0xID09PSB0aGlzLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkID8gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgXCJHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgZGlzYWJsZWRcIiksIFxuICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShBZSkpIDogdGhpcy5nZXRDYWNoZVNpemUoZSkubmV4dCgobiA9PiBuIDwgdGhpcy5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZCA/IChfX1BSSVZBVEVfbG9nRGVidWcoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIGBHYXJiYWdlIGNvbGxlY3Rpb24gc2tpcHBlZDsgQ2FjaGUgc2l6ZSAke259IGlzIGxvd2VyIHRoYW4gdGhyZXNob2xkICR7dGhpcy5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZH1gKSwgXG4gICAgICAgIEFlKSA6IHRoaXMuWW4oZSwgdCkpKTtcbiAgICB9XG4gICAgZ2V0Q2FjaGVTaXplKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuam4uZ2V0Q2FjaGVTaXplKGUpO1xuICAgIH1cbiAgICBZbihlLCB0KSB7XG4gICAgICAgIGxldCBuLCByLCBpLCBzLCBvLCBhLCB1O1xuICAgICAgICBjb25zdCBjID0gRGF0ZS5ub3coKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlVGFyZ2V0Q291bnQoZSwgdGhpcy5wYXJhbXMucGVyY2VudGlsZVRvQ29sbGVjdCkubmV4dCgodCA9PiAoXG4gICAgICAgIC8vIENhcCBhdCB0aGUgY29uZmlndXJlZCBtYXhcbiAgICAgICAgdCA+IHRoaXMucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QgPyAoX19QUklWQVRFX2xvZ0RlYnVnKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLCBgQ2FwcGluZyBzZXF1ZW5jZSBudW1iZXJzIHRvIGNvbGxlY3QgZG93biB0byB0aGUgbWF4aW11bSBvZiAke3RoaXMucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3R9IGZyb20gJHt0fWApLCBcbiAgICAgICAgciA9IHRoaXMucGFyYW1zLm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QpIDogciA9IHQsIHMgPSBEYXRlLm5vdygpLCB0aGlzLm50aFNlcXVlbmNlTnVtYmVyKGUsIHIpKSkpLm5leHQoKHIgPT4gKG4gPSByLCBcbiAgICAgICAgbyA9IERhdGUubm93KCksIHRoaXMucmVtb3ZlVGFyZ2V0cyhlLCBuLCB0KSkpKS5uZXh0KCh0ID0+IChpID0gdCwgYSA9IERhdGUubm93KCksIFxuICAgICAgICB0aGlzLnJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUsIG4pKSkpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKHUgPSBEYXRlLm5vdygpLCBfX1BSSVZBVEVfZ2V0TG9nTGV2ZWwoKSA8PSBsb2dnZXIuTG9nTGV2ZWwuREVCVUcpIHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIGBMUlUgR2FyYmFnZSBDb2xsZWN0aW9uXFxuXFx0Q291bnRlZCB0YXJnZXRzIGluICR7cyAtIGN9bXNcXG5cXHREZXRlcm1pbmVkIGxlYXN0IHJlY2VudGx5IHVzZWQgJHtyfSBpbiBgICsgKG8gLSBzKSArIFwibXNcXG5cIiArIGBcXHRSZW1vdmVkICR7aX0gdGFyZ2V0cyBpbiBgICsgKGEgLSBvKSArIFwibXNcXG5cIiArIGBcXHRSZW1vdmVkICR7ZX0gZG9jdW1lbnRzIGluIGAgKyAodSAtIGEpICsgXCJtc1xcblwiICsgYFRvdGFsIER1cmF0aW9uOiAke3UgLSBjfW1zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgIGRpZFJ1bjogITAsXG4gICAgICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOiByLFxuICAgICAgICAgICAgICAgIHRhcmdldHNSZW1vdmVkOiBpLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50c1JlbW92ZWQ6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3THJ1R2FyYmFnZUNvbGxlY3RvcihlLCB0KSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTHJ1R2FyYmFnZUNvbGxlY3RvckltcGwoZSwgdCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogUHJvdmlkZXMgTFJVIGZ1bmN0aW9uYWxpdHkgZm9yIEluZGV4ZWREQiBwZXJzaXN0ZW5jZS4gKi8gY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYkxydURlbGVnYXRlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmRiID0gZSwgdGhpcy5nYXJiYWdlQ29sbGVjdG9yID0gX19QUklWQVRFX25ld0xydUdhcmJhZ2VDb2xsZWN0b3IodGhpcywgdCk7XG4gICAgfVxuICAgIEhuKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuWm4oZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkuZ2V0VGFyZ2V0Q291bnQoZSkubmV4dCgoZSA9PiB0Lm5leHQoKHQgPT4gZSArIHQpKSkpO1xuICAgIH1cbiAgICBabihlKSB7XG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuSm4oZSwgKGUgPT4ge1xuICAgICAgICAgICAgdCsrO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gdCkpO1xuICAgIH1cbiAgICBmb3JFYWNoVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5mb3JFYWNoVGFyZ2V0KGUsIHQpO1xuICAgIH1cbiAgICBKbihlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLlhuKGUsICgoZSwgbikgPT4gdChuKSkpO1xuICAgIH1cbiAgICBhZGRSZWZlcmVuY2UoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyaXRlU2VudGluZWxLZXkoZSwgbik7XG4gICAgfVxuICAgIHJlbW92ZVJlZmVyZW5jZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JpdGVTZW50aW5lbEtleShlLCBuKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0cyhlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRiLmdldFRhcmdldENhY2hlKCkucmVtb3ZlVGFyZ2V0cyhlLCB0LCBuKTtcbiAgICB9XG4gICAgbWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyaXRlU2VudGluZWxLZXkoZSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiBhbnl0aGluZyB3b3VsZCBwcmV2ZW50IHRoaXMgZG9jdW1lbnQgZnJvbSBiZWluZyBnYXJiYWdlXG4gICAgICogY29sbGVjdGVkLCBnaXZlbiB0aGF0IHRoZSBkb2N1bWVudCBpbiBxdWVzdGlvbiBpcyBub3QgcHJlc2VudCBpbiBhbnlcbiAgICAgKiB0YXJnZXRzIGFuZCBoYXMgYSBzZXF1ZW5jZSBudW1iZXIgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSB1cHBlciBib3VuZCBmb3JcbiAgICAgKiB0aGUgY29sbGVjdGlvbiBydW4uXG4gICAgICovICAgIGVyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlc0NvbnRhaW5LZXkoZSwgdCkge1xuICAgICAgICAgICAgbGV0IG4gPSAhMTtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZXNTdG9yZShlKS5ZKChyID0+IF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlQ29udGFpbnNLZXkoZSwgciwgdCkubmV4dCgoZSA9PiAoZSAmJiAobiA9ICEwKSwgXG4gICAgICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSghZSkpKSkpKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgICAgIH0oZSwgdCk7XG4gICAgfVxuICAgIHJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuZGIuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLm5ld0NoYW5nZUJ1ZmZlcigpLCByID0gW107XG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuWG4oZSwgKChzLCBvKSA9PiB7XG4gICAgICAgICAgICBpZiAobyA8PSB0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuZXIoZSwgcykubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdCkgXG4gICAgICAgICAgICAgICAgICAgIC8vIE91ciBzaXplIGFjY291bnRpbmcgcmVxdWlyZXMgdXMgdG8gcmVhZCBhbGwgZG9jdW1lbnRzIGJlZm9yZVxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmluZyB0aGVtLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaSsrLCBuLmdldEVudHJ5KGUsIHMpLm5leHQoKCgpID0+IChuLnJlbW92ZUVudHJ5KHMsIFNuYXBzaG90VmVyc2lvbi5taW4oKSksIFxuICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKS5kZWxldGUoZnVuY3Rpb24gX19QUklWQVRFX3NlbnRpbmVsS2V5JDEoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgMCwgX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChlLnBhdGgpIF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBAcmV0dXJucyBBIHZhbHVlIHN1aXRhYmxlIGZvciB3cml0aW5nIGEgc2VudGluZWwgcm93IGluIHRoZSB0YXJnZXQtZG9jdW1lbnRcbiAqIHN0b3JlLlxuICovIChzKSkpKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHIucHVzaCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLm5leHQoKCgpID0+IFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHIpKSkubmV4dCgoKCkgPT4gbi5hcHBseShlKSkpLm5leHQoKCgpID0+IGkpKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQud2l0aFNlcXVlbmNlTnVtYmVyKGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS51cGRhdGVUYXJnZXREYXRhKGUsIG4pO1xuICAgIH1cbiAgICB1cGRhdGVMaW1ib0RvY3VtZW50KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV93cml0ZVNlbnRpbmVsS2V5KGUsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHByb3ZpZGVkIGZ1bmN0aW9uIGZvciBlYWNoIGRvY3VtZW50IGluIHRoZSBjYWNoZSB0aGF0IGlzICdvcnBoYW5lZCcuIE9ycGhhbmVkXG4gICAgICogbWVhbnMgbm90IGEgcGFydCBvZiBhbnkgdGFyZ2V0LCBzbyB0aGUgb25seSBlbnRyeSBpbiB0aGUgdGFyZ2V0LWRvY3VtZW50IGluZGV4IGZvclxuICAgICAqIHRoYXQgZG9jdW1lbnQgd2lsbCBiZSB0aGUgc2VudGluZWwgcm93ICh0YXJnZXRJZCAwKSwgd2hpY2ggd2lsbCBhbHNvIGhhdmUgdGhlIHNlcXVlbmNlXG4gICAgICogbnVtYmVyIGZvciB0aGUgbGFzdCB0aW1lIHRoZSBkb2N1bWVudCB3YXMgYWNjZXNzZWQuXG4gICAgICovICAgIFhuKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kb2N1bWVudFRhcmdldFN0b3JlKGUpO1xuICAgICAgICBsZXQgciwgaSA9IF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZTtcbiAgICAgICAgcmV0dXJuIG4uSih7XG4gICAgICAgICAgICBpbmRleDogXCJkb2N1bWVudFRhcmdldHNJbmRleFwiXG4gICAgICAgIH0sICgoW2UsIG5dLCB7cGF0aDogcywgc2VxdWVuY2VOdW1iZXI6IG99KSA9PiB7XG4gICAgICAgICAgICAwID09PSBlID8gKFxuICAgICAgICAgICAgLy8gaWYgbmV4dFRvUmVwb3J0IGlzIHZhbGlkLCByZXBvcnQgaXQsIHRoaXMgaXMgYSBuZXcga2V5IHNvIHRoZVxuICAgICAgICAgICAgLy8gbGFzdCBvbmUgbXVzdCBub3QgYmUgYSBtZW1iZXIgb2YgYW55IHRhcmdldHMuXG4gICAgICAgICAgICBpICE9PSBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2UgJiYgdChuZXcgRG9jdW1lbnRLZXkoX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChyKSksIGkpLCBcbiAgICAgICAgICAgIC8vIHNldCBuZXh0VG9SZXBvcnQgdG8gYmUgdGhpcyBzZXF1ZW5jZSBudW1iZXIuIEl0J3MgdGhlIG5leHQgb25lIHdlXG4gICAgICAgICAgICAvLyBtaWdodCByZXBvcnQsIGlmIHdlIGRvbid0IGZpbmQgYW55IHRhcmdldHMgZm9yIHRoaXMgZG9jdW1lbnQuXG4gICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIHNlcXVlbmNlIG51bWJlciBtdXN0IGJlIGRlZmluZWQgd2hlbiB0aGUgdGFyZ2V0SWRcbiAgICAgICAgICAgIC8vIGlzIDAuXG4gICAgICAgICAgICBpID0gbywgciA9IHMpIDogXG4gICAgICAgICAgICAvLyBzZXQgbmV4dFRvUmVwb3J0IHRvIGJlIGludmFsaWQsIHdlIGtub3cgd2UgZG9uJ3QgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgIC8vIHRoaXMgb25lIHNpbmNlIHdlIGZvdW5kIGEgdGFyZ2V0IGZvciBpdC5cbiAgICAgICAgICAgIGkgPSBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2U7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBTaW5jZSB3ZSByZXBvcnQgc2VxdWVuY2UgbnVtYmVycyBhZnRlciBnZXR0aW5nIHRvIHRoZSBuZXh0IGtleSwgd2VcbiAgICAgICAgICAgIC8vIG5lZWQgdG8gY2hlY2sgaWYgdGhlIGxhc3Qga2V5IHdlIGl0ZXJhdGVkIG92ZXIgd2FzIGFuIG9ycGhhbmVkXG4gICAgICAgICAgICAvLyBkb2N1bWVudCBhbmQgcmVwb3J0IGl0LlxuICAgICAgICAgICAgaSAhPT0gX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lICYmIHQobmV3IERvY3VtZW50S2V5KF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgocikpLCBpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXRDYWNoZVNpemUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkuZ2V0U2l6ZShlKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV93cml0ZVNlbnRpbmVsS2V5KGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSkucHV0KGZ1bmN0aW9uIF9fUFJJVkFURV9zZW50aW5lbFJvdyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0YXJnZXRJZDogMCxcbiAgICAgICAgICAgIHBhdGg6IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZS5wYXRoKSxcbiAgICAgICAgICAgIHNlcXVlbmNlTnVtYmVyOiB0XG4gICAgICAgIH07XG4gICAgfSh0LCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlcikpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbi1tZW1vcnkgYnVmZmVyIG9mIGVudHJpZXMgdG8gYmUgd3JpdHRlbiB0byBhIFJlbW90ZURvY3VtZW50Q2FjaGUuXG4gKiBJdCBjYW4gYmUgdXNlZCB0byBiYXRjaCB1cCBhIHNldCBvZiBjaGFuZ2VzIHRvIGJlIHdyaXR0ZW4gdG8gdGhlIGNhY2hlLCBidXRcbiAqIGFkZGl0aW9uYWxseSBzdXBwb3J0cyByZWFkaW5nIGVudHJpZXMgYmFjayB3aXRoIHRoZSBgZ2V0RW50cnkoKWAgbWV0aG9kLFxuICogZmFsbGluZyBiYWNrIHRvIHRoZSB1bmRlcmx5aW5nIFJlbW90ZURvY3VtZW50Q2FjaGUgaWYgbm8gZW50cnkgaXNcbiAqIGJ1ZmZlcmVkLlxuICpcbiAqIEVudHJpZXMgYWRkZWQgdG8gdGhlIGNhY2hlICptdXN0KiBiZSByZWFkIGZpcnN0LiBUaGlzIGlzIHRvIGZhY2lsaXRhdGVcbiAqIGNhbGN1bGF0aW5nIHRoZSBzaXplIGRlbHRhIG9mIHRoZSBwZW5kaW5nIGNoYW5nZXMuXG4gKlxuICogUE9SVElORyBOT1RFOiBUaGlzIGNsYXNzIHdhcyBpbXBsZW1lbnRlZCB0aGVuIHJlbW92ZWQgZnJvbSBvdGhlciBwbGF0Zm9ybXMuXG4gKiBJZiBieXRlLWNvdW50aW5nIGVuZHMgdXAgYmVpbmcgbmVlZGVkIG9uIHRoZSBvdGhlciBwbGF0Zm9ybXMsIGNvbnNpZGVyXG4gKiBwb3J0aW5nIHRoaXMgY2xhc3MgYXMgcGFydCBvZiB0aGF0IGltcGxlbWVudGF0aW9uIHdvcmsuXG4gKi8gY2xhc3MgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBBIG1hcHBpbmcgb2YgZG9jdW1lbnQga2V5IHRvIHRoZSBuZXcgY2FjaGUgZW50cnkgdGhhdCBzaG91bGQgYmUgd3JpdHRlbi5cbiAgICAgICAgdGhpcy5jaGFuZ2VzID0gbmV3IE9iamVjdE1hcCgoZSA9PiBlLnRvU3RyaW5nKCkpLCAoKGUsIHQpID0+IGUuaXNFcXVhbCh0KSkpLCB0aGlzLmNoYW5nZXNBcHBsaWVkID0gITE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1ZmZlcnMgYSBgUmVtb3RlRG9jdW1lbnRDYWNoZS5hZGRFbnRyeSgpYCBjYWxsLlxuICAgICAqXG4gICAgICogWW91IGNhbiBvbmx5IG1vZGlmeSBkb2N1bWVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiByZXRyaWV2ZWQgdmlhXG4gICAgICogYGdldEVudHJ5KCkvZ2V0RW50cmllcygpYCAoZW5mb3JjZWQgdmlhIEluZGV4ZWREYnMgYGFwcGx5KClgKS5cbiAgICAgKi8gICAgYWRkRW50cnkoZSkge1xuICAgICAgICB0aGlzLmFzc2VydE5vdEFwcGxpZWQoKSwgdGhpcy5jaGFuZ2VzLnNldChlLmtleSwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEJ1ZmZlcnMgYSBgUmVtb3RlRG9jdW1lbnRDYWNoZS5yZW1vdmVFbnRyeSgpYCBjYWxsLlxuICAgICAqXG4gICAgICogWW91IGNhbiBvbmx5IHJlbW92ZSBkb2N1bWVudHMgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiByZXRyaWV2ZWQgdmlhXG4gICAgICogYGdldEVudHJ5KCkvZ2V0RW50cmllcygpYCAoZW5mb3JjZWQgdmlhIEluZGV4ZWREYnMgYGFwcGx5KClgKS5cbiAgICAgKi8gICAgcmVtb3ZlRW50cnkoZSwgdCkge1xuICAgICAgICB0aGlzLmFzc2VydE5vdEFwcGxpZWQoKSwgdGhpcy5jaGFuZ2VzLnNldChlLCBNdXRhYmxlRG9jdW1lbnQubmV3SW52YWxpZERvY3VtZW50KGUpLnNldFJlYWRUaW1lKHQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYW4gZW50cnkgaW4gdGhlIGNhY2hlLiBUaGUgYnVmZmVyZWQgY2hhbmdlcyB3aWxsIGZpcnN0IGJlIGNoZWNrZWQsXG4gICAgICogYW5kIGlmIG5vIGJ1ZmZlcmVkIGNoYW5nZSBhcHBsaWVzLCB0aGlzIHdpbGwgZm9yd2FyZCB0b1xuICAgICAqIGBSZW1vdGVEb2N1bWVudENhY2hlLmdldEVudHJ5KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uIC0gVGhlIHRyYW5zYWN0aW9uIGluIHdoaWNoIHRvIHBlcmZvcm0gYW55IHBlcnNpc3RlbmNlXG4gICAgICogICAgIG9wZXJhdGlvbnMuXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5IC0gVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2FjaGVkIGRvY3VtZW50IG9yIGFuIGludmFsaWQgZG9jdW1lbnQgaWYgd2UgaGF2ZSBub3RoaW5nXG4gICAgICogY2FjaGVkLlxuICAgICAqLyAgICBnZXRFbnRyeShlLCB0KSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpO1xuICAgICAgICBjb25zdCBuID0gdGhpcy5jaGFuZ2VzLmdldCh0KTtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gbiA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG4pIDogdGhpcy5nZXRGcm9tQ2FjaGUoZSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIHNldmVyYWwgZW50cmllcyBpbiB0aGUgY2FjaGUsIGZvcndhcmRpbmcgdG9cbiAgICAgKiBgUmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyeSgpYC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiAtIFRoZSB0cmFuc2FjdGlvbiBpbiB3aGljaCB0byBwZXJmb3JtIGFueSBwZXJzaXN0ZW5jZVxuICAgICAqICAgICBvcGVyYXRpb25zLlxuICAgICAqIEBwYXJhbSBkb2N1bWVudEtleXMgLSBUaGUga2V5cyBvZiB0aGUgZW50cmllcyB0byBsb29rIHVwLlxuICAgICAqIEByZXR1cm5zIEEgbWFwIG9mIGNhY2hlZCBkb2N1bWVudHMsIGluZGV4ZWQgYnkga2V5LiBJZiBhbiBlbnRyeSBjYW5ub3QgYmVcbiAgICAgKiAgICAgZm91bmQsIHRoZSBjb3JyZXNwb25kaW5nIGtleSB3aWxsIGJlIG1hcHBlZCB0byBhbiBpbnZhbGlkIGRvY3VtZW50LlxuICAgICAqLyAgICBnZXRFbnRyaWVzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsRnJvbUNhY2hlKGUsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGJ1ZmZlcmVkIGNoYW5nZXMgdG8gdGhlIHVuZGVybHlpbmcgUmVtb3RlRG9jdW1lbnRDYWNoZSwgdXNpbmdcbiAgICAgKiB0aGUgcHJvdmlkZWQgdHJhbnNhY3Rpb24uXG4gICAgICovICAgIGFwcGx5KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLCB0aGlzLmNoYW5nZXNBcHBsaWVkID0gITAsIHRoaXMuYXBwbHlDaGFuZ2VzKGUpO1xuICAgIH1cbiAgICAvKiogSGVscGVyIHRvIGFzc2VydCB0aGlzLmNoYW5nZXMgaXMgbm90IG51bGwgICovICAgIGFzc2VydE5vdEFwcGxpZWQoKSB7fVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgUmVtb3RlRG9jdW1lbnRDYWNoZSBmb3IgSW5kZXhlZERiLiBUbyBjb25zdHJ1Y3QsIGludm9rZVxuICogYG5ld0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGUoKWAuXG4gKi8gY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IGU7XG4gICAgfVxuICAgIHNldEluZGV4TWFuYWdlcihlKSB7XG4gICAgICAgIHRoaXMuaW5kZXhNYW5hZ2VyID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgc3VwcGxpZWQgZW50cmllcyB0byB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBBbGwgY2FsbHMgb2YgYGFkZEVudHJ5YCBhcmUgcmVxdWlyZWQgdG8gZ28gdGhyb3VnaCB0aGUgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXJcbiAgICAgKiByZXR1cm5lZCBieSBgbmV3Q2hhbmdlQnVmZmVyKClgIHRvIGVuc3VyZSBwcm9wZXIgYWNjb3VudGluZyBvZiBtZXRhZGF0YS5cbiAgICAgKi8gICAgYWRkRW50cnkoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpLnB1dChuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGRvY3VtZW50IGZyb20gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQWxsIGNhbGxzIG9mIGByZW1vdmVFbnRyeWAgIGFyZSByZXF1aXJlZCB0byBnbyB0aHJvdWdoIHRoZSBSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlclxuICAgICAqIHJldHVybmVkIGJ5IGBuZXdDaGFuZ2VCdWZmZXIoKWAgdG8gZW5zdXJlIHByb3BlciBhY2NvdW50aW5nIG9mIG1ldGFkYXRhLlxuICAgICAqLyAgICByZW1vdmVFbnRyeShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcmVtb3RlRG9jdW1lbnRzU3RvcmUoZSkuZGVsZXRlKFxuICAgICAgICAvKipcbiAqIFJldHVybnMgYSBrZXkgdGhhdCBjYW4gYmUgdXNlZCBmb3IgZG9jdW1lbnQgbG9va3VwcyB2aWEgdGhlIHByaW1hcnkga2V5IG9mXG4gKiB0aGUgRGJSZW1vdGVEb2N1bWVudCBvYmplY3Qgc3RvcmUuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2RiUmVhZFRpbWVLZXkoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUucGF0aC50b0FycmF5KCk7XG4gICAgICAgICAgICByZXR1cm4gWyBcbiAgICAgICAgICAgIC8qIHByZWZpeCBwYXRoICovIG4uc2xpY2UoMCwgbi5sZW5ndGggLSAyKSwgXG4gICAgICAgICAgICAvKiBjb2xsZWN0aW9uIGlkICovIG5bbi5sZW5ndGggLSAyXSwgX19QUklWQVRFX3RvRGJUaW1lc3RhbXBLZXkodCksIFxuICAgICAgICAgICAgLyogZG9jdW1lbnQgaWQgKi8gbltuLmxlbmd0aCAtIDFdIF07XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBSZXR1cm5zIGEga2V5IHRoYXQgY2FuIGJlIHVzZWQgZm9yIGRvY3VtZW50IGxvb2t1cHMgb24gdGhlXG4gKiBgRGJSZW1vdGVEb2N1bWVudERvY3VtZW50Q29sbGVjdGlvbkdyb3VwSW5kZXhgIGluZGV4LlxuICovICh0LCBuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgY2FjaGUgc2l6ZS5cbiAgICAgKlxuICAgICAqIENhbGxlcnMgdG8gYGFkZEVudHJ5KClgIGFuZCBgcmVtb3ZlRW50cnkoKWAgKm11c3QqIGNhbGwgdGhpcyBhZnRlcndhcmRzIHRvIHVwZGF0ZSB0aGVcbiAgICAgKiBjYWNoZSdzIG1ldGFkYXRhLlxuICAgICAqLyAgICB1cGRhdGVNZXRhZGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFkYXRhKGUpLm5leHQoKG4gPT4gKG4uYnl0ZVNpemUgKz0gdCwgdGhpcy50cihlLCBuKSkpKTtcbiAgICB9XG4gICAgZ2V0RW50cnkoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IE11dGFibGVEb2N1bWVudC5uZXdJbnZhbGlkRG9jdW1lbnQodCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcmVtb3RlRG9jdW1lbnRzU3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJkb2N1bWVudEtleUluZGV4XCIsXG4gICAgICAgICAgICByYW5nZTogSURCS2V5UmFuZ2Uub25seShfX1BSSVZBVEVfZGJLZXkodCkpXG4gICAgICAgIH0sICgoZSwgcikgPT4ge1xuICAgICAgICAgICAgbiA9IHRoaXMubnIodCwgcik7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIGFuIGVudHJ5IGluIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudEtleSAtIFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgVGhlIGNhY2hlZCBkb2N1bWVudCBlbnRyeSBhbmQgaXRzIHNpemUuXG4gICAgICovICAgIHJyKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSB7XG4gICAgICAgICAgICBzaXplOiAwLFxuICAgICAgICAgICAgZG9jdW1lbnQ6IE11dGFibGVEb2N1bWVudC5uZXdJbnZhbGlkRG9jdW1lbnQodClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50S2V5SW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBJREJLZXlSYW5nZS5vbmx5KF9fUFJJVkFURV9kYktleSh0KSlcbiAgICAgICAgfSwgKChlLCByKSA9PiB7XG4gICAgICAgICAgICBuID0ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50OiB0aGlzLm5yKHQsIHIpLFxuICAgICAgICAgICAgICAgIHNpemU6IF9fUFJJVkFURV9kYkRvY3VtZW50U2l6ZShyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgZ2V0RW50cmllcyhlLCB0KSB7XG4gICAgICAgIGxldCBuID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5pcihlLCB0LCAoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLm5yKGUsIHQpO1xuICAgICAgICAgICAgbiA9IG4uaW5zZXJ0KGUsIHIpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb29rcyB1cCBzZXZlcmFsIGVudHJpZXMgaW4gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5cyAtIFRoZSBzZXQgb2Yga2V5cyBlbnRyaWVzIHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgQSBtYXAgb2YgZG9jdW1lbnRzIGluZGV4ZWQgYnkga2V5IGFuZCBhIG1hcCBvZiBzaXplcyBpbmRleGVkIGJ5XG4gICAgICogICAgIGtleSAoemVybyBpZiB0aGUgZG9jdW1lbnQgZG9lcyBub3QgZXhpc3QpLlxuICAgICAqLyAgICBzcihlLCB0KSB7XG4gICAgICAgIGxldCBuID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpLCByID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXIoZSwgdCwgKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gdGhpcy5ucihlLCB0KTtcbiAgICAgICAgICAgIG4gPSBuLmluc2VydChlLCBpKSwgciA9IHIuaW5zZXJ0KGUsIF9fUFJJVkFURV9kYkRvY3VtZW50U2l6ZSh0KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiAoe1xuICAgICAgICAgICAgZG9jdW1lbnRzOiBuLFxuICAgICAgICAgICAgX3I6IHJcbiAgICAgICAgfSkpKTtcbiAgICB9XG4gICAgaXIoZSwgdCwgbikge1xuICAgICAgICBpZiAodC5pc0VtcHR5KCkpIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBsZXQgciA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX2RiS2V5Q29tcGFyYXRvcik7XG4gICAgICAgIHQuZm9yRWFjaCgoZSA9PiByID0gci5hZGQoZSkpKTtcbiAgICAgICAgY29uc3QgaSA9IElEQktleVJhbmdlLmJvdW5kKF9fUFJJVkFURV9kYktleShyLmZpcnN0KCkpLCBfX1BSSVZBVEVfZGJLZXkoci5sYXN0KCkpKSwgcyA9IHIuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgbGV0IG8gPSBzLmdldE5leHQoKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50S2V5SW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBpXG4gICAgICAgIH0sICgoZSwgdCwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IERvY3VtZW50S2V5LmZyb21TZWdtZW50cyhbIC4uLnQucHJlZml4UGF0aCwgdC5jb2xsZWN0aW9uR3JvdXAsIHQuZG9jdW1lbnRJZCBdKTtcbiAgICAgICAgICAgIC8vIEdvIHRocm91Z2gga2V5cyBub3QgZm91bmQgaW4gY2FjaGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDtvICYmIF9fUFJJVkFURV9kYktleUNvbXBhcmF0b3IobywgaSkgPCAwOyApIG4obywgbnVsbCksIG8gPSBzLmdldE5leHQoKTtcbiAgICAgICAgICAgIG8gJiYgby5pc0VxdWFsKGkpICYmIChcbiAgICAgICAgICAgIC8vIEtleSBmb3VuZCBpbiBjYWNoZS5cbiAgICAgICAgICAgIG4obywgdCksIG8gPSBzLmhhc05leHQoKSA/IHMuZ2V0TmV4dCgpIDogbnVsbCksIFxuICAgICAgICAgICAgLy8gU2tpcCB0byB0aGUgbmV4dCBrZXkgKGlmIHRoZXJlIGlzIG9uZSkuXG4gICAgICAgICAgICBvID8gci4kKF9fUFJJVkFURV9kYktleShvKSkgOiByLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFRoZSByZXN0IG9mIHRoZSBrZXlzIGFyZSBub3QgaW4gdGhlIGNhY2hlLiBPbmUgY2FzZSB3aGVyZSBgaXRlcmF0ZWBcbiAgICAgICAgICAgIC8vIGFib3ZlIHdvbid0IGdvIHRocm91Z2ggdGhlbSBpcyB3aGVuIHRoZSBjYWNoZSBpcyBlbXB0eS5cbiAgICAgICAgICAgIGZvciAoO287ICkgbihvLCBudWxsKSwgbyA9IHMuaGFzTmV4dCgpID8gcy5nZXROZXh0KCkgOiBudWxsO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICBjb25zdCBzID0gdC5wYXRoLCBvID0gWyBzLnBvcExhc3QoKS50b0FycmF5KCksIHMubGFzdFNlZ21lbnQoKSwgX19QUklWQVRFX3RvRGJUaW1lc3RhbXBLZXkobi5yZWFkVGltZSksIG4uZG9jdW1lbnRLZXkucGF0aC5pc0VtcHR5KCkgPyBcIlwiIDogbi5kb2N1bWVudEtleS5wYXRoLmxhc3RTZWdtZW50KCkgXSwgXyA9IFsgcy5wb3BMYXN0KCkudG9BcnJheSgpLCBzLmxhc3RTZWdtZW50KCksIFsgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIF0sIFwiXCIgXTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZShlKS5VKElEQktleVJhbmdlLmJvdW5kKG8sIF8sICEwKSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBudWxsID09IGkgfHwgaS5pbmNyZW1lbnREb2N1bWVudFJlYWRDb3VudChlLmxlbmd0aCk7XG4gICAgICAgICAgICBsZXQgbiA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMubnIoRG9jdW1lbnRLZXkuZnJvbVNlZ21lbnRzKGkucHJlZml4UGF0aC5jb25jYXQoaS5jb2xsZWN0aW9uR3JvdXAsIGkuZG9jdW1lbnRJZCkpLCBpKTtcbiAgICAgICAgICAgICAgICBlLmlzRm91bmREb2N1bWVudCgpICYmIChfX1BSSVZBVEVfcXVlcnlNYXRjaGVzKHQsIGUpIHx8IHIuaGFzKGUua2V5KSkgJiYgKFxuICAgICAgICAgICAgICAgIC8vIEVpdGhlciB0aGUgZG9jdW1lbnQgbWF0Y2hlcyB0aGUgZ2l2ZW4gcXVlcnksIG9yIGl0IGlzIG11dGF0ZWQuXG4gICAgICAgICAgICAgICAgbiA9IG4uaW5zZXJ0KGUua2V5LCBlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXRBbGxGcm9tQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgbGV0IGkgPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCk7XG4gICAgICAgIGNvbnN0IHMgPSBfX1BSSVZBVEVfZGJDb2xsZWN0aW9uR3JvdXBLZXkodCwgbiksIG8gPSBfX1BSSVZBVEVfZGJDb2xsZWN0aW9uR3JvdXBLZXkodCwgSW5kZXhPZmZzZXQubWF4KCkpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwiY29sbGVjdGlvbkdyb3VwSW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBJREJLZXlSYW5nZS5ib3VuZChzLCBvLCAhMClcbiAgICAgICAgfSwgKChlLCB0LCBuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5ucihEb2N1bWVudEtleS5mcm9tU2VnbWVudHModC5wcmVmaXhQYXRoLmNvbmNhdCh0LmNvbGxlY3Rpb25Hcm91cCwgdC5kb2N1bWVudElkKSksIHQpO1xuICAgICAgICAgICAgaSA9IGkuaW5zZXJ0KHMua2V5LCBzKSwgaS5zaXplID09PSByICYmIG4uZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBuZXdDaGFuZ2VCdWZmZXIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlcih0aGlzLCAhIWUgJiYgZS50cmFja1JlbW92YWxzKTtcbiAgICB9XG4gICAgZ2V0U2l6ZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldE1ldGFkYXRhKGUpLm5leHQoKGUgPT4gZS5ieXRlU2l6ZSkpO1xuICAgIH1cbiAgICBnZXRNZXRhZGF0YShlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRHbG9iYWxTdG9yZShlKS5nZXQoXCJyZW1vdGVEb2N1bWVudEdsb2JhbEtleVwiKS5uZXh0KChlID0+IChfX1BSSVZBVEVfaGFyZEFzc2VydCghIWUpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAgdHIoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50R2xvYmFsU3RvcmUoZSkucHV0KFwicmVtb3RlRG9jdW1lbnRHbG9iYWxLZXlcIiwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlY29kZXMgYGRiUmVtb3RlRG9jYCBhbmQgcmV0dXJucyB0aGUgZG9jdW1lbnQgKG9yIGFuIGludmFsaWQgZG9jdW1lbnQgaWZcbiAgICAgKiB0aGUgZG9jdW1lbnQgY29ycmVzcG9uZHMgdG8gdGhlIGZvcm1hdCB1c2VkIGZvciBzZW50aW5lbCBkZWxldGVzKS5cbiAgICAgKi8gICAgbnIoZSwgdCkge1xuICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9mcm9tRGJSZW1vdGVEb2N1bWVudCh0aGlzLnNlcmlhbGl6ZXIsIHQpO1xuICAgICAgICAgICAgLy8gV2hldGhlciB0aGUgZG9jdW1lbnQgaXMgYSBzZW50aW5lbCByZW1vdmFsIGFuZCBzaG91bGQgb25seSBiZSB1c2VkIGluIHRoZVxuICAgICAgICAgICAgLy8gYGdldE5ld0RvY3VtZW50Q2hhbmdlcygpYFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoZS5pc05vRG9jdW1lbnQoKSAmJiBlLnZlcnNpb24uaXNFcXVhbChTbmFwc2hvdFZlcnNpb24ubWluKCkpKSkgcmV0dXJuIGU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE11dGFibGVEb2N1bWVudC5uZXdJbnZhbGlkRG9jdW1lbnQoZSk7XG4gICAgfVxufVxuXG4vKiogQ3JlYXRlcyBhIG5ldyBJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3SW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZShlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZUltcGwoZSk7XG59XG5cbi8qKlxuICogSGFuZGxlcyB0aGUgZGV0YWlscyBvZiBhZGRpbmcgYW5kIHVwZGF0aW5nIGRvY3VtZW50cyBpbiB0aGUgSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqXG4gKiBVbmxpa2UgdGhlIE1lbW9yeVJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyLCB0aGUgSW5kZXhlZERiIGltcGxlbWVudGF0aW9uIGNvbXB1dGVzIHRoZSBzaXplXG4gKiBkZWx0YSBmb3IgYWxsIHN1Ym1pdHRlZCBjaGFuZ2VzLiBUaGlzIGF2b2lkcyBoYXZpbmcgdG8gcmUtcmVhZCBhbGwgZG9jdW1lbnRzIGZyb20gSW5kZXhlZERiXG4gKiB3aGVuIHdlIGFwcGx5IHRoZSBjaGFuZ2VzLlxuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciBleHRlbmRzIFJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRDYWNoZSAtIFRoZSBJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlIHRvIGFwcGx5IHRoZSBjaGFuZ2VzIHRvLlxuICAgICAqIEBwYXJhbSB0cmFja1JlbW92YWxzIC0gV2hldGhlciB0byBjcmVhdGUgc2VudGluZWwgZGVsZXRlcyB0aGF0IGNhbiBiZSB0cmFja2VkIGJ5XG4gICAgICogYGdldE5ld0RvY3VtZW50Q2hhbmdlcygpYC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuYXIgPSBlLCB0aGlzLnRyYWNrUmVtb3ZhbHMgPSB0LCBcbiAgICAgICAgLy8gQSBtYXAgb2YgZG9jdW1lbnQgc2l6ZXMgYW5kIHJlYWQgdGltZXMgcHJpb3IgdG8gYXBwbHlpbmcgdGhlIGNoYW5nZXMgaW5cbiAgICAgICAgLy8gdGhpcyBidWZmZXIuXG4gICAgICAgIHRoaXMudXIgPSBuZXcgT2JqZWN0TWFwKChlID0+IGUudG9TdHJpbmcoKSksICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSk7XG4gICAgfVxuICAgIGFwcGx5Q2hhbmdlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgbGV0IG4gPSAwLCByID0gbmV3IFNvcnRlZFNldCgoKGUsIHQpID0+IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUuY2Fub25pY2FsU3RyaW5nKCksIHQuY2Fub25pY2FsU3RyaW5nKCkpKSk7XG4gICAgICAgIHJldHVybiB0aGlzLmNoYW5nZXMuZm9yRWFjaCgoKGksIHMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG8gPSB0aGlzLnVyLmdldChpKTtcbiAgICAgICAgICAgIGlmICh0LnB1c2godGhpcy5hci5yZW1vdmVFbnRyeShlLCBpLCBvLnJlYWRUaW1lKSksIHMuaXNWYWxpZERvY3VtZW50KCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBfID0gX19QUklWQVRFX3RvRGJSZW1vdGVEb2N1bWVudCh0aGlzLmFyLnNlcmlhbGl6ZXIsIHMpO1xuICAgICAgICAgICAgICAgIHIgPSByLmFkZChpLnBhdGgucG9wTGFzdCgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gX19QUklWQVRFX2RiRG9jdW1lbnRTaXplKF8pO1xuICAgICAgICAgICAgICAgIG4gKz0gYSAtIG8uc2l6ZSwgdC5wdXNoKHRoaXMuYXIuYWRkRW50cnkoZSwgaSwgXykpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuIC09IG8uc2l6ZSwgdGhpcy50cmFja1JlbW92YWxzKSB7XG4gICAgICAgICAgICAgICAgLy8gSW4gb3JkZXIgdG8gdHJhY2sgcmVtb3ZhbHMsIHdlIHN0b3JlIGEgXCJzZW50aW5lbCBkZWxldGVcIiBpbiB0aGVcbiAgICAgICAgICAgICAgICAvLyBSZW1vdGVEb2N1bWVudENhY2hlLiBUaGlzIGVudHJ5IGlzIHJlcHJlc2VudGVkIGJ5IGEgTm9Eb2N1bWVudFxuICAgICAgICAgICAgICAgIC8vIHdpdGggYSB2ZXJzaW9uIG9mIDAgYW5kIGlnbm9yZWQgYnkgYG1heWJlRGVjb2RlRG9jdW1lbnQoKWAgYnV0XG4gICAgICAgICAgICAgICAgLy8gcHJlc2VydmVkIGluIGBnZXROZXdEb2N1bWVudENoYW5nZXMoKWAuXG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV90b0RiUmVtb3RlRG9jdW1lbnQodGhpcy5hci5zZXJpYWxpemVyLCBzLmNvbnZlcnRUb05vRG9jdW1lbnQoU25hcHNob3RWZXJzaW9uLm1pbigpKSk7XG4gICAgICAgICAgICAgICAgdC5wdXNoKHRoaXMuYXIuYWRkRW50cnkoZSwgaSwgbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIHIuZm9yRWFjaCgobiA9PiB7XG4gICAgICAgICAgICB0LnB1c2godGhpcy5hci5pbmRleE1hbmFnZXIuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSwgbikpO1xuICAgICAgICB9KSksIHQucHVzaCh0aGlzLmFyLnVwZGF0ZU1ldGFkYXRhKGUsIG4pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IodCk7XG4gICAgfVxuICAgIGdldEZyb21DYWNoZShlLCB0KSB7XG4gICAgICAgIC8vIFJlY29yZCB0aGUgc2l6ZSBvZiBldmVyeXRoaW5nIHdlIGxvYWQgZnJvbSB0aGUgY2FjaGUgc28gd2UgY2FuIGNvbXB1dGUgYSBkZWx0YSBsYXRlci5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXIucnIoZSwgdCkubmV4dCgoZSA9PiAodGhpcy51ci5zZXQodCwge1xuICAgICAgICAgICAgc2l6ZTogZS5zaXplLFxuICAgICAgICAgICAgcmVhZFRpbWU6IGUuZG9jdW1lbnQucmVhZFRpbWVcbiAgICAgICAgfSksIGUuZG9jdW1lbnQpKSk7XG4gICAgfVxuICAgIGdldEFsbEZyb21DYWNoZShlLCB0KSB7XG4gICAgICAgIC8vIFJlY29yZCB0aGUgc2l6ZSBvZiBldmVyeXRoaW5nIHdlIGxvYWQgZnJvbSB0aGUgY2FjaGUgc28gd2UgY2FuIGNvbXB1dGVcbiAgICAgICAgLy8gYSBkZWx0YSBsYXRlci5cbiAgICAgICAgcmV0dXJuIHRoaXMuYXIuc3IoZSwgdCkubmV4dCgoKHtkb2N1bWVudHM6IGUsIF9yOiB0fSkgPT4gKFxuICAgICAgICAvLyBOb3RlOiBgZ2V0QWxsRnJvbUNhY2hlYCByZXR1cm5zIHR3byBtYXBzIGluc3RlYWQgb2YgYSBzaW5nbGUgbWFwIGZyb21cbiAgICAgICAgLy8ga2V5cyB0byBgRG9jdW1lbnRTaXplRW50cnlgcy4gVGhpcyBpcyB0byBhbGxvdyByZXR1cm5pbmcgdGhlXG4gICAgICAgIC8vIGBNdXRhYmxlRG9jdW1lbnRNYXBgIGRpcmVjdGx5LCB3aXRob3V0IGEgY29udmVyc2lvbi5cbiAgICAgICAgdC5mb3JFYWNoKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgdGhpcy51ci5zZXQodCwge1xuICAgICAgICAgICAgICAgIHNpemU6IG4sXG4gICAgICAgICAgICAgICAgcmVhZFRpbWU6IGUuZ2V0KHQpLnJlYWRUaW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpLCBlKSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2RvY3VtZW50R2xvYmFsU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIHJlbW90ZURvY3VtZW50cyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwicmVtb3RlRG9jdW1lbnRzVjE0XCIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBrZXkgdGhhdCBjYW4gYmUgdXNlZCBmb3IgZG9jdW1lbnQgbG9va3VwcyBvbiB0aGVcbiAqIGBEYlJlbW90ZURvY3VtZW50RG9jdW1lbnRLZXlJbmRleGAgaW5kZXguXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RiS2V5KGUpIHtcbiAgICBjb25zdCB0ID0gZS5wYXRoLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gWyBcbiAgICAvKiBwcmVmaXggcGF0aCAqLyB0LnNsaWNlKDAsIHQubGVuZ3RoIC0gMiksIFxuICAgIC8qIGNvbGxlY3Rpb24gaWQgKi8gdFt0Lmxlbmd0aCAtIDJdLCBcbiAgICAvKiBkb2N1bWVudCBpZCAqLyB0W3QubGVuZ3RoIC0gMV0gXTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2RiQ29sbGVjdGlvbkdyb3VwS2V5KGUsIHQpIHtcbiAgICBjb25zdCBuID0gdC5kb2N1bWVudEtleS5wYXRoLnRvQXJyYXkoKTtcbiAgICByZXR1cm4gWyBcbiAgICAvKiBjb2xsZWN0aW9uIGlkICovIGUsIF9fUFJJVkFURV90b0RiVGltZXN0YW1wS2V5KHQucmVhZFRpbWUpLCBcbiAgICAvKiBwcmVmaXggcGF0aCAqLyBuLnNsaWNlKDAsIG4ubGVuZ3RoIC0gMiksIFxuICAgIC8qIGRvY3VtZW50IGlkICovIG4ubGVuZ3RoID4gMCA/IG5bbi5sZW5ndGggLSAxXSA6IFwiXCIgXTtcbn1cblxuLyoqXG4gKiBDb21wYXJhdG9yIHRoYXQgY29tcGFyZXMgZG9jdW1lbnQga2V5cyBhY2NvcmRpbmcgdG8gdGhlIHByaW1hcnkga2V5IHNvcnRpbmdcbiAqIHVzZWQgYnkgdGhlIGBEYlJlbW90ZURvY3VtZW50RG9jdW1lbnRgIHN0b3JlIChieSBwcmVmaXggcGF0aCwgY29sbGVjdGlvbiBpZFxuICogYW5kIHRoZW4gZG9jdW1lbnQgSUQpLlxuICpcbiAqIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RiS2V5Q29tcGFyYXRvcihlLCB0KSB7XG4gICAgY29uc3QgbiA9IGUucGF0aC50b0FycmF5KCksIHIgPSB0LnBhdGgudG9BcnJheSgpO1xuICAgIC8vIFRoZSBvcmRlcmluZyBpcyBiYXNlZCBvbiBodHRwczovL2Nocm9taXVtLmdvb2dsZXNvdXJjZS5jb20vY2hyb21pdW0vYmxpbmsvKy9mZTVjMjFmZWY5NGRhZTcxYzFjMzM0NDc3NWI4ZDhhN2Y3ZTZkOWVjL1NvdXJjZS9tb2R1bGVzL2luZGV4ZWRkYi9JREJLZXkuY3BwIzc0XG4gICAgbGV0IGkgPSAwO1xuICAgIGZvciAobGV0IGUgPSAwOyBlIDwgbi5sZW5ndGggLSAyICYmIGUgPCByLmxlbmd0aCAtIDI7ICsrZSkgaWYgKGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuW2VdLCByW2VdKSwgXG4gICAgaSkgcmV0dXJuIGk7XG4gICAgcmV0dXJuIGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLmxlbmd0aCwgci5sZW5ndGgpLCBpIHx8IChpID0gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IobltuLmxlbmd0aCAtIDJdLCByW3IubGVuZ3RoIC0gMl0pLCBcbiAgICBpIHx8IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG5bbi5sZW5ndGggLSAxXSwgcltyLmxlbmd0aCAtIDFdKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFNjaGVtYSBWZXJzaW9uIGZvciB0aGUgV2ViIGNsaWVudDpcbiAqIDEuICBJbml0aWFsIHZlcnNpb24gaW5jbHVkaW5nIE11dGF0aW9uIFF1ZXVlLCBRdWVyeSBDYWNoZSwgYW5kIFJlbW90ZVxuICogICAgIERvY3VtZW50IENhY2hlXG4gKiAyLiAgVXNlZCB0byBlbnN1cmUgYSB0YXJnZXRHbG9iYWwgb2JqZWN0IGV4aXN0cyBhbmQgYWRkIHRhcmdldENvdW50IHRvIGl0LiBOb1xuICogICAgIGxvbmdlciByZXF1aXJlZCBiZWNhdXNlIG1pZ3JhdGlvbiAzIHVuY29uZGl0aW9uYWxseSBjbGVhcnMgaXQuXG4gKiAzLiAgRHJvcHBlZCBhbmQgcmUtY3JlYXRlZCBRdWVyeSBDYWNoZSB0byBkZWFsIHdpdGggY2FjaGUgY29ycnVwdGlvbiByZWxhdGVkXG4gKiAgICAgdG8gbGltYm8gcmVzb2x1dGlvbi4gQWRkcmVzc2VzXG4gKiAgICAgaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWlvcy1zZGsvaXNzdWVzLzE1NDhcbiAqIDQuICBNdWx0aS1UYWIgU3VwcG9ydC5cbiAqIDUuICBSZW1vdmFsIG9mIGhlbGQgd3JpdGUgYWNrcy5cbiAqIDYuICBDcmVhdGUgZG9jdW1lbnQgZ2xvYmFsIGZvciB0cmFja2luZyBkb2N1bWVudCBjYWNoZSBzaXplLlxuICogNy4gIEVuc3VyZSBldmVyeSBjYWNoZWQgZG9jdW1lbnQgaGFzIGEgc2VudGluZWwgcm93IHdpdGggYSBzZXF1ZW5jZSBudW1iZXIuXG4gKiA4LiAgQWRkIGNvbGxlY3Rpb24tcGFyZW50IGluZGV4IGZvciBDb2xsZWN0aW9uIEdyb3VwIHF1ZXJpZXMuXG4gKiA5LiAgQ2hhbmdlIFJlbW90ZURvY3VtZW50Q2hhbmdlcyBzdG9yZSB0byBiZSBrZXllZCBieSByZWFkVGltZSByYXRoZXIgdGhhblxuICogICAgIGFuIGF1dG8taW5jcmVtZW50aW5nIElELiBUaGlzIGlzIHJlcXVpcmVkIGZvciBJbmRleC1GcmVlIHF1ZXJpZXMuXG4gKiAxMC4gUmV3cml0ZSB0aGUgY2Fub25pY2FsIElEcyB0byB0aGUgZXhwbGljaXQgUHJvdG9idWYtYmFzZWQgZm9ybWF0LlxuICogMTEuIEFkZCBidW5kbGVzIGFuZCBuYW1lZF9xdWVyaWVzIGZvciBidW5kbGUgc3VwcG9ydC5cbiAqIDEyLiBBZGQgZG9jdW1lbnQgb3ZlcmxheXMuXG4gKiAxMy4gUmV3cml0ZSB0aGUga2V5cyBvZiB0aGUgcmVtb3RlIGRvY3VtZW50IGNhY2hlIHRvIGFsbG93IGZvciBlZmZpY2llbnRcbiAqICAgICBkb2N1bWVudCBsb29rdXAgdmlhIGBnZXRBbGwoKWAuXG4gKiAxNC4gQWRkIG92ZXJsYXlzLlxuICogMTUuIEFkZCBpbmRleGluZyBzdXBwb3J0LlxuICogMTYuIFBhcnNlIHRpbWVzdGFtcCBzdHJpbmdzIGJlZm9yZSBjcmVhdGluZyBpbmRleCBlbnRyaWVzLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgbG9jYWwgdmlldyAob3ZlcmxheSkgb2YgYSBkb2N1bWVudCwgYW5kIHRoZSBmaWVsZHMgdGhhdCBhcmVcbiAqIGxvY2FsbHkgbXV0YXRlZC5cbiAqL1xuY2xhc3MgT3ZlcmxheWVkRG9jdW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBmaWVsZHMgdGhhdCBhcmUgbG9jYWxseSBtdXRhdGVkIGJ5IHBhdGNoIG11dGF0aW9ucy5cbiAgICAgKlxuICAgICAqIElmIHRoZSBvdmVybGF5ZWRcdGRvY3VtZW50IGlzIGZyb20gc2V0IG9yIGRlbGV0ZSBtdXRhdGlvbnMsIHRoaXMgaXMgYG51bGxgLlxuICAgICAqIElmIHRoZXJlIGlzIG5vIG92ZXJsYXkgKG11dGF0aW9uKSBmb3IgdGhlIGRvY3VtZW50LCB0aGlzIGlzIGFuIGVtcHR5IGBGaWVsZE1hc2tgLlxuICAgICAqL1xuICAgIHQpIHtcbiAgICAgICAgdGhpcy5vdmVybGF5ZWREb2N1bWVudCA9IGUsIHRoaXMubXV0YXRlZEZpZWxkcyA9IHQ7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHJlYWRvbmx5IHZpZXcgb2YgdGhlIGxvY2FsIHN0YXRlIG9mIGFsbCBkb2N1bWVudHMgd2UncmUgdHJhY2tpbmcgKGkuZS4gd2VcbiAqIGhhdmUgYSBjYWNoZWQgdmVyc2lvbiBpbiByZW1vdGVEb2N1bWVudENhY2hlIG9yIGxvY2FsIG11dGF0aW9ucyBmb3IgdGhlXG4gKiBkb2N1bWVudCkuIFRoZSB2aWV3IGlzIGNvbXB1dGVkIGJ5IGFwcGx5aW5nIHRoZSBtdXRhdGlvbnMgaW4gdGhlXG4gKiBNdXRhdGlvblF1ZXVlIHRvIHRoZSBSZW1vdGVEb2N1bWVudENhY2hlLlxuICovIGNsYXNzIExvY2FsRG9jdW1lbnRzVmlldyB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUgPSBlLCB0aGlzLm11dGF0aW9uUXVldWUgPSB0LCB0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlID0gbiwgXG4gICAgICAgIHRoaXMuaW5kZXhNYW5hZ2VyID0gcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBsb2NhbCB2aWV3IG9mIHRoZSBkb2N1bWVudCBpZGVudGlmaWVkIGJ5IGBrZXlgLlxuICAgICAqXG4gICAgICogQHJldHVybnMgTG9jYWwgdmlldyBvZiB0aGUgZG9jdW1lbnQgb3IgbnVsbCBpZiB3ZSBkb24ndCBoYXZlIGFueSBjYWNoZWRcbiAgICAgKiBzdGF0ZSBmb3IgaXQuXG4gICAgICovICAgIGdldERvY3VtZW50KGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudE92ZXJsYXlDYWNoZS5nZXRPdmVybGF5KGUsIHQpLm5leHQoKHIgPT4gKG4gPSByLCB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RW50cnkoZSwgdCkpKSkubmV4dCgoZSA9PiAobnVsbCAhPT0gbiAmJiBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KG4ubXV0YXRpb24sIGUsIEZpZWxkTWFzay5lbXB0eSgpLCBUaW1lc3RhbXAubm93KCkpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYWwgdmlldyBvZiB0aGUgZG9jdW1lbnRzIGlkZW50aWZpZWQgYnkgYGtleXNgLlxuICAgICAqXG4gICAgICogSWYgd2UgZG9uJ3QgaGF2ZSBjYWNoZWQgc3RhdGUgZm9yIGEgZG9jdW1lbnQgaW4gYGtleXNgLCBhIE5vRG9jdW1lbnQgd2lsbFxuICAgICAqIGJlIHN0b3JlZCBmb3IgdGhhdCBrZXkgaW4gdGhlIHJlc3VsdGluZyBzZXQuXG4gICAgICovICAgIGdldERvY3VtZW50cyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RW50cmllcyhlLCB0KS5uZXh0KCh0ID0+IHRoaXMuZ2V0TG9jYWxWaWV3T2ZEb2N1bWVudHMoZSwgdCwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpLm5leHQoKCgpID0+IHQpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTaW1pbGFyIHRvIGBnZXREb2N1bWVudHNgLCBidXQgY3JlYXRlcyB0aGUgbG9jYWwgdmlldyBmcm9tIHRoZSBnaXZlblxuICAgICAqIGBiYXNlRG9jc2Agd2l0aG91dCByZXRyaWV2aW5nIGRvY3VtZW50cyBmcm9tIHRoZSBsb2NhbCBzdG9yZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiAtIFRoZSB0cmFuc2FjdGlvbiB0aGlzIG9wZXJhdGlvbiBpcyBzY29wZWQgdG8uXG4gICAgICogQHBhcmFtIGRvY3MgLSBUaGUgZG9jdW1lbnRzIHRvIGFwcGx5IGxvY2FsIG11dGF0aW9ucyB0byBnZXQgdGhlIGxvY2FsIHZpZXdzLlxuICAgICAqIEBwYXJhbSBleGlzdGVuY2VTdGF0ZUNoYW5nZWQgLSBUaGUgc2V0IG9mIGRvY3VtZW50IGtleXMgd2hvc2UgZXhpc3RlbmNlIHN0YXRlXG4gICAgICogICBpcyBjaGFuZ2VkLiBUaGlzIGlzIHVzZWZ1bCB0byBkZXRlcm1pbmUgaWYgc29tZSBkb2N1bWVudHMgb3ZlcmxheSBuZWVkc1xuICAgICAqICAgdG8gYmUgcmVjYWxjdWxhdGVkLlxuICAgICAqLyAgICBnZXRMb2NhbFZpZXdPZkRvY3VtZW50cyhlLCB0LCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcHVsYXRlT3ZlcmxheXMoZSwgciwgdCkubmV4dCgoKCkgPT4gdGhpcy5jb21wdXRlVmlld3MoZSwgdCwgciwgbikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBsZXQgdCA9IGRvY3VtZW50TWFwKCk7XG4gICAgICAgICAgICByZXR1cm4gZS5mb3JFYWNoKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIHQgPSB0Lmluc2VydChlLCBuLm92ZXJsYXllZERvY3VtZW50KTtcbiAgICAgICAgICAgIH0pKSwgdDtcbiAgICAgICAgfSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG92ZXJsYXllZCBkb2N1bWVudHMgZm9yIHRoZSBnaXZlbiBkb2N1bWVudCBtYXAsIHdoaWNoIHdpbGwgaW5jbHVkZVxuICAgICAqIHRoZSBsb2NhbCB2aWV3IG9mIHRob3NlIGRvY3VtZW50cyBhbmQgYSBgRmllbGRNYXNrYCBpbmRpY2F0aW5nIHdoaWNoIGZpZWxkc1xuICAgICAqIGFyZSBtdXRhdGVkIGxvY2FsbHksIGBudWxsYCBpZiBvdmVybGF5IGlzIGEgU2V0IG9yIERlbGV0ZSBtdXRhdGlvbi5cbiAgICAgKi8gICAgZ2V0T3ZlcmxheWVkRG9jdW1lbnRzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnBvcHVsYXRlT3ZlcmxheXMoZSwgbiwgdCkubmV4dCgoKCkgPT4gdGhpcy5jb21wdXRlVmlld3MoZSwgdCwgbiwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZldGNoZXMgdGhlIG92ZXJsYXlzIGZvciB7QGNvZGUgZG9jc30gYW5kIGFkZHMgdGhlbSB0byBwcm92aWRlZCBvdmVybGF5IG1hcFxuICAgICAqIGlmIHRoZSBtYXAgZG9lcyBub3QgYWxyZWFkeSBjb250YWluIGFuIGVudHJ5IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQga2V5LlxuICAgICAqLyAgICBwb3B1bGF0ZU92ZXJsYXlzKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHQuaGFzKGUpIHx8IHIucHVzaChlKTtcbiAgICAgICAgfSkpLCB0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlLmdldE92ZXJsYXlzKGUsIHIpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZS5mb3JFYWNoKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIHQuc2V0KGUsIG4pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBsb2NhbCB2aWV3IGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnRzLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3MgLSBUaGUgZG9jdW1lbnRzIHRvIGNvbXB1dGUgdmlld3MgZm9yLiBJdCBhbHNvIGhhcyB0aGUgYmFzZVxuICAgICAqICAgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnRzLlxuICAgICAqIEBwYXJhbSBvdmVybGF5cyAtIFRoZSBvdmVybGF5cyB0aGF0IG5lZWQgdG8gYmUgYXBwbGllZCB0byB0aGUgZ2l2ZW4gYmFzZVxuICAgICAqICAgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnRzLlxuICAgICAqIEBwYXJhbSBleGlzdGVuY2VTdGF0ZUNoYW5nZWQgLSBBIHNldCBvZiBkb2N1bWVudHMgd2hvc2UgZXhpc3RlbmNlIHN0YXRlc1xuICAgICAqICAgbWlnaHQgaGF2ZSBjaGFuZ2VkLiBUaGlzIGlzIHVzZWQgdG8gZGV0ZXJtaW5lIGlmIHdlIG5lZWQgdG8gcmUtY2FsY3VsYXRlXG4gICAgICogICBvdmVybGF5cyBmcm9tIG11dGF0aW9uIHF1ZXVlcy5cbiAgICAgKiBAcmV0dXJuIEEgbWFwIHJlcHJlc2VudHMgdGhlIGxvY2FsIGRvY3VtZW50cyB2aWV3LlxuICAgICAqLyAgICBjb21wdXRlVmlld3MoZSwgdCwgbiwgcikge1xuICAgICAgICBsZXQgaSA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9uZXdEb2N1bWVudEtleU1hcCgpLCBvID0gZnVuY3Rpb24gX19QUklWQVRFX25ld092ZXJsYXllZERvY3VtZW50TWFwKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9uZXdEb2N1bWVudEtleU1hcCgpO1xuICAgICAgICB9KCk7XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvID0gbi5nZXQodC5rZXkpO1xuICAgICAgICAgICAgLy8gUmVjYWxjdWxhdGUgYW4gb3ZlcmxheSBpZiB0aGUgZG9jdW1lbnQncyBleGlzdGVuY2Ugc3RhdGUgY2hhbmdlZCBkdWUgdG9cbiAgICAgICAgICAgIC8vIGEgcmVtb3RlIGV2ZW50ICphbmQqIHRoZSBvdmVybGF5IGlzIGEgUGF0Y2hNdXRhdGlvbi4gVGhpcyBpcyBiZWNhdXNlXG4gICAgICAgICAgICAvLyBkb2N1bWVudCBleGlzdGVuY2Ugc3RhdGUgY2FuIGNoYW5nZSBpZiBzb21lIHBhdGNoIG11dGF0aW9uJ3NcbiAgICAgICAgICAgIC8vIHByZWNvbmRpdGlvbnMgYXJlIG1ldC5cbiAgICAgICAgICAgIC8vIE5PVEU6IHdlIHJlY2FsY3VsYXRlIHdoZW4gYG92ZXJsYXlgIGlzIHVuZGVmaW5lZCBhcyB3ZWxsLCBiZWNhdXNlIHRoZXJlXG4gICAgICAgICAgICAvLyBtaWdodCBiZSBhIHBhdGNoIG11dGF0aW9uIHdob3NlIHByZWNvbmRpdGlvbiBkb2VzIG5vdCBtYXRjaCBiZWZvcmUgdGhlXG4gICAgICAgICAgICAvLyBjaGFuZ2UgKGhlbmNlIG92ZXJsYXkgaXMgdW5kZWZpbmVkKSwgYnV0IHdvdWxkIG5vdyBtYXRjaC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHIuaGFzKHQua2V5KSAmJiAodm9pZCAwID09PSBvIHx8IG8ubXV0YXRpb24gaW5zdGFuY2VvZiBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbikgPyBpID0gaS5pbnNlcnQodC5rZXksIHQpIDogdm9pZCAwICE9PSBvID8gKHMuc2V0KHQua2V5LCBvLm11dGF0aW9uLmdldEZpZWxkTWFzaygpKSwgXG4gICAgICAgICAgICBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KG8ubXV0YXRpb24sIHQsIG8ubXV0YXRpb24uZ2V0RmllbGRNYXNrKCksIFRpbWVzdGFtcC5ub3coKSkpIDogXG4gICAgICAgICAgICAvLyBubyBvdmVybGF5IGV4aXN0c1xuICAgICAgICAgICAgLy8gVXNpbmcgRU1QVFkgdG8gaW5kaWNhdGUgdGhlcmUgaXMgbm8gb3ZlcmxheSBmb3IgdGhlIGRvY3VtZW50LlxuICAgICAgICAgICAgcy5zZXQodC5rZXksIEZpZWxkTWFzay5lbXB0eSgpKTtcbiAgICAgICAgfSkpLCB0aGlzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzKGUsIGkpLm5leHQoKGUgPT4gKGUuZm9yRWFjaCgoKGUsIHQpID0+IHMuc2V0KGUsIHQpKSksIFxuICAgICAgICB0LmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIHJldHVybiBvLnNldChlLCBuZXcgT3ZlcmxheWVkRG9jdW1lbnQodCwgbnVsbCAhPT0gKG4gPSBzLmdldChlKSkgJiYgdm9pZCAwICE9PSBuID8gbiA6IG51bGwpKTtcbiAgICAgICAgfSkpLCBvKSkpO1xuICAgIH1cbiAgICByZWNhbGN1bGF0ZUFuZFNhdmVPdmVybGF5cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbmV3RG9jdW1lbnRLZXlNYXAoKTtcbiAgICAgICAgLy8gQSByZXZlcnNlIGxvb2t1cCBtYXAgZnJvbSBiYXRjaCBpZCB0byB0aGUgZG9jdW1lbnRzIHdpdGhpbiB0aGF0IGJhdGNoLlxuICAgICAgICAgICAgICAgIGxldCByID0gbmV3IFNvcnRlZE1hcCgoKGUsIHQpID0+IGUgLSB0KSksIGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25RdWV1ZS5nZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXMoZSwgdCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgZSkgaS5rZXlzKCkuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHQuZ2V0KGUpO1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBzKSByZXR1cm47XG4gICAgICAgICAgICAgICAgbGV0IG8gPSBuLmdldChlKSB8fCBGaWVsZE1hc2suZW1wdHkoKTtcbiAgICAgICAgICAgICAgICBvID0gaS5hcHBseVRvTG9jYWxWaWV3KHMsIG8pLCBuLnNldChlLCBvKTtcbiAgICAgICAgICAgICAgICBjb25zdCBfID0gKHIuZ2V0KGkuYmF0Y2hJZCkgfHwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpLmFkZChlKTtcbiAgICAgICAgICAgICAgICByID0gci5pbnNlcnQoaS5iYXRjaElkLCBfKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBbXSwgbyA9IHIuZ2V0UmV2ZXJzZUl0ZXJhdG9yKCk7XG4gICAgICAgICAgICAvLyBJdGVyYXRlIGluIGRlc2NlbmRpbmcgb3JkZXIgb2YgYmF0Y2ggSURzLCBhbmQgc2tpcCBkb2N1bWVudHMgdGhhdCBhcmVcbiAgICAgICAgICAgIC8vIGFscmVhZHkgc2F2ZWQuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKDtvLmhhc05leHQoKTsgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IG8uZ2V0TmV4dCgpLCBfID0gci5rZXksIGEgPSByLnZhbHVlLCB1ID0gX19QUklWQVRFX25ld011dGF0aW9uTWFwKCk7XG4gICAgICAgICAgICAgICAgYS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpLmhhcyhlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9jYWxjdWxhdGVPdmVybGF5TXV0YXRpb24odC5nZXQoZSksIG4uZ2V0KGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT09IHIgJiYgdS5zZXQoZSwgciksIGkgPSBpLmFkZChlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pKSwgcy5wdXNoKHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUuc2F2ZU92ZXJsYXlzKGUsIF8sIHUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihzKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjYWxjdWxhdGVzIG92ZXJsYXlzIGJ5IHJlYWRpbmcgdGhlIGRvY3VtZW50cyBmcm9tIHJlbW90ZSBkb2N1bWVudCBjYWNoZVxuICAgICAqIGZpcnN0LCBhbmQgc2F2ZXMgdGhlbSBhZnRlciB0aGV5IGFyZSBjYWxjdWxhdGVkLlxuICAgICAqLyAgICByZWNhbGN1bGF0ZUFuZFNhdmVPdmVybGF5c0ZvckRvY3VtZW50S2V5cyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RW50cmllcyhlLCB0KS5uZXh0KCh0ID0+IHRoaXMucmVjYWxjdWxhdGVBbmRTYXZlT3ZlcmxheXMoZSwgdCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBxdWVyeSBhZ2FpbnN0IHRoZSBsb2NhbCB2aWV3IG9mIGFsbCBkb2N1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb24gLSBUaGUgcGVyc2lzdGVuY2UgdHJhbnNhY3Rpb24uXG4gICAgICogQHBhcmFtIHF1ZXJ5IC0gVGhlIHF1ZXJ5IHRvIG1hdGNoIGRvY3VtZW50cyBhZ2FpbnN0LlxuICAgICAqIEBwYXJhbSBvZmZzZXQgLSBSZWFkIHRpbWUgYW5kIGtleSB0byBzdGFydCBzY2FubmluZyBieSAoZXhjbHVzaXZlKS5cbiAgICAgKiBAcGFyYW0gY29udGV4dCAtIEEgb3B0aW9uYWwgdHJhY2tlciB0byBrZWVwIGEgcmVjb3JkIG9mIGltcG9ydGFudCBkZXRhaWxzXG4gICAgICogICBkdXJpbmcgZGF0YWJhc2UgbG9jYWwgcXVlcnkgZXhlY3V0aW9uLlxuICAgICAqLyAgICBnZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHF1ZXJ5IG1hdGNoZXMgYSBzaW5nbGUgZG9jdW1lbnQgYnkgcGF0aCAocmF0aGVyIHRoYW4gYVxuICogY29sbGVjdGlvbikuXG4gKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9pc0RvY3VtZW50UXVlcnkkMShlKSB7XG4gICAgICAgICAgICByZXR1cm4gRG9jdW1lbnRLZXkuaXNEb2N1bWVudEtleShlLnBhdGgpICYmIG51bGwgPT09IGUuY29sbGVjdGlvbkdyb3VwICYmIDAgPT09IGUuZmlsdGVycy5sZW5ndGg7XG4gICAgICAgIH0odCkgPyB0aGlzLmdldERvY3VtZW50c01hdGNoaW5nRG9jdW1lbnRRdWVyeShlLCB0LnBhdGgpIDogX19QUklWQVRFX2lzQ29sbGVjdGlvbkdyb3VwUXVlcnkodCkgPyB0aGlzLmdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvbkdyb3VwUXVlcnkoZSwgdCwgbiwgcikgOiB0aGlzLmdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvblF1ZXJ5KGUsIHQsIG4sIHIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIGNvbGxlY3Rpb24gZ3JvdXAsIHJldHVybnMgdGhlIG5leHQgZG9jdW1lbnRzIHRoYXQgZm9sbG93IHRoZSBwcm92aWRlZCBvZmZzZXQsIGFsb25nXG4gICAgICogd2l0aCBhbiB1cGRhdGVkIGJhdGNoIElELlxuICAgICAqXG4gICAgICogPHA+VGhlIGRvY3VtZW50cyByZXR1cm5lZCBieSB0aGlzIG1ldGhvZCBhcmUgb3JkZXJlZCBieSByZW1vdGUgdmVyc2lvbiBmcm9tIHRoZSBwcm92aWRlZFxuICAgICAqIG9mZnNldC4gSWYgdGhlcmUgYXJlIG5vIG1vcmUgcmVtb3RlIGRvY3VtZW50cyBhZnRlciB0aGUgcHJvdmlkZWQgb2Zmc2V0LCBkb2N1bWVudHMgd2l0aFxuICAgICAqIG11dGF0aW9ucyBpbiBvcmRlciBvZiBiYXRjaCBpZCBmcm9tIHRoZSBvZmZzZXQgYXJlIHJldHVybmVkLiBTaW5jZSBhbGwgZG9jdW1lbnRzIGluIGEgYmF0Y2ggYXJlXG4gICAgICogcmV0dXJuZWQgdG9nZXRoZXIsIHRoZSB0b3RhbCBudW1iZXIgb2YgZG9jdW1lbnRzIHJldHVybmVkIGNhbiBleGNlZWQge0Bjb2RlIGNvdW50fS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvblxuICAgICAqIEBwYXJhbSBjb2xsZWN0aW9uR3JvdXAgVGhlIGNvbGxlY3Rpb24gZ3JvdXAgZm9yIHRoZSBkb2N1bWVudHMuXG4gICAgICogQHBhcmFtIG9mZnNldCBUaGUgb2Zmc2V0IHRvIGluZGV4IGludG8uXG4gICAgICogQHBhcmFtIGNvdW50IFRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHRvIHJldHVyblxuICAgICAqIEByZXR1cm4gQSBMb2NhbFdyaXRlUmVzdWx0IHdpdGggdGhlIGRvY3VtZW50cyB0aGF0IGZvbGxvdyB0aGUgcHJvdmlkZWQgb2Zmc2V0IGFuZCB0aGUgbGFzdCBwcm9jZXNzZWQgYmF0Y2ggaWQuXG4gICAgICovICAgIGdldE5leHREb2N1bWVudHMoZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlLmdldEFsbEZyb21Db2xsZWN0aW9uR3JvdXAoZSwgdCwgbiwgcikubmV4dCgoaSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gciAtIGkuc2l6ZSA+IDAgPyB0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlLmdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4ubGFyZ2VzdEJhdGNoSWQsIHIgLSBpLnNpemUpIDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSk7XG4gICAgICAgICAgICAvLyBUaGUgY2FsbHNpdGUgd2lsbCB1c2UgdGhlIGxhcmdlc3QgYmF0Y2ggSUQgdG9nZXRoZXIgd2l0aCB0aGUgbGF0ZXN0IHJlYWQgdGltZSB0byBjcmVhdGVcbiAgICAgICAgICAgIC8vIGEgbmV3IGluZGV4IG9mZnNldC4gU2luY2Ugd2Ugb25seSBwcm9jZXNzIGJhdGNoIElEcyBpZiBhbGwgcmVtb3RlIGRvY3VtZW50cyBoYXZlIGJlZW4gcmVhZCxcbiAgICAgICAgICAgIC8vIG5vIG92ZXJsYXkgd2lsbCBpbmNyZWFzZSB0aGUgb3ZlcmFsbCByZWFkIHRpbWUuIFRoaXMgaXMgd2h5IHdlIG9ubHkgbmVlZCB0byBzcGVjaWFsIGNhc2VcbiAgICAgICAgICAgIC8vIHRoZSBiYXRjaCBpZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBvID0gLTEsIF8gPSBpO1xuICAgICAgICAgICAgcmV0dXJuIHMubmV4dCgodCA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAoKHQsIG4pID0+IChvIDwgbi5sYXJnZXN0QmF0Y2hJZCAmJiAobyA9IG4ubGFyZ2VzdEJhdGNoSWQpLCBcbiAgICAgICAgICAgIGkuZ2V0KHQpID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKSA6IHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyeShlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBfID0gXy5pbnNlcnQodCwgZSk7XG4gICAgICAgICAgICB9KSkpKSkubmV4dCgoKCkgPT4gdGhpcy5wb3B1bGF0ZU92ZXJsYXlzKGUsIHQsIGkpKSkubmV4dCgoKCkgPT4gdGhpcy5jb21wdXRlVmlld3MoZSwgXywgdCwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpKSkubmV4dCgoZSA9PiAoe1xuICAgICAgICAgICAgICAgIGJhdGNoSWQ6IG8sXG4gICAgICAgICAgICAgICAgY2hhbmdlczogX19QUklWQVRFX2NvbnZlcnRPdmVybGF5ZWREb2N1bWVudE1hcFRvRG9jdW1lbnRNYXAoZSlcbiAgICAgICAgICAgIH0pKSkpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXREb2N1bWVudHNNYXRjaGluZ0RvY3VtZW50UXVlcnkoZSwgdCkge1xuICAgICAgICAvLyBKdXN0IGRvIGEgc2ltcGxlIGRvY3VtZW50IGxvb2t1cC5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnQoZSwgbmV3IERvY3VtZW50S2V5KHQpKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGxldCB0ID0gZG9jdW1lbnRNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBlLmlzRm91bmREb2N1bWVudCgpICYmICh0ID0gdC5pbnNlcnQoZS5rZXksIGUpKSwgdDtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnZXREb2N1bWVudHNNYXRjaGluZ0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgY29uc3QgaSA9IHQuY29sbGVjdGlvbkdyb3VwO1xuICAgICAgICBsZXQgcyA9IGRvY3VtZW50TWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4TWFuYWdlci5nZXRDb2xsZWN0aW9uUGFyZW50cyhlLCBpKS5uZXh0KChvID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKG8sIChvID0+IHtcbiAgICAgICAgICAgIGNvbnN0IF8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfYXNDb2xsZWN0aW9uUXVlcnlBdFBhdGgoZSwgdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbCh0LCBcbiAgICAgICAgICAgICAgICAvKmNvbGxlY3Rpb25Hcm91cD0qLyBudWxsLCBlLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCBlLmZpbHRlcnMuc2xpY2UoKSwgZS5saW1pdCwgZS5saW1pdFR5cGUsIGUuc3RhcnRBdCwgZS5lbmRBdCk7XG4gICAgICAgICAgICB9KHQsIG8uY2hpbGQoaSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uUXVlcnkoZSwgXywgbiwgcikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgZS5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzID0gcy5pbnNlcnQoZSwgdCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gcykpKSk7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvblF1ZXJ5KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgLy8gUXVlcnkgdGhlIHJlbW90ZSBkb2N1bWVudHMgYW5kIG92ZXJsYXkgbXV0YXRpb25zLlxuICAgICAgICBsZXQgaTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUuZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uKGUsIHQucGF0aCwgbi5sYXJnZXN0QmF0Y2hJZCkubmV4dCgocyA9PiAoaSA9IHMsIFxuICAgICAgICB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCB0LCBuLCBpLCByKSkpKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIC8vIEFzIGRvY3VtZW50cyBtaWdodCBtYXRjaCB0aGUgcXVlcnkgYmVjYXVzZSBvZiB0aGVpciBvdmVybGF5IHdlIG5lZWQgdG9cbiAgICAgICAgICAgIC8vIGluY2x1ZGUgZG9jdW1lbnRzIGZvciBhbGwgb3ZlcmxheXMgaW4gdGhlIGluaXRpYWwgZG9jdW1lbnQgc2V0LlxuICAgICAgICAgICAgaS5mb3JFYWNoKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuLmdldEtleSgpO1xuICAgICAgICAgICAgICAgIG51bGwgPT09IGUuZ2V0KHIpICYmIChlID0gZS5pbnNlcnQociwgTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudChyKSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgLy8gQXBwbHkgdGhlIG92ZXJsYXlzIGFuZCBtYXRjaCBhZ2FpbnN0IHRoZSBxdWVyeS5cbiAgICAgICAgICAgIGxldCBuID0gZG9jdW1lbnRNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBlLmZvckVhY2goKChlLCByKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IGkuZ2V0KGUpO1xuICAgICAgICAgICAgICAgIHZvaWQgMCAhPT0gcyAmJiBfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KHMubXV0YXRpb24sIHIsIEZpZWxkTWFzay5lbXB0eSgpLCBUaW1lc3RhbXAubm93KCkpLCBcbiAgICAgICAgICAgICAgICAvLyBGaW5hbGx5LCBpbnNlcnQgdGhlIGRvY3VtZW50cyB0aGF0IHN0aWxsIG1hdGNoIHRoZSBxdWVyeVxuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9xdWVyeU1hdGNoZXModCwgcikgJiYgKG4gPSBuLmluc2VydChlLCByKSk7XG4gICAgICAgICAgICB9KSksIG47XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9NZW1vcnlCdW5kbGVDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBlLCB0aGlzLmNyID0gbmV3IE1hcCwgdGhpcy5sciA9IG5ldyBNYXA7XG4gICAgfVxuICAgIGdldEJ1bmRsZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuY3IuZ2V0KHQpKTtcbiAgICB9XG4gICAgc2F2ZUJ1bmRsZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3Iuc2V0KHQuaWQsIFxuICAgICAgICAvKiogRGVjb2RlcyBhIEJ1bmRsZU1ldGFkYXRhIHByb3RvIGludG8gYSBCdW5kbGVNZXRhZGF0YSBvYmplY3QuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQnVuZGxlTWV0YWRhdGEoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogZS5pZCxcbiAgICAgICAgICAgICAgICB2ZXJzaW9uOiBlLnZlcnNpb24sXG4gICAgICAgICAgICAgICAgY3JlYXRlVGltZTogX19QUklWQVRFX2Zyb21WZXJzaW9uKGUuY3JlYXRlVGltZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odCkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXROYW1lZFF1ZXJ5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMubHIuZ2V0KHQpKTtcbiAgICB9XG4gICAgc2F2ZU5hbWVkUXVlcnkoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sci5zZXQodC5uYW1lLCBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVByb3RvTmFtZWRRdWVyeShlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGUubmFtZSxcbiAgICAgICAgICAgICAgICBxdWVyeTogX19QUklWQVRFX2Zyb21CdW5kbGVkUXVlcnkoZS5idW5kbGVkUXVlcnkpLFxuICAgICAgICAgICAgICAgIHJlYWRUaW1lOiBfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS5yZWFkVGltZSlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odCkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gaW4tbWVtb3J5IGltcGxlbWVudGF0aW9uIG9mIERvY3VtZW50T3ZlcmxheUNhY2hlLlxuICovIGNsYXNzIF9fUFJJVkFURV9NZW1vcnlEb2N1bWVudE92ZXJsYXlDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIEEgbWFwIHNvcnRlZCBieSBEb2N1bWVudEtleSwgd2hvc2UgdmFsdWUgaXMgYSBwYWlyIG9mIHRoZSBsYXJnZXN0IGJhdGNoIGlkXG4gICAgICAgIC8vIGZvciB0aGUgb3ZlcmxheSBhbmQgdGhlIG92ZXJsYXkgaXRzZWxmLlxuICAgICAgICB0aGlzLm92ZXJsYXlzID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKSwgdGhpcy5ociA9IG5ldyBNYXA7XG4gICAgfVxuICAgIGdldE92ZXJsYXkoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5vdmVybGF5cy5nZXQodCkpO1xuICAgIH1cbiAgICBnZXRPdmVybGF5cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbmV3T3ZlcmxheU1hcCgpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4gdGhpcy5nZXRPdmVybGF5KGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgbnVsbCAhPT0gZSAmJiBuLnNldCh0LCBlKTtcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICBzYXZlT3ZlcmxheXMoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5odChlLCB0LCByKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVPdmVybGF5c0ZvckJhdGNoSWQoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gdGhpcy5oci5nZXQobik7XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IHIgJiYgKHIuZm9yRWFjaCgoZSA9PiB0aGlzLm92ZXJsYXlzID0gdGhpcy5vdmVybGF5cy5yZW1vdmUoZSkpKSwgXG4gICAgICAgIHRoaXMuaHIuZGVsZXRlKG4pKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCksIGkgPSB0Lmxlbmd0aCArIDEsIHMgPSBuZXcgRG9jdW1lbnRLZXkodC5jaGlsZChcIlwiKSksIG8gPSB0aGlzLm92ZXJsYXlzLmdldEl0ZXJhdG9yRnJvbShzKTtcbiAgICAgICAgZm9yICg7by5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgZSA9IG8uZ2V0TmV4dCgpLnZhbHVlLCBzID0gZS5nZXRLZXkoKTtcbiAgICAgICAgICAgIGlmICghdC5pc1ByZWZpeE9mKHMucGF0aCkpIGJyZWFrO1xuICAgICAgICAgICAgLy8gRG9jdW1lbnRzIGZyb20gc3ViLWNvbGxlY3Rpb25zXG4gICAgICAgICAgICAgICAgICAgICAgICBzLnBhdGgubGVuZ3RoID09PSBpICYmIChlLmxhcmdlc3RCYXRjaElkID4gbiAmJiByLnNldChlLmdldEtleSgpLCBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHIpO1xuICAgIH1cbiAgICBnZXRPdmVybGF5c0ZvckNvbGxlY3Rpb25Hcm91cChlLCB0LCBuLCByKSB7XG4gICAgICAgIGxldCBpID0gbmV3IFNvcnRlZE1hcCgoKGUsIHQpID0+IGUgLSB0KSk7XG4gICAgICAgIGNvbnN0IHMgPSB0aGlzLm92ZXJsYXlzLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGZvciAoO3MuaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBzLmdldE5leHQoKS52YWx1ZTtcbiAgICAgICAgICAgIGlmIChlLmdldEtleSgpLmdldENvbGxlY3Rpb25Hcm91cCgpID09PSB0ICYmIGUubGFyZ2VzdEJhdGNoSWQgPiBuKSB7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSBpLmdldChlLmxhcmdlc3RCYXRjaElkKTtcbiAgICAgICAgICAgICAgICBudWxsID09PSB0ICYmICh0ID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSwgaSA9IGkuaW5zZXJ0KGUubGFyZ2VzdEJhdGNoSWQsIHQpKSwgXG4gICAgICAgICAgICAgICAgdC5zZXQoZS5nZXRLZXkoKSwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbyA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCksIF8gPSBpLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGZvciAoO18uaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGlmIChfLmdldE5leHQoKS52YWx1ZS5mb3JFYWNoKCgoZSwgdCkgPT4gby5zZXQoZSwgdCkpKSwgby5zaXplKCkgPj0gcikgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG8pO1xuICAgIH1cbiAgICBodChlLCB0LCBuKSB7XG4gICAgICAgIC8vIFJlbW92ZSB0aGUgYXNzb2NpYXRpb24gb2YgdGhlIG92ZXJsYXkgdG8gaXRzIGJhdGNoIGlkLlxuICAgICAgICBjb25zdCByID0gdGhpcy5vdmVybGF5cy5nZXQobi5rZXkpO1xuICAgICAgICBpZiAobnVsbCAhPT0gcikge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuaHIuZ2V0KHIubGFyZ2VzdEJhdGNoSWQpLmRlbGV0ZShuLmtleSk7XG4gICAgICAgICAgICB0aGlzLmhyLnNldChyLmxhcmdlc3RCYXRjaElkLCBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm92ZXJsYXlzID0gdGhpcy5vdmVybGF5cy5pbnNlcnQobi5rZXksIG5ldyBPdmVybGF5KHQsIG4pKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBhc3NvY2lhdGlvbiBvZiB0aGlzIG92ZXJsYXkgdG8gdGhlIGdpdmVuIGxhcmdlc3RCYXRjaElkLlxuICAgICAgICBsZXQgaSA9IHRoaXMuaHIuZ2V0KHQpO1xuICAgICAgICB2b2lkIDAgPT09IGkgJiYgKGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgdGhpcy5oci5zZXQodCwgaSkpLCB0aGlzLmhyLnNldCh0LCBpLmFkZChuLmtleSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBjb2xsZWN0aW9uIG9mIHJlZmVyZW5jZXMgdG8gYSBkb2N1bWVudCBmcm9tIHNvbWUga2luZCBvZiBudW1iZXJlZCBlbnRpdHlcbiAqIChlaXRoZXIgYSB0YXJnZXQgSUQgb3IgYmF0Y2ggSUQpLiBBcyByZWZlcmVuY2VzIGFyZSBhZGRlZCB0byBvciByZW1vdmVkIGZyb21cbiAqIHRoZSBzZXQgY29ycmVzcG9uZGluZyBldmVudHMgYXJlIGVtaXR0ZWQgdG8gYSByZWdpc3RlcmVkIGdhcmJhZ2UgY29sbGVjdG9yLlxuICpcbiAqIEVhY2ggcmVmZXJlbmNlIGlzIHJlcHJlc2VudGVkIGJ5IGEgRG9jdW1lbnRSZWZlcmVuY2Ugb2JqZWN0LiBFYWNoIG9mIHRoZW1cbiAqIGNvbnRhaW5zIGVub3VnaCBpbmZvcm1hdGlvbiB0byB1bmlxdWVseSBpZGVudGlmeSB0aGUgcmVmZXJlbmNlLiBUaGV5IGFyZSBhbGxcbiAqIHN0b3JlZCBwcmltYXJpbHkgaW4gYSBzZXQgc29ydGVkIGJ5IGtleS4gQSBkb2N1bWVudCBpcyBjb25zaWRlcmVkIGdhcmJhZ2UgaWZcbiAqIHRoZXJlJ3Mgbm8gcmVmZXJlbmNlcyBpbiB0aGF0IHNldCAodGhpcyBjYW4gYmUgZWZmaWNpZW50bHkgY2hlY2tlZCB0aGFua3MgdG9cbiAqIHNvcnRpbmcgYnkga2V5KS5cbiAqXG4gKiBSZWZlcmVuY2VTZXQgYWxzbyBrZWVwcyBhIHNlY29uZGFyeSBzZXQgdGhhdCBjb250YWlucyByZWZlcmVuY2VzIHNvcnRlZCBieVxuICogSURzLiBUaGlzIG9uZSBpcyB1c2VkIHRvIGVmZmljaWVudGx5IGltcGxlbWVudCByZW1vdmFsIG9mIGFsbCByZWZlcmVuY2VzIGJ5XG4gKiBzb21lIHRhcmdldCBJRC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfUmVmZXJlbmNlU2V0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gQSBzZXQgb2Ygb3V0c3RhbmRpbmcgcmVmZXJlbmNlcyB0byBhIGRvY3VtZW50IHNvcnRlZCBieSBrZXkuXG4gICAgICAgIHRoaXMuUHIgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UuSXIpLCBcbiAgICAgICAgLy8gQSBzZXQgb2Ygb3V0c3RhbmRpbmcgcmVmZXJlbmNlcyB0byBhIGRvY3VtZW50IHNvcnRlZCBieSB0YXJnZXQgaWQuXG4gICAgICAgIHRoaXMuVHIgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UuRXIpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0cnVlIGlmIHRoZSByZWZlcmVuY2Ugc2V0IGNvbnRhaW5zIG5vIHJlZmVyZW5jZXMuICovICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlByLmlzRW1wdHkoKTtcbiAgICB9XG4gICAgLyoqIEFkZHMgYSByZWZlcmVuY2UgdG8gdGhlIGdpdmVuIGRvY3VtZW50IGtleSBmb3IgdGhlIGdpdmVuIElELiAqLyAgICBhZGRSZWZlcmVuY2UoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UoZSwgdCk7XG4gICAgICAgIHRoaXMuUHIgPSB0aGlzLlByLmFkZChuKSwgdGhpcy5UciA9IHRoaXMuVHIuYWRkKG4pO1xuICAgIH1cbiAgICAvKiogQWRkIHJlZmVyZW5jZXMgdG8gdGhlIGdpdmVuIGRvY3VtZW50IGtleXMgZm9yIHRoZSBnaXZlbiBJRC4gKi8gICAgZHIoZSwgdCkge1xuICAgICAgICBlLmZvckVhY2goKGUgPT4gdGhpcy5hZGRSZWZlcmVuY2UoZSwgdCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQga2V5IGZvciB0aGUgZ2l2ZW5cbiAgICAgKiBJRC5cbiAgICAgKi8gICAgcmVtb3ZlUmVmZXJlbmNlKGUsIHQpIHtcbiAgICAgICAgdGhpcy5BcihuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShlLCB0KSk7XG4gICAgfVxuICAgIFJyKGUsIHQpIHtcbiAgICAgICAgZS5mb3JFYWNoKChlID0+IHRoaXMucmVtb3ZlUmVmZXJlbmNlKGUsIHQpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgcmVmZXJlbmNlcyB3aXRoIGEgZ2l2ZW4gSUQuIENhbGxzIHJlbW92ZVJlZigpIGZvciBlYWNoIGtleVxuICAgICAqIHJlbW92ZWQuXG4gICAgICovICAgIFZyKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBEb2N1bWVudEtleShuZXcgUmVzb3VyY2VQYXRoKFtdKSksIG4gPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZSh0LCBlKSwgciA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIGUgKyAxKSwgaSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5Uci5mb3JFYWNoSW5SYW5nZShbIG4sIHIgXSwgKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5BcihlKSwgaS5wdXNoKGUua2V5KTtcbiAgICAgICAgfSkpLCBpO1xuICAgIH1cbiAgICBtcigpIHtcbiAgICAgICAgdGhpcy5Qci5mb3JFYWNoKChlID0+IHRoaXMuQXIoZSkpKTtcbiAgICB9XG4gICAgQXIoZSkge1xuICAgICAgICB0aGlzLlByID0gdGhpcy5Qci5kZWxldGUoZSksIHRoaXMuVHIgPSB0aGlzLlRyLmRlbGV0ZShlKTtcbiAgICB9XG4gICAgZ3IoZSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IERvY3VtZW50S2V5KG5ldyBSZXNvdXJjZVBhdGgoW10pKSwgbiA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIGUpLCByID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UodCwgZSArIDEpO1xuICAgICAgICBsZXQgaSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5Uci5mb3JFYWNoSW5SYW5nZShbIG4sIHIgXSwgKGUgPT4ge1xuICAgICAgICAgICAgaSA9IGkuYWRkKGUua2V5KTtcbiAgICAgICAgfSkpLCBpO1xuICAgIH1cbiAgICBjb250YWluc0tleShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShlLCAwKSwgbiA9IHRoaXMuUHIuZmlyc3RBZnRlck9yRXF1YWwodCk7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBuICYmIGUuaXNFcXVhbChuLmtleSk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMua2V5ID0gZSwgdGhpcy5wciA9IHQ7XG4gICAgfVxuICAgIC8qKiBDb21wYXJlIGJ5IGtleSB0aGVuIGJ5IElEICovICAgIHN0YXRpYyBJcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBEb2N1bWVudEtleS5jb21wYXJhdG9yKGUua2V5LCB0LmtleSkgfHwgX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5wciwgdC5wcik7XG4gICAgfVxuICAgIC8qKiBDb21wYXJlIGJ5IElEIHRoZW4gYnkga2V5ICovICAgIHN0YXRpYyBFcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLnByLCB0LnByKSB8fCBEb2N1bWVudEtleS5jb21wYXJhdG9yKGUua2V5LCB0LmtleSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTWVtb3J5TXV0YXRpb25RdWV1ZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmluZGV4TWFuYWdlciA9IGUsIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUgPSB0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBzZXQgb2YgYWxsIG11dGF0aW9ucyB0aGF0IGhhdmUgYmVlbiBzZW50IGJ1dCBub3QgeWV0IGJlZW4gYXBwbGllZCB0b1xuICAgICAgICAgKiB0aGUgYmFja2VuZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXV0YXRpb25RdWV1ZSA9IFtdLCBcbiAgICAgICAgLyoqIE5leHQgdmFsdWUgdG8gdXNlIHdoZW4gYXNzaWduaW5nIHNlcXVlbnRpYWwgSURzIHRvIGVhY2ggbXV0YXRpb24gYmF0Y2guICovXG4gICAgICAgIHRoaXMueXIgPSAxLCBcbiAgICAgICAgLyoqIEFuIG9yZGVyZWQgbWFwcGluZyBiZXR3ZWVuIGRvY3VtZW50cyBhbmQgdGhlIG11dGF0aW9ucyBiYXRjaCBJRHMuICovXG4gICAgICAgIHRoaXMud3IgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UuSXIpO1xuICAgIH1cbiAgICBjaGVja0VtcHR5KGUpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKDAgPT09IHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGgpO1xuICAgIH1cbiAgICBhZGRNdXRhdGlvbkJhdGNoKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgY29uc3QgaSA9IHRoaXMueXI7XG4gICAgICAgIHRoaXMueXIrKywgdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCA+IDAgJiYgdGhpcy5tdXRhdGlvblF1ZXVlW3RoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgcyA9IG5ldyBNdXRhdGlvbkJhdGNoKGksIHQsIG4sIHIpO1xuICAgICAgICB0aGlzLm11dGF0aW9uUXVldWUucHVzaChzKTtcbiAgICAgICAgLy8gVHJhY2sgcmVmZXJlbmNlcyBieSBkb2N1bWVudCBrZXkgYW5kIGluZGV4IGNvbGxlY3Rpb24gcGFyZW50cy5cbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHIpIHRoaXMud3IgPSB0aGlzLndyLmFkZChuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZSh0LmtleSwgaSkpLCBcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIuYWRkVG9Db2xsZWN0aW9uUGFyZW50SW5kZXgoZSwgdC5rZXkucGF0aC5wb3BMYXN0KCkpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUocyk7XG4gICAgfVxuICAgIGxvb2t1cE11dGF0aW9uQmF0Y2goZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5Tcih0KSk7XG4gICAgfVxuICAgIGdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQgKyAxLCByID0gdGhpcy5icihuKSwgaSA9IHIgPCAwID8gMCA6IHI7XG4gICAgICAgIC8vIFRoZSByZXF1ZXN0ZWQgYmF0Y2hJZCBtYXkgc3RpbGwgYmUgb3V0IG9mIHJhbmdlIHNvIG5vcm1hbGl6ZSBpdCB0byB0aGVcbiAgICAgICAgLy8gc3RhcnQgb2YgdGhlIHF1ZXVlLlxuICAgICAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoID4gaSA/IHRoaXMubXV0YXRpb25RdWV1ZVtpXSA6IG51bGwpO1xuICAgIH1cbiAgICBnZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkKCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoMCA9PT0gdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCA/IC0xIDogdGhpcy55ciAtIDEpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXMoZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5tdXRhdGlvblF1ZXVlLnNsaWNlKCkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZSh0LCAwKSwgciA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSksIGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMud3IuZm9yRWFjaEluUmFuZ2UoWyBuLCByIF0sIChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLlNyKGUucHIpO1xuICAgICAgICAgICAgaS5wdXNoKHQpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKGkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXMoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShlLCAwKSwgciA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKGUsIE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgICAgICB0aGlzLndyLmZvckVhY2hJblJhbmdlKFsgdCwgciBdLCAoZSA9PiB7XG4gICAgICAgICAgICAgICAgbiA9IG4uYWRkKGUucHIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuRHIobikpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeShlLCB0KSB7XG4gICAgICAgIC8vIFVzZSB0aGUgcXVlcnkgcGF0aCBhcyBhIHByZWZpeCBmb3IgdGVzdGluZyBpZiBhIGRvY3VtZW50IG1hdGNoZXMgdGhlXG4gICAgICAgIC8vIHF1ZXJ5LlxuICAgICAgICBjb25zdCBuID0gdC5wYXRoLCByID0gbi5sZW5ndGggKyAxO1xuICAgICAgICAvLyBDb25zdHJ1Y3QgYSBkb2N1bWVudCByZWZlcmVuY2UgZm9yIGFjdHVhbGx5IHNjYW5uaW5nIHRoZSBpbmRleC4gVW5saWtlXG4gICAgICAgIC8vIHRoZSBwcmVmaXggdGhlIGRvY3VtZW50IGtleSBpbiB0aGlzIHJlZmVyZW5jZSBtdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgb2ZcbiAgICAgICAgLy8gc2VnbWVudHMuIFRoZSBlbXB0eSBzZWdtZW50IGNhbiBiZSB1c2VkIGEgc3VmZml4IG9mIHRoZSBxdWVyeSBwYXRoXG4gICAgICAgIC8vIGJlY2F1c2UgaXQgcHJlY2VkZXMgYWxsIG90aGVyIHNlZ21lbnRzIGluIGFuIG9yZGVyZWQgdHJhdmVyc2FsLlxuICAgICAgICBsZXQgaSA9IG47XG4gICAgICAgIERvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkoaSkgfHwgKGkgPSBpLmNoaWxkKFwiXCIpKTtcbiAgICAgICAgY29uc3QgcyA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKG5ldyBEb2N1bWVudEtleShpKSwgMCk7XG4gICAgICAgIC8vIEZpbmQgdW5pcXVlIGJhdGNoSURzIHJlZmVyZW5jZWQgYnkgYWxsIGRvY3VtZW50cyBwb3RlbnRpYWxseSBtYXRjaGluZyB0aGVcbiAgICAgICAgLy8gcXVlcnkuXG4gICAgICAgICAgICAgICAgbGV0IG8gPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIHRoaXMud3IuZm9yRWFjaFdoaWxlKChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLmtleS5wYXRoO1xuICAgICAgICAgICAgcmV0dXJuICEhbi5pc1ByZWZpeE9mKHQpICYmIChcbiAgICAgICAgICAgIC8vIFJvd3Mgd2l0aCBkb2N1bWVudCBrZXlzIG1vcmUgdGhhbiBvbmUgc2VnbWVudCBsb25nZXIgdGhhbiB0aGUgcXVlcnlcbiAgICAgICAgICAgIC8vIHBhdGggY2FuJ3QgYmUgbWF0Y2hlcy4gRm9yIGV4YW1wbGUsIGEgcXVlcnkgb24gJ3Jvb21zJyBjYW4ndCBtYXRjaFxuICAgICAgICAgICAgLy8gdGhlIGRvY3VtZW50IC9yb29tcy9hYmMvbWVzc2FnZXMveHl4LlxuICAgICAgICAgICAgLy8gVE9ETyhtY2cpOiB3ZSdsbCBuZWVkIGEgZGlmZmVyZW50IHNjYW5uZXIgd2hlbiB3ZSBpbXBsZW1lbnRcbiAgICAgICAgICAgIC8vIGFuY2VzdG9yIHF1ZXJpZXMuXG4gICAgICAgICAgICB0Lmxlbmd0aCA9PT0gciAmJiAobyA9IG8uYWRkKGUucHIpKSwgITApO1xuICAgICAgICB9KSwgcyksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuRHIobykpO1xuICAgIH1cbiAgICBEcihlKSB7XG4gICAgICAgIC8vIENvbnN0cnVjdCBhbiBhcnJheSBvZiBtYXRjaGluZyBiYXRjaGVzLCBzb3J0ZWQgYnkgYmF0Y2hJRCB0byBlbnN1cmUgdGhhdFxuICAgICAgICAvLyBtdWx0aXBsZSBtdXRhdGlvbnMgYWZmZWN0aW5nIHRoZSBzYW1lIGRvY3VtZW50IGtleSBhcmUgYXBwbGllZCBpbiBvcmRlci5cbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICByZXR1cm4gZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLlNyKGUpO1xuICAgICAgICAgICAgbnVsbCAhPT0gbiAmJiB0LnB1c2gobik7XG4gICAgICAgIH0pKSwgdDtcbiAgICB9XG4gICAgcmVtb3ZlTXV0YXRpb25CYXRjaChlLCB0KSB7XG4gICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDAgPT09IHRoaXMuQ3IodC5iYXRjaElkLCBcInJlbW92ZWRcIikpLCB0aGlzLm11dGF0aW9uUXVldWUuc2hpZnQoKTtcbiAgICAgICAgbGV0IG4gPSB0aGlzLndyO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godC5tdXRhdGlvbnMsIChyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShyLmtleSwgdC5iYXRjaElkKTtcbiAgICAgICAgICAgIHJldHVybiBuID0gbi5kZWxldGUoaSksIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUubWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgci5rZXkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy53ciA9IG47XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgTW4oZSkge1xuICAgICAgICAvLyBOby1vcCBzaW5jZSB0aGUgbWVtb3J5IG11dGF0aW9uIHF1ZXVlIGRvZXMgbm90IG1haW50YWluIGEgc2VwYXJhdGUgY2FjaGUuXG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIDApLCByID0gdGhpcy53ci5maXJzdEFmdGVyT3JFcXVhbChuKTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHQuaXNFcXVhbChyICYmIHIua2V5KSk7XG4gICAgfVxuICAgIHBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGgsIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gYmF0Y2hJZCBpbiB0aGUgbXV0YXRpb24gcXVldWUgYW5kIGFzc2VydHMgdGhhdFxuICAgICAqIHRoZSByZXN1bHRpbmcgaW5kZXggaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGJhdGNoSWQgLSBUaGUgYmF0Y2hJZCB0byBzZWFyY2ggZm9yXG4gICAgICogQHBhcmFtIGFjdGlvbiAtIEEgZGVzY3JpcHRpb24gb2Ygd2hhdCB0aGUgY2FsbGVyIGlzIGRvaW5nLCBwaHJhc2VkIGluIHBhc3NpdmVcbiAgICAgKiBmb3JtIChlLmcuIFwiYWNrbm93bGVkZ2VkXCIgaW4gYSByb3V0aW5lIHRoYXQgYWNrbm93bGVkZ2VzIGJhdGNoZXMpLlxuICAgICAqLyAgICBDcihlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJyKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgaW5kZXggb2YgdGhlIGdpdmVuIGJhdGNoSWQgaW4gdGhlIG11dGF0aW9uIHF1ZXVlLiBUaGlzIG9wZXJhdGlvblxuICAgICAqIGlzIE8oMSkuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgY29tcHV0ZWQgaW5kZXggb2YgdGhlIGJhdGNoIHdpdGggdGhlIGdpdmVuIGJhdGNoSWQsIGJhc2VkIG9uXG4gICAgICogdGhlIHN0YXRlIG9mIHRoZSBxdWV1ZS4gTm90ZSB0aGlzIGluZGV4IGNhbiBiZSBuZWdhdGl2ZSBpZiB0aGUgcmVxdWVzdGVkXG4gICAgICogYmF0Y2hJZCBoYXMgYWxyZWFkeSBiZWVuIHJlbXZvZWQgZnJvbSB0aGUgcXVldWUgb3IgcGFzdCB0aGUgZW5kIG9mIHRoZVxuICAgICAqIHF1ZXVlIGlmIHRoZSBiYXRjaElkIGlzIGxhcmdlciB0aGFuIHRoZSBsYXN0IGFkZGVkIGJhdGNoLlxuICAgICAqLyAgICBicihlKSB7XG4gICAgICAgIGlmICgwID09PSB0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoKSBcbiAgICAgICAgLy8gQXMgYW4gaW5kZXggdGhpcyBpcyBwYXN0IHRoZSBlbmQgb2YgdGhlIHF1ZXVlXG4gICAgICAgIHJldHVybiAwO1xuICAgICAgICAvLyBFeGFtaW5lIHRoZSBmcm9udCBvZiB0aGUgcXVldWUgdG8gZmlndXJlIG91dCB0aGUgZGlmZmVyZW5jZSBiZXR3ZWVuIHRoZVxuICAgICAgICAvLyBiYXRjaElkIGFuZCBpbmRleGVzIGluIHRoZSBhcnJheS4gTm90ZSB0aGF0IHNpbmNlIHRoZSBxdWV1ZSBpcyBvcmRlcmVkXG4gICAgICAgIC8vIGJ5IGJhdGNoSWQsIGlmIHRoZSBmaXJzdCBiYXRjaCBoYXMgYSBsYXJnZXIgYmF0Y2hJZCB0aGVuIHRoZSByZXF1ZXN0ZWRcbiAgICAgICAgLy8gYmF0Y2hJZCBkb2Vzbid0IGV4aXN0IGluIHRoZSBxdWV1ZS5cbiAgICAgICAgICAgICAgICByZXR1cm4gZSAtIHRoaXMubXV0YXRpb25RdWV1ZVswXS5iYXRjaElkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHZlcnNpb24gb2YgbG9va3VwTXV0YXRpb25CYXRjaCB0aGF0IGRvZXNuJ3QgcmV0dXJuIGEgcHJvbWlzZSwgdGhpcyBtYWtlc1xuICAgICAqIG90aGVyIGZ1bmN0aW9ucyB0aGF0IHVzZXMgdGhpcyBjb2RlIGVhc2llciB0byByZWFkIGFuZCBtb3JlIGVmZmljZW50LlxuICAgICAqLyAgICBTcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmJyKGUpO1xuICAgICAgICBpZiAodCA8IDAgfHwgdCA+PSB0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25RdWV1ZVt0XTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSBtZW1vcnktb25seSBSZW1vdGVEb2N1bWVudENhY2hlIGZvciBJbmRleGVkRGIuIFRvIGNvbnN0cnVjdCwgaW52b2tlXG4gKiBgbmV3TWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZSgpYC5cbiAqL1xuY2xhc3MgX19QUklWQVRFX01lbW9yeVJlbW90ZURvY3VtZW50Q2FjaGVJbXBsIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gc2l6ZXIgLSBVc2VkIHRvIGFzc2VzcyB0aGUgc2l6ZSBvZiBhIGRvY3VtZW50LiBGb3IgZWFnZXIgR0MsIHRoaXMgaXNcbiAgICAgKiBleHBlY3RlZCB0byBqdXN0IHJldHVybiAwIHRvIGF2b2lkIHVubmVjZXNzYXJpbHkgZG9pbmcgdGhlIHdvcmsgb2ZcbiAgICAgKiBjYWxjdWxhdGluZyB0aGUgc2l6ZS5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMudnIgPSBlLCBcbiAgICAgICAgLyoqIFVuZGVybHlpbmcgY2FjaGUgb2YgZG9jdW1lbnRzIGFuZCB0aGVpciByZWFkIHRpbWVzLiAqL1xuICAgICAgICB0aGlzLmRvY3MgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRFbnRyeU1hcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU29ydGVkTWFwKERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuICAgICAgICB9KCksIFxuICAgICAgICAvKiogU2l6ZSBvZiBhbGwgY2FjaGVkIGRvY3VtZW50cy4gKi9cbiAgICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG4gICAgc2V0SW5kZXhNYW5hZ2VyKGUpIHtcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBzdXBwbGllZCBlbnRyeSB0byB0aGUgY2FjaGUgYW5kIHVwZGF0ZXMgdGhlIGNhY2hlIHNpemUgYXMgYXBwcm9wcmlhdGUuXG4gICAgICpcbiAgICAgKiBBbGwgY2FsbHMgb2YgYGFkZEVudHJ5YCAgYXJlIHJlcXVpcmVkIHRvIGdvIHRocm91Z2ggdGhlIFJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyXG4gICAgICogcmV0dXJuZWQgYnkgYG5ld0NoYW5nZUJ1ZmZlcigpYC5cbiAgICAgKi8gICAgYWRkRW50cnkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5rZXksIHIgPSB0aGlzLmRvY3MuZ2V0KG4pLCBpID0gciA/IHIuc2l6ZSA6IDAsIHMgPSB0aGlzLnZyKHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2NzID0gdGhpcy5kb2NzLmluc2VydChuLCB7XG4gICAgICAgICAgICBkb2N1bWVudDogdC5tdXRhYmxlQ29weSgpLFxuICAgICAgICAgICAgc2l6ZTogc1xuICAgICAgICB9KSwgdGhpcy5zaXplICs9IHMgLSBpLCB0aGlzLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLCBuLnBhdGgucG9wTGFzdCgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgc3BlY2lmaWVkIGVudHJ5IGZyb20gdGhlIGNhY2hlIGFuZCB1cGRhdGVzIHRoZSBjYWNoZSBzaXplIGFzIGFwcHJvcHJpYXRlLlxuICAgICAqXG4gICAgICogQWxsIGNhbGxzIG9mIGByZW1vdmVFbnRyeWAgYXJlIHJlcXVpcmVkIHRvIGdvIHRocm91Z2ggdGhlIFJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyXG4gICAgICogcmV0dXJuZWQgYnkgYG5ld0NoYW5nZUJ1ZmZlcigpYC5cbiAgICAgKi8gICAgcmVtb3ZlRW50cnkoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5kb2NzLmdldChlKTtcbiAgICAgICAgdCAmJiAodGhpcy5kb2NzID0gdGhpcy5kb2NzLnJlbW92ZShlKSwgdGhpcy5zaXplIC09IHQuc2l6ZSk7XG4gICAgfVxuICAgIGdldEVudHJ5KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuZG9jcy5nZXQodCk7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShuID8gbi5kb2N1bWVudC5tdXRhYmxlQ29weSgpIDogTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudCh0KSk7XG4gICAgfVxuICAgIGdldEVudHJpZXMoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5kb2NzLmdldChlKTtcbiAgICAgICAgICAgIG4gPSBuLmluc2VydChlLCB0ID8gdC5kb2N1bWVudC5tdXRhYmxlQ29weSgpIDogTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudChlKSk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobik7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSwgdCwgbiwgcikge1xuICAgICAgICBsZXQgaSA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgLy8gRG9jdW1lbnRzIGFyZSBvcmRlcmVkIGJ5IGtleSwgc28gd2UgY2FuIHVzZSBhIHByZWZpeCBzY2FuIHRvIG5hcnJvdyBkb3duXG4gICAgICAgIC8vIHRoZSBkb2N1bWVudHMgd2UgbmVlZCB0byBtYXRjaCB0aGUgcXVlcnkgYWdhaW5zdC5cbiAgICAgICAgICAgICAgICBjb25zdCBzID0gdC5wYXRoLCBvID0gbmV3IERvY3VtZW50S2V5KHMuY2hpbGQoXCJcIikpLCBfID0gdGhpcy5kb2NzLmdldEl0ZXJhdG9yRnJvbShvKTtcbiAgICAgICAgZm9yICg7Xy5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3Qge2tleTogZSwgdmFsdWU6IHtkb2N1bWVudDogb319ID0gXy5nZXROZXh0KCk7XG4gICAgICAgICAgICBpZiAoIXMuaXNQcmVmaXhPZihlLnBhdGgpKSBicmVhaztcbiAgICAgICAgICAgIGUucGF0aC5sZW5ndGggPiBzLmxlbmd0aCArIDEgfHwgKF9fUFJJVkFURV9pbmRleE9mZnNldENvbXBhcmF0b3IoX19QUklWQVRFX25ld0luZGV4T2Zmc2V0RnJvbURvY3VtZW50KG8pLCBuKSA8PSAwIHx8IChyLmhhcyhvLmtleSkgfHwgX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyh0LCBvKSkgJiYgKGkgPSBpLmluc2VydChvLmtleSwgby5tdXRhYmxlQ29weSgpKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShpKTtcbiAgICB9XG4gICAgZ2V0QWxsRnJvbUNvbGxlY3Rpb25Hcm91cChlLCB0LCBuLCByKSB7XG4gICAgICAgIC8vIFRoaXMgbWV0aG9kIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBmcm9tIHRoZSBJbmRleEJhY2tmaWxsZXIgaWYgcGVyc2lzdGVuY2VcbiAgICAgICAgLy8gaXMgZW5hYmxlZC5cbiAgICAgICAgZmFpbCgpO1xuICAgIH1cbiAgICBGcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0aGlzLmRvY3MsIChlID0+IHQoZSkpKTtcbiAgICB9XG4gICAgbmV3Q2hhbmdlQnVmZmVyKGUpIHtcbiAgICAgICAgLy8gYHRyYWNrUmVtb3ZhbHNgIGlzIGlnbm9yZXMgc2luY2UgdGhlIE1lbW9yeVJlbW90ZURvY3VtZW50Q2FjaGUga2VlcHNcbiAgICAgICAgLy8gYSBzZXBhcmF0ZSBjaGFuZ2Vsb2cgYW5kIGRvZXMgbm90IG5lZWQgc3BlY2lhbCBoYW5kbGluZyBmb3IgcmVtb3ZhbHMuXG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyKHRoaXMpO1xuICAgIH1cbiAgICBnZXRTaXplKGUpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuc2l6ZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgbWVtb3J5LW9ubHkgUmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqXG4gKiBAcGFyYW0gc2l6ZXIgLSBVc2VkIHRvIGFzc2VzcyB0aGUgc2l6ZSBvZiBhIGRvY3VtZW50LiBGb3IgZWFnZXIgR0MsIHRoaXMgaXNcbiAqIGV4cGVjdGVkIHRvIGp1c3QgcmV0dXJuIDAgdG8gYXZvaWQgdW5uZWNlc3NhcmlseSBkb2luZyB0aGUgd29yayBvZlxuICogY2FsY3VsYXRpbmcgdGhlIHNpemUuXG4gKi9cbi8qKlxuICogSGFuZGxlcyB0aGUgZGV0YWlscyBvZiBhZGRpbmcgYW5kIHVwZGF0aW5nIGRvY3VtZW50cyBpbiB0aGUgTWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqL1xuY2xhc3MgX19QUklWQVRFX01lbW9yeVJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyIGV4dGVuZHMgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5hciA9IGU7XG4gICAgfVxuICAgIGFwcGx5Q2hhbmdlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbmdlcy5mb3JFYWNoKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgci5pc1ZhbGlkRG9jdW1lbnQoKSA/IHQucHVzaCh0aGlzLmFyLmFkZEVudHJ5KGUsIHIpKSA6IHRoaXMuYXIucmVtb3ZlRW50cnkobik7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IodCk7XG4gICAgfVxuICAgIGdldEZyb21DYWNoZShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyLmdldEVudHJ5KGUsIHQpO1xuICAgIH1cbiAgICBnZXRBbGxGcm9tQ2FjaGUoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hci5nZXRFbnRyaWVzKGUsIHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX01lbW9yeVRhcmdldENhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMucGVyc2lzdGVuY2UgPSBlLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgYSB0YXJnZXQgdG8gdGhlIGRhdGEgYWJvdXQgdGhhdCB0YXJnZXRcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuTXIgPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeVRhcmdldChlKSksIF9fUFJJVkFURV90YXJnZXRFcXVhbHMpLCBcbiAgICAgICAgLyoqIFRoZSBsYXN0IHJlY2VpdmVkIHNuYXBzaG90IHZlcnNpb24uICovXG4gICAgICAgIHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiA9IFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXG4gICAgICAgIC8qKiBUaGUgaGlnaGVzdCBudW1iZXJlZCB0YXJnZXQgSUQgZW5jb3VudGVyZWQuICovXG4gICAgICAgIHRoaXMuaGlnaGVzdFRhcmdldElkID0gMCwgXG4gICAgICAgIC8qKiBUaGUgaGlnaGVzdCBzZXF1ZW5jZSBudW1iZXIgZW5jb3VudGVyZWQuICovXG4gICAgICAgIHRoaXMuT3IgPSAwLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgb3JkZXJlZCBiaWRpcmVjdGlvbmFsIG1hcHBpbmcgYmV0d2VlbiBkb2N1bWVudHMgYW5kIHRoZSByZW1vdGUgdGFyZ2V0XG4gICAgICAgICAqIElEcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuTnIgPSBuZXcgX19QUklWQVRFX1JlZmVyZW5jZVNldCwgdGhpcy50YXJnZXRDb3VudCA9IDAsIHRoaXMuTHIgPSBfX1BSSVZBVEVfVGFyZ2V0SWRHZW5lcmF0b3IuTm4oKTtcbiAgICB9XG4gICAgZm9yRWFjaFRhcmdldChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLk1yLmZvckVhY2goKChlLCBuKSA9PiB0KG4pKSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKTtcbiAgICB9XG4gICAgZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyKGUpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuT3IpO1xuICAgIH1cbiAgICBhbGxvY2F0ZVRhcmdldElkKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGlnaGVzdFRhcmdldElkID0gdGhpcy5Mci5uZXh0KCksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuaGlnaGVzdFRhcmdldElkKTtcbiAgICB9XG4gICAgc2V0VGFyZ2V0c01ldGFkYXRhKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIG4gJiYgKHRoaXMubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiA9IG4pLCB0ID4gdGhpcy5PciAmJiAodGhpcy5PciA9IHQpLCBcbiAgICAgICAgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcW4oZSkge1xuICAgICAgICB0aGlzLk1yLnNldChlLnRhcmdldCwgZSk7XG4gICAgICAgIGNvbnN0IHQgPSBlLnRhcmdldElkO1xuICAgICAgICB0ID4gdGhpcy5oaWdoZXN0VGFyZ2V0SWQgJiYgKHRoaXMuTHIgPSBuZXcgX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yKHQpLCB0aGlzLmhpZ2hlc3RUYXJnZXRJZCA9IHQpLCBcbiAgICAgICAgZS5zZXF1ZW5jZU51bWJlciA+IHRoaXMuT3IgJiYgKHRoaXMuT3IgPSBlLnNlcXVlbmNlTnVtYmVyKTtcbiAgICB9XG4gICAgYWRkVGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnFuKHQpLCB0aGlzLnRhcmdldENvdW50ICs9IDEsIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHVwZGF0ZVRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xbih0KSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLk1yLmRlbGV0ZSh0LnRhcmdldCksIHRoaXMuTnIuVnIodC50YXJnZXRJZCksIHRoaXMudGFyZ2V0Q291bnQgLT0gMSwgXG4gICAgICAgIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldHMoZSwgdCwgbikge1xuICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgIGNvbnN0IGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuTXIuZm9yRWFjaCgoKHMsIG8pID0+IHtcbiAgICAgICAgICAgIG8uc2VxdWVuY2VOdW1iZXIgPD0gdCAmJiBudWxsID09PSBuLmdldChvLnRhcmdldElkKSAmJiAodGhpcy5Nci5kZWxldGUocyksIGkucHVzaCh0aGlzLnJlbW92ZU1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsIG8udGFyZ2V0SWQpKSwgXG4gICAgICAgICAgICByKyspO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKGkpLm5leHQoKCgpID0+IHIpKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0Q291bnQoZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy50YXJnZXRDb3VudCk7XG4gICAgfVxuICAgIGdldFRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5Nci5nZXQodCkgfHwgbnVsbDtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG4pO1xuICAgIH1cbiAgICBhZGRNYXRjaGluZ0tleXMoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5Oci5kcih0LCBuKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlTWF0Y2hpbmdLZXlzKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5Oci5Scih0LCBuKTtcbiAgICAgICAgY29uc3QgciA9IHRoaXMucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUsIGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIHIgJiYgdC5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGkucHVzaChyLm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKGUsIHQpKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihpKTtcbiAgICB9XG4gICAgcmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Oci5Wcih0KSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5Oci5ncih0KTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG4pO1xuICAgIH1cbiAgICBjb250YWluc0tleShlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLk5yLmNvbnRhaW5zS2V5KHQpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgbWVtb3J5LWJhY2tlZCBpbnN0YW5jZSBvZiBQZXJzaXN0ZW5jZS4gRGF0YSBpcyBzdG9yZWQgb25seSBpbiBSQU0gYW5kXG4gKiBub3QgcGVyc2lzdGVkIGFjcm9zcyBzZXNzaW9ucy5cbiAqL1xuY2xhc3MgX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlIHtcbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3IgYWNjZXB0cyBhIGZhY3RvcnkgZm9yIGNyZWF0aW5nIGEgcmVmZXJlbmNlIGRlbGVnYXRlLiBUaGlzXG4gICAgICogYWxsb3dzIGJvdGggdGhlIGRlbGVnYXRlIGFuZCB0aGlzIGluc3RhbmNlIHRvIGhhdmUgc3Ryb25nIHJlZmVyZW5jZXMgdG9cbiAgICAgKiBlYWNoIG90aGVyIHdpdGhvdXQgaGF2aW5nIG51bGxhYmxlIGZpZWxkcyB0aGF0IHdvdWxkIHRoZW4gbmVlZCB0byBiZVxuICAgICAqIGNoZWNrZWQgb3IgYXNzZXJ0ZWQgb24gZXZlcnkgYWNjZXNzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5CciA9IHt9LCB0aGlzLm92ZXJsYXlzID0ge30sIHRoaXMua3IgPSBuZXcgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlKDApLCB0aGlzLnFyID0gITEsIFxuICAgICAgICB0aGlzLnFyID0gITAsIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUgPSBlKHRoaXMpLCB0aGlzLlFyID0gbmV3IF9fUFJJVkFURV9NZW1vcnlUYXJnZXRDYWNoZSh0aGlzKTtcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSBuZXcgX19QUklWQVRFX01lbW9yeUluZGV4TWFuYWdlciwgdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlID0gZnVuY3Rpb24gX19QUklWQVRFX25ld01lbW9yeVJlbW90ZURvY3VtZW50Q2FjaGUoZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZUltcGwoZSk7XG4gICAgICAgIH0oKGUgPT4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5LcihlKSkpLCB0aGlzLnNlcmlhbGl6ZXIgPSBuZXcgX19QUklWQVRFX0xvY2FsU2VyaWFsaXplcih0KSwgXG4gICAgICAgIHRoaXMuJHIgPSBuZXcgX19QUklWQVRFX01lbW9yeUJ1bmRsZUNhY2hlKHRoaXMuc2VyaWFsaXplcik7XG4gICAgfVxuICAgIHN0YXJ0KCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICAvLyBObyBkdXJhYmxlIHN0YXRlIHRvIGVuc3VyZSBpcyBjbG9zZWQgb24gc2h1dGRvd24uXG4gICAgICAgIHJldHVybiB0aGlzLnFyID0gITEsIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXI7XG4gICAgfVxuICAgIHNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKCkge1xuICAgICAgICAvLyBObyBvcC5cbiAgICB9XG4gICAgc2V0TmV0d29ya0VuYWJsZWQoKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBnZXRJbmRleE1hbmFnZXIoZSkge1xuICAgICAgICAvLyBXZSBkbyBub3QgY3VycmVudGx5IHN1cHBvcnQgaW5kaWNlcyBmb3IgbWVtb3J5IHBlcnNpc3RlbmNlLCBzbyB3ZSBjYW5cbiAgICAgICAgLy8gcmV0dXJuIHRoZSBzYW1lIHNoYXJlZCBpbnN0YW5jZSBvZiB0aGUgbWVtb3J5IGluZGV4IG1hbmFnZXIuXG4gICAgICAgIHJldHVybiB0aGlzLmluZGV4TWFuYWdlcjtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRPdmVybGF5Q2FjaGUoZSkge1xuICAgICAgICBsZXQgdCA9IHRoaXMub3ZlcmxheXNbZS50b0tleSgpXTtcbiAgICAgICAgcmV0dXJuIHQgfHwgKHQgPSBuZXcgX19QUklWQVRFX01lbW9yeURvY3VtZW50T3ZlcmxheUNhY2hlLCB0aGlzLm92ZXJsYXlzW2UudG9LZXkoKV0gPSB0KSwgXG4gICAgICAgIHQ7XG4gICAgfVxuICAgIGdldE11dGF0aW9uUXVldWUoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IHRoaXMuQnJbZS50b0tleSgpXTtcbiAgICAgICAgcmV0dXJuIG4gfHwgKG4gPSBuZXcgX19QUklWQVRFX01lbW9yeU11dGF0aW9uUXVldWUodCwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSksIHRoaXMuQnJbZS50b0tleSgpXSA9IG4pLCBcbiAgICAgICAgbjtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0Q2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlFyO1xuICAgIH1cbiAgICBnZXRSZW1vdGVEb2N1bWVudENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlO1xuICAgIH1cbiAgICBnZXRCdW5kbGVDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuJHI7XG4gICAgfVxuICAgIHJ1blRyYW5zYWN0aW9uKGUsIHQsIG4pIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiTWVtb3J5UGVyc2lzdGVuY2VcIiwgXCJTdGFydGluZyB0cmFuc2FjdGlvbjpcIiwgZSk7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX01lbW9yeVRyYW5zYWN0aW9uKHRoaXMua3IubmV4dCgpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUuVXIoKSwgbihyKS5uZXh0KChlID0+IHRoaXMucmVmZXJlbmNlRGVsZWdhdGUuV3IocikubmV4dCgoKCkgPT4gZSkpKSkudG9Qcm9taXNlKCkudGhlbigoZSA9PiAoci5yYWlzZU9uQ29tbWl0dGVkRXZlbnQoKSwgXG4gICAgICAgIGUpKSk7XG4gICAgfVxuICAgIEdyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5vcihPYmplY3QudmFsdWVzKHRoaXMuQnIpLm1hcCgobiA9PiAoKSA9PiBuLmNvbnRhaW5zS2V5KGUsIHQpKSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBNZW1vcnkgcGVyc2lzdGVuY2UgaXMgbm90IGFjdHVhbGx5IHRyYW5zYWN0aW9uYWwsIGJ1dCBmdXR1cmUgaW1wbGVtZW50YXRpb25zXG4gKiBtYXkgaGF2ZSB0cmFuc2FjdGlvbi1zY29wZWQgc3RhdGUuXG4gKi8gY2xhc3MgX19QUklWQVRFX01lbW9yeVRyYW5zYWN0aW9uIGV4dGVuZHMgUGVyc2lzdGVuY2VUcmFuc2FjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmN1cnJlbnRTZXF1ZW5jZU51bWJlciA9IGU7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5RWFnZXJEZWxlZ2F0ZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnBlcnNpc3RlbmNlID0gZSwgXG4gICAgICAgIC8qKiBUcmFja3MgYWxsIGRvY3VtZW50cyB0aGF0IGFyZSBhY3RpdmUgaW4gUXVlcnkgdmlld3MuICovXG4gICAgICAgIHRoaXMuenIgPSBuZXcgX19QUklWQVRFX1JlZmVyZW5jZVNldCwgXG4gICAgICAgIC8qKiBUaGUgbGlzdCBvZiBkb2N1bWVudHMgdGhhdCBhcmUgcG90ZW50aWFsbHkgR0NlZCBhZnRlciBlYWNoIHRyYW5zYWN0aW9uLiAqL1xuICAgICAgICB0aGlzLmpyID0gbnVsbDtcbiAgICB9XG4gICAgc3RhdGljIEhyKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5RWFnZXJEZWxlZ2F0ZShlKTtcbiAgICB9XG4gICAgZ2V0IEpyKCkge1xuICAgICAgICBpZiAodGhpcy5qcikgcmV0dXJuIHRoaXMuanI7XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG4gICAgYWRkUmVmZXJlbmNlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuenIuYWRkUmVmZXJlbmNlKG4sIHQpLCB0aGlzLkpyLmRlbGV0ZShuLnRvU3RyaW5nKCkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVSZWZlcmVuY2UoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy56ci5yZW1vdmVSZWZlcmVuY2UobiwgdCksIHRoaXMuSnIuYWRkKG4udG9TdHJpbmcoKSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIG1hcmtQb3RlbnRpYWxseU9ycGhhbmVkKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSnIuYWRkKHQudG9TdHJpbmcoKSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldChlLCB0KSB7XG4gICAgICAgIHRoaXMuenIuVnIodC50YXJnZXRJZCkuZm9yRWFjaCgoZSA9PiB0aGlzLkpyLmFkZChlLnRvU3RyaW5nKCkpKSk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCk7XG4gICAgICAgIHJldHVybiBuLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsIHQudGFyZ2V0SWQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZS5mb3JFYWNoKChlID0+IHRoaXMuSnIuYWRkKGUudG9TdHJpbmcoKSkpKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IG4ucmVtb3ZlVGFyZ2V0RGF0YShlLCB0KSkpO1xuICAgIH1cbiAgICBVcigpIHtcbiAgICAgICAgdGhpcy5qciA9IG5ldyBTZXQ7XG4gICAgfVxuICAgIFdyKGUpIHtcbiAgICAgICAgLy8gUmVtb3ZlIG5ld2x5IG9ycGhhbmVkIGRvY3VtZW50cy5cbiAgICAgICAgY29uc3QgdCA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLm5ld0NoYW5nZUJ1ZmZlcigpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godGhpcy5KciwgKG4gPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IERvY3VtZW50S2V5LmZyb21QYXRoKG4pO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuWXIoZSwgcikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgZSB8fCB0LnJlbW92ZUVudHJ5KHIsIFNuYXBzaG90VmVyc2lvbi5taW4oKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiAodGhpcy5qciA9IG51bGwsIHQuYXBwbHkoZSkpKSk7XG4gICAgfVxuICAgIHVwZGF0ZUxpbWJvRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ZcihlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGUgPyB0aGlzLkpyLmRlbGV0ZSh0LnRvU3RyaW5nKCkpIDogdGhpcy5Kci5hZGQodC50b1N0cmluZygpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBLcihlKSB7XG4gICAgICAgIC8vIEZvciBlYWdlciBHQywgd2UgZG9uJ3QgY2FyZSBhYm91dCB0aGUgZG9jdW1lbnQgc2l6ZSwgdGhlcmUgYXJlIG5vIHNpemUgdGhyZXNob2xkcy5cbiAgICAgICAgcmV0dXJuIDA7XG4gICAgfVxuICAgIFlyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5vcihbICgpID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuenIuY29udGFpbnNLZXkodCkpLCAoKSA9PiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkuY29udGFpbnNLZXkoZSwgdCksICgpID0+IHRoaXMucGVyc2lzdGVuY2UuR3IoZSwgdCkgXSk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5THJ1RGVsZWdhdGUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZSA9IGUsIHRoaXMuWnIgPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZS5wYXRoKSksICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSksIFxuICAgICAgICB0aGlzLmdhcmJhZ2VDb2xsZWN0b3IgPSBfX1BSSVZBVEVfbmV3THJ1R2FyYmFnZUNvbGxlY3Rvcih0aGlzLCB0KTtcbiAgICB9XG4gICAgc3RhdGljIEhyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5THJ1RGVsZWdhdGUoZSwgdCk7XG4gICAgfVxuICAgIC8vIE5vLW9wcywgcHJlc2VudCBzbyBtZW1vcnkgcGVyc2lzdGVuY2UgZG9lc24ndCBoYXZlIHRvIGNhcmUgd2hpY2ggZGVsZWdhdGVcbiAgICAvLyBpdCBoYXMuXG4gICAgVXIoKSB7fVxuICAgIFdyKGUpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGZvckVhY2hUYXJnZXQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLmZvckVhY2hUYXJnZXQoZSwgdCk7XG4gICAgfVxuICAgIEhuKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuWm4oZSk7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkuZ2V0VGFyZ2V0Q291bnQoZSkubmV4dCgoZSA9PiB0Lm5leHQoKHQgPT4gZSArIHQpKSkpO1xuICAgIH1cbiAgICBabihlKSB7XG4gICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXMuSm4oZSwgKGUgPT4ge1xuICAgICAgICAgICAgdCsrO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gdCkpO1xuICAgIH1cbiAgICBKbihlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0aGlzLlpyLCAoKG4sIHIpID0+IHRoaXMuZXIoZSwgbiwgcikubmV4dCgoZSA9PiBlID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKSA6IHQocikpKSkpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXRzKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5yZW1vdmVUYXJnZXRzKGUsIHQsIG4pO1xuICAgIH1cbiAgICByZW1vdmVPcnBoYW5lZERvY3VtZW50cyhlLCB0KSB7XG4gICAgICAgIGxldCBuID0gMDtcbiAgICAgICAgY29uc3QgciA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLCBpID0gci5uZXdDaGFuZ2VCdWZmZXIoKTtcbiAgICAgICAgcmV0dXJuIHIuRnIoZSwgKHIgPT4gdGhpcy5lcihlLCByLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGUgfHwgKG4rKywgaS5yZW1vdmVFbnRyeShyLCBTbmFwc2hvdFZlcnNpb24ubWluKCkpKTtcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gaS5hcHBseShlKSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgbWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5aci5zZXQodCwgZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC53aXRoU2VxdWVuY2VOdW1iZXIoZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLnVwZGF0ZVRhcmdldERhdGEoZSwgbik7XG4gICAgfVxuICAgIGFkZFJlZmVyZW5jZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlpyLnNldChuLCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVJlZmVyZW5jZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlpyLnNldChuLCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHVwZGF0ZUxpbWJvRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5aci5zZXQodCwgZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBLcihlKSB7XG4gICAgICAgIGxldCB0ID0gZS5rZXkudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgICAgIHJldHVybiBlLmlzRm91bmREb2N1bWVudCgpICYmICh0ICs9IF9fUFJJVkFURV9lc3RpbWF0ZUJ5dGVTaXplKGUuZGF0YS52YWx1ZSkpLCB0O1xuICAgIH1cbiAgICBlcihlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uub3IoWyAoKSA9PiB0aGlzLnBlcnNpc3RlbmNlLkdyKGUsIHQpLCAoKSA9PiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkuY29udGFpbnNLZXkoZSwgdCksICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLlpyLmdldCh0KTtcbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh2b2lkIDAgIT09IGUgJiYgZSA+IG4pO1xuICAgICAgICB9IF0pO1xuICAgIH1cbiAgICBnZXRDYWNoZVNpemUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkuZ2V0U2l6ZShlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogUGVyZm9ybXMgZGF0YWJhc2UgY3JlYXRpb24gYW5kIHNjaGVtYSB1cGdyYWRlcy4gKi8gY2xhc3MgX19QUklWQVRFX1NjaGVtYUNvbnZlcnRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBkYXRhYmFzZSBjcmVhdGlvbiBhbmQgc2NoZW1hIHVwZ3JhZGVzLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGluIHByb2R1Y3Rpb24sIHRoaXMgbWV0aG9kIGlzIG9ubHkgZXZlciB1c2VkIHRvIHVwZ3JhZGUgdGhlIHNjaGVtYVxuICAgICAqIHRvIFNDSEVNQV9WRVJTSU9OLiBEaWZmZXJlbnQgdmFsdWVzIG9mIHRvVmVyc2lvbiBhcmUgb25seSB1c2VkIGZvciB0ZXN0aW5nXG4gICAgICogYW5kIGxvY2FsIGZlYXR1cmUgZGV2ZWxvcG1lbnQuXG4gICAgICovICAgIE8oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9TaW1wbGVEYlRyYW5zYWN0aW9uKFwiY3JlYXRlT3JVcGdyYWRlXCIsIHQpO1xuICAgICAgICBuIDwgMSAmJiByID49IDEgJiYgKCFmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlUHJpbWFyeUNsaWVudFN0b3JlKGUpIHtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJvd25lclwiKTtcbiAgICAgICAgfShlKSwgZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZU11dGF0aW9uUXVldWUoZSkge1xuICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcIm11dGF0aW9uUXVldWVzXCIsIHtcbiAgICAgICAgICAgICAgICBrZXlQYXRoOiBcInVzZXJJZFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJtdXRhdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IFwiYmF0Y2hJZFwiLFxuICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6ICEwXG4gICAgICAgICAgICB9KS5jcmVhdGVJbmRleChcInVzZXJNdXRhdGlvbnNJbmRleFwiLCB4LCB7XG4gICAgICAgICAgICAgICAgdW5pcXVlOiAhMFxuICAgICAgICAgICAgfSksIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJkb2N1bWVudE11dGF0aW9uc1wiKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIFVwZ3JhZGUgZnVuY3Rpb24gdG8gbWlncmF0ZSB0aGUgJ211dGF0aW9ucycgc3RvcmUgZnJvbSBWMSB0byBWMy4gTG9hZHNcbiAqIGFuZCByZXdyaXRlcyBhbGwgZGF0YS5cbiAqLyAoZSksIF9fUFJJVkFURV9jcmVhdGVRdWVyeUNhY2hlKGUpLCBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlTGVnYWN5UmVtb3RlRG9jdW1lbnRDYWNoZShlKSB7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpO1xuICAgICAgICB9KGUpKTtcbiAgICAgICAgLy8gTWlncmF0aW9uIDIgdG8gcG9wdWxhdGUgdGhlIHRhcmdldEdsb2JhbCBvYmplY3Qgbm8gbG9uZ2VyIG5lZWRlZCBzaW5jZVxuICAgICAgICAvLyBtaWdyYXRpb24gMyB1bmNvbmRpdGlvbmFsbHkgY2xlYXJzIGl0LlxuICAgICAgICAgICAgICAgIGxldCBzID0gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgcmV0dXJuIG4gPCAzICYmIHIgPj0gMyAmJiAoXG4gICAgICAgIC8vIEJyYW5kIG5ldyBjbGllbnRzIGRvbid0IG5lZWQgdG8gZHJvcCBhbmQgcmVjcmVhdGUtLW9ubHkgY2xpZW50cyB0aGF0XG4gICAgICAgIC8vIHBvdGVudGlhbGx5IGhhdmUgY29ycnVwdCBkYXRhLlxuICAgICAgICAwICE9PSBuICYmICghZnVuY3Rpb24gX19QUklWQVRFX2Ryb3BRdWVyeUNhY2hlKGUpIHtcbiAgICAgICAgICAgIGUuZGVsZXRlT2JqZWN0U3RvcmUoXCJ0YXJnZXREb2N1bWVudHNcIiksIGUuZGVsZXRlT2JqZWN0U3RvcmUoXCJ0YXJnZXRzXCIpLCBlLmRlbGV0ZU9iamVjdFN0b3JlKFwidGFyZ2V0R2xvYmFsXCIpO1xuICAgICAgICB9KGUpLCBfX1BSSVZBVEVfY3JlYXRlUXVlcnlDYWNoZShlKSksIHMgPSBzLm5leHQoKCgpID0+IFxuICAgICAgICAvKipcbiAqIENyZWF0ZXMgdGhlIHRhcmdldCBnbG9iYWwgc2luZ2xldG9uIHJvdy5cbiAqXG4gKiBAcGFyYW0gdHhuIC0gVGhlIHZlcnNpb24gdXBncmFkZSB0cmFuc2FjdGlvbiBmb3IgaW5kZXhlZGRiXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3dyaXRlRW1wdHlUYXJnZXRHbG9iYWxFbnRyeShlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS5zdG9yZShcInRhcmdldEdsb2JhbFwiKSwgbiA9IHtcbiAgICAgICAgICAgICAgICBoaWdoZXN0VGFyZ2V0SWQ6IDAsXG4gICAgICAgICAgICAgICAgaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyOiAwLFxuICAgICAgICAgICAgICAgIGxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb246IFNuYXBzaG90VmVyc2lvbi5taW4oKS50b1RpbWVzdGFtcCgpLFxuICAgICAgICAgICAgICAgIHRhcmdldENvdW50OiAwXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIHQucHV0KFwidGFyZ2V0R2xvYmFsS2V5XCIsIG4pO1xuICAgICAgICB9KGkpKSkpLCBuIDwgNCAmJiByID49IDQgJiYgKDAgIT09IG4gJiYgKFxuICAgICAgICAvLyBTY2hlbWEgdmVyc2lvbiAzIHVzZXMgYXV0by1nZW5lcmF0ZWQga2V5cyB0byBnZW5lcmF0ZSBnbG9iYWxseSB1bmlxdWVcbiAgICAgICAgLy8gbXV0YXRpb24gYmF0Y2ggSURzICh0aGlzIHdhcyBwcmV2aW91c2x5IGVuc3VyZWQgaW50ZXJuYWxseSBieSB0aGVcbiAgICAgICAgLy8gY2xpZW50KS4gVG8gbWlncmF0ZSB0byB0aGUgbmV3IHNjaGVtYSwgd2UgaGF2ZSB0byByZWFkIGFsbCBtdXRhdGlvbnNcbiAgICAgICAgLy8gYW5kIHdyaXRlIHRoZW0gYmFjayBvdXQuIFdlIHByZXNlcnZlIHRoZSBleGlzdGluZyBiYXRjaCBJRHMgdG8gZ3VhcmFudGVlXG4gICAgICAgIC8vIGNvbnNpc3RlbmN5IHdpdGggb3RoZXIgb2JqZWN0IHN0b3Jlcy4gQW55IGZ1cnRoZXIgbXV0YXRpb24gYmF0Y2ggSURzIHdpbGxcbiAgICAgICAgLy8gYmUgYXV0by1nZW5lcmF0ZWQuXG4gICAgICAgIHMgPSBzLm5leHQoKCgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV91cGdyYWRlTXV0YXRpb25CYXRjaFNjaGVtYUFuZE1pZ3JhdGVEYXRhKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiB0LnN0b3JlKFwibXV0YXRpb25zXCIpLlUoKS5uZXh0KChuID0+IHtcbiAgICAgICAgICAgICAgICBlLmRlbGV0ZU9iamVjdFN0b3JlKFwibXV0YXRpb25zXCIpO1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJtdXRhdGlvbnNcIiwge1xuICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiBcImJhdGNoSWRcIixcbiAgICAgICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogITBcbiAgICAgICAgICAgICAgICB9KS5jcmVhdGVJbmRleChcInVzZXJNdXRhdGlvbnNJbmRleFwiLCB4LCB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogITBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdC5zdG9yZShcIm11dGF0aW9uc1wiKSwgaSA9IG4ubWFwKChlID0+IHIucHV0KGUpKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKGkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KGUsIGkpKSkpLCBzID0gcy5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAhZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZUNsaWVudE1ldGFkYXRhU3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJjbGllbnRNZXRhZGF0YVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IFwiY2xpZW50SWRcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfShlKTtcbiAgICAgICAgfSkpKSwgbiA8IDUgJiYgciA+PSA1ICYmIChzID0gcy5uZXh0KCgoKSA9PiB0aGlzLlhyKGkpKSkpLCBuIDwgNiAmJiByID49IDYgJiYgKHMgPSBzLm5leHQoKCgpID0+IChmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlRG9jdW1lbnRHbG9iYWxTdG9yZShlKSB7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRHbG9iYWxcIik7XG4gICAgICAgIH0oZSksIHRoaXMuZWkoaSkpKSkpLCBuIDwgNyAmJiByID49IDcgJiYgKHMgPSBzLm5leHQoKCgpID0+IHRoaXMudGkoaSkpKSksIG4gPCA4ICYmIHIgPj0gOCAmJiAocyA9IHMubmV4dCgoKCkgPT4gdGhpcy5uaShlLCBpKSkpKSwgXG4gICAgICAgIG4gPCA5ICYmIHIgPj0gOSAmJiAocyA9IHMubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgLy8gTXVsdGktVGFiIHVzZWQgdG8gbWFuYWdlIGl0cyBvd24gY2hhbmdlbG9nLCBidXQgdGhpcyBoYXMgYmVlbiBtb3ZlZFxuICAgICAgICAgICAgLy8gdG8gdGhlIERiUmVtb3RlRG9jdW1lbnQgb2JqZWN0IHN0b3JlIGl0c2VsZi4gU2luY2UgdGhlIHByZXZpb3VzIGNoYW5nZVxuICAgICAgICAgICAgLy8gbG9nIG9ubHkgY29udGFpbmVkIHRyYW5zaWVudCBkYXRhLCB3ZSBjYW4gZHJvcCBpdHMgb2JqZWN0IHN0b3JlLlxuICAgICAgICAgICAgIWZ1bmN0aW9uIF9fUFJJVkFURV9kcm9wUmVtb3RlRG9jdW1lbnRDaGFuZ2VzU3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGUub2JqZWN0U3RvcmVOYW1lcy5jb250YWlucyhcInJlbW90ZURvY3VtZW50Q2hhbmdlc1wiKSAmJiBlLmRlbGV0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRDaGFuZ2VzXCIpO1xuICAgICAgICAgICAgfShlKTtcbiAgICAgICAgICAgIC8vIE5vdGU6IFNjaGVtYSB2ZXJzaW9uIDkgdXNlZCB0byBjcmVhdGUgYSByZWFkIHRpbWUgaW5kZXggZm9yIHRoZVxuICAgICAgICAgICAgLy8gUmVtb3RlRG9jdW1lbnRDYWNoZS4gVGhpcyBpcyBub3cgZG9uZSB3aXRoIHNjaGVtYSB2ZXJzaW9uIDEzLlxuICAgICAgICAgICAgICAgIH0pKSksIG4gPCAxMCAmJiByID49IDEwICYmIChzID0gcy5uZXh0KCgoKSA9PiB0aGlzLnJpKGkpKSkpLCBuIDwgMTEgJiYgciA+PSAxMSAmJiAocyA9IHMubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgIWZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVCdW5kbGVzU3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJidW5kbGVzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aDogXCJidW5kbGVJZFwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KGUpLCBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlTmFtZWRRdWVyaWVzU3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJuYW1lZFF1ZXJpZXNcIiwge1xuICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiBcIm5hbWVcIlxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfShlKTtcbiAgICAgICAgfSkpKSwgbiA8IDEyICYmIHIgPj0gMTIgJiYgKHMgPSBzLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgICFmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlRG9jdW1lbnRPdmVybGF5U3RvcmUoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLmNyZWF0ZU9iamVjdFN0b3JlKFwiZG9jdW1lbnRPdmVybGF5c1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IHpcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0LmNyZWF0ZUluZGV4KFwiY29sbGVjdGlvblBhdGhPdmVybGF5SW5kZXhcIiwgaiwge1xuICAgICAgICAgICAgICAgICAgICB1bmlxdWU6ICExXG4gICAgICAgICAgICAgICAgfSksIHQuY3JlYXRlSW5kZXgoXCJjb2xsZWN0aW9uR3JvdXBPdmVybGF5SW5kZXhcIiwgSCwge1xuICAgICAgICAgICAgICAgICAgICB1bmlxdWU6ICExXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KGUpO1xuICAgICAgICB9KSkpLCBuIDwgMTMgJiYgciA+PSAxMyAmJiAocyA9IHMubmV4dCgoKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZVJlbW90ZURvY3VtZW50Q2FjaGUoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJyZW1vdGVEb2N1bWVudHNWMTRcIiwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IE5cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdC5jcmVhdGVJbmRleChcImRvY3VtZW50S2V5SW5kZXhcIiwgTCksIHQuY3JlYXRlSW5kZXgoXCJjb2xsZWN0aW9uR3JvdXBJbmRleFwiLCBCKTtcbiAgICAgICAgfShlKSkpLm5leHQoKCgpID0+IHRoaXMuaWkoZSwgaSkpKS5uZXh0KCgoKSA9PiBlLmRlbGV0ZU9iamVjdFN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpKSkpLCBcbiAgICAgICAgbiA8IDE0ICYmIHIgPj0gMTQgJiYgKHMgPSBzLm5leHQoKCgpID0+IHRoaXMuc2koZSwgaSkpKSksIG4gPCAxNSAmJiByID49IDE1ICYmIChzID0gcy5uZXh0KCgoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlRmllbGRJbmRleChlKSB7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwiaW5kZXhDb25maWd1cmF0aW9uXCIsIHtcbiAgICAgICAgICAgICAgICBrZXlQYXRoOiBcImluZGV4SWRcIixcbiAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50OiAhMFxuICAgICAgICAgICAgfSkuY3JlYXRlSW5kZXgoXCJjb2xsZWN0aW9uR3JvdXBJbmRleFwiLCBcImNvbGxlY3Rpb25Hcm91cFwiLCB7XG4gICAgICAgICAgICAgICAgdW5pcXVlOiAhMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwiaW5kZXhTdGF0ZVwiLCB7XG4gICAgICAgICAgICAgICAga2V5UGF0aDogJFxuICAgICAgICAgICAgfSkuY3JlYXRlSW5kZXgoXCJzZXF1ZW5jZU51bWJlckluZGV4XCIsIFUsIHtcbiAgICAgICAgICAgICAgICB1bmlxdWU6ICExXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJpbmRleEVudHJpZXNcIiwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IFdcbiAgICAgICAgICAgIH0pLmNyZWF0ZUluZGV4KFwiZG9jdW1lbnRLZXlJbmRleFwiLCBHLCB7XG4gICAgICAgICAgICAgICAgdW5pcXVlOiAhMVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0oZSkpKSksIG4gPCAxNiAmJiByID49IDE2ICYmIChcbiAgICAgICAgLy8gQ2xlYXIgdGhlIG9iamVjdCBzdG9yZXMgdG8gcmVtb3ZlIHBvc3NpYmx5IGNvcnJ1cHRlZCBpbmRleCBlbnRyaWVzXG4gICAgICAgIHMgPSBzLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIHQub2JqZWN0U3RvcmUoXCJpbmRleFN0YXRlXCIpLmNsZWFyKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICB0Lm9iamVjdFN0b3JlKFwiaW5kZXhFbnRyaWVzXCIpLmNsZWFyKCk7XG4gICAgICAgIH0pKSksIHM7XG4gICAgfVxuICAgIGVpKGUpIHtcbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICByZXR1cm4gZS5zdG9yZShcInJlbW90ZURvY3VtZW50c1wiKS5KKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgdCArPSBfX1BSSVZBVEVfZGJEb2N1bWVudFNpemUobik7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0ge1xuICAgICAgICAgICAgICAgIGJ5dGVTaXplOiB0XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIGUuc3RvcmUoXCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiKS5wdXQoXCJyZW1vdGVEb2N1bWVudEdsb2JhbEtleVwiLCBuKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBYcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLnN0b3JlKFwibXV0YXRpb25RdWV1ZXNcIiksIG4gPSBlLnN0b3JlKFwibXV0YXRpb25zXCIpO1xuICAgICAgICByZXR1cm4gdC5VKCkubmV4dCgodCA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAodCA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0LnVzZXJJZCwgLTEgXSwgWyB0LnVzZXJJZCwgdC5sYXN0QWNrbm93bGVkZ2VkQmF0Y2hJZCBdKTtcbiAgICAgICAgICAgIHJldHVybiBuLlUoXCJ1c2VyTXV0YXRpb25zSW5kZXhcIiwgcikubmV4dCgobiA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChuLCAobiA9PiB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQobi51c2VySWQgPT09IHQudXNlcklkKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2Zyb21EYk11dGF0aW9uQmF0Y2godGhpcy5zZXJpYWxpemVyLCBuKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3ZlTXV0YXRpb25CYXRjaChlLCB0LnVzZXJJZCwgcikubmV4dCgoKCkgPT4ge30pKTtcbiAgICAgICAgICAgIH0pKSkpO1xuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5zdXJlcyB0aGF0IGV2ZXJ5IGRvY3VtZW50IGluIHRoZSByZW1vdGUgZG9jdW1lbnQgY2FjaGUgaGFzIGEgY29ycmVzcG9uZGluZyBzZW50aW5lbCByb3dcbiAgICAgKiB3aXRoIGEgc2VxdWVuY2UgbnVtYmVyLiBNaXNzaW5nIHJvd3MgYXJlIGdpdmVuIHRoZSBtb3N0IHJlY2VudGx5IHVzZWQgc2VxdWVuY2UgbnVtYmVyLlxuICAgICAqLyAgICB0aShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLnN0b3JlKFwidGFyZ2V0RG9jdW1lbnRzXCIpLCBuID0gZS5zdG9yZShcInJlbW90ZURvY3VtZW50c1wiKTtcbiAgICAgICAgcmV0dXJuIGUuc3RvcmUoXCJ0YXJnZXRHbG9iYWxcIikuZ2V0KFwidGFyZ2V0R2xvYmFsS2V5XCIpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIG4uSigoKG4sIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gbmV3IFJlc291cmNlUGF0aChuKSwgbyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9zZW50aW5lbEtleShlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbIDAsIF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgoZSkgXTtcbiAgICAgICAgICAgICAgICB9KHMpO1xuICAgICAgICAgICAgICAgIHIucHVzaCh0LmdldChvKS5uZXh0KChuID0+IG4gPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpIDogKG4gPT4gdC5wdXQoe1xuICAgICAgICAgICAgICAgICAgICB0YXJnZXRJZDogMCxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChuKSxcbiAgICAgICAgICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXI6IGUuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyXG4gICAgICAgICAgICAgICAgfSkpKHMpKSkpO1xuICAgICAgICAgICAgfSkpLm5leHQoKCgpID0+IFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHIpKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgbmkoZSwgdCkge1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGluZGV4LlxuICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwiY29sbGVjdGlvblBhcmVudHNcIiwge1xuICAgICAgICAgICAga2V5UGF0aDogS1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgbiA9IHQuc3RvcmUoXCJjb2xsZWN0aW9uUGFyZW50c1wiKSwgciA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5Q29sbGVjdGlvblBhcmVudEluZGV4LCBhZGRFbnRyeSA9IGUgPT4ge1xuICAgICAgICAgICAgaWYgKHIuYWRkKGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUubGFzdFNlZ21lbnQoKSwgciA9IGUucG9wTGFzdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuLnB1dCh7XG4gICAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25JZDogdCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBfX1BSSVZBVEVfZW5jb2RlUmVzb3VyY2VQYXRoKHIpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIEhlbHBlciB0byBhZGQgYW4gaW5kZXggZW50cnkgaWZmIHdlIGhhdmVuJ3QgYWxyZWFkeSB3cml0dGVuIGl0LlxuICAgICAgICAgICAgICAgIC8vIEluZGV4IGV4aXN0aW5nIHJlbW90ZSBkb2N1bWVudHMuXG4gICAgICAgIHJldHVybiB0LnN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpLkooe1xuICAgICAgICAgICAgSDogITBcbiAgICAgICAgfSwgKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IFJlc291cmNlUGF0aChlKTtcbiAgICAgICAgICAgIHJldHVybiBhZGRFbnRyeShuLnBvcExhc3QoKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0LnN0b3JlKFwiZG9jdW1lbnRNdXRhdGlvbnNcIikuSih7XG4gICAgICAgICAgICBIOiAhMFxuICAgICAgICB9LCAoKFtlLCB0LCBuXSwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgodCk7XG4gICAgICAgICAgICByZXR1cm4gYWRkRW50cnkoaS5wb3BMYXN0KCkpO1xuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgcmkoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5zdG9yZShcInRhcmdldHNcIik7XG4gICAgICAgIHJldHVybiB0LkooKChlLCBuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2Zyb21EYlRhcmdldChuKSwgaSA9IF9fUFJJVkFURV90b0RiVGFyZ2V0KHRoaXMuc2VyaWFsaXplciwgcik7XG4gICAgICAgICAgICByZXR1cm4gdC5wdXQoaSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgaWkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5zdG9yZShcInJlbW90ZURvY3VtZW50c1wiKSwgciA9IFtdO1xuICAgICAgICByZXR1cm4gbi5KKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IHQuc3RvcmUoXCJyZW1vdGVEb2N1bWVudHNWMTRcIiksIHMgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZXh0cmFjdEtleShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuZG9jdW1lbnQgPyBuZXcgRG9jdW1lbnRLZXkoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcoZS5kb2N1bWVudC5uYW1lKS5wb3BGaXJzdCg1KSkgOiBlLm5vRG9jdW1lbnQgPyBEb2N1bWVudEtleS5mcm9tU2VnbWVudHMoZS5ub0RvY3VtZW50LnBhdGgpIDogZS51bmtub3duRG9jdW1lbnQgPyBEb2N1bWVudEtleS5mcm9tU2VnbWVudHMoZS51bmtub3duRG9jdW1lbnQucGF0aCkgOiBmYWlsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAobikucGF0aC50b0FycmF5KCksIG8gPSB7XG4gICAgICAgICAgICAgICAgcHJlZml4UGF0aDogcy5zbGljZSgwLCBzLmxlbmd0aCAtIDIpLFxuICAgICAgICAgICAgICAgIGNvbGxlY3Rpb25Hcm91cDogc1tzLmxlbmd0aCAtIDJdLFxuICAgICAgICAgICAgICAgIGRvY3VtZW50SWQ6IHNbcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICByZWFkVGltZTogbi5yZWFkVGltZSB8fCBbIDAsIDAgXSxcbiAgICAgICAgICAgICAgICB1bmtub3duRG9jdW1lbnQ6IG4udW5rbm93bkRvY3VtZW50LFxuICAgICAgICAgICAgICAgIG5vRG9jdW1lbnQ6IG4ubm9Eb2N1bWVudCxcbiAgICAgICAgICAgICAgICBkb2N1bWVudDogbi5kb2N1bWVudCxcbiAgICAgICAgICAgICAgICBoYXNDb21taXR0ZWRNdXRhdGlvbnM6ICEhbi5oYXNDb21taXR0ZWRNdXRhdGlvbnNcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByLnB1c2goaS5wdXQobykpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IocikpKTtcbiAgICB9XG4gICAgc2koZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5zdG9yZShcIm11dGF0aW9uc1wiKSwgciA9IF9fUFJJVkFURV9uZXdJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlKHRoaXMuc2VyaWFsaXplciksIGkgPSBuZXcgX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlKF9fUFJJVkFURV9NZW1vcnlFYWdlckRlbGVnYXRlLkhyLCB0aGlzLnNlcmlhbGl6ZXIuY3QpO1xuICAgICAgICByZXR1cm4gbi5VKCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IE1hcDtcbiAgICAgICAgICAgIHJldHVybiBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIHZhciB0O1xuICAgICAgICAgICAgICAgIGxldCByID0gbnVsbCAhPT0gKHQgPSBuLmdldChlLnVzZXJJZCkpICYmIHZvaWQgMCAhPT0gdCA/IHQgOiBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpLmtleXMoKS5mb3JFYWNoKChlID0+IHIgPSByLmFkZChlKSkpLCBcbiAgICAgICAgICAgICAgICBuLnNldChlLnVzZXJJZCwgcik7XG4gICAgICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKG4sICgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuZXcgVXNlcihuKSwgbyA9IF9fUFJJVkFURV9JbmRleGVkRGJEb2N1bWVudE92ZXJsYXlDYWNoZS5sdCh0aGlzLnNlcmlhbGl6ZXIsIHMpLCBfID0gaS5nZXRJbmRleE1hbmFnZXIocyksIGEgPSBfX1BSSVZBVEVfSW5kZXhlZERiTXV0YXRpb25RdWV1ZS5sdChzLCB0aGlzLnNlcmlhbGl6ZXIsIF8sIGkucmVmZXJlbmNlRGVsZWdhdGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgTG9jYWxEb2N1bWVudHNWaWV3KHIsIGEsIG8sIF8pLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb24odCwgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKSwgZSkubmV4dCgpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlUXVlcnlDYWNoZShlKSB7XG4gICAgZS5jcmVhdGVPYmplY3RTdG9yZShcInRhcmdldERvY3VtZW50c1wiLCB7XG4gICAgICAgIGtleVBhdGg6IHFcbiAgICB9KS5jcmVhdGVJbmRleChcImRvY3VtZW50VGFyZ2V0c0luZGV4XCIsIFEsIHtcbiAgICAgICAgdW5pcXVlOiAhMFxuICAgIH0pO1xuICAgIC8vIE5PVEU6IFRoaXMgaXMgdW5pcXVlIG9ubHkgYmVjYXVzZSB0aGUgVGFyZ2V0SWQgaXMgdGhlIHN1ZmZpeC5cbiAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwidGFyZ2V0c1wiLCB7XG4gICAgICAgIGtleVBhdGg6IFwidGFyZ2V0SWRcIlxuICAgIH0pLmNyZWF0ZUluZGV4KFwicXVlcnlUYXJnZXRzSW5kZXhcIiwgaywge1xuICAgICAgICB1bmlxdWU6ICEwXG4gICAgfSksIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJ0YXJnZXRHbG9iYWxcIik7XG59XG5cbmNvbnN0IFJlID0gXCJGYWlsZWQgdG8gb2J0YWluIGV4Y2x1c2l2ZSBhY2Nlc3MgdG8gdGhlIHBlcnNpc3RlbmNlIGxheWVyLiBUbyBhbGxvdyBzaGFyZWQgYWNjZXNzLCBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uIGhhcyB0byBiZSBlbmFibGVkIGluIGFsbCB0YWJzLiBJZiB5b3UgYXJlIHVzaW5nIGBleHBlcmltZW50YWxGb3JjZU93bmluZ1RhYjp0cnVlYCwgbWFrZSBzdXJlIHRoYXQgb25seSBvbmUgdGFiIGhhcyBwZXJzaXN0ZW5jZSBlbmFibGVkIGF0IGFueSBnaXZlbiB0aW1lLlwiO1xuXG4vKipcbiAqIE9sZGVzdCBhY2NlcHRhYmxlIGFnZSBpbiBtaWxsaXNlY29uZHMgZm9yIGNsaWVudCBtZXRhZGF0YSBiZWZvcmUgdGhlIGNsaWVudFxuICogaXMgY29uc2lkZXJlZCBpbmFjdGl2ZSBhbmQgaXRzIGFzc29jaWF0ZWQgZGF0YSBpcyBnYXJiYWdlIGNvbGxlY3RlZC5cbiAqL1xuLyoqXG4gKiBBbiBJbmRleGVkREItYmFja2VkIGluc3RhbmNlIG9mIFBlcnNpc3RlbmNlLiBEYXRhIGlzIHN0b3JlZCBwZXJzaXN0ZW50bHlcbiAqIGFjcm9zcyBzZXNzaW9ucy5cbiAqXG4gKiBPbiBXZWIgb25seSwgdGhlIEZpcmVzdG9yZSBTREtzIHN1cHBvcnQgc2hhcmVkIGFjY2VzcyB0byBpdHMgcGVyc2lzdGVuY2VcbiAqIGxheWVyLiBUaGlzIGFsbG93cyBtdWx0aXBsZSBicm93c2VyIHRhYnMgdG8gcmVhZCBhbmQgd3JpdGUgdG8gSW5kZXhlZERiIGFuZFxuICogdG8gc3luY2hyb25pemUgc3RhdGUgZXZlbiB3aXRob3V0IG5ldHdvcmsgY29ubmVjdGl2aXR5LiBTaGFyZWQgYWNjZXNzIGlzXG4gKiBjdXJyZW50bHkgb3B0aW9uYWwgYW5kIG5vdCBlbmFibGVkIHVubGVzcyBhbGwgY2xpZW50cyBpbnZva2VcbiAqIGBlbmFibGVQZXJzaXN0ZW5jZSgpYCB3aXRoIGB7c3luY2hyb25pemVUYWJzOnRydWV9YC5cbiAqXG4gKiBJbiBtdWx0aS10YWIgbW9kZSwgaWYgbXVsdGlwbGUgY2xpZW50cyBhcmUgYWN0aXZlIGF0IHRoZSBzYW1lIHRpbWUsIHRoZSBTREtcbiAqIHdpbGwgZGVzaWduYXRlIG9uZSBjbGllbnQgYXMgdGhlIOKAnHByaW1hcnkgY2xpZW504oCdLiBBbiBlZmZvcnQgaXMgbWFkZSB0byBwaWNrXG4gKiBhIHZpc2libGUsIG5ldHdvcmstY29ubmVjdGVkIGFuZCBhY3RpdmUgY2xpZW50LCBhbmQgdGhpcyBjbGllbnQgaXNcbiAqIHJlc3BvbnNpYmxlIGZvciBsZXR0aW5nIG90aGVyIGNsaWVudHMga25vdyBhYm91dCBpdHMgcHJlc2VuY2UuIFRoZSBwcmltYXJ5XG4gKiBjbGllbnQgd3JpdGVzIGEgdW5pcXVlIGNsaWVudC1nZW5lcmF0ZWQgaWRlbnRpZmllciAodGhlIGNsaWVudCBJRCkgdG9cbiAqIEluZGV4ZWREYuKAmXMg4oCcb3duZXLigJ0gc3RvcmUgZXZlcnkgNCBzZWNvbmRzLiBJZiB0aGUgcHJpbWFyeSBjbGllbnQgZmFpbHMgdG9cbiAqIHVwZGF0ZSB0aGlzIGVudHJ5LCBhbm90aGVyIGNsaWVudCBjYW4gYWNxdWlyZSB0aGUgbGVhc2UgYW5kIHRha2Ugb3ZlciBhc1xuICogcHJpbWFyeS5cbiAqXG4gKiBTb21lIHBlcnNpc3RlbmNlIG9wZXJhdGlvbnMgaW4gdGhlIFNESyBhcmUgZGVzaWduYXRlZCBhcyBwcmltYXJ5LWNsaWVudCBvbmx5XG4gKiBvcGVyYXRpb25zLiBUaGlzIGluY2x1ZGVzIHRoZSBhY2tub3dsZWRnbWVudCBvZiBtdXRhdGlvbnMgYW5kIGFsbCB1cGRhdGVzIG9mXG4gKiByZW1vdGUgZG9jdW1lbnRzLiBUaGUgZWZmZWN0cyBvZiB0aGVzZSBvcGVyYXRpb25zIGFyZSB3cml0dGVuIHRvIHBlcnNpc3RlbmNlXG4gKiBhbmQgdGhlbiBicm9hZGNhc3QgdG8gb3RoZXIgdGFicyB2aWEgTG9jYWxTdG9yYWdlIChzZWVcbiAqIGBXZWJTdG9yYWdlU2hhcmVkQ2xpZW50U3RhdGVgKSwgd2hpY2ggdGhlbiByZWZyZXNoIHRoZWlyIHN0YXRlIGZyb21cbiAqIHBlcnNpc3RlbmNlLlxuICpcbiAqIFNpbWlsYXJseSwgdGhlIHByaW1hcnkgY2xpZW50IGxpc3RlbnMgdG8gbm90aWZpY2F0aW9ucyBzZW50IGJ5IHNlY29uZGFyeVxuICogY2xpZW50cyB0byBkaXNjb3ZlciBwZXJzaXN0ZW5jZSBjaGFuZ2VzIHdyaXR0ZW4gYnkgc2Vjb25kYXJ5IGNsaWVudHMsIHN1Y2ggYXNcbiAqIHRoZSBhZGRpdGlvbiBvZiBuZXcgbXV0YXRpb25zIGFuZCBxdWVyeSB0YXJnZXRzLlxuICpcbiAqIElmIG11bHRpLXRhYiBpcyBub3QgZW5hYmxlZCBhbmQgYW5vdGhlciB0YWIgYWxyZWFkeSBvYnRhaW5lZCB0aGUgcHJpbWFyeVxuICogbGVhc2UsIEluZGV4ZWREYlBlcnNpc3RlbmNlIGVudGVycyBhIGZhaWxlZCBzdGF0ZSBhbmQgYWxsIHN1YnNlcXVlbnRcbiAqIG9wZXJhdGlvbnMgd2lsbCBhdXRvbWF0aWNhbGx5IGZhaWwuXG4gKlxuICogQWRkaXRpb25hbGx5LCB0aGVyZSBpcyBhbiBvcHRpbWl6YXRpb24gc28gdGhhdCB3aGVuIGEgdGFiIGlzIGNsb3NlZCwgdGhlXG4gKiBwcmltYXJ5IGxlYXNlIGlzIHJlbGVhc2VkIGltbWVkaWF0ZWx5ICh0aGlzIGlzIGVzcGVjaWFsbHkgaW1wb3J0YW50IHRvIG1ha2VcbiAqIHN1cmUgdGhhdCBhIHJlZnJlc2hlZCB0YWIgaXMgYWJsZSB0byBpbW1lZGlhdGVseSByZS1hY3F1aXJlIHRoZSBwcmltYXJ5XG4gKiBsZWFzZSkuIFVuZm9ydHVuYXRlbHksIEluZGV4ZWREQiBjYW5ub3QgYmUgcmVsaWFibHkgdXNlZCBpbiB3aW5kb3cudW5sb2FkXG4gKiBzaW5jZSBpdCBpcyBhbiBhc3luY2hyb25vdXMgQVBJLiBTbyBpbiBhZGRpdGlvbiB0byBhdHRlbXB0aW5nIHRvIGdpdmUgdXAgdGhlXG4gKiBsZWFzZSwgdGhlIGxlYXNlaG9sZGVyIHdyaXRlcyBpdHMgY2xpZW50IElEIHRvIGEgXCJ6b21iaWVkQ2xpZW50XCIgZW50cnkgaW5cbiAqIExvY2FsU3RvcmFnZSB3aGljaCBhY3RzIGFzIGFuIGluZGljYXRvciB0aGF0IGFub3RoZXIgdGFiIHNob3VsZCBnbyBhaGVhZCBhbmRcbiAqIHRha2UgdGhlIHByaW1hcnkgbGVhc2UgaW1tZWRpYXRlbHkgcmVnYXJkbGVzcyBvZiB0aGUgY3VycmVudCBsZWFzZSB0aW1lc3RhbXAuXG4gKlxuICogVE9ETyhiLzExNDIyNjIzNCk6IFJlbW92ZSBgc3luY2hyb25pemVUYWJzYCBzZWN0aW9uIHdoZW4gbXVsdGktdGFiIGlzIG5vXG4gKiBsb25nZXIgb3B0aW9uYWwuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJQZXJzaXN0ZW5jZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0byBzeW5jaHJvbml6ZSB0aGUgaW4tbWVtb3J5IHN0YXRlIG9mIG11bHRpcGxlIHRhYnMgYW5kIHNoYXJlXG4gICAgICogYWNjZXNzIHRvIGxvY2FsIHBlcnNpc3RlbmNlLlxuICAgICAqL1xuICAgIGUsIHQsIG4sIHIsIGksIHMsIG8sIF8sIGEsIFxuICAgIC8qKlxuICAgICAqIElmIHNldCB0byB0cnVlLCBmb3JjZWZ1bGx5IG9idGFpbnMgZGF0YWJhc2UgYWNjZXNzLiBFeGlzdGluZyB0YWJzIHdpbGxcbiAgICAgKiBubyBsb25nZXIgYmUgYWJsZSB0byBhY2Nlc3MgSW5kZXhlZERCLlxuICAgICAqL1xuICAgIHUsIGMgPSAxNikge1xuICAgICAgICBpZiAodGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbiA9IGUsIHRoaXMucGVyc2lzdGVuY2VLZXkgPSB0LCB0aGlzLmNsaWVudElkID0gbiwgXG4gICAgICAgIHRoaXMub2kgPSBpLCB0aGlzLndpbmRvdyA9IHMsIHRoaXMuZG9jdW1lbnQgPSBvLCB0aGlzLl9pID0gYSwgdGhpcy5haSA9IHUsIHRoaXMudWkgPSBjLCBcbiAgICAgICAgdGhpcy5rciA9IG51bGwsIHRoaXMucXIgPSAhMSwgdGhpcy5pc1ByaW1hcnkgPSAhMSwgdGhpcy5uZXR3b3JrRW5hYmxlZCA9ICEwLCBcbiAgICAgICAgLyoqIE91ciB3aW5kb3cudW5sb2FkIGhhbmRsZXIsIGlmIHJlZ2lzdGVyZWQuICovXG4gICAgICAgIHRoaXMuY2kgPSBudWxsLCB0aGlzLmluRm9yZWdyb3VuZCA9ICExLCBcbiAgICAgICAgLyoqIE91ciAndmlzaWJpbGl0eWNoYW5nZScgbGlzdGVuZXIgaWYgcmVnaXN0ZXJlZC4gKi9cbiAgICAgICAgdGhpcy5saSA9IG51bGwsIFxuICAgICAgICAvKiogVGhlIGNsaWVudCBtZXRhZGF0YSByZWZyZXNoIHRhc2suICovXG4gICAgICAgIHRoaXMuaGkgPSBudWxsLCBcbiAgICAgICAgLyoqIFRoZSBsYXN0IHRpbWUgd2UgZ2FyYmFnZSBjb2xsZWN0ZWQgdGhlIGNsaWVudCBtZXRhZGF0YSBvYmplY3Qgc3RvcmUuICovXG4gICAgICAgIHRoaXMuUGkgPSBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksIFxuICAgICAgICAvKiogQSBsaXN0ZW5lciB0byBub3RpZnkgb24gcHJpbWFyeSBzdGF0ZSBjaGFuZ2VzLiAqL1xuICAgICAgICB0aGlzLklpID0gZSA9PiBQcm9taXNlLnJlc29sdmUoKSwgIV9fUFJJVkFURV9JbmRleGVkRGJQZXJzaXN0ZW5jZS5EKCkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOSU1QTEVNRU5URUQsIFwiVGhpcyBwbGF0Zm9ybSBpcyBlaXRoZXIgbWlzc2luZyBJbmRleGVkREIgb3IgaXMga25vd24gdG8gaGF2ZSBhbiBpbmNvbXBsZXRlIGltcGxlbWVudGF0aW9uLiBPZmZsaW5lIHBlcnNpc3RlbmNlIGhhcyBiZWVuIGRpc2FibGVkLlwiKTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiTHJ1RGVsZWdhdGVJbXBsKHRoaXMsIHIpLCB0aGlzLlRpID0gdCArIFwibWFpblwiLCBcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gbmV3IF9fUFJJVkFURV9Mb2NhbFNlcmlhbGl6ZXIoXyksIHRoaXMuRWkgPSBuZXcgX19QUklWQVRFX1NpbXBsZURiKHRoaXMuVGksIHRoaXMudWksIG5ldyBfX1BSSVZBVEVfU2NoZW1hQ29udmVydGVyKHRoaXMuc2VyaWFsaXplcikpLCBcbiAgICAgICAgdGhpcy5RciA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVGFyZ2V0Q2FjaGUodGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSwgdGhpcy5zZXJpYWxpemVyKSwgXG4gICAgICAgIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZSA9IF9fUFJJVkFURV9uZXdJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlKHRoaXMuc2VyaWFsaXplciksIFxuICAgICAgICB0aGlzLiRyID0gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJCdW5kbGVDYWNoZSwgdGhpcy53aW5kb3cgJiYgdGhpcy53aW5kb3cubG9jYWxTdG9yYWdlID8gdGhpcy5kaSA9IHRoaXMud2luZG93LmxvY2FsU3RvcmFnZSA6ICh0aGlzLmRpID0gbnVsbCwgXG4gICAgICAgICExID09PSB1ICYmIF9fUFJJVkFURV9sb2dFcnJvcihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiTG9jYWxTdG9yYWdlIGlzIHVuYXZhaWxhYmxlLiBBcyBhIHJlc3VsdCwgcGVyc2lzdGVuY2UgbWF5IG5vdCB3b3JrIHJlbGlhYmx5LiBJbiBwYXJ0aWN1bGFyIGVuYWJsZVBlcnNpc3RlbmNlKCkgY291bGQgZmFpbCBpbW1lZGlhdGVseSBhZnRlciByZWZyZXNoaW5nIHRoZSBwYWdlLlwiKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGVtcHQgdG8gc3RhcnQgSW5kZXhlZERiIHBlcnNpc3RlbmNlLlxuICAgICAqXG4gICAgICogQHJldHVybnMgV2hldGhlciBwZXJzaXN0ZW5jZSB3YXMgZW5hYmxlZC5cbiAgICAgKi8gICAgc3RhcnQoKSB7XG4gICAgICAgIC8vIE5PVEU6IFRoaXMgaXMgZXhwZWN0ZWQgdG8gZmFpbCBzb21ldGltZXMgKGluIHRoZSBjYXNlIG9mIGFub3RoZXIgdGFiXG4gICAgICAgIC8vIGFscmVhZHkgaGF2aW5nIHRoZSBwZXJzaXN0ZW5jZSBsb2NrKSwgc28gaXQncyB0aGUgZmlyc3QgdGhpbmcgd2Ugc2hvdWxkXG4gICAgICAgIC8vIGRvLlxuICAgICAgICByZXR1cm4gdGhpcy5BaSgpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1ByaW1hcnkgJiYgIXRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pIFxuICAgICAgICAgICAgLy8gRmFpbCBgc3RhcnQoKWAgaWYgYHN5bmNocm9uaXplVGFic2AgaXMgZGlzYWJsZWQgYW5kIHdlIGNhbm5vdFxuICAgICAgICAgICAgLy8gb2J0YWluIHRoZSBwcmltYXJ5IGxlYXNlLlxuICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgUmUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuUmkoKSwgdGhpcy5WaSgpLCB0aGlzLm1pKCksIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJnZXRIaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXJcIiwgXCJyZWFkb25seVwiLCAoZSA9PiB0aGlzLlFyLmdldEhpZ2hlc3RTZXF1ZW5jZU51bWJlcihlKSkpO1xuICAgICAgICB9KSkudGhlbigoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmtyID0gbmV3IF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZShlLCB0aGlzLl9pKTtcbiAgICAgICAgfSkpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucXIgPSAhMDtcbiAgICAgICAgfSkpLmNhdGNoKChlID0+ICh0aGlzLkVpICYmIHRoaXMuRWkuY2xvc2UoKSwgUHJvbWlzZS5yZWplY3QoZSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGxpc3RlbmVyIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgcHJpbWFyeSBzdGF0ZSBvZiB0aGVcbiAgICAgKiBpbnN0YW5jZSBjaGFuZ2VzLiBVcG9uIHJlZ2lzdGVyaW5nLCB0aGlzIGxpc3RlbmVyIGlzIGludm9rZWQgaW1tZWRpYXRlbHlcbiAgICAgKiB3aXRoIHRoZSBjdXJyZW50IHByaW1hcnkgc3RhdGUuXG4gICAgICpcbiAgICAgKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBXZWIgbXVsdGktdGFiLlxuICAgICAqLyAgICBmaShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLklpID0gYXN5bmMgdCA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdGFydGVkKSByZXR1cm4gZSh0KTtcbiAgICAgICAgfSwgZSh0aGlzLmlzUHJpbWFyeSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGxpc3RlbmVyIHRoYXQgZ2V0cyBjYWxsZWQgd2hlbiB0aGUgZGF0YWJhc2UgcmVjZWl2ZXMgYVxuICAgICAqIHZlcnNpb24gY2hhbmdlIGV2ZW50IGluZGljYXRpbmcgdGhhdCBpdCBoYXMgZGVsZXRlZC5cbiAgICAgKlxuICAgICAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgZm9yIFdlYiBtdWx0aS10YWIuXG4gICAgICovICAgIHNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKGUpIHtcbiAgICAgICAgdGhpcy5FaS5MKChhc3luYyB0ID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGFuIGF0dGVtcHQgaXMgbWFkZSB0byBkZWxldGUgSW5kZXhlZERCLlxuICAgICAgICAgICAgbnVsbCA9PT0gdC5uZXdWZXJzaW9uICYmIGF3YWl0IGUoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGp1c3RzIHRoZSBjdXJyZW50IG5ldHdvcmsgc3RhdGUgaW4gdGhlIGNsaWVudCdzIG1ldGFkYXRhLCBwb3RlbnRpYWxseVxuICAgICAqIGFmZmVjdGluZyB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICAgKlxuICAgICAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgZm9yIFdlYiBtdWx0aS10YWIuXG4gICAgICovICAgIHNldE5ldHdvcmtFbmFibGVkKGUpIHtcbiAgICAgICAgdGhpcy5uZXR3b3JrRW5hYmxlZCAhPT0gZSAmJiAodGhpcy5uZXR3b3JrRW5hYmxlZCA9IGUsIFxuICAgICAgICAvLyBTY2hlZHVsZSBhIHByaW1hcnkgbGVhc2UgcmVmcmVzaCBmb3IgaW1tZWRpYXRlIGV4ZWN1dGlvbi4gVGhlIGV2ZW50dWFsXG4gICAgICAgIC8vIGxlYXNlIHVwZGF0ZSB3aWxsIGJlIHByb3BhZ2F0ZWQgdmlhIGBwcmltYXJ5U3RhdGVMaXN0ZW5lcmAuXG4gICAgICAgIHRoaXMub2kuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGFydGVkICYmIGF3YWl0IHRoaXMuQWkoKTtcbiAgICAgICAgfSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY2xpZW50IG1ldGFkYXRhIGluIEluZGV4ZWREYiBhbmQgYXR0ZW1wdHMgdG8gZWl0aGVyIG9idGFpbiBvclxuICAgICAqIGV4dGVuZCB0aGUgcHJpbWFyeSBsZWFzZSBmb3IgdGhlIGxvY2FsIGNsaWVudC4gQXN5bmNocm9ub3VzbHkgbm90aWZpZXMgdGhlXG4gICAgICogcHJpbWFyeSBzdGF0ZSBsaXN0ZW5lciBpZiB0aGUgY2xpZW50IGVpdGhlciBuZXdseSBvYnRhaW5lZCBvciByZWxlYXNlZCBpdHNcbiAgICAgKiBwcmltYXJ5IGxlYXNlLlxuICAgICAqLyAgICBBaSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJ1cGRhdGVDbGllbnRNZXRhZGF0YUFuZFRyeUJlY29tZVByaW1hcnlcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gX19QUklWQVRFX2NsaWVudE1ldGFkYXRhU3RvcmUoZSkucHV0KHtcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpLFxuICAgICAgICAgICAgbmV0d29ya0VuYWJsZWQ6IHRoaXMubmV0d29ya0VuYWJsZWQsXG4gICAgICAgICAgICBpbkZvcmVncm91bmQ6IHRoaXMuaW5Gb3JlZ3JvdW5kXG4gICAgICAgIH0pLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzUHJpbWFyeSkgcmV0dXJuIHRoaXMuZ2koZSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgZSB8fCAodGhpcy5pc1ByaW1hcnkgPSAhMSwgdGhpcy5vaS5lbnF1ZXVlUmV0cnlhYmxlKCgoKSA9PiB0aGlzLklpKCExKSkpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHRoaXMucGkoZSkpKS5uZXh0KCh0ID0+IHRoaXMuaXNQcmltYXJ5ICYmICF0ID8gdGhpcy55aShlKS5uZXh0KCgoKSA9PiAhMSkpIDogISF0ICYmIHRoaXMud2koZSkubmV4dCgoKCkgPT4gITApKSkpKSkuY2F0Y2goKGUgPT4ge1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSkpIFxuICAgICAgICAgICAgLy8gUHJvY2VlZCB3aXRoIHRoZSBleGlzdGluZyBzdGF0ZS4gQW55IHN1YnNlcXVlbnQgYWNjZXNzIHRvXG4gICAgICAgICAgICAvLyBJbmRleGVkREIgd2lsbCB2ZXJpZnkgdGhlIGxlYXNlLlxuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiRmFpbGVkIHRvIGV4dGVuZCBvd25lciBsZWFzZTogXCIsIGUpLCBcbiAgICAgICAgICAgIHRoaXMuaXNQcmltYXJ5O1xuICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uKSB0aHJvdyBlO1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiUmVsZWFzaW5nIG93bmVyIGxlYXNlIGFmdGVyIGVycm9yIGR1cmluZyBsZWFzZSByZWZyZXNoXCIsIGUpLCBcbiAgICAgICAgICAgIC8qIGlzUHJpbWFyeT0gKi8gITE7XG4gICAgICAgIH0pKS50aGVuKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNQcmltYXJ5ICE9PSBlICYmIHRoaXMub2kuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gdGhpcy5JaShlKSkpLCB0aGlzLmlzUHJpbWFyeSA9IGU7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2koZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKS5nZXQoXCJvd25lclwiKS5uZXh0KChlID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuU2koZSkpKSk7XG4gICAgfVxuICAgIGJpKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9jbGllbnRNZXRhZGF0YVN0b3JlKGUpLmRlbGV0ZSh0aGlzLmNsaWVudElkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSWYgdGhlIGdhcmJhZ2UgY29sbGVjdGlvbiB0aHJlc2hvbGQgaGFzIHBhc3NlZCwgcHJ1bmVzIHRoZVxuICAgICAqIFJlbW90ZURvY3VtZW50Q2hhbmdlcyBhbmQgdGhlIENsaWVudE1ldGFkYXRhIHN0b3JlIGJhc2VkIG9uIHRoZSBsYXN0IHVwZGF0ZVxuICAgICAqIHRpbWUgb2YgYWxsIGNsaWVudHMuXG4gICAgICovICAgIGFzeW5jIERpKCkge1xuICAgICAgICBpZiAodGhpcy5pc1ByaW1hcnkgJiYgIXRoaXMuQ2kodGhpcy5QaSwgMThlNSkpIHtcbiAgICAgICAgICAgIHRoaXMuUGkgPSBEYXRlLm5vdygpO1xuICAgICAgICAgICAgY29uc3QgZSA9IGF3YWl0IHRoaXMucnVuVHJhbnNhY3Rpb24oXCJtYXliZUdhcmJhZ2VDb2xsZWN0TXVsdGlDbGllbnRTdGF0ZVwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsIChlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiY2xpZW50TWV0YWRhdGFcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQuVSgpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gdGhpcy52aShlLCAxOGU1KSwgciA9IGUuZmlsdGVyKChlID0+IC0xID09PSBuLmluZGV4T2YoZSkpKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGVsZXRlIG1ldGFkYXRhIGZvciBjbGllbnRzIHRoYXQgYXJlIG5vIGxvbmdlciBjb25zaWRlcmVkIGFjdGl2ZS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHIsIChlID0+IHQuZGVsZXRlKGUuY2xpZW50SWQpKSkubmV4dCgoKCkgPT4gcikpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKS5jYXRjaCgoKCkgPT4gW10pKTtcbiAgICAgICAgICAgIC8vIERlbGV0ZSBwb3RlbnRpYWwgbGVmdG92ZXIgZW50cmllcyB0aGF0IG1heSBjb250aW51ZSB0byBtYXJrIHRoZVxuICAgICAgICAgICAgLy8gaW5hY3RpdmUgY2xpZW50cyBhcyB6b21iaWVkIGluIExvY2FsU3RvcmFnZS5cbiAgICAgICAgICAgIC8vIElkZWFsbHkgd2UnZCBkZWxldGUgdGhlIEluZGV4ZWREYiBhbmQgTG9jYWxTdG9yYWdlIHpvbWJpZSBlbnRyaWVzIGZvclxuICAgICAgICAgICAgLy8gdGhlIGNsaWVudCBhdG9taWNhbGx5LCBidXQgd2UgY2FuJ3QuIFNvIHdlIG9wdCB0byBkZWxldGUgdGhlIEluZGV4ZWREYlxuICAgICAgICAgICAgLy8gZW50cmllcyBmaXJzdCB0byBhdm9pZCBwb3RlbnRpYWxseSByZXZpdmluZyBhIHpvbWJpZWQgY2xpZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZGkpIGZvciAoY29uc3QgdCBvZiBlKSB0aGlzLmRpLnJlbW92ZUl0ZW0odGhpcy5GaSh0LmNsaWVudElkKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogU2NoZWR1bGVzIGEgcmVjdXJyaW5nIHRpbWVyIHRvIHVwZGF0ZSB0aGUgY2xpZW50IG1ldGFkYXRhIGFuZCB0byBlaXRoZXJcbiAgICAgKiBleHRlbmQgb3IgYWNxdWlyZSB0aGUgcHJpbWFyeSBsZWFzZSBpZiB0aGUgY2xpZW50IGlzIGVsaWdpYmxlLlxuICAgICAqLyAgICBtaSgpIHtcbiAgICAgICAgdGhpcy5oaSA9IHRoaXMub2kuZW5xdWV1ZUFmdGVyRGVsYXkoXCJjbGllbnRfbWV0YWRhdGFfcmVmcmVzaFwiIC8qIFRpbWVySWQuQ2xpZW50TWV0YWRhdGFSZWZyZXNoICovICwgNGUzLCAoKCkgPT4gdGhpcy5BaSgpLnRoZW4oKCgpID0+IHRoaXMuRGkoKSkpLnRoZW4oKCgpID0+IHRoaXMubWkoKSkpKSk7XG4gICAgfVxuICAgIC8qKiBDaGVja3Mgd2hldGhlciBgY2xpZW50YCBpcyB0aGUgbG9jYWwgY2xpZW50LiAqLyAgICBTaShlKSB7XG4gICAgICAgIHJldHVybiAhIWUgJiYgZS5vd25lcklkID09PSB0aGlzLmNsaWVudElkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFdmFsdWF0ZSB0aGUgc3RhdGUgb2YgYWxsIGFjdGl2ZSBjbGllbnRzIGFuZCBkZXRlcm1pbmUgd2hldGhlciB0aGUgbG9jYWxcbiAgICAgKiBjbGllbnQgaXMgb3IgY2FuIGFjdCBhcyB0aGUgaG9sZGVyIG9mIHRoZSBwcmltYXJ5IGxlYXNlLiBSZXR1cm5zIHdoZXRoZXJcbiAgICAgKiB0aGUgY2xpZW50IGlzIGVsaWdpYmxlIGZvciB0aGUgbGVhc2UsIGJ1dCBkb2VzIG5vdCBhY3R1YWxseSBhY3F1aXJlIGl0LlxuICAgICAqIE1heSByZXR1cm4gJ2ZhbHNlJyBldmVuIGlmIHRoZXJlIGlzIG5vIGFjdGl2ZSBsZWFzZWhvbGRlciBhbmQgYW5vdGhlclxuICAgICAqIChmb3JlZ3JvdW5kKSBjbGllbnQgc2hvdWxkIGJlY29tZSBsZWFzZWhvbGRlciBpbnN0ZWFkLlxuICAgICAqLyAgICBwaShlKSB7XG4gICAgICAgIGlmICh0aGlzLmFpKSByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoITApO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKS5nZXQoXCJvd25lclwiKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIC8vIEEgY2xpZW50IGlzIGVsaWdpYmxlIGZvciB0aGUgcHJpbWFyeSBsZWFzZSBpZjpcbiAgICAgICAgICAgIC8vIC0gaXRzIG5ldHdvcmsgaXMgZW5hYmxlZCBhbmQgdGhlIGNsaWVudCdzIHRhYiBpcyBpbiB0aGUgZm9yZWdyb3VuZC5cbiAgICAgICAgICAgIC8vIC0gaXRzIG5ldHdvcmsgaXMgZW5hYmxlZCBhbmQgbm8gb3RoZXIgY2xpZW50J3MgdGFiIGlzIGluIHRoZVxuICAgICAgICAgICAgLy8gICBmb3JlZ3JvdW5kLlxuICAgICAgICAgICAgLy8gLSBldmVyeSBjbGllbnRzIG5ldHdvcmsgaXMgZGlzYWJsZWQgYW5kIHRoZSBjbGllbnQncyB0YWIgaXMgaW4gdGhlXG4gICAgICAgICAgICAvLyAgIGZvcmVncm91bmQuXG4gICAgICAgICAgICAvLyAtIGV2ZXJ5IGNsaWVudHMgbmV0d29yayBpcyBkaXNhYmxlZCBhbmQgbm8gb3RoZXIgY2xpZW50J3MgdGFiIGlzIGluXG4gICAgICAgICAgICAvLyAgIHRoZSBmb3JlZ3JvdW5kLlxuICAgICAgICAgICAgLy8gLSB0aGUgYGZvcmNlT3duaW5nVGFiYCBzZXR0aW5nIHdhcyBwYXNzZWQgaW4uXG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdCAmJiB0aGlzLkNpKHQubGVhc2VUaW1lc3RhbXBNcywgNWUzKSAmJiAhdGhpcy5NaSh0Lm93bmVySWQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuU2kodCkgJiYgdGhpcy5uZXR3b3JrRW5hYmxlZCkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5TaSh0KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXQuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pIFxuICAgICAgICAgICAgICAgICAgICAvLyBGYWlsIHRoZSBgY2FuQWN0QXNQcmltYXJ5YCBjaGVjayBpZiB0aGUgY3VycmVudCBsZWFzZWhvbGRlciBoYXNcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90IG9wdGVkIGludG8gbXVsdGktdGFiIHN5bmNocm9uaXphdGlvbi4gSWYgdGhpcyBoYXBwZW5zIGF0XG4gICAgICAgICAgICAgICAgICAgIC8vIGNsaWVudCBzdGFydHVwLCB3ZSByZWplY3QgdGhlIFByb21pc2UgcmV0dXJuZWQgYnlcbiAgICAgICAgICAgICAgICAgICAgLy8gYGVuYWJsZVBlcnNpc3RlbmNlKClgIGFuZCB0aGUgdXNlciBjYW4gY29udGludWUgdG8gdXNlIEZpcmVzdG9yZVxuICAgICAgICAgICAgICAgICAgICAvLyB3aXRoIGluLW1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBmYWlscyBkdXJpbmcgYSBsZWFzZSByZWZyZXNoLCB3ZSB3aWxsIGluc3RlYWQgYmxvY2sgdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIEFzeW5jUXVldWUgZnJvbSBleGVjdXRpbmcgZnVydGhlciBvcGVyYXRpb25zLiBOb3RlIHRoYXQgdGhpcyBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBhY2NlcHRhYmxlIHNpbmNlIG1peGluZyAmIG1hdGNoaW5nIGRpZmZlcmVudCBgc3luY2hyb25pemVUYWJzYFxuICAgICAgICAgICAgICAgICAgICAvLyBzZXR0aW5ncyBpcyBub3Qgc3VwcG9ydGVkLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKGIvMTE0MjI2MjM0KTogUmVtb3ZlIHRoaXMgY2hlY2sgd2hlbiBgc3luY2hyb25pemVUYWJzYCBjYW5cbiAgICAgICAgICAgICAgICAgICAgLy8gbm8gbG9uZ2VyIGJlIHR1cm5lZCBvZmYuXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFJlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAhKCF0aGlzLm5ldHdvcmtFbmFibGVkIHx8ICF0aGlzLmluRm9yZWdyb3VuZCkgfHwgX19QUklWQVRFX2NsaWVudE1ldGFkYXRhU3RvcmUoZSkuVSgpLm5leHQoKGUgPT4gdm9pZCAwID09PSB0aGlzLnZpKGUsIDVlMykuZmluZCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY2xpZW50SWQgIT09IGUuY2xpZW50SWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9ICF0aGlzLm5ldHdvcmtFbmFibGVkICYmIGUubmV0d29ya0VuYWJsZWQsIG4gPSAhdGhpcy5pbkZvcmVncm91bmQgJiYgZS5pbkZvcmVncm91bmQsIHIgPSB0aGlzLm5ldHdvcmtFbmFibGVkID09PSBlLm5ldHdvcmtFbmFibGVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodCB8fCBuICYmIHIpIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICExO1xuICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgIH0pKS5uZXh0KChlID0+ICh0aGlzLmlzUHJpbWFyeSAhPT0gZSAmJiBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBgQ2xpZW50ICR7ZSA/IFwiaXNcIiA6IFwiaXMgbm90XCJ9IGVsaWdpYmxlIGZvciBhIHByaW1hcnkgbGVhc2UuYCksIFxuICAgICAgICBlKSkpO1xuICAgIH1cbiAgICBhc3luYyBzaHV0ZG93bigpIHtcbiAgICAgICAgLy8gVGhlIHNodXRkb3duKCkgb3BlcmF0aW9ucyBhcmUgaWRlbXBvdGVudCBhbmQgY2FuIGJlIGNhbGxlZCBldmVuIHdoZW5cbiAgICAgICAgLy8gc3RhcnQoKSBhYm9ydGVkIChlLmcuIGJlY2F1c2UgaXQgY291bGRuJ3QgYWNxdWlyZSB0aGUgcGVyc2lzdGVuY2UgbGVhc2UpLlxuICAgICAgICB0aGlzLnFyID0gITEsIHRoaXMueGkoKSwgdGhpcy5oaSAmJiAodGhpcy5oaS5jYW5jZWwoKSwgdGhpcy5oaSA9IG51bGwpLCB0aGlzLk9pKCksIFxuICAgICAgICB0aGlzLk5pKCksIFxuICAgICAgICAvLyBVc2UgYFNpbXBsZURiLnJ1blRyYW5zYWN0aW9uYCBkaXJlY3RseSB0byBhdm9pZCBmYWlsaW5nIGlmIGFub3RoZXIgdGFiXG4gICAgICAgIC8vIGhhcyBvYnRhaW5lZCB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICAgICAgYXdhaXQgdGhpcy5FaS5ydW5UcmFuc2FjdGlvbihcInNodXRkb3duXCIsIFwicmVhZHdyaXRlXCIsIFsgXCJvd25lclwiLCBcImNsaWVudE1ldGFkYXRhXCIgXSwgKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb24oZSwgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnlpKHQpLm5leHQoKCgpID0+IHRoaXMuYmkodCkpKTtcbiAgICAgICAgfSkpLCB0aGlzLkVpLmNsb3NlKCksIFxuICAgICAgICAvLyBSZW1vdmUgdGhlIGVudHJ5IG1hcmtpbmcgdGhlIGNsaWVudCBhcyB6b21iaWVkIGZyb20gTG9jYWxTdG9yYWdlIHNpbmNlXG4gICAgICAgIC8vIHdlIHN1Y2Nlc3NmdWxseSBkZWxldGVkIGl0cyBtZXRhZGF0YSBmcm9tIEluZGV4ZWREYi5cbiAgICAgICAgdGhpcy5MaSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGNsaWVudHMgdGhhdCBhcmUgbm90IHpvbWJpZWQgYW5kIGhhdmUgYW4gdXBkYXRlVGltZSB3aXRoaW4gdGhlXG4gICAgICogcHJvdmlkZWQgdGhyZXNob2xkLlxuICAgICAqLyAgICB2aShlLCB0KSB7XG4gICAgICAgIHJldHVybiBlLmZpbHRlcigoZSA9PiB0aGlzLkNpKGUudXBkYXRlVGltZU1zLCB0KSAmJiAhdGhpcy5NaShlLmNsaWVudElkKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBJRHMgb2YgdGhlIGNsaWVudHMgdGhhdCBhcmUgY3VycmVudGx5IGFjdGl2ZS4gSWYgbXVsdGktdGFiXG4gICAgICogaXMgbm90IHN1cHBvcnRlZCwgcmV0dXJucyBhbiBhcnJheSB0aGF0IG9ubHkgY29udGFpbnMgdGhlIGxvY2FsIGNsaWVudCdzXG4gICAgICogSUQuXG4gICAgICpcbiAgICAgKiBQT1JUSU5HIE5PVEU6IFRoaXMgaXMgb25seSB1c2VkIGZvciBXZWIgbXVsdGktdGFiLlxuICAgICAqLyAgICBCaSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucnVuVHJhbnNhY3Rpb24oXCJnZXRBY3RpdmVDbGllbnRzXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gX19QUklWQVRFX2NsaWVudE1ldGFkYXRhU3RvcmUoZSkuVSgpLm5leHQoKGUgPT4gdGhpcy52aShlLCAxOGU1KS5tYXAoKGUgPT4gZS5jbGllbnRJZCkpKSkpKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnFyO1xuICAgIH1cbiAgICBnZXRNdXRhdGlvblF1ZXVlKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9JbmRleGVkRGJNdXRhdGlvblF1ZXVlLmx0KGUsIHRoaXMuc2VyaWFsaXplciwgdCwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSk7XG4gICAgfVxuICAgIGdldFRhcmdldENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5RcjtcbiAgICB9XG4gICAgZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZTtcbiAgICB9XG4gICAgZ2V0SW5kZXhNYW5hZ2VyKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiSW5kZXhNYW5hZ2VyKGUsIHRoaXMuc2VyaWFsaXplci5jdC5kYXRhYmFzZUlkKTtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRPdmVybGF5Q2FjaGUoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX0luZGV4ZWREYkRvY3VtZW50T3ZlcmxheUNhY2hlLmx0KHRoaXMuc2VyaWFsaXplciwgZSk7XG4gICAgfVxuICAgIGdldEJ1bmRsZUNhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcjtcbiAgICB9XG4gICAgcnVuVHJhbnNhY3Rpb24oZSwgdCwgbikge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBcIlN0YXJ0aW5nIHRyYW5zYWN0aW9uOlwiLCBlKTtcbiAgICAgICAgY29uc3QgciA9IFwicmVhZG9ubHlcIiA9PT0gdCA/IFwicmVhZG9ubHlcIiA6IFwicmVhZHdyaXRlXCIsIGkgPSBcbiAgICAgICAgLyoqIFJldHVybnMgdGhlIG9iamVjdCBzdG9yZXMgZm9yIHRoZSBwcm92aWRlZCBzY2hlbWEuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRPYmplY3RTdG9yZXMoZSkge1xuICAgICAgICAgICAgcmV0dXJuIDE2ID09PSBlID8gdGUgOiAxNSA9PT0gZSA/IGVlIDogMTQgPT09IGUgPyBYIDogMTMgPT09IGUgPyBaIDogMTIgPT09IGUgPyBZIDogMTEgPT09IGUgPyBKIDogdm9pZCBmYWlsKCk7XG4gICAgICAgIH0odGhpcy51aSk7XG4gICAgICAgIGxldCBzO1xuICAgICAgICAvLyBEbyBhbGwgdHJhbnNhY3Rpb25zIGFzIHJlYWR3cml0ZSBhZ2FpbnN0IGFsbCBvYmplY3Qgc3RvcmVzLCBzaW5jZSB3ZVxuICAgICAgICAvLyBhcmUgdGhlIG9ubHkgcmVhZGVyL3dyaXRlci5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5FaS5ydW5UcmFuc2FjdGlvbihlLCByLCBpLCAociA9PiAocyA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiVHJhbnNhY3Rpb24ociwgdGhpcy5rciA/IHRoaXMua3IubmV4dCgpIDogX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKSwgXG4gICAgICAgIFwicmVhZHdyaXRlLXByaW1hcnlcIiA9PT0gdCA/IHRoaXMuZ2kocykubmV4dCgoZSA9PiAhIWUgfHwgdGhpcy5waShzKSkpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgaWYgKCF0KSB0aHJvdyBfX1BSSVZBVEVfbG9nRXJyb3IoYEZhaWxlZCB0byBvYnRhaW4gcHJpbWFyeSBsZWFzZSBmb3IgYWN0aW9uICcke2V9Jy5gKSwgXG4gICAgICAgICAgICB0aGlzLmlzUHJpbWFyeSA9ICExLCB0aGlzLm9pLmVucXVldWVSZXRyeWFibGUoKCgpID0+IHRoaXMuSWkoITEpKSksIG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIEYpO1xuICAgICAgICAgICAgcmV0dXJuIG4ocyk7XG4gICAgICAgIH0pKS5uZXh0KChlID0+IHRoaXMud2kocykubmV4dCgoKCkgPT4gZSkpKSkgOiB0aGlzLmtpKHMpLm5leHQoKCgpID0+IG4ocykpKSkpKS50aGVuKChlID0+IChzLnJhaXNlT25Db21taXR0ZWRFdmVudCgpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmVyaWZpZXMgdGhhdCB0aGUgY3VycmVudCB0YWIgaXMgdGhlIHByaW1hcnkgbGVhc2Vob2xkZXIgb3IgYWx0ZXJuYXRpdmVseVxuICAgICAqIHRoYXQgdGhlIGxlYXNlaG9sZGVyIGhhcyBvcHRlZCBpbnRvIG11bHRpLXRhYiBzeW5jaHJvbml6YXRpb24uXG4gICAgICovXG4gICAgLy8gVE9ETyhiLzExNDIyNjIzNCk6IFJlbW92ZSB0aGlzIGNoZWNrIHdoZW4gYHN5bmNocm9uaXplVGFic2AgY2FuIG5vIGxvbmdlclxuICAgIC8vIGJlIHR1cm5lZCBvZmYuXG4gICAga2koZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKS5nZXQoXCJvd25lclwiKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBlICYmIHRoaXMuQ2koZS5sZWFzZVRpbWVzdGFtcE1zLCA1ZTMpICYmICF0aGlzLk1pKGUub3duZXJJZCkgJiYgIXRoaXMuU2koZSkgJiYgISh0aGlzLmFpIHx8IHRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24gJiYgZS5hbGxvd1RhYlN5bmNocm9uaXphdGlvbikpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFJlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPYnRhaW5zIG9yIGV4dGVuZHMgdGhlIG5ldyBwcmltYXJ5IGxlYXNlIGZvciB0aGUgbG9jYWwgY2xpZW50LiBUaGlzXG4gICAgICogbWV0aG9kIGRvZXMgbm90IHZlcmlmeSB0aGF0IHRoZSBjbGllbnQgaXMgZWxpZ2libGUgZm9yIHRoaXMgbGVhc2UuXG4gICAgICovICAgIHdpKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIG93bmVySWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICBhbGxvd1RhYlN5bmNocm9uaXphdGlvbjogdGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbixcbiAgICAgICAgICAgIGxlYXNlVGltZXN0YW1wTXM6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltYXJ5Q2xpZW50U3RvcmUoZSkucHV0KFwib3duZXJcIiwgdCk7XG4gICAgfVxuICAgIHN0YXRpYyBEKCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX1NpbXBsZURiLkQoKTtcbiAgICB9XG4gICAgLyoqIENoZWNrcyB0aGUgcHJpbWFyeSBsZWFzZSBhbmQgcmVtb3ZlcyBpdCBpZiB3ZSBhcmUgdGhlIGN1cnJlbnQgcHJpbWFyeS4gKi8gICAgeWkoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIHQuZ2V0KFwib3duZXJcIikubmV4dCgoZSA9PiB0aGlzLlNpKGUpID8gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiUmVsZWFzaW5nIHByaW1hcnkgbGVhc2UuXCIpLCBcbiAgICAgICAgdC5kZWxldGUoXCJvd25lclwiKSkgOiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpKSk7XG4gICAgfVxuICAgIC8qKiBWZXJpZmllcyB0aGF0IGB1cGRhdGVUaW1lTXNgIGlzIHdpdGhpbiBgbWF4QWdlTXNgLiAqLyAgICBDaShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gIShlIDwgbiAtIHQpICYmICghKGUgPiBuKSB8fCAoX19QUklWQVRFX2xvZ0Vycm9yKGBEZXRlY3RlZCBhbiB1cGRhdGUgdGltZSB0aGF0IGlzIGluIHRoZSBmdXR1cmU6ICR7ZX0gPiAke259YCksIFxuICAgICAgICAhMSkpO1xuICAgIH1cbiAgICBSaSgpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy5kb2N1bWVudCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHRoaXMuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lciAmJiAodGhpcy5saSA9ICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMub2kuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gKHRoaXMuaW5Gb3JlZ3JvdW5kID0gXCJ2aXNpYmxlXCIgPT09IHRoaXMuZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlLCBcbiAgICAgICAgICAgIHRoaXMuQWkoKSkpKTtcbiAgICAgICAgfSwgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLmxpKSwgdGhpcy5pbkZvcmVncm91bmQgPSBcInZpc2libGVcIiA9PT0gdGhpcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUpO1xuICAgIH1cbiAgICBPaSgpIHtcbiAgICAgICAgdGhpcy5saSAmJiAodGhpcy5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLmxpKSwgdGhpcy5saSA9IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyBhIHdpbmRvdy51bmxvYWQgaGFuZGxlciB0aGF0IHdpbGwgc3luY2hyb25vdXNseSB3cml0ZSBvdXJcbiAgICAgKiBjbGllbnRJZCB0byBhIFwiem9tYmllIGNsaWVudCBpZFwiIGxvY2F0aW9uIGluIExvY2FsU3RvcmFnZS4gVGhpcyBjYW4gYmUgdXNlZFxuICAgICAqIGJ5IHRhYnMgdHJ5aW5nIHRvIGFjcXVpcmUgdGhlIHByaW1hcnkgbGVhc2UgdG8gZGV0ZXJtaW5lIHRoYXQgdGhlIGxlYXNlXG4gICAgICogaXMgbm8gbG9uZ2VyIHZhbGlkIGV2ZW4gaWYgdGhlIHRpbWVzdGFtcCBpcyByZWNlbnQuIFRoaXMgaXMgcGFydGljdWxhcmx5XG4gICAgICogaW1wb3J0YW50IGZvciB0aGUgcmVmcmVzaCBjYXNlIChzbyB0aGUgdGFiIGNvcnJlY3RseSByZS1hY3F1aXJlcyB0aGVcbiAgICAgKiBwcmltYXJ5IGxlYXNlKS4gTG9jYWxTdG9yYWdlIGlzIHVzZWQgZm9yIHRoaXMgcmF0aGVyIHRoYW4gSW5kZXhlZERiIGJlY2F1c2VcbiAgICAgKiBpdCBpcyBhIHN5bmNocm9ub3VzIEFQSSBhbmQgc28gY2FuIGJlIHVzZWQgcmVsaWFibHkgZnJvbSAgYW4gdW5sb2FkXG4gICAgICogaGFuZGxlci5cbiAgICAgKi8gICAgVmkoKSB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIChudWxsID09PSAoZSA9IHRoaXMud2luZG93KSB8fCB2b2lkIDAgPT09IGUgPyB2b2lkIDAgOiBlLmFkZEV2ZW50TGlzdGVuZXIpICYmICh0aGlzLmNpID0gKCkgPT4ge1xuICAgICAgICAgICAgLy8gTm90ZTogSW4gdGhlb3J5LCB0aGlzIHNob3VsZCBiZSBzY2hlZHVsZWQgb24gdGhlIEFzeW5jUXVldWUgc2luY2UgaXRcbiAgICAgICAgICAgIC8vIGFjY2Vzc2VzIGludGVybmFsIHN0YXRlLiBXZSBleGVjdXRlIHRoaXMgY29kZSBkaXJlY3RseSBkdXJpbmcgc2h1dGRvd25cbiAgICAgICAgICAgIC8vIHRvIG1ha2Ugc3VyZSBpdCBnZXRzIGEgY2hhbmNlIHRvIHJ1bi5cbiAgICAgICAgICAgIHRoaXMueGkoKTtcbiAgICAgICAgICAgIGNvbnN0IGUgPSAvKD86VmVyc2lvbnxNb2JpbGUpXFwvMVs0NTZdLztcbiAgICAgICAgICAgIHV0aWwuaXNTYWZhcmkoKSAmJiAobmF2aWdhdG9yLmFwcFZlcnNpb24ubWF0Y2goZSkgfHwgbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaChlKSkgJiYgXG4gICAgICAgICAgICAvLyBPbiBTYWZhcmkgMTQsIDE1LCBhbmQgMTYsIHdlIGRvIG5vdCBydW4gYW55IGNsZWFudXAgYWN0aW9ucyBhcyBpdCBtaWdodFxuICAgICAgICAgICAgLy8gdHJpZ2dlciBhIGJ1ZyB0aGF0IHByZXZlbnRzIFNhZmFyaSBmcm9tIHJlLW9wZW5pbmcgSW5kZXhlZERCIGR1cmluZ1xuICAgICAgICAgICAgLy8gdGhlIG5leHQgcGFnZSBsb2FkLlxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0yMjY1NDdcbiAgICAgICAgICAgIHRoaXMub2kuZW50ZXJSZXN0cmljdGVkTW9kZSgvKiBwdXJnZUV4aXN0aW5nVGFza3M9ICovICEwKSwgdGhpcy5vaS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiB0aGlzLnNodXRkb3duKCkpKTtcbiAgICAgICAgfSwgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIHRoaXMuY2kpKTtcbiAgICB9XG4gICAgTmkoKSB7XG4gICAgICAgIHRoaXMuY2kgJiYgKHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCB0aGlzLmNpKSwgdGhpcy5jaSA9IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgYSBjbGllbnQgaXMgXCJ6b21iaWVkXCIgYmFzZWQgb24gaXRzIExvY2FsU3RvcmFnZSBlbnRyeS5cbiAgICAgKiBDbGllbnRzIGJlY29tZSB6b21iaWVkIHdoZW4gdGhlaXIgdGFiIGNsb3NlcyB3aXRob3V0IHJ1bm5pbmcgYWxsIG9mIHRoZVxuICAgICAqIGNsZWFudXAgbG9naWMgaW4gYHNodXRkb3duKClgLlxuICAgICAqLyAgICBNaShlKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgbiA9IG51bGwgIT09IChudWxsID09PSAodCA9IHRoaXMuZGkpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuZ2V0SXRlbSh0aGlzLkZpKGUpKSk7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIiwgYENsaWVudCAnJHtlfScgJHtuID8gXCJpc1wiIDogXCJpcyBub3RcIn0gem9tYmllZCBpbiBMb2NhbFN0b3JhZ2VgKSwgXG4gICAgICAgICAgICBuO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBHcmFjZWZ1bGx5IGhhbmRsZSBpZiBMb2NhbFN0b3JhZ2UgaXNuJ3Qgd29ya2luZy5cbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbG9nRXJyb3IoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBcIkZhaWxlZCB0byBnZXQgem9tYmllZCBjbGllbnQgaWQuXCIsIGUpLCBcbiAgICAgICAgICAgICExO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlY29yZCBjbGllbnQgYXMgem9tYmllZCAoYSBjbGllbnQgdGhhdCBoYWQgaXRzIHRhYiBjbG9zZWQpLiBab21iaWVkXG4gICAgICogY2xpZW50cyBhcmUgaWdub3JlZCBkdXJpbmcgcHJpbWFyeSB0YWIgc2VsZWN0aW9uLlxuICAgICAqLyAgICB4aSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGkpIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmRpLnNldEl0ZW0odGhpcy5GaSh0aGlzLmNsaWVudElkKSwgU3RyaW5nKERhdGUubm93KCkpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gR3JhY2VmdWxseSBoYW5kbGUgaWYgTG9jYWxTdG9yYWdlIGlzbid0IGF2YWlsYWJsZSAvIHdvcmtpbmcuXG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRXJyb3IoXCJGYWlsZWQgdG8gc2V0IHpvbWJpZSBjbGllbnQgaWQuXCIsIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBSZW1vdmVzIHRoZSB6b21iaWVkIGNsaWVudCBlbnRyeSBpZiBpdCBleGlzdHMuICovICAgIExpKCkge1xuICAgICAgICBpZiAodGhpcy5kaSkgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGkucmVtb3ZlSXRlbSh0aGlzLkZpKHRoaXMuY2xpZW50SWQpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gSWdub3JlXG4gICAgICAgIH1cbiAgICB9XG4gICAgRmkoZSkge1xuICAgICAgICByZXR1cm4gYGZpcmVzdG9yZV96b21iaWVfJHt0aGlzLnBlcnNpc3RlbmNlS2V5fV8ke2V9YDtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBwcmltYXJ5IGNsaWVudCBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcIm93bmVyXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgY2xpZW50IG1ldGFkYXRhIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY2xpZW50TWV0YWRhdGFTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcImNsaWVudE1ldGFkYXRhXCIpO1xufVxuXG4vKipcbiAqIEdlbmVyYXRlcyBhIHN0cmluZyB1c2VkIGFzIGEgcHJlZml4IHdoZW4gc3RvcmluZyBkYXRhIGluIEluZGV4ZWREQiBhbmRcbiAqIExvY2FsU3RvcmFnZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhlZERiU3RvcmFnZVByZWZpeChlLCB0KSB7XG4gICAgLy8gVXNlIHR3byBkaWZmZXJlbnQgcHJlZml4IGZvcm1hdHM6XG4gICAgLy8gICAqIGZpcmVzdG9yZSAvIHBlcnNpc3RlbmNlS2V5IC8gcHJvamVjdElEIC4gZGF0YWJhc2VJRCAvIC4uLlxuICAgIC8vICAgKiBmaXJlc3RvcmUgLyBwZXJzaXN0ZW5jZUtleSAvIHByb2plY3RJRCAvIC4uLlxuICAgIC8vIHByb2plY3RJRHMgYXJlIEROUy1jb21wYXRpYmxlIG5hbWVzIGFuZCBjYW5ub3QgY29udGFpbiBkb3RzXG4gICAgLy8gc28gdGhlcmUncyBubyBkYW5nZXIgb2YgY29sbGlzaW9ucy5cbiAgICBsZXQgbiA9IGUucHJvamVjdElkO1xuICAgIHJldHVybiBlLmlzRGVmYXVsdERhdGFiYXNlIHx8IChuICs9IFwiLlwiICsgZS5kYXRhYmFzZSksIFwiZmlyZXN0b3JlL1wiICsgdCArIFwiL1wiICsgbiArIFwiL1wiO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHNldCBvZiBjaGFuZ2VzIHRvIHdoYXQgZG9jdW1lbnRzIGFyZSBjdXJyZW50bHkgaW4gdmlldyBhbmQgb3V0IG9mIHZpZXcgZm9yXG4gKiBhIGdpdmVuIHF1ZXJ5LiBUaGVzZSBjaGFuZ2VzIGFyZSBzZW50IHRvIHRoZSBMb2NhbFN0b3JlIGJ5IHRoZSBWaWV3ICh2aWFcbiAqIHRoZSBTeW5jRW5naW5lKSBhbmQgYXJlIHVzZWQgdG8gcGluIC8gdW5waW4gZG9jdW1lbnRzIGFzIGFwcHJvcHJpYXRlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfTG9jYWxWaWV3Q2hhbmdlcyB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLnRhcmdldElkID0gZSwgdGhpcy5mcm9tQ2FjaGUgPSB0LCB0aGlzLnFpID0gbiwgdGhpcy5RaSA9IHI7XG4gICAgfVxuICAgIHN0YXRpYyBLaShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIHIgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHQuZG9jQ2hhbmdlcykgc3dpdGNoIChlLnR5cGUpIHtcbiAgICAgICAgICBjYXNlIDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLyA6XG4gICAgICAgICAgICBuID0gbi5hZGQoZS5kb2Mua2V5KTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA6XG4gICAgICAgICAgICByID0gci5hZGQoZS5kb2Mua2V5KTtcbiAvLyBkbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9Mb2NhbFZpZXdDaGFuZ2VzKGUsIHQuZnJvbUNhY2hlLCBuLCByKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgdHJhY2tlciB0byBrZWVwIGEgcmVjb3JkIG9mIGltcG9ydGFudCBkZXRhaWxzIGR1cmluZyBkYXRhYmFzZSBsb2NhbCBxdWVyeVxuICogZXhlY3V0aW9uLlxuICovIGNsYXNzIFF1ZXJ5Q29udGV4dCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3VudHMgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcGFzc2VkIHRocm91Z2ggZHVyaW5nIGxvY2FsIHF1ZXJ5IGV4ZWN1dGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuX2RvY3VtZW50UmVhZENvdW50ID0gMDtcbiAgICB9XG4gICAgZ2V0IGRvY3VtZW50UmVhZENvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZG9jdW1lbnRSZWFkQ291bnQ7XG4gICAgfVxuICAgIGluY3JlbWVudERvY3VtZW50UmVhZENvdW50KGUpIHtcbiAgICAgICAgdGhpcy5fZG9jdW1lbnRSZWFkQ291bnQgKz0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSBGaXJlc3RvcmUgcXVlcnkgZW5naW5lLlxuICpcbiAqIEZpcmVzdG9yZSBxdWVyaWVzIGNhbiBiZSBleGVjdXRlZCBpbiB0aHJlZSBtb2Rlcy4gVGhlIFF1ZXJ5IEVuZ2luZSBkZXRlcm1pbmVzXG4gKiB3aGF0IG1vZGUgdG8gdXNlIGJhc2VkIG9uIHdoYXQgZGF0YSBpcyBwZXJzaXN0ZWQuIFRoZSBtb2RlIG9ubHkgZGV0ZXJtaW5lc1xuICogdGhlIHJ1bnRpbWUgY29tcGxleGl0eSBvZiB0aGUgcXVlcnkgLSB0aGUgcmVzdWx0IHNldCBpcyBlcXVpdmFsZW50IGFjcm9zcyBhbGxcbiAqIGltcGxlbWVudGF0aW9ucy5cbiAqXG4gKiBUaGUgUXVlcnkgZW5naW5lIHdpbGwgdXNlIGluZGV4ZWQtYmFzZWQgZXhlY3V0aW9uIGlmIGEgdXNlciBoYXMgY29uZmlndXJlZFxuICogYW55IGluZGV4IHRoYXQgY2FuIGJlIHVzZWQgdG8gZXhlY3V0ZSBxdWVyeSAodmlhIGBzZXRJbmRleENvbmZpZ3VyYXRpb24oKWApLlxuICogT3RoZXJ3aXNlLCB0aGUgZW5naW5lIHdpbGwgdHJ5IHRvIG9wdGltaXplIHRoZSBxdWVyeSBieSByZS11c2luZyBhIHByZXZpb3VzbHlcbiAqIHBlcnNpc3RlZCBxdWVyeSByZXN1bHQuIElmIHRoYXQgaXMgbm90IHBvc3NpYmxlLCB0aGUgcXVlcnkgd2lsbCBiZSBleGVjdXRlZFxuICogdmlhIGEgZnVsbCBjb2xsZWN0aW9uIHNjYW4uXG4gKlxuICogSW5kZXgtYmFzZWQgZXhlY3V0aW9uIGlzIHRoZSBkZWZhdWx0IHdoZW4gYXZhaWxhYmxlLiBUaGUgcXVlcnkgZW5naW5lXG4gKiBzdXBwb3J0cyBwYXJ0aWFsIGluZGV4ZWQgZXhlY3V0aW9uIGFuZCBtZXJnZXMgdGhlIHJlc3VsdCBmcm9tIHRoZSBpbmRleFxuICogbG9va3VwIHdpdGggZG9jdW1lbnRzIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gaW5kZXhlZC4gVGhlIGluZGV4IGV2YWx1YXRpb25cbiAqIG1hdGNoZXMgdGhlIGJhY2tlbmQncyBmb3JtYXQgYW5kIGFzIHN1Y2gsIHRoZSBTREsgY2FuIHVzZSBpbmRleGluZyBmb3IgYWxsXG4gKiBxdWVyaWVzIHRoYXQgdGhlIGJhY2tlbmQgc3VwcG9ydHMuXG4gKlxuICogSWYgbm8gaW5kZXggZXhpc3RzLCB0aGUgcXVlcnkgZW5naW5lIHRyaWVzIHRvIHRha2UgYWR2YW50YWdlIG9mIHRoZSB0YXJnZXRcbiAqIGRvY3VtZW50IG1hcHBpbmcgaW4gdGhlIFRhcmdldENhY2hlLiBUaGVzZSBtYXBwaW5ncyBleGlzdHMgZm9yIGFsbCBxdWVyaWVzXG4gKiB0aGF0IGhhdmUgYmVlbiBzeW5jZWQgd2l0aCB0aGUgYmFja2VuZCBhdCBsZWFzdCBvbmNlIGFuZCBhbGxvdyB0aGUgcXVlcnlcbiAqIGVuZ2luZSB0byBvbmx5IHJlYWQgZG9jdW1lbnRzIHRoYXQgcHJldmlvdXNseSBtYXRjaGVkIGEgcXVlcnkgcGx1cyBhbnlcbiAqIGRvY3VtZW50cyB0aGF0IHdlcmUgZWRpdGVkIGFmdGVyIHRoZSBxdWVyeSB3YXMgbGFzdCBsaXN0ZW5lZCB0by5cbiAqXG4gKiBUaGVyZSBhcmUgc29tZSBjYXNlcyB3aGVuIHRoaXMgb3B0aW1pemF0aW9uIGlzIG5vdCBndWFyYW50ZWVkIHRvIHByb2R1Y2VcbiAqIHRoZSBzYW1lIHJlc3VsdHMgYXMgZnVsbCBjb2xsZWN0aW9uIHNjYW5zLiBJbiB0aGVzZSBjYXNlcywgcXVlcnlcbiAqIHByb2Nlc3NpbmcgZmFsbHMgYmFjayB0byBmdWxsIHNjYW5zLiBUaGVzZSBjYXNlcyBhcmU6XG4gKlxuICogLSBMaW1pdCBxdWVyaWVzIHdoZXJlIGEgZG9jdW1lbnQgdGhhdCBtYXRjaGVkIHRoZSBxdWVyeSBwcmV2aW91c2x5IG5vIGxvbmdlclxuICogICBtYXRjaGVzIHRoZSBxdWVyeS5cbiAqXG4gKiAtIExpbWl0IHF1ZXJpZXMgd2hlcmUgYSBkb2N1bWVudCBlZGl0IG1heSBjYXVzZSB0aGUgZG9jdW1lbnQgdG8gc29ydCBiZWxvd1xuICogICBhbm90aGVyIGRvY3VtZW50IHRoYXQgaXMgaW4gdGhlIGxvY2FsIGNhY2hlLlxuICpcbiAqIC0gUXVlcmllcyB0aGF0IGhhdmUgbmV2ZXIgYmVlbiBDVVJSRU5UIG9yIGZyZWUgb2YgbGltYm8gZG9jdW1lbnRzLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfUXVlcnlFbmdpbmUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLiRpID0gITEsIHRoaXMuVWkgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTREsgb25seSBkZWNpZGVzIHdoZXRoZXIgaXQgc2hvdWxkIGNyZWF0ZSBpbmRleCB3aGVuIGNvbGxlY3Rpb24gc2l6ZSBpc1xuICAgICAgICAgKiBsYXJnZXIgdGhhbiB0aGlzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5XaSA9IDEwMCwgdGhpcy5HaSA9IFxuICAgICAgICAvKipcbiAqIFRoaXMgY29zdCByZXByZXNlbnRzIHRoZSBldmFsdWF0aW9uIHJlc3VsdCBvZlxuICogKChbaW5kZXgsIGRvY0tleV0gKyBbZG9jS2V5LCBkb2NDb250ZW50XSkgcGVyIGRvY3VtZW50IGluIHRoZSByZXN1bHQgc2V0KVxuICogLyAoW2RvY0tleSwgZG9jQ29udGVudF0gcGVyIGRvY3VtZW50cyBpbiBmdWxsIGNvbGxlY3Rpb24gc2NhbikgY29taW5nIGZyb21cbiAqIGV4cGVyaW1lbnQgW2VudGVyIFBSIGV4cGVyaW1lbnQgVVJMIGhlcmVdLlxuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXREZWZhdWx0UmVsYXRpdmVJbmRleFJlYWRDb3N0UGVyRG9jdW1lbnQoKSB7XG4gICAgICAgICAgICAvLyBUaGVzZSB2YWx1ZXMgd2VyZSBkZXJpdmVkIGZyb20gYW4gZXhwZXJpbWVudCB3aGVyZSBzZXZlcmFsIG1lbWJlcnMgb2YgdGhlXG4gICAgICAgICAgICAvLyBGaXJlc3RvcmUgU0RLIHRlYW0gcmFuIGEgcGVyZm9ybWFuY2UgdGVzdCBpbiB2YXJpb3VzIGVudmlyb25tZW50cy5cbiAgICAgICAgICAgIC8vIEdvb2dsZXJzIGNhbiBzZWUgYi8yOTkyODQyODcgZm9yIGRldGFpbHMuXG4gICAgICAgICAgICByZXR1cm4gdXRpbC5pc1NhZmFyaSgpID8gOCA6IF9fUFJJVkFURV9nZXRBbmRyb2lkVmVyc2lvbih1dGlsLmdldFVBKCkpID4gMCA/IDYgOiA0O1xuICAgICAgICB9KCk7XG4gICAgfVxuICAgIC8qKiBTZXRzIHRoZSBkb2N1bWVudCB2aWV3IHRvIHF1ZXJ5IGFnYWluc3QuICovICAgIGluaXRpYWxpemUoZSwgdCkge1xuICAgICAgICB0aGlzLnppID0gZSwgdGhpcy5pbmRleE1hbmFnZXIgPSB0LCB0aGlzLiRpID0gITA7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGFsbCBsb2NhbCBkb2N1bWVudHMgbWF0Y2hpbmcgdGhlIHNwZWNpZmllZCBxdWVyeS4gKi8gICAgZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCB0LCBuLCByKSB7XG4gICAgICAgIC8vIFN0b3JlcyB0aGUgcmVzdWx0IGZyb20gZXhlY3V0aW5nIHRoZSBxdWVyeTsgdXNpbmcgdGhpcyBvYmplY3QgaXMgbW9yZVxuICAgICAgICAvLyBjb252ZW5pZW50IHRoYW4gcGFzc2luZyB0aGUgcmVzdWx0IGJldHdlZW4gc3RlcHMgb2YgdGhlIHBlcnNpc3RlbmNlXG4gICAgICAgIC8vIHRyYW5zYWN0aW9uIGFuZCBpbXByb3ZlcyByZWFkYWJpbGl0eSBjb21wYXJhdGl2ZWx5LlxuICAgICAgICBjb25zdCBpID0ge1xuICAgICAgICAgICAgcmVzdWx0OiBudWxsXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmppKGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaS5yZXN1bHQgPSBlO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFpLnJlc3VsdCkgcmV0dXJuIHRoaXMuSGkoZSwgdCwgciwgbikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgaS5yZXN1bHQgPSBlO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGkucmVzdWx0KSByZXR1cm47XG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IFF1ZXJ5Q29udGV4dDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkppKGUsIHQsIG4pLm5leHQoKHIgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpLnJlc3VsdCA9IHIsIHRoaXMuVWkpIHJldHVybiB0aGlzLllpKGUsIHQsIG4sIHIuc2l6ZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpLnJlc3VsdCkpO1xuICAgIH1cbiAgICBZaShlLCB0LCBuLCByKSB7XG4gICAgICAgIHJldHVybiBuLmRvY3VtZW50UmVhZENvdW50IDwgdGhpcy5XaSA/IChfX1BSSVZBVEVfZ2V0TG9nTGV2ZWwoKSA8PSBsb2dnZXIuTG9nTGV2ZWwuREVCVUcgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiUXVlcnlFbmdpbmVcIiwgXCJTREsgd2lsbCBub3QgY3JlYXRlIGNhY2hlIGluZGV4ZXMgZm9yIHF1ZXJ5OlwiLCBfX1BSSVZBVEVfc3RyaW5naWZ5UXVlcnkodCksIFwic2luY2UgaXQgb25seSBjcmVhdGVzIGNhY2hlIGluZGV4ZXMgZm9yIGNvbGxlY3Rpb24gY29udGFpbnNcIiwgXCJtb3JlIHRoYW4gb3IgZXF1YWwgdG9cIiwgdGhpcy5XaSwgXCJkb2N1bWVudHNcIiksIFxuICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpKSA6IChfX1BSSVZBVEVfZ2V0TG9nTGV2ZWwoKSA8PSBsb2dnZXIuTG9nTGV2ZWwuREVCVUcgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiUXVlcnlFbmdpbmVcIiwgXCJRdWVyeTpcIiwgX19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5KHQpLCBcInNjYW5zXCIsIG4uZG9jdW1lbnRSZWFkQ291bnQsIFwibG9jYWwgZG9jdW1lbnRzIGFuZCByZXR1cm5zXCIsIHIsIFwiZG9jdW1lbnRzIGFzIHJlc3VsdHMuXCIpLCBcbiAgICAgICAgbi5kb2N1bWVudFJlYWRDb3VudCA+IHRoaXMuR2kgKiByID8gKF9fUFJJVkFURV9nZXRMb2dMZXZlbCgpIDw9IGxvZ2dlci5Mb2dMZXZlbC5ERUJVRyAmJiBfX1BSSVZBVEVfbG9nRGVidWcoXCJRdWVyeUVuZ2luZVwiLCBcIlRoZSBTREsgZGVjaWRlcyB0byBjcmVhdGUgY2FjaGUgaW5kZXhlcyBmb3IgcXVlcnk6XCIsIF9fUFJJVkFURV9zdHJpbmdpZnlRdWVyeSh0KSwgXCJhcyB1c2luZyBjYWNoZSBpbmRleGVzIG1heSBoZWxwIGltcHJvdmUgcGVyZm9ybWFuY2UuXCIpLCBcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIuY3JlYXRlVGFyZ2V0SW5kZXhlcyhlLCBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldCh0KSkpIDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFuIGluZGV4ZWQgcXVlcnkgdGhhdCBldmFsdWF0ZXMgdGhlIHF1ZXJ5IGJhc2VkIG9uIGEgY29sbGVjdGlvbidzXG4gICAgICogcGVyc2lzdGVkIGluZGV4IHZhbHVlcy4gUmV0dXJucyBgbnVsbGAgaWYgYW4gaW5kZXggaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgKi8gICAgamkoZSwgdCkge1xuICAgICAgICBpZiAoX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0FsbERvY3VtZW50cyh0KSkgXG4gICAgICAgIC8vIFF1ZXJpZXMgdGhhdCBtYXRjaCBhbGwgZG9jdW1lbnRzIGRvbid0IGJlbmVmaXQgZnJvbSB1c2luZ1xuICAgICAgICAvLyBrZXktYmFzZWQgbG9va3Vwcy4gSXQgaXMgbW9yZSBlZmZpY2llbnQgdG8gc2NhbiBhbGwgZG9jdW1lbnRzIGluIGFcbiAgICAgICAgLy8gY29sbGVjdGlvbiwgcmF0aGVyIHRoYW4gdG8gcGVyZm9ybSBpbmRpdmlkdWFsIGxvb2t1cHMuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgICAgbGV0IG4gPSBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldCh0KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhNYW5hZ2VyLmdldEluZGV4VHlwZShlLCBuKS5uZXh0KChyID0+IDAgLyogSW5kZXhUeXBlLk5PTkUgKi8gPT09IHIgPyBudWxsIDogKG51bGwgIT09IHQubGltaXQgJiYgMSAvKiBJbmRleFR5cGUuUEFSVElBTCAqLyA9PT0gciAmJiAoXG4gICAgICAgIC8vIFdlIGNhbm5vdCBhcHBseSBhIGxpbWl0IGZvciB0YXJnZXRzIHRoYXQgYXJlIHNlcnZlZCB1c2luZyBhIHBhcnRpYWxcbiAgICAgICAgLy8gaW5kZXguIElmIGEgcGFydGlhbCBpbmRleCB3aWxsIGJlIHVzZWQgdG8gc2VydmUgdGhlIHRhcmdldCwgdGhlXG4gICAgICAgIC8vIHF1ZXJ5IG1heSByZXR1cm4gYSBzdXBlcnNldCBvZiBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGUgdGFyZ2V0XG4gICAgICAgIC8vIChlLmcuIGlmIHRoZSBpbmRleCBkb2Vzbid0IGluY2x1ZGUgYWxsIHRoZSB0YXJnZXQncyBmaWx0ZXJzKSwgb3JcbiAgICAgICAgLy8gbWF5IHJldHVybiB0aGUgY29ycmVjdCBzZXQgb2YgZG9jdW1lbnRzIGluIHRoZSB3cm9uZyBvcmRlciAoZS5nLiBpZlxuICAgICAgICAvLyB0aGUgaW5kZXggZG9lc24ndCBpbmNsdWRlIGEgc2VnbWVudCBmb3Igb25lIG9mIHRoZSBvcmRlckJ5cykuXG4gICAgICAgIC8vIFRoZXJlZm9yZSwgYSBsaW1pdCBzaG91bGQgbm90IGJlIGFwcGxpZWQgaW4gc3VjaCBjYXNlcy5cbiAgICAgICAgdCA9IF9fUFJJVkFURV9xdWVyeVdpdGhMaW1pdCh0LCBudWxsLCBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8pLCBuID0gX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQodCkpLCBcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdUYXJnZXQoZSwgbikubmV4dCgociA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KC4uLnIpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuemkuZ2V0RG9jdW1lbnRzKGUsIGkpLm5leHQoKHIgPT4gdGhpcy5pbmRleE1hbmFnZXIuZ2V0TWluT2Zmc2V0KGUsIG4pLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLlppKHQsIHIpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlhpKHQsIHMsIGksIG4ucmVhZFRpbWUpID8gdGhpcy5qaShlLCBfX1BSSVZBVEVfcXVlcnlXaXRoTGltaXQodCwgbnVsbCwgXCJGXCIgLyogTGltaXRUeXBlLkZpcnN0ICovKSkgOiB0aGlzLmVzKGUsIHMsIHQsIG4pO1xuICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgIH0pKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBxdWVyeSBiYXNlZCBvbiB0aGUgdGFyZ2V0J3MgcGVyc2lzdGVkIHF1ZXJ5IG1hcHBpbmcuIFJldHVybnNcbiAgICAgKiBgbnVsbGAgaWYgdGhlIG1hcHBpbmcgaXMgbm90IGF2YWlsYWJsZSBvciBjYW5ub3QgYmUgdXNlZC5cbiAgICAgKi8gICAgSGkoZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0FsbERvY3VtZW50cyh0KSB8fCByLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG51bGwpIDogdGhpcy56aS5nZXREb2N1bWVudHMoZSwgbikubmV4dCgoaSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gdGhpcy5aaSh0LCBpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlhpKHQsIHMsIG4sIHIpID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobnVsbCkgOiAoX19QUklWQVRFX2dldExvZ0xldmVsKCkgPD0gbG9nZ2VyLkxvZ0xldmVsLkRFQlVHICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlF1ZXJ5RW5naW5lXCIsIFwiUmUtdXNpbmcgcHJldmlvdXMgcmVzdWx0IGZyb20gJXMgdG8gZXhlY3V0ZSBxdWVyeTogJXNcIiwgci50b1N0cmluZygpLCBfX1BSSVZBVEVfc3RyaW5naWZ5UXVlcnkodCkpLCBcbiAgICAgICAgICAgIHRoaXMuZXMoZSwgcywgdCwgX19QUklWQVRFX25ld0luZGV4T2Zmc2V0U3VjY2Vzc29yRnJvbVJlYWRUaW1lKHIsIC0xKSkubmV4dCgoZSA9PiBlKSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIC8vIFF1ZXJpZXMgdGhhdCBoYXZlIG5ldmVyIHNlZW4gYSBzbmFwc2hvdCB3aXRob3V0IGxpbWJvIGZyZWUgZG9jdW1lbnRzXG4gICAgICAgIC8vIHNob3VsZCBhbHNvIGJlIHJ1biBhcyBhIGZ1bGwgY29sbGVjdGlvbiBzY2FuLlxuICAgICAgICB9XG4gICAgLyoqIEFwcGxpZXMgdGhlIHF1ZXJ5IGZpbHRlciBhbmQgc29ydGluZyB0byB0aGUgcHJvdmlkZWQgZG9jdW1lbnRzLiAgKi8gICAgWmkoZSwgdCkge1xuICAgICAgICAvLyBTb3J0IHRoZSBkb2N1bWVudHMgYW5kIHJlLWFwcGx5IHRoZSBxdWVyeSBmaWx0ZXIgc2luY2UgcHJldmlvdXNseVxuICAgICAgICAvLyBtYXRjaGluZyBkb2N1bWVudHMgZG8gbm90IG5lY2Vzc2FyaWx5IHN0aWxsIG1hdGNoIHRoZSBxdWVyeS5cbiAgICAgICAgbGV0IG4gPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9uZXdRdWVyeUNvbXBhcmF0b3IoZSkpO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKCgodCwgcikgPT4ge1xuICAgICAgICAgICAgX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyhlLCByKSAmJiAobiA9IG4uYWRkKHIpKTtcbiAgICAgICAgfSkpLCBuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGEgbGltaXQgcXVlcnkgbmVlZHMgdG8gYmUgcmVmaWxsZWQgZnJvbSBjYWNoZSwgbWFraW5nIGl0XG4gICAgICogaW5lbGlnaWJsZSBmb3IgaW5kZXgtZnJlZSBleGVjdXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcXVlcnkgLSBUaGUgcXVlcnkuXG4gICAgICogQHBhcmFtIHNvcnRlZFByZXZpb3VzUmVzdWx0cyAtIFRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaGVkIHRoZSBxdWVyeSB3aGVuIGl0XG4gICAgICogd2FzIGxhc3Qgc3luY2hyb25pemVkLCBzb3J0ZWQgYnkgdGhlIHF1ZXJ5J3MgY29tcGFyYXRvci5cbiAgICAgKiBAcGFyYW0gcmVtb3RlS2V5cyAtIFRoZSBkb2N1bWVudCBrZXlzIHRoYXQgbWF0Y2hlZCB0aGUgcXVlcnkgYXQgdGhlIGxhc3RcbiAgICAgKiBzbmFwc2hvdC5cbiAgICAgKiBAcGFyYW0gbGltYm9GcmVlU25hcHNob3RWZXJzaW9uIC0gVGhlIHZlcnNpb24gb2YgdGhlIHNuYXBzaG90IHdoZW4gdGhlXG4gICAgICogcXVlcnkgd2FzIGxhc3Qgc3luY2hyb25pemVkLlxuICAgICAqLyAgICBYaShlLCB0LCBuLCByKSB7XG4gICAgICAgIGlmIChudWxsID09PSBlLmxpbWl0KSBcbiAgICAgICAgLy8gUXVlcmllcyB3aXRob3V0IGxpbWl0cyBkbyBub3QgbmVlZCB0byBiZSByZWZpbGxlZC5cbiAgICAgICAgcmV0dXJuICExO1xuICAgICAgICBpZiAobi5zaXplICE9PSB0LnNpemUpIFxuICAgICAgICAvLyBUaGUgcXVlcnkgbmVlZHMgdG8gYmUgcmVmaWxsZWQgaWYgYSBwcmV2aW91c2x5IG1hdGNoaW5nIGRvY3VtZW50IG5vXG4gICAgICAgIC8vIGxvbmdlciBtYXRjaGVzLlxuICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIC8vIExpbWl0IHF1ZXJpZXMgYXJlIG5vdCBlbGlnaWJsZSBmb3IgaW5kZXgtZnJlZSBxdWVyeSBleGVjdXRpb24gaWYgdGhlcmUgaXNcbiAgICAgICAgLy8gYSBwb3RlbnRpYWwgdGhhdCBhbiBvbGRlciBkb2N1bWVudCBmcm9tIGNhY2hlIG5vdyBzb3J0cyBiZWZvcmUgYSBkb2N1bWVudFxuICAgICAgICAvLyB0aGF0IHdhcyBwcmV2aW91c2x5IHBhcnQgb2YgdGhlIGxpbWl0LiBUaGlzLCBob3dldmVyLCBjYW4gb25seSBoYXBwZW4gaWZcbiAgICAgICAgLy8gdGhlIGRvY3VtZW50IGF0IHRoZSBlZGdlIG9mIHRoZSBsaW1pdCBnb2VzIG91dCBvZiBsaW1pdC5cbiAgICAgICAgLy8gSWYgYSBkb2N1bWVudCB0aGF0IGlzIG5vdCB0aGUgbGltaXQgYm91bmRhcnkgc29ydHMgZGlmZmVyZW50bHksXG4gICAgICAgIC8vIHRoZSBib3VuZGFyeSBvZiB0aGUgbGltaXQgaXRzZWxmIGRpZCBub3QgY2hhbmdlIGFuZCBkb2N1bWVudHMgZnJvbSBjYWNoZVxuICAgICAgICAvLyB3aWxsIGNvbnRpbnVlIHRvIGJlIFwicmVqZWN0ZWRcIiBieSB0aGlzIGJvdW5kYXJ5LiBUaGVyZWZvcmUsIHdlIGNhbiBpZ25vcmVcbiAgICAgICAgLy8gYW55IG1vZGlmaWNhdGlvbnMgdGhhdCBkb24ndCBhZmZlY3QgdGhlIGxhc3QgZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyA9PT0gZS5saW1pdFR5cGUgPyB0Lmxhc3QoKSA6IHQuZmlyc3QoKTtcbiAgICAgICAgcmV0dXJuICEhaSAmJiAoaS5oYXNQZW5kaW5nV3JpdGVzIHx8IGkudmVyc2lvbi5jb21wYXJlVG8ocikgPiAwKTtcbiAgICB9XG4gICAgSmkoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2dldExvZ0xldmVsKCkgPD0gbG9nZ2VyLkxvZ0xldmVsLkRFQlVHICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlF1ZXJ5RW5naW5lXCIsIFwiVXNpbmcgZnVsbCBjb2xsZWN0aW9uIHNjYW4gdG8gZXhlY3V0ZSBxdWVyeTpcIiwgX19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5KHQpKSwgXG4gICAgICAgIHRoaXMuemkuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCB0LCBJbmRleE9mZnNldC5taW4oKSwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbWJpbmVzIHRoZSByZXN1bHRzIGZyb20gYW4gaW5kZXhlZCBleGVjdXRpb24gd2l0aCB0aGUgcmVtYWluaW5nIGRvY3VtZW50c1xuICAgICAqIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gaW5kZXhlZC5cbiAgICAgKi8gICAgZXMoZSwgdCwgbiwgcikge1xuICAgICAgICAvLyBSZXRyaWV2ZSBhbGwgcmVzdWx0cyBmb3IgZG9jdW1lbnRzIHRoYXQgd2VyZSB1cGRhdGVkIHNpbmNlIHRoZSBvZmZzZXQuXG4gICAgICAgIHJldHVybiB0aGlzLnppLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSwgbiwgcikubmV4dCgoZSA9PiAoXG4gICAgICAgIC8vIE1lcmdlIHdpdGggZXhpc3RpbmcgcmVzdWx0c1xuICAgICAgICB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgZSA9IGUuaW5zZXJ0KHQua2V5LCB0KTtcbiAgICAgICAgfSkpLCBlKSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSW1wbGVtZW50cyBgTG9jYWxTdG9yZWAgaW50ZXJmYWNlLlxuICpcbiAqIE5vdGU6IHNvbWUgZmllbGQgZGVmaW5lZCBpbiB0aGlzIGNsYXNzIG1pZ2h0IGhhdmUgcHVibGljIGFjY2VzcyBsZXZlbCwgYnV0XG4gKiB0aGUgY2xhc3MgaXMgbm90IGV4cG9ydGVkIHNvIHRoZXkgYXJlIG9ubHkgYWNjZXNzaWJsZSBmcm9tIHRoaXMgbW9kdWxlLlxuICogVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IG9wdGlvbmFsIGZlYXR1cmVzIChsaWtlIGJ1bmRsZXMpIGluIGZyZWVcbiAqIGZ1bmN0aW9ucywgc3VjaCB0aGF0IHRoZXkgYXJlIHRyZWUtc2hha2VhYmxlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfTG9jYWxTdG9yZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBNYW5hZ2VzIG91ciBpbi1tZW1vcnkgb3IgZHVyYWJsZSBwZXJzaXN0ZW5jZS4gKi9cbiAgICBlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMucGVyc2lzdGVuY2UgPSBlLCB0aGlzLnRzID0gdCwgdGhpcy5zZXJpYWxpemVyID0gciwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYXBzIGEgdGFyZ2V0SUQgdG8gZGF0YSBhYm91dCBpdHMgdGFyZ2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBQT1JUSU5HIE5PVEU6IFdlIGFyZSB1c2luZyBhbiBpbW11dGFibGUgZGF0YSBzdHJ1Y3R1cmUgb24gV2ViIHRvIG1ha2UgcmUtcnVuc1xuICAgICAgICAgKiBvZiBgYXBwbHlSZW1vdGVFdmVudCgpYCBpZGVtcG90ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ucyA9IG5ldyBTb3J0ZWRNYXAoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpLCBcbiAgICAgICAgLyoqIE1hcHMgYSB0YXJnZXQgdG8gaXRzIHRhcmdldElELiAqL1xuICAgICAgICAvLyBUT0RPKHd1YW5keSk6IEV2YWx1YXRlIGlmIFRhcmdldElkIGNhbiBiZSBwYXJ0IG9mIFRhcmdldC5cbiAgICAgICAgdGhpcy5ycyA9IG5ldyBPYmplY3RNYXAoKGUgPT4gX19QUklWQVRFX2Nhbm9uaWZ5VGFyZ2V0KGUpKSwgX19QUklWQVRFX3RhcmdldEVxdWFscyksIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBwZXIgY29sbGVjdGlvbiBncm91cCBpbmRleCBvZiB0aGUgbGFzdCByZWFkIHRpbWUgcHJvY2Vzc2VkIGJ5XG4gICAgICAgICAqIGBnZXROZXdEb2N1bWVudENoYW5nZXMoKWAuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgZm9yIG11bHRpLXRhYiBzeW5jaHJvbml6YXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnNzID0gbmV3IE1hcCwgdGhpcy5vcyA9IGUuZ2V0UmVtb3RlRG9jdW1lbnRDYWNoZSgpLCB0aGlzLlFyID0gZS5nZXRUYXJnZXRDYWNoZSgpLCBcbiAgICAgICAgdGhpcy4kciA9IGUuZ2V0QnVuZGxlQ2FjaGUoKSwgdGhpcy5fcyhuKTtcbiAgICB9XG4gICAgX3MoZSkge1xuICAgICAgICAvLyBUT0RPKGluZGV4aW5nKTogQWRkIHNwZWMgdGVzdHMgdGhhdCB0ZXN0IHRoZXNlIGNvbXBvbmVudHMgY2hhbmdlIGFmdGVyIGFcbiAgICAgICAgLy8gdXNlciBjaGFuZ2VcbiAgICAgICAgdGhpcy5kb2N1bWVudE92ZXJsYXlDYWNoZSA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0RG9jdW1lbnRPdmVybGF5Q2FjaGUoZSksIHRoaXMuaW5kZXhNYW5hZ2VyID0gdGhpcy5wZXJzaXN0ZW5jZS5nZXRJbmRleE1hbmFnZXIoZSksIFxuICAgICAgICB0aGlzLm11dGF0aW9uUXVldWUgPSB0aGlzLnBlcnNpc3RlbmNlLmdldE11dGF0aW9uUXVldWUoZSwgdGhpcy5pbmRleE1hbmFnZXIpLCB0aGlzLmxvY2FsRG9jdW1lbnRzID0gbmV3IExvY2FsRG9jdW1lbnRzVmlldyh0aGlzLm9zLCB0aGlzLm11dGF0aW9uUXVldWUsIHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUsIHRoaXMuaW5kZXhNYW5hZ2VyKSwgXG4gICAgICAgIHRoaXMub3Muc2V0SW5kZXhNYW5hZ2VyKHRoaXMuaW5kZXhNYW5hZ2VyKSwgdGhpcy50cy5pbml0aWFsaXplKHRoaXMubG9jYWxEb2N1bWVudHMsIHRoaXMuaW5kZXhNYW5hZ2VyKTtcbiAgICB9XG4gICAgY29sbGVjdEdhcmJhZ2UoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkNvbGxlY3QgZ2FyYmFnZVwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsICh0ID0+IGUuY29sbGVjdCh0LCB0aGlzLm5zKSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX25ld0xvY2FsU3RvcmUoXG4vKiogTWFuYWdlcyBvdXIgaW4tbWVtb3J5IG9yIGR1cmFibGUgcGVyc2lzdGVuY2UuICovXG5lLCB0LCBuLCByKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTG9jYWxTdG9yZUltcGwoZSwgdCwgbiwgcik7XG59XG5cbi8qKlxuICogVGVsbHMgdGhlIExvY2FsU3RvcmUgdGhhdCB0aGUgY3VycmVudGx5IGF1dGhlbnRpY2F0ZWQgdXNlciBoYXMgY2hhbmdlZC5cbiAqXG4gKiBJbiByZXNwb25zZSB0aGUgbG9jYWwgc3RvcmUgc3dpdGNoZXMgdGhlIG11dGF0aW9uIHF1ZXVlIHRvIHRoZSBuZXcgdXNlciBhbmRcbiAqIHJldHVybnMgYW55IHJlc3VsdGluZyBkb2N1bWVudCBjaGFuZ2VzLlxuICovXG4vLyBQT1JUSU5HIE5PVEU6IEFuZHJvaWQgYW5kIGlPUyBvbmx5IHJldHVybiB0aGUgZG9jdW1lbnRzIGFmZmVjdGVkIGJ5IHRoZVxuLy8gY2hhbmdlLlxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVIYW5kbGVVc2VyQ2hhbmdlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gYXdhaXQgbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkhhbmRsZSB1c2VyIGNoYW5nZVwiLCBcInJlYWRvbmx5XCIsIChlID0+IHtcbiAgICAgICAgLy8gU3dhcCBvdXQgdGhlIG11dGF0aW9uIHF1ZXVlLCBncmFiYmluZyB0aGUgcGVuZGluZyBtdXRhdGlvbiBiYXRjaGVzXG4gICAgICAgIC8vIGJlZm9yZSBhbmQgYWZ0ZXIuXG4gICAgICAgIGxldCByO1xuICAgICAgICByZXR1cm4gbi5tdXRhdGlvblF1ZXVlLmdldEFsbE11dGF0aW9uQmF0Y2hlcyhlKS5uZXh0KChpID0+IChyID0gaSwgbi5fcyh0KSwgbi5tdXRhdGlvblF1ZXVlLmdldEFsbE11dGF0aW9uQmF0Y2hlcyhlKSkpKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBbXSwgcyA9IFtdO1xuICAgICAgICAgICAgLy8gVW5pb24gdGhlIG9sZC9uZXcgY2hhbmdlZCBrZXlzLlxuICAgICAgICAgICAgbGV0IG8gPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiByKSB7XG4gICAgICAgICAgICAgICAgaS5wdXNoKGUuYmF0Y2hJZCk7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGUubXV0YXRpb25zKSBvID0gby5hZGQodC5rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIHtcbiAgICAgICAgICAgICAgICBzLnB1c2goZS5iYXRjaElkKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5tdXRhdGlvbnMpIG8gPSBvLmFkZCh0LmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZXR1cm4gdGhlIHNldCBvZiBhbGwgKHBvdGVudGlhbGx5KSBjaGFuZ2VkIGRvY3VtZW50cyBhbmQgdGhlIGxpc3RcbiAgICAgICAgICAgIC8vIG9mIG11dGF0aW9uIGJhdGNoIElEcyB0aGF0IHdlcmUgYWZmZWN0ZWQgYnkgY2hhbmdlLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ubG9jYWxEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKGUsIG8pLm5leHQoKGUgPT4gKHtcbiAgICAgICAgICAgICAgICB1czogZSxcbiAgICAgICAgICAgICAgICByZW1vdmVkQmF0Y2hJZHM6IGksXG4gICAgICAgICAgICAgICAgYWRkZWRCYXRjaElkczogc1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSkpO1xuICAgIH0pKTtcbn1cblxuLyogQWNjZXB0cyBsb2NhbGx5IGdlbmVyYXRlZCBNdXRhdGlvbnMgYW5kIGNvbW1pdCB0aGVtIHRvIHN0b3JhZ2UuICovXG4vKipcbiAqIEFja25vd2xlZGdlcyB0aGUgZ2l2ZW4gYmF0Y2guXG4gKlxuICogT24gdGhlIGhhcHB5IHBhdGggd2hlbiBhIGJhdGNoIGlzIGFja25vd2xlZGdlZCwgdGhlIGxvY2FsIHN0b3JlIHdpbGxcbiAqXG4gKiAgKyByZW1vdmUgdGhlIGJhdGNoIGZyb20gdGhlIG11dGF0aW9uIHF1ZXVlO1xuICogICsgYXBwbHkgdGhlIGNoYW5nZXMgdG8gdGhlIHJlbW90ZSBkb2N1bWVudCBjYWNoZTtcbiAqICArIHJlY2FsY3VsYXRlIHRoZSBsYXRlbmN5IGNvbXBlbnNhdGVkIHZpZXcgaW1wbGllZCBieSB0aG9zZSBjaGFuZ2VzICh0aGVyZVxuICogICAgbWF5IGJlIG11dGF0aW9ucyBpbiB0aGUgcXVldWUgdGhhdCBhZmZlY3QgdGhlIGRvY3VtZW50cyBidXQgaGF2ZW4ndCBiZWVuXG4gKiAgICBhY2tub3dsZWRnZWQgeWV0KTsgYW5kXG4gKiAgKyBnaXZlIHRoZSBjaGFuZ2VkIGRvY3VtZW50cyBiYWNrIHRoZSBzeW5jIGVuZ2luZVxuICpcbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgKG1vZGlmaWVkKSBkb2N1bWVudHMuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQWNrbm93bGVkZ2VCYXRjaChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBY2tub3dsZWRnZSBiYXRjaFwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsIChlID0+IHtcbiAgICAgICAgY29uc3QgciA9IHQuYmF0Y2gua2V5cygpLCBpID0gbi5vcy5uZXdDaGFuZ2VCdWZmZXIoe1xuICAgICAgICAgICAgdHJhY2tSZW1vdmFsczogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlXcml0ZVRvUmVtb3RlRG9jdW1lbnRzKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuLmJhdGNoLCBzID0gaS5rZXlzKCk7XG4gICAgICAgICAgICBsZXQgbyA9IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICByZXR1cm4gcy5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICBvID0gby5uZXh0KCgoKSA9PiByLmdldEVudHJ5KHQsIGUpKSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuLmRvY1ZlcnNpb25zLmdldChlKTtcbiAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQobnVsbCAhPT0gcyksIHQudmVyc2lvbi5jb21wYXJlVG8ocykgPCAwICYmIChpLmFwcGx5VG9SZW1vdGVEb2N1bWVudCh0LCBuKSwgXG4gICAgICAgICAgICAgICAgICAgIHQuaXNWYWxpZERvY3VtZW50KCkgJiYgKFxuICAgICAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdGhlIGNvbW1pdFZlcnNpb24gYXMgdGhlIHJlYWRUaW1lIHJhdGhlciB0aGFuIHRoZVxuICAgICAgICAgICAgICAgICAgICAvLyBkb2N1bWVudCdzIHVwZGF0ZVRpbWUgc2luY2UgdGhlIHVwZGF0ZVRpbWUgaXMgbm90IGFkdmFuY2VkXG4gICAgICAgICAgICAgICAgICAgIC8vIGZvciB1cGRhdGVzIHRoYXQgZG8gbm90IG1vZGlmeSB0aGUgdW5kZXJseWluZyBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgdC5zZXRSZWFkVGltZShuLmNvbW1pdFZlcnNpb24pLCByLmFkZEVudHJ5KHQpKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpLCBvLm5leHQoKCgpID0+IGUubXV0YXRpb25RdWV1ZS5yZW1vdmVNdXRhdGlvbkJhdGNoKHQsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJldHVybnMgdGhlIGxvY2FsIHZpZXcgb2YgdGhlIGRvY3VtZW50cyBhZmZlY3RlZCBieSBhIG11dGF0aW9uIGJhdGNoLiAqL1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuICAgICAgICAobiwgZSwgdCwgaSkubmV4dCgoKCkgPT4gaS5hcHBseShlKSkpLm5leHQoKCgpID0+IG4ubXV0YXRpb25RdWV1ZS5wZXJmb3JtQ29uc2lzdGVuY3lDaGVjayhlKSkpLm5leHQoKCgpID0+IG4uZG9jdW1lbnRPdmVybGF5Q2FjaGUucmVtb3ZlT3ZlcmxheXNGb3JCYXRjaElkKGUsIHIsIHQuYmF0Y2guYmF0Y2hJZCkpKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKGUsIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRLZXlzV2l0aFRyYW5zZm9ybVJlc3VsdHMoZSkge1xuICAgICAgICAgICAgbGV0IHQgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5tdXRhdGlvblJlc3VsdHMubGVuZ3RoOyArK24pIHtcbiAgICAgICAgICAgICAgICBlLm11dGF0aW9uUmVzdWx0c1tuXS50cmFuc2Zvcm1SZXN1bHRzLmxlbmd0aCA+IDAgJiYgKHQgPSB0LmFkZChlLmJhdGNoLm11dGF0aW9uc1tuXS5rZXkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUmVtb3ZlcyBtdXRhdGlvbnMgZnJvbSB0aGUgTXV0YXRpb25RdWV1ZSBmb3IgdGhlIHNwZWNpZmllZCBiYXRjaDtcbiAqIExvY2FsRG9jdW1lbnRzIHdpbGwgYmUgcmVjYWxjdWxhdGVkLlxuICpcbiAqIEByZXR1cm5zIFRoZSByZXN1bHRpbmcgbW9kaWZpZWQgZG9jdW1lbnRzLlxuICovICh0KSkpKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLmdldERvY3VtZW50cyhlLCByKSkpO1xuICAgIH0pKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsYXN0IGNvbnNpc3RlbnQgc25hcHNob3QgcHJvY2Vzc2VkICh1c2VkIGJ5IHRoZSBSZW1vdGVTdG9yZSB0b1xuICogZGV0ZXJtaW5lIHdoZXRoZXIgdG8gYnVmZmVyIGluY29taW5nIHNuYXBzaG90cyBmcm9tIHRoZSBiYWNrZW5kKS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gdC5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBsYXN0IHJlbW90ZSBzbmFwc2hvdCB2ZXJzaW9uXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gdC5Rci5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKGUpKSk7XG59XG5cbi8qKlxuICogVXBkYXRlcyB0aGUgXCJncm91bmQtc3RhdGVcIiAocmVtb3RlKSBkb2N1bWVudHMuIFdlIGFzc3VtZSB0aGF0IHRoZSByZW1vdGVcbiAqIGV2ZW50IHJlZmxlY3RzIGFueSB3cml0ZSBiYXRjaGVzIHRoYXQgaGF2ZSBiZWVuIGFja25vd2xlZGdlZCBvciByZWplY3RlZFxuICogKGkuZS4gd2UgZG8gbm90IHJlLWFwcGx5IGxvY2FsIG11dGF0aW9ucyB0byB1cGRhdGVzIGZyb20gdGhpcyBldmVudCkuXG4gKlxuICogTG9jYWxEb2N1bWVudHMgYXJlIHJlLWNhbGN1bGF0ZWQgaWYgdGhlcmUgYXJlIHJlbWFpbmluZyBtdXRhdGlvbnMgaW4gdGhlXG4gKiBxdWV1ZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5UmVtb3RlRXZlbnRUb0xvY2FsQ2FjaGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gdC5zbmFwc2hvdFZlcnNpb247XG4gICAgbGV0IGkgPSBuLm5zO1xuICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQXBwbHkgcmVtb3RlIGV2ZW50XCIsIFwicmVhZHdyaXRlLXByaW1hcnlcIiwgKGUgPT4ge1xuICAgICAgICBjb25zdCBzID0gbi5vcy5uZXdDaGFuZ2VCdWZmZXIoe1xuICAgICAgICAgICAgdHJhY2tSZW1vdmFsczogITBcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFJlc2V0IG5ld1RhcmdldERhdGFCeVRhcmdldE1hcCBpbiBjYXNlIHRoaXMgdHJhbnNhY3Rpb24gZ2V0cyByZS1ydW4uXG4gICAgICAgICAgICAgICAgaSA9IG4ubnM7XG4gICAgICAgIGNvbnN0IG8gPSBbXTtcbiAgICAgICAgdC50YXJnZXRDaGFuZ2VzLmZvckVhY2goKChzLCBfKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhID0gaS5nZXQoXyk7XG4gICAgICAgICAgICBpZiAoIWEpIHJldHVybjtcbiAgICAgICAgICAgIC8vIE9ubHkgdXBkYXRlIHRoZSByZW1vdGUga2V5cyBpZiB0aGUgdGFyZ2V0IGlzIHN0aWxsIGFjdGl2ZS4gVGhpc1xuICAgICAgICAgICAgLy8gZW5zdXJlcyB0aGF0IHdlIGNhbiBwZXJzaXN0IHRoZSB1cGRhdGVkIHRhcmdldCBkYXRhIGFsb25nIHdpdGhcbiAgICAgICAgICAgIC8vIHRoZSB1cGRhdGVkIGFzc2lnbm1lbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBvLnB1c2gobi5Rci5yZW1vdmVNYXRjaGluZ0tleXMoZSwgcy5yZW1vdmVkRG9jdW1lbnRzLCBfKS5uZXh0KCgoKSA9PiBuLlFyLmFkZE1hdGNoaW5nS2V5cyhlLCBzLmFkZGVkRG9jdW1lbnRzLCBfKSkpKTtcbiAgICAgICAgICAgIGxldCB1ID0gYS53aXRoU2VxdWVuY2VOdW1iZXIoZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpO1xuICAgICAgICAgICAgbnVsbCAhPT0gdC50YXJnZXRNaXNtYXRjaGVzLmdldChfKSA/IHUgPSB1LndpdGhSZXN1bWVUb2tlbihCeXRlU3RyaW5nLkVNUFRZX0JZVEVfU1RSSU5HLCBTbmFwc2hvdFZlcnNpb24ubWluKCkpLndpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKFNuYXBzaG90VmVyc2lvbi5taW4oKSkgOiBzLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDAgJiYgKHUgPSB1LndpdGhSZXN1bWVUb2tlbihzLnJlc3VtZVRva2VuLCByKSksIFxuICAgICAgICAgICAgaSA9IGkuaW5zZXJ0KF8sIHUpLCBcbiAgICAgICAgICAgIC8vIFVwZGF0ZSB0aGUgdGFyZ2V0IGRhdGEgaWYgdGhlcmUgYXJlIHRhcmdldCBjaGFuZ2VzIChvciBpZlxuICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0aW1lIGhhcyBwYXNzZWQgc2luY2UgdGhlIGxhc3QgdXBkYXRlKS5cbiAgICAgICAgICAgIC8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBuZXdUYXJnZXREYXRhIHNob3VsZCBiZSBwZXJzaXN0ZWQgZHVyaW5nIGFuIHVwZGF0ZSBvZlxuICogYW4gYWN0aXZlIHRhcmdldC4gVGFyZ2V0RGF0YSBzaG91bGQgYWx3YXlzIGJlIHBlcnNpc3RlZCB3aGVuIGEgdGFyZ2V0IGlzXG4gKiBiZWluZyByZWxlYXNlZCBhbmQgc2hvdWxkIG5vdCBjYWxsIHRoaXMgZnVuY3Rpb24uXG4gKlxuICogV2hpbGUgdGhlIHRhcmdldCBpcyBhY3RpdmUsIFRhcmdldERhdGEgdXBkYXRlcyBjYW4gYmUgb21pdHRlZCB3aGVuIG5vdGhpbmdcbiAqIGFib3V0IHRoZSB0YXJnZXQgaGFzIGNoYW5nZWQgZXhjZXB0IG1ldGFkYXRhIGxpa2UgdGhlIHJlc3VtZSB0b2tlbiBvclxuICogc25hcHNob3QgdmVyc2lvbi4gT2NjYXNpb25hbGx5IGl0J3Mgd29ydGggdGhlIGV4dHJhIHdyaXRlIHRvIHByZXZlbnQgdGhlc2VcbiAqIHZhbHVlcyBmcm9tIGdldHRpbmcgdG9vIHN0YWxlIGFmdGVyIGEgY3Jhc2gsIGJ1dCB0aGlzIGRvZXNuJ3QgaGF2ZSB0byBiZVxuICogdG9vIGZyZXF1ZW50LlxuICovXG4gICAgICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfc2hvdWxkUGVyc2lzdFRhcmdldERhdGEoZSwgdCwgbikge1xuICAgICAgICAgICAgICAgIC8vIEFsd2F5cyBwZXJzaXN0IHRhcmdldCBkYXRhIGlmIHdlIGRvbid0IGFscmVhZHkgaGF2ZSBhIHJlc3VtZSB0b2tlbi5cbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gZS5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkpIHJldHVybiAhMDtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBhbGxvdyByZXN1bWUgdG9rZW4gY2hhbmdlcyB0byBiZSBidWZmZXJlZCBpbmRlZmluaXRlbHkuIFRoaXNcbiAgICAgICAgICAgICAgICAvLyBhbGxvd3MgdXMgdG8gYmUgcmVhc29uYWJseSB1cC10by1kYXRlIGFmdGVyIGEgY3Jhc2ggYW5kIGF2b2lkcyBuZWVkaW5nXG4gICAgICAgICAgICAgICAgLy8gdG8gbG9vcCBvdmVyIGFsbCBhY3RpdmUgcXVlcmllcyBvbiBzaHV0ZG93bi4gRXNwZWNpYWxseSBpbiB0aGUgYnJvd3NlclxuICAgICAgICAgICAgICAgIC8vIHdlIG1heSBub3QgZ2V0IHRpbWUgdG8gZG8gYW55dGhpbmcgaW50ZXJlc3Rpbmcgd2hpbGUgdGhlIGN1cnJlbnQgdGFiIGlzXG4gICAgICAgICAgICAgICAgLy8gY2xvc2luZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHQuc25hcHNob3RWZXJzaW9uLnRvTWljcm9zZWNvbmRzKCkgLSBlLnNuYXBzaG90VmVyc2lvbi50b01pY3Jvc2Vjb25kcygpID49IDNlOCkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgIC8vIE90aGVyd2lzZSBpZiB0aGUgb25seSB0aGluZyB0aGF0IGhhcyBjaGFuZ2VkIGFib3V0IGEgdGFyZ2V0IGlzIGl0cyByZXN1bWVcbiAgICAgICAgICAgICAgICAvLyB0b2tlbiBpdCdzIG5vdCB3b3J0aCBwZXJzaXN0aW5nLiBOb3RlIHRoYXQgdGhlIFJlbW90ZVN0b3JlIGtlZXBzIGFuXG4gICAgICAgICAgICAgICAgLy8gaW4tbWVtb3J5IHZpZXcgb2YgdGhlIGN1cnJlbnRseSBhY3RpdmUgdGFyZ2V0cyB3aGljaCBpbmNsdWRlcyB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgIC8vIHJlc3VtZSB0b2tlbiwgc28gc3RyZWFtIGZhaWx1cmUgb3IgdXNlciBjaGFuZ2VzIHdpbGwgc3RpbGwgdXNlIGFuXG4gICAgICAgICAgICAgICAgLy8gdXAtdG8tZGF0ZSByZXN1bWUgdG9rZW4gcmVnYXJkbGVzcyBvZiB3aGF0IHdlIGRvIGhlcmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmFkZGVkRG9jdW1lbnRzLnNpemUgKyBuLm1vZGlmaWVkRG9jdW1lbnRzLnNpemUgKyBuLnJlbW92ZWREb2N1bWVudHMuc2l6ZSA+IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAqIE5vdGlmaWVzIGxvY2FsIHN0b3JlIG9mIHRoZSBjaGFuZ2VkIHZpZXdzIHRvIGxvY2FsbHkgcGluIGRvY3VtZW50cy5cbiAqLyAoYSwgdSwgcykgJiYgby5wdXNoKG4uUXIudXBkYXRlVGFyZ2V0RGF0YShlLCB1KSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgbGV0IF8gPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCksIGEgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgLy8gSEFDSzogVGhlIG9ubHkgcmVhc29uIHdlIGFsbG93IGEgbnVsbCBzbmFwc2hvdCB2ZXJzaW9uIGlzIHNvIHRoYXQgd2VcbiAgICAgICAgLy8gY2FuIHN5bnRoZXNpemUgcmVtb3RlIGV2ZW50cyB3aGVuIHdlIGdldCBwZXJtaXNzaW9uIGRlbmllZCBlcnJvcnMgd2hpbGVcbiAgICAgICAgLy8gdHJ5aW5nIHRvIHJlc29sdmUgdGhlIHN0YXRlIG9mIGEgbG9jYWxseSBjYWNoZWQgZG9jdW1lbnQgdGhhdCBpcyBpblxuICAgICAgICAvLyBsaW1iby5cbiAgICAgICAgaWYgKHQuZG9jdW1lbnRVcGRhdGVzLmZvckVhY2goKHIgPT4ge1xuICAgICAgICAgICAgdC5yZXNvbHZlZExpbWJvRG9jdW1lbnRzLmhhcyhyKSAmJiBvLnB1c2gobi5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS51cGRhdGVMaW1ib0RvY3VtZW50KGUsIHIpKTtcbiAgICAgICAgfSkpLCBcbiAgICAgICAgLy8gRWFjaCBsb29wIGl0ZXJhdGlvbiBvbmx5IGFmZmVjdHMgaXRzIFwib3duXCIgZG9jLCBzbyBpdCdzIHNhZmUgdG8gZ2V0IGFsbFxuICAgICAgICAvLyB0aGUgcmVtb3RlIGRvY3VtZW50cyBpbiBhZHZhbmNlIGluIGEgc2luZ2xlIGNhbGwuXG4gICAgICAgIG8ucHVzaChfX1BSSVZBVEVfcG9wdWxhdGVEb2N1bWVudENoYW5nZUJ1ZmZlcihlLCBzLCB0LmRvY3VtZW50VXBkYXRlcykubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBfID0gZS5jcywgYSA9IGUubHM7XG4gICAgICAgIH0pKSksICFyLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IG4uUXIuZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihlKS5uZXh0KCh0ID0+IG4uUXIuc2V0VGFyZ2V0c01ldGFkYXRhKGUsIGUuY3VycmVudFNlcXVlbmNlTnVtYmVyLCByKSkpO1xuICAgICAgICAgICAgby5wdXNoKHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihvKS5uZXh0KCgoKSA9PiBzLmFwcGx5KGUpKSkubmV4dCgoKCkgPT4gbi5sb2NhbERvY3VtZW50cy5nZXRMb2NhbFZpZXdPZkRvY3VtZW50cyhlLCBfLCBhKSkpLm5leHQoKCgpID0+IF8pKTtcbiAgICB9KSkudGhlbigoZSA9PiAobi5ucyA9IGksIGUpKSk7XG59XG5cbi8qKlxuICogUG9wdWxhdGVzIGRvY3VtZW50IGNoYW5nZSBidWZmZXIgd2l0aCBkb2N1bWVudHMgZnJvbSBiYWNrZW5kIG9yIGEgYnVuZGxlLlxuICogUmV0dXJucyB0aGUgZG9jdW1lbnQgY2hhbmdlcyByZXN1bHRpbmcgZnJvbSBhcHBseWluZyB0aG9zZSBkb2N1bWVudHMsIGFuZFxuICogYWxzbyBhIHNldCBvZiBkb2N1bWVudHMgd2hvc2UgZXhpc3RlbmNlIHN0YXRlIGFyZSBjaGFuZ2VkIGFzIGEgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSB0eG4gLSBUcmFuc2FjdGlvbiB0byB1c2UgdG8gcmVhZCBleGlzdGluZyBkb2N1bWVudHMgZnJvbSBzdG9yYWdlLlxuICogQHBhcmFtIGRvY3VtZW50QnVmZmVyIC0gRG9jdW1lbnQgYnVmZmVyIHRvIGNvbGxlY3QgdGhlIHJlc3VsdGVkIGNoYW5nZXMgdG8gYmVcbiAqICAgICAgICBhcHBsaWVkIHRvIHN0b3JhZ2UuXG4gKiBAcGFyYW0gZG9jdW1lbnRzIC0gRG9jdW1lbnRzIHRvIGJlIGFwcGxpZWQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3BvcHVsYXRlRG9jdW1lbnRDaGFuZ2VCdWZmZXIoZSwgdCwgbikge1xuICAgIGxldCByID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICByZXR1cm4gbi5mb3JFYWNoKChlID0+IHIgPSByLmFkZChlKSkpLCB0LmdldEVudHJpZXMoZSwgcikubmV4dCgoZSA9PiB7XG4gICAgICAgIGxldCByID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKCgobiwgcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbyA9IGUuZ2V0KG4pO1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgc2VlIGlmIHRoZXJlIGlzIGEgZXhpc3RlbmNlIHN0YXRlIGNoYW5nZSBmb3IgdGhpcyBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHMuaXNGb3VuZERvY3VtZW50KCkgIT09IG8uaXNGb3VuZERvY3VtZW50KCkgJiYgKGkgPSBpLmFkZChuKSksIFxuICAgICAgICAgICAgLy8gTm90ZTogVGhlIG9yZGVyIG9mIHRoZSBzdGVwcyBiZWxvdyBpcyBpbXBvcnRhbnQsIHNpbmNlIHdlIHdhbnRcbiAgICAgICAgICAgIC8vIHRvIGVuc3VyZSB0aGF0IHJlamVjdGVkIGxpbWJvIHJlc29sdXRpb25zICh3aGljaCBmYWJyaWNhdGVcbiAgICAgICAgICAgIC8vIE5vRG9jdW1lbnRzIHdpdGggU25hcHNob3RWZXJzaW9uLm1pbigpKSBuZXZlciBhZGQgZG9jdW1lbnRzIHRvXG4gICAgICAgICAgICAvLyBjYWNoZS5cbiAgICAgICAgICAgIHMuaXNOb0RvY3VtZW50KCkgJiYgcy52ZXJzaW9uLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSA/IChcbiAgICAgICAgICAgIC8vIE5vRG9jdW1lbnRzIHdpdGggU25hcHNob3RWZXJzaW9uLm1pbigpIGFyZSB1c2VkIGluIG1hbnVmYWN0dXJlZFxuICAgICAgICAgICAgLy8gZXZlbnRzLiBXZSByZW1vdmUgdGhlc2UgZG9jdW1lbnRzIGZyb20gY2FjaGUgc2luY2Ugd2UgbG9zdFxuICAgICAgICAgICAgLy8gYWNjZXNzLlxuICAgICAgICAgICAgdC5yZW1vdmVFbnRyeShuLCBzLnJlYWRUaW1lKSwgciA9IHIuaW5zZXJ0KG4sIHMpKSA6ICFvLmlzVmFsaWREb2N1bWVudCgpIHx8IHMudmVyc2lvbi5jb21wYXJlVG8oby52ZXJzaW9uKSA+IDAgfHwgMCA9PT0gcy52ZXJzaW9uLmNvbXBhcmVUbyhvLnZlcnNpb24pICYmIG8uaGFzUGVuZGluZ1dyaXRlcyA/ICh0LmFkZEVudHJ5KHMpLCBcbiAgICAgICAgICAgIHIgPSByLmluc2VydChuLCBzKSkgOiBfX1BSSVZBVEVfbG9nRGVidWcoXCJMb2NhbFN0b3JlXCIsIFwiSWdub3Jpbmcgb3V0ZGF0ZWQgd2F0Y2ggdXBkYXRlIGZvciBcIiwgbiwgXCIuIEN1cnJlbnQgdmVyc2lvbjpcIiwgby52ZXJzaW9uLCBcIiBXYXRjaCB2ZXJzaW9uOlwiLCBzLnZlcnNpb24pO1xuICAgICAgICB9KSksIHtcbiAgICAgICAgICAgIGNzOiByLFxuICAgICAgICAgICAgbHM6IGlcbiAgICAgICAgfTtcbiAgICB9KSk7XG59XG5cbi8qKlxuICogR2V0cyB0aGUgbXV0YXRpb24gYmF0Y2ggYWZ0ZXIgdGhlIHBhc3NlZCBpbiBiYXRjaElkIGluIHRoZSBtdXRhdGlvbiBxdWV1ZVxuICogb3IgbnVsbCBpZiBlbXB0eS5cbiAqIEBwYXJhbSBhZnRlckJhdGNoSWQgLSBJZiBwcm92aWRlZCwgdGhlIGJhdGNoIHRvIHNlYXJjaCBhZnRlci5cbiAqIEByZXR1cm5zIFRoZSBuZXh0IG11dGF0aW9uIG9yIG51bGwgaWYgdGhlcmUgd2Fzbid0IG9uZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXh0TXV0YXRpb25CYXRjaChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbmV4dCBtdXRhdGlvbiBiYXRjaFwiLCBcInJlYWRvbmx5XCIsIChlID0+ICh2b2lkIDAgPT09IHQgJiYgKHQgPSAtMSksIFxuICAgIG4ubXV0YXRpb25RdWV1ZS5nZXROZXh0TXV0YXRpb25CYXRjaEFmdGVyQmF0Y2hJZChlLCB0KSkpKTtcbn1cblxuLyoqXG4gKiBSZWFkcyB0aGUgY3VycmVudCB2YWx1ZSBvZiBhIERvY3VtZW50IHdpdGggYSBnaXZlbiBrZXkgb3IgbnVsbCBpZiBub3RcbiAqIGZvdW5kIC0gdXNlZCBmb3IgdGVzdGluZy5cbiAqL1xuLyoqXG4gKiBBc3NpZ25zIHRoZSBnaXZlbiB0YXJnZXQgYW4gaW50ZXJuYWwgSUQgc28gdGhhdCBpdHMgcmVzdWx0cyBjYW4gYmUgcGlubmVkIHNvXG4gKiB0aGV5IGRvbid0IGdldCBHQydkLiBBIHRhcmdldCBtdXN0IGJlIGFsbG9jYXRlZCBpbiB0aGUgbG9jYWwgc3RvcmUgYmVmb3JlXG4gKiB0aGUgc3RvcmUgY2FuIGJlIHVzZWQgdG8gbWFuYWdlIGl0cyB2aWV3LlxuICpcbiAqIEFsbG9jYXRpbmcgYW4gYWxyZWFkeSBhbGxvY2F0ZWQgYFRhcmdldGAgd2lsbCByZXR1cm4gdGhlIGV4aXN0aW5nIGBUYXJnZXREYXRhYFxuICogZm9yIHRoYXQgYFRhcmdldGAuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQWxsb2NhdGUgdGFyZ2V0XCIsIFwicmVhZHdyaXRlXCIsIChlID0+IHtcbiAgICAgICAgbGV0IHI7XG4gICAgICAgIHJldHVybiBuLlFyLmdldFRhcmdldERhdGEoZSwgdCkubmV4dCgoaSA9PiBpID8gKFxuICAgICAgICAvLyBUaGlzIHRhcmdldCBoYXMgYmVlbiBsaXN0ZW5lZCB0byBwcmV2aW91c2x5LCBzbyByZXVzZSB0aGVcbiAgICAgICAgLy8gcHJldmlvdXMgdGFyZ2V0SUQuXG4gICAgICAgIC8vIFRPRE8obWNnKTogZnJlc2hlbiBsYXN0IGFjY2Vzc2VkIGRhdGU/XG4gICAgICAgIHIgPSBpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShyKSkgOiBuLlFyLmFsbG9jYXRlVGFyZ2V0SWQoZSkubmV4dCgoaSA9PiAociA9IG5ldyBUYXJnZXREYXRhKHQsIGksIFwiVGFyZ2V0UHVycG9zZUxpc3RlblwiIC8qIFRhcmdldFB1cnBvc2UuTGlzdGVuICovICwgZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpLCBcbiAgICAgICAgbi5Rci5hZGRUYXJnZXREYXRhKGUsIHIpLm5leHQoKCgpID0+IHIpKSkpKSkpO1xuICAgIH0pKS50aGVuKChlID0+IHtcbiAgICAgICAgLy8gSWYgTXVsdGktVGFiIGlzIGVuYWJsZWQsIHRoZSBleGlzdGluZyB0YXJnZXQgZGF0YSBtYXkgYmUgbmV3ZXIgdGhhblxuICAgICAgICAvLyB0aGUgaW4tbWVtb3J5IGRhdGFcbiAgICAgICAgY29uc3QgciA9IG4ubnMuZ2V0KGUudGFyZ2V0SWQpO1xuICAgICAgICByZXR1cm4gKG51bGwgPT09IHIgfHwgZS5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKHIuc25hcHNob3RWZXJzaW9uKSA+IDApICYmIChuLm5zID0gbi5ucy5pbnNlcnQoZS50YXJnZXRJZCwgZSksIFxuICAgICAgICBuLnJzLnNldCh0LCBlLnRhcmdldElkKSksIGU7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIFRhcmdldERhdGEgYXMgc2VlbiBieSB0aGUgTG9jYWxTdG9yZSwgaW5jbHVkaW5nIHVwZGF0ZXMgdGhhdCBtYXlcbiAqIGhhdmUgbm90IHlldCBiZWVuIHBlcnNpc3RlZCB0byB0aGUgVGFyZ2V0Q2FjaGUuXG4gKi9cbi8vIFZpc2libGUgZm9yIHRlc3RpbmcuXG4vKipcbiAqIFVucGlucyBhbGwgdGhlIGRvY3VtZW50cyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHRhcmdldC4gSWZcbiAqIGBrZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YWAgaXMgc2V0IHRvIGZhbHNlIGFuZCBFYWdlciBHQyBlbmFibGVkLCB0aGUgbWV0aG9kXG4gKiBkaXJlY3RseSByZW1vdmVzIHRoZSBhc3NvY2lhdGVkIHRhcmdldCBkYXRhIGZyb20gdGhlIHRhcmdldCBjYWNoZS5cbiAqXG4gKiBSZWxlYXNpbmcgYSBub24tZXhpc3RpbmcgYFRhcmdldGAgaXMgYSBuby1vcC5cbiAqL1xuLy8gUE9SVElORyBOT1RFOiBga2VlcFBlcnNpc3RlZFRhcmdldERhdGFgIGlzIG11bHRpLXRhYiBvbmx5LlxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgaSA9IHIubnMuZ2V0KHQpLCBzID0gbiA/IFwicmVhZHdyaXRlXCIgOiBcInJlYWR3cml0ZS1wcmltYXJ5XCI7XG4gICAgdHJ5IHtcbiAgICAgICAgbiB8fCBhd2FpdCByLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiUmVsZWFzZSB0YXJnZXRcIiwgcywgKGUgPT4gci5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5yZW1vdmVUYXJnZXQoZSwgaSkpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmICghX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcihlKSkgdGhyb3cgZTtcbiAgICAgICAgLy8gQWxsIGByZWxlYXNlVGFyZ2V0YCBkb2VzIGlzIHJlY29yZCB0aGUgZmluYWwgbWV0YWRhdGEgc3RhdGUgZm9yIHRoZVxuICAgICAgICAvLyB0YXJnZXQsIGJ1dCB3ZSd2ZSBiZWVuIHJlY29yZGluZyB0aGlzIHBlcmlvZGljYWxseSBkdXJpbmcgdGFyZ2V0XG4gICAgICAgIC8vIGFjdGl2aXR5LiBJZiB3ZSBsb3NlIHRoaXMgd3JpdGUgdGhpcyBjb3VsZCBjYXVzZSBhIHZlcnkgc2xpZ2h0XG4gICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIG9yZGVyIG9mIHRhcmdldCBkZWxldGlvbiBkdXJpbmcgR0MsIGJ1dCB3ZVxuICAgICAgICAvLyBkb24ndCBkZWZpbmUgZXhhY3QgTFJVIHNlbWFudGljcyBzbyB0aGlzIGlzIGFjY2VwdGFibGUuXG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxvY2FsU3RvcmVcIiwgYEZhaWxlZCB0byB1cGRhdGUgc2VxdWVuY2UgbnVtYmVycyBmb3IgdGFyZ2V0ICR7dH06ICR7ZX1gKTtcbiAgICB9XG4gICAgci5ucyA9IHIubnMucmVtb3ZlKHQpLCByLnJzLmRlbGV0ZShpLnRhcmdldCk7XG59XG5cbi8qKlxuICogUnVucyB0aGUgc3BlY2lmaWVkIHF1ZXJ5IGFnYWluc3QgdGhlIGxvY2FsIHN0b3JlIGFuZCByZXR1cm5zIHRoZSByZXN1bHRzLFxuICogcG90ZW50aWFsbHkgdGFraW5nIGFkdmFudGFnZSBvZiBxdWVyeSBkYXRhIGZyb20gcHJldmlvdXMgZXhlY3V0aW9ucyAoc3VjaFxuICogYXMgdGhlIHNldCBvZiByZW1vdGUga2V5cykuXG4gKlxuICogQHBhcmFtIHVzZVByZXZpb3VzUmVzdWx0cyAtIFdoZXRoZXIgcmVzdWx0cyBmcm9tIHByZXZpb3VzIGV4ZWN1dGlvbnMgY2FuXG4gKiBiZSB1c2VkIHRvIG9wdGltaXplIHRoaXMgcXVlcnkgZXhlY3V0aW9uLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlRXhlY3V0ZVF1ZXJ5KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgaSA9IFNuYXBzaG90VmVyc2lvbi5taW4oKSwgcyA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgIHJldHVybiByLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiRXhlY3V0ZSBxdWVyeVwiLCBcInJlYWR3cml0ZVwiLCAoLy8gVXNlIHJlYWR3cml0ZSBpbnN0ZWFkIG9mIHJlYWRvbmx5IHNvIGluZGV4ZXMgY2FuIGJlIGNyZWF0ZWRcbiAgICAvLyBVc2UgcmVhZHdyaXRlIGluc3RlYWQgb2YgcmVhZG9ubHkgc28gaW5kZXhlcyBjYW4gYmUgY3JlYXRlZFxuICAgIGUgPT4gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXRUYXJnZXREYXRhKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIGkgPSByLnJzLmdldChuKTtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gaSA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHIubnMuZ2V0KGkpKSA6IHIuUXIuZ2V0VGFyZ2V0RGF0YSh0LCBuKTtcbiAgICB9KHIsIGUsIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KHQpKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgaWYgKHQpIHJldHVybiBpID0gdC5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLCByLlFyLmdldE1hdGNoaW5nS2V5c0ZvclRhcmdldElkKGUsIHQudGFyZ2V0SWQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgcyA9IGU7XG4gICAgICAgIH0pKTtcbiAgICB9KSkubmV4dCgoKCkgPT4gci50cy5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsIHQsIG4gPyBpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBuID8gcyA6IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpKSkpLm5leHQoKGUgPT4gKF9fUFJJVkFURV9zZXRNYXhSZWFkVGltZShyLCBfX1BSSVZBVEVfcXVlcnlDb2xsZWN0aW9uR3JvdXAodCksIGUpLCBcbiAgICB7XG4gICAgICAgIGRvY3VtZW50czogZSxcbiAgICAgICAgaHM6IHNcbiAgICB9KSkpKSk7XG59XG5cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldENhY2hlZFRhcmdldChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KG4uUXIpLCBpID0gbi5ucy5nZXQodCk7XG4gICAgcmV0dXJuIGkgPyBQcm9taXNlLnJlc29sdmUoaS50YXJnZXQpIDogbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCB0YXJnZXQgZGF0YVwiLCBcInJlYWRvbmx5XCIsIChlID0+IHIub3QoZSwgdCkubmV4dCgoZSA9PiBlID8gZS50YXJnZXQgOiBudWxsKSkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzZXQgb2YgZG9jdW1lbnRzIHRoYXQgaGF2ZSBiZWVuIHVwZGF0ZWQgc2luY2UgdGhlIGxhc3QgY2FsbC5cbiAqIElmIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIHJldHVybnMgdGhlIHNldCBvZiBjaGFuZ2VzIHNpbmNlIGNsaWVudFxuICogaW5pdGlhbGl6YXRpb24uIEZ1cnRoZXIgaW52b2NhdGlvbnMgd2lsbCByZXR1cm4gZG9jdW1lbnQgdGhhdCBoYXZlIGNoYW5nZWRcbiAqIHNpbmNlIHRoZSBwcmlvciBjYWxsLlxuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXdEb2N1bWVudENoYW5nZXMoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gbi5zcy5nZXQodCkgfHwgU25hcHNob3RWZXJzaW9uLm1pbigpO1xuICAgIC8vIEdldCB0aGUgY3VycmVudCBtYXhpbXVtIHJlYWQgdGltZSBmb3IgdGhlIGNvbGxlY3Rpb24uIFRoaXMgc2hvdWxkIGFsd2F5c1xuICAgIC8vIGV4aXN0LCBidXQgdG8gcmVkdWNlIHRoZSBjaGFuY2UgZm9yIHJlZ3Jlc3Npb25zIHdlIGRlZmF1bHQgdG9cbiAgICAvLyBTbmFwc2hvdFZlcnNpb24uTWluKClcbiAgICAvLyBUT0RPKGluZGV4aW5nKTogQ29uc2lkZXIgcmVtb3ZpbmcgdGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IG5ldyBkb2N1bWVudCBjaGFuZ2VzXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gbi5vcy5nZXRBbGxGcm9tQ29sbGVjdGlvbkdyb3VwKGUsIHQsIF9fUFJJVkFURV9uZXdJbmRleE9mZnNldFN1Y2Nlc3NvckZyb21SZWFkVGltZShyLCAtMSksIFxuICAgIC8qIGxpbWl0PSAqLyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikpKS50aGVuKChlID0+IChfX1BSSVZBVEVfc2V0TWF4UmVhZFRpbWUobiwgdCwgZSksIFxuICAgIGUpKSk7XG59XG5cbi8qKiBTZXRzIHRoZSBjb2xsZWN0aW9uIGdyb3VwJ3MgbWF4aW11bSByZWFkIHRpbWUgZnJvbSB0aGUgZ2l2ZW4gZG9jdW1lbnRzLiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zZXRNYXhSZWFkVGltZShlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSBlLnNzLmdldCh0KSB8fCBTbmFwc2hvdFZlcnNpb24ubWluKCk7XG4gICAgbi5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICB0LnJlYWRUaW1lLmNvbXBhcmVUbyhyKSA+IDAgJiYgKHIgPSB0LnJlYWRUaW1lKTtcbiAgICB9KSksIGUuc3Muc2V0KHQsIHIpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IHVzaW5nIHRoZSBnaXZlbiBidW5kbGUgbmFtZSwgd2hpY2ggd2lsbCBiZSB1c2VkIHRvXG4gKiBob2xkIHRoZSBrZXlzIG9mIGFsbCBkb2N1bWVudHMgZnJvbSB0aGUgYnVuZGxlIGluIHF1ZXJ5LWRvY3VtZW50IG1hcHBpbmdzLlxuICogVGhpcyBlbnN1cmVzIHRoYXQgdGhlIGxvYWRlZCBkb2N1bWVudHMgZG8gbm90IGdldCBnYXJiYWdlIGNvbGxlY3RlZFxuICogcmlnaHQgYXdheS5cbiAqL1xuLyoqXG4gKiBBcHBsaWVzIHRoZSBkb2N1bWVudHMgZnJvbSBhIGJ1bmRsZSB0byB0aGUgXCJncm91bmQtc3RhdGVcIiAocmVtb3RlKVxuICogZG9jdW1lbnRzLlxuICpcbiAqIExvY2FsRG9jdW1lbnRzIGFyZSByZS1jYWxjdWxhdGVkIGlmIHRoZXJlIGFyZSByZW1haW5pbmcgbXV0YXRpb25zIGluIHRoZVxuICogcXVldWUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQXBwbHlCdW5kbGVkRG9jdW1lbnRzKGUsIHQsIG4sIHIpIHtcbiAgICBjb25zdCBpID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgcyA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCBvID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgIGZvciAoY29uc3QgZSBvZiBuKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LlBzKGUubWV0YWRhdGEubmFtZSk7XG4gICAgICAgIGUuZG9jdW1lbnQgJiYgKHMgPSBzLmFkZChuKSk7XG4gICAgICAgIGNvbnN0IHIgPSB0LklzKGUpO1xuICAgICAgICByLnNldFJlYWRUaW1lKHQuVHMoZS5tZXRhZGF0YS5yZWFkVGltZSkpLCBvID0gby5pbnNlcnQobiwgcik7XG4gICAgfVxuICAgIGNvbnN0IF8gPSBpLm9zLm5ld0NoYW5nZUJ1ZmZlcih7XG4gICAgICAgIHRyYWNrUmVtb3ZhbHM6ICEwXG4gICAgfSksIGEgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFsbG9jYXRlVGFyZ2V0KGksIGZ1bmN0aW9uIF9fUFJJVkFURV91bWJyZWxsYVRhcmdldChlKSB7XG4gICAgICAgIC8vIEl0IGlzIE9LIHRoYXQgdGhlIHBhdGggdXNlZCBmb3IgdGhlIHF1ZXJ5IGlzIG5vdCB2YWxpZCwgYmVjYXVzZSB0aGlzIHdpbGxcbiAgICAgICAgLy8gbm90IGJlIHJlYWQgYW5kIHF1ZXJpZWQuXG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChfX1BSSVZBVEVfbmV3UXVlcnlGb3JQYXRoKFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKGBfX2J1bmRsZV9fL2RvY3MvJHtlfWApKSk7XG4gICAgfShyKSk7XG4gICAgLy8gQWxsb2NhdGVzIGEgdGFyZ2V0IHRvIGhvbGQgYWxsIGRvY3VtZW50IGtleXMgZnJvbSB0aGUgYnVuZGxlLCBzdWNoIHRoYXRcbiAgICAvLyB0aGV5IHdpbGwgbm90IGdldCBnYXJiYWdlIGNvbGxlY3RlZCByaWdodCBhd2F5LlxuICAgICAgICByZXR1cm4gaS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkFwcGx5IGJ1bmRsZSBkb2N1bWVudHNcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gX19QUklWQVRFX3BvcHVsYXRlRG9jdW1lbnRDaGFuZ2VCdWZmZXIoZSwgXywgbykubmV4dCgodCA9PiAoXy5hcHBseShlKSwgXG4gICAgdCkpKS5uZXh0KCh0ID0+IGkuUXIucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgYS50YXJnZXRJZCkubmV4dCgoKCkgPT4gaS5Rci5hZGRNYXRjaGluZ0tleXMoZSwgcywgYS50YXJnZXRJZCkpKS5uZXh0KCgoKSA9PiBpLmxvY2FsRG9jdW1lbnRzLmdldExvY2FsVmlld09mRG9jdW1lbnRzKGUsIHQuY3MsIHQubHMpKSkubmV4dCgoKCkgPT4gdC5jcykpKSkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBvZiBhIGJvb2xlYW4gdG8gaW5kaWNhdGUgaWYgdGhlIGdpdmVuIGJ1bmRsZSBoYXMgYWxyZWFkeVxuICogYmVlbiBsb2FkZWQgYW5kIHRoZSBjcmVhdGUgdGltZSBpcyBuZXdlciB0aGFuIHRoZSBjdXJyZW50IGxvYWRpbmcgYnVuZGxlLlxuICovXG4vKipcbiAqIFNhdmVzIHRoZSBnaXZlbiBgTmFtZWRRdWVyeWAgdG8gbG9jYWwgcGVyc2lzdGVuY2UuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlU2F2ZU5hbWVkUXVlcnkoZSwgdCwgbiA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpKSB7XG4gICAgLy8gQWxsb2NhdGUgYSB0YXJnZXQgZm9yIHRoZSBuYW1lZCBxdWVyeSBzdWNoIHRoYXQgaXQgY2FuIGJlIHJlc3VtZWRcbiAgICAvLyBmcm9tIGFzc29jaWF0ZWQgcmVhZCB0aW1lIGlmIHVzZXJzIHVzZSBpdCB0byBsaXN0ZW4uXG4gICAgLy8gTk9URTogdGhpcyBhbHNvIG1lYW5zIGlmIG5vIGNvcnJlc3BvbmRpbmcgdGFyZ2V0IGV4aXN0cywgdGhlIG5ldyB0YXJnZXRcbiAgICAvLyB3aWxsIHJlbWFpbiBhY3RpdmUgYW5kIHdpbGwgbm90IGdldCBjb2xsZWN0ZWQsIHVubGVzcyB1c2VycyBoYXBwZW4gdG9cbiAgICAvLyB1bmxpc3RlbiB0aGUgcXVlcnkgc29tZWhvdy5cbiAgICBjb25zdCByID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBbGxvY2F0ZVRhcmdldChlLCBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChfX1BSSVZBVEVfZnJvbUJ1bmRsZWRRdWVyeSh0LmJ1bmRsZWRRdWVyeSkpKSwgaSA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIGkucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJTYXZlIG5hbWVkIHF1ZXJ5XCIsIFwicmVhZHdyaXRlXCIsIChlID0+IHtcbiAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LnJlYWRUaW1lKTtcbiAgICAgICAgLy8gU2ltcGx5IHNhdmUgdGhlIHF1ZXJ5IGl0c2VsZiBpZiBpdCBpcyBvbGRlciB0aGFuIHdoYXQgdGhlIFNESyBhbHJlYWR5XG4gICAgICAgIC8vIGhhcy5cbiAgICAgICAgICAgICAgICBpZiAoci5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKHMpID49IDApIHJldHVybiBpLiRyLnNhdmVOYW1lZFF1ZXJ5KGUsIHQpO1xuICAgICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgdGFyZ2V0IGRhdGEgYmVjYXVzZSB0aGUgcXVlcnkgZnJvbSB0aGUgYnVuZGxlIGlzIG5ld2VyLlxuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSByLndpdGhSZXN1bWVUb2tlbihCeXRlU3RyaW5nLkVNUFRZX0JZVEVfU1RSSU5HLCBzKTtcbiAgICAgICAgcmV0dXJuIGkubnMgPSBpLm5zLmluc2VydChvLnRhcmdldElkLCBvKSwgaS5Rci51cGRhdGVUYXJnZXREYXRhKGUsIG8pLm5leHQoKCgpID0+IGkuUXIucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgci50YXJnZXRJZCkpKS5uZXh0KCgoKSA9PiBpLlFyLmFkZE1hdGNoaW5nS2V5cyhlLCBuLCByLnRhcmdldElkKSkpLm5leHQoKCgpID0+IGkuJHIuc2F2ZU5hbWVkUXVlcnkoZSwgdCkpKTtcbiAgICB9KSk7XG59XG5cbi8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgYSBjbGllbnQgc3RhdGUgaW4gV2ViU3RvcmFnZSAqL1xuZnVuY3Rpb24gY3JlYXRlV2ViU3RvcmFnZUNsaWVudFN0YXRlS2V5KGUsIHQpIHtcbiAgICByZXR1cm4gYGZpcmVzdG9yZV9jbGllbnRzXyR7ZX1fJHt0fWA7XG59XG5cbi8vIFRoZSBmb3JtYXQgb2YgdGhlIFdlYlN0b3JhZ2Uga2V5IHRoYXQgc3RvcmVzIHRoZSBtdXRhdGlvbiBzdGF0ZSBpczpcbi8vICAgICBmaXJlc3RvcmVfbXV0YXRpb25zXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxiYXRjaF9pZD5cbi8vICAgICAoZm9yIHVuYXV0aGVudGljYXRlZCB1c2Vycylcbi8vIG9yOiBmaXJlc3RvcmVfbXV0YXRpb25zXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxiYXRjaF9pZD5fPHVzZXJfdWlkPlxuXG4vLyAndXNlcl91aWQnIGlzIGxhc3QgdG8gYXZvaWQgbmVlZGluZyB0byBlc2NhcGUgJ18nIGNoYXJhY3RlcnMgdGhhdCBpdCBtaWdodFxuLy8gY29udGFpbi5cbi8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgYSBtdXRhdGlvbiBiYXRjaCBpbiBXZWJTdG9yYWdlICovXG5mdW5jdGlvbiBjcmVhdGVXZWJTdG9yYWdlTXV0YXRpb25CYXRjaEtleShlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSBgZmlyZXN0b3JlX211dGF0aW9uc18ke2V9XyR7bn1gO1xuICAgIHJldHVybiB0LmlzQXV0aGVudGljYXRlZCgpICYmIChyICs9IGBfJHt0LnVpZH1gKSwgcjtcbn1cblxuLy8gVGhlIGZvcm1hdCBvZiB0aGUgV2ViU3RvcmFnZSBrZXkgdGhhdCBzdG9yZXMgYSBxdWVyeSB0YXJnZXQncyBtZXRhZGF0YSBpczpcbi8vICAgICBmaXJlc3RvcmVfdGFyZ2V0c188cGVyc2lzdGVuY2VfcHJlZml4Pl88dGFyZ2V0X2lkPlxuLyoqIEFzc2VtYmxlcyB0aGUga2V5IGZvciBhIHF1ZXJ5IHN0YXRlIGluIFdlYlN0b3JhZ2UgKi9cbmZ1bmN0aW9uIGNyZWF0ZVdlYlN0b3JhZ2VRdWVyeVRhcmdldE1ldGFkYXRhS2V5KGUsIHQpIHtcbiAgICByZXR1cm4gYGZpcmVzdG9yZV90YXJnZXRzXyR7ZX1fJHt0fWA7XG59XG5cbi8vIFRoZSBXZWJTdG9yYWdlIHByZWZpeCB0aGF0IHN0b3JlcyB0aGUgcHJpbWFyeSB0YWIncyBvbmxpbmUgc3RhdGUuIFRoZVxuLy8gZm9ybWF0IG9mIHRoZSBrZXkgaXM6XG4vLyAgICAgZmlyZXN0b3JlX29ubGluZV9zdGF0ZV88cGVyc2lzdGVuY2VfcHJlZml4PlxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgYSBtdXRhdGlvbiBiYXRjaCwgaW5jbHVkaW5nIGl0cyB1c2VyIElELCBiYXRjaCBJRCBhbmRcbiAqIHdoZXRoZXIgdGhlIGJhdGNoIGlzICdwZW5kaW5nJywgJ2Fja25vd2xlZGdlZCcgb3IgJ3JlamVjdGVkJy5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY2xhc3MgX19QUklWQVRFX011dGF0aW9uTWV0YWRhdGEge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgdGhpcy51c2VyID0gZSwgdGhpcy5iYXRjaElkID0gdCwgdGhpcy5zdGF0ZSA9IG4sIHRoaXMuZXJyb3IgPSByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBNdXRhdGlvbk1ldGFkYXRhIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gaW4gV2ViU3RvcmFnZS5cbiAgICAgKiBMb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBudWxsIGlmIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGEgaXMgbm90IHZhbGlkLlxuICAgICAqLyAgICBzdGF0aWMgRXMoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gSlNPTi5wYXJzZShuKTtcbiAgICAgICAgbGV0IGksIHMgPSBcIm9iamVjdFwiID09IHR5cGVvZiByICYmIC0xICE9PSBbIFwicGVuZGluZ1wiLCBcImFja25vd2xlZGdlZFwiLCBcInJlamVjdGVkXCIgXS5pbmRleE9mKHIuc3RhdGUpICYmICh2b2lkIDAgPT09IHIuZXJyb3IgfHwgXCJvYmplY3RcIiA9PSB0eXBlb2Ygci5lcnJvcik7XG4gICAgICAgIHJldHVybiBzICYmIHIuZXJyb3IgJiYgKHMgPSBcInN0cmluZ1wiID09IHR5cGVvZiByLmVycm9yLm1lc3NhZ2UgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5lcnJvci5jb2RlLCBcbiAgICAgICAgcyAmJiAoaSA9IG5ldyBGaXJlc3RvcmVFcnJvcihyLmVycm9yLmNvZGUsIHIuZXJyb3IubWVzc2FnZSkpKSwgcyA/IG5ldyBfX1BSSVZBVEVfTXV0YXRpb25NZXRhZGF0YShlLCB0LCByLnN0YXRlLCBpKSA6IChfX1BSSVZBVEVfbG9nRXJyb3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIG11dGF0aW9uIHN0YXRlIGZvciBJRCAnJHt0fSc6ICR7bn1gKSwgXG4gICAgICAgIG51bGwpO1xuICAgIH1cbiAgICBkcygpIHtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yICYmIChlLmVycm9yID0ge1xuICAgICAgICAgICAgY29kZTogdGhpcy5lcnJvci5jb2RlLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5lcnJvci5tZXNzYWdlXG4gICAgICAgIH0pLCBKU09OLnN0cmluZ2lmeShlKTtcbiAgICB9XG59XG5cbi8qKlxuICogSG9sZHMgdGhlIHN0YXRlIG9mIGEgcXVlcnkgdGFyZ2V0LCBpbmNsdWRpbmcgaXRzIHRhcmdldCBJRCBhbmQgd2hldGhlciB0aGVcbiAqIHRhcmdldCBpcyAnbm90LWN1cnJlbnQnLCAnY3VycmVudCcgb3IgJ3JlamVjdGVkJy5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZ1xuY2xhc3MgX19QUklWQVRFX1F1ZXJ5VGFyZ2V0TWV0YWRhdGEge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy50YXJnZXRJZCA9IGUsIHRoaXMuc3RhdGUgPSB0LCB0aGlzLmVycm9yID0gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgUXVlcnlUYXJnZXRNZXRhZGF0YSBmcm9tIGl0cyBKU09OIHJlcHJlc2VudGF0aW9uIGluIFdlYlN0b3JhZ2UuXG4gICAgICogTG9ncyBhIHdhcm5pbmcgYW5kIHJldHVybnMgbnVsbCBpZiB0aGUgZm9ybWF0IG9mIHRoZSBkYXRhIGlzIG5vdCB2YWxpZC5cbiAgICAgKi8gICAgc3RhdGljIEVzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IEpTT04ucGFyc2UodCk7XG4gICAgICAgIGxldCByLCBpID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgbiAmJiAtMSAhPT0gWyBcIm5vdC1jdXJyZW50XCIsIFwiY3VycmVudFwiLCBcInJlamVjdGVkXCIgXS5pbmRleE9mKG4uc3RhdGUpICYmICh2b2lkIDAgPT09IG4uZXJyb3IgfHwgXCJvYmplY3RcIiA9PSB0eXBlb2Ygbi5lcnJvcik7XG4gICAgICAgIHJldHVybiBpICYmIG4uZXJyb3IgJiYgKGkgPSBcInN0cmluZ1wiID09IHR5cGVvZiBuLmVycm9yLm1lc3NhZ2UgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2Ygbi5lcnJvci5jb2RlLCBcbiAgICAgICAgaSAmJiAociA9IG5ldyBGaXJlc3RvcmVFcnJvcihuLmVycm9yLmNvZGUsIG4uZXJyb3IubWVzc2FnZSkpKSwgaSA/IG5ldyBfX1BSSVZBVEVfUXVlcnlUYXJnZXRNZXRhZGF0YShlLCBuLnN0YXRlLCByKSA6IChfX1BSSVZBVEVfbG9nRXJyb3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIHRhcmdldCBzdGF0ZSBmb3IgSUQgJyR7ZX0nOiAke3R9YCksIFxuICAgICAgICBudWxsKTtcbiAgICB9XG4gICAgZHMoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB7XG4gICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHVwZGF0ZVRpbWVNczogRGF0ZS5ub3coKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvciAmJiAoZS5lcnJvciA9IHtcbiAgICAgICAgICAgIGNvZGU6IHRoaXMuZXJyb3IuY29kZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IHRoaXMuZXJyb3IubWVzc2FnZVxuICAgICAgICB9KSwgSlNPTi5zdHJpbmdpZnkoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyB0aGUgaW1tdXRhYmxlIENsaWVudFN0YXRlIGZvciBhIGNsaWVudCByZWFkIGZyb21cbiAqIFdlYlN0b3JhZ2UsIGNvbnRhaW5pbmcgdGhlIGxpc3Qgb2YgYWN0aXZlIHF1ZXJ5IHRhcmdldHMuXG4gKi8gY2xhc3MgX19QUklWQVRFX1JlbW90ZUNsaWVudFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBlLCB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIFJlbW90ZUNsaWVudFN0YXRlIGZyb20gdGhlIEpTT04gcmVwcmVzZW50YXRpb24gaW4gV2ViU3RvcmFnZS5cbiAgICAgKiBMb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBudWxsIGlmIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGEgaXMgbm90IHZhbGlkLlxuICAgICAqLyAgICBzdGF0aWMgRXMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gSlNPTi5wYXJzZSh0KTtcbiAgICAgICAgbGV0IHIgPSBcIm9iamVjdFwiID09IHR5cGVvZiBuICYmIG4uYWN0aXZlVGFyZ2V0SWRzIGluc3RhbmNlb2YgQXJyYXksIGkgPSBfX1BSSVZBVEVfdGFyZ2V0SWRTZXQoKTtcbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IHIgJiYgZSA8IG4uYWN0aXZlVGFyZ2V0SWRzLmxlbmd0aDsgKytlKSByID0gaXNTYWZlSW50ZWdlcihuLmFjdGl2ZVRhcmdldElkc1tlXSksIFxuICAgICAgICBpID0gaS5hZGQobi5hY3RpdmVUYXJnZXRJZHNbZV0pO1xuICAgICAgICByZXR1cm4gciA/IG5ldyBfX1BSSVZBVEVfUmVtb3RlQ2xpZW50U3RhdGUoZSwgaSkgOiAoX19QUklWQVRFX2xvZ0Vycm9yKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgYEZhaWxlZCB0byBwYXJzZSBjbGllbnQgZGF0YSBmb3IgaW5zdGFuY2UgJyR7ZX0nOiAke3R9YCksIFxuICAgICAgICBudWxsKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIHRoZSBvbmxpbmUgc3RhdGUgZm9yIGFsbCBjbGllbnRzIHBhcnRpY2lwYXRpbmcgaW5cbiAqIG11bHRpLXRhYi4gVGhlIG9ubGluZSBzdGF0ZSBpcyBvbmx5IHdyaXR0ZW4gdG8gYnkgdGhlIHByaW1hcnkgY2xpZW50LCBhbmRcbiAqIHVzZWQgaW4gc2Vjb25kYXJ5IGNsaWVudHMgdG8gdXBkYXRlIHRoZWlyIHF1ZXJ5IHZpZXdzLlxuICovIGNsYXNzIF9fUFJJVkFURV9TaGFyZWRPbmxpbmVTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmNsaWVudElkID0gZSwgdGhpcy5vbmxpbmVTdGF0ZSA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIFNoYXJlZE9ubGluZVN0YXRlIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gaW4gV2ViU3RvcmFnZS5cbiAgICAgKiBMb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBudWxsIGlmIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGEgaXMgbm90IHZhbGlkLlxuICAgICAqLyAgICBzdGF0aWMgRXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gSlNPTi5wYXJzZShlKTtcbiAgICAgICAgcmV0dXJuIFwib2JqZWN0XCIgPT0gdHlwZW9mIHQgJiYgLTEgIT09IFsgXCJVbmtub3duXCIsIFwiT25saW5lXCIsIFwiT2ZmbGluZVwiIF0uaW5kZXhPZih0Lm9ubGluZVN0YXRlKSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiB0LmNsaWVudElkID8gbmV3IF9fUFJJVkFURV9TaGFyZWRPbmxpbmVTdGF0ZSh0LmNsaWVudElkLCB0Lm9ubGluZVN0YXRlKSA6IChfX1BSSVZBVEVfbG9nRXJyb3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIG9ubGluZSBzdGF0ZTogJHtlfWApLCBcbiAgICAgICAgbnVsbCk7XG4gICAgfVxufVxuXG4vKipcbiAqIE1ldGFkYXRhIHN0YXRlIG9mIHRoZSBsb2NhbCBjbGllbnQuIFVubGlrZSBgUmVtb3RlQ2xpZW50U3RhdGVgLCB0aGlzIGNsYXNzIGlzXG4gKiBtdXRhYmxlIGFuZCBrZWVwcyB0cmFjayBvZiBhbGwgcGVuZGluZyBtdXRhdGlvbnMsIHdoaWNoIGFsbG93cyB1cyB0b1xuICogdXBkYXRlIHRoZSByYW5nZSBvZiBwZW5kaW5nIG11dGF0aW9uIGJhdGNoIElEcyBhcyBuZXcgbXV0YXRpb25zIGFyZSBhZGRlZCBvclxuICogcmVtb3ZlZC5cbiAqXG4gKiBUaGUgZGF0YSBpbiBgTG9jYWxDbGllbnRTdGF0ZWAgaXMgbm90IHJlYWQgZnJvbSBXZWJTdG9yYWdlIGFuZCBpbnN0ZWFkXG4gKiB1cGRhdGVkIHZpYSBpdHMgaW5zdGFuY2UgbWV0aG9kcy4gVGhlIHVwZGF0ZWQgc3RhdGUgY2FuIGJlIHNlcmlhbGl6ZWQgdmlhXG4gKiBgdG9XZWJTdG9yYWdlSlNPTigpYC5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZy5cbmNsYXNzIF9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5hY3RpdmVUYXJnZXRJZHMgPSBfX1BSSVZBVEVfdGFyZ2V0SWRTZXQoKTtcbiAgICB9XG4gICAgQXMoZSkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IHRoaXMuYWN0aXZlVGFyZ2V0SWRzLmFkZChlKTtcbiAgICB9XG4gICAgUnMoZSkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IHRoaXMuYWN0aXZlVGFyZ2V0SWRzLmRlbGV0ZShlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhpcyBlbnRyeSBpbnRvIGEgSlNPTi1lbmNvZGVkIGZvcm1hdCB3ZSBjYW4gdXNlIGZvciBXZWJTdG9yYWdlLlxuICAgICAqIERvZXMgbm90IGVuY29kZSBgY2xpZW50SWRgIGFzIGl0IGlzIHBhcnQgb2YgdGhlIGtleSBpbiBXZWJTdG9yYWdlLlxuICAgICAqLyAgICBkcygpIHtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIGFjdGl2ZVRhcmdldElkczogdGhpcy5hY3RpdmVUYXJnZXRJZHMudG9BcnJheSgpLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlKTtcbiAgICB9XG59XG5cbi8qKlxuICogYFdlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZWAgdXNlcyBXZWJTdG9yYWdlICh3aW5kb3cubG9jYWxTdG9yYWdlKSBhcyB0aGVcbiAqIGJhY2tpbmcgc3RvcmUgZm9yIHRoZSBTaGFyZWRDbGllbnRTdGF0ZS4gSXQga2VlcHMgdHJhY2sgb2YgYWxsIGFjdGl2ZVxuICogY2xpZW50cyBhbmQgc3VwcG9ydHMgbW9kaWZpY2F0aW9ucyBvZiB0aGUgbG9jYWwgY2xpZW50J3MgZGF0YS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIHRoaXMud2luZG93ID0gZSwgdGhpcy5vaSA9IHQsIHRoaXMucGVyc2lzdGVuY2VLZXkgPSBuLCB0aGlzLlZzID0gciwgdGhpcy5zeW5jRW5naW5lID0gbnVsbCwgXG4gICAgICAgIHRoaXMub25saW5lU3RhdGVIYW5kbGVyID0gbnVsbCwgdGhpcy5zZXF1ZW5jZU51bWJlckhhbmRsZXIgPSBudWxsLCB0aGlzLmZzID0gdGhpcy5ncy5iaW5kKHRoaXMpLCBcbiAgICAgICAgdGhpcy5wcyA9IG5ldyBTb3J0ZWRNYXAoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpLCB0aGlzLnN0YXJ0ZWQgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYXB0dXJlcyBXZWJTdG9yYWdlIGV2ZW50cyB0aGF0IG9jY3VyIGJlZm9yZSBgc3RhcnQoKWAgaXMgY2FsbGVkLiBUaGVzZVxuICAgICAgICAgKiBldmVudHMgYXJlIHJlcGxheWVkIG9uY2UgYFdlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZWAgaXMgc3RhcnRlZC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueXMgPSBbXTtcbiAgICAgICAgLy8gRXNjYXBlIHRoZSBzcGVjaWFsIGNoYXJhY3RlcnMgbWVudGlvbmVkIGhlcmU6XG4gICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvR3VpZGUvUmVndWxhcl9FeHByZXNzaW9uc1xuICAgICAgICBjb25zdCBzID0gbi5yZXBsYWNlKC9bLiorP14ke30oKXxbXFxdXFxcXF0vZywgXCJcXFxcJCZcIik7XG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IHRoaXMud2luZG93LmxvY2FsU3RvcmFnZSwgdGhpcy5jdXJyZW50VXNlciA9IGksIHRoaXMud3MgPSBjcmVhdGVXZWJTdG9yYWdlQ2xpZW50U3RhdGVLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgdGhpcy5WcyksIFxuICAgICAgICB0aGlzLlNzID0gXG4gICAgICAgIC8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgdGhlIGN1cnJlbnQgc2VxdWVuY2UgbnVtYmVyLiAqL1xuICAgICAgICBmdW5jdGlvbiBjcmVhdGVXZWJTdG9yYWdlU2VxdWVuY2VOdW1iZXJLZXkoZSkge1xuICAgICAgICAgICAgcmV0dXJuIGBmaXJlc3RvcmVfc2VxdWVuY2VfbnVtYmVyXyR7ZX1gO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovICh0aGlzLnBlcnNpc3RlbmNlS2V5KSwgdGhpcy5wcyA9IHRoaXMucHMuaW5zZXJ0KHRoaXMuVnMsIG5ldyBfX1BSSVZBVEVfTG9jYWxDbGllbnRTdGF0ZSksIFxuICAgICAgICB0aGlzLmJzID0gbmV3IFJlZ0V4cChgXmZpcmVzdG9yZV9jbGllbnRzXyR7c31fKFteX10qKSRgKSwgdGhpcy5EcyA9IG5ldyBSZWdFeHAoYF5maXJlc3RvcmVfbXV0YXRpb25zXyR7c31fKFxcXFxkKykoPzpfKC4qKSk/JGApLCBcbiAgICAgICAgdGhpcy5DcyA9IG5ldyBSZWdFeHAoYF5maXJlc3RvcmVfdGFyZ2V0c18ke3N9XyhcXFxcZCspJGApLCB0aGlzLnZzID0gXG4gICAgICAgIC8qKiBBc3NlbWJsZXMgdGhlIGtleSBmb3IgdGhlIG9ubGluZSBzdGF0ZSBvZiB0aGUgcHJpbWFyeSB0YWIuICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVdlYlN0b3JhZ2VPbmxpbmVTdGF0ZUtleShlKSB7XG4gICAgICAgICAgICByZXR1cm4gYGZpcmVzdG9yZV9vbmxpbmVfc3RhdGVfJHtlfWA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIFdlYlN0b3JhZ2UgcHJlZml4IHRoYXQgcGxheXMgYXMgYSBldmVudCB0byBpbmRpY2F0ZSB0aGUgcmVtb3RlIGRvY3VtZW50c1xuICAgICAgICAvLyBtaWdodCBoYXZlIGNoYW5nZWQgZHVlIHRvIHNvbWUgc2Vjb25kYXJ5IHRhYnMgbG9hZGluZyBhIGJ1bmRsZS5cbiAgICAgICAgLy8gZm9ybWF0IG9mIHRoZSBrZXkgaXM6XG4gICAgICAgIC8vICAgICBmaXJlc3RvcmVfYnVuZGxlX2xvYWRlZF92Ml88cGVyc2lzdGVuY2VLZXk+XG4gICAgICAgIC8vIFRoZSB2ZXJzaW9uIGVuZGluZyB3aXRoIFwidjJcIiBzdG9yZXMgdGhlIGxpc3Qgb2YgbW9kaWZpZWQgY29sbGVjdGlvbiBncm91cHMuXG4gICAgICAgICh0aGlzLnBlcnNpc3RlbmNlS2V5KSwgdGhpcy5GcyA9IGZ1bmN0aW9uIGNyZWF0ZUJ1bmRsZUxvYWRlZEtleShlKSB7XG4gICAgICAgICAgICByZXR1cm4gYGZpcmVzdG9yZV9idW5kbGVfbG9hZGVkX3YyXyR7ZX1gO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBXZWJTdG9yYWdlIGtleSBwcmVmaXggZm9yIHRoZSBrZXkgdGhhdCBzdG9yZXMgdGhlIGxhc3Qgc2VxdWVuY2UgbnVtYmVyIGFsbG9jYXRlZC4gVGhlIGtleVxuICAgICAgICAvLyBsb29rcyBsaWtlICdmaXJlc3RvcmVfc2VxdWVuY2VfbnVtYmVyXzxwZXJzaXN0ZW5jZV9wcmVmaXg+Jy5cbiAgICAgICAgKHRoaXMucGVyc2lzdGVuY2VLZXkpLCBcbiAgICAgICAgLy8gUmF0aGVyIHRoYW4gYWRkaW5nIHRoZSBzdG9yYWdlIG9ic2VydmVyIGR1cmluZyBzdGFydCgpLCB3ZSBhZGQgdGhlXG4gICAgICAgIC8vIHN0b3JhZ2Ugb2JzZXJ2ZXIgZHVyaW5nIGluaXRpYWxpemF0aW9uLiBUaGlzIGVuc3VyZXMgdGhhdCB3ZSBjb2xsZWN0XG4gICAgICAgIC8vIGV2ZW50cyBiZWZvcmUgb3RoZXIgY29tcG9uZW50cyBwb3B1bGF0ZSB0aGVpciBpbml0aWFsIHN0YXRlIChkdXJpbmcgdGhlaXJcbiAgICAgICAgLy8gcmVzcGVjdGl2ZSBzdGFydCgpIGNhbGxzKS4gT3RoZXJ3aXNlLCB3ZSBtaWdodCBmb3IgZXhhbXBsZSBtaXNzIGFcbiAgICAgICAgLy8gbXV0YXRpb24gdGhhdCBpcyBhZGRlZCBhZnRlciBMb2NhbFN0b3JlJ3Mgc3RhcnQoKSBwcm9jZXNzZWQgdGhlIGV4aXN0aW5nXG4gICAgICAgIC8vIG11dGF0aW9ucyBidXQgYmVmb3JlIHdlIG9ic2VydmUgV2ViU3RvcmFnZSBldmVudHMuXG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIHRoaXMuZnMpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyAndHJ1ZScgaWYgV2ViU3RvcmFnZSBpcyBhdmFpbGFibGUgaW4gdGhlIGN1cnJlbnQgZW52aXJvbm1lbnQuICovICAgIHN0YXRpYyBEKGUpIHtcbiAgICAgICAgcmV0dXJuICEoIWUgfHwgIWUubG9jYWxTdG9yYWdlKTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIC8vIFJldHJpZXZlIHRoZSBsaXN0IG9mIGV4aXN0aW5nIGNsaWVudHMgdG8gYmFja2ZpbGwgdGhlIGRhdGEgaW5cbiAgICAgICAgLy8gU2hhcmVkQ2xpZW50U3RhdGUuXG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLnN5bmNFbmdpbmUuQmkoKTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgICAgIGlmICh0ID09PSB0aGlzLlZzKSBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLmdldEl0ZW0oY3JlYXRlV2ViU3RvcmFnZUNsaWVudFN0YXRlS2V5KHRoaXMucGVyc2lzdGVuY2VLZXksIHQpKTtcbiAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9SZW1vdGVDbGllbnRTdGF0ZS5Fcyh0LCBlKTtcbiAgICAgICAgICAgICAgICBuICYmICh0aGlzLnBzID0gdGhpcy5wcy5pbnNlcnQobi5jbGllbnRJZCwgbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuTXMoKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlcmUgaXMgYW4gZXhpc3Rpbmcgb25saW5lIHN0YXRlIGFuZCBjYWxsIHRoZSBjYWxsYmFjayBoYW5kbGVyXG4gICAgICAgIC8vIGlmIGFwcGxpY2FibGUuXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnN0b3JhZ2UuZ2V0SXRlbSh0aGlzLnZzKTtcbiAgICAgICAgaWYgKHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLnhzKHQpO1xuICAgICAgICAgICAgZSAmJiB0aGlzLk9zKGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLnlzKSB0aGlzLmdzKGUpO1xuICAgICAgICB0aGlzLnlzID0gW10sIFxuICAgICAgICAvLyBSZWdpc3RlciBhIHdpbmRvdyB1bmxvYWQgaG9vayB0byByZW1vdmUgdGhlIGNsaWVudCBtZXRhZGF0YSBlbnRyeSBmcm9tXG4gICAgICAgIC8vIFdlYlN0b3JhZ2UgZXZlbiBpZiBgc2h1dGRvd24oKWAgd2FzIG5vdCBjYWxsZWQuXG4gICAgICAgIHRoaXMud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJwYWdlaGlkZVwiLCAoKCkgPT4gdGhpcy5zaHV0ZG93bigpKSksIHRoaXMuc3RhcnRlZCA9ICEwO1xuICAgIH1cbiAgICB3cml0ZVNlcXVlbmNlTnVtYmVyKGUpIHtcbiAgICAgICAgdGhpcy5zZXRJdGVtKHRoaXMuU3MsIEpTT04uc3RyaW5naWZ5KGUpKTtcbiAgICB9XG4gICAgZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Ocyh0aGlzLnBzKTtcbiAgICB9XG4gICAgaXNBY3RpdmVRdWVyeVRhcmdldChlKSB7XG4gICAgICAgIGxldCB0ID0gITE7XG4gICAgICAgIHJldHVybiB0aGlzLnBzLmZvckVhY2goKChuLCByKSA9PiB7XG4gICAgICAgICAgICByLmFjdGl2ZVRhcmdldElkcy5oYXMoZSkgJiYgKHQgPSAhMCk7XG4gICAgICAgIH0pKSwgdDtcbiAgICB9XG4gICAgYWRkUGVuZGluZ011dGF0aW9uKGUpIHtcbiAgICAgICAgdGhpcy5McyhlLCBcInBlbmRpbmdcIik7XG4gICAgfVxuICAgIHVwZGF0ZU11dGF0aW9uU3RhdGUoZSwgdCwgbikge1xuICAgICAgICB0aGlzLkxzKGUsIHQsIG4pLCBcbiAgICAgICAgLy8gT25jZSBhIGZpbmFsIG11dGF0aW9uIHJlc3VsdCBpcyBvYnNlcnZlZCBieSBvdGhlciBjbGllbnRzLCB0aGV5IG5vIGxvbmdlclxuICAgICAgICAvLyBhY2Nlc3MgdGhlIG11dGF0aW9uJ3MgbWV0YWRhdGEgZW50cnkuIFNpbmNlIFdlYlN0b3JhZ2UgcmVwbGF5cyBldmVudHNcbiAgICAgICAgLy8gaW4gb3JkZXIsIGl0IGlzIHNhZmUgdG8gZGVsZXRlIHRoZSBlbnRyeSByaWdodCBhZnRlciB1cGRhdGluZyBpdC5cbiAgICAgICAgdGhpcy5CcyhlKTtcbiAgICB9XG4gICAgYWRkTG9jYWxRdWVyeVRhcmdldChlKSB7XG4gICAgICAgIGxldCB0ID0gXCJub3QtY3VycmVudFwiO1xuICAgICAgICAvLyBMb29rdXAgYW4gZXhpc3RpbmcgcXVlcnkgc3RhdGUgaWYgdGhlIHRhcmdldCBJRCB3YXMgYWxyZWFkeSByZWdpc3RlcmVkXG4gICAgICAgIC8vIGJ5IGFub3RoZXIgdGFiXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNBY3RpdmVRdWVyeVRhcmdldChlKSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGNyZWF0ZVdlYlN0b3JhZ2VRdWVyeVRhcmdldE1ldGFkYXRhS2V5KHRoaXMucGVyc2lzdGVuY2VLZXksIGUpKTtcbiAgICAgICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9RdWVyeVRhcmdldE1ldGFkYXRhLkVzKGUsIG4pO1xuICAgICAgICAgICAgICAgIHIgJiYgKHQgPSByLnN0YXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5rcy5BcyhlKSwgdGhpcy5NcygpLCB0O1xuICAgIH1cbiAgICByZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgdGhpcy5rcy5ScyhlKSwgdGhpcy5NcygpO1xuICAgIH1cbiAgICBpc0xvY2FsUXVlcnlUYXJnZXQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5rcy5hY3RpdmVUYXJnZXRJZHMuaGFzKGUpO1xuICAgIH1cbiAgICBjbGVhclF1ZXJ5U3RhdGUoZSkge1xuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0oY3JlYXRlV2ViU3RvcmFnZVF1ZXJ5VGFyZ2V0TWV0YWRhdGFLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgZSkpO1xuICAgIH1cbiAgICB1cGRhdGVRdWVyeVN0YXRlKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5xcyhlLCB0LCBuKTtcbiAgICB9XG4gICAgaGFuZGxlVXNlckNoYW5nZShlLCB0LCBuKSB7XG4gICAgICAgIHQuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLkJzKGUpO1xuICAgICAgICB9KSksIHRoaXMuY3VycmVudFVzZXIgPSBlLCBuLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hZGRQZW5kaW5nTXV0YXRpb24oZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2V0T25saW5lU3RhdGUoZSkge1xuICAgICAgICB0aGlzLlFzKGUpO1xuICAgIH1cbiAgICBub3RpZnlCdW5kbGVMb2FkZWQoZSkge1xuICAgICAgICB0aGlzLktzKGUpO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5zdGFydGVkICYmICh0aGlzLndpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCB0aGlzLmZzKSwgdGhpcy5yZW1vdmVJdGVtKHRoaXMud3MpLCBcbiAgICAgICAgdGhpcy5zdGFydGVkID0gITEpO1xuICAgIH1cbiAgICBnZXRJdGVtKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGUpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgXCJSRUFEXCIsIGUsIHQpLCB0O1xuICAgIH1cbiAgICBzZXRJdGVtKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgXCJTRVRcIiwgZSwgdCksIHRoaXMuc3RvcmFnZS5zZXRJdGVtKGUsIHQpO1xuICAgIH1cbiAgICByZW1vdmVJdGVtKGUpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgXCJSRU1PVkVcIiwgZSksIHRoaXMuc3RvcmFnZS5yZW1vdmVJdGVtKGUpO1xuICAgIH1cbiAgICBncyhlKSB7XG4gICAgICAgIC8vIE5vdGU6IFRoZSBmdW5jdGlvbiBpcyB0eXBlZCB0byB0YWtlIEV2ZW50IHRvIGJlIGludGVyZmFjZS1jb21wYXRpYmxlIHdpdGhcbiAgICAgICAgLy8gYFdpbmRvdy5hZGRFdmVudExpc3RlbmVyYC5cbiAgICAgICAgY29uc3QgdCA9IGU7XG4gICAgICAgIGlmICh0LnN0b3JhZ2VBcmVhID09PSB0aGlzLnN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfbG9nRGVidWcoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBcIkVWRU5UXCIsIHQua2V5LCB0Lm5ld1ZhbHVlKSwgdC5rZXkgPT09IHRoaXMud3MpIHJldHVybiB2b2lkIF9fUFJJVkFURV9sb2dFcnJvcihcIlJlY2VpdmVkIFdlYlN0b3JhZ2Ugbm90aWZpY2F0aW9uIGZvciBsb2NhbCBjaGFuZ2UuIEFub3RoZXIgY2xpZW50IG1pZ2h0IGhhdmUgZ2FyYmFnZS1jb2xsZWN0ZWQgb3VyIHN0YXRlXCIpO1xuICAgICAgICAgICAgdGhpcy5vaS5lbnF1ZXVlUmV0cnlhYmxlKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc3RhcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gdC5rZXkpIGlmICh0aGlzLmJzLnRlc3QodC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCA9PSB0Lm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuJHModC5rZXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLlVzKGUsIG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLldzKHQua2V5LCB0Lm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkgcmV0dXJuIHRoaXMuVXMoZS5jbGllbnRJZCwgZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5Ecy50ZXN0KHQua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHQubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5Hcyh0LmtleSwgdC5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHJldHVybiB0aGlzLnpzKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuQ3MudGVzdCh0LmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSB0Lm5ld1ZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuanModC5rZXksIHQubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKSByZXR1cm4gdGhpcy5IcyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0LmtleSA9PT0gdGhpcy52cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHQubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy54cyh0Lm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkgcmV0dXJuIHRoaXMuT3MoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodC5rZXkgPT09IHRoaXMuU3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVdlYlN0b3JhZ2VTZXF1ZW5jZU51bWJlcihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHQgPSBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT0gZSkgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IEpTT04ucGFyc2UoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwibnVtYmVyXCIgPT0gdHlwZW9mIG4pLCB0ID0gbjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dFcnJvcihcIlNoYXJlZENsaWVudFN0YXRlXCIsIFwiRmFpbGVkIHRvIHJlYWQgc2VxdWVuY2UgbnVtYmVyIGZyb20gV2ViU3RvcmFnZVwiLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvKipcbiAqIGBNZW1vcnlTaGFyZWRDbGllbnRTdGF0ZWAgaXMgYSBzaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgU2hhcmVkQ2xpZW50U3RhdGUgZm9yXG4gKiBjbGllbnRzIHVzaW5nIG1lbW9yeSBwZXJzaXN0ZW5jZS4gVGhlIHN0YXRlIGluIHRoaXMgY2xhc3MgcmVtYWlucyBmdWxseVxuICogaXNvbGF0ZWQgYW5kIG5vIHN5bmNocm9uaXphdGlvbiBpcyBwZXJmb3JtZWQuXG4gKi8gKHQubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZSAhPT0gX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lICYmIHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyKGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQua2V5ID09PSB0aGlzLkZzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5Kcyh0Lm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFByb21pc2UuYWxsKGUubWFwKChlID0+IHRoaXMuc3luY0VuZ2luZS5ZcyhlKSkpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB0aGlzLnlzLnB1c2godCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGtzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcy5nZXQodGhpcy5Wcyk7XG4gICAgfVxuICAgIE1zKCkge1xuICAgICAgICB0aGlzLnNldEl0ZW0odGhpcy53cywgdGhpcy5rcy5kcygpKTtcbiAgICB9XG4gICAgTHMoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9NdXRhdGlvbk1ldGFkYXRhKHRoaXMuY3VycmVudFVzZXIsIGUsIHQsIG4pLCBpID0gY3JlYXRlV2ViU3RvcmFnZU11dGF0aW9uQmF0Y2hLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgdGhpcy5jdXJyZW50VXNlciwgZSk7XG4gICAgICAgIHRoaXMuc2V0SXRlbShpLCByLmRzKCkpO1xuICAgIH1cbiAgICBCcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBjcmVhdGVXZWJTdG9yYWdlTXV0YXRpb25CYXRjaEtleSh0aGlzLnBlcnNpc3RlbmNlS2V5LCB0aGlzLmN1cnJlbnRVc2VyLCBlKTtcbiAgICAgICAgdGhpcy5yZW1vdmVJdGVtKHQpO1xuICAgIH1cbiAgICBRcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5WcyxcbiAgICAgICAgICAgIG9ubGluZVN0YXRlOiBlXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKHRoaXMudnMsIEpTT04uc3RyaW5naWZ5KHQpKTtcbiAgICB9XG4gICAgcXMoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gY3JlYXRlV2ViU3RvcmFnZVF1ZXJ5VGFyZ2V0TWV0YWRhdGFLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgZSksIGkgPSBuZXcgX19QUklWQVRFX1F1ZXJ5VGFyZ2V0TWV0YWRhdGEoZSwgdCwgbik7XG4gICAgICAgIHRoaXMuc2V0SXRlbShyLCBpLmRzKCkpO1xuICAgIH1cbiAgICBLcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBKU09OLnN0cmluZ2lmeShBcnJheS5mcm9tKGUpKTtcbiAgICAgICAgdGhpcy5zZXRJdGVtKHRoaXMuRnMsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBjbGllbnQgc3RhdGUga2V5IGluIFdlYlN0b3JhZ2UuIFJldHVybnMgbnVsbCBpZiB0aGUga2V5IGRvZXMgbm90XG4gICAgICogbWF0Y2ggdGhlIGV4cGVjdGVkIGtleSBmb3JtYXQuXG4gICAgICovICAgICRzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuYnMuZXhlYyhlKTtcbiAgICAgICAgcmV0dXJuIHQgPyB0WzFdIDogbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgY2xpZW50IHN0YXRlIGluIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZSBjb3VsZCBub3RcbiAgICAgKiBiZSBwYXJzZWQuXG4gICAgICovICAgIFdzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuJHMoZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfUmVtb3RlQ2xpZW50U3RhdGUuRXMobiwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIG11dGF0aW9uIGJhdGNoIHN0YXRlIGluIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZVxuICAgICAqIGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4gICAgICovICAgIEdzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuRHMuZXhlYyhlKSwgciA9IE51bWJlcihuWzFdKSwgaSA9IHZvaWQgMCAhPT0gblsyXSA/IG5bMl0gOiBudWxsO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX011dGF0aW9uTWV0YWRhdGEuRXMobmV3IFVzZXIoaSksIHIsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBxdWVyeSB0YXJnZXQgc3RhdGUgZnJvbSBXZWJTdG9yYWdlLiBSZXR1cm5zICdudWxsJyBpZiB0aGUgdmFsdWVcbiAgICAgKiBjb3VsZCBub3QgYmUgcGFyc2VkLlxuICAgICAqLyAgICBqcyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLkNzLmV4ZWMoZSksIHIgPSBOdW1iZXIoblsxXSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfUXVlcnlUYXJnZXRNZXRhZGF0YS5FcyhyLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGFuIG9ubGluZSBzdGF0ZSBmcm9tIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZVxuICAgICAqIGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4gICAgICovICAgIHhzKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9TaGFyZWRPbmxpbmVTdGF0ZS5FcyhlKTtcbiAgICB9XG4gICAgSnMoZSkge1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShlKTtcbiAgICB9XG4gICAgYXN5bmMgenMoZSkge1xuICAgICAgICBpZiAoZS51c2VyLnVpZCA9PT0gdGhpcy5jdXJyZW50VXNlci51aWQpIHJldHVybiB0aGlzLnN5bmNFbmdpbmUuWnMoZS5iYXRjaElkLCBlLnN0YXRlLCBlLmVycm9yKTtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgYElnbm9yaW5nIG11dGF0aW9uIGZvciBub24tYWN0aXZlIHVzZXIgJHtlLnVzZXIudWlkfWApO1xuICAgIH1cbiAgICBIcyhlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN5bmNFbmdpbmUuWHMoZS50YXJnZXRJZCwgZS5zdGF0ZSwgZS5lcnJvcik7XG4gICAgfVxuICAgIFVzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQgPyB0aGlzLnBzLmluc2VydChlLCB0KSA6IHRoaXMucHMucmVtb3ZlKGUpLCByID0gdGhpcy5Ocyh0aGlzLnBzKSwgaSA9IHRoaXMuTnMobiksIHMgPSBbXSwgbyA9IFtdO1xuICAgICAgICByZXR1cm4gaS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHIuaGFzKGUpIHx8IHMucHVzaChlKTtcbiAgICAgICAgfSkpLCByLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgaS5oYXMoZSkgfHwgby5wdXNoKGUpO1xuICAgICAgICB9KSksIHRoaXMuc3luY0VuZ2luZS5lbyhzLCBvKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBzID0gbjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBPcyhlKSB7XG4gICAgICAgIC8vIFdlIGNoZWNrIHdoZXRoZXIgdGhlIGNsaWVudCB0aGF0IHdyb3RlIHRoaXMgb25saW5lIHN0YXRlIGlzIHN0aWxsIGFjdGl2ZVxuICAgICAgICAvLyBieSBjb21wYXJpbmcgaXRzIGNsaWVudCBJRCB0byB0aGUgbGlzdCBvZiBjbGllbnRzIGtlcHQgYWN0aXZlIGluXG4gICAgICAgIC8vIEluZGV4ZWREYi4gSWYgYSBjbGllbnQgZG9lcyBub3QgdXBkYXRlIHRoZWlyIEluZGV4ZWREYiBjbGllbnQgc3RhdGVcbiAgICAgICAgLy8gd2l0aGluIDUgc2Vjb25kcywgaXQgaXMgY29uc2lkZXJlZCBpbmFjdGl2ZSBhbmQgd2UgZG9uJ3QgZW1pdCBhbiBvbmxpbmVcbiAgICAgICAgLy8gc3RhdGUgZXZlbnQuXG4gICAgICAgIHRoaXMucHMuZ2V0KGUuY2xpZW50SWQpICYmIHRoaXMub25saW5lU3RhdGVIYW5kbGVyKGUub25saW5lU3RhdGUpO1xuICAgIH1cbiAgICBOcyhlKSB7XG4gICAgICAgIGxldCB0ID0gX19QUklWQVRFX3RhcmdldElkU2V0KCk7XG4gICAgICAgIHJldHVybiBlLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICB0ID0gdC51bmlvbldpdGgobi5hY3RpdmVUYXJnZXRJZHMpO1xuICAgICAgICB9KSksIHQ7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5U2hhcmVkQ2xpZW50U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm5vID0gbmV3IF9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlLCB0aGlzLnJvID0ge30sIHRoaXMub25saW5lU3RhdGVIYW5kbGVyID0gbnVsbCwgXG4gICAgICAgIHRoaXMuc2VxdWVuY2VOdW1iZXJIYW5kbGVyID0gbnVsbDtcbiAgICB9XG4gICAgYWRkUGVuZGluZ011dGF0aW9uKGUpIHtcbiAgICAgICAgLy8gTm8gb3AuXG4gICAgfVxuICAgIHVwZGF0ZU11dGF0aW9uU3RhdGUoZSwgdCwgbikge1xuICAgICAgICAvLyBObyBvcC5cbiAgICB9XG4gICAgYWRkTG9jYWxRdWVyeVRhcmdldChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vLkFzKGUpLCB0aGlzLnJvW2VdIHx8IFwibm90LWN1cnJlbnRcIjtcbiAgICB9XG4gICAgdXBkYXRlUXVlcnlTdGF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMucm9bZV0gPSB0O1xuICAgIH1cbiAgICByZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgdGhpcy5uby5ScyhlKTtcbiAgICB9XG4gICAgaXNMb2NhbFF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm8uYWN0aXZlVGFyZ2V0SWRzLmhhcyhlKTtcbiAgICB9XG4gICAgY2xlYXJRdWVyeVN0YXRlKGUpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMucm9bZV07XG4gICAgfVxuICAgIGdldEFsbEFjdGl2ZVF1ZXJ5VGFyZ2V0cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm8uYWN0aXZlVGFyZ2V0SWRzO1xuICAgIH1cbiAgICBpc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm8uYWN0aXZlVGFyZ2V0SWRzLmhhcyhlKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vID0gbmV3IF9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlLCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgaGFuZGxlVXNlckNoYW5nZShlLCB0LCBuKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBzZXRPbmxpbmVTdGF0ZShlKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBzaHV0ZG93bigpIHt9XG4gICAgd3JpdGVTZXF1ZW5jZU51bWJlcihlKSB7fVxuICAgIG5vdGlmeUJ1bmRsZUxvYWRlZChlKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX05vb3BDb25uZWN0aXZpdHlNb25pdG9yIHtcbiAgICBpbyhlKSB7XG4gICAgICAgIC8vIE5vLW9wLlxuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgLy8gTm8tb3AuXG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLy8gUmVmZXJlbmNlcyB0byBgd2luZG93YCBhcmUgZ3VhcmRlZCBieSBCcm93c2VyQ29ubmVjdGl2aXR5TW9uaXRvci5pc0F2YWlsYWJsZSgpXG4vKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbi8qKlxuICogQnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBDb25uZWN0aXZpdHlNb25pdG9yLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfQnJvd3NlckNvbm5lY3Rpdml0eU1vbml0b3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNvID0gKCkgPT4gdGhpcy5vbygpLCB0aGlzLl9vID0gKCkgPT4gdGhpcy5hbygpLCB0aGlzLnVvID0gW10sIHRoaXMuY28oKTtcbiAgICB9XG4gICAgaW8oZSkge1xuICAgICAgICB0aGlzLnVvLnB1c2goZSk7XG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCB0aGlzLnNvKSwgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsIHRoaXMuX28pO1xuICAgIH1cbiAgICBjbygpIHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIiwgdGhpcy5zbyksIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCB0aGlzLl9vKTtcbiAgICB9XG4gICAgb28oKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkNvbm5lY3Rpdml0eU1vbml0b3JcIiwgXCJOZXR3b3JrIGNvbm5lY3Rpdml0eSBjaGFuZ2VkOiBBVkFJTEFCTEVcIik7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLnVvKSBlKDAgLyogTmV0d29ya1N0YXR1cy5BVkFJTEFCTEUgKi8pO1xuICAgIH1cbiAgICBhbygpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiQ29ubmVjdGl2aXR5TW9uaXRvclwiLCBcIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNoYW5nZWQ6IFVOQVZBSUxBQkxFXCIpO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdGhpcy51bykgZSgxIC8qIE5ldHdvcmtTdGF0dXMuVU5BVkFJTEFCTEUgKi8pO1xuICAgIH1cbiAgICAvLyBUT0RPKGNoZW5icmlhbik6IENvbnNpZGVyIHBhc3NpbmcgaW4gd2luZG93IGVpdGhlciBpbnRvIHRoaXMgY29tcG9uZW50IG9yXG4gICAgLy8gaGVyZSBmb3IgdGVzdGluZyB2aWEgRmFrZVdpbmRvdy5cbiAgICAvKiogQ2hlY2tzIHRoYXQgYWxsIHVzZWQgYXR0cmlidXRlcyBvZiB3aW5kb3cgYXJlIGF2YWlsYWJsZS4gKi9cbiAgICBzdGF0aWMgRCgpIHtcbiAgICAgICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHdpbmRvdyAmJiB2b2lkIDAgIT09IHdpbmRvdy5hZGRFdmVudExpc3RlbmVyICYmIHZvaWQgMCAhPT0gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXI7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUaGUgdmFsdWUgcmV0dXJuZWQgZnJvbSB0aGUgbW9zdCByZWNlbnQgaW52b2NhdGlvbiBvZlxuICogYGdlbmVyYXRlVW5pcXVlRGVidWdJZCgpYCwgb3IgbnVsbCBpZiBpdCBoYXMgbmV2ZXIgYmVlbiBpbnZva2VkLlxuICovIGxldCBWZSA9IG51bGw7XG5cbi8qKlxuICogR2VuZXJhdGVzIGFuZCByZXR1cm5zIGFuIGluaXRpYWwgdmFsdWUgZm9yIGBsYXN0VW5pcXVlRGVidWdJZGAuXG4gKlxuICogVGhlIHJldHVybmVkIHZhbHVlIGlzIHJhbmRvbWx5IHNlbGVjdGVkIGZyb20gYSByYW5nZSBvZiBpbnRlZ2VycyB0aGF0IGFyZVxuICogcmVwcmVzZW50ZWQgYXMgOCBoZXhhZGVjaW1hbCBkaWdpdHMuIFRoaXMgbWVhbnMgdGhhdCAod2l0aGluIHJlYXNvbikgYW55XG4gKiBudW1iZXJzIGdlbmVyYXRlZCBieSBpbmNyZW1lbnRpbmcgdGhlIHJldHVybmVkIG51bWJlciBieSAxIHdpbGwgYWxzbyBiZVxuICogcmVwcmVzZW50ZWQgYnkgOCBoZXhhZGVjaW1hbCBkaWdpdHMuIFRoaXMgbGVhZHMgdG8gYWxsIFwiSURzXCIgaGF2aW5nIHRoZSBzYW1lXG4gKiBsZW5ndGggd2hlbiBjb252ZXJ0ZWQgdG8gYSBoZXhhZGVjaW1hbCBzdHJpbmcsIG1ha2luZyByZWFkaW5nIGxvZ3MgY29udGFpbmluZ1xuICogdGhlc2UgSURzIGVhc2llciB0byBmb2xsb3cuIEFuZCBzaW5jZSB0aGUgcmV0dXJuIHZhbHVlIGlzIHJhbmRvbWx5IHNlbGVjdGVkXG4gKiBpdCB3aWxsIGhlbHAgdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGxvZ3MgZnJvbSBkaWZmZXJlbnQgZXhlY3V0aW9ucy5cbiAqL1xuLyoqXG4gKiBHZW5lcmF0ZXMgYW5kIHJldHVybnMgYSB1bmlxdWUgSUQgYXMgYSBoZXhhZGVjaW1hbCBzdHJpbmcuXG4gKlxuICogVGhlIHJldHVybmVkIElEIGlzIGludGVuZGVkIHRvIGJlIHVzZWQgaW4gZGVidWcgbG9nZ2luZyBtZXNzYWdlcyB0byBoZWxwXG4gKiBjb3JyZWxhdGUgbG9nIG1lc3NhZ2VzIHRoYXQgbWF5IGJlIHNwYXRpYWxseSBzZXBhcmF0ZWQgaW4gdGhlIGxvZ3MsIGJ1dFxuICogbG9naWNhbGx5IHJlbGF0ZWQuIEZvciBleGFtcGxlLCBhIG5ldHdvcmsgY29ubmVjdGlvbiBjb3VsZCBpbmNsdWRlIHRoZSBzYW1lXG4gKiBcImRlYnVnIElEXCIgc3RyaW5nIGluIGFsbCBvZiBpdHMgbG9nIG1lc3NhZ2VzIHRvIGhlbHAgdHJhY2UgYSBzcGVjaWZpY1xuICogY29ubmVjdGlvbiBvdmVyIHRpbWUuXG4gKlxuICogQHJldHVybiB0aGUgMTAtY2hhcmFjdGVyIGdlbmVyYXRlZCBJRCAoZS5nLiBcIjB4YTFiMmMzZDRcIikuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQoKSB7XG4gICAgcmV0dXJuIG51bGwgPT09IFZlID8gVmUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZ2VuZXJhdGVJbml0aWFsVW5pcXVlRGVidWdJZCgpIHtcbiAgICAgICAgcmV0dXJuIDI2ODQzNTQ1NiArIE1hdGgucm91bmQoMjE0NzQ4MzY0OCAqIE1hdGgucmFuZG9tKCkpO1xuICAgIH0oKSA6IFZlKyssIFwiMHhcIiArIFZlLnRvU3RyaW5nKDE2KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY29uc3QgbWUgPSB7XG4gICAgQmF0Y2hHZXREb2N1bWVudHM6IFwiYmF0Y2hHZXRcIixcbiAgICBDb21taXQ6IFwiY29tbWl0XCIsXG4gICAgUnVuUXVlcnk6IFwicnVuUXVlcnlcIixcbiAgICBSdW5BZ2dyZWdhdGlvblF1ZXJ5OiBcInJ1bkFnZ3JlZ2F0aW9uUXVlcnlcIlxufTtcblxuLyoqXG4gKiBNYXBzIFJQQyBuYW1lcyB0byB0aGUgY29ycmVzcG9uZGluZyBSRVNUIGVuZHBvaW50IG5hbWUuXG4gKlxuICogV2UgdXNlIGFycmF5IG5vdGF0aW9uIHRvIGF2b2lkIG1hbmdsaW5nLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQcm92aWRlcyBhIHNpbXBsZSBoZWxwZXIgY2xhc3MgdGhhdCBpbXBsZW1lbnRzIHRoZSBTdHJlYW0gaW50ZXJmYWNlIHRvXG4gKiBicmlkZ2UgdG8gb3RoZXIgaW1wbGVtZW50YXRpb25zIHRoYXQgYXJlIHN0cmVhbXMgYnV0IGRvIG5vdCBpbXBsZW1lbnQgdGhlXG4gKiBpbnRlcmZhY2UuIFRoZSBzdHJlYW0gY2FsbGJhY2tzIGFyZSBpbnZva2VkIHdpdGggdGhlIGNhbGxPbi4uLiBtZXRob2RzLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfU3RyZWFtQnJpZGdlIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMubG8gPSBlLmxvLCB0aGlzLmhvID0gZS5obztcbiAgICB9XG4gICAgUG8oZSkge1xuICAgICAgICB0aGlzLklvID0gZTtcbiAgICB9XG4gICAgVG8oZSkge1xuICAgICAgICB0aGlzLkVvID0gZTtcbiAgICB9XG4gICAgQW8oZSkge1xuICAgICAgICB0aGlzLlJvID0gZTtcbiAgICB9XG4gICAgb25NZXNzYWdlKGUpIHtcbiAgICAgICAgdGhpcy5WbyA9IGU7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmhvKCk7XG4gICAgfVxuICAgIHNlbmQoZSkge1xuICAgICAgICB0aGlzLmxvKGUpO1xuICAgIH1cbiAgICBtbygpIHtcbiAgICAgICAgdGhpcy5JbygpO1xuICAgIH1cbiAgICBmbygpIHtcbiAgICAgICAgdGhpcy5FbygpO1xuICAgIH1cbiAgICBwbyhlKSB7XG4gICAgICAgIHRoaXMuUm8oZSk7XG4gICAgfVxuICAgIHlvKGUpIHtcbiAgICAgICAgdGhpcy5WbyhlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IGZlID0gXCJXZWJDaGFubmVsQ29ubmVjdGlvblwiO1xuXG5jbGFzcyBfX1BSSVZBVEVfV2ViQ2hhbm5lbENvbm5lY3Rpb24gZXh0ZW5kcyBcbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgYWxsIFJlc3QtYmFzZWQgY29ubmVjdGlvbnMgdG8gdGhlIGJhY2tlbmQgKFdlYkNoYW5uZWwgYW5kXG4gKiBIVFRQKS5cbiAqL1xuY2xhc3MgX19QUklWQVRFX1Jlc3RDb25uZWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJbmZvID0gZSwgdGhpcy5kYXRhYmFzZUlkID0gZS5kYXRhYmFzZUlkO1xuICAgICAgICBjb25zdCB0ID0gZS5zc2wgPyBcImh0dHBzXCIgOiBcImh0dHBcIiwgbiA9IGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkKSwgciA9IGVuY29kZVVSSUNvbXBvbmVudCh0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2UpO1xuICAgICAgICB0aGlzLndvID0gdCArIFwiOi8vXCIgKyBlLmhvc3QsIHRoaXMuU28gPSBgcHJvamVjdHMvJHtufS9kYXRhYmFzZXMvJHtyfWAsIHRoaXMuYm8gPSBcIihkZWZhdWx0KVwiID09PSB0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2UgPyBgcHJvamVjdF9pZD0ke259YCA6IGBwcm9qZWN0X2lkPSR7bn0mZGF0YWJhc2VfaWQ9JHtyfWA7XG4gICAgfVxuICAgIGdldCBEbygpIHtcbiAgICAgICAgLy8gQm90aCBgaW52b2tlUlBDKClgIGFuZCBgaW52b2tlU3RyZWFtaW5nUlBDKClgIHVzZSB0aGVpciBgcGF0aGAgYXJndW1lbnRzIHRvIGRldGVybWluZVxuICAgICAgICAvLyB3aGVyZSB0byBydW4gdGhlIHF1ZXJ5LCBhbmQgZXhwZWN0IHRoZSBgcmVxdWVzdGAgdG8gTk9UIHNwZWNpZnkgdGhlIFwicGF0aFwiLlxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIENvKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQoKSwgbyA9IHRoaXMudm8oZSwgdC50b1VyaUVuY29kZWRTdHJpbmcoKSk7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlc3RDb25uZWN0aW9uXCIsIGBTZW5kaW5nIFJQQyAnJHtlfScgJHtzfTpgLCBvLCBuKTtcbiAgICAgICAgY29uc3QgXyA9IHtcbiAgICAgICAgICAgIFwiZ29vZ2xlLWNsb3VkLXJlc291cmNlLXByZWZpeFwiOiB0aGlzLlNvLFxuICAgICAgICAgICAgXCJ4LWdvb2ctcmVxdWVzdC1wYXJhbXNcIjogdGhpcy5ib1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdGhpcy5GbyhfLCByLCBpKSwgdGhpcy5NbyhlLCBvLCBfLCBuKS50aGVuKCh0ID0+IChfX1BSSVZBVEVfbG9nRGVidWcoXCJSZXN0Q29ubmVjdGlvblwiLCBgUmVjZWl2ZWQgUlBDICcke2V9JyAke3N9OiBgLCB0KSwgXG4gICAgICAgIHQpKSwgKHQgPT4ge1xuICAgICAgICAgICAgdGhyb3cgX19QUklWQVRFX2xvZ1dhcm4oXCJSZXN0Q29ubmVjdGlvblwiLCBgUlBDICcke2V9JyAke3N9IGZhaWxlZCB3aXRoIGVycm9yOiBgLCB0LCBcInVybDogXCIsIG8sIFwicmVxdWVzdDpcIiwgbiksIFxuICAgICAgICAgICAgdDtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB4byhlLCB0LCBuLCByLCBpLCBzKSB7XG4gICAgICAgIC8vIFRoZSBSRVNUIEFQSSBhdXRvbWF0aWNhbGx5IGFnZ3JlZ2F0ZXMgYWxsIG9mIHRoZSBzdHJlYW1lZCByZXN1bHRzLCBzbyB3ZVxuICAgICAgICAvLyBjYW4ganVzdCB1c2UgdGhlIG5vcm1hbCBpbnZva2UoKSBtZXRob2QuXG4gICAgICAgIHJldHVybiB0aGlzLkNvKGUsIHQsIG4sIHIsIGkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyB0aGUgaGVhZGVycyBmb3IgYSByZXF1ZXN0LCBhZGRpbmcgYW55IGF1dGhvcml6YXRpb24gdG9rZW4gaWZcbiAgICAgKiBwcmVzZW50IGFuZCBhbnkgYWRkaXRpb25hbCBoZWFkZXJzIGZvciB0aGUgcmVxdWVzdC5cbiAgICAgKi8gICAgRm8oZSwgdCwgbikge1xuICAgICAgICBlW1wiWC1Hb29nLUFwaS1DbGllbnRcIl0gPSBcbiAgICAgICAgLy8gU0RLX1ZFUlNJT04gaXMgdXBkYXRlZCB0byBkaWZmZXJlbnQgdmFsdWUgYXQgcnVudGltZSBkZXBlbmRpbmcgb24gdGhlIGVudHJ5IHBvaW50LFxuICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGdldCBpdHMgdmFsdWUgd2hlbiB3ZSBuZWVkIGl0IGluIGEgZnVuY3Rpb24uXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRHb29nQXBpQ2xpZW50VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJnbC1qcy8gZmlyZS9cIiArIGI7XG4gICAgICAgIH0oKSwgXG4gICAgICAgIC8vIENvbnRlbnQtVHlwZTogdGV4dC9wbGFpbiB3aWxsIGF2b2lkIHByZWZsaWdodCByZXF1ZXN0cyB3aGljaCBtaWdodFxuICAgICAgICAvLyBtZXNzIHdpdGggQ09SUyBhbmQgcmVkaXJlY3RzIGJ5IHByb3hpZXMuIElmIHdlIGFkZCBjdXN0b20gaGVhZGVyc1xuICAgICAgICAvLyB3ZSB3aWxsIG5lZWQgdG8gY2hhbmdlIHRoaXMgY29kZSB0byBwb3RlbnRpYWxseSB1c2UgdGhlICRodHRwT3ZlcndyaXRlXG4gICAgICAgIC8vIHBhcmFtZXRlciBzdXBwb3J0ZWQgYnkgRVNGIHRvIGF2b2lkIHRyaWdnZXJpbmcgcHJlZmxpZ2h0IHJlcXVlc3RzLlxuICAgICAgICBlW1wiQ29udGVudC1UeXBlXCJdID0gXCJ0ZXh0L3BsYWluXCIsIHRoaXMuZGF0YWJhc2VJbmZvLmFwcElkICYmIChlW1wiWC1GaXJlYmFzZS1HTVBJRFwiXSA9IHRoaXMuZGF0YWJhc2VJbmZvLmFwcElkKSwgXG4gICAgICAgIHQgJiYgdC5oZWFkZXJzLmZvckVhY2goKCh0LCBuKSA9PiBlW25dID0gdCkpLCBuICYmIG4uaGVhZGVycy5mb3JFYWNoKCgodCwgbikgPT4gZVtuXSA9IHQpKTtcbiAgICB9XG4gICAgdm8oZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbWVbZV07XG4gICAgICAgIHJldHVybiBgJHt0aGlzLndvfS92MS8ke3R9OiR7bn1gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgYW5kIGNsZWFucyB1cCBhbnkgcmVzb3VyY2VzIGFzc29jaWF0ZWQgd2l0aCB0aGUgY29ubmVjdGlvbi4gVGhpc1xuICAgICAqIGltcGxlbWVudGF0aW9uIGlzIGEgbm8tb3AgYmVjYXVzZSB0aGVyZSBhcmUgbm8gcmVzb3VyY2VzIGFzc29jaWF0ZWRcbiAgICAgKiB3aXRoIHRoZSBSZXN0Q29ubmVjdGlvbiB0aGF0IG5lZWQgdG8gYmUgY2xlYW5lZCB1cC5cbiAgICAgKi8gICAgdGVybWluYXRlKCkge1xuICAgICAgICAvLyBOby1vcFxuICAgIH1cbn0ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoZSksIHRoaXMuZm9yY2VMb25nUG9sbGluZyA9IGUuZm9yY2VMb25nUG9sbGluZywgdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmcgPSBlLmF1dG9EZXRlY3RMb25nUG9sbGluZywgXG4gICAgICAgIHRoaXMudXNlRmV0Y2hTdHJlYW1zID0gZS51c2VGZXRjaFN0cmVhbXMsIHRoaXMubG9uZ1BvbGxpbmdPcHRpb25zID0gZS5sb25nUG9sbGluZ09wdGlvbnM7XG4gICAgfVxuICAgIE1vKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKCgocywgbykgPT4ge1xuICAgICAgICAgICAgY29uc3QgXyA9IG5ldyB3ZWJjaGFubmVsQmxvYi5YaHJJbztcbiAgICAgICAgICAgIF8uc2V0V2l0aENyZWRlbnRpYWxzKCEwKSwgXy5saXN0ZW5PbmNlKHdlYmNoYW5uZWxCbG9iLkV2ZW50VHlwZS5DT01QTEVURSwgKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF8uZ2V0TGFzdEVycm9yQ29kZSgpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSB3ZWJjaGFubmVsQmxvYi5FcnJvckNvZGUuTk9fRVJST1I6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gXy5nZXRSZXNwb25zZUpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFhIUiBmb3IgUlBDICcke2V9JyAke2l9IHJlY2VpdmVkOmAsIEpTT04uc3RyaW5naWZ5KHQpKSwgXG4gICAgICAgICAgICAgICAgICAgICAgICBzKHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdlYmNoYW5uZWxCbG9iLkVycm9yQ29kZS5USU1FT1VUOlxuICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyAke2l9IHRpbWVkIG91dGApLCBvKG5ldyBGaXJlc3RvcmVFcnJvcihDLkRFQURMSU5FX0VYQ0VFREVELCBcIlJlcXVlc3QgdGltZSBvdXRcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdlYmNoYW5uZWxCbG9iLkVycm9yQ29kZS5IVFRQX0VSUk9SOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IF8uZ2V0U3RhdHVzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyAke2l9IGZhaWxlZCB3aXRoIHN0YXR1czpgLCBuLCBcInJlc3BvbnNlIHRleHQ6XCIsIF8uZ2V0UmVzcG9uc2VUZXh0KCkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIG4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGUgPSBfLmdldFJlc3BvbnNlSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEFycmF5LmlzQXJyYXkoZSkgJiYgKGUgPSBlWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gbnVsbCA9PSBlID8gdm9pZCAwIDogZS5lcnJvcjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiB0LnN0YXR1cyAmJiB0Lm1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IGZ1bmN0aW9uIF9fUFJJVkFURV9tYXBDb2RlRnJvbUh0dHBSZXNwb25zZUVycm9yU3RhdHVzKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCBcIi1cIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhDKS5pbmRleE9mKHQpID49IDAgPyB0IDogQy5VTktOT1dOO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KHQuc3RhdHVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbyhuZXcgRmlyZXN0b3JlRXJyb3IoZSwgdC5tZXNzYWdlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIG8obmV3IEZpcmVzdG9yZUVycm9yKEMuVU5LTk9XTiwgXCJTZXJ2ZXIgcmVzcG9uZGVkIHdpdGggc3RhdHVzIFwiICsgXy5nZXRTdGF0dXMoKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2UgcmVjZWl2ZWQgYW4gSFRUUF9FUlJPUiBidXQgdGhlcmUncyBubyBzdGF0dXMgY29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0J3MgbW9zdCBwcm9iYWJseSBhIGNvbm5lY3Rpb24gaXNzdWVcbiAgICAgICAgICAgICAgICAgICAgICAgIG8obmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsIFwiQ29ubmVjdGlvbiBmYWlsZWQuXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZmluYWxseSB7XG4gICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgJHtpfSBjb21wbGV0ZWQuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3QgYSA9IEpTT04uc3RyaW5naWZ5KHIpO1xuICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyAke2l9IHNlbmRpbmcgcmVxdWVzdDpgLCByKSwgXy5zZW5kKHQsIFwiUE9TVFwiLCBhLCBuLCAxNSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgT28oZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2dlbmVyYXRlVW5pcXVlRGVidWdJZCgpLCBpID0gWyB0aGlzLndvLCBcIi9cIiwgXCJnb29nbGUuZmlyZXN0b3JlLnYxLkZpcmVzdG9yZVwiLCBcIi9cIiwgZSwgXCIvY2hhbm5lbFwiIF0sIHMgPSB3ZWJjaGFubmVsQmxvYi5jcmVhdGVXZWJDaGFubmVsVHJhbnNwb3J0KCksIG8gPSB3ZWJjaGFubmVsQmxvYi5nZXRTdGF0RXZlbnRUYXJnZXQoKSwgXyA9IHtcbiAgICAgICAgICAgIC8vIFJlcXVpcmVkIGZvciBiYWNrZW5kIHN0aWNraW5lc3MsIHJvdXRpbmcgYmVoYXZpb3IgaXMgYmFzZWQgb24gdGhpc1xuICAgICAgICAgICAgLy8gcGFyYW1ldGVyLlxuICAgICAgICAgICAgaHR0cFNlc3Npb25JZFBhcmFtOiBcImdzZXNzaW9uaWRcIixcbiAgICAgICAgICAgIGluaXRNZXNzYWdlSGVhZGVyczoge30sXG4gICAgICAgICAgICBtZXNzYWdlVXJsUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBwYXJhbSBpcyB1c2VkIHRvIGltcHJvdmUgcm91dGluZyBhbmQgcHJvamVjdCBpc29sYXRpb24gYnkgdGhlXG4gICAgICAgICAgICAgICAgLy8gYmFja2VuZCBhbmQgbXVzdCBiZSBpbmNsdWRlZCBpbiBldmVyeSByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGRhdGFiYXNlOiBgcHJvamVjdHMvJHt0aGlzLmRhdGFiYXNlSWQucHJvamVjdElkfS9kYXRhYmFzZXMvJHt0aGlzLmRhdGFiYXNlSWQuZGF0YWJhc2V9YFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlbmRSYXdKc29uOiAhMCxcbiAgICAgICAgICAgIHN1cHBvcnRzQ3Jvc3NEb21haW5YaHI6ICEwLFxuICAgICAgICAgICAgaW50ZXJuYWxDaGFubmVsUGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgLy8gT3ZlcnJpZGUgdGhlIGRlZmF1bHQgdGltZW91dCAocmFuZG9taXplZCBiZXR3ZWVuIDEwLTIwIHNlY29uZHMpIHNpbmNlXG4gICAgICAgICAgICAgICAgLy8gYSBsYXJnZSB3cml0ZSBiYXRjaCBvbiBhIHNsb3cgaW50ZXJuZXQgY29ubmVjdGlvbiBtYXkgdGFrZSBhIGxvbmdcbiAgICAgICAgICAgICAgICAvLyB0aW1lIHRvIHNlbmQgdG8gdGhlIGJhY2tlbmQuIFJhdGhlciB0aGFuIGhhdmUgV2ViQ2hhbm5lbCBpbXBvc2UgYVxuICAgICAgICAgICAgICAgIC8vIHRpZ2h0IHRpbWVvdXQgd2hpY2ggY291bGQgbGVhZCB0byBpbmZpbml0ZSB0aW1lb3V0cyBhbmQgcmV0cmllcywgd2VcbiAgICAgICAgICAgICAgICAvLyBzZXQgaXQgdmVyeSBsYXJnZSAoNS0xMCBtaW51dGVzKSBhbmQgcmVseSBvbiB0aGUgYnJvd3NlcidzIGJ1aWx0aW5cbiAgICAgICAgICAgICAgICAvLyB0aW1lb3V0cyB0byBraWNrIGluIGlmIHRoZSByZXF1ZXN0IGlzbid0IHdvcmtpbmcuXG4gICAgICAgICAgICAgICAgZm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zOiA2ZTVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmb3JjZUxvbmdQb2xsaW5nOiB0aGlzLmZvcmNlTG9uZ1BvbGxpbmcsXG4gICAgICAgICAgICBkZXRlY3RCdWZmZXJpbmdQcm94eTogdGhpcy5hdXRvRGV0ZWN0TG9uZ1BvbGxpbmdcbiAgICAgICAgfSwgYSA9IHRoaXMubG9uZ1BvbGxpbmdPcHRpb25zLnRpbWVvdXRTZWNvbmRzO1xuICAgICAgICB2b2lkIDAgIT09IGEgJiYgKF8ubG9uZ1BvbGxpbmdUaW1lb3V0ID0gTWF0aC5yb3VuZCgxZTMgKiBhKSksIHRoaXMudXNlRmV0Y2hTdHJlYW1zICYmIChfLnhtbEh0dHBGYWN0b3J5ID0gbmV3IHdlYmNoYW5uZWxCbG9iLkZldGNoWG1sSHR0cEZhY3Rvcnkoe30pKSwgXG4gICAgICAgIHRoaXMuRm8oXy5pbml0TWVzc2FnZUhlYWRlcnMsIHQsIG4pLCBcbiAgICAgICAgLy8gU2VuZGluZyB0aGUgY3VzdG9tIGhlYWRlcnMgd2UganVzdCBhZGRlZCB0byByZXF1ZXN0LmluaXRNZXNzYWdlSGVhZGVyc1xuICAgICAgICAvLyAoQXV0aG9yaXphdGlvbiwgZXRjLikgd2lsbCB0cmlnZ2VyIHRoZSBicm93c2VyIHRvIG1ha2UgYSBDT1JTIHByZWZsaWdodFxuICAgICAgICAvLyByZXF1ZXN0IGJlY2F1c2UgdGhlIFhIUiB3aWxsIG5vIGxvbmdlciBtZWV0IHRoZSBjcml0ZXJpYSBmb3IgYSBcInNpbXBsZVwiXG4gICAgICAgIC8vIENPUlMgcmVxdWVzdDpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSFRUUC9DT1JTI1NpbXBsZV9yZXF1ZXN0c1xuICAgICAgICAvLyBUaGVyZWZvcmUgdG8gYXZvaWQgdGhlIENPUlMgcHJlZmxpZ2h0IHJlcXVlc3QgKGFuIGV4dHJhIG5ldHdvcmtcbiAgICAgICAgLy8gcm91bmR0cmlwKSwgd2UgdXNlIHRoZSBlbmNvZGVJbml0TWVzc2FnZUhlYWRlcnMgb3B0aW9uIHRvIHNwZWNpZnkgdGhhdFxuICAgICAgICAvLyB0aGUgaGVhZGVycyBzaG91bGQgaW5zdGVhZCBiZSBlbmNvZGVkIGluIHRoZSByZXF1ZXN0J3MgUE9TVCBwYXlsb2FkLFxuICAgICAgICAvLyB3aGljaCBpcyByZWNvZ25pemVkIGJ5IHRoZSB3ZWJjaGFubmVsIGJhY2tlbmQuXG4gICAgICAgIF8uZW5jb2RlSW5pdE1lc3NhZ2VIZWFkZXJzID0gITA7XG4gICAgICAgIGNvbnN0IHUgPSBpLmpvaW4oXCJcIik7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYENyZWF0aW5nIFJQQyAnJHtlfScgc3RyZWFtICR7cn06ICR7dX1gLCBfKTtcbiAgICAgICAgY29uc3QgYyA9IHMuY3JlYXRlV2ViQ2hhbm5lbCh1LCBfKTtcbiAgICAgICAgLy8gV2ViQ2hhbm5lbCBzdXBwb3J0cyBzZW5kaW5nIHRoZSBmaXJzdCBtZXNzYWdlIHdpdGggdGhlIGhhbmRzaGFrZSAtIHNhdmluZ1xuICAgICAgICAvLyBhIG5ldHdvcmsgcm91bmQgdHJpcC4gSG93ZXZlciwgaXQgd2lsbCBoYXZlIHRvIGNhbGwgc2VuZCBpbiB0aGUgc2FtZVxuICAgICAgICAvLyBKUyBldmVudCBsb29wIGFzIG9wZW4uIEluIG9yZGVyIHRvIGVuZm9yY2UgdGhpcywgd2UgZGVsYXkgYWN0dWFsbHlcbiAgICAgICAgLy8gb3BlbmluZyB0aGUgV2ViQ2hhbm5lbCB1bnRpbCBzZW5kIGlzIGNhbGxlZC4gV2hldGhlciB3ZSBoYXZlIGNhbGxlZFxuICAgICAgICAvLyBvcGVuIGlzIHRyYWNrZWQgd2l0aCB0aGlzIHZhcmlhYmxlLlxuICAgICAgICAgICAgICAgIGxldCBsID0gITEsIGggPSAhMTtcbiAgICAgICAgLy8gQSBmbGFnIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBzdHJlYW0gd2FzIGNsb3NlZCAoYnkgdXMgb3IgdGhyb3VnaCBhblxuICAgICAgICAvLyBlcnJvci9jbG9zZSBldmVudCkgdG8gYXZvaWQgZGVsaXZlcmluZyBtdWx0aXBsZSBjbG9zZSBldmVudHMgb3Igc2VuZGluZ1xuICAgICAgICAvLyBvbiBhIGNsb3NlZCBzdHJlYW1cbiAgICAgICAgICAgICAgICBjb25zdCBQID0gbmV3IF9fUFJJVkFURV9TdHJlYW1CcmlkZ2Uoe1xuICAgICAgICAgICAgbG86IHQgPT4ge1xuICAgICAgICAgICAgICAgIGggPyBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBOb3Qgc2VuZGluZyBiZWNhdXNlIFJQQyAnJHtlfScgc3RyZWFtICR7cn0gaXMgY2xvc2VkOmAsIHQpIDogKGwgfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYE9wZW5pbmcgUlBDICcke2V9JyBzdHJlYW0gJHtyfSB0cmFuc3BvcnQuYCksIFxuICAgICAgICAgICAgICAgIGMub3BlbigpLCBsID0gITApLCBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBSUEMgJyR7ZX0nIHN0cmVhbSAke3J9IHNlbmRpbmc6YCwgdCksIFxuICAgICAgICAgICAgICAgIGMuc2VuZCh0KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaG86ICgpID0+IGMuY2xvc2UoKVxuICAgICAgICB9KSwgX19QUklWQVRFX3VuZ3VhcmRlZEV2ZW50TGlzdGVuID0gKGUsIHQsIG4pID0+IHtcbiAgICAgICAgICAgIC8vIFRPRE8oZGltb25kKTogY2xvc3VyZSB0eXBpbmcgc2VlbXMgYnJva2VuIGJlY2F1c2UgV2ViQ2hhbm5lbCBkb2VzXG4gICAgICAgICAgICAvLyBub3QgaW1wbGVtZW50IGdvb2cuZXZlbnRzLkxpc3RlbmFibGVcbiAgICAgICAgICAgIGUubGlzdGVuKHQsIChlID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBuKGUpO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICAgICAgfSksIDApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQ2xvc3VyZSBldmVudHMgYXJlIGd1YXJkZWQgYW5kIGV4Y2VwdGlvbnMgYXJlIHN3YWxsb3dlZCwgc28gY2F0Y2ggYW55XG4gICAgICAgIC8vIGV4Y2VwdGlvbiBhbmQgcmV0aHJvdyB1c2luZyBhIHNldFRpbWVvdXQgc28gdGhleSBiZWNvbWUgdmlzaWJsZSBhZ2Fpbi5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGV2ZW50dWFsbHkgdGhpcyBmdW5jdGlvbiBjb3VsZCBnbyBhd2F5IGlmIHdlIGFyZSBjb25maWRlbnRcbiAgICAgICAgLy8gZW5vdWdoIHRoZSBjb2RlIGlzIGV4Y2VwdGlvbiBmcmVlLlxuICAgICAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4oYywgd2ViY2hhbm5lbEJsb2IuV2ViQ2hhbm5lbC5FdmVudFR5cGUuT1BFTiwgKCgpID0+IHtcbiAgICAgICAgICAgIGggfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gdHJhbnNwb3J0IG9wZW5lZC5gKSwgUC5tbygpKTtcbiAgICAgICAgfSkpLCBfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4oYywgd2ViY2hhbm5lbEJsb2IuV2ViQ2hhbm5lbC5FdmVudFR5cGUuQ0xPU0UsICgoKSA9PiB7XG4gICAgICAgICAgICBoIHx8IChoID0gITAsIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gdHJhbnNwb3J0IGNsb3NlZGApLCBcbiAgICAgICAgICAgIFAucG8oKSk7XG4gICAgICAgIH0pKSwgX19QUklWQVRFX3VuZ3VhcmRlZEV2ZW50TGlzdGVuKGMsIHdlYmNoYW5uZWxCbG9iLldlYkNoYW5uZWwuRXZlbnRUeXBlLkVSUk9SLCAodCA9PiB7XG4gICAgICAgICAgICBoIHx8IChoID0gITAsIF9fUFJJVkFURV9sb2dXYXJuKGZlLCBgUlBDICcke2V9JyBzdHJlYW0gJHtyfSB0cmFuc3BvcnQgZXJyb3JlZDpgLCB0KSwgXG4gICAgICAgICAgICBQLnBvKG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOQVZBSUxBQkxFLCBcIlRoZSBvcGVyYXRpb24gY291bGQgbm90IGJlIGNvbXBsZXRlZFwiKSkpO1xuICAgICAgICB9KSksIF9fUFJJVkFURV91bmd1YXJkZWRFdmVudExpc3RlbihjLCB3ZWJjaGFubmVsQmxvYi5XZWJDaGFubmVsLkV2ZW50VHlwZS5NRVNTQUdFLCAodCA9PiB7XG4gICAgICAgICAgICB2YXIgbjtcbiAgICAgICAgICAgIGlmICghaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSB0LmRhdGFbMF07XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoISFpKTtcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGIvMzUxNDM4OTEpOiBUaGVyZSBpcyBhIGJ1ZyBpbiBPbmUgUGxhdGZvcm0gdGhhdCBjYXVzZWQgZXJyb3JzXG4gICAgICAgICAgICAgICAgLy8gKGFuZCBvbmx5IGVycm9ycykgdG8gYmUgd3JhcHBlZCBpbiBhbiBleHRyYSBhcnJheS4gVG8gYmUgZm9yd2FyZFxuICAgICAgICAgICAgICAgIC8vIGNvbXBhdGlibGUgd2l0aCB0aGUgYnVnIHdlIG5lZWQgdG8gY2hlY2sgZWl0aGVyIGNvbmRpdGlvbi4gVGhlIGxhdHRlclxuICAgICAgICAgICAgICAgIC8vIGNhbiBiZSByZW1vdmVkIG9uY2UgdGhlIGZpeCBoYXMgYmVlbiByb2xsZWQgb3V0LlxuICAgICAgICAgICAgICAgIC8vIFVzZSBhbnkgYmVjYXVzZSBtc2dEYXRhLmVycm9yIGlzIG5vdCB0eXBlZC5cbiAgICAgICAgICAgICAgICBjb25zdCBzID0gaSwgbyA9IHMuZXJyb3IgfHwgKG51bGwgPT09IChuID0gc1swXSkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5lcnJvcik7XG4gICAgICAgICAgICAgICAgaWYgKG8pIHtcbiAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyBzdHJlYW0gJHtyfSByZWNlaXZlZCBlcnJvcjpgLCBvKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gZXJyb3Iuc3RhdHVzIHdpbGwgYmUgYSBzdHJpbmcgbGlrZSAnT0snIG9yICdOT1RfRk9VTkQnLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gby5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIGxldCBuID0gXG4gICAgICAgICAgICAgICAgICAgIC8qKlxuICogTWFwcyBhbiBlcnJvciBDb2RlIGZyb20gYSBHUlBDIHN0YXR1cyBpZGVudGlmaWVyIGxpa2UgJ05PVF9GT1VORCcuXG4gKlxuICogQHJldHVybnMgVGhlIENvZGUgZXF1aXZhbGVudCB0byB0aGUgZ2l2ZW4gc3RhdHVzIHN0cmluZyBvciB1bmRlZmluZWQgaWZcbiAqICAgICB0aGVyZSBpcyBubyBtYXRjaC5cbiAqL1xuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfbWFwQ29kZUZyb21ScGNTdGF0dXMoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9va3VwIGJ5IHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBjZVtlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IHQpIHJldHVybiBfX1BSSVZBVEVfbWFwQ29kZUZyb21ScGNDb2RlKHQpO1xuICAgICAgICAgICAgICAgICAgICB9KHQpLCBpID0gby5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB2b2lkIDAgPT09IG4gJiYgKG4gPSBDLklOVEVSTkFMLCBpID0gXCJVbmtub3duIGVycm9yIHN0YXR1czogXCIgKyB0ICsgXCIgd2l0aCBtZXNzYWdlIFwiICsgby5tZXNzYWdlKSwgXG4gICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgY2xvc2VkIHNvIG5vIGZ1cnRoZXIgZXZlbnRzIGFyZSBwcm9wYWdhdGVkXG4gICAgICAgICAgICAgICAgICAgIGggPSAhMCwgUC5wbyhuZXcgRmlyZXN0b3JlRXJyb3IobiwgaSkpLCBjLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gcmVjZWl2ZWQ6YCwgaSksIFAueW8oaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSwgX19QUklWQVRFX3VuZ3VhcmRlZEV2ZW50TGlzdGVuKG8sIHdlYmNoYW5uZWxCbG9iLkV2ZW50LlNUQVRfRVZFTlQsICh0ID0+IHtcbiAgICAgICAgICAgIHQuc3RhdCA9PT0gd2ViY2hhbm5lbEJsb2IuU3RhdC5QUk9YWSA/IF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gZGV0ZWN0ZWQgYnVmZmVyaW5nIHByb3h5YCkgOiB0LnN0YXQgPT09IHdlYmNoYW5uZWxCbG9iLlN0YXQuTk9QUk9YWSAmJiBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBSUEMgJyR7ZX0nIHN0cmVhbSAke3J9IGRldGVjdGVkIG5vIGJ1ZmZlcmluZyBwcm94eWApO1xuICAgICAgICB9KSksIHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFRlY2huaWNhbGx5IHdlIGNvdWxkL3Nob3VsZCB3YWl0IGZvciB0aGUgV2ViQ2hhbm5lbCBvcGVuZWQgZXZlbnQsXG4gICAgICAgICAgICAvLyBidXQgYmVjYXVzZSB3ZSB3YW50IHRvIHNlbmQgdGhlIGZpcnN0IG1lc3NhZ2Ugd2l0aCB0aGUgV2ViQ2hhbm5lbFxuICAgICAgICAgICAgLy8gaGFuZHNoYWtlIHdlIHByZXRlbmQgdGhlIGNoYW5uZWwgb3BlbmVkIGhlcmUgKGFzeW5jaHJvbm91c2x5KSwgYW5kXG4gICAgICAgICAgICAvLyB0aGVuIGRlbGF5IHRoZSBhY3R1YWwgb3BlbiB1bnRpbCB0aGUgZmlyc3QgbWVzc2FnZSBpcyBzZW50LlxuICAgICAgICAgICAgUC5mbygpO1xuICAgICAgICB9KSwgMCksIFA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIEluaXRpYWxpemVzIHRoZSBXZWJDaGFubmVsQ29ubmVjdGlvbiBmb3IgdGhlIGJyb3dzZXIuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIFRoZSBQbGF0Zm9ybSdzICd3aW5kb3cnIGltcGxlbWVudGF0aW9uIG9yIG51bGwgaWYgbm90IGF2YWlsYWJsZS4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRXaW5kb3coKSB7XG4gICAgLy8gYHdpbmRvd2AgaXMgbm90IGFsd2F5cyBhdmFpbGFibGUsIGUuZy4gaW4gUmVhY3ROYXRpdmUgYW5kIFdlYldvcmtlcnMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiB3aW5kb3cgPyB3aW5kb3cgOiBudWxsO1xufVxuXG4vKiogVGhlIFBsYXRmb3JtJ3MgJ2RvY3VtZW50JyBpbXBsZW1lbnRhdGlvbiBvciBudWxsIGlmIG5vdCBhdmFpbGFibGUuICovIGZ1bmN0aW9uIGdldERvY3VtZW50KCkge1xuICAgIC8vIGBkb2N1bWVudGAgaXMgbm90IGFsd2F5cyBhdmFpbGFibGUsIGUuZy4gaW4gUmVhY3ROYXRpdmUgYW5kIFdlYldvcmtlcnMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xuICAgIHJldHVybiBcInVuZGVmaW5lZFwiICE9IHR5cGVvZiBkb2N1bWVudCA/IGRvY3VtZW50IDogbnVsbDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25ld1NlcmlhbGl6ZXIoZSkge1xuICAgIHJldHVybiBuZXcgSnNvblByb3RvU2VyaWFsaXplcihlLCAvKiB1c2VQcm90bzNKc29uPSAqLyAhMCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgaGVscGVyIGZvciBydW5uaW5nIGRlbGF5ZWQgdGFza3MgZm9sbG93aW5nIGFuIGV4cG9uZW50aWFsIGJhY2tvZmYgY3VydmVcbiAqIGJldHdlZW4gYXR0ZW1wdHMuXG4gKlxuICogRWFjaCBkZWxheSBpcyBtYWRlIHVwIG9mIGEgXCJiYXNlXCIgZGVsYXkgd2hpY2ggZm9sbG93cyB0aGUgZXhwb25lbnRpYWxcbiAqIGJhY2tvZmYgY3VydmUsIGFuZCBhICsvLSA1MCUgXCJqaXR0ZXJcIiB0aGF0IGlzIGNhbGN1bGF0ZWQgYW5kIGFkZGVkIHRvIHRoZVxuICogYmFzZSBkZWxheS4gVGhpcyBwcmV2ZW50cyBjbGllbnRzIGZyb20gYWNjaWRlbnRhbGx5IHN5bmNocm9uaXppbmcgdGhlaXJcbiAqIGRlbGF5cyBjYXVzaW5nIHNwaWtlcyBvZiBsb2FkIHRvIHRoZSBiYWNrZW5kLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfRXhwb25lbnRpYWxCYWNrb2ZmIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgQXN5bmNRdWV1ZSB0byBydW4gYmFja29mZiBvcGVyYXRpb25zIG9uLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSBJRCB0byB1c2Ugd2hlbiBzY2hlZHVsaW5nIGJhY2tvZmYgb3BlcmF0aW9ucyBvbiB0aGUgQXN5bmNRdWV1ZS5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBUaGUgaW5pdGlhbCBkZWxheSAodXNlZCBhcyB0aGUgYmFzZSBkZWxheSBvbiB0aGUgZmlyc3QgcmV0cnkgYXR0ZW1wdCkuXG4gICAgICogTm90ZSB0aGF0IGppdHRlciB3aWxsIHN0aWxsIGJlIGFwcGxpZWQsIHNvIHRoZSBhY3R1YWwgZGVsYXkgY291bGQgYmUgYXNcbiAgICAgKiBsaXR0bGUgYXMgMC41KmluaXRpYWxEZWxheU1zLlxuICAgICAqL1xuICAgIG4gPSAxZTNcbiAgICAvKipcbiAgICAgKiBUaGUgbXVsdGlwbGllciB0byB1c2UgdG8gZGV0ZXJtaW5lIHRoZSBleHRlbmRlZCBiYXNlIGRlbGF5IGFmdGVyIGVhY2hcbiAgICAgKiBhdHRlbXB0LlxuICAgICAqLyAsIHIgPSAxLjVcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBiYXNlIGRlbGF5IGFmdGVyIHdoaWNoIG5vIGZ1cnRoZXIgYmFja29mZiBpcyBwZXJmb3JtZWQuXG4gICAgICogTm90ZSB0aGF0IGppdHRlciB3aWxsIHN0aWxsIGJlIGFwcGxpZWQsIHNvIHRoZSBhY3R1YWwgZGVsYXkgY291bGQgYmUgYXNcbiAgICAgKiBtdWNoIGFzIDEuNSptYXhEZWxheU1zLlxuICAgICAqLyAsIGkgPSA2ZTQpIHtcbiAgICAgICAgdGhpcy5vaSA9IGUsIHRoaXMudGltZXJJZCA9IHQsIHRoaXMuTm8gPSBuLCB0aGlzLkxvID0gciwgdGhpcy5CbyA9IGksIHRoaXMua28gPSAwLCBcbiAgICAgICAgdGhpcy5xbyA9IG51bGwsIFxuICAgICAgICAvKiogVGhlIGxhc3QgYmFja29mZiBhdHRlbXB0LCBhcyBlcG9jaCBtaWxsaXNlY29uZHMuICovXG4gICAgICAgIHRoaXMuUW8gPSBEYXRlLm5vdygpLCB0aGlzLnJlc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgYmFja29mZiBkZWxheS5cbiAgICAgKlxuICAgICAqIFRoZSB2ZXJ5IG5leHQgYmFja29mZkFuZFdhaXQoKSB3aWxsIGhhdmUgbm8gZGVsYXkuIElmIGl0IGlzIGNhbGxlZCBhZ2FpblxuICAgICAqIChpLmUuIGR1ZSB0byBhbiBlcnJvciksIGluaXRpYWxEZWxheU1zIChwbHVzIGppdHRlcikgd2lsbCBiZSB1c2VkLCBhbmRcbiAgICAgKiBzdWJzZXF1ZW50IG9uZXMgd2lsbCBpbmNyZWFzZSBhY2NvcmRpbmcgdG8gdGhlIGJhY2tvZmZGYWN0b3IuXG4gICAgICovICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLmtvID0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBiYWNrb2ZmIGRlbGF5IHRvIHRoZSBtYXhpbXVtIGRlbGF5IChlLmcuIGZvciB1c2UgYWZ0ZXIgYVxuICAgICAqIFJFU09VUkNFX0VYSEFVU1RFRCBlcnJvcikuXG4gICAgICovICAgIEtvKCkge1xuICAgICAgICB0aGlzLmtvID0gdGhpcy5CbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciBjdXJyZW50RGVsYXlNcywgYW5kIGluY3JlYXNlcyB0aGVcbiAgICAgKiBkZWxheSBmb3IgYW55IHN1YnNlcXVlbnQgYXR0ZW1wdHMuIElmIHRoZXJlIHdhcyBhIHBlbmRpbmcgYmFja29mZiBvcGVyYXRpb25cbiAgICAgKiBhbHJlYWR5LCBpdCB3aWxsIGJlIGNhbmNlbGVkLlxuICAgICAqLyAgICAkbyhlKSB7XG4gICAgICAgIC8vIENhbmNlbCBhbnkgcGVuZGluZyBiYWNrb2ZmIG9wZXJhdGlvbi5cbiAgICAgICAgdGhpcy5jYW5jZWwoKTtcbiAgICAgICAgLy8gRmlyc3Qgc2NoZWR1bGUgdXNpbmcgdGhlIGN1cnJlbnQgYmFzZSAod2hpY2ggbWF5IGJlIDAgYW5kIHNob3VsZCBiZVxuICAgICAgICAvLyBob25vcmVkIGFzIHN1Y2gpLlxuICAgICAgICBjb25zdCB0ID0gTWF0aC5mbG9vcih0aGlzLmtvICsgdGhpcy5VbygpKSwgbiA9IE1hdGgubWF4KDAsIERhdGUubm93KCkgLSB0aGlzLlFvKSwgciA9IE1hdGgubWF4KDAsIHQgLSBuKTtcbiAgICAgICAgLy8gR3VhcmQgYWdhaW5zdCBsYXN0QXR0ZW1wdFRpbWUgYmVpbmcgaW4gdGhlIGZ1dHVyZSBkdWUgdG8gYSBjbG9jayBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgciA+IDAgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiRXhwb25lbnRpYWxCYWNrb2ZmXCIsIGBCYWNraW5nIG9mZiBmb3IgJHtyfSBtcyAoYmFzZSBkZWxheTogJHt0aGlzLmtvfSBtcywgZGVsYXkgd2l0aCBqaXR0ZXI6ICR7dH0gbXMsIGxhc3QgYXR0ZW1wdDogJHtufSBtcyBhZ28pYCksIFxuICAgICAgICB0aGlzLnFvID0gdGhpcy5vaS5lbnF1ZXVlQWZ0ZXJEZWxheSh0aGlzLnRpbWVySWQsIHIsICgoKSA9PiAodGhpcy5RbyA9IERhdGUubm93KCksIFxuICAgICAgICBlKCkpKSksIFxuICAgICAgICAvLyBBcHBseSBiYWNrb2ZmIGZhY3RvciB0byBkZXRlcm1pbmUgbmV4dCBkZWxheSBhbmQgZW5zdXJlIGl0IGlzIHdpdGhpblxuICAgICAgICAvLyBib3VuZHMuXG4gICAgICAgIHRoaXMua28gKj0gdGhpcy5MbywgdGhpcy5rbyA8IHRoaXMuTm8gJiYgKHRoaXMua28gPSB0aGlzLk5vKSwgdGhpcy5rbyA+IHRoaXMuQm8gJiYgKHRoaXMua28gPSB0aGlzLkJvKTtcbiAgICB9XG4gICAgV28oKSB7XG4gICAgICAgIG51bGwgIT09IHRoaXMucW8gJiYgKHRoaXMucW8uc2tpcERlbGF5KCksIHRoaXMucW8gPSBudWxsKTtcbiAgICB9XG4gICAgY2FuY2VsKCkge1xuICAgICAgICBudWxsICE9PSB0aGlzLnFvICYmICh0aGlzLnFvLmNhbmNlbCgpLCB0aGlzLnFvID0gbnVsbCk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgcmFuZG9tIHZhbHVlIGluIHRoZSByYW5nZSBbLWN1cnJlbnRCYXNlTXMvMiwgY3VycmVudEJhc2VNcy8yXSAqLyAgICBVbygpIHtcbiAgICAgICAgcmV0dXJuIChNYXRoLnJhbmRvbSgpIC0gLjUpICogdGhpcy5rbztcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgUGVyc2lzdGVudFN0cmVhbSBpcyBhbiBhYnN0cmFjdCBiYXNlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIHN0cmVhbWluZyBSUENcbiAqIHRvIHRoZSBGaXJlc3RvcmUgYmFja2VuZC4gSXQncyBidWlsdCBvbiB0b3Agb2YgdGhlIGNvbm5lY3Rpb25zIG93biBzdXBwb3J0XG4gKiBmb3Igc3RyZWFtaW5nIFJQQ3MsIGFuZCBhZGRzIHNldmVyYWwgY3JpdGljYWwgZmVhdHVyZXMgZm9yIG91ciBjbGllbnRzOlxuICpcbiAqICAgLSBFeHBvbmVudGlhbCBiYWNrb2ZmIG9uIGZhaWx1cmVcbiAqICAgLSBBdXRoZW50aWNhdGlvbiB2aWEgQ3JlZGVudGlhbHNQcm92aWRlclxuICogICAtIERpc3BhdGNoaW5nIGFsbCBjYWxsYmFja3MgaW50byB0aGUgc2hhcmVkIHdvcmtlciBxdWV1ZVxuICogICAtIENsb3NpbmcgaWRsZSBzdHJlYW1zIGFmdGVyIDYwIHNlY29uZHMgb2YgaW5hY3Rpdml0eVxuICpcbiAqIFN1YmNsYXNzZXMgb2YgUGVyc2lzdGVudFN0cmVhbSBpbXBsZW1lbnQgc2VyaWFsaXphdGlvbiBvZiBtb2RlbHMgdG8gYW5kXG4gKiBmcm9tIHRoZSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBwcm90b2NvbCBidWZmZXJzIGZvciBhIHNwZWNpZmljXG4gKiBzdHJlYW1pbmcgUlBDLlxuICpcbiAqICMjIFN0YXJ0aW5nIGFuZCBTdG9wcGluZ1xuICpcbiAqIFN0cmVhbWluZyBSUENzIGFyZSBzdGF0ZWZ1bCBhbmQgbmVlZCB0byBiZSBzdGFydCgpZWQgYmVmb3JlIG1lc3NhZ2VzIGNhblxuICogYmUgc2VudCBhbmQgcmVjZWl2ZWQuIFRoZSBQZXJzaXN0ZW50U3RyZWFtIHdpbGwgY2FsbCB0aGUgb25PcGVuKCkgZnVuY3Rpb25cbiAqIG9mIHRoZSBsaXN0ZW5lciBvbmNlIHRoZSBzdHJlYW0gaXMgcmVhZHkgdG8gYWNjZXB0IHJlcXVlc3RzLlxuICpcbiAqIFNob3VsZCBhIHN0YXJ0KCkgZmFpbCwgUGVyc2lzdGVudFN0cmVhbSB3aWxsIGNhbGwgdGhlIHJlZ2lzdGVyZWQgb25DbG9zZSgpXG4gKiBsaXN0ZW5lciB3aXRoIGEgRmlyZXN0b3JlRXJyb3IgaW5kaWNhdGluZyB3aGF0IHdlbnQgd3JvbmcuXG4gKlxuICogQSBQZXJzaXN0ZW50U3RyZWFtIGNhbiBiZSBzdGFydGVkIGFuZCBzdG9wcGVkIHJlcGVhdGVkbHkuXG4gKlxuICogR2VuZXJpYyB0eXBlczpcbiAqICBTZW5kVHlwZTogVGhlIHR5cGUgb2YgdGhlIG91dGdvaW5nIG1lc3NhZ2Ugb2YgdGhlIHVuZGVybHlpbmdcbiAqICAgIGNvbm5lY3Rpb24gc3RyZWFtXG4gKiAgUmVjZWl2ZVR5cGU6IFRoZSB0eXBlIG9mIHRoZSBpbmNvbWluZyBtZXNzYWdlIG9mIHRoZSB1bmRlcmx5aW5nXG4gKiAgICBjb25uZWN0aW9uIHN0cmVhbVxuICogIExpc3RlbmVyVHlwZTogVGhlIHR5cGUgb2YgdGhlIGxpc3RlbmVyIHRoYXQgd2lsbCBiZSB1c2VkIGZvciBjYWxsYmFja3NcbiAqL1xuY2xhc3MgX19QUklWQVRFX1BlcnNpc3RlbnRTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMsIG8sIF8pIHtcbiAgICAgICAgdGhpcy5vaSA9IGUsIHRoaXMuR28gPSBuLCB0aGlzLnpvID0gciwgdGhpcy5jb25uZWN0aW9uID0gaSwgdGhpcy5hdXRoQ3JlZGVudGlhbHNQcm92aWRlciA9IHMsIFxuICAgICAgICB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlciA9IG8sIHRoaXMubGlzdGVuZXIgPSBfLCB0aGlzLnN0YXRlID0gMCAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuSW5pdGlhbCAqLyAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjbG9zZSBjb3VudCB0aGF0J3MgaW5jcmVtZW50ZWQgZXZlcnkgdGltZSB0aGUgc3RyZWFtIGlzIGNsb3NlZDsgdXNlZCBieVxuICAgICAgICAgKiBnZXRDbG9zZUd1YXJkZWREaXNwYXRjaGVyKCkgdG8gaW52YWxpZGF0ZSBjYWxsYmFja3MgdGhhdCBoYXBwZW4gYWZ0ZXJcbiAgICAgICAgICogY2xvc2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmpvID0gMCwgdGhpcy5IbyA9IG51bGwsIHRoaXMuSm8gPSBudWxsLCB0aGlzLnN0cmVhbSA9IG51bGwsIHRoaXMuWW8gPSBuZXcgX19QUklWQVRFX0V4cG9uZW50aWFsQmFja29mZihlLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHN0YXJ0KCkgaGFzIGJlZW4gY2FsbGVkIGFuZCBubyBlcnJvciBoYXMgb2NjdXJyZWQuIFRydWVcbiAgICAgKiBpbmRpY2F0ZXMgdGhlIHN0cmVhbSBpcyBvcGVuIG9yIGluIHRoZSBwcm9jZXNzIG9mIG9wZW5pbmcgKHdoaWNoXG4gICAgICogZW5jb21wYXNzZXMgcmVzcGVjdGluZyBiYWNrb2ZmLCBnZXR0aW5nIGF1dGggdG9rZW5zLCBhbmQgc3RhcnRpbmcgdGhlXG4gICAgICogYWN0dWFsIFJQQykuIFVzZSBpc09wZW4oKSB0byBkZXRlcm1pbmUgaWYgdGhlIHN0cmVhbSBpcyBvcGVuIGFuZCByZWFkeSBmb3JcbiAgICAgKiBvdXRib3VuZCByZXF1ZXN0cy5cbiAgICAgKi8gICAgWm8oKSB7XG4gICAgICAgIHJldHVybiAxIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5TdGFydGluZyAqLyA9PT0gdGhpcy5zdGF0ZSB8fCA1IC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5CYWNrb2ZmICovID09PSB0aGlzLnN0YXRlIHx8IHRoaXMuWG8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB1bmRlcmx5aW5nIFJQQyBpcyBvcGVuICh0aGUgb25PcGVuKCkgbGlzdGVuZXIgaGFzIGJlZW5cbiAgICAgKiBjYWxsZWQpIGFuZCB0aGUgc3RyZWFtIGlzIHJlYWR5IGZvciBvdXRib3VuZCByZXF1ZXN0cy5cbiAgICAgKi8gICAgWG8oKSB7XG4gICAgICAgIHJldHVybiAyIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5PcGVuICovID09PSB0aGlzLnN0YXRlIHx8IDMgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkhlYWx0aHkgKi8gPT09IHRoaXMuc3RhdGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFN0YXJ0cyB0aGUgUlBDLiBPbmx5IGFsbG93ZWQgaWYgaXNTdGFydGVkKCkgcmV0dXJucyBmYWxzZS4gVGhlIHN0cmVhbSBpc1xuICAgICAqIG5vdCBpbW1lZGlhdGVseSByZWFkeSBmb3IgdXNlOiBvbk9wZW4oKSB3aWxsIGJlIGludm9rZWQgd2hlbiB0aGUgUlBDIGlzXG4gICAgICogcmVhZHkgZm9yIG91dGJvdW5kIHJlcXVlc3RzLCBhdCB3aGljaCBwb2ludCBpc09wZW4oKSB3aWxsIHJldHVybiB0cnVlLlxuICAgICAqXG4gICAgICogV2hlbiBzdGFydCByZXR1cm5zLCBpc1N0YXJ0ZWQoKSB3aWxsIHJldHVybiB0cnVlLlxuICAgICAqLyAgICBzdGFydCgpIHtcbiAgICAgICAgNCAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuRXJyb3IgKi8gIT09IHRoaXMuc3RhdGUgPyB0aGlzLmF1dGgoKSA6IHRoaXMuZV8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RvcHMgdGhlIFJQQy4gVGhpcyBjYWxsIGlzIGlkZW1wb3RlbnQgYW5kIGFsbG93ZWQgcmVnYXJkbGVzcyBvZiB0aGVcbiAgICAgKiBjdXJyZW50IGlzU3RhcnRlZCgpIHN0YXRlLlxuICAgICAqXG4gICAgICogV2hlbiBzdG9wIHJldHVybnMsIGlzU3RhcnRlZCgpIGFuZCBpc09wZW4oKSB3aWxsIGJvdGggcmV0dXJuIGZhbHNlLlxuICAgICAqLyAgICBhc3luYyBzdG9wKCkge1xuICAgICAgICB0aGlzLlpvKCkgJiYgYXdhaXQgdGhpcy5jbG9zZSgwIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5Jbml0aWFsICovKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgYW4gZXJyb3IgdGhlIHN0cmVhbSB3aWxsIHVzdWFsbHkgYmFjayBvZmYgb24gdGhlIG5leHQgYXR0ZW1wdCB0b1xuICAgICAqIHN0YXJ0IGl0LiBJZiB0aGUgZXJyb3Igd2FycmFudHMgYW4gaW1tZWRpYXRlIHJlc3RhcnQgb2YgdGhlIHN0cmVhbSwgdGhlXG4gICAgICogc2VuZGVyIGNhbiB1c2UgdGhpcyB0byBpbmRpY2F0ZSB0aGF0IHRoZSByZWNlaXZlciBzaG91bGQgbm90IGJhY2sgb2ZmLlxuICAgICAqXG4gICAgICogRWFjaCBlcnJvciB3aWxsIGNhbGwgdGhlIG9uQ2xvc2UoKSBsaXN0ZW5lci4gVGhhdCBmdW5jdGlvbiBjYW4gZGVjaWRlIHRvXG4gICAgICogaW5oaWJpdCBiYWNrb2ZmIGlmIHJlcXVpcmVkLlxuICAgICAqLyAgICB0XygpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDAgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkluaXRpYWwgKi8gLCB0aGlzLllvLnJlc2V0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1hcmtzIHRoaXMgc3RyZWFtIGFzIGlkbGUuIElmIG5vIGZ1cnRoZXIgYWN0aW9ucyBhcmUgcGVyZm9ybWVkIG9uIHRoZVxuICAgICAqIHN0cmVhbSBmb3Igb25lIG1pbnV0ZSwgdGhlIHN0cmVhbSB3aWxsIGF1dG9tYXRpY2FsbHkgY2xvc2UgaXRzZWxmIGFuZFxuICAgICAqIG5vdGlmeSB0aGUgc3RyZWFtJ3Mgb25DbG9zZSgpIGhhbmRsZXIgd2l0aCBTdGF0dXMuT0suIFRoZSBzdHJlYW0gd2lsbCB0aGVuXG4gICAgICogYmUgaW4gYSAhaXNTdGFydGVkKCkgc3RhdGUsIHJlcXVpcmluZyB0aGUgY2FsbGVyIHRvIHN0YXJ0IHRoZSBzdHJlYW0gYWdhaW5cbiAgICAgKiBiZWZvcmUgZnVydGhlciB1c2UuXG4gICAgICpcbiAgICAgKiBPbmx5IHN0cmVhbXMgdGhhdCBhcmUgaW4gc3RhdGUgJ09wZW4nIGNhbiBiZSBtYXJrZWQgaWRsZSwgYXMgYWxsIG90aGVyXG4gICAgICogc3RhdGVzIGltcGx5IHBlbmRpbmcgbmV0d29yayBvcGVyYXRpb25zLlxuICAgICAqLyAgICBuXygpIHtcbiAgICAgICAgLy8gU3RhcnRzIHRoZSBpZGxlIHRpbWUgaWYgd2UgYXJlIGluIHN0YXRlICdPcGVuJyBhbmQgYXJlIG5vdCB5ZXQgYWxyZWFkeVxuICAgICAgICAvLyBydW5uaW5nIGEgdGltZXIgKGluIHdoaWNoIGNhc2UgdGhlIHByZXZpb3VzIGlkbGUgdGltZW91dCBzdGlsbCBhcHBsaWVzKS5cbiAgICAgICAgdGhpcy5YbygpICYmIG51bGwgPT09IHRoaXMuSG8gJiYgKHRoaXMuSG8gPSB0aGlzLm9pLmVucXVldWVBZnRlckRlbGF5KHRoaXMuR28sIDZlNCwgKCgpID0+IHRoaXMucl8oKSkpKTtcbiAgICB9XG4gICAgLyoqIFNlbmRzIGEgbWVzc2FnZSB0byB0aGUgdW5kZXJseWluZyBzdHJlYW0uICovICAgIGlfKGUpIHtcbiAgICAgICAgdGhpcy5zXygpLCB0aGlzLnN0cmVhbS5zZW5kKGUpO1xuICAgIH1cbiAgICAvKiogQ2FsbGVkIGJ5IHRoZSBpZGxlIHRpbWVyIHdoZW4gdGhlIHN0cmVhbSBzaG91bGQgY2xvc2UgZHVlIHRvIGluYWN0aXZpdHkuICovICAgIGFzeW5jIHJfKCkge1xuICAgICAgICBpZiAodGhpcy5YbygpKSBcbiAgICAgICAgLy8gV2hlbiB0aW1pbmcgb3V0IGFuIGlkbGUgc3RyZWFtIHRoZXJlJ3Mgbm8gcmVhc29uIHRvIGZvcmNlIHRoZSBzdHJlYW0gaW50byBiYWNrb2ZmIHdoZW5cbiAgICAgICAgLy8gaXQgcmVzdGFydHMgc28gc2V0IHRoZSBzdHJlYW0gc3RhdGUgdG8gSW5pdGlhbCBpbnN0ZWFkIG9mIEVycm9yLlxuICAgICAgICByZXR1cm4gdGhpcy5jbG9zZSgwIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5Jbml0aWFsICovKTtcbiAgICB9XG4gICAgLyoqIE1hcmtzIHRoZSBzdHJlYW0gYXMgYWN0aXZlIGFnYWluLiAqLyAgICBzXygpIHtcbiAgICAgICAgdGhpcy5IbyAmJiAodGhpcy5Iby5jYW5jZWwoKSwgdGhpcy5IbyA9IG51bGwpO1xuICAgIH1cbiAgICAvKiogQ2FuY2VscyB0aGUgaGVhbHRoIGNoZWNrIGRlbGF5ZWQgb3BlcmF0aW9uLiAqLyAgICBvXygpIHtcbiAgICAgICAgdGhpcy5KbyAmJiAodGhpcy5Kby5jYW5jZWwoKSwgdGhpcy5KbyA9IG51bGwpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbG9zZXMgdGhlIHN0cmVhbSBhbmQgY2xlYW5zIHVwIGFzIG5lY2Vzc2FyeTpcbiAgICAgKlxuICAgICAqICogY2xvc2VzIHRoZSB1bmRlcmx5aW5nIEdSUEMgc3RyZWFtO1xuICAgICAqICogY2FsbHMgdGhlIG9uQ2xvc2UgaGFuZGxlciB3aXRoIHRoZSBnaXZlbiAnZXJyb3InO1xuICAgICAqICogc2V0cyBpbnRlcm5hbCBzdHJlYW0gc3RhdGUgdG8gJ2ZpbmFsU3RhdGUnO1xuICAgICAqICogYWRqdXN0cyB0aGUgYmFja29mZiB0aW1lciBiYXNlZCBvbiB0aGUgZXJyb3JcbiAgICAgKlxuICAgICAqIEEgbmV3IHN0cmVhbSBjYW4gYmUgb3BlbmVkIGJ5IGNhbGxpbmcgc3RhcnQoKS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaW5hbFN0YXRlIC0gdGhlIGludGVuZGVkIHN0YXRlIG9mIHRoZSBzdHJlYW0gYWZ0ZXIgY2xvc2luZy5cbiAgICAgKiBAcGFyYW0gZXJyb3IgLSB0aGUgZXJyb3IgdGhlIGNvbm5lY3Rpb24gd2FzIGNsb3NlZCB3aXRoLlxuICAgICAqLyAgICBhc3luYyBjbG9zZShlLCB0KSB7XG4gICAgICAgIC8vIENhbmNlbCBhbnkgb3V0c3RhbmRpbmcgdGltZXJzICh0aGV5J3JlIGd1YXJhbnRlZWQgbm90IHRvIGV4ZWN1dGUpLlxuICAgICAgICB0aGlzLnNfKCksIHRoaXMub18oKSwgdGhpcy5Zby5jYW5jZWwoKSwgXG4gICAgICAgIC8vIEludmFsaWRhdGVzIGFueSBzdHJlYW0tcmVsYXRlZCBjYWxsYmFja3MgKGUuZy4gZnJvbSBhdXRoIG9yIHRoZVxuICAgICAgICAvLyB1bmRlcmx5aW5nIHN0cmVhbSksIGd1YXJhbnRlZWluZyB0aGV5IHdvbid0IGV4ZWN1dGUuXG4gICAgICAgIHRoaXMuam8rKywgNCAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuRXJyb3IgKi8gIT09IGUgPyBcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBhbiBpbnRlbnRpb25hbCBjbG9zZSBlbnN1cmUgd2UgZG9uJ3QgZGVsYXkgb3VyIG5leHQgY29ubmVjdGlvbiBhdHRlbXB0LlxuICAgICAgICB0aGlzLllvLnJlc2V0KCkgOiB0ICYmIHQuY29kZSA9PT0gQy5SRVNPVVJDRV9FWEhBVVNURUQgPyAoXG4gICAgICAgIC8vIExvZyB0aGUgZXJyb3IuIChQcm9iYWJseSBlaXRoZXIgJ3F1b3RhIGV4Y2VlZGVkJyBvciAnbWF4IHF1ZXVlIGxlbmd0aCByZWFjaGVkJy4pXG4gICAgICAgIF9fUFJJVkFURV9sb2dFcnJvcih0LnRvU3RyaW5nKCkpLCBfX1BSSVZBVEVfbG9nRXJyb3IoXCJVc2luZyBtYXhpbXVtIGJhY2tvZmYgZGVsYXkgdG8gcHJldmVudCBvdmVybG9hZGluZyB0aGUgYmFja2VuZC5cIiksIFxuICAgICAgICB0aGlzLllvLktvKCkpIDogdCAmJiB0LmNvZGUgPT09IEMuVU5BVVRIRU5USUNBVEVEICYmIDMgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkhlYWx0aHkgKi8gIT09IHRoaXMuc3RhdGUgJiYgKFxuICAgICAgICAvLyBcInVuYXV0aGVudGljYXRlZFwiIGVycm9yIG1lYW5zIHRoZSB0b2tlbiB3YXMgcmVqZWN0ZWQuIFRoaXMgc2hvdWxkIHJhcmVseVxuICAgICAgICAvLyBoYXBwZW4gc2luY2UgYm90aCBBdXRoIGFuZCBBcHBDaGVjayBlbnN1cmUgYSBzdWZmaWNpZW50IFRUTCB3aGVuIHdlXG4gICAgICAgIC8vIHJlcXVlc3QgYSB0b2tlbi4gSWYgYSB1c2VyIG1hbnVhbGx5IHJlc2V0cyB0aGVpciBzeXN0ZW0gY2xvY2sgdGhpcyBjYW5cbiAgICAgICAgLy8gZmFpbCwgaG93ZXZlci4gSW4gdGhpcyBjYXNlLCB3ZSBzaG91bGQgZ2V0IGEgQ29kZS5VTkFVVEhFTlRJQ0FURUQgZXJyb3JcbiAgICAgICAgLy8gYmVmb3JlIHdlIHJlY2VpdmVkIHRoZSBmaXJzdCBtZXNzYWdlIGFuZCB3ZSBuZWVkIHRvIGludmFsaWRhdGUgdGhlIHRva2VuXG4gICAgICAgIC8vIHRvIGVuc3VyZSB0aGF0IHdlIGZldGNoIGEgbmV3IHRva2VuLlxuICAgICAgICB0aGlzLmF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyLmludmFsaWRhdGVUb2tlbigpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlci5pbnZhbGlkYXRlVG9rZW4oKSksIFxuICAgICAgICAvLyBDbGVhbiB1cCB0aGUgdW5kZXJseWluZyBzdHJlYW0gYmVjYXVzZSB3ZSBhcmUgbm8gbG9uZ2VyIGludGVyZXN0ZWQgaW4gZXZlbnRzLlxuICAgICAgICBudWxsICE9PSB0aGlzLnN0cmVhbSAmJiAodGhpcy5fXygpLCB0aGlzLnN0cmVhbS5jbG9zZSgpLCB0aGlzLnN0cmVhbSA9IG51bGwpLCBcbiAgICAgICAgLy8gVGhpcyBzdGF0ZSBtdXN0IGJlIGFzc2lnbmVkIGJlZm9yZSBjYWxsaW5nIG9uQ2xvc2UoKSB0byBhbGxvdyB0aGUgY2FsbGJhY2sgdG9cbiAgICAgICAgLy8gaW5oaWJpdCBiYWNrb2ZmIG9yIG90aGVyd2lzZSBtYW5pcHVsYXRlIHRoZSBzdGF0ZSBpbiBpdHMgbm9uLXN0YXJ0ZWQgc3RhdGUuXG4gICAgICAgIHRoaXMuc3RhdGUgPSBlLCBcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBsaXN0ZW5lciB0aGF0IHRoZSBzdHJlYW0gY2xvc2VkLlxuICAgICAgICBhd2FpdCB0aGlzLmxpc3RlbmVyLkFvKHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW4gYmUgb3ZlcnJpZGRlbiB0byBwZXJmb3JtIGFkZGl0aW9uYWwgY2xlYW51cCBiZWZvcmUgdGhlIHN0cmVhbSBpcyBjbG9zZWQuXG4gICAgICogQ2FsbGluZyBzdXBlci50ZWFyRG93bigpIGlzIG5vdCByZXF1aXJlZC5cbiAgICAgKi8gICAgX18oKSB7fVxuICAgIGF1dGgoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSAxIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5TdGFydGluZyAqLztcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuYV8odGhpcy5qbyksIHQgPSB0aGlzLmpvO1xuICAgICAgICAvLyBUT0RPKG1pa2VsZWhlbik6IEp1c3QgdXNlIGRpc3BhdGNoSWZOb3RDbG9zZWQsIGJ1dCBzZWUgVE9ETyBiZWxvdy5cbiAgICAgICAgICAgICAgICBQcm9taXNlLmFsbChbIHRoaXMuYXV0aENyZWRlbnRpYWxzUHJvdmlkZXIuZ2V0VG9rZW4oKSwgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzUHJvdmlkZXIuZ2V0VG9rZW4oKSBdKS50aGVuKCgoW2UsIG5dKSA9PiB7XG4gICAgICAgICAgICAvLyBTdHJlYW0gY2FuIGJlIHN0b3BwZWQgd2hpbGUgd2FpdGluZyBmb3IgYXV0aGVudGljYXRpb24uXG4gICAgICAgICAgICAvLyBUT0RPKG1pa2VsZWhlbik6IFdlIHJlYWxseSBzaG91bGQganVzdCB1c2UgZGlzcGF0Y2hJZk5vdENsb3NlZFxuICAgICAgICAgICAgLy8gYW5kIGxldCB0aGlzIGRpc3BhdGNoIG9udG8gdGhlIHF1ZXVlLCBidXQgdGhhdCBvcGVuZWQgYSBzcGVjIHRlc3QgY2FuXG4gICAgICAgICAgICAvLyBvZiB3b3JtcyB0aGF0IEkgZG9uJ3Qgd2FudCB0byBkZWFsIHdpdGggaW4gdGhpcyBQUi5cbiAgICAgICAgICAgIHRoaXMuam8gPT09IHQgJiYgXG4gICAgICAgICAgICAvLyBOb3JtYWxseSB3ZSdkIGhhdmUgdG8gc2NoZWR1bGUgdGhlIGNhbGxiYWNrIG9uIHRoZSBBc3luY1F1ZXVlLlxuICAgICAgICAgICAgLy8gSG93ZXZlciwgdGhlIGZvbGxvd2luZyBjYWxscyBhcmUgc2FmZSB0byBiZSBjYWxsZWQgb3V0c2lkZSB0aGVcbiAgICAgICAgICAgIC8vIEFzeW5jUXVldWUgc2luY2UgdGhleSBkb24ndCBjaGFpbiBhc3luY2hyb25vdXMgY2FsbHNcbiAgICAgICAgICAgIHRoaXMudV8oZSwgbik7XG4gICAgICAgIH0pLCAodCA9PiB7XG4gICAgICAgICAgICBlKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOS05PV04sIFwiRmV0Y2hpbmcgYXV0aCB0b2tlbiBmYWlsZWQ6IFwiICsgdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5jXyhlKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB1XyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmFfKHRoaXMuam8pO1xuICAgICAgICB0aGlzLnN0cmVhbSA9IHRoaXMubF8oZSwgdCksIHRoaXMuc3RyZWFtLlBvKCgoKSA9PiB7XG4gICAgICAgICAgICBuKCgoKSA9PiB0aGlzLmxpc3RlbmVyLlBvKCkpKTtcbiAgICAgICAgfSkpLCB0aGlzLnN0cmVhbS5UbygoKCkgPT4ge1xuICAgICAgICAgICAgbigoKCkgPT4gKHRoaXMuc3RhdGUgPSAyIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5PcGVuICovICwgdGhpcy5KbyA9IHRoaXMub2kuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy56bywgMWU0LCAoKCkgPT4gKHRoaXMuWG8oKSAmJiAodGhpcy5zdGF0ZSA9IDMgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkhlYWx0aHkgKi8pLCBcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZSgpKSkpLCB0aGlzLmxpc3RlbmVyLlRvKCkpKSk7XG4gICAgICAgIH0pKSwgdGhpcy5zdHJlYW0uQW8oKGUgPT4ge1xuICAgICAgICAgICAgbigoKCkgPT4gdGhpcy5jXyhlKSkpO1xuICAgICAgICB9KSksIHRoaXMuc3RyZWFtLm9uTWVzc2FnZSgoZSA9PiB7XG4gICAgICAgICAgICBuKCgoKSA9PiB0aGlzLm9uTWVzc2FnZShlKSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGVfKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gNSAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuQmFja29mZiAqLyAsIHRoaXMuWW8uJG8oKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSAwIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5Jbml0aWFsICovICwgdGhpcy5zdGFydCgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8vIFZpc2libGUgZm9yIHRlc3RzXG4gICAgY18oZSkge1xuICAgICAgICAvLyBJbiB0aGVvcnkgdGhlIHN0cmVhbSBjb3VsZCBjbG9zZSBjbGVhbmx5LCBob3dldmVyLCBpbiBvdXIgY3VycmVudCBtb2RlbFxuICAgICAgICAvLyB3ZSBuZXZlciBleHBlY3QgdGhpcyB0byBoYXBwZW4gYmVjYXVzZSBpZiB3ZSBzdG9wIGEgc3RyZWFtIG91cnNlbHZlcyxcbiAgICAgICAgLy8gdGhpcyBjYWxsYmFjayB3aWxsIG5ldmVyIGJlIGNhbGxlZC4gVG8gcHJldmVudCBjYXNlcyB3aGVyZSB3ZSByZXRyeVxuICAgICAgICAvLyB3aXRob3V0IGEgYmFja29mZiBhY2NpZGVudGFsbHksIHdlIHNldCB0aGUgc3RyZWFtIHRvIGVycm9yIGluIGFsbCBjYXNlcy5cbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlBlcnNpc3RlbnRTdHJlYW1cIiwgYGNsb3NlIHdpdGggZXJyb3I6ICR7ZX1gKSwgdGhpcy5zdHJlYW0gPSBudWxsLCBcbiAgICAgICAgdGhpcy5jbG9zZSg0IC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5FcnJvciAqLyAsIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgXCJkaXNwYXRjaGVyXCIgZnVuY3Rpb24gdGhhdCBkaXNwYXRjaGVzIG9wZXJhdGlvbnMgb250byB0aGVcbiAgICAgKiBBc3luY1F1ZXVlIGJ1dCBvbmx5IHJ1bnMgdGhlbSBpZiBjbG9zZUNvdW50IHJlbWFpbnMgdW5jaGFuZ2VkLiBUaGlzIGFsbG93c1xuICAgICAqIHVzIHRvIHR1cm4gYXV0aCAvIHN0cmVhbSBjYWxsYmFja3MgaW50byBuby1vcHMgaWYgdGhlIHN0cmVhbSBpcyBjbG9zZWQgL1xuICAgICAqIHJlLW9wZW5lZCwgZXRjLlxuICAgICAqLyAgICBhXyhlKSB7XG4gICAgICAgIHJldHVybiB0ID0+IHtcbiAgICAgICAgICAgIHRoaXMub2kuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gdGhpcy5qbyA9PT0gZSA/IHQoKSA6IChfX1BSSVZBVEVfbG9nRGVidWcoXCJQZXJzaXN0ZW50U3RyZWFtXCIsIFwic3RyZWFtIGNhbGxiYWNrIHNraXBwZWQgYnkgZ2V0Q2xvc2VHdWFyZGVkRGlzcGF0Y2hlci5cIiksIFxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkpKSk7XG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vKipcbiAqIEEgUGVyc2lzdGVudFN0cmVhbSB0aGF0IGltcGxlbWVudHMgdGhlIExpc3RlbiBSUEMuXG4gKlxuICogT25jZSB0aGUgTGlzdGVuIHN0cmVhbSBoYXMgY2FsbGVkIHRoZSBvbk9wZW4oKSBsaXN0ZW5lciwgYW55IG51bWJlciBvZlxuICogbGlzdGVuKCkgYW5kIHVubGlzdGVuKCkgY2FsbHMgY2FuIGJlIG1hZGUgdG8gY29udHJvbCB3aGF0IGNoYW5nZXMgd2lsbCBiZVxuICogc2VudCBmcm9tIHRoZSBzZXJ2ZXIgZm9yIExpc3RlblJlc3BvbnNlcy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfUGVyc2lzdGVudExpc3RlblN0cmVhbSBleHRlbmRzIF9fUFJJVkFURV9QZXJzaXN0ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpLCBzKSB7XG4gICAgICAgIHN1cGVyKGUsIFwibGlzdGVuX3N0cmVhbV9jb25uZWN0aW9uX2JhY2tvZmZcIiAvKiBUaW1lcklkLkxpc3RlblN0cmVhbUNvbm5lY3Rpb25CYWNrb2ZmICovICwgXCJsaXN0ZW5fc3RyZWFtX2lkbGVcIiAvKiBUaW1lcklkLkxpc3RlblN0cmVhbUlkbGUgKi8gLCBcImhlYWx0aF9jaGVja190aW1lb3V0XCIgLyogVGltZXJJZC5IZWFsdGhDaGVja1RpbWVvdXQgKi8gLCB0LCBuLCByLCBzKSwgXG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IGk7XG4gICAgfVxuICAgIGxfKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5PbyhcIkxpc3RlblwiLCBlLCB0KTtcbiAgICB9XG4gICAgb25NZXNzYWdlKGUpIHtcbiAgICAgICAgLy8gQSBzdWNjZXNzZnVsIHJlc3BvbnNlIG1lYW5zIHRoZSBzdHJlYW0gaXMgaGVhbHRoeVxuICAgICAgICB0aGlzLllvLnJlc2V0KCk7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZnJvbVdhdGNoQ2hhbmdlKHRoaXMuc2VyaWFsaXplciwgZSksIG4gPSBmdW5jdGlvbiBfX1BSSVZBVEVfdmVyc2lvbkZyb21MaXN0ZW5SZXNwb25zZShlKSB7XG4gICAgICAgICAgICAvLyBXZSBoYXZlIG9ubHkgcmVhY2hlZCBhIGNvbnNpc3RlbnQgc25hcHNob3QgZm9yIHRoZSBlbnRpcmUgc3RyZWFtIGlmIHRoZXJlXG4gICAgICAgICAgICAvLyBpcyBhIHJlYWRfdGltZSBzZXQgYW5kIGl0IGFwcGxpZXMgdG8gYWxsIHRhcmdldHMgKGkuZS4gdGhlIGxpc3Qgb2ZcbiAgICAgICAgICAgIC8vIHRhcmdldHMgaXMgZW1wdHkpLiBUaGUgYmFja2VuZCBpcyBndWFyYW50ZWVkIHRvIHNlbmQgc3VjaCByZXNwb25zZXMuXG4gICAgICAgICAgICBpZiAoIShcInRhcmdldENoYW5nZVwiIGluIGUpKSByZXR1cm4gU25hcHNob3RWZXJzaW9uLm1pbigpO1xuICAgICAgICAgICAgY29uc3QgdCA9IGUudGFyZ2V0Q2hhbmdlO1xuICAgICAgICAgICAgcmV0dXJuIHQudGFyZ2V0SWRzICYmIHQudGFyZ2V0SWRzLmxlbmd0aCA/IFNuYXBzaG90VmVyc2lvbi5taW4oKSA6IHQucmVhZFRpbWUgPyBfX1BSSVZBVEVfZnJvbVZlcnNpb24odC5yZWFkVGltZSkgOiBTbmFwc2hvdFZlcnNpb24ubWluKCk7XG4gICAgICAgIH0oZSk7XG4gICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmhfKHQsIG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgaW50ZXJlc3QgaW4gdGhlIHJlc3VsdHMgb2YgdGhlIGdpdmVuIHRhcmdldC4gSWYgdGhlIHRhcmdldFxuICAgICAqIGluY2x1ZGVzIGEgcmVzdW1lVG9rZW4gaXQgd2lsbCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVxdWVzdC4gUmVzdWx0cyB0aGF0XG4gICAgICogYWZmZWN0IHRoZSB0YXJnZXQgd2lsbCBiZSBzdHJlYW1lZCBiYWNrIGFzIFdhdGNoQ2hhbmdlIG1lc3NhZ2VzIHRoYXRcbiAgICAgKiByZWZlcmVuY2UgdGhlIHRhcmdldElkLlxuICAgICAqLyAgICBQXyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB7fTtcbiAgICAgICAgdC5kYXRhYmFzZSA9IF9fUFJJVkFURV9nZXRFbmNvZGVkRGF0YWJhc2VJZCh0aGlzLnNlcmlhbGl6ZXIpLCB0LmFkZFRhcmdldCA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b1RhcmdldChlLCB0KSB7XG4gICAgICAgICAgICBsZXQgbjtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0LnRhcmdldDtcbiAgICAgICAgICAgIGlmIChuID0gX19QUklWQVRFX3RhcmdldElzRG9jdW1lbnRUYXJnZXQocikgPyB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnRzOiBfX1BSSVZBVEVfdG9Eb2N1bWVudHNUYXJnZXQoZSwgcilcbiAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgcXVlcnk6IF9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0KGUsIHIpLl90XG4gICAgICAgICAgICB9LCBuLnRhcmdldElkID0gdC50YXJnZXRJZCwgdC5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgbi5yZXN1bWVUb2tlbiA9IF9fUFJJVkFURV90b0J5dGVzKGUsIHQucmVzdW1lVG9rZW4pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfdG9JbnQzMlByb3RvKGUsIHQuZXhwZWN0ZWRDb3VudCk7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gciAmJiAobi5leHBlY3RlZENvdW50ID0gcik7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHQuc25hcHNob3RWZXJzaW9uLmNvbXBhcmVUbyhTbmFwc2hvdFZlcnNpb24ubWluKCkpID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIFRPRE8od3VhbmR5KTogQ29uc2lkZXIgcmVtb3ZpbmcgYWJvdmUgY2hlY2sgYmVjYXVzZSBpdCBpcyBtb3N0IGxpa2VseSB0cnVlLlxuICAgICAgICAgICAgICAgIC8vIFJpZ2h0IG5vdywgbWFueSB0ZXN0cyBkZXBlbmQgb24gdGhpcyBiZWhhdmlvdXIgdGhvdWdoIChsZWF2aW5nIG1pbigpIG91dFxuICAgICAgICAgICAgICAgIC8vIG9mIHNlcmlhbGl6YXRpb24pLlxuICAgICAgICAgICAgICAgIG4ucmVhZFRpbWUgPSB0b1RpbWVzdGFtcChlLCB0LnNuYXBzaG90VmVyc2lvbi50b1RpbWVzdGFtcCgpKTtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX3RvSW50MzJQcm90byhlLCB0LmV4cGVjdGVkQ291bnQpO1xuICAgICAgICAgICAgICAgIG51bGwgIT09IHIgJiYgKG4uZXhwZWN0ZWRDb3VudCA9IHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0odGhpcy5zZXJpYWxpemVyLCBlKTtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV90b0xpc3RlblJlcXVlc3RMYWJlbHModGhpcy5zZXJpYWxpemVyLCBlKTtcbiAgICAgICAgbiAmJiAodC5sYWJlbHMgPSBuKSwgdGhpcy5pXyh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVW5yZWdpc3RlcnMgaW50ZXJlc3QgaW4gdGhlIHJlc3VsdHMgb2YgdGhlIHRhcmdldCBhc3NvY2lhdGVkIHdpdGggdGhlXG4gICAgICogZ2l2ZW4gdGFyZ2V0SWQuXG4gICAgICovICAgIElfKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHt9O1xuICAgICAgICB0LmRhdGFiYXNlID0gX19QUklWQVRFX2dldEVuY29kZWREYXRhYmFzZUlkKHRoaXMuc2VyaWFsaXplciksIHQucmVtb3ZlVGFyZ2V0ID0gZSwgXG4gICAgICAgIHRoaXMuaV8odCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgU3RyZWFtIHRoYXQgaW1wbGVtZW50cyB0aGUgV3JpdGUgUlBDLlxuICpcbiAqIFRoZSBXcml0ZSBSUEMgcmVxdWlyZXMgdGhlIGNhbGxlciB0byBtYWludGFpbiBzcGVjaWFsIHN0cmVhbVRva2VuXG4gKiBzdGF0ZSBpbiBiZXR3ZWVuIGNhbGxzLCB0byBoZWxwIHRoZSBzZXJ2ZXIgdW5kZXJzdGFuZCB3aGljaCByZXNwb25zZXMgdGhlXG4gKiBjbGllbnQgaGFzIHByb2Nlc3NlZCBieSB0aGUgdGltZSB0aGUgbmV4dCByZXF1ZXN0IGlzIG1hZGUuIEV2ZXJ5IHJlc3BvbnNlXG4gKiB3aWxsIGNvbnRhaW4gYSBzdHJlYW1Ub2tlbjsgdGhpcyB2YWx1ZSBtdXN0IGJlIHBhc3NlZCB0byB0aGUgbmV4dFxuICogcmVxdWVzdC5cbiAqXG4gKiBBZnRlciBjYWxsaW5nIHN0YXJ0KCkgb24gdGhpcyBzdHJlYW0sIHRoZSBuZXh0IHJlcXVlc3QgbXVzdCBiZSBhIGhhbmRzaGFrZSxcbiAqIGNvbnRhaW5pbmcgd2hhdGV2ZXIgc3RyZWFtVG9rZW4gaXMgb24gaGFuZC4gT25jZSBhIHJlc3BvbnNlIHRvIHRoaXNcbiAqIHJlcXVlc3QgaXMgcmVjZWl2ZWQsIGFsbCBwZW5kaW5nIG11dGF0aW9ucyBtYXkgYmUgc3VibWl0dGVkLiBXaGVuXG4gKiBzdWJtaXR0aW5nIG11bHRpcGxlIGJhdGNoZXMgb2YgbXV0YXRpb25zIGF0IHRoZSBzYW1lIHRpbWUsIGl0J3NcbiAqIG9rYXkgdG8gdXNlIHRoZSBzYW1lIHN0cmVhbVRva2VuIGZvciB0aGUgY2FsbHMgdG8gd3JpdGVNdXRhdGlvbnMuXG4gKlxuICogVE9ETyhiLzMzMjcxMjM1KTogVXNlIHByb3RvIHR5cGVzXG4gKi8gY2xhc3MgX19QUklWQVRFX1BlcnNpc3RlbnRXcml0ZVN0cmVhbSBleHRlbmRzIF9fUFJJVkFURV9QZXJzaXN0ZW50U3RyZWFtIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpLCBzKSB7XG4gICAgICAgIHN1cGVyKGUsIFwid3JpdGVfc3RyZWFtX2Nvbm5lY3Rpb25fYmFja29mZlwiIC8qIFRpbWVySWQuV3JpdGVTdHJlYW1Db25uZWN0aW9uQmFja29mZiAqLyAsIFwid3JpdGVfc3RyZWFtX2lkbGVcIiAvKiBUaW1lcklkLldyaXRlU3RyZWFtSWRsZSAqLyAsIFwiaGVhbHRoX2NoZWNrX3RpbWVvdXRcIiAvKiBUaW1lcklkLkhlYWx0aENoZWNrVGltZW91dCAqLyAsIHQsIG4sIHIsIHMpLCBcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gaSwgdGhpcy5UXyA9ICExO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUcmFja3Mgd2hldGhlciBvciBub3QgYSBoYW5kc2hha2UgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IGV4Y2hhbmdlZCBhbmRcbiAgICAgKiB0aGUgc3RyZWFtIGlzIHJlYWR5IHRvIGFjY2VwdCBtdXRhdGlvbnMuXG4gICAgICovICAgIGdldCBFXygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVF87XG4gICAgfVxuICAgIC8vIE92ZXJyaWRlIG9mIFBlcnNpc3RlbnRTdHJlYW0uc3RhcnRcbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5UXyA9ICExLCB0aGlzLmxhc3RTdHJlYW1Ub2tlbiA9IHZvaWQgMCwgc3VwZXIuc3RhcnQoKTtcbiAgICB9XG4gICAgX18oKSB7XG4gICAgICAgIHRoaXMuVF8gJiYgdGhpcy5kXyhbXSk7XG4gICAgfVxuICAgIGxfKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdGlvbi5PbyhcIldyaXRlXCIsIGUsIHQpO1xuICAgIH1cbiAgICBvbk1lc3NhZ2UoZSkge1xuICAgICAgICBpZiAoXG4gICAgICAgIC8vIEFsd2F5cyBjYXB0dXJlIHRoZSBsYXN0IHN0cmVhbSB0b2tlbi5cbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoISFlLnN0cmVhbVRva2VuKSwgdGhpcy5sYXN0U3RyZWFtVG9rZW4gPSBlLnN0cmVhbVRva2VuLCB0aGlzLlRfKSB7XG4gICAgICAgICAgICAvLyBBIHN1Y2Nlc3NmdWwgZmlyc3Qgd3JpdGUgcmVzcG9uc2UgbWVhbnMgdGhlIHN0cmVhbSBpcyBoZWFsdGh5LFxuICAgICAgICAgICAgLy8gTm90ZSwgdGhhdCB3ZSBjb3VsZCBjb25zaWRlciBhIHN1Y2Nlc3NmdWwgaGFuZHNoYWtlIGhlYWx0aHksIGhvd2V2ZXIsXG4gICAgICAgICAgICAvLyB0aGUgd3JpdGUgaXRzZWxmIG1pZ2h0IGJlIGNhdXNpbmcgYW4gZXJyb3Igd2Ugd2FudCB0byBiYWNrIG9mZiBmcm9tLlxuICAgICAgICAgICAgdGhpcy5Zby5yZXNldCgpO1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9mcm9tV3JpdGVSZXN1bHRzKGUud3JpdGVSZXN1bHRzLCBlLmNvbW1pdFRpbWUpLCBuID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKGUuY29tbWl0VGltZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5BXyhuLCB0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgZmlyc3QgcmVzcG9uc2UgaXMgYWx3YXlzIHRoZSBoYW5kc2hha2UgcmVzcG9uc2VcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KCFlLndyaXRlUmVzdWx0cyB8fCAwID09PSBlLndyaXRlUmVzdWx0cy5sZW5ndGgpLCB0aGlzLlRfID0gITAsIFxuICAgICAgICB0aGlzLmxpc3RlbmVyLlJfKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNlbmRzIGFuIGluaXRpYWwgc3RyZWFtVG9rZW4gdG8gdGhlIHNlcnZlciwgcGVyZm9ybWluZyB0aGUgaGFuZHNoYWtlXG4gICAgICogcmVxdWlyZWQgdG8gbWFrZSB0aGUgU3RyZWFtaW5nV3JpdGUgUlBDIHdvcmsuIFN1YnNlcXVlbnRcbiAgICAgKiBjYWxscyBzaG91bGQgd2FpdCB1bnRpbCBvbkhhbmRzaGFrZUNvbXBsZXRlIHdhcyBjYWxsZWQuXG4gICAgICovICAgIFZfKCkge1xuICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IFN1cHBvcnQgc3RyZWFtIHJlc3VtcHRpb24uIFdlIGludGVudGlvbmFsbHkgZG8gbm90IHNldCB0aGVcbiAgICAgICAgLy8gc3RyZWFtIHRva2VuIG9uIHRoZSBoYW5kc2hha2UsIGlnbm9yaW5nIGFueSBzdHJlYW0gdG9rZW4gd2UgbWlnaHQgaGF2ZS5cbiAgICAgICAgY29uc3QgZSA9IHt9O1xuICAgICAgICBlLmRhdGFiYXNlID0gX19QUklWQVRFX2dldEVuY29kZWREYXRhYmFzZUlkKHRoaXMuc2VyaWFsaXplciksIHRoaXMuaV8oZSk7XG4gICAgfVxuICAgIC8qKiBTZW5kcyBhIGdyb3VwIG9mIG11dGF0aW9ucyB0byB0aGUgRmlyZXN0b3JlIGJhY2tlbmQgdG8gYXBwbHkuICovICAgIGRfKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIHN0cmVhbVRva2VuOiB0aGlzLmxhc3RTdHJlYW1Ub2tlbixcbiAgICAgICAgICAgIHdyaXRlczogZS5tYXAoKGUgPT4gdG9NdXRhdGlvbih0aGlzLnNlcmlhbGl6ZXIsIGUpKSlcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pXyh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIERhdGFzdG9yZSBhbmQgaXRzIHJlbGF0ZWQgbWV0aG9kcyBhcmUgYSB3cmFwcGVyIGFyb3VuZCB0aGUgZXh0ZXJuYWwgR29vZ2xlXG4gKiBDbG91ZCBEYXRhc3RvcmUgZ3JwYyBBUEksIHdoaWNoIHByb3ZpZGVzIGFuIGludGVyZmFjZSB0aGF0IGlzIG1vcmUgY29udmVuaWVudFxuICogZm9yIHRoZSByZXN0IG9mIHRoZSBjbGllbnQgU0RLIGFyY2hpdGVjdHVyZSB0byBjb25zdW1lLlxuICovXG4vKipcbiAqIEFuIGltcGxlbWVudGF0aW9uIG9mIERhdGFzdG9yZSB0aGF0IGV4cG9zZXMgYWRkaXRpb25hbCBzdGF0ZSBmb3IgaW50ZXJuYWxcbiAqIGNvbnN1bXB0aW9uLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfRGF0YXN0b3JlSW1wbCBleHRlbmRzIGNsYXNzIERhdGFzdG9yZSB7fSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmF1dGhDcmVkZW50aWFscyA9IGUsIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscyA9IHQsIHRoaXMuY29ubmVjdGlvbiA9IG4sIFxuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSByLCB0aGlzLm1fID0gITE7XG4gICAgfVxuICAgIGZfKCkge1xuICAgICAgICBpZiAodGhpcy5tXykgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJUaGUgY2xpZW50IGhhcyBhbHJlYWR5IGJlZW4gdGVybWluYXRlZC5cIik7XG4gICAgfVxuICAgIC8qKiBJbnZva2VzIHRoZSBwcm92aWRlZCBSUEMgd2l0aCBhdXRoIGFuZCBBcHBDaGVjayB0b2tlbnMuICovICAgIENvKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZl8oKSwgUHJvbWlzZS5hbGwoWyB0aGlzLmF1dGhDcmVkZW50aWFscy5nZXRUb2tlbigpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKSBdKS50aGVuKCgoW2ksIHNdKSA9PiB0aGlzLmNvbm5lY3Rpb24uQ28oZSwgX19QUklWQVRFX3RvUmVzb3VyY2VQYXRoKHQsIG4pLCByLCBpLCBzKSkpLmNhdGNoKChlID0+IHtcbiAgICAgICAgICAgIHRocm93IFwiRmlyZWJhc2VFcnJvclwiID09PSBlLm5hbWUgPyAoZS5jb2RlID09PSBDLlVOQVVUSEVOVElDQVRFRCAmJiAodGhpcy5hdXRoQ3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCksIFxuICAgICAgICAgICAgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpKSwgZSkgOiBuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTktOT1dOLCBlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKiBJbnZva2VzIHRoZSBwcm92aWRlZCBSUEMgd2l0aCBzdHJlYW1lZCByZXN1bHRzIHdpdGggYXV0aCBhbmQgQXBwQ2hlY2sgdG9rZW5zLiAqLyAgICB4byhlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZfKCksIFByb21pc2UuYWxsKFsgdGhpcy5hdXRoQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKSwgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzLmdldFRva2VuKCkgXSkudGhlbigoKFtzLCBvXSkgPT4gdGhpcy5jb25uZWN0aW9uLnhvKGUsIF9fUFJJVkFURV90b1Jlc291cmNlUGF0aCh0LCBuKSwgciwgcywgbywgaSkpKS5jYXRjaCgoZSA9PiB7XG4gICAgICAgICAgICB0aHJvdyBcIkZpcmViYXNlRXJyb3JcIiA9PT0gZS5uYW1lID8gKGUuY29kZSA9PT0gQy5VTkFVVEhFTlRJQ0FURUQgJiYgKHRoaXMuYXV0aENyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpLCBcbiAgICAgICAgICAgIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscy5pbnZhbGlkYXRlVG9rZW4oKSksIGUpIDogbmV3IEZpcmVzdG9yZUVycm9yKEMuVU5LTk9XTiwgZS50b1N0cmluZygpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHRoaXMubV8gPSAhMCwgdGhpcy5jb25uZWN0aW9uLnRlcm1pbmF0ZSgpO1xuICAgIH1cbn1cblxuLy8gVE9ETyhmaXJlc3RvcmV4cCk6IE1ha2Ugc3VyZSB0aGVyZSBpcyBvbmx5IG9uZSBEYXRhc3RvcmUgaW5zdGFuY2UgcGVyXG4vLyBmaXJlc3RvcmUtZXhwIGNsaWVudC5cbi8qKlxuICogQSBjb21wb25lbnQgdXNlZCBieSB0aGUgUmVtb3RlU3RvcmUgdG8gdHJhY2sgdGhlIE9ubGluZVN0YXRlICh0aGF0IGlzLFxuICogd2hldGhlciBvciBub3QgdGhlIGNsaWVudCBhcyBhIHdob2xlIHNob3VsZCBiZSBjb25zaWRlcmVkIHRvIGJlIG9ubGluZSBvclxuICogb2ZmbGluZSksIGltcGxlbWVudGluZyB0aGUgYXBwcm9wcmlhdGUgaGV1cmlzdGljcy5cbiAqXG4gKiBJbiBwYXJ0aWN1bGFyLCB3aGVuIHRoZSBjbGllbnQgaXMgdHJ5aW5nIHRvIGNvbm5lY3QgdG8gdGhlIGJhY2tlbmQsIHdlXG4gKiBhbGxvdyB1cCB0byBNQVhfV0FUQ0hfU1RSRUFNX0ZBSUxVUkVTIHdpdGhpbiBPTkxJTkVfU1RBVEVfVElNRU9VVF9NUyBmb3JcbiAqIGEgY29ubmVjdGlvbiB0byBzdWNjZWVkLiBJZiB3ZSBoYXZlIHRvbyBtYW55IGZhaWx1cmVzIG9yIHRoZSB0aW1lb3V0IGVsYXBzZXMsXG4gKiB0aGVuIHdlIHNldCB0aGUgT25saW5lU3RhdGUgdG8gT2ZmbGluZSwgYW5kIHRoZSBjbGllbnQgd2lsbCBiZWhhdmUgYXMgaWZcbiAqIGl0IGlzIG9mZmxpbmUgKGdldCgpcyB3aWxsIHJldHVybiBjYWNoZWQgZGF0YSwgZXRjLikuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9PbmxpbmVTdGF0ZVRyYWNrZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5hc3luY1F1ZXVlID0gZSwgdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXIgPSB0LCBcbiAgICAgICAgLyoqIFRoZSBjdXJyZW50IE9ubGluZVN0YXRlLiAqL1xuICAgICAgICB0aGlzLnN0YXRlID0gXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLyAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBjb3VudCBvZiBjb25zZWN1dGl2ZSBmYWlsdXJlcyB0byBvcGVuIHRoZSBzdHJlYW0uIElmIGl0IHJlYWNoZXMgdGhlXG4gICAgICAgICAqIG1heGltdW0gZGVmaW5lZCBieSBNQVhfV0FUQ0hfU1RSRUFNX0ZBSUxVUkVTLCB3ZSdsbCBzZXQgdGhlIE9ubGluZVN0YXRlIHRvXG4gICAgICAgICAqIE9mZmxpbmUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmdfID0gMCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHRpbWVyIHRoYXQgZWxhcHNlcyBhZnRlciBPTkxJTkVfU1RBVEVfVElNRU9VVF9NUywgYXQgd2hpY2ggcG9pbnQgd2VcbiAgICAgICAgICogdHJhbnNpdGlvbiBmcm9tIE9ubGluZVN0YXRlLlVua25vd24gdG8gT25saW5lU3RhdGUuT2ZmbGluZSB3aXRob3V0IHdhaXRpbmdcbiAgICAgICAgICogZm9yIHRoZSBzdHJlYW0gdG8gYWN0dWFsbHkgZmFpbCAoTUFYX1dBVENIX1NUUkVBTV9GQUlMVVJFUyB0aW1lcykuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnBfID0gbnVsbCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBjbGllbnQgc2hvdWxkIGxvZyBhIHdhcm5pbmcgbWVzc2FnZSBpZiBpdCBmYWlscyB0byBjb25uZWN0IHRvXG4gICAgICAgICAqIHRoZSBiYWNrZW5kIChpbml0aWFsbHkgdHJ1ZSwgY2xlYXJlZCBhZnRlciBhIHN1Y2Nlc3NmdWwgc3RyZWFtLCBvciBpZiB3ZSd2ZVxuICAgICAgICAgKiBsb2dnZWQgdGhlIG1lc3NhZ2UgYWxyZWFkeSkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnlfID0gITA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxlZCBieSBSZW1vdGVTdG9yZSB3aGVuIGEgd2F0Y2ggc3RyZWFtIGlzIHN0YXJ0ZWQgKGluY2x1ZGluZyBvbiBlYWNoXG4gICAgICogYmFja29mZiBhdHRlbXB0KS5cbiAgICAgKlxuICAgICAqIElmIHRoaXMgaXMgdGhlIGZpcnN0IGF0dGVtcHQsIGl0IHNldHMgdGhlIE9ubGluZVN0YXRlIHRvIFVua25vd24gYW5kIHN0YXJ0c1xuICAgICAqIHRoZSBvbmxpbmVTdGF0ZVRpbWVyLlxuICAgICAqLyAgICB3XygpIHtcbiAgICAgICAgMCA9PT0gdGhpcy5nXyAmJiAodGhpcy5TXyhcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKSwgdGhpcy5wXyA9IHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQWZ0ZXJEZWxheShcIm9ubGluZV9zdGF0ZV90aW1lb3V0XCIgLyogVGltZXJJZC5PbmxpbmVTdGF0ZVRpbWVvdXQgKi8gLCAxZTQsICgoKSA9PiAodGhpcy5wXyA9IG51bGwsIFxuICAgICAgICB0aGlzLmJfKFwiQmFja2VuZCBkaWRuJ3QgcmVzcG9uZCB3aXRoaW4gMTAgc2Vjb25kcy5cIiksIHRoaXMuU18oXCJPZmZsaW5lXCIgLyogT25saW5lU3RhdGUuT2ZmbGluZSAqLyksIFxuICAgICAgICBQcm9taXNlLnJlc29sdmUoKSkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgb3VyIE9ubGluZVN0YXRlIGFzIGFwcHJvcHJpYXRlIGFmdGVyIHRoZSB3YXRjaCBzdHJlYW0gcmVwb3J0cyBhXG4gICAgICogZmFpbHVyZS4gVGhlIGZpcnN0IGZhaWx1cmUgbW92ZXMgdXMgdG8gdGhlICdVbmtub3duJyBzdGF0ZS4gV2UgdGhlbiBtYXlcbiAgICAgKiBhbGxvdyBtdWx0aXBsZSBmYWlsdXJlcyAoYmFzZWQgb24gTUFYX1dBVENIX1NUUkVBTV9GQUlMVVJFUykgYmVmb3JlIHdlXG4gICAgICogYWN0dWFsbHkgdHJhbnNpdGlvbiB0byB0aGUgJ09mZmxpbmUnIHN0YXRlLlxuICAgICAqLyAgICBEXyhlKSB7XG4gICAgICAgIFwiT25saW5lXCIgLyogT25saW5lU3RhdGUuT25saW5lICovID09PSB0aGlzLnN0YXRlID8gdGhpcy5TXyhcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKSA6ICh0aGlzLmdfKyssIFxuICAgICAgICB0aGlzLmdfID49IDEgJiYgKHRoaXMuQ18oKSwgdGhpcy5iXyhgQ29ubmVjdGlvbiBmYWlsZWQgMSB0aW1lcy4gTW9zdCByZWNlbnQgZXJyb3I6ICR7ZS50b1N0cmluZygpfWApLCBcbiAgICAgICAgdGhpcy5TXyhcIk9mZmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PZmZsaW5lICovKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFeHBsaWNpdGx5IHNldHMgdGhlIE9ubGluZVN0YXRlIHRvIHRoZSBzcGVjaWZpZWQgc3RhdGUuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyByZXNldHMgb3VyIHRpbWVycyAvIGZhaWx1cmUgY291bnRlcnMsIGV0Yy4gdXNlZCBieSBvdXJcbiAgICAgKiBPZmZsaW5lIGhldXJpc3RpY3MsIHNvIG11c3Qgbm90IGJlIHVzZWQgaW4gcGxhY2Ugb2ZcbiAgICAgKiBoYW5kbGVXYXRjaFN0cmVhbVN0YXJ0KCkgYW5kIGhhbmRsZVdhdGNoU3RyZWFtRmFpbHVyZSgpLlxuICAgICAqLyAgICBzZXQoZSkge1xuICAgICAgICB0aGlzLkNfKCksIHRoaXMuZ18gPSAwLCBcIk9ubGluZVwiIC8qIE9ubGluZVN0YXRlLk9ubGluZSAqLyA9PT0gZSAmJiAoXG4gICAgICAgIC8vIFdlJ3ZlIGNvbm5lY3RlZCB0byB3YXRjaCBhdCBsZWFzdCBvbmNlLiBEb24ndCB3YXJuIHRoZSBkZXZlbG9wZXJcbiAgICAgICAgLy8gYWJvdXQgYmVpbmcgb2ZmbGluZSBnb2luZyBmb3J3YXJkLlxuICAgICAgICB0aGlzLnlfID0gITEpLCB0aGlzLlNfKGUpO1xuICAgIH1cbiAgICBTXyhlKSB7XG4gICAgICAgIGUgIT09IHRoaXMuc3RhdGUgJiYgKHRoaXMuc3RhdGUgPSBlLCB0aGlzLm9ubGluZVN0YXRlSGFuZGxlcihlKSk7XG4gICAgfVxuICAgIGJfKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGBDb3VsZCBub3QgcmVhY2ggQ2xvdWQgRmlyZXN0b3JlIGJhY2tlbmQuICR7ZX1cXG5UaGlzIHR5cGljYWxseSBpbmRpY2F0ZXMgdGhhdCB5b3VyIGRldmljZSBkb2VzIG5vdCBoYXZlIGEgaGVhbHRoeSBJbnRlcm5ldCBjb25uZWN0aW9uIGF0IHRoZSBtb21lbnQuIFRoZSBjbGllbnQgd2lsbCBvcGVyYXRlIGluIG9mZmxpbmUgbW9kZSB1bnRpbCBpdCBpcyBhYmxlIHRvIHN1Y2Nlc3NmdWxseSBjb25uZWN0IHRvIHRoZSBiYWNrZW5kLmA7XG4gICAgICAgIHRoaXMueV8gPyAoX19QUklWQVRFX2xvZ0Vycm9yKHQpLCB0aGlzLnlfID0gITEpIDogX19QUklWQVRFX2xvZ0RlYnVnKFwiT25saW5lU3RhdGVUcmFja2VyXCIsIHQpO1xuICAgIH1cbiAgICBDXygpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy5wXyAmJiAodGhpcy5wXy5jYW5jZWwoKSwgdGhpcy5wXyA9IG51bGwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX1JlbW90ZVN0b3JlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGxvY2FsIHN0b3JlLCB1c2VkIHRvIGZpbGwgdGhlIHdyaXRlIHBpcGVsaW5lIHdpdGggb3V0Ym91bmQgbXV0YXRpb25zLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKiBUaGUgY2xpZW50LXNpZGUgcHJveHkgZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIGJhY2tlbmQuICovXG4gICAgdCwgbiwgciwgaSkge1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmUgPSBlLCB0aGlzLmRhdGFzdG9yZSA9IHQsIHRoaXMuYXN5bmNRdWV1ZSA9IG4sIHRoaXMucmVtb3RlU3luY2VyID0ge30sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBsaXN0IG9mIHVwIHRvIE1BWF9QRU5ESU5HX1dSSVRFUyB3cml0ZXMgdGhhdCB3ZSBoYXZlIGZldGNoZWQgZnJvbSB0aGVcbiAgICAgICAgICogTG9jYWxTdG9yZSB2aWEgZmlsbFdyaXRlUGlwZWxpbmUoKSBhbmQgaGF2ZSBvciB3aWxsIHNlbmQgdG8gdGhlIHdyaXRlXG4gICAgICAgICAqIHN0cmVhbS5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbmV2ZXIgd3JpdGVQaXBlbGluZS5sZW5ndGggPiAwIHRoZSBSZW1vdGVTdG9yZSB3aWxsIGF0dGVtcHQgdG8gc3RhcnQgb3JcbiAgICAgICAgICogcmVzdGFydCB0aGUgd3JpdGUgc3RyZWFtLiBXaGVuIHRoZSBzdHJlYW0gaXMgZXN0YWJsaXNoZWQgdGhlIHdyaXRlcyBpbiB0aGVcbiAgICAgICAgICogcGlwZWxpbmUgd2lsbCBiZSBzZW50IGluIG9yZGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXcml0ZXMgcmVtYWluIGluIHdyaXRlUGlwZWxpbmUgdW50aWwgdGhleSBhcmUgYWNrbm93bGVkZ2VkIGJ5IHRoZSBiYWNrZW5kXG4gICAgICAgICAqIGFuZCB0aHVzIHdpbGwgYXV0b21hdGljYWxseSBiZSByZS1zZW50IGlmIHRoZSBzdHJlYW0gaXMgaW50ZXJydXB0ZWQgL1xuICAgICAgICAgKiByZXN0YXJ0ZWQgYmVmb3JlIHRoZXkncmUgYWNrbm93bGVkZ2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXcml0ZSByZXNwb25zZXMgZnJvbSB0aGUgYmFja2VuZCBhcmUgbGlua2VkIHRvIHRoZWlyIG9yaWdpbmF0aW5nIHJlcXVlc3RcbiAgICAgICAgICogcHVyZWx5IGJhc2VkIG9uIG9yZGVyLCBhbmQgc28gd2UgY2FuIGp1c3Qgc2hpZnQoKSB3cml0ZXMgZnJvbSB0aGUgZnJvbnQgb2ZcbiAgICAgICAgICogdGhlIHdyaXRlUGlwZWxpbmUgYXMgd2UgcmVjZWl2ZSByZXNwb25zZXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZfID0gW10sIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBtYXBwaW5nIG9mIHdhdGNoZWQgdGFyZ2V0cyB0aGF0IHRoZSBjbGllbnQgY2FyZXMgYWJvdXQgdHJhY2tpbmcgYW5kIHRoZVxuICAgICAgICAgKiB1c2VyIGhhcyBleHBsaWNpdGx5IGNhbGxlZCBhICdsaXN0ZW4nIGZvciB0aGlzIHRhcmdldC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgdGFyZ2V0cyBtYXkgb3IgbWF5IG5vdCBoYXZlIGJlZW4gc2VudCB0byBvciBhY2tub3dsZWRnZWQgYnkgdGhlXG4gICAgICAgICAqIHNlcnZlci4gT24gcmUtZXN0YWJsaXNoaW5nIHRoZSBsaXN0ZW4gc3RyZWFtLCB0aGVzZSB0YXJnZXRzIHNob3VsZCBiZSBzZW50XG4gICAgICAgICAqIHRvIHRoZSBzZXJ2ZXIuIFRoZSB0YXJnZXRzIHJlbW92ZWQgd2l0aCB1bmxpc3RlbnMgYXJlIHJlbW92ZWQgZWFnZXJseVxuICAgICAgICAgKiB3aXRob3V0IHdhaXRpbmcgZm9yIGNvbmZpcm1hdGlvbiBmcm9tIHRoZSBsaXN0ZW4gc3RyZWFtLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5GXyA9IG5ldyBNYXAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBzZXQgb2YgcmVhc29ucyBmb3Igd2h5IHRoZSBSZW1vdGVTdG9yZSBtYXkgYmUgb2ZmbGluZS4gSWYgZW1wdHksIHRoZVxuICAgICAgICAgKiBSZW1vdGVTdG9yZSBtYXkgc3RhcnQgaXRzIG5ldHdvcmsgY29ubmVjdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLk1fID0gbmV3IFNldCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFdmVudCBoYW5kbGVycyB0aGF0IGdldCBjYWxsZWQgd2hlbiB0aGUgbmV0d29yayBpcyBkaXNhYmxlZCBvciBlbmFibGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBQT1JUSU5HIE5PVEU6IFRoZXNlIGZ1bmN0aW9ucyBhcmUgdXNlZCBvbiB0aGUgV2ViIGNsaWVudCB0byBjcmVhdGUgdGhlXG4gICAgICAgICAqIHVuZGVybHlpbmcgc3RyZWFtcyAodG8gc3VwcG9ydCB0cmVlLXNoYWtlYWJsZSBzdHJlYW1zKS4gT24gQW5kcm9pZCBhbmQgaU9TLFxuICAgICAgICAgKiB0aGUgc3RyZWFtcyBhcmUgY3JlYXRlZCBkdXJpbmcgY29uc3RydWN0aW9uIG9mIFJlbW90ZVN0b3JlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy54XyA9IFtdLCB0aGlzLk9fID0gaSwgdGhpcy5PXy5pbygoZSA9PiB7XG4gICAgICAgICAgICBuLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBQb3J0aW5nIE5vdGU6IFVubGlrZSBpT1MsIGByZXN0YXJ0TmV0d29yaygpYCBpcyBjYWxsZWQgZXZlbiB3aGVuIHRoZVxuICAgICAgICAgICAgICAgIC8vIG5ldHdvcmsgYmVjb21lcyB1bnJlYWNoYWJsZSBhcyB3ZSBkb24ndCBoYXZlIGFueSBvdGhlciB3YXkgdG8gdGVhclxuICAgICAgICAgICAgICAgIC8vIGRvd24gb3VyIHN0cmVhbXMuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2NhblVzZU5ldHdvcmsodGhpcykgJiYgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiUmVzdGFydGluZyBzdHJlYW1zIGZvciBuZXR3b3JrIHJlYWNoYWJpbGl0eSBjaGFuZ2UuXCIpLCBcbiAgICAgICAgICAgICAgICBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVzdGFydE5ldHdvcmsoZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgICAgICAgICAgdC5NXy5hZGQoNCAvKiBPZmZsaW5lQ2F1c2UuQ29ubmVjdGl2aXR5Q2hhbmdlICovKSwgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwodCksIFxuICAgICAgICAgICAgICAgICAgICB0Lk5fLnNldChcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKSwgdC5NXy5kZWxldGUoNCAvKiBPZmZsaW5lQ2F1c2UuQ29ubmVjdGl2aXR5Q2hhbmdlICovKSwgXG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwodCk7XG4gICAgICAgICAgICAgICAgfSh0aGlzKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKSwgdGhpcy5OXyA9IG5ldyBfX1BSSVZBVEVfT25saW5lU3RhdGVUcmFja2VyKG4sIHIpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2VuYWJsZU5ldHdvcmtJbnRlcm5hbChlKSB7XG4gICAgaWYgKF9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrKGUpKSBmb3IgKGNvbnN0IHQgb2YgZS54XykgYXdhaXQgdCgvKiBlbmFibGVkPSAqLyAhMCk7XG59XG5cbi8qKlxuICogVGVtcG9yYXJpbHkgZGlzYWJsZXMgdGhlIG5ldHdvcmsuIFRoZSBuZXR3b3JrIGNhbiBiZSByZS1lbmFibGVkIHVzaW5nXG4gKiBlbmFibGVOZXR3b3JrKCkuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwoZSkge1xuICAgIGZvciAoY29uc3QgdCBvZiBlLnhfKSBhd2FpdCB0KC8qIGVuYWJsZWQ9ICovICExKTtcbn1cblxuLyoqXG4gKiBTdGFydHMgbmV3IGxpc3RlbiBmb3IgdGhlIGdpdmVuIHRhcmdldC4gVXNlcyByZXN1bWUgdG9rZW4gaWYgcHJvdmlkZWQuIEl0XG4gKiBpcyBhIG5vLW9wIGlmIHRoZSB0YXJnZXQgb2YgZ2l2ZW4gYFRhcmdldERhdGFgIGlzIGFscmVhZHkgYmVpbmcgbGlzdGVuZWQgdG8uXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdGVTdG9yZUxpc3RlbihlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgbi5GXy5oYXModC50YXJnZXRJZCkgfHwgKFxuICAgIC8vIE1hcmsgdGhpcyBhcyBzb21ldGhpbmcgdGhlIGNsaWVudCBpcyBjdXJyZW50bHkgbGlzdGVuaW5nIGZvci5cbiAgICBuLkZfLnNldCh0LnRhcmdldElkLCB0KSwgX19QUklWQVRFX3Nob3VsZFN0YXJ0V2F0Y2hTdHJlYW0obikgPyBcbiAgICAvLyBUaGUgbGlzdGVuIHdpbGwgYmUgc2VudCBpbiBvbldhdGNoU3RyZWFtT3BlblxuICAgIF9fUFJJVkFURV9zdGFydFdhdGNoU3RyZWFtKG4pIDogX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKG4pLlhvKCkgJiYgX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QobiwgdCkpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgdGhlIGxpc3RlbiBmcm9tIHNlcnZlci4gSXQgaXMgYSBuby1vcCBpZiB0aGUgZ2l2ZW4gdGFyZ2V0IGlkIGlzXG4gKiBub3QgYmVpbmcgbGlzdGVuZWQgdG8uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKG4pO1xuICAgIG4uRl8uZGVsZXRlKHQpLCByLlhvKCkgJiYgX19QUklWQVRFX3NlbmRVbndhdGNoUmVxdWVzdChuLCB0KSwgMCA9PT0gbi5GXy5zaXplICYmIChyLlhvKCkgPyByLm5fKCkgOiBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhuKSAmJiBcbiAgICAvLyBSZXZlcnQgdG8gT25saW5lU3RhdGUuVW5rbm93biBpZiB0aGUgd2F0Y2ggc3RyZWFtIGlzIG5vdCBvcGVuIGFuZCB3ZVxuICAgIC8vIGhhdmUgbm8gbGlzdGVuZXJzLCBzaW5jZSB3aXRob3V0IGFueSBsaXN0ZW5zIHRvIHNlbmQgd2UgY2Fubm90XG4gICAgLy8gY29uZmlybSBpZiB0aGUgc3RyZWFtIGlzIGhlYWx0aHkgYW5kIHVwZ3JhZGUgdG8gT25saW5lU3RhdGUuT25saW5lLlxuICAgIG4uTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pKTtcbn1cblxuLyoqXG4gKiBXZSBuZWVkIHRvIGluY3JlbWVudCB0aGUgdGhlIGV4cGVjdGVkIG51bWJlciBvZiBwZW5kaW5nIHJlc3BvbnNlcyB3ZSdyZSBkdWVcbiAqIGZyb20gd2F0Y2ggc28gd2Ugd2FpdCBmb3IgdGhlIGFjayB0byBwcm9jZXNzIGFueSBtZXNzYWdlcyBmcm9tIHRoaXMgdGFyZ2V0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zZW5kV2F0Y2hSZXF1ZXN0KGUsIHQpIHtcbiAgICBpZiAoZS5MXy54ZSh0LnRhcmdldElkKSwgdC5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwIHx8IHQuc25hcHNob3RWZXJzaW9uLmNvbXBhcmVUbyhTbmFwc2hvdFZlcnNpb24ubWluKCkpID4gMCkge1xuICAgICAgICBjb25zdCBuID0gZS5yZW1vdGVTeW5jZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0LnRhcmdldElkKS5zaXplO1xuICAgICAgICB0ID0gdC53aXRoRXhwZWN0ZWRDb3VudChuKTtcbiAgICB9XG4gICAgX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKGUpLlBfKHQpO1xufVxuXG4vKipcbiAqIFdlIG5lZWQgdG8gaW5jcmVtZW50IHRoZSBleHBlY3RlZCBudW1iZXIgb2YgcGVuZGluZyByZXNwb25zZXMgd2UncmUgZHVlXG4gKiBmcm9tIHdhdGNoIHNvIHdlIHdhaXQgZm9yIHRoZSByZW1vdmFsIG9uIHRoZSBzZXJ2ZXIgYmVmb3JlIHdlIHByb2Nlc3MgYW55XG4gKiBtZXNzYWdlcyBmcm9tIHRoaXMgdGFyZ2V0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zZW5kVW53YXRjaFJlcXVlc3QoZSwgdCkge1xuICAgIGUuTF8ueGUodCksIF9fUFJJVkFURV9lbnN1cmVXYXRjaFN0cmVhbShlKS5JXyh0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3N0YXJ0V2F0Y2hTdHJlYW0oZSkge1xuICAgIGUuTF8gPSBuZXcgX19QUklWQVRFX1dhdGNoQ2hhbmdlQWdncmVnYXRvcih7XG4gICAgICAgIGdldFJlbW90ZUtleXNGb3JUYXJnZXQ6IHQgPT4gZS5yZW1vdGVTeW5jZXIuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCh0KSxcbiAgICAgICAgb3Q6IHQgPT4gZS5GXy5nZXQodCkgfHwgbnVsbCxcbiAgICAgICAgdHQ6ICgpID0+IGUuZGF0YXN0b3JlLnNlcmlhbGl6ZXIuZGF0YWJhc2VJZFxuICAgIH0pLCBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hTdHJlYW0oZSkuc3RhcnQoKSwgZS5OXy53XygpO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgd2F0Y2ggc3RyZWFtIHNob3VsZCBiZSBzdGFydGVkIGJlY2F1c2UgaXQncyBuZWNlc3NhcnlcbiAqIGFuZCBoYXMgbm90IHlldCBiZWVuIHN0YXJ0ZWQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3Nob3VsZFN0YXJ0V2F0Y2hTdHJlYW0oZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhlKSAmJiAhX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKGUpLlpvKCkgJiYgZS5GXy5zaXplID4gMDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NhblVzZU5ldHdvcmsoZSkge1xuICAgIHJldHVybiAwID09PSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLk1fLnNpemU7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZShlKSB7XG4gICAgZS5MXyA9IHZvaWQgMDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX29uV2F0Y2hTdHJlYW1Db25uZWN0ZWQoZSkge1xuICAgIC8vIE1hcmsgdGhlIGNsaWVudCBhcyBvbmxpbmUgc2luY2Ugd2UgZ290IGEgXCJjb25uZWN0ZWRcIiBub3RpZmljYXRpb24uXG4gICAgZS5OXy5zZXQoXCJPbmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PbmxpbmUgKi8pO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25XYXRjaFN0cmVhbU9wZW4oZSkge1xuICAgIGUuRl8uZm9yRWFjaCgoKHQsIG4pID0+IHtcbiAgICAgICAgX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QoZSwgdCk7XG4gICAgfSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25XYXRjaFN0cmVhbUNsb3NlKGUsIHQpIHtcbiAgICBfX1BSSVZBVEVfY2xlYW5VcFdhdGNoU3RyZWFtU3RhdGUoZSksIFxuICAgIC8vIElmIHdlIHN0aWxsIG5lZWQgdGhlIHdhdGNoIHN0cmVhbSwgcmV0cnkgdGhlIGNvbm5lY3Rpb24uXG4gICAgX19QUklWQVRFX3Nob3VsZFN0YXJ0V2F0Y2hTdHJlYW0oZSkgPyAoZS5OXy5EXyh0KSwgX19QUklWQVRFX3N0YXJ0V2F0Y2hTdHJlYW0oZSkpIDogXG4gICAgLy8gTm8gbmVlZCB0byByZXN0YXJ0IHdhdGNoIHN0cmVhbSBiZWNhdXNlIHRoZXJlIGFyZSBubyBhY3RpdmUgdGFyZ2V0cy5cbiAgICAvLyBUaGUgb25saW5lIHN0YXRlIGlzIHNldCB0byB1bmtub3duIGJlY2F1c2UgdGhlcmUgaXMgbm8gYWN0aXZlIGF0dGVtcHRcbiAgICAvLyBhdCBlc3RhYmxpc2hpbmcgYSBjb25uZWN0aW9uXG4gICAgZS5OXy5zZXQoXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ2hhbmdlKGUsIHQsIG4pIHtcbiAgICBpZiAoXG4gICAgLy8gTWFyayB0aGUgY2xpZW50IGFzIG9ubGluZSBzaW5jZSB3ZSBnb3QgYSBtZXNzYWdlIGZyb20gdGhlIHNlcnZlclxuICAgIGUuTl8uc2V0KFwiT25saW5lXCIgLyogT25saW5lU3RhdGUuT25saW5lICovKSwgdCBpbnN0YW5jZW9mIF9fUFJJVkFURV9XYXRjaFRhcmdldENoYW5nZSAmJiAyIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuUmVtb3ZlZCAqLyA9PT0gdC5zdGF0ZSAmJiB0LmNhdXNlKSBcbiAgICAvLyBUaGVyZSB3YXMgYW4gZXJyb3Igb24gYSB0YXJnZXQsIGRvbid0IHdhaXQgZm9yIGEgY29uc2lzdGVudCBzbmFwc2hvdFxuICAgIC8vIHRvIHJhaXNlIGV2ZW50c1xuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IFxuICAgICAgICAvKiogSGFuZGxlcyBhbiBlcnJvciBvbiBhIHRhcmdldCAqL1xuICAgICAgICBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaGFuZGxlVGFyZ2V0RXJyb3IoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQuY2F1c2U7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgdC50YXJnZXRJZHMpIFxuICAgICAgICAgICAgLy8gQSB3YXRjaGVkIHRhcmdldCBtaWdodCBoYXZlIGJlZW4gcmVtb3ZlZCBhbHJlYWR5LlxuICAgICAgICAgICAgZS5GXy5oYXMocikgJiYgKGF3YWl0IGUucmVtb3RlU3luY2VyLnJlamVjdExpc3RlbihyLCBuKSwgZS5GXy5kZWxldGUociksIGUuTF8ucmVtb3ZlVGFyZ2V0KHIpKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEF0dGVtcHRzIHRvIGZpbGwgb3VyIHdyaXRlIHBpcGVsaW5lIHdpdGggd3JpdGVzIGZyb20gdGhlIExvY2FsU3RvcmUuXG4gKlxuICogQ2FsbGVkIGludGVybmFsbHkgdG8gYm9vdHN0cmFwIG9yIHJlZmlsbCB0aGUgd3JpdGUgcGlwZWxpbmUgYW5kIGJ5XG4gKiBTeW5jRW5naW5lIHdoZW5ldmVyIHRoZXJlIGFyZSBuZXcgbXV0YXRpb25zIHRvIHByb2Nlc3MuXG4gKlxuICogU3RhcnRzIHRoZSB3cml0ZSBzdHJlYW0gaWYgbmVjZXNzYXJ5LlxuICovIChlLCB0KTtcbiAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiRmFpbGVkIHRvIHJlbW92ZSB0YXJnZXRzICVzOiAlcyBcIiwgdC50YXJnZXRJZHMuam9pbihcIixcIiksIG4pLCBcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeShlLCBuKTtcbiAgICB9IGVsc2UgaWYgKHQgaW5zdGFuY2VvZiBfX1BSSVZBVEVfRG9jdW1lbnRXYXRjaENoYW5nZSA/IGUuTF8uS2UodCkgOiB0IGluc3RhbmNlb2YgX19QUklWQVRFX0V4aXN0ZW5jZUZpbHRlckNoYW5nZSA/IGUuTF8uSGUodCkgOiBlLkxfLldlKHQpLCBcbiAgICAhbi5pc0VxdWFsKFNuYXBzaG90VmVyc2lvbi5taW4oKSkpIHRyeSB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZS5sb2NhbFN0b3JlKTtcbiAgICAgICAgbi5jb21wYXJlVG8odCkgPj0gMCAmJiBcbiAgICAgICAgLy8gV2UgaGF2ZSByZWNlaXZlZCBhIHRhcmdldCBjaGFuZ2Ugd2l0aCBhIGdsb2JhbCBzbmFwc2hvdCBpZiB0aGUgc25hcHNob3RcbiAgICAgICAgLy8gdmVyc2lvbiBpcyBub3QgZXF1YWwgdG8gU25hcHNob3RWZXJzaW9uLm1pbigpLlxuICAgICAgICBhd2FpdCBcbiAgICAgICAgLyoqXG4gKiBUYWtlcyBhIGJhdGNoIG9mIGNoYW5nZXMgZnJvbSB0aGUgRGF0YXN0b3JlLCByZXBhY2thZ2VzIHRoZW0gYXMgYVxuICogUmVtb3RlRXZlbnQsIGFuZCBwYXNzZXMgdGhhdCBvbiB0byB0aGUgbGlzdGVuZXIsIHdoaWNoIGlzIHR5cGljYWxseSB0aGVcbiAqIFN5bmNFbmdpbmUuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3JhaXNlV2F0Y2hTbmFwc2hvdChlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5MXy5ydCh0KTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBpbi1tZW1vcnkgcmVzdW1lIHRva2Vucy4gTG9jYWxTdG9yZSB3aWxsIHVwZGF0ZSB0aGVcbiAgICAgICAgICAgIC8vIHBlcnNpc3RlbnQgdmlldyBvZiB0aGVzZSB3aGVuIGFwcGx5aW5nIHRoZSBjb21wbGV0ZWQgUmVtb3RlRXZlbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi50YXJnZXRDaGFuZ2VzLmZvckVhY2goKChuLCByKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG4ucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gZS5GXy5nZXQocik7XG4gICAgICAgICAgICAgICAgICAgIC8vIEEgd2F0Y2hlZCB0YXJnZXQgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWQgYWxyZWFkeS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpICYmIGUuRl8uc2V0KHIsIGkud2l0aFJlc3VtZVRva2VuKG4ucmVzdW1lVG9rZW4sIHQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSksIFxuICAgICAgICAgICAgLy8gUmUtZXN0YWJsaXNoIGxpc3RlbnMgZm9yIHRoZSB0YXJnZXRzIHRoYXQgaGF2ZSBiZWVuIGludmFsaWRhdGVkIGJ5XG4gICAgICAgICAgICAvLyBleGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoZXMuXG4gICAgICAgICAgICBuLnRhcmdldE1pc21hdGNoZXMuZm9yRWFjaCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gZS5GXy5nZXQodCk7XG4gICAgICAgICAgICAgICAgaWYgKCFyKSBcbiAgICAgICAgICAgICAgICAvLyBBIHdhdGNoZWQgdGFyZ2V0IG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkIGFscmVhZHkuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIHRoZSByZXN1bWUgdG9rZW4gZm9yIHRoZSB0YXJnZXQsIHNpbmNlIHdlJ3JlIGluIGEga25vd24gbWlzbWF0Y2hcbiAgICAgICAgICAgICAgICAvLyBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5GXy5zZXQodCwgci53aXRoUmVzdW1lVG9rZW4oQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklORywgci5zbmFwc2hvdFZlcnNpb24pKSwgXG4gICAgICAgICAgICAgICAgLy8gQ2F1c2UgYSBoYXJkIHJlc2V0IGJ5IHVud2F0Y2hpbmcgYW5kIHJld2F0Y2hpbmcgaW1tZWRpYXRlbHksIGJ1dFxuICAgICAgICAgICAgICAgIC8vIGRlbGliZXJhdGVseSBkb24ndCBzZW5kIGEgcmVzdW1lIHRva2VuIHNvIHRoYXQgd2UgZ2V0IGEgZnVsbCB1cGRhdGUuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3NlbmRVbndhdGNoUmVxdWVzdChlLCB0KTtcbiAgICAgICAgICAgICAgICAvLyBNYXJrIHRoZSB0YXJnZXQgd2Ugc2VuZCBhcyBiZWluZyBvbiBiZWhhbGYgb2YgYW4gZXhpc3RlbmNlIGZpbHRlclxuICAgICAgICAgICAgICAgIC8vIG1pc21hdGNoLCBidXQgZG9uJ3QgYWN0dWFsbHkgcmV0YWluIHRoYXQgaW4gbGlzdGVuVGFyZ2V0cy4gVGhpcyBlbnN1cmVzXG4gICAgICAgICAgICAgICAgLy8gdGhhdCB3ZSBmbGFnIHRoZSBmaXJzdCByZS1saXN0ZW4gdGhpcyB3YXkgd2l0aG91dCBpbXBhY3RpbmcgZnV0dXJlXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVucyBvZiB0aGlzIHRhcmdldCAodGhhdCBtaWdodCBoYXBwZW4gZS5nLiBvbiByZWNvbm5lY3QpLlxuICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBuZXcgVGFyZ2V0RGF0YShyLnRhcmdldCwgdCwgbiwgci5zZXF1ZW5jZU51bWJlcik7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QoZSwgaSk7XG4gICAgICAgICAgICB9KSksIGUucmVtb3RlU3luY2VyLmFwcGx5UmVtb3RlRXZlbnQobik7XG4gICAgICAgIH0oZSwgbik7XG4gICAgfSBjYXRjaCAodCkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJSZW1vdGVTdG9yZVwiLCBcIkZhaWxlZCB0byByYWlzZSBzbmFwc2hvdDpcIiwgdCksIGF3YWl0IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya1VudGlsUmVjb3ZlcnkoZSwgdCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlY292ZXJ5IGxvZ2ljIGZvciBJbmRleGVkREIgZXJyb3JzIHRoYXQgdGFrZXMgdGhlIG5ldHdvcmsgb2ZmbGluZSB1bnRpbFxuICogYG9wYCBzdWNjZWVkcy4gUmV0cmllcyBhcmUgc2NoZWR1bGVkIHdpdGggYmFja29mZiB1c2luZ1xuICogYGVucXVldWVSZXRyeWFibGUoKWAuIElmIGBvcCgpYCBpcyBub3QgcHJvdmlkZWQsIEluZGV4ZWREQiBhY2Nlc3MgaXNcbiAqIHZhbGlkYXRlZCB2aWEgYSBnZW5lcmljIG9wZXJhdGlvbi5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgUHJvbWlzZSBpcyByZXNvbHZlZCBvbmNlIHRoZSBuZXR3b3JrIGlzIGRpc2FibGVkIGFuZCBiZWZvcmVcbiAqIGFueSByZXRyeSBhdHRlbXB0LlxuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya1VudGlsUmVjb3ZlcnkoZSwgdCwgbikge1xuICAgIGlmICghX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcih0KSkgdGhyb3cgdDtcbiAgICBlLk1fLmFkZCgxIC8qIE9mZmxpbmVDYXVzZS5JbmRleGVkRGJGYWlsZWQgKi8pLCBcbiAgICAvLyBEaXNhYmxlIG5ldHdvcmsgYW5kIHJhaXNlIG9mZmxpbmUgc25hcHNob3RzXG4gICAgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwoZSksIGUuTl8uc2V0KFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8pLCBcbiAgICBuIHx8IChcbiAgICAvLyBVc2UgYSBzaW1wbGUgcmVhZCBvcGVyYXRpb24gdG8gZGV0ZXJtaW5lIGlmIEluZGV4ZWREQiByZWNvdmVyZWQuXG4gICAgLy8gSWRlYWxseSwgd2Ugd291bGQgZXhwb3NlIGEgaGVhbHRoIGNoZWNrIGRpcmVjdGx5IG9uIFNpbXBsZURiLCBidXRcbiAgICAvLyBSZW1vdGVTdG9yZSBvbmx5IGhhcyBhY2Nlc3MgdG8gcGVyc2lzdGVuY2UgdGhyb3VnaCBMb2NhbFN0b3JlLlxuICAgIG4gPSAoKSA9PiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZS5sb2NhbFN0b3JlKSksIFxuICAgIC8vIFByb2JlIEluZGV4ZWREQiBwZXJpb2RpY2FsbHkgYW5kIHJlLWVuYWJsZSBuZXR3b3JrXG4gICAgZS5hc3luY1F1ZXVlLmVucXVldWVSZXRyeWFibGUoKGFzeW5jICgpID0+IHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiUmVtb3RlU3RvcmVcIiwgXCJSZXRyeWluZyBJbmRleGVkREIgYWNjZXNzXCIpLCBhd2FpdCBuKCksIGUuTV8uZGVsZXRlKDEgLyogT2ZmbGluZUNhdXNlLkluZGV4ZWREYkZhaWxlZCAqLyksIFxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfZW5hYmxlTmV0d29ya0ludGVybmFsKGUpO1xuICAgIH0pKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyBgb3BgLiBJZiBgb3BgIGZhaWxzLCB0YWtlcyB0aGUgbmV0d29yayBvZmZsaW5lIHVudGlsIGBvcGBcbiAqIHN1Y2NlZWRzLiBSZXR1cm5zIGFmdGVyIHRoZSBmaXJzdCBhdHRlbXB0LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9leGVjdXRlV2l0aFJlY292ZXJ5KGUsIHQpIHtcbiAgICByZXR1cm4gdCgpLmNhdGNoKChuID0+IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya1VudGlsUmVjb3ZlcnkoZSwgbiwgdCkpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgbiA9IF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbSh0KTtcbiAgICBsZXQgciA9IHQudl8ubGVuZ3RoID4gMCA/IHQudl9bdC52Xy5sZW5ndGggLSAxXS5iYXRjaElkIDogLTE7XG4gICAgZm9yICg7X19QUklWQVRFX2NhbkFkZFRvV3JpdGVQaXBlbGluZSh0KTsgKSB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXh0TXV0YXRpb25CYXRjaCh0LmxvY2FsU3RvcmUsIHIpO1xuICAgICAgICBpZiAobnVsbCA9PT0gZSkge1xuICAgICAgICAgICAgMCA9PT0gdC52Xy5sZW5ndGggJiYgbi5uXygpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgciA9IGUuYmF0Y2hJZCwgX19QUklWQVRFX2FkZFRvV3JpdGVQaXBlbGluZSh0LCBlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya1VudGlsUmVjb3ZlcnkodCwgZSk7XG4gICAgfVxuICAgIF9fUFJJVkFURV9zaG91bGRTdGFydFdyaXRlU3RyZWFtKHQpICYmIF9fUFJJVkFURV9zdGFydFdyaXRlU3RyZWFtKHQpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB3ZSBjYW4gYWRkIHRvIHRoZSB3cml0ZSBwaXBlbGluZSAoaS5lLiB0aGUgbmV0d29yayBpc1xuICogZW5hYmxlZCBhbmQgdGhlIHdyaXRlIHBpcGVsaW5lIGlzIG5vdCBmdWxsKS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY2FuQWRkVG9Xcml0ZVBpcGVsaW5lKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2NhblVzZU5ldHdvcmsoZSkgJiYgZS52Xy5sZW5ndGggPCAxMDtcbn1cblxuLyoqXG4gKiBRdWV1ZXMgYWRkaXRpb25hbCB3cml0ZXMgdG8gYmUgc2VudCB0byB0aGUgd3JpdGUgc3RyZWFtLCBzZW5kaW5nIHRoZW1cbiAqIGltbWVkaWF0ZWx5IGlmIHRoZSB3cml0ZSBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FkZFRvV3JpdGVQaXBlbGluZShlLCB0KSB7XG4gICAgZS52Xy5wdXNoKHQpO1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZW5zdXJlV3JpdGVTdHJlYW0oZSk7XG4gICAgbi5YbygpICYmIG4uRV8gJiYgbi5kXyh0Lm11dGF0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zaG91bGRTdGFydFdyaXRlU3RyZWFtKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2NhblVzZU5ldHdvcmsoZSkgJiYgIV9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKS5abygpICYmIGUudl8ubGVuZ3RoID4gMDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3N0YXJ0V3JpdGVTdHJlYW0oZSkge1xuICAgIF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKS5zdGFydCgpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25Xcml0ZVN0cmVhbU9wZW4oZSkge1xuICAgIF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKS5WXygpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25Xcml0ZUhhbmRzaGFrZUNvbXBsZXRlKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpO1xuICAgIC8vIFNlbmQgdGhlIHdyaXRlIHBpcGVsaW5lIG5vdyB0aGF0IHRoZSBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBlLnZfKSB0LmRfKG4ubXV0YXRpb25zKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX29uTXV0YXRpb25SZXN1bHQoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBlLnZfLnNoaWZ0KCksIGkgPSBNdXRhdGlvbkJhdGNoUmVzdWx0LmZyb20ociwgdCwgbik7XG4gICAgYXdhaXQgX19QUklWQVRFX2V4ZWN1dGVXaXRoUmVjb3ZlcnkoZSwgKCgpID0+IGUucmVtb3RlU3luY2VyLmFwcGx5U3VjY2Vzc2Z1bFdyaXRlKGkpKSksIFxuICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB3aXRoIHRoZSBjb21wbGV0aW9uIG9mIHRoaXMgbXV0YXRpb24gYW5vdGhlclxuICAgIC8vIHNsb3QgaGFzIGZyZWVkIHVwLlxuICAgIGF3YWl0IF9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZShlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX29uV3JpdGVTdHJlYW1DbG9zZShlLCB0KSB7XG4gICAgLy8gSWYgdGhlIHdyaXRlIHN0cmVhbSBjbG9zZWQgYWZ0ZXIgdGhlIHdyaXRlIGhhbmRzaGFrZSBjb21wbGV0ZXMsIGEgd3JpdGVcbiAgICAvLyBvcGVyYXRpb24gZmFpbGVkIGFuZCB3ZSBmYWlsIHRoZSBwZW5kaW5nIG9wZXJhdGlvbi5cbiAgICB0ICYmIF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKS5FXyAmJiBcbiAgICAvLyBUaGlzIGVycm9yIGFmZmVjdHMgdGhlIGFjdHVhbCB3cml0ZS5cbiAgICBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaGFuZGxlV3JpdGVFcnJvcihlLCB0KSB7XG4gICAgICAgIC8vIE9ubHkgaGFuZGxlIHBlcm1hbmVudCBlcnJvcnMgaGVyZS4gSWYgaXQncyB0cmFuc2llbnQsIGp1c3QgbGV0IHRoZSByZXRyeVxuICAgICAgICAvLyBsb2dpYyBraWNrIGluLlxuICAgICAgICBpZiAoZnVuY3Rpb24gX19QUklWQVRFX2lzUGVybWFuZW50V3JpdGVFcnJvcihlKSB7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2lzUGVybWFuZW50RXJyb3IoZSkgJiYgZSAhPT0gQy5BQk9SVEVEO1xuICAgICAgICB9KHQuY29kZSkpIHtcbiAgICAgICAgICAgIC8vIFRoaXMgd2FzIGEgcGVybWFuZW50IGVycm9yLCB0aGUgcmVxdWVzdCBpdHNlbGYgd2FzIHRoZSBwcm9ibGVtXG4gICAgICAgICAgICAvLyBzbyBpdCdzIG5vdCBnb2luZyB0byBzdWNjZWVkIGlmIHdlIHJlc2VuZCBpdC5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLnZfLnNoaWZ0KCk7XG4gICAgICAgICAgICAvLyBJbiB0aGlzIGNhc2UgaXQncyBhbHNvIHVubGlrZWx5IHRoYXQgdGhlIHNlcnZlciBpdHNlbGYgaXMgbWVsdGluZ1xuICAgICAgICAgICAgLy8gZG93biAtLSB0aGlzIHdhcyBqdXN0IGEgYmFkIHJlcXVlc3Qgc28gaW5oaWJpdCBiYWNrb2ZmIG9uIHRoZSBuZXh0XG4gICAgICAgICAgICAvLyByZXN0YXJ0LlxuICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpLnRfKCksIGF3YWl0IF9fUFJJVkFURV9leGVjdXRlV2l0aFJlY292ZXJ5KGUsICgoKSA9PiBlLnJlbW90ZVN5bmNlci5yZWplY3RGYWlsZWRXcml0ZShuLmJhdGNoSWQsIHQpKSksIFxuICAgICAgICAgICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdpdGggdGhlIGNvbXBsZXRpb24gb2YgdGhpcyBtdXRhdGlvblxuICAgICAgICAgICAgLy8gYW5vdGhlciBzbG90IGhhcyBmcmVlZCB1cC5cbiAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZShlKTtcbiAgICAgICAgfVxuICAgIH0oZSwgdCksIFxuICAgIC8vIFRoZSB3cml0ZSBzdHJlYW0gbWlnaHQgaGF2ZSBiZWVuIHN0YXJ0ZWQgYnkgcmVmaWxsaW5nIHRoZSB3cml0ZVxuICAgIC8vIHBpcGVsaW5lIGZvciBmYWlsZWQgd3JpdGVzXG4gICAgX19QUklWQVRFX3Nob3VsZFN0YXJ0V3JpdGVTdHJlYW0oZSkgJiYgX19QUklWQVRFX3N0YXJ0V3JpdGVTdHJlYW0oZSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdGVTdG9yZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIG4uYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiUmVtb3RlU3RvcmUgcmVjZWl2ZWQgbmV3IGNyZWRlbnRpYWxzXCIpO1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhuKTtcbiAgICAvLyBUZWFyIGRvd24gYW5kIHJlLWNyZWF0ZSBvdXIgbmV0d29yayBzdHJlYW1zLiBUaGlzIHdpbGwgZW5zdXJlIHdlIGdldCBhXG4gICAgLy8gZnJlc2ggYXV0aCB0b2tlbiBmb3IgdGhlIG5ldyB1c2VyIGFuZCByZS1maWxsIHRoZSB3cml0ZSBwaXBlbGluZSB3aXRoXG4gICAgLy8gbmV3IG11dGF0aW9ucyBmcm9tIHRoZSBMb2NhbFN0b3JlIChzaW5jZSBtdXRhdGlvbnMgYXJlIHBlci11c2VyKS5cbiAgICAgICAgbi5NXy5hZGQoMyAvKiBPZmZsaW5lQ2F1c2UuQ3JlZGVudGlhbENoYW5nZSAqLyksIGF3YWl0IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya0ludGVybmFsKG4pLCBcbiAgICByICYmIFxuICAgIC8vIERvbid0IHNldCB0aGUgbmV0d29yayBzdGF0dXMgdG8gVW5rbm93biBpZiB3ZSBhcmUgb2ZmbGluZS5cbiAgICBuLk5fLnNldChcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKSwgYXdhaXQgbi5yZW1vdGVTeW5jZXIuaGFuZGxlQ3JlZGVudGlhbENoYW5nZSh0KSwgXG4gICAgbi5NXy5kZWxldGUoMyAvKiBPZmZsaW5lQ2F1c2UuQ3JlZGVudGlhbENoYW5nZSAqLyksIGF3YWl0IF9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwobik7XG59XG5cbi8qKlxuICogVG9nZ2xlcyB0aGUgbmV0d29yayBzdGF0ZSB3aGVuIHRoZSBjbGllbnQgZ2FpbnMgb3IgbG9zZXMgaXRzIHByaW1hcnkgbGVhc2UuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZVN0b3JlQXBwbHlQcmltYXJ5U3RhdGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHQgPyAobi5NXy5kZWxldGUoMiAvKiBPZmZsaW5lQ2F1c2UuSXNTZWNvbmRhcnkgKi8pLCBhd2FpdCBfX1BSSVZBVEVfZW5hYmxlTmV0d29ya0ludGVybmFsKG4pKSA6IHQgfHwgKG4uTV8uYWRkKDIgLyogT2ZmbGluZUNhdXNlLklzU2Vjb25kYXJ5ICovKSwgXG4gICAgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwobiksIG4uTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pKTtcbn1cblxuLyoqXG4gKiBJZiBub3QgeWV0IGluaXRpYWxpemVkLCByZWdpc3RlcnMgdGhlIFdhdGNoU3RyZWFtIGFuZCBpdHMgbmV0d29yayBzdGF0ZVxuICogY2FsbGJhY2sgd2l0aCBgcmVtb3RlU3RvcmVJbXBsYC4gUmV0dXJucyB0aGUgZXhpc3Rpbmcgc3RyZWFtIGlmIG9uZSBpc1xuICogYWxyZWFkeSBhdmFpbGFibGUuXG4gKlxuICogUE9SVElORyBOT1RFOiBPbiBpT1MgYW5kIEFuZHJvaWQsIHRoZSBXYXRjaFN0cmVhbSBnZXRzIHJlZ2lzdGVyZWQgb24gc3RhcnR1cC5cbiAqIFRoaXMgaXMgbm90IGRvbmUgb24gV2ViIHRvIGFsbG93IGl0IHRvIGJlIHRyZWUtc2hha2VuLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9lbnN1cmVXYXRjaFN0cmVhbShlKSB7XG4gICAgcmV0dXJuIGUuQl8gfHwgKFxuICAgIC8vIENyZWF0ZSBzdHJlYW0gKGJ1dCBub3RlIHRoYXQgaXQgaXMgbm90IHN0YXJ0ZWQgeWV0KS5cbiAgICBlLkJfID0gZnVuY3Rpb24gX19QUklWQVRFX25ld1BlcnNpc3RlbnRXYXRjaFN0cmVhbShlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICByZXR1cm4gci5mXygpLCBuZXcgX19QUklWQVRFX1BlcnNpc3RlbnRMaXN0ZW5TdHJlYW0odCwgci5jb25uZWN0aW9uLCByLmF1dGhDcmVkZW50aWFscywgci5hcHBDaGVja0NyZWRlbnRpYWxzLCByLnNlcmlhbGl6ZXIsIG4pO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAoZS5kYXRhc3RvcmUsIGUuYXN5bmNRdWV1ZSwge1xuICAgICAgICBQbzogX19QUklWQVRFX29uV2F0Y2hTdHJlYW1Db25uZWN0ZWQuYmluZChudWxsLCBlKSxcbiAgICAgICAgVG86IF9fUFJJVkFURV9vbldhdGNoU3RyZWFtT3Blbi5iaW5kKG51bGwsIGUpLFxuICAgICAgICBBbzogX19QUklWQVRFX29uV2F0Y2hTdHJlYW1DbG9zZS5iaW5kKG51bGwsIGUpLFxuICAgICAgICBoXzogX19QUklWQVRFX29uV2F0Y2hTdHJlYW1DaGFuZ2UuYmluZChudWxsLCBlKVxuICAgIH0pLCBlLnhfLnB1c2goKGFzeW5jIHQgPT4ge1xuICAgICAgICB0ID8gKGUuQl8udF8oKSwgX19QUklWQVRFX3Nob3VsZFN0YXJ0V2F0Y2hTdHJlYW0oZSkgPyBfX1BSSVZBVEVfc3RhcnRXYXRjaFN0cmVhbShlKSA6IGUuTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pKSA6IChhd2FpdCBlLkJfLnN0b3AoKSwgXG4gICAgICAgIF9fUFJJVkFURV9jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZShlKSk7XG4gICAgfSkpKSwgZS5CXztcbn1cblxuLyoqXG4gKiBJZiBub3QgeWV0IGluaXRpYWxpemVkLCByZWdpc3RlcnMgdGhlIFdyaXRlU3RyZWFtIGFuZCBpdHMgbmV0d29yayBzdGF0ZVxuICogY2FsbGJhY2sgd2l0aCBgcmVtb3RlU3RvcmVJbXBsYC4gUmV0dXJucyB0aGUgZXhpc3Rpbmcgc3RyZWFtIGlmIG9uZSBpc1xuICogYWxyZWFkeSBhdmFpbGFibGUuXG4gKlxuICogUE9SVElORyBOT1RFOiBPbiBpT1MgYW5kIEFuZHJvaWQsIHRoZSBXcml0ZVN0cmVhbSBnZXRzIHJlZ2lzdGVyZWQgb24gc3RhcnR1cC5cbiAqIFRoaXMgaXMgbm90IGRvbmUgb24gV2ViIHRvIGFsbG93IGl0IHRvIGJlIHRyZWUtc2hha2VuLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKSB7XG4gICAgcmV0dXJuIGUua18gfHwgKFxuICAgIC8vIENyZWF0ZSBzdHJlYW0gKGJ1dCBub3RlIHRoYXQgaXQgaXMgbm90IHN0YXJ0ZWQgeWV0KS5cbiAgICBlLmtfID0gZnVuY3Rpb24gX19QUklWQVRFX25ld1BlcnNpc3RlbnRXcml0ZVN0cmVhbShlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICByZXR1cm4gci5mXygpLCBuZXcgX19QUklWQVRFX1BlcnNpc3RlbnRXcml0ZVN0cmVhbSh0LCByLmNvbm5lY3Rpb24sIHIuYXV0aENyZWRlbnRpYWxzLCByLmFwcENoZWNrQ3JlZGVudGlhbHMsIHIuc2VyaWFsaXplciwgbik7XG4gICAgfShlLmRhdGFzdG9yZSwgZS5hc3luY1F1ZXVlLCB7XG4gICAgICAgIFBvOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSxcbiAgICAgICAgVG86IF9fUFJJVkFURV9vbldyaXRlU3RyZWFtT3Blbi5iaW5kKG51bGwsIGUpLFxuICAgICAgICBBbzogX19QUklWQVRFX29uV3JpdGVTdHJlYW1DbG9zZS5iaW5kKG51bGwsIGUpLFxuICAgICAgICBSXzogX19QUklWQVRFX29uV3JpdGVIYW5kc2hha2VDb21wbGV0ZS5iaW5kKG51bGwsIGUpLFxuICAgICAgICBBXzogX19QUklWQVRFX29uTXV0YXRpb25SZXN1bHQuYmluZChudWxsLCBlKVxuICAgIH0pLCBlLnhfLnB1c2goKGFzeW5jIHQgPT4ge1xuICAgICAgICB0ID8gKGUua18udF8oKSwgXG4gICAgICAgIC8vIFRoaXMgd2lsbCBzdGFydCB0aGUgd3JpdGUgc3RyZWFtIGlmIG5lY2Vzc2FyeS5cbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKGUpKSA6IChhd2FpdCBlLmtfLnN0b3AoKSwgZS52Xy5sZW5ndGggPiAwICYmIChfX1BSSVZBVEVfbG9nRGVidWcoXCJSZW1vdGVTdG9yZVwiLCBgU3RvcHBpbmcgd3JpdGUgc3RyZWFtIHdpdGggJHtlLnZfLmxlbmd0aH0gcGVuZGluZyB3cml0ZXNgKSwgXG4gICAgICAgIGUudl8gPSBbXSkpO1xuICAgIH0pKSksIGUua187XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gb3BlcmF0aW9uIHNjaGVkdWxlZCB0byBiZSBydW4gaW4gdGhlIGZ1dHVyZSBvbiBhbiBBc3luY1F1ZXVlLlxuICpcbiAqIEl0IGlzIGNyZWF0ZWQgdmlhIERlbGF5ZWRPcGVyYXRpb24uY3JlYXRlQW5kU2NoZWR1bGUoKS5cbiAqXG4gKiBTdXBwb3J0cyBjYW5jZWxsYXRpb24gKHZpYSBjYW5jZWwoKSkgYW5kIGVhcmx5IGV4ZWN1dGlvbiAodmlhIHNraXBEZWxheSgpKS5cbiAqXG4gKiBOb3RlOiBXZSBpbXBsZW1lbnQgYFByb21pc2VMaWtlYCBpbnN0ZWFkIG9mIGBQcm9taXNlYCwgYXMgdGhlIGBQcm9taXNlYCB0eXBlXG4gKiBpbiBuZXdlciB2ZXJzaW9ucyBvZiBUeXBlU2NyaXB0IGRlZmluZXMgYGZpbmFsbHlgLCB3aGljaCBpcyBub3QgYXZhaWxhYmxlIGluXG4gKiBJRS5cbiAqL1xuY2xhc3MgRGVsYXllZE9wZXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICB0aGlzLmFzeW5jUXVldWUgPSBlLCB0aGlzLnRpbWVySWQgPSB0LCB0aGlzLnRhcmdldFRpbWVNcyA9IG4sIHRoaXMub3AgPSByLCB0aGlzLnJlbW92YWxDYWxsYmFjayA9IGksIFxuICAgICAgICB0aGlzLmRlZmVycmVkID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZCwgdGhpcy50aGVuID0gdGhpcy5kZWZlcnJlZC5wcm9taXNlLnRoZW4uYmluZCh0aGlzLmRlZmVycmVkLnByb21pc2UpLCBcbiAgICAgICAgLy8gSXQncyBub3JtYWwgZm9yIHRoZSBkZWZlcnJlZCBwcm9taXNlIHRvIGJlIGNhbmNlbGVkIChkdWUgdG8gY2FuY2VsbGF0aW9uKVxuICAgICAgICAvLyBhbmQgc28gd2UgYXR0YWNoIGEgZHVtbXkgY2F0Y2ggY2FsbGJhY2sgdG8gYXZvaWRcbiAgICAgICAgLy8gJ1VuaGFuZGxlZFByb21pc2VSZWplY3Rpb25XYXJuaW5nJyBsb2cgc3BhbS5cbiAgICAgICAgdGhpcy5kZWZlcnJlZC5wcm9taXNlLmNhdGNoKChlID0+IHt9KSk7XG4gICAgfVxuICAgIGdldCBwcm9taXNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kZWZlcnJlZC5wcm9taXNlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgRGVsYXllZE9wZXJhdGlvbiB0aGF0IGhhcyBiZWVuIHNjaGVkdWxlZCB0byBiZVxuICAgICAqIGV4ZWN1dGVkIG9uIHRoZSBwcm92aWRlZCBhc3luY1F1ZXVlIGFmdGVyIHRoZSBwcm92aWRlZCBkZWxheU1zLlxuICAgICAqXG4gICAgICogQHBhcmFtIGFzeW5jUXVldWUgLSBUaGUgcXVldWUgdG8gc2NoZWR1bGUgdGhlIG9wZXJhdGlvbiBvbi5cbiAgICAgKiBAcGFyYW0gaWQgLSBBIFRpbWVyIElEIGlkZW50aWZ5aW5nIHRoZSB0eXBlIG9mIG9wZXJhdGlvbiB0aGlzIGlzLlxuICAgICAqIEBwYXJhbSBkZWxheU1zIC0gVGhlIGRlbGF5IChtcykgYmVmb3JlIHRoZSBvcGVyYXRpb24gc2hvdWxkIGJlIHNjaGVkdWxlZC5cbiAgICAgKiBAcGFyYW0gb3AgLSBUaGUgb3BlcmF0aW9uIHRvIHJ1bi5cbiAgICAgKiBAcGFyYW0gcmVtb3ZhbENhbGxiYWNrIC0gQSBjYWxsYmFjayB0byBiZSBjYWxsZWQgc3luY2hyb25vdXNseSBvbmNlIHRoZVxuICAgICAqICAgb3BlcmF0aW9uIGlzIGV4ZWN1dGVkIG9yIGNhbmNlbGVkLCBub3RpZnlpbmcgdGhlIEFzeW5jUXVldWUgdG8gcmVtb3ZlIGl0XG4gICAgICogICBmcm9tIGl0cyBkZWxheWVkT3BlcmF0aW9ucyBsaXN0LlxuICAgICAqICAgUE9SVElORyBOT1RFOiBUaGlzIGV4aXN0cyB0byBwcmV2ZW50IG1ha2luZyByZW1vdmVEZWxheWVkT3BlcmF0aW9uKCkgYW5kXG4gICAgICogICB0aGUgRGVsYXllZE9wZXJhdGlvbiBjbGFzcyBwdWJsaWMuXG4gICAgICovICAgIHN0YXRpYyBjcmVhdGVBbmRTY2hlZHVsZShlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIGNvbnN0IHMgPSBEYXRlLm5vdygpICsgbiwgbyA9IG5ldyBEZWxheWVkT3BlcmF0aW9uKGUsIHQsIHMsIHIsIGkpO1xuICAgICAgICByZXR1cm4gby5zdGFydChuKSwgbztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSB0aW1lci4gVGhpcyBpcyBjYWxsZWQgaW1tZWRpYXRlbHkgYWZ0ZXIgY29uc3RydWN0aW9uIGJ5XG4gICAgICogY3JlYXRlQW5kU2NoZWR1bGUoKS5cbiAgICAgKi8gICAgc3RhcnQoZSkge1xuICAgICAgICB0aGlzLnRpbWVySGFuZGxlID0gc2V0VGltZW91dCgoKCkgPT4gdGhpcy5oYW5kbGVEZWxheUVsYXBzZWQoKSksIGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBRdWV1ZXMgdGhlIG9wZXJhdGlvbiB0byBydW4gaW1tZWRpYXRlbHkgKGlmIGl0IGhhc24ndCBhbHJlYWR5IGJlZW4gcnVuIG9yXG4gICAgICogY2FuY2VsZWQpLlxuICAgICAqLyAgICBza2lwRGVsYXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZURlbGF5RWxhcHNlZCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIHRoZSBvcGVyYXRpb24gaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBleGVjdXRlZCBvciBjYW5jZWxlZC4gVGhlXG4gICAgICogcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkLlxuICAgICAqXG4gICAgICogQXMgbG9uZyBhcyB0aGUgb3BlcmF0aW9uIGhhcyBub3QgeWV0IGJlZW4gcnVuLCBjYWxsaW5nIGNhbmNlbCgpIHByb3ZpZGVzIGFcbiAgICAgKiBndWFyYW50ZWUgdGhhdCB0aGUgb3BlcmF0aW9uIHdpbGwgbm90IGJlIHJ1bi5cbiAgICAgKi8gICAgY2FuY2VsKGUpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy50aW1lckhhbmRsZSAmJiAodGhpcy5jbGVhclRpbWVvdXQoKSwgdGhpcy5kZWZlcnJlZC5yZWplY3QobmV3IEZpcmVzdG9yZUVycm9yKEMuQ0FOQ0VMTEVELCBcIk9wZXJhdGlvbiBjYW5jZWxsZWRcIiArIChlID8gXCI6IFwiICsgZSA6IFwiXCIpKSkpO1xuICAgIH1cbiAgICBoYW5kbGVEZWxheUVsYXBzZWQoKSB7XG4gICAgICAgIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiBudWxsICE9PSB0aGlzLnRpbWVySGFuZGxlID8gKHRoaXMuY2xlYXJUaW1lb3V0KCksIFxuICAgICAgICB0aGlzLm9wKCkudGhlbigoZSA9PiB0aGlzLmRlZmVycmVkLnJlc29sdmUoZSkpKSkgOiBQcm9taXNlLnJlc29sdmUoKSkpO1xuICAgIH1cbiAgICBjbGVhclRpbWVvdXQoKSB7XG4gICAgICAgIG51bGwgIT09IHRoaXMudGltZXJIYW5kbGUgJiYgKHRoaXMucmVtb3ZhbENhbGxiYWNrKHRoaXMpLCBjbGVhclRpbWVvdXQodGhpcy50aW1lckhhbmRsZSksIFxuICAgICAgICB0aGlzLnRpbWVySGFuZGxlID0gbnVsbCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBGaXJlc3RvcmVFcnJvciB0aGF0IGNhbiBiZSBzdXJmYWNlZCB0byB0aGUgdXNlciBpZiB0aGUgcHJvdmlkZWRcbiAqIGVycm9yIGlzIGFuIEluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IuIFJlLXRocm93cyB0aGUgZXJyb3Igb3RoZXJ3aXNlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKGUsIHQpIHtcbiAgICBpZiAoX19QUklWQVRFX2xvZ0Vycm9yKFwiQXN5bmNRdWV1ZVwiLCBgJHt0fTogJHtlfWApLCBfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpKSByZXR1cm4gbmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsIGAke3R9OiAke2V9YCk7XG4gICAgdGhyb3cgZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRG9jdW1lbnRTZXQgaXMgYW4gaW1tdXRhYmxlIChjb3B5LW9uLXdyaXRlKSBjb2xsZWN0aW9uIHRoYXQgaG9sZHMgZG9jdW1lbnRzXG4gKiBpbiBvcmRlciBzcGVjaWZpZWQgYnkgdGhlIHByb3ZpZGVkIGNvbXBhcmF0b3IuIFdlIGFsd2F5cyBhZGQgYSBkb2N1bWVudCBrZXlcbiAqIGNvbXBhcmF0b3Igb24gdG9wIG9mIHdoYXQgaXMgcHJvdmlkZWQgdG8gZ3VhcmFudGVlIGRvY3VtZW50IGVxdWFsaXR5IGJhc2VkIG9uXG4gKiB0aGUga2V5LlxuICovIGNsYXNzIERvY3VtZW50U2V0IHtcbiAgICAvKiogVGhlIGRlZmF1bHQgb3JkZXJpbmcgaXMgYnkga2V5IGlmIHRoZSBjb21wYXJhdG9yIGlzIG9taXR0ZWQgKi9cbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIC8vIFdlIGFyZSBhZGRpbmcgZG9jdW1lbnQga2V5IGNvbXBhcmF0b3IgdG8gdGhlIGVuZCBhcyBpdCdzIHRoZSBvbmx5XG4gICAgICAgIC8vIGd1YXJhbnRlZWQgdW5pcXVlIHByb3BlcnR5IG9mIGEgZG9jdW1lbnQuXG4gICAgICAgIHRoaXMuY29tcGFyYXRvciA9IGUgPyAodCwgbikgPT4gZSh0LCBuKSB8fCBEb2N1bWVudEtleS5jb21wYXJhdG9yKHQua2V5LCBuLmtleSkgOiAoZSwgdCkgPT4gRG9jdW1lbnRLZXkuY29tcGFyYXRvcihlLmtleSwgdC5rZXkpLCBcbiAgICAgICAgdGhpcy5rZXllZE1hcCA9IGRvY3VtZW50TWFwKCksIHRoaXMuc29ydGVkU2V0ID0gbmV3IFNvcnRlZE1hcCh0aGlzLmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGVtcHR5IGNvcHkgb2YgdGhlIGV4aXN0aW5nIERvY3VtZW50U2V0LCB1c2luZyB0aGUgc2FtZVxuICAgICAqIGNvbXBhcmF0b3IuXG4gICAgICovICAgIHN0YXRpYyBlbXB0eVNldChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRTZXQoZS5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgaGFzKGUpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT0gdGhpcy5rZXllZE1hcC5nZXQoZSk7XG4gICAgfVxuICAgIGdldChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtleWVkTWFwLmdldChlKTtcbiAgICB9XG4gICAgZmlyc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRlZFNldC5taW5LZXkoKTtcbiAgICB9XG4gICAgbGFzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkU2V0Lm1heEtleSgpO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZWRTZXQuaXNFbXB0eSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgcHJvdmlkZWQga2V5IGluIHRoZSBkb2N1bWVudCBzZXQsIG9yIC0xIGlmIHRoZVxuICAgICAqIGRvY3VtZW50IGtleSBpcyBub3QgcHJlc2VudCBpbiB0aGUgc2V0O1xuICAgICAqLyAgICBpbmRleE9mKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMua2V5ZWRNYXAuZ2V0KGUpO1xuICAgICAgICByZXR1cm4gdCA/IHRoaXMuc29ydGVkU2V0LmluZGV4T2YodCkgOiAtMTtcbiAgICB9XG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRlZFNldC5zaXplO1xuICAgIH1cbiAgICAvKiogSXRlcmF0ZXMgZG9jdW1lbnRzIGluIG9yZGVyIGRlZmluZWQgYnkgXCJjb21wYXJhdG9yXCIgKi8gICAgZm9yRWFjaChlKSB7XG4gICAgICAgIHRoaXMuc29ydGVkU2V0Lmlub3JkZXJUcmF2ZXJzYWwoKCh0LCBuKSA9PiAoZSh0KSwgITEpKSk7XG4gICAgfVxuICAgIC8qKiBJbnNlcnRzIG9yIHVwZGF0ZXMgYSBkb2N1bWVudCB3aXRoIHRoZSBzYW1lIGtleSAqLyAgICBhZGQoZSkge1xuICAgICAgICAvLyBGaXJzdCByZW1vdmUgdGhlIGVsZW1lbnQgaWYgd2UgaGF2ZSBpdC5cbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZGVsZXRlKGUua2V5KTtcbiAgICAgICAgcmV0dXJuIHQuY29weSh0LmtleWVkTWFwLmluc2VydChlLmtleSwgZSksIHQuc29ydGVkU2V0Lmluc2VydChlLCBudWxsKSk7XG4gICAgfVxuICAgIC8qKiBEZWxldGVzIGEgZG9jdW1lbnQgd2l0aCBhIGdpdmVuIGtleSAqLyAgICBkZWxldGUoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5nZXQoZSk7XG4gICAgICAgIHJldHVybiB0ID8gdGhpcy5jb3B5KHRoaXMua2V5ZWRNYXAucmVtb3ZlKGUpLCB0aGlzLnNvcnRlZFNldC5yZW1vdmUodCkpIDogdGhpcztcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBEb2N1bWVudFNldCkpIHJldHVybiAhMTtcbiAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gZS5zaXplKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnNvcnRlZFNldC5nZXRJdGVyYXRvcigpLCBuID0gZS5zb3J0ZWRTZXQuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgZm9yICg7dC5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuZ2V0TmV4dCgpLmtleSwgciA9IG4uZ2V0TmV4dCgpLmtleTtcbiAgICAgICAgICAgIGlmICghZS5pc0VxdWFsKHIpKSByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGUucHVzaCh0LnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSksIDAgPT09IGUubGVuZ3RoID8gXCJEb2N1bWVudFNldCAoKVwiIDogXCJEb2N1bWVudFNldCAoXFxuICBcIiArIGUuam9pbihcIiAgXFxuXCIpICsgXCJcXG4pXCI7XG4gICAgfVxuICAgIGNvcHkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbmV3IERvY3VtZW50U2V0O1xuICAgICAgICByZXR1cm4gbi5jb21wYXJhdG9yID0gdGhpcy5jb21wYXJhdG9yLCBuLmtleWVkTWFwID0gZSwgbi5zb3J0ZWRTZXQgPSB0LCBuO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRG9jdW1lbnRDaGFuZ2VTZXQga2VlcHMgdHJhY2sgb2YgYSBzZXQgb2YgY2hhbmdlcyB0byBkb2NzIGluIGEgcXVlcnksIG1lcmdpbmdcbiAqIGR1cGxpY2F0ZSBldmVudHMgZm9yIHRoZSBzYW1lIGRvYy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfRG9jdW1lbnRDaGFuZ2VTZXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnFfID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcbiAgICB9XG4gICAgdHJhY2soZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5kb2Mua2V5LCBuID0gdGhpcy5xXy5nZXQodCk7XG4gICAgICAgIG4gPyBcbiAgICAgICAgLy8gTWVyZ2UgdGhlIG5ldyBjaGFuZ2Ugd2l0aCB0aGUgZXhpc3RpbmcgY2hhbmdlLlxuICAgICAgICAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gIT09IGUudHlwZSAmJiAzIC8qIENoYW5nZVR5cGUuTWV0YWRhdGEgKi8gPT09IG4udHlwZSA/IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCBlKSA6IDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyA9PT0gZS50eXBlICYmIDEgLyogQ2hhbmdlVHlwZS5SZW1vdmVkICovICE9PSBuLnR5cGUgPyB0aGlzLnFfID0gdGhpcy5xXy5pbnNlcnQodCwge1xuICAgICAgICAgICAgdHlwZTogbi50eXBlLFxuICAgICAgICAgICAgZG9jOiBlLmRvY1xuICAgICAgICB9KSA6IDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA9PT0gZS50eXBlICYmIDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA9PT0gbi50eXBlID8gdGhpcy5xXyA9IHRoaXMucV8uaW5zZXJ0KHQsIHtcbiAgICAgICAgICAgIHR5cGU6IDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyAsXG4gICAgICAgICAgICBkb2M6IGUuZG9jXG4gICAgICAgIH0pIDogMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovID09PSBlLnR5cGUgJiYgMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovID09PSBuLnR5cGUgPyB0aGlzLnFfID0gdGhpcy5xXy5pbnNlcnQodCwge1xuICAgICAgICAgICAgdHlwZTogMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovICxcbiAgICAgICAgICAgIGRvYzogZS5kb2NcbiAgICAgICAgfSkgOiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA9PT0gZS50eXBlICYmIDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLyA9PT0gbi50eXBlID8gdGhpcy5xXyA9IHRoaXMucV8ucmVtb3ZlKHQpIDogMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gPT09IGUudHlwZSAmJiAyIC8qIENoYW5nZVR5cGUuTW9kaWZpZWQgKi8gPT09IG4udHlwZSA/IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCB7XG4gICAgICAgICAgICB0eXBlOiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyAsXG4gICAgICAgICAgICBkb2M6IG4uZG9jXG4gICAgICAgIH0pIDogMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovID09PSBlLnR5cGUgJiYgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gPT09IG4udHlwZSA/IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCB7XG4gICAgICAgICAgICB0eXBlOiAyIC8qIENoYW5nZVR5cGUuTW9kaWZpZWQgKi8gLFxuICAgICAgICAgICAgZG9jOiBlLmRvY1xuICAgICAgICB9KSA6IFxuICAgICAgICAvLyBUaGlzIGluY2x1ZGVzIHRoZXNlIGNhc2VzLCB3aGljaCBkb24ndCBtYWtlIHNlbnNlOlxuICAgICAgICAvLyBBZGRlZC0+QWRkZWRcbiAgICAgICAgLy8gUmVtb3ZlZC0+UmVtb3ZlZFxuICAgICAgICAvLyBNb2RpZmllZC0+QWRkZWRcbiAgICAgICAgLy8gUmVtb3ZlZC0+TW9kaWZpZWRcbiAgICAgICAgLy8gTWV0YWRhdGEtPkFkZGVkXG4gICAgICAgIC8vIFJlbW92ZWQtPk1ldGFkYXRhXG4gICAgICAgIGZhaWwoKSA6IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCBlKTtcbiAgICB9XG4gICAgUV8oKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgcmV0dXJuIHRoaXMucV8uaW5vcmRlclRyYXZlcnNhbCgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIGUucHVzaChuKTtcbiAgICAgICAgfSkpLCBlO1xuICAgIH1cbn1cblxuY2xhc3MgVmlld1NuYXBzaG90IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpLCBzLCBvLCBfLCBhKSB7XG4gICAgICAgIHRoaXMucXVlcnkgPSBlLCB0aGlzLmRvY3MgPSB0LCB0aGlzLm9sZERvY3MgPSBuLCB0aGlzLmRvY0NoYW5nZXMgPSByLCB0aGlzLm11dGF0ZWRLZXlzID0gaSwgXG4gICAgICAgIHRoaXMuZnJvbUNhY2hlID0gcywgdGhpcy5zeW5jU3RhdGVDaGFuZ2VkID0gbywgdGhpcy5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcyA9IF8sIFxuICAgICAgICB0aGlzLmhhc0NhY2hlZFJlc3VsdHMgPSBhO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhIHZpZXcgc25hcHNob3QgYXMgaWYgYWxsIGRvY3VtZW50cyBpbiB0aGUgc25hcHNob3Qgd2VyZSBhZGRlZC4gKi8gICAgc3RhdGljIGZyb21Jbml0aWFsRG9jdW1lbnRzKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgY29uc3QgcyA9IFtdO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHMucHVzaCh7XG4gICAgICAgICAgICAgICAgdHlwZTogMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovICxcbiAgICAgICAgICAgICAgICBkb2M6IGVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSksIG5ldyBWaWV3U25hcHNob3QoZSwgdCwgRG9jdW1lbnRTZXQuZW1wdHlTZXQodCksIHMsIG4sIHIsIFxuICAgICAgICAvKiBzeW5jU3RhdGVDaGFuZ2VkPSAqLyAhMCwgXG4gICAgICAgIC8qIGV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPSAqLyAhMSwgaSk7XG4gICAgfVxuICAgIGdldCBoYXNQZW5kaW5nV3JpdGVzKCkge1xuICAgICAgICByZXR1cm4gIXRoaXMubXV0YXRlZEtleXMuaXNFbXB0eSgpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgaWYgKCEodGhpcy5mcm9tQ2FjaGUgPT09IGUuZnJvbUNhY2hlICYmIHRoaXMuaGFzQ2FjaGVkUmVzdWx0cyA9PT0gZS5oYXNDYWNoZWRSZXN1bHRzICYmIHRoaXMuc3luY1N0YXRlQ2hhbmdlZCA9PT0gZS5zeW5jU3RhdGVDaGFuZ2VkICYmIHRoaXMubXV0YXRlZEtleXMuaXNFcXVhbChlLm11dGF0ZWRLZXlzKSAmJiBfX1BSSVZBVEVfcXVlcnlFcXVhbHModGhpcy5xdWVyeSwgZS5xdWVyeSkgJiYgdGhpcy5kb2NzLmlzRXF1YWwoZS5kb2NzKSAmJiB0aGlzLm9sZERvY3MuaXNFcXVhbChlLm9sZERvY3MpKSkgcmV0dXJuICExO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5kb2NDaGFuZ2VzLCBuID0gZS5kb2NDaGFuZ2VzO1xuICAgICAgICBpZiAodC5sZW5ndGggIT09IG4ubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgdC5sZW5ndGg7IGUrKykgaWYgKHRbZV0udHlwZSAhPT0gbltlXS50eXBlIHx8ICF0W2VdLmRvYy5pc0VxdWFsKG5bZV0uZG9jKSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBIb2xkcyB0aGUgbGlzdGVuZXJzIGFuZCB0aGUgbGFzdCByZWNlaXZlZCBWaWV3U25hcHNob3QgZm9yIGEgcXVlcnkgYmVpbmdcbiAqIHRyYWNrZWQgYnkgRXZlbnRNYW5hZ2VyLlxuICovIGNsYXNzIF9fUFJJVkFURV9RdWVyeUxpc3RlbmVyc0luZm8ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLktfID0gdm9pZCAwLCB0aGlzLlVfID0gW107XG4gICAgfVxuICAgIC8vIEhlbHBlciBtZXRob2RzIHRoYXQgY2hlY2tzIGlmIHRoZSBxdWVyeSBoYXMgbGlzdGVuZXJzIHRoYXQgbGlzdGVuaW5nIHRvIHJlbW90ZSBzdG9yZVxuICAgIFdfKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5VXy5zb21lKChlID0+IGUuR18oKSkpO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0V2ZW50TWFuYWdlckltcGwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeVF1ZXJ5KGUpKSwgX19QUklWQVRFX3F1ZXJ5RXF1YWxzKSwgXG4gICAgICAgIHRoaXMub25saW5lU3RhdGUgPSBcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovICwgdGhpcy56XyA9IG5ldyBTZXQ7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyTGlzdGVuKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgciA9IDMgLyogTGlzdGVuZXJTZXR1cEFjdGlvbi5Ob0FjdGlvblJlcXVpcmVkICovO1xuICAgIGNvbnN0IGkgPSB0LnF1ZXJ5O1xuICAgIGxldCBzID0gbi5xdWVyaWVzLmdldChpKTtcbiAgICBzID8gIXMuV18oKSAmJiB0LkdfKCkgJiYgKFxuICAgIC8vIFF1ZXJ5IGhhcyBiZWVuIGxpc3RlbmluZyB0byBsb2NhbCBjYWNoZSwgYW5kIHRyaWVzIHRvIGFkZCBhIG5ldyBsaXN0ZW5lciBzb3VyY2VkIGZyb20gd2F0Y2guXG4gICAgciA9IDIgLyogTGlzdGVuZXJTZXR1cEFjdGlvbi5SZXF1aXJlV2F0Y2hDb25uZWN0aW9uT25seSAqLykgOiAocyA9IG5ldyBfX1BSSVZBVEVfUXVlcnlMaXN0ZW5lcnNJbmZvLCBcbiAgICByID0gdC5HXygpID8gMCAvKiBMaXN0ZW5lclNldHVwQWN0aW9uLkluaXRpYWxpemVMb2NhbExpc3RlbkFuZFJlcXVpcmVXYXRjaENvbm5lY3Rpb24gKi8gOiAxIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uSW5pdGlhbGl6ZUxvY2FsTGlzdGVuT25seSAqLyk7XG4gICAgdHJ5IHtcbiAgICAgICAgc3dpdGNoIChyKSB7XG4gICAgICAgICAgY2FzZSAwIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uSW5pdGlhbGl6ZUxvY2FsTGlzdGVuQW5kUmVxdWlyZVdhdGNoQ29ubmVjdGlvbiAqLyA6XG4gICAgICAgICAgICBzLktfID0gYXdhaXQgbi5vbkxpc3RlbihpLCBcbiAgICAgICAgICAgIC8qKiBlbmFibGVSZW1vdGVMaXN0ZW49ICovICEwKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAxIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uSW5pdGlhbGl6ZUxvY2FsTGlzdGVuT25seSAqLyA6XG4gICAgICAgICAgICBzLktfID0gYXdhaXQgbi5vbkxpc3RlbihpLCBcbiAgICAgICAgICAgIC8qKiBlbmFibGVSZW1vdGVMaXN0ZW49ICovICExKTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSAyIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uUmVxdWlyZVdhdGNoQ29ubmVjdGlvbk9ubHkgKi8gOlxuICAgICAgICAgICAgYXdhaXQgbi5vbkZpcnN0UmVtb3RlU3RvcmVMaXN0ZW4oaSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZShlLCBgSW5pdGlhbGl6YXRpb24gb2YgcXVlcnkgJyR7X19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5KHQucXVlcnkpfScgZmFpbGVkYCk7XG4gICAgICAgIHJldHVybiB2b2lkIHQub25FcnJvcihuKTtcbiAgICB9XG4gICAgaWYgKG4ucXVlcmllcy5zZXQoaSwgcyksIHMuVV8ucHVzaCh0KSwgXG4gICAgLy8gUnVuIGdsb2JhbCBzbmFwc2hvdCBsaXN0ZW5lcnMgaWYgYSBjb25zaXN0ZW50IHNuYXBzaG90IGhhcyBiZWVuIGVtaXR0ZWQuXG4gICAgdC5qXyhuLm9ubGluZVN0YXRlKSwgcy5LXykge1xuICAgICAgICB0LkhfKHMuS18pICYmIF9fUFJJVkFURV9yYWlzZVNuYXBzaG90c0luU3luY0V2ZW50KG4pO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2V2ZW50TWFuYWdlclVubGlzdGVuKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IHQucXVlcnk7XG4gICAgbGV0IGkgPSAzIC8qIExpc3RlbmVyUmVtb3ZhbEFjdGlvbi5Ob0FjdGlvblJlcXVpcmVkICovO1xuICAgIGNvbnN0IHMgPSBuLnF1ZXJpZXMuZ2V0KHIpO1xuICAgIGlmIChzKSB7XG4gICAgICAgIGNvbnN0IGUgPSBzLlVfLmluZGV4T2YodCk7XG4gICAgICAgIGUgPj0gMCAmJiAocy5VXy5zcGxpY2UoZSwgMSksIDAgPT09IHMuVV8ubGVuZ3RoID8gaSA9IHQuR18oKSA/IDAgLyogTGlzdGVuZXJSZW1vdmFsQWN0aW9uLlRlcm1pbmF0ZUxvY2FsTGlzdGVuQW5kUmVxdWlyZVdhdGNoRGlzY29ubmVjdGlvbiAqLyA6IDEgLyogTGlzdGVuZXJSZW1vdmFsQWN0aW9uLlRlcm1pbmF0ZUxvY2FsTGlzdGVuT25seSAqLyA6ICFzLldfKCkgJiYgdC5HXygpICYmIChcbiAgICAgICAgLy8gVGhlIHJlbW92ZWQgbGlzdGVuZXIgaXMgdGhlIGxhc3Qgb25lIHRoYXQgc291cmNlZCBmcm9tIHdhdGNoLlxuICAgICAgICBpID0gMiAvKiBMaXN0ZW5lclJlbW92YWxBY3Rpb24uUmVxdWlyZVdhdGNoRGlzY29ubmVjdGlvbk9ubHkgKi8pKTtcbiAgICB9XG4gICAgc3dpdGNoIChpKSB7XG4gICAgICBjYXNlIDAgLyogTGlzdGVuZXJSZW1vdmFsQWN0aW9uLlRlcm1pbmF0ZUxvY2FsTGlzdGVuQW5kUmVxdWlyZVdhdGNoRGlzY29ubmVjdGlvbiAqLyA6XG4gICAgICAgIHJldHVybiBuLnF1ZXJpZXMuZGVsZXRlKHIpLCBuLm9uVW5saXN0ZW4ociwgXG4gICAgICAgIC8qKiBkaXNhYmxlUmVtb3RlTGlzdGVuPSAqLyAhMCk7XG5cbiAgICAgIGNhc2UgMSAvKiBMaXN0ZW5lclJlbW92YWxBY3Rpb24uVGVybWluYXRlTG9jYWxMaXN0ZW5Pbmx5ICovIDpcbiAgICAgICAgcmV0dXJuIG4ucXVlcmllcy5kZWxldGUociksIG4ub25Vbmxpc3RlbihyLCBcbiAgICAgICAgLyoqIGRpc2FibGVSZW1vdGVMaXN0ZW49ICovICExKTtcblxuICAgICAgY2FzZSAyIC8qIExpc3RlbmVyUmVtb3ZhbEFjdGlvbi5SZXF1aXJlV2F0Y2hEaXNjb25uZWN0aW9uT25seSAqLyA6XG4gICAgICAgIHJldHVybiBuLm9uTGFzdFJlbW90ZVN0b3JlVW5saXN0ZW4ocik7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9ldmVudE1hbmFnZXJPbldhdGNoQ2hhbmdlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgciA9ICExO1xuICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLnF1ZXJ5LCBpID0gbi5xdWVyaWVzLmdldCh0KTtcbiAgICAgICAgaWYgKGkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBpLlVfKSB0LkhfKGUpICYmIChyID0gITApO1xuICAgICAgICAgICAgaS5LXyA9IGU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgciAmJiBfX1BSSVZBVEVfcmFpc2VTbmFwc2hvdHNJblN5bmNFdmVudChuKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2V2ZW50TWFuYWdlck9uV2F0Y2hFcnJvcihlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIGkgPSByLnF1ZXJpZXMuZ2V0KHQpO1xuICAgIGlmIChpKSBmb3IgKGNvbnN0IGUgb2YgaS5VXykgZS5vbkVycm9yKG4pO1xuICAgIC8vIFJlbW92ZSBhbGwgbGlzdGVuZXJzLiBOT1RFOiBXZSBkb24ndCBuZWVkIHRvIGNhbGwgc3luY0VuZ2luZS51bmxpc3RlbigpXG4gICAgLy8gYWZ0ZXIgYW4gZXJyb3IuXG4gICAgICAgIHIucXVlcmllcy5kZWxldGUodCk7XG59XG5cbi8vIENhbGwgYWxsIGdsb2JhbCBzbmFwc2hvdCBsaXN0ZW5lcnMgdGhhdCBoYXZlIGJlZW4gc2V0LlxuZnVuY3Rpb24gX19QUklWQVRFX3JhaXNlU25hcHNob3RzSW5TeW5jRXZlbnQoZSkge1xuICAgIGUuel8uZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgIGUubmV4dCgpO1xuICAgIH0pKTtcbn1cblxudmFyIGdlLCBwZTtcblxuLyoqIExpc3RlbiB0byBib3RoIGNhY2hlIGFuZCBzZXJ2ZXIgY2hhbmdlcyAqL1xuKHBlID0gZ2UgfHwgKGdlID0ge30pKS5KXyA9IFwiZGVmYXVsdFwiLCBcbi8qKiBMaXN0ZW4gdG8gY2hhbmdlcyBpbiBjYWNoZSBvbmx5ICovXG5wZS5DYWNoZSA9IFwiY2FjaGVcIjtcblxuLyoqXG4gKiBRdWVyeUxpc3RlbmVyIHRha2VzIGEgc2VyaWVzIG9mIGludGVybmFsIHZpZXcgc25hcHNob3RzIGFuZCBkZXRlcm1pbmVzXG4gKiB3aGVuIHRvIHJhaXNlIHRoZSBldmVudC5cbiAqXG4gKiBJdCB1c2VzIGFuIE9ic2VydmVyIHRvIGRpc3BhdGNoIGV2ZW50cy5cbiAqL1xuY2xhc3MgX19QUklWQVRFX1F1ZXJ5TGlzdGVuZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGUsIHRoaXMuWV8gPSB0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEluaXRpYWwgc25hcHNob3RzIChlLmcuIGZyb20gY2FjaGUpIG1heSBub3QgYmUgcHJvcGFnYXRlZCB0byB0aGUgd3JhcHBlZFxuICAgICAgICAgKiBvYnNlcnZlci4gVGhpcyBmbGFnIGlzIHNldCB0byB0cnVlIG9uY2Ugd2UndmUgYWN0dWFsbHkgcmFpc2VkIGFuIGV2ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5aXyA9ICExLCB0aGlzLlhfID0gbnVsbCwgdGhpcy5vbmxpbmVTdGF0ZSA9IFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8gLCBcbiAgICAgICAgdGhpcy5vcHRpb25zID0gbiB8fCB7fTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyB0aGUgbmV3IFZpZXdTbmFwc2hvdCB0byB0aGlzIGxpc3RlbmVyLCByYWlzaW5nIGEgdXNlci1mYWNpbmcgZXZlbnRcbiAgICAgKiBpZiBhcHBsaWNhYmxlIChkZXBlbmRpbmcgb24gd2hhdCBjaGFuZ2VkLCB3aGV0aGVyIHRoZSB1c2VyIGhhcyBvcHRlZCBpbnRvXG4gICAgICogbWV0YWRhdGEtb25seSBjaGFuZ2VzLCBldGMuKS4gUmV0dXJucyB0cnVlIGlmIGEgdXNlci1mYWNpbmcgZXZlbnQgd2FzXG4gICAgICogaW5kZWVkIHJhaXNlZC5cbiAgICAgKi8gICAgSF8oZSkge1xuICAgICAgICBpZiAoIXRoaXMub3B0aW9ucy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzKSB7XG4gICAgICAgICAgICAvLyBSZW1vdmUgdGhlIG1ldGFkYXRhIG9ubHkgY2hhbmdlcy5cbiAgICAgICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiBlLmRvY0NoYW5nZXMpIDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyAhPT0gbi50eXBlICYmIHQucHVzaChuKTtcbiAgICAgICAgICAgIGUgPSBuZXcgVmlld1NuYXBzaG90KGUucXVlcnksIGUuZG9jcywgZS5vbGREb2NzLCB0LCBlLm11dGF0ZWRLZXlzLCBlLmZyb21DYWNoZSwgZS5zeW5jU3RhdGVDaGFuZ2VkLCBcbiAgICAgICAgICAgIC8qIGV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPSAqLyAhMCwgZS5oYXNDYWNoZWRSZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgdCA9ICExO1xuICAgICAgICByZXR1cm4gdGhpcy5aXyA/IHRoaXMuZWEoZSkgJiYgKHRoaXMuWV8ubmV4dChlKSwgdCA9ICEwKSA6IHRoaXMudGEoZSwgdGhpcy5vbmxpbmVTdGF0ZSkgJiYgKHRoaXMubmEoZSksIFxuICAgICAgICB0ID0gITApLCB0aGlzLlhfID0gZSwgdDtcbiAgICB9XG4gICAgb25FcnJvcihlKSB7XG4gICAgICAgIHRoaXMuWV8uZXJyb3IoZSk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHdoZXRoZXIgYSBzbmFwc2hvdCB3YXMgcmFpc2VkLiAqLyAgICBqXyhlKSB7XG4gICAgICAgIHRoaXMub25saW5lU3RhdGUgPSBlO1xuICAgICAgICBsZXQgdCA9ICExO1xuICAgICAgICByZXR1cm4gdGhpcy5YXyAmJiAhdGhpcy5aXyAmJiB0aGlzLnRhKHRoaXMuWF8sIGUpICYmICh0aGlzLm5hKHRoaXMuWF8pLCB0ID0gITApLCBcbiAgICAgICAgdDtcbiAgICB9XG4gICAgdGEoZSwgdCkge1xuICAgICAgICAvLyBBbHdheXMgcmFpc2UgdGhlIGZpcnN0IGV2ZW50IHdoZW4gd2UncmUgc3luY2VkXG4gICAgICAgIGlmICghZS5mcm9tQ2FjaGUpIHJldHVybiAhMDtcbiAgICAgICAgLy8gQWx3YXlzIHJhaXNlIGV2ZW50IGlmIGxpc3RlbmluZyB0byBjYWNoZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5HXygpKSByZXR1cm4gITA7XG4gICAgICAgIC8vIE5PVEU6IFdlIGNvbnNpZGVyIE9ubGluZVN0YXRlLlVua25vd24gYXMgb25saW5lIChpdCBzaG91bGQgYmVjb21lIE9mZmxpbmVcbiAgICAgICAgLy8gb3IgT25saW5lIGlmIHdlIHdhaXQgbG9uZyBlbm91Z2gpLlxuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBcIk9mZmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PZmZsaW5lICovICE9PSB0O1xuICAgICAgICAvLyBEb24ndCByYWlzZSB0aGUgZXZlbnQgaWYgd2UncmUgb25saW5lLCBhcmVuJ3Qgc3luY2VkIHlldCAoY2hlY2tlZFxuICAgICAgICAvLyBhYm92ZSkgYW5kIGFyZSB3YWl0aW5nIGZvciBhIHN5bmMuXG4gICAgICAgICAgICAgICAgcmV0dXJuICghdGhpcy5vcHRpb25zLnJhIHx8ICFuKSAmJiAoIWUuZG9jcy5pc0VtcHR5KCkgfHwgZS5oYXNDYWNoZWRSZXN1bHRzIHx8IFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8gPT09IHQpO1xuICAgICAgICAvLyBSYWlzZSBkYXRhIGZyb20gY2FjaGUgaWYgd2UgaGF2ZSBhbnkgZG9jdW1lbnRzLCBoYXZlIGNhY2hlZCByZXN1bHRzIGJlZm9yZSxcbiAgICAgICAgLy8gb3Igd2UgYXJlIG9mZmxpbmUuXG4gICAgICAgIH1cbiAgICBlYShlKSB7XG4gICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdG8gaGFuZGxlIGluY2x1ZGVEb2N1bWVudE1ldGFkYXRhQ2hhbmdlcyBoZXJlIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIE1ldGFkYXRhIG9ubHkgY2hhbmdlcyBoYXZlIGFscmVhZHkgYmVlbiBzdHJpcHBlZCBvdXQgaWYgbmVlZGVkLlxuICAgICAgICAvLyBBdCB0aGlzIHBvaW50IHRoZSBvbmx5IGNoYW5nZXMgd2Ugd2lsbCBzZWUgYXJlIHRoZSBvbmVzIHdlIHNob3VsZFxuICAgICAgICAvLyBwcm9wYWdhdGUuXG4gICAgICAgIGlmIChlLmRvY0NoYW5nZXMubGVuZ3RoID4gMCkgcmV0dXJuICEwO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5YXyAmJiB0aGlzLlhfLmhhc1BlbmRpbmdXcml0ZXMgIT09IGUuaGFzUGVuZGluZ1dyaXRlcztcbiAgICAgICAgcmV0dXJuICEoIWUuc3luY1N0YXRlQ2hhbmdlZCAmJiAhdCkgJiYgITAgPT09IHRoaXMub3B0aW9ucy5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzO1xuICAgICAgICAvLyBHZW5lcmFsbHkgd2Ugc2hvdWxkIGhhdmUgaGl0IG9uZSBvZiB0aGUgY2FzZXMgYWJvdmUsIGJ1dCBpdCdzIHBvc3NpYmxlXG4gICAgICAgIC8vIHRvIGdldCBoZXJlIGlmIHRoZXJlIHdlcmUgb25seSBtZXRhZGF0YSBkb2NDaGFuZ2VzIGFuZCB0aGV5IGdvdFxuICAgICAgICAvLyBzdHJpcHBlZCBvdXQuXG4gICAgICAgIH1cbiAgICBuYShlKSB7XG4gICAgICAgIGUgPSBWaWV3U25hcHNob3QuZnJvbUluaXRpYWxEb2N1bWVudHMoZS5xdWVyeSwgZS5kb2NzLCBlLm11dGF0ZWRLZXlzLCBlLmZyb21DYWNoZSwgZS5oYXNDYWNoZWRSZXN1bHRzKSwgXG4gICAgICAgIHRoaXMuWl8gPSAhMCwgdGhpcy5ZXy5uZXh0KGUpO1xuICAgIH1cbiAgICBHXygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9ucy5zb3VyY2UgIT09IGdlLkNhY2hlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBjb21wbGV0ZSBlbGVtZW50IGluIHRoZSBidW5kbGUgc3RyZWFtLCB0b2dldGhlciB3aXRoIHRoZSBieXRlIGxlbmd0aCBpdFxuICogb2NjdXBpZXMgaW4gdGhlIHN0cmVhbS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfU2l6ZWRCdW5kbGVFbGVtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlLCBcbiAgICAvLyBIb3cgbWFueSBieXRlcyB0aGlzIGVsZW1lbnQgdGFrZXMgdG8gc3RvcmUgaW4gdGhlIGJ1bmRsZS5cbiAgICB0KSB7XG4gICAgICAgIHRoaXMuaWEgPSBlLCB0aGlzLmJ5dGVMZW5ndGggPSB0O1xuICAgIH1cbiAgICBzYSgpIHtcbiAgICAgICAgcmV0dXJuIFwibWV0YWRhdGFcIiBpbiB0aGlzLmlhO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSGVscGVyIHRvIGNvbnZlcnQgb2JqZWN0cyBmcm9tIGJ1bmRsZXMgdG8gbW9kZWwgb2JqZWN0cyBpbiB0aGUgU0RLLlxuICovIGNsYXNzIF9fUFJJVkFURV9CdW5kbGVDb252ZXJ0ZXJJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IGU7XG4gICAgfVxuICAgIFBzKGUpIHtcbiAgICAgICAgcmV0dXJuIGZyb21OYW1lKHRoaXMuc2VyaWFsaXplciwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgQnVuZGxlRG9jdW1lbnQgdG8gYSBNdXRhYmxlRG9jdW1lbnQuXG4gICAgICovICAgIElzKGUpIHtcbiAgICAgICAgcmV0dXJuIGUubWV0YWRhdGEuZXhpc3RzID8gX19QUklWQVRFX2Zyb21Eb2N1bWVudCh0aGlzLnNlcmlhbGl6ZXIsIGUuZG9jdW1lbnQsICExKSA6IE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KHRoaXMuUHMoZS5tZXRhZGF0YS5uYW1lKSwgdGhpcy5UcyhlLm1ldGFkYXRhLnJlYWRUaW1lKSk7XG4gICAgfVxuICAgIFRzKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9mcm9tVmVyc2lvbihlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBjbGFzcyB0byBwcm9jZXNzIHRoZSBlbGVtZW50cyBmcm9tIGEgYnVuZGxlLCBsb2FkIHRoZW0gaW50byBsb2NhbFxuICogc3RvcmFnZSBhbmQgcHJvdmlkZSBwcm9ncmVzcyB1cGRhdGUgd2hpbGUgbG9hZGluZy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfQnVuZGxlTG9hZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMub2EgPSBlLCB0aGlzLmxvY2FsU3RvcmUgPSB0LCB0aGlzLnNlcmlhbGl6ZXIgPSBuLCBcbiAgICAgICAgLyoqIEJhdGNoZWQgcXVlcmllcyB0byBiZSBzYXZlZCBpbnRvIHN0b3JhZ2UgKi9cbiAgICAgICAgdGhpcy5xdWVyaWVzID0gW10sIFxuICAgICAgICAvKiogQmF0Y2hlZCBkb2N1bWVudHMgdG8gYmUgc2F2ZWQgaW50byBzdG9yYWdlICovXG4gICAgICAgIHRoaXMuZG9jdW1lbnRzID0gW10sIFxuICAgICAgICAvKiogVGhlIGNvbGxlY3Rpb24gZ3JvdXBzIGFmZmVjdGVkIGJ5IHRoaXMgYnVuZGxlLiAqL1xuICAgICAgICB0aGlzLmNvbGxlY3Rpb25Hcm91cHMgPSBuZXcgU2V0LCB0aGlzLnByb2dyZXNzID0gX19QUklWQVRFX2J1bmRsZUluaXRpYWxQcm9ncmVzcyhlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhbiBlbGVtZW50IGZyb20gdGhlIGJ1bmRsZSB0byB0aGUgbG9hZGVyLlxuICAgICAqXG4gICAgICogUmV0dXJucyBhIG5ldyBwcm9ncmVzcyBpZiBhZGRpbmcgdGhlIGVsZW1lbnQgbGVhZHMgdG8gYSBuZXcgcHJvZ3Jlc3MsXG4gICAgICogb3RoZXJ3aXNlIHJldHVybnMgbnVsbC5cbiAgICAgKi8gICAgX2EoZSkge1xuICAgICAgICB0aGlzLnByb2dyZXNzLmJ5dGVzTG9hZGVkICs9IGUuYnl0ZUxlbmd0aDtcbiAgICAgICAgbGV0IHQgPSB0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZDtcbiAgICAgICAgaWYgKGUuaWEubmFtZWRRdWVyeSkgdGhpcy5xdWVyaWVzLnB1c2goZS5pYS5uYW1lZFF1ZXJ5KTsgZWxzZSBpZiAoZS5pYS5kb2N1bWVudE1ldGFkYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50cy5wdXNoKHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YTogZS5pYS5kb2N1bWVudE1ldGFkYXRhXG4gICAgICAgICAgICB9KSwgZS5pYS5kb2N1bWVudE1ldGFkYXRhLmV4aXN0cyB8fCArK3Q7XG4gICAgICAgICAgICBjb25zdCBuID0gUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcoZS5pYS5kb2N1bWVudE1ldGFkYXRhLm5hbWUpO1xuICAgICAgICAgICAgdGhpcy5jb2xsZWN0aW9uR3JvdXBzLmFkZChuLmdldChuLmxlbmd0aCAtIDIpKTtcbiAgICAgICAgfSBlbHNlIGUuaWEuZG9jdW1lbnQgJiYgKHRoaXMuZG9jdW1lbnRzW3RoaXMuZG9jdW1lbnRzLmxlbmd0aCAtIDFdLmRvY3VtZW50ID0gZS5pYS5kb2N1bWVudCwgXG4gICAgICAgICsrdCk7XG4gICAgICAgIHJldHVybiB0ICE9PSB0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZCA/ICh0aGlzLnByb2dyZXNzLmRvY3VtZW50c0xvYWRlZCA9IHQsIFxuICAgICAgICBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByb2dyZXNzKSkgOiBudWxsO1xuICAgIH1cbiAgICBhYShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgTWFwLCBuID0gbmV3IF9fUFJJVkFURV9CdW5kbGVDb252ZXJ0ZXJJbXBsKHRoaXMuc2VyaWFsaXplcik7XG4gICAgICAgIGZvciAoY29uc3QgciBvZiBlKSBpZiAoci5tZXRhZGF0YS5xdWVyaWVzKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbi5QcyhyLm1ldGFkYXRhLm5hbWUpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIHIubWV0YWRhdGEucXVlcmllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSAodC5nZXQobikgfHwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpLmFkZChlKTtcbiAgICAgICAgICAgICAgICB0LnNldChuLCByKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBwcm9ncmVzcyB0byAnU3VjY2VzcycgYW5kIHJldHVybiB0aGUgdXBkYXRlZCBwcm9ncmVzcy5cbiAgICAgKi8gICAgYXN5bmMgY29tcGxldGUoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5QnVuZGxlZERvY3VtZW50cyh0aGlzLmxvY2FsU3RvcmUsIG5ldyBfX1BSSVZBVEVfQnVuZGxlQ29udmVydGVySW1wbCh0aGlzLnNlcmlhbGl6ZXIpLCB0aGlzLmRvY3VtZW50cywgdGhpcy5vYS5pZCksIHQgPSB0aGlzLmFhKHRoaXMuZG9jdW1lbnRzKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMucXVlcmllcykgYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVTYXZlTmFtZWRRdWVyeSh0aGlzLmxvY2FsU3RvcmUsIGUsIHQuZ2V0KGUubmFtZSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9ncmVzcy50YXNrU3RhdGUgPSBcIlN1Y2Nlc3NcIiwge1xuICAgICAgICAgICAgcHJvZ3Jlc3M6IHRoaXMucHJvZ3Jlc3MsXG4gICAgICAgICAgICB1YTogdGhpcy5jb2xsZWN0aW9uR3JvdXBzLFxuICAgICAgICAgICAgY2E6IGVcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGBMb2FkQnVuZGxlVGFza1Byb2dyZXNzYCByZXByZXNlbnRpbmcgdGhlIGluaXRpYWwgcHJvZ3Jlc3Mgb2ZcbiAqIGxvYWRpbmcgYSBidW5kbGUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2J1bmRsZUluaXRpYWxQcm9ncmVzcyhlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdGFza1N0YXRlOiBcIlJ1bm5pbmdcIixcbiAgICAgICAgZG9jdW1lbnRzTG9hZGVkOiAwLFxuICAgICAgICBieXRlc0xvYWRlZDogMCxcbiAgICAgICAgdG90YWxEb2N1bWVudHM6IGUudG90YWxEb2N1bWVudHMsXG4gICAgICAgIHRvdGFsQnl0ZXM6IGUudG90YWxCeXRlc1xuICAgIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGBMb2FkQnVuZGxlVGFza1Byb2dyZXNzYCByZXByZXNlbnRpbmcgdGhlIHByb2dyZXNzIHRoYXQgdGhlIGxvYWRpbmdcbiAqIGhhcyBzdWNjZWVkZWQuXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfQWRkZWRMaW1ib0RvY3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMua2V5ID0gZTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9SZW1vdmVkTGltYm9Eb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLmtleSA9IGU7XG4gICAgfVxufVxuXG4vKipcbiAqIFZpZXcgaXMgcmVzcG9uc2libGUgZm9yIGNvbXB1dGluZyB0aGUgZmluYWwgbWVyZ2VkIHRydXRoIG9mIHdoYXQgZG9jcyBhcmUgaW5cbiAqIGEgcXVlcnkuIEl0IGdldHMgbm90aWZpZWQgb2YgbG9jYWwgYW5kIHJlbW90ZSBjaGFuZ2VzIHRvIGRvY3MsIGFuZCBhcHBsaWVzXG4gKiB0aGUgcXVlcnkgZmlsdGVycyBhbmQgbGltaXRzIHRvIGRldGVybWluZSB0aGUgbW9zdCBjb3JyZWN0IHBvc3NpYmxlIHJlc3VsdHMuXG4gKi8gY2xhc3MgX19QUklWQVRFX1ZpZXcge1xuICAgIGNvbnN0cnVjdG9yKGUsIFxuICAgIC8qKiBEb2N1bWVudHMgaW5jbHVkZWQgaW4gdGhlIHJlbW90ZSB0YXJnZXQgKi9cbiAgICB0KSB7XG4gICAgICAgIHRoaXMucXVlcnkgPSBlLCB0aGlzLmxhID0gdCwgdGhpcy5oYSA9IG51bGwsIHRoaXMuaGFzQ2FjaGVkUmVzdWx0cyA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZmxhZyB3aGV0aGVyIHRoZSB2aWV3IGlzIGN1cnJlbnQgd2l0aCB0aGUgYmFja2VuZC4gQSB2aWV3IGlzIGNvbnNpZGVyZWRcbiAgICAgICAgICogY3VycmVudCBhZnRlciBpdCBoYXMgc2VlbiB0aGUgY3VycmVudCBmbGFnIGZyb20gdGhlIGJhY2tlbmQgYW5kIGRpZCBub3RcbiAgICAgICAgICogbG9zZSBjb25zaXN0ZW5jeSB3aXRoaW4gdGhlIHdhdGNoIHN0cmVhbSAoZS5nLiBiZWNhdXNlIG9mIGFuIGV4aXN0ZW5jZVxuICAgICAgICAgKiBmaWx0ZXIgbWlzbWF0Y2gpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXJyZW50ID0gITEsIFxuICAgICAgICAvKiogRG9jdW1lbnRzIGluIHRoZSB2aWV3IGJ1dCBub3QgaW4gdGhlIHJlbW90ZSB0YXJnZXQgKi9cbiAgICAgICAgdGhpcy5QYSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCBcbiAgICAgICAgLyoqIERvY3VtZW50IEtleXMgdGhhdCBoYXZlIGxvY2FsIGNoYW5nZXMgKi9cbiAgICAgICAgdGhpcy5tdXRhdGVkS2V5cyA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCB0aGlzLklhID0gX19QUklWQVRFX25ld1F1ZXJ5Q29tcGFyYXRvcihlKSwgXG4gICAgICAgIHRoaXMuVGEgPSBuZXcgRG9jdW1lbnRTZXQodGhpcy5JYSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBzZXQgb2YgcmVtb3RlIGRvY3VtZW50cyB0aGF0IHRoZSBzZXJ2ZXIgaGFzIHRvbGQgdXMgYmVsb25ncyB0byB0aGUgdGFyZ2V0IGFzc29jaWF0ZWQgd2l0aFxuICAgICAqIHRoaXMgdmlldy5cbiAgICAgKi8gICAgZ2V0IEVhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sYTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBhIHNldCBvZiBkb2MgY2hhbmdlcywgYXBwbGllcyB0aGUgcXVlcnkgbGltaXQsIGFuZCBjb21wdXRlc1xuICAgICAqIHdoYXQgdGhlIG5ldyByZXN1bHRzIHNob3VsZCBiZSwgd2hhdCB0aGUgY2hhbmdlcyB3ZXJlLCBhbmQgd2hldGhlciB3ZSBtYXlcbiAgICAgKiBuZWVkIHRvIGdvIGJhY2sgdG8gdGhlIGxvY2FsIGNhY2hlIGZvciBtb3JlIHJlc3VsdHMuIERvZXMgbm90IG1ha2UgYW55XG4gICAgICogY2hhbmdlcyB0byB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0gZG9jQ2hhbmdlcyAtIFRoZSBkb2MgY2hhbmdlcyB0byBhcHBseSB0byB0aGlzIHZpZXcuXG4gICAgICogQHBhcmFtIHByZXZpb3VzQ2hhbmdlcyAtIElmIHRoaXMgaXMgYmVpbmcgY2FsbGVkIHdpdGggYSByZWZpbGwsIHRoZW4gc3RhcnRcbiAgICAgKiAgICAgICAgd2l0aCB0aGlzIHNldCBvZiBkb2NzIGFuZCBjaGFuZ2VzIGluc3RlYWQgb2YgdGhlIGN1cnJlbnQgdmlldy5cbiAgICAgKiBAcmV0dXJucyBhIG5ldyBzZXQgb2YgZG9jcywgY2hhbmdlcywgYW5kIHJlZmlsbCBmbGFnLlxuICAgICAqLyAgICBkYShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0ID8gdC5BYSA6IG5ldyBfX1BSSVZBVEVfRG9jdW1lbnRDaGFuZ2VTZXQsIHIgPSB0ID8gdC5UYSA6IHRoaXMuVGE7XG4gICAgICAgIGxldCBpID0gdCA/IHQubXV0YXRlZEtleXMgOiB0aGlzLm11dGF0ZWRLZXlzLCBzID0gciwgbyA9ICExO1xuICAgICAgICAvLyBUcmFjayB0aGUgbGFzdCBkb2MgaW4gYSAoZnVsbCkgbGltaXQuIFRoaXMgaXMgbmVjZXNzYXJ5LCBiZWNhdXNlIHNvbWVcbiAgICAgICAgLy8gdXBkYXRlIChhIGRlbGV0ZSwgb3IgYW4gdXBkYXRlIG1vdmluZyBhIGRvYyBwYXN0IHRoZSBvbGQgbGltaXQpIG1pZ2h0XG4gICAgICAgIC8vIG1lYW4gdGhlcmUgaXMgc29tZSBvdGhlciBkb2N1bWVudCBpbiB0aGUgbG9jYWwgY2FjaGUgdGhhdCBlaXRoZXIgc2hvdWxkXG4gICAgICAgIC8vIGNvbWUgKDEpIGJldHdlZW4gdGhlIG9sZCBsYXN0IGxpbWl0IGRvYyBhbmQgdGhlIG5ldyBsYXN0IGRvY3VtZW50LCBpbiB0aGVcbiAgICAgICAgLy8gY2FzZSBvZiB1cGRhdGVzLCBvciAoMikgYWZ0ZXIgdGhlIG5ldyBsYXN0IGRvY3VtZW50LCBpbiB0aGUgY2FzZSBvZlxuICAgICAgICAvLyBkZWxldGVzLiBTbyB3ZSBrZWVwIHRoaXMgZG9jIGF0IHRoZSBvbGQgbGltaXQgdG8gY29tcGFyZSB0aGUgdXBkYXRlcyB0by5cbiAgICAgICAgLy8gTm90ZSB0aGF0IHRoaXMgc2hvdWxkIG5ldmVyIGdldCB1c2VkIGluIGEgcmVmaWxsICh3aGVuIHByZXZpb3VzQ2hhbmdlcyBpc1xuICAgICAgICAvLyBzZXQpLCBiZWNhdXNlIHRoZXJlIHdpbGwgb25seSBiZSBhZGRzIC0tIG5vIGRlbGV0ZXMgb3IgdXBkYXRlcy5cbiAgICAgICAgY29uc3QgXyA9IFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyA9PT0gdGhpcy5xdWVyeS5saW1pdFR5cGUgJiYgci5zaXplID09PSB0aGlzLnF1ZXJ5LmxpbWl0ID8gci5sYXN0KCkgOiBudWxsLCBhID0gXCJMXCIgLyogTGltaXRUeXBlLkxhc3QgKi8gPT09IHRoaXMucXVlcnkubGltaXRUeXBlICYmIHIuc2l6ZSA9PT0gdGhpcy5xdWVyeS5saW1pdCA/IHIuZmlyc3QoKSA6IG51bGw7XG4gICAgICAgIC8vIERyb3AgZG9jdW1lbnRzIG91dCB0byBtZWV0IGxpbWl0L2xpbWl0VG9MYXN0IHJlcXVpcmVtZW50LlxuICAgICAgICBpZiAoZS5pbm9yZGVyVHJhdmVyc2FsKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdSA9IHIuZ2V0KGUpLCBjID0gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyh0aGlzLnF1ZXJ5LCB0KSA/IHQgOiBudWxsLCBsID0gISF1ICYmIHRoaXMubXV0YXRlZEtleXMuaGFzKHUua2V5KSwgaCA9ICEhYyAmJiAoYy5oYXNMb2NhbE11dGF0aW9ucyB8fCBcbiAgICAgICAgICAgIC8vIFdlIG9ubHkgY29uc2lkZXIgY29tbWl0dGVkIG11dGF0aW9ucyBmb3IgZG9jdW1lbnRzIHRoYXQgd2VyZVxuICAgICAgICAgICAgLy8gbXV0YXRlZCBkdXJpbmcgdGhlIGxpZmV0aW1lIG9mIHRoZSB2aWV3LlxuICAgICAgICAgICAgdGhpcy5tdXRhdGVkS2V5cy5oYXMoYy5rZXkpICYmIGMuaGFzQ29tbWl0dGVkTXV0YXRpb25zKTtcbiAgICAgICAgICAgIGxldCBQID0gITE7XG4gICAgICAgICAgICAvLyBDYWxjdWxhdGUgY2hhbmdlXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodSAmJiBjKSB7XG4gICAgICAgICAgICAgICAgdS5kYXRhLmlzRXF1YWwoYy5kYXRhKSA/IGwgIT09IGggJiYgKG4udHJhY2soe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAzIC8qIENoYW5nZVR5cGUuTWV0YWRhdGEgKi8gLFxuICAgICAgICAgICAgICAgICAgICBkb2M6IGNcbiAgICAgICAgICAgICAgICB9KSwgUCA9ICEwKSA6IHRoaXMuUmEodSwgYykgfHwgKG4udHJhY2soe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAyIC8qIENoYW5nZVR5cGUuTW9kaWZpZWQgKi8gLFxuICAgICAgICAgICAgICAgICAgICBkb2M6IGNcbiAgICAgICAgICAgICAgICB9KSwgUCA9ICEwLCAoXyAmJiB0aGlzLklhKGMsIF8pID4gMCB8fCBhICYmIHRoaXMuSWEoYywgYSkgPCAwKSAmJiAoXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBkb2MgbW92ZWQgZnJvbSBpbnNpZGUgdGhlIGxpbWl0IHRvIG91dHNpZGUgdGhlIGxpbWl0LlxuICAgICAgICAgICAgICAgIC8vIFRoYXQgbWVhbnMgdGhlcmUgbWF5IGJlIHNvbWUgb3RoZXIgZG9jIGluIHRoZSBsb2NhbCBjYWNoZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgc2hvdWxkIGJlIGluY2x1ZGVkIGluc3RlYWQuXG4gICAgICAgICAgICAgICAgbyA9ICEwKSk7XG4gICAgICAgICAgICB9IGVsc2UgIXUgJiYgYyA/IChuLnRyYWNrKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gLFxuICAgICAgICAgICAgICAgIGRvYzogY1xuICAgICAgICAgICAgfSksIFAgPSAhMCkgOiB1ICYmICFjICYmIChuLnRyYWNrKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyAsXG4gICAgICAgICAgICAgICAgZG9jOiB1XG4gICAgICAgICAgICB9KSwgUCA9ICEwLCAoXyB8fCBhKSAmJiAoXG4gICAgICAgICAgICAvLyBBIGRvYyB3YXMgcmVtb3ZlZCBmcm9tIGEgZnVsbCBsaW1pdCBxdWVyeS4gV2UnbGwgbmVlZCB0b1xuICAgICAgICAgICAgLy8gcmVxdWVyeSBmcm9tIHRoZSBsb2NhbCBjYWNoZSB0byBzZWUgaWYgd2Uga25vdyBhYm91dCBzb21lIG90aGVyXG4gICAgICAgICAgICAvLyBkb2MgdGhhdCBzaG91bGQgYmUgaW4gdGhlIHJlc3VsdHMuXG4gICAgICAgICAgICBvID0gITApKTtcbiAgICAgICAgICAgIFAgJiYgKGMgPyAocyA9IHMuYWRkKGMpLCBpID0gaCA/IGkuYWRkKGUpIDogaS5kZWxldGUoZSkpIDogKHMgPSBzLmRlbGV0ZShlKSwgaSA9IGkuZGVsZXRlKGUpKSk7XG4gICAgICAgIH0pKSwgbnVsbCAhPT0gdGhpcy5xdWVyeS5saW1pdCkgZm9yICg7cy5zaXplID4gdGhpcy5xdWVyeS5saW1pdDsgKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gXCJGXCIgLyogTGltaXRUeXBlLkZpcnN0ICovID09PSB0aGlzLnF1ZXJ5LmxpbWl0VHlwZSA/IHMubGFzdCgpIDogcy5maXJzdCgpO1xuICAgICAgICAgICAgcyA9IHMuZGVsZXRlKGUua2V5KSwgaSA9IGkuZGVsZXRlKGUua2V5KSwgbi50cmFjayh7XG4gICAgICAgICAgICAgICAgdHlwZTogMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gLFxuICAgICAgICAgICAgICAgIGRvYzogZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIFRhOiBzLFxuICAgICAgICAgICAgQWE6IG4sXG4gICAgICAgICAgICBYaTogbyxcbiAgICAgICAgICAgIG11dGF0ZWRLZXlzOiBpXG4gICAgICAgIH07XG4gICAgfVxuICAgIFJhKGUsIHQpIHtcbiAgICAgICAgLy8gV2Ugc3VwcHJlc3MgdGhlIGluaXRpYWwgY2hhbmdlIGV2ZW50IGZvciBkb2N1bWVudHMgdGhhdCB3ZXJlIG1vZGlmaWVkIGFzXG4gICAgICAgIC8vIHBhcnQgb2YgYSB3cml0ZSBhY2tub3dsZWRnbWVudCAoZS5nLiB3aGVuIHRoZSB2YWx1ZSBvZiBhIHNlcnZlciB0cmFuc2Zvcm1cbiAgICAgICAgLy8gaXMgYXBwbGllZCkgYXMgV2F0Y2ggd2lsbCBzZW5kIHVzIHRoZSBzYW1lIGRvY3VtZW50IGFnYWluLlxuICAgICAgICAvLyBCeSBzdXBwcmVzc2luZyB0aGUgZXZlbnQsIHdlIG9ubHkgcmFpc2UgdHdvIHVzZXIgdmlzaWJsZSBldmVudHMgKG9uZSB3aXRoXG4gICAgICAgIC8vIGBoYXNQZW5kaW5nV3JpdGVzYCBhbmQgdGhlIGZpbmFsIHN0YXRlIG9mIHRoZSBkb2N1bWVudCkgaW5zdGVhZCBvZiB0aHJlZVxuICAgICAgICAvLyAob25lIHdpdGggYGhhc1BlbmRpbmdXcml0ZXNgLCB0aGUgbW9kaWZpZWQgZG9jdW1lbnQgd2l0aFxuICAgICAgICAvLyBgaGFzUGVuZGluZ1dyaXRlc2AgYW5kIHRoZSBmaW5hbCBzdGF0ZSBvZiB0aGUgZG9jdW1lbnQpLlxuICAgICAgICByZXR1cm4gZS5oYXNMb2NhbE11dGF0aW9ucyAmJiB0Lmhhc0NvbW1pdHRlZE11dGF0aW9ucyAmJiAhdC5oYXNMb2NhbE11dGF0aW9ucztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgdmlldyB3aXRoIHRoZSBnaXZlbiBWaWV3RG9jdW1lbnRDaGFuZ2VzIGFuZCBvcHRpb25hbGx5IHVwZGF0ZXNcbiAgICAgKiBsaW1ibyBkb2NzIGFuZCBzeW5jIHN0YXRlIGZyb20gdGhlIHByb3ZpZGVkIHRhcmdldCBjaGFuZ2UuXG4gICAgICogQHBhcmFtIGRvY0NoYW5nZXMgLSBUaGUgc2V0IG9mIGNoYW5nZXMgdG8gbWFrZSB0byB0aGUgdmlldydzIGRvY3MuXG4gICAgICogQHBhcmFtIGxpbWJvUmVzb2x1dGlvbkVuYWJsZWQgLSBXaGV0aGVyIHRvIHVwZGF0ZSBsaW1ibyBkb2N1bWVudHMgYmFzZWQgb25cbiAgICAgKiAgICAgICAgdGhpcyBjaGFuZ2UuXG4gICAgICogQHBhcmFtIHRhcmdldENoYW5nZSAtIEEgdGFyZ2V0IGNoYW5nZSB0byBhcHBseSBmb3IgY29tcHV0aW5nIGxpbWJvIGRvY3MgYW5kXG4gICAgICogICAgICAgIHN5bmMgc3RhdGUuXG4gICAgICogQHBhcmFtIHRhcmdldElzUGVuZGluZ1Jlc2V0IC0gV2hldGhlciB0aGUgdGFyZ2V0IGlzIHBlbmRpbmcgdG8gcmVzZXQgZHVlIHRvXG4gICAgICogICAgICAgIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2guIElmIG5vdCBleHBsaWNpdGx5IHNwZWNpZmllZCwgaXQgaXMgdHJlYXRlZFxuICAgICAqICAgICAgICBlcXVpdmFsZW50bHkgdG8gYGZhbHNlYC5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBWaWV3Q2hhbmdlIHdpdGggdGhlIGdpdmVuIGRvY3MsIGNoYW5nZXMsIGFuZCBzeW5jIHN0YXRlLlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogVGhlIGlPUy9BbmRyb2lkIGNsaWVudHMgYWx3YXlzIGNvbXB1dGUgbGltYm8gZG9jdW1lbnQgY2hhbmdlcy5cbiAgICBhcHBseUNoYW5nZXMoZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gdGhpcy5UYTtcbiAgICAgICAgdGhpcy5UYSA9IGUuVGEsIHRoaXMubXV0YXRlZEtleXMgPSBlLm11dGF0ZWRLZXlzO1xuICAgICAgICAvLyBTb3J0IGNoYW5nZXMgYmFzZWQgb24gdHlwZSBhbmQgcXVlcnkgY29tcGFyYXRvclxuICAgICAgICBjb25zdCBzID0gZS5BYS5RXygpO1xuICAgICAgICBzLnNvcnQoKChlLCB0KSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZUNoYW5nZVR5cGUoZSwgdCkge1xuICAgICAgICAgICAgY29uc3Qgb3JkZXIgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovIDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDE7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovIDpcbiAgICAgICAgICAgICAgICAgIGNhc2UgMyAvKiBDaGFuZ2VUeXBlLk1ldGFkYXRhICovIDpcbiAgICAgICAgICAgICAgICAgICAgLy8gQSBtZXRhZGF0YSBjaGFuZ2UgaXMgY29udmVydGVkIHRvIGEgbW9kaWZpZWQgY2hhbmdlIGF0IHRoZSBwdWJsaWNcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBpIGxheWVyLiAgU2luY2Ugd2Ugc29ydCBieSBkb2N1bWVudCBrZXkgYW5kIHRoZW4gY2hhbmdlIHR5cGUsXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ldGFkYXRhIGFuZCBtb2RpZmllZCBjaGFuZ2VzIG11c3QgYmUgc29ydGVkIGVxdWl2YWxlbnRseS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDI7XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMDtcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIG9yZGVyKGUpIC0gb3JkZXIodCk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gKGUudHlwZSwgdC50eXBlKSB8fCB0aGlzLklhKGUuZG9jLCB0LmRvYykpKSwgdGhpcy5WYShuKSwgciA9IG51bGwgIT0gciAmJiByO1xuICAgICAgICBjb25zdCBvID0gdCAmJiAhciA/IHRoaXMubWEoKSA6IFtdLCBfID0gMCA9PT0gdGhpcy5QYS5zaXplICYmIHRoaXMuY3VycmVudCAmJiAhciA/IDEgLyogU3luY1N0YXRlLlN5bmNlZCAqLyA6IDAgLyogU3luY1N0YXRlLkxvY2FsICovICwgYSA9IF8gIT09IHRoaXMuaGE7XG4gICAgICAgIC8vIFdlIGFyZSBhdCBzeW5jZWQgc3RhdGUgaWYgdGhlcmUgaXMgbm8gbGltYm8gZG9jcyBhcmUgd2FpdGluZyB0byBiZSByZXNvbHZlZCwgdmlldyBpcyBjdXJyZW50XG4gICAgICAgIC8vIHdpdGggdGhlIGJhY2tlbmQsIGFuZCB0aGUgcXVlcnkgaXMgbm90IHBlbmRpbmcgdG8gcmVzZXQgZHVlIHRvIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2guXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGEgPSBfLCAwICE9PSBzLmxlbmd0aCB8fCBhKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNuYXBzaG90OiBuZXcgVmlld1NuYXBzaG90KHRoaXMucXVlcnksIGUuVGEsIGksIHMsIGUubXV0YXRlZEtleXMsIDAgLyogU3luY1N0YXRlLkxvY2FsICovID09PSBfLCBhLCBcbiAgICAgICAgICAgICAgICAvKiBleGNsdWRlc01ldGFkYXRhQ2hhbmdlcz0gKi8gITEsICEhbiAmJiBuLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDApLFxuICAgICAgICAgICAgICAgIGZhOiBvXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8vIG5vIGNoYW5nZXNcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGZhOiBvXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYW4gT25saW5lU3RhdGUgY2hhbmdlIHRvIHRoZSB2aWV3LCBwb3RlbnRpYWxseSBnZW5lcmF0aW5nIGFcbiAgICAgKiBWaWV3Q2hhbmdlIGlmIHRoZSB2aWV3J3Mgc3luY1N0YXRlIGNoYW5nZXMgYXMgYSByZXN1bHQuXG4gICAgICovICAgIGpfKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VycmVudCAmJiBcIk9mZmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PZmZsaW5lICovID09PSBlID8gKFxuICAgICAgICAvLyBJZiB3ZSdyZSBvZmZsaW5lLCBzZXQgYGN1cnJlbnRgIHRvIGZhbHNlIGFuZCB0aGVuIGNhbGwgYXBwbHlDaGFuZ2VzKClcbiAgICAgICAgLy8gdG8gcmVmcmVzaCBvdXIgc3luY1N0YXRlIGFuZCBnZW5lcmF0ZSBhIFZpZXdDaGFuZ2UgYXMgYXBwcm9wcmlhdGUuIFdlXG4gICAgICAgIC8vIGFyZSBndWFyYW50ZWVkIHRvIGdldCBhIG5ldyBUYXJnZXRDaGFuZ2UgdGhhdCBzZXRzIGBjdXJyZW50YCBiYWNrIHRvXG4gICAgICAgIC8vIHRydWUgb25jZSB0aGUgY2xpZW50IGlzIGJhY2sgb25saW5lLlxuICAgICAgICB0aGlzLmN1cnJlbnQgPSAhMSwgdGhpcy5hcHBseUNoYW5nZXMoe1xuICAgICAgICAgICAgVGE6IHRoaXMuVGEsXG4gICAgICAgICAgICBBYTogbmV3IF9fUFJJVkFURV9Eb2N1bWVudENoYW5nZVNldCxcbiAgICAgICAgICAgIG11dGF0ZWRLZXlzOiB0aGlzLm11dGF0ZWRLZXlzLFxuICAgICAgICAgICAgWGk6ICExXG4gICAgICAgIH0sIFxuICAgICAgICAvKiBsaW1ib1Jlc29sdXRpb25FbmFibGVkPSAqLyAhMSkpIDoge1xuICAgICAgICAgICAgZmE6IFtdXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgZG9jIGZvciB0aGUgZ2l2ZW4ga2V5IHNob3VsZCBiZSBpbiBsaW1iby5cbiAgICAgKi8gICAgZ2EoZSkge1xuICAgICAgICAvLyBJZiB0aGUgcmVtb3RlIGVuZCBzYXlzIGl0J3MgcGFydCBvZiB0aGlzIHF1ZXJ5LCBpdCdzIG5vdCBpbiBsaW1iby5cbiAgICAgICAgcmV0dXJuICF0aGlzLmxhLmhhcyhlKSAmJiAoXG4gICAgICAgIC8vIFRoZSBsb2NhbCBzdG9yZSBkb2Vzbid0IHRoaW5rIGl0J3MgYSByZXN1bHQsIHNvIGl0IHNob3VsZG4ndCBiZSBpbiBsaW1iby5cbiAgICAgICAgISF0aGlzLlRhLmhhcyhlKSAmJiAhdGhpcy5UYS5nZXQoZSkuaGFzTG9jYWxNdXRhdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHN5bmNlZERvY3VtZW50cywgY3VycmVudCwgYW5kIGxpbWJvIGRvY3MgYmFzZWQgb24gdGhlIGdpdmVuIGNoYW5nZS5cbiAgICAgKiBSZXR1cm5zIHRoZSBsaXN0IG9mIGNoYW5nZXMgdG8gd2hpY2ggZG9jcyBhcmUgaW4gbGltYm8uXG4gICAgICovICAgIFZhKGUpIHtcbiAgICAgICAgZSAmJiAoZS5hZGRlZERvY3VtZW50cy5mb3JFYWNoKChlID0+IHRoaXMubGEgPSB0aGlzLmxhLmFkZChlKSkpLCBlLm1vZGlmaWVkRG9jdW1lbnRzLmZvckVhY2goKGUgPT4ge30pKSwgXG4gICAgICAgIGUucmVtb3ZlZERvY3VtZW50cy5mb3JFYWNoKChlID0+IHRoaXMubGEgPSB0aGlzLmxhLmRlbGV0ZShlKSkpLCB0aGlzLmN1cnJlbnQgPSBlLmN1cnJlbnQpO1xuICAgIH1cbiAgICBtYSgpIHtcbiAgICAgICAgLy8gV2UgY2FuIG9ubHkgZGV0ZXJtaW5lIGxpbWJvIGRvY3VtZW50cyB3aGVuIHdlJ3JlIGluLXN5bmMgd2l0aCB0aGUgc2VydmVyLlxuICAgICAgICBpZiAoIXRoaXMuY3VycmVudCkgcmV0dXJuIFtdO1xuICAgICAgICAvLyBUT0RPKGtsaW10KTogRG8gdGhpcyBpbmNyZW1lbnRhbGx5IHNvIHRoYXQgaXQncyBub3QgcXVhZHJhdGljIHdoZW5cbiAgICAgICAgLy8gdXBkYXRpbmcgbWFueSBkb2N1bWVudHMuXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuUGE7XG4gICAgICAgIHRoaXMuUGEgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgdGhpcy5UYS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuZ2EoZS5rZXkpICYmICh0aGlzLlBhID0gdGhpcy5QYS5hZGQoZS5rZXkpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBEaWZmIHRoZSBuZXcgbGltYm8gZG9jcyB3aXRoIHRoZSBvbGQgbGltYm8gZG9jcy5cbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICByZXR1cm4gZS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuUGEuaGFzKGUpIHx8IHQucHVzaChuZXcgX19QUklWQVRFX1JlbW92ZWRMaW1ib0RvY3VtZW50KGUpKTtcbiAgICAgICAgfSkpLCB0aGlzLlBhLmZvckVhY2goKG4gPT4ge1xuICAgICAgICAgICAgZS5oYXMobikgfHwgdC5wdXNoKG5ldyBfX1BSSVZBVEVfQWRkZWRMaW1ib0RvY3VtZW50KG4pKTtcbiAgICAgICAgfSkpLCB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGluLW1lbW9yeSBzdGF0ZSBvZiB0aGUgY3VycmVudCB2aWV3IHdpdGggdGhlIHN0YXRlIHJlYWQgZnJvbVxuICAgICAqIHBlcnNpc3RlbmNlLlxuICAgICAqXG4gICAgICogV2UgdXBkYXRlIHRoZSBxdWVyeSB2aWV3IHdoZW5ldmVyIGEgY2xpZW50J3MgcHJpbWFyeSBzdGF0dXMgY2hhbmdlczpcbiAgICAgKiAtIFdoZW4gYSBjbGllbnQgdHJhbnNpdGlvbnMgZnJvbSBwcmltYXJ5IHRvIHNlY29uZGFyeSwgaXQgY2FuIG1pc3NcbiAgICAgKiAgIExvY2FsU3RvcmFnZSB1cGRhdGVzIGFuZCBpdHMgcXVlcnkgdmlld3MgbWF5IHRlbXBvcmFyaWx5IG5vdCBiZVxuICAgICAqICAgc3luY2hyb25pemVkIHdpdGggdGhlIHN0YXRlIG9uIGRpc2suXG4gICAgICogLSBGb3Igc2Vjb25kYXJ5IHRvIHByaW1hcnkgdHJhbnNpdGlvbnMsIHRoZSBjbGllbnQgbmVlZHMgdG8gdXBkYXRlIHRoZSBsaXN0XG4gICAgICogICBvZiBgc3luY2VkRG9jdW1lbnRzYCBzaW5jZSBzZWNvbmRhcnkgY2xpZW50cyB1cGRhdGUgdGhlaXIgcXVlcnkgdmlld3NcbiAgICAgKiAgIGJhc2VkIHB1cmVseSBvbiBzeW50aGVzaXplZCBSZW1vdGVFdmVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcXVlcnlSZXN1bHQuZG9jdW1lbnRzIC0gVGhlIGRvY3VtZW50cyB0aGF0IG1hdGNoIHRoZSBxdWVyeSBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgTG9jYWxTdG9yZS5cbiAgICAgKiBAcGFyYW0gcXVlcnlSZXN1bHQucmVtb3RlS2V5cyAtIFRoZSBrZXlzIG9mIHRoZSBkb2N1bWVudHMgdGhhdCBtYXRjaCB0aGVcbiAgICAgKiBxdWVyeSBhY2NvcmRpbmcgdG8gdGhlIGJhY2tlbmQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgVmlld0NoYW5nZSB0aGF0IHJlc3VsdGVkIGZyb20gdGhpcyBzeW5jaHJvbml6YXRpb24uXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICBwYShlKSB7XG4gICAgICAgIHRoaXMubGEgPSBlLmhzLCB0aGlzLlBhID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmRhKGUuZG9jdW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwbHlDaGFuZ2VzKHQsIC8qIGxpbWJvUmVzb2x1dGlvbkVuYWJsZWQ9ICovICEwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHZpZXcgc25hcHNob3QgYXMgaWYgdGhpcyBxdWVyeSB3YXMganVzdCBsaXN0ZW5lZCB0by4gQ29udGFpbnNcbiAgICAgKiBhIGRvY3VtZW50IGFkZCBmb3IgZXZlcnkgZXhpc3RpbmcgZG9jdW1lbnQgYW5kIHRoZSBgZnJvbUNhY2hlYCBhbmRcbiAgICAgKiBgaGFzUGVuZGluZ1dyaXRlc2Agc3RhdHVzIG9mIHRoZSBhbHJlYWR5IGVzdGFibGlzaGVkIHZpZXcuXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICB5YSgpIHtcbiAgICAgICAgcmV0dXJuIFZpZXdTbmFwc2hvdC5mcm9tSW5pdGlhbERvY3VtZW50cyh0aGlzLnF1ZXJ5LCB0aGlzLlRhLCB0aGlzLm11dGF0ZWRLZXlzLCAwIC8qIFN5bmNTdGF0ZS5Mb2NhbCAqLyA9PT0gdGhpcy5oYSwgdGhpcy5oYXNDYWNoZWRSZXN1bHRzKTtcbiAgICB9XG59XG5cbi8qKlxuICogUXVlcnlWaWV3IGNvbnRhaW5zIGFsbCBvZiB0aGUgZGF0YSB0aGF0IFN5bmNFbmdpbmUgbmVlZHMgdG8ga2VlcCB0cmFjayBvZiBmb3JcbiAqIGEgcGFydGljdWxhciBxdWVyeS5cbiAqL1xuY2xhc3MgX19QUklWQVRFX1F1ZXJ5VmlldyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIHF1ZXJ5IGl0c2VsZi5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IG51bWJlciBjcmVhdGVkIGJ5IHRoZSBjbGllbnQgdGhhdCBpcyB1c2VkIGluIHRoZSB3YXRjaFxuICAgICAqIHN0cmVhbSB0byBpZGVudGlmeSB0aGlzIHF1ZXJ5LlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKlxuICAgICAqIFRoZSB2aWV3IGlzIHJlc3BvbnNpYmxlIGZvciBjb21wdXRpbmcgdGhlIGZpbmFsIG1lcmdlZCB0cnV0aCBvZiB3aGF0XG4gICAgICogZG9jcyBhcmUgaW4gdGhlIHF1ZXJ5LiBJdCBnZXRzIG5vdGlmaWVkIG9mIGxvY2FsIGFuZCByZW1vdGUgY2hhbmdlcyxcbiAgICAgKiBhbmQgYXBwbGllcyB0aGUgcXVlcnkgZmlsdGVycyBhbmQgbGltaXRzIHRvIGRldGVybWluZSB0aGUgbW9zdCBjb3JyZWN0XG4gICAgICogcG9zc2libGUgcmVzdWx0cy5cbiAgICAgKi9cbiAgICBuKSB7XG4gICAgICAgIHRoaXMucXVlcnkgPSBlLCB0aGlzLnRhcmdldElkID0gdCwgdGhpcy52aWV3ID0gbjtcbiAgICB9XG59XG5cbi8qKiBUcmFja3MgYSBsaW1ibyByZXNvbHV0aW9uLiAqLyBjbGFzcyBMaW1ib1Jlc29sdXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBlLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0byB0cnVlIG9uY2Ugd2UndmUgcmVjZWl2ZWQgYSBkb2N1bWVudC4gVGhpcyBpcyB1c2VkIGluXG4gICAgICAgICAqIGdldFJlbW90ZUtleXNGb3JUYXJnZXQoKSBhbmQgdWx0aW1hdGVseSB1c2VkIGJ5IFdhdGNoQ2hhbmdlQWdncmVnYXRvciB0b1xuICAgICAgICAgKiBkZWNpZGUgd2hldGhlciBpdCBuZWVkcyB0byBtYW51ZmFjdHVyZSBhIGRlbGV0ZSBldmVudCBmb3IgdGhlIHRhcmdldCBvbmNlXG4gICAgICAgICAqIHRoZSB0YXJnZXQgaXMgQ1VSUkVOVC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2EgPSAhMTtcbiAgICB9XG59XG5cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgYFN5bmNFbmdpbmVgIGNvb3JkaW5hdGluZyB3aXRoIG90aGVyIHBhcnRzIG9mIFNESy5cbiAqXG4gKiBUaGUgcGFydHMgb2YgU3luY0VuZ2luZSB0aGF0IGFjdCBhcyBhIGNhbGxiYWNrIHRvIFJlbW90ZVN0b3JlIG5lZWQgdG8gYmVcbiAqIHJlZ2lzdGVyZWQgaW5kaXZpZHVhbGx5LiBUaGlzIGlzIGRvbmUgaW4gYHN5bmNFbmdpbmVXcml0ZSgpYCBhbmRcbiAqIGBzeW5jRW5naW5lTGlzdGVuKClgIChhcyB3ZWxsIGFzIGBhcHBseVByaW1hcnlTdGF0ZSgpYCkgYXMgdGhlc2UgbWV0aG9kc1xuICogc2VydmUgYXMgZW50cnkgcG9pbnRzIHRvIFJlbW90ZVN0b3JlJ3MgZnVuY3Rpb25hbGl0eS5cbiAqXG4gKiBOb3RlOiBzb21lIGZpZWxkIGRlZmluZWQgaW4gdGhpcyBjbGFzcyBtaWdodCBoYXZlIHB1YmxpYyBhY2Nlc3MgbGV2ZWwsIGJ1dFxuICogdGhlIGNsYXNzIGlzIG5vdCBleHBvcnRlZCBzbyB0aGV5IGFyZSBvbmx5IGFjY2Vzc2libGUgZnJvbSB0aGlzIG1vZHVsZS5cbiAqIFRoaXMgaXMgdXNlZnVsIHRvIGltcGxlbWVudCBvcHRpb25hbCBmZWF0dXJlcyAobGlrZSBidW5kbGVzKSBpbiBmcmVlXG4gKiBmdW5jdGlvbnMsIHN1Y2ggdGhhdCB0aGV5IGFyZSB0cmVlLXNoYWtlYWJsZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfU3luY0VuZ2luZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIFxuICAgIC8vIFBPUlRJTkcgTk9URTogTWFuYWdlcyBzdGF0ZSBzeW5jaHJvbml6YXRpb24gaW4gbXVsdGktdGFiIGVudmlyb25tZW50cy5cbiAgICByLCBpLCBzKSB7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yZSA9IGUsIHRoaXMucmVtb3RlU3RvcmUgPSB0LCB0aGlzLmV2ZW50TWFuYWdlciA9IG4sIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgPSByLCBcbiAgICAgICAgdGhpcy5jdXJyZW50VXNlciA9IGksIHRoaXMubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnMgPSBzLCB0aGlzLlNhID0ge30sIHRoaXMuYmEgPSBuZXcgT2JqZWN0TWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeVF1ZXJ5KGUpKSwgX19QUklWQVRFX3F1ZXJ5RXF1YWxzKSwgXG4gICAgICAgIHRoaXMuRGEgPSBuZXcgTWFwLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBrZXlzIG9mIGRvY3VtZW50cyB0aGF0IGFyZSBpbiBsaW1ibyBmb3Igd2hpY2ggd2UgaGF2ZW4ndCB5ZXQgc3RhcnRlZCBhXG4gICAgICAgICAqIGxpbWJvIHJlc29sdXRpb24gcXVlcnkuIFRoZSBzdHJpbmdzIGluIHRoaXMgc2V0IGFyZSB0aGUgcmVzdWx0IG9mIGNhbGxpbmdcbiAgICAgICAgICogYGtleS5wYXRoLmNhbm9uaWNhbFN0cmluZygpYCB3aGVyZSBga2V5YCBpcyBhIGBEb2N1bWVudEtleWAgb2JqZWN0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgYFNldGAgdHlwZSB3YXMgY2hvc2VuIGJlY2F1c2UgaXQgcHJvdmlkZXMgZWZmaWNpZW50IGxvb2t1cCBhbmQgcmVtb3ZhbFxuICAgICAgICAgKiBvZiBhcmJpdHJhcnkgZWxlbWVudHMgYW5kIGl0IGFsc28gbWFpbnRhaW5zIGluc2VydGlvbiBvcmRlciwgcHJvdmlkaW5nIHRoZVxuICAgICAgICAgKiBkZXNpcmVkIHF1ZXVlLWxpa2UgRklGTyBzZW1hbnRpY3MuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkNhID0gbmV3IFNldCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgdGFyZ2V0IElEIGZvciBlYWNoIGRvY3VtZW50IHRoYXQgaXMgaW4gbGltYm8gd2l0aCBhblxuICAgICAgICAgKiBhY3RpdmUgdGFyZ2V0LlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy52YSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvciksIFxuICAgICAgICAvKipcbiAgICAgICAgICogS2VlcHMgdHJhY2sgb2YgdGhlIGluZm9ybWF0aW9uIGFib3V0IGFuIGFjdGl2ZSBsaW1ibyByZXNvbHV0aW9uIGZvciBlYWNoXG4gICAgICAgICAqIGFjdGl2ZSB0YXJnZXQgSUQgdGhhdCB3YXMgc3RhcnRlZCBmb3IgdGhlIHB1cnBvc2Ugb2YgbGltYm8gcmVzb2x1dGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuRmEgPSBuZXcgTWFwLCB0aGlzLk1hID0gbmV3IF9fUFJJVkFURV9SZWZlcmVuY2VTZXQsIFxuICAgICAgICAvKiogU3RvcmVzIHVzZXIgY29tcGxldGlvbiBoYW5kbGVycywgaW5kZXhlZCBieSBVc2VyIGFuZCBCYXRjaElkLiAqL1xuICAgICAgICB0aGlzLnhhID0ge30sIFxuICAgICAgICAvKiogU3RvcmVzIHVzZXIgY2FsbGJhY2tzIHdhaXRpbmcgZm9yIGFsbCBwZW5kaW5nIHdyaXRlcyB0byBiZSBhY2tub3dsZWRnZWQuICovXG4gICAgICAgIHRoaXMuT2EgPSBuZXcgTWFwLCB0aGlzLk5hID0gX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yLkxuKCksIHRoaXMub25saW5lU3RhdGUgPSBcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovICwgXG4gICAgICAgIC8vIFRoZSBwcmltYXJ5IHN0YXRlIGlzIHNldCB0byBgdHJ1ZWAgb3IgYGZhbHNlYCBpbW1lZGlhdGVseSBhZnRlciBGaXJlc3RvcmVcbiAgICAgICAgLy8gc3RhcnR1cC4gSW4gdGhlIGludGVyaW0sIGEgY2xpZW50IHNob3VsZCBvbmx5IGJlIGNvbnNpZGVyZWQgcHJpbWFyeSBpZlxuICAgICAgICAvLyBgaXNQcmltYXJ5YCBpcyB0cnVlLlxuICAgICAgICB0aGlzLkxhID0gdm9pZCAwO1xuICAgIH1cbiAgICBnZXQgaXNQcmltYXJ5Q2xpZW50KCkge1xuICAgICAgICByZXR1cm4gITAgPT09IHRoaXMuTGE7XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXRpYXRlcyB0aGUgbmV3IGxpc3RlbiwgcmVzb2x2ZXMgcHJvbWlzZSB3aGVuIGxpc3RlbiBlbnF1ZXVlZCB0byB0aGVcbiAqIHNlcnZlci4gQWxsIHRoZSBzdWJzZXF1ZW50IHZpZXcgc25hcHNob3RzIG9yIGVycm9ycyBhcmUgc2VudCB0byB0aGVcbiAqIHN1YnNjcmliZWQgaGFuZGxlcnMuIFJldHVybnMgdGhlIGluaXRpYWwgc25hcHNob3QuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lTGlzdGVuKGUsIHQsIG4gPSAhMCkge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hDYWxsYmFja3MoZSk7XG4gICAgbGV0IGk7XG4gICAgY29uc3QgcyA9IHIuYmEuZ2V0KHQpO1xuICAgIHJldHVybiBzID8gKFxuICAgIC8vIFBPUlRJTkcgTk9URTogV2l0aCBNdWx0aS1UYWIgV2ViLCBpdCBpcyBwb3NzaWJsZSB0aGF0IGEgcXVlcnkgdmlld1xuICAgIC8vIGFscmVhZHkgZXhpc3RzIHdoZW4gRXZlbnRNYW5hZ2VyIGNhbGxzIHVzIGZvciB0aGUgZmlyc3QgdGltZS4gVGhpc1xuICAgIC8vIGhhcHBlbnMgd2hlbiB0aGUgcHJpbWFyeSB0YWIgaXMgYWxyZWFkeSBsaXN0ZW5pbmcgdG8gdGhpcyBxdWVyeSBvblxuICAgIC8vIGJlaGFsZiBvZiBhbm90aGVyIHRhYiBhbmQgdGhlIHVzZXIgb2YgdGhlIHByaW1hcnkgYWxzbyBzdGFydHMgbGlzdGVuaW5nXG4gICAgLy8gdG8gdGhlIHF1ZXJ5LiBFdmVudE1hbmFnZXIgd2lsbCBub3QgaGF2ZSBhbiBhc3NpZ25lZCB0YXJnZXQgSUQgaW4gdGhpc1xuICAgIC8vIGNhc2UgYW5kIGNhbGxzIGBsaXN0ZW5gIHRvIG9idGFpbiB0aGlzIElELlxuICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUuYWRkTG9jYWxRdWVyeVRhcmdldChzLnRhcmdldElkKSwgaSA9IHMudmlldy55YSgpKSA6IGkgPSBhd2FpdCBfX1BSSVZBVEVfYWxsb2NhdGVUYXJnZXRBbmRNYXliZUxpc3RlbihyLCB0LCBuLCBcbiAgICAvKiogc2hvdWxkSW5pdGlhbGl6ZVZpZXc9ICovICEwKSwgaTtcbn1cblxuLyoqIFF1ZXJ5IGhhcyBiZWVuIGxpc3RlbmluZyB0byB0aGUgY2FjaGUsIGFuZCB0cmllcyB0byBpbml0aWF0ZSB0aGUgcmVtb3RlIHN0b3JlIGxpc3RlbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfdHJpZ2dlclJlbW90ZVN0b3JlTGlzdGVuKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2Vuc3VyZVdhdGNoQ2FsbGJhY2tzKGUpO1xuICAgIGF3YWl0IF9fUFJJVkFURV9hbGxvY2F0ZVRhcmdldEFuZE1heWJlTGlzdGVuKG4sIHQsIFxuICAgIC8qKiBzaG91bGRMaXN0ZW5Ub1JlbW90ZT0gKi8gITAsIFxuICAgIC8qKiBzaG91bGRJbml0aWFsaXplVmlldz0gKi8gITEpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfYWxsb2NhdGVUYXJnZXRBbmRNYXliZUxpc3RlbihlLCB0LCBuLCByKSB7XG4gICAgY29uc3QgaSA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoZS5sb2NhbFN0b3JlLCBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldCh0KSksIHMgPSBpLnRhcmdldElkLCBvID0gbiA/IGUuc2hhcmVkQ2xpZW50U3RhdGUuYWRkTG9jYWxRdWVyeVRhcmdldChzKSA6IFwibm90LWN1cnJlbnRcIjtcbiAgICBsZXQgXztcbiAgICByZXR1cm4gciAmJiAoXyA9IGF3YWl0IF9fUFJJVkFURV9pbml0aWFsaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdChlLCB0LCBzLCBcImN1cnJlbnRcIiA9PT0gbywgaS5yZXN1bWVUb2tlbikpLCBcbiAgICBlLmlzUHJpbWFyeUNsaWVudCAmJiBuICYmIF9fUFJJVkFURV9yZW1vdGVTdG9yZUxpc3RlbihlLnJlbW90ZVN0b3JlLCBpKSwgXztcbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSB2aWV3IGZvciBhIHByZXZpb3VzbHkgdW5rbm93biBxdWVyeSBhbmQgY29tcHV0ZXMgaXRzIGluaXRpYWxcbiAqIHNuYXBzaG90LlxuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9pbml0aWFsaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdChlLCB0LCBuLCByLCBpKSB7XG4gICAgLy8gUE9SVElORyBOT1RFOiBPbiBXZWIgb25seSwgd2UgaW5qZWN0IHRoZSBjb2RlIHRoYXQgcmVnaXN0ZXJzIG5ldyBMaW1ib1xuICAgIC8vIHRhcmdldHMgYmFzZWQgb24gdmlldyBjaGFuZ2VzLiBUaGlzIGFsbG93cyB1cyB0byBvbmx5IGRlcGVuZCBvbiBMaW1ib1xuICAgIC8vIGNoYW5nZXMgd2hlbiB1c2VyIGNvZGUgaW5jbHVkZXMgcXVlcmllcy5cbiAgICBlLkJhID0gKHQsIG4sIHIpID0+IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseURvY0NoYW5nZXMoZSwgdCwgbiwgcikge1xuICAgICAgICBsZXQgaSA9IHQudmlldy5kYShuKTtcbiAgICAgICAgaS5YaSAmJiAoXG4gICAgICAgIC8vIFRoZSBxdWVyeSBoYXMgYSBsaW1pdCBhbmQgc29tZSBkb2NzIHdlcmUgcmVtb3ZlZCwgc28gd2UgbmVlZFxuICAgICAgICAvLyB0byByZS1ydW4gdGhlIHF1ZXJ5IGFnYWluc3QgdGhlIGxvY2FsIHN0b3JlIHRvIG1ha2Ugc3VyZSB3ZVxuICAgICAgICAvLyBkaWRuJ3QgbG9zZSBhbnkgZ29vZCBkb2NzIHRoYXQgaGFkIGJlZW4gcGFzdCB0aGUgbGltaXQuXG4gICAgICAgIGkgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUV4ZWN1dGVRdWVyeShlLmxvY2FsU3RvcmUsIHQucXVlcnksIFxuICAgICAgICAvKiB1c2VQcmV2aW91c1Jlc3VsdHM9ICovICExKS50aGVuKCgoe2RvY3VtZW50czogZX0pID0+IHQudmlldy5kYShlLCBpKSkpKTtcbiAgICAgICAgY29uc3QgcyA9IHIgJiYgci50YXJnZXRDaGFuZ2VzLmdldCh0LnRhcmdldElkKSwgbyA9IHIgJiYgbnVsbCAhPSByLnRhcmdldE1pc21hdGNoZXMuZ2V0KHQudGFyZ2V0SWQpLCBfID0gdC52aWV3LmFwcGx5Q2hhbmdlcyhpLCBcbiAgICAgICAgLyogbGltYm9SZXNvbHV0aW9uRW5hYmxlZD0gKi8gZS5pc1ByaW1hcnlDbGllbnQsIHMsIG8pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3VwZGF0ZVRyYWNrZWRMaW1ib3MoZSwgdC50YXJnZXRJZCwgXy5mYSksIF8uc25hcHNob3Q7XG4gICAgfShlLCB0LCBuLCByKTtcbiAgICBjb25zdCBzID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVFeGVjdXRlUXVlcnkoZS5sb2NhbFN0b3JlLCB0LCBcbiAgICAvKiB1c2VQcmV2aW91c1Jlc3VsdHM9ICovICEwKSwgbyA9IG5ldyBfX1BSSVZBVEVfVmlldyh0LCBzLmhzKSwgXyA9IG8uZGEocy5kb2N1bWVudHMpLCBhID0gVGFyZ2V0Q2hhbmdlLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZShuLCByICYmIFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8gIT09IGUub25saW5lU3RhdGUsIGkpLCB1ID0gby5hcHBseUNoYW5nZXMoXywgXG4gICAgLyogbGltYm9SZXNvbHV0aW9uRW5hYmxlZD0gKi8gZS5pc1ByaW1hcnlDbGllbnQsIGEpO1xuICAgIF9fUFJJVkFURV91cGRhdGVUcmFja2VkTGltYm9zKGUsIG4sIHUuZmEpO1xuICAgIGNvbnN0IGMgPSBuZXcgX19QUklWQVRFX1F1ZXJ5Vmlldyh0LCBuLCBvKTtcbiAgICByZXR1cm4gZS5iYS5zZXQodCwgYyksIGUuRGEuaGFzKG4pID8gZS5EYS5nZXQobikucHVzaCh0KSA6IGUuRGEuc2V0KG4sIFsgdCBdKSwgdS5zbmFwc2hvdDtcbn1cblxuLyoqIFN0b3BzIGxpc3RlbmluZyB0byB0aGUgcXVlcnkuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lVW5saXN0ZW4oZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBpID0gci5iYS5nZXQodCksIHMgPSByLkRhLmdldChpLnRhcmdldElkKTtcbiAgICBpZiAocy5sZW5ndGggPiAxKSByZXR1cm4gci5EYS5zZXQoaS50YXJnZXRJZCwgcy5maWx0ZXIoKGUgPT4gIV9fUFJJVkFURV9xdWVyeUVxdWFscyhlLCB0KSkpKSwgXG4gICAgdm9pZCByLmJhLmRlbGV0ZSh0KTtcbiAgICAvLyBObyBvdGhlciBxdWVyaWVzIGFyZSBtYXBwZWQgdG8gdGhlIHRhcmdldCwgY2xlYW4gdXAgdGhlIHF1ZXJ5IGFuZCB0aGUgdGFyZ2V0LlxuICAgICAgICBpZiAoci5pc1ByaW1hcnlDbGllbnQpIHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byByZW1vdmUgdGhlIGxvY2FsIHF1ZXJ5IHRhcmdldCBmaXJzdCB0byBhbGxvdyB1cyB0byB2ZXJpZnlcbiAgICAgICAgLy8gd2hldGhlciBhbnkgb3RoZXIgY2xpZW50IGlzIHN0aWxsIGludGVyZXN0ZWQgaW4gdGhpcyB0YXJnZXQuXG4gICAgICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldChpLnRhcmdldElkKTtcbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGkudGFyZ2V0SWQpIHx8IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlUmVsZWFzZVRhcmdldChyLmxvY2FsU3RvcmUsIGkudGFyZ2V0SWQsIFxuICAgICAgICAvKmtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhPSovICExKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICByLnNoYXJlZENsaWVudFN0YXRlLmNsZWFyUXVlcnlTdGF0ZShpLnRhcmdldElkKSwgbiAmJiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbihyLnJlbW90ZVN0b3JlLCBpLnRhcmdldElkKSwgXG4gICAgICAgICAgICBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChyLCBpLnRhcmdldElkKTtcbiAgICAgICAgfSkpLmNhdGNoKF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MpO1xuICAgIH0gZWxzZSBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChyLCBpLnRhcmdldElkKSwgYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KHIubG9jYWxTdG9yZSwgaS50YXJnZXRJZCwgXG4gICAgLyprZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YT0qLyAhMCk7XG59XG5cbi8qKiBVbmxpc3RlbnMgdG8gdGhlIHJlbW90ZSBzdG9yZSB3aGlsZSBzdGlsbCBsaXN0ZW5pbmcgdG8gdGhlIGNhY2hlLiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfdHJpZ2dlclJlbW90ZVN0b3JlVW5saXN0ZW4oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gbi5iYS5nZXQodCksIGkgPSBuLkRhLmdldChyLnRhcmdldElkKTtcbiAgICBuLmlzUHJpbWFyeUNsaWVudCAmJiAxID09PSBpLmxlbmd0aCAmJiAoXG4gICAgLy8gUE9SVElORyBOT1RFOiBVbnJlZ2lzdGVyIHRoZSB0YXJnZXQgSUQgd2l0aCBsb2NhbCBGaXJlc3RvcmUgY2xpZW50IGFzXG4gICAgLy8gd2F0Y2ggdGFyZ2V0LlxuICAgIG4uc2hhcmVkQ2xpZW50U3RhdGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldChyLnRhcmdldElkKSwgX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4obi5yZW1vdGVTdG9yZSwgci50YXJnZXRJZCkpO1xufVxuXG4vKipcbiAqIEluaXRpYXRlcyB0aGUgd3JpdGUgb2YgbG9jYWwgbXV0YXRpb24gYmF0Y2ggd2hpY2ggaW52b2x2ZXMgYWRkaW5nIHRoZVxuICogd3JpdGVzIHRvIHRoZSBtdXRhdGlvbiBxdWV1ZSwgbm90aWZ5aW5nIHRoZSByZW1vdGUgc3RvcmUgYWJvdXQgbmV3XG4gKiBtdXRhdGlvbnMgYW5kIHJhaXNpbmcgZXZlbnRzIGZvciBhbnkgY2hhbmdlcyB0aGlzIHdyaXRlIGNhdXNlZC5cbiAqXG4gKiBUaGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGlzIGNhbGwgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgYWJvdmUgc3RlcHNcbiAqIGhhdmUgY29tcGxldGVkLCAqbm90KiB3aGVuIHRoZSB3cml0ZSB3YXMgYWNrZWQgYnkgdGhlIGJhY2tlbmQuIFRoZVxuICogdXNlckNhbGxiYWNrIGlzIHJlc29sdmVkIG9uY2UgdGhlIHdyaXRlIHdhcyBhY2tlZC9yZWplY3RlZCBieSB0aGVcbiAqIGJhY2tlbmQgKG9yIGZhaWxlZCBsb2NhbGx5IGZvciBhbnkgb3RoZXIgcmVhc29uKS5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZVdyaXRlKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX3N5bmNFbmdpbmVFbnN1cmVXcml0ZUNhbGxiYWNrcyhlKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVXcml0ZUxvY2FsbHkoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBUaW1lc3RhbXAubm93KCksIGkgPSB0LnJlZHVjZSgoKGUsIHQpID0+IGUuYWRkKHQua2V5KSksIF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpKTtcbiAgICAgICAgICAgIGxldCBzLCBvO1xuICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJMb2NhbGx5IHdyaXRlIG11dGF0aW9uc1wiLCBcInJlYWR3cml0ZVwiLCAoZSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gRmlndXJlIG91dCB3aGljaCBrZXlzIGRvIG5vdCBoYXZlIGEgcmVtb3RlIHZlcnNpb24gaW4gdGhlIGNhY2hlLCB0aGlzXG4gICAgICAgICAgICAgICAgLy8gaXMgbmVlZGVkIHRvIGNyZWF0ZSB0aGUgcmlnaHQgb3ZlcmxheSBtdXRhdGlvbjogaWYgbm8gcmVtb3RlIHZlcnNpb25cbiAgICAgICAgICAgICAgICAvLyBwcmVzZW50cywgd2UgZG8gbm90IG5lZWQgdG8gY3JlYXRlIG92ZXJsYXlzIGFzIHBhdGNoIG11dGF0aW9ucy5cbiAgICAgICAgICAgICAgICAvLyBUT0RPKE92ZXJsYXkpOiBJcyB0aGVyZSBhIGJldHRlciB3YXkgdG8gZGV0ZXJtaW5lIHRoaXM/IFVzaW5nIHRoZVxuICAgICAgICAgICAgICAgIC8vICBkb2N1bWVudCB2ZXJzaW9uIGRvZXMgbm90IHdvcmsgYmVjYXVzZSBsb2NhbCBtdXRhdGlvbnMgc2V0IHRoZW0gYmFja1xuICAgICAgICAgICAgICAgIC8vICB0byAwLlxuICAgICAgICAgICAgICAgIGxldCBfID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpLCBhID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ub3MuZ2V0RW50cmllcyhlLCBpKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgXyA9IGUsIF8uZm9yRWFjaCgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuaXNWYWxpZERvY3VtZW50KCkgfHwgKGEgPSBhLmFkZChlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9KSkubmV4dCgoKCkgPT4gbi5sb2NhbERvY3VtZW50cy5nZXRPdmVybGF5ZWREb2N1bWVudHMoZSwgXykpKS5uZXh0KChpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcyA9IGk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBub24taWRlbXBvdGVudCBtdXRhdGlvbnMgKHN1Y2ggYXMgYEZpZWxkVmFsdWUuaW5jcmVtZW50KClgKSxcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgcmVjb3JkIHRoZSBiYXNlIHN0YXRlIGluIGEgc2VwYXJhdGUgcGF0Y2ggbXV0YXRpb24uIFRoaXMgaXNcbiAgICAgICAgICAgICAgICAgICAgLy8gbGF0ZXIgdXNlZCB0byBndWFyYW50ZWUgY29uc2lzdGVudCB2YWx1ZXMgYW5kIHByZXZlbnRzIGZsaWNrZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXZlbiBpZiB0aGUgYmFja2VuZCBzZW5kcyB1cyBhbiB1cGRhdGUgdGhhdCBhbHJlYWR5IGluY2x1ZGVzIG91clxuICAgICAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0uXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbXV0YXRpb25FeHRyYWN0QmFzZVZhbHVlKGUsIHMuZ2V0KGUua2V5KS5vdmVybGF5ZWREb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsICE9IHQgJiYgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBUaGUgYmFzZSBzdGF0ZSBzaG91bGQgb25seSBiZSBhcHBsaWVkIGlmIHRoZXJlJ3Mgc29tZVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhpc3RpbmcgZG9jdW1lbnQgdG8gb3ZlcnJpZGUsIHNvIHVzZSBhIFByZWNvbmRpdGlvbiBvZlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhpc3RzPXRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucHVzaChuZXcgX19QUklWQVRFX1BhdGNoTXV0YXRpb24oZS5rZXksIHQsIF9fUFJJVkFURV9leHRyYWN0RmllbGRNYXNrKHQudmFsdWUubWFwVmFsdWUpLCBQcmVjb25kaXRpb24uZXhpc3RzKCEwKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuLm11dGF0aW9uUXVldWUuYWRkTXV0YXRpb25CYXRjaChlLCByLCBvLCB0KTtcbiAgICAgICAgICAgICAgICB9KSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIG8gPSB0O1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gdC5hcHBseVRvTG9jYWxEb2N1bWVudFNldChzLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uZG9jdW1lbnRPdmVybGF5Q2FjaGUuc2F2ZU92ZXJsYXlzKGUsIHQuYmF0Y2hJZCwgcik7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKCgpID0+ICh7XG4gICAgICAgICAgICAgICAgYmF0Y2hJZDogby5iYXRjaElkLFxuICAgICAgICAgICAgICAgIGNoYW5nZXM6IF9fUFJJVkFURV9jb252ZXJ0T3ZlcmxheWVkRG9jdW1lbnRNYXBUb0RvY3VtZW50TWFwKHMpXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9KHIubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUuYWRkUGVuZGluZ011dGF0aW9uKGUuYmF0Y2hJZCksIGZ1bmN0aW9uIF9fUFJJVkFURV9hZGRNdXRhdGlvbkNhbGxiYWNrKGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGxldCByID0gZS54YVtlLmN1cnJlbnRVc2VyLnRvS2V5KCldO1xuICAgICAgICAgICAgciB8fCAociA9IG5ldyBTb3J0ZWRNYXAoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpKTtcbiAgICAgICAgICAgIHIgPSByLmluc2VydCh0LCBuKSwgZS54YVtlLmN1cnJlbnRVc2VyLnRvS2V5KCldID0gcjtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIFJlc29sdmVzIG9yIHJlamVjdHMgdGhlIHVzZXIgY2FsbGJhY2sgZm9yIHRoZSBnaXZlbiBiYXRjaCBhbmQgdGhlbiBkaXNjYXJkc1xuICogaXQuXG4gKi8gKHIsIGUuYmF0Y2hJZCwgbiksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShyLCBlLmNoYW5nZXMpLCBcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKHIucmVtb3RlU3RvcmUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gSWYgd2UgY2FuJ3QgcGVyc2lzdCB0aGUgbXV0YXRpb24sIHdlIHJlamVjdCB0aGUgdXNlciBjYWxsYmFjayBhbmRcbiAgICAgICAgLy8gZG9uJ3Qgc2VuZCB0aGUgbXV0YXRpb24uIFRoZSB1c2VyIGNhbiB0aGVuIHJldHJ5IHRoZSB3cml0ZS5cbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKGUsIFwiRmFpbGVkIHRvIHBlcnNpc3Qgd3JpdGVcIik7XG4gICAgICAgIG4ucmVqZWN0KHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBcHBsaWVzIG9uZSByZW1vdGUgZXZlbnQgdG8gdGhlIHN5bmMgZW5naW5lLCBub3RpZnlpbmcgYW55IHZpZXdzIG9mIHRoZVxuICogY2hhbmdlcywgYW5kIHJlbGVhc2luZyBhbnkgcGVuZGluZyBtdXRhdGlvbiBiYXRjaGVzIHRoYXQgd291bGQgYmVjb21lXG4gKiB2aXNpYmxlIGJlY2F1c2Ugb2YgdGhlIHNuYXBzaG90IHZlcnNpb24gdGhlIHJlbW90ZSBldmVudCBjb250YWlucy5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UmVtb3RlRXZlbnQoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5UmVtb3RlRXZlbnRUb0xvY2FsQ2FjaGUobi5sb2NhbFN0b3JlLCB0KTtcbiAgICAgICAgLy8gVXBkYXRlIGByZWNlaXZlZERvY3VtZW50YCBhcyBhcHByb3ByaWF0ZSBmb3IgYW55IGxpbWJvIHRhcmdldHMuXG4gICAgICAgICAgICAgICAgdC50YXJnZXRDaGFuZ2VzLmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gbi5GYS5nZXQodCk7XG4gICAgICAgICAgICByICYmIChcbiAgICAgICAgICAgIC8vIFNpbmNlIHRoaXMgaXMgYSBsaW1ibyByZXNvbHV0aW9uIGxvb2t1cCwgaXQncyBmb3IgYSBzaW5nbGUgZG9jdW1lbnRcbiAgICAgICAgICAgIC8vIGFuZCBpdCBjb3VsZCBiZSBhZGRlZCwgbW9kaWZpZWQsIG9yIHJlbW92ZWQsIGJ1dCBub3QgYSBjb21iaW5hdGlvbi5cbiAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUuYWRkZWREb2N1bWVudHMuc2l6ZSArIGUubW9kaWZpZWREb2N1bWVudHMuc2l6ZSArIGUucmVtb3ZlZERvY3VtZW50cy5zaXplIDw9IDEpLCBcbiAgICAgICAgICAgIGUuYWRkZWREb2N1bWVudHMuc2l6ZSA+IDAgPyByLndhID0gITAgOiBlLm1vZGlmaWVkRG9jdW1lbnRzLnNpemUgPiAwID8gX19QUklWQVRFX2hhcmRBc3NlcnQoci53YSkgOiBlLnJlbW92ZWREb2N1bWVudHMuc2l6ZSA+IDAgJiYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHIud2EpLCBcbiAgICAgICAgICAgIHIud2EgPSAhMSkpO1xuICAgICAgICB9KSksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuLCBlLCB0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFwcGxpZXMgYW4gT25saW5lU3RhdGUgY2hhbmdlIHRvIHRoZSBzeW5jIGVuZ2luZSBhbmQgbm90aWZpZXMgYW55IHZpZXdzIG9mXG4gKiB0aGUgY2hhbmdlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlPbmxpbmVTdGF0ZUNoYW5nZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgLy8gSWYgd2UgYXJlIHRoZSBzZWNvbmRhcnkgY2xpZW50LCB3ZSBleHBsaWNpdGx5IGlnbm9yZSB0aGUgcmVtb3RlIHN0b3JlJ3NcbiAgICAvLyBvbmxpbmUgc3RhdGUgKHRoZSBsb2NhbCBjbGllbnQgbWF5IGdvIG9mZmxpbmUsIGV2ZW4gdGhvdWdoIHRoZSBwcmltYXJ5XG4gICAgLy8gdGFiIHJlbWFpbnMgb25saW5lKSBhbmQgb25seSBhcHBseSB0aGUgcHJpbWFyeSB0YWIncyBvbmxpbmUgc3RhdGUgZnJvbVxuICAgIC8vIFNoYXJlZENsaWVudFN0YXRlLlxuICAgICAgICBpZiAoci5pc1ByaW1hcnlDbGllbnQgJiYgMCAvKiBPbmxpbmVTdGF0ZVNvdXJjZS5SZW1vdGVTdG9yZSAqLyA9PT0gbiB8fCAhci5pc1ByaW1hcnlDbGllbnQgJiYgMSAvKiBPbmxpbmVTdGF0ZVNvdXJjZS5TaGFyZWRDbGllbnRTdGF0ZSAqLyA9PT0gbikge1xuICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgIHIuYmEuZm9yRWFjaCgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSByLnZpZXcual8odCk7XG4gICAgICAgICAgICBpLnNuYXBzaG90ICYmIGUucHVzaChpLnNuYXBzaG90KTtcbiAgICAgICAgfSkpLCBmdW5jdGlvbiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyT25PbmxpbmVTdGF0ZUNoYW5nZShlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgIG4ub25saW5lU3RhdGUgPSB0O1xuICAgICAgICAgICAgbGV0IHIgPSAhMTtcbiAgICAgICAgICAgIG4ucXVlcmllcy5mb3JFYWNoKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBuLlVfKSBcbiAgICAgICAgICAgICAgICAvLyBSdW4gZ2xvYmFsIHNuYXBzaG90IGxpc3RlbmVycyBpZiBhIGNvbnNpc3RlbnQgc25hcHNob3QgaGFzIGJlZW4gZW1pdHRlZC5cbiAgICAgICAgICAgICAgICBlLmpfKHQpICYmIChyID0gITApO1xuICAgICAgICAgICAgfSkpLCByICYmIF9fUFJJVkFURV9yYWlzZVNuYXBzaG90c0luU3luY0V2ZW50KG4pO1xuICAgICAgICB9KHIuZXZlbnRNYW5hZ2VyLCB0KSwgZS5sZW5ndGggJiYgci5TYS5oXyhlKSwgci5vbmxpbmVTdGF0ZSA9IHQsIHIuaXNQcmltYXJ5Q2xpZW50ICYmIHIuc2hhcmVkQ2xpZW50U3RhdGUuc2V0T25saW5lU3RhdGUodCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlamVjdHMgdGhlIGxpc3RlbiBmb3IgdGhlIGdpdmVuIHRhcmdldElELiBUaGlzIGNhbiBiZSB0cmlnZ2VyZWQgYnkgdGhlXG4gKiBiYWNrZW5kIGZvciBhbnkgYWN0aXZlIHRhcmdldC5cbiAqXG4gKiBAcGFyYW0gc3luY0VuZ2luZSAtIFRoZSBzeW5jIGVuZ2luZSBpbXBsZW1lbnRhdGlvbi5cbiAqIEBwYXJhbSB0YXJnZXRJZCAtIFRoZSB0YXJnZXRJRCBjb3JyZXNwb25kcyB0byBvbmUgcHJldmlvdXNseSBpbml0aWF0ZWQgYnkgdGhlXG4gKiB1c2VyIGFzIHBhcnQgb2YgVGFyZ2V0RGF0YSBwYXNzZWQgdG8gbGlzdGVuKCkgb24gUmVtb3RlU3RvcmUuXG4gKiBAcGFyYW0gZXJyIC0gQSBkZXNjcmlwdGlvbiBvZiB0aGUgY29uZGl0aW9uIHRoYXQgaGFzIGZvcmNlZCB0aGUgcmVqZWN0aW9uLlxuICogTmVhcmx5IGFsd2F5cyB0aGlzIHdpbGwgYmUgYW4gaW5kaWNhdGlvbiB0aGF0IHRoZSB1c2VyIGlzIG5vIGxvbmdlclxuICogYXV0aG9yaXplZCB0byBzZWUgdGhlIGRhdGEgbWF0Y2hpbmcgdGhlIHRhcmdldC5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZVJlamVjdExpc3RlbihlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seS5cbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVRdWVyeVN0YXRlKHQsIFwicmVqZWN0ZWRcIiwgbik7XG4gICAgY29uc3QgaSA9IHIuRmEuZ2V0KHQpLCBzID0gaSAmJiBpLmtleTtcbiAgICBpZiAocykge1xuICAgICAgICAvLyBUT0RPKGtsaW10KTogV2UgcmVhbGx5IG9ubHkgc2hvdWxkIGRvIHRoZSBmb2xsb3dpbmcgb24gcGVybWlzc2lvblxuICAgICAgICAvLyBkZW5pZWQgZXJyb3JzLCBidXQgd2UgZG9uJ3QgaGF2ZSB0aGUgY2F1c2UgY29kZSBoZXJlLlxuICAgICAgICAvLyBJdCdzIGEgbGltYm8gZG9jLiBDcmVhdGUgYSBzeW50aGV0aWMgZXZlbnQgc2F5aW5nIGl0IHdhcyBkZWxldGVkLlxuICAgICAgICAvLyBUaGlzIGlzIGtpbmQgb2YgYSBoYWNrLiBJZGVhbGx5LCB3ZSB3b3VsZCBoYXZlIGEgbWV0aG9kIGluIHRoZSBsb2NhbFxuICAgICAgICAvLyBzdG9yZSB0byBwdXJnZSBhIGRvY3VtZW50LiBIb3dldmVyLCBpdCB3b3VsZCBiZSB0cmlja3kgdG8ga2VlcCBhbGwgb2ZcbiAgICAgICAgLy8gdGhlIGxvY2FsIHN0b3JlJ3MgaW52YXJpYW50cyB3aXRoIGFub3RoZXIgbWV0aG9kLlxuICAgICAgICBsZXQgZSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG4gICAgICAgIC8vIFRPRE8oYi8yMTcxODkyMTYpOiBUaGlzIGxpbWJvIGRvY3VtZW50IHNob3VsZCBpZGVhbGx5IGhhdmUgYSByZWFkIHRpbWUsXG4gICAgICAgIC8vIHNvIHRoYXQgaXQgaXMgcGlja2VkIHVwIGJ5IGFueSByZWFkLXRpbWUgYmFzZWQgc2NhbnMuIFRoZSBiYWNrZW5kLFxuICAgICAgICAvLyBob3dldmVyLCBkb2VzIG5vdCBzZW5kIGEgcmVhZCB0aW1lIGZvciB0YXJnZXQgcmVtb3ZhbHMuXG4gICAgICAgICAgICAgICAgZSA9IGUuaW5zZXJ0KHMsIE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KHMsIFNuYXBzaG90VmVyc2lvbi5taW4oKSkpO1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkuYWRkKHMpLCBpID0gbmV3IFJlbW90ZUV2ZW50KFNuYXBzaG90VmVyc2lvbi5taW4oKSwgXG4gICAgICAgIC8qIHRhcmdldENoYW5nZXM9ICovIG5ldyBNYXAsIFxuICAgICAgICAvKiB0YXJnZXRNaXNtYXRjaGVzPSAqLyBuZXcgU29ydGVkTWFwKF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKSwgZSwgbik7XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlSZW1vdGVFdmVudChyLCBpKSwgXG4gICAgICAgIC8vIFNpbmNlIHRoaXMgcXVlcnkgZmFpbGVkLCB3ZSB3b24ndCB3YW50IHRvIG1hbnVhbGx5IHVubGlzdGVuIHRvIGl0LlxuICAgICAgICAvLyBXZSBvbmx5IHJlbW92ZSBpdCBmcm9tIGJvb2trZWVwaW5nIGFmdGVyIHdlIHN1Y2Nlc3NmdWxseSBhcHBsaWVkIHRoZVxuICAgICAgICAvLyBSZW1vdGVFdmVudC4gSWYgYGFwcGx5UmVtb3RlRXZlbnQoKWAgdGhyb3dzLCB3ZSB3YW50IHRvIHJlLWxpc3RlbiB0b1xuICAgICAgICAvLyB0aGlzIHF1ZXJ5IHdoZW4gdGhlIFJlbW90ZVN0b3JlIHJlc3RhcnRzIHRoZSBXYXRjaCBzdHJlYW0sIHdoaWNoIHNob3VsZFxuICAgICAgICAvLyByZS10cmlnZ2VyIHRoZSB0YXJnZXQgZmFpbHVyZS5cbiAgICAgICAgci52YSA9IHIudmEucmVtb3ZlKHMpLCByLkZhLmRlbGV0ZSh0KSwgX19QUklWQVRFX3B1bXBFbnF1ZXVlZExpbWJvUmVzb2x1dGlvbnMocik7XG4gICAgfSBlbHNlIGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlUmVsZWFzZVRhcmdldChyLmxvY2FsU3RvcmUsIHQsIFxuICAgIC8qIGtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhICovICExKS50aGVuKCgoKSA9PiBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChyLCB0LCBuKSkpLmNhdGNoKF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5U3VjY2Vzc2Z1bFdyaXRlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IHQuYmF0Y2guYmF0Y2hJZDtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBY2tub3dsZWRnZUJhdGNoKG4ubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgIC8vIFRoZSBsb2NhbCBzdG9yZSBtYXkgb3IgbWF5IG5vdCBiZSBhYmxlIHRvIGFwcGx5IHRoZSB3cml0ZSByZXN1bHQgYW5kXG4gICAgICAgIC8vIHJhaXNlIGV2ZW50cyBpbW1lZGlhdGVseSAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHdhdGNoZXIgaXMgY2F1Z2h0XG4gICAgICAgIC8vIHVwKSwgc28gd2UgcmFpc2UgdXNlciBjYWxsYmFja3MgZmlyc3Qgc28gdGhhdCB0aGV5IGNvbnNpc3RlbnRseSBoYXBwZW5cbiAgICAgICAgLy8gYmVmb3JlIGxpc3RlbiBldmVudHMuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3Byb2Nlc3NVc2VyQ2FsbGJhY2sobiwgciwgLyplcnJvcj0qLyBudWxsKSwgX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzKG4sIHIpLCBcbiAgICAgICAgbi5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVNdXRhdGlvblN0YXRlKHIsIFwiYWNrbm93bGVkZ2VkXCIpLCBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUobiwgZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzKGUpO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVSZWplY3RGYWlsZWRXcml0ZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlUmVqZWN0QmF0Y2goZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlJlamVjdCBiYXRjaFwiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsIChlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5tdXRhdGlvblF1ZXVlLmxvb2t1cE11dGF0aW9uQmF0Y2goZSwgdCkubmV4dCgodCA9PiAoX19QUklWQVRFX2hhcmRBc3NlcnQobnVsbCAhPT0gdCksIFxuICAgICAgICAgICAgICAgIHIgPSB0LmtleXMoKSwgbi5tdXRhdGlvblF1ZXVlLnJlbW92ZU11dGF0aW9uQmF0Y2goZSwgdCkpKSkubmV4dCgoKCkgPT4gbi5tdXRhdGlvblF1ZXVlLnBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKGUpKSkubmV4dCgoKCkgPT4gbi5kb2N1bWVudE92ZXJsYXlDYWNoZS5yZW1vdmVPdmVybGF5c0ZvckJhdGNoSWQoZSwgciwgdCkpKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLnJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKGUsIHIpKSkubmV4dCgoKCkgPT4gbi5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudHMoZSwgcikpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIFJldHVybnMgdGhlIGxhcmdlc3QgKGxhdGVzdCkgYmF0Y2ggaWQgaW4gbXV0YXRpb24gcXVldWUgdGhhdCBpcyBwZW5kaW5nXG4gKiBzZXJ2ZXIgcmVzcG9uc2UuXG4gKlxuICogUmV0dXJucyBgQkFUQ0hJRF9VTktOT1dOYCBpZiB0aGUgcXVldWUgaXMgZW1wdHkuXG4gKi8gKHIubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgIC8vIFRoZSBsb2NhbCBzdG9yZSBtYXkgb3IgbWF5IG5vdCBiZSBhYmxlIHRvIGFwcGx5IHRoZSB3cml0ZSByZXN1bHQgYW5kXG4gICAgICAgIC8vIHJhaXNlIGV2ZW50cyBpbW1lZGlhdGVseSAoZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIHdhdGNoZXIgaXMgY2F1Z2h0IHVwKSxcbiAgICAgICAgLy8gc28gd2UgcmFpc2UgdXNlciBjYWxsYmFja3MgZmlyc3Qgc28gdGhhdCB0aGV5IGNvbnNpc3RlbnRseSBoYXBwZW4gYmVmb3JlXG4gICAgICAgIC8vIGxpc3RlbiBldmVudHMuXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3Byb2Nlc3NVc2VyQ2FsbGJhY2sociwgdCwgbiksIF9fUFJJVkFURV90cmlnZ2VyUGVuZGluZ1dyaXRlc0NhbGxiYWNrcyhyLCB0KSwgXG4gICAgICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlTXV0YXRpb25TdGF0ZSh0LCBcInJlamVjdGVkXCIsIG4pLCBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUociwgZSk7XG4gICAgfSBjYXRjaCAobikge1xuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzKG4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZWdpc3RlcnMgYSB1c2VyIGNhbGxiYWNrIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgcGVuZGluZyBtdXRhdGlvbnMgYXQgdGhlIG1vbWVudCBvZiBjYWxsaW5nXG4gKiBhcmUgYWNrbm93bGVkZ2VkIC5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZVJlZ2lzdGVyUGVuZGluZ1dyaXRlc0NhbGxiYWNrKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhuLnJlbW90ZVN0b3JlKSB8fCBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiVGhlIG5ldHdvcmsgaXMgZGlzYWJsZWQuIFRoZSB0YXNrIHJldHVybmVkIGJ5ICdhd2FpdFBlbmRpbmdXcml0ZXMoKScgd2lsbCBub3QgY29tcGxldGUgdW50aWwgdGhlIG5ldHdvcmsgaXMgZW5hYmxlZC5cIik7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZChlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgIHJldHVybiB0LnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IGhpZ2hlc3QgdW5hY2tub3dsZWRnZWQgYmF0Y2ggaWRcIiwgXCJyZWFkb25seVwiLCAoZSA9PiB0Lm11dGF0aW9uUXVldWUuZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZChlKSkpO1xuICAgICAgICB9KG4ubG9jYWxTdG9yZSk7XG4gICAgICAgIGlmICgtMSA9PT0gZSkgXG4gICAgICAgIC8vIFRyaWdnZXIgdGhlIGNhbGxiYWNrIHJpZ2h0IGF3YXkgaWYgdGhlcmUgaXMgbm8gcGVuZGluZyB3cml0ZXMgYXQgdGhlIG1vbWVudC5cbiAgICAgICAgcmV0dXJuIHZvaWQgdC5yZXNvbHZlKCk7XG4gICAgICAgIGNvbnN0IHIgPSBuLk9hLmdldChlKSB8fCBbXTtcbiAgICAgICAgci5wdXNoKHQpLCBuLk9hLnNldChlLCByKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZShlLCBcIkluaXRpYWxpemF0aW9uIG9mIHdhaXRGb3JQZW5kaW5nV3JpdGVzKCkgb3BlcmF0aW9uIGZhaWxlZFwiKTtcbiAgICAgICAgdC5yZWplY3Qobik7XG4gICAgfVxufVxuXG4vKipcbiAqIFRyaWdnZXJzIHRoZSBjYWxsYmFja3MgdGhhdCBhcmUgd2FpdGluZyBmb3IgdGhpcyBiYXRjaCBpZCB0byBnZXQgYWNrbm93bGVkZ2VkIGJ5IHNlcnZlcixcbiAqIGlmIHRoZXJlIGFyZSBhbnkuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzKGUsIHQpIHtcbiAgICAoZS5PYS5nZXQodCkgfHwgW10pLmZvckVhY2goKGUgPT4ge1xuICAgICAgICBlLnJlc29sdmUoKTtcbiAgICB9KSksIGUuT2EuZGVsZXRlKHQpO1xufVxuXG4vKiogUmVqZWN0IGFsbCBvdXRzdGFuZGluZyBjYWxsYmFja3Mgd2FpdGluZyBmb3IgcGVuZGluZyB3cml0ZXMgdG8gY29tcGxldGUuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wcm9jZXNzVXNlckNhbGxiYWNrKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBsZXQgaSA9IHIueGFbci5jdXJyZW50VXNlci50b0tleSgpXTtcbiAgICAvLyBOT1RFOiBNdXRhdGlvbnMgcmVzdG9yZWQgZnJvbSBwZXJzaXN0ZW5jZSB3b24ndCBoYXZlIGNhbGxiYWNrcywgc28gaXQnc1xuICAgIC8vIG9rYXkgZm9yIHRoZXJlIHRvIGJlIG5vIGNhbGxiYWNrIGZvciB0aGlzIElELlxuICAgICAgICBpZiAoaSkge1xuICAgICAgICBjb25zdCBlID0gaS5nZXQodCk7XG4gICAgICAgIGUgJiYgKG4gPyBlLnJlamVjdChuKSA6IGUucmVzb2x2ZSgpLCBpID0gaS5yZW1vdmUodCkpLCByLnhhW3IuY3VycmVudFVzZXIudG9LZXkoKV0gPSBpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3JlbW92ZUFuZENsZWFudXBUYXJnZXQoZSwgdCwgbiA9IG51bGwpIHtcbiAgICBlLnNoYXJlZENsaWVudFN0YXRlLnJlbW92ZUxvY2FsUXVlcnlUYXJnZXQodCk7XG4gICAgZm9yIChjb25zdCByIG9mIGUuRGEuZ2V0KHQpKSBlLmJhLmRlbGV0ZShyKSwgbiAmJiBlLlNhLmthKHIsIG4pO1xuICAgIGlmIChlLkRhLmRlbGV0ZSh0KSwgZS5pc1ByaW1hcnlDbGllbnQpIHtcbiAgICAgICAgZS5NYS5Wcih0KS5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGUuTWEuY29udGFpbnNLZXkodCkgfHwgXG4gICAgICAgICAgICAvLyBXZSByZW1vdmVkIHRoZSBsYXN0IHJlZmVyZW5jZSBmb3IgdGhpcyBrZXlcbiAgICAgICAgICAgIF9fUFJJVkFURV9yZW1vdmVMaW1ib1RhcmdldChlLCB0KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3JlbW92ZUxpbWJvVGFyZ2V0KGUsIHQpIHtcbiAgICBlLkNhLmRlbGV0ZSh0LnBhdGguY2Fub25pY2FsU3RyaW5nKCkpO1xuICAgIC8vIEl0J3MgcG9zc2libGUgdGhhdCB0aGUgdGFyZ2V0IGFscmVhZHkgZ290IHJlbW92ZWQgYmVjYXVzZSB0aGUgcXVlcnkgZmFpbGVkLiBJbiB0aGF0IGNhc2UsXG4gICAgLy8gdGhlIGtleSB3b24ndCBleGlzdCBpbiBgbGltYm9UYXJnZXRzQnlLZXlgLiBPbmx5IGRvIHRoZSBjbGVhbnVwIGlmIHdlIHN0aWxsIGhhdmUgdGhlIHRhcmdldC5cbiAgICBjb25zdCBuID0gZS52YS5nZXQodCk7XG4gICAgbnVsbCAhPT0gbiAmJiAoX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4oZS5yZW1vdGVTdG9yZSwgbiksIGUudmEgPSBlLnZhLnJlbW92ZSh0KSwgXG4gICAgZS5GYS5kZWxldGUobiksIF9fUFJJVkFURV9wdW1wRW5xdWV1ZWRMaW1ib1Jlc29sdXRpb25zKGUpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3VwZGF0ZVRyYWNrZWRMaW1ib3MoZSwgdCwgbikge1xuICAgIGZvciAoY29uc3QgciBvZiBuKSBpZiAociBpbnN0YW5jZW9mIF9fUFJJVkFURV9BZGRlZExpbWJvRG9jdW1lbnQpIGUuTWEuYWRkUmVmZXJlbmNlKHIua2V5LCB0KSwgXG4gICAgX19QUklWQVRFX3RyYWNrTGltYm9DaGFuZ2UoZSwgcik7IGVsc2UgaWYgKHIgaW5zdGFuY2VvZiBfX1BSSVZBVEVfUmVtb3ZlZExpbWJvRG9jdW1lbnQpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU3luY0VuZ2luZVwiLCBcIkRvY3VtZW50IG5vIGxvbmdlciBpbiBsaW1ibzogXCIgKyByLmtleSksIGUuTWEucmVtb3ZlUmVmZXJlbmNlKHIua2V5LCB0KTtcbiAgICAgICAgZS5NYS5jb250YWluc0tleShyLmtleSkgfHwgXG4gICAgICAgIC8vIFdlIHJlbW92ZWQgdGhlIGxhc3QgcmVmZXJlbmNlIGZvciB0aGlzIGtleVxuICAgICAgICBfX1BSSVZBVEVfcmVtb3ZlTGltYm9UYXJnZXQoZSwgci5rZXkpO1xuICAgIH0gZWxzZSBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90cmFja0xpbWJvQ2hhbmdlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gdC5rZXksIHIgPSBuLnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgZS52YS5nZXQobikgfHwgZS5DYS5oYXMocikgfHwgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlN5bmNFbmdpbmVcIiwgXCJOZXcgZG9jdW1lbnQgaW4gbGltYm86IFwiICsgbiksIFxuICAgIGUuQ2EuYWRkKHIpLCBfX1BSSVZBVEVfcHVtcEVucXVldWVkTGltYm9SZXNvbHV0aW9ucyhlKSk7XG59XG5cbi8qKlxuICogU3RhcnRzIGxpc3RlbnMgZm9yIGRvY3VtZW50cyBpbiBsaW1ibyB0aGF0IGFyZSBlbnF1ZXVlZCBmb3IgcmVzb2x1dGlvbixcbiAqIHN1YmplY3QgdG8gYSBtYXhpbXVtIG51bWJlciBvZiBjb25jdXJyZW50IHJlc29sdXRpb25zLlxuICpcbiAqIFdpdGhvdXQgYm91bmRpbmcgdGhlIG51bWJlciBvZiBjb25jdXJyZW50IHJlc29sdXRpb25zLCB0aGUgc2VydmVyIGNhbiBmYWlsXG4gKiB3aXRoIFwicmVzb3VyY2UgZXhoYXVzdGVkXCIgZXJyb3JzIHdoaWNoIGNhbiBsZWFkIHRvIHBhdGhvbG9naWNhbCBjbGllbnRcbiAqIGJlaGF2aW9yIGFzIHNlZW4gaW4gaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWpzLXNkay9pc3N1ZXMvMjY4My5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcHVtcEVucXVldWVkTGltYm9SZXNvbHV0aW9ucyhlKSB7XG4gICAgZm9yICg7ZS5DYS5zaXplID4gMCAmJiBlLnZhLnNpemUgPCBlLm1heENvbmN1cnJlbnRMaW1ib1Jlc29sdXRpb25zOyApIHtcbiAgICAgICAgY29uc3QgdCA9IGUuQ2EudmFsdWVzKCkubmV4dCgpLnZhbHVlO1xuICAgICAgICBlLkNhLmRlbGV0ZSh0KTtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBEb2N1bWVudEtleShSZXNvdXJjZVBhdGguZnJvbVN0cmluZyh0KSksIHIgPSBlLk5hLm5leHQoKTtcbiAgICAgICAgZS5GYS5zZXQociwgbmV3IExpbWJvUmVzb2x1dGlvbihuKSksIGUudmEgPSBlLnZhLmluc2VydChuLCByKSwgX19QUklWQVRFX3JlbW90ZVN0b3JlTGlzdGVuKGUucmVtb3RlU3RvcmUsIG5ldyBUYXJnZXREYXRhKF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgobi5wYXRoKSksIHIsIFwiVGFyZ2V0UHVycG9zZUxpbWJvUmVzb2x1dGlvblwiIC8qIFRhcmdldFB1cnBvc2UuTGltYm9SZXNvbHV0aW9uICovICwgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKSk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBpID0gW10sIHMgPSBbXSwgbyA9IFtdO1xuICAgIHIuYmEuaXNFbXB0eSgpIHx8IChyLmJhLmZvckVhY2goKChlLCBfKSA9PiB7XG4gICAgICAgIG8ucHVzaChyLkJhKF8sIHQsIG4pLnRoZW4oKGUgPT4ge1xuICAgICAgICAgICAgdmFyIHQ7XG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgY2hhbmdlcywgb3Igd2UgYXJlIGhhbmRsaW5nIGEgZ2xvYmFsIHNuYXBzaG90LCBub3RpZnlcbiAgICAgICAgICAgIC8vIHNlY29uZGFyeSBjbGllbnRzIHRvIHVwZGF0ZSBxdWVyeSBzdGF0ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgoZSB8fCBuKSAmJiByLmlzUHJpbWFyeUNsaWVudCkge1xuICAgICAgICAgICAgICAgIC8vIFF1ZXJ5IHN0YXRlIGlzIHNldCB0byBgY3VycmVudGAgaWY6XG4gICAgICAgICAgICAgICAgLy8gLSBUaGVyZSBpcyBhIHZpZXcgY2hhbmdlIGFuZCBpdCBpcyB1cC10by1kYXRlLCBvcixcbiAgICAgICAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgZ2xvYmFsIHNuYXBzaG90LCB0aGUgVGFyZ2V0IGlzIGN1cnJlbnQsIGFuZCBubyBjaGFuZ2VzIHRvIGJlIHJlc29sdmVkXG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IGUgPyAhZS5mcm9tQ2FjaGUgOiBudWxsID09PSAodCA9IG51bGwgPT0gbiA/IHZvaWQgMCA6IG4udGFyZ2V0Q2hhbmdlcy5nZXQoXy50YXJnZXRJZCkpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuY3VycmVudDtcbiAgICAgICAgICAgICAgICByLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUoXy50YXJnZXRJZCwgaSA/IFwiY3VycmVudFwiIDogXCJub3QtY3VycmVudFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFVwZGF0ZSB2aWV3cyBpZiB0aGVyZSBhcmUgYWN0dWFsIGNoYW5nZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgICAgIGkucHVzaChlKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX0xvY2FsVmlld0NoYW5nZXMuS2koXy50YXJnZXRJZCwgZSk7XG4gICAgICAgICAgICAgICAgcy5wdXNoKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkpO1xuICAgIH0pKSwgYXdhaXQgUHJvbWlzZS5hbGwobyksIHIuU2EuaF8oaSksIGF3YWl0IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlTm90aWZ5TG9jYWxWaWV3Q2hhbmdlcyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIm5vdGlmeUxvY2FsVmlld0NoYW5nZXNcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godC5xaSwgKHIgPT4gbi5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5hZGRSZWZlcmVuY2UoZSwgdC50YXJnZXRJZCwgcikpKS5uZXh0KCgoKSA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LlFpLCAociA9PiBuLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZShlLCB0LnRhcmdldElkLCByKSkpKSkpKSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoIV9fUFJJVkFURV9pc0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSkpIHRocm93IGU7XG4gICAgICAgICAgICAvLyBJZiBgbm90aWZ5TG9jYWxWaWV3Q2hhbmdlc2AgZmFpbHMsIHdlIGRpZCBub3QgYWR2YW5jZSB0aGUgc2VxdWVuY2VcbiAgICAgICAgICAgIC8vIG51bWJlciBmb3IgdGhlIGRvY3VtZW50cyB0aGF0IHdlcmUgaW5jbHVkZWQgaW4gdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgIC8vIFRoaXMgbWlnaHQgdHJpZ2dlciB0aGVtIHRvIGJlIGRlbGV0ZWQgZWFybGllciB0aGFuIHRoZXkgb3RoZXJ3aXNlXG4gICAgICAgICAgICAvLyB3b3VsZCBoYXZlLCBidXQgaXQgc2hvdWxkIG5vdCBpbnZhbGlkYXRlIHRoZSBpbnRlZ3JpdHkgb2YgdGhlIGRhdGEuXG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJMb2NhbFN0b3JlXCIsIFwiRmFpbGVkIHRvIHVwZGF0ZSBzZXF1ZW5jZSBudW1iZXJzOiBcIiArIGUpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS50YXJnZXRJZDtcbiAgICAgICAgICAgIGlmICghZS5mcm9tQ2FjaGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gbi5ucy5nZXQodCksIHIgPSBlLnNuYXBzaG90VmVyc2lvbiwgaSA9IGUud2l0aExhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24ocik7XG4gICAgICAgICAgICAgICAgLy8gQWR2YW5jZSB0aGUgbGFzdCBsaW1ibyBmcmVlIHNuYXBzaG90IHZlcnNpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5ucyA9IG4ubnMuaW5zZXJ0KHQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfShyLmxvY2FsU3RvcmUsIHMpKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVIYW5kbGVDcmVkZW50aWFsQ2hhbmdlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBpZiAoIW4uY3VycmVudFVzZXIuaXNFcXVhbCh0KSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiVXNlciBjaGFuZ2UuIE5ldyB1c2VyOlwiLCB0LnRvS2V5KCkpO1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVIYW5kbGVVc2VyQ2hhbmdlKG4ubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgIG4uY3VycmVudFVzZXIgPSB0LCBcbiAgICAgICAgLy8gRmFpbHMgdGFza3Mgd2FpdGluZyBmb3IgcGVuZGluZyB3cml0ZXMgcmVxdWVzdGVkIGJ5IHByZXZpb3VzIHVzZXIuXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9yZWplY3RPdXRzdGFuZGluZ1BlbmRpbmdXcml0ZXNDYWxsYmFja3MoZSwgdCkge1xuICAgICAgICAgICAgZS5PYS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5DQU5DRUxMRUQsIHQpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSksIGUuT2EuY2xlYXIoKTtcbiAgICAgICAgfShuLCBcIid3YWl0Rm9yUGVuZGluZ1dyaXRlcycgcHJvbWlzZSBpcyByZWplY3RlZCBkdWUgdG8gYSB1c2VyIGNoYW5nZS5cIiksIFxuICAgICAgICAvLyBUT0RPKGIvMTE0MjI2NDE3KTogQ29uc2lkZXIgY2FsbGluZyB0aGlzIG9ubHkgaW4gdGhlIHByaW1hcnkgdGFiLlxuICAgICAgICBuLnNoYXJlZENsaWVudFN0YXRlLmhhbmRsZVVzZXJDaGFuZ2UodCwgZS5yZW1vdmVkQmF0Y2hJZHMsIGUuYWRkZWRCYXRjaElkcyksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuLCBlLnVzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lR2V0UmVtb3RlS2V5c0ZvclRhcmdldChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBuLkZhLmdldCh0KTtcbiAgICBpZiAociAmJiByLndhKSByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkuYWRkKHIua2V5KTtcbiAgICB7XG4gICAgICAgIGxldCBlID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIGNvbnN0IHIgPSBuLkRhLmdldCh0KTtcbiAgICAgICAgaWYgKCFyKSByZXR1cm4gZTtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHIpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBuLmJhLmdldCh0KTtcbiAgICAgICAgICAgIGUgPSBlLnVuaW9uV2l0aChyLnZpZXcuRWEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZWNvbmNpbGUgdGhlIGxpc3Qgb2Ygc3luY2VkIGRvY3VtZW50cyBpbiBhbiBleGlzdGluZyB2aWV3IHdpdGggdGhvc2VcbiAqIGZyb20gcGVyc2lzdGVuY2UuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNocm9uaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUV4ZWN1dGVRdWVyeShuLmxvY2FsU3RvcmUsIHQucXVlcnksIFxuICAgIC8qIHVzZVByZXZpb3VzUmVzdWx0cz0gKi8gITApLCBpID0gdC52aWV3LnBhKHIpO1xuICAgIHJldHVybiBuLmlzUHJpbWFyeUNsaWVudCAmJiBfX1BSSVZBVEVfdXBkYXRlVHJhY2tlZExpbWJvcyhuLCB0LnRhcmdldElkLCBpLmZhKSwgXG4gICAgaTtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgbmV3bHkgY2hhbmdlZCBkb2N1bWVudHMgZnJvbSByZW1vdGUgZG9jdW1lbnQgY2FjaGUgYW5kIHJhaXNlc1xuICogc25hcHNob3RzIGlmIG5lZWRlZC5cbiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lU3luY2hyb25pemVXaXRoQ2hhbmdlZERvY3VtZW50cyhlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TmV3RG9jdW1lbnRDaGFuZ2VzKG4ubG9jYWxTdG9yZSwgdCkudGhlbigoZSA9PiBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUobiwgZSkpKTtcbn1cblxuLyoqIEFwcGxpZXMgYSBtdXRhdGlvbiBzdGF0ZSB0byBhbiBleGlzdGluZyBiYXRjaC4gICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUJhdGNoU3RhdGUoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBzID0gYXdhaXQgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVMb29rdXBNdXRhdGlvbkRvY3VtZW50cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChuLm11dGF0aW9uUXVldWUpO1xuICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkxvb2t1cCBtdXRhdGlvbiBkb2N1bWVudHNcIiwgXCJyZWFkb25seVwiLCAoZSA9PiByLnZuKGUsIHQpLm5leHQoKHQgPT4gdCA/IG4ubG9jYWxEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKGUsIHQpIDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobnVsbCkpKSkpO1xuICAgIH1cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuICAgIChpLmxvY2FsU3RvcmUsIHQpO1xuICAgIG51bGwgIT09IHMgPyAoXCJwZW5kaW5nXCIgPT09IG4gPyBcbiAgICAvLyBJZiB3ZSBhcmUgdGhlIHByaW1hcnkgY2xpZW50LCB3ZSBuZWVkIHRvIHNlbmQgdGhpcyB3cml0ZSB0byB0aGVcbiAgICAvLyBiYWNrZW5kLiBTZWNvbmRhcnkgY2xpZW50cyB3aWxsIGlnbm9yZSB0aGVzZSB3cml0ZXMgc2luY2UgdGhlaXIgcmVtb3RlXG4gICAgLy8gY29ubmVjdGlvbiBpcyBkaXNhYmxlZC5cbiAgICBhd2FpdCBfX1BSSVZBVEVfZmlsbFdyaXRlUGlwZWxpbmUoaS5yZW1vdGVTdG9yZSkgOiBcImFja25vd2xlZGdlZFwiID09PSBuIHx8IFwicmVqZWN0ZWRcIiA9PT0gbiA/IChcbiAgICAvLyBOT1RFOiBCb3RoIHRoZXNlIG1ldGhvZHMgYXJlIG5vLW9wcyBmb3IgYmF0Y2hlcyB0aGF0IG9yaWdpbmF0ZWQgZnJvbVxuICAgIC8vIG90aGVyIGNsaWVudHMuXG4gICAgX19QUklWQVRFX3Byb2Nlc3NVc2VyQ2FsbGJhY2soaSwgdCwgciB8fCBudWxsKSwgX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzKGksIHQpLCBcbiAgICBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlbW92ZUNhY2hlZE11dGF0aW9uQmF0Y2hNZXRhZGF0YShlLCB0KSB7XG4gICAgICAgIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoX19QUklWQVRFX2RlYnVnQ2FzdChlKS5tdXRhdGlvblF1ZXVlKS5Nbih0KTtcbiAgICB9XG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAoaS5sb2NhbFN0b3JlLCB0KSkgOiBmYWlsKCksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShpLCBzKSkgOiBcbiAgICAvLyBBIHRocm90dGxlZCB0YWIgbWF5IG5vdCBoYXZlIHNlZW4gdGhlIG11dGF0aW9uIGJlZm9yZSBpdCB3YXMgY29tcGxldGVkXG4gICAgLy8gYW5kIHJlbW92ZWQgZnJvbSB0aGUgbXV0YXRpb24gcXVldWUsIGluIHdoaWNoIGNhc2Ugd2Ugd29uJ3QgaGF2ZSBjYWNoZWRcbiAgICAvLyB0aGUgYWZmZWN0ZWQgZG9jdW1lbnRzLiBJbiB0aGlzIGNhc2Ugd2UgY2FuIHNhZmVseSBpZ25vcmUgdGhlIHVwZGF0ZVxuICAgIC8vIHNpbmNlIHRoYXQgbWVhbnMgd2UgZGlkbid0IGFwcGx5IHRoZSBtdXRhdGlvbiBsb2NhbGx5IGF0IGFsbCAoaWYgd2VcbiAgICAvLyBoYWQsIHdlIHdvdWxkIGhhdmUgY2FjaGVkIHRoZSBhZmZlY3RlZCBkb2N1bWVudHMpLCBhbmQgc28gd2Ugd2lsbCBqdXN0XG4gICAgLy8gc2VlIGFueSByZXN1bHRpbmcgZG9jdW1lbnQgY2hhbmdlcyB2aWEgbm9ybWFsIHJlbW90ZSBkb2N1bWVudCB1cGRhdGVzXG4gICAgLy8gYXMgYXBwbGljYWJsZS5cbiAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiQ2Fubm90IGFwcGx5IG11dGF0aW9uIGJhdGNoIHdpdGggaWQ6IFwiICsgdCk7XG59XG5cbi8qKiBBcHBsaWVzIGEgcXVlcnkgdGFyZ2V0IGNoYW5nZSBmcm9tIGEgZGlmZmVyZW50IHRhYi4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UHJpbWFyeVN0YXRlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBpZiAoX19QUklWQVRFX2Vuc3VyZVdhdGNoQ2FsbGJhY2tzKG4pLCBfX1BSSVZBVEVfc3luY0VuZ2luZUVuc3VyZVdyaXRlQ2FsbGJhY2tzKG4pLCBcbiAgICAhMCA9PT0gdCAmJiAhMCAhPT0gbi5MYSkge1xuICAgICAgICAvLyBTZWNvbmRhcnkgdGFicyBvbmx5IG1haW50YWluIFZpZXdzIGZvciB0aGVpciBsb2NhbCBsaXN0ZW5lcnMgYW5kIHRoZVxuICAgICAgICAvLyBWaWV3cyBpbnRlcm5hbCBzdGF0ZSBtYXkgbm90IGJlIDEwMCUgcG9wdWxhdGVkIChpbiBwYXJ0aWN1bGFyXG4gICAgICAgIC8vIHNlY29uZGFyeSB0YWJzIGRvbid0IHRyYWNrIHN5bmNlZERvY3VtZW50cywgdGhlIHNldCBvZiBkb2N1bWVudHMgdGhlXG4gICAgICAgIC8vIHNlcnZlciBjb25zaWRlcnMgdG8gYmUgaW4gdGhlIHRhcmdldCkuIFNvIHdoZW4gYSBzZWNvbmRhcnkgYmVjb21lc1xuICAgICAgICAvLyBwcmltYXJ5LCB3ZSBuZWVkIHRvIG5lZWQgdG8gbWFrZSBzdXJlIHRoYXQgYWxsIHZpZXdzIGZvciBhbGwgdGFyZ2V0c1xuICAgICAgICAvLyBtYXRjaCB0aGUgc3RhdGUgb24gZGlzay5cbiAgICAgICAgY29uc3QgZSA9IG4uc2hhcmVkQ2xpZW50U3RhdGUuZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzKCksIHQgPSBhd2FpdCBfX1BSSVZBVEVfc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMobiwgZS50b0FycmF5KCkpO1xuICAgICAgICBuLkxhID0gITAsIGF3YWl0IF9fUFJJVkFURV9yZW1vdGVTdG9yZUFwcGx5UHJpbWFyeVN0YXRlKG4ucmVtb3RlU3RvcmUsICEwKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIF9fUFJJVkFURV9yZW1vdGVTdG9yZUxpc3RlbihuLnJlbW90ZVN0b3JlLCBlKTtcbiAgICB9IGVsc2UgaWYgKCExID09PSB0ICYmICExICE9PSBuLkxhKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgbGV0IHQgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgbi5EYS5mb3JFYWNoKCgociwgaSkgPT4ge1xuICAgICAgICAgICAgbi5zaGFyZWRDbGllbnRTdGF0ZS5pc0xvY2FsUXVlcnlUYXJnZXQoaSkgPyBlLnB1c2goaSkgOiB0ID0gdC50aGVuKCgoKSA9PiAoX19QUklWQVRFX3JlbW92ZUFuZENsZWFudXBUYXJnZXQobiwgaSksIFxuICAgICAgICAgICAgX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KG4ubG9jYWxTdG9yZSwgaSwgXG4gICAgICAgICAgICAvKmtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhPSovICEwKSkpKSwgX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4obi5yZW1vdGVTdG9yZSwgaSk7XG4gICAgICAgIH0pKSwgYXdhaXQgdCwgYXdhaXQgX19QUklWQVRFX3N5bmNocm9uaXplUXVlcnlWaWV3c0FuZFJhaXNlU25hcHNob3RzKG4sIGUpLCBcbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3Jlc2V0TGltYm9Eb2N1bWVudHMoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICB0LkZhLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4odC5yZW1vdGVTdG9yZSwgbik7XG4gICAgICAgICAgICB9KSksIHQuTWEubXIoKSwgdC5GYSA9IG5ldyBNYXAsIHQudmEgPSBuZXcgU29ydGVkTWFwKERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUmVjb25jaWxlIHRoZSBxdWVyeSB2aWV3cyBvZiB0aGUgcHJvdmlkZWQgcXVlcnkgdGFyZ2V0cyB3aXRoIHRoZSBzdGF0ZSBmcm9tXG4gKiBwZXJzaXN0ZW5jZS4gUmFpc2VzIHNuYXBzaG90cyBmb3IgYW55IGNoYW5nZXMgdGhhdCBhZmZlY3QgdGhlIGxvY2FsXG4gKiBjbGllbnQgYW5kIHJldHVybnMgdGhlIHVwZGF0ZWQgc3RhdGUgb2YgYWxsIHRhcmdldCdzIHF1ZXJ5IGRhdGEuXG4gKlxuICogQHBhcmFtIHN5bmNFbmdpbmUgLSBUaGUgc3luYyBlbmdpbmUgaW1wbGVtZW50YXRpb25cbiAqIEBwYXJhbSB0YXJnZXRzIC0gdGhlIGxpc3Qgb2YgdGFyZ2V0cyB3aXRoIHZpZXdzIHRoYXQgbmVlZCB0byBiZSByZWNvbXB1dGVkXG4gKiBAcGFyYW0gdHJhbnNpdGlvblRvUHJpbWFyeSAtIGB0cnVlYCBpZmYgdGhlIHRhYiB0cmFuc2l0aW9ucyBmcm9tIGEgc2Vjb25kYXJ5XG4gKiB0YWIgdG8gYSBwcmltYXJ5IHRhYlxuICovXG4gICAgICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG4gICAgICAgIChuKSwgbi5MYSA9ICExLCBhd2FpdCBfX1BSSVZBVEVfcmVtb3RlU3RvcmVBcHBseVByaW1hcnlTdGF0ZShuLnJlbW90ZVN0b3JlLCAhMSk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBpID0gW10sIHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGUgb2YgdCkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgY29uc3QgbiA9IHIuRGEuZ2V0KGUpO1xuICAgICAgICBpZiAobiAmJiAwICE9PSBuLmxlbmd0aCkge1xuICAgICAgICAgICAgLy8gRm9yIHF1ZXJpZXMgdGhhdCBoYXZlIGEgbG9jYWwgVmlldywgd2UgZmV0Y2ggdGhlaXIgY3VycmVudCBzdGF0ZVxuICAgICAgICAgICAgLy8gZnJvbSBMb2NhbFN0b3JlIChhcyB0aGUgcmVzdW1lIHRva2VuIGFuZCB0aGUgc25hcHNob3QgdmVyc2lvblxuICAgICAgICAgICAgLy8gbWlnaHQgaGF2ZSBjaGFuZ2VkKSBhbmQgcmVjb25jaWxlIHRoZWlyIHZpZXdzIHdpdGggdGhlIHBlcnNpc3RlZFxuICAgICAgICAgICAgLy8gc3RhdGUgKHRoZSBsaXN0IG9mIHN5bmNlZERvY3VtZW50cyBtYXkgaGF2ZSBnb3R0ZW4gb3V0IG9mIHN5bmMpLlxuICAgICAgICAgICAgdCA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoci5sb2NhbFN0b3JlLCBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChuWzBdKSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2Ygbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSByLmJhLmdldChlKSwgbiA9IGF3YWl0IF9fUFJJVkFURV9zeW5jaHJvbml6ZVZpZXdBbmRDb21wdXRlU25hcHNob3QociwgdCk7XG4gICAgICAgICAgICAgICAgbi5zbmFwc2hvdCAmJiBzLnB1c2gobi5zbmFwc2hvdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBGb3IgcXVlcmllcyB0aGF0IG5ldmVyIGV4ZWN1dGVkIG9uIHRoaXMgY2xpZW50LCB3ZSBuZWVkIHRvXG4gICAgICAgICAgICAvLyBhbGxvY2F0ZSB0aGUgdGFyZ2V0IGluIExvY2FsU3RvcmUgYW5kIGluaXRpYWxpemUgYSBuZXcgVmlldy5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldENhY2hlZFRhcmdldChyLmxvY2FsU3RvcmUsIGUpO1xuICAgICAgICAgICAgdCA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoci5sb2NhbFN0b3JlLCBuKSwgYXdhaXQgX19QUklWQVRFX2luaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KHIsIF9fUFJJVkFURV9zeW50aGVzaXplVGFyZ2V0VG9RdWVyeShuKSwgZSwgXG4gICAgICAgICAgICAvKmN1cnJlbnQ9Ki8gITEsIHQucmVzdW1lVG9rZW4pO1xuICAgICAgICB9XG4gICAgICAgIGkucHVzaCh0KTtcbiAgICB9XG4gICAgcmV0dXJuIHIuU2EuaF8ocyksIGk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBRdWVyeWAgb2JqZWN0IGZyb20gdGhlIHNwZWNpZmllZCBgVGFyZ2V0YC4gVGhlcmUgaXMgbm8gd2F5IHRvXG4gKiBvYnRhaW4gdGhlIG9yaWdpbmFsIGBRdWVyeWAsIHNvIHdlIHN5bnRoZXNpemUgYSBgUXVlcnlgIGZyb20gdGhlIGBUYXJnZXRgXG4gKiBvYmplY3QuXG4gKlxuICogVGhlIHN5bnRoZXNpemVkIHJlc3VsdCBtaWdodCBiZSBkaWZmZXJlbnQgZnJvbSB0aGUgb3JpZ2luYWwgYFF1ZXJ5YCwgYnV0XG4gKiBzaW5jZSB0aGUgc3ludGhlc2l6ZWQgYFF1ZXJ5YCBzaG91bGQgcmV0dXJuIHRoZSBzYW1lIHJlc3VsdHMgYXMgdGhlXG4gKiBvcmlnaW5hbCBvbmUgKG9ubHkgdGhlIHByZXNlbnRhdGlvbiBvZiByZXN1bHRzIG1pZ2h0IGRpZmZlciksIHRoZSBwb3RlbnRpYWxcbiAqIGRpZmZlcmVuY2Ugd2lsbCBub3QgY2F1c2UgaXNzdWVzLlxuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuZnVuY3Rpb24gX19QUklWQVRFX3N5bnRoZXNpemVUYXJnZXRUb1F1ZXJ5KGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX25ld1F1ZXJ5KGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIGUub3JkZXJCeSwgZS5maWx0ZXJzLCBlLmxpbWl0LCBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gLCBlLnN0YXJ0QXQsIGUuZW5kQXQpO1xufVxuXG4vKiogUmV0dXJucyB0aGUgSURzIG9mIHRoZSBjbGllbnRzIHRoYXQgYXJlIGN1cnJlbnRseSBhY3RpdmUuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVHZXRBY3RpdmVDbGllbnRzKGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXRBY3RpdmVDbGllbnRzKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoX19QUklWQVRFX2RlYnVnQ2FzdChlKS5wZXJzaXN0ZW5jZSkuQmkoKTtcbiAgICB9KF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSkubG9jYWxTdG9yZSk7XG59XG5cbi8qKiBBcHBsaWVzIGEgcXVlcnkgdGFyZ2V0IGNoYW5nZSBmcm9tIGEgZGlmZmVyZW50IHRhYi4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5VGFyZ2V0U3RhdGUoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGlmIChpLkxhKSBcbiAgICAvLyBJZiB3ZSByZWNlaXZlIGEgdGFyZ2V0IHN0YXRlIG5vdGlmaWNhdGlvbiB2aWEgV2ViU3RvcmFnZSwgd2UgYXJlXG4gICAgLy8gZWl0aGVyIGFscmVhZHkgc2Vjb25kYXJ5IG9yIGFub3RoZXIgdGFiIGhhcyB0YWtlbiB0aGUgcHJpbWFyeSBsZWFzZS5cbiAgICByZXR1cm4gdm9pZCBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiSWdub3JpbmcgdW5leHBlY3RlZCBxdWVyeSBzdGF0ZSBub3RpZmljYXRpb24uXCIpO1xuICAgIGNvbnN0IHMgPSBpLkRhLmdldCh0KTtcbiAgICBpZiAocyAmJiBzLmxlbmd0aCA+IDApIHN3aXRjaCAobikge1xuICAgICAgY2FzZSBcImN1cnJlbnRcIjpcbiAgICAgIGNhc2UgXCJub3QtY3VycmVudFwiOlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXdEb2N1bWVudENoYW5nZXMoaS5sb2NhbFN0b3JlLCBfX1BSSVZBVEVfcXVlcnlDb2xsZWN0aW9uR3JvdXAoc1swXSkpLCByID0gUmVtb3RlRXZlbnQuY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UodCwgXCJjdXJyZW50XCIgPT09IG4sIEJ5dGVTdHJpbmcuRU1QVFlfQllURV9TVFJJTkcpO1xuICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVFbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKGksIGUsIHIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSBcInJlamVjdGVkXCI6XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlUmVsZWFzZVRhcmdldChpLmxvY2FsU3RvcmUsIHQsIFxuICAgICAgICAvKiBrZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YSAqLyAhMCksIF9fUFJJVkFURV9yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KGksIHQsIHIpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZmFpbCgpO1xuICAgIH1cbn1cblxuLyoqIEFkZHMgb3IgcmVtb3ZlcyBXYXRjaCB0YXJnZXRzIGZvciBxdWVyaWVzIGZyb20gZGlmZmVyZW50IHRhYnMuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlBY3RpdmVUYXJnZXRzQ2hhbmdlKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2Vuc3VyZVdhdGNoQ2FsbGJhY2tzKGUpO1xuICAgIGlmIChyLkxhKSB7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgICAgICBpZiAoci5EYS5oYXMoZSkgJiYgci5zaGFyZWRDbGllbnRTdGF0ZS5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGUpKSB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU3luY0VuZ2luZVwiLCBcIkFkZGluZyBhbiBhbHJlYWR5IGFjdGl2ZSB0YXJnZXQgXCIgKyBlKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHQgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldENhY2hlZFRhcmdldChyLmxvY2FsU3RvcmUsIGUpLCBuID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBbGxvY2F0ZVRhcmdldChyLmxvY2FsU3RvcmUsIHQpO1xuICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX2luaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KHIsIF9fUFJJVkFURV9zeW50aGVzaXplVGFyZ2V0VG9RdWVyeSh0KSwgbi50YXJnZXRJZCwgXG4gICAgICAgICAgICAvKmN1cnJlbnQ9Ki8gITEsIG4ucmVzdW1lVG9rZW4pLCBfX1BSSVZBVEVfcmVtb3RlU3RvcmVMaXN0ZW4oci5yZW1vdGVTdG9yZSwgbik7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBlIG9mIG4pIFxuICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSB0YXJnZXQgaXMgc3RpbGwgYWN0aXZlIHNpbmNlIHRoZSB0YXJnZXQgbWlnaHQgaGF2ZSBiZWVuXG4gICAgICAgIC8vIHJlbW92ZWQgaWYgaXQgaGFzIGJlZW4gcmVqZWN0ZWQgYnkgdGhlIGJhY2tlbmQuXG4gICAgICAgIHIuRGEuaGFzKGUpICYmIFxuICAgICAgICAvLyBSZWxlYXNlIHF1ZXJpZXMgdGhhdCBhcmUgc3RpbGwgYWN0aXZlLlxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlbGVhc2VUYXJnZXQoci5sb2NhbFN0b3JlLCBlLCBcbiAgICAgICAgLyoga2VlcFBlcnNpc3RlZFRhcmdldERhdGEgKi8gITEpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIF9fUFJJVkFURV9yZW1vdGVTdG9yZVVubGlzdGVuKHIucmVtb3RlU3RvcmUsIGUpLCBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChyLCBlKTtcbiAgICAgICAgfSkpLmNhdGNoKF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Vuc3VyZVdhdGNoQ2FsbGJhY2tzKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIuYXBwbHlSZW1vdGVFdmVudCA9IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlSZW1vdGVFdmVudC5iaW5kKG51bGwsIHQpLCBcbiAgICB0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0ID0gX19QUklWQVRFX3N5bmNFbmdpbmVHZXRSZW1vdGVLZXlzRm9yVGFyZ2V0LmJpbmQobnVsbCwgdCksIFxuICAgIHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLnJlamVjdExpc3RlbiA9IF9fUFJJVkFURV9zeW5jRW5naW5lUmVqZWN0TGlzdGVuLmJpbmQobnVsbCwgdCksIFxuICAgIHQuU2EuaF8gPSBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyT25XYXRjaENoYW5nZS5iaW5kKG51bGwsIHQuZXZlbnRNYW5hZ2VyKSwgdC5TYS5rYSA9IF9fUFJJVkFURV9ldmVudE1hbmFnZXJPbldhdGNoRXJyb3IuYmluZChudWxsLCB0LmV2ZW50TWFuYWdlciksIFxuICAgIHQ7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lRW5zdXJlV3JpdGVDYWxsYmFja3MoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHJldHVybiB0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5hcHBseVN1Y2Nlc3NmdWxXcml0ZSA9IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlTdWNjZXNzZnVsV3JpdGUuYmluZChudWxsLCB0KSwgXG4gICAgdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIucmVqZWN0RmFpbGVkV3JpdGUgPSBfX1BSSVZBVEVfc3luY0VuZ2luZVJlamVjdEZhaWxlZFdyaXRlLmJpbmQobnVsbCwgdCksIFxuICAgIHQ7XG59XG5cbi8qKlxuICogTG9hZHMgYSBGaXJlc3RvcmUgYnVuZGxlIGludG8gdGhlIFNESy4gVGhlIHJldHVybmVkIHByb21pc2UgcmVzb2x2ZXMgd2hlblxuICogdGhlIGJ1bmRsZSBmaW5pc2hlZCBsb2FkaW5nLlxuICpcbiAqIEBwYXJhbSBzeW5jRW5naW5lIC0gU3luY0VuZ2luZSB0byB1c2UuXG4gKiBAcGFyYW0gYnVuZGxlUmVhZGVyIC0gQnVuZGxlIHRvIGxvYWQgaW50byB0aGUgU0RLLlxuICogQHBhcmFtIHRhc2sgLSBMb2FkQnVuZGxlVGFzayB1c2VkIHRvIHVwZGF0ZSB0aGUgbG9hZGluZyBwcm9ncmVzcyB0byBwdWJsaWMgQVBJLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lTG9hZEJ1bmRsZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAoXG4gICAgLyoqIExvYWRzIGEgYnVuZGxlIGFuZCByZXR1cm5zIHRoZSBsaXN0IG9mIGFmZmVjdGVkIGNvbGxlY3Rpb24gZ3JvdXBzLiAqL1xuICAgIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2FkQnVuZGxlSW1wbChlLCB0LCBuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgdC5nZXRNZXRhZGF0YSgpO1xuICAgICAgICAgICAgaWYgKGF3YWl0IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlSGFzTmV3ZXJCdW5kbGUoZSwgdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKHQuY3JlYXRlVGltZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJoYXNOZXdlckJ1bmRsZVwiLCBcInJlYWRvbmx5XCIsIChlID0+IG4uJHIuZ2V0QnVuZGxlTWV0YWRhdGEoZSwgdC5pZCkpKS50aGVuKChlID0+ICEhZSAmJiBlLmNyZWF0ZVRpbWUuY29tcGFyZVRvKHIpID49IDApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogU2F2ZXMgdGhlIGdpdmVuIGBCdW5kbGVNZXRhZGF0YWAgdG8gbG9jYWwgcGVyc2lzdGVuY2UuXG4gKi8gKGUubG9jYWxTdG9yZSwgcikpIHJldHVybiBhd2FpdCB0LmNsb3NlKCksIG4uX2NvbXBsZXRlV2l0aChmdW5jdGlvbiBfX1BSSVZBVEVfYnVuZGxlU3VjY2Vzc1Byb2dyZXNzKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB0YXNrU3RhdGU6IFwiU3VjY2Vzc1wiLFxuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudHNMb2FkZWQ6IGUudG90YWxEb2N1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIGJ5dGVzTG9hZGVkOiBlLnRvdGFsQnl0ZXMsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsRG9jdW1lbnRzOiBlLnRvdGFsRG9jdW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICB0b3RhbEJ5dGVzOiBlLnRvdGFsQnl0ZXNcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfShyKSksIFByb21pc2UucmVzb2x2ZShuZXcgU2V0KTtcbiAgICAgICAgICAgIG4uX3VwZGF0ZVByb2dyZXNzKF9fUFJJVkFURV9idW5kbGVJbml0aWFsUHJvZ3Jlc3MocikpO1xuICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBfX1BSSVZBVEVfQnVuZGxlTG9hZGVyKHIsIGUubG9jYWxTdG9yZSwgdC5zZXJpYWxpemVyKTtcbiAgICAgICAgICAgIGxldCBzID0gYXdhaXQgdC5xYSgpO1xuICAgICAgICAgICAgZm9yICg7czsgKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IGF3YWl0IGkuX2Eocyk7XG4gICAgICAgICAgICAgICAgZSAmJiBuLl91cGRhdGVQcm9ncmVzcyhlKSwgcyA9IGF3YWl0IHQucWEoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG8gPSBhd2FpdCBpLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVFbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKGUsIG8uY2EsIFxuICAgICAgICAgICAgLyogcmVtb3RlRXZlbnQgKi8gdm9pZCAwKSwgXG4gICAgICAgICAgICAvLyBTYXZlIG1ldGFkYXRhLCBzbyBsb2FkaW5nIHRoZSBzYW1lIGJ1bmRsZSB3aWxsIHNraXAuXG4gICAgICAgICAgICBhd2FpdCBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVNhdmVCdW5kbGUoZSwgdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiU2F2ZSBidW5kbGVcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gbi4kci5zYXZlQnVuZGxlTWV0YWRhdGEoZSwgdCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogUmV0dXJucyBhIHByb21pc2Ugb2YgYSBgTmFtZWRRdWVyeWAgYXNzb2NpYXRlZCB3aXRoIGdpdmVuIHF1ZXJ5IG5hbWUuIFByb21pc2VcbiAqIHJlc29sdmVzIHRvIHVuZGVmaW5lZCBpZiBubyBwZXJzaXN0ZWQgZGF0YSBjYW4gYmUgZm91bmQuXG4gKi8gKGUubG9jYWxTdG9yZSwgciksIG4uX2NvbXBsZXRlV2l0aChvLnByb2dyZXNzKSwgUHJvbWlzZS5yZXNvbHZlKG8udWEpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ1dhcm4oXCJTeW5jRW5naW5lXCIsIGBMb2FkaW5nIGJ1bmRsZSBmYWlsZWQgd2l0aCAke2V9YCksIG4uX2ZhaWxXaXRoKGUpLCBcbiAgICAgICAgICAgIFByb21pc2UucmVzb2x2ZShuZXcgU2V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgIC8qKlxuICogUHJvdmlkZXMgYWxsIGNvbXBvbmVudHMgbmVlZGVkIGZvciBGaXJlc3RvcmUgd2l0aCBpbi1tZW1vcnkgcGVyc2lzdGVuY2UuXG4gKiBVc2VzIEVhZ2VyR0MgZ2FyYmFnZSBjb2xsZWN0aW9uLlxuICovKShyLCB0LCBuKS50aGVuKChlID0+IHtcbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS5ub3RpZnlCdW5kbGVMb2FkZWQoZSk7XG4gICAgfSkpO1xufVxuXG5jbGFzcyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnN5bmNocm9uaXplVGFicyA9ICExO1xuICAgIH1cbiAgICBhc3luYyBpbml0aWFsaXplKGUpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gX19QUklWQVRFX25ld1NlcmlhbGl6ZXIoZS5kYXRhYmFzZUluZm8uZGF0YWJhc2VJZCksIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgPSB0aGlzLmNyZWF0ZVNoYXJlZENsaWVudFN0YXRlKGUpLCBcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZSA9IHRoaXMuY3JlYXRlUGVyc2lzdGVuY2UoZSksIGF3YWl0IHRoaXMucGVyc2lzdGVuY2Uuc3RhcnQoKSwgdGhpcy5sb2NhbFN0b3JlID0gdGhpcy5jcmVhdGVMb2NhbFN0b3JlKGUpLCBcbiAgICAgICAgdGhpcy5nY1NjaGVkdWxlciA9IHRoaXMuY3JlYXRlR2FyYmFnZUNvbGxlY3Rpb25TY2hlZHVsZXIoZSwgdGhpcy5sb2NhbFN0b3JlKSwgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIgPSB0aGlzLmNyZWF0ZUluZGV4QmFja2ZpbGxlclNjaGVkdWxlcihlLCB0aGlzLmxvY2FsU3RvcmUpO1xuICAgIH1cbiAgICBjcmVhdGVHYXJiYWdlQ29sbGVjdGlvblNjaGVkdWxlcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjcmVhdGVJbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIoZSwgdCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY3JlYXRlTG9jYWxTdG9yZShlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbmV3TG9jYWxTdG9yZSh0aGlzLnBlcnNpc3RlbmNlLCBuZXcgX19QUklWQVRFX1F1ZXJ5RW5naW5lLCBlLmluaXRpYWxVc2VyLCB0aGlzLnNlcmlhbGl6ZXIpO1xuICAgIH1cbiAgICBjcmVhdGVQZXJzaXN0ZW5jZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlKF9fUFJJVkFURV9NZW1vcnlFYWdlckRlbGVnYXRlLkhyLCB0aGlzLnNlcmlhbGl6ZXIpO1xuICAgIH1cbiAgICBjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVNoYXJlZENsaWVudFN0YXRlO1xuICAgIH1cbiAgICBhc3luYyB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHZhciBlLCB0O1xuICAgICAgICBudWxsID09PSAoZSA9IHRoaXMuZ2NTY2hlZHVsZXIpIHx8IHZvaWQgMCA9PT0gZSB8fCBlLnN0b3AoKSwgbnVsbCA9PT0gKHQgPSB0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlcikgfHwgdm9pZCAwID09PSB0IHx8IHQuc3RvcCgpLCBcbiAgICAgICAgdGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zaHV0ZG93bigpLCBhd2FpdCB0aGlzLnBlcnNpc3RlbmNlLnNodXRkb3duKCk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTHJ1R2NNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgZXh0ZW5kcyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5jYWNoZVNpemVCeXRlcyA9IGU7XG4gICAgfVxuICAgIGNyZWF0ZUdhcmJhZ2VDb2xsZWN0aW9uU2NoZWR1bGVyKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQodGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9NZW1vcnlMcnVEZWxlZ2F0ZSk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLmdhcmJhZ2VDb2xsZWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0xydVNjaGVkdWxlcihuLCBlLmFzeW5jUXVldWUsIHQpO1xuICAgIH1cbiAgICBjcmVhdGVQZXJzaXN0ZW5jZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB2b2lkIDAgIT09IHRoaXMuY2FjaGVTaXplQnl0ZXMgPyBMcnVQYXJhbXMud2l0aENhY2hlU2l6ZSh0aGlzLmNhY2hlU2l6ZUJ5dGVzKSA6IExydVBhcmFtcy5ERUZBVUxUO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NZW1vcnlQZXJzaXN0ZW5jZSgoZSA9PiBfX1BSSVZBVEVfTWVtb3J5THJ1RGVsZWdhdGUuSHIoZSwgdCkpLCB0aGlzLnNlcmlhbGl6ZXIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm92aWRlcyBhbGwgY29tcG9uZW50cyBuZWVkZWQgZm9yIEZpcmVzdG9yZSB3aXRoIEluZGV4ZWREQiBwZXJzaXN0ZW5jZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIGV4dGVuZHMgTWVtb3J5T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuUWEgPSBlLCB0aGlzLmNhY2hlU2l6ZUJ5dGVzID0gdCwgdGhpcy5mb3JjZU93bmVyc2hpcCA9IG4sIHRoaXMuc3luY2hyb25pemVUYWJzID0gITE7XG4gICAgfVxuICAgIGFzeW5jIGluaXRpYWxpemUoZSkge1xuICAgICAgICBhd2FpdCBzdXBlci5pbml0aWFsaXplKGUpLCBhd2FpdCB0aGlzLlFhLmluaXRpYWxpemUodGhpcywgZSksIFxuICAgICAgICAvLyBFbnF1ZXVlIHdyaXRlcyBmcm9tIGEgcHJldmlvdXMgc2Vzc2lvblxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUVuc3VyZVdyaXRlQ2FsbGJhY2tzKHRoaXMuUWEuc3luY0VuZ2luZSksIGF3YWl0IF9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZSh0aGlzLlFhLnJlbW90ZVN0b3JlKSwgXG4gICAgICAgIC8vIE5PVEU6IFRoaXMgd2lsbCBpbW1lZGlhdGVseSBjYWxsIHRoZSBsaXN0ZW5lciwgc28gd2UgbWFrZSBzdXJlIHRvXG4gICAgICAgIC8vIHNldCBpdCBhZnRlciBsb2NhbFN0b3JlIC8gcmVtb3RlU3RvcmUgYXJlIHN0YXJ0ZWQuXG4gICAgICAgIGF3YWl0IHRoaXMucGVyc2lzdGVuY2UuZmkoKCgpID0+ICh0aGlzLmdjU2NoZWR1bGVyICYmICF0aGlzLmdjU2NoZWR1bGVyLnN0YXJ0ZWQgJiYgdGhpcy5nY1NjaGVkdWxlci5zdGFydCgpLCBcbiAgICAgICAgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIgJiYgIXRoaXMuaW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyLnN0YXJ0ZWQgJiYgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIuc3RhcnQoKSwgXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpKSkpO1xuICAgIH1cbiAgICBjcmVhdGVMb2NhbFN0b3JlKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9uZXdMb2NhbFN0b3JlKHRoaXMucGVyc2lzdGVuY2UsIG5ldyBfX1BSSVZBVEVfUXVlcnlFbmdpbmUsIGUuaW5pdGlhbFVzZXIsIHRoaXMuc2VyaWFsaXplcik7XG4gICAgfVxuICAgIGNyZWF0ZUdhcmJhZ2VDb2xsZWN0aW9uU2NoZWR1bGVyKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUuZ2FyYmFnZUNvbGxlY3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTHJ1U2NoZWR1bGVyKG4sIGUuYXN5bmNRdWV1ZSwgdCk7XG4gICAgfVxuICAgIGNyZWF0ZUluZGV4QmFja2ZpbGxlclNjaGVkdWxlcihlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0luZGV4QmFja2ZpbGxlcih0LCB0aGlzLnBlcnNpc3RlbmNlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyKGUuYXN5bmNRdWV1ZSwgbik7XG4gICAgfVxuICAgIGNyZWF0ZVBlcnNpc3RlbmNlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9pbmRleGVkRGJTdG9yYWdlUHJlZml4KGUuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQsIGUuZGF0YWJhc2VJbmZvLnBlcnNpc3RlbmNlS2V5KSwgbiA9IHZvaWQgMCAhPT0gdGhpcy5jYWNoZVNpemVCeXRlcyA/IExydVBhcmFtcy53aXRoQ2FjaGVTaXplKHRoaXMuY2FjaGVTaXplQnl0ZXMpIDogTHJ1UGFyYW1zLkRFRkFVTFQ7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0luZGV4ZWREYlBlcnNpc3RlbmNlKHRoaXMuc3luY2hyb25pemVUYWJzLCB0LCBlLmNsaWVudElkLCBuLCBlLmFzeW5jUXVldWUsIF9fUFJJVkFURV9nZXRXaW5kb3coKSwgZ2V0RG9jdW1lbnQoKSwgdGhpcy5zZXJpYWxpemVyLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLCAhIXRoaXMuZm9yY2VPd25lcnNoaXApO1xuICAgIH1cbiAgICBjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVNoYXJlZENsaWVudFN0YXRlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBQcm92aWRlcyBhbGwgY29tcG9uZW50cyBuZWVkZWQgZm9yIEZpcmVzdG9yZSB3aXRoIG11bHRpLXRhYiBJbmRleGVkREJcbiAqIHBlcnNpc3RlbmNlLlxuICpcbiAqIEluIHRoZSBsZWdhY3kgY2xpZW50LCB0aGlzIHByb3ZpZGVyIGlzIHVzZWQgdG8gcHJvdmlkZSBib3RoIG11bHRpLXRhYiBhbmRcbiAqIG5vbi1tdWx0aS10YWIgcGVyc2lzdGVuY2Ugc2luY2Ugd2UgY2Fubm90IHRlbGwgYXQgYnVpbGQgdGltZSB3aGV0aGVyXG4gKiBgc3luY2hyb25pemVUYWJzYCB3aWxsIGJlIGVuYWJsZWQuXG4gKi8gY2xhc3MgX19QUklWQVRFX011bHRpVGFiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIGV4dGVuZHMgX19QUklWQVRFX0luZGV4ZWREYk9mZmxpbmVDb21wb25lbnRQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcihlLCB0LCAvKiBmb3JjZU93bmVyc2hpcD0gKi8gITEpLCB0aGlzLlFhID0gZSwgdGhpcy5jYWNoZVNpemVCeXRlcyA9IHQsIHRoaXMuc3luY2hyb25pemVUYWJzID0gITA7XG4gICAgfVxuICAgIGFzeW5jIGluaXRpYWxpemUoZSkge1xuICAgICAgICBhd2FpdCBzdXBlci5pbml0aWFsaXplKGUpO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5RYS5zeW5jRW5naW5lO1xuICAgICAgICB0aGlzLnNoYXJlZENsaWVudFN0YXRlIGluc3RhbmNlb2YgX19QUklWQVRFX1dlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZSAmJiAodGhpcy5zaGFyZWRDbGllbnRTdGF0ZS5zeW5jRW5naW5lID0ge1xuICAgICAgICAgICAgWnM6IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlCYXRjaFN0YXRlLmJpbmQobnVsbCwgdCksXG4gICAgICAgICAgICBYczogX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseVRhcmdldFN0YXRlLmJpbmQobnVsbCwgdCksXG4gICAgICAgICAgICBlbzogX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUFjdGl2ZVRhcmdldHNDaGFuZ2UuYmluZChudWxsLCB0KSxcbiAgICAgICAgICAgIEJpOiBfX1BSSVZBVEVfc3luY0VuZ2luZUdldEFjdGl2ZUNsaWVudHMuYmluZChudWxsLCB0KSxcbiAgICAgICAgICAgIFlzOiBfX1BSSVZBVEVfc3luY0VuZ2luZVN5bmNocm9uaXplV2l0aENoYW5nZWREb2N1bWVudHMuYmluZChudWxsLCB0KVxuICAgICAgICB9LCBhd2FpdCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLnN0YXJ0KCkpLCBcbiAgICAgICAgLy8gTk9URTogVGhpcyB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGxpc3RlbmVyLCBzbyB3ZSBtYWtlIHN1cmUgdG9cbiAgICAgICAgLy8gc2V0IGl0IGFmdGVyIGxvY2FsU3RvcmUgLyByZW1vdGVTdG9yZSBhcmUgc3RhcnRlZC5cbiAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZS5maSgoYXN5bmMgZSA9PiB7XG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UHJpbWFyeVN0YXRlKHRoaXMuUWEuc3luY0VuZ2luZSwgZSksIHRoaXMuZ2NTY2hlZHVsZXIgJiYgKGUgJiYgIXRoaXMuZ2NTY2hlZHVsZXIuc3RhcnRlZCA/IHRoaXMuZ2NTY2hlZHVsZXIuc3RhcnQoKSA6IGUgfHwgdGhpcy5nY1NjaGVkdWxlci5zdG9wKCkpLCBcbiAgICAgICAgICAgIHRoaXMuaW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyICYmIChlICYmICF0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlci5zdGFydGVkID8gdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIuc3RhcnQoKSA6IGUgfHwgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIuc3RvcCgpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZ2V0V2luZG93KCk7XG4gICAgICAgIGlmICghX19QUklWQVRFX1dlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZS5EKHQpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTklNUExFTUVOVEVELCBcIkluZGV4ZWREQiBwZXJzaXN0ZW5jZSBpcyBvbmx5IGF2YWlsYWJsZSBvbiBwbGF0Zm9ybXMgdGhhdCBzdXBwb3J0IExvY2FsU3RvcmFnZS5cIik7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhlZERiU3RvcmFnZVByZWZpeChlLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkLCBlLmRhdGFiYXNlSW5mby5wZXJzaXN0ZW5jZUtleSk7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1dlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZSh0LCBlLmFzeW5jUXVldWUsIG4sIGUuY2xpZW50SWQsIGUuaW5pdGlhbFVzZXIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbml0aWFsaXplcyBhbmQgd2lyZXMgdGhlIGNvbXBvbmVudHMgdGhhdCBhcmUgbmVlZGVkIHRvIGludGVyZmFjZSB3aXRoIHRoZVxuICogbmV0d29yay5cbiAqLyBjbGFzcyBPbmxpbmVDb21wb25lbnRQcm92aWRlciB7XG4gICAgYXN5bmMgaW5pdGlhbGl6ZShlLCB0KSB7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yZSB8fCAodGhpcy5sb2NhbFN0b3JlID0gZS5sb2NhbFN0b3JlLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlID0gZS5zaGFyZWRDbGllbnRTdGF0ZSwgXG4gICAgICAgIHRoaXMuZGF0YXN0b3JlID0gdGhpcy5jcmVhdGVEYXRhc3RvcmUodCksIHRoaXMucmVtb3RlU3RvcmUgPSB0aGlzLmNyZWF0ZVJlbW90ZVN0b3JlKHQpLCBcbiAgICAgICAgdGhpcy5ldmVudE1hbmFnZXIgPSB0aGlzLmNyZWF0ZUV2ZW50TWFuYWdlcih0KSwgdGhpcy5zeW5jRW5naW5lID0gdGhpcy5jcmVhdGVTeW5jRW5naW5lKHQsIFxuICAgICAgICAvKiBzdGFydEFzUHJpbWFyeT0qLyAhZS5zeW5jaHJvbml6ZVRhYnMpLCB0aGlzLnNoYXJlZENsaWVudFN0YXRlLm9ubGluZVN0YXRlSGFuZGxlciA9IGUgPT4gX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseU9ubGluZVN0YXRlQ2hhbmdlKHRoaXMuc3luY0VuZ2luZSwgZSwgMSAvKiBPbmxpbmVTdGF0ZVNvdXJjZS5TaGFyZWRDbGllbnRTdGF0ZSAqLyksIFxuICAgICAgICB0aGlzLnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5oYW5kbGVDcmVkZW50aWFsQ2hhbmdlID0gX19QUklWQVRFX3N5bmNFbmdpbmVIYW5kbGVDcmVkZW50aWFsQ2hhbmdlLmJpbmQobnVsbCwgdGhpcy5zeW5jRW5naW5lKSwgXG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9yZW1vdGVTdG9yZUFwcGx5UHJpbWFyeVN0YXRlKHRoaXMucmVtb3RlU3RvcmUsIHRoaXMuc3luY0VuZ2luZS5pc1ByaW1hcnlDbGllbnQpKTtcbiAgICB9XG4gICAgY3JlYXRlRXZlbnRNYW5hZ2VyKGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdFdmVudE1hbmFnZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9FdmVudE1hbmFnZXJJbXBsO1xuICAgICAgICB9KCk7XG4gICAgfVxuICAgIGNyZWF0ZURhdGFzdG9yZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbmV3U2VyaWFsaXplcihlLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSwgbiA9IGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdDb25uZWN0aW9uKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1dlYkNoYW5uZWxDb25uZWN0aW9uKGUpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBSZXR1cm4gdGhlIFBsYXRmb3JtLXNwZWNpZmljIGNvbm5lY3Rpdml0eSBtb25pdG9yLiAqLyAoZS5kYXRhYmFzZUluZm8pO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX25ld0RhdGFzdG9yZShlLCB0LCBuLCByKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9EYXRhc3RvcmVJbXBsKGUsIHQsIG4sIHIpO1xuICAgICAgICB9KGUuYXV0aENyZWRlbnRpYWxzLCBlLmFwcENoZWNrQ3JlZGVudGlhbHMsIG4sIHQpO1xuICAgIH1cbiAgICBjcmVhdGVSZW1vdGVTdG9yZShlKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UmVtb3RlU3RvcmUoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUmVtb3RlU3RvcmVJbXBsKGUsIHQsIG4sIHIsIGkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBSZS1lbmFibGVzIHRoZSBuZXR3b3JrLiBJZGVtcG90ZW50LiAqLyAodGhpcy5sb2NhbFN0b3JlLCB0aGlzLmRhdGFzdG9yZSwgZS5hc3luY1F1ZXVlLCAoZSA9PiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5T25saW5lU3RhdGVDaGFuZ2UodGhpcy5zeW5jRW5naW5lLCBlLCAwIC8qIE9ubGluZVN0YXRlU291cmNlLlJlbW90ZVN0b3JlICovKSksIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdDb25uZWN0aXZpdHlNb25pdG9yKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9Ccm93c2VyQ29ubmVjdGl2aXR5TW9uaXRvci5EKCkgPyBuZXcgX19QUklWQVRFX0Jyb3dzZXJDb25uZWN0aXZpdHlNb25pdG9yIDogbmV3IF9fUFJJVkFURV9Ob29wQ29ubmVjdGl2aXR5TW9uaXRvcjtcbiAgICAgICAgfSgpKTtcbiAgICB9XG4gICAgY3JlYXRlU3luY0VuZ2luZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3U3luY0VuZ2luZShlLCB0LCBuLCBcbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNYW5hZ2VzIHN0YXRlIHN5bmNocm9uaXphdGlvbiBpbiBtdWx0aS10YWIgZW52aXJvbm1lbnRzLlxuICAgICAgICByLCBpLCBzLCBvKSB7XG4gICAgICAgICAgICBjb25zdCBfID0gbmV3IF9fUFJJVkFURV9TeW5jRW5naW5lSW1wbChlLCB0LCBuLCByLCBpLCBzKTtcbiAgICAgICAgICAgIHJldHVybiBvICYmIChfLkxhID0gITApLCBfO1xuICAgICAgICB9KHRoaXMubG9jYWxTdG9yZSwgdGhpcy5yZW1vdGVTdG9yZSwgdGhpcy5ldmVudE1hbmFnZXIsIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUsIGUuaW5pdGlhbFVzZXIsIGUubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnMsIHQpO1xuICAgIH1cbiAgICBhc3luYyB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVTaHV0ZG93bihlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiUmVtb3RlU3RvcmUgc2h1dHRpbmcgZG93bi5cIiksIHQuTV8uYWRkKDUgLyogT2ZmbGluZUNhdXNlLlNodXRkb3duICovKSwgXG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfZGlzYWJsZU5ldHdvcmtJbnRlcm5hbCh0KSwgdC5PXy5zaHV0ZG93bigpLCBcbiAgICAgICAgICAgIC8vIFNldCB0aGUgT25saW5lU3RhdGUgdG8gVW5rbm93biAocmF0aGVyIHRoYW4gT2ZmbGluZSkgdG8gYXZvaWQgcG90ZW50aWFsbHlcbiAgICAgICAgICAgIC8vIHRyaWdnZXJpbmcgc3B1cmlvdXMgbGlzdGVuZXIgZXZlbnRzIHdpdGggY2FjaGVkIGRhdGEsIGV0Yy5cbiAgICAgICAgICAgIHQuTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pO1xuICAgICAgICB9KHRoaXMucmVtb3RlU3RvcmUpLCBudWxsID09PSAoZSA9IHRoaXMuZGF0YXN0b3JlKSB8fCB2b2lkIDAgPT09IGUgfHwgZS50ZXJtaW5hdGUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEhvdyBtYW55IGJ5dGVzIHRvIHJlYWQgZWFjaCB0aW1lIHdoZW4gYFJlYWRhYmxlU3RyZWFtUmVhZGVyLnJlYWQoKWAgaXNcbiAqIGNhbGxlZC4gT25seSBhcHBsaWNhYmxlIGZvciBieXRlIHN0cmVhbXMgdGhhdCB3ZSBjb250cm9sIChlLmcuIHRob3NlIGJhY2tlZFxuICogYnkgYW4gVUludDhBcnJheSkuXG4gKi9cbi8qKlxuICogQnVpbGRzIGEgYEJ5dGVTdHJlYW1SZWFkZXJgIGZyb20gYSBVSW50OEFycmF5LlxuICogQHBhcmFtIHNvdXJjZSAtIFRoZSBkYXRhIHNvdXJjZSB0byB1c2UuXG4gKiBAcGFyYW0gYnl0ZXNQZXJSZWFkIC0gSG93IG1hbnkgYnl0ZXMgZWFjaCBgcmVhZCgpYCBmcm9tIHRoZSByZXR1cm5lZCByZWFkZXJcbiAqICAgICAgICB3aWxsIHJlYWQuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0J5dGVTdHJlYW1SZWFkZXJIZWxwZXIoZSwgdCA9IDEwMjQwKSB7XG4gICAgbGV0IG4gPSAwO1xuICAgIC8vIFRoZSBUeXBlU2NyaXB0IGRlZmluaXRpb24gZm9yIFJlYWRhYmxlU3RyZWFtUmVhZGVyIGNoYW5nZWQuIFdlIHVzZVxuICAgIC8vIGBhbnlgIGhlcmUgdG8gYWxsb3cgdGhpcyBjb2RlIHRvIGNvbXBpbGUgd2l0aCBkaWZmZXJlbnQgdmVyc2lvbnMuXG4gICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9taWNyb3NvZnQvVHlwZVNjcmlwdC9pc3N1ZXMvNDI5NzBcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICBhc3luYyByZWFkKCkge1xuICAgICAgICAgICAgaWYgKG4gPCBlLmJ5dGVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0ge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZS5zbGljZShuLCBuICsgdCksXG4gICAgICAgICAgICAgICAgICAgIGRvbmU6ICExXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbiArPSB0LCByO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBkb25lOiAhMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYXN5bmMgY2FuY2VsKCkge30sXG4gICAgICAgIHJlbGVhc2VMb2NrKCkge30sXG4gICAgICAgIGNsb3NlZDogUHJvbWlzZS5yZXNvbHZlKClcbiAgICB9O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBPbiB3ZWIsIGEgYFJlYWRhYmxlU3RyZWFtYCBpcyB3cmFwcGVkIGFyb3VuZCBieSBhIGBCeXRlU3RyZWFtUmVhZGVyYC5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qXG4gKiBBIHdyYXBwZXIgaW1wbGVtZW50YXRpb24gb2YgT2JzZXJ2ZXI8VD4gdGhhdCB3aWxsIGRpc3BhdGNoIGV2ZW50c1xuICogYXN5bmNocm9ub3VzbHkuIFRvIGFsbG93IGltbWVkaWF0ZSBzaWxlbmNpbmcsIGEgbXV0ZSBjYWxsIGlzIGFkZGVkIHdoaWNoXG4gKiBjYXVzZXMgZXZlbnRzIHNjaGVkdWxlZCB0byBubyBsb25nZXIgYmUgcmFpc2VkLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfQXN5bmNPYnNlcnZlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLm9ic2VydmVyID0gZSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGVuIHNldCB0byB0cnVlLCB3aWxsIG5vdCByYWlzZSBmdXR1cmUgZXZlbnRzLiBOZWNlc3NhcnkgdG8gZGVhbCB3aXRoXG4gICAgICAgICAqIGFzeW5jIGRldGFjaG1lbnQgb2YgbGlzdGVuZXIuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm11dGVkID0gITE7XG4gICAgfVxuICAgIG5leHQoZSkge1xuICAgICAgICB0aGlzLm9ic2VydmVyLm5leHQgJiYgdGhpcy5LYSh0aGlzLm9ic2VydmVyLm5leHQsIGUpO1xuICAgIH1cbiAgICBlcnJvcihlKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIuZXJyb3IgPyB0aGlzLkthKHRoaXMub2JzZXJ2ZXIuZXJyb3IsIGUpIDogX19QUklWQVRFX2xvZ0Vycm9yKFwiVW5jYXVnaHQgRXJyb3IgaW4gc25hcHNob3QgbGlzdGVuZXI6XCIsIGUudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgICRhKCkge1xuICAgICAgICB0aGlzLm11dGVkID0gITA7XG4gICAgfVxuICAgIEthKGUsIHQpIHtcbiAgICAgICAgdGhpcy5tdXRlZCB8fCBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLm11dGVkIHx8IGUodCk7XG4gICAgICAgIH0pLCAwKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgY2xhc3MgcmVwcmVzZW50aW5nIGEgYnVuZGxlLlxuICpcbiAqIFRha2VzIGEgYnVuZGxlIHN0cmVhbSBvciBidWZmZXIsIGFuZCBwcmVzZW50cyBhYnN0cmFjdGlvbnMgdG8gcmVhZCBidW5kbGVkXG4gKiBlbGVtZW50cyBvdXQgb2YgdGhlIHVuZGVybHlpbmcgY29udGVudC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfQnVuZGxlUmVhZGVySW1wbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSByZWFkZXIgdG8gcmVhZCBmcm9tIHVuZGVybHlpbmcgYmluYXJ5IGJ1bmRsZSBkYXRhIHNvdXJjZS4gKi9cbiAgICBlLCB0KSB7XG4gICAgICAgIHRoaXMuVWEgPSBlLCB0aGlzLnNlcmlhbGl6ZXIgPSB0LCBcbiAgICAgICAgLyoqIENhY2hlZCBidW5kbGUgbWV0YWRhdGEuICovXG4gICAgICAgIHRoaXMubWV0YWRhdGEgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludGVybmFsIGJ1ZmZlciB0byBob2xkIGJ1bmRsZSBjb250ZW50LCBhY2N1bXVsYXRpbmcgaW5jb21wbGV0ZSBlbGVtZW50XG4gICAgICAgICAqIGNvbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5LCB0aGlzLldhID0gZnVuY3Rpb24gX19QUklWQVRFX25ld1RleHREZWNvZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBUZXh0RGVjb2RlcihcInV0Zi04XCIpO1xuICAgICAgICB9KCksIFxuICAgICAgICAvLyBSZWFkIHRoZSBtZXRhZGF0YSAod2hpY2ggaXMgdGhlIGZpcnN0IGVsZW1lbnQpLlxuICAgICAgICB0aGlzLkdhKCkudGhlbigoZSA9PiB7XG4gICAgICAgICAgICBlICYmIGUuc2EoKSA/IHRoaXMubWV0YWRhdGEucmVzb2x2ZShlLmlhLm1ldGFkYXRhKSA6IHRoaXMubWV0YWRhdGEucmVqZWN0KG5ldyBFcnJvcihgVGhlIGZpcnN0IGVsZW1lbnQgb2YgdGhlIGJ1bmRsZSBpcyBub3QgYSBtZXRhZGF0YSwgaXQgaXNcXG4gICAgICAgICAgICAgJHtKU09OLnN0cmluZ2lmeShudWxsID09IGUgPyB2b2lkIDAgOiBlLmlhKX1gKSk7XG4gICAgICAgIH0pLCAoZSA9PiB0aGlzLm1ldGFkYXRhLnJlamVjdChlKSkpO1xuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuVWEuY2FuY2VsKCk7XG4gICAgfVxuICAgIGFzeW5jIGdldE1ldGFkYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRhZGF0YS5wcm9taXNlO1xuICAgIH1cbiAgICBhc3luYyBxYSgpIHtcbiAgICAgICAgLy8gTWFrZXMgc3VyZSBtZXRhZGF0YSBpcyByZWFkIGJlZm9yZSBwcm9jZWVkaW5nLlxuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5nZXRNZXRhZGF0YSgpLCB0aGlzLkdhKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIGZyb20gdGhlIGhlYWQgb2YgaW50ZXJuYWwgYnVmZmVyLCBhbmQgcHVsbGluZyBtb3JlIGRhdGEgZnJvbVxuICAgICAqIHVuZGVybHlpbmcgc3RyZWFtIGlmIGEgY29tcGxldGUgZWxlbWVudCBjYW5ub3QgYmUgZm91bmQsIHVudGlsIGFuXG4gICAgICogZWxlbWVudChpbmNsdWRpbmcgdGhlIHByZWZpeGVkIGxlbmd0aCBhbmQgdGhlIEpTT04gc3RyaW5nKSBpcyBmb3VuZC5cbiAgICAgKlxuICAgICAqIE9uY2UgYSBjb21wbGV0ZSBlbGVtZW50IGlzIHJlYWQsIGl0IGlzIGRyb3BwZWQgZnJvbSBpbnRlcm5hbCBidWZmZXIuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGVpdGhlciB0aGUgYnVuZGxlZCBlbGVtZW50LCBvciBudWxsIGlmIHdlIGhhdmUgcmVhY2hlZCB0aGUgZW5kIG9mXG4gICAgICogdGhlIHN0cmVhbS5cbiAgICAgKi8gICAgYXN5bmMgR2EoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLnphKCk7XG4gICAgICAgIGlmIChudWxsID09PSBlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuV2EuZGVjb2RlKGUpLCBuID0gTnVtYmVyKHQpO1xuICAgICAgICBpc05hTihuKSAmJiB0aGlzLmphKGBsZW5ndGggc3RyaW5nICgke3R9KSBpcyBub3QgdmFsaWQgbnVtYmVyYCk7XG4gICAgICAgIGNvbnN0IHIgPSBhd2FpdCB0aGlzLkhhKG4pO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9TaXplZEJ1bmRsZUVsZW1lbnQoSlNPTi5wYXJzZShyKSwgZS5sZW5ndGggKyBuKTtcbiAgICB9XG4gICAgLyoqIEZpcnN0IGluZGV4IG9mICd7JyBmcm9tIHRoZSB1bmRlcmx5aW5nIGJ1ZmZlci4gKi8gICAgSmEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlci5maW5kSW5kZXgoKGUgPT4gZSA9PT0gXCJ7XCIuY2hhckNvZGVBdCgwKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGludGVybmFsIGJ1ZmZlciwgdW50aWwgdGhlIGZpcnN0ICd7JywgYW5kXG4gICAgICogcmV0dXJuIHRoZSBjb250ZW50LlxuICAgICAqXG4gICAgICogSWYgcmVhY2hlZCBlbmQgb2YgdGhlIHN0cmVhbSwgcmV0dXJucyBhIG51bGwuXG4gICAgICovICAgIGFzeW5jIHphKCkge1xuICAgICAgICBmb3IgKDt0aGlzLkphKCkgPCAwOyApIHtcbiAgICAgICAgICAgIGlmIChhd2FpdCB0aGlzLllhKCkpIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIEJyb2tlIG91dCBvZiB0aGUgbG9vcCBiZWNhdXNlIHVuZGVybHlpbmcgc3RyZWFtIGlzIGNsb3NlZCwgYW5kIHRoZXJlXG4gICAgICAgIC8vIGhhcHBlbnMgdG8gYmUgbm8gbW9yZSBkYXRhIHRvIHByb2Nlc3MuXG4gICAgICAgICAgICAgICAgaWYgKDAgPT09IHRoaXMuYnVmZmVyLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLkphKCk7XG4gICAgICAgIC8vIEJyb2tlIG91dCBvZiB0aGUgbG9vcCBiZWNhdXNlIHVuZGVybHlpbmcgc3RyZWFtIGlzIGNsb3NlZCwgYnV0IHN0aWxsXG4gICAgICAgIC8vIGNhbm5vdCBmaW5kIGFuIG9wZW4gYnJhY2tldC5cbiAgICAgICAgICAgICAgICBlIDwgMCAmJiB0aGlzLmphKFwiUmVhY2hlZCB0aGUgZW5kIG9mIGJ1bmRsZSB3aGVuIGEgbGVuZ3RoIHN0cmluZyBpcyBleHBlY3RlZC5cIik7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmJ1ZmZlci5zbGljZSgwLCBlKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBpbnRlcm5hbCBidWZmZXIgdG8gZHJvcCB0aGUgcmVhZCBsZW5ndGguXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuc2xpY2UoZSksIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIGZyb20gYSBzcGVjaWZpZWQgcG9zaXRpb24gZnJvbSB0aGUgaW50ZXJuYWwgYnVmZmVyLCBmb3IgYSBzcGVjaWZpZWRcbiAgICAgKiBudW1iZXIgb2YgYnl0ZXMsIHB1bGxpbmcgbW9yZSBkYXRhIGZyb20gdGhlIHVuZGVybHlpbmcgc3RyZWFtIGlmIG5lZWRlZC5cbiAgICAgKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgZGVjb2RlZCBmcm9tIHRoZSByZWFkIGJ5dGVzLlxuICAgICAqLyAgICBhc3luYyBIYShlKSB7XG4gICAgICAgIGZvciAoO3RoaXMuYnVmZmVyLmxlbmd0aCA8IGU7ICkge1xuICAgICAgICAgICAgYXdhaXQgdGhpcy5ZYSgpICYmIHRoaXMuamEoXCJSZWFjaGVkIHRoZSBlbmQgb2YgYnVuZGxlIHdoZW4gbW9yZSBpcyBleHBlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdCA9IHRoaXMuV2EuZGVjb2RlKHRoaXMuYnVmZmVyLnNsaWNlKDAsIGUpKTtcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBpbnRlcm5hbCBidWZmZXIgdG8gZHJvcCB0aGUgcmVhZCBqc29uIHN0cmluZy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5zbGljZShlKSwgdDtcbiAgICB9XG4gICAgamEoZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIHRocm93IHRoaXMuVWEuY2FuY2VsKCksIG5ldyBFcnJvcihgSW52YWxpZCBidW5kbGUgZm9ybWF0OiAke2V9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFB1bGxzIG1vcmUgZGF0YSBmcm9tIHVuZGVybHlpbmcgc3RyZWFtIHRvIGludGVybmFsIGJ1ZmZlci5cbiAgICAgKiBSZXR1cm5zIGEgYm9vbGVhbiBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIHN0cmVhbSBpcyBmaW5pc2hlZC5cbiAgICAgKi8gICAgYXN5bmMgWWEoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCB0aGlzLlVhLnJlYWQoKTtcbiAgICAgICAgaWYgKCFlLmRvbmUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgVWludDhBcnJheSh0aGlzLmJ1ZmZlci5sZW5ndGggKyBlLnZhbHVlLmxlbmd0aCk7XG4gICAgICAgICAgICB0LnNldCh0aGlzLmJ1ZmZlciksIHQuc2V0KGUudmFsdWUsIHRoaXMuYnVmZmVyLmxlbmd0aCksIHRoaXMuYnVmZmVyID0gdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZS5kb25lO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSW50ZXJuYWwgdHJhbnNhY3Rpb24gb2JqZWN0IHJlc3BvbnNpYmxlIGZvciBhY2N1bXVsYXRpbmcgdGhlIG11dGF0aW9ucyB0b1xuICogcGVyZm9ybSBhbmQgdGhlIGJhc2UgdmVyc2lvbnMgZm9yIGFueSBkb2N1bWVudHMgcmVhZC5cbiAqL1xuY2xhc3MgVHJhbnNhY3Rpb24kMiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLmRhdGFzdG9yZSA9IGUsIFxuICAgICAgICAvLyBUaGUgdmVyc2lvbiBvZiBlYWNoIGRvY3VtZW50IHRoYXQgd2FzIHJlYWQgZHVyaW5nIHRoaXMgdHJhbnNhY3Rpb24uXG4gICAgICAgIHRoaXMucmVhZFZlcnNpb25zID0gbmV3IE1hcCwgdGhpcy5tdXRhdGlvbnMgPSBbXSwgdGhpcy5jb21taXR0ZWQgPSAhMSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGRlZmVycmVkIHVzYWdlIGVycm9yIHRoYXQgb2NjdXJyZWQgcHJldmlvdXNseSBpbiB0aGlzIHRyYW5zYWN0aW9uIHRoYXRcbiAgICAgICAgICogd2lsbCBjYXVzZSB0aGUgdHJhbnNhY3Rpb24gdG8gZmFpbCBvbmNlIGl0IGFjdHVhbGx5IGNvbW1pdHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbkVycm9yID0gbnVsbCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgb2YgZG9jdW1lbnRzIHRoYXQgaGF2ZSBiZWVuIHdyaXR0ZW4gaW4gdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuIHRoZXJlJ3MgbW9yZSB0aGFuIG9uZSB3cml0ZSB0byB0aGUgc2FtZSBrZXkgaW4gYSB0cmFuc2FjdGlvbiwgYW55XG4gICAgICAgICAqIHdyaXRlcyBhZnRlciB0aGUgZmlyc3QgYXJlIGhhbmRsZWQgZGlmZmVyZW50bHkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLndyaXR0ZW5Eb2NzID0gbmV3IFNldDtcbiAgICB9XG4gICAgYXN5bmMgbG9va3VwKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCksIHRoaXMubXV0YXRpb25zLmxlbmd0aCA+IDApIHRocm93IHRoaXMubGFzdFRyYW5zYWN0aW9uRXJyb3IgPSBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkZpcmVzdG9yZSB0cmFuc2FjdGlvbnMgcmVxdWlyZSBhbGwgcmVhZHMgdG8gYmUgZXhlY3V0ZWQgYmVmb3JlIGFsbCB3cml0ZXMuXCIpLCBcbiAgICAgICAgdGhpcy5sYXN0VHJhbnNhY3Rpb25FcnJvcjtcbiAgICAgICAgY29uc3QgdCA9IGF3YWl0IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9pbnZva2VCYXRjaEdldERvY3VtZW50c1JwYyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudHM6IHQubWFwKChlID0+IF9fUFJJVkFURV90b05hbWUobi5zZXJpYWxpemVyLCBlKSkpXG4gICAgICAgICAgICB9LCBpID0gYXdhaXQgbi54byhcIkJhdGNoR2V0RG9jdW1lbnRzXCIsIG4uc2VyaWFsaXplci5kYXRhYmFzZUlkLCBSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCksIHIsIHQubGVuZ3RoKSwgcyA9IG5ldyBNYXA7XG4gICAgICAgICAgICBpLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZnJvbUJhdGNoR2V0RG9jdW1lbnRzUmVzcG9uc2Uobi5zZXJpYWxpemVyLCBlKTtcbiAgICAgICAgICAgICAgICBzLnNldCh0LmtleS50b1N0cmluZygpLCB0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IG8gPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0LmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBzLmdldChlLnRvU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhdCksIG8ucHVzaCh0KTtcbiAgICAgICAgICAgIH0pKSwgbztcbiAgICAgICAgfSh0aGlzLmRhdGFzdG9yZSwgZSk7XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKGUgPT4gdGhpcy5yZWNvcmRWZXJzaW9uKGUpKSksIHQ7XG4gICAgfVxuICAgIHNldChlLCB0KSB7XG4gICAgICAgIHRoaXMud3JpdGUodC50b011dGF0aW9uKGUsIHRoaXMucHJlY29uZGl0aW9uKGUpKSksIHRoaXMud3JpdHRlbkRvY3MuYWRkKGUudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIHVwZGF0ZShlLCB0KSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLndyaXRlKHQudG9NdXRhdGlvbihlLCB0aGlzLnByZWNvbmRpdGlvbkZvclVwZGF0ZShlKSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbkVycm9yID0gZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLndyaXR0ZW5Eb2NzLmFkZChlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBkZWxldGUoZSkge1xuICAgICAgICB0aGlzLndyaXRlKG5ldyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24oZSwgdGhpcy5wcmVjb25kaXRpb24oZSkpKSwgdGhpcy53cml0dGVuRG9jcy5hZGQoZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgYXN5bmMgY29tbWl0KCkge1xuICAgICAgICBpZiAodGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSwgdGhpcy5sYXN0VHJhbnNhY3Rpb25FcnJvcikgdGhyb3cgdGhpcy5sYXN0VHJhbnNhY3Rpb25FcnJvcjtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMucmVhZFZlcnNpb25zO1xuICAgICAgICAvLyBGb3IgZWFjaCBtdXRhdGlvbiwgbm90ZSB0aGF0IHRoZSBkb2Mgd2FzIHdyaXR0ZW4uXG4gICAgICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnMuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICBlLmRlbGV0ZSh0LmtleS50b1N0cmluZygpKTtcbiAgICAgICAgfSkpLCBcbiAgICAgICAgLy8gRm9yIGVhY2ggZG9jdW1lbnQgdGhhdCB3YXMgcmVhZCBidXQgbm90IHdyaXR0ZW4gdG8sIHdlIHdhbnQgdG8gcGVyZm9ybVxuICAgICAgICAvLyBhIGB2ZXJpZnlgIG9wZXJhdGlvbi5cbiAgICAgICAgZS5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IERvY3VtZW50S2V5LmZyb21QYXRoKHQpO1xuICAgICAgICAgICAgdGhpcy5tdXRhdGlvbnMucHVzaChuZXcgX19QUklWQVRFX1ZlcmlmeU11dGF0aW9uKG4sIHRoaXMucHJlY29uZGl0aW9uKG4pKSk7XG4gICAgICAgIH0pKSwgYXdhaXQgYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2ludm9rZUNvbW1pdFJwYyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IHtcbiAgICAgICAgICAgICAgICB3cml0ZXM6IHQubWFwKChlID0+IHRvTXV0YXRpb24obi5zZXJpYWxpemVyLCBlKSkpXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgYXdhaXQgbi5DbyhcIkNvbW1pdFwiLCBuLnNlcmlhbGl6ZXIuZGF0YWJhc2VJZCwgUmVzb3VyY2VQYXRoLmVtcHR5UGF0aCgpLCByKTtcbiAgICAgICAgfSh0aGlzLmRhdGFzdG9yZSwgdGhpcy5tdXRhdGlvbnMpLCB0aGlzLmNvbW1pdHRlZCA9ICEwO1xuICAgIH1cbiAgICByZWNvcmRWZXJzaW9uKGUpIHtcbiAgICAgICAgbGV0IHQ7XG4gICAgICAgIGlmIChlLmlzRm91bmREb2N1bWVudCgpKSB0ID0gZS52ZXJzaW9uOyBlbHNlIHtcbiAgICAgICAgICAgIGlmICghZS5pc05vRG9jdW1lbnQoKSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICAgICAgLy8gUmVwcmVzZW50IGEgZGVsZXRlZCBkb2MgdXNpbmcgU25hcHNob3RWZXJzaW9uLm1pbigpLlxuICAgICAgICAgICAgdCA9IFNuYXBzaG90VmVyc2lvbi5taW4oKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuID0gdGhpcy5yZWFkVmVyc2lvbnMuZ2V0KGUua2V5LnRvU3RyaW5nKCkpO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgaWYgKCF0LmlzRXF1YWwobikpIFxuICAgICAgICAgICAgLy8gVGhpcyB0cmFuc2FjdGlvbiB3aWxsIGZhaWwgbm8gbWF0dGVyIHdoYXQuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5BQk9SVEVELCBcIkRvY3VtZW50IHZlcnNpb24gY2hhbmdlZCBiZXR3ZWVuIHR3byByZWFkcy5cIik7XG4gICAgICAgIH0gZWxzZSB0aGlzLnJlYWRWZXJzaW9ucy5zZXQoZS5rZXkudG9TdHJpbmcoKSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHZlcnNpb24gb2YgdGhpcyBkb2N1bWVudCB3aGVuIGl0IHdhcyByZWFkIGluIHRoaXMgdHJhbnNhY3Rpb24sXG4gICAgICogYXMgYSBwcmVjb25kaXRpb24sIG9yIG5vIHByZWNvbmRpdGlvbiBpZiBpdCB3YXMgbm90IHJlYWQuXG4gICAgICovICAgIHByZWNvbmRpdGlvbihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnJlYWRWZXJzaW9ucy5nZXQoZS50b1N0cmluZygpKTtcbiAgICAgICAgcmV0dXJuICF0aGlzLndyaXR0ZW5Eb2NzLmhhcyhlLnRvU3RyaW5nKCkpICYmIHQgPyB0LmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSA/IFByZWNvbmRpdGlvbi5leGlzdHMoITEpIDogUHJlY29uZGl0aW9uLnVwZGF0ZVRpbWUodCkgOiBQcmVjb25kaXRpb24ubm9uZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwcmVjb25kaXRpb24gZm9yIGEgZG9jdW1lbnQgaWYgdGhlIG9wZXJhdGlvbiBpcyBhbiB1cGRhdGUuXG4gICAgICovICAgIHByZWNvbmRpdGlvbkZvclVwZGF0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLnJlYWRWZXJzaW9ucy5nZXQoZS50b1N0cmluZygpKTtcbiAgICAgICAgLy8gVGhlIGZpcnN0IHRpbWUgYSBkb2N1bWVudCBpcyB3cml0dGVuLCB3ZSB3YW50IHRvIHRha2UgaW50byBhY2NvdW50IHRoZVxuICAgICAgICAvLyByZWFkIHRpbWUgYW5kIGV4aXN0ZW5jZVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy53cml0dGVuRG9jcy5oYXMoZS50b1N0cmluZygpKSAmJiB0KSB7XG4gICAgICAgICAgICBpZiAodC5pc0VxdWFsKFNuYXBzaG90VmVyc2lvbi5taW4oKSkpIFxuICAgICAgICAgICAgLy8gVGhlIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3QsIHNvIGZhaWwgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgLy8gVGhpcyBoYXMgdG8gYmUgdmFsaWRhdGVkIGxvY2FsbHkgYmVjYXVzZSB5b3UgY2FuJ3Qgc2VuZCBhXG4gICAgICAgICAgICAvLyBwcmVjb25kaXRpb24gdGhhdCBhIGRvY3VtZW50IGRvZXMgbm90IGV4aXN0IHdpdGhvdXQgY2hhbmdpbmcgdGhlXG4gICAgICAgICAgICAvLyBzZW1hbnRpY3Mgb2YgdGhlIGJhY2tlbmQgd3JpdGUgdG8gYmUgYW4gaW5zZXJ0LiBUaGlzIGlzIHRoZSByZXZlcnNlXG4gICAgICAgICAgICAvLyBvZiB3aGF0IHdlIHdhbnQsIHNpbmNlIHdlIHdhbnQgdG8gYXNzZXJ0IHRoYXQgdGhlIGRvY3VtZW50IGRvZXNuJ3RcbiAgICAgICAgICAgIC8vIGV4aXN0IGJ1dCB0aGVuIHNlbmQgdGhlIHVwZGF0ZSBhbmQgaGF2ZSBpdCBmYWlsLiBTaW5jZSB3ZSBjYW4ndFxuICAgICAgICAgICAgLy8gZXhwcmVzcyB0aGF0IHRvIHRoZSBiYWNrZW5kLCB3ZSBoYXZlIHRvIHZhbGlkYXRlIGxvY2FsbHkuXG4gICAgICAgICAgICAvLyBOb3RlOiB0aGlzIGNhbiBjaGFuZ2Ugb25jZSB3ZSBjYW4gc2VuZCBzZXBhcmF0ZSB2ZXJpZnkgd3JpdGVzIGluIHRoZVxuICAgICAgICAgICAgLy8gdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkNhbid0IHVwZGF0ZSBhIGRvY3VtZW50IHRoYXQgZG9lc24ndCBleGlzdC5cIik7XG4gICAgICAgICAgICAvLyBEb2N1bWVudCBleGlzdHMsIGJhc2UgcHJlY29uZGl0aW9uIG9uIGRvY3VtZW50IHVwZGF0ZSB0aW1lLlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByZWNvbmRpdGlvbi51cGRhdGVUaW1lKHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIERvY3VtZW50IHdhcyBub3QgcmVhZCwgc28gd2UganVzdCB1c2UgdGhlIHByZWNvbmRpdGlvbnMgZm9yIGEgYmxpbmRcbiAgICAgICAgLy8gdXBkYXRlLlxuICAgICAgICByZXR1cm4gUHJlY29uZGl0aW9uLmV4aXN0cyghMCk7XG4gICAgfVxuICAgIHdyaXRlKGUpIHtcbiAgICAgICAgdGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSwgdGhpcy5tdXRhdGlvbnMucHVzaChlKTtcbiAgICB9XG4gICAgZW5zdXJlQ29tbWl0Tm90Q2FsbGVkKCkge31cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogVHJhbnNhY3Rpb25SdW5uZXIgZW5jYXBzdWxhdGVzIHRoZSBsb2dpYyBuZWVkZWQgdG8gcnVuIGFuZCByZXRyeSB0cmFuc2FjdGlvbnNcbiAqIHdpdGggYmFja29mZi5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfVHJhbnNhY3Rpb25SdW5uZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgdGhpcy5hc3luY1F1ZXVlID0gZSwgdGhpcy5kYXRhc3RvcmUgPSB0LCB0aGlzLm9wdGlvbnMgPSBuLCB0aGlzLnVwZGF0ZUZ1bmN0aW9uID0gciwgXG4gICAgICAgIHRoaXMuZGVmZXJyZWQgPSBpLCB0aGlzLlphID0gbi5tYXhBdHRlbXB0cywgdGhpcy5ZbyA9IG5ldyBfX1BSSVZBVEVfRXhwb25lbnRpYWxCYWNrb2ZmKHRoaXMuYXN5bmNRdWV1ZSwgXCJ0cmFuc2FjdGlvbl9yZXRyeVwiIC8qIFRpbWVySWQuVHJhbnNhY3Rpb25SZXRyeSAqLyk7XG4gICAgfVxuICAgIC8qKiBSdW5zIHRoZSB0cmFuc2FjdGlvbiBhbmQgc2V0cyB0aGUgcmVzdWx0IG9uIGRlZmVycmVkLiAqLyAgICBYYSgpIHtcbiAgICAgICAgdGhpcy5aYSAtPSAxLCB0aGlzLmV1KCk7XG4gICAgfVxuICAgIGV1KCkge1xuICAgICAgICB0aGlzLllvLiRvKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gbmV3IFRyYW5zYWN0aW9uJDIodGhpcy5kYXRhc3RvcmUpLCB0ID0gdGhpcy50dShlKTtcbiAgICAgICAgICAgIHQgJiYgdC50aGVuKCh0ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gZS5jb21taXQoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmZXJyZWQucmVzb2x2ZSh0KTtcbiAgICAgICAgICAgICAgICB9KSkuY2F0Y2goKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm51KGUpO1xuICAgICAgICAgICAgICAgIH0pKSkpO1xuICAgICAgICAgICAgfSkpLmNhdGNoKChlID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm51KGUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHR1KGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLnVwZGF0ZUZ1bmN0aW9uKGUpO1xuICAgICAgICAgICAgcmV0dXJuICFfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQodCkgJiYgdC5jYXRjaCAmJiB0LnRoZW4gPyB0IDogKHRoaXMuZGVmZXJyZWQucmVqZWN0KEVycm9yKFwiVHJhbnNhY3Rpb24gY2FsbGJhY2sgbXVzdCByZXR1cm4gYSBQcm9taXNlXCIpKSwgXG4gICAgICAgICAgICBudWxsKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gRG8gbm90IHJldHJ5IGVycm9ycyB0aHJvd24gYnkgdXNlciBwcm92aWRlZCB1cGRhdGVGdW5jdGlvbi5cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkLnJlamVjdChlKSwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBudShlKSB7XG4gICAgICAgIHRoaXMuWmEgPiAwICYmIHRoaXMucnUoZSkgPyAodGhpcy5aYSAtPSAxLCB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gKHRoaXMuZXUoKSwgXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpKSkpKSA6IHRoaXMuZGVmZXJyZWQucmVqZWN0KGUpO1xuICAgIH1cbiAgICBydShlKSB7XG4gICAgICAgIGlmIChcIkZpcmViYXNlRXJyb3JcIiA9PT0gZS5uYW1lKSB7XG4gICAgICAgICAgICAvLyBJbiB0cmFuc2FjdGlvbnMsIHRoZSBiYWNrZW5kIHdpbGwgZmFpbCBvdXRkYXRlZCByZWFkcyB3aXRoIEZBSUxFRF9QUkVDT05ESVRJT04gYW5kXG4gICAgICAgICAgICAvLyBub24tbWF0Y2hpbmcgZG9jdW1lbnQgdmVyc2lvbnMgd2l0aCBBQk9SVEVELiBUaGVzZSBlcnJvcnMgc2hvdWxkIGJlIHJldHJpZWQuXG4gICAgICAgICAgICBjb25zdCB0ID0gZS5jb2RlO1xuICAgICAgICAgICAgcmV0dXJuIFwiYWJvcnRlZFwiID09PSB0IHx8IFwiZmFpbGVkLXByZWNvbmRpdGlvblwiID09PSB0IHx8IFwiYWxyZWFkeS1leGlzdHNcIiA9PT0gdCB8fCAhX19QUklWQVRFX2lzUGVybWFuZW50RXJyb3IodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRmlyZXN0b3JlQ2xpZW50IGlzIGEgdG9wLWxldmVsIGNsYXNzIHRoYXQgY29uc3RydWN0cyBhbmQgb3ducyBhbGwgb2YgdGhlIC8vXG4gKiBwaWVjZXMgb2YgdGhlIGNsaWVudCBTREsgYXJjaGl0ZWN0dXJlLiBJdCBpcyByZXNwb25zaWJsZSBmb3IgY3JlYXRpbmcgdGhlIC8vXG4gKiBhc3luYyBxdWV1ZSB0aGF0IGlzIHNoYXJlZCBieSBhbGwgb2YgdGhlIG90aGVyIGNvbXBvbmVudHMgaW4gdGhlIHN5c3RlbS4gLy9cbiAqL1xuY2xhc3MgRmlyZXN0b3JlQ2xpZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBcbiAgICAvKipcbiAgICAgKiBBc3luY2hyb25vdXMgcXVldWUgcmVzcG9uc2libGUgZm9yIGFsbCBvZiBvdXIgaW50ZXJuYWwgcHJvY2Vzc2luZy4gV2hlblxuICAgICAqIHdlIGdldCBpbmNvbWluZyB3b3JrIGZyb20gdGhlIHVzZXIgKHZpYSBwdWJsaWMgQVBJKSBvciB0aGUgbmV0d29ya1xuICAgICAqIChpbmNvbWluZyBHUlBDIG1lc3NhZ2VzKSwgd2Ugc2hvdWxkIGFsd2F5cyBzY2hlZHVsZSBvbnRvIHRoaXMgcXVldWUuXG4gICAgICogVGhpcyBlbnN1cmVzIGFsbCBvZiBvdXIgd29yayBpcyBwcm9wZXJseSBzZXJpYWxpemVkIChlLmcuIHdlIGRvbid0XG4gICAgICogc3RhcnQgcHJvY2Vzc2luZyBhIG5ldyBvcGVyYXRpb24gd2hpbGUgdGhlIHByZXZpb3VzIG9uZSBpcyB3YWl0aW5nIGZvclxuICAgICAqIGFuIGFzeW5jIEkvTyB0byBjb21wbGV0ZSkuXG4gICAgICovXG4gICAgbiwgcikge1xuICAgICAgICB0aGlzLmF1dGhDcmVkZW50aWFscyA9IGUsIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscyA9IHQsIHRoaXMuYXN5bmNRdWV1ZSA9IG4sIHRoaXMuZGF0YWJhc2VJbmZvID0gciwgXG4gICAgICAgIHRoaXMudXNlciA9IFVzZXIuVU5BVVRIRU5USUNBVEVELCB0aGlzLmNsaWVudElkID0gX19QUklWQVRFX0F1dG9JZC5uZXdJZCgpLCB0aGlzLmF1dGhDcmVkZW50aWFsTGlzdGVuZXIgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSwgXG4gICAgICAgIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFsTGlzdGVuZXIgPSAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSwgdGhpcy5hdXRoQ3JlZGVudGlhbHMuc3RhcnQobiwgKGFzeW5jIGUgPT4ge1xuICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiUmVjZWl2ZWQgdXNlcj1cIiwgZS51aWQpLCBhd2FpdCB0aGlzLmF1dGhDcmVkZW50aWFsTGlzdGVuZXIoZSksIFxuICAgICAgICAgICAgdGhpcy51c2VyID0gZTtcbiAgICAgICAgfSkpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuc3RhcnQobiwgKGUgPT4gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmVzdG9yZUNsaWVudFwiLCBcIlJlY2VpdmVkIG5ldyBhcHAgY2hlY2sgdG9rZW49XCIsIGUpLCBcbiAgICAgICAgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxMaXN0ZW5lcihlLCB0aGlzLnVzZXIpKSkpO1xuICAgIH1cbiAgICBnZXQgY29uZmlndXJhdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzeW5jUXVldWU6IHRoaXMuYXN5bmNRdWV1ZSxcbiAgICAgICAgICAgIGRhdGFiYXNlSW5mbzogdGhpcy5kYXRhYmFzZUluZm8sXG4gICAgICAgICAgICBjbGllbnRJZDogdGhpcy5jbGllbnRJZCxcbiAgICAgICAgICAgIGF1dGhDcmVkZW50aWFsczogdGhpcy5hdXRoQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICBhcHBDaGVja0NyZWRlbnRpYWxzOiB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMsXG4gICAgICAgICAgICBpbml0aWFsVXNlcjogdGhpcy51c2VyLFxuICAgICAgICAgICAgbWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM6IDEwMFxuICAgICAgICB9O1xuICAgIH1cbiAgICBzZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoZSkge1xuICAgICAgICB0aGlzLmF1dGhDcmVkZW50aWFsTGlzdGVuZXIgPSBlO1xuICAgIH1cbiAgICBzZXRBcHBDaGVja1Rva2VuQ2hhbmdlTGlzdGVuZXIoZSkge1xuICAgICAgICB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbExpc3RlbmVyID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2tzIHRoYXQgdGhlIGNsaWVudCBoYXMgbm90IGJlZW4gdGVybWluYXRlZC4gRW5zdXJlcyB0aGF0IG90aGVyIG1ldGhvZHMgb24gLy9cbiAgICAgKiB0aGlzIGNsYXNzIGNhbm5vdCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGNsaWVudCBpcyB0ZXJtaW5hdGVkLiAvL1xuICAgICAqLyAgICB2ZXJpZnlOb3RUZXJtaW5hdGVkKCkge1xuICAgICAgICBpZiAodGhpcy5hc3luY1F1ZXVlLmlzU2h1dHRpbmdEb3duKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIlRoZSBjbGllbnQgaGFzIGFscmVhZHkgYmVlbiB0ZXJtaW5hdGVkLlwiKTtcbiAgICB9XG4gICAgdGVybWluYXRlKCkge1xuICAgICAgICB0aGlzLmFzeW5jUXVldWUuZW50ZXJSZXN0cmljdGVkTW9kZSgpO1xuICAgICAgICBjb25zdCBlID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbmxpbmVDb21wb25lbnRzICYmIGF3YWl0IHRoaXMuX29ubGluZUNvbXBvbmVudHMudGVybWluYXRlKCksIHRoaXMuX29mZmxpbmVDb21wb25lbnRzICYmIGF3YWl0IHRoaXMuX29mZmxpbmVDb21wb25lbnRzLnRlcm1pbmF0ZSgpLCBcbiAgICAgICAgICAgICAgICAvLyBUaGUgY3JlZGVudGlhbHMgcHJvdmlkZXIgbXVzdCBiZSB0ZXJtaW5hdGVkIGFmdGVyIHNodXR0aW5nIGRvd24gdGhlXG4gICAgICAgICAgICAgICAgLy8gUmVtb3RlU3RvcmUgYXMgaXQgd2lsbCBwcmV2ZW50IHRoZSBSZW1vdGVTdG9yZSBmcm9tIHJldHJpZXZpbmcgYXV0aFxuICAgICAgICAgICAgICAgIC8vIHRva2Vucy5cbiAgICAgICAgICAgICAgICB0aGlzLmF1dGhDcmVkZW50aWFscy5zaHV0ZG93bigpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuc2h1dGRvd24oKSwgZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKHQsIFwiRmFpbGVkIHRvIHNodXRkb3duIHBlcnNpc3RlbmNlXCIpO1xuICAgICAgICAgICAgICAgIGUucmVqZWN0KG4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIGUucHJvbWlzZTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zZXRPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgdCkge1xuICAgIGUuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCksIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmVzdG9yZUNsaWVudFwiLCBcIkluaXRpYWxpemluZyBPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXJcIik7XG4gICAgY29uc3QgbiA9IGUuY29uZmlndXJhdGlvbjtcbiAgICBhd2FpdCB0LmluaXRpYWxpemUobik7XG4gICAgbGV0IHIgPSBuLmluaXRpYWxVc2VyO1xuICAgIGUuc2V0Q3JlZGVudGlhbENoYW5nZUxpc3RlbmVyKChhc3luYyBlID0+IHtcbiAgICAgICAgci5pc0VxdWFsKGUpIHx8IChhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUhhbmRsZVVzZXJDaGFuZ2UodC5sb2NhbFN0b3JlLCBlKSwgciA9IGUpO1xuICAgIH0pKSwgXG4gICAgLy8gV2hlbiBhIHVzZXIgY2FsbHMgY2xlYXJQZXJzaXN0ZW5jZSgpIGluIG9uZSBjbGllbnQsIGFsbCBvdGhlciBjbGllbnRzXG4gICAgLy8gbmVlZCB0byBiZSB0ZXJtaW5hdGVkIHRvIGFsbG93IHRoZSBkZWxldGUgdG8gc3VjY2VlZC5cbiAgICB0LnBlcnNpc3RlbmNlLnNldERhdGFiYXNlRGVsZXRlZExpc3RlbmVyKCgoKSA9PiBlLnRlcm1pbmF0ZSgpKSksIGUuX29mZmxpbmVDb21wb25lbnRzID0gdDtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3NldE9ubGluZUNvbXBvbmVudFByb3ZpZGVyKGUsIHQpIHtcbiAgICBlLmFzeW5jUXVldWUudmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpO1xuICAgIGNvbnN0IG4gPSBhd2FpdCBfX1BSSVZBVEVfZW5zdXJlT2ZmbGluZUNvbXBvbmVudHMoZSk7XG4gICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiSW5pdGlhbGl6aW5nIE9ubGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLCBhd2FpdCB0LmluaXRpYWxpemUobiwgZS5jb25maWd1cmF0aW9uKSwgXG4gICAgLy8gVGhlIENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lciBvZiB0aGUgb25saW5lIGNvbXBvbmVudCBwcm92aWRlciB0YWtlc1xuICAgIC8vIHByZWNlZGVuY2Ugb3ZlciB0aGUgb2ZmbGluZSBjb21wb25lbnQgcHJvdmlkZXIuXG4gICAgZS5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoKGUgPT4gX19QUklWQVRFX3JlbW90ZVN0b3JlSGFuZGxlQ3JlZGVudGlhbENoYW5nZSh0LnJlbW90ZVN0b3JlLCBlKSkpLCBcbiAgICBlLnNldEFwcENoZWNrVG9rZW5DaGFuZ2VMaXN0ZW5lcigoKGUsIG4pID0+IF9fUFJJVkFURV9yZW1vdGVTdG9yZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UodC5yZW1vdGVTdG9yZSwgbikpKSwgXG4gICAgZS5fb25saW5lQ29tcG9uZW50cyA9IHQ7XG59XG5cbi8qKlxuICogRGVjaWRlcyB3aGV0aGVyIHRoZSBwcm92aWRlZCBlcnJvciBhbGxvd3MgdXMgdG8gZ3JhY2VmdWxseSBkaXNhYmxlXG4gKiBwZXJzaXN0ZW5jZSAoYXMgb3Bwb3NlZCB0byBjcmFzaGluZyB0aGUgY2xpZW50KS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY2FuRmFsbGJhY2tGcm9tSW5kZXhlZERiRXJyb3IoZSkge1xuICAgIHJldHVybiBcIkZpcmViYXNlRXJyb3JcIiA9PT0gZS5uYW1lID8gZS5jb2RlID09PSBDLkZBSUxFRF9QUkVDT05ESVRJT04gfHwgZS5jb2RlID09PSBDLlVOSU1QTEVNRU5URUQgOiAhKFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIERPTUV4Y2VwdGlvbiAmJiBlIGluc3RhbmNlb2YgRE9NRXhjZXB0aW9uKSB8fCAoXG4gICAgLy8gV2hlbiB0aGUgYnJvd3NlciBpcyBvdXQgb2YgcXVvdGEgd2UgY291bGQgZ2V0IGVpdGhlciBxdW90YSBleGNlZWRlZFxuICAgIC8vIG9yIGFuIGFib3J0ZWQgZXJyb3IgZGVwZW5kaW5nIG9uIHdoZXRoZXIgdGhlIGVycm9yIGhhcHBlbmVkIGR1cmluZ1xuICAgIC8vIHNjaGVtYSBtaWdyYXRpb24uXG4gICAgMjIgPT09IGUuY29kZSB8fCAyMCA9PT0gZS5jb2RlIHx8IFxuICAgIC8vIEZpcmVmb3ggUHJpdmF0ZSBCcm93c2luZyBtb2RlIGRpc2FibGVzIEluZGV4ZWREYiBhbmQgcmV0dXJuc1xuICAgIC8vIElOVkFMSURfU1RBVEUgZm9yIGFueSB1c2FnZS5cbiAgICAxMSA9PT0gZS5jb2RlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2Vuc3VyZU9mZmxpbmVDb21wb25lbnRzKGUpIHtcbiAgICBpZiAoIWUuX29mZmxpbmVDb21wb25lbnRzKSBpZiAoZS5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlcikge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJVc2luZyB1c2VyIHByb3ZpZGVkIE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9zZXRPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgZS5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlci5fb2ZmbGluZSk7XG4gICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0O1xuICAgICAgICAgICAgaWYgKCFfX1BSSVZBVEVfY2FuRmFsbGJhY2tGcm9tSW5kZXhlZERiRXJyb3IobikpIHRocm93IG47XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nV2FybihcIkVycm9yIHVzaW5nIHVzZXIgcHJvdmlkZWQgY2FjaGUuIEZhbGxpbmcgYmFjayB0byBtZW1vcnkgY2FjaGU6IFwiICsgbiksIFxuICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlcihlLCBuZXcgTWVtb3J5T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJVc2luZyBkZWZhdWx0IE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKSwgXG4gICAgYXdhaXQgX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlcihlLCBuZXcgTWVtb3J5T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKTtcbiAgICByZXR1cm4gZS5fb2ZmbGluZUNvbXBvbmVudHM7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9lbnN1cmVPbmxpbmVDb21wb25lbnRzKGUpIHtcbiAgICByZXR1cm4gZS5fb25saW5lQ29tcG9uZW50cyB8fCAoZS5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlciA/IChfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJVc2luZyB1c2VyIHByb3ZpZGVkIE9ubGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLCBcbiAgICBhd2FpdCBfX1BSSVZBVEVfc2V0T25saW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgZS5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlci5fb25saW5lKSkgOiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiVXNpbmcgZGVmYXVsdCBPbmxpbmVDb21wb25lbnRQcm92aWRlclwiKSwgXG4gICAgYXdhaXQgX19QUklWQVRFX3NldE9ubGluZUNvbXBvbmVudFByb3ZpZGVyKGUsIG5ldyBPbmxpbmVDb21wb25lbnRQcm92aWRlcikpKSwgZS5fb25saW5lQ29tcG9uZW50cztcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2dldFBlcnNpc3RlbmNlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2Vuc3VyZU9mZmxpbmVDb21wb25lbnRzKGUpLnRoZW4oKGUgPT4gZS5wZXJzaXN0ZW5jZSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0TG9jYWxTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9lbnN1cmVPZmZsaW5lQ29tcG9uZW50cyhlKS50aGVuKChlID0+IGUubG9jYWxTdG9yZSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0UmVtb3RlU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyhlKS50aGVuKChlID0+IGUucmVtb3RlU3RvcmUpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2dldFN5bmNFbmdpbmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyhlKS50aGVuKChlID0+IGUuc3luY0VuZ2luZSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0RGF0YXN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2Vuc3VyZU9ubGluZUNvbXBvbmVudHMoZSkudGhlbigoZSA9PiBlLmRhdGFzdG9yZSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZ2V0RXZlbnRNYW5hZ2VyKGUpIHtcbiAgICBjb25zdCB0ID0gYXdhaXQgX19QUklWQVRFX2Vuc3VyZU9ubGluZUNvbXBvbmVudHMoZSksIG4gPSB0LmV2ZW50TWFuYWdlcjtcbiAgICByZXR1cm4gbi5vbkxpc3RlbiA9IF9fUFJJVkFURV9zeW5jRW5naW5lTGlzdGVuLmJpbmQobnVsbCwgdC5zeW5jRW5naW5lKSwgbi5vblVubGlzdGVuID0gX19QUklWQVRFX3N5bmNFbmdpbmVVbmxpc3Rlbi5iaW5kKG51bGwsIHQuc3luY0VuZ2luZSksIFxuICAgIG4ub25GaXJzdFJlbW90ZVN0b3JlTGlzdGVuID0gX19QUklWQVRFX3RyaWdnZXJSZW1vdGVTdG9yZUxpc3Rlbi5iaW5kKG51bGwsIHQuc3luY0VuZ2luZSksIFxuICAgIG4ub25MYXN0UmVtb3RlU3RvcmVVbmxpc3RlbiA9IF9fUFJJVkFURV90cmlnZ2VyUmVtb3RlU3RvcmVVbmxpc3Rlbi5iaW5kKG51bGwsIHQuc3luY0VuZ2luZSksIFxuICAgIG47XG59XG5cbi8qKiBFbmFibGVzIHRoZSBuZXR3b3JrIGNvbm5lY3Rpb24gYW5kIHJlLWVucXVldWVzIGFsbCBwZW5kaW5nIG9wZXJhdGlvbnMuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRFbmFibGVOZXR3b3JrKGUpIHtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWUoKGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgdCA9IGF3YWl0IF9fUFJJVkFURV9nZXRQZXJzaXN0ZW5jZShlKSwgbiA9IGF3YWl0IF9fUFJJVkFURV9nZXRSZW1vdGVTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIHQuc2V0TmV0d29ya0VuYWJsZWQoITApLCBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVFbmFibGVOZXR3b3JrKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgcmV0dXJuIHQuTV8uZGVsZXRlKDAgLyogT2ZmbGluZUNhdXNlLlVzZXJEaXNhYmxlZCAqLyksIF9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwodCk7XG4gICAgICAgIH0obik7XG4gICAgfSkpO1xufVxuXG4vKiogRGlzYWJsZXMgdGhlIG5ldHdvcmsgY29ubmVjdGlvbi4gUGVuZGluZyBvcGVyYXRpb25zIHdpbGwgbm90IGNvbXBsZXRlLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGlzYWJsZU5ldHdvcmsoZSkge1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gYXdhaXQgX19QUklWQVRFX2dldFBlcnNpc3RlbmNlKGUpLCBuID0gYXdhaXQgX19QUklWQVRFX2dldFJlbW90ZVN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gdC5zZXROZXR3b3JrRW5hYmxlZCghMSksIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdGVTdG9yZURpc2FibGVOZXR3b3JrKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgdC5NXy5hZGQoMCAvKiBPZmZsaW5lQ2F1c2UuVXNlckRpc2FibGVkICovKSwgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwodCksIFxuICAgICAgICAgICAgLy8gU2V0IHRoZSBPbmxpbmVTdGF0ZSB0byBPZmZsaW5lIHNvIGdldCgpcyByZXR1cm4gZnJvbSBjYWNoZSwgZXRjLlxuICAgICAgICAgICAgdC5OXy5zZXQoXCJPZmZsaW5lXCIgLyogT25saW5lU3RhdGUuT2ZmbGluZSAqLyk7XG4gICAgICAgIH0obik7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2hlbiBhbGwgd3JpdGVzIHRoYXQgd2VyZSBwZW5kaW5nIGF0IHRoZSB0aW1lXG4gKiB0aGlzIG1ldGhvZCB3YXMgY2FsbGVkIHJlY2VpdmVkIHNlcnZlciBhY2tub3dsZWRnZW1lbnQuIEFuIGFja25vd2xlZGdlbWVudFxuICogY2FuIGJlIGVpdGhlciBhY2NlcHRhbmNlIG9yIHJlamVjdGlvbi5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRGcm9tTG9jYWxDYWNoZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVhZERvY3VtZW50RnJvbUNhY2hlKGUsIHQsIG4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlYWREb2N1bWVudChlLCB0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJyZWFkIGRvY3VtZW50XCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gbi5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudChlLCB0KSkpO1xuICAgICAgICAgICAgfShlLCB0KTtcbiAgICAgICAgICAgIHIuaXNGb3VuZERvY3VtZW50KCkgPyBuLnJlc29sdmUocikgOiByLmlzTm9Eb2N1bWVudCgpID8gbi5yZXNvbHZlKG51bGwpIDogbi5yZWplY3QobmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsIFwiRmFpbGVkIHRvIGdldCBkb2N1bWVudCBmcm9tIGNhY2hlLiAoSG93ZXZlciwgdGhpcyBkb2N1bWVudCBtYXkgZXhpc3Qgb24gdGhlIHNlcnZlci4gUnVuIGFnYWluIHdpdGhvdXQgc2V0dGluZyAnc291cmNlJyBpbiB0aGUgR2V0T3B0aW9ucyB0byBhdHRlbXB0IHRvIHJldHJpZXZlIHRoZSBkb2N1bWVudCBmcm9tIHRoZSBzZXJ2ZXIuKVwiKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZShlLCBgRmFpbGVkIHRvIGdldCBkb2N1bWVudCAnJHt0fSBmcm9tIGNhY2hlYCk7XG4gICAgICAgICAgICBuLnJlamVjdChyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAqIFJldHJpZXZlcyBhIGxhdGVuY3ktY29tcGVuc2F0ZWQgZG9jdW1lbnQgZnJvbSB0aGUgYmFja2VuZCB2aWEgYVxuICogU25hcHNob3RMaXN0ZW5lci5cbiAqLyAoYXdhaXQgX19QUklWQVRFX2dldExvY2FsU3RvcmUoZSksIHQsIG4pKSksIG4ucHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50VmlhU25hcHNob3RMaXN0ZW5lcihlLCB0LCBuID0ge30pIHtcbiAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9yZWFkRG9jdW1lbnRWaWFTbmFwc2hvdExpc3RlbmVyKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgY29uc3QgcyA9IG5ldyBfX1BSSVZBVEVfQXN5bmNPYnNlcnZlcih7XG4gICAgICAgICAgICBuZXh0OiBzID0+IHtcbiAgICAgICAgICAgICAgICAvLyBSZW1vdmUgcXVlcnkgZmlyc3QgYmVmb3JlIHBhc3NpbmcgZXZlbnQgdG8gdXNlciB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIHVzZXIgYWN0aW9ucyBhZmZlY3RpbmcgdGhlIG5vdyBzdGFsZSBxdWVyeS5cbiAgICAgICAgICAgICAgICB0LmVucXVldWVBbmRGb3JnZXQoKCgpID0+IF9fUFJJVkFURV9ldmVudE1hbmFnZXJVbmxpc3RlbihlLCBvKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IF8gPSBzLmRvY3MuaGFzKG4pO1xuICAgICAgICAgICAgICAgICFfICYmIHMuZnJvbUNhY2hlID8gXG4gICAgICAgICAgICAgICAgLy8gVE9ETyhkaW1vbmQpOiBJZiB3ZSdyZSBvbmxpbmUgYW5kIHRoZSBkb2N1bWVudCBkb2Vzbid0XG4gICAgICAgICAgICAgICAgLy8gZXhpc3QgdGhlbiB3ZSByZXNvbHZlIHdpdGggYSBkb2MuZXhpc3RzIHNldCB0byBmYWxzZS4gSWZcbiAgICAgICAgICAgICAgICAvLyB3ZSdyZSBvZmZsaW5lIGhvd2V2ZXIsIHdlIHJlamVjdCB0aGUgUHJvbWlzZSBpbiB0aGlzXG4gICAgICAgICAgICAgICAgLy8gY2FzZS4gVHdvIG9wdGlvbnM6IDEpIENhY2hlIHRoZSBuZWdhdGl2ZSByZXNwb25zZSBmcm9tXG4gICAgICAgICAgICAgICAgLy8gdGhlIHNlcnZlciBzbyB3ZSBjYW4gZGVsaXZlciB0aGF0IGV2ZW4gd2hlbiB5b3UncmVcbiAgICAgICAgICAgICAgICAvLyBvZmZsaW5lIDIpIEFjdHVhbGx5IHJlamVjdCB0aGUgUHJvbWlzZSBpbiB0aGUgb25saW5lIGNhc2VcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgZG9jdW1lbnQgZG9lc24ndCBleGlzdC5cbiAgICAgICAgICAgICAgICBpLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTkFWQUlMQUJMRSwgXCJGYWlsZWQgdG8gZ2V0IGRvY3VtZW50IGJlY2F1c2UgdGhlIGNsaWVudCBpcyBvZmZsaW5lLlwiKSkgOiBfICYmIHMuZnJvbUNhY2hlICYmIHIgJiYgXCJzZXJ2ZXJcIiA9PT0gci5zb3VyY2UgPyBpLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTkFWQUlMQUJMRSwgJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnQgZnJvbSBzZXJ2ZXIuIChIb3dldmVyLCB0aGlzIGRvY3VtZW50IGRvZXMgZXhpc3QgaW4gdGhlIGxvY2FsIGNhY2hlLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nIHNvdXJjZSB0byBcInNlcnZlclwiIHRvIHJldHJpZXZlIHRoZSBjYWNoZWQgZG9jdW1lbnQuKScpKSA6IGkucmVzb2x2ZShzKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZSA9PiBpLnJlamVjdChlKVxuICAgICAgICB9KSwgbyA9IG5ldyBfX1BSSVZBVEVfUXVlcnlMaXN0ZW5lcihfX1BSSVZBVEVfbmV3UXVlcnlGb3JQYXRoKG4ucGF0aCksIHMsIHtcbiAgICAgICAgICAgIGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6ICEwLFxuICAgICAgICAgICAgcmE6ICEwXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2V2ZW50TWFuYWdlckxpc3RlbihlLCBvKTtcbiAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIoZSksIGUuYXN5bmNRdWV1ZSwgdCwgbiwgcikpKSwgci5wcm9taXNlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRzRnJvbUxvY2FsQ2FjaGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2V4ZWN1dGVRdWVyeUZyb21DYWNoZShlLCB0LCBuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVFeGVjdXRlUXVlcnkoZSwgdCwgXG4gICAgICAgICAgICAvKiB1c2VQcmV2aW91c1Jlc3VsdHM9ICovICEwKSwgaSA9IG5ldyBfX1BSSVZBVEVfVmlldyh0LCByLmhzKSwgcyA9IGkuZGEoci5kb2N1bWVudHMpLCBvID0gaS5hcHBseUNoYW5nZXMocywgXG4gICAgICAgICAgICAvKiBsaW1ib1Jlc29sdXRpb25FbmFibGVkPSAqLyAhMSk7XG4gICAgICAgICAgICBuLnJlc29sdmUoby5zbmFwc2hvdCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZShlLCBgRmFpbGVkIHRvIGV4ZWN1dGUgcXVlcnkgJyR7dH0gYWdhaW5zdCBjYWNoZWApO1xuICAgICAgICAgICAgbi5yZWplY3Qocik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gKiBSZXRyaWV2ZXMgYSBsYXRlbmN5LWNvbXBlbnNhdGVkIHF1ZXJ5IHNuYXBzaG90IGZyb20gdGhlIGJhY2tlbmQgdmlhIGFcbiAqIFNuYXBzaG90TGlzdGVuZXIuXG4gKi8gKGF3YWl0IF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpLCB0LCBuKSkpLCBuLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudHNWaWFTbmFwc2hvdExpc3RlbmVyKGUsIHQsIG4gPSB7fSkge1xuICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX2V4ZWN1dGVRdWVyeVZpYVNuYXBzaG90TGlzdGVuZXIoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICBjb25zdCBzID0gbmV3IF9fUFJJVkFURV9Bc3luY09ic2VydmVyKHtcbiAgICAgICAgICAgIG5leHQ6IG4gPT4ge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBxdWVyeSBmaXJzdCBiZWZvcmUgcGFzc2luZyBldmVudCB0byB1c2VyIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgLy8gdXNlciBhY3Rpb25zIGFmZmVjdGluZyB0aGUgbm93IHN0YWxlIHF1ZXJ5LlxuICAgICAgICAgICAgICAgIHQuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gX19QUklWQVRFX2V2ZW50TWFuYWdlclVubGlzdGVuKGUsIG8pKSksIG4uZnJvbUNhY2hlICYmIFwic2VydmVyXCIgPT09IHIuc291cmNlID8gaS5yZWplY3QobmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsICdGYWlsZWQgdG8gZ2V0IGRvY3VtZW50cyBmcm9tIHNlcnZlci4gKEhvd2V2ZXIsIHRoZXNlIGRvY3VtZW50cyBtYXkgZXhpc3QgaW4gdGhlIGxvY2FsIGNhY2hlLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nIHNvdXJjZSB0byBcInNlcnZlclwiIHRvIHJldHJpZXZlIHRoZSBjYWNoZWQgZG9jdW1lbnRzLiknKSkgOiBpLnJlc29sdmUobik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IGUgPT4gaS5yZWplY3QoZSlcbiAgICAgICAgfSksIG8gPSBuZXcgX19QUklWQVRFX1F1ZXJ5TGlzdGVuZXIobiwgcywge1xuICAgICAgICAgICAgaW5jbHVkZU1ldGFkYXRhQ2hhbmdlczogITAsXG4gICAgICAgICAgICByYTogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyTGlzdGVuKGUsIG8pO1xuICAgIH0oYXdhaXQgX19QUklWQVRFX2dldEV2ZW50TWFuYWdlcihlKSwgZS5hc3luY1F1ZXVlLCB0LCBuLCByKSkpLCByLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRSdW5BZ2dyZWdhdGVRdWVyeShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiB7XG4gICAgICAgIC8vIEltcGxlbWVudCBhbmQgY2FsbCBleGVjdXRlQWdncmVnYXRlUXVlcnlWaWFTbmFwc2hvdExpc3RlbmVyLCBzaW1pbGFyXG4gICAgICAgIC8vIHRvIHRoZSBpbXBsZW1lbnRhdGlvbiBpbiBmaXJlc3RvcmVDbGllbnRHZXREb2N1bWVudHNWaWFTbmFwc2hvdExpc3RlbmVyXG4gICAgICAgIC8vIGFib3ZlXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBUT0RPKGIvMjc3NjI4Mzg0KTogY2hlY2sgYGNhblVzZU5ldHdvcmsoKWAgYW5kIGhhbmRsZSBtdWx0aS10YWIuXG4gICAgICAgICAgICBjb25zdCBpID0gYXdhaXQgX19QUklWQVRFX2dldERhdGFzdG9yZShlKTtcbiAgICAgICAgICAgIHIucmVzb2x2ZShhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaW52b2tlUnVuQWdncmVnYXRpb25RdWVyeVJwYyhlLCB0LCBuKSB7XG4gICAgICAgICAgICAgICAgdmFyIHI7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHtyZXF1ZXN0OiBzLCB1dDogbywgcGFyZW50OiBffSA9IF9fUFJJVkFURV90b1J1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0KGkuc2VyaWFsaXplciwgX19QUklWQVRFX3F1ZXJ5VG9BZ2dyZWdhdGVUYXJnZXQodCksIG4pO1xuICAgICAgICAgICAgICAgIGkuY29ubmVjdGlvbi5EbyB8fCBkZWxldGUgcy5wYXJlbnQ7XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IChhd2FpdCBpLnhvKFwiUnVuQWdncmVnYXRpb25RdWVyeVwiLCBpLnNlcmlhbGl6ZXIuZGF0YWJhc2VJZCwgXywgcywgXG4gICAgICAgICAgICAgICAgLypleHBlY3RlZFJlc3BvbnNlQ291bnQ9Ki8gMSkpLmZpbHRlcigoZSA9PiAhIWUucmVzdWx0KSk7XG4gICAgICAgICAgICAgICAgLy8gT21pdCBSdW5BZ2dyZWdhdGlvblF1ZXJ5UmVzcG9uc2UgdGhhdCBvbmx5IGNvbnRhaW4gcmVhZFRpbWVzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCgxID09PSBhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgLy8gUmVtYXAgdGhlIHNob3J0LWZvcm0gYWxpYXNlcyB0aGF0IHdlcmUgc2VudCB0byB0aGUgc2VydmVyXG4gICAgICAgICAgICAgICAgLy8gdG8gdGhlIGNsaWVudC1zaWRlIGFsaWFzZXMuIFVzZXJzIHdpbGwgYWNjZXNzIHRoZSByZXN1bHRzXG4gICAgICAgICAgICAgICAgLy8gdXNpbmcgdGhlIGNsaWVudC1zaWRlIGFsaWFzLlxuICAgICAgICAgICAgICAgIGNvbnN0IHUgPSBudWxsID09PSAociA9IGFbMF0ucmVzdWx0KSB8fCB2b2lkIDAgPT09IHIgPyB2b2lkIDAgOiByLmFnZ3JlZ2F0ZUZpZWxkcztcbiAgICAgICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXModSkucmVkdWNlKCgoZSwgdCkgPT4gKGVbb1t0XV0gPSB1W3RdLCBlKSksIHt9KTtcbiAgICAgICAgICAgIH0oaSwgdCwgbikpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByLnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pKSwgci5wcm9taXNlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50QWRkU25hcHNob3RzSW5TeW5jTGlzdGVuZXIoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0FzeW5jT2JzZXJ2ZXIodCk7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfYWRkU25hcHNob3RzSW5TeW5jTGlzdGVuZXIoZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLnpfLmFkZCh0KSwgXG4gICAgICAgIC8vIEltbWVkaWF0ZWx5IGZpcmUgYW4gaW5pdGlhbCBldmVudCwgaW5kaWNhdGluZyBhbGwgZXhpc3RpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIGFyZSBpbi1zeW5jLlxuICAgICAgICB0Lm5leHQoKTtcbiAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIoZSksIG4pKSksICgpID0+IHtcbiAgICAgICAgbi4kYSgpLCBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX3JlbW92ZVNuYXBzaG90c0luU3luY0xpc3RlbmVyKGUsIHQpIHtcbiAgICAgICAgICAgIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSkuel8uZGVsZXRlKHQpO1xuICAgICAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIoZSksIG4pKSk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBUYWtlcyBhbiB1cGRhdGVGdW5jdGlvbiBpbiB3aGljaCBhIHNldCBvZiByZWFkcyBhbmQgd3JpdGVzIGNhbiBiZSBwZXJmb3JtZWRcbiAqIGF0b21pY2FsbHkuIEluIHRoZSB1cGRhdGVGdW5jdGlvbiwgdGhlIGNsaWVudCBjYW4gcmVhZCBhbmQgd3JpdGUgdmFsdWVzXG4gKiB1c2luZyB0aGUgc3VwcGxpZWQgdHJhbnNhY3Rpb24gb2JqZWN0LiBBZnRlciB0aGUgdXBkYXRlRnVuY3Rpb24sIGFsbFxuICogY2hhbmdlcyB3aWxsIGJlIGNvbW1pdHRlZC4gSWYgYSByZXRyeWFibGUgZXJyb3Igb2NjdXJzIChleDogc29tZSBvdGhlclxuICogY2xpZW50IGhhcyBjaGFuZ2VkIGFueSBvZiB0aGUgZGF0YSByZWZlcmVuY2VkKSwgdGhlbiB0aGUgdXBkYXRlRnVuY3Rpb25cbiAqIHdpbGwgYmUgY2FsbGVkIGFnYWluIGFmdGVyIGEgYmFja29mZi4gSWYgdGhlIHVwZGF0ZUZ1bmN0aW9uIHN0aWxsIGZhaWxzXG4gKiBhZnRlciBhbGwgcmV0cmllcywgdGhlbiB0aGUgdHJhbnNhY3Rpb24gd2lsbCBiZSByZWplY3RlZC5cbiAqXG4gKiBUaGUgdHJhbnNhY3Rpb24gb2JqZWN0IHBhc3NlZCB0byB0aGUgdXBkYXRlRnVuY3Rpb24gY29udGFpbnMgbWV0aG9kcyBmb3JcbiAqIGFjY2Vzc2luZyBkb2N1bWVudHMgYW5kIGNvbGxlY3Rpb25zLiBVbmxpa2Ugb3RoZXIgZGF0YXN0b3JlIGFjY2VzcywgZGF0YVxuICogYWNjZXNzZWQgd2l0aCB0aGUgdHJhbnNhY3Rpb24gd2lsbCBub3QgcmVmbGVjdCBsb2NhbCBjaGFuZ2VzIHRoYXQgaGF2ZSBub3RcbiAqIGJlZW4gY29tbWl0dGVkLiBGb3IgdGhpcyByZWFzb24sIGl0IGlzIHJlcXVpcmVkIHRoYXQgYWxsIHJlYWRzIGFyZVxuICogcGVyZm9ybWVkIGJlZm9yZSBhbnkgd3JpdGVzLiBUcmFuc2FjdGlvbnMgbXVzdCBiZSBwZXJmb3JtZWQgd2hpbGUgb25saW5lLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRMb2FkQnVuZGxlKGUsIHQsIG4sIHIpIHtcbiAgICBjb25zdCBpID0gZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZUJ1bmRsZVJlYWRlcihlLCB0KSB7XG4gICAgICAgIGxldCBuO1xuICAgICAgICBuID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSA/IF9fUFJJVkFURV9uZXdUZXh0RW5jb2RlcigpLmVuY29kZShlKSA6IGU7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3QnVuZGxlUmVhZGVyKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0J1bmRsZVJlYWRlckltcGwoZSwgdCk7XG4gICAgICAgIH0oZnVuY3Rpb24gX19QUklWQVRFX3RvQnl0ZVN0cmVhbVJlYWRlcihlLCB0KSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHJldHVybiBfX1BSSVZBVEVfdG9CeXRlU3RyZWFtUmVhZGVySGVscGVyKGUsIHQpO1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgcmV0dXJuIF9fUFJJVkFURV90b0J5dGVTdHJlYW1SZWFkZXJIZWxwZXIobmV3IFVpbnQ4QXJyYXkoZSksIHQpO1xuICAgICAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbSkgcmV0dXJuIGUuZ2V0UmVhZGVyKCk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTb3VyY2Ugb2YgYHRvQnl0ZVN0cmVhbVJlYWRlcmAgaGFzIHRvIGJlIGEgQXJyYXlCdWZmZXIgb3IgUmVhZGFibGVTdHJlYW1cIik7XG4gICAgICAgIH0obiksIHQpO1xuICAgIH0obiwgX19QUklWQVRFX25ld1NlcmlhbGl6ZXIodCkpO1xuICAgIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiB7XG4gICAgICAgIF9fUFJJVkFURV9zeW5jRW5naW5lTG9hZEJ1bmRsZShhd2FpdCBfX1BSSVZBVEVfZ2V0U3luY0VuZ2luZShlKSwgaSwgcik7XG4gICAgfSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0TmFtZWRRdWVyeShlLCB0KSB7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlKChhc3luYyAoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldE5hbWVkUXVlcnkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbmFtZWQgcXVlcnlcIiwgXCJyZWFkb25seVwiLCAoZSA9PiBuLiRyLmdldE5hbWVkUXVlcnkoZSwgdCkpKTtcbiAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpLCB0KSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50U2V0SW5kZXhDb25maWd1cmF0aW9uKGUsIHQpIHtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWUoKGFzeW5jICgpID0+IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQ29uZmlndXJlRmllbGRJbmRleGVzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBuLmluZGV4TWFuYWdlciwgaSA9IFtdO1xuICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkNvbmZpZ3VyZSBpbmRleGVzXCIsIFwicmVhZHdyaXRlXCIsIChlID0+IHIuZ2V0RmllbGRJbmRleGVzKGUpLm5leHQoKG4gPT4gXG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4gICAgICAgIC8qKlxuICogQ29tcGFyZXMgdHdvIGFycmF5IGZvciBlcXVhbGl0eSB1c2luZyBjb21wYXJhdG9yLiBUaGUgbWV0aG9kIGNvbXB1dGVzIHRoZVxuICogaW50ZXJzZWN0aW9uIGFuZCBpbnZva2VzIGBvbkFkZGAgZm9yIGV2ZXJ5IGVsZW1lbnQgdGhhdCBpcyBpbiBgYWZ0ZXJgIGJ1dCBub3RcbiAqIGBiZWZvcmVgLiBgb25SZW1vdmVgIGlzIGludm9rZWQgZm9yIGV2ZXJ5IGVsZW1lbnQgaW4gYGJlZm9yZWAgYnV0IG1pc3NpbmdcbiAqIGZyb20gYGFmdGVyYC5cbiAqXG4gKiBUaGUgbWV0aG9kIGNyZWF0ZXMgYSBjb3B5IG9mIGJvdGggYGJlZm9yZWAgYW5kIGBhZnRlcmAgYW5kIHJ1bnMgaW4gTyhuIGxvZ1xuICogbiksIHdoZXJlIG4gaXMgdGhlIHNpemUgb2YgdGhlIHR3byBsaXN0cy5cbiAqXG4gKiBAcGFyYW0gYmVmb3JlIC0gVGhlIGVsZW1lbnRzIHRoYXQgZXhpc3QgaW4gdGhlIG9yaWdpbmFsIGFycmF5LlxuICogQHBhcmFtIGFmdGVyIC0gVGhlIGVsZW1lbnRzIHRvIGRpZmYgYWdhaW5zdCB0aGUgb3JpZ2luYWwgYXJyYXkuXG4gKiBAcGFyYW0gY29tcGFyYXRvciAtIFRoZSBjb21wYXJhdG9yIGZvciB0aGUgZWxlbWVudHMgaW4gYmVmb3JlIGFuZCBhZnRlci5cbiAqIEBwYXJhbSBvbkFkZCAtIEEgZnVuY3Rpb24gdG8gaW52b2tlIGZvciBldmVyeSBlbGVtZW50IHRoYXQgaXMgcGFydCBvZiBgXG4gKiBhZnRlcmAgYnV0IG5vdCBgYmVmb3JlYC5cbiAqIEBwYXJhbSBvblJlbW92ZSAtIEEgZnVuY3Rpb24gdG8gaW52b2tlIGZvciBldmVyeSBlbGVtZW50IHRoYXQgaXMgcGFydCBvZlxuICogYGJlZm9yZWAgYnV0IG5vdCBgYWZ0ZXJgLlxuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9kaWZmQXJyYXlzKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgICAgIGUgPSBbIC4uLmUgXSwgdCA9IFsgLi4udCBdLCBlLnNvcnQobiksIHQuc29ydChuKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSBlLmxlbmd0aCwgbyA9IHQubGVuZ3RoO1xuICAgICAgICAgICAgbGV0IF8gPSAwLCBhID0gMDtcbiAgICAgICAgICAgIGZvciAoO18gPCBvICYmIGEgPCBzOyApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gbihlW2FdLCB0W19dKTtcbiAgICAgICAgICAgICAgICBzIDwgMCA/IFxuICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IHdhcyByZW1vdmVkIGlmIHRoZSBuZXh0IGVsZW1lbnQgaW4gb3VyIG9yZGVyZWRcbiAgICAgICAgICAgICAgICAvLyB3YWxrdGhyb3VnaCBpcyBvbmx5IGluIGBiZWZvcmVgLlxuICAgICAgICAgICAgICAgIGkoZVthKytdKSA6IHMgPiAwID8gXG4gICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgd2FzIGFkZGVkIGlmIHRoZSBuZXh0IGVsZW1lbnQgaW4gb3VyIG9yZGVyZWQgd2Fsa3Rocm91Z2hcbiAgICAgICAgICAgICAgICAvLyBpcyBvbmx5IGluIGBhZnRlcmAuXG4gICAgICAgICAgICAgICAgcih0W18rK10pIDogKF8rKywgYSsrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoO18gPCBvOyApIHIodFtfKytdKTtcbiAgICAgICAgICAgIGZvciAoO2EgPCBzOyApIGkoZVthKytdKTtcbiAgICAgICAgfShuLCB0LCBfX1BSSVZBVEVfZmllbGRJbmRleFNlbWFudGljQ29tcGFyYXRvciwgKHQgPT4ge1xuICAgICAgICAgICAgaS5wdXNoKHIuYWRkRmllbGRJbmRleChlLCB0KSk7XG4gICAgICAgIH0pLCAodCA9PiB7XG4gICAgICAgICAgICBpLnB1c2goci5kZWxldGVGaWVsZEluZGV4KGUsIHQpKTtcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IoaSkpKSkpO1xuICAgIH0oYXdhaXQgX19QUklWQVRFX2dldExvY2FsU3RvcmUoZSksIHQpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRTZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZSwgdCkge1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVTZXRJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLnRzLlVpID0gdDtcbiAgICB9KGF3YWl0IF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpLCB0KSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGVsZXRlQWxsRmllbGRJbmRleGVzKGUpIHtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWUoKGFzeW5jICgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlRGVsZXRlQWxsRmllbGRJbmRleGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIG4gPSB0LmluZGV4TWFuYWdlcjtcbiAgICAgICAgcmV0dXJuIHQucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJEZWxldGUgQWxsIEluZGV4ZXNcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gbi5kZWxldGVBbGxGaWVsZEluZGV4ZXMoZSkpKTtcbiAgICB9XG4gICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAvLyBUaGUgZm9ybWF0IG9mIHRoZSBMb2NhbFN0b3JhZ2Uga2V5IHRoYXQgc3RvcmVzIHRoZSBjbGllbnQgc3RhdGUgaXM6XG4gICAgLy8gICAgIGZpcmVzdG9yZV9jbGllbnRzXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XzxpbnN0YW5jZV9rZXk+XG4gICAgKGF3YWl0IF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpKSkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDb21wYXJlcyB0d28gYEV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9uc2Agb2JqZWN0cyBmb3IgZXF1YWxpdHkuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBgRXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zYCB3aXRoIHRoZSBzYW1lXG4gKiBvcHRpb24gdmFsdWVzIGFzIHRoZSBnaXZlbiBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2Nsb25lTG9uZ1BvbGxpbmdPcHRpb25zKGUpIHtcbiAgICBjb25zdCB0ID0ge307XG4gICAgcmV0dXJuIHZvaWQgMCAhPT0gZS50aW1lb3V0U2Vjb25kcyAmJiAodC50aW1lb3V0U2Vjb25kcyA9IGUudGltZW91dFNlY29uZHMpLCB0O1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCB5ZSA9IG5ldyBNYXA7XG5cbi8qKlxuICogQW4gaW5zdGFuY2UgbWFwIHRoYXQgZW5zdXJlcyBvbmx5IG9uZSBEYXRhc3RvcmUgZXhpc3RzIHBlciBGaXJlc3RvcmVcbiAqIGluc3RhbmNlLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlTm9uRW1wdHlBcmd1bWVudChlLCB0LCBuKSB7XG4gICAgaWYgKCFuKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgRnVuY3Rpb24gJHtlfSgpIGNhbm5vdCBiZSBjYWxsZWQgd2l0aCBhbiBlbXB0eSAke3R9LmApO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IHR3byBib29sZWFuIG9wdGlvbnMgYXJlIG5vdCBzZXQgYXQgdGhlIHNhbWUgdGltZS5cbiAqIEBpbnRlcm5hbFxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZUlzTm90VXNlZFRvZ2V0aGVyKGUsIHQsIG4sIHIpIHtcbiAgICBpZiAoITAgPT09IHQgJiYgITAgPT09IHIpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGAke2V9IGFuZCAke259IGNhbm5vdCBiZSB1c2VkIHRvZ2V0aGVyLmApO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IGBwYXRoYCByZWZlcnMgdG8gYSBkb2N1bWVudCAoaW5kaWNhdGVkIGJ5IHRoZSBmYWN0IGl0IGNvbnRhaW5zXG4gKiBhbiBldmVuIG51bWJlcnMgb2Ygc2VnbWVudHMpLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZURvY3VtZW50UGF0aChlKSB7XG4gICAgaWYgKCFEb2N1bWVudEtleS5pc0RvY3VtZW50S2V5KGUpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBkb2N1bWVudCByZWZlcmVuY2UuIERvY3VtZW50IHJlZmVyZW5jZXMgbXVzdCBoYXZlIGFuIGV2ZW4gbnVtYmVyIG9mIHNlZ21lbnRzLCBidXQgJHtlfSBoYXMgJHtlLmxlbmd0aH0uYCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgYHBhdGhgIHJlZmVycyB0byBhIGNvbGxlY3Rpb24gKGluZGljYXRlZCBieSB0aGUgZmFjdCBpdFxuICogY29udGFpbnMgYW4gb2RkIG51bWJlcnMgb2Ygc2VnbWVudHMpLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZUNvbGxlY3Rpb25QYXRoKGUpIHtcbiAgICBpZiAoRG9jdW1lbnRLZXkuaXNEb2N1bWVudEtleShlKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgY29sbGVjdGlvbiByZWZlcmVuY2UuIENvbGxlY3Rpb24gcmVmZXJlbmNlcyBtdXN0IGhhdmUgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cywgYnV0ICR7ZX0gaGFzICR7ZS5sZW5ndGh9LmApO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBpdCdzIGEgbm9uLW51bGwgb2JqZWN0IHdpdGhvdXQgYSBjdXN0b20gcHJvdG90eXBlXG4gKiAoaS5lLiBleGNsdWRlcyBBcnJheSwgRGF0ZSwgZXRjLikuXG4gKi9cbi8qKiBSZXR1cm5zIGEgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIHR5cGUgLyB2YWx1ZSBvZiB0aGUgcHJvdmlkZWQgaW5wdXQuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmFsdWVEZXNjcmlwdGlvbihlKSB7XG4gICAgaWYgKHZvaWQgMCA9PT0gZSkgcmV0dXJuIFwidW5kZWZpbmVkXCI7XG4gICAgaWYgKG51bGwgPT09IGUpIHJldHVybiBcIm51bGxcIjtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIGUubGVuZ3RoID4gMjAgJiYgKGUgPSBgJHtlLnN1YnN0cmluZygwLCAyMCl9Li4uYCksIFxuICAgIEpTT04uc3RyaW5naWZ5KGUpO1xuICAgIGlmIChcIm51bWJlclwiID09IHR5cGVvZiBlIHx8IFwiYm9vbGVhblwiID09IHR5cGVvZiBlKSByZXR1cm4gXCJcIiArIGU7XG4gICAgaWYgKFwib2JqZWN0XCIgPT0gdHlwZW9mIGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBBcnJheSkgcmV0dXJuIFwiYW4gYXJyYXlcIjtcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgdCA9IFxuICAgICAgICAgICAgLyoqIHRyeSB0byBnZXQgdGhlIGNvbnN0cnVjdG9yIG5hbWUgZm9yIGFuIG9iamVjdC4gKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV90cnlHZXRDdXN0b21PYmplY3RUeXBlKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5jb25zdHJ1Y3RvcikgcmV0dXJuIGUuY29uc3RydWN0b3IubmFtZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogQ2FzdHMgYG9iamAgdG8gYFRgLCBvcHRpb25hbGx5IHVud3JhcHBpbmcgQ29tcGF0IHR5cGVzIHRvIGV4cG9zZSB0aGVcbiAqIHVuZGVybHlpbmcgaW5zdGFuY2UuIFRocm93cyBpZiAgYG9iamAgaXMgbm90IGFuIGluc3RhbmNlIG9mIGBUYC5cbiAqXG4gKiBUaGlzIGNhc3QgaXMgdXNlZCBpbiB0aGUgTGl0ZSBhbmQgRnVsbCBTREsgdG8gdmVyaWZ5IGluc3RhbmNlIHR5cGVzIGZvclxuICogYXJndW1lbnRzIHBhc3NlZCB0byB0aGUgcHVibGljIEFQSS5cbiAqIEBpbnRlcm5hbFxuICovIChlKTtcbiAgICAgICAgICAgIHJldHVybiB0ID8gYGEgY3VzdG9tICR7dH0gb2JqZWN0YCA6IFwiYW4gb2JqZWN0XCI7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZSA/IFwiYSBmdW5jdGlvblwiIDogZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY2FzdChlLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG50KSB7XG4gICAgaWYgKFwiX2RlbGVnYXRlXCIgaW4gZSAmJiAoXG4gICAgLy8gVW53cmFwIENvbXBhdCB0eXBlc1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgZSA9IGUuX2RlbGVnYXRlKSwgIShlIGluc3RhbmNlb2YgdCkpIHtcbiAgICAgICAgaWYgKHQubmFtZSA9PT0gZS5jb25zdHJ1Y3Rvci5uYW1lKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlR5cGUgZG9lcyBub3QgbWF0Y2ggdGhlIGV4cGVjdGVkIGluc3RhbmNlLiBEaWQgeW91IHBhc3MgYSByZWZlcmVuY2UgZnJvbSBhIGRpZmZlcmVudCBGaXJlc3RvcmUgU0RLP1wiKTtcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uKGUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEV4cGVjdGVkIHR5cGUgJyR7dC5uYW1lfScsIGJ1dCBpdCB3YXM6ICR7bn1gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlUG9zaXRpdmVOdW1iZXIoZSwgdCkge1xuICAgIGlmICh0IDw9IDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGdW5jdGlvbiAke2V9KCkgcmVxdWlyZXMgYSBwb3NpdGl2ZSBudW1iZXIsIGJ1dCBpdCB3YXM6ICR7dH0uYCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBzZXR0aW5ncygpIGRlZmF1bHRzOlxuLyoqXG4gKiBBIGNvbmNyZXRlIHR5cGUgZGVzY3JpYmluZyBhbGwgdGhlIHZhbHVlcyB0aGF0IGNhbiBiZSBhcHBsaWVkIHZpYSBhXG4gKiB1c2VyLXN1cHBsaWVkIGBGaXJlc3RvcmVTZXR0aW5nc2Agb2JqZWN0LiBUaGlzIGlzIGEgc2VwYXJhdGUgdHlwZSBzbyB0aGF0XG4gKiBkZWZhdWx0cyBjYW4gYmUgc3VwcGxpZWQgYW5kIHRoZSB2YWx1ZSBjYW4gYmUgY2hlY2tlZCBmb3IgZXF1YWxpdHkuXG4gKi9cbmNsYXNzIEZpcmVzdG9yZVNldHRpbmdzSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB2YXIgdCwgbjtcbiAgICAgICAgaWYgKHZvaWQgMCA9PT0gZS5ob3N0KSB7XG4gICAgICAgICAgICBpZiAodm9pZCAwICE9PSBlLnNzbCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJDYW4ndCBwcm92aWRlIHNzbCBvcHRpb24gaWYgaG9zdCBvcHRpb24gaXMgbm90IHNldFwiKTtcbiAgICAgICAgICAgIHRoaXMuaG9zdCA9IFwiZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tXCIsIHRoaXMuc3NsID0gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHRoaXMuaG9zdCA9IGUuaG9zdCwgdGhpcy5zc2wgPSBudWxsID09PSAodCA9IGUuc3NsKSB8fCB2b2lkIDAgPT09IHQgfHwgdDtcbiAgICAgICAgaWYgKHRoaXMuY3JlZGVudGlhbHMgPSBlLmNyZWRlbnRpYWxzLCB0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgPSAhIWUuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcywgXG4gICAgICAgIHRoaXMubG9jYWxDYWNoZSA9IGUubG9jYWxDYWNoZSwgdm9pZCAwID09PSBlLmNhY2hlU2l6ZUJ5dGVzKSB0aGlzLmNhY2hlU2l6ZUJ5dGVzID0gNDE5NDMwNDA7IGVsc2Uge1xuICAgICAgICAgICAgaWYgKC0xICE9PSBlLmNhY2hlU2l6ZUJ5dGVzICYmIGUuY2FjaGVTaXplQnl0ZXMgPCAxMDQ4NTc2KSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcImNhY2hlU2l6ZUJ5dGVzIG11c3QgYmUgYXQgbGVhc3QgMTA0ODU3NlwiKTtcbiAgICAgICAgICAgIHRoaXMuY2FjaGVTaXplQnl0ZXMgPSBlLmNhY2hlU2l6ZUJ5dGVzO1xuICAgICAgICB9XG4gICAgICAgIF9fUFJJVkFURV92YWxpZGF0ZUlzTm90VXNlZFRvZ2V0aGVyKFwiZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZ1wiLCBlLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsIFwiZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nXCIsIGUuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nKSwgXG4gICAgICAgIHRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyA9ICEhZS5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nLCB0aGlzLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcgPyB0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA9ICExIDogdm9pZCAwID09PSBlLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA/IHRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nID0gdHJ1ZSA6IFxuICAgICAgICAvLyBGb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHksIGNvZXJjZSB0aGUgdmFsdWUgdG8gYm9vbGVhbiBldmVuIHRob3VnaFxuICAgICAgICAvLyB0aGUgVHlwZVNjcmlwdCBjb21waWxlciBoYXMgbmFycm93ZWQgdGhlIHR5cGUgdG8gYm9vbGVhbiBhbHJlYWR5LlxuICAgICAgICAvLyBub2luc3BlY3Rpb24gUG9pbnRsZXNzQm9vbGVhbkV4cHJlc3Npb25KU1xuICAgICAgICB0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA9ICEhZS5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcsIFxuICAgICAgICB0aGlzLmV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9ucyA9IF9fUFJJVkFURV9jbG9uZUxvbmdQb2xsaW5nT3B0aW9ucyhudWxsICE9PSAobiA9IGUuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zKSAmJiB2b2lkIDAgIT09IG4gPyBuIDoge30pLCBcbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlTG9uZ1BvbGxpbmdPcHRpb25zKGUpIHtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUudGltZW91dFNlY29uZHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNOYU4oZS50aW1lb3V0U2Vjb25kcykpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBpbnZhbGlkIGxvbmcgcG9sbGluZyB0aW1lb3V0OiAke2UudGltZW91dFNlY29uZHN9IChtdXN0IG5vdCBiZSBOYU4pYCk7XG4gICAgICAgICAgICAgICAgaWYgKGUudGltZW91dFNlY29uZHMgPCA1KSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgaW52YWxpZCBsb25nIHBvbGxpbmcgdGltZW91dDogJHtlLnRpbWVvdXRTZWNvbmRzfSAobWluaW11bSBhbGxvd2VkIHZhbHVlIGlzIDUpYCk7XG4gICAgICAgICAgICAgICAgaWYgKGUudGltZW91dFNlY29uZHMgPiAzMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYGludmFsaWQgbG9uZyBwb2xsaW5nIHRpbWVvdXQ6ICR7ZS50aW1lb3V0U2Vjb25kc30gKG1heGltdW0gYWxsb3dlZCB2YWx1ZSBpcyAzMClgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgICAgICAvKipcbiAqIFRoZSBDbG91ZCBGaXJlc3RvcmUgc2VydmljZSBpbnRlcmZhY2UuXG4gKlxuICogRG8gbm90IGNhbGwgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gSW5zdGVhZCwgdXNlIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfS5cbiAqLyAodGhpcy5leHBlcmltZW50YWxMb25nUG9sbGluZ09wdGlvbnMpLCB0aGlzLnVzZUZldGNoU3RyZWFtcyA9ICEhZS51c2VGZXRjaFN0cmVhbXM7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5ob3N0ID09PSBlLmhvc3QgJiYgdGhpcy5zc2wgPT09IGUuc3NsICYmIHRoaXMuY3JlZGVudGlhbHMgPT09IGUuY3JlZGVudGlhbHMgJiYgdGhpcy5jYWNoZVNpemVCeXRlcyA9PT0gZS5jYWNoZVNpemVCeXRlcyAmJiB0aGlzLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcgPT09IGUuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyAmJiB0aGlzLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyA9PT0gZS5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcgJiYgZnVuY3Rpb24gX19QUklWQVRFX2xvbmdQb2xsaW5nT3B0aW9uc0VxdWFsKGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBlLnRpbWVvdXRTZWNvbmRzID09PSB0LnRpbWVvdXRTZWNvbmRzO1xuICAgICAgICB9KHRoaXMuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zLCBlLmV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9ucykgJiYgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzID09PSBlLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgJiYgdGhpcy51c2VGZXRjaFN0cmVhbXMgPT09IGUudXNlRmV0Y2hTdHJlYW1zO1xuICAgIH1cbn1cblxuY2xhc3MgRmlyZXN0b3JlJDEge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLl9hdXRoQ3JlZGVudGlhbHMgPSBlLCB0aGlzLl9hcHBDaGVja0NyZWRlbnRpYWxzID0gdCwgdGhpcy5fZGF0YWJhc2VJZCA9IG4sIFxuICAgICAgICB0aGlzLl9hcHAgPSByLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgaXQncyBhIEZpcmVzdG9yZSBvciBGaXJlc3RvcmUgTGl0ZSBpbnN0YW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwiZmlyZXN0b3JlLWxpdGVcIiwgdGhpcy5fcGVyc2lzdGVuY2VLZXkgPSBcIihsaXRlKVwiLCB0aGlzLl9zZXR0aW5ncyA9IG5ldyBGaXJlc3RvcmVTZXR0aW5nc0ltcGwoe30pLCBcbiAgICAgICAgdGhpcy5fc2V0dGluZ3NGcm96ZW4gPSAhMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSBhc3NvY2lhdGVkIHdpdGggdGhpcyBgRmlyZXN0b3JlYCBzZXJ2aWNlXG4gICAgICogaW5zdGFuY2UuXG4gICAgICovICAgIGdldCBhcHAoKSB7XG4gICAgICAgIGlmICghdGhpcy5fYXBwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkZpcmVzdG9yZSB3YXMgbm90IGluaXRpYWxpemVkIHVzaW5nIHRoZSBGaXJlYmFzZSBTREsuICdhcHAnIGlzIG5vdCBhdmFpbGFibGVcIik7XG4gICAgICAgIHJldHVybiB0aGlzLl9hcHA7XG4gICAgfVxuICAgIGdldCBfaW5pdGlhbGl6ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbjtcbiAgICB9XG4gICAgZ2V0IF90ZXJtaW5hdGVkKCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSB0aGlzLl90ZXJtaW5hdGVUYXNrO1xuICAgIH1cbiAgICBfc2V0U2V0dGluZ3MoZSkge1xuICAgICAgICBpZiAodGhpcy5fc2V0dGluZ3NGcm96ZW4pIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiRmlyZXN0b3JlIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBhbmQgaXRzIHNldHRpbmdzIGNhbiBubyBsb25nZXIgYmUgY2hhbmdlZC4gWW91IGNhbiBvbmx5IG1vZGlmeSBzZXR0aW5ncyBiZWZvcmUgY2FsbGluZyBhbnkgb3RoZXIgbWV0aG9kcyBvbiBhIEZpcmVzdG9yZSBvYmplY3QuXCIpO1xuICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IG5ldyBGaXJlc3RvcmVTZXR0aW5nc0ltcGwoZSksIHZvaWQgMCAhPT0gZS5jcmVkZW50aWFscyAmJiAodGhpcy5fYXV0aENyZWRlbnRpYWxzID0gZnVuY3Rpb24gX19QUklWQVRFX21ha2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlcihlKSB7XG4gICAgICAgICAgICBpZiAoIWUpIHJldHVybiBuZXcgX19QUklWQVRFX0VtcHR5QXV0aENyZWRlbnRpYWxzUHJvdmlkZXI7XG4gICAgICAgICAgICBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiZmlyc3RQYXJ0eVwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0ZpcnN0UGFydHlBdXRoQ3JlZGVudGlhbHNQcm92aWRlcihlLnNlc3Npb25JbmRleCB8fCBcIjBcIiwgZS5pYW1Ub2tlbiB8fCBudWxsLCBlLmF1dGhUb2tlbkZhY3RvcnkgfHwgbnVsbCk7XG5cbiAgICAgICAgICAgICAgY2FzZSBcInByb3ZpZGVyXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuY2xpZW50O1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJtYWtlQXV0aENyZWRlbnRpYWxzUHJvdmlkZXIgZmFpbGVkIGR1ZSB0byBpbnZhbGlkIGNyZWRlbnRpYWwgdHlwZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfShlLmNyZWRlbnRpYWxzKSk7XG4gICAgfVxuICAgIF9nZXRTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzO1xuICAgIH1cbiAgICBfZnJlZXplU2V0dGluZ3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5nc0Zyb3plbiA9ICEwLCB0aGlzLl9zZXR0aW5ncztcbiAgICB9XG4gICAgX2RlbGV0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rlcm1pbmF0ZVRhc2sgfHwgKHRoaXMuX3Rlcm1pbmF0ZVRhc2sgPSB0aGlzLl90ZXJtaW5hdGUoKSksIHRoaXMuX3Rlcm1pbmF0ZVRhc2s7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBgRmlyZXN0b3JlYCBpbnN0YW5jZS4gKi8gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXBwOiB0aGlzLl9hcHAsXG4gICAgICAgICAgICBkYXRhYmFzZUlkOiB0aGlzLl9kYXRhYmFzZUlkLFxuICAgICAgICAgICAgc2V0dGluZ3M6IHRoaXMuX3NldHRpbmdzXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRlcm1pbmF0ZXMgYWxsIGNvbXBvbmVudHMgdXNlZCBieSB0aGlzIGNsaWVudC4gU3ViY2xhc3NlcyBjYW4gb3ZlcnJpZGVcbiAgICAgKiB0aGlzIG1ldGhvZCB0byBjbGVhbiB1cCB0aGVpciBvd24gZGVwZW5kZW5jaWVzLCBidXQgbXVzdCBhbHNvIGNhbGwgdGhpc1xuICAgICAqIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIE9ubHkgZXZlciBjYWxsZWQgb25jZS5cbiAgICAgKi8gICAgX3Rlcm1pbmF0ZSgpIHtcbiAgICAgICAgLyoqXG4gKiBSZW1vdmVzIGFsbCBjb21wb25lbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgcHJvdmlkZWQgaW5zdGFuY2UuIE11c3QgYmUgY2FsbGVkXG4gKiB3aGVuIHRoZSBgRmlyZXN0b3JlYCBpbnN0YW5jZSBpcyB0ZXJtaW5hdGVkLlxuICovXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3ZlQ29tcG9uZW50cyhlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0geWUuZ2V0KGUpO1xuICAgICAgICAgICAgdCAmJiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiQ29tcG9uZW50UHJvdmlkZXJcIiwgXCJSZW1vdmluZyBEYXRhc3RvcmVcIiksIHllLmRlbGV0ZShlKSwgXG4gICAgICAgICAgICB0LnRlcm1pbmF0ZSgpKTtcbiAgICAgICAgfSh0aGlzKSwgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIE1vZGlmeSB0aGlzIGluc3RhbmNlIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIENsb3VkIEZpcmVzdG9yZSBlbXVsYXRvci5cbiAqXG4gKiBOb3RlOiBUaGlzIG11c3QgYmUgY2FsbGVkIGJlZm9yZSB0aGlzIGluc3RhbmNlIGhhcyBiZWVuIHVzZWQgdG8gZG8gYW55XG4gKiBvcGVyYXRpb25zLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUgYEZpcmVzdG9yZWAgaW5zdGFuY2UgdG8gY29uZmlndXJlIHRvIGNvbm5lY3QgdG8gdGhlXG4gKiBlbXVsYXRvci5cbiAqIEBwYXJhbSBob3N0IC0gdGhlIGVtdWxhdG9yIGhvc3QgKGV4OiBsb2NhbGhvc3QpLlxuICogQHBhcmFtIHBvcnQgLSB0aGUgZW11bGF0b3IgcG9ydCAoZXg6IDkwMDApLlxuICogQHBhcmFtIG9wdGlvbnMubW9ja1VzZXJUb2tlbiAtIHRoZSBtb2NrIGF1dGggdG9rZW4gdG8gdXNlIGZvciB1bml0IHRlc3RpbmdcbiAqIFNlY3VyaXR5IFJ1bGVzLlxuICovIGZ1bmN0aW9uIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcihlLCB0LCBuLCByID0ge30pIHtcbiAgICB2YXIgaTtcbiAgICBjb25zdCBzID0gKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUkMSkpLl9nZXRTZXR0aW5ncygpLCBvID0gYCR7dH06JHtufWA7XG4gICAgaWYgKFwiZmlyZXN0b3JlLmdvb2dsZWFwaXMuY29tXCIgIT09IHMuaG9zdCAmJiBzLmhvc3QgIT09IG8gJiYgX19QUklWQVRFX2xvZ1dhcm4oXCJIb3N0IGhhcyBiZWVuIHNldCBpbiBib3RoIHNldHRpbmdzKCkgYW5kIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcigpLCBlbXVsYXRvciBob3N0IHdpbGwgYmUgdXNlZC5cIiksIFxuICAgIGUuX3NldFNldHRpbmdzKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgcyksIHtcbiAgICAgICAgaG9zdDogbyxcbiAgICAgICAgc3NsOiAhMVxuICAgIH0pKSwgci5tb2NrVXNlclRva2VuKSB7XG4gICAgICAgIGxldCB0LCBuO1xuICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2Ygci5tb2NrVXNlclRva2VuKSB0ID0gci5tb2NrVXNlclRva2VuLCBuID0gVXNlci5NT0NLX1VTRVI7IGVsc2Uge1xuICAgICAgICAgICAgLy8gTGV0IGNyZWF0ZU1vY2tVc2VyVG9rZW4gdmFsaWRhdGUgZmlyc3QgKGNhdGNoZXMgY29tbW9uIG1pc3Rha2VzIGxpa2VcbiAgICAgICAgICAgIC8vIGludmFsaWQgZmllbGQgXCJ1aWRcIiBhbmQgbWlzc2luZyBmaWVsZCBcInN1YlwiIC8gXCJ1c2VyX2lkXCIuKVxuICAgICAgICAgICAgdCA9IHV0aWwuY3JlYXRlTW9ja1VzZXJUb2tlbihyLm1vY2tVc2VyVG9rZW4sIG51bGwgPT09IChpID0gZS5fYXBwKSB8fCB2b2lkIDAgPT09IGkgPyB2b2lkIDAgOiBpLm9wdGlvbnMucHJvamVjdElkKTtcbiAgICAgICAgICAgIGNvbnN0IHMgPSByLm1vY2tVc2VyVG9rZW4uc3ViIHx8IHIubW9ja1VzZXJUb2tlbi51c2VyX2lkO1xuICAgICAgICAgICAgaWYgKCFzKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIm1vY2tVc2VyVG9rZW4gbXVzdCBjb250YWluICdzdWInIG9yICd1c2VyX2lkJyBmaWVsZCFcIik7XG4gICAgICAgICAgICBuID0gbmV3IFVzZXIocyk7XG4gICAgICAgIH1cbiAgICAgICAgZS5fYXV0aENyZWRlbnRpYWxzID0gbmV3IF9fUFJJVkFURV9FbXVsYXRvckF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyKG5ldyBfX1BSSVZBVEVfT0F1dGhUb2tlbih0LCBuKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGBRdWVyeWAgcmVmZXJzIHRvIGEgcXVlcnkgd2hpY2ggeW91IGNhbiByZWFkIG9yIGxpc3RlbiB0by4gWW91IGNhbiBhbHNvXG4gKiBjb25zdHJ1Y3QgcmVmaW5lZCBgUXVlcnlgIG9iamVjdHMgYnkgYWRkaW5nIGZpbHRlcnMgYW5kIG9yZGVyaW5nLlxuICovIGNsYXNzIFF1ZXJ5IHtcbiAgICAvLyBUaGlzIGlzIHRoZSBsaXRlIHZlcnNpb24gb2YgdGhlIFF1ZXJ5IGNsYXNzIGluIHRoZSBtYWluIFNESy5cbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciBwcm90ZWN0ZWQgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCBcbiAgICAvKipcbiAgICAgKiBJZiBwcm92aWRlZCwgdGhlIGBGaXJlc3RvcmVEYXRhQ29udmVydGVyYCBhc3NvY2lhdGVkIHdpdGggdGhpcyBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICB0LCBuKSB7XG4gICAgICAgIHRoaXMuY29udmVydGVyID0gdCwgdGhpcy5fcXVlcnkgPSBuLCBcbiAgICAgICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgRmlyZXN0b3JlIHJlZmVyZW5jZS4gKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJxdWVyeVwiLCB0aGlzLmZpcmVzdG9yZSA9IGU7XG4gICAgfVxuICAgIHdpdGhDb252ZXJ0ZXIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KHRoaXMuZmlyZXN0b3JlLCBlLCB0aGlzLl9xdWVyeSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgYERvY3VtZW50UmVmZXJlbmNlYCByZWZlcnMgdG8gYSBkb2N1bWVudCBsb2NhdGlvbiBpbiBhIEZpcmVzdG9yZSBkYXRhYmFzZVxuICogYW5kIGNhbiBiZSB1c2VkIHRvIHdyaXRlLCByZWFkLCBvciBsaXN0ZW4gdG8gdGhlIGxvY2F0aW9uLiBUaGUgZG9jdW1lbnQgYXRcbiAqIHRoZSByZWZlcmVuY2VkIGxvY2F0aW9uIG1heSBvciBtYXkgbm90IGV4aXN0LlxuICovIGNsYXNzIERvY3VtZW50UmVmZXJlbmNlIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIFxuICAgIC8qKlxuICAgICAqIElmIHByb3ZpZGVkLCB0aGUgYEZpcmVzdG9yZURhdGFDb252ZXJ0ZXJgIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGluc3RhbmNlLlxuICAgICAqL1xuICAgIHQsIG4pIHtcbiAgICAgICAgdGhpcy5jb252ZXJ0ZXIgPSB0LCB0aGlzLl9rZXkgPSBuLCBcbiAgICAgICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgRmlyZXN0b3JlIHJlZmVyZW5jZS4gKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJkb2N1bWVudFwiLCB0aGlzLmZpcmVzdG9yZSA9IGU7XG4gICAgfVxuICAgIGdldCBfcGF0aCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleS5wYXRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgZG9jdW1lbnQncyBpZGVudGlmaWVyIHdpdGhpbiBpdHMgY29sbGVjdGlvbi5cbiAgICAgKi8gICAgZ2V0IGlkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5LnBhdGgubGFzdFNlZ21lbnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBwYXRoIG9mIHRoZSByZWZlcmVuY2VkIGRvY3VtZW50IChyZWxhdGl2ZVxuICAgICAqIHRvIHRoZSByb290IG9mIHRoZSBkYXRhYmFzZSkuXG4gICAgICovICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5LnBhdGguY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBjb2xsZWN0aW9uIHRoaXMgYERvY3VtZW50UmVmZXJlbmNlYCBiZWxvbmdzIHRvLlxuICAgICAqLyAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb25SZWZlcmVuY2UodGhpcy5maXJlc3RvcmUsIHRoaXMuY29udmVydGVyLCB0aGlzLl9rZXkucGF0aC5wb3BMYXN0KCkpO1xuICAgIH1cbiAgICB3aXRoQ29udmVydGVyKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudFJlZmVyZW5jZSh0aGlzLmZpcmVzdG9yZSwgZSwgdGhpcy5fa2V5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBgQ29sbGVjdGlvblJlZmVyZW5jZWAgb2JqZWN0IGNhbiBiZSB1c2VkIGZvciBhZGRpbmcgZG9jdW1lbnRzLCBnZXR0aW5nXG4gKiBkb2N1bWVudCByZWZlcmVuY2VzLCBhbmQgcXVlcnlpbmcgZm9yIGRvY3VtZW50cyAodXNpbmcge0BsaW5rIChxdWVyeToxKX0pLlxuICovIGNsYXNzIENvbGxlY3Rpb25SZWZlcmVuY2UgZXh0ZW5kcyBRdWVyeSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKGUsIHQsIF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgobikpLCB0aGlzLl9wYXRoID0gbiwgXG4gICAgICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIEZpcmVzdG9yZSByZWZlcmVuY2UuICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwiY29sbGVjdGlvblwiO1xuICAgIH1cbiAgICAvKiogVGhlIGNvbGxlY3Rpb24ncyBpZGVudGlmaWVyLiAqLyAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWVyeS5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgcGF0aCBvZiB0aGUgcmVmZXJlbmNlZCBjb2xsZWN0aW9uIChyZWxhdGl2ZVxuICAgICAqIHRvIHRoZSByb290IG9mIHRoZSBkYXRhYmFzZSkuXG4gICAgICovICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVlcnkucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGNvbnRhaW5pbmcgYERvY3VtZW50UmVmZXJlbmNlYCBpZiB0aGlzIGlzIGFcbiAgICAgKiBzdWJjb2xsZWN0aW9uLiBJZiB0aGlzIGlzbid0IGEgc3ViY29sbGVjdGlvbiwgdGhlIHJlZmVyZW5jZSBpcyBudWxsLlxuICAgICAqLyAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5fcGF0aC5wb3BMYXN0KCk7XG4gICAgICAgIHJldHVybiBlLmlzRW1wdHkoKSA/IG51bGwgOiBuZXcgRG9jdW1lbnRSZWZlcmVuY2UodGhpcy5maXJlc3RvcmUsIFxuICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIG5ldyBEb2N1bWVudEtleShlKSk7XG4gICAgfVxuICAgIHdpdGhDb252ZXJ0ZXIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IENvbGxlY3Rpb25SZWZlcmVuY2UodGhpcy5maXJlc3RvcmUsIGUsIHRoaXMuX3BhdGgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29sbGVjdGlvbihlLCB0LCAuLi5uKSB7XG4gICAgaWYgKGUgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShlKSwgX19QUklWQVRFX3ZhbGlkYXRlTm9uRW1wdHlBcmd1bWVudChcImNvbGxlY3Rpb25cIiwgXCJwYXRoXCIsIHQpLCBlIGluc3RhbmNlb2YgRmlyZXN0b3JlJDEpIHtcbiAgICAgICAgY29uc3QgciA9IFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKHQsIC4uLm4pO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ZhbGlkYXRlQ29sbGVjdGlvblBhdGgociksIG5ldyBDb2xsZWN0aW9uUmVmZXJlbmNlKGUsIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgcik7XG4gICAgfVxuICAgIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIERvY3VtZW50UmVmZXJlbmNlIHx8IGUgaW5zdGFuY2VvZiBDb2xsZWN0aW9uUmVmZXJlbmNlKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBjb2xsZWN0aW9uKCkgdG8gYmUgYSBDb2xsZWN0aW9uUmVmZXJlbmNlLCBhIERvY3VtZW50UmVmZXJlbmNlIG9yIEZpcmViYXNlRmlyZXN0b3JlXCIpO1xuICAgICAgICBjb25zdCByID0gZS5fcGF0aC5jaGlsZChSZXNvdXJjZVBhdGguZnJvbVN0cmluZyh0LCAuLi5uKSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVDb2xsZWN0aW9uUGF0aChyKSwgbmV3IENvbGxlY3Rpb25SZWZlcmVuY2UoZS5maXJlc3RvcmUsIFxuICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIHIpO1xuICAgIH1cbn1cblxuLy8gVE9ETyhmaXJlc3RvcmVsaXRlKTogQ29uc2lkZXIgdXNpbmcgRXJyb3JGYWN0b3J5IC1cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvYmxvYi8wMTMxZTFmL3BhY2thZ2VzL3V0aWwvc3JjL2Vycm9ycy50cyNMMTA2XG4vKipcbiAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcgYFF1ZXJ5YCBpbnN0YW5jZSB0aGF0IGluY2x1ZGVzIGFsbCBkb2N1bWVudHMgaW4gdGhlXG4gKiBkYXRhYmFzZSB0aGF0IGFyZSBjb250YWluZWQgaW4gYSBjb2xsZWN0aW9uIG9yIHN1YmNvbGxlY3Rpb24gd2l0aCB0aGVcbiAqIGdpdmVuIGBjb2xsZWN0aW9uSWRgLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBBIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBgRmlyZXN0b3JlYCBpbnN0YW5jZS5cbiAqIEBwYXJhbSBjb2xsZWN0aW9uSWQgLSBJZGVudGlmaWVzIHRoZSBjb2xsZWN0aW9ucyB0byBxdWVyeSBvdmVyLiBFdmVyeVxuICogY29sbGVjdGlvbiBvciBzdWJjb2xsZWN0aW9uIHdpdGggdGhpcyBJRCBhcyB0aGUgbGFzdCBzZWdtZW50IG9mIGl0cyBwYXRoXG4gKiB3aWxsIGJlIGluY2x1ZGVkLiBDYW5ub3QgY29udGFpbiBhIHNsYXNoLlxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQgYFF1ZXJ5YC5cbiAqLyBmdW5jdGlvbiBjb2xsZWN0aW9uR3JvdXAoZSwgdCkge1xuICAgIGlmIChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlJDEpLCBfX1BSSVZBVEVfdmFsaWRhdGVOb25FbXB0eUFyZ3VtZW50KFwiY29sbGVjdGlvbkdyb3VwXCIsIFwiY29sbGVjdGlvbiBpZFwiLCB0KSwgXG4gICAgdC5pbmRleE9mKFwiL1wiKSA+PSAwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBjb2xsZWN0aW9uIElEICcke3R9JyBwYXNzZWQgdG8gZnVuY3Rpb24gY29sbGVjdGlvbkdyb3VwKCkuIENvbGxlY3Rpb24gSURzIG11c3Qgbm90IGNvbnRhaW4gJy8nLmApO1xuICAgIHJldHVybiBuZXcgUXVlcnkoZSwgXG4gICAgLyogY29udmVydGVyPSAqLyBudWxsLCBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnlGb3JDb2xsZWN0aW9uR3JvdXAoZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9RdWVyeUltcGwoUmVzb3VyY2VQYXRoLmVtcHR5UGF0aCgpLCBlKTtcbiAgICB9KHQpKTtcbn1cblxuZnVuY3Rpb24gZG9jKGUsIHQsIC4uLm4pIHtcbiAgICBpZiAoZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpLCBcbiAgICAvLyBXZSBhbGxvdyBvbWlzc2lvbiBvZiAncGF0aFN0cmluZycgYnV0IGV4cGxpY2l0bHkgcHJvaGliaXQgcGFzc2luZyBpbiBib3RoXG4gICAgLy8gJ3VuZGVmaW5lZCcgYW5kICdudWxsJy5cbiAgICAxID09PSBhcmd1bWVudHMubGVuZ3RoICYmICh0ID0gX19QUklWQVRFX0F1dG9JZC5uZXdJZCgpKSwgX19QUklWQVRFX3ZhbGlkYXRlTm9uRW1wdHlBcmd1bWVudChcImRvY1wiLCBcInBhdGhcIiwgdCksIFxuICAgIGUgaW5zdGFuY2VvZiBGaXJlc3RvcmUkMSkge1xuICAgICAgICBjb25zdCByID0gUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcodCwgLi4ubik7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVEb2N1bWVudFBhdGgociksIG5ldyBEb2N1bWVudFJlZmVyZW5jZShlLCBcbiAgICAgICAgLyogY29udmVydGVyPSAqLyBudWxsLCBuZXcgRG9jdW1lbnRLZXkocikpO1xuICAgIH1cbiAgICB7XG4gICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSB8fCBlIGluc3RhbmNlb2YgQ29sbGVjdGlvblJlZmVyZW5jZSkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiRXhwZWN0ZWQgZmlyc3QgYXJndW1lbnQgdG8gY29sbGVjdGlvbigpIHRvIGJlIGEgQ29sbGVjdGlvblJlZmVyZW5jZSwgYSBEb2N1bWVudFJlZmVyZW5jZSBvciBGaXJlYmFzZUZpcmVzdG9yZVwiKTtcbiAgICAgICAgY29uc3QgciA9IGUuX3BhdGguY2hpbGQoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcodCwgLi4ubikpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ZhbGlkYXRlRG9jdW1lbnRQYXRoKHIpLCBuZXcgRG9jdW1lbnRSZWZlcmVuY2UoZS5maXJlc3RvcmUsIGUgaW5zdGFuY2VvZiBDb2xsZWN0aW9uUmVmZXJlbmNlID8gZS5jb252ZXJ0ZXIgOiBudWxsLCBuZXcgRG9jdW1lbnRLZXkocikpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIHJlZmVyZW5jZXMgYXJlIGVxdWFsLlxuICpcbiAqIEBwYXJhbSBsZWZ0IC0gQSByZWZlcmVuY2UgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSByaWdodCAtIEEgcmVmZXJlbmNlIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSByZWZlcmVuY2VzIHBvaW50IHRvIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBzYW1lXG4gKiBGaXJlc3RvcmUgZGF0YWJhc2UuXG4gKi8gZnVuY3Rpb24gcmVmRXF1YWwoZSwgdCkge1xuICAgIHJldHVybiBlID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UoZSksIHQgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZSh0KSwgKGUgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSB8fCBlIGluc3RhbmNlb2YgQ29sbGVjdGlvblJlZmVyZW5jZSkgJiYgKHQgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSB8fCB0IGluc3RhbmNlb2YgQ29sbGVjdGlvblJlZmVyZW5jZSkgJiYgKGUuZmlyZXN0b3JlID09PSB0LmZpcmVzdG9yZSAmJiBlLnBhdGggPT09IHQucGF0aCAmJiBlLmNvbnZlcnRlciA9PT0gdC5jb252ZXJ0ZXIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgcXVlcmllcyBwb2ludCB0byB0aGUgc2FtZSBjb2xsZWN0aW9uIGFuZCBhcHBseVxuICogdGhlIHNhbWUgY29uc3RyYWludHMuXG4gKlxuICogQHBhcmFtIGxlZnQgLSBBIGBRdWVyeWAgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSByaWdodCAtIEEgYFF1ZXJ5YCB0byBjb21wYXJlLlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmVmZXJlbmNlcyBwb2ludCB0byB0aGUgc2FtZSBsb2NhdGlvbiBpbiB0aGUgc2FtZVxuICogRmlyZXN0b3JlIGRhdGFiYXNlLlxuICovIGZ1bmN0aW9uIHF1ZXJ5RXF1YWwoZSwgdCkge1xuICAgIHJldHVybiBlID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UoZSksIHQgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZSh0KSwgZSBpbnN0YW5jZW9mIFF1ZXJ5ICYmIHQgaW5zdGFuY2VvZiBRdWVyeSAmJiAoZS5maXJlc3RvcmUgPT09IHQuZmlyZXN0b3JlICYmIF9fUFJJVkFURV9xdWVyeUVxdWFscyhlLl9xdWVyeSwgdC5fcXVlcnkpICYmIGUuY29udmVydGVyID09PSB0LmNvbnZlcnRlcik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9Bc3luY1F1ZXVlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIFRoZSBsYXN0IHByb21pc2UgaW4gdGhlIHF1ZXVlLlxuICAgICAgICB0aGlzLml1ID0gUHJvbWlzZS5yZXNvbHZlKCksIFxuICAgICAgICAvLyBBIGxpc3Qgb2YgcmV0cnlhYmxlIG9wZXJhdGlvbnMuIFJldHJ5YWJsZSBvcGVyYXRpb25zIGFyZSBydW4gaW4gb3JkZXIgYW5kXG4gICAgICAgIC8vIHJldHJpZWQgd2l0aCBiYWNrb2ZmLlxuICAgICAgICB0aGlzLnN1ID0gW10sIFxuICAgICAgICAvLyBJcyB0aGlzIEFzeW5jUXVldWUgYmVpbmcgc2h1dCBkb3duPyBPbmNlIGl0IGlzIHNldCB0byB0cnVlLCBpdCB3aWxsIG5vdFxuICAgICAgICAvLyBiZSBjaGFuZ2VkIGFnYWluLlxuICAgICAgICB0aGlzLm91ID0gITEsIFxuICAgICAgICAvLyBPcGVyYXRpb25zIHNjaGVkdWxlZCB0byBiZSBxdWV1ZWQgaW4gdGhlIGZ1dHVyZS4gT3BlcmF0aW9ucyBhcmVcbiAgICAgICAgLy8gYXV0b21hdGljYWxseSByZW1vdmVkIGFmdGVyIHRoZXkgYXJlIHJ1biBvciBjYW5jZWxlZC5cbiAgICAgICAgdGhpcy5fdSA9IFtdLCBcbiAgICAgICAgLy8gdmlzaWJsZSBmb3IgdGVzdGluZ1xuICAgICAgICB0aGlzLmF1ID0gbnVsbCwgXG4gICAgICAgIC8vIEZsYWcgc2V0IHdoaWxlIHRoZXJlJ3MgYW4gb3V0c3RhbmRpbmcgQXN5bmNRdWV1ZSBvcGVyYXRpb24sIHVzZWQgZm9yXG4gICAgICAgIC8vIGFzc2VydGlvbiBzYW5pdHktY2hlY2tzLlxuICAgICAgICB0aGlzLnV1ID0gITEsIFxuICAgICAgICAvLyBFbmFibGVkIGR1cmluZyBzaHV0ZG93biBvbiBTYWZhcmkgdG8gcHJldmVudCBmdXR1cmUgYWNjZXNzIHRvIEluZGV4ZWREQi5cbiAgICAgICAgdGhpcy5jdSA9ICExLCBcbiAgICAgICAgLy8gTGlzdCBvZiBUaW1lcklkcyB0byBmYXN0LWZvcndhcmQgZGVsYXlzIGZvci5cbiAgICAgICAgdGhpcy5sdSA9IFtdLCBcbiAgICAgICAgLy8gQmFja29mZiB0aW1lciB1c2VkIHRvIHNjaGVkdWxlIHJldHJpZXMgZm9yIHJldHJ5YWJsZSBvcGVyYXRpb25zXG4gICAgICAgIHRoaXMuWW8gPSBuZXcgX19QUklWQVRFX0V4cG9uZW50aWFsQmFja29mZih0aGlzLCBcImFzeW5jX3F1ZXVlX3JldHJ5XCIgLyogVGltZXJJZC5Bc3luY1F1ZXVlUmV0cnkgKi8pLCBcbiAgICAgICAgLy8gVmlzaWJpbGl0eSBoYW5kbGVyIHRoYXQgdHJpZ2dlcnMgYW4gaW1tZWRpYXRlIHJldHJ5IG9mIGFsbCByZXRyeWFibGVcbiAgICAgICAgLy8gb3BlcmF0aW9ucy4gTWVhbnQgdG8gc3BlZWQgdXAgcmVjb3Zlcnkgd2hlbiB3ZSByZWdhaW4gZmlsZSBzeXN0ZW0gYWNjZXNzXG4gICAgICAgIC8vIGFmdGVyIHBhZ2UgY29tZXMgaW50byBmb3JlZ3JvdW5kLlxuICAgICAgICB0aGlzLmh1ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IGdldERvY3VtZW50KCk7XG4gICAgICAgICAgICBlICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkFzeW5jUXVldWVcIiwgXCJWaXNpYmlsaXR5IHN0YXRlIGNoYW5nZWQgdG8gXCIgKyBlLnZpc2liaWxpdHlTdGF0ZSksIFxuICAgICAgICAgICAgdGhpcy5Zby5XbygpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgZSAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIGUuYWRkRXZlbnRMaXN0ZW5lciAmJiBlLmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMuaHUpO1xuICAgIH1cbiAgICBnZXQgaXNTaHV0dGluZ0Rvd24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm91O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IG9wZXJhdGlvbiB0byB0aGUgcXVldWUgd2l0aG91dCB3YWl0aW5nIGZvciBpdCB0byBjb21wbGV0ZSAoaS5lLlxuICAgICAqIHdlIGlnbm9yZSB0aGUgUHJvbWlzZSByZXN1bHQpLlxuICAgICAqLyAgICBlbnF1ZXVlQW5kRm9yZ2V0KGUpIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB0aGlzLmVucXVldWUoZSk7XG4gICAgfVxuICAgIGVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKGUpIHtcbiAgICAgICAgdGhpcy5QdSgpLCBcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICB0aGlzLkl1KGUpO1xuICAgIH1cbiAgICBlbnRlclJlc3RyaWN0ZWRNb2RlKGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLm91KSB7XG4gICAgICAgICAgICB0aGlzLm91ID0gITAsIHRoaXMuY3UgPSBlIHx8ICExO1xuICAgICAgICAgICAgY29uc3QgdCA9IGdldERvY3VtZW50KCk7XG4gICAgICAgICAgICB0ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdC5yZW1vdmVFdmVudExpc3RlbmVyICYmIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5odSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZW5xdWV1ZShlKSB7XG4gICAgICAgIGlmICh0aGlzLlB1KCksIHRoaXMub3UpIFxuICAgICAgICAvLyBSZXR1cm4gYSBQcm9taXNlIHdoaWNoIG5ldmVyIHJlc29sdmVzLlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKCgpID0+IHt9KSk7XG4gICAgICAgIC8vIENyZWF0ZSBhIGRlZmVycmVkIFByb21pc2UgdGhhdCB3ZSBjYW4gcmV0dXJuIHRvIHRoZSBjYWxsZWUuIFRoaXNcbiAgICAgICAgLy8gYWxsb3dzIHVzIHRvIHJldHVybiBhIFwiaGFuZ2luZyBQcm9taXNlXCIgb25seSB0byB0aGUgY2FsbGVlIGFuZCBzdGlsbFxuICAgICAgICAvLyBhZHZhbmNlIHRoZSBxdWV1ZSBldmVuIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBub3QgcnVuLlxuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5JdSgoKCkgPT4gdGhpcy5vdSAmJiB0aGlzLmN1ID8gUHJvbWlzZS5yZXNvbHZlKCkgOiAoZSgpLnRoZW4odC5yZXNvbHZlLCB0LnJlamVjdCksIFxuICAgICAgICB0LnByb21pc2UpKSkudGhlbigoKCkgPT4gdC5wcm9taXNlKSk7XG4gICAgfVxuICAgIGVucXVldWVSZXRyeWFibGUoZSkge1xuICAgICAgICB0aGlzLmVucXVldWVBbmRGb3JnZXQoKCgpID0+ICh0aGlzLnN1LnB1c2goZSksIHRoaXMuVHUoKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUnVucyB0aGUgbmV4dCBvcGVyYXRpb24gZnJvbSB0aGUgcmV0cnlhYmxlIHF1ZXVlLiBJZiB0aGUgb3BlcmF0aW9uIGZhaWxzLFxuICAgICAqIHJlc2NoZWR1bGVzIHdpdGggYmFja29mZi5cbiAgICAgKi8gICAgYXN5bmMgVHUoKSB7XG4gICAgICAgIGlmICgwICE9PSB0aGlzLnN1Lmxlbmd0aCkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnN1WzBdKCksIHRoaXMuc3Uuc2hpZnQoKSwgdGhpcy5Zby5yZXNldCgpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmICghX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcihlKSkgdGhyb3cgZTtcbiAvLyBGYWlsdXJlIHdpbGwgYmUgaGFuZGxlZCBieSBBc3luY1F1ZXVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkFzeW5jUXVldWVcIiwgXCJPcGVyYXRpb24gZmFpbGVkIHdpdGggcmV0cnlhYmxlIGVycm9yOiBcIiArIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zdS5sZW5ndGggPiAwICYmIFxuICAgICAgICAgICAgLy8gSWYgdGhlcmUgYXJlIGFkZGl0aW9uYWwgb3BlcmF0aW9ucywgd2UgcmUtc2NoZWR1bGUgYHJldHJ5TmV4dE9wKClgLlxuICAgICAgICAgICAgLy8gVGhpcyBpcyBuZWNlc3NhcnkgdG8gcnVuIHJldHJ5YWJsZSBvcGVyYXRpb25zIHRoYXQgZmFpbGVkIGR1cmluZ1xuICAgICAgICAgICAgLy8gdGhlaXIgaW5pdGlhbCBhdHRlbXB0IHNpbmNlIHdlIGRvbid0IGtub3cgd2hldGhlciB0aGV5IGFyZSBhbHJlYWR5XG4gICAgICAgICAgICAvLyBlbnF1ZXVlZC4gSWYsIGZvciBleGFtcGxlLCBgb3AxYCwgYG9wMmAsIGBvcDNgIGFyZSBlbnF1ZXVlZCBhbmQgYG9wMWBcbiAgICAgICAgICAgIC8vIG5lZWRzIHRvICBiZSByZS1ydW4sIHdlIHdpbGwgcnVuIGBvcDFgLCBgb3AxYCwgYG9wMmAgdXNpbmcgdGhlXG4gICAgICAgICAgICAvLyBhbHJlYWR5IGVucXVldWVkIGNhbGxzIHRvIGByZXRyeU5leHRPcCgpYC4gYG9wMygpYCB3aWxsIHRoZW4gcnVuIGluIHRoZVxuICAgICAgICAgICAgLy8gY2FsbCBzY2hlZHVsZWQgaGVyZS5cbiAgICAgICAgICAgIC8vIFNpbmNlIGBiYWNrb2ZmQW5kUnVuKClgIGNhbmNlbHMgYW4gZXhpc3RpbmcgYmFja29mZiBhbmQgc2NoZWR1bGVzIGFcbiAgICAgICAgICAgIC8vIG5ldyBiYWNrb2ZmIG9uIGV2ZXJ5IGNhbGwsIHRoZXJlIGlzIG9ubHkgZXZlciBhIHNpbmdsZSBhZGRpdGlvbmFsXG4gICAgICAgICAgICAvLyBvcGVyYXRpb24gaW4gdGhlIHF1ZXVlLlxuICAgICAgICAgICAgdGhpcy5Zby4kbygoKCkgPT4gdGhpcy5UdSgpKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgSXUoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5pdS50aGVuKCgoKSA9PiAodGhpcy51dSA9ICEwLCBlKCkuY2F0Y2goKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5hdSA9IGUsIHRoaXMudXUgPSAhMTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBcbiAgICAgICAgICAgIC8qKlxuICogQ2hyb21lIGluY2x1ZGVzIEVycm9yLm1lc3NhZ2UgaW4gRXJyb3Iuc3RhY2suIE90aGVyIGJyb3dzZXJzIGRvIG5vdC5cbiAqIFRoaXMgcmV0dXJucyBleHBlY3RlZCBvdXRwdXQgb2YgbWVzc2FnZSArIHN0YWNrIHdoZW4gYXZhaWxhYmxlLlxuICogQHBhcmFtIGVycm9yIC0gRXJyb3Igb3IgRmlyZXN0b3JlRXJyb3JcbiAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2dldE1lc3NhZ2VPclN0YWNrKGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IGUubWVzc2FnZSB8fCBcIlwiO1xuICAgICAgICAgICAgICAgIGUuc3RhY2sgJiYgKHQgPSBlLnN0YWNrLmluY2x1ZGVzKGUubWVzc2FnZSkgPyBlLnN0YWNrIDogZS5tZXNzYWdlICsgXCJcXG5cIiArIGUuc3RhY2spO1xuICAgICAgICAgICAgICAgIHJldHVybiB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gKGUpO1xuICAgICAgICAgICAgLy8gUmUtdGhyb3cgdGhlIGVycm9yIHNvIHRoYXQgdGhpcy50YWlsIGJlY29tZXMgYSByZWplY3RlZCBQcm9taXNlIGFuZFxuICAgICAgICAgICAgLy8gYWxsIGZ1cnRoZXIgYXR0ZW1wdHMgdG8gY2hhaW4gKHZpYSAudGhlbikgd2lsbCBqdXN0IHNob3J0LWNpcmN1aXRcbiAgICAgICAgICAgIC8vIGFuZCByZXR1cm4gdGhlIHJlamVjdGVkIFByb21pc2UuXG4gICAgICAgICAgICB0aHJvdyBfX1BSSVZBVEVfbG9nRXJyb3IoXCJJTlRFUk5BTCBVTkhBTkRMRUQgRVJST1I6IFwiLCB0KSwgZTtcbiAgICAgICAgfSkpLnRoZW4oKGUgPT4gKHRoaXMudXUgPSAhMSwgZSkpKSkpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXUgPSB0LCB0O1xuICAgIH1cbiAgICBlbnF1ZXVlQWZ0ZXJEZWxheShlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuUHUoKSwgXG4gICAgICAgIC8vIEZhc3QtZm9yd2FyZCBkZWxheXMgZm9yIHRpbWVySWRzIHRoYXQgaGF2ZSBiZWVuIG92ZXJyaWRlbi5cbiAgICAgICAgdGhpcy5sdS5pbmRleE9mKGUpID4gLTEgJiYgKHQgPSAwKTtcbiAgICAgICAgY29uc3QgciA9IERlbGF5ZWRPcGVyYXRpb24uY3JlYXRlQW5kU2NoZWR1bGUodGhpcywgZSwgdCwgbiwgKGUgPT4gdGhpcy5FdShlKSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdS5wdXNoKHIpLCByO1xuICAgIH1cbiAgICBQdSgpIHtcbiAgICAgICAgdGhpcy5hdSAmJiBmYWlsKCk7XG4gICAgfVxuICAgIHZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MoKSB7fVxuICAgIC8qKlxuICAgICAqIFdhaXRzIHVudGlsIGFsbCBjdXJyZW50bHkgcXVldWVkIHRhc2tzIGFyZSBmaW5pc2hlZCBleGVjdXRpbmcuIERlbGF5ZWRcbiAgICAgKiBvcGVyYXRpb25zIGFyZSBub3QgcnVuLlxuICAgICAqLyAgICBhc3luYyBkdSgpIHtcbiAgICAgICAgLy8gT3BlcmF0aW9ucyBpbiB0aGUgcXVldWUgcHJpb3IgdG8gZHJhaW5pbmcgbWF5IGhhdmUgZW5xdWV1ZWQgYWRkaXRpb25hbFxuICAgICAgICAvLyBvcGVyYXRpb25zLiBLZWVwIGRyYWluaW5nIHRoZSBxdWV1ZSB1bnRpbCB0aGUgdGFpbCBpcyBubyBsb25nZXIgYWR2YW5jZWQsXG4gICAgICAgIC8vIHdoaWNoIGluZGljYXRlcyB0aGF0IG5vIG1vcmUgbmV3IG9wZXJhdGlvbnMgd2VyZSBlbnF1ZXVlZCBhbmQgdGhhdCBhbGxcbiAgICAgICAgLy8gb3BlcmF0aW9ucyB3ZXJlIGV4ZWN1dGVkLlxuICAgICAgICBsZXQgZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgZSA9IHRoaXMuaXUsIGF3YWl0IGU7XG4gICAgICAgIH0gd2hpbGUgKGUgIT09IHRoaXMuaXUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgVGVzdHM6IERldGVybWluZSBpZiBhIGRlbGF5ZWQgb3BlcmF0aW9uIHdpdGggYSBwYXJ0aWN1bGFyIFRpbWVySWRcbiAgICAgKiBleGlzdHMuXG4gICAgICovICAgIEF1KGUpIHtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIHRoaXMuX3UpIGlmICh0LnRpbWVySWQgPT09IGUpIHJldHVybiAhMDtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgVGVzdHM6IFJ1bnMgc29tZSBvciBhbGwgZGVsYXllZCBvcGVyYXRpb25zIGVhcmx5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGxhc3RUaW1lcklkIC0gRGVsYXllZCBvcGVyYXRpb25zIHVwIHRvIGFuZCBpbmNsdWRpbmcgdGhpcyBUaW1lcklkXG4gICAgICogd2lsbCBiZSBkcmFpbmVkLiBQYXNzIFRpbWVySWQuQWxsIHRvIHJ1biBhbGwgZGVsYXllZCBvcGVyYXRpb25zLlxuICAgICAqIEByZXR1cm5zIGEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIG9uY2UgYWxsIG9wZXJhdGlvbnMgaGF2ZSBiZWVuIHJ1bi5cbiAgICAgKi8gICAgUnUoZSkge1xuICAgICAgICAvLyBOb3RlIHRoYXQgZHJhaW5pbmcgbWF5IGdlbmVyYXRlIG1vcmUgZGVsYXllZCBvcHMsIHNvIHdlIGRvIHRoYXQgZmlyc3QuXG4gICAgICAgIHJldHVybiB0aGlzLmR1KCkudGhlbigoKCkgPT4ge1xuICAgICAgICAgICAgLy8gUnVuIG9wcyBpbiB0aGUgc2FtZSBvcmRlciB0aGV5J2QgcnVuIGlmIHRoZXkgcmFuIG5hdHVyYWxseS5cbiAgICAgICAgICAgIHRoaXMuX3Uuc29ydCgoKGUsIHQpID0+IGUudGFyZ2V0VGltZU1zIC0gdC50YXJnZXRUaW1lTXMpKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLl91KSBpZiAodC5za2lwRGVsYXkoKSwgXCJhbGxcIiAvKiBUaW1lcklkLkFsbCAqLyAhPT0gZSAmJiB0LnRpbWVySWQgPT09IGUpIGJyZWFrO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZHUoKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgVGVzdHM6IFNraXAgYWxsIHN1YnNlcXVlbnQgZGVsYXlzIGZvciBhIHRpbWVyIGlkLlxuICAgICAqLyAgICBWdShlKSB7XG4gICAgICAgIHRoaXMubHUucHVzaChlKTtcbiAgICB9XG4gICAgLyoqIENhbGxlZCBvbmNlIGEgRGVsYXllZE9wZXJhdGlvbiBpcyBydW4gb3IgY2FuY2VsZWQuICovICAgIEV1KGUpIHtcbiAgICAgICAgLy8gTk9URTogaW5kZXhPZiAvIHNsaWNlIGFyZSBPKG4pLCBidXQgZGVsYXllZE9wZXJhdGlvbnMgaXMgZXhwZWN0ZWQgdG8gYmUgc21hbGwuXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLl91LmluZGV4T2YoZSk7XG4gICAgICAgIHRoaXMuX3Uuc3BsaWNlKHQsIDEpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2lzUGFydGlhbE9ic2VydmVyKGUpIHtcbiAgICAvKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBvYmogaXMgYW4gb2JqZWN0IGFuZCBjb250YWlucyBhdCBsZWFzdCBvbmUgb2YgdGhlIHNwZWNpZmllZFxuICogbWV0aG9kcy5cbiAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfaW1wbGVtZW50c0FueU1ldGhvZHMoZSwgdCkge1xuICAgICAgICBpZiAoXCJvYmplY3RcIiAhPSB0eXBlb2YgZSB8fCBudWxsID09PSBlKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IG4gPSBlO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdCkgaWYgKGUgaW4gbiAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIG5bZV0pIHJldHVybiAhMDtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgIC8qKlxuICogUmVwcmVzZW50cyB0aGUgdGFzayBvZiBsb2FkaW5nIGEgRmlyZXN0b3JlIGJ1bmRsZS4gSXQgcHJvdmlkZXMgcHJvZ3Jlc3Mgb2YgYnVuZGxlXG4gKiBsb2FkaW5nLCBhcyB3ZWxsIGFzIHRhc2sgY29tcGxldGlvbiBhbmQgZXJyb3IgZXZlbnRzLlxuICpcbiAqIFRoZSBBUEkgaXMgY29tcGF0aWJsZSB3aXRoIGBQcm9taXNlPExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3M+YC5cbiAqLyAoZSwgWyBcIm5leHRcIiwgXCJlcnJvclwiLCBcImNvbXBsZXRlXCIgXSk7XG59XG5cbmNsYXNzIExvYWRCdW5kbGVUYXNrIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlciA9IHt9LCB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZCwgXG4gICAgICAgIHRoaXMuX2xhc3RQcm9ncmVzcyA9IHtcbiAgICAgICAgICAgIHRhc2tTdGF0ZTogXCJSdW5uaW5nXCIsXG4gICAgICAgICAgICB0b3RhbEJ5dGVzOiAwLFxuICAgICAgICAgICAgdG90YWxEb2N1bWVudHM6IDAsXG4gICAgICAgICAgICBieXRlc0xvYWRlZDogMCxcbiAgICAgICAgICAgIGRvY3VtZW50c0xvYWRlZDogMFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgZnVuY3Rpb25zIHRvIGxpc3RlbiB0byBidW5kbGUgbG9hZGluZyBwcm9ncmVzcyBldmVudHMuXG4gICAgICogQHBhcmFtIG5leHQgLSBDYWxsZWQgd2hlbiB0aGVyZSBpcyBhIHByb2dyZXNzIHVwZGF0ZSBmcm9tIGJ1bmRsZSBsb2FkaW5nLiBUeXBpY2FsbHkgYG5leHRgIGNhbGxzIG9jY3VyXG4gICAgICogICBlYWNoIHRpbWUgYSBGaXJlc3RvcmUgZG9jdW1lbnQgaXMgbG9hZGVkIGZyb20gdGhlIGJ1bmRsZS5cbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGJ1bmRsZSBsb2FkaW5nLiBUaGUgdGFzayBhYm9ydHMgYWZ0ZXIgcmVwb3J0aW5nIHRoZVxuICAgICAqICAgZXJyb3IsIGFuZCB0aGVyZSBzaG91bGQgYmUgbm8gbW9yZSB1cGRhdGVzIGFmdGVyIHRoaXMuXG4gICAgICogQHBhcmFtIGNvbXBsZXRlIC0gQ2FsbGVkIHdoZW4gdGhlIGxvYWRpbmcgdGFzayBpcyBjb21wbGV0ZS5cbiAgICAgKi8gICAgb25Qcm9ncmVzcyhlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIgPSB7XG4gICAgICAgICAgICBuZXh0OiBlLFxuICAgICAgICAgICAgZXJyb3I6IHQsXG4gICAgICAgICAgICBjb21wbGV0ZTogblxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJbXBsZW1lbnRzIHRoZSBgUHJvbWlzZTxMb2FkQnVuZGxlVGFza1Byb2dyZXNzPi5jYXRjaGAgaW50ZXJmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9uUmVqZWN0ZWQgLSBDYWxsZWQgd2hlbiBhbiBlcnJvciBvY2N1cnMgZHVyaW5nIGJ1bmRsZSBsb2FkaW5nLlxuICAgICAqLyAgICBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnByb21pc2UuY2F0Y2goZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgdGhlIGBQcm9taXNlPExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3M+LnRoZW5gIGludGVyZmFjZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvbkZ1bGZpbGxlZCAtIENhbGxlZCBvbiB0aGUgY29tcGxldGlvbiBvZiB0aGUgbG9hZGluZyB0YXNrIHdpdGggYSBmaW5hbCBgTG9hZEJ1bmRsZVRhc2tQcm9ncmVzc2AgdXBkYXRlLlxuICAgICAqICAgVGhlIHVwZGF0ZSB3aWxsIGFsd2F5cyBoYXZlIGl0cyBgdGFza1N0YXRlYCBzZXQgdG8gYFwiU3VjY2Vzc1wiYC5cbiAgICAgKiBAcGFyYW0gb25SZWplY3RlZCAtIENhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgYnVuZGxlIGxvYWRpbmcuXG4gICAgICovICAgIHRoZW4oZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5wcm9taXNlLnRoZW4oZSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIGFsbCBvYnNlcnZlcnMgdGhhdCBidW5kbGUgbG9hZGluZyBoYXMgY29tcGxldGVkLCB3aXRoIGEgcHJvdmlkZWRcbiAgICAgKiBgTG9hZEJ1bmRsZVRhc2tQcm9ncmVzc2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi8gICAgX2NvbXBsZXRlV2l0aChlKSB7XG4gICAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzKGUpLCB0aGlzLl9wcm9ncmVzc09ic2VydmVyLmNvbXBsZXRlICYmIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIuY29tcGxldGUoKSwgXG4gICAgICAgIHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIucmVzb2x2ZShlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgYWxsIG9ic2VydmVycyB0aGF0IGJ1bmRsZSBsb2FkaW5nIGhhcyBmYWlsZWQsIHdpdGggYSBwcm92aWRlZFxuICAgICAqIGBFcnJvcmAgYXMgdGhlIHJlYXNvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovICAgIF9mYWlsV2l0aChlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RQcm9ncmVzcy50YXNrU3RhdGUgPSBcIkVycm9yXCIsIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCAmJiB0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQodGhpcy5fbGFzdFByb2dyZXNzKSwgXG4gICAgICAgIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIuZXJyb3IgJiYgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5lcnJvcihlKSwgdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5yZWplY3QoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE5vdGlmaWVzIGEgcHJvZ3Jlc3MgdXBkYXRlIG9mIGxvYWRpbmcgYSBidW5kbGUuXG4gICAgICogQHBhcmFtIHByb2dyZXNzIC0gVGhlIG5ldyBwcm9ncmVzcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovICAgIF91cGRhdGVQcm9ncmVzcyhlKSB7XG4gICAgICAgIHRoaXMuX2xhc3RQcm9ncmVzcyA9IGUsIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCAmJiB0aGlzLl9wcm9ncmVzc09ic2VydmVyLm5leHQoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDb25zdGFudCB1c2VkIHRvIGluZGljYXRlIHRoZSBMUlUgZ2FyYmFnZSBjb2xsZWN0aW9uIHNob3VsZCBiZSBkaXNhYmxlZC5cbiAqIFNldCB0aGlzIHZhbHVlIGFzIHRoZSBgY2FjaGVTaXplQnl0ZXNgIG9uIHRoZSBzZXR0aW5ncyBwYXNzZWQgdG8gdGhlXG4gKiB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZS5cbiAqLyBjb25zdCB3ZSA9IC0xO1xuXG4vKipcbiAqIFRoZSBDbG91ZCBGaXJlc3RvcmUgc2VydmljZSBpbnRlcmZhY2UuXG4gKlxuICogRG8gbm90IGNhbGwgdGhpcyBjb25zdHJ1Y3RvciBkaXJlY3RseS4gSW5zdGVhZCwgdXNlIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfS5cbiAqLyBjbGFzcyBGaXJlc3RvcmUgZXh0ZW5kcyBGaXJlc3RvcmUkMSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByKSB7XG4gICAgICAgIHN1cGVyKGUsIHQsIG4sIHIpLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgaXQncyBhIHtAbGluayBGaXJlc3RvcmV9IG9yIEZpcmVzdG9yZSBMaXRlIGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJmaXJlc3RvcmVcIiwgdGhpcy5fcXVldWUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3QXN5bmNRdWV1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0FzeW5jUXVldWVJbXBsO1xuICAgICAgICB9KCksIHRoaXMuX3BlcnNpc3RlbmNlS2V5ID0gKG51bGwgPT0gciA/IHZvaWQgMCA6IHIubmFtZSkgfHwgXCJbREVGQVVMVF1cIjtcbiAgICB9XG4gICAgX3Rlcm1pbmF0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZpcmVzdG9yZUNsaWVudCB8fCBcbiAgICAgICAgLy8gVGhlIGNsaWVudCBtdXN0IGJlIGluaXRpYWxpemVkIHRvIGVuc3VyZSB0aGF0IGFsbCBzdWJzZXF1ZW50IEFQSVxuICAgICAgICAvLyB1c2FnZSB0aHJvd3MgYW4gZXhjZXB0aW9uLlxuICAgICAgICBfX1BSSVZBVEVfY29uZmlndXJlRmlyZXN0b3JlKHRoaXMpLCB0aGlzLl9maXJlc3RvcmVDbGllbnQudGVybWluYXRlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGEgbmV3IGluc3RhbmNlIG9mIHtAbGluayBGaXJlc3RvcmV9IHdpdGggdGhlIHByb3ZpZGVkIHNldHRpbmdzLlxuICogQ2FuIG9ubHkgYmUgY2FsbGVkIGJlZm9yZSBhbnkgb3RoZXIgZnVuY3Rpb24sIGluY2x1ZGluZ1xuICoge0BsaW5rIChnZXRGaXJlc3RvcmU6MSl9LiBJZiB0aGUgY3VzdG9tIHNldHRpbmdzIGFyZSBlbXB0eSwgdGhpcyBmdW5jdGlvbiBpc1xuICogZXF1aXZhbGVudCB0byBjYWxsaW5nIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfS5cbiAqXG4gKiBAcGFyYW0gYXBwIC0gVGhlIHtAbGluayBAZmlyZWJhc2UvYXBwI0ZpcmViYXNlQXBwfSB3aXRoIHdoaWNoIHRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB3aWxsXG4gKiBiZSBhc3NvY2lhdGVkLlxuICogQHBhcmFtIHNldHRpbmdzIC0gQSBzZXR0aW5ncyBvYmplY3QgdG8gY29uZmlndXJlIHRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZS5cbiAqIEBwYXJhbSBkYXRhYmFzZUlkIC0gVGhlIG5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICogQHJldHVybnMgQSBuZXdseSBpbml0aWFsaXplZCB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZS5cbiAqLyBmdW5jdGlvbiBpbml0aWFsaXplRmlyZXN0b3JlKGUsIHQsIG4pIHtcbiAgICBuIHx8IChuID0gXCIoZGVmYXVsdClcIik7XG4gICAgY29uc3QgciA9IGFwcC5fZ2V0UHJvdmlkZXIoZSwgXCJmaXJlc3RvcmVcIik7XG4gICAgaWYgKHIuaXNJbml0aWFsaXplZChuKSkge1xuICAgICAgICBjb25zdCBlID0gci5nZXRJbW1lZGlhdGUoe1xuICAgICAgICAgICAgaWRlbnRpZmllcjogblxuICAgICAgICB9KSwgaSA9IHIuZ2V0T3B0aW9ucyhuKTtcbiAgICAgICAgaWYgKHV0aWwuZGVlcEVxdWFsKGksIHQpKSByZXR1cm4gZTtcbiAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJpbml0aWFsaXplRmlyZXN0b3JlKCkgaGFzIGFscmVhZHkgYmVlbiBjYWxsZWQgd2l0aCBkaWZmZXJlbnQgb3B0aW9ucy4gVG8gYXZvaWQgdGhpcyBlcnJvciwgY2FsbCBpbml0aWFsaXplRmlyZXN0b3JlKCkgd2l0aCB0aGUgc2FtZSBvcHRpb25zIGFzIHdoZW4gaXQgd2FzIG9yaWdpbmFsbHkgY2FsbGVkLCBvciBjYWxsIGdldEZpcmVzdG9yZSgpIHRvIHJldHVybiB0aGUgYWxyZWFkeSBpbml0aWFsaXplZCBpbnN0YW5jZS5cIik7XG4gICAgfVxuICAgIGlmICh2b2lkIDAgIT09IHQuY2FjaGVTaXplQnl0ZXMgJiYgdm9pZCAwICE9PSB0LmxvY2FsQ2FjaGUpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiY2FjaGUgYW5kIGNhY2hlU2l6ZUJ5dGVzIGNhbm5vdCBiZSBzcGVjaWZpZWQgYXQgdGhlIHNhbWUgdGltZSBhcyBjYWNoZVNpemVCeXRlcyB3aWxsYmUgZGVwcmVjYXRlZC4gSW5zdGVhZCwgc3BlY2lmeSB0aGUgY2FjaGUgc2l6ZSBpbiB0aGUgY2FjaGUgb2JqZWN0XCIpO1xuICAgIGlmICh2b2lkIDAgIT09IHQuY2FjaGVTaXplQnl0ZXMgJiYgLTEgIT09IHQuY2FjaGVTaXplQnl0ZXMgJiYgdC5jYWNoZVNpemVCeXRlcyA8IDEwNDg1NzYpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiY2FjaGVTaXplQnl0ZXMgbXVzdCBiZSBhdCBsZWFzdCAxMDQ4NTc2XCIpO1xuICAgIHJldHVybiByLmluaXRpYWxpemUoe1xuICAgICAgICBvcHRpb25zOiB0LFxuICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gZ2V0RmlyZXN0b3JlKHQsIG4pIHtcbiAgICBjb25zdCByID0gXCJvYmplY3RcIiA9PSB0eXBlb2YgdCA/IHQgOiBhcHAuZ2V0QXBwKCksIGkgPSBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gdCA6IG4gfHwgXCIoZGVmYXVsdClcIiwgcyA9IGFwcC5fZ2V0UHJvdmlkZXIociwgXCJmaXJlc3RvcmVcIikuZ2V0SW1tZWRpYXRlKHtcbiAgICAgICAgaWRlbnRpZmllcjogaVxuICAgIH0pO1xuICAgIGlmICghcy5faW5pdGlhbGl6ZWQpIHtcbiAgICAgICAgY29uc3QgZSA9IHV0aWwuZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0KFwiZmlyZXN0b3JlXCIpO1xuICAgICAgICBlICYmIGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcihzLCAuLi5lKTtcbiAgICB9XG4gICAgcmV0dXJuIHM7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlKSB7XG4gICAgcmV0dXJuIGUuX2ZpcmVzdG9yZUNsaWVudCB8fCBfX1BSSVZBVEVfY29uZmlndXJlRmlyZXN0b3JlKGUpLCBlLl9maXJlc3RvcmVDbGllbnQudmVyaWZ5Tm90VGVybWluYXRlZCgpLCBcbiAgICBlLl9maXJlc3RvcmVDbGllbnQ7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb25maWd1cmVGaXJlc3RvcmUoZSkge1xuICAgIHZhciB0LCBuLCByO1xuICAgIGNvbnN0IGkgPSBlLl9mcmVlemVTZXR0aW5ncygpLCBzID0gZnVuY3Rpb24gX19QUklWQVRFX21ha2VEYXRhYmFzZUluZm8oZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gbmV3IERhdGFiYXNlSW5mbyhlLCB0LCBuLCByLmhvc3QsIHIuc3NsLCByLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsIHIuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nLCBfX1BSSVZBVEVfY2xvbmVMb25nUG9sbGluZ09wdGlvbnMoci5leHBlcmltZW50YWxMb25nUG9sbGluZ09wdGlvbnMpLCByLnVzZUZldGNoU3RyZWFtcyk7XG4gICAgfShlLl9kYXRhYmFzZUlkLCAobnVsbCA9PT0gKHQgPSBlLl9hcHApIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQub3B0aW9ucy5hcHBJZCkgfHwgXCJcIiwgZS5fcGVyc2lzdGVuY2VLZXksIGkpO1xuICAgIGUuX2ZpcmVzdG9yZUNsaWVudCA9IG5ldyBGaXJlc3RvcmVDbGllbnQoZS5fYXV0aENyZWRlbnRpYWxzLCBlLl9hcHBDaGVja0NyZWRlbnRpYWxzLCBlLl9xdWV1ZSwgcyksIFxuICAgIChudWxsID09PSAobiA9IGkubG9jYWxDYWNoZSkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKSAmJiAobnVsbCA9PT0gKHIgPSBpLmxvY2FsQ2FjaGUpIHx8IHZvaWQgMCA9PT0gciA/IHZvaWQgMCA6IHIuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyKSAmJiAoZS5fZmlyZXN0b3JlQ2xpZW50Ll91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyID0ge1xuICAgICAgICBfb2ZmbGluZUtpbmQ6IGkubG9jYWxDYWNoZS5raW5kLFxuICAgICAgICBfb2ZmbGluZTogaS5sb2NhbENhY2hlLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIsXG4gICAgICAgIF9vbmxpbmU6IGkubG9jYWxDYWNoZS5fb25saW5lQ29tcG9uZW50UHJvdmlkZXJcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBBdHRlbXB0cyB0byBlbmFibGUgcGVyc2lzdGVudCBzdG9yYWdlLCBpZiBwb3NzaWJsZS5cbiAqXG4gKiBPbiBmYWlsdXJlLCBgZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UoKWAgd2lsbCByZWplY3QgdGhlIHByb21pc2Ugb3JcbiAqIHRocm93IGFuIGV4Y2VwdGlvbi4gVGhlcmUgYXJlIHNldmVyYWwgcmVhc29ucyB3aHkgdGhpcyBjYW4gZmFpbCwgd2hpY2ggY2FuIGJlXG4gKiBpZGVudGlmaWVkIGJ5IHRoZSBgY29kZWAgb24gdGhlIGVycm9yLlxuICpcbiAqICAgKiBmYWlsZWQtcHJlY29uZGl0aW9uOiBUaGUgYXBwIGlzIGFscmVhZHkgb3BlbiBpbiBhbm90aGVyIGJyb3dzZXIgdGFiLlxuICogICAqIHVuaW1wbGVtZW50ZWQ6IFRoZSBicm93c2VyIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBvZmZsaW5lIHBlcnNpc3RlbmNlXG4gKiAgICAgaW1wbGVtZW50YXRpb24uXG4gKlxuICogTm90ZSB0aGF0IGV2ZW4gYWZ0ZXIgYSBmYWlsdXJlLCB0aGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2Ugd2lsbCByZW1haW5cbiAqIHVzYWJsZSwgaG93ZXZlciBvZmZsaW5lIHBlcnNpc3RlbmNlIHdpbGwgYmUgZGlzYWJsZWQuXG4gKlxuICogTm90ZTogYGVuYWJsZUluZGV4ZWREYlBlcnNpc3RlbmNlKClgIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBhbnkgb3RoZXIgZnVuY3Rpb25zXG4gKiAob3RoZXIgdGhhbiB7QGxpbmsgaW5pdGlhbGl6ZUZpcmVzdG9yZX0sIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfSBvclxuICoge0BsaW5rIGNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2V9LlxuICpcbiAqIFBlcnNpc3RlbmNlIGNhbm5vdCBiZSB1c2VkIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqXG4gKiBAcGFyYW0gZmlyZXN0b3JlIC0gVGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIHRvIGVuYWJsZSBwZXJzaXN0ZW5jZSBmb3IuXG4gKiBAcGFyYW0gcGVyc2lzdGVuY2VTZXR0aW5ncyAtIE9wdGlvbmFsIHNldHRpbmdzIG9iamVjdCB0byBjb25maWd1cmVcbiAqIHBlcnNpc3RlbmNlLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXByZXNlbnRzIHN1Y2Nlc3NmdWxseSBlbmFibGluZyBwZXJzaXN0ZW50IHN0b3JhZ2UuXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSBtYWpvciByZWxlYXNlLiBJbnN0ZWFkLCBzZXRcbiAqIGBGaXJlc3RvcmVTZXR0aW5ncy5sb2NhbENhY2hlYCB0byBhbiBpbnN0YW5jZSBvZiBgUGVyc2lzdGVudExvY2FsQ2FjaGVgIHRvXG4gKiB0dXJuIG9uIEluZGV4ZWREYiBjYWNoZS4gQ2FsbGluZyB0aGlzIGZ1bmN0aW9uIHdoZW4gYEZpcmVzdG9yZVNldHRpbmdzLmxvY2FsQ2FjaGVgXG4gKiBpcyBhbHJlYWR5IHNwZWNpZmllZCB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbi5cbiAqLyBmdW5jdGlvbiBlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZShlLCB0KSB7XG4gICAgX19QUklWQVRFX3ZlcmlmeU5vdEluaXRpYWxpemVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKTtcbiAgICBjb25zdCBuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlKTtcbiAgICBpZiAobi5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlcikgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJTREsgY2FjaGUgaXMgYWxyZWFkeSBzcGVjaWZpZWQuXCIpO1xuICAgIF9fUFJJVkFURV9sb2dXYXJuKFwiZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UoKSB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIGZ1dHVyZSwgeW91IGNhbiB1c2UgYEZpcmVzdG9yZVNldHRpbmdzLmNhY2hlYCBpbnN0ZWFkLlwiKTtcbiAgICBjb25zdCByID0gZS5fZnJlZXplU2V0dGluZ3MoKSwgaSA9IG5ldyBPbmxpbmVDb21wb25lbnRQcm92aWRlcjtcbiAgICByZXR1cm4gX19QUklWQVRFX3NldFBlcnNpc3RlbmNlUHJvdmlkZXJzKG4sIGksIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKGksIHIuY2FjaGVTaXplQnl0ZXMsIG51bGwgPT0gdCA/IHZvaWQgMCA6IHQuZm9yY2VPd25lcnNoaXApKTtcbn1cblxuLyoqXG4gKiBBdHRlbXB0cyB0byBlbmFibGUgbXVsdGktdGFiIHBlcnNpc3RlbnQgc3RvcmFnZSwgaWYgcG9zc2libGUuIElmIGVuYWJsZWRcbiAqIGFjcm9zcyBhbGwgdGFicywgYWxsIG9wZXJhdGlvbnMgc2hhcmUgYWNjZXNzIHRvIGxvY2FsIHBlcnNpc3RlbmNlLCBpbmNsdWRpbmdcbiAqIHNoYXJlZCBleGVjdXRpb24gb2YgcXVlcmllcyBhbmQgbGF0ZW5jeS1jb21wZW5zYXRlZCBsb2NhbCBkb2N1bWVudCB1cGRhdGVzXG4gKiBhY3Jvc3MgYWxsIGNvbm5lY3RlZCBpbnN0YW5jZXMuXG4gKlxuICogT24gZmFpbHVyZSwgYGVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UoKWAgd2lsbCByZWplY3QgdGhlIHByb21pc2Ugb3JcbiAqIHRocm93IGFuIGV4Y2VwdGlvbi4gVGhlcmUgYXJlIHNldmVyYWwgcmVhc29ucyB3aHkgdGhpcyBjYW4gZmFpbCwgd2hpY2ggY2FuIGJlXG4gKiBpZGVudGlmaWVkIGJ5IHRoZSBgY29kZWAgb24gdGhlIGVycm9yLlxuICpcbiAqICAgKiBmYWlsZWQtcHJlY29uZGl0aW9uOiBUaGUgYXBwIGlzIGFscmVhZHkgb3BlbiBpbiBhbm90aGVyIGJyb3dzZXIgdGFiIGFuZFxuICogICAgIG11bHRpLXRhYiBpcyBub3QgZW5hYmxlZC5cbiAqICAgKiB1bmltcGxlbWVudGVkOiBUaGUgYnJvd3NlciBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgb2ZmbGluZSBwZXJzaXN0ZW5jZVxuICogICAgIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIE5vdGUgdGhhdCBldmVuIGFmdGVyIGEgZmFpbHVyZSwgdGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIHdpbGwgcmVtYWluXG4gKiB1c2FibGUsIGhvd2V2ZXIgb2ZmbGluZSBwZXJzaXN0ZW5jZSB3aWxsIGJlIGRpc2FibGVkLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gZW5hYmxlIHBlcnNpc3RlbmNlIGZvci5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgcmVwcmVzZW50cyBzdWNjZXNzZnVsbHkgZW5hYmxpbmcgcGVyc2lzdGVudFxuICogc3RvcmFnZS5cbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIEluc3RlYWQsIHNldFxuICogYEZpcmVzdG9yZVNldHRpbmdzLmxvY2FsQ2FjaGVgIHRvIGFuIGluc3RhbmNlIG9mIGBQZXJzaXN0ZW50TG9jYWxDYWNoZWAgdG9cbiAqIHR1cm4gb24gaW5kZXhlZGRiIGNhY2hlLiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2hlbiBgRmlyZXN0b3JlU2V0dGluZ3MubG9jYWxDYWNoZWBcbiAqIGlzIGFscmVhZHkgc3BlY2lmaWVkIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uLlxuICovIGZ1bmN0aW9uIGVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UoZSkge1xuICAgIF9fUFJJVkFURV92ZXJpZnlOb3RJbml0aWFsaXplZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSk7XG4gICAgY29uc3QgdCA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSk7XG4gICAgaWYgKHQuX3VuaW5pdGlhbGl6ZWRDb21wb25lbnRzUHJvdmlkZXIpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiU0RLIGNhY2hlIGlzIGFscmVhZHkgc3BlY2lmaWVkLlwiKTtcbiAgICBfX1BSSVZBVEVfbG9nV2FybihcImVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UoKSB3aWxsIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIGZ1dHVyZSwgeW91IGNhbiB1c2UgYEZpcmVzdG9yZVNldHRpbmdzLmNhY2hlYCBpbnN0ZWFkLlwiKTtcbiAgICBjb25zdCBuID0gZS5fZnJlZXplU2V0dGluZ3MoKSwgciA9IG5ldyBPbmxpbmVDb21wb25lbnRQcm92aWRlcjtcbiAgICByZXR1cm4gX19QUklWQVRFX3NldFBlcnNpc3RlbmNlUHJvdmlkZXJzKHQsIHIsIG5ldyBfX1BSSVZBVEVfTXVsdGlUYWJPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIociwgbi5jYWNoZVNpemVCeXRlcykpO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBib3RoIHRoZSBgT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyYCBhbmQgYE9ubGluZUNvbXBvbmVudFByb3ZpZGVyYC5cbiAqIElmIHRoZSBvcGVyYXRpb24gZmFpbHMgd2l0aCBhIHJlY292ZXJhYmxlIGVycm9yIChzZWVcbiAqIGBjYW5SZWNvdmVyRnJvbUluZGV4ZWREYkVycm9yKClgIGJlbG93KSwgdGhlIHJldHVybmVkIFByb21pc2UgaXMgcmVqZWN0ZWRcbiAqIGJ1dCB0aGUgY2xpZW50IHJlbWFpbnMgdXNhYmxlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9zZXRQZXJzaXN0ZW5jZVByb3ZpZGVycyhlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlKChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfc2V0T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKGUsIG4pLCBhd2FpdCBfX1BSSVZBVEVfc2V0T25saW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgdCksIFxuICAgICAgICAgICAgci5yZXNvbHZlKCk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlO1xuICAgICAgICAgICAgaWYgKCFfX1BSSVZBVEVfY2FuRmFsbGJhY2tGcm9tSW5kZXhlZERiRXJyb3IodCkpIHRocm93IHQ7XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nV2FybihcIkVycm9yIGVuYWJsaW5nIGluZGV4ZWRkYiBjYWNoZS4gRmFsbGluZyBiYWNrIHRvIG1lbW9yeSBjYWNoZTogXCIgKyB0KSwgXG4gICAgICAgICAgICByLnJlamVjdCh0KTtcbiAgICAgICAgfVxuICAgIH0pKS50aGVuKCgoKSA9PiByLnByb21pc2UpKTtcbn1cblxuLyoqXG4gKiBDbGVhcnMgdGhlIHBlcnNpc3RlbnQgc3RvcmFnZS4gVGhpcyBpbmNsdWRlcyBwZW5kaW5nIHdyaXRlcyBhbmQgY2FjaGVkXG4gKiBkb2N1bWVudHMuXG4gKlxuICogTXVzdCBiZSBjYWxsZWQgd2hpbGUgdGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIGlzIG5vdCBzdGFydGVkIChhZnRlciB0aGUgYXBwIGlzXG4gKiB0ZXJtaW5hdGVkIG9yIHdoZW4gdGhlIGFwcCBpcyBmaXJzdCBpbml0aWFsaXplZCkuIE9uIHN0YXJ0dXAsIHRoaXMgZnVuY3Rpb25cbiAqIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBvdGhlciBmdW5jdGlvbnMgKG90aGVyIHRoYW4ge0BsaW5rXG4gKiBpbml0aWFsaXplRmlyZXN0b3JlfSBvciB7QGxpbmsgKGdldEZpcmVzdG9yZToxKX0pKS4gSWYgdGhlIHtAbGluayBGaXJlc3RvcmV9XG4gKiBpbnN0YW5jZSBpcyBzdGlsbCBydW5uaW5nLCB0aGUgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkIHdpdGggdGhlIGVycm9yIGNvZGVcbiAqIG9mIGBmYWlsZWQtcHJlY29uZGl0aW9uYC5cbiAqXG4gKiBOb3RlOiBgY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCBpcyBwcmltYXJpbHkgaW50ZW5kZWQgdG8gaGVscCB3cml0ZVxuICogcmVsaWFibGUgdGVzdHMgdGhhdCB1c2UgQ2xvdWQgRmlyZXN0b3JlLiBJdCB1c2VzIGFuIGVmZmljaWVudCBtZWNoYW5pc20gZm9yXG4gKiBkcm9wcGluZyBleGlzdGluZyBkYXRhIGJ1dCBkb2VzIG5vdCBhdHRlbXB0IHRvIHNlY3VyZWx5IG92ZXJ3cml0ZSBvclxuICogb3RoZXJ3aXNlIG1ha2UgY2FjaGVkIGRhdGEgdW5yZWNvdmVyYWJsZS4gRm9yIGFwcGxpY2F0aW9ucyB0aGF0IGFyZSBzZW5zaXRpdmVcbiAqIHRvIHRoZSBkaXNjbG9zdXJlIG9mIGNhY2hlZCBkYXRhIGluIGJldHdlZW4gdXNlciBzZXNzaW9ucywgd2Ugc3Ryb25nbHlcbiAqIHJlY29tbWVuZCBub3QgZW5hYmxpbmcgcGVyc2lzdGVuY2UgYXQgYWxsLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gY2xlYXIgcGVyc2lzdGVuY2UgZm9yLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBwZXJzaXN0ZW50IHN0b3JhZ2UgaXNcbiAqIGNsZWFyZWQuIE90aGVyd2lzZSwgdGhlIHByb21pc2UgaXMgcmVqZWN0ZWQgd2l0aCBhbiBlcnJvci5cbiAqLyBmdW5jdGlvbiBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlKGUpIHtcbiAgICBpZiAoZS5faW5pdGlhbGl6ZWQgJiYgIWUuX3Rlcm1pbmF0ZWQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiUGVyc2lzdGVuY2UgY2FuIG9ubHkgYmUgY2xlYXJlZCBiZWZvcmUgYSBGaXJlc3RvcmUgaW5zdGFuY2UgaXMgaW5pdGlhbGl6ZWQgb3IgYWZ0ZXIgaXQgaXMgdGVybWluYXRlZC5cIik7XG4gICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuX3F1ZXVlLmVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKChhc3luYyAoKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhlZERiQ2xlYXJQZXJzaXN0ZW5jZShlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfX1BSSVZBVEVfU2ltcGxlRGIuRCgpKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUgKyBcIm1haW5cIjtcbiAgICAgICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfU2ltcGxlRGIuZGVsZXRlKHQpO1xuICAgICAgICAgICAgfShfX1BSSVZBVEVfaW5kZXhlZERiU3RvcmFnZVByZWZpeChlLl9kYXRhYmFzZUlkLCBlLl9wZXJzaXN0ZW5jZUtleSkpLCB0LnJlc29sdmUoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdC5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9KSksIHQucHJvbWlzZTtcbn1cblxuLyoqXG4gKiBXYWl0cyB1bnRpbCBhbGwgY3VycmVudGx5IHBlbmRpbmcgd3JpdGVzIGZvciB0aGUgYWN0aXZlIHVzZXIgaGF2ZSBiZWVuXG4gKiBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmQuXG4gKlxuICogVGhlIHJldHVybmVkIHByb21pc2UgcmVzb2x2ZXMgaW1tZWRpYXRlbHkgaWYgdGhlcmUgYXJlIG5vIG91dHN0YW5kaW5nIHdyaXRlcy5cbiAqIE90aGVyd2lzZSwgdGhlIHByb21pc2Ugd2FpdHMgZm9yIGFsbCBwcmV2aW91c2x5IGlzc3VlZCB3cml0ZXMgKGluY2x1ZGluZ1xuICogdGhvc2Ugd3JpdHRlbiBpbiBhIHByZXZpb3VzIGFwcCBzZXNzaW9uKSwgYnV0IGl0IGRvZXMgbm90IHdhaXQgZm9yIHdyaXRlc1xuICogdGhhdCB3ZXJlIGFkZGVkIGFmdGVyIHRoZSBmdW5jdGlvbiBpcyBjYWxsZWQuIElmIHlvdSB3YW50IHRvIHdhaXQgZm9yXG4gKiBhZGRpdGlvbmFsIHdyaXRlcywgY2FsbCBgd2FpdEZvclBlbmRpbmdXcml0ZXMoKWAgYWdhaW4uXG4gKlxuICogQW55IG91dHN0YW5kaW5nIGB3YWl0Rm9yUGVuZGluZ1dyaXRlcygpYCBwcm9taXNlcyBhcmUgcmVqZWN0ZWQgZHVyaW5nIHVzZXJcbiAqIGNoYW5nZXMuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgd2hpY2ggcmVzb2x2ZXMgd2hlbiBhbGwgY3VycmVudGx5IHBlbmRpbmcgd3JpdGVzIGhhdmUgYmVlblxuICogYWNrbm93bGVkZ2VkIGJ5IHRoZSBiYWNrZW5kLlxuICovIGZ1bmN0aW9uIHdhaXRGb3JQZW5kaW5nV3JpdGVzKGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFdhaXRGb3JQZW5kaW5nV3JpdGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gX19QUklWQVRFX3N5bmNFbmdpbmVSZWdpc3RlclBlbmRpbmdXcml0ZXNDYWxsYmFjayhhd2FpdCBfX1BSSVZBVEVfZ2V0U3luY0VuZ2luZShlKSwgdCkpKSwgXG4gICAgICAgIHQucHJvbWlzZTtcbiAgICB9KGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpKTtcbn1cblxuLyoqXG4gKiBSZS1lbmFibGVzIHVzZSBvZiB0aGUgbmV0d29yayBmb3IgdGhpcyB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSBhZnRlciBhIHByaW9yXG4gKiBjYWxsIHRvIHtAbGluayBkaXNhYmxlTmV0d29ya30uXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCBpcyByZXNvbHZlZCBvbmNlIHRoZSBuZXR3b3JrIGhhcyBiZWVuIGVuYWJsZWQuXG4gKi8gZnVuY3Rpb24gZW5hYmxlTmV0d29yayhlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRFbmFibGVOZXR3b3JrKGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpKTtcbn1cblxuLyoqXG4gKiBEaXNhYmxlcyBuZXR3b3JrIHVzYWdlIGZvciB0aGlzIGluc3RhbmNlLiBJdCBjYW4gYmUgcmUtZW5hYmxlZCB2aWEge0BsaW5rXG4gKiBlbmFibGVOZXR3b3JrfS4gV2hpbGUgdGhlIG5ldHdvcmsgaXMgZGlzYWJsZWQsIGFueSBzbmFwc2hvdCBsaXN0ZW5lcnMsXG4gKiBgZ2V0RG9jKClgIG9yIGBnZXREb2NzKClgIGNhbGxzIHdpbGwgcmV0dXJuIHJlc3VsdHMgZnJvbSBjYWNoZSwgYW5kIGFueSB3cml0ZVxuICogb3BlcmF0aW9ucyB3aWxsIGJlIHF1ZXVlZCB1bnRpbCB0aGUgbmV0d29yayBpcyByZXN0b3JlZC5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IGlzIHJlc29sdmVkIG9uY2UgdGhlIG5ldHdvcmsgaGFzIGJlZW4gZGlzYWJsZWQuXG4gKi8gZnVuY3Rpb24gZGlzYWJsZU5ldHdvcmsoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGlzYWJsZU5ldHdvcmsoZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSkpO1xufVxuXG4vKipcbiAqIFRlcm1pbmF0ZXMgdGhlIHByb3ZpZGVkIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlLlxuICpcbiAqIEFmdGVyIGNhbGxpbmcgYHRlcm1pbmF0ZSgpYCBvbmx5IHRoZSBgY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCBmdW5jdGlvblxuICogbWF5IGJlIHVzZWQuIEFueSBvdGhlciBmdW5jdGlvbiB3aWxsIHRocm93IGEgYEZpcmVzdG9yZUVycm9yYC5cbiAqXG4gKiBUbyByZXN0YXJ0IGFmdGVyIHRlcm1pbmF0aW9uLCBjcmVhdGUgYSBuZXcgaW5zdGFuY2Ugb2YgRmlyZWJhc2VGaXJlc3RvcmUgd2l0aFxuICoge0BsaW5rIChnZXRGaXJlc3RvcmU6MSl9LlxuICpcbiAqIFRlcm1pbmF0aW9uIGRvZXMgbm90IGNhbmNlbCBhbnkgcGVuZGluZyB3cml0ZXMsIGFuZCBhbnkgcHJvbWlzZXMgdGhhdCBhcmVcbiAqIGF3YWl0aW5nIGEgcmVzcG9uc2UgZnJvbSB0aGUgc2VydmVyIHdpbGwgbm90IGJlIHJlc29sdmVkLiBJZiB5b3UgaGF2ZVxuICogcGVyc2lzdGVuY2UgZW5hYmxlZCwgdGhlIG5leHQgdGltZSB5b3Ugc3RhcnQgdGhpcyBpbnN0YW5jZSwgaXQgd2lsbCByZXN1bWVcbiAqIHNlbmRpbmcgdGhlc2Ugd3JpdGVzIHRvIHRoZSBzZXJ2ZXIuXG4gKlxuICogTm90ZTogVW5kZXIgbm9ybWFsIGNpcmN1bXN0YW5jZXMsIGNhbGxpbmcgYHRlcm1pbmF0ZSgpYCBpcyBub3QgcmVxdWlyZWQuIFRoaXNcbiAqIGZ1bmN0aW9uIGlzIHVzZWZ1bCBvbmx5IHdoZW4geW91IHdhbnQgdG8gZm9yY2UgdGhpcyBpbnN0YW5jZSB0byByZWxlYXNlIGFsbFxuICogb2YgaXRzIHJlc291cmNlcyBvciBpbiBjb21iaW5hdGlvbiB3aXRoIGBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlKClgIHRvXG4gKiBlbnN1cmUgdGhhdCBhbGwgbG9jYWwgc3RhdGUgaXMgZGVzdHJveWVkIGJldHdlZW4gdGVzdCBydW5zLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgaW5zdGFuY2UgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gKiB0ZXJtaW5hdGVkLlxuICovIGZ1bmN0aW9uIHRlcm1pbmF0ZShlKSB7XG4gICAgcmV0dXJuIGFwcC5fcmVtb3ZlU2VydmljZUluc3RhbmNlKGUuYXBwLCBcImZpcmVzdG9yZVwiLCBlLl9kYXRhYmFzZUlkLmRhdGFiYXNlKSwgZS5fZGVsZXRlKCk7XG59XG5cbi8qKlxuICogTG9hZHMgYSBGaXJlc3RvcmUgYnVuZGxlIGludG8gdGhlIGxvY2FsIGNhY2hlLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gbG9hZCBidW5kbGVzIGZvci5cbiAqIEBwYXJhbSBidW5kbGVEYXRhIC0gQW4gb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgYnVuZGxlIHRvIGJlIGxvYWRlZC4gVmFsaWRcbiAqIG9iamVjdHMgYXJlIGBBcnJheUJ1ZmZlcmAsIGBSZWFkYWJsZVN0cmVhbTxVaW50OEFycmF5PmAgb3IgYHN0cmluZ2AuXG4gKlxuICogQHJldHVybnMgQSBgTG9hZEJ1bmRsZVRhc2tgIG9iamVjdCwgd2hpY2ggbm90aWZpZXMgY2FsbGVycyB3aXRoIHByb2dyZXNzXG4gKiB1cGRhdGVzLCBhbmQgY29tcGxldGlvbiBvciBlcnJvciBldmVudHMuIEl0IGNhbiBiZSB1c2VkIGFzIGFcbiAqIGBQcm9taXNlPExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3M+YC5cbiAqLyBmdW5jdGlvbiBsb2FkQnVuZGxlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSksIHIgPSBuZXcgTG9hZEJ1bmRsZVRhc2s7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRMb2FkQnVuZGxlKG4sIGUuX2RhdGFiYXNlSWQsIHQsIHIpLCByO1xufVxuXG4vKipcbiAqIFJlYWRzIGEgRmlyZXN0b3JlIHtAbGluayBRdWVyeX0gZnJvbSBsb2NhbCBjYWNoZSwgaWRlbnRpZmllZCBieSB0aGUgZ2l2ZW5cbiAqIG5hbWUuXG4gKlxuICogVGhlIG5hbWVkIHF1ZXJpZXMgYXJlIHBhY2thZ2VkICBpbnRvIGJ1bmRsZXMgb24gdGhlIHNlcnZlciBzaWRlIChhbG9uZ1xuICogd2l0aCByZXN1bHRpbmcgZG9jdW1lbnRzKSwgYW5kIGxvYWRlZCB0byBsb2NhbCBjYWNoZSB1c2luZyBgbG9hZEJ1bmRsZWAuIE9uY2VcbiAqIGluIGxvY2FsIGNhY2hlLCB1c2UgdGhpcyBtZXRob2QgdG8gZXh0cmFjdCBhIHtAbGluayBRdWVyeX0gYnkgbmFtZS5cbiAqXG4gKiBAcGFyYW0gZmlyZXN0b3JlIC0gVGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIHRvIHJlYWQgdGhlIHF1ZXJ5IGZyb20uXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBxdWVyeS5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgaXMgcmVzb2x2ZWQgd2l0aCB0aGUgUXVlcnkgb3IgYG51bGxgLlxuICovIGZ1bmN0aW9uIG5hbWVkUXVlcnkoZSwgdCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0TmFtZWRRdWVyeShlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKSwgdCkudGhlbigodCA9PiB0ID8gbmV3IFF1ZXJ5KGUsIG51bGwsIHQucXVlcnkpIDogbnVsbCkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmVyaWZ5Tm90SW5pdGlhbGl6ZWQoZSkge1xuICAgIGlmIChlLl9pbml0aWFsaXplZCB8fCBlLl90ZXJtaW5hdGVkKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkZpcmVzdG9yZSBoYXMgYWxyZWFkeSBiZWVuIHN0YXJ0ZWQgYW5kIHBlcnNpc3RlbmNlIGNhbiBubyBsb25nZXIgYmUgZW5hYmxlZC4gWW91IGNhbiBvbmx5IGVuYWJsZSBwZXJzaXN0ZW5jZSBiZWZvcmUgY2FsbGluZyBhbnkgb3RoZXIgbWV0aG9kcyBvbiBhIEZpcmVzdG9yZSBvYmplY3QuXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBhZ2dyZWdhdGlvbiB0aGF0IGNhbiBiZSBwZXJmb3JtZWQgYnkgRmlyZXN0b3JlLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG5jbGFzcyBBZ2dyZWdhdGVGaWVsZCB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IEFnZ3JlZ2F0ZUZpZWxkPFQ+XG4gICAgICogQHBhcmFtIGFnZ3JlZ2F0ZVR5cGUgU3BlY2lmaWVzIHRoZSB0eXBlIG9mIGFnZ3JlZ2F0aW9uIG9wZXJhdGlvbiB0byBwZXJmb3JtLlxuICAgICAqIEBwYXJhbSBfaW50ZXJuYWxGaWVsZFBhdGggT3B0aW9uYWxseSBzcGVjaWZpZXMgdGhlIGZpZWxkIHRoYXQgaXMgYWdncmVnYXRlZC5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlID0gXCJjb3VudFwiLCB0KSB7XG4gICAgICAgIHRoaXMuX2ludGVybmFsRmllbGRQYXRoID0gdCwgXG4gICAgICAgIC8qKiBBIHR5cGUgc3RyaW5nIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGluc3RhbmNlcyBvZiB0aGlzIGNsYXNzLiAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcIkFnZ3JlZ2F0ZUZpZWxkXCIsIHRoaXMuYWdncmVnYXRlVHlwZSA9IGU7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSByZXN1bHRzIG9mIGV4ZWN1dGluZyBhbiBhZ2dyZWdhdGlvbiBxdWVyeS5cbiAqLyBjbGFzcyBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90IHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5fdXNlckRhdGFXcml0ZXIgPSB0LCB0aGlzLl9kYXRhID0gbiwgXG4gICAgICAgIC8qKiBBIHR5cGUgc3RyaW5nIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGluc3RhbmNlcyBvZiB0aGlzIGNsYXNzLiAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcIkFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RcIiwgdGhpcy5xdWVyeSA9IGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHJlc3VsdHMgb2YgdGhlIGFnZ3JlZ2F0aW9ucyBwZXJmb3JtZWQgb3ZlciB0aGUgdW5kZXJseWluZ1xuICAgICAqIHF1ZXJ5LlxuICAgICAqXG4gICAgICogVGhlIGtleXMgb2YgdGhlIHJldHVybmVkIG9iamVjdCB3aWxsIGJlIHRoZSBzYW1lIGFzIHRob3NlIG9mIHRoZVxuICAgICAqIGBBZ2dyZWdhdGVTcGVjYCBvYmplY3Qgc3BlY2lmaWVkIHRvIHRoZSBhZ2dyZWdhdGlvbiBtZXRob2QsIGFuZCB0aGUgdmFsdWVzXG4gICAgICogd2lsbCBiZSB0aGUgY29ycmVzcG9uZGluZyBhZ2dyZWdhdGlvbiByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcmVzdWx0cyBvZiB0aGUgYWdncmVnYXRpb25zIHBlcmZvcm1lZCBvdmVyIHRoZSB1bmRlcmx5aW5nXG4gICAgICogcXVlcnkuXG4gICAgICovICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0T2JqZWN0TWFwKHRoaXMuX2RhdGEpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gaW1tdXRhYmxlIG9iamVjdCByZXByZXNlbnRpbmcgYW4gYXJyYXkgb2YgYnl0ZXMuXG4gKi8gY2xhc3MgQnl0ZXMge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLl9ieXRlU3RyaW5nID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBgQnl0ZXNgIG9iamVjdCBmcm9tIHRoZSBnaXZlbiBCYXNlNjQgc3RyaW5nLCBjb252ZXJ0aW5nIGl0IHRvXG4gICAgICogYnl0ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmFzZTY0IC0gVGhlIEJhc2U2NCBzdHJpbmcgdXNlZCB0byBjcmVhdGUgdGhlIGBCeXRlc2Agb2JqZWN0LlxuICAgICAqLyAgICBzdGF0aWMgZnJvbUJhc2U2NFN0cmluZyhlKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJ5dGVzKEJ5dGVTdHJpbmcuZnJvbUJhc2U2NFN0cmluZyhlKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiRmFpbGVkIHRvIGNvbnN0cnVjdCBkYXRhIGZyb20gQmFzZTY0IHN0cmluZzogXCIgKyBlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGBCeXRlc2Agb2JqZWN0IGZyb20gdGhlIGdpdmVuIFVpbnQ4QXJyYXkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXJyYXkgLSBUaGUgVWludDhBcnJheSB1c2VkIHRvIGNyZWF0ZSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHN0YXRpYyBmcm9tVWludDhBcnJheShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQnl0ZXMoQnl0ZVN0cmluZy5mcm9tVWludDhBcnJheShlKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgYnl0ZXMgYXMgYSBCYXNlNjQtZW5jb2RlZCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgQmFzZTY0LWVuY29kZWQgc3RyaW5nIGNyZWF0ZWQgZnJvbSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHRvQmFzZTY0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnl0ZVN0cmluZy50b0Jhc2U2NCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSB1bmRlcmx5aW5nIGJ5dGVzIGluIGEgbmV3IGBVaW50OEFycmF5YC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBVaW50OEFycmF5IGNyZWF0ZWQgZnJvbSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHRvVWludDhBcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J5dGVTdHJpbmcudG9VaW50OEFycmF5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGBCeXRlc2Agb2JqZWN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQSBzdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGBCeXRlc2Agb2JqZWN0LlxuICAgICAqLyAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIFwiQnl0ZXMoYmFzZTY0OiBcIiArIHRoaXMudG9CYXNlNjQoKSArIFwiKVwiO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBgQnl0ZXNgIG9iamVjdCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqXG4gICAgICogQHBhcmFtIG90aGVyIC0gVGhlIGBCeXRlc2Agb2JqZWN0IHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoaXMgYEJ5dGVzYCBvYmplY3QgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKi8gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ieXRlU3RyaW5nLmlzRXF1YWwoZS5fYnl0ZVN0cmluZyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGBGaWVsZFBhdGhgIHJlZmVycyB0byBhIGZpZWxkIGluIGEgZG9jdW1lbnQuIFRoZSBwYXRoIG1heSBjb25zaXN0IG9mIGFcbiAqIHNpbmdsZSBmaWVsZCBuYW1lIChyZWZlcnJpbmcgdG8gYSB0b3AtbGV2ZWwgZmllbGQgaW4gdGhlIGRvY3VtZW50KSwgb3IgYVxuICogbGlzdCBvZiBmaWVsZCBuYW1lcyAocmVmZXJyaW5nIHRvIGEgbmVzdGVkIGZpZWxkIGluIHRoZSBkb2N1bWVudCkuXG4gKlxuICogQ3JlYXRlIGEgYEZpZWxkUGF0aGAgYnkgcHJvdmlkaW5nIGZpZWxkIG5hbWVzLiBJZiBtb3JlIHRoYW4gb25lIGZpZWxkXG4gKiBuYW1lIGlzIHByb3ZpZGVkLCB0aGUgcGF0aCB3aWxsIHBvaW50IHRvIGEgbmVzdGVkIGZpZWxkIGluIGEgZG9jdW1lbnQuXG4gKi8gY2xhc3MgRmllbGRQYXRoIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYEZpZWxkUGF0aGAgZnJvbSB0aGUgcHJvdmlkZWQgZmllbGQgbmFtZXMuIElmIG1vcmUgdGhhbiBvbmUgZmllbGRcbiAgICAgKiBuYW1lIGlzIHByb3ZpZGVkLCB0aGUgcGF0aCB3aWxsIHBvaW50IHRvIGEgbmVzdGVkIGZpZWxkIGluIGEgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmllbGROYW1lcyAtIEEgbGlzdCBvZiBmaWVsZCBuYW1lcy5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvciguLi5lKSB7XG4gICAgICAgIGZvciAobGV0IHQgPSAwOyB0IDwgZS5sZW5ndGg7ICsrdCkgaWYgKDAgPT09IGVbdF0ubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkludmFsaWQgZmllbGQgbmFtZSBhdCBhcmd1bWVudCAkKGkgKyAxKS4gRmllbGQgbmFtZXMgbXVzdCBub3QgYmUgZW1wdHkuXCIpO1xuICAgICAgICB0aGlzLl9pbnRlcm5hbFBhdGggPSBuZXcgRmllbGRQYXRoJDEoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBGaWVsZFBhdGhgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYEZpZWxkUGF0aGAgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhpcyBgRmllbGRQYXRoYCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2ludGVybmFsUGF0aC5pc0VxdWFsKGUuX2ludGVybmFsUGF0aCk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYSBzcGVjaWFsIHNlbnRpbmVsIGBGaWVsZFBhdGhgIHRvIHJlZmVyIHRvIHRoZSBJRCBvZiBhIGRvY3VtZW50LlxuICogSXQgY2FuIGJlIHVzZWQgaW4gcXVlcmllcyB0byBzb3J0IG9yIGZpbHRlciBieSB0aGUgZG9jdW1lbnQgSUQuXG4gKi8gZnVuY3Rpb24gZG9jdW1lbnRJZCgpIHtcbiAgICByZXR1cm4gbmV3IEZpZWxkUGF0aChcIl9fbmFtZV9fXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBTZW50aW5lbCB2YWx1ZXMgdGhhdCBjYW4gYmUgdXNlZCB3aGVuIHdyaXRpbmcgZG9jdW1lbnQgZmllbGRzIHdpdGggYHNldCgpYFxuICogb3IgYHVwZGF0ZSgpYC5cbiAqLyBjbGFzcyBGaWVsZFZhbHVlIHtcbiAgICAvKipcbiAgICAgKiBAcGFyYW0gX21ldGhvZE5hbWUgLSBUaGUgcHVibGljIEFQSSBlbmRwb2ludCB0aGF0IHJldHVybnMgdGhpcyBjbGFzcy5cbiAgICAgKiBAaGlkZWNvbnN0cnVjdG9yXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLl9tZXRob2ROYW1lID0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGltbXV0YWJsZSBvYmplY3QgcmVwcmVzZW50aW5nIGEgZ2VvZ3JhcGhpYyBsb2NhdGlvbiBpbiBGaXJlc3RvcmUuIFRoZVxuICogbG9jYXRpb24gaXMgcmVwcmVzZW50ZWQgYXMgbGF0aXR1ZGUvbG9uZ2l0dWRlIHBhaXIuXG4gKlxuICogTGF0aXR1ZGUgdmFsdWVzIGFyZSBpbiB0aGUgcmFuZ2Ugb2YgWy05MCwgOTBdLlxuICogTG9uZ2l0dWRlIHZhbHVlcyBhcmUgaW4gdGhlIHJhbmdlIG9mIFstMTgwLCAxODBdLlxuICovIGNsYXNzIEdlb1BvaW50IHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGltbXV0YWJsZSBgR2VvUG9pbnRgIG9iamVjdCB3aXRoIHRoZSBwcm92aWRlZCBsYXRpdHVkZSBhbmRcbiAgICAgKiBsb25naXR1ZGUgdmFsdWVzLlxuICAgICAqIEBwYXJhbSBsYXRpdHVkZSAtIFRoZSBsYXRpdHVkZSBhcyBudW1iZXIgYmV0d2VlbiAtOTAgYW5kIDkwLlxuICAgICAqIEBwYXJhbSBsb25naXR1ZGUgLSBUaGUgbG9uZ2l0dWRlIGFzIG51bWJlciBiZXR3ZWVuIC0xODAgYW5kIDE4MC5cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIGlmICghaXNGaW5pdGUoZSkgfHwgZSA8IC05MCB8fCBlID4gOTApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiTGF0aXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC05MCBhbmQgOTAsIGJ1dCB3YXM6IFwiICsgZSk7XG4gICAgICAgIGlmICghaXNGaW5pdGUodCkgfHwgdCA8IC0xODAgfHwgdCA+IDE4MCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJMb25naXR1ZGUgbXVzdCBiZSBhIG51bWJlciBiZXR3ZWVuIC0xODAgYW5kIDE4MCwgYnV0IHdhczogXCIgKyB0KTtcbiAgICAgICAgdGhpcy5fbGF0ID0gZSwgdGhpcy5fbG9uZyA9IHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBsYXRpdHVkZSBvZiB0aGlzIGBHZW9Qb2ludGAgaW5zdGFuY2UuXG4gICAgICovICAgIGdldCBsYXRpdHVkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxvbmdpdHVkZSBvZiB0aGlzIGBHZW9Qb2ludGAgaW5zdGFuY2UuXG4gICAgICovICAgIGdldCBsb25naXR1ZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb25nO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBgR2VvUG9pbnRgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYEdlb1BvaW50YCB0byBjb21wYXJlIGFnYWluc3QuXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGlzIGBHZW9Qb2ludGAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKi8gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sYXQgPT09IGUuX2xhdCAmJiB0aGlzLl9sb25nID09PSBlLl9sb25nO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhIEpTT04tc2VyaWFsaXphYmxlIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgR2VvUG9pbnQuICovICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhdGl0dWRlOiB0aGlzLl9sYXQsXG4gICAgICAgICAgICBsb25naXR1ZGU6IHRoaXMuX2xvbmdcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgcHJpdmF0ZSB0byBKUyBjb25zdW1lcnMgb2Ygb3VyIEFQSSwgc28gdGhpcyBmdW5jdGlvbiBpcyBwcmVmaXhlZFxuICAgICAqIHdpdGggYW4gdW5kZXJzY29yZS5cbiAgICAgKi8gICAgX2NvbXBhcmVUbyhlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcih0aGlzLl9sYXQsIGUuX2xhdCkgfHwgX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IodGhpcy5fbG9uZywgZS5fbG9uZyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBTZSA9IC9eX18uKl9fJC87XG5cbi8qKiBUaGUgcmVzdWx0IG9mIHBhcnNpbmcgZG9jdW1lbnQgZGF0YSAoZS5nLiBmb3IgYSBzZXREYXRhIGNhbGwpLiAqLyBjbGFzcyBQYXJzZWRTZXREYXRhIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGUsIHRoaXMuZmllbGRNYXNrID0gdCwgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSBuO1xuICAgIH1cbiAgICB0b011dGF0aW9uKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHRoaXMuZmllbGRNYXNrID8gbmV3IF9fUFJJVkFURV9QYXRjaE11dGF0aW9uKGUsIHRoaXMuZGF0YSwgdGhpcy5maWVsZE1hc2ssIHQsIHRoaXMuZmllbGRUcmFuc2Zvcm1zKSA6IG5ldyBfX1BSSVZBVEVfU2V0TXV0YXRpb24oZSwgdGhpcy5kYXRhLCB0LCB0aGlzLmZpZWxkVHJhbnNmb3Jtcyk7XG4gICAgfVxufVxuXG4vKiogVGhlIHJlc3VsdCBvZiBwYXJzaW5nIFwidXBkYXRlXCIgZGF0YSAoaS5lLiBmb3IgYW4gdXBkYXRlRGF0YSBjYWxsKS4gKi8gY2xhc3MgUGFyc2VkVXBkYXRlRGF0YSB7XG4gICAgY29uc3RydWN0b3IoZSwgXG4gICAgLy8gVGhlIGZpZWxkTWFzayBkb2VzIG5vdCBpbmNsdWRlIGRvY3VtZW50IHRyYW5zZm9ybXMuXG4gICAgdCwgbikge1xuICAgICAgICB0aGlzLmRhdGEgPSBlLCB0aGlzLmZpZWxkTWFzayA9IHQsIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gbjtcbiAgICB9XG4gICAgdG9NdXRhdGlvbihlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1BhdGNoTXV0YXRpb24oZSwgdGhpcy5kYXRhLCB0aGlzLmZpZWxkTWFzaywgdCwgdGhpcy5maWVsZFRyYW5zZm9ybXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2lzV3JpdGUoZSkge1xuICAgIHN3aXRjaCAoZSkge1xuICAgICAgY2FzZSAwIC8qIFVzZXJEYXRhU291cmNlLlNldCAqLyA6XG4gLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgIGNhc2UgMiAvKiBVc2VyRGF0YVNvdXJjZS5NZXJnZVNldCAqLyA6XG4gLy8gZmFsbCB0aHJvdWdoXG4gICAgICAgICAgICAgIGNhc2UgMSAvKiBVc2VyRGF0YVNvdXJjZS5VcGRhdGUgKi8gOlxuICAgICAgICByZXR1cm4gITA7XG5cbiAgICAgIGNhc2UgMyAvKiBVc2VyRGF0YVNvdXJjZS5Bcmd1bWVudCAqLyA6XG4gICAgICBjYXNlIDQgLyogVXNlckRhdGFTb3VyY2UuQXJyYXlBcmd1bWVudCAqLyA6XG4gICAgICAgIHJldHVybiAhMTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbn1cblxuLyoqIEEgXCJjb250ZXh0XCIgb2JqZWN0IHBhc3NlZCBhcm91bmQgd2hpbGUgcGFyc2luZyB1c2VyIGRhdGEuICovIGNsYXNzIF9fUFJJVkFURV9QYXJzZUNvbnRleHRJbXBsIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIFBhcnNlQ29udGV4dCB3aXRoIHRoZSBnaXZlbiBzb3VyY2UgYW5kIHBhdGguXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2V0dGluZ3MgLSBUaGUgc2V0dGluZ3MgZm9yIHRoZSBwYXJzZXIuXG4gICAgICogQHBhcmFtIGRhdGFiYXNlSWQgLSBUaGUgZGF0YWJhc2UgSUQgb2YgdGhlIEZpcmVzdG9yZSBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gc2VyaWFsaXplciAtIFRoZSBzZXJpYWxpemVyIHRvIHVzZSB0byBnZW5lcmF0ZSB0aGUgVmFsdWUgcHJvdG8uXG4gICAgICogQHBhcmFtIGlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgLSBXaGV0aGVyIHRvIGlnbm9yZSB1bmRlZmluZWQgcHJvcGVydGllc1xuICAgICAqIHJhdGhlciB0aGFuIHRocm93LlxuICAgICAqIEBwYXJhbSBmaWVsZFRyYW5zZm9ybXMgLSBBIG11dGFibGUgbGlzdCBvZiBmaWVsZCB0cmFuc2Zvcm1zIGVuY291bnRlcmVkXG4gICAgICogd2hpbGUgcGFyc2luZyB0aGUgZGF0YS5cbiAgICAgKiBAcGFyYW0gZmllbGRNYXNrIC0gQSBtdXRhYmxlIGxpc3Qgb2YgZmllbGQgcGF0aHMgZW5jb3VudGVyZWQgd2hpbGUgcGFyc2luZ1xuICAgICAqIHRoZSBkYXRhLlxuICAgICAqXG4gICAgICogVE9ETyhiLzM0ODcxMTMxKTogV2UgZG9uJ3Qgc3VwcG9ydCBhcnJheSBwYXRocyByaWdodCBub3csIHNvIHBhdGggY2FuIGJlXG4gICAgICogbnVsbCB0byBpbmRpY2F0ZSB0aGUgY29udGV4dCByZXByZXNlbnRzIGFueSBsb2NhdGlvbiB3aXRoaW4gYW4gYXJyYXkgKGluXG4gICAgICogd2hpY2ggY2FzZSBjZXJ0YWluIGZlYXR1cmVzIHdpbGwgbm90IHdvcmsgYW5kIGVycm9ycyB3aWxsIGJlIHNvbWV3aGF0XG4gICAgICogY29tcHJvbWlzZWQpLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IGUsIHRoaXMuZGF0YWJhc2VJZCA9IHQsIHRoaXMuc2VyaWFsaXplciA9IG4sIHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyA9IHIsIFxuICAgICAgICAvLyBNaW5vciBoYWNrOiBJZiBmaWVsZFRyYW5zZm9ybXMgaXMgdW5kZWZpbmVkLCB3ZSBhc3N1bWUgdGhpcyBpcyBhblxuICAgICAgICAvLyBleHRlcm5hbCBjYWxsIGFuZCB3ZSBuZWVkIHRvIHZhbGlkYXRlIHRoZSBlbnRpcmUgcGF0aC5cbiAgICAgICAgdm9pZCAwID09PSBpICYmIHRoaXMubXUoKSwgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSBpIHx8IFtdLCB0aGlzLmZpZWxkTWFzayA9IHMgfHwgW107XG4gICAgfVxuICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5wYXRoO1xuICAgIH1cbiAgICBnZXQgZnUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmZ1O1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhIG5ldyBjb250ZXh0IHdpdGggdGhlIHNwZWNpZmllZCBzZXR0aW5ncyBvdmVyd3JpdHRlbi4gKi8gICAgZ3UoZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9QYXJzZUNvbnRleHRJbXBsKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5zZXR0aW5ncyksIGUpLCB0aGlzLmRhdGFiYXNlSWQsIHRoaXMuc2VyaWFsaXplciwgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzLCB0aGlzLmZpZWxkVHJhbnNmb3JtcywgdGhpcy5maWVsZE1hc2spO1xuICAgIH1cbiAgICBwdShlKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICBjb25zdCBuID0gbnVsbCA9PT0gKHQgPSB0aGlzLnBhdGgpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuY2hpbGQoZSksIHIgPSB0aGlzLmd1KHtcbiAgICAgICAgICAgIHBhdGg6IG4sXG4gICAgICAgICAgICB5dTogITFcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByLnd1KGUpLCByO1xuICAgIH1cbiAgICBTdShlKSB7XG4gICAgICAgIHZhciB0O1xuICAgICAgICBjb25zdCBuID0gbnVsbCA9PT0gKHQgPSB0aGlzLnBhdGgpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuY2hpbGQoZSksIHIgPSB0aGlzLmd1KHtcbiAgICAgICAgICAgIHBhdGg6IG4sXG4gICAgICAgICAgICB5dTogITFcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByLm11KCksIHI7XG4gICAgfVxuICAgIGJ1KGUpIHtcbiAgICAgICAgLy8gVE9ETyhiLzM0ODcxMTMxKTogV2UgZG9uJ3Qgc3VwcG9ydCBhcnJheSBwYXRocyByaWdodCBub3c7IHNvIG1ha2UgcGF0aFxuICAgICAgICAvLyB1bmRlZmluZWQuXG4gICAgICAgIHJldHVybiB0aGlzLmd1KHtcbiAgICAgICAgICAgIHBhdGg6IHZvaWQgMCxcbiAgICAgICAgICAgIHl1OiAhMFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgRHUoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2NyZWF0ZUVycm9yKGUsIHRoaXMuc2V0dGluZ3MubWV0aG9kTmFtZSwgdGhpcy5zZXR0aW5ncy5DdSB8fCAhMSwgdGhpcy5wYXRoLCB0aGlzLnNldHRpbmdzLnZ1KTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgJ3RydWUnIGlmICdmaWVsZFBhdGgnIHdhcyB0cmF2ZXJzZWQgd2hlbiBjcmVhdGluZyB0aGlzIGNvbnRleHQuICovICAgIGNvbnRhaW5zKGUpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdGhpcy5maWVsZE1hc2suZmluZCgodCA9PiBlLmlzUHJlZml4T2YodCkpKSB8fCB2b2lkIDAgIT09IHRoaXMuZmllbGRUcmFuc2Zvcm1zLmZpbmQoKHQgPT4gZS5pc1ByZWZpeE9mKHQuZmllbGQpKSk7XG4gICAgfVxuICAgIG11KCkge1xuICAgICAgICAvLyBUT0RPKGIvMzQ4NzExMzEpOiBSZW1vdmUgbnVsbCBjaGVjayBvbmNlIHdlIGhhdmUgcHJvcGVyIHBhdGhzIGZvciBmaWVsZHNcbiAgICAgICAgLy8gd2l0aGluIGFycmF5cy5cbiAgICAgICAgaWYgKHRoaXMucGF0aCkgZm9yIChsZXQgZSA9IDA7IGUgPCB0aGlzLnBhdGgubGVuZ3RoOyBlKyspIHRoaXMud3UodGhpcy5wYXRoLmdldChlKSk7XG4gICAgfVxuICAgIHd1KGUpIHtcbiAgICAgICAgaWYgKDAgPT09IGUubGVuZ3RoKSB0aHJvdyB0aGlzLkR1KFwiRG9jdW1lbnQgZmllbGRzIG11c3Qgbm90IGJlIGVtcHR5XCIpO1xuICAgICAgICBpZiAoX19QUklWQVRFX2lzV3JpdGUodGhpcy5mdSkgJiYgU2UudGVzdChlKSkgdGhyb3cgdGhpcy5EdSgnRG9jdW1lbnQgZmllbGRzIGNhbm5vdCBiZWdpbiBhbmQgZW5kIHdpdGggXCJfX1wiJyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciBmb3IgcGFyc2luZyByYXcgdXNlciBpbnB1dCAocHJvdmlkZWQgdmlhIHRoZSBBUEkpIGludG8gaW50ZXJuYWwgbW9kZWxcbiAqIGNsYXNzZXMuXG4gKi8gY2xhc3MgX19QUklWQVRFX1VzZXJEYXRhUmVhZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuZGF0YWJhc2VJZCA9IGUsIHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyA9IHQsIHRoaXMuc2VyaWFsaXplciA9IG4gfHwgX19QUklWQVRFX25ld1NlcmlhbGl6ZXIoZSk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IHRvcC1sZXZlbCBwYXJzZSBjb250ZXh0LiAqLyAgICBGdShlLCB0LCBuLCByID0gITEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUGFyc2VDb250ZXh0SW1wbCh7XG4gICAgICAgICAgICBmdTogZSxcbiAgICAgICAgICAgIG1ldGhvZE5hbWU6IHQsXG4gICAgICAgICAgICB2dTogbixcbiAgICAgICAgICAgIHBhdGg6IEZpZWxkUGF0aCQxLmVtcHR5UGF0aCgpLFxuICAgICAgICAgICAgeXU6ICExLFxuICAgICAgICAgICAgQ3U6IHJcbiAgICAgICAgfSwgdGhpcy5kYXRhYmFzZUlkLCB0aGlzLnNlcmlhbGl6ZXIsIHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoZSkge1xuICAgIGNvbnN0IHQgPSBlLl9mcmVlemVTZXR0aW5ncygpLCBuID0gX19QUklWQVRFX25ld1NlcmlhbGl6ZXIoZS5fZGF0YWJhc2VJZCk7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfVXNlckRhdGFSZWFkZXIoZS5fZGF0YWJhc2VJZCwgISF0Lmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsIG4pO1xufVxuXG4vKiogUGFyc2UgZG9jdW1lbnQgZGF0YSBmcm9tIGEgc2V0KCkgY2FsbC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlU2V0RGF0YShlLCB0LCBuLCByLCBpLCBzID0ge30pIHtcbiAgICBjb25zdCBvID0gZS5GdShzLm1lcmdlIHx8IHMubWVyZ2VGaWVsZHMgPyAyIC8qIFVzZXJEYXRhU291cmNlLk1lcmdlU2V0ICovIDogMCAvKiBVc2VyRGF0YVNvdXJjZS5TZXQgKi8gLCB0LCBuLCBpKTtcbiAgICBfX1BSSVZBVEVfdmFsaWRhdGVQbGFpbk9iamVjdChcIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6XCIsIG8sIHIpO1xuICAgIGNvbnN0IF8gPSBfX1BSSVZBVEVfcGFyc2VPYmplY3Qociwgbyk7XG4gICAgbGV0IGEsIHU7XG4gICAgaWYgKHMubWVyZ2UpIGEgPSBuZXcgRmllbGRNYXNrKG8uZmllbGRNYXNrKSwgdSA9IG8uZmllbGRUcmFuc2Zvcm1zOyBlbHNlIGlmIChzLm1lcmdlRmllbGRzKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCByIG9mIHMubWVyZ2VGaWVsZHMpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEodCwgciwgbik7XG4gICAgICAgICAgICBpZiAoIW8uY29udGFpbnMoaSkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGaWVsZCAnJHtpfScgaXMgc3BlY2lmaWVkIGluIHlvdXIgZmllbGQgbWFzayBidXQgbWlzc2luZyBmcm9tIHlvdXIgaW5wdXQgZGF0YS5gKTtcbiAgICAgICAgICAgIF9fUFJJVkFURV9maWVsZE1hc2tDb250YWlucyhlLCBpKSB8fCBlLnB1c2goaSk7XG4gICAgICAgIH1cbiAgICAgICAgYSA9IG5ldyBGaWVsZE1hc2soZSksIHUgPSBvLmZpZWxkVHJhbnNmb3Jtcy5maWx0ZXIoKGUgPT4gYS5jb3ZlcnMoZS5maWVsZCkpKTtcbiAgICB9IGVsc2UgYSA9IG51bGwsIHUgPSBvLmZpZWxkVHJhbnNmb3JtcztcbiAgICByZXR1cm4gbmV3IFBhcnNlZFNldERhdGEobmV3IE9iamVjdFZhbHVlKF8pLCBhLCB1KTtcbn1cblxuY2xhc3MgX19QUklWQVRFX0RlbGV0ZUZpZWxkVmFsdWVJbXBsIGV4dGVuZHMgRmllbGRWYWx1ZSB7XG4gICAgX3RvRmllbGRUcmFuc2Zvcm0oZSkge1xuICAgICAgICBpZiAoMiAvKiBVc2VyRGF0YVNvdXJjZS5NZXJnZVNldCAqLyAhPT0gZS5mdSkgdGhyb3cgMSAvKiBVc2VyRGF0YVNvdXJjZS5VcGRhdGUgKi8gPT09IGUuZnUgPyBlLkR1KGAke3RoaXMuX21ldGhvZE5hbWV9KCkgY2FuIG9ubHkgYXBwZWFyIGF0IHRoZSB0b3AgbGV2ZWwgb2YgeW91ciB1cGRhdGUgZGF0YWApIDogZS5EdShgJHt0aGlzLl9tZXRob2ROYW1lfSgpIGNhbm5vdCBiZSB1c2VkIHdpdGggc2V0KCkgdW5sZXNzIHlvdSBwYXNzIHttZXJnZTp0cnVlfWApO1xuICAgICAgICAvLyBObyB0cmFuc2Zvcm0gdG8gYWRkIGZvciBhIGRlbGV0ZSwgYnV0IHdlIG5lZWQgdG8gYWRkIGl0IHRvIG91clxuICAgICAgICAvLyBmaWVsZE1hc2sgc28gaXQgZ2V0cyBkZWxldGVkLlxuICAgICAgICByZXR1cm4gZS5maWVsZE1hc2sucHVzaChlLnBhdGgpLCBudWxsO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGw7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBjaGlsZCBjb250ZXh0IGZvciBwYXJzaW5nIFNlcmlhbGl6YWJsZUZpZWxkVmFsdWVzLlxuICpcbiAqIFRoaXMgaXMgZGlmZmVyZW50IHRoYW4gY2FsbGluZyBgUGFyc2VDb250ZXh0LmNvbnRleHRXaXRoYCBiZWNhdXNlIGl0IGtlZXBzXG4gKiB0aGUgZmllbGRUcmFuc2Zvcm1zIGFuZCBmaWVsZE1hc2sgc2VwYXJhdGUuXG4gKlxuICogVGhlIGNyZWF0ZWQgY29udGV4dCBoYXMgaXRzIGBkYXRhU291cmNlYCBzZXQgdG8gYFVzZXJEYXRhU291cmNlLkFyZ3VtZW50YC5cbiAqIEFsdGhvdWdoIHRoZXNlIHZhbHVlcyBhcmUgdXNlZCB3aXRoIHdyaXRlcywgYW55IGVsZW1lbnRzIGluIHRoZXNlIEZpZWxkVmFsdWVzXG4gKiBhcmUgbm90IGNvbnNpZGVyZWQgd3JpdGVzIHNpbmNlIHRoZXkgY2Fubm90IGNvbnRhaW4gYW55IEZpZWxkVmFsdWUgc2VudGluZWxzLFxuICogZXRjLlxuICpcbiAqIEBwYXJhbSBmaWVsZFZhbHVlIC0gVGhlIHNlbnRpbmVsIEZpZWxkVmFsdWUgZm9yIHdoaWNoIHRvIGNyZWF0ZSBhIGNoaWxkXG4gKiAgICAgY29udGV4dC5cbiAqIEBwYXJhbSBjb250ZXh0IC0gVGhlIHBhcmVudCBjb250ZXh0LlxuICogQHBhcmFtIGFycmF5RWxlbWVudCAtIFdoZXRoZXIgb3Igbm90IHRoZSBGaWVsZFZhbHVlIGhhcyBhbiBhcnJheS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlU2VudGluZWxDaGlsZENvbnRleHQoZSwgdCwgbikge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1BhcnNlQ29udGV4dEltcGwoe1xuICAgICAgICBmdTogMyAvKiBVc2VyRGF0YVNvdXJjZS5Bcmd1bWVudCAqLyAsXG4gICAgICAgIHZ1OiB0LnNldHRpbmdzLnZ1LFxuICAgICAgICBtZXRob2ROYW1lOiBlLl9tZXRob2ROYW1lLFxuICAgICAgICB5dTogblxuICAgIH0sIHQuZGF0YWJhc2VJZCwgdC5zZXJpYWxpemVyLCB0Lmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMpO1xufVxuXG5jbGFzcyBfX1BSSVZBVEVfU2VydmVyVGltZXN0YW1wRmllbGRWYWx1ZUltcGwgZXh0ZW5kcyBGaWVsZFZhbHVlIHtcbiAgICBfdG9GaWVsZFRyYW5zZm9ybShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRUcmFuc2Zvcm0oZS5wYXRoLCBuZXcgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybSk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBGaWVsZFZhbHVlSW1wbDtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9BcnJheVVuaW9uRmllbGRWYWx1ZUltcGwgZXh0ZW5kcyBGaWVsZFZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUpLCB0aGlzLk11ID0gdDtcbiAgICB9XG4gICAgX3RvRmllbGRUcmFuc2Zvcm0oZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2NyZWF0ZVNlbnRpbmVsQ2hpbGRDb250ZXh0KHRoaXMsIGUsIFxuICAgICAgICAvKmFycmF5PSovICEwKSwgbiA9IHRoaXMuTXUubWFwKChlID0+IF9fUFJJVkFURV9wYXJzZURhdGEoZSwgdCkpKSwgciA9IG5ldyBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbihuKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFRyYW5zZm9ybShlLnBhdGgsIHIpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlVbmlvbkZpZWxkVmFsdWVJbXBsICYmIHV0aWwuZGVlcEVxdWFsKHRoaXMuTXUsIGUuTXUpO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0FycmF5UmVtb3ZlRmllbGRWYWx1ZUltcGwgZXh0ZW5kcyBGaWVsZFZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUpLCB0aGlzLk11ID0gdDtcbiAgICB9XG4gICAgX3RvRmllbGRUcmFuc2Zvcm0oZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2NyZWF0ZVNlbnRpbmVsQ2hpbGRDb250ZXh0KHRoaXMsIGUsIFxuICAgICAgICAvKmFycmF5PSovICEwKSwgbiA9IHRoaXMuTXUubWFwKChlID0+IF9fUFJJVkFURV9wYXJzZURhdGEoZSwgdCkpKSwgciA9IG5ldyBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24obik7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRUcmFuc2Zvcm0oZS5wYXRoLCByKTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5UmVtb3ZlRmllbGRWYWx1ZUltcGwgJiYgdXRpbC5kZWVwRXF1YWwodGhpcy5NdSwgZS5NdSk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudEZpZWxkVmFsdWVJbXBsIGV4dGVuZHMgRmllbGRWYWx1ZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcihlKSwgdGhpcy54dSA9IHQ7XG4gICAgfVxuICAgIF90b0ZpZWxkVHJhbnNmb3JtKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvbihlLnNlcmlhbGl6ZXIsIHRvTnVtYmVyKGUuc2VyaWFsaXplciwgdGhpcy54dSkpO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkVHJhbnNmb3JtKGUucGF0aCwgdCk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50RmllbGRWYWx1ZUltcGwgJiYgdGhpcy54dSA9PT0gZS54dTtcbiAgICB9XG59XG5cbi8qKiBQYXJzZSB1cGRhdGUgZGF0YSBmcm9tIGFuIHVwZGF0ZSgpIGNhbGwuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZVVwZGF0ZURhdGEoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IGkgPSBlLkZ1KDEgLyogVXNlckRhdGFTb3VyY2UuVXBkYXRlICovICwgdCwgbik7XG4gICAgX19QUklWQVRFX3ZhbGlkYXRlUGxhaW5PYmplY3QoXCJEYXRhIG11c3QgYmUgYW4gb2JqZWN0LCBidXQgaXQgd2FzOlwiLCBpLCByKTtcbiAgICBjb25zdCBzID0gW10sIG8gPSBPYmplY3RWYWx1ZS5lbXB0eSgpO1xuICAgIGZvckVhY2gociwgKChlLCByKSA9PiB7XG4gICAgICAgIGNvbnN0IF8gPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyh0LCBlLCBuKTtcbiAgICAgICAgLy8gRm9yIENvbXBhdCB0eXBlcywgd2UgaGF2ZSB0byBcImV4dHJhY3RcIiB0aGUgdW5kZXJseWluZyB0eXBlcyBiZWZvcmVcbiAgICAgICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIHIgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShyKTtcbiAgICAgICAgY29uc3QgYSA9IGkuU3UoXyk7XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgX19QUklWQVRFX0RlbGV0ZUZpZWxkVmFsdWVJbXBsKSBcbiAgICAgICAgLy8gQWRkIGl0IHRvIHRoZSBmaWVsZCBtYXNrLCBidXQgZG9uJ3QgYWRkIGFueXRoaW5nIHRvIHVwZGF0ZURhdGEuXG4gICAgICAgIHMucHVzaChfKTsgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlID0gX19QUklWQVRFX3BhcnNlRGF0YShyLCBhKTtcbiAgICAgICAgICAgIG51bGwgIT0gZSAmJiAocy5wdXNoKF8pLCBvLnNldChfLCBlKSk7XG4gICAgICAgIH1cbiAgICB9KSk7XG4gICAgY29uc3QgXyA9IG5ldyBGaWVsZE1hc2socyk7XG4gICAgcmV0dXJuIG5ldyBQYXJzZWRVcGRhdGVEYXRhKG8sIF8sIGkuZmllbGRUcmFuc2Zvcm1zKTtcbn1cblxuLyoqIFBhcnNlIHVwZGF0ZSBkYXRhIGZyb20gYSBsaXN0IG9mIGZpZWxkL3ZhbHVlIGFyZ3VtZW50cy4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlVXBkYXRlVmFyYXJncyhlLCB0LCBuLCByLCBpLCBzKSB7XG4gICAgY29uc3QgbyA9IGUuRnUoMSAvKiBVc2VyRGF0YVNvdXJjZS5VcGRhdGUgKi8gLCB0LCBuKSwgXyA9IFsgX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudCQxKHQsIHIsIG4pIF0sIGEgPSBbIGkgXTtcbiAgICBpZiAocy5sZW5ndGggJSAyICE9IDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGdW5jdGlvbiAke3R9KCkgbmVlZHMgdG8gYmUgY2FsbGVkIHdpdGggYW4gZXZlbiBudW1iZXIgb2YgYXJndW1lbnRzIHRoYXQgYWx0ZXJuYXRlIGJldHdlZW4gZmllbGQgbmFtZXMgYW5kIHZhbHVlcy5gKTtcbiAgICBmb3IgKGxldCBlID0gMDsgZSA8IHMubGVuZ3RoOyBlICs9IDIpIF8ucHVzaChfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEodCwgc1tlXSkpLCBcbiAgICBhLnB1c2goc1tlICsgMV0pO1xuICAgIGNvbnN0IHUgPSBbXSwgYyA9IE9iamVjdFZhbHVlLmVtcHR5KCk7XG4gICAgLy8gV2UgaXRlcmF0ZSBpbiByZXZlcnNlIG9yZGVyIHRvIHBpY2sgdGhlIGxhc3QgdmFsdWUgZm9yIGEgZmllbGQgaWYgdGhlXG4gICAgLy8gdXNlciBzcGVjaWZpZWQgdGhlIGZpZWxkIG11bHRpcGxlIHRpbWVzLlxuICAgIGZvciAobGV0IGUgPSBfLmxlbmd0aCAtIDE7IGUgPj0gMDsgLS1lKSBpZiAoIV9fUFJJVkFURV9maWVsZE1hc2tDb250YWlucyh1LCBfW2VdKSkge1xuICAgICAgICBjb25zdCB0ID0gX1tlXTtcbiAgICAgICAgbGV0IG4gPSBhW2VdO1xuICAgICAgICAvLyBGb3IgQ29tcGF0IHR5cGVzLCB3ZSBoYXZlIHRvIFwiZXh0cmFjdFwiIHRoZSB1bmRlcmx5aW5nIHR5cGVzIGJlZm9yZVxuICAgICAgICAvLyBwZXJmb3JtaW5nIHZhbGlkYXRpb24uXG4gICAgICAgICAgICAgICAgbiA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKG4pO1xuICAgICAgICBjb25zdCByID0gby5TdSh0KTtcbiAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGwpIFxuICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIGZpZWxkIG1hc2ssIGJ1dCBkb24ndCBhZGQgYW55dGhpbmcgdG8gdXBkYXRlRGF0YS5cbiAgICAgICAgdS5wdXNoKHQpOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBfX1BSSVZBVEVfcGFyc2VEYXRhKG4sIHIpO1xuICAgICAgICAgICAgbnVsbCAhPSBlICYmICh1LnB1c2godCksIGMuc2V0KHQsIGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBsID0gbmV3IEZpZWxkTWFzayh1KTtcbiAgICByZXR1cm4gbmV3IFBhcnNlZFVwZGF0ZURhdGEoYywgbCwgby5maWVsZFRyYW5zZm9ybXMpO1xufVxuXG4vKipcbiAqIFBhcnNlIGEgXCJxdWVyeSB2YWx1ZVwiIChlLmcuIHZhbHVlIGluIGEgd2hlcmUgZmlsdGVyIG9yIGEgdmFsdWUgaW4gYSBjdXJzb3JcbiAqIGJvdW5kKS5cbiAqXG4gKiBAcGFyYW0gYWxsb3dBcnJheXMgLSBXaGV0aGVyIHRoZSBxdWVyeSB2YWx1ZSBpcyBhbiBhcnJheSB0aGF0IG1heSBkaXJlY3RseVxuICogY29udGFpbiBhZGRpdGlvbmFsIGFycmF5cyAoZS5nLiB0aGUgb3BlcmFuZCBvZiBhbiBgaW5gIHF1ZXJ5KS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VRdWVyeVZhbHVlKGUsIHQsIG4sIHIgPSAhMSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfcGFyc2VEYXRhKG4sIGUuRnUociA/IDQgLyogVXNlckRhdGFTb3VyY2UuQXJyYXlBcmd1bWVudCAqLyA6IDMgLyogVXNlckRhdGFTb3VyY2UuQXJndW1lbnQgKi8gLCB0KSk7XG59XG5cbi8qKlxuICogUGFyc2VzIHVzZXIgZGF0YSB0byBQcm90b2J1ZiBWYWx1ZXMuXG4gKlxuICogQHBhcmFtIGlucHV0IC0gRGF0YSB0byBiZSBwYXJzZWQuXG4gKiBAcGFyYW0gY29udGV4dCAtIEEgY29udGV4dCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IHBhdGggYmVpbmcgcGFyc2VkLFxuICogdGhlIHNvdXJjZSBvZiB0aGUgZGF0YSBiZWluZyBwYXJzZWQsIGV0Yy5cbiAqIEByZXR1cm5zIFRoZSBwYXJzZWQgdmFsdWUsIG9yIG51bGwgaWYgdGhlIHZhbHVlIHdhcyBhIEZpZWxkVmFsdWUgc2VudGluZWxcbiAqIHRoYXQgc2hvdWxkIG5vdCBiZSBpbmNsdWRlZCBpbiB0aGUgcmVzdWx0aW5nIHBhcnNlZCBkYXRhLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZURhdGEoZSwgdCkge1xuICAgIGlmIChfX1BSSVZBVEVfbG9va3NMaWtlSnNvbk9iamVjdChcbiAgICAvLyBVbndyYXAgdGhlIEFQSSB0eXBlIGZyb20gdGhlIENvbXBhdCBTREsuIFRoaXMgd2lsbCByZXR1cm4gdGhlIEFQSSB0eXBlXG4gICAgLy8gZnJvbSBmaXJlc3RvcmUtZXhwLlxuICAgIGUgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShlKSkpIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVQbGFpbk9iamVjdChcIlVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOlwiLCB0LCBlKSwgXG4gICAgX19QUklWQVRFX3BhcnNlT2JqZWN0KGUsIHQpO1xuICAgIGlmIChlIGluc3RhbmNlb2YgRmllbGRWYWx1ZSkgXG4gICAgLy8gRmllbGRWYWx1ZXMgdXN1YWxseSBwYXJzZSBpbnRvIHRyYW5zZm9ybXMgKGV4Y2VwdCBkZWxldGVGaWVsZCgpKVxuICAgIC8vIGluIHdoaWNoIGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gaW5jbHVkZSB0aGlzIGZpZWxkIGluIG91ciBwYXJzZWQgZGF0YVxuICAgIC8vIChhcyBkb2luZyBzbyB3aWxsIG92ZXJ3cml0ZSB0aGUgZmllbGQgZGlyZWN0bHkgcHJpb3IgdG8gdGhlIHRyYW5zZm9ybVxuICAgIC8vIHRyeWluZyB0byB0cmFuc2Zvcm0gaXQpLiBTbyB3ZSBkb24ndCBhZGQgdGhpcyBsb2NhdGlvbiB0b1xuICAgIC8vIGNvbnRleHQuZmllbGRNYXNrIGFuZCB3ZSByZXR1cm4gbnVsbCBhcyBvdXIgcGFyc2luZyByZXN1bHQuXG4gICAgLyoqXG4gKiBcIlBhcnNlc1wiIHRoZSBwcm92aWRlZCBGaWVsZFZhbHVlSW1wbCwgYWRkaW5nIGFueSBuZWNlc3NhcnkgdHJhbnNmb3JtcyB0b1xuICogY29udGV4dC5maWVsZFRyYW5zZm9ybXMuXG4gKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlU2VudGluZWxGaWVsZFZhbHVlKGUsIHQpIHtcbiAgICAgICAgLy8gU2VudGluZWxzIGFyZSBvbmx5IHN1cHBvcnRlZCB3aXRoIHdyaXRlcywgYW5kIG5vdCB3aXRoaW4gYXJyYXlzLlxuICAgICAgICBpZiAoIV9fUFJJVkFURV9pc1dyaXRlKHQuZnUpKSB0aHJvdyB0LkR1KGAke2UuX21ldGhvZE5hbWV9KCkgY2FuIG9ubHkgYmUgdXNlZCB3aXRoIHVwZGF0ZSgpIGFuZCBzZXQoKWApO1xuICAgICAgICBpZiAoIXQucGF0aCkgdGhyb3cgdC5EdShgJHtlLl9tZXRob2ROYW1lfSgpIGlzIG5vdCBjdXJyZW50bHkgc3VwcG9ydGVkIGluc2lkZSBhcnJheXNgKTtcbiAgICAgICAgY29uc3QgbiA9IGUuX3RvRmllbGRUcmFuc2Zvcm0odCk7XG4gICAgICAgIG4gJiYgdC5maWVsZFRyYW5zZm9ybXMucHVzaChuKTtcbiAgICB9XG4gICAgLyoqXG4gKiBIZWxwZXIgdG8gcGFyc2UgYSBzY2FsYXIgdmFsdWUgKGkuZS4gbm90IGFuIE9iamVjdCwgQXJyYXksIG9yIEZpZWxkVmFsdWUpXG4gKlxuICogQHJldHVybnMgVGhlIHBhcnNlZCB2YWx1ZVxuICovIChlLCB0KSwgbnVsbDtcbiAgICBpZiAodm9pZCAwID09PSBlICYmIHQuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcykgXG4gICAgLy8gSWYgdGhlIGlucHV0IGlzIHVuZGVmaW5lZCBpdCBjYW4gbmV2ZXIgcGFydGljaXBhdGUgaW4gdGhlIGZpZWxkTWFzaywgc29cbiAgICAvLyBkb24ndCBoYW5kbGUgdGhpcyBiZWxvdy4gSWYgYGlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXNgIGlzIGZhbHNlLFxuICAgIC8vIGBwYXJzZVNjYWxhclZhbHVlYCB3aWxsIHJlamVjdCBhbiB1bmRlZmluZWQgdmFsdWUuXG4gICAgcmV0dXJuIG51bGw7XG4gICAgaWYgKFxuICAgIC8vIElmIGNvbnRleHQucGF0aCBpcyBudWxsIHdlIGFyZSBpbnNpZGUgYW4gYXJyYXkgYW5kIHdlIGRvbid0IHN1cHBvcnRcbiAgICAvLyBmaWVsZCBtYXNrIHBhdGhzIG1vcmUgZ3JhbnVsYXIgdGhhbiB0aGUgdG9wLWxldmVsIGFycmF5LlxuICAgIHQucGF0aCAmJiB0LmZpZWxkTWFzay5wdXNoKHQucGF0aCksIGUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAvLyBUT0RPKGIvMzQ4NzExMzEpOiBJbmNsdWRlIHRoZSBwYXRoIGNvbnRhaW5pbmcgdGhlIGFycmF5IGluIHRoZSBlcnJvclxuICAgICAgICAvLyBtZXNzYWdlLlxuICAgICAgICAvLyBJbiB0aGUgY2FzZSBvZiBJTiBxdWVyaWVzLCB0aGUgcGFyc2VkIGRhdGEgaXMgYW4gYXJyYXkgKHJlcHJlc2VudGluZ1xuICAgICAgICAvLyB0aGUgc2V0IG9mIHZhbHVlcyB0byBiZSBpbmNsdWRlZCBmb3IgdGhlIElOIHF1ZXJ5KSB0aGF0IG1heSBkaXJlY3RseVxuICAgICAgICAvLyBjb250YWluIGFkZGl0aW9uYWwgYXJyYXlzIChlYWNoIHJlcHJlc2VudGluZyBhbiBpbmRpdmlkdWFsIGZpZWxkXG4gICAgICAgIC8vIHZhbHVlKSwgc28gd2UgZGlzYWJsZSB0aGlzIHZhbGlkYXRpb24uXG4gICAgICAgIGlmICh0LnNldHRpbmdzLnl1ICYmIDQgLyogVXNlckRhdGFTb3VyY2UuQXJyYXlBcmd1bWVudCAqLyAhPT0gdC5mdSkgdGhyb3cgdC5EdShcIk5lc3RlZCBhcnJheXMgYXJlIG5vdCBzdXBwb3J0ZWRcIik7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VBcnJheShlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gW107XG4gICAgICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgZSkge1xuICAgICAgICAgICAgICAgIGxldCBlID0gX19QUklWQVRFX3BhcnNlRGF0YShpLCB0LmJ1KHIpKTtcbiAgICAgICAgICAgICAgICBudWxsID09IGUgJiYgKFxuICAgICAgICAgICAgICAgIC8vIEp1c3QgaW5jbHVkZSBudWxscyBpbiB0aGUgYXJyYXkgZm9yIGZpZWxkcyBiZWluZyByZXBsYWNlZCB3aXRoIGFcbiAgICAgICAgICAgICAgICAvLyBzZW50aW5lbC5cbiAgICAgICAgICAgICAgICBlID0ge1xuICAgICAgICAgICAgICAgICAgICBudWxsVmFsdWU6IFwiTlVMTF9WQUxVRVwiXG4gICAgICAgICAgICAgICAgfSksIG4ucHVzaChlKSwgcisrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBhcnJheVZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlczogblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oZSwgdCk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VTY2FsYXJWYWx1ZShlLCB0KSB7XG4gICAgICAgIGlmIChudWxsID09PSAoZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpKSkgcmV0dXJuIHtcbiAgICAgICAgICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGUpIHJldHVybiB0b051bWJlcih0LnNlcmlhbGl6ZXIsIGUpO1xuICAgICAgICBpZiAoXCJib29sZWFuXCIgPT0gdHlwZW9mIGUpIHJldHVybiB7XG4gICAgICAgICAgICBib29sZWFuVmFsdWU6IGVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpIHJldHVybiB7XG4gICAgICAgICAgICBzdHJpbmdWYWx1ZTogZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBUaW1lc3RhbXAuZnJvbURhdGUoZSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHRpbWVzdGFtcFZhbHVlOiB0b1RpbWVzdGFtcCh0LnNlcmlhbGl6ZXIsIG4pXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgVGltZXN0YW1wKSB7XG4gICAgICAgICAgICAvLyBGaXJlc3RvcmUgYmFja2VuZCB0cnVuY2F0ZXMgcHJlY2lzaW9uIGRvd24gdG8gbWljcm9zZWNvbmRzLiBUbyBlbnN1cmVcbiAgICAgICAgICAgIC8vIG9mZmxpbmUgbW9kZSB3b3JrcyB0aGUgc2FtZSB3aXRoIHJlZ2FyZHMgdG8gdHJ1bmNhdGlvbiwgcGVyZm9ybSB0aGVcbiAgICAgICAgICAgIC8vIHRydW5jYXRpb24gaW1tZWRpYXRlbHkgd2l0aG91dCB3YWl0aW5nIGZvciB0aGUgYmFja2VuZCB0byBkbyB0aGF0LlxuICAgICAgICAgICAgY29uc3QgbiA9IG5ldyBUaW1lc3RhbXAoZS5zZWNvbmRzLCAxZTMgKiBNYXRoLmZsb29yKGUubmFub3NlY29uZHMgLyAxZTMpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wVmFsdWU6IHRvVGltZXN0YW1wKHQuc2VyaWFsaXplciwgbilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBHZW9Qb2ludCkgcmV0dXJuIHtcbiAgICAgICAgICAgIGdlb1BvaW50VmFsdWU6IHtcbiAgICAgICAgICAgICAgICBsYXRpdHVkZTogZS5sYXRpdHVkZSxcbiAgICAgICAgICAgICAgICBsb25naXR1ZGU6IGUubG9uZ2l0dWRlXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgQnl0ZXMpIHJldHVybiB7XG4gICAgICAgICAgICBieXRlc1ZhbHVlOiBfX1BSSVZBVEVfdG9CeXRlcyh0LnNlcmlhbGl6ZXIsIGUuX2J5dGVTdHJpbmcpXG4gICAgICAgIH07XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRG9jdW1lbnRSZWZlcmVuY2UpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0LmRhdGFiYXNlSWQsIHIgPSBlLmZpcmVzdG9yZS5fZGF0YWJhc2VJZDtcbiAgICAgICAgICAgIGlmICghci5pc0VxdWFsKG4pKSB0aHJvdyB0LkR1KGBEb2N1bWVudCByZWZlcmVuY2UgaXMgZm9yIGRhdGFiYXNlICR7ci5wcm9qZWN0SWR9LyR7ci5kYXRhYmFzZX0gYnV0IHNob3VsZCBiZSBmb3IgZGF0YWJhc2UgJHtuLnByb2plY3RJZH0vJHtuLmRhdGFiYXNlfWApO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZWZlcmVuY2VWYWx1ZTogX19QUklWQVRFX3RvUmVzb3VyY2VOYW1lKGUuZmlyZXN0b3JlLl9kYXRhYmFzZUlkIHx8IHQuZGF0YWJhc2VJZCwgZS5fa2V5LnBhdGgpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHRocm93IHQuRHUoYFVuc3VwcG9ydGVkIGZpZWxkIHZhbHVlOiAke19fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uKGUpfWApO1xuICAgIH1cbiAgICAvKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIG9iamVjdCBsb29rcyBsaWtlIGEgSlNPTiBvYmplY3QgdGhhdCBzaG91bGQgYmUgY29udmVydGVkXG4gKiBpbnRvIGEgc3RydWN0LiBOb3JtYWwgY2xhc3MvcHJvdG90eXBlIGluc3RhbmNlcyBhcmUgY29uc2lkZXJlZCB0byBsb29rIGxpa2VcbiAqIEpTT04gb2JqZWN0cyBzaW5jZSB0aGV5IHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gYSBzdHJ1Y3QgdmFsdWUuIEFycmF5cywgRGF0ZXMsXG4gKiBHZW9Qb2ludHMsIGV0Yy4gYXJlIG5vdCBjb25zaWRlcmVkIHRvIGxvb2sgbGlrZSBKU09OIG9iamVjdHMgc2luY2UgdGhleSBtYXBcbiAqIHRvIHNwZWNpZmljIEZpZWxkVmFsdWUgdHlwZXMgb3RoZXIgdGhhbiBPYmplY3RWYWx1ZS5cbiAqLyAoZSwgdCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZU9iamVjdChlLCB0KSB7XG4gICAgY29uc3QgbiA9IHt9O1xuICAgIHJldHVybiBpc0VtcHR5KGUpID8gXG4gICAgLy8gSWYgd2UgZW5jb3VudGVyIGFuIGVtcHR5IG9iamVjdCwgd2UgZXhwbGljaXRseSBhZGQgaXQgdG8gdGhlIHVwZGF0ZVxuICAgIC8vIG1hc2sgdG8gZW5zdXJlIHRoYXQgdGhlIHNlcnZlciBjcmVhdGVzIGEgbWFwIGVudHJ5LlxuICAgIHQucGF0aCAmJiB0LnBhdGgubGVuZ3RoID4gMCAmJiB0LmZpZWxkTWFzay5wdXNoKHQucGF0aCkgOiBmb3JFYWNoKGUsICgoZSwgcikgPT4ge1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX3BhcnNlRGF0YShyLCB0LnB1KGUpKTtcbiAgICAgICAgbnVsbCAhPSBpICYmIChuW2VdID0gaSk7XG4gICAgfSkpLCB7XG4gICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICBmaWVsZHM6IG5cbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb29rc0xpa2VKc29uT2JqZWN0KGUpIHtcbiAgICByZXR1cm4gIShcIm9iamVjdFwiICE9IHR5cGVvZiBlIHx8IG51bGwgPT09IGUgfHwgZSBpbnN0YW5jZW9mIEFycmF5IHx8IGUgaW5zdGFuY2VvZiBEYXRlIHx8IGUgaW5zdGFuY2VvZiBUaW1lc3RhbXAgfHwgZSBpbnN0YW5jZW9mIEdlb1BvaW50IHx8IGUgaW5zdGFuY2VvZiBCeXRlcyB8fCBlIGluc3RhbmNlb2YgRG9jdW1lbnRSZWZlcmVuY2UgfHwgZSBpbnN0YW5jZW9mIEZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVQbGFpbk9iamVjdChlLCB0LCBuKSB7XG4gICAgaWYgKCFfX1BSSVZBVEVfbG9va3NMaWtlSnNvbk9iamVjdChuKSB8fCAhZnVuY3Rpb24gX19QUklWQVRFX2lzUGxhaW5PYmplY3QoZSkge1xuICAgICAgICByZXR1cm4gXCJvYmplY3RcIiA9PSB0eXBlb2YgZSAmJiBudWxsICE9PSBlICYmIChPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkgPT09IE9iamVjdC5wcm90b3R5cGUgfHwgbnVsbCA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGUpKTtcbiAgICB9KG4pKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfdmFsdWVEZXNjcmlwdGlvbihuKTtcbiAgICAgICAgdGhyb3cgXCJhbiBvYmplY3RcIiA9PT0gciA/IHQuRHUoZSArIFwiIGEgY3VzdG9tIG9iamVjdFwiKSA6IHQuRHUoZSArIFwiIFwiICsgcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0aGF0IGNhbGxzIGZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoKSBidXQgd3JhcHMgYW55IGVycm9yIHRocm93bi5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEoZSwgdCwgbikge1xuICAgIGlmICgoXG4gICAgLy8gSWYgcmVxdWlyZWQsIHJlcGxhY2UgdGhlIEZpZWxkUGF0aCBDb21wYXQgY2xhc3Mgd2l0aCB3aXRoIHRoZSBmaXJlc3RvcmUtZXhwXG4gICAgLy8gRmllbGRQYXRoLlxuICAgIHQgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZSh0KSkgaW5zdGFuY2VvZiBGaWVsZFBhdGgpIHJldHVybiB0Ll9pbnRlcm5hbFBhdGg7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIHQpIHJldHVybiBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyhlLCB0KTtcbiAgICB0aHJvdyBfX1BSSVZBVEVfY3JlYXRlRXJyb3IoXCJGaWVsZCBwYXRoIGFyZ3VtZW50cyBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nIG9yIFwiLCBlLCBcbiAgICAvKiBoYXNDb252ZXJ0ZXI9ICovICExLCBcbiAgICAvKiBwYXRoPSAqLyB2b2lkIDAsIG4pO1xufVxuXG4vKipcbiAqIE1hdGNoZXMgYW55IGNoYXJhY3RlcnMgaW4gYSBmaWVsZCBwYXRoIHN0cmluZyB0aGF0IGFyZSByZXNlcnZlZC5cbiAqLyBjb25zdCBiZSA9IG5ldyBSZWdFeHAoXCJbflxcXFwqL1xcXFxbXFxcXF1dXCIpO1xuXG4vKipcbiAqIFdyYXBzIGZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcgd2l0aCBhbiBlcnJvciBtZXNzYWdlIGFib3V0IHRoZSBtZXRob2QgdGhhdFxuICogd2FzIHRocm93bi5cbiAqIEBwYXJhbSBtZXRob2ROYW1lIC0gVGhlIHB1YmxpY2x5IHZpc2libGUgbWV0aG9kIG5hbWVcbiAqIEBwYXJhbSBwYXRoIC0gVGhlIGRvdC1zZXBhcmF0ZWQgc3RyaW5nIGZvcm0gb2YgYSBmaWVsZCBwYXRoIHdoaWNoIHdpbGwgYmVcbiAqIHNwbGl0IG9uIGRvdHMuXG4gKiBAcGFyYW0gdGFyZ2V0RG9jIC0gVGhlIGRvY3VtZW50IGFnYWluc3Qgd2hpY2ggdGhlIGZpZWxkIHBhdGggd2lsbCBiZVxuICogZXZhbHVhdGVkLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZFBhdGhGcm9tRG90U2VwYXJhdGVkU3RyaW5nKGUsIHQsIG4pIHtcbiAgICBpZiAodC5zZWFyY2goYmUpID49IDApIHRocm93IF9fUFJJVkFURV9jcmVhdGVFcnJvcihgSW52YWxpZCBmaWVsZCBwYXRoICgke3R9KS4gUGF0aHMgbXVzdCBub3QgY29udGFpbiAnficsICcqJywgJy8nLCAnWycsIG9yICddJ2AsIGUsIFxuICAgIC8qIGhhc0NvbnZlcnRlcj0gKi8gITEsIFxuICAgIC8qIHBhdGg9ICovIHZvaWQgMCwgbik7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFBhdGgoLi4udC5zcGxpdChcIi5cIikpLl9pbnRlcm5hbFBhdGg7XG4gICAgfSBjYXRjaCAocikge1xuICAgICAgICB0aHJvdyBfX1BSSVZBVEVfY3JlYXRlRXJyb3IoYEludmFsaWQgZmllbGQgcGF0aCAoJHt0fSkuIFBhdGhzIG11c3Qgbm90IGJlIGVtcHR5LCBiZWdpbiB3aXRoICcuJywgZW5kIHdpdGggJy4nLCBvciBjb250YWluICcuLidgLCBlLCBcbiAgICAgICAgLyogaGFzQ29udmVydGVyPSAqLyAhMSwgXG4gICAgICAgIC8qIHBhdGg9ICovIHZvaWQgMCwgbik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlRXJyb3IoZSwgdCwgbiwgciwgaSkge1xuICAgIGNvbnN0IHMgPSByICYmICFyLmlzRW1wdHkoKSwgbyA9IHZvaWQgMCAhPT0gaTtcbiAgICBsZXQgXyA9IGBGdW5jdGlvbiAke3R9KCkgY2FsbGVkIHdpdGggaW52YWxpZCBkYXRhYDtcbiAgICBuICYmIChfICs9IFwiICh2aWEgYHRvRmlyZXN0b3JlKClgKVwiKSwgXyArPSBcIi4gXCI7XG4gICAgbGV0IGEgPSBcIlwiO1xuICAgIHJldHVybiAocyB8fCBvKSAmJiAoYSArPSBcIiAoZm91bmRcIiwgcyAmJiAoYSArPSBgIGluIGZpZWxkICR7cn1gKSwgbyAmJiAoYSArPSBgIGluIGRvY3VtZW50ICR7aX1gKSwgXG4gICAgYSArPSBcIilcIiksIG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIF8gKyBlICsgYSk7XG59XG5cbi8qKiBDaGVja3MgYGhheXN0YWNrYCBpZiBGaWVsZFBhdGggYG5lZWRsZWAgaXMgcHJlc2VudC4gUnVucyBpbiBPKG4pLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRNYXNrQ29udGFpbnMoZSwgdCkge1xuICAgIHJldHVybiBlLnNvbWUoKGUgPT4gZS5pc0VxdWFsKHQpKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgYERvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91ciBGaXJlc3RvcmVcbiAqIGRhdGFiYXNlLiBUaGUgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0b1xuICogZ2V0IGEgc3BlY2lmaWMgZmllbGQuXG4gKlxuICogRm9yIGEgYERvY3VtZW50U25hcHNob3RgIHRoYXQgcG9pbnRzIHRvIGEgbm9uLWV4aXN0aW5nIGRvY3VtZW50LCBhbnkgZGF0YVxuICogYWNjZXNzIHdpbGwgcmV0dXJuICd1bmRlZmluZWQnLiBZb3UgY2FuIHVzZSB0aGUgYGV4aXN0cygpYCBtZXRob2QgdG9cbiAqIGV4cGxpY2l0bHkgdmVyaWZ5IGEgZG9jdW1lbnQncyBleGlzdGVuY2UuXG4gKi8gY2xhc3MgRG9jdW1lbnRTbmFwc2hvdCQxIHtcbiAgICAvLyBOb3RlOiBUaGlzIGNsYXNzIGlzIHN0cmlwcGVkIGRvd24gdmVyc2lvbiBvZiB0aGUgRG9jdW1lbnRTbmFwc2hvdCBpblxuICAgIC8vIHRoZSBsZWdhY3kgU0RLLiBUaGUgY2hhbmdlcyBhcmU6XG4gICAgLy8gLSBObyBzdXBwb3J0IGZvciBTbmFwc2hvdE1ldGFkYXRhLlxuICAgIC8vIC0gTm8gc3VwcG9ydCBmb3IgU25hcHNob3RPcHRpb25zLlxuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yIHByb3RlY3RlZCAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgdGhpcy5fZmlyZXN0b3JlID0gZSwgdGhpcy5fdXNlckRhdGFXcml0ZXIgPSB0LCB0aGlzLl9rZXkgPSBuLCB0aGlzLl9kb2N1bWVudCA9IHIsIFxuICAgICAgICB0aGlzLl9jb252ZXJ0ZXIgPSBpO1xuICAgIH1cbiAgICAvKiogUHJvcGVydHkgb2YgdGhlIGBEb2N1bWVudFNuYXBzaG90YCB0aGF0IHByb3ZpZGVzIHRoZSBkb2N1bWVudCdzIElELiAqLyAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXkucGF0aC5sYXN0U2VnbWVudCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgYERvY3VtZW50UmVmZXJlbmNlYCBmb3IgdGhlIGRvY3VtZW50IGluY2x1ZGVkIGluIHRoZSBgRG9jdW1lbnRTbmFwc2hvdGAuXG4gICAgICovICAgIGdldCByZWYoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRSZWZlcmVuY2UodGhpcy5fZmlyZXN0b3JlLCB0aGlzLl9jb252ZXJ0ZXIsIHRoaXMuX2tleSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpZ25hbHMgd2hldGhlciBvciBub3QgdGhlIGRvY3VtZW50IGF0IHRoZSBzbmFwc2hvdCdzIGxvY2F0aW9uIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhlIGRvY3VtZW50IGV4aXN0cy5cbiAgICAgKi8gICAgZXhpc3RzKCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5fZG9jdW1lbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBhcyBhbiBgT2JqZWN0YC4gUmV0dXJucyBgdW5kZWZpbmVkYCBpZlxuICAgICAqIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqXG4gICAgICogQHJldHVybnMgQW4gYE9iamVjdGAgY29udGFpbmluZyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBvciBgdW5kZWZpbmVkYFxuICAgICAqIGlmIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqLyAgICBkYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5fZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb252ZXJ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gdXNlIHRoZSBjb252ZXJ0ZXIgYW5kIGNyZWF0ZSBhIG5ldyBEb2N1bWVudFNuYXBzaG90XG4gICAgICAgICAgICAgICAgLy8gaWYgYSBjb252ZXJ0ZXIgaGFzIGJlZW4gcHJvdmlkZWQuXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBRdWVyeURvY3VtZW50U25hcHNob3QkMSh0aGlzLl9maXJlc3RvcmUsIHRoaXMuX3VzZXJEYXRhV3JpdGVyLCB0aGlzLl9rZXksIHRoaXMuX2RvY3VtZW50LCBcbiAgICAgICAgICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb252ZXJ0ZXIuZnJvbUZpcmVzdG9yZShlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUodGhpcy5fZG9jdW1lbnQuZGF0YS52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBmaWVsZCBzcGVjaWZpZWQgYnkgYGZpZWxkUGF0aGAuIFJldHVybnMgYHVuZGVmaW5lZGAgaWYgdGhlXG4gICAgICogZG9jdW1lbnQgb3IgZmllbGQgZG9lc24ndCBleGlzdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWVsZFBhdGggLSBUaGUgcGF0aCAoZm9yIGV4YW1wbGUgJ2Zvbycgb3IgJ2Zvby5iYXInKSB0byBhIHNwZWNpZmljXG4gICAgICogZmllbGQuXG4gICAgICogQHJldHVybnMgVGhlIGRhdGEgYXQgdGhlIHNwZWNpZmllZCBmaWVsZCBsb2NhdGlvbiBvciB1bmRlZmluZWQgaWYgbm8gc3VjaFxuICAgICAqIGZpZWxkIGV4aXN0cyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgLy8gV2UgYXJlIHVzaW5nIGBhbnlgIGhlcmUgdG8gYXZvaWQgYW4gZXhwbGljaXQgY2FzdCBieSBvdXIgdXNlcnMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBnZXQoZSkge1xuICAgICAgICBpZiAodGhpcy5fZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLl9kb2N1bWVudC5kYXRhLmZpZWxkKF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQoXCJEb2N1bWVudFNuYXBzaG90LmdldFwiLCBlKSk7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gdCkgcmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0KTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBRdWVyeURvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91clxuICogRmlyZXN0b3JlIGRhdGFiYXNlIGFzIHBhcnQgb2YgYSBxdWVyeS4gVGhlIGRvY3VtZW50IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3RcbiAqIGFuZCBpdHMgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0byBnZXQgYVxuICogc3BlY2lmaWMgZmllbGQuXG4gKlxuICogQSBgUXVlcnlEb2N1bWVudFNuYXBzaG90YCBvZmZlcnMgdGhlIHNhbWUgQVBJIHN1cmZhY2UgYXMgYVxuICogYERvY3VtZW50U25hcHNob3RgLiBTaW5jZSBxdWVyeSByZXN1bHRzIGNvbnRhaW4gb25seSBleGlzdGluZyBkb2N1bWVudHMsIHRoZVxuICogYGV4aXN0c2AgcHJvcGVydHkgd2lsbCBhbHdheXMgYmUgdHJ1ZSBhbmQgYGRhdGEoKWAgd2lsbCBuZXZlciByZXR1cm5cbiAqICd1bmRlZmluZWQnLlxuICovIGNsYXNzIFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCQxIGV4dGVuZHMgRG9jdW1lbnRTbmFwc2hvdCQxIHtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQgYXMgYW4gYE9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcmV0dXJucyBBbiBgT2JqZWN0YCBjb250YWluaW5nIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGRhdGEoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5kYXRhKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0aGF0IGNhbGxzIGBmcm9tRG90U2VwYXJhdGVkU3RyaW5nKClgIGJ1dCB3cmFwcyBhbnkgZXJyb3IgdGhyb3duLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQoZSwgdCkge1xuICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiB0ID8gX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoZSwgdCkgOiB0IGluc3RhbmNlb2YgRmllbGRQYXRoID8gdC5faW50ZXJuYWxQYXRoIDogdC5fZGVsZWdhdGUuX2ludGVybmFsUGF0aDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlSGFzRXhwbGljaXRPcmRlckJ5Rm9yTGltaXRUb0xhc3QoZSkge1xuICAgIGlmIChcIkxcIiAvKiBMaW1pdFR5cGUuTGFzdCAqLyA9PT0gZS5saW1pdFR5cGUgJiYgMCA9PT0gZS5leHBsaWNpdE9yZGVyQnkubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTklNUExFTUVOVEVELCBcImxpbWl0VG9MYXN0KCkgcXVlcmllcyByZXF1aXJlIHNwZWNpZnlpbmcgYXQgbGVhc3Qgb25lIG9yZGVyQnkoKSBjbGF1c2VcIik7XG59XG5cbi8qKlxuICogQW4gYEFwcGxpYWJsZUNvbnN0cmFpbnRgIGlzIGFuIGFic3RyYWN0aW9uIG9mIGEgY29uc3RyYWludCB0aGF0IGNhbiBiZSBhcHBsaWVkXG4gKiB0byBhIEZpcmVzdG9yZSBxdWVyeS5cbiAqLyBjbGFzcyBBcHBsaWFibGVDb25zdHJhaW50IHt9XG5cbi8qKlxuICogQSBgUXVlcnlDb25zdHJhaW50YCBpcyB1c2VkIHRvIG5hcnJvdyB0aGUgc2V0IG9mIGRvY3VtZW50cyByZXR1cm5lZCBieSBhXG4gKiBGaXJlc3RvcmUgcXVlcnkuIGBRdWVyeUNvbnN0cmFpbnRgcyBhcmUgY3JlYXRlZCBieSBpbnZva2luZyB7QGxpbmsgd2hlcmV9LFxuICoge0BsaW5rIG9yZGVyQnl9LCB7QGxpbmsgKHN0YXJ0QXQ6MSl9LCB7QGxpbmsgKHN0YXJ0QWZ0ZXI6MSl9LCB7QGxpbmtcbiAqIChlbmRCZWZvcmU6MSl9LCB7QGxpbmsgKGVuZEF0OjEpfSwge0BsaW5rIGxpbWl0fSwge0BsaW5rIGxpbWl0VG9MYXN0fSBhbmRcbiAqIGNhbiB0aGVuIGJlIHBhc3NlZCB0byB7QGxpbmsgKHF1ZXJ5OjEpfSB0byBjcmVhdGUgYSBuZXcgcXVlcnkgaW5zdGFuY2UgdGhhdFxuICogYWxzbyBjb250YWlucyB0aGlzIGBRdWVyeUNvbnN0cmFpbnRgLlxuICovIGNsYXNzIFF1ZXJ5Q29uc3RyYWludCBleHRlbmRzIEFwcGxpYWJsZUNvbnN0cmFpbnQge31cblxuZnVuY3Rpb24gcXVlcnkoZSwgdCwgLi4ubikge1xuICAgIGxldCByID0gW107XG4gICAgdCBpbnN0YW5jZW9mIEFwcGxpYWJsZUNvbnN0cmFpbnQgJiYgci5wdXNoKHQpLCByID0gci5jb25jYXQobiksIGZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZVF1ZXJ5Q29uc3RyYWludEFycmF5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZmlsdGVyKChlID0+IGUgaW5zdGFuY2VvZiBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnQpKS5sZW5ndGgsIG4gPSBlLmZpbHRlcigoZSA9PiBlIGluc3RhbmNlb2YgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQpKS5sZW5ndGg7XG4gICAgICAgIGlmICh0ID4gMSB8fCB0ID4gMCAmJiBuID4gMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJJbnZhbGlkUXVlcnkuIFdoZW4gdXNpbmcgY29tcG9zaXRlIGZpbHRlcnMsIHlvdSBjYW5ub3QgdXNlIG1vcmUgdGhhbiBvbmUgZmlsdGVyIGF0IHRoZSB0b3AgbGV2ZWwuIENvbnNpZGVyIG5lc3RpbmcgdGhlIG11bHRpcGxlIGZpbHRlcnMgd2l0aGluIGFuIGBhbmQoLi4uKWAgc3RhdGVtZW50LiBGb3IgZXhhbXBsZTogY2hhbmdlIGBxdWVyeShxdWVyeSwgd2hlcmUoLi4uKSwgb3IoLi4uKSlgIHRvIGBxdWVyeShxdWVyeSwgYW5kKHdoZXJlKC4uLiksIG9yKC4uLikpKWAuXCIpO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgIC8qKlxuICogQ29udmVydHMgRmlyZXN0b3JlJ3MgaW50ZXJuYWwgdHlwZXMgdG8gdGhlIEphdmFTY3JpcHQgdHlwZXMgdGhhdCB3ZSBleHBvc2VcbiAqIHRvIHRoZSB1c2VyLlxuICpcbiAqIEBpbnRlcm5hbFxuICovIChyKTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgcikgZSA9IHQuX2FwcGx5KGUpO1xuICAgIHJldHVybiBlO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50YCBpcyB1c2VkIHRvIG5hcnJvdyB0aGUgc2V0IG9mIGRvY3VtZW50cyByZXR1cm5lZCBieVxuICogYSBGaXJlc3RvcmUgcXVlcnkgYnkgZmlsdGVyaW5nIG9uIG9uZSBvciBtb3JlIGRvY3VtZW50IGZpZWxkcy5cbiAqIGBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nIHtAbGluayB3aGVyZX0gYW5kIGNhbiB0aGVuXG4gKiBiZSBwYXNzZWQgdG8ge0BsaW5rIChxdWVyeToxKX0gdG8gY3JlYXRlIGEgbmV3IHF1ZXJ5IGluc3RhbmNlIHRoYXQgYWxzbyBjb250YWluc1xuICogdGhpcyBgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnRgLlxuICovIGNsYXNzIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50IGV4dGVuZHMgUXVlcnlDb25zdHJhaW50IHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuX2ZpZWxkID0gZSwgdGhpcy5fb3AgPSB0LCB0aGlzLl92YWx1ZSA9IG4sIFxuICAgICAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBxdWVyeSBjb25zdHJhaW50ICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwid2hlcmVcIjtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50KGUsIHQsIG4pO1xuICAgIH1cbiAgICBfYXBwbHkoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5fcGFyc2UoZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVOZXdGaWVsZEZpbHRlcihlLl9xdWVyeSwgdCksIG5ldyBRdWVyeShlLmZpcmVzdG9yZSwgZS5jb252ZXJ0ZXIsIF9fUFJJVkFURV9xdWVyeVdpdGhBZGRlZEZpbHRlcihlLl9xdWVyeSwgdCkpO1xuICAgIH1cbiAgICBfcGFyc2UoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX25ld1VzZXJEYXRhUmVhZGVyKGUuZmlyZXN0b3JlKSwgbiA9IGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUZpbHRlcihlLCB0LCBuLCByLCBpLCBzLCBvKSB7XG4gICAgICAgICAgICBsZXQgXztcbiAgICAgICAgICAgIGlmIChpLmlzS2V5RmllbGQoKSkge1xuICAgICAgICAgICAgICAgIGlmIChcImFycmF5LWNvbnRhaW5zXCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlMgKi8gPT09IHMgfHwgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gPT09IHMpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIFF1ZXJ5LiBZb3UgY2FuJ3QgcGVyZm9ybSAnJHtzfScgcXVlcmllcyBvbiBkb2N1bWVudElkKCkuYCk7XG4gICAgICAgICAgICAgICAgaWYgKFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gcyB8fCBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA9PT0gcykge1xuICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfdmFsaWRhdGVEaXNqdW5jdGl2ZUZpbHRlckVsZW1lbnRzKG8sIHMpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiBvKSB0LnB1c2goX19QUklWQVRFX3BhcnNlRG9jdW1lbnRJZFZhbHVlKHIsIGUsIG4pKTtcbiAgICAgICAgICAgICAgICAgICAgXyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFycmF5VmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IHRcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgXyA9IF9fUFJJVkFURV9wYXJzZURvY3VtZW50SWRWYWx1ZShyLCBlLCBvKTtcbiAgICAgICAgICAgIH0gZWxzZSBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gIT09IHMgJiYgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gIT09IHMgJiYgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gIT09IHMgfHwgX19QUklWQVRFX3ZhbGlkYXRlRGlzanVuY3RpdmVGaWx0ZXJFbGVtZW50cyhvLCBzKSwgXG4gICAgICAgICAgICBfID0gX19QUklWQVRFX3BhcnNlUXVlcnlWYWx1ZShuLCB0LCBvLCBcbiAgICAgICAgICAgIC8qIGFsbG93QXJyYXlzPSAqLyBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gPT09IHMgfHwgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gPT09IHMpO1xuICAgICAgICAgICAgcmV0dXJuIEZpZWxkRmlsdGVyLmNyZWF0ZShpLCBzLCBfKTtcbiAgICAgICAgfShlLl9xdWVyeSwgXCJ3aGVyZVwiLCB0LCBlLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCwgdGhpcy5fZmllbGQsIHRoaXMuX29wLCB0aGlzLl92YWx1ZSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50fSB0aGF0IGVuZm9yY2VzIHRoYXQgZG9jdW1lbnRzXG4gKiBtdXN0IGNvbnRhaW4gdGhlIHNwZWNpZmllZCBmaWVsZCBhbmQgdGhhdCB0aGUgdmFsdWUgc2hvdWxkIHNhdGlzZnkgdGhlXG4gKiByZWxhdGlvbiBjb25zdHJhaW50IHByb3ZpZGVkLlxuICpcbiAqIEBwYXJhbSBmaWVsZFBhdGggLSBUaGUgcGF0aCB0byBjb21wYXJlXG4gKiBAcGFyYW0gb3BTdHIgLSBUaGUgb3BlcmF0aW9uIHN0cmluZyAoZS5nIFwiJmx0O1wiLCBcIiZsdDs9XCIsIFwiPT1cIiwgXCImbHQ7XCIsXG4gKiAgIFwiJmx0Oz1cIiwgXCIhPVwiKS5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSBmb3IgY29tcGFyaXNvblxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQge0BsaW5rIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50fS5cbiAqLyBmdW5jdGlvbiB3aGVyZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IHQsIGkgPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50KFwid2hlcmVcIiwgZSk7XG4gICAgcmV0dXJuIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50Ll9jcmVhdGUoaSwgciwgbik7XG59XG5cbi8qKlxuICogQSBgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50YCBpcyB1c2VkIHRvIG5hcnJvdyB0aGUgc2V0IG9mIGRvY3VtZW50c1xuICogcmV0dXJuZWQgYnkgYSBGaXJlc3RvcmUgcXVlcnkgYnkgcGVyZm9ybWluZyB0aGUgbG9naWNhbCBPUiBvciBBTkQgb2YgbXVsdGlwbGVcbiAqIHtAbGluayBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludH1zIG9yIHtAbGluayBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnR9cy5cbiAqIGBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnRgcyBhcmUgY3JlYXRlZCBieSBpbnZva2luZyB7QGxpbmsgb3J9IG9yXG4gKiB7QGxpbmsgYW5kfSBhbmQgY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhIG5ldyBxdWVyeVxuICogaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zIHRoZSBgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50YC5cbiAqLyBjbGFzcyBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnQgZXh0ZW5kcyBBcHBsaWFibGVDb25zdHJhaW50IHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBxdWVyeSBjb25zdHJhaW50ICovXG4gICAgZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLnR5cGUgPSBlLCB0aGlzLl9xdWVyeUNvbnN0cmFpbnRzID0gdDtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludChlLCB0KTtcbiAgICB9XG4gICAgX3BhcnNlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuX3F1ZXJ5Q29uc3RyYWludHMubWFwKCh0ID0+IHQuX3BhcnNlKGUpKSkuZmlsdGVyKChlID0+IGUuZ2V0RmlsdGVycygpLmxlbmd0aCA+IDApKTtcbiAgICAgICAgcmV0dXJuIDEgPT09IHQubGVuZ3RoID8gdFswXSA6IENvbXBvc2l0ZUZpbHRlci5jcmVhdGUodCwgdGhpcy5fZ2V0T3BlcmF0b3IoKSk7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLl9wYXJzZShlKTtcbiAgICAgICAgcmV0dXJuIDAgPT09IHQuZ2V0RmlsdGVycygpLmxlbmd0aCA/IGUgOiAoZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlTmV3RmlsdGVyKGUsIHQpIHtcbiAgICAgICAgICAgIGxldCBuID0gZTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSB0LmdldEZsYXR0ZW5lZEZpbHRlcnMoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiByKSBfX1BSSVZBVEVfdmFsaWRhdGVOZXdGaWVsZEZpbHRlcihuLCBlKSwgbiA9IF9fUFJJVkFURV9xdWVyeVdpdGhBZGRlZEZpbHRlcihuLCBlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVja3MgaWYgYW55IG9mIHRoZSBwcm92aWRlZCBmaWx0ZXIgb3BlcmF0b3JzIGFyZSBpbmNsdWRlZCBpbiB0aGUgZ2l2ZW4gbGlzdCBvZiBmaWx0ZXJzIGFuZFxuICAgICAgICAvLyByZXR1cm5zIHRoZSBmaXJzdCBvbmUgdGhhdCBpcywgb3IgbnVsbCBpZiBub25lIGFyZS5cbiAgICAgICAgKGUuX3F1ZXJ5LCB0KSwgbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgX19QUklWQVRFX3F1ZXJ5V2l0aEFkZGVkRmlsdGVyKGUuX3F1ZXJ5LCB0KSkpO1xuICAgIH1cbiAgICBfZ2V0UXVlcnlDb25zdHJhaW50cygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXJ5Q29uc3RyYWludHM7XG4gICAgfVxuICAgIF9nZXRPcGVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIFwiYW5kXCIgPT09IHRoaXMudHlwZSA/IFwiYW5kXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuQU5EICovIDogXCJvclwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLk9SICovO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHtAbGluayBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnR9IHRoYXQgaXMgYSBkaXNqdW5jdGlvbiBvZlxuICogdGhlIGdpdmVuIGZpbHRlciBjb25zdHJhaW50cy4gQSBkaXNqdW5jdGlvbiBmaWx0ZXIgaW5jbHVkZXMgYSBkb2N1bWVudCBpZiBpdFxuICogc2F0aXNmaWVzIGFueSBvZiB0aGUgZ2l2ZW4gZmlsdGVycy5cbiAqXG4gKiBAcGFyYW0gcXVlcnlDb25zdHJhaW50cyAtIE9wdGlvbmFsLiBUaGUgbGlzdCBvZlxuICoge0BsaW5rIFF1ZXJ5RmlsdGVyQ29uc3RyYWludH1zIHRvIHBlcmZvcm0gYSBkaXNqdW5jdGlvbiBmb3IuIFRoZXNlIG11c3QgYmVcbiAqIGNyZWF0ZWQgd2l0aCBjYWxscyB0byB7QGxpbmsgd2hlcmV9LCB7QGxpbmsgb3J9LCBvciB7QGxpbmsgYW5kfS5cbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIHtAbGluayBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnR9LlxuICovIGZ1bmN0aW9uIG9yKC4uLmUpIHtcbiAgICAvLyBPbmx5IHN1cHBvcnQgUXVlcnlGaWx0ZXJDb25zdHJhaW50c1xuICAgIHJldHVybiBlLmZvckVhY2goKGUgPT4gX19QUklWQVRFX3ZhbGlkYXRlUXVlcnlGaWx0ZXJDb25zdHJhaW50KFwib3JcIiwgZSkpKSwgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50Ll9jcmVhdGUoXCJvclwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLk9SICovICwgZSk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB7QGxpbmsgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50fSB0aGF0IGlzIGEgY29uanVuY3Rpb24gb2ZcbiAqIHRoZSBnaXZlbiBmaWx0ZXIgY29uc3RyYWludHMuIEEgY29uanVuY3Rpb24gZmlsdGVyIGluY2x1ZGVzIGEgZG9jdW1lbnQgaWYgaXRcbiAqIHNhdGlzZmllcyBhbGwgb2YgdGhlIGdpdmVuIGZpbHRlcnMuXG4gKlxuICogQHBhcmFtIHF1ZXJ5Q29uc3RyYWludHMgLSBPcHRpb25hbC4gVGhlIGxpc3Qgb2ZcbiAqIHtAbGluayBRdWVyeUZpbHRlckNvbnN0cmFpbnR9cyB0byBwZXJmb3JtIGEgY29uanVuY3Rpb24gZm9yLiBUaGVzZSBtdXN0IGJlXG4gKiBjcmVhdGVkIHdpdGggY2FsbHMgdG8ge0BsaW5rIHdoZXJlfSwge0BsaW5rIG9yfSwgb3Ige0BsaW5rIGFuZH0uXG4gKiBAcmV0dXJucyBUaGUgbmV3bHkgY3JlYXRlZCB7QGxpbmsgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50fS5cbiAqLyBmdW5jdGlvbiBhbmQoLi4uZSkge1xuICAgIC8vIE9ubHkgc3VwcG9ydCBRdWVyeUZpbHRlckNvbnN0cmFpbnRzXG4gICAgcmV0dXJuIGUuZm9yRWFjaCgoZSA9PiBfX1BSSVZBVEVfdmFsaWRhdGVRdWVyeUZpbHRlckNvbnN0cmFpbnQoXCJhbmRcIiwgZSkpKSwgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50Ll9jcmVhdGUoXCJhbmRcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5BTkQgKi8gLCBlKTtcbn1cblxuLyoqXG4gKiBBIGBRdWVyeU9yZGVyQnlDb25zdHJhaW50YCBpcyB1c2VkIHRvIHNvcnQgdGhlIHNldCBvZiBkb2N1bWVudHMgcmV0dXJuZWQgYnkgYVxuICogRmlyZXN0b3JlIHF1ZXJ5LiBgUXVlcnlPcmRlckJ5Q29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nXG4gKiB7QGxpbmsgb3JkZXJCeX0gYW5kIGNhbiB0aGVuIGJlIHBhc3NlZCB0byB7QGxpbmsgKHF1ZXJ5OjEpfSB0byBjcmVhdGUgYSBuZXcgcXVlcnlcbiAqIGluc3RhbmNlIHRoYXQgYWxzbyBjb250YWlucyB0aGlzIGBRdWVyeU9yZGVyQnlDb25zdHJhaW50YC5cbiAqXG4gKiBOb3RlOiBEb2N1bWVudHMgdGhhdCBkbyBub3QgY29udGFpbiB0aGUgb3JkZXJCeSBmaWVsZCB3aWxsIG5vdCBiZSBwcmVzZW50IGluXG4gKiB0aGUgcXVlcnkgcmVzdWx0LlxuICovIGNsYXNzIFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnQgZXh0ZW5kcyBRdWVyeUNvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5fZmllbGQgPSBlLCB0aGlzLl9kaXJlY3Rpb24gPSB0LCBcbiAgICAgICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgcXVlcnkgY29uc3RyYWludCAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcIm9yZGVyQnlcIjtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnQoZSwgdCk7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnlPcmRlckJ5KGUsIHQsIG4pIHtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBlLnN0YXJ0QXQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgc3RhcnRBdCgpIG9yIHN0YXJ0QWZ0ZXIoKSBiZWZvcmUgY2FsbGluZyBvcmRlckJ5KCkuXCIpO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGUuZW5kQXQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiSW52YWxpZCBxdWVyeS4gWW91IG11c3Qgbm90IGNhbGwgZW5kQXQoKSBvciBlbmRCZWZvcmUoKSBiZWZvcmUgY2FsbGluZyBvcmRlckJ5KCkuXCIpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBPcmRlckJ5KHQsIG4pO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQ3JlYXRlIGEgYEJvdW5kYCBmcm9tIGEgcXVlcnkgYW5kIGEgZG9jdW1lbnQuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBgQm91bmRgIHdpbGwgYWx3YXlzIGluY2x1ZGUgdGhlIGtleSBvZiB0aGUgZG9jdW1lbnRcbiAqIGFuZCBzbyBvbmx5IHRoZSBwcm92aWRlZCBkb2N1bWVudCB3aWxsIGNvbXBhcmUgZXF1YWwgdG8gdGhlIHJldHVybmVkXG4gKiBwb3NpdGlvbi5cbiAqXG4gKiBXaWxsIHRocm93IGlmIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBjb250YWluIGFsbCBmaWVsZHMgb2YgdGhlIG9yZGVyIGJ5XG4gKiBvZiB0aGUgcXVlcnkgb3IgaWYgYW55IG9mIHRoZSBmaWVsZHMgaW4gdGhlIG9yZGVyIGJ5IGFyZSBhbiB1bmNvbW1pdHRlZFxuICogc2VydmVyIHRpbWVzdGFtcC5cbiAqLyAoZS5fcXVlcnksIHRoaXMuX2ZpZWxkLCB0aGlzLl9kaXJlY3Rpb24pO1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aEFkZGVkT3JkZXJCeShlLCB0KSB7XG4gICAgICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IHZhbGlkYXRlIHRoYXQgb3JkZXJCeSBkb2VzIG5vdCBsaXN0IHRoZSBzYW1lIGtleSB0d2ljZS5cbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLmV4cGxpY2l0T3JkZXJCeS5jb25jYXQoWyB0IF0pO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIG4sIGUuZmlsdGVycy5zbGljZSgpLCBlLmxpbWl0LCBlLmxpbWl0VHlwZSwgZS5zdGFydEF0LCBlLmVuZEF0KTtcbiAgICAgICAgfShlLl9xdWVyeSwgdCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnR9IHRoYXQgc29ydHMgdGhlIHF1ZXJ5IHJlc3VsdCBieSB0aGVcbiAqIHNwZWNpZmllZCBmaWVsZCwgb3B0aW9uYWxseSBpbiBkZXNjZW5kaW5nIG9yZGVyIGluc3RlYWQgb2YgYXNjZW5kaW5nLlxuICpcbiAqIE5vdGU6IERvY3VtZW50cyB0aGF0IGRvIG5vdCBjb250YWluIHRoZSBzcGVjaWZpZWQgZmllbGQgd2lsbCBub3QgYmUgcHJlc2VudFxuICogaW4gdGhlIHF1ZXJ5IHJlc3VsdC5cbiAqXG4gKiBAcGFyYW0gZmllbGRQYXRoIC0gVGhlIGZpZWxkIHRvIHNvcnQgYnkuXG4gKiBAcGFyYW0gZGlyZWN0aW9uU3RyIC0gT3B0aW9uYWwgZGlyZWN0aW9uIHRvIHNvcnQgYnkgKCdhc2MnIG9yICdkZXNjJykuIElmXG4gKiBub3Qgc3BlY2lmaWVkLCBvcmRlciB3aWxsIGJlIGFzY2VuZGluZy5cbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHtAbGluayBRdWVyeU9yZGVyQnlDb25zdHJhaW50fS5cbiAqLyBmdW5jdGlvbiBvcmRlckJ5KGUsIHQgPSBcImFzY1wiKSB7XG4gICAgY29uc3QgbiA9IHQsIHIgPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50KFwib3JkZXJCeVwiLCBlKTtcbiAgICByZXR1cm4gUXVlcnlPcmRlckJ5Q29uc3RyYWludC5fY3JlYXRlKHIsIG4pO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5TGltaXRDb25zdHJhaW50YCBpcyB1c2VkIHRvIGxpbWl0IHRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHJldHVybmVkIGJ5XG4gKiBhIEZpcmVzdG9yZSBxdWVyeS5cbiAqIGBRdWVyeUxpbWl0Q29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nIHtAbGluayBsaW1pdH0gb3JcbiAqIHtAbGluayBsaW1pdFRvTGFzdH0gYW5kIGNhbiB0aGVuIGJlIHBhc3NlZCB0byB7QGxpbmsgKHF1ZXJ5OjEpfSB0byBjcmVhdGUgYSBuZXdcbiAqIHF1ZXJ5IGluc3RhbmNlIHRoYXQgYWxzbyBjb250YWlucyB0aGlzIGBRdWVyeUxpbWl0Q29uc3RyYWludGAuXG4gKi8gY2xhc3MgUXVlcnlMaW1pdENvbnN0cmFpbnQgZXh0ZW5kcyBRdWVyeUNvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIHF1ZXJ5IGNvbnN0cmFpbnQgKi9cbiAgICBlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMudHlwZSA9IGUsIHRoaXMuX2xpbWl0ID0gdCwgdGhpcy5fbGltaXRUeXBlID0gbjtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5TGltaXRDb25zdHJhaW50KGUsIHQsIG4pO1xuICAgIH1cbiAgICBfYXBwbHkoZSkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgX19QUklWQVRFX3F1ZXJ5V2l0aExpbWl0KGUuX3F1ZXJ5LCB0aGlzLl9saW1pdCwgdGhpcy5fbGltaXRUeXBlKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUXVlcnlMaW1pdENvbnN0cmFpbnR9IHRoYXQgb25seSByZXR1cm5zIHRoZSBmaXJzdCBtYXRjaGluZ1xuICogZG9jdW1lbnRzLlxuICpcbiAqIEBwYXJhbSBsaW1pdCAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiBpdGVtcyB0byByZXR1cm4uXG4gKiBAcmV0dXJucyBUaGUgY3JlYXRlZCB7QGxpbmsgUXVlcnlMaW1pdENvbnN0cmFpbnR9LlxuICovIGZ1bmN0aW9uIGxpbWl0KGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX3ZhbGlkYXRlUG9zaXRpdmVOdW1iZXIoXCJsaW1pdFwiLCBlKSwgUXVlcnlMaW1pdENvbnN0cmFpbnQuX2NyZWF0ZShcImxpbWl0XCIsIGUsIFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBRdWVyeUxpbWl0Q29uc3RyYWludH0gdGhhdCBvbmx5IHJldHVybnMgdGhlIGxhc3QgbWF0Y2hpbmdcbiAqIGRvY3VtZW50cy5cbiAqXG4gKiBZb3UgbXVzdCBzcGVjaWZ5IGF0IGxlYXN0IG9uZSBgb3JkZXJCeWAgY2xhdXNlIGZvciBgbGltaXRUb0xhc3RgIHF1ZXJpZXMsXG4gKiBvdGhlcndpc2UgYW4gZXhjZXB0aW9uIHdpbGwgYmUgdGhyb3duIGR1cmluZyBleGVjdXRpb24uXG4gKlxuICogQHBhcmFtIGxpbWl0IC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVybi5cbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHtAbGluayBRdWVyeUxpbWl0Q29uc3RyYWludH0uXG4gKi8gZnVuY3Rpb24gbGltaXRUb0xhc3QoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVQb3NpdGl2ZU51bWJlcihcImxpbWl0VG9MYXN0XCIsIGUpLCBRdWVyeUxpbWl0Q29uc3RyYWludC5fY3JlYXRlKFwibGltaXRUb0xhc3RcIiwgZSwgXCJMXCIgLyogTGltaXRUeXBlLkxhc3QgKi8pO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnRgIGlzIHVzZWQgdG8gZXhjbHVkZSBkb2N1bWVudHMgZnJvbSB0aGUgc3RhcnQgb2YgYVxuICogcmVzdWx0IHNldCByZXR1cm5lZCBieSBhIEZpcmVzdG9yZSBxdWVyeS5cbiAqIGBRdWVyeVN0YXJ0QXRDb25zdHJhaW50YHMgYXJlIGNyZWF0ZWQgYnkgaW52b2tpbmcge0BsaW5rIChzdGFydEF0OjEpfSBvclxuICoge0BsaW5rIChzdGFydEFmdGVyOjEpfSBhbmQgY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhXG4gKiBuZXcgcXVlcnkgaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zIHRoaXMgYFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnRgLlxuICovIGNsYXNzIFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQgZXh0ZW5kcyBRdWVyeUNvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIHF1ZXJ5IGNvbnN0cmFpbnQgKi9cbiAgICBlLCB0LCBuKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMudHlwZSA9IGUsIHRoaXMuX2RvY09yRmllbGRzID0gdCwgdGhpcy5faW5jbHVzaXZlID0gbjtcbiAgICB9XG4gICAgc3RhdGljIF9jcmVhdGUoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQoZSwgdCwgbik7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbmV3UXVlcnlCb3VuZEZyb21Eb2NPckZpZWxkcyhlLCB0aGlzLnR5cGUsIHRoaXMuX2RvY09yRmllbGRzLCB0aGlzLl9pbmNsdXNpdmUpO1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aFN0YXJ0QXQoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIGUuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksIGUuZmlsdGVycy5zbGljZSgpLCBlLmxpbWl0LCBlLmxpbWl0VHlwZSwgdCwgZS5lbmRBdCk7XG4gICAgICAgIH0oZS5fcXVlcnksIHQpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHN0YXJ0QXQoLi4uZSkge1xuICAgIHJldHVybiBRdWVyeVN0YXJ0QXRDb25zdHJhaW50Ll9jcmVhdGUoXCJzdGFydEF0XCIsIGUsIFxuICAgIC8qaW5jbHVzaXZlPSovICEwKTtcbn1cblxuZnVuY3Rpb24gc3RhcnRBZnRlciguLi5lKSB7XG4gICAgcmV0dXJuIFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQuX2NyZWF0ZShcInN0YXJ0QWZ0ZXJcIiwgZSwgXG4gICAgLyppbmNsdXNpdmU9Ki8gITEpO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5RW5kQXRDb25zdHJhaW50YCBpcyB1c2VkIHRvIGV4Y2x1ZGUgZG9jdW1lbnRzIGZyb20gdGhlIGVuZCBvZiBhXG4gKiByZXN1bHQgc2V0IHJldHVybmVkIGJ5IGEgRmlyZXN0b3JlIHF1ZXJ5LlxuICogYFF1ZXJ5RW5kQXRDb25zdHJhaW50YHMgYXJlIGNyZWF0ZWQgYnkgaW52b2tpbmcge0BsaW5rIChlbmRBdDoxKX0gb3JcbiAqIHtAbGluayAoZW5kQmVmb3JlOjEpfSBhbmQgY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhIG5ld1xuICogcXVlcnkgaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zIHRoaXMgYFF1ZXJ5RW5kQXRDb25zdHJhaW50YC5cbiAqLyBjbGFzcyBRdWVyeUVuZEF0Q29uc3RyYWludCBleHRlbmRzIFF1ZXJ5Q29uc3RyYWludCB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgcXVlcnkgY29uc3RyYWludCAqL1xuICAgIGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy50eXBlID0gZSwgdGhpcy5fZG9jT3JGaWVsZHMgPSB0LCB0aGlzLl9pbmNsdXNpdmUgPSBuO1xuICAgIH1cbiAgICBzdGF0aWMgX2NyZWF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlFbmRBdENvbnN0cmFpbnQoZSwgdCwgbik7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbmV3UXVlcnlCb3VuZEZyb21Eb2NPckZpZWxkcyhlLCB0aGlzLnR5cGUsIHRoaXMuX2RvY09yRmllbGRzLCB0aGlzLl9pbmNsdXNpdmUpO1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aEVuZEF0KGUsIHQpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCBlLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCBlLmZpbHRlcnMuc2xpY2UoKSwgZS5saW1pdCwgZS5saW1pdFR5cGUsIGUuc3RhcnRBdCwgdCk7XG4gICAgICAgIH0oZS5fcXVlcnksIHQpKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGVuZEJlZm9yZSguLi5lKSB7XG4gICAgcmV0dXJuIFF1ZXJ5RW5kQXRDb25zdHJhaW50Ll9jcmVhdGUoXCJlbmRCZWZvcmVcIiwgZSwgXG4gICAgLyppbmNsdXNpdmU9Ki8gITEpO1xufVxuXG5mdW5jdGlvbiBlbmRBdCguLi5lKSB7XG4gICAgcmV0dXJuIFF1ZXJ5RW5kQXRDb25zdHJhaW50Ll9jcmVhdGUoXCJlbmRBdFwiLCBlLCBcbiAgICAvKmluY2x1c2l2ZT0qLyAhMCk7XG59XG5cbi8qKiBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGEgYm91bmQgZnJvbSBhIGRvY3VtZW50IG9yIGZpZWxkcyAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnlCb3VuZEZyb21Eb2NPckZpZWxkcyhlLCB0LCBuLCByKSB7XG4gICAgaWYgKG5bMF0gPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShuWzBdKSwgblswXSBpbnN0YW5jZW9mIERvY3VtZW50U25hcHNob3QkMSkgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUJvdW5kRnJvbURvY3VtZW50KGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgaWYgKCFyKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5OT1RfRk9VTkQsIGBDYW4ndCB1c2UgYSBEb2N1bWVudFNuYXBzaG90IHRoYXQgZG9lc24ndCBleGlzdCBmb3IgJHtufSgpLmApO1xuICAgICAgICBjb25zdCBzID0gW107XG4gICAgICAgIC8vIEJlY2F1c2UgcGVvcGxlIGV4cGVjdCB0byBjb250aW51ZS9lbmQgYSBxdWVyeSBhdCB0aGUgZXhhY3QgZG9jdW1lbnRcbiAgICAgICAgLy8gcHJvdmlkZWQsIHdlIG5lZWQgdG8gdXNlIHRoZSBpbXBsaWNpdCBzb3J0IG9yZGVyIHJhdGhlciB0aGFuIHRoZSBleHBsaWNpdFxuICAgICAgICAvLyBzb3J0IG9yZGVyLCBiZWNhdXNlIGl0J3MgZ3VhcmFudGVlZCB0byBjb250YWluIHRoZSBkb2N1bWVudCBrZXkuIFRoYXQgd2F5XG4gICAgICAgIC8vIHRoZSBwb3NpdGlvbiBiZWNvbWVzIHVuYW1iaWd1b3VzIGFuZCB0aGUgcXVlcnkgY29udGludWVzL2VuZHMgZXhhY3RseSBhdFxuICAgICAgICAvLyB0aGUgcHJvdmlkZWQgZG9jdW1lbnQuIFdpdGhvdXQgdGhlIGtleSAoYnkgdXNpbmcgdGhlIGV4cGxpY2l0IHNvcnRcbiAgICAgICAgLy8gb3JkZXJzKSwgbXVsdGlwbGUgZG9jdW1lbnRzIGNvdWxkIG1hdGNoIHRoZSBwb3NpdGlvbiwgeWllbGRpbmcgZHVwbGljYXRlXG4gICAgICAgIC8vIHJlc3VsdHMuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIF9fUFJJVkFURV9xdWVyeU5vcm1hbGl6ZWRPcmRlckJ5KGUpKSBpZiAobi5maWVsZC5pc0tleUZpZWxkKCkpIHMucHVzaChfX1BSSVZBVEVfcmVmVmFsdWUodCwgci5rZXkpKTsgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlID0gci5kYXRhLmZpZWxkKG4uZmllbGQpO1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc1NlcnZlclRpbWVzdGFtcChlKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgJ0ludmFsaWQgcXVlcnkuIFlvdSBhcmUgdHJ5aW5nIHRvIHN0YXJ0IG9yIGVuZCBhIHF1ZXJ5IHVzaW5nIGEgZG9jdW1lbnQgZm9yIHdoaWNoIHRoZSBmaWVsZCBcIicgKyBuLmZpZWxkICsgJ1wiIGlzIGFuIHVuY29tbWl0dGVkIHNlcnZlciB0aW1lc3RhbXAuIChTaW5jZSB0aGUgdmFsdWUgb2YgdGhpcyBmaWVsZCBpcyB1bmtub3duLCB5b3UgY2Fubm90IHN0YXJ0L2VuZCBhIHF1ZXJ5IHdpdGggaXQuKScpO1xuICAgICAgICAgICAgaWYgKG51bGwgPT09IGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gbi5maWVsZC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gWW91IGFyZSB0cnlpbmcgdG8gc3RhcnQgb3IgZW5kIGEgcXVlcnkgdXNpbmcgYSBkb2N1bWVudCBmb3Igd2hpY2ggdGhlIGZpZWxkICcke2V9JyAodXNlZCBhcyB0aGUgb3JkZXJCeSkgZG9lcyBub3QgZXhpc3QuYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLnB1c2goZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBCb3VuZChzLCBpKTtcbiAgICB9XG4gICAgLyoqXG4gKiBDb252ZXJ0cyBhIGxpc3Qgb2YgZmllbGQgdmFsdWVzIHRvIGEgYEJvdW5kYCBmb3IgdGhlIGdpdmVuIHF1ZXJ5LlxuICovIChlLl9xdWVyeSwgZS5maXJlc3RvcmUuX2RhdGFiYXNlSWQsIHQsIG5bMF0uX2RvY3VtZW50LCByKTtcbiAgICB7XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoZS5maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX25ld1F1ZXJ5Qm91bmRGcm9tRmllbGRzKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgICAgIC8vIFVzZSBleHBsaWNpdCBvcmRlciBieSdzIGJlY2F1c2UgaXQgaGFzIHRvIG1hdGNoIHRoZSBxdWVyeSB0aGUgdXNlciBtYWRlXG4gICAgICAgICAgICBjb25zdCBvID0gZS5leHBsaWNpdE9yZGVyQnk7XG4gICAgICAgICAgICBpZiAoaS5sZW5ndGggPiBvLmxlbmd0aCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYFRvbyBtYW55IGFyZ3VtZW50cyBwcm92aWRlZCB0byAke3J9KCkuIFRoZSBudW1iZXIgb2YgYXJndW1lbnRzIG11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBudW1iZXIgb2Ygb3JkZXJCeSgpIGNsYXVzZXNgKTtcbiAgICAgICAgICAgIGNvbnN0IF8gPSBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHMgPSAwOyBzIDwgaS5sZW5ndGg7IHMrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBpW3NdO1xuICAgICAgICAgICAgICAgIGlmIChvW3NdLmZpZWxkLmlzS2V5RmllbGQoKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiAhPSB0eXBlb2YgYSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIEV4cGVjdGVkIGEgc3RyaW5nIGZvciBkb2N1bWVudCBJRCBpbiAke3J9KCksIGJ1dCBnb3QgYSAke3R5cGVvZiBhfWApO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIV9fUFJJVkFURV9pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KGUpICYmIC0xICE9PSBhLmluZGV4T2YoXCIvXCIpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gYW5kIG9yZGVyaW5nIGJ5IGRvY3VtZW50SWQoKSwgdGhlIHZhbHVlIHBhc3NlZCB0byAke3J9KCkgbXVzdCBiZSBhIHBsYWluIGRvY3VtZW50IElELCBidXQgJyR7YX0nIGNvbnRhaW5zIGEgc2xhc2guYCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBlLnBhdGguY2hpbGQoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcoYSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIURvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkobikpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBncm91cCBhbmQgb3JkZXJpbmcgYnkgZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcGFzc2VkIHRvICR7cn0oKSBtdXN0IHJlc3VsdCBpbiBhIHZhbGlkIGRvY3VtZW50IHBhdGgsIGJ1dCAnJHtufScgaXMgbm90IGJlY2F1c2UgaXQgY29udGFpbnMgYW4gb2RkIG51bWJlciBvZiBzZWdtZW50cy5gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBEb2N1bWVudEtleShuKTtcbiAgICAgICAgICAgICAgICAgICAgXy5wdXNoKF9fUFJJVkFURV9yZWZWYWx1ZSh0LCBpKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9wYXJzZVF1ZXJ5VmFsdWUobiwgciwgYSk7XG4gICAgICAgICAgICAgICAgICAgIF8ucHVzaChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbmV3IEJvdW5kKF8sIHMpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUGFyc2VzIHRoZSBnaXZlbiBgZG9jdW1lbnRJZFZhbHVlYCBpbnRvIGEgYFJlZmVyZW5jZVZhbHVlYCwgdGhyb3dpbmdcbiAqIGFwcHJvcHJpYXRlIGVycm9ycyBpZiB0aGUgdmFsdWUgaXMgYW55dGhpbmcgb3RoZXIgdGhhbiBhIGBEb2N1bWVudFJlZmVyZW5jZWBcbiAqIG9yIGBzdHJpbmdgLCBvciBpZiB0aGUgc3RyaW5nIGlzIG1hbGZvcm1lZC5cbiAqLyAoZS5fcXVlcnksIGUuZmlyZXN0b3JlLl9kYXRhYmFzZUlkLCBpLCB0LCBuLCByKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZURvY3VtZW50SWRWYWx1ZShlLCB0LCBuKSB7XG4gICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIChuID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UobikpKSB7XG4gICAgICAgIGlmIChcIlwiID09PSBuKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgd2l0aCBkb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSB2YWxpZCBkb2N1bWVudCBJRCwgYnV0IGl0IHdhcyBhbiBlbXB0eSBzdHJpbmcuXCIpO1xuICAgICAgICBpZiAoIV9fUFJJVkFURV9pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5KHQpICYmIC0xICE9PSBuLmluZGV4T2YoXCIvXCIpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gYnkgZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgcGxhaW4gZG9jdW1lbnQgSUQsIGJ1dCAnJHtufScgY29udGFpbnMgYSAnLycgY2hhcmFjdGVyLmApO1xuICAgICAgICBjb25zdCByID0gdC5wYXRoLmNoaWxkKFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKG4pKTtcbiAgICAgICAgaWYgKCFEb2N1bWVudEtleS5pc0RvY3VtZW50S2V5KHIpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyBhIGNvbGxlY3Rpb24gZ3JvdXAgYnkgZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcHJvdmlkZWQgbXVzdCByZXN1bHQgaW4gYSB2YWxpZCBkb2N1bWVudCBwYXRoLCBidXQgJyR7cn0nIGlzIG5vdCBiZWNhdXNlIGl0IGhhcyBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzICgke3IubGVuZ3RofSkuYCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcmVmVmFsdWUoZSwgbmV3IERvY3VtZW50S2V5KHIpKTtcbiAgICB9XG4gICAgaWYgKG4gaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSkgcmV0dXJuIF9fUFJJVkFURV9yZWZWYWx1ZShlLCBuLl9rZXkpO1xuICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIHdpdGggZG9jdW1lbnRJZCgpLCB5b3UgbXVzdCBwcm92aWRlIGEgdmFsaWQgc3RyaW5nIG9yIGEgRG9jdW1lbnRSZWZlcmVuY2UsIGJ1dCBpdCB3YXM6ICR7X19QUklWQVRFX3ZhbHVlRGVzY3JpcHRpb24obil9LmApO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGF0IHRoZSB2YWx1ZSBwYXNzZWQgaW50byBhIGRpc2p1bmN0aXZlIGZpbHRlciBzYXRpc2ZpZXMgYWxsXG4gKiBhcnJheSByZXF1aXJlbWVudHMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlRGlzanVuY3RpdmVGaWx0ZXJFbGVtZW50cyhlLCB0KSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGUpIHx8IDAgPT09IGUubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBRdWVyeS4gQSBub24tZW1wdHkgYXJyYXkgaXMgcmVxdWlyZWQgZm9yICcke3QudG9TdHJpbmcoKX0nIGZpbHRlcnMuYCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYW4gb3BlcmF0b3IsIHJldHVybnMgdGhlIHNldCBvZiBvcGVyYXRvcnMgdGhhdCBjYW5ub3QgYmUgdXNlZCB3aXRoIGl0LlxuICpcbiAqIFRoaXMgaXMgbm90IGEgY29tcHJlaGVuc2l2ZSBjaGVjaywgYW5kIHRoaXMgZnVuY3Rpb24gc2hvdWxkIGJlIHJlbW92ZWQgaW4gdGhlXG4gKiBsb25nIHRlcm0uIFZhbGlkYXRpb25zIHNob3VsZCBvY2N1ciBpbiB0aGUgRmlyZXN0b3JlIGJhY2tlbmQuXG4gKlxuICogT3BlcmF0b3JzIGluIGEgcXVlcnkgbXVzdCBhZGhlcmUgdG8gdGhlIGZvbGxvd2luZyBzZXQgb2YgcnVsZXM6XG4gKiAxLiBPbmx5IG9uZSBpbmVxdWFsaXR5IHBlciBxdWVyeS5cbiAqIDIuIGBOT1RfSU5gIGNhbm5vdCBiZSB1c2VkIHdpdGggYXJyYXksIGRpc2p1bmN0aXZlLCBvciBgTk9UX0VRVUFMYCBvcGVyYXRvcnMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlTmV3RmllbGRGaWx0ZXIoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBmdW5jdGlvbiBfX1BSSVZBVEVfZmluZE9wSW5zaWRlRmlsdGVycyhlLCB0KSB7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBlKSBmb3IgKGNvbnN0IGUgb2Ygbi5nZXRGbGF0dGVuZWRGaWx0ZXJzKCkpIGlmICh0LmluZGV4T2YoZS5vcCkgPj0gMCkgcmV0dXJuIGUub3A7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH0oZS5maWx0ZXJzLCBmdW5jdGlvbiBfX1BSSVZBVEVfY29uZmxpY3RpbmdPcHMoZSkge1xuICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICBjYXNlIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIFsgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyAsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIF07XG5cbiAgICAgICAgICBjYXNlIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovIDpcbiAgICAgICAgICBjYXNlIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gWyBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyBdO1xuXG4gICAgICAgICAgY2FzZSBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gWyBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyAsIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovICwgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyBdO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgIH0odC5vcCkpO1xuICAgIGlmIChudWxsICE9PSBuKSBcbiAgICAvLyBTcGVjaWFsIGNhc2Ugd2hlbiBpdCdzIGEgZHVwbGljYXRlIG9wIHRvIGdpdmUgYSBzbGlnaHRseSBjbGVhcmVyIGVycm9yIG1lc3NhZ2UuXG4gICAgdGhyb3cgbiA9PT0gdC5vcCA/IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBZb3UgY2Fubm90IHVzZSBtb3JlIHRoYW4gb25lICcke3Qub3AudG9TdHJpbmcoKX0nIGZpbHRlci5gKSA6IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBZb3UgY2Fubm90IHVzZSAnJHt0Lm9wLnRvU3RyaW5nKCl9JyBmaWx0ZXJzIHdpdGggJyR7bi50b1N0cmluZygpfScgZmlsdGVycy5gKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlUXVlcnlGaWx0ZXJDb25zdHJhaW50KGUsIHQpIHtcbiAgICBpZiAoISh0IGluc3RhbmNlb2YgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQgfHwgdCBpbnN0YW5jZW9mIFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludCkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGdW5jdGlvbiAke2V9KCkgcmVxdWlyZXMgQXBwbGlhYmxlQ29uc3RyYWludHMgY3JlYXRlZCB3aXRoIGEgY2FsbCB0byAnd2hlcmUoLi4uKScsICdvciguLi4pJywgb3IgJ2FuZCguLi4pJy5gKTtcbn1cblxuY2xhc3MgQWJzdHJhY3RVc2VyRGF0YVdyaXRlciB7XG4gICAgY29udmVydFZhbHVlKGUsIHQgPSBcIm5vbmVcIikge1xuICAgICAgICBzd2l0Y2ggKF9fUFJJVkFURV90eXBlT3JkZXIoZSkpIHtcbiAgICAgICAgICBjYXNlIDAgLyogVHlwZU9yZGVyLk51bGxWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICAgIGNhc2UgMSAvKiBUeXBlT3JkZXIuQm9vbGVhblZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiBlLmJvb2xlYW5WYWx1ZTtcblxuICAgICAgICAgIGNhc2UgMiAvKiBUeXBlT3JkZXIuTnVtYmVyVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5pbnRlZ2VyVmFsdWUgfHwgZS5kb3VibGVWYWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIDMgLyogVHlwZU9yZGVyLlRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAoZS50aW1lc3RhbXBWYWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIDQgLyogVHlwZU9yZGVyLlNlcnZlclRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXAoZSwgdCk7XG5cbiAgICAgICAgICBjYXNlIDUgLyogVHlwZU9yZGVyLlN0cmluZ1ZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiBlLnN0cmluZ1ZhbHVlO1xuXG4gICAgICAgICAgY2FzZSA2IC8qIFR5cGVPcmRlci5CbG9iVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydEJ5dGVzKF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUuYnl0ZXNWYWx1ZSkpO1xuXG4gICAgICAgICAgY2FzZSA3IC8qIFR5cGVPcmRlci5SZWZWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJ0UmVmZXJlbmNlKGUucmVmZXJlbmNlVmFsdWUpO1xuXG4gICAgICAgICAgY2FzZSA4IC8qIFR5cGVPcmRlci5HZW9Qb2ludFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRHZW9Qb2ludChlLmdlb1BvaW50VmFsdWUpO1xuXG4gICAgICAgICAgY2FzZSA5IC8qIFR5cGVPcmRlci5BcnJheVZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRBcnJheShlLmFycmF5VmFsdWUsIHQpO1xuXG4gICAgICAgICAgY2FzZSAxMCAvKiBUeXBlT3JkZXIuT2JqZWN0VmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydE9iamVjdChlLm1hcFZhbHVlLCB0KTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29udmVydE9iamVjdChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRPYmplY3RNYXAoZS5maWVsZHMsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi8gICAgY29udmVydE9iamVjdE1hcChlLCB0ID0gXCJub25lXCIpIHtcbiAgICAgICAgY29uc3QgbiA9IHt9O1xuICAgICAgICByZXR1cm4gZm9yRWFjaChlLCAoKGUsIHIpID0+IHtcbiAgICAgICAgICAgIG5bZV0gPSB0aGlzLmNvbnZlcnRWYWx1ZShyLCB0KTtcbiAgICAgICAgfSkpLCBuO1xuICAgIH1cbiAgICBjb252ZXJ0R2VvUG9pbnQoZSkge1xuICAgICAgICByZXR1cm4gbmV3IEdlb1BvaW50KF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5sYXRpdHVkZSksIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5sb25naXR1ZGUpKTtcbiAgICB9XG4gICAgY29udmVydEFycmF5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIChlLnZhbHVlcyB8fCBbXSkubWFwKChlID0+IHRoaXMuY29udmVydFZhbHVlKGUsIHQpKSk7XG4gICAgfVxuICAgIGNvbnZlcnRTZXJ2ZXJUaW1lc3RhbXAoZSwgdCkge1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICBjYXNlIFwicHJldmlvdXNcIjpcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZ2V0UHJldmlvdXNWYWx1ZShlKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsID09IG4gPyBudWxsIDogdGhpcy5jb252ZXJ0VmFsdWUobiwgdCk7XG5cbiAgICAgICAgICBjYXNlIFwiZXN0aW1hdGVcIjpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRUaW1lc3RhbXAoX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKGUpKTtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb252ZXJ0VGltZXN0YW1wKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAoZSk7XG4gICAgICAgIHJldHVybiBuZXcgVGltZXN0YW1wKHQuc2Vjb25kcywgdC5uYW5vcyk7XG4gICAgfVxuICAgIGNvbnZlcnREb2N1bWVudEtleShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhlKTtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoX19QUklWQVRFX2lzVmFsaWRSZXNvdXJjZU5hbWUobikpO1xuICAgICAgICBjb25zdCByID0gbmV3IERhdGFiYXNlSWQobi5nZXQoMSksIG4uZ2V0KDMpKSwgaSA9IG5ldyBEb2N1bWVudEtleShuLnBvcEZpcnN0KDUpKTtcbiAgICAgICAgcmV0dXJuIHIuaXNFcXVhbCh0KSB8fCBcbiAgICAgICAgLy8gVE9ETyhiLzY0MTMwMjAyKTogU29tZWhvdyBzdXBwb3J0IGZvcmVpZ24gcmVmZXJlbmNlcy5cbiAgICAgICAgX19QUklWQVRFX2xvZ0Vycm9yKGBEb2N1bWVudCAke2l9IGNvbnRhaW5zIGEgZG9jdW1lbnQgcmVmZXJlbmNlIHdpdGhpbiBhIGRpZmZlcmVudCBkYXRhYmFzZSAoJHtyLnByb2plY3RJZH0vJHtyLmRhdGFiYXNlfSkgd2hpY2ggaXMgbm90IHN1cHBvcnRlZC4gSXQgd2lsbCBiZSB0cmVhdGVkIGFzIGEgcmVmZXJlbmNlIGluIHRoZSBjdXJyZW50IGRhdGFiYXNlICgke3QucHJvamVjdElkfS8ke3QuZGF0YWJhc2V9KSBpbnN0ZWFkLmApLCBcbiAgICAgICAgaTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENvbnZlcnRzIGN1c3RvbSBtb2RlbCBvYmplY3Qgb2YgdHlwZSBUIGludG8gYERvY3VtZW50RGF0YWAgYnkgYXBwbHlpbmcgdGhlXG4gKiBjb252ZXJ0ZXIgaWYgaXQgZXhpc3RzLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCB3aGVuIGNvbnZlcnRpbmcgdXNlciBvYmplY3RzIHRvIGBEb2N1bWVudERhdGFgXG4gKiBiZWNhdXNlIHdlIHdhbnQgdG8gcHJvdmlkZSB0aGUgdXNlciB3aXRoIGEgbW9yZSBzcGVjaWZpYyBlcnJvciBtZXNzYWdlIGlmXG4gKiB0aGVpciBgc2V0KClgIG9yIGZhaWxzIGR1ZSB0byBpbnZhbGlkIGRhdGEgb3JpZ2luYXRpbmcgZnJvbSBhIGB0b0ZpcmVzdG9yZSgpYFxuICogY2FsbC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlGaXJlc3RvcmVEYXRhQ29udmVydGVyKGUsIHQsIG4pIHtcbiAgICBsZXQgcjtcbiAgICAvLyBDYXN0IHRvIGBhbnlgIGluIG9yZGVyIHRvIHNhdGlzZnkgdGhlIHVuaW9uIHR5cGUgY29uc3RyYWludCBvblxuICAgIC8vIHRvRmlyZXN0b3JlKCkuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICByZXR1cm4gciA9IGUgPyBuICYmIChuLm1lcmdlIHx8IG4ubWVyZ2VGaWVsZHMpID8gZS50b0ZpcmVzdG9yZSh0LCBuKSA6IGUudG9GaXJlc3RvcmUodCkgOiB0LCBcbiAgICByO1xufVxuXG5jbGFzcyBfX1BSSVZBVEVfTGl0ZVVzZXJEYXRhV3JpdGVyIGV4dGVuZHMgQWJzdHJhY3RVc2VyRGF0YVdyaXRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmZpcmVzdG9yZSA9IGU7XG4gICAgfVxuICAgIGNvbnZlcnRCeXRlcyhlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQnl0ZXMoZSk7XG4gICAgfVxuICAgIGNvbnZlcnRSZWZlcmVuY2UoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jb252ZXJ0RG9jdW1lbnRLZXkoZSwgdGhpcy5maXJlc3RvcmUuX2RhdGFiYXNlSWQpO1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50UmVmZXJlbmNlKHRoaXMuZmlyZXN0b3JlLCAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQ3JlYXRlIGFuIEFnZ3JlZ2F0ZUZpZWxkIG9iamVjdCB0aGF0IGNhbiBiZSB1c2VkIHRvIGNvbXB1dGUgdGhlIHN1bSBvZlxuICogYSBzcGVjaWZpZWQgZmllbGQgb3ZlciBhIHJhbmdlIG9mIGRvY3VtZW50cyBpbiB0aGUgcmVzdWx0IHNldCBvZiBhIHF1ZXJ5LlxuICogQHBhcmFtIGZpZWxkIFNwZWNpZmllcyB0aGUgZmllbGQgdG8gc3VtIGFjcm9zcyB0aGUgcmVzdWx0IHNldC5cbiAqLyBmdW5jdGlvbiBzdW0oZSkge1xuICAgIHJldHVybiBuZXcgQWdncmVnYXRlRmllbGQoXCJzdW1cIiwgX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudCQxKFwic3VtXCIsIGUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gQWdncmVnYXRlRmllbGQgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcHV0ZSB0aGUgYXZlcmFnZSBvZlxuICogYSBzcGVjaWZpZWQgZmllbGQgb3ZlciBhIHJhbmdlIG9mIGRvY3VtZW50cyBpbiB0aGUgcmVzdWx0IHNldCBvZiBhIHF1ZXJ5LlxuICogQHBhcmFtIGZpZWxkIFNwZWNpZmllcyB0aGUgZmllbGQgdG8gYXZlcmFnZSBhY3Jvc3MgdGhlIHJlc3VsdCBzZXQuXG4gKi8gZnVuY3Rpb24gYXZlcmFnZShlKSB7XG4gICAgcmV0dXJuIG5ldyBBZ2dyZWdhdGVGaWVsZChcImF2Z1wiLCBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEoXCJhdmVyYWdlXCIsIGUpKTtcbn1cblxuLyoqXG4gKiBDcmVhdGUgYW4gQWdncmVnYXRlRmllbGQgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcHV0ZSB0aGUgY291bnQgb2ZcbiAqIGRvY3VtZW50cyBpbiB0aGUgcmVzdWx0IHNldCBvZiBhIHF1ZXJ5LlxuICovIGZ1bmN0aW9uIGNvdW50KCkge1xuICAgIHJldHVybiBuZXcgQWdncmVnYXRlRmllbGQoXCJjb3VudFwiKTtcbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gJ0FnZ3JlZ2F0ZUZpZWxkYCBpbnN0YW5jZXMgZm9yIGVxdWFsaXR5LlxuICpcbiAqIEBwYXJhbSBsZWZ0IENvbXBhcmUgdGhpcyBBZ2dyZWdhdGVGaWVsZCB0byB0aGUgYHJpZ2h0YC5cbiAqIEBwYXJhbSByaWdodCBDb21wYXJlIHRoaXMgQWdncmVnYXRlRmllbGQgdG8gdGhlIGBsZWZ0YC5cbiAqLyBmdW5jdGlvbiBhZ2dyZWdhdGVGaWVsZEVxdWFsKGUsIHQpIHtcbiAgICB2YXIgbiwgcjtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIEFnZ3JlZ2F0ZUZpZWxkICYmIHQgaW5zdGFuY2VvZiBBZ2dyZWdhdGVGaWVsZCAmJiBlLmFnZ3JlZ2F0ZVR5cGUgPT09IHQuYWdncmVnYXRlVHlwZSAmJiAobnVsbCA9PT0gKG4gPSBlLl9pbnRlcm5hbEZpZWxkUGF0aCkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5jYW5vbmljYWxTdHJpbmcoKSkgPT09IChudWxsID09PSAociA9IHQuX2ludGVybmFsRmllbGRQYXRoKSB8fCB2b2lkIDAgPT09IHIgPyB2b2lkIDAgOiByLmNhbm9uaWNhbFN0cmluZygpKTtcbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0d28gYEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RgIGluc3RhbmNlcyBmb3IgZXF1YWxpdHkuXG4gKlxuICogVHdvIGBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90YCBpbnN0YW5jZXMgYXJlIGNvbnNpZGVyZWQgXCJlcXVhbFwiIGlmIHRoZXkgaGF2ZVxuICogdW5kZXJseWluZyBxdWVyaWVzIHRoYXQgY29tcGFyZSBlcXVhbCwgYW5kIHRoZSBzYW1lIGRhdGEuXG4gKlxuICogQHBhcmFtIGxlZnQgLSBUaGUgZmlyc3QgYEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RgIHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0gcmlnaHQgLSBUaGUgc2Vjb25kIGBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90YCB0byBjb21wYXJlLlxuICpcbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgXCJlcXVhbFwiLCBhcyBkZWZpbmVkIGFib3ZlLCBvciBgZmFsc2VgXG4gKiBvdGhlcndpc2UuXG4gKi8gZnVuY3Rpb24gYWdncmVnYXRlUXVlcnlTbmFwc2hvdEVxdWFsKGUsIHQpIHtcbiAgICByZXR1cm4gcXVlcnlFcXVhbChlLnF1ZXJ5LCB0LnF1ZXJ5KSAmJiB1dGlsLmRlZXBFcXVhbChlLmRhdGEoKSwgdC5kYXRhKCkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBNZXRhZGF0YSBhYm91dCBhIHNuYXBzaG90LCBkZXNjcmliaW5nIHRoZSBzdGF0ZSBvZiB0aGUgc25hcHNob3QuXG4gKi8gY2xhc3MgU25hcHNob3RNZXRhZGF0YSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuaGFzUGVuZGluZ1dyaXRlcyA9IGUsIHRoaXMuZnJvbUNhY2hlID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgYFNuYXBzaG90TWV0YWRhdGFgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYFNuYXBzaG90TWV0YWRhdGFgIHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoaXMgYFNuYXBzaG90TWV0YWRhdGFgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICovICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNQZW5kaW5nV3JpdGVzID09PSBlLmhhc1BlbmRpbmdXcml0ZXMgJiYgdGhpcy5mcm9tQ2FjaGUgPT09IGUuZnJvbUNhY2hlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBEb2N1bWVudFNuYXBzaG90YCBjb250YWlucyBkYXRhIHJlYWQgZnJvbSBhIGRvY3VtZW50IGluIHlvdXIgRmlyZXN0b3JlXG4gKiBkYXRhYmFzZS4gVGhlIGRhdGEgY2FuIGJlIGV4dHJhY3RlZCB3aXRoIGAuZGF0YSgpYCBvciBgLmdldCg8ZmllbGQ+KWAgdG9cbiAqIGdldCBhIHNwZWNpZmljIGZpZWxkLlxuICpcbiAqIEZvciBhIGBEb2N1bWVudFNuYXBzaG90YCB0aGF0IHBvaW50cyB0byBhIG5vbi1leGlzdGluZyBkb2N1bWVudCwgYW55IGRhdGFcbiAqIGFjY2VzcyB3aWxsIHJldHVybiAndW5kZWZpbmVkJy4gWW91IGNhbiB1c2UgdGhlIGBleGlzdHMoKWAgbWV0aG9kIHRvXG4gKiBleHBsaWNpdGx5IHZlcmlmeSBhIGRvY3VtZW50J3MgZXhpc3RlbmNlLlxuICovIGNsYXNzIERvY3VtZW50U25hcHNob3QgZXh0ZW5kcyBEb2N1bWVudFNuYXBzaG90JDEge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yIHByb3RlY3RlZCAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgc3VwZXIoZSwgdCwgbiwgciwgcyksIHRoaXMuX2ZpcmVzdG9yZSA9IGUsIHRoaXMuX2ZpcmVzdG9yZUltcGwgPSBlLCB0aGlzLm1ldGFkYXRhID0gaTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgZGF0YSBleGlzdHMuIFRydWUgaWYgdGhlIGRvY3VtZW50IGV4aXN0cy5cbiAgICAgKi8gICAgZXhpc3RzKCkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZXhpc3RzKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBhcyBhbiBgT2JqZWN0YC4gUmV0dXJucyBgdW5kZWZpbmVkYCBpZlxuICAgICAqIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgYHNlcnZlclRpbWVzdGFtcCgpYCB2YWx1ZXMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlblxuICAgICAqIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSB3aWxsIGJlIHJldHVybmVkIGFzIGBudWxsYC4gWW91IGNhbiBvdmVycmlkZVxuICAgICAqIHRoaXMgYnkgcGFzc2luZyBhbiBvcHRpb25zIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gY29uZmlndXJlIGhvdyBkYXRhIGlzIHJldHJpZXZlZCBmcm9tXG4gICAgICogdGhlIHNuYXBzaG90IChmb3IgZXhhbXBsZSB0aGUgZGVzaXJlZCBiZWhhdmlvciBmb3Igc2VydmVyIHRpbWVzdGFtcHMgdGhhdFxuICAgICAqIGhhdmUgbm90IHlldCBiZWVuIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSkuXG4gICAgICogQHJldHVybnMgQW4gYE9iamVjdGAgY29udGFpbmluZyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBvciBgdW5kZWZpbmVkYCBpZlxuICAgICAqIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAqLyAgICBkYXRhKGUgPSB7fSkge1xuICAgICAgICBpZiAodGhpcy5fZG9jdW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9jb252ZXJ0ZXIpIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBvbmx5IHdhbnQgdG8gdXNlIHRoZSBjb252ZXJ0ZXIgYW5kIGNyZWF0ZSBhIG5ldyBEb2N1bWVudFNuYXBzaG90XG4gICAgICAgICAgICAgICAgLy8gaWYgYSBjb252ZXJ0ZXIgaGFzIGJlZW4gcHJvdmlkZWQuXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBRdWVyeURvY3VtZW50U25hcHNob3QodGhpcy5fZmlyZXN0b3JlLCB0aGlzLl91c2VyRGF0YVdyaXRlciwgdGhpcy5fa2V5LCB0aGlzLl9kb2N1bWVudCwgdGhpcy5tZXRhZGF0YSwgXG4gICAgICAgICAgICAgICAgLyogY29udmVydGVyPSAqLyBudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udmVydGVyLmZyb21GaXJlc3RvcmUodCwgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHRoaXMuX2RvY3VtZW50LmRhdGEudmFsdWUsIGUuc2VydmVyVGltZXN0YW1wcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBmaWVsZCBzcGVjaWZpZWQgYnkgYGZpZWxkUGF0aGAuIFJldHVybnMgYHVuZGVmaW5lZGAgaWYgdGhlXG4gICAgICogZG9jdW1lbnQgb3IgZmllbGQgZG9lc24ndCBleGlzdC5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIGEgYHNlcnZlclRpbWVzdGFtcCgpYCB0aGF0IGhhcyBub3QgeWV0IGJlZW4gc2V0IHRvXG4gICAgICogaXRzIGZpbmFsIHZhbHVlIHdpbGwgYmUgcmV0dXJuZWQgYXMgYG51bGxgLiBZb3UgY2FuIG92ZXJyaWRlIHRoaXMgYnlcbiAgICAgKiBwYXNzaW5nIGFuIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpZWxkUGF0aCAtIFRoZSBwYXRoIChmb3IgZXhhbXBsZSAnZm9vJyBvciAnZm9vLmJhcicpIHRvIGEgc3BlY2lmaWNcbiAgICAgKiBmaWVsZC5cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIGNvbmZpZ3VyZSBob3cgdGhlIGZpZWxkIGlzIHJldHJpZXZlZFxuICAgICAqIGZyb20gdGhlIHNuYXBzaG90IChmb3IgZXhhbXBsZSB0aGUgZGVzaXJlZCBiZWhhdmlvciBmb3Igc2VydmVyIHRpbWVzdGFtcHNcbiAgICAgKiB0aGF0IGhhdmUgbm90IHlldCBiZWVuIHNldCB0byB0aGVpciBmaW5hbCB2YWx1ZSkuXG4gICAgICogQHJldHVybnMgVGhlIGRhdGEgYXQgdGhlIHNwZWNpZmllZCBmaWVsZCBsb2NhdGlvbiBvciB1bmRlZmluZWQgaWYgbm8gc3VjaFxuICAgICAqIGZpZWxkIGV4aXN0cyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgLy8gV2UgYXJlIHVzaW5nIGBhbnlgIGhlcmUgdG8gYXZvaWQgYW4gZXhwbGljaXQgY2FzdCBieSBvdXIgdXNlcnMuXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBnZXQoZSwgdCA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLl9kb2N1bWVudCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuX2RvY3VtZW50LmRhdGEuZmllbGQoX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudChcIkRvY3VtZW50U25hcHNob3QuZ2V0XCIsIGUpKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSBuKSByZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKG4sIHQuc2VydmVyVGltZXN0YW1wcyk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8qKlxuICogQSBgUXVlcnlEb2N1bWVudFNuYXBzaG90YCBjb250YWlucyBkYXRhIHJlYWQgZnJvbSBhIGRvY3VtZW50IGluIHlvdXJcbiAqIEZpcmVzdG9yZSBkYXRhYmFzZSBhcyBwYXJ0IG9mIGEgcXVlcnkuIFRoZSBkb2N1bWVudCBpcyBndWFyYW50ZWVkIHRvIGV4aXN0XG4gKiBhbmQgaXRzIGRhdGEgY2FuIGJlIGV4dHJhY3RlZCB3aXRoIGAuZGF0YSgpYCBvciBgLmdldCg8ZmllbGQ+KWAgdG8gZ2V0IGFcbiAqIHNwZWNpZmljIGZpZWxkLlxuICpcbiAqIEEgYFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdGAgb2ZmZXJzIHRoZSBzYW1lIEFQSSBzdXJmYWNlIGFzIGFcbiAqIGBEb2N1bWVudFNuYXBzaG90YC4gU2luY2UgcXVlcnkgcmVzdWx0cyBjb250YWluIG9ubHkgZXhpc3RpbmcgZG9jdW1lbnRzLCB0aGVcbiAqIGBleGlzdHNgIHByb3BlcnR5IHdpbGwgYWx3YXlzIGJlIHRydWUgYW5kIGBkYXRhKClgIHdpbGwgbmV2ZXIgcmV0dXJuXG4gKiAndW5kZWZpbmVkJy5cbiAqLyBjbGFzcyBRdWVyeURvY3VtZW50U25hcHNob3QgZXh0ZW5kcyBEb2N1bWVudFNuYXBzaG90IHtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYWxsIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQgYXMgYW4gYE9iamVjdGAuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCBgc2VydmVyVGltZXN0YW1wKClgIHZhbHVlcyB0aGF0IGhhdmUgbm90IHlldCBiZWVuXG4gICAgICogc2V0IHRvIHRoZWlyIGZpbmFsIHZhbHVlIHdpbGwgYmUgcmV0dXJuZWQgYXMgYG51bGxgLiBZb3UgY2FuIG92ZXJyaWRlXG4gICAgICogdGhpcyBieSBwYXNzaW5nIGFuIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQG92ZXJyaWRlXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0byBjb25maWd1cmUgaG93IGRhdGEgaXMgcmV0cmlldmVkIGZyb21cbiAgICAgKiB0aGUgc25hcHNob3QgKGZvciBleGFtcGxlIHRoZSBkZXNpcmVkIGJlaGF2aW9yIGZvciBzZXJ2ZXIgdGltZXN0YW1wcyB0aGF0XG4gICAgICogaGF2ZSBub3QgeWV0IGJlZW4gc2V0IHRvIHRoZWlyIGZpbmFsIHZhbHVlKS5cbiAgICAgKiBAcmV0dXJucyBBbiBgT2JqZWN0YCBjb250YWluaW5nIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqL1xuICAgIGRhdGEoZSA9IHt9KSB7XG4gICAgICAgIHJldHVybiBzdXBlci5kYXRhKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBRdWVyeVNuYXBzaG90YCBjb250YWlucyB6ZXJvIG9yIG1vcmUgYERvY3VtZW50U25hcHNob3RgIG9iamVjdHNcbiAqIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0cyBvZiBhIHF1ZXJ5LiBUaGUgZG9jdW1lbnRzIGNhbiBiZSBhY2Nlc3NlZCBhcyBhblxuICogYXJyYXkgdmlhIHRoZSBgZG9jc2AgcHJvcGVydHkgb3IgZW51bWVyYXRlZCB1c2luZyB0aGUgYGZvckVhY2hgIG1ldGhvZC4gVGhlXG4gKiBudW1iZXIgb2YgZG9jdW1lbnRzIGNhbiBiZSBkZXRlcm1pbmVkIHZpYSB0aGUgYGVtcHR5YCBhbmQgYHNpemVgXG4gKiBwcm9wZXJ0aWVzLlxuICovIGNsYXNzIFF1ZXJ5U25hcHNob3Qge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLl9maXJlc3RvcmUgPSBlLCB0aGlzLl91c2VyRGF0YVdyaXRlciA9IHQsIHRoaXMuX3NuYXBzaG90ID0gciwgdGhpcy5tZXRhZGF0YSA9IG5ldyBTbmFwc2hvdE1ldGFkYXRhKHIuaGFzUGVuZGluZ1dyaXRlcywgci5mcm9tQ2FjaGUpLCBcbiAgICAgICAgdGhpcy5xdWVyeSA9IG47XG4gICAgfVxuICAgIC8qKiBBbiBhcnJheSBvZiBhbGwgdGhlIGRvY3VtZW50cyBpbiB0aGUgYFF1ZXJ5U25hcHNob3RgLiAqLyAgICBnZXQgZG9jcygpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKCh0ID0+IGUucHVzaCh0KSkpLCBlO1xuICAgIH1cbiAgICAvKiogVGhlIG51bWJlciBvZiBkb2N1bWVudHMgaW4gdGhlIGBRdWVyeVNuYXBzaG90YC4gKi8gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zbmFwc2hvdC5kb2NzLnNpemU7XG4gICAgfVxuICAgIC8qKiBUcnVlIGlmIHRoZXJlIGFyZSBubyBkb2N1bWVudHMgaW4gdGhlIGBRdWVyeVNuYXBzaG90YC4gKi8gICAgZ2V0IGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gMCA9PT0gdGhpcy5zaXplO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnVtZXJhdGVzIGFsbCBvZiB0aGUgZG9jdW1lbnRzIGluIHRoZSBgUXVlcnlTbmFwc2hvdGAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aXRoIGEgYFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdGAgZm9yXG4gICAgICogZWFjaCBkb2N1bWVudCBpbiB0aGUgc25hcHNob3QuXG4gICAgICogQHBhcmFtIHRoaXNBcmcgLSBUaGUgYHRoaXNgIGJpbmRpbmcgZm9yIHRoZSBjYWxsYmFjay5cbiAgICAgKi8gICAgZm9yRWFjaChlLCB0KSB7XG4gICAgICAgIHRoaXMuX3NuYXBzaG90LmRvY3MuZm9yRWFjaCgobiA9PiB7XG4gICAgICAgICAgICBlLmNhbGwodCwgbmV3IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCh0aGlzLl9maXJlc3RvcmUsIHRoaXMuX3VzZXJEYXRhV3JpdGVyLCBuLmtleSwgbiwgbmV3IFNuYXBzaG90TWV0YWRhdGEodGhpcy5fc25hcHNob3QubXV0YXRlZEtleXMuaGFzKG4ua2V5KSwgdGhpcy5fc25hcHNob3QuZnJvbUNhY2hlKSwgdGhpcy5xdWVyeS5jb252ZXJ0ZXIpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZSBkb2N1bWVudHMgY2hhbmdlcyBzaW5jZSB0aGUgbGFzdCBzbmFwc2hvdC4gSWYgdGhpc1xuICAgICAqIGlzIHRoZSBmaXJzdCBzbmFwc2hvdCwgYWxsIGRvY3VtZW50cyB3aWxsIGJlIGluIHRoZSBsaXN0IGFzICdhZGRlZCdcbiAgICAgKiBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBgU25hcHNob3RMaXN0ZW5PcHRpb25zYCB0aGF0IGNvbnRyb2wgd2hldGhlciBtZXRhZGF0YS1vbmx5XG4gICAgICogY2hhbmdlcyAoaS5lLiBvbmx5IGBEb2N1bWVudFNuYXBzaG90Lm1ldGFkYXRhYCBjaGFuZ2VkKSBzaG91bGQgdHJpZ2dlclxuICAgICAqIHNuYXBzaG90IGV2ZW50cy5cbiAgICAgKi8gICAgZG9jQ2hhbmdlcyhlID0ge30pIHtcbiAgICAgICAgY29uc3QgdCA9ICEhZS5pbmNsdWRlTWV0YWRhdGFDaGFuZ2VzO1xuICAgICAgICBpZiAodCAmJiB0aGlzLl9zbmFwc2hvdC5leGNsdWRlc01ldGFkYXRhQ2hhbmdlcykgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJUbyBpbmNsdWRlIG1ldGFkYXRhIGNoYW5nZXMgd2l0aCB5b3VyIGRvY3VtZW50IGNoYW5nZXMsIHlvdSBtdXN0IGFsc28gcGFzcyB7IGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6dHJ1ZSB9IHRvIG9uU25hcHNob3QoKS5cIik7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRDaGFuZ2VzICYmIHRoaXMuX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzID09PSB0IHx8ICh0aGlzLl9jYWNoZWRDaGFuZ2VzID0gXG4gICAgICAgIC8qKiBDYWxjdWxhdGVzIHRoZSBhcnJheSBvZiBgRG9jdW1lbnRDaGFuZ2VgcyBmb3IgYSBnaXZlbiBgVmlld1NuYXBzaG90YC4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2NoYW5nZXNGcm9tU25hcHNob3QoZSwgdCkge1xuICAgICAgICAgICAgaWYgKGUuX3NuYXBzaG90Lm9sZERvY3MuaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICAgICAgICAgIHJldHVybiBlLl9zbmFwc2hvdC5kb2NDaGFuZ2VzLm1hcCgobiA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgUXVlcnlEb2N1bWVudFNuYXBzaG90KGUuX2ZpcmVzdG9yZSwgZS5fdXNlckRhdGFXcml0ZXIsIG4uZG9jLmtleSwgbi5kb2MsIG5ldyBTbmFwc2hvdE1ldGFkYXRhKGUuX3NuYXBzaG90Lm11dGF0ZWRLZXlzLmhhcyhuLmRvYy5rZXkpLCBlLl9zbmFwc2hvdC5mcm9tQ2FjaGUpLCBlLnF1ZXJ5LmNvbnZlcnRlcik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuLmRvYywge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJhZGRlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZG9jOiByLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2xkSW5kZXg6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXg6IHQrK1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBBIGBEb2N1bWVudFNldGAgdGhhdCBpcyB1cGRhdGVkIGluY3JlbWVudGFsbHkgYXMgY2hhbmdlcyBhcmUgYXBwbGllZCB0byB1c2VcbiAgICAgICAgICAgICAgICAvLyB0byBsb29rdXAgdGhlIGluZGV4IG9mIGEgZG9jdW1lbnQuXG4gICAgICAgICAgICAgICAgbGV0IG4gPSBlLl9zbmFwc2hvdC5vbGREb2NzO1xuICAgICAgICAgICAgICAgIHJldHVybiBlLl9zbmFwc2hvdC5kb2NDaGFuZ2VzLmZpbHRlcigoZSA9PiB0IHx8IDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyAhPT0gZS50eXBlKSkubWFwKCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IG5ldyBRdWVyeURvY3VtZW50U25hcHNob3QoZS5fZmlyZXN0b3JlLCBlLl91c2VyRGF0YVdyaXRlciwgdC5kb2Mua2V5LCB0LmRvYywgbmV3IFNuYXBzaG90TWV0YWRhdGEoZS5fc25hcHNob3QubXV0YXRlZEtleXMuaGFzKHQuZG9jLmtleSksIGUuX3NuYXBzaG90LmZyb21DYWNoZSksIGUucXVlcnkuY29udmVydGVyKTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAtMSwgcyA9IC0xO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovICE9PSB0LnR5cGUgJiYgKGkgPSBuLmluZGV4T2YodC5kb2Mua2V5KSwgbiA9IG4uZGVsZXRlKHQuZG9jLmtleSkpLCBcbiAgICAgICAgICAgICAgICAgICAgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gIT09IHQudHlwZSAmJiAobiA9IG4uYWRkKHQuZG9jKSwgcyA9IG4uaW5kZXhPZih0LmRvYy5rZXkpKSwgXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IF9fUFJJVkFURV9yZXN1bHRDaGFuZ2VUeXBlKHQudHlwZSksXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2M6IHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRJbmRleDogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0luZGV4OiBzXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KHRoaXMsIHQpLCB0aGlzLl9jYWNoZWRDaGFuZ2VzSW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyA9IHQpLCB0aGlzLl9jYWNoZWRDaGFuZ2VzO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3Jlc3VsdENoYW5nZVR5cGUoZSkge1xuICAgIHN3aXRjaCAoZSkge1xuICAgICAgY2FzZSAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gOlxuICAgICAgICByZXR1cm4gXCJhZGRlZFwiO1xuXG4gICAgICBjYXNlIDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA6XG4gICAgICBjYXNlIDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyA6XG4gICAgICAgIHJldHVybiBcIm1vZGlmaWVkXCI7XG5cbiAgICAgIGNhc2UgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gOlxuICAgICAgICByZXR1cm4gXCJyZW1vdmVkXCI7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgfVxufVxuXG4vLyBUT0RPKGZpcmVzdG9yZWV4cCk6IEFkZCB0ZXN0cyBmb3Igc25hcHNob3RFcXVhbCB3aXRoIGRpZmZlcmVudCBzbmFwc2hvdFxuLy8gbWV0YWRhdGFcbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBzbmFwc2hvdHMgYXJlIGVxdWFsLlxuICpcbiAqIEBwYXJhbSBsZWZ0IC0gQSBzbmFwc2hvdCB0byBjb21wYXJlLlxuICogQHBhcmFtIHJpZ2h0IC0gQSBzbmFwc2hvdCB0byBjb21wYXJlLlxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgc25hcHNob3RzIGFyZSBlcXVhbC5cbiAqLyBmdW5jdGlvbiBzbmFwc2hvdEVxdWFsKGUsIHQpIHtcbiAgICByZXR1cm4gZSBpbnN0YW5jZW9mIERvY3VtZW50U25hcHNob3QgJiYgdCBpbnN0YW5jZW9mIERvY3VtZW50U25hcHNob3QgPyBlLl9maXJlc3RvcmUgPT09IHQuX2ZpcmVzdG9yZSAmJiBlLl9rZXkuaXNFcXVhbCh0Ll9rZXkpICYmIChudWxsID09PSBlLl9kb2N1bWVudCA/IG51bGwgPT09IHQuX2RvY3VtZW50IDogZS5fZG9jdW1lbnQuaXNFcXVhbCh0Ll9kb2N1bWVudCkpICYmIGUuX2NvbnZlcnRlciA9PT0gdC5fY29udmVydGVyIDogZSBpbnN0YW5jZW9mIFF1ZXJ5U25hcHNob3QgJiYgdCBpbnN0YW5jZW9mIFF1ZXJ5U25hcHNob3QgJiYgKGUuX2ZpcmVzdG9yZSA9PT0gdC5fZmlyZXN0b3JlICYmIHF1ZXJ5RXF1YWwoZS5xdWVyeSwgdC5xdWVyeSkgJiYgZS5tZXRhZGF0YS5pc0VxdWFsKHQubWV0YWRhdGEpICYmIGUuX3NuYXBzaG90LmlzRXF1YWwodC5fc25hcHNob3QpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVhZHMgdGhlIGRvY3VtZW50IHJlZmVycmVkIHRvIGJ5IHRoaXMgYERvY3VtZW50UmVmZXJlbmNlYC5cbiAqXG4gKiBOb3RlOiBgZ2V0RG9jKClgIGF0dGVtcHRzIHRvIHByb3ZpZGUgdXAtdG8tZGF0ZSBkYXRhIHdoZW4gcG9zc2libGUgYnkgd2FpdGluZ1xuICogZm9yIGRhdGEgZnJvbSB0aGUgc2VydmVyLCBidXQgaXQgbWF5IHJldHVybiBjYWNoZWQgZGF0YSBvciBmYWlsIGlmIHlvdSBhcmVcbiAqIG9mZmxpbmUgYW5kIHRoZSBzZXJ2ZXIgY2Fubm90IGJlIHJlYWNoZWQuIFRvIHNwZWNpZnkgdGhpcyBiZWhhdmlvciwgaW52b2tlXG4gKiB7QGxpbmsgZ2V0RG9jRnJvbUNhY2hlfSBvciB7QGxpbmsgZ2V0RG9jRnJvbVNlcnZlcn0uXG4gKlxuICogQHBhcmFtIHJlZmVyZW5jZSAtIFRoZSByZWZlcmVuY2Ugb2YgdGhlIGRvY3VtZW50IHRvIGZldGNoLlxuICogQHJldHVybnMgQSBQcm9taXNlIHJlc29sdmVkIHdpdGggYSBgRG9jdW1lbnRTbmFwc2hvdGAgY29udGFpbmluZyB0aGVcbiAqIGN1cnJlbnQgZG9jdW1lbnQgY29udGVudHMuXG4gKi8gZnVuY3Rpb24gZ2V0RG9jKGUpIHtcbiAgICBlID0gX19QUklWQVRFX2Nhc3QoZSwgRG9jdW1lbnRSZWZlcmVuY2UpO1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKTtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50VmlhU25hcHNob3RMaXN0ZW5lcihlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHQpLCBlLl9rZXkpLnRoZW4oKG4gPT4gX19QUklWQVRFX2NvbnZlcnRUb0RvY1NuYXBzaG90KHQsIGUsIG4pKSk7XG59XG5cbmNsYXNzIF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlciBleHRlbmRzIEFic3RyYWN0VXNlckRhdGFXcml0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5maXJlc3RvcmUgPSBlO1xuICAgIH1cbiAgICBjb252ZXJ0Qnl0ZXMoZSkge1xuICAgICAgICByZXR1cm4gbmV3IEJ5dGVzKGUpO1xuICAgIH1cbiAgICBjb252ZXJ0UmVmZXJlbmNlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuY29udmVydERvY3VtZW50S2V5KGUsIHRoaXMuZmlyZXN0b3JlLl9kYXRhYmFzZUlkKTtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudFJlZmVyZW5jZSh0aGlzLmZpcmVzdG9yZSwgLyogY29udmVydGVyPSAqLyBudWxsLCB0KTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVhZHMgdGhlIGRvY3VtZW50IHJlZmVycmVkIHRvIGJ5IHRoaXMgYERvY3VtZW50UmVmZXJlbmNlYCBmcm9tIGNhY2hlLlxuICogUmV0dXJucyBhbiBlcnJvciBpZiB0aGUgZG9jdW1lbnQgaXMgbm90IGN1cnJlbnRseSBjYWNoZWQuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgcmVzb2x2ZWQgd2l0aCBhIGBEb2N1bWVudFNuYXBzaG90YCBjb250YWluaW5nIHRoZVxuICogY3VycmVudCBkb2N1bWVudCBjb250ZW50cy5cbiAqLyBmdW5jdGlvbiBnZXREb2NGcm9tQ2FjaGUoZSkge1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBEb2N1bWVudFJlZmVyZW5jZSk7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCBuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZCh0KSwgciA9IG5ldyBfX1BSSVZBVEVfRXhwVXNlckRhdGFXcml0ZXIodCk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudEZyb21Mb2NhbENhY2hlKG4sIGUuX2tleSkudGhlbigobiA9PiBuZXcgRG9jdW1lbnRTbmFwc2hvdCh0LCByLCBlLl9rZXksIG4sIG5ldyBTbmFwc2hvdE1ldGFkYXRhKG51bGwgIT09IG4gJiYgbi5oYXNMb2NhbE11dGF0aW9ucywgXG4gICAgLyogZnJvbUNhY2hlPSAqLyAhMCksIGUuY29udmVydGVyKSkpO1xufVxuXG4vKipcbiAqIFJlYWRzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGlzIGBEb2N1bWVudFJlZmVyZW5jZWAgZnJvbSB0aGUgc2VydmVyLlxuICogUmV0dXJucyBhbiBlcnJvciBpZiB0aGUgbmV0d29yayBpcyBub3QgYXZhaWxhYmxlLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHJlc29sdmVkIHdpdGggYSBgRG9jdW1lbnRTbmFwc2hvdGAgY29udGFpbmluZyB0aGVcbiAqIGN1cnJlbnQgZG9jdW1lbnQgY29udGVudHMuXG4gKi8gZnVuY3Rpb24gZ2V0RG9jRnJvbVNlcnZlcihlKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIERvY3VtZW50UmVmZXJlbmNlKTtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudFZpYVNuYXBzaG90TGlzdGVuZXIoZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZCh0KSwgZS5fa2V5LCB7XG4gICAgICAgIHNvdXJjZTogXCJzZXJ2ZXJcIlxuICAgIH0pLnRoZW4oKG4gPT4gX19QUklWQVRFX2NvbnZlcnRUb0RvY1NuYXBzaG90KHQsIGUsIG4pKSk7XG59XG5cbi8qKlxuICogRXhlY3V0ZXMgdGhlIHF1ZXJ5IGFuZCByZXR1cm5zIHRoZSByZXN1bHRzIGFzIGEgYFF1ZXJ5U25hcHNob3RgLlxuICpcbiAqIE5vdGU6IGBnZXREb2NzKClgIGF0dGVtcHRzIHRvIHByb3ZpZGUgdXAtdG8tZGF0ZSBkYXRhIHdoZW4gcG9zc2libGUgYnlcbiAqIHdhaXRpbmcgZm9yIGRhdGEgZnJvbSB0aGUgc2VydmVyLCBidXQgaXQgbWF5IHJldHVybiBjYWNoZWQgZGF0YSBvciBmYWlsIGlmXG4gKiB5b3UgYXJlIG9mZmxpbmUgYW5kIHRoZSBzZXJ2ZXIgY2Fubm90IGJlIHJlYWNoZWQuIFRvIHNwZWNpZnkgdGhpcyBiZWhhdmlvcixcbiAqIGludm9rZSB7QGxpbmsgZ2V0RG9jc0Zyb21DYWNoZX0gb3Ige0BsaW5rIGdldERvY3NGcm9tU2VydmVyfS5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCB0aGUgcmVzdWx0cyBvZiB0aGUgcXVlcnkuXG4gKi8gZnVuY3Rpb24gZ2V0RG9jcyhlKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIFF1ZXJ5KTtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIG4gPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHQpLCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih0KTtcbiAgICByZXR1cm4gX19QUklWQVRFX3ZhbGlkYXRlSGFzRXhwbGljaXRPcmRlckJ5Rm9yTGltaXRUb0xhc3QoZS5fcXVlcnkpLCBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRzVmlhU25hcHNob3RMaXN0ZW5lcihuLCBlLl9xdWVyeSkudGhlbigobiA9PiBuZXcgUXVlcnlTbmFwc2hvdCh0LCByLCBlLCBuKSkpO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBxdWVyeSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0cyBhcyBhIGBRdWVyeVNuYXBzaG90YCBmcm9tIGNhY2hlLlxuICogUmV0dXJucyBhbiBlbXB0eSByZXN1bHQgc2V0IGlmIG5vIGRvY3VtZW50cyBtYXRjaGluZyB0aGUgcXVlcnkgYXJlIGN1cnJlbnRseVxuICogY2FjaGVkLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeS5cbiAqLyBmdW5jdGlvbiBnZXREb2NzRnJvbUNhY2hlKGUpIHtcbiAgICBlID0gX19QUklWQVRFX2Nhc3QoZSwgUXVlcnkpO1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgbiA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQodCksIHIgPSBuZXcgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyKHQpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRzRnJvbUxvY2FsQ2FjaGUobiwgZS5fcXVlcnkpLnRoZW4oKG4gPT4gbmV3IFF1ZXJ5U25hcHNob3QodCwgciwgZSwgbikpKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgcXVlcnkgYW5kIHJldHVybnMgdGhlIHJlc3VsdHMgYXMgYSBgUXVlcnlTbmFwc2hvdGAgZnJvbSB0aGVcbiAqIHNlcnZlci4gUmV0dXJucyBhbiBlcnJvciBpZiB0aGUgbmV0d29yayBpcyBub3QgYXZhaWxhYmxlLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeS5cbiAqLyBmdW5jdGlvbiBnZXREb2NzRnJvbVNlcnZlcihlKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIFF1ZXJ5KTtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIG4gPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHQpLCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih0KTtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c1ZpYVNuYXBzaG90TGlzdGVuZXIobiwgZS5fcXVlcnksIHtcbiAgICAgICAgc291cmNlOiBcInNlcnZlclwiXG4gICAgfSkudGhlbigobiA9PiBuZXcgUXVlcnlTbmFwc2hvdCh0LCByLCBlLCBuKSkpO1xufVxuXG5mdW5jdGlvbiBzZXREb2MoZSwgdCwgbikge1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBEb2N1bWVudFJlZmVyZW5jZSk7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCBpID0gX19QUklWQVRFX2FwcGx5RmlyZXN0b3JlRGF0YUNvbnZlcnRlcihlLmNvbnZlcnRlciwgdCwgbik7XG4gICAgcmV0dXJuIGV4ZWN1dGVXcml0ZShyLCBbIF9fUFJJVkFURV9wYXJzZVNldERhdGEoX19QUklWQVRFX25ld1VzZXJEYXRhUmVhZGVyKHIpLCBcInNldERvY1wiLCBlLl9rZXksIGksIG51bGwgIT09IGUuY29udmVydGVyLCBuKS50b011dGF0aW9uKGUuX2tleSwgUHJlY29uZGl0aW9uLm5vbmUoKSkgXSk7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZURvYyhlLCB0LCBuLCAuLi5yKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIERvY3VtZW50UmVmZXJlbmNlKTtcbiAgICBjb25zdCBpID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIHMgPSBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoaSk7XG4gICAgbGV0IG87XG4gICAgbyA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIChcbiAgICAvLyBGb3IgQ29tcGF0IHR5cGVzLCB3ZSBoYXZlIHRvIFwiZXh0cmFjdFwiIHRoZSB1bmRlcmx5aW5nIHR5cGVzIGJlZm9yZVxuICAgIC8vIHBlcmZvcm1pbmcgdmFsaWRhdGlvbi5cbiAgICB0ID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UodCkpIHx8IHQgaW5zdGFuY2VvZiBGaWVsZFBhdGggPyBfX1BSSVZBVEVfcGFyc2VVcGRhdGVWYXJhcmdzKHMsIFwidXBkYXRlRG9jXCIsIGUuX2tleSwgdCwgbiwgcikgOiBfX1BSSVZBVEVfcGFyc2VVcGRhdGVEYXRhKHMsIFwidXBkYXRlRG9jXCIsIGUuX2tleSwgdCk7XG4gICAgcmV0dXJuIGV4ZWN1dGVXcml0ZShpLCBbIG8udG9NdXRhdGlvbihlLl9rZXksIFByZWNvbmRpdGlvbi5leGlzdHMoITApKSBdKTtcbn1cblxuLyoqXG4gKiBEZWxldGVzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGUgc3BlY2lmaWVkIGBEb2N1bWVudFJlZmVyZW5jZWAuXG4gKlxuICogQHBhcmFtIHJlZmVyZW5jZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBkZWxldGUuXG4gKiBAcmV0dXJucyBBIFByb21pc2UgcmVzb2x2ZWQgb25jZSB0aGUgZG9jdW1lbnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gKiBkZWxldGVkIGZyb20gdGhlIGJhY2tlbmQgKG5vdGUgdGhhdCBpdCB3b24ndCByZXNvbHZlIHdoaWxlIHlvdSdyZSBvZmZsaW5lKS5cbiAqLyBmdW5jdGlvbiBkZWxldGVEb2MoZSkge1xuICAgIHJldHVybiBleGVjdXRlV3JpdGUoX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIFsgbmV3IF9fUFJJVkFURV9EZWxldGVNdXRhdGlvbihlLl9rZXksIFByZWNvbmRpdGlvbi5ub25lKCkpIF0pO1xufVxuXG4vKipcbiAqIEFkZCBhIG5ldyBkb2N1bWVudCB0byBzcGVjaWZpZWQgYENvbGxlY3Rpb25SZWZlcmVuY2VgIHdpdGggdGhlIGdpdmVuIGRhdGEsXG4gKiBhc3NpZ25pbmcgaXQgYSBkb2N1bWVudCBJRCBhdXRvbWF0aWNhbGx5LlxuICpcbiAqIEBwYXJhbSByZWZlcmVuY2UgLSBBIHJlZmVyZW5jZSB0byB0aGUgY29sbGVjdGlvbiB0byBhZGQgdGhpcyBkb2N1bWVudCB0by5cbiAqIEBwYXJhbSBkYXRhIC0gQW4gT2JqZWN0IGNvbnRhaW5pbmcgdGhlIGRhdGEgZm9yIHRoZSBuZXcgZG9jdW1lbnQuXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCByZXNvbHZlZCB3aXRoIGEgYERvY3VtZW50UmVmZXJlbmNlYCBwb2ludGluZyB0byB0aGVcbiAqIG5ld2x5IGNyZWF0ZWQgZG9jdW1lbnQgYWZ0ZXIgaXQgaGFzIGJlZW4gd3JpdHRlbiB0byB0aGUgYmFja2VuZCAoTm90ZSB0aGF0IGl0XG4gKiB3b24ndCByZXNvbHZlIHdoaWxlIHlvdSdyZSBvZmZsaW5lKS5cbiAqLyBmdW5jdGlvbiBhZGREb2MoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgciA9IGRvYyhlKSwgaSA9IF9fUFJJVkFURV9hcHBseUZpcmVzdG9yZURhdGFDb252ZXJ0ZXIoZS5jb252ZXJ0ZXIsIHQpO1xuICAgIHJldHVybiBleGVjdXRlV3JpdGUobiwgWyBfX1BSSVZBVEVfcGFyc2VTZXREYXRhKF9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlcihlLmZpcmVzdG9yZSksIFwiYWRkRG9jXCIsIHIuX2tleSwgaSwgbnVsbCAhPT0gZS5jb252ZXJ0ZXIsIHt9KS50b011dGF0aW9uKHIuX2tleSwgUHJlY29uZGl0aW9uLmV4aXN0cyghMSkpIF0pLnRoZW4oKCgpID0+IHIpKTtcbn1cblxuZnVuY3Rpb24gb25TbmFwc2hvdChlLCAuLi50KSB7XG4gICAgdmFyIG4sIHIsIGk7XG4gICAgZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpO1xuICAgIGxldCBzID0ge1xuICAgICAgICBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiAhMSxcbiAgICAgICAgc291cmNlOiBcImRlZmF1bHRcIlxuICAgIH0sIG8gPSAwO1xuICAgIFwib2JqZWN0XCIgIT0gdHlwZW9mIHRbb10gfHwgX19QUklWQVRFX2lzUGFydGlhbE9ic2VydmVyKHRbb10pIHx8IChzID0gdFtvXSwgbysrKTtcbiAgICBjb25zdCBfID0ge1xuICAgICAgICBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiBzLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXMsXG4gICAgICAgIHNvdXJjZTogcy5zb3VyY2VcbiAgICB9O1xuICAgIGlmIChfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIodFtvXSkpIHtcbiAgICAgICAgY29uc3QgZSA9IHRbb107XG4gICAgICAgIHRbb10gPSBudWxsID09PSAobiA9IGUubmV4dCkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5iaW5kKGUpLCB0W28gKyAxXSA9IG51bGwgPT09IChyID0gZS5lcnJvcikgfHwgdm9pZCAwID09PSByID8gdm9pZCAwIDogci5iaW5kKGUpLCBcbiAgICAgICAgdFtvICsgMl0gPSBudWxsID09PSAoaSA9IGUuY29tcGxldGUpIHx8IHZvaWQgMCA9PT0gaSA/IHZvaWQgMCA6IGkuYmluZChlKTtcbiAgICB9XG4gICAgbGV0IGEsIHUsIGM7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSkgdSA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCBcbiAgICBjID0gX19QUklWQVRFX25ld1F1ZXJ5Rm9yUGF0aChlLl9rZXkucGF0aCksIGEgPSB7XG4gICAgICAgIG5leHQ6IG4gPT4ge1xuICAgICAgICAgICAgdFtvXSAmJiB0W29dKF9fUFJJVkFURV9jb252ZXJ0VG9Eb2NTbmFwc2hvdCh1LCBlLCBuKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiB0W28gKyAxXSxcbiAgICAgICAgY29tcGxldGU6IHRbbyArIDJdXG4gICAgfTsgZWxzZSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY2FzdChlLCBRdWVyeSk7XG4gICAgICAgIHUgPSBfX1BSSVZBVEVfY2FzdChuLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgYyA9IG4uX3F1ZXJ5O1xuICAgICAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih1KTtcbiAgICAgICAgYSA9IHtcbiAgICAgICAgICAgIG5leHQ6IGUgPT4ge1xuICAgICAgICAgICAgICAgIHRbb10gJiYgdFtvXShuZXcgUXVlcnlTbmFwc2hvdCh1LCByLCBuLCBlKSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyb3I6IHRbbyArIDFdLFxuICAgICAgICAgICAgY29tcGxldGU6IHRbbyArIDJdXG4gICAgICAgIH0sIF9fUFJJVkFURV92YWxpZGF0ZUhhc0V4cGxpY2l0T3JkZXJCeUZvckxpbWl0VG9MYXN0KGUuX3F1ZXJ5KTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRMaXN0ZW4oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9Bc3luY09ic2VydmVyKHIpLCBzID0gbmV3IF9fUFJJVkFURV9RdWVyeUxpc3RlbmVyKHQsIGksIG4pO1xuICAgICAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IF9fUFJJVkFURV9ldmVudE1hbmFnZXJMaXN0ZW4oYXdhaXQgX19QUklWQVRFX2dldEV2ZW50TWFuYWdlcihlKSwgcykpKSwgXG4gICAgICAgICgpID0+IHtcbiAgICAgICAgICAgIGkuJGEoKSwgZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IF9fUFJJVkFURV9ldmVudE1hbmFnZXJVbmxpc3Rlbihhd2FpdCBfX1BSSVZBVEVfZ2V0RXZlbnRNYW5hZ2VyKGUpLCBzKSkpO1xuICAgICAgICB9O1xuICAgIH0oZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZCh1KSwgYywgXywgYSk7XG59XG5cbmZ1bmN0aW9uIG9uU25hcHNob3RzSW5TeW5jKGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEFkZFNuYXBzaG90c0luU3luY0xpc3RlbmVyKGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpLCBfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIodCkgPyB0IDoge1xuICAgICAgICBuZXh0OiB0XG4gICAgfSk7XG59XG5cbi8qKlxuICogTG9jYWxseSB3cml0ZXMgYG11dGF0aW9uc2Agb24gdGhlIGFzeW5jIHF1ZXVlLlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gZXhlY3V0ZVdyaXRlKGUsIHQpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFdyaXRlKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gX19QUklWQVRFX3N5bmNFbmdpbmVXcml0ZShhd2FpdCBfX1BSSVZBVEVfZ2V0U3luY0VuZ2luZShlKSwgdCwgbikpKSwgXG4gICAgICAgIG4ucHJvbWlzZTtcbiAgICB9KGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSksIHQpO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIGEge0BsaW5rIFZpZXdTbmFwc2hvdH0gdGhhdCBjb250YWlucyB0aGUgc2luZ2xlIGRvY3VtZW50IHNwZWNpZmllZCBieSBgcmVmYFxuICogdG8gYSB7QGxpbmsgRG9jdW1lbnRTbmFwc2hvdH0uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NvbnZlcnRUb0RvY1NuYXBzaG90KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gbi5kb2NzLmdldCh0Ll9rZXkpLCBpID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcihlKTtcbiAgICByZXR1cm4gbmV3IERvY3VtZW50U25hcHNob3QoZSwgaSwgdC5fa2V5LCByLCBuZXcgU25hcHNob3RNZXRhZGF0YShuLmhhc1BlbmRpbmdXcml0ZXMsIG4uZnJvbUNhY2hlKSwgdC5jb252ZXJ0ZXIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIGluIHRoZSByZXN1bHQgc2V0IG9mIHRoZSBnaXZlbiBxdWVyeVxuICogd2l0aG91dCBhY3R1YWxseSBkb3dubG9hZGluZyB0aGUgZG9jdW1lbnRzLlxuICpcbiAqIFVzaW5nIHRoaXMgZnVuY3Rpb24gdG8gY291bnQgdGhlIGRvY3VtZW50cyBpcyBlZmZpY2llbnQgYmVjYXVzZSBvbmx5IHRoZVxuICogZmluYWwgY291bnQsIG5vdCB0aGUgZG9jdW1lbnRzJyBkYXRhLCBpcyBkb3dubG9hZGVkLiBUaGlzIGZ1bmN0aW9uIGNhblxuICogY291bnQgdGhlIGRvY3VtZW50cyBpbiBjYXNlcyB3aGVyZSB0aGUgcmVzdWx0IHNldCBpcyBwcm9oaWJpdGl2ZWx5IGxhcmdlIHRvXG4gKiBkb3dubG9hZCBlbnRpcmVseSAodGhvdXNhbmRzIG9mIGRvY3VtZW50cykuXG4gKlxuICogVGhlIHJlc3VsdCByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2ZXIgaXMgcHJlc2VudGVkLCB1bmFsdGVyZWQsIHdpdGhvdXRcbiAqIGNvbnNpZGVyaW5nIGFueSBsb2NhbCBzdGF0ZS4gVGhhdCBpcywgZG9jdW1lbnRzIGluIHRoZSBsb2NhbCBjYWNoZSBhcmUgbm90XG4gKiB0YWtlbiBpbnRvIGNvbnNpZGVyYXRpb24sIG5laXRoZXIgYXJlIGxvY2FsIG1vZGlmaWNhdGlvbnMgbm90IHlldFxuICogc3luY2hyb25pemVkIHdpdGggdGhlIHNlcnZlci4gUHJldmlvdXNseS1kb3dubG9hZGVkIHJlc3VsdHMsIGlmIGFueSwgYXJlIG5vdFxuICogdXNlZC4gRXZlcnkgaW52b2NhdGlvbiBvZiB0aGlzIGZ1bmN0aW9uIG5lY2Vzc2FyaWx5IGludm9sdmVzIGEgcm91bmQgdHJpcCB0b1xuICogdGhlIHNlcnZlci5cbiAqXG4gKiBAcGFyYW0gcXVlcnkgVGhlIHF1ZXJ5IHdob3NlIHJlc3VsdCBzZXQgc2l6ZSBpcyBjYWxjdWxhdGVkLlxuICogQHJldHVybnMgQSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSBjb3VudDsgdGhlIGNvdW50IGNhbiBiZVxuICogcmV0cmlldmVkIGZyb20gYHNuYXBzaG90LmRhdGEoKS5jb3VudGAsIHdoZXJlIGBzbmFwc2hvdGAgaXMgdGhlXG4gKiBgQWdncmVnYXRlUXVlcnlTbmFwc2hvdGAgdG8gd2hpY2ggdGhlIHJldHVybmVkIFByb21pc2UgcmVzb2x2ZXMuXG4gKi8gZnVuY3Rpb24gZ2V0Q291bnRGcm9tU2VydmVyKGUpIHtcbiAgICByZXR1cm4gZ2V0QWdncmVnYXRlRnJvbVNlcnZlcihlLCB7XG4gICAgICAgIGNvdW50OiBjb3VudCgpXG4gICAgfSk7XG59XG5cbi8qKlxuICogQ2FsY3VsYXRlcyB0aGUgc3BlY2lmaWVkIGFnZ3JlZ2F0aW9ucyBvdmVyIHRoZSBkb2N1bWVudHMgaW4gdGhlIHJlc3VsdFxuICogc2V0IG9mIHRoZSBnaXZlbiBxdWVyeSB3aXRob3V0IGFjdHVhbGx5IGRvd25sb2FkaW5nIHRoZSBkb2N1bWVudHMuXG4gKlxuICogVXNpbmcgdGhpcyBmdW5jdGlvbiB0byBwZXJmb3JtIGFnZ3JlZ2F0aW9ucyBpcyBlZmZpY2llbnQgYmVjYXVzZSBvbmx5IHRoZVxuICogZmluYWwgYWdncmVnYXRpb24gdmFsdWVzLCBub3QgdGhlIGRvY3VtZW50cycgZGF0YSwgYXJlIGRvd25sb2FkZWQuIFRoaXNcbiAqIGZ1bmN0aW9uIGNhbiBwZXJmb3JtIGFnZ3JlZ2F0aW9ucyBvZiB0aGUgZG9jdW1lbnRzIGluIGNhc2VzIHdoZXJlIHRoZSByZXN1bHRcbiAqIHNldCBpcyBwcm9oaWJpdGl2ZWx5IGxhcmdlIHRvIGRvd25sb2FkIGVudGlyZWx5ICh0aG91c2FuZHMgb2YgZG9jdW1lbnRzKS5cbiAqXG4gKiBUaGUgcmVzdWx0IHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlciBpcyBwcmVzZW50ZWQsIHVuYWx0ZXJlZCwgd2l0aG91dFxuICogY29uc2lkZXJpbmcgYW55IGxvY2FsIHN0YXRlLiBUaGF0IGlzLCBkb2N1bWVudHMgaW4gdGhlIGxvY2FsIGNhY2hlIGFyZSBub3RcbiAqIHRha2VuIGludG8gY29uc2lkZXJhdGlvbiwgbmVpdGhlciBhcmUgbG9jYWwgbW9kaWZpY2F0aW9ucyBub3QgeWV0XG4gKiBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgc2VydmVyLiBQcmV2aW91c2x5LWRvd25sb2FkZWQgcmVzdWx0cywgaWYgYW55LCBhcmUgbm90XG4gKiB1c2VkLiBFdmVyeSBpbnZvY2F0aW9uIG9mIHRoaXMgZnVuY3Rpb24gbmVjZXNzYXJpbHkgaW52b2x2ZXMgYSByb3VuZCB0cmlwIHRvXG4gKiB0aGUgc2VydmVyLlxuICpcbiAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgd2hvc2UgcmVzdWx0IHNldCBpcyBhZ2dyZWdhdGVkIG92ZXIuXG4gKiBAcGFyYW0gYWdncmVnYXRlU3BlYyBBbiBgQWdncmVnYXRlU3BlY2Agb2JqZWN0IHRoYXQgc3BlY2lmaWVzIHRoZSBhZ2dyZWdhdGVzXG4gKiB0byBwZXJmb3JtIG92ZXIgdGhlIHJlc3VsdCBzZXQuIFRoZSBBZ2dyZWdhdGVTcGVjIHNwZWNpZmllcyBhbGlhc2VzIGZvciBlYWNoXG4gKiBhZ2dyZWdhdGUsIHdoaWNoIGNhbiBiZSB1c2VkIHRvIHJldHJpZXZlIHRoZSBhZ2dyZWdhdGUgcmVzdWx0LlxuICogQGV4YW1wbGVcbiAqIGBgYHR5cGVzY3JpcHRcbiAqIGNvbnN0IGFnZ3JlZ2F0ZVNuYXBzaG90ID0gYXdhaXQgZ2V0QWdncmVnYXRlRnJvbVNlcnZlcihxdWVyeSwge1xuICogICBjb3VudE9mRG9jczogY291bnQoKSxcbiAqICAgdG90YWxIb3Vyczogc3VtKCdob3VycycpLFxuICogICBhdmVyYWdlU2NvcmU6IGF2ZXJhZ2UoJ3Njb3JlJylcbiAqIH0pO1xuICpcbiAqIGNvbnN0IGNvdW50T2ZEb2NzOiBudW1iZXIgPSBhZ2dyZWdhdGVTbmFwc2hvdC5kYXRhKCkuY291bnRPZkRvY3M7XG4gKiBjb25zdCB0b3RhbEhvdXJzOiBudW1iZXIgPSBhZ2dyZWdhdGVTbmFwc2hvdC5kYXRhKCkudG90YWxIb3VycztcbiAqIGNvbnN0IGF2ZXJhZ2VTY29yZTogbnVtYmVyIHwgbnVsbCA9IGFnZ3JlZ2F0ZVNuYXBzaG90LmRhdGEoKS5hdmVyYWdlU2NvcmU7XG4gKiBgYGBcbiAqLyBmdW5jdGlvbiBnZXRBZ2dyZWdhdGVGcm9tU2VydmVyKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIHIgPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKG4pLCBpID0gX19QUklWQVRFX21hcFRvQXJyYXkodCwgKChlLCB0KSA9PiBuZXcgX19QUklWQVRFX0FnZ3JlZ2F0ZUltcGwodCwgZS5hZ2dyZWdhdGVUeXBlLCBlLl9pbnRlcm5hbEZpZWxkUGF0aCkpKTtcbiAgICAvLyBSdW4gdGhlIGFnZ3JlZ2F0aW9uIGFuZCBjb252ZXJ0IHRoZSByZXN1bHRzXG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRSdW5BZ2dyZWdhdGVRdWVyeShyLCBlLl9xdWVyeSwgaSkudGhlbigodCA9PiBcbiAgICAvKipcbiAqIENvbnZlcnRzIHRoZSBjb3JlIGFnZ3JlZ3JhdGlvbiByZXN1bHQgdG8gYW4gYEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RgXG4gKiB0aGF0IGNhbiBiZSByZXR1cm5lZCB0byB0aGUgY29uc3VtZXIuXG4gKiBAcGFyYW0gcXVlcnlcbiAqIEBwYXJhbSBhZ2dyZWdhdGVSZXN1bHQgQ29yZSBhZ2dyZWdhdGlvbiByZXN1bHRcbiAqIEBpbnRlcm5hbFxuICovXG4gICAgZnVuY3Rpb24gX19QUklWQVRFX2NvbnZlcnRUb0FnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3QoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcihlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90KHQsIHIsIG4pO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAobiwgZSwgdCkpKTtcbn1cblxuY2xhc3MgX19QUklWQVRFX01lbW9yeUxvY2FsQ2FjaGVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMua2luZCA9IFwibWVtb3J5XCIsIHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyLCBcbiAgICAgICAgKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuZ2FyYmFnZUNvbGxlY3RvcikgPyB0aGlzLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgPSBlLmdhcmJhZ2VDb2xsZWN0b3IuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA6IHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IG5ldyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXI7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6IHRoaXMua2luZFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX1BlcnNpc3RlbnRMb2NhbENhY2hlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgdGhpcy5raW5kID0gXCJwZXJzaXN0ZW50XCIsIChudWxsID09IGUgPyB2b2lkIDAgOiBlLnRhYk1hbmFnZXIpID8gKGUudGFiTWFuYWdlci5faW5pdGlhbGl6ZShlKSwgXG4gICAgICAgIHQgPSBlLnRhYk1hbmFnZXIpIDogKHQgPSBwZXJzaXN0ZW50U2luZ2xlVGFiTWFuYWdlcih2b2lkIDApLCB0Ll9pbml0aWFsaXplKGUpKSwgXG4gICAgICAgIHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyID0gdC5fb25saW5lQ29tcG9uZW50UHJvdmlkZXIsIHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IHQuX29mZmxpbmVDb21wb25lbnRQcm92aWRlcjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogdGhpcy5raW5kXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5RWFnZXJHYWJhZ2VDb2xsZWN0b3JJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5raW5kID0gXCJtZW1vcnlFYWdlclwiLCB0aGlzLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgPSBuZXcgTWVtb3J5T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiB0aGlzLmtpbmRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9NZW1vcnlMcnVHYWJhZ2VDb2xsZWN0b3JJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMua2luZCA9IFwibWVtb3J5THJ1XCIsIHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IG5ldyBfX1BSSVZBVEVfTHJ1R2NNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIoZSk7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6IHRoaXMua2luZFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBNZW1vcnlFYWdlckdhcmJhZ2VDb2xsZWN0b3JgLiBUaGlzIGlzIGFsc28gdGhlXG4gKiBkZWZhdWx0IGdhcmJhZ2UgY29sbGVjdG9yIHVubGVzcyBpdCBpcyBleHBsaWNpdGx5IHNwZWNpZmllZCBvdGhlcndpc2UuXG4gKi8gZnVuY3Rpb24gbWVtb3J5RWFnZXJHYXJiYWdlQ29sbGVjdG9yKCkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeUVhZ2VyR2FiYWdlQ29sbGVjdG9ySW1wbDtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBNZW1vcnlMcnVHYXJiYWdlQ29sbGVjdG9yYC5cbiAqXG4gKiBBIHRhcmdldCBzaXplIGNhbiBiZSBzcGVjaWZpZWQgYXMgcGFydCBvZiB0aGUgc2V0dGluZyBwYXJhbWV0ZXIuIFRoZVxuICogY29sbGVjdG9yIHdpbGwgc3RhcnQgZGVsZXRpbmcgZG9jdW1lbnRzIG9uY2UgdGhlIGNhY2hlIHNpemUgZXhjZWVkc1xuICogdGhlIGdpdmVuIHNpemUuIFRoZSBkZWZhdWx0IGNhY2hlIHNpemUgaXMgNDBNQiAoNDAgKiAxMDI0ICogMTAyNCBieXRlcykuXG4gKi8gZnVuY3Rpb24gbWVtb3J5THJ1R2FyYmFnZUNvbGxlY3RvcihlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5THJ1R2FiYWdlQ29sbGVjdG9ySW1wbChudWxsID09IGUgPyB2b2lkIDAgOiBlLmNhY2hlU2l6ZUJ5dGVzKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBNZW1vcnlMb2NhbENhY2hlYC4gVGhlIGluc3RhbmNlIGNhbiBiZSBzZXQgdG9cbiAqIGBGaXJlc3RvcmVTZXR0aW5ncy5jYWNoZWAgdG8gdGVsbCB0aGUgU0RLIHdoaWNoIGNhY2hlIGxheWVyIHRvIHVzZS5cbiAqLyBmdW5jdGlvbiBtZW1vcnlMb2NhbENhY2hlKGUpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NZW1vcnlMb2NhbENhY2hlSW1wbChlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBQZXJzaXN0ZW50TG9jYWxDYWNoZWAuIFRoZSBpbnN0YW5jZSBjYW4gYmUgc2V0IHRvXG4gKiBgRmlyZXN0b3JlU2V0dGluZ3MuY2FjaGVgIHRvIHRlbGwgdGhlIFNESyB3aGljaCBjYWNoZSBsYXllciB0byB1c2UuXG4gKlxuICogUGVyc2lzdGVudCBjYWNoZSBjYW5ub3QgYmUgdXNlZCBpbiBhIE5vZGUuanMgZW52aXJvbm1lbnQuXG4gKi8gZnVuY3Rpb24gcGVyc2lzdGVudExvY2FsQ2FjaGUoZSkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1BlcnNpc3RlbnRMb2NhbENhY2hlSW1wbChlKTtcbn1cblxuY2xhc3MgX19QUklWQVRFX1NpbmdsZVRhYk1hbmFnZXJJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuZm9yY2VPd25lcnNoaXAgPSBlLCB0aGlzLmtpbmQgPSBcInBlcnNpc3RlbnRTaW5nbGVUYWJcIjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogdGhpcy5raW5kXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqLyAgICBfaW5pdGlhbGl6ZShlKSB7XG4gICAgICAgIHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyLCB0aGlzLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgPSBuZXcgX19QUklWQVRFX0luZGV4ZWREYk9mZmxpbmVDb21wb25lbnRQcm92aWRlcih0aGlzLl9vbmxpbmVDb21wb25lbnRQcm92aWRlciwgbnVsbCA9PSBlID8gdm9pZCAwIDogZS5jYWNoZVNpemVCeXRlcywgdGhpcy5mb3JjZU93bmVyc2hpcCk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfTXVsdGlUYWJNYW5hZ2VySW1wbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMua2luZCA9IFwiUGVyc2lzdGVudE11bHRpcGxlVGFiXCI7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6IHRoaXMua2luZFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi8gICAgX2luaXRpYWxpemUoZSkge1xuICAgICAgICB0aGlzLl9vbmxpbmVDb21wb25lbnRQcm92aWRlciA9IG5ldyBPbmxpbmVDb21wb25lbnRQcm92aWRlciwgdGhpcy5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IF9fUFJJVkFURV9NdWx0aVRhYk9mZmxpbmVDb21wb25lbnRQcm92aWRlcih0aGlzLl9vbmxpbmVDb21wb25lbnRQcm92aWRlciwgbnVsbCA9PSBlID8gdm9pZCAwIDogZS5jYWNoZVNpemVCeXRlcyk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYFBlcnNpc3RlbnRTaW5nbGVUYWJNYW5hZ2VyYC5cbiAqXG4gKiBAcGFyYW0gc2V0dGluZ3MgQ29uZmlndXJlcyB0aGUgY3JlYXRlZCB0YWIgbWFuYWdlci5cbiAqLyBmdW5jdGlvbiBwZXJzaXN0ZW50U2luZ2xlVGFiTWFuYWdlcihlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfU2luZ2xlVGFiTWFuYWdlckltcGwobnVsbCA9PSBlID8gdm9pZCAwIDogZS5mb3JjZU93bmVyc2hpcCk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBgUGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlcmAuXG4gKi8gZnVuY3Rpb24gcGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlcigpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NdWx0aVRhYk1hbmFnZXJJbXBsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBEZSA9IHtcbiAgICBtYXhBdHRlbXB0czogNVxufTtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSB3cml0ZSBiYXRjaCwgdXNlZCB0byBwZXJmb3JtIG11bHRpcGxlIHdyaXRlcyBhcyBhIHNpbmdsZSBhdG9taWMgdW5pdC5cbiAqXG4gKiBBIGBXcml0ZUJhdGNoYCBvYmplY3QgY2FuIGJlIGFjcXVpcmVkIGJ5IGNhbGxpbmcge0BsaW5rIHdyaXRlQmF0Y2h9LiBJdFxuICogcHJvdmlkZXMgbWV0aG9kcyBmb3IgYWRkaW5nIHdyaXRlcyB0byB0aGUgd3JpdGUgYmF0Y2guIE5vbmUgb2YgdGhlIHdyaXRlc1xuICogd2lsbCBiZSBjb21taXR0ZWQgKG9yIHZpc2libGUgbG9jYWxseSkgdW50aWwge0BsaW5rIFdyaXRlQmF0Y2guY29tbWl0fSBpc1xuICogY2FsbGVkLlxuICovXG5jbGFzcyBXcml0ZUJhdGNoIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5fZmlyZXN0b3JlID0gZSwgdGhpcy5fY29tbWl0SGFuZGxlciA9IHQsIHRoaXMuX211dGF0aW9ucyA9IFtdLCB0aGlzLl9jb21taXR0ZWQgPSAhMSwgXG4gICAgICAgIHRoaXMuX2RhdGFSZWFkZXIgPSBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoZSk7XG4gICAgfVxuICAgIHNldChlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpO1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHRoaXMuX2ZpcmVzdG9yZSksIGkgPSBfX1BSSVZBVEVfYXBwbHlGaXJlc3RvcmVEYXRhQ29udmVydGVyKHIuY29udmVydGVyLCB0LCBuKSwgcyA9IF9fUFJJVkFURV9wYXJzZVNldERhdGEodGhpcy5fZGF0YVJlYWRlciwgXCJXcml0ZUJhdGNoLnNldFwiLCByLl9rZXksIGksIG51bGwgIT09IHIuY29udmVydGVyLCBuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX211dGF0aW9ucy5wdXNoKHMudG9NdXRhdGlvbihyLl9rZXksIFByZWNvbmRpdGlvbi5ub25lKCkpKSwgdGhpcztcbiAgICB9XG4gICAgdXBkYXRlKGUsIHQsIG4sIC4uLnIpIHtcbiAgICAgICAgdGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCk7XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgLy8gRm9yIENvbXBhdCB0eXBlcywgd2UgaGF2ZSB0byBcImV4dHJhY3RcIiB0aGUgdW5kZXJseWluZyB0eXBlcyBiZWZvcmVcbiAgICAgICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIGxldCBzO1xuICAgICAgICByZXR1cm4gcyA9IFwic3RyaW5nXCIgPT0gdHlwZW9mICh0ID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UodCkpIHx8IHQgaW5zdGFuY2VvZiBGaWVsZFBhdGggPyBfX1BSSVZBVEVfcGFyc2VVcGRhdGVWYXJhcmdzKHRoaXMuX2RhdGFSZWFkZXIsIFwiV3JpdGVCYXRjaC51cGRhdGVcIiwgaS5fa2V5LCB0LCBuLCByKSA6IF9fUFJJVkFURV9wYXJzZVVwZGF0ZURhdGEodGhpcy5fZGF0YVJlYWRlciwgXCJXcml0ZUJhdGNoLnVwZGF0ZVwiLCBpLl9rZXksIHQpLCBcbiAgICAgICAgdGhpcy5fbXV0YXRpb25zLnB1c2gocy50b011dGF0aW9uKGkuX2tleSwgUHJlY29uZGl0aW9uLmV4aXN0cyghMCkpKSwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgZG9jdW1lbnQgcmVmZXJyZWQgdG8gYnkgdGhlIHByb3ZpZGVkIHtAbGluayBEb2N1bWVudFJlZmVyZW5jZX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRSZWYgLSBBIHJlZmVyZW5jZSB0byB0aGUgZG9jdW1lbnQgdG8gYmUgZGVsZXRlZC5cbiAgICAgKiBAcmV0dXJucyBUaGlzIGBXcml0ZUJhdGNoYCBpbnN0YW5jZS4gVXNlZCBmb3IgY2hhaW5pbmcgbWV0aG9kIGNhbGxzLlxuICAgICAqLyAgICBkZWxldGUoZSkge1xuICAgICAgICB0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKTtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fbXV0YXRpb25zID0gdGhpcy5fbXV0YXRpb25zLmNvbmNhdChuZXcgX19QUklWQVRFX0RlbGV0ZU11dGF0aW9uKHQuX2tleSwgUHJlY29uZGl0aW9uLm5vbmUoKSkpLCBcbiAgICAgICAgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tbWl0cyBhbGwgb2YgdGhlIHdyaXRlcyBpbiB0aGlzIHdyaXRlIGJhdGNoIGFzIGEgc2luZ2xlIGF0b21pYyB1bml0LlxuICAgICAqXG4gICAgICogVGhlIHJlc3VsdCBvZiB0aGVzZSB3cml0ZXMgd2lsbCBvbmx5IGJlIHJlZmxlY3RlZCBpbiBkb2N1bWVudCByZWFkcyB0aGF0XG4gICAgICogb2NjdXIgYWZ0ZXIgdGhlIHJldHVybmVkIHByb21pc2UgcmVzb2x2ZXMuIElmIHRoZSBjbGllbnQgaXMgb2ZmbGluZSwgdGhlXG4gICAgICogd3JpdGUgZmFpbHMuIElmIHlvdSB3b3VsZCBsaWtlIHRvIHNlZSBsb2NhbCBtb2RpZmljYXRpb25zIG9yIGJ1ZmZlciB3cml0ZXNcbiAgICAgKiB1bnRpbCB0aGUgY2xpZW50IGlzIG9ubGluZSwgdXNlIHRoZSBmdWxsIEZpcmVzdG9yZSBTREsuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIGBQcm9taXNlYCByZXNvbHZlZCBvbmNlIGFsbCBvZiB0aGUgd3JpdGVzIGluIHRoZSBiYXRjaCBoYXZlIGJlZW5cbiAgICAgKiBzdWNjZXNzZnVsbHkgd3JpdHRlbiB0byB0aGUgYmFja2VuZCBhcyBhbiBhdG9taWMgdW5pdCAobm90ZSB0aGF0IGl0IHdvbid0XG4gICAgICogcmVzb2x2ZSB3aGlsZSB5b3UncmUgb2ZmbGluZSkuXG4gICAgICovICAgIGNvbW1pdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpLCB0aGlzLl9jb21taXR0ZWQgPSAhMCwgdGhpcy5fbXV0YXRpb25zLmxlbmd0aCA+IDAgPyB0aGlzLl9jb21taXRIYW5kbGVyKHRoaXMuX211dGF0aW9ucykgOiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgX3ZlcmlmeU5vdENvbW1pdHRlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX2NvbW1pdHRlZCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJBIHdyaXRlIGJhdGNoIGNhbiBubyBsb25nZXIgYmUgdXNlZCBhZnRlciBjb21taXQoKSBoYXMgYmVlbiBjYWxsZWQuXCIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHQpIHtcbiAgICBpZiAoKGUgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShlKSkuZmlyZXN0b3JlICE9PSB0KSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlByb3ZpZGVkIGRvY3VtZW50IHJlZmVyZW5jZSBpcyBmcm9tIGEgZGlmZmVyZW50IEZpcmVzdG9yZSBpbnN0YW5jZS5cIik7XG4gICAgcmV0dXJuIGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBUT0RPKG1yc2NobWlkdCkgQ29uc2lkZXIgdXNpbmcgYEJhc2VUcmFuc2FjdGlvbmAgYXMgdGhlIGJhc2UgY2xhc3MgaW4gdGhlXG4vLyBsZWdhY3kgU0RLLlxuLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBhIHRyYW5zYWN0aW9uLlxuICpcbiAqIFRoZSBgVHJhbnNhY3Rpb25gIG9iamVjdCBwYXNzZWQgdG8gYSB0cmFuc2FjdGlvbidzIGB1cGRhdGVGdW5jdGlvbmAgcHJvdmlkZXNcbiAqIHRoZSBtZXRob2RzIHRvIHJlYWQgYW5kIHdyaXRlIGRhdGEgd2l0aGluIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0LiBTZWVcbiAqIHtAbGluayBydW5UcmFuc2FjdGlvbn0uXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGEgdHJhbnNhY3Rpb24uXG4gKlxuICogVGhlIGBUcmFuc2FjdGlvbmAgb2JqZWN0IHBhc3NlZCB0byBhIHRyYW5zYWN0aW9uJ3MgYHVwZGF0ZUZ1bmN0aW9uYCBwcm92aWRlc1xuICogdGhlIG1ldGhvZHMgdG8gcmVhZCBhbmQgd3JpdGUgZGF0YSB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uIGNvbnRleHQuIFNlZVxuICoge0BsaW5rIHJ1blRyYW5zYWN0aW9ufS5cbiAqL1xuY2xhc3MgVHJhbnNhY3Rpb24gZXh0ZW5kcyBjbGFzcyBUcmFuc2FjdGlvbiQxIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5fZmlyZXN0b3JlID0gZSwgdGhpcy5fdHJhbnNhY3Rpb24gPSB0LCB0aGlzLl9kYXRhUmVhZGVyID0gX19QUklWQVRFX25ld1VzZXJEYXRhUmVhZGVyKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJlbmNlZCBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSByZWFkLlxuICAgICAqIEByZXR1cm5zIEEgYERvY3VtZW50U25hcHNob3RgIHdpdGggdGhlIHJlYWQgZGF0YS5cbiAgICAgKi8gICAgZ2V0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpLCBuID0gbmV3IF9fUFJJVkFURV9MaXRlVXNlckRhdGFXcml0ZXIodGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmxvb2t1cChbIHQuX2tleSBdKS50aGVuKChlID0+IHtcbiAgICAgICAgICAgIGlmICghZSB8fCAxICE9PSBlLmxlbmd0aCkgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBlWzBdO1xuICAgICAgICAgICAgaWYgKHIuaXNGb3VuZERvY3VtZW50KCkpIHJldHVybiBuZXcgRG9jdW1lbnRTbmFwc2hvdCQxKHRoaXMuX2ZpcmVzdG9yZSwgbiwgci5rZXksIHIsIHQuY29udmVydGVyKTtcbiAgICAgICAgICAgIGlmIChyLmlzTm9Eb2N1bWVudCgpKSByZXR1cm4gbmV3IERvY3VtZW50U25hcHNob3QkMSh0aGlzLl9maXJlc3RvcmUsIG4sIHQuX2tleSwgbnVsbCwgdC5jb252ZXJ0ZXIpO1xuICAgICAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHNldChlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdGhpcy5fZmlyZXN0b3JlKSwgaSA9IF9fUFJJVkFURV9hcHBseUZpcmVzdG9yZURhdGFDb252ZXJ0ZXIoci5jb252ZXJ0ZXIsIHQsIG4pLCBzID0gX19QUklWQVRFX3BhcnNlU2V0RGF0YSh0aGlzLl9kYXRhUmVhZGVyLCBcIlRyYW5zYWN0aW9uLnNldFwiLCByLl9rZXksIGksIG51bGwgIT09IHIuY29udmVydGVyLCBuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLnNldChyLl9rZXksIHMpLCB0aGlzO1xuICAgIH1cbiAgICB1cGRhdGUoZSwgdCwgbiwgLi4ucikge1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHRoaXMuX2ZpcmVzdG9yZSk7XG4gICAgICAgIC8vIEZvciBDb21wYXQgdHlwZXMsIHdlIGhhdmUgdG8gXCJleHRyYWN0XCIgdGhlIHVuZGVybHlpbmcgdHlwZXMgYmVmb3JlXG4gICAgICAgIC8vIHBlcmZvcm1pbmcgdmFsaWRhdGlvbi5cbiAgICAgICAgICAgICAgICBsZXQgcztcbiAgICAgICAgcmV0dXJuIHMgPSBcInN0cmluZ1wiID09IHR5cGVvZiAodCA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKHQpKSB8fCB0IGluc3RhbmNlb2YgRmllbGRQYXRoID8gX19QUklWQVRFX3BhcnNlVXBkYXRlVmFyYXJncyh0aGlzLl9kYXRhUmVhZGVyLCBcIlRyYW5zYWN0aW9uLnVwZGF0ZVwiLCBpLl9rZXksIHQsIG4sIHIpIDogX19QUklWQVRFX3BhcnNlVXBkYXRlRGF0YSh0aGlzLl9kYXRhUmVhZGVyLCBcIlRyYW5zYWN0aW9uLnVwZGF0ZVwiLCBpLl9rZXksIHQpLCBcbiAgICAgICAgdGhpcy5fdHJhbnNhY3Rpb24udXBkYXRlKGkuX2tleSwgcyksIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgdGhlIGRvY3VtZW50IHJlZmVycmVkIHRvIGJ5IHRoZSBwcm92aWRlZCB7QGxpbmsgRG9jdW1lbnRSZWZlcmVuY2V9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50UmVmIC0gQSByZWZlcmVuY2UgdG8gdGhlIGRvY3VtZW50IHRvIGJlIGRlbGV0ZWQuXG4gICAgICogQHJldHVybnMgVGhpcyBgVHJhbnNhY3Rpb25gIGluc3RhbmNlLiBVc2VkIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RyYW5zYWN0aW9uLmRlbGV0ZSh0Ll9rZXkpLCB0aGlzO1xuICAgIH1cbn0ge1xuICAgIC8vIFRoaXMgY2xhc3MgaW1wbGVtZW50cyB0aGUgc2FtZSBsb2dpYyBhcyB0aGUgVHJhbnNhY3Rpb24gQVBJIGluIHRoZSBMaXRlIFNES1xuICAgIC8vIGJ1dCBpcyBzdWJjbGFzc2VkIGluIG9yZGVyIHRvIHJldHVybiBpdHMgb3duIERvY3VtZW50U25hcHNob3QgdHlwZXMuXG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIHQpLCB0aGlzLl9maXJlc3RvcmUgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJlbmNlZCBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSByZWFkLlxuICAgICAqIEByZXR1cm5zIEEgYERvY3VtZW50U25hcHNob3RgIHdpdGggdGhlIHJlYWQgZGF0YS5cbiAgICAgKi8gICAgZ2V0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpLCBuID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih0aGlzLl9maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0KGUpLnRoZW4oKGUgPT4gbmV3IERvY3VtZW50U25hcHNob3QodGhpcy5fZmlyZXN0b3JlLCBuLCB0Ll9rZXksIGUuX2RvY3VtZW50LCBuZXcgU25hcHNob3RNZXRhZGF0YShcbiAgICAgICAgLyogaGFzUGVuZGluZ1dyaXRlcz0gKi8gITEsIFxuICAgICAgICAvKiBmcm9tQ2FjaGU9ICovICExKSwgdC5jb252ZXJ0ZXIpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBnaXZlbiBgdXBkYXRlRnVuY3Rpb25gIGFuZCB0aGVuIGF0dGVtcHRzIHRvIGNvbW1pdCB0aGUgY2hhbmdlc1xuICogYXBwbGllZCB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uLiBJZiBhbnkgZG9jdW1lbnQgcmVhZCB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uXG4gKiBoYXMgY2hhbmdlZCwgQ2xvdWQgRmlyZXN0b3JlIHJldHJpZXMgdGhlIGB1cGRhdGVGdW5jdGlvbmAuIElmIGl0IGZhaWxzIHRvXG4gKiBjb21taXQgYWZ0ZXIgNSBhdHRlbXB0cywgdGhlIHRyYW5zYWN0aW9uIGZhaWxzLlxuICpcbiAqIFRoZSBtYXhpbXVtIG51bWJlciBvZiB3cml0ZXMgYWxsb3dlZCBpbiBhIHNpbmdsZSB0cmFuc2FjdGlvbiBpcyA1MDAuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBGaXJlc3RvcmUgZGF0YWJhc2UgdG8gcnVuIHRoaXNcbiAqIHRyYW5zYWN0aW9uIGFnYWluc3QuXG4gKiBAcGFyYW0gdXBkYXRlRnVuY3Rpb24gLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZSB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uXG4gKiBjb250ZXh0LlxuICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0byBjb25maWd1cmUgbWF4aW11bSBudW1iZXIgb2YgYXR0ZW1wdHMgdG9cbiAqIGNvbW1pdC5cbiAqIEByZXR1cm5zIElmIHRoZSB0cmFuc2FjdGlvbiBjb21wbGV0ZWQgc3VjY2Vzc2Z1bGx5IG9yIHdhcyBleHBsaWNpdGx5IGFib3J0ZWRcbiAqICh0aGUgYHVwZGF0ZUZ1bmN0aW9uYCByZXR1cm5lZCBhIGZhaWxlZCBwcm9taXNlKSwgdGhlIHByb21pc2UgcmV0dXJuZWQgYnkgdGhlXG4gKiBgdXBkYXRlRnVuY3Rpb24gYGlzIHJldHVybmVkIGhlcmUuIE90aGVyd2lzZSwgaWYgdGhlIHRyYW5zYWN0aW9uIGZhaWxlZCwgYVxuICogcmVqZWN0ZWQgcHJvbWlzZSB3aXRoIHRoZSBjb3JyZXNwb25kaW5nIGZhaWx1cmUgZXJyb3IgaXMgcmV0dXJuZWQuXG4gKi8gZnVuY3Rpb24gcnVuVHJhbnNhY3Rpb24oZSwgdCwgbikge1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpO1xuICAgIGNvbnN0IHIgPSBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIERlKSwgbik7XG4gICAgIWZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZVRyYW5zYWN0aW9uT3B0aW9ucyhlKSB7XG4gICAgICAgIGlmIChlLm1heEF0dGVtcHRzIDwgMSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJNYXggYXR0ZW1wdHMgbXVzdCBiZSBhdCBsZWFzdCAxXCIpO1xuICAgIH0ocik7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRUcmFuc2FjdGlvbihlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgICAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBhd2FpdCBfX1BSSVZBVEVfZ2V0RGF0YXN0b3JlKGUpO1xuICAgICAgICAgICAgbmV3IF9fUFJJVkFURV9UcmFuc2FjdGlvblJ1bm5lcihlLmFzeW5jUXVldWUsIGksIG4sIHQsIHIpLlhhKCk7XG4gICAgICAgIH0pKSwgci5wcm9taXNlO1xuICAgIH0oZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlKSwgKG4gPT4gdChuZXcgVHJhbnNhY3Rpb24oZSwgbikpKSwgcik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJldHVybnMgYSBzZW50aW5lbCBmb3IgdXNlIHdpdGgge0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSModXBkYXRlRG9jOjEpfSBvclxuICoge0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSMoc2V0RG9jOjEpfSB3aXRoIGB7bWVyZ2U6IHRydWV9YCB0byBtYXJrIGEgZmllbGQgZm9yIGRlbGV0aW9uLlxuICovIGZ1bmN0aW9uIGRlbGV0ZUZpZWxkKCkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX0RlbGV0ZUZpZWxkVmFsdWVJbXBsKFwiZGVsZXRlRmllbGRcIik7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNlbnRpbmVsIHVzZWQgd2l0aCB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyhzZXREb2M6MSl9IG9yIHtAbGluayBAZmlyZWJhc2UvZmlyZXN0b3JlL2xpdGUjKHVwZGF0ZURvYzoxKX0gdG9cbiAqIGluY2x1ZGUgYSBzZXJ2ZXItZ2VuZXJhdGVkIHRpbWVzdGFtcCBpbiB0aGUgd3JpdHRlbiBkYXRhLlxuICovIGZ1bmN0aW9uIHNlcnZlclRpbWVzdGFtcCgpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBGaWVsZFZhbHVlSW1wbChcInNlcnZlclRpbWVzdGFtcFwiKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3BlY2lhbCB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHdpdGgge0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSMoc2V0RG9jOjEpfSBvciB7QGxpbmtcbiAqIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSModXBkYXRlRG9jOjEpfSB0aGF0IHRlbGxzIHRoZSBzZXJ2ZXIgdG8gdW5pb24gdGhlIGdpdmVuIGVsZW1lbnRzIHdpdGggYW55IGFycmF5XG4gKiB2YWx1ZSB0aGF0IGFscmVhZHkgZXhpc3RzIG9uIHRoZSBzZXJ2ZXIuIEVhY2ggc3BlY2lmaWVkIGVsZW1lbnQgdGhhdCBkb2Vzbid0XG4gKiBhbHJlYWR5IGV4aXN0IGluIHRoZSBhcnJheSB3aWxsIGJlIGFkZGVkIHRvIHRoZSBlbmQuIElmIHRoZSBmaWVsZCBiZWluZ1xuICogbW9kaWZpZWQgaXMgbm90IGFscmVhZHkgYW4gYXJyYXkgaXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIGFuIGFycmF5XG4gKiBjb250YWluaW5nIGV4YWN0bHkgdGhlIHNwZWNpZmllZCBlbGVtZW50cy5cbiAqXG4gKiBAcGFyYW0gZWxlbWVudHMgLSBUaGUgZWxlbWVudHMgdG8gdW5pb24gaW50byB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGUgYEZpZWxkVmFsdWVgIHNlbnRpbmVsIGZvciB1c2UgaW4gYSBjYWxsIHRvIGBzZXREb2MoKWAgb3JcbiAqIGB1cGRhdGVEb2MoKWAuXG4gKi8gZnVuY3Rpb24gYXJyYXlVbmlvbiguLi5lKSB7XG4gICAgLy8gTk9URTogV2UgZG9uJ3QgYWN0dWFsbHkgcGFyc2UgdGhlIGRhdGEgdW50aWwgaXQncyB1c2VkIGluIHNldCgpIG9yXG4gICAgLy8gdXBkYXRlKCkgc2luY2Ugd2UnZCBuZWVkIHRoZSBGaXJlc3RvcmUgaW5zdGFuY2UgdG8gZG8gdGhpcy5cbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9BcnJheVVuaW9uRmllbGRWYWx1ZUltcGwoXCJhcnJheVVuaW9uXCIsIGUpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzcGVjaWFsIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB7QGxpbmsgKHNldERvYzoxKX0gb3Ige0BsaW5rXG4gKiB1cGRhdGVEb2M6MX0gdGhhdCB0ZWxscyB0aGUgc2VydmVyIHRvIHJlbW92ZSB0aGUgZ2l2ZW4gZWxlbWVudHMgZnJvbSBhbnlcbiAqIGFycmF5IHZhbHVlIHRoYXQgYWxyZWFkeSBleGlzdHMgb24gdGhlIHNlcnZlci4gQWxsIGluc3RhbmNlcyBvZiBlYWNoIGVsZW1lbnRcbiAqIHNwZWNpZmllZCB3aWxsIGJlIHJlbW92ZWQgZnJvbSB0aGUgYXJyYXkuIElmIHRoZSBmaWVsZCBiZWluZyBtb2RpZmllZCBpcyBub3RcbiAqIGFscmVhZHkgYW4gYXJyYXkgaXQgd2lsbCBiZSBvdmVyd3JpdHRlbiB3aXRoIGFuIGVtcHR5IGFycmF5LlxuICpcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byByZW1vdmUgZnJvbSB0aGUgYXJyYXkuXG4gKiBAcmV0dXJucyBUaGUgYEZpZWxkVmFsdWVgIHNlbnRpbmVsIGZvciB1c2UgaW4gYSBjYWxsIHRvIGBzZXREb2MoKWAgb3JcbiAqIGB1cGRhdGVEb2MoKWBcbiAqLyBmdW5jdGlvbiBhcnJheVJlbW92ZSguLi5lKSB7XG4gICAgLy8gTk9URTogV2UgZG9uJ3QgYWN0dWFsbHkgcGFyc2UgdGhlIGRhdGEgdW50aWwgaXQncyB1c2VkIGluIHNldCgpIG9yXG4gICAgLy8gdXBkYXRlKCkgc2luY2Ugd2UnZCBuZWVkIHRoZSBGaXJlc3RvcmUgaW5zdGFuY2UgdG8gZG8gdGhpcy5cbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9BcnJheVJlbW92ZUZpZWxkVmFsdWVJbXBsKFwiYXJyYXlSZW1vdmVcIiwgZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNwZWNpYWwgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHtAbGluayBAZmlyZWJhc2UvZmlyZXN0b3JlL2xpdGUjKHNldERvYzoxKX0gb3Ige0BsaW5rXG4gKiBAZmlyZWJhc2UvZmlyZXN0b3JlL2xpdGUjKHVwZGF0ZURvYzoxKX0gdGhhdCB0ZWxscyB0aGUgc2VydmVyIHRvIGluY3JlbWVudCB0aGUgZmllbGQncyBjdXJyZW50IHZhbHVlIGJ5XG4gKiB0aGUgZ2l2ZW4gdmFsdWUuXG4gKlxuICogSWYgZWl0aGVyIHRoZSBvcGVyYW5kIG9yIHRoZSBjdXJyZW50IGZpZWxkIHZhbHVlIHVzZXMgZmxvYXRpbmcgcG9pbnRcbiAqIHByZWNpc2lvbiwgYWxsIGFyaXRobWV0aWMgZm9sbG93cyBJRUVFIDc1NCBzZW1hbnRpY3MuIElmIGJvdGggdmFsdWVzIGFyZVxuICogaW50ZWdlcnMsIHZhbHVlcyBvdXRzaWRlIG9mIEphdmFTY3JpcHQncyBzYWZlIG51bWJlciByYW5nZVxuICogKGBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUmAgdG8gYE51bWJlci5NQVhfU0FGRV9JTlRFR0VSYCkgYXJlIGFsc28gc3ViamVjdCB0b1xuICogcHJlY2lzaW9uIGxvc3MuIEZ1cnRoZXJtb3JlLCBvbmNlIHByb2Nlc3NlZCBieSB0aGUgRmlyZXN0b3JlIGJhY2tlbmQsIGFsbFxuICogaW50ZWdlciBvcGVyYXRpb25zIGFyZSBjYXBwZWQgYmV0d2VlbiAtMl42MyBhbmQgMl42My0xLlxuICpcbiAqIElmIHRoZSBjdXJyZW50IGZpZWxkIHZhbHVlIGlzIG5vdCBvZiB0eXBlIGBudW1iZXJgLCBvciBpZiB0aGUgZmllbGQgZG9lcyBub3RcbiAqIHlldCBleGlzdCwgdGhlIHRyYW5zZm9ybWF0aW9uIHNldHMgdGhlIGZpZWxkIHRvIHRoZSBnaXZlbiB2YWx1ZS5cbiAqXG4gKiBAcGFyYW0gbiAtIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgYnkuXG4gKiBAcmV0dXJucyBUaGUgYEZpZWxkVmFsdWVgIHNlbnRpbmVsIGZvciB1c2UgaW4gYSBjYWxsIHRvIGBzZXREb2MoKWAgb3JcbiAqIGB1cGRhdGVEb2MoKWBcbiAqLyBmdW5jdGlvbiBpbmNyZW1lbnQoZSkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRGaWVsZFZhbHVlSW1wbChcImluY3JlbWVudFwiLCBlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQ3JlYXRlcyBhIHdyaXRlIGJhdGNoLCB1c2VkIGZvciBwZXJmb3JtaW5nIG11bHRpcGxlIHdyaXRlcyBhcyBhIHNpbmdsZVxuICogYXRvbWljIG9wZXJhdGlvbi4gVGhlIG1heGltdW0gbnVtYmVyIG9mIHdyaXRlcyBhbGxvd2VkIGluIGEgc2luZ2xlIHtAbGluayBXcml0ZUJhdGNofVxuICogaXMgNTAwLlxuICpcbiAqIFVubGlrZSB0cmFuc2FjdGlvbnMsIHdyaXRlIGJhdGNoZXMgYXJlIHBlcnNpc3RlZCBvZmZsaW5lIGFuZCB0aGVyZWZvcmUgYXJlXG4gKiBwcmVmZXJhYmxlIHdoZW4geW91IGRvbid0IG5lZWQgdG8gY29uZGl0aW9uIHlvdXIgd3JpdGVzIG9uIHJlYWQgZGF0YS5cbiAqXG4gKiBAcmV0dXJucyBBIHtAbGluayBXcml0ZUJhdGNofSB0aGF0IGNhbiBiZSB1c2VkIHRvIGF0b21pY2FsbHkgZXhlY3V0ZSBtdWx0aXBsZVxuICogd3JpdGVzLlxuICovIGZ1bmN0aW9uIHdyaXRlQmF0Y2goZSkge1xuICAgIHJldHVybiBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKSwgbmV3IFdyaXRlQmF0Y2goZSwgKHQgPT4gZXhlY3V0ZVdyaXRlKGUsIHQpKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGZ1bmN0aW9uIHNldEluZGV4Q29uZmlndXJhdGlvbihlLCB0KSB7XG4gICAgdmFyIG47XG4gICAgY29uc3QgciA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpO1xuICAgIGlmICghci5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlciB8fCBcIm1lbW9yeVwiID09PSAobnVsbCA9PT0gKG4gPSByLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyKSB8fCB2b2lkIDAgPT09IG4gPyB2b2lkIDAgOiBuLl9vZmZsaW5lS2luZCkpIFxuICAgIC8vIFBPUlRJTkcgTk9URTogV2UgZG9uJ3QgcmV0dXJuIGFuIGVycm9yIGlmIHRoZSB1c2VyIGhhcyBub3QgZW5hYmxlZFxuICAgIC8vIHBlcnNpc3RlbmNlIHNpbmNlIGBlbmFibGVJbmRleGVkZGJQZXJzaXN0ZW5jZSgpYCBjYW4gZmFpbCBvbiB0aGUgV2ViLlxuICAgIHJldHVybiBfX1BSSVZBVEVfbG9nV2FybihcIkNhbm5vdCBlbmFibGUgaW5kZXhlcyB3aGVuIHBlcnNpc3RlbmNlIGlzIGRpc2FibGVkXCIpLCBcbiAgICBQcm9taXNlLnJlc29sdmUoKTtcbiAgICBjb25zdCBpID0gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlSW5kZXhlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBcInN0cmluZ1wiID09IHR5cGVvZiBlID8gZnVuY3Rpb24gX19QUklWQVRFX3RyeVBhcnNlSnNvbihlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiBKU09OLnBhcnNlKGUpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiRmFpbGVkIHRvIHBhcnNlIEpTT046IFwiICsgKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUubWVzc2FnZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KGUpIDogZSwgbiA9IFtdO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh0LmluZGV4ZXMpKSBmb3IgKGNvbnN0IGUgb2YgdC5pbmRleGVzKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3RyeUdldFN0cmluZyhlLCBcImNvbGxlY3Rpb25Hcm91cFwiKSwgciA9IFtdO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZS5maWVsZHMpKSBmb3IgKGNvbnN0IHQgb2YgZS5maWVsZHMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoXCJzZXRJbmRleENvbmZpZ3VyYXRpb25cIiwgX19QUklWQVRFX3RyeUdldFN0cmluZyh0LCBcImZpZWxkUGF0aFwiKSk7XG4gICAgICAgICAgICAgICAgXCJDT05UQUlOU1wiID09PSB0LmFycmF5Q29uZmlnID8gci5wdXNoKG5ldyBJbmRleFNlZ21lbnQoZSwgMiAvKiBJbmRleEtpbmQuQ09OVEFJTlMgKi8pKSA6IFwiQVNDRU5ESU5HXCIgPT09IHQub3JkZXIgPyByLnB1c2gobmV3IEluZGV4U2VnbWVudChlLCAwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8pKSA6IFwiREVTQ0VORElOR1wiID09PSB0Lm9yZGVyICYmIHIucHVzaChuZXcgSW5kZXhTZWdtZW50KGUsIDEgLyogSW5kZXhLaW5kLkRFU0NFTkRJTkcgKi8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG4ucHVzaChuZXcgRmllbGRJbmRleChGaWVsZEluZGV4LlVOS05PV05fSUQsIHQsIHIsIEluZGV4U3RhdGUuZW1wdHkoKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuO1xuICAgIH0odCk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRTZXRJbmRleENvbmZpZ3VyYXRpb24ociwgaSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90cnlHZXRTdHJpbmcoZSwgdCkge1xuICAgIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBlW3RdKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIk1pc3Npbmcgc3RyaW5nIHZhbHVlIGZvcjogXCIgKyB0KTtcbiAgICByZXR1cm4gZVt0XTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBgUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyYCBmb3IgY29uZmlndXJpbmcgcGVyc2lzdGVudCBjYWNoZSBpbmRleGVzIHVzZWRcbiAqIGZvciBsb2NhbCBxdWVyeSBleGVjdXRpb24uXG4gKlxuICogVG8gdXNlLCBjYWxsIGBnZXRQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXIoKWAgdG8gZ2V0IGFuIGluc3RhbmNlLlxuICovIGNsYXNzIFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlciB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuX2NsaWVudCA9IGUsIFxuICAgICAgICAvKiogQSB0eXBlIHN0cmluZyB0byB1bmlxdWVseSBpZGVudGlmeSBpbnN0YW5jZXMgb2YgdGhpcyBjbGFzcy4gKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXJcIjtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgUGVyc2lzdGVudENhY2hlIEluZGV4IE1hbmFnZXIgdXNlZCBieSB0aGUgZ2l2ZW4gYEZpcmVzdG9yZWBcbiAqIG9iamVjdC5cbiAqXG4gKiBAcmV0dXJuIFRoZSBgUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyYCBpbnN0YW5jZSwgb3IgYG51bGxgIGlmIGxvY2FsXG4gKiBwZXJzaXN0ZW50IHN0b3JhZ2UgaXMgbm90IGluIHVzZS5cbiAqLyBmdW5jdGlvbiBnZXRQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXIoZSkge1xuICAgIHZhciB0O1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpO1xuICAgIGNvbnN0IG4gPSBDZS5nZXQoZSk7XG4gICAgaWYgKG4pIHJldHVybiBuO1xuICAgIGNvbnN0IHIgPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUpO1xuICAgIGlmIChcInBlcnNpc3RlbnRcIiAhPT0gKG51bGwgPT09ICh0ID0gci5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlcikgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5fb2ZmbGluZUtpbmQpKSByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpID0gbmV3IFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlcihyKTtcbiAgICByZXR1cm4gQ2Uuc2V0KGUsIGkpLCBpO1xufVxuXG4vKipcbiAqIEVuYWJsZXMgdGhlIFNESyB0byBjcmVhdGUgcGVyc2lzdGVudCBjYWNoZSBpbmRleGVzIGF1dG9tYXRpY2FsbHkgZm9yIGxvY2FsXG4gKiBxdWVyeSBleGVjdXRpb24gd2hlbiB0aGUgU0RLIGJlbGlldmVzIGNhY2hlIGluZGV4ZXMgY2FuIGhlbHAgaW1wcm92ZVxuICogcGVyZm9ybWFuY2UuXG4gKlxuICogVGhpcyBmZWF0dXJlIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQuXG4gKi8gZnVuY3Rpb24gZW5hYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb24oZSkge1xuICAgIF9fUFJJVkFURV9zZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZSwgITApO1xufVxuXG4vKipcbiAqIFN0b3BzIGNyZWF0aW5nIHBlcnNpc3RlbnQgY2FjaGUgaW5kZXhlcyBhdXRvbWF0aWNhbGx5IGZvciBsb2NhbCBxdWVyeVxuICogZXhlY3V0aW9uLiBUaGUgaW5kZXhlcyB3aGljaCBoYXZlIGJlZW4gY3JlYXRlZCBieSBjYWxsaW5nXG4gKiBgZW5hYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb24oKWAgc3RpbGwgdGFrZSBlZmZlY3QuXG4gKi8gZnVuY3Rpb24gZGlzYWJsZVBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uKGUpIHtcbiAgICBfX1BSSVZBVEVfc2V0UGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb25FbmFibGVkKGUsICExKTtcbn1cblxuLyoqXG4gKiBSZW1vdmVzIGFsbCBwZXJzaXN0ZW50IGNhY2hlIGluZGV4ZXMuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhpcyBmdW5jdGlvbiB3aWxsIGFsc28gZGVsZXRlcyBpbmRleGVzIGdlbmVyYXRlZCBieVxuICogYHNldEluZGV4Q29uZmlndXJhdGlvbigpYCwgd2hpY2ggaXMgZGVwcmVjYXRlZC5cbiAqLyBmdW5jdGlvbiBkZWxldGVBbGxQZXJzaXN0ZW50Q2FjaGVJbmRleGVzKGUpIHtcbiAgICBlLl9jbGllbnQudmVyaWZ5Tm90VGVybWluYXRlZCgpO1xuICAgIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnREZWxldGVBbGxGaWVsZEluZGV4ZXMoZS5fY2xpZW50KS50aGVuKChlID0+IF9fUFJJVkFURV9sb2dEZWJ1ZyhcImRlbGV0aW5nIGFsbCBwZXJzaXN0ZW50IGNhY2hlIGluZGV4ZXMgc3VjY2VlZGVkXCIpKSkuY2F0Y2goKGUgPT4gX19QUklWQVRFX2xvZ1dhcm4oXCJkZWxldGluZyBhbGwgcGVyc2lzdGVudCBjYWNoZSBpbmRleGVzIGZhaWxlZFwiLCBlKSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfc2V0UGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb25FbmFibGVkKGUsIHQpIHtcbiAgICBlLl9jbGllbnQudmVyaWZ5Tm90VGVybWluYXRlZCgpO1xuICAgIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRTZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZS5fY2xpZW50LCB0KS50aGVuKChlID0+IF9fUFJJVkFURV9sb2dEZWJ1Zyhgc2V0dGluZyBwZXJzaXN0ZW50IGNhY2hlIGluZGV4IGF1dG8gY3JlYXRpb24gaXNFbmFibGVkPSR7dH0gc3VjY2VlZGVkYCkpKS5jYXRjaCgoZSA9PiBfX1BSSVZBVEVfbG9nV2Fybihgc2V0dGluZyBwZXJzaXN0ZW50IGNhY2hlIGluZGV4IGF1dG8gY3JlYXRpb24gaXNFbmFibGVkPSR7dH0gZmFpbGVkYCwgZSkpKTtcbn1cblxuLyoqXG4gKiBNYXBzIGBGaXJlc3RvcmVgIGluc3RhbmNlcyB0byB0aGVpciBjb3JyZXNwb25kaW5nXG4gKiBgUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyYCBpbnN0YW5jZXMuXG4gKlxuICogVXNlIGEgYFdlYWtNYXBgIHNvIHRoYXQgdGhlIG1hcHBpbmcgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGRyb3BwZWQgd2hlbiB0aGVcbiAqIGBGaXJlc3RvcmVgIGluc3RhbmNlIGlzIGdhcmJhZ2UgY29sbGVjdGVkLiBUaGlzIGVtdWxhdGVzIGEgcHJpdmF0ZSBtZW1iZXJcbiAqIGFzIGRlc2NyaWJlZCBpbiBodHRwczovL2dvby5nbGUvNDU0eXZ1Zy5cbiAqLyBjb25zdCBDZSA9IG5ldyBXZWFrTWFwO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBwcml2YXRlXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBmb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG4gKlxuICogUmV0dXJucyB0aGUgYFF1ZXJ5VGFyZ2V0YCByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gcXVlcnkuIFJldHVybnMgYG51bGxgXG4gKiBpZiB0aGUgRmlyZXN0b3JlIGNsaWVudCBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIHF1ZXJ5IGhhcyBub3QgYmVlblxuICogaW5pdGlhbGl6ZWQgb3IgaGFzIGJlZW4gdGVybWluYXRlZC5cbiAqXG4gKiBAcGFyYW0gcXVlcnkgLSBUaGUgUXVlcnkgdG8gY29udmVydCB0byBwcm90byByZXByZXNlbnRhdGlvbi5cbiAqL1xuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbmZ1bmN0aW9uIF9pbnRlcm5hbFF1ZXJ5VG9Qcm90b1F1ZXJ5VGFyZ2V0KGUpIHtcbiAgICB2YXIgdDtcbiAgICBjb25zdCBuID0gbnVsbCA9PT0gKHQgPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpKS5fb25saW5lQ29tcG9uZW50cykgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5kYXRhc3RvcmUuc2VyaWFsaXplcjtcbiAgICByZXR1cm4gdm9pZCAwID09PSBuID8gbnVsbCA6IF9fUFJJVkFURV90b1F1ZXJ5VGFyZ2V0KG4sIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KGUuX3F1ZXJ5KSkuX3Q7XG59XG5cbi8qKlxuICogQGludGVybmFsXG4gKiBAcHJpdmF0ZVxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaXMgZm9yIGludGVybmFsIHVzZSBvbmx5LlxuICpcbiAqIFJldHVybnMgYFJ1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0YCB3aGljaCBjb250YWlucyB0aGUgcHJvdG8gcmVwcmVzZW50YXRpb25cbiAqIG9mIHRoZSBnaXZlbiBhZ2dyZWdhdGlvbiBxdWVyeSByZXF1ZXN0LiBSZXR1cm5zIG51bGwgaWYgdGhlIEZpcmVzdG9yZSBjbGllbnRcbiAqIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcXVlcnkgaGFzIG5vdCBiZWVuIGluaXRpYWxpemVkIG9yIGhhcyBiZWVuXG4gKiB0ZXJtaW5hdGVkLlxuICpcbiAqIEBwYXJhbSBxdWVyeSAtIFRoZSBRdWVyeSB0byBjb252ZXJ0IHRvIHByb3RvIHJlcHJlc2VudGF0aW9uLlxuICogQHBhcmFtIGFnZ3JlZ2F0ZVNwZWMgLSBUaGUgc2V0IG9mIGFnZ3JlZ2F0aW9ucyBhbmQgdGhlaXIgYWxpYXNlcy5cbiAqLyBmdW5jdGlvbiBfaW50ZXJuYWxBZ2dyZWdhdGlvblF1ZXJ5VG9Qcm90b1J1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0KGUsIHQpIHtcbiAgICB2YXIgbjtcbiAgICBjb25zdCByID0gX19QUklWQVRFX21hcFRvQXJyYXkodCwgKChlLCB0KSA9PiBuZXcgX19QUklWQVRFX0FnZ3JlZ2F0ZUltcGwodCwgZS5hZ2dyZWdhdGVUeXBlLCBlLl9pbnRlcm5hbEZpZWxkUGF0aCkpKSwgaSA9IG51bGwgPT09IChuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSkuX29ubGluZUNvbXBvbmVudHMpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4uZGF0YXN0b3JlLnNlcmlhbGl6ZXI7XG4gICAgcmV0dXJuIHZvaWQgMCA9PT0gaSA/IG51bGwgOiBfX1BSSVZBVEVfdG9SdW5BZ2dyZWdhdGlvblF1ZXJ5UmVxdWVzdChpLCBfX1BSSVZBVEVfcXVlcnlUb0FnZ3JlZ2F0ZVRhcmdldChlLl9xdWVyeSksIHIsIFxuICAgIC8qIHNraXBBbGlhc2luZz0gKi8gITApLnJlcXVlc3Q7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRlc3RpbmcgaG9va3MgZm9yIHVzZSBieSBGaXJlc3RvcmUncyBpbnRlZ3JhdGlvbiB0ZXN0IHN1aXRlIHRvIHJlYWNoIGludG8gdGhlXG4gKiBTREsgaW50ZXJuYWxzIHRvIHZhbGlkYXRlIGxvZ2ljIGFuZCBiZWhhdmlvciB0aGF0IGlzIG5vdCB2aXNpYmxlIGZyb20gdGhlXG4gKiBwdWJsaWMgQVBJIHN1cmZhY2UuXG4gKlxuICogQGludGVybmFsXG4gKi8gY2xhc3MgVGVzdGluZ0hvb2tzIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW5zdGFuY2VzIG9mIHRoaXMgY2xhc3Mgc2hvdWxkIG5vdCBiZSBjcmVhdGVkXCIpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBjYWxsYmFjayB0byBiZSBub3RpZmllZCB3aGVuIGFuIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2hcbiAgICAgKiBvY2N1cnMgaW4gdGhlIFdhdGNoIGxpc3RlbiBzdHJlYW0uXG4gICAgICpcbiAgICAgKiBUaGUgcmVsYXRpdmUgb3JkZXIgaW4gd2hpY2ggY2FsbGJhY2tzIGFyZSBub3RpZmllZCBpcyB1bnNwZWNpZmllZDsgZG8gbm90XG4gICAgICogcmVseSBvbiBhbnkgcGFydGljdWxhciBvcmRlcmluZy4gSWYgYSBnaXZlbiBjYWxsYmFjayBpcyByZWdpc3RlcmVkIG11bHRpcGxlXG4gICAgICogdGltZXMgdGhlbiBpdCB3aWxsIGJlIG5vdGlmaWVkIG11bHRpcGxlIHRpbWVzLCBvbmNlIHBlciByZWdpc3RyYXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FsbGJhY2sgdGhlIGNhbGxiYWNrIHRvIGludm9rZSB1cG9uIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2guXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsIHVucmVnaXN0ZXJzIHRoZSBnaXZlbiBjYWxsYmFjazsgb25seVxuICAgICAqIHRoZSBmaXJzdCBpbnZvY2F0aW9uIG9mIHRoZSByZXR1cm5lZCBmdW5jdGlvbiBkb2VzIGFueXRoaW5nOyBhbGwgc3Vic2VxdWVudFxuICAgICAqIGludm9jYXRpb25zIGRvIG5vdGhpbmcuXG4gICAgICovICAgIHN0YXRpYyBvbkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9UZXN0aW5nSG9va3NTcGlJbXBsLmluc3RhbmNlLm9uRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2goZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFRoZSBpbXBsZW1lbnRhdGlvbiBvZiBgVGVzdGluZ0hvb2tzU3BpYC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfVGVzdGluZ0hvb2tzU3BpSW1wbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuT3UgPSBuZXcgTWFwO1xuICAgIH1cbiAgICBzdGF0aWMgZ2V0IGluc3RhbmNlKCkge1xuICAgICAgICByZXR1cm4gdmUgfHwgKHZlID0gbmV3IF9fUFJJVkFURV9UZXN0aW5nSG9va3NTcGlJbXBsLCBmdW5jdGlvbiBfX1BSSVZBVEVfc2V0VGVzdGluZ0hvb2tzU3BpKGUpIHtcbiAgICAgICAgICAgIGlmIChoZSkgdGhyb3cgbmV3IEVycm9yKFwiYSBUZXN0aW5nSG9va3NTcGkgaW5zdGFuY2UgaXMgYWxyZWFkeSBzZXRcIik7XG4gICAgICAgICAgICBoZSA9IGU7XG4gICAgICAgIH0odmUpKSwgdmU7XG4gICAgfVxuICAgIGV0KGUpIHtcbiAgICAgICAgdGhpcy5PdS5mb3JFYWNoKCh0ID0+IHQoZSkpKTtcbiAgICB9XG4gICAgb25FeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBTeW1ib2woKSwgbiA9IHRoaXMuT3U7XG4gICAgICAgIHJldHVybiBuLnNldCh0LCBlKSwgKCkgPT4gbi5kZWxldGUodCk7XG4gICAgfVxufVxuXG5sZXQgdmUgPSBudWxsO1xuXG4vKipcbiAqIENsb3VkIEZpcmVzdG9yZVxuICpcbiAqIEBwYWNrYWdlRG9jdW1lbnRhdGlvblxuICovICFmdW5jdGlvbiBfX1BSSVZBVEVfcmVnaXN0ZXJGaXJlc3RvcmUoZSwgdCA9ICEwKSB7XG4gICAgIWZ1bmN0aW9uIF9fUFJJVkFURV9zZXRTREtWZXJzaW9uKGUpIHtcbiAgICAgICAgYiA9IGU7XG4gICAgfShhcHAuU0RLX1ZFUlNJT04pLCBhcHAuX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBjb21wb25lbnQuQ29tcG9uZW50KFwiZmlyZXN0b3JlXCIsICgoZSwge2luc3RhbmNlSWRlbnRpZmllcjogbiwgb3B0aW9uczogcn0pID0+IHtcbiAgICAgICAgY29uc3QgaSA9IGUuZ2V0UHJvdmlkZXIoXCJhcHBcIikuZ2V0SW1tZWRpYXRlKCksIHMgPSBuZXcgRmlyZXN0b3JlKG5ldyBfX1BSSVZBVEVfRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlcihlLmdldFByb3ZpZGVyKFwiYXV0aC1pbnRlcm5hbFwiKSksIG5ldyBfX1BSSVZBVEVfRmlyZWJhc2VBcHBDaGVja1Rva2VuUHJvdmlkZXIoZS5nZXRQcm92aWRlcihcImFwcC1jaGVjay1pbnRlcm5hbFwiKSksIGZ1bmN0aW9uIF9fUFJJVkFURV9kYXRhYmFzZUlkRnJvbUFwcChlLCB0KSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuYXBwbHkoZS5vcHRpb25zLCBbIFwicHJvamVjdElkXCIgXSkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsICdcInByb2plY3RJZFwiIG5vdCBwcm92aWRlZCBpbiBmaXJlYmFzZS5pbml0aWFsaXplQXBwLicpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRhYmFzZUlkKGUub3B0aW9ucy5wcm9qZWN0SWQsIHQpO1xuICAgICAgICB9KGksIG4pLCBpKTtcbiAgICAgICAgcmV0dXJuIHIgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIHVzZUZldGNoU3RyZWFtczogdFxuICAgICAgICB9LCByKSwgcy5fc2V0U2V0dGluZ3MociksIHM7XG4gICAgfSksIFwiUFVCTElDXCIpLnNldE11bHRpcGxlSW5zdGFuY2VzKCEwKSksIGFwcC5yZWdpc3RlclZlcnNpb24oUywgXCI0LjYuNFwiLCBlKSwgXG4gICAgLy8gQlVJTERfVEFSR0VUIHdpbGwgYmUgcmVwbGFjZWQgYnkgdmFsdWVzIGxpa2UgZXNtNSwgZXNtMjAxNywgY2pzNSwgZXRjIGR1cmluZyB0aGUgY29tcGlsYXRpb25cbiAgICBhcHAucmVnaXN0ZXJWZXJzaW9uKFMsIFwiNC42LjRcIiwgXCJjanMyMDE3XCIpO1xufSgpO1xuXG5leHBvcnRzLkFic3RyYWN0VXNlckRhdGFXcml0ZXIgPSBBYnN0cmFjdFVzZXJEYXRhV3JpdGVyO1xuZXhwb3J0cy5BZ2dyZWdhdGVGaWVsZCA9IEFnZ3JlZ2F0ZUZpZWxkO1xuZXhwb3J0cy5BZ2dyZWdhdGVRdWVyeVNuYXBzaG90ID0gQWdncmVnYXRlUXVlcnlTbmFwc2hvdDtcbmV4cG9ydHMuQnl0ZXMgPSBCeXRlcztcbmV4cG9ydHMuQ0FDSEVfU0laRV9VTkxJTUlURUQgPSB3ZTtcbmV4cG9ydHMuQ29sbGVjdGlvblJlZmVyZW5jZSA9IENvbGxlY3Rpb25SZWZlcmVuY2U7XG5leHBvcnRzLkRvY3VtZW50UmVmZXJlbmNlID0gRG9jdW1lbnRSZWZlcmVuY2U7XG5leHBvcnRzLkRvY3VtZW50U25hcHNob3QgPSBEb2N1bWVudFNuYXBzaG90O1xuZXhwb3J0cy5GaWVsZFBhdGggPSBGaWVsZFBhdGg7XG5leHBvcnRzLkZpZWxkVmFsdWUgPSBGaWVsZFZhbHVlO1xuZXhwb3J0cy5GaXJlc3RvcmUgPSBGaXJlc3RvcmU7XG5leHBvcnRzLkZpcmVzdG9yZUVycm9yID0gRmlyZXN0b3JlRXJyb3I7XG5leHBvcnRzLkdlb1BvaW50ID0gR2VvUG9pbnQ7XG5leHBvcnRzLkxvYWRCdW5kbGVUYXNrID0gTG9hZEJ1bmRsZVRhc2s7XG5leHBvcnRzLlBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlciA9IFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlcjtcbmV4cG9ydHMuUXVlcnkgPSBRdWVyeTtcbmV4cG9ydHMuUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50ID0gUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50O1xuZXhwb3J0cy5RdWVyeUNvbnN0cmFpbnQgPSBRdWVyeUNvbnN0cmFpbnQ7XG5leHBvcnRzLlF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCA9IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdDtcbmV4cG9ydHMuUXVlcnlFbmRBdENvbnN0cmFpbnQgPSBRdWVyeUVuZEF0Q29uc3RyYWludDtcbmV4cG9ydHMuUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQgPSBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludDtcbmV4cG9ydHMuUXVlcnlMaW1pdENvbnN0cmFpbnQgPSBRdWVyeUxpbWl0Q29uc3RyYWludDtcbmV4cG9ydHMuUXVlcnlPcmRlckJ5Q29uc3RyYWludCA9IFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnQ7XG5leHBvcnRzLlF1ZXJ5U25hcHNob3QgPSBRdWVyeVNuYXBzaG90O1xuZXhwb3J0cy5RdWVyeVN0YXJ0QXRDb25zdHJhaW50ID0gUXVlcnlTdGFydEF0Q29uc3RyYWludDtcbmV4cG9ydHMuU25hcHNob3RNZXRhZGF0YSA9IFNuYXBzaG90TWV0YWRhdGE7XG5leHBvcnRzLlRpbWVzdGFtcCA9IFRpbWVzdGFtcDtcbmV4cG9ydHMuVHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbjtcbmV4cG9ydHMuV3JpdGVCYXRjaCA9IFdyaXRlQmF0Y2g7XG5leHBvcnRzLl9BdXRvSWQgPSBfX1BSSVZBVEVfQXV0b0lkO1xuZXhwb3J0cy5fQnl0ZVN0cmluZyA9IEJ5dGVTdHJpbmc7XG5leHBvcnRzLl9EYXRhYmFzZUlkID0gRGF0YWJhc2VJZDtcbmV4cG9ydHMuX0RvY3VtZW50S2V5ID0gRG9jdW1lbnRLZXk7XG5leHBvcnRzLl9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlciA9IF9fUFJJVkFURV9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlcjtcbmV4cG9ydHMuX0VtcHR5QXV0aENyZWRlbnRpYWxzUHJvdmlkZXIgPSBfX1BSSVZBVEVfRW1wdHlBdXRoQ3JlZGVudGlhbHNQcm92aWRlcjtcbmV4cG9ydHMuX0ZpZWxkUGF0aCA9IEZpZWxkUGF0aCQxO1xuZXhwb3J0cy5fVGVzdGluZ0hvb2tzID0gVGVzdGluZ0hvb2tzO1xuZXhwb3J0cy5fY2FzdCA9IF9fUFJJVkFURV9jYXN0O1xuZXhwb3J0cy5fZGVidWdBc3NlcnQgPSBfX1BSSVZBVEVfZGVidWdBc3NlcnQ7XG5leHBvcnRzLl9pbnRlcm5hbEFnZ3JlZ2F0aW9uUXVlcnlUb1Byb3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QgPSBfaW50ZXJuYWxBZ2dyZWdhdGlvblF1ZXJ5VG9Qcm90b1J1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0O1xuZXhwb3J0cy5faW50ZXJuYWxRdWVyeVRvUHJvdG9RdWVyeVRhcmdldCA9IF9pbnRlcm5hbFF1ZXJ5VG9Qcm90b1F1ZXJ5VGFyZ2V0O1xuZXhwb3J0cy5faXNCYXNlNjRBdmFpbGFibGUgPSBfX1BSSVZBVEVfaXNCYXNlNjRBdmFpbGFibGU7XG5leHBvcnRzLl9sb2dXYXJuID0gX19QUklWQVRFX2xvZ1dhcm47XG5leHBvcnRzLl92YWxpZGF0ZUlzTm90VXNlZFRvZ2V0aGVyID0gX19QUklWQVRFX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXI7XG5leHBvcnRzLmFkZERvYyA9IGFkZERvYztcbmV4cG9ydHMuYWdncmVnYXRlRmllbGRFcXVhbCA9IGFnZ3JlZ2F0ZUZpZWxkRXF1YWw7XG5leHBvcnRzLmFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RFcXVhbCA9IGFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RFcXVhbDtcbmV4cG9ydHMuYW5kID0gYW5kO1xuZXhwb3J0cy5hcnJheVJlbW92ZSA9IGFycmF5UmVtb3ZlO1xuZXhwb3J0cy5hcnJheVVuaW9uID0gYXJyYXlVbmlvbjtcbmV4cG9ydHMuYXZlcmFnZSA9IGF2ZXJhZ2U7XG5leHBvcnRzLmNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2UgPSBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlO1xuZXhwb3J0cy5jb2xsZWN0aW9uID0gY29sbGVjdGlvbjtcbmV4cG9ydHMuY29sbGVjdGlvbkdyb3VwID0gY29sbGVjdGlvbkdyb3VwO1xuZXhwb3J0cy5jb25uZWN0RmlyZXN0b3JlRW11bGF0b3IgPSBjb25uZWN0RmlyZXN0b3JlRW11bGF0b3I7XG5leHBvcnRzLmNvdW50ID0gY291bnQ7XG5leHBvcnRzLmRlbGV0ZUFsbFBlcnNpc3RlbnRDYWNoZUluZGV4ZXMgPSBkZWxldGVBbGxQZXJzaXN0ZW50Q2FjaGVJbmRleGVzO1xuZXhwb3J0cy5kZWxldGVEb2MgPSBkZWxldGVEb2M7XG5leHBvcnRzLmRlbGV0ZUZpZWxkID0gZGVsZXRlRmllbGQ7XG5leHBvcnRzLmRpc2FibGVOZXR3b3JrID0gZGlzYWJsZU5ldHdvcms7XG5leHBvcnRzLmRpc2FibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbiA9IGRpc2FibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbjtcbmV4cG9ydHMuZG9jID0gZG9jO1xuZXhwb3J0cy5kb2N1bWVudElkID0gZG9jdW1lbnRJZDtcbmV4cG9ydHMuZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UgPSBlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZTtcbmV4cG9ydHMuZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZSA9IGVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2U7XG5leHBvcnRzLmVuYWJsZU5ldHdvcmsgPSBlbmFibGVOZXR3b3JrO1xuZXhwb3J0cy5lbmFibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbiA9IGVuYWJsZVBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uO1xuZXhwb3J0cy5lbmRBdCA9IGVuZEF0O1xuZXhwb3J0cy5lbmRCZWZvcmUgPSBlbmRCZWZvcmU7XG5leHBvcnRzLmVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQgPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkO1xuZXhwb3J0cy5leGVjdXRlV3JpdGUgPSBleGVjdXRlV3JpdGU7XG5leHBvcnRzLmdldEFnZ3JlZ2F0ZUZyb21TZXJ2ZXIgPSBnZXRBZ2dyZWdhdGVGcm9tU2VydmVyO1xuZXhwb3J0cy5nZXRDb3VudEZyb21TZXJ2ZXIgPSBnZXRDb3VudEZyb21TZXJ2ZXI7XG5leHBvcnRzLmdldERvYyA9IGdldERvYztcbmV4cG9ydHMuZ2V0RG9jRnJvbUNhY2hlID0gZ2V0RG9jRnJvbUNhY2hlO1xuZXhwb3J0cy5nZXREb2NGcm9tU2VydmVyID0gZ2V0RG9jRnJvbVNlcnZlcjtcbmV4cG9ydHMuZ2V0RG9jcyA9IGdldERvY3M7XG5leHBvcnRzLmdldERvY3NGcm9tQ2FjaGUgPSBnZXREb2NzRnJvbUNhY2hlO1xuZXhwb3J0cy5nZXREb2NzRnJvbVNlcnZlciA9IGdldERvY3NGcm9tU2VydmVyO1xuZXhwb3J0cy5nZXRGaXJlc3RvcmUgPSBnZXRGaXJlc3RvcmU7XG5leHBvcnRzLmdldFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlciA9IGdldFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlcjtcbmV4cG9ydHMuaW5jcmVtZW50ID0gaW5jcmVtZW50O1xuZXhwb3J0cy5pbml0aWFsaXplRmlyZXN0b3JlID0gaW5pdGlhbGl6ZUZpcmVzdG9yZTtcbmV4cG9ydHMubGltaXQgPSBsaW1pdDtcbmV4cG9ydHMubGltaXRUb0xhc3QgPSBsaW1pdFRvTGFzdDtcbmV4cG9ydHMubG9hZEJ1bmRsZSA9IGxvYWRCdW5kbGU7XG5leHBvcnRzLm1lbW9yeUVhZ2VyR2FyYmFnZUNvbGxlY3RvciA9IG1lbW9yeUVhZ2VyR2FyYmFnZUNvbGxlY3RvcjtcbmV4cG9ydHMubWVtb3J5TG9jYWxDYWNoZSA9IG1lbW9yeUxvY2FsQ2FjaGU7XG5leHBvcnRzLm1lbW9yeUxydUdhcmJhZ2VDb2xsZWN0b3IgPSBtZW1vcnlMcnVHYXJiYWdlQ29sbGVjdG9yO1xuZXhwb3J0cy5uYW1lZFF1ZXJ5ID0gbmFtZWRRdWVyeTtcbmV4cG9ydHMub25TbmFwc2hvdCA9IG9uU25hcHNob3Q7XG5leHBvcnRzLm9uU25hcHNob3RzSW5TeW5jID0gb25TbmFwc2hvdHNJblN5bmM7XG5leHBvcnRzLm9yID0gb3I7XG5leHBvcnRzLm9yZGVyQnkgPSBvcmRlckJ5O1xuZXhwb3J0cy5wZXJzaXN0ZW50TG9jYWxDYWNoZSA9IHBlcnNpc3RlbnRMb2NhbENhY2hlO1xuZXhwb3J0cy5wZXJzaXN0ZW50TXVsdGlwbGVUYWJNYW5hZ2VyID0gcGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlcjtcbmV4cG9ydHMucGVyc2lzdGVudFNpbmdsZVRhYk1hbmFnZXIgPSBwZXJzaXN0ZW50U2luZ2xlVGFiTWFuYWdlcjtcbmV4cG9ydHMucXVlcnkgPSBxdWVyeTtcbmV4cG9ydHMucXVlcnlFcXVhbCA9IHF1ZXJ5RXF1YWw7XG5leHBvcnRzLnJlZkVxdWFsID0gcmVmRXF1YWw7XG5leHBvcnRzLnJ1blRyYW5zYWN0aW9uID0gcnVuVHJhbnNhY3Rpb247XG5leHBvcnRzLnNlcnZlclRpbWVzdGFtcCA9IHNlcnZlclRpbWVzdGFtcDtcbmV4cG9ydHMuc2V0RG9jID0gc2V0RG9jO1xuZXhwb3J0cy5zZXRJbmRleENvbmZpZ3VyYXRpb24gPSBzZXRJbmRleENvbmZpZ3VyYXRpb247XG5leHBvcnRzLnNldExvZ0xldmVsID0gc2V0TG9nTGV2ZWw7XG5leHBvcnRzLnNuYXBzaG90RXF1YWwgPSBzbmFwc2hvdEVxdWFsO1xuZXhwb3J0cy5zdGFydEFmdGVyID0gc3RhcnRBZnRlcjtcbmV4cG9ydHMuc3RhcnRBdCA9IHN0YXJ0QXQ7XG5leHBvcnRzLnN1bSA9IHN1bTtcbmV4cG9ydHMudGVybWluYXRlID0gdGVybWluYXRlO1xuZXhwb3J0cy51cGRhdGVEb2MgPSB1cGRhdGVEb2M7XG5leHBvcnRzLndhaXRGb3JQZW5kaW5nV3JpdGVzID0gd2FpdEZvclBlbmRpbmdXcml0ZXM7XG5leHBvcnRzLndoZXJlID0gd2hlcmU7XG5leHBvcnRzLndyaXRlQmF0Y2ggPSB3cml0ZUJhdGNoO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgdHNsaWIgPSByZXF1aXJlKCd0c2xpYicpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgX2E7XHJcbi8qKlxyXG4gKiBBIGNvbnRhaW5lciBmb3IgYWxsIG9mIHRoZSBMb2dnZXIgaW5zdGFuY2VzXHJcbiAqL1xyXG52YXIgaW5zdGFuY2VzID0gW107XHJcbi8qKlxyXG4gKiBUaGUgSlMgU0RLIHN1cHBvcnRzIDUgbG9nIGxldmVscyBhbmQgYWxzbyBhbGxvd3MgYSB1c2VyIHRoZSBhYmlsaXR5IHRvXHJcbiAqIHNpbGVuY2UgdGhlIGxvZ3MgYWx0b2dldGhlci5cclxuICpcclxuICogVGhlIG9yZGVyIGlzIGEgZm9sbG93czpcclxuICogREVCVUcgPCBWRVJCT1NFIDwgSU5GTyA8IFdBUk4gPCBFUlJPUlxyXG4gKlxyXG4gKiBBbGwgb2YgdGhlIGxvZyB0eXBlcyBhYm92ZSB0aGUgY3VycmVudCBsb2cgbGV2ZWwgd2lsbCBiZSBjYXB0dXJlZCAoaS5lLiBpZlxyXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYElORk9gLCBlcnJvcnMgd2lsbCBzdGlsbCBiZSBsb2dnZWQsIGJ1dCBgREVCVUdgIGFuZFxyXG4gKiBgVkVSQk9TRWAgbG9ncyB3aWxsIG5vdClcclxuICovXHJcbmV4cG9ydHMuTG9nTGV2ZWwgPSB2b2lkIDA7XHJcbihmdW5jdGlvbiAoTG9nTGV2ZWwpIHtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiREVCVUdcIl0gPSAwXSA9IFwiREVCVUdcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiVkVSQk9TRVwiXSA9IDFdID0gXCJWRVJCT1NFXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIklORk9cIl0gPSAyXSA9IFwiSU5GT1wiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJXQVJOXCJdID0gM10gPSBcIldBUk5cIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiRVJST1JcIl0gPSA0XSA9IFwiRVJST1JcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiU0lMRU5UXCJdID0gNV0gPSBcIlNJTEVOVFwiO1xyXG59KShleHBvcnRzLkxvZ0xldmVsIHx8IChleHBvcnRzLkxvZ0xldmVsID0ge30pKTtcclxudmFyIGxldmVsU3RyaW5nVG9FbnVtID0ge1xyXG4gICAgJ2RlYnVnJzogZXhwb3J0cy5Mb2dMZXZlbC5ERUJVRyxcclxuICAgICd2ZXJib3NlJzogZXhwb3J0cy5Mb2dMZXZlbC5WRVJCT1NFLFxyXG4gICAgJ2luZm8nOiBleHBvcnRzLkxvZ0xldmVsLklORk8sXHJcbiAgICAnd2Fybic6IGV4cG9ydHMuTG9nTGV2ZWwuV0FSTixcclxuICAgICdlcnJvcic6IGV4cG9ydHMuTG9nTGV2ZWwuRVJST1IsXHJcbiAgICAnc2lsZW50JzogZXhwb3J0cy5Mb2dMZXZlbC5TSUxFTlRcclxufTtcclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGxvZyBsZXZlbFxyXG4gKi9cclxudmFyIGRlZmF1bHRMb2dMZXZlbCA9IGV4cG9ydHMuTG9nTGV2ZWwuSU5GTztcclxuLyoqXHJcbiAqIEJ5IGRlZmF1bHQsIGBjb25zb2xlLmRlYnVnYCBpcyBub3QgZGlzcGxheWVkIGluIHRoZSBkZXZlbG9wZXIgY29uc29sZSAoaW5cclxuICogY2hyb21lKS4gVG8gYXZvaWQgZm9yY2luZyB1c2VycyB0byBoYXZlIHRvIG9wdC1pbiB0byB0aGVzZSBsb2dzIHR3aWNlXHJcbiAqIChpLmUuIG9uY2UgZm9yIGZpcmViYXNlLCBhbmQgb25jZSBpbiB0aGUgY29uc29sZSksIHdlIGFyZSBzZW5kaW5nIGBERUJVR2BcclxuICogbG9ncyB0byB0aGUgYGNvbnNvbGUubG9nYCBmdW5jdGlvbi5cclxuICovXHJcbnZhciBDb25zb2xlTWV0aG9kID0gKF9hID0ge30sXHJcbiAgICBfYVtleHBvcnRzLkxvZ0xldmVsLkRFQlVHXSA9ICdsb2cnLFxyXG4gICAgX2FbZXhwb3J0cy5Mb2dMZXZlbC5WRVJCT1NFXSA9ICdsb2cnLFxyXG4gICAgX2FbZXhwb3J0cy5Mb2dMZXZlbC5JTkZPXSA9ICdpbmZvJyxcclxuICAgIF9hW2V4cG9ydHMuTG9nTGV2ZWwuV0FSTl0gPSAnd2FybicsXHJcbiAgICBfYVtleHBvcnRzLkxvZ0xldmVsLkVSUk9SXSA9ICdlcnJvcicsXHJcbiAgICBfYSk7XHJcbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBsb2cgaGFuZGxlciB3aWxsIGZvcndhcmQgREVCVUcsIFZFUkJPU0UsIElORk8sIFdBUk4sIGFuZCBFUlJPUlxyXG4gKiBtZXNzYWdlcyBvbiB0byB0aGVpciBjb3JyZXNwb25kaW5nIGNvbnNvbGUgY291bnRlcnBhcnRzIChpZiB0aGUgbG9nIG1ldGhvZFxyXG4gKiBpcyBzdXBwb3J0ZWQgYnkgdGhlIGN1cnJlbnQgbG9nIGxldmVsKVxyXG4gKi9cclxudmFyIGRlZmF1bHRMb2dIYW5kbGVyID0gZnVuY3Rpb24gKGluc3RhbmNlLCBsb2dUeXBlKSB7XHJcbiAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgfVxyXG4gICAgaWYgKGxvZ1R5cGUgPCBpbnN0YW5jZS5sb2dMZXZlbCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XHJcbiAgICB2YXIgbWV0aG9kID0gQ29uc29sZU1ldGhvZFtsb2dUeXBlXTtcclxuICAgIGlmIChtZXRob2QpIHtcclxuICAgICAgICBjb25zb2xlW21ldGhvZF0uYXBwbHkoY29uc29sZSwgdHNsaWIuX19zcHJlYWRBcnJheShbXCJbXCIuY29uY2F0KG5vdywgXCJdICBcIikuY29uY2F0KGluc3RhbmNlLm5hbWUsIFwiOlwiKV0sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBdHRlbXB0ZWQgdG8gbG9nIGEgbWVzc2FnZSB3aXRoIGFuIGludmFsaWQgbG9nVHlwZSAodmFsdWU6IFwiLmNvbmNhdChsb2dUeXBlLCBcIilcIikpO1xyXG4gICAgfVxyXG59O1xyXG52YXIgTG9nZ2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBHaXZlcyB5b3UgYW4gaW5zdGFuY2Ugb2YgYSBMb2dnZXIgdG8gY2FwdHVyZSBtZXNzYWdlcyBhY2NvcmRpbmcgdG9cclxuICAgICAqIEZpcmViYXNlJ3MgbG9nZ2luZyBzY2hlbWUuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIG5hbWUgVGhlIG5hbWUgdGhhdCB0aGUgbG9ncyB3aWxsIGJlIGFzc29jaWF0ZWQgd2l0aFxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBMb2dnZXIobmFtZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIGxvZyBsZXZlbCBvZiB0aGUgZ2l2ZW4gTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0xldmVsID0gZGVmYXVsdExvZ0xldmVsO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBtYWluIChpbnRlcm5hbCkgbG9nIGhhbmRsZXIgZm9yIHRoZSBMb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICogQ2FuIGJlIHNldCB0byBhIG5ldyBmdW5jdGlvbiBpbiBpbnRlcm5hbCBwYWNrYWdlIGNvZGUgYnV0IG5vdCBieSB1c2VyLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIgPSBkZWZhdWx0TG9nSGFuZGxlcjtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgb3B0aW9uYWwsIGFkZGl0aW9uYWwsIHVzZXItZGVmaW5lZCBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2FwdHVyZSB0aGUgY3VycmVudCBpbnN0YW5jZSBmb3IgbGF0ZXIgdXNlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgaW5zdGFuY2VzLnB1c2godGhpcyk7XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJsb2dMZXZlbFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2dMZXZlbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICBpZiAoISh2YWwgaW4gZXhwb3J0cy5Mb2dMZXZlbCkpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIHZhbHVlIFxcXCJcIi5jb25jYXQodmFsLCBcIlxcXCIgYXNzaWduZWQgdG8gYGxvZ0xldmVsYFwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSB2YWw7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLy8gV29ya2Fyb3VuZCBmb3Igc2V0dGVyL2dldHRlciBoYXZpbmcgdG8gYmUgdGhlIHNhbWUgdHlwZS5cclxuICAgIExvZ2dlci5wcm90b3R5cGUuc2V0TG9nTGV2ZWwgPSBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSB0eXBlb2YgdmFsID09PSAnc3RyaW5nJyA/IGxldmVsU3RyaW5nVG9FbnVtW3ZhbF0gOiB2YWw7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KExvZ2dlci5wcm90b3R5cGUsIFwibG9nSGFuZGxlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2dIYW5kbGVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdWYWx1ZSBhc3NpZ25lZCB0byBgbG9nSGFuZGxlcmAgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5fbG9nSGFuZGxlciA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJ1c2VyTG9nSGFuZGxlclwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VyTG9nSGFuZGxlcjtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHNldDogZnVuY3Rpb24gKHZhbCkge1xyXG4gICAgICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvKipcclxuICAgICAqIFRoZSBmdW5jdGlvbnMgYmVsb3cgYXJlIGFsbCBiYXNlZCBvbiB0aGUgYGNvbnNvbGVgIGludGVyZmFjZVxyXG4gICAgICovXHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmRlYnVnID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLkRFQlVHXSwgYXJncywgZmFsc2UpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuREVCVUddLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLlZFUkJPU0VdLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5WRVJCT1NFXSwgYXJncywgZmFsc2UpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmluZm8gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuSU5GT10sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLklORk9dLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUud2FybiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5XQVJOXSwgYXJncywgZmFsc2UpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuV0FSTl0sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5FUlJPUl0sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLkVSUk9SXSwgYXJncywgZmFsc2UpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gTG9nZ2VyO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsZXZlbCkge1xyXG4gICAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24gKGluc3QpIHtcclxuICAgICAgICBpbnN0LnNldExvZ0xldmVsKGxldmVsKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNldFVzZXJMb2dIYW5kbGVyKGxvZ0NhbGxiYWNrLCBvcHRpb25zKSB7XHJcbiAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIHZhciBjdXN0b21Mb2dMZXZlbCA9IG51bGw7XHJcbiAgICAgICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5sZXZlbCkge1xyXG4gICAgICAgICAgICBjdXN0b21Mb2dMZXZlbCA9IGxldmVsU3RyaW5nVG9FbnVtW29wdGlvbnMubGV2ZWxdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobG9nQ2FsbGJhY2sgPT09IG51bGwpIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UudXNlckxvZ0hhbmRsZXIgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaW5zdGFuY2UudXNlckxvZ0hhbmRsZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIGxldmVsKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdmFyIG1lc3NhZ2UgPSBhcmdzXHJcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoYXJnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fCB0eXBlb2YgYXJnID09PSAnYm9vbGVhbicpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFyZy50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGFyZyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGlnbm9yZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChhcmcpIHsgcmV0dXJuIGFyZzsgfSlcclxuICAgICAgICAgICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGxldmVsID49IChjdXN0b21Mb2dMZXZlbCAhPT0gbnVsbCAmJiBjdXN0b21Mb2dMZXZlbCAhPT0gdm9pZCAwID8gY3VzdG9tTG9nTGV2ZWwgOiBpbnN0YW5jZS5sb2dMZXZlbCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBsb2dDYWxsYmFjayh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldmVsOiBleHBvcnRzLkxvZ0xldmVsW2xldmVsXS50b0xvd2VyQ2FzZSgpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzOiBhcmdzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBpbnN0YW5jZS5uYW1lXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGZvciAodmFyIF9pID0gMCwgaW5zdGFuY2VzXzEgPSBpbnN0YW5jZXM7IF9pIDwgaW5zdGFuY2VzXzEubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgdmFyIGluc3RhbmNlID0gaW5zdGFuY2VzXzFbX2ldO1xyXG4gICAgICAgIF9sb29wXzEoaW5zdGFuY2UpO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydHMuTG9nZ2VyID0gTG9nZ2VyO1xuZXhwb3J0cy5zZXRMb2dMZXZlbCA9IHNldExvZ0xldmVsO1xuZXhwb3J0cy5zZXRVc2VyTG9nSGFuZGxlciA9IHNldFVzZXJMb2dIYW5kbGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBGaXJlYmFzZSBjb25zdGFudHMuICBTb21lIG9mIHRoZXNlIChAZGVmaW5lcykgY2FuIGJlIG92ZXJyaWRkZW4gYXQgY29tcGlsZS10aW1lLlxyXG4gKi9cclxuY29uc3QgQ09OU1RBTlRTID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVmaW5lIHtib29sZWFufSBXaGV0aGVyIHRoaXMgaXMgdGhlIGNsaWVudCBOb2RlLmpzIFNESy5cclxuICAgICAqL1xyXG4gICAgTk9ERV9DTElFTlQ6IGZhbHNlLFxyXG4gICAgLyoqXHJcbiAgICAgKiBAZGVmaW5lIHtib29sZWFufSBXaGV0aGVyIHRoaXMgaXMgdGhlIEFkbWluIE5vZGUuanMgU0RLLlxyXG4gICAgICovXHJcbiAgICBOT0RFX0FETUlOOiBmYWxzZSxcclxuICAgIC8qKlxyXG4gICAgICogRmlyZWJhc2UgU0RLIFZlcnNpb25cclxuICAgICAqL1xyXG4gICAgU0RLX1ZFUlNJT046ICcke0pTQ09SRV9WRVJTSU9OfSdcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRocm93cyBhbiBlcnJvciBpZiB0aGUgcHJvdmlkZWQgYXNzZXJ0aW9uIGlzIGZhbHN5XHJcbiAqL1xyXG5jb25zdCBhc3NlcnQgPSBmdW5jdGlvbiAoYXNzZXJ0aW9uLCBtZXNzYWdlKSB7XHJcbiAgICBpZiAoIWFzc2VydGlvbikge1xyXG4gICAgICAgIHRocm93IGFzc2VydGlvbkVycm9yKG1lc3NhZ2UpO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogUmV0dXJucyBhbiBFcnJvciBvYmplY3Qgc3VpdGFibGUgZm9yIHRocm93aW5nLlxyXG4gKi9cclxuY29uc3QgYXNzZXJ0aW9uRXJyb3IgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgcmV0dXJuIG5ldyBFcnJvcignRmlyZWJhc2UgRGF0YWJhc2UgKCcgK1xyXG4gICAgICAgIENPTlNUQU5UUy5TREtfVkVSU0lPTiArXHJcbiAgICAgICAgJykgSU5URVJOQUwgQVNTRVJUIEZBSUxFRDogJyArXHJcbiAgICAgICAgbWVzc2FnZSk7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IHN0cmluZ1RvQnl0ZUFycmF5JDEgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgY29uc3Qgb3V0ID0gW107XHJcbiAgICBsZXQgcCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGxldCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmICgoYyAmIDB4ZmMwMCkgPT09IDB4ZDgwMCAmJlxyXG4gICAgICAgICAgICBpICsgMSA8IHN0ci5sZW5ndGggJiZcclxuICAgICAgICAgICAgKHN0ci5jaGFyQ29kZUF0KGkgKyAxKSAmIDB4ZmMwMCkgPT09IDB4ZGMwMCkge1xyXG4gICAgICAgICAgICAvLyBTdXJyb2dhdGUgUGFpclxyXG4gICAgICAgICAgICBjID0gMHgxMDAwMCArICgoYyAmIDB4MDNmZikgPDwgMTApICsgKHN0ci5jaGFyQ29kZUF0KCsraSkgJiAweDAzZmYpO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDE4KSB8IDI0MDtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gMTIpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0O1xyXG59O1xyXG4vKipcclxuICogVHVybnMgYW4gYXJyYXkgb2YgbnVtYmVycyBpbnRvIHRoZSBzdHJpbmcgZ2l2ZW4gYnkgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlXHJcbiAqIGNoYXJhY3RlcnMgdG8gd2hpY2ggdGhlIG51bWJlcnMgY29ycmVzcG9uZC5cclxuICogQHBhcmFtIGJ5dGVzIEFycmF5IG9mIG51bWJlcnMgcmVwcmVzZW50aW5nIGNoYXJhY3RlcnMuXHJcbiAqIEByZXR1cm4gU3RyaW5naWZpY2F0aW9uIG9mIHRoZSBhcnJheS5cclxuICovXHJcbmNvbnN0IGJ5dGVBcnJheVRvU3RyaW5nID0gZnVuY3Rpb24gKGJ5dGVzKSB7XHJcbiAgICAvLyBUT0RPKHVzZXIpOiBVc2UgbmF0aXZlIGltcGxlbWVudGF0aW9ucyBpZi93aGVuIGF2YWlsYWJsZVxyXG4gICAgY29uc3Qgb3V0ID0gW107XHJcbiAgICBsZXQgcG9zID0gMCwgYyA9IDA7XHJcbiAgICB3aGlsZSAocG9zIDwgYnl0ZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgYzEgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgaWYgKGMxIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZShjMSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMTkxICYmIGMxIDwgMjI0KSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMSAmIDMxKSA8PCA2KSB8IChjMiAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMxID4gMjM5ICYmIGMxIDwgMzY1KSB7XHJcbiAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBjb25zdCBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgY29uc3QgYzQgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIGNvbnN0IHUgPSAoKChjMSAmIDcpIDw8IDE4KSB8ICgoYzIgJiA2MykgPDwgMTIpIHwgKChjMyAmIDYzKSA8PCA2KSB8IChjNCAmIDYzKSkgLVxyXG4gICAgICAgICAgICAgICAgMHgxMDAwMDtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZDgwMCArICh1ID4+IDEwKSk7XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgweGRjMDAgKyAodSAmIDEwMjMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGMyID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBjb25zdCBjMyA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKCgoYzEgJiAxNSkgPDwgMTIpIHwgKChjMiAmIDYzKSA8PCA2KSB8IChjMyAmIDYzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dC5qb2luKCcnKTtcclxufTtcclxuLy8gV2UgZGVmaW5lIGl0IGFzIGFuIG9iamVjdCBsaXRlcmFsIGluc3RlYWQgb2YgYSBjbGFzcyBiZWNhdXNlIGEgY2xhc3MgY29tcGlsZWQgZG93biB0byBlczUgY2FuJ3RcclxuLy8gYmUgdHJlZXNoYWtlZC4gaHR0cHM6Ly9naXRodWIuY29tL3JvbGx1cC9yb2xsdXAvaXNzdWVzLzE2OTFcclxuLy8gU3RhdGljIGxvb2t1cCBtYXBzLCBsYXppbHkgcG9wdWxhdGVkIGJ5IGluaXRfKClcclxuY29uc3QgYmFzZTY0ID0ge1xyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIGNoYXJhY3RlcnMuXHJcbiAgICAgKi9cclxuICAgIGJ5dGVUb0NoYXJNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXHJcbiAgICAgKi9cclxuICAgIGNoYXJUb0J5dGVNYXBfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIGJ5dGVzIHRvIHdlYnNhZmUgY2hhcmFjdGVycy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGJ5dGVUb0NoYXJNYXBXZWJTYWZlXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogTWFwcyB3ZWJzYWZlIGNoYXJhY3RlcnMgdG8gYnl0ZXMuXHJcbiAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICovXHJcbiAgICBjaGFyVG9CeXRlTWFwV2ViU2FmZV86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LCBzaGFyZWQgYmV0d2VlblxyXG4gICAgICogRU5DT0RFRF9WQUxTIGFuZCBFTkNPREVEX1ZBTFNfV0VCU0FGRVxyXG4gICAgICovXHJcbiAgICBFTkNPREVEX1ZBTFNfQkFTRTogJ0FCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaJyArICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicgKyAnMDEyMzQ1Njc4OScsXHJcbiAgICAvKipcclxuICAgICAqIE91ciBkZWZhdWx0IGFscGhhYmV0LiBWYWx1ZSA2NCAoPSkgaXMgc3BlY2lhbDsgaXQgbWVhbnMgXCJub3RoaW5nLlwiXHJcbiAgICAgKi9cclxuICAgIGdldCBFTkNPREVEX1ZBTFMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnKy89JztcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIE91ciB3ZWJzYWZlIGFscGhhYmV0LlxyXG4gICAgICovXHJcbiAgICBnZXQgRU5DT0RFRF9WQUxTX1dFQlNBRkUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UgKyAnLV8uJztcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIFdoZXRoZXIgdGhpcyBicm93c2VyIHN1cHBvcnRzIHRoZSBhdG9iIGFuZCBidG9hIGZ1bmN0aW9ucy4gVGhpcyBleHRlbnNpb25cclxuICAgICAqIHN0YXJ0ZWQgYXQgTW96aWxsYSBidXQgaXMgbm93IGltcGxlbWVudGVkIGJ5IG1hbnkgYnJvd3NlcnMuIFdlIHVzZSB0aGVcclxuICAgICAqIEFTU1VNRV8qIHZhcmlhYmxlcyB0byBhdm9pZCBwdWxsaW5nIGluIHRoZSBmdWxsIHVzZXJhZ2VudCBkZXRlY3Rpb24gbGlicmFyeVxyXG4gICAgICogYnV0IHN0aWxsIGFsbG93aW5nIHRoZSBzdGFuZGFyZCBwZXItYnJvd3NlciBjb21waWxhdGlvbnMuXHJcbiAgICAgKlxyXG4gICAgICovXHJcbiAgICBIQVNfTkFUSVZFX1NVUFBPUlQ6IHR5cGVvZiBhdG9iID09PSAnZnVuY3Rpb24nLFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZW5jb2RlIGFuIGFycmF5IG9mIGJ5dGVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCBBbiBhcnJheSBvZiBieXRlcyAobnVtYmVycyB3aXRoXHJcbiAgICAgKiAgICAgdmFsdWUgaW4gWzAsIDI1NV0pIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIEJvb2xlYW4gaW5kaWNhdGluZyB3ZSBzaG91bGQgdXNlIHRoZVxyXG4gICAgICogICAgIGFsdGVybmF0aXZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBUaGUgYmFzZTY0IGVuY29kZWQgc3RyaW5nLlxyXG4gICAgICovXHJcbiAgICBlbmNvZGVCeXRlQXJyYXkoaW5wdXQsIHdlYlNhZmUpIHtcclxuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdlbmNvZGVCeXRlQXJyYXkgdGFrZXMgYW4gYXJyYXkgYXMgYSBwYXJhbWV0ZXInKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5pbml0XygpO1xyXG4gICAgICAgIGNvbnN0IGJ5dGVUb0NoYXJNYXAgPSB3ZWJTYWZlXHJcbiAgICAgICAgICAgID8gdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9cclxuICAgICAgICAgICAgOiB0aGlzLmJ5dGVUb0NoYXJNYXBfO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpICs9IDMpIHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTEgPSBpbnB1dFtpXTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUyID0gaSArIDEgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUyID0gaGF2ZUJ5dGUyID8gaW5wdXRbaSArIDFdIDogMDtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUzID0gaSArIDIgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUzID0gaGF2ZUJ5dGUzID8gaW5wdXRbaSArIDJdIDogMDtcclxuICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTEgPSBieXRlMSA+PiAyO1xyXG4gICAgICAgICAgICBjb25zdCBvdXRCeXRlMiA9ICgoYnl0ZTEgJiAweDAzKSA8PCA0KSB8IChieXRlMiA+PiA0KTtcclxuICAgICAgICAgICAgbGV0IG91dEJ5dGUzID0gKChieXRlMiAmIDB4MGYpIDw8IDIpIHwgKGJ5dGUzID4+IDYpO1xyXG4gICAgICAgICAgICBsZXQgb3V0Qnl0ZTQgPSBieXRlMyAmIDB4M2Y7XHJcbiAgICAgICAgICAgIGlmICghaGF2ZUJ5dGUzKSB7XHJcbiAgICAgICAgICAgICAgICBvdXRCeXRlNCA9IDY0O1xyXG4gICAgICAgICAgICAgICAgaWYgKCFoYXZlQnl0ZTIpIHtcclxuICAgICAgICAgICAgICAgICAgICBvdXRCeXRlMyA9IDY0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTFdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUyXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlM10sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTRdKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dC5qb2luKCcnKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1lbmNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IEEgc3RyaW5nIHRvIGVuY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIElmIHRydWUsIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIGVuY29kZVN0cmluZyhpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XHJcbiAgICAgICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxyXG4gICAgICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYnRvYShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLmVuY29kZUJ5dGVBcnJheShzdHJpbmdUb0J5dGVBcnJheSQxKGlucHV0KSwgd2ViU2FmZSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCB0byBkZWNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBUcnVlIGlmIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGRlY29kZWQgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGRlY29kZVN0cmluZyhpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIC8vIFNob3J0Y3V0IGZvciBNb3ppbGxhIGJyb3dzZXJzIHRoYXQgaW1wbGVtZW50XHJcbiAgICAgICAgLy8gYSBuYXRpdmUgYmFzZTY0IGVuY29kZXIgaW4gdGhlIGZvcm0gb2YgXCJidG9hL2F0b2JcIlxyXG4gICAgICAgIGlmICh0aGlzLkhBU19OQVRJVkVfU1VQUE9SVCAmJiAhd2ViU2FmZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYXRvYihpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBieXRlQXJyYXlUb1N0cmluZyh0aGlzLmRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0LCB3ZWJTYWZlKSk7XHJcbiAgICB9LFxyXG4gICAgLyoqXHJcbiAgICAgKiBCYXNlNjQtZGVjb2RlIGEgc3RyaW5nLlxyXG4gICAgICpcclxuICAgICAqIEluIGJhc2UtNjQgZGVjb2RpbmcsIGdyb3VwcyBvZiBmb3VyIGNoYXJhY3RlcnMgYXJlIGNvbnZlcnRlZCBpbnRvIHRocmVlXHJcbiAgICAgKiBieXRlcy4gIElmIHRoZSBlbmNvZGVyIGRpZCBub3QgYXBwbHkgcGFkZGluZywgdGhlIGlucHV0IGxlbmd0aCBtYXkgbm90XHJcbiAgICAgKiBiZSBhIG11bHRpcGxlIG9mIDQuXHJcbiAgICAgKlxyXG4gICAgICogSW4gdGhpcyBjYXNlLCB0aGUgbGFzdCBncm91cCB3aWxsIGhhdmUgZmV3ZXIgdGhhbiA0IGNoYXJhY3RlcnMsIGFuZFxyXG4gICAgICogcGFkZGluZyB3aWxsIGJlIGluZmVycmVkLiAgSWYgdGhlIGdyb3VwIGhhcyBvbmUgb3IgdHdvIGNoYXJhY3RlcnMsIGl0IGRlY29kZXNcclxuICAgICAqIHRvIG9uZSBieXRlLiAgSWYgdGhlIGdyb3VwIGhhcyB0aHJlZSBjaGFyYWN0ZXJzLCBpdCBkZWNvZGVzIHRvIHR3byBieXRlcy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgSW5wdXQgdG8gZGVjb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgVHJ1ZSBpZiB3ZSBzaG91bGQgdXNlIHRoZSB3ZWItc2FmZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSBkZWNvZGVkIHZhbHVlLlxyXG4gICAgICovXHJcbiAgICBkZWNvZGVTdHJpbmdUb0J5dGVBcnJheShpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIHRoaXMuaW5pdF8oKTtcclxuICAgICAgICBjb25zdCBjaGFyVG9CeXRlTWFwID0gd2ViU2FmZVxyXG4gICAgICAgICAgICA/IHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfXHJcbiAgICAgICAgICAgIDogdGhpcy5jaGFyVG9CeXRlTWFwXztcclxuICAgICAgICBjb25zdCBvdXRwdXQgPSBbXTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDspIHtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTEgPSBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKyspXTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUyID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiAwO1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGNvbnN0IGhhdmVCeXRlMyA9IGkgPCBpbnB1dC5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGJ5dGUzID0gaGF2ZUJ5dGUzID8gY2hhclRvQnl0ZU1hcFtpbnB1dC5jaGFyQXQoaSldIDogNjQ7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGU0ID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTQgPSBoYXZlQnl0ZTQgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBpZiAoYnl0ZTEgPT0gbnVsbCB8fCBieXRlMiA9PSBudWxsIHx8IGJ5dGUzID09IG51bGwgfHwgYnl0ZTQgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERlY29kZUJhc2U2NFN0cmluZ0Vycm9yKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTEgPSAoYnl0ZTEgPDwgMikgfCAoYnl0ZTIgPj4gNCk7XHJcbiAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUxKTtcclxuICAgICAgICAgICAgaWYgKGJ5dGUzICE9PSA2NCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTIgPSAoKGJ5dGUyIDw8IDQpICYgMHhmMCkgfCAoYnl0ZTMgPj4gMik7XHJcbiAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMik7XHJcbiAgICAgICAgICAgICAgICBpZiAoYnl0ZTQgIT09IDY0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0Qnl0ZTMgPSAoKGJ5dGUzIDw8IDYpICYgMHhjMCkgfCBieXRlNDtcclxuICAgICAgICAgICAgICAgICAgICBvdXRwdXQucHVzaChvdXRCeXRlMyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIExhenkgc3RhdGljIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uLiBDYWxsZWQgYmVmb3JlXHJcbiAgICAgKiBhY2Nlc3NpbmcgYW55IG9mIHRoZSBzdGF0aWMgbWFwIHZhcmlhYmxlcy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGluaXRfKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5ieXRlVG9DaGFyTWFwXykge1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfID0ge307XHJcbiAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV8gPSB7fTtcclxuICAgICAgICAgICAgLy8gV2Ugd2FudCBxdWljayBtYXBwaW5ncyBiYWNrIGFuZCBmb3J0aCwgc28gd2UgcHJlY29tcHV0ZSB0d28gbWFwcy5cclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLkVOQ09ERURfVkFMUy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcF9bdGhpcy5ieXRlVG9DaGFyTWFwX1tpXV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV0gPSB0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuYnl0ZVRvQ2hhck1hcFdlYlNhZmVfW2ldXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAvLyBCZSBmb3JnaXZpbmcgd2hlbiBkZWNvZGluZyBhbmQgY29ycmVjdGx5IGRlY29kZSBib3RoIGVuY29kaW5ncy5cclxuICAgICAgICAgICAgICAgIGlmIChpID49IHRoaXMuRU5DT0RFRF9WQUxTX0JBU0UubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLkVOQ09ERURfVkFMU19XRUJTQUZFLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhclRvQnl0ZU1hcFdlYlNhZmVfW3RoaXMuRU5DT0RFRF9WQUxTLmNoYXJBdChpKV0gPSBpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogQW4gZXJyb3IgZW5jb3VudGVyZWQgd2hpbGUgZGVjb2RpbmcgYmFzZTY0IHN0cmluZy5cclxuICovXHJcbmNsYXNzIERlY29kZUJhc2U2NFN0cmluZ0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcclxuICAgICAgICB0aGlzLm5hbWUgPSAnRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3InO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmdcclxuICovXHJcbmNvbnN0IGJhc2U2NEVuY29kZSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIGNvbnN0IHV0ZjhCeXRlcyA9IHN0cmluZ1RvQnl0ZUFycmF5JDEoc3RyKTtcclxuICAgIHJldHVybiBiYXNlNjQuZW5jb2RlQnl0ZUFycmF5KHV0ZjhCeXRlcywgdHJ1ZSk7XHJcbn07XHJcbi8qKlxyXG4gKiBVUkwtc2FmZSBiYXNlNjQgZW5jb2RpbmcgKHdpdGhvdXQgXCIuXCIgcGFkZGluZyBpbiB0aGUgZW5kKS5cclxuICogZS5nLiBVc2VkIGluIEpTT04gV2ViIFRva2VuIChKV1QpIHBhcnRzLlxyXG4gKi9cclxuY29uc3QgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICAvLyBVc2UgYmFzZTY0dXJsIGVuY29kaW5nIGFuZCByZW1vdmUgcGFkZGluZyBpbiB0aGUgZW5kIChkb3QgY2hhcmFjdGVycykuXHJcbiAgICByZXR1cm4gYmFzZTY0RW5jb2RlKHN0cikucmVwbGFjZSgvXFwuL2csICcnKTtcclxufTtcclxuLyoqXHJcbiAqIFVSTC1zYWZlIGJhc2U2NCBkZWNvZGluZ1xyXG4gKlxyXG4gKiBOT1RFOiBETyBOT1QgdXNlIHRoZSBnbG9iYWwgYXRvYigpIGZ1bmN0aW9uIC0gaXQgZG9lcyBOT1Qgc3VwcG9ydCB0aGVcclxuICogYmFzZTY0VXJsIHZhcmlhbnQgZW5jb2RpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSBzdHIgVG8gYmUgZGVjb2RlZFxyXG4gKiBAcmV0dXJuIERlY29kZWQgcmVzdWx0LCBpZiBwb3NzaWJsZVxyXG4gKi9cclxuY29uc3QgYmFzZTY0RGVjb2RlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gYmFzZTY0LmRlY29kZVN0cmluZyhzdHIsIHRydWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdiYXNlNjREZWNvZGUgZmFpbGVkOiAnLCBlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRG8gYSBkZWVwLWNvcHkgb2YgYmFzaWMgSmF2YVNjcmlwdCBPYmplY3RzIG9yIEFycmF5cy5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBDb3B5KHZhbHVlKSB7XHJcbiAgICByZXR1cm4gZGVlcEV4dGVuZCh1bmRlZmluZWQsIHZhbHVlKTtcclxufVxyXG4vKipcclxuICogQ29weSBwcm9wZXJ0aWVzIGZyb20gc291cmNlIHRvIHRhcmdldCAocmVjdXJzaXZlbHkgYWxsb3dzIGV4dGVuc2lvblxyXG4gKiBvZiBPYmplY3RzIGFuZCBBcnJheXMpLiAgU2NhbGFyIHZhbHVlcyBpbiB0aGUgdGFyZ2V0IGFyZSBvdmVyLXdyaXR0ZW4uXHJcbiAqIElmIHRhcmdldCBpcyB1bmRlZmluZWQsIGFuIG9iamVjdCBvZiB0aGUgYXBwcm9wcmlhdGUgdHlwZSB3aWxsIGJlIGNyZWF0ZWRcclxuICogKGFuZCByZXR1cm5lZCkuXHJcbiAqXHJcbiAqIFdlIHJlY3Vyc2l2ZWx5IGNvcHkgYWxsIGNoaWxkIHByb3BlcnRpZXMgb2YgcGxhaW4gT2JqZWN0cyBpbiB0aGUgc291cmNlLSBzb1xyXG4gKiB0aGF0IG5hbWVzcGFjZS0gbGlrZSBkaWN0aW9uYXJpZXMgYXJlIG1lcmdlZC5cclxuICpcclxuICogTm90ZSB0aGF0IHRoZSB0YXJnZXQgY2FuIGJlIGEgZnVuY3Rpb24sIGluIHdoaWNoIGNhc2UgdGhlIHByb3BlcnRpZXMgaW5cclxuICogdGhlIHNvdXJjZSBPYmplY3QgYXJlIGNvcGllZCBvbnRvIGl0IGFzIHN0YXRpYyBwcm9wZXJ0aWVzIG9mIHRoZSBGdW5jdGlvbi5cclxuICpcclxuICogTm90ZTogd2UgZG9uJ3QgbWVyZ2UgX19wcm90b19fIHRvIHByZXZlbnQgcHJvdG90eXBlIHBvbGx1dGlvblxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xyXG4gICAgaWYgKCEoc291cmNlIGluc3RhbmNlb2YgT2JqZWN0KSkge1xyXG4gICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBzd2l0Y2ggKHNvdXJjZS5jb25zdHJ1Y3Rvcikge1xyXG4gICAgICAgIGNhc2UgRGF0ZTpcclxuICAgICAgICAgICAgLy8gVHJlYXQgRGF0ZXMgbGlrZSBzY2FsYXJzOyBpZiB0aGUgdGFyZ2V0IGRhdGUgb2JqZWN0IGhhZCBhbnkgY2hpbGRcclxuICAgICAgICAgICAgLy8gcHJvcGVydGllcyAtIHRoZXkgd2lsbCBiZSBsb3N0IVxyXG4gICAgICAgICAgICBjb25zdCBkYXRlVmFsdWUgPSBzb3VyY2U7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShkYXRlVmFsdWUuZ2V0VGltZSgpKTtcclxuICAgICAgICBjYXNlIE9iamVjdDpcclxuICAgICAgICAgICAgaWYgKHRhcmdldCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSB7fTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIEFycmF5OlxyXG4gICAgICAgICAgICAvLyBBbHdheXMgY29weSB0aGUgYXJyYXkgc291cmNlIGFuZCBvdmVyd3JpdGUgdGhlIHRhcmdldC5cclxuICAgICAgICAgICAgdGFyZ2V0ID0gW107XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIC8vIE5vdCBhIHBsYWluIE9iamVjdCAtIHRyZWF0IGl0IGFzIGEgc2NhbGFyLlxyXG4gICAgICAgICAgICByZXR1cm4gc291cmNlO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBwcm9wIGluIHNvdXJjZSkge1xyXG4gICAgICAgIC8vIHVzZSBpc1ZhbGlkS2V5IHRvIGd1YXJkIGFnYWluc3QgcHJvdG90eXBlIHBvbGx1dGlvbi4gU2VlIGh0dHBzOi8vc255ay5pby92dWxuL1NOWUstSlMtTE9EQVNILTQ1MDIwMlxyXG4gICAgICAgIGlmICghc291cmNlLmhhc093blByb3BlcnR5KHByb3ApIHx8ICFpc1ZhbGlkS2V5KHByb3ApKSB7XHJcbiAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0YXJnZXRbcHJvcF0gPSBkZWVwRXh0ZW5kKHRhcmdldFtwcm9wXSwgc291cmNlW3Byb3BdKTtcclxuICAgIH1cclxuICAgIHJldHVybiB0YXJnZXQ7XHJcbn1cclxuZnVuY3Rpb24gaXNWYWxpZEtleShrZXkpIHtcclxuICAgIHJldHVybiBrZXkgIT09ICdfX3Byb3RvX18nO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBQb2x5ZmlsbCBmb3IgYGdsb2JhbFRoaXNgIG9iamVjdC5cclxuICogQHJldHVybnMgdGhlIGBnbG9iYWxUaGlzYCBvYmplY3QgZm9yIHRoZSBnaXZlbiBlbnZpcm9ubWVudC5cclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0R2xvYmFsKCkge1xyXG4gICAgaWYgKHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBzZWxmO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHdpbmRvdztcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgIHJldHVybiBnbG9iYWw7XHJcbiAgICB9XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBsb2NhdGUgZ2xvYmFsIG9iamVjdC4nKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0c0Zyb21HbG9iYWwgPSAoKSA9PiBnZXRHbG9iYWwoKS5fX0ZJUkVCQVNFX0RFRkFVTFRTX187XHJcbi8qKlxyXG4gKiBBdHRlbXB0IHRvIHJlYWQgZGVmYXVsdHMgZnJvbSBhIEpTT04gc3RyaW5nIHByb3ZpZGVkIHRvXHJcbiAqIHByb2Nlc3MoLillbnYoLilfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb3IgYSBKU09OIGZpbGUgd2hvc2UgcGF0aCBpcyBpblxyXG4gKiBwcm9jZXNzKC4pZW52KC4pX19GSVJFQkFTRV9ERUZBVUxUU19QQVRIX19cclxuICogVGhlIGRvdHMgYXJlIGluIHBhcmVucyBiZWNhdXNlIGNlcnRhaW4gY29tcGlsZXJzIChWaXRlPykgY2Fubm90XHJcbiAqIGhhbmRsZSBzZWVpbmcgdGhhdCB2YXJpYWJsZSBpbiBjb21tZW50cy5cclxuICogU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvaXNzdWVzLzY4MzhcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRzRnJvbUVudlZhcmlhYmxlID0gKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBwcm9jZXNzID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgcHJvY2Vzcy5lbnYgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZGVmYXVsdHNKc29uU3RyaW5nID0gcHJvY2Vzcy5lbnYuX19GSVJFQkFTRV9ERUZBVUxUU19fO1xyXG4gICAgaWYgKGRlZmF1bHRzSnNvblN0cmluZykge1xyXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGRlZmF1bHRzSnNvblN0cmluZyk7XHJcbiAgICB9XHJcbn07XHJcbmNvbnN0IGdldERlZmF1bHRzRnJvbUNvb2tpZSA9ICgpID0+IHtcclxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IG1hdGNoO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaCgvX19GSVJFQkFTRV9ERUZBVUxUU19fPShbXjtdKykvKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgLy8gU29tZSBlbnZpcm9ubWVudHMgc3VjaCBhcyBBbmd1bGFyIFVuaXZlcnNhbCBTU1IgaGF2ZSBhXHJcbiAgICAgICAgLy8gYGRvY3VtZW50YCBvYmplY3QgYnV0IGVycm9yIG9uIGFjY2Vzc2luZyBgZG9jdW1lbnQuY29va2llYC5cclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBkZWNvZGVkID0gbWF0Y2ggJiYgYmFzZTY0RGVjb2RlKG1hdGNoWzFdKTtcclxuICAgIHJldHVybiBkZWNvZGVkICYmIEpTT04ucGFyc2UoZGVjb2RlZCk7XHJcbn07XHJcbi8qKlxyXG4gKiBHZXQgdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QuIEl0IGNoZWNrcyBpbiBvcmRlcjpcclxuICogKDEpIGlmIHN1Y2ggYW4gb2JqZWN0IGV4aXN0cyBhcyBhIHByb3BlcnR5IG9mIGBnbG9iYWxUaGlzYFxyXG4gKiAoMikgaWYgc3VjaCBhbiBvYmplY3Qgd2FzIHByb3ZpZGVkIG9uIGEgc2hlbGwgZW52aXJvbm1lbnQgdmFyaWFibGVcclxuICogKDMpIGlmIHN1Y2ggYW4gb2JqZWN0IGV4aXN0cyBpbiBhIGNvb2tpZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0cyA9ICgpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIChnZXREZWZhdWx0c0Zyb21HbG9iYWwoKSB8fFxyXG4gICAgICAgICAgICBnZXREZWZhdWx0c0Zyb21FbnZWYXJpYWJsZSgpIHx8XHJcbiAgICAgICAgICAgIGdldERlZmF1bHRzRnJvbUNvb2tpZSgpKTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ2F0Y2gtYWxsIGZvciBiZWluZyB1bmFibGUgdG8gZ2V0IF9fRklSRUJBU0VfREVGQVVMVFNfXyBkdWVcclxuICAgICAgICAgKiB0byBhbnkgZW52aXJvbm1lbnQgY2FzZSB3ZSBoYXZlIG5vdCBhY2NvdW50ZWQgZm9yLiBMb2cgdG9cclxuICAgICAgICAgKiBpbmZvIGluc3RlYWQgb2Ygc3dhbGxvd2luZyBzbyB3ZSBjYW4gZmluZCB0aGVzZSB1bmtub3duIGNhc2VzXHJcbiAgICAgICAgICogYW5kIGFkZCBwYXRocyBmb3IgdGhlbSBpZiBuZWVkZWQuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc29sZS5pbmZvKGBVbmFibGUgdG8gZ2V0IF9fRklSRUJBU0VfREVGQVVMVFNfXyBkdWUgdG86ICR7ZX1gKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGVtdWxhdG9yIGhvc3Qgc3RvcmVkIGluIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0XHJcbiAqIGZvciB0aGUgZ2l2ZW4gcHJvZHVjdC5cclxuICogQHJldHVybnMgYSBVUkwgaG9zdCBmb3JtYXR0ZWQgbGlrZSBgMTI3LjAuMC4xOjk5OTlgIG9yIGBbOjoxXTo0MDAwYCBpZiBhdmFpbGFibGVcclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCA9IChwcm9kdWN0TmFtZSkgPT4geyB2YXIgX2EsIF9iOyByZXR1cm4gKF9iID0gKF9hID0gZ2V0RGVmYXVsdHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmVtdWxhdG9ySG9zdHMpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYltwcm9kdWN0TmFtZV07IH07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGVtdWxhdG9yIGhvc3RuYW1lIGFuZCBwb3J0IHN0b3JlZCBpbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdFxyXG4gKiBmb3IgdGhlIGdpdmVuIHByb2R1Y3QuXHJcbiAqIEByZXR1cm5zIGEgcGFpciBvZiBob3N0bmFtZSBhbmQgcG9ydCBsaWtlIGBbXCI6OjFcIiwgNDAwMF1gIGlmIGF2YWlsYWJsZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQgPSAocHJvZHVjdE5hbWUpID0+IHtcclxuICAgIGNvbnN0IGhvc3QgPSBnZXREZWZhdWx0RW11bGF0b3JIb3N0KHByb2R1Y3ROYW1lKTtcclxuICAgIGlmICghaG9zdCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBjb25zdCBzZXBhcmF0b3JJbmRleCA9IGhvc3QubGFzdEluZGV4T2YoJzonKTsgLy8gRmluZGluZyB0aGUgbGFzdCBzaW5jZSBJUHY2IGFkZHIgYWxzbyBoYXMgY29sb25zLlxyXG4gICAgaWYgKHNlcGFyYXRvckluZGV4IDw9IDAgfHwgc2VwYXJhdG9ySW5kZXggKyAxID09PSBob3N0Lmxlbmd0aCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBob3N0ICR7aG9zdH0gd2l0aCBubyBzZXBhcmF0ZSBob3N0bmFtZSBhbmQgcG9ydCFgKTtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLWdsb2JhbHNcclxuICAgIGNvbnN0IHBvcnQgPSBwYXJzZUludChob3N0LnN1YnN0cmluZyhzZXBhcmF0b3JJbmRleCArIDEpLCAxMCk7XHJcbiAgICBpZiAoaG9zdFswXSA9PT0gJ1snKSB7XHJcbiAgICAgICAgLy8gQnJhY2tldC1xdW90ZWQgYFtpcHY2YWRkcl06cG9ydGAgPT4gcmV0dXJuIFwiaXB2NmFkZHJcIiAod2l0aG91dCBicmFja2V0cykuXHJcbiAgICAgICAgcmV0dXJuIFtob3N0LnN1YnN0cmluZygxLCBzZXBhcmF0b3JJbmRleCAtIDEpLCBwb3J0XTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBbaG9zdC5zdWJzdHJpbmcoMCwgc2VwYXJhdG9ySW5kZXgpLCBwb3J0XTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgRmlyZWJhc2UgYXBwIGNvbmZpZyBzdG9yZWQgaW4gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRBcHBDb25maWcgPSAoKSA9PiB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGdldERlZmF1bHRzKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb25maWc7IH07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIGV4cGVyaW1lbnRhbCBzZXR0aW5nIG9uIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0IChwcm9wZXJ0aWVzXHJcbiAqIHByZWZpeGVkIGJ5IFwiX1wiKVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXRFeHBlcmltZW50YWxTZXR0aW5nID0gKG5hbWUpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gZ2V0RGVmYXVsdHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW2BfJHtuYW1lfWBdOyB9O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5jbGFzcyBEZWZlcnJlZCB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnJlamVjdCA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLnJlc29sdmUgPSAoKSA9PiB7IH07XHJcbiAgICAgICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xyXG4gICAgICAgICAgICB0aGlzLnJlamVjdCA9IHJlamVjdDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogT3VyIEFQSSBpbnRlcm5hbHMgYXJlIG5vdCBwcm9taXNlaWZpZWQgYW5kIGNhbm5vdCBiZWNhdXNlIG91ciBjYWxsYmFjayBBUElzIGhhdmUgc3VidGxlIGV4cGVjdGF0aW9ucyBhcm91bmRcclxuICAgICAqIGludm9raW5nIHByb21pc2VzIGlubGluZSwgd2hpY2ggUHJvbWlzZXMgYXJlIGZvcmJpZGRlbiB0byBkby4gVGhpcyBtZXRob2QgYWNjZXB0cyBhbiBvcHRpb25hbCBub2RlLXN0eWxlIGNhbGxiYWNrXHJcbiAgICAgKiBhbmQgcmV0dXJucyBhIG5vZGUtc3R5bGUgY2FsbGJhY2sgd2hpY2ggd2lsbCByZXNvbHZlIG9yIHJlamVjdCB0aGUgRGVmZXJyZWQncyBwcm9taXNlLlxyXG4gICAgICovXHJcbiAgICB3cmFwQ2FsbGJhY2soY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm4gKGVycm9yLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVqZWN0KGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZSh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgLy8gQXR0YWNoaW5nIG5vb3AgaGFuZGxlciBqdXN0IGluIGNhc2UgZGV2ZWxvcGVyIHdhc24ndCBleHBlY3RpbmdcclxuICAgICAgICAgICAgICAgIC8vIHByb21pc2VzXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByb21pc2UuY2F0Y2goKCkgPT4geyB9KTtcclxuICAgICAgICAgICAgICAgIC8vIFNvbWUgb2Ygb3VyIGNhbGxiYWNrcyBkb24ndCBleHBlY3QgYSB2YWx1ZSBhbmQgb3VyIG93biB0ZXN0c1xyXG4gICAgICAgICAgICAgICAgLy8gYXNzZXJ0IHRoYXQgdGhlIHBhcmFtZXRlciBsZW5ndGggaXMgMVxyXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGVycm9yLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZU1vY2tVc2VyVG9rZW4odG9rZW4sIHByb2plY3RJZCkge1xyXG4gICAgaWYgKHRva2VuLnVpZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlIFwidWlkXCIgZmllbGQgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZCBieSBtb2NrVXNlclRva2VuLiBQbGVhc2UgdXNlIFwic3ViXCIgaW5zdGVhZCBmb3IgRmlyZWJhc2UgQXV0aCBVc2VyIElELicpO1xyXG4gICAgfVxyXG4gICAgLy8gVW5zZWN1cmVkIEpXVHMgdXNlIFwibm9uZVwiIGFzIHRoZSBhbGdvcml0aG0uXHJcbiAgICBjb25zdCBoZWFkZXIgPSB7XHJcbiAgICAgICAgYWxnOiAnbm9uZScsXHJcbiAgICAgICAgdHlwZTogJ0pXVCdcclxuICAgIH07XHJcbiAgICBjb25zdCBwcm9qZWN0ID0gcHJvamVjdElkIHx8ICdkZW1vLXByb2plY3QnO1xyXG4gICAgY29uc3QgaWF0ID0gdG9rZW4uaWF0IHx8IDA7XHJcbiAgICBjb25zdCBzdWIgPSB0b2tlbi5zdWIgfHwgdG9rZW4udXNlcl9pZDtcclxuICAgIGlmICghc3ViKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwibW9ja1VzZXJUb2tlbiBtdXN0IGNvbnRhaW4gJ3N1Yicgb3IgJ3VzZXJfaWQnIGZpZWxkIVwiKTtcclxuICAgIH1cclxuICAgIGNvbnN0IHBheWxvYWQgPSBPYmplY3QuYXNzaWduKHsgXHJcbiAgICAgICAgLy8gU2V0IGFsbCByZXF1aXJlZCBmaWVsZHMgdG8gZGVjZW50IGRlZmF1bHRzXHJcbiAgICAgICAgaXNzOiBgaHR0cHM6Ly9zZWN1cmV0b2tlbi5nb29nbGUuY29tLyR7cHJvamVjdH1gLCBhdWQ6IHByb2plY3QsIGlhdCwgZXhwOiBpYXQgKyAzNjAwLCBhdXRoX3RpbWU6IGlhdCwgc3ViLCB1c2VyX2lkOiBzdWIsIGZpcmViYXNlOiB7XHJcbiAgICAgICAgICAgIHNpZ25faW5fcHJvdmlkZXI6ICdjdXN0b20nLFxyXG4gICAgICAgICAgICBpZGVudGl0aWVzOiB7fVxyXG4gICAgICAgIH0gfSwgdG9rZW4pO1xyXG4gICAgLy8gVW5zZWN1cmVkIEpXVHMgdXNlIHRoZSBlbXB0eSBzdHJpbmcgYXMgYSBzaWduYXR1cmUuXHJcbiAgICBjb25zdCBzaWduYXR1cmUgPSAnJztcclxuICAgIHJldHVybiBbXHJcbiAgICAgICAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkoaGVhZGVyKSksXHJcbiAgICAgICAgYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmcoSlNPTi5zdHJpbmdpZnkocGF5bG9hZCkpLFxyXG4gICAgICAgIHNpZ25hdHVyZVxyXG4gICAgXS5qb2luKCcuJyk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJldHVybnMgbmF2aWdhdG9yLnVzZXJBZ2VudCBzdHJpbmcgb3IgJycgaWYgaXQncyBub3QgZGVmaW5lZC5cclxuICogQHJldHVybiB1c2VyIGFnZW50IHN0cmluZ1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0VUEoKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2YgbmF2aWdhdG9yWyd1c2VyQWdlbnQnXSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICByZXR1cm4gbmF2aWdhdG9yWyd1c2VyQWdlbnQnXTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxufVxyXG4vKipcclxuICogRGV0ZWN0IENvcmRvdmEgLyBQaG9uZUdhcCAvIElvbmljIGZyYW1ld29ya3Mgb24gYSBtb2JpbGUgZGV2aWNlLlxyXG4gKlxyXG4gKiBEZWxpYmVyYXRlbHkgZG9lcyBub3QgcmVseSBvbiBjaGVja2luZyBgZmlsZTovL2AgVVJMcyAoYXMgdGhpcyBmYWlscyBQaG9uZUdhcFxyXG4gKiBpbiB0aGUgUmlwcGxlIGVtdWxhdG9yKSBub3IgQ29yZG92YSBgb25EZXZpY2VSZWFkeWAsIHdoaWNoIHdvdWxkIG5vcm1hbGx5XHJcbiAqIHdhaXQgZm9yIGEgY2FsbGJhY2suXHJcbiAqL1xyXG5mdW5jdGlvbiBpc01vYmlsZUNvcmRvdmEoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmXHJcbiAgICAgICAgLy8gQHRzLWlnbm9yZSBTZXR0aW5nIHVwIGFuIGJyb2FkbHkgYXBwbGljYWJsZSBpbmRleCBzaWduYXR1cmUgZm9yIFdpbmRvd1xyXG4gICAgICAgIC8vIGp1c3QgdG8gZGVhbCB3aXRoIHRoaXMgY2FzZSB3b3VsZCBwcm9iYWJseSBiZSBhIGJhZCBpZGVhLlxyXG4gICAgICAgICEhKHdpbmRvd1snY29yZG92YSddIHx8IHdpbmRvd1sncGhvbmVnYXAnXSB8fCB3aW5kb3dbJ1Bob25lR2FwJ10pICYmXHJcbiAgICAgICAgL2lvc3xpcGhvbmV8aXBvZHxpcGFkfGFuZHJvaWR8YmxhY2tiZXJyeXxpZW1vYmlsZS9pLnRlc3QoZ2V0VUEoKSkpO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgTm9kZS5qcy5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIE5vZGUuanMgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQgb3Igc3BlY2lmaWVkLlxyXG4gKi9cclxuLy8gTm9kZSBkZXRlY3Rpb24gbG9naWMgZnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2lsaWFrYW4vZGV0ZWN0LW5vZGUvXHJcbmZ1bmN0aW9uIGlzTm9kZSgpIHtcclxuICAgIHZhciBfYTtcclxuICAgIGNvbnN0IGZvcmNlRW52aXJvbm1lbnQgPSAoX2EgPSBnZXREZWZhdWx0cygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yY2VFbnZpcm9ubWVudDtcclxuICAgIGlmIChmb3JjZUVudmlyb25tZW50ID09PSAnbm9kZScpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGZvcmNlRW52aXJvbm1lbnQgPT09ICdicm93c2VyJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHRyeSB7XHJcbiAgICAgICAgcmV0dXJuIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZ2xvYmFsLnByb2Nlc3MpID09PSAnW29iamVjdCBwcm9jZXNzXScpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBCcm93c2VyIEVudmlyb25tZW50XHJcbiAqL1xyXG5mdW5jdGlvbiBpc0Jyb3dzZXIoKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgfHwgaXNXZWJXb3JrZXIoKTtcclxufVxyXG4vKipcclxuICogRGV0ZWN0IFdlYiBXb3JrZXIgY29udGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gaXNXZWJXb3JrZXIoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBXb3JrZXJHbG9iYWxTY29wZSAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICBzZWxmIGluc3RhbmNlb2YgV29ya2VyR2xvYmFsU2NvcGUpO1xyXG59XHJcbmZ1bmN0aW9uIGlzQnJvd3NlckV4dGVuc2lvbigpIHtcclxuICAgIGNvbnN0IHJ1bnRpbWUgPSB0eXBlb2YgY2hyb21lID09PSAnb2JqZWN0J1xyXG4gICAgICAgID8gY2hyb21lLnJ1bnRpbWVcclxuICAgICAgICA6IHR5cGVvZiBicm93c2VyID09PSAnb2JqZWN0J1xyXG4gICAgICAgICAgICA/IGJyb3dzZXIucnVudGltZVxyXG4gICAgICAgICAgICA6IHVuZGVmaW5lZDtcclxuICAgIHJldHVybiB0eXBlb2YgcnVudGltZSA9PT0gJ29iamVjdCcgJiYgcnVudGltZS5pZCAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgUmVhY3QgTmF0aXZlLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgUmVhY3ROYXRpdmUgZW52aXJvbm1lbnQgaXMgZGV0ZWN0ZWQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc1JlYWN0TmF0aXZlKCkge1xyXG4gICAgcmV0dXJuICh0eXBlb2YgbmF2aWdhdG9yID09PSAnb2JqZWN0JyAmJiBuYXZpZ2F0b3JbJ3Byb2R1Y3QnXSA9PT0gJ1JlYWN0TmF0aXZlJyk7XHJcbn1cclxuLyoqIERldGVjdHMgRWxlY3Ryb24gYXBwcy4gKi9cclxuZnVuY3Rpb24gaXNFbGVjdHJvbigpIHtcclxuICAgIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ0VsZWN0cm9uLycpID49IDA7XHJcbn1cclxuLyoqIERldGVjdHMgSW50ZXJuZXQgRXhwbG9yZXIuICovXHJcbmZ1bmN0aW9uIGlzSUUoKSB7XHJcbiAgICBjb25zdCB1YSA9IGdldFVBKCk7XHJcbiAgICByZXR1cm4gdWEuaW5kZXhPZignTVNJRSAnKSA+PSAwIHx8IHVhLmluZGV4T2YoJ1RyaWRlbnQvJykgPj0gMDtcclxufVxyXG4vKiogRGV0ZWN0cyBVbml2ZXJzYWwgV2luZG93cyBQbGF0Zm9ybSBhcHBzLiAqL1xyXG5mdW5jdGlvbiBpc1VXUCgpIHtcclxuICAgIHJldHVybiBnZXRVQSgpLmluZGV4T2YoJ01TQXBwSG9zdC8nKSA+PSAwO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3Qgd2hldGhlciB0aGUgY3VycmVudCBTREsgYnVpbGQgaXMgdGhlIE5vZGUgdmVyc2lvbi5cclxuICpcclxuICogQHJldHVybiB0cnVlIGlmIGl0J3MgdGhlIE5vZGUgU0RLIGJ1aWxkLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNOb2RlU2RrKCkge1xyXG4gICAgcmV0dXJuIENPTlNUQU5UUy5OT0RFX0NMSUVOVCA9PT0gdHJ1ZSB8fCBDT05TVEFOVFMuTk9ERV9BRE1JTiA9PT0gdHJ1ZTtcclxufVxyXG4vKiogUmV0dXJucyB0cnVlIGlmIHdlIGFyZSBydW5uaW5nIGluIFNhZmFyaS4gKi9cclxuZnVuY3Rpb24gaXNTYWZhcmkoKSB7XHJcbiAgICByZXR1cm4gKCFpc05vZGUoKSAmJlxyXG4gICAgICAgICEhbmF2aWdhdG9yLnVzZXJBZ2VudCAmJlxyXG4gICAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ1NhZmFyaScpICYmXHJcbiAgICAgICAgIW5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoJ0Nocm9tZScpKTtcclxufVxyXG4vKipcclxuICogVGhpcyBtZXRob2QgY2hlY2tzIGlmIGluZGV4ZWREQiBpcyBzdXBwb3J0ZWQgYnkgY3VycmVudCBicm93c2VyL3NlcnZpY2Ugd29ya2VyIGNvbnRleHRcclxuICogQHJldHVybiB0cnVlIGlmIGluZGV4ZWREQiBpcyBzdXBwb3J0ZWQgYnkgY3VycmVudCBicm93c2VyL3NlcnZpY2Ugd29ya2VyIGNvbnRleHRcclxuICovXHJcbmZ1bmN0aW9uIGlzSW5kZXhlZERCQXZhaWxhYmxlKCkge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gdHlwZW9mIGluZGV4ZWREQiA9PT0gJ29iamVjdCc7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogVGhpcyBtZXRob2QgdmFsaWRhdGVzIGJyb3dzZXIvc3cgY29udGV4dCBmb3IgaW5kZXhlZERCIGJ5IG9wZW5pbmcgYSBkdW1teSBpbmRleGVkREIgZGF0YWJhc2UgYW5kIHJlamVjdFxyXG4gKiBpZiBlcnJvcnMgb2NjdXIgZHVyaW5nIHRoZSBkYXRhYmFzZSBvcGVuIG9wZXJhdGlvbi5cclxuICpcclxuICogQHRocm93cyBleGNlcHRpb24gaWYgY3VycmVudCBicm93c2VyL3N3IGNvbnRleHQgY2FuJ3QgcnVuIGlkYi5vcGVuIChleDogU2FmYXJpIGlmcmFtZSwgRmlyZWZveFxyXG4gKiBwcml2YXRlIGJyb3dzaW5nKVxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSgpIHtcclxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IHByZUV4aXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc3QgREJfQ0hFQ0tfTkFNRSA9ICd2YWxpZGF0ZS1icm93c2VyLWNvbnRleHQtZm9yLWluZGV4ZWRkYi1hbmFseXRpY3MtbW9kdWxlJztcclxuICAgICAgICAgICAgY29uc3QgcmVxdWVzdCA9IHNlbGYuaW5kZXhlZERCLm9wZW4oREJfQ0hFQ0tfTkFNRSk7XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub25zdWNjZXNzID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcmVxdWVzdC5yZXN1bHQuY2xvc2UoKTtcclxuICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBkYXRhYmFzZSBvbmx5IHdoZW4gaXQgZG9lc24ndCBwcmUtZXhpc3RcclxuICAgICAgICAgICAgICAgIGlmICghcHJlRXhpc3QpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShEQl9DSEVDS19OQU1FKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIHJlcXVlc3Qub251cGdyYWRlbmVlZGVkID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgcHJlRXhpc3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbmVycm9yID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgcmVqZWN0KCgoX2EgPSByZXF1ZXN0LmVycm9yKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EubWVzc2FnZSkgfHwgJycpO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICpcclxuICogVGhpcyBtZXRob2QgY2hlY2tzIHdoZXRoZXIgY29va2llIGlzIGVuYWJsZWQgd2l0aGluIGN1cnJlbnQgYnJvd3NlclxyXG4gKiBAcmV0dXJuIHRydWUgaWYgY29va2llIGlzIGVuYWJsZWQgd2l0aGluIGN1cnJlbnQgYnJvd3NlclxyXG4gKi9cclxuZnVuY3Rpb24gYXJlQ29va2llc0VuYWJsZWQoKSB7XHJcbiAgICBpZiAodHlwZW9mIG5hdmlnYXRvciA9PT0gJ3VuZGVmaW5lZCcgfHwgIW5hdmlnYXRvci5jb29raWVFbmFibGVkKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEBmaWxlb3ZlcnZpZXcgU3RhbmRhcmRpemVkIEZpcmViYXNlIEVycm9yLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICpcclxuICogICAvLyBUeXBlc2NyaXB0IHN0cmluZyBsaXRlcmFscyBmb3IgdHlwZS1zYWZlIGNvZGVzXHJcbiAqICAgdHlwZSBFcnIgPVxyXG4gKiAgICAgJ3Vua25vd24nIHxcclxuICogICAgICdvYmplY3Qtbm90LWZvdW5kJ1xyXG4gKiAgICAgO1xyXG4gKlxyXG4gKiAgIC8vIENsb3N1cmUgZW51bSBmb3IgdHlwZS1zYWZlIGVycm9yIGNvZGVzXHJcbiAqICAgLy8gYXQtZW51bSB7c3RyaW5nfVxyXG4gKiAgIHZhciBFcnIgPSB7XHJcbiAqICAgICBVTktOT1dOOiAndW5rbm93bicsXHJcbiAqICAgICBPQkpFQ1RfTk9UX0ZPVU5EOiAnb2JqZWN0LW5vdC1mb3VuZCcsXHJcbiAqICAgfVxyXG4gKlxyXG4gKiAgIGxldCBlcnJvcnM6IE1hcDxFcnIsIHN0cmluZz4gPSB7XHJcbiAqICAgICAnZ2VuZXJpYy1lcnJvcic6IFwiVW5rbm93biBlcnJvclwiLFxyXG4gKiAgICAgJ2ZpbGUtbm90LWZvdW5kJzogXCJDb3VsZCBub3QgZmluZCBmaWxlOiB7JGZpbGV9XCIsXHJcbiAqICAgfTtcclxuICpcclxuICogICAvLyBUeXBlLXNhZmUgZnVuY3Rpb24gLSBtdXN0IHBhc3MgYSB2YWxpZCBlcnJvciBjb2RlIGFzIHBhcmFtLlxyXG4gKiAgIGxldCBlcnJvciA9IG5ldyBFcnJvckZhY3Rvcnk8RXJyPignc2VydmljZScsICdTZXJ2aWNlJywgZXJyb3JzKTtcclxuICpcclxuICogICAuLi5cclxuICogICB0aHJvdyBlcnJvci5jcmVhdGUoRXJyLkdFTkVSSUMpO1xyXG4gKiAgIC4uLlxyXG4gKiAgIHRocm93IGVycm9yLmNyZWF0ZShFcnIuRklMRV9OT1RfRk9VTkQsIHsnZmlsZSc6IGZpbGVOYW1lfSk7XHJcbiAqICAgLi4uXHJcbiAqICAgLy8gU2VydmljZTogQ291bGQgbm90IGZpbGUgZmlsZTogZm9vLnR4dCAoc2VydmljZS9maWxlLW5vdC1mb3VuZCkuXHJcbiAqXHJcbiAqICAgY2F0Y2ggKGUpIHtcclxuICogICAgIGFzc2VydChlLm1lc3NhZ2UgPT09IFwiQ291bGQgbm90IGZpbmQgZmlsZTogZm9vLnR4dC5cIik7XHJcbiAqICAgICBpZiAoKGUgYXMgRmlyZWJhc2VFcnJvcik/LmNvZGUgPT09ICdzZXJ2aWNlL2ZpbGUtbm90LWZvdW5kJykge1xyXG4gKiAgICAgICBjb25zb2xlLmxvZyhcIkNvdWxkIG5vdCByZWFkIGZpbGU6IFwiICsgZVsnZmlsZSddKTtcclxuICogICAgIH1cclxuICogICB9XHJcbiAqL1xyXG5jb25zdCBFUlJPUl9OQU1FID0gJ0ZpcmViYXNlRXJyb3InO1xyXG4vLyBCYXNlZCBvbiBjb2RlIGZyb206XHJcbi8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL0Vycm9yI0N1c3RvbV9FcnJvcl9UeXBlc1xyXG5jbGFzcyBGaXJlYmFzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xyXG4gICAgY29uc3RydWN0b3IoXHJcbiAgICAvKiogVGhlIGVycm9yIGNvZGUgZm9yIHRoaXMgZXJyb3IuICovXHJcbiAgICBjb2RlLCBtZXNzYWdlLCBcclxuICAgIC8qKiBDdXN0b20gZGF0YSBmb3IgdGhpcyBlcnJvci4gKi9cclxuICAgIGN1c3RvbURhdGEpIHtcclxuICAgICAgICBzdXBlcihtZXNzYWdlKTtcclxuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xyXG4gICAgICAgIHRoaXMuY3VzdG9tRGF0YSA9IGN1c3RvbURhdGE7XHJcbiAgICAgICAgLyoqIFRoZSBjdXN0b20gbmFtZSBmb3IgYWxsIEZpcmViYXNlRXJyb3JzLiAqL1xyXG4gICAgICAgIHRoaXMubmFtZSA9IEVSUk9SX05BTUU7XHJcbiAgICAgICAgLy8gRml4IEZvciBFUzVcclxuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vTWljcm9zb2Z0L1R5cGVTY3JpcHQtd2lraS9ibG9iL21hc3Rlci9CcmVha2luZy1DaGFuZ2VzLm1kI2V4dGVuZGluZy1idWlsdC1pbnMtbGlrZS1lcnJvci1hcnJheS1hbmQtbWFwLW1heS1uby1sb25nZXItd29ya1xyXG4gICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBGaXJlYmFzZUVycm9yLnByb3RvdHlwZSk7XHJcbiAgICAgICAgLy8gTWFpbnRhaW5zIHByb3BlciBzdGFjayB0cmFjZSBmb3Igd2hlcmUgb3VyIGVycm9yIHdhcyB0aHJvd24uXHJcbiAgICAgICAgLy8gT25seSBhdmFpbGFibGUgb24gVjguXHJcbiAgICAgICAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XHJcbiAgICAgICAgICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEVycm9yRmFjdG9yeS5wcm90b3R5cGUuY3JlYXRlKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuY2xhc3MgRXJyb3JGYWN0b3J5IHtcclxuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2UsIHNlcnZpY2VOYW1lLCBlcnJvcnMpIHtcclxuICAgICAgICB0aGlzLnNlcnZpY2UgPSBzZXJ2aWNlO1xyXG4gICAgICAgIHRoaXMuc2VydmljZU5hbWUgPSBzZXJ2aWNlTmFtZTtcclxuICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycztcclxuICAgIH1cclxuICAgIGNyZWF0ZShjb2RlLCAuLi5kYXRhKSB7XHJcbiAgICAgICAgY29uc3QgY3VzdG9tRGF0YSA9IGRhdGFbMF0gfHwge307XHJcbiAgICAgICAgY29uc3QgZnVsbENvZGUgPSBgJHt0aGlzLnNlcnZpY2V9LyR7Y29kZX1gO1xyXG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gdGhpcy5lcnJvcnNbY29kZV07XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRlbXBsYXRlID8gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlLCBjdXN0b21EYXRhKSA6ICdFcnJvcic7XHJcbiAgICAgICAgLy8gU2VydmljZSBOYW1lOiBFcnJvciBtZXNzYWdlIChzZXJ2aWNlL2NvZGUpLlxyXG4gICAgICAgIGNvbnN0IGZ1bGxNZXNzYWdlID0gYCR7dGhpcy5zZXJ2aWNlTmFtZX06ICR7bWVzc2FnZX0gKCR7ZnVsbENvZGV9KS5gO1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEZpcmViYXNlRXJyb3IoZnVsbENvZGUsIGZ1bGxNZXNzYWdlLCBjdXN0b21EYXRhKTtcclxuICAgICAgICByZXR1cm4gZXJyb3I7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gcmVwbGFjZVRlbXBsYXRlKHRlbXBsYXRlLCBkYXRhKSB7XHJcbiAgICByZXR1cm4gdGVtcGxhdGUucmVwbGFjZShQQVRURVJOLCAoXywga2V5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBkYXRhW2tleV07XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgPyBTdHJpbmcodmFsdWUpIDogYDwke2tleX0/PmA7XHJcbiAgICB9KTtcclxufVxyXG5jb25zdCBQQVRURVJOID0gL1xce1xcJChbXn1dKyl9L2c7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBFdmFsdWF0ZXMgYSBKU09OIHN0cmluZyBpbnRvIGEgamF2YXNjcmlwdCBvYmplY3QuXHJcbiAqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHIgQSBzdHJpbmcgY29udGFpbmluZyBKU09OLlxyXG4gKiBAcmV0dXJuIHsqfSBUaGUgamF2YXNjcmlwdCBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBzcGVjaWZpZWQgSlNPTi5cclxuICovXHJcbmZ1bmN0aW9uIGpzb25FdmFsKHN0cikge1xyXG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcclxufVxyXG4vKipcclxuICogUmV0dXJucyBKU09OIHJlcHJlc2VudGluZyBhIGphdmFzY3JpcHQgb2JqZWN0LlxyXG4gKiBAcGFyYW0geyp9IGRhdGEgSmF2YXNjcmlwdCBvYmplY3QgdG8gYmUgc3RyaW5naWZpZWQuXHJcbiAqIEByZXR1cm4ge3N0cmluZ30gVGhlIEpTT04gY29udGVudHMgb2YgdGhlIG9iamVjdC5cclxuICovXHJcbmZ1bmN0aW9uIHN0cmluZ2lmeShkYXRhKSB7XHJcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBpbnRvIGNvbnN0aXR1ZW50IHBhcnRzLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIHdpdGggaW52YWxpZCAvIGluY29tcGxldGUgY2xhaW1zIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxuY29uc3QgZGVjb2RlID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBsZXQgaGVhZGVyID0ge30sIGNsYWltcyA9IHt9LCBkYXRhID0ge30sIHNpZ25hdHVyZSA9ICcnO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBwYXJ0cyA9IHRva2VuLnNwbGl0KCcuJyk7XHJcbiAgICAgICAgaGVhZGVyID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzBdKSB8fCAnJyk7XHJcbiAgICAgICAgY2xhaW1zID0ganNvbkV2YWwoYmFzZTY0RGVjb2RlKHBhcnRzWzFdKSB8fCAnJyk7XHJcbiAgICAgICAgc2lnbmF0dXJlID0gcGFydHNbMl07XHJcbiAgICAgICAgZGF0YSA9IGNsYWltc1snZCddIHx8IHt9O1xyXG4gICAgICAgIGRlbGV0ZSBjbGFpbXNbJ2QnXTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7IH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaGVhZGVyLFxyXG4gICAgICAgIGNsYWltcyxcclxuICAgICAgICBkYXRhLFxyXG4gICAgICAgIHNpZ25hdHVyZVxyXG4gICAgfTtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgdGltZS1iYXNlZCBjbGFpbXMuIFdpbGwgcmV0dXJuIHRydWUgaWYgdGhlXHJcbiAqIHRva2VuIGlzIHdpdGhpbiB0aGUgdGltZSB3aW5kb3cgYXV0aG9yaXplZCBieSB0aGUgJ25iZicgKG5vdC1iZWZvcmUpIGFuZCAnaWF0JyAoaXNzdWVkLWF0KSBjbGFpbXMuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGlzVmFsaWRUaW1lc3RhbXAgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGNvbnN0IGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihuZXcgRGF0ZSgpLmdldFRpbWUoKSAvIDEwMDApO1xyXG4gICAgbGV0IHZhbGlkU2luY2UgPSAwLCB2YWxpZFVudGlsID0gMDtcclxuICAgIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0Jykge1xyXG4gICAgICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ25iZicpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ25iZiddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkU2luY2UgPSBjbGFpbXNbJ2lhdCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2xhaW1zLmhhc093blByb3BlcnR5KCdleHAnKSkge1xyXG4gICAgICAgICAgICB2YWxpZFVudGlsID0gY2xhaW1zWydleHAnXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHRva2VuIHdpbGwgZXhwaXJlIGFmdGVyIDI0aCBieSBkZWZhdWx0XHJcbiAgICAgICAgICAgIHZhbGlkVW50aWwgPSB2YWxpZFNpbmNlICsgODY0MDA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuICghIW5vdyAmJlxyXG4gICAgICAgICEhdmFsaWRTaW5jZSAmJlxyXG4gICAgICAgICEhdmFsaWRVbnRpbCAmJlxyXG4gICAgICAgIG5vdyA+PSB2YWxpZFNpbmNlICYmXHJcbiAgICAgICAgbm93IDw9IHZhbGlkVW50aWwpO1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCByZXR1cm5zIGl0cyBpc3N1ZWQgYXQgdGltZSBpZiB2YWxpZCwgbnVsbCBvdGhlcndpc2UuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gbnVsbCBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGlzc3VlZEF0VGltZSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgY29uc3QgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICBpZiAodHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKSkge1xyXG4gICAgICAgIHJldHVybiBjbGFpbXNbJ2lhdCddO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIGNoZWNrcyB0aGUgdmFsaWRpdHkgb2YgaXRzIGZvcm1hdC4gRXhwZWN0cyBhIHZhbGlkIGlzc3VlZC1hdCB0aW1lLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG5jb25zdCBpc1ZhbGlkRm9ybWF0ID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBjb25zdCBkZWNvZGVkID0gZGVjb2RlKHRva2VuKSwgY2xhaW1zID0gZGVjb2RlZC5jbGFpbXM7XHJcbiAgICByZXR1cm4gISFjbGFpbXMgJiYgdHlwZW9mIGNsYWltcyA9PT0gJ29iamVjdCcgJiYgY2xhaW1zLmhhc093blByb3BlcnR5KCdpYXQnKTtcclxufTtcclxuLyoqXHJcbiAqIEF0dGVtcHRzIHRvIHBlZXIgaW50byBhbiBhdXRoIHRva2VuIGFuZCBkZXRlcm1pbmUgaWYgaXQncyBhbiBhZG1pbiBhdXRoIHRva2VuIGJ5IGxvb2tpbmcgYXQgdGhlIGNsYWltcyBwb3J0aW9uLlxyXG4gKlxyXG4gKiBOb3RlczpcclxuICogLSBNYXkgcmV0dXJuIGEgZmFsc2UgbmVnYXRpdmUgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG5jb25zdCBpc0FkbWluID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBjb25zdCBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIHJldHVybiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXNbJ2FkbWluJ10gPT09IHRydWU7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGNvbnRhaW5zKG9iaiwga2V5KSB7XHJcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KTtcclxufVxyXG5mdW5jdGlvbiBzYWZlR2V0KG9iaiwga2V5KSB7XHJcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgIHJldHVybiBvYmpba2V5XTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBtYXAob2JqLCBmbiwgY29udGV4dE9iaikge1xyXG4gICAgY29uc3QgcmVzID0ge307XHJcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmopIHtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkge1xyXG4gICAgICAgICAgICByZXNba2V5XSA9IGZuLmNhbGwoY29udGV4dE9iaiwgb2JqW2tleV0sIGtleSwgb2JqKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcmVzO1xyXG59XHJcbi8qKlxyXG4gKiBEZWVwIGVxdWFsIHR3byBvYmplY3RzLiBTdXBwb3J0IEFycmF5cyBhbmQgT2JqZWN0cy5cclxuICovXHJcbmZ1bmN0aW9uIGRlZXBFcXVhbChhLCBiKSB7XHJcbiAgICBpZiAoYSA9PT0gYikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgYUtleXMgPSBPYmplY3Qua2V5cyhhKTtcclxuICAgIGNvbnN0IGJLZXlzID0gT2JqZWN0LmtleXMoYik7XHJcbiAgICBmb3IgKGNvbnN0IGsgb2YgYUtleXMpIHtcclxuICAgICAgICBpZiAoIWJLZXlzLmluY2x1ZGVzKGspKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYVByb3AgPSBhW2tdO1xyXG4gICAgICAgIGNvbnN0IGJQcm9wID0gYltrXTtcclxuICAgICAgICBpZiAoaXNPYmplY3QoYVByb3ApICYmIGlzT2JqZWN0KGJQcm9wKSkge1xyXG4gICAgICAgICAgICBpZiAoIWRlZXBFcXVhbChhUHJvcCwgYlByb3ApKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYVByb3AgIT09IGJQcm9wKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IGsgb2YgYktleXMpIHtcclxuICAgICAgICBpZiAoIWFLZXlzLmluY2x1ZGVzKGspKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5mdW5jdGlvbiBpc09iamVjdCh0aGluZykge1xyXG4gICAgcmV0dXJuIHRoaW5nICE9PSBudWxsICYmIHR5cGVvZiB0aGluZyA9PT0gJ29iamVjdCc7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFJlamVjdHMgaWYgdGhlIGdpdmVuIHByb21pc2UgZG9lc24ndCByZXNvbHZlIGluIHRpbWVJbk1TIG1pbGxpc2Vjb25kcy5cclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBwcm9taXNlV2l0aFRpbWVvdXQocHJvbWlzZSwgdGltZUluTVMgPSAyMDAwKSB7XHJcbiAgICBjb25zdCBkZWZlcnJlZFByb21pc2UgPSBuZXcgRGVmZXJyZWQoKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4gZGVmZXJyZWRQcm9taXNlLnJlamVjdCgndGltZW91dCEnKSwgdGltZUluTVMpO1xyXG4gICAgcHJvbWlzZS50aGVuKGRlZmVycmVkUHJvbWlzZS5yZXNvbHZlLCBkZWZlcnJlZFByb21pc2UucmVqZWN0KTtcclxuICAgIHJldHVybiBkZWZlcnJlZFByb21pc2UucHJvbWlzZTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBhIHF1ZXJ5c3RyaW5nLWZvcm1hdHRlZCBzdHJpbmcgKGUuZy4gJmFyZz12YWwmYXJnMj12YWwyKSBmcm9tIGFcclxuICogcGFyYW1zIG9iamVjdCAoZS5nLiB7YXJnOiAndmFsJywgYXJnMjogJ3ZhbDInfSlcclxuICogTm90ZTogWW91IG11c3QgcHJlcGVuZCBpdCB3aXRoID8gd2hlbiBhZGRpbmcgaXQgdG8gYSBVUkwuXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeXN0cmluZyhxdWVyeXN0cmluZ1BhcmFtcykge1xyXG4gICAgY29uc3QgcGFyYW1zID0gW107XHJcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhxdWVyeXN0cmluZ1BhcmFtcykpIHtcclxuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgdmFsdWUuZm9yRWFjaChhcnJheVZhbCA9PiB7XHJcbiAgICAgICAgICAgICAgICBwYXJhbXMucHVzaChlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChhcnJheVZhbCkpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHBhcmFtcy5sZW5ndGggPyAnJicgKyBwYXJhbXMuam9pbignJicpIDogJyc7XHJcbn1cclxuLyoqXHJcbiAqIERlY29kZXMgYSBxdWVyeXN0cmluZyAoZS5nLiA/YXJnPXZhbCZhcmcyPXZhbDIpIGludG8gYSBwYXJhbXMgb2JqZWN0XHJcbiAqIChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxyXG4gKi9cclxuZnVuY3Rpb24gcXVlcnlzdHJpbmdEZWNvZGUocXVlcnlzdHJpbmcpIHtcclxuICAgIGNvbnN0IG9iaiA9IHt9O1xyXG4gICAgY29uc3QgdG9rZW5zID0gcXVlcnlzdHJpbmcucmVwbGFjZSgvXlxcPy8sICcnKS5zcGxpdCgnJicpO1xyXG4gICAgdG9rZW5zLmZvckVhY2godG9rZW4gPT4ge1xyXG4gICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICBjb25zdCBba2V5LCB2YWx1ZV0gPSB0b2tlbi5zcGxpdCgnPScpO1xyXG4gICAgICAgICAgICBvYmpbZGVjb2RlVVJJQ29tcG9uZW50KGtleSldID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBvYmo7XHJcbn1cclxuLyoqXHJcbiAqIEV4dHJhY3QgdGhlIHF1ZXJ5IHN0cmluZyBwYXJ0IG9mIGEgVVJMLCBpbmNsdWRpbmcgdGhlIGxlYWRpbmcgcXVlc3Rpb24gbWFyayAoaWYgcHJlc2VudCkuXHJcbiAqL1xyXG5mdW5jdGlvbiBleHRyYWN0UXVlcnlzdHJpbmcodXJsKSB7XHJcbiAgICBjb25zdCBxdWVyeVN0YXJ0ID0gdXJsLmluZGV4T2YoJz8nKTtcclxuICAgIGlmICghcXVlcnlTdGFydCkge1xyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIGNvbnN0IGZyYWdtZW50U3RhcnQgPSB1cmwuaW5kZXhPZignIycsIHF1ZXJ5U3RhcnQpO1xyXG4gICAgcmV0dXJuIHVybC5zdWJzdHJpbmcocXVlcnlTdGFydCwgZnJhZ21lbnRTdGFydCA+IDAgPyBmcmFnbWVudFN0YXJ0IDogdW5kZWZpbmVkKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2guXHJcbiAqIFZhcmlhYmxlIG5hbWVzIGZvbGxvdyB0aGUgbm90YXRpb24gaW4gRklQUyBQVUIgMTgwLTM6XHJcbiAqIGh0dHA6Ly9jc3JjLm5pc3QuZ292L3B1YmxpY2F0aW9ucy9maXBzL2ZpcHMxODAtMy9maXBzMTgwLTNfZmluYWwucGRmLlxyXG4gKlxyXG4gKiBVc2FnZTpcclxuICogICB2YXIgc2hhMSA9IG5ldyBzaGExKCk7XHJcbiAqICAgc2hhMS51cGRhdGUoYnl0ZXMpO1xyXG4gKiAgIHZhciBoYXNoID0gc2hhMS5kaWdlc3QoKTtcclxuICpcclxuICogUGVyZm9ybWFuY2U6XHJcbiAqICAgQ2hyb21lIDIzOiAgIH40MDAgTWJpdC9zXHJcbiAqICAgRmlyZWZveCAxNjogIH4yNTAgTWJpdC9zXHJcbiAqXHJcbiAqL1xyXG4vKipcclxuICogU0hBLTEgY3J5cHRvZ3JhcGhpYyBoYXNoIGNvbnN0cnVjdG9yLlxyXG4gKlxyXG4gKiBUaGUgcHJvcGVydGllcyBkZWNsYXJlZCBoZXJlIGFyZSBkaXNjdXNzZWQgaW4gdGhlIGFib3ZlIGFsZ29yaXRobSBkb2N1bWVudC5cclxuICogQGNvbnN0cnVjdG9yXHJcbiAqIEBmaW5hbFxyXG4gKiBAc3RydWN0XHJcbiAqL1xyXG5jbGFzcyBTaGExIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEhvbGRzIHRoZSBwcmV2aW91cyB2YWx1ZXMgb2YgYWNjdW11bGF0ZWQgdmFyaWFibGVzIGEtZSBpbiB0aGUgY29tcHJlc3NfXHJcbiAgICAgICAgICogZnVuY3Rpb24uXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmNoYWluXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEEgYnVmZmVyIGhvbGRpbmcgdGhlIHBhcnRpYWxseSBjb21wdXRlZCBoYXNoIHJlc3VsdC5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuYnVmXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEFuIGFycmF5IG9mIDgwIGJ5dGVzLCBlYWNoIGEgcGFydCBvZiB0aGUgbWVzc2FnZSB0byBiZSBoYXNoZWQuICBSZWZlcnJlZCB0b1xyXG4gICAgICAgICAqIGFzIHRoZSBtZXNzYWdlIHNjaGVkdWxlIGluIHRoZSBkb2NzLlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5XXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIENvbnRhaW5zIGRhdGEgbmVlZGVkIHRvIHBhZCBtZXNzYWdlcyBsZXNzIHRoYW4gNjQgYnl0ZXMuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnBhZF8gPSBbXTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaW5idWZfID0gMDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBAcHJpdmF0ZSB7bnVtYmVyfVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMudG90YWxfID0gMDtcclxuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IDUxMiAvIDg7XHJcbiAgICAgICAgdGhpcy5wYWRfWzBdID0gMTI4O1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5ibG9ja1NpemU7ICsraSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZF9baV0gPSAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICB9XHJcbiAgICByZXNldCgpIHtcclxuICAgICAgICB0aGlzLmNoYWluX1swXSA9IDB4Njc0NTIzMDE7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMV0gPSAweGVmY2RhYjg5O1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzJdID0gMHg5OGJhZGNmZTtcclxuICAgICAgICB0aGlzLmNoYWluX1szXSA9IDB4MTAzMjU0NzY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bNF0gPSAweGMzZDJlMWYwO1xyXG4gICAgICAgIHRoaXMuaW5idWZfID0gMDtcclxuICAgICAgICB0aGlzLnRvdGFsXyA9IDA7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIEludGVybmFsIGNvbXByZXNzIGhlbHBlciBmdW5jdGlvbi5cclxuICAgICAqIEBwYXJhbSBidWYgQmxvY2sgdG8gY29tcHJlc3MuXHJcbiAgICAgKiBAcGFyYW0gb2Zmc2V0IE9mZnNldCBvZiB0aGUgYmxvY2sgaW4gdGhlIGJ1ZmZlci5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGNvbXByZXNzXyhidWYsIG9mZnNldCkge1xyXG4gICAgICAgIGlmICghb2Zmc2V0KSB7XHJcbiAgICAgICAgICAgIG9mZnNldCA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IFcgPSB0aGlzLldfO1xyXG4gICAgICAgIC8vIGdldCAxNiBiaWcgZW5kaWFuIHdvcmRzXHJcbiAgICAgICAgaWYgKHR5cGVvZiBidWYgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ETyh1c2VyKTogW2J1ZyA4MTQwMTIyXSBSZWNlbnQgdmVyc2lvbnMgb2YgU2FmYXJpIGZvciBNYWMgT1MgYW5kIGlPU1xyXG4gICAgICAgICAgICAgICAgLy8gaGF2ZSBhIGJ1ZyB0aGF0IHR1cm5zIHRoZSBwb3N0LWluY3JlbWVudCArKyBvcGVyYXRvciBpbnRvIHByZS1pbmNyZW1lbnRcclxuICAgICAgICAgICAgICAgIC8vIGR1cmluZyBKSVQgY29tcGlsYXRpb24uICBXZSBoYXZlIGNvZGUgdGhhdCBkZXBlbmRzIGhlYXZpbHkgb24gU0hBLTEgZm9yXHJcbiAgICAgICAgICAgICAgICAvLyBjb3JyZWN0bmVzcyBhbmQgd2hpY2ggaXMgYWZmZWN0ZWQgYnkgdGhpcyBidWcsIHNvIEkndmUgcmVtb3ZlZCBhbGwgdXNlc1xyXG4gICAgICAgICAgICAgICAgLy8gb2YgcG9zdC1pbmNyZW1lbnQgKysgaW4gd2hpY2ggdGhlIHJlc3VsdCB2YWx1ZSBpcyB1c2VkLiAgV2UgY2FuIHJldmVydFxyXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBjaGFuZ2Ugb25jZSB0aGUgU2FmYXJpIGJ1Z1xyXG4gICAgICAgICAgICAgICAgLy8gKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xMDkwMzYpIGhhcyBiZWVuIGZpeGVkIGFuZFxyXG4gICAgICAgICAgICAgICAgLy8gbW9zdCBjbGllbnRzIGhhdmUgYmVlbiB1cGRhdGVkLlxyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCkgPDwgMjQpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDEpIDw8IDE2KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWYuY2hhckNvZGVBdChvZmZzZXQgKyAyKSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDMpO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMTY7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgV1tpXSA9XHJcbiAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXRdIDw8IDI0KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIChidWZbb2Zmc2V0ICsgMV0gPDwgMTYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXQgKyAyXSA8PCA4KSB8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZltvZmZzZXQgKyAzXTtcclxuICAgICAgICAgICAgICAgIG9mZnNldCArPSA0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGV4cGFuZCB0byA4MCB3b3Jkc1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAxNjsgaSA8IDgwOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgdCA9IFdbaSAtIDNdIF4gV1tpIC0gOF0gXiBXW2kgLSAxNF0gXiBXW2kgLSAxNl07XHJcbiAgICAgICAgICAgIFdbaV0gPSAoKHQgPDwgMSkgfCAodCA+Pj4gMzEpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBhID0gdGhpcy5jaGFpbl9bMF07XHJcbiAgICAgICAgbGV0IGIgPSB0aGlzLmNoYWluX1sxXTtcclxuICAgICAgICBsZXQgYyA9IHRoaXMuY2hhaW5fWzJdO1xyXG4gICAgICAgIGxldCBkID0gdGhpcy5jaGFpbl9bM107XHJcbiAgICAgICAgbGV0IGUgPSB0aGlzLmNoYWluX1s0XTtcclxuICAgICAgICBsZXQgZiwgaztcclxuICAgICAgICAvLyBUT0RPKHVzZXIpOiBUcnkgdG8gdW5yb2xsIHRoaXMgbG9vcCB0byBzcGVlZCB1cCB0aGUgY29tcHV0YXRpb24uXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA4MDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChpIDwgNDApIHtcclxuICAgICAgICAgICAgICAgIGlmIChpIDwgMjApIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gZCBeIChiICYgKGMgXiBkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4NWE4Mjc5OTk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBmID0gYiBeIGMgXiBkO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDZlZDllYmExO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCA2MCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSAoYiAmIGMpIHwgKGQgJiAoYiB8IGMpKTtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg4ZjFiYmNkYztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4Y2E2MmMxZDY7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgdCA9ICgoKGEgPDwgNSkgfCAoYSA+Pj4gMjcpKSArIGYgKyBlICsgayArIFdbaV0pICYgMHhmZmZmZmZmZjtcclxuICAgICAgICAgICAgZSA9IGQ7XHJcbiAgICAgICAgICAgIGQgPSBjO1xyXG4gICAgICAgICAgICBjID0gKChiIDw8IDMwKSB8IChiID4+PiAyKSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBiID0gYTtcclxuICAgICAgICAgICAgYSA9IHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY2hhaW5fWzBdID0gKHRoaXMuY2hhaW5fWzBdICsgYSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzFdID0gKHRoaXMuY2hhaW5fWzFdICsgYikgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzJdID0gKHRoaXMuY2hhaW5fWzJdICsgYykgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzNdID0gKHRoaXMuY2hhaW5fWzNdICsgZCkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzRdID0gKHRoaXMuY2hhaW5fWzRdICsgZSkgJiAweGZmZmZmZmZmO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlKGJ5dGVzLCBsZW5ndGgpIHtcclxuICAgICAgICAvLyBUT0RPKGpvaG5sZW56KTogdGlnaHRlbiB0aGUgZnVuY3Rpb24gc2lnbmF0dXJlIGFuZCByZW1vdmUgdGhpcyBjaGVja1xyXG4gICAgICAgIGlmIChieXRlcyA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgbGVuZ3RoTWludXNCbG9jayA9IGxlbmd0aCAtIHRoaXMuYmxvY2tTaXplO1xyXG4gICAgICAgIGxldCBuID0gMDtcclxuICAgICAgICAvLyBVc2luZyBsb2NhbCBpbnN0ZWFkIG9mIG1lbWJlciB2YXJpYWJsZXMgZ2l2ZXMgfjUlIHNwZWVkdXAgb24gRmlyZWZveCAxNi5cclxuICAgICAgICBjb25zdCBidWYgPSB0aGlzLmJ1Zl87XHJcbiAgICAgICAgbGV0IGluYnVmID0gdGhpcy5pbmJ1Zl87XHJcbiAgICAgICAgLy8gVGhlIG91dGVyIHdoaWxlIGxvb3Agc2hvdWxkIGV4ZWN1dGUgYXQgbW9zdCB0d2ljZS5cclxuICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBXaGVuIHdlIGhhdmUgbm8gZGF0YSBpbiB0aGUgYmxvY2sgdG8gdG9wIHVwLCB3ZSBjYW4gZGlyZWN0bHkgcHJvY2VzcyB0aGVcclxuICAgICAgICAgICAgLy8gaW5wdXQgYnVmZmVyIChhc3N1bWluZyBpdCBjb250YWlucyBzdWZmaWNpZW50IGRhdGEpLiBUaGlzIGdpdmVzIH4yNSVcclxuICAgICAgICAgICAgLy8gc3BlZWR1cCBvbiBDaHJvbWUgMjMgYW5kIH4xNSUgc3BlZWR1cCBvbiBGaXJlZm94IDE2LCBidXQgcmVxdWlyZXMgdGhhdFxyXG4gICAgICAgICAgICAvLyB0aGUgZGF0YSBpcyBwcm92aWRlZCBpbiBsYXJnZSBjaHVua3MgKG9yIGluIG11bHRpcGxlcyBvZiA2NCBieXRlcykuXHJcbiAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPD0gbGVuZ3RoTWludXNCbG9jaykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcHJlc3NfKGJ5dGVzLCBuKTtcclxuICAgICAgICAgICAgICAgICAgICBuICs9IHRoaXMuYmxvY2tTaXplO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8IGxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGJ1ZltpbmJ1Zl0gPSBieXRlcy5jaGFyQ29kZUF0KG4pO1xyXG4gICAgICAgICAgICAgICAgICAgICsraW5idWY7XHJcbiAgICAgICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gdGhpcy5ibG9ja1NpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5idWYgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBKdW1wIHRvIHRoZSBvdXRlciBsb29wIHNvIHdlIHVzZSB0aGUgZnVsbC1ibG9jayBvcHRpbWl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzW25dO1xyXG4gICAgICAgICAgICAgICAgICAgICsraW5idWY7XHJcbiAgICAgICAgICAgICAgICAgICAgKytuO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbmJ1ZiA9PT0gdGhpcy5ibG9ja1NpemUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnVmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5idWYgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBKdW1wIHRvIHRoZSBvdXRlciBsb29wIHNvIHdlIHVzZSB0aGUgZnVsbC1ibG9jayBvcHRpbWl6YXRpb24uXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluYnVmXyA9IGluYnVmO1xyXG4gICAgICAgIHRoaXMudG90YWxfICs9IGxlbmd0aDtcclxuICAgIH1cclxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cclxuICAgIGRpZ2VzdCgpIHtcclxuICAgICAgICBjb25zdCBkaWdlc3QgPSBbXTtcclxuICAgICAgICBsZXQgdG90YWxCaXRzID0gdGhpcy50b3RhbF8gKiA4O1xyXG4gICAgICAgIC8vIEFkZCBwYWQgMHg4MCAweDAwKi5cclxuICAgICAgICBpZiAodGhpcy5pbmJ1Zl8gPCA1Nikge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZF8sIDU2IC0gdGhpcy5pbmJ1Zl8pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51cGRhdGUodGhpcy5wYWRfLCB0aGlzLmJsb2NrU2l6ZSAtICh0aGlzLmluYnVmXyAtIDU2KSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFkZCAjIGJpdHMuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IHRoaXMuYmxvY2tTaXplIC0gMTsgaSA+PSA1NjsgaS0tKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnVmX1tpXSA9IHRvdGFsQml0cyAmIDI1NTtcclxuICAgICAgICAgICAgdG90YWxCaXRzIC89IDI1NjsgLy8gRG9uJ3QgdXNlIGJpdC1zaGlmdGluZyBoZXJlIVxyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmNvbXByZXNzXyh0aGlzLmJ1Zl8pO1xyXG4gICAgICAgIGxldCBuID0gMDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDU7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMjQ7IGogPj0gMDsgaiAtPSA4KSB7XHJcbiAgICAgICAgICAgICAgICBkaWdlc3Rbbl0gPSAodGhpcy5jaGFpbl9baV0gPj4gaikgJiAyNTU7XHJcbiAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGRpZ2VzdDtcclxuICAgIH1cclxufVxuXG4vKipcclxuICogSGVscGVyIHRvIG1ha2UgYSBTdWJzY3JpYmUgZnVuY3Rpb24gKGp1c3QgbGlrZSBQcm9taXNlIGhlbHBzIG1ha2UgYVxyXG4gKiBUaGVuYWJsZSkuXHJcbiAqXHJcbiAqIEBwYXJhbSBleGVjdXRvciBGdW5jdGlvbiB3aGljaCBjYW4gbWFrZSBjYWxscyB0byBhIHNpbmdsZSBPYnNlcnZlclxyXG4gKiAgICAgYXMgYSBwcm94eS5cclxuICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU3Vic2NyaWJlKGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKSB7XHJcbiAgICBjb25zdCBwcm94eSA9IG5ldyBPYnNlcnZlclByb3h5KGV4ZWN1dG9yLCBvbk5vT2JzZXJ2ZXJzKTtcclxuICAgIHJldHVybiBwcm94eS5zdWJzY3JpYmUuYmluZChwcm94eSk7XHJcbn1cclxuLyoqXHJcbiAqIEltcGxlbWVudCBmYW4tb3V0IGZvciBhbnkgbnVtYmVyIG9mIE9ic2VydmVycyBhdHRhY2hlZCB2aWEgYSBzdWJzY3JpYmVcclxuICogZnVuY3Rpb24uXHJcbiAqL1xyXG5jbGFzcyBPYnNlcnZlclByb3h5IHtcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXHJcbiAgICAgKiAgICAgYXMgYSBwcm94eS5cclxuICAgICAqIEBwYXJhbSBvbk5vT2JzZXJ2ZXJzIENhbGxiYWNrIHdoZW4gY291bnQgb2YgT2JzZXJ2ZXJzIGdvZXMgdG8gemVyby5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpIHtcclxuICAgICAgICB0aGlzLm9ic2VydmVycyA9IFtdO1xyXG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVzID0gW107XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlckNvdW50ID0gMDtcclxuICAgICAgICAvLyBNaWNyby10YXNrIHNjaGVkdWxpbmcgYnkgY2FsbGluZyB0YXNrLnRoZW4oKS5cclxuICAgICAgICB0aGlzLnRhc2sgPSBQcm9taXNlLnJlc29sdmUoKTtcclxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMub25Ob09ic2VydmVycyA9IG9uTm9PYnNlcnZlcnM7XHJcbiAgICAgICAgLy8gQ2FsbCB0aGUgZXhlY3V0b3IgYXN5bmNocm9ub3VzbHkgc28gc3Vic2NyaWJlcnMgdGhhdCBhcmUgY2FsbGVkXHJcbiAgICAgICAgLy8gc3luY2hyb25vdXNseSBhZnRlciB0aGUgY3JlYXRpb24gb2YgdGhlIHN1YnNjcmliZSBmdW5jdGlvblxyXG4gICAgICAgIC8vIGNhbiBzdGlsbCByZWNlaXZlIHRoZSB2ZXJ5IGZpcnN0IHZhbHVlIGdlbmVyYXRlZCBpbiB0aGUgZXhlY3V0b3IuXHJcbiAgICAgICAgdGhpcy50YXNrXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgZXhlY3V0b3IodGhpcyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLmVycm9yKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgbmV4dCh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5uZXh0KHZhbHVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGVycm9yKGVycm9yKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKGVycm9yKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLmNsb3NlKGVycm9yKTtcclxuICAgIH1cclxuICAgIGNvbXBsZXRlKCkge1xyXG4gICAgICAgIHRoaXMuZm9yRWFjaE9ic2VydmVyKChvYnNlcnZlcikgPT4ge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogU3Vic2NyaWJlIGZ1bmN0aW9uIHRoYXQgY2FuIGJlIHVzZWQgdG8gYWRkIGFuIE9ic2VydmVyIHRvIHRoZSBmYW4tb3V0IGxpc3QuXHJcbiAgICAgKlxyXG4gICAgICogLSBXZSByZXF1aXJlIHRoYXQgbm8gZXZlbnQgaXMgc2VudCB0byBhIHN1YnNjcmliZXIgc3ljaHJvbm91c2x5IHRvIHRoZWlyXHJcbiAgICAgKiAgIGNhbGwgdG8gc3Vic2NyaWJlKCkuXHJcbiAgICAgKi9cclxuICAgIHN1YnNjcmliZShuZXh0T3JPYnNlcnZlciwgZXJyb3IsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgbGV0IG9ic2VydmVyO1xyXG4gICAgICAgIGlmIChuZXh0T3JPYnNlcnZlciA9PT0gdW5kZWZpbmVkICYmXHJcbiAgICAgICAgICAgIGVycm9yID09PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgY29tcGxldGUgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgT2JzZXJ2ZXIuJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIEFzc2VtYmxlIGFuIE9ic2VydmVyIG9iamVjdCB3aGVuIHBhc3NlZCBhcyBjYWxsYmFjayBmdW5jdGlvbnMuXHJcbiAgICAgICAgaWYgKGltcGxlbWVudHNBbnlNZXRob2RzKG5leHRPck9ic2VydmVyLCBbXHJcbiAgICAgICAgICAgICduZXh0JyxcclxuICAgICAgICAgICAgJ2Vycm9yJyxcclxuICAgICAgICAgICAgJ2NvbXBsZXRlJ1xyXG4gICAgICAgIF0pKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0gbmV4dE9yT2JzZXJ2ZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBvYnNlcnZlciA9IHtcclxuICAgICAgICAgICAgICAgIG5leHQ6IG5leHRPck9ic2VydmVyLFxyXG4gICAgICAgICAgICAgICAgZXJyb3IsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAob2JzZXJ2ZXIuZXJyb3IgPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICBvYnNlcnZlci5lcnJvciA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5jb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgdW5zdWIgPSB0aGlzLnVuc3Vic2NyaWJlT25lLmJpbmQodGhpcywgdGhpcy5vYnNlcnZlcnMubGVuZ3RoKTtcclxuICAgICAgICAvLyBBdHRlbXB0IHRvIHN1YnNjcmliZSB0byBhIHRlcm1pbmF0ZWQgT2JzZXJ2YWJsZSAtIHdlXHJcbiAgICAgICAgLy8ganVzdCByZXNwb25kIHRvIHRoZSBPYnNlcnZlciB3aXRoIHRoZSBmaW5hbCBlcnJvciBvciBjb21wbGV0ZVxyXG4gICAgICAgIC8vIGV2ZW50LlxyXG4gICAgICAgIGlmICh0aGlzLmZpbmFsaXplZCkge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgICAgIHRoaXMudGFzay50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmluYWxFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcih0aGlzLmZpbmFsRXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG5vdGhpbmdcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xyXG4gICAgICAgIHJldHVybiB1bnN1YjtcclxuICAgIH1cclxuICAgIC8vIFVuc3Vic2NyaWJlIGlzIHN5bmNocm9ub3VzIC0gd2UgZ3VhcmFudGVlIHRoYXQgbm8gZXZlbnRzIGFyZSBzZW50IHRvXHJcbiAgICAvLyBhbnkgdW5zdWJzY3JpYmVkIE9ic2VydmVyLlxyXG4gICAgdW5zdWJzY3JpYmVPbmUoaSkge1xyXG4gICAgICAgIGlmICh0aGlzLm9ic2VydmVycyA9PT0gdW5kZWZpbmVkIHx8IHRoaXMub2JzZXJ2ZXJzW2ldID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkZWxldGUgdGhpcy5vYnNlcnZlcnNbaV07XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlckNvdW50IC09IDE7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJDb3VudCA9PT0gMCAmJiB0aGlzLm9uTm9PYnNlcnZlcnMgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLm9uTm9PYnNlcnZlcnModGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZm9yRWFjaE9ic2VydmVyKGZuKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIEFscmVhZHkgY2xvc2VkIGJ5IHByZXZpb3VzIGV2ZW50Li4uLmp1c3QgZWF0IHRoZSBhZGRpdGlvbmFsIHZhbHVlcy5cclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBTaW5jZSBzZW5kT25lIGNhbGxzIGFzeW5jaHJvbm91c2x5IC0gdGhlcmUgaXMgbm8gY2hhbmNlIHRoYXRcclxuICAgICAgICAvLyB0aGlzLm9ic2VydmVycyB3aWxsIGJlY29tZSB1bmRlZmluZWQuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm9ic2VydmVycy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNlbmRPbmUoaSwgZm4pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIC8vIENhbGwgdGhlIE9ic2VydmVyIHZpYSBvbmUgb2YgaXQncyBjYWxsYmFjayBmdW5jdGlvbi4gV2UgYXJlIGNhcmVmdWwgdG9cclxuICAgIC8vIGNvbmZpcm0gdGhhdCB0aGUgb2JzZXJ2ZSBoYXMgbm90IGJlZW4gdW5zdWJzY3JpYmVkIHNpbmNlIHRoaXMgYXN5bmNocm9ub3VzXHJcbiAgICAvLyBmdW5jdGlvbiBoYWQgYmVlbiBxdWV1ZWQuXHJcbiAgICBzZW5kT25lKGksIGZuKSB7XHJcbiAgICAgICAgLy8gRXhlY3V0ZSB0aGUgY2FsbGJhY2sgYXN5bmNocm9ub3VzbHlcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXHJcbiAgICAgICAgdGhpcy50YXNrLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5vYnNlcnZlcnMgIT09IHVuZGVmaW5lZCAmJiB0aGlzLm9ic2VydmVyc1tpXSAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZuKHRoaXMub2JzZXJ2ZXJzW2ldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSWdub3JlIGV4Y2VwdGlvbnMgcmFpc2VkIGluIE9ic2VydmVycyBvciBtaXNzaW5nIG1ldGhvZHMgb2YgYW5cclxuICAgICAgICAgICAgICAgICAgICAvLyBPYnNlcnZlci5cclxuICAgICAgICAgICAgICAgICAgICAvLyBMb2cgZXJyb3IgdG8gY29uc29sZS4gYi8zMTQwNDgwNlxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS5lcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgY2xvc2UoZXJyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xyXG4gICAgICAgIGlmIChlcnIgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICB0aGlzLmZpbmFsRXJyb3IgPSBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFByb3h5IGlzIG5vIGxvbmdlciBuZWVkZWQgLSBnYXJiYWdlIGNvbGxlY3QgcmVmZXJlbmNlc1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICB0aGlzLnRhc2sudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICB0aGlzLm9uTm9PYnNlcnZlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuLyoqIFR1cm4gc3luY2hyb25vdXMgZnVuY3Rpb24gaW50byBvbmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5LiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xyXG5mdW5jdGlvbiBhc3luYyhmbiwgb25FcnJvcikge1xyXG4gICAgcmV0dXJuICguLi5hcmdzKSA9PiB7XHJcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKHRydWUpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgZm4oLi4uYXJncyk7XHJcbiAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICAgICAgb25FcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbn1cclxuLyoqXHJcbiAqIFJldHVybiB0cnVlIGlmIHRoZSBvYmplY3QgcGFzc2VkIGluIGltcGxlbWVudHMgYW55IG9mIHRoZSBuYW1lZCBtZXRob2RzLlxyXG4gKi9cclxuZnVuY3Rpb24gaW1wbGVtZW50c0FueU1ldGhvZHMob2JqLCBtZXRob2RzKSB7XHJcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yIChjb25zdCBtZXRob2Qgb2YgbWV0aG9kcykge1xyXG4gICAgICAgIGlmIChtZXRob2QgaW4gb2JqICYmIHR5cGVvZiBvYmpbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbn1cclxuZnVuY3Rpb24gbm9vcCgpIHtcclxuICAgIC8vIGRvIG5vdGhpbmdcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ2hlY2sgdG8gbWFrZSBzdXJlIHRoZSBhcHByb3ByaWF0ZSBudW1iZXIgb2YgYXJndW1lbnRzIGFyZSBwcm92aWRlZCBmb3IgYSBwdWJsaWMgZnVuY3Rpb24uXHJcbiAqIFRocm93cyBhbiBlcnJvciBpZiBpdCBmYWlscy5cclxuICpcclxuICogQHBhcmFtIGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0gbWluQ291bnQgVGhlIG1pbmltdW0gbnVtYmVyIG9mIGFyZ3VtZW50cyB0byBhbGxvdyBmb3IgdGhlIGZ1bmN0aW9uIGNhbGxcclxuICogQHBhcmFtIG1heENvdW50IFRoZSBtYXhpbXVtIG51bWJlciBvZiBhcmd1bWVudCB0byBhbGxvdyBmb3IgdGhlIGZ1bmN0aW9uIGNhbGxcclxuICogQHBhcmFtIGFyZ0NvdW50IFRoZSBhY3R1YWwgbnVtYmVyIG9mIGFyZ3VtZW50cyBwcm92aWRlZC5cclxuICovXHJcbmNvbnN0IHZhbGlkYXRlQXJnQ291bnQgPSBmdW5jdGlvbiAoZm5OYW1lLCBtaW5Db3VudCwgbWF4Q291bnQsIGFyZ0NvdW50KSB7XHJcbiAgICBsZXQgYXJnRXJyb3I7XHJcbiAgICBpZiAoYXJnQ291bnQgPCBtaW5Db3VudCkge1xyXG4gICAgICAgIGFyZ0Vycm9yID0gJ2F0IGxlYXN0ICcgKyBtaW5Db3VudDtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKGFyZ0NvdW50ID4gbWF4Q291bnQpIHtcclxuICAgICAgICBhcmdFcnJvciA9IG1heENvdW50ID09PSAwID8gJ25vbmUnIDogJ25vIG1vcmUgdGhhbiAnICsgbWF4Q291bnQ7XHJcbiAgICB9XHJcbiAgICBpZiAoYXJnRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBlcnJvciA9IGZuTmFtZSArXHJcbiAgICAgICAgICAgICcgZmFpbGVkOiBXYXMgY2FsbGVkIHdpdGggJyArXHJcbiAgICAgICAgICAgIGFyZ0NvdW50ICtcclxuICAgICAgICAgICAgKGFyZ0NvdW50ID09PSAxID8gJyBhcmd1bWVudC4nIDogJyBhcmd1bWVudHMuJykgK1xyXG4gICAgICAgICAgICAnIEV4cGVjdHMgJyArXHJcbiAgICAgICAgICAgIGFyZ0Vycm9yICtcclxuICAgICAgICAgICAgJy4nO1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBHZW5lcmF0ZXMgYSBzdHJpbmcgdG8gcHJlZml4IGFuIGVycm9yIG1lc3NhZ2UgYWJvdXQgZmFpbGVkIGFyZ3VtZW50IHZhbGlkYXRpb25cclxuICpcclxuICogQHBhcmFtIGZuTmFtZSBUaGUgZnVuY3Rpb24gbmFtZVxyXG4gKiBAcGFyYW0gYXJnTmFtZSBUaGUgbmFtZSBvZiB0aGUgYXJndW1lbnRcclxuICogQHJldHVybiBUaGUgcHJlZml4IHRvIGFkZCB0byB0aGUgZXJyb3IgdGhyb3duIGZvciB2YWxpZGF0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZXJyb3JQcmVmaXgoZm5OYW1lLCBhcmdOYW1lKSB7XHJcbiAgICByZXR1cm4gYCR7Zm5OYW1lfSBmYWlsZWQ6ICR7YXJnTmFtZX0gYXJndW1lbnQgYDtcclxufVxyXG4vKipcclxuICogQHBhcmFtIGZuTmFtZVxyXG4gKiBAcGFyYW0gYXJndW1lbnROdW1iZXJcclxuICogQHBhcmFtIG5hbWVzcGFjZVxyXG4gKiBAcGFyYW0gb3B0aW9uYWxcclxuICovXHJcbmZ1bmN0aW9uIHZhbGlkYXRlTmFtZXNwYWNlKGZuTmFtZSwgbmFtZXNwYWNlLCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFuYW1lc3BhY2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSAhPT0gJ3N0cmluZycpIHtcclxuICAgICAgICAvL1RPRE86IEkgc2hvdWxkIGRvIG1vcmUgdmFsaWRhdGlvbiBoZXJlLiBXZSBvbmx5IGFsbG93IGNlcnRhaW4gY2hhcnMgaW4gbmFtZXNwYWNlcy5cclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3JQcmVmaXgoZm5OYW1lLCAnbmFtZXNwYWNlJykgKyAnbXVzdCBiZSBhIHZhbGlkIGZpcmViYXNlIG5hbWVzcGFjZS4nKTtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiB2YWxpZGF0ZUNhbGxiYWNrKGZuTmFtZSwgYXJndW1lbnROYW1lLCBcclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9iYW4tdHlwZXNcclxuY2FsbGJhY2ssIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TmFtZSkgKyAnbXVzdCBiZSBhIHZhbGlkIGZ1bmN0aW9uLicpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ29udGV4dE9iamVjdChmbk5hbWUsIGFyZ3VtZW50TmFtZSwgY29udGV4dCwgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhY29udGV4dCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgY29udGV4dCAhPT0gJ29iamVjdCcgfHwgY29udGV4dCA9PT0gbnVsbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsIGFyZ3VtZW50TmFtZSkgKyAnbXVzdCBiZSBhIHZhbGlkIGNvbnRleHQgb2JqZWN0LicpO1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8vIENvZGUgb3JpZ2luYWxseSBjYW1lIGZyb20gZ29vZy5jcnlwdC5zdHJpbmdUb1V0ZjhCeXRlQXJyYXksIGJ1dCBmb3Igc29tZSByZWFzb24gdGhleVxyXG4vLyBhdXRvbWF0aWNhbGx5IHJlcGxhY2VkICdcXHJcXG4nIHdpdGggJ1xcbicsIGFuZCB0aGV5IGRpZG4ndCBoYW5kbGUgc3Vycm9nYXRlIHBhaXJzLFxyXG4vLyBzbyBpdCdzIGJlZW4gbW9kaWZpZWQuXHJcbi8vIE5vdGUgdGhhdCBub3QgYWxsIFVuaWNvZGUgY2hhcmFjdGVycyBhcHBlYXIgYXMgc2luZ2xlIGNoYXJhY3RlcnMgaW4gSmF2YVNjcmlwdCBzdHJpbmdzLlxyXG4vLyBmcm9tQ2hhckNvZGUgcmV0dXJucyB0aGUgVVRGLTE2IGVuY29kaW5nIG9mIGEgY2hhcmFjdGVyIC0gc28gc29tZSBVbmljb2RlIGNoYXJhY3RlcnNcclxuLy8gdXNlIDIgY2hhcmFjdGVycyBpbiBKYXZhc2NyaXB0LiAgQWxsIDQtYnl0ZSBVVEYtOCBjaGFyYWN0ZXJzIGJlZ2luIHdpdGggYSBmaXJzdFxyXG4vLyBjaGFyYWN0ZXIgaW4gdGhlIHJhbmdlIDB4RDgwMCAtIDB4REJGRiAodGhlIGZpcnN0IGNoYXJhY3RlciBvZiBhIHNvLWNhbGxlZCBzdXJyb2dhdGVcclxuLy8gcGFpcikuXHJcbi8vIFNlZSBodHRwOi8vd3d3LmVjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNS4xLyNzZWMtMTUuMS4zXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyXHJcbiAqIEByZXR1cm4ge0FycmF5fVxyXG4gKi9cclxuY29uc3Qgc3RyaW5nVG9CeXRlQXJyYXkgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICBjb25zdCBvdXQgPSBbXTtcclxuICAgIGxldCBwID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICAvLyBJcyB0aGlzIHRoZSBsZWFkIHN1cnJvZ2F0ZSBpbiBhIHN1cnJvZ2F0ZSBwYWlyP1xyXG4gICAgICAgIGlmIChjID49IDB4ZDgwMCAmJiBjIDw9IDB4ZGJmZikge1xyXG4gICAgICAgICAgICBjb25zdCBoaWdoID0gYyAtIDB4ZDgwMDsgLy8gdGhlIGhpZ2ggMTAgYml0cy5cclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgICAgICBhc3NlcnQoaSA8IHN0ci5sZW5ndGgsICdTdXJyb2dhdGUgcGFpciBtaXNzaW5nIHRyYWlsIHN1cnJvZ2F0ZS4nKTtcclxuICAgICAgICAgICAgY29uc3QgbG93ID0gc3RyLmNoYXJDb2RlQXQoaSkgLSAweGRjMDA7IC8vIHRoZSBsb3cgMTAgYml0cy5cclxuICAgICAgICAgICAgYyA9IDB4MTAwMDAgKyAoaGlnaCA8PCAxMCkgKyBsb3c7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjIDwgMTI4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gYztcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDIwNDgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiA2KSB8IDE5MjtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA8IDY1NTM2KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTIpIHwgMjI0O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiA2KSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyAmIDYzKSB8IDEyODtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbn07XHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgbGVuZ3RoIHdpdGhvdXQgYWN0dWFsbHkgY29udmVydGluZzsgdXNlZnVsIGZvciBkb2luZyBjaGVhcGVyIHZhbGlkYXRpb24uXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7bnVtYmVyfVxyXG4gKi9cclxuY29uc3Qgc3RyaW5nTGVuZ3RoID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgbGV0IHAgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjID0gc3RyLmNoYXJDb2RlQXQoaSk7XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgcCsrO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBwICs9IDI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPj0gMHhkODAwICYmIGMgPD0gMHhkYmZmKSB7XHJcbiAgICAgICAgICAgIC8vIExlYWQgc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXIuICBUaGUgcGFpciB0b2dldGhlciB3aWxsIHRha2UgNCBieXRlcyB0byByZXByZXNlbnQuXHJcbiAgICAgICAgICAgIHAgKz0gNDtcclxuICAgICAgICAgICAgaSsrOyAvLyBza2lwIHRyYWlsIHN1cnJvZ2F0ZS5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHAgKz0gMztcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcDtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIENvcGllZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yMTE3NTIzXHJcbiAqIEdlbmVyYXRlcyBhIG5ldyB1dWlkLlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCB1dWlkdjQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICByZXR1cm4gJ3h4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eCcucmVwbGFjZSgvW3h5XS9nLCBjID0+IHtcclxuICAgICAgICBjb25zdCByID0gKE1hdGgucmFuZG9tKCkgKiAxNikgfCAwLCB2ID0gYyA9PT0gJ3gnID8gciA6IChyICYgMHgzKSB8IDB4ODtcclxuICAgICAgICByZXR1cm4gdi50b1N0cmluZygxNik7XHJcbiAgICB9KTtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoZSBhbW91bnQgb2YgbWlsbGlzZWNvbmRzIHRvIGV4cG9uZW50aWFsbHkgaW5jcmVhc2UuXHJcbiAqL1xyXG5jb25zdCBERUZBVUxUX0lOVEVSVkFMX01JTExJUyA9IDEwMDA7XHJcbi8qKlxyXG4gKiBUaGUgZmFjdG9yIHRvIGJhY2tvZmYgYnkuXHJcbiAqIFNob3VsZCBiZSBhIG51bWJlciBncmVhdGVyIHRoYW4gMS5cclxuICovXHJcbmNvbnN0IERFRkFVTFRfQkFDS09GRl9GQUNUT1IgPSAyO1xyXG4vKipcclxuICogVGhlIG1heGltdW0gbWlsbGlzZWNvbmRzIHRvIGluY3JlYXNlIHRvLlxyXG4gKlxyXG4gKiA8cD5WaXNpYmxlIGZvciB0ZXN0aW5nXHJcbiAqL1xyXG5jb25zdCBNQVhfVkFMVUVfTUlMTElTID0gNCAqIDYwICogNjAgKiAxMDAwOyAvLyBGb3VyIGhvdXJzLCBsaWtlIGlPUyBhbmQgQW5kcm9pZC5cclxuLyoqXHJcbiAqIFRoZSBwZXJjZW50YWdlIG9mIGJhY2tvZmYgdGltZSB0byByYW5kb21pemUgYnkuXHJcbiAqIFNlZVxyXG4gKiBodHRwOi8vZ28vc2FmZS1jbGllbnQtYmVoYXZpb3Ijc3RlcC0xLWRldGVybWluZS10aGUtYXBwcm9wcmlhdGUtcmV0cnktaW50ZXJ2YWwtdG8taGFuZGxlLXNwaWtlLXRyYWZmaWNcclxuICogZm9yIGNvbnRleHQuXHJcbiAqXHJcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmdcclxuICovXHJcbmNvbnN0IFJBTkRPTV9GQUNUT1IgPSAwLjU7XHJcbi8qKlxyXG4gKiBCYXNlZCBvbiB0aGUgYmFja29mZiBtZXRob2QgZnJvbVxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ29vZ2xlL2Nsb3N1cmUtbGlicmFyeS9ibG9iL21hc3Rlci9jbG9zdXJlL2dvb2cvbWF0aC9leHBvbmVudGlhbGJhY2tvZmYuanMuXHJcbiAqIEV4dHJhY3RlZCBoZXJlIHNvIHdlIGRvbid0IG5lZWQgdG8gcGFzcyBtZXRhZGF0YSBhbmQgYSBzdGF0ZWZ1bCBFeHBvbmVudGlhbEJhY2tvZmYgb2JqZWN0IGFyb3VuZC5cclxuICovXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZUJhY2tvZmZNaWxsaXMoYmFja29mZkNvdW50LCBpbnRlcnZhbE1pbGxpcyA9IERFRkFVTFRfSU5URVJWQUxfTUlMTElTLCBiYWNrb2ZmRmFjdG9yID0gREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUikge1xyXG4gICAgLy8gQ2FsY3VsYXRlcyBhbiBleHBvbmVudGlhbGx5IGluY3JlYXNpbmcgdmFsdWUuXHJcbiAgICAvLyBEZXZpYXRpb246IGNhbGN1bGF0ZXMgdmFsdWUgZnJvbSBjb3VudCBhbmQgYSBjb25zdGFudCBpbnRlcnZhbCwgc28gd2Ugb25seSBuZWVkIHRvIHNhdmUgdmFsdWVcclxuICAgIC8vIGFuZCBjb3VudCB0byByZXN0b3JlIHN0YXRlLlxyXG4gICAgY29uc3QgY3VyckJhc2VWYWx1ZSA9IGludGVydmFsTWlsbGlzICogTWF0aC5wb3coYmFja29mZkZhY3RvciwgYmFja29mZkNvdW50KTtcclxuICAgIC8vIEEgcmFuZG9tIFwiZnV6elwiIHRvIGF2b2lkIHdhdmVzIG9mIHJldHJpZXMuXHJcbiAgICAvLyBEZXZpYXRpb246IHJhbmRvbUZhY3RvciBpcyByZXF1aXJlZC5cclxuICAgIGNvbnN0IHJhbmRvbVdhaXQgPSBNYXRoLnJvdW5kKFxyXG4gICAgLy8gQSBmcmFjdGlvbiBvZiB0aGUgYmFja29mZiB2YWx1ZSB0byBhZGQvc3VidHJhY3QuXHJcbiAgICAvLyBEZXZpYXRpb246IGNoYW5nZXMgbXVsdGlwbGljYXRpb24gb3JkZXIgdG8gaW1wcm92ZSByZWFkYWJpbGl0eS5cclxuICAgIFJBTkRPTV9GQUNUT1IgKlxyXG4gICAgICAgIGN1cnJCYXNlVmFsdWUgKlxyXG4gICAgICAgIC8vIEEgcmFuZG9tIGZsb2F0IChyb3VuZGVkIHRvIGludCBieSBNYXRoLnJvdW5kIGFib3ZlKSBpbiB0aGUgcmFuZ2UgWy0xLCAxXS4gRGV0ZXJtaW5lc1xyXG4gICAgICAgIC8vIGlmIHdlIGFkZCBvciBzdWJ0cmFjdC5cclxuICAgICAgICAoTWF0aC5yYW5kb20oKSAtIDAuNSkgKlxyXG4gICAgICAgIDIpO1xyXG4gICAgLy8gTGltaXRzIGJhY2tvZmYgdG8gbWF4IHRvIGF2b2lkIGVmZmVjdGl2ZWx5IHBlcm1hbmVudCBiYWNrb2ZmLlxyXG4gICAgcmV0dXJuIE1hdGgubWluKE1BWF9WQUxVRV9NSUxMSVMsIGN1cnJCYXNlVmFsdWUgKyByYW5kb21XYWl0KTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUHJvdmlkZSBFbmdsaXNoIG9yZGluYWwgbGV0dGVycyBhZnRlciBhIG51bWJlclxyXG4gKi9cclxuZnVuY3Rpb24gb3JkaW5hbChpKSB7XHJcbiAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpKSkge1xyXG4gICAgICAgIHJldHVybiBgJHtpfWA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaSArIGluZGljYXRvcihpKTtcclxufVxyXG5mdW5jdGlvbiBpbmRpY2F0b3IoaSkge1xyXG4gICAgaSA9IE1hdGguYWJzKGkpO1xyXG4gICAgY29uc3QgY2VudCA9IGkgJSAxMDA7XHJcbiAgICBpZiAoY2VudCA+PSAxMCAmJiBjZW50IDw9IDIwKSB7XHJcbiAgICAgICAgcmV0dXJuICd0aCc7XHJcbiAgICB9XHJcbiAgICBjb25zdCBkZWMgPSBpICUgMTA7XHJcbiAgICBpZiAoZGVjID09PSAxKSB7XHJcbiAgICAgICAgcmV0dXJuICdzdCc7XHJcbiAgICB9XHJcbiAgICBpZiAoZGVjID09PSAyKSB7XHJcbiAgICAgICAgcmV0dXJuICduZCc7XHJcbiAgICB9XHJcbiAgICBpZiAoZGVjID09PSAzKSB7XHJcbiAgICAgICAgcmV0dXJuICdyZCc7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gJ3RoJztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRNb2R1bGFySW5zdGFuY2Uoc2VydmljZSkge1xyXG4gICAgaWYgKHNlcnZpY2UgJiYgc2VydmljZS5fZGVsZWdhdGUpIHtcclxuICAgICAgICByZXR1cm4gc2VydmljZS5fZGVsZWdhdGU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gc2VydmljZTtcclxuICAgIH1cclxufVxuXG5leHBvcnRzLkNPTlNUQU5UUyA9IENPTlNUQU5UUztcbmV4cG9ydHMuRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IgPSBEZWNvZGVCYXNlNjRTdHJpbmdFcnJvcjtcbmV4cG9ydHMuRGVmZXJyZWQgPSBEZWZlcnJlZDtcbmV4cG9ydHMuRXJyb3JGYWN0b3J5ID0gRXJyb3JGYWN0b3J5O1xuZXhwb3J0cy5GaXJlYmFzZUVycm9yID0gRmlyZWJhc2VFcnJvcjtcbmV4cG9ydHMuTUFYX1ZBTFVFX01JTExJUyA9IE1BWF9WQUxVRV9NSUxMSVM7XG5leHBvcnRzLlJBTkRPTV9GQUNUT1IgPSBSQU5ET01fRkFDVE9SO1xuZXhwb3J0cy5TaGExID0gU2hhMTtcbmV4cG9ydHMuYXJlQ29va2llc0VuYWJsZWQgPSBhcmVDb29raWVzRW5hYmxlZDtcbmV4cG9ydHMuYXNzZXJ0ID0gYXNzZXJ0O1xuZXhwb3J0cy5hc3NlcnRpb25FcnJvciA9IGFzc2VydGlvbkVycm9yO1xuZXhwb3J0cy5hc3luYyA9IGFzeW5jO1xuZXhwb3J0cy5iYXNlNjQgPSBiYXNlNjQ7XG5leHBvcnRzLmJhc2U2NERlY29kZSA9IGJhc2U2NERlY29kZTtcbmV4cG9ydHMuYmFzZTY0RW5jb2RlID0gYmFzZTY0RW5jb2RlO1xuZXhwb3J0cy5iYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyA9IGJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nO1xuZXhwb3J0cy5jYWxjdWxhdGVCYWNrb2ZmTWlsbGlzID0gY2FsY3VsYXRlQmFja29mZk1pbGxpcztcbmV4cG9ydHMuY29udGFpbnMgPSBjb250YWlucztcbmV4cG9ydHMuY3JlYXRlTW9ja1VzZXJUb2tlbiA9IGNyZWF0ZU1vY2tVc2VyVG9rZW47XG5leHBvcnRzLmNyZWF0ZVN1YnNjcmliZSA9IGNyZWF0ZVN1YnNjcmliZTtcbmV4cG9ydHMuZGVjb2RlID0gZGVjb2RlO1xuZXhwb3J0cy5kZWVwQ29weSA9IGRlZXBDb3B5O1xuZXhwb3J0cy5kZWVwRXF1YWwgPSBkZWVwRXF1YWw7XG5leHBvcnRzLmRlZXBFeHRlbmQgPSBkZWVwRXh0ZW5kO1xuZXhwb3J0cy5lcnJvclByZWZpeCA9IGVycm9yUHJlZml4O1xuZXhwb3J0cy5leHRyYWN0UXVlcnlzdHJpbmcgPSBleHRyYWN0UXVlcnlzdHJpbmc7XG5leHBvcnRzLmdldERlZmF1bHRBcHBDb25maWcgPSBnZXREZWZhdWx0QXBwQ29uZmlnO1xuZXhwb3J0cy5nZXREZWZhdWx0RW11bGF0b3JIb3N0ID0gZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdDtcbmV4cG9ydHMuZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0ID0gZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0O1xuZXhwb3J0cy5nZXREZWZhdWx0cyA9IGdldERlZmF1bHRzO1xuZXhwb3J0cy5nZXRFeHBlcmltZW50YWxTZXR0aW5nID0gZ2V0RXhwZXJpbWVudGFsU2V0dGluZztcbmV4cG9ydHMuZ2V0R2xvYmFsID0gZ2V0R2xvYmFsO1xuZXhwb3J0cy5nZXRNb2R1bGFySW5zdGFuY2UgPSBnZXRNb2R1bGFySW5zdGFuY2U7XG5leHBvcnRzLmdldFVBID0gZ2V0VUE7XG5leHBvcnRzLmlzQWRtaW4gPSBpc0FkbWluO1xuZXhwb3J0cy5pc0Jyb3dzZXIgPSBpc0Jyb3dzZXI7XG5leHBvcnRzLmlzQnJvd3NlckV4dGVuc2lvbiA9IGlzQnJvd3NlckV4dGVuc2lvbjtcbmV4cG9ydHMuaXNFbGVjdHJvbiA9IGlzRWxlY3Ryb247XG5leHBvcnRzLmlzRW1wdHkgPSBpc0VtcHR5O1xuZXhwb3J0cy5pc0lFID0gaXNJRTtcbmV4cG9ydHMuaXNJbmRleGVkREJBdmFpbGFibGUgPSBpc0luZGV4ZWREQkF2YWlsYWJsZTtcbmV4cG9ydHMuaXNNb2JpbGVDb3Jkb3ZhID0gaXNNb2JpbGVDb3Jkb3ZhO1xuZXhwb3J0cy5pc05vZGUgPSBpc05vZGU7XG5leHBvcnRzLmlzTm9kZVNkayA9IGlzTm9kZVNkaztcbmV4cG9ydHMuaXNSZWFjdE5hdGl2ZSA9IGlzUmVhY3ROYXRpdmU7XG5leHBvcnRzLmlzU2FmYXJpID0gaXNTYWZhcmk7XG5leHBvcnRzLmlzVVdQID0gaXNVV1A7XG5leHBvcnRzLmlzVmFsaWRGb3JtYXQgPSBpc1ZhbGlkRm9ybWF0O1xuZXhwb3J0cy5pc1ZhbGlkVGltZXN0YW1wID0gaXNWYWxpZFRpbWVzdGFtcDtcbmV4cG9ydHMuaXNXZWJXb3JrZXIgPSBpc1dlYldvcmtlcjtcbmV4cG9ydHMuaXNzdWVkQXRUaW1lID0gaXNzdWVkQXRUaW1lO1xuZXhwb3J0cy5qc29uRXZhbCA9IGpzb25FdmFsO1xuZXhwb3J0cy5tYXAgPSBtYXA7XG5leHBvcnRzLm9yZGluYWwgPSBvcmRpbmFsO1xuZXhwb3J0cy5wcm9taXNlV2l0aFRpbWVvdXQgPSBwcm9taXNlV2l0aFRpbWVvdXQ7XG5leHBvcnRzLnF1ZXJ5c3RyaW5nID0gcXVlcnlzdHJpbmc7XG5leHBvcnRzLnF1ZXJ5c3RyaW5nRGVjb2RlID0gcXVlcnlzdHJpbmdEZWNvZGU7XG5leHBvcnRzLnNhZmVHZXQgPSBzYWZlR2V0O1xuZXhwb3J0cy5zdHJpbmdMZW5ndGggPSBzdHJpbmdMZW5ndGg7XG5leHBvcnRzLnN0cmluZ1RvQnl0ZUFycmF5ID0gc3RyaW5nVG9CeXRlQXJyYXk7XG5leHBvcnRzLnN0cmluZ2lmeSA9IHN0cmluZ2lmeTtcbmV4cG9ydHMudXVpZHY0ID0gdXVpZHY0O1xuZXhwb3J0cy52YWxpZGF0ZUFyZ0NvdW50ID0gdmFsaWRhdGVBcmdDb3VudDtcbmV4cG9ydHMudmFsaWRhdGVDYWxsYmFjayA9IHZhbGlkYXRlQ2FsbGJhY2s7XG5leHBvcnRzLnZhbGlkYXRlQ29udGV4dE9iamVjdCA9IHZhbGlkYXRlQ29udGV4dE9iamVjdDtcbmV4cG9ydHMudmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZSA9IHZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGU7XG5leHBvcnRzLnZhbGlkYXRlTmFtZXNwYWNlID0gdmFsaWRhdGVOYW1lc3BhY2U7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5janMuanMubWFwXG4iLCIvKiogQGxpY2Vuc2VcbkNvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuXG5TUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuKi9cbihmdW5jdGlvbigpIHsndXNlIHN0cmljdCc7dmFyIGg7LyoqIEBsaWNlbnNlXG5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuZnVuY3Rpb24gayhmLGEpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9YS5wcm90b3R5cGU7Zi5EPWEucHJvdG90eXBlO2YucHJvdG90eXBlPW5ldyBjO2YucHJvdG90eXBlLmNvbnN0cnVjdG9yPWY7Zi5DPWZ1bmN0aW9uKGQsZSxnKXtmb3IodmFyIGI9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxyPTI7cjxhcmd1bWVudHMubGVuZ3RoO3IrKyliW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiBhLnByb3RvdHlwZVtlXS5hcHBseShkLGIpfX07ZnVuY3Rpb24gbCgpe3RoaXMuYmxvY2tTaXplPS0xfTtmdW5jdGlvbiBtKCl7dGhpcy5ibG9ja1NpemU9LTE7dGhpcy5ibG9ja1NpemU9NjQ7dGhpcy5nPUFycmF5KDQpO3RoaXMuQj1BcnJheSh0aGlzLmJsb2NrU2l6ZSk7dGhpcy5vPXRoaXMuaD0wO3RoaXMucygpfWsobSxsKTttLnByb3RvdHlwZS5zPWZ1bmN0aW9uKCl7dGhpcy5nWzBdPTE3MzI1ODQxOTM7dGhpcy5nWzFdPTQwMjMyMzM0MTc7dGhpcy5nWzJdPTI1NjIzODMxMDI7dGhpcy5nWzNdPTI3MTczMzg3ODt0aGlzLm89dGhpcy5oPTB9O1xuZnVuY3Rpb24gbihmLGEsYyl7Y3x8KGM9MCk7dmFyIGQ9QXJyYXkoMTYpO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlmb3IodmFyIGU9MDsxNj5lOysrZSlkW2VdPWEuY2hhckNvZGVBdChjKyspfGEuY2hhckNvZGVBdChjKyspPDw4fGEuY2hhckNvZGVBdChjKyspPDwxNnxhLmNoYXJDb2RlQXQoYysrKTw8MjQ7ZWxzZSBmb3IoZT0wOzE2PmU7KytlKWRbZV09YVtjKytdfGFbYysrXTw8OHxhW2MrK108PDE2fGFbYysrXTw8MjQ7YT1mLmdbMF07Yz1mLmdbMV07ZT1mLmdbMl07dmFyIGc9Zi5nWzNdO3ZhciBiPWErKGdeYyYoZV5nKSkrZFswXSszNjE0MDkwMzYwJjQyOTQ5NjcyOTU7YT1jKyhiPDw3JjQyOTQ5NjcyOTV8Yj4+PjI1KTtiPWcrKGVeYSYoY15lKSkrZFsxXSszOTA1NDAyNzEwJjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMiY0Mjk0OTY3Mjk1fGI+Pj4yMCk7Yj1lKyhjXmcmKGFeYykpK2RbMl0rNjA2MTA1ODE5JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNyY0Mjk0OTY3Mjk1fGI+Pj4xNSk7XG5iPWMrKGFeZSYoZ15hKSkrZFszXSszMjUwNDQxOTY2JjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMiY0Mjk0OTY3Mjk1fGI+Pj4xMCk7Yj1hKyhnXmMmKGVeZykpK2RbNF0rNDExODU0ODM5OSY0Mjk0OTY3Mjk1O2E9YysoYjw8NyY0Mjk0OTY3Mjk1fGI+Pj4yNSk7Yj1nKyhlXmEmKGNeZSkpK2RbNV0rMTIwMDA4MDQyNiY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTImNDI5NDk2NzI5NXxiPj4+MjApO2I9ZSsoY15nJihhXmMpKStkWzZdKzI4MjE3MzU5NTUmNDI5NDk2NzI5NTtlPWcrKGI8PDE3JjQyOTQ5NjcyOTV8Yj4+PjE1KTtiPWMrKGFeZSYoZ15hKSkrZFs3XSs0MjQ5MjYxMzEzJjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMiY0Mjk0OTY3Mjk1fGI+Pj4xMCk7Yj1hKyhnXmMmKGVeZykpK2RbOF0rMTc3MDAzNTQxNiY0Mjk0OTY3Mjk1O2E9YysoYjw8NyY0Mjk0OTY3Mjk1fGI+Pj4yNSk7Yj1nKyhlXmEmKGNeZSkpK2RbOV0rMjMzNjU1Mjg3OSY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTImNDI5NDk2NzI5NXxcbmI+Pj4yMCk7Yj1lKyhjXmcmKGFeYykpK2RbMTBdKzQyOTQ5MjUyMzMmNDI5NDk2NzI5NTtlPWcrKGI8PDE3JjQyOTQ5NjcyOTV8Yj4+PjE1KTtiPWMrKGFeZSYoZ15hKSkrZFsxMV0rMjMwNDU2MzEzNCY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjImNDI5NDk2NzI5NXxiPj4+MTApO2I9YSsoZ15jJihlXmcpKStkWzEyXSsxODA0NjAzNjgyJjQyOTQ5NjcyOTU7YT1jKyhiPDw3JjQyOTQ5NjcyOTV8Yj4+PjI1KTtiPWcrKGVeYSYoY15lKSkrZFsxM10rNDI1NDYyNjE5NSY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTImNDI5NDk2NzI5NXxiPj4+MjApO2I9ZSsoY15nJihhXmMpKStkWzE0XSsyNzkyOTY1MDA2JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNyY0Mjk0OTY3Mjk1fGI+Pj4xNSk7Yj1jKyhhXmUmKGdeYSkpK2RbMTVdKzEyMzY1MzUzMjkmNDI5NDk2NzI5NTtjPWUrKGI8PDIyJjQyOTQ5NjcyOTV8Yj4+PjEwKTtiPWErKGVeZyYoY15lKSkrZFsxXSs0MTI5MTcwNzg2JjQyOTQ5NjcyOTU7YT1jKyhiPDxcbjUmNDI5NDk2NzI5NXxiPj4+MjcpO2I9ZysoY15lJihhXmMpKStkWzZdKzMyMjU0NjU2NjQmNDI5NDk2NzI5NTtnPWErKGI8PDkmNDI5NDk2NzI5NXxiPj4+MjMpO2I9ZSsoYV5jJihnXmEpKStkWzExXSs2NDM3MTc3MTMmNDI5NDk2NzI5NTtlPWcrKGI8PDE0JjQyOTQ5NjcyOTV8Yj4+PjE4KTtiPWMrKGdeYSYoZV5nKSkrZFswXSszOTIxMDY5OTk0JjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMCY0Mjk0OTY3Mjk1fGI+Pj4xMik7Yj1hKyhlXmcmKGNeZSkpK2RbNV0rMzU5MzQwODYwNSY0Mjk0OTY3Mjk1O2E9YysoYjw8NSY0Mjk0OTY3Mjk1fGI+Pj4yNyk7Yj1nKyhjXmUmKGFeYykpK2RbMTBdKzM4MDE2MDgzJjQyOTQ5NjcyOTU7Zz1hKyhiPDw5JjQyOTQ5NjcyOTV8Yj4+PjIzKTtiPWUrKGFeYyYoZ15hKSkrZFsxNV0rMzYzNDQ4ODk2MSY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTQmNDI5NDk2NzI5NXxiPj4+MTgpO2I9YysoZ15hJihlXmcpKStkWzRdKzM4ODk0Mjk0NDgmNDI5NDk2NzI5NTtjPVxuZSsoYjw8MjAmNDI5NDk2NzI5NXxiPj4+MTIpO2I9YSsoZV5nJihjXmUpKStkWzldKzU2ODQ0NjQzOCY0Mjk0OTY3Mjk1O2E9YysoYjw8NSY0Mjk0OTY3Mjk1fGI+Pj4yNyk7Yj1nKyhjXmUmKGFeYykpK2RbMTRdKzMyNzUxNjM2MDYmNDI5NDk2NzI5NTtnPWErKGI8PDkmNDI5NDk2NzI5NXxiPj4+MjMpO2I9ZSsoYV5jJihnXmEpKStkWzNdKzQxMDc2MDMzMzUmNDI5NDk2NzI5NTtlPWcrKGI8PDE0JjQyOTQ5NjcyOTV8Yj4+PjE4KTtiPWMrKGdeYSYoZV5nKSkrZFs4XSsxMTYzNTMxNTAxJjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMCY0Mjk0OTY3Mjk1fGI+Pj4xMik7Yj1hKyhlXmcmKGNeZSkpK2RbMTNdKzI4NTAyODU4MjkmNDI5NDk2NzI5NTthPWMrKGI8PDUmNDI5NDk2NzI5NXxiPj4+MjcpO2I9ZysoY15lJihhXmMpKStkWzJdKzQyNDM1NjM1MTImNDI5NDk2NzI5NTtnPWErKGI8PDkmNDI5NDk2NzI5NXxiPj4+MjMpO2I9ZSsoYV5jJihnXmEpKStkWzddKzE3MzUzMjg0NzMmNDI5NDk2NzI5NTtcbmU9ZysoYjw8MTQmNDI5NDk2NzI5NXxiPj4+MTgpO2I9YysoZ15hJihlXmcpKStkWzEyXSsyMzY4MzU5NTYyJjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMCY0Mjk0OTY3Mjk1fGI+Pj4xMik7Yj1hKyhjXmVeZykrZFs1XSs0Mjk0NTg4NzM4JjQyOTQ5NjcyOTU7YT1jKyhiPDw0JjQyOTQ5NjcyOTV8Yj4+PjI4KTtiPWcrKGFeY15lKStkWzhdKzIyNzIzOTI4MzMmNDI5NDk2NzI5NTtnPWErKGI8PDExJjQyOTQ5NjcyOTV8Yj4+PjIxKTtiPWUrKGdeYV5jKStkWzExXSsxODM5MDMwNTYyJjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNiY0Mjk0OTY3Mjk1fGI+Pj4xNik7Yj1jKyhlXmdeYSkrZFsxNF0rNDI1OTY1Nzc0MCY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjMmNDI5NDk2NzI5NXxiPj4+OSk7Yj1hKyhjXmVeZykrZFsxXSsyNzYzOTc1MjM2JjQyOTQ5NjcyOTU7YT1jKyhiPDw0JjQyOTQ5NjcyOTV8Yj4+PjI4KTtiPWcrKGFeY15lKStkWzRdKzEyNzI4OTMzNTMmNDI5NDk2NzI5NTtnPWErKGI8PDExJjQyOTQ5NjcyOTV8XG5iPj4+MjEpO2I9ZSsoZ15hXmMpK2RbN10rNDEzOTQ2OTY2NCY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTYmNDI5NDk2NzI5NXxiPj4+MTYpO2I9YysoZV5nXmEpK2RbMTBdKzMyMDAyMzY2NTYmNDI5NDk2NzI5NTtjPWUrKGI8PDIzJjQyOTQ5NjcyOTV8Yj4+PjkpO2I9YSsoY15lXmcpK2RbMTNdKzY4MTI3OTE3NCY0Mjk0OTY3Mjk1O2E9YysoYjw8NCY0Mjk0OTY3Mjk1fGI+Pj4yOCk7Yj1nKyhhXmNeZSkrZFswXSszOTM2NDMwMDc0JjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMSY0Mjk0OTY3Mjk1fGI+Pj4yMSk7Yj1lKyhnXmFeYykrZFszXSszNTcyNDQ1MzE3JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNiY0Mjk0OTY3Mjk1fGI+Pj4xNik7Yj1jKyhlXmdeYSkrZFs2XSs3NjAyOTE4OSY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjMmNDI5NDk2NzI5NXxiPj4+OSk7Yj1hKyhjXmVeZykrZFs5XSszNjU0NjAyODA5JjQyOTQ5NjcyOTU7YT1jKyhiPDw0JjQyOTQ5NjcyOTV8Yj4+PjI4KTtiPWcrKGFeY15lKStkWzEyXStcbjM4NzMxNTE0NjEmNDI5NDk2NzI5NTtnPWErKGI8PDExJjQyOTQ5NjcyOTV8Yj4+PjIxKTtiPWUrKGdeYV5jKStkWzE1XSs1MzA3NDI1MjAmNDI5NDk2NzI5NTtlPWcrKGI8PDE2JjQyOTQ5NjcyOTV8Yj4+PjE2KTtiPWMrKGVeZ15hKStkWzJdKzMyOTk2Mjg2NDUmNDI5NDk2NzI5NTtjPWUrKGI8PDIzJjQyOTQ5NjcyOTV8Yj4+PjkpO2I9YSsoZV4oY3x+ZykpK2RbMF0rNDA5NjMzNjQ1MiY0Mjk0OTY3Mjk1O2E9YysoYjw8NiY0Mjk0OTY3Mjk1fGI+Pj4yNik7Yj1nKyhjXihhfH5lKSkrZFs3XSsxMTI2ODkxNDE1JjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMCY0Mjk0OTY3Mjk1fGI+Pj4yMik7Yj1lKyhhXihnfH5jKSkrZFsxNF0rMjg3ODYxMjM5MSY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTUmNDI5NDk2NzI5NXxiPj4+MTcpO2I9YysoZ14oZXx+YSkpK2RbNV0rNDIzNzUzMzI0MSY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjEmNDI5NDk2NzI5NXxiPj4+MTEpO2I9YSsoZV4oY3x+ZykpK2RbMTJdKzE3MDA0ODU1NzEmXG40Mjk0OTY3Mjk1O2E9YysoYjw8NiY0Mjk0OTY3Mjk1fGI+Pj4yNik7Yj1nKyhjXihhfH5lKSkrZFszXSsyMzk5OTgwNjkwJjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMCY0Mjk0OTY3Mjk1fGI+Pj4yMik7Yj1lKyhhXihnfH5jKSkrZFsxMF0rNDI5MzkxNTc3MyY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTUmNDI5NDk2NzI5NXxiPj4+MTcpO2I9YysoZ14oZXx+YSkpK2RbMV0rMjI0MDA0NDQ5NyY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjEmNDI5NDk2NzI5NXxiPj4+MTEpO2I9YSsoZV4oY3x+ZykpK2RbOF0rMTg3MzMxMzM1OSY0Mjk0OTY3Mjk1O2E9YysoYjw8NiY0Mjk0OTY3Mjk1fGI+Pj4yNik7Yj1nKyhjXihhfH5lKSkrZFsxNV0rNDI2NDM1NTU1MiY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTAmNDI5NDk2NzI5NXxiPj4+MjIpO2I9ZSsoYV4oZ3x+YykpK2RbNl0rMjczNDc2ODkxNiY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTUmNDI5NDk2NzI5NXxiPj4+MTcpO2I9YysoZ14oZXx+YSkpK2RbMTNdKzEzMDkxNTE2NDkmXG40Mjk0OTY3Mjk1O2M9ZSsoYjw8MjEmNDI5NDk2NzI5NXxiPj4+MTEpO2I9YSsoZV4oY3x+ZykpK2RbNF0rNDE0OTQ0NDIyNiY0Mjk0OTY3Mjk1O2E9YysoYjw8NiY0Mjk0OTY3Mjk1fGI+Pj4yNik7Yj1nKyhjXihhfH5lKSkrZFsxMV0rMzE3NDc1NjkxNyY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTAmNDI5NDk2NzI5NXxiPj4+MjIpO2I9ZSsoYV4oZ3x+YykpK2RbMl0rNzE4Nzg3MjU5JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNSY0Mjk0OTY3Mjk1fGI+Pj4xNyk7Yj1jKyhnXihlfH5hKSkrZFs5XSszOTUxNDgxNzQ1JjQyOTQ5NjcyOTU7Zi5nWzBdPWYuZ1swXSthJjQyOTQ5NjcyOTU7Zi5nWzFdPWYuZ1sxXSsoZSsoYjw8MjEmNDI5NDk2NzI5NXxiPj4+MTEpKSY0Mjk0OTY3Mjk1O2YuZ1syXT1mLmdbMl0rZSY0Mjk0OTY3Mjk1O2YuZ1szXT1mLmdbM10rZyY0Mjk0OTY3Mjk1fVxubS5wcm90b3R5cGUudT1mdW5jdGlvbihmLGEpe3ZvaWQgMD09PWEmJihhPWYubGVuZ3RoKTtmb3IodmFyIGM9YS10aGlzLmJsb2NrU2l6ZSxkPXRoaXMuQixlPXRoaXMuaCxnPTA7ZzxhOyl7aWYoMD09ZSlmb3IoO2c8PWM7KW4odGhpcyxmLGcpLGcrPXRoaXMuYmxvY2tTaXplO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgZilmb3IoO2c8YTspe2lmKGRbZSsrXT1mLmNoYXJDb2RlQXQoZysrKSxlPT10aGlzLmJsb2NrU2l6ZSl7bih0aGlzLGQpO2U9MDticmVha319ZWxzZSBmb3IoO2c8YTspaWYoZFtlKytdPWZbZysrXSxlPT10aGlzLmJsb2NrU2l6ZSl7bih0aGlzLGQpO2U9MDticmVha319dGhpcy5oPWU7dGhpcy5vKz1hfTtcbm0ucHJvdG90eXBlLnY9ZnVuY3Rpb24oKXt2YXIgZj1BcnJheSgoNTY+dGhpcy5oP3RoaXMuYmxvY2tTaXplOjIqdGhpcy5ibG9ja1NpemUpLXRoaXMuaCk7ZlswXT0xMjg7Zm9yKHZhciBhPTE7YTxmLmxlbmd0aC04OysrYSlmW2FdPTA7dmFyIGM9OCp0aGlzLm87Zm9yKGE9Zi5sZW5ndGgtODthPGYubGVuZ3RoOysrYSlmW2FdPWMmMjU1LGMvPTI1Njt0aGlzLnUoZik7Zj1BcnJheSgxNik7Zm9yKGE9Yz0wOzQ+YTsrK2EpZm9yKHZhciBkPTA7MzI+ZDtkKz04KWZbYysrXT10aGlzLmdbYV0+Pj5kJjI1NTtyZXR1cm4gZn07ZnVuY3Rpb24gcChmLGEpe3ZhciBjPXE7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjLGYpP2NbZl06Y1tmXT1hKGYpfTtmdW5jdGlvbiB0KGYsYSl7dGhpcy5oPWE7Zm9yKHZhciBjPVtdLGQ9ITAsZT1mLmxlbmd0aC0xOzA8PWU7ZS0tKXt2YXIgZz1mW2VdfDA7ZCYmZz09YXx8KGNbZV09ZyxkPSExKX10aGlzLmc9Y312YXIgcT17fTtmdW5jdGlvbiB1KGYpe3JldHVybi0xMjg8PWYmJjEyOD5mP3AoZixmdW5jdGlvbihhKXtyZXR1cm4gbmV3IHQoW2F8MF0sMD5hPy0xOjApfSk6bmV3IHQoW2Z8MF0sMD5mPy0xOjApfWZ1bmN0aW9uIHYoZil7aWYoaXNOYU4oZil8fCFpc0Zpbml0ZShmKSlyZXR1cm4gdztpZigwPmYpcmV0dXJuIHgodigtZikpO2Zvcih2YXIgYT1bXSxjPTEsZD0wO2Y+PWM7ZCsrKWFbZF09Zi9jfDAsYyo9NDI5NDk2NzI5NjtyZXR1cm4gbmV3IHQoYSwwKX1cbmZ1bmN0aW9uIHkoZixhKXtpZigwPT1mLmxlbmd0aCl0aHJvdyBFcnJvcihcIm51bWJlciBmb3JtYXQgZXJyb3I6IGVtcHR5IHN0cmluZ1wiKTthPWF8fDEwO2lmKDI+YXx8MzY8YSl0aHJvdyBFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIrYSk7aWYoXCItXCI9PWYuY2hhckF0KDApKXJldHVybiB4KHkoZi5zdWJzdHJpbmcoMSksYSkpO2lmKDA8PWYuaW5kZXhPZihcIi1cIikpdGhyb3cgRXJyb3IoJ251bWJlciBmb3JtYXQgZXJyb3I6IGludGVyaW9yIFwiLVwiIGNoYXJhY3RlcicpO2Zvcih2YXIgYz12KE1hdGgucG93KGEsOCkpLGQ9dyxlPTA7ZTxmLmxlbmd0aDtlKz04KXt2YXIgZz1NYXRoLm1pbig4LGYubGVuZ3RoLWUpLGI9cGFyc2VJbnQoZi5zdWJzdHJpbmcoZSxlK2cpLGEpOzg+Zz8oZz12KE1hdGgucG93KGEsZykpLGQ9ZC5qKGcpLmFkZCh2KGIpKSk6KGQ9ZC5qKGMpLGQ9ZC5hZGQodihiKSkpfXJldHVybiBkfXZhciB3PXUoMCksej11KDEpLEE9dSgxNjc3NzIxNik7aD10LnByb3RvdHlwZTtcbmgubT1mdW5jdGlvbigpe2lmKEIodGhpcykpcmV0dXJuLXgodGhpcykubSgpO2Zvcih2YXIgZj0wLGE9MSxjPTA7Yzx0aGlzLmcubGVuZ3RoO2MrKyl7dmFyIGQ9dGhpcy5pKGMpO2YrPSgwPD1kP2Q6NDI5NDk2NzI5NitkKSphO2EqPTQyOTQ5NjcyOTZ9cmV0dXJuIGZ9O2gudG9TdHJpbmc9ZnVuY3Rpb24oZil7Zj1mfHwxMDtpZigyPmZ8fDM2PGYpdGhyb3cgRXJyb3IoXCJyYWRpeCBvdXQgb2YgcmFuZ2U6IFwiK2YpO2lmKEModGhpcykpcmV0dXJuXCIwXCI7aWYoQih0aGlzKSlyZXR1cm5cIi1cIit4KHRoaXMpLnRvU3RyaW5nKGYpO2Zvcih2YXIgYT12KE1hdGgucG93KGYsNikpLGM9dGhpcyxkPVwiXCI7Oyl7dmFyIGU9RChjLGEpLmc7Yz1GKGMsZS5qKGEpKTt2YXIgZz0oKDA8Yy5nLmxlbmd0aD9jLmdbMF06Yy5oKT4+PjApLnRvU3RyaW5nKGYpO2M9ZTtpZihDKGMpKXJldHVybiBnK2Q7Zm9yKDs2PmcubGVuZ3RoOylnPVwiMFwiK2c7ZD1nK2R9fTtcbmguaT1mdW5jdGlvbihmKXtyZXR1cm4gMD5mPzA6Zjx0aGlzLmcubGVuZ3RoP3RoaXMuZ1tmXTp0aGlzLmh9O2Z1bmN0aW9uIEMoZil7aWYoMCE9Zi5oKXJldHVybiExO2Zvcih2YXIgYT0wO2E8Zi5nLmxlbmd0aDthKyspaWYoMCE9Zi5nW2FdKXJldHVybiExO3JldHVybiEwfWZ1bmN0aW9uIEIoZil7cmV0dXJuLTE9PWYuaH1oLmw9ZnVuY3Rpb24oZil7Zj1GKHRoaXMsZik7cmV0dXJuIEIoZik/LTE6QyhmKT8wOjF9O2Z1bmN0aW9uIHgoZil7Zm9yKHZhciBhPWYuZy5sZW5ndGgsYz1bXSxkPTA7ZDxhO2QrKyljW2RdPX5mLmdbZF07cmV0dXJuKG5ldyB0KGMsfmYuaCkpLmFkZCh6KX1oLmFicz1mdW5jdGlvbigpe3JldHVybiBCKHRoaXMpP3godGhpcyk6dGhpc307XG5oLmFkZD1mdW5jdGlvbihmKXtmb3IodmFyIGE9TWF0aC5tYXgodGhpcy5nLmxlbmd0aCxmLmcubGVuZ3RoKSxjPVtdLGQ9MCxlPTA7ZTw9YTtlKyspe3ZhciBnPWQrKHRoaXMuaShlKSY2NTUzNSkrKGYuaShlKSY2NTUzNSksYj0oZz4+PjE2KSsodGhpcy5pKGUpPj4+MTYpKyhmLmkoZSk+Pj4xNik7ZD1iPj4+MTY7ZyY9NjU1MzU7YiY9NjU1MzU7Y1tlXT1iPDwxNnxnfXJldHVybiBuZXcgdChjLGNbYy5sZW5ndGgtMV0mLTIxNDc0ODM2NDg/LTE6MCl9O2Z1bmN0aW9uIEYoZixhKXtyZXR1cm4gZi5hZGQoeChhKSl9XG5oLmo9ZnVuY3Rpb24oZil7aWYoQyh0aGlzKXx8QyhmKSlyZXR1cm4gdztpZihCKHRoaXMpKXJldHVybiBCKGYpP3godGhpcykuaih4KGYpKTp4KHgodGhpcykuaihmKSk7aWYoQihmKSlyZXR1cm4geCh0aGlzLmooeChmKSkpO2lmKDA+dGhpcy5sKEEpJiYwPmYubChBKSlyZXR1cm4gdih0aGlzLm0oKSpmLm0oKSk7Zm9yKHZhciBhPXRoaXMuZy5sZW5ndGgrZi5nLmxlbmd0aCxjPVtdLGQ9MDtkPDIqYTtkKyspY1tkXT0wO2ZvcihkPTA7ZDx0aGlzLmcubGVuZ3RoO2QrKylmb3IodmFyIGU9MDtlPGYuZy5sZW5ndGg7ZSsrKXt2YXIgZz10aGlzLmkoZCk+Pj4xNixiPXRoaXMuaShkKSY2NTUzNSxyPWYuaShlKT4+PjE2LEU9Zi5pKGUpJjY1NTM1O2NbMipkKzIqZV0rPWIqRTtHKGMsMipkKzIqZSk7Y1syKmQrMiplKzFdKz1nKkU7RyhjLDIqZCsyKmUrMSk7Y1syKmQrMiplKzFdKz1iKnI7RyhjLDIqZCsyKmUrMSk7Y1syKmQrMiplKzJdKz1nKnI7RyhjLDIqZCsyKmUrMil9Zm9yKGQ9MDtkPFxuYTtkKyspY1tkXT1jWzIqZCsxXTw8MTZ8Y1syKmRdO2ZvcihkPWE7ZDwyKmE7ZCsrKWNbZF09MDtyZXR1cm4gbmV3IHQoYywwKX07ZnVuY3Rpb24gRyhmLGEpe2Zvcig7KGZbYV0mNjU1MzUpIT1mW2FdOylmW2ErMV0rPWZbYV0+Pj4xNixmW2FdJj02NTUzNSxhKyt9ZnVuY3Rpb24gSChmLGEpe3RoaXMuZz1mO3RoaXMuaD1hfVxuZnVuY3Rpb24gRChmLGEpe2lmKEMoYSkpdGhyb3cgRXJyb3IoXCJkaXZpc2lvbiBieSB6ZXJvXCIpO2lmKEMoZikpcmV0dXJuIG5ldyBIKHcsdyk7aWYoQihmKSlyZXR1cm4gYT1EKHgoZiksYSksbmV3IEgoeChhLmcpLHgoYS5oKSk7aWYoQihhKSlyZXR1cm4gYT1EKGYseChhKSksbmV3IEgoeChhLmcpLGEuaCk7aWYoMzA8Zi5nLmxlbmd0aCl7aWYoQihmKXx8QihhKSl0aHJvdyBFcnJvcihcInNsb3dEaXZpZGVfIG9ubHkgd29ya3Mgd2l0aCBwb3NpdGl2ZSBpbnRlZ2Vycy5cIik7Zm9yKHZhciBjPXosZD1hOzA+PWQubChmKTspYz1JKGMpLGQ9SShkKTt2YXIgZT1KKGMsMSksZz1KKGQsMSk7ZD1KKGQsMik7Zm9yKGM9SihjLDIpOyFDKGQpOyl7dmFyIGI9Zy5hZGQoZCk7MD49Yi5sKGYpJiYoZT1lLmFkZChjKSxnPWIpO2Q9SihkLDEpO2M9SihjLDEpfWE9RihmLGUuaihhKSk7cmV0dXJuIG5ldyBIKGUsYSl9Zm9yKGU9dzswPD1mLmwoYSk7KXtjPU1hdGgubWF4KDEsTWF0aC5mbG9vcihmLm0oKS9cbmEubSgpKSk7ZD1NYXRoLmNlaWwoTWF0aC5sb2coYykvTWF0aC5MTjIpO2Q9NDg+PWQ/MTpNYXRoLnBvdygyLGQtNDgpO2c9dihjKTtmb3IoYj1nLmooYSk7QihiKXx8MDxiLmwoZik7KWMtPWQsZz12KGMpLGI9Zy5qKGEpO0MoZykmJihnPXopO2U9ZS5hZGQoZyk7Zj1GKGYsYil9cmV0dXJuIG5ldyBIKGUsZil9aC5BPWZ1bmN0aW9uKGYpe3JldHVybiBEKHRoaXMsZikuaH07aC5hbmQ9ZnVuY3Rpb24oZil7Zm9yKHZhciBhPU1hdGgubWF4KHRoaXMuZy5sZW5ndGgsZi5nLmxlbmd0aCksYz1bXSxkPTA7ZDxhO2QrKyljW2RdPXRoaXMuaShkKSZmLmkoZCk7cmV0dXJuIG5ldyB0KGMsdGhpcy5oJmYuaCl9O2gub3I9ZnVuY3Rpb24oZil7Zm9yKHZhciBhPU1hdGgubWF4KHRoaXMuZy5sZW5ndGgsZi5nLmxlbmd0aCksYz1bXSxkPTA7ZDxhO2QrKyljW2RdPXRoaXMuaShkKXxmLmkoZCk7cmV0dXJuIG5ldyB0KGMsdGhpcy5ofGYuaCl9O1xuaC54b3I9ZnVuY3Rpb24oZil7Zm9yKHZhciBhPU1hdGgubWF4KHRoaXMuZy5sZW5ndGgsZi5nLmxlbmd0aCksYz1bXSxkPTA7ZDxhO2QrKyljW2RdPXRoaXMuaShkKV5mLmkoZCk7cmV0dXJuIG5ldyB0KGMsdGhpcy5oXmYuaCl9O2Z1bmN0aW9uIEkoZil7Zm9yKHZhciBhPWYuZy5sZW5ndGgrMSxjPVtdLGQ9MDtkPGE7ZCsrKWNbZF09Zi5pKGQpPDwxfGYuaShkLTEpPj4+MzE7cmV0dXJuIG5ldyB0KGMsZi5oKX1mdW5jdGlvbiBKKGYsYSl7dmFyIGM9YT4+NTthJT0zMjtmb3IodmFyIGQ9Zi5nLmxlbmd0aC1jLGU9W10sZz0wO2c8ZDtnKyspZVtnXT0wPGE/Zi5pKGcrYyk+Pj5hfGYuaShnK2MrMSk8PDMyLWE6Zi5pKGcrYyk7cmV0dXJuIG5ldyB0KGUsZi5oKX07bS5wcm90b3R5cGUuZGlnZXN0PW0ucHJvdG90eXBlLnY7bS5wcm90b3R5cGUucmVzZXQ9bS5wcm90b3R5cGUuczttLnByb3RvdHlwZS51cGRhdGU9bS5wcm90b3R5cGUudTttb2R1bGUuZXhwb3J0cy5NZDU9bTt0LnByb3RvdHlwZS5hZGQ9dC5wcm90b3R5cGUuYWRkO3QucHJvdG90eXBlLm11bHRpcGx5PXQucHJvdG90eXBlLmo7dC5wcm90b3R5cGUubW9kdWxvPXQucHJvdG90eXBlLkE7dC5wcm90b3R5cGUuY29tcGFyZT10LnByb3RvdHlwZS5sO3QucHJvdG90eXBlLnRvTnVtYmVyPXQucHJvdG90eXBlLm07dC5wcm90b3R5cGUudG9TdHJpbmc9dC5wcm90b3R5cGUudG9TdHJpbmc7dC5wcm90b3R5cGUuZ2V0Qml0cz10LnByb3RvdHlwZS5pO3QuZnJvbU51bWJlcj12O3QuZnJvbVN0cmluZz15O21vZHVsZS5leHBvcnRzLkludGVnZXI9dDt9KS5hcHBseSggdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93ICA6IHt9KTtcbiIsIi8qKiBAbGljZW5zZVxuQ29weXJpZ2h0IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy5cblNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuKGZ1bmN0aW9uKCkgeyd1c2Ugc3RyaWN0Jzt2YXIgaCxhYT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oYSxiLGMpe2lmKGE9PUFycmF5LnByb3RvdHlwZXx8YT09T2JqZWN0LnByb3RvdHlwZSlyZXR1cm4gYTthW2JdPWMudmFsdWU7cmV0dXJuIGF9O2Z1bmN0aW9uIGJhKGEpe2E9W1wib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzLGEsXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyYmd2luZG93LFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmLFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWwmJmdsb2JhbF07Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2Ipe3ZhciBjPWFbYl07aWYoYyYmYy5NYXRoPT1NYXRoKXJldHVybiBjfXRocm93IEVycm9yKFwiQ2Fubm90IGZpbmQgZ2xvYmFsIG9iamVjdFwiKTt9dmFyIGNhPWJhKHRoaXMpO1xuZnVuY3Rpb24gZGEoYSxiKXtpZihiKWE6e3ZhciBjPWNhO2E9YS5zcGxpdChcIi5cIik7Zm9yKHZhciBkPTA7ZDxhLmxlbmd0aC0xO2QrKyl7dmFyIGU9YVtkXTtpZighKGUgaW4gYykpYnJlYWsgYTtjPWNbZV19YT1hW2EubGVuZ3RoLTFdO2Q9Y1thXTtiPWIoZCk7YiE9ZCYmbnVsbCE9YiYmYWEoYyxhLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Yn0pfX1mdW5jdGlvbiBlYShhLGIpe2EgaW5zdGFuY2VvZiBTdHJpbmcmJihhKz1cIlwiKTt2YXIgYz0wLGQ9ITEsZT17bmV4dDpmdW5jdGlvbigpe2lmKCFkJiZjPGEubGVuZ3RoKXt2YXIgZj1jKys7cmV0dXJue3ZhbHVlOmIoZixhW2ZdKSxkb25lOiExfX1kPSEwO3JldHVybntkb25lOiEwLHZhbHVlOnZvaWQgMH19fTtlW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gZX07cmV0dXJuIGV9XG5kYShcIkFycmF5LnByb3RvdHlwZS52YWx1ZXNcIixmdW5jdGlvbihhKXtyZXR1cm4gYT9hOmZ1bmN0aW9uKCl7cmV0dXJuIGVhKHRoaXMsZnVuY3Rpb24oYixjKXtyZXR1cm4gY30pfX0pOy8qKiBAbGljZW5zZVxuXG4gQ29weXJpZ2h0IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy5cbiBTUERYLUxpY2Vuc2UtSWRlbnRpZmllcjogQXBhY2hlLTIuMFxuKi9cbnZhciBmYT1mYXx8e30saz10aGlzfHxzZWxmO2Z1bmN0aW9uIGhhKGEpe3ZhciBiPXR5cGVvZiBhO2I9XCJvYmplY3RcIiE9Yj9iOmE/QXJyYXkuaXNBcnJheShhKT9cImFycmF5XCI6YjpcIm51bGxcIjtyZXR1cm5cImFycmF5XCI9PWJ8fFwib2JqZWN0XCI9PWImJlwibnVtYmVyXCI9PXR5cGVvZiBhLmxlbmd0aH1mdW5jdGlvbiBuKGEpe3ZhciBiPXR5cGVvZiBhO3JldHVyblwib2JqZWN0XCI9PWImJm51bGwhPWF8fFwiZnVuY3Rpb25cIj09Yn1mdW5jdGlvbiBpYShhLGIsYyl7cmV0dXJuIGEuY2FsbC5hcHBseShhLmJpbmQsYXJndW1lbnRzKX1cbmZ1bmN0aW9uIGphKGEsYixjKXtpZighYSl0aHJvdyBFcnJvcigpO2lmKDI8YXJndW1lbnRzLmxlbmd0aCl7dmFyIGQ9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpO3JldHVybiBmdW5jdGlvbigpe3ZhciBlPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cyk7QXJyYXkucHJvdG90eXBlLnVuc2hpZnQuYXBwbHkoZSxkKTtyZXR1cm4gYS5hcHBseShiLGUpfX1yZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYS5hcHBseShiLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHAoYSxiLGMpe3A9RnVuY3Rpb24ucHJvdG90eXBlLmJpbmQmJi0xIT1GdW5jdGlvbi5wcm90b3R5cGUuYmluZC50b1N0cmluZygpLmluZGV4T2YoXCJuYXRpdmUgY29kZVwiKT9pYTpqYTtyZXR1cm4gcC5hcHBseShudWxsLGFyZ3VtZW50cyl9XG5mdW5jdGlvbiBrYShhLGIpe3ZhciBjPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtyZXR1cm4gZnVuY3Rpb24oKXt2YXIgZD1jLnNsaWNlKCk7ZC5wdXNoLmFwcGx5KGQsYXJndW1lbnRzKTtyZXR1cm4gYS5hcHBseSh0aGlzLGQpfX1mdW5jdGlvbiByKGEsYil7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1iLnByb3RvdHlwZTthLmFhPWIucHJvdG90eXBlO2EucHJvdG90eXBlPW5ldyBjO2EucHJvdG90eXBlLmNvbnN0cnVjdG9yPWE7YS5RYj1mdW5jdGlvbihkLGUsZil7Zm9yKHZhciBnPUFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMiksbT0yO208YXJndW1lbnRzLmxlbmd0aDttKyspZ1ttLTJdPWFyZ3VtZW50c1ttXTtyZXR1cm4gYi5wcm90b3R5cGVbZV0uYXBwbHkoZCxnKX19O2Z1bmN0aW9uIGxhKGEpe2NvbnN0IGI9YS5sZW5ndGg7aWYoMDxiKXtjb25zdCBjPUFycmF5KGIpO2ZvcihsZXQgZD0wO2Q8YjtkKyspY1tkXT1hW2RdO3JldHVybiBjfXJldHVybltdfWZ1bmN0aW9uIG1hKGEsYil7Zm9yKGxldCBjPTE7Yzxhcmd1bWVudHMubGVuZ3RoO2MrKyl7Y29uc3QgZD1hcmd1bWVudHNbY107aWYoaGEoZCkpe2NvbnN0IGU9YS5sZW5ndGh8fDAsZj1kLmxlbmd0aHx8MDthLmxlbmd0aD1lK2Y7Zm9yKGxldCBnPTA7ZzxmO2crKylhW2UrZ109ZFtnXX1lbHNlIGEucHVzaChkKX19O2NsYXNzIG5he2NvbnN0cnVjdG9yKGEsYil7dGhpcy5pPWE7dGhpcy5qPWI7dGhpcy5oPTA7dGhpcy5nPW51bGx9Z2V0KCl7bGV0IGE7MDx0aGlzLmg/KHRoaXMuaC0tLGE9dGhpcy5nLHRoaXMuZz1hLm5leHQsYS5uZXh0PW51bGwpOmE9dGhpcy5pKCk7cmV0dXJuIGF9fTtmdW5jdGlvbiB0KGEpe3JldHVybi9eW1xcc1xceGEwXSokLy50ZXN0KGEpfTtmdW5jdGlvbiB1KCl7dmFyIGE9ay5uYXZpZ2F0b3I7cmV0dXJuIGEmJihhPWEudXNlckFnZW50KT9hOlwiXCJ9O2Z1bmN0aW9uIG9hKGEpe29hW1wiIFwiXShhKTtyZXR1cm4gYX1vYVtcIiBcIl09ZnVuY3Rpb24oKXt9O3ZhciBwYT0tMSE9dSgpLmluZGV4T2YoXCJHZWNrb1wiKSYmISgtMSE9dSgpLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIndlYmtpdFwiKSYmLTE9PXUoKS5pbmRleE9mKFwiRWRnZVwiKSkmJiEoLTEhPXUoKS5pbmRleE9mKFwiVHJpZGVudFwiKXx8LTEhPXUoKS5pbmRleE9mKFwiTVNJRVwiKSkmJi0xPT11KCkuaW5kZXhPZihcIkVkZ2VcIik7ZnVuY3Rpb24gcWEoYSxiLGMpe2Zvcihjb25zdCBkIGluIGEpYi5jYWxsKGMsYVtkXSxkLGEpfWZ1bmN0aW9uIHJhKGEsYil7Zm9yKGNvbnN0IGMgaW4gYSliLmNhbGwodm9pZCAwLGFbY10sYyxhKX1mdW5jdGlvbiBzYShhKXtjb25zdCBiPXt9O2Zvcihjb25zdCBjIGluIGEpYltjXT1hW2NdO3JldHVybiBifWNvbnN0IHRhPVwiY29uc3RydWN0b3IgaGFzT3duUHJvcGVydHkgaXNQcm90b3R5cGVPZiBwcm9wZXJ0eUlzRW51bWVyYWJsZSB0b0xvY2FsZVN0cmluZyB0b1N0cmluZyB2YWx1ZU9mXCIuc3BsaXQoXCIgXCIpO2Z1bmN0aW9uIHVhKGEsYil7bGV0IGMsZDtmb3IobGV0IGU9MTtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKXtkPWFyZ3VtZW50c1tlXTtmb3IoYyBpbiBkKWFbY109ZFtjXTtmb3IobGV0IGY9MDtmPHRhLmxlbmd0aDtmKyspYz10YVtmXSxPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZCxjKSYmKGFbY109ZFtjXSl9fTtmdW5jdGlvbiB2YShhKXt2YXIgYj0xO2E9YS5zcGxpdChcIjpcIik7Y29uc3QgYz1bXTtmb3IoOzA8YiYmYS5sZW5ndGg7KWMucHVzaChhLnNoaWZ0KCkpLGItLTthLmxlbmd0aCYmYy5wdXNoKGEuam9pbihcIjpcIikpO3JldHVybiBjfTtmdW5jdGlvbiB3YShhKXtrLnNldFRpbWVvdXQoKCk9Pnt0aHJvdyBhO30sMCl9O2Z1bmN0aW9uIHhhKCl7dmFyIGE9emE7bGV0IGI9bnVsbDthLmcmJihiPWEuZyxhLmc9YS5nLm5leHQsYS5nfHwoYS5oPW51bGwpLGIubmV4dD1udWxsKTtyZXR1cm4gYn1jbGFzcyBBYXtjb25zdHJ1Y3Rvcigpe3RoaXMuaD10aGlzLmc9bnVsbH1hZGQoYSxiKXtjb25zdCBjPUJhLmdldCgpO2Muc2V0KGEsYik7dGhpcy5oP3RoaXMuaC5uZXh0PWM6dGhpcy5nPWM7dGhpcy5oPWN9fXZhciBCYT1uZXcgbmEoKCk9Pm5ldyBDYSxhPT5hLnJlc2V0KCkpO2NsYXNzIENhe2NvbnN0cnVjdG9yKCl7dGhpcy5uZXh0PXRoaXMuZz10aGlzLmg9bnVsbH1zZXQoYSxiKXt0aGlzLmg9YTt0aGlzLmc9Yjt0aGlzLm5leHQ9bnVsbH1yZXNldCgpe3RoaXMubmV4dD10aGlzLmc9dGhpcy5oPW51bGx9fTtsZXQgeCx5PSExLHphPW5ldyBBYSxFYT0oKT0+e2NvbnN0IGE9ay5Qcm9taXNlLnJlc29sdmUodm9pZCAwKTt4PSgpPT57YS50aGVuKERhKX19O3ZhciBEYT0oKT0+e2Zvcih2YXIgYTthPXhhKCk7KXt0cnl7YS5oLmNhbGwoYS5nKX1jYXRjaChjKXt3YShjKX12YXIgYj1CYTtiLmooYSk7MTAwPmIuaCYmKGIuaCsrLGEubmV4dD1iLmcsYi5nPWEpfXk9ITF9O2Z1bmN0aW9uIHooKXt0aGlzLnM9dGhpcy5zO3RoaXMuQz10aGlzLkN9ei5wcm90b3R5cGUucz0hMTt6LnByb3RvdHlwZS5tYT1mdW5jdGlvbigpe3RoaXMuc3x8KHRoaXMucz0hMCx0aGlzLk4oKSl9O3oucHJvdG90eXBlLk49ZnVuY3Rpb24oKXtpZih0aGlzLkMpZm9yKDt0aGlzLkMubGVuZ3RoOyl0aGlzLkMuc2hpZnQoKSgpfTtmdW5jdGlvbiBBKGEsYil7dGhpcy50eXBlPWE7dGhpcy5nPXRoaXMudGFyZ2V0PWI7dGhpcy5kZWZhdWx0UHJldmVudGVkPSExfUEucHJvdG90eXBlLmg9ZnVuY3Rpb24oKXt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITB9O3ZhciBGYT1mdW5jdGlvbigpe2lmKCFrLmFkZEV2ZW50TGlzdGVuZXJ8fCFPYmplY3QuZGVmaW5lUHJvcGVydHkpcmV0dXJuITE7dmFyIGE9ITEsYj1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sXCJwYXNzaXZlXCIse2dldDpmdW5jdGlvbigpe2E9ITB9fSk7dHJ5e2NvbnN0IGM9KCk9Pnt9O2suYWRkRXZlbnRMaXN0ZW5lcihcInRlc3RcIixjLGIpO2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRlc3RcIixjLGIpfWNhdGNoKGMpe31yZXR1cm4gYX0oKTtmdW5jdGlvbiBDKGEsYil7QS5jYWxsKHRoaXMsYT9hLnR5cGU6XCJcIik7dGhpcy5yZWxhdGVkVGFyZ2V0PXRoaXMuZz10aGlzLnRhcmdldD1udWxsO3RoaXMuYnV0dG9uPXRoaXMuc2NyZWVuWT10aGlzLnNjcmVlblg9dGhpcy5jbGllbnRZPXRoaXMuY2xpZW50WD0wO3RoaXMua2V5PVwiXCI7dGhpcy5tZXRhS2V5PXRoaXMuc2hpZnRLZXk9dGhpcy5hbHRLZXk9dGhpcy5jdHJsS2V5PSExO3RoaXMuc3RhdGU9bnVsbDt0aGlzLnBvaW50ZXJJZD0wO3RoaXMucG9pbnRlclR5cGU9XCJcIjt0aGlzLmk9bnVsbDtpZihhKXt2YXIgYz10aGlzLnR5cGU9YS50eXBlLGQ9YS5jaGFuZ2VkVG91Y2hlcyYmYS5jaGFuZ2VkVG91Y2hlcy5sZW5ndGg/YS5jaGFuZ2VkVG91Y2hlc1swXTpudWxsO3RoaXMudGFyZ2V0PWEudGFyZ2V0fHxhLnNyY0VsZW1lbnQ7dGhpcy5nPWI7aWYoYj1hLnJlbGF0ZWRUYXJnZXQpe2lmKHBhKXthOnt0cnl7b2EoYi5ub2RlTmFtZSk7dmFyIGU9ITA7YnJlYWsgYX1jYXRjaChmKXt9ZT1cbiExfWV8fChiPW51bGwpfX1lbHNlXCJtb3VzZW92ZXJcIj09Yz9iPWEuZnJvbUVsZW1lbnQ6XCJtb3VzZW91dFwiPT1jJiYoYj1hLnRvRWxlbWVudCk7dGhpcy5yZWxhdGVkVGFyZ2V0PWI7ZD8odGhpcy5jbGllbnRYPXZvaWQgMCE9PWQuY2xpZW50WD9kLmNsaWVudFg6ZC5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09ZC5jbGllbnRZP2QuY2xpZW50WTpkLnBhZ2VZLHRoaXMuc2NyZWVuWD1kLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPWQuc2NyZWVuWXx8MCk6KHRoaXMuY2xpZW50WD12b2lkIDAhPT1hLmNsaWVudFg/YS5jbGllbnRYOmEucGFnZVgsdGhpcy5jbGllbnRZPXZvaWQgMCE9PWEuY2xpZW50WT9hLmNsaWVudFk6YS5wYWdlWSx0aGlzLnNjcmVlblg9YS5zY3JlZW5YfHwwLHRoaXMuc2NyZWVuWT1hLnNjcmVlbll8fDApO3RoaXMuYnV0dG9uPWEuYnV0dG9uO3RoaXMua2V5PWEua2V5fHxcIlwiO3RoaXMuY3RybEtleT1hLmN0cmxLZXk7dGhpcy5hbHRLZXk9YS5hbHRLZXk7dGhpcy5zaGlmdEtleT1cbmEuc2hpZnRLZXk7dGhpcy5tZXRhS2V5PWEubWV0YUtleTt0aGlzLnBvaW50ZXJJZD1hLnBvaW50ZXJJZHx8MDt0aGlzLnBvaW50ZXJUeXBlPVwic3RyaW5nXCI9PT10eXBlb2YgYS5wb2ludGVyVHlwZT9hLnBvaW50ZXJUeXBlOkdhW2EucG9pbnRlclR5cGVdfHxcIlwiO3RoaXMuc3RhdGU9YS5zdGF0ZTt0aGlzLmk9YTthLmRlZmF1bHRQcmV2ZW50ZWQmJkMuYWEuaC5jYWxsKHRoaXMpfX1yKEMsQSk7dmFyIEdhPXsyOlwidG91Y2hcIiwzOlwicGVuXCIsNDpcIm1vdXNlXCJ9O0MucHJvdG90eXBlLmg9ZnVuY3Rpb24oKXtDLmFhLmguY2FsbCh0aGlzKTt2YXIgYT10aGlzLmk7YS5wcmV2ZW50RGVmYXVsdD9hLnByZXZlbnREZWZhdWx0KCk6YS5yZXR1cm5WYWx1ZT0hMX07dmFyIEQ9XCJjbG9zdXJlX2xpc3RlbmFibGVfXCIrKDFFNipNYXRoLnJhbmRvbSgpfDApO3ZhciBIYT0wO2Z1bmN0aW9uIElhKGEsYixjLGQsZSl7dGhpcy5saXN0ZW5lcj1hO3RoaXMucHJveHk9bnVsbDt0aGlzLnNyYz1iO3RoaXMudHlwZT1jO3RoaXMuY2FwdHVyZT0hIWQ7dGhpcy5oYT1lO3RoaXMua2V5PSsrSGE7dGhpcy5kYT10aGlzLmZhPSExfWZ1bmN0aW9uIEphKGEpe2EuZGE9ITA7YS5saXN0ZW5lcj1udWxsO2EucHJveHk9bnVsbDthLnNyYz1udWxsO2EuaGE9bnVsbH07ZnVuY3Rpb24gS2EoYSl7dGhpcy5zcmM9YTt0aGlzLmc9e307dGhpcy5oPTB9S2EucHJvdG90eXBlLmFkZD1mdW5jdGlvbihhLGIsYyxkLGUpe3ZhciBmPWEudG9TdHJpbmcoKTthPXRoaXMuZ1tmXTthfHwoYT10aGlzLmdbZl09W10sdGhpcy5oKyspO3ZhciBnPUxhKGEsYixkLGUpOy0xPGc/KGI9YVtnXSxjfHwoYi5mYT0hMSkpOihiPW5ldyBJYShiLHRoaXMuc3JjLGYsISFkLGUpLGIuZmE9YyxhLnB1c2goYikpO3JldHVybiBifTtmdW5jdGlvbiBNYShhLGIpe3ZhciBjPWIudHlwZTtpZihjIGluIGEuZyl7dmFyIGQ9YS5nW2NdLGU9QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChkLGIsdm9pZCAwKSxmOyhmPTA8PWUpJiZBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoZCxlLDEpO2YmJihKYShiKSwwPT1hLmdbY10ubGVuZ3RoJiYoZGVsZXRlIGEuZ1tjXSxhLmgtLSkpfX1cbmZ1bmN0aW9uIExhKGEsYixjLGQpe2Zvcih2YXIgZT0wO2U8YS5sZW5ndGg7KytlKXt2YXIgZj1hW2VdO2lmKCFmLmRhJiZmLmxpc3RlbmVyPT1iJiZmLmNhcHR1cmU9PSEhYyYmZi5oYT09ZClyZXR1cm4gZX1yZXR1cm4tMX07dmFyIE5hPVwiY2xvc3VyZV9sbV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCksT2E9e30sUGE9MDtmdW5jdGlvbiBRYShhLGIsYyxkLGUpe2lmKGQmJmQub25jZSlyZXR1cm4gUmEoYSxiLGMsZCxlKTtpZihBcnJheS5pc0FycmF5KGIpKXtmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylRYShhLGJbZl0sYyxkLGUpO3JldHVybiBudWxsfWM9U2EoYyk7cmV0dXJuIGEmJmFbRF0/YS5LKGIsYyxuKGQpPyEhZC5jYXB0dXJlOiEhZCxlKTpUYShhLGIsYywhMSxkLGUpfVxuZnVuY3Rpb24gVGEoYSxiLGMsZCxlLGYpe2lmKCFiKXRocm93IEVycm9yKFwiSW52YWxpZCBldmVudCB0eXBlXCIpO3ZhciBnPW4oZSk/ISFlLmNhcHR1cmU6ISFlLG09VWEoYSk7bXx8KGFbTmFdPW09bmV3IEthKGEpKTtjPW0uYWRkKGIsYyxkLGcsZik7aWYoYy5wcm94eSlyZXR1cm4gYztkPVZhKCk7Yy5wcm94eT1kO2Quc3JjPWE7ZC5saXN0ZW5lcj1jO2lmKGEuYWRkRXZlbnRMaXN0ZW5lcilGYXx8KGU9Zyksdm9pZCAwPT09ZSYmKGU9ITEpLGEuYWRkRXZlbnRMaXN0ZW5lcihiLnRvU3RyaW5nKCksZCxlKTtlbHNlIGlmKGEuYXR0YWNoRXZlbnQpYS5hdHRhY2hFdmVudChXYShiLnRvU3RyaW5nKCkpLGQpO2Vsc2UgaWYoYS5hZGRMaXN0ZW5lciYmYS5yZW1vdmVMaXN0ZW5lcilhLmFkZExpc3RlbmVyKGQpO2Vsc2UgdGhyb3cgRXJyb3IoXCJhZGRFdmVudExpc3RlbmVyIGFuZCBhdHRhY2hFdmVudCBhcmUgdW5hdmFpbGFibGUuXCIpO1BhKys7cmV0dXJuIGN9XG5mdW5jdGlvbiBWYSgpe2Z1bmN0aW9uIGEoYyl7cmV0dXJuIGIuY2FsbChhLnNyYyxhLmxpc3RlbmVyLGMpfWNvbnN0IGI9WGE7cmV0dXJuIGF9ZnVuY3Rpb24gUmEoYSxiLGMsZCxlKXtpZihBcnJheS5pc0FycmF5KGIpKXtmb3IodmFyIGY9MDtmPGIubGVuZ3RoO2YrKylSYShhLGJbZl0sYyxkLGUpO3JldHVybiBudWxsfWM9U2EoYyk7cmV0dXJuIGEmJmFbRF0/YS5MKGIsYyxuKGQpPyEhZC5jYXB0dXJlOiEhZCxlKTpUYShhLGIsYywhMCxkLGUpfVxuZnVuY3Rpb24gWWEoYSxiLGMsZCxlKXtpZihBcnJheS5pc0FycmF5KGIpKWZvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKVlhKGEsYltmXSxjLGQsZSk7ZWxzZShkPW4oZCk/ISFkLmNhcHR1cmU6ISFkLGM9U2EoYyksYSYmYVtEXSk/KGE9YS5pLGI9U3RyaW5nKGIpLnRvU3RyaW5nKCksYiBpbiBhLmcmJihmPWEuZ1tiXSxjPUxhKGYsYyxkLGUpLC0xPGMmJihKYShmW2NdKSxBcnJheS5wcm90b3R5cGUuc3BsaWNlLmNhbGwoZixjLDEpLDA9PWYubGVuZ3RoJiYoZGVsZXRlIGEuZ1tiXSxhLmgtLSkpKSk6YSYmKGE9VWEoYSkpJiYoYj1hLmdbYi50b1N0cmluZygpXSxhPS0xLGImJihhPUxhKGIsYyxkLGUpKSwoYz0tMTxhP2JbYV06bnVsbCkmJlphKGMpKX1cbmZ1bmN0aW9uIFphKGEpe2lmKFwibnVtYmVyXCIhPT10eXBlb2YgYSYmYSYmIWEuZGEpe3ZhciBiPWEuc3JjO2lmKGImJmJbRF0pTWEoYi5pLGEpO2Vsc2V7dmFyIGM9YS50eXBlLGQ9YS5wcm94eTtiLnJlbW92ZUV2ZW50TGlzdGVuZXI/Yi5yZW1vdmVFdmVudExpc3RlbmVyKGMsZCxhLmNhcHR1cmUpOmIuZGV0YWNoRXZlbnQ/Yi5kZXRhY2hFdmVudChXYShjKSxkKTpiLmFkZExpc3RlbmVyJiZiLnJlbW92ZUxpc3RlbmVyJiZiLnJlbW92ZUxpc3RlbmVyKGQpO1BhLS07KGM9VWEoYikpPyhNYShjLGEpLDA9PWMuaCYmKGMuc3JjPW51bGwsYltOYV09bnVsbCkpOkphKGEpfX19ZnVuY3Rpb24gV2EoYSl7cmV0dXJuIGEgaW4gT2E/T2FbYV06T2FbYV09XCJvblwiK2F9ZnVuY3Rpb24gWGEoYSxiKXtpZihhLmRhKWE9ITA7ZWxzZXtiPW5ldyBDKGIsdGhpcyk7dmFyIGM9YS5saXN0ZW5lcixkPWEuaGF8fGEuc3JjO2EuZmEmJlphKGEpO2E9Yy5jYWxsKGQsYil9cmV0dXJuIGF9XG5mdW5jdGlvbiBVYShhKXthPWFbTmFdO3JldHVybiBhIGluc3RhbmNlb2YgS2E/YTpudWxsfXZhciAkYT1cIl9fY2xvc3VyZV9ldmVudHNfZm5fXCIrKDFFOSpNYXRoLnJhbmRvbSgpPj4+MCk7ZnVuY3Rpb24gU2EoYSl7aWYoXCJmdW5jdGlvblwiPT09dHlwZW9mIGEpcmV0dXJuIGE7YVskYV18fChhWyRhXT1mdW5jdGlvbihiKXtyZXR1cm4gYS5oYW5kbGVFdmVudChiKX0pO3JldHVybiBhWyRhXX07ZnVuY3Rpb24gRSgpe3ouY2FsbCh0aGlzKTt0aGlzLmk9bmV3IEthKHRoaXMpO3RoaXMuTT10aGlzO3RoaXMuRj1udWxsfXIoRSx6KTtFLnByb3RvdHlwZVtEXT0hMDtFLnByb3RvdHlwZS5yZW1vdmVFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYixjLGQpe1lhKHRoaXMsYSxiLGMsZCl9O1xuZnVuY3Rpb24gRihhLGIpe3ZhciBjLGQ9YS5GO2lmKGQpZm9yKGM9W107ZDtkPWQuRiljLnB1c2goZCk7YT1hLk07ZD1iLnR5cGV8fGI7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBiKWI9bmV3IEEoYixhKTtlbHNlIGlmKGIgaW5zdGFuY2VvZiBBKWIudGFyZ2V0PWIudGFyZ2V0fHxhO2Vsc2V7dmFyIGU9YjtiPW5ldyBBKGQsYSk7dWEoYixlKX1lPSEwO2lmKGMpZm9yKHZhciBmPWMubGVuZ3RoLTE7MDw9ZjtmLS0pe3ZhciBnPWIuZz1jW2ZdO2U9YWIoZyxkLCEwLGIpJiZlfWc9Yi5nPWE7ZT1hYihnLGQsITAsYikmJmU7ZT1hYihnLGQsITEsYikmJmU7aWYoYylmb3IoZj0wO2Y8Yy5sZW5ndGg7ZisrKWc9Yi5nPWNbZl0sZT1hYihnLGQsITEsYikmJmV9XG5FLnByb3RvdHlwZS5OPWZ1bmN0aW9uKCl7RS5hYS5OLmNhbGwodGhpcyk7aWYodGhpcy5pKXt2YXIgYT10aGlzLmksYj0wLGM7Zm9yKGMgaW4gYS5nKXtmb3IodmFyIGQ9YS5nW2NdLGU9MDtlPGQubGVuZ3RoO2UrKykrK2IsSmEoZFtlXSk7ZGVsZXRlIGEuZ1tjXTthLmgtLX19dGhpcy5GPW51bGx9O0UucHJvdG90eXBlLks9ZnVuY3Rpb24oYSxiLGMsZCl7cmV0dXJuIHRoaXMuaS5hZGQoU3RyaW5nKGEpLGIsITEsYyxkKX07RS5wcm90b3R5cGUuTD1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5pLmFkZChTdHJpbmcoYSksYiwhMCxjLGQpfTtcbmZ1bmN0aW9uIGFiKGEsYixjLGQpe2I9YS5pLmdbU3RyaW5nKGIpXTtpZighYilyZXR1cm4hMDtiPWIuY29uY2F0KCk7Zm9yKHZhciBlPSEwLGY9MDtmPGIubGVuZ3RoOysrZil7dmFyIGc9YltmXTtpZihnJiYhZy5kYSYmZy5jYXB0dXJlPT1jKXt2YXIgbT1nLmxpc3RlbmVyLHE9Zy5oYXx8Zy5zcmM7Zy5mYSYmTWEoYS5pLGcpO2U9ITEhPT1tLmNhbGwocSxkKSYmZX19cmV0dXJuIGUmJiFkLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIGJiKGEsYixjKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSljJiYoYT1wKGEsYykpO2Vsc2UgaWYoYSYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5oYW5kbGVFdmVudClhPXAoYS5oYW5kbGVFdmVudCxhKTtlbHNlIHRocm93IEVycm9yKFwiSW52YWxpZCBsaXN0ZW5lciBhcmd1bWVudFwiKTtyZXR1cm4gMjE0NzQ4MzY0NzxOdW1iZXIoYik/LTE6ay5zZXRUaW1lb3V0KGEsYnx8MCl9O2Z1bmN0aW9uIGNiKGEpe2EuZz1iYigoKT0+e2EuZz1udWxsO2EuaSYmKGEuaT0hMSxjYihhKSl9LGEubCk7Y29uc3QgYj1hLmg7YS5oPW51bGw7YS5tLmFwcGx5KG51bGwsYil9Y2xhc3MgZWIgZXh0ZW5kcyB6e2NvbnN0cnVjdG9yKGEsYil7c3VwZXIoKTt0aGlzLm09YTt0aGlzLmw9Yjt0aGlzLmg9bnVsbDt0aGlzLmk9ITE7dGhpcy5nPW51bGx9aihhKXt0aGlzLmg9YXJndW1lbnRzO3RoaXMuZz90aGlzLmk9ITA6Y2IodGhpcyl9Tigpe3N1cGVyLk4oKTt0aGlzLmcmJihrLmNsZWFyVGltZW91dCh0aGlzLmcpLHRoaXMuZz1udWxsLHRoaXMuaT0hMSx0aGlzLmg9bnVsbCl9fTtmdW5jdGlvbiBHKGEpe3ouY2FsbCh0aGlzKTt0aGlzLmg9YTt0aGlzLmc9e319cihHLHopO3ZhciBmYj1bXTtmdW5jdGlvbiBnYihhKXtxYShhLmcsZnVuY3Rpb24oYixjKXt0aGlzLmcuaGFzT3duUHJvcGVydHkoYykmJlphKGIpfSxhKTthLmc9e319Ry5wcm90b3R5cGUuTj1mdW5jdGlvbigpe0cuYWEuTi5jYWxsKHRoaXMpO2diKHRoaXMpfTtHLnByb3RvdHlwZS5oYW5kbGVFdmVudD1mdW5jdGlvbigpe3Rocm93IEVycm9yKFwiRXZlbnRIYW5kbGVyLmhhbmRsZUV2ZW50IG5vdCBpbXBsZW1lbnRlZFwiKTt9O3ZhciBoYj1rLkpTT04uc3RyaW5naWZ5O3ZhciBpYj1rLkpTT04ucGFyc2U7dmFyIGpiPWNsYXNze3N0cmluZ2lmeShhKXtyZXR1cm4gay5KU09OLnN0cmluZ2lmeShhLHZvaWQgMCl9cGFyc2UoYSl7cmV0dXJuIGsuSlNPTi5wYXJzZShhLHZvaWQgMCl9fTtmdW5jdGlvbiBrYigpe31rYi5wcm90b3R5cGUuaD1udWxsO2Z1bmN0aW9uIGxiKGEpe3JldHVybiBhLmh8fChhLmg9YS5pKCkpfTtmdW5jdGlvbiBtYigpe312YXIgSD17T1BFTjpcImFcIixrYjpcImJcIixKYTpcImNcIix3YjpcImRcIn07ZnVuY3Rpb24gbmIoKXtBLmNhbGwodGhpcyxcImRcIil9cihuYixBKTtmdW5jdGlvbiBvYigpe0EuY2FsbCh0aGlzLFwiY1wiKX1yKG9iLEEpO3ZhciBJPXt9LHBiPW51bGw7ZnVuY3Rpb24gcWIoKXtyZXR1cm4gcGI9cGJ8fG5ldyBFfUkuTGE9XCJzZXJ2ZXJyZWFjaGFiaWxpdHlcIjtmdW5jdGlvbiByYihhKXtBLmNhbGwodGhpcyxJLkxhLGEpfXIocmIsQSk7ZnVuY3Rpb24gSihhKXtjb25zdCBiPXFiKCk7RihiLG5ldyByYihiLGEpKX1JLlNUQVRfRVZFTlQ9XCJzdGF0ZXZlbnRcIjtmdW5jdGlvbiBzYihhLGIpe0EuY2FsbCh0aGlzLEkuU1RBVF9FVkVOVCxhKTt0aGlzLnN0YXQ9Yn1yKHNiLEEpO2Z1bmN0aW9uIEsoYSl7Y29uc3QgYj1xYigpO0YoYixuZXcgc2IoYixhKSl9SS5NYT1cInRpbWluZ2V2ZW50XCI7ZnVuY3Rpb24gdGIoYSxiKXtBLmNhbGwodGhpcyxJLk1hLGEpO3RoaXMuc2l6ZT1ifXIodGIsQSk7XG5mdW5jdGlvbiB1YihhLGIpe2lmKFwiZnVuY3Rpb25cIiE9PXR5cGVvZiBhKXRocm93IEVycm9yKFwiRm4gbXVzdCBub3QgYmUgbnVsbCBhbmQgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3JldHVybiBrLnNldFRpbWVvdXQoZnVuY3Rpb24oKXthKCl9LGIpfTtmdW5jdGlvbiB2Yigpe3RoaXMuZz0hMH12Yi5wcm90b3R5cGUueGE9ZnVuY3Rpb24oKXt0aGlzLmc9ITF9O2Z1bmN0aW9uIHdiKGEsYixjLGQsZSxmKXthLmluZm8oZnVuY3Rpb24oKXtpZihhLmcpaWYoZil7dmFyIGc9XCJcIjtmb3IodmFyIG09Zi5zcGxpdChcIiZcIikscT0wO3E8bS5sZW5ndGg7cSsrKXt2YXIgbD1tW3FdLnNwbGl0KFwiPVwiKTtpZigxPGwubGVuZ3RoKXt2YXIgdj1sWzBdO2w9bFsxXTt2YXIgdz12LnNwbGl0KFwiX1wiKTtnPTI8PXcubGVuZ3RoJiZcInR5cGVcIj09d1sxXT9nKyh2K1wiPVwiK2wrXCImXCIpOmcrKHYrXCI9cmVkYWN0ZWQmXCIpfX19ZWxzZSBnPW51bGw7ZWxzZSBnPWY7cmV0dXJuXCJYTUxIVFRQIFJFUSAoXCIrZCtcIikgW2F0dGVtcHQgXCIrZStcIl06IFwiK2IrXCJcXG5cIitjK1wiXFxuXCIrZ30pfVxuZnVuY3Rpb24geGIoYSxiLGMsZCxlLGYsZyl7YS5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuXCJYTUxIVFRQIFJFU1AgKFwiK2QrXCIpIFsgYXR0ZW1wdCBcIitlK1wiXTogXCIrYitcIlxcblwiK2MrXCJcXG5cIitmK1wiIFwiK2d9KX1mdW5jdGlvbiBMKGEsYixjLGQpe2EuaW5mbyhmdW5jdGlvbigpe3JldHVyblwiWE1MSFRUUCBURVhUIChcIitiK1wiKTogXCIreWIoYSxjKSsoZD9cIiBcIitkOlwiXCIpfSl9ZnVuY3Rpb24gemIoYSxiKXthLmluZm8oZnVuY3Rpb24oKXtyZXR1cm5cIlRJTUVPVVQ6IFwiK2J9KX12Yi5wcm90b3R5cGUuaW5mbz1mdW5jdGlvbigpe307XG5mdW5jdGlvbiB5YihhLGIpe2lmKCFhLmcpcmV0dXJuIGI7aWYoIWIpcmV0dXJuIG51bGw7dHJ5e3ZhciBjPUpTT04ucGFyc2UoYik7aWYoYylmb3IoYT0wO2E8Yy5sZW5ndGg7YSsrKWlmKEFycmF5LmlzQXJyYXkoY1thXSkpe3ZhciBkPWNbYV07aWYoISgyPmQubGVuZ3RoKSl7dmFyIGU9ZFsxXTtpZihBcnJheS5pc0FycmF5KGUpJiYhKDE+ZS5sZW5ndGgpKXt2YXIgZj1lWzBdO2lmKFwibm9vcFwiIT1mJiZcInN0b3BcIiE9ZiYmXCJjbG9zZVwiIT1mKWZvcih2YXIgZz0xO2c8ZS5sZW5ndGg7ZysrKWVbZ109XCJcIn19fXJldHVybiBoYihjKX1jYXRjaChtKXtyZXR1cm4gYn19O3ZhciBBYj17Tk9fRVJST1I6MCxnYjoxLHRiOjIsc2I6MyxuYjo0LHJiOjUsdWI6NixJYTo3LFRJTUVPVVQ6OCx4Yjo5fTt2YXIgQmI9e2xiOlwiY29tcGxldGVcIixIYjpcInN1Y2Nlc3NcIixKYTpcImVycm9yXCIsSWE6XCJhYm9ydFwiLHpiOlwicmVhZHlcIixBYjpcInJlYWR5c3RhdGVjaGFuZ2VcIixUSU1FT1VUOlwidGltZW91dFwiLHZiOlwiaW5jcmVtZW50YWxkYXRhXCIseWI6XCJwcm9ncmVzc1wiLG9iOlwiZG93bmxvYWRwcm9ncmVzc1wiLFBiOlwidXBsb2FkcHJvZ3Jlc3NcIn07dmFyIENiO2Z1bmN0aW9uIERiKCl7fXIoRGIsa2IpO0RiLnByb3RvdHlwZS5nPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBYTUxIdHRwUmVxdWVzdH07RGIucHJvdG90eXBlLmk9ZnVuY3Rpb24oKXtyZXR1cm57fX07Q2I9bmV3IERiO2Z1bmN0aW9uIE0oYSxiLGMsZCl7dGhpcy5qPWE7dGhpcy5pPWI7dGhpcy5sPWM7dGhpcy5SPWR8fDE7dGhpcy5VPW5ldyBHKHRoaXMpO3RoaXMuST00NUUzO3RoaXMuSD1udWxsO3RoaXMubz0hMTt0aGlzLm09dGhpcy5BPXRoaXMudj10aGlzLkw9dGhpcy5GPXRoaXMuUz10aGlzLkI9bnVsbDt0aGlzLkQ9W107dGhpcy5nPW51bGw7dGhpcy5DPTA7dGhpcy5zPXRoaXMudT1udWxsO3RoaXMuWD0tMTt0aGlzLko9ITE7dGhpcy5PPTA7dGhpcy5NPW51bGw7dGhpcy5XPXRoaXMuSz10aGlzLlQ9dGhpcy5QPSExO3RoaXMuaD1uZXcgRWJ9ZnVuY3Rpb24gRWIoKXt0aGlzLmk9bnVsbDt0aGlzLmc9XCJcIjt0aGlzLmg9ITF9dmFyIEZiPXt9LEdiPXt9O2Z1bmN0aW9uIEhiKGEsYixjKXthLkw9MTthLnY9SWIoTihiKSk7YS5tPWM7YS5QPSEwO0piKGEsbnVsbCl9XG5mdW5jdGlvbiBKYihhLGIpe2EuRj1EYXRlLm5vdygpO0tiKGEpO2EuQT1OKGEudik7dmFyIGM9YS5BLGQ9YS5SO0FycmF5LmlzQXJyYXkoZCl8fChkPVtTdHJpbmcoZCldKTtMYihjLmksXCJ0XCIsZCk7YS5DPTA7Yz1hLmouSjthLmg9bmV3IEViO2EuZz1NYihhLmosYz9iOm51bGwsIWEubSk7MDxhLk8mJihhLk09bmV3IGViKHAoYS5ZLGEsYS5nKSxhLk8pKTtiPWEuVTtjPWEuZztkPWEuY2E7dmFyIGU9XCJyZWFkeXN0YXRlY2hhbmdlXCI7QXJyYXkuaXNBcnJheShlKXx8KGUmJihmYlswXT1lLnRvU3RyaW5nKCkpLGU9ZmIpO2Zvcih2YXIgZj0wO2Y8ZS5sZW5ndGg7ZisrKXt2YXIgZz1RYShjLGVbZl0sZHx8Yi5oYW5kbGVFdmVudCwhMSxiLmh8fGIpO2lmKCFnKWJyZWFrO2IuZ1tnLmtleV09Z31iPWEuSD9zYShhLkgpOnt9O2EubT8oYS51fHwoYS51PVwiUE9TVFwiKSxiW1wiQ29udGVudC1UeXBlXCJdPVwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIsYS5nLmVhKGEuQSxhLnUsXG5hLm0sYikpOihhLnU9XCJHRVRcIixhLmcuZWEoYS5BLGEudSxudWxsLGIpKTtKKDEpO3diKGEuaSxhLnUsYS5BLGEubCxhLlIsYS5tKX1NLnByb3RvdHlwZS5jYT1mdW5jdGlvbihhKXthPWEudGFyZ2V0O2NvbnN0IGI9dGhpcy5NO2ImJjM9PVAoYSk/Yi5qKCk6dGhpcy5ZKGEpfTtcbk0ucHJvdG90eXBlLlk9ZnVuY3Rpb24oYSl7dHJ5e2lmKGE9PXRoaXMuZylhOntjb25zdCB3PVAodGhpcy5nKTt2YXIgYj10aGlzLmcuQmEoKTtjb25zdCBPPXRoaXMuZy5aKCk7aWYoISgzPncpJiYoMyE9d3x8dGhpcy5nJiYodGhpcy5oLmh8fHRoaXMuZy5vYSgpfHxOYih0aGlzLmcpKSkpe3RoaXMuSnx8NCE9d3x8Nz09Ynx8KDg9PWJ8fDA+PU8/SigzKTpKKDIpKTtPYih0aGlzKTt2YXIgYz10aGlzLmcuWigpO3RoaXMuWD1jO2I6aWYoUGIodGhpcykpe3ZhciBkPU5iKHRoaXMuZyk7YT1cIlwiO3ZhciBlPWQubGVuZ3RoLGY9ND09UCh0aGlzLmcpO2lmKCF0aGlzLmguaSl7aWYoXCJ1bmRlZmluZWRcIj09PXR5cGVvZiBUZXh0RGVjb2Rlcil7USh0aGlzKTtRYih0aGlzKTt2YXIgZz1cIlwiO2JyZWFrIGJ9dGhpcy5oLmk9bmV3IGsuVGV4dERlY29kZXJ9Zm9yKGI9MDtiPGU7YisrKXRoaXMuaC5oPSEwLGErPXRoaXMuaC5pLmRlY29kZShkW2JdLHtzdHJlYW06IShmJiZiPT1lLTEpfSk7ZC5sZW5ndGg9XG4wO3RoaXMuaC5nKz1hO3RoaXMuQz0wO2c9dGhpcy5oLmd9ZWxzZSBnPXRoaXMuZy5vYSgpO3RoaXMubz0yMDA9PWM7eGIodGhpcy5pLHRoaXMudSx0aGlzLkEsdGhpcy5sLHRoaXMuUix3LGMpO2lmKHRoaXMubyl7aWYodGhpcy5UJiYhdGhpcy5LKXtiOntpZih0aGlzLmcpe3ZhciBtLHE9dGhpcy5nO2lmKChtPXEuZz9xLmcuZ2V0UmVzcG9uc2VIZWFkZXIoXCJYLUhUVFAtSW5pdGlhbC1SZXNwb25zZVwiKTpudWxsKSYmIXQobSkpe3ZhciBsPW07YnJlYWsgYn19bD1udWxsfWlmKGM9bClMKHRoaXMuaSx0aGlzLmwsYyxcIkluaXRpYWwgaGFuZHNoYWtlIHJlc3BvbnNlIHZpYSBYLUhUVFAtSW5pdGlhbC1SZXNwb25zZVwiKSx0aGlzLks9ITAsUmIodGhpcyxjKTtlbHNle3RoaXMubz0hMTt0aGlzLnM9MztLKDEyKTtRKHRoaXMpO1FiKHRoaXMpO2JyZWFrIGF9fWlmKHRoaXMuUCl7Yz0hMDtsZXQgQjtmb3IoOyF0aGlzLkomJnRoaXMuQzxnLmxlbmd0aDspaWYoQj1TYih0aGlzLGcpLEI9PUdiKXs0PT1cbncmJih0aGlzLnM9NCxLKDE0KSxjPSExKTtMKHRoaXMuaSx0aGlzLmwsbnVsbCxcIltJbmNvbXBsZXRlIFJlc3BvbnNlXVwiKTticmVha31lbHNlIGlmKEI9PUZiKXt0aGlzLnM9NDtLKDE1KTtMKHRoaXMuaSx0aGlzLmwsZyxcIltJbnZhbGlkIENodW5rXVwiKTtjPSExO2JyZWFrfWVsc2UgTCh0aGlzLmksdGhpcy5sLEIsbnVsbCksUmIodGhpcyxCKTtQYih0aGlzKSYmMCE9dGhpcy5DJiYodGhpcy5oLmc9dGhpcy5oLmcuc2xpY2UodGhpcy5DKSx0aGlzLkM9MCk7NCE9d3x8MCE9Zy5sZW5ndGh8fHRoaXMuaC5ofHwodGhpcy5zPTEsSygxNiksYz0hMSk7dGhpcy5vPXRoaXMubyYmYztpZighYylMKHRoaXMuaSx0aGlzLmwsZyxcIltJbnZhbGlkIENodW5rZWQgUmVzcG9uc2VdXCIpLFEodGhpcyksUWIodGhpcyk7ZWxzZSBpZigwPGcubGVuZ3RoJiYhdGhpcy5XKXt0aGlzLlc9ITA7dmFyIHY9dGhpcy5qO3YuZz09dGhpcyYmdi5iYSYmIXYuTSYmKHYuai5pbmZvKFwiR3JlYXQsIG5vIGJ1ZmZlcmluZyBwcm94eSBkZXRlY3RlZC4gQnl0ZXMgcmVjZWl2ZWQ6IFwiK1xuZy5sZW5ndGgpLFRiKHYpLHYuTT0hMCxLKDExKSl9fWVsc2UgTCh0aGlzLmksdGhpcy5sLGcsbnVsbCksUmIodGhpcyxnKTs0PT13JiZRKHRoaXMpO3RoaXMubyYmIXRoaXMuSiYmKDQ9PXc/VWIodGhpcy5qLHRoaXMpOih0aGlzLm89ITEsS2IodGhpcykpKX1lbHNlIFZiKHRoaXMuZyksNDAwPT1jJiYwPGcuaW5kZXhPZihcIlVua25vd24gU0lEXCIpPyh0aGlzLnM9MyxLKDEyKSk6KHRoaXMucz0wLEsoMTMpKSxRKHRoaXMpLFFiKHRoaXMpfX19Y2F0Y2godyl7fWZpbmFsbHl7fX07ZnVuY3Rpb24gUGIoYSl7cmV0dXJuIGEuZz9cIkdFVFwiPT1hLnUmJjIhPWEuTCYmYS5qLkNhOiExfVxuZnVuY3Rpb24gU2IoYSxiKXt2YXIgYz1hLkMsZD1iLmluZGV4T2YoXCJcXG5cIixjKTtpZigtMT09ZClyZXR1cm4gR2I7Yz1OdW1iZXIoYi5zdWJzdHJpbmcoYyxkKSk7aWYoaXNOYU4oYykpcmV0dXJuIEZiO2QrPTE7aWYoZCtjPmIubGVuZ3RoKXJldHVybiBHYjtiPWIuc2xpY2UoZCxkK2MpO2EuQz1kK2M7cmV0dXJuIGJ9TS5wcm90b3R5cGUuY2FuY2VsPWZ1bmN0aW9uKCl7dGhpcy5KPSEwO1EodGhpcyl9O2Z1bmN0aW9uIEtiKGEpe2EuUz1EYXRlLm5vdygpK2EuSTtXYihhLGEuSSl9ZnVuY3Rpb24gV2IoYSxiKXtpZihudWxsIT1hLkIpdGhyb3cgRXJyb3IoXCJXYXRjaERvZyB0aW1lciBub3QgbnVsbFwiKTthLkI9dWIocChhLmJhLGEpLGIpfWZ1bmN0aW9uIE9iKGEpe2EuQiYmKGsuY2xlYXJUaW1lb3V0KGEuQiksYS5CPW51bGwpfVxuTS5wcm90b3R5cGUuYmE9ZnVuY3Rpb24oKXt0aGlzLkI9bnVsbDtjb25zdCBhPURhdGUubm93KCk7MDw9YS10aGlzLlM/KHpiKHRoaXMuaSx0aGlzLkEpLDIhPXRoaXMuTCYmKEooMyksSygxNykpLFEodGhpcyksdGhpcy5zPTIsUWIodGhpcykpOldiKHRoaXMsdGhpcy5TLWEpfTtmdW5jdGlvbiBRYihhKXswPT1hLmouR3x8YS5KfHxVYihhLmosYSl9ZnVuY3Rpb24gUShhKXtPYihhKTt2YXIgYj1hLk07YiYmXCJmdW5jdGlvblwiPT10eXBlb2YgYi5tYSYmYi5tYSgpO2EuTT1udWxsO2diKGEuVSk7YS5nJiYoYj1hLmcsYS5nPW51bGwsYi5hYm9ydCgpLGIubWEoKSl9XG5mdW5jdGlvbiBSYihhLGIpe3RyeXt2YXIgYz1hLmo7aWYoMCE9Yy5HJiYoYy5nPT1hfHxYYihjLmgsYSkpKWlmKCFhLksmJlhiKGMuaCxhKSYmMz09Yy5HKXt0cnl7dmFyIGQ9Yy5EYS5nLnBhcnNlKGIpfWNhdGNoKGwpe2Q9bnVsbH1pZihBcnJheS5pc0FycmF5KGQpJiYzPT1kLmxlbmd0aCl7dmFyIGU9ZDtpZigwPT1lWzBdKWE6e2lmKCFjLnUpe2lmKGMuZylpZihjLmcuRiszRTM8YS5GKVliKGMpLFpiKGMpO2Vsc2UgYnJlYWsgYTskYihjKTtLKDE4KX19ZWxzZSBjLnphPWVbMV0sMDxjLnphLWMuVCYmMzc1MDA+ZVsyXSYmYy5GJiYwPT1jLnYmJiFjLkMmJihjLkM9dWIocChjLlphLGMpLDZFMykpO2lmKDE+PWFjKGMuaCkmJmMuY2Epe3RyeXtjLmNhKCl9Y2F0Y2gobCl7fWMuY2E9dm9pZCAwfX1lbHNlIFIoYywxMSl9ZWxzZSBpZigoYS5LfHxjLmc9PWEpJiZZYihjKSwhdChiKSlmb3IoZT1jLkRhLmcucGFyc2UoYiksYj0wO2I8ZS5sZW5ndGg7YisrKXtsZXQgbD1lW2JdO2MuVD1cbmxbMF07bD1sWzFdO2lmKDI9PWMuRylpZihcImNcIj09bFswXSl7Yy5LPWxbMV07Yy5pYT1sWzJdO2NvbnN0IHY9bFszXTtudWxsIT12JiYoYy5sYT12LGMuai5pbmZvKFwiVkVSPVwiK2MubGEpKTtjb25zdCB3PWxbNF07bnVsbCE9dyYmKGMuQWE9dyxjLmouaW5mbyhcIlNWRVI9XCIrYy5BYSkpO2NvbnN0IE89bFs1XTtudWxsIT1PJiZcIm51bWJlclwiPT09dHlwZW9mIE8mJjA8TyYmKGQ9MS41Kk8sYy5MPWQsYy5qLmluZm8oXCJiYWNrQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXNfPVwiK2QpKTtkPWM7Y29uc3QgQj1hLmc7aWYoQil7Y29uc3QgeWE9Qi5nP0IuZy5nZXRSZXNwb25zZUhlYWRlcihcIlgtQ2xpZW50LVdpcmUtUHJvdG9jb2xcIik6bnVsbDtpZih5YSl7dmFyIGY9ZC5oO2YuZ3x8LTE9PXlhLmluZGV4T2YoXCJzcGR5XCIpJiYtMT09eWEuaW5kZXhPZihcInF1aWNcIikmJi0xPT15YS5pbmRleE9mKFwiaDJcIil8fChmLmo9Zi5sLGYuZz1uZXcgU2V0LGYuaCYmKGJjKGYsZi5oKSxmLmg9bnVsbCkpfWlmKGQuRCl7Y29uc3QgZGI9XG5CLmc/Qi5nLmdldFJlc3BvbnNlSGVhZGVyKFwiWC1IVFRQLVNlc3Npb24tSWRcIik6bnVsbDtkYiYmKGQueWE9ZGIsUyhkLkksZC5ELGRiKSl9fWMuRz0zO2MubCYmYy5sLnVhKCk7Yy5iYSYmKGMuUj1EYXRlLm5vdygpLWEuRixjLmouaW5mbyhcIkhhbmRzaGFrZSBSVFQ6IFwiK2MuUitcIm1zXCIpKTtkPWM7dmFyIGc9YTtkLnFhPWNjKGQsZC5KP2QuaWE6bnVsbCxkLlcpO2lmKGcuSyl7ZGMoZC5oLGcpO3ZhciBtPWcscT1kLkw7cSYmKG0uST1xKTttLkImJihPYihtKSxLYihtKSk7ZC5nPWd9ZWxzZSBlYyhkKTswPGMuaS5sZW5ndGgmJmZjKGMpfWVsc2VcInN0b3BcIiE9bFswXSYmXCJjbG9zZVwiIT1sWzBdfHxSKGMsNyk7ZWxzZSAzPT1jLkcmJihcInN0b3BcIj09bFswXXx8XCJjbG9zZVwiPT1sWzBdP1wic3RvcFwiPT1sWzBdP1IoYyw3KTpnYyhjKTpcIm5vb3BcIiE9bFswXSYmYy5sJiZjLmwudGEobCksYy52PTApfUooNCl9Y2F0Y2gobCl7fX07dmFyIGhjPWNsYXNze2NvbnN0cnVjdG9yKGEsYil7dGhpcy5nPWE7dGhpcy5tYXA9Yn19O2Z1bmN0aW9uIGljKGEpe3RoaXMubD1hfHwxMDtrLlBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZz8oYT1rLnBlcmZvcm1hbmNlLmdldEVudHJpZXNCeVR5cGUoXCJuYXZpZ2F0aW9uXCIpLGE9MDxhLmxlbmd0aCYmKFwiaHFcIj09YVswXS5uZXh0SG9wUHJvdG9jb2x8fFwiaDJcIj09YVswXS5uZXh0SG9wUHJvdG9jb2wpKTphPSEhKGsuY2hyb21lJiZrLmNocm9tZS5sb2FkVGltZXMmJmsuY2hyb21lLmxvYWRUaW1lcygpJiZrLmNocm9tZS5sb2FkVGltZXMoKS53YXNGZXRjaGVkVmlhU3BkeSk7dGhpcy5qPWE/dGhpcy5sOjE7dGhpcy5nPW51bGw7MTx0aGlzLmomJih0aGlzLmc9bmV3IFNldCk7dGhpcy5oPW51bGw7dGhpcy5pPVtdfWZ1bmN0aW9uIGpjKGEpe3JldHVybiBhLmg/ITA6YS5nP2EuZy5zaXplPj1hLmo6ITF9ZnVuY3Rpb24gYWMoYSl7cmV0dXJuIGEuaD8xOmEuZz9hLmcuc2l6ZTowfWZ1bmN0aW9uIFhiKGEsYil7cmV0dXJuIGEuaD9hLmg9PWI6YS5nP2EuZy5oYXMoYik6ITF9XG5mdW5jdGlvbiBiYyhhLGIpe2EuZz9hLmcuYWRkKGIpOmEuaD1ifWZ1bmN0aW9uIGRjKGEsYil7YS5oJiZhLmg9PWI/YS5oPW51bGw6YS5nJiZhLmcuaGFzKGIpJiZhLmcuZGVsZXRlKGIpfWljLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLmk9a2ModGhpcyk7aWYodGhpcy5oKXRoaXMuaC5jYW5jZWwoKSx0aGlzLmg9bnVsbDtlbHNlIGlmKHRoaXMuZyYmMCE9PXRoaXMuZy5zaXplKXtmb3IoY29uc3QgYSBvZiB0aGlzLmcudmFsdWVzKCkpYS5jYW5jZWwoKTt0aGlzLmcuY2xlYXIoKX19O2Z1bmN0aW9uIGtjKGEpe2lmKG51bGwhPWEuaClyZXR1cm4gYS5pLmNvbmNhdChhLmguRCk7aWYobnVsbCE9YS5nJiYwIT09YS5nLnNpemUpe2xldCBiPWEuaTtmb3IoY29uc3QgYyBvZiBhLmcudmFsdWVzKCkpYj1iLmNvbmNhdChjLkQpO3JldHVybiBifXJldHVybiBsYShhLmkpfTtmdW5jdGlvbiBsYyhhKXtpZihhLlYmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuVilyZXR1cm4gYS5WKCk7aWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBNYXAmJmEgaW5zdGFuY2VvZiBNYXB8fFwidW5kZWZpbmVkXCIhPT10eXBlb2YgU2V0JiZhIGluc3RhbmNlb2YgU2V0KXJldHVybiBBcnJheS5mcm9tKGEudmFsdWVzKCkpO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlyZXR1cm4gYS5zcGxpdChcIlwiKTtpZihoYShhKSl7Zm9yKHZhciBiPVtdLGM9YS5sZW5ndGgsZD0wO2Q8YztkKyspYi5wdXNoKGFbZF0pO3JldHVybiBifWI9W107Yz0wO2ZvcihkIGluIGEpYltjKytdPWFbZF07cmV0dXJuIGJ9XG5mdW5jdGlvbiBtYyhhKXtpZihhLm5hJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLm5hKXJldHVybiBhLm5hKCk7aWYoIWEuVnx8XCJmdW5jdGlvblwiIT10eXBlb2YgYS5WKXtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIE1hcCYmYSBpbnN0YW5jZW9mIE1hcClyZXR1cm4gQXJyYXkuZnJvbShhLmtleXMoKSk7aWYoIShcInVuZGVmaW5lZFwiIT09dHlwZW9mIFNldCYmYSBpbnN0YW5jZW9mIFNldCkpe2lmKGhhKGEpfHxcInN0cmluZ1wiPT09dHlwZW9mIGEpe3ZhciBiPVtdO2E9YS5sZW5ndGg7Zm9yKHZhciBjPTA7YzxhO2MrKyliLnB1c2goYyk7cmV0dXJuIGJ9Yj1bXTtjPTA7Zm9yKGNvbnN0IGQgaW4gYSliW2MrK109ZDtyZXR1cm4gYn19fVxuZnVuY3Rpb24gbmMoYSxiKXtpZihhLmZvckVhY2gmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEuZm9yRWFjaClhLmZvckVhY2goYix2b2lkIDApO2Vsc2UgaWYoaGEoYSl8fFwic3RyaW5nXCI9PT10eXBlb2YgYSlBcnJheS5wcm90b3R5cGUuZm9yRWFjaC5jYWxsKGEsYix2b2lkIDApO2Vsc2UgZm9yKHZhciBjPW1jKGEpLGQ9bGMoYSksZT1kLmxlbmd0aCxmPTA7ZjxlO2YrKyliLmNhbGwodm9pZCAwLGRbZl0sYyYmY1tmXSxhKX07dmFyIG9jPVJlZ0V4cChcIl4oPzooW146Lz8jLl0rKTopPyg/Oi8vKD86KFteXFxcXFxcXFwvPyNdKilAKT8oW15cXFxcXFxcXC8/I10qPykoPzo6KFswLTldKykpPyg/PVtcXFxcXFxcXC8/I118JCkpPyhbXj8jXSspPyg/OlxcXFw/KFteI10qKSk/KD86IyhbXFxcXHNcXFxcU10qKSk/JFwiKTtmdW5jdGlvbiBwYyhhLGIpe2lmKGEpe2E9YS5zcGxpdChcIiZcIik7Zm9yKHZhciBjPTA7YzxhLmxlbmd0aDtjKyspe3ZhciBkPWFbY10uaW5kZXhPZihcIj1cIiksZT1udWxsO2lmKDA8PWQpe3ZhciBmPWFbY10uc3Vic3RyaW5nKDAsZCk7ZT1hW2NdLnN1YnN0cmluZyhkKzEpfWVsc2UgZj1hW2NdO2IoZixlP2RlY29kZVVSSUNvbXBvbmVudChlLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSk6XCJcIil9fX07ZnVuY3Rpb24gVChhKXt0aGlzLmc9dGhpcy5vPXRoaXMuaj1cIlwiO3RoaXMucz1udWxsO3RoaXMubT10aGlzLmw9XCJcIjt0aGlzLmg9ITE7aWYoYSBpbnN0YW5jZW9mIFQpe3RoaXMuaD1hLmg7cWModGhpcyxhLmopO3RoaXMubz1hLm87dGhpcy5nPWEuZztyYyh0aGlzLGEucyk7dGhpcy5sPWEubDt2YXIgYj1hLmk7dmFyIGM9bmV3IHNjO2MuaT1iLmk7Yi5nJiYoYy5nPW5ldyBNYXAoYi5nKSxjLmg9Yi5oKTt0Yyh0aGlzLGMpO3RoaXMubT1hLm19ZWxzZSBhJiYoYj1TdHJpbmcoYSkubWF0Y2gob2MpKT8odGhpcy5oPSExLHFjKHRoaXMsYlsxXXx8XCJcIiwhMCksdGhpcy5vPXVjKGJbMl18fFwiXCIpLHRoaXMuZz11YyhiWzNdfHxcIlwiLCEwKSxyYyh0aGlzLGJbNF0pLHRoaXMubD11YyhiWzVdfHxcIlwiLCEwKSx0Yyh0aGlzLGJbNl18fFwiXCIsITApLHRoaXMubT11YyhiWzddfHxcIlwiKSk6KHRoaXMuaD0hMSx0aGlzLmk9bmV3IHNjKG51bGwsdGhpcy5oKSl9XG5ULnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBhPVtdLGI9dGhpcy5qO2ImJmEucHVzaCh2YyhiLHdjLCEwKSxcIjpcIik7dmFyIGM9dGhpcy5nO2lmKGN8fFwiZmlsZVwiPT1iKWEucHVzaChcIi8vXCIpLChiPXRoaXMubykmJmEucHVzaCh2YyhiLHdjLCEwKSxcIkBcIiksYS5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYykpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZyxcIiUkMVwiKSksYz10aGlzLnMsbnVsbCE9YyYmYS5wdXNoKFwiOlwiLFN0cmluZyhjKSk7aWYoYz10aGlzLmwpdGhpcy5nJiZcIi9cIiE9Yy5jaGFyQXQoMCkmJmEucHVzaChcIi9cIiksYS5wdXNoKHZjKGMsXCIvXCI9PWMuY2hhckF0KDApP3hjOnljLCEwKSk7KGM9dGhpcy5pLnRvU3RyaW5nKCkpJiZhLnB1c2goXCI/XCIsYyk7KGM9dGhpcy5tKSYmYS5wdXNoKFwiI1wiLHZjKGMsemMpKTtyZXR1cm4gYS5qb2luKFwiXCIpfTtmdW5jdGlvbiBOKGEpe3JldHVybiBuZXcgVChhKX1cbmZ1bmN0aW9uIHFjKGEsYixjKXthLmo9Yz91YyhiLCEwKTpiO2EuaiYmKGEuaj1hLmoucmVwbGFjZSgvOiQvLFwiXCIpKX1mdW5jdGlvbiByYyhhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoXCJCYWQgcG9ydCBudW1iZXIgXCIrYik7YS5zPWJ9ZWxzZSBhLnM9bnVsbH1mdW5jdGlvbiB0YyhhLGIsYyl7YiBpbnN0YW5jZW9mIHNjPyhhLmk9YixBYyhhLmksYS5oKSk6KGN8fChiPXZjKGIsQmMpKSxhLmk9bmV3IHNjKGIsYS5oKSl9ZnVuY3Rpb24gUyhhLGIsYyl7YS5pLnNldChiLGMpfWZ1bmN0aW9uIEliKGEpe1MoYSxcInp4XCIsTWF0aC5mbG9vcigyMTQ3NDgzNjQ4Kk1hdGgucmFuZG9tKCkpLnRvU3RyaW5nKDM2KStNYXRoLmFicyhNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSleRGF0ZS5ub3coKSkudG9TdHJpbmcoMzYpKTtyZXR1cm4gYX1cbmZ1bmN0aW9uIHVjKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYS5yZXBsYWNlKC8lMjUvZyxcIiUyNTI1XCIpKTpkZWNvZGVVUklDb21wb25lbnQoYSk6XCJcIn1mdW5jdGlvbiB2YyhhLGIsYyl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiBhPyhhPWVuY29kZVVSSShhKS5yZXBsYWNlKGIsQ2MpLGMmJihhPWEucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxhKTpudWxsfWZ1bmN0aW9uIENjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVyblwiJVwiKyhhPj40JjE1KS50b1N0cmluZygxNikrKGEmMTUpLnRvU3RyaW5nKDE2KX12YXIgd2M9L1sjXFwvXFw/QF0vZyx5Yz0vWyNcXD86XS9nLHhjPS9bI1xcP10vZyxCYz0vWyNcXD9AXS9nLHpjPS8jL2c7ZnVuY3Rpb24gc2MoYSxiKXt0aGlzLmg9dGhpcy5nPW51bGw7dGhpcy5pPWF8fG51bGw7dGhpcy5qPSEhYn1cbmZ1bmN0aW9uIFUoYSl7YS5nfHwoYS5nPW5ldyBNYXAsYS5oPTAsYS5pJiZwYyhhLmksZnVuY3Rpb24oYixjKXthLmFkZChkZWNvZGVVUklDb21wb25lbnQoYi5yZXBsYWNlKC9cXCsvZyxcIiBcIikpLGMpfSkpfWg9c2MucHJvdG90eXBlO2guYWRkPWZ1bmN0aW9uKGEsYil7VSh0aGlzKTt0aGlzLmk9bnVsbDthPVYodGhpcyxhKTt2YXIgYz10aGlzLmcuZ2V0KGEpO2N8fHRoaXMuZy5zZXQoYSxjPVtdKTtjLnB1c2goYik7dGhpcy5oKz0xO3JldHVybiB0aGlzfTtmdW5jdGlvbiBEYyhhLGIpe1UoYSk7Yj1WKGEsYik7YS5nLmhhcyhiKSYmKGEuaT1udWxsLGEuaC09YS5nLmdldChiKS5sZW5ndGgsYS5nLmRlbGV0ZShiKSl9ZnVuY3Rpb24gRWMoYSxiKXtVKGEpO2I9VihhLGIpO3JldHVybiBhLmcuaGFzKGIpfVxuaC5mb3JFYWNoPWZ1bmN0aW9uKGEsYil7VSh0aGlzKTt0aGlzLmcuZm9yRWFjaChmdW5jdGlvbihjLGQpe2MuZm9yRWFjaChmdW5jdGlvbihlKXthLmNhbGwoYixlLGQsdGhpcyl9LHRoaXMpfSx0aGlzKX07aC5uYT1mdW5jdGlvbigpe1UodGhpcyk7Y29uc3QgYT1BcnJheS5mcm9tKHRoaXMuZy52YWx1ZXMoKSksYj1BcnJheS5mcm9tKHRoaXMuZy5rZXlzKCkpLGM9W107Zm9yKGxldCBkPTA7ZDxiLmxlbmd0aDtkKyspe2NvbnN0IGU9YVtkXTtmb3IobGV0IGY9MDtmPGUubGVuZ3RoO2YrKyljLnB1c2goYltkXSl9cmV0dXJuIGN9O2guVj1mdW5jdGlvbihhKXtVKHRoaXMpO2xldCBiPVtdO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSlFYyh0aGlzLGEpJiYoYj1iLmNvbmNhdCh0aGlzLmcuZ2V0KFYodGhpcyxhKSkpKTtlbHNle2E9QXJyYXkuZnJvbSh0aGlzLmcudmFsdWVzKCkpO2ZvcihsZXQgYz0wO2M8YS5sZW5ndGg7YysrKWI9Yi5jb25jYXQoYVtjXSl9cmV0dXJuIGJ9O1xuaC5zZXQ9ZnVuY3Rpb24oYSxiKXtVKHRoaXMpO3RoaXMuaT1udWxsO2E9Vih0aGlzLGEpO0VjKHRoaXMsYSkmJih0aGlzLmgtPXRoaXMuZy5nZXQoYSkubGVuZ3RoKTt0aGlzLmcuc2V0KGEsW2JdKTt0aGlzLmgrPTE7cmV0dXJuIHRoaXN9O2guZ2V0PWZ1bmN0aW9uKGEsYil7aWYoIWEpcmV0dXJuIGI7YT10aGlzLlYoYSk7cmV0dXJuIDA8YS5sZW5ndGg/U3RyaW5nKGFbMF0pOmJ9O2Z1bmN0aW9uIExiKGEsYixjKXtEYyhhLGIpOzA8Yy5sZW5ndGgmJihhLmk9bnVsbCxhLmcuc2V0KFYoYSxiKSxsYShjKSksYS5oKz1jLmxlbmd0aCl9XG5oLnRvU3RyaW5nPWZ1bmN0aW9uKCl7aWYodGhpcy5pKXJldHVybiB0aGlzLmk7aWYoIXRoaXMuZylyZXR1cm5cIlwiO2NvbnN0IGE9W10sYj1BcnJheS5mcm9tKHRoaXMuZy5rZXlzKCkpO2Zvcih2YXIgYz0wO2M8Yi5sZW5ndGg7YysrKXt2YXIgZD1iW2NdO2NvbnN0IGY9ZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhkKSksZz10aGlzLlYoZCk7Zm9yKGQ9MDtkPGcubGVuZ3RoO2QrKyl7dmFyIGU9ZjtcIlwiIT09Z1tkXSYmKGUrPVwiPVwiK2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoZ1tkXSkpKTthLnB1c2goZSl9fXJldHVybiB0aGlzLmk9YS5qb2luKFwiJlwiKX07ZnVuY3Rpb24gVihhLGIpe2I9U3RyaW5nKGIpO2EuaiYmKGI9Yi50b0xvd2VyQ2FzZSgpKTtyZXR1cm4gYn1cbmZ1bmN0aW9uIEFjKGEsYil7YiYmIWEuaiYmKFUoYSksYS5pPW51bGwsYS5nLmZvckVhY2goZnVuY3Rpb24oYyxkKXt2YXIgZT1kLnRvTG93ZXJDYXNlKCk7ZCE9ZSYmKERjKHRoaXMsZCksTGIodGhpcyxlLGMpKX0sYSkpO2Euaj1ifTtmdW5jdGlvbiBGYyhhLGIpe2NvbnN0IGM9bmV3IHZiO2lmKGsuSW1hZ2Upe2NvbnN0IGQ9bmV3IEltYWdlO2Qub25sb2FkPWthKFcsYyxcIlRlc3RMb2FkSW1hZ2U6IGxvYWRlZFwiLCEwLGIsZCk7ZC5vbmVycm9yPWthKFcsYyxcIlRlc3RMb2FkSW1hZ2U6IGVycm9yXCIsITEsYixkKTtkLm9uYWJvcnQ9a2EoVyxjLFwiVGVzdExvYWRJbWFnZTogYWJvcnRcIiwhMSxiLGQpO2Qub250aW1lb3V0PWthKFcsYyxcIlRlc3RMb2FkSW1hZ2U6IHRpbWVvdXRcIiwhMSxiLGQpO2suc2V0VGltZW91dChmdW5jdGlvbigpe2lmKGQub250aW1lb3V0KWQub250aW1lb3V0KCl9LDFFNCk7ZC5zcmM9YX1lbHNlIGIoITEpfVxuZnVuY3Rpb24gR2MoYSxiKXtjb25zdCBjPW5ldyB2YixkPW5ldyBBYm9ydENvbnRyb2xsZXIsZT1zZXRUaW1lb3V0KCgpPT57ZC5hYm9ydCgpO1coYyxcIlRlc3RQaW5nU2VydmVyOiB0aW1lb3V0XCIsITEsYil9LDFFNCk7ZmV0Y2goYSx7c2lnbmFsOmQuc2lnbmFsfSkudGhlbihmPT57Y2xlYXJUaW1lb3V0KGUpO2Yub2s/VyhjLFwiVGVzdFBpbmdTZXJ2ZXI6IG9rXCIsITAsYik6VyhjLFwiVGVzdFBpbmdTZXJ2ZXI6IHNlcnZlciBlcnJvclwiLCExLGIpfSkuY2F0Y2goKCk9PntjbGVhclRpbWVvdXQoZSk7VyhjLFwiVGVzdFBpbmdTZXJ2ZXI6IGVycm9yXCIsITEsYil9KX1mdW5jdGlvbiBXKGEsYixjLGQsZSl7dHJ5e2UmJihlLm9ubG9hZD1udWxsLGUub25lcnJvcj1udWxsLGUub25hYm9ydD1udWxsLGUub250aW1lb3V0PW51bGwpLGQoYyl9Y2F0Y2goZil7fX07ZnVuY3Rpb24gSGMoKXt0aGlzLmc9bmV3IGpifWZ1bmN0aW9uIEljKGEsYixjKXtjb25zdCBkPWN8fFwiXCI7dHJ5e25jKGEsZnVuY3Rpb24oZSxmKXtsZXQgZz1lO24oZSkmJihnPWhiKGUpKTtiLnB1c2goZCtmK1wiPVwiK2VuY29kZVVSSUNvbXBvbmVudChnKSl9KX1jYXRjaChlKXt0aHJvdyBiLnB1c2goZCtcInR5cGU9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFwiX2JhZG1hcFwiKSksZTt9fTtmdW5jdGlvbiBKYyhhKXt0aGlzLmw9YS5VYnx8bnVsbDt0aGlzLmo9YS5lYnx8ITF9cihKYyxrYik7SmMucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEtjKHRoaXMubCx0aGlzLmopfTtKYy5wcm90b3R5cGUuaT1mdW5jdGlvbihhKXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gYX19KHt9KTtmdW5jdGlvbiBLYyhhLGIpe0UuY2FsbCh0aGlzKTt0aGlzLkQ9YTt0aGlzLm89Yjt0aGlzLm09dm9pZCAwO3RoaXMuc3RhdHVzPXRoaXMucmVhZHlTdGF0ZT0wO3RoaXMucmVzcG9uc2VUeXBlPXRoaXMucmVzcG9uc2VUZXh0PXRoaXMucmVzcG9uc2U9dGhpcy5zdGF0dXNUZXh0PVwiXCI7dGhpcy5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbDt0aGlzLnU9bmV3IEhlYWRlcnM7dGhpcy5oPW51bGw7dGhpcy5CPVwiR0VUXCI7dGhpcy5BPVwiXCI7dGhpcy5nPSExO3RoaXMudj10aGlzLmo9dGhpcy5sPW51bGx9cihLYyxFKTtoPUtjLnByb3RvdHlwZTtcbmgub3Blbj1mdW5jdGlvbihhLGIpe2lmKDAhPXRoaXMucmVhZHlTdGF0ZSl0aHJvdyB0aGlzLmFib3J0KCksRXJyb3IoXCJFcnJvciByZW9wZW5pbmcgYSBjb25uZWN0aW9uXCIpO3RoaXMuQj1hO3RoaXMuQT1iO3RoaXMucmVhZHlTdGF0ZT0xO0xjKHRoaXMpfTtoLnNlbmQ9ZnVuY3Rpb24oYSl7aWYoMSE9dGhpcy5yZWFkeVN0YXRlKXRocm93IHRoaXMuYWJvcnQoKSxFcnJvcihcIm5lZWQgdG8gY2FsbCBvcGVuKCkgZmlyc3QuIFwiKTt0aGlzLmc9ITA7Y29uc3QgYj17aGVhZGVyczp0aGlzLnUsbWV0aG9kOnRoaXMuQixjcmVkZW50aWFsczp0aGlzLm0sY2FjaGU6dm9pZCAwfTthJiYoYi5ib2R5PWEpOyh0aGlzLkR8fGspLmZldGNoKG5ldyBSZXF1ZXN0KHRoaXMuQSxiKSkudGhlbih0aGlzLlNhLmJpbmQodGhpcyksdGhpcy5nYS5iaW5kKHRoaXMpKX07XG5oLmFib3J0PWZ1bmN0aW9uKCl7dGhpcy5yZXNwb25zZT10aGlzLnJlc3BvbnNlVGV4dD1cIlwiO3RoaXMudT1uZXcgSGVhZGVyczt0aGlzLnN0YXR1cz0wO3RoaXMuaiYmdGhpcy5qLmNhbmNlbChcIlJlcXVlc3Qgd2FzIGFib3J0ZWQuXCIpLmNhdGNoKCgpPT57fSk7MTw9dGhpcy5yZWFkeVN0YXRlJiZ0aGlzLmcmJjQhPXRoaXMucmVhZHlTdGF0ZSYmKHRoaXMuZz0hMSxNYyh0aGlzKSk7dGhpcy5yZWFkeVN0YXRlPTB9O1xuaC5TYT1mdW5jdGlvbihhKXtpZih0aGlzLmcmJih0aGlzLmw9YSx0aGlzLmh8fCh0aGlzLnN0YXR1cz10aGlzLmwuc3RhdHVzLHRoaXMuc3RhdHVzVGV4dD10aGlzLmwuc3RhdHVzVGV4dCx0aGlzLmg9YS5oZWFkZXJzLHRoaXMucmVhZHlTdGF0ZT0yLExjKHRoaXMpKSx0aGlzLmcmJih0aGlzLnJlYWR5U3RhdGU9MyxMYyh0aGlzKSx0aGlzLmcpKSlpZihcImFycmF5YnVmZmVyXCI9PT10aGlzLnJlc3BvbnNlVHlwZSlhLmFycmF5QnVmZmVyKCkudGhlbih0aGlzLlFhLmJpbmQodGhpcyksdGhpcy5nYS5iaW5kKHRoaXMpKTtlbHNlIGlmKFwidW5kZWZpbmVkXCIhPT10eXBlb2Ygay5SZWFkYWJsZVN0cmVhbSYmXCJib2R5XCJpbiBhKXt0aGlzLmo9YS5ib2R5LmdldFJlYWRlcigpO2lmKHRoaXMubyl7aWYodGhpcy5yZXNwb25zZVR5cGUpdGhyb3cgRXJyb3IoJ3Jlc3BvbnNlVHlwZSBtdXN0IGJlIGVtcHR5IGZvciBcInN0cmVhbUJpbmFyeUNodW5rc1wiIG1vZGUgcmVzcG9uc2VzLicpO3RoaXMucmVzcG9uc2U9XG5bXX1lbHNlIHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9XCJcIix0aGlzLnY9bmV3IFRleHREZWNvZGVyO05jKHRoaXMpfWVsc2UgYS50ZXh0KCkudGhlbih0aGlzLlJhLmJpbmQodGhpcyksdGhpcy5nYS5iaW5kKHRoaXMpKX07ZnVuY3Rpb24gTmMoYSl7YS5qLnJlYWQoKS50aGVuKGEuUGEuYmluZChhKSkuY2F0Y2goYS5nYS5iaW5kKGEpKX1oLlBhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuZyl7aWYodGhpcy5vJiZhLnZhbHVlKXRoaXMucmVzcG9uc2UucHVzaChhLnZhbHVlKTtlbHNlIGlmKCF0aGlzLm8pe3ZhciBiPWEudmFsdWU/YS52YWx1ZTpuZXcgVWludDhBcnJheSgwKTtpZihiPXRoaXMudi5kZWNvZGUoYix7c3RyZWFtOiFhLmRvbmV9KSl0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0Kz1ifWEuZG9uZT9NYyh0aGlzKTpMYyh0aGlzKTszPT10aGlzLnJlYWR5U3RhdGUmJk5jKHRoaXMpfX07XG5oLlJhPWZ1bmN0aW9uKGEpe3RoaXMuZyYmKHRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQ9YSxNYyh0aGlzKSl9O2guUWE9ZnVuY3Rpb24oYSl7dGhpcy5nJiYodGhpcy5yZXNwb25zZT1hLE1jKHRoaXMpKX07aC5nYT1mdW5jdGlvbigpe3RoaXMuZyYmTWModGhpcyl9O2Z1bmN0aW9uIE1jKGEpe2EucmVhZHlTdGF0ZT00O2EubD1udWxsO2Euaj1udWxsO2Eudj1udWxsO0xjKGEpfWguc2V0UmVxdWVzdEhlYWRlcj1mdW5jdGlvbihhLGIpe3RoaXMudS5hcHBlbmQoYSxiKX07aC5nZXRSZXNwb25zZUhlYWRlcj1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5oP3RoaXMuaC5nZXQoYS50b0xvd2VyQ2FzZSgpKXx8XCJcIjpcIlwifTtcbmguZ2V0QWxsUmVzcG9uc2VIZWFkZXJzPWZ1bmN0aW9uKCl7aWYoIXRoaXMuaClyZXR1cm5cIlwiO2NvbnN0IGE9W10sYj10aGlzLmguZW50cmllcygpO2Zvcih2YXIgYz1iLm5leHQoKTshYy5kb25lOyljPWMudmFsdWUsYS5wdXNoKGNbMF0rXCI6IFwiK2NbMV0pLGM9Yi5uZXh0KCk7cmV0dXJuIGEuam9pbihcIlxcclxcblwiKX07ZnVuY3Rpb24gTGMoYSl7YS5vbnJlYWR5c3RhdGVjaGFuZ2UmJmEub25yZWFkeXN0YXRlY2hhbmdlLmNhbGwoYSl9T2JqZWN0LmRlZmluZVByb3BlcnR5KEtjLnByb3RvdHlwZSxcIndpdGhDcmVkZW50aWFsc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm5cImluY2x1ZGVcIj09PXRoaXMubX0sc2V0OmZ1bmN0aW9uKGEpe3RoaXMubT1hP1wiaW5jbHVkZVwiOlwic2FtZS1vcmlnaW5cIn19KTtmdW5jdGlvbiBPYyhhKXtsZXQgYj1cIlwiO3FhKGEsZnVuY3Rpb24oYyxkKXtiKz1kO2IrPVwiOlwiO2IrPWM7Yis9XCJcXHJcXG5cIn0pO3JldHVybiBifWZ1bmN0aW9uIFBjKGEsYixjKXthOntmb3IoZCBpbiBjKXt2YXIgZD0hMTticmVhayBhfWQ9ITB9ZHx8KGM9T2MoYyksXCJzdHJpbmdcIj09PXR5cGVvZiBhPyhlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGIpKSxudWxsIT1jJiZlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGMpKSk6UyhhLGIsYykpfTtmdW5jdGlvbiBYKGEpe0UuY2FsbCh0aGlzKTt0aGlzLmhlYWRlcnM9bmV3IE1hcDt0aGlzLm89YXx8bnVsbDt0aGlzLmg9ITE7dGhpcy52PXRoaXMuZz1udWxsO3RoaXMuRD1cIlwiO3RoaXMubT0wO3RoaXMubD1cIlwiO3RoaXMuaj10aGlzLkI9dGhpcy51PXRoaXMuQT0hMTt0aGlzLkk9bnVsbDt0aGlzLkg9XCJcIjt0aGlzLko9ITF9cihYLEUpO3ZhciBRYz0vXmh0dHBzPyQvaSxSYz1bXCJQT1NUXCIsXCJQVVRcIl07aD1YLnByb3RvdHlwZTtoLkhhPWZ1bmN0aW9uKGEpe3RoaXMuSj1hfTtcbmguZWE9ZnVuY3Rpb24oYSxiLGMsZCl7aWYodGhpcy5nKXRocm93IEVycm9yKFwiW2dvb2cubmV0LlhocklvXSBPYmplY3QgaXMgYWN0aXZlIHdpdGggYW5vdGhlciByZXF1ZXN0PVwiK3RoaXMuRCtcIjsgbmV3VXJpPVwiK2EpO2I9Yj9iLnRvVXBwZXJDYXNlKCk6XCJHRVRcIjt0aGlzLkQ9YTt0aGlzLmw9XCJcIjt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5oPSEwO3RoaXMuZz10aGlzLm8/dGhpcy5vLmcoKTpDYi5nKCk7dGhpcy52PXRoaXMubz9sYih0aGlzLm8pOmxiKENiKTt0aGlzLmcub25yZWFkeXN0YXRlY2hhbmdlPXAodGhpcy5FYSx0aGlzKTt0cnl7dGhpcy5CPSEwLHRoaXMuZy5vcGVuKGIsU3RyaW5nKGEpLCEwKSx0aGlzLkI9ITF9Y2F0Y2goZil7U2ModGhpcyxmKTtyZXR1cm59YT1jfHxcIlwiO2M9bmV3IE1hcCh0aGlzLmhlYWRlcnMpO2lmKGQpaWYoT2JqZWN0LmdldFByb3RvdHlwZU9mKGQpPT09T2JqZWN0LnByb3RvdHlwZSlmb3IodmFyIGUgaW4gZCljLnNldChlLGRbZV0pO2Vsc2UgaWYoXCJmdW5jdGlvblwiPT09XG50eXBlb2YgZC5rZXlzJiZcImZ1bmN0aW9uXCI9PT10eXBlb2YgZC5nZXQpZm9yKGNvbnN0IGYgb2YgZC5rZXlzKCkpYy5zZXQoZixkLmdldChmKSk7ZWxzZSB0aHJvdyBFcnJvcihcIlVua25vd24gaW5wdXQgdHlwZSBmb3Igb3B0X2hlYWRlcnM6IFwiK1N0cmluZyhkKSk7ZD1BcnJheS5mcm9tKGMua2V5cygpKS5maW5kKGY9PlwiY29udGVudC10eXBlXCI9PWYudG9Mb3dlckNhc2UoKSk7ZT1rLkZvcm1EYXRhJiZhIGluc3RhbmNlb2Ygay5Gb3JtRGF0YTshKDA8PUFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoUmMsYix2b2lkIDApKXx8ZHx8ZXx8Yy5zZXQoXCJDb250ZW50LVR5cGVcIixcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PXV0Zi04XCIpO2Zvcihjb25zdCBbZixnXW9mIGMpdGhpcy5nLnNldFJlcXVlc3RIZWFkZXIoZixnKTt0aGlzLkgmJih0aGlzLmcucmVzcG9uc2VUeXBlPXRoaXMuSCk7XCJ3aXRoQ3JlZGVudGlhbHNcImluIHRoaXMuZyYmdGhpcy5nLndpdGhDcmVkZW50aWFscyE9PVxudGhpcy5KJiYodGhpcy5nLndpdGhDcmVkZW50aWFscz10aGlzLkopO3RyeXtUYyh0aGlzKSx0aGlzLnU9ITAsdGhpcy5nLnNlbmQoYSksdGhpcy51PSExfWNhdGNoKGYpe1NjKHRoaXMsZil9fTtmdW5jdGlvbiBTYyhhLGIpe2EuaD0hMTthLmcmJihhLmo9ITAsYS5nLmFib3J0KCksYS5qPSExKTthLmw9YjthLm09NTtVYyhhKTtWYyhhKX1mdW5jdGlvbiBVYyhhKXthLkF8fChhLkE9ITAsRihhLFwiY29tcGxldGVcIiksRihhLFwiZXJyb3JcIikpfWguYWJvcnQ9ZnVuY3Rpb24oYSl7dGhpcy5nJiZ0aGlzLmgmJih0aGlzLmg9ITEsdGhpcy5qPSEwLHRoaXMuZy5hYm9ydCgpLHRoaXMuaj0hMSx0aGlzLm09YXx8NyxGKHRoaXMsXCJjb21wbGV0ZVwiKSxGKHRoaXMsXCJhYm9ydFwiKSxWYyh0aGlzKSl9O2guTj1mdW5jdGlvbigpe3RoaXMuZyYmKHRoaXMuaCYmKHRoaXMuaD0hMSx0aGlzLmo9ITAsdGhpcy5nLmFib3J0KCksdGhpcy5qPSExKSxWYyh0aGlzLCEwKSk7WC5hYS5OLmNhbGwodGhpcyl9O1xuaC5FYT1mdW5jdGlvbigpe3RoaXMuc3x8KHRoaXMuQnx8dGhpcy51fHx0aGlzLmo/V2ModGhpcyk6dGhpcy5iYigpKX07aC5iYj1mdW5jdGlvbigpe1djKHRoaXMpfTtcbmZ1bmN0aW9uIFdjKGEpe2lmKGEuaCYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGZhJiYoIWEudlsxXXx8NCE9UChhKXx8MiE9YS5aKCkpKWlmKGEudSYmND09UChhKSliYihhLkVhLDAsYSk7ZWxzZSBpZihGKGEsXCJyZWFkeXN0YXRlY2hhbmdlXCIpLDQ9PVAoYSkpe2EuaD0hMTt0cnl7Y29uc3QgZz1hLlooKTthOnN3aXRjaChnKXtjYXNlIDIwMDpjYXNlIDIwMTpjYXNlIDIwMjpjYXNlIDIwNDpjYXNlIDIwNjpjYXNlIDMwNDpjYXNlIDEyMjM6dmFyIGI9ITA7YnJlYWsgYTtkZWZhdWx0OmI9ITF9dmFyIGM7aWYoIShjPWIpKXt2YXIgZDtpZihkPTA9PT1nKXt2YXIgZT1TdHJpbmcoYS5EKS5tYXRjaChvYylbMV18fG51bGw7IWUmJmsuc2VsZiYmay5zZWxmLmxvY2F0aW9uJiYoZT1rLnNlbGYubG9jYXRpb24ucHJvdG9jb2wuc2xpY2UoMCwtMSkpO2Q9IVFjLnRlc3QoZT9lLnRvTG93ZXJDYXNlKCk6XCJcIil9Yz1kfWlmKGMpRihhLFwiY29tcGxldGVcIiksRihhLFwic3VjY2Vzc1wiKTtlbHNle2EubT1cbjY7dHJ5e3ZhciBmPTI8UChhKT9hLmcuc3RhdHVzVGV4dDpcIlwifWNhdGNoKG0pe2Y9XCJcIn1hLmw9ZitcIiBbXCIrYS5aKCkrXCJdXCI7VWMoYSl9fWZpbmFsbHl7VmMoYSl9fX1mdW5jdGlvbiBWYyhhLGIpe2lmKGEuZyl7VGMoYSk7Y29uc3QgYz1hLmcsZD1hLnZbMF0/KCk9Pnt9Om51bGw7YS5nPW51bGw7YS52PW51bGw7Ynx8RihhLFwicmVhZHlcIik7dHJ5e2Mub25yZWFkeXN0YXRlY2hhbmdlPWR9Y2F0Y2goZSl7fX19ZnVuY3Rpb24gVGMoYSl7YS5JJiYoay5jbGVhclRpbWVvdXQoYS5JKSxhLkk9bnVsbCl9aC5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5nfTtmdW5jdGlvbiBQKGEpe3JldHVybiBhLmc/YS5nLnJlYWR5U3RhdGU6MH1oLlo9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIDI8UCh0aGlzKT90aGlzLmcuc3RhdHVzOi0xfWNhdGNoKGEpe3JldHVybi0xfX07aC5vYT1mdW5jdGlvbigpe3RyeXtyZXR1cm4gdGhpcy5nP3RoaXMuZy5yZXNwb25zZVRleHQ6XCJcIn1jYXRjaChhKXtyZXR1cm5cIlwifX07XG5oLk9hPWZ1bmN0aW9uKGEpe2lmKHRoaXMuZyl7dmFyIGI9dGhpcy5nLnJlc3BvbnNlVGV4dDthJiYwPT1iLmluZGV4T2YoYSkmJihiPWIuc3Vic3RyaW5nKGEubGVuZ3RoKSk7cmV0dXJuIGliKGIpfX07ZnVuY3Rpb24gTmIoYSl7dHJ5e2lmKCFhLmcpcmV0dXJuIG51bGw7aWYoXCJyZXNwb25zZVwiaW4gYS5nKXJldHVybiBhLmcucmVzcG9uc2U7c3dpdGNoKGEuSCl7Y2FzZSBcIlwiOmNhc2UgXCJ0ZXh0XCI6cmV0dXJuIGEuZy5yZXNwb25zZVRleHQ7Y2FzZSBcImFycmF5YnVmZmVyXCI6aWYoXCJtb3pSZXNwb25zZUFycmF5QnVmZmVyXCJpbiBhLmcpcmV0dXJuIGEuZy5tb3pSZXNwb25zZUFycmF5QnVmZmVyfXJldHVybiBudWxsfWNhdGNoKGIpe3JldHVybiBudWxsfX1cbmZ1bmN0aW9uIFZiKGEpe2NvbnN0IGI9e307YT0oYS5nJiYyPD1QKGEpP2EuZy5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKXx8XCJcIjpcIlwiKS5zcGxpdChcIlxcclxcblwiKTtmb3IobGV0IGQ9MDtkPGEubGVuZ3RoO2QrKyl7aWYodChhW2RdKSljb250aW51ZTt2YXIgYz12YShhW2RdKTtjb25zdCBlPWNbMF07Yz1jWzFdO2lmKFwic3RyaW5nXCIhPT10eXBlb2YgYyljb250aW51ZTtjPWMudHJpbSgpO2NvbnN0IGY9YltlXXx8W107YltlXT1mO2YucHVzaChjKX1yYShiLGZ1bmN0aW9uKGQpe3JldHVybiBkLmpvaW4oXCIsIFwiKX0pfWguQmE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtoLkthPWZ1bmN0aW9uKCl7cmV0dXJuXCJzdHJpbmdcIj09PXR5cGVvZiB0aGlzLmw/dGhpcy5sOlN0cmluZyh0aGlzLmwpfTtmdW5jdGlvbiBYYyhhLGIsYyl7cmV0dXJuIGMmJmMuaW50ZXJuYWxDaGFubmVsUGFyYW1zP2MuaW50ZXJuYWxDaGFubmVsUGFyYW1zW2FdfHxiOmJ9XG5mdW5jdGlvbiBZYyhhKXt0aGlzLkFhPTA7dGhpcy5pPVtdO3RoaXMuaj1uZXcgdmI7dGhpcy5pYT10aGlzLnFhPXRoaXMuST10aGlzLlc9dGhpcy5nPXRoaXMueWE9dGhpcy5EPXRoaXMuSD10aGlzLm09dGhpcy5TPXRoaXMubz1udWxsO3RoaXMuWWE9dGhpcy5VPTA7dGhpcy5WYT1YYyhcImZhaWxGYXN0XCIsITEsYSk7dGhpcy5GPXRoaXMuQz10aGlzLnU9dGhpcy5zPXRoaXMubD1udWxsO3RoaXMuWD0hMDt0aGlzLnphPXRoaXMuVD0tMTt0aGlzLlk9dGhpcy52PXRoaXMuQj0wO3RoaXMuVGE9WGMoXCJiYXNlUmV0cnlEZWxheU1zXCIsNUUzLGEpO3RoaXMuY2I9WGMoXCJyZXRyeURlbGF5U2VlZE1zXCIsMUU0LGEpO3RoaXMuV2E9WGMoXCJmb3J3YXJkQ2hhbm5lbE1heFJldHJpZXNcIiwyLGEpO3RoaXMud2E9WGMoXCJmb3J3YXJkQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXNcIiwyRTQsYSk7dGhpcy5wYT1hJiZhLnhtbEh0dHBGYWN0b3J5fHx2b2lkIDA7dGhpcy5YYT1hJiZhLlRifHx2b2lkIDA7dGhpcy5DYT1cbmEmJmEudXNlRmV0Y2hTdHJlYW1zfHwhMTt0aGlzLkw9dm9pZCAwO3RoaXMuSj1hJiZhLnN1cHBvcnRzQ3Jvc3NEb21haW5YaHJ8fCExO3RoaXMuSz1cIlwiO3RoaXMuaD1uZXcgaWMoYSYmYS5jb25jdXJyZW50UmVxdWVzdExpbWl0KTt0aGlzLkRhPW5ldyBIYzt0aGlzLlA9YSYmYS5mYXN0SGFuZHNoYWtlfHwhMTt0aGlzLk89YSYmYS5lbmNvZGVJbml0TWVzc2FnZUhlYWRlcnN8fCExO3RoaXMuUCYmdGhpcy5PJiYodGhpcy5PPSExKTt0aGlzLlVhPWEmJmEuUmJ8fCExO2EmJmEueGEmJnRoaXMuai54YSgpO2EmJmEuZm9yY2VMb25nUG9sbGluZyYmKHRoaXMuWD0hMSk7dGhpcy5iYT0hdGhpcy5QJiZ0aGlzLlgmJmEmJmEuZGV0ZWN0QnVmZmVyaW5nUHJveHl8fCExO3RoaXMuamE9dm9pZCAwO2EmJmEubG9uZ1BvbGxpbmdUaW1lb3V0JiYwPGEubG9uZ1BvbGxpbmdUaW1lb3V0JiYodGhpcy5qYT1hLmxvbmdQb2xsaW5nVGltZW91dCk7dGhpcy5jYT12b2lkIDA7dGhpcy5SPTA7dGhpcy5NPVxuITE7dGhpcy5rYT10aGlzLkE9bnVsbH1oPVljLnByb3RvdHlwZTtoLmxhPTg7aC5HPTE7aC5jb25uZWN0PWZ1bmN0aW9uKGEsYixjLGQpe0soMCk7dGhpcy5XPWE7dGhpcy5IPWJ8fHt9O2MmJnZvaWQgMCE9PWQmJih0aGlzLkguT1NJRD1jLHRoaXMuSC5PQUlEPWQpO3RoaXMuRj10aGlzLlg7dGhpcy5JPWNjKHRoaXMsbnVsbCx0aGlzLlcpO2ZjKHRoaXMpfTtcbmZ1bmN0aW9uIGdjKGEpe1pjKGEpO2lmKDM9PWEuRyl7dmFyIGI9YS5VKyssYz1OKGEuSSk7UyhjLFwiU0lEXCIsYS5LKTtTKGMsXCJSSURcIixiKTtTKGMsXCJUWVBFXCIsXCJ0ZXJtaW5hdGVcIik7JGMoYSxjKTtiPW5ldyBNKGEsYS5qLGIpO2IuTD0yO2Iudj1JYihOKGMpKTtjPSExO2lmKGsubmF2aWdhdG9yJiZrLm5hdmlnYXRvci5zZW5kQmVhY29uKXRyeXtjPWsubmF2aWdhdG9yLnNlbmRCZWFjb24oYi52LnRvU3RyaW5nKCksXCJcIil9Y2F0Y2goZCl7fSFjJiZrLkltYWdlJiYoKG5ldyBJbWFnZSkuc3JjPWIudixjPSEwKTtjfHwoYi5nPU1iKGIuaixudWxsKSxiLmcuZWEoYi52KSk7Yi5GPURhdGUubm93KCk7S2IoYil9YWQoYSl9ZnVuY3Rpb24gWmIoYSl7YS5nJiYoVGIoYSksYS5nLmNhbmNlbCgpLGEuZz1udWxsKX1cbmZ1bmN0aW9uIFpjKGEpe1piKGEpO2EudSYmKGsuY2xlYXJUaW1lb3V0KGEudSksYS51PW51bGwpO1liKGEpO2EuaC5jYW5jZWwoKTthLnMmJihcIm51bWJlclwiPT09dHlwZW9mIGEucyYmay5jbGVhclRpbWVvdXQoYS5zKSxhLnM9bnVsbCl9ZnVuY3Rpb24gZmMoYSl7aWYoIWpjKGEuaCkmJiFhLnMpe2Eucz0hMDt2YXIgYj1hLkdhO3h8fEVhKCk7eXx8KHgoKSx5PSEwKTt6YS5hZGQoYixhKTthLkI9MH19ZnVuY3Rpb24gYmQoYSxiKXtpZihhYyhhLmgpPj1hLmguai0oYS5zPzE6MCkpcmV0dXJuITE7aWYoYS5zKXJldHVybiBhLmk9Yi5ELmNvbmNhdChhLmkpLCEwO2lmKDE9PWEuR3x8Mj09YS5HfHxhLkI+PShhLlZhPzA6YS5XYSkpcmV0dXJuITE7YS5zPXViKHAoYS5HYSxhLGIpLGNkKGEsYS5CKSk7YS5CKys7cmV0dXJuITB9XG5oLkdhPWZ1bmN0aW9uKGEpe2lmKHRoaXMucylpZih0aGlzLnM9bnVsbCwxPT10aGlzLkcpe2lmKCFhKXt0aGlzLlU9TWF0aC5mbG9vcigxRTUqTWF0aC5yYW5kb20oKSk7YT10aGlzLlUrKztjb25zdCBlPW5ldyBNKHRoaXMsdGhpcy5qLGEpO2xldCBmPXRoaXMubzt0aGlzLlMmJihmPyhmPXNhKGYpLHVhKGYsdGhpcy5TKSk6Zj10aGlzLlMpO251bGwhPT10aGlzLm18fHRoaXMuT3x8KGUuSD1mLGY9bnVsbCk7aWYodGhpcy5QKWE6e3ZhciBiPTA7Zm9yKHZhciBjPTA7Yzx0aGlzLmkubGVuZ3RoO2MrKyl7Yjp7dmFyIGQ9dGhpcy5pW2NdO2lmKFwiX19kYXRhX19cImluIGQubWFwJiYoZD1kLm1hcC5fX2RhdGFfXyxcInN0cmluZ1wiPT09dHlwZW9mIGQpKXtkPWQubGVuZ3RoO2JyZWFrIGJ9ZD12b2lkIDB9aWYodm9pZCAwPT09ZClicmVhaztiKz1kO2lmKDQwOTY8Yil7Yj1jO2JyZWFrIGF9aWYoNDA5Nj09PWJ8fGM9PT10aGlzLmkubGVuZ3RoLTEpe2I9YysxO2JyZWFrIGF9fWI9MUUzfWVsc2UgYj1cbjFFMztiPWRkKHRoaXMsZSxiKTtjPU4odGhpcy5JKTtTKGMsXCJSSURcIixhKTtTKGMsXCJDVkVSXCIsMjIpO3RoaXMuRCYmUyhjLFwiWC1IVFRQLVNlc3Npb24tSWRcIix0aGlzLkQpOyRjKHRoaXMsYyk7ZiYmKHRoaXMuTz9iPVwiaGVhZGVycz1cIitlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKE9jKGYpKSkrXCImXCIrYjp0aGlzLm0mJlBjKGMsdGhpcy5tLGYpKTtiYyh0aGlzLmgsZSk7dGhpcy5VYSYmUyhjLFwiVFlQRVwiLFwiaW5pdFwiKTt0aGlzLlA/KFMoYyxcIiRyZXFcIixiKSxTKGMsXCJTSURcIixcIm51bGxcIiksZS5UPSEwLEhiKGUsYyxudWxsKSk6SGIoZSxjLGIpO3RoaXMuRz0yfX1lbHNlIDM9PXRoaXMuRyYmKGE/ZWQodGhpcyxhKTowPT10aGlzLmkubGVuZ3RofHxqYyh0aGlzLmgpfHxlZCh0aGlzKSl9O1xuZnVuY3Rpb24gZWQoYSxiKXt2YXIgYztiP2M9Yi5sOmM9YS5VKys7Y29uc3QgZD1OKGEuSSk7UyhkLFwiU0lEXCIsYS5LKTtTKGQsXCJSSURcIixjKTtTKGQsXCJBSURcIixhLlQpOyRjKGEsZCk7YS5tJiZhLm8mJlBjKGQsYS5tLGEubyk7Yz1uZXcgTShhLGEuaixjLGEuQisxKTtudWxsPT09YS5tJiYoYy5IPWEubyk7YiYmKGEuaT1iLkQuY29uY2F0KGEuaSkpO2I9ZGQoYSxjLDFFMyk7Yy5JPU1hdGgucm91bmQoLjUqYS53YSkrTWF0aC5yb3VuZCguNSphLndhKk1hdGgucmFuZG9tKCkpO2JjKGEuaCxjKTtIYihjLGQsYil9ZnVuY3Rpb24gJGMoYSxiKXthLkgmJnFhKGEuSCxmdW5jdGlvbihjLGQpe1MoYixkLGMpfSk7YS5sJiZuYyh7fSxmdW5jdGlvbihjLGQpe1MoYixkLGMpfSl9XG5mdW5jdGlvbiBkZChhLGIsYyl7Yz1NYXRoLm1pbihhLmkubGVuZ3RoLGMpO3ZhciBkPWEubD9wKGEubC5OYSxhLmwsYSk6bnVsbDthOnt2YXIgZT1hLmk7bGV0IGY9LTE7Zm9yKDs7KXtjb25zdCBnPVtcImNvdW50PVwiK2NdOy0xPT1mPzA8Yz8oZj1lWzBdLmcsZy5wdXNoKFwib2ZzPVwiK2YpKTpmPTA6Zy5wdXNoKFwib2ZzPVwiK2YpO2xldCBtPSEwO2ZvcihsZXQgcT0wO3E8YztxKyspe2xldCBsPWVbcV0uZztjb25zdCB2PWVbcV0ubWFwO2wtPWY7aWYoMD5sKWY9TWF0aC5tYXgoMCxlW3FdLmctMTAwKSxtPSExO2Vsc2UgdHJ5e0ljKHYsZyxcInJlcVwiK2wrXCJfXCIpfWNhdGNoKHcpe2QmJmQodil9fWlmKG0pe2Q9Zy5qb2luKFwiJlwiKTticmVhayBhfX19YT1hLmkuc3BsaWNlKDAsYyk7Yi5EPWE7cmV0dXJuIGR9ZnVuY3Rpb24gZWMoYSl7aWYoIWEuZyYmIWEudSl7YS5ZPTE7dmFyIGI9YS5GYTt4fHxFYSgpO3l8fCh4KCkseT0hMCk7emEuYWRkKGIsYSk7YS52PTB9fVxuZnVuY3Rpb24gJGIoYSl7aWYoYS5nfHxhLnV8fDM8PWEudilyZXR1cm4hMTthLlkrKzthLnU9dWIocChhLkZhLGEpLGNkKGEsYS52KSk7YS52Kys7cmV0dXJuITB9aC5GYT1mdW5jdGlvbigpe3RoaXMudT1udWxsO2ZkKHRoaXMpO2lmKHRoaXMuYmEmJiEodGhpcy5NfHxudWxsPT10aGlzLmd8fDA+PXRoaXMuUikpe3ZhciBhPTIqdGhpcy5SO3RoaXMuai5pbmZvKFwiQlAgZGV0ZWN0aW9uIHRpbWVyIGVuYWJsZWQ6IFwiK2EpO3RoaXMuQT11YihwKHRoaXMuYWIsdGhpcyksYSl9fTtoLmFiPWZ1bmN0aW9uKCl7dGhpcy5BJiYodGhpcy5BPW51bGwsdGhpcy5qLmluZm8oXCJCUCBkZXRlY3Rpb24gdGltZW91dCByZWFjaGVkLlwiKSx0aGlzLmouaW5mbyhcIkJ1ZmZlcmluZyBwcm94eSBkZXRlY3RlZCBhbmQgc3dpdGNoIHRvIGxvbmctcG9sbGluZyFcIiksdGhpcy5GPSExLHRoaXMuTT0hMCxLKDEwKSxaYih0aGlzKSxmZCh0aGlzKSl9O1xuZnVuY3Rpb24gVGIoYSl7bnVsbCE9YS5BJiYoay5jbGVhclRpbWVvdXQoYS5BKSxhLkE9bnVsbCl9ZnVuY3Rpb24gZmQoYSl7YS5nPW5ldyBNKGEsYS5qLFwicnBjXCIsYS5ZKTtudWxsPT09YS5tJiYoYS5nLkg9YS5vKTthLmcuTz0wO3ZhciBiPU4oYS5xYSk7UyhiLFwiUklEXCIsXCJycGNcIik7UyhiLFwiU0lEXCIsYS5LKTtTKGIsXCJBSURcIixhLlQpO1MoYixcIkNJXCIsYS5GP1wiMFwiOlwiMVwiKTshYS5GJiZhLmphJiZTKGIsXCJUT1wiLGEuamEpO1MoYixcIlRZUEVcIixcInhtbGh0dHBcIik7JGMoYSxiKTthLm0mJmEubyYmUGMoYixhLm0sYS5vKTthLkwmJihhLmcuST1hLkwpO3ZhciBjPWEuZzthPWEuaWE7Yy5MPTE7Yy52PUliKE4oYikpO2MubT1udWxsO2MuUD0hMDtKYihjLGEpfWguWmE9ZnVuY3Rpb24oKXtudWxsIT10aGlzLkMmJih0aGlzLkM9bnVsbCxaYih0aGlzKSwkYih0aGlzKSxLKDE5KSl9O2Z1bmN0aW9uIFliKGEpe251bGwhPWEuQyYmKGsuY2xlYXJUaW1lb3V0KGEuQyksYS5DPW51bGwpfVxuZnVuY3Rpb24gVWIoYSxiKXt2YXIgYz1udWxsO2lmKGEuZz09Yil7WWIoYSk7VGIoYSk7YS5nPW51bGw7dmFyIGQ9Mn1lbHNlIGlmKFhiKGEuaCxiKSljPWIuRCxkYyhhLmgsYiksZD0xO2Vsc2UgcmV0dXJuO2lmKDAhPWEuRylpZihiLm8paWYoMT09ZCl7Yz1iLm0/Yi5tLmxlbmd0aDowO2I9RGF0ZS5ub3coKS1iLkY7dmFyIGU9YS5CO2Q9cWIoKTtGKGQsbmV3IHRiKGQsYyxiLGUpKTtmYyhhKX1lbHNlIGVjKGEpO2Vsc2UgaWYoZT1iLnMsMz09ZXx8MD09ZSYmMDxiLlh8fCEoMT09ZCYmYmQoYSxiKXx8Mj09ZCYmJGIoYSkpKXN3aXRjaChjJiYwPGMubGVuZ3RoJiYoYj1hLmgsYi5pPWIuaS5jb25jYXQoYykpLGUpe2Nhc2UgMTpSKGEsNSk7YnJlYWs7Y2FzZSA0OlIoYSwxMCk7YnJlYWs7Y2FzZSAzOlIoYSw2KTticmVhaztkZWZhdWx0OlIoYSwyKX19XG5mdW5jdGlvbiBjZChhLGIpe2xldCBjPWEuVGErTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKmEuY2IpO2EuaXNBY3RpdmUoKXx8KGMqPTIpO3JldHVybiBjKmJ9ZnVuY3Rpb24gUihhLGIpe2Euai5pbmZvKFwiRXJyb3IgY29kZSBcIitiKTtpZigyPT1iKXt2YXIgYz1wKGEuZmIsYSksZD1hLlhhO2NvbnN0IGU9IWQ7ZD1uZXcgVChkfHxcIi8vd3d3Lmdvb2dsZS5jb20vaW1hZ2VzL2NsZWFyZG90LmdpZlwiKTtrLmxvY2F0aW9uJiZcImh0dHBcIj09ay5sb2NhdGlvbi5wcm90b2NvbHx8cWMoZCxcImh0dHBzXCIpO0liKGQpO2U/RmMoZC50b1N0cmluZygpLGMpOkdjKGQudG9TdHJpbmcoKSxjKX1lbHNlIEsoMik7YS5HPTA7YS5sJiZhLmwuc2EoYik7YWQoYSk7WmMoYSl9aC5mYj1mdW5jdGlvbihhKXthPyh0aGlzLmouaW5mbyhcIlN1Y2Nlc3NmdWxseSBwaW5nZWQgZ29vZ2xlLmNvbVwiKSxLKDIpKToodGhpcy5qLmluZm8oXCJGYWlsZWQgdG8gcGluZyBnb29nbGUuY29tXCIpLEsoMSkpfTtcbmZ1bmN0aW9uIGFkKGEpe2EuRz0wO2Eua2E9W107aWYoYS5sKXtjb25zdCBiPWtjKGEuaCk7aWYoMCE9Yi5sZW5ndGh8fDAhPWEuaS5sZW5ndGgpbWEoYS5rYSxiKSxtYShhLmthLGEuaSksYS5oLmkubGVuZ3RoPTAsbGEoYS5pKSxhLmkubGVuZ3RoPTA7YS5sLnJhKCl9fWZ1bmN0aW9uIGNjKGEsYixjKXt2YXIgZD1jIGluc3RhbmNlb2YgVD9OKGMpOm5ldyBUKGMpO2lmKFwiXCIhPWQuZyliJiYoZC5nPWIrXCIuXCIrZC5nKSxyYyhkLGQucyk7ZWxzZXt2YXIgZT1rLmxvY2F0aW9uO2Q9ZS5wcm90b2NvbDtiPWI/YitcIi5cIitlLmhvc3RuYW1lOmUuaG9zdG5hbWU7ZT0rZS5wb3J0O3ZhciBmPW5ldyBUKG51bGwpO2QmJnFjKGYsZCk7YiYmKGYuZz1iKTtlJiZyYyhmLGUpO2MmJihmLmw9Yyk7ZD1mfWM9YS5EO2I9YS55YTtjJiZiJiZTKGQsYyxiKTtTKGQsXCJWRVJcIixhLmxhKTskYyhhLGQpO3JldHVybiBkfVxuZnVuY3Rpb24gTWIoYSxiLGMpe2lmKGImJiFhLkopdGhyb3cgRXJyb3IoXCJDYW4ndCBjcmVhdGUgc2Vjb25kYXJ5IGRvbWFpbiBjYXBhYmxlIFhocklvIG9iamVjdC5cIik7Yj1hLkNhJiYhYS5wYT9uZXcgWChuZXcgSmMoe2ViOmN9KSk6bmV3IFgoYS5wYSk7Yi5IYShhLkopO3JldHVybiBifWguaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hIXRoaXMubCYmdGhpcy5sLmlzQWN0aXZlKHRoaXMpfTtmdW5jdGlvbiBnZCgpe31oPWdkLnByb3RvdHlwZTtoLnVhPWZ1bmN0aW9uKCl7fTtoLnRhPWZ1bmN0aW9uKCl7fTtoLnNhPWZ1bmN0aW9uKCl7fTtoLnJhPWZ1bmN0aW9uKCl7fTtoLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuITB9O2guTmE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIGhkKCl7fWhkLnByb3RvdHlwZS5nPWZ1bmN0aW9uKGEsYil7cmV0dXJuIG5ldyBZKGEsYil9O1xuZnVuY3Rpb24gWShhLGIpe0UuY2FsbCh0aGlzKTt0aGlzLmc9bmV3IFljKGIpO3RoaXMubD1hO3RoaXMuaD1iJiZiLm1lc3NhZ2VVcmxQYXJhbXN8fG51bGw7YT1iJiZiLm1lc3NhZ2VIZWFkZXJzfHxudWxsO2ImJmIuY2xpZW50UHJvdG9jb2xIZWFkZXJSZXF1aXJlZCYmKGE/YVtcIlgtQ2xpZW50LVByb3RvY29sXCJdPVwid2ViY2hhbm5lbFwiOmE9e1wiWC1DbGllbnQtUHJvdG9jb2xcIjpcIndlYmNoYW5uZWxcIn0pO3RoaXMuZy5vPWE7YT1iJiZiLmluaXRNZXNzYWdlSGVhZGVyc3x8bnVsbDtiJiZiLm1lc3NhZ2VDb250ZW50VHlwZSYmKGE/YVtcIlgtV2ViQ2hhbm5lbC1Db250ZW50LVR5cGVcIl09Yi5tZXNzYWdlQ29udGVudFR5cGU6YT17XCJYLVdlYkNoYW5uZWwtQ29udGVudC1UeXBlXCI6Yi5tZXNzYWdlQ29udGVudFR5cGV9KTtiJiZiLnZhJiYoYT9hW1wiWC1XZWJDaGFubmVsLUNsaWVudC1Qcm9maWxlXCJdPWIudmE6YT17XCJYLVdlYkNoYW5uZWwtQ2xpZW50LVByb2ZpbGVcIjpiLnZhfSk7dGhpcy5nLlM9XG5hOyhhPWImJmIuU2IpJiYhdChhKSYmKHRoaXMuZy5tPWEpO3RoaXMudj1iJiZiLnN1cHBvcnRzQ3Jvc3NEb21haW5YaHJ8fCExO3RoaXMudT1iJiZiLnNlbmRSYXdKc29ufHwhMTsoYj1iJiZiLmh0dHBTZXNzaW9uSWRQYXJhbSkmJiF0KGIpJiYodGhpcy5nLkQ9YixhPXRoaXMuaCxudWxsIT09YSYmYiBpbiBhJiYoYT10aGlzLmgsYiBpbiBhJiZkZWxldGUgYVtiXSkpO3RoaXMuaj1uZXcgWih0aGlzKX1yKFksRSk7WS5wcm90b3R5cGUubT1mdW5jdGlvbigpe3RoaXMuZy5sPXRoaXMuajt0aGlzLnYmJih0aGlzLmcuSj0hMCk7dGhpcy5nLmNvbm5lY3QodGhpcy5sLHRoaXMuaHx8dm9pZCAwKX07WS5wcm90b3R5cGUuY2xvc2U9ZnVuY3Rpb24oKXtnYyh0aGlzLmcpfTtcblkucHJvdG90eXBlLm89ZnVuY3Rpb24oYSl7dmFyIGI9dGhpcy5nO2lmKFwic3RyaW5nXCI9PT10eXBlb2YgYSl7dmFyIGM9e307Yy5fX2RhdGFfXz1hO2E9Y31lbHNlIHRoaXMudSYmKGM9e30sYy5fX2RhdGFfXz1oYihhKSxhPWMpO2IuaS5wdXNoKG5ldyBoYyhiLllhKyssYSkpOzM9PWIuRyYmZmMoYil9O1kucHJvdG90eXBlLk49ZnVuY3Rpb24oKXt0aGlzLmcubD1udWxsO2RlbGV0ZSB0aGlzLmo7Z2ModGhpcy5nKTtkZWxldGUgdGhpcy5nO1kuYWEuTi5jYWxsKHRoaXMpfTtcbmZ1bmN0aW9uIGlkKGEpe25iLmNhbGwodGhpcyk7YS5fX2hlYWRlcnNfXyYmKHRoaXMuaGVhZGVycz1hLl9faGVhZGVyc19fLHRoaXMuc3RhdHVzQ29kZT1hLl9fc3RhdHVzX18sZGVsZXRlIGEuX19oZWFkZXJzX18sZGVsZXRlIGEuX19zdGF0dXNfXyk7dmFyIGI9YS5fX3NtX187aWYoYil7YTp7Zm9yKGNvbnN0IGMgaW4gYil7YT1jO2JyZWFrIGF9YT12b2lkIDB9aWYodGhpcy5pPWEpYT10aGlzLmksYj1udWxsIT09YiYmYSBpbiBiP2JbYV06dm9pZCAwO3RoaXMuZGF0YT1ifWVsc2UgdGhpcy5kYXRhPWF9cihpZCxuYik7ZnVuY3Rpb24gamQoKXtvYi5jYWxsKHRoaXMpO3RoaXMuc3RhdHVzPTF9cihqZCxvYik7ZnVuY3Rpb24gWihhKXt0aGlzLmc9YX1yKFosZ2QpO1oucHJvdG90eXBlLnVhPWZ1bmN0aW9uKCl7Rih0aGlzLmcsXCJhXCIpfTtaLnByb3RvdHlwZS50YT1mdW5jdGlvbihhKXtGKHRoaXMuZyxuZXcgaWQoYSkpfTtcbloucHJvdG90eXBlLnNhPWZ1bmN0aW9uKGEpe0YodGhpcy5nLG5ldyBqZChhKSl9O1oucHJvdG90eXBlLnJhPWZ1bmN0aW9uKCl7Rih0aGlzLmcsXCJiXCIpfTtoZC5wcm90b3R5cGUuY3JlYXRlV2ViQ2hhbm5lbD1oZC5wcm90b3R5cGUuZztZLnByb3RvdHlwZS5zZW5kPVkucHJvdG90eXBlLm87WS5wcm90b3R5cGUub3Blbj1ZLnByb3RvdHlwZS5tO1kucHJvdG90eXBlLmNsb3NlPVkucHJvdG90eXBlLmNsb3NlO21vZHVsZS5leHBvcnRzLmNyZWF0ZVdlYkNoYW5uZWxUcmFuc3BvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IGhkfTttb2R1bGUuZXhwb3J0cy5nZXRTdGF0RXZlbnRUYXJnZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gcWIoKX07bW9kdWxlLmV4cG9ydHMuRXZlbnQ9STttb2R1bGUuZXhwb3J0cy5TdGF0PXttYjowLHBiOjEscWI6MixKYjozLE9iOjQsTGI6NSxNYjo2LEtiOjcsSWI6OCxOYjo5LFBST1hZOjEwLE5PUFJPWFk6MTEsR2I6MTIsQ2I6MTMsRGI6MTQsQmI6MTUsRWI6MTYsRmI6MTcsaWI6MTgsaGI6MTksamI6MjB9O0FiLk5PX0VSUk9SPTA7QWIuVElNRU9VVD04O0FiLkhUVFBfRVJST1I9Njtcbm1vZHVsZS5leHBvcnRzLkVycm9yQ29kZT1BYjtCYi5DT01QTEVURT1cImNvbXBsZXRlXCI7bW9kdWxlLmV4cG9ydHMuRXZlbnRUeXBlPUJiO21iLkV2ZW50VHlwZT1IO0guT1BFTj1cImFcIjtILkNMT1NFPVwiYlwiO0guRVJST1I9XCJjXCI7SC5NRVNTQUdFPVwiZFwiO0UucHJvdG90eXBlLmxpc3Rlbj1FLnByb3RvdHlwZS5LO21vZHVsZS5leHBvcnRzLldlYkNoYW5uZWw9bWI7bW9kdWxlLmV4cG9ydHMuRmV0Y2hYbWxIdHRwRmFjdG9yeT1KYztYLnByb3RvdHlwZS5saXN0ZW5PbmNlPVgucHJvdG90eXBlLkw7WC5wcm90b3R5cGUuZ2V0TGFzdEVycm9yPVgucHJvdG90eXBlLkthO1gucHJvdG90eXBlLmdldExhc3RFcnJvckNvZGU9WC5wcm90b3R5cGUuQmE7WC5wcm90b3R5cGUuZ2V0U3RhdHVzPVgucHJvdG90eXBlLlo7WC5wcm90b3R5cGUuZ2V0UmVzcG9uc2VKc29uPVgucHJvdG90eXBlLk9hO1gucHJvdG90eXBlLmdldFJlc3BvbnNlVGV4dD1YLnByb3RvdHlwZS5vYTtcblgucHJvdG90eXBlLnNlbmQ9WC5wcm90b3R5cGUuZWE7WC5wcm90b3R5cGUuc2V0V2l0aENyZWRlbnRpYWxzPVgucHJvdG90eXBlLkhhO21vZHVsZS5leHBvcnRzLlhocklvPVg7fSkuYXBwbHkoIHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiAgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyAgOiB7fSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBhcHAgPSByZXF1aXJlKCdAZmlyZWJhc2UvYXBwJyk7XG5cbnZhciBuYW1lID0gXCJmaXJlYmFzZVwiO1xudmFyIHZlcnNpb24gPSBcIjEwLjEyLjNcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuYXBwLnJlZ2lzdGVyVmVyc2lvbihuYW1lLCB2ZXJzaW9uLCAnYXBwJyk7XG5cbk9iamVjdC5rZXlzKGFwcCkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICBpZiAoayAhPT0gJ2RlZmF1bHQnICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KGspKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgaywge1xuICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBhcHBba107IH1cbiAgfSk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGZpcmVzdG9yZSA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9maXJlc3RvcmUnKTtcblxuXG5cbk9iamVjdC5rZXlzKGZpcmVzdG9yZSkuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuXHRpZiAoayAhPT0gJ2RlZmF1bHQnICYmICFleHBvcnRzLmhhc093blByb3BlcnR5KGspKSBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgaywge1xuXHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0Z2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBmaXJlc3RvcmVba107IH1cblx0fSk7XG59KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsImNvbnN0IGluc3RhbmNlT2ZBbnkgPSAob2JqZWN0LCBjb25zdHJ1Y3RvcnMpID0+IGNvbnN0cnVjdG9ycy5zb21lKChjKSA9PiBvYmplY3QgaW5zdGFuY2VvZiBjKTtcblxubGV0IGlkYlByb3h5YWJsZVR5cGVzO1xubGV0IGN1cnNvckFkdmFuY2VNZXRob2RzO1xuLy8gVGhpcyBpcyBhIGZ1bmN0aW9uIHRvIHByZXZlbnQgaXQgdGhyb3dpbmcgdXAgaW4gbm9kZSBlbnZpcm9ubWVudHMuXG5mdW5jdGlvbiBnZXRJZGJQcm94eWFibGVUeXBlcygpIHtcbiAgICByZXR1cm4gKGlkYlByb3h5YWJsZVR5cGVzIHx8XG4gICAgICAgIChpZGJQcm94eWFibGVUeXBlcyA9IFtcbiAgICAgICAgICAgIElEQkRhdGFiYXNlLFxuICAgICAgICAgICAgSURCT2JqZWN0U3RvcmUsXG4gICAgICAgICAgICBJREJJbmRleCxcbiAgICAgICAgICAgIElEQkN1cnNvcixcbiAgICAgICAgICAgIElEQlRyYW5zYWN0aW9uLFxuICAgICAgICBdKSk7XG59XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkge1xuICAgIHJldHVybiAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgfHxcbiAgICAgICAgKGN1cnNvckFkdmFuY2VNZXRob2RzID0gW1xuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5hZHZhbmNlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZSxcbiAgICAgICAgICAgIElEQkN1cnNvci5wcm90b3R5cGUuY29udGludWVQcmltYXJ5S2V5LFxuICAgICAgICBdKSk7XG59XG5jb25zdCBjdXJzb3JSZXF1ZXN0TWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uRG9uZU1hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2FjdGlvblN0b3JlTmFtZXNNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlID0gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIHByb21pc2lmeVJlcXVlc3QocmVxdWVzdCkge1xuICAgIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVxdWVzdC5yZW1vdmVFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdWNjZXNzID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh3cmFwKHJlcXVlc3QucmVzdWx0KSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdChyZXF1ZXN0LmVycm9yKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignc3VjY2VzcycsIHN1Y2Nlc3MpO1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgZXJyb3IpO1xuICAgIH0pO1xuICAgIHByb21pc2VcbiAgICAgICAgLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgIC8vIFNpbmNlIGN1cnNvcmluZyByZXVzZXMgdGhlIElEQlJlcXVlc3QgKCpzaWdoKiksIHdlIGNhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWxcbiAgICAgICAgLy8gKHNlZSB3cmFwRnVuY3Rpb24pLlxuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJDdXJzb3IpIHtcbiAgICAgICAgICAgIGN1cnNvclJlcXVlc3RNYXAuc2V0KHZhbHVlLCByZXF1ZXN0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYXRjaGluZyB0byBhdm9pZCBcIlVuY2F1Z2h0IFByb21pc2UgZXhjZXB0aW9uc1wiXG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgLy8gVGhpcyBtYXBwaW5nIGV4aXN0cyBpbiByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYnV0IGRvZXNuJ3QgZG9lc24ndCBleGlzdCBpbiB0cmFuc2Zvcm1DYWNoZS4gVGhpc1xuICAgIC8vIGlzIGJlY2F1c2Ugd2UgY3JlYXRlIG1hbnkgcHJvbWlzZXMgZnJvbSBhIHNpbmdsZSBJREJSZXF1ZXN0LlxuICAgIHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5zZXQocHJvbWlzZSwgcmVxdWVzdCk7XG4gICAgcmV0dXJuIHByb21pc2U7XG59XG5mdW5jdGlvbiBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odHgpIHtcbiAgICAvLyBFYXJseSBiYWlsIGlmIHdlJ3ZlIGFscmVhZHkgY3JlYXRlZCBhIGRvbmUgcHJvbWlzZSBmb3IgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICBpZiAodHJhbnNhY3Rpb25Eb25lTWFwLmhhcyh0eCkpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBkb25lID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICBjb25zdCB1bmxpc3RlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdhYm9ydCcsIGVycm9yKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBlcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlamVjdCh0eC5lcnJvciB8fCBuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydEVycm9yJywgJ0Fib3J0RXJyb3InKSk7XG4gICAgICAgICAgICB1bmxpc3RlbigpO1xuICAgICAgICB9O1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdjb21wbGV0ZScsIGNvbXBsZXRlKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgIH0pO1xuICAgIC8vIENhY2hlIGl0IGZvciBsYXRlciByZXRyaWV2YWwuXG4gICAgdHJhbnNhY3Rpb25Eb25lTWFwLnNldCh0eCwgZG9uZSk7XG59XG5sZXQgaWRiUHJveHlUcmFwcyA9IHtcbiAgICBnZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24pIHtcbiAgICAgICAgICAgIC8vIFNwZWNpYWwgaGFuZGxpbmcgZm9yIHRyYW5zYWN0aW9uLmRvbmUuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ2RvbmUnKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbkRvbmVNYXAuZ2V0KHRhcmdldCk7XG4gICAgICAgICAgICAvLyBQb2x5ZmlsbCBmb3Igb2JqZWN0U3RvcmVOYW1lcyBiZWNhdXNlIG9mIEVkZ2UuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ29iamVjdFN0b3JlTmFtZXMnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldC5vYmplY3RTdG9yZU5hbWVzIHx8IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE1ha2UgdHguc3RvcmUgcmV0dXJuIHRoZSBvbmx5IHN0b3JlIGluIHRoZSB0cmFuc2FjdGlvbiwgb3IgdW5kZWZpbmVkIGlmIHRoZXJlIGFyZSBtYW55LlxuICAgICAgICAgICAgaWYgKHByb3AgPT09ICdzdG9yZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1sxXVxuICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICA6IHJlY2VpdmVyLm9iamVjdFN0b3JlKHJlY2VpdmVyLm9iamVjdFN0b3JlTmFtZXNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIEVsc2UgdHJhbnNmb3JtIHdoYXRldmVyIHdlIGdldCBiYWNrLlxuICAgICAgICByZXR1cm4gd3JhcCh0YXJnZXRbcHJvcF0pO1xuICAgIH0sXG4gICAgc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICAgICAgdGFyZ2V0W3Byb3BdID0gdmFsdWU7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0sXG4gICAgaGFzKHRhcmdldCwgcHJvcCkge1xuICAgICAgICBpZiAodGFyZ2V0IGluc3RhbmNlb2YgSURCVHJhbnNhY3Rpb24gJiZcbiAgICAgICAgICAgIChwcm9wID09PSAnZG9uZScgfHwgcHJvcCA9PT0gJ3N0b3JlJykpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9wIGluIHRhcmdldDtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIHJlcGxhY2VUcmFwcyhjYWxsYmFjaykge1xuICAgIGlkYlByb3h5VHJhcHMgPSBjYWxsYmFjayhpZGJQcm94eVRyYXBzKTtcbn1cbmZ1bmN0aW9uIHdyYXBGdW5jdGlvbihmdW5jKSB7XG4gICAgLy8gRHVlIHRvIGV4cGVjdGVkIG9iamVjdCBlcXVhbGl0eSAod2hpY2ggaXMgZW5mb3JjZWQgYnkgdGhlIGNhY2hpbmcgaW4gYHdyYXBgKSwgd2VcbiAgICAvLyBvbmx5IGNyZWF0ZSBvbmUgbmV3IGZ1bmMgcGVyIGZ1bmMuXG4gICAgLy8gRWRnZSBkb2Vzbid0IHN1cHBvcnQgb2JqZWN0U3RvcmVOYW1lcyAoYm9vbyksIHNvIHdlIHBvbHlmaWxsIGl0IGhlcmUuXG4gICAgaWYgKGZ1bmMgPT09IElEQkRhdGFiYXNlLnByb3RvdHlwZS50cmFuc2FjdGlvbiAmJlxuICAgICAgICAhKCdvYmplY3RTdG9yZU5hbWVzJyBpbiBJREJUcmFuc2FjdGlvbi5wcm90b3R5cGUpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoc3RvcmVOYW1lcywgLi4uYXJncykge1xuICAgICAgICAgICAgY29uc3QgdHggPSBmdW5jLmNhbGwodW53cmFwKHRoaXMpLCBzdG9yZU5hbWVzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcC5zZXQodHgsIHN0b3JlTmFtZXMuc29ydCA/IHN0b3JlTmFtZXMuc29ydCgpIDogW3N0b3JlTmFtZXNdKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKHR4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gQ3Vyc29yIG1ldGhvZHMgYXJlIHNwZWNpYWwsIGFzIHRoZSBiZWhhdmlvdXIgaXMgYSBsaXR0bGUgbW9yZSBkaWZmZXJlbnQgdG8gc3RhbmRhcmQgSURCLiBJblxuICAgIC8vIElEQiwgeW91IGFkdmFuY2UgdGhlIGN1cnNvciBhbmQgd2FpdCBmb3IgYSBuZXcgJ3N1Y2Nlc3MnIG9uIHRoZSBJREJSZXF1ZXN0IHRoYXQgZ2F2ZSB5b3UgdGhlXG4gICAgLy8gY3Vyc29yLiBJdCdzIGtpbmRhIGxpa2UgYSBwcm9taXNlIHRoYXQgY2FuIHJlc29sdmUgd2l0aCBtYW55IHZhbHVlcy4gVGhhdCBkb2Vzbid0IG1ha2Ugc2Vuc2VcbiAgICAvLyB3aXRoIHJlYWwgcHJvbWlzZXMsIHNvIGVhY2ggYWR2YW5jZSBtZXRob2RzIHJldHVybnMgYSBuZXcgcHJvbWlzZSBmb3IgdGhlIGN1cnNvciBvYmplY3QsIG9yXG4gICAgLy8gdW5kZWZpbmVkIGlmIHRoZSBlbmQgb2YgdGhlIGN1cnNvciBoYXMgYmVlbiByZWFjaGVkLlxuICAgIGlmIChnZXRDdXJzb3JBZHZhbmNlTWV0aG9kcygpLmluY2x1ZGVzKGZ1bmMpKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgICAgIGZ1bmMuYXBwbHkodW53cmFwKHRoaXMpLCBhcmdzKTtcbiAgICAgICAgICAgIHJldHVybiB3cmFwKGN1cnNvclJlcXVlc3RNYXAuZ2V0KHRoaXMpKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgIC8vIENhbGxpbmcgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uIHdpdGggdGhlIHByb3h5IGFzICd0aGlzJyBjYXVzZXMgSUxMRUdBTCBJTlZPQ0FUSU9OLCBzbyB3ZSB1c2VcbiAgICAgICAgLy8gdGhlIG9yaWdpbmFsIG9iamVjdC5cbiAgICAgICAgcmV0dXJuIHdyYXAoZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicpXG4gICAgICAgIHJldHVybiB3cmFwRnVuY3Rpb24odmFsdWUpO1xuICAgIC8vIFRoaXMgZG9lc24ndCByZXR1cm4sIGl0IGp1c3QgY3JlYXRlcyBhICdkb25lJyBwcm9taXNlIGZvciB0aGUgdHJhbnNhY3Rpb24sXG4gICAgLy8gd2hpY2ggaXMgbGF0ZXIgcmV0dXJuZWQgZm9yIHRyYW5zYWN0aW9uLmRvbmUgKHNlZSBpZGJPYmplY3RIYW5kbGVyKS5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbilcbiAgICAgICAgY2FjaGVEb25lUHJvbWlzZUZvclRyYW5zYWN0aW9uKHZhbHVlKTtcbiAgICBpZiAoaW5zdGFuY2VPZkFueSh2YWx1ZSwgZ2V0SWRiUHJveHlhYmxlVHlwZXMoKSkpXG4gICAgICAgIHJldHVybiBuZXcgUHJveHkodmFsdWUsIGlkYlByb3h5VHJhcHMpO1xuICAgIC8vIFJldHVybiB0aGUgc2FtZSB2YWx1ZSBiYWNrIGlmIHdlJ3JlIG5vdCBnb2luZyB0byB0cmFuc2Zvcm0gaXQuXG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gd3JhcCh2YWx1ZSkge1xuICAgIC8vIFdlIHNvbWV0aW1lcyBnZW5lcmF0ZSBtdWx0aXBsZSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QgKGVnIHdoZW4gY3Vyc29yaW5nKSwgYmVjYXVzZVxuICAgIC8vIElEQiBpcyB3ZWlyZCBhbmQgYSBzaW5nbGUgSURCUmVxdWVzdCBjYW4geWllbGQgbWFueSByZXNwb25zZXMsIHNvIHRoZXNlIGNhbid0IGJlIGNhY2hlZC5cbiAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBJREJSZXF1ZXN0KVxuICAgICAgICByZXR1cm4gcHJvbWlzaWZ5UmVxdWVzdCh2YWx1ZSk7XG4gICAgLy8gSWYgd2UndmUgYWxyZWFkeSB0cmFuc2Zvcm1lZCB0aGlzIHZhbHVlIGJlZm9yZSwgcmV1c2UgdGhlIHRyYW5zZm9ybWVkIHZhbHVlLlxuICAgIC8vIFRoaXMgaXMgZmFzdGVyLCBidXQgaXQgYWxzbyBwcm92aWRlcyBvYmplY3QgZXF1YWxpdHkuXG4gICAgaWYgKHRyYW5zZm9ybUNhY2hlLmhhcyh2YWx1ZSkpXG4gICAgICAgIHJldHVybiB0cmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuICAgIGNvbnN0IG5ld1ZhbHVlID0gdHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSh2YWx1ZSk7XG4gICAgLy8gTm90IGFsbCB0eXBlcyBhcmUgdHJhbnNmb3JtZWQuXG4gICAgLy8gVGhlc2UgbWF5IGJlIHByaW1pdGl2ZSB0eXBlcywgc28gdGhleSBjYW4ndCBiZSBXZWFrTWFwIGtleXMuXG4gICAgaWYgKG5ld1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICB0cmFuc2Zvcm1DYWNoZS5zZXQodmFsdWUsIG5ld1ZhbHVlKTtcbiAgICAgICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChuZXdWYWx1ZSwgdmFsdWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3VmFsdWU7XG59XG5jb25zdCB1bndyYXAgPSAodmFsdWUpID0+IHJldmVyc2VUcmFuc2Zvcm1DYWNoZS5nZXQodmFsdWUpO1xuXG5leHBvcnQgeyByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgYXMgYSwgaW5zdGFuY2VPZkFueSBhcyBpLCByZXBsYWNlVHJhcHMgYXMgciwgdW53cmFwIGFzIHUsIHdyYXAgYXMgdyB9O1xuIiwiaW1wb3J0IHsgdyBhcyB3cmFwLCByIGFzIHJlcGxhY2VUcmFwcyB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuZXhwb3J0IHsgdSBhcyB1bndyYXAsIHcgYXMgd3JhcCB9IGZyb20gJy4vd3JhcC1pZGItdmFsdWUuanMnO1xuXG4vKipcbiAqIE9wZW4gYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqIEBwYXJhbSB2ZXJzaW9uIFNjaGVtYSB2ZXJzaW9uLlxuICogQHBhcmFtIGNhbGxiYWNrcyBBZGRpdGlvbmFsIGNhbGxiYWNrcy5cbiAqL1xuZnVuY3Rpb24gb3BlbkRCKG5hbWUsIHZlcnNpb24sIHsgYmxvY2tlZCwgdXBncmFkZSwgYmxvY2tpbmcsIHRlcm1pbmF0ZWQgfSA9IHt9KSB7XG4gICAgY29uc3QgcmVxdWVzdCA9IGluZGV4ZWREQi5vcGVuKG5hbWUsIHZlcnNpb24pO1xuICAgIGNvbnN0IG9wZW5Qcm9taXNlID0gd3JhcChyZXF1ZXN0KTtcbiAgICBpZiAodXBncmFkZSkge1xuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3VwZ3JhZGVuZWVkZWQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIHVwZ3JhZGUod3JhcChyZXF1ZXN0LnJlc3VsdCksIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIHdyYXAocmVxdWVzdC50cmFuc2FjdGlvbiksIGV2ZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsIChldmVudCkgPT4gYmxvY2tlZChcbiAgICAgICAgLy8gQ2FzdGluZyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0LURPTS1saWItZ2VuZXJhdG9yL3B1bGwvMTQwNVxuICAgICAgICBldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCBldmVudCkpO1xuICAgIH1cbiAgICBvcGVuUHJvbWlzZVxuICAgICAgICAudGhlbigoZGIpID0+IHtcbiAgICAgICAgaWYgKHRlcm1pbmF0ZWQpXG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCdjbG9zZScsICgpID0+IHRlcm1pbmF0ZWQoKSk7XG4gICAgICAgIGlmIChibG9ja2luZykge1xuICAgICAgICAgICAgZGIuYWRkRXZlbnRMaXN0ZW5lcigndmVyc2lvbmNoYW5nZScsIChldmVudCkgPT4gYmxvY2tpbmcoZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgZXZlbnQpKTtcbiAgICAgICAgfVxuICAgIH0pXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIHJldHVybiBvcGVuUHJvbWlzZTtcbn1cbi8qKlxuICogRGVsZXRlIGEgZGF0YWJhc2UuXG4gKlxuICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZURCKG5hbWUsIHsgYmxvY2tlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKG5hbWUpO1xuICAgIGlmIChibG9ja2VkKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignYmxvY2tlZCcsIChldmVudCkgPT4gYmxvY2tlZChcbiAgICAgICAgLy8gQ2FzdGluZyBkdWUgdG8gaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0LURPTS1saWItZ2VuZXJhdG9yL3B1bGwvMTQwNVxuICAgICAgICBldmVudC5vbGRWZXJzaW9uLCBldmVudCkpO1xuICAgIH1cbiAgICByZXR1cm4gd3JhcChyZXF1ZXN0KS50aGVuKCgpID0+IHVuZGVmaW5lZCk7XG59XG5cbmNvbnN0IHJlYWRNZXRob2RzID0gWydnZXQnLCAnZ2V0S2V5JywgJ2dldEFsbCcsICdnZXRBbGxLZXlzJywgJ2NvdW50J107XG5jb25zdCB3cml0ZU1ldGhvZHMgPSBbJ3B1dCcsICdhZGQnLCAnZGVsZXRlJywgJ2NsZWFyJ107XG5jb25zdCBjYWNoZWRNZXRob2RzID0gbmV3IE1hcCgpO1xuZnVuY3Rpb24gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkge1xuICAgIGlmICghKHRhcmdldCBpbnN0YW5jZW9mIElEQkRhdGFiYXNlICYmXG4gICAgICAgICEocHJvcCBpbiB0YXJnZXQpICYmXG4gICAgICAgIHR5cGVvZiBwcm9wID09PSAnc3RyaW5nJykpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoY2FjaGVkTWV0aG9kcy5nZXQocHJvcCkpXG4gICAgICAgIHJldHVybiBjYWNoZWRNZXRob2RzLmdldChwcm9wKTtcbiAgICBjb25zdCB0YXJnZXRGdW5jTmFtZSA9IHByb3AucmVwbGFjZSgvRnJvbUluZGV4JC8sICcnKTtcbiAgICBjb25zdCB1c2VJbmRleCA9IHByb3AgIT09IHRhcmdldEZ1bmNOYW1lO1xuICAgIGNvbnN0IGlzV3JpdGUgPSB3cml0ZU1ldGhvZHMuaW5jbHVkZXModGFyZ2V0RnVuY05hbWUpO1xuICAgIGlmIChcbiAgICAvLyBCYWlsIGlmIHRoZSB0YXJnZXQgZG9lc24ndCBleGlzdCBvbiB0aGUgdGFyZ2V0LiBFZywgZ2V0QWxsIGlzbid0IGluIEVkZ2UuXG4gICAgISh0YXJnZXRGdW5jTmFtZSBpbiAodXNlSW5kZXggPyBJREJJbmRleCA6IElEQk9iamVjdFN0b3JlKS5wcm90b3R5cGUpIHx8XG4gICAgICAgICEoaXNXcml0ZSB8fCByZWFkTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSkpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgbWV0aG9kID0gYXN5bmMgZnVuY3Rpb24gKHN0b3JlTmFtZSwgLi4uYXJncykge1xuICAgICAgICAvLyBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiB1bmRlZmluZWQgZ3ppcHBzIGJldHRlciwgYnV0IGZhaWxzIGluIEVkZ2UgOihcbiAgICAgICAgY29uc3QgdHggPSB0aGlzLnRyYW5zYWN0aW9uKHN0b3JlTmFtZSwgaXNXcml0ZSA/ICdyZWFkd3JpdGUnIDogJ3JlYWRvbmx5Jyk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0eC5zdG9yZTtcbiAgICAgICAgaWYgKHVzZUluZGV4KVxuICAgICAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0LmluZGV4KGFyZ3Muc2hpZnQoKSk7XG4gICAgICAgIC8vIE11c3QgcmVqZWN0IGlmIG9wIHJlamVjdHMuXG4gICAgICAgIC8vIElmIGl0J3MgYSB3cml0ZSBvcGVyYXRpb24sIG11c3QgcmVqZWN0IGlmIHR4LmRvbmUgcmVqZWN0cy5cbiAgICAgICAgLy8gTXVzdCByZWplY3Qgd2l0aCBvcCByZWplY3Rpb24gZmlyc3QuXG4gICAgICAgIC8vIE11c3QgcmVzb2x2ZSB3aXRoIG9wIHZhbHVlLlxuICAgICAgICAvLyBNdXN0IGhhbmRsZSBib3RoIHByb21pc2VzIChubyB1bmhhbmRsZWQgcmVqZWN0aW9ucylcbiAgICAgICAgcmV0dXJuIChhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0YXJnZXRbdGFyZ2V0RnVuY05hbWVdKC4uLmFyZ3MpLFxuICAgICAgICAgICAgaXNXcml0ZSAmJiB0eC5kb25lLFxuICAgICAgICBdKSlbMF07XG4gICAgfTtcbiAgICBjYWNoZWRNZXRob2RzLnNldChwcm9wLCBtZXRob2QpO1xuICAgIHJldHVybiBtZXRob2Q7XG59XG5yZXBsYWNlVHJhcHMoKG9sZFRyYXBzKSA9PiAoe1xuICAgIC4uLm9sZFRyYXBzLFxuICAgIGdldDogKHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpID0+IGdldE1ldGhvZCh0YXJnZXQsIHByb3ApIHx8IG9sZFRyYXBzLmdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSxcbiAgICBoYXM6ICh0YXJnZXQsIHByb3ApID0+ICEhZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuaGFzKHRhcmdldCwgcHJvcCksXG59KSk7XG5cbmV4cG9ydCB7IGRlbGV0ZURCLCBvcGVuREIgfTtcbiIsIi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLlxuXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcbnB1cnBvc2Ugd2l0aCBvciB3aXRob3V0IGZlZSBpcyBoZXJlYnkgZ3JhbnRlZC5cblxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxuUkVHQVJEIFRPIFRISVMgU09GVFdBUkUgSU5DTFVESU5HIEFMTCBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cbkxPU1MgT0YgVVNFLCBEQVRBIE9SIFBST0ZJVFMsIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBORUdMSUdFTkNFIE9SXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlLCBTdXBwcmVzc2VkRXJyb3IsIFN5bWJvbCAqL1xuXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcbiAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxuICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxuICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcbiAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcbiAgaWYgKHR5cGVvZiBiICE9PSBcImZ1bmN0aW9uXCIgJiYgYiAhPT0gbnVsbClcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcbiAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcbiAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XG4gIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbn1cblxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xuICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xuICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XG4gICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHQ7XG4gIH1cbiAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xuICB2YXIgdCA9IHt9O1xuICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcbiAgICAgIHRbcF0gPSBzW3BdO1xuICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXG4gICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxuICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcbiAgICAgIH1cbiAgcmV0dXJuIHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XG4gIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XG4gIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xuICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXNEZWNvcmF0ZShjdG9yLCBkZXNjcmlwdG9ySW4sIGRlY29yYXRvcnMsIGNvbnRleHRJbiwgaW5pdGlhbGl6ZXJzLCBleHRyYUluaXRpYWxpemVycykge1xuICBmdW5jdGlvbiBhY2NlcHQoZikgeyBpZiAoZiAhPT0gdm9pZCAwICYmIHR5cGVvZiBmICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGdW5jdGlvbiBleHBlY3RlZFwiKTsgcmV0dXJuIGY7IH1cbiAgdmFyIGtpbmQgPSBjb250ZXh0SW4ua2luZCwga2V5ID0ga2luZCA9PT0gXCJnZXR0ZXJcIiA/IFwiZ2V0XCIgOiBraW5kID09PSBcInNldHRlclwiID8gXCJzZXRcIiA6IFwidmFsdWVcIjtcbiAgdmFyIHRhcmdldCA9ICFkZXNjcmlwdG9ySW4gJiYgY3RvciA/IGNvbnRleHRJbltcInN0YXRpY1wiXSA/IGN0b3IgOiBjdG9yLnByb3RvdHlwZSA6IG51bGw7XG4gIHZhciBkZXNjcmlwdG9yID0gZGVzY3JpcHRvckluIHx8ICh0YXJnZXQgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgY29udGV4dEluLm5hbWUpIDoge30pO1xuICB2YXIgXywgZG9uZSA9IGZhbHNlO1xuICBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgdmFyIGNvbnRleHQgPSB7fTtcbiAgICAgIGZvciAodmFyIHAgaW4gY29udGV4dEluKSBjb250ZXh0W3BdID0gcCA9PT0gXCJhY2Nlc3NcIiA/IHt9IDogY29udGV4dEluW3BdO1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4uYWNjZXNzKSBjb250ZXh0LmFjY2Vzc1twXSA9IGNvbnRleHRJbi5hY2Nlc3NbcF07XG4gICAgICBjb250ZXh0LmFkZEluaXRpYWxpemVyID0gZnVuY3Rpb24gKGYpIHsgaWYgKGRvbmUpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgYWRkIGluaXRpYWxpemVycyBhZnRlciBkZWNvcmF0aW9uIGhhcyBjb21wbGV0ZWRcIik7IGV4dHJhSW5pdGlhbGl6ZXJzLnB1c2goYWNjZXB0KGYgfHwgbnVsbCkpOyB9O1xuICAgICAgdmFyIHJlc3VsdCA9ICgwLCBkZWNvcmF0b3JzW2ldKShraW5kID09PSBcImFjY2Vzc29yXCIgPyB7IGdldDogZGVzY3JpcHRvci5nZXQsIHNldDogZGVzY3JpcHRvci5zZXQgfSA6IGRlc2NyaXB0b3Jba2V5XSwgY29udGV4dCk7XG4gICAgICBpZiAoa2luZCA9PT0gXCJhY2Nlc3NvclwiKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdm9pZCAwKSBjb250aW51ZTtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSBudWxsIHx8IHR5cGVvZiByZXN1bHQgIT09IFwib2JqZWN0XCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWRcIik7XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmdldCkpIGRlc2NyaXB0b3IuZ2V0ID0gXztcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuc2V0KSkgZGVzY3JpcHRvci5zZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5pbml0KSkgaW5pdGlhbGl6ZXJzLnVuc2hpZnQoXyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChfID0gYWNjZXB0KHJlc3VsdCkpIHtcbiAgICAgICAgICBpZiAoa2luZCA9PT0gXCJmaWVsZFwiKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgICAgICBlbHNlIGRlc2NyaXB0b3Jba2V5XSA9IF87XG4gICAgICB9XG4gIH1cbiAgaWYgKHRhcmdldCkgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgY29udGV4dEluLm5hbWUsIGRlc2NyaXB0b3IpO1xuICBkb25lID0gdHJ1ZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3J1bkluaXRpYWxpemVycyh0aGlzQXJnLCBpbml0aWFsaXplcnMsIHZhbHVlKSB7XG4gIHZhciB1c2VWYWx1ZSA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRpYWxpemVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWUgPSB1c2VWYWx1ZSA/IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcsIHZhbHVlKSA6IGluaXRpYWxpemVyc1tpXS5jYWxsKHRoaXNBcmcpO1xuICB9XG4gIHJldHVybiB1c2VWYWx1ZSA/IHZhbHVlIDogdm9pZCAwO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcHJvcEtleSh4KSB7XG4gIHJldHVybiB0eXBlb2YgeCA9PT0gXCJzeW1ib2xcIiA/IHggOiBcIlwiLmNvbmNhdCh4KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3NldEZ1bmN0aW9uTmFtZShmLCBuYW1lLCBwcmVmaXgpIHtcbiAgaWYgKHR5cGVvZiBuYW1lID09PSBcInN5bWJvbFwiKSBuYW1lID0gbmFtZS5kZXNjcmlwdGlvbiA/IFwiW1wiLmNvbmNhdChuYW1lLmRlc2NyaXB0aW9uLCBcIl1cIikgOiBcIlwiO1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KGYsIFwibmFtZVwiLCB7IGNvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHByZWZpeCA/IFwiXCIuY29uY2F0KHByZWZpeCwgXCIgXCIsIG5hbWUpIDogbmFtZSB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XG4gIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XG4gIGZ1bmN0aW9uIGFkb3B0KHZhbHVlKSB7IHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFAgPyB2YWx1ZSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUodmFsdWUpOyB9KTsgfVxuICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgIGZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yW1widGhyb3dcIl0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2dlbmVyYXRvcih0aGlzQXJnLCBib2R5KSB7XG4gIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XG4gIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBzdGVwKFtuLCB2XSk7IH07IH1cbiAgZnVuY3Rpb24gc3RlcChvcCkge1xuICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xuICAgICAgd2hpbGUgKGcgJiYgKGcgPSAwLCBvcFswXSAmJiAoXyA9IDApKSwgXykgdHJ5IHtcbiAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XG4gICAgICAgICAgaWYgKHkgPSAwLCB0KSBvcCA9IFtvcFswXSAmIDIsIHQudmFsdWVdO1xuICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcbiAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgNDogXy5sYWJlbCsrOyByZXR1cm4geyB2YWx1ZTogb3BbMV0sIGRvbmU6IGZhbHNlIH07XG4gICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcbiAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxuICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSA2ICYmIF8ubGFiZWwgPCB0WzFdKSB7IF8ubGFiZWwgPSB0WzFdOyB0ID0gb3A7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XG4gICAgICAgICAgICAgICAgICBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHsgb3AgPSBbNiwgZV07IHkgPSAwOyB9IGZpbmFsbHkgeyBmID0gdCA9IDA7IH1cbiAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xuICB9XG59XG5cbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XG4gIGlmICghZGVzYyB8fCAoXCJnZXRcIiBpbiBkZXNjID8gIW0uX19lc01vZHVsZSA6IGRlc2Mud3JpdGFibGUgfHwgZGVzYy5jb25maWd1cmFibGUpKSB7XG4gICAgICBkZXNjID0geyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9O1xuICB9XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgZGVzYyk7XG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xuICBpZiAoazIgPT09IHVuZGVmaW5lZCkgazIgPSBrO1xuICBvW2syXSA9IG1ba107XG59KTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XG4gIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcbiAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDtcbiAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XG4gIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcbiAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xuICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcbiAgICAgIH1cbiAgfTtcbiAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcbiAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdO1xuICBpZiAoIW0pIHJldHVybiBvO1xuICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcbiAgdHJ5IHtcbiAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xuICB9XG4gIGNhdGNoIChlcnJvcikgeyBlID0geyBlcnJvcjogZXJyb3IgfTsgfVxuICBmaW5hbGx5IHtcbiAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHIgJiYgIXIuZG9uZSAmJiAobSA9IGlbXCJyZXR1cm5cIl0pKSBtLmNhbGwoaSk7XG4gICAgICB9XG4gICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cbiAgfVxuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xuICBmb3IgKHZhciBhciA9IFtdLCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKylcbiAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcbiAgcmV0dXJuIGFyO1xufVxuXG4vKiogQGRlcHJlY2F0ZWQgKi9cbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcbiAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XG4gIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcbiAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxuICAgICAgICAgIHJba10gPSBhW2pdO1xuICByZXR1cm4gcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXkodG8sIGZyb20sIHBhY2spIHtcbiAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcbiAgICAgIGlmIChhciB8fCAhKGkgaW4gZnJvbSkpIHtcbiAgICAgICAgICBpZiAoIWFyKSBhciA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20sIDAsIGkpO1xuICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xuICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiwgYXdhaXRSZXR1cm4pLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIGF3YWl0UmV0dXJuKGYpIHsgcmV0dXJuIGZ1bmN0aW9uICh2KSB7IHJldHVybiBQcm9taXNlLnJlc29sdmUodikudGhlbihmLCByZWplY3QpOyB9OyB9XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpZiAoZ1tuXSkgeyBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyBpZiAoZikgaVtuXSA9IGYoaVtuXSk7IH0gfVxuICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XG4gIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxuICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XG4gIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XG4gIHZhciBpLCBwO1xuICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xuICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBmYWxzZSB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XG4gIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG4gIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XG4gIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcbiAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxuICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xuICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxuICByZXR1cm4gY29va2VkO1xufTtcblxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcbiAgb1tcImRlZmF1bHRcIl0gPSB2O1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcbiAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XG4gIF9fc2V0TW9kdWxlRGVmYXVsdChyZXN1bHQsIG1vZCk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XG4gIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBnZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZFNldChyZWNlaXZlciwgc3RhdGUsIHZhbHVlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcIm1cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgbWV0aG9kIGlzIG5vdCB3cml0YWJsZVwiKTtcbiAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCB3cml0ZSBwcml2YXRlIG1lbWJlciB0byBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xuICByZXR1cm4gKGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gZi52YWx1ZSA9IHZhbHVlIDogc3RhdGUuc2V0KHJlY2VpdmVyLCB2YWx1ZSkpLCB2YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRJbihzdGF0ZSwgcmVjZWl2ZXIpIHtcbiAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XG4gIHJldHVybiB0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyID09PSBzdGF0ZSA6IHN0YXRlLmhhcyhyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZShlbnYsIHZhbHVlLCBhc3luYykge1xuICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHZvaWQgMCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJPYmplY3QgZXhwZWN0ZWQuXCIpO1xuICAgIHZhciBkaXNwb3NlLCBpbm5lcjtcbiAgICBpZiAoYXN5bmMpIHtcbiAgICAgIGlmICghU3ltYm9sLmFzeW5jRGlzcG9zZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0Rpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5hc3luY0Rpc3Bvc2VdO1xuICAgIH1cbiAgICBpZiAoZGlzcG9zZSA9PT0gdm9pZCAwKSB7XG4gICAgICBpZiAoIVN5bWJvbC5kaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmRpc3Bvc2UgaXMgbm90IGRlZmluZWQuXCIpO1xuICAgICAgZGlzcG9zZSA9IHZhbHVlW1N5bWJvbC5kaXNwb3NlXTtcbiAgICAgIGlmIChhc3luYykgaW5uZXIgPSBkaXNwb3NlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGRpc3Bvc2UgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBub3QgZGlzcG9zYWJsZS5cIik7XG4gICAgaWYgKGlubmVyKSBkaXNwb3NlID0gZnVuY3Rpb24oKSB7IHRyeSB7IGlubmVyLmNhbGwodGhpcyk7IH0gY2F0Y2ggKGUpIHsgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpOyB9IH07XG4gICAgZW52LnN0YWNrLnB1c2goeyB2YWx1ZTogdmFsdWUsIGRpc3Bvc2U6IGRpc3Bvc2UsIGFzeW5jOiBhc3luYyB9KTtcbiAgfVxuICBlbHNlIGlmIChhc3luYykge1xuICAgIGVudi5zdGFjay5wdXNoKHsgYXN5bmM6IHRydWUgfSk7XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgX1N1cHByZXNzZWRFcnJvciA9IHR5cGVvZiBTdXBwcmVzc2VkRXJyb3IgPT09IFwiZnVuY3Rpb25cIiA/IFN1cHByZXNzZWRFcnJvciA6IGZ1bmN0aW9uIChlcnJvciwgc3VwcHJlc3NlZCwgbWVzc2FnZSkge1xuICB2YXIgZSA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGUubmFtZSA9IFwiU3VwcHJlc3NlZEVycm9yXCIsIGUuZXJyb3IgPSBlcnJvciwgZS5zdXBwcmVzc2VkID0gc3VwcHJlc3NlZCwgZTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2Rpc3Bvc2VSZXNvdXJjZXMoZW52KSB7XG4gIGZ1bmN0aW9uIGZhaWwoZSkge1xuICAgIGVudi5lcnJvciA9IGVudi5oYXNFcnJvciA/IG5ldyBfU3VwcHJlc3NlZEVycm9yKGUsIGVudi5lcnJvciwgXCJBbiBlcnJvciB3YXMgc3VwcHJlc3NlZCBkdXJpbmcgZGlzcG9zYWwuXCIpIDogZTtcbiAgICBlbnYuaGFzRXJyb3IgPSB0cnVlO1xuICB9XG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgd2hpbGUgKGVudi5zdGFjay5sZW5ndGgpIHtcbiAgICAgIHZhciByZWMgPSBlbnYuc3RhY2sucG9wKCk7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gcmVjLmRpc3Bvc2UgJiYgcmVjLmRpc3Bvc2UuY2FsbChyZWMudmFsdWUpO1xuICAgICAgICBpZiAocmVjLmFzeW5jKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlc3VsdCkudGhlbihuZXh0LCBmdW5jdGlvbihlKSB7IGZhaWwoZSk7IHJldHVybiBuZXh0KCk7IH0pO1xuICAgICAgfVxuICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICBmYWlsKGUpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZW52Lmhhc0Vycm9yKSB0aHJvdyBlbnYuZXJyb3I7XG4gIH1cbiAgcmV0dXJuIG5leHQoKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuICBfX2V4dGVuZHMsXG4gIF9fYXNzaWduLFxuICBfX3Jlc3QsXG4gIF9fZGVjb3JhdGUsXG4gIF9fcGFyYW0sXG4gIF9fbWV0YWRhdGEsXG4gIF9fYXdhaXRlcixcbiAgX19nZW5lcmF0b3IsXG4gIF9fY3JlYXRlQmluZGluZyxcbiAgX19leHBvcnRTdGFyLFxuICBfX3ZhbHVlcyxcbiAgX19yZWFkLFxuICBfX3NwcmVhZCxcbiAgX19zcHJlYWRBcnJheXMsXG4gIF9fc3ByZWFkQXJyYXksXG4gIF9fYXdhaXQsXG4gIF9fYXN5bmNHZW5lcmF0b3IsXG4gIF9fYXN5bmNEZWxlZ2F0b3IsXG4gIF9fYXN5bmNWYWx1ZXMsXG4gIF9fbWFrZVRlbXBsYXRlT2JqZWN0LFxuICBfX2ltcG9ydFN0YXIsXG4gIF9faW1wb3J0RGVmYXVsdCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCxcbiAgX19jbGFzc1ByaXZhdGVGaWVsZEluLFxuICBfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSxcbiAgX19kaXNwb3NlUmVzb3VyY2VzLFxufTtcbiIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCIvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSAoZXhwb3J0cykgPT4ge1xuXHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcblx0fVxuXHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xufTsiLCIvLyBzdGFydHVwXG4vLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8vIFRoaXMgZW50cnkgbW9kdWxlIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgbW9kdWxlcyBzbyBpdCBjYW4ndCBiZSBpbmxpbmVkXG52YXIgX193ZWJwYWNrX2V4cG9ydHNfXyA9IF9fd2VicGFja19yZXF1aXJlX18oMTU2KTtcbiJdLCJuYW1lcyI6WyJhcHAiLCJpbml0aWFsaXplQXBwIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsImFwcElkIiwibWVhc3VyZW1lbnRJZCIsImRiIiwiZ2V0RmlyZXN0b3JlIiwiY29ja3RhaWxzRGF0YSIsImx1eHVyeURhdGEiLCJiZWVyRGF0YSIsInVwZGF0ZURyaW5rQ291bnQiLCJkcmluayIsImNhdGVnb3J5IiwiZHJpbmtSZWYiLCJkb2MiLCJyZXBsYWNlIiwiZG9jU25hcCIsImdldERvYyIsImV4aXN0cyIsImN1cnJlbnRDb3VudCIsImRhdGEiLCJjb3VudCIsInVwZGF0ZURvYyIsImNvbnNvbGUiLCJsb2ciLCJzZXREb2MiLCJlcnJvciIsImluaXRpYWxpemVSZXN1bHRzIiwiY2F0ZWdvcmllcyIsImRyaW5rcyIsImNvdW50RWxlbWVudCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJ0b0xvd2VyQ2FzZSIsImlubmVyVGV4dCIsImFkZEV2ZW50TGlzdGVuZXIiLCJsYXN0TmFtZSIsInZhbHVlIiwiZmlyc3ROYW1lIiwiZ3Vlc3RSZWYiLCJhZGRHdWVzdCIsImFsZXJ0IiwiZ3Vlc3RzQ29sbGVjdGlvbiIsImNvbGxlY3Rpb24iLCJvblNuYXBzaG90Iiwic25hcHNob3QiLCJndWVzdExpc3QiLCJpbm5lckhUTUwiLCJmb3JFYWNoIiwiZ3Vlc3QiLCJyb3ciLCJjcmVhdGVFbGVtZW50IiwibGFzdE5hbWVDZWxsIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsImZpcnN0TmFtZUNlbGwiLCJ1cGRhdGVHdWVzdExpc3RJbkhUTUwiLCJpbml0aWFsaXplR3Vlc3RMaXN0IiwiY29ja3RhaWxzIiwibHV4dXJ5IiwiYmVlciIsIk9iamVjdCIsImVudHJpZXMiLCJpbml0aWFsaXplRmlyZXN0b3JlRGF0YSIsInN1cnZleUZvcm0iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwiZm9ybURhdGEiLCJGb3JtRGF0YSIsInRhcmdldCIsImNvY2t0YWlsRHJpbmtzIiwiZ2V0QWxsIiwidG9TdHJpbmciLCJsdXh1cnlEcmlua3MiLCJiZWVyRHJpbmtzIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsImNsYXNzTGlzdCIsInJlbW92ZSIsInF1ZXJ5U2VsZWN0b3IiLCJzdHlsZSIsImRpc3BsYXkiLCJkb2NTbmFwc2hvdCIsInVwZGF0ZVJlc3VsdEluSFRNTCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsIl9hJDEiLCJfYSIsImNvbXBvbmVudCIsInRzbGliIiwibG9nZ2VyJDEiLCJ1dGlsIiwiaWRiIiwiUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbCIsImNvbnRhaW5lciIsInRoaXMiLCJwcm90b3R5cGUiLCJnZXRQbGF0Zm9ybUluZm9TdHJpbmciLCJnZXRQcm92aWRlcnMiLCJtYXAiLCJwcm92aWRlciIsImdldENvbXBvbmVudCIsInR5cGUiLCJpc1ZlcnNpb25TZXJ2aWNlUHJvdmlkZXIiLCJzZXJ2aWNlIiwiZ2V0SW1tZWRpYXRlIiwiY29uY2F0IiwibGlicmFyeSIsInZlcnNpb24iLCJmaWx0ZXIiLCJsb2dTdHJpbmciLCJqb2luIiwibmFtZSRwIiwidmVyc2lvbiQxIiwibG9nZ2VyIiwiTG9nZ2VyIiwiREVGQVVMVF9FTlRSWV9OQU1FIiwiUExBVEZPUk1fTE9HX1NUUklORyIsIl9hcHBzIiwiTWFwIiwiX3NlcnZlckFwcHMiLCJfY29tcG9uZW50cyIsIl9hZGRDb21wb25lbnQiLCJhZGRDb21wb25lbnQiLCJlIiwiZGVidWciLCJuYW1lIiwiX3JlZ2lzdGVyQ29tcG9uZW50IiwiZV8xIiwiZV8yIiwiX2IiLCJjb21wb25lbnROYW1lIiwiaGFzIiwic2V0IiwiX2MiLCJfX3ZhbHVlcyIsInZhbHVlcyIsIl9kIiwibmV4dCIsImRvbmUiLCJlXzFfMSIsInJldHVybiIsImNhbGwiLCJfZSIsIl9mIiwiZV8yXzEiLCJfZ2V0UHJvdmlkZXIiLCJoZWFydGJlYXRDb250cm9sbGVyIiwiZ2V0UHJvdmlkZXIiLCJvcHRpb25hbCIsInRyaWdnZXJIZWFydGJlYXQiLCJfaXNGaXJlYmFzZUFwcCIsIm9iaiIsInVuZGVmaW5lZCIsIm9wdGlvbnMiLCJFUlJPUlMiLCJFUlJPUl9GQUNUT1JZIiwiRXJyb3JGYWN0b3J5IiwiRmlyZWJhc2VBcHBJbXBsIiwiY29uZmlnIiwiX3RoaXMiLCJfaXNEZWxldGVkIiwiX29wdGlvbnMiLCJfX2Fzc2lnbiIsIl9jb25maWciLCJfbmFtZSIsIl9hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQiLCJhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQiLCJfY29udGFpbmVyIiwiQ29tcG9uZW50IiwiZ2V0IiwiY2hlY2tEZXN0cm95ZWQiLCJ2YWwiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwiaXNEZWxldGVkIiwiY3JlYXRlIiwiYXBwTmFtZSIsIkZpcmViYXNlU2VydmVyQXBwSW1wbCIsIl9zdXBlciIsInNlcnZlckNvbmZpZyIsImFwcEltcGwiLCJfc2VydmVyQ29uZmlnIiwiX2ZpbmFsaXphdGlvblJlZ2lzdHJ5IiwiRmluYWxpemF0aW9uUmVnaXN0cnkiLCJhdXRvbWF0aWNDbGVhbnVwIiwiX3JlZkNvdW50IiwiaW5jUmVmQ291bnQiLCJyZWxlYXNlT25EZXJlZiIsInJlZ2lzdGVyVmVyc2lvbiIsIl9fZXh0ZW5kcyIsInRvSlNPTiIsInJlZ2lzdGVyIiwiZGVjUmVmQ291bnQiLCJkZWxldGVBcHAiLCJyYXdDb25maWciLCJTdHJpbmciLCJnZXREZWZhdWx0QXBwQ29uZmlnIiwiZXhpc3RpbmdBcHAiLCJkZWVwRXF1YWwiLCJDb21wb25lbnRDb250YWluZXIiLCJjb21wb25lbnQkMSIsIm5ld0FwcCIsIl9fYXdhaXRlciIsImNsZWFudXBQcm92aWRlcnMiLCJfX2dlbmVyYXRvciIsImxhYmVsIiwiZGVsZXRlIiwiUHJvbWlzZSIsImFsbCIsInNlbnQiLCJsaWJyYXJ5S2V5T3JOYW1lIiwidmFyaWFudCIsImxpYnJhcnlNaXNtYXRjaCIsIm1hdGNoIiwidmVyc2lvbk1pc21hdGNoIiwid2FybmluZyIsInB1c2giLCJ3YXJuIiwiREJfTkFNRSIsIkRCX1ZFUlNJT04iLCJTVE9SRV9OQU1FIiwiZGJQcm9taXNlIiwiZ2V0RGJQcm9taXNlIiwib3BlbkRCIiwidXBncmFkZSIsIm9sZFZlcnNpb24iLCJjcmVhdGVPYmplY3RTdG9yZSIsImNhdGNoIiwib3JpZ2luYWxFcnJvck1lc3NhZ2UiLCJtZXNzYWdlIiwicmVhZEhlYXJ0YmVhdHNGcm9tSW5kZXhlZERCIiwidHgiLCJyZXN1bHQiLCJpZGJHZXRFcnJvciIsInRyeXMiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwiY29tcHV0ZUtleSIsIkZpcmViYXNlRXJyb3IiLCJ3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQiIsImhlYXJ0YmVhdE9iamVjdCIsInB1dCIsIkhlYXJ0YmVhdFNlcnZpY2VJbXBsIiwiX2hlYXJ0YmVhdHNDYWNoZSIsIl9zdG9yYWdlIiwiSGVhcnRiZWF0U3RvcmFnZUltcGwiLCJfaGVhcnRiZWF0c0NhY2hlUHJvbWlzZSIsInJlYWQiLCJ0aGVuIiwicGxhdGZvcm1Mb2dnZXIiLCJhZ2VudCIsImRhdGUiLCJnZXRVVENEYXRlU3RyaW5nIiwiaGVhcnRiZWF0cyIsImxhc3RTZW50SGVhcnRiZWF0RGF0ZSIsInNvbWUiLCJzaW5nbGVEYXRlSGVhcnRiZWF0IiwiaGJUaW1lc3RhbXAiLCJEYXRlIiwidmFsdWVPZiIsIm5vdyIsIm92ZXJ3cml0ZSIsImdldEhlYXJ0YmVhdHNIZWFkZXIiLCJoZWFydGJlYXRzVG9TZW5kIiwidW5zZW50RW50cmllcyIsImhlYWRlclN0cmluZyIsImxlbmd0aCIsImhlYXJ0YmVhdHNDYWNoZSIsIm1heFNpemUiLCJzbGljZSIsIl9sb29wXzEiLCJoZWFydGJlYXRFbnRyeSIsImZpbmQiLCJoYiIsImRhdGVzIiwiY291bnRCeXRlcyIsInBvcCIsImhlYXJ0YmVhdHNDYWNoZV8xIiwiaGVhcnRiZWF0c0NhY2hlXzFfMSIsImV4dHJhY3RIZWFydGJlYXRzRm9ySGVhZGVyIiwiYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmciLCJKU09OIiwic3RyaW5naWZ5IiwidG9JU09TdHJpbmciLCJzdWJzdHJpbmciLCJfY2FuVXNlSW5kZXhlZERCUHJvbWlzZSIsInJ1bkluZGV4ZWREQkVudmlyb25tZW50Q2hlY2siLCJpc0luZGV4ZWREQkF2YWlsYWJsZSIsInZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUiLCJpZGJIZWFydGJlYXRPYmplY3QiLCJoZWFydGJlYXRzT2JqZWN0IiwiZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0IiwiYWRkIiwiX19zcHJlYWRBcnJheSIsIl9fcmVhZCIsIlNES19WRVJTSU9OIiwiX0RFRkFVTFRfRU5UUllfTkFNRSIsIl9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudCIsImFkZE9yT3ZlcndyaXRlQ29tcG9uZW50IiwiX2NsZWFyQ29tcG9uZW50cyIsImNsZWFyIiwiX2lzRmlyZWJhc2VTZXJ2ZXJBcHAiLCJzZXR0aW5ncyIsIl9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UiLCJpbnN0YW5jZUlkZW50aWZpZXIiLCJjbGVhckluc3RhbmNlIiwiZ2V0QXBwIiwiZ2V0QXBwcyIsIkFycmF5IiwiZnJvbSIsImluaXRpYWxpemVTZXJ2ZXJBcHAiLCJfc2VydmVyQXBwQ29uZmlnIiwiYXBwT3B0aW9ucyIsImlzQnJvd3NlciIsImlzV2ViV29ya2VyIiwibmFtZU9iaiIsInMiLCJuYW1lU3RyaW5nIiwicmVkdWNlIiwiaGFzaCIsImMiLCJNYXRoIiwiaW11bCIsImNoYXJDb2RlQXQiLCJvbkxvZyIsImxvZ0NhbGxiYWNrIiwic2V0VXNlckxvZ0hhbmRsZXIiLCJzZXRMb2dMZXZlbCIsImxvZ0xldmVsIiwiaW5zdGFuY2VGYWN0b3J5IiwibXVsdGlwbGVJbnN0YW5jZXMiLCJzZXJ2aWNlUHJvcHMiLCJpbnN0YW50aWF0aW9uTW9kZSIsIm9uSW5zdGFuY2VDcmVhdGVkIiwic2V0SW5zdGFudGlhdGlvbk1vZGUiLCJtb2RlIiwic2V0TXVsdGlwbGVJbnN0YW5jZXMiLCJzZXRTZXJ2aWNlUHJvcHMiLCJwcm9wcyIsInNldEluc3RhbmNlQ3JlYXRlZENhbGxiYWNrIiwiY2FsbGJhY2siLCJQcm92aWRlciIsImluc3RhbmNlcyIsImluc3RhbmNlc0RlZmVycmVkIiwiaW5zdGFuY2VzT3B0aW9ucyIsIm9uSW5pdENhbGxiYWNrcyIsImlkZW50aWZpZXIiLCJub3JtYWxpemVkSWRlbnRpZmllciIsIm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllciIsImRlZmVycmVkIiwiRGVmZXJyZWQiLCJpc0luaXRpYWxpemVkIiwic2hvdWxkQXV0b0luaXRpYWxpemUiLCJpbnN0YW5jZSIsImdldE9ySW5pdGlhbGl6ZVNlcnZpY2UiLCJyZXNvbHZlIiwicHJvbWlzZSIsIkVycm9yIiwic2V0Q29tcG9uZW50IiwiaXNDb21wb25lbnRFYWdlciIsImluc3RhbmNlRGVmZXJyZWQiLCJzZXJ2aWNlcyIsIklOVEVSTkFMIiwiX2RlbGV0ZSIsImlzQ29tcG9uZW50U2V0IiwiZ2V0T3B0aW9ucyIsImluaXRpYWxpemUiLCJvcHRzIiwib25Jbml0IiwiZXhpc3RpbmdDYWxsYmFja3MiLCJTZXQiLCJleGlzdGluZ0luc3RhbmNlIiwiaW52b2tlT25Jbml0Q2FsbGJhY2tzIiwiZV8zIiwiY2FsbGJhY2tzIiwiY2FsbGJhY2tzXzEiLCJjYWxsYmFja3NfMV8xIiwiZV8zXzEiLCJwcm92aWRlcnMiLCJibG9vbUJsb2IiLCJ3ZWJjaGFubmVsQmxvYiIsIlMiLCJVc2VyIiwiY29uc3RydWN0b3IiLCJ1aWQiLCJpc0F1dGhlbnRpY2F0ZWQiLCJ0b0tleSIsImlzRXF1YWwiLCJVTkFVVEhFTlRJQ0FURUQiLCJHT09HTEVfQ1JFREVOVElBTFMiLCJGSVJTVF9QQVJUWSIsIk1PQ0tfVVNFUiIsImIiLCJEIiwiX19QUklWQVRFX2dldExvZ0xldmVsIiwiX19QUklWQVRFX2xvZ0RlYnVnIiwidCIsIkxvZ0xldmVsIiwiREVCVUciLCJuIiwiX19QUklWQVRFX2FyZ1RvU3RyaW5nIiwiX19QUklWQVRFX2xvZ0Vycm9yIiwiRVJST1IiLCJfX1BSSVZBVEVfbG9nV2FybiIsIldBUk4iLCJmYWlsIiwiX19QUklWQVRFX2hhcmRBc3NlcnQiLCJfX1BSSVZBVEVfZGVidWdDYXN0IiwiQyIsIk9LIiwiQ0FOQ0VMTEVEIiwiVU5LTk9XTiIsIklOVkFMSURfQVJHVU1FTlQiLCJERUFETElORV9FWENFRURFRCIsIk5PVF9GT1VORCIsIkFMUkVBRFlfRVhJU1RTIiwiUEVSTUlTU0lPTl9ERU5JRUQiLCJSRVNPVVJDRV9FWEhBVVNURUQiLCJGQUlMRURfUFJFQ09ORElUSU9OIiwiQUJPUlRFRCIsIk9VVF9PRl9SQU5HRSIsIlVOSU1QTEVNRU5URUQiLCJVTkFWQUlMQUJMRSIsIkRBVEFfTE9TUyIsIkZpcmVzdG9yZUVycm9yIiwic3VwZXIiLCJjb2RlIiwiX19QUklWQVRFX0RlZmVycmVkIiwicmVqZWN0IiwiX19QUklWQVRFX09BdXRoVG9rZW4iLCJ1c2VyIiwiaGVhZGVycyIsIl9fUFJJVkFURV9FbXB0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIiwiZ2V0VG9rZW4iLCJpbnZhbGlkYXRlVG9rZW4iLCJzdGFydCIsImVucXVldWVSZXRyeWFibGUiLCJzaHV0ZG93biIsIl9fUFJJVkFURV9FbXVsYXRvckF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIiwidG9rZW4iLCJjaGFuZ2VMaXN0ZW5lciIsIl9fUFJJVkFURV9GaXJlYmFzZUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIiwiY3VycmVudFVzZXIiLCJpIiwiZm9yY2VSZWZyZXNoIiwiYXV0aCIsIl9fUFJJVkFURV9ndWFyZGVkQ2hhbmdlTGlzdGVuZXIiLCJyIiwibyIsInUiLCJfX1BSSVZBVEVfYXdhaXROZXh0VG9rZW4iLCJfX1BSSVZBVEVfcmVnaXN0ZXJBdXRoIiwiYWRkQXV0aFRva2VuTGlzdGVuZXIiLCJzZXRUaW1lb3V0IiwiYWNjZXNzVG9rZW4iLCJyZW1vdmVBdXRoVG9rZW5MaXN0ZW5lciIsImdldFVpZCIsIl9fUFJJVkFURV9GaXJzdFBhcnR5VG9rZW4iLCJsIiwiaCIsIlAiLCJJIiwiVCIsIl9fUFJJVkFURV9GaXJzdFBhcnR5QXV0aENyZWRlbnRpYWxzUHJvdmlkZXIiLCJBcHBDaGVja1Rva2VuIiwiX19QUklWQVRFX0ZpcmViYXNlQXBwQ2hlY2tUb2tlblByb3ZpZGVyIiwiQSIsImFwcENoZWNrIiwiUiIsIm9uVG9rZW5DaGFuZ2VkIiwiX19QUklWQVRFX3JlZ2lzdGVyQXBwQ2hlY2siLCJhZGRUb2tlbkxpc3RlbmVyIiwicmVtb3ZlVG9rZW5MaXN0ZW5lciIsIl9fUFJJVkFURV9yYW5kb21CeXRlcyIsInNlbGYiLCJjcnlwdG8iLCJtc0NyeXB0byIsIlVpbnQ4QXJyYXkiLCJnZXRSYW5kb21WYWx1ZXMiLCJmbG9vciIsInJhbmRvbSIsIl9fUFJJVkFURV9BdXRvSWQiLCJuZXdJZCIsImNoYXJBdCIsIl9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yIiwiX19QUklWQVRFX2FycmF5RXF1YWxzIiwiZXZlcnkiLCJfX1BSSVZBVEVfaW1tZWRpYXRlU3VjY2Vzc29yIiwiVGltZXN0YW1wIiwic2Vjb25kcyIsIm5hbm9zZWNvbmRzIiwiZnJvbU1pbGxpcyIsImZyb21EYXRlIiwiZ2V0VGltZSIsInRvRGF0ZSIsInRvTWlsbGlzIiwiX2NvbXBhcmVUbyIsInBhZFN0YXJ0IiwiU25hcHNob3RWZXJzaW9uIiwidGltZXN0YW1wIiwiZnJvbVRpbWVzdGFtcCIsIm1pbiIsIm1heCIsImNvbXBhcmVUbyIsInRvTWljcm9zZWNvbmRzIiwidG9UaW1lc3RhbXAiLCJCYXNlUGF0aCIsInNlZ21lbnRzIiwib2Zmc2V0IiwibGVuIiwiY29tcGFyYXRvciIsImNoaWxkIiwibGltaXQiLCJjb25zdHJ1Y3QiLCJwb3BGaXJzdCIsInBvcExhc3QiLCJmaXJzdFNlZ21lbnQiLCJsYXN0U2VnbWVudCIsImlzRW1wdHkiLCJpc1ByZWZpeE9mIiwiaXNJbW1lZGlhdGVQYXJlbnRPZiIsInRvQXJyYXkiLCJSZXNvdXJjZVBhdGgiLCJjYW5vbmljYWxTdHJpbmciLCJ0b1VyaUVuY29kZWRTdHJpbmciLCJlbmNvZGVVUklDb21wb25lbnQiLCJmcm9tU3RyaW5nIiwiaW5kZXhPZiIsInNwbGl0IiwiZW1wdHlQYXRoIiwidiIsIkZpZWxkUGF0aCQxIiwiaXNWYWxpZElkZW50aWZpZXIiLCJ0ZXN0IiwiaXNLZXlGaWVsZCIsImtleUZpZWxkIiwiZnJvbVNlcnZlckZvcm1hdCIsIl9fUFJJVkFURV9hZGRDdXJyZW50U2VnbWVudCIsIkRvY3VtZW50S2V5IiwicGF0aCIsImZyb21QYXRoIiwiZnJvbU5hbWUiLCJlbXB0eSIsImNvbGxlY3Rpb25Hcm91cCIsImhhc0NvbGxlY3Rpb25JZCIsImdldENvbGxlY3Rpb25Hcm91cCIsImdldENvbGxlY3Rpb25QYXRoIiwiaXNEb2N1bWVudEtleSIsImZyb21TZWdtZW50cyIsIkZpZWxkSW5kZXgiLCJpbmRleElkIiwiZmllbGRzIiwiaW5kZXhTdGF0ZSIsIl9fUFJJVkFURV9maWVsZEluZGV4R2V0QXJyYXlTZWdtZW50Iiwia2luZCIsIl9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyIsIl9fUFJJVkFURV9maWVsZEluZGV4U2VtYW50aWNDb21wYXJhdG9yIiwiX19QUklWQVRFX2luZGV4U2VnbWVudENvbXBhcmF0b3IiLCJVTktOT1dOX0lEIiwiSW5kZXhTZWdtZW50IiwiZmllbGRQYXRoIiwiSW5kZXhTdGF0ZSIsInNlcXVlbmNlTnVtYmVyIiwiSW5kZXhPZmZzZXQiLCJfX1BSSVZBVEVfbmV3SW5kZXhPZmZzZXRTdWNjZXNzb3JGcm9tUmVhZFRpbWUiLCJfX1BSSVZBVEVfbmV3SW5kZXhPZmZzZXRGcm9tRG9jdW1lbnQiLCJyZWFkVGltZSIsImtleSIsImRvY3VtZW50S2V5IiwibGFyZ2VzdEJhdGNoSWQiLCJfX1BSSVZBVEVfaW5kZXhPZmZzZXRDb21wYXJhdG9yIiwiRiIsIlBlcnNpc3RlbmNlVHJhbnNhY3Rpb24iLCJvbkNvbW1pdHRlZExpc3RlbmVycyIsImFkZE9uQ29tbWl0dGVkTGlzdGVuZXIiLCJyYWlzZU9uQ29tbWl0dGVkRXZlbnQiLCJhc3luYyIsIl9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MiLCJQZXJzaXN0ZW5jZVByb21pc2UiLCJuZXh0Q2FsbGJhY2siLCJjYXRjaENhbGxiYWNrIiwiaXNEb25lIiwiY2FsbGJhY2tBdHRhY2hlZCIsIndyYXBGYWlsdXJlIiwid3JhcFN1Y2Nlc3MiLCJ0b1Byb21pc2UiLCJ3cmFwVXNlckZ1bmN0aW9uIiwid2FpdEZvciIsIm9yIiwibWFwQXJyYXkiLCJfIiwiYSIsImRvV2hpbGUiLCJwcm9jZXNzIiwiX19QUklWQVRFX1NpbXBsZURiVHJhbnNhY3Rpb24iLCJhY3Rpb24iLCJhYm9ydGVkIiwiViIsIm9uY29tcGxldGUiLCJvbmFib3J0IiwiX19QUklWQVRFX0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IiLCJvbmVycm9yIiwiX19QUklWQVRFX2NoZWNrRm9yQW5kUmVwb3J0aU9TRXJyb3IiLCJvcGVuIiwibSIsImFib3J0IiwiZyIsImNvbW1pdCIsInN0b3JlIiwiX19QUklWQVRFX1NpbXBsZURiU3RvcmUiLCJfX1BSSVZBVEVfU2ltcGxlRGIiLCJwIiwiZ2V0VUEiLCJfX1BSSVZBVEVfd3JhcFJlcXVlc3QiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJkZWxldGVEYXRhYmFzZSIsIl9fUFJJVkFURV9nZXRBbmRyb2lkVmVyc2lvbiIsIl9fUFJJVkFURV9lbnYiLCJOdW1iZXIiLCJNIiwib25zdWNjZXNzIiwib25ibG9ja2VkIiwib251cGdyYWRlbmVlZGVkIiwiTyIsIk4iLCJvbnZlcnNpb25jaGFuZ2UiLCJMIiwicnVuVHJhbnNhY3Rpb24iLCJjbG9zZSIsIl9fUFJJVkFURV9JdGVyYXRpb25Db250cm9sbGVyIiwiQiIsImsiLCJxIiwiSyIsImN1cnNvciIsIiQiLCJfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yIiwiVSIsImluZGV4IiwicmFuZ2UiLCJXIiwiRyIsImoiLCJIIiwiSiIsIlkiLCJwcmltYXJ5S2V5IiwiY29udGludWUiLCJyZXZlcnNlIiwib3BlbktleUN1cnNvciIsIm9wZW5DdXJzb3IiLCJfX1BSSVZBVEVfSW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyIiwiYXN5bmNRdWV1ZSIsIloiLCJ0YXNrIiwiWCIsInN0b3AiLCJjYW5jZWwiLCJzdGFydGVkIiwiZW5xdWV1ZUFmdGVyRGVsYXkiLCJlZSIsIl9fUFJJVkFURV9JbmRleEJhY2tmaWxsZXIiLCJsb2NhbFN0b3JlIiwicGVyc2lzdGVuY2UiLCJ0ZSIsImluZGV4TWFuYWdlciIsImdldE5leHRDb2xsZWN0aW9uR3JvdXBUb1VwZGF0ZSIsIm5lIiwiZ2V0TWluT2Zmc2V0RnJvbUNvbGxlY3Rpb25Hcm91cCIsImxvY2FsRG9jdW1lbnRzIiwiZ2V0TmV4dERvY3VtZW50cyIsImNoYW5nZXMiLCJ1cGRhdGVJbmRleEVudHJpZXMiLCJyZSIsInVwZGF0ZUNvbGxlY3Rpb25Hcm91cCIsInNpemUiLCJiYXRjaElkIiwiX19QUklWQVRFX0xpc3RlblNlcXVlbmNlIiwicHJldmlvdXNWYWx1ZSIsInNlcXVlbmNlTnVtYmVySGFuZGxlciIsImllIiwic2UiLCJ3cml0ZVNlcXVlbmNlTnVtYmVyIiwiX19QUklWQVRFX2lzTnVsbE9yVW5kZWZpbmVkIiwiX19QUklWQVRFX2lzTmVnYXRpdmVaZXJvIiwiaXNTYWZlSW50ZWdlciIsImlzSW50ZWdlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJNSU5fU0FGRV9JTlRFR0VSIiwiX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aCIsIl9fUFJJVkFURV9lbmNvZGVTZXBhcmF0b3IiLCJfX1BSSVZBVEVfZW5jb2RlU2VnbWVudCIsIl9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgiLCJfX1BSSVZBVEVfbGFzdFJlYXNvbmFibGVFc2NhcGVJbmRleCIsIm9lIiwieCIsIl9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25QcmVmaXhGb3JQYXRoIiwiX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvbktleSIsIlEiLCJ6IiwiX19QUklWQVRFX0luZGV4ZWREYlRyYW5zYWN0aW9uIiwiY3VycmVudFNlcXVlbmNlTnVtYmVyIiwiX19QUklWQVRFX2dldFN0b3JlIiwiX19QUklWQVRFX29iamVjdFNpemUiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fUFJJVkFURV9tYXBUb0FycmF5IiwiU29ydGVkTWFwIiwicm9vdCIsIkxMUkJOb2RlIiwiRU1QVFkiLCJpbnNlcnQiLCJjb3B5IiwiQkxBQ0siLCJsZWZ0IiwicmlnaHQiLCJtaW5LZXkiLCJtYXhLZXkiLCJpbm9yZGVyVHJhdmVyc2FsIiwicmV2ZXJzZVRyYXZlcnNhbCIsImdldEl0ZXJhdG9yIiwiU29ydGVkTWFwSXRlcmF0b3IiLCJnZXRJdGVyYXRvckZyb20iLCJnZXRSZXZlcnNlSXRlcmF0b3IiLCJnZXRSZXZlcnNlSXRlcmF0b3JGcm9tIiwiaXNSZXZlcnNlIiwibm9kZVN0YWNrIiwiZ2V0TmV4dCIsImhhc05leHQiLCJwZWVrIiwiY29sb3IiLCJSRUQiLCJmaXhVcCIsInJlbW92ZU1pbiIsImlzUmVkIiwibW92ZVJlZExlZnQiLCJyb3RhdGVSaWdodCIsIm1vdmVSZWRSaWdodCIsInJvdGF0ZUxlZnQiLCJjb2xvckZsaXAiLCJjaGVja01heERlcHRoIiwiY2hlY2siLCJwb3ciLCJTb3J0ZWRTZXQiLCJmaXJzdCIsImxhc3QiLCJmb3JFYWNoSW5SYW5nZSIsImZvckVhY2hXaGlsZSIsImZpcnN0QWZ0ZXJPckVxdWFsIiwiU29ydGVkU2V0SXRlcmF0b3IiLCJ1bmlvbldpdGgiLCJpdGVyIiwiX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvciIsIkZpZWxkTWFzayIsInNvcnQiLCJjb3ZlcnMiLCJfX1BSSVZBVEVfQmFzZTY0RGVjb2RlRXJyb3IiLCJhcmd1bWVudHMiLCJCeXRlU3RyaW5nIiwiYmluYXJ5U3RyaW5nIiwiZnJvbUJhc2U2NFN0cmluZyIsImF0b2IiLCJET01FeGNlcHRpb24iLCJmcm9tVWludDhBcnJheSIsImZyb21DaGFyQ29kZSIsIlN5bWJvbCIsIml0ZXJhdG9yIiwidG9CYXNlNjQiLCJidG9hIiwidG9VaW50OEFycmF5IiwiYXBwcm94aW1hdGVCeXRlU2l6ZSIsIkVNUFRZX0JZVEVfU1RSSU5HIiwiUmVnRXhwIiwiX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcCIsImV4ZWMiLCJzdWJzdHIiLCJuYW5vcyIsIl9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIiLCJfX1BSSVZBVEVfbm9ybWFsaXplQnl0ZVN0cmluZyIsIl9fUFJJVkFURV9pc1NlcnZlclRpbWVzdGFtcCIsIm1hcFZhbHVlIiwiX190eXBlX18iLCJzdHJpbmdWYWx1ZSIsIl9fUFJJVkFURV9nZXRQcmV2aW91c1ZhbHVlIiwiX19wcmV2aW91c192YWx1ZV9fIiwiX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lIiwiX19sb2NhbF93cml0ZV90aW1lX18iLCJ0aW1lc3RhbXBWYWx1ZSIsIkRhdGFiYXNlSW5mbyIsImRhdGFiYXNlSWQiLCJwZXJzaXN0ZW5jZUtleSIsImhvc3QiLCJzc2wiLCJmb3JjZUxvbmdQb2xsaW5nIiwiYXV0b0RldGVjdExvbmdQb2xsaW5nIiwibG9uZ1BvbGxpbmdPcHRpb25zIiwidXNlRmV0Y2hTdHJlYW1zIiwiRGF0YWJhc2VJZCIsImRhdGFiYXNlIiwiaXNEZWZhdWx0RGF0YWJhc2UiLCJudWxsVmFsdWUiLCJfX1BSSVZBVEVfdHlwZU9yZGVyIiwiX19QUklWQVRFX2lzTWF4VmFsdWUiLCJfX1BSSVZBVEVfdmFsdWVFcXVhbHMiLCJib29sZWFuVmFsdWUiLCJieXRlc1ZhbHVlIiwicmVmZXJlbmNlVmFsdWUiLCJnZW9Qb2ludFZhbHVlIiwibGF0aXR1ZGUiLCJsb25naXR1ZGUiLCJpbnRlZ2VyVmFsdWUiLCJkb3VibGVWYWx1ZSIsImlzTmFOIiwiYXJyYXlWYWx1ZSIsIl9fUFJJVkFURV9hcnJheVZhbHVlQ29udGFpbnMiLCJfX1BSSVZBVEVfdmFsdWVDb21wYXJlIiwiX19QUklWQVRFX2NvbXBhcmVUaW1lc3RhbXBzIiwia2V5cyIsImNhbm9uaWNhbElkIiwiX19QUklWQVRFX2Nhbm9uaWZ5VmFsdWUiLCJfX1BSSVZBVEVfZXN0aW1hdGVCeXRlU2l6ZSIsIl9fUFJJVkFURV9yZWZWYWx1ZSIsImlzQXJyYXkiLCJfX1BSSVZBVEVfaXNOdWxsVmFsdWUiLCJfX1BSSVZBVEVfaXNOYW5WYWx1ZSIsIl9fUFJJVkFURV9pc01hcFZhbHVlIiwiX19QUklWQVRFX2RlZXBDbG9uZSIsImFzc2lnbiIsIl9fUFJJVkFURV92YWx1ZXNHZXRMb3dlckJvdW5kIiwiTmFOIiwiX19QUklWQVRFX3ZhbHVlc0dldFVwcGVyQm91bmQiLCJfX1BSSVZBVEVfbG93ZXJCb3VuZENvbXBhcmUiLCJpbmNsdXNpdmUiLCJfX1BSSVZBVEVfdXBwZXJCb3VuZENvbXBhcmUiLCJPYmplY3RWYWx1ZSIsImZpZWxkIiwiZ2V0RmllbGRzTWFwIiwic2V0QWxsIiwiYXBwbHlDaGFuZ2VzIiwiY2xvbmUiLCJfX1BSSVZBVEVfZXh0cmFjdEZpZWxkTWFzayIsIk11dGFibGVEb2N1bWVudCIsImRvY3VtZW50VHlwZSIsImNyZWF0ZVRpbWUiLCJkb2N1bWVudFN0YXRlIiwibmV3SW52YWxpZERvY3VtZW50IiwibmV3Rm91bmREb2N1bWVudCIsIm5ld05vRG9jdW1lbnQiLCJuZXdVbmtub3duRG9jdW1lbnQiLCJjb252ZXJ0VG9Gb3VuZERvY3VtZW50IiwiY29udmVydFRvTm9Eb2N1bWVudCIsImNvbnZlcnRUb1Vua25vd25Eb2N1bWVudCIsInNldEhhc0NvbW1pdHRlZE11dGF0aW9ucyIsInNldEhhc0xvY2FsTXV0YXRpb25zIiwic2V0UmVhZFRpbWUiLCJoYXNMb2NhbE11dGF0aW9ucyIsImhhc0NvbW1pdHRlZE11dGF0aW9ucyIsImhhc1BlbmRpbmdXcml0ZXMiLCJpc1ZhbGlkRG9jdW1lbnQiLCJpc0ZvdW5kRG9jdW1lbnQiLCJpc05vRG9jdW1lbnQiLCJpc1Vua25vd25Eb2N1bWVudCIsIm11dGFibGVDb3B5IiwiQm91bmQiLCJwb3NpdGlvbiIsIl9fUFJJVkFURV9ib3VuZENvbXBhcmVUb0RvY3VtZW50IiwiZGlyIiwiX19QUklWQVRFX2JvdW5kRXF1YWxzIiwiT3JkZXJCeSIsIl9fUFJJVkFURV9vcmRlckJ5RXF1YWxzIiwiRmlsdGVyIiwiRmllbGRGaWx0ZXIiLCJvcCIsImNyZWF0ZUtleUZpZWxkSW5GaWx0ZXIiLCJfX1BSSVZBVEVfS2V5RmllbGRGaWx0ZXIiLCJfX1BSSVZBVEVfQXJyYXlDb250YWluc0ZpbHRlciIsIl9fUFJJVkFURV9JbkZpbHRlciIsIl9fUFJJVkFURV9Ob3RJbkZpbHRlciIsIl9fUFJJVkFURV9BcnJheUNvbnRhaW5zQW55RmlsdGVyIiwiX19QUklWQVRFX0tleUZpZWxkSW5GaWx0ZXIiLCJfX1BSSVZBVEVfS2V5RmllbGROb3RJbkZpbHRlciIsIm1hdGNoZXMiLCJtYXRjaGVzQ29tcGFyaXNvbiIsImlzSW5lcXVhbGl0eSIsImdldEZsYXR0ZW5lZEZpbHRlcnMiLCJnZXRGaWx0ZXJzIiwiQ29tcG9zaXRlRmlsdGVyIiwiZmlsdGVycyIsImFlIiwiX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24iLCJfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNEaXNqdW5jdGlvbiIsIl9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXRDb25qdW5jdGlvbiIsIl9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXQiLCJfX1BSSVZBVEVfY2Fub25pZnlGaWx0ZXIiLCJfX1BSSVZBVEVfZmlsdGVyRXF1YWxzIiwiX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcldpdGhBZGRlZEZpbHRlcnMiLCJfX1BSSVZBVEVfc3RyaW5naWZ5RmlsdGVyIiwiX19QUklWQVRFX2V4dHJhY3REb2N1bWVudEtleXNGcm9tQXJyYXlWYWx1ZSIsIl9fUFJJVkFURV9UYXJnZXRJbXBsIiwib3JkZXJCeSIsInN0YXJ0QXQiLCJlbmRBdCIsInVlIiwiX19QUklWQVRFX25ld1RhcmdldCIsIl9fUFJJVkFURV9jYW5vbmlmeVRhcmdldCIsIl9fUFJJVkFURV90YXJnZXRFcXVhbHMiLCJfX1BSSVZBVEVfdGFyZ2V0SXNEb2N1bWVudFRhcmdldCIsIl9fUFJJVkFURV90YXJnZXRHZXRGaWVsZEZpbHRlcnNGb3JQYXRoIiwiX19QUklWQVRFX3RhcmdldEdldEFzY2VuZGluZ0JvdW5kIiwiX19QUklWQVRFX3RhcmdldEdldERlc2NlbmRpbmdCb3VuZCIsIl9fUFJJVkFURV9RdWVyeUltcGwiLCJleHBsaWNpdE9yZGVyQnkiLCJsaW1pdFR5cGUiLCJjZSIsImxlIiwiaGUiLCJfX1BSSVZBVEVfbmV3UXVlcnkiLCJfX1BSSVZBVEVfbmV3UXVlcnlGb3JQYXRoIiwiX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc0FsbERvY3VtZW50cyIsIl9fUFJJVkFURV9pc0NvbGxlY3Rpb25Hcm91cFF1ZXJ5IiwiX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkiLCJfX1BSSVZBVEVfcXVlcnlUb1RhcmdldCIsIl9fUFJJVkFURV9fcXVlcnlUb1RhcmdldCIsIl9fUFJJVkFURV9xdWVyeVRvQWdncmVnYXRlVGFyZ2V0IiwiX19QUklWQVRFX3F1ZXJ5V2l0aEFkZGVkRmlsdGVyIiwiX19QUklWQVRFX3F1ZXJ5V2l0aExpbWl0IiwiX19QUklWQVRFX3F1ZXJ5RXF1YWxzIiwiX19QUklWQVRFX2Nhbm9uaWZ5UXVlcnkiLCJfX1BSSVZBVEVfc3RyaW5naWZ5UXVlcnkiLCJfX1BSSVZBVEVfcXVlcnlNYXRjaGVzIiwiX19QUklWQVRFX3F1ZXJ5Q29sbGVjdGlvbkdyb3VwIiwiX19QUklWQVRFX25ld1F1ZXJ5Q29tcGFyYXRvciIsIl9fUFJJVkFURV9jb21wYXJlRG9jcyIsIk9iamVjdE1hcCIsIm1hcEtleUZuIiwiZXF1YWxzRm4iLCJpbm5lciIsImlubmVyU2l6ZSIsInNwbGljZSIsIl9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAiLCJkb2N1bWVudE1hcCIsIl9fUFJJVkFURV9jb252ZXJ0T3ZlcmxheWVkRG9jdW1lbnRNYXBUb0RvY3VtZW50TWFwIiwib3ZlcmxheWVkRG9jdW1lbnQiLCJfX1BSSVZBVEVfbmV3T3ZlcmxheU1hcCIsIl9fUFJJVkFURV9uZXdEb2N1bWVudEtleU1hcCIsIl9fUFJJVkFURV9uZXdNdXRhdGlvbk1hcCIsIl9fUFJJVkFURV9kb2N1bWVudEtleVNldCIsIl9fUFJJVkFURV90YXJnZXRJZFNldCIsIl9fUFJJVkFURV90b0RvdWJsZSIsInVzZVByb3RvM0pzb24iLCJfX1BSSVZBVEVfdG9JbnRlZ2VyIiwidG9OdW1iZXIiLCJUcmFuc2Zvcm1PcGVyYXRpb24iLCJfX1BSSVZBVEVfYXBwbHlUcmFuc2Zvcm1PcGVyYXRpb25Ub0xvY2FsVmlldyIsIl9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBUcmFuc2Zvcm0iLCJfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbiIsIl9fUFJJVkFURV9hcHBseUFycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24iLCJfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24iLCJfX1BSSVZBVEVfYXBwbHlBcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbiIsIl9fUFJJVkFURV9jb21wdXRlVHJhbnNmb3JtT3BlcmF0aW9uQmFzZVZhbHVlIiwiYXNOdW1iZXIiLCJQZSIsInNlcmlhbGl6ZXIiLCJfX1BSSVZBVEVfYXBwbHlUcmFuc2Zvcm1PcGVyYXRpb25Ub1JlbW90ZURvY3VtZW50IiwiX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRUcmFuc2Zvcm1PcGVyYXRpb24iLCJlbGVtZW50cyIsIl9fUFJJVkFURV9jb2VyY2VkRmllbGRWYWx1ZXNBcnJheSIsIkZpZWxkVHJhbnNmb3JtIiwidHJhbnNmb3JtIiwiTXV0YXRpb25SZXN1bHQiLCJ0cmFuc2Zvcm1SZXN1bHRzIiwiUHJlY29uZGl0aW9uIiwidXBkYXRlVGltZSIsIm5vbmUiLCJpc05vbmUiLCJfX1BSSVZBVEVfcHJlY29uZGl0aW9uSXNWYWxpZEZvckRvY3VtZW50IiwiTXV0YXRpb24iLCJfX1BSSVZBVEVfY2FsY3VsYXRlT3ZlcmxheU11dGF0aW9uIiwiX19QUklWQVRFX0RlbGV0ZU11dGF0aW9uIiwiX19QUklWQVRFX1NldE11dGF0aW9uIiwiX19QUklWQVRFX1BhdGNoTXV0YXRpb24iLCJfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQiLCJfX1BSSVZBVEVfc2VydmVyVHJhbnNmb3JtUmVzdWx0cyIsImZpZWxkVHJhbnNmb3JtcyIsInByZWNvbmRpdGlvbiIsIl9fUFJJVkFURV9nZXRQYXRjaCIsIl9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXciLCJfX1BSSVZBVEVfbG9jYWxUcmFuc2Zvcm1SZXN1bHRzIiwiZmllbGRNYXNrIiwiX19QUklWQVRFX211dGF0aW9uRXh0cmFjdEJhc2VWYWx1ZSIsIl9fUFJJVkFURV9tdXRhdGlvbkVxdWFscyIsIl9fUFJJVkFURV9maWVsZFRyYW5zZm9ybUVxdWFscyIsImdldEZpZWxkTWFzayIsIl9fUFJJVkFURV9WZXJpZnlNdXRhdGlvbiIsIk11dGF0aW9uQmF0Y2giLCJsb2NhbFdyaXRlVGltZSIsImJhc2VNdXRhdGlvbnMiLCJtdXRhdGlvbnMiLCJhcHBseVRvUmVtb3RlRG9jdW1lbnQiLCJtdXRhdGlvblJlc3VsdHMiLCJhcHBseVRvTG9jYWxWaWV3IiwiYXBwbHlUb0xvY2FsRG9jdW1lbnRTZXQiLCJtdXRhdGVkRmllbGRzIiwiTXV0YXRpb25CYXRjaFJlc3VsdCIsImJhdGNoIiwiY29tbWl0VmVyc2lvbiIsImRvY1ZlcnNpb25zIiwiT3ZlcmxheSIsIm11dGF0aW9uIiwiZ2V0S2V5IiwiX19QUklWQVRFX0FnZ3JlZ2F0ZUltcGwiLCJhbGlhcyIsImFnZ3JlZ2F0ZVR5cGUiLCJFeGlzdGVuY2VGaWx0ZXIiLCJ1bmNoYW5nZWROYW1lcyIsIl9fUFJJVkFURV9pc1Blcm1hbmVudEVycm9yIiwiX19QUklWQVRFX21hcENvZGVGcm9tUnBjQ29kZSIsIl9fUFJJVkFURV9uZXdUZXh0RW5jb2RlciIsIlRleHRFbmNvZGVyIiwiSW50ZWdlciIsIl9fUFJJVkFURV9nZXRNZDVIYXNoVmFsdWUiLCJlbmNvZGUiLCJNZDUiLCJ1cGRhdGUiLCJkaWdlc3QiLCJfX1BSSVZBVEVfZ2V0NjRCaXRVaW50cyIsIkRhdGFWaWV3IiwiYnVmZmVyIiwiZ2V0VWludDMyIiwiQmxvb21GaWx0ZXIiLCJiaXRtYXAiLCJwYWRkaW5nIiwiaGFzaENvdW50IiwiX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IiLCJJZSIsIlRlIiwiZnJvbU51bWJlciIsIkVlIiwibXVsdGlwbHkiLCJjb21wYXJlIiwiZ2V0Qml0cyIsIm1vZHVsbyIsImRlIiwibWlnaHRDb250YWluIiwiY2VpbCIsIkFlIiwiUmVtb3RlRXZlbnQiLCJzbmFwc2hvdFZlcnNpb24iLCJ0YXJnZXRDaGFuZ2VzIiwidGFyZ2V0TWlzbWF0Y2hlcyIsImRvY3VtZW50VXBkYXRlcyIsInJlc29sdmVkTGltYm9Eb2N1bWVudHMiLCJjcmVhdGVTeW50aGVzaXplZFJlbW90ZUV2ZW50Rm9yQ3VycmVudENoYW5nZSIsIlRhcmdldENoYW5nZSIsImNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZSIsInJlc3VtZVRva2VuIiwiY3VycmVudCIsImFkZGVkRG9jdW1lbnRzIiwibW9kaWZpZWREb2N1bWVudHMiLCJyZW1vdmVkRG9jdW1lbnRzIiwiX19QUklWQVRFX0RvY3VtZW50V2F0Y2hDaGFuZ2UiLCJSZSIsInJlbW92ZWRUYXJnZXRJZHMiLCJWZSIsIl9fUFJJVkFURV9FeGlzdGVuY2VGaWx0ZXJDaGFuZ2UiLCJ0YXJnZXRJZCIsIm1lIiwiX19QUklWQVRFX1dhdGNoVGFyZ2V0Q2hhbmdlIiwic3RhdGUiLCJ0YXJnZXRJZHMiLCJjYXVzZSIsIl9fUFJJVkFURV9UYXJnZXRTdGF0ZSIsImZlIiwiZ2UiLCJfX1BSSVZBVEVfc25hcHNob3RDaGFuZ2VzTWFwIiwicGUiLCJ5ZSIsIndlIiwiU2UiLCJiZSIsIkRlIiwiQ2UiLCJ2ZSIsIkZlIiwiTWUiLCJ4ZSIsIk9lIiwiTmUiLCJfX1BSSVZBVEVfV2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yIiwiTGUiLCJCZSIsImtlIiwicWUiLCJfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRNYXAiLCJRZSIsIktlIiwiJGUiLCJVZSIsIldlIiwiZm9yRWFjaFRhcmdldCIsIkdlIiwiemUiLCJyZW1vdmVUYXJnZXQiLCJqZSIsIkhlIiwiSmUiLCJZZSIsIlplIiwiWGUiLCJldCIsImxvY2FsQ2FjaGVDb3VudCIsImV4aXN0ZW5jZUZpbHRlckNvdW50IiwiYmxvb21GaWx0ZXIiLCJhcHBsaWVkIiwiYml0bWFwTGVuZ3RoIiwiYml0cyIsInR0IiwibnQiLCJnZXRSZW1vdGVLZXlzRm9yVGFyZ2V0IiwicnQiLCJpdCIsInB1cnBvc2UiLCJzdCIsIm90IiwiYXNjIiwiZGVzYyIsImluIiwiYW5kIiwiSnNvblByb3RvU2VyaWFsaXplciIsIl9fUFJJVkFURV90b0ludDMyUHJvdG8iLCJfX1BSSVZBVEVfdG9CeXRlcyIsIl9fUFJJVkFURV90b1ZlcnNpb24iLCJfX1BSSVZBVEVfZnJvbVZlcnNpb24iLCJfX1BSSVZBVEVfdG9SZXNvdXJjZU5hbWUiLCJfX1BSSVZBVEVfdG9SZXNvdXJjZVBhdGgiLCJfX1BSSVZBVEVfZnJvbVJlc291cmNlTmFtZSIsIl9fUFJJVkFURV9pc1ZhbGlkUmVzb3VyY2VOYW1lIiwiX19QUklWQVRFX3RvTmFtZSIsIl9fUFJJVkFURV9leHRyYWN0TG9jYWxQYXRoRnJvbVJlc291cmNlTmFtZSIsIl9fUFJJVkFURV90b1F1ZXJ5UGF0aCIsIl9fUFJJVkFURV9mcm9tUXVlcnlQYXRoIiwiX19QUklWQVRFX2dldEVuY29kZWREYXRhYmFzZUlkIiwiX19QUklWQVRFX3RvTXV0YXRpb25Eb2N1bWVudCIsIl9fUFJJVkFURV9mcm9tRG9jdW1lbnQiLCJ0b011dGF0aW9uIiwidXBkYXRlTWFzayIsIl9fUFJJVkFURV90b0RvY3VtZW50TWFzayIsInZlcmlmeSIsInVwZGF0ZVRyYW5zZm9ybXMiLCJzZXRUb1NlcnZlclZhbHVlIiwiYXBwZW5kTWlzc2luZ0VsZW1lbnRzIiwicmVtb3ZlQWxsRnJvbUFycmF5IiwiaW5jcmVtZW50IiwiY3VycmVudERvY3VtZW50IiwiX19QUklWQVRFX2Zyb21NdXRhdGlvbiIsImZpZWxkUGF0aHMiLCJfX1BSSVZBVEVfdG9Eb2N1bWVudHNUYXJnZXQiLCJkb2N1bWVudHMiLCJfX1BSSVZBVEVfdG9RdWVyeVRhcmdldCIsInN0cnVjdHVyZWRRdWVyeSIsImNvbGxlY3Rpb25JZCIsImFsbERlc2NlbmRhbnRzIiwicGFyZW50IiwiX19QUklWQVRFX3RvRmlsdGVyIiwid2hlcmUiLCJfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UiLCJkaXJlY3Rpb24iLCJfX1BSSVZBVEVfdG9EaXJlY3Rpb24iLCJiZWZvcmUiLCJfdCIsIl9fUFJJVkFURV90b1J1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0IiwiYXZnIiwic3VtIiwicmVxdWVzdCIsInN0cnVjdHVyZWRBZ2dyZWdhdGlvblF1ZXJ5IiwiYWdncmVnYXRpb25zIiwidXQiLCJfX1BSSVZBVEVfY29udmVydFF1ZXJ5VGFyZ2V0VG9RdWVyeSIsIl9fUFJJVkFURV9mcm9tRmlsdGVyIiwiX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UiLCJ1bmFyeUZpbHRlciIsImZpZWxkRmlsdGVyIiwiY29tcG9zaXRlRmlsdGVyIiwiX19QUklWQVRFX3RvT3BlcmF0b3JOYW1lIiwiX19QUklWQVRFX3RvQ29tcG9zaXRlT3BlcmF0b3JOYW1lIiwiVGFyZ2V0RGF0YSIsImxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24iLCJleHBlY3RlZENvdW50Iiwid2l0aFNlcXVlbmNlTnVtYmVyIiwid2l0aFJlc3VtZVRva2VuIiwid2l0aEV4cGVjdGVkQ291bnQiLCJ3aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbiIsIl9fUFJJVkFURV9Mb2NhbFNlcmlhbGl6ZXIiLCJjdCIsIl9fUFJJVkFURV90b0RiUmVtb3RlRG9jdW1lbnQiLCJwcmVmaXhQYXRoIiwiZG9jdW1lbnRJZCIsIl9fUFJJVkFURV90b0RiVGltZXN0YW1wS2V5Iiwibm9Eb2N1bWVudCIsIl9fUFJJVkFURV90b0RiVGltZXN0YW1wIiwidW5rbm93bkRvY3VtZW50IiwiX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcCIsIl9fUFJJVkFURV9mcm9tRGJNdXRhdGlvbkJhdGNoIiwibG9jYWxXcml0ZVRpbWVNcyIsIl9fUFJJVkFURV9mcm9tRGJUYXJnZXQiLCJxdWVyeSIsImxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciIsIl9fUFJJVkFURV90b0RiVGFyZ2V0IiwiX19QUklWQVRFX2Zyb21CdW5kbGVkUXVlcnkiLCJfX1BSSVZBVEVfZnJvbURiRG9jdW1lbnRPdmVybGF5Iiwib3ZlcmxheU11dGF0aW9uIiwiX19QUklWQVRFX3RvRGJEb2N1bWVudE92ZXJsYXlLZXkiLCJfX1BSSVZBVEVfdG9EYkluZGV4U3RhdGUiLCJfX1BSSVZBVEVfSW5kZXhlZERiQnVuZGxlQ2FjaGUiLCJnZXRCdW5kbGVNZXRhZGF0YSIsIl9fUFJJVkFURV9idW5kbGVzU3RvcmUiLCJpZCIsImJ1bmRsZUlkIiwic2F2ZUJ1bmRsZU1ldGFkYXRhIiwiZ2V0TmFtZWRRdWVyeSIsIl9fUFJJVkFURV9uYW1lZFF1ZXJpZXNTdG9yZSIsImJ1bmRsZWRRdWVyeSIsInNhdmVOYW1lZFF1ZXJ5IiwiX19QUklWQVRFX0luZGV4ZWREYkRvY3VtZW50T3ZlcmxheUNhY2hlIiwidXNlcklkIiwibHQiLCJnZXRPdmVybGF5IiwiX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlIiwiZ2V0T3ZlcmxheXMiLCJzYXZlT3ZlcmxheXMiLCJodCIsInJlbW92ZU92ZXJsYXlzRm9yQmF0Y2hJZCIsIklEQktleVJhbmdlIiwiYm91bmQiLCJnZXRPdmVybGF5c0ZvckNvbGxlY3Rpb24iLCJQT1NJVElWRV9JTkZJTklUWSIsImdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbkdyb3VwIiwiY29sbGVjdGlvblBhdGgiLCJfX1BSSVZBVEVfRmlyZXN0b3JlSW5kZXhWYWx1ZVdyaXRlciIsIlB0IiwiSXQiLCJUdCIsIkV0IiwiZHQiLCJBdCIsIlJ0IiwiVnQiLCJmdCIsImd0IiwieXQiLCJ3dCIsIlN0IiwiX19QUklWQVRFX251bWJlck9mTGVhZGluZ1plcm9zSW5CeXRlIiwiX19QUklWQVRFX3Vuc2lnbmVkTnVtTGVuZ3RoIiwiYnQiLCJfX1BSSVZBVEVfT3JkZXJlZENvZGVXcml0ZXIiLCJEdCIsIkN0IiwidnQiLCJGdCIsIk10IiwieHQiLCJPdCIsImNvZGVQb2ludEF0IiwiTnQiLCJMdCIsIkJ0Iiwia3QiLCJxdCIsIlF0IiwiS3QiLCIkdCIsIlV0IiwicmVzZXQiLCJzZWVkIiwiV3QiLCJBcnJheUJ1ZmZlciIsInNldEZsb2F0NjQiLCJfX1BSSVZBVEVfQXNjZW5kaW5nSW5kZXhCeXRlRW5jb2RlciIsIkd0IiwiX19QUklWQVRFX0Rlc2NlbmRpbmdJbmRleEJ5dGVFbmNvZGVyIiwiX19QUklWQVRFX0luZGV4Qnl0ZUVuY29kZXIiLCJ6dCIsImp0IiwiSHQiLCJfX1BSSVZBVEVfSW5kZXhFbnRyeSIsImRpcmVjdGlvbmFsVmFsdWUiLCJKdCIsIl9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvciIsIl9fUFJJVkFURV9jb21wYXJlQnl0ZUFycmF5cyIsIl9fUFJJVkFURV9UYXJnZXRJbmRleE1hdGNoZXIiLCJZdCIsIlp0IiwiWHQiLCJlbiIsInRuIiwibm4iLCJybiIsInNuIiwib24iLCJfX1BSSVZBVEVfY29tcHV0ZUluRXhwYW5zaW9uIiwiX19QUklWQVRFX2dldERuZlRlcm1zIiwiX19QUklWQVRFX2NvbXB1dGVEaXN0cmlidXRlZE5vcm1hbEZvcm0iLCJfX1BSSVZBVEVfaXNEaXNqdW5jdGl2ZU5vcm1hbEZvcm0iLCJfX1BSSVZBVEVfaXNTaW5nbGVGaWVsZEZpbHRlciIsIl9fUFJJVkFURV9pc0ZsYXRDb25qdW5jdGlvbiIsIl9fUFJJVkFURV9hcHBseUFzc29jaWF0aW9uIiwiX19QUklWQVRFX2FwcGx5RGlzdHJpYnV0aW9uIiwiX19QUklWQVRFX2FwcGx5RGlzdHJpYnV0aW9uRmllbGRBbmRDb21wb3NpdGVGaWx0ZXJzIiwiX19QUklWQVRFX01lbW9yeUluZGV4TWFuYWdlciIsIl9uIiwiX19QUklWQVRFX01lbW9yeUNvbGxlY3Rpb25QYXJlbnRJbmRleCIsImFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4IiwiZ2V0Q29sbGVjdGlvblBhcmVudHMiLCJnZXRFbnRyaWVzIiwiYWRkRmllbGRJbmRleCIsImRlbGV0ZUZpZWxkSW5kZXgiLCJkZWxldGVBbGxGaWVsZEluZGV4ZXMiLCJjcmVhdGVUYXJnZXRJbmRleGVzIiwiZ2V0RG9jdW1lbnRzTWF0Y2hpbmdUYXJnZXQiLCJnZXRJbmRleFR5cGUiLCJnZXRGaWVsZEluZGV4ZXMiLCJnZXRNaW5PZmZzZXQiLCJfX1BSSVZBVEVfSW5kZXhlZERiSW5kZXhNYW5hZ2VyIiwiYW4iLCJ1biIsIl9fUFJJVkFURV9jb2xsZWN0aW9uUGFyZW50c1N0b3JlIiwiX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlIiwiX19QUklWQVRFX2luZGV4U3RhdGVTdG9yZSIsIl9fUFJJVkFURV9pbmRleEVudHJpZXNTdG9yZSIsImNuIiwibG4iLCJobiIsIlBuIiwiSW4iLCJUbiIsIkVuIiwiZG4iLCJjcmVhdGVSYW5nZSIsIkFuIiwiUm4iLCJWbiIsIm1uIiwiZm4iLCJnbiIsInBuIiwieW4iLCJ3biIsIlNuIiwib3JkZXJlZERvY3VtZW50S2V5IiwiYm4iLCJvbmx5IiwidXBwZXJCb3VuZCIsIkRuIiwiX19QUklWQVRFX2dldE1pbk9mZnNldEZyb21GaWVsZEluZGV4ZXMiLCJkaWRSdW4iLCJzZXF1ZW5jZU51bWJlcnNDb2xsZWN0ZWQiLCJ0YXJnZXRzUmVtb3ZlZCIsImRvY3VtZW50c1JlbW92ZWQiLCJMcnVQYXJhbXMiLCJjYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkIiwicGVyY2VudGlsZVRvQ29sbGVjdCIsIm1heGltdW1TZXF1ZW5jZU51bWJlcnNUb0NvbGxlY3QiLCJ3aXRoQ2FjaGVTaXplIiwiREVGQVVMVF9DT0xMRUNUSU9OX1BFUkNFTlRJTEUiLCJERUZBVUxUX01BWF9TRVFVRU5DRV9OVU1CRVJTX1RPX0NPTExFQ1QiLCJyZW1vdmVNdXRhdGlvbkJhdGNoIiwiX19QUklWQVRFX2RiRG9jdW1lbnRTaXplIiwiREVGQVVMVCIsIkRJU0FCTEVEIiwiX19QUklWQVRFX0luZGV4ZWREYk11dGF0aW9uUXVldWUiLCJyZWZlcmVuY2VEZWxlZ2F0ZSIsIkNuIiwiY2hlY2tFbXB0eSIsIk5FR0FUSVZFX0lORklOSVRZIiwiX19QUklWQVRFX211dGF0aW9uc1N0b3JlIiwiYWRkTXV0YXRpb25CYXRjaCIsIl9fUFJJVkFURV9kb2N1bWVudE11dGF0aW9uc1N0b3JlIiwibG9va3VwTXV0YXRpb25CYXRjaCIsInZuIiwiZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQiLCJsb3dlckJvdW5kIiwiZ2V0SGlnaGVzdFVuYWNrbm93bGVkZ2VkQmF0Y2hJZCIsImdldEFsbE11dGF0aW9uQmF0Y2hlcyIsImdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5IiwiZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nRG9jdW1lbnRLZXlzIiwiRm4iLCJnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdRdWVyeSIsIk1uIiwibWFya1BvdGVudGlhbGx5T3JwaGFuZWQiLCJwZXJmb3JtQ29uc2lzdGVuY3lDaGVjayIsImNvbnRhaW5zS2V5IiwiX19QUklWQVRFX211dGF0aW9uUXVldWVDb250YWluc0tleSIsInhuIiwiX19QUklWQVRFX211dGF0aW9uUXVldWVzU3RvcmUiLCJsYXN0QWNrbm93bGVkZ2VkQmF0Y2hJZCIsImxhc3RTdHJlYW1Ub2tlbiIsIl9fUFJJVkFURV9UYXJnZXRJZEdlbmVyYXRvciIsIk9uIiwiTm4iLCJMbiIsIl9fUFJJVkFURV9JbmRleGVkRGJUYXJnZXRDYWNoZSIsImFsbG9jYXRlVGFyZ2V0SWQiLCJCbiIsImhpZ2hlc3RUYXJnZXRJZCIsImtuIiwiZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiIsImxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24iLCJnZXRIaWdoZXN0U2VxdWVuY2VOdW1iZXIiLCJoaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIiLCJzZXRUYXJnZXRzTWV0YWRhdGEiLCJhZGRUYXJnZXREYXRhIiwicW4iLCJ0YXJnZXRDb3VudCIsIlFuIiwidXBkYXRlVGFyZ2V0RGF0YSIsInJlbW92ZVRhcmdldERhdGEiLCJyZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCIsIl9fUFJJVkFURV90YXJnZXRzU3RvcmUiLCJyZW1vdmVUYXJnZXRzIiwiX19QUklWQVRFX2dsb2JhbFRhcmdldFN0b3JlIiwiZ2V0VGFyZ2V0Q291bnQiLCJnZXRUYXJnZXREYXRhIiwiYWRkTWF0Y2hpbmdLZXlzIiwiX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUiLCJhZGRSZWZlcmVuY2UiLCJyZW1vdmVNYXRjaGluZ0tleXMiLCJyZW1vdmVSZWZlcmVuY2UiLCJnZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZCIsIl9fUFJJVkFURV9idWZmZXJFbnRyeUNvbXBhcmF0b3IiLCJfX1BSSVZBVEVfUm9sbGluZ1NlcXVlbmNlTnVtYmVyQnVmZmVyIiwiS24iLCIkbiIsIlVuIiwiV24iLCJtYXhWYWx1ZSIsIl9fUFJJVkFURV9McnVTY2hlZHVsZXIiLCJnYXJiYWdlQ29sbGVjdG9yIiwiR24iLCJwYXJhbXMiLCJ6biIsImNvbGxlY3RHYXJiYWdlIiwiX19QUklWQVRFX0xydUdhcmJhZ2VDb2xsZWN0b3JJbXBsIiwiam4iLCJjYWxjdWxhdGVUYXJnZXRDb3VudCIsIkhuIiwibnRoU2VxdWVuY2VOdW1iZXIiLCJKbiIsInJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzIiwiY29sbGVjdCIsImdldENhY2hlU2l6ZSIsIlluIiwiX19QUklWQVRFX25ld0xydUdhcmJhZ2VDb2xsZWN0b3IiLCJfX1BSSVZBVEVfSW5kZXhlZERiTHJ1RGVsZWdhdGVJbXBsIiwiWm4iLCJnZXRUYXJnZXRDYWNoZSIsIlhuIiwiX19QUklWQVRFX3dyaXRlU2VudGluZWxLZXkiLCJlciIsImdldFJlbW90ZURvY3VtZW50Q2FjaGUiLCJuZXdDaGFuZ2VCdWZmZXIiLCJnZXRFbnRyeSIsInJlbW92ZUVudHJ5IiwiYXBwbHkiLCJ1cGRhdGVMaW1ib0RvY3VtZW50IiwiZ2V0U2l6ZSIsIlJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyIiwiY2hhbmdlc0FwcGxpZWQiLCJhZGRFbnRyeSIsImFzc2VydE5vdEFwcGxpZWQiLCJnZXRGcm9tQ2FjaGUiLCJnZXRBbGxGcm9tQ2FjaGUiLCJfX1BSSVZBVEVfSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZUltcGwiLCJzZXRJbmRleE1hbmFnZXIiLCJfX1BSSVZBVEVfcmVtb3RlRG9jdW1lbnRzU3RvcmUiLCJ1cGRhdGVNZXRhZGF0YSIsImdldE1ldGFkYXRhIiwiYnl0ZVNpemUiLCJ0ciIsIl9fUFJJVkFURV9kYktleSIsIm5yIiwicnIiLCJpciIsInNyIiwiX3IiLCJfX1BSSVZBVEVfZGJLZXlDb21wYXJhdG9yIiwiZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeSIsImluY3JlbWVudERvY3VtZW50UmVhZENvdW50IiwiZ2V0QWxsRnJvbUNvbGxlY3Rpb25Hcm91cCIsIl9fUFJJVkFURV9kYkNvbGxlY3Rpb25Hcm91cEtleSIsIl9fUFJJVkFURV9JbmRleGVkRGJSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciIsInRyYWNrUmVtb3ZhbHMiLCJfX1BSSVZBVEVfZG9jdW1lbnRHbG9iYWxTdG9yZSIsIl9fUFJJVkFURV9mcm9tRGJSZW1vdGVEb2N1bWVudCIsIl9fUFJJVkFURV9uZXdJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlIiwiYXIiLCJ1ciIsIk92ZXJsYXllZERvY3VtZW50IiwiTG9jYWxEb2N1bWVudHNWaWV3IiwicmVtb3RlRG9jdW1lbnRDYWNoZSIsIm11dGF0aW9uUXVldWUiLCJkb2N1bWVudE92ZXJsYXlDYWNoZSIsImdldERvY3VtZW50IiwiZ2V0RG9jdW1lbnRzIiwiZ2V0TG9jYWxWaWV3T2ZEb2N1bWVudHMiLCJwb3B1bGF0ZU92ZXJsYXlzIiwiY29tcHV0ZVZpZXdzIiwiZ2V0T3ZlcmxheWVkRG9jdW1lbnRzIiwicmVjYWxjdWxhdGVBbmRTYXZlT3ZlcmxheXMiLCJyZWNhbGN1bGF0ZUFuZFNhdmVPdmVybGF5c0ZvckRvY3VtZW50S2V5cyIsImdldERvY3VtZW50c01hdGNoaW5nRG9jdW1lbnRRdWVyeSIsImdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvbkdyb3VwUXVlcnkiLCJnZXREb2N1bWVudHNNYXRjaGluZ0NvbGxlY3Rpb25RdWVyeSIsIl9fUFJJVkFURV9NZW1vcnlCdW5kbGVDYWNoZSIsImNyIiwibHIiLCJfX1BSSVZBVEVfTWVtb3J5RG9jdW1lbnRPdmVybGF5Q2FjaGUiLCJvdmVybGF5cyIsImhyIiwiX19QUklWQVRFX1JlZmVyZW5jZVNldCIsIlByIiwiX19QUklWQVRFX0RvY1JlZmVyZW5jZSIsIklyIiwiVHIiLCJFciIsImRyIiwiQXIiLCJSciIsIlZyIiwibXIiLCJnciIsInByIiwiX19QUklWQVRFX01lbW9yeU11dGF0aW9uUXVldWUiLCJ5ciIsIndyIiwiU3IiLCJiciIsIkRyIiwiQ3IiLCJzaGlmdCIsIl9fUFJJVkFURV9NZW1vcnlSZW1vdGVEb2N1bWVudENhY2hlSW1wbCIsInZyIiwiZG9jcyIsIkZyIiwiX19QUklWQVRFX01lbW9yeVJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyIiwiX19QUklWQVRFX01lbW9yeVRhcmdldENhY2hlIiwiTXIiLCJPciIsIk5yIiwiTHIiLCJfX1BSSVZBVEVfTWVtb3J5UGVyc2lzdGVuY2UiLCJCciIsImtyIiwicXIiLCJRciIsIktyIiwiJHIiLCJzZXREYXRhYmFzZURlbGV0ZWRMaXN0ZW5lciIsInNldE5ldHdvcmtFbmFibGVkIiwiZ2V0SW5kZXhNYW5hZ2VyIiwiZ2V0RG9jdW1lbnRPdmVybGF5Q2FjaGUiLCJnZXRNdXRhdGlvblF1ZXVlIiwiZ2V0QnVuZGxlQ2FjaGUiLCJfX1BSSVZBVEVfTWVtb3J5VHJhbnNhY3Rpb24iLCJVciIsIldyIiwiR3IiLCJfX1BSSVZBVEVfTWVtb3J5RWFnZXJEZWxlZ2F0ZSIsInpyIiwianIiLCJIciIsIkpyIiwiWXIiLCJfX1BSSVZBVEVfTWVtb3J5THJ1RGVsZWdhdGUiLCJaciIsIl9fUFJJVkFURV9TY2hlbWFDb252ZXJ0ZXIiLCJrZXlQYXRoIiwiYXV0b0luY3JlbWVudCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwiX19QUklWQVRFX2NyZWF0ZVF1ZXJ5Q2FjaGUiLCJkZWxldGVPYmplY3RTdG9yZSIsIlhyIiwiZWkiLCJ0aSIsIm5pIiwib2JqZWN0U3RvcmVOYW1lcyIsImNvbnRhaW5zIiwicmkiLCJpaSIsInNpIiwiX19QUklWQVRFX0luZGV4ZWREYlBlcnNpc3RlbmNlIiwiYWxsb3dUYWJTeW5jaHJvbml6YXRpb24iLCJjbGllbnRJZCIsIm9pIiwiX2kiLCJhaSIsInVpIiwiaXNQcmltYXJ5IiwibmV0d29ya0VuYWJsZWQiLCJjaSIsImluRm9yZWdyb3VuZCIsImxpIiwiaGkiLCJQaSIsIklpIiwiVGkiLCJFaSIsImRpIiwiQWkiLCJSaSIsIlZpIiwibWkiLCJmaSIsIm5ld1ZlcnNpb24iLCJlbnF1ZXVlQW5kRm9yZ2V0IiwiX19QUklWQVRFX2NsaWVudE1ldGFkYXRhU3RvcmUiLCJ1cGRhdGVUaW1lTXMiLCJnaSIsInBpIiwieWkiLCJ3aSIsIl9fUFJJVkFURV9wcmltYXJ5Q2xpZW50U3RvcmUiLCJTaSIsImJpIiwiRGkiLCJDaSIsInZpIiwicmVtb3ZlSXRlbSIsIkZpIiwib3duZXJJZCIsImxlYXNlVGltZXN0YW1wTXMiLCJNaSIsInhpIiwiT2kiLCJOaSIsIkxpIiwiQmkiLCJraSIsInZpc2liaWxpdHlTdGF0ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc1NhZmFyaSIsIm5hdmlnYXRvciIsImFwcFZlcnNpb24iLCJ1c2VyQWdlbnQiLCJlbnRlclJlc3RyaWN0ZWRNb2RlIiwiZ2V0SXRlbSIsIl9fUFJJVkFURV9pbmRleGVkRGJTdG9yYWdlUHJlZml4IiwiX19QUklWQVRFX0xvY2FsVmlld0NoYW5nZXMiLCJmcm9tQ2FjaGUiLCJxaSIsIlFpIiwiS2kiLCJkb2NDaGFuZ2VzIiwiUXVlcnlDb250ZXh0IiwiX2RvY3VtZW50UmVhZENvdW50IiwiZG9jdW1lbnRSZWFkQ291bnQiLCJfX1BSSVZBVEVfUXVlcnlFbmdpbmUiLCIkaSIsIlVpIiwiV2kiLCJHaSIsInppIiwiamkiLCJIaSIsIkppIiwiWWkiLCJaaSIsIlhpIiwiZXMiLCJfX1BSSVZBVEVfTG9jYWxTdG9yZUltcGwiLCJ0cyIsIm5zIiwicnMiLCJzcyIsIm9zIiwiX3MiLCJfX1BSSVZBVEVfbmV3TG9jYWxTdG9yZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlSGFuZGxlVXNlckNoYW5nZSIsInVzIiwicmVtb3ZlZEJhdGNoSWRzIiwiYWRkZWRCYXRjaElkcyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiIsIl9fUFJJVkFURV9wb3B1bGF0ZURvY3VtZW50Q2hhbmdlQnVmZmVyIiwiY3MiLCJscyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TmV4dE11dGF0aW9uQmF0Y2giLCJfX1BSSVZBVEVfbG9jYWxTdG9yZUFsbG9jYXRlVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVFeGVjdXRlUXVlcnkiLCJfX1BSSVZBVEVfc2V0TWF4UmVhZFRpbWUiLCJocyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0Q2FjaGVkVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXdEb2N1bWVudENoYW5nZXMiLCJfX1BSSVZBVEVfbG9jYWxTdG9yZVNhdmVOYW1lZFF1ZXJ5IiwiY3JlYXRlV2ViU3RvcmFnZUNsaWVudFN0YXRlS2V5IiwiY3JlYXRlV2ViU3RvcmFnZU11dGF0aW9uQmF0Y2hLZXkiLCJjcmVhdGVXZWJTdG9yYWdlUXVlcnlUYXJnZXRNZXRhZGF0YUtleSIsIl9fUFJJVkFURV9NdXRhdGlvbk1ldGFkYXRhIiwiRXMiLCJwYXJzZSIsImRzIiwiX19QUklWQVRFX1F1ZXJ5VGFyZ2V0TWV0YWRhdGEiLCJfX1BSSVZBVEVfUmVtb3RlQ2xpZW50U3RhdGUiLCJhY3RpdmVUYXJnZXRJZHMiLCJfX1BSSVZBVEVfU2hhcmVkT25saW5lU3RhdGUiLCJvbmxpbmVTdGF0ZSIsIl9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlIiwiQXMiLCJScyIsIl9fUFJJVkFURV9XZWJTdG9yYWdlU2hhcmVkQ2xpZW50U3RhdGUiLCJWcyIsInN5bmNFbmdpbmUiLCJvbmxpbmVTdGF0ZUhhbmRsZXIiLCJmcyIsImdzIiwiYmluZCIsInBzIiwieXMiLCJzdG9yYWdlIiwid3MiLCJTcyIsImJzIiwiRHMiLCJDcyIsInZzIiwiRnMiLCJNcyIsInhzIiwiT3MiLCJnZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMiLCJOcyIsImlzQWN0aXZlUXVlcnlUYXJnZXQiLCJhZGRQZW5kaW5nTXV0YXRpb24iLCJMcyIsInVwZGF0ZU11dGF0aW9uU3RhdGUiLCJCcyIsImFkZExvY2FsUXVlcnlUYXJnZXQiLCJrcyIsInJlbW92ZUxvY2FsUXVlcnlUYXJnZXQiLCJpc0xvY2FsUXVlcnlUYXJnZXQiLCJjbGVhclF1ZXJ5U3RhdGUiLCJ1cGRhdGVRdWVyeVN0YXRlIiwicXMiLCJoYW5kbGVVc2VyQ2hhbmdlIiwic2V0T25saW5lU3RhdGUiLCJRcyIsIm5vdGlmeUJ1bmRsZUxvYWRlZCIsIktzIiwic3RvcmFnZUFyZWEiLCJuZXdWYWx1ZSIsIiRzIiwiVXMiLCJXcyIsIkdzIiwienMiLCJqcyIsIkhzIiwiSnMiLCJZcyIsIlpzIiwiWHMiLCJlbyIsIl9fUFJJVkFURV9NZW1vcnlTaGFyZWRDbGllbnRTdGF0ZSIsIm5vIiwicm8iLCJfX1BSSVZBVEVfTm9vcENvbm5lY3Rpdml0eU1vbml0b3IiLCJpbyIsIl9fUFJJVkFURV9Ccm93c2VyQ29ubmVjdGl2aXR5TW9uaXRvciIsInNvIiwib28iLCJfbyIsImFvIiwidW8iLCJjbyIsIl9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQiLCJyb3VuZCIsIkJhdGNoR2V0RG9jdW1lbnRzIiwiQ29tbWl0IiwiUnVuUXVlcnkiLCJSdW5BZ2dyZWdhdGlvblF1ZXJ5IiwiX19QUklWQVRFX1N0cmVhbUJyaWRnZSIsImxvIiwiaG8iLCJQbyIsIklvIiwiVG8iLCJFbyIsIkFvIiwiUm8iLCJvbk1lc3NhZ2UiLCJWbyIsInNlbmQiLCJtbyIsImZvIiwicG8iLCJ5byIsIl9fUFJJVkFURV9XZWJDaGFubmVsQ29ubmVjdGlvbiIsImRhdGFiYXNlSW5mbyIsIndvIiwiU28iLCJibyIsIkRvIiwiQ28iLCJ2byIsIkZvIiwiTW8iLCJ4byIsInRlcm1pbmF0ZSIsIlhocklvIiwic2V0V2l0aENyZWRlbnRpYWxzIiwibGlzdGVuT25jZSIsIkV2ZW50VHlwZSIsIkNPTVBMRVRFIiwiZ2V0TGFzdEVycm9yQ29kZSIsIkVycm9yQ29kZSIsIk5PX0VSUk9SIiwiZ2V0UmVzcG9uc2VKc29uIiwiVElNRU9VVCIsIkhUVFBfRVJST1IiLCJnZXRTdGF0dXMiLCJnZXRSZXNwb25zZVRleHQiLCJzdGF0dXMiLCJPbyIsImNyZWF0ZVdlYkNoYW5uZWxUcmFuc3BvcnQiLCJnZXRTdGF0RXZlbnRUYXJnZXQiLCJodHRwU2Vzc2lvbklkUGFyYW0iLCJpbml0TWVzc2FnZUhlYWRlcnMiLCJtZXNzYWdlVXJsUGFyYW1zIiwic2VuZFJhd0pzb24iLCJzdXBwb3J0c0Nyb3NzRG9tYWluWGhyIiwiaW50ZXJuYWxDaGFubmVsUGFyYW1zIiwiZm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zIiwiZGV0ZWN0QnVmZmVyaW5nUHJveHkiLCJ0aW1lb3V0U2Vjb25kcyIsImxvbmdQb2xsaW5nVGltZW91dCIsInhtbEh0dHBGYWN0b3J5IiwiRmV0Y2hYbWxIdHRwRmFjdG9yeSIsImVuY29kZUluaXRNZXNzYWdlSGVhZGVycyIsImNyZWF0ZVdlYkNoYW5uZWwiLCJfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4iLCJsaXN0ZW4iLCJXZWJDaGFubmVsIiwiT1BFTiIsIkNMT1NFIiwiTUVTU0FHRSIsIkV2ZW50IiwiU1RBVF9FVkVOVCIsInN0YXQiLCJTdGF0IiwiUFJPWFkiLCJOT1BST1hZIiwiX19QUklWQVRFX2dldFdpbmRvdyIsIl9fUFJJVkFURV9uZXdTZXJpYWxpemVyIiwiX19QUklWQVRFX0V4cG9uZW50aWFsQmFja29mZiIsInRpbWVySWQiLCJObyIsIkxvIiwiQm8iLCJrbyIsInFvIiwiUW8iLCJLbyIsIiRvIiwiVW8iLCJXbyIsInNraXBEZWxheSIsIl9fUFJJVkFURV9QZXJzaXN0ZW50U3RyZWFtIiwiR28iLCJ6byIsImNvbm5lY3Rpb24iLCJhdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsImFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlciIsImxpc3RlbmVyIiwiam8iLCJIbyIsIkpvIiwic3RyZWFtIiwiWW8iLCJabyIsIlhvIiwiZV8iLCJ0XyIsIm5fIiwicl8iLCJpXyIsInNfIiwib18iLCJfXyIsImFfIiwidV8iLCJjXyIsImxfIiwiX19QUklWQVRFX1BlcnNpc3RlbnRMaXN0ZW5TdHJlYW0iLCJ0YXJnZXRDaGFuZ2UiLCJ0YXJnZXRDaGFuZ2VUeXBlIiwiQnVmZmVyIiwiZG9jdW1lbnRDaGFuZ2UiLCJkb2N1bWVudERlbGV0ZSIsImRvY3VtZW50UmVtb3ZlIiwiX19QUklWQVRFX2Zyb21XYXRjaENoYW5nZSIsImhfIiwiUF8iLCJhZGRUYXJnZXQiLCJfX1BSSVZBVEVfdG9MaXN0ZW5SZXF1ZXN0TGFiZWxzIiwibGFiZWxzIiwiSV8iLCJfX1BSSVZBVEVfUGVyc2lzdGVudFdyaXRlU3RyZWFtIiwiVF8iLCJFXyIsImRfIiwic3RyZWFtVG9rZW4iLCJfX1BSSVZBVEVfZnJvbVdyaXRlUmVzdWx0cyIsIndyaXRlUmVzdWx0cyIsImNvbW1pdFRpbWUiLCJBXyIsIlJfIiwiVl8iLCJ3cml0ZXMiLCJfX1BSSVZBVEVfRGF0YXN0b3JlSW1wbCIsImF1dGhDcmVkZW50aWFscyIsImFwcENoZWNrQ3JlZGVudGlhbHMiLCJtXyIsImZfIiwiX19QUklWQVRFX09ubGluZVN0YXRlVHJhY2tlciIsImdfIiwicF8iLCJ5XyIsIndfIiwiU18iLCJiXyIsIkRfIiwiQ18iLCJfX1BSSVZBVEVfUmVtb3RlU3RvcmVJbXBsIiwiZGF0YXN0b3JlIiwicmVtb3RlU3luY2VyIiwidl8iLCJGXyIsIk1fIiwieF8iLCJPXyIsIl9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrIiwiX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwiLCJOXyIsIl9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwiLCJfX1BSSVZBVEVfcmVtb3RlU3RvcmVMaXN0ZW4iLCJfX1BSSVZBVEVfc2hvdWxkU3RhcnRXYXRjaFN0cmVhbSIsIl9fUFJJVkFURV9zdGFydFdhdGNoU3RyZWFtIiwiX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtIiwiX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QiLCJfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbiIsIl9fUFJJVkFURV9zZW5kVW53YXRjaFJlcXVlc3QiLCJMXyIsIl9fUFJJVkFURV9jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZSIsIl9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ29ubmVjdGVkIiwiX19QUklWQVRFX29uV2F0Y2hTdHJlYW1PcGVuIiwiX19QUklWQVRFX29uV2F0Y2hTdHJlYW1DbG9zZSIsIl9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ2hhbmdlIiwicmVqZWN0TGlzdGVuIiwiX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeSIsImFwcGx5UmVtb3RlRXZlbnQiLCJfX1BSSVZBVEVfZXhlY3V0ZVdpdGhSZWNvdmVyeSIsIl9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZSIsIl9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbSIsIl9fUFJJVkFURV9jYW5BZGRUb1dyaXRlUGlwZWxpbmUiLCJfX1BSSVZBVEVfYWRkVG9Xcml0ZVBpcGVsaW5lIiwiX19QUklWQVRFX3Nob3VsZFN0YXJ0V3JpdGVTdHJlYW0iLCJfX1BSSVZBVEVfc3RhcnRXcml0ZVN0cmVhbSIsIl9fUFJJVkFURV9vbldyaXRlU3RyZWFtT3BlbiIsIl9fUFJJVkFURV9vbldyaXRlSGFuZHNoYWtlQ29tcGxldGUiLCJfX1BSSVZBVEVfb25NdXRhdGlvblJlc3VsdCIsImFwcGx5U3VjY2Vzc2Z1bFdyaXRlIiwiX19QUklWQVRFX29uV3JpdGVTdHJlYW1DbG9zZSIsInJlamVjdEZhaWxlZFdyaXRlIiwiX19QUklWQVRFX3JlbW90ZVN0b3JlSGFuZGxlQ3JlZGVudGlhbENoYW5nZSIsInZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MiLCJoYW5kbGVDcmVkZW50aWFsQ2hhbmdlIiwiX19QUklWQVRFX3JlbW90ZVN0b3JlQXBwbHlQcmltYXJ5U3RhdGUiLCJCXyIsImtfIiwiRGVsYXllZE9wZXJhdGlvbiIsInRhcmdldFRpbWVNcyIsInJlbW92YWxDYWxsYmFjayIsImNyZWF0ZUFuZFNjaGVkdWxlIiwidGltZXJIYW5kbGUiLCJoYW5kbGVEZWxheUVsYXBzZWQiLCJjbGVhclRpbWVvdXQiLCJfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZSIsIkRvY3VtZW50U2V0Iiwia2V5ZWRNYXAiLCJzb3J0ZWRTZXQiLCJlbXB0eVNldCIsIl9fUFJJVkFURV9Eb2N1bWVudENoYW5nZVNldCIsInFfIiwidHJhY2siLCJRXyIsIlZpZXdTbmFwc2hvdCIsIm9sZERvY3MiLCJtdXRhdGVkS2V5cyIsInN5bmNTdGF0ZUNoYW5nZWQiLCJleGNsdWRlc01ldGFkYXRhQ2hhbmdlcyIsImhhc0NhY2hlZFJlc3VsdHMiLCJmcm9tSW5pdGlhbERvY3VtZW50cyIsIl9fUFJJVkFURV9RdWVyeUxpc3RlbmVyc0luZm8iLCJLXyIsIlVfIiwiV18iLCJHXyIsIl9fUFJJVkFURV9FdmVudE1hbmFnZXJJbXBsIiwicXVlcmllcyIsInpfIiwiX19QUklWQVRFX2V2ZW50TWFuYWdlckxpc3RlbiIsIm9uTGlzdGVuIiwib25GaXJzdFJlbW90ZVN0b3JlTGlzdGVuIiwib25FcnJvciIsImpfIiwiSF8iLCJfX1BSSVZBVEVfcmFpc2VTbmFwc2hvdHNJblN5bmNFdmVudCIsIl9fUFJJVkFURV9ldmVudE1hbmFnZXJVbmxpc3RlbiIsIm9uVW5saXN0ZW4iLCJvbkxhc3RSZW1vdGVTdG9yZVVubGlzdGVuIiwiX19QUklWQVRFX2V2ZW50TWFuYWdlck9uV2F0Y2hDaGFuZ2UiLCJfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyT25XYXRjaEVycm9yIiwiSl8iLCJDYWNoZSIsIl9fUFJJVkFURV9RdWVyeUxpc3RlbmVyIiwiWV8iLCJaXyIsIlhfIiwiaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyIsImVhIiwidGEiLCJuYSIsInJhIiwic291cmNlIiwiX19QUklWQVRFX1NpemVkQnVuZGxlRWxlbWVudCIsImlhIiwiYnl0ZUxlbmd0aCIsInNhIiwiX19QUklWQVRFX0J1bmRsZUNvbnZlcnRlckltcGwiLCJQcyIsIklzIiwibWV0YWRhdGEiLCJUcyIsIl9fUFJJVkFURV9CdW5kbGVMb2FkZXIiLCJvYSIsImNvbGxlY3Rpb25Hcm91cHMiLCJwcm9ncmVzcyIsIl9fUFJJVkFURV9idW5kbGVJbml0aWFsUHJvZ3Jlc3MiLCJieXRlc0xvYWRlZCIsImRvY3VtZW50c0xvYWRlZCIsIm5hbWVkUXVlcnkiLCJkb2N1bWVudE1ldGFkYXRhIiwiYWEiLCJjb21wbGV0ZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlQXBwbHlCdW5kbGVkRG9jdW1lbnRzIiwidGFza1N0YXRlIiwidWEiLCJjYSIsInRvdGFsRG9jdW1lbnRzIiwidG90YWxCeXRlcyIsIl9fUFJJVkFURV9BZGRlZExpbWJvRG9jdW1lbnQiLCJfX1BSSVZBVEVfUmVtb3ZlZExpbWJvRG9jdW1lbnQiLCJfX1BSSVZBVEVfVmlldyIsImxhIiwiaGEiLCJQYSIsIklhIiwiVGEiLCJFYSIsImRhIiwiQWEiLCJSYSIsIm9yZGVyIiwiVmEiLCJtYSIsImZhIiwiZ2EiLCJwYSIsInlhIiwiX19QUklWQVRFX1F1ZXJ5VmlldyIsInZpZXciLCJMaW1ib1Jlc29sdXRpb24iLCJ3YSIsIl9fUFJJVkFURV9TeW5jRW5naW5lSW1wbCIsInJlbW90ZVN0b3JlIiwiZXZlbnRNYW5hZ2VyIiwic2hhcmVkQ2xpZW50U3RhdGUiLCJtYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9ucyIsIlNhIiwiYmEiLCJEYSIsIkNhIiwidmEiLCJGYSIsIk1hIiwieGEiLCJPYSIsIk5hIiwiTGEiLCJpc1ByaW1hcnlDbGllbnQiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUxpc3RlbiIsIl9fUFJJVkFURV9lbnN1cmVXYXRjaENhbGxiYWNrcyIsIl9fUFJJVkFURV9hbGxvY2F0ZVRhcmdldEFuZE1heWJlTGlzdGVuIiwiX19QUklWQVRFX3RyaWdnZXJSZW1vdGVTdG9yZUxpc3RlbiIsIl9fUFJJVkFURV9pbml0aWFsaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdCIsIkJhIiwiX19QUklWQVRFX3VwZGF0ZVRyYWNrZWRMaW1ib3MiLCJfX1BSSVZBVEVfc3luY0VuZ2luZVVubGlzdGVuIiwiX19QUklWQVRFX3JlbW92ZUFuZENsZWFudXBUYXJnZXQiLCJfX1BSSVZBVEVfdHJpZ2dlclJlbW90ZVN0b3JlVW5saXN0ZW4iLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UmVtb3RlRXZlbnQiLCJfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5UmVtb3RlRXZlbnRUb0xvY2FsQ2FjaGUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5T25saW5lU3RhdGVDaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZVJlamVjdExpc3RlbiIsIl9fUFJJVkFURV9wdW1wRW5xdWV1ZWRMaW1ib1Jlc29sdXRpb25zIiwiX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseVN1Y2Nlc3NmdWxXcml0ZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlQWNrbm93bGVkZ2VCYXRjaCIsIl9fUFJJVkFURV9wcm9jZXNzVXNlckNhbGxiYWNrIiwiX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzIiwiX19QUklWQVRFX3N5bmNFbmdpbmVSZWplY3RGYWlsZWRXcml0ZSIsImthIiwiX19QUklWQVRFX3JlbW92ZUxpbWJvVGFyZ2V0IiwiX19QUklWQVRFX3RyYWNrTGltYm9DaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUdldFJlbW90ZUtleXNGb3JUYXJnZXQiLCJfX1BSSVZBVEVfc3luY2hyb25pemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90IiwiX19QUklWQVRFX3N5bmNFbmdpbmVTeW5jaHJvbml6ZVdpdGhDaGFuZ2VkRG9jdW1lbnRzIiwiX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUJhdGNoU3RhdGUiLCJfX1BSSVZBVEVfc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMiLCJfX1BSSVZBVEVfc3ludGhlc2l6ZVRhcmdldFRvUXVlcnkiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUdldEFjdGl2ZUNsaWVudHMiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5VGFyZ2V0U3RhdGUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5QWN0aXZlVGFyZ2V0c0NoYW5nZSIsIl9fUFJJVkFURV9zeW5jRW5naW5lRW5zdXJlV3JpdGVDYWxsYmFja3MiLCJNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIiLCJzeW5jaHJvbml6ZVRhYnMiLCJjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZSIsImNyZWF0ZVBlcnNpc3RlbmNlIiwiY3JlYXRlTG9jYWxTdG9yZSIsImdjU2NoZWR1bGVyIiwiY3JlYXRlR2FyYmFnZUNvbGxlY3Rpb25TY2hlZHVsZXIiLCJpbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIiLCJjcmVhdGVJbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIiLCJpbml0aWFsVXNlciIsIl9fUFJJVkFURV9McnVHY01lbW9yeU9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsImNhY2hlU2l6ZUJ5dGVzIiwiX19QUklWQVRFX0luZGV4ZWREYk9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsIlFhIiwiZm9yY2VPd25lcnNoaXAiLCJfX1BSSVZBVEVfTXVsdGlUYWJPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UHJpbWFyeVN0YXRlIiwiT25saW5lQ29tcG9uZW50UHJvdmlkZXIiLCJjcmVhdGVEYXRhc3RvcmUiLCJjcmVhdGVSZW1vdGVTdG9yZSIsImNyZWF0ZUV2ZW50TWFuYWdlciIsImNyZWF0ZVN5bmNFbmdpbmUiLCJfX1BSSVZBVEVfdG9CeXRlU3RyZWFtUmVhZGVySGVscGVyIiwicmVsZWFzZUxvY2siLCJjbG9zZWQiLCJfX1BSSVZBVEVfQXN5bmNPYnNlcnZlciIsIm9ic2VydmVyIiwibXV0ZWQiLCJLYSIsIiRhIiwiX19QUklWQVRFX0J1bmRsZVJlYWRlckltcGwiLCJVYSIsIldhIiwiVGV4dERlY29kZXIiLCJHYSIsInFhIiwiemEiLCJkZWNvZGUiLCJqYSIsIkhhIiwiSmEiLCJmaW5kSW5kZXgiLCJZYSIsIlRyYW5zYWN0aW9uJDIiLCJyZWFkVmVyc2lvbnMiLCJjb21taXR0ZWQiLCJsYXN0VHJhbnNhY3Rpb25FcnJvciIsIndyaXR0ZW5Eb2NzIiwibG9va3VwIiwiZW5zdXJlQ29tbWl0Tm90Q2FsbGVkIiwiZm91bmQiLCJtaXNzaW5nIiwiX19QUklWQVRFX2Zyb21CYXRjaEdldERvY3VtZW50c1Jlc3BvbnNlIiwicmVjb3JkVmVyc2lvbiIsIndyaXRlIiwicHJlY29uZGl0aW9uRm9yVXBkYXRlIiwiX19QUklWQVRFX1RyYW5zYWN0aW9uUnVubmVyIiwidXBkYXRlRnVuY3Rpb24iLCJaYSIsIm1heEF0dGVtcHRzIiwiWGEiLCJldSIsInR1IiwibnUiLCJydSIsIkZpcmVzdG9yZUNsaWVudCIsImF1dGhDcmVkZW50aWFsTGlzdGVuZXIiLCJhcHBDaGVja0NyZWRlbnRpYWxMaXN0ZW5lciIsImNvbmZpZ3VyYXRpb24iLCJzZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIiLCJzZXRBcHBDaGVja1Rva2VuQ2hhbmdlTGlzdGVuZXIiLCJ2ZXJpZnlOb3RUZXJtaW5hdGVkIiwiaXNTaHV0dGluZ0Rvd24iLCJlbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZCIsIl9vbmxpbmVDb21wb25lbnRzIiwiX29mZmxpbmVDb21wb25lbnRzIiwiX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsIl9fUFJJVkFURV9zZXRPbmxpbmVDb21wb25lbnRQcm92aWRlciIsIl9fUFJJVkFURV9lbnN1cmVPZmZsaW5lQ29tcG9uZW50cyIsIl9fUFJJVkFURV9jYW5GYWxsYmFja0Zyb21JbmRleGVkRGJFcnJvciIsIl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyIiwiX29mZmxpbmUiLCJfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyIsIl9vbmxpbmUiLCJfX1BSSVZBVEVfZ2V0UGVyc2lzdGVuY2UiLCJfX1BSSVZBVEVfZ2V0TG9jYWxTdG9yZSIsIl9fUFJJVkFURV9nZXRSZW1vdGVTdG9yZSIsIl9fUFJJVkFURV9nZXRTeW5jRW5naW5lIiwiX19QUklWQVRFX2dldERhdGFzdG9yZSIsIl9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRWaWFTbmFwc2hvdExpc3RlbmVyIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c1ZpYVNuYXBzaG90TGlzdGVuZXIiLCJfX1BSSVZBVEVfY2xvbmVMb25nUG9sbGluZ09wdGlvbnMiLCJfX1BSSVZBVEVfdmFsaWRhdGVOb25FbXB0eUFyZ3VtZW50IiwiX19QUklWQVRFX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIiLCJfX1BSSVZBVEVfdmFsaWRhdGVEb2N1bWVudFBhdGgiLCJfX1BSSVZBVEVfdmFsaWRhdGVDb2xsZWN0aW9uUGF0aCIsIl9fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uIiwiX19QUklWQVRFX2Nhc3QiLCJfZGVsZWdhdGUiLCJfX1BSSVZBVEVfdmFsaWRhdGVQb3NpdGl2ZU51bWJlciIsIkZpcmVzdG9yZVNldHRpbmdzSW1wbCIsImNyZWRlbnRpYWxzIiwiaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyIsImxvY2FsQ2FjaGUiLCJleHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nIiwiZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nIiwiZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zIiwiRmlyZXN0b3JlJDEiLCJfYXV0aENyZWRlbnRpYWxzIiwiX2FwcENoZWNrQ3JlZGVudGlhbHMiLCJfZGF0YWJhc2VJZCIsIl9hcHAiLCJfcGVyc2lzdGVuY2VLZXkiLCJfc2V0dGluZ3MiLCJfc2V0dGluZ3NGcm96ZW4iLCJfaW5pdGlhbGl6ZWQiLCJfdGVybWluYXRlZCIsIl90ZXJtaW5hdGVUYXNrIiwiX3NldFNldHRpbmdzIiwic2Vzc2lvbkluZGV4IiwiaWFtVG9rZW4iLCJhdXRoVG9rZW5GYWN0b3J5IiwiY2xpZW50IiwiX2dldFNldHRpbmdzIiwiX2ZyZWV6ZVNldHRpbmdzIiwiX3Rlcm1pbmF0ZSIsImNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvciIsIm1vY2tVc2VyVG9rZW4iLCJjcmVhdGVNb2NrVXNlclRva2VuIiwic3ViIiwidXNlcl9pZCIsIlF1ZXJ5IiwiY29udmVydGVyIiwiX3F1ZXJ5IiwiZmlyZXN0b3JlIiwid2l0aENvbnZlcnRlciIsIkRvY3VtZW50UmVmZXJlbmNlIiwiX2tleSIsIl9wYXRoIiwiQ29sbGVjdGlvblJlZmVyZW5jZSIsImdldE1vZHVsYXJJbnN0YW5jZSIsInF1ZXJ5RXF1YWwiLCJfX1BSSVZBVEVfQXN5bmNRdWV1ZUltcGwiLCJpdSIsInN1Iiwib3UiLCJfdSIsImF1IiwidXUiLCJjdSIsImx1IiwiaHUiLCJlbnF1ZXVlIiwiUHUiLCJJdSIsIlR1Iiwic3RhY2siLCJpbmNsdWRlcyIsIkV1IiwiZHUiLCJBdSIsIlJ1IiwiVnUiLCJfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIiLCJMb2FkQnVuZGxlVGFzayIsIl9wcm9ncmVzc09ic2VydmVyIiwiX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIiLCJfbGFzdFByb2dyZXNzIiwib25Qcm9ncmVzcyIsIl9jb21wbGV0ZVdpdGgiLCJfdXBkYXRlUHJvZ3Jlc3MiLCJfZmFpbFdpdGgiLCJGaXJlc3RvcmUiLCJfcXVldWUiLCJfZmlyZXN0b3JlQ2xpZW50IiwiX19QUklWQVRFX2NvbmZpZ3VyZUZpcmVzdG9yZSIsImVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQiLCJfb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIiwiX29ubGluZUNvbXBvbmVudFByb3ZpZGVyIiwiX29mZmxpbmVLaW5kIiwiX19QUklWQVRFX3NldFBlcnNpc3RlbmNlUHJvdmlkZXJzIiwiX19QUklWQVRFX3ZlcmlmeU5vdEluaXRpYWxpemVkIiwiQWdncmVnYXRlRmllbGQiLCJfaW50ZXJuYWxGaWVsZFBhdGgiLCJBZ2dyZWdhdGVRdWVyeVNuYXBzaG90IiwiX3VzZXJEYXRhV3JpdGVyIiwiX2RhdGEiLCJjb252ZXJ0T2JqZWN0TWFwIiwiQnl0ZXMiLCJfYnl0ZVN0cmluZyIsIkZpZWxkUGF0aCIsIl9pbnRlcm5hbFBhdGgiLCJGaWVsZFZhbHVlIiwiX21ldGhvZE5hbWUiLCJHZW9Qb2ludCIsImlzRmluaXRlIiwiX2xhdCIsIl9sb25nIiwiUGFyc2VkU2V0RGF0YSIsIlBhcnNlZFVwZGF0ZURhdGEiLCJfX1BSSVZBVEVfaXNXcml0ZSIsIl9fUFJJVkFURV9QYXJzZUNvbnRleHRJbXBsIiwibXUiLCJmdSIsImd1IiwicHUiLCJ5dSIsInd1IiwiU3UiLCJidSIsIkR1IiwiX19QUklWQVRFX2NyZWF0ZUVycm9yIiwibWV0aG9kTmFtZSIsIkN1IiwidnUiLCJfX1BSSVZBVEVfVXNlckRhdGFSZWFkZXIiLCJGdSIsIl9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlciIsIl9fUFJJVkFURV9wYXJzZVNldERhdGEiLCJtZXJnZSIsIm1lcmdlRmllbGRzIiwiX19QUklWQVRFX3ZhbGlkYXRlUGxhaW5PYmplY3QiLCJfX1BSSVZBVEVfcGFyc2VPYmplY3QiLCJfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEiLCJfX1BSSVZBVEVfZmllbGRNYXNrQ29udGFpbnMiLCJfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGwiLCJfdG9GaWVsZFRyYW5zZm9ybSIsIl9fUFJJVkFURV9jcmVhdGVTZW50aW5lbENoaWxkQ29udGV4dCIsIl9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBGaWVsZFZhbHVlSW1wbCIsIl9fUFJJVkFURV9BcnJheVVuaW9uRmllbGRWYWx1ZUltcGwiLCJNdSIsIl9fUFJJVkFURV9wYXJzZURhdGEiLCJfX1BSSVZBVEVfQXJyYXlSZW1vdmVGaWVsZFZhbHVlSW1wbCIsIl9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50RmllbGRWYWx1ZUltcGwiLCJ4dSIsIl9fUFJJVkFURV9wYXJzZVVwZGF0ZURhdGEiLCJfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyIsIl9fUFJJVkFURV9wYXJzZVVwZGF0ZVZhcmFyZ3MiLCJfX1BSSVZBVEVfcGFyc2VRdWVyeVZhbHVlIiwiX19QUklWQVRFX2xvb2tzTGlrZUpzb25PYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsInNlYXJjaCIsIkRvY3VtZW50U25hcHNob3QkMSIsIl9maXJlc3RvcmUiLCJfZG9jdW1lbnQiLCJfY29udmVydGVyIiwicmVmIiwiUXVlcnlEb2N1bWVudFNuYXBzaG90JDEiLCJmcm9tRmlyZXN0b3JlIiwiY29udmVydFZhbHVlIiwiX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudCIsIl9fUFJJVkFURV92YWxpZGF0ZUhhc0V4cGxpY2l0T3JkZXJCeUZvckxpbWl0VG9MYXN0IiwiQXBwbGlhYmxlQ29uc3RyYWludCIsIlF1ZXJ5Q29uc3RyYWludCIsIlF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50IiwiX2ZpZWxkIiwiX29wIiwiX3ZhbHVlIiwiX2NyZWF0ZSIsIl9hcHBseSIsIl9wYXJzZSIsIl9fUFJJVkFURV92YWxpZGF0ZU5ld0ZpZWxkRmlsdGVyIiwiX19QUklWQVRFX3ZhbGlkYXRlRGlzanVuY3RpdmVGaWx0ZXJFbGVtZW50cyIsIl9fUFJJVkFURV9wYXJzZURvY3VtZW50SWRWYWx1ZSIsIlF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludCIsIl9xdWVyeUNvbnN0cmFpbnRzIiwiX2dldE9wZXJhdG9yIiwiX2dldFF1ZXJ5Q29uc3RyYWludHMiLCJRdWVyeU9yZGVyQnlDb25zdHJhaW50IiwiX2RpcmVjdGlvbiIsIlF1ZXJ5TGltaXRDb25zdHJhaW50IiwiX2xpbWl0IiwiX2xpbWl0VHlwZSIsIlF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQiLCJfZG9jT3JGaWVsZHMiLCJfaW5jbHVzaXZlIiwiX19QUklWQVRFX25ld1F1ZXJ5Qm91bmRGcm9tRG9jT3JGaWVsZHMiLCJRdWVyeUVuZEF0Q29uc3RyYWludCIsIl9fUFJJVkFURV92YWxpZGF0ZVF1ZXJ5RmlsdGVyQ29uc3RyYWludCIsIkFic3RyYWN0VXNlckRhdGFXcml0ZXIiLCJjb252ZXJ0VGltZXN0YW1wIiwiY29udmVydFNlcnZlclRpbWVzdGFtcCIsImNvbnZlcnRCeXRlcyIsImNvbnZlcnRSZWZlcmVuY2UiLCJjb252ZXJ0R2VvUG9pbnQiLCJjb252ZXJ0QXJyYXkiLCJjb252ZXJ0T2JqZWN0IiwiY29udmVydERvY3VtZW50S2V5IiwiX19QUklWQVRFX2FwcGx5RmlyZXN0b3JlRGF0YUNvbnZlcnRlciIsInRvRmlyZXN0b3JlIiwiX19QUklWQVRFX0xpdGVVc2VyRGF0YVdyaXRlciIsIlNuYXBzaG90TWV0YWRhdGEiLCJEb2N1bWVudFNuYXBzaG90IiwiX2ZpcmVzdG9yZUltcGwiLCJRdWVyeURvY3VtZW50U25hcHNob3QiLCJzZXJ2ZXJUaW1lc3RhbXBzIiwiUXVlcnlTbmFwc2hvdCIsIl9zbmFwc2hvdCIsIl9jYWNoZWRDaGFuZ2VzIiwiX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzIiwib2xkSW5kZXgiLCJuZXdJbmRleCIsIl9fUFJJVkFURV9yZXN1bHRDaGFuZ2VUeXBlIiwiX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyIiwiZXhlY3V0ZVdyaXRlIiwiX19QUklWQVRFX3N5bmNFbmdpbmVXcml0ZSIsIl9fUFJJVkFURV9jb252ZXJ0VG9Eb2NTbmFwc2hvdCIsImdldEFnZ3JlZ2F0ZUZyb21TZXJ2ZXIiLCJhZ2dyZWdhdGVGaWVsZHMiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50UnVuQWdncmVnYXRlUXVlcnkiLCJfX1BSSVZBVEVfTWVtb3J5TG9jYWxDYWNoZUltcGwiLCJfX1BSSVZBVEVfUGVyc2lzdGVudExvY2FsQ2FjaGVJbXBsIiwidGFiTWFuYWdlciIsIl9pbml0aWFsaXplIiwicGVyc2lzdGVudFNpbmdsZVRhYk1hbmFnZXIiLCJfX1BSSVZBVEVfTWVtb3J5RWFnZXJHYWJhZ2VDb2xsZWN0b3JJbXBsIiwiX19QUklWQVRFX01lbW9yeUxydUdhYmFnZUNvbGxlY3RvckltcGwiLCJfX1BSSVZBVEVfU2luZ2xlVGFiTWFuYWdlckltcGwiLCJfX1BSSVZBVEVfTXVsdGlUYWJNYW5hZ2VySW1wbCIsIldyaXRlQmF0Y2giLCJfY29tbWl0SGFuZGxlciIsIl9tdXRhdGlvbnMiLCJfY29tbWl0dGVkIiwiX2RhdGFSZWFkZXIiLCJfdmVyaWZ5Tm90Q29tbWl0dGVkIiwiX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlIiwiVHJhbnNhY3Rpb24iLCJfdHJhbnNhY3Rpb24iLCJfX1BSSVZBVEVfdHJ5R2V0U3RyaW5nIiwiUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyIiwiX2NsaWVudCIsIl9fUFJJVkFURV9zZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50U2V0UGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb25FbmFibGVkIiwiV2Vha01hcCIsIl9fUFJJVkFURV9UZXN0aW5nSG9va3NTcGlJbXBsIiwiT3UiLCJvbkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoIiwiQ0FDSEVfU0laRV9VTkxJTUlURUQiLCJfQXV0b0lkIiwiX0J5dGVTdHJpbmciLCJfRGF0YWJhc2VJZCIsIl9Eb2N1bWVudEtleSIsIl9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlciIsIl9FbXB0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIiwiX0ZpZWxkUGF0aCIsIl9UZXN0aW5nSG9va3MiLCJfY2FzdCIsIl9kZWJ1Z0Fzc2VydCIsIl9pbnRlcm5hbEFnZ3JlZ2F0aW9uUXVlcnlUb1Byb3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QiLCJfaW50ZXJuYWxRdWVyeVRvUHJvdG9RdWVyeVRhcmdldCIsIl9pc0Jhc2U2NEF2YWlsYWJsZSIsIl9sb2dXYXJuIiwiX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIiLCJhZGREb2MiLCJhZ2dyZWdhdGVGaWVsZEVxdWFsIiwiYWdncmVnYXRlUXVlcnlTbmFwc2hvdEVxdWFsIiwiYXJyYXlSZW1vdmUiLCJhcnJheVVuaW9uIiwiYXZlcmFnZSIsImNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2UiLCJkZWxldGVBbGxQZXJzaXN0ZW50Q2FjaGVJbmRleGVzIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudERlbGV0ZUFsbEZpZWxkSW5kZXhlcyIsImRlbGV0ZURvYyIsImRlbGV0ZUZpZWxkIiwiZGlzYWJsZU5ldHdvcmsiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGlzYWJsZU5ldHdvcmsiLCJkaXNhYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb24iLCJlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZSIsImVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UiLCJlbmFibGVOZXR3b3JrIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEVuYWJsZU5ldHdvcmsiLCJlbmFibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbiIsImVuZEJlZm9yZSIsImdldENvdW50RnJvbVNlcnZlciIsImdldERvY0Zyb21DYWNoZSIsIl9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudEZyb21Mb2NhbENhY2hlIiwiZ2V0RG9jRnJvbVNlcnZlciIsImdldERvY3MiLCJnZXREb2NzRnJvbUNhY2hlIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c0Zyb21Mb2NhbENhY2hlIiwiZ2V0RG9jc0Zyb21TZXJ2ZXIiLCJnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQiLCJnZXRQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXIiLCJpbml0aWFsaXplRmlyZXN0b3JlIiwibGltaXRUb0xhc3QiLCJsb2FkQnVuZGxlIiwiUmVhZGFibGVTdHJlYW0iLCJnZXRSZWFkZXIiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUxvYWRCdW5kbGUiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50TG9hZEJ1bmRsZSIsIm1lbW9yeUVhZ2VyR2FyYmFnZUNvbGxlY3RvciIsIm1lbW9yeUxvY2FsQ2FjaGUiLCJtZW1vcnlMcnVHYXJiYWdlQ29sbGVjdG9yIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldE5hbWVkUXVlcnkiLCJvblNuYXBzaG90c0luU3luYyIsIl9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRBZGRTbmFwc2hvdHNJblN5bmNMaXN0ZW5lciIsInBlcnNpc3RlbnRMb2NhbENhY2hlIiwicGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlciIsInJlZkVxdWFsIiwic2VydmVyVGltZXN0YW1wIiwic2V0SW5kZXhDb25maWd1cmF0aW9uIiwiaW5kZXhlcyIsImFycmF5Q29uZmlnIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFNldEluZGV4Q29uZmlndXJhdGlvbiIsInNuYXBzaG90RXF1YWwiLCJzdGFydEFmdGVyIiwid2FpdEZvclBlbmRpbmdXcml0ZXMiLCJfX1BSSVZBVEVfc3luY0VuZ2luZVJlZ2lzdGVyUGVuZGluZ1dyaXRlc0NhbGxiYWNrIiwid3JpdGVCYXRjaCIsImxldmVsU3RyaW5nVG9FbnVtIiwiVkVSQk9TRSIsIklORk8iLCJTSUxFTlQiLCJkZWZhdWx0TG9nTGV2ZWwiLCJDb25zb2xlTWV0aG9kIiwiZGVmYXVsdExvZ0hhbmRsZXIiLCJsb2dUeXBlIiwiYXJncyIsIm1ldGhvZCIsIl9sb2dMZXZlbCIsIl9sb2dIYW5kbGVyIiwiX3VzZXJMb2dIYW5kbGVyIiwiVHlwZUVycm9yIiwiaW5mbyIsImxldmVsIiwiaW5zdCIsImN1c3RvbUxvZ0xldmVsIiwidXNlckxvZ0hhbmRsZXIiLCJhcmciLCJpZ25vcmVkIiwiaW5zdGFuY2VzXzEiLCJDT05TVEFOVFMiLCJOT0RFX0NMSUVOVCIsIk5PREVfQURNSU4iLCJhc3NlcnQiLCJhc3NlcnRpb24iLCJhc3NlcnRpb25FcnJvciIsInN0cmluZ1RvQnl0ZUFycmF5JDEiLCJzdHIiLCJvdXQiLCJiYXNlNjQiLCJieXRlVG9DaGFyTWFwXyIsImNoYXJUb0J5dGVNYXBfIiwiYnl0ZVRvQ2hhck1hcFdlYlNhZmVfIiwiY2hhclRvQnl0ZU1hcFdlYlNhZmVfIiwiRU5DT0RFRF9WQUxTX0JBU0UiLCJFTkNPREVEX1ZBTFMiLCJFTkNPREVEX1ZBTFNfV0VCU0FGRSIsIkhBU19OQVRJVkVfU1VQUE9SVCIsImVuY29kZUJ5dGVBcnJheSIsImlucHV0Iiwid2ViU2FmZSIsImluaXRfIiwiYnl0ZVRvQ2hhck1hcCIsIm91dHB1dCIsImJ5dGUxIiwiaGF2ZUJ5dGUyIiwiYnl0ZTIiLCJoYXZlQnl0ZTMiLCJieXRlMyIsIm91dEJ5dGUxIiwib3V0Qnl0ZTIiLCJvdXRCeXRlMyIsIm91dEJ5dGU0IiwiZW5jb2RlU3RyaW5nIiwiZGVjb2RlU3RyaW5nIiwiYnl0ZXMiLCJwb3MiLCJjMSIsImMyIiwiYzMiLCJieXRlQXJyYXlUb1N0cmluZyIsImRlY29kZVN0cmluZ1RvQnl0ZUFycmF5IiwiY2hhclRvQnl0ZU1hcCIsImJ5dGU0IiwiRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IiLCJiYXNlNjRFbmNvZGUiLCJ1dGY4Qnl0ZXMiLCJiYXNlNjREZWNvZGUiLCJkZWVwRXh0ZW5kIiwicHJvcCIsImdldEdsb2JhbCIsImdldERlZmF1bHRzIiwiX19GSVJFQkFTRV9ERUZBVUxUU19fIiwiZGVmYXVsdHNKc29uU3RyaW5nIiwiZ2V0RGVmYXVsdHNGcm9tRW52VmFyaWFibGUiLCJjb29raWUiLCJkZWNvZGVkIiwiZ2V0RGVmYXVsdHNGcm9tQ29va2llIiwiZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCIsInByb2R1Y3ROYW1lIiwiZW11bGF0b3JIb3N0cyIsIndyYXBDYWxsYmFjayIsImlzTm9kZSIsImZvcmNlRW52aXJvbm1lbnQiLCJXb3JrZXJHbG9iYWxTY29wZSIsImN1c3RvbURhdGEiLCJzZXRQcm90b3R5cGVPZiIsImNhcHR1cmVTdGFja1RyYWNlIiwic2VydmljZU5hbWUiLCJlcnJvcnMiLCJmdWxsQ29kZSIsInRlbXBsYXRlIiwiUEFUVEVSTiIsInJlcGxhY2VUZW1wbGF0ZSIsImZ1bGxNZXNzYWdlIiwianNvbkV2YWwiLCJoZWFkZXIiLCJjbGFpbXMiLCJzaWduYXR1cmUiLCJwYXJ0cyIsImlzT2JqZWN0IiwidGhpbmciLCJPYnNlcnZlclByb3h5IiwiZXhlY3V0b3IiLCJvbk5vT2JzZXJ2ZXJzIiwib2JzZXJ2ZXJzIiwidW5zdWJzY3JpYmVzIiwib2JzZXJ2ZXJDb3VudCIsImZpbmFsaXplZCIsImZvckVhY2hPYnNlcnZlciIsInN1YnNjcmliZSIsIm5leHRPck9ic2VydmVyIiwibWV0aG9kcyIsImltcGxlbWVudHNBbnlNZXRob2RzIiwibm9vcCIsInVuc3ViIiwidW5zdWJzY3JpYmVPbmUiLCJmaW5hbEVycm9yIiwic2VuZE9uZSIsImVyciIsImVycm9yUHJlZml4IiwiZm5OYW1lIiwiYXJnTmFtZSIsIk1BWF9WQUxVRV9NSUxMSVMiLCJSQU5ET01fRkFDVE9SIiwiU2hhMSIsImNoYWluXyIsImJ1Zl8iLCJwYWRfIiwiaW5idWZfIiwidG90YWxfIiwiYmxvY2tTaXplIiwiY29tcHJlc3NfIiwiYnVmIiwiZiIsImQiLCJsZW5ndGhNaW51c0Jsb2NrIiwiaW5idWYiLCJ0b3RhbEJpdHMiLCJhcmVDb29raWVzRW5hYmxlZCIsImNvb2tpZUVuYWJsZWQiLCJjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzIiwiYmFja29mZkNvdW50IiwiaW50ZXJ2YWxNaWxsaXMiLCJiYWNrb2ZmRmFjdG9yIiwiY3VyckJhc2VWYWx1ZSIsInJhbmRvbVdhaXQiLCJwcm9qZWN0IiwiaWF0IiwicGF5bG9hZCIsImlzcyIsImF1ZCIsImV4cCIsImF1dGhfdGltZSIsImZpcmViYXNlIiwic2lnbl9pbl9wcm92aWRlciIsImlkZW50aXRpZXMiLCJhbGciLCJjcmVhdGVTdWJzY3JpYmUiLCJwcm94eSIsImRlZXBDb3B5IiwiYUtleXMiLCJiS2V5cyIsImFQcm9wIiwiYlByb3AiLCJleHRyYWN0UXVlcnlzdHJpbmciLCJ1cmwiLCJxdWVyeVN0YXJ0IiwiZnJhZ21lbnRTdGFydCIsInNlcGFyYXRvckluZGV4IiwibGFzdEluZGV4T2YiLCJwb3J0IiwicGFyc2VJbnQiLCJnZXRFeHBlcmltZW50YWxTZXR0aW5nIiwiaXNBZG1pbiIsImlzQnJvd3NlckV4dGVuc2lvbiIsInJ1bnRpbWUiLCJjaHJvbWUiLCJicm93c2VyIiwiaXNFbGVjdHJvbiIsImlzSUUiLCJpc01vYmlsZUNvcmRvdmEiLCJpc05vZGVTZGsiLCJpc1JlYWN0TmF0aXZlIiwiaXNVV1AiLCJpc1ZhbGlkRm9ybWF0IiwiaXNWYWxpZFRpbWVzdGFtcCIsInZhbGlkU2luY2UiLCJ2YWxpZFVudGlsIiwiaXNzdWVkQXRUaW1lIiwiY29udGV4dE9iaiIsInJlcyIsIm9yZGluYWwiLCJjZW50IiwiYWJzIiwiZGVjIiwiaW5kaWNhdG9yIiwicHJvbWlzZVdpdGhUaW1lb3V0IiwidGltZUluTVMiLCJkZWZlcnJlZFByb21pc2UiLCJxdWVyeXN0cmluZyIsInF1ZXJ5c3RyaW5nUGFyYW1zIiwiYXJyYXlWYWwiLCJxdWVyeXN0cmluZ0RlY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsInNhZmVHZXQiLCJzdHJpbmdMZW5ndGgiLCJzdHJpbmdUb0J5dGVBcnJheSIsImhpZ2giLCJ1dWlkdjQiLCJ2YWxpZGF0ZUFyZ0NvdW50IiwibWluQ291bnQiLCJtYXhDb3VudCIsImFyZ0NvdW50IiwiYXJnRXJyb3IiLCJ2YWxpZGF0ZUNhbGxiYWNrIiwiYXJndW1lbnROYW1lIiwidmFsaWRhdGVDb250ZXh0T2JqZWN0IiwiY29udGV4dCIsInByZUV4aXN0IiwiREJfQ0hFQ0tfTkFNRSIsInZhbGlkYXRlTmFtZXNwYWNlIiwibmFtZXNwYWNlIiwidyIsIkxOMiIsIkUiLCJ4b3IiLCJtb2R1bGUiLCJ5IiwiZGVmaW5lUHJvcGVydGllcyIsImdsb2JhbFRoaXMiLCJ3cml0YWJsZSIsInVuc2hpZnQiLCJGdW5jdGlvbiIsIlFiIiwiZGVmYXVsdFByZXZlbnRlZCIsInJlbGF0ZWRUYXJnZXQiLCJidXR0b24iLCJzY3JlZW5ZIiwic2NyZWVuWCIsImNsaWVudFkiLCJjbGllbnRYIiwibWV0YUtleSIsInNoaWZ0S2V5IiwiYWx0S2V5IiwiY3RybEtleSIsInBvaW50ZXJJZCIsInBvaW50ZXJUeXBlIiwiY2hhbmdlZFRvdWNoZXMiLCJzcmNFbGVtZW50Iiwibm9kZU5hbWUiLCJmcm9tRWxlbWVudCIsInRvRWxlbWVudCIsInBhZ2VYIiwicGFnZVkiLCJyZXR1cm5WYWx1ZSIsInNyYyIsImNhcHR1cmUiLCJvbmNlIiwiYXR0YWNoRXZlbnQiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJoYW5kbGVFdmVudCIsImFiIiwiYmIiLCJjYiIsImViIiwiZmIiLCJnYiIsImliIiwiamIiLCJrYiIsImxiIiwibWIiLCJ3YiIsIm5iIiwib2IiLCJwYiIsInFiIiwicmIiLCJzYiIsInRiIiwidWIiLCJ2YiIsInliIiwiQ2IiLCJBYiIsInhiIiwiQmIiLCJIYiIsInpiIiwiUGIiLCJEYiIsIkViIiwiWE1MSHR0cFJlcXVlc3QiLCJGYiIsIkdiIiwiSWIiLCJKYiIsIktiIiwiTGIiLCJNYiIsIlNiIiwiV2IiLCJPYiIsIlViIiwiUmIiLCJYYiIsIlliIiwiWmIiLCIkYiIsImFjIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJiYyIsImNjIiwiZGMiLCJlYyIsImZjIiwiZ2MiLCJOYiIsIlRiIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwidHJpbSIsIlZiIiwiaGMiLCJpYyIsIlBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyIsInBlcmZvcm1hbmNlIiwiZ2V0RW50cmllc0J5VHlwZSIsIm5leHRIb3BQcm90b2NvbCIsImxvYWRUaW1lcyIsIndhc0ZldGNoZWRWaWFTcGR5IiwiamMiLCJrYyIsIm5jIiwibWMiLCJsYyIsIm9jIiwicWMiLCJyYyIsInNjIiwidGMiLCJ1YyIsIkRjIiwiQWMiLCJ2YyIsIkJjIiwiZGVjb2RlVVJJIiwiZW5jb2RlVVJJIiwiQ2MiLCJ3YyIsInhjIiwieWMiLCJ6YyIsInBjIiwiRWMiLCJvbmxvYWQiLCJvbnRpbWVvdXQiLCJIYyIsIkljIiwiSmMiLCJLYyIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZSIsInN0YXR1c1RleHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJIZWFkZXJzIiwiTmMiLCJNYyIsIkxjIiwiT2MiLCJQYyIsImNhY2hlIiwiYm9keSIsImZldGNoIiwiUmVxdWVzdCIsImFycmF5QnVmZmVyIiwidGV4dCIsInNldFJlcXVlc3RIZWFkZXIiLCJhcHBlbmQiLCJRYyIsIlJjIiwiU2MiLCJVYyIsIlZjIiwiV2MiLCJsb2NhdGlvbiIsInByb3RvY29sIiwiVGMiLCJtb3pSZXNwb25zZUFycmF5QnVmZmVyIiwiWGMiLCJZYyIsImNvbmN1cnJlbnRSZXF1ZXN0TGltaXQiLCJmYXN0SGFuZHNoYWtlIiwiWmMiLCIkYyIsInNlbmRCZWFjb24iLCJJbWFnZSIsImFkIiwiZWQiLCJkZCIsImNkIiwiZmQiLCJiZCIsImlzQWN0aXZlIiwiRmMiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJvayIsIkdjIiwiaG9zdG5hbWUiLCJnZCIsImhkIiwibWVzc2FnZUhlYWRlcnMiLCJjbGllbnRQcm90b2NvbEhlYWRlclJlcXVpcmVkIiwibWVzc2FnZUNvbnRlbnRUeXBlIiwiX19oZWFkZXJzX18iLCJzdGF0dXNDb2RlIiwiX19zdGF0dXNfXyIsIl9fc21fXyIsImpkIiwidG9VcHBlckNhc2UiLCJ3aXRoQ3JlZGVudGlhbHMiLCJjb25uZWN0IiwiT1NJRCIsIk9BSUQiLCJfX2RhdGFfXyIsImdldExhc3RFcnJvciIsImluc3RhbmNlT2ZBbnkiLCJvYmplY3QiLCJjb25zdHJ1Y3RvcnMiLCJpZGJQcm94eWFibGVUeXBlcyIsImN1cnNvckFkdmFuY2VNZXRob2RzIiwiY3Vyc29yUmVxdWVzdE1hcCIsInRyYW5zYWN0aW9uRG9uZU1hcCIsInRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCIsInRyYW5zZm9ybUNhY2hlIiwicmV2ZXJzZVRyYW5zZm9ybUNhY2hlIiwiaWRiUHJveHlUcmFwcyIsInJlY2VpdmVyIiwiSURCVHJhbnNhY3Rpb24iLCJ3cmFwIiwidHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSIsImZ1bmMiLCJJREJEYXRhYmFzZSIsIklEQkN1cnNvciIsImFkdmFuY2UiLCJjb250aW51ZVByaW1hcnlLZXkiLCJ1bndyYXAiLCJzdG9yZU5hbWVzIiwidW5saXN0ZW4iLCJjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24iLCJJREJPYmplY3RTdG9yZSIsIklEQkluZGV4IiwiUHJveHkiLCJJREJSZXF1ZXN0Iiwic3VjY2VzcyIsInByb21pc2lmeVJlcXVlc3QiLCJibG9ja2VkIiwiYmxvY2tpbmciLCJ0ZXJtaW5hdGVkIiwib3BlblByb21pc2UiLCJkZWxldGVEQiIsInJlYWRNZXRob2RzIiwid3JpdGVNZXRob2RzIiwiY2FjaGVkTWV0aG9kcyIsImdldE1ldGhvZCIsInRhcmdldEZ1bmNOYW1lIiwidXNlSW5kZXgiLCJpc1dyaXRlIiwic3RvcmVOYW1lIiwib2xkVHJhcHMiLCJleHRlbmRTdGF0aWNzIiwiX19wcm90b19fIiwiX19yZXN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsIl9fcGFyYW0iLCJwYXJhbUluZGV4IiwiZGVjb3JhdG9yIiwiX19lc0RlY29yYXRlIiwiY3RvciIsImRlc2NyaXB0b3JJbiIsImNvbnRleHRJbiIsImluaXRpYWxpemVycyIsImV4dHJhSW5pdGlhbGl6ZXJzIiwiYWNjZXB0IiwiZGVzY3JpcHRvciIsImFjY2VzcyIsImFkZEluaXRpYWxpemVyIiwiaW5pdCIsIl9fcnVuSW5pdGlhbGl6ZXJzIiwidGhpc0FyZyIsInVzZVZhbHVlIiwiX19wcm9wS2V5IiwiX19zZXRGdW5jdGlvbk5hbWUiLCJwcmVmaXgiLCJkZXNjcmlwdGlvbiIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsInJlamVjdGVkIiwib3BzIiwidmVyYiIsIl9fY3JlYXRlQmluZGluZyIsImsyIiwiX19lc01vZHVsZSIsIl9fZXhwb3J0U3RhciIsIl9fc3ByZWFkIiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImpsIiwidG8iLCJwYWNrIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsIl9fYXN5bmNEZWxlZ2F0b3IiLCJfX2FzeW5jVmFsdWVzIiwiX19tYWtlVGVtcGxhdGVPYmplY3QiLCJjb29rZWQiLCJyYXciLCJfX3NldE1vZHVsZURlZmF1bHQiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJfX2ltcG9ydERlZmF1bHQiLCJkZWZhdWx0IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkSW4iLCJfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSIsImVudiIsImRpc3Bvc2UiLCJhc3luY0Rpc3Bvc2UiLCJfU3VwcHJlc3NlZEVycm9yIiwiU3VwcHJlc3NlZEVycm9yIiwic3VwcHJlc3NlZCIsIl9fZGlzcG9zZVJlc291cmNlcyIsImhhc0Vycm9yIiwicmVjIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=