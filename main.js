/*! For license information please see main.js.LICENSE.txt */
(()=>{var e={873:(e,t,n)=>{"use strict";n.r(t)},156:function(e,t,n){"use strict";var r,i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const s=n(718),o=n(516);n(873);const a=(0,s.initializeApp)({apiKey:"AIzaSyBrDNbyBpmRoUSCTI-npFm1YIodzQNjIoA",authDomain:"wedding-site-c1fb0.firebaseapp.com",projectId:"wedding-site-c1fb0",storageBucket:"wedding-site-c1fb0.appspot.com",messagingSenderId:"514808349805",appId:"1:514808349805:web:59defead69d7da4e5aeb64",measurementId:"G-4HM7N72DF4"}),c=(0,o.getFirestore)(a),u=["Мохито","Базиликовый смэш","Апероль","Маргарита","Пина-колада","Космополитен"],l=["Водка","Виски","Вино","Абсент","Ром"],h=["Корона","Guiness","Paulaner","Pilsner"];function d(e,t){return i(this,void 0,void 0,(function*(){var n;try{const r=(0,o.doc)(c,t,e.replace(/\s+/g,"_")),i=yield(0,o.getDoc)(r);if(i.exists()){const s=(null===(n=i.data())||void 0===n?void 0:n.count)||0;yield(0,o.updateDoc)(r,{count:s+1}),console.log(`Updated ${e} in ${t}: new count ${s+1}`)}else yield(0,o.setDoc)(r,{count:1}),console.log(`Set ${e} in ${t}: new count 1`)}catch(e){console.error("Ошибка при обновлении количества голосов:",e)}}))}function f(){return i(this,void 0,void 0,(function*(){var e;try{const t=["cocktails","luxury","beer"];for(const n of t){const t="cocktails"===n?u:"luxury"===n?l:"beer"===n?h:[];for(const r of t){const t=(0,o.doc)(c,n,r.replace(/\s+/g,"_")),i=yield(0,o.getDoc)(t);if(i.exists()){const t=(null===(e=i.data())||void 0===e?void 0:e.count)||0,n=document.getElementById(`${r.toLowerCase().replace(/\s+/g,"-")}-count`);n&&(n.innerText=`${t} человек`)}}}}catch(e){console.error("Ошибка получения результатов опроса:",e)}}))}document.addEventListener("DOMContentLoaded",(()=>i(void 0,void 0,void 0,(function*(){var e,t;"true"===localStorage.getItem("hasVoted")&&(null===(e=document.getElementById("results"))||void 0===e||e.classList.remove("hidden"),null===(t=document.getElementById("survey-form-id"))||void 0===t||t.classList.add("hidden"),document.querySelector(".survey-button").style.display="none",yield f())})))),null===(r=document.getElementById("addGuestBtn"))||void 0===r||r.addEventListener("click",(()=>i(void 0,void 0,void 0,(function*(){const e=document.getElementById("fullName").value;e?(yield function(e){return i(this,void 0,void 0,(function*(){try{const t=(0,o.doc)(c,"guests",`${e}`);(yield(0,o.getDoc)(t)).exists()?console.log(`Guest ${e} already exists`):(yield(0,o.setDoc)(t,{fullName:e}),console.log(`Guest ${e} added`))}catch(e){console.error("Error adding guest:",e)}}))}(e),document.getElementById("fullName").value=""):alert("Пожалуйста, введите фамилию и имя гостя")})))),function(){const e=(0,o.collection)(c,"guests");(0,o.onSnapshot)(e,(e=>{const t=document.getElementById("guestList");t&&(t.innerHTML="",e.forEach((e=>{!function(e){const t=document.getElementById("guestList");if(!t)return;const n=document.createElement("tr"),r=document.createElement("td");r.textContent=e.fullName,n.appendChild(r),t.appendChild(n)}(e.data())})))}))}();const p=document.getElementById("survey-form");null==p||p.addEventListener("submit",(e=>i(void 0,void 0,void 0,(function*(){var t,n;e.preventDefault();const r=new FormData(e.target);try{const e=r.getAll("cocktail");for(const t of e)yield d(t.toString(),"cocktails");const i=r.getAll("luxury");for(const e of i)yield d(e.toString(),"luxury");const s=r.getAll("beer");for(const e of s)yield d(e.toString(),"beer");localStorage.setItem("hasVoted","true"),f(),null===(t=document.getElementById("survey-form-id"))||void 0===t||t.classList.add("hidden"),null===(n=document.getElementById("results"))||void 0===n||n.classList.remove("hidden"),document.querySelector(".survey-button").style.display="none"}catch(e){console.error("Ошибка при обновлении количества голосов:",e)}})))),["cocktails","luxury","beer"].forEach((e=>{("cocktails"===e?u:"luxury"===e?l:"beer"===e?h:[]).forEach((t=>{const n=(0,o.doc)(c,e,t.replace(/\s+/g,"_"));(0,o.onSnapshot)(n,(e=>{var n;if(e.exists()){const r=(null===(n=e.data())||void 0===n?void 0:n.count)||0;!function(e,t){const n=document.getElementById(`${e.toLowerCase().replace(/\s+/g,"-")}-count`);n&&(n.innerText=`${t} человек`)}(t,r)}}))}))})),function(){i(this,void 0,void 0,(function*(){const e={cocktails:u,luxury:l,beer:h};try{for(const[t,n]of Object.entries(e))for(const e of n){const n=(0,o.doc)(c,t,e.replace(/\s+/g,"_"));(yield(0,o.getDoc)(n)).exists()||(yield(0,o.setDoc)(n,{count:0}))}console.log("Firestore data initialized")}catch(e){console.error("Error initializing Firestore data:",e)}}))}(),f()},782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n(462),o=n(322),a=n(795),c=n(107),u=n(669),l=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")},e}(),h="@firebase/app",d="0.10.6",f=new a.Logger("@firebase/app"),p="[DEFAULT]",g=((r={})[h]="fire-core",r["@firebase/app-compat"]="fire-core-compat",r["@firebase/analytics"]="fire-analytics",r["@firebase/analytics-compat"]="fire-analytics-compat",r["@firebase/app-check"]="fire-app-check",r["@firebase/app-check-compat"]="fire-app-check-compat",r["@firebase/auth"]="fire-auth",r["@firebase/auth-compat"]="fire-auth-compat",r["@firebase/database"]="fire-rtdb",r["@firebase/database-compat"]="fire-rtdb-compat",r["@firebase/functions"]="fire-fn",r["@firebase/functions-compat"]="fire-fn-compat",r["@firebase/installations"]="fire-iid",r["@firebase/installations-compat"]="fire-iid-compat",r["@firebase/messaging"]="fire-fcm",r["@firebase/messaging-compat"]="fire-fcm-compat",r["@firebase/performance"]="fire-perf",r["@firebase/performance-compat"]="fire-perf-compat",r["@firebase/remote-config"]="fire-rc",r["@firebase/remote-config-compat"]="fire-rc-compat",r["@firebase/storage"]="fire-gcs",r["@firebase/storage-compat"]="fire-gcs-compat",r["@firebase/firestore"]="fire-fst",r["@firebase/firestore-compat"]="fire-fst-compat",r["@firebase/vertexai-preview"]="fire-vertex",r["fire-js"]="fire-js",r.firebase="fire-js-all",r),m=new Map,y=new Map,v=new Map;function w(e,t){try{e.container.addComponent(t)}catch(n){f.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function b(e){var t,n,r,i,s=e.name;if(v.has(s))return f.debug("There were multiple attempts to register component ".concat(s,".")),!1;v.set(s,e);try{for(var a=o.__values(m.values()),c=a.next();!c.done;c=a.next())w(c.value,e)}catch(e){t={error:e}}finally{try{c&&!c.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}try{for(var u=o.__values(y.values()),l=u.next();!l.done;l=u.next())w(l.value,e)}catch(e){r={error:e}}finally{try{l&&!l.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return!0}function _(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function I(e){return void 0!==e.options}var E=((i={})["no-app"]="No Firebase App '{$appName}' has been created - call initializeApp() first",i["bad-app-name"]="Illegal App name: '{$appName}'",i["duplicate-app"]="Firebase App named '{$appName}' already exists with different options or config",i["app-deleted"]="Firebase App named '{$appName}' already deleted",i["server-app-deleted"]="Firebase Server App has been deleted",i["no-options"]="Need to provide options, when not being deployed to hosting via source.",i["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",i["invalid-log-argument"]="First argument to `onLog` must be null or a function.",i["idb-open"]="Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",i["idb-get"]="Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",i["idb-set"]="Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",i["idb-delete"]="Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.",i["finalization-registry-not-supported"]="FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.",i["invalid-server-app-environment"]="FirebaseServerApp is not for use in browser environments.",i),S=new c.ErrorFactory("app","Firebase",E),T=function(){function e(e,t,n){var r=this;this._isDeleted=!1,this._options=o.__assign({},e),this._config=o.__assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new s.Component("app",(function(){return r}),"PUBLIC"))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed(),this._name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed(),this._options},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.checkDestroyed(),this._config},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"container",{get:function(){return this._container},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDeleted",{get:function(){return this._isDeleted},set:function(e){this._isDeleted=e},enumerable:!1,configurable:!0}),e.prototype.checkDestroyed=function(){if(this.isDeleted)throw S.create("app-deleted",{appName:this._name})},e}(),x=function(e){function t(t,n,r,i){var s=this,a=void 0!==n.automaticDataCollectionEnabled&&n.automaticDataCollectionEnabled,c={name:r,automaticDataCollectionEnabled:a};if(void 0!==t.apiKey)s=e.call(this,t,c,i)||this;else{var u=t;s=e.call(this,u.options,c,i)||this}return s._serverConfig=o.__assign({automaticDataCollectionEnabled:a},n),s._finalizationRegistry=null,"undefined"!=typeof FinalizationRegistry&&(s._finalizationRegistry=new FinalizationRegistry((function(){s.automaticCleanup()}))),s._refCount=0,s.incRefCount(s._serverConfig.releaseOnDeref),s._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,A(h,d,"serverapp"),s}return o.__extends(t,e),t.prototype.toJSON=function(){},Object.defineProperty(t.prototype,"refCount",{get:function(){return this._refCount},enumerable:!1,configurable:!0}),t.prototype.incRefCount=function(e){this.isDeleted||(this._refCount++,void 0!==e&&null!==this._finalizationRegistry&&this._finalizationRegistry.register(e,this))},t.prototype.decRefCount=function(){return this.isDeleted?0:--this._refCount},t.prototype.automaticCleanup=function(){D(this)},Object.defineProperty(t.prototype,"settings",{get:function(){return this.checkDestroyed(),this._serverConfig},enumerable:!1,configurable:!0}),t.prototype.checkDestroyed=function(){if(this.isDeleted)throw S.create("server-app-deleted")},t}(T);function C(e,t){var n,r;void 0===t&&(t={});var i=e;"object"!=typeof t&&(t={name:t});var a=o.__assign({name:p,automaticDataCollectionEnabled:!1},t),u=a.name;if("string"!=typeof u||!u)throw S.create("bad-app-name",{appName:String(u)});if(i||(i=c.getDefaultAppConfig()),!i)throw S.create("no-options");var l=m.get(u);if(l){if(c.deepEqual(i,l.options)&&c.deepEqual(a,l.config))return l;throw S.create("duplicate-app",{appName:u})}var h=new s.ComponentContainer(u);try{for(var d=o.__values(v.values()),f=d.next();!f.done;f=d.next()){var g=f.value;h.addComponent(g)}}catch(e){n={error:e}}finally{try{f&&!f.done&&(r=d.return)&&r.call(d)}finally{if(n)throw n.error}}var y=new T(i,a,h);return m.set(u,y),y}function D(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:return t=!1,n=e.name,m.has(n)?(t=!0,m.delete(n)):y.has(n)&&e.decRefCount()<=0&&(y.delete(n),t=!0),t?[4,Promise.all(e.container.getProviders().map((function(e){return e.delete()})))]:[3,2];case 1:r.sent(),e.isDeleted=!0,r.label=2;case 2:return[2]}}))}))}function A(e,t,n){var r,i=null!==(r=g[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var c=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return o&&c.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),o&&a&&c.push("and"),a&&c.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void f.warn(c.join(" "))}b(new s.Component("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var N="firebase-heartbeat-database",k=1,O="firebase-heartbeat-store",L=null;function M(){return L||(L=u.openDB(N,k,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(O)}catch(e){console.warn(e)}}}).catch((function(e){throw S.create("idb-open",{originalErrorMessage:e.message})}))),L}function P(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,M()];case 1:return t=o.sent(),[4,(n=t.transaction(O)).objectStore(O).get(F(e))];case 2:return r=o.sent(),[4,n.done];case 3:return o.sent(),[2,r];case 4:return(i=o.sent())instanceof c.FirebaseError?f.warn(i.message):(s=S.create("idb-get",{originalErrorMessage:null==i?void 0:i.message}),f.warn(s.message)),[3,5];case 5:return[2]}}))}))}function R(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,4,,5]),[4,M()];case 1:return n=o.sent(),[4,(r=n.transaction(O,"readwrite")).objectStore(O).put(t,F(e))];case 2:return o.sent(),[4,r.done];case 3:return o.sent(),[3,5];case 4:return(i=o.sent())instanceof c.FirebaseError?f.warn(i.message):(s=S.create("idb-set",{originalErrorMessage:null==i?void 0:i.message}),f.warn(s.message)),[3,5];case 5:return[2]}}))}))}function F(e){return"".concat(e.name,"!").concat(e.options.appId)}var V=function(){function e(e){var t=this;this.container=e,this._heartbeatsCache=null;var n=this.container.getProvider("app").getImmediate();this._storage=new U(n),this._heartbeatsCachePromise=this._storage.read().then((function(e){return t._heartbeatsCache=e,e}))}return e.prototype.triggerHeartbeat=function(){var e,t;return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,s;return o.__generator(this,(function(o){switch(o.label){case 0:return n=this.container.getProvider("platform-logger").getImmediate(),r=n.getPlatformInfoString(),i=B(),null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)?[3,2]:(s=this,[4,this._heartbeatsCachePromise]);case 1:if(s._heartbeatsCache=o.sent(),null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats))return[2];o.label=2;case 2:return this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some((function(e){return e.date===i}))?[2]:(this._heartbeatsCache.heartbeats.push({date:i,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),[2,this._storage.overwrite(this._heartbeatsCache)])}}))}))},e.prototype.getHeartbeatsHeader=function(){var e;return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i,s;return o.__generator(this,(function(a){switch(a.label){case 0:return null!==this._heartbeatsCache?[3,2]:[4,this._heartbeatsCachePromise];case 1:a.sent(),a.label=2;case 2:return null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length?[2,""]:(t=B(),n=function(e,t){var n,r;void 0===t&&(t=1024);var i=[],s=e.slice(),a=function(e){var n=i.find((function(t){return t.agent===e.agent}));if(n){if(n.dates.push(e.date),q(i)>t)return n.dates.pop(),"break"}else if(i.push({agent:e.agent,dates:[e.date]}),q(i)>t)return i.pop(),"break";s=s.slice(1)};try{for(var c=o.__values(e),u=c.next();!u.done&&"break"!==a(u.value);u=c.next());}catch(e){n={error:e}}finally{try{u&&!u.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}return{heartbeatsToSend:i,unsentEntries:s}}(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,s=c.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,[4,this._storage.overwrite(this._heartbeatsCache)]):[3,4]);case 3:return a.sent(),[3,5];case 4:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache),a.label=5;case 5:return[2,s]}}))}))},e}();function B(){return(new Date).toISOString().substring(0,10)}var U=function(){function e(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return e.prototype.runIndexedDBEnvironmentCheck=function(){return o.__awaiter(this,void 0,void 0,(function(){return o.__generator(this,(function(e){return c.isIndexedDBAvailable()?[2,c.validateIndexedDBOpenable().then((function(){return!0})).catch((function(){return!1}))]:[2,!1]}))}))},e.prototype.read=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return t.sent()?[3,2]:[2,{heartbeats:[]}];case 2:return[4,P(this.app)];case 3:return(null==(e=t.sent())?void 0:e.heartbeats)?[2,e]:[2,{heartbeats:[]}];case 4:return[2]}}))}))},e.prototype.overwrite=function(e){var t;return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})]}}))}))},e.prototype.add=function(e){var t;return o.__awaiter(this,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return[4,this._canUseIndexedDBPromise];case 1:return r.sent()?[3,2]:[2];case 2:return[4,this.read()];case 3:return n=r.sent(),[2,R(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:o.__spreadArray(o.__spreadArray([],o.__read(n.heartbeats),!1),o.__read(e.heartbeats),!1)})]}}))}))},e}();function q(e){return c.base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:e})).length}b(new s.Component("platform-logger",(function(e){return new l(e)}),"PRIVATE")),b(new s.Component("heartbeat",(function(e){return new V(e)}),"PRIVATE")),A(h,d,"node"),A(h,d,"cjs5"),A("fire-js",""),Object.defineProperty(t,"FirebaseError",{enumerable:!0,get:function(){return c.FirebaseError}}),t.SDK_VERSION="10.12.3",t._DEFAULT_ENTRY_NAME=p,t._addComponent=w,t._addOrOverwriteComponent=function(e,t){e.container.addOrOverwriteComponent(t)},t._apps=m,t._clearComponents=function(){v.clear()},t._components=v,t._getProvider=_,t._isFirebaseApp=I,t._isFirebaseServerApp=function(e){return void 0!==e.settings},t._registerComponent=b,t._removeServiceInstance=function(e,t,n){void 0===n&&(n=p),_(e,t).clearInstance(n)},t._serverApps=y,t.deleteApp=D,t.getApp=function(e){void 0===e&&(e=p);var t=m.get(e);if(!t&&e===p&&c.getDefaultAppConfig())return C();if(!t)throw S.create("no-app",{appName:e});return t},t.getApps=function(){return Array.from(m.values())},t.initializeApp=C,t.initializeServerApp=function(e,t){var n,r,i;if(c.isBrowser()&&!c.isWebWorker())throw S.create("invalid-server-app-environment");void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),i=I(e)?e.options:e;var a=o.__assign(o.__assign({},t),i);if(void 0!==a.releaseOnDeref&&delete a.releaseOnDeref,void 0!==t.releaseOnDeref&&"undefined"==typeof FinalizationRegistry)throw S.create("finalization-registry-not-supported",{});var u,l=""+(u=JSON.stringify(a),o.__spreadArray([],o.__read(u),!1).reduce((function(e,t){return Math.imul(31,e)+t.charCodeAt(0)|0}),0)),h=y.get(l);if(h)return h.incRefCount(t.releaseOnDeref),h;var d=new s.ComponentContainer(l);try{for(var f=o.__values(v.values()),p=f.next();!p.done;p=f.next()){var g=p.value;d.addComponent(g)}}catch(e){n={error:e}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}var m=new x(i,t,l,d);return y.set(l,m),m},t.onLog=function(e,t){if(null!==e&&"function"!=typeof e)throw S.create("invalid-log-argument");a.setUserLogHandler(e,t)},t.registerVersion=A,t.setLogLevel=function(e){a.setLogLevel(e)}},462:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(322),i=n(107),s=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),o="[DEFAULT]",a=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(e){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:o})}catch(e){}try{for(var i=r.__values(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=r.__read(s.value,2),c=a[0],u=a[1],l=this.normalizeInstanceIdentifier(c);try{var h=this.getOrInitializeService({instanceIdentifier:l});u.resolve(h)}catch(e){}}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=o),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(r.__spreadArray(r.__spreadArray([],r.__read(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),!1),r.__read(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()}))),!1))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=o),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=o),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error("".concat(this.name,"(").concat(o,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var c=r.__values(this.instancesDeferred.entries()),u=c.next();!u.done;u=c.next()){var l=r.__read(u.value,2),h=l[0],d=l[1];o===this.normalizeInstanceIdentifier(h)&&d.resolve(a)}}catch(e){t={error:e}}finally{try{u&&!u.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&e(s,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,s=this.onInitCallbacks.get(t);if(s)try{for(var o=r.__values(s),a=o.next();!a.done;a=o.next()){var c=a.value;try{c(e,t)}catch(e){}}}catch(e){n={error:e}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,s=this.instances.get(n);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===o?void 0:t),options:i}),this.instances.set(n,s),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(s,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,s)}catch(e){}return s||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=o),this.component?this.component.multipleInstances?e:o:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}(),c=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new a(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}();t.Component=s,t.ComponentContainer=c,t.Provider=a},100:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(782),i=n(462),s=n(795),o=n(107),a=n(293),c=n(493);const u="@firebase/firestore";class l{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");let h="10.12.3";const d=new s.Logger("@firebase/firestore");function f(){return d.logLevel}function p(e,...t){if(d.logLevel<=s.LogLevel.DEBUG){const n=t.map(y);d.debug(`Firestore (${h}): ${e}`,...n)}}function g(e,...t){if(d.logLevel<=s.LogLevel.ERROR){const n=t.map(y);d.error(`Firestore (${h}): ${e}`,...n)}}function m(e,...t){if(d.logLevel<=s.LogLevel.WARN){const n=t.map(y);d.warn(`Firestore (${h}): ${e}`,...n)}}function y(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function v(e="Unexpected state"){const t=`FIRESTORE (${h}) INTERNAL ASSERTION FAILED: `+e;throw g(t),new Error(t)}function w(e,t){e||v()}function b(e,t){return e}const _={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class I extends o.FirebaseError{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class E{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class S{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(l.UNAUTHENTICATED)))}shutdown(){}}class x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class C{constructor(e){this.t=e,this.currentUser=l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new E;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new E,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{p("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(p("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new E)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(p("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(w("string"==typeof t.accessToken),new S(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return w(null===e||"string"==typeof e),new l(e)}}class D{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=l.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class A{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new D(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(l.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class k{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&p("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,p("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{p("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):p("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(w("string"==typeof e.token),this.R=e.token,new N(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function O(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class L{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=O(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function M(e,t){return e<t?-1:e>t?1:0}function P(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function R(e){return e+"\0"}class F{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new I(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new I(_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new I(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new I(_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return F.fromMillis(Date.now())}static fromDate(e){return F.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new F(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?M(this.nanoseconds,e.nanoseconds):M(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class V{constructor(e){this.timestamp=e}static fromTimestamp(e){return new V(e)}static min(){return new V(new F(0,0))}static max(){return new V(new F(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class B{constructor(e,t,n){void 0===t?t=0:t>e.length&&v(),void 0===n?n=e.length-t:n>e.length-t&&v(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===B.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof B?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class U extends B{construct(e,t,n){return new U(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new I(_.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new U(t)}static emptyPath(){return new U([])}}const q=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class j extends B{construct(e,t,n){return new j(e,t,n)}static isValidIdentifier(e){return q.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),j.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new j(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new I(_.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new I(_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new I(_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new I(_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new j(t)}static emptyPath(){return new j([])}}class z{constructor(e){this.path=e}static fromPath(e){return new z(U.fromString(e))}static fromName(e){return new z(U.fromString(e).popFirst(5))}static empty(){return new z(U.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===U.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return U.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new z(new U(e.slice()))}}class G{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function K(e){return e.fields.find((e=>2===e.kind))}function $(e){return e.fields.filter((e=>2!==e.kind))}function Q(e,t){let n=M(e.collectionGroup,t.collectionGroup);if(0!==n)return n;for(let r=0;r<Math.min(e.fields.length,t.fields.length);++r)if(n=W(e.fields[r],t.fields[r]),0!==n)return n;return M(e.fields.length,t.fields.length)}G.UNKNOWN_ID=-1;class H{constructor(e,t){this.fieldPath=e,this.kind=t}}function W(e,t){const n=j.comparator(e.fieldPath,t.fieldPath);return 0!==n?n:M(e.kind,t.kind)}class J{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new J(0,Z.min())}}function Y(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=V.fromTimestamp(1e9===r?new F(n+1,0):new F(n,r));return new Z(i,z.empty(),t)}function X(e){return new Z(e.readTime,e.key,-1)}class Z{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Z(V.min(),z.empty(),-1)}static max(){return new Z(V.max(),z.empty(),-1)}}function ee(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=z.comparator(e.documentKey,t.documentKey),0!==n?n:M(e.largestBatchId,t.largestBatchId))}const te="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ne{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function re(e){if(e.code!==_.FAILED_PRECONDITION||e.message!==te)throw e;p("LocalStore","Unexpectedly lost primary lease")}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&v(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(e){return ie.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):ie.reject(t)}static resolve(e){return new ie(((t,n)=>{t(e)}))}static reject(e){return new ie(((t,n)=>{n(e)}))}static waitFor(e){return new ie(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=ie.resolve(!1);for(const n of e)t=t.next((e=>e?ie.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new ie(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new ie(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class se{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new E,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new ue(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=pe(t.target.error);this.V.reject(new ue(e,n))}}static open(e,t,n,r){try{return new se(t,e.transaction(r,n))}catch(e){throw new ue(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(p("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new he(t)}}class oe{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===oe.S(o.getUA())&&g("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return p("SimpleDb","Removing database:",e),de(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!o.isIndexedDBAvailable())return!1;if(oe.C())return!0;const e=o.getUA(),t=oe.S(e),n=0<t&&t<10,r=ae(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.v)}static F(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}async M(e){return this.db||(p("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new ue(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new I(_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new I(_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new ue(e,r))},r.onupgradeneeded=e=>{p("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.O(t,r.transaction,e.oldVersion,this.version).next((()=>{p("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.N&&(this.db.onversionchange=e=>this.N(e)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.M(e);const t=se.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),ie.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(p("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}function ae(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ce{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return de(this.B.delete())}}class ue extends I{constructor(e,t){super(_.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function le(e){return"IndexedDbTransactionError"===e.name}class he{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(p("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(p("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),de(n)}add(e){return p("SimpleDb","ADD",this.store.name,e,e),de(this.store.add(e))}get(e){return de(this.store.get(e)).next((t=>(void 0===t&&(t=null),p("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return p("SimpleDb","DELETE",this.store.name,e),de(this.store.delete(e))}count(){return p("SimpleDb","COUNT",this.store.name),de(this.store.count())}U(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new ie(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}}G(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new ie(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}j(e,t){p("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Y(e){const t=this.cursor({});return new ie(((n,r)=>{t.onerror=e=>{const t=pe(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new ie(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new ce(i),o=t(i.primaryKey,i.value,s);if(o instanceof ie){const e=o.catch((e=>(s.done(),ie.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>ie.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function de(e){return new ie(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=pe(e.target.error);n(t)}}))}let fe=!1;function pe(e){const t=oe.S(o.getUA());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new I("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return fe||(fe=!0,setTimeout((()=>{throw e}),0)),e}}return e}class ge{constructor(e,t){this.asyncQueue=e,this.Z=t,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}X(e){p("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{p("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(e){le(e)?p("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await re(e)}await this.X(6e4)}))}}class me{constructor(e,t){this.localStore=e,this.persistence=t}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.te(t,e)))}te(e,t){const n=new Set;let r=t,i=!0;return ie.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return p("IndexBackfiller",`Processing collection: ${t}`),this.ne(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}ne(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.re(r,n))).next((n=>(p("IndexBackfiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}re(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=X(t);ee(r,n)>0&&(n=r)})),new Z(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ye{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function ve(e){return null==e}function we(e){return 0===e&&1/e==-1/0}function be(e){return"number"==typeof e&&Number.isInteger(e)&&!we(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function _e(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Ee(t)),t=Ie(e.get(n),t);return Ee(t)}function Ie(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Ee(e){return e+""}function Se(e){const t=e.length;if(w(t>=2),2===t)return w(""===e.charAt(0)&&""===e.charAt(1)),U.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&v(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:v()}s=t+2}return new U(r)}ye.oe=-1;const Te=["userId","batchId"];function xe(e,t){return[e,_e(t)]}function Ce(e,t,n){return[e,_e(t),n]}const De={},Ae=["prefixPath","collectionGroup","readTime","documentId"],Ne=["prefixPath","collectionGroup","documentId"],ke=["collectionGroup","readTime","prefixPath","documentId"],Oe=["canonicalId","targetId"],Le=["targetId","path"],Me=["path","targetId"],Pe=["collectionId","parent"],Re=["indexId","uid"],Fe=["uid","sequenceNumber"],Ve=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Be=["indexId","uid","orderedDocumentKey"],Ue=["userId","collectionPath","documentId"],qe=["userId","collectionPath","largestBatchId"],je=["userId","collectionGroup","largestBatchId"],ze=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ge=[...ze,"documentOverlays"],Ke=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],$e=Ke,Qe=[...$e,"indexConfiguration","indexState","indexEntries"],He=Qe;class We extends ne{constructor(e,t){super(),this._e=e,this.currentSequenceNumber=t}}function Je(e,t){const n=b(e);return oe.F(n._e,t)}function Ye(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Xe(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ze(e,t){const n=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.push(t(e[r],r,e));return n}function et(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class tt{constructor(e,t){this.comparator=e,this.root=t||rt.EMPTY}insert(e,t){return new tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rt.BLACK,null,null))}remove(e){return new tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new nt(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new nt(this.root,e,this.comparator,!1)}getReverseIterator(){return new nt(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new nt(this.root,e,this.comparator,!0)}}class nt{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:rt.RED,this.left=null!=r?r:rt.EMPTY,this.right=null!=i?i:rt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new rt(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return rt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw v();if(this.right.isRed())throw v();const e=this.left.check();if(e!==this.right.check())throw v();return e+(this.isRed()?0:1)}}rt.EMPTY=null,rt.RED=!0,rt.BLACK=!1,rt.EMPTY=new class{constructor(){this.size=0}get key(){throw v()}get value(){throw v()}get color(){throw v()}get left(){throw v()}get right(){throw v()}copy(e,t,n,r,i){return this}insert(e,t,n){return new rt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new tt(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new st(this.data.getIterator())}getIteratorFrom(e){return new st(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof it))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class st{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ot(e){return e.hasNext()?e.getNext():void 0}class at{constructor(e){this.fields=e,e.sort(j.comparator)}static empty(){return new at([])}unionWith(e){let t=new it(j.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new at(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return P(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class ct extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ct("Invalid base64 string: "+e):e}}(e);return new ut(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return M(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ut.EMPTY_BYTE_STRING=new ut("");const lt=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ht(e){if(w(!!e),"string"==typeof e){let t=0;const n=lt.exec(e);if(w(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:dt(e.seconds),nanos:dt(e.nanos)}}function dt(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ft(e){return"string"==typeof e?ut.fromBase64String(e):ut.fromUint8Array(e)}function pt(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gt(e){const t=e.mapValue.fields.__previous_value__;return pt(t)?gt(t):t}function mt(e){const t=ht(e.mapValue.fields.__local_write_time__.timestampValue);return new F(t.seconds,t.nanos)}class yt{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class vt{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new vt("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof vt&&e.projectId===this.projectId&&e.database===this.database}}const wt={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},bt={nullValue:"NULL_VALUE"};function _t(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?pt(e)?4:Rt(e)?9007199254740991:10:v()}function It(e,t){if(e===t)return!0;const n=_t(e);if(n!==_t(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return mt(e).isEqual(mt(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ht(e.timestampValue),r=ht(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ft(e.bytesValue).isEqual(ft(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return dt(e.geoPointValue.latitude)===dt(t.geoPointValue.latitude)&&dt(e.geoPointValue.longitude)===dt(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return dt(e.integerValue)===dt(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=dt(e.doubleValue),r=dt(t.doubleValue);return n===r?we(n)===we(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return P(e.arrayValue.values||[],t.arrayValue.values||[],It);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ye(n)!==Ye(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!It(n[e],r[e])))return!1;return!0}(e,t);default:return v()}}function Et(e,t){return void 0!==(e.values||[]).find((e=>It(e,t)))}function St(e,t){if(e===t)return 0;const n=_t(e),r=_t(t);if(n!==r)return M(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return M(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=dt(e.integerValue||e.doubleValue),r=dt(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Tt(e.timestampValue,t.timestampValue);case 4:return Tt(mt(e),mt(t));case 5:return M(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ft(e),r=ft(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=M(n[e],r[e]);if(0!==t)return t}return M(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=M(dt(e.latitude),dt(t.latitude));return 0!==n?n:M(dt(e.longitude),dt(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=St(n[e],r[e]);if(t)return t}return M(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===wt.mapValue&&t===wt.mapValue)return 0;if(e===wt.mapValue)return 1;if(t===wt.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=M(r[e],s[e]);if(0!==t)return t;const o=St(n[r[e]],i[s[e]]);if(0!==o)return o}return M(r.length,s.length)}(e.mapValue,t.mapValue);default:throw v()}}function Tt(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return M(e,t);const n=ht(e),r=ht(t),i=M(n.seconds,r.seconds);return 0!==i?i:M(n.nanos,r.nanos)}function xt(e){return Ct(e)}function Ct(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ht(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ft(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return z.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ct(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ct(e.fields[i])}`;return n+"}"}(e.mapValue):v()}function Dt(e){switch(_t(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=gt(e);return t?16+Dt(t):16;case 5:return 2*e.stringValue.length;case 6:return ft(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Dt(t)),0)}(e.arrayValue);case 10:return function(e){let t=0;return Xe(e.fields,((e,n)=>{t+=e.length+Dt(n)})),t}(e.mapValue);default:throw v()}}function At(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Nt(e){return!!e&&"integerValue"in e}function kt(e){return!!e&&"arrayValue"in e}function Ot(e){return!!e&&"nullValue"in e}function Lt(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Mt(e){return!!e&&"mapValue"in e}function Pt(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Xe(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Pt(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Pt(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Rt(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function Ft(e){return"nullValue"in e?bt:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?At(vt.empty(),z.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:v()}function Vt(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?At(vt.empty(),z.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?wt:v()}function Bt(e,t){const n=St(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Ut(e,t){const n=St(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Mt(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pt(t)}setAll(e){let t=j.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Pt(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Mt(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return It(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Mt(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Xe(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new qt(Pt(this.value))}}function jt(e){const t=[];return Xe(e.fields,((e,n)=>{const r=new j([e]);if(Mt(n)){const e=jt(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new at(t)}class zt{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new zt(e,0,V.min(),V.min(),V.min(),qt.empty(),0)}static newFoundDocument(e,t,n,r){return new zt(e,1,t,V.min(),n,r,0)}static newNoDocument(e,t){return new zt(e,2,t,V.min(),V.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new zt(e,3,t,V.min(),V.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(V.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=V.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gt{constructor(e,t){this.position=e,this.inclusive=t}}function Kt(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?z.comparator(z.fromName(o.referenceValue),n.key):St(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function $t(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!It(e.position[n],t.position[n]))return!1;return!0}class Qt{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ht(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Wt{}class Jt extends Wt{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new an(e,t,n):"array-contains"===t?new hn(e,n):"in"===t?new dn(e,n):"not-in"===t?new fn(e,n):"array-contains-any"===t?new pn(e,n):new Jt(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new cn(e,n):new un(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(St(t,this.value)):null!==t&&_t(this.value)===_t(t)&&this.matchesComparison(St(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return v()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yt extends Wt{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Yt(e,t)}matches(e){return Xt(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Xt(e){return"and"===e.op}function Zt(e){return"or"===e.op}function en(e){return tn(e)&&Xt(e)}function tn(e){for(const t of e.filters)if(t instanceof Yt)return!1;return!0}function nn(e){if(e instanceof Jt)return e.field.canonicalString()+e.op.toString()+xt(e.value);if(en(e))return e.filters.map((e=>nn(e))).join(",");{const t=e.filters.map((e=>nn(e))).join(",");return`${e.op}(${t})`}}function rn(e,t){return e instanceof Jt?function(e,t){return t instanceof Jt&&e.op===t.op&&e.field.isEqual(t.field)&&It(e.value,t.value)}(e,t):e instanceof Yt?function(e,t){return t instanceof Yt&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&rn(n,t.filters[r])),!0)}(e,t):void v()}function sn(e,t){const n=e.filters.concat(t);return Yt.create(n,e.op)}function on(e){return e instanceof Jt?function(e){return`${e.field.canonicalString()} ${e.op} ${xt(e.value)}`}(e):e instanceof Yt?function(e){return e.op.toString()+" {"+e.getFilters().map(on).join(" ,")+"}"}(e):"Filter"}class an extends Jt{constructor(e,t,n){super(e,t,n),this.key=z.fromName(n.referenceValue)}matches(e){const t=z.comparator(e.key,this.key);return this.matchesComparison(t)}}class cn extends Jt{constructor(e,t){super(e,"in",t),this.keys=ln(0,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class un extends Jt{constructor(e,t){super(e,"not-in",t),this.keys=ln(0,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function ln(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>z.fromName(e.referenceValue)))}class hn extends Jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return kt(t)&&Et(t.arrayValue,this.value)}}class dn extends Jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Et(this.value.arrayValue,t)}}class fn extends Jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Et(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Et(this.value.arrayValue,t)}}class pn extends Jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!kt(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Et(this.value.arrayValue,e)))}}class gn{constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ue=null}}function mn(e,t=null,n=[],r=[],i=null,s=null,o=null){return new gn(e,t,n,r,i,s,o)}function yn(e){const t=b(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>nn(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),ve(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>xt(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>xt(e))).join(",")),t.ue=e}return t.ue}function vn(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ht(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!rn(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!$t(e.startAt,t.startAt)&&$t(e.endAt,t.endAt)}function wn(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function bn(e,t){return e.filters.filter((e=>e instanceof Jt&&e.field.isEqual(t)))}function _n(e,t,n){let r=bt,i=!0;for(const n of bn(e,t)){let e=bt,t=!0;switch(n.op){case"<":case"<=":e=Ft(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=bt}Bt({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Bt({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function In(e,t,n){let r=wt,i=!0;for(const n of bn(e,t)){let e=wt,t=!0;switch(n.op){case">=":case">":e=Vt(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=wt}Ut({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Ut({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class En{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Sn(e,t,n,r,i,s,o,a){return new En(e,t,n,r,i,s,o,a)}function Tn(e){return new En(e)}function xn(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Cn(e){return null!==e.collectionGroup}function Dn(e){const t=b(e);if(null===t.ce){t.ce=[];const e=new Set;for(const n of t.explicitOrderBy)t.ce.push(n),e.add(n.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new it(j.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Qt(r,n))})),e.has(j.keyField().canonicalString())||t.ce.push(new Qt(j.keyField(),n))}return t.ce}function An(e){const t=b(e);return t.le||(t.le=kn(t,Dn(e))),t.le}function Nn(e){const t=b(e);return t.he||(t.he=kn(t,e.explicitOrderBy)),t.he}function kn(e,t){if("F"===e.limitType)return mn(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Qt(e.field,t)}));const n=e.endAt?new Gt(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Gt(e.startAt.position,e.startAt.inclusive):null;return mn(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function On(e,t){const n=e.filters.concat([t]);return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Ln(e,t,n){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Mn(e,t){return vn(An(e),An(t))&&e.limitType===t.limitType}function Pn(e){return`${yn(An(e))}|lt:${e.limitType}`}function Rn(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>on(e))).join(", ")}]`),ve(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>xt(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>xt(e))).join(",")),`Target(${t})`}(An(e))}; limitType=${e.limitType})`}function Fn(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):z.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Dn(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Kt(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Dn(e),t)||e.endAt&&!function(e,t,n){const r=Kt(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Dn(e),t))}(e,t)}function Vn(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Bn(e){return(t,n)=>{let r=!1;for(const i of Dn(e)){const e=Un(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Un(e,t,n){const r=e.field.isKeyField()?z.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?St(r,i):v()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return v()}}class qn{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Xe(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return et(this.inner)}size(){return this.innerSize}}const jn=new tt(z.comparator);function zn(){return jn}const Gn=new tt(z.comparator);function Kn(...e){let t=Gn;for(const n of e)t=t.insert(n.key,n);return t}function $n(e){let t=Gn;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Qn(){return Wn()}function Hn(){return Wn()}function Wn(){return new qn((e=>e.toString()),((e,t)=>e.isEqual(t)))}const Jn=new tt(z.comparator),Yn=new it(z.comparator);function Xn(...e){let t=Yn;for(const n of e)t=t.add(n);return t}const Zn=new it(M);function er(){return Zn}function tr(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:we(t)?"-0":t}}function nr(e){return{integerValue:""+e}}function rr(e,t){return be(t)?nr(t):tr(e,t)}class ir{constructor(){this._=void 0}}function sr(e,t,n){return e instanceof cr?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&pt(t)&&(t=gt(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof ur?lr(e,t):e instanceof hr?dr(e,t):function(e,t){const n=ar(e,t),r=pr(n)+pr(e.Pe);return Nt(n)&&Nt(e.Pe)?nr(r):tr(e.serializer,r)}(e,t)}function or(e,t,n){return e instanceof ur?lr(e,t):e instanceof hr?dr(e,t):n}function ar(e,t){return e instanceof fr?function(e){return Nt(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class cr extends ir{}class ur extends ir{constructor(e){super(),this.elements=e}}function lr(e,t){const n=gr(t);for(const t of e.elements)n.some((e=>It(e,t)))||n.push(t);return{arrayValue:{values:n}}}class hr extends ir{constructor(e){super(),this.elements=e}}function dr(e,t){let n=gr(t);for(const t of e.elements)n=n.filter((e=>!It(e,t)));return{arrayValue:{values:n}}}class fr extends ir{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function pr(e){return dt(e.integerValue||e.doubleValue)}function gr(e){return kt(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class mr{constructor(e,t){this.field=e,this.transform=t}}class yr{constructor(e,t){this.version=e,this.transformResults=t}}class vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new vr}static exists(e){return new vr(void 0,e)}static updateTime(e){return new vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function wr(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class br{}function _r(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new kr(e.key,vr.none()):new xr(e.key,e.data,vr.none());{const n=e.data,r=qt.empty();let i=new it(j.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Cr(e.key,r,new at(i.toArray()),vr.none())}}function Ir(e,t,n){e instanceof xr?function(e,t,n){const r=e.value.clone(),i=Ar(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cr?function(e,t,n){if(!wr(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Ar(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Dr(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Er(e,t,n,r){return e instanceof xr?function(e,t,n,r){if(!wr(e.precondition,t))return n;const i=e.value.clone(),s=Nr(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cr?function(e,t,n,r){if(!wr(e.precondition,t))return n;const i=Nr(e.fieldTransforms,r,t),s=t.data;return s.setAll(Dr(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return wr(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Sr(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ar(r.transform,e||null);null!=i&&(null===n&&(n=qt.empty()),n.set(r.field,i))}return n||null}function Tr(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&P(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof ur&&t instanceof ur||e instanceof hr&&t instanceof hr?P(e.elements,t.elements,It):e instanceof fr&&t instanceof fr?It(e.Pe,t.Pe):e instanceof cr&&t instanceof cr}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class xr extends br{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cr extends br{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dr(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Ar(e,t,n){const r=new Map;w(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,or(o,a,n[i]))}return r}function Nr(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,sr(e,s,t))}return r}class kr extends br{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Or extends br{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Lr{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&Ir(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Er(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Er(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Hn();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=_r(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(V.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Xn())}isEqual(e){return this.batchId===e.batchId&&P(this.mutations,e.mutations,((e,t)=>Tr(e,t)))&&P(this.baseMutations,e.baseMutations,((e,t)=>Tr(e,t)))}}class Mr{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){w(e.mutations.length===n.length);let r=Jn;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Mr(e,t,n,r)}}class Pr{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Rr{constructor(e,t,n){this.alias=e,this.aggregateType=t,this.fieldPath=n}}class Fr{constructor(e,t){this.count=e,this.unchangedNames=t}}var Vr,Br;function Ur(e){switch(e){default:return v();case _.CANCELLED:case _.UNKNOWN:case _.DEADLINE_EXCEEDED:case _.RESOURCE_EXHAUSTED:case _.INTERNAL:case _.UNAVAILABLE:case _.UNAUTHENTICATED:return!1;case _.INVALID_ARGUMENT:case _.NOT_FOUND:case _.ALREADY_EXISTS:case _.PERMISSION_DENIED:case _.FAILED_PRECONDITION:case _.ABORTED:case _.OUT_OF_RANGE:case _.UNIMPLEMENTED:case _.DATA_LOSS:return!0}}function qr(e){if(void 0===e)return g("GRPC error has no .code"),_.UNKNOWN;switch(e){case Vr.OK:return _.OK;case Vr.CANCELLED:return _.CANCELLED;case Vr.UNKNOWN:return _.UNKNOWN;case Vr.DEADLINE_EXCEEDED:return _.DEADLINE_EXCEEDED;case Vr.RESOURCE_EXHAUSTED:return _.RESOURCE_EXHAUSTED;case Vr.INTERNAL:return _.INTERNAL;case Vr.UNAVAILABLE:return _.UNAVAILABLE;case Vr.UNAUTHENTICATED:return _.UNAUTHENTICATED;case Vr.INVALID_ARGUMENT:return _.INVALID_ARGUMENT;case Vr.NOT_FOUND:return _.NOT_FOUND;case Vr.ALREADY_EXISTS:return _.ALREADY_EXISTS;case Vr.PERMISSION_DENIED:return _.PERMISSION_DENIED;case Vr.FAILED_PRECONDITION:return _.FAILED_PRECONDITION;case Vr.ABORTED:return _.ABORTED;case Vr.OUT_OF_RANGE:return _.OUT_OF_RANGE;case Vr.UNIMPLEMENTED:return _.UNIMPLEMENTED;case Vr.DATA_LOSS:return _.DATA_LOSS;default:return v()}}(Br=Vr||(Vr={}))[Br.OK=0]="OK",Br[Br.CANCELLED=1]="CANCELLED",Br[Br.UNKNOWN=2]="UNKNOWN",Br[Br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Br[Br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Br[Br.NOT_FOUND=5]="NOT_FOUND",Br[Br.ALREADY_EXISTS=6]="ALREADY_EXISTS",Br[Br.PERMISSION_DENIED=7]="PERMISSION_DENIED",Br[Br.UNAUTHENTICATED=16]="UNAUTHENTICATED",Br[Br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Br[Br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Br[Br.ABORTED=10]="ABORTED",Br[Br.OUT_OF_RANGE=11]="OUT_OF_RANGE",Br[Br.UNIMPLEMENTED=12]="UNIMPLEMENTED",Br[Br.INTERNAL=13]="INTERNAL",Br[Br.UNAVAILABLE=14]="UNAVAILABLE",Br[Br.DATA_LOSS=15]="DATA_LOSS";let jr=null;function zr(){return new TextEncoder}const Gr=new a.Integer([4294967295,4294967295],0);function Kr(e){const t=zr().encode(e),n=new a.Md5;return n.update(t),new Uint8Array(n.digest())}function $r(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new a.Integer([n,r],0),new a.Integer([i,s],0)]}class Qr{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Hr(`Invalid padding: ${t}`);if(n<0)throw new Hr(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new Hr(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new Hr(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=a.Integer.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(a.Integer.fromNumber(n)));return 1===r.compare(Gr)&&(r=new a.Integer([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Kr(e),[n,r]=$r(t);for(let e=0;e<this.hashCount;e++){const t=this.Ee(n,r,e);if(!this.de(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Qr(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Kr(e),[n,r]=$r(t);for(let e=0;e<this.hashCount;e++){const t=this.Ee(n,r,e);this.Ae(t)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Hr extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Wr{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Jr.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Wr(V.min(),r,new tt(M),zn(),Xn())}}class Jr{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Jr(n,t,Xn(),Xn(),Xn())}}class Yr{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Xr{constructor(e,t){this.targetId=e,this.me=t}}class Zr{constructor(e,t,n=ut.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class ei{constructor(){this.fe=0,this.ge=ri(),this.pe=ut.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=Xn(),t=Xn(),n=Xn();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:v()}})),new Jr(this.pe,this.ye,e,t,n)}ve(){this.we=!1,this.ge=ri()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,w(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ti{constructor(e){this.Le=e,this.Be=new Map,this.ke=zn(),this.qe=ni(),this.Qe=new tt(M)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.ve(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:v()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(wn(i))if(0===n){const e=new z(i.path);this.Ue(t,e,zt.newNoDocument(e,V.min()))}else w(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==jr||jr.et(function(e,t,n,r,i){var s,o,a,c,u,l;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(l=null===(u=null==d?void 0:d.bits)||void 0===u?void 0:u.padding)&&void 0!==l?l:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ft(n).toUint8Array()}catch(e){if(e instanceof ct)return m("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Qr(s,r,i)}catch(e){return m(e instanceof Hr?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Ie?null:o}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&wn(i.target)){const t=new z(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,zt.newNoDocument(t,e))}n.be&&(t.set(r,n.Ce()),n.ve())}}));let n=Xn();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Wr(e,t,this.Qe,this.ke,n);return this.ke=zn(),this.qe=ni(),this.Qe=new tt(M),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new ei,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new it(M),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||p("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ei),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ni(){return new tt(z.comparator)}function ri(){return new tt(z.comparator)}const ii={asc:"ASCENDING",desc:"DESCENDING"},si={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},oi={and:"AND",or:"OR"};class ai{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function ci(e,t){return e.useProto3Json||ve(t)?t:{value:t}}function ui(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function li(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function hi(e,t){return ui(e,t.toTimestamp())}function di(e){return w(!!e),V.fromTimestamp(function(e){const t=ht(e);return new F(t.seconds,t.nanos)}(e))}function fi(e,t){return pi(e,t).canonicalString()}function pi(e,t){const n=function(e){return new U(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function gi(e){const t=U.fromString(e);return w(Vi(t)),t}function mi(e,t){return fi(e.databaseId,t.path)}function yi(e,t){const n=gi(t);if(n.get(1)!==e.databaseId.projectId)throw new I(_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new I(_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new z(_i(n))}function vi(e,t){return fi(e.databaseId,t)}function wi(e){const t=gi(e);return 4===t.length?U.emptyPath():_i(t)}function bi(e){return new U(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function _i(e){return w(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Ii(e,t,n){return{name:mi(e,t),fields:n.value.mapValue.fields}}function Ei(e,t,n){const r=yi(e,t.name),i=di(t.updateTime),s=t.createTime?di(t.createTime):V.min(),o=new qt({mapValue:{fields:t.fields}}),a=zt.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Si(e,t){let n;if(t instanceof xr)n={update:Ii(e,t.key,t.value)};else if(t instanceof kr)n={delete:mi(e,t.key)};else if(t instanceof Cr)n={update:Ii(e,t.key,t.data),updateMask:Fi(t.fieldMask)};else{if(!(t instanceof Or))return v();n={verify:mi(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof cr)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof ur)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof hr)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof fr)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw v()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:hi(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:v()}(e,t.precondition)),n}function Ti(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?vr.updateTime(di(e.updateTime)):void 0!==e.exists?vr.exists(e.exists):vr.none()}(t.currentDocument):vr.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)w("REQUEST_TIME"===t.setToServerValue),n=new cr;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new ur(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new hr(e)}else"increment"in t?n=new fr(e,t.increment):v();const r=j.fromServerFormat(t.fieldPath);return new mr(r,n)}(e,t))):[];if(t.update){t.update.name;const i=yi(e,t.update.name),s=new qt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new at(t.map((e=>j.fromServerFormat(e))))}(t.updateMask);return new Cr(i,s,e,n,r)}return new xr(i,s,n,r)}if(t.delete){const r=yi(e,t.delete);return new kr(r,n)}if(t.verify){const r=yi(e,t.verify);return new Or(r,n)}return v()}function xi(e,t){return{documents:[vi(e,t.path)]}}function Ci(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=vi(e,i);const s=function(e){if(0!==e.length)return Ri(Yt.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Mi(e.field),direction:ki(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=ci(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Di(e,t,n,r){const{_t:i,parent:s}=Ci(e,t),o={},a=[];let c=0;return n.forEach((e=>{const t=r?e.alias:"aggregate_"+c++;o[t]=e.alias,"count"===e.aggregateType?a.push({alias:t,count:{}}):"avg"===e.aggregateType?a.push({alias:t,avg:{field:Mi(e.fieldPath)}}):"sum"===e.aggregateType&&a.push({alias:t,sum:{field:Mi(e.fieldPath)}})})),{request:{structuredAggregationQuery:{aggregations:a,structuredQuery:i.structuredQuery},parent:i.parent},ut:o,parent:s}}function Ai(e){let t=wi(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){w(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ni(e);return t instanceof Yt&&en(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Qt(Pi(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,ve(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new Gt(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new Gt(n,t)}(n.endAt)),Sn(t,i,o,s,a,"F",c,u)}function Ni(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Pi(e.unaryFilter.field);return Jt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Pi(e.unaryFilter.field);return Jt.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Pi(e.unaryFilter.field);return Jt.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Pi(e.unaryFilter.field);return Jt.create(i,"!=",{nullValue:"NULL_VALUE"});default:return v()}}(e):void 0!==e.fieldFilter?function(e){return Jt.create(Pi(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return v()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Yt.create(e.compositeFilter.filters.map((e=>Ni(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return v()}}(e.compositeFilter.op))}(e):v()}function ki(e){return ii[e]}function Oi(e){return si[e]}function Li(e){return oi[e]}function Mi(e){return{fieldPath:e.canonicalString()}}function Pi(e){return j.fromServerFormat(e.fieldPath)}function Ri(e){return e instanceof Jt?function(e){if("=="===e.op){if(Lt(e.value))return{unaryFilter:{field:Mi(e.field),op:"IS_NAN"}};if(Ot(e.value))return{unaryFilter:{field:Mi(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Lt(e.value))return{unaryFilter:{field:Mi(e.field),op:"IS_NOT_NAN"}};if(Ot(e.value))return{unaryFilter:{field:Mi(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mi(e.field),op:Oi(e.op),value:e.value}}}(e):e instanceof Yt?function(e){const t=e.getFilters().map((e=>Ri(e)));return 1===t.length?t[0]:{compositeFilter:{op:Li(e.op),filters:t}}}(e):v()}function Fi(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Vi(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bi{constructor(e,t,n,r,i=V.min(),s=V.min(),o=ut.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Bi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Ui{constructor(e){this.ct=e}}function qi(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:ji(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:mi(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ui(e,t.version.toTimestamp()),createTime:ui(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:zi(t.version)};else{if(!t.isUnknownDocument())return v();r.unknownDocument={path:n.path.toArray(),version:zi(t.version)}}return r}function ji(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function zi(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Gi(e){const t=new F(e.seconds,e.nanoseconds);return V.fromTimestamp(t)}function Ki(e,t){const n=(t.baseMutations||[]).map((t=>Ti(e.ct,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>Ti(e.ct,t))),i=F.fromMillis(t.localWriteTimeMs);return new Lr(t.batchId,i,n,r)}function $i(e){const t=Gi(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Gi(e.lastLimboFreeSnapshotVersion):V.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return w(1===e.documents.length),An(Tn(wi(e.documents[0])))}(e.query):function(e){return An(Ai(e))}(e.query),new Bi(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,ut.fromBase64String(e.resumeToken))}function Qi(e,t){const n=zi(t.snapshotVersion),r=zi(t.lastLimboFreeSnapshotVersion);let i;i=wn(t.target)?xi(e.ct,t.target):Ci(e.ct,t.target)._t;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:yn(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Hi(e){const t=Ai({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Ln(t,t.limit,"L"):t}function Wi(e,t){return new Pr(t.largestBatchId,Ti(e.ct,t.overlayMutation))}function Ji(e,t){const n=t.path.lastSegment();return[e,_e(t.path.popLast()),n]}function Yi(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:zi(r.readTime),documentKey:_e(r.documentKey.path),largestBatchId:r.largestBatchId}}class Xi{getBundleMetadata(e,t){return Zi(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:Gi(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return Zi(e).put(function(e){return{bundleId:e.id,createTime:zi(di(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return es(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:Hi(e.bundledQuery),readTime:Gi(e.readTime)}}(e)}))}saveNamedQuery(e,t){return es(e).put(function(e){return{name:e.name,readTime:zi(di(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Zi(e){return Je(e,"bundles")}function es(e){return Je(e,"namedQueries")}class ts{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new ts(e,n)}getOverlay(e,t){return ns(e).get(Ji(this.userId,t)).next((e=>e?Wi(this.serializer,e):null))}getOverlays(e,t){const n=Qn();return ie.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new Pr(t,i);r.push(this.ht(e,s))})),ie.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(_e(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(ns(e).j("collectionPathOverlayIndex",r))})),ie.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Qn(),i=_e(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return ns(e).U("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=Wi(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=Qn();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return ns(e).J({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=Wi(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return ns(e).put(function(e,t,n){const[r,i,s]=Ji(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:Si(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function ns(e){return Je(e,"documentOverlays")}class rs{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(dt(e.integerValue));else if("doubleValue"in e){const n=dt(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),we(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Et(t,20),"string"==typeof n&&(n=ht(n)),t.At(`${n.seconds||""}`),t.dt(n.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ft(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Rt(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):v()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const e of Object.keys(n))this.Rt(e,t),this.It(n[e],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const e of n)this.It(e,t)}gt(e,t){this.Et(t,37),z.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function is(e){if(0===e)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function ss(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=is(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}rs.bt=new rs;class os{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=ss(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}qt(e){const t=this.Bt(e),n=ss(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=!!(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class as{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class cs{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class us{constructor(){this.Gt=new os,this.zt=new as(this.Gt),this.jt=new cs(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class ls{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ls(this.indexId,this.documentKey,this.arrayValue,n)}}function hs(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=ds(e.arrayValue,t.arrayValue),0!==n?n:(n=ds(e.directionalValue,t.directionalValue),0!==n?n:z.comparator(e.documentKey,t.documentKey)))}function ds(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class fs{constructor(e){this.Yt=new it(((e,t)=>j.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(w(e.collectionGroup===this.collectionId),this.en)return!1;const t=K(e);if(void 0!==t&&!this.nn(t))return!1;const n=$(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new it(j.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new H(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new H(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new H(n.field,"asc"===n.dir?0:1)));return new G(G.UNKNOWN_ID,this.collectionId,t,J.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function ps(e){var t,n;if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt){if(e instanceof dn){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>Jt.create(e.field,"==",t))))||[];return Yt.create(r,"or")}return e}const r=e.filters.map((e=>ps(e)));return Yt.create(r,e.op)}function gs(e){if(0===e.getFilters().length)return[];const t=ws(ps(e));return w(vs(t)),ms(t)||ys(t)?[t]:t.getFilters()}function ms(e){return e instanceof Jt}function ys(e){return e instanceof Yt&&en(e)}function vs(e){return ms(e)||ys(e)||function(e){if(e instanceof Yt&&Zt(e)){for(const t of e.getFilters())if(!ms(t)&&!ys(t))return!1;return!0}return!1}(e)}function ws(e){if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt)return e;if(1===e.filters.length)return ws(e.filters[0]);const t=e.filters.map((e=>ws(e)));let n=Yt.create(t,e.op);return n=Is(n),vs(n)?n:(w(n instanceof Yt),w(Xt(n)),w(n.filters.length>1),n.filters.reduce(((e,t)=>bs(e,t))))}function bs(e,t){let n;return w(e instanceof Jt||e instanceof Yt),w(t instanceof Jt||t instanceof Yt),n=e instanceof Jt?t instanceof Jt?function(e,t){return Yt.create([e,t],"and")}(e,t):_s(e,t):t instanceof Jt?_s(t,e):function(e,t){if(w(e.filters.length>0&&t.filters.length>0),Xt(e)&&Xt(t))return sn(e,t.getFilters());const n=Zt(e)?e:t,r=Zt(e)?t:e,i=n.filters.map((e=>bs(e,r)));return Yt.create(i,"or")}(e,t),Is(n)}function _s(e,t){if(Xt(t))return sn(t,e.getFilters());{const n=t.filters.map((t=>bs(e,t)));return Yt.create(n,"or")}}function Is(e){if(w(e instanceof Jt||e instanceof Yt),e instanceof Jt)return e;const t=e.getFilters();if(1===t.length)return Is(t[0]);if(tn(e))return e;const n=t.map((e=>Is(e))),r=[];return n.forEach((t=>{t instanceof Jt?r.push(t):t instanceof Yt&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Yt.create(r,e.op)}class Es{constructor(){this._n=new Ss}addToCollectionParentIndex(e,t){return this._n.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}deleteAllFieldIndexes(e){return ie.resolve()}createTargetIndexes(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Z.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Z.min())}updateCollectionGroup(e,t,n){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class Ss{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new it(U.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new it(U.comparator)).toArray()}}const Ts=new Uint8Array(0);class xs{constructor(e,t){this.databaseId=t,this.an=new Ss,this.un=new qn((e=>yn(e)),((e,t)=>vn(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:_e(r)};return Cs(e).put(i)}return ie.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[R(t),""],!1,!0);return Cs(e).U(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Se(r.parent))}return n}))}addFieldIndex(e,t){const n=As(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Ns(e);return i.next((e=>{n.put(Yi(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=As(e),r=Ns(e),i=Ds(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=As(e),n=Ds(e),r=Ns(e);return t.j().next((()=>n.j())).next((()=>r.j()))}createTargetIndexes(e,t){return ie.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new fs(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=Ds(e);let r=!0;const i=new Map;return ie.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=Xn();const r=[];return ie.forEach(i,((i,s)=>{p("IndexedDbIndexManager",`Using index ${function(e){return`id=${e.indexId}|cg=${e.collectionGroup}|f=${e.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`}(i)} to execute ${yn(t)}`);const o=function(e,t){const n=K(t);if(void 0===n)return null;for(const t of bn(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of $(t))for(const t of bn(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of $(t)){const t=0===i.kind?_n(e,i.fieldPath,e.startAt):In(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new Gt(n,r)}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of $(t)){const t=0===i.kind?In(e,i.fieldPath,e.endAt):_n(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new Gt(n,r)}(s,i),l=this.hn(i,s,c),h=this.hn(i,s,u),d=this.Pn(i,s,a),f=this.In(i.indexId,o,l,c.inclusive,h,u.inclusive,d);return ie.forEach(f,(i=>n.G(i,t.limit).next((t=>{t.forEach((t=>{const n=z.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return ie.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:gs(Yt.create(e.filters,"and")).map((t=>mn(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),u=[];for(let l=0;l<a;++l){const a=t?this.Tn(t[l/c]):Ts,h=this.En(e,a,n[l%c],r),d=this.dn(e,a,i[l%c],s),f=o.map((t=>this.En(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}En(e,t,n,r){const i=new ls(e,z.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new ls(e,z.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new fs(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return ie.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new it(j.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new us;for(const r of $(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);rs.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new us;return rs.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new us;return rs.bt.Pt(At(this.databaseId,t),n.Ht(function(e){const t=$(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new us);let i=0;for(const s of $(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&kt(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);rs.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new us;r.seed(n.Wt()),rs.bt.Pt(e,r.Ht(t.kind)),i.push(r)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof Jt&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=As(e),r=Ns(e);return(t?n.U("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.U()).next((e=>{const t=[];return ie.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new J(t.sequenceNumber,new Z(Gi(t.readTime),new z(Se(t.documentKey)),t.largestBatchId)):J.empty(),r=e.fields.map((([e,t])=>new H(j.fromServerFormat(e),t)));return new G(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:M(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=As(e),i=Ns(e);return this.gn(e).next((e=>r.U("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>ie.forEach(t,(t=>i.put(Yi(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return ie.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?ie.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),ie.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?ie.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return Ds(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return Ds(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=Ds(e);let i=new it(hs);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new ls(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new it(hs);const r=this.An(t,e);if(null==r)return n;const i=K(t);if(null!=i){const s=e.data.field(i.fieldPath);if(kt(s))for(const i of s.arrayValue.values||[])n=n.add(new ls(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new ls(t.indexId,e.key,Ts,r));return n}wn(e,t,n,r,i){p("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=ot(s),c=ot(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=ot(o)):t?(i(a),a=ot(s)):(a=ot(s),c=ot(o))}}(r,i,hs,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),ie.waitFor(s)}gn(e){let t=1;return Ns(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>hs(e,t))).filter(((e,t,n)=>!t||0!==hs(e,n[t-1])));const r=[];r.push(e);for(const i of n){const n=hs(i,e),s=hs(i,t);if(0===n)r[0]=e.Jt();else if(n>0&&s<0)r.push(i),r.push(i.Jt());else if(s>0)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.Dn(r[e],r[e+1]))return[];const t=[r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,Ts,[]],n=[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,Ts,[]];i.push(IDBKeyRange.bound(t,n))}return i}Dn(e,t){return hs(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ks)}getMinOffset(e,t){return ie.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||v())))).next(ks)}}function Cs(e){return Je(e,"collectionParents")}function Ds(e){return Je(e,"indexEntries")}function As(e){return Je(e,"indexConfiguration")}function Ns(e){return Je(e,"indexState")}function ks(e){w(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;ee(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Z(t.readTime,t.documentKey,n)}const Os={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ls{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ls(e,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ms(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.J({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{w(1===a)})));const u=[];for(const e of n.mutations){const r=Ce(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return ie.waitFor(s).next((()=>u))}function Ps(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw v();t=e.noDocument}return JSON.stringify(t).length}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class Rs{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){w(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Rs(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).J({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=Bs(e),s=Vs(e);return s.add({}).next((o=>{w("number"==typeof o);const a=new Lr(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>Si(e.ct,t))),i=n.mutations.map((t=>Si(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let l=new it(((e,t)=>M(e.canonicalString(),t.canonicalString())));for(const e of r){const t=Ce(this.userId,e.key.path,o);l=l.add(e.key.path.popLast()),u.push(s.put(c)),u.push(i.put(t,De))}return l.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),ie.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return Vs(e).get(t).next((e=>e?(w(e.userId===this.userId),Ki(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?ie.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Vs(e).J({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(w(t.batchId>=n),i=Ki(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Vs(e).J({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Vs(e).U("userMutationsIndex",t).next((e=>e.map((e=>Ki(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=xe(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return Bs(e).J({range:r},((n,r,s)=>{const[o,a,c]=n,u=Se(a);if(o===this.userId&&t.path.isEqual(u))return Vs(e).get(c).next((e=>{if(!e)throw v();w(e.userId===this.userId),i.push(Ki(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new it(M);const r=[];return t.forEach((t=>{const i=xe(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=Bs(e).J({range:s},((e,r,i)=>{const[s,o,a]=e,c=Se(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),ie.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=xe(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new it(M);return Bs(e).J({range:s},((e,t,i)=>{const[s,a,c]=e,u=Se(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(c)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(Vs(e).get(t).next((e=>{if(null===e)throw v();w(e.userId===this.userId),n.push(Ki(this.serializer,e))})))})),ie.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Ms(e._e,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),ie.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return ie.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return Bs(e).J({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=Se(e[1]);r.push(t)}else n.done()})).next((()=>{w(0===r.length)}))}))}containsKey(e,t){return Fs(e,this.userId,t)}xn(e){return Us(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Fs(e,t,n){const r=xe(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Bs(e).J({range:s,H:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function Vs(e){return Je(e,"mutations")}function Bs(e){return Je(e,"documentMutations")}function Us(e){return Je(e,"mutationQueues")}class qs{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new qs(0)}static Ln(){return new qs(-1)}}class js{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new qs(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>V.fromTimestamp(new F(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>zs(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(w(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return zs(e).J(((s,o)=>{const a=$i(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>ie.waitFor(i))).next((()=>r))}forEachTarget(e,t){return zs(e).J(((e,n)=>{const r=$i(n);t(r)}))}Bn(e){return Gs(e).get("targetGlobalKey").next((e=>(w(null!==e),e)))}kn(e,t){return Gs(e).put("targetGlobalKey",t)}qn(e,t){return zs(e).put(Qi(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=yn(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return zs(e).J({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=$i(n);vn(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=Ks(e);return t.forEach((t=>{const s=_e(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),ie.waitFor(r)}removeMatchingKeys(e,t,n){const r=Ks(e);return ie.forEach(t,(t=>{const i=_e(t.path);return ie.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=Ks(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=Ks(e);let i=Xn();return r.J({range:n,H:!0},((e,t,n)=>{const r=Se(e[1]),s=new z(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=_e(t.path),r=IDBKeyRange.bound([n],[R(n)],!1,!0);let i=0;return Ks(e).J({index:"documentTargetsIndex",H:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}ot(e,t){return zs(e).get(t).next((e=>e?$i(e):null))}}function zs(e){return Je(e,"targets")}function Gs(e){return Je(e,"targetGlobal")}function Ks(e){return Je(e,"targetDocuments")}function $s([e,t],[n,r]){const i=M(e,n);return 0===i?M(t,r):i}class Qs{constructor(e){this.Kn=e,this.buffer=new it($s),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();$s(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Hs{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){p("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){le(e)?p("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await re(e)}await this.zn(3e5)}))}}class Ws{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return ie.resolve(ye.oe);const n=new Qs(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector","Garbage collection skipped; disabled"),ie.resolve(Os)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(p("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Os):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,o,a,c,u;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(p("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(u=Date.now(),f()<=s.LogLevel.DEBUG&&p("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${r} in `+(a-o)+"ms\n"+`\tRemoved ${i} targets in `+(c-a)+"ms\n"+`\tRemoved ${e} documents in `+(u-c)+"ms\n"+`Total Duration: ${u-l}ms`),ie.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Js(e,t){return new Ws(e,t)}class Ys{constructor(e,t){this.db=e,this.garbageCollector=Js(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Xs(e,n)}removeReference(e,t,n){return Xs(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Xs(e,t)}er(e,t){return function(e,t){let n=!1;return Us(e).Y((r=>Fs(e,r,t).next((e=>(e&&(n=!0),ie.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,V.min()),Ks(e).delete(function(e){return[0,_e(e.path)]}(s)))))}));r.push(t)}})).next((()=>ie.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Xs(e,t)}Xn(e,t){const n=Ks(e);let r,i=ye.oe;return n.J({index:"documentTargetsIndex"},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==ye.oe&&t(new z(Se(r)),i),i=o,r=s):i=ye.oe})).next((()=>{i!==ye.oe&&t(new z(Se(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Xs(e,t){return Ks(e).put(function(e,t){return{targetId:0,path:_e(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Zs{constructor(){this.changes=new qn((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ie.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class eo{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return io(e).put(n)}removeEntry(e,t,n){return io(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],ji(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=zt.newInvalidDocument(t);return io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(so(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:zt.newInvalidDocument(t)};return io(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(so(t))},((e,r)=>{n={document:this.nr(t,r),size:Ps(r)}})).next((()=>n))}getEntries(e,t){let n=zn();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=zn(),r=new tt(z.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,Ps(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return ie.resolve();let r=new it(ao);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(so(r.first()),so(r.last())),s=r.getIterator();let o=s.getNext();return io(e).J({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=z.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&ao(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.$(so(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),ji(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return io(e).U(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=zn();for(const i of e){const e=this.nr(z.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Fn(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=zn();const s=oo(t,n),o=oo(t,Z.max());return io(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(z.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new no(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return ro(e).get("remoteDocumentGlobalKey").next((e=>(w(!!e),e)))}tr(e,t){return ro(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Ei(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=z.fromSegments(t.noDocument.path),r=Gi(t.noDocument.readTime);n=zt.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return v();{const e=z.fromSegments(t.unknownDocument.path),r=Gi(t.unknownDocument.version);n=zt.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new F(e[0],e[1]);return V.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(V.min()))return e}return zt.newInvalidDocument(e)}}function to(e){return new eo(e)}class no extends Zs{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new qn((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new it(((e,t)=>M(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=qi(this.ar.serializer,s);r=r.add(i.path.popLast());const c=Ps(a);n+=c-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=qi(this.ar.serializer,s.convertToNoDocument(V.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),ie.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((({documents:e,_r:t})=>(t.forEach(((t,n)=>{this.ur.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function ro(e){return Je(e,"remoteDocumentGlobal")}function io(e){return Je(e,"remoteDocumentsV14")}function so(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function oo(e,t){const n=t.documentKey.path.toArray();return[e,ji(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function ao(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=M(n[e],r[e]),i)return i;return i=M(n.length,r.length),i||(i=M(n[n.length-2],r[r.length-2]),i||M(n[n.length-1],r[r.length-1]))}class co{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class uo{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Er(n.mutation,e,at.empty(),F.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Xn()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Xn()){const r=Qn();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Kn();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Qn();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Xn())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=zn();const s=Wn(),o=Wn();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Cr)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Er(o.mutation,t,o.mutation.getFieldMask(),F.now())):s.set(t.key,at.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new co(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Wn();let r=new tt(((e,t)=>e-t)),i=Xn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||at.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Xn()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,u=Hn();c.forEach((e=>{if(!i.has(e)){const r=_r(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return ie.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return z.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cn(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ie.resolve(Qn());let o=-1,a=i;return s.next((t=>ie.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ie.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Xn()))).next((e=>({batchId:o,changes:$n(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new z(t)).next((e=>{let t=Kn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Kn();return this.indexManager.getCollectionParents(e,i).next((o=>ie.forEach(o,(o=>{const a=function(e,t){return new En(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,zt.newInvalidDocument(r)))}));let n=Kn();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Er(s.mutation,r,at.empty(),F.now()),Fn(t,r)&&(n=n.insert(e,r))})),n}))}}class lo{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return ie.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:di(e.createTime)}}(t)),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Hi(e.bundledQuery),readTime:di(e.readTime)}}(t)),ie.resolve()}}class ho{constructor(){this.overlays=new tt(z.comparator),this.hr=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Qn();return ie.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),ie.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),ie.resolve()}getOverlaysForCollection(e,t,n){const r=Qn(),i=t.length+1,s=new z(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ie.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new tt(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Qn(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Qn(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return ie.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Pr(t,n));let i=this.hr.get(t);void 0===i&&(i=Xn(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class fo{constructor(){this.Pr=new it(po.Ir),this.Tr=new it(po.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new po(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new po(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new z(new U([])),n=new po(t,e),r=new po(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new z(new U([])),n=new po(t,e),r=new po(t,e+1);let i=Xn();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new po(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class po{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return z.comparator(e.key,t.key)||M(e.pr,t.pr)}static Er(e,t){return M(e.pr,t.pr)||z.comparator(e.key,t.key)}}class go{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new it(po.Ir)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Lr(i,t,n,r);this.mutationQueue.push(s);for(const t of r)this.wr=this.wr.add(new po(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return ie.resolve(s)}lookupMutationBatch(e,t){return ie.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return ie.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new po(t,0),r=new po(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),ie.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new it(M);return t.forEach((e=>{const t=new po(e,0),r=new po(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),ie.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;z.isDocumentKey(i)||(i=i.child(""));const s=new po(new z(i),0);let o=new it(M);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),ie.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){w(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return ie.forEach(t.mutations,(r=>{const i=new po(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new po(t,0),r=this.wr.firstAfterOrEqual(n);return ie.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ie.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class mo{constructor(e){this.vr=e,this.docs=new tt(z.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ie.resolve(n?n.document.mutableCopy():zt.newInvalidDocument(t))}getEntries(e,t){let n=zn();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():zt.newInvalidDocument(e))})),ie.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=zn();const s=t.path,o=new z(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ee(X(o),n)<=0||(r.has(o.key)||Fn(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ie.resolve(i)}getAllFromCollectionGroup(e,t,n,r){v()}Fr(e,t){return ie.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new yo(this)}getSize(e){return ie.resolve(this.size)}}class yo extends Zs{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),ie.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class vo{constructor(e){this.persistence=e,this.Mr=new qn((e=>yn(e)),vn),this.lastRemoteSnapshotVersion=V.min(),this.highestTargetId=0,this.Or=0,this.Nr=new fo,this.targetCount=0,this.Lr=qs.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),ie.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new qs(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.qn(t),ie.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),ie.waitFor(i).next((()=>r))}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return ie.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),ie.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),ie.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return ie.resolve(n)}containsKey(e,t){return ie.resolve(this.Nr.containsKey(t))}}class wo{constructor(e,t){this.Br={},this.overlays={},this.kr=new ye(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new vo(this),this.indexManager=new Es,this.remoteDocumentCache=function(e){return new mo(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Ui(t),this.$r=new lo(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ho,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new go(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){p("MemoryPersistence","Starting transaction:",e);const r=new bo(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return ie.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class bo extends ne{constructor(e){super(),this.currentSequenceNumber=e}}class _o{constructor(e){this.persistence=e,this.zr=new fo,this.jr=null}static Hr(e){return new _o(e)}get Jr(){if(this.jr)return this.jr;throw v()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),ie.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),ie.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Jr,(n=>{const r=z.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,V.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return ie.or([()=>ie.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Io{constructor(e,t){this.persistence=e,this.Zr=new qn((e=>_e(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Js(this,t)}static Hr(e,t){return new Io(e,t)}Ur(){}Wr(e){return ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Hn(e){const t=this.Zn(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}Jn(e,t){return ie.forEach(this.Zr,((n,r)=>this.er(e,n,r).next((e=>e?ie.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Fr(e,(r=>this.er(e,r,t).next((e=>{e||(n++,i.removeEntry(r,V.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.Zr.set(t,e.currentSequenceNumber),ie.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),ie.resolve()}removeReference(e,t,n){return this.Zr.set(n,e.currentSequenceNumber),ie.resolve()}updateLimboDocument(e,t){return this.Zr.set(t,e.currentSequenceNumber),ie.resolve()}Kr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dt(e.data.value)),t}er(e,t,n){return ie.or([()=>this.persistence.Gr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.Zr.get(t);return ie.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Eo{constructor(e){this.serializer=e}O(e,t,n,r){const i=new se("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Te,{unique:!0}),e.createObjectStore("documentMutations")}(e),So(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=ie.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),So(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:V.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").U().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Te,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return ie.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Ue});t.createIndex("collectionPathOverlayIndex",qe,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",je,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Ae});t.createIndex("documentKeyIndex",Ne),t.createIndex("collectionGroupIndex",ke)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Re}).createIndex("sequenceNumberIndex",Fe,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Ve}).createIndex("documentKeyIndex",Be,{unique:!1})}(e)))),n<16&&r>=16&&(s=s.next((()=>{t.objectStore("indexState").clear()})).next((()=>{t.objectStore("indexEntries").clear()}))),s}ei(e){let t=0;return e.store("remoteDocuments").J(((e,n)=>{t+=Ps(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.U().next((t=>ie.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.U("userMutationsIndex",r).next((n=>ie.forEach(n,(n=>{w(n.userId===t.userId);const r=Ki(this.serializer,n);return Ms(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.J(((n,i)=>{const s=new U(n),o=function(e){return[0,_e(e)]}(s);r.push(t.get(o).next((n=>n?ie.resolve():(n=>t.put({targetId:0,path:_e(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>ie.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:Pe});const n=t.store("collectionParents"),r=new Ss,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:_e(r)})}};return t.store("remoteDocuments").J({H:!0},((e,t)=>{const n=new U(e);return i(n.popLast())})).next((()=>t.store("documentMutations").J({H:!0},(([e,t,n],r)=>{const s=Se(t);return i(s.popLast())}))))}ri(e){const t=e.store("targets");return t.J(((e,n)=>{const r=$i(n),i=Qi(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.J(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new z(U.fromString(e.document.name).popFirst(5)):e.noDocument?z.fromSegments(e.noDocument.path):e.unknownDocument?z.fromSegments(e.unknownDocument.path):v()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>ie.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=to(this.serializer),i=new wo(_o.Hr,this.serializer.ct);return n.U().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:Xn();Ki(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),ie.forEach(n,((e,n)=>{const s=new l(n),o=ts.lt(this.serializer,s),a=i.getIndexManager(s),c=Rs.lt(s,this.serializer,a,i.referenceDelegate);return new uo(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new We(t,ye.oe),e).next()}))}))}}function So(e){e.createObjectStore("targetDocuments",{keyPath:Le}).createIndex("documentTargetsIndex",Me,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Oe,{unique:!0}),e.createObjectStore("targetGlobal")}const To="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class xo{constructor(e,t,n,r,i,s,o,a,c,u,l=16){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=c,this.ai=u,this.ui=l,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!xo.D())throw new I(_.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ys(this,r),this.Ti=t+"main",this.serializer=new Ui(a),this.Ei=new oe(this.Ti,this.ui,new Eo(this.serializer)),this.Qr=new js(this.referenceDelegate,this.serializer),this.remoteDocumentCache=to(this.serializer),this.$r=new Xi,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===u&&g("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new I(_.FAILED_PRECONDITION,To);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new ye(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Do(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(le(e))return p("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return p("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return Co(e).get("owner").next((e=>ie.resolve(this.Si(e))))}bi(e){return Do(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Je(e,"clientMetadata");return t.U().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return ie.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?ie.resolve(!0):Co(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new I(_.FAILED_PRECONDITION,To);return!1}}return!(!this.networkEnabled||!this.inForeground)||Do(e).U().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&p("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new We(e,ye.oe);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Do(e).U().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return Rs.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new xs(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return ts.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){p("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 16===e?He:15===e?Qe:14===e?$e:13===e?Ke:12===e?Ge:11===e?ze:void v()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new We(r,this.kr?this.kr.next():ye.oe),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw g(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new I(_.FAILED_PRECONDITION,te);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return Co(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new I(_.FAILED_PRECONDITION,To)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Co(e).put("owner",t)}static D(){return oe.D()}yi(e){const t=Co(e);return t.get("owner").next((e=>this.Si(e)?(p("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):ie.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t||e>n&&(g(`Detected an update time that is in the future: ${e} > ${n}`),1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;o.isSafari()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return p("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return g("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){g("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(e){}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Co(e){return Je(e,"owner")}function Do(e){return Je(e,"clientMetadata")}function Ao(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class No{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Xn(),r=Xn();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new No(e,t.fromCache,n,r)}}class ko{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Oo{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=o.isSafari()?8:ae(o.getUA())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new ko;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(f()<=s.LogLevel.DEBUG&&p("QueryEngine","SDK will not create cache indexes for query:",Rn(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),ie.resolve()):(f()<=s.LogLevel.DEBUG&&p("QueryEngine","Query:",Rn(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(f()<=s.LogLevel.DEBUG&&p("QueryEngine","The SDK decides to create cache indexes for query:",Rn(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,An(t))):ie.resolve())}ji(e,t){if(xn(t))return ie.resolve(null);let n=An(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Ln(t,null,"F"),n=An(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Xn(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Ln(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return xn(t)||r.isEqual(V.min())?ie.resolve(null):this.zi.getDocuments(e,n).next((i=>{const o=this.Zi(t,i);return this.Xi(t,o,n,r)?ie.resolve(null):(f()<=s.LogLevel.DEBUG&&p("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Rn(t)),this.es(e,o,t,Y(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new it(Bn(e));return t.forEach(((t,r)=>{Fn(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return f()<=s.LogLevel.DEBUG&&p("QueryEngine","Using full collection scan to execute query:",Rn(t)),this.zi.getDocumentsMatchingQuery(e,t,Z.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Lo{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new tt(M),this.rs=new qn((e=>yn(e)),vn),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uo(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Mo(e,t,n,r){return new Lo(e,t,n,r)}async function Po(e,t){const n=b(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Xn();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ro(e){const t=b(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Fo(e,t,n){let r=Xn(),i=Xn();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=zn();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(V.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):p("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Vo(e,t){const n=b(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Bo(e,t){const n=b(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,ie.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new Bi(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function Uo(e,t,n){const r=b(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!le(e))throw e;p("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function qo(e,t,n){const r=b(e);let i=V.min(),s=Xn();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=b(e),i=r.rs.get(n);return void 0!==i?ie.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,An(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:V.min(),n?s:Xn()))).next((e=>(Go(r,Vn(t),e),{documents:e,hs:s})))))}function jo(e,t){const n=b(e),r=b(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.ot(e,t).next((e=>e?e.target:null))))}function zo(e,t){const n=b(e),r=n.ss.get(t)||V.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,Y(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(Go(n,t,e),e)))}function Go(e,t,n){let r=e.ss.get(t)||V.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function Ko(e,t,n=Xn()){const r=await Bo(e,An(Hi(t.bundledQuery))),i=b(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=di(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(ut.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function $o(e,t){return`firestore_clients_${e}_${t}`}function Qo(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Ho(e,t){return`firestore_targets_${e}_${t}`}class Wo{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new I(r.error.code,r.error.message))),s?new Wo(e,t,r.state,i):(g("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Jo{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new I(n.error.code,n.error.message))),i?new Jo(e,n.state,r):(g("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Yo{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=er();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=be(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new Yo(e,i):(g("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Xo{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Xo(t.clientId,t.onlineState):(g("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Zo{constructor(){this.activeTargetIds=er()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ea{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new tt(M),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=$o(this.persistenceKey,this.Vs),this.Ss=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new Zo),this.bs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.vs=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Fs=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const t of e){if(t===this.Vs)continue;const e=this.getItem($o(this.persistenceKey,t));if(e){const n=Yo.Es(t,e);n&&(this.ps=this.ps.insert(n.clientId,n))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const e of this.ys)this.gs(e);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Ho(this.persistenceKey,e));if(n){const r=Jo.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ho(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return p("SharedClientState","READ",e,t),t}setItem(e,t){p("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){p("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(p("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void g("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=ye.oe;if(null!=e)try{const n=JSON.parse(e);w("number"==typeof n),t=n}catch(e){g("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==ye.oe&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new Wo(this.currentUser,e,t,n),i=Qo(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=Qo(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=Ho(this.persistenceKey,e),i=new Jo(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return Yo.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Wo.Es(new l(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return Jo.Es(r,t)}xs(e){return Xo.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);p("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=er();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class ta{constructor(){this.no=new Zo,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Zo,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class na{io(e){}shutdown(){}}class ra{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){p("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){p("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ia=null;function sa(){return null===ia?ia=268435456+Math.round(2147483648*Math.random()):ia++,"0x"+ia.toString(16)}const oa={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aa{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}const ca="WebChannelConnection";class ua extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.wo=t+"://"+e.host,this.So=`projects/${n}/databases/${r}`,this.bo="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Do(){return!1}Co(e,t,n,r,i){const s=sa(),o=this.vo(e,t.toUriEncodedString());p("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(a,r,i),this.Mo(e,o,a,n).then((t=>(p("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw m("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}xo(e,t,n,r,i,s){return this.Co(e,t,n,r,i)}Fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+h,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}vo(e,t){const n=oa[e];return`${this.wo}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,t,n,r){const i=sa();return new Promise(((s,o)=>{const a=new c.XhrIo;a.setWithCredentials(!0),a.listenOnce(c.EventType.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case c.ErrorCode.NO_ERROR:const t=a.getResponseJson();p(ca,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case c.ErrorCode.TIMEOUT:p(ca,`RPC '${e}' ${i} timed out`),o(new I(_.DEADLINE_EXCEEDED,"Request time out"));break;case c.ErrorCode.HTTP_ERROR:const n=a.getStatus();if(p(ca,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_).indexOf(t)>=0?t:_.UNKNOWN}(t.status);o(new I(e,t.message))}else o(new I(_.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new I(_.UNAVAILABLE,"Connection failed."));break;default:v()}}finally{p(ca,`RPC '${e}' ${i} completed.`)}}));const u=JSON.stringify(r);p(ca,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",u,n,15)}))}Oo(e,t,n){const r=sa(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=c.createWebChannelTransport(),o=c.getStatEventTarget(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(a.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(a.xmlHttpFactory=new c.FetchXmlHttpFactory({})),this.Fo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");p(ca,`Creating RPC '${e}' stream ${r}: ${l}`,a);const h=s.createWebChannel(l,a);let d=!1,f=!1;const g=new aa({lo:t=>{f?p(ca,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(p(ca,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),p(ca,`RPC '${e}' stream ${r} sending:`,t),h.send(t))},ho:()=>h.close()}),y=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return y(h,c.WebChannel.EventType.OPEN,(()=>{f||(p(ca,`RPC '${e}' stream ${r} transport opened.`),g.mo())})),y(h,c.WebChannel.EventType.CLOSE,(()=>{f||(f=!0,p(ca,`RPC '${e}' stream ${r} transport closed`),g.po())})),y(h,c.WebChannel.EventType.ERROR,(t=>{f||(f=!0,m(ca,`RPC '${e}' stream ${r} transport errored:`,t),g.po(new I(_.UNAVAILABLE,"The operation could not be completed")))})),y(h,c.WebChannel.EventType.MESSAGE,(t=>{var n;if(!f){const i=t.data[0];w(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){p(ca,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=Vr[e];if(void 0!==t)return qr(t)}(t),i=o.message;void 0===n&&(n=_.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),f=!0,g.po(new I(n,i)),h.close()}else p(ca,`RPC '${e}' stream ${r} received:`,i),g.yo(i)}})),y(o,c.Event.STAT_EVENT,(t=>{t.stat===c.Stat.PROXY?p(ca,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===c.Stat.NOPROXY&&p(ca,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{g.fo()}),0),g}}function la(){return"undefined"!=typeof window?window:null}function ha(){return"undefined"!=typeof document?document:null}function da(e){return new ai(e,!0)}class fa{constructor(e,t,n=1e3,r=1.5,i=6e4){this.oi=e,this.timerId=t,this.No=n,this.Lo=r,this.Bo=i,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const t=Math.floor(this.ko+this.Uo()),n=Math.max(0,Date.now()-this.Qo),r=Math.max(0,t-n);r>0&&p("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Qo=Date.now(),e()))),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){null!==this.qo&&(this.qo.skipDelay(),this.qo=null)}cancel(){null!==this.qo&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}class pa{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.Go=n,this.zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new fa(e,t)}Zo(){return 1===this.state||5===this.state||this.Xo()}Xo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&null===this.Ho&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,(()=>this.r_())))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,t){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,4!==e?this.Yo.reset():t&&t.code===_.RESOURCE_EXHAUSTED?(g(t.toString()),g("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):t&&t.code===_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(t)}__(){}auth(){this.state=1;const e=this.a_(this.jo),t=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.jo===t&&this.u_(e,n)}),(t=>{e((()=>{const e=new I(_.UNKNOWN,"Fetching auth token failed: "+t.message);return this.c_(e)}))}))}u_(e,t){const n=this.a_(this.jo);this.stream=this.l_(e,t),this.stream.Po((()=>{n((()=>this.listener.Po()))})),this.stream.To((()=>{n((()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,(()=>(this.Xo()&&(this.state=3),Promise.resolve()))),this.listener.To())))})),this.stream.Ao((e=>{n((()=>this.c_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}e_(){this.state=5,this.Yo.$o((async()=>{this.state=0,this.start()}))}c_(e){return p("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return t=>{this.oi.enqueueAndForget((()=>this.jo===e?t():(p("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class ga extends pa{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}l_(e,t){return this.connection.Oo("Listen",e,t)}onMessage(e){this.Yo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:v()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(w(void 0===t||"string"==typeof t),ut.fromBase64String(t||"")):(w(void 0===t||t instanceof Buffer||t instanceof Uint8Array),ut.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?_.UNKNOWN:qr(e.code);return new I(t,e.message||"")}(o);n=new Zr(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=yi(e,r.document.name),s=di(r.document.updateTime),o=r.document.createTime?di(r.document.createTime):V.min(),a=new qt({mapValue:{fields:r.document.fields}}),c=zt.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];n=new Yr(u,l,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=yi(e,r.document),s=r.readTime?di(r.readTime):V.min(),o=zt.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Yr([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=yi(e,r.document),s=r.removedTargetIds||[];n=new Yr([],s,i,null)}else{if(!("filter"in t))return v();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Fr(r,i),o=e.targetId;n=new Xr(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return V.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?V.min():t.readTime?di(t.readTime):V.min()}(e);return this.listener.h_(t,n)}P_(e){const t={};t.database=bi(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=wn(r)?{documents:xi(e,r)}:{query:Ci(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=li(e,t.resumeToken);const r=ci(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(V.min())>0){n.readTime=ui(e,t.snapshotVersion.toTimestamp());const r=ci(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return v()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.i_(t)}I_(e){const t={};t.database=bi(this.serializer),t.removeTarget=e,this.i_(t)}}class ma extends pa{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,t){return this.connection.Oo("Write",e,t)}onMessage(e){if(w(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const t=function(e,t){return e&&e.length>0?(w(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?di(e.updateTime):di(t);return n.isEqual(V.min())&&(n=di(t)),new yr(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=di(e.commitTime);return this.listener.A_(n,t)}return w(!e.writeResults||0===e.writeResults.length),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=bi(this.serializer),this.i_(e)}d_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Si(this.serializer,e)))};this.i_(t)}}class ya extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.m_=!1}f_(){if(this.m_)throw new I(_.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,t,n,r){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Co(e,pi(t,n),r,i,s))).catch((e=>{throw"FirebaseError"===e.name?(e.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(_.UNKNOWN,e.toString())}))}xo(e,t,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.xo(e,pi(t,n),r,s,o,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===_.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new I(_.UNKNOWN,e.toString())}))}terminate(){this.m_=!0,this.connection.terminate()}}class va{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){0===this.g_&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve()))))}D_(e){"Online"===this.state?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,"Online"===e&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(g(t),this.y_=!1):p("OnlineStateTracker",t)}C_(){null!==this.p_&&(this.p_.cancel(),this.p_=null)}}class wa{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=i,this.O_.io((e=>{n.enqueueAndForget((async()=>{Da(this)&&(p("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=b(e);t.M_.add(4),await _a(t),t.N_.set("Unknown"),t.M_.delete(4),await ba(t)}(this))}))})),this.N_=new va(n,r)}}async function ba(e){if(Da(e))for(const t of e.x_)await t(!0)}async function _a(e){for(const t of e.x_)await t(!1)}function Ia(e,t){const n=b(e);n.F_.has(t.targetId)||(n.F_.set(t.targetId,t),Ca(n)?xa(n):Qa(n).Xo()&&Sa(n,t))}function Ea(e,t){const n=b(e),r=Qa(n);n.F_.delete(t),r.Xo()&&Ta(n,t),0===n.F_.size&&(r.Xo()?r.n_():Da(n)&&n.N_.set("Unknown"))}function Sa(e,t){if(e.L_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(V.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Qa(e).P_(t)}function Ta(e,t){e.L_.xe(t),Qa(e).I_(t)}function xa(e){e.L_=new ti({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.F_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),Qa(e).start(),e.N_.w_()}function Ca(e){return Da(e)&&!Qa(e).Zo()&&e.F_.size>0}function Da(e){return 0===b(e).M_.size}function Aa(e){e.L_=void 0}async function Na(e){e.N_.set("Online")}async function ka(e){e.F_.forEach(((t,n)=>{Sa(e,t)}))}async function Oa(e,t){Aa(e),Ca(e)?(e.N_.D_(t),xa(e)):e.N_.set("Unknown")}async function La(e,t,n){if(e.N_.set("Online"),t instanceof Zr&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.F_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.F_.delete(r),e.L_.removeTarget(r))}(e,t)}catch(n){p("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ma(e,n)}else if(t instanceof Yr?e.L_.Ke(t):t instanceof Xr?e.L_.He(t):e.L_.We(t),!n.isEqual(V.min()))try{const t=await Ro(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.L_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.F_.get(r);i&&e.F_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.F_.get(t);if(!r)return;e.F_.set(t,r.withResumeToken(ut.EMPTY_BYTE_STRING,r.snapshotVersion)),Ta(e,t);const i=new Bi(r.target,t,n,r.sequenceNumber);Sa(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){p("RemoteStore","Failed to raise snapshot:",t),await Ma(e,t)}}async function Ma(e,t,n){if(!le(t))throw t;e.M_.add(1),await _a(e),e.N_.set("Offline"),n||(n=()=>Ro(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{p("RemoteStore","Retrying IndexedDB access"),await n(),e.M_.delete(1),await ba(e)}))}function Pa(e,t){return t().catch((n=>Ma(e,n,t)))}async function Ra(e){const t=b(e),n=Ha(t);let r=t.v_.length>0?t.v_[t.v_.length-1].batchId:-1;for(;Fa(t);)try{const e=await Vo(t.localStore,r);if(null===e){0===t.v_.length&&n.n_();break}r=e.batchId,Va(t,e)}catch(e){await Ma(t,e)}Ba(t)&&Ua(t)}function Fa(e){return Da(e)&&e.v_.length<10}function Va(e,t){e.v_.push(t);const n=Ha(e);n.Xo()&&n.E_&&n.d_(t.mutations)}function Ba(e){return Da(e)&&!Ha(e).Zo()&&e.v_.length>0}function Ua(e){Ha(e).start()}async function qa(e){Ha(e).V_()}async function ja(e){const t=Ha(e);for(const n of e.v_)t.d_(n.mutations)}async function za(e,t,n){const r=e.v_.shift(),i=Mr.from(r,t,n);await Pa(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Ra(e)}async function Ga(e,t){t&&Ha(e).E_&&await async function(e,t){if(function(e){return Ur(e)&&e!==_.ABORTED}(t.code)){const n=e.v_.shift();Ha(e).t_(),await Pa(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Ra(e)}}(e,t),Ba(e)&&Ua(e)}async function Ka(e,t){const n=b(e);n.asyncQueue.verifyOperationInProgress(),p("RemoteStore","RemoteStore received new credentials");const r=Da(n);n.M_.add(3),await _a(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.M_.delete(3),await ba(n)}async function $a(e,t){const n=b(e);t?(n.M_.delete(2),await ba(n)):t||(n.M_.add(2),await _a(n),n.N_.set("Unknown"))}function Qa(e){return e.B_||(e.B_=function(e,t,n){const r=b(e);return r.f_(),new ga(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Na.bind(null,e),To:ka.bind(null,e),Ao:Oa.bind(null,e),h_:La.bind(null,e)}),e.x_.push((async t=>{t?(e.B_.t_(),Ca(e)?xa(e):e.N_.set("Unknown")):(await e.B_.stop(),Aa(e))}))),e.B_}function Ha(e){return e.k_||(e.k_=function(e,t,n){const r=b(e);return r.f_(),new ma(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:()=>Promise.resolve(),To:qa.bind(null,e),Ao:Ga.bind(null,e),R_:ja.bind(null,e),A_:za.bind(null,e)}),e.x_.push((async t=>{t?(e.k_.t_(),await Ra(e)):(await e.k_.stop(),e.v_.length>0&&(p("RemoteStore",`Stopping write stream with ${e.v_.length} pending writes`),e.v_=[]))}))),e.k_}class Wa{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new E,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new Wa(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new I(_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ja(e,t){if(g("AsyncQueue",`${t}: ${e}`),le(e))return new I(_.UNAVAILABLE,`${t}: ${e}`);throw e}class Ya{constructor(e){this.comparator=e?(t,n)=>e(t,n)||z.comparator(t.key,n.key):(e,t)=>z.comparator(e.key,t.key),this.keyedMap=Kn(),this.sortedSet=new tt(this.comparator)}static emptySet(e){return new Ya(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ya))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Ya;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Xa{constructor(){this.q_=new tt(z.comparator)}track(e){const t=e.doc.key,n=this.q_.get(t);n?0!==e.type&&3===n.type?this.q_=this.q_.insert(t,e):3===e.type&&1!==n.type?this.q_=this.q_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.q_=this.q_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.q_=this.q_.remove(t):1===e.type&&2===n.type?this.q_=this.q_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.q_=this.q_.insert(t,{type:2,doc:e.doc}):v():this.q_=this.q_.insert(t,e)}Q_(){const e=[];return this.q_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Za{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Za(e,t,Ya.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mn(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class ec{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some((e=>e.G_()))}}class tc{constructor(){this.queries=new qn((e=>Pn(e)),Mn),this.onlineState="Unknown",this.z_=new Set}}async function nc(e,t){const n=b(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.W_()&&t.G_()&&(r=2):(s=new ec,r=t.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Ja(e,`Initialization of query '${Rn(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.U_.push(t),t.j_(n.onlineState),s.K_&&t.H_(s.K_)&&oc(n)}async function rc(e,t){const n=b(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.U_.indexOf(t);e>=0&&(s.U_.splice(e,1),0===s.U_.length?i=t.G_()?0:1:!s.W_()&&t.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function ic(e,t){const n=b(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.U_)t.H_(e)&&(r=!0);i.K_=e}}r&&oc(n)}function sc(e,t,n){const r=b(e),i=r.queries.get(t);if(i)for(const e of i.U_)e.onError(n);r.queries.delete(t)}function oc(e){e.z_.forEach((e=>{e.next()}))}var ac,cc;(cc=ac||(ac={})).J_="default",cc.Cache="cache";class uc{constructor(e,t,n){this.query=e,this.Y_=t,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=n||{}}H_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Za(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),t=!0):this.ta(e,this.onlineState)&&(this.na(e),t=!0),this.X_=e,t}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let t=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),t=!0),t}ta(e,t){if(!e.fromCache)return!0;if(!this.G_())return!0;const n="Offline"!==t;return(!this.options.ra||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ea(e){if(e.docChanges.length>0)return!0;const t=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}na(e){e=Za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==ac.Cache}}class lc{constructor(e,t){this.ia=e,this.byteLength=t}sa(){return"metadata"in this.ia}}class hc{constructor(e){this.serializer=e}Ps(e){return yi(this.serializer,e)}Is(e){return e.metadata.exists?Ei(this.serializer,e.document,!1):zt.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return di(e)}}class dc{constructor(e,t,n){this.oa=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=fc(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++t;const n=U.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}aa(e){const t=new Map,n=new hc(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||Xn()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=b(e);let s=Xn(),o=zn();for(const e of n){const n=t.Ps(e.metadata.name);e.document&&(s=s.add(n));const r=t.Is(e);r.setReadTime(t.Ts(e.metadata.readTime)),o=o.insert(n,r)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await Bo(i,function(e){return An(Tn(U.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>Fo(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new hc(this.serializer),this.documents,this.oa.id),t=this.aa(this.documents);for(const e of this.queries)await Ko(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function fc(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class pc{constructor(e){this.key=e}}class gc{constructor(e){this.key=e}}class mc{constructor(e,t){this.query=e,this.la=t,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=Xn(),this.mutatedKeys=Xn(),this.Ia=Bn(e),this.Ta=new Ya(this.Ia)}get Ea(){return this.la}da(e,t){const n=t?t.Aa:new Xa,r=t?t.Ta:this.Ta;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),l=Fn(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ra(u,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.Ia(l,a)>0||c&&this.Ia(l,c)<0)&&(o=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(a||c)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ta:s,Aa:n,Xi:o,mutatedKeys:i}}Ra(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const s=e.Aa.Q_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return v()}};return n(e)-n(t)}(e.type,t.type)||this.Ia(e.doc,t.doc))),this.Va(n),r=null!=r&&r;const o=t&&!r?this.ma():[],a=0===this.Pa.size&&this.current&&!r?1:0,c=a!==this.ha;return this.ha=a,0!==s.length||c?{snapshot:new Za(this.query,e.Ta,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),fa:o}:{fa:o}}j_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new Xa,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach((e=>this.la=this.la.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.la=this.la.delete(e))),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=Xn(),this.Ta.forEach((e=>{this.ga(e.key)&&(this.Pa=this.Pa.add(e.key))}));const t=[];return e.forEach((e=>{this.Pa.has(e)||t.push(new gc(e))})),this.Pa.forEach((n=>{e.has(n)||t.push(new pc(n))})),t}pa(e){this.la=e.hs,this.Pa=Xn();const t=this.da(e.documents);return this.applyChanges(t,!0)}ya(){return Za.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,0===this.ha,this.hasCachedResults)}}class yc{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class vc{constructor(e){this.key=e,this.wa=!1}}class wc{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Sa={},this.ba=new qn((e=>Pn(e)),Mn),this.Da=new Map,this.Ca=new Set,this.va=new tt(z.comparator),this.Fa=new Map,this.Ma=new fo,this.xa={},this.Oa=new Map,this.Na=qs.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return!0===this.La}}async function bc(e,t,n=!0){const r=Wc(e);let i;const s=r.ba.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await Ic(r,t,n,!0),i}async function _c(e,t){const n=Wc(e);await Ic(n,t,!0,!1)}async function Ic(e,t,n,r){const i=await Bo(e.localStore,An(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Ec(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Ia(e.remoteStore,i),a}async function Ec(e,t,n,r,i){e.Ba=(t,n,r)=>async function(e,t,n,r){let i=t.view.da(n);i.Xi&&(i=await qo(e.localStore,t.query,!1).then((({documents:e})=>t.view.da(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Pc(e,t.targetId,a.fa),a.snapshot}(e,t,n,r);const s=await qo(e.localStore,t,!0),o=new mc(t,s.hs),a=o.da(s.documents),c=Jr.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,c);Pc(e,n,u.fa);const l=new yc(t,n,o);return e.ba.set(t,l),e.Da.has(n)?e.Da.get(n).push(t):e.Da.set(n,[t]),u.snapshot}async function Sc(e,t,n){const r=b(e),i=r.ba.get(t),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter((e=>!Mn(e,t)))),void r.ba.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Uo(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ea(r.remoteStore,i.targetId),Lc(r,i.targetId)})).catch(re)):(Lc(r,i.targetId),await Uo(r.localStore,i.targetId,!0))}async function Tc(e,t){const n=b(e),r=n.ba.get(t),i=n.Da.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ea(n.remoteStore,r.targetId))}async function xc(e,t){const n=b(e);try{const e=await function(e,t){const n=b(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let u=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(ut.EMPTY_BYTE_STRING,V.min()).withLastLimboFreeSnapshotVersion(V.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,s)&&o.push(n.Qr.updateTargetData(e,u))}));let a=zn(),c=Xn();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Fo(e,s,t.documentUpdates).next((e=>{a=e.cs,c=e.ls}))),!r.isEqual(V.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return ie.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Fa.get(t);r&&(w(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.wa=!0:e.modifiedDocuments.size>0?w(r.wa):e.removedDocuments.size>0&&(w(r.wa),r.wa=!1))})),await Vc(n,e,t)}catch(e){await re(e)}}function Cc(e,t,n){const r=b(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.ba.forEach(((n,r)=>{const i=r.view.j_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=b(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.U_)e.j_(t)&&(r=!0)})),r&&oc(n)}(r.eventManager,t),e.length&&r.Sa.h_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Dc(e,t,n){const r=b(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Fa.get(t),s=i&&i.key;if(s){let e=new tt(z.comparator);e=e.insert(s,zt.newNoDocument(s,V.min()));const n=Xn().add(s),i=new Wr(V.min(),new Map,new tt(M),e,n);await xc(r,i),r.va=r.va.remove(s),r.Fa.delete(t),Fc(r)}else await Uo(r.localStore,t,!1).then((()=>Lc(r,t,n))).catch(re)}async function Ac(e,t){const n=b(e),r=t.batch.batchId;try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ie.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);w(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Xn();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Oc(n,r,null),kc(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Vc(n,e)}catch(e){await re(e)}}async function Nc(e,t,n){const r=b(e);try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(w(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Oc(r,t,n),kc(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Vc(r,e)}catch(n){await re(n)}}function kc(e,t){(e.Oa.get(t)||[]).forEach((e=>{e.resolve()})),e.Oa.delete(t)}function Oc(e,t,n){const r=b(e);let i=r.xa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.xa[r.currentUser.toKey()]=i}}function Lc(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Da.get(t))e.ba.delete(r),n&&e.Sa.ka(r,n);e.Da.delete(t),e.isPrimaryClient&&e.Ma.Vr(t).forEach((t=>{e.Ma.containsKey(t)||Mc(e,t)}))}function Mc(e,t){e.Ca.delete(t.path.canonicalString());const n=e.va.get(t);null!==n&&(Ea(e.remoteStore,n),e.va=e.va.remove(t),e.Fa.delete(n),Fc(e))}function Pc(e,t,n){for(const r of n)r instanceof pc?(e.Ma.addReference(r.key,t),Rc(e,r)):r instanceof gc?(p("SyncEngine","Document no longer in limbo: "+r.key),e.Ma.removeReference(r.key,t),e.Ma.containsKey(r.key)||Mc(e,r.key)):v()}function Rc(e,t){const n=t.key,r=n.path.canonicalString();e.va.get(n)||e.Ca.has(r)||(p("SyncEngine","New document in limbo: "+n),e.Ca.add(r),Fc(e))}function Fc(e){for(;e.Ca.size>0&&e.va.size<e.maxConcurrentLimboResolutions;){const t=e.Ca.values().next().value;e.Ca.delete(t);const n=new z(U.fromString(t)),r=e.Na.next();e.Fa.set(r,new vc(n)),e.va=e.va.insert(n,r),Ia(e.remoteStore,new Bi(An(Tn(n.path)),r,"TargetPurposeLimboResolution",ye.oe))}}async function Vc(e,t,n){const r=b(e),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach(((e,a)=>{o.push(r.Ba(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=No.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.Sa.h_(i),await async function(e,t){const n=b(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>ie.forEach(t,(t=>ie.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>ie.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!le(e))throw e;p("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.ns.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(t,i)}}}(r.localStore,s))}async function Bc(e,t){const n=b(e);if(!n.currentUser.isEqual(t)){p("SyncEngine","User change. New user:",t.toKey());const e=await Po(n.localStore,t);n.currentUser=t,function(e,t){e.Oa.forEach((e=>{e.forEach((e=>{e.reject(new I(_.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.Oa.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Vc(n,e.us)}}function Uc(e,t){const n=b(e),r=n.Fa.get(t);if(r&&r.wa)return Xn().add(r.key);{let e=Xn();const r=n.Da.get(t);if(!r)return e;for(const t of r){const r=n.ba.get(t);e=e.unionWith(r.view.Ea)}return e}}async function qc(e,t){const n=b(e),r=await qo(n.localStore,t.query,!0),i=t.view.pa(r);return n.isPrimaryClient&&Pc(n,t.targetId,i.fa),i}async function jc(e,t){const n=b(e);return zo(n.localStore,t).then((e=>Vc(n,e)))}async function zc(e,t,n,r){const i=b(e),s=await function(e,t){const n=b(e),r=b(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):ie.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await Ra(i.remoteStore):"acknowledged"===n||"rejected"===n?(Oc(i,t,r||null),kc(i,t),function(e,t){b(b(e).mutationQueue).Mn(t)}(i.localStore,t)):v(),await Vc(i,s)):p("SyncEngine","Cannot apply mutation batch with id: "+t)}async function Gc(e,t,n){const r=b(e),i=[],s=[];for(const e of t){let t;const n=r.Da.get(e);if(n&&0!==n.length){t=await Bo(r.localStore,An(n[0]));for(const e of n){const t=r.ba.get(e),n=await qc(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await jo(r.localStore,e);t=await Bo(r.localStore,n),await Ec(r,Kc(n),e,!1,t.resumeToken)}i.push(t)}return r.Sa.h_(s),i}function Kc(e){return Sn(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function $c(e){return function(e){return b(b(e).persistence).Bi()}(b(e).localStore)}async function Qc(e,t,n,r){const i=b(e);if(i.La)return void p("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await zo(i.localStore,Vn(s[0])),r=Wr.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,ut.EMPTY_BYTE_STRING);await Vc(i,e,r);break}case"rejected":await Uo(i.localStore,t,!0),Lc(i,t,r);break;default:v()}}async function Hc(e,t,n){const r=Wc(e);if(r.La){for(const e of t){if(r.Da.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){p("SyncEngine","Adding an already active target "+e);continue}const t=await jo(r.localStore,e),n=await Bo(r.localStore,t);await Ec(r,Kc(t),n.targetId,!1,n.resumeToken),Ia(r.remoteStore,n)}for(const e of n)r.Da.has(e)&&await Uo(r.localStore,e,!1).then((()=>{Ea(r.remoteStore,e),Lc(r,e)})).catch(re)}}function Wc(e){const t=b(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xc.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Uc.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Dc.bind(null,t),t.Sa.h_=ic.bind(null,t.eventManager),t.Sa.ka=sc.bind(null,t.eventManager),t}function Jc(e){const t=b(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ac.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Nc.bind(null,t),t}class Yc{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=da(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Mo(this.persistence,new Oo,e.initialUser,this.serializer)}createPersistence(e){return new wo(_o.Hr,this.serializer)}createSharedClientState(e){return new ta}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Xc extends Yc{constructor(e){super(),this.cacheSizeBytes=e}createGarbageCollectionScheduler(e,t){w(this.persistence.referenceDelegate instanceof Io);const n=this.persistence.referenceDelegate.garbageCollector;return new Hs(n,e.asyncQueue,t)}createPersistence(e){const t=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new wo((e=>Io.Hr(e,t)),this.serializer)}}class Zc extends Yc{constructor(e,t,n){super(),this.Qa=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await Jc(this.Qa.syncEngine),await Ra(this.Qa.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return Mo(this.persistence,new Oo,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new Hs(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new me(t,this.persistence);return new ge(e.asyncQueue,n)}createPersistence(e){const t=Ao(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ls.withCacheSize(this.cacheSizeBytes):Ls.DEFAULT;return new xo(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,la(),ha(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new ta}}class eu extends Zc{constructor(e,t){super(e,t,!1),this.Qa=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.Qa.syncEngine;this.sharedClientState instanceof ea&&(this.sharedClientState.syncEngine={Zs:zc.bind(null,t),Xs:Qc.bind(null,t),eo:Hc.bind(null,t),Bi:$c.bind(null,t),Ys:jc.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=b(e);if(Wc(n),Jc(n),!0===t&&!0!==n.La){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await Gc(n,e.toArray());n.La=!0,await $a(n.remoteStore,!0);for(const e of t)Ia(n.remoteStore,e)}else if(!1===t&&!1!==n.La){const e=[];let t=Promise.resolve();n.Da.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(Lc(n,i),Uo(n.localStore,i,!0)))),Ea(n.remoteStore,i)})),await t,await Gc(n,e),function(e){const t=b(e);t.Fa.forEach(((e,n)=>{Ea(t.remoteStore,n)})),t.Ma.mr(),t.Fa=new Map,t.va=new tt(z.comparator)}(n),n.La=!1,await $a(n.remoteStore,!1)}}(this.Qa.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=la();if(!ea.D(t))throw new I(_.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Ao(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new ea(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class tu{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Cc(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bc.bind(null,this.syncEngine),await $a(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new tc}createDatastore(e){const t=da(e.databaseInfo.databaseId),n=function(e){return new ua(e)}(e.databaseInfo);return function(e,t,n,r){return new ya(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new wa(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Cc(this.syncEngine,e,0)),ra.D()?new ra:new na)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new wc(e,t,n,r,i,s);return o&&(a.La=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=b(e);p("RemoteStore","RemoteStore shutting down."),t.M_.add(5),await _a(t),t.O_.shutdown(),t.N_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function nu(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class ru{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):g("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class iu{constructor(e,t){this.Ua=e,this.serializer=t,this.metadata=new E,this.buffer=new Uint8Array,this.Wa=new TextDecoder("utf-8"),this.Ga().then((e=>{e&&e.sa()?this.metadata.resolve(e.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.ia)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(null===e)return null;const t=this.Wa.decode(e),n=Number(t);isNaN(n)&&this.ja(`length string (${t}) is not valid number`);const r=await this.Ha(n);return new lc(JSON.parse(r),e.length+n)}Ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async za(){for(;this.Ja()<0&&!await this.Ya(););if(0===this.buffer.length)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const t=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class su{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new I(_.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=b(e),r={documents:t.map((e=>mi(n.serializer,e)))},i=await n.xo("BatchGetDocuments",n.serializer.databaseId,U.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){w(!!t.found),t.found.name,t.found.updateTime;const n=yi(e,t.found.name),r=di(t.found.updateTime),i=t.found.createTime?di(t.found.createTime):V.min(),s=new qt({mapValue:{fields:t.found.fields}});return zt.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){w(!!t.missing),w(!!t.readTime);const n=yi(e,t.missing),r=di(t.readTime);return zt.newNoDocument(n,r)}(e,t):v()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());w(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new kr(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=z.fromPath(t);this.mutations.push(new Or(n,this.precondition(n)))})),await async function(e,t){const n=b(e),r={writes:t.map((e=>Si(n.serializer,e)))};await n.Co("Commit",n.serializer.databaseId,U.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw v();t=V.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new I(_.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(V.min())?vr.exists(!1):vr.updateTime(t):vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(V.min()))throw new I(_.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vr.updateTime(t)}return vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class ou{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Za=n.maxAttempts,this.Yo=new fa(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o((async()=>{const e=new su(this.datastore),t=this.tu(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.nu(e)}))))})).catch((e=>{this.nu(e)}))}))}tu(e){try{const t=this.updateFunction(e);return!ve(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget((()=>(this.eu(),Promise.resolve())))):this.deferred.reject(e)}ru(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Ur(t)}return!1}}class au{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=l.UNAUTHENTICATED,this.clientId=L.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{p("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(p("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new I(_.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new E;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ja(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function cu(e,t){e.asyncQueue.verifyOperationInProgress(),p("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Po(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function uu(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hu(e);p("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Ka(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Ka(t.remoteStore,n))),e._onlineComponents=t}function lu(e){return"FirebaseError"===e.name?e.code===_.FAILED_PRECONDITION||e.code===_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function hu(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){p("FirestoreClient","Using user provided OfflineComponentProvider");try{await cu(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!lu(n))throw n;m("Error using user provided cache. Falling back to memory cache: "+n),await cu(e,new Yc)}}else p("FirestoreClient","Using default OfflineComponentProvider"),await cu(e,new Yc);return e._offlineComponents}async function du(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(p("FirestoreClient","Using user provided OnlineComponentProvider"),await uu(e,e._uninitializedComponentsProvider._online)):(p("FirestoreClient","Using default OnlineComponentProvider"),await uu(e,new tu))),e._onlineComponents}function fu(e){return hu(e).then((e=>e.persistence))}function pu(e){return hu(e).then((e=>e.localStore))}function gu(e){return du(e).then((e=>e.remoteStore))}function mu(e){return du(e).then((e=>e.syncEngine))}function yu(e){return du(e).then((e=>e.datastore))}async function vu(e){const t=await du(e),n=t.eventManager;return n.onListen=bc.bind(null,t.syncEngine),n.onUnlisten=Sc.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=_c.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Tc.bind(null,t.syncEngine),n}function wu(e,t,n={}){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ru({next:s=>{t.enqueueAndForget((()=>rc(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new I(_.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new I(_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new uc(Tn(n.path),s,{includeMetadataChanges:!0,ra:!0});return nc(e,o)}(await vu(e),e.asyncQueue,t,n,r))),r.promise}function bu(e,t,n={}){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new ru({next:n=>{t.enqueueAndForget((()=>rc(e,o))),n.fromCache&&"server"===r.source?i.reject(new I(_.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new uc(n,s,{includeMetadataChanges:!0,ra:!0});return nc(e,o)}(await vu(e),e.asyncQueue,t,n,r))),r.promise}function _u(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Iu=new Map;function Eu(e,t,n){if(!n)throw new I(_.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Su(e,t,n,r){if(!0===t&&!0===r)throw new I(_.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function Tu(e){if(!z.isDocumentKey(e))throw new I(_.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function xu(e){if(z.isDocumentKey(e))throw new I(_.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Cu(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":v()}function Du(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new I(_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Cu(e);throw new I(_.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Au(e,t){if(t<=0)throw new I(_.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Nu{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new I(_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new I(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Su("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_u(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new I(_.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ku{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Nu({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new I(_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new I(_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Nu(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new T;switch(e.type){case"firstParty":return new A(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new I(_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Iu.get(e);t&&(p("ComponentProvider","Removing Datastore"),Iu.delete(e),t.terminate())}(this),Promise.resolve()}}function Ou(e,t,n,r={}){var i;const s=(e=Du(e,ku))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&m("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=l.MOCK_USER;else{t=o.createMockUserToken(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new I(_.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new l(s)}e._authCredentials=new x(new S(t,n))}}class Lu{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Lu(this.firestore,e,this._query)}}class Mu{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Pu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mu(this.firestore,e,this._key)}}class Pu extends Lu{constructor(e,t,n){super(e,t,Tn(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mu(this.firestore,null,new z(e))}withConverter(e){return new Pu(this.firestore,e,this._path)}}function Ru(e,t,...n){if(e=o.getModularInstance(e),1===arguments.length&&(t=L.newId()),Eu("doc","path",t),e instanceof ku){const r=U.fromString(t,...n);return Tu(r),new Mu(e,null,new z(r))}{if(!(e instanceof Mu||e instanceof Pu))throw new I(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(U.fromString(t,...n));return Tu(r),new Mu(e.firestore,e instanceof Pu?e.converter:null,new z(r))}}function Fu(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),e instanceof Lu&&t instanceof Lu&&e.firestore===t.firestore&&Mn(e._query,t._query)&&e.converter===t.converter}class Vu{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new fa(this,"async_queue_retry"),this.hu=()=>{const e=ha();e&&p("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Yo.Wo()};const e=ha();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const t=ha();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise((()=>{}));const t=new E;return this.Iu((()=>this.ou&&this.cu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.su.push(e),this.Tu())))}async Tu(){if(0!==this.su.length){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!le(e))throw e;p("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o((()=>this.Tu()))}}Iu(e){const t=this.iu.then((()=>(this.uu=!0,e().catch((e=>{this.au=e,this.uu=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw g("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.uu=!1,e))))));return this.iu=t,t}enqueueAfterDelay(e,t,n){this.Pu(),this.lu.indexOf(e)>-1&&(t=0);const r=Wa.createAndSchedule(this,e,t,n,(e=>this.Eu(e)));return this._u.push(r),r}Pu(){this.au&&v()}verifyOperationInProgress(){}async du(){let e;do{e=this.iu,await e}while(e!==this.iu)}Au(e){for(const t of this._u)if(t.timerId===e)return!0;return!1}Ru(e){return this.du().then((()=>{this._u.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this._u)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.du()}))}Vu(e){this.lu.push(e)}Eu(e){const t=this._u.indexOf(e);this._u.splice(t,1)}}function Bu(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class Uu{constructor(){this._progressObserver={},this._taskCompletionResolver=new E,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class qu extends ku{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Vu,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zu(this),this._firestoreClient.terminate()}}function ju(e){return e._firestoreClient||zu(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zu(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new yt(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,_u(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new au(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function Gu(e,t,n){const r=new E;return e.asyncQueue.enqueue((async()=>{try{await cu(e,n),await uu(e,t),r.resolve()}catch(e){const t=e;if(!lu(t))throw t;m("Error enabling indexeddb cache. Falling back to memory cache: "+t),r.reject(t)}})).then((()=>r.promise))}function Ku(e){if(e._initialized||e._terminated)throw new I(_.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class $u{constructor(e="count",t){this._internalFieldPath=t,this.type="AggregateField",this.aggregateType=e}}class Qu{constructor(e,t,n){this._userDataWriter=t,this._data=n,this.type="AggregateQuerySnapshot",this.query=e}data(){return this._userDataWriter.convertObjectMap(this._data)}}class Hu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hu(ut.fromBase64String(e))}catch(e){throw new I(_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Hu(ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Wu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new I(_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new j(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ju{constructor(e){this._methodName=e}}class Yu{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new I(_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new I(_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return M(this._lat,e._lat)||M(this._long,e._long)}}const Xu=/^__.*__$/;class Zu{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms):new xr(e,this.data,t,this.fieldTransforms)}}class el{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Cr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function tl(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw v()}}class nl{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.mu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new nl(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.wu(e),r}Su(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.gu({path:n,yu:!1});return r.mu(),r}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return Il(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(0===e.length)throw this.Du("Document fields must not be empty");if(tl(this.fu)&&Xu.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class rl{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||da(e)}Fu(e,t,n,r=!1){return new nl({fu:e,methodName:t,vu:n,path:j.emptyPath(),yu:!1,Cu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function il(e){const t=e._freezeSettings(),n=da(e._databaseId);return new rl(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sl(e,t,n,r,i,s={}){const o=e.Fu(s.merge||s.mergeFields?2:0,t,n,i);vl("Data must be an object, but it was:",o,r);const a=ml(r,o);let c,u;if(s.merge)c=new at(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=wl(t,r,n);if(!o.contains(i))throw new I(_.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);El(e,i)||e.push(i)}c=new at(e),u=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,u=o.fieldTransforms;return new Zu(new qt(a),c,u)}class ol extends Ju{_toFieldTransform(e){if(2!==e.fu)throw 1===e.fu?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ol}}function al(e,t,n){return new nl({fu:3,vu:t.settings.vu,methodName:e._methodName,yu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class cl extends Ju{_toFieldTransform(e){return new mr(e.path,new cr)}isEqual(e){return e instanceof cl}}class ul extends Ju{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=al(this,e,!0),n=this.Mu.map((e=>gl(e,t))),r=new ur(n);return new mr(e.path,r)}isEqual(e){return e instanceof ul&&o.deepEqual(this.Mu,e.Mu)}}class ll extends Ju{constructor(e,t){super(e),this.Mu=t}_toFieldTransform(e){const t=al(this,e,!0),n=this.Mu.map((e=>gl(e,t))),r=new hr(n);return new mr(e.path,r)}isEqual(e){return e instanceof ll&&o.deepEqual(this.Mu,e.Mu)}}class hl extends Ju{constructor(e,t){super(e),this.xu=t}_toFieldTransform(e){const t=new fr(e.serializer,rr(e.serializer,this.xu));return new mr(e.path,t)}isEqual(e){return e instanceof hl&&this.xu===e.xu}}function dl(e,t,n,r){const i=e.Fu(1,t,n);vl("Data must be an object, but it was:",i,r);const s=[],a=qt.empty();Xe(r,((e,r)=>{const c=_l(t,e,n);r=o.getModularInstance(r);const u=i.Su(c);if(r instanceof ol)s.push(c);else{const e=gl(r,u);null!=e&&(s.push(c),a.set(c,e))}}));const c=new at(s);return new el(a,c,i.fieldTransforms)}function fl(e,t,n,r,i,s){const a=e.Fu(1,t,n),c=[wl(t,r,n)],u=[i];if(s.length%2!=0)throw new I(_.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)c.push(wl(t,s[e])),u.push(s[e+1]);const l=[],h=qt.empty();for(let e=c.length-1;e>=0;--e)if(!El(l,c[e])){const t=c[e];let n=u[e];n=o.getModularInstance(n);const r=a.Su(t);if(n instanceof ol)l.push(t);else{const e=gl(n,r);null!=e&&(l.push(t),h.set(t,e))}}const d=new at(l);return new el(h,d,a.fieldTransforms)}function pl(e,t,n,r=!1){return gl(n,e.Fu(r?4:3,t))}function gl(e,t){if(yl(e=o.getModularInstance(e)))return vl("Unsupported field value:",t,e),ml(e,t);if(e instanceof Ju)return function(e,t){if(!tl(t.fu))throw t.Du(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Du(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.yu&&4!==t.fu)throw t.Du("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=gl(i,t.bu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=o.getModularInstance(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return rr(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=F.fromDate(e);return{timestampValue:ui(t.serializer,n)}}if(e instanceof F){const n=new F(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ui(t.serializer,n)}}if(e instanceof Yu)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Hu)return{bytesValue:li(t.serializer,e._byteString)};if(e instanceof Mu){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Du(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:fi(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Du(`Unsupported field value: ${Cu(e)}`)}(e,t)}function ml(e,t){const n={};return et(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Xe(e,((e,r)=>{const i=gl(r,t.pu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function yl(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof F||e instanceof Yu||e instanceof Hu||e instanceof Mu||e instanceof Ju)}function vl(e,t,n){if(!yl(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Cu(n);throw"an object"===r?t.Du(e+" a custom object"):t.Du(e+" "+r)}}function wl(e,t,n){if((t=o.getModularInstance(t))instanceof Wu)return t._internalPath;if("string"==typeof t)return _l(e,t);throw Il("Field path arguments must be of type string or ",e,!1,void 0,n)}const bl=new RegExp("[~\\*/\\[\\]]");function _l(e,t,n){if(t.search(bl)>=0)throw Il(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Wu(...t.split("."))._internalPath}catch(r){throw Il(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function Il(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new I(_.INVALID_ARGUMENT,a+e+c)}function El(e,t){return e.some((e=>e.isEqual(t)))}class Sl{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Mu(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Tl(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Tl extends Sl{data(){return super.data()}}function xl(e,t){return"string"==typeof t?_l(e,t):t instanceof Wu?t._internalPath:t._delegate._internalPath}function Cl(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new I(_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dl{}class Al extends Dl{}class Nl extends Al{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Nl(e,t,n)}_apply(e){const t=this._parse(e);return Bl(e._query,t),new Lu(e.firestore,e.converter,On(e._query,t))}_parse(e){const t=il(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new I(_.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){Vl(o,s);const t=[];for(const n of o)t.push(Fl(r,e,n));a={arrayValue:{values:t}}}else a=Fl(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Vl(o,s),a=pl(n,"where",o,"in"===s||"not-in"===s);return Jt.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class kl extends Dl{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kl(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Yt.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)Bl(n,e),n=On(n,e)}(e._query,t),new Lu(e.firestore,e.converter,On(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Ol extends Al{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ol(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new I(_.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new I(_.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Qt(t,n)}(e._query,this._field,this._direction);return new Lu(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new En(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class Ll extends Al{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Ll(e,t,n)}_apply(e){return new Lu(e.firestore,e.converter,Ln(e._query,this._limit,this._limitType))}}class Ml extends Al{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Ml(e,t,n)}_apply(e){const t=Rl(e,this.type,this._docOrFields,this._inclusive);return new Lu(e.firestore,e.converter,function(e,t){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class Pl extends Al{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new Pl(e,t,n)}_apply(e){const t=Rl(e,this.type,this._docOrFields,this._inclusive);return new Lu(e.firestore,e.converter,function(e,t){return new En(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function Rl(e,t,n,r){if(n[0]=o.getModularInstance(n[0]),n[0]instanceof Sl)return function(e,t,n,r,i){if(!r)throw new I(_.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of Dn(e))if(n.field.isKeyField())s.push(At(t,r.key));else{const e=r.data.field(n.field);if(pt(e))throw new I(_.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new I(_.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new Gt(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=il(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new I(_.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new I(_.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!Cn(e)&&-1!==c.indexOf("/"))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(U.fromString(c));if(!z.isDocumentKey(n))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new z(n);a.push(At(t,i))}else{const e=pl(n,r,c);a.push(e)}}return new Gt(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function Fl(e,t,n){if("string"==typeof(n=o.getModularInstance(n))){if(""===n)throw new I(_.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cn(t)&&-1!==n.indexOf("/"))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(U.fromString(n));if(!z.isDocumentKey(r))throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return At(e,new z(r))}if(n instanceof Mu)return At(e,n._key);throw new I(_.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cu(n)}.`)}function Vl(e,t){if(!Array.isArray(e)||0===e.length)throw new I(_.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Bl(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new I(_.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new I(_.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function Ul(e,t){if(!(t instanceof Nl||t instanceof kl))throw new I(_.INVALID_ARGUMENT,`Function ${e}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class ql{convertValue(e,t="none"){switch(_t(e)){case 0:return null;case 1:return e.booleanValue;case 2:return dt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ft(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw v()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Xe(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Yu(dt(e.latitude),dt(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=gt(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(mt(e));default:return null}}convertTimestamp(e){const t=ht(e);return new F(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=U.fromString(e);w(Vi(n));const r=new vt(n.get(1),n.get(3)),i=new z(n.popFirst(5));return r.isEqual(t)||g(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function jl(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class zl extends ql{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mu(this.firestore,null,t)}}function Gl(){return new $u("count")}class Kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $l extends Sl{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ql(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ql extends $l{data(e={}){return super.data(e)}}class Hl{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Kl(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ql(this._firestore,this._userDataWriter,n.key,n,new Kl(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new I(_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ql(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Kl(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ql(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Kl(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Wl(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Wl(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return v()}}class Jl extends ql{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hu(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mu(this.firestore,null,t)}}function Yl(e,t){return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Jc(e);try{const e=await function(e,t){const n=b(e),r=F.now(),i=t.reduce(((e,t)=>e.add(t.key)),Xn());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=zn(),c=Xn();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Sr(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Cr(e.key,t,jt(t.value.mapValue),vr.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:$n(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.xa[e.currentUser.toKey()];r||(r=new tt(M)),r=r.insert(t,n),e.xa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Vc(r,e.changes),await Ra(r.remoteStore)}catch(e){const t=Ja(e,"Failed to persist write");n.reject(t)}}(await mu(e),t,n))),n.promise}(ju(e),t)}function Xl(e,t,n){const r=n.docs.get(t._key),i=new Jl(e);return new $l(e,i,t._key,r,new Kl(n.hasPendingWrites,n.fromCache),t.converter)}function Zl(e,t){const n=Du(e.firestore,qu),r=ju(n),i=Ze(t,((e,t)=>new Rr(t,e.aggregateType,e._internalFieldPath)));return function(e,t,n){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>{try{const i=await yu(e);r.resolve(async function(e,t,n){var r;const i=b(e),{request:s,ut:o,parent:a}=Di(i.serializer,Nn(t),n);i.connection.Do||delete s.parent;const c=(await i.xo("RunAggregationQuery",i.serializer.databaseId,a,s,1)).filter((e=>!!e.result));w(1===c.length);const u=null===(r=c[0].result)||void 0===r?void 0:r.aggregateFields;return Object.keys(u).reduce(((e,t)=>(e[o[t]]=u[t],e)),{})}(i,t,n))}catch(e){r.reject(e)}})),r.promise}(r,e._query,i).then((t=>function(e,t,n){const r=new Jl(e);return new Qu(t,r,n)}(n,e,t)))}class eh{constructor(e){this.kind="memory",this._onlineComponentProvider=new tu,(null==e?void 0:e.garbageCollector)?this._offlineComponentProvider=e.garbageCollector._offlineComponentProvider:this._offlineComponentProvider=new Yc}toJSON(){return{kind:this.kind}}}class th{constructor(e){let t;this.kind="persistent",(null==e?void 0:e.tabManager)?(e.tabManager._initialize(e),t=e.tabManager):(t=oh(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}class nh{constructor(){this.kind="memoryEager",this._offlineComponentProvider=new Yc}toJSON(){return{kind:this.kind}}}class rh{constructor(e){this.kind="memoryLru",this._offlineComponentProvider=new Xc(e)}toJSON(){return{kind:this.kind}}}class ih{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new tu,this._offlineComponentProvider=new Zc(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes,this.forceOwnership)}}class sh{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=new tu,this._offlineComponentProvider=new eu(this._onlineComponentProvider,null==e?void 0:e.cacheSizeBytes)}}function oh(e){return new ih(null==e?void 0:e.forceOwnership)}const ah={maxAttempts:5};class ch{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=il(e)}set(e,t,n){this._verifyNotCommitted();const r=uh(e,this._firestore),i=jl(r.converter,t,n),s=sl(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,vr.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=uh(e,this._firestore);let s;return s="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(this._dataReader,"WriteBatch.update",i._key,t,n,r):dl(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=uh(e,this._firestore);return this._mutations=this._mutations.concat(new kr(t._key,vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new I(_.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function uh(e,t){if((e=o.getModularInstance(e)).firestore!==t)throw new I(_.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class lh extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=il(e)}get(e){const t=uh(e,this._firestore),n=new zl(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return v();const r=e[0];if(r.isFoundDocument())return new Sl(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new Sl(this._firestore,n,t._key,null,t.converter);throw v()}))}set(e,t,n){const r=uh(e,this._firestore),i=jl(r.converter,t,n),s=sl(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=uh(e,this._firestore);let s;return s="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(this._dataReader,"Transaction.update",i._key,t,n,r):dl(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=uh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=uh(e,this._firestore),n=new Jl(this._firestore);return super.get(e).then((e=>new $l(this._firestore,n,t._key,e._document,new Kl(!1,!1),t.converter)))}}function hh(e,t){if("string"!=typeof e[t])throw new I(_.INVALID_ARGUMENT,"Missing string value for: "+t);return e[t]}class dh{constructor(e){this._client=e,this.type="PersistentCacheIndexManager"}}function fh(e,t){e._client.verifyNotTerminated(),function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){b(e).ts.Ui=t}(await pu(e),t)))}(e._client,t).then((e=>p(`setting persistent cache index auto creation isEnabled=${t} succeeded`))).catch((e=>m(`setting persistent cache index auto creation isEnabled=${t} failed`,e)))}const ph=new WeakMap;class gh{constructor(){this.Ou=new Map}static get instance(){return mh||(mh=new gh,function(e){if(jr)throw new Error("a TestingHooksSpi instance is already set");jr=e}(mh)),mh}et(e){this.Ou.forEach((t=>t(e)))}onExistenceFilterMismatch(e){const t=Symbol(),n=this.Ou;return n.set(t,e),()=>n.delete(t)}}let mh=null;!function(e,t=!0){!function(e){h=e}(r.SDK_VERSION),r._registerComponent(new i.Component("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new qu(new C(e.getProvider("auth-internal")),new k(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new I(_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new vt(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),r.registerVersion(u,"4.6.4",e),r.registerVersion(u,"4.6.4","cjs2017")}(),t.AbstractUserDataWriter=ql,t.AggregateField=$u,t.AggregateQuerySnapshot=Qu,t.Bytes=Hu,t.CACHE_SIZE_UNLIMITED=-1,t.CollectionReference=Pu,t.DocumentReference=Mu,t.DocumentSnapshot=$l,t.FieldPath=Wu,t.FieldValue=Ju,t.Firestore=qu,t.FirestoreError=I,t.GeoPoint=Yu,t.LoadBundleTask=Uu,t.PersistentCacheIndexManager=dh,t.Query=Lu,t.QueryCompositeFilterConstraint=kl,t.QueryConstraint=Al,t.QueryDocumentSnapshot=Ql,t.QueryEndAtConstraint=Pl,t.QueryFieldFilterConstraint=Nl,t.QueryLimitConstraint=Ll,t.QueryOrderByConstraint=Ol,t.QuerySnapshot=Hl,t.QueryStartAtConstraint=Ml,t.SnapshotMetadata=Kl,t.Timestamp=F,t.Transaction=lh,t.WriteBatch=ch,t._AutoId=L,t._ByteString=ut,t._DatabaseId=vt,t._DocumentKey=z,t._EmptyAppCheckTokenProvider=class{getToken(){return Promise.resolve(new N(""))}invalidateToken(){}start(e,t){}shutdown(){}},t._EmptyAuthCredentialsProvider=T,t._FieldPath=j,t._TestingHooks=class{constructor(){throw new Error("instances of this class should not be created")}static onExistenceFilterMismatch(e){return gh.instance.onExistenceFilterMismatch(e)}},t._cast=Du,t._debugAssert=function(e,t){e||v()},t._internalAggregationQueryToProtoRunAggregationQueryRequest=function(e,t){var n;const r=Ze(t,((e,t)=>new Rr(t,e.aggregateType,e._internalFieldPath))),i=null===(n=ju(Du(e.firestore,qu))._onlineComponents)||void 0===n?void 0:n.datastore.serializer;return void 0===i?null:Di(i,Nn(e._query),r,!0).request},t._internalQueryToProtoQueryTarget=function(e){var t;const n=null===(t=ju(Du(e.firestore,qu))._onlineComponents)||void 0===t?void 0:t.datastore.serializer;return void 0===n?null:Ci(n,An(e._query))._t},t._isBase64Available=function(){return"undefined"!=typeof atob},t._logWarn=m,t._validateIsNotUsedTogether=Su,t.addDoc=function(e,t){const n=Du(e.firestore,qu),r=Ru(e),i=jl(e.converter,t);return Yl(n,[sl(il(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,vr.exists(!1))]).then((()=>r))},t.aggregateFieldEqual=function(e,t){var n,r;return e instanceof $u&&t instanceof $u&&e.aggregateType===t.aggregateType&&(null===(n=e._internalFieldPath)||void 0===n?void 0:n.canonicalString())===(null===(r=t._internalFieldPath)||void 0===r?void 0:r.canonicalString())},t.aggregateQuerySnapshotEqual=function(e,t){return Fu(e.query,t.query)&&o.deepEqual(e.data(),t.data())},t.and=function(...e){return e.forEach((e=>Ul("and",e))),kl._create("and",e)},t.arrayRemove=function(...e){return new ll("arrayRemove",e)},t.arrayUnion=function(...e){return new ul("arrayUnion",e)},t.average=function(e){return new $u("avg",wl("average",e))},t.clearIndexedDbPersistence=function(e){if(e._initialized&&!e._terminated)throw new I(_.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new E;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!oe.D())return Promise.resolve();const t=e+"main";await oe.delete(t)}(Ao(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise},t.collection=function(e,t,...n){if(e=o.getModularInstance(e),Eu("collection","path",t),e instanceof ku){const r=U.fromString(t,...n);return xu(r),new Pu(e,null,r)}{if(!(e instanceof Mu||e instanceof Pu))throw new I(_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(U.fromString(t,...n));return xu(r),new Pu(e.firestore,null,r)}},t.collectionGroup=function(e,t){if(e=Du(e,ku),Eu("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new I(_.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Lu(e,null,function(e){return new En(U.emptyPath(),e)}(t))},t.connectFirestoreEmulator=Ou,t.count=Gl,t.deleteAllPersistentCacheIndexes=function(e){e._client.verifyNotTerminated(),function(e){return e.asyncQueue.enqueue((async()=>function(e){const t=b(e),n=t.indexManager;return t.persistence.runTransaction("Delete All Indexes","readwrite",(e=>n.deleteAllFieldIndexes(e)))}(await pu(e))))}(e._client).then((e=>p("deleting all persistent cache indexes succeeded"))).catch((e=>m("deleting all persistent cache indexes failed",e)))},t.deleteDoc=function(e){return Yl(Du(e.firestore,qu),[new kr(e._key,vr.none())])},t.deleteField=function(){return new ol("deleteField")},t.disableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await fu(e),n=await gu(e);return t.setNetworkEnabled(!1),async function(e){const t=b(e);t.M_.add(0),await _a(t),t.N_.set("Offline")}(n)}))}(ju(e=Du(e,qu)))},t.disablePersistentCacheIndexAutoCreation=function(e){fh(e,!1)},t.doc=Ru,t.documentId=function(){return new Wu("__name__")},t.enableIndexedDbPersistence=function(e,t){Ku(e=Du(e,qu));const n=ju(e);if(n._uninitializedComponentsProvider)throw new I(_.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new tu;return Gu(n,i,new Zc(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))},t.enableMultiTabIndexedDbPersistence=function(e){Ku(e=Du(e,qu));const t=ju(e);if(t._uninitializedComponentsProvider)throw new I(_.FAILED_PRECONDITION,"SDK cache is already specified.");m("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new tu;return Gu(t,r,new eu(r,n.cacheSizeBytes))},t.enableNetwork=function(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await fu(e),n=await gu(e);return t.setNetworkEnabled(!0),function(e){const t=b(e);return t.M_.delete(0),ba(t)}(n)}))}(ju(e=Du(e,qu)))},t.enablePersistentCacheIndexAutoCreation=function(e){fh(e,!0)},t.endAt=function(...e){return Pl._create("endAt",e,!0)},t.endBefore=function(...e){return Pl._create("endBefore",e,!1)},t.ensureFirestoreConfigured=ju,t.executeWrite=Yl,t.getAggregateFromServer=Zl,t.getCountFromServer=function(e){return Zl(e,{count:Gl()})},t.getDoc=function(e){e=Du(e,Mu);const t=Du(e.firestore,qu);return wu(ju(t),e._key).then((n=>Xl(t,e,n)))},t.getDocFromCache=function(e){e=Du(e,Mu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=b(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new I(_.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Ja(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await pu(e),t,n))),n.promise}(n,e._key).then((n=>new $l(t,r,e._key,n,new Kl(null!==n&&n.hasLocalMutations,!0),e.converter)))},t.getDocFromServer=function(e){e=Du(e,Mu);const t=Du(e.firestore,qu);return wu(ju(t),e._key,{source:"server"}).then((n=>Xl(t,e,n)))},t.getDocs=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return Cl(e._query),bu(n,e._query).then((n=>new Hl(t,r,e,n)))},t.getDocsFromCache=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return function(e,t){const n=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await qo(e,t,!0),i=new mc(t,r.hs),s=i.da(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Ja(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await pu(e),t,n))),n.promise}(n,e._query).then((n=>new Hl(t,r,e,n)))},t.getDocsFromServer=function(e){e=Du(e,Lu);const t=Du(e.firestore,qu),n=ju(t),r=new Jl(t);return bu(n,e._query,{source:"server"}).then((n=>new Hl(t,r,e,n)))},t.getFirestore=function(e,t){const n="object"==typeof e?e:r.getApp(),i="string"==typeof e?e:t||"(default)",s=r._getProvider(n,"firestore").getImmediate({identifier:i});if(!s._initialized){const e=o.getDefaultEmulatorHostnameAndPort("firestore");e&&Ou(s,...e)}return s},t.getPersistentCacheIndexManager=function(e){var t;e=Du(e,qu);const n=ph.get(e);if(n)return n;const r=ju(e);if("persistent"!==(null===(t=r._uninitializedComponentsProvider)||void 0===t?void 0:t._offlineKind))return null;const i=new dh(r);return ph.set(e,i),i},t.increment=function(e){return new hl("increment",e)},t.initializeFirestore=function(e,t,n){n||(n="(default)");const i=r._getProvider(e,"firestore");if(i.isInitialized(n)){const e=i.getImmediate({identifier:n}),r=i.getOptions(n);if(o.deepEqual(r,t))return e;throw new I(_.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new I(_.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new I(_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return i.initialize({options:t,instanceIdentifier:n})},t.limit=function(e){return Au("limit",e),Ll._create("limit",e,"F")},t.limitToLast=function(e){return Au("limitToLast",e),Ll._create("limitToLast",e,"L")},t.loadBundle=function(e,t){const n=ju(e=Du(e,qu)),r=new Uu;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?zr().encode(e):e,function(e,t){return new iu(e,t)}(function(e,t){if(e instanceof Uint8Array)return nu(e,t);if(e instanceof ArrayBuffer)return nu(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,da(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=b(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=b(e),r=di(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(fc(r));const i=new dc(r,e.localStore,t.serializer);let s=await t.qa();for(;s;){const e=await i._a(s);e&&n._updateProgress(e),s=await t.qa()}const o=await i.complete();return await Vc(e,o.ca,void 0),await function(e,t){const n=b(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o.ua)}catch(e){return m("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await mu(e),i,r)}))}(n,e._databaseId,t,r),r},t.memoryEagerGarbageCollector=function(){return new nh},t.memoryLocalCache=function(e){return new eh(e)},t.memoryLruGarbageCollector=function(e){return new rh(null==e?void 0:e.cacheSizeBytes)},t.namedQuery=function(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=b(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await pu(e),t)))}(ju(e=Du(e,qu)),t).then((t=>t?new Lu(e,null,t.query):null))},t.onSnapshot=function(e,...t){var n,r,i;e=o.getModularInstance(e);let s={includeMetadataChanges:!1,source:"default"},a=0;"object"!=typeof t[a]||Bu(t[a])||(s=t[a],a++);const c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Bu(t[a])){const e=t[a];t[a]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[a+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[a+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let u,l,h;if(e instanceof Mu)l=Du(e.firestore,qu),h=Tn(e._key.path),u={next:n=>{t[a]&&t[a](Xl(l,e,n))},error:t[a+1],complete:t[a+2]};else{const n=Du(e,Lu);l=Du(n.firestore,qu),h=n._query;const r=new Jl(l);u={next:e=>{t[a]&&t[a](new Hl(l,r,n,e))},error:t[a+1],complete:t[a+2]},Cl(e._query)}return function(e,t,n,r){const i=new ru(r),s=new uc(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>nc(await vu(e),s))),()=>{i.$a(),e.asyncQueue.enqueueAndForget((async()=>rc(await vu(e),s)))}}(ju(l),h,c,u)},t.onSnapshotsInSync=function(e,t){return function(e,t){const n=new ru(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).z_.add(t),t.next()}(await vu(e),n))),()=>{n.$a(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){b(e).z_.delete(t)}(await vu(e),n)))}}(ju(e=Du(e,qu)),Bu(t)?t:{next:t})},t.or=function(...e){return e.forEach((e=>Ul("or",e))),kl._create("or",e)},t.orderBy=function(e,t="asc"){const n=t,r=xl("orderBy",e);return Ol._create(r,n)},t.persistentLocalCache=function(e){return new th(e)},t.persistentMultipleTabManager=function(){return new sh},t.persistentSingleTabManager=oh,t.query=function(e,t,...n){let r=[];t instanceof Dl&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof kl)).length,n=e.filter((e=>e instanceof Nl)).length;if(t>1||t>0&&n>0)throw new I(_.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e},t.queryEqual=Fu,t.refEqual=function(e,t){return e=o.getModularInstance(e),t=o.getModularInstance(t),(e instanceof Mu||e instanceof Pu)&&(t instanceof Mu||t instanceof Pu)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter},t.runTransaction=function(e,t,n){e=Du(e,qu);const r=Object.assign(Object.assign({},ah),n);return function(e){if(e.maxAttempts<1)throw new I(_.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new E;return e.asyncQueue.enqueueAndForget((async()=>{const i=await yu(e);new ou(e.asyncQueue,i,n,t,r).Xa()})),r.promise}(ju(e),(n=>t(new lh(e,n))),r)},t.serverTimestamp=function(){return new cl("serverTimestamp")},t.setDoc=function(e,t,n){e=Du(e,Mu);const r=Du(e.firestore,qu),i=jl(e.converter,t,n);return Yl(r,[sl(il(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,vr.none())])},t.setIndexConfiguration=function(e,t){var n;const r=ju(e=Du(e,qu));if(!r._uninitializedComponentsProvider||"memory"===(null===(n=r._uninitializedComponentsProvider)||void 0===n?void 0:n._offlineKind))return m("Cannot enable indexes when persistence is disabled"),Promise.resolve();const i=function(e){const t="string"==typeof e?function(e){try{return JSON.parse(e)}catch(e){throw new I(_.INVALID_ARGUMENT,"Failed to parse JSON: "+(null==e?void 0:e.message))}}(e):e,n=[];if(Array.isArray(t.indexes))for(const e of t.indexes){const t=hh(e,"collectionGroup"),r=[];if(Array.isArray(e.fields))for(const t of e.fields){const e=_l("setIndexConfiguration",hh(t,"fieldPath"));"CONTAINS"===t.arrayConfig?r.push(new H(e,2)):"ASCENDING"===t.order?r.push(new H(e,0)):"DESCENDING"===t.order&&r.push(new H(e,1))}n.push(new G(G.UNKNOWN_ID,t,r,J.empty()))}return n}(t);return function(e,t){return e.asyncQueue.enqueue((async()=>async function(e,t){const n=b(e),r=n.indexManager,i=[];return n.persistence.runTransaction("Configure indexes","readwrite",(e=>r.getFieldIndexes(e).next((n=>function(e,t,n,r,i){e=[...e],t=[...t],e.sort(n),t.sort(n);const s=e.length,o=t.length;let a=0,c=0;for(;a<o&&c<s;){const s=n(e[c],t[a]);s<0?i(e[c++]):s>0?r(t[a++]):(a++,c++)}for(;a<o;)r(t[a++]);for(;c<s;)i(e[c++])}(n,t,Q,(t=>{i.push(r.addFieldIndex(e,t))}),(t=>{i.push(r.deleteFieldIndex(e,t))})))).next((()=>ie.waitFor(i)))))}(await pu(e),t)))}(r,i)},t.setLogLevel=function(e){d.setLogLevel(e)},t.snapshotEqual=function(e,t){return e instanceof $l&&t instanceof $l?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Hl&&t instanceof Hl&&e._firestore===t._firestore&&Fu(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)},t.startAfter=function(...e){return Ml._create("startAfter",e,!1)},t.startAt=function(...e){return Ml._create("startAt",e,!0)},t.sum=function(e){return new $u("sum",wl("sum",e))},t.terminate=function(e){return r._removeServiceInstance(e.app,"firestore",e._databaseId.database),e._delete()},t.updateDoc=function(e,t,n,...r){e=Du(e,Mu);const i=Du(e.firestore,qu),s=il(i);let a;return a="string"==typeof(t=o.getModularInstance(t))||t instanceof Wu?fl(s,"updateDoc",e._key,t,n,r):dl(s,"updateDoc",e._key,t),Yl(i,[a.toMutation(e._key,vr.exists(!0))])},t.waitForPendingWrites=function(e){return function(e){const t=new E;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=b(e);Da(n.remoteStore)||p("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=b(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Oa.get(e)||[];r.push(t),n.Oa.set(e,r)}catch(e){const n=Ja(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await mu(e),t))),t.promise}(ju(e=Du(e,qu)))},t.where=function(e,t,n){const r=t,i=xl("where",e);return Nl._create(i,r,n)},t.writeBatch=function(e){return ju(e=Du(e,qu)),new ch(e,(t=>Yl(e,t)))}},795:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,s=n(322),o=[];t.LogLevel=void 0,(i=t.LogLevel||(t.LogLevel={}))[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT";var a={debug:t.LogLevel.DEBUG,verbose:t.LogLevel.VERBOSE,info:t.LogLevel.INFO,warn:t.LogLevel.WARN,error:t.LogLevel.ERROR,silent:t.LogLevel.SILENT},c=t.LogLevel.INFO,u=((r={})[t.LogLevel.DEBUG]="log",r[t.LogLevel.VERBOSE]="log",r[t.LogLevel.INFO]="info",r[t.LogLevel.WARN]="warn",r[t.LogLevel.ERROR]="error",r),l=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=u[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));console[o].apply(console,s.__spreadArray(["[".concat(i,"]  ").concat(e.name,":")],n,!1))}},h=function(){function e(e){this.name=e,this._logLevel=c,this._logHandler=l,this._userLogHandler=null,o.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in t.LogLevel))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?a[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.DEBUG],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.DEBUG],e,!1))},e.prototype.log=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.VERBOSE],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.VERBOSE],e,!1))},e.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.INFO],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.INFO],e,!1))},e.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.WARN],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.WARN],e,!1))},e.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,s.__spreadArray([this,t.LogLevel.ERROR],e,!1)),this._logHandler.apply(this,s.__spreadArray([this,t.LogLevel.ERROR],e,!1))},e}();t.Logger=h,t.setLogLevel=function(e){o.forEach((function(t){t.setLogLevel(e)}))},t.setUserLogHandler=function(e,n){for(var r=function(r){var i=null;n&&n.level&&(i=a[n.level]),r.userLogHandler=null===e?null:function(n,r){for(var s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];var a=s.map((function(e){if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(e){return null}})).filter((function(e){return e})).join(" ");r>=(null!=i?i:n.logLevel)&&e({level:t.LogLevel[r].toLowerCase(),message:a,args:s,type:n.name})}},i=0,s=o;i<s.length;i++)r(s[i])}},107:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},i=function(e,t){if(!e)throw s(t)},s=function(e){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},a={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,c=a?e[t+2]:0,u=i>>2,l=(3&i)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new c;const u=i<<2|s>>4;if(r.push(u),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class c extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const u=function(e){const t=o(e);return a.encodeByteArray(t,!0)},l=function(e){return u(e).replace(/\./g,"")},h=function(e){try{return a.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}function f(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}const p=()=>{try{return f().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process)return;const e="MISSING_ENV_VAR".__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"==typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(e){return}const t=e&&h(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},g=e=>{var t,n;return null===(n=null===(t=p())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]};class m{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function y(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function v(){var e;const t=null===(e=p())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function w(){return"undefined"!=typeof WorkerGlobalScope&&"undefined"!=typeof self&&self instanceof WorkerGlobalScope}class b extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,b.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_.prototype.create)}}class _{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?function(e,t){return e.replace(I,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new b(r,o,n)}}const I=/\{\$([^}]+)}/g;function E(e){return JSON.parse(e)}const S=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=E(h(s[0])||""),n=E(h(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(e){}return{header:t,claims:n,data:r,signature:i}};function T(e){return null!==e&&"object"==typeof e}class x{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const t of["next","error","complete"])if(t in e&&"function"==typeof e[t])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=C),void 0===r.error&&(r.error=C),void 0===r.complete&&(r.complete=C);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){"undefined"!=typeof console&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function C(){}function D(e,t){return`${e} failed: ${t} argument `}const A=144e5;t.CONSTANTS=r,t.DecodeBase64StringError=c,t.Deferred=m,t.ErrorFactory=_,t.FirebaseError=b,t.MAX_VALUE_MILLIS=A,t.RANDOM_FACTOR=.5,t.Sha1=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let e=16;e<80;e++){const t=n[e-3]^n[e-8]^n[e-14]^n[e-16];n[e]=4294967295&(t<<1|t>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],c=this.chain_[3],u=this.chain_[4];for(let e=0;e<80;e++){e<40?e<20?(r=c^o&(a^c),i=1518500249):(r=o^a^c,i=1859775393):e<60?(r=o&a|c&(o|a),i=2400959708):(r=o^a^c,i=3395469782);const t=(s<<5|s>>>27)+r+u+i+n[e]&4294967295;u=c,c=a,a=4294967295&(o<<30|o>>>2),o=s,s=t}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+u&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let e=this.blockSize-1;e>=56;e--)this.buf_[e]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let t=0;t<5;t++)for(let r=24;r>=0;r-=8)e[n]=this.chain_[t]>>r&255,++n;return e}},t.areCookiesEnabled=function(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)},t.assert=i,t.assertionError=s,t.async=function(e,t){return(...n)=>{Promise.resolve(!0).then((()=>{e(...n)})).catch((e=>{t&&t(e)}))}},t.base64=a,t.base64Decode=h,t.base64Encode=u,t.base64urlEncodeWithoutPadding=l,t.calculateBackoffMillis=function(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(A,r+i)},t.contains=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.createMockUserToken=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(s)),""].join(".")},t.createSubscribe=function(e,t){const n=new x(e,t);return n.subscribe.bind(n)},t.decode=S,t.deepCopy=function(e){return d(void 0,e)},t.deepEqual=function e(t,n){if(t===n)return!0;const r=Object.keys(t),i=Object.keys(n);for(const s of r){if(!i.includes(s))return!1;const r=t[s],o=n[s];if(T(r)&&T(o)){if(!e(r,o))return!1}else if(r!==o)return!1}for(const e of i)if(!r.includes(e))return!1;return!0},t.deepExtend=d,t.errorPrefix=D,t.extractQuerystring=function(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)},t.getDefaultAppConfig=()=>{var e;return null===(e=p())||void 0===e?void 0:e.config},t.getDefaultEmulatorHost=g,t.getDefaultEmulatorHostnameAndPort=e=>{const t=g(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},t.getDefaults=p,t.getExperimentalSetting=e=>{var t;return null===(t=p())||void 0===t?void 0:t[`_${e}`]},t.getGlobal=f,t.getModularInstance=function(e){return e&&e._delegate?e._delegate:e},t.getUA=y,t.isAdmin=function(e){const t=S(e).claims;return"object"==typeof t&&!0===t.admin},t.isBrowser=function(){return"undefined"!=typeof window||w()},t.isBrowserExtension=function(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id},t.isElectron=function(){return y().indexOf("Electron/")>=0},t.isEmpty=function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0},t.isIE=function(){const e=y();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0},t.isIndexedDBAvailable=function(){try{return"object"==typeof indexedDB}catch(e){return!1}},t.isMobileCordova=function(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(y())},t.isNode=v,t.isNodeSdk=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},t.isReactNative=function(){return"object"==typeof navigator&&"ReactNative"===navigator.product},t.isSafari=function(){return!v()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")},t.isUWP=function(){return y().indexOf("MSAppHost/")>=0},t.isValidFormat=function(e){const t=S(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},t.isValidTimestamp=function(e){const t=S(e).claims,n=Math.floor((new Date).getTime()/1e3);let r=0,i=0;return"object"==typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},t.isWebWorker=w,t.issuedAtTime=function(e){const t=S(e).claims;return"object"==typeof t&&t.hasOwnProperty("iat")?t.iat:null},t.jsonEval=E,t.map=function(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r},t.ordinal=function(e){return Number.isFinite(e)?e+function(e){const t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";const n=e%10;return 1===n?"st":2===n?"nd":3===n?"rd":"th"}(e):`${e}`},t.promiseWithTimeout=function(e,t=2e3){const n=new m;return setTimeout((()=>n.reject("timeout!")),t),e.then(n.resolve,n.reject),n.promise},t.querystring=function(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""},t.querystringDecode=function(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t},t.safeGet=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0},t.stringLength=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},t.stringToByteArray=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let s=e.charCodeAt(r);if(s>=55296&&s<=56319){const t=s-55296;r++,i(r<e.length,"Surrogate pair missing trail surrogate."),s=65536+(t<<10)+(e.charCodeAt(r)-56320)}s<128?t[n++]=s:s<2048?(t[n++]=s>>6|192,t[n++]=63&s|128):s<65536?(t[n++]=s>>12|224,t[n++]=s>>6&63|128,t[n++]=63&s|128):(t[n++]=s>>18|240,t[n++]=s>>12&63|128,t[n++]=s>>6&63|128,t[n++]=63&s|128)}return t},t.stringify=function(e){return JSON.stringify(e)},t.uuidv4=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.validateArgCount=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")},t.validateCallback=function(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(D(e,t)+"must be a valid function.")},t.validateContextObject=function(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(D(e,t)+"must be a valid context object.")},t.validateIndexedDBOpenable=function(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))},t.validateNamespace=function(e,t,n){if((!n||t)&&"string"!=typeof t)throw new Error(D(e,"namespace")+"must be a valid firebase namespace.")}},293:(e,t,n)=>{(function(){"use strict";var t;function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function r(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function i(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(n,(function(){this.blockSize=-1})),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},n.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=n;)r(this,e,o),o+=this.blockSize;if("string"==typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){r(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){r(this,i),s=0;break}}this.h=s,this.o+=t},n.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var s={};function o(e){return-128<=e&&128>e?function(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=function(e){return new i([0|e],0>e?-1:0)}(e)}(e):new i([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return c;if(0>e)return f(a(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new i(t,0)}var c=o(0),u=o(1),l=o(16777216);function h(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function f(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new i(n,~e.h).add(u)}function p(e,t){return e.add(f(t))}function g(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function y(e,t){if(h(t))throw Error("division by zero");if(h(e))return new m(c,c);if(d(e))return t=y(f(e),t),new m(f(t.g),f(t.h));if(d(t))return t=y(e,f(t)),new m(f(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=u,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=w(n,1),s=w(r,1);for(r=w(r,2),n=w(n,2);!h(r);){var o=s.add(r);0>=o.l(e)&&(i=i.add(n),s=o),r=w(r,1),n=w(n,1)}return t=p(e,i.j(t)),new m(i,t)}for(i=c;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=a(n)).j(t);d(o)||0<o.l(e);)o=(s=a(n-=r)).j(t);h(s)&&(s=u),i=i.add(s),e=p(e,o)}return new m(i,e)}function v(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new i(n,e.h)}function w(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,s=[],o=0;o<r;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new i(s,e.h)}(t=i.prototype).m=function(){if(d(this))return-f(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},t.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(h(this))return"0";if(d(this))return"-"+f(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=y(n,t).g,s=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(h(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},t.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},t.l=function(e){return d(e=p(this,e))?-1:h(e)?0:1},t.abs=function(){return d(this)?f(this):this},t.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,s=0;s<=t;s++){var o=r+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);r=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new i(n,-2147483648&n[n.length-1]?-1:0)},t.j=function(e){if(h(this)||h(e))return c;if(d(this))return d(e)?f(this).j(f(e)):f(f(this).j(e));if(d(e))return f(this.j(f(e)));if(0>this.l(l)&&0>e.l(l))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<e.g.length;s++){var o=this.i(r)>>>16,u=65535&this.i(r),p=e.i(s)>>>16,m=65535&e.i(s);n[2*r+2*s]+=u*m,g(n,2*r+2*s),n[2*r+2*s+1]+=o*m,g(n,2*r+2*s+1),n[2*r+2*s+1]+=u*p,g(n,2*r+2*s+1),n[2*r+2*s+2]+=o*p,g(n,2*r+2*s+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new i(n,0)},t.A=function(e){return y(this,e).h},t.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new i(n,this.h&e.h)},t.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new i(n,this.h|e.h)},t.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new i(n,this.h^e.h)},n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,e.exports.Md5=n,i.prototype.add=i.prototype.add,i.prototype.multiply=i.prototype.j,i.prototype.modulo=i.prototype.A,i.prototype.compare=i.prototype.l,i.prototype.toNumber=i.prototype.m,i.prototype.toString=i.prototype.toString,i.prototype.getBits=i.prototype.i,i.fromNumber=a,i.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return f(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=c,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),u=parseInt(t.substring(s,s+o),n);8>o?(o=a(Math.pow(n,o)),i=i.j(o).add(a(u))):i=(i=i.j(r)).add(a(u))}return i},e.exports.Integer=i}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},493:(e,t,n)=>{(function(){"use strict";var t,r="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},i=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}(this);!function(e,t){if(t)e:{var n=i;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in n))break e;n=n[o]}(t=t(s=n[e=e[e.length-1]]))!=s&&null!=t&&r(n,e,{configurable:!0,writable:!0,value:t})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(0,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var s=s||{},o=this||self;function a(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function c(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function u(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function h(e,t,n){return(h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u:l).apply(null,arguments)}function d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function f(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function p(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function g(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(a(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function m(e){return/^[\s\xa0]*$/.test(e)}function y(){var e=o.navigator;return e&&(e=e.userAgent)?e:""}function v(e){return v[" "](e),e}v[" "]=function(){};var w=!(-1==y().indexOf("Gecko")||-1!=y().toLowerCase().indexOf("webkit")&&-1==y().indexOf("Edge")||-1!=y().indexOf("Trident")||-1!=y().indexOf("MSIE")||-1!=y().indexOf("Edge"));function b(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _(e){const t={};for(const n in e)t[n]=e[n];return t}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<I.length;t++)n=I[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function T(e){o.setTimeout((()=>{throw e}),0)}function x(){var e=k;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new D),(e=>e.reset()));class D{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let A,N=!1,k=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},O=()=>{const e=o.Promise.resolve(void 0);A=()=>{e.then(L)}};var L=()=>{for(var e;e=x();){try{e.h.call(e.g)}catch(e){T(e)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}N=!1};function M(){this.s=this.s,this.C=this.C}function P(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}M.prototype.s=!1,M.prototype.ma=function(){this.s||(this.s=!0,this.N())},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},P.prototype.h=function(){this.defaultPrevented=!0};var R=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};o.addEventListener("test",e,t),o.removeEventListener("test",e,t)}catch(e){}return e}();function F(e,t){if(P.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(w){e:{try{v(t.nodeName);var i=!0;break e}catch(e){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:V[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&F.aa.h.call(this)}}f(F,P);var V={2:"touch",3:"pen",4:"mouse"};F.prototype.h=function(){F.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var B="closure_listenable_"+(1e6*Math.random()|0),U=0;function q(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++U,this.da=this.fa=!1}function j(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function G(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(j(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function K(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=K(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new q(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var $="closure_lm_"+(1e6*Math.random()|0),Q={};function H(e,t,n,r,i){if(r&&r.once)return J(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H(e,t[s],n,r,i);return null}return n=re(n),e&&e[B]?e.K(t,n,c(r)?!!r.capture:!!r,i):W(e,t,n,!1,r,i)}function W(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=c(i)?!!i.capture:!!i,a=te(e);if(a||(e[$]=a=new z(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){const e=ee;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)R||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Z(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function J(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)J(e,t[s],n,r,i);return null}return n=re(n),e&&e[B]?e.L(t,n,c(r)?!!r.capture:!!r,i):W(e,t,n,!0,r,i)}function Y(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Y(e,t[s],n,r,i);else r=c(r)?!!r.capture:!!r,n=re(n),e&&e[B]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=K(s=e.g[t],n,r,i))&&(j(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--))):e&&(e=te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=K(t,n,r,i)),(n=-1<e?t[e]:null)&&X(n))}function X(e){if("number"!=typeof e&&e&&!e.da){var t=e.src;if(t&&t[B])G(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Z(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=te(t))?(G(n,e),0==n.h&&(n.src=null,t[$]=null)):j(e)}}}function Z(e){return e in Q?Q[e]:Q[e]="on"+e}function ee(e,t){if(e.da)e=!0;else{t=new F(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&X(e),e=n.call(r,t)}return e}function te(e){return(e=e[$])instanceof z?e:null}var ne="__closure_events_fn_"+(1e9*Math.random()>>>0);function re(e){return"function"==typeof e?e:(e[ne]||(e[ne]=function(t){return e.handleEvent(t)}),e[ne])}function ie(){M.call(this),this.i=new z(this),this.M=this,this.F=null}function se(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"==typeof t)t=new P(t,e);else if(t instanceof P)t.target=t.target||e;else{var i=t;E(t=new P(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=oe(o,r,!0,t)&&i}if(i=oe(o=t.g=e,r,!0,t)&&i,i=oe(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=oe(o=t.g=n[s],r,!1,t)&&i}function oe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,c=o.ha||o.src;o.fa&&G(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}function ae(e,t,n){if("function"==typeof e)n&&(e=h(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=h(e.handleEvent,e)}return 2147483647<Number(t)?-1:o.setTimeout(e,t||0)}function ce(e){e.g=ae((()=>{e.g=null,e.i&&(e.i=!1,ce(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}f(ie,M),ie.prototype[B]=!0,ie.prototype.removeEventListener=function(e,t,n,r){Y(this,e,t,n,r)},ie.prototype.N=function(){if(ie.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)j(n[r]);delete t.g[e],t.h--}}this.F=null},ie.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ie.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ue extends M{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ce(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){M.call(this),this.h=e,this.g={}}f(le,M);var he=[];function de(e){b(e.g,(function(e,t){this.g.hasOwnProperty(t)&&X(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),de(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var fe=o.JSON.stringify,pe=o.JSON.parse,ge=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function me(){}function ye(e){return e.h||(e.h=e.i())}function ve(){}me.prototype.h=null;var we={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function be(){P.call(this,"d")}function _e(){P.call(this,"c")}f(be,P),f(_e,P);var Ie={},Ee=null;function Se(){return Ee=Ee||new ie}function Te(e){P.call(this,Ie.La,e)}function xe(e){const t=Se();se(t,new Te(t,e))}function Ce(e,t){P.call(this,Ie.STAT_EVENT,e),this.stat=t}function De(e){const t=Se();se(t,new Ce(t,e))}function Ae(e,t){P.call(this,Ie.Ma,e),this.size=t}function Ne(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return o.setTimeout((function(){e()}),t)}function ke(){this.g=!0}function Oe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return fe(n)}catch(e){return t}}(e,n)+(r?" "+r:"")}))}Ie.La="serverreachability",f(Te,P),Ie.STAT_EVENT="statevent",f(Ce,P),Ie.Ma="timingevent",f(Ae,P),ke.prototype.xa=function(){this.g=!1},ke.prototype.info=function(){};var Le,Me={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Re(){}function Fe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ve}function Ve(){this.i=null,this.g="",this.h=!1}f(Re,me),Re.prototype.g=function(){return new XMLHttpRequest},Re.prototype.i=function(){return{}},Le=new Re;var Be={},Ue={};function qe(e,t,n){e.L=1,e.v=ft(ct(t)),e.m=n,e.P=!0,je(e,null)}function je(e,t){e.F=Date.now(),Ke(e),e.A=ct(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Ve,e.g=gn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ue(h(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(he[0]=i.toString()),i=he);for(var s=0;s<i.length;s++){var o=H(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?_(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),xe(1),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+u+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&"GET"==e.u&&2!=e.L&&e.j.Ca}function Ge(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ue:(n=Number(t.substring(n,r)),isNaN(n)?Be:(r+=1)+n>t.length?Ue:(t=t.slice(r,r+n),e.C=r+n,t))}function Ke(e){e.S=Date.now()+e.I,$e(e,e.I)}function $e(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ne(h(e.ba,e),t)}function Qe(e){e.B&&(o.clearTimeout(e.B),e.B=null)}function He(e){0==e.j.G||e.J||ln(e.j,e)}function We(e){Qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,de(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Je(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||tt(n.h,e)))if(!e.K&&tt(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(e){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;un(n),Xt(n)}on(n),De(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ne(h(n.Za,n),6e3));if(1>=et(n.h)&&n.ca){try{n.ca()}catch(e){}n.ca=void 0}}else dn(n,11)}else if((e.K||n.g==e)&&un(n),!m(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.K=u[1],n.ia=u[2];const t=u[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=u[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(nt(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,dt(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=pn(r,r.J?r.ia:null,r.W),o.K){rt(r.h,o);var a=o,c=r.L;c&&(a.I=c),a.B&&(Qe(a),Ke(a)),r.g=o}else sn(r);0<n.i.length&&en(n)}else"stop"!=u[0]&&"close"!=u[0]||dn(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?dn(n,7):Yt(n):"noop"!=u[0]&&n.l&&n.l.ta(u),n.v=0)}xe(4)}catch(e){}}Fe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Qt(e)?t.j():this.Y(e)},Fe.prototype.Y=function(e){try{if(e==this.g)e:{const d=Qt(this.g);var t=this.g.Ba();const f=this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=d||7==t||xe(8==t||0>=f?3:2),Qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Ht(this.g);e="";var i=r.length,s=4==Qt(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){We(this),He(this);var a="";break t}this.h.i=new o.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(s&&t==i-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var c,u=this.g;if((c=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!m(c)){var l=c;break t}}l=null}if(!(n=l)){this.o=!1,this.s=3,De(12),We(this),He(this);break e}Oe(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Je(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=Ge(this,a),e==Ue){4==d&&(this.s=4,De(14),n=!1),Oe(this.i,this.l,null,"[Incomplete Response]");break}if(e==Be){this.s=4,De(15),Oe(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Oe(this.i,this.l,e,null),Je(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,De(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),an(h),h.M=!0,De(11))}}else Oe(this.i,this.l,a,"[Invalid Chunked Response]"),We(this),He(this)}else Oe(this.i,this.l,a,null),Je(this,a);4==d&&We(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,Ke(this)))}else(function(e){const t={};e=(e.g&&2<=Qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(m(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,De(12)):(this.s=0,De(13)),We(this),He(this)}}}catch(e){}},Fe.prototype.cancel=function(){this.J=!0,We(this)},Fe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(xe(3),De(17)),We(this),this.s=2,He(this)):$e(this,this.S-e)};var Ye=class{constructor(e,t){this.g=e,this.map=t}};function Xe(e){this.l=e||10,e=o.PerformanceNavigationTiming?0<(e=o.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ze(e){return!!e.h||!!e.g&&e.g.size>=e.j}function et(e){return e.h?1:e.g?e.g.size:0}function tt(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function nt(e,t){e.g?e.g.add(t):e.h=t}function rt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function it(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return p(e.i)}function st(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(a(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(a(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(a(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}Xe.prototype.cancel=function(){if(this.i=it(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var ot=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function at(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof at){this.h=e.h,ut(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new Et;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ht(this,n),this.m=e.m}else e&&(t=String(e).match(ot))?(this.h=!1,ut(this,t[1]||"",!0),this.o=pt(t[2]||""),this.g=pt(t[3]||"",!0),lt(this,t[4]),this.l=pt(t[5]||"",!0),ht(this,t[6]||"",!0),this.m=pt(t[7]||"")):(this.h=!1,this.i=new Et(null,this.h))}function ct(e){return new at(e)}function ut(e,t,n){e.j=n?pt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ht(e,t,n){t instanceof Et?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tt(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=gt(t,_t)),e.i=new Et(t,e.h))}function dt(e,t,n){e.i.set(t,n)}function ft(e){return dt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function pt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gt(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,mt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function mt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}at.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gt(t,vt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(gt(t,vt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(gt(n,"/"==n.charAt(0)?bt:wt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",gt(n,It)),e.join("")};var yt,vt=/[#\/\?@]/g,wt=/[#\?:]/g,bt=/[#\?]/g,_t=/[#\?@]/g,It=/#/g;function Et(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tt(e,t){St(e),t=Dt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function xt(e,t){return St(e),t=Dt(e,t),e.g.has(t)}function Ct(e,t,n){Tt(e,t),0<n.length&&(e.i=null,e.g.set(Dt(e,t),p(n)),e.h+=n.length)}function Dt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function At(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(e){}}function Nt(){this.g=new ge}function kt(e,t,n){const r=n||"";try{st(e,(function(e,n){let i=e;c(e)&&(i=fe(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function Ot(e){this.l=e.Ub||null,this.j=e.eb||!1}function Lt(e,t){ie.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Mt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Pt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Rt(e)}function Rt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ft(e){let t="";return b(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Vt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ft(n),"string"==typeof e?(encodeURIComponent(String(t)),null!=n&&encodeURIComponent(String(n))):dt(e,t,n))}function Bt(e){ie.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(t=Et.prototype).add=function(e,t){St(this),this.i=null,e=Dt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},t.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},t.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},t.V=function(e){St(this);let t=[];if("string"==typeof e)xt(this,e)&&(t=t.concat(this.g.get(Dt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},t.set=function(e,t){return St(this),this.i=null,xt(this,e=Dt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},t.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},f(Ot,me),Ot.prototype.g=function(){return new Lt(this.l,this.j)},Ot.prototype.i=(yt={},function(){return yt}),f(Lt,ie),(t=Lt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Rt(this)},t.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||o).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pt(this)),this.readyState=0},t.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Rt(this)),this.g&&(this.readyState=3,Rt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(void 0!==o.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},t.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Pt(this):Rt(this),3==this.readyState&&Mt(this)}},t.Ra=function(e){this.g&&(this.response=this.responseText=e,Pt(this))},t.Qa=function(e){this.g&&(this.response=e,Pt(this))},t.ga=function(){this.g&&Pt(this)},t.setRequestHeader=function(e,t){this.u.append(e,t)},t.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Lt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),f(Bt,ie);var Ut=/^https?$/i,qt=["POST","PUT"];function jt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),Kt(e)}function zt(e){e.A||(e.A=!0,se(e,"complete"),se(e,"error"))}function Gt(e){if(e.h&&void 0!==s&&(!e.v[1]||4!=Qt(e)||2!=e.Z()))if(e.u&&4==Qt(e))ae(e.Ea,0,e);else if(se(e,"readystatechange"),4==Qt(e)){e.h=!1;try{const s=e.Z();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===s){var i=String(e.D).match(ot)[1]||null;!i&&o.self&&o.self.location&&(i=o.self.location.protocol.slice(0,-1)),r=!Ut.test(i?i.toLowerCase():"")}n=r}if(n)se(e,"complete"),se(e,"success");else{e.m=6;try{var a=2<Qt(e)?e.g.statusText:""}catch(e){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{Kt(e)}}}function Kt(e,t){if(e.g){$t(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||se(e,"ready");try{n.onreadystatechange=r}catch(e){}}}function $t(e){e.I&&(o.clearTimeout(e.I),e.I=null)}function Qt(e){return e.g?e.g.readyState:0}function Ht(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Wt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Jt(e){this.Aa=0,this.i=[],this.j=new ke,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Wt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Wt("baseRetryDelayMs",5e3,e),this.cb=Wt("retryDelaySeedMs",1e4,e),this.Wa=Wt("forwardChannelMaxRetries",2,e),this.wa=Wt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Xe(e&&e.concurrentRequestLimit),this.Da=new Nt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Yt(e){if(Zt(e),3==e.G){var t=e.U++,n=ct(e.I);if(dt(n,"SID",e.K),dt(n,"RID",t),dt(n,"TYPE","terminate"),nn(e,n),(t=new Fe(e,e.j,t)).L=2,t.v=ft(ct(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.v.toString(),"")}catch(e){}!n&&o.Image&&((new Image).src=t.v,n=!0),n||(t.g=gn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),Ke(t)}fn(e)}function Xt(e){e.g&&(an(e),e.g.cancel(),e.g=null)}function Zt(e){Xt(e),e.u&&(o.clearTimeout(e.u),e.u=null),un(e),e.h.cancel(),e.s&&("number"==typeof e.s&&o.clearTimeout(e.s),e.s=null)}function en(e){if(!Ze(e.h)&&!e.s){e.s=!0;var t=e.Ga;A||O(),N||(A(),N=!0),k.add(t,e),e.B=0}}function tn(e,t){var n;n=t?t.l:e.U++;const r=ct(e.I);dt(r,"SID",e.K),dt(r,"RID",n),dt(r,"AID",e.T),nn(e,r),e.m&&e.o&&Vt(r,e.m,e.o),n=new Fe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=rn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),nt(e.h,n),qe(n,r,t)}function nn(e,t){e.H&&b(e.H,(function(e,n){dt(t,n,e)})),e.l&&st({},(function(e,n){dt(t,n,e)}))}function rn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?h(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{kt(a,e,"req"+n+"_")}catch(e){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function sn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;A||O(),N||(A(),N=!0),k.add(t,e),e.v=0}}function on(e){return!(e.g||e.u||3<=e.v||(e.Y++,e.u=Ne(h(e.Fa,e),hn(e,e.v)),e.v++,0))}function an(e){null!=e.A&&(o.clearTimeout(e.A),e.A=null)}function cn(e){e.g=new Fe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ct(e.qa);dt(t,"RID","rpc"),dt(t,"SID",e.K),dt(t,"AID",e.T),dt(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&dt(t,"TO",e.ja),dt(t,"TYPE","xmlhttp"),nn(e,t),e.m&&e.o&&Vt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ft(ct(t)),n.m=null,n.P=!0,je(n,e)}function un(e){null!=e.C&&(o.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){un(e),an(e),e.g=null;var r=2}else{if(!tt(e.h,t))return;n=t.D,rt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;se(r=Se(),new Ae(r,n,t,i)),en(e)}else sn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(et(e.h)>=e.h.j-(e.s?1:0)||(e.s?(e.i=t.D.concat(e.i),0):1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa)||(e.s=Ne(h(e.Ga,e,t),hn(e,e.B)),e.B++,0)))}(e,t)||2==r&&on(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:dn(e,5);break;case 4:dn(e,10);break;case 3:dn(e,6);break;default:dn(e,2)}}function hn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function dn(e,t){if(e.j.info("Error code "+t),2==t){var n=h(e.fb,e),r=e.Xa;const t=!r;r=new at(r||"//www.google.com/images/cleardot.gif"),o.location&&"http"==o.location.protocol||ut(r,"https"),ft(r),t?function(e,t){const n=new ke;if(o.Image){const r=new Image;r.onload=d(At,n,"TestLoadImage: loaded",!0,t,r),r.onerror=d(At,n,"TestLoadImage: error",!1,t,r),r.onabort=d(At,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=d(At,n,"TestLoadImage: timeout",!1,t,r),o.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new ke;const n=new AbortController,r=setTimeout((()=>{n.abort(),At(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?At(0,0,!0,t):At(0,0,!1,t)})).catch((()=>{clearTimeout(r),At(0,0,!1,t)}))}(r.toString(),n)}else De(2);e.G=0,e.l&&e.l.sa(t),fn(e),Zt(e)}function fn(e){if(e.G=0,e.ka=[],e.l){const t=it(e.h);0==t.length&&0==e.i.length||(g(e.ka,t),g(e.ka,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.ra()}}function pn(e,t,n){var r=n instanceof at?ct(n):new at(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var i=o.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new at(null);r&&ut(s,r),t&&(s.g=t),i&&lt(s,i),n&&(s.l=n),r=s}return n=e.D,t=e.ya,n&&t&&dt(r,n,t),dt(r,"VER",e.la),nn(e,r),r}function gn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Bt(new Ot({eb:n})):new Bt(e.pa)).Ha(e.J),t}function mn(){}function yn(){}function vn(e,t){ie.call(this),this.g=new Jt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!m(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!m(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new _n(this)}function wn(e){be.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function bn(){_e.call(this),this.status=1}function _n(e){this.g=e}(t=Bt.prototype).Ha=function(e){this.J=e},t.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Le.g(),this.v=this.o?ye(this.o):ye(Le),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){return void jt(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=o.FormData&&e instanceof o.FormData,!(0<=Array.prototype.indexOf.call(qt,t,void 0))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{$t(this),this.u=!0,this.g.send(e),this.u=!1}catch(e){jt(this,e)}},t.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,se(this,"complete"),se(this,"abort"),Kt(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kt(this,!0)),Bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Gt(this):this.bb())},t.bb=function(){Gt(this)},t.isActive=function(){return!!this.g},t.Z=function(){try{return 2<Qt(this)?this.g.status:-1}catch(e){return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},t.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),pe(t)}},t.Ba=function(){return this.m},t.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(t=Jt.prototype).la=8,t.G=1,t.connect=function(e,t,n,r){De(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=pn(this,null,this.W),en(this)},t.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Fe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=_(s),E(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=rn(this,i,t),dt(n=ct(this.I),"RID",e),dt(n,"CVER",22),this.D&&dt(n,"X-HTTP-Session-Id",this.D),nn(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ft(s)))+"&"+t:this.m&&Vt(n,this.m,s)),nt(this.h,i),this.Ua&&dt(n,"TYPE","init"),this.P?(dt(n,"$req",t),dt(n,"SID","null"),i.T=!0,qe(i,n,null)):qe(i,n,t),this.G=2}}else 3==this.G&&(e?tn(this,e):0==this.i.length||Ze(this.h)||tn(this))},t.Fa=function(){if(this.u=null,cn(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ne(h(this.ab,this),e)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,De(10),Xt(this),cn(this))},t.Za=function(){null!=this.C&&(this.C=null,Xt(this),on(this),De(19))},t.fb=function(e){e?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))},t.isActive=function(){return!!this.l&&this.l.isActive(this)},(t=mn.prototype).ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){},yn.prototype.g=function(e,t){return new vn(e,t)},f(vn,ie),vn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vn.prototype.close=function(){Yt(this.g)},vn.prototype.o=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=fe(e),e=n);t.i.push(new Ye(t.Ya++,e)),3==t.G&&en(t)},vn.prototype.N=function(){this.g.l=null,delete this.j,Yt(this.g),delete this.g,vn.aa.N.call(this)},f(wn,be),f(bn,_e),f(_n,mn),_n.prototype.ua=function(){se(this.g,"a")},_n.prototype.ta=function(e){se(this.g,new wn(e))},_n.prototype.sa=function(e){se(this.g,new bn(e))},_n.prototype.ra=function(){se(this.g,"b")},yn.prototype.createWebChannel=yn.prototype.g,vn.prototype.send=vn.prototype.o,vn.prototype.open=vn.prototype.m,vn.prototype.close=vn.prototype.close,e.exports.createWebChannelTransport=function(){return new yn},e.exports.getStatEventTarget=function(){return Se()},e.exports.Event=Ie,e.exports.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Me.NO_ERROR=0,Me.TIMEOUT=8,Me.HTTP_ERROR=6,e.exports.ErrorCode=Me,Pe.COMPLETE="complete",e.exports.EventType=Pe,ve.EventType=we,we.OPEN="a",we.CLOSE="b",we.ERROR="c",we.MESSAGE="d",ie.prototype.listen=ie.prototype.K,e.exports.WebChannel=ve,e.exports.FetchXmlHttpFactory=Ot,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,e.exports.XhrIo=Bt}).apply(void 0!==n.g?n.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},718:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(782);r.registerVersion("firebase","10.12.3","app"),Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},516:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(100);Object.keys(r).forEach((function(e){"default"===e||t.hasOwnProperty(e)||Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})}))},669:(e,t,n)=>{"use strict";n.r(t),n.d(t,{deleteDB:()=>m,openDB:()=>g,unwrap:()=>p,wrap:()=>f});const r=(e,t)=>t.some((t=>e instanceof t));let i,s;const o=new WeakMap,a=new WeakMap,c=new WeakMap,u=new WeakMap,l=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return f(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(s||(s=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(p(this),e),f(o.get(this))}:function(...e){return f(t.apply(p(this),e))}:function(e,...n){const r=t.call(p(this),e,...n);return c.set(r,e.sort?e.sort():[e]),f(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));a.set(e,t)}(e),r(e,i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,h):e);var t}function f(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(f(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&o.set(t,e)})).catch((()=>{})),l.set(t,e),t}(e);if(u.has(e))return u.get(e);const t=d(e);return t!==e&&(u.set(e,t),l.set(t,e)),t}const p=e=>l.get(e);function g(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=f(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(f(o.result),e.oldVersion,e.newVersion,f(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}function m(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(e=>t(e.oldVersion,e))),f(n).then((()=>{}))}const y=["get","getKey","getAll","getAllKeys","count"],v=["put","add","delete","clear"],w=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(w.get(t))return w.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=v.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!y.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return w.set(t,s),s}var _;_=h,h={..._,get:(e,t,n)=>b(e,t)||_.get(e,t,n),has:(e,t)=>!!b(e,t)||_.has(e,t)}},322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{__addDisposableResource:()=>M,__assign:()=>s,__asyncDelegator:()=>T,__asyncGenerator:()=>S,__asyncValues:()=>x,__await:()=>E,__awaiter:()=>p,__classPrivateFieldGet:()=>k,__classPrivateFieldIn:()=>L,__classPrivateFieldSet:()=>O,__createBinding:()=>m,__decorate:()=>a,__disposeResources:()=>R,__esDecorate:()=>u,__exportStar:()=>y,__extends:()=>i,__generator:()=>g,__importDefault:()=>N,__importStar:()=>A,__makeTemplateObject:()=>C,__metadata:()=>f,__param:()=>c,__propKey:()=>h,__read:()=>w,__rest:()=>o,__runInitializers:()=>l,__setFunctionName:()=>d,__spread:()=>b,__spreadArray:()=>I,__spreadArrays:()=>_,__values:()=>v,default:()=>F});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var s=function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},s.apply(this,arguments)};function o(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function a(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function c(e,t){return function(n,r){t(n,r,e)}}function u(e,t,n,r,i,s){function o(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var a,c=r.kind,u="getter"===c?"get":"setter"===c?"set":"value",l=!t&&e?r.static?e:e.prototype:null,h=t||(l?Object.getOwnPropertyDescriptor(l,r.name):{}),d=!1,f=n.length-1;f>=0;f--){var p={};for(var g in r)p[g]="access"===g?{}:r[g];for(var g in r.access)p.access[g]=r.access[g];p.addInitializer=function(e){if(d)throw new TypeError("Cannot add initializers after decoration has completed");s.push(o(e||null))};var m=(0,n[f])("accessor"===c?{get:h.get,set:h.set}:h[u],p);if("accessor"===c){if(void 0===m)continue;if(null===m||"object"!=typeof m)throw new TypeError("Object expected");(a=o(m.get))&&(h.get=a),(a=o(m.set))&&(h.set=a),(a=o(m.init))&&i.unshift(a)}else(a=o(m))&&("field"===c?i.unshift(a):h[u]=a)}l&&Object.defineProperty(l,r.name,h),d=!0}function l(e,t,n){for(var r=arguments.length>2,i=0;i<t.length;i++)n=r?t[i].call(e,n):t[i].call(e);return r?n:void 0}function h(e){return"symbol"==typeof e?e:"".concat(e)}function d(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function f(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function p(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{c(r.next(e))}catch(e){s(e)}}function a(e){try{c(r.throw(e))}catch(e){s(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}c((r=r.apply(e,t||[])).next())}))}function g(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(o=0)),o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var m=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function y(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||m(t,e,n)}function v(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function w(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,s=n.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function b(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(w(arguments[t]));return e}function _(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var s=arguments[t],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function I(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function S(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),s=[];return r={},o("next"),o("throw"),o("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function o(e,t){i[e]&&(r[e]=function(t){return new Promise((function(n,r){s.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=i[e](t)).value instanceof E?Promise.resolve(n.value.v).then(c,u):l(s[0][2],n)}catch(e){l(s[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),s.shift(),s.length&&a(s[0][0],s[0][1])}}function T(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:i?i(t):t}:i}}function x(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=v(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,i,(t=e[n](t)).done,t.value)}))}}}function C(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var D=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function A(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&m(t,e,n);return D(t,e),t}function N(e){return e&&e.__esModule?e:{default:e}}function k(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function O(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function L(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function M(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(i=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var P="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function R(e){function t(t){e.error=e.hasError?new P(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}return function n(){for(;e.stack.length;){var r=e.stack.pop();try{var i=r.dispose&&r.dispose.call(r.value);if(r.async)return Promise.resolve(i).then(n,(function(e){return t(e),n()}))}catch(e){t(e)}}if(e.hasError)throw e.error}()}const F={__extends:i,__assign:s,__rest:o,__decorate:a,__param:c,__metadata:f,__awaiter:p,__generator:g,__createBinding:m,__exportStar:y,__values:v,__read:w,__spread:b,__spreadArrays:_,__spreadArray:I,__await:E,__asyncGenerator:S,__asyncDelegator:T,__asyncValues:x,__makeTemplateObject:C,__importStar:A,__importDefault:N,__classPrivateFieldGet:k,__classPrivateFieldSet:O,__classPrivateFieldIn:L,__addDisposableResource:M,__disposeResources:R}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n(156)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dzRGLEVBQ0gsT0FBT0EsRUFBYTU4RixRQUdyQixJQUFJaW9GLEVBQVN3VSxFQUF5QkUsR0FBWSxDQUdqRDM4RixRQUFTLENBQUMsR0FPWCxPQUhBNjhGLEVBQW9CRixHQUFVbDVGLEtBQUt3a0YsRUFBT2pvRixRQUFTaW9GLEVBQVFBLEVBQU9qb0YsUUFBUzA4RixHQUdwRXpVLEVBQU9qb0YsT0FDZixDQ3JCQTA4RixFQUFvQnJhLEVBQUksQ0FBQ3JpRixFQUFTODhGLEtBQ2pDLElBQUksSUFBSTUrRSxLQUFPNCtFLEVBQ1hKLEVBQW9CL2xGLEVBQUVtbUYsRUFBWTUrRSxLQUFTdytFLEVBQW9CL2xGLEVBQUUzVyxFQUFTa2UsSUFDNUV0ZSxPQUFPRyxlQUFlQyxFQUFTa2UsRUFBSyxDQUFFMVksWUFBWSxFQUFNSCxJQUFLeTNGLEVBQVc1K0UsSUFFMUUsRUNORHcrRSxFQUFvQmo4RSxFQUFJLFdBQ3ZCLEdBQTBCLGlCQUFmMm5FLFdBQXlCLE9BQU9BLFdBQzNDLElBQ0MsT0FBTzFuRixNQUFRLElBQUk2bkYsU0FBUyxjQUFiLEVBQ2hCLENBQUUsTUFBT2htRixHQUNSLEdBQXNCLGlCQUFYMGUsT0FBcUIsT0FBT0EsTUFDeEMsQ0FDQSxDQVB1QixHQ0F4Qnk3RSxFQUFvQi9sRixFQUFJLENBQUN4UyxFQUFLZzZFLElBQVV2K0UsT0FBT2UsVUFBVWltQixlQUFlbmpCLEtBQUtVLEVBQUtnNkUsR0NDbEZ1ZSxFQUFvQmhtRixFQUFLMVcsSUFDSCxvQkFBWHdxQixRQUEwQkEsT0FBT3V5RSxhQUMxQ245RixPQUFPRyxlQUFlQyxFQUFTd3FCLE9BQU91eUUsWUFBYSxDQUFFdi9GLE1BQU8sV0FFN0RvQyxPQUFPRyxlQUFlQyxFQUFTLGFBQWMsQ0FBRXhDLE9BQU8sR0FBTyxFQ0ZwQ2svRixFQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL3dlZGRpbmctc2l0ZS8uL3NyYy9pbmRleC50cyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9hcHAvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvY29tcG9uZW50L2Rpc3QvaW5kZXguY2pzLmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL2ZpcmVzdG9yZS9kaXN0L2luZGV4LmNqcy5qcyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS9sb2dnZXIvZGlzdC9pbmRleC5janMuanMiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2UvdXRpbC9kaXN0L2luZGV4LmNqcy5qcyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BmaXJlYmFzZS93ZWJjaGFubmVsLXdyYXBwZXIvZGlzdC9ibG9vbS1ibG9iL2Jsb29tX2Jsb2JfZXMyMDE4LmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3dlYmNoYW5uZWwtd3JhcHBlci9kaXN0L3dlYmNoYW5uZWwtYmxvYi93ZWJjaGFubmVsX2Jsb2JfZXMyMDE4LmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlyZWJhc2UvYXBwL2Rpc3QvaW5kZXguY2pzLmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvZmlyZWJhc2UvZmlyZXN0b3JlL2Rpc3QvaW5kZXguY2pzLmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaWRiL2J1aWxkL3dyYXAtaWRiLXZhbHVlLmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvaWRiL2J1aWxkL2luZGV4LmpzIiwid2VicGFjazovL3dlZGRpbmctc2l0ZS8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2Lm1qcyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vd2VkZGluZy1zaXRlL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvd2VicGFjay9ydW50aW1lL21ha2UgbmFtZXNwYWNlIG9iamVjdCIsIndlYnBhY2s6Ly93ZWRkaW5nLXNpdGUvd2VicGFjay9zdGFydHVwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGluaXRpYWxpemVBcHAgfSBmcm9tIFwiZmlyZWJhc2UvYXBwXCI7XHJcbmltcG9ydCB7IGdldEZpcmVzdG9yZSwgZG9jLCBzZXREb2MsIGdldERvYywgY29sbGVjdGlvbiwgb25TbmFwc2hvdCwgRG9jdW1lbnREYXRhLCBEb2N1bWVudFNuYXBzaG90LCBRdWVyeVNuYXBzaG90LCB1cGRhdGVEb2MgfSBmcm9tIFwiZmlyZWJhc2UvZmlyZXN0b3JlXCI7XHJcbmltcG9ydCBcIi4vc3R5bGVzL2luZGV4LmNzc1wiO1xyXG5cclxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XHJcbiAgICBhcGlLZXk6IFwiQUl6YVN5QnJETmJ5QnBtUm9VU0NUSS1ucEZtMVlJb2R6UU5qSW9BXCIsXHJcbiAgICBhdXRoRG9tYWluOiBcIndlZGRpbmctc2l0ZS1jMWZiMC5maXJlYmFzZWFwcC5jb21cIixcclxuICAgIHByb2plY3RJZDogXCJ3ZWRkaW5nLXNpdGUtYzFmYjBcIixcclxuICAgIHN0b3JhZ2VCdWNrZXQ6IFwid2VkZGluZy1zaXRlLWMxZmIwLmFwcHNwb3QuY29tXCIsXHJcbiAgICBtZXNzYWdpbmdTZW5kZXJJZDogXCI1MTQ4MDgzNDk4MDVcIixcclxuICAgIGFwcElkOiBcIjE6NTE0ODA4MzQ5ODA1OndlYjo1OWRlZmVhZDY5ZDdkYTRlNWFlYjY0XCIsXHJcbiAgICBtZWFzdXJlbWVudElkOiBcIkctNEhNN043MkRGNFwiXHJcbn07XHJcblxyXG4vLyBJbml0aWFsaXplIEZpcmViYXNlXHJcbmNvbnN0IGFwcCA9IGluaXRpYWxpemVBcHAoZmlyZWJhc2VDb25maWcpO1xyXG5jb25zdCBkYiA9IGdldEZpcmVzdG9yZShhcHApO1xyXG5cclxuLy8gRHJpbmsgZGF0YVxyXG5jb25zdCBjb2NrdGFpbHNEYXRhOiBzdHJpbmdbXSA9IFsn0JzQvtGF0LjRgtC+JywgJ9CR0LDQt9C40LvQuNC60L7QstGL0Lkg0YHQvNGN0YgnLCAn0JDQv9C10YDQvtC70YwnLCAn0JzQsNGA0LPQsNGA0LjRgtCwJywgJ9Cf0LjQvdCwLdC60L7Qu9Cw0LTQsCcsICfQmtC+0YHQvNC+0L/QvtC70LjRgtC10L0nXTtcclxuY29uc3QgbHV4dXJ5RGF0YTogc3RyaW5nW10gPSBbJ9CS0L7QtNC60LAnLCAn0JLQuNGB0LrQuCcsICfQktC40L3QvicsICfQkNCx0YHQtdC90YInLCAn0KDQvtC8J107XHJcbmNvbnN0IGJlZXJEYXRhOiBzdHJpbmdbXSA9IFsn0JrQvtGA0L7QvdCwJywgJ0d1aW5lc3MnLCAnUGF1bGFuZXInLCAnUGlsc25lciddO1xyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGFzeW5jICgpID0+IHtcclxuICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnaGFzVm90ZWQnKSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc3VsdHMnKT8uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1cnZleS1mb3JtLWlkJyk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VydmV5LWJ1dHRvbicpIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgICAgIGF3YWl0IGluaXRpYWxpemVSZXN1bHRzKCk7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gYWRkR3Vlc3QoZnVsbE5hbWU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBndWVzdFJlZiA9IGRvYyhkYiwgXCJndWVzdHNcIiwgYCR7ZnVsbE5hbWV9YCk7XHJcbiAgICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhndWVzdFJlZik7XHJcblxyXG4gICAgICAgIGlmICghZG9jU25hcC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICBhd2FpdCBzZXREb2MoZ3Vlc3RSZWYsIHsgZnVsbE5hbWUgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBHdWVzdCAke2Z1bGxOYW1lfSBhZGRlZGApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBHdWVzdCAke2Z1bGxOYW1lfSBhbHJlYWR5IGV4aXN0c2ApO1xyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyBndWVzdDpcIiwgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVHdWVzdExpc3RJbkhUTUwoZ3Vlc3Q6IHsgZnVsbE5hbWU6IHN0cmluZyB9KTogdm9pZCB7XHJcbiAgICBjb25zdCBndWVzdExpc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImd1ZXN0TGlzdFwiKTtcclxuICAgIGlmICghZ3Vlc3RMaXN0KSByZXR1cm47XHJcblxyXG4gICAgY29uc3Qgcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgIGNvbnN0IG5hbWVDZWxsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO1xyXG4gICAgbmFtZUNlbGwudGV4dENvbnRlbnQgPSBndWVzdC5mdWxsTmFtZTtcclxuICAgIHJvdy5hcHBlbmRDaGlsZChuYW1lQ2VsbCk7XHJcblxyXG4gICAgZ3Vlc3RMaXN0LmFwcGVuZENoaWxkKHJvdyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRpYWxpemVHdWVzdExpc3QoKTogdm9pZCB7XHJcbiAgICBjb25zdCBndWVzdHNDb2xsZWN0aW9uID0gY29sbGVjdGlvbihkYiwgXCJndWVzdHNcIik7XHJcblxyXG4gICAgb25TbmFwc2hvdChndWVzdHNDb2xsZWN0aW9uLCAoc25hcHNob3Q6IFF1ZXJ5U25hcHNob3Q8RG9jdW1lbnREYXRhPikgPT4ge1xyXG4gICAgICAgIGNvbnN0IGd1ZXN0TGlzdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ3Vlc3RMaXN0XCIpO1xyXG4gICAgICAgIGlmICghZ3Vlc3RMaXN0KSByZXR1cm47XHJcblxyXG4gICAgICAgIGd1ZXN0TGlzdC5pbm5lckhUTUwgPSBcIlwiO1xyXG5cclxuICAgICAgICBzbmFwc2hvdC5mb3JFYWNoKChkb2M6IERvY3VtZW50U25hcHNob3Q8RG9jdW1lbnREYXRhPikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBndWVzdCA9IGRvYy5kYXRhKCkgYXMgeyBmdWxsTmFtZTogc3RyaW5nIH07XHJcbiAgICAgICAgICAgIHVwZGF0ZUd1ZXN0TGlzdEluSFRNTChndWVzdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRHdWVzdEJ0blwiKT8uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IGZ1bGxOYW1lID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZnVsbE5hbWVcIikgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XHJcblxyXG4gICAgaWYgKGZ1bGxOYW1lKSB7XHJcbiAgICAgICAgYXdhaXQgYWRkR3Vlc3QoZnVsbE5hbWUpO1xyXG4gICAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZ1bGxOYW1lXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlID0gXCJcIjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgYWxlcnQoXCLQn9C+0LbQsNC70YPQudGB0YLQsCwg0LLQstC10LTQuNGC0LUg0YTQsNC80LjQu9C40Y4g0Lgg0LjQvNGPINCz0L7RgdGC0Y9cIik7XHJcbiAgICB9XHJcbn0pO1xyXG5cclxuaW5pdGlhbGl6ZUd1ZXN0TGlzdCgpO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlUmVzdWx0SW5IVE1MKGRyaW5rOiBzdHJpbmcsIGNvdW50OiBudW1iZXIpOiB2b2lkIHtcclxuICAgIGNvbnN0IGNvdW50RWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2RyaW5rLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXFxzKy9nLCAnLScpfS1jb3VudGApO1xyXG4gICAgaWYgKGNvdW50RWxlbWVudCkge1xyXG4gICAgICAgIGNvdW50RWxlbWVudC5pbm5lclRleHQgPSBgJHtjb3VudH0g0YfQtdC70L7QstC10LpgO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplRmlyZXN0b3JlRGF0YSgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGNvbnN0IGNhdGVnb3JpZXMgPSB7XHJcbiAgICAgICAgY29ja3RhaWxzOiBjb2NrdGFpbHNEYXRhLFxyXG4gICAgICAgIGx1eHVyeTogbHV4dXJ5RGF0YSxcclxuICAgICAgICBiZWVyOiBiZWVyRGF0YSxcclxuICAgIH07XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtjYXRlZ29yeSwgZHJpbmtzXSBvZiBPYmplY3QuZW50cmllcyhjYXRlZ29yaWVzKSkge1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGRyaW5rIG9mIGRyaW5rcykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZHJpbmtSZWYgPSBkb2MoZGIsIGNhdGVnb3J5LCBkcmluay5yZXBsYWNlKC9cXHMrL2csICdfJykpO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkcmlua1JlZik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCFkb2NTbmFwLmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2V0RG9jKGRyaW5rUmVmLCB7IGNvdW50OiAwIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdGaXJlc3RvcmUgZGF0YSBpbml0aWFsaXplZCcpO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbml0aWFsaXppbmcgRmlyZXN0b3JlIGRhdGE6JywgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiB1cGRhdGVEcmlua0NvdW50KGRyaW5rOiBzdHJpbmcsIGNhdGVnb3J5OiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZHJpbmtSZWYgPSBkb2MoZGIsIGNhdGVnb3J5LCBkcmluay5yZXBsYWNlKC9cXHMrL2csICdfJykpO1xyXG4gICAgICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZHJpbmtSZWYpO1xyXG5cclxuICAgICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Q291bnQgPSBkb2NTbmFwLmRhdGEoKT8uY291bnQgfHwgMDtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlRG9jKGRyaW5rUmVmLCB7IGNvdW50OiBjdXJyZW50Q291bnQgKyAxIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCAke2RyaW5rfSBpbiAke2NhdGVnb3J5fTogbmV3IGNvdW50ICR7Y3VycmVudENvdW50ICsgMX1gKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBhd2FpdCBzZXREb2MoZHJpbmtSZWYsIHsgY291bnQ6IDEgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBTZXQgJHtkcmlua30gaW4gJHtjYXRlZ29yeX06IG5ldyBjb3VudCAxYCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0L/RgNC4INC+0LHQvdC+0LLQu9C10L3QuNC4INC60L7Qu9C40YfQtdGB0YLQstCwINCz0L7Qu9C+0YHQvtCyOicsIGVycm9yKTtcclxuICAgIH1cclxufVxyXG5cclxuYXN5bmMgZnVuY3Rpb24gaW5pdGlhbGl6ZVJlc3VsdHMoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNhdGVnb3JpZXM6IHN0cmluZ1tdID0gWydjb2NrdGFpbHMnLCAnbHV4dXJ5JywgJ2JlZXInXTtcclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBjYXRlZ29yeSBvZiBjYXRlZ29yaWVzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRyaW5rcyA9IGNhdGVnb3J5ID09PSAnY29ja3RhaWxzJyA/IGNvY2t0YWlsc0RhdGEgOlxyXG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkgPT09ICdsdXh1cnknID8gbHV4dXJ5RGF0YSA6XHJcbiAgICAgICAgICAgICAgICBjYXRlZ29yeSA9PT0gJ2JlZXInID8gYmVlckRhdGEgOiBbXTtcclxuXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZHJpbmsgb2YgZHJpbmtzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkcmlua1JlZiA9IGRvYyhkYiwgY2F0ZWdvcnksIGRyaW5rLnJlcGxhY2UoL1xccysvZywgJ18nKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRyaW5rUmVmKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvdW50ID0gZG9jU25hcC5kYXRhKCk/LmNvdW50IHx8IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZHJpbmsudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMrL2csICctJyl9LWNvdW50YCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50RWxlbWVudCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudEVsZW1lbnQuaW5uZXJUZXh0ID0gYCR7Y291bnR9INGH0LXQu9C+0LLQtdC6YDtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ9Ce0YjQuNCx0LrQsCDQv9C+0LvRg9GH0LXQvdC40Y8g0YDQtdC30YPQu9GM0YLQsNGC0L7QsiDQvtC/0YDQvtGB0LA6JywgZXJyb3IpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBzdXJ2ZXlGb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1cnZleS1mb3JtJyk7XHJcblxyXG5zdXJ2ZXlGb3JtPy5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBhc3luYyAoZXZlbnQpID0+IHtcclxuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YShldmVudC50YXJnZXQgYXMgSFRNTEZvcm1FbGVtZW50KTtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IGNvY2t0YWlsRHJpbmtzID0gZm9ybURhdGEuZ2V0QWxsKCdjb2NrdGFpbCcpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJpbmsgb2YgY29ja3RhaWxEcmlua3MpIHtcclxuICAgICAgICAgICAgYXdhaXQgdXBkYXRlRHJpbmtDb3VudChkcmluay50b1N0cmluZygpLCAnY29ja3RhaWxzJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBsdXh1cnlEcmlua3MgPSBmb3JtRGF0YS5nZXRBbGwoJ2x1eHVyeScpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJpbmsgb2YgbHV4dXJ5RHJpbmtzKSB7XHJcbiAgICAgICAgICAgIGF3YWl0IHVwZGF0ZURyaW5rQ291bnQoZHJpbmsudG9TdHJpbmcoKSwgJ2x1eHVyeScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYmVlckRyaW5rcyA9IGZvcm1EYXRhLmdldEFsbCgnYmVlcicpO1xyXG4gICAgICAgIGZvciAoY29uc3QgZHJpbmsgb2YgYmVlckRyaW5rcykge1xyXG4gICAgICAgICAgICBhd2FpdCB1cGRhdGVEcmlua0NvdW50KGRyaW5rLnRvU3RyaW5nKCksICdiZWVyJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnaGFzVm90ZWQnLCAndHJ1ZScpO1xyXG4gICAgICAgIGluaXRpYWxpemVSZXN1bHRzKCk7XHJcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N1cnZleS1mb3JtLWlkJyk/LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN1bHRzJyk/LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xyXG4gICAgICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3VydmV5LWJ1dHRvbicpIGFzIEhUTUxFbGVtZW50KS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCfQntGI0LjQsdC60LAg0L/RgNC4INC+0LHQvdC+0LLQu9C10L3QuNC4INC60L7Qu9C40YfQtdGB0YLQstCwINCz0L7Qu9C+0YHQvtCyOicsIGVycm9yKTtcclxuICAgIH1cclxufSk7XHJcblxyXG5jb25zdCBjYXRlZ29yaWVzID0gWydjb2NrdGFpbHMnLCAnbHV4dXJ5JywgJ2JlZXInXTtcclxuXHJcbmNhdGVnb3JpZXMuZm9yRWFjaChjYXRlZ29yeSA9PiB7XHJcbiAgICBjb25zdCBkcmlua3MgPSBjYXRlZ29yeSA9PT0gJ2NvY2t0YWlscycgPyBjb2NrdGFpbHNEYXRhIDpcclxuICAgICAgICBjYXRlZ29yeSA9PT0gJ2x1eHVyeScgPyBsdXh1cnlEYXRhIDpcclxuICAgICAgICBjYXRlZ29yeSA9PT0gJ2JlZXInID8gYmVlckRhdGEgOiBbXTtcclxuXHJcbiAgICBkcmlua3MuZm9yRWFjaCgoZHJpbmspID0+IHtcclxuICAgICAgICBjb25zdCBkcmlua1JlZiA9IGRvYyhkYiwgY2F0ZWdvcnksIGRyaW5rLnJlcGxhY2UoL1xccysvZywgJ18nKSk7XHJcbiAgICAgICAgb25TbmFwc2hvdChkcmlua1JlZiwgKGRvY1NuYXBzaG90OiBEb2N1bWVudFNuYXBzaG90PERvY3VtZW50RGF0YT4pID0+IHtcclxuICAgICAgICAgICAgaWYgKGRvY1NuYXBzaG90LmV4aXN0cygpKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBjb3VudCA9IGRvY1NuYXBzaG90LmRhdGEoKT8uY291bnQgfHwgMDtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZVJlc3VsdEluSFRNTChkcmluaywgY291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5cclxuaW5pdGlhbGl6ZUZpcmVzdG9yZURhdGEoKTtcclxuaW5pdGlhbGl6ZVJlc3VsdHMoKTsiLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBjb21wb25lbnQgPSByZXF1aXJlKCdAZmlyZWJhc2UvY29tcG9uZW50Jyk7XG52YXIgdHNsaWIgPSByZXF1aXJlKCd0c2xpYicpO1xudmFyIGxvZ2dlciQxID0gcmVxdWlyZSgnQGZpcmViYXNlL2xvZ2dlcicpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdAZmlyZWJhc2UvdXRpbCcpO1xudmFyIGlkYiA9IHJlcXVpcmUoJ2lkYicpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIFBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwoY29udGFpbmVyKSB7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICB9XHJcbiAgICAvLyBJbiBpbml0aWFsIGltcGxlbWVudGF0aW9uLCB0aGlzIHdpbGwgYmUgY2FsbGVkIGJ5IGluc3RhbGxhdGlvbnMgb25cclxuICAgIC8vIGF1dGggdG9rZW4gcmVmcmVzaCwgYW5kIGluc3RhbGxhdGlvbnMgd2lsbCBzZW5kIHRoaXMgc3RyaW5nLlxyXG4gICAgUGxhdGZvcm1Mb2dnZXJTZXJ2aWNlSW1wbC5wcm90b3R5cGUuZ2V0UGxhdGZvcm1JbmZvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwcm92aWRlcnMgPSB0aGlzLmNvbnRhaW5lci5nZXRQcm92aWRlcnMoKTtcclxuICAgICAgICAvLyBMb29wIHRocm91Z2ggcHJvdmlkZXJzIGFuZCBnZXQgbGlicmFyeS92ZXJzaW9uIHBhaXJzIGZyb20gYW55IHRoYXQgYXJlXHJcbiAgICAgICAgLy8gdmVyc2lvbiBjb21wb25lbnRzLlxyXG4gICAgICAgIHJldHVybiBwcm92aWRlcnNcclxuICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAocHJvdmlkZXIpIHtcclxuICAgICAgICAgICAgaWYgKGlzVmVyc2lvblNlcnZpY2VQcm92aWRlcihwcm92aWRlcikpIHtcclxuICAgICAgICAgICAgICAgIHZhciBzZXJ2aWNlID0gcHJvdmlkZXIuZ2V0SW1tZWRpYXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJcIi5jb25jYXQoc2VydmljZS5saWJyYXJ5LCBcIi9cIikuY29uY2F0KHNlcnZpY2UudmVyc2lvbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGxvZ1N0cmluZykgeyByZXR1cm4gbG9nU3RyaW5nOyB9KVxyXG4gICAgICAgICAgICAuam9pbignICcpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsO1xyXG59KCkpO1xyXG4vKipcclxuICpcclxuICogQHBhcmFtIHByb3ZpZGVyIGNoZWNrIGlmIHRoaXMgcHJvdmlkZXIgcHJvdmlkZXMgYSBWZXJzaW9uU2VydmljZVxyXG4gKlxyXG4gKiBOT1RFOiBVc2luZyBQcm92aWRlcjwnYXBwLXZlcnNpb24nPiBpcyBhIGhhY2sgdG8gaW5kaWNhdGUgdGhhdCB0aGUgcHJvdmlkZXJcclxuICogcHJvdmlkZXMgVmVyc2lvblNlcnZpY2UuIFRoZSBwcm92aWRlciBpcyBub3QgbmVjZXNzYXJpbHkgYSAnYXBwLXZlcnNpb24nXHJcbiAqIHByb3ZpZGVyLlxyXG4gKi9cclxuZnVuY3Rpb24gaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyKHByb3ZpZGVyKSB7XHJcbiAgICB2YXIgY29tcG9uZW50ID0gcHJvdmlkZXIuZ2V0Q29tcG9uZW50KCk7XHJcbiAgICByZXR1cm4gKGNvbXBvbmVudCA9PT0gbnVsbCB8fCBjb21wb25lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbXBvbmVudC50eXBlKSA9PT0gXCJWRVJTSU9OXCIgLyogQ29tcG9uZW50VHlwZS5WRVJTSU9OICovO1xyXG59XG5cbnZhciBuYW1lJHAgPSBcIkBmaXJlYmFzZS9hcHBcIjtcbnZhciB2ZXJzaW9uJDEgPSBcIjAuMTAuNlwiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgbG9nZ2VyID0gbmV3IGxvZ2dlciQxLkxvZ2dlcignQGZpcmViYXNlL2FwcCcpO1xuXG52YXIgbmFtZSRvID0gXCJAZmlyZWJhc2UvYXBwLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRuID0gXCJAZmlyZWJhc2UvYW5hbHl0aWNzLWNvbXBhdFwiO1xuXG52YXIgbmFtZSRtID0gXCJAZmlyZWJhc2UvYW5hbHl0aWNzXCI7XG5cbnZhciBuYW1lJGwgPSBcIkBmaXJlYmFzZS9hcHAtY2hlY2stY29tcGF0XCI7XG5cbnZhciBuYW1lJGsgPSBcIkBmaXJlYmFzZS9hcHAtY2hlY2tcIjtcblxudmFyIG5hbWUkaiA9IFwiQGZpcmViYXNlL2F1dGhcIjtcblxudmFyIG5hbWUkaSA9IFwiQGZpcmViYXNlL2F1dGgtY29tcGF0XCI7XG5cbnZhciBuYW1lJGggPSBcIkBmaXJlYmFzZS9kYXRhYmFzZVwiO1xuXG52YXIgbmFtZSRnID0gXCJAZmlyZWJhc2UvZGF0YWJhc2UtY29tcGF0XCI7XG5cbnZhciBuYW1lJGYgPSBcIkBmaXJlYmFzZS9mdW5jdGlvbnNcIjtcblxudmFyIG5hbWUkZSA9IFwiQGZpcmViYXNlL2Z1bmN0aW9ucy1jb21wYXRcIjtcblxudmFyIG5hbWUkZCA9IFwiQGZpcmViYXNlL2luc3RhbGxhdGlvbnNcIjtcblxudmFyIG5hbWUkYyA9IFwiQGZpcmViYXNlL2luc3RhbGxhdGlvbnMtY29tcGF0XCI7XG5cbnZhciBuYW1lJGIgPSBcIkBmaXJlYmFzZS9tZXNzYWdpbmdcIjtcblxudmFyIG5hbWUkYSA9IFwiQGZpcmViYXNlL21lc3NhZ2luZy1jb21wYXRcIjtcblxudmFyIG5hbWUkOSA9IFwiQGZpcmViYXNlL3BlcmZvcm1hbmNlXCI7XG5cbnZhciBuYW1lJDggPSBcIkBmaXJlYmFzZS9wZXJmb3JtYW5jZS1jb21wYXRcIjtcblxudmFyIG5hbWUkNyA9IFwiQGZpcmViYXNlL3JlbW90ZS1jb25maWdcIjtcblxudmFyIG5hbWUkNiA9IFwiQGZpcmViYXNlL3JlbW90ZS1jb25maWctY29tcGF0XCI7XG5cbnZhciBuYW1lJDUgPSBcIkBmaXJlYmFzZS9zdG9yYWdlXCI7XG5cbnZhciBuYW1lJDQgPSBcIkBmaXJlYmFzZS9zdG9yYWdlLWNvbXBhdFwiO1xuXG52YXIgbmFtZSQzID0gXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5cbnZhciBuYW1lJDIgPSBcIkBmaXJlYmFzZS92ZXJ0ZXhhaS1wcmV2aWV3XCI7XG5cbnZhciBuYW1lJDEgPSBcIkBmaXJlYmFzZS9maXJlc3RvcmUtY29tcGF0XCI7XG5cbnZhciBuYW1lID0gXCJmaXJlYmFzZVwiO1xudmFyIHZlcnNpb24gPSBcIjEwLjEyLjNcIjtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIF9hJDE7XHJcbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBhcHAgbmFtZVxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbnZhciBERUZBVUxUX0VOVFJZX05BTUUgPSAnW0RFRkFVTFRdJztcclxudmFyIFBMQVRGT1JNX0xPR19TVFJJTkcgPSAoX2EkMSA9IHt9LFxyXG4gICAgX2EkMVtuYW1lJHBdID0gJ2ZpcmUtY29yZScsXHJcbiAgICBfYSQxW25hbWUkb10gPSAnZmlyZS1jb3JlLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkbV0gPSAnZmlyZS1hbmFseXRpY3MnLFxyXG4gICAgX2EkMVtuYW1lJG5dID0gJ2ZpcmUtYW5hbHl0aWNzLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUka10gPSAnZmlyZS1hcHAtY2hlY2snLFxyXG4gICAgX2EkMVtuYW1lJGxdID0gJ2ZpcmUtYXBwLWNoZWNrLWNvbXBhdCcsXHJcbiAgICBfYSQxW25hbWUkal0gPSAnZmlyZS1hdXRoJyxcclxuICAgIF9hJDFbbmFtZSRpXSA9ICdmaXJlLWF1dGgtY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSRoXSA9ICdmaXJlLXJ0ZGInLFxyXG4gICAgX2EkMVtuYW1lJGddID0gJ2ZpcmUtcnRkYi1jb21wYXQnLFxyXG4gICAgX2EkMVtuYW1lJGZdID0gJ2ZpcmUtZm4nLFxyXG4gICAgX2EkMVtuYW1lJGVdID0gJ2ZpcmUtZm4tY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSRkXSA9ICdmaXJlLWlpZCcsXHJcbiAgICBfYSQxW25hbWUkY10gPSAnZmlyZS1paWQtY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSRiXSA9ICdmaXJlLWZjbScsXHJcbiAgICBfYSQxW25hbWUkYV0gPSAnZmlyZS1mY20tY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSQ5XSA9ICdmaXJlLXBlcmYnLFxyXG4gICAgX2EkMVtuYW1lJDhdID0gJ2ZpcmUtcGVyZi1jb21wYXQnLFxyXG4gICAgX2EkMVtuYW1lJDddID0gJ2ZpcmUtcmMnLFxyXG4gICAgX2EkMVtuYW1lJDZdID0gJ2ZpcmUtcmMtY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSQ1XSA9ICdmaXJlLWdjcycsXHJcbiAgICBfYSQxW25hbWUkNF0gPSAnZmlyZS1nY3MtY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSQzXSA9ICdmaXJlLWZzdCcsXHJcbiAgICBfYSQxW25hbWUkMV0gPSAnZmlyZS1mc3QtY29tcGF0JyxcclxuICAgIF9hJDFbbmFtZSQyXSA9ICdmaXJlLXZlcnRleCcsXHJcbiAgICBfYSQxWydmaXJlLWpzJ10gPSAnZmlyZS1qcycsXHJcbiAgICBfYSQxW25hbWVdID0gJ2ZpcmUtanMtYWxsJyxcclxuICAgIF9hJDEpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGludGVybmFsXHJcbiAqL1xyXG52YXIgX2FwcHMgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbnZhciBfc2VydmVyQXBwcyA9IG5ldyBNYXAoKTtcclxuLyoqXHJcbiAqIFJlZ2lzdGVyZWQgY29tcG9uZW50cy5cclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxyXG52YXIgX2NvbXBvbmVudHMgPSBuZXcgTWFwKCk7XHJcbi8qKlxyXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIGNvbXBvbmVudCBiZWluZyBhZGRlZCB0byB0aGlzIGFwcCdzIGNvbnRhaW5lclxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9hZGRDb21wb25lbnQoYXBwLCBjb21wb25lbnQpIHtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXBwLmNvbnRhaW5lci5hZGRDb21wb25lbnQoY29tcG9uZW50KTtcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgbG9nZ2VyLmRlYnVnKFwiQ29tcG9uZW50IFwiLmNvbmNhdChjb21wb25lbnQubmFtZSwgXCIgZmFpbGVkIHRvIHJlZ2lzdGVyIHdpdGggRmlyZWJhc2VBcHAgXCIpLmNvbmNhdChhcHAubmFtZSksIGUpO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChhcHAsIGNvbXBvbmVudCkge1xyXG4gICAgYXBwLmNvbnRhaW5lci5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudChjb21wb25lbnQpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gY29tcG9uZW50IC0gdGhlIGNvbXBvbmVudCB0byByZWdpc3RlclxyXG4gKiBAcmV0dXJucyB3aGV0aGVyIG9yIG5vdCB0aGUgY29tcG9uZW50IGlzIHJlZ2lzdGVyZWQgc3VjY2Vzc2Z1bGx5XHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX3JlZ2lzdGVyQ29tcG9uZW50KGNvbXBvbmVudCkge1xyXG4gICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XHJcbiAgICB2YXIgY29tcG9uZW50TmFtZSA9IGNvbXBvbmVudC5uYW1lO1xyXG4gICAgaWYgKF9jb21wb25lbnRzLmhhcyhjb21wb25lbnROYW1lKSkge1xyXG4gICAgICAgIGxvZ2dlci5kZWJ1ZyhcIlRoZXJlIHdlcmUgbXVsdGlwbGUgYXR0ZW1wdHMgdG8gcmVnaXN0ZXIgY29tcG9uZW50IFwiLmNvbmNhdChjb21wb25lbnROYW1lLCBcIi5cIikpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIF9jb21wb25lbnRzLnNldChjb21wb25lbnROYW1lLCBjb21wb25lbnQpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICAvLyBhZGQgdGhlIGNvbXBvbmVudCB0byBleGlzdGluZyBhcHAgaW5zdGFuY2VzXHJcbiAgICAgICAgZm9yICh2YXIgX2MgPSB0c2xpYi5fX3ZhbHVlcyhfYXBwcy52YWx1ZXMoKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgdmFyIGFwcCA9IF9kLnZhbHVlO1xyXG4gICAgICAgICAgICBfYWRkQ29tcG9uZW50KGFwcCwgY29tcG9uZW50KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKF9kICYmICFfZC5kb25lICYmIChfYSA9IF9jLnJldHVybikpIF9hLmNhbGwoX2MpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIF9lID0gdHNsaWIuX192YWx1ZXMoX3NlcnZlckFwcHMudmFsdWVzKCkpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2ZXJBcHAgPSBfZi52YWx1ZTtcclxuICAgICAgICAgICAgX2FkZENvbXBvbmVudChzZXJ2ZXJBcHAsIGNvbXBvbmVudCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfZiAmJiAhX2YuZG9uZSAmJiAoX2IgPSBfZS5yZXR1cm4pKSBfYi5jYWxsKF9lKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBhcHAgLSBGaXJlYmFzZUFwcCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gbmFtZSAtIHNlcnZpY2UgbmFtZVxyXG4gKlxyXG4gKiBAcmV0dXJucyB0aGUgcHJvdmlkZXIgZm9yIHRoZSBzZXJ2aWNlIHdpdGggdGhlIG1hdGNoaW5nIG5hbWVcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfZ2V0UHJvdmlkZXIoYXBwLCBuYW1lKSB7XHJcbiAgICB2YXIgaGVhcnRiZWF0Q29udHJvbGxlciA9IGFwcC5jb250YWluZXJcclxuICAgICAgICAuZ2V0UHJvdmlkZXIoJ2hlYXJ0YmVhdCcpXHJcbiAgICAgICAgLmdldEltbWVkaWF0ZSh7IG9wdGlvbmFsOiB0cnVlIH0pO1xyXG4gICAgaWYgKGhlYXJ0YmVhdENvbnRyb2xsZXIpIHtcclxuICAgICAgICB2b2lkIGhlYXJ0YmVhdENvbnRyb2xsZXIudHJpZ2dlckhlYXJ0YmVhdCgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFwcC5jb250YWluZXIuZ2V0UHJvdmlkZXIobmFtZSk7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBhcHAgLSBGaXJlYmFzZUFwcCBpbnN0YW5jZVxyXG4gKiBAcGFyYW0gbmFtZSAtIHNlcnZpY2UgbmFtZVxyXG4gKiBAcGFyYW0gaW5zdGFuY2VJZGVudGlmaWVyIC0gc2VydmljZSBpbnN0YW5jZSBpZGVudGlmaWVyIGluIGNhc2UgdGhlIHNlcnZpY2Ugc3VwcG9ydHMgbXVsdGlwbGUgaW5zdGFuY2VzXHJcbiAqXHJcbiAqIEBpbnRlcm5hbFxyXG4gKi9cclxuZnVuY3Rpb24gX3JlbW92ZVNlcnZpY2VJbnN0YW5jZShhcHAsIG5hbWUsIGluc3RhbmNlSWRlbnRpZmllcikge1xyXG4gICAgaWYgKGluc3RhbmNlSWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGluc3RhbmNlSWRlbnRpZmllciA9IERFRkFVTFRfRU5UUllfTkFNRTsgfVxyXG4gICAgX2dldFByb3ZpZGVyKGFwcCwgbmFtZSkuY2xlYXJJbnN0YW5jZShpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBAcGFyYW0gb2JqIC0gYW4gb2JqZWN0IG9mIHR5cGUgRmlyZWJhc2VBcHAgb3IgRmlyZWJhc2VPcHRpb25zLlxyXG4gKlxyXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlIG9iamVjdCBpcyBvZiB0eXBlIEZpcmViYXNlQXBwLlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9pc0ZpcmViYXNlQXBwKG9iaikge1xyXG4gICAgcmV0dXJuIG9iai5vcHRpb25zICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuLyoqXHJcbiAqXHJcbiAqIEBwYXJhbSBvYmogLSBhbiBvYmplY3Qgb2YgdHlwZSBGaXJlYmFzZUFwcC5cclxuICpcclxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgb2JqZWN0IGlzIG9mIHR5cGUgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLlxyXG4gKlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIF9pc0ZpcmViYXNlU2VydmVyQXBwKG9iaikge1xyXG4gICAgcmV0dXJuIG9iai5zZXR0aW5ncyAhPT0gdW5kZWZpbmVkO1xyXG59XHJcbi8qKlxyXG4gKiBUZXN0IG9ubHlcclxuICpcclxuICogQGludGVybmFsXHJcbiAqL1xyXG5mdW5jdGlvbiBfY2xlYXJDb21wb25lbnRzKCkge1xyXG4gICAgX2NvbXBvbmVudHMuY2xlYXIoKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgX2E7XHJcbnZhciBFUlJPUlMgPSAoX2EgPSB7fSxcclxuICAgIF9hW1wibm8tYXBwXCIgLyogQXBwRXJyb3IuTk9fQVBQICovXSA9IFwiTm8gRmlyZWJhc2UgQXBwICd7JGFwcE5hbWV9JyBoYXMgYmVlbiBjcmVhdGVkIC0gXCIgK1xyXG4gICAgICAgICdjYWxsIGluaXRpYWxpemVBcHAoKSBmaXJzdCcsXHJcbiAgICBfYVtcImJhZC1hcHAtbmFtZVwiIC8qIEFwcEVycm9yLkJBRF9BUFBfTkFNRSAqL10gPSBcIklsbGVnYWwgQXBwIG5hbWU6ICd7JGFwcE5hbWV9J1wiLFxyXG4gICAgX2FbXCJkdXBsaWNhdGUtYXBwXCIgLyogQXBwRXJyb3IuRFVQTElDQVRFX0FQUCAqL10gPSBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBleGlzdHMgd2l0aCBkaWZmZXJlbnQgb3B0aW9ucyBvciBjb25maWdcIixcclxuICAgIF9hW1wiYXBwLWRlbGV0ZWRcIiAvKiBBcHBFcnJvci5BUFBfREVMRVRFRCAqL10gPSBcIkZpcmViYXNlIEFwcCBuYW1lZCAneyRhcHBOYW1lfScgYWxyZWFkeSBkZWxldGVkXCIsXHJcbiAgICBfYVtcInNlcnZlci1hcHAtZGVsZXRlZFwiIC8qIEFwcEVycm9yLlNFUlZFUl9BUFBfREVMRVRFRCAqL10gPSAnRmlyZWJhc2UgU2VydmVyIEFwcCBoYXMgYmVlbiBkZWxldGVkJyxcclxuICAgIF9hW1wibm8tb3B0aW9uc1wiIC8qIEFwcEVycm9yLk5PX09QVElPTlMgKi9dID0gJ05lZWQgdG8gcHJvdmlkZSBvcHRpb25zLCB3aGVuIG5vdCBiZWluZyBkZXBsb3llZCB0byBob3N0aW5nIHZpYSBzb3VyY2UuJyxcclxuICAgIF9hW1wiaW52YWxpZC1hcHAtYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0FQUF9BUkdVTUVOVCAqL10gPSAnZmlyZWJhc2UueyRhcHBOYW1lfSgpIHRha2VzIGVpdGhlciBubyBhcmd1bWVudCBvciBhICcgK1xyXG4gICAgICAgICdGaXJlYmFzZSBBcHAgaW5zdGFuY2UuJyxcclxuICAgIF9hW1wiaW52YWxpZC1sb2ctYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0xPR19BUkdVTUVOVCAqL10gPSAnRmlyc3QgYXJndW1lbnQgdG8gYG9uTG9nYCBtdXN0IGJlIG51bGwgb3IgYSBmdW5jdGlvbi4nLFxyXG4gICAgX2FbXCJpZGItb3BlblwiIC8qIEFwcEVycm9yLklEQl9PUEVOICovXSA9ICdFcnJvciB0aHJvd24gd2hlbiBvcGVuaW5nIEluZGV4ZWREQi4gT3JpZ2luYWwgZXJyb3I6IHskb3JpZ2luYWxFcnJvck1lc3NhZ2V9LicsXHJcbiAgICBfYVtcImlkYi1nZXRcIiAvKiBBcHBFcnJvci5JREJfR0VUICovXSA9ICdFcnJvciB0aHJvd24gd2hlbiByZWFkaW5nIGZyb20gSW5kZXhlZERCLiBPcmlnaW5hbCBlcnJvcjogeyRvcmlnaW5hbEVycm9yTWVzc2FnZX0uJyxcclxuICAgIF9hW1wiaWRiLXNldFwiIC8qIEFwcEVycm9yLklEQl9XUklURSAqL10gPSAnRXJyb3IgdGhyb3duIHdoZW4gd3JpdGluZyB0byBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxyXG4gICAgX2FbXCJpZGItZGVsZXRlXCIgLyogQXBwRXJyb3IuSURCX0RFTEVURSAqL10gPSAnRXJyb3IgdGhyb3duIHdoZW4gZGVsZXRpbmcgZnJvbSBJbmRleGVkREIuIE9yaWdpbmFsIGVycm9yOiB7JG9yaWdpbmFsRXJyb3JNZXNzYWdlfS4nLFxyXG4gICAgX2FbXCJmaW5hbGl6YXRpb24tcmVnaXN0cnktbm90LXN1cHBvcnRlZFwiIC8qIEFwcEVycm9yLkZJTkFMSVpBVElPTl9SRUdJU1RSWV9OT1RfU1VQUE9SVEVEICovXSA9ICdGaXJlYmFzZVNlcnZlckFwcCBkZWxldGVPbkRlcmVmIGZpZWxkIGRlZmluZWQgYnV0IHRoZSBKUyBydW50aW1lIGRvZXMgbm90IHN1cHBvcnQgRmluYWxpemF0aW9uUmVnaXN0cnkuJyxcclxuICAgIF9hW1wiaW52YWxpZC1zZXJ2ZXItYXBwLWVudmlyb25tZW50XCIgLyogQXBwRXJyb3IuSU5WQUxJRF9TRVJWRVJfQVBQX0VOVklST05NRU5UICovXSA9ICdGaXJlYmFzZVNlcnZlckFwcCBpcyBub3QgZm9yIHVzZSBpbiBicm93c2VyIGVudmlyb25tZW50cy4nLFxyXG4gICAgX2EpO1xyXG52YXIgRVJST1JfRkFDVE9SWSA9IG5ldyB1dGlsLkVycm9yRmFjdG9yeSgnYXBwJywgJ0ZpcmViYXNlJywgRVJST1JTKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEZpcmViYXNlQXBwSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEZpcmViYXNlQXBwSW1wbChvcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5faXNEZWxldGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IHRzbGliLl9fYXNzaWduKHt9LCBvcHRpb25zKTtcclxuICAgICAgICB0aGlzLl9jb25maWcgPSB0c2xpYi5fX2Fzc2lnbih7fSwgY29uZmlnKTtcclxuICAgICAgICB0aGlzLl9uYW1lID0gY29uZmlnLm5hbWU7XHJcbiAgICAgICAgdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID1cclxuICAgICAgICAgICAgY29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDtcclxuICAgICAgICB0aGlzLl9jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIuYWRkQ29tcG9uZW50KG5ldyBjb21wb25lbnQuQ29tcG9uZW50KCdhcHAnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpczsgfSwgXCJQVUJMSUNcIiAvKiBDb21wb25lbnRUeXBlLlBVQkxJQyAqLykpO1xyXG4gICAgfVxyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmViYXNlQXBwSW1wbC5wcm90b3R5cGUsIFwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5jaGVja0Rlc3Ryb3llZCgpO1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgdGhpcy5fYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLCBcIm5hbWVcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9uYW1lO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLCBcIm9wdGlvbnNcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcHRpb25zO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLCBcImNvbmZpZ1wiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2hlY2tEZXN0cm95ZWQoKTtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbmZpZztcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoRmlyZWJhc2VBcHBJbXBsLnByb3RvdHlwZSwgXCJjb250YWluZXJcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY29udGFpbmVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLCBcImlzRGVsZXRlZFwiLCB7XHJcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9pc0RlbGV0ZWQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgdGhpcy5faXNEZWxldGVkID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHRocm93IGFuIEVycm9yIGlmIHRoZSBBcHAgaGFzIGFscmVhZHkgYmVlbiBkZWxldGVkIC1cclxuICAgICAqIHVzZSBiZWZvcmUgcGVyZm9ybWluZyBBUEkgYWN0aW9ucyBvbiB0aGUgQXBwLlxyXG4gICAgICovXHJcbiAgICBGaXJlYmFzZUFwcEltcGwucHJvdG90eXBlLmNoZWNrRGVzdHJveWVkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImFwcC1kZWxldGVkXCIgLyogQXBwRXJyb3IuQVBQX0RFTEVURUQgKi8sIHsgYXBwTmFtZTogdGhpcy5fbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZpcmViYXNlQXBwSW1wbDtcclxufSgpKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxudmFyIEZpcmViYXNlU2VydmVyQXBwSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIHRzbGliLl9fZXh0ZW5kcyhGaXJlYmFzZVNlcnZlckFwcEltcGwsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBGaXJlYmFzZVNlcnZlckFwcEltcGwob3B0aW9ucywgc2VydmVyQ29uZmlnLCBuYW1lLCBjb250YWluZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIC8vIEJ1aWxkIGNvbmZpZ3VyYXRpb24gcGFyYW1ldGVycyBmb3IgdGhlIEZpcmViYXNlQXBwSW1wbCBiYXNlIGNsYXNzLlxyXG4gICAgICAgIHZhciBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPSBzZXJ2ZXJDb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkICE9PSB1bmRlZmluZWRcclxuICAgICAgICAgICAgPyBzZXJ2ZXJDb25maWcuYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXHJcbiAgICAgICAgICAgIDogZmFsc2U7XHJcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBGaXJlYmFzZUFwcFNldHRpbmdzIG9iamVjdCBmb3IgdGhlIEZpcmViYXNlQXBwSW1wIGNvbnN0cnVjdG9yLlxyXG4gICAgICAgIHZhciBjb25maWcgPSB7XHJcbiAgICAgICAgICAgIG5hbWU6IG5hbWUsXHJcbiAgICAgICAgICAgIGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZDogYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkXHJcbiAgICAgICAgfTtcclxuICAgICAgICBpZiAob3B0aW9ucy5hcGlLZXkgIT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICAvLyBDb25zdHJ1Y3QgdGhlIHBhcmVudCBGaXJlYmFzZUFwcEltcCBvYmplY3QuXHJcbiAgICAgICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgb3B0aW9ucywgY29uZmlnLCBjb250YWluZXIpIHx8IHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB2YXIgYXBwSW1wbCA9IG9wdGlvbnM7XHJcbiAgICAgICAgICAgIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgYXBwSW1wbC5vcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcikgfHwgdGhpcztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gTm93IGNvbnN0cnVjdCB0aGUgZGF0YSBmb3IgdGhlIEZpcmViYXNlU2VydmVyQXBwSW1wbC5cclxuICAgICAgICBfdGhpcy5fc2VydmVyQ29uZmlnID0gdHNsaWIuX19hc3NpZ24oeyBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCB9LCBzZXJ2ZXJDb25maWcpO1xyXG4gICAgICAgIF90aGlzLl9maW5hbGl6YXRpb25SZWdpc3RyeSA9IG51bGw7XHJcbiAgICAgICAgaWYgKHR5cGVvZiBGaW5hbGl6YXRpb25SZWdpc3RyeSAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICAgICAgX3RoaXMuX2ZpbmFsaXphdGlvblJlZ2lzdHJ5ID0gbmV3IEZpbmFsaXphdGlvblJlZ2lzdHJ5KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIF90aGlzLmF1dG9tYXRpY0NsZWFudXAoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIF90aGlzLl9yZWZDb3VudCA9IDA7XHJcbiAgICAgICAgX3RoaXMuaW5jUmVmQ291bnQoX3RoaXMuX3NlcnZlckNvbmZpZy5yZWxlYXNlT25EZXJlZik7XHJcbiAgICAgICAgLy8gRG8gbm90IHJldGFpbiBhIGhhcmQgcmVmZXJlbmNlIHRvIHRoZSBkcmVmIG9iamVjdCwgb3RoZXJ3aXNlIHRoZSBGaW5hbGl6YXRpb25SZWdpc3J5XHJcbiAgICAgICAgLy8gd2lsbCBuZXZlciB0cmlnZ2VyLlxyXG4gICAgICAgIF90aGlzLl9zZXJ2ZXJDb25maWcucmVsZWFzZU9uRGVyZWYgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgc2VydmVyQ29uZmlnLnJlbGVhc2VPbkRlcmVmID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHJlZ2lzdGVyVmVyc2lvbihuYW1lJHAsIHZlcnNpb24kMSwgJ3NlcnZlcmFwcCcpO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEZpcmViYXNlU2VydmVyQXBwSW1wbC5wcm90b3R5cGUudG9KU09OID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmViYXNlU2VydmVyQXBwSW1wbC5wcm90b3R5cGUsIFwicmVmQ291bnRcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fcmVmQ291bnQ7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLy8gSW5jcmVtZW50IHRoZSByZWZlcmVuY2UgY291bnQgb2YgdGhpcyBzZXJ2ZXIgYXBwLiBJZiBhbiBvYmplY3QgaXMgcHJvdmlkZWQsIHJlZ2lzdGVyIGl0XHJcbiAgICAvLyB3aXRoIHRoZSBmaW5hbGl6YXRpb24gcmVnaXN0cnkuXHJcbiAgICBGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLmluY1JlZkNvdW50ID0gZnVuY3Rpb24gKG9iaikge1xyXG4gICAgICAgIGlmICh0aGlzLmlzRGVsZXRlZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3JlZkNvdW50Kys7XHJcbiAgICAgICAgaWYgKG9iaiAhPT0gdW5kZWZpbmVkICYmIHRoaXMuX2ZpbmFsaXphdGlvblJlZ2lzdHJ5ICE9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX2ZpbmFsaXphdGlvblJlZ2lzdHJ5LnJlZ2lzdGVyKG9iaiwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIERlY3JlbWVudCB0aGUgcmVmZXJlbmNlIGNvdW50LlxyXG4gICAgRmlyZWJhc2VTZXJ2ZXJBcHBJbXBsLnByb3RvdHlwZS5kZWNSZWZDb3VudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5pc0RlbGV0ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiAtLXRoaXMuX3JlZkNvdW50O1xyXG4gICAgfTtcclxuICAgIC8vIEludm9rZWQgYnkgdGhlIEZpbmFsaXphdGlvblJlZ2lzdHJ5IGNhbGxiYWNrIHRvIG5vdGUgdGhhdCB0aGlzIGFwcCBzaG91bGQgZ28gdGhyb3VnaCBpdHNcclxuICAgIC8vIHJlZmVyZW5jZSBjb3VudHMgYW5kIGRlbGV0ZSBpdHNlbGYgaWYgbm8gcmVmZXJlbmNlIGNvdW50IHJlbWFpbi4gVGhlIGNvb3JkaW5hdGluZyBsb2dpYyB0aGF0XHJcbiAgICAvLyBoYW5kbGVzIHRoaXMgaXMgaW4gZGVsZXRlQXBwKC4uLikuXHJcbiAgICBGaXJlYmFzZVNlcnZlckFwcEltcGwucHJvdG90eXBlLmF1dG9tYXRpY0NsZWFudXAgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdm9pZCBkZWxldGVBcHAodGhpcyk7XHJcbiAgICB9O1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpcmViYXNlU2VydmVyQXBwSW1wbC5wcm90b3R5cGUsIFwic2V0dGluZ3NcIiwge1xyXG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrRGVzdHJveWVkKCk7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJDb25maWc7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcclxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcclxuICAgIH0pO1xyXG4gICAgLyoqXHJcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYW4gRXJyb3IgaWYgdGhlIEFwcCBoYXMgYWxyZWFkeSBiZWVuIGRlbGV0ZWQgLVxyXG4gICAgICogdXNlIGJlZm9yZSBwZXJmb3JtaW5nIEFQSSBhY3Rpb25zIG9uIHRoZSBBcHAuXHJcbiAgICAgKi9cclxuICAgIEZpcmViYXNlU2VydmVyQXBwSW1wbC5wcm90b3R5cGUuY2hlY2tEZXN0cm95ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNEZWxldGVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwic2VydmVyLWFwcC1kZWxldGVkXCIgLyogQXBwRXJyb3IuU0VSVkVSX0FQUF9ERUxFVEVEICovKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEZpcmViYXNlU2VydmVyQXBwSW1wbDtcclxufShGaXJlYmFzZUFwcEltcGwpKTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFRoZSBjdXJyZW50IFNESyB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG52YXIgU0RLX1ZFUlNJT04gPSB2ZXJzaW9uO1xyXG5mdW5jdGlvbiBpbml0aWFsaXplQXBwKF9vcHRpb25zLCByYXdDb25maWcpIHtcclxuICAgIHZhciBlXzEsIF9hO1xyXG4gICAgaWYgKHJhd0NvbmZpZyA9PT0gdm9pZCAwKSB7IHJhd0NvbmZpZyA9IHt9OyB9XHJcbiAgICB2YXIgb3B0aW9ucyA9IF9vcHRpb25zO1xyXG4gICAgaWYgKHR5cGVvZiByYXdDb25maWcgIT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgdmFyIG5hbWVfMSA9IHJhd0NvbmZpZztcclxuICAgICAgICByYXdDb25maWcgPSB7IG5hbWU6IG5hbWVfMSB9O1xyXG4gICAgfVxyXG4gICAgdmFyIGNvbmZpZyA9IHRzbGliLl9fYXNzaWduKHsgbmFtZTogREVGQVVMVF9FTlRSWV9OQU1FLCBhdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQ6IGZhbHNlIH0sIHJhd0NvbmZpZyk7XHJcbiAgICB2YXIgbmFtZSA9IGNvbmZpZy5uYW1lO1xyXG4gICAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJyB8fCAhbmFtZSkge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiYmFkLWFwcC1uYW1lXCIgLyogQXBwRXJyb3IuQkFEX0FQUF9OQU1FICovLCB7XHJcbiAgICAgICAgICAgIGFwcE5hbWU6IFN0cmluZyhuYW1lKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgb3B0aW9ucyB8fCAob3B0aW9ucyA9IHV0aWwuZ2V0RGVmYXVsdEFwcENvbmZpZygpKTtcclxuICAgIGlmICghb3B0aW9ucykge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwibm8tb3B0aW9uc1wiIC8qIEFwcEVycm9yLk5PX09QVElPTlMgKi8pO1xyXG4gICAgfVxyXG4gICAgdmFyIGV4aXN0aW5nQXBwID0gX2FwcHMuZ2V0KG5hbWUpO1xyXG4gICAgaWYgKGV4aXN0aW5nQXBwKSB7XHJcbiAgICAgICAgLy8gcmV0dXJuIHRoZSBleGlzdGluZyBhcHAgaWYgb3B0aW9ucyBhbmQgY29uZmlnIGRlZXAgZXF1YWwgdGhlIG9uZXMgaW4gdGhlIGV4aXN0aW5nIGFwcC5cclxuICAgICAgICBpZiAodXRpbC5kZWVwRXF1YWwob3B0aW9ucywgZXhpc3RpbmdBcHAub3B0aW9ucykgJiZcclxuICAgICAgICAgICAgdXRpbC5kZWVwRXF1YWwoY29uZmlnLCBleGlzdGluZ0FwcC5jb25maWcpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBleGlzdGluZ0FwcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiZHVwbGljYXRlLWFwcFwiIC8qIEFwcEVycm9yLkRVUExJQ0FURV9BUFAgKi8sIHsgYXBwTmFtZTogbmFtZSB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgY29udGFpbmVyID0gbmV3IGNvbXBvbmVudC5Db21wb25lbnRDb250YWluZXIobmFtZSk7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIF9iID0gdHNsaWIuX192YWx1ZXMoX2NvbXBvbmVudHMudmFsdWVzKCkpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XHJcbiAgICAgICAgICAgIHZhciBjb21wb25lbnQkMSA9IF9jLnZhbHVlO1xyXG4gICAgICAgICAgICBjb250YWluZXIuYWRkQ29tcG9uZW50KGNvbXBvbmVudCQxKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgZmluYWxseSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICB2YXIgbmV3QXBwID0gbmV3IEZpcmViYXNlQXBwSW1wbChvcHRpb25zLCBjb25maWcsIGNvbnRhaW5lcik7XHJcbiAgICBfYXBwcy5zZXQobmFtZSwgbmV3QXBwKTtcclxuICAgIHJldHVybiBuZXdBcHA7XHJcbn1cclxuZnVuY3Rpb24gaW5pdGlhbGl6ZVNlcnZlckFwcChfb3B0aW9ucywgX3NlcnZlckFwcENvbmZpZykge1xyXG4gICAgdmFyIGVfMiwgX2E7XHJcbiAgICBpZiAodXRpbC5pc0Jyb3dzZXIoKSAmJiAhdXRpbC5pc1dlYldvcmtlcigpKSB7XHJcbiAgICAgICAgLy8gRmlyZWJhc2VTZXJ2ZXJBcHAgaXNuJ3QgZGVzaWduZWQgdG8gYmUgcnVuIGluIGJyb3dzZXJzLlxyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1zZXJ2ZXItYXBwLWVudmlyb25tZW50XCIgLyogQXBwRXJyb3IuSU5WQUxJRF9TRVJWRVJfQVBQX0VOVklST05NRU5UICovKTtcclxuICAgIH1cclxuICAgIGlmIChfc2VydmVyQXBwQ29uZmlnLmF1dG9tYXRpY0RhdGFDb2xsZWN0aW9uRW5hYmxlZCA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgX3NlcnZlckFwcENvbmZpZy5hdXRvbWF0aWNEYXRhQ29sbGVjdGlvbkVuYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIHZhciBhcHBPcHRpb25zO1xyXG4gICAgaWYgKF9pc0ZpcmViYXNlQXBwKF9vcHRpb25zKSkge1xyXG4gICAgICAgIGFwcE9wdGlvbnMgPSBfb3B0aW9ucy5vcHRpb25zO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYXBwT3B0aW9ucyA9IF9vcHRpb25zO1xyXG4gICAgfVxyXG4gICAgLy8gQnVpbGQgYW4gYXBwIG5hbWUgYmFzZWQgb24gYSBoYXNoIG9mIHRoZSBjb25maWd1cmF0aW9uIG9wdGlvbnMuXHJcbiAgICB2YXIgbmFtZU9iaiA9IHRzbGliLl9fYXNzaWduKHRzbGliLl9fYXNzaWduKHt9LCBfc2VydmVyQXBwQ29uZmlnKSwgYXBwT3B0aW9ucyk7XHJcbiAgICAvLyBIb3dldmVyLCBEbyBub3QgbWFuZ2xlIHRoZSBuYW1lIGJhc2VkIG9uIHJlbGVhc2VPbkRlcmVmLCBzaW5jZSBpdCB3aWxsIHZhcnkgYmV0d2VlbiB0aGVcclxuICAgIC8vIGNvbnN0cnVjdGlvbiBvZiBGaXJlYmFzZVNlcnZlckFwcCBpbnN0YW5jZXMuIEZvciBleGFtcGxlLCBpZiB0aGUgb2JqZWN0IGlzIHRoZSByZXF1ZXN0IGhlYWRlcnMuXHJcbiAgICBpZiAobmFtZU9iai5yZWxlYXNlT25EZXJlZiAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgZGVsZXRlIG5hbWVPYmoucmVsZWFzZU9uRGVyZWY7XHJcbiAgICB9XHJcbiAgICB2YXIgaGFzaENvZGUgPSBmdW5jdGlvbiAocykge1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX3NwcmVhZEFycmF5KFtdLCB0c2xpYi5fX3JlYWQocyksIGZhbHNlKS5yZWR1Y2UoZnVuY3Rpb24gKGhhc2gsIGMpIHsgcmV0dXJuIChNYXRoLmltdWwoMzEsIGhhc2gpICsgYy5jaGFyQ29kZUF0KDApKSB8IDA7IH0sIDApO1xyXG4gICAgfTtcclxuICAgIGlmIChfc2VydmVyQXBwQ29uZmlnLnJlbGVhc2VPbkRlcmVmICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIEZpbmFsaXphdGlvblJlZ2lzdHJ5ID09PSAndW5kZWZpbmVkJykge1xyXG4gICAgICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcImZpbmFsaXphdGlvbi1yZWdpc3RyeS1ub3Qtc3VwcG9ydGVkXCIgLyogQXBwRXJyb3IuRklOQUxJWkFUSU9OX1JFR0lTVFJZX05PVF9TVVBQT1JURUQgKi8sIHt9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB2YXIgbmFtZVN0cmluZyA9ICcnICsgaGFzaENvZGUoSlNPTi5zdHJpbmdpZnkobmFtZU9iaikpO1xyXG4gICAgdmFyIGV4aXN0aW5nQXBwID0gX3NlcnZlckFwcHMuZ2V0KG5hbWVTdHJpbmcpO1xyXG4gICAgaWYgKGV4aXN0aW5nQXBwKSB7XHJcbiAgICAgICAgZXhpc3RpbmdBcHAuaW5jUmVmQ291bnQoX3NlcnZlckFwcENvbmZpZy5yZWxlYXNlT25EZXJlZik7XHJcbiAgICAgICAgcmV0dXJuIGV4aXN0aW5nQXBwO1xyXG4gICAgfVxyXG4gICAgdmFyIGNvbnRhaW5lciA9IG5ldyBjb21wb25lbnQuQ29tcG9uZW50Q29udGFpbmVyKG5hbWVTdHJpbmcpO1xyXG4gICAgdHJ5IHtcclxuICAgICAgICBmb3IgKHZhciBfYiA9IHRzbGliLl9fdmFsdWVzKF9jb21wb25lbnRzLnZhbHVlcygpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgY29tcG9uZW50JDEgPSBfYy52YWx1ZTtcclxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENvbXBvbmVudChjb21wb25lbnQkMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVfMl8xKSB7IGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxyXG4gICAgfVxyXG4gICAgdmFyIG5ld0FwcCA9IG5ldyBGaXJlYmFzZVNlcnZlckFwcEltcGwoYXBwT3B0aW9ucywgX3NlcnZlckFwcENvbmZpZywgbmFtZVN0cmluZywgY29udGFpbmVyKTtcclxuICAgIF9zZXJ2ZXJBcHBzLnNldChuYW1lU3RyaW5nLCBuZXdBcHApO1xyXG4gICAgcmV0dXJuIG5ld0FwcDtcclxufVxyXG4vKipcclxuICogUmV0cmlldmVzIGEge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IGluc3RhbmNlLlxyXG4gKlxyXG4gKiBXaGVuIGNhbGxlZCB3aXRoIG5vIGFyZ3VtZW50cywgdGhlIGRlZmF1bHQgYXBwIGlzIHJldHVybmVkLiBXaGVuIGFuIGFwcCBuYW1lXHJcbiAqIGlzIHByb3ZpZGVkLCB0aGUgYXBwIGNvcnJlc3BvbmRpbmcgdG8gdGhhdCBuYW1lIGlzIHJldHVybmVkLlxyXG4gKlxyXG4gKiBBbiBleGNlcHRpb24gaXMgdGhyb3duIGlmIHRoZSBhcHAgYmVpbmcgcmV0cmlldmVkIGhhcyBub3QgeWV0IGJlZW5cclxuICogaW5pdGlhbGl6ZWQuXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gUmV0dXJuIHRoZSBkZWZhdWx0IGFwcFxyXG4gKiBjb25zdCBhcHAgPSBnZXRBcHAoKTtcclxuICogYGBgXHJcbiAqXHJcbiAqIEBleGFtcGxlXHJcbiAqIGBgYGphdmFzY3JpcHRcclxuICogLy8gUmV0dXJuIGEgbmFtZWQgYXBwXHJcbiAqIGNvbnN0IG90aGVyQXBwID0gZ2V0QXBwKFwib3RoZXJBcHBcIik7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcGFyYW0gbmFtZSAtIE9wdGlvbmFsIG5hbWUgb2YgdGhlIGFwcCB0byByZXR1cm4uIElmIG5vIG5hbWUgaXNcclxuICogICBwcm92aWRlZCwgdGhlIGRlZmF1bHQgaXMgYFwiW0RFRkFVTFRdXCJgLlxyXG4gKlxyXG4gKiBAcmV0dXJucyBUaGUgYXBwIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3ZpZGVkIGFwcCBuYW1lLlxyXG4gKiAgIElmIG5vIGFwcCBuYW1lIGlzIHByb3ZpZGVkLCB0aGUgZGVmYXVsdCBhcHAgaXMgcmV0dXJuZWQuXHJcbiAqXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmZ1bmN0aW9uIGdldEFwcChuYW1lKSB7XHJcbiAgICBpZiAobmFtZSA9PT0gdm9pZCAwKSB7IG5hbWUgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgIHZhciBhcHAgPSBfYXBwcy5nZXQobmFtZSk7XHJcbiAgICBpZiAoIWFwcCAmJiBuYW1lID09PSBERUZBVUxUX0VOVFJZX05BTUUgJiYgdXRpbC5nZXREZWZhdWx0QXBwQ29uZmlnKCkpIHtcclxuICAgICAgICByZXR1cm4gaW5pdGlhbGl6ZUFwcCgpO1xyXG4gICAgfVxyXG4gICAgaWYgKCFhcHApIHtcclxuICAgICAgICB0aHJvdyBFUlJPUl9GQUNUT1JZLmNyZWF0ZShcIm5vLWFwcFwiIC8qIEFwcEVycm9yLk5PX0FQUCAqLywgeyBhcHBOYW1lOiBuYW1lIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGFwcDtcclxufVxyXG4vKipcclxuICogQSAocmVhZC1vbmx5KSBhcnJheSBvZiBhbGwgaW5pdGlhbGl6ZWQgYXBwcy5cclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gZ2V0QXBwcygpIHtcclxuICAgIHJldHVybiBBcnJheS5mcm9tKF9hcHBzLnZhbHVlcygpKTtcclxufVxyXG4vKipcclxuICogUmVuZGVycyB0aGlzIGFwcCB1bnVzYWJsZSBhbmQgZnJlZXMgdGhlIHJlc291cmNlcyBvZiBhbGwgYXNzb2NpYXRlZFxyXG4gKiBzZXJ2aWNlcy5cclxuICpcclxuICogQGV4YW1wbGVcclxuICogYGBgamF2YXNjcmlwdFxyXG4gKiBkZWxldGVBcHAoYXBwKVxyXG4gKiAgIC50aGVuKGZ1bmN0aW9uKCkge1xyXG4gKiAgICAgY29uc29sZS5sb2coXCJBcHAgZGVsZXRlZCBzdWNjZXNzZnVsbHlcIik7XHJcbiAqICAgfSlcclxuICogICAuY2F0Y2goZnVuY3Rpb24oZXJyb3IpIHtcclxuICogICAgIGNvbnNvbGUubG9nKFwiRXJyb3IgZGVsZXRpbmcgYXBwOlwiLCBlcnJvcik7XHJcbiAqICAgfSk7XHJcbiAqIGBgYFxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWxldGVBcHAoYXBwKSB7XHJcbiAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGNsZWFudXBQcm92aWRlcnMsIG5hbWUsIGZpcmViYXNlU2VydmVyQXBwO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIGNsZWFudXBQcm92aWRlcnMgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gYXBwLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKF9hcHBzLmhhcyhuYW1lKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGVhbnVwUHJvdmlkZXJzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2FwcHMuZGVsZXRlKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChfc2VydmVyQXBwcy5oYXMobmFtZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZmlyZWJhc2VTZXJ2ZXJBcHAgPSBhcHA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaXJlYmFzZVNlcnZlckFwcC5kZWNSZWZDb3VudCgpIDw9IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9zZXJ2ZXJBcHBzLmRlbGV0ZShuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFudXBQcm92aWRlcnMgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2xlYW51cFByb3ZpZGVycykgcmV0dXJuIFszIC8qYnJlYWsqLywgMl07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwoYXBwLmNvbnRhaW5lclxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLmdldFByb3ZpZGVycygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChwcm92aWRlcikgeyByZXR1cm4gcHJvdmlkZXIuZGVsZXRlKCk7IH0pKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcC5pc0RlbGV0ZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vKipcclxuICogUmVnaXN0ZXJzIGEgbGlicmFyeSdzIG5hbWUgYW5kIHZlcnNpb24gZm9yIHBsYXRmb3JtIGxvZ2dpbmcgcHVycG9zZXMuXHJcbiAqIEBwYXJhbSBsaWJyYXJ5IC0gTmFtZSBvZiAxcCBvciAzcCBsaWJyYXJ5IChlLmcuIGZpcmVzdG9yZSwgYW5ndWxhcmZpcmUpXHJcbiAqIEBwYXJhbSB2ZXJzaW9uIC0gQ3VycmVudCB2ZXJzaW9uIG9mIHRoYXQgbGlicmFyeS5cclxuICogQHBhcmFtIHZhcmlhbnQgLSBCdW5kbGUgdmFyaWFudCwgZS5nLiwgbm9kZSwgcm4sIGV0Yy5cclxuICpcclxuICogQHB1YmxpY1xyXG4gKi9cclxuZnVuY3Rpb24gcmVnaXN0ZXJWZXJzaW9uKGxpYnJhcnlLZXlPck5hbWUsIHZlcnNpb24sIHZhcmlhbnQpIHtcclxuICAgIHZhciBfYTtcclxuICAgIC8vIFRPRE86IFdlIGNhbiB1c2UgdGhpcyBjaGVjayB0byB3aGl0ZWxpc3Qgc3RyaW5ncyB3aGVuL2lmIHdlIHNldCB1cFxyXG4gICAgLy8gYSBnb29kIHdoaXRlbGlzdCBzeXN0ZW0uXHJcbiAgICB2YXIgbGlicmFyeSA9IChfYSA9IFBMQVRGT1JNX0xPR19TVFJJTkdbbGlicmFyeUtleU9yTmFtZV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGxpYnJhcnlLZXlPck5hbWU7XHJcbiAgICBpZiAodmFyaWFudCkge1xyXG4gICAgICAgIGxpYnJhcnkgKz0gXCItXCIuY29uY2F0KHZhcmlhbnQpO1xyXG4gICAgfVxyXG4gICAgdmFyIGxpYnJhcnlNaXNtYXRjaCA9IGxpYnJhcnkubWF0Y2goL1xcc3xcXC8vKTtcclxuICAgIHZhciB2ZXJzaW9uTWlzbWF0Y2ggPSB2ZXJzaW9uLm1hdGNoKC9cXHN8XFwvLyk7XHJcbiAgICBpZiAobGlicmFyeU1pc21hdGNoIHx8IHZlcnNpb25NaXNtYXRjaCkge1xyXG4gICAgICAgIHZhciB3YXJuaW5nID0gW1xyXG4gICAgICAgICAgICBcIlVuYWJsZSB0byByZWdpc3RlciBsaWJyYXJ5IFxcXCJcIi5jb25jYXQobGlicmFyeSwgXCJcXFwiIHdpdGggdmVyc2lvbiBcXFwiXCIpLmNvbmNhdCh2ZXJzaW9uLCBcIlxcXCI6XCIpXHJcbiAgICAgICAgXTtcclxuICAgICAgICBpZiAobGlicmFyeU1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmcucHVzaChcImxpYnJhcnkgbmFtZSBcXFwiXCIuY29uY2F0KGxpYnJhcnksIFwiXFxcIiBjb250YWlucyBpbGxlZ2FsIGNoYXJhY3RlcnMgKHdoaXRlc3BhY2Ugb3IgXFxcIi9cXFwiKVwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsaWJyYXJ5TWlzbWF0Y2ggJiYgdmVyc2lvbk1pc21hdGNoKSB7XHJcbiAgICAgICAgICAgIHdhcm5pbmcucHVzaCgnYW5kJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh2ZXJzaW9uTWlzbWF0Y2gpIHtcclxuICAgICAgICAgICAgd2FybmluZy5wdXNoKFwidmVyc2lvbiBuYW1lIFxcXCJcIi5jb25jYXQodmVyc2lvbiwgXCJcXFwiIGNvbnRhaW5zIGlsbGVnYWwgY2hhcmFjdGVycyAod2hpdGVzcGFjZSBvciBcXFwiL1xcXCIpXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbG9nZ2VyLndhcm4od2FybmluZy5qb2luKCcgJykpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIF9yZWdpc3RlckNvbXBvbmVudChuZXcgY29tcG9uZW50LkNvbXBvbmVudChcIlwiLmNvbmNhdChsaWJyYXJ5LCBcIi12ZXJzaW9uXCIpLCBmdW5jdGlvbiAoKSB7IHJldHVybiAoeyBsaWJyYXJ5OiBsaWJyYXJ5LCB2ZXJzaW9uOiB2ZXJzaW9uIH0pOyB9LCBcIlZFUlNJT05cIiAvKiBDb21wb25lbnRUeXBlLlZFUlNJT04gKi8pKTtcclxufVxyXG4vKipcclxuICogU2V0cyBsb2cgaGFuZGxlciBmb3IgYWxsIEZpcmViYXNlIFNES3MuXHJcbiAqIEBwYXJhbSBsb2dDYWxsYmFjayAtIEFuIG9wdGlvbmFsIGN1c3RvbSBsb2cgaGFuZGxlciB0aGF0IGV4ZWN1dGVzIHVzZXIgY29kZSB3aGVuZXZlclxyXG4gKiB0aGUgRmlyZWJhc2UgU0RLIG1ha2VzIGEgbG9nZ2luZyBjYWxsLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBvbkxvZyhsb2dDYWxsYmFjaywgb3B0aW9ucykge1xyXG4gICAgaWYgKGxvZ0NhbGxiYWNrICE9PSBudWxsICYmIHR5cGVvZiBsb2dDYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgIHRocm93IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaW52YWxpZC1sb2ctYXJndW1lbnRcIiAvKiBBcHBFcnJvci5JTlZBTElEX0xPR19BUkdVTUVOVCAqLyk7XHJcbiAgICB9XHJcbiAgICBsb2dnZXIkMS5zZXRVc2VyTG9nSGFuZGxlcihsb2dDYWxsYmFjaywgb3B0aW9ucyk7XHJcbn1cclxuLyoqXHJcbiAqIFNldHMgbG9nIGxldmVsIGZvciBhbGwgRmlyZWJhc2UgU0RLcy5cclxuICpcclxuICogQWxsIG9mIHRoZSBsb2cgdHlwZXMgYWJvdmUgdGhlIGN1cnJlbnQgbG9nIGxldmVsIGFyZSBjYXB0dXJlZCAoaS5lLiBpZlxyXG4gKiB5b3Ugc2V0IHRoZSBsb2cgbGV2ZWwgdG8gYGluZm9gLCBlcnJvcnMgYXJlIGxvZ2dlZCwgYnV0IGBkZWJ1Z2AgYW5kXHJcbiAqIGB2ZXJib3NlYCBsb2dzIGFyZSBub3QpLlxyXG4gKlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBzZXRMb2dMZXZlbChsb2dMZXZlbCkge1xyXG4gICAgbG9nZ2VyJDEuc2V0TG9nTGV2ZWwobG9nTGV2ZWwpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBEQl9OQU1FID0gJ2ZpcmViYXNlLWhlYXJ0YmVhdC1kYXRhYmFzZSc7XHJcbnZhciBEQl9WRVJTSU9OID0gMTtcclxudmFyIFNUT1JFX05BTUUgPSAnZmlyZWJhc2UtaGVhcnRiZWF0LXN0b3JlJztcclxudmFyIGRiUHJvbWlzZSA9IG51bGw7XHJcbmZ1bmN0aW9uIGdldERiUHJvbWlzZSgpIHtcclxuICAgIGlmICghZGJQcm9taXNlKSB7XHJcbiAgICAgICAgZGJQcm9taXNlID0gaWRiLm9wZW5EQihEQl9OQU1FLCBEQl9WRVJTSU9OLCB7XHJcbiAgICAgICAgICAgIHVwZ3JhZGU6IGZ1bmN0aW9uIChkYiwgb2xkVmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gV2UgZG9uJ3QgdXNlICdicmVhaycgaW4gdGhpcyBzd2l0Y2ggc3RhdGVtZW50LCB0aGUgZmFsbC10aHJvdWdoXHJcbiAgICAgICAgICAgICAgICAvLyBiZWhhdmlvciBpcyB3aGF0IHdlIHdhbnQsIGJlY2F1c2UgaWYgdGhlcmUgYXJlIG11bHRpcGxlIHZlcnNpb25zIGJldHdlZW5cclxuICAgICAgICAgICAgICAgIC8vIHRoZSBvbGQgdmVyc2lvbiBhbmQgdGhlIGN1cnJlbnQgdmVyc2lvbiwgd2Ugd2FudCBBTEwgdGhlIG1pZ3JhdGlvbnNcclxuICAgICAgICAgICAgICAgIC8vIHRoYXQgY29ycmVzcG9uZCB0byB0aG9zZSB2ZXJzaW9ucyB0byBydW4sIG5vdCBvbmx5IHRoZSBsYXN0IG9uZS5cclxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkZWZhdWx0LWNhc2VcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAob2xkVmVyc2lvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKFNUT1JFX05BTUUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTYWZhcmkvaU9TIGJyb3dzZXJzIHRocm93IG9jY2FzaW9uYWwgZXhjZXB0aW9ucyBvblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGIuY3JlYXRlT2JqZWN0U3RvcmUoKSB0aGF0IG1heSBiZSBhIGJ1Zy4gQXZvaWQgYmxvY2tpbmdcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXN0IG9mIHRoZSBhcHAgZnVuY3Rpb25hbGl0eS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgdGhyb3cgRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpZGItb3BlblwiIC8qIEFwcEVycm9yLklEQl9PUEVOICovLCB7XHJcbiAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZS5tZXNzYWdlXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRiUHJvbWlzZTtcclxufVxyXG5mdW5jdGlvbiByZWFkSGVhcnRiZWF0c0Zyb21JbmRleGVkREIoYXBwKSB7XHJcbiAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGRiLCB0eCwgcmVzdWx0LCBlXzEsIGlkYkdldEVycm9yO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgNCwgLCA1XSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgZ2V0RGJQcm9taXNlKCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIGRiID0gX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHR4ID0gZGIudHJhbnNhY3Rpb24oU1RPUkVfTkFNRSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdHgub2JqZWN0U3RvcmUoU1RPUkVfTkFNRSkuZ2V0KGNvbXB1dGVLZXkoYXBwKSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBXZSBhbHJlYWR5IGhhdmUgdGhlIHZhbHVlIGJ1dCB0eC5kb25lIGNhbiB0aHJvdyxcclxuICAgICAgICAgICAgICAgICAgICAvLyBzbyB3ZSBuZWVkIHRvIGF3YWl0IGl0IGhlcmUgdG8gY2F0Y2ggZXJyb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdHguZG9uZV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgYWxyZWFkeSBoYXZlIHRoZSB2YWx1ZSBidXQgdHguZG9uZSBjYW4gdGhyb3csXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgbmVlZCB0byBhd2FpdCBpdCBoZXJlIHRvIGNhdGNoIGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgcmVzdWx0XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDpcclxuICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVfMSBpbnN0YW5jZW9mIHV0aWwuRmlyZWJhc2VFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsb2dnZXIud2FybihlXzEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZGJHZXRFcnJvciA9IEVSUk9SX0ZBQ1RPUlkuY3JlYXRlKFwiaWRiLWdldFwiIC8qIEFwcEVycm9yLklEQl9HRVQgKi8sIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3JNZXNzYWdlOiBlXzEgPT09IG51bGwgfHwgZV8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlXzEubWVzc2FnZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLndhcm4oaWRiR2V0RXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHdyaXRlSGVhcnRiZWF0c1RvSW5kZXhlZERCKGFwcCwgaGVhcnRiZWF0T2JqZWN0KSB7XHJcbiAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGRiLCB0eCwgb2JqZWN0U3RvcmUsIGVfMiwgaWRiR2V0RXJyb3I7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFswLCA0LCAsIDVdKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBnZXREYlByb21pc2UoKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgZGIgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdHggPSBkYi50cmFuc2FjdGlvbihTVE9SRV9OQU1FLCAncmVhZHdyaXRlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0U3RvcmUgPSB0eC5vYmplY3RTdG9yZShTVE9SRV9OQU1FKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBvYmplY3RTdG9yZS5wdXQoaGVhcnRiZWF0T2JqZWN0LCBjb21wdXRlS2V5KGFwcCkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdHguZG9uZV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDVdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OlxyXG4gICAgICAgICAgICAgICAgICAgIGVfMiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZV8yIGluc3RhbmNlb2YgdXRpbC5GaXJlYmFzZUVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKGVfMi5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYkdldEVycm9yID0gRVJST1JfRkFDVE9SWS5jcmVhdGUoXCJpZGItc2V0XCIgLyogQXBwRXJyb3IuSURCX1dSSVRFICovLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW5hbEVycm9yTWVzc2FnZTogZV8yID09PSBudWxsIHx8IGVfMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogZV8yLm1lc3NhZ2VcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci53YXJuKGlkYkdldEVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBjb21wdXRlS2V5KGFwcCkge1xyXG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KGFwcC5uYW1lLCBcIiFcIikuY29uY2F0KGFwcC5vcHRpb25zLmFwcElkKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgTUFYX0hFQURFUl9CWVRFUyA9IDEwMjQ7XHJcbi8vIDMwIGRheXNcclxudmFyIFNUT1JFRF9IRUFSVEJFQVRfUkVURU5USU9OX01BWF9NSUxMSVMgPSAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDA7XHJcbnZhciBIZWFydGJlYXRTZXJ2aWNlSW1wbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEhlYXJ0YmVhdFNlcnZpY2VJbXBsKGNvbnRhaW5lcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSW4tbWVtb3J5IGNhY2hlIGZvciBoZWFydGJlYXRzLCB1c2VkIGJ5IGdldEhlYXJ0YmVhdHNIZWFkZXIoKSB0byBnZW5lcmF0ZVxyXG4gICAgICAgICAqIHRoZSBoZWFkZXIgc3RyaW5nLlxyXG4gICAgICAgICAqIFN0b3JlcyBvbmUgcmVjb3JkIHBlciBkYXRlLiBUaGlzIHdpbGwgYmUgY29uc29saWRhdGVkIGludG8gdGhlIHN0YW5kYXJkXHJcbiAgICAgICAgICogZm9ybWF0IG9mIG9uZSByZWNvcmQgcGVyIHVzZXIgYWdlbnQgc3RyaW5nIGJlZm9yZSBiZWluZyBzZW50IGFzIGEgaGVhZGVyLlxyXG4gICAgICAgICAqIFBvcHVsYXRlZCBmcm9tIGluZGV4ZWREQiB3aGVuIHRoZSBjb250cm9sbGVyIGlzIGluc3RhbnRpYXRlZCBhbmQgc2hvdWxkXHJcbiAgICAgICAgICogYmUga2VwdCBpbiBzeW5jIHdpdGggaW5kZXhlZERCLlxyXG4gICAgICAgICAqIExlYXZlIHB1YmxpYyBmb3IgZWFzaWVyIHRlc3RpbmcuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlID0gbnVsbDtcclxuICAgICAgICB2YXIgYXBwID0gdGhpcy5jb250YWluZXIuZ2V0UHJvdmlkZXIoJ2FwcCcpLmdldEltbWVkaWF0ZSgpO1xyXG4gICAgICAgIHRoaXMuX3N0b3JhZ2UgPSBuZXcgSGVhcnRiZWF0U3RvcmFnZUltcGwoYXBwKTtcclxuICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGVQcm9taXNlID0gdGhpcy5fc3RvcmFnZS5yZWFkKCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIF90aGlzLl9oZWFydGJlYXRzQ2FjaGUgPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvKipcclxuICAgICAqIENhbGxlZCB0byByZXBvcnQgYSBoZWFydGJlYXQuIFRoZSBmdW5jdGlvbiB3aWxsIGdlbmVyYXRlXHJcbiAgICAgKiBhIEhlYXJ0YmVhdHNCeVVzZXJBZ2VudCBvYmplY3QsIHVwZGF0ZSBoZWFydGJlYXRzQ2FjaGUsIGFuZCBwZXJzaXN0IGl0XHJcbiAgICAgKiB0byBJbmRleGVkREIuXHJcbiAgICAgKiBOb3RlIHRoYXQgd2Ugb25seSBzdG9yZSBvbmUgaGVhcnRiZWF0IHBlciBkYXkuIFNvIGlmIGEgaGVhcnRiZWF0IGZvciB0b2RheSBpc1xyXG4gICAgICogYWxyZWFkeSBsb2dnZWQsIHN1YnNlcXVlbnQgY2FsbHMgdG8gdGhpcyBmdW5jdGlvbiBpbiB0aGUgc2FtZSBkYXkgd2lsbCBiZSBpZ25vcmVkLlxyXG4gICAgICovXHJcbiAgICBIZWFydGJlYXRTZXJ2aWNlSW1wbC5wcm90b3R5cGUudHJpZ2dlckhlYXJ0YmVhdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHBsYXRmb3JtTG9nZ2VyLCBhZ2VudCwgZGF0ZSwgX2M7XHJcbiAgICAgICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2QpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2QubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYXRmb3JtTG9nZ2VyID0gdGhpcy5jb250YWluZXJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRQcm92aWRlcigncGxhdGZvcm0tbG9nZ2VyJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5nZXRJbW1lZGlhdGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWdlbnQgPSBwbGF0Zm9ybUxvZ2dlci5nZXRQbGF0Zm9ybUluZm9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IGdldFVUQ0RhdGVTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEoKChfYSA9IHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhlYXJ0YmVhdHMpID09IG51bGwpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2MgPSB0aGlzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9oZWFydGJlYXRzQ2FjaGVQcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLl9oZWFydGJlYXRzQ2FjaGUgPSBfZC5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIHdlIGZhaWxlZCB0byBjb25zdHJ1Y3QgYSBoZWFydGJlYXRzIGNhY2hlLCB0aGVuIHJldHVybiBpbW1lZGlhdGVseS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgoX2IgPSB0aGlzLl9oZWFydGJlYXRzQ2FjaGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5oZWFydGJlYXRzKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2QubGFiZWwgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG8gbm90IHN0b3JlIGEgaGVhcnRiZWF0IGlmIG9uZSBpcyBhbHJlYWR5IHN0b3JlZCBmb3IgdGhpcyBkYXlcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3IgaWYgYSBoZWFkZXIgaGFzIGFscmVhZHkgYmVlbiBzZW50IHRvZGF5LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faGVhcnRiZWF0c0NhY2hlLmxhc3RTZW50SGVhcnRiZWF0RGF0ZSA9PT0gZGF0ZSB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMuc29tZShmdW5jdGlvbiAoc2luZ2xlRGF0ZUhlYXJ0YmVhdCkgeyByZXR1cm4gc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlID09PSBkYXRlOyB9KSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlcmUgaXMgbm8gZW50cnkgZm9yIHRoaXMgZGF0ZS4gQ3JlYXRlIG9uZS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzLnB1c2goeyBkYXRlOiBkYXRlLCBhZ2VudDogYWdlbnQgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGVudHJpZXMgb2xkZXIgdGhhbiAzMCBkYXlzLlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyA9IHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzLmZpbHRlcihmdW5jdGlvbiAoc2luZ2xlRGF0ZUhlYXJ0YmVhdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGhiVGltZXN0YW1wID0gbmV3IERhdGUoc2luZ2xlRGF0ZUhlYXJ0YmVhdC5kYXRlKS52YWx1ZU9mKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbm93ID0gRGF0ZS5ub3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBub3cgLSBoYlRpbWVzdGFtcCA8PSBTVE9SRURfSEVBUlRCRUFUX1JFVEVOVElPTl9NQVhfTUlMTElTO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuX3N0b3JhZ2Uub3ZlcndyaXRlKHRoaXMuX2hlYXJ0YmVhdHNDYWNoZSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJldHVybnMgYSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcgd2hpY2ggY2FuIGJlIGF0dGFjaGVkIHRvIHRoZSBoZWFydGJlYXQtc3BlY2lmaWMgaGVhZGVyIGRpcmVjdGx5LlxyXG4gICAgICogSXQgYWxzbyBjbGVhcnMgYWxsIGhlYXJ0YmVhdHMgZnJvbSBtZW1vcnkgYXMgd2VsbCBhcyBpbiBJbmRleGVkREIuXHJcbiAgICAgKlxyXG4gICAgICogTk9URTogQ29uc3VtaW5nIHByb2R1Y3QgU0RLcyBzaG91bGQgbm90IHNlbmQgdGhlIGhlYWRlciBpZiB0aGlzIG1ldGhvZFxyXG4gICAgICogcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIEhlYXJ0YmVhdFNlcnZpY2VJbXBsLnByb3RvdHlwZS5nZXRIZWFydGJlYXRzSGVhZGVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBkYXRlLCBfYiwgaGVhcnRiZWF0c1RvU2VuZCwgdW5zZW50RW50cmllcywgaGVhZGVyU3RyaW5nO1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh0aGlzLl9oZWFydGJlYXRzQ2FjaGUgPT09IG51bGwpKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5faGVhcnRiZWF0c0NhY2hlUHJvbWlzZV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIElmIGl0J3Mgc3RpbGwgbnVsbCBvciB0aGUgYXJyYXkgaXMgZW1wdHksIHRoZXJlIGlzIG5vIGRhdGEgdG8gc2VuZC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCgoX2EgPSB0aGlzLl9oZWFydGJlYXRzQ2FjaGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5oZWFydGJlYXRzKSA9PSBudWxsIHx8XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCAnJ107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IGdldFVUQ0RhdGVTdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSBleHRyYWN0SGVhcnRiZWF0c0ZvckhlYWRlcih0aGlzLl9oZWFydGJlYXRzQ2FjaGUuaGVhcnRiZWF0cyksIGhlYXJ0YmVhdHNUb1NlbmQgPSBfYi5oZWFydGJlYXRzVG9TZW5kLCB1bnNlbnRFbnRyaWVzID0gX2IudW5zZW50RW50cmllcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyU3RyaW5nID0gdXRpbC5iYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeSh7IHZlcnNpb246IDIsIGhlYXJ0YmVhdHM6IGhlYXJ0YmVhdHNUb1NlbmQgfSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBsYXN0IHNlbnQgZGF0ZSB0byBwcmV2ZW50IGFub3RoZXIgYmVpbmcgbG9nZ2VkL3NlbnQgZm9yIHRoZSBzYW1lIGRheS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmxhc3RTZW50SGVhcnRiZWF0RGF0ZSA9IGRhdGU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHVuc2VudEVudHJpZXMubGVuZ3RoID4gMCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTdG9yZSBhbnkgdW5zZW50IGVudHJpZXMgaWYgdGhleSBleGlzdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGVhcnRiZWF0c0NhY2hlLmhlYXJ0YmVhdHMgPSB1bnNlbnRFbnRyaWVzO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHNlZW1zIG1vcmUgbGlrZWx5IHRoYW4gZW1wdHlpbmcgdGhlIGFycmF5IChiZWxvdykgdG8gbGVhZCB0byBzb21lIG9kZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgY2FjaGUgaXNuJ3QgZW1wdHkgYW5kIHRoaXMgd2lsbCBiZSBjYWxsZWQgYWdhaW4gb24gdGhlIG5leHQgcmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGlzIHByb2JhYmx5IHNhZmVzdCBpZiB3ZSBhd2FpdCBpdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5fc3RvcmFnZS5vdmVyd3JpdGUodGhpcy5faGVhcnRiZWF0c0NhY2hlKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHNlZW1zIG1vcmUgbGlrZWx5IHRoYW4gZW1wdHlpbmcgdGhlIGFycmF5IChiZWxvdykgdG8gbGVhZCB0byBzb21lIG9kZCBzdGF0ZVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzaW5jZSB0aGUgY2FjaGUgaXNuJ3QgZW1wdHkgYW5kIHRoaXMgd2lsbCBiZSBjYWxsZWQgYWdhaW4gb24gdGhlIG5leHQgcmVxdWVzdCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIGlzIHByb2JhYmx5IHNhZmVzdCBpZiB3ZSBhd2FpdCBpdC5cclxuICAgICAgICAgICAgICAgICAgICAgICAgX2Muc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA1XTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2hlYXJ0YmVhdHNDYWNoZS5oZWFydGJlYXRzID0gW107XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvIG5vdCB3YWl0IGZvciB0aGlzLCB0byByZWR1Y2UgbGF0ZW5jeS5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLl9zdG9yYWdlLm92ZXJ3cml0ZSh0aGlzLl9oZWFydGJlYXRzQ2FjaGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYy5sYWJlbCA9IDU7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzIgLypyZXR1cm4qLywgaGVhZGVyU3RyaW5nXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEhlYXJ0YmVhdFNlcnZpY2VJbXBsO1xyXG59KCkpO1xyXG5mdW5jdGlvbiBnZXRVVENEYXRlU3RyaW5nKCkge1xyXG4gICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgIC8vIFJldHVybnMgZGF0ZSBmb3JtYXQgJ1lZWVktTU0tREQnXHJcbiAgICByZXR1cm4gdG9kYXkudG9JU09TdHJpbmcoKS5zdWJzdHJpbmcoMCwgMTApO1xyXG59XHJcbmZ1bmN0aW9uIGV4dHJhY3RIZWFydGJlYXRzRm9ySGVhZGVyKGhlYXJ0YmVhdHNDYWNoZSwgbWF4U2l6ZSkge1xyXG4gICAgdmFyIGVfMSwgX2E7XHJcbiAgICBpZiAobWF4U2l6ZSA9PT0gdm9pZCAwKSB7IG1heFNpemUgPSBNQVhfSEVBREVSX0JZVEVTOyB9XHJcbiAgICAvLyBIZWFydGJlYXRzIGdyb3VwZWQgYnkgdXNlciBhZ2VudCBpbiB0aGUgc3RhbmRhcmQgZm9ybWF0IHRvIGJlIHNlbnQgaW5cclxuICAgIC8vIHRoZSBoZWFkZXIuXHJcbiAgICB2YXIgaGVhcnRiZWF0c1RvU2VuZCA9IFtdO1xyXG4gICAgLy8gU2luZ2xlIGRhdGUgZm9ybWF0IGhlYXJ0YmVhdHMgdGhhdCBhcmUgbm90IHNlbnQuXHJcbiAgICB2YXIgdW5zZW50RW50cmllcyA9IGhlYXJ0YmVhdHNDYWNoZS5zbGljZSgpO1xyXG4gICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoc2luZ2xlRGF0ZUhlYXJ0YmVhdCkge1xyXG4gICAgICAgIC8vIExvb2sgZm9yIGFuIGV4aXN0aW5nIGVudHJ5IHdpdGggdGhlIHNhbWUgdXNlciBhZ2VudC5cclxuICAgICAgICB2YXIgaGVhcnRiZWF0RW50cnkgPSBoZWFydGJlYXRzVG9TZW5kLmZpbmQoZnVuY3Rpb24gKGhiKSB7IHJldHVybiBoYi5hZ2VudCA9PT0gc2luZ2xlRGF0ZUhlYXJ0YmVhdC5hZ2VudDsgfSk7XHJcbiAgICAgICAgaWYgKCFoZWFydGJlYXRFbnRyeSkge1xyXG4gICAgICAgICAgICAvLyBJZiBubyBlbnRyeSBmb3IgdGhpcyB1c2VyIGFnZW50IGV4aXN0cywgY3JlYXRlIG9uZS5cclxuICAgICAgICAgICAgaGVhcnRiZWF0c1RvU2VuZC5wdXNoKHtcclxuICAgICAgICAgICAgICAgIGFnZW50OiBzaW5nbGVEYXRlSGVhcnRiZWF0LmFnZW50LFxyXG4gICAgICAgICAgICAgICAgZGF0ZXM6IFtzaW5nbGVEYXRlSGVhcnRiZWF0LmRhdGVdXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBpZiAoY291bnRCeXRlcyhoZWFydGJlYXRzVG9TZW5kKSA+IG1heFNpemUpIHtcclxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSBoZWFkZXIgd291bGQgZXhjZWVkIG1heCBzaXplLCByZW1vdmUgdGhlIGFkZGVkIGhlYXJ0YmVhdFxyXG4gICAgICAgICAgICAgICAgLy8gZW50cnkgYW5kIHN0b3AgYWRkaW5nIHRvIHRoZSBoZWFkZXIuXHJcbiAgICAgICAgICAgICAgICBoZWFydGJlYXRzVG9TZW5kLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgaGVhcnRiZWF0RW50cnkuZGF0ZXMucHVzaChzaW5nbGVEYXRlSGVhcnRiZWF0LmRhdGUpO1xyXG4gICAgICAgICAgICAvLyBJZiB0aGUgaGVhZGVyIHdvdWxkIGV4Y2VlZCBtYXggc2l6ZSwgcmVtb3ZlIHRoZSBhZGRlZCBkYXRlXHJcbiAgICAgICAgICAgIC8vIGFuZCBzdG9wIGFkZGluZyB0byB0aGUgaGVhZGVyLlxyXG4gICAgICAgICAgICBpZiAoY291bnRCeXRlcyhoZWFydGJlYXRzVG9TZW5kKSA+IG1heFNpemUpIHtcclxuICAgICAgICAgICAgICAgIGhlYXJ0YmVhdEVudHJ5LmRhdGVzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYnJlYWtcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBQb3AgdW5zZW50IGVudHJ5IGZyb20gcXVldWUuIChTa2lwcGVkIGlmIGFkZGluZyB0aGUgZW50cnkgZXhjZWVkZWRcclxuICAgICAgICAvLyBxdW90YSBhbmQgdGhlIGxvb3AgYnJlYWtzIGVhcmx5LilcclxuICAgICAgICB1bnNlbnRFbnRyaWVzID0gdW5zZW50RW50cmllcy5zbGljZSgxKTtcclxuICAgIH07XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGZvciAodmFyIGhlYXJ0YmVhdHNDYWNoZV8xID0gdHNsaWIuX192YWx1ZXMoaGVhcnRiZWF0c0NhY2hlKSwgaGVhcnRiZWF0c0NhY2hlXzFfMSA9IGhlYXJ0YmVhdHNDYWNoZV8xLm5leHQoKTsgIWhlYXJ0YmVhdHNDYWNoZV8xXzEuZG9uZTsgaGVhcnRiZWF0c0NhY2hlXzFfMSA9IGhlYXJ0YmVhdHNDYWNoZV8xLm5leHQoKSkge1xyXG4gICAgICAgICAgICB2YXIgc2luZ2xlRGF0ZUhlYXJ0YmVhdCA9IGhlYXJ0YmVhdHNDYWNoZV8xXzEudmFsdWU7XHJcbiAgICAgICAgICAgIHZhciBzdGF0ZV8xID0gX2xvb3BfMShzaW5nbGVEYXRlSGVhcnRiZWF0KTtcclxuICAgICAgICAgICAgaWYgKHN0YXRlXzEgPT09IFwiYnJlYWtcIilcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAoaGVhcnRiZWF0c0NhY2hlXzFfMSAmJiAhaGVhcnRiZWF0c0NhY2hlXzFfMS5kb25lICYmIChfYSA9IGhlYXJ0YmVhdHNDYWNoZV8xLnJldHVybikpIF9hLmNhbGwoaGVhcnRiZWF0c0NhY2hlXzEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGhlYXJ0YmVhdHNUb1NlbmQ6IGhlYXJ0YmVhdHNUb1NlbmQsXHJcbiAgICAgICAgdW5zZW50RW50cmllczogdW5zZW50RW50cmllc1xyXG4gICAgfTtcclxufVxyXG52YXIgSGVhcnRiZWF0U3RvcmFnZUltcGwgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIZWFydGJlYXRTdG9yYWdlSW1wbChhcHApIHtcclxuICAgICAgICB0aGlzLmFwcCA9IGFwcDtcclxuICAgICAgICB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlID0gdGhpcy5ydW5JbmRleGVkREJFbnZpcm9ubWVudENoZWNrKCk7XHJcbiAgICB9XHJcbiAgICBIZWFydGJlYXRTdG9yYWdlSW1wbC5wcm90b3R5cGUucnVuSW5kZXhlZERCRW52aXJvbm1lbnRDaGVjayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICAgICAgICAgIGlmICghdXRpbC5pc0luZGV4ZWREQkF2YWlsYWJsZSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGZhbHNlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1dGlsLnZhbGlkYXRlSW5kZXhlZERCT3BlbmFibGUoKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkgeyByZXR1cm4gdHJ1ZTsgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZTsgfSldO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIFJlYWQgYWxsIGhlYXJ0YmVhdHMuXHJcbiAgICAgKi9cclxuICAgIEhlYXJ0YmVhdFN0b3JhZ2VJbXBsLnByb3RvdHlwZS5yZWFkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0c2xpYi5fX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGNhblVzZUluZGV4ZWREQiwgaWRiSGVhcnRiZWF0T2JqZWN0O1xyXG4gICAgICAgICAgICByZXR1cm4gdHNsaWIuX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLl9jYW5Vc2VJbmRleGVkREJQcm9taXNlXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhblVzZUluZGV4ZWREQiA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhY2FuVXNlSW5kZXhlZERCKSByZXR1cm4gWzMgLypicmVhayovLCAyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHsgaGVhcnRiZWF0czogW10gfV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzQgLyp5aWVsZCovLCByZWFkSGVhcnRiZWF0c0Zyb21JbmRleGVkREIodGhpcy5hcHApXTtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkYkhlYXJ0YmVhdE9iamVjdCA9IF9hLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlkYkhlYXJ0YmVhdE9iamVjdCA9PT0gbnVsbCB8fCBpZGJIZWFydGJlYXRPYmplY3QgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlkYkhlYXJ0YmVhdE9iamVjdC5oZWFydGJlYXRzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgaWRiSGVhcnRiZWF0T2JqZWN0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB7IGhlYXJ0YmVhdHM6IFtdIH1dO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8vIG92ZXJ3cml0ZSB0aGUgc3RvcmFnZSB3aXRoIHRoZSBwcm92aWRlZCBoZWFydGJlYXRzXHJcbiAgICBIZWFydGJlYXRTdG9yYWdlSW1wbC5wcm90b3R5cGUub3ZlcndyaXRlID0gZnVuY3Rpb24gKGhlYXJ0YmVhdHNPYmplY3QpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2FuVXNlSW5kZXhlZERCLCBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3Q7XHJcbiAgICAgICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuVXNlSW5kZXhlZERCID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFjYW5Vc2VJbmRleGVkREIpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlYWQoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQih0aGlzLmFwcCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZW50SGVhcnRiZWF0RGF0ZTogKF9hID0gaGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhcnRiZWF0czogaGVhcnRiZWF0c09iamVjdC5oZWFydGJlYXRzXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIC8vIGFkZCBoZWFydGJlYXRzXHJcbiAgICBIZWFydGJlYXRTdG9yYWdlSW1wbC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGhlYXJ0YmVhdHNPYmplY3QpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIHRzbGliLl9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB2YXIgY2FuVXNlSW5kZXhlZERCLCBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3Q7XHJcbiAgICAgICAgICAgIHJldHVybiB0c2xpYi5fX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuX2NhblVzZUluZGV4ZWREQlByb21pc2VdO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2FuVXNlSW5kZXhlZERCID0gX2Iuc2VudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFjYW5Vc2VJbmRleGVkREIpIHJldHVybiBbMyAvKmJyZWFrKi8sIDJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJlYWQoKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAzOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0hlYXJ0YmVhdHNPYmplY3QgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB3cml0ZUhlYXJ0YmVhdHNUb0luZGV4ZWREQih0aGlzLmFwcCwge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RTZW50SGVhcnRiZWF0RGF0ZTogKF9hID0gaGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGV4aXN0aW5nSGVhcnRiZWF0c09iamVjdC5sYXN0U2VudEhlYXJ0YmVhdERhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhcnRiZWF0czogdHNsaWIuX19zcHJlYWRBcnJheSh0c2xpYi5fX3NwcmVhZEFycmF5KFtdLCB0c2xpYi5fX3JlYWQoZXhpc3RpbmdIZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHMpLCBmYWxzZSksIHRzbGliLl9fcmVhZChoZWFydGJlYXRzT2JqZWN0LmhlYXJ0YmVhdHMpLCBmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEhlYXJ0YmVhdFN0b3JhZ2VJbXBsO1xyXG59KCkpO1xyXG4vKipcclxuICogQ2FsY3VsYXRlIGJ5dGVzIG9mIGEgSGVhcnRiZWF0c0J5VXNlckFnZW50IGFycmF5IGFmdGVyIGJlaW5nIHdyYXBwZWRcclxuICogaW4gYSBwbGF0Zm9ybSBsb2dnaW5nIGhlYWRlciBKU09OIG9iamVjdCwgc3RyaW5naWZpZWQsIGFuZCBjb252ZXJ0ZWRcclxuICogdG8gYmFzZSA2NC5cclxuICovXHJcbmZ1bmN0aW9uIGNvdW50Qnl0ZXMoaGVhcnRiZWF0c0NhY2hlKSB7XHJcbiAgICAvLyBiYXNlNjQgaGFzIGEgcmVzdHJpY3RlZCBzZXQgb2YgY2hhcmFjdGVycywgYWxsIG9mIHdoaWNoIHNob3VsZCBiZSAxIGJ5dGUuXHJcbiAgICByZXR1cm4gdXRpbC5iYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhcclxuICAgIC8vIGhlYXJ0YmVhdHNDYWNoZSB3cmFwcGVyIHByb3BlcnRpZXNcclxuICAgIEpTT04uc3RyaW5naWZ5KHsgdmVyc2lvbjogMiwgaGVhcnRiZWF0czogaGVhcnRiZWF0c0NhY2hlIH0pKS5sZW5ndGg7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gcmVnaXN0ZXJDb3JlQ29tcG9uZW50cyh2YXJpYW50KSB7XHJcbiAgICBfcmVnaXN0ZXJDb21wb25lbnQobmV3IGNvbXBvbmVudC5Db21wb25lbnQoJ3BsYXRmb3JtLWxvZ2dlcicsIGZ1bmN0aW9uIChjb250YWluZXIpIHsgcmV0dXJuIG5ldyBQbGF0Zm9ybUxvZ2dlclNlcnZpY2VJbXBsKGNvbnRhaW5lcik7IH0sIFwiUFJJVkFURVwiIC8qIENvbXBvbmVudFR5cGUuUFJJVkFURSAqLykpO1xyXG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBjb21wb25lbnQuQ29tcG9uZW50KCdoZWFydGJlYXQnLCBmdW5jdGlvbiAoY29udGFpbmVyKSB7IHJldHVybiBuZXcgSGVhcnRiZWF0U2VydmljZUltcGwoY29udGFpbmVyKTsgfSwgXCJQUklWQVRFXCIgLyogQ29tcG9uZW50VHlwZS5QUklWQVRFICovKSk7XHJcbiAgICAvLyBSZWdpc3RlciBgYXBwYCBwYWNrYWdlLlxyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUkcCwgdmVyc2lvbiQxLCB2YXJpYW50KTtcclxuICAgIC8vIEJVSUxEX1RBUkdFVCB3aWxsIGJlIHJlcGxhY2VkIGJ5IHZhbHVlcyBsaWtlIGVzbTUsIGVzbTIwMTcsIGNqczUsIGV0YyBkdXJpbmcgdGhlIGNvbXBpbGF0aW9uXHJcbiAgICByZWdpc3RlclZlcnNpb24obmFtZSRwLCB2ZXJzaW9uJDEsICdjanM1Jyk7XHJcbiAgICAvLyBSZWdpc3RlciBwbGF0Zm9ybSBTREsgaWRlbnRpZmllciAobm8gdmVyc2lvbikuXHJcbiAgICByZWdpc3RlclZlcnNpb24oJ2ZpcmUtanMnLCAnJyk7XHJcbn1cblxuLyoqXHJcbiAqIEZpcmViYXNlIEFwcFxyXG4gKlxyXG4gKiBAcmVtYXJrcyBUaGlzIHBhY2thZ2UgY29vcmRpbmF0ZXMgdGhlIGNvbW11bmljYXRpb24gYmV0d2VlbiB0aGUgZGlmZmVyZW50IEZpcmViYXNlIGNvbXBvbmVudHNcclxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXHJcbiAqL1xyXG5yZWdpc3RlckNvcmVDb21wb25lbnRzKCdub2RlJyk7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnRmlyZWJhc2VFcnJvcicsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB1dGlsLkZpcmViYXNlRXJyb3I7IH1cbn0pO1xuZXhwb3J0cy5TREtfVkVSU0lPTiA9IFNES19WRVJTSU9OO1xuZXhwb3J0cy5fREVGQVVMVF9FTlRSWV9OQU1FID0gREVGQVVMVF9FTlRSWV9OQU1FO1xuZXhwb3J0cy5fYWRkQ29tcG9uZW50ID0gX2FkZENvbXBvbmVudDtcbmV4cG9ydHMuX2FkZE9yT3ZlcndyaXRlQ29tcG9uZW50ID0gX2FkZE9yT3ZlcndyaXRlQ29tcG9uZW50O1xuZXhwb3J0cy5fYXBwcyA9IF9hcHBzO1xuZXhwb3J0cy5fY2xlYXJDb21wb25lbnRzID0gX2NsZWFyQ29tcG9uZW50cztcbmV4cG9ydHMuX2NvbXBvbmVudHMgPSBfY29tcG9uZW50cztcbmV4cG9ydHMuX2dldFByb3ZpZGVyID0gX2dldFByb3ZpZGVyO1xuZXhwb3J0cy5faXNGaXJlYmFzZUFwcCA9IF9pc0ZpcmViYXNlQXBwO1xuZXhwb3J0cy5faXNGaXJlYmFzZVNlcnZlckFwcCA9IF9pc0ZpcmViYXNlU2VydmVyQXBwO1xuZXhwb3J0cy5fcmVnaXN0ZXJDb21wb25lbnQgPSBfcmVnaXN0ZXJDb21wb25lbnQ7XG5leHBvcnRzLl9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UgPSBfcmVtb3ZlU2VydmljZUluc3RhbmNlO1xuZXhwb3J0cy5fc2VydmVyQXBwcyA9IF9zZXJ2ZXJBcHBzO1xuZXhwb3J0cy5kZWxldGVBcHAgPSBkZWxldGVBcHA7XG5leHBvcnRzLmdldEFwcCA9IGdldEFwcDtcbmV4cG9ydHMuZ2V0QXBwcyA9IGdldEFwcHM7XG5leHBvcnRzLmluaXRpYWxpemVBcHAgPSBpbml0aWFsaXplQXBwO1xuZXhwb3J0cy5pbml0aWFsaXplU2VydmVyQXBwID0gaW5pdGlhbGl6ZVNlcnZlckFwcDtcbmV4cG9ydHMub25Mb2cgPSBvbkxvZztcbmV4cG9ydHMucmVnaXN0ZXJWZXJzaW9uID0gcmVnaXN0ZXJWZXJzaW9uO1xuZXhwb3J0cy5zZXRMb2dMZXZlbCA9IHNldExvZ0xldmVsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgdHNsaWIgPSByZXF1aXJlKCd0c2xpYicpO1xudmFyIHV0aWwgPSByZXF1aXJlKCdAZmlyZWJhc2UvdXRpbCcpO1xuXG4vKipcclxuICogQ29tcG9uZW50IGZvciBzZXJ2aWNlIG5hbWUgVCwgZS5nLiBgYXV0aGAsIGBhdXRoLWludGVybmFsYFxyXG4gKi9cclxudmFyIENvbXBvbmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBwdWJsaWMgc2VydmljZSBuYW1lLCBlLmcuIGFwcCwgYXV0aCwgZmlyZXN0b3JlLCBkYXRhYmFzZVxyXG4gICAgICogQHBhcmFtIGluc3RhbmNlRmFjdG9yeSBTZXJ2aWNlIGZhY3RvcnkgcmVzcG9uc2libGUgZm9yIGNyZWF0aW5nIHRoZSBwdWJsaWMgaW50ZXJmYWNlXHJcbiAgICAgKiBAcGFyYW0gdHlwZSB3aGV0aGVyIHRoZSBzZXJ2aWNlIHByb3ZpZGVkIGJ5IHRoZSBjb21wb25lbnQgaXMgcHVibGljIG9yIHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50KG5hbWUsIGluc3RhbmNlRmFjdG9yeSwgdHlwZSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZUZhY3RvcnkgPSBpbnN0YW5jZUZhY3Rvcnk7XHJcbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcclxuICAgICAgICB0aGlzLm11bHRpcGxlSW5zdGFuY2VzID0gZmFsc2U7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogUHJvcGVydGllcyB0byBiZSBhZGRlZCB0byB0aGUgc2VydmljZSBuYW1lc3BhY2VcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLnNlcnZpY2VQcm9wcyA9IHt9O1xyXG4gICAgICAgIHRoaXMuaW5zdGFudGlhdGlvbk1vZGUgPSBcIkxBWllcIiAvKiBJbnN0YW50aWF0aW9uTW9kZS5MQVpZICovO1xyXG4gICAgICAgIHRoaXMub25JbnN0YW5jZUNyZWF0ZWQgPSBudWxsO1xyXG4gICAgfVxyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRJbnN0YW50aWF0aW9uTW9kZSA9IGZ1bmN0aW9uIChtb2RlKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW50aWF0aW9uTW9kZSA9IG1vZGU7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRNdWx0aXBsZUluc3RhbmNlcyA9IGZ1bmN0aW9uIChtdWx0aXBsZUluc3RhbmNlcykge1xyXG4gICAgICAgIHRoaXMubXVsdGlwbGVJbnN0YW5jZXMgPSBtdWx0aXBsZUluc3RhbmNlcztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBDb21wb25lbnQucHJvdG90eXBlLnNldFNlcnZpY2VQcm9wcyA9IGZ1bmN0aW9uIChwcm9wcykge1xyXG4gICAgICAgIHRoaXMuc2VydmljZVByb3BzID0gcHJvcHM7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50LnByb3RvdHlwZS5zZXRJbnN0YW5jZUNyZWF0ZWRDYWxsYmFjayA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xyXG4gICAgICAgIHRoaXMub25JbnN0YW5jZUNyZWF0ZWQgPSBjYWxsYmFjaztcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50O1xyXG59KCkpO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG52YXIgREVGQVVMVF9FTlRSWV9OQU1FID0gJ1tERUZBVUxUXSc7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBQcm92aWRlciBmb3IgaW5zdGFuY2UgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuICdhdXRoJywgJ2F1dGgtaW50ZXJuYWwnXHJcbiAqIE5hbWVTZXJ2aWNlTWFwcGluZ1tUXSBpcyBhbiBhbGlhcyBmb3IgdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlXHJcbiAqL1xyXG52YXIgUHJvdmlkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQcm92aWRlcihuYW1lLCBjb250YWluZXIpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xyXG4gICAgICAgIHRoaXMuY29tcG9uZW50ID0gbnVsbDtcclxuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkID0gbmV3IE1hcCgpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzT3B0aW9ucyA9IG5ldyBNYXAoKTtcclxuICAgICAgICB0aGlzLm9uSW5pdENhbGxiYWNrcyA9IG5ldyBNYXAoKTtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgQSBwcm92aWRlciBjYW4gcHJvdmlkZSBtdWxpdHBsZSBpbnN0YW5jZXMgb2YgYSBzZXJ2aWNlXHJcbiAgICAgKiBpZiB0aGlzLmNvbXBvbmVudC5tdWx0aXBsZUluc3RhbmNlcyBpcyB0cnVlLlxyXG4gICAgICovXHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICAvLyBpZiBtdWx0aXBsZUluc3RhbmNlcyBpcyBub3Qgc3VwcG9ydGVkLCB1c2UgdGhlIGRlZmF1bHQgbmFtZVxyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIGlmICghdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5oYXMobm9ybWFsaXplZElkZW50aWZpZXIpKSB7XHJcbiAgICAgICAgICAgIHZhciBkZWZlcnJlZCA9IG5ldyB1dGlsLkRlZmVycmVkKCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuc2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyLCBkZWZlcnJlZCk7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmlzSW5pdGlhbGl6ZWQobm9ybWFsaXplZElkZW50aWZpZXIpIHx8XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNob3VsZEF1dG9Jbml0aWFsaXplKCkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemUgdGhlIHNlcnZpY2UgaWYgaXQgY2FuIGJlIGF1dG8taW5pdGlhbGl6ZWRcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2VJZGVudGlmaWVyOiBub3JtYWxpemVkSWRlbnRpZmllclxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnN0YW5jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZlcnJlZC5yZXNvbHZlKGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgdGhyb3dzIGFuIGV4Y2VwdGlvbiBkdXJpbmcgZ2V0KCksIGl0IHNob3VsZCBub3QgY2F1c2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yLiBXZSBqdXN0IHJldHVybiB0aGUgdW5yZXNvbHZlZCBwcm9taXNlIGluIHRoaXMgY2FzZS5cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNEZWZlcnJlZC5nZXQobm9ybWFsaXplZElkZW50aWZpZXIpLnByb21pc2U7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldEltbWVkaWF0ZSA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIC8vIGlmIG11bHRpcGxlSW5zdGFuY2VzIGlzIG5vdCBzdXBwb3J0ZWQsIHVzZSB0aGUgZGVmYXVsdCBuYW1lXHJcbiAgICAgICAgdmFyIG5vcm1hbGl6ZWRJZGVudGlmaWVyID0gdGhpcy5ub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLmlkZW50aWZpZXIpO1xyXG4gICAgICAgIHZhciBvcHRpb25hbCA9IChfYSA9IG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5vcHRpb25hbCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZmFsc2U7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikgfHxcclxuICAgICAgICAgICAgdGhpcy5zaG91bGRBdXRvSW5pdGlhbGl6ZSgpKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZWRJZGVudGlmaWVyXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbmFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBJbiBjYXNlIGEgY29tcG9uZW50IGlzIG5vdCBpbml0aWFsaXplZCBhbmQgc2hvdWxkL2NhbiBub3QgYmUgYXV0by1pbml0aWFsaXplZCBhdCB0aGUgbW9tZW50LCByZXR1cm4gbnVsbCBpZiB0aGUgb3B0aW9uYWwgZmxhZyBpcyBzZXQsIG9yIHRocm93XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25hbCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihcIlNlcnZpY2UgXCIuY29uY2F0KHRoaXMubmFtZSwgXCIgaXMgbm90IGF2YWlsYWJsZVwiKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldENvbXBvbmVudCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb21wb25lbnQ7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLnNldENvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgZV8xLCBfYTtcclxuICAgICAgICBpZiAoY29tcG9uZW50Lm5hbWUgIT09IHRoaXMubmFtZSkge1xyXG4gICAgICAgICAgICB0aHJvdyBFcnJvcihcIk1pc21hdGNoaW5nIENvbXBvbmVudCBcIi5jb25jYXQoY29tcG9uZW50Lm5hbWUsIFwiIGZvciBQcm92aWRlciBcIikuY29uY2F0KHRoaXMubmFtZSwgXCIuXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ29tcG9uZW50IGZvciBcIi5jb25jYXQodGhpcy5uYW1lLCBcIiBoYXMgYWxyZWFkeSBiZWVuIHByb3ZpZGVkXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jb21wb25lbnQgPSBjb21wb25lbnQ7XHJcbiAgICAgICAgLy8gcmV0dXJuIGVhcmx5IHdpdGhvdXQgYXR0ZW1wdGluZyB0byBpbml0aWFsaXplIHRoZSBjb21wb25lbnQgaWYgdGhlIGNvbXBvbmVudCByZXF1aXJlcyBleHBsaWNpdCBpbml0aWFsaXphdGlvbiAoY2FsbGluZyBgUHJvdmlkZXIuaW5pdGlhbGl6ZSgpYClcclxuICAgICAgICBpZiAoIXRoaXMuc2hvdWxkQXV0b0luaXRpYWxpemUoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIHRoZSBzZXJ2aWNlIGlzIGVhZ2VyLCBpbml0aWFsaXplIHRoZSBkZWZhdWx0IGluc3RhbmNlXHJcbiAgICAgICAgaWYgKGlzQ29tcG9uZW50RWFnZXIoY29tcG9uZW50KSkge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nZXRPckluaXRpYWxpemVTZXJ2aWNlKHsgaW5zdGFuY2VJZGVudGlmaWVyOiBERUZBVUxUX0VOVFJZX05BTUUgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgIC8vIHdoZW4gdGhlIGluc3RhbmNlIGZhY3RvcnkgZm9yIGFuIGVhZ2VyIENvbXBvbmVudCB0aHJvd3MgYW4gZXhjZXB0aW9uIGR1cmluZyB0aGUgZWFnZXJcclxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpemF0aW9uLCBpdCBzaG91bGQgbm90IGNhdXNlIGEgZmF0YWwgZXJyb3IuXHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPOiBJbnZlc3RpZ2F0ZSBpZiB3ZSBuZWVkIHRvIG1ha2UgaXQgY29uZmlndXJhYmxlLCBiZWNhdXNlIHNvbWUgY29tcG9uZW50IG1heSB3YW50IHRvIGNhdXNlXHJcbiAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yIGluIHRoaXMgY2FzZT9cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyBDcmVhdGUgc2VydmljZSBpbnN0YW5jZXMgZm9yIHRoZSBwZW5kaW5nIHByb21pc2VzIGFuZCByZXNvbHZlIHRoZW1cclxuICAgICAgICAgICAgLy8gTk9URTogaWYgdGhpcy5tdWx0aXBsZUluc3RhbmNlcyBpcyBmYWxzZSwgb25seSB0aGUgZGVmYXVsdCBpbnN0YW5jZSB3aWxsIGJlIGNyZWF0ZWRcclxuICAgICAgICAgICAgLy8gYW5kIGFsbCBwcm9taXNlcyB3aXRoIHJlc29sdmUgd2l0aCBpdCByZWdhcmRsZXNzIG9mIHRoZSBpZGVudGlmaWVyLlxyXG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IHRzbGliLl9fdmFsdWVzKHRoaXMuaW5zdGFuY2VzRGVmZXJyZWQuZW50cmllcygpKSwgX2MgPSBfYi5uZXh0KCk7ICFfYy5kb25lOyBfYyA9IF9iLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9kID0gdHNsaWIuX19yZWFkKF9jLnZhbHVlLCAyKSwgaW5zdGFuY2VJZGVudGlmaWVyID0gX2RbMF0sIGluc3RhbmNlRGVmZXJyZWQgPSBfZFsxXTtcclxuICAgICAgICAgICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGBnZXRPckluaXRpYWxpemVTZXJ2aWNlKClgIHNob3VsZCBhbHdheXMgcmV0dXJuIGEgdmFsaWQgaW5zdGFuY2Ugc2luY2UgYSBjb21wb25lbnQgaXMgZ3VhcmFudGVlZC4gdXNlICEgdG8gbWFrZSB0eXBlc2NyaXB0IGhhcHB5LlxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZURlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGVuIHRoZSBpbnN0YW5jZSBmYWN0b3J5IHRocm93cyBhbiBleGNlcHRpb24sIGl0IHNob3VsZCBub3QgY2F1c2VcclxuICAgICAgICAgICAgICAgICAgICAvLyBhIGZhdGFsIGVycm9yLiBXZSBqdXN0IGxlYXZlIHRoZSBwcm9taXNlIHVucmVzb2x2ZWQuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5jbGVhckluc3RhbmNlID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICB0aGlzLmluc3RhbmNlc0RlZmVycmVkLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgICAgICB0aGlzLmluc3RhbmNlc09wdGlvbnMuZGVsZXRlKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2VzLmRlbGV0ZShpZGVudGlmaWVyKTtcclxuICAgIH07XHJcbiAgICAvLyBhcHAuZGVsZXRlKCkgd2lsbCBjYWxsIHRoaXMgbWV0aG9kIG9uIGV2ZXJ5IHByb3ZpZGVyIHRvIGRlbGV0ZSB0aGUgc2VydmljZXNcclxuICAgIC8vIFRPRE86IHNob3VsZCB3ZSBtYXJrIHRoZSBwcm92aWRlciBhcyBkZWxldGVkP1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdHNsaWIuX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBzZXJ2aWNlcztcclxuICAgICAgICAgICAgcmV0dXJuIHRzbGliLl9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xyXG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VydmljZXMgPSBBcnJheS5mcm9tKHRoaXMuaW5zdGFuY2VzLnZhbHVlcygpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgUHJvbWlzZS5hbGwodHNsaWIuX19zcHJlYWRBcnJheSh0c2xpYi5fX3NwcmVhZEFycmF5KFtdLCB0c2xpYi5fX3JlYWQoc2VydmljZXNcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uIChzZXJ2aWNlKSB7IHJldHVybiAnSU5URVJOQUwnIGluIHNlcnZpY2U7IH0pIC8vIGxlZ2FjeSBzZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gc2VydmljZS5JTlRFUk5BTC5kZWxldGUoKTsgfSkpLCBmYWxzZSksIHRzbGliLl9fcmVhZChzZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKHNlcnZpY2UpIHsgcmV0dXJuICdfZGVsZXRlJyBpbiBzZXJ2aWNlOyB9KSAvLyBtb2R1bGFyaXplZCBzZXJ2aWNlc1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoc2VydmljZSkgeyByZXR1cm4gc2VydmljZS5fZGVsZXRlKCk7IH0pKSwgZmFsc2UpKV07XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmlzQ29tcG9uZW50U2V0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNvbXBvbmVudCAhPSBudWxsO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5pc0luaXRpYWxpemVkID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXMuaGFzKGlkZW50aWZpZXIpO1xyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5nZXRPcHRpb25zID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNPcHRpb25zLmdldChpZGVudGlmaWVyKSB8fCB7fTtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUuaW5pdGlhbGl6ZSA9IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgdmFyIGVfMiwgX2E7XHJcbiAgICAgICAgaWYgKG9wdHMgPT09IHZvaWQgMCkgeyBvcHRzID0ge307IH1cclxuICAgICAgICB2YXIgX2IgPSBvcHRzLm9wdGlvbnMsIG9wdGlvbnMgPSBfYiA9PT0gdm9pZCAwID8ge30gOiBfYjtcclxuICAgICAgICB2YXIgbm9ybWFsaXplZElkZW50aWZpZXIgPSB0aGlzLm5vcm1hbGl6ZUluc3RhbmNlSWRlbnRpZmllcihvcHRzLmluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNJbml0aWFsaXplZChub3JtYWxpemVkSWRlbnRpZmllcikpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoXCJcIi5jb25jYXQodGhpcy5uYW1lLCBcIihcIikuY29uY2F0KG5vcm1hbGl6ZWRJZGVudGlmaWVyLCBcIikgaGFzIGFscmVhZHkgYmVlbiBpbml0aWFsaXplZFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGhpcy5pc0NvbXBvbmVudFNldCgpKSB7XHJcbiAgICAgICAgICAgIHRocm93IEVycm9yKFwiQ29tcG9uZW50IFwiLmNvbmNhdCh0aGlzLm5hbWUsIFwiIGhhcyBub3QgYmVlbiByZWdpc3RlcmVkIHlldFwiKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBpbnN0YW5jZSA9IHRoaXMuZ2V0T3JJbml0aWFsaXplU2VydmljZSh7XHJcbiAgICAgICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogbm9ybWFsaXplZElkZW50aWZpZXIsXHJcbiAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnNcclxuICAgICAgICB9KTtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAvLyByZXNvbHZlIGFueSBwZW5kaW5nIHByb21pc2Ugd2FpdGluZyBmb3IgdGhlIHNlcnZpY2UgaW5zdGFuY2VcclxuICAgICAgICAgICAgZm9yICh2YXIgX2MgPSB0c2xpYi5fX3ZhbHVlcyh0aGlzLmluc3RhbmNlc0RlZmVycmVkLmVudHJpZXMoKSksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBfZSA9IHRzbGliLl9fcmVhZChfZC52YWx1ZSwgMiksIGluc3RhbmNlSWRlbnRpZmllciA9IF9lWzBdLCBpbnN0YW5jZURlZmVycmVkID0gX2VbMV07XHJcbiAgICAgICAgICAgICAgICB2YXIgbm9ybWFsaXplZERlZmVycmVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGluc3RhbmNlSWRlbnRpZmllcik7XHJcbiAgICAgICAgICAgICAgICBpZiAobm9ybWFsaXplZElkZW50aWZpZXIgPT09IG5vcm1hbGl6ZWREZWZlcnJlZElkZW50aWZpZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZURlZmVycmVkLnJlc29sdmUoaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2U7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNhbGxiYWNrIC0gYSBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgaW52b2tlZCAgYWZ0ZXIgdGhlIHByb3ZpZGVyIGhhcyBiZWVuIGluaXRpYWxpemVkIGJ5IGNhbGxpbmcgcHJvdmlkZXIuaW5pdGlhbGl6ZSgpLlxyXG4gICAgICogVGhlIGZ1bmN0aW9uIGlzIGludm9rZWQgU1lOQ0hST05PVVNMWSwgc28gaXQgc2hvdWxkIG5vdCBleGVjdXRlIGFueSBsb25ncnVubmluZyB0YXNrcyBpbiBvcmRlciB0byBub3QgYmxvY2sgdGhlIHByb2dyYW0uXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlkZW50aWZpZXIgQW4gb3B0aW9uYWwgaW5zdGFuY2UgaWRlbnRpZmllclxyXG4gICAgICogQHJldHVybnMgYSBmdW5jdGlvbiB0byB1bnJlZ2lzdGVyIHRoZSBjYWxsYmFja1xyXG4gICAgICovXHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUub25Jbml0ID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBpZGVudGlmaWVyKSB7XHJcbiAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgIHZhciBub3JtYWxpemVkSWRlbnRpZmllciA9IHRoaXMubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xyXG4gICAgICAgIHZhciBleGlzdGluZ0NhbGxiYWNrcyA9IChfYSA9IHRoaXMub25Jbml0Q2FsbGJhY2tzLmdldChub3JtYWxpemVkSWRlbnRpZmllcikpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IG5ldyBTZXQoKTtcclxuICAgICAgICBleGlzdGluZ0NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xyXG4gICAgICAgIHRoaXMub25Jbml0Q2FsbGJhY2tzLnNldChub3JtYWxpemVkSWRlbnRpZmllciwgZXhpc3RpbmdDYWxsYmFja3MpO1xyXG4gICAgICAgIHZhciBleGlzdGluZ0luc3RhbmNlID0gdGhpcy5pbnN0YW5jZXMuZ2V0KG5vcm1hbGl6ZWRJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoZXhpc3RpbmdJbnN0YW5jZSkge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhleGlzdGluZ0luc3RhbmNlLCBub3JtYWxpemVkSWRlbnRpZmllcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGV4aXN0aW5nQ2FsbGJhY2tzLmRlbGV0ZShjYWxsYmFjayk7XHJcbiAgICAgICAgfTtcclxuICAgIH07XHJcbiAgICAvKipcclxuICAgICAqIEludm9rZSBvbkluaXQgY2FsbGJhY2tzIHN5bmNocm9ub3VzbHlcclxuICAgICAqIEBwYXJhbSBpbnN0YW5jZSB0aGUgc2VydmljZSBpbnN0YW5jZWBcclxuICAgICAqL1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmludm9rZU9uSW5pdENhbGxiYWNrcyA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgaWRlbnRpZmllcikge1xyXG4gICAgICAgIHZhciBlXzMsIF9hO1xyXG4gICAgICAgIHZhciBjYWxsYmFja3MgPSB0aGlzLm9uSW5pdENhbGxiYWNrcy5nZXQoaWRlbnRpZmllcik7XHJcbiAgICAgICAgaWYgKCFjYWxsYmFja3MpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBmb3IgKHZhciBjYWxsYmFja3NfMSA9IHRzbGliLl9fdmFsdWVzKGNhbGxiYWNrcyksIGNhbGxiYWNrc18xXzEgPSBjYWxsYmFja3NfMS5uZXh0KCk7ICFjYWxsYmFja3NfMV8xLmRvbmU7IGNhbGxiYWNrc18xXzEgPSBjYWxsYmFja3NfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciBjYWxsYmFjayA9IGNhbGxiYWNrc18xXzEudmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKGluc3RhbmNlLCBpZGVudGlmaWVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChfYikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvcnMgaW4gdGhlIG9uSW5pdCBjYWxsYmFja1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzXzFfMSAmJiAhY2FsbGJhY2tzXzFfMS5kb25lICYmIChfYSA9IGNhbGxiYWNrc18xLnJldHVybikpIF9hLmNhbGwoY2FsbGJhY2tzXzEpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8zKSB0aHJvdyBlXzMuZXJyb3I7IH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUHJvdmlkZXIucHJvdG90eXBlLmdldE9ySW5pdGlhbGl6ZVNlcnZpY2UgPSBmdW5jdGlvbiAoX2EpIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2VJZGVudGlmaWVyID0gX2EuaW5zdGFuY2VJZGVudGlmaWVyLCBfYiA9IF9hLm9wdGlvbnMsIG9wdGlvbnMgPSBfYiA9PT0gdm9pZCAwID8ge30gOiBfYjtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlcy5nZXQoaW5zdGFuY2VJZGVudGlmaWVyKTtcclxuICAgICAgICBpZiAoIWluc3RhbmNlICYmIHRoaXMuY29tcG9uZW50KSB7XHJcbiAgICAgICAgICAgIGluc3RhbmNlID0gdGhpcy5jb21wb25lbnQuaW5zdGFuY2VGYWN0b3J5KHRoaXMuY29udGFpbmVyLCB7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZUlkZW50aWZpZXI6IG5vcm1hbGl6ZUlkZW50aWZpZXJGb3JGYWN0b3J5KGluc3RhbmNlSWRlbnRpZmllciksXHJcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5zdGFuY2VzT3B0aW9ucy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBvcHRpb25zKTtcclxuICAgICAgICAgICAgLyoqXHJcbiAgICAgICAgICAgICAqIEludm9rZSBvbkluaXQgbGlzdGVuZXJzLlxyXG4gICAgICAgICAgICAgKiBOb3RlIHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkIGlzIGRpZmZlcmVudCwgd2hpY2ggaXMgdXNlZCBieSB0aGUgY29tcG9uZW50IGNyZWF0b3IsXHJcbiAgICAgICAgICAgICAqIHdoaWxlIG9uSW5pdCBsaXN0ZW5lcnMgYXJlIHJlZ2lzdGVyZWQgYnkgY29uc3VtZXJzIG9mIHRoZSBwcm92aWRlci5cclxuICAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHRoaXMuaW52b2tlT25Jbml0Q2FsbGJhY2tzKGluc3RhbmNlLCBpbnN0YW5jZUlkZW50aWZpZXIpO1xyXG4gICAgICAgICAgICAvKipcclxuICAgICAgICAgICAgICogT3JkZXIgaXMgaW1wb3J0YW50XHJcbiAgICAgICAgICAgICAqIG9uSW5zdGFuY2VDcmVhdGVkKCkgc2hvdWxkIGJlIGNhbGxlZCBhZnRlciB0aGlzLmluc3RhbmNlcy5zZXQoaW5zdGFuY2VJZGVudGlmaWVyLCBpbnN0YW5jZSk7IHdoaWNoXHJcbiAgICAgICAgICAgICAqIG1ha2VzIGBpc0luaXRpYWxpemVkKClgIHJldHVybiB0cnVlLlxyXG4gICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgaWYgKHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50Lm9uSW5zdGFuY2VDcmVhdGVkKHRoaXMuY29udGFpbmVyLCBpbnN0YW5jZUlkZW50aWZpZXIsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChfYykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGlnbm9yZSBlcnJvcnMgaW4gdGhlIG9uSW5zdGFuY2VDcmVhdGVkQ2FsbGJhY2tcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gaW5zdGFuY2UgfHwgbnVsbDtcclxuICAgIH07XHJcbiAgICBQcm92aWRlci5wcm90b3R5cGUubm9ybWFsaXplSW5zdGFuY2VJZGVudGlmaWVyID0gZnVuY3Rpb24gKGlkZW50aWZpZXIpIHtcclxuICAgICAgICBpZiAoaWRlbnRpZmllciA9PT0gdm9pZCAwKSB7IGlkZW50aWZpZXIgPSBERUZBVUxUX0VOVFJZX05BTUU7IH1cclxuICAgICAgICBpZiAodGhpcy5jb21wb25lbnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcG9uZW50Lm11bHRpcGxlSW5zdGFuY2VzID8gaWRlbnRpZmllciA6IERFRkFVTFRfRU5UUllfTkFNRTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiBpZGVudGlmaWVyOyAvLyBhc3N1bWUgbXVsdGlwbGUgaW5zdGFuY2VzIGFyZSBzdXBwb3J0ZWQgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgcHJvdmlkZWQuXHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFByb3ZpZGVyLnByb3RvdHlwZS5zaG91bGRBdXRvSW5pdGlhbGl6ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gKCEhdGhpcy5jb21wb25lbnQgJiZcclxuICAgICAgICAgICAgdGhpcy5jb21wb25lbnQuaW5zdGFudGlhdGlvbk1vZGUgIT09IFwiRVhQTElDSVRcIiAvKiBJbnN0YW50aWF0aW9uTW9kZS5FWFBMSUNJVCAqLyk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFByb3ZpZGVyO1xyXG59KCkpO1xyXG4vLyB1bmRlZmluZWQgc2hvdWxkIGJlIHBhc3NlZCB0byB0aGUgc2VydmljZSBmYWN0b3J5IGZvciB0aGUgZGVmYXVsdCBpbnN0YW5jZVxyXG5mdW5jdGlvbiBub3JtYWxpemVJZGVudGlmaWVyRm9yRmFjdG9yeShpZGVudGlmaWVyKSB7XHJcbiAgICByZXR1cm4gaWRlbnRpZmllciA9PT0gREVGQVVMVF9FTlRSWV9OQU1FID8gdW5kZWZpbmVkIDogaWRlbnRpZmllcjtcclxufVxyXG5mdW5jdGlvbiBpc0NvbXBvbmVudEVhZ2VyKGNvbXBvbmVudCkge1xyXG4gICAgcmV0dXJuIGNvbXBvbmVudC5pbnN0YW50aWF0aW9uTW9kZSA9PT0gXCJFQUdFUlwiIC8qIEluc3RhbnRpYXRpb25Nb2RlLkVBR0VSICovO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDb21wb25lbnRDb250YWluZXIgdGhhdCBwcm92aWRlcyBQcm92aWRlcnMgZm9yIHNlcnZpY2UgbmFtZSBULCBlLmcuIGBhdXRoYCwgYGF1dGgtaW50ZXJuYWxgXHJcbiAqL1xyXG52YXIgQ29tcG9uZW50Q29udGFpbmVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gQ29tcG9uZW50Q29udGFpbmVyKG5hbWUpIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXJzID0gbmV3IE1hcCgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGNvbXBvbmVudCBDb21wb25lbnQgYmVpbmcgYWRkZWRcclxuICAgICAqIEBwYXJhbSBvdmVyd3JpdGUgV2hlbiBhIGNvbXBvbmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkLFxyXG4gICAgICogaWYgb3ZlcndyaXRlIGlzIHRydWU6IG92ZXJ3cml0ZSB0aGUgZXhpc3RpbmcgY29tcG9uZW50IHdpdGggdGhlIG5ldyBjb21wb25lbnQgYW5kIGNyZWF0ZSBhIG5ld1xyXG4gICAgICogcHJvdmlkZXIgd2l0aCB0aGUgbmV3IGNvbXBvbmVudC4gSXQgY2FuIGJlIHVzZWZ1bCBpbiB0ZXN0cyB3aGVyZSB5b3Ugd2FudCB0byB1c2UgZGlmZmVyZW50IG1vY2tzXHJcbiAgICAgKiBmb3IgZGlmZmVyZW50IHRlc3RzLlxyXG4gICAgICogaWYgb3ZlcndyaXRlIGlzIGZhbHNlOiB0aHJvdyBhbiBleGNlcHRpb25cclxuICAgICAqL1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5hZGRDb21wb25lbnQgPSBmdW5jdGlvbiAoY29tcG9uZW50KSB7XHJcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gdGhpcy5nZXRQcm92aWRlcihjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgaWYgKHByb3ZpZGVyLmlzQ29tcG9uZW50U2V0KCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ29tcG9uZW50IFwiLmNvbmNhdChjb21wb25lbnQubmFtZSwgXCIgaGFzIGFscmVhZHkgYmVlbiByZWdpc3RlcmVkIHdpdGggXCIpLmNvbmNhdCh0aGlzLm5hbWUpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcHJvdmlkZXIuc2V0Q29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgQ29tcG9uZW50Q29udGFpbmVyLnByb3RvdHlwZS5hZGRPck92ZXJ3cml0ZUNvbXBvbmVudCA9IGZ1bmN0aW9uIChjb21wb25lbnQpIHtcclxuICAgICAgICB2YXIgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKGNvbXBvbmVudC5uYW1lKTtcclxuICAgICAgICBpZiAocHJvdmlkZXIuaXNDb21wb25lbnRTZXQoKSkge1xyXG4gICAgICAgICAgICAvLyBkZWxldGUgdGhlIGV4aXN0aW5nIHByb3ZpZGVyIGZyb20gdGhlIGNvbnRhaW5lciwgc28gd2UgY2FuIHJlZ2lzdGVyIHRoZSBuZXcgY29tcG9uZW50XHJcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJzLmRlbGV0ZShjb21wb25lbnQubmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuYWRkQ29tcG9uZW50KGNvbXBvbmVudCk7XHJcbiAgICB9O1xyXG4gICAgLyoqXHJcbiAgICAgKiBnZXRQcm92aWRlciBwcm92aWRlcyBhIHR5cGUgc2FmZSBpbnRlcmZhY2Ugd2hlcmUgaXQgY2FuIG9ubHkgYmUgY2FsbGVkIHdpdGggYSBmaWVsZCBuYW1lXHJcbiAgICAgKiBwcmVzZW50IGluIE5hbWVTZXJ2aWNlTWFwcGluZyBpbnRlcmZhY2UuXHJcbiAgICAgKlxyXG4gICAgICogRmlyZWJhc2UgU0RLcyBwcm92aWRpbmcgc2VydmljZXMgc2hvdWxkIGV4dGVuZCBOYW1lU2VydmljZU1hcHBpbmcgaW50ZXJmYWNlIHRvIHJlZ2lzdGVyXHJcbiAgICAgKiB0aGVtc2VsdmVzLlxyXG4gICAgICovXHJcbiAgICBDb21wb25lbnRDb250YWluZXIucHJvdG90eXBlLmdldFByb3ZpZGVyID0gZnVuY3Rpb24gKG5hbWUpIHtcclxuICAgICAgICBpZiAodGhpcy5wcm92aWRlcnMuaGFzKG5hbWUpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVycy5nZXQobmFtZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNyZWF0ZSBhIFByb3ZpZGVyIGZvciBhIHNlcnZpY2UgdGhhdCBoYXNuJ3QgcmVnaXN0ZXJlZCB3aXRoIEZpcmViYXNlXHJcbiAgICAgICAgdmFyIHByb3ZpZGVyID0gbmV3IFByb3ZpZGVyKG5hbWUsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMucHJvdmlkZXJzLnNldChuYW1lLCBwcm92aWRlcik7XHJcbiAgICAgICAgcmV0dXJuIHByb3ZpZGVyO1xyXG4gICAgfTtcclxuICAgIENvbXBvbmVudENvbnRhaW5lci5wcm90b3R5cGUuZ2V0UHJvdmlkZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKHRoaXMucHJvdmlkZXJzLnZhbHVlcygpKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29tcG9uZW50Q29udGFpbmVyO1xyXG59KCkpO1xuXG5leHBvcnRzLkNvbXBvbmVudCA9IENvbXBvbmVudDtcbmV4cG9ydHMuQ29tcG9uZW50Q29udGFpbmVyID0gQ29tcG9uZW50Q29udGFpbmVyO1xuZXhwb3J0cy5Qcm92aWRlciA9IFByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgYXBwID0gcmVxdWlyZSgnQGZpcmViYXNlL2FwcCcpO1xudmFyIGNvbXBvbmVudCA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9jb21wb25lbnQnKTtcbnZhciBsb2dnZXIgPSByZXF1aXJlKCdAZmlyZWJhc2UvbG9nZ2VyJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJ0BmaXJlYmFzZS91dGlsJyk7XG52YXIgYmxvb21CbG9iID0gcmVxdWlyZSgnQGZpcmViYXNlL3dlYmNoYW5uZWwtd3JhcHBlci9ibG9vbS1ibG9iJyk7XG52YXIgd2ViY2hhbm5lbEJsb2IgPSByZXF1aXJlKCdAZmlyZWJhc2Uvd2ViY2hhbm5lbC13cmFwcGVyL3dlYmNoYW5uZWwtYmxvYicpO1xuXG5jb25zdCBTID0gXCJAZmlyZWJhc2UvZmlyZXN0b3JlXCI7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFNpbXBsZSB3cmFwcGVyIGFyb3VuZCBhIG51bGxhYmxlIFVJRC4gTW9zdGx5IGV4aXN0cyB0byBtYWtlIGNvZGUgbW9yZVxuICogcmVhZGFibGUuXG4gKi9cbmNsYXNzIFVzZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy51aWQgPSBlO1xuICAgIH1cbiAgICBpc0F1dGhlbnRpY2F0ZWQoKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9IHRoaXMudWlkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEga2V5IHJlcHJlc2VudGluZyB0aGlzIHVzZXIsIHN1aXRhYmxlIGZvciBpbmNsdXNpb24gaW4gYVxuICAgICAqIGRpY3Rpb25hcnkuXG4gICAgICovICAgIHRvS2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0F1dGhlbnRpY2F0ZWQoKSA/IFwidWlkOlwiICsgdGhpcy51aWQgOiBcImFub255bW91cy11c2VyXCI7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZS51aWQgPT09IHRoaXMudWlkO1xuICAgIH1cbn1cblxuLyoqIEEgdXNlciB3aXRoIGEgbnVsbCBVSUQuICovIFVzZXIuVU5BVVRIRU5USUNBVEVEID0gbmV3IFVzZXIobnVsbCksIFxuLy8gVE9ETyhtaWtlbGVoZW4pOiBMb29rIGludG8gZ2V0dGluZyBhIHByb3BlciB1aWQtZXF1aXZhbGVudCBmb3Jcbi8vIG5vbi1GaXJlYmFzZUF1dGggcHJvdmlkZXJzLlxuVXNlci5HT09HTEVfQ1JFREVOVElBTFMgPSBuZXcgVXNlcihcImdvb2dsZS1jcmVkZW50aWFscy11aWRcIiksIFVzZXIuRklSU1RfUEFSVFkgPSBuZXcgVXNlcihcImZpcnN0LXBhcnR5LXVpZFwiKSwgXG5Vc2VyLk1PQ0tfVVNFUiA9IG5ldyBVc2VyKFwibW9jay11c2VyXCIpO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xubGV0IGIgPSBcIjEwLjEyLjNcIjtcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNvbnN0IEQgPSBuZXcgbG9nZ2VyLkxvZ2dlcihcIkBmaXJlYmFzZS9maXJlc3RvcmVcIik7XG5cbi8vIEhlbHBlciBtZXRob2RzIGFyZSBuZWVkZWQgYmVjYXVzZSB2YXJpYWJsZXMgY2FuJ3QgYmUgZXhwb3J0ZWQgYXMgcmVhZC93cml0ZVxuZnVuY3Rpb24gX19QUklWQVRFX2dldExvZ0xldmVsKCkge1xuICAgIHJldHVybiBELmxvZ0xldmVsO1xufVxuXG4vKipcbiAqIFNldHMgdGhlIHZlcmJvc2l0eSBvZiBDbG91ZCBGaXJlc3RvcmUgbG9ncyAoZGVidWcsIGVycm9yLCBvciBzaWxlbnQpLlxuICpcbiAqIEBwYXJhbSBsb2dMZXZlbCAtIFRoZSB2ZXJib3NpdHkgeW91IHNldCBmb3IgYWN0aXZpdHkgYW5kIGVycm9yIGxvZ2dpbmcuIENhblxuICogICBiZSBhbnkgb2YgdGhlIGZvbGxvd2luZyB2YWx1ZXM6XG4gKlxuICogICA8dWw+XG4gKiAgICAgPGxpPmBkZWJ1Z2AgZm9yIHRoZSBtb3N0IHZlcmJvc2UgbG9nZ2luZyBsZXZlbCwgcHJpbWFyaWx5IGZvclxuICogICAgIGRlYnVnZ2luZy48L2xpPlxuICogICAgIDxsaT5gZXJyb3JgIHRvIGxvZyBlcnJvcnMgb25seS48L2xpPlxuICogICAgIDxsaT48Y29kZT5gc2lsZW50YCB0byB0dXJuIG9mZiBsb2dnaW5nLjwvbGk+XG4gKiAgIDwvdWw+XG4gKi8gZnVuY3Rpb24gc2V0TG9nTGV2ZWwoZSkge1xuICAgIEQuc2V0TG9nTGV2ZWwoZSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb2dEZWJ1ZyhlLCAuLi50KSB7XG4gICAgaWYgKEQubG9nTGV2ZWwgPD0gbG9nZ2VyLkxvZ0xldmVsLkRFQlVHKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0Lm1hcChfX1BSSVZBVEVfYXJnVG9TdHJpbmcpO1xuICAgICAgICBELmRlYnVnKGBGaXJlc3RvcmUgKCR7Yn0pOiAke2V9YCwgLi4ubik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG9nRXJyb3IoZSwgLi4udCkge1xuICAgIGlmIChELmxvZ0xldmVsIDw9IGxvZ2dlci5Mb2dMZXZlbC5FUlJPUikge1xuICAgICAgICBjb25zdCBuID0gdC5tYXAoX19QUklWQVRFX2FyZ1RvU3RyaW5nKTtcbiAgICAgICAgRC5lcnJvcihgRmlyZXN0b3JlICgke2J9KTogJHtlfWAsIC4uLm4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbG9nV2FybihlLCAuLi50KSB7XG4gICAgaWYgKEQubG9nTGV2ZWwgPD0gbG9nZ2VyLkxvZ0xldmVsLldBUk4pIHtcbiAgICAgICAgY29uc3QgbiA9IHQubWFwKF9fUFJJVkFURV9hcmdUb1N0cmluZyk7XG4gICAgICAgIEQud2FybihgRmlyZXN0b3JlICgke2J9KTogJHtlfWAsIC4uLm4pO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBhbiBhZGRpdGlvbmFsIGxvZyBwYXJhbWV0ZXIgdG8gYSBzdHJpbmcgcmVwcmVzZW50YXRpb24uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FyZ1RvU3RyaW5nKGUpIHtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIGU7XG4gICAgdHJ5IHtcbiAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAgICAgLyoqIEZvcm1hdHMgYW4gb2JqZWN0IGFzIGEgSlNPTiBzdHJpbmcsIHN1aXRhYmxlIGZvciBsb2dnaW5nLiAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2Zvcm1hdEpTT04oZSkge1xuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpO1xuICAgICAgICB9KGUpO1xuICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgLy8gQ29udmVydGluZyB0byBKU09OIGZhaWxlZCwganVzdCBsb2cgdGhlIG9iamVjdCBkaXJlY3RseVxuICAgICAgICByZXR1cm4gZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFVuY29uZGl0aW9uYWxseSBmYWlscywgdGhyb3dpbmcgYW4gRXJyb3Igd2l0aCB0aGUgZ2l2ZW4gbWVzc2FnZS5cbiAqIE1lc3NhZ2VzIGFyZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uIGJ1aWxkcy5cbiAqXG4gKiBSZXR1cm5zIGBuZXZlcmAgYW5kIGNhbiBiZSB1c2VkIGluIGV4cHJlc3Npb25zOlxuICogQGV4YW1wbGVcbiAqIGxldCBmdXR1cmVWYXIgPSBmYWlsKCdub3QgaW1wbGVtZW50ZWQgeWV0Jyk7XG4gKi8gZnVuY3Rpb24gZmFpbChlID0gXCJVbmV4cGVjdGVkIHN0YXRlXCIpIHtcbiAgICAvLyBMb2cgdGhlIGZhaWx1cmUgaW4gYWRkaXRpb24gdG8gdGhyb3cgYW4gZXhjZXB0aW9uLCBqdXN0IGluIGNhc2UgdGhlXG4gICAgLy8gZXhjZXB0aW9uIGlzIHN3YWxsb3dlZC5cbiAgICBjb25zdCB0ID0gYEZJUkVTVE9SRSAoJHtifSkgSU5URVJOQUwgQVNTRVJUSU9OIEZBSUxFRDogYCArIGU7XG4gICAgLy8gTk9URTogV2UgZG9uJ3QgdXNlIEZpcmVzdG9yZUVycm9yIGhlcmUgYmVjYXVzZSB0aGVzZSBhcmUgaW50ZXJuYWwgZmFpbHVyZXNcbiAgICAvLyB0aGF0IGNhbm5vdCBiZSBoYW5kbGVkIGJ5IHRoZSB1c2VyLiAoQWxzbyBpdCB3b3VsZCBjcmVhdGUgYSBjaXJjdWxhclxuICAgIC8vIGRlcGVuZGVuY3kgYmV0d2VlbiB0aGUgZXJyb3IgYW5kIGFzc2VydCBtb2R1bGVzIHdoaWNoIGRvZXNuJ3Qgd29yay4pXG4gICAgdGhyb3cgX19QUklWQVRFX2xvZ0Vycm9yKHQpLCBuZXcgRXJyb3IodCk7XG59XG5cbi8qKlxuICogRmFpbHMgaWYgdGhlIGdpdmVuIGFzc2VydGlvbiBjb25kaXRpb24gaXMgZmFsc2UsIHRocm93aW5nIGFuIEVycm9yIHdpdGggdGhlXG4gKiBnaXZlbiBtZXNzYWdlIGlmIGl0IGRpZC5cbiAqXG4gKiBNZXNzYWdlcyBhcmUgc3RyaXBwZWQgaW4gcHJvZHVjdGlvbiBidWlsZHMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2hhcmRBc3NlcnQoZSwgdCkge1xuICAgIGUgfHwgZmFpbCgpO1xufVxuXG4vKipcbiAqIEZhaWxzIGlmIHRoZSBnaXZlbiBhc3NlcnRpb24gY29uZGl0aW9uIGlzIGZhbHNlLCB0aHJvd2luZyBhbiBFcnJvciB3aXRoIHRoZVxuICogZ2l2ZW4gbWVzc2FnZSBpZiBpdCBkaWQuXG4gKlxuICogVGhlIGNvZGUgb2YgY2FsbHNpdGVzIGludm9raW5nIHRoaXMgZnVuY3Rpb24gYXJlIHN0cmlwcGVkIG91dCBpbiBwcm9kdWN0aW9uXG4gKiBidWlsZHMuIEFueSBzaWRlLWVmZmVjdHMgb2YgY29kZSB3aXRoaW4gdGhlIGRlYnVnQXNzZXJ0KCkgaW52b2NhdGlvbiB3aWxsIG5vdFxuICogaGFwcGVuIGluIHRoaXMgY2FzZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZGVidWdBc3NlcnQoZSwgdCkge1xuICAgIGUgfHwgZmFpbCgpO1xufVxuXG4vKipcbiAqIENhc3RzIGBvYmpgIHRvIGBUYC4gSW4gbm9uLXByb2R1Y3Rpb24gYnVpbGRzLCB2ZXJpZmllcyB0aGF0IGBvYmpgIGlzIGFuXG4gKiBpbnN0YW5jZSBvZiBgVGAgYmVmb3JlIGNhc3RpbmcuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RlYnVnQ2FzdChlLCBcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG50KSB7XG4gICAgcmV0dXJuIGU7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IEMgPSB7XG4gICAgLy8gQ2F1c2VzIGFyZSBjb3BpZWQgZnJvbTpcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjL2Jsb2IvYmNlZWM5NGVhNGZjNWYwMDg1ZDgxMjM1ZDhlMWMwNjc5OGRjMzQxYS9pbmNsdWRlL2dycGMlMkIlMkIvaW1wbC9jb2RlZ2VuL3N0YXR1c19jb2RlX2VudW0uaFxuICAgIC8qKiBOb3QgYW4gZXJyb3I7IHJldHVybmVkIG9uIHN1Y2Nlc3MuICovXG4gICAgT0s6IFwib2tcIixcbiAgICAvKiogVGhlIG9wZXJhdGlvbiB3YXMgY2FuY2VsbGVkICh0eXBpY2FsbHkgYnkgdGhlIGNhbGxlcikuICovXG4gICAgQ0FOQ0VMTEVEOiBcImNhbmNlbGxlZFwiLFxuICAgIC8qKiBVbmtub3duIGVycm9yIG9yIGFuIGVycm9yIGZyb20gYSBkaWZmZXJlbnQgZXJyb3IgZG9tYWluLiAqL1xuICAgIFVOS05PV046IFwidW5rbm93blwiLFxuICAgIC8qKlxuICAgICAqIENsaWVudCBzcGVjaWZpZWQgYW4gaW52YWxpZCBhcmd1bWVudC4gTm90ZSB0aGF0IHRoaXMgZGlmZmVycyBmcm9tXG4gICAgICogRkFJTEVEX1BSRUNPTkRJVElPTi4gSU5WQUxJRF9BUkdVTUVOVCBpbmRpY2F0ZXMgYXJndW1lbnRzIHRoYXQgYXJlXG4gICAgICogcHJvYmxlbWF0aWMgcmVnYXJkbGVzcyBvZiB0aGUgc3RhdGUgb2YgdGhlIHN5c3RlbSAoZS5nLiwgYSBtYWxmb3JtZWQgZmlsZVxuICAgICAqIG5hbWUpLlxuICAgICAqL1xuICAgIElOVkFMSURfQVJHVU1FTlQ6IFwiaW52YWxpZC1hcmd1bWVudFwiLFxuICAgIC8qKlxuICAgICAqIERlYWRsaW5lIGV4cGlyZWQgYmVmb3JlIG9wZXJhdGlvbiBjb3VsZCBjb21wbGV0ZS4gRm9yIG9wZXJhdGlvbnMgdGhhdFxuICAgICAqIGNoYW5nZSB0aGUgc3RhdGUgb2YgdGhlIHN5c3RlbSwgdGhpcyBlcnJvciBtYXkgYmUgcmV0dXJuZWQgZXZlbiBpZiB0aGVcbiAgICAgKiBvcGVyYXRpb24gaGFzIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkuIEZvciBleGFtcGxlLCBhIHN1Y2Nlc3NmdWwgcmVzcG9uc2VcbiAgICAgKiBmcm9tIGEgc2VydmVyIGNvdWxkIGhhdmUgYmVlbiBkZWxheWVkIGxvbmcgZW5vdWdoIGZvciB0aGUgZGVhZGxpbmUgdG9cbiAgICAgKiBleHBpcmUuXG4gICAgICovXG4gICAgREVBRExJTkVfRVhDRUVERUQ6IFwiZGVhZGxpbmUtZXhjZWVkZWRcIixcbiAgICAvKiogU29tZSByZXF1ZXN0ZWQgZW50aXR5IChlLmcuLCBmaWxlIG9yIGRpcmVjdG9yeSkgd2FzIG5vdCBmb3VuZC4gKi9cbiAgICBOT1RfRk9VTkQ6IFwibm90LWZvdW5kXCIsXG4gICAgLyoqXG4gICAgICogU29tZSBlbnRpdHkgdGhhdCB3ZSBhdHRlbXB0ZWQgdG8gY3JlYXRlIChlLmcuLCBmaWxlIG9yIGRpcmVjdG9yeSkgYWxyZWFkeVxuICAgICAqIGV4aXN0cy5cbiAgICAgKi9cbiAgICBBTFJFQURZX0VYSVNUUzogXCJhbHJlYWR5LWV4aXN0c1wiLFxuICAgIC8qKlxuICAgICAqIFRoZSBjYWxsZXIgZG9lcyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGV4ZWN1dGUgdGhlIHNwZWNpZmllZCBvcGVyYXRpb24uXG4gICAgICogUEVSTUlTU0lPTl9ERU5JRUQgbXVzdCBub3QgYmUgdXNlZCBmb3IgcmVqZWN0aW9ucyBjYXVzZWQgYnkgZXhoYXVzdGluZ1xuICAgICAqIHNvbWUgcmVzb3VyY2UgKHVzZSBSRVNPVVJDRV9FWEhBVVNURUQgaW5zdGVhZCBmb3IgdGhvc2UgZXJyb3JzKS5cbiAgICAgKiBQRVJNSVNTSU9OX0RFTklFRCBtdXN0IG5vdCBiZSB1c2VkIGlmIHRoZSBjYWxsZXIgY2FuIG5vdCBiZSBpZGVudGlmaWVkXG4gICAgICogKHVzZSBVTkFVVEhFTlRJQ0FURUQgaW5zdGVhZCBmb3IgdGhvc2UgZXJyb3JzKS5cbiAgICAgKi9cbiAgICBQRVJNSVNTSU9OX0RFTklFRDogXCJwZXJtaXNzaW9uLWRlbmllZFwiLFxuICAgIC8qKlxuICAgICAqIFRoZSByZXF1ZXN0IGRvZXMgbm90IGhhdmUgdmFsaWQgYXV0aGVudGljYXRpb24gY3JlZGVudGlhbHMgZm9yIHRoZVxuICAgICAqIG9wZXJhdGlvbi5cbiAgICAgKi9cbiAgICBVTkFVVEhFTlRJQ0FURUQ6IFwidW5hdXRoZW50aWNhdGVkXCIsXG4gICAgLyoqXG4gICAgICogU29tZSByZXNvdXJjZSBoYXMgYmVlbiBleGhhdXN0ZWQsIHBlcmhhcHMgYSBwZXItdXNlciBxdW90YSwgb3IgcGVyaGFwcyB0aGVcbiAgICAgKiBlbnRpcmUgZmlsZSBzeXN0ZW0gaXMgb3V0IG9mIHNwYWNlLlxuICAgICAqL1xuICAgIFJFU09VUkNFX0VYSEFVU1RFRDogXCJyZXNvdXJjZS1leGhhdXN0ZWRcIixcbiAgICAvKipcbiAgICAgKiBPcGVyYXRpb24gd2FzIHJlamVjdGVkIGJlY2F1c2UgdGhlIHN5c3RlbSBpcyBub3QgaW4gYSBzdGF0ZSByZXF1aXJlZCBmb3JcbiAgICAgKiB0aGUgb3BlcmF0aW9uJ3MgZXhlY3V0aW9uLiBGb3IgZXhhbXBsZSwgZGlyZWN0b3J5IHRvIGJlIGRlbGV0ZWQgbWF5IGJlXG4gICAgICogbm9uLWVtcHR5LCBhbiBybWRpciBvcGVyYXRpb24gaXMgYXBwbGllZCB0byBhIG5vbi1kaXJlY3RvcnksIGV0Yy5cbiAgICAgKlxuICAgICAqIEEgbGl0bXVzIHRlc3QgdGhhdCBtYXkgaGVscCBhIHNlcnZpY2UgaW1wbGVtZW50b3IgaW4gZGVjaWRpbmdcbiAgICAgKiBiZXR3ZWVuIEZBSUxFRF9QUkVDT05ESVRJT04sIEFCT1JURUQsIGFuZCBVTkFWQUlMQUJMRTpcbiAgICAgKiAgKGEpIFVzZSBVTkFWQUlMQUJMRSBpZiB0aGUgY2xpZW50IGNhbiByZXRyeSBqdXN0IHRoZSBmYWlsaW5nIGNhbGwuXG4gICAgICogIChiKSBVc2UgQUJPUlRFRCBpZiB0aGUgY2xpZW50IHNob3VsZCByZXRyeSBhdCBhIGhpZ2hlci1sZXZlbFxuICAgICAqICAgICAgKGUuZy4sIHJlc3RhcnRpbmcgYSByZWFkLW1vZGlmeS13cml0ZSBzZXF1ZW5jZSkuXG4gICAgICogIChjKSBVc2UgRkFJTEVEX1BSRUNPTkRJVElPTiBpZiB0aGUgY2xpZW50IHNob3VsZCBub3QgcmV0cnkgdW50aWxcbiAgICAgKiAgICAgIHRoZSBzeXN0ZW0gc3RhdGUgaGFzIGJlZW4gZXhwbGljaXRseSBmaXhlZC4gRS5nLiwgaWYgYW4gXCJybWRpclwiXG4gICAgICogICAgICBmYWlscyBiZWNhdXNlIHRoZSBkaXJlY3RvcnkgaXMgbm9uLWVtcHR5LCBGQUlMRURfUFJFQ09ORElUSU9OXG4gICAgICogICAgICBzaG91bGQgYmUgcmV0dXJuZWQgc2luY2UgdGhlIGNsaWVudCBzaG91bGQgbm90IHJldHJ5IHVubGVzc1xuICAgICAqICAgICAgdGhleSBoYXZlIGZpcnN0IGZpeGVkIHVwIHRoZSBkaXJlY3RvcnkgYnkgZGVsZXRpbmcgZmlsZXMgZnJvbSBpdC5cbiAgICAgKiAgKGQpIFVzZSBGQUlMRURfUFJFQ09ORElUSU9OIGlmIHRoZSBjbGllbnQgcGVyZm9ybXMgY29uZGl0aW9uYWxcbiAgICAgKiAgICAgIFJFU1QgR2V0L1VwZGF0ZS9EZWxldGUgb24gYSByZXNvdXJjZSBhbmQgdGhlIHJlc291cmNlIG9uIHRoZVxuICAgICAqICAgICAgc2VydmVyIGRvZXMgbm90IG1hdGNoIHRoZSBjb25kaXRpb24uIEUuZy4sIGNvbmZsaWN0aW5nXG4gICAgICogICAgICByZWFkLW1vZGlmeS13cml0ZSBvbiB0aGUgc2FtZSByZXNvdXJjZS5cbiAgICAgKi9cbiAgICBGQUlMRURfUFJFQ09ORElUSU9OOiBcImZhaWxlZC1wcmVjb25kaXRpb25cIixcbiAgICAvKipcbiAgICAgKiBUaGUgb3BlcmF0aW9uIHdhcyBhYm9ydGVkLCB0eXBpY2FsbHkgZHVlIHRvIGEgY29uY3VycmVuY3kgaXNzdWUgbGlrZVxuICAgICAqIHNlcXVlbmNlciBjaGVjayBmYWlsdXJlcywgdHJhbnNhY3Rpb24gYWJvcnRzLCBldGMuXG4gICAgICpcbiAgICAgKiBTZWUgbGl0bXVzIHRlc3QgYWJvdmUgZm9yIGRlY2lkaW5nIGJldHdlZW4gRkFJTEVEX1BSRUNPTkRJVElPTiwgQUJPUlRFRCxcbiAgICAgKiBhbmQgVU5BVkFJTEFCTEUuXG4gICAgICovXG4gICAgQUJPUlRFRDogXCJhYm9ydGVkXCIsXG4gICAgLyoqXG4gICAgICogT3BlcmF0aW9uIHdhcyBhdHRlbXB0ZWQgcGFzdCB0aGUgdmFsaWQgcmFuZ2UuIEUuZy4sIHNlZWtpbmcgb3IgcmVhZGluZ1xuICAgICAqIHBhc3QgZW5kIG9mIGZpbGUuXG4gICAgICpcbiAgICAgKiBVbmxpa2UgSU5WQUxJRF9BUkdVTUVOVCwgdGhpcyBlcnJvciBpbmRpY2F0ZXMgYSBwcm9ibGVtIHRoYXQgbWF5IGJlIGZpeGVkXG4gICAgICogaWYgdGhlIHN5c3RlbSBzdGF0ZSBjaGFuZ2VzLiBGb3IgZXhhbXBsZSwgYSAzMi1iaXQgZmlsZSBzeXN0ZW0gd2lsbFxuICAgICAqIGdlbmVyYXRlIElOVkFMSURfQVJHVU1FTlQgaWYgYXNrZWQgdG8gcmVhZCBhdCBhbiBvZmZzZXQgdGhhdCBpcyBub3QgaW4gdGhlXG4gICAgICogcmFuZ2UgWzAsMl4zMi0xXSwgYnV0IGl0IHdpbGwgZ2VuZXJhdGUgT1VUX09GX1JBTkdFIGlmIGFza2VkIHRvIHJlYWQgZnJvbVxuICAgICAqIGFuIG9mZnNldCBwYXN0IHRoZSBjdXJyZW50IGZpbGUgc2l6ZS5cbiAgICAgKlxuICAgICAqIFRoZXJlIGlzIGEgZmFpciBiaXQgb2Ygb3ZlcmxhcCBiZXR3ZWVuIEZBSUxFRF9QUkVDT05ESVRJT04gYW5kXG4gICAgICogT1VUX09GX1JBTkdFLiBXZSByZWNvbW1lbmQgdXNpbmcgT1VUX09GX1JBTkdFICh0aGUgbW9yZSBzcGVjaWZpYyBlcnJvcilcbiAgICAgKiB3aGVuIGl0IGFwcGxpZXMgc28gdGhhdCBjYWxsZXJzIHdobyBhcmUgaXRlcmF0aW5nIHRocm91Z2ggYSBzcGFjZSBjYW5cbiAgICAgKiBlYXNpbHkgbG9vayBmb3IgYW4gT1VUX09GX1JBTkdFIGVycm9yIHRvIGRldGVjdCB3aGVuIHRoZXkgYXJlIGRvbmUuXG4gICAgICovXG4gICAgT1VUX09GX1JBTkdFOiBcIm91dC1vZi1yYW5nZVwiLFxuICAgIC8qKiBPcGVyYXRpb24gaXMgbm90IGltcGxlbWVudGVkIG9yIG5vdCBzdXBwb3J0ZWQvZW5hYmxlZCBpbiB0aGlzIHNlcnZpY2UuICovXG4gICAgVU5JTVBMRU1FTlRFRDogXCJ1bmltcGxlbWVudGVkXCIsXG4gICAgLyoqXG4gICAgICogSW50ZXJuYWwgZXJyb3JzLiBNZWFucyBzb21lIGludmFyaWFudHMgZXhwZWN0ZWQgYnkgdW5kZXJseWluZyBTeXN0ZW0gaGFzXG4gICAgICogYmVlbiBicm9rZW4uIElmIHlvdSBzZWUgb25lIG9mIHRoZXNlIGVycm9ycywgU29tZXRoaW5nIGlzIHZlcnkgYnJva2VuLlxuICAgICAqL1xuICAgIElOVEVSTkFMOiBcImludGVybmFsXCIsXG4gICAgLyoqXG4gICAgICogVGhlIHNlcnZpY2UgaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlLiBUaGlzIGlzIGEgbW9zdCBsaWtlbHkgYSB0cmFuc2llbnRcbiAgICAgKiBjb25kaXRpb24gYW5kIG1heSBiZSBjb3JyZWN0ZWQgYnkgcmV0cnlpbmcgd2l0aCBhIGJhY2tvZmYuXG4gICAgICpcbiAgICAgKiBTZWUgbGl0bXVzIHRlc3QgYWJvdmUgZm9yIGRlY2lkaW5nIGJldHdlZW4gRkFJTEVEX1BSRUNPTkRJVElPTiwgQUJPUlRFRCxcbiAgICAgKiBhbmQgVU5BVkFJTEFCTEUuXG4gICAgICovXG4gICAgVU5BVkFJTEFCTEU6IFwidW5hdmFpbGFibGVcIixcbiAgICAvKiogVW5yZWNvdmVyYWJsZSBkYXRhIGxvc3Mgb3IgY29ycnVwdGlvbi4gKi9cbiAgICBEQVRBX0xPU1M6IFwiZGF0YS1sb3NzXCJcbn07XG5cbi8qKiBBbiBlcnJvciByZXR1cm5lZCBieSBhIEZpcmVzdG9yZSBvcGVyYXRpb24uICovIGNsYXNzIEZpcmVzdG9yZUVycm9yIGV4dGVuZHMgdXRpbC5GaXJlYmFzZUVycm9yIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBiYWNrZW5kIGVycm9yIGNvZGUgYXNzb2NpYXRlZCB3aXRoIHRoaXMgZXJyb3IuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogQSBjdXN0b20gZXJyb3IgZGVzY3JpcHRpb24uXG4gICAgICovXG4gICAgdCkge1xuICAgICAgICBzdXBlcihlLCB0KSwgdGhpcy5jb2RlID0gZSwgdGhpcy5tZXNzYWdlID0gdCwgXG4gICAgICAgIC8vIEhBQ0s6IFdlIHdyaXRlIGEgdG9TdHJpbmcgcHJvcGVydHkgZGlyZWN0bHkgYmVjYXVzZSBFcnJvciBpcyBub3QgYSByZWFsXG4gICAgICAgIC8vIGNsYXNzIGFuZCBzbyBpbmhlcml0YW5jZSBkb2VzIG5vdCB3b3JrIGNvcnJlY3RseS4gV2UgY291bGQgYWx0ZXJuYXRpdmVseVxuICAgICAgICAvLyBkbyB0aGUgc2FtZSBcImJhY2stZG9vciBpbmhlcml0YW5jZVwiIHRyaWNrIHRoYXQgRmlyZWJhc2VFcnJvciBkb2VzLlxuICAgICAgICB0aGlzLnRvU3RyaW5nID0gKCkgPT4gYCR7dGhpcy5uYW1lfTogW2NvZGU9JHt0aGlzLmNvZGV9XTogJHt0aGlzLm1lc3NhZ2V9YDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9EZWZlcnJlZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlID0gZSwgdGhpcy5yZWplY3QgPSB0O1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfT0F1dGhUb2tlbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnVzZXIgPSB0LCB0aGlzLnR5cGUgPSBcIk9BdXRoXCIsIHRoaXMuaGVhZGVycyA9IG5ldyBNYXAsIHRoaXMuaGVhZGVycy5zZXQoXCJBdXRob3JpemF0aW9uXCIsIGBCZWFyZXIgJHtlfWApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIENyZWRlbnRpYWxzUHJvdmlkZXIgdGhhdCBhbHdheXMgeWllbGRzIGFuIGVtcHR5IHRva2VuLlxuICogQGludGVybmFsXG4gKi8gY2xhc3MgX19QUklWQVRFX0VtcHR5QXV0aENyZWRlbnRpYWxzUHJvdmlkZXIge1xuICAgIGdldFRva2VuKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9rZW4oKSB7fVxuICAgIHN0YXJ0KGUsIHQpIHtcbiAgICAgICAgLy8gRmlyZSB3aXRoIGluaXRpYWwgdXNlci5cbiAgICAgICAgZS5lbnF1ZXVlUmV0cnlhYmxlKCgoKSA9PiB0KFVzZXIuVU5BVVRIRU5USUNBVEVEKSkpO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHt9XG59XG5cbi8qKlxuICogQSBDcmVkZW50aWFsc1Byb3ZpZGVyIHRoYXQgYWx3YXlzIHJldHVybnMgYSBjb25zdGFudCB0b2tlbi4gVXNlZCBmb3JcbiAqIGVtdWxhdG9yIHRva2VuIG1vY2tpbmcuXG4gKi8gY2xhc3MgX19QUklWQVRFX0VtdWxhdG9yQXV0aENyZWRlbnRpYWxzUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy50b2tlbiA9IGUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogU3RvcmVzIHRoZSBsaXN0ZW5lciByZWdpc3RlcmVkIHdpdGggc2V0Q2hhbmdlTGlzdGVuZXIoKVxuICAgICAgICAgKiBUaGlzIGlzbid0IGFjdHVhbGx5IG5lY2Vzc2FyeSBzaW5jZSB0aGUgVUlEIG5ldmVyIGNoYW5nZXMsIGJ1dCB3ZSB1c2UgdGhpc1xuICAgICAgICAgKiB0byB2ZXJpZnkgdGhlIGxpc3RlbiBjb250cmFjdCBpcyBhZGhlcmVkIHRvIGluIHRlc3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IG51bGw7XG4gICAgfVxuICAgIGdldFRva2VuKCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMudG9rZW4pO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9rZW4oKSB7fVxuICAgIHN0YXJ0KGUsIHQpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IHQsIFxuICAgICAgICAvLyBGaXJlIHdpdGggaW5pdGlhbCB1c2VyLlxuICAgICAgICBlLmVucXVldWVSZXRyeWFibGUoKCgpID0+IHQodGhpcy50b2tlbi51c2VyKSkpO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VMaXN0ZW5lciA9IG51bGw7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnQgPSBlLCBcbiAgICAgICAgLyoqIFRyYWNrcyB0aGUgY3VycmVudCBVc2VyLiAqL1xuICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gVXNlci5VTkFVVEhFTlRJQ0FURUQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQ291bnRlciB1c2VkIHRvIGRldGVjdCBpZiB0aGUgdG9rZW4gY2hhbmdlZCB3aGlsZSBhIGdldFRva2VuIHJlcXVlc3Qgd2FzXG4gICAgICAgICAqIG91dHN0YW5kaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5pID0gMCwgdGhpcy5mb3JjZVJlZnJlc2ggPSAhMSwgdGhpcy5hdXRoID0gbnVsbDtcbiAgICB9XG4gICAgc3RhcnQoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IHRoaXMuaTtcbiAgICAgICAgLy8gQSBjaGFuZ2UgbGlzdGVuZXIgdGhhdCBwcmV2ZW50cyBkb3VibGUtZmlyaW5nIGZvciB0aGUgc2FtZSB0b2tlbiBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgY29uc3QgX19QUklWQVRFX2d1YXJkZWRDaGFuZ2VMaXN0ZW5lciA9IGUgPT4gdGhpcy5pICE9PSBuID8gKG4gPSB0aGlzLmksIFxuICAgICAgICB0KGUpKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAvLyBBIHByb21pc2UgdGhhdCBjYW4gYmUgd2FpdGVkIG9uIHRvIGJsb2NrIG9uIHRoZSBuZXh0IHRva2VuIGNoYW5nZS5cbiAgICAgICAgLy8gVGhpcyBwcm9taXNlIGlzIHJlLWNyZWF0ZWQgYWZ0ZXIgZWFjaCBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgICAgICB0aGlzLm8gPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmkrKywgdGhpcy5jdXJyZW50VXNlciA9IHRoaXMudSgpLCByLnJlc29sdmUoKSwgciA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQsIFxuICAgICAgICAgICAgZS5lbnF1ZXVlUmV0cnlhYmxlKCgoKSA9PiBfX1BSSVZBVEVfZ3VhcmRlZENoYW5nZUxpc3RlbmVyKHRoaXMuY3VycmVudFVzZXIpKSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IF9fUFJJVkFURV9hd2FpdE5leHRUb2tlbiA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSByO1xuICAgICAgICAgICAgZS5lbnF1ZXVlUmV0cnlhYmxlKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdC5wcm9taXNlLCBhd2FpdCBfX1BSSVZBVEVfZ3VhcmRlZENoYW5nZUxpc3RlbmVyKHRoaXMuY3VycmVudFVzZXIpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9LCBfX1BSSVZBVEVfcmVnaXN0ZXJBdXRoID0gZSA9PiB7XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlYmFzZUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyXCIsIFwiQXV0aCBkZXRlY3RlZFwiKSwgdGhpcy5hdXRoID0gZSwgXG4gICAgICAgICAgICB0aGlzLmF1dGguYWRkQXV0aFRva2VuTGlzdGVuZXIodGhpcy5vKSwgX19QUklWQVRFX2F3YWl0TmV4dFRva2VuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudC5vbkluaXQoKGUgPT4gX19QUklWQVRFX3JlZ2lzdGVyQXV0aChlKSkpLCBcbiAgICAgICAgLy8gT3VyIHVzZXJzIGNhbiBpbml0aWFsaXplIEF1dGggcmlnaHQgYWZ0ZXIgRmlyZXN0b3JlLCBzbyB3ZSBnaXZlIGl0XG4gICAgICAgIC8vIGEgY2hhbmNlIHRvIHJlZ2lzdGVyIGl0c2VsZiB3aXRoIHRoZSBjb21wb25lbnQgZnJhbWV3b3JrIGJlZm9yZSB3ZVxuICAgICAgICAvLyBkZXRlcm1pbmUgd2hldGhlciB0byBzdGFydCB1cCBpbiB1bmF1dGhlbnRpY2F0ZWQgbW9kZS5cbiAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmF1dGgpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy50LmdldEltbWVkaWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsOiAhMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGUgPyBfX1BSSVZBVEVfcmVnaXN0ZXJBdXRoKGUpIDogKFxuICAgICAgICAgICAgICAgIC8vIElmIGF1dGggaXMgc3RpbGwgbm90IGF2YWlsYWJsZSwgcHJvY2VlZCB3aXRoIGBudWxsYCB1c2VyXG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlclwiLCBcIkF1dGggbm90IHlldCBkZXRlY3RlZFwiKSwgXG4gICAgICAgICAgICAgICAgci5yZXNvbHZlKCksIHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksIDApLCBfX1BSSVZBVEVfYXdhaXROZXh0VG9rZW4oKTtcbiAgICB9XG4gICAgZ2V0VG9rZW4oKSB7XG4gICAgICAgIC8vIFRha2Ugbm90ZSBvZiB0aGUgY3VycmVudCB2YWx1ZSBvZiB0aGUgdG9rZW5Db3VudGVyIHNvIHRoYXQgdGhpcyBtZXRob2RcbiAgICAgICAgLy8gY2FuIGZhaWwgKHdpdGggYW4gQUJPUlRFRCBlcnJvcikgaWYgdGhlcmUgaXMgYSB0b2tlbiBjaGFuZ2Ugd2hpbGUgdGhlXG4gICAgICAgIC8vIHJlcXVlc3QgaXMgb3V0c3RhbmRpbmcuXG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmksIHQgPSB0aGlzLmZvcmNlUmVmcmVzaDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yY2VSZWZyZXNoID0gITEsIHRoaXMuYXV0aCA/IHRoaXMuYXV0aC5nZXRUb2tlbih0KS50aGVuKCh0ID0+IFxuICAgICAgICAvLyBDYW5jZWwgdGhlIHJlcXVlc3Qgc2luY2UgdGhlIHRva2VuIGNoYW5nZWQgd2hpbGUgdGhlIHJlcXVlc3Qgd2FzXG4gICAgICAgIC8vIG91dHN0YW5kaW5nIHNvIHRoZSByZXNwb25zZSBpcyBwb3RlbnRpYWxseSBmb3IgYSBwcmV2aW91cyB1c2VyICh3aGljaFxuICAgICAgICAvLyB1c2VyLCB3ZSBjYW4ndCBiZSBzdXJlKS5cbiAgICAgICAgdGhpcy5pICE9PSBlID8gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmViYXNlQXV0aENyZWRlbnRpYWxzUHJvdmlkZXJcIiwgXCJnZXRUb2tlbiBhYm9ydGVkIGR1ZSB0byB0b2tlbiBjaGFuZ2UuXCIpLCBcbiAgICAgICAgdGhpcy5nZXRUb2tlbigpKSA6IHQgPyAoX19QUklWQVRFX2hhcmRBc3NlcnQoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdC5hY2Nlc3NUb2tlbiksIFxuICAgICAgICBuZXcgX19QUklWQVRFX09BdXRoVG9rZW4odC5hY2Nlc3NUb2tlbiwgdGhpcy5jdXJyZW50VXNlcikpIDogbnVsbCkpIDogUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICBpbnZhbGlkYXRlVG9rZW4oKSB7XG4gICAgICAgIHRoaXMuZm9yY2VSZWZyZXNoID0gITA7XG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICB0aGlzLmF1dGggJiYgdGhpcy5hdXRoLnJlbW92ZUF1dGhUb2tlbkxpc3RlbmVyKHRoaXMubyk7XG4gICAgfVxuICAgIC8vIEF1dGguZ2V0VWlkKCkgY2FuIHJldHVybiBudWxsIGV2ZW4gd2l0aCBhIHVzZXIgbG9nZ2VkIGluLiBJdCBpcyBiZWNhdXNlXG4gICAgLy8gZ2V0VWlkKCkgaXMgc3luY2hyb25vdXMsIGJ1dCB0aGUgYXV0aCBjb2RlIHBvcHVsYXRpbmcgVWlkIGlzIGFzeW5jaHJvbm91cy5cbiAgICAvLyBUaGlzIG1ldGhvZCBzaG91bGQgb25seSBiZSBjYWxsZWQgaW4gdGhlIEF1dGhUb2tlbkxpc3RlbmVyIGNhbGxiYWNrXG4gICAgLy8gdG8gZ3VhcmFudGVlIHRvIGdldCB0aGUgYWN0dWFsIHVzZXIuXG4gICAgdSgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuYXV0aCAmJiB0aGlzLmF1dGguZ2V0VWlkKCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfaGFyZEFzc2VydChudWxsID09PSBlIHx8IFwic3RyaW5nXCIgPT0gdHlwZW9mIGUpLCBuZXcgVXNlcihlKTtcbiAgICB9XG59XG5cbi8qXG4gKiBGaXJzdFBhcnR5VG9rZW4gcHJvdmlkZXMgYSBmcmVzaCB0b2tlbiBlYWNoIHRpbWUgaXRzIHZhbHVlXG4gKiBpcyByZXF1ZXN0ZWQsIGJlY2F1c2UgaWYgdGhlIHRva2VuIGlzIHRvbyBvbGQsIHJlcXVlc3RzIHdpbGwgYmUgcmVqZWN0ZWQuXG4gKiBUZWNobmljYWxseSB0aGlzIG1heSBubyBsb25nZXIgYmUgbmVjZXNzYXJ5IHNpbmNlIHRoZSBTREsgc2hvdWxkIGdyYWNlZnVsbHlcbiAqIHJlY292ZXIgZnJvbSB1bmF1dGhlbnRpY2F0ZWQgZXJyb3JzIChzZWUgYi8zMzE0NzgxOCBmb3IgY29udGV4dCksIGJ1dCBpdCdzXG4gKiBzYWZlciB0byBrZWVwIHRoZSBpbXBsZW1lbnRhdGlvbiBhcy1pcy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfRmlyc3RQYXJ0eVRva2VuIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMubCA9IGUsIHRoaXMuaCA9IHQsIHRoaXMuUCA9IG4sIHRoaXMudHlwZSA9IFwiRmlyc3RQYXJ0eVwiLCB0aGlzLnVzZXIgPSBVc2VyLkZJUlNUX1BBUlRZLCBcbiAgICAgICAgdGhpcy5JID0gbmV3IE1hcDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyBhbiBhdXRob3JpemF0aW9uIHRva2VuLCB1c2luZyBhIHByb3ZpZGVkIGZhY3RvcnkgZnVuY3Rpb24sIG9yIHJldHVyblxuICAgICAqIG51bGwuXG4gICAgICovICAgIFQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlAgPyB0aGlzLlAoKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBoZWFkZXJzKCkge1xuICAgICAgICB0aGlzLkkuc2V0KFwiWC1Hb29nLUF1dGhVc2VyXCIsIHRoaXMubCk7XG4gICAgICAgIC8vIFVzZSBhcnJheSBub3RhdGlvbiB0byBwcmV2ZW50IG1pbmlmaWNhdGlvblxuICAgICAgICBjb25zdCBlID0gdGhpcy5UKCk7XG4gICAgICAgIHJldHVybiBlICYmIHRoaXMuSS5zZXQoXCJBdXRob3JpemF0aW9uXCIsIGUpLCB0aGlzLmggJiYgdGhpcy5JLnNldChcIlgtR29vZy1JYW0tQXV0aG9yaXphdGlvbi1Ub2tlblwiLCB0aGlzLmgpLCBcbiAgICAgICAgdGhpcy5JO1xuICAgIH1cbn1cblxuLypcbiAqIFByb3ZpZGVzIHVzZXIgY3JlZGVudGlhbHMgcmVxdWlyZWQgZm9yIHRoZSBGaXJlc3RvcmUgSmF2YVNjcmlwdCBTREtcbiAqIHRvIGF1dGhlbnRpY2F0ZSB0aGUgdXNlciwgdXNpbmcgdGVjaG5pcXVlIHRoYXQgaXMgb25seSBhdmFpbGFibGVcbiAqIHRvIGFwcGxpY2F0aW9ucyBob3N0ZWQgYnkgR29vZ2xlLlxuICovIGNsYXNzIF9fUFJJVkFURV9GaXJzdFBhcnR5QXV0aENyZWRlbnRpYWxzUHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5sID0gZSwgdGhpcy5oID0gdCwgdGhpcy5QID0gbjtcbiAgICB9XG4gICAgZ2V0VG9rZW4oKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IF9fUFJJVkFURV9GaXJzdFBhcnR5VG9rZW4odGhpcy5sLCB0aGlzLmgsIHRoaXMuUCkpO1xuICAgIH1cbiAgICBzdGFydChlLCB0KSB7XG4gICAgICAgIC8vIEZpcmUgd2l0aCBpbml0aWFsIHVpZC5cbiAgICAgICAgZS5lbnF1ZXVlUmV0cnlhYmxlKCgoKSA9PiB0KFVzZXIuRklSU1RfUEFSVFkpKSk7XG4gICAgfVxuICAgIHNodXRkb3duKCkge31cbiAgICBpbnZhbGlkYXRlVG9rZW4oKSB7fVxufVxuXG5jbGFzcyBBcHBDaGVja1Rva2VuIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBlLCB0aGlzLnR5cGUgPSBcIkFwcENoZWNrXCIsIHRoaXMuaGVhZGVycyA9IG5ldyBNYXAsIGUgJiYgZS5sZW5ndGggPiAwICYmIHRoaXMuaGVhZGVycy5zZXQoXCJ4LWZpcmViYXNlLWFwcGNoZWNrXCIsIHRoaXMudmFsdWUpO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0ZpcmViYXNlQXBwQ2hlY2tUb2tlblByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuQSA9IGUsIHRoaXMuZm9yY2VSZWZyZXNoID0gITEsIHRoaXMuYXBwQ2hlY2sgPSBudWxsLCB0aGlzLlIgPSBudWxsO1xuICAgIH1cbiAgICBzdGFydChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG9uVG9rZW5DaGFuZ2VkID0gZSA9PiB7XG4gICAgICAgICAgICBudWxsICE9IGUuZXJyb3IgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZWJhc2VBcHBDaGVja1Rva2VuUHJvdmlkZXJcIiwgYEVycm9yIGdldHRpbmcgQXBwIENoZWNrIHRva2VuOyB1c2luZyBwbGFjZWhvbGRlciB0b2tlbiBpbnN0ZWFkLiBFcnJvcjogJHtlLmVycm9yLm1lc3NhZ2V9YCk7XG4gICAgICAgICAgICBjb25zdCBuID0gZS50b2tlbiAhPT0gdGhpcy5SO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuUiA9IGUudG9rZW4sIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmViYXNlQXBwQ2hlY2tUb2tlblByb3ZpZGVyXCIsIGBSZWNlaXZlZCAke24gPyBcIm5ld1wiIDogXCJleGlzdGluZ1wifSB0b2tlbi5gKSwgXG4gICAgICAgICAgICBuID8gdChlLnRva2VuKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm8gPSB0ID0+IHtcbiAgICAgICAgICAgIGUuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gb25Ub2tlbkNoYW5nZWQodCkpKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgX19QUklWQVRFX3JlZ2lzdGVyQXBwQ2hlY2sgPSBlID0+IHtcbiAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmViYXNlQXBwQ2hlY2tUb2tlblByb3ZpZGVyXCIsIFwiQXBwQ2hlY2sgZGV0ZWN0ZWRcIiksIHRoaXMuYXBwQ2hlY2sgPSBlLCBcbiAgICAgICAgICAgIHRoaXMuYXBwQ2hlY2suYWRkVG9rZW5MaXN0ZW5lcih0aGlzLm8pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLkEub25Jbml0KChlID0+IF9fUFJJVkFURV9yZWdpc3RlckFwcENoZWNrKGUpKSksIFxuICAgICAgICAvLyBPdXIgdXNlcnMgY2FuIGluaXRpYWxpemUgQXBwQ2hlY2sgYWZ0ZXIgRmlyZXN0b3JlLCBzbyB3ZSBnaXZlIGl0XG4gICAgICAgIC8vIGEgY2hhbmNlIHRvIHJlZ2lzdGVyIGl0c2VsZiB3aXRoIHRoZSBjb21wb25lbnQgZnJhbWV3b3JrLlxuICAgICAgICBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYXBwQ2hlY2spIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5BLmdldEltbWVkaWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbmFsOiAhMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGUgPyBfX1BSSVZBVEVfcmVnaXN0ZXJBcHBDaGVjayhlKSA6IFxuICAgICAgICAgICAgICAgIC8vIElmIEFwcENoZWNrIGlzIHN0aWxsIG5vdCBhdmFpbGFibGUsIHByb2NlZWQgd2l0aG91dCBpdC5cbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlclwiLCBcIkFwcENoZWNrIG5vdCB5ZXQgZGV0ZWN0ZWRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLCAwKTtcbiAgICB9XG4gICAgZ2V0VG9rZW4oKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmZvcmNlUmVmcmVzaDtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yY2VSZWZyZXNoID0gITEsIHRoaXMuYXBwQ2hlY2sgPyB0aGlzLmFwcENoZWNrLmdldFRva2VuKGUpLnRoZW4oKGUgPT4gZSA/IChfX1BSSVZBVEVfaGFyZEFzc2VydChcInN0cmluZ1wiID09IHR5cGVvZiBlLnRva2VuKSwgXG4gICAgICAgIHRoaXMuUiA9IGUudG9rZW4sIG5ldyBBcHBDaGVja1Rva2VuKGUudG9rZW4pKSA6IG51bGwpKSA6IFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgaW52YWxpZGF0ZVRva2VuKCkge1xuICAgICAgICB0aGlzLmZvcmNlUmVmcmVzaCA9ICEwO1xuICAgIH1cbiAgICBzaHV0ZG93bigpIHtcbiAgICAgICAgdGhpcy5hcHBDaGVjayAmJiB0aGlzLmFwcENoZWNrLnJlbW92ZVRva2VuTGlzdGVuZXIodGhpcy5vKTtcbiAgICB9XG59XG5cbi8qKlxuICogQW4gQXBwQ2hlY2sgdG9rZW4gcHJvdmlkZXIgdGhhdCBhbHdheXMgeWllbGRzIGFuIGVtcHR5IHRva2VuLlxuICogQGludGVybmFsXG4gKi8gY2xhc3MgX19QUklWQVRFX0VtcHR5QXBwQ2hlY2tUb2tlblByb3ZpZGVyIHtcbiAgICBnZXRUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQXBwQ2hlY2tUb2tlbihcIlwiKSk7XG4gICAgfVxuICAgIGludmFsaWRhdGVUb2tlbigpIHt9XG4gICAgc3RhcnQoZSwgdCkge31cbiAgICBzaHV0ZG93bigpIHt9XG59XG5cbi8qKlxuICogQnVpbGRzIGEgQ3JlZGVudGlhbHNQcm92aWRlciBkZXBlbmRpbmcgb24gdGhlIHR5cGUgb2ZcbiAqIHRoZSBjcmVkZW50aWFscyBwYXNzZWQgaW4uXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEdlbmVyYXRlcyBgbkJ5dGVzYCBvZiByYW5kb20gYnl0ZXMuXG4gKlxuICogSWYgYG5CeXRlcyA8IDBgICwgYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24uXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9yYW5kb21CeXRlcyhlKSB7XG4gICAgLy8gUG9seWZpbGxzIGZvciBJRSBhbmQgV2ViV29ya2VyIGJ5IHVzaW5nIGBzZWxmYCBhbmQgYG1zQ3J5cHRvYCB3aGVuIGBjcnlwdG9gIGlzIG5vdCBhdmFpbGFibGUuXG4gICAgY29uc3QgdCA9IFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygc2VsZiAmJiAoc2VsZi5jcnlwdG8gfHwgc2VsZi5tc0NyeXB0byksIG4gPSBuZXcgVWludDhBcnJheShlKTtcbiAgICBpZiAodCAmJiBcImZ1bmN0aW9uXCIgPT0gdHlwZW9mIHQuZ2V0UmFuZG9tVmFsdWVzKSB0LmdldFJhbmRvbVZhbHVlcyhuKTsgZWxzZSBcbiAgICAvLyBGYWxscyBiYWNrIHRvIE1hdGgucmFuZG9tXG4gICAgZm9yIChsZXQgdCA9IDA7IHQgPCBlOyB0KyspIG5bdF0gPSBNYXRoLmZsb29yKDI1NiAqIE1hdGgucmFuZG9tKCkpO1xuICAgIHJldHVybiBuO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHV0aWxpdHkgY2xhc3MgZm9yIGdlbmVyYXRpbmcgdW5pcXVlIGFscGhhbnVtZXJpYyBJRHMgb2YgYSBzcGVjaWZpZWQgbGVuZ3RoLlxuICpcbiAqIEBpbnRlcm5hbFxuICogRXhwb3J0ZWQgaW50ZXJuYWxseSBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfQXV0b0lkIHtcbiAgICBzdGF0aWMgbmV3SWQoKSB7XG4gICAgICAgIC8vIEFscGhhbnVtZXJpYyBjaGFyYWN0ZXJzXG4gICAgICAgIGNvbnN0IGUgPSBcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5XCIsIHQgPSBNYXRoLmZsb29yKDI1NiAvIGUubGVuZ3RoKSAqIGUubGVuZ3RoO1xuICAgICAgICAvLyBUaGUgbGFyZ2VzdCBieXRlIHZhbHVlIHRoYXQgaXMgYSBtdWx0aXBsZSBvZiBgY2hhci5sZW5ndGhgLlxuICAgICAgICAgICAgICAgIGxldCBuID0gXCJcIjtcbiAgICAgICAgZm9yICg7bi5sZW5ndGggPCAyMDsgKSB7XG4gICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX3JhbmRvbUJ5dGVzKDQwKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgci5sZW5ndGg7ICsraSkgXG4gICAgICAgICAgICAvLyBPbmx5IGFjY2VwdCB2YWx1ZXMgdGhhdCBhcmUgWzAsIG1heE11bHRpcGxlKSwgdGhpcyBlbnN1cmVzIHRoZXkgY2FuXG4gICAgICAgICAgICAvLyBiZSBldmVubHkgbWFwcGVkIHRvIGluZGljZXMgb2YgYGNoYXJzYCB2aWEgYSBtb2R1bG8gb3BlcmF0aW9uLlxuICAgICAgICAgICAgbi5sZW5ndGggPCAyMCAmJiByW2ldIDwgdCAmJiAobiArPSBlLmNoYXJBdChyW2ldICUgZS5sZW5ndGgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUsIHQpIHtcbiAgICByZXR1cm4gZSA8IHQgPyAtMSA6IGUgPiB0ID8gMSA6IDA7XG59XG5cbi8qKiBIZWxwZXIgdG8gY29tcGFyZSBhcnJheXMgdXNpbmcgaXNFcXVhbCgpLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYXJyYXlFcXVhbHMoZSwgdCwgbikge1xuICAgIHJldHVybiBlLmxlbmd0aCA9PT0gdC5sZW5ndGggJiYgZS5ldmVyeSgoKGUsIHIpID0+IG4oZSwgdFtyXSkpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBpbW1lZGlhdGUgbGV4aWNvZ3JhcGhpY2FsbHktZm9sbG93aW5nIHN0cmluZy4gVGhpcyBpcyB1c2VmdWwgdG9cbiAqIGNvbnN0cnVjdCBhbiBpbmNsdXNpdmUgcmFuZ2UgZm9yIGluZGV4ZWRkYiBpdGVyYXRvcnMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2ltbWVkaWF0ZVN1Y2Nlc3NvcihlKSB7XG4gICAgLy8gUmV0dXJuIHRoZSBpbnB1dCBzdHJpbmcsIHdpdGggYW4gYWRkaXRpb25hbCBOVUwgYnl0ZSBhcHBlbmRlZC5cbiAgICByZXR1cm4gZSArIFwiXFwwXCI7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBUaGUgZWFybGllc3QgZGF0ZSBzdXBwb3J0ZWQgYnkgRmlyZXN0b3JlIHRpbWVzdGFtcHMgKDAwMDEtMDEtMDFUMDA6MDA6MDBaKS5cbi8qKlxuICogQSBgVGltZXN0YW1wYCByZXByZXNlbnRzIGEgcG9pbnQgaW4gdGltZSBpbmRlcGVuZGVudCBvZiBhbnkgdGltZSB6b25lIG9yXG4gKiBjYWxlbmRhciwgcmVwcmVzZW50ZWQgYXMgc2Vjb25kcyBhbmQgZnJhY3Rpb25zIG9mIHNlY29uZHMgYXQgbmFub3NlY29uZFxuICogcmVzb2x1dGlvbiBpbiBVVEMgRXBvY2ggdGltZS5cbiAqXG4gKiBJdCBpcyBlbmNvZGVkIHVzaW5nIHRoZSBQcm9sZXB0aWMgR3JlZ29yaWFuIENhbGVuZGFyIHdoaWNoIGV4dGVuZHMgdGhlXG4gKiBHcmVnb3JpYW4gY2FsZW5kYXIgYmFja3dhcmRzIHRvIHllYXIgb25lLiBJdCBpcyBlbmNvZGVkIGFzc3VtaW5nIGFsbCBtaW51dGVzXG4gKiBhcmUgNjAgc2Vjb25kcyBsb25nLCBpLmUuIGxlYXAgc2Vjb25kcyBhcmUgXCJzbWVhcmVkXCIgc28gdGhhdCBubyBsZWFwIHNlY29uZFxuICogdGFibGUgaXMgbmVlZGVkIGZvciBpbnRlcnByZXRhdGlvbi4gUmFuZ2UgaXMgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0b1xuICogOTk5OS0xMi0zMVQyMzo1OTo1OS45OTk5OTk5OTlaLlxuICpcbiAqIEZvciBleGFtcGxlcyBhbmQgZnVydGhlciBzcGVjaWZpY2F0aW9ucywgcmVmZXIgdG8gdGhlXG4gKiB7QGxpbmsgaHR0cHM6Ly9naXRodWIuY29tL2dvb2dsZS9wcm90b2J1Zi9ibG9iL21hc3Rlci9zcmMvZ29vZ2xlL3Byb3RvYnVmL3RpbWVzdGFtcC5wcm90byB8IFRpbWVzdGFtcCBkZWZpbml0aW9ufS5cbiAqL1xuY2xhc3MgVGltZXN0YW1wIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHRpbWVzdGFtcC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzZWNvbmRzIC0gVGhlIG51bWJlciBvZiBzZWNvbmRzIG9mIFVUQyB0aW1lIHNpbmNlIFVuaXggZXBvY2hcbiAgICAgKiAgICAgMTk3MC0wMS0wMVQwMDowMDowMFouIE11c3QgYmUgZnJvbSAwMDAxLTAxLTAxVDAwOjAwOjAwWiB0b1xuICAgICAqICAgICA5OTk5LTEyLTMxVDIzOjU5OjU5WiBpbmNsdXNpdmUuXG4gICAgICogQHBhcmFtIG5hbm9zZWNvbmRzIC0gVGhlIG5vbi1uZWdhdGl2ZSBmcmFjdGlvbnMgb2YgYSBzZWNvbmQgYXQgbmFub3NlY29uZFxuICAgICAqICAgICByZXNvbHV0aW9uLiBOZWdhdGl2ZSBzZWNvbmQgdmFsdWVzIHdpdGggZnJhY3Rpb25zIG11c3Qgc3RpbGwgaGF2ZVxuICAgICAqICAgICBub24tbmVnYXRpdmUgbmFub3NlY29uZHMgdmFsdWVzIHRoYXQgY291bnQgZm9yd2FyZCBpbiB0aW1lLiBNdXN0IGJlXG4gICAgICogICAgIGZyb20gMCB0byA5OTksOTk5LDk5OSBpbmNsdXNpdmUuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBzZWNvbmRzIG9mIFVUQyB0aW1lIHNpbmNlIFVuaXggZXBvY2ggMTk3MC0wMS0wMVQwMDowMDowMFouXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIGZyYWN0aW9ucyBvZiBhIHNlY29uZCBhdCBuYW5vc2Vjb25kIHJlc29sdXRpb24uKlxuICAgICAqL1xuICAgIHQpIHtcbiAgICAgICAgaWYgKHRoaXMuc2Vjb25kcyA9IGUsIHRoaXMubmFub3NlY29uZHMgPSB0LCB0IDwgMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJUaW1lc3RhbXAgbmFub3NlY29uZHMgb3V0IG9mIHJhbmdlOiBcIiArIHQpO1xuICAgICAgICBpZiAodCA+PSAxZTkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVGltZXN0YW1wIG5hbm9zZWNvbmRzIG91dCBvZiByYW5nZTogXCIgKyB0KTtcbiAgICAgICAgaWYgKGUgPCAtNjIxMzU1OTY4MDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVGltZXN0YW1wIHNlY29uZHMgb3V0IG9mIHJhbmdlOiBcIiArIGUpO1xuICAgICAgICAvLyBUaGlzIHdpbGwgYnJlYWsgaW4gdGhlIHllYXIgMTAsMDAwLlxuICAgICAgICAgICAgICAgIGlmIChlID49IDI1MzQwMjMwMDgwMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJUaW1lc3RhbXAgc2Vjb25kcyBvdXQgb2YgcmFuZ2U6IFwiICsgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGltZXN0YW1wIHdpdGggdGhlIGN1cnJlbnQgZGF0ZSwgd2l0aCBtaWxsaXNlY29uZCBwcmVjaXNpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBhIG5ldyB0aW1lc3RhbXAgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IGRhdGUuXG4gICAgICovICAgIHN0YXRpYyBub3coKSB7XG4gICAgICAgIHJldHVybiBUaW1lc3RhbXAuZnJvbU1pbGxpcyhEYXRlLm5vdygpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0aW1lc3RhbXAgZnJvbSB0aGUgZ2l2ZW4gZGF0ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRlIC0gVGhlIGRhdGUgdG8gaW5pdGlhbGl6ZSB0aGUgYFRpbWVzdGFtcGAgZnJvbS5cbiAgICAgKiBAcmV0dXJucyBBIG5ldyBgVGltZXN0YW1wYCByZXByZXNlbnRpbmcgdGhlIHNhbWUgcG9pbnQgaW4gdGltZSBhcyB0aGUgZ2l2ZW5cbiAgICAgKiAgICAgZGF0ZS5cbiAgICAgKi8gICAgc3RhdGljIGZyb21EYXRlKGUpIHtcbiAgICAgICAgcmV0dXJuIFRpbWVzdGFtcC5mcm9tTWlsbGlzKGUuZ2V0VGltZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0aW1lc3RhbXAgZnJvbSB0aGUgZ2l2ZW4gbnVtYmVyIG9mIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBtaWxsaXNlY29uZHMgLSBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHNpbmNlIFVuaXggZXBvY2hcbiAgICAgKiAgICAgMTk3MC0wMS0wMVQwMDowMDowMFouXG4gICAgICogQHJldHVybnMgQSBuZXcgYFRpbWVzdGFtcGAgcmVwcmVzZW50aW5nIHRoZSBzYW1lIHBvaW50IGluIHRpbWUgYXMgdGhlIGdpdmVuXG4gICAgICogICAgIG51bWJlciBvZiBtaWxsaXNlY29uZHMuXG4gICAgICovICAgIHN0YXRpYyBmcm9tTWlsbGlzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IE1hdGguZmxvb3IoZSAvIDFlMyksIG4gPSBNYXRoLmZsb29yKDFlNiAqIChlIC0gMWUzICogdCkpO1xuICAgICAgICByZXR1cm4gbmV3IFRpbWVzdGFtcCh0LCBuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBgVGltZXN0YW1wYCB0byBhIEphdmFTY3JpcHQgYERhdGVgIG9iamVjdC4gVGhpcyBjb252ZXJzaW9uXG4gICAgICogY2F1c2VzIGEgbG9zcyBvZiBwcmVjaXNpb24gc2luY2UgYERhdGVgIG9iamVjdHMgb25seSBzdXBwb3J0IG1pbGxpc2Vjb25kXG4gICAgICogcHJlY2lzaW9uLlxuICAgICAqXG4gICAgICogQHJldHVybnMgSmF2YVNjcmlwdCBgRGF0ZWAgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc2FtZSBwb2ludCBpbiB0aW1lIGFzXG4gICAgICogICAgIHRoaXMgYFRpbWVzdGFtcGAsIHdpdGggbWlsbGlzZWNvbmQgcHJlY2lzaW9uLlxuICAgICAqLyAgICB0b0RhdGUoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aGlzLnRvTWlsbGlzKCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBhIGBUaW1lc3RhbXBgIHRvIGEgbnVtZXJpYyB0aW1lc3RhbXAgKGluIG1pbGxpc2Vjb25kcyBzaW5jZVxuICAgICAqIGVwb2NoKS4gVGhpcyBvcGVyYXRpb24gY2F1c2VzIGEgbG9zcyBvZiBwcmVjaXNpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBUaGUgcG9pbnQgaW4gdGltZSBjb3JyZXNwb25kaW5nIHRvIHRoaXMgdGltZXN0YW1wLCByZXByZXNlbnRlZCBhc1xuICAgICAqICAgICB0aGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyBzaW5jZSBVbml4IGVwb2NoIDE5NzAtMDEtMDFUMDA6MDA6MDBaLlxuICAgICAqLyAgICB0b01pbGxpcygpIHtcbiAgICAgICAgcmV0dXJuIDFlMyAqIHRoaXMuc2Vjb25kcyArIHRoaXMubmFub3NlY29uZHMgLyAxZTY7XG4gICAgfVxuICAgIF9jb21wYXJlVG8oZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWNvbmRzID09PSBlLnNlY29uZHMgPyBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcih0aGlzLm5hbm9zZWNvbmRzLCBlLm5hbm9zZWNvbmRzKSA6IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKHRoaXMuc2Vjb25kcywgZS5zZWNvbmRzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgYFRpbWVzdGFtcGAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlciAtIFRoZSBgVGltZXN0YW1wYCB0byBjb21wYXJlIGFnYWluc3QuXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGlzIGBUaW1lc3RhbXBgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICovICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZS5zZWNvbmRzID09PSB0aGlzLnNlY29uZHMgJiYgZS5uYW5vc2Vjb25kcyA9PT0gdGhpcy5uYW5vc2Vjb25kcztcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSB0ZXh0dWFsIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgYFRpbWVzdGFtcGAuICovICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJUaW1lc3RhbXAoc2Vjb25kcz1cIiArIHRoaXMuc2Vjb25kcyArIFwiLCBuYW5vc2Vjb25kcz1cIiArIHRoaXMubmFub3NlY29uZHMgKyBcIilcIjtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSBKU09OLXNlcmlhbGl6YWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGBUaW1lc3RhbXBgLiAqLyAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzZWNvbmRzOiB0aGlzLnNlY29uZHMsXG4gICAgICAgICAgICBuYW5vc2Vjb25kczogdGhpcy5uYW5vc2Vjb25kc1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGlzIG9iamVjdCB0byBhIHByaW1pdGl2ZSBzdHJpbmcsIHdoaWNoIGFsbG93cyBgVGltZXN0YW1wYCBvYmplY3RzXG4gICAgICogdG8gYmUgY29tcGFyZWQgdXNpbmcgdGhlIGA+YCwgYDw9YCwgYD49YCBhbmQgYD5gIG9wZXJhdG9ycy5cbiAgICAgKi8gICAgdmFsdWVPZigpIHtcbiAgICAgICAgLy8gVGhpcyBtZXRob2QgcmV0dXJucyBhIHN0cmluZyBvZiB0aGUgZm9ybSA8c2Vjb25kcz4uPG5hbm9zZWNvbmRzPiB3aGVyZVxuICAgICAgICAvLyA8c2Vjb25kcz4gaXMgdHJhbnNsYXRlZCB0byBoYXZlIGEgbm9uLW5lZ2F0aXZlIHZhbHVlIGFuZCBib3RoIDxzZWNvbmRzPlxuICAgICAgICAvLyBhbmQgPG5hbm9zZWNvbmRzPiBhcmUgbGVmdC1wYWRkZWQgd2l0aCB6ZXJvZXMgdG8gYmUgYSBjb25zaXN0ZW50IGxlbmd0aC5cbiAgICAgICAgLy8gU3RyaW5ncyB3aXRoIHRoaXMgZm9ybWF0IHRoZW4gaGF2ZSBhIGxleGlvZ3JhcGhpY2FsIG9yZGVyaW5nIHRoYXQgbWF0Y2hlc1xuICAgICAgICAvLyB0aGUgZXhwZWN0ZWQgb3JkZXJpbmcuIFRoZSA8c2Vjb25kcz4gdHJhbnNsYXRpb24gaXMgZG9uZSB0byBhdm9pZCBoYXZpbmdcbiAgICAgICAgLy8gYSBsZWFkaW5nIG5lZ2F0aXZlIHNpZ24gKGkuZS4gYSBsZWFkaW5nICctJyBjaGFyYWN0ZXIpIGluIGl0cyBzdHJpbmdcbiAgICAgICAgLy8gcmVwcmVzZW50YXRpb24sIHdoaWNoIHdvdWxkIGFmZmVjdCBpdHMgbGV4aW9ncmFwaGljYWwgb3JkZXJpbmcuXG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnNlY29uZHMgLSAtNjIxMzU1OTY4MDA7XG4gICAgICAgIC8vIE5vdGU6IFVwIHRvIDEyIGRlY2ltYWwgZGlnaXRzIGFyZSByZXF1aXJlZCB0byByZXByZXNlbnQgYWxsIHZhbGlkXG4gICAgICAgIC8vICdzZWNvbmRzJyB2YWx1ZXMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFN0cmluZyhlKS5wYWRTdGFydCgxMiwgXCIwXCIpICsgXCIuXCIgKyBTdHJpbmcodGhpcy5uYW5vc2Vjb25kcykucGFkU3RhcnQoOSwgXCIwXCIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQgaW4gRmlyZXN0b3JlLiBUaGlzIGNvcnJlc3BvbmRzIHRvIHRoZSB2ZXJzaW9uXG4gKiB0aW1lc3RhbXAsIHN1Y2ggYXMgdXBkYXRlX3RpbWUgb3IgcmVhZF90aW1lLlxuICovIGNsYXNzIFNuYXBzaG90VmVyc2lvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnRpbWVzdGFtcCA9IGU7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tVGltZXN0YW1wKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTbmFwc2hvdFZlcnNpb24oZSk7XG4gICAgfVxuICAgIHN0YXRpYyBtaW4oKSB7XG4gICAgICAgIHJldHVybiBuZXcgU25hcHNob3RWZXJzaW9uKG5ldyBUaW1lc3RhbXAoMCwgMCkpO1xuICAgIH1cbiAgICBzdGF0aWMgbWF4KCkge1xuICAgICAgICByZXR1cm4gbmV3IFNuYXBzaG90VmVyc2lvbihuZXcgVGltZXN0YW1wKDI1MzQwMjMwMDc5OSwgOTk5OTk5OTk5KSk7XG4gICAgfVxuICAgIGNvbXBhcmVUbyhlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVzdGFtcC5fY29tcGFyZVRvKGUudGltZXN0YW1wKTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRpbWVzdGFtcC5pc0VxdWFsKGUudGltZXN0YW1wKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSBudW1iZXIgcmVwcmVzZW50YXRpb24gb2YgdGhlIHZlcnNpb24gZm9yIHVzZSBpbiBzcGVjIHRlc3RzLiAqLyAgICB0b01pY3Jvc2Vjb25kcygpIHtcbiAgICAgICAgLy8gQ29udmVydCB0byBtaWNyb3NlY29uZHMuXG4gICAgICAgIHJldHVybiAxZTYgKiB0aGlzLnRpbWVzdGFtcC5zZWNvbmRzICsgdGhpcy50aW1lc3RhbXAubmFub3NlY29uZHMgLyAxZTM7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJTbmFwc2hvdFZlcnNpb24oXCIgKyB0aGlzLnRpbWVzdGFtcC50b1N0cmluZygpICsgXCIpXCI7XG4gICAgfVxuICAgIHRvVGltZXN0YW1wKCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lc3RhbXA7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQYXRoIHJlcHJlc2VudHMgYW4gb3JkZXJlZCBzZXF1ZW5jZSBvZiBzdHJpbmcgc2VnbWVudHMuXG4gKi9cbmNsYXNzIEJhc2VQYXRoIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHZvaWQgMCA9PT0gdCA/IHQgPSAwIDogdCA+IGUubGVuZ3RoICYmIGZhaWwoKSwgdm9pZCAwID09PSBuID8gbiA9IGUubGVuZ3RoIC0gdCA6IG4gPiBlLmxlbmd0aCAtIHQgJiYgZmFpbCgpLCBcbiAgICAgICAgdGhpcy5zZWdtZW50cyA9IGUsIHRoaXMub2Zmc2V0ID0gdCwgdGhpcy5sZW4gPSBuO1xuICAgIH1cbiAgICBnZXQgbGVuZ3RoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW47XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gMCA9PT0gQmFzZVBhdGguY29tcGFyYXRvcih0aGlzLCBlKTtcbiAgICB9XG4gICAgY2hpbGQoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5zZWdtZW50cy5zbGljZSh0aGlzLm9mZnNldCwgdGhpcy5saW1pdCgpKTtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBCYXNlUGF0aCA/IGUuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICB0LnB1c2goZSk7XG4gICAgICAgIH0pKSA6IHQucHVzaChlKSwgdGhpcy5jb25zdHJ1Y3QodCk7XG4gICAgfVxuICAgIC8qKiBUaGUgaW5kZXggb2Ygb25lIHBhc3QgdGhlIGxhc3Qgc2VnbWVudCBvZiB0aGUgcGF0aC4gKi8gICAgbGltaXQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9mZnNldCArIHRoaXMubGVuZ3RoO1xuICAgIH1cbiAgICBwb3BGaXJzdChlKSB7XG4gICAgICAgIHJldHVybiBlID0gdm9pZCAwID09PSBlID8gMSA6IGUsIHRoaXMuY29uc3RydWN0KHRoaXMuc2VnbWVudHMsIHRoaXMub2Zmc2V0ICsgZSwgdGhpcy5sZW5ndGggLSBlKTtcbiAgICB9XG4gICAgcG9wTGFzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0KHRoaXMuc2VnbWVudHMsIHRoaXMub2Zmc2V0LCB0aGlzLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBmaXJzdFNlZ21lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlZ21lbnRzW3RoaXMub2Zmc2V0XTtcbiAgICB9XG4gICAgbGFzdFNlZ21lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldCh0aGlzLmxlbmd0aCAtIDEpO1xuICAgIH1cbiAgICBnZXQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWdtZW50c1t0aGlzLm9mZnNldCArIGVdO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gMCA9PT0gdGhpcy5sZW5ndGg7XG4gICAgfVxuICAgIGlzUHJlZml4T2YoZSkge1xuICAgICAgICBpZiAoZS5sZW5ndGggPCB0aGlzLmxlbmd0aCkgcmV0dXJuICExO1xuICAgICAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHRoaXMubGVuZ3RoOyB0KyspIGlmICh0aGlzLmdldCh0KSAhPT0gZS5nZXQodCkpIHJldHVybiAhMTtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICBpc0ltbWVkaWF0ZVBhcmVudE9mKGUpIHtcbiAgICAgICAgaWYgKHRoaXMubGVuZ3RoICsgMSAhPT0gZS5sZW5ndGgpIHJldHVybiAhMTtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCB0aGlzLmxlbmd0aDsgdCsrKSBpZiAodGhpcy5nZXQodCkgIT09IGUuZ2V0KHQpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgZm9yRWFjaChlKSB7XG4gICAgICAgIGZvciAobGV0IHQgPSB0aGlzLm9mZnNldCwgbiA9IHRoaXMubGltaXQoKTsgdCA8IG47IHQrKykgZSh0aGlzLnNlZ21lbnRzW3RdKTtcbiAgICB9XG4gICAgdG9BcnJheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VnbWVudHMuc2xpY2UodGhpcy5vZmZzZXQsIHRoaXMubGltaXQoKSk7XG4gICAgfVxuICAgIHN0YXRpYyBjb21wYXJhdG9yKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IE1hdGgubWluKGUubGVuZ3RoLCB0Lmxlbmd0aCk7XG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgbjsgcisrKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5nZXQociksIGkgPSB0LmdldChyKTtcbiAgICAgICAgICAgIGlmIChuIDwgaSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgaWYgKG4gPiBpKSByZXR1cm4gMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZS5sZW5ndGggPCB0Lmxlbmd0aCA/IC0xIDogZS5sZW5ndGggPiB0Lmxlbmd0aCA/IDEgOiAwO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIHNsYXNoLXNlcGFyYXRlZCBwYXRoIGZvciBuYXZpZ2F0aW5nIHJlc291cmNlcyAoZG9jdW1lbnRzIGFuZCBjb2xsZWN0aW9ucylcbiAqIHdpdGhpbiBGaXJlc3RvcmUuXG4gKlxuICogQGludGVybmFsXG4gKi8gY2xhc3MgUmVzb3VyY2VQYXRoIGV4dGVuZHMgQmFzZVBhdGgge1xuICAgIGNvbnN0cnVjdChlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQYXRoKGUsIHQsIG4pO1xuICAgIH1cbiAgICBjYW5vbmljYWxTdHJpbmcoKSB7XG4gICAgICAgIC8vIE5PVEU6IFRoZSBjbGllbnQgaXMgaWdub3JhbnQgb2YgYW55IHBhdGggc2VnbWVudHMgY29udGFpbmluZyBlc2NhcGVcbiAgICAgICAgLy8gc2VxdWVuY2VzIChlLmcuIF9faWQxMjNfXykgYW5kIGp1c3QgcGFzc2VzIHRoZW0gdGhyb3VnaCByYXcgKHRoZXkgZXhpc3RcbiAgICAgICAgLy8gZm9yIGxlZ2FjeSByZWFzb25zIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgZnJlcXVlbnRseSkuXG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5qb2luKFwiL1wiKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbm9uaWNhbFN0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoaXMgcGF0aFxuICAgICAqIHdoZXJlIGVhY2ggcGF0aCBzZWdtZW50IGhhcyBiZWVuIGVuY29kZWQgd2l0aFxuICAgICAqIGBlbmNvZGVVUklDb21wb25lbnRgLlxuICAgICAqLyAgICB0b1VyaUVuY29kZWRTdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiL1wiKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlc291cmNlIHBhdGggZnJvbSB0aGUgZ2l2ZW4gc2xhc2gtZGVsaW1pdGVkIHN0cmluZy4gSWYgbXVsdGlwbGVcbiAgICAgKiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkLCBhbGwgY29tcG9uZW50cyBhcmUgY29tYmluZWQuIExlYWRpbmcgYW5kIHRyYWlsaW5nXG4gICAgICogc2xhc2hlcyBmcm9tIGFsbCBjb21wb25lbnRzIGFyZSBpZ25vcmVkLlxuICAgICAqLyAgICBzdGF0aWMgZnJvbVN0cmluZyguLi5lKSB7XG4gICAgICAgIC8vIE5PVEU6IFRoZSBjbGllbnQgaXMgaWdub3JhbnQgb2YgYW55IHBhdGggc2VnbWVudHMgY29udGFpbmluZyBlc2NhcGVcbiAgICAgICAgLy8gc2VxdWVuY2VzIChlLmcuIF9faWQxMjNfXykgYW5kIGp1c3QgcGFzc2VzIHRoZW0gdGhyb3VnaCByYXcgKHRoZXkgZXhpc3RcbiAgICAgICAgLy8gZm9yIGxlZ2FjeSByZWFzb25zIGFuZCBzaG91bGQgbm90IGJlIHVzZWQgZnJlcXVlbnRseSkuXG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGUpIHtcbiAgICAgICAgICAgIGlmIChuLmluZGV4T2YoXCIvL1wiKSA+PSAwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBzZWdtZW50ICgke259KS4gUGF0aHMgbXVzdCBub3QgY29udGFpbiAvLyBpbiB0aGVtLmApO1xuICAgICAgICAgICAgLy8gU3RyaXAgbGVhZGluZyBhbmQgdHJhbGluZyBzbGFzaGVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgdC5wdXNoKC4uLm4uc3BsaXQoXCIvXCIpLmZpbHRlcigoZSA9PiBlLmxlbmd0aCA+IDApKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBhdGgodCk7XG4gICAgfVxuICAgIHN0YXRpYyBlbXB0eVBhdGgoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUmVzb3VyY2VQYXRoKFtdKTtcbiAgICB9XG59XG5cbmNvbnN0IHYgPSAvXltfYS16QS1aXVtfYS16QS1aMC05XSokLztcblxuLyoqXG4gKiBBIGRvdC1zZXBhcmF0ZWQgcGF0aCBmb3IgbmF2aWdhdGluZyBzdWItb2JqZWN0cyB3aXRoaW4gYSBkb2N1bWVudC5cbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIEZpZWxkUGF0aCQxIGV4dGVuZHMgQmFzZVBhdGgge1xuICAgIGNvbnN0cnVjdChlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRQYXRoJDEoZSwgdCwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgc3RyaW5nIGNvdWxkIGJlIHVzZWQgYXMgYSBzZWdtZW50IGluIGEgZmllbGQgcGF0aFxuICAgICAqIHdpdGhvdXQgZXNjYXBpbmcuXG4gICAgICovICAgIHN0YXRpYyBpc1ZhbGlkSWRlbnRpZmllcihlKSB7XG4gICAgICAgIHJldHVybiB2LnRlc3QoZSk7XG4gICAgfVxuICAgIGNhbm9uaWNhbFN0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9BcnJheSgpLm1hcCgoZSA9PiAoZSA9IGUucmVwbGFjZSgvXFxcXC9nLCBcIlxcXFxcXFxcXCIpLnJlcGxhY2UoL2AvZywgXCJcXFxcYFwiKSwgXG4gICAgICAgIEZpZWxkUGF0aCQxLmlzVmFsaWRJZGVudGlmaWVyKGUpIHx8IChlID0gXCJgXCIgKyBlICsgXCJgXCIpLCBlKSkpLmpvaW4oXCIuXCIpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2Fub25pY2FsU3RyaW5nKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGZpZWxkIHJlZmVyZW5jZXMgdGhlIGtleSBvZiBhIGRvY3VtZW50LlxuICAgICAqLyAgICBpc0tleUZpZWxkKCkge1xuICAgICAgICByZXR1cm4gMSA9PT0gdGhpcy5sZW5ndGggJiYgXCJfX25hbWVfX1wiID09PSB0aGlzLmdldCgwKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZpZWxkIGRlc2lnbmF0aW5nIHRoZSBrZXkgb2YgYSBkb2N1bWVudC5cbiAgICAgKi8gICAgc3RhdGljIGtleUZpZWxkKCkge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkUGF0aCQxKFsgXCJfX25hbWVfX1wiIF0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBmaWVsZCBzdHJpbmcgZnJvbSB0aGUgZ2l2ZW4gc2VydmVyLWZvcm1hdHRlZCBzdHJpbmcuXG4gICAgICpcbiAgICAgKiAtIFNwbGl0dGluZyB0aGUgZW1wdHkgc3RyaW5nIGlzIG5vdCBhbGxvd2VkIChmb3Igbm93IGF0IGxlYXN0KS5cbiAgICAgKiAtIEVtcHR5IHNlZ21lbnRzIHdpdGhpbiB0aGUgc3RyaW5nIChlLmcuIGlmIHRoZXJlIGFyZSB0d28gY29uc2VjdXRpdmVcbiAgICAgKiAgIHNlcGFyYXRvcnMpIGFyZSBub3QgYWxsb3dlZC5cbiAgICAgKlxuICAgICAqIFRPRE8oYi8zNzI0NDE1Nyk6IHdlIHNob3VsZCBtYWtlIHRoaXMgbW9yZSBzdHJpY3QuIFJpZ2h0IG5vdywgaXQgYWxsb3dzXG4gICAgICogbm9uLWlkZW50aWZpZXIgcGF0aCBjb21wb25lbnRzLCBldmVuIGlmIHRoZXkgYXJlbid0IGVzY2FwZWQuXG4gICAgICovICAgIHN0YXRpYyBmcm9tU2VydmVyRm9ybWF0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBsZXQgbiA9IFwiXCIsIHIgPSAwO1xuICAgICAgICBjb25zdCBfX1BSSVZBVEVfYWRkQ3VycmVudFNlZ21lbnQgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoMCA9PT0gbi5sZW5ndGgpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIGZpZWxkIHBhdGggKCR7ZX0pLiBQYXRocyBtdXN0IG5vdCBiZSBlbXB0eSwgYmVnaW4gd2l0aCAnLicsIGVuZCB3aXRoICcuJywgb3IgY29udGFpbiAnLi4nYCk7XG4gICAgICAgICAgICB0LnB1c2gobiksIG4gPSBcIlwiO1xuICAgICAgICB9O1xuICAgICAgICBsZXQgaSA9ICExO1xuICAgICAgICBmb3IgKDtyIDwgZS5sZW5ndGg7ICkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGVbcl07XG4gICAgICAgICAgICBpZiAoXCJcXFxcXCIgPT09IHQpIHtcbiAgICAgICAgICAgICAgICBpZiAociArIDEgPT09IGUubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlBhdGggaGFzIHRyYWlsaW5nIGVzY2FwZSBjaGFyYWN0ZXI6IFwiICsgZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGVbciArIDFdO1xuICAgICAgICAgICAgICAgIGlmIChcIlxcXFxcIiAhPT0gdCAmJiBcIi5cIiAhPT0gdCAmJiBcImBcIiAhPT0gdCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJQYXRoIGhhcyBpbnZhbGlkIGVzY2FwZSBzZXF1ZW5jZTogXCIgKyBlKTtcbiAgICAgICAgICAgICAgICBuICs9IHQsIHIgKz0gMjtcbiAgICAgICAgICAgIH0gZWxzZSBcImBcIiA9PT0gdCA/IChpID0gIWksIHIrKykgOiBcIi5cIiAhPT0gdCB8fCBpID8gKG4gKz0gdCwgcisrKSA6IChfX1BSSVZBVEVfYWRkQ3VycmVudFNlZ21lbnQoKSwgXG4gICAgICAgICAgICByKyspO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfX1BSSVZBVEVfYWRkQ3VycmVudFNlZ21lbnQoKSwgaSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJVbnRlcm1pbmF0ZWQgYCBpbiBwYXRoOiBcIiArIGUpO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkUGF0aCQxKHQpO1xuICAgIH1cbiAgICBzdGF0aWMgZW1wdHlQYXRoKCkge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkUGF0aCQxKFtdKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIERvY3VtZW50S2V5IHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMucGF0aCA9IGU7XG4gICAgfVxuICAgIHN0YXRpYyBmcm9tUGF0aChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRLZXkoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcoZSkpO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbU5hbWUoZSkge1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50S2V5KFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKGUpLnBvcEZpcnN0KDUpKTtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50S2V5KFJlc291cmNlUGF0aC5lbXB0eVBhdGgoKSk7XG4gICAgfVxuICAgIGdldCBjb2xsZWN0aW9uR3JvdXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgucG9wTGFzdCgpLmxhc3RTZWdtZW50KCk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGRvY3VtZW50IGlzIGluIHRoZSBzcGVjaWZpZWQgY29sbGVjdGlvbklkLiAqLyAgICBoYXNDb2xsZWN0aW9uSWQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoLmxlbmd0aCA+PSAyICYmIHRoaXMucGF0aC5nZXQodGhpcy5wYXRoLmxlbmd0aCAtIDIpID09PSBlO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyB0aGUgY29sbGVjdGlvbiBncm91cCAoaS5lLiB0aGUgbmFtZSBvZiB0aGUgcGFyZW50IGNvbGxlY3Rpb24pIGZvciB0aGlzIGtleS4gKi8gICAgZ2V0Q29sbGVjdGlvbkdyb3VwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoLmdldCh0aGlzLnBhdGgubGVuZ3RoIC0gMik7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRoZSBmdWxseSBxdWFsaWZpZWQgcGF0aCB0byB0aGUgcGFyZW50IGNvbGxlY3Rpb24uICovICAgIGdldENvbGxlY3Rpb25QYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoLnBvcExhc3QoKTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBlICYmIDAgPT09IFJlc291cmNlUGF0aC5jb21wYXJhdG9yKHRoaXMucGF0aCwgZS5wYXRoKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgc3RhdGljIGNvbXBhcmF0b3IoZSwgdCkge1xuICAgICAgICByZXR1cm4gUmVzb3VyY2VQYXRoLmNvbXBhcmF0b3IoZS5wYXRoLCB0LnBhdGgpO1xuICAgIH1cbiAgICBzdGF0aWMgaXNEb2N1bWVudEtleShlKSB7XG4gICAgICAgIHJldHVybiBlLmxlbmd0aCAlIDIgPT0gMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBkb2N1bWVudCBrZXkgd2l0aCB0aGUgZ2l2ZW4gc2VnbWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gc2VnbWVudHMgLSBUaGUgc2VnbWVudHMgb2YgdGhlIHBhdGggdG8gdGhlIGRvY3VtZW50XG4gICAgICogQHJldHVybnMgQSBuZXcgaW5zdGFuY2Ugb2YgRG9jdW1lbnRLZXlcbiAgICAgKi8gICAgc3RhdGljIGZyb21TZWdtZW50cyhlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRLZXkobmV3IFJlc291cmNlUGF0aChlLnNsaWNlKCkpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSBpbml0aWFsIG11dGF0aW9uIGJhdGNoIGlkIGZvciBlYWNoIGluZGV4LiBHZXRzIHVwZGF0ZWQgZHVyaW5nIGluZGV4XG4gKiBiYWNrZmlsbC5cbiAqL1xuLyoqXG4gKiBBbiBpbmRleCBkZWZpbml0aW9uIGZvciBmaWVsZCBpbmRleGVzIGluIEZpcmVzdG9yZS5cbiAqXG4gKiBFdmVyeSBpbmRleCBpcyBhc3NvY2lhdGVkIHdpdGggYSBjb2xsZWN0aW9uLiBUaGUgZGVmaW5pdGlvbiBjb250YWlucyBhIGxpc3RcbiAqIG9mIGZpZWxkcyBhbmQgdGhlaXIgaW5kZXgga2luZCAod2hpY2ggY2FuIGJlIGBBU0NFTkRJTkdgLCBgREVTQ0VORElOR2Agb3JcbiAqIGBDT05UQUlOU2AgZm9yIEFycmF5Q29udGFpbnMvQXJyYXlDb250YWluc0FueSBxdWVyaWVzKS5cbiAqXG4gKiBVbmxpa2UgdGhlIGJhY2tlbmQsIHRoZSBTREsgZG9lcyBub3QgZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIGNvbGxlY3Rpb24gb3JcbiAqIGNvbGxlY3Rpb24gZ3JvdXAtc2NvcGVkIGluZGljZXMuIEV2ZXJ5IGluZGV4IGNhbiBiZSB1c2VkIGZvciBib3RoIHNpbmdsZVxuICogY29sbGVjdGlvbiBhbmQgY29sbGVjdGlvbiBncm91cCBxdWVyaWVzLlxuICovXG5jbGFzcyBGaWVsZEluZGV4IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgaW5kZXggSUQuIFJldHVybnMgLTEgaWYgdGhlIGluZGV4IElEIGlzIG5vdCBhdmFpbGFibGUgKGUuZy4gdGhlIGluZGV4XG4gICAgICogaGFzIG5vdCB5ZXQgYmVlbiBwZXJzaXN0ZWQpLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKiBUaGUgY29sbGVjdGlvbiBJRCB0aGlzIGluZGV4IGFwcGxpZXMgdG8uICovXG4gICAgdCwgXG4gICAgLyoqIFRoZSBmaWVsZCBzZWdtZW50cyBmb3IgdGhpcyBpbmRleC4gKi9cbiAgICBuLCBcbiAgICAvKiogU2hvd3MgaG93IHVwLXRvLWRhdGUgdGhlIGluZGV4IGlzIGZvciB0aGUgY3VycmVudCB1c2VyLiAqL1xuICAgIHIpIHtcbiAgICAgICAgdGhpcy5pbmRleElkID0gZSwgdGhpcy5jb2xsZWN0aW9uR3JvdXAgPSB0LCB0aGlzLmZpZWxkcyA9IG4sIHRoaXMuaW5kZXhTdGF0ZSA9IHI7XG4gICAgfVxufVxuXG4vKiogQW4gSUQgZm9yIGFuIGluZGV4IHRoYXQgaGFzIG5vdCB5ZXQgYmVlbiBhZGRlZCB0byBwZXJzaXN0ZW5jZS4gICovXG4vKiogUmV0dXJucyB0aGUgQXJyYXlDb250YWlucy9BcnJheUNvbnRhaW5zQW55IHNlZ21lbnQgZm9yIHRoaXMgaW5kZXguICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRJbmRleEdldEFycmF5U2VnbWVudChlKSB7XG4gICAgcmV0dXJuIGUuZmllbGRzLmZpbmQoKGUgPT4gMiAvKiBJbmRleEtpbmQuQ09OVEFJTlMgKi8gPT09IGUua2luZCkpO1xufVxuXG4vKiogUmV0dXJucyBhbGwgZGlyZWN0aW9uYWwgKGFzY2VuZGluZy9kZXNjZW5kaW5nKSBzZWdtZW50cyBmb3IgdGhpcyBpbmRleC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkSW5kZXhHZXREaXJlY3Rpb25hbFNlZ21lbnRzKGUpIHtcbiAgICByZXR1cm4gZS5maWVsZHMuZmlsdGVyKChlID0+IDIgLyogSW5kZXhLaW5kLkNPTlRBSU5TICovICE9PSBlLmtpbmQpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBvcmRlciBvZiB0aGUgZG9jdW1lbnQga2V5IGNvbXBvbmVudCBmb3IgdGhlIGdpdmVuIGluZGV4LlxuICpcbiAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgaW4gdGhlIFdlYiBJbmRleGVkRGIgaW1wbGVtZW50YXRpb24uXG4gKi9cbi8qKlxuICogQ29tcGFyZXMgaW5kZXhlcyBieSBjb2xsZWN0aW9uIGdyb3VwIGFuZCBzZWdtZW50cy4gSWdub3JlcyB1cGRhdGUgdGltZSBhbmRcbiAqIGluZGV4IElELlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRJbmRleFNlbWFudGljQ29tcGFyYXRvcihlLCB0KSB7XG4gICAgbGV0IG4gPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLmNvbGxlY3Rpb25Hcm91cCwgdC5jb2xsZWN0aW9uR3JvdXApO1xuICAgIGlmICgwICE9PSBuKSByZXR1cm4gbjtcbiAgICBmb3IgKGxldCByID0gMDsgciA8IE1hdGgubWluKGUuZmllbGRzLmxlbmd0aCwgdC5maWVsZHMubGVuZ3RoKTsgKytyKSBpZiAobiA9IF9fUFJJVkFURV9pbmRleFNlZ21lbnRDb21wYXJhdG9yKGUuZmllbGRzW3JdLCB0LmZpZWxkc1tyXSksIFxuICAgIDAgIT09IG4pIHJldHVybiBuO1xuICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLmZpZWxkcy5sZW5ndGgsIHQuZmllbGRzLmxlbmd0aCk7XG59XG5cbi8qKiBSZXR1cm5zIGEgZGVidWcgcmVwcmVzZW50YXRpb24gb2YgdGhlIGZpZWxkIGluZGV4ICovIEZpZWxkSW5kZXguVU5LTk9XTl9JRCA9IC0xO1xuXG4vKiogQW4gaW5kZXggY29tcG9uZW50IGNvbnNpc3Rpbmcgb2YgZmllbGQgcGF0aCBhbmQgaW5kZXggdHlwZS4gICovXG5jbGFzcyBJbmRleFNlZ21lbnQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgZmllbGQgcGF0aCBvZiB0aGUgY29tcG9uZW50LiAqL1xuICAgIGUsIFxuICAgIC8qKiBUaGUgZmllbGRzIHNvcnRpbmcgb3JkZXIuICovXG4gICAgdCkge1xuICAgICAgICB0aGlzLmZpZWxkUGF0aCA9IGUsIHRoaXMua2luZCA9IHQ7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhTZWdtZW50Q29tcGFyYXRvcihlLCB0KSB7XG4gICAgY29uc3QgbiA9IEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IoZS5maWVsZFBhdGgsIHQuZmllbGRQYXRoKTtcbiAgICByZXR1cm4gMCAhPT0gbiA/IG4gOiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLmtpbmQsIHQua2luZCk7XG59XG5cbi8qKlxuICogU3RvcmVzIHRoZSBcImhpZ2ggd2F0ZXIgbWFya1wiIHRoYXQgaW5kaWNhdGVzIGhvdyB1cGRhdGVkIHRoZSBJbmRleCBpcyBmb3IgdGhlXG4gKiBjdXJyZW50IHVzZXIuXG4gKi8gY2xhc3MgSW5kZXhTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZW4gdGhlIGluZGV4IHdhcyBsYXN0IHVwZGF0ZWQgKHJlbGF0aXZlIHRvIG90aGVyIGluZGV4ZXMpLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKiBUaGUgdGhlIGxhdGVzdCBpbmRleGVkIHJlYWQgdGltZSwgZG9jdW1lbnQgYW5kIGJhdGNoIGlkLiAqL1xuICAgIHQpIHtcbiAgICAgICAgdGhpcy5zZXF1ZW5jZU51bWJlciA9IGUsIHRoaXMub2Zmc2V0ID0gdDtcbiAgICB9XG4gICAgLyoqIFRoZSBzdGF0ZSBvZiBhbiBpbmRleCB0aGF0IGhhcyBub3QgeWV0IGJlZW4gYmFja2ZpbGxlZC4gKi8gICAgc3RhdGljIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IEluZGV4U3RhdGUoMCwgSW5kZXhPZmZzZXQubWluKCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIG9mZnNldCB0aGF0IG1hdGNoZXMgYWxsIGRvY3VtZW50cyB3aXRoIGEgcmVhZCB0aW1lIGhpZ2hlciB0aGFuXG4gKiBgcmVhZFRpbWVgLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdJbmRleE9mZnNldFN1Y2Nlc3NvckZyb21SZWFkVGltZShlLCB0KSB7XG4gICAgLy8gV2Ugd2FudCB0byBjcmVhdGUgYW4gb2Zmc2V0IHRoYXQgbWF0Y2hlcyBhbGwgZG9jdW1lbnRzIHdpdGggYSByZWFkIHRpbWVcbiAgICAvLyBncmVhdGVyIHRoYW4gdGhlIHByb3ZpZGVkIHJlYWQgdGltZS4gVG8gZG8gc28sIHdlIHRlY2huaWNhbGx5IG5lZWQgdG9cbiAgICAvLyBjcmVhdGUgYW4gb2Zmc2V0IGZvciBgKHJlYWRUaW1lLCBNQVhfRE9DVU1FTlRfS0VZKWAuIFdoaWxlIHdlIGNvdWxkIHVzZVxuICAgIC8vIFVuaWNvZGUgY29kZXBvaW50cyB0byBnZW5lcmF0ZSBNQVhfRE9DVU1FTlRfS0VZLCBpdCBpcyBtdWNoIGVhc2llciB0byB1c2VcbiAgICAvLyBgKHJlYWRUaW1lICsgMSwgRG9jdW1lbnRLZXkuZW1wdHkoKSlgIHNpbmNlIGA+IERvY3VtZW50S2V5LmVtcHR5KClgIG1hdGNoZXNcbiAgICAvLyBhbGwgdmFsaWQgZG9jdW1lbnQgSURzLlxuICAgIGNvbnN0IG4gPSBlLnRvVGltZXN0YW1wKCkuc2Vjb25kcywgciA9IGUudG9UaW1lc3RhbXAoKS5uYW5vc2Vjb25kcyArIDEsIGkgPSBTbmFwc2hvdFZlcnNpb24uZnJvbVRpbWVzdGFtcCgxZTkgPT09IHIgPyBuZXcgVGltZXN0YW1wKG4gKyAxLCAwKSA6IG5ldyBUaW1lc3RhbXAobiwgcikpO1xuICAgIHJldHVybiBuZXcgSW5kZXhPZmZzZXQoaSwgRG9jdW1lbnRLZXkuZW1wdHkoKSwgdCk7XG59XG5cbi8qKiBDcmVhdGVzIGEgbmV3IG9mZnNldCBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgZG9jdW1lbnQuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdJbmRleE9mZnNldEZyb21Eb2N1bWVudChlKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleE9mZnNldChlLnJlYWRUaW1lLCBlLmtleSwgLTEpO1xufVxuXG4vKipcbiAqIFN0b3JlcyB0aGUgbGF0ZXN0IHJlYWQgdGltZSwgZG9jdW1lbnQgYW5kIGJhdGNoIElEIHRoYXQgd2VyZSBwcm9jZXNzZWQgZm9yIGFuXG4gKiBpbmRleC5cbiAqLyBjbGFzcyBJbmRleE9mZnNldCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIGxhdGVzdCByZWFkIHRpbWUgdmVyc2lvbiB0aGF0IGhhcyBiZWVuIGluZGV4ZWQgYnkgRmlyZXN0b3JlIGZvciB0aGlzXG4gICAgICogZmllbGQgaW5kZXguXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIGtleSBvZiB0aGUgbGFzdCBkb2N1bWVudCB0aGF0IHdhcyBpbmRleGVkIGZvciB0aGlzIHF1ZXJ5LiBVc2VcbiAgICAgKiBgRG9jdW1lbnRLZXkuZW1wdHkoKWAgaWYgbm8gZG9jdW1lbnQgaGFzIGJlZW4gaW5kZXhlZC5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKlxuICAgICAqIFRoZSBsYXJnZXN0IG11dGF0aW9uIGJhdGNoIGlkIHRoYXQncyBiZWVuIHByb2Nlc3NlZCBieSBGaXJlc3RvcmUuXG4gICAgICovXG4gICAgbikge1xuICAgICAgICB0aGlzLnJlYWRUaW1lID0gZSwgdGhpcy5kb2N1bWVudEtleSA9IHQsIHRoaXMubGFyZ2VzdEJhdGNoSWQgPSBuO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyBhbiBvZmZzZXQgdGhhdCBzb3J0cyBiZWZvcmUgYWxsIHJlZ3VsYXIgb2Zmc2V0cy4gKi8gICAgc3RhdGljIG1pbigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbmRleE9mZnNldChTbmFwc2hvdFZlcnNpb24ubWluKCksIERvY3VtZW50S2V5LmVtcHR5KCksIC0xKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYW4gb2Zmc2V0IHRoYXQgc29ydHMgYWZ0ZXIgYWxsIHJlZ3VsYXIgb2Zmc2V0cy4gKi8gICAgc3RhdGljIG1heCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbmRleE9mZnNldChTbmFwc2hvdFZlcnNpb24ubWF4KCksIERvY3VtZW50S2V5LmVtcHR5KCksIC0xKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9pbmRleE9mZnNldENvbXBhcmF0b3IoZSwgdCkge1xuICAgIGxldCBuID0gZS5yZWFkVGltZS5jb21wYXJlVG8odC5yZWFkVGltZSk7XG4gICAgcmV0dXJuIDAgIT09IG4gPyBuIDogKG4gPSBEb2N1bWVudEtleS5jb21wYXJhdG9yKGUuZG9jdW1lbnRLZXksIHQuZG9jdW1lbnRLZXkpLCBcbiAgICAwICE9PSBuID8gbiA6IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUubGFyZ2VzdEJhdGNoSWQsIHQubGFyZ2VzdEJhdGNoSWQpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY29uc3QgRiA9IFwiVGhlIGN1cnJlbnQgdGFiIGlzIG5vdCBpbiB0aGUgcmVxdWlyZWQgc3RhdGUgdG8gcGVyZm9ybSB0aGlzIG9wZXJhdGlvbi4gSXQgbWlnaHQgYmUgbmVjZXNzYXJ5IHRvIHJlZnJlc2ggdGhlIGJyb3dzZXIgdGFiLlwiO1xuXG4vKipcbiAqIEEgYmFzZSBjbGFzcyByZXByZXNlbnRpbmcgYSBwZXJzaXN0ZW5jZSB0cmFuc2FjdGlvbiwgZW5jYXBzdWxhdGluZyBib3RoIHRoZVxuICogdHJhbnNhY3Rpb24ncyBzZXF1ZW5jZSBudW1iZXJzIGFzIHdlbGwgYXMgYSBsaXN0IG9mIG9uQ29tbWl0dGVkIGxpc3RlbmVycy5cbiAqXG4gKiBXaGVuIHlvdSBjYWxsIFBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKCksIGl0IHdpbGwgY3JlYXRlIGEgdHJhbnNhY3Rpb24gYW5kXG4gKiBwYXNzIGl0IHRvIHlvdXIgY2FsbGJhY2suIFlvdSB0aGVuIHBhc3MgaXQgdG8gYW55IG1ldGhvZCB0aGF0IG9wZXJhdGVzXG4gKiBvbiBwZXJzaXN0ZW5jZS5cbiAqLyBjbGFzcyBQZXJzaXN0ZW5jZVRyYW5zYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5vbkNvbW1pdHRlZExpc3RlbmVycyA9IFtdO1xuICAgIH1cbiAgICBhZGRPbkNvbW1pdHRlZExpc3RlbmVyKGUpIHtcbiAgICAgICAgdGhpcy5vbkNvbW1pdHRlZExpc3RlbmVycy5wdXNoKGUpO1xuICAgIH1cbiAgICByYWlzZU9uQ29tbWl0dGVkRXZlbnQoKSB7XG4gICAgICAgIHRoaXMub25Db21taXR0ZWRMaXN0ZW5lcnMuZm9yRWFjaCgoZSA9PiBlKCkpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFZlcmlmaWVzIHRoZSBlcnJvciB0aHJvd24gYnkgYSBMb2NhbFN0b3JlIG9wZXJhdGlvbi4gSWYgYSBMb2NhbFN0b3JlXG4gKiBvcGVyYXRpb24gZmFpbHMgYmVjYXVzZSB0aGUgcHJpbWFyeSBsZWFzZSBoYXMgYmVlbiB0YWtlbiBieSBhbm90aGVyIGNsaWVudCxcbiAqIHdlIGlnbm9yZSB0aGUgZXJyb3IgKHRoZSBwZXJzaXN0ZW5jZSBsYXllciB3aWxsIGltbWVkaWF0ZWx5IGNhbGxcbiAqIGBhcHBseVByaW1hcnlMZWFzZWAgdG8gcHJvcGFnYXRlIHRoZSBwcmltYXJ5IHN0YXRlIGNoYW5nZSkuIEFsbCBvdGhlciBlcnJvcnNcbiAqIGFyZSByZS10aHJvd24uXG4gKlxuICogQHBhcmFtIGVyciAtIEFuIGVycm9yIHJldHVybmVkIGJ5IGEgTG9jYWxTdG9yZSBvcGVyYXRpb24uXG4gKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCByZXNvbHZlcyBhZnRlciB3ZSByZWNvdmVyZWQsIG9yIHRoZSBvcmlnaW5hbCBlcnJvci5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzKGUpIHtcbiAgICBpZiAoZS5jb2RlICE9PSBDLkZBSUxFRF9QUkVDT05ESVRJT04gfHwgZS5tZXNzYWdlICE9PSBGKSB0aHJvdyBlO1xuICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxvY2FsU3RvcmVcIiwgXCJVbmV4cGVjdGVkbHkgbG9zdCBwcmltYXJ5IGxlYXNlXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBQZXJzaXN0ZW5jZVByb21pc2UgaXMgZXNzZW50aWFsbHkgYSByZS1pbXBsZW1lbnRhdGlvbiBvZiBQcm9taXNlIGV4Y2VwdFxuICogaXQgaGFzIGEgLm5leHQoKSBtZXRob2QgaW5zdGVhZCBvZiAudGhlbigpIGFuZCAubmV4dCgpIGFuZCAuY2F0Y2goKSBjYWxsYmFja3NcbiAqIGFyZSBleGVjdXRlZCBzeW5jaHJvbm91c2x5IHdoZW4gYSBQZXJzaXN0ZW5jZVByb21pc2UgcmVzb2x2ZXMgcmF0aGVyIHRoYW5cbiAqIGFzeW5jaHJvbm91c2x5IChQcm9taXNlIGltcGxlbWVudGF0aW9ucyB1c2Ugc2V0SW1tZWRpYXRlKCkgb3Igc2ltaWxhcikuXG4gKlxuICogVGhpcyBpcyBuZWNlc3NhcnkgdG8gaW50ZXJvcGVyYXRlIHdpdGggSW5kZXhlZERCIHdoaWNoIHdpbGwgYXV0b21hdGljYWxseVxuICogY29tbWl0IHRyYW5zYWN0aW9ucyBpZiBjb250cm9sIGlzIHJldHVybmVkIHRvIHRoZSBldmVudCBsb29wIHdpdGhvdXRcbiAqIHN5bmNocm9ub3VzbHkgaW5pdGlhdGluZyBhbm90aGVyIG9wZXJhdGlvbiBvbiB0aGUgdHJhbnNhY3Rpb24uXG4gKlxuICogTk9URTogLnRoZW4oKSBhbmQgLmNhdGNoKCkgb25seSBhbGxvdyBhIHNpbmdsZSBjb25zdW1lciwgdW5saWtlIG5vcm1hbFxuICogUHJvbWlzZXMuXG4gKi8gY2xhc3MgUGVyc2lzdGVuY2VQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIC8vIE5PVEU6IG5leHQvY2F0Y2hDYWxsYmFjayB3aWxsIGFsd2F5cyBwb2ludCB0byBvdXIgb3duIHdyYXBwZXIgZnVuY3Rpb25zLFxuICAgICAgICAvLyBub3QgdGhlIHVzZXIncyByYXcgbmV4dCgpIG9yIGNhdGNoKCkgY2FsbGJhY2tzLlxuICAgICAgICB0aGlzLm5leHRDYWxsYmFjayA9IG51bGwsIHRoaXMuY2F0Y2hDYWxsYmFjayA9IG51bGwsIFxuICAgICAgICAvLyBXaGVuIHRoZSBvcGVyYXRpb24gcmVzb2x2ZXMsIHdlJ2xsIHNldCByZXN1bHQgb3IgZXJyb3IgYW5kIG1hcmsgaXNEb25lLlxuICAgICAgICB0aGlzLnJlc3VsdCA9IHZvaWQgMCwgdGhpcy5lcnJvciA9IHZvaWQgMCwgdGhpcy5pc0RvbmUgPSAhMSwgXG4gICAgICAgIC8vIFNldCB0byB0cnVlIHdoZW4gLnRoZW4oKSBvciAuY2F0Y2goKSBhcmUgY2FsbGVkIGFuZCBwcmV2ZW50cyBhZGRpdGlvbmFsXG4gICAgICAgIC8vIGNoYWluaW5nLlxuICAgICAgICB0aGlzLmNhbGxiYWNrQXR0YWNoZWQgPSAhMSwgZSgoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzRG9uZSA9ICEwLCB0aGlzLnJlc3VsdCA9IGUsIHRoaXMubmV4dENhbGxiYWNrICYmIFxuICAgICAgICAgICAgLy8gdmFsdWUgc2hvdWxkIGJlIGRlZmluZWQgdW5sZXNzIFQgaXMgVm9pZCwgYnV0IHdlIGNhbid0IGV4cHJlc3NcbiAgICAgICAgICAgIC8vIHRoYXQgaW4gdGhlIHR5cGUgc3lzdGVtLlxuICAgICAgICAgICAgdGhpcy5uZXh0Q2FsbGJhY2soZSk7XG4gICAgICAgIH0pLCAoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlzRG9uZSA9ICEwLCB0aGlzLmVycm9yID0gZSwgdGhpcy5jYXRjaENhbGxiYWNrICYmIHRoaXMuY2F0Y2hDYWxsYmFjayhlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBjYXRjaChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHQodm9pZCAwLCBlKTtcbiAgICB9XG4gICAgbmV4dChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxiYWNrQXR0YWNoZWQgJiYgZmFpbCgpLCB0aGlzLmNhbGxiYWNrQXR0YWNoZWQgPSAhMCwgdGhpcy5pc0RvbmUgPyB0aGlzLmVycm9yID8gdGhpcy53cmFwRmFpbHVyZSh0LCB0aGlzLmVycm9yKSA6IHRoaXMud3JhcFN1Y2Nlc3MoZSwgdGhpcy5yZXN1bHQpIDogbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmV4dENhbGxiYWNrID0gdCA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwU3VjY2VzcyhlLCB0KS5uZXh0KG4sIHIpO1xuICAgICAgICAgICAgfSwgdGhpcy5jYXRjaENhbGxiYWNrID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy53cmFwRmFpbHVyZSh0LCBlKS5uZXh0KG4sIHIpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB0b1Byb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIHRoaXMubmV4dChlLCB0KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICB3cmFwVXNlckZ1bmN0aW9uKGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlKCk7XG4gICAgICAgICAgICByZXR1cm4gdCBpbnN0YW5jZW9mIFBlcnNpc3RlbmNlUHJvbWlzZSA/IHQgOiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZWplY3QoZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgd3JhcFN1Y2Nlc3MoZSwgdCkge1xuICAgICAgICByZXR1cm4gZSA/IHRoaXMud3JhcFVzZXJGdW5jdGlvbigoKCkgPT4gZSh0KSkpIDogUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodCk7XG4gICAgfVxuICAgIHdyYXBGYWlsdXJlKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUgPyB0aGlzLndyYXBVc2VyRnVuY3Rpb24oKCgpID0+IGUodCkpKSA6IFBlcnNpc3RlbmNlUHJvbWlzZS5yZWplY3QodCk7XG4gICAgfVxuICAgIHN0YXRpYyByZXNvbHZlKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICB0KGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHN0YXRpYyByZWplY3QoZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIG4oZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc3RhdGljIHdhaXRGb3IoXG4gICAgLy8gQWNjZXB0IGFsbCBQcm9taXNlIHR5cGVzIGluIHdhaXRGb3IoKS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICBsZXQgciA9IDAsIGkgPSAwLCBzID0gITE7XG4gICAgICAgICAgICBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgICsrciwgZS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICsraSwgcyAmJiBpID09PSByICYmIHQoKTtcbiAgICAgICAgICAgICAgICB9KSwgKGUgPT4gbihlKSkpO1xuICAgICAgICAgICAgfSkpLCBzID0gITAsIGkgPT09IHIgJiYgdCgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGFuIGFycmF5IG9mIHByZWRpY2F0ZSBmdW5jdGlvbnMgdGhhdCBhc3luY2hyb25vdXNseSBldmFsdWF0ZSB0byBhXG4gICAgICogYm9vbGVhbiwgaW1wbGVtZW50cyBhIHNob3J0LWNpcmN1aXRpbmcgYG9yYCBiZXR3ZWVuIHRoZSByZXN1bHRzLiBQcmVkaWNhdGVzXG4gICAgICogd2lsbCBiZSBldmFsdWF0ZWQgdW50aWwgb25lIG9mIHRoZW0gcmV0dXJucyBgdHJ1ZWAsIHRoZW4gc3RvcC4gVGhlIGZpbmFsXG4gICAgICogcmVzdWx0IHdpbGwgYmUgd2hldGhlciBhbnkgb2YgdGhlbSByZXR1cm5lZCBgdHJ1ZWAuXG4gICAgICovICAgIHN0YXRpYyBvcihlKSB7XG4gICAgICAgIGxldCB0ID0gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoITEpO1xuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZSkgdCA9IHQubmV4dCgoZSA9PiBlID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoZSkgOiBuKCkpKTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIHN0YXRpYyBmb3JFYWNoKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IFtdO1xuICAgICAgICByZXR1cm4gZS5mb3JFYWNoKCgoZSwgcikgPT4ge1xuICAgICAgICAgICAgbi5wdXNoKHQuY2FsbCh0aGlzLCBlLCByKSk7XG4gICAgICAgIH0pKSwgdGhpcy53YWl0Rm9yKG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb25jdXJyZW50bHkgbWFwIGFsbCBhcnJheSBlbGVtZW50cyB0aHJvdWdoIGFzeW5jaHJvbm91cyBmdW5jdGlvbi5cbiAgICAgKi8gICAgc3RhdGljIG1hcEFycmF5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKChuLCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gZS5sZW5ndGgsIHMgPSBuZXcgQXJyYXkoaSk7XG4gICAgICAgICAgICBsZXQgbyA9IDA7XG4gICAgICAgICAgICBmb3IgKGxldCBfID0gMDsgXyA8IGk7IF8rKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBfO1xuICAgICAgICAgICAgICAgIHQoZVthXSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHNbYV0gPSBlLCArK28sIG8gPT09IGkgJiYgbihzKTtcbiAgICAgICAgICAgICAgICB9KSwgKGUgPT4gcihlKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIHJlY3Vyc2l2ZSBQZXJzaXN0ZW5jZVByb21pc2UgY2FsbHMsIHRoYXQgYXZvaWRzXG4gICAgICogcG90ZW50aWFsIG1lbW9yeSBwcm9ibGVtcyBmcm9tIHVuYm91bmRlZCBjaGFpbnMgb2YgcHJvbWlzZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYGFjdGlvbmAgd2lsbCBiZSBjYWxsZWQgcmVwZWF0ZWRseSB3aGlsZSBgY29uZGl0aW9uYCBpcyB0cnVlLlxuICAgICAqLyAgICBzdGF0aWMgZG9XaGlsZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcHJvY2VzcyA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAhMCA9PT0gZSgpID8gdCgpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2VzcygpO1xuICAgICAgICAgICAgICAgIH0pLCByKSA6IG4oKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBwcm9jZXNzKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBSZWZlcmVuY2VzIHRvIGB3aW5kb3dgIGFyZSBndWFyZGVkIGJ5IFNpbXBsZURiLmlzQXZhaWxhYmxlKClcbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuLyoqXG4gKiBXcmFwcyBhbiBJREJUcmFuc2FjdGlvbiBhbmQgZXhwb3NlcyBhIHN0b3JlKCkgbWV0aG9kIHRvIGdldCBhIGhhbmRsZSB0byBhXG4gKiBzcGVjaWZpYyBvYmplY3Qgc3RvcmUuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9TaW1wbGVEYlRyYW5zYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuYWN0aW9uID0gZSwgdGhpcy50cmFuc2FjdGlvbiA9IHQsIHRoaXMuYWJvcnRlZCA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgcmVzdWx0IG9mIHRoZSBJbmRleGVkRGIgdHJhbnNhY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlYgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkLCB0aGlzLnRyYW5zYWN0aW9uLm9uY29tcGxldGUgPSAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLlYucmVzb2x2ZSgpO1xuICAgICAgICB9LCB0aGlzLnRyYW5zYWN0aW9uLm9uYWJvcnQgPSAoKSA9PiB7XG4gICAgICAgICAgICB0LmVycm9yID8gdGhpcy5WLnJlamVjdChuZXcgX19QUklWQVRFX0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSwgdC5lcnJvcikpIDogdGhpcy5WLnJlc29sdmUoKTtcbiAgICAgICAgfSwgdGhpcy50cmFuc2FjdGlvbi5vbmVycm9yID0gdCA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2NoZWNrRm9yQW5kUmVwb3J0aU9TRXJyb3IodC50YXJnZXQuZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5WLnJlamVjdChuZXcgX19QUklWQVRFX0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSwgbikpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICBzdGF0aWMgb3BlbihlLCB0LCBuLCByKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9TaW1wbGVEYlRyYW5zYWN0aW9uKHQsIGUudHJhbnNhY3Rpb24ociwgbikpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgX19QUklWQVRFX0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IodCwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlYucHJvbWlzZTtcbiAgICB9XG4gICAgYWJvcnQoZSkge1xuICAgICAgICBlICYmIHRoaXMuVi5yZWplY3QoZSksIHRoaXMuYWJvcnRlZCB8fCAoX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJBYm9ydGluZyB0cmFuc2FjdGlvbjpcIiwgZSA/IGUubWVzc2FnZSA6IFwiQ2xpZW50LWluaXRpYXRlZCBhYm9ydFwiKSwgXG4gICAgICAgIHRoaXMuYWJvcnRlZCA9ICEwLCB0aGlzLnRyYW5zYWN0aW9uLmFib3J0KCkpO1xuICAgIH1cbiAgICBnKCkge1xuICAgICAgICAvLyBJZiB0aGUgYnJvd3NlciBzdXBwb3J0cyBWMyBJbmRleGVkREIsIHdlIGludm9rZSBjb21taXQoKSBleHBsaWNpdGx5IHRvXG4gICAgICAgIC8vIHNwZWVkIHVwIGluZGV4IERCIHByb2Nlc3NpbmcgaWYgdGhlIGV2ZW50IGxvb3AgcmVtYWlucyBibG9ja3MuXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLnRyYW5zYWN0aW9uO1xuICAgICAgICB0aGlzLmFib3J0ZWQgfHwgXCJmdW5jdGlvblwiICE9IHR5cGVvZiBlLmNvbW1pdCB8fCBlLmNvbW1pdCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgU2ltcGxlRGJTdG9yZTxLZXlUeXBlLCBWYWx1ZVR5cGU+IGZvciB0aGUgc3BlY2lmaWVkIHN0b3JlLiBBbGxcbiAgICAgKiBvcGVyYXRpb25zIHBlcmZvcm1lZCBvbiB0aGUgU2ltcGxlRGJTdG9yZSBoYXBwZW4gd2l0aGluIHRoZSBjb250ZXh0IG9mIHRoaXNcbiAgICAgKiB0cmFuc2FjdGlvbiBhbmQgaXQgY2Fubm90IGJlIHVzZWQgYW55bW9yZSBvbmNlIHRoZSB0cmFuc2FjdGlvbiBpc1xuICAgICAqIGNvbXBsZXRlZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB3ZSBjYW4ndCBhY3R1YWxseSBlbmZvcmNlIHRoYXQgdGhlIEtleVR5cGUgYW5kIFZhbHVlVHlwZSBhcmVcbiAgICAgKiBjb3JyZWN0LCBidXQgdGhleSBhbGxvdyB0eXBlIHNhZmV0eSB0aHJvdWdoIHRoZSByZXN0IG9mIHRoZSBjb25zdW1pbmcgY29kZS5cbiAgICAgKi8gICAgc3RvcmUoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy50cmFuc2FjdGlvbi5vYmplY3RTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfU2ltcGxlRGJTdG9yZSh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogUHJvdmlkZXMgYSB3cmFwcGVyIGFyb3VuZCBJbmRleGVkRGIgd2l0aCBhIHNpbXBsaWZpZWQgaW50ZXJmYWNlIHRoYXQgdXNlc1xuICogUHJvbWlzZS1saWtlIHJldHVybiB2YWx1ZXMgdG8gY2hhaW4gb3BlcmF0aW9ucy4gUmVhbCBwcm9taXNlcyBjYW5ub3QgYmUgdXNlZFxuICogc2luY2UgLnRoZW4oKSBjb250aW51YXRpb25zIGFyZSBleGVjdXRlZCBhc3luY2hyb25vdXNseSAoZS5nLiB2aWFcbiAqIC5zZXRJbW1lZGlhdGUpLCB3aGljaCB3b3VsZCBjYXVzZSBJbmRleGVkREIgdG8gZW5kIHRoZSB0cmFuc2FjdGlvbi5cbiAqIFNlZSBQZXJzaXN0ZW5jZVByb21pc2UgZm9yIG1vcmUgZGV0YWlscy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfU2ltcGxlRGIge1xuICAgIC8qXG4gICAgICogQ3JlYXRlcyBhIG5ldyBTaW1wbGVEYiB3cmFwcGVyIGZvciBJbmRleGVkRGIgZGF0YWJhc2UgYG5hbWVgLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IGB2ZXJzaW9uYCBtdXN0IG5vdCBiZSBhIGRvd25ncmFkZS4gSW5kZXhlZERCIGRvZXMgbm90IHN1cHBvcnRcbiAgICAgKiBkb3duZ3JhZGluZyB0aGUgc2NoZW1hIHZlcnNpb24uIFdlIGN1cnJlbnRseSBkbyBub3Qgc3VwcG9ydCBhbnkgd2F5IHRvIGRvXG4gICAgICogdmVyc2lvbmluZyBvdXRzaWRlIG9mIEluZGV4ZWREQidzIHZlcnNpb25pbmcgbWVjaGFuaXNtLCBhcyBvbmx5XG4gICAgICogdmVyc2lvbi11cGdyYWRlIHRyYW5zYWN0aW9ucyBhcmUgYWxsb3dlZCB0byBkbyB0aGluZ3MgbGlrZSBjcmVhdGVcbiAgICAgKiBvYmplY3RzdG9yZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLm5hbWUgPSBlLCB0aGlzLnZlcnNpb24gPSB0LCB0aGlzLnAgPSBuO1xuICAgICAgICAvLyBOT1RFOiBBY2NvcmRpbmcgdG8gaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE5NzA1MCwgdGhlXG4gICAgICAgIC8vIGJ1ZyB3ZSdyZSBjaGVja2luZyBmb3Igc2hvdWxkIGV4aXN0IGluIGlPUyA+PSAxMi4yIGFuZCA8IDEzLCBidXQgZm9yXG4gICAgICAgIC8vIHdoYXRldmVyIHJlYXNvbiBpdCdzIG11Y2ggaGFyZGVyIHRvIGhpdCBhZnRlciAxMi4yIHNvIHdlIG9ubHkgcHJvYWN0aXZlbHlcbiAgICAgICAgLy8gbG9nIG9uIDEyLjIuXG4gICAgICAgIDEyLjIgPT09IF9fUFJJVkFURV9TaW1wbGVEYi5TKHV0aWwuZ2V0VUEoKSkgJiYgX19QUklWQVRFX2xvZ0Vycm9yKFwiRmlyZXN0b3JlIHBlcnNpc3RlbmNlIHN1ZmZlcnMgZnJvbSBhIGJ1ZyBpbiBpT1MgMTIuMiBTYWZhcmkgdGhhdCBtYXkgY2F1c2UgeW91ciBhcHAgdG8gc3RvcCB3b3JraW5nLiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzU2NDk2Mjk2LzExMDkxNSBmb3IgZGV0YWlscyBhbmQgYSBwb3RlbnRpYWwgd29ya2Fyb3VuZC5cIik7XG4gICAgfVxuICAgIC8qKiBEZWxldGVzIHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UuICovICAgIHN0YXRpYyBkZWxldGUoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJSZW1vdmluZyBkYXRhYmFzZTpcIiwgZSksIF9fUFJJVkFURV93cmFwUmVxdWVzdCh3aW5kb3cuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGUpKS50b1Byb21pc2UoKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdHJ1ZSBpZiBJbmRleGVkREIgaXMgYXZhaWxhYmxlIGluIHRoZSBjdXJyZW50IGVudmlyb25tZW50LiAqLyAgICBzdGF0aWMgRCgpIHtcbiAgICAgICAgaWYgKCF1dGlsLmlzSW5kZXhlZERCQXZhaWxhYmxlKCkpIHJldHVybiAhMTtcbiAgICAgICAgaWYgKF9fUFJJVkFURV9TaW1wbGVEYi5DKCkpIHJldHVybiAhMDtcbiAgICAgICAgLy8gV2UgZXh0ZW5zaXZlbHkgdXNlIGluZGV4ZWQgYXJyYXkgdmFsdWVzIGFuZCBjb21wb3VuZCBrZXlzLFxuICAgICAgICAvLyB3aGljaCBJRSBhbmQgRWRnZSBkbyBub3Qgc3VwcG9ydC4gSG93ZXZlciwgdGhleSBzdGlsbCBoYXZlIGluZGV4ZWREQlxuICAgICAgICAvLyBkZWZpbmVkIG9uIHRoZSB3aW5kb3csIHNvIHdlIG5lZWQgdG8gY2hlY2sgZm9yIHRoZW0gaGVyZSBhbmQgbWFrZSBzdXJlXG4gICAgICAgIC8vIHRvIHJldHVybiB0aGF0IHBlcnNpc3RlbmNlIGlzIG5vdCBlbmFibGVkIGZvciB0aG9zZSBicm93c2Vycy5cbiAgICAgICAgLy8gRm9yIHRyYWNraW5nIHN1cHBvcnQgb2YgdGhpcyBmZWF0dXJlLCBzZWUgaGVyZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubWljcm9zb2Z0LmNvbS9lbi11cy9taWNyb3NvZnQtZWRnZS9wbGF0Zm9ybS9zdGF0dXMvaW5kZXhlZGRiYXJyYXlzYW5kbXVsdGllbnRyeXN1cHBvcnQvXG4gICAgICAgIC8vIENoZWNrIHRoZSBVQSBzdHJpbmcgdG8gZmluZCBvdXQgdGhlIGJyb3dzZXIuXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHV0aWwuZ2V0VUEoKSwgdCA9IF9fUFJJVkFURV9TaW1wbGVEYi5TKGUpLCBuID0gMCA8IHQgJiYgdCA8IDEwLCByID0gX19QUklWQVRFX2dldEFuZHJvaWRWZXJzaW9uKGUpLCBpID0gMCA8IHIgJiYgciA8IDQuNTtcbiAgICAgICAgLy8gSUUgMTBcbiAgICAgICAgLy8gdWEgPSAnTW96aWxsYS81LjAgKGNvbXBhdGlibGU7IE1TSUUgMTAuMDsgV2luZG93cyBOVCA2LjI7IFRyaWRlbnQvNi4wKSc7XG4gICAgICAgIC8vIElFIDExXG4gICAgICAgIC8vIHVhID0gJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDYuMzsgVHJpZGVudC83LjA7IHJ2OjExLjApIGxpa2UgR2Vja28nO1xuICAgICAgICAvLyBFZGdlXG4gICAgICAgIC8vIHVhID0gJ01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdPVzY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLFxuICAgICAgICAvLyBsaWtlIEdlY2tvKSBDaHJvbWUvMzkuMC4yMTcxLjcxIFNhZmFyaS81MzcuMzYgRWRnZS8xMi4wJztcbiAgICAgICAgLy8gaU9TIFNhZmFyaTogRGlzYWJsZSBmb3IgdXNlcnMgcnVubmluZyBpT1MgdmVyc2lvbiA8IDEwLlxuICAgICAgICAgICAgICAgIHJldHVybiAhKGUuaW5kZXhPZihcIk1TSUUgXCIpID4gMCB8fCBlLmluZGV4T2YoXCJUcmlkZW50L1wiKSA+IDAgfHwgZS5pbmRleE9mKFwiRWRnZS9cIikgPiAwIHx8IG4gfHwgaSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgYmFja2luZyBJbmRleGVkREIgc3RvcmUgaXMgdGhlIE5vZGUgSW5kZXhlZERCU2hpbVxuICAgICAqIChzZWUgaHR0cHM6Ly9naXRodWIuY29tL2F4ZW1jbGlvbi9JbmRleGVkREJTaGltKS5cbiAgICAgKi8gICAgc3RhdGljIEMoKSB7XG4gICAgICAgIHZhciBlO1xuICAgICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgcHJvY2VzcyAmJiBcIllFU1wiID09PSAobnVsbCA9PT0gKGUgPSBwcm9jZXNzLl9fUFJJVkFURV9lbnYpIHx8IHZvaWQgMCA9PT0gZSA/IHZvaWQgMCA6IGUudik7XG4gICAgfVxuICAgIC8qKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmcm9tIGEgdHJhbnNhY3Rpb24uICovICAgIHN0YXRpYyBGKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUuc3RvcmUodCk7XG4gICAgfVxuICAgIC8vIHZpc2libGUgZm9yIHRlc3RpbmdcbiAgICAvKiogUGFyc2UgVXNlciBBZ2VudCB0byBkZXRlcm1pbmUgaU9TIHZlcnNpb24uIFJldHVybnMgLTEgaWYgbm90IGZvdW5kLiAqL1xuICAgIHN0YXRpYyBTKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUubWF0Y2goL2koPzpwaG9uZXxwYWR8cG9kKSBvcyAoW1xcZF9dKykvaSksIG4gPSB0ID8gdFsxXS5zcGxpdChcIl9cIikuc2xpY2UoMCwgMikuam9pbihcIi5cIikgOiBcIi0xXCI7XG4gICAgICAgIHJldHVybiBOdW1iZXIobik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9wZW5zIHRoZSBzcGVjaWZpZWQgZGF0YWJhc2UsIGNyZWF0aW5nIG9yIHVwZ3JhZGluZyBpdCBpZiBuZWNlc3NhcnkuXG4gICAgICovICAgIGFzeW5jIE0oZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYiB8fCAoX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJPcGVuaW5nIGRhdGFiYXNlOlwiLCB0aGlzLm5hbWUpLCBcbiAgICAgICAgdGhpcy5kYiA9IGF3YWl0IG5ldyBQcm9taXNlKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgLy8gVE9ETyhtaWtlbGVoZW4pOiBJbnZlc3RpZ2F0ZSBicm93c2VyIGNvbXBhdGliaWxpdHkuXG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSW5kZXhlZERCX0FQSS9Vc2luZ19JbmRleGVkREJcbiAgICAgICAgICAgIC8vIHN1Z2dlc3RzIElFOSBhbmQgb2xkZXIgV2ViS2l0IGJyb3dzZXJzIGhhbmRsZSB1cGdyYWRlXG4gICAgICAgICAgICAvLyBkaWZmZXJlbnRseS4gVGhleSBleHBlY3Qgc2V0VmVyc2lvbiwgYXMgZGVzY3JpYmVkIGhlcmU6XG4gICAgICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSURCVmVyc2lvbkNoYW5nZVJlcXVlc3Qvc2V0VmVyc2lvblxuICAgICAgICAgICAgY29uc3QgciA9IGluZGV4ZWREQi5vcGVuKHRoaXMubmFtZSwgdGhpcy52ZXJzaW9uKTtcbiAgICAgICAgICAgIHIub25zdWNjZXNzID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB0KG4pO1xuICAgICAgICAgICAgfSwgci5vbmJsb2NrZWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgbihuZXcgX19QUklWQVRFX0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSwgXCJDYW5ub3QgdXBncmFkZSBJbmRleGVkREIgc2NoZW1hIHdoaWxlIGFub3RoZXIgdGFiIGlzIG9wZW4uIENsb3NlIGFsbCB0YWJzIHRoYXQgYWNjZXNzIEZpcmVzdG9yZSBhbmQgcmVsb2FkIHRoaXMgcGFnZSB0byBwcm9jZWVkLlwiKSk7XG4gICAgICAgICAgICB9LCByLm9uZXJyb3IgPSB0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdC50YXJnZXQuZXJyb3I7XG4gICAgICAgICAgICAgICAgXCJWZXJzaW9uRXJyb3JcIiA9PT0gci5uYW1lID8gbihuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkEgbmV3ZXIgdmVyc2lvbiBvZiB0aGUgRmlyZXN0b3JlIFNESyB3YXMgcHJldmlvdXNseSB1c2VkIGFuZCBzbyB0aGUgcGVyc2lzdGVkIGRhdGEgaXMgbm90IGNvbXBhdGlibGUgd2l0aCB0aGUgdmVyc2lvbiBvZiB0aGUgU0RLIHlvdSBhcmUgbm93IHVzaW5nLiBUaGUgU0RLIHdpbGwgb3BlcmF0ZSB3aXRoIHBlcnNpc3RlbmNlIGRpc2FibGVkLiBJZiB5b3UgbmVlZCBwZXJzaXN0ZW5jZSwgcGxlYXNlIHJlLXVwZ3JhZGUgdG8gYSBuZXdlciB2ZXJzaW9uIG9mIHRoZSBTREsgb3IgZWxzZSBjbGVhciB0aGUgcGVyc2lzdGVkIEluZGV4ZWREQiBkYXRhIGZvciB5b3VyIGFwcCB0byBzdGFydCBmcmVzaC5cIikpIDogXCJJbnZhbGlkU3RhdGVFcnJvclwiID09PSByLm5hbWUgPyBuKG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiVW5hYmxlIHRvIG9wZW4gYW4gSW5kZXhlZERCIGNvbm5lY3Rpb24uIFRoaXMgY291bGQgYmUgZHVlIHRvIHJ1bm5pbmcgaW4gYSBwcml2YXRlIGJyb3dzaW5nIHNlc3Npb24gb24gYSBicm93c2VyIHdob3NlIHByaXZhdGUgYnJvd3Npbmcgc2Vzc2lvbnMgZG8gbm90IHN1cHBvcnQgSW5kZXhlZERCOiBcIiArIHIpKSA6IG4obmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUsIHIpKTtcbiAgICAgICAgICAgIH0sIHIub251cGdyYWRlbmVlZGVkID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgJ0RhdGFiYXNlIFwiJyArIHRoaXMubmFtZSArICdcIiByZXF1aXJlcyB1cGdyYWRlIGZyb20gdmVyc2lvbjonLCBlLm9sZFZlcnNpb24pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgdGhpcy5wLk8odCwgci50cmFuc2FjdGlvbiwgZS5vbGRWZXJzaW9uLCB0aGlzLnZlcnNpb24pLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJEYXRhYmFzZSB1cGdyYWRlIHRvIHZlcnNpb24gXCIgKyB0aGlzLnZlcnNpb24gKyBcIiBjb21wbGV0ZVwiKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSkpLCB0aGlzLk4gJiYgKHRoaXMuZGIub252ZXJzaW9uY2hhbmdlID0gZSA9PiB0aGlzLk4oZSkpLCB0aGlzLmRiO1xuICAgIH1cbiAgICBMKGUpIHtcbiAgICAgICAgdGhpcy5OID0gZSwgdGhpcy5kYiAmJiAodGhpcy5kYi5vbnZlcnNpb25jaGFuZ2UgPSB0ID0+IGUodCkpO1xuICAgIH1cbiAgICBhc3luYyBydW5UcmFuc2FjdGlvbihlLCB0LCBuLCByKSB7XG4gICAgICAgIGNvbnN0IGkgPSBcInJlYWRvbmx5XCIgPT09IHQ7XG4gICAgICAgIGxldCBzID0gMDtcbiAgICAgICAgZm9yICg7Oykge1xuICAgICAgICAgICAgKytzO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRiID0gYXdhaXQgdGhpcy5NKGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfU2ltcGxlRGJUcmFuc2FjdGlvbi5vcGVuKHRoaXMuZGIsIGUsIGkgPyBcInJlYWRvbmx5XCIgOiBcInJlYWR3cml0ZVwiLCBuKSwgcyA9IHIodCkubmV4dCgoZSA9PiAodC5nKCksIFxuICAgICAgICAgICAgICAgIGUpKSkuY2F0Y2goKGUgPT4gKFxuICAgICAgICAgICAgICAgIC8vIEFib3J0IHRoZSB0cmFuc2FjdGlvbiBpZiB0aGVyZSB3YXMgYW4gZXJyb3IuXG4gICAgICAgICAgICAgICAgdC5hYm9ydChlKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlamVjdChlKSkpKS50b1Byb21pc2UoKTtcbiAgICAgICAgICAgICAgICAvLyBBcyBub3RlZCBhYm92ZSwgZXJyb3JzIGFyZSBwcm9wYWdhdGVkIGJ5IGFib3J0aW5nIHRoZSB0cmFuc2FjdGlvbi4gU29cbiAgICAgICAgICAgICAgICAvLyB3ZSBzd2FsbG93IGFueSBlcnJvciBoZXJlIHRvIGF2b2lkIHRoZSBicm93c2VyIGxvZ2dpbmcgaXQgYXMgdW5oYW5kbGVkLlxuICAgICAgICAgICAgICAgIHJldHVybiBzLmNhdGNoKCgoKSA9PiB7fSkpLCBcbiAgICAgICAgICAgICAgICAvLyBXYWl0IGZvciB0aGUgdHJhbnNhY3Rpb24gdG8gY29tcGxldGUgKGkuZS4gSW5kZXhlZERiJ3Mgb25zdWNjZXNzIGV2ZW50IHRvXG4gICAgICAgICAgICAgICAgLy8gZmlyZSksIGJ1dCBzdGlsbCByZXR1cm4gdGhlIG9yaWdpbmFsIHRyYW5zYWN0aW9uRm5SZXN1bHQgYmFjayB0byB0aGVcbiAgICAgICAgICAgICAgICAvLyBjYWxsZXIuXG4gICAgICAgICAgICAgICAgYXdhaXQgdC5tLCBzO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLCBuID0gXCJGaXJlYmFzZUVycm9yXCIgIT09IHQubmFtZSAmJiBzIDwgMztcbiAgICAgICAgICAgICAgICAvLyBUT0RPKHNjaG1pZHQtc2ViYXN0aWFuKTogV2UgY291bGQgcHJvYmFibHkgYmUgc21hcnRlciBhYm91dCB0aGlzIGFuZFxuICAgICAgICAgICAgICAgIC8vIG5vdCByZXRyeSBleGNlcHRpb25zIHRoYXQgYXJlIGxpa2VseSB1bnJlY292ZXJhYmxlIChzdWNoIGFzIHF1b3RhXG4gICAgICAgICAgICAgICAgLy8gZXhjZWVkZWQgZXJyb3JzKS5cbiAgICAgICAgICAgICAgICAvLyBOb3RlOiBXZSBjYW5ub3QgdXNlIGFuIGluc3RhbmNlb2YgY2hlY2sgZm9yIEZpcmVzdG9yZUV4Y2VwdGlvbiwgc2luY2UgdGhlXG4gICAgICAgICAgICAgICAgLy8gZXhjZXB0aW9uIGlzIHdyYXBwZWQgaW4gYSBnZW5lcmljIGVycm9yIGJ5IG91ciBhc3luYy9hd2FpdCBoYW5kbGluZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiVHJhbnNhY3Rpb24gZmFpbGVkIHdpdGggZXJyb3I6XCIsIHQubWVzc2FnZSwgXCJSZXRyeWluZzpcIiwgbiksIFxuICAgICAgICAgICAgICAgIHRoaXMuY2xvc2UoKSwgIW4pIHJldHVybiBQcm9taXNlLnJlamVjdCh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5kYiAmJiB0aGlzLmRiLmNsb3NlKCksIHRoaXMuZGIgPSB2b2lkIDA7XG4gICAgfVxufVxuXG4vKiogUGFyc2UgVXNlciBBZ2VudCB0byBkZXRlcm1pbmUgQW5kcm9pZCB2ZXJzaW9uLiBSZXR1cm5zIC0xIGlmIG5vdCBmb3VuZC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2dldEFuZHJvaWRWZXJzaW9uKGUpIHtcbiAgICBjb25zdCB0ID0gZS5tYXRjaCgvQW5kcm9pZCAoW1xcZC5dKykvaSksIG4gPSB0ID8gdFsxXS5zcGxpdChcIi5cIikuc2xpY2UoMCwgMikuam9pbihcIi5cIikgOiBcIi0xXCI7XG4gICAgcmV0dXJuIE51bWJlcihuKTtcbn1cblxuLyoqXG4gKiBBIGNvbnRyb2xsZXIgZm9yIGl0ZXJhdGluZyBvdmVyIGEga2V5IHJhbmdlIG9yIGluZGV4LiBJdCBhbGxvd3MgYW4gaXRlcmF0ZVxuICogY2FsbGJhY2sgdG8gZGVsZXRlIHRoZSBjdXJyZW50bHktcmVmZXJlbmNlZCBvYmplY3QsIG9yIGp1bXAgdG8gYSBuZXcga2V5XG4gKiB3aXRoaW4gdGhlIGtleSByYW5nZSBvciBpbmRleC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSXRlcmF0aW9uQ29udHJvbGxlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLkIgPSBlLCB0aGlzLmsgPSAhMSwgdGhpcy5xID0gbnVsbDtcbiAgICB9XG4gICAgZ2V0IGlzRG9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaztcbiAgICB9XG4gICAgZ2V0IEsoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnE7XG4gICAgfVxuICAgIHNldCBjdXJzb3IoZSkge1xuICAgICAgICB0aGlzLkIgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGNhbiBiZSBjYWxsZWQgdG8gc3RvcCBpdGVyYXRpb24gYXQgYW55IHBvaW50LlxuICAgICAqLyAgICBkb25lKCkge1xuICAgICAgICB0aGlzLmsgPSAhMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYmUgY2FsbGVkIHRvIHNraXAgdG8gdGhhdCBuZXh0IGtleSwgd2hpY2ggY291bGQgYmVcbiAgICAgKiBhbiBpbmRleCBvciBhIHByaW1hcnkga2V5LlxuICAgICAqLyAgICAkKGUpIHtcbiAgICAgICAgdGhpcy5xID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIHRoZSBjdXJyZW50IGN1cnNvciB2YWx1ZSBmcm9tIHRoZSBvYmplY3Qgc3RvcmUuXG4gICAgICpcbiAgICAgKiBOT1RFOiBZb3UgQ0FOTk9UIGRvIHRoaXMgd2l0aCBhIGtleXNPbmx5IHF1ZXJ5LlxuICAgICAqLyAgICBkZWxldGUoKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JhcFJlcXVlc3QodGhpcy5CLmRlbGV0ZSgpKTtcbiAgICB9XG59XG5cbi8qKiBBbiBlcnJvciB0aGF0IHdyYXBzIGV4Y2VwdGlvbnMgdGhhdCB0aHJvd24gZHVyaW5nIEluZGV4ZWREQiBleGVjdXRpb24uICovIGNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yIGV4dGVuZHMgRmlyZXN0b3JlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoQy5VTkFWQUlMQUJMRSwgYEluZGV4ZWREQiB0cmFuc2FjdGlvbiAnJHtlfScgZmFpbGVkOiAke3R9YCksIHRoaXMubmFtZSA9IFwiSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvclwiO1xuICAgIH1cbn1cblxuLyoqIFZlcmlmaWVzIHdoZXRoZXIgYGVgIGlzIGFuIEluZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pc0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSkge1xuICAgIC8vIFVzZSBuYW1lIGVxdWFsaXR5LCBhcyBpbnN0YW5jZW9mIGNoZWNrcyBvbiBlcnJvcnMgZG9uJ3Qgd29yayB3aXRoIGVycm9yc1xuICAgIC8vIHRoYXQgd3JhcCBvdGhlciBlcnJvcnMuXG4gICAgcmV0dXJuIFwiSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvclwiID09PSBlLm5hbWU7XG59XG5cbi8qKlxuICogQSB3cmFwcGVyIGFyb3VuZCBhbiBJREJPYmplY3RTdG9yZSBwcm92aWRpbmcgYW4gQVBJIHRoYXQ6XG4gKlxuICogMSkgSGFzIGdlbmVyaWMgS2V5VHlwZSAvIFZhbHVlVHlwZSBwYXJhbWV0ZXJzIHRvIHByb3ZpZGUgc3Ryb25nbHktdHlwZWRcbiAqIG1ldGhvZHMgZm9yIGFjdGluZyBhZ2FpbnN0IHRoZSBvYmplY3Qgc3RvcmUuXG4gKiAyKSBEZWFscyB3aXRoIEluZGV4ZWREQidzIG9uc3VjY2VzcyAvIG9uZXJyb3IgZXZlbnQgY2FsbGJhY2tzLCBtYWtpbmcgZXZlcnlcbiAqIG1ldGhvZCByZXR1cm4gYSBQZXJzaXN0ZW5jZVByb21pc2UgaW5zdGVhZC5cbiAqIDMpIFByb3ZpZGVzIGEgaGlnaGVyLWxldmVsIEFQSSB0byBhdm9pZCBuZWVkaW5nIHRvIGRvIGV4Y2Vzc2l2ZSB3cmFwcGluZyBvZlxuICogaW50ZXJtZWRpYXRlIEluZGV4ZWREQiB0eXBlcyAoSURCQ3Vyc29yV2l0aFZhbHVlLCBldGMuKVxuICovIGNsYXNzIF9fUFJJVkFURV9TaW1wbGVEYlN0b3JlIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuc3RvcmUgPSBlO1xuICAgIH1cbiAgICBwdXQoZSwgdCkge1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gdCA/IChfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIlBVVFwiLCB0aGlzLnN0b3JlLm5hbWUsIGUsIHQpLCBcbiAgICAgICAgbiA9IHRoaXMuc3RvcmUucHV0KHQsIGUpKSA6IChfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIlBVVFwiLCB0aGlzLnN0b3JlLm5hbWUsIFwiPGF1dG8ta2V5PlwiLCBlKSwgXG4gICAgICAgIG4gPSB0aGlzLnN0b3JlLnB1dChlKSksIF9fUFJJVkFURV93cmFwUmVxdWVzdChuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG5ldyB2YWx1ZSBpbnRvIGFuIE9iamVjdCBTdG9yZSBhbmQgcmV0dXJucyB0aGUgbmV3IGtleS4gU2ltaWxhciB0b1xuICAgICAqIEluZGV4ZWREYidzIGBhZGQoKWAsIHRoaXMgbWV0aG9kIHdpbGwgZmFpbCBvbiBwcmltYXJ5IGtleSBjb2xsaXNpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIHZhbHVlIC0gVGhlIG9iamVjdCB0byB3cml0ZS5cbiAgICAgKiBAcmV0dXJucyBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBhZGQuXG4gICAgICovICAgIGFkZChlKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiQUREXCIsIHRoaXMuc3RvcmUubmFtZSwgZSwgZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JhcFJlcXVlc3QodGhpcy5zdG9yZS5hZGQoZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBvYmplY3Qgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSBmcm9tIHRoZSBzcGVjaWZpZWQgc3RvcmUsIG9yIG51bGxcbiAgICAgKiBpZiBubyBvYmplY3QgZXhpc3RzIHdpdGggdGhlIHNwZWNpZmllZCBrZXkuXG4gICAgICpcbiAgICAgKiBAa2V5IFRoZSBrZXkgb2YgdGhlIG9iamVjdCB0byBnZXQuXG4gICAgICogQHJldHVybnMgVGhlIG9iamVjdCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IG9yIG51bGwgaWYgbm8gb2JqZWN0IGV4aXN0cy5cbiAgICAgKi8gICAgZ2V0KGUpIHtcbiAgICAgICAgLy8gV2UncmUgZG9pbmcgYW4gdW5zYWZlIGNhc3QgdG8gVmFsdWVUeXBlLlxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyYXBSZXF1ZXN0KHRoaXMuc3RvcmUuZ2V0KGUpKS5uZXh0KCh0ID0+IChcbiAgICAgICAgLy8gTm9ybWFsaXplIG5vbmV4aXN0ZW5jZSB0byBudWxsLlxuICAgICAgICB2b2lkIDAgPT09IHQgJiYgKHQgPSBudWxsKSwgX19QUklWQVRFX2xvZ0RlYnVnKFwiU2ltcGxlRGJcIiwgXCJHRVRcIiwgdGhpcy5zdG9yZS5uYW1lLCBlLCB0KSwgXG4gICAgICAgIHQpKSk7XG4gICAgfVxuICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiREVMRVRFXCIsIHRoaXMuc3RvcmUubmFtZSwgZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JhcFJlcXVlc3QodGhpcy5zdG9yZS5kZWxldGUoZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB3ZSBldmVyIG5lZWQgbW9yZSBvZiB0aGUgY291bnQgdmFyaWFudHMsIHdlIGNhbiBhZGQgb3ZlcmxvYWRzLiBGb3Igbm93LFxuICAgICAqIGFsbCB3ZSBuZWVkIGlzIHRvIGNvdW50IGV2ZXJ5dGhpbmcgaW4gYSBzdG9yZS5cbiAgICAgKlxuICAgICAqIFJldHVybnMgdGhlIG51bWJlciBvZiByb3dzIGluIHRoZSBzdG9yZS5cbiAgICAgKi8gICAgY291bnQoKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNpbXBsZURiXCIsIFwiQ09VTlRcIiwgdGhpcy5zdG9yZS5uYW1lKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV93cmFwUmVxdWVzdCh0aGlzLnN0b3JlLmNvdW50KCkpO1xuICAgIH1cbiAgICBVKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMub3B0aW9ucyhlLCB0KSwgciA9IG4uaW5kZXggPyB0aGlzLnN0b3JlLmluZGV4KG4uaW5kZXgpIDogdGhpcy5zdG9yZTtcbiAgICAgICAgLy8gVXNlIGBnZXRBbGwoKWAgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgSW5kZXhlZERCIHYzLCBhcyBpdCBpcyByb3VnaGx5XG4gICAgICAgIC8vIDIwJSBmYXN0ZXIuXG4gICAgICAgICAgICAgICAgaWYgKFwiZnVuY3Rpb25cIiA9PSB0eXBlb2Ygci5nZXRBbGwpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSByLmdldEFsbChuLnJhbmdlKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGUub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBuKGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgICAgICB9LCBlLm9uc3VjY2VzcyA9IGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0KGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5jdXJzb3IobiksIHQgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLlcoZSwgKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgdC5wdXNoKG4pO1xuICAgICAgICAgICAgfSkpLm5leHQoKCgpID0+IHQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb2FkcyB0aGUgZmlyc3QgYGNvdW50YCBlbGVtZW50cyBmcm9tIHRoZSBwcm92aWRlZCBpbmRleCByYW5nZS4gTG9hZHMgYWxsXG4gICAgICogZWxlbWVudHMgaWYgbm8gbGltaXQgaXMgcHJvdmlkZWQuXG4gICAgICovICAgIEcoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5zdG9yZS5nZXRBbGwoZSwgbnVsbCA9PT0gdCA/IHZvaWQgMCA6IHQpO1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIG4ub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIHQoZS50YXJnZXQuZXJyb3IpO1xuICAgICAgICAgICAgfSwgbi5vbnN1Y2Nlc3MgPSB0ID0+IHtcbiAgICAgICAgICAgICAgICBlKHQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGooZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaW1wbGVEYlwiLCBcIkRFTEVURSBBTExcIiwgdGhpcy5zdG9yZS5uYW1lKTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMub3B0aW9ucyhlLCB0KTtcbiAgICAgICAgbi5IID0gITE7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmN1cnNvcihuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuVyhyLCAoKGUsIHQsIG4pID0+IG4uZGVsZXRlKCkpKTtcbiAgICB9XG4gICAgSihlLCB0KSB7XG4gICAgICAgIGxldCBuO1xuICAgICAgICB0ID8gbiA9IGUgOiAobiA9IHt9LCB0ID0gZSk7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmN1cnNvcihuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuVyhyLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBhIHN0b3JlLCBidXQgd2FpdHMgZm9yIHRoZSBnaXZlbiBjYWxsYmFjayB0byBjb21wbGV0ZSBmb3JcbiAgICAgKiBlYWNoIGVudHJ5IGJlZm9yZSBpdGVyYXRpbmcgdGhlIG5leHQgZW50cnkuIFRoaXMgYWxsb3dzIHRoZSBjYWxsYmFjayB0byBkb1xuICAgICAqIGFzeW5jaHJvbm91cyB3b3JrIHRvIGRldGVybWluZSBpZiB0aGlzIGl0ZXJhdGlvbiBzaG91bGQgY29udGludWUuXG4gICAgICpcbiAgICAgKiBUaGUgcHJvdmlkZWQgY2FsbGJhY2sgc2hvdWxkIHJldHVybiBgdHJ1ZWAgdG8gY29udGludWUgaXRlcmF0aW9uLCBhbmRcbiAgICAgKiBgZmFsc2VgIG90aGVyd2lzZS5cbiAgICAgKi8gICAgWShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmN1cnNvcih7fSk7XG4gICAgICAgIHJldHVybiBuZXcgUGVyc2lzdGVuY2VQcm9taXNlKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgdC5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yKGUudGFyZ2V0LmVycm9yKTtcbiAgICAgICAgICAgICAgICByKHQpO1xuICAgICAgICAgICAgfSwgdC5vbnN1Y2Nlc3MgPSB0ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gdC50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgIHIgPyBlKHIucHJpbWFyeUtleSwgci52YWx1ZSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUgPyByLmNvbnRpbnVlKCkgOiBuKCk7XG4gICAgICAgICAgICAgICAgfSkpIDogbigpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBXKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IFtdO1xuICAgICAgICByZXR1cm4gbmV3IFBlcnNpc3RlbmNlUHJvbWlzZSgoKHIsIGkpID0+IHtcbiAgICAgICAgICAgIGUub25lcnJvciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIGkoZS50YXJnZXQuZXJyb3IpO1xuICAgICAgICAgICAgfSwgZS5vbnN1Y2Nlc3MgPSBlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgICAgIGlmICghaSkgcmV0dXJuIHZvaWQgcigpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuZXcgX19QUklWQVRFX0l0ZXJhdGlvbkNvbnRyb2xsZXIoaSksIG8gPSB0KGkucHJpbWFyeUtleSwgaS52YWx1ZSwgcyk7XG4gICAgICAgICAgICAgICAgaWYgKG8gaW5zdGFuY2VvZiBQZXJzaXN0ZW5jZVByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IG8uY2F0Y2goKGUgPT4gKHMuZG9uZSgpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVqZWN0KGUpKSkpO1xuICAgICAgICAgICAgICAgICAgICBuLnB1c2goZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHMuaXNEb25lID8gcigpIDogbnVsbCA9PT0gcy5LID8gaS5jb250aW51ZSgpIDogaS5jb250aW51ZShzLkspO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKG4pKSk7XG4gICAgfVxuICAgIG9wdGlvbnMoZSwgdCkge1xuICAgICAgICBsZXQgbjtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gZSAmJiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSA/IG4gPSBlIDogdCA9IGUpLCB7XG4gICAgICAgICAgICBpbmRleDogbixcbiAgICAgICAgICAgIHJhbmdlOiB0XG4gICAgICAgIH07XG4gICAgfVxuICAgIGN1cnNvcihlKSB7XG4gICAgICAgIGxldCB0ID0gXCJuZXh0XCI7XG4gICAgICAgIGlmIChlLnJldmVyc2UgJiYgKHQgPSBcInByZXZcIiksIGUuaW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnN0b3JlLmluZGV4KGUuaW5kZXgpO1xuICAgICAgICAgICAgcmV0dXJuIGUuSCA/IG4ub3BlbktleUN1cnNvcihlLnJhbmdlLCB0KSA6IG4ub3BlbkN1cnNvcihlLnJhbmdlLCB0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zdG9yZS5vcGVuQ3Vyc29yKGUucmFuZ2UsIHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBXcmFwcyBhbiBJREJSZXF1ZXN0IGluIGEgUGVyc2lzdGVuY2VQcm9taXNlLCB1c2luZyB0aGUgb25zdWNjZXNzIC8gb25lcnJvclxuICogaGFuZGxlcnMgdG8gcmVzb2x2ZSAvIHJlamVjdCB0aGUgUGVyc2lzdGVuY2VQcm9taXNlIGFzIGFwcHJvcHJpYXRlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV93cmFwUmVxdWVzdChlKSB7XG4gICAgcmV0dXJuIG5ldyBQZXJzaXN0ZW5jZVByb21pc2UoKCh0LCBuKSA9PiB7XG4gICAgICAgIGUub25zdWNjZXNzID0gZSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgdChuKTtcbiAgICAgICAgfSwgZS5vbmVycm9yID0gZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2NoZWNrRm9yQW5kUmVwb3J0aU9TRXJyb3IoZS50YXJnZXQuZXJyb3IpO1xuICAgICAgICAgICAgbih0KTtcbiAgICAgICAgfTtcbiAgICB9KSk7XG59XG5cbi8vIEd1YXJkIHNvIHdlIG9ubHkgcmVwb3J0IHRoZSBlcnJvciBvbmNlLlxubGV0IE0gPSAhMTtcblxuZnVuY3Rpb24gX19QUklWQVRFX2NoZWNrRm9yQW5kUmVwb3J0aU9TRXJyb3IoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfU2ltcGxlRGIuUyh1dGlsLmdldFVBKCkpO1xuICAgIGlmICh0ID49IDEyLjIgJiYgdCA8IDEzKSB7XG4gICAgICAgIGNvbnN0IHQgPSBcIkFuIGludGVybmFsIGVycm9yIHdhcyBlbmNvdW50ZXJlZCBpbiB0aGUgSW5kZXhlZCBEYXRhYmFzZSBzZXJ2ZXJcIjtcbiAgICAgICAgaWYgKGUubWVzc2FnZS5pbmRleE9mKHQpID49IDApIHtcbiAgICAgICAgICAgIC8vIFdyYXAgZXJyb3IgaW4gYSBtb3JlIGRlc2NyaXB0aXZlIG9uZS5cbiAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgRmlyZXN0b3JlRXJyb3IoXCJpbnRlcm5hbFwiLCBgSU9TX0lOREVYRUREQl9CVUcxOiBJbmRleGVkRGIgaGFzIHRocm93biAnJHt0fScuIFRoaXMgaXMgbGlrZWx5IGR1ZSB0byBhbiB1bmF2b2lkYWJsZSBidWcgaW4gaU9TLiBTZWUgaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xLzU2NDk2Mjk2LzExMDkxNSBmb3IgZGV0YWlscyBhbmQgYSBwb3RlbnRpYWwgd29ya2Fyb3VuZC5gKTtcbiAgICAgICAgICAgIHJldHVybiBNIHx8IChNID0gITAsIFxuICAgICAgICAgICAgLy8gVGhyb3cgYSBnbG9iYWwgZXhjZXB0aW9uIG91dHNpZGUgb2YgdGhpcyBwcm9taXNlIGNoYWluLCBmb3IgdGhlIHVzZXIgdG9cbiAgICAgICAgICAgIC8vIHBvdGVudGlhbGx5IGNhdGNoLlxuICAgICAgICAgICAgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICB9KSwgMCkpLCBlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlO1xufVxuXG4vKiogVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgdGhlIHNjaGVkdWxpbmcgb2YgSW5kZXggQmFja2ZpbGxlci4gKi9cbmNsYXNzIF9fUFJJVkFURV9JbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5hc3luY1F1ZXVlID0gZSwgdGhpcy5aID0gdCwgdGhpcy50YXNrID0gbnVsbDtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuWCgxNWUzKTtcbiAgICB9XG4gICAgc3RvcCgpIHtcbiAgICAgICAgdGhpcy50YXNrICYmICh0aGlzLnRhc2suY2FuY2VsKCksIHRoaXMudGFzayA9IG51bGwpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHRoaXMudGFzaztcbiAgICB9XG4gICAgWChlKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4QmFja2ZpbGxlclwiLCBgU2NoZWR1bGVkIGluICR7ZX1tc2ApLCB0aGlzLnRhc2sgPSB0aGlzLmFzeW5jUXVldWUuZW5xdWV1ZUFmdGVyRGVsYXkoXCJpbmRleF9iYWNrZmlsbFwiIC8qIFRpbWVySWQuSW5kZXhCYWNrZmlsbCAqLyAsIGUsIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRhc2sgPSBudWxsO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleEJhY2tmaWxsZXJcIiwgYERvY3VtZW50cyB3cml0dGVuOiAke2F3YWl0IHRoaXMuWi5lZSgpfWApO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9pc0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSkgPyBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleEJhY2tmaWxsZXJcIiwgXCJJZ25vcmluZyBJbmRleGVkREIgZXJyb3IgZHVyaW5nIGluZGV4IGJhY2tmaWxsOiBcIiwgZSkgOiBhd2FpdCBfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgdGhpcy5YKDZlNCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKiBJbXBsZW1lbnRzIHRoZSBzdGVwcyBmb3IgYmFja2ZpbGxpbmcgaW5kZXhlcy4gKi8gY2xhc3MgX19QUklWQVRFX0luZGV4QmFja2ZpbGxlciB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogTG9jYWxTdG9yZSBwcm92aWRlcyBhY2Nlc3MgdG8gSW5kZXhNYW5hZ2VyIGFuZCBMb2NhbERvY3VtZW50Vmlldy5cbiAgICAgKiBUaGVzZSBwcm9wZXJ0aWVzIHdpbGwgdXBkYXRlIHdoZW4gdGhlIHVzZXIgY2hhbmdlcy4gQ29uc2VxdWVudGx5LFxuICAgICAqIG1ha2luZyBhIGxvY2FsIGNvcHkgb2YgSW5kZXhNYW5hZ2VyIGFuZCBMb2NhbERvY3VtZW50VmlldyB3aWxsIHJlcXVpcmVcbiAgICAgKiB1cGRhdGVzIG92ZXIgdGltZS4gVGhlIHNpbXBsZXIgc29sdXRpb24gaXMgdG8gcmVseSBvbiBMb2NhbFN0b3JlIHRvIGhhdmVcbiAgICAgKiBhbiB1cC10by1kYXRlIHJlZmVyZW5jZXMgdG8gSW5kZXhNYW5hZ2VyIGFuZCBMb2NhbERvY3VtZW50U3RvcmUuXG4gICAgICovXG4gICAgZSwgdCkge1xuICAgICAgICB0aGlzLmxvY2FsU3RvcmUgPSBlLCB0aGlzLnBlcnNpc3RlbmNlID0gdDtcbiAgICB9XG4gICAgYXN5bmMgZWUoZSA9IDUwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQmFja2ZpbGwgSW5kZXhlc1wiLCBcInJlYWR3cml0ZS1wcmltYXJ5XCIsICh0ID0+IHRoaXMudGUodCwgZSkpKTtcbiAgICB9XG4gICAgLyoqIFdyaXRlcyBpbmRleCBlbnRyaWVzIHVudGlsIHRoZSBjYXAgaXMgcmVhY2hlZC4gUmV0dXJucyB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyBwcm9jZXNzZWQuICovICAgIHRlKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBTZXQ7XG4gICAgICAgIGxldCByID0gdCwgaSA9ICEwO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmRvV2hpbGUoKCgpID0+ICEwID09PSBpICYmIHIgPiAwKSwgKCgpID0+IHRoaXMubG9jYWxTdG9yZS5pbmRleE1hbmFnZXIuZ2V0TmV4dENvbGxlY3Rpb25Hcm91cFRvVXBkYXRlKGUpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IHQgJiYgIW4uaGFzKHQpKSByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhCYWNrZmlsbGVyXCIsIGBQcm9jZXNzaW5nIGNvbGxlY3Rpb246ICR7dH1gKSwgXG4gICAgICAgICAgICB0aGlzLm5lKGUsIHQsIHIpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgIHIgLT0gZSwgbi5hZGQodCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBpID0gITE7XG4gICAgICAgIH0pKSkpLm5leHQoKCgpID0+IHQgLSByKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdyaXRlcyBlbnRyaWVzIGZvciB0aGUgcHJvdmlkZWQgY29sbGVjdGlvbiBncm91cC4gUmV0dXJucyB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyBwcm9jZXNzZWQuXG4gICAgICovICAgIG5lKGUsIHQsIG4pIHtcbiAgICAgICAgLy8gVXNlIHRoZSBlYXJsaWVzdCBvZmZzZXQgb2YgYWxsIGZpZWxkIGluZGV4ZXMgdG8gcXVlcnkgdGhlIGxvY2FsIGNhY2hlLlxuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbFN0b3JlLmluZGV4TWFuYWdlci5nZXRNaW5PZmZzZXRGcm9tQ29sbGVjdGlvbkdyb3VwKGUsIHQpLm5leHQoKHIgPT4gdGhpcy5sb2NhbFN0b3JlLmxvY2FsRG9jdW1lbnRzLmdldE5leHREb2N1bWVudHMoZSwgdCwgciwgbikubmV4dCgobiA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gbi5jaGFuZ2VzO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxTdG9yZS5pbmRleE1hbmFnZXIudXBkYXRlSW5kZXhFbnRyaWVzKGUsIGkpLm5leHQoKCgpID0+IHRoaXMucmUociwgbikpKS5uZXh0KChuID0+IChfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleEJhY2tmaWxsZXJcIiwgYFVwZGF0aW5nIG9mZnNldDogJHtufWApLCBcbiAgICAgICAgICAgIHRoaXMubG9jYWxTdG9yZS5pbmRleE1hbmFnZXIudXBkYXRlQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4pKSkpLm5leHQoKCgpID0+IGkuc2l6ZSkpO1xuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIG5leHQgb2Zmc2V0IGJhc2VkIG9uIHRoZSBwcm92aWRlZCBkb2N1bWVudHMuICovICAgIHJlKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBlO1xuICAgICAgICByZXR1cm4gdC5jaGFuZ2VzLmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX25ld0luZGV4T2Zmc2V0RnJvbURvY3VtZW50KHQpO1xuICAgICAgICAgICAgX19QUklWQVRFX2luZGV4T2Zmc2V0Q29tcGFyYXRvcihyLCBuKSA+IDAgJiYgKG4gPSByKTtcbiAgICAgICAgfSkpLCBuZXcgSW5kZXhPZmZzZXQobi5yZWFkVGltZSwgbi5kb2N1bWVudEtleSwgTWF0aC5tYXgodC5iYXRjaElkLCBlLmxhcmdlc3RCYXRjaElkKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBgTGlzdGVuU2VxdWVuY2VgIGlzIGEgbW9ub3RvbmljIHNlcXVlbmNlLiBJdCBpcyBpbml0aWFsaXplZCB3aXRoIGEgbWluaW11bSB2YWx1ZSB0b1xuICogZXhjZWVkLiBBbGwgc3Vic2VxdWVudCBjYWxscyB0byBuZXh0IHdpbGwgcmV0dXJuIGluY3JlYXNpbmcgdmFsdWVzLiBJZiBwcm92aWRlZCB3aXRoIGFcbiAqIGBTZXF1ZW5jZU51bWJlclN5bmNlcmAsIGl0IHdpbGwgYWRkaXRpb25hbGx5IGJ1bXAgaXRzIG5leHQgdmFsdWUgd2hlbiB0b2xkIG9mIGEgbmV3IHZhbHVlLCBhc1xuICogd2VsbCBhcyB3cml0ZSBvdXQgc2VxdWVuY2UgbnVtYmVycyB0aGF0IGl0IHByb2R1Y2VzIHZpYSBgbmV4dCgpYC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5wcmV2aW91c1ZhbHVlID0gZSwgdCAmJiAodC5zZXF1ZW5jZU51bWJlckhhbmRsZXIgPSBlID0+IHRoaXMuaWUoZSksIHRoaXMuc2UgPSBlID0+IHQud3JpdGVTZXF1ZW5jZU51bWJlcihlKSk7XG4gICAgfVxuICAgIGllKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldmlvdXNWYWx1ZSA9IE1hdGgubWF4KGUsIHRoaXMucHJldmlvdXNWYWx1ZSksIHRoaXMucHJldmlvdXNWYWx1ZTtcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgY29uc3QgZSA9ICsrdGhpcy5wcmV2aW91c1ZhbHVlO1xuICAgICAgICByZXR1cm4gdGhpcy5zZSAmJiB0aGlzLnNlKGUpLCBlO1xuICAgIH1cbn1cblxuX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lID0gLTE7XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIGEgdmFyaWFibGUgaXMgZWl0aGVyIHVuZGVmaW5lZCBvciBudWxsLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQoZSkge1xuICAgIHJldHVybiBudWxsID09IGU7XG59XG5cbi8qKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHZhbHVlIHJlcHJlc2VudHMgLTAuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pc05lZ2F0aXZlWmVybyhlKSB7XG4gICAgLy8gRGV0ZWN0IGlmIHRoZSB2YWx1ZSBpcyAtMC4wLiBCYXNlZCBvbiBwb2x5ZmlsbCBmcm9tXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2lzXG4gICAgcmV0dXJuIDAgPT09IGUgJiYgMSAvIGUgPT0gLTEgLyAwO1xufVxuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciBhIHZhbHVlIGlzIGFuIGludGVnZXIgYW5kIGluIHRoZSBzYWZlIGludGVnZXIgcmFuZ2VcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byB0ZXN0IGZvciBiZWluZyBhbiBpbnRlZ2VyIGFuZCBpbiB0aGUgc2FmZSByYW5nZVxuICovIGZ1bmN0aW9uIGlzU2FmZUludGVnZXIoZSkge1xuICAgIHJldHVybiBcIm51bWJlclwiID09IHR5cGVvZiBlICYmIE51bWJlci5pc0ludGVnZXIoZSkgJiYgIV9fUFJJVkFURV9pc05lZ2F0aXZlWmVybyhlKSAmJiBlIDw9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSICYmIGUgPj0gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVI7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEVuY29kZXMgYSByZXNvdXJjZSBwYXRoIGludG8gYSBJbmRleGVkRGItY29tcGF0aWJsZSBzdHJpbmcgZm9ybS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChlKSB7XG4gICAgbGV0IHQgPSBcIlwiO1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5sZW5ndGg7IG4rKykgdC5sZW5ndGggPiAwICYmICh0ID0gX19QUklWQVRFX2VuY29kZVNlcGFyYXRvcih0KSksIFxuICAgIHQgPSBfX1BSSVZBVEVfZW5jb2RlU2VnbWVudChlLmdldChuKSwgdCk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9lbmNvZGVTZXBhcmF0b3IodCk7XG59XG5cbi8qKiBFbmNvZGVzIGEgc2luZ2xlIHNlZ21lbnQgb2YgYSByZXNvdXJjZSBwYXRoIGludG8gdGhlIGdpdmVuIHJlc3VsdCAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZW5jb2RlU2VnbWVudChlLCB0KSB7XG4gICAgbGV0IG4gPSB0O1xuICAgIGNvbnN0IHIgPSBlLmxlbmd0aDtcbiAgICBmb3IgKGxldCB0ID0gMDsgdCA8IHI7IHQrKykge1xuICAgICAgICBjb25zdCByID0gZS5jaGFyQXQodCk7XG4gICAgICAgIHN3aXRjaCAocikge1xuICAgICAgICAgIGNhc2UgXCJcXDBcIjpcbiAgICAgICAgICAgIG4gKz0gXCJcdTAwMDFcdTAwMTBcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIlx1MDAwMVwiOlxuICAgICAgICAgICAgbiArPSBcIlx1MDAwMVx1MDAxMVwiO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgbiArPSByO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuXG4vKiogRW5jb2RlcyBhIHBhdGggc2VwYXJhdG9yIGludG8gdGhlIGdpdmVuIHJlc3VsdCAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZW5jb2RlU2VwYXJhdG9yKGUpIHtcbiAgICByZXR1cm4gZSArIFwiXHUwMDAxXHUwMDAxXCI7XG59XG5cbi8qKlxuICogRGVjb2RlcyB0aGUgZ2l2ZW4gSW5kZXhlZERiLWNvbXBhdGlibGUgc3RyaW5nIGZvcm0gb2YgYSByZXNvdXJjZSBwYXRoIGludG9cbiAqIGEgUmVzb3VyY2VQYXRoIGluc3RhbmNlLiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgaXMgbm90IHN1aXRhYmxlIGZvciB1c2Ugd2l0aFxuICogZGVjb2RpbmcgcmVzb3VyY2UgbmFtZXMgZnJvbSB0aGUgc2VydmVyOyB0aG9zZSBhcmUgT25lIFBsYXRmb3JtIGZvcm1hdFxuICogc3RyaW5ncy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZGVjb2RlUmVzb3VyY2VQYXRoKGUpIHtcbiAgICAvLyBFdmVudCB0aGUgZW1wdHkgcGF0aCBtdXN0IGVuY29kZSBhcyBhIHBhdGggb2YgYXQgbGVhc3QgbGVuZ3RoIDIuIEEgcGF0aFxuICAgIC8vIHdpdGggZXhhY3RseSAyIG11c3QgYmUgdGhlIGVtcHR5IHBhdGguXG4gICAgY29uc3QgdCA9IGUubGVuZ3RoO1xuICAgIGlmIChfX1BSSVZBVEVfaGFyZEFzc2VydCh0ID49IDIpLCAyID09PSB0KSByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQoXCJcdTAwMDFcIiA9PT0gZS5jaGFyQXQoMCkgJiYgXCJcdTAwMDFcIiA9PT0gZS5jaGFyQXQoMSkpLCBcbiAgICBSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCk7XG4gICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgY2Fubm90IGV4aXN0IHBhc3QgdGhlIHNlY29uZC10by1sYXN0IHBvc2l0aW9uIGluIHRoZVxuICAgIC8vIHNvdXJjZSB2YWx1ZS5cbiAgICAgICAgY29uc3QgX19QUklWQVRFX2xhc3RSZWFzb25hYmxlRXNjYXBlSW5kZXggPSB0IC0gMiwgbiA9IFtdO1xuICAgIGxldCByID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHQ7ICkge1xuICAgICAgICAvLyBUaGUgbGFzdCB0d28gY2hhcmFjdGVycyBvZiBhIHZhbGlkIGVuY29kZWQgcGF0aCBtdXN0IGJlIGEgc2VwYXJhdG9yLCBzb1xuICAgICAgICAvLyB0aGVyZSBtdXN0IGJlIGFuIGVuZCB0byB0aGlzIHNlZ21lbnQuXG4gICAgICAgIGNvbnN0IHQgPSBlLmluZGV4T2YoXCJcdTAwMDFcIiwgaSk7XG4gICAgICAgICh0IDwgMCB8fCB0ID4gX19QUklWQVRFX2xhc3RSZWFzb25hYmxlRXNjYXBlSW5kZXgpICYmIGZhaWwoKTtcbiAgICAgICAgc3dpdGNoIChlLmNoYXJBdCh0ICsgMSkpIHtcbiAgICAgICAgICBjYXNlIFwiXHUwMDAxXCI6XG4gICAgICAgICAgICBjb25zdCBzID0gZS5zdWJzdHJpbmcoaSwgdCk7XG4gICAgICAgICAgICBsZXQgbztcbiAgICAgICAgICAgIDAgPT09IHIubGVuZ3RoID8gXG4gICAgICAgICAgICAvLyBBdm9pZCBjb3B5aW5nIGZvciB0aGUgY29tbW9uIGNhc2Ugb2YgYSBzZWdtZW50IHRoYXQgZXhjbHVkZXMgXFwwXG4gICAgICAgICAgICAvLyBhbmQgXFwwMDFcbiAgICAgICAgICAgIG8gPSBzIDogKHIgKz0gcywgbyA9IHIsIHIgPSBcIlwiKSwgbi5wdXNoKG8pO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiXHUwMDEwXCI6XG4gICAgICAgICAgICByICs9IGUuc3Vic3RyaW5nKGksIHQpLCByICs9IFwiXFwwXCI7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCJcdTAwMTFcIjpcbiAgICAgICAgICAgIC8vIFRoZSBlc2NhcGUgY2hhcmFjdGVyIGNhbiBiZSB1c2VkIGluIHRoZSBvdXRwdXQgdG8gZW5jb2RlIGl0c2VsZi5cbiAgICAgICAgICAgIHIgKz0gZS5zdWJzdHJpbmcoaSwgdCArIDEpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgZmFpbCgpO1xuICAgICAgICB9XG4gICAgICAgIGkgPSB0ICsgMjtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBhdGgobik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IHggPSBbIFwidXNlcklkXCIsIFwiYmF0Y2hJZFwiIF07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIE5hbWUgb2YgdGhlIEluZGV4ZWREYiBvYmplY3Qgc3RvcmUuXG4gKlxuICogTm90ZSB0aGF0IHRoZSBuYW1lICdvd25lcicgaXMgY2hvc2VuIHRvIGVuc3VyZSBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoXG4gKiBvbGRlciBjbGllbnRzIHRoYXQgb25seSBzdXBwb3J0ZWQgc2luZ2xlIGxvY2tlZCBhY2Nlc3MgdG8gdGhlIHBlcnNpc3RlbmNlXG4gKiBsYXllci5cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgW3VzZXJJZCwgZW5jb2RlZFBhdGhdIGtleSBmb3IgdXNlIGluIHRoZSBEYkRvY3VtZW50TXV0YXRpb25zXG4gKiBpbmRleCB0byBpdGVyYXRlIG92ZXIgYWxsIGF0IGRvY3VtZW50IG11dGF0aW9ucyBmb3IgYSBnaXZlbiBwYXRoIG9yIGxvd2VyLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yUGF0aChlLCB0KSB7XG4gICAgcmV0dXJuIFsgZSwgX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aCh0KSBdO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBmdWxsIGluZGV4IGtleSBvZiBbdXNlcklkLCBlbmNvZGVkUGF0aCwgYmF0Y2hJZF0gZm9yIGluc2VydGluZ1xuICogYW5kIGRlbGV0aW5nIGludG8gdGhlIERiRG9jdW1lbnRNdXRhdGlvbnMgaW5kZXguXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvbktleShlLCB0LCBuKSB7XG4gICAgcmV0dXJuIFsgZSwgX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aCh0KSwgbiBdO1xufVxuXG4vKipcbiAqIEJlY2F1c2Ugd2Ugc3RvcmUgYWxsIHRoZSB1c2VmdWwgaW5mb3JtYXRpb24gZm9yIHRoaXMgc3RvcmUgaW4gdGhlIGtleSxcbiAqIHRoZXJlIGlzIG5vIHVzZWZ1bCBpbmZvcm1hdGlvbiB0byBzdG9yZSBhcyB0aGUgdmFsdWUuIFRoZSByYXcgKHVuZW5jb2RlZClcbiAqIHBhdGggY2Fubm90IGJlIHN0b3JlZCBiZWNhdXNlIEluZGV4ZWREYiBkb2Vzbid0IHN0b3JlIHByb3RvdHlwZVxuICogaW5mb3JtYXRpb24uXG4gKi8gY29uc3QgTyA9IHt9LCBOID0gWyBcInByZWZpeFBhdGhcIiwgXCJjb2xsZWN0aW9uR3JvdXBcIiwgXCJyZWFkVGltZVwiLCBcImRvY3VtZW50SWRcIiBdLCBMID0gWyBcInByZWZpeFBhdGhcIiwgXCJjb2xsZWN0aW9uR3JvdXBcIiwgXCJkb2N1bWVudElkXCIgXSwgQiA9IFsgXCJjb2xsZWN0aW9uR3JvdXBcIiwgXCJyZWFkVGltZVwiLCBcInByZWZpeFBhdGhcIiwgXCJkb2N1bWVudElkXCIgXSwgayA9IFsgXCJjYW5vbmljYWxJZFwiLCBcInRhcmdldElkXCIgXSwgcSA9IFsgXCJ0YXJnZXRJZFwiLCBcInBhdGhcIiBdLCBRID0gWyBcInBhdGhcIiwgXCJ0YXJnZXRJZFwiIF0sIEsgPSBbIFwiY29sbGVjdGlvbklkXCIsIFwicGFyZW50XCIgXSwgJCA9IFsgXCJpbmRleElkXCIsIFwidWlkXCIgXSwgVSA9IFsgXCJ1aWRcIiwgXCJzZXF1ZW5jZU51bWJlclwiIF0sIFcgPSBbIFwiaW5kZXhJZFwiLCBcInVpZFwiLCBcImFycmF5VmFsdWVcIiwgXCJkaXJlY3Rpb25hbFZhbHVlXCIsIFwib3JkZXJlZERvY3VtZW50S2V5XCIsIFwiZG9jdW1lbnRLZXlcIiBdLCBHID0gWyBcImluZGV4SWRcIiwgXCJ1aWRcIiwgXCJvcmRlcmVkRG9jdW1lbnRLZXlcIiBdLCB6ID0gWyBcInVzZXJJZFwiLCBcImNvbGxlY3Rpb25QYXRoXCIsIFwiZG9jdW1lbnRJZFwiIF0sIGogPSBbIFwidXNlcklkXCIsIFwiY29sbGVjdGlvblBhdGhcIiwgXCJsYXJnZXN0QmF0Y2hJZFwiIF0sIEggPSBbIFwidXNlcklkXCIsIFwiY29sbGVjdGlvbkdyb3VwXCIsIFwibGFyZ2VzdEJhdGNoSWRcIiBdLCBKID0gWyAuLi5bIC4uLlsgLi4uWyAuLi5bIFwibXV0YXRpb25RdWV1ZXNcIiwgXCJtdXRhdGlvbnNcIiwgXCJkb2N1bWVudE11dGF0aW9uc1wiLCBcInJlbW90ZURvY3VtZW50c1wiLCBcInRhcmdldHNcIiwgXCJvd25lclwiLCBcInRhcmdldEdsb2JhbFwiLCBcInRhcmdldERvY3VtZW50c1wiIF0sIFwiY2xpZW50TWV0YWRhdGFcIiBdLCBcInJlbW90ZURvY3VtZW50R2xvYmFsXCIgXSwgXCJjb2xsZWN0aW9uUGFyZW50c1wiIF0sIFwiYnVuZGxlc1wiLCBcIm5hbWVkUXVlcmllc1wiIF0sIFkgPSBbIC4uLkosIFwiZG9jdW1lbnRPdmVybGF5c1wiIF0sIFogPSBbIFwibXV0YXRpb25RdWV1ZXNcIiwgXCJtdXRhdGlvbnNcIiwgXCJkb2N1bWVudE11dGF0aW9uc1wiLCBcInJlbW90ZURvY3VtZW50c1YxNFwiLCBcInRhcmdldHNcIiwgXCJvd25lclwiLCBcInRhcmdldEdsb2JhbFwiLCBcInRhcmdldERvY3VtZW50c1wiLCBcImNsaWVudE1ldGFkYXRhXCIsIFwicmVtb3RlRG9jdW1lbnRHbG9iYWxcIiwgXCJjb2xsZWN0aW9uUGFyZW50c1wiLCBcImJ1bmRsZXNcIiwgXCJuYW1lZFF1ZXJpZXNcIiwgXCJkb2N1bWVudE92ZXJsYXlzXCIgXSwgWCA9IFosIGVlID0gWyAuLi5YLCBcImluZGV4Q29uZmlndXJhdGlvblwiLCBcImluZGV4U3RhdGVcIiwgXCJpbmRleEVudHJpZXNcIiBdLCB0ZSA9IGVlO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYlRyYW5zYWN0aW9uIGV4dGVuZHMgUGVyc2lzdGVuY2VUcmFuc2FjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLl9lID0gZSwgdGhpcy5jdXJyZW50U2VxdWVuY2VOdW1iZXIgPSB0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2dldFN0b3JlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gX19QUklWQVRFX1NpbXBsZURiLkYobi5fZSwgdCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9vYmplY3RTaXplKGUpIHtcbiAgICBsZXQgdCA9IDA7XG4gICAgZm9yIChjb25zdCBuIGluIGUpIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChlLCBuKSAmJiB0Kys7XG4gICAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIGZvckVhY2goZSwgdCkge1xuICAgIGZvciAoY29uc3QgbiBpbiBlKSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgbikgJiYgdChuLCBlW25dKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX21hcFRvQXJyYXkoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBbXTtcbiAgICBmb3IgKGNvbnN0IHIgaW4gZSkgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsIHIpICYmIG4ucHVzaCh0KGVbcl0sIHIsIGUpKTtcbiAgICByZXR1cm4gbjtcbn1cblxuZnVuY3Rpb24gaXNFbXB0eShlKSB7XG4gICAgZm9yIChjb25zdCB0IGluIGUpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSwgdCkpIHJldHVybiAhMTtcbiAgICByZXR1cm4gITA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBBbiBpbW11dGFibGUgc29ydGVkIG1hcCBpbXBsZW1lbnRhdGlvbiwgYmFzZWQgb24gYSBMZWZ0LWxlYW5pbmcgUmVkLUJsYWNrXG4vLyB0cmVlLlxuY2xhc3MgU29ydGVkTWFwIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuY29tcGFyYXRvciA9IGUsIHRoaXMucm9vdCA9IHQgfHwgTExSQk5vZGUuRU1QVFk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBtYXAsIHdpdGggdGhlIHNwZWNpZmllZCBrZXkvdmFsdWUgYWRkZWQgb3IgcmVwbGFjZWQuXG4gICAgaW5zZXJ0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXAodGhpcy5jb21wYXJhdG9yLCB0aGlzLnJvb3QuaW5zZXJ0KGUsIHQsIHRoaXMuY29tcGFyYXRvcikuY29weShudWxsLCBudWxsLCBMTFJCTm9kZS5CTEFDSywgbnVsbCwgbnVsbCkpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgbWFwLCB3aXRoIHRoZSBzcGVjaWZpZWQga2V5IHJlbW92ZWQuXG4gICAgcmVtb3ZlKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXAodGhpcy5jb21wYXJhdG9yLCB0aGlzLnJvb3QucmVtb3ZlKGUsIHRoaXMuY29tcGFyYXRvcikuY29weShudWxsLCBudWxsLCBMTFJCTm9kZS5CTEFDSywgbnVsbCwgbnVsbCkpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgbm9kZSB3aXRoIHRoZSBnaXZlbiBrZXksIG9yIG51bGwuXG4gICAgZ2V0KGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLnJvb3Q7XG4gICAgICAgIGZvciAoOyF0LmlzRW1wdHkoKTsgKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5jb21wYXJhdG9yKGUsIHQua2V5KTtcbiAgICAgICAgICAgIGlmICgwID09PSBuKSByZXR1cm4gdC52YWx1ZTtcbiAgICAgICAgICAgIG4gPCAwID8gdCA9IHQubGVmdCA6IG4gPiAwICYmICh0ID0gdC5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IGluIHRoaXMgc29ydGVkIG1hcCwgb3IgLTEgaWYgaXQgZG9lc24ndFxuICAgIC8vIGV4aXN0LlxuICAgIGluZGV4T2YoZSkge1xuICAgICAgICAvLyBOdW1iZXIgb2Ygbm9kZXMgdGhhdCB3ZXJlIHBydW5lZCB3aGVuIGRlc2NlbmRpbmcgcmlnaHRcbiAgICAgICAgbGV0IHQgPSAwLCBuID0gdGhpcy5yb290O1xuICAgICAgICBmb3IgKDshbi5pc0VtcHR5KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMuY29tcGFyYXRvcihlLCBuLmtleSk7XG4gICAgICAgICAgICBpZiAoMCA9PT0gcikgcmV0dXJuIHQgKyBuLmxlZnQuc2l6ZTtcbiAgICAgICAgICAgIHIgPCAwID8gbiA9IG4ubGVmdCA6IChcbiAgICAgICAgICAgIC8vIENvdW50IGFsbCBub2RlcyBsZWZ0IG9mIHRoZSBub2RlIHBsdXMgdGhlIG5vZGUgaXRzZWxmXG4gICAgICAgICAgICB0ICs9IG4ubGVmdC5zaXplICsgMSwgbiA9IG4ucmlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIE5vZGUgbm90IGZvdW5kXG4gICAgICAgICAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290LmlzRW1wdHkoKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgdG90YWwgbnVtYmVyIG9mIG5vZGVzIGluIHRoZSBtYXAuXG4gICAgZ2V0IHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3Quc2l6ZTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgbWluaW11bSBrZXkgaW4gdGhlIG1hcC5cbiAgICBtaW5LZXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJvb3QubWluS2V5KCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgdGhlIG1heGltdW0ga2V5IGluIHRoZSBtYXAuXG4gICAgbWF4S2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yb290Lm1heEtleSgpO1xuICAgIH1cbiAgICAvLyBUcmF2ZXJzZXMgdGhlIG1hcCBpbiBrZXkgb3JkZXIgYW5kIGNhbGxzIHRoZSBzcGVjaWZpZWQgYWN0aW9uIGZ1bmN0aW9uXG4gICAgLy8gZm9yIGVhY2gga2V5L3ZhbHVlIHBhaXIuIElmIGFjdGlvbiByZXR1cm5zIHRydWUsIHRyYXZlcnNhbCBpcyBhYm9ydGVkLlxuICAgIC8vIFJldHVybnMgdGhlIGZpcnN0IHRydXRoeSB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24sIG9yIHRoZSBsYXN0IGZhbHNleVxuICAgIC8vIHZhbHVlIHJldHVybmVkIGJ5IGFjdGlvbi5cbiAgICBpbm9yZGVyVHJhdmVyc2FsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5pbm9yZGVyVHJhdmVyc2FsKGUpO1xuICAgIH1cbiAgICBmb3JFYWNoKGUpIHtcbiAgICAgICAgdGhpcy5pbm9yZGVyVHJhdmVyc2FsKCgodCwgbikgPT4gKGUodCwgbiksICExKSkpO1xuICAgIH1cbiAgICB0b1N0cmluZygpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5pbm9yZGVyVHJhdmVyc2FsKCgodCwgbikgPT4gKGUucHVzaChgJHt0fToke259YCksICExKSkpLCBgeyR7ZS5qb2luKFwiLCBcIil9fWA7XG4gICAgfVxuICAgIC8vIFRyYXZlcnNlcyB0aGUgbWFwIGluIHJldmVyc2Uga2V5IG9yZGVyIGFuZCBjYWxscyB0aGUgc3BlY2lmaWVkIGFjdGlvblxuICAgIC8vIGZ1bmN0aW9uIGZvciBlYWNoIGtleS92YWx1ZSBwYWlyLiBJZiBhY3Rpb24gcmV0dXJucyB0cnVlLCB0cmF2ZXJzYWwgaXNcbiAgICAvLyBhYm9ydGVkLlxuICAgIC8vIFJldHVybnMgdGhlIGZpcnN0IHRydXRoeSB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24sIG9yIHRoZSBsYXN0IGZhbHNleVxuICAgIC8vIHZhbHVlIHJldHVybmVkIGJ5IGFjdGlvbi5cbiAgICByZXZlcnNlVHJhdmVyc2FsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucm9vdC5yZXZlcnNlVHJhdmVyc2FsKGUpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGFuIGl0ZXJhdG9yIG92ZXIgdGhlIFNvcnRlZE1hcC5cbiAgICBnZXRJdGVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXBJdGVyYXRvcih0aGlzLnJvb3QsIG51bGwsIHRoaXMuY29tcGFyYXRvciwgITEpO1xuICAgIH1cbiAgICBnZXRJdGVyYXRvckZyb20oZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNvcnRlZE1hcEl0ZXJhdG9yKHRoaXMucm9vdCwgZSwgdGhpcy5jb21wYXJhdG9yLCAhMSk7XG4gICAgfVxuICAgIGdldFJldmVyc2VJdGVyYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXBJdGVyYXRvcih0aGlzLnJvb3QsIG51bGwsIHRoaXMuY29tcGFyYXRvciwgITApO1xuICAgIH1cbiAgICBnZXRSZXZlcnNlSXRlcmF0b3JGcm9tKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXBJdGVyYXRvcih0aGlzLnJvb3QsIGUsIHRoaXMuY29tcGFyYXRvciwgITApO1xuICAgIH1cbn1cblxuIC8vIGVuZCBTb3J0ZWRNYXBcbi8vIEFuIGl0ZXJhdG9yIG92ZXIgYW4gTExSQk5vZGUuXG5jbGFzcyBTb3J0ZWRNYXBJdGVyYXRvciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLmlzUmV2ZXJzZSA9IHIsIHRoaXMubm9kZVN0YWNrID0gW107XG4gICAgICAgIGxldCBpID0gMTtcbiAgICAgICAgZm9yICg7IWUuaXNFbXB0eSgpOyApIGlmIChpID0gdCA/IG4oZS5rZXksIHQpIDogMSwgXG4gICAgICAgIC8vIGZsaXAgdGhlIGNvbXBhcmlzb24gaWYgd2UncmUgZ29pbmcgaW4gcmV2ZXJzZVxuICAgICAgICB0ICYmIHIgJiYgKGkgKj0gLTEpLCBpIDwgMCkgXG4gICAgICAgIC8vIFRoaXMgbm9kZSBpcyBsZXNzIHRoYW4gb3VyIHN0YXJ0IGtleS4gaWdub3JlIGl0XG4gICAgICAgIGUgPSB0aGlzLmlzUmV2ZXJzZSA/IGUubGVmdCA6IGUucmlnaHQ7IGVsc2Uge1xuICAgICAgICAgICAgaWYgKDAgPT09IGkpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIG5vZGUgaXMgZXhhY3RseSBlcXVhbCB0byBvdXIgc3RhcnQga2V5LiBQdXNoIGl0IG9uIHRoZSBzdGFjayxcbiAgICAgICAgICAgICAgICAvLyBidXQgc3RvcCBpdGVyYXRpbmc7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlU3RhY2sucHVzaChlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFRoaXMgbm9kZSBpcyBncmVhdGVyIHRoYW4gb3VyIHN0YXJ0IGtleSwgYWRkIGl0IHRvIHRoZSBzdGFjayBhbmQgbW92ZVxuICAgICAgICAgICAgLy8gdG8gdGhlIG5leHQgb25lXG4gICAgICAgICAgICB0aGlzLm5vZGVTdGFjay5wdXNoKGUpLCBlID0gdGhpcy5pc1JldmVyc2UgPyBlLnJpZ2h0IDogZS5sZWZ0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldE5leHQoKSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5ub2RlU3RhY2sucG9wKCk7XG4gICAgICAgIGNvbnN0IHQgPSB7XG4gICAgICAgICAgICBrZXk6IGUua2V5LFxuICAgICAgICAgICAgdmFsdWU6IGUudmFsdWVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHRoaXMuaXNSZXZlcnNlKSBmb3IgKGUgPSBlLmxlZnQ7ICFlLmlzRW1wdHkoKTsgKSB0aGlzLm5vZGVTdGFjay5wdXNoKGUpLCBlID0gZS5yaWdodDsgZWxzZSBmb3IgKGUgPSBlLnJpZ2h0OyAhZS5pc0VtcHR5KCk7ICkgdGhpcy5ub2RlU3RhY2sucHVzaChlKSwgXG4gICAgICAgIGUgPSBlLmxlZnQ7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICBoYXNOZXh0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2RlU3RhY2subGVuZ3RoID4gMDtcbiAgICB9XG4gICAgcGVlaygpIHtcbiAgICAgICAgaWYgKDAgPT09IHRoaXMubm9kZVN0YWNrLmxlbmd0aCkgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLm5vZGVTdGFja1t0aGlzLm5vZGVTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogZS5rZXksXG4gICAgICAgICAgICB2YWx1ZTogZS52YWx1ZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuIC8vIGVuZCBTb3J0ZWRNYXBJdGVyYXRvclxuLy8gUmVwcmVzZW50cyBhIG5vZGUgaW4gYSBMZWZ0LWxlYW5pbmcgUmVkLUJsYWNrIHRyZWUuXG5jbGFzcyBMTFJCTm9kZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICB0aGlzLmtleSA9IGUsIHRoaXMudmFsdWUgPSB0LCB0aGlzLmNvbG9yID0gbnVsbCAhPSBuID8gbiA6IExMUkJOb2RlLlJFRCwgdGhpcy5sZWZ0ID0gbnVsbCAhPSByID8gciA6IExMUkJOb2RlLkVNUFRZLCBcbiAgICAgICAgdGhpcy5yaWdodCA9IG51bGwgIT0gaSA/IGkgOiBMTFJCTm9kZS5FTVBUWSwgdGhpcy5zaXplID0gdGhpcy5sZWZ0LnNpemUgKyAxICsgdGhpcy5yaWdodC5zaXplO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgY3VycmVudCBub2RlLCBvcHRpb25hbGx5IHJlcGxhY2luZyBwaWVjZXMgb2YgaXQuXG4gICAgY29weShlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIHJldHVybiBuZXcgTExSQk5vZGUobnVsbCAhPSBlID8gZSA6IHRoaXMua2V5LCBudWxsICE9IHQgPyB0IDogdGhpcy52YWx1ZSwgbnVsbCAhPSBuID8gbiA6IHRoaXMuY29sb3IsIG51bGwgIT0gciA/IHIgOiB0aGlzLmxlZnQsIG51bGwgIT0gaSA/IGkgOiB0aGlzLnJpZ2h0KTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICAvLyBUcmF2ZXJzZXMgdGhlIHRyZWUgaW4ga2V5IG9yZGVyIGFuZCBjYWxscyB0aGUgc3BlY2lmaWVkIGFjdGlvbiBmdW5jdGlvblxuICAgIC8vIGZvciBlYWNoIG5vZGUuIElmIGFjdGlvbiByZXR1cm5zIHRydWUsIHRyYXZlcnNhbCBpcyBhYm9ydGVkLlxuICAgIC8vIFJldHVybnMgdGhlIGZpcnN0IHRydXRoeSB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24sIG9yIHRoZSBsYXN0IGZhbHNleVxuICAgIC8vIHZhbHVlIHJldHVybmVkIGJ5IGFjdGlvbi5cbiAgICBpbm9yZGVyVHJhdmVyc2FsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5pbm9yZGVyVHJhdmVyc2FsKGUpIHx8IGUodGhpcy5rZXksIHRoaXMudmFsdWUpIHx8IHRoaXMucmlnaHQuaW5vcmRlclRyYXZlcnNhbChlKTtcbiAgICB9XG4gICAgLy8gVHJhdmVyc2VzIHRoZSB0cmVlIGluIHJldmVyc2Uga2V5IG9yZGVyIGFuZCBjYWxscyB0aGUgc3BlY2lmaWVkIGFjdGlvblxuICAgIC8vIGZ1bmN0aW9uIGZvciBlYWNoIG5vZGUuIElmIGFjdGlvbiByZXR1cm5zIHRydWUsIHRyYXZlcnNhbCBpcyBhYm9ydGVkLlxuICAgIC8vIFJldHVybnMgdGhlIGZpcnN0IHRydXRoeSB2YWx1ZSByZXR1cm5lZCBieSBhY3Rpb24sIG9yIHRoZSBsYXN0IGZhbHNleVxuICAgIC8vIHZhbHVlIHJldHVybmVkIGJ5IGFjdGlvbi5cbiAgICByZXZlcnNlVHJhdmVyc2FsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmlnaHQucmV2ZXJzZVRyYXZlcnNhbChlKSB8fCBlKHRoaXMua2V5LCB0aGlzLnZhbHVlKSB8fCB0aGlzLmxlZnQucmV2ZXJzZVRyYXZlcnNhbChlKTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgbWluaW11bSBub2RlIGluIHRoZSB0cmVlLlxuICAgIG1pbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5pc0VtcHR5KCkgPyB0aGlzIDogdGhpcy5sZWZ0Lm1pbigpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIHRoZSBtYXhpbXVtIGtleSBpbiB0aGUgdHJlZS5cbiAgICBtaW5LZXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigpLmtleTtcbiAgICB9XG4gICAgLy8gUmV0dXJucyB0aGUgbWF4aW11bSBrZXkgaW4gdGhlIHRyZWUuXG4gICAgbWF4S2V5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yaWdodC5pc0VtcHR5KCkgPyB0aGlzLmtleSA6IHRoaXMucmlnaHQubWF4S2V5KCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgbmV3IHRyZWUsIHdpdGggdGhlIGtleS92YWx1ZSBhZGRlZC5cbiAgICBpbnNlcnQoZSwgdCwgbikge1xuICAgICAgICBsZXQgciA9IHRoaXM7XG4gICAgICAgIGNvbnN0IGkgPSBuKGUsIHIua2V5KTtcbiAgICAgICAgcmV0dXJuIHIgPSBpIDwgMCA/IHIuY29weShudWxsLCBudWxsLCBudWxsLCByLmxlZnQuaW5zZXJ0KGUsIHQsIG4pLCBudWxsKSA6IDAgPT09IGkgPyByLmNvcHkobnVsbCwgdCwgbnVsbCwgbnVsbCwgbnVsbCkgOiByLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgci5yaWdodC5pbnNlcnQoZSwgdCwgbikpLCBcbiAgICAgICAgci5maXhVcCgpO1xuICAgIH1cbiAgICByZW1vdmVNaW4oKSB7XG4gICAgICAgIGlmICh0aGlzLmxlZnQuaXNFbXB0eSgpKSByZXR1cm4gTExSQk5vZGUuRU1QVFk7XG4gICAgICAgIGxldCBlID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGUubGVmdC5pc1JlZCgpIHx8IGUubGVmdC5sZWZ0LmlzUmVkKCkgfHwgKGUgPSBlLm1vdmVSZWRMZWZ0KCkpLCBlID0gZS5jb3B5KG51bGwsIG51bGwsIG51bGwsIGUubGVmdC5yZW1vdmVNaW4oKSwgbnVsbCksIFxuICAgICAgICBlLmZpeFVwKCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgbmV3IHRyZWUsIHdpdGggdGhlIHNwZWNpZmllZCBpdGVtIHJlbW92ZWQuXG4gICAgcmVtb3ZlKGUsIHQpIHtcbiAgICAgICAgbGV0IG4sIHIgPSB0aGlzO1xuICAgICAgICBpZiAodChlLCByLmtleSkgPCAwKSByLmxlZnQuaXNFbXB0eSgpIHx8IHIubGVmdC5pc1JlZCgpIHx8IHIubGVmdC5sZWZ0LmlzUmVkKCkgfHwgKHIgPSByLm1vdmVSZWRMZWZ0KCkpLCBcbiAgICAgICAgciA9IHIuY29weShudWxsLCBudWxsLCBudWxsLCByLmxlZnQucmVtb3ZlKGUsIHQpLCBudWxsKTsgZWxzZSB7XG4gICAgICAgICAgICBpZiAoci5sZWZ0LmlzUmVkKCkgJiYgKHIgPSByLnJvdGF0ZVJpZ2h0KCkpLCByLnJpZ2h0LmlzRW1wdHkoKSB8fCByLnJpZ2h0LmlzUmVkKCkgfHwgci5yaWdodC5sZWZ0LmlzUmVkKCkgfHwgKHIgPSByLm1vdmVSZWRSaWdodCgpKSwgXG4gICAgICAgICAgICAwID09PSB0KGUsIHIua2V5KSkge1xuICAgICAgICAgICAgICAgIGlmIChyLnJpZ2h0LmlzRW1wdHkoKSkgcmV0dXJuIExMUkJOb2RlLkVNUFRZO1xuICAgICAgICAgICAgICAgIG4gPSByLnJpZ2h0Lm1pbigpLCByID0gci5jb3B5KG4ua2V5LCBuLnZhbHVlLCBudWxsLCBudWxsLCByLnJpZ2h0LnJlbW92ZU1pbigpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHIgPSByLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgci5yaWdodC5yZW1vdmUoZSwgdCkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByLmZpeFVwKCk7XG4gICAgfVxuICAgIGlzUmVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2xvcjtcbiAgICB9XG4gICAgLy8gUmV0dXJucyBuZXcgdHJlZSBhZnRlciBwZXJmb3JtaW5nIGFueSBuZWVkZWQgcm90YXRpb25zLlxuICAgIGZpeFVwKCkge1xuICAgICAgICBsZXQgZSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBlLnJpZ2h0LmlzUmVkKCkgJiYgIWUubGVmdC5pc1JlZCgpICYmIChlID0gZS5yb3RhdGVMZWZ0KCkpLCBlLmxlZnQuaXNSZWQoKSAmJiBlLmxlZnQubGVmdC5pc1JlZCgpICYmIChlID0gZS5yb3RhdGVSaWdodCgpKSwgXG4gICAgICAgIGUubGVmdC5pc1JlZCgpICYmIGUucmlnaHQuaXNSZWQoKSAmJiAoZSA9IGUuY29sb3JGbGlwKCkpLCBlO1xuICAgIH1cbiAgICBtb3ZlUmVkTGVmdCgpIHtcbiAgICAgICAgbGV0IGUgPSB0aGlzLmNvbG9yRmxpcCgpO1xuICAgICAgICByZXR1cm4gZS5yaWdodC5sZWZ0LmlzUmVkKCkgJiYgKGUgPSBlLmNvcHkobnVsbCwgbnVsbCwgbnVsbCwgbnVsbCwgZS5yaWdodC5yb3RhdGVSaWdodCgpKSwgXG4gICAgICAgIGUgPSBlLnJvdGF0ZUxlZnQoKSwgZSA9IGUuY29sb3JGbGlwKCkpLCBlO1xuICAgIH1cbiAgICBtb3ZlUmVkUmlnaHQoKSB7XG4gICAgICAgIGxldCBlID0gdGhpcy5jb2xvckZsaXAoKTtcbiAgICAgICAgcmV0dXJuIGUubGVmdC5sZWZ0LmlzUmVkKCkgJiYgKGUgPSBlLnJvdGF0ZVJpZ2h0KCksIGUgPSBlLmNvbG9yRmxpcCgpKSwgZTtcbiAgICB9XG4gICAgcm90YXRlTGVmdCgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuY29weShudWxsLCBudWxsLCBMTFJCTm9kZS5SRUQsIG51bGwsIHRoaXMucmlnaHQubGVmdCk7XG4gICAgICAgIHJldHVybiB0aGlzLnJpZ2h0LmNvcHkobnVsbCwgbnVsbCwgdGhpcy5jb2xvciwgZSwgbnVsbCk7XG4gICAgfVxuICAgIHJvdGF0ZVJpZ2h0KCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5jb3B5KG51bGwsIG51bGwsIExMUkJOb2RlLlJFRCwgdGhpcy5sZWZ0LnJpZ2h0LCBudWxsKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVmdC5jb3B5KG51bGwsIG51bGwsIHRoaXMuY29sb3IsIG51bGwsIGUpO1xuICAgIH1cbiAgICBjb2xvckZsaXAoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmxlZnQuY29weShudWxsLCBudWxsLCAhdGhpcy5sZWZ0LmNvbG9yLCBudWxsLCBudWxsKSwgdCA9IHRoaXMucmlnaHQuY29weShudWxsLCBudWxsLCAhdGhpcy5yaWdodC5jb2xvciwgbnVsbCwgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmNvcHkobnVsbCwgbnVsbCwgIXRoaXMuY29sb3IsIGUsIHQpO1xuICAgIH1cbiAgICAvLyBGb3IgdGVzdGluZy5cbiAgICBjaGVja01heERlcHRoKCkge1xuICAgICAgICBjb25zdCBlID0gdGhpcy5jaGVjaygpO1xuICAgICAgICByZXR1cm4gTWF0aC5wb3coMiwgZSkgPD0gdGhpcy5zaXplICsgMTtcbiAgICB9XG4gICAgLy8gSW4gYSBiYWxhbmNlZCBSQiB0cmVlLCB0aGUgYmxhY2stZGVwdGggKG51bWJlciBvZiBibGFjayBub2RlcykgZnJvbSByb290IHRvXG4gICAgLy8gbGVhdmVzIGlzIGVxdWFsIG9uIGJvdGggc2lkZXMuICBUaGlzIGZ1bmN0aW9uIHZlcmlmaWVzIHRoYXQgb3IgYXNzZXJ0cy5cbiAgICBjaGVjaygpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNSZWQoKSAmJiB0aGlzLmxlZnQuaXNSZWQoKSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICBpZiAodGhpcy5yaWdodC5pc1JlZCgpKSB0aHJvdyBmYWlsKCk7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLmxlZnQuY2hlY2soKTtcbiAgICAgICAgaWYgKGUgIT09IHRoaXMucmlnaHQuY2hlY2soKSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICByZXR1cm4gZSArICh0aGlzLmlzUmVkKCkgPyAwIDogMSk7XG4gICAgfVxufVxuXG4gLy8gZW5kIExMUkJOb2RlXG4vLyBFbXB0eSBub2RlIGlzIHNoYXJlZCBiZXR3ZWVuIGFsbCBMTFJCIHRyZWVzLlxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbkxMUkJOb2RlLkVNUFRZID0gbnVsbCwgTExSQk5vZGUuUkVEID0gITAsIExMUkJOb2RlLkJMQUNLID0gITE7XG5cbi8vIGVuZCBMTFJCRW1wdHlOb2RlXG5MTFJCTm9kZS5FTVBUWSA9IG5ldyBcbi8vIFJlcHJlc2VudHMgYW4gZW1wdHkgbm9kZSAoYSBsZWFmIG5vZGUgaW4gdGhlIFJlZC1CbGFjayBUcmVlKS5cbmNsYXNzIExMUkJFbXB0eU5vZGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cbiAgICBnZXQga2V5KCkge1xuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbiAgICBnZXQgY29sb3IoKSB7XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG4gICAgZ2V0IGxlZnQoKSB7XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG4gICAgZ2V0IHJpZ2h0KCkge1xuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxuICAgIC8vIFJldHVybnMgYSBjb3B5IG9mIHRoZSBjdXJyZW50IG5vZGUuXG4gICAgY29weShlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgdHJlZSwgd2l0aCB0aGUgc3BlY2lmaWVkIGtleS92YWx1ZSBhZGRlZC5cbiAgICBpbnNlcnQoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IExMUkJOb2RlKGUsIHQpO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgY29weSBvZiB0aGUgdHJlZSwgd2l0aCB0aGUgc3BlY2lmaWVkIGtleSByZW1vdmVkLlxuICAgIHJlbW92ZShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIGlub3JkZXJUcmF2ZXJzYWwoZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIHJldmVyc2VUcmF2ZXJzYWwoZSkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIG1pbktleSgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIG1heEtleSgpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlzUmVkKCkge1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIC8vIEZvciB0ZXN0aW5nLlxuICAgIGNoZWNrTWF4RGVwdGgoKSB7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgY2hlY2soKSB7XG4gICAgICAgIHJldHVybiAwO1xuICAgIH1cbn07XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFNvcnRlZFNldCBpcyBhbiBpbW11dGFibGUgKGNvcHktb24td3JpdGUpIGNvbGxlY3Rpb24gdGhhdCBob2xkcyBlbGVtZW50c1xuICogaW4gb3JkZXIgc3BlY2lmaWVkIGJ5IHRoZSBwcm92aWRlZCBjb21wYXJhdG9yLlxuICpcbiAqIE5PVEU6IGlmIHByb3ZpZGVkIGNvbXBhcmF0b3IgcmV0dXJucyAwIGZvciB0d28gZWxlbWVudHMsIHdlIGNvbnNpZGVyIHRoZW0gdG9cbiAqIGJlIGVxdWFsIVxuICovXG5jbGFzcyBTb3J0ZWRTZXQge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5jb21wYXJhdG9yID0gZSwgdGhpcy5kYXRhID0gbmV3IFNvcnRlZE1hcCh0aGlzLmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICBoYXMoZSkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5kYXRhLmdldChlKTtcbiAgICB9XG4gICAgZmlyc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubWluS2V5KCk7XG4gICAgfVxuICAgIGxhc3QoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEubWF4S2V5KCk7XG4gICAgfVxuICAgIGdldCBzaXplKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnNpemU7XG4gICAgfVxuICAgIGluZGV4T2YoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmluZGV4T2YoZSk7XG4gICAgfVxuICAgIC8qKiBJdGVyYXRlcyBlbGVtZW50cyBpbiBvcmRlciBkZWZpbmVkIGJ5IFwiY29tcGFyYXRvclwiICovICAgIGZvckVhY2goZSkge1xuICAgICAgICB0aGlzLmRhdGEuaW5vcmRlclRyYXZlcnNhbCgoKHQsIG4pID0+IChlKHQpLCAhMSkpKTtcbiAgICB9XG4gICAgLyoqIEl0ZXJhdGVzIG92ZXIgYGVsZW1gcyBzdWNoIHRoYXQ6IHJhbmdlWzBdICZsdDs9IGVsZW0gJmx0OyByYW5nZVsxXS4gKi8gICAgZm9yRWFjaEluUmFuZ2UoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbShlWzBdKTtcbiAgICAgICAgZm9yICg7bi5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgciA9IG4uZ2V0TmV4dCgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuY29tcGFyYXRvcihyLmtleSwgZVsxXSkgPj0gMCkgcmV0dXJuO1xuICAgICAgICAgICAgdChyLmtleSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBgZWxlbWBzIHN1Y2ggdGhhdDogc3RhcnQgJmx0Oz0gZWxlbSB1bnRpbCBmYWxzZSBpcyByZXR1cm5lZC5cbiAgICAgKi8gICAgZm9yRWFjaFdoaWxlKGUsIHQpIHtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIGZvciAobiA9IHZvaWQgMCAhPT0gdCA/IHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20odCkgOiB0aGlzLmRhdGEuZ2V0SXRlcmF0b3IoKTsgbi5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgaWYgKCFlKG4uZ2V0TmV4dCgpLmtleSkpIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKiogRmluZHMgdGhlIGxlYXN0IGVsZW1lbnQgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBlbGVtYC4gKi8gICAgZmlyc3RBZnRlck9yRXF1YWwoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5kYXRhLmdldEl0ZXJhdG9yRnJvbShlKTtcbiAgICAgICAgcmV0dXJuIHQuaGFzTmV4dCgpID8gdC5nZXROZXh0KCkua2V5IDogbnVsbDtcbiAgICB9XG4gICAgZ2V0SXRlcmF0b3IoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU29ydGVkU2V0SXRlcmF0b3IodGhpcy5kYXRhLmdldEl0ZXJhdG9yKCkpO1xuICAgIH1cbiAgICBnZXRJdGVyYXRvckZyb20oZSkge1xuICAgICAgICByZXR1cm4gbmV3IFNvcnRlZFNldEl0ZXJhdG9yKHRoaXMuZGF0YS5nZXRJdGVyYXRvckZyb20oZSkpO1xuICAgIH1cbiAgICAvKiogSW5zZXJ0cyBvciB1cGRhdGVzIGFuIGVsZW1lbnQgKi8gICAgYWRkKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29weSh0aGlzLmRhdGEucmVtb3ZlKGUpLmluc2VydChlLCAhMCkpO1xuICAgIH1cbiAgICAvKiogRGVsZXRlcyBhbiBlbGVtZW50ICovICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhcyhlKSA/IHRoaXMuY29weSh0aGlzLmRhdGEucmVtb3ZlKGUpKSA6IHRoaXM7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuaXNFbXB0eSgpO1xuICAgIH1cbiAgICB1bmlvbldpdGgoZSkge1xuICAgICAgICBsZXQgdCA9IHRoaXM7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSBgcmVzdWx0YCBhbHdheXMgcmVmZXJzIHRvIHRoZSBsYXJnZXIgb25lIG9mIHRoZSB0d28gc2V0cy5cbiAgICAgICAgICAgICAgICByZXR1cm4gdC5zaXplIDwgZS5zaXplICYmICh0ID0gZSwgZSA9IHRoaXMpLCBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdCA9IHQuYWRkKGUpO1xuICAgICAgICB9KSksIHQ7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgU29ydGVkU2V0KSkgcmV0dXJuICExO1xuICAgICAgICBpZiAodGhpcy5zaXplICE9PSBlLnNpemUpIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZGF0YS5nZXRJdGVyYXRvcigpLCBuID0gZS5kYXRhLmdldEl0ZXJhdG9yKCk7XG4gICAgICAgIGZvciAoO3QuaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LmdldE5leHQoKS5rZXksIHIgPSBuLmdldE5leHQoKS5rZXk7XG4gICAgICAgICAgICBpZiAoMCAhPT0gdGhpcy5jb21wYXJhdG9yKGUsIHIpKSByZXR1cm4gITE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICB0b0FycmF5KCkge1xuICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgZS5wdXNoKHQpO1xuICAgICAgICB9KSksIGU7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2goKHQgPT4gZS5wdXNoKHQpKSksIFwiU29ydGVkU2V0KFwiICsgZS50b1N0cmluZygpICsgXCIpXCI7XG4gICAgfVxuICAgIGNvcHkoZSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IFNvcnRlZFNldCh0aGlzLmNvbXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gdC5kYXRhID0gZSwgdDtcbiAgICB9XG59XG5cbmNsYXNzIFNvcnRlZFNldEl0ZXJhdG9yIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuaXRlciA9IGU7XG4gICAgfVxuICAgIGdldE5leHQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLml0ZXIuZ2V0TmV4dCgpLmtleTtcbiAgICB9XG4gICAgaGFzTmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlci5oYXNOZXh0KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbXBhcmVzIHR3byBzb3J0ZWQgc2V0cyBmb3IgZXF1YWxpdHkgdXNpbmcgdGhlaXIgbmF0dXJhbCBvcmRlcmluZy4gVGhlXG4gKiBtZXRob2QgY29tcHV0ZXMgdGhlIGludGVyc2VjdGlvbiBhbmQgaW52b2tlcyBgb25BZGRgIGZvciBldmVyeSBlbGVtZW50IHRoYXRcbiAqIGlzIGluIGBhZnRlcmAgYnV0IG5vdCBgYmVmb3JlYC4gYG9uUmVtb3ZlYCBpcyBpbnZva2VkIGZvciBldmVyeSBlbGVtZW50IGluXG4gKiBgYmVmb3JlYCBidXQgbWlzc2luZyBmcm9tIGBhZnRlcmAuXG4gKlxuICogVGhlIG1ldGhvZCBjcmVhdGVzIGEgY29weSBvZiBib3RoIGBiZWZvcmVgIGFuZCBgYWZ0ZXJgIGFuZCBydW5zIGluIE8obiBsb2dcbiAqIG4pLCB3aGVyZSBuIGlzIHRoZSBzaXplIG9mIHRoZSB0d28gbGlzdHMuXG4gKlxuICogQHBhcmFtIGJlZm9yZSAtIFRoZSBlbGVtZW50cyB0aGF0IGV4aXN0IGluIHRoZSBvcmlnaW5hbCBzZXQuXG4gKiBAcGFyYW0gYWZ0ZXIgLSBUaGUgZWxlbWVudHMgdG8gZGlmZiBhZ2FpbnN0IHRoZSBvcmlnaW5hbCBzZXQuXG4gKiBAcGFyYW0gY29tcGFyYXRvciAtIFRoZSBjb21wYXJhdG9yIGZvciB0aGUgZWxlbWVudHMgaW4gYmVmb3JlIGFuZCBhZnRlci5cbiAqIEBwYXJhbSBvbkFkZCAtIEEgZnVuY3Rpb24gdG8gaW52b2tlIGZvciBldmVyeSBlbGVtZW50IHRoYXQgaXMgcGFydCBvZiBgXG4gKiBhZnRlcmAgYnV0IG5vdCBgYmVmb3JlYC5cbiAqIEBwYXJhbSBvblJlbW92ZSAtIEEgZnVuY3Rpb24gdG8gaW52b2tlIGZvciBldmVyeSBlbGVtZW50IHRoYXQgaXMgcGFydCBvZlxuICogYGJlZm9yZWAgYnV0IG5vdCBgYWZ0ZXJgLlxuICovXG4vKipcbiAqIFJldHVybnMgdGhlIG5leHQgZWxlbWVudCBmcm9tIHRoZSBpdGVyYXRvciBvciBgdW5kZWZpbmVkYCBpZiBub25lIGF2YWlsYWJsZS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihlKSB7XG4gICAgcmV0dXJuIGUuaGFzTmV4dCgpID8gZS5nZXROZXh0KCkgOiB2b2lkIDA7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFByb3ZpZGVzIGEgc2V0IG9mIGZpZWxkcyB0aGF0IGNhbiBiZSB1c2VkIHRvIHBhcnRpYWxseSBwYXRjaCBhIGRvY3VtZW50LlxuICogRmllbGRNYXNrIGlzIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBPYmplY3RWYWx1ZS5cbiAqIEV4YW1wbGVzOlxuICogICBmb28gLSBPdmVyd3JpdGVzIGZvbyBlbnRpcmVseSB3aXRoIHRoZSBwcm92aWRlZCB2YWx1ZS4gSWYgZm9vIGlzIG5vdFxuICogICAgICAgICBwcmVzZW50IGluIHRoZSBjb21wYW5pb24gT2JqZWN0VmFsdWUsIHRoZSBmaWVsZCBpcyBkZWxldGVkLlxuICogICBmb28uYmFyIC0gT3ZlcndyaXRlcyBvbmx5IHRoZSBmaWVsZCBiYXIgb2YgdGhlIG9iamVjdCBmb28uXG4gKiAgICAgICAgICAgICBJZiBmb28gaXMgbm90IGFuIG9iamVjdCwgZm9vIGlzIHJlcGxhY2VkIHdpdGggYW4gb2JqZWN0XG4gKiAgICAgICAgICAgICBjb250YWluaW5nIGZvb1xuICovIGNsYXNzIEZpZWxkTWFzayB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLmZpZWxkcyA9IGUsIFxuICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IHZhbGlkYXRpb24gb2YgRmllbGRNYXNrXG4gICAgICAgIC8vIFNvcnQgdGhlIGZpZWxkIG1hc2sgdG8gc3VwcG9ydCBgRmllbGRNYXNrLmlzRXF1YWwoKWAgYW5kIGFzc2VydCBiZWxvdy5cbiAgICAgICAgZS5zb3J0KEZpZWxkUGF0aCQxLmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICBzdGF0aWMgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRNYXNrKFtdKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBGaWVsZE1hc2sgb2JqZWN0IHRoYXQgaXMgdGhlIHJlc3VsdCBvZiBhZGRpbmcgYWxsIHRoZSBnaXZlblxuICAgICAqIGZpZWxkcyBwYXRocyB0byB0aGlzIGZpZWxkIG1hc2suXG4gICAgICovICAgIHVuaW9uV2l0aChlKSB7XG4gICAgICAgIGxldCB0ID0gbmV3IFNvcnRlZFNldChGaWVsZFBhdGgkMS5jb21wYXJhdG9yKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMuZmllbGRzKSB0ID0gdC5hZGQoZSk7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBlKSB0ID0gdC5hZGQobik7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRNYXNrKHQudG9BcnJheSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmVyaWZpZXMgdGhhdCBgZmllbGRQYXRoYCBpcyBpbmNsdWRlZCBieSBhdCBsZWFzdCBvbmUgZmllbGQgaW4gdGhpcyBmaWVsZFxuICAgICAqIG1hc2suXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGFuIE8obikgb3BlcmF0aW9uLCB3aGVyZSBgbmAgaXMgdGhlIHNpemUgb2YgdGhlIGZpZWxkIG1hc2suXG4gICAgICovICAgIGNvdmVycyhlKSB7XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiB0aGlzLmZpZWxkcykgaWYgKHQuaXNQcmVmaXhPZihlKSkgcmV0dXJuICEwO1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2FycmF5RXF1YWxzKHRoaXMuZmllbGRzLCBlLmZpZWxkcywgKChlLCB0KSA9PiBlLmlzRXF1YWwodCkpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGVycm9yIGVuY291bnRlcmVkIHdoaWxlIGRlY29kaW5nIGJhc2U2NCBzdHJpbmcuXG4gKi8gY2xhc3MgX19QUklWQVRFX0Jhc2U2NERlY29kZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpLCB0aGlzLm5hbWUgPSBcIkJhc2U2NERlY29kZUVycm9yXCI7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIENvbnZlcnRzIGEgQmFzZTY0IGVuY29kZWQgc3RyaW5nIHRvIGEgYmluYXJ5IHN0cmluZy4gKi9cbi8qKiBUcnVlIGlmIGFuZCBvbmx5IGlmIHRoZSBCYXNlNjQgY29udmVyc2lvbiBmdW5jdGlvbnMgYXJlIGF2YWlsYWJsZS4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9pc0Jhc2U2NEF2YWlsYWJsZSgpIHtcbiAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgYXRvYjtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSW1tdXRhYmxlIGNsYXNzIHRoYXQgcmVwcmVzZW50cyBhIFwicHJvdG9cIiBieXRlIHN0cmluZy5cbiAqXG4gKiBQcm90byBieXRlIHN0cmluZ3MgY2FuIGVpdGhlciBiZSBCYXNlNjQtZW5jb2RlZCBzdHJpbmdzIG9yIFVpbnQ4QXJyYXlzIHdoZW5cbiAqIHNlbnQgb24gdGhlIHdpcmUuIFRoaXMgY2xhc3MgYWJzdHJhY3RzIGF3YXkgdGhpcyBkaWZmZXJlbnRpYXRpb24gYnkgaG9sZGluZ1xuICogdGhlIHByb3RvIGJ5dGUgc3RyaW5nIGluIGEgY29tbW9uIGNsYXNzIHRoYXQgbXVzdCBiZSBjb252ZXJ0ZWQgaW50byBhIHN0cmluZ1xuICogYmVmb3JlIGJlaW5nIHNlbnQgYXMgYSBwcm90by5cbiAqIEBpbnRlcm5hbFxuICovIGNsYXNzIEJ5dGVTdHJpbmcge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5iaW5hcnlTdHJpbmcgPSBlO1xuICAgIH1cbiAgICBzdGF0aWMgZnJvbUJhc2U2NFN0cmluZyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZGVjb2RlQmFzZTY0KGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF0b2IoZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBgRE9NRXhjZXB0aW9uYCBpcyBkZWZpbmVkIGJlZm9yZSB1c2luZyBpdCB0byBhdm9pZFxuICAgICAgICAgICAgICAgIC8vIFwiUmVmZXJlbmNlRXJyb3I6IFByb3BlcnR5ICdET01FeGNlcHRpb24nIGRvZXNuJ3QgZXhpc3RcIiBpbiByZWFjdC1uYXRpdmUuXG4gICAgICAgICAgICAgICAgLy8gKGh0dHBzOi8vZ2l0aHViLmNvbS9maXJlYmFzZS9maXJlYmFzZS1qcy1zZGsvaXNzdWVzLzcxMTUpXG4gICAgICAgICAgICAgICAgdGhyb3cgXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgRE9NRXhjZXB0aW9uICYmIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24gPyBuZXcgX19QUklWQVRFX0Jhc2U2NERlY29kZUVycm9yKFwiSW52YWxpZCBiYXNlNjQgc3RyaW5nOiBcIiArIGUpIDogZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvKiogQ29udmVydHMgYSBiaW5hcnkgc3RyaW5nIHRvIGEgQmFzZTY0IGVuY29kZWQgc3RyaW5nLiAqLyAoZSk7XG4gICAgICAgIHJldHVybiBuZXcgQnl0ZVN0cmluZyh0KTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21VaW50OEFycmF5KGUpIHtcbiAgICAgICAgLy8gVE9ETyhpbmRleGluZyk7IFJlbW92ZSB0aGUgY29weSBvZiB0aGUgYnl0ZSBzdHJpbmcgaGVyZSBhcyB0aGlzIG1ldGhvZFxuICAgICAgICAvLyBpcyBmcmVxdWVudGx5IGNhbGxlZCBkdXJpbmcgaW5kZXhpbmcuXG4gICAgICAgIGNvbnN0IHQgPSBcbiAgICAgICAgLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gdG8gY29udmVydCBhbiBVaW50OGFycmF5IHRvIGEgYmluYXJ5IHN0cmluZy5cbiAqL1xuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfYmluYXJ5U3RyaW5nRnJvbVVpbnQ4QXJyYXkoZSkge1xuICAgICAgICAgICAgbGV0IHQgPSBcIlwiO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLmxlbmd0aDsgKytuKSB0ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoZVtuXSk7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBjb252ZXJ0IGEgYmluYXJ5IHN0cmluZyB0byBhbiBVaW50OEFycmF5LlxuICovIChlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBCeXRlU3RyaW5nKHQpO1xuICAgIH1cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSgpIHtcbiAgICAgICAgbGV0IGUgPSAwO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbmV4dDogKCkgPT4gZSA8IHRoaXMuYmluYXJ5U3RyaW5nLmxlbmd0aCA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdGhpcy5iaW5hcnlTdHJpbmcuY2hhckNvZGVBdChlKyspLFxuICAgICAgICAgICAgICAgIGRvbmU6ICExXG4gICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgIHZhbHVlOiB2b2lkIDAsXG4gICAgICAgICAgICAgICAgZG9uZTogITBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgdG9CYXNlNjQoKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZW5jb2RlQmFzZTY0KGUpIHtcbiAgICAgICAgICAgIHJldHVybiBidG9hKGUpO1xuICAgICAgICB9KHRoaXMuYmluYXJ5U3RyaW5nKTtcbiAgICB9XG4gICAgdG9VaW50OEFycmF5KCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX3VpbnQ4QXJyYXlGcm9tQmluYXJ5U3RyaW5nKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBuZXcgVWludDhBcnJheShlLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUubGVuZ3RoOyBuKyspIHRbbl0gPSBlLmNoYXJDb2RlQXQobik7XG4gICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgICAgICAvLyBBIFJlZ0V4cCBtYXRjaGluZyBJU08gODYwMSBVVEMgdGltZXN0YW1wcyB3aXRoIG9wdGlvbmFsIGZyYWN0aW9uLlxuICAgICAgICAodGhpcy5iaW5hcnlTdHJpbmcpO1xuICAgIH1cbiAgICBhcHByb3hpbWF0ZUJ5dGVTaXplKCkge1xuICAgICAgICByZXR1cm4gMiAqIHRoaXMuYmluYXJ5U3RyaW5nLmxlbmd0aDtcbiAgICB9XG4gICAgY29tcGFyZVRvKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKHRoaXMuYmluYXJ5U3RyaW5nLCBlLmJpbmFyeVN0cmluZyk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5iaW5hcnlTdHJpbmcgPT09IGUuYmluYXJ5U3RyaW5nO1xuICAgIH1cbn1cblxuQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklORyA9IG5ldyBCeXRlU3RyaW5nKFwiXCIpO1xuXG5jb25zdCBuZSA9IG5ldyBSZWdFeHAoL15cXGR7NH0tXFxkXFxkLVxcZFxcZFRcXGRcXGQ6XFxkXFxkOlxcZFxcZCg/OlxcLihcXGQrKSk/WiQvKTtcblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgcG9zc2libGUgUHJvdG8gdmFsdWVzIGZvciBhIHRpbWVzdGFtcCB2YWx1ZSBpbnRvIGEgXCJzZWNvbmRzIGFuZFxuICogbmFub3NcIiByZXByZXNlbnRhdGlvbi5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbm9ybWFsaXplVGltZXN0YW1wKGUpIHtcbiAgICAvLyBUaGUganNvbiBpbnRlcmZhY2UgKGZvciB0aGUgYnJvd3Nlcikgd2lsbCByZXR1cm4gYW4gaXNvIHRpbWVzdGFtcCBzdHJpbmcsXG4gICAgLy8gd2hpbGUgdGhlIHByb3RvIGpzIGxpYnJhcnkgKGZvciBub2RlKSB3aWxsIHJldHVybiBhXG4gICAgLy8gZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCBpbnN0YW5jZS5cbiAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQoISFlKSwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkge1xuICAgICAgICAvLyBUaGUgZGF0ZSBzdHJpbmcgY2FuIGhhdmUgaGlnaGVyIHByZWNpc2lvbiAobmFub3MpIHRoYW4gdGhlIERhdGUgY2xhc3NcbiAgICAgICAgLy8gKG1pbGxpcyksIHNvIHdlIGRvIHNvbWUgY3VzdG9tIHBhcnNpbmcgaGVyZS5cbiAgICAgICAgLy8gUGFyc2UgdGhlIG5hbm9zIHJpZ2h0IG91dCBvZiB0aGUgc3RyaW5nLlxuICAgICAgICBsZXQgdCA9IDA7XG4gICAgICAgIGNvbnN0IG4gPSBuZS5leGVjKGUpO1xuICAgICAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQoISFuKSwgblsxXSkge1xuICAgICAgICAgICAgLy8gUGFkIHRoZSBmcmFjdGlvbiBvdXQgdG8gOSBkaWdpdHMgKG5hbm9zKS5cbiAgICAgICAgICAgIGxldCBlID0gblsxXTtcbiAgICAgICAgICAgIGUgPSAoZSArIFwiMDAwMDAwMDAwXCIpLnN1YnN0cigwLCA5KSwgdCA9IE51bWJlcihlKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQYXJzZSB0aGUgZGF0ZSB0byBnZXQgdGhlIHNlY29uZHMuXG4gICAgICAgICAgICAgICAgY29uc3QgciA9IG5ldyBEYXRlKGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc2Vjb25kczogTWF0aC5mbG9vcihyLmdldFRpbWUoKSAvIDFlMyksXG4gICAgICAgICAgICBuYW5vczogdFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuc2Vjb25kcyksXG4gICAgICAgIG5hbm9zOiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUubmFub3MpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyB0aGUgcG9zc2libGUgUHJvdG8gdHlwZXMgZm9yIG51bWJlcnMgaW50byBhIEphdmFTY3JpcHQgbnVtYmVyLlxuICogUmV0dXJucyAwIGlmIHRoZSB2YWx1ZSBpcyBub3QgbnVtZXJpYy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUpIHtcbiAgICAvLyBUT0RPKGJqb3JuaWNrKTogSGFuZGxlIGludDY0IGdyZWF0ZXIgdGhhbiA1MyBiaXRzLlxuICAgIHJldHVybiBcIm51bWJlclwiID09IHR5cGVvZiBlID8gZSA6IFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgPyBOdW1iZXIoZSkgOiAwO1xufVxuXG4vKiogQ29udmVydHMgdGhlIHBvc3NpYmxlIFByb3RvIHR5cGVzIGZvciBCbG9icyBpbnRvIGEgQnl0ZVN0cmluZy4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25vcm1hbGl6ZUJ5dGVTdHJpbmcoZSkge1xuICAgIHJldHVybiBcInN0cmluZ1wiID09IHR5cGVvZiBlID8gQnl0ZVN0cmluZy5mcm9tQmFzZTY0U3RyaW5nKGUpIDogQnl0ZVN0cmluZy5mcm9tVWludDhBcnJheShlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGxvY2FsbHktYXBwbGllZCBTZXJ2ZXJUaW1lc3RhbXAuXG4gKlxuICogU2VydmVyIFRpbWVzdGFtcHMgYXJlIGJhY2tlZCBieSBNYXBWYWx1ZXMgdGhhdCBjb250YWluIGFuIGludGVybmFsIGZpZWxkXG4gKiBgX190eXBlX19gIHdpdGggYSB2YWx1ZSBvZiBgc2VydmVyX3RpbWVzdGFtcGAuIFRoZSBwcmV2aW91cyB2YWx1ZSBhbmQgbG9jYWxcbiAqIHdyaXRlIHRpbWUgYXJlIHN0b3JlZCBpbiBpdHMgYF9fcHJldmlvdXNfdmFsdWVfX2AgYW5kIGBfX2xvY2FsX3dyaXRlX3RpbWVfX2BcbiAqIGZpZWxkcyByZXNwZWN0aXZlbHkuXG4gKlxuICogTm90ZXM6XG4gKiAtIFNlcnZlclRpbWVzdGFtcFZhbHVlIGluc3RhbmNlcyBhcmUgY3JlYXRlZCBhcyB0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIGFcbiAqICAgdHJhbnNmb3JtLiBUaGV5IGNhbiBvbmx5IGV4aXN0IGluIHRoZSBsb2NhbCB2aWV3IG9mIGEgZG9jdW1lbnQuIFRoZXJlZm9yZVxuICogICB0aGV5IGRvIG5vdCBuZWVkIHRvIGJlIHBhcnNlZCBvciBzZXJpYWxpemVkLlxuICogLSBXaGVuIGV2YWx1YXRlZCBsb2NhbGx5IChlLmcuIGZvciBzbmFwc2hvdC5kYXRhKCkpLCB0aGV5IGJ5IGRlZmF1bHRcbiAqICAgZXZhbHVhdGUgdG8gYG51bGxgLiBUaGlzIGJlaGF2aW9yIGNhbiBiZSBjb25maWd1cmVkIGJ5IHBhc3NpbmcgY3VzdG9tXG4gKiAgIEZpZWxkVmFsdWVPcHRpb25zIHRvIHZhbHVlKCkuXG4gKiAtIFdpdGggcmVzcGVjdCB0byBvdGhlciBTZXJ2ZXJUaW1lc3RhbXBWYWx1ZXMsIHRoZXkgc29ydCBieSB0aGVpclxuICogICBsb2NhbFdyaXRlVGltZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNTZXJ2ZXJUaW1lc3RhbXAoZSkge1xuICAgIHZhciB0LCBuO1xuICAgIHJldHVybiBcInNlcnZlcl90aW1lc3RhbXBcIiA9PT0gKG51bGwgPT09IChuID0gKChudWxsID09PSAodCA9IG51bGwgPT0gZSA/IHZvaWQgMCA6IGUubWFwVmFsdWUpIHx8IHZvaWQgMCA9PT0gdCA/IHZvaWQgMCA6IHQuZmllbGRzKSB8fCB7fSkuX190eXBlX18pIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4uc3RyaW5nVmFsdWUpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgU2VydmVyVGltZXN0YW1wIHByb3RvIHZhbHVlICh1c2luZyB0aGUgaW50ZXJuYWwgZm9ybWF0KS5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgYmVmb3JlIHRoaXMgU2VydmVyVGltZXN0YW1wIHdhcyBzZXQuXG4gKlxuICogUHJlc2VydmluZyB0aGUgcHJldmlvdXMgdmFsdWVzIGFsbG93cyB0aGUgdXNlciB0byBkaXNwbGF5IHRoZSBsYXN0IHJlc29sZWRcbiAqIHZhbHVlIHVudGlsIHRoZSBiYWNrZW5kIHJlc3BvbmRzIHdpdGggdGhlIHRpbWVzdGFtcC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2dldFByZXZpb3VzVmFsdWUoZSkge1xuICAgIGNvbnN0IHQgPSBlLm1hcFZhbHVlLmZpZWxkcy5fX3ByZXZpb3VzX3ZhbHVlX187XG4gICAgcmV0dXJuIF9fUFJJVkFURV9pc1NlcnZlclRpbWVzdGFtcCh0KSA/IF9fUFJJVkFURV9nZXRQcmV2aW91c1ZhbHVlKHQpIDogdDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBsb2NhbCB0aW1lIGF0IHdoaWNoIHRoaXMgdGltZXN0YW1wIHdhcyBmaXJzdCBzZXQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2dldExvY2FsV3JpdGVUaW1lKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlLm1hcFZhbHVlLmZpZWxkcy5fX2xvY2FsX3dyaXRlX3RpbWVfXy50aW1lc3RhbXBWYWx1ZSk7XG4gICAgcmV0dXJuIG5ldyBUaW1lc3RhbXAodC5zZWNvbmRzLCB0Lm5hbm9zKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgRGF0YWJhc2VJbmZvIHtcbiAgICAvKipcbiAgICAgKiBDb25zdHJ1Y3RzIGEgRGF0YWJhc2VJbmZvIHVzaW5nIHRoZSBwcm92aWRlZCBob3N0LCBkYXRhYmFzZUlkIGFuZFxuICAgICAqIHBlcnNpc3RlbmNlS2V5LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFiYXNlSWQgLSBUaGUgZGF0YWJhc2UgdG8gdXNlLlxuICAgICAqIEBwYXJhbSBhcHBJZCAtIFRoZSBGaXJlYmFzZSBBcHAgSWQuXG4gICAgICogQHBhcmFtIHBlcnNpc3RlbmNlS2V5IC0gQSB1bmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyBGaXJlc3RvcmUncyBsb2NhbFxuICAgICAqIHN0b3JhZ2UgKHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCB0aGUgZGF0YWJhc2VJZCkuXG4gICAgICogQHBhcmFtIGhvc3QgLSBUaGUgRmlyZXN0b3JlIGJhY2tlbmQgaG9zdCB0byBjb25uZWN0IHRvLlxuICAgICAqIEBwYXJhbSBzc2wgLSBXaGV0aGVyIHRvIHVzZSBTU0wgd2hlbiBjb25uZWN0aW5nLlxuICAgICAqIEBwYXJhbSBmb3JjZUxvbmdQb2xsaW5nIC0gV2hldGhlciB0byB1c2UgdGhlIGZvcmNlTG9uZ1BvbGxpbmcgb3B0aW9uXG4gICAgICogd2hlbiB1c2luZyBXZWJDaGFubmVsIGFzIHRoZSBuZXR3b3JrIHRyYW5zcG9ydC5cbiAgICAgKiBAcGFyYW0gYXV0b0RldGVjdExvbmdQb2xsaW5nIC0gV2hldGhlciB0byB1c2UgdGhlIGRldGVjdEJ1ZmZlcmluZ1Byb3h5XG4gICAgICogb3B0aW9uIHdoZW4gdXNpbmcgV2ViQ2hhbm5lbCBhcyB0aGUgbmV0d29yayB0cmFuc3BvcnQuXG4gICAgICogQHBhcmFtIGxvbmdQb2xsaW5nT3B0aW9ucyBPcHRpb25zIHRoYXQgY29uZmlndXJlIGxvbmctcG9sbGluZy5cbiAgICAgKiBAcGFyYW0gdXNlRmV0Y2hTdHJlYW1zIFdoZXRoZXIgdG8gdXNlIHRoZSBGZXRjaCBBUEkgaW5zdGVhZCBvZlxuICAgICAqIFhNTEhUVFBSZXF1ZXN0XG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSwgcywgbywgXywgYSkge1xuICAgICAgICB0aGlzLmRhdGFiYXNlSWQgPSBlLCB0aGlzLmFwcElkID0gdCwgdGhpcy5wZXJzaXN0ZW5jZUtleSA9IG4sIHRoaXMuaG9zdCA9IHIsIHRoaXMuc3NsID0gaSwgXG4gICAgICAgIHRoaXMuZm9yY2VMb25nUG9sbGluZyA9IHMsIHRoaXMuYXV0b0RldGVjdExvbmdQb2xsaW5nID0gbywgdGhpcy5sb25nUG9sbGluZ09wdGlvbnMgPSBfLCBcbiAgICAgICAgdGhpcy51c2VGZXRjaFN0cmVhbXMgPSBhO1xuICAgIH1cbn1cblxuLyoqIFRoZSBkZWZhdWx0IGRhdGFiYXNlIG5hbWUgZm9yIGEgcHJvamVjdC4gKi9cbi8qKlxuICogUmVwcmVzZW50cyB0aGUgZGF0YWJhc2UgSUQgYSBGaXJlc3RvcmUgY2xpZW50IGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAqIEBpbnRlcm5hbFxuICovXG5jbGFzcyBEYXRhYmFzZUlkIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMucHJvamVjdElkID0gZSwgdGhpcy5kYXRhYmFzZSA9IHQgfHwgXCIoZGVmYXVsdClcIjtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGFiYXNlSWQoXCJcIiwgXCJcIik7XG4gICAgfVxuICAgIGdldCBpc0RlZmF1bHREYXRhYmFzZSgpIHtcbiAgICAgICAgcmV0dXJuIFwiKGRlZmF1bHQpXCIgPT09IHRoaXMuZGF0YWJhc2U7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIERhdGFiYXNlSWQgJiYgZS5wcm9qZWN0SWQgPT09IHRoaXMucHJvamVjdElkICYmIGUuZGF0YWJhc2UgPT09IHRoaXMuZGF0YWJhc2U7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgcmUgPSB7XG4gICAgbWFwVmFsdWU6IHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBfX3R5cGVfXzoge1xuICAgICAgICAgICAgICAgIHN0cmluZ1ZhbHVlOiBcIl9fbWF4X19cIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSwgaWUgPSB7XG4gICAgbnVsbFZhbHVlOiBcIk5VTExfVkFMVUVcIlxufTtcblxuLyoqIEV4dHJhY3RzIHRoZSBiYWNrZW5kJ3MgdHlwZSBvcmRlciBmb3IgdGhlIHByb3ZpZGVkIHZhbHVlLiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3R5cGVPcmRlcihlKSB7XG4gICAgcmV0dXJuIFwibnVsbFZhbHVlXCIgaW4gZSA/IDAgLyogVHlwZU9yZGVyLk51bGxWYWx1ZSAqLyA6IFwiYm9vbGVhblZhbHVlXCIgaW4gZSA/IDEgLyogVHlwZU9yZGVyLkJvb2xlYW5WYWx1ZSAqLyA6IFwiaW50ZWdlclZhbHVlXCIgaW4gZSB8fCBcImRvdWJsZVZhbHVlXCIgaW4gZSA/IDIgLyogVHlwZU9yZGVyLk51bWJlclZhbHVlICovIDogXCJ0aW1lc3RhbXBWYWx1ZVwiIGluIGUgPyAzIC8qIFR5cGVPcmRlci5UaW1lc3RhbXBWYWx1ZSAqLyA6IFwic3RyaW5nVmFsdWVcIiBpbiBlID8gNSAvKiBUeXBlT3JkZXIuU3RyaW5nVmFsdWUgKi8gOiBcImJ5dGVzVmFsdWVcIiBpbiBlID8gNiAvKiBUeXBlT3JkZXIuQmxvYlZhbHVlICovIDogXCJyZWZlcmVuY2VWYWx1ZVwiIGluIGUgPyA3IC8qIFR5cGVPcmRlci5SZWZWYWx1ZSAqLyA6IFwiZ2VvUG9pbnRWYWx1ZVwiIGluIGUgPyA4IC8qIFR5cGVPcmRlci5HZW9Qb2ludFZhbHVlICovIDogXCJhcnJheVZhbHVlXCIgaW4gZSA/IDkgLyogVHlwZU9yZGVyLkFycmF5VmFsdWUgKi8gOiBcIm1hcFZhbHVlXCIgaW4gZSA/IF9fUFJJVkFURV9pc1NlcnZlclRpbWVzdGFtcChlKSA/IDQgLyogVHlwZU9yZGVyLlNlcnZlclRpbWVzdGFtcFZhbHVlICovIDogX19QUklWQVRFX2lzTWF4VmFsdWUoZSkgPyA5MDA3MTk5MjU0NzQwOTkxIC8qIFR5cGVPcmRlci5NYXhWYWx1ZSAqLyA6IDEwIC8qIFR5cGVPcmRlci5PYmplY3RWYWx1ZSAqLyA6IGZhaWwoKTtcbn1cblxuLyoqIFRlc3RzIGBsZWZ0YCBhbmQgYHJpZ2h0YCBmb3IgZXF1YWxpdHkgYmFzZWQgb24gdGhlIGJhY2tlbmQgc2VtYW50aWNzLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdmFsdWVFcXVhbHMoZSwgdCkge1xuICAgIGlmIChlID09PSB0KSByZXR1cm4gITA7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV90eXBlT3JkZXIoZSk7XG4gICAgaWYgKG4gIT09IF9fUFJJVkFURV90eXBlT3JkZXIodCkpIHJldHVybiAhMTtcbiAgICBzd2l0Y2ggKG4pIHtcbiAgICAgIGNhc2UgMCAvKiBUeXBlT3JkZXIuTnVsbFZhbHVlICovIDpcbiAgICAgIGNhc2UgOTAwNzE5OTI1NDc0MDk5MSAvKiBUeXBlT3JkZXIuTWF4VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gITA7XG5cbiAgICAgIGNhc2UgMSAvKiBUeXBlT3JkZXIuQm9vbGVhblZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGUuYm9vbGVhblZhbHVlID09PSB0LmJvb2xlYW5WYWx1ZTtcblxuICAgICAgY2FzZSA0IC8qIFR5cGVPcmRlci5TZXJ2ZXJUaW1lc3RhbXBWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0TG9jYWxXcml0ZVRpbWUoZSkuaXNFcXVhbChfX1BSSVZBVEVfZ2V0TG9jYWxXcml0ZVRpbWUodCkpO1xuXG4gICAgICBjYXNlIDMgLyogVHlwZU9yZGVyLlRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV90aW1lc3RhbXBFcXVhbHMoZSwgdCkge1xuICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mIGUudGltZXN0YW1wVmFsdWUgJiYgXCJzdHJpbmdcIiA9PSB0eXBlb2YgdC50aW1lc3RhbXBWYWx1ZSAmJiBlLnRpbWVzdGFtcFZhbHVlLmxlbmd0aCA9PT0gdC50aW1lc3RhbXBWYWx1ZS5sZW5ndGgpIFxuICAgICAgICAgICAgLy8gVXNlIHN0cmluZyBlcXVhbGl0eSBmb3IgSVNPIDg2MDEgdGltZXN0YW1wc1xuICAgICAgICAgICAgcmV0dXJuIGUudGltZXN0YW1wVmFsdWUgPT09IHQudGltZXN0YW1wVmFsdWU7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlLnRpbWVzdGFtcFZhbHVlKSwgciA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAodC50aW1lc3RhbXBWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbi5zZWNvbmRzID09PSByLnNlY29uZHMgJiYgbi5uYW5vcyA9PT0gci5uYW5vcztcbiAgICAgICAgfShlLCB0KTtcblxuICAgICAgY2FzZSA1IC8qIFR5cGVPcmRlci5TdHJpbmdWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBlLnN0cmluZ1ZhbHVlID09PSB0LnN0cmluZ1ZhbHVlO1xuXG4gICAgICBjYXNlIDYgLyogVHlwZU9yZGVyLkJsb2JWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfYmxvYkVxdWFscyhlLCB0KSB7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX25vcm1hbGl6ZUJ5dGVTdHJpbmcoZS5ieXRlc1ZhbHVlKS5pc0VxdWFsKF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKHQuYnl0ZXNWYWx1ZSkpO1xuICAgICAgICB9KGUsIHQpO1xuXG4gICAgICBjYXNlIDcgLyogVHlwZU9yZGVyLlJlZlZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGUucmVmZXJlbmNlVmFsdWUgPT09IHQucmVmZXJlbmNlVmFsdWU7XG5cbiAgICAgIGNhc2UgOCAvKiBUeXBlT3JkZXIuR2VvUG9pbnRWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZ2VvUG9pbnRFcXVhbHMoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5nZW9Qb2ludFZhbHVlLmxhdGl0dWRlKSA9PT0gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcih0Lmdlb1BvaW50VmFsdWUubGF0aXR1ZGUpICYmIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5nZW9Qb2ludFZhbHVlLmxvbmdpdHVkZSkgPT09IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5nZW9Qb2ludFZhbHVlLmxvbmdpdHVkZSk7XG4gICAgICAgIH0oZSwgdCk7XG5cbiAgICAgIGNhc2UgMiAvKiBUeXBlT3JkZXIuTnVtYmVyVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX251bWJlckVxdWFscyhlLCB0KSB7XG4gICAgICAgICAgICBpZiAoXCJpbnRlZ2VyVmFsdWVcIiBpbiBlICYmIFwiaW50ZWdlclZhbHVlXCIgaW4gdCkgcmV0dXJuIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIoZS5pbnRlZ2VyVmFsdWUpID09PSBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKHQuaW50ZWdlclZhbHVlKTtcbiAgICAgICAgICAgIGlmIChcImRvdWJsZVZhbHVlXCIgaW4gZSAmJiBcImRvdWJsZVZhbHVlXCIgaW4gdCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuZG91YmxlVmFsdWUpLCByID0gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcih0LmRvdWJsZVZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbiA9PT0gciA/IF9fUFJJVkFURV9pc05lZ2F0aXZlWmVybyhuKSA9PT0gX19QUklWQVRFX2lzTmVnYXRpdmVaZXJvKHIpIDogaXNOYU4obikgJiYgaXNOYU4ocik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIH0oZSwgdCk7XG5cbiAgICAgIGNhc2UgOSAvKiBUeXBlT3JkZXIuQXJyYXlWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfYXJyYXlFcXVhbHMoZS5hcnJheVZhbHVlLnZhbHVlcyB8fCBbXSwgdC5hcnJheVZhbHVlLnZhbHVlcyB8fCBbXSwgX19QUklWQVRFX3ZhbHVlRXF1YWxzKTtcblxuICAgICAgY2FzZSAxMCAvKiBUeXBlT3JkZXIuT2JqZWN0VmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX29iamVjdEVxdWFscyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5tYXBWYWx1ZS5maWVsZHMgfHwge30sIHIgPSB0Lm1hcFZhbHVlLmZpZWxkcyB8fCB7fTtcbiAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfb2JqZWN0U2l6ZShuKSAhPT0gX19QUklWQVRFX29iamVjdFNpemUocikpIHJldHVybiAhMTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBpbiBuKSBpZiAobi5oYXNPd25Qcm9wZXJ0eShlKSAmJiAodm9pZCAwID09PSByW2VdIHx8ICFfX1BSSVZBVEVfdmFsdWVFcXVhbHMobltlXSwgcltlXSkpKSByZXR1cm4gITE7XG4gICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgQXJyYXlWYWx1ZSBjb250YWlucyB0aGUgc3BlY2lmaWVkIGVsZW1lbnQuICovIChlLCB0KTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9hcnJheVZhbHVlQ29udGFpbnMoZSwgdCkge1xuICAgIHJldHVybiB2b2lkIDAgIT09IChlLnZhbHVlcyB8fCBbXSkuZmluZCgoZSA9PiBfX1BSSVZBVEVfdmFsdWVFcXVhbHMoZSwgdCkpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3ZhbHVlQ29tcGFyZShlLCB0KSB7XG4gICAgaWYgKGUgPT09IHQpIHJldHVybiAwO1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfdHlwZU9yZGVyKGUpLCByID0gX19QUklWQVRFX3R5cGVPcmRlcih0KTtcbiAgICBpZiAobiAhPT0gcikgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG4sIHIpO1xuICAgIHN3aXRjaCAobikge1xuICAgICAgY2FzZSAwIC8qIFR5cGVPcmRlci5OdWxsVmFsdWUgKi8gOlxuICAgICAgY2FzZSA5MDA3MTk5MjU0NzQwOTkxIC8qIFR5cGVPcmRlci5NYXhWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiAwO1xuXG4gICAgICBjYXNlIDEgLyogVHlwZU9yZGVyLkJvb2xlYW5WYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLmJvb2xlYW5WYWx1ZSwgdC5ib29sZWFuVmFsdWUpO1xuXG4gICAgICBjYXNlIDIgLyogVHlwZU9yZGVyLk51bWJlclZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlTnVtYmVycyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmludGVnZXJWYWx1ZSB8fCBlLmRvdWJsZVZhbHVlKSwgciA9IF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5pbnRlZ2VyVmFsdWUgfHwgdC5kb3VibGVWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbiA8IHIgPyAtMSA6IG4gPiByID8gMSA6IG4gPT09IHIgPyAwIDogXG4gICAgICAgICAgICAvLyBvbmUgb3IgYm90aCBhcmUgTmFOLlxuICAgICAgICAgICAgaXNOYU4obikgPyBpc05hTihyKSA/IDAgOiAtMSA6IDE7XG4gICAgICAgIH0oZSwgdCk7XG5cbiAgICAgIGNhc2UgMyAvKiBUeXBlT3JkZXIuVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX2NvbXBhcmVUaW1lc3RhbXBzKGUudGltZXN0YW1wVmFsdWUsIHQudGltZXN0YW1wVmFsdWUpO1xuXG4gICAgICBjYXNlIDQgLyogVHlwZU9yZGVyLlNlcnZlclRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9jb21wYXJlVGltZXN0YW1wcyhfX1BSSVZBVEVfZ2V0TG9jYWxXcml0ZVRpbWUoZSksIF9fUFJJVkFURV9nZXRMb2NhbFdyaXRlVGltZSh0KSk7XG5cbiAgICAgIGNhc2UgNSAvKiBUeXBlT3JkZXIuU3RyaW5nVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5zdHJpbmdWYWx1ZSwgdC5zdHJpbmdWYWx1ZSk7XG5cbiAgICAgIGNhc2UgNiAvKiBUeXBlT3JkZXIuQmxvYlZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlQmxvYnMoZSwgdCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUpLCByID0gX19QUklWQVRFX25vcm1hbGl6ZUJ5dGVTdHJpbmcodCk7XG4gICAgICAgICAgICByZXR1cm4gbi5jb21wYXJlVG8ocik7XG4gICAgICAgIH0oZS5ieXRlc1ZhbHVlLCB0LmJ5dGVzVmFsdWUpO1xuXG4gICAgICBjYXNlIDcgLyogVHlwZU9yZGVyLlJlZlZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlUmVmZXJlbmNlcyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5zcGxpdChcIi9cIiksIHIgPSB0LnNwbGl0KFwiL1wiKTtcbiAgICAgICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgbi5sZW5ndGggJiYgZSA8IHIubGVuZ3RoOyBlKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IobltlXSwgcltlXSk7XG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IHQpIHJldHVybiB0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG4ubGVuZ3RoLCByLmxlbmd0aCk7XG4gICAgICAgIH0oZS5yZWZlcmVuY2VWYWx1ZSwgdC5yZWZlcmVuY2VWYWx1ZSk7XG5cbiAgICAgIGNhc2UgOCAvKiBUeXBlT3JkZXIuR2VvUG9pbnRWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZUdlb1BvaW50cyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmxhdGl0dWRlKSwgX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcih0LmxhdGl0dWRlKSk7XG4gICAgICAgICAgICBpZiAoMCAhPT0gbikgcmV0dXJuIG47XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmxvbmdpdHVkZSksIF9fUFJJVkFURV9ub3JtYWxpemVOdW1iZXIodC5sb25naXR1ZGUpKTtcbiAgICAgICAgfShlLmdlb1BvaW50VmFsdWUsIHQuZ2VvUG9pbnRWYWx1ZSk7XG5cbiAgICAgIGNhc2UgOSAvKiBUeXBlT3JkZXIuQXJyYXlWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcGFyZUFycmF5cyhlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS52YWx1ZXMgfHwgW10sIHIgPSB0LnZhbHVlcyB8fCBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgbi5sZW5ndGggJiYgZSA8IHIubGVuZ3RoOyArK2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3ZhbHVlQ29tcGFyZShuW2VdLCByW2VdKTtcbiAgICAgICAgICAgICAgICBpZiAodCkgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3Iobi5sZW5ndGgsIHIubGVuZ3RoKTtcbiAgICAgICAgfShlLmFycmF5VmFsdWUsIHQuYXJyYXlWYWx1ZSk7XG5cbiAgICAgIGNhc2UgMTAgLyogVHlwZU9yZGVyLk9iamVjdFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlTWFwcyhlLCB0KSB7XG4gICAgICAgICAgICBpZiAoZSA9PT0gcmUubWFwVmFsdWUgJiYgdCA9PT0gcmUubWFwVmFsdWUpIHJldHVybiAwO1xuICAgICAgICAgICAgaWYgKGUgPT09IHJlLm1hcFZhbHVlKSByZXR1cm4gMTtcbiAgICAgICAgICAgIGlmICh0ID09PSByZS5tYXBWYWx1ZSkgcmV0dXJuIC0xO1xuICAgICAgICAgICAgY29uc3QgbiA9IGUuZmllbGRzIHx8IHt9LCByID0gT2JqZWN0LmtleXMobiksIGkgPSB0LmZpZWxkcyB8fCB7fSwgcyA9IE9iamVjdC5rZXlzKGkpO1xuICAgICAgICAgICAgLy8gRXZlbiB0aG91Z2ggTWFwVmFsdWVzIGFyZSBsaWtlbHkgc29ydGVkIGNvcnJlY3RseSBiYXNlZCBvbiB0aGVpciBpbnNlcnRpb25cbiAgICAgICAgICAgIC8vIG9yZGVyIChlLmcuIHdoZW4gcmVjZWl2ZWQgZnJvbSB0aGUgYmFja2VuZCksIGxvY2FsIG1vZGlmaWNhdGlvbnMgY2FuIGJyaW5nXG4gICAgICAgICAgICAvLyBlbGVtZW50cyBvdXQgb2Ygb3JkZXIuIFdlIG5lZWQgdG8gcmUtc29ydCB0aGUgZWxlbWVudHMgdG8gZW5zdXJlIHRoYXRcbiAgICAgICAgICAgIC8vIGNhbm9uaWNhbCBJRHMgYXJlIGluZGVwZW5kZW50IG9mIGluc2VydGlvbiBvcmRlci5cbiAgICAgICAgICAgIHIuc29ydCgpLCBzLnNvcnQoKTtcbiAgICAgICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgci5sZW5ndGggJiYgZSA8IHMubGVuZ3RoOyArK2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IocltlXSwgc1tlXSk7XG4gICAgICAgICAgICAgICAgaWYgKDAgIT09IHQpIHJldHVybiB0O1xuICAgICAgICAgICAgICAgIGNvbnN0IG8gPSBfX1BSSVZBVEVfdmFsdWVDb21wYXJlKG5bcltlXV0sIGlbc1tlXV0pO1xuICAgICAgICAgICAgICAgIGlmICgwICE9PSBvKSByZXR1cm4gbztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihyLmxlbmd0aCwgcy5sZW5ndGgpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogR2VuZXJhdGVzIHRoZSBjYW5vbmljYWwgSUQgZm9yIHRoZSBwcm92aWRlZCBmaWVsZCB2YWx1ZSAoYXMgdXNlZCBpbiBUYXJnZXRcbiAqIHNlcmlhbGl6YXRpb24pLlxuICovIChlLm1hcFZhbHVlLCB0Lm1hcFZhbHVlKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvbXBhcmVUaW1lc3RhbXBzKGUsIHQpIHtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiB0ICYmIGUubGVuZ3RoID09PSB0Lmxlbmd0aCkgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUsIHQpO1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbm9ybWFsaXplVGltZXN0YW1wKGUpLCByID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcCh0KSwgaSA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG4uc2Vjb25kcywgci5zZWNvbmRzKTtcbiAgICByZXR1cm4gMCAhPT0gaSA/IGkgOiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuLm5hbm9zLCByLm5hbm9zKTtcbn1cblxuZnVuY3Rpb24gY2Fub25pY2FsSWQoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfY2Fub25pZnlWYWx1ZShlKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Nhbm9uaWZ5VmFsdWUoZSkge1xuICAgIHJldHVybiBcIm51bGxWYWx1ZVwiIGluIGUgPyBcIm51bGxcIiA6IFwiYm9vbGVhblZhbHVlXCIgaW4gZSA/IFwiXCIgKyBlLmJvb2xlYW5WYWx1ZSA6IFwiaW50ZWdlclZhbHVlXCIgaW4gZSA/IFwiXCIgKyBlLmludGVnZXJWYWx1ZSA6IFwiZG91YmxlVmFsdWVcIiBpbiBlID8gXCJcIiArIGUuZG91YmxlVmFsdWUgOiBcInRpbWVzdGFtcFZhbHVlXCIgaW4gZSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeVRpbWVzdGFtcChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbm9ybWFsaXplVGltZXN0YW1wKGUpO1xuICAgICAgICByZXR1cm4gYHRpbWUoJHt0LnNlY29uZHN9LCR7dC5uYW5vc30pYDtcbiAgICB9KGUudGltZXN0YW1wVmFsdWUpIDogXCJzdHJpbmdWYWx1ZVwiIGluIGUgPyBlLnN0cmluZ1ZhbHVlIDogXCJieXRlc1ZhbHVlXCIgaW4gZSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeUJ5dGVTdHJpbmcoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX25vcm1hbGl6ZUJ5dGVTdHJpbmcoZSkudG9CYXNlNjQoKTtcbiAgICB9KGUuYnl0ZXNWYWx1ZSkgOiBcInJlZmVyZW5jZVZhbHVlXCIgaW4gZSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeVJlZmVyZW5jZShlKSB7XG4gICAgICAgIHJldHVybiBEb2N1bWVudEtleS5mcm9tTmFtZShlKS50b1N0cmluZygpO1xuICAgIH0oZS5yZWZlcmVuY2VWYWx1ZSkgOiBcImdlb1BvaW50VmFsdWVcIiBpbiBlID8gZnVuY3Rpb24gX19QUklWQVRFX2Nhbm9uaWZ5R2VvUG9pbnQoZSkge1xuICAgICAgICByZXR1cm4gYGdlbygke2UubGF0aXR1ZGV9LCR7ZS5sb25naXR1ZGV9KWA7XG4gICAgfShlLmdlb1BvaW50VmFsdWUpIDogXCJhcnJheVZhbHVlXCIgaW4gZSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeUFycmF5KGUpIHtcbiAgICAgICAgbGV0IHQgPSBcIltcIiwgbiA9ICEwO1xuICAgICAgICBmb3IgKGNvbnN0IHIgb2YgZS52YWx1ZXMgfHwgW10pIG4gPyBuID0gITEgOiB0ICs9IFwiLFwiLCB0ICs9IF9fUFJJVkFURV9jYW5vbmlmeVZhbHVlKHIpO1xuICAgICAgICByZXR1cm4gdCArIFwiXVwiO1xuICAgIH1cbiAgICAvKipcbiAqIFJldHVybnMgYW4gYXBwcm94aW1hdGUgKGFuZCB3aWxkbHkgaW5hY2N1cmF0ZSkgaW4tbWVtb3J5IHNpemUgZm9yIHRoZSBmaWVsZFxuICogdmFsdWUuXG4gKlxuICogVGhlIG1lbW9yeSBzaXplIHRha2VzIGludG8gYWNjb3VudCBvbmx5IHRoZSBhY3R1YWwgdXNlciBkYXRhIGFzIGl0IHJlc2lkZXNcbiAqIGluIG1lbW9yeSBhbmQgaWdub3JlcyBvYmplY3Qgb3ZlcmhlYWQuXG4gKi8gKGUuYXJyYXlWYWx1ZSkgOiBcIm1hcFZhbHVlXCIgaW4gZSA/IGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeU1hcChlKSB7XG4gICAgICAgIC8vIEl0ZXJhdGlvbiBvcmRlciBpbiBKYXZhU2NyaXB0IGlzIG5vdCBndWFyYW50ZWVkLiBUbyBlbnN1cmUgdGhhdCB3ZSBnZW5lcmF0ZVxuICAgICAgICAvLyBtYXRjaGluZyBjYW5vbmljYWwgSURzIGZvciBpZGVudGljYWwgbWFwcywgd2UgbmVlZCB0byBzb3J0IHRoZSBrZXlzLlxuICAgICAgICBjb25zdCB0ID0gT2JqZWN0LmtleXMoZS5maWVsZHMgfHwge30pLnNvcnQoKTtcbiAgICAgICAgbGV0IG4gPSBcIntcIiwgciA9ICEwO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2YgdCkgciA/IHIgPSAhMSA6IG4gKz0gXCIsXCIsIG4gKz0gYCR7aX06JHtfX1BSSVZBVEVfY2Fub25pZnlWYWx1ZShlLmZpZWxkc1tpXSl9YDtcbiAgICAgICAgcmV0dXJuIG4gKyBcIn1cIjtcbiAgICB9KGUubWFwVmFsdWUpIDogZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZXN0aW1hdGVCeXRlU2l6ZShlKSB7XG4gICAgc3dpdGNoIChfX1BSSVZBVEVfdHlwZU9yZGVyKGUpKSB7XG4gICAgICBjYXNlIDAgLyogVHlwZU9yZGVyLk51bGxWYWx1ZSAqLyA6XG4gICAgICBjYXNlIDEgLyogVHlwZU9yZGVyLkJvb2xlYW5WYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiA0O1xuXG4gICAgICBjYXNlIDIgLyogVHlwZU9yZGVyLk51bWJlclZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIDg7XG5cbiAgICAgIGNhc2UgMyAvKiBUeXBlT3JkZXIuVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgY2FzZSA4IC8qIFR5cGVPcmRlci5HZW9Qb2ludFZhbHVlICovIDpcbiAgICAgICAgLy8gR2VvUG9pbnRzIGFyZSBtYWRlIHVwIG9mIHR3byBkaXN0aW5jdCBudW1iZXJzIChsYXRpdHVkZSArIGxvbmdpdHVkZSlcbiAgICAgICAgcmV0dXJuIDE2O1xuXG4gICAgICBjYXNlIDQgLyogVHlwZU9yZGVyLlNlcnZlclRpbWVzdGFtcFZhbHVlICovIDpcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9nZXRQcmV2aW91c1ZhbHVlKGUpO1xuICAgICAgICByZXR1cm4gdCA/IDE2ICsgX19QUklWQVRFX2VzdGltYXRlQnl0ZVNpemUodCkgOiAxNjtcblxuICAgICAgY2FzZSA1IC8qIFR5cGVPcmRlci5TdHJpbmdWYWx1ZSAqLyA6XG4gICAgICAgIC8vIFNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L0RhdGFfc3RydWN0dXJlczpcbiAgICAgICAgLy8gXCJKYXZhU2NyaXB0J3MgU3RyaW5nIHR5cGUgaXMgWy4uLl0gYSBzZXQgb2YgZWxlbWVudHMgb2YgMTYtYml0IHVuc2lnbmVkXG4gICAgICAgIC8vIGludGVnZXIgdmFsdWVzXCJcbiAgICAgICAgcmV0dXJuIDIgKiBlLnN0cmluZ1ZhbHVlLmxlbmd0aDtcblxuICAgICAgY2FzZSA2IC8qIFR5cGVPcmRlci5CbG9iVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX25vcm1hbGl6ZUJ5dGVTdHJpbmcoZS5ieXRlc1ZhbHVlKS5hcHByb3hpbWF0ZUJ5dGVTaXplKCk7XG5cbiAgICAgIGNhc2UgNyAvKiBUeXBlT3JkZXIuUmVmVmFsdWUgKi8gOlxuICAgICAgICByZXR1cm4gZS5yZWZlcmVuY2VWYWx1ZS5sZW5ndGg7XG5cbiAgICAgIGNhc2UgOSAvKiBUeXBlT3JkZXIuQXJyYXlWYWx1ZSAqLyA6XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZXN0aW1hdGVBcnJheUJ5dGVTaXplKGUpIHtcbiAgICAgICAgICAgIHJldHVybiAoZS52YWx1ZXMgfHwgW10pLnJlZHVjZSgoKGUsIHQpID0+IGUgKyBfX1BSSVZBVEVfZXN0aW1hdGVCeXRlU2l6ZSh0KSksIDApO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBSZXR1cm5zIGEgcmVmZXJlbmNlIHZhbHVlIGZvciB0aGUgcHJvdmlkZWQgZGF0YWJhc2UgYW5kIGtleS4gKi8gKGUuYXJyYXlWYWx1ZSk7XG5cbiAgICAgIGNhc2UgMTAgLyogVHlwZU9yZGVyLk9iamVjdFZhbHVlICovIDpcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9lc3RpbWF0ZU1hcEJ5dGVTaXplKGUpIHtcbiAgICAgICAgICAgIGxldCB0ID0gMDtcbiAgICAgICAgICAgIHJldHVybiBmb3JFYWNoKGUuZmllbGRzLCAoKGUsIG4pID0+IHtcbiAgICAgICAgICAgICAgICB0ICs9IGUubGVuZ3RoICsgX19QUklWQVRFX2VzdGltYXRlQnl0ZVNpemUobik7XG4gICAgICAgICAgICB9KSksIHQ7XG4gICAgICAgIH0oZS5tYXBWYWx1ZSk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IGZhaWwoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9yZWZWYWx1ZShlLCB0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVmZXJlbmNlVmFsdWU6IGBwcm9qZWN0cy8ke2UucHJvamVjdElkfS9kYXRhYmFzZXMvJHtlLmRhdGFiYXNlfS9kb2N1bWVudHMvJHt0LnBhdGguY2Fub25pY2FsU3RyaW5nKCl9YFxuICAgIH07XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBhbiBJbnRlZ2VyVmFsdWUgLiAqLyBmdW5jdGlvbiBpc0ludGVnZXIoZSkge1xuICAgIHJldHVybiAhIWUgJiYgXCJpbnRlZ2VyVmFsdWVcIiBpbiBlO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYSBEb3VibGVWYWx1ZS4gKi9cbi8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBhbiBBcnJheVZhbHVlLiAqL1xuZnVuY3Rpb24gaXNBcnJheShlKSB7XG4gICAgcmV0dXJuICEhZSAmJiBcImFycmF5VmFsdWVcIiBpbiBlO1xufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIGB2YWx1ZWAgaXMgYSBOdWxsVmFsdWUuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pc051bGxWYWx1ZShlKSB7XG4gICAgcmV0dXJuICEhZSAmJiBcIm51bGxWYWx1ZVwiIGluIGU7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBOYU4uICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pc05hblZhbHVlKGUpIHtcbiAgICByZXR1cm4gISFlICYmIFwiZG91YmxlVmFsdWVcIiBpbiBlICYmIGlzTmFOKE51bWJlcihlLmRvdWJsZVZhbHVlKSk7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBhIE1hcFZhbHVlLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNNYXBWYWx1ZShlKSB7XG4gICAgcmV0dXJuICEhZSAmJiBcIm1hcFZhbHVlXCIgaW4gZTtcbn1cblxuLyoqIENyZWF0ZXMgYSBkZWVwIGNvcHkgb2YgYHNvdXJjZWAuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9kZWVwQ2xvbmUoZSkge1xuICAgIGlmIChlLmdlb1BvaW50VmFsdWUpIHJldHVybiB7XG4gICAgICAgIGdlb1BvaW50VmFsdWU6IE9iamVjdC5hc3NpZ24oe30sIGUuZ2VvUG9pbnRWYWx1ZSlcbiAgICB9O1xuICAgIGlmIChlLnRpbWVzdGFtcFZhbHVlICYmIFwib2JqZWN0XCIgPT0gdHlwZW9mIGUudGltZXN0YW1wVmFsdWUpIHJldHVybiB7XG4gICAgICAgIHRpbWVzdGFtcFZhbHVlOiBPYmplY3QuYXNzaWduKHt9LCBlLnRpbWVzdGFtcFZhbHVlKVxuICAgIH07XG4gICAgaWYgKGUubWFwVmFsdWUpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiB7fVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZm9yRWFjaChlLm1hcFZhbHVlLmZpZWxkcywgKChlLCBuKSA9PiB0Lm1hcFZhbHVlLmZpZWxkc1tlXSA9IF9fUFJJVkFURV9kZWVwQ2xvbmUobikpKSwgXG4gICAgICAgIHQ7XG4gICAgfVxuICAgIGlmIChlLmFycmF5VmFsdWUpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIGFycmF5VmFsdWU6IHtcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgKGUuYXJyYXlWYWx1ZS52YWx1ZXMgfHwgW10pLmxlbmd0aDsgKytuKSB0LmFycmF5VmFsdWUudmFsdWVzW25dID0gX19QUklWQVRFX2RlZXBDbG9uZShlLmFycmF5VmFsdWUudmFsdWVzW25dKTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBlKTtcbn1cblxuLyoqIFJldHVybnMgdHJ1ZSBpZiB0aGUgVmFsdWUgcmVwcmVzZW50cyB0aGUgY2Fub25pY2FsIHtAbGluayAjTUFYX1ZBTFVFfSAuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pc01heFZhbHVlKGUpIHtcbiAgICByZXR1cm4gXCJfX21heF9fXCIgPT09ICgoKGUubWFwVmFsdWUgfHwge30pLmZpZWxkcyB8fCB7fSkuX190eXBlX18gfHwge30pLnN0cmluZ1ZhbHVlO1xufVxuXG4vKiogUmV0dXJucyB0aGUgbG93ZXN0IHZhbHVlIGZvciB0aGUgZ2l2ZW4gdmFsdWUgdHlwZSAoaW5jbHVzaXZlKS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbHVlc0dldExvd2VyQm91bmQoZSkge1xuICAgIHJldHVybiBcIm51bGxWYWx1ZVwiIGluIGUgPyBpZSA6IFwiYm9vbGVhblZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgYm9vbGVhblZhbHVlOiAhMVxuICAgIH0gOiBcImludGVnZXJWYWx1ZVwiIGluIGUgfHwgXCJkb3VibGVWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIGRvdWJsZVZhbHVlOiBOYU5cbiAgICB9IDogXCJ0aW1lc3RhbXBWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIHRpbWVzdGFtcFZhbHVlOiB7XG4gICAgICAgICAgICBzZWNvbmRzOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUlxuICAgICAgICB9XG4gICAgfSA6IFwic3RyaW5nVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBzdHJpbmdWYWx1ZTogXCJcIlxuICAgIH0gOiBcImJ5dGVzVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBieXRlc1ZhbHVlOiBcIlwiXG4gICAgfSA6IFwicmVmZXJlbmNlVmFsdWVcIiBpbiBlID8gX19QUklWQVRFX3JlZlZhbHVlKERhdGFiYXNlSWQuZW1wdHkoKSwgRG9jdW1lbnRLZXkuZW1wdHkoKSkgOiBcImdlb1BvaW50VmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBnZW9Qb2ludFZhbHVlOiB7XG4gICAgICAgICAgICBsYXRpdHVkZTogLTkwLFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiAtMTgwXG4gICAgICAgIH1cbiAgICB9IDogXCJhcnJheVZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgYXJyYXlWYWx1ZToge31cbiAgICB9IDogXCJtYXBWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIG1hcFZhbHVlOiB7fVxuICAgIH0gOiBmYWlsKCk7XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBsYXJnZXN0IHZhbHVlIGZvciB0aGUgZ2l2ZW4gdmFsdWUgdHlwZSAoZXhjbHVzaXZlKS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbHVlc0dldFVwcGVyQm91bmQoZSkge1xuICAgIHJldHVybiBcIm51bGxWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIGJvb2xlYW5WYWx1ZTogITFcbiAgICB9IDogXCJib29sZWFuVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBkb3VibGVWYWx1ZTogTmFOXG4gICAgfSA6IFwiaW50ZWdlclZhbHVlXCIgaW4gZSB8fCBcImRvdWJsZVZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgdGltZXN0YW1wVmFsdWU6IHtcbiAgICAgICAgICAgIHNlY29uZHM6IE51bWJlci5NSU5fU0FGRV9JTlRFR0VSXG4gICAgICAgIH1cbiAgICB9IDogXCJ0aW1lc3RhbXBWYWx1ZVwiIGluIGUgPyB7XG4gICAgICAgIHN0cmluZ1ZhbHVlOiBcIlwiXG4gICAgfSA6IFwic3RyaW5nVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBieXRlc1ZhbHVlOiBcIlwiXG4gICAgfSA6IFwiYnl0ZXNWYWx1ZVwiIGluIGUgPyBfX1BSSVZBVEVfcmVmVmFsdWUoRGF0YWJhc2VJZC5lbXB0eSgpLCBEb2N1bWVudEtleS5lbXB0eSgpKSA6IFwicmVmZXJlbmNlVmFsdWVcIiBpbiBlID8ge1xuICAgICAgICBnZW9Qb2ludFZhbHVlOiB7XG4gICAgICAgICAgICBsYXRpdHVkZTogLTkwLFxuICAgICAgICAgICAgbG9uZ2l0dWRlOiAtMTgwXG4gICAgICAgIH1cbiAgICB9IDogXCJnZW9Qb2ludFZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgYXJyYXlWYWx1ZToge31cbiAgICB9IDogXCJhcnJheVZhbHVlXCIgaW4gZSA/IHtcbiAgICAgICAgbWFwVmFsdWU6IHt9XG4gICAgfSA6IFwibWFwVmFsdWVcIiBpbiBlID8gcmUgOiBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb3dlckJvdW5kQ29tcGFyZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV92YWx1ZUNvbXBhcmUoZS52YWx1ZSwgdC52YWx1ZSk7XG4gICAgcmV0dXJuIDAgIT09IG4gPyBuIDogZS5pbmNsdXNpdmUgJiYgIXQuaW5jbHVzaXZlID8gLTEgOiAhZS5pbmNsdXNpdmUgJiYgdC5pbmNsdXNpdmUgPyAxIDogMDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3VwcGVyQm91bmRDb21wYXJlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX3ZhbHVlQ29tcGFyZShlLnZhbHVlLCB0LnZhbHVlKTtcbiAgICByZXR1cm4gMCAhPT0gbiA/IG4gOiBlLmluY2x1c2l2ZSAmJiAhdC5pbmNsdXNpdmUgPyAxIDogIWUuaW5jbHVzaXZlICYmIHQuaW5jbHVzaXZlID8gLTEgOiAwO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBPYmplY3RWYWx1ZSByZXByZXNlbnRzIGEgTWFwVmFsdWUgaW4gdGhlIEZpcmVzdG9yZSBQcm90byBhbmQgb2ZmZXJzIHRoZVxuICogYWJpbGl0eSB0byBhZGQgYW5kIHJlbW92ZSBmaWVsZHMgKHZpYSB0aGUgT2JqZWN0VmFsdWVCdWlsZGVyKS5cbiAqLyBjbGFzcyBPYmplY3RWYWx1ZSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLnZhbHVlID0gZTtcbiAgICB9XG4gICAgc3RhdGljIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdFZhbHVlKHtcbiAgICAgICAgICAgIG1hcFZhbHVlOiB7fVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgYXQgdGhlIGdpdmVuIHBhdGggb3IgbnVsbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gdGhlIHBhdGggdG8gc2VhcmNoXG4gICAgICogQHJldHVybnMgVGhlIHZhbHVlIGF0IHRoZSBwYXRoIG9yIG51bGwgaWYgdGhlIHBhdGggaXMgbm90IHNldC5cbiAgICAgKi8gICAgZmllbGQoZSkge1xuICAgICAgICBpZiAoZS5pc0VtcHR5KCkpIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdCA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUubGVuZ3RoIC0gMTsgKytuKSBpZiAodCA9ICh0Lm1hcFZhbHVlLmZpZWxkcyB8fCB7fSlbZS5nZXQobildLCBcbiAgICAgICAgICAgICFfX1BSSVZBVEVfaXNNYXBWYWx1ZSh0KSkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICByZXR1cm4gdCA9ICh0Lm1hcFZhbHVlLmZpZWxkcyB8fCB7fSlbZS5sYXN0U2VnbWVudCgpXSwgdCB8fCBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGZpZWxkIHRvIHRoZSBwcm92aWRlZCB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIGZpZWxkIHBhdGggdG8gc2V0LlxuICAgICAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICovICAgIHNldChlLCB0KSB7XG4gICAgICAgIHRoaXMuZ2V0RmllbGRzTWFwKGUucG9wTGFzdCgpKVtlLmxhc3RTZWdtZW50KCldID0gX19QUklWQVRFX2RlZXBDbG9uZSh0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcHJvdmlkZWQgZmllbGRzIHRvIHRoZSBwcm92aWRlZCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZGF0YSAtIEEgbWFwIG9mIGZpZWxkcyB0byB2YWx1ZXMgKG9yIG51bGwgZm9yIGRlbGV0ZXMpLlxuICAgICAqLyAgICBzZXRBbGwoZSkge1xuICAgICAgICBsZXQgdCA9IEZpZWxkUGF0aCQxLmVtcHR5UGF0aCgpLCBuID0ge30sIHIgPSBbXTtcbiAgICAgICAgZS5mb3JFYWNoKCgoZSwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0LmlzSW1tZWRpYXRlUGFyZW50T2YoaSkpIHtcbiAgICAgICAgICAgICAgICAvLyBJbnNlcnQgdGhlIGFjY3VtdWxhdGVkIGNoYW5nZXMgYXQgdGhpcyBwYXJlbnQgbG9jYXRpb25cbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5nZXRGaWVsZHNNYXAodCk7XG4gICAgICAgICAgICAgICAgdGhpcy5hcHBseUNoYW5nZXMoZSwgbiwgciksIG4gPSB7fSwgciA9IFtdLCB0ID0gaS5wb3BMYXN0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlID8gbltpLmxhc3RTZWdtZW50KCldID0gX19QUklWQVRFX2RlZXBDbG9uZShlKSA6IHIucHVzaChpLmxhc3RTZWdtZW50KCkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLmdldEZpZWxkc01hcCh0KTtcbiAgICAgICAgdGhpcy5hcHBseUNoYW5nZXMoaSwgbiwgcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGZpZWxkIGF0IHRoZSBzcGVjaWZpZWQgcGF0aC4gSWYgdGhlcmUgaXMgbm8gZmllbGQgYXQgdGhlXG4gICAgICogc3BlY2lmaWVkIHBhdGgsIG5vdGhpbmcgaXMgY2hhbmdlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXRoIC0gVGhlIGZpZWxkIHBhdGggdG8gcmVtb3ZlLlxuICAgICAqLyAgICBkZWxldGUoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5maWVsZChlLnBvcExhc3QoKSk7XG4gICAgICAgIF9fUFJJVkFURV9pc01hcFZhbHVlKHQpICYmIHQubWFwVmFsdWUuZmllbGRzICYmIGRlbGV0ZSB0Lm1hcFZhbHVlLmZpZWxkc1tlLmxhc3RTZWdtZW50KCldO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV92YWx1ZUVxdWFscyh0aGlzLnZhbHVlLCBlLnZhbHVlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbWFwIHRoYXQgY29udGFpbnMgdGhlIGxlYWYgZWxlbWVudCBvZiBgcGF0aGAuIElmIHRoZSBwYXJlbnRcbiAgICAgKiBlbnRyeSBkb2VzIG5vdCB5ZXQgZXhpc3QsIG9yIGlmIGl0IGlzIG5vdCBhIG1hcCwgYSBuZXcgbWFwIHdpbGwgYmUgY3JlYXRlZC5cbiAgICAgKi8gICAgZ2V0RmllbGRzTWFwKGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLnZhbHVlO1xuICAgICAgICB0Lm1hcFZhbHVlLmZpZWxkcyB8fCAodC5tYXBWYWx1ZSA9IHtcbiAgICAgICAgICAgIGZpZWxkczoge31cbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5sZW5ndGg7ICsrbikge1xuICAgICAgICAgICAgbGV0IHIgPSB0Lm1hcFZhbHVlLmZpZWxkc1tlLmdldChuKV07XG4gICAgICAgICAgICBfX1BSSVZBVEVfaXNNYXBWYWx1ZShyKSAmJiByLm1hcFZhbHVlLmZpZWxkcyB8fCAociA9IHtcbiAgICAgICAgICAgICAgICBtYXBWYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHt9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdC5tYXBWYWx1ZS5maWVsZHNbZS5nZXQobildID0gciksIHQgPSByO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0Lm1hcFZhbHVlLmZpZWxkcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgYGZpZWxkc01hcGAgYnkgYWRkaW5nLCByZXBsYWNpbmcgb3IgZGVsZXRpbmcgdGhlIHNwZWNpZmllZFxuICAgICAqIGVudHJpZXMuXG4gICAgICovICAgIGFwcGx5Q2hhbmdlcyhlLCB0LCBuKSB7XG4gICAgICAgIGZvckVhY2godCwgKCh0LCBuKSA9PiBlW3RdID0gbikpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgbikgZGVsZXRlIGVbdF07XG4gICAgfVxuICAgIGNsb25lKCkge1xuICAgICAgICByZXR1cm4gbmV3IE9iamVjdFZhbHVlKF9fUFJJVkFURV9kZWVwQ2xvbmUodGhpcy52YWx1ZSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgRmllbGRNYXNrIGJ1aWx0IGZyb20gYWxsIGZpZWxkcyBpbiBhIE1hcFZhbHVlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9leHRyYWN0RmllbGRNYXNrKGUpIHtcbiAgICBjb25zdCB0ID0gW107XG4gICAgcmV0dXJuIGZvckVhY2goZS5maWVsZHMsICgoZSwgbikgPT4ge1xuICAgICAgICBjb25zdCByID0gbmV3IEZpZWxkUGF0aCQxKFsgZSBdKTtcbiAgICAgICAgaWYgKF9fUFJJVkFURV9pc01hcFZhbHVlKG4pKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gX19QUklWQVRFX2V4dHJhY3RGaWVsZE1hc2sobi5tYXBWYWx1ZSkuZmllbGRzO1xuICAgICAgICAgICAgaWYgKDAgPT09IGUubGVuZ3RoKSBcbiAgICAgICAgICAgIC8vIFByZXNlcnZlIHRoZSBlbXB0eSBtYXAgYnkgYWRkaW5nIGl0IHRvIHRoZSBGaWVsZE1hc2suXG4gICAgICAgICAgICB0LnB1c2gocik7IGVsc2UgXG4gICAgICAgICAgICAvLyBGb3IgbmVzdGVkIGFuZCBub24tZW1wdHkgT2JqZWN0VmFsdWVzLCBhZGQgdGhlIEZpZWxkUGF0aCBvZiB0aGVcbiAgICAgICAgICAgIC8vIGxlYWYgbm9kZXMuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgZSkgdC5wdXNoKHIuY2hpbGQobikpO1xuICAgICAgICB9IGVsc2UgXG4gICAgICAgIC8vIEZvciBuZXN0ZWQgYW5kIG5vbi1lbXB0eSBPYmplY3RWYWx1ZXMsIGFkZCB0aGUgRmllbGRQYXRoIG9mIHRoZSBsZWFmXG4gICAgICAgIC8vIG5vZGVzLlxuICAgICAgICB0LnB1c2gocik7XG4gICAgfSkpLCBuZXcgRmllbGRNYXNrKHQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgZG9jdW1lbnQgaW4gRmlyZXN0b3JlIHdpdGggYSBrZXksIHZlcnNpb24sIGRhdGEgYW5kIHdoZXRoZXIgaXRcbiAqIGhhcyBsb2NhbCBtdXRhdGlvbnMgYXBwbGllZCB0byBpdC5cbiAqXG4gKiBEb2N1bWVudHMgY2FuIHRyYW5zaXRpb24gYmV0d2VlbiBzdGF0ZXMgdmlhIGBjb252ZXJ0VG9Gb3VuZERvY3VtZW50KClgLFxuICogYGNvbnZlcnRUb05vRG9jdW1lbnQoKWAgYW5kIGBjb252ZXJ0VG9Vbmtub3duRG9jdW1lbnQoKWAuIElmIGEgZG9jdW1lbnQgZG9lc1xuICogbm90IHRyYW5zaXRpb24gdG8gb25lIG9mIHRoZXNlIHN0YXRlcyBldmVuIGFmdGVyIGFsbCBtdXRhdGlvbnMgaGF2ZSBiZWVuXG4gKiBhcHBsaWVkLCBgaXNWYWxpZERvY3VtZW50KClgIHJldHVybnMgZmFsc2UgYW5kIHRoZSBkb2N1bWVudCBzaG91bGQgYmUgcmVtb3ZlZFxuICogZnJvbSBhbGwgdmlld3MuXG4gKi8gY2xhc3MgTXV0YWJsZURvY3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpLCBzLCBvKSB7XG4gICAgICAgIHRoaXMua2V5ID0gZSwgdGhpcy5kb2N1bWVudFR5cGUgPSB0LCB0aGlzLnZlcnNpb24gPSBuLCB0aGlzLnJlYWRUaW1lID0gciwgdGhpcy5jcmVhdGVUaW1lID0gaSwgXG4gICAgICAgIHRoaXMuZGF0YSA9IHMsIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IG87XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkb2N1bWVudCB3aXRoIG5vIGtub3duIHZlcnNpb24gb3IgZGF0YSwgYnV0IHdoaWNoIGNhbiBzZXJ2ZSBhc1xuICAgICAqIGJhc2UgZG9jdW1lbnQgZm9yIG11dGF0aW9ucy5cbiAgICAgKi8gICAgc3RhdGljIG5ld0ludmFsaWREb2N1bWVudChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXV0YWJsZURvY3VtZW50KGUsIDAgLyogRG9jdW1lbnRUeXBlLklOVkFMSUQgKi8gLCBcbiAgICAgICAgLyogdmVyc2lvbiAqLyBTbmFwc2hvdFZlcnNpb24ubWluKCksIFxuICAgICAgICAvKiByZWFkVGltZSAqLyBTbmFwc2hvdFZlcnNpb24ubWluKCksIFxuICAgICAgICAvKiBjcmVhdGVUaW1lICovIFNuYXBzaG90VmVyc2lvbi5taW4oKSwgT2JqZWN0VmFsdWUuZW1wdHkoKSwgMCAvKiBEb2N1bWVudFN0YXRlLlNZTkNFRCAqLyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZG9jdW1lbnQgdGhhdCBpcyBrbm93biB0byBleGlzdCB3aXRoIHRoZSBnaXZlbiBkYXRhIGF0IHRoZVxuICAgICAqIGdpdmVuIHZlcnNpb24uXG4gICAgICovICAgIHN0YXRpYyBuZXdGb3VuZERvY3VtZW50KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdXRhYmxlRG9jdW1lbnQoZSwgMSAvKiBEb2N1bWVudFR5cGUuRk9VTkRfRE9DVU1FTlQgKi8gLCBcbiAgICAgICAgLyogdmVyc2lvbiAqLyB0LCBcbiAgICAgICAgLyogcmVhZFRpbWUgKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogY3JlYXRlVGltZSAqLyBuLCByLCAwIC8qIERvY3VtZW50U3RhdGUuU1lOQ0VEICovKTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgZG9jdW1lbnQgdGhhdCBpcyBrbm93biB0byBub3QgZXhpc3QgYXQgdGhlIGdpdmVuIHZlcnNpb24uICovICAgIHN0YXRpYyBuZXdOb0RvY3VtZW50KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdXRhYmxlRG9jdW1lbnQoZSwgMiAvKiBEb2N1bWVudFR5cGUuTk9fRE9DVU1FTlQgKi8gLCBcbiAgICAgICAgLyogdmVyc2lvbiAqLyB0LCBcbiAgICAgICAgLyogcmVhZFRpbWUgKi8gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogY3JlYXRlVGltZSAqLyBTbmFwc2hvdFZlcnNpb24ubWluKCksIE9iamVjdFZhbHVlLmVtcHR5KCksIDAgLyogRG9jdW1lbnRTdGF0ZS5TWU5DRUQgKi8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGRvY3VtZW50IHRoYXQgaXMga25vd24gdG8gZXhpc3QgYXQgdGhlIGdpdmVuIHZlcnNpb24gYnV0XG4gICAgICogd2hvc2UgZGF0YSBpcyBub3Qga25vd24gKGUuZy4gYSBkb2N1bWVudCB0aGF0IHdhcyB1cGRhdGVkIHdpdGhvdXQgYSBrbm93blxuICAgICAqIGJhc2UgZG9jdW1lbnQpLlxuICAgICAqLyAgICBzdGF0aWMgbmV3VW5rbm93bkRvY3VtZW50KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNdXRhYmxlRG9jdW1lbnQoZSwgMyAvKiBEb2N1bWVudFR5cGUuVU5LTk9XTl9ET0NVTUVOVCAqLyAsIFxuICAgICAgICAvKiB2ZXJzaW9uICovIHQsIFxuICAgICAgICAvKiByZWFkVGltZSAqLyBTbmFwc2hvdFZlcnNpb24ubWluKCksIFxuICAgICAgICAvKiBjcmVhdGVUaW1lICovIFNuYXBzaG90VmVyc2lvbi5taW4oKSwgT2JqZWN0VmFsdWUuZW1wdHkoKSwgMiAvKiBEb2N1bWVudFN0YXRlLkhBU19DT01NSVRURURfTVVUQVRJT05TICovKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgZG9jdW1lbnQgdHlwZSB0byBpbmRpY2F0ZSB0aGF0IGl0IGV4aXN0cyBhbmQgdGhhdCBpdHMgdmVyc2lvblxuICAgICAqIGFuZCBkYXRhIGFyZSBrbm93bi5cbiAgICAgKi8gICAgY29udmVydFRvRm91bmREb2N1bWVudChlLCB0KSB7XG4gICAgICAgIC8vIElmIGEgZG9jdW1lbnQgaXMgc3dpdGNoaW5nIHN0YXRlIGZyb20gYmVpbmcgYW4gaW52YWxpZCBvciBkZWxldGVkXG4gICAgICAgIC8vIGRvY3VtZW50IHRvIGEgdmFsaWQgKEZPVU5EX0RPQ1VNRU5UKSBkb2N1bWVudCwgZWl0aGVyIGR1ZSB0byByZWNlaXZpbmcgYW5cbiAgICAgICAgLy8gdXBkYXRlIGZyb20gV2F0Y2ggb3IgZHVlIHRvIGFwcGx5aW5nIGEgbG9jYWwgc2V0IG11dGF0aW9uIG9uIHRvcFxuICAgICAgICAvLyBvZiBhIGRlbGV0ZWQgZG9jdW1lbnQsIG91ciBiZXN0IGd1ZXNzIGFib3V0IGl0cyBjcmVhdGVUaW1lIHdvdWxkIGJlIHRoZVxuICAgICAgICAvLyB2ZXJzaW9uIGF0IHdoaWNoIHRoZSBkb2N1bWVudCB0cmFuc2l0aW9uZWQgdG8gYSBGT1VORF9ET0NVTUVOVC5cbiAgICAgICAgcmV0dXJuICF0aGlzLmNyZWF0ZVRpbWUuaXNFcXVhbChTbmFwc2hvdFZlcnNpb24ubWluKCkpIHx8IDIgLyogRG9jdW1lbnRUeXBlLk5PX0RPQ1VNRU5UICovICE9PSB0aGlzLmRvY3VtZW50VHlwZSAmJiAwIC8qIERvY3VtZW50VHlwZS5JTlZBTElEICovICE9PSB0aGlzLmRvY3VtZW50VHlwZSB8fCAodGhpcy5jcmVhdGVUaW1lID0gZSksIFxuICAgICAgICB0aGlzLnZlcnNpb24gPSBlLCB0aGlzLmRvY3VtZW50VHlwZSA9IDEgLyogRG9jdW1lbnRUeXBlLkZPVU5EX0RPQ1VNRU5UICovICwgdGhpcy5kYXRhID0gdCwgXG4gICAgICAgIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDAgLyogRG9jdW1lbnRTdGF0ZS5TWU5DRUQgKi8gLCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBkb2N1bWVudCB0eXBlIHRvIGluZGljYXRlIHRoYXQgaXQgZG9lc24ndCBleGlzdCBhdCB0aGUgZ2l2ZW5cbiAgICAgKiB2ZXJzaW9uLlxuICAgICAqLyAgICBjb252ZXJ0VG9Ob0RvY3VtZW50KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmVyc2lvbiA9IGUsIHRoaXMuZG9jdW1lbnRUeXBlID0gMiAvKiBEb2N1bWVudFR5cGUuTk9fRE9DVU1FTlQgKi8gLCBcbiAgICAgICAgdGhpcy5kYXRhID0gT2JqZWN0VmFsdWUuZW1wdHkoKSwgdGhpcy5kb2N1bWVudFN0YXRlID0gMCAvKiBEb2N1bWVudFN0YXRlLlNZTkNFRCAqLyAsIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGFuZ2VzIHRoZSBkb2N1bWVudCB0eXBlIHRvIGluZGljYXRlIHRoYXQgaXQgZXhpc3RzIGF0IGEgZ2l2ZW4gdmVyc2lvbiBidXRcbiAgICAgKiB0aGF0IGl0cyBkYXRhIGlzIG5vdCBrbm93biAoZS5nLiBhIGRvY3VtZW50IHRoYXQgd2FzIHVwZGF0ZWQgd2l0aG91dCBhIGtub3duXG4gICAgICogYmFzZSBkb2N1bWVudCkuXG4gICAgICovICAgIGNvbnZlcnRUb1Vua25vd25Eb2N1bWVudChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZlcnNpb24gPSBlLCB0aGlzLmRvY3VtZW50VHlwZSA9IDMgLyogRG9jdW1lbnRUeXBlLlVOS05PV05fRE9DVU1FTlQgKi8gLCBcbiAgICAgICAgdGhpcy5kYXRhID0gT2JqZWN0VmFsdWUuZW1wdHkoKSwgdGhpcy5kb2N1bWVudFN0YXRlID0gMiAvKiBEb2N1bWVudFN0YXRlLkhBU19DT01NSVRURURfTVVUQVRJT05TICovICwgXG4gICAgICAgIHRoaXM7XG4gICAgfVxuICAgIHNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnRTdGF0ZSA9IDIgLyogRG9jdW1lbnRTdGF0ZS5IQVNfQ09NTUlUVEVEX01VVEFUSU9OUyAqLyAsIHRoaXM7XG4gICAgfVxuICAgIHNldEhhc0xvY2FsTXV0YXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudFN0YXRlID0gMSAvKiBEb2N1bWVudFN0YXRlLkhBU19MT0NBTF9NVVRBVElPTlMgKi8gLCB0aGlzLnZlcnNpb24gPSBTbmFwc2hvdFZlcnNpb24ubWluKCksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICBzZXRSZWFkVGltZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlYWRUaW1lID0gZSwgdGhpcztcbiAgICB9XG4gICAgZ2V0IGhhc0xvY2FsTXV0YXRpb25zKCkge1xuICAgICAgICByZXR1cm4gMSAvKiBEb2N1bWVudFN0YXRlLkhBU19MT0NBTF9NVVRBVElPTlMgKi8gPT09IHRoaXMuZG9jdW1lbnRTdGF0ZTtcbiAgICB9XG4gICAgZ2V0IGhhc0NvbW1pdHRlZE11dGF0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIDIgLyogRG9jdW1lbnRTdGF0ZS5IQVNfQ09NTUlUVEVEX01VVEFUSU9OUyAqLyA9PT0gdGhpcy5kb2N1bWVudFN0YXRlO1xuICAgIH1cbiAgICBnZXQgaGFzUGVuZGluZ1dyaXRlcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzTG9jYWxNdXRhdGlvbnMgfHwgdGhpcy5oYXNDb21taXR0ZWRNdXRhdGlvbnM7XG4gICAgfVxuICAgIGlzVmFsaWREb2N1bWVudCgpIHtcbiAgICAgICAgcmV0dXJuIDAgLyogRG9jdW1lbnRUeXBlLklOVkFMSUQgKi8gIT09IHRoaXMuZG9jdW1lbnRUeXBlO1xuICAgIH1cbiAgICBpc0ZvdW5kRG9jdW1lbnQoKSB7XG4gICAgICAgIHJldHVybiAxIC8qIERvY3VtZW50VHlwZS5GT1VORF9ET0NVTUVOVCAqLyA9PT0gdGhpcy5kb2N1bWVudFR5cGU7XG4gICAgfVxuICAgIGlzTm9Eb2N1bWVudCgpIHtcbiAgICAgICAgcmV0dXJuIDIgLyogRG9jdW1lbnRUeXBlLk5PX0RPQ1VNRU5UICovID09PSB0aGlzLmRvY3VtZW50VHlwZTtcbiAgICB9XG4gICAgaXNVbmtub3duRG9jdW1lbnQoKSB7XG4gICAgICAgIHJldHVybiAzIC8qIERvY3VtZW50VHlwZS5VTktOT1dOX0RPQ1VNRU5UICovID09PSB0aGlzLmRvY3VtZW50VHlwZTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgTXV0YWJsZURvY3VtZW50ICYmIHRoaXMua2V5LmlzRXF1YWwoZS5rZXkpICYmIHRoaXMudmVyc2lvbi5pc0VxdWFsKGUudmVyc2lvbikgJiYgdGhpcy5kb2N1bWVudFR5cGUgPT09IGUuZG9jdW1lbnRUeXBlICYmIHRoaXMuZG9jdW1lbnRTdGF0ZSA9PT0gZS5kb2N1bWVudFN0YXRlICYmIHRoaXMuZGF0YS5pc0VxdWFsKGUuZGF0YSk7XG4gICAgfVxuICAgIG11dGFibGVDb3B5KCkge1xuICAgICAgICByZXR1cm4gbmV3IE11dGFibGVEb2N1bWVudCh0aGlzLmtleSwgdGhpcy5kb2N1bWVudFR5cGUsIHRoaXMudmVyc2lvbiwgdGhpcy5yZWFkVGltZSwgdGhpcy5jcmVhdGVUaW1lLCB0aGlzLmRhdGEuY2xvbmUoKSwgdGhpcy5kb2N1bWVudFN0YXRlKTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiBgRG9jdW1lbnQoJHt0aGlzLmtleX0sICR7dGhpcy52ZXJzaW9ufSwgJHtKU09OLnN0cmluZ2lmeSh0aGlzLmRhdGEudmFsdWUpfSwge2NyZWF0ZVRpbWU6ICR7dGhpcy5jcmVhdGVUaW1lfX0pLCB7ZG9jdW1lbnRUeXBlOiAke3RoaXMuZG9jdW1lbnRUeXBlfX0pLCB7ZG9jdW1lbnRTdGF0ZTogJHt0aGlzLmRvY3VtZW50U3RhdGV9fSlgO1xuICAgIH1cbn1cblxuLyoqXG4gKiBDb21wYXJlcyB0aGUgdmFsdWUgZm9yIGZpZWxkIGBmaWVsZGAgaW4gdGhlIHByb3ZpZGVkIGRvY3VtZW50cy4gVGhyb3dzIGlmXG4gKiB0aGUgZmllbGQgZG9lcyBub3QgZXhpc3QgaW4gYm90aCBkb2N1bWVudHMuXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBib3VuZCBvZiBhIHF1ZXJ5LlxuICpcbiAqIFRoZSBib3VuZCBpcyBzcGVjaWZpZWQgd2l0aCB0aGUgZ2l2ZW4gY29tcG9uZW50cyByZXByZXNlbnRpbmcgYSBwb3NpdGlvbiBhbmRcbiAqIHdoZXRoZXIgaXQncyBqdXN0IGJlZm9yZSBvciBqdXN0IGFmdGVyIHRoZSBwb3NpdGlvbiAocmVsYXRpdmUgdG8gd2hhdGV2ZXIgdGhlXG4gKiBxdWVyeSBvcmRlciBpcykuXG4gKlxuICogVGhlIHBvc2l0aW9uIHJlcHJlc2VudHMgYSBsb2dpY2FsIGluZGV4IHBvc2l0aW9uIGZvciBhIHF1ZXJ5LiBJdCdzIGEgcHJlZml4XG4gKiBvZiB2YWx1ZXMgZm9yIHRoZSAocG90ZW50aWFsbHkgaW1wbGljaXQpIG9yZGVyIGJ5IGNsYXVzZXMgb2YgYSBxdWVyeS5cbiAqXG4gKiBCb3VuZCBwcm92aWRlcyBhIGZ1bmN0aW9uIHRvIGRldGVybWluZSB3aGV0aGVyIGEgZG9jdW1lbnQgY29tZXMgYmVmb3JlIG9yXG4gKiBhZnRlciBhIGJvdW5kLiBUaGlzIGlzIGluZmx1ZW5jZWQgYnkgd2hldGhlciB0aGUgcG9zaXRpb24gaXMganVzdCBiZWZvcmUgb3JcbiAqIGp1c3QgYWZ0ZXIgdGhlIHByb3ZpZGVkIHZhbHVlcy5cbiAqL1xuY2xhc3MgQm91bmQge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5wb3NpdGlvbiA9IGUsIHRoaXMuaW5jbHVzaXZlID0gdDtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9ib3VuZENvbXBhcmVUb0RvY3VtZW50KGUsIHQsIG4pIHtcbiAgICBsZXQgciA9IDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBlLnBvc2l0aW9uLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0W2ldLCBvID0gZS5wb3NpdGlvbltpXTtcbiAgICAgICAgaWYgKHMuZmllbGQuaXNLZXlGaWVsZCgpKSByID0gRG9jdW1lbnRLZXkuY29tcGFyYXRvcihEb2N1bWVudEtleS5mcm9tTmFtZShvLnJlZmVyZW5jZVZhbHVlKSwgbi5rZXkpOyBlbHNlIHtcbiAgICAgICAgICAgIHIgPSBfX1BSSVZBVEVfdmFsdWVDb21wYXJlKG8sIG4uZGF0YS5maWVsZChzLmZpZWxkKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiZGVzY1wiIC8qIERpcmVjdGlvbi5ERVNDRU5ESU5HICovID09PSBzLmRpciAmJiAociAqPSAtMSksIDAgIT09IHIpIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYSBkb2N1bWVudCBzb3J0cyBhZnRlciBhIGJvdW5kIHVzaW5nIHRoZSBwcm92aWRlZCBzb3J0XG4gKiBvcmRlci5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYm91bmRFcXVhbHMoZSwgdCkge1xuICAgIGlmIChudWxsID09PSBlKSByZXR1cm4gbnVsbCA9PT0gdDtcbiAgICBpZiAobnVsbCA9PT0gdCkgcmV0dXJuICExO1xuICAgIGlmIChlLmluY2x1c2l2ZSAhPT0gdC5pbmNsdXNpdmUgfHwgZS5wb3NpdGlvbi5sZW5ndGggIT09IHQucG9zaXRpb24ubGVuZ3RoKSByZXR1cm4gITE7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLnBvc2l0aW9uLmxlbmd0aDsgbisrKSB7XG4gICAgICAgIGlmICghX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUucG9zaXRpb25bbl0sIHQucG9zaXRpb25bbl0pKSByZXR1cm4gITE7XG4gICAgfVxuICAgIHJldHVybiAhMDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gb3JkZXJpbmcgb24gYSBmaWVsZCwgaW4gc29tZSBEaXJlY3Rpb24uIERpcmVjdGlvbiBkZWZhdWx0cyB0byBBU0NFTkRJTkcuXG4gKi8gY2xhc3MgT3JkZXJCeSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCA9IFwiYXNjXCIgLyogRGlyZWN0aW9uLkFTQ0VORElORyAqLykge1xuICAgICAgICB0aGlzLmZpZWxkID0gZSwgdGhpcy5kaXIgPSB0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX29yZGVyQnlFcXVhbHMoZSwgdCkge1xuICAgIHJldHVybiBlLmRpciA9PT0gdC5kaXIgJiYgZS5maWVsZC5pc0VxdWFsKHQuZmllbGQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBGaWx0ZXIge31cblxuY2xhc3MgRmllbGRGaWx0ZXIgZXh0ZW5kcyBGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5maWVsZCA9IGUsIHRoaXMub3AgPSB0LCB0aGlzLnZhbHVlID0gbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZpbHRlciBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqLyAgICBzdGF0aWMgY3JlYXRlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIGUuaXNLZXlGaWVsZCgpID8gXCJpblwiIC8qIE9wZXJhdG9yLklOICovID09PSB0IHx8IFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovID09PSB0ID8gdGhpcy5jcmVhdGVLZXlGaWVsZEluRmlsdGVyKGUsIHQsIG4pIDogbmV3IF9fUFJJVkFURV9LZXlGaWVsZEZpbHRlcihlLCB0LCBuKSA6IFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyA9PT0gdCA/IG5ldyBfX1BSSVZBVEVfQXJyYXlDb250YWluc0ZpbHRlcihlLCBuKSA6IFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gdCA/IG5ldyBfX1BSSVZBVEVfSW5GaWx0ZXIoZSwgbikgOiBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA9PT0gdCA/IG5ldyBfX1BSSVZBVEVfTm90SW5GaWx0ZXIoZSwgbikgOiBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyA9PT0gdCA/IG5ldyBfX1BSSVZBVEVfQXJyYXlDb250YWluc0FueUZpbHRlcihlLCBuKSA6IG5ldyBGaWVsZEZpbHRlcihlLCB0LCBuKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUtleUZpZWxkSW5GaWx0ZXIoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gXCJpblwiIC8qIE9wZXJhdG9yLklOICovID09PSB0ID8gbmV3IF9fUFJJVkFURV9LZXlGaWVsZEluRmlsdGVyKGUsIG4pIDogbmV3IF9fUFJJVkFURV9LZXlGaWVsZE5vdEluRmlsdGVyKGUsIG4pO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgLy8gVHlwZXMgZG8gbm90IGhhdmUgdG8gbWF0Y2ggaW4gTk9UX0VRVUFMIGZpbHRlcnMuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gPT09IHRoaXMub3AgPyBudWxsICE9PSB0ICYmIHRoaXMubWF0Y2hlc0NvbXBhcmlzb24oX19QUklWQVRFX3ZhbHVlQ29tcGFyZSh0LCB0aGlzLnZhbHVlKSkgOiBudWxsICE9PSB0ICYmIF9fUFJJVkFURV90eXBlT3JkZXIodGhpcy52YWx1ZSkgPT09IF9fUFJJVkFURV90eXBlT3JkZXIodCkgJiYgdGhpcy5tYXRjaGVzQ29tcGFyaXNvbihfX1BSSVZBVEVfdmFsdWVDb21wYXJlKHQsIHRoaXMudmFsdWUpKTtcbiAgICAgICAgLy8gT25seSBjb21wYXJlIHR5cGVzIHdpdGggbWF0Y2hpbmcgYmFja2VuZCBvcmRlciAoc3VjaCBhcyBkb3VibGUgYW5kIGludCkuXG4gICAgICAgIH1cbiAgICBtYXRjaGVzQ29tcGFyaXNvbihlKSB7XG4gICAgICAgIHN3aXRjaCAodGhpcy5vcCkge1xuICAgICAgICAgIGNhc2UgXCI8XCIgLyogT3BlcmF0b3IuTEVTU19USEFOICovIDpcbiAgICAgICAgICAgIHJldHVybiBlIDwgMDtcblxuICAgICAgICAgIGNhc2UgXCI8PVwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTl9PUl9FUVVBTCAqLyA6XG4gICAgICAgICAgICByZXR1cm4gZSA8PSAwO1xuXG4gICAgICAgICAgY2FzZSBcIj09XCIgLyogT3BlcmF0b3IuRVFVQUwgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIDAgPT09IGU7XG5cbiAgICAgICAgICBjYXNlIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIDAgIT09IGU7XG5cbiAgICAgICAgICBjYXNlIFwiPlwiIC8qIE9wZXJhdG9yLkdSRUFURVJfVEhBTiAqLyA6XG4gICAgICAgICAgICByZXR1cm4gZSA+IDA7XG5cbiAgICAgICAgICBjYXNlIFwiPj1cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIGUgPj0gMDtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlzSW5lcXVhbGl0eSgpIHtcbiAgICAgICAgcmV0dXJuIFsgXCI8XCIgLyogT3BlcmF0b3IuTEVTU19USEFOICovICwgXCI8PVwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTl9PUl9FUVVBTCAqLyAsIFwiPlwiIC8qIE9wZXJhdG9yLkdSRUFURVJfVEhBTiAqLyAsIFwiPj1cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU5fT1JfRVFVQUwgKi8gLCBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovICwgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gXS5pbmRleE9mKHRoaXMub3ApID49IDA7XG4gICAgfVxuICAgIGdldEZsYXR0ZW5lZEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiBbIHRoaXMgXTtcbiAgICB9XG4gICAgZ2V0RmlsdGVycygpIHtcbiAgICAgICAgcmV0dXJuIFsgdGhpcyBdO1xuICAgIH1cbn1cblxuY2xhc3MgQ29tcG9zaXRlRmlsdGVyIGV4dGVuZHMgRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuZmlsdGVycyA9IGUsIHRoaXMub3AgPSB0LCB0aGlzLmFlID0gbnVsbDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZpbHRlciBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqLyAgICBzdGF0aWMgY3JlYXRlKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb21wb3NpdGVGaWx0ZXIoZSwgdCk7XG4gICAgfVxuICAgIG1hdGNoZXMoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24odGhpcykgPyB2b2lkIDAgPT09IHRoaXMuZmlsdGVycy5maW5kKCh0ID0+ICF0Lm1hdGNoZXMoZSkpKSA6IHZvaWQgMCAhPT0gdGhpcy5maWx0ZXJzLmZpbmQoKHQgPT4gdC5tYXRjaGVzKGUpKSk7XG4gICAgfVxuICAgIGdldEZsYXR0ZW5lZEZpbHRlcnMoKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0aGlzLmFlIHx8ICh0aGlzLmFlID0gdGhpcy5maWx0ZXJzLnJlZHVjZSgoKGUsIHQpID0+IGUuY29uY2F0KHQuZ2V0RmxhdHRlbmVkRmlsdGVycygpKSksIFtdKSksIFxuICAgICAgICB0aGlzLmFlO1xuICAgIH1cbiAgICAvLyBSZXR1cm5zIGEgbXV0YWJsZSBjb3B5IG9mIGB0aGlzLmZpbHRlcnNgXG4gICAgZ2V0RmlsdGVycygpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oW10sIHRoaXMuZmlsdGVycyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNDb25qdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIFwiYW5kXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuQU5EICovID09PSBlLm9wO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNEaXNqdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIFwib3JcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5PUiAqLyA9PT0gZS5vcDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBmaWx0ZXIgaXMgYSBjb25qdW5jdGlvbiBvZiBmaWVsZCBmaWx0ZXJzIG9ubHkuIFJldHVybnMgZmFsc2Ugb3RoZXJ3aXNlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXRDb25qdW5jdGlvbihlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXQoZSkgJiYgX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24oZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoaXMgZmlsdGVyIGRvZXMgbm90IGNvbnRhaW4gYW55IGNvbXBvc2l0ZSBmaWx0ZXJzLiBSZXR1cm5zIGZhbHNlIG90aGVyd2lzZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0KGUpIHtcbiAgICBmb3IgKGNvbnN0IHQgb2YgZS5maWx0ZXJzKSBpZiAodCBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlcikgcmV0dXJuICExO1xuICAgIHJldHVybiAhMDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Nhbm9uaWZ5RmlsdGVyKGUpIHtcbiAgICBpZiAoZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyKSBcbiAgICAvLyBUT0RPKGIvMjkxODMxNjUpOiBUZWNobmljYWxseSwgdGhpcyB3b24ndCBiZSB1bmlxdWUgaWYgdHdvIHZhbHVlcyBoYXZlXG4gICAgLy8gdGhlIHNhbWUgZGVzY3JpcHRpb24sIHN1Y2ggYXMgdGhlIGludCAzIGFuZCB0aGUgc3RyaW5nIFwiM1wiLiBTbyB3ZSBzaG91bGRcbiAgICAvLyBhZGQgdGhlIHR5cGVzIGluIGhlcmUgc29tZWhvdywgdG9vLlxuICAgIHJldHVybiBlLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpICsgZS5vcC50b1N0cmluZygpICsgY2Fub25pY2FsSWQoZS52YWx1ZSk7XG4gICAgaWYgKF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXRDb25qdW5jdGlvbihlKSkgXG4gICAgLy8gT2xkZXIgU0RLIHZlcnNpb25zIHVzZSBhbiBpbXBsaWNpdCBBTkQgb3BlcmF0aW9uIGJldHdlZW4gdGhlaXIgZmlsdGVycy5cbiAgICAvLyBJbiB0aGUgbmV3IFNESyB2ZXJzaW9ucywgdGhlIGRldmVsb3BlciBtYXkgdXNlIGFuIGV4cGxpY2l0IEFORCBmaWx0ZXIuXG4gICAgLy8gVG8gc3RheSBjb25zaXN0ZW50IHdpdGggdGhlIG9sZCB1c2FnZXMsIHdlIGFkZCBhIHNwZWNpYWwgY2FzZSB0byBlbnN1cmVcbiAgICAvLyB0aGUgY2Fub25pY2FsIElEIGZvciB0aGVzZSB0d28gYXJlIHRoZSBzYW1lLiBGb3IgZXhhbXBsZTpcbiAgICAvLyBgY29sLndoZXJlRXF1YWxzKFwiYVwiLCAxKS53aGVyZUVxdWFscyhcImJcIiwgMilgIHNob3VsZCBoYXZlIHRoZSBzYW1lXG4gICAgLy8gY2Fub25pY2FsIElEIGFzIGBjb2wud2hlcmUoYW5kKGVxdWFscyhcImFcIiwxKSwgZXF1YWxzKFwiYlwiLDIpKSlgLlxuICAgIHJldHVybiBlLmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeUZpbHRlcihlKSkpLmpvaW4oXCIsXCIpO1xuICAgIHtcbiAgICAgICAgLy8gZmlsdGVyIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyXG4gICAgICAgIGNvbnN0IHQgPSBlLmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeUZpbHRlcihlKSkpLmpvaW4oXCIsXCIpO1xuICAgICAgICByZXR1cm4gYCR7ZS5vcH0oJHt0fSlgO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2ZpbHRlckVxdWFscyhlLCB0KSB7XG4gICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZEZpbHRlckVxdWFscyhlLCB0KSB7XG4gICAgICAgIHJldHVybiB0IGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgJiYgZS5vcCA9PT0gdC5vcCAmJiBlLmZpZWxkLmlzRXF1YWwodC5maWVsZCkgJiYgX19QUklWQVRFX3ZhbHVlRXF1YWxzKGUudmFsdWUsIHQudmFsdWUpO1xuICAgIH0oZSwgdCkgOiBlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyID8gZnVuY3Rpb24gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlckVxdWFscyhlLCB0KSB7XG4gICAgICAgIGlmICh0IGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyICYmIGUub3AgPT09IHQub3AgJiYgZS5maWx0ZXJzLmxlbmd0aCA9PT0gdC5maWx0ZXJzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIGUuZmlsdGVycy5yZWR1Y2UoKChlLCBuLCByKSA9PiBlICYmIF9fUFJJVkFURV9maWx0ZXJFcXVhbHMobiwgdC5maWx0ZXJzW3JdKSksICEwKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIC8qKlxuICogUmV0dXJucyBhIG5ldyBjb21wb3NpdGUgZmlsdGVyIHRoYXQgY29udGFpbnMgYWxsIGZpbHRlciBmcm9tXG4gKiBgY29tcG9zaXRlRmlsdGVyYCBwbHVzIGFsbCB0aGUgZ2l2ZW4gZmlsdGVycyBpbiBgb3RoZXJGaWx0ZXJzYC5cbiAqLyAoZSwgdCkgOiB2b2lkIGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcldpdGhBZGRlZEZpbHRlcnMoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBlLmZpbHRlcnMuY29uY2F0KHQpO1xuICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKG4sIGUub3ApO1xufVxuXG4vKiogUmV0dXJucyBhIGRlYnVnIGRlc2NyaXB0aW9uIGZvciBgZmlsdGVyYC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3N0cmluZ2lmeUZpbHRlcihlKSB7XG4gICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9zdHJpbmdpZnlGaWVsZEZpbHRlcihlKSB7XG4gICAgICAgIHJldHVybiBgJHtlLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpfSAke2Uub3B9ICR7Y2Fub25pY2FsSWQoZS52YWx1ZSl9YDtcbiAgICB9XG4gICAgLyoqIEZpbHRlciB0aGF0IG1hdGNoZXMgb24ga2V5IGZpZWxkcyAoaS5lLiAnX19uYW1lX18nKS4gKi8gKGUpIDogZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9zdHJpbmdpZnlDb21wb3NpdGVGaWx0ZXIoZSkge1xuICAgICAgICByZXR1cm4gZS5vcC50b1N0cmluZygpICsgXCIge1wiICsgZS5nZXRGaWx0ZXJzKCkubWFwKF9fUFJJVkFURV9zdHJpbmdpZnlGaWx0ZXIpLmpvaW4oXCIgLFwiKSArIFwifVwiO1xuICAgIH0oZSkgOiBcIkZpbHRlclwiO1xufVxuXG5jbGFzcyBfX1BSSVZBVEVfS2V5RmllbGRGaWx0ZXIgZXh0ZW5kcyBGaWVsZEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICBzdXBlcihlLCB0LCBuKSwgdGhpcy5rZXkgPSBEb2N1bWVudEtleS5mcm9tTmFtZShuLnJlZmVyZW5jZVZhbHVlKTtcbiAgICB9XG4gICAgbWF0Y2hlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBEb2N1bWVudEtleS5jb21wYXJhdG9yKGUua2V5LCB0aGlzLmtleSk7XG4gICAgICAgIHJldHVybiB0aGlzLm1hdGNoZXNDb21wYXJpc29uKHQpO1xuICAgIH1cbn1cblxuLyoqIEZpbHRlciB0aGF0IG1hdGNoZXMgb24ga2V5IGZpZWxkcyB3aXRoaW4gYW4gYXJyYXkuICovIGNsYXNzIF9fUFJJVkFURV9LZXlGaWVsZEluRmlsdGVyIGV4dGVuZHMgRmllbGRGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgXCJpblwiIC8qIE9wZXJhdG9yLklOICovICwgdCksIHRoaXMua2V5cyA9IF9fUFJJVkFURV9leHRyYWN0RG9jdW1lbnRLZXlzRnJvbUFycmF5VmFsdWUoXCJpblwiIC8qIE9wZXJhdG9yLklOICovICwgdCk7XG4gICAgfVxuICAgIG1hdGNoZXMoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5rZXlzLnNvbWUoKHQgPT4gdC5pc0VxdWFsKGUua2V5KSkpO1xuICAgIH1cbn1cblxuLyoqIEZpbHRlciB0aGF0IG1hdGNoZXMgb24ga2V5IGZpZWxkcyBub3QgcHJlc2VudCB3aXRoaW4gYW4gYXJyYXkuICovIGNsYXNzIF9fUFJJVkFURV9LZXlGaWVsZE5vdEluRmlsdGVyIGV4dGVuZHMgRmllbGRGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gLCB0KSwgdGhpcy5rZXlzID0gX19QUklWQVRFX2V4dHJhY3REb2N1bWVudEtleXNGcm9tQXJyYXlWYWx1ZShcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmtleXMuc29tZSgodCA9PiB0LmlzRXF1YWwoZS5rZXkpKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZXh0cmFjdERvY3VtZW50S2V5c0Zyb21BcnJheVZhbHVlKGUsIHQpIHtcbiAgICB2YXIgbjtcbiAgICByZXR1cm4gKChudWxsID09PSAobiA9IHQuYXJyYXlWYWx1ZSkgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi52YWx1ZXMpIHx8IFtdKS5tYXAoKGUgPT4gRG9jdW1lbnRLZXkuZnJvbU5hbWUoZS5yZWZlcmVuY2VWYWx1ZSkpKTtcbn1cblxuLyoqIEEgRmlsdGVyIHRoYXQgaW1wbGVtZW50cyB0aGUgYXJyYXktY29udGFpbnMgb3BlcmF0b3IuICovIGNsYXNzIF9fUFJJVkFURV9BcnJheUNvbnRhaW5zRmlsdGVyIGV4dGVuZHMgRmllbGRGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgXCJhcnJheS1jb250YWluc1wiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TICovICwgdCk7XG4gICAgfVxuICAgIG1hdGNoZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO1xuICAgICAgICByZXR1cm4gaXNBcnJheSh0KSAmJiBfX1BSSVZBVEVfYXJyYXlWYWx1ZUNvbnRhaW5zKHQuYXJyYXlWYWx1ZSwgdGhpcy52YWx1ZSk7XG4gICAgfVxufVxuXG4vKiogQSBGaWx0ZXIgdGhhdCBpbXBsZW1lbnRzIHRoZSBJTiBvcGVyYXRvci4gKi8gY2xhc3MgX19QUklWQVRFX0luRmlsdGVyIGV4dGVuZHMgRmllbGRGaWx0ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgXCJpblwiIC8qIE9wZXJhdG9yLklOICovICwgdCk7XG4gICAgfVxuICAgIG1hdGNoZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5kYXRhLmZpZWxkKHRoaXMuZmllbGQpO1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdCAmJiBfX1BSSVZBVEVfYXJyYXlWYWx1ZUNvbnRhaW5zKHRoaXMudmFsdWUuYXJyYXlWYWx1ZSwgdCk7XG4gICAgfVxufVxuXG4vKiogQSBGaWx0ZXIgdGhhdCBpbXBsZW1lbnRzIHRoZSBub3QtaW4gb3BlcmF0b3IuICovIGNsYXNzIF9fUFJJVkFURV9Ob3RJbkZpbHRlciBleHRlbmRzIEZpZWxkRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovICwgdCk7XG4gICAgfVxuICAgIG1hdGNoZXMoZSkge1xuICAgICAgICBpZiAoX19QUklWQVRFX2FycmF5VmFsdWVDb250YWlucyh0aGlzLnZhbHVlLmFycmF5VmFsdWUsIHtcbiAgICAgICAgICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbiAgICAgICAgfSkpIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHQgJiYgIV9fUFJJVkFURV9hcnJheVZhbHVlQ29udGFpbnModGhpcy52YWx1ZS5hcnJheVZhbHVlLCB0KTtcbiAgICB9XG59XG5cbi8qKiBBIEZpbHRlciB0aGF0IGltcGxlbWVudHMgdGhlIGFycmF5LWNvbnRhaW5zLWFueSBvcGVyYXRvci4gKi8gY2xhc3MgX19QUklWQVRFX0FycmF5Q29udGFpbnNBbnlGaWx0ZXIgZXh0ZW5kcyBGaWVsZEZpbHRlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcihlLCBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyAsIHQpO1xuICAgIH1cbiAgICBtYXRjaGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZGF0YS5maWVsZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgcmV0dXJuICEoIWlzQXJyYXkodCkgfHwgIXQuYXJyYXlWYWx1ZS52YWx1ZXMpICYmIHQuYXJyYXlWYWx1ZS52YWx1ZXMuc29tZSgoZSA9PiBfX1BSSVZBVEVfYXJyYXlWYWx1ZUNvbnRhaW5zKHRoaXMudmFsdWUuYXJyYXlWYWx1ZSwgZSkpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBWaXNpYmxlIGZvciB0ZXN0aW5nXG5jbGFzcyBfX1BSSVZBVEVfVGFyZ2V0SW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCA9IG51bGwsIG4gPSBbXSwgciA9IFtdLCBpID0gbnVsbCwgcyA9IG51bGwsIG8gPSBudWxsKSB7XG4gICAgICAgIHRoaXMucGF0aCA9IGUsIHRoaXMuY29sbGVjdGlvbkdyb3VwID0gdCwgdGhpcy5vcmRlckJ5ID0gbiwgdGhpcy5maWx0ZXJzID0gciwgdGhpcy5saW1pdCA9IGksIFxuICAgICAgICB0aGlzLnN0YXJ0QXQgPSBzLCB0aGlzLmVuZEF0ID0gbywgdGhpcy51ZSA9IG51bGw7XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGEgVGFyZ2V0IHdpdGggYSBwYXRoIGFuZCBvcHRpb25hbCBhZGRpdGlvbmFsIHF1ZXJ5IGNvbnN0cmFpbnRzLlxuICogUGF0aCBtdXN0IGN1cnJlbnRseSBiZSBlbXB0eSBpZiB0aGlzIGlzIGEgY29sbGVjdGlvbiBncm91cCBxdWVyeS5cbiAqXG4gKiBOT1RFOiB5b3Ugc2hvdWxkIGFsd2F5cyBjb25zdHJ1Y3QgYFRhcmdldGAgZnJvbSBgUXVlcnkudG9UYXJnZXRgIGluc3RlYWQgb2ZcbiAqIHVzaW5nIHRoaXMgZmFjdG9yeSBtZXRob2QsIGJlY2F1c2UgYFF1ZXJ5YCBwcm92aWRlcyBhbiBpbXBsaWNpdCBgb3JkZXJCeWBcbiAqIHByb3BlcnR5LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdUYXJnZXQoZSwgdCA9IG51bGwsIG4gPSBbXSwgciA9IFtdLCBpID0gbnVsbCwgcyA9IG51bGwsIG8gPSBudWxsKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfVGFyZ2V0SW1wbChlLCB0LCBuLCByLCBpLCBzLCBvKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Nhbm9uaWZ5VGFyZ2V0KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBpZiAobnVsbCA9PT0gdC51ZSkge1xuICAgICAgICBsZXQgZSA9IHQucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICAgICAgbnVsbCAhPT0gdC5jb2xsZWN0aW9uR3JvdXAgJiYgKGUgKz0gXCJ8Y2c6XCIgKyB0LmNvbGxlY3Rpb25Hcm91cCksIGUgKz0gXCJ8ZjpcIiwgZSArPSB0LmZpbHRlcnMubWFwKChlID0+IF9fUFJJVkFURV9jYW5vbmlmeUZpbHRlcihlKSkpLmpvaW4oXCIsXCIpLCBcbiAgICAgICAgZSArPSBcInxvYjpcIiwgZSArPSB0Lm9yZGVyQnkubWFwKChlID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5vbmlmeU9yZGVyQnkoZSkge1xuICAgICAgICAgICAgLy8gVE9ETyhiLzI5MTgzMTY1KTogTWFrZSB0aGlzIGNvbGxpc2lvbiByb2J1c3QuXG4gICAgICAgICAgICByZXR1cm4gZS5maWVsZC5jYW5vbmljYWxTdHJpbmcoKSArIGUuZGlyO1xuICAgICAgICB9KGUpKSkuam9pbihcIixcIiksIF9fUFJJVkFURV9pc051bGxPclVuZGVmaW5lZCh0LmxpbWl0KSB8fCAoZSArPSBcInxsOlwiLCBlICs9IHQubGltaXQpLCBcbiAgICAgICAgdC5zdGFydEF0ICYmIChlICs9IFwifGxiOlwiLCBlICs9IHQuc3RhcnRBdC5pbmNsdXNpdmUgPyBcImI6XCIgOiBcImE6XCIsIGUgKz0gdC5zdGFydEF0LnBvc2l0aW9uLm1hcCgoZSA9PiBjYW5vbmljYWxJZChlKSkpLmpvaW4oXCIsXCIpKSwgXG4gICAgICAgIHQuZW5kQXQgJiYgKGUgKz0gXCJ8dWI6XCIsIGUgKz0gdC5lbmRBdC5pbmNsdXNpdmUgPyBcImE6XCIgOiBcImI6XCIsIGUgKz0gdC5lbmRBdC5wb3NpdGlvbi5tYXAoKGUgPT4gY2Fub25pY2FsSWQoZSkpKS5qb2luKFwiLFwiKSksIFxuICAgICAgICB0LnVlID0gZTtcbiAgICB9XG4gICAgcmV0dXJuIHQudWU7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRFcXVhbHMoZSwgdCkge1xuICAgIGlmIChlLmxpbWl0ICE9PSB0LmxpbWl0KSByZXR1cm4gITE7XG4gICAgaWYgKGUub3JkZXJCeS5sZW5ndGggIT09IHQub3JkZXJCeS5sZW5ndGgpIHJldHVybiAhMTtcbiAgICBmb3IgKGxldCBuID0gMDsgbiA8IGUub3JkZXJCeS5sZW5ndGg7IG4rKykgaWYgKCFfX1BSSVZBVEVfb3JkZXJCeUVxdWFscyhlLm9yZGVyQnlbbl0sIHQub3JkZXJCeVtuXSkpIHJldHVybiAhMTtcbiAgICBpZiAoZS5maWx0ZXJzLmxlbmd0aCAhPT0gdC5maWx0ZXJzLmxlbmd0aCkgcmV0dXJuICExO1xuICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5maWx0ZXJzLmxlbmd0aDsgbisrKSBpZiAoIV9fUFJJVkFURV9maWx0ZXJFcXVhbHMoZS5maWx0ZXJzW25dLCB0LmZpbHRlcnNbbl0pKSByZXR1cm4gITE7XG4gICAgcmV0dXJuIGUuY29sbGVjdGlvbkdyb3VwID09PSB0LmNvbGxlY3Rpb25Hcm91cCAmJiAoISFlLnBhdGguaXNFcXVhbCh0LnBhdGgpICYmICghIV9fUFJJVkFURV9ib3VuZEVxdWFscyhlLnN0YXJ0QXQsIHQuc3RhcnRBdCkgJiYgX19QUklWQVRFX2JvdW5kRXF1YWxzKGUuZW5kQXQsIHQuZW5kQXQpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRJc0RvY3VtZW50VGFyZ2V0KGUpIHtcbiAgICByZXR1cm4gRG9jdW1lbnRLZXkuaXNEb2N1bWVudEtleShlLnBhdGgpICYmIG51bGwgPT09IGUuY29sbGVjdGlvbkdyb3VwICYmIDAgPT09IGUuZmlsdGVycy5sZW5ndGg7XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBmaWVsZCBmaWx0ZXJzIHRoYXQgdGFyZ2V0IHRoZSBnaXZlbiBmaWVsZCBwYXRoLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0RmllbGRGaWx0ZXJzRm9yUGF0aChlLCB0KSB7XG4gICAgcmV0dXJuIGUuZmlsdGVycy5maWx0ZXIoKGUgPT4gZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyICYmIGUuZmllbGQuaXNFcXVhbCh0KSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHZhbHVlcyB0aGF0IGFyZSB1c2VkIGluIEFSUkFZX0NPTlRBSU5TIG9yIEFSUkFZX0NPTlRBSU5TX0FOWVxuICogZmlsdGVycy4gUmV0dXJucyBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vIHN1Y2ggZmlsdGVycy5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSB0byB1c2UgYXMgdGhlIGxvd2VyIGJvdW5kIGZvciBhc2NlbmRpbmcgaW5kZXggc2VnbWVudCBhdFxuICogdGhlIHByb3ZpZGVkIGBmaWVsZFBhdGhgIChvciB0aGUgdXBwZXIgYm91bmQgZm9yIGFuIGRlc2NlbmRpbmcgc2VnbWVudCkuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRHZXRBc2NlbmRpbmdCb3VuZChlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSBpZSwgaSA9ICEwO1xuICAgIC8vIFByb2Nlc3MgYWxsIGZpbHRlcnMgdG8gZmluZCBhIHZhbHVlIGZvciB0aGUgY3VycmVudCBmaWVsZCBzZWdtZW50XG4gICAgZm9yIChjb25zdCBuIG9mIF9fUFJJVkFURV90YXJnZXRHZXRGaWVsZEZpbHRlcnNGb3JQYXRoKGUsIHQpKSB7XG4gICAgICAgIGxldCBlID0gaWUsIHQgPSAhMDtcbiAgICAgICAgc3dpdGNoIChuLm9wKSB7XG4gICAgICAgICAgY2FzZSBcIjxcIiAvKiBPcGVyYXRvci5MRVNTX1RIQU4gKi8gOlxuICAgICAgICAgIGNhc2UgXCI8PVwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTl9PUl9FUVVBTCAqLyA6XG4gICAgICAgICAgICBlID0gX19QUklWQVRFX3ZhbHVlc0dldExvd2VyQm91bmQobi52YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgIGNhc2UgXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovIDpcbiAgICAgICAgICBjYXNlIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA6XG4gICAgICAgICAgY2FzZSBcIj49XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOX09SX0VRVUFMICovIDpcbiAgICAgICAgICAgIGUgPSBuLnZhbHVlO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiPlwiIC8qIE9wZXJhdG9yLkdSRUFURVJfVEhBTiAqLyA6XG4gICAgICAgICAgICBlID0gbi52YWx1ZSwgdCA9ICExO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiIT1cIiAvKiBPcGVyYXRvci5OT1RfRVFVQUwgKi8gOlxuICAgICAgICAgIGNhc2UgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gOlxuICAgICAgICAgICAgZSA9IGllO1xuIC8vIFJlbWFpbmluZyBmaWx0ZXJzIGNhbm5vdCBiZSB1c2VkIGFzIGxvd2VyIGJvdW5kcy5cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIF9fUFJJVkFURV9sb3dlckJvdW5kQ29tcGFyZSh7XG4gICAgICAgICAgICB2YWx1ZTogcixcbiAgICAgICAgICAgIGluY2x1c2l2ZTogaVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB2YWx1ZTogZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdFxuICAgICAgICB9KSA8IDAgJiYgKHIgPSBlLCBpID0gdCk7XG4gICAgfVxuICAgIC8vIElmIHRoZXJlIGlzIGFuIGFkZGl0aW9uYWwgYm91bmQsIGNvbXBhcmUgdGhlIHZhbHVlcyBhZ2FpbnN0IHRoZSBleGlzdGluZ1xuICAgIC8vIHJhbmdlIHRvIHNlZSBpZiB3ZSBjYW4gbmFycm93IHRoZSBzY29wZS5cbiAgICAgICAgaWYgKG51bGwgIT09IG4pIGZvciAobGV0IHMgPSAwOyBzIDwgZS5vcmRlckJ5Lmxlbmd0aDsgKytzKSB7XG4gICAgICAgIGlmIChlLm9yZGVyQnlbc10uZmllbGQuaXNFcXVhbCh0KSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IG4ucG9zaXRpb25bc107XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG93ZXJCb3VuZENvbXBhcmUoe1xuICAgICAgICAgICAgICAgIHZhbHVlOiByLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogaVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHZhbHVlOiBlLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogbi5pbmNsdXNpdmVcbiAgICAgICAgICAgIH0pIDwgMCAmJiAociA9IGUsIGkgPSBuLmluY2x1c2l2ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB2YWx1ZTogcixcbiAgICAgICAgaW5jbHVzaXZlOiBpXG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSB2YWx1ZSB0byB1c2UgYXMgdGhlIHVwcGVyIGJvdW5kIGZvciBhc2NlbmRpbmcgaW5kZXggc2VnbWVudCBhdFxuICogdGhlIHByb3ZpZGVkIGBmaWVsZFBhdGhgIChvciB0aGUgbG93ZXIgYm91bmQgZm9yIGEgZGVzY2VuZGluZyBzZWdtZW50KS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0RGVzY2VuZGluZ0JvdW5kKGUsIHQsIG4pIHtcbiAgICBsZXQgciA9IHJlLCBpID0gITA7XG4gICAgLy8gUHJvY2VzcyBhbGwgZmlsdGVycyB0byBmaW5kIGEgdmFsdWUgZm9yIHRoZSBjdXJyZW50IGZpZWxkIHNlZ21lbnRcbiAgICBmb3IgKGNvbnN0IG4gb2YgX19QUklWQVRFX3RhcmdldEdldEZpZWxkRmlsdGVyc0ZvclBhdGgoZSwgdCkpIHtcbiAgICAgICAgbGV0IGUgPSByZSwgdCA9ICEwO1xuICAgICAgICBzd2l0Y2ggKG4ub3ApIHtcbiAgICAgICAgICBjYXNlIFwiPj1cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU5fT1JfRVFVQUwgKi8gOlxuICAgICAgICAgIGNhc2UgXCI+XCIgLyogT3BlcmF0b3IuR1JFQVRFUl9USEFOICovIDpcbiAgICAgICAgICAgIGUgPSBfX1BSSVZBVEVfdmFsdWVzR2V0VXBwZXJCb3VuZChuLnZhbHVlKSwgdCA9ICExO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLyA6XG4gICAgICAgICAgY2FzZSBcImluXCIgLyogT3BlcmF0b3IuSU4gKi8gOlxuICAgICAgICAgIGNhc2UgXCI8PVwiIC8qIE9wZXJhdG9yLkxFU1NfVEhBTl9PUl9FUVVBTCAqLyA6XG4gICAgICAgICAgICBlID0gbi52YWx1ZTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIjxcIiAvKiBPcGVyYXRvci5MRVNTX1RIQU4gKi8gOlxuICAgICAgICAgICAgZSA9IG4udmFsdWUsIHQgPSAhMTtcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgY2FzZSBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovIDpcbiAgICAgICAgICBjYXNlIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIDpcbiAgICAgICAgICAgIGUgPSByZTtcbiAvLyBSZW1haW5pbmcgZmlsdGVycyBjYW5ub3QgYmUgdXNlZCBhcyB1cHBlciBib3VuZHMuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICBfX1BSSVZBVEVfdXBwZXJCb3VuZENvbXBhcmUoe1xuICAgICAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGlcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdmFsdWU6IGUsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRcbiAgICAgICAgfSkgPiAwICYmIChyID0gZSwgaSA9IHQpO1xuICAgIH1cbiAgICAvLyBJZiB0aGVyZSBpcyBhbiBhZGRpdGlvbmFsIGJvdW5kLCBjb21wYXJlIHRoZSB2YWx1ZXMgYWdhaW5zdCB0aGUgZXhpc3RpbmdcbiAgICAvLyByYW5nZSB0byBzZWUgaWYgd2UgY2FuIG5hcnJvdyB0aGUgc2NvcGUuXG4gICAgICAgIGlmIChudWxsICE9PSBuKSBmb3IgKGxldCBzID0gMDsgcyA8IGUub3JkZXJCeS5sZW5ndGg7ICsrcykge1xuICAgICAgICBpZiAoZS5vcmRlckJ5W3NdLmZpZWxkLmlzRXF1YWwodCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuLnBvc2l0aW9uW3NdO1xuICAgICAgICAgICAgX19QUklWQVRFX3VwcGVyQm91bmRDb21wYXJlKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcixcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IGlcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogZSxcbiAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IG4uaW5jbHVzaXZlXG4gICAgICAgICAgICB9KSA+IDAgJiYgKHIgPSBlLCBpID0gbi5pbmNsdXNpdmUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdmFsdWU6IHIsXG4gICAgICAgIGluY2x1c2l2ZTogaVxuICAgIH07XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBudW1iZXIgb2Ygc2VnbWVudHMgb2YgYSBwZXJmZWN0IGluZGV4IGZvciB0aGlzIHRhcmdldC4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFF1ZXJ5IGVuY2Fwc3VsYXRlcyBhbGwgdGhlIHF1ZXJ5IGF0dHJpYnV0ZXMgd2Ugc3VwcG9ydCBpbiB0aGUgU0RLLiBJdCBjYW5cbiAqIGJlIHJ1biBhZ2FpbnN0IHRoZSBMb2NhbFN0b3JlLCBhcyB3ZWxsIGFzIGJlIGNvbnZlcnRlZCB0byBhIGBUYXJnZXRgIHRvXG4gKiBxdWVyeSB0aGUgUmVtb3RlU3RvcmUgcmVzdWx0cy5cbiAqXG4gKiBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfUXVlcnlJbXBsIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhIFF1ZXJ5IHdpdGggYSBwYXRoIGFuZCBvcHRpb25hbCBhZGRpdGlvbmFsIHF1ZXJ5IGNvbnN0cmFpbnRzLlxuICAgICAqIFBhdGggbXVzdCBjdXJyZW50bHkgYmUgZW1wdHkgaWYgdGhpcyBpcyBhIGNvbGxlY3Rpb24gZ3JvdXAgcXVlcnkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSwgdCA9IG51bGwsIG4gPSBbXSwgciA9IFtdLCBpID0gbnVsbCwgcyA9IFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyAsIG8gPSBudWxsLCBfID0gbnVsbCkge1xuICAgICAgICB0aGlzLnBhdGggPSBlLCB0aGlzLmNvbGxlY3Rpb25Hcm91cCA9IHQsIHRoaXMuZXhwbGljaXRPcmRlckJ5ID0gbiwgdGhpcy5maWx0ZXJzID0gciwgXG4gICAgICAgIHRoaXMubGltaXQgPSBpLCB0aGlzLmxpbWl0VHlwZSA9IHMsIHRoaXMuc3RhcnRBdCA9IG8sIHRoaXMuZW5kQXQgPSBfLCB0aGlzLmNlID0gbnVsbCwgXG4gICAgICAgIC8vIFRoZSBjb3JyZXNwb25kaW5nIGBUYXJnZXRgIG9mIHRoaXMgYFF1ZXJ5YCBpbnN0YW5jZSwgZm9yIHVzZSB3aXRoXG4gICAgICAgIC8vIG5vbi1hZ2dyZWdhdGUgcXVlcmllcy5cbiAgICAgICAgdGhpcy5sZSA9IG51bGwsIFxuICAgICAgICAvLyBUaGUgY29ycmVzcG9uZGluZyBgVGFyZ2V0YCBvZiB0aGlzIGBRdWVyeWAgaW5zdGFuY2UsIGZvciB1c2Ugd2l0aFxuICAgICAgICAvLyBhZ2dyZWdhdGUgcXVlcmllcy4gVW5saWtlIHRhcmdldHMgZm9yIG5vbi1hZ2dyZWdhdGUgcXVlcmllcyxcbiAgICAgICAgLy8gYWdncmVnYXRlIHF1ZXJ5IHRhcmdldHMgZG8gbm90IGNvbnRhaW4gbm9ybWFsaXplZCBvcmRlci1ieXMsIHRoZXkgb25seVxuICAgICAgICAvLyBjb250YWluIGV4cGxpY2l0IG9yZGVyLWJ5cy5cbiAgICAgICAgdGhpcy5oZSA9IG51bGwsIHRoaXMuc3RhcnRBdCwgdGhpcy5lbmRBdDtcbiAgICB9XG59XG5cbi8qKiBDcmVhdGVzIGEgbmV3IFF1ZXJ5IGluc3RhbmNlIHdpdGggdGhlIG9wdGlvbnMgcHJvdmlkZWQuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeShlLCB0LCBuLCByLCBpLCBzLCBvLCBfKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKGUsIHQsIG4sIHIsIGksIHMsIG8sIF8pO1xufVxuXG4vKiogQ3JlYXRlcyBhIG5ldyBRdWVyeSBmb3IgYSBxdWVyeSB0aGF0IG1hdGNoZXMgYWxsIGRvY3VtZW50cyBhdCBgcGF0aGAgKi8gZnVuY3Rpb24gX19QUklWQVRFX25ld1F1ZXJ5Rm9yUGF0aChlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKGUpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBjb252ZXJ0IGEgY29sbGVjdGlvbiBncm91cCBxdWVyeSBpbnRvIGEgY29sbGVjdGlvbiBxdWVyeSBhdCBhXG4gKiBzcGVjaWZpYyBwYXRoLiBUaGlzIGlzIHVzZWQgd2hlbiBleGVjdXRpbmcgY29sbGVjdGlvbiBncm91cCBxdWVyaWVzLCBzaW5jZVxuICogd2UgaGF2ZSB0byBzcGxpdCB0aGUgcXVlcnkgaW50byBhIHNldCBvZiBjb2xsZWN0aW9uIHF1ZXJpZXMgYXQgbXVsdGlwbGVcbiAqIHBhdGhzLlxuICovXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIHF1ZXJ5IGRvZXMgbm90IHNwZWNpZnkgYW55IHF1ZXJ5IGNvbnN0cmFpbnRzIHRoYXRcbiAqIGNvdWxkIHJlbW92ZSByZXN1bHRzLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlNYXRjaGVzQWxsRG9jdW1lbnRzKGUpIHtcbiAgICByZXR1cm4gMCA9PT0gZS5maWx0ZXJzLmxlbmd0aCAmJiBudWxsID09PSBlLmxpbWl0ICYmIG51bGwgPT0gZS5zdGFydEF0ICYmIG51bGwgPT0gZS5lbmRBdCAmJiAoMCA9PT0gZS5leHBsaWNpdE9yZGVyQnkubGVuZ3RoIHx8IDEgPT09IGUuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCAmJiBlLmV4cGxpY2l0T3JkZXJCeVswXS5maWVsZC5pc0tleUZpZWxkKCkpO1xufVxuXG4vLyBSZXR1cm5zIHRoZSBzb3J0ZWQgc2V0IG9mIGluZXF1YWxpdHkgZmlsdGVyIGZpZWxkcyB1c2VkIGluIHRoaXMgcXVlcnkuXG4vKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcXVlcnkgbWF0Y2hlcyBhIGNvbGxlY3Rpb24gZ3JvdXAgcmF0aGVyIHRoYW4gYSBzcGVjaWZpY1xuICogY29sbGVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2lzQ29sbGVjdGlvbkdyb3VwUXVlcnkoZSkge1xuICAgIHJldHVybiBudWxsICE9PSBlLmNvbGxlY3Rpb25Hcm91cDtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBub3JtYWxpemVkIG9yZGVyLWJ5IGNvbnN0cmFpbnQgdGhhdCBpcyB1c2VkIHRvIGV4ZWN1dGUgdGhlIFF1ZXJ5LFxuICogd2hpY2ggY2FuIGJlIGRpZmZlcmVudCBmcm9tIHRoZSBvcmRlci1ieSBjb25zdHJhaW50cyB0aGUgdXNlciBwcm92aWRlZCAoZS5nLlxuICogdGhlIFNESyBhbmQgYmFja2VuZCBhbHdheXMgb3JkZXJzIGJ5IGBfX25hbWVfX2ApLiBUaGUgbm9ybWFsaXplZCBvcmRlci1ieVxuICogaW5jbHVkZXMgaW1wbGljaXQgb3JkZXItYnlzIGluIGFkZGl0aW9uIHRvIHRoZSBleHBsaWNpdCB1c2VyIHByb3ZpZGVkXG4gKiBvcmRlci1ieXMuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGlmIChudWxsID09PSB0LmNlKSB7XG4gICAgICAgIHQuY2UgPSBbXTtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBTZXQ7XG4gICAgICAgIC8vIEFueSBleHBsaWNpdCBvcmRlciBieSBmaWVsZHMgc2hvdWxkIGJlIGFkZGVkIGFzIGlzLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiB0LmV4cGxpY2l0T3JkZXJCeSkgdC5jZS5wdXNoKG4pLCBlLmFkZChuLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpKTtcbiAgICAgICAgLy8gVGhlIG9yZGVyIG9mIHRoZSBpbXBsaWNpdCBvcmRlcmluZyBhbHdheXMgbWF0Y2hlcyB0aGUgbGFzdCBleHBsaWNpdCBvcmRlciBieS5cbiAgICAgICAgICAgICAgICBjb25zdCBuID0gdC5leHBsaWNpdE9yZGVyQnkubGVuZ3RoID4gMCA/IHQuZXhwbGljaXRPcmRlckJ5W3QuZXhwbGljaXRPcmRlckJ5Lmxlbmd0aCAtIDFdLmRpciA6IFwiYXNjXCIgLyogRGlyZWN0aW9uLkFTQ0VORElORyAqLyAsIHIgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZ2V0SW5lcXVhbGl0eUZpbHRlckZpZWxkcyhlKSB7XG4gICAgICAgICAgICBsZXQgdCA9IG5ldyBTb3J0ZWRTZXQoRmllbGRQYXRoJDEuY29tcGFyYXRvcik7XG4gICAgICAgICAgICByZXR1cm4gZS5maWx0ZXJzLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIGUuZ2V0RmxhdHRlbmVkRmlsdGVycygpLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBlLmlzSW5lcXVhbGl0eSgpICYmICh0ID0gdC5hZGQoZS5maWVsZCkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKSwgdDtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIENyZWF0ZXMgYSBuZXcgUXVlcnkgZm9yIGEgY29sbGVjdGlvbiBncm91cCBxdWVyeSB0aGF0IG1hdGNoZXMgYWxsIGRvY3VtZW50c1xuICogd2l0aGluIHRoZSBwcm92aWRlZCBjb2xsZWN0aW9uIGdyb3VwLlxuICovICh0KTtcbiAgICAgICAgLy8gQW55IGluZXF1YWxpdHkgZmllbGRzIG5vdCBleHBsaWNpdGx5IG9yZGVyZWQgc2hvdWxkIGJlIGltcGxpY2l0bHkgb3JkZXJlZCBpbiBhIGxleGljb2dyYXBoaWNhbFxuICAgICAgICAvLyBvcmRlci4gV2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgaW5lcXVhbGl0eSBmaWx0ZXJzIG9uIHRoZSBzYW1lIGZpZWxkLCB0aGUgZmllbGQgc2hvdWxkIGJlIGFkZGVkXG4gICAgICAgIC8vIG9ubHkgb25jZS5cbiAgICAgICAgLy8gTm90ZTogYFNvcnRlZFNldDxGaWVsZFBhdGg+YCBzb3J0cyB0aGUga2V5IGZpZWxkIGJlZm9yZSBvdGhlciBmaWVsZHMuIEhvd2V2ZXIsIHdlIHdhbnQgdGhlIGtleVxuICAgICAgICAvLyBmaWVsZCB0byBiZSBzb3J0ZWQgbGFzdC5cbiAgICAgICAgICAgICAgICByLmZvckVhY2goKHIgPT4ge1xuICAgICAgICAgICAgZS5oYXMoci5jYW5vbmljYWxTdHJpbmcoKSkgfHwgci5pc0tleUZpZWxkKCkgfHwgdC5jZS5wdXNoKG5ldyBPcmRlckJ5KHIsIG4pKTtcbiAgICAgICAgfSkpLCBcbiAgICAgICAgLy8gQWRkIHRoZSBkb2N1bWVudCBrZXkgZmllbGQgdG8gdGhlIGxhc3QgaWYgaXQgaXMgbm90IGV4cGxpY2l0bHkgb3JkZXJlZC5cbiAgICAgICAgZS5oYXMoRmllbGRQYXRoJDEua2V5RmllbGQoKS5jYW5vbmljYWxTdHJpbmcoKSkgfHwgdC5jZS5wdXNoKG5ldyBPcmRlckJ5KEZpZWxkUGF0aCQxLmtleUZpZWxkKCksIG4pKTtcbiAgICB9XG4gICAgcmV0dXJuIHQuY2U7XG59XG5cbi8qKlxuICogQ29udmVydHMgdGhpcyBgUXVlcnlgIGluc3RhbmNlIHRvIGl0cyBjb3JyZXNwb25kaW5nIGBUYXJnZXRgIHJlcHJlc2VudGF0aW9uLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gdC5sZSB8fCAodC5sZSA9IF9fUFJJVkFURV9fcXVlcnlUb1RhcmdldCh0LCBfX1BSSVZBVEVfcXVlcnlOb3JtYWxpemVkT3JkZXJCeShlKSkpLCBcbiAgICB0LmxlO1xufVxuXG4vKipcbiAqIENvbnZlcnRzIHRoaXMgYFF1ZXJ5YCBpbnN0YW5jZSB0byBpdHMgY29ycmVzcG9uZGluZyBgVGFyZ2V0YCByZXByZXNlbnRhdGlvbixcbiAqIGZvciB1c2Ugd2l0aGluIGFuIGFnZ3JlZ2F0ZSBxdWVyeS4gVW5saWtlIHRhcmdldHMgZm9yIG5vbi1hZ2dyZWdhdGUgcXVlcmllcyxcbiAqIGFnZ3JlZ2F0ZSBxdWVyeSB0YXJnZXRzIGRvIG5vdCBjb250YWluIG5vcm1hbGl6ZWQgb3JkZXItYnlzLCB0aGV5IG9ubHlcbiAqIGNvbnRhaW4gZXhwbGljaXQgb3JkZXItYnlzLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9xdWVyeVRvQWdncmVnYXRlVGFyZ2V0KGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gdC5oZSB8fCAoXG4gICAgLy8gRG8gbm90IGluY2x1ZGUgaW1wbGljaXQgb3JkZXItYnlzIGZvciBhZ2dyZWdhdGUgcXVlcmllcy5cbiAgICB0LmhlID0gX19QUklWQVRFX19xdWVyeVRvVGFyZ2V0KHQsIGUuZXhwbGljaXRPcmRlckJ5KSksIHQuaGU7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9fcXVlcnlUb1RhcmdldChlLCB0KSB7XG4gICAgaWYgKFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyA9PT0gZS5saW1pdFR5cGUpIHJldHVybiBfX1BSSVZBVEVfbmV3VGFyZ2V0KGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIHQsIGUuZmlsdGVycywgZS5saW1pdCwgZS5zdGFydEF0LCBlLmVuZEF0KTtcbiAgICB7XG4gICAgICAgIC8vIEZsaXAgdGhlIG9yZGVyQnkgZGlyZWN0aW9ucyBzaW5jZSB3ZSB3YW50IHRoZSBsYXN0IHJlc3VsdHNcbiAgICAgICAgdCA9IHQubWFwKChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBcImRlc2NcIiAvKiBEaXJlY3Rpb24uREVTQ0VORElORyAqLyA9PT0gZS5kaXIgPyBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi8gOiBcImRlc2NcIiAvKiBEaXJlY3Rpb24uREVTQ0VORElORyAqLztcbiAgICAgICAgICAgIHJldHVybiBuZXcgT3JkZXJCeShlLmZpZWxkLCB0KTtcbiAgICAgICAgfSkpO1xuICAgICAgICAvLyBXZSBuZWVkIHRvIHN3YXAgdGhlIGN1cnNvcnMgdG8gbWF0Y2ggdGhlIG5vdy1mbGlwcGVkIHF1ZXJ5IG9yZGVyaW5nLlxuICAgICAgICBjb25zdCBuID0gZS5lbmRBdCA/IG5ldyBCb3VuZChlLmVuZEF0LnBvc2l0aW9uLCBlLmVuZEF0LmluY2x1c2l2ZSkgOiBudWxsLCByID0gZS5zdGFydEF0ID8gbmV3IEJvdW5kKGUuc3RhcnRBdC5wb3NpdGlvbiwgZS5zdGFydEF0LmluY2x1c2l2ZSkgOiBudWxsO1xuICAgICAgICAvLyBOb3cgcmV0dXJuIGFzIGEgTGltaXRUeXBlLkZpcnN0IHF1ZXJ5LlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX25ld1RhcmdldChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCB0LCBlLmZpbHRlcnMsIGUubGltaXQsIG4sIHIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5V2l0aEFkZGVkRmlsdGVyKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZS5maWx0ZXJzLmNvbmNhdChbIHQgXSk7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIGUuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksIG4sIGUubGltaXQsIGUubGltaXRUeXBlLCBlLnN0YXJ0QXQsIGUuZW5kQXQpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlXaXRoTGltaXQoZSwgdCwgbikge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChlLnBhdGgsIGUuY29sbGVjdGlvbkdyb3VwLCBlLmV4cGxpY2l0T3JkZXJCeS5zbGljZSgpLCBlLmZpbHRlcnMuc2xpY2UoKSwgdCwgbiwgZS5zdGFydEF0LCBlLmVuZEF0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5RXF1YWxzKGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldEVxdWFscyhfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChlKSwgX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQodCkpICYmIGUubGltaXRUeXBlID09PSB0LmxpbWl0VHlwZTtcbn1cblxuLy8gVE9ETyhiLzI5MTgzMTY1KTogVGhpcyBpcyB1c2VkIHRvIGdldCBhIHVuaXF1ZSBzdHJpbmcgZnJvbSBhIHF1ZXJ5IHRvLCBmb3Jcbi8vIGV4YW1wbGUsIHVzZSBhcyBhIGRpY3Rpb25hcnkga2V5LCBidXQgdGhlIGltcGxlbWVudGF0aW9uIGlzIHN1YmplY3QgdG9cbi8vIGNvbGxpc2lvbnMuIE1ha2UgaXQgY29sbGlzaW9uLWZyZWUuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY2Fub25pZnlRdWVyeShlKSB7XG4gICAgcmV0dXJuIGAke19fUFJJVkFURV9jYW5vbmlmeVRhcmdldChfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChlKSl9fGx0OiR7ZS5saW1pdFR5cGV9YDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5KGUpIHtcbiAgICByZXR1cm4gYFF1ZXJ5KHRhcmdldD0ke2Z1bmN0aW9uIF9fUFJJVkFURV9zdHJpbmdpZnlUYXJnZXQoZSkge1xuICAgICAgICBsZXQgdCA9IGUucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IGUuY29sbGVjdGlvbkdyb3VwICYmICh0ICs9IFwiIGNvbGxlY3Rpb25Hcm91cD1cIiArIGUuY29sbGVjdGlvbkdyb3VwKSwgXG4gICAgICAgIGUuZmlsdGVycy5sZW5ndGggPiAwICYmICh0ICs9IGAsIGZpbHRlcnM6IFske2UuZmlsdGVycy5tYXAoKGUgPT4gX19QUklWQVRFX3N0cmluZ2lmeUZpbHRlcihlKSkpLmpvaW4oXCIsIFwiKX1dYCksIFxuICAgICAgICBfX1BSSVZBVEVfaXNOdWxsT3JVbmRlZmluZWQoZS5saW1pdCkgfHwgKHQgKz0gXCIsIGxpbWl0OiBcIiArIGUubGltaXQpLCBlLm9yZGVyQnkubGVuZ3RoID4gMCAmJiAodCArPSBgLCBvcmRlckJ5OiBbJHtlLm9yZGVyQnkubWFwKChlID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9zdHJpbmdpZnlPcmRlckJ5KGUpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtlLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpfSAoJHtlLmRpcn0pYDtcbiAgICAgICAgfShlKSkpLmpvaW4oXCIsIFwiKX1dYCksIGUuc3RhcnRBdCAmJiAodCArPSBcIiwgc3RhcnRBdDogXCIsIHQgKz0gZS5zdGFydEF0LmluY2x1c2l2ZSA/IFwiYjpcIiA6IFwiYTpcIiwgXG4gICAgICAgIHQgKz0gZS5zdGFydEF0LnBvc2l0aW9uLm1hcCgoZSA9PiBjYW5vbmljYWxJZChlKSkpLmpvaW4oXCIsXCIpKSwgZS5lbmRBdCAmJiAodCArPSBcIiwgZW5kQXQ6IFwiLCBcbiAgICAgICAgdCArPSBlLmVuZEF0LmluY2x1c2l2ZSA/IFwiYTpcIiA6IFwiYjpcIiwgdCArPSBlLmVuZEF0LnBvc2l0aW9uLm1hcCgoZSA9PiBjYW5vbmljYWxJZChlKSkpLmpvaW4oXCIsXCIpKSwgXG4gICAgICAgIGBUYXJnZXQoJHt0fSlgO1xuICAgIH0oX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoZSkpfTsgbGltaXRUeXBlPSR7ZS5saW1pdFR5cGV9KWA7XG59XG5cbi8qKiBSZXR1cm5zIHdoZXRoZXIgYGRvY2AgbWF0Y2hlcyB0aGUgY29uc3RyYWludHMgb2YgYHF1ZXJ5YC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyhlLCB0KSB7XG4gICAgcmV0dXJuIHQuaXNGb3VuZERvY3VtZW50KCkgJiYgZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5TWF0Y2hlc1BhdGhBbmRDb2xsZWN0aW9uR3JvdXAoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC5rZXkucGF0aDtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IGUuY29sbGVjdGlvbkdyb3VwID8gdC5rZXkuaGFzQ29sbGVjdGlvbklkKGUuY29sbGVjdGlvbkdyb3VwKSAmJiBlLnBhdGguaXNQcmVmaXhPZihuKSA6IERvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkoZS5wYXRoKSA/IGUucGF0aC5pc0VxdWFsKG4pIDogZS5wYXRoLmlzSW1tZWRpYXRlUGFyZW50T2Yobik7XG4gICAgfVxuICAgIC8qKlxuICogQSBkb2N1bWVudCBtdXN0IGhhdmUgYSB2YWx1ZSBmb3IgZXZlcnkgb3JkZXJpbmcgY2xhdXNlIGluIG9yZGVyIHRvIHNob3cgdXBcbiAqIGluIHRoZSByZXN1bHRzLlxuICovIChlLCB0KSAmJiBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlNYXRjaGVzT3JkZXJCeShlLCB0KSB7XG4gICAgICAgIC8vIFdlIG11c3QgdXNlIGBxdWVyeU5vcm1hbGl6ZWRPcmRlckJ5KClgIHRvIGdldCB0aGUgbGlzdCBvZiBhbGwgb3JkZXJCeXMgKGJvdGggaW1wbGljaXQgYW5kIGV4cGxpY2l0KS5cbiAgICAgICAgLy8gTm90ZSB0aGF0IGZvciBPUiBxdWVyaWVzLCBvcmRlckJ5IGFwcGxpZXMgdG8gYWxsIGRpc2p1bmN0aW9uIHRlcm1zIGFuZCBpbXBsaWNpdCBvcmRlckJ5cyBtdXN0XG4gICAgICAgIC8vIGJlIHRha2VuIGludG8gYWNjb3VudC4gRm9yIGV4YW1wbGUsIHRoZSBxdWVyeSBcImEgPiAxIHx8IGI9PTFcIiBoYXMgYW4gaW1wbGljaXQgXCJvcmRlckJ5IGFcIiBkdWVcbiAgICAgICAgLy8gdG8gdGhlIGluZXF1YWxpdHksIGFuZCBpcyBldmFsdWF0ZWQgYXMgXCJhID4gMSBvcmRlckJ5IGEgfHwgYj09MSBvcmRlckJ5IGFcIi5cbiAgICAgICAgLy8gQSBkb2N1bWVudCB3aXRoIGNvbnRlbnQgb2Yge2I6MX0gbWF0Y2hlcyB0aGUgZmlsdGVycywgYnV0IGRvZXMgbm90IG1hdGNoIHRoZSBvcmRlckJ5IGJlY2F1c2VcbiAgICAgICAgLy8gaXQncyBtaXNzaW5nIHRoZSBmaWVsZCAnYScuXG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBfX1BSSVZBVEVfcXVlcnlOb3JtYWxpemVkT3JkZXJCeShlKSkgXG4gICAgICAgIC8vIG9yZGVyLWJ5IGtleSBhbHdheXMgbWF0Y2hlc1xuICAgICAgICBpZiAoIW4uZmllbGQuaXNLZXlGaWVsZCgpICYmIG51bGwgPT09IHQuZGF0YS5maWVsZChuLmZpZWxkKSkgcmV0dXJuICExO1xuICAgICAgICByZXR1cm4gITA7XG4gICAgfShlLCB0KSAmJiBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlNYXRjaGVzRmlsdGVycyhlLCB0KSB7XG4gICAgICAgIGZvciAoY29uc3QgbiBvZiBlLmZpbHRlcnMpIGlmICghbi5tYXRjaGVzKHQpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgLyoqIE1ha2VzIHN1cmUgYSBkb2N1bWVudCBpcyB3aXRoaW4gdGhlIGJvdW5kcywgaWYgcHJvdmlkZWQuICovIChlLCB0KSAmJiBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlNYXRjaGVzQm91bmRzKGUsIHQpIHtcbiAgICAgICAgaWYgKGUuc3RhcnRBdCAmJiAhXG4gICAgICAgIC8qKlxuICogUmV0dXJucyB0cnVlIGlmIGEgZG9jdW1lbnQgc29ydHMgYmVmb3JlIGEgYm91bmQgdXNpbmcgdGhlIHByb3ZpZGVkIHNvcnRcbiAqIG9yZGVyLlxuICovXG4gICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9ib3VuZFNvcnRzQmVmb3JlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9ib3VuZENvbXBhcmVUb0RvY3VtZW50KGUsIHQsIG4pO1xuICAgICAgICAgICAgcmV0dXJuIGUuaW5jbHVzaXZlID8gciA8PSAwIDogciA8IDA7XG4gICAgICAgIH0oZS5zdGFydEF0LCBfX1BSSVZBVEVfcXVlcnlOb3JtYWxpemVkT3JkZXJCeShlKSwgdCkpIHJldHVybiAhMTtcbiAgICAgICAgaWYgKGUuZW5kQXQgJiYgIWZ1bmN0aW9uIF9fUFJJVkFURV9ib3VuZFNvcnRzQWZ0ZXJEb2N1bWVudChlLCB0LCBuKSB7XG4gICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2JvdW5kQ29tcGFyZVRvRG9jdW1lbnQoZSwgdCwgbik7XG4gICAgICAgICAgICByZXR1cm4gZS5pbmNsdXNpdmUgPyByID49IDAgOiByID4gMDtcbiAgICAgICAgfShlLmVuZEF0LCBfX1BSSVZBVEVfcXVlcnlOb3JtYWxpemVkT3JkZXJCeShlKSwgdCkpIHJldHVybiAhMTtcbiAgICAgICAgcmV0dXJuICEwO1xuICAgIH1cbiAgICAvKipcbiAqIFJldHVybnMgdGhlIGNvbGxlY3Rpb24gZ3JvdXAgdGhhdCB0aGlzIHF1ZXJ5IHRhcmdldHMuXG4gKlxuICogUE9SVElORyBOT1RFOiBUaGlzIGlzIG9ubHkgdXNlZCBpbiB0aGUgV2ViIFNESyB0byBmYWNpbGl0YXRlIG11bHRpLXRhYlxuICogc3luY2hyb25pemF0aW9uIGZvciBxdWVyeSByZXN1bHRzLlxuICovIChlLCB0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3F1ZXJ5Q29sbGVjdGlvbkdyb3VwKGUpIHtcbiAgICByZXR1cm4gZS5jb2xsZWN0aW9uR3JvdXAgfHwgKGUucGF0aC5sZW5ndGggJSAyID09IDEgPyBlLnBhdGgubGFzdFNlZ21lbnQoKSA6IGUucGF0aC5nZXQoZS5wYXRoLmxlbmd0aCAtIDIpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbmV3IGNvbXBhcmF0b3IgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBjb21wYXJlIHR3byBkb2N1bWVudHNcbiAqIGJhc2VkIG9uIHRoZSBRdWVyeSdzIG9yZGVyaW5nIGNvbnN0cmFpbnQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX25ld1F1ZXJ5Q29tcGFyYXRvcihlKSB7XG4gICAgcmV0dXJuICh0LCBuKSA9PiB7XG4gICAgICAgIGxldCByID0gITE7XG4gICAgICAgIGZvciAoY29uc3QgaSBvZiBfX1BSSVZBVEVfcXVlcnlOb3JtYWxpemVkT3JkZXJCeShlKSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9jb21wYXJlRG9jcyhpLCB0LCBuKTtcbiAgICAgICAgICAgIGlmICgwICE9PSBlKSByZXR1cm4gZTtcbiAgICAgICAgICAgIHIgPSByIHx8IGkuZmllbGQuaXNLZXlGaWVsZCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAwO1xuICAgIH07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlRG9jcyhlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IGUuZmllbGQuaXNLZXlGaWVsZCgpID8gRG9jdW1lbnRLZXkuY29tcGFyYXRvcih0LmtleSwgbi5rZXkpIDogZnVuY3Rpb24gX19QUklWQVRFX2NvbXBhcmVEb2N1bWVudHNCeUZpZWxkKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IHQuZGF0YS5maWVsZChlKSwgaSA9IG4uZGF0YS5maWVsZChlKTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IHIgJiYgbnVsbCAhPT0gaSA/IF9fUFJJVkFURV92YWx1ZUNvbXBhcmUociwgaSkgOiBmYWlsKCk7XG4gICAgfShlLmZpZWxkLCB0LCBuKTtcbiAgICBzd2l0Y2ggKGUuZGlyKSB7XG4gICAgICBjYXNlIFwiYXNjXCIgLyogRGlyZWN0aW9uLkFTQ0VORElORyAqLyA6XG4gICAgICAgIHJldHVybiByO1xuXG4gICAgICBjYXNlIFwiZGVzY1wiIC8qIERpcmVjdGlvbi5ERVNDRU5ESU5HICovIDpcbiAgICAgICAgcmV0dXJuIC0xICogcjtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgbWFwIGltcGxlbWVudGF0aW9uIHRoYXQgdXNlcyBvYmplY3RzIGFzIGtleXMuIE9iamVjdHMgbXVzdCBoYXZlIGFuXG4gKiBhc3NvY2lhdGVkIGVxdWFscyBmdW5jdGlvbiBhbmQgbXVzdCBiZSBpbW11dGFibGUuIEVudHJpZXMgaW4gdGhlIG1hcCBhcmVcbiAqIHN0b3JlZCB0b2dldGhlciB3aXRoIHRoZSBrZXkgYmVpbmcgcHJvZHVjZWQgZnJvbSB0aGUgbWFwS2V5Rm4uIFRoaXMgbWFwXG4gKiBhdXRvbWF0aWNhbGx5IGhhbmRsZXMgY29sbGlzaW9ucyBvZiBrZXlzLlxuICovIGNsYXNzIE9iamVjdE1hcCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLm1hcEtleUZuID0gZSwgdGhpcy5lcXVhbHNGbiA9IHQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGlubmVyIG1hcCBmb3IgYSBrZXkvdmFsdWUgcGFpci4gRHVlIHRvIHRoZSBwb3NzaWJpbGl0eSBvZiBjb2xsaXNpb25zIHdlXG4gICAgICAgICAqIGtlZXAgYSBsaXN0IG9mIGVudHJpZXMgdGhhdCB3ZSBkbyBhIGxpbmVhciBzZWFyY2ggdGhyb3VnaCB0byBmaW5kIGFuIGFjdHVhbFxuICAgICAgICAgKiBtYXRjaC4gTm90ZSB0aGF0IGNvbGxpc2lvbnMgc2hvdWxkIGJlIHJhcmUsIHNvIHdlIHN0aWxsIGV4cGVjdCBuZWFyXG4gICAgICAgICAqIGNvbnN0YW50IHRpbWUgbG9va3VwcyBpbiBwcmFjdGljZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuaW5uZXIgPSB7fSwgXG4gICAgICAgIC8qKiBUaGUgbnVtYmVyIG9mIGVudHJpZXMgc3RvcmVkIGluIHRoZSBtYXAgKi9cbiAgICAgICAgdGhpcy5pbm5lclNpemUgPSAwO1xuICAgIH1cbiAgICAvKiogR2V0IGEgdmFsdWUgZm9yIHRoaXMga2V5LCBvciB1bmRlZmluZWQgaWYgaXQgZG9lcyBub3QgZXhpc3QuICovICAgIGdldChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLm1hcEtleUZuKGUpLCBuID0gdGhpcy5pbm5lclt0XTtcbiAgICAgICAgaWYgKHZvaWQgMCAhPT0gbikgZm9yIChjb25zdCBbdCwgcl0gb2YgbikgaWYgKHRoaXMuZXF1YWxzRm4odCwgZSkpIHJldHVybiByO1xuICAgIH1cbiAgICBoYXMoZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSB0aGlzLmdldChlKTtcbiAgICB9XG4gICAgLyoqIFB1dCB0aGlzIGtleSBhbmQgdmFsdWUgaW4gdGhlIG1hcC4gKi8gICAgc2V0KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMubWFwS2V5Rm4oZSksIHIgPSB0aGlzLmlubmVyW25dO1xuICAgICAgICBpZiAodm9pZCAwID09PSByKSByZXR1cm4gdGhpcy5pbm5lcltuXSA9IFsgWyBlLCB0IF0gXSwgdm9pZCB0aGlzLmlubmVyU2l6ZSsrO1xuICAgICAgICBmb3IgKGxldCBuID0gMDsgbiA8IHIubGVuZ3RoOyBuKyspIGlmICh0aGlzLmVxdWFsc0ZuKHJbbl1bMF0sIGUpKSBcbiAgICAgICAgLy8gVGhpcyBpcyB1cGRhdGluZyBhbiBleGlzdGluZyBlbnRyeSBhbmQgZG9lcyBub3QgaW5jcmVhc2UgYGlubmVyU2l6ZWAuXG4gICAgICAgIHJldHVybiB2b2lkIChyW25dID0gWyBlLCB0IF0pO1xuICAgICAgICByLnB1c2goWyBlLCB0IF0pLCB0aGlzLmlubmVyU2l6ZSsrO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmUgdGhpcyBrZXkgZnJvbSB0aGUgbWFwLiBSZXR1cm5zIGEgYm9vbGVhbiBpZiBhbnl0aGluZyB3YXMgZGVsZXRlZC5cbiAgICAgKi8gICAgZGVsZXRlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMubWFwS2V5Rm4oZSksIG4gPSB0aGlzLmlubmVyW3RdO1xuICAgICAgICBpZiAodm9pZCAwID09PSBuKSByZXR1cm4gITE7XG4gICAgICAgIGZvciAobGV0IHIgPSAwOyByIDwgbi5sZW5ndGg7IHIrKykgaWYgKHRoaXMuZXF1YWxzRm4obltyXVswXSwgZSkpIHJldHVybiAxID09PSBuLmxlbmd0aCA/IGRlbGV0ZSB0aGlzLmlubmVyW3RdIDogbi5zcGxpY2UociwgMSksIFxuICAgICAgICB0aGlzLmlubmVyU2l6ZS0tLCAhMDtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBmb3JFYWNoKGUpIHtcbiAgICAgICAgZm9yRWFjaCh0aGlzLmlubmVyLCAoKHQsIG4pID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3QsIHJdIG9mIG4pIGUodCwgcik7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIGlzRW1wdHkodGhpcy5pbm5lcik7XG4gICAgfVxuICAgIHNpemUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlubmVyU2l6ZTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IHNlID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcblxuZnVuY3Rpb24gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpIHtcbiAgICByZXR1cm4gc2U7XG59XG5cbmNvbnN0IG9lID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcblxuZnVuY3Rpb24gZG9jdW1lbnRNYXAoLi4uZSkge1xuICAgIGxldCB0ID0gb2U7XG4gICAgZm9yIChjb25zdCBuIG9mIGUpIHQgPSB0Lmluc2VydChuLmtleSwgbik7XG4gICAgcmV0dXJuIHQ7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb252ZXJ0T3ZlcmxheWVkRG9jdW1lbnRNYXBUb0RvY3VtZW50TWFwKGUpIHtcbiAgICBsZXQgdCA9IG9lO1xuICAgIHJldHVybiBlLmZvckVhY2goKChlLCBuKSA9PiB0ID0gdC5pbnNlcnQoZSwgbi5vdmVybGF5ZWREb2N1bWVudCkpKSwgdDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9uZXdEb2N1bWVudEtleU1hcCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3TXV0YXRpb25NYXAoKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9uZXdEb2N1bWVudEtleU1hcCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3RG9jdW1lbnRLZXlNYXAoKSB7XG4gICAgcmV0dXJuIG5ldyBPYmplY3RNYXAoKGUgPT4gZS50b1N0cmluZygpKSwgKChlLCB0KSA9PiBlLmlzRXF1YWwodCkpKTtcbn1cblxuY29uc3QgX2UgPSBuZXcgU29ydGVkTWFwKERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuXG5jb25zdCBhZSA9IG5ldyBTb3J0ZWRTZXQoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudEtleVNldCguLi5lKSB7XG4gICAgbGV0IHQgPSBhZTtcbiAgICBmb3IgKGNvbnN0IG4gb2YgZSkgdCA9IHQuYWRkKG4pO1xuICAgIHJldHVybiB0O1xufVxuXG5jb25zdCB1ZSA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpO1xuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0SWRTZXQoKSB7XG4gICAgcmV0dXJuIHVlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGFuIERvdWJsZVZhbHVlIGZvciBgdmFsdWVgIHRoYXQgaXMgZW5jb2RlZCBiYXNlZCB0aGUgc2VyaWFsaXplcidzXG4gKiBgdXNlUHJvdG8zSnNvbmAgc2V0dGluZy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdG9Eb3VibGUoZSwgdCkge1xuICAgIGlmIChlLnVzZVByb3RvM0pzb24pIHtcbiAgICAgICAgaWYgKGlzTmFOKHQpKSByZXR1cm4ge1xuICAgICAgICAgICAgZG91YmxlVmFsdWU6IFwiTmFOXCJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKHQgPT09IDEgLyAwKSByZXR1cm4ge1xuICAgICAgICAgICAgZG91YmxlVmFsdWU6IFwiSW5maW5pdHlcIlxuICAgICAgICB9O1xuICAgICAgICBpZiAodCA9PT0gLTEgLyAwKSByZXR1cm4ge1xuICAgICAgICAgICAgZG91YmxlVmFsdWU6IFwiLUluZmluaXR5XCJcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZG91YmxlVmFsdWU6IF9fUFJJVkFURV9pc05lZ2F0aXZlWmVybyh0KSA/IFwiLTBcIiA6IHRcbiAgICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYW4gSW50ZWdlclZhbHVlIGZvciBgdmFsdWVgLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV90b0ludGVnZXIoZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGludGVnZXJWYWx1ZTogXCJcIiArIGVcbiAgICB9O1xufVxuXG4vKipcbiAqIFJldHVybnMgYSB2YWx1ZSBmb3IgYSBudW1iZXIgdGhhdCdzIGFwcHJvcHJpYXRlIHRvIHB1dCBpbnRvIGEgcHJvdG8uXG4gKiBUaGUgcmV0dXJuIHZhbHVlIGlzIGFuIEludGVnZXJWYWx1ZSBpZiBpdCBjYW4gc2FmZWx5IHJlcHJlc2VudCB0aGUgdmFsdWUsXG4gKiBvdGhlcndpc2UgYSBEb3VibGVWYWx1ZSBpcyByZXR1cm5lZC5cbiAqLyBmdW5jdGlvbiB0b051bWJlcihlLCB0KSB7XG4gICAgcmV0dXJuIGlzU2FmZUludGVnZXIodCkgPyBfX1BSSVZBVEVfdG9JbnRlZ2VyKHQpIDogX19QUklWQVRFX3RvRG91YmxlKGUsIHQpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIFVzZWQgdG8gcmVwcmVzZW50IGEgZmllbGQgdHJhbnNmb3JtIG9uIGEgbXV0YXRpb24uICovIGNsYXNzIFRyYW5zZm9ybU9wZXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIE1ha2Ugc3VyZSB0aGF0IHRoZSBzdHJ1Y3R1cmFsIHR5cGUgb2YgYFRyYW5zZm9ybU9wZXJhdGlvbmAgaXMgdW5pcXVlLlxuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy81NDUxXG4gICAgICAgIHRoaXMuXyA9IHZvaWQgMDtcbiAgICB9XG59XG5cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGxvY2FsIHRyYW5zZm9ybSByZXN1bHQgYWdhaW5zdCB0aGUgcHJvdmlkZWQgYHByZXZpb3VzVmFsdWVgLFxuICogb3B0aW9uYWxseSB1c2luZyB0aGUgcHJvdmlkZWQgbG9jYWxXcml0ZVRpbWUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5VHJhbnNmb3JtT3BlcmF0aW9uVG9Mb2NhbFZpZXcoZSwgdCwgbikge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybSA/IGZ1bmN0aW9uIHNlcnZlclRpbWVzdGFtcCQxKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIF9fdHlwZV9fOiB7XG4gICAgICAgICAgICAgICAgICAgIHN0cmluZ1ZhbHVlOiBcInNlcnZlcl90aW1lc3RhbXBcIlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgX19sb2NhbF93cml0ZV90aW1lX186IHtcbiAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wVmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHM6IGUuc2Vjb25kcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbm9zOiBlLm5hbm9zZWNvbmRzXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIC8vIFdlIHNob3VsZCBhdm9pZCBzdG9yaW5nIGRlZXBseSBuZXN0ZWQgc2VydmVyIHRpbWVzdGFtcCBtYXAgdmFsdWVzXG4gICAgICAgIC8vIGJlY2F1c2Ugd2UgbmV2ZXIgdXNlIHRoZSBpbnRlcm1lZGlhdGUgXCJwcmV2aW91cyB2YWx1ZXNcIi5cbiAgICAgICAgLy8gRm9yIGV4YW1wbGU6XG4gICAgICAgIC8vIHByZXZpb3VzOiA0MkwsIGFkZDogdDEsIHJlc3VsdDogdDEgLT4gNDJMXG4gICAgICAgIC8vIHByZXZpb3VzOiB0MSwgIGFkZDogdDIsIHJlc3VsdDogdDIgLT4gNDJMIChOT1QgdDIgLT4gdDEgLT4gNDJMKVxuICAgICAgICAvLyBwcmV2aW91czogdDIsICBhZGQ6IHQzLCByZXN1bHQ6IHQzIC0+IDQyTCAoTk9UIHQzIC0+IHQyIC0+IHQxIC0+IDQyTClcbiAgICAgICAgLy8gYGdldFByZXZpb3VzVmFsdWVgIHJlY3Vyc2l2ZWx5IHRyYXZlcnNlcyBzZXJ2ZXIgdGltZXN0YW1wcyB0byBmaW5kIHRoZVxuICAgICAgICAvLyBsZWFzdCByZWNlbnQgVmFsdWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHQgJiYgX19QUklWQVRFX2lzU2VydmVyVGltZXN0YW1wKHQpICYmICh0ID0gX19QUklWQVRFX2dldFByZXZpb3VzVmFsdWUodCkpLCBcbiAgICAgICAgdCAmJiAobi5maWVsZHMuX19wcmV2aW91c192YWx1ZV9fID0gdCksIHtcbiAgICAgICAgICAgIG1hcFZhbHVlOiBuXG4gICAgICAgIH07XG4gICAgfShuLCB0KSA6IGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbiA/IF9fUFJJVkFURV9hcHBseUFycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24oZSwgdCkgOiBlIGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uID8gX19QUklWQVRFX2FwcGx5QXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24oZSwgdCkgOiBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlOdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uVG9Mb2NhbFZpZXcoZSwgdCkge1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IFNpbmNlIEphdmFTY3JpcHQncyBpbnRlZ2VyIGFyaXRobWV0aWMgaXMgbGltaXRlZCB0byA1MyBiaXRcbiAgICAgICAgLy8gcHJlY2lzaW9uIGFuZCByZXNvbHZlcyBvdmVyZmxvd3MgYnkgcmVkdWNpbmcgcHJlY2lzaW9uLCB3ZSBkbyBub3RcbiAgICAgICAgLy8gbWFudWFsbHkgY2FwIG92ZXJmbG93cyBhdCAyXjYzLlxuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2NvbXB1dGVUcmFuc2Zvcm1PcGVyYXRpb25CYXNlVmFsdWUoZSwgdCksIHIgPSBhc051bWJlcihuKSArIGFzTnVtYmVyKGUuUGUpO1xuICAgICAgICByZXR1cm4gaXNJbnRlZ2VyKG4pICYmIGlzSW50ZWdlcihlLlBlKSA/IF9fUFJJVkFURV90b0ludGVnZXIocikgOiBfX1BSSVZBVEVfdG9Eb3VibGUoZS5zZXJpYWxpemVyLCByKTtcbiAgICB9KGUsIHQpO1xufVxuXG4vKipcbiAqIENvbXB1dGVzIGEgZmluYWwgdHJhbnNmb3JtIHJlc3VsdCBhZnRlciB0aGUgdHJhbnNmb3JtIGhhcyBiZWVuIGFja25vd2xlZGdlZFxuICogYnkgdGhlIHNlcnZlciwgcG90ZW50aWFsbHkgdXNpbmcgdGhlIHNlcnZlci1wcm92aWRlZCB0cmFuc2Zvcm1SZXN1bHQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5VHJhbnNmb3JtT3BlcmF0aW9uVG9SZW1vdGVEb2N1bWVudChlLCB0LCBuKSB7XG4gICAgLy8gVGhlIHNlcnZlciBqdXN0IHNlbmRzIG51bGwgYXMgdGhlIHRyYW5zZm9ybSByZXN1bHQgZm9yIGFycmF5IG9wZXJhdGlvbnMsXG4gICAgLy8gc28gd2UgaGF2ZSB0byBjYWxjdWxhdGUgYSByZXN1bHQgdGhlIHNhbWUgYXMgd2UgZG8gZm9yIGxvY2FsXG4gICAgLy8gYXBwbGljYXRpb25zLlxuICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24gPyBfX1BSSVZBVEVfYXBwbHlBcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQpIDogZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbiA/IF9fUFJJVkFURV9hcHBseUFycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQpIDogbjtcbn1cblxuLyoqXG4gKiBJZiB0aGlzIHRyYW5zZm9ybSBvcGVyYXRpb24gaXMgbm90IGlkZW1wb3RlbnQsIHJldHVybnMgdGhlIGJhc2UgdmFsdWUgdG9cbiAqIHBlcnNpc3QgZm9yIHRoaXMgdHJhbnNmb3JtLiBJZiBhIGJhc2UgdmFsdWUgaXMgcmV0dXJuZWQsIHRoZSB0cmFuc2Zvcm1cbiAqIG9wZXJhdGlvbiBpcyBhbHdheXMgYXBwbGllZCB0byB0aGlzIGJhc2UgdmFsdWUsIGV2ZW4gaWYgZG9jdW1lbnQgaGFzXG4gKiBhbHJlYWR5IGJlZW4gdXBkYXRlZC5cbiAqXG4gKiBCYXNlIHZhbHVlcyBwcm92aWRlIGNvbnNpc3RlbnQgYmVoYXZpb3IgZm9yIG5vbi1pZGVtcG90ZW50IHRyYW5zZm9ybXMgYW5kXG4gKiBhbGxvdyB1cyB0byByZXR1cm4gdGhlIHNhbWUgbGF0ZW5jeS1jb21wZW5zYXRlZCB2YWx1ZSBldmVuIGlmIHRoZSBiYWNrZW5kXG4gKiBoYXMgYWxyZWFkeSBhcHBsaWVkIHRoZSB0cmFuc2Zvcm0gb3BlcmF0aW9uLiBUaGUgYmFzZSB2YWx1ZSBpcyBudWxsIGZvclxuICogaWRlbXBvdGVudCB0cmFuc2Zvcm1zLCBhcyB0aGV5IGNhbiBiZSByZS1wbGF5ZWQgZXZlbiBpZiB0aGUgYmFja2VuZCBoYXNcbiAqIGFscmVhZHkgYXBwbGllZCB0aGVtLlxuICpcbiAqIEByZXR1cm5zIGEgYmFzZSB2YWx1ZSB0byBzdG9yZSBhbG9uZyB3aXRoIHRoZSBtdXRhdGlvbiwgb3IgbnVsbCBmb3JcbiAqIGlkZW1wb3RlbnQgdHJhbnNmb3Jtcy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY29tcHV0ZVRyYW5zZm9ybU9wZXJhdGlvbkJhc2VWYWx1ZShlLCB0KSB7XG4gICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvbiA/IFxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgYHZhbHVlYCBpcyBlaXRoZXIgYW4gSW50ZWdlclZhbHVlIG9yIGEgRG91YmxlVmFsdWUuICovXG4gICAgZnVuY3Rpb24gX19QUklWQVRFX2lzTnVtYmVyKGUpIHtcbiAgICAgICAgcmV0dXJuIGlzSW50ZWdlcihlKSB8fCBmdW5jdGlvbiBfX1BSSVZBVEVfaXNEb3VibGUoZSkge1xuICAgICAgICAgICAgcmV0dXJuICEhZSAmJiBcImRvdWJsZVZhbHVlXCIgaW4gZTtcbiAgICAgICAgfShlKTtcbiAgICB9KHQpID8gdCA6IHtcbiAgICAgICAgaW50ZWdlclZhbHVlOiAwXG4gICAgfSA6IG51bGw7XG59XG5cbi8qKiBUcmFuc2Zvcm1zIGEgdmFsdWUgaW50byBhIHNlcnZlci1nZW5lcmF0ZWQgdGltZXN0YW1wLiAqL1xuY2xhc3MgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybSBleHRlbmRzIFRyYW5zZm9ybU9wZXJhdGlvbiB7fVxuXG4vKiogVHJhbnNmb3JtcyBhbiBhcnJheSB2YWx1ZSB2aWEgYSB1bmlvbiBvcGVyYXRpb24uICovIGNsYXNzIF9fUFJJVkFURV9BcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uIGV4dGVuZHMgVHJhbnNmb3JtT3BlcmF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuZWxlbWVudHMgPSBlO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5QXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbihlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9jb2VyY2VkRmllbGRWYWx1ZXNBcnJheSh0KTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgZS5lbGVtZW50cykgbi5zb21lKChlID0+IF9fUFJJVkFURV92YWx1ZUVxdWFscyhlLCB0KSkpIHx8IG4ucHVzaCh0KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcnJheVZhbHVlOiB7XG4gICAgICAgICAgICB2YWx1ZXM6IG5cbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKiBUcmFuc2Zvcm1zIGFuIGFycmF5IHZhbHVlIHZpYSBhIHJlbW92ZSBvcGVyYXRpb24uICovIGNsYXNzIF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbiBleHRlbmRzIFRyYW5zZm9ybU9wZXJhdGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmVsZW1lbnRzID0gZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseUFycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uKGUsIHQpIHtcbiAgICBsZXQgbiA9IF9fUFJJVkFURV9jb2VyY2VkRmllbGRWYWx1ZXNBcnJheSh0KTtcbiAgICBmb3IgKGNvbnN0IHQgb2YgZS5lbGVtZW50cykgbiA9IG4uZmlsdGVyKChlID0+ICFfX1BSSVZBVEVfdmFsdWVFcXVhbHMoZSwgdCkpKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhcnJheVZhbHVlOiB7XG4gICAgICAgICAgICB2YWx1ZXM6IG5cbiAgICAgICAgfVxuICAgIH07XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgYmFja2VuZCBzZW1hbnRpY3MgZm9yIGxvY2FsbHkgY29tcHV0ZWQgTlVNRVJJQ19BREQgKGluY3JlbWVudClcbiAqIHRyYW5zZm9ybXMuIENvbnZlcnRzIGFsbCBmaWVsZCB2YWx1ZXMgdG8gaW50ZWdlcnMgb3IgZG91YmxlcywgYnV0IHVubGlrZSB0aGVcbiAqIGJhY2tlbmQgZG9lcyBub3QgY2FwIGludGVnZXIgdmFsdWVzIGF0IDJeNjMuIEluc3RlYWQsIEphdmFTY3JpcHQgbnVtYmVyXG4gKiBhcml0aG1ldGljIGlzIHVzZWQgYW5kIHByZWNpc2lvbiBsb3NzIGNhbiBvY2N1ciBmb3IgdmFsdWVzIGdyZWF0ZXIgdGhhbiAyXjUzLlxuICovIGNsYXNzIF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uIGV4dGVuZHMgVHJhbnNmb3JtT3BlcmF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuc2VyaWFsaXplciA9IGUsIHRoaXMuUGUgPSB0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gYXNOdW1iZXIoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuaW50ZWdlclZhbHVlIHx8IGUuZG91YmxlVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY29lcmNlZEZpZWxkVmFsdWVzQXJyYXkoZSkge1xuICAgIHJldHVybiBpc0FycmF5KGUpICYmIGUuYXJyYXlWYWx1ZS52YWx1ZXMgPyBlLmFycmF5VmFsdWUudmFsdWVzLnNsaWNlKCkgOiBbXTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBBIGZpZWxkIHBhdGggYW5kIHRoZSBUcmFuc2Zvcm1PcGVyYXRpb24gdG8gcGVyZm9ybSB1cG9uIGl0LiAqLyBjbGFzcyBGaWVsZFRyYW5zZm9ybSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmZpZWxkID0gZSwgdGhpcy50cmFuc2Zvcm0gPSB0O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkVHJhbnNmb3JtRXF1YWxzKGUsIHQpIHtcbiAgICByZXR1cm4gZS5maWVsZC5pc0VxdWFsKHQuZmllbGQpICYmIGZ1bmN0aW9uIF9fUFJJVkFURV90cmFuc2Zvcm1PcGVyYXRpb25FcXVhbHMoZSwgdCkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uICYmIHQgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbiB8fCBlIGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uICYmIHQgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24gPyBfX1BSSVZBVEVfYXJyYXlFcXVhbHMoZS5lbGVtZW50cywgdC5lbGVtZW50cywgX19QUklWQVRFX3ZhbHVlRXF1YWxzKSA6IGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudFRyYW5zZm9ybU9wZXJhdGlvbiAmJiB0IGluc3RhbmNlb2YgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRUcmFuc2Zvcm1PcGVyYXRpb24gPyBfX1BSSVZBVEVfdmFsdWVFcXVhbHMoZS5QZSwgdC5QZSkgOiBlIGluc3RhbmNlb2YgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybSAmJiB0IGluc3RhbmNlb2YgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybTtcbiAgICB9KGUudHJhbnNmb3JtLCB0LnRyYW5zZm9ybSk7XG59XG5cbi8qKiBUaGUgcmVzdWx0IG9mIHN1Y2Nlc3NmdWxseSBhcHBseWluZyBhIG11dGF0aW9uIHRvIHRoZSBiYWNrZW5kLiAqL1xuY2xhc3MgTXV0YXRpb25SZXN1bHQge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJzaW9uIGF0IHdoaWNoIHRoZSBtdXRhdGlvbiB3YXMgY29tbWl0dGVkOlxuICAgICAqXG4gICAgICogLSBGb3IgbW9zdCBvcGVyYXRpb25zLCB0aGlzIGlzIHRoZSB1cGRhdGVUaW1lIGluIHRoZSBXcml0ZVJlc3VsdC5cbiAgICAgKiAtIEZvciBkZWxldGVzLCB0aGUgY29tbWl0VGltZSBvZiB0aGUgV3JpdGVSZXNwb25zZSAoYmVjYXVzZSBkZWxldGVzIGFyZVxuICAgICAqICAgbm90IHN0b3JlZCBhbmQgaGF2ZSBubyB1cGRhdGVUaW1lKS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGVzZSB2ZXJzaW9ucyBjYW4gYmUgZGlmZmVyZW50OiBOby1vcCB3cml0ZXMgd2lsbCBub3QgY2hhbmdlXG4gICAgICogdGhlIHVwZGF0ZVRpbWUgZXZlbiB0aG91Z2ggdGhlIGNvbW1pdFRpbWUgYWR2YW5jZXMuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIHJlc3VsdGluZyBmaWVsZHMgcmV0dXJuZWQgZnJvbSB0aGUgYmFja2VuZCBhZnRlciBhIG11dGF0aW9uXG4gICAgICogY29udGFpbmluZyBmaWVsZCB0cmFuc2Zvcm1zIGhhcyBiZWVuIGNvbW1pdHRlZC4gQ29udGFpbnMgb25lIEZpZWxkVmFsdWVcbiAgICAgKiBmb3IgZWFjaCBGaWVsZFRyYW5zZm9ybSB0aGF0IHdhcyBpbiB0aGUgbXV0YXRpb24uXG4gICAgICpcbiAgICAgKiBXaWxsIGJlIGVtcHR5IGlmIHRoZSBtdXRhdGlvbiBkaWQgbm90IGNvbnRhaW4gYW55IGZpZWxkIHRyYW5zZm9ybXMuXG4gICAgICovXG4gICAgdCkge1xuICAgICAgICB0aGlzLnZlcnNpb24gPSBlLCB0aGlzLnRyYW5zZm9ybVJlc3VsdHMgPSB0O1xuICAgIH1cbn1cblxuLyoqXG4gKiBFbmNvZGVzIGEgcHJlY29uZGl0aW9uIGZvciBhIG11dGF0aW9uLiBUaGlzIGZvbGxvd3MgdGhlIG1vZGVsIHRoYXQgdGhlXG4gKiBiYWNrZW5kIGFjY2VwdHMgd2l0aCB0aGUgc3BlY2lhbCBjYXNlIG9mIGFuIGV4cGxpY2l0IFwiZW1wdHlcIiBwcmVjb25kaXRpb25cbiAqIChtZWFuaW5nIG5vIHByZWNvbmRpdGlvbikuXG4gKi8gY2xhc3MgUHJlY29uZGl0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMudXBkYXRlVGltZSA9IGUsIHRoaXMuZXhpc3RzID0gdDtcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgZW1wdHkgUHJlY29uZGl0aW9uLiAqLyAgICBzdGF0aWMgbm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcmVjb25kaXRpb247XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIGEgbmV3IFByZWNvbmRpdGlvbiB3aXRoIGFuIGV4aXN0cyBmbGFnLiAqLyAgICBzdGF0aWMgZXhpc3RzKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcmVjb25kaXRpb24odm9pZCAwLCBlKTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgUHJlY29uZGl0aW9uIGJhc2VkIG9uIGEgdmVyc2lvbiBhIGRvY3VtZW50IGV4aXN0cyBhdC4gKi8gICAgc3RhdGljIHVwZGF0ZVRpbWUoZSkge1xuICAgICAgICByZXR1cm4gbmV3IFByZWNvbmRpdGlvbihlKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgd2hldGhlciB0aGlzIFByZWNvbmRpdGlvbiBpcyBlbXB0eS4gKi8gICAgZ2V0IGlzTm9uZSgpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCA9PT0gdGhpcy51cGRhdGVUaW1lICYmIHZvaWQgMCA9PT0gdGhpcy5leGlzdHM7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5leGlzdHMgPT09IGUuZXhpc3RzICYmICh0aGlzLnVwZGF0ZVRpbWUgPyAhIWUudXBkYXRlVGltZSAmJiB0aGlzLnVwZGF0ZVRpbWUuaXNFcXVhbChlLnVwZGF0ZVRpbWUpIDogIWUudXBkYXRlVGltZSk7XG4gICAgfVxufVxuXG4vKiogUmV0dXJucyB0cnVlIGlmIHRoZSBwcmVjb25kaXRpb25zIGlzIHZhbGlkIGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wcmVjb25kaXRpb25Jc1ZhbGlkRm9yRG9jdW1lbnQoZSwgdCkge1xuICAgIHJldHVybiB2b2lkIDAgIT09IGUudXBkYXRlVGltZSA/IHQuaXNGb3VuZERvY3VtZW50KCkgJiYgdC52ZXJzaW9uLmlzRXF1YWwoZS51cGRhdGVUaW1lKSA6IHZvaWQgMCA9PT0gZS5leGlzdHMgfHwgZS5leGlzdHMgPT09IHQuaXNGb3VuZERvY3VtZW50KCk7XG59XG5cbi8qKlxuICogQSBtdXRhdGlvbiBkZXNjcmliZXMgYSBzZWxmLWNvbnRhaW5lZCBjaGFuZ2UgdG8gYSBkb2N1bWVudC4gTXV0YXRpb25zIGNhblxuICogY3JlYXRlLCByZXBsYWNlLCBkZWxldGUsIGFuZCB1cGRhdGUgc3Vic2V0cyBvZiBkb2N1bWVudHMuXG4gKlxuICogTXV0YXRpb25zIG5vdCBvbmx5IGFjdCBvbiB0aGUgdmFsdWUgb2YgdGhlIGRvY3VtZW50IGJ1dCBhbHNvIGl0cyB2ZXJzaW9uLlxuICpcbiAqIEZvciBsb2NhbCBtdXRhdGlvbnMgKG11dGF0aW9ucyB0aGF0IGhhdmVuJ3QgYmVlbiBjb21taXR0ZWQgeWV0KSwgd2UgcHJlc2VydmVcbiAqIHRoZSBleGlzdGluZyB2ZXJzaW9uIGZvciBTZXQgYW5kIFBhdGNoIG11dGF0aW9ucy4gRm9yIERlbGV0ZSBtdXRhdGlvbnMsIHdlXG4gKiByZXNldCB0aGUgdmVyc2lvbiB0byAwLlxuICpcbiAqIEhlcmUncyB0aGUgZXhwZWN0ZWQgdHJhbnNpdGlvbiB0YWJsZS5cbiAqXG4gKiBNVVRBVElPTiAgICAgICAgICAgQVBQTElFRCBUTyAgICAgICAgICAgIFJFU1VMVFMgSU5cbiAqXG4gKiBTZXRNdXRhdGlvbiAgICAgICAgRG9jdW1lbnQodjMpICAgICAgICAgIERvY3VtZW50KHYzKVxuICogU2V0TXV0YXRpb24gICAgICAgIE5vRG9jdW1lbnQodjMpICAgICAgICBEb2N1bWVudCh2MClcbiAqIFNldE11dGF0aW9uICAgICAgICBJbnZhbGlkRG9jdW1lbnQodjApICAgRG9jdW1lbnQodjApXG4gKiBQYXRjaE11dGF0aW9uICAgICAgRG9jdW1lbnQodjMpICAgICAgICAgIERvY3VtZW50KHYzKVxuICogUGF0Y2hNdXRhdGlvbiAgICAgIE5vRG9jdW1lbnQodjMpICAgICAgICBOb0RvY3VtZW50KHYzKVxuICogUGF0Y2hNdXRhdGlvbiAgICAgIEludmFsaWREb2N1bWVudCh2MCkgICBVbmtub3duRG9jdW1lbnQodjMpXG4gKiBEZWxldGVNdXRhdGlvbiAgICAgRG9jdW1lbnQodjMpICAgICAgICAgIE5vRG9jdW1lbnQodjApXG4gKiBEZWxldGVNdXRhdGlvbiAgICAgTm9Eb2N1bWVudCh2MykgICAgICAgIE5vRG9jdW1lbnQodjApXG4gKiBEZWxldGVNdXRhdGlvbiAgICAgSW52YWxpZERvY3VtZW50KHYwKSAgIE5vRG9jdW1lbnQodjApXG4gKlxuICogRm9yIGFja25vd2xlZGdlZCBtdXRhdGlvbnMsIHdlIHVzZSB0aGUgdXBkYXRlVGltZSBvZiB0aGUgV3JpdGVSZXNwb25zZSBhc1xuICogdGhlIHJlc3VsdGluZyB2ZXJzaW9uIGZvciBTZXQgYW5kIFBhdGNoIG11dGF0aW9ucy4gQXMgZGVsZXRlcyBoYXZlIG5vXG4gKiBleHBsaWNpdCB1cGRhdGUgdGltZSwgd2UgdXNlIHRoZSBjb21taXRUaW1lIG9mIHRoZSBXcml0ZVJlc3BvbnNlIGZvclxuICogRGVsZXRlIG11dGF0aW9ucy5cbiAqXG4gKiBJZiBhIG11dGF0aW9uIGlzIGFja25vd2xlZGdlZCBieSB0aGUgYmFja2VuZCBidXQgZmFpbHMgdGhlIHByZWNvbmRpdGlvbiBjaGVja1xuICogbG9jYWxseSwgd2UgdHJhbnNpdGlvbiB0byBhbiBgVW5rbm93bkRvY3VtZW50YCBhbmQgcmVseSBvbiBXYXRjaCB0byBzZW5kIHVzXG4gKiB0aGUgdXBkYXRlZCB2ZXJzaW9uLlxuICpcbiAqIEZpZWxkIHRyYW5zZm9ybXMgYXJlIHVzZWQgb25seSB3aXRoIFBhdGNoIGFuZCBTZXQgTXV0YXRpb25zLiBXZSB1c2UgdGhlXG4gKiBgdXBkYXRlVHJhbnNmb3Jtc2AgbWVzc2FnZSB0byBzdG9yZSB0cmFuc2Zvcm1zLCByYXRoZXIgdGhhbiB0aGUgYHRyYW5zZm9ybXNgc1xuICogbWVzc2FnZXMuXG4gKlxuICogIyMgU3ViY2xhc3NpbmcgTm90ZXNcbiAqXG4gKiBFdmVyeSB0eXBlIG9mIG11dGF0aW9uIG5lZWRzIHRvIGltcGxlbWVudCBpdHMgb3duIGFwcGx5VG9SZW1vdGVEb2N1bWVudCgpIGFuZFxuICogYXBwbHlUb0xvY2FsVmlldygpIHRvIGltcGxlbWVudCB0aGUgYWN0dWFsIGJlaGF2aW9yIG9mIGFwcGx5aW5nIHRoZSBtdXRhdGlvblxuICogdG8gc29tZSBzb3VyY2UgZG9jdW1lbnQgKHNlZSBgc2V0TXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQoKWAgZm9yIGFuXG4gKiBleGFtcGxlKS5cbiAqLyBjbGFzcyBNdXRhdGlvbiB7fVxuXG4vKipcbiAqIEEgdXRpbGl0eSBtZXRob2QgdG8gY2FsY3VsYXRlIGEgYE11dGF0aW9uYCByZXByZXNlbnRpbmcgdGhlIG92ZXJsYXkgZnJvbSB0aGVcbiAqIGZpbmFsIHN0YXRlIG9mIHRoZSBkb2N1bWVudCwgYW5kIGEgYEZpZWxkTWFza2AgcmVwcmVzZW50aW5nIHRoZSBmaWVsZHMgdGhhdFxuICogYXJlIG11dGF0ZWQgYnkgdGhlIGxvY2FsIG11dGF0aW9ucy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY2FsY3VsYXRlT3ZlcmxheU11dGF0aW9uKGUsIHQpIHtcbiAgICBpZiAoIWUuaGFzTG9jYWxNdXRhdGlvbnMgfHwgdCAmJiAwID09PSB0LmZpZWxkcy5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgIC8vIG1hc2sgaXMgbnVsbCB3aGVuIHNldHMgb3IgZGVsZXRlcyBhcmUgYXBwbGllZCB0byB0aGUgY3VycmVudCBkb2N1bWVudC5cbiAgICAgICAgaWYgKG51bGwgPT09IHQpIHJldHVybiBlLmlzTm9Eb2N1bWVudCgpID8gbmV3IF9fUFJJVkFURV9EZWxldGVNdXRhdGlvbihlLmtleSwgUHJlY29uZGl0aW9uLm5vbmUoKSkgOiBuZXcgX19QUklWQVRFX1NldE11dGF0aW9uKGUua2V5LCBlLmRhdGEsIFByZWNvbmRpdGlvbi5ub25lKCkpO1xuICAgIHtcbiAgICAgICAgY29uc3QgbiA9IGUuZGF0YSwgciA9IE9iamVjdFZhbHVlLmVtcHR5KCk7XG4gICAgICAgIGxldCBpID0gbmV3IFNvcnRlZFNldChGaWVsZFBhdGgkMS5jb21wYXJhdG9yKTtcbiAgICAgICAgZm9yIChsZXQgZSBvZiB0LmZpZWxkcykgaWYgKCFpLmhhcyhlKSkge1xuICAgICAgICAgICAgbGV0IHQgPSBuLmZpZWxkKGUpO1xuICAgICAgICAgICAgLy8gSWYgd2UgYXJlIGRlbGV0aW5nIGEgbmVzdGVkIGZpZWxkLCB3ZSB0YWtlIHRoZSBpbW1lZGlhdGUgcGFyZW50IGFzXG4gICAgICAgICAgICAvLyB0aGUgbWFzayB1c2VkIHRvIGNvbnN0cnVjdCB0aGUgcmVzdWx0aW5nIG11dGF0aW9uLlxuICAgICAgICAgICAgLy8gSnVzdGlmaWNhdGlvbjogTmVzdGVkIGZpZWxkcyBjYW4gY3JlYXRlIHBhcmVudCBmaWVsZHMgaW1wbGljaXRseS4gSWZcbiAgICAgICAgICAgIC8vIG9ubHkgYSBsZWFmIGVudHJ5IGlzIGRlbGV0ZWQgaW4gbGF0ZXIgbXV0YXRpb25zLCB0aGUgcGFyZW50IGZpZWxkXG4gICAgICAgICAgICAvLyBzaG91bGQgc3RpbGwgcmVtYWluLCBidXQgd2UgbWF5IGhhdmUgbG9zdCB0aGlzIGluZm9ybWF0aW9uLlxuICAgICAgICAgICAgLy8gQ29uc2lkZXIgbXV0YXRpb24gKGZvby5iYXIgMSksIHRoZW4gbXV0YXRpb24gKGZvby5iYXIgZGVsZXRlKCkpLlxuICAgICAgICAgICAgLy8gVGhpcyBsZWF2ZXMgdGhlIGZpbmFsIHJlc3VsdCAoZm9vLCB7fSkuIERlc3BpdGUgdGhlIGZhY3QgdGhhdCBgZG9jYFxuICAgICAgICAgICAgLy8gaGFzIHRoZSBjb3JyZWN0IHJlc3VsdCwgYGZvb2AgaXMgbm90IGluIGBtYXNrYCwgYW5kIHRoZSByZXN1bHRpbmdcbiAgICAgICAgICAgIC8vIG11dGF0aW9uIHdvdWxkIG1pc3MgYGZvb2AuXG4gICAgICAgICAgICAgICAgICAgICAgICBudWxsID09PSB0ICYmIGUubGVuZ3RoID4gMSAmJiAoZSA9IGUucG9wTGFzdCgpLCB0ID0gbi5maWVsZChlKSksIG51bGwgPT09IHQgPyByLmRlbGV0ZShlKSA6IHIuc2V0KGUsIHQpLCBcbiAgICAgICAgICAgIGkgPSBpLmFkZChlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9QYXRjaE11dGF0aW9uKGUua2V5LCByLCBuZXcgRmllbGRNYXNrKGkudG9BcnJheSgpKSwgUHJlY29uZGl0aW9uLm5vbmUoKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFwcGxpZXMgdGhpcyBtdXRhdGlvbiB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQgZm9yIHRoZSBwdXJwb3NlcyBvZiBjb21wdXRpbmcgYVxuICogbmV3IHJlbW90ZSBkb2N1bWVudC4gSWYgdGhlIGlucHV0IGRvY3VtZW50IGRvZXNuJ3QgbWF0Y2ggdGhlIGV4cGVjdGVkIHN0YXRlXG4gKiAoZS5nLiBpdCBpcyBpbnZhbGlkIG9yIG91dGRhdGVkKSwgdGhlIGRvY3VtZW50IHR5cGUgbWF5IHRyYW5zaXRpb24gdG9cbiAqIHVua25vd24uXG4gKlxuICogQHBhcmFtIG11dGF0aW9uIC0gVGhlIG11dGF0aW9uIHRvIGFwcGx5LlxuICogQHBhcmFtIGRvY3VtZW50IC0gVGhlIGRvY3VtZW50IHRvIG11dGF0ZS4gVGhlIGlucHV0IGRvY3VtZW50IGNhbiBiZSBhblxuICogICAgIGludmFsaWQgZG9jdW1lbnQgaWYgdGhlIGNsaWVudCBoYXMgbm8ga25vd2xlZGdlIG9mIHRoZSBwcmUtbXV0YXRpb24gc3RhdGVcbiAqICAgICBvZiB0aGUgZG9jdW1lbnQuXG4gKiBAcGFyYW0gbXV0YXRpb25SZXN1bHQgLSBUaGUgcmVzdWx0IG9mIGFwcGx5aW5nIHRoZSBtdXRhdGlvbiBmcm9tIHRoZSBiYWNrZW5kLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9SZW1vdGVEb2N1bWVudChlLCB0LCBuKSB7XG4gICAgZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXRNdXRhdGlvbiA/IGZ1bmN0aW9uIF9fUFJJVkFURV9zZXRNdXRhdGlvbkFwcGx5VG9SZW1vdGVEb2N1bWVudChlLCB0LCBuKSB7XG4gICAgICAgIC8vIFVubGlrZSBzZXRNdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcsIGlmIHdlJ3JlIGFwcGx5aW5nIGEgbXV0YXRpb24gdG8gYVxuICAgICAgICAvLyByZW1vdGUgZG9jdW1lbnQgdGhlIHNlcnZlciBoYXMgYWNjZXB0ZWQgdGhlIG11dGF0aW9uIHNvIHRoZSBwcmVjb25kaXRpb25cbiAgICAgICAgLy8gbXVzdCBoYXZlIGhlbGQuXG4gICAgICAgIGNvbnN0IHIgPSBlLnZhbHVlLmNsb25lKCksIGkgPSBfX1BSSVZBVEVfc2VydmVyVHJhbnNmb3JtUmVzdWx0cyhlLmZpZWxkVHJhbnNmb3JtcywgdCwgbi50cmFuc2Zvcm1SZXN1bHRzKTtcbiAgICAgICAgci5zZXRBbGwoaSksIHQuY29udmVydFRvRm91bmREb2N1bWVudChuLnZlcnNpb24sIHIpLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpO1xuICAgIH0oZSwgdCwgbikgOiBlIGluc3RhbmNlb2YgX19QUklWQVRFX1BhdGNoTXV0YXRpb24gPyBmdW5jdGlvbiBfX1BSSVZBVEVfcGF0Y2hNdXRhdGlvbkFwcGx5VG9SZW1vdGVEb2N1bWVudChlLCB0LCBuKSB7XG4gICAgICAgIGlmICghX19QUklWQVRFX3ByZWNvbmRpdGlvbklzVmFsaWRGb3JEb2N1bWVudChlLnByZWNvbmRpdGlvbiwgdCkpIFxuICAgICAgICAvLyBTaW5jZSB0aGUgbXV0YXRpb24gd2FzIG5vdCByZWplY3RlZCwgd2Uga25vdyB0aGF0IHRoZSBwcmVjb25kaXRpb25cbiAgICAgICAgLy8gbWF0Y2hlZCBvbiB0aGUgYmFja2VuZC4gV2UgdGhlcmVmb3JlIG11c3Qgbm90IGhhdmUgdGhlIGV4cGVjdGVkIHZlcnNpb25cbiAgICAgICAgLy8gb2YgdGhlIGRvY3VtZW50IGluIG91ciBjYWNoZSBhbmQgY29udmVydCB0byBhbiBVbmtub3duRG9jdW1lbnQgd2l0aCBhXG4gICAgICAgIC8vIGtub3duIHVwZGF0ZVRpbWUuXG4gICAgICAgIHJldHVybiB2b2lkIHQuY29udmVydFRvVW5rbm93bkRvY3VtZW50KG4udmVyc2lvbik7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfc2VydmVyVHJhbnNmb3JtUmVzdWx0cyhlLmZpZWxkVHJhbnNmb3JtcywgdCwgbi50cmFuc2Zvcm1SZXN1bHRzKSwgaSA9IHQuZGF0YTtcbiAgICAgICAgaS5zZXRBbGwoX19QUklWQVRFX2dldFBhdGNoKGUpKSwgaS5zZXRBbGwociksIHQuY29udmVydFRvRm91bmREb2N1bWVudChuLnZlcnNpb24sIGkpLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpO1xuICAgIH0oZSwgdCwgbikgOiBmdW5jdGlvbiBfX1BSSVZBVEVfZGVsZXRlTXV0YXRpb25BcHBseVRvUmVtb3RlRG9jdW1lbnQoZSwgdCwgbikge1xuICAgICAgICAvLyBVbmxpa2UgYXBwbHlUb0xvY2FsVmlldywgaWYgd2UncmUgYXBwbHlpbmcgYSBtdXRhdGlvbiB0byBhIHJlbW90ZVxuICAgICAgICAvLyBkb2N1bWVudCB0aGUgc2VydmVyIGhhcyBhY2NlcHRlZCB0aGUgbXV0YXRpb24gc28gdGhlIHByZWNvbmRpdGlvbiBtdXN0XG4gICAgICAgIC8vIGhhdmUgaGVsZC5cbiAgICAgICAgdC5jb252ZXJ0VG9Ob0RvY3VtZW50KG4udmVyc2lvbikuc2V0SGFzQ29tbWl0dGVkTXV0YXRpb25zKCk7XG4gICAgfSgwLCB0LCBuKTtcbn1cblxuLyoqXG4gKiBBcHBsaWVzIHRoaXMgbXV0YXRpb24gdG8gdGhlIGdpdmVuIGRvY3VtZW50IGZvciB0aGUgcHVycG9zZXMgb2YgY29tcHV0aW5nXG4gKiB0aGUgbmV3IGxvY2FsIHZpZXcgb2YgYSBkb2N1bWVudC4gSWYgdGhlIGlucHV0IGRvY3VtZW50IGRvZXNuJ3QgbWF0Y2ggdGhlXG4gKiBleHBlY3RlZCBzdGF0ZSwgdGhlIGRvY3VtZW50IGlzIG5vdCBtb2RpZmllZC5cbiAqXG4gKiBAcGFyYW0gbXV0YXRpb24gLSBUaGUgbXV0YXRpb24gdG8gYXBwbHkuXG4gKiBAcGFyYW0gZG9jdW1lbnQgLSBUaGUgZG9jdW1lbnQgdG8gbXV0YXRlLiBUaGUgaW5wdXQgZG9jdW1lbnQgY2FuIGJlIGFuXG4gKiAgICAgaW52YWxpZCBkb2N1bWVudCBpZiB0aGUgY2xpZW50IGhhcyBubyBrbm93bGVkZ2Ugb2YgdGhlIHByZS1tdXRhdGlvbiBzdGF0ZVxuICogICAgIG9mIHRoZSBkb2N1bWVudC5cbiAqIEBwYXJhbSBwcmV2aW91c01hc2sgLSBUaGUgZmllbGRzIHRoYXQgaGF2ZSBiZWVuIHVwZGF0ZWQgYmVmb3JlIGFwcGx5aW5nIHRoaXMgbXV0YXRpb24uXG4gKiBAcGFyYW0gbG9jYWxXcml0ZVRpbWUgLSBBIHRpbWVzdGFtcCBpbmRpY2F0aW5nIHRoZSBsb2NhbCB3cml0ZSB0aW1lIG9mIHRoZVxuICogICAgIGJhdGNoIHRoaXMgbXV0YXRpb24gaXMgYSBwYXJ0IG9mLlxuICogQHJldHVybnMgQSBgRmllbGRNYXNrYCByZXByZXNlbnRpbmcgdGhlIGZpZWxkcyB0aGF0IGFyZSBjaGFuZ2VkIGJ5IGFwcGx5aW5nIHRoaXMgbXV0YXRpb24uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX211dGF0aW9uQXBwbHlUb0xvY2FsVmlldyhlLCB0LCBuLCByKSB7XG4gICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfU2V0TXV0YXRpb24gPyBmdW5jdGlvbiBfX1BSSVZBVEVfc2V0TXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgaWYgKCFfX1BSSVZBVEVfcHJlY29uZGl0aW9uSXNWYWxpZEZvckRvY3VtZW50KGUucHJlY29uZGl0aW9uLCB0KSkgXG4gICAgICAgIC8vIFRoZSBtdXRhdGlvbiBmYWlsZWQgdG8gYXBwbHkgKGUuZy4gYSBkb2N1bWVudCBJRCBjcmVhdGVkIHdpdGggYWRkKClcbiAgICAgICAgLy8gY2F1c2VkIGEgbmFtZSBjb2xsaXNpb24pLlxuICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgY29uc3QgaSA9IGUudmFsdWUuY2xvbmUoKSwgcyA9IF9fUFJJVkFURV9sb2NhbFRyYW5zZm9ybVJlc3VsdHMoZS5maWVsZFRyYW5zZm9ybXMsIHIsIHQpO1xuICAgICAgICByZXR1cm4gaS5zZXRBbGwocyksIHQuY29udmVydFRvRm91bmREb2N1bWVudCh0LnZlcnNpb24sIGkpLnNldEhhc0xvY2FsTXV0YXRpb25zKCksIFxuICAgICAgICBudWxsO1xuIC8vIFNldE11dGF0aW9uIG92ZXJ3cml0ZXMgYWxsIGZpZWxkcy5cbiAgICAgICAgfVxuICAgIC8qKlxuICogQSBtdXRhdGlvbiB0aGF0IG1vZGlmaWVzIGZpZWxkcyBvZiB0aGUgZG9jdW1lbnQgYXQgdGhlIGdpdmVuIGtleSB3aXRoIHRoZVxuICogZ2l2ZW4gdmFsdWVzLiBUaGUgdmFsdWVzIGFyZSBhcHBsaWVkIHRocm91Z2ggYSBmaWVsZCBtYXNrOlxuICpcbiAqICAqIFdoZW4gYSBmaWVsZCBpcyBpbiBib3RoIHRoZSBtYXNrIGFuZCB0aGUgdmFsdWVzLCB0aGUgY29ycmVzcG9uZGluZyBmaWVsZFxuICogICAgaXMgdXBkYXRlZC5cbiAqICAqIFdoZW4gYSBmaWVsZCBpcyBpbiBuZWl0aGVyIHRoZSBtYXNrIG5vciB0aGUgdmFsdWVzLCB0aGUgY29ycmVzcG9uZGluZ1xuICogICAgZmllbGQgaXMgdW5tb2RpZmllZC5cbiAqICAqIFdoZW4gYSBmaWVsZCBpcyBpbiB0aGUgbWFzayBidXQgbm90IGluIHRoZSB2YWx1ZXMsIHRoZSBjb3JyZXNwb25kaW5nIGZpZWxkXG4gKiAgICBpcyBkZWxldGVkLlxuICogICogV2hlbiBhIGZpZWxkIGlzIG5vdCBpbiB0aGUgbWFzayBidXQgaXMgaW4gdGhlIHZhbHVlcywgdGhlIHZhbHVlcyBtYXAgaXNcbiAqICAgIGlnbm9yZWQuXG4gKi8gKGUsIHQsIG4sIHIpIDogZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9QYXRjaE11dGF0aW9uID8gZnVuY3Rpb24gX19QUklWQVRFX3BhdGNoTXV0YXRpb25BcHBseVRvTG9jYWxWaWV3KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgaWYgKCFfX1BSSVZBVEVfcHJlY29uZGl0aW9uSXNWYWxpZEZvckRvY3VtZW50KGUucHJlY29uZGl0aW9uLCB0KSkgcmV0dXJuIG47XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfbG9jYWxUcmFuc2Zvcm1SZXN1bHRzKGUuZmllbGRUcmFuc2Zvcm1zLCByLCB0KSwgcyA9IHQuZGF0YTtcbiAgICAgICAgaWYgKHMuc2V0QWxsKF9fUFJJVkFURV9nZXRQYXRjaChlKSksIHMuc2V0QWxsKGkpLCB0LmNvbnZlcnRUb0ZvdW5kRG9jdW1lbnQodC52ZXJzaW9uLCBzKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpLCBcbiAgICAgICAgbnVsbCA9PT0gbikgcmV0dXJuIG51bGw7XG4gICAgICAgIHJldHVybiBuLnVuaW9uV2l0aChlLmZpZWxkTWFzay5maWVsZHMpLnVuaW9uV2l0aChlLmZpZWxkVHJhbnNmb3Jtcy5tYXAoKGUgPT4gZS5maWVsZCkpKTtcbiAgICB9XG4gICAgLyoqXG4gKiBSZXR1cm5zIGEgRmllbGRQYXRoL1ZhbHVlIG1hcCB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBQYXRjaE11dGF0aW9uLlxuICovIChlLCB0LCBuLCByKSA6IGZ1bmN0aW9uIF9fUFJJVkFURV9kZWxldGVNdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcoZSwgdCwgbikge1xuICAgICAgICBpZiAoX19QUklWQVRFX3ByZWNvbmRpdGlvbklzVmFsaWRGb3JEb2N1bWVudChlLnByZWNvbmRpdGlvbiwgdCkpIHJldHVybiB0LmNvbnZlcnRUb05vRG9jdW1lbnQodC52ZXJzaW9uKS5zZXRIYXNMb2NhbE11dGF0aW9ucygpLCBcbiAgICAgICAgbnVsbDtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxuICAgIC8qKlxuICogQSBtdXRhdGlvbiB0aGF0IHZlcmlmaWVzIHRoZSBleGlzdGVuY2Ugb2YgdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBrZXkgd2l0aFxuICogdGhlIHByb3ZpZGVkIHByZWNvbmRpdGlvbi5cbiAqXG4gKiBUaGUgYHZlcmlmeWAgb3BlcmF0aW9uIGlzIG9ubHkgdXNlZCBpbiBUcmFuc2FjdGlvbnMsIGFuZCB0aGlzIGNsYXNzIHNlcnZlc1xuICogcHJpbWFyaWx5IHRvIGZhY2lsaXRhdGUgc2VyaWFsaXphdGlvbiBpbnRvIHByb3Rvcy5cbiAqLyAoZSwgdCwgbik7XG59XG5cbi8qKlxuICogSWYgdGhpcyBtdXRhdGlvbiBpcyBub3QgaWRlbXBvdGVudCwgcmV0dXJucyB0aGUgYmFzZSB2YWx1ZSB0byBwZXJzaXN0IHdpdGhcbiAqIHRoaXMgbXV0YXRpb24uIElmIGEgYmFzZSB2YWx1ZSBpcyByZXR1cm5lZCwgdGhlIG11dGF0aW9uIGlzIGFsd2F5cyBhcHBsaWVkXG4gKiB0byB0aGlzIGJhc2UgdmFsdWUsIGV2ZW4gaWYgZG9jdW1lbnQgaGFzIGFscmVhZHkgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBiYXNlIHZhbHVlIGlzIGEgc3BhcnNlIG9iamVjdCB0aGF0IGNvbnNpc3RzIG9mIG9ubHkgdGhlIGRvY3VtZW50XG4gKiBmaWVsZHMgZm9yIHdoaWNoIHRoaXMgbXV0YXRpb24gY29udGFpbnMgYSBub24taWRlbXBvdGVudCB0cmFuc2Zvcm1hdGlvblxuICogKGUuZy4gYSBudW1lcmljIGluY3JlbWVudCkuIFRoZSBwcm92aWRlZCB2YWx1ZSBndWFyYW50ZWVzIGNvbnNpc3RlbnRcbiAqIGJlaGF2aW9yIGZvciBub24taWRlbXBvdGVudCB0cmFuc2Zvcm1zIGFuZCBhbGxvdyB1cyB0byByZXR1cm4gdGhlIHNhbWVcbiAqIGxhdGVuY3ktY29tcGVuc2F0ZWQgdmFsdWUgZXZlbiBpZiB0aGUgYmFja2VuZCBoYXMgYWxyZWFkeSBhcHBsaWVkIHRoZVxuICogbXV0YXRpb24uIFRoZSBiYXNlIHZhbHVlIGlzIG51bGwgZm9yIGlkZW1wb3RlbnQgbXV0YXRpb25zLCBhcyB0aGV5IGNhbiBiZVxuICogcmUtcGxheWVkIGV2ZW4gaWYgdGhlIGJhY2tlbmQgaGFzIGFscmVhZHkgYXBwbGllZCB0aGVtLlxuICpcbiAqIEByZXR1cm5zIGEgYmFzZSB2YWx1ZSB0byBzdG9yZSBhbG9uZyB3aXRoIHRoZSBtdXRhdGlvbiwgb3IgbnVsbCBmb3JcbiAqIGlkZW1wb3RlbnQgbXV0YXRpb25zLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhdGlvbkV4dHJhY3RCYXNlVmFsdWUoZSwgdCkge1xuICAgIGxldCBuID0gbnVsbDtcbiAgICBmb3IgKGNvbnN0IHIgb2YgZS5maWVsZFRyYW5zZm9ybXMpIHtcbiAgICAgICAgY29uc3QgZSA9IHQuZGF0YS5maWVsZChyLmZpZWxkKSwgaSA9IF9fUFJJVkFURV9jb21wdXRlVHJhbnNmb3JtT3BlcmF0aW9uQmFzZVZhbHVlKHIudHJhbnNmb3JtLCBlIHx8IG51bGwpO1xuICAgICAgICBudWxsICE9IGkgJiYgKG51bGwgPT09IG4gJiYgKG4gPSBPYmplY3RWYWx1ZS5lbXB0eSgpKSwgbi5zZXQoci5maWVsZCwgaSkpO1xuICAgIH1cbiAgICByZXR1cm4gbiB8fCBudWxsO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25FcXVhbHMoZSwgdCkge1xuICAgIHJldHVybiBlLnR5cGUgPT09IHQudHlwZSAmJiAoISFlLmtleS5pc0VxdWFsKHQua2V5KSAmJiAoISFlLnByZWNvbmRpdGlvbi5pc0VxdWFsKHQucHJlY29uZGl0aW9uKSAmJiAoISFmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRUcmFuc2Zvcm1zQXJlRXF1YWwoZSwgdCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwID09PSBlICYmIHZvaWQgMCA9PT0gdCB8fCAhKCFlIHx8ICF0KSAmJiBfX1BSSVZBVEVfYXJyYXlFcXVhbHMoZSwgdCwgKChlLCB0KSA9PiBfX1BSSVZBVEVfZmllbGRUcmFuc2Zvcm1FcXVhbHMoZSwgdCkpKTtcbiAgICB9KGUuZmllbGRUcmFuc2Zvcm1zLCB0LmZpZWxkVHJhbnNmb3JtcykgJiYgKDAgLyogTXV0YXRpb25UeXBlLlNldCAqLyA9PT0gZS50eXBlID8gZS52YWx1ZS5pc0VxdWFsKHQudmFsdWUpIDogMSAvKiBNdXRhdGlvblR5cGUuUGF0Y2ggKi8gIT09IGUudHlwZSB8fCBlLmRhdGEuaXNFcXVhbCh0LmRhdGEpICYmIGUuZmllbGRNYXNrLmlzRXF1YWwodC5maWVsZE1hc2spKSkpKTtcbn1cblxuLyoqXG4gKiBBIG11dGF0aW9uIHRoYXQgY3JlYXRlcyBvciByZXBsYWNlcyB0aGUgZG9jdW1lbnQgYXQgdGhlIGdpdmVuIGtleSB3aXRoIHRoZVxuICogb2JqZWN0IHZhbHVlIGNvbnRlbnRzLlxuICovIGNsYXNzIF9fUFJJVkFURV9TZXRNdXRhdGlvbiBleHRlbmRzIE11dGF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByID0gW10pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5rZXkgPSBlLCB0aGlzLnZhbHVlID0gdCwgdGhpcy5wcmVjb25kaXRpb24gPSBuLCB0aGlzLmZpZWxkVHJhbnNmb3JtcyA9IHIsIFxuICAgICAgICB0aGlzLnR5cGUgPSAwIC8qIE11dGF0aW9uVHlwZS5TZXQgKi87XG4gICAgfVxuICAgIGdldEZpZWxkTWFzaygpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbiBleHRlbmRzIE11dGF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpID0gW10pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5rZXkgPSBlLCB0aGlzLmRhdGEgPSB0LCB0aGlzLmZpZWxkTWFzayA9IG4sIHRoaXMucHJlY29uZGl0aW9uID0gciwgXG4gICAgICAgIHRoaXMuZmllbGRUcmFuc2Zvcm1zID0gaSwgdGhpcy50eXBlID0gMSAvKiBNdXRhdGlvblR5cGUuUGF0Y2ggKi87XG4gICAgfVxuICAgIGdldEZpZWxkTWFzaygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGRNYXNrO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2dldFBhdGNoKGUpIHtcbiAgICBjb25zdCB0ID0gbmV3IE1hcDtcbiAgICByZXR1cm4gZS5maWVsZE1hc2suZmllbGRzLmZvckVhY2goKG4gPT4ge1xuICAgICAgICBpZiAoIW4uaXNFbXB0eSgpKSB7XG4gICAgICAgICAgICBjb25zdCByID0gZS5kYXRhLmZpZWxkKG4pO1xuICAgICAgICAgICAgdC5zZXQobiwgcik7XG4gICAgICAgIH1cbiAgICB9KSksIHQ7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGxpc3Qgb2YgXCJ0cmFuc2Zvcm0gcmVzdWx0c1wiIChhIHRyYW5zZm9ybSByZXN1bHQgaXMgYSBmaWVsZCB2YWx1ZVxuICogcmVwcmVzZW50aW5nIHRoZSByZXN1bHQgb2YgYXBwbHlpbmcgYSB0cmFuc2Zvcm0pIGZvciB1c2UgYWZ0ZXIgYSBtdXRhdGlvblxuICogY29udGFpbmluZyB0cmFuc2Zvcm1zIGhhcyBiZWVuIGFja25vd2xlZGdlZCBieSB0aGUgc2VydmVyLlxuICpcbiAqIEBwYXJhbSBmaWVsZFRyYW5zZm9ybXMgLSBUaGUgZmllbGQgdHJhbnNmb3JtcyB0byBhcHBseSB0aGUgcmVzdWx0IHRvLlxuICogQHBhcmFtIG11dGFibGVEb2N1bWVudCAtIFRoZSBjdXJyZW50IHN0YXRlIG9mIHRoZSBkb2N1bWVudCBhZnRlciBhcHBseWluZyBhbGxcbiAqIHByZXZpb3VzIG11dGF0aW9ucy5cbiAqIEBwYXJhbSBzZXJ2ZXJUcmFuc2Zvcm1SZXN1bHRzIC0gVGhlIHRyYW5zZm9ybSByZXN1bHRzIHJlY2VpdmVkIGJ5IHRoZSBzZXJ2ZXIuXG4gKiBAcmV0dXJucyBUaGUgdHJhbnNmb3JtIHJlc3VsdHMgbGlzdC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfc2VydmVyVHJhbnNmb3JtUmVzdWx0cyhlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IG5ldyBNYXA7XG4gICAgX19QUklWQVRFX2hhcmRBc3NlcnQoZS5sZW5ndGggPT09IG4ubGVuZ3RoKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgcyA9IGVbaV0sIG8gPSBzLnRyYW5zZm9ybSwgXyA9IHQuZGF0YS5maWVsZChzLmZpZWxkKTtcbiAgICAgICAgci5zZXQocy5maWVsZCwgX19QUklWQVRFX2FwcGx5VHJhbnNmb3JtT3BlcmF0aW9uVG9SZW1vdGVEb2N1bWVudChvLCBfLCBuW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBsaXN0IG9mIFwidHJhbnNmb3JtIHJlc3VsdHNcIiAoYSB0cmFuc2Zvcm0gcmVzdWx0IGlzIGEgZmllbGQgdmFsdWVcbiAqIHJlcHJlc2VudGluZyB0aGUgcmVzdWx0IG9mIGFwcGx5aW5nIGEgdHJhbnNmb3JtKSBmb3IgdXNlIHdoZW4gYXBwbHlpbmcgYVxuICogdHJhbnNmb3JtIGxvY2FsbHkuXG4gKlxuICogQHBhcmFtIGZpZWxkVHJhbnNmb3JtcyAtIFRoZSBmaWVsZCB0cmFuc2Zvcm1zIHRvIGFwcGx5IHRoZSByZXN1bHQgdG8uXG4gKiBAcGFyYW0gbG9jYWxXcml0ZVRpbWUgLSBUaGUgbG9jYWwgdGltZSBvZiB0aGUgbXV0YXRpb24gKHVzZWQgdG9cbiAqICAgICBnZW5lcmF0ZSBTZXJ2ZXJUaW1lc3RhbXBWYWx1ZXMpLlxuICogQHBhcmFtIG11dGFibGVEb2N1bWVudCAtIFRoZSBkb2N1bWVudCB0byBhcHBseSB0cmFuc2Zvcm1zIG9uLlxuICogQHJldHVybnMgVGhlIHRyYW5zZm9ybSByZXN1bHRzIGxpc3QuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsVHJhbnNmb3JtUmVzdWx0cyhlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IG5ldyBNYXA7XG4gICAgZm9yIChjb25zdCBpIG9mIGUpIHtcbiAgICAgICAgY29uc3QgZSA9IGkudHJhbnNmb3JtLCBzID0gbi5kYXRhLmZpZWxkKGkuZmllbGQpO1xuICAgICAgICByLnNldChpLmZpZWxkLCBfX1BSSVZBVEVfYXBwbHlUcmFuc2Zvcm1PcGVyYXRpb25Ub0xvY2FsVmlldyhlLCBzLCB0KSk7XG4gICAgfVxuICAgIHJldHVybiByO1xufVxuXG4vKiogQSBtdXRhdGlvbiB0aGF0IGRlbGV0ZXMgdGhlIGRvY3VtZW50IGF0IHRoZSBnaXZlbiBrZXkuICovIGNsYXNzIF9fUFJJVkFURV9EZWxldGVNdXRhdGlvbiBleHRlbmRzIE11dGF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gZSwgdGhpcy5wcmVjb25kaXRpb24gPSB0LCB0aGlzLnR5cGUgPSAyIC8qIE11dGF0aW9uVHlwZS5EZWxldGUgKi8gLCBcbiAgICAgICAgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSBbXTtcbiAgICB9XG4gICAgZ2V0RmllbGRNYXNrKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9WZXJpZnlNdXRhdGlvbiBleHRlbmRzIE11dGF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMua2V5ID0gZSwgdGhpcy5wcmVjb25kaXRpb24gPSB0LCB0aGlzLnR5cGUgPSAzIC8qIE11dGF0aW9uVHlwZS5WZXJpZnkgKi8gLCBcbiAgICAgICAgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSBbXTtcbiAgICB9XG4gICAgZ2V0RmllbGRNYXNrKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgYmF0Y2ggb2YgbXV0YXRpb25zIHRoYXQgd2lsbCBiZSBzZW50IGFzIG9uZSB1bml0IHRvIHRoZSBiYWNrZW5kLlxuICovIGNsYXNzIE11dGF0aW9uQmF0Y2gge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBiYXRjaElkIC0gVGhlIHVuaXF1ZSBJRCBvZiB0aGlzIG11dGF0aW9uIGJhdGNoLlxuICAgICAqIEBwYXJhbSBsb2NhbFdyaXRlVGltZSAtIFRoZSBvcmlnaW5hbCB3cml0ZSB0aW1lIG9mIHRoaXMgbXV0YXRpb24uXG4gICAgICogQHBhcmFtIGJhc2VNdXRhdGlvbnMgLSBNdXRhdGlvbnMgdGhhdCBhcmUgdXNlZCB0byBwb3B1bGF0ZSB0aGUgYmFzZVxuICAgICAqIHZhbHVlcyB3aGVuIHRoaXMgbXV0YXRpb24gaXMgYXBwbGllZCBsb2NhbGx5LiBUaGlzIGNhbiBiZSB1c2VkIHRvIGxvY2FsbHlcbiAgICAgKiBvdmVyd3JpdGUgdmFsdWVzIHRoYXQgYXJlIHBlcnNpc3RlZCBpbiB0aGUgcmVtb3RlIGRvY3VtZW50IGNhY2hlLiBCYXNlXG4gICAgICogbXV0YXRpb25zIGFyZSBuZXZlciBzZW50IHRvIHRoZSBiYWNrZW5kLlxuICAgICAqIEBwYXJhbSBtdXRhdGlvbnMgLSBUaGUgdXNlci1wcm92aWRlZCBtdXRhdGlvbnMgaW4gdGhpcyBtdXRhdGlvbiBiYXRjaC5cbiAgICAgKiBVc2VyLXByb3ZpZGVkIG11dGF0aW9ucyBhcmUgYXBwbGllZCBib3RoIGxvY2FsbHkgYW5kIHJlbW90ZWx5IG9uIHRoZVxuICAgICAqIGJhY2tlbmQuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLmJhdGNoSWQgPSBlLCB0aGlzLmxvY2FsV3JpdGVUaW1lID0gdCwgdGhpcy5iYXNlTXV0YXRpb25zID0gbiwgdGhpcy5tdXRhdGlvbnMgPSByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGFsbCB0aGUgbXV0YXRpb25zIGluIHRoaXMgTXV0YXRpb25CYXRjaCB0byB0aGUgc3BlY2lmaWVkIGRvY3VtZW50XG4gICAgICogdG8gY29tcHV0ZSB0aGUgc3RhdGUgb2YgdGhlIHJlbW90ZSBkb2N1bWVudFxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50IC0gVGhlIGRvY3VtZW50IHRvIGFwcGx5IG11dGF0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0gYmF0Y2hSZXN1bHQgLSBUaGUgcmVzdWx0IG9mIGFwcGx5aW5nIHRoZSBNdXRhdGlvbkJhdGNoIHRvIHRoZVxuICAgICAqIGJhY2tlbmQuXG4gICAgICovICAgIGFwcGx5VG9SZW1vdGVEb2N1bWVudChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0Lm11dGF0aW9uUmVzdWx0cztcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCB0aGlzLm11dGF0aW9ucy5sZW5ndGg7IHQrKykge1xuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMubXV0YXRpb25zW3RdO1xuICAgICAgICAgICAgaWYgKHIua2V5LmlzRXF1YWwoZS5rZXkpKSB7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX211dGF0aW9uQXBwbHlUb1JlbW90ZURvY3VtZW50KHIsIGUsIG5bdF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBsb2NhbCB2aWV3IG9mIGEgZG9jdW1lbnQgZ2l2ZW4gYWxsIHRoZSBtdXRhdGlvbnMgaW4gdGhpc1xuICAgICAqIGJhdGNoLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50IC0gVGhlIGRvY3VtZW50IHRvIGFwcGx5IG11dGF0aW9ucyB0by5cbiAgICAgKiBAcGFyYW0gbXV0YXRlZEZpZWxkcyAtIEZpZWxkcyB0aGF0IGhhdmUgYmVlbiB1cGRhdGVkIGJlZm9yZSBhcHBseWluZyB0aGlzIG11dGF0aW9uIGJhdGNoLlxuICAgICAqIEByZXR1cm5zIEEgYEZpZWxkTWFza2AgcmVwcmVzZW50aW5nIGFsbCB0aGUgZmllbGRzIHRoYXQgYXJlIG11dGF0ZWQuXG4gICAgICovICAgIGFwcGx5VG9Mb2NhbFZpZXcoZSwgdCkge1xuICAgICAgICAvLyBGaXJzdCwgYXBwbHkgdGhlIGJhc2Ugc3RhdGUuIFRoaXMgYWxsb3dzIHVzIHRvIGFwcGx5IG5vbi1pZGVtcG90ZW50XG4gICAgICAgIC8vIHRyYW5zZm9ybSBhZ2FpbnN0IGEgY29uc2lzdGVudCBzZXQgb2YgdmFsdWVzLlxuICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5iYXNlTXV0YXRpb25zKSBuLmtleS5pc0VxdWFsKGUua2V5KSAmJiAodCA9IF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcobiwgZSwgdCwgdGhpcy5sb2NhbFdyaXRlVGltZSkpO1xuICAgICAgICAvLyBTZWNvbmQsIGFwcGx5IGFsbCB1c2VyLXByb3ZpZGVkIG11dGF0aW9ucy5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgdGhpcy5tdXRhdGlvbnMpIG4ua2V5LmlzRXF1YWwoZS5rZXkpICYmICh0ID0gX19QUklWQVRFX211dGF0aW9uQXBwbHlUb0xvY2FsVmlldyhuLCBlLCB0LCB0aGlzLmxvY2FsV3JpdGVUaW1lKSk7XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyB0aGUgbG9jYWwgdmlldyBmb3IgYWxsIHByb3ZpZGVkIGRvY3VtZW50cyBnaXZlbiB0aGUgbXV0YXRpb25zIGluXG4gICAgICogdGhpcyBiYXRjaC4gUmV0dXJucyBhIGBEb2N1bWVudEtleWAgdG8gYE11dGF0aW9uYCBtYXAgd2hpY2ggY2FuIGJlIHVzZWQgdG9cbiAgICAgKiByZXBsYWNlIGFsbCB0aGUgbXV0YXRpb24gYXBwbGljYXRpb25zLlxuICAgICAqLyAgICBhcHBseVRvTG9jYWxEb2N1bWVudFNldChlLCB0KSB7XG4gICAgICAgIC8vIFRPRE8obXJzY2htaWR0KTogVGhpcyBpbXBsZW1lbnRhdGlvbiBpcyBPKG5eMikuIElmIHdlIGFwcGx5IHRoZSBtdXRhdGlvbnNcbiAgICAgICAgLy8gZGlyZWN0bHkgKGFzIGRvbmUgaW4gYGFwcGx5VG9Mb2NhbFZpZXcoKWApLCB3ZSBjYW4gcmVkdWNlIHRoZSBjb21wbGV4aXR5XG4gICAgICAgIC8vIHRvIE8obikuXG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbmV3TXV0YXRpb25NYXAoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubXV0YXRpb25zLmZvckVhY2goKHIgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IGUuZ2V0KHIua2V5KSwgcyA9IGkub3ZlcmxheWVkRG9jdW1lbnQ7XG4gICAgICAgICAgICAvLyBUT0RPKG11dGFibGVkb2N1bWVudHMpOiBUaGlzIG1ldGhvZCBzaG91bGQgdGFrZSBhIE11dGFibGVEb2N1bWVudE1hcFxuICAgICAgICAgICAgLy8gYW5kIHdlIHNob3VsZCByZW1vdmUgdGhpcyBjYXN0LlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG8gPSB0aGlzLmFwcGx5VG9Mb2NhbFZpZXcocywgaS5tdXRhdGVkRmllbGRzKTtcbiAgICAgICAgICAgIC8vIFNldCBtdXRhdGVkRmllbGRzIHRvIG51bGwgaWYgdGhlIGRvY3VtZW50IGlzIG9ubHkgZnJvbSBsb2NhbCBtdXRhdGlvbnMuXG4gICAgICAgICAgICAvLyBUaGlzIGNyZWF0ZXMgYSBTZXQgb3IgRGVsZXRlIG11dGF0aW9uLCBpbnN0ZWFkIG9mIHRyeWluZyB0byBjcmVhdGUgYVxuICAgICAgICAgICAgLy8gcGF0Y2ggbXV0YXRpb24gYXMgdGhlIG92ZXJsYXkuXG4gICAgICAgICAgICAgICAgICAgICAgICBvID0gdC5oYXMoci5rZXkpID8gbnVsbCA6IG87XG4gICAgICAgICAgICBjb25zdCBfID0gX19QUklWQVRFX2NhbGN1bGF0ZU92ZXJsYXlNdXRhdGlvbihzLCBvKTtcbiAgICAgICAgICAgIG51bGwgIT09IF8gJiYgbi5zZXQoci5rZXksIF8pLCBzLmlzVmFsaWREb2N1bWVudCgpIHx8IHMuY29udmVydFRvTm9Eb2N1bWVudChTbmFwc2hvdFZlcnNpb24ubWluKCkpO1xuICAgICAgICB9KSksIG47XG4gICAgfVxuICAgIGtleXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm11dGF0aW9ucy5yZWR1Y2UoKChlLCB0KSA9PiBlLmFkZCh0LmtleSkpLCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5iYXRjaElkID09PSBlLmJhdGNoSWQgJiYgX19QUklWQVRFX2FycmF5RXF1YWxzKHRoaXMubXV0YXRpb25zLCBlLm11dGF0aW9ucywgKChlLCB0KSA9PiBfX1BSSVZBVEVfbXV0YXRpb25FcXVhbHMoZSwgdCkpKSAmJiBfX1BSSVZBVEVfYXJyYXlFcXVhbHModGhpcy5iYXNlTXV0YXRpb25zLCBlLmJhc2VNdXRhdGlvbnMsICgoZSwgdCkgPT4gX19QUklWQVRFX211dGF0aW9uRXF1YWxzKGUsIHQpKSk7XG4gICAgfVxufVxuXG4vKiogVGhlIHJlc3VsdCBvZiBhcHBseWluZyBhIG11dGF0aW9uIGJhdGNoIHRvIHRoZSBiYWNrZW5kLiAqLyBjbGFzcyBNdXRhdGlvbkJhdGNoUmVzdWx0IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCBcbiAgICAvKipcbiAgICAgKiBBIHByZS1jb21wdXRlZCBtYXBwaW5nIGZyb20gZWFjaCBtdXRhdGVkIGRvY3VtZW50IHRvIHRoZSByZXN1bHRpbmdcbiAgICAgKiB2ZXJzaW9uLlxuICAgICAqL1xuICAgIHIpIHtcbiAgICAgICAgdGhpcy5iYXRjaCA9IGUsIHRoaXMuY29tbWl0VmVyc2lvbiA9IHQsIHRoaXMubXV0YXRpb25SZXN1bHRzID0gbiwgdGhpcy5kb2NWZXJzaW9ucyA9IHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgTXV0YXRpb25CYXRjaFJlc3VsdCBmb3IgdGhlIGdpdmVuIGJhdGNoIGFuZCByZXN1bHRzLiBUaGVyZVxuICAgICAqIG11c3QgYmUgb25lIHJlc3VsdCBmb3IgZWFjaCBtdXRhdGlvbiBpbiB0aGUgYmF0Y2guIFRoaXMgc3RhdGljIGZhY3RvcnlcbiAgICAgKiBjYWNoZXMgYSBkb2N1bWVudD0mZ3Q7dmVyc2lvbiBtYXBwaW5nIChkb2NWZXJzaW9ucykuXG4gICAgICovICAgIHN0YXRpYyBmcm9tKGUsIHQsIG4pIHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoZS5tdXRhdGlvbnMubGVuZ3RoID09PSBuLmxlbmd0aCk7XG4gICAgICAgIGxldCByID0gZnVuY3Rpb24gX19QUklWQVRFX2RvY3VtZW50VmVyc2lvbk1hcCgpIHtcbiAgICAgICAgICAgIHJldHVybiBfZTtcbiAgICAgICAgfSgpO1xuICAgICAgICBjb25zdCBpID0gZS5tdXRhdGlvbnM7XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgaS5sZW5ndGg7IGUrKykgciA9IHIuaW5zZXJ0KGlbZV0ua2V5LCBuW2VdLnZlcnNpb24pO1xuICAgICAgICByZXR1cm4gbmV3IE11dGF0aW9uQmF0Y2hSZXN1bHQoZSwgdCwgbiwgcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRhdGlvbiBvZiBhbiBvdmVybGF5IGNvbXB1dGVkIGJ5IEZpcmVzdG9yZS5cbiAqXG4gKiBIb2xkcyBpbmZvcm1hdGlvbiBhYm91dCBhIG11dGF0aW9uIGFuZCB0aGUgbGFyZ2VzdCBiYXRjaCBpZCBpbiBGaXJlc3RvcmUgd2hlblxuICogdGhlIG11dGF0aW9uIHdhcyBjcmVhdGVkLlxuICovIGNsYXNzIE92ZXJsYXkge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5sYXJnZXN0QmF0Y2hJZCA9IGUsIHRoaXMubXV0YXRpb24gPSB0O1xuICAgIH1cbiAgICBnZXRLZXkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm11dGF0aW9uLmtleTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSBlICYmIHRoaXMubXV0YXRpb24gPT09IGUubXV0YXRpb247XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gYE92ZXJsYXl7XFxuICAgICAgbGFyZ2VzdEJhdGNoSWQ6ICR7dGhpcy5sYXJnZXN0QmF0Y2hJZH0sXFxuICAgICAgbXV0YXRpb246ICR7dGhpcy5tdXRhdGlvbi50b1N0cmluZygpfVxcbiAgICB9YDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENvbmNyZXRlIGltcGxlbWVudGF0aW9uIG9mIHRoZSBBZ2dyZWdhdGUgdHlwZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfQWdncmVnYXRlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLmFsaWFzID0gZSwgdGhpcy5hZ2dyZWdhdGVUeXBlID0gdCwgdGhpcy5maWVsZFBhdGggPSBuO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgRXhpc3RlbmNlRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuY291bnQgPSBlLCB0aGlzLnVuY2hhbmdlZE5hbWVzID0gdDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEVycm9yIENvZGVzIGRlc2NyaWJpbmcgdGhlIGRpZmZlcmVudCB3YXlzIEdSUEMgY2FuIGZhaWwuIFRoZXNlIGFyZSBjb3BpZWRcbiAqIGRpcmVjdGx5IGZyb20gR1JQQydzIHNvdXJjZXMgaGVyZTpcbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vZ3JwYy9ncnBjL2Jsb2IvYmNlZWM5NGVhNGZjNWYwMDg1ZDgxMjM1ZDhlMWMwNjc5OGRjMzQxYS9pbmNsdWRlL2dycGMlMkIlMkIvaW1wbC9jb2RlZ2VuL3N0YXR1c19jb2RlX2VudW0uaFxuICpcbiAqIEltcG9ydGFudCEgVGhlIG5hbWVzIG9mIHRoZXNlIGlkZW50aWZpZXJzIG1hdHRlciBiZWNhdXNlIHRoZSBzdHJpbmcgZm9ybXNcbiAqIGFyZSB1c2VkIGZvciByZXZlcnNlIGxvb2t1cHMgZnJvbSB0aGUgd2ViY2hhbm5lbCBzdHJlYW0uIERvIE5PVCBjaGFuZ2UgdGhlXG4gKiBuYW1lcyBvZiB0aGVzZSBpZGVudGlmaWVycyBvciBjaGFuZ2UgdGhpcyBpbnRvIGEgY29uc3QgZW51bS5cbiAqLyB2YXIgY2UsIGxlO1xuXG4vKipcbiAqIERldGVybWluZXMgd2hldGhlciBhbiBlcnJvciBjb2RlIHJlcHJlc2VudHMgYSBwZXJtYW5lbnQgZXJyb3Igd2hlbiByZWNlaXZlZFxuICogaW4gcmVzcG9uc2UgdG8gYSBub24td3JpdGUgb3BlcmF0aW9uLlxuICpcbiAqIFNlZSBpc1Blcm1hbmVudFdyaXRlRXJyb3IgZm9yIGNsYXNzaWZ5aW5nIHdyaXRlIGVycm9ycy5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2lzUGVybWFuZW50RXJyb3IoZSkge1xuICAgIHN3aXRjaCAoZSkge1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhaWwoKTtcblxuICAgICAgY2FzZSBDLkNBTkNFTExFRDpcbiAgICAgIGNhc2UgQy5VTktOT1dOOlxuICAgICAgY2FzZSBDLkRFQURMSU5FX0VYQ0VFREVEOlxuICAgICAgY2FzZSBDLlJFU09VUkNFX0VYSEFVU1RFRDpcbiAgICAgIGNhc2UgQy5JTlRFUk5BTDpcbiAgICAgIGNhc2UgQy5VTkFWQUlMQUJMRTpcbiAvLyBVbmF1dGhlbnRpY2F0ZWQgbWVhbnMgc29tZXRoaW5nIHdlbnQgd3Jvbmcgd2l0aCBvdXIgdG9rZW4gYW5kIHdlIG5lZWRcbiAgICAgICAgLy8gdG8gcmV0cnkgd2l0aCBuZXcgY3JlZGVudGlhbHMgd2hpY2ggd2lsbCBoYXBwZW4gYXV0b21hdGljYWxseS5cbiAgICAgICAgICAgICAgY2FzZSBDLlVOQVVUSEVOVElDQVRFRDpcbiAgICAgICAgcmV0dXJuICExO1xuXG4gICAgICBjYXNlIEMuSU5WQUxJRF9BUkdVTUVOVDpcbiAgICAgIGNhc2UgQy5OT1RfRk9VTkQ6XG4gICAgICBjYXNlIEMuQUxSRUFEWV9FWElTVFM6XG4gICAgICBjYXNlIEMuUEVSTUlTU0lPTl9ERU5JRUQ6XG4gICAgICBjYXNlIEMuRkFJTEVEX1BSRUNPTkRJVElPTjpcbiAvLyBBYm9ydGVkIG1pZ2h0IGJlIHJldHJpZWQgaW4gc29tZSBzY2VuYXJpb3MsIGJ1dCB0aGF0IGlzIGRlcGVuZGFudCBvblxuICAgICAgICAvLyB0aGUgY29udGV4dCBhbmQgc2hvdWxkIGhhbmRsZWQgaW5kaXZpZHVhbGx5IGJ5IHRoZSBjYWxsaW5nIGNvZGUuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vYXBpcy9kZXNpZ24vZXJyb3JzLlxuICAgICAgICAgICAgICBjYXNlIEMuQUJPUlRFRDpcbiAgICAgIGNhc2UgQy5PVVRfT0ZfUkFOR0U6XG4gICAgICBjYXNlIEMuVU5JTVBMRU1FTlRFRDpcbiAgICAgIGNhc2UgQy5EQVRBX0xPU1M6XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGVycm9yIGNvZGUgcmVwcmVzZW50cyBhIHBlcm1hbmVudCBlcnJvciB3aGVuIHJlY2VpdmVkXG4gKiBpbiByZXNwb25zZSB0byBhIHdyaXRlIG9wZXJhdGlvbi5cbiAqXG4gKiBXcml0ZSBvcGVyYXRpb25zIG11c3QgYmUgaGFuZGxlZCBzcGVjaWFsbHkgYmVjYXVzZSBhcyBvZiBiLzExOTQzNzc2NCwgQUJPUlRFRFxuICogZXJyb3JzIG9uIHRoZSB3cml0ZSBzdHJlYW0gc2hvdWxkIGJlIHJldHJpZWQgdG9vIChldmVuIHRob3VnaCBBQk9SVEVEIGVycm9yc1xuICogYXJlIG5vdCBnZW5lcmFsbHkgcmV0cnlhYmxlKS5cbiAqXG4gKiBOb3RlIHRoYXQgZHVyaW5nIHRoZSBpbml0aWFsIGhhbmRzaGFrZSBvbiB0aGUgd3JpdGUgc3RyZWFtIGFuIEFCT1JURUQgZXJyb3JcbiAqIHNpZ25hbHMgdGhhdCB3ZSBzaG91bGQgZGlzY2FyZCBvdXIgc3RyZWFtIHRva2VuIChpLmUuIGl0IGlzIHBlcm1hbmVudCkuIFRoaXNcbiAqIG1lYW5zIGEgaGFuZHNoYWtlIGVycm9yIHNob3VsZCBiZSBjbGFzc2lmaWVkIHdpdGggaXNQZXJtYW5lbnRFcnJvciwgYWJvdmUuXG4gKi9cbi8qKlxuICogTWFwcyBhbiBlcnJvciBDb2RlIGZyb20gR1JQQyBzdGF0dXMgY29kZSBudW1iZXIsIGxpa2UgMCwgMSwgb3IgMTQuIFRoZXNlXG4gKiBhcmUgbm90IHRoZSBzYW1lIGFzIEhUVFAgc3RhdHVzIGNvZGVzLlxuICpcbiAqIEByZXR1cm5zIFRoZSBDb2RlIGVxdWl2YWxlbnQgdG8gdGhlIGdpdmVuIEdSUEMgc3RhdHVzIGNvZGUuIEZhaWxzIGlmIHRoZXJlXG4gKiAgICAgaXMgbm8gbWF0Y2guXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9tYXBDb2RlRnJvbVJwY0NvZGUoZSkge1xuICAgIGlmICh2b2lkIDAgPT09IGUpIFxuICAgIC8vIFRoaXMgc2hvdWxkbid0IG5vcm1hbGx5IGhhcHBlbiwgYnV0IGluIGNlcnRhaW4gZXJyb3IgY2FzZXMgKGxpa2UgdHJ5aW5nXG4gICAgLy8gdG8gc2VuZCBpbnZhbGlkIHByb3RvIG1lc3NhZ2VzKSB3ZSBtYXkgZ2V0IGFuIGVycm9yIHdpdGggbm8gR1JQQyBjb2RlLlxuICAgIHJldHVybiBfX1BSSVZBVEVfbG9nRXJyb3IoXCJHUlBDIGVycm9yIGhhcyBubyAuY29kZVwiKSwgQy5VTktOT1dOO1xuICAgIHN3aXRjaCAoZSkge1xuICAgICAgY2FzZSBjZS5PSzpcbiAgICAgICAgcmV0dXJuIEMuT0s7XG5cbiAgICAgIGNhc2UgY2UuQ0FOQ0VMTEVEOlxuICAgICAgICByZXR1cm4gQy5DQU5DRUxMRUQ7XG5cbiAgICAgIGNhc2UgY2UuVU5LTk9XTjpcbiAgICAgICAgcmV0dXJuIEMuVU5LTk9XTjtcblxuICAgICAgY2FzZSBjZS5ERUFETElORV9FWENFRURFRDpcbiAgICAgICAgcmV0dXJuIEMuREVBRExJTkVfRVhDRUVERUQ7XG5cbiAgICAgIGNhc2UgY2UuUkVTT1VSQ0VfRVhIQVVTVEVEOlxuICAgICAgICByZXR1cm4gQy5SRVNPVVJDRV9FWEhBVVNURUQ7XG5cbiAgICAgIGNhc2UgY2UuSU5URVJOQUw6XG4gICAgICAgIHJldHVybiBDLklOVEVSTkFMO1xuXG4gICAgICBjYXNlIGNlLlVOQVZBSUxBQkxFOlxuICAgICAgICByZXR1cm4gQy5VTkFWQUlMQUJMRTtcblxuICAgICAgY2FzZSBjZS5VTkFVVEhFTlRJQ0FURUQ6XG4gICAgICAgIHJldHVybiBDLlVOQVVUSEVOVElDQVRFRDtcblxuICAgICAgY2FzZSBjZS5JTlZBTElEX0FSR1VNRU5UOlxuICAgICAgICByZXR1cm4gQy5JTlZBTElEX0FSR1VNRU5UO1xuXG4gICAgICBjYXNlIGNlLk5PVF9GT1VORDpcbiAgICAgICAgcmV0dXJuIEMuTk9UX0ZPVU5EO1xuXG4gICAgICBjYXNlIGNlLkFMUkVBRFlfRVhJU1RTOlxuICAgICAgICByZXR1cm4gQy5BTFJFQURZX0VYSVNUUztcblxuICAgICAgY2FzZSBjZS5QRVJNSVNTSU9OX0RFTklFRDpcbiAgICAgICAgcmV0dXJuIEMuUEVSTUlTU0lPTl9ERU5JRUQ7XG5cbiAgICAgIGNhc2UgY2UuRkFJTEVEX1BSRUNPTkRJVElPTjpcbiAgICAgICAgcmV0dXJuIEMuRkFJTEVEX1BSRUNPTkRJVElPTjtcblxuICAgICAgY2FzZSBjZS5BQk9SVEVEOlxuICAgICAgICByZXR1cm4gQy5BQk9SVEVEO1xuXG4gICAgICBjYXNlIGNlLk9VVF9PRl9SQU5HRTpcbiAgICAgICAgcmV0dXJuIEMuT1VUX09GX1JBTkdFO1xuXG4gICAgICBjYXNlIGNlLlVOSU1QTEVNRU5URUQ6XG4gICAgICAgIHJldHVybiBDLlVOSU1QTEVNRU5URUQ7XG5cbiAgICAgIGNhc2UgY2UuREFUQV9MT1NTOlxuICAgICAgICByZXR1cm4gQy5EQVRBX0xPU1M7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIENvbnZlcnRzIGFuIEhUVFAgcmVzcG9uc2UncyBlcnJvciBzdGF0dXMgdG8gdGhlIGVxdWl2YWxlbnQgZXJyb3IgY29kZS5cbiAqXG4gKiBAcGFyYW0gc3RhdHVzIC0gQW4gSFRUUCBlcnJvciByZXNwb25zZSBzdGF0dXMgKFwiRkFJTEVEX1BSRUNPTkRJVElPTlwiLFxuICogXCJVTktOT1dOXCIsIGV0Yy4pXG4gKiBAcmV0dXJucyBUaGUgZXF1aXZhbGVudCBDb2RlLiBOb24tbWF0Y2hpbmcgcmVzcG9uc2VzIGFyZSBtYXBwZWQgdG9cbiAqICAgICBDb2RlLlVOS05PV04uXG4gKi8gKGxlID0gY2UgfHwgKGNlID0ge30pKVtsZS5PSyA9IDBdID0gXCJPS1wiLCBsZVtsZS5DQU5DRUxMRUQgPSAxXSA9IFwiQ0FOQ0VMTEVEXCIsIFxubGVbbGUuVU5LTk9XTiA9IDJdID0gXCJVTktOT1dOXCIsIGxlW2xlLklOVkFMSURfQVJHVU1FTlQgPSAzXSA9IFwiSU5WQUxJRF9BUkdVTUVOVFwiLCBcbmxlW2xlLkRFQURMSU5FX0VYQ0VFREVEID0gNF0gPSBcIkRFQURMSU5FX0VYQ0VFREVEXCIsIGxlW2xlLk5PVF9GT1VORCA9IDVdID0gXCJOT1RfRk9VTkRcIiwgXG5sZVtsZS5BTFJFQURZX0VYSVNUUyA9IDZdID0gXCJBTFJFQURZX0VYSVNUU1wiLCBsZVtsZS5QRVJNSVNTSU9OX0RFTklFRCA9IDddID0gXCJQRVJNSVNTSU9OX0RFTklFRFwiLCBcbmxlW2xlLlVOQVVUSEVOVElDQVRFRCA9IDE2XSA9IFwiVU5BVVRIRU5USUNBVEVEXCIsIGxlW2xlLlJFU09VUkNFX0VYSEFVU1RFRCA9IDhdID0gXCJSRVNPVVJDRV9FWEhBVVNURURcIiwgXG5sZVtsZS5GQUlMRURfUFJFQ09ORElUSU9OID0gOV0gPSBcIkZBSUxFRF9QUkVDT05ESVRJT05cIiwgbGVbbGUuQUJPUlRFRCA9IDEwXSA9IFwiQUJPUlRFRFwiLCBcbmxlW2xlLk9VVF9PRl9SQU5HRSA9IDExXSA9IFwiT1VUX09GX1JBTkdFXCIsIGxlW2xlLlVOSU1QTEVNRU5URUQgPSAxMl0gPSBcIlVOSU1QTEVNRU5URURcIiwgXG5sZVtsZS5JTlRFUk5BTCA9IDEzXSA9IFwiSU5URVJOQUxcIiwgbGVbbGUuVU5BVkFJTEFCTEUgPSAxNF0gPSBcIlVOQVZBSUxBQkxFXCIsIGxlW2xlLkRBVEFfTE9TUyA9IDE1XSA9IFwiREFUQV9MT1NTXCI7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSBnbG9iYWwsIHNpbmdsZXRvbiBpbnN0YW5jZSBvZiBUZXN0aW5nSG9va3NTcGkuXG4gKlxuICogVGhpcyB2YXJpYWJsZSB3aWxsIGJlIGBudWxsYCBpbiBhbGwgY2FzZXMgX2V4Y2VwdF8gd2hlbiBydW5uaW5nIGZyb21cbiAqIGludGVncmF0aW9uIHRlc3RzIHRoYXQgaGF2ZSByZWdpc3RlcmVkIGNhbGxiYWNrcyB0byBiZSBub3RpZmllZCBvZiBldmVudHNcbiAqIHRoYXQgaGFwcGVuIGR1cmluZyB0aGUgdGVzdCBleGVjdXRpb24uXG4gKi9cbmxldCBoZSA9IG51bGw7XG5cbi8qKlxuICogU2V0cyB0aGUgdmFsdWUgb2YgdGhlIGB0ZXN0aW5nSG9va3NTcGlgIG9iamVjdC5cbiAqIEBwYXJhbSBpbnN0YW5jZSB0aGUgaW5zdGFuY2UgdG8gc2V0LlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGUgUGxhdGZvcm0ncyAnVGV4dEVuY29kZXInIGltcGxlbWVudGF0aW9uLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3VGV4dEVuY29kZXIoKSB7XG4gICAgcmV0dXJuIG5ldyBUZXh0RW5jb2Rlcjtcbn1cblxuLyoqXG4gKiBBbiBpbnN0YW5jZSBvZiB0aGUgUGxhdGZvcm0ncyAnVGV4dERlY29kZXInIGltcGxlbWVudGF0aW9uLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgUGUgPSBuZXcgYmxvb21CbG9iLkludGVnZXIoWyA0Mjk0OTY3Mjk1LCA0Mjk0OTY3Mjk1IF0sIDApO1xuXG4vLyBIYXNoIGEgc3RyaW5nIHVzaW5nIG1kNSBoYXNoaW5nIGFsZ29yaXRobS5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRNZDVIYXNoVmFsdWUoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbmV3VGV4dEVuY29kZXIoKS5lbmNvZGUoZSksIG4gPSBuZXcgYmxvb21CbG9iLk1kNTtcbiAgICByZXR1cm4gbi51cGRhdGUodCksIG5ldyBVaW50OEFycmF5KG4uZGlnZXN0KCkpO1xufVxuXG4vLyBJbnRlcnByZXQgdGhlIDE2IGJ5dGVzIGFycmF5IGFzIHR3byA2NC1iaXQgdW5zaWduZWQgaW50ZWdlcnMsIGVuY29kZWQgdXNpbmdcbi8vIDLigJlzIGNvbXBsZW1lbnQgdXNpbmcgbGl0dGxlIGVuZGlhbi5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXQ2NEJpdFVpbnRzKGUpIHtcbiAgICBjb25zdCB0ID0gbmV3IERhdGFWaWV3KGUuYnVmZmVyKSwgbiA9IHQuZ2V0VWludDMyKDAsIC8qIGxpdHRsZUVuZGlhbj0gKi8gITApLCByID0gdC5nZXRVaW50MzIoNCwgLyogbGl0dGxlRW5kaWFuPSAqLyAhMCksIGkgPSB0LmdldFVpbnQzMig4LCAvKiBsaXR0bGVFbmRpYW49ICovICEwKSwgcyA9IHQuZ2V0VWludDMyKDEyLCAvKiBsaXR0bGVFbmRpYW49ICovICEwKTtcbiAgICByZXR1cm4gWyBuZXcgYmxvb21CbG9iLkludGVnZXIoWyBuLCByIF0sIDApLCBuZXcgYmxvb21CbG9iLkludGVnZXIoWyBpLCBzIF0sIDApIF07XG59XG5cbmNsYXNzIEJsb29tRmlsdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIGlmICh0aGlzLmJpdG1hcCA9IGUsIHRoaXMucGFkZGluZyA9IHQsIHRoaXMuaGFzaENvdW50ID0gbiwgdCA8IDAgfHwgdCA+PSA4KSB0aHJvdyBuZXcgX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IoYEludmFsaWQgcGFkZGluZzogJHt0fWApO1xuICAgICAgICBpZiAobiA8IDApIHRocm93IG5ldyBfX1BSSVZBVEVfQmxvb21GaWx0ZXJFcnJvcihgSW52YWxpZCBoYXNoIGNvdW50OiAke259YCk7XG4gICAgICAgIGlmIChlLmxlbmd0aCA+IDAgJiYgMCA9PT0gdGhpcy5oYXNoQ291bnQpIFxuICAgICAgICAvLyBPbmx5IGVtcHR5IGJsb29tIGZpbHRlciBjYW4gaGF2ZSAwIGhhc2ggY291bnQuXG4gICAgICAgIHRocm93IG5ldyBfX1BSSVZBVEVfQmxvb21GaWx0ZXJFcnJvcihgSW52YWxpZCBoYXNoIGNvdW50OiAke259YCk7XG4gICAgICAgIGlmICgwID09PSBlLmxlbmd0aCAmJiAwICE9PSB0KSBcbiAgICAgICAgLy8gRW1wdHkgYmxvb20gZmlsdGVyIHNob3VsZCBoYXZlIDAgcGFkZGluZy5cbiAgICAgICAgdGhyb3cgbmV3IF9fUFJJVkFURV9CbG9vbUZpbHRlckVycm9yKGBJbnZhbGlkIHBhZGRpbmcgd2hlbiBiaXRtYXAgbGVuZ3RoIGlzIDA6ICR7dH1gKTtcbiAgICAgICAgdGhpcy5JZSA9IDggKiBlLmxlbmd0aCAtIHQsIFxuICAgICAgICAvLyBTZXQgdGhlIGJpdCBjb3VudCBpbiBJbnRlZ2VyIHRvIGF2b2lkIHJlcGV0aXRpb24gaW4gbWlnaHRDb250YWluKCkuXG4gICAgICAgIHRoaXMuVGUgPSBibG9vbUJsb2IuSW50ZWdlci5mcm9tTnVtYmVyKHRoaXMuSWUpO1xuICAgIH1cbiAgICAvLyBDYWxjdWxhdGUgdGhlIGl0aCBoYXNoIHZhbHVlIGJhc2VkIG9uIHRoZSBoYXNoZWQgNjRiaXQgaW50ZWdlcnMsXG4gICAgLy8gYW5kIGNhbGN1bGF0ZSBpdHMgY29ycmVzcG9uZGluZyBiaXQgaW5kZXggaW4gdGhlIGJpdG1hcCB0byBiZSBjaGVja2VkLlxuICAgIEVlKGUsIHQsIG4pIHtcbiAgICAgICAgLy8gQ2FsY3VsYXRlIGhhc2hlZCB2YWx1ZSBoKGkpID0gaDEgKyAoaSAqIGgyKS5cbiAgICAgICAgbGV0IHIgPSBlLmFkZCh0Lm11bHRpcGx5KGJsb29tQmxvYi5JbnRlZ2VyLmZyb21OdW1iZXIobikpKTtcbiAgICAgICAgLy8gV3JhcCBpZiBoYXNoIHZhbHVlIG92ZXJmbG93IDY0Yml0LlxuICAgICAgICAgICAgICAgIHJldHVybiAxID09PSByLmNvbXBhcmUoUGUpICYmIChyID0gbmV3IGJsb29tQmxvYi5JbnRlZ2VyKFsgci5nZXRCaXRzKDApLCByLmdldEJpdHMoMSkgXSwgMCkpLCBcbiAgICAgICAgci5tb2R1bG8odGhpcy5UZSkudG9OdW1iZXIoKTtcbiAgICB9XG4gICAgLy8gUmV0dXJuIHdoZXRoZXIgdGhlIGJpdCBvbiB0aGUgZ2l2ZW4gaW5kZXggaW4gdGhlIGJpdG1hcCBpcyBzZXQgdG8gMS5cbiAgICBkZShlKSB7XG4gICAgICAgIHJldHVybiAwICE9ICh0aGlzLmJpdG1hcFtNYXRoLmZsb29yKGUgLyA4KV0gJiAxIDw8IGUgJSA4KTtcbiAgICB9XG4gICAgbWlnaHRDb250YWluKGUpIHtcbiAgICAgICAgLy8gRW1wdHkgYml0bWFwIHNob3VsZCBhbHdheXMgcmV0dXJuIGZhbHNlIG9uIG1lbWJlcnNoaXAgY2hlY2suXG4gICAgICAgIGlmICgwID09PSB0aGlzLkllKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZ2V0TWQ1SGFzaFZhbHVlKGUpLCBbbiwgcl0gPSBfX1BSSVZBVEVfZ2V0NjRCaXRVaW50cyh0KTtcbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IGUgPCB0aGlzLmhhc2hDb3VudDsgZSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5FZShuLCByLCBlKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5kZSh0KSkgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgLyoqIENyZWF0ZSBibG9vbSBmaWx0ZXIgZm9yIHRlc3RpbmcgcHVycG9zZXMgb25seS4gKi8gICAgc3RhdGljIGNyZWF0ZShlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBlICUgOCA9PSAwID8gMCA6IDggLSBlICUgOCwgaSA9IG5ldyBVaW50OEFycmF5KE1hdGguY2VpbChlIC8gOCkpLCBzID0gbmV3IEJsb29tRmlsdGVyKGksIHIsIHQpO1xuICAgICAgICByZXR1cm4gbi5mb3JFYWNoKChlID0+IHMuaW5zZXJ0KGUpKSksIHM7XG4gICAgfVxuICAgIGluc2VydChlKSB7XG4gICAgICAgIGlmICgwID09PSB0aGlzLkllKSByZXR1cm47XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZ2V0TWQ1SGFzaFZhbHVlKGUpLCBbbiwgcl0gPSBfX1BSSVZBVEVfZ2V0NjRCaXRVaW50cyh0KTtcbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IGUgPCB0aGlzLmhhc2hDb3VudDsgZSsrKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5FZShuLCByLCBlKTtcbiAgICAgICAgICAgIHRoaXMuQWUodCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgQWUoZSkge1xuICAgICAgICBjb25zdCB0ID0gTWF0aC5mbG9vcihlIC8gOCksIG4gPSBlICUgODtcbiAgICAgICAgdGhpcy5iaXRtYXBbdF0gfD0gMSA8PCBuO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0Jsb29tRmlsdGVyRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyksIHRoaXMubmFtZSA9IFwiQmxvb21GaWx0ZXJFcnJvclwiO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gZXZlbnQgZnJvbSB0aGUgUmVtb3RlU3RvcmUuIEl0IGlzIHNwbGl0IGludG8gdGFyZ2V0Q2hhbmdlcyAoY2hhbmdlcyB0byB0aGVcbiAqIHN0YXRlIG9yIHRoZSBzZXQgb2YgZG9jdW1lbnRzIGluIG91ciB3YXRjaGVkIHRhcmdldHMpIGFuZCBkb2N1bWVudFVwZGF0ZXNcbiAqIChjaGFuZ2VzIHRvIHRoZSBhY3R1YWwgZG9jdW1lbnRzKS5cbiAqLyBjbGFzcyBSZW1vdGVFdmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqXG4gICAgICogVGhlIHNuYXBzaG90IHZlcnNpb24gdGhpcyBldmVudCBicmluZ3MgdXMgdXAgdG8sIG9yIE1JTiBpZiBub3Qgc2V0LlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIEEgbWFwIGZyb20gdGFyZ2V0IHRvIGNoYW5nZXMgdG8gdGhlIHRhcmdldC4gU2VlIFRhcmdldENoYW5nZS5cbiAgICAgKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBBIG1hcCBvZiB0YXJnZXRzIHRoYXQgaXMga25vd24gdG8gYmUgaW5jb25zaXN0ZW50LCBhbmQgdGhlIHB1cnBvc2UgZm9yXG4gICAgICogcmUtbGlzdGVuaW5nLiBMaXN0ZW5zIGZvciB0aGVzZSB0YXJnZXRzIHNob3VsZCBiZSByZS1lc3RhYmxpc2hlZCB3aXRob3V0XG4gICAgICogcmVzdW1lIHRva2Vucy5cbiAgICAgKi9cbiAgICBuLCBcbiAgICAvKipcbiAgICAgKiBBIHNldCBvZiB3aGljaCBkb2N1bWVudHMgaGF2ZSBjaGFuZ2VkIG9yIGJlZW4gZGVsZXRlZCwgYWxvbmcgd2l0aCB0aGVcbiAgICAgKiBkb2MncyBuZXcgdmFsdWVzIChpZiBub3QgZGVsZXRlZCkuXG4gICAgICovXG4gICAgciwgXG4gICAgLyoqXG4gICAgICogQSBzZXQgb2Ygd2hpY2ggZG9jdW1lbnQgdXBkYXRlcyBhcmUgZHVlIG9ubHkgdG8gbGltYm8gcmVzb2x1dGlvbiB0YXJnZXRzLlxuICAgICAqL1xuICAgIGkpIHtcbiAgICAgICAgdGhpcy5zbmFwc2hvdFZlcnNpb24gPSBlLCB0aGlzLnRhcmdldENoYW5nZXMgPSB0LCB0aGlzLnRhcmdldE1pc21hdGNoZXMgPSBuLCB0aGlzLmRvY3VtZW50VXBkYXRlcyA9IHIsIFxuICAgICAgICB0aGlzLnJlc29sdmVkTGltYm9Eb2N1bWVudHMgPSBpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIQUNLOiBWaWV3cyByZXF1aXJlIFJlbW90ZUV2ZW50cyBpbiBvcmRlciB0byBkZXRlcm1pbmUgd2hldGhlciB0aGUgdmlldyBpc1xuICAgICAqIENVUlJFTlQsIGJ1dCBzZWNvbmRhcnkgdGFicyBkb24ndCByZWNlaXZlIHJlbW90ZSBldmVudHMuIFNvIHRoaXMgbWV0aG9kIGlzXG4gICAgICogdXNlZCB0byBjcmVhdGUgYSBzeW50aGVzaXplZCBSZW1vdGVFdmVudCB0aGF0IGNhbiBiZSB1c2VkIHRvIGFwcGx5IGFcbiAgICAgKiBDVVJSRU5UIHN0YXR1cyBjaGFuZ2UgdG8gYSBWaWV3LCBmb3IgcXVlcmllcyBleGVjdXRlZCBpbiBhIGRpZmZlcmVudCB0YWIuXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS10YWIgb25seVxuICAgIHN0YXRpYyBjcmVhdGVTeW50aGVzaXplZFJlbW90ZUV2ZW50Rm9yQ3VycmVudENoYW5nZShlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgTWFwO1xuICAgICAgICByZXR1cm4gci5zZXQoZSwgVGFyZ2V0Q2hhbmdlLmNyZWF0ZVN5bnRoZXNpemVkVGFyZ2V0Q2hhbmdlRm9yQ3VycmVudENoYW5nZShlLCB0LCBuKSksIFxuICAgICAgICBuZXcgUmVtb3RlRXZlbnQoU25hcHNob3RWZXJzaW9uLm1pbigpLCByLCBuZXcgU29ydGVkTWFwKF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKSwgX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpLCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgVGFyZ2V0Q2hhbmdlIHNwZWNpZmllcyB0aGUgc2V0IG9mIGNoYW5nZXMgZm9yIGEgc3BlY2lmaWMgdGFyZ2V0IGFzIHBhcnQgb2ZcbiAqIGEgUmVtb3RlRXZlbnQuIFRoZXNlIGNoYW5nZXMgdHJhY2sgd2hpY2ggZG9jdW1lbnRzIGFyZSBhZGRlZCwgbW9kaWZpZWQgb3JcbiAqIHJlbW92ZWQsIGFzIHdlbGwgYXMgdGhlIHRhcmdldCdzIHJlc3VtZSB0b2tlbiBhbmQgd2hldGhlciB0aGUgdGFyZ2V0IGlzXG4gKiBtYXJrZWQgQ1VSUkVOVC5cbiAqIFRoZSBhY3R1YWwgY2hhbmdlcyAqdG8qIGRvY3VtZW50cyBhcmUgbm90IHBhcnQgb2YgdGhlIFRhcmdldENoYW5nZSBzaW5jZVxuICogZG9jdW1lbnRzIG1heSBiZSBwYXJ0IG9mIG11bHRpcGxlIHRhcmdldHMuXG4gKi8gY2xhc3MgVGFyZ2V0Q2hhbmdlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBBbiBvcGFxdWUsIHNlcnZlci1hc3NpZ25lZCB0b2tlbiB0aGF0IGFsbG93cyB3YXRjaGluZyBhIHF1ZXJ5IHRvIGJlIHJlc3VtZWRcbiAgICAgKiBhZnRlciBkaXNjb25uZWN0aW5nIHdpdGhvdXQgcmV0cmFuc21pdHRpbmcgYWxsIHRoZSBkYXRhIHRoYXQgbWF0Y2hlcyB0aGVcbiAgICAgKiBxdWVyeS4gVGhlIHJlc3VtZSB0b2tlbiBlc3NlbnRpYWxseSBpZGVudGlmaWVzIGEgcG9pbnQgaW4gdGltZSBmcm9tIHdoaWNoXG4gICAgICogdGhlIHNlcnZlciBzaG91bGQgcmVzdW1lIHNlbmRpbmcgcmVzdWx0cy5cbiAgICAgKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBUaGUgXCJjdXJyZW50XCIgKHN5bmNlZCkgc3RhdHVzIG9mIHRoaXMgdGFyZ2V0LiBOb3RlIHRoYXQgXCJjdXJyZW50XCJcbiAgICAgKiBoYXMgc3BlY2lhbCBtZWFuaW5nIGluIHRoZSBSUEMgcHJvdG9jb2wgdGhhdCBpbXBsaWVzIHRoYXQgYSB0YXJnZXQgaXNcbiAgICAgKiBib3RoIHVwLXRvLWRhdGUgYW5kIGNvbnNpc3RlbnQgd2l0aCB0aGUgcmVzdCBvZiB0aGUgd2F0Y2ggc3RyZWFtLlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXQgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSBuZXdseSBhc3NpZ25lZCB0byB0aGlzIHRhcmdldCBhcyBwYXJ0IG9mXG4gICAgICogdGhpcyByZW1vdGUgZXZlbnQuXG4gICAgICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiBkb2N1bWVudHMgdGhhdCB3ZXJlIGFscmVhZHkgYXNzaWduZWQgdG8gdGhpcyB0YXJnZXQgYnV0IHJlY2VpdmVkXG4gICAgICogYW4gdXBkYXRlIGR1cmluZyB0aGlzIHJlbW90ZSBldmVudC5cbiAgICAgKi9cbiAgICByLCBcbiAgICAvKipcbiAgICAgKiBUaGUgc2V0IG9mIGRvY3VtZW50cyB0aGF0IHdlcmUgcmVtb3ZlZCBmcm9tIHRoaXMgdGFyZ2V0IGFzIHBhcnQgb2YgdGhpc1xuICAgICAqIHJlbW90ZSBldmVudC5cbiAgICAgKi9cbiAgICBpKSB7XG4gICAgICAgIHRoaXMucmVzdW1lVG9rZW4gPSBlLCB0aGlzLmN1cnJlbnQgPSB0LCB0aGlzLmFkZGVkRG9jdW1lbnRzID0gbiwgdGhpcy5tb2RpZmllZERvY3VtZW50cyA9IHIsIFxuICAgICAgICB0aGlzLnJlbW92ZWREb2N1bWVudHMgPSBpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB1c2VkIHRvIGNyZWF0ZSBhIHN5bnRoZXNpemVkIFRhcmdldENoYW5nZXMgdGhhdCBjYW4gYmUgdXNlZCB0b1xuICAgICAqIGFwcGx5IGEgQ1VSUkVOVCBzdGF0dXMgY2hhbmdlIHRvIGEgVmlldyAoZm9yIHF1ZXJpZXMgZXhlY3V0ZWQgaW4gYSBkaWZmZXJlbnRcbiAgICAgKiB0YWIpIG9yIGZvciBuZXcgcXVlcmllcyAodG8gcmFpc2Ugc25hcHNob3RzIHdpdGggY29ycmVjdCBDVVJSRU5UIHN0YXR1cykuXG4gICAgICovICAgIHN0YXRpYyBjcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2UoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbmV3IFRhcmdldENoYW5nZShuLCB0LCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBjaGFuZ2VkIGRvY3VtZW50IGFuZCBhIGxpc3Qgb2YgdGFyZ2V0IGlkcyB0byB3aGljaCB0aGlzIGNoYW5nZVxuICogYXBwbGllcy5cbiAqXG4gKiBJZiBkb2N1bWVudCBoYXMgYmVlbiBkZWxldGVkIE5vRG9jdW1lbnQgd2lsbCBiZSBwcm92aWRlZC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfRG9jdW1lbnRXYXRjaENoYW5nZSB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSBuZXcgZG9jdW1lbnQgYXBwbGllcyB0byBhbGwgb2YgdGhlc2UgdGFyZ2V0cy4gKi9cbiAgICBlLCBcbiAgICAvKiogVGhlIG5ldyBkb2N1bWVudCBpcyByZW1vdmVkIGZyb20gYWxsIG9mIHRoZXNlIHRhcmdldHMuICovXG4gICAgdCwgXG4gICAgLyoqIFRoZSBrZXkgb2YgdGhlIGRvY3VtZW50IGZvciB0aGlzIGNoYW5nZS4gKi9cbiAgICBuLCBcbiAgICAvKipcbiAgICAgKiBUaGUgbmV3IGRvY3VtZW50IG9yIE5vRG9jdW1lbnQgaWYgaXQgd2FzIGRlbGV0ZWQuIElzIG51bGwgaWYgdGhlXG4gICAgICogZG9jdW1lbnQgd2VudCBvdXQgb2YgdmlldyB3aXRob3V0IHRoZSBzZXJ2ZXIgc2VuZGluZyBhIG5ldyBkb2N1bWVudC5cbiAgICAgKi9cbiAgICByKSB7XG4gICAgICAgIHRoaXMuUmUgPSBlLCB0aGlzLnJlbW92ZWRUYXJnZXRJZHMgPSB0LCB0aGlzLmtleSA9IG4sIHRoaXMuVmUgPSByO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0V4aXN0ZW5jZUZpbHRlckNoYW5nZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnRhcmdldElkID0gZSwgdGhpcy5tZSA9IHQ7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfV2F0Y2hUYXJnZXRDaGFuZ2Uge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBXaGF0IGtpbmQgb2YgY2hhbmdlIG9jY3VycmVkIHRvIHRoZSB3YXRjaCB0YXJnZXQuICovXG4gICAgZSwgXG4gICAgLyoqIFRoZSB0YXJnZXQgSURzIHRoYXQgd2VyZSBhZGRlZC9yZW1vdmVkL3NldC4gKi9cbiAgICB0LCBcbiAgICAvKipcbiAgICAgKiBBbiBvcGFxdWUsIHNlcnZlci1hc3NpZ25lZCB0b2tlbiB0aGF0IGFsbG93cyB3YXRjaGluZyBhIHRhcmdldCB0byBiZVxuICAgICAqIHJlc3VtZWQgYWZ0ZXIgZGlzY29ubmVjdGluZyB3aXRob3V0IHJldHJhbnNtaXR0aW5nIGFsbCB0aGUgZGF0YSB0aGF0XG4gICAgICogbWF0Y2hlcyB0aGUgdGFyZ2V0LiBUaGUgcmVzdW1lIHRva2VuIGVzc2VudGlhbGx5IGlkZW50aWZpZXMgYSBwb2ludCBpblxuICAgICAqIHRpbWUgZnJvbSB3aGljaCB0aGUgc2VydmVyIHNob3VsZCByZXN1bWUgc2VuZGluZyByZXN1bHRzLlxuICAgICAqL1xuICAgIG4gPSBCeXRlU3RyaW5nLkVNUFRZX0JZVEVfU1RSSU5HXG4gICAgLyoqIEFuIFJQQyBlcnJvciBpbmRpY2F0aW5nIHdoeSB0aGUgd2F0Y2ggZmFpbGVkLiAqLyAsIHIgPSBudWxsKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBlLCB0aGlzLnRhcmdldElkcyA9IHQsIHRoaXMucmVzdW1lVG9rZW4gPSBuLCB0aGlzLmNhdXNlID0gcjtcbiAgICB9XG59XG5cbi8qKiBUcmFja3MgdGhlIGludGVybmFsIHN0YXRlIG9mIGEgV2F0Y2ggdGFyZ2V0LiAqLyBjbGFzcyBfX1BSSVZBVEVfVGFyZ2V0U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIG51bWJlciBvZiBwZW5kaW5nIHJlc3BvbnNlcyAoYWRkcyBvciByZW1vdmVzKSB0aGF0IHdlIGFyZSB3YWl0aW5nIG9uLlxuICAgICAgICAgKiBXZSBvbmx5IGNvbnNpZGVyIHRhcmdldHMgYWN0aXZlIHRoYXQgaGF2ZSBubyBwZW5kaW5nIHJlc3BvbnNlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZmUgPSAwLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXBzIHRyYWNrIG9mIHRoZSBkb2N1bWVudCBjaGFuZ2VzIHNpbmNlIHRoZSBsYXN0IHJhaXNlZCBzbmFwc2hvdC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlc2UgY2hhbmdlcyBhcmUgY29udGludW91c2x5IHVwZGF0ZWQgYXMgd2UgcmVjZWl2ZSBkb2N1bWVudCB1cGRhdGVzIGFuZFxuICAgICAgICAgKiBhbHdheXMgcmVmbGVjdCB0aGUgY3VycmVudCBzZXQgb2YgY2hhbmdlcyBhZ2FpbnN0IHRoZSBsYXN0IGlzc3VlZCBzbmFwc2hvdC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2UgPSBfX1BSSVZBVEVfc25hcHNob3RDaGFuZ2VzTWFwKCksIFxuICAgICAgICAvKiogU2VlIHB1YmxpYyBnZXR0ZXJzIGZvciBleHBsYW5hdGlvbnMgb2YgdGhlc2UgZmllbGRzLiAqL1xuICAgICAgICB0aGlzLnBlID0gQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklORywgdGhpcy55ZSA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyB0YXJnZXQgc3RhdGUgc2hvdWxkIGJlIGluY2x1ZGVkIGluIHRoZSBuZXh0IHNuYXBzaG90LiBXZVxuICAgICAgICAgKiBpbml0aWFsaXplIHRvIHRydWUgc28gdGhhdCBuZXdseS1hZGRlZCB0YXJnZXRzIGFyZSBpbmNsdWRlZCBpbiB0aGUgbmV4dFxuICAgICAgICAgKiBSZW1vdGVFdmVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud2UgPSAhMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIHRhcmdldCBoYXMgYmVlbiBtYXJrZWQgJ2N1cnJlbnQnLlxuICAgICAqXG4gICAgICogJ0N1cnJlbnQnIGhhcyBzcGVjaWFsIG1lYW5pbmcgaW4gdGhlIFJQQyBwcm90b2NvbDogSXQgaW1wbGllcyB0aGF0IHRoZVxuICAgICAqIFdhdGNoIGJhY2tlbmQgaGFzIHNlbnQgdXMgYWxsIGNoYW5nZXMgdXAgdG8gdGhlIHBvaW50IGF0IHdoaWNoIHRoZSB0YXJnZXRcbiAgICAgKiB3YXMgYWRkZWQgYW5kIHRoYXQgdGhlIHRhcmdldCBpcyBjb25zaXN0ZW50IHdpdGggdGhlIHJlc3Qgb2YgdGhlIHdhdGNoXG4gICAgICogc3RyZWFtLlxuICAgICAqLyAgICBnZXQgY3VycmVudCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueWU7XG4gICAgfVxuICAgIC8qKiBUaGUgbGFzdCByZXN1bWUgdG9rZW4gc2VudCB0byB1cyBmb3IgdGhpcyB0YXJnZXQuICovICAgIGdldCByZXN1bWVUb2tlbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGU7XG4gICAgfVxuICAgIC8qKiBXaGV0aGVyIHRoaXMgdGFyZ2V0IGhhcyBwZW5kaW5nIHRhcmdldCBhZGRzIG9yIHRhcmdldCByZW1vdmVzLiAqLyAgICBnZXQgU2UoKSB7XG4gICAgICAgIHJldHVybiAwICE9PSB0aGlzLmZlO1xuICAgIH1cbiAgICAvKiogV2hldGhlciB3ZSBoYXZlIG1vZGlmaWVkIGFueSBzdGF0ZSB0aGF0IHNob3VsZCB0cmlnZ2VyIGEgc25hcHNob3QuICovICAgIGdldCBiZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMud2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgdGhlIHJlc3VtZSB0b2tlbiB0byB0aGUgVGFyZ2V0Q2hhbmdlLCBidXQgb25seSB3aGVuIGl0IGhhcyBhIG5ld1xuICAgICAqIHZhbHVlLiBFbXB0eSByZXN1bWVUb2tlbnMgYXJlIGRpc2NhcmRlZC5cbiAgICAgKi8gICAgRGUoZSkge1xuICAgICAgICBlLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDAgJiYgKHRoaXMud2UgPSAhMCwgdGhpcy5wZSA9IGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgdGFyZ2V0IGNoYW5nZSBmcm9tIHRoZSBjdXJyZW50IHNldCBvZiBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogVG8gcmVzZXQgdGhlIGRvY3VtZW50IGNoYW5nZXMgYWZ0ZXIgcmFpc2luZyB0aGlzIHNuYXBzaG90LCBjYWxsXG4gICAgICogYGNsZWFyUGVuZGluZ0NoYW5nZXMoKWAuXG4gICAgICovICAgIENlKCkge1xuICAgICAgICBsZXQgZSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCB0ID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIG4gPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2UuZm9yRWFjaCgoKHIsIGkpID0+IHtcbiAgICAgICAgICAgIHN3aXRjaCAoaSkge1xuICAgICAgICAgICAgICBjYXNlIDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLyA6XG4gICAgICAgICAgICAgICAgZSA9IGUuYWRkKHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovIDpcbiAgICAgICAgICAgICAgICB0ID0gdC5hZGQocik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA6XG4gICAgICAgICAgICAgICAgbiA9IG4uYWRkKHIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgZmFpbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSksIG5ldyBUYXJnZXRDaGFuZ2UodGhpcy5wZSwgdGhpcy55ZSwgZSwgdCwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgZG9jdW1lbnQgY2hhbmdlcyBhbmQgc2V0cyBgaGFzUGVuZGluZ0NoYW5nZXNgIHRvIGZhbHNlLlxuICAgICAqLyAgICB2ZSgpIHtcbiAgICAgICAgdGhpcy53ZSA9ICExLCB0aGlzLmdlID0gX19QUklWQVRFX3NuYXBzaG90Q2hhbmdlc01hcCgpO1xuICAgIH1cbiAgICBGZShlLCB0KSB7XG4gICAgICAgIHRoaXMud2UgPSAhMCwgdGhpcy5nZSA9IHRoaXMuZ2UuaW5zZXJ0KGUsIHQpO1xuICAgIH1cbiAgICBNZShlKSB7XG4gICAgICAgIHRoaXMud2UgPSAhMCwgdGhpcy5nZSA9IHRoaXMuZ2UucmVtb3ZlKGUpO1xuICAgIH1cbiAgICB4ZSgpIHtcbiAgICAgICAgdGhpcy5mZSArPSAxO1xuICAgIH1cbiAgICBPZSgpIHtcbiAgICAgICAgdGhpcy5mZSAtPSAxLCBfX1BSSVZBVEVfaGFyZEFzc2VydCh0aGlzLmZlID49IDApO1xuICAgIH1cbiAgICBOZSgpIHtcbiAgICAgICAgdGhpcy53ZSA9ICEwLCB0aGlzLnllID0gITA7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgaGVscGVyIGNsYXNzIHRvIGFjY3VtdWxhdGUgd2F0Y2ggY2hhbmdlcyBpbnRvIGEgUmVtb3RlRXZlbnQuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9XYXRjaENoYW5nZUFnZ3JlZ2F0b3Ige1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5MZSA9IGUsIFxuICAgICAgICAvKiogVGhlIGludGVybmFsIHN0YXRlIG9mIGFsbCB0cmFja2VkIHRhcmdldHMuICovXG4gICAgICAgIHRoaXMuQmUgPSBuZXcgTWFwLCBcbiAgICAgICAgLyoqIEtlZXBzIHRyYWNrIG9mIHRoZSBkb2N1bWVudHMgdG8gdXBkYXRlIHNpbmNlIHRoZSBsYXN0IHJhaXNlZCBzbmFwc2hvdC4gKi9cbiAgICAgICAgdGhpcy5rZSA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKSwgXG4gICAgICAgIC8qKiBBIG1hcHBpbmcgb2YgZG9jdW1lbnQga2V5cyB0byB0aGVpciBzZXQgb2YgdGFyZ2V0IElEcy4gKi9cbiAgICAgICAgdGhpcy5xZSA9IF9fUFJJVkFURV9kb2N1bWVudFRhcmdldE1hcCgpLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgbWFwIG9mIHRhcmdldHMgd2l0aCBleGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoZXMuIFRoZXNlIHRhcmdldHMgYXJlXG4gICAgICAgICAqIGtub3duIHRvIGJlIGluY29uc2lzdGVudCBhbmQgdGhlaXIgbGlzdGVucyBuZWVkcyB0byBiZSByZS1lc3RhYmxpc2hlZCBieVxuICAgICAgICAgKiBSZW1vdGVTdG9yZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuUWUgPSBuZXcgU29ydGVkTWFwKF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIGFuZCBhZGRzIHRoZSBEb2N1bWVudFdhdGNoQ2hhbmdlIHRvIHRoZSBjdXJyZW50IHNldCBvZiBjaGFuZ2VzLlxuICAgICAqLyAgICBLZShlKSB7XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiBlLlJlKSBlLlZlICYmIGUuVmUuaXNGb3VuZERvY3VtZW50KCkgPyB0aGlzLiRlKHQsIGUuVmUpIDogdGhpcy5VZSh0LCBlLmtleSwgZS5WZSk7XG4gICAgICAgIGZvciAoY29uc3QgdCBvZiBlLnJlbW92ZWRUYXJnZXRJZHMpIHRoaXMuVWUodCwgZS5rZXksIGUuVmUpO1xuICAgIH1cbiAgICAvKiogUHJvY2Vzc2VzIGFuZCBhZGRzIHRoZSBXYXRjaFRhcmdldENoYW5nZSB0byB0aGUgY3VycmVudCBzZXQgb2YgY2hhbmdlcy4gKi8gICAgV2UoZSkge1xuICAgICAgICB0aGlzLmZvckVhY2hUYXJnZXQoZSwgKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuR2UodCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGUuc3RhdGUpIHtcbiAgICAgICAgICAgICAgY2FzZSAwIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuTm9DaGFuZ2UgKi8gOlxuICAgICAgICAgICAgICAgIHRoaXMuemUodCkgJiYgbi5EZShlLnJlc3VtZVRva2VuKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDEgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5BZGRlZCAqLyA6XG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBkZWNyZW1lbnQgdGhlIG51bWJlciBvZiBwZW5kaW5nIGFja3MgbmVlZGVkIGZyb20gd2F0Y2hcbiAgICAgICAgICAgICAgICAvLyBmb3IgdGhpcyB0YXJnZXRJZC5cbiAgICAgICAgICAgICAgICBuLk9lKCksIG4uU2UgfHwgXG4gICAgICAgICAgICAgICAgLy8gV2UgaGF2ZSBhIGZyZXNobHkgYWRkZWQgdGFyZ2V0LCBzbyB3ZSBuZWVkIHRvIHJlc2V0IGFueSBzdGF0ZVxuICAgICAgICAgICAgICAgIC8vIHRoYXQgd2UgaGFkIHByZXZpb3VzbHkuIFRoaXMgY2FuIGhhcHBlbiBlLmcuIHdoZW4gcmVtb3ZlIGFuZCBhZGRcbiAgICAgICAgICAgICAgICAvLyBiYWNrIGEgdGFyZ2V0IGZvciBleGlzdGVuY2UgZmlsdGVyIG1pc21hdGNoZXMuXG4gICAgICAgICAgICAgICAgbi52ZSgpLCBuLkRlKGUucmVzdW1lVG9rZW4pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICAgIGNhc2UgMiAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLlJlbW92ZWQgKi8gOlxuICAgICAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8ga2VlcCB0cmFjayBvZiByZW1vdmVkIHRhcmdldHMgdG8gd2UgY2FuIHBvc3QtZmlsdGVyIGFuZFxuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBhbnkgdGFyZ2V0IGNoYW5nZXMuXG4gICAgICAgICAgICAgICAgLy8gV2UgbmVlZCB0byBkZWNyZW1lbnQgdGhlIG51bWJlciBvZiBwZW5kaW5nIGFja3MgbmVlZGVkIGZyb20gd2F0Y2hcbiAgICAgICAgICAgICAgICAvLyBmb3IgdGhpcyB0YXJnZXRJZC5cbiAgICAgICAgICAgICAgICBuLk9lKCksIG4uU2UgfHwgdGhpcy5yZW1vdmVUYXJnZXQodCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgY2FzZSAzIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuQ3VycmVudCAqLyA6XG4gICAgICAgICAgICAgICAgdGhpcy56ZSh0KSAmJiAobi5OZSgpLCBuLkRlKGUucmVzdW1lVG9rZW4pKTtcbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICBjYXNlIDQgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5SZXNldCAqLyA6XG4gICAgICAgICAgICAgICAgdGhpcy56ZSh0KSAmJiAoXG4gICAgICAgICAgICAgICAgLy8gUmVzZXQgdGhlIHRhcmdldCBhbmQgc3ludGhlc2l6ZXMgcmVtb3ZlcyBmb3IgYWxsIGV4aXN0aW5nXG4gICAgICAgICAgICAgICAgLy8gZG9jdW1lbnRzLiBUaGUgYmFja2VuZCB3aWxsIHJlLWFkZCBhbnkgZG9jdW1lbnRzIHRoYXQgc3RpbGxcbiAgICAgICAgICAgICAgICAvLyBtYXRjaCB0aGUgdGFyZ2V0IGJlZm9yZSBpdCBzZW5kcyB0aGUgbmV4dCBnbG9iYWwgc25hcHNob3QuXG4gICAgICAgICAgICAgICAgdGhpcy5qZSh0KSwgbi5EZShlLnJlc3VtZVRva2VuKSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBmYWlsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBhbGwgdGFyZ2V0SWRzIHRoYXQgdGhlIHdhdGNoIGNoYW5nZSBhcHBsaWVzIHRvOiBlaXRoZXIgdGhlXG4gICAgICogdGFyZ2V0SWRzIGV4cGxpY2l0bHkgbGlzdGVkIGluIHRoZSBjaGFuZ2Ugb3IgdGhlIHRhcmdldElkcyBvZiBhbGwgY3VycmVudGx5XG4gICAgICogYWN0aXZlIHRhcmdldHMuXG4gICAgICovICAgIGZvckVhY2hUYXJnZXQoZSwgdCkge1xuICAgICAgICBlLnRhcmdldElkcy5sZW5ndGggPiAwID8gZS50YXJnZXRJZHMuZm9yRWFjaCh0KSA6IHRoaXMuQmUuZm9yRWFjaCgoKGUsIG4pID0+IHtcbiAgICAgICAgICAgIHRoaXMuemUobikgJiYgdChuKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBIYW5kbGVzIGV4aXN0ZW5jZSBmaWx0ZXJzIGFuZCBzeW50aGVzaXplcyBkZWxldGVzIGZvciBmaWx0ZXIgbWlzbWF0Y2hlcy5cbiAgICAgKiBUYXJnZXRzIHRoYXQgYXJlIGludmFsaWRhdGVkIGJ5IGZpbHRlciBtaXNtYXRjaGVzIGFyZSBhZGRlZCB0b1xuICAgICAqIGBwZW5kaW5nVGFyZ2V0UmVzZXRzYC5cbiAgICAgKi8gICAgSGUoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS50YXJnZXRJZCwgbiA9IGUubWUuY291bnQsIHIgPSB0aGlzLkplKHQpO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgICAgY29uc3QgaSA9IHIudGFyZ2V0O1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV90YXJnZXRJc0RvY3VtZW50VGFyZ2V0KGkpKSBpZiAoMCA9PT0gbikge1xuICAgICAgICAgICAgICAgIC8vIFRoZSBleGlzdGVuY2UgZmlsdGVyIHRvbGQgdXMgdGhlIGRvY3VtZW50IGRvZXMgbm90IGV4aXN0LiBXZSBkZWR1Y2VcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHRoaXMgZG9jdW1lbnQgZG9lcyBub3QgZXhpc3QgYW5kIGFwcGx5IGEgZGVsZXRlZCBkb2N1bWVudCB0b1xuICAgICAgICAgICAgICAgIC8vIG91ciB1cGRhdGVzLiBXaXRob3V0IGFwcGx5aW5nIHRoaXMgZGVsZXRlZCBkb2N1bWVudCB0aGVyZSBtaWdodCBiZVxuICAgICAgICAgICAgICAgIC8vIGFub3RoZXIgcXVlcnkgdGhhdCB3aWxsIHJhaXNlIHRoaXMgZG9jdW1lbnQgYXMgcGFydCBvZiBhIHNuYXBzaG90XG4gICAgICAgICAgICAgICAgLy8gdW50aWwgaXQgaXMgcmVzb2x2ZWQsIGVzc2VudGlhbGx5IGV4cG9zaW5nIGluY29uc2lzdGVuY3kgYmV0d2VlblxuICAgICAgICAgICAgICAgIC8vIHF1ZXJpZXMuXG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IG5ldyBEb2N1bWVudEtleShpLnBhdGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuVWUodCwgZSwgTXV0YWJsZURvY3VtZW50Lm5ld05vRG9jdW1lbnQoZSwgU25hcHNob3RWZXJzaW9uLm1pbigpKSk7XG4gICAgICAgICAgICB9IGVsc2UgX19QUklWQVRFX2hhcmRBc3NlcnQoMSA9PT0gbik7IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0aGlzLlllKHQpO1xuICAgICAgICAgICAgICAgIC8vIEV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2guIE1hcmsgdGhlIGRvY3VtZW50cyBhcyBiZWluZyBpbiBsaW1ibywgYW5kXG4gICAgICAgICAgICAgICAgLy8gcmFpc2UgYSBzbmFwc2hvdCB3aXRoIGBpc0Zyb21DYWNoZTp0cnVlYC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHIgIT09IG4pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXBwbHkgYmxvb20gZmlsdGVyIHRvIGlkZW50aWZ5IGFuZCBtYXJrIHJlbW92ZWQgZG9jdW1lbnRzLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gdGhpcy5aZShlKSwgaSA9IG4gPyB0aGlzLlhlKG4sIGUsIHIpIDogMSAvKiBCbG9vbUZpbHRlckFwcGxpY2F0aW9uU3RhdHVzLlNraXBwZWQgKi87XG4gICAgICAgICAgICAgICAgICAgIGlmICgwIC8qIEJsb29tRmlsdGVyQXBwbGljYXRpb25TdGF0dXMuU3VjY2VzcyAqLyAhPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgYmxvb20gZmlsdGVyIGFwcGxpY2F0aW9uIGZhaWxzLCB3ZSByZXNldCB0aGUgbWFwcGluZyBhbmRcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgcmUtcnVuIG9mIHRoZSBxdWVyeS5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuamUodCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gMiAvKiBCbG9vbUZpbHRlckFwcGxpY2F0aW9uU3RhdHVzLkZhbHNlUG9zaXRpdmUgKi8gPT09IGkgPyBcIlRhcmdldFB1cnBvc2VFeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaEJsb29tXCIgLyogVGFyZ2V0UHVycG9zZS5FeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaEJsb29tICovIDogXCJUYXJnZXRQdXJwb3NlRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2hcIiAvKiBUYXJnZXRQdXJwb3NlLkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoICovO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5RZSA9IHRoaXMuUWUuaW5zZXJ0KHQsIGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG51bGwgPT0gaGUgfHwgaGUuZXQoZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZUV4aXN0ZW5jZUZpbHRlck1pc21hdGNoSW5mb0ZvclRlc3RpbmdIb29rcyhlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcywgbywgXywgYSwgdSwgYztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGwgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxDYWNoZUNvdW50OiBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0ZW5jZUZpbHRlckNvdW50OiB0LmNvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFiYXNlSWQ6IG4uZGF0YWJhc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJvamVjdElkOiBuLnByb2plY3RJZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgaCA9IHQudW5jaGFuZ2VkTmFtZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICBoICYmIChsLmJsb29tRmlsdGVyID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGxpZWQ6IDAgLyogQmxvb21GaWx0ZXJBcHBsaWNhdGlvblN0YXR1cy5TdWNjZXNzICovID09PSBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc2hDb3VudDogbnVsbCAhPT0gKHMgPSBudWxsID09IGggPyB2b2lkIDAgOiBoLmhhc2hDb3VudCkgJiYgdm9pZCAwICE9PSBzID8gcyA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYml0bWFwTGVuZ3RoOiBudWxsICE9PSAoYSA9IG51bGwgPT09IChfID0gbnVsbCA9PT0gKG8gPSBudWxsID09IGggPyB2b2lkIDAgOiBoLmJpdHMpIHx8IHZvaWQgMCA9PT0gbyA/IHZvaWQgMCA6IG8uYml0bWFwKSB8fCB2b2lkIDAgPT09IF8gPyB2b2lkIDAgOiBfLmxlbmd0aCkgJiYgdm9pZCAwICE9PSBhID8gYSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogbnVsbCAhPT0gKGMgPSBudWxsID09PSAodSA9IG51bGwgPT0gaCA/IHZvaWQgMCA6IGguYml0cykgfHwgdm9pZCAwID09PSB1ID8gdm9pZCAwIDogdS5wYWRkaW5nKSAmJiB2b2lkIDAgIT09IGMgPyBjIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaWdodENvbnRhaW46IGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGwgIT09ICh0ID0gbnVsbCA9PSByID8gdm9pZCAwIDogci5taWdodENvbnRhaW4oZSkpICYmIHZvaWQgMCAhPT0gdCAmJiB0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gKHIsIGUubWUsIHRoaXMuTGUudHQoKSwgbiwgaSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZSB0aGUgYmxvb20gZmlsdGVyIGZyb20gdGhlIFwidW5jaGFuZ2VkX25hbWVzXCIgZmllbGQgb2YgYW4gZXhpc3RlbmNlXG4gICAgICogZmlsdGVyLlxuICAgICAqLyAgICBaZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLm1lLnVuY2hhbmdlZE5hbWVzO1xuICAgICAgICBpZiAoIXQgfHwgIXQuYml0cykgcmV0dXJuIG51bGw7XG4gICAgICAgIGNvbnN0IHtiaXRzOiB7Yml0bWFwOiBuID0gXCJcIiwgcGFkZGluZzogciA9IDB9LCBoYXNoQ291bnQ6IGkgPSAwfSA9IHQ7XG4gICAgICAgIGxldCBzLCBvO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcyA9IF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKG4pLnRvVWludDhBcnJheSgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9CYXNlNjREZWNvZGVFcnJvcikgcmV0dXJuIF9fUFJJVkFURV9sb2dXYXJuKFwiRGVjb2RpbmcgdGhlIGJhc2U2NCBibG9vbSBmaWx0ZXIgaW4gZXhpc3RlbmNlIGZpbHRlciBmYWlsZWQgKFwiICsgZS5tZXNzYWdlICsgXCIpOyBpZ25vcmluZyB0aGUgYmxvb20gZmlsdGVyIGFuZCBmYWxsaW5nIGJhY2sgdG8gZnVsbCByZS1xdWVyeS5cIiksIFxuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIEJsb29tRmlsdGVyIHRocm93cyBlcnJvciBpZiB0aGUgaW5wdXRzIGFyZSBpbnZhbGlkLlxuICAgICAgICAgICAgbyA9IG5ldyBCbG9vbUZpbHRlcihzLCByLCBpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dXYXJuKGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQmxvb21GaWx0ZXJFcnJvciA/IFwiQmxvb21GaWx0ZXIgZXJyb3I6IFwiIDogXCJBcHBseWluZyBibG9vbSBmaWx0ZXIgZmFpbGVkOiBcIiwgZSksIFxuICAgICAgICAgICAgbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMCA9PT0gby5JZSA/IG51bGwgOiBvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBseSBibG9vbSBmaWx0ZXIgdG8gcmVtb3ZlIHRoZSBkZWxldGVkIGRvY3VtZW50cywgYW5kIHJldHVybiB0aGVcbiAgICAgKiBhcHBsaWNhdGlvbiBzdGF0dXMuXG4gICAgICovICAgIFhlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHQubWUuY291bnQgPT09IG4gLSB0aGlzLm50KGUsIHQudGFyZ2V0SWQpID8gMCAvKiBCbG9vbUZpbHRlckFwcGxpY2F0aW9uU3RhdHVzLlN1Y2Nlc3MgKi8gOiAyIC8qIEJsb29tRmlsdGVyQXBwbGljYXRpb25TdGF0dXMuRmFsc2VQb3NpdGl2ZSAqLztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmlsdGVyIG91dCByZW1vdmVkIGRvY3VtZW50cyBiYXNlZCBvbiBibG9vbSBmaWx0ZXIgbWVtYmVyc2hpcCByZXN1bHQgYW5kXG4gICAgICogcmV0dXJuIG51bWJlciBvZiBkb2N1bWVudHMgcmVtb3ZlZC5cbiAgICAgKi8gICAgbnQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5MZS5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KHQpO1xuICAgICAgICBsZXQgciA9IDA7XG4gICAgICAgIHJldHVybiBuLmZvckVhY2goKG4gPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMuTGUudHQoKSwgcyA9IGBwcm9qZWN0cy8ke2kucHJvamVjdElkfS9kYXRhYmFzZXMvJHtpLmRhdGFiYXNlfS9kb2N1bWVudHMvJHtuLnBhdGguY2Fub25pY2FsU3RyaW5nKCl9YDtcbiAgICAgICAgICAgIGUubWlnaHRDb250YWluKHMpIHx8ICh0aGlzLlVlKHQsIG4sIC8qdXBkYXRlZERvY3VtZW50PSovIG51bGwpLCByKyspO1xuICAgICAgICB9KSksIHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBjdXJyZW50bHkgYWNjdW11bGF0ZWQgc3RhdGUgaW50byBhIHJlbW90ZSBldmVudCBhdCB0aGVcbiAgICAgKiBwcm92aWRlZCBzbmFwc2hvdCB2ZXJzaW9uLiBSZXNldHMgdGhlIGFjY3VtdWxhdGVkIGNoYW5nZXMgYmVmb3JlIHJldHVybmluZy5cbiAgICAgKi8gICAgcnQoZSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IE1hcDtcbiAgICAgICAgdGhpcy5CZS5mb3JFYWNoKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMuSmUocik7XG4gICAgICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgICAgIGlmIChuLmN1cnJlbnQgJiYgX19QUklWQVRFX3RhcmdldElzRG9jdW1lbnRUYXJnZXQoaS50YXJnZXQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIERvY3VtZW50IHF1ZXJpZXMgZm9yIGRvY3VtZW50IHRoYXQgZG9uJ3QgZXhpc3QgY2FuIHByb2R1Y2UgYW4gZW1wdHlcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzdWx0IHNldC4gVG8gdXBkYXRlIG91ciBsb2NhbCBjYWNoZSwgd2Ugc3ludGhlc2l6ZSBhIGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgIC8vIGRlbGV0ZSBpZiB3ZSBoYXZlIG5vdCBwcmV2aW91c2x5IHJlY2VpdmVkIHRoZSBkb2N1bWVudC4gVGhpc1xuICAgICAgICAgICAgICAgICAgICAvLyByZXNvbHZlcyB0aGUgbGltYm8gc3RhdGUgb2YgdGhlIGRvY3VtZW50LCByZW1vdmluZyBpdCBmcm9tXG4gICAgICAgICAgICAgICAgICAgIC8vIGxpbWJvRG9jdW1lbnRSZWZzLlxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IElkZWFsbHkgd2Ugd291bGQgaGF2ZSBhbiBleHBsaWNpdCBsb29rdXAgdGFyZ2V0XG4gICAgICAgICAgICAgICAgICAgIC8vIGluc3RlYWQgcmVzdWx0aW5nIGluIGFuIGV4cGxpY2l0IGRlbGV0ZSBtZXNzYWdlIGFuZCB3ZSBjb3VsZFxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgdGhpcyBzcGVjaWFsIGxvZ2ljLlxuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gbmV3IERvY3VtZW50S2V5KGkudGFyZ2V0LnBhdGgpO1xuICAgICAgICAgICAgICAgICAgICBudWxsICE9PSB0aGlzLmtlLmdldCh0KSB8fCB0aGlzLml0KHIsIHQpIHx8IHRoaXMuVWUociwgdCwgTXV0YWJsZURvY3VtZW50Lm5ld05vRG9jdW1lbnQodCwgZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuLmJlICYmICh0LnNldChyLCBuLkNlKCkpLCBuLnZlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICAgIGxldCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIC8vIFdlIGV4dHJhY3QgdGhlIHNldCBvZiBsaW1iby1vbmx5IGRvY3VtZW50IHVwZGF0ZXMgYXMgdGhlIEdDIGxvZ2ljXG4gICAgICAgIC8vIHNwZWNpYWwtY2FzZXMgZG9jdW1lbnRzIHRoYXQgZG8gbm90IGFwcGVhciBpbiB0aGUgdGFyZ2V0IGNhY2hlLlxuICAgICAgICBcbiAgICAgICAgLy8gVE9ETyhnc29sdGlzKTogRXhwYW5kIG9uIHRoaXMgY29tbWVudCBvbmNlIEdDIGlzIGF2YWlsYWJsZSBpbiB0aGUgSlNcbiAgICAgICAgLy8gY2xpZW50LlxuICAgICAgICAgICAgICAgIHRoaXMucWUuZm9yRWFjaCgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIGxldCByID0gITA7XG4gICAgICAgICAgICB0LmZvckVhY2hXaGlsZSgoZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuSmUoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICF0IHx8IFwiVGFyZ2V0UHVycG9zZUxpbWJvUmVzb2x1dGlvblwiIC8qIFRhcmdldFB1cnBvc2UuTGltYm9SZXNvbHV0aW9uICovID09PSB0LnB1cnBvc2UgfHwgKHIgPSAhMSwgXG4gICAgICAgICAgICAgICAgITEpO1xuICAgICAgICAgICAgfSkpLCByICYmIChuID0gbi5hZGQoZSkpO1xuICAgICAgICB9KSksIHRoaXMua2UuZm9yRWFjaCgoKHQsIG4pID0+IG4uc2V0UmVhZFRpbWUoZSkpKTtcbiAgICAgICAgY29uc3QgciA9IG5ldyBSZW1vdGVFdmVudChlLCB0LCB0aGlzLlFlLCB0aGlzLmtlLCBuKTtcbiAgICAgICAgcmV0dXJuIHRoaXMua2UgPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCksIHRoaXMucWUgPSBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRNYXAoKSwgXG4gICAgICAgIHRoaXMuUWUgPSBuZXcgU29ydGVkTWFwKF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKSwgcjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyB0aGUgcHJvdmlkZWQgZG9jdW1lbnQgdG8gdGhlIGludGVybmFsIGxpc3Qgb2YgZG9jdW1lbnQgdXBkYXRlcyBhbmRcbiAgICAgKiBpdHMgZG9jdW1lbnQga2V5IHRvIHRoZSBnaXZlbiB0YXJnZXQncyBtYXBwaW5nLlxuICAgICAqL1xuICAgIC8vIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gICAgJGUoZSwgdCkge1xuICAgICAgICBpZiAoIXRoaXMuemUoZSkpIHJldHVybjtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuaXQoZSwgdC5rZXkpID8gMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovIDogMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovO1xuICAgICAgICB0aGlzLkdlKGUpLkZlKHQua2V5LCBuKSwgdGhpcy5rZSA9IHRoaXMua2UuaW5zZXJ0KHQua2V5LCB0KSwgdGhpcy5xZSA9IHRoaXMucWUuaW5zZXJ0KHQua2V5LCB0aGlzLnN0KHQua2V5KS5hZGQoZSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm92aWRlZCBkb2N1bWVudCBmcm9tIHRoZSB0YXJnZXQgbWFwcGluZy4gSWYgdGhlXG4gICAgICogZG9jdW1lbnQgbm8gbG9uZ2VyIG1hdGNoZXMgdGhlIHRhcmdldCwgYnV0IHRoZSBkb2N1bWVudCdzIHN0YXRlIGlzIHN0aWxsXG4gICAgICoga25vd24gKGUuZy4gd2Uga25vdyB0aGF0IHRoZSBkb2N1bWVudCB3YXMgZGVsZXRlZCBvciB3ZSByZWNlaXZlZCB0aGUgY2hhbmdlXG4gICAgICogdGhhdCBjYXVzZWQgdGhlIGZpbHRlciBtaXNtYXRjaCksIHRoZSBuZXcgZG9jdW1lbnQgY2FuIGJlIHByb3ZpZGVkXG4gICAgICogdG8gdXBkYXRlIHRoZSByZW1vdGUgZG9jdW1lbnQgY2FjaGUuXG4gICAgICovXG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAgICBVZShlLCB0LCBuKSB7XG4gICAgICAgIGlmICghdGhpcy56ZShlKSkgcmV0dXJuO1xuICAgICAgICBjb25zdCByID0gdGhpcy5HZShlKTtcbiAgICAgICAgdGhpcy5pdChlLCB0KSA/IHIuRmUodCwgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8pIDogXG4gICAgICAgIC8vIFRoZSBkb2N1bWVudCBtYXkgaGF2ZSBlbnRlcmVkIGFuZCBsZWZ0IHRoZSB0YXJnZXQgYmVmb3JlIHdlIHJhaXNlZCBhXG4gICAgICAgIC8vIHNuYXBzaG90LCBzbyB3ZSBjYW4ganVzdCBpZ25vcmUgdGhlIGNoYW5nZS5cbiAgICAgICAgci5NZSh0KSwgdGhpcy5xZSA9IHRoaXMucWUuaW5zZXJ0KHQsIHRoaXMuc3QodCkuZGVsZXRlKGUpKSwgbiAmJiAodGhpcy5rZSA9IHRoaXMua2UuaW5zZXJ0KHQsIG4pKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0KGUpIHtcbiAgICAgICAgdGhpcy5CZS5kZWxldGUoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgY291bnQgb2YgZG9jdW1lbnRzIGluIHRoZSB0YXJnZXQuIFRoaXMgaW5jbHVkZXMgYm90aFxuICAgICAqIHRoZSBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgdGhlIExvY2FsU3RvcmUgY29uc2lkZXJzIHRvIGJlIHBhcnQgb2YgdGhlXG4gICAgICogdGFyZ2V0IGFzIHdlbGwgYXMgYW55IGFjY3VtdWxhdGVkIGNoYW5nZXMuXG4gICAgICovICAgIFllKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuR2UoZSkuQ2UoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuTGUuZ2V0UmVtb3RlS2V5c0ZvclRhcmdldChlKS5zaXplICsgdC5hZGRlZERvY3VtZW50cy5zaXplIC0gdC5yZW1vdmVkRG9jdW1lbnRzLnNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEluY3JlbWVudCB0aGUgbnVtYmVyIG9mIGFja3MgbmVlZGVkIGZyb20gd2F0Y2ggYmVmb3JlIHdlIGNhbiBjb25zaWRlciB0aGVcbiAgICAgKiBzZXJ2ZXIgdG8gYmUgJ2luLXN5bmMnIHdpdGggdGhlIGNsaWVudCdzIGFjdGl2ZSB0YXJnZXRzLlxuICAgICAqLyAgICB4ZShlKSB7XG4gICAgICAgIHRoaXMuR2UoZSkueGUoKTtcbiAgICB9XG4gICAgR2UoZSkge1xuICAgICAgICBsZXQgdCA9IHRoaXMuQmUuZ2V0KGUpO1xuICAgICAgICByZXR1cm4gdCB8fCAodCA9IG5ldyBfX1BSSVZBVEVfVGFyZ2V0U3RhdGUsIHRoaXMuQmUuc2V0KGUsIHQpKSwgdDtcbiAgICB9XG4gICAgc3QoZSkge1xuICAgICAgICBsZXQgdCA9IHRoaXMucWUuZ2V0KGUpO1xuICAgICAgICByZXR1cm4gdCB8fCAodCA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpLCB0aGlzLnFlID0gdGhpcy5xZS5pbnNlcnQoZSwgdCkpLCBcbiAgICAgICAgdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmVyaWZpZXMgdGhhdCB0aGUgdXNlciBpcyBzdGlsbCBpbnRlcmVzdGVkIGluIHRoaXMgdGFyZ2V0IChieSBjYWxsaW5nXG4gICAgICogYGdldFRhcmdldERhdGFGb3JUYXJnZXQoKWApIGFuZCB0aGF0IHdlIGFyZSBub3Qgd2FpdGluZyBmb3IgcGVuZGluZyBBRERzXG4gICAgICogZnJvbSB3YXRjaC5cbiAgICAgKi8gICAgemUoZSkge1xuICAgICAgICBjb25zdCB0ID0gbnVsbCAhPT0gdGhpcy5KZShlKTtcbiAgICAgICAgcmV0dXJuIHQgfHwgX19QUklWQVRFX2xvZ0RlYnVnKFwiV2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yXCIsIFwiRGV0ZWN0ZWQgaW5hY3RpdmUgdGFyZ2V0XCIsIGUpLCBcbiAgICAgICAgdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgVGFyZ2V0RGF0YSBmb3IgYW4gYWN0aXZlIHRhcmdldCAoaS5lLiBhIHRhcmdldCB0aGF0IHRoZSB1c2VyXG4gICAgICogaXMgc3RpbGwgaW50ZXJlc3RlZCBpbiB0aGF0IGhhcyBubyBvdXRzdGFuZGluZyB0YXJnZXQgY2hhbmdlIHJlcXVlc3RzKS5cbiAgICAgKi8gICAgSmUoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5CZS5nZXQoZSk7XG4gICAgICAgIHJldHVybiB0ICYmIHQuU2UgPyBudWxsIDogdGhpcy5MZS5vdChlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBzdGF0ZSBvZiBhIFdhdGNoIHRhcmdldCB0byBpdHMgaW5pdGlhbCBzdGF0ZSAoZS5nLiBzZXRzXG4gICAgICogJ2N1cnJlbnQnIHRvIGZhbHNlLCBjbGVhcnMgdGhlIHJlc3VtZSB0b2tlbiBhbmQgcmVtb3ZlcyBpdHMgdGFyZ2V0IG1hcHBpbmdcbiAgICAgKiBmcm9tIGFsbCBkb2N1bWVudHMpLlxuICAgICAqLyAgICBqZShlKSB7XG4gICAgICAgIHRoaXMuQmUuc2V0KGUsIG5ldyBfX1BSSVZBVEVfVGFyZ2V0U3RhdGUpO1xuICAgICAgICB0aGlzLkxlLmdldFJlbW90ZUtleXNGb3JUYXJnZXQoZSkuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICB0aGlzLlVlKGUsIHQsIC8qdXBkYXRlZERvY3VtZW50PSovIG51bGwpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciB0aGUgTG9jYWxTdG9yZSBjb25zaWRlcnMgdGhlIGRvY3VtZW50IHRvIGJlIHBhcnQgb2YgdGhlXG4gICAgICogc3BlY2lmaWVkIHRhcmdldC5cbiAgICAgKi8gICAgaXQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5MZS5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUpLmhhcyh0KTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudFRhcmdldE1hcCgpIHtcbiAgICByZXR1cm4gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3NuYXBzaG90Q2hhbmdlc01hcCgpIHtcbiAgICByZXR1cm4gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcbn1cblxuY29uc3QgSWUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGUgPSB7XG4gICAgICAgIGFzYzogXCJBU0NFTkRJTkdcIixcbiAgICAgICAgZGVzYzogXCJERVNDRU5ESU5HXCJcbiAgICB9O1xuICAgIHJldHVybiBlO1xufSkoKSwgVGUgPSAoKCkgPT4ge1xuICAgIGNvbnN0IGUgPSB7XG4gICAgICAgIFwiPFwiOiBcIkxFU1NfVEhBTlwiLFxuICAgICAgICBcIjw9XCI6IFwiTEVTU19USEFOX09SX0VRVUFMXCIsXG4gICAgICAgIFwiPlwiOiBcIkdSRUFURVJfVEhBTlwiLFxuICAgICAgICBcIj49XCI6IFwiR1JFQVRFUl9USEFOX09SX0VRVUFMXCIsXG4gICAgICAgIFwiPT1cIjogXCJFUVVBTFwiLFxuICAgICAgICBcIiE9XCI6IFwiTk9UX0VRVUFMXCIsXG4gICAgICAgIFwiYXJyYXktY29udGFpbnNcIjogXCJBUlJBWV9DT05UQUlOU1wiLFxuICAgICAgICBpbjogXCJJTlwiLFxuICAgICAgICBcIm5vdC1pblwiOiBcIk5PVF9JTlwiLFxuICAgICAgICBcImFycmF5LWNvbnRhaW5zLWFueVwiOiBcIkFSUkFZX0NPTlRBSU5TX0FOWVwiXG4gICAgfTtcbiAgICByZXR1cm4gZTtcbn0pKCksIEVlID0gKCgpID0+IHtcbiAgICBjb25zdCBlID0ge1xuICAgICAgICBhbmQ6IFwiQU5EXCIsXG4gICAgICAgIG9yOiBcIk9SXCJcbiAgICB9O1xuICAgIHJldHVybiBlO1xufSkoKTtcblxuLyoqXG4gKiBUaGlzIGNsYXNzIGdlbmVyYXRlcyBKc29uT2JqZWN0IHZhbHVlcyBmb3IgdGhlIERhdGFzdG9yZSBBUEkgc3VpdGFibGUgZm9yXG4gKiBzZW5kaW5nIHRvIGVpdGhlciBHUlBDIHN0dWIgbWV0aG9kcyBvciB2aWEgdGhlIEpTT04vSFRUUCBSRVNUIEFQSS5cbiAqXG4gKiBUaGUgc2VyaWFsaXplciBzdXBwb3J0cyBib3RoIFByb3RvYnVmLmpzIGFuZCBQcm90bzMgSlNPTiBmb3JtYXRzLiBCeVxuICogc2V0dGluZyBgdXNlUHJvdG8zSnNvbmAgdG8gdHJ1ZSwgdGhlIHNlcmlhbGl6ZXIgd2lsbCB1c2UgdGhlIFByb3RvMyBKU09OXG4gKiBmb3JtYXQuXG4gKlxuICogRm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIFByb3RvMyBKU09OIGZvcm1hdCBjaGVja1xuICogaHR0cHM6Ly9kZXZlbG9wZXJzLmdvb2dsZS5jb20vcHJvdG9jb2wtYnVmZmVycy9kb2NzL3Byb3RvMyNqc29uXG4gKlxuICogVE9ETyhrbGltdCk6IFdlIGNhbiByZW1vdmUgdGhlIGRhdGFiYXNlSWQgYXJndW1lbnQgaWYgd2Uga2VlcCB0aGUgZnVsbFxuICogcmVzb3VyY2UgbmFtZSBpbiBkb2N1bWVudHMuXG4gKi9cbmNsYXNzIEpzb25Qcm90b1NlcmlhbGl6ZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5kYXRhYmFzZUlkID0gZSwgdGhpcy51c2VQcm90bzNKc29uID0gdDtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHZhbHVlIGZvciBhIG51bWJlciAob3IgbnVsbCkgdGhhdCdzIGFwcHJvcHJpYXRlIHRvIHB1dCBpbnRvXG4gKiBhIGdvb2dsZS5wcm90b2J1Zi5JbnQzMlZhbHVlIHByb3RvLlxuICogRE8gTk9UIFVTRSBUSElTIEZPUiBBTllUSElORyBFTFNFLlxuICogVGhpcyBtZXRob2QgY2hlYXRzLiBJdCdzIHR5cGVkIGFzIHJldHVybmluZyBcIm51bWJlclwiIGJlY2F1c2UgdGhhdCdzIHdoYXRcbiAqIG91ciBnZW5lcmF0ZWQgcHJvdG8gaW50ZXJmYWNlcyBzYXkgSW50MzJWYWx1ZSBtdXN0IGJlLiBCdXQgR1JQQyBhY3R1YWxseVxuICogZXhwZWN0cyBhIHsgdmFsdWU6IDxudW1iZXI+IH0gc3RydWN0LlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9JbnQzMlByb3RvKGUsIHQpIHtcbiAgICByZXR1cm4gZS51c2VQcm90bzNKc29uIHx8IF9fUFJJVkFURV9pc051bGxPclVuZGVmaW5lZCh0KSA/IHQgOiB7XG4gICAgICAgIHZhbHVlOiB0XG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgbnVtYmVyIChvciBudWxsKSBmcm9tIGEgZ29vZ2xlLnByb3RvYnVmLkludDMyVmFsdWUgcHJvdG8uXG4gKi9cbi8qKlxuICogUmV0dXJucyBhIHZhbHVlIGZvciBhIERhdGUgdGhhdCdzIGFwcHJvcHJpYXRlIHRvIHB1dCBpbnRvIGEgcHJvdG8uXG4gKi9cbmZ1bmN0aW9uIHRvVGltZXN0YW1wKGUsIHQpIHtcbiAgICBpZiAoZS51c2VQcm90bzNKc29uKSB7XG4gICAgICAgIHJldHVybiBgJHtuZXcgRGF0ZSgxZTMgKiB0LnNlY29uZHMpLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgvXFwuXFxkKi8sIFwiXCIpLnJlcGxhY2UoXCJaXCIsIFwiXCIpfS4keyhcIjAwMDAwMDAwMFwiICsgdC5uYW5vc2Vjb25kcykuc2xpY2UoLTkpfVpgO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBzZWNvbmRzOiBcIlwiICsgdC5zZWNvbmRzLFxuICAgICAgICBuYW5vczogdC5uYW5vc2Vjb25kc1xuICAgIH07XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHZhbHVlIGZvciBieXRlcyB0aGF0J3MgYXBwcm9wcmlhdGUgdG8gcHV0IGluIGEgcHJvdG8uXG4gKlxuICogVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3RvQnl0ZXMoZSwgdCkge1xuICAgIHJldHVybiBlLnVzZVByb3RvM0pzb24gPyB0LnRvQmFzZTY0KCkgOiB0LnRvVWludDhBcnJheSgpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBCeXRlU3RyaW5nIGJhc2VkIG9uIHRoZSBwcm90byBzdHJpbmcgdmFsdWUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RvVmVyc2lvbihlLCB0KSB7XG4gICAgcmV0dXJuIHRvVGltZXN0YW1wKGUsIHQudG9UaW1lc3RhbXAoKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tVmVyc2lvbihlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhZSksIFNuYXBzaG90VmVyc2lvbi5mcm9tVGltZXN0YW1wKGZ1bmN0aW9uIGZyb21UaW1lc3RhbXAoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lc3RhbXAodC5zZWNvbmRzLCB0Lm5hbm9zKTtcbiAgICB9KGUpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvUmVzb3VyY2VOYW1lKGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX3RvUmVzb3VyY2VQYXRoKGUsIHQpLmNhbm9uaWNhbFN0cmluZygpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9SZXNvdXJjZVBhdGgoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnVsbHlRdWFsaWZpZWRQcmVmaXhQYXRoKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNvdXJjZVBhdGgoWyBcInByb2plY3RzXCIsIGUucHJvamVjdElkLCBcImRhdGFiYXNlc1wiLCBlLmRhdGFiYXNlIF0pO1xuICAgIH0oZSkuY2hpbGQoXCJkb2N1bWVudHNcIik7XG4gICAgcmV0dXJuIHZvaWQgMCA9PT0gdCA/IG4gOiBuLmNoaWxkKHQpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVJlc291cmNlTmFtZShlKSB7XG4gICAgY29uc3QgdCA9IFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKGUpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfaGFyZEFzc2VydChfX1BSSVZBVEVfaXNWYWxpZFJlc291cmNlTmFtZSh0KSksIHQ7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b05hbWUoZSwgdCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfdG9SZXNvdXJjZU5hbWUoZS5kYXRhYmFzZUlkLCB0LnBhdGgpO1xufVxuXG5mdW5jdGlvbiBmcm9tTmFtZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9mcm9tUmVzb3VyY2VOYW1lKHQpO1xuICAgIGlmIChuLmdldCgxKSAhPT0gZS5kYXRhYmFzZUlkLnByb2plY3RJZCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJUcmllZCB0byBkZXNlcmlhbGl6ZSBrZXkgZnJvbSBkaWZmZXJlbnQgcHJvamVjdDogXCIgKyBuLmdldCgxKSArIFwiIHZzIFwiICsgZS5kYXRhYmFzZUlkLnByb2plY3RJZCk7XG4gICAgaWYgKG4uZ2V0KDMpICE9PSBlLmRhdGFiYXNlSWQuZGF0YWJhc2UpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVHJpZWQgdG8gZGVzZXJpYWxpemUga2V5IGZyb20gZGlmZmVyZW50IGRhdGFiYXNlOiBcIiArIG4uZ2V0KDMpICsgXCIgdnMgXCIgKyBlLmRhdGFiYXNlSWQuZGF0YWJhc2UpO1xuICAgIHJldHVybiBuZXcgRG9jdW1lbnRLZXkoX19QUklWQVRFX2V4dHJhY3RMb2NhbFBhdGhGcm9tUmVzb3VyY2VOYW1lKG4pKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvUXVlcnlQYXRoKGUsIHQpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX3RvUmVzb3VyY2VOYW1lKGUuZGF0YWJhc2VJZCwgdCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tUXVlcnlQYXRoKGUpIHtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Zyb21SZXNvdXJjZU5hbWUoZSk7XG4gICAgLy8gSW4gdjFiZXRhMSBxdWVyaWVzIGZvciBjb2xsZWN0aW9ucyBhdCB0aGUgcm9vdCBkaWQgbm90IGhhdmUgYSB0cmFpbGluZ1xuICAgIC8vIFwiL2RvY3VtZW50c1wiLiBJbiB2MSBhbGwgcmVzb3VyY2UgcGF0aHMgY29udGFpbiBcIi9kb2N1bWVudHNcIi4gUHJlc2VydmUgdGhlXG4gICAgLy8gYWJpbGl0eSB0byByZWFkIHRoZSB2MWJldGExIGZvcm0gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBxdWVyaWVzIHBlcnNpc3RlZFxuICAgIC8vIGluIHRoZSBsb2NhbCB0YXJnZXQgY2FjaGUuXG4gICAgICAgIHJldHVybiA0ID09PSB0Lmxlbmd0aCA/IFJlc291cmNlUGF0aC5lbXB0eVBhdGgoKSA6IF9fUFJJVkFURV9leHRyYWN0TG9jYWxQYXRoRnJvbVJlc291cmNlTmFtZSh0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2dldEVuY29kZWREYXRhYmFzZUlkKGUpIHtcbiAgICByZXR1cm4gbmV3IFJlc291cmNlUGF0aChbIFwicHJvamVjdHNcIiwgZS5kYXRhYmFzZUlkLnByb2plY3RJZCwgXCJkYXRhYmFzZXNcIiwgZS5kYXRhYmFzZUlkLmRhdGFiYXNlIF0pLmNhbm9uaWNhbFN0cmluZygpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZXh0cmFjdExvY2FsUGF0aEZyb21SZXNvdXJjZU5hbWUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfaGFyZEFzc2VydChlLmxlbmd0aCA+IDQgJiYgXCJkb2N1bWVudHNcIiA9PT0gZS5nZXQoNCkpLCBlLnBvcEZpcnN0KDUpO1xufVxuXG4vKiogQ3JlYXRlcyBhIERvY3VtZW50IHByb3RvIGZyb20ga2V5IGFuZCBmaWVsZHMgKGJ1dCBubyBjcmVhdGUvdXBkYXRlIHRpbWUpICovIGZ1bmN0aW9uIF9fUFJJVkFURV90b011dGF0aW9uRG9jdW1lbnQoZSwgdCwgbikge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IF9fUFJJVkFURV90b05hbWUoZSwgdCksXG4gICAgICAgIGZpZWxkczogbi52YWx1ZS5tYXBWYWx1ZS5maWVsZHNcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURvY3VtZW50KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gZnJvbU5hbWUoZSwgdC5uYW1lKSwgaSA9IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LnVwZGF0ZVRpbWUpLCBzID0gdC5jcmVhdGVUaW1lID8gX19QUklWQVRFX2Zyb21WZXJzaW9uKHQuY3JlYXRlVGltZSkgOiBTbmFwc2hvdFZlcnNpb24ubWluKCksIG8gPSBuZXcgT2JqZWN0VmFsdWUoe1xuICAgICAgICBtYXBWYWx1ZToge1xuICAgICAgICAgICAgZmllbGRzOiB0LmZpZWxkc1xuICAgICAgICB9XG4gICAgfSksIF8gPSBNdXRhYmxlRG9jdW1lbnQubmV3Rm91bmREb2N1bWVudChyLCBpLCBzLCBvKTtcbiAgICByZXR1cm4gbiAmJiBfLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpLCBuID8gXy5zZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMoKSA6IF87XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQmF0Y2hHZXREb2N1bWVudHNSZXNwb25zZShlLCB0KSB7XG4gICAgcmV0dXJuIFwiZm91bmRcIiBpbiB0ID8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Gb3VuZChlLCB0KSB7XG4gICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhdC5mb3VuZCksIHQuZm91bmQubmFtZSwgdC5mb3VuZC51cGRhdGVUaW1lO1xuICAgICAgICBjb25zdCBuID0gZnJvbU5hbWUoZSwgdC5mb3VuZC5uYW1lKSwgciA9IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LmZvdW5kLnVwZGF0ZVRpbWUpLCBpID0gdC5mb3VuZC5jcmVhdGVUaW1lID8gX19QUklWQVRFX2Zyb21WZXJzaW9uKHQuZm91bmQuY3JlYXRlVGltZSkgOiBTbmFwc2hvdFZlcnNpb24ubWluKCksIHMgPSBuZXcgT2JqZWN0VmFsdWUoe1xuICAgICAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHQuZm91bmQuZmllbGRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gTXV0YWJsZURvY3VtZW50Lm5ld0ZvdW5kRG9jdW1lbnQobiwgciwgaSwgcyk7XG4gICAgfShlLCB0KSA6IFwibWlzc2luZ1wiIGluIHQgPyBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbU1pc3NpbmcoZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCghIXQubWlzc2luZyksIF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhdC5yZWFkVGltZSk7XG4gICAgICAgIGNvbnN0IG4gPSBmcm9tTmFtZShlLCB0Lm1pc3NpbmcpLCByID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKHQucmVhZFRpbWUpO1xuICAgICAgICByZXR1cm4gTXV0YWJsZURvY3VtZW50Lm5ld05vRG9jdW1lbnQobiwgcik7XG4gICAgfShlLCB0KSA6IGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21XYXRjaENoYW5nZShlLCB0KSB7XG4gICAgbGV0IG47XG4gICAgaWYgKFwidGFyZ2V0Q2hhbmdlXCIgaW4gdCkge1xuICAgICAgICB0LnRhcmdldENoYW5nZTtcbiAgICAgICAgLy8gcHJvdG8zIGRlZmF1bHQgdmFsdWUgaXMgdW5zZXQgaW4gSlNPTiAodW5kZWZpbmVkKSwgc28gdXNlICdOT19DSEFOR0UnXG4gICAgICAgIC8vIGlmIHVuc2V0XG4gICAgICAgIGNvbnN0IHIgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUoZSkge1xuICAgICAgICAgICAgcmV0dXJuIFwiTk9fQ0hBTkdFXCIgPT09IGUgPyAwIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuTm9DaGFuZ2UgKi8gOiBcIkFERFwiID09PSBlID8gMSAvKiBXYXRjaFRhcmdldENoYW5nZVN0YXRlLkFkZGVkICovIDogXCJSRU1PVkVcIiA9PT0gZSA/IDIgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5SZW1vdmVkICovIDogXCJDVVJSRU5UXCIgPT09IGUgPyAzIC8qIFdhdGNoVGFyZ2V0Q2hhbmdlU3RhdGUuQ3VycmVudCAqLyA6IFwiUkVTRVRcIiA9PT0gZSA/IDQgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5SZXNldCAqLyA6IGZhaWwoKTtcbiAgICAgICAgfSh0LnRhcmdldENoYW5nZS50YXJnZXRDaGFuZ2VUeXBlIHx8IFwiTk9fQ0hBTkdFXCIpLCBpID0gdC50YXJnZXRDaGFuZ2UudGFyZ2V0SWRzIHx8IFtdLCBzID0gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21CeXRlcyhlLCB0KSB7XG4gICAgICAgICAgICByZXR1cm4gZS51c2VQcm90bzNKc29uID8gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHZvaWQgMCA9PT0gdCB8fCBcInN0cmluZ1wiID09IHR5cGVvZiB0KSwgXG4gICAgICAgICAgICBCeXRlU3RyaW5nLmZyb21CYXNlNjRTdHJpbmcodCB8fCBcIlwiKSkgOiAoX19QUklWQVRFX2hhcmRBc3NlcnQodm9pZCAwID09PSB0IHx8IFxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIHZhbHVlIGlzIGFuIGluc3RhbmNlIG9mIGJvdGggQnVmZmVyIGFuZCBVaW50OEFycmF5LFxuICAgICAgICAgICAgLy8gZGVzcGl0ZSB0aGUgZmFjdCB0aGF0IEJ1ZmZlciBleHRlbmRzIFVpbnQ4QXJyYXkuIEluIHNvbWVcbiAgICAgICAgICAgIC8vIGVudmlyb25tZW50cywgc3VjaCBhcyBqc2RvbSwgdGhlIHByb3RvdHlwZSBjaGFpbiBvZiBCdWZmZXJcbiAgICAgICAgICAgIC8vIGRvZXMgbm90IGluZGljYXRlIHRoYXQgaXQgZXh0ZW5kcyBVaW50OEFycmF5LlxuICAgICAgICAgICAgdCBpbnN0YW5jZW9mIEJ1ZmZlciB8fCB0IGluc3RhbmNlb2YgVWludDhBcnJheSksIEJ5dGVTdHJpbmcuZnJvbVVpbnQ4QXJyYXkodCB8fCBuZXcgVWludDhBcnJheSkpO1xuICAgICAgICB9KGUsIHQudGFyZ2V0Q2hhbmdlLnJlc3VtZVRva2VuKSwgbyA9IHQudGFyZ2V0Q2hhbmdlLmNhdXNlLCBfID0gbyAmJiBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVJwY1N0YXR1cyhlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gdm9pZCAwID09PSBlLmNvZGUgPyBDLlVOS05PV04gOiBfX1BSSVZBVEVfbWFwQ29kZUZyb21ScGNDb2RlKGUuY29kZSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZpcmVzdG9yZUVycm9yKHQsIGUubWVzc2FnZSB8fCBcIlwiKTtcbiAgICAgICAgfShvKTtcbiAgICAgICAgbiA9IG5ldyBfX1BSSVZBVEVfV2F0Y2hUYXJnZXRDaGFuZ2UociwgaSwgcywgXyB8fCBudWxsKTtcbiAgICB9IGVsc2UgaWYgKFwiZG9jdW1lbnRDaGFuZ2VcIiBpbiB0KSB7XG4gICAgICAgIHQuZG9jdW1lbnRDaGFuZ2U7XG4gICAgICAgIGNvbnN0IHIgPSB0LmRvY3VtZW50Q2hhbmdlO1xuICAgICAgICByLmRvY3VtZW50LCByLmRvY3VtZW50Lm5hbWUsIHIuZG9jdW1lbnQudXBkYXRlVGltZTtcbiAgICAgICAgY29uc3QgaSA9IGZyb21OYW1lKGUsIHIuZG9jdW1lbnQubmFtZSksIHMgPSBfX1BSSVZBVEVfZnJvbVZlcnNpb24oci5kb2N1bWVudC51cGRhdGVUaW1lKSwgbyA9IHIuZG9jdW1lbnQuY3JlYXRlVGltZSA/IF9fUFJJVkFURV9mcm9tVmVyc2lvbihyLmRvY3VtZW50LmNyZWF0ZVRpbWUpIDogU25hcHNob3RWZXJzaW9uLm1pbigpLCBfID0gbmV3IE9iamVjdFZhbHVlKHtcbiAgICAgICAgICAgIG1hcFZhbHVlOiB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiByLmRvY3VtZW50LmZpZWxkc1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSwgYSA9IE11dGFibGVEb2N1bWVudC5uZXdGb3VuZERvY3VtZW50KGksIHMsIG8sIF8pLCB1ID0gci50YXJnZXRJZHMgfHwgW10sIGMgPSByLnJlbW92ZWRUYXJnZXRJZHMgfHwgW107XG4gICAgICAgIG4gPSBuZXcgX19QUklWQVRFX0RvY3VtZW50V2F0Y2hDaGFuZ2UodSwgYywgYS5rZXksIGEpO1xuICAgIH0gZWxzZSBpZiAoXCJkb2N1bWVudERlbGV0ZVwiIGluIHQpIHtcbiAgICAgICAgdC5kb2N1bWVudERlbGV0ZTtcbiAgICAgICAgY29uc3QgciA9IHQuZG9jdW1lbnREZWxldGU7XG4gICAgICAgIHIuZG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IGkgPSBmcm9tTmFtZShlLCByLmRvY3VtZW50KSwgcyA9IHIucmVhZFRpbWUgPyBfX1BSSVZBVEVfZnJvbVZlcnNpb24oci5yZWFkVGltZSkgOiBTbmFwc2hvdFZlcnNpb24ubWluKCksIG8gPSBNdXRhYmxlRG9jdW1lbnQubmV3Tm9Eb2N1bWVudChpLCBzKSwgXyA9IHIucmVtb3ZlZFRhcmdldElkcyB8fCBbXTtcbiAgICAgICAgbiA9IG5ldyBfX1BSSVZBVEVfRG9jdW1lbnRXYXRjaENoYW5nZShbXSwgXywgby5rZXksIG8pO1xuICAgIH0gZWxzZSBpZiAoXCJkb2N1bWVudFJlbW92ZVwiIGluIHQpIHtcbiAgICAgICAgdC5kb2N1bWVudFJlbW92ZTtcbiAgICAgICAgY29uc3QgciA9IHQuZG9jdW1lbnRSZW1vdmU7XG4gICAgICAgIHIuZG9jdW1lbnQ7XG4gICAgICAgIGNvbnN0IGkgPSBmcm9tTmFtZShlLCByLmRvY3VtZW50KSwgcyA9IHIucmVtb3ZlZFRhcmdldElkcyB8fCBbXTtcbiAgICAgICAgbiA9IG5ldyBfX1BSSVZBVEVfRG9jdW1lbnRXYXRjaENoYW5nZShbXSwgcywgaSwgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCEoXCJmaWx0ZXJcIiBpbiB0KSkgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAge1xuICAgICAgICAgICAgdC5maWx0ZXI7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5maWx0ZXI7XG4gICAgICAgICAgICBlLnRhcmdldElkO1xuICAgICAgICAgICAgY29uc3Qge2NvdW50OiByID0gMCwgdW5jaGFuZ2VkTmFtZXM6IGl9ID0gZSwgcyA9IG5ldyBFeGlzdGVuY2VGaWx0ZXIociwgaSksIG8gPSBlLnRhcmdldElkO1xuICAgICAgICAgICAgbiA9IG5ldyBfX1BSSVZBVEVfRXhpc3RlbmNlRmlsdGVyQ2hhbmdlKG8sIHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuO1xufVxuXG5mdW5jdGlvbiB0b011dGF0aW9uKGUsIHQpIHtcbiAgICBsZXQgbjtcbiAgICBpZiAodCBpbnN0YW5jZW9mIF9fUFJJVkFURV9TZXRNdXRhdGlvbikgbiA9IHtcbiAgICAgICAgdXBkYXRlOiBfX1BSSVZBVEVfdG9NdXRhdGlvbkRvY3VtZW50KGUsIHQua2V5LCB0LnZhbHVlKVxuICAgIH07IGVsc2UgaWYgKHQgaW5zdGFuY2VvZiBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24pIG4gPSB7XG4gICAgICAgIGRlbGV0ZTogX19QUklWQVRFX3RvTmFtZShlLCB0LmtleSlcbiAgICB9OyBlbHNlIGlmICh0IGluc3RhbmNlb2YgX19QUklWQVRFX1BhdGNoTXV0YXRpb24pIG4gPSB7XG4gICAgICAgIHVwZGF0ZTogX19QUklWQVRFX3RvTXV0YXRpb25Eb2N1bWVudChlLCB0LmtleSwgdC5kYXRhKSxcbiAgICAgICAgdXBkYXRlTWFzazogX19QUklWQVRFX3RvRG9jdW1lbnRNYXNrKHQuZmllbGRNYXNrKVxuICAgIH07IGVsc2Uge1xuICAgICAgICBpZiAoISh0IGluc3RhbmNlb2YgX19QUklWQVRFX1ZlcmlmeU11dGF0aW9uKSkgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgbiA9IHtcbiAgICAgICAgICAgIHZlcmlmeTogX19QUklWQVRFX3RvTmFtZShlLCB0LmtleSlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHQuZmllbGRUcmFuc2Zvcm1zLmxlbmd0aCA+IDAgJiYgKG4udXBkYXRlVHJhbnNmb3JtcyA9IHQuZmllbGRUcmFuc2Zvcm1zLm1hcCgoZSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfdG9GaWVsZFRyYW5zZm9ybShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LnRyYW5zZm9ybTtcbiAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBfX1BSSVZBVEVfU2VydmVyVGltZXN0YW1wVHJhbnNmb3JtKSByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRQYXRoOiB0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLFxuICAgICAgICAgICAgc2V0VG9TZXJ2ZXJWYWx1ZTogXCJSRVFVRVNUX1RJTUVcIlxuICAgICAgICB9O1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uKSByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRQYXRoOiB0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLFxuICAgICAgICAgICAgYXBwZW5kTWlzc2luZ0VsZW1lbnRzOiB7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBuLmVsZW1lbnRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChuIGluc3RhbmNlb2YgX19QUklWQVRFX0FycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uKSByZXR1cm4ge1xuICAgICAgICAgICAgZmllbGRQYXRoOiB0LmZpZWxkLmNhbm9uaWNhbFN0cmluZygpLFxuICAgICAgICAgICAgcmVtb3ZlQWxsRnJvbUFycmF5OiB7XG4gICAgICAgICAgICAgICAgdmFsdWVzOiBuLmVsZW1lbnRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGlmIChuIGluc3RhbmNlb2YgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRUcmFuc2Zvcm1PcGVyYXRpb24pIHJldHVybiB7XG4gICAgICAgICAgICBmaWVsZFBhdGg6IHQuZmllbGQuY2Fub25pY2FsU3RyaW5nKCksXG4gICAgICAgICAgICBpbmNyZW1lbnQ6IG4uUGVcbiAgICAgICAgfTtcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH0oMCwgZSkpKSksIHQucHJlY29uZGl0aW9uLmlzTm9uZSB8fCAobi5jdXJyZW50RG9jdW1lbnQgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdG9QcmVjb25kaXRpb24oZSwgdCkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSB0LnVwZGF0ZVRpbWUgPyB7XG4gICAgICAgICAgICB1cGRhdGVUaW1lOiBfX1BSSVZBVEVfdG9WZXJzaW9uKGUsIHQudXBkYXRlVGltZSlcbiAgICAgICAgfSA6IHZvaWQgMCAhPT0gdC5leGlzdHMgPyB7XG4gICAgICAgICAgICBleGlzdHM6IHQuZXhpc3RzXG4gICAgICAgIH0gOiBmYWlsKCk7XG4gICAgfShlLCB0LnByZWNvbmRpdGlvbikpLCBuO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbU11dGF0aW9uKGUsIHQpIHtcbiAgICBjb25zdCBuID0gdC5jdXJyZW50RG9jdW1lbnQgPyBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVByZWNvbmRpdGlvbihlKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IGUudXBkYXRlVGltZSA/IFByZWNvbmRpdGlvbi51cGRhdGVUaW1lKF9fUFJJVkFURV9mcm9tVmVyc2lvbihlLnVwZGF0ZVRpbWUpKSA6IHZvaWQgMCAhPT0gZS5leGlzdHMgPyBQcmVjb25kaXRpb24uZXhpc3RzKGUuZXhpc3RzKSA6IFByZWNvbmRpdGlvbi5ub25lKCk7XG4gICAgfSh0LmN1cnJlbnREb2N1bWVudCkgOiBQcmVjb25kaXRpb24ubm9uZSgpLCByID0gdC51cGRhdGVUcmFuc2Zvcm1zID8gdC51cGRhdGVUcmFuc2Zvcm1zLm1hcCgodCA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUZpZWxkVHJhbnNmb3JtKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBudWxsO1xuICAgICAgICBpZiAoXCJzZXRUb1NlcnZlclZhbHVlXCIgaW4gdCkgX19QUklWQVRFX2hhcmRBc3NlcnQoXCJSRVFVRVNUX1RJTUVcIiA9PT0gdC5zZXRUb1NlcnZlclZhbHVlKSwgXG4gICAgICAgIG4gPSBuZXcgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcFRyYW5zZm9ybTsgZWxzZSBpZiAoXCJhcHBlbmRNaXNzaW5nRWxlbWVudHNcIiBpbiB0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5hcHBlbmRNaXNzaW5nRWxlbWVudHMudmFsdWVzIHx8IFtdO1xuICAgICAgICAgICAgbiA9IG5ldyBfX1BSSVZBVEVfQXJyYXlVbmlvblRyYW5zZm9ybU9wZXJhdGlvbihlKTtcbiAgICAgICAgfSBlbHNlIGlmIChcInJlbW92ZUFsbEZyb21BcnJheVwiIGluIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LnJlbW92ZUFsbEZyb21BcnJheS52YWx1ZXMgfHwgW107XG4gICAgICAgICAgICBuID0gbmV3IF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbihlKTtcbiAgICAgICAgfSBlbHNlIFwiaW5jcmVtZW50XCIgaW4gdCA/IG4gPSBuZXcgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRUcmFuc2Zvcm1PcGVyYXRpb24oZSwgdC5pbmNyZW1lbnQpIDogZmFpbCgpO1xuICAgICAgICBjb25zdCByID0gRmllbGRQYXRoJDEuZnJvbVNlcnZlckZvcm1hdCh0LmZpZWxkUGF0aCk7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRUcmFuc2Zvcm0ociwgbik7XG4gICAgfShlLCB0KSkpIDogW107XG4gICAgaWYgKHQudXBkYXRlKSB7XG4gICAgICAgIHQudXBkYXRlLm5hbWU7XG4gICAgICAgIGNvbnN0IGkgPSBmcm9tTmFtZShlLCB0LnVwZGF0ZS5uYW1lKSwgcyA9IG5ldyBPYmplY3RWYWx1ZSh7XG4gICAgICAgICAgICBtYXBWYWx1ZToge1xuICAgICAgICAgICAgICAgIGZpZWxkczogdC51cGRhdGUuZmllbGRzXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAodC51cGRhdGVNYXNrKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Eb2N1bWVudE1hc2soZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlLmZpZWxkUGF0aHMgfHwgW107XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBGaWVsZE1hc2sodC5tYXAoKGUgPT4gRmllbGRQYXRoJDEuZnJvbVNlcnZlckZvcm1hdChlKSkpKTtcbiAgICAgICAgICAgIH0odC51cGRhdGVNYXNrKTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1BhdGNoTXV0YXRpb24oaSwgcywgZSwgbiwgcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfU2V0TXV0YXRpb24oaSwgcywgbiwgcik7XG4gICAgfVxuICAgIGlmICh0LmRlbGV0ZSkge1xuICAgICAgICBjb25zdCByID0gZnJvbU5hbWUoZSwgdC5kZWxldGUpO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9EZWxldGVNdXRhdGlvbihyLCBuKTtcbiAgICB9XG4gICAgaWYgKHQudmVyaWZ5KSB7XG4gICAgICAgIGNvbnN0IHIgPSBmcm9tTmFtZShlLCB0LnZlcmlmeSk7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1ZlcmlmeU11dGF0aW9uKHIsIG4pO1xuICAgIH1cbiAgICByZXR1cm4gZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbVdyaXRlUmVzdWx0cyhlLCB0KSB7XG4gICAgcmV0dXJuIGUgJiYgZS5sZW5ndGggPiAwID8gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHZvaWQgMCAhPT0gdCksIGUubWFwKChlID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tV3JpdGVSZXN1bHQoZSwgdCkge1xuICAgICAgICAvLyBOT1RFOiBEZWxldGVzIGRvbid0IGhhdmUgYW4gdXBkYXRlVGltZS5cbiAgICAgICAgbGV0IG4gPSBlLnVwZGF0ZVRpbWUgPyBfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS51cGRhdGVUaW1lKSA6IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0KTtcbiAgICAgICAgcmV0dXJuIG4uaXNFcXVhbChTbmFwc2hvdFZlcnNpb24ubWluKCkpICYmIChcbiAgICAgICAgLy8gVGhlIEZpcmVzdG9yZSBFbXVsYXRvciBjdXJyZW50bHkgcmV0dXJucyBhbiB1cGRhdGUgdGltZSBvZiAwIGZvclxuICAgICAgICAvLyBkZWxldGVzIG9mIG5vbi1leGlzdGluZyBkb2N1bWVudHMgKHJhdGhlciB0aGFuIG51bGwpLiBUaGlzIGJyZWFrcyB0aGVcbiAgICAgICAgLy8gdGVzdCBcImdldCBkZWxldGVkIGRvYyB3aGlsZSBvZmZsaW5lIHdpdGggc291cmNlPWNhY2hlXCIgYXMgTm9Eb2N1bWVudHNcbiAgICAgICAgLy8gd2l0aCB2ZXJzaW9uIDAgYXJlIGZpbHRlcmVkIGJ5IEluZGV4ZWREYidzIFJlbW90ZURvY3VtZW50Q2FjaGUuXG4gICAgICAgIC8vIFRPRE8oIzIxNDkpOiBSZW1vdmUgdGhpcyB3aGVuIEVtdWxhdG9yIGlzIGZpeGVkXG4gICAgICAgIG4gPSBfX1BSSVZBVEVfZnJvbVZlcnNpb24odCkpLCBuZXcgTXV0YXRpb25SZXN1bHQobiwgZS50cmFuc2Zvcm1SZXN1bHRzIHx8IFtdKTtcbiAgICB9KGUsIHQpKSkpIDogW107XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0RvY3VtZW50c1RhcmdldChlLCB0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZG9jdW1lbnRzOiBbIF9fUFJJVkFURV90b1F1ZXJ5UGF0aChlLCB0LnBhdGgpIF1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9RdWVyeVRhcmdldChlLCB0KSB7XG4gICAgLy8gRGlzc2VjdCB0aGUgcGF0aCBpbnRvIHBhcmVudCwgY29sbGVjdGlvbklkLCBhbmQgb3B0aW9uYWwga2V5IGZpbHRlci5cbiAgICBjb25zdCBuID0ge1xuICAgICAgICBzdHJ1Y3R1cmVkUXVlcnk6IHt9XG4gICAgfSwgciA9IHQucGF0aDtcbiAgICBsZXQgaTtcbiAgICBudWxsICE9PSB0LmNvbGxlY3Rpb25Hcm91cCA/IChpID0gciwgbi5zdHJ1Y3R1cmVkUXVlcnkuZnJvbSA9IFsge1xuICAgICAgICBjb2xsZWN0aW9uSWQ6IHQuY29sbGVjdGlvbkdyb3VwLFxuICAgICAgICBhbGxEZXNjZW5kYW50czogITBcbiAgICB9IF0pIDogKGkgPSByLnBvcExhc3QoKSwgbi5zdHJ1Y3R1cmVkUXVlcnkuZnJvbSA9IFsge1xuICAgICAgICBjb2xsZWN0aW9uSWQ6IHIubGFzdFNlZ21lbnQoKVxuICAgIH0gXSksIG4ucGFyZW50ID0gX19QUklWQVRFX3RvUXVlcnlQYXRoKGUsIGkpO1xuICAgIGNvbnN0IHMgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdG9GaWx0ZXJzKGUpIHtcbiAgICAgICAgaWYgKDAgPT09IGUubGVuZ3RoKSByZXR1cm47XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdG9GaWx0ZXIoQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShlLCBcImFuZFwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLkFORCAqLykpO1xuICAgIH0odC5maWx0ZXJzKTtcbiAgICBzICYmIChuLnN0cnVjdHVyZWRRdWVyeS53aGVyZSA9IHMpO1xuICAgIGNvbnN0IG8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfdG9PcmRlcihlKSB7XG4gICAgICAgIGlmICgwID09PSBlLmxlbmd0aCkgcmV0dXJuO1xuICAgICAgICByZXR1cm4gZS5tYXAoKGUgPT4gXG4gICAgICAgIC8vIHZpc2libGUgZm9yIHRlc3RpbmdcbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3RvUHJvcGVydHlPcmRlcihlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGZpZWxkOiBfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiBfX1BSSVZBVEVfdG9EaXJlY3Rpb24oZS5kaXIpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KGUpKSk7XG4gICAgfSh0Lm9yZGVyQnkpO1xuICAgIG8gJiYgKG4uc3RydWN0dXJlZFF1ZXJ5Lm9yZGVyQnkgPSBvKTtcbiAgICBjb25zdCBfID0gX19QUklWQVRFX3RvSW50MzJQcm90byhlLCB0LmxpbWl0KTtcbiAgICByZXR1cm4gbnVsbCAhPT0gXyAmJiAobi5zdHJ1Y3R1cmVkUXVlcnkubGltaXQgPSBfKSwgdC5zdGFydEF0ICYmIChuLnN0cnVjdHVyZWRRdWVyeS5zdGFydEF0ID0gZnVuY3Rpb24gX19QUklWQVRFX3RvU3RhcnRBdEN1cnNvcihlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiZWZvcmU6IGUuaW5jbHVzaXZlLFxuICAgICAgICAgICAgdmFsdWVzOiBlLnBvc2l0aW9uXG4gICAgICAgIH07XG4gICAgfSh0LnN0YXJ0QXQpKSwgdC5lbmRBdCAmJiAobi5zdHJ1Y3R1cmVkUXVlcnkuZW5kQXQgPSBmdW5jdGlvbiBfX1BSSVZBVEVfdG9FbmRBdEN1cnNvcihlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBiZWZvcmU6ICFlLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIHZhbHVlczogZS5wb3NpdGlvblxuICAgICAgICB9O1xuICAgIH0odC5lbmRBdCkpLCB7XG4gICAgICAgIF90OiBuLFxuICAgICAgICBwYXJlbnQ6IGlcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9SdW5BZ2dyZWdhdGlvblF1ZXJ5UmVxdWVzdChlLCB0LCBuLCByKSB7XG4gICAgY29uc3Qge190OiBpLCBwYXJlbnQ6IHN9ID0gX19QUklWQVRFX3RvUXVlcnlUYXJnZXQoZSwgdCksIG8gPSB7fSwgXyA9IFtdO1xuICAgIGxldCBhID0gMDtcbiAgICByZXR1cm4gbi5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgLy8gTWFwIGFsbCBjbGllbnQtc2lkZSBhbGlhc2VzIHRvIGEgdW5pcXVlIHNob3J0LWZvcm1cbiAgICAgICAgLy8gYWxpYXMuIFRoaXMgYXZvaWRzIGlzc3VlcyB3aXRoIGNsaWVudC1zaWRlIGFsaWFzZXMgdGhhdFxuICAgICAgICAvLyBleGNlZWQgdGhlIDE1MDAtYnl0ZSBzdHJpbmcgc2l6ZSBsaW1pdC5cbiAgICAgICAgY29uc3QgdCA9IHIgPyBlLmFsaWFzIDogXCJhZ2dyZWdhdGVfXCIgKyBhKys7XG4gICAgICAgIG9bdF0gPSBlLmFsaWFzLCBcImNvdW50XCIgPT09IGUuYWdncmVnYXRlVHlwZSA/IF8ucHVzaCh7XG4gICAgICAgICAgICBhbGlhczogdCxcbiAgICAgICAgICAgIGNvdW50OiB7fVxuICAgICAgICB9KSA6IFwiYXZnXCIgPT09IGUuYWdncmVnYXRlVHlwZSA/IF8ucHVzaCh7XG4gICAgICAgICAgICBhbGlhczogdCxcbiAgICAgICAgICAgIGF2Zzoge1xuICAgICAgICAgICAgICAgIGZpZWxkOiBfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZFBhdGgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pIDogXCJzdW1cIiA9PT0gZS5hZ2dyZWdhdGVUeXBlICYmIF8ucHVzaCh7XG4gICAgICAgICAgICBhbGlhczogdCxcbiAgICAgICAgICAgIHN1bToge1xuICAgICAgICAgICAgICAgIGZpZWxkOiBfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZFBhdGgpXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pKSwge1xuICAgICAgICByZXF1ZXN0OiB7XG4gICAgICAgICAgICBzdHJ1Y3R1cmVkQWdncmVnYXRpb25RdWVyeToge1xuICAgICAgICAgICAgICAgIGFnZ3JlZ2F0aW9uczogXyxcbiAgICAgICAgICAgICAgICBzdHJ1Y3R1cmVkUXVlcnk6IGkuc3RydWN0dXJlZFF1ZXJ5XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyZW50OiBpLnBhcmVudFxuICAgICAgICB9LFxuICAgICAgICB1dDogbyxcbiAgICAgICAgcGFyZW50OiBzXG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvbnZlcnRRdWVyeVRhcmdldFRvUXVlcnkoZSkge1xuICAgIGxldCB0ID0gX19QUklWQVRFX2Zyb21RdWVyeVBhdGgoZS5wYXJlbnQpO1xuICAgIGNvbnN0IG4gPSBlLnN0cnVjdHVyZWRRdWVyeSwgciA9IG4uZnJvbSA/IG4uZnJvbS5sZW5ndGggOiAwO1xuICAgIGxldCBpID0gbnVsbDtcbiAgICBpZiAociA+IDApIHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoMSA9PT0gcik7XG4gICAgICAgIGNvbnN0IGUgPSBuLmZyb21bMF07XG4gICAgICAgIGUuYWxsRGVzY2VuZGFudHMgPyBpID0gZS5jb2xsZWN0aW9uSWQgOiB0ID0gdC5jaGlsZChlLmNvbGxlY3Rpb25JZCk7XG4gICAgfVxuICAgIGxldCBzID0gW107XG4gICAgbi53aGVyZSAmJiAocyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRmlsdGVycyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZnJvbUZpbHRlcihlKTtcbiAgICAgICAgaWYgKHQgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIgJiYgX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRmxhdENvbmp1bmN0aW9uKHQpKSByZXR1cm4gdC5nZXRGaWx0ZXJzKCk7XG4gICAgICAgIHJldHVybiBbIHQgXTtcbiAgICB9KG4ud2hlcmUpKTtcbiAgICBsZXQgbyA9IFtdO1xuICAgIG4ub3JkZXJCeSAmJiAobyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tT3JkZXIoZSkge1xuICAgICAgICByZXR1cm4gZS5tYXAoKGUgPT4gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Qcm9wZXJ0eU9yZGVyKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgT3JkZXJCeShfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlLmZpZWxkKSwgXG4gICAgICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURpcmVjdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwiQVNDRU5ESU5HXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImFzY1wiIC8qIERpcmVjdGlvbi5BU0NFTkRJTkcgKi87XG5cbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJERVNDRU5ESU5HXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcImRlc2NcIiAvKiBEaXJlY3Rpb24uREVTQ0VORElORyAqLztcblxuICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHZpc2libGUgZm9yIHRlc3RpbmdcbiAgICAgICAgICAgIChlLmRpcmVjdGlvbikpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHZpc2libGUgZm9yIHRlc3RpbmdcbiAgICAgICAgKGUpKSk7XG4gICAgfShuLm9yZGVyQnkpKTtcbiAgICBsZXQgXyA9IG51bGw7XG4gICAgbi5saW1pdCAmJiAoXyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tSW50MzJQcm90byhlKSB7XG4gICAgICAgIGxldCB0O1xuICAgICAgICByZXR1cm4gdCA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIGUgPyBlLnZhbHVlIDogZSwgX19QUklWQVRFX2lzTnVsbE9yVW5kZWZpbmVkKHQpID8gbnVsbCA6IHQ7XG4gICAgfShuLmxpbWl0KSk7XG4gICAgbGV0IGEgPSBudWxsO1xuICAgIG4uc3RhcnRBdCAmJiAoYSA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tU3RhcnRBdEN1cnNvcihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSAhIWUuYmVmb3JlLCBuID0gZS52YWx1ZXMgfHwgW107XG4gICAgICAgIHJldHVybiBuZXcgQm91bmQobiwgdCk7XG4gICAgfShuLnN0YXJ0QXQpKTtcbiAgICBsZXQgdSA9IG51bGw7XG4gICAgcmV0dXJuIG4uZW5kQXQgJiYgKHUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbUVuZEF0Q3Vyc29yKGUpIHtcbiAgICAgICAgY29uc3QgdCA9ICFlLmJlZm9yZSwgbiA9IGUudmFsdWVzIHx8IFtdO1xuICAgICAgICByZXR1cm4gbmV3IEJvdW5kKG4sIHQpO1xuICAgIH1cbiAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgKG4uZW5kQXQpKSwgX19QUklWQVRFX25ld1F1ZXJ5KHQsIGksIG8sIHMsIF8sIFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyAsIGEsIHUpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9MaXN0ZW5SZXF1ZXN0TGFiZWxzKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZnVuY3Rpb24gX19QUklWQVRFX3RvTGFiZWwoZSkge1xuICAgICAgICBzd2l0Y2ggKGUpIHtcbiAgICAgICAgICBjYXNlIFwiVGFyZ2V0UHVycG9zZUxpc3RlblwiIC8qIFRhcmdldFB1cnBvc2UuTGlzdGVuICovIDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgY2FzZSBcIlRhcmdldFB1cnBvc2VFeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaFwiIC8qIFRhcmdldFB1cnBvc2UuRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2ggKi8gOlxuICAgICAgICAgICAgcmV0dXJuIFwiZXhpc3RlbmNlLWZpbHRlci1taXNtYXRjaFwiO1xuXG4gICAgICAgICAgY2FzZSBcIlRhcmdldFB1cnBvc2VFeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaEJsb29tXCIgLyogVGFyZ2V0UHVycG9zZS5FeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaEJsb29tICovIDpcbiAgICAgICAgICAgIHJldHVybiBcImV4aXN0ZW5jZS1maWx0ZXItbWlzbWF0Y2gtYmxvb21cIjtcblxuICAgICAgICAgIGNhc2UgXCJUYXJnZXRQdXJwb3NlTGltYm9SZXNvbHV0aW9uXCIgLyogVGFyZ2V0UHVycG9zZS5MaW1ib1Jlc29sdXRpb24gKi8gOlxuICAgICAgICAgICAgcmV0dXJuIFwibGltYm8tZG9jdW1lbnRcIjtcblxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgICAgICB9XG4gICAgfSh0LnB1cnBvc2UpO1xuICAgIHJldHVybiBudWxsID09IG4gPyBudWxsIDoge1xuICAgICAgICBcImdvb2ctbGlzdGVuLXRhZ3NcIjogblxuICAgIH07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRmlsdGVyKGUpIHtcbiAgICByZXR1cm4gdm9pZCAwICE9PSBlLnVuYXJ5RmlsdGVyID8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21VbmFyeUZpbHRlcihlKSB7XG4gICAgICAgIHN3aXRjaCAoZS51bmFyeUZpbHRlci5vcCkge1xuICAgICAgICAgIGNhc2UgXCJJU19OQU5cIjpcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlLnVuYXJ5RmlsdGVyLmZpZWxkKTtcbiAgICAgICAgICAgIHJldHVybiBGaWVsZEZpbHRlci5jcmVhdGUodCwgXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovICwge1xuICAgICAgICAgICAgICAgIGRvdWJsZVZhbHVlOiBOYU5cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FzZSBcIklTX05VTExcIjpcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlLnVuYXJ5RmlsdGVyLmZpZWxkKTtcbiAgICAgICAgICAgIHJldHVybiBGaWVsZEZpbHRlci5jcmVhdGUobiwgXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovICwge1xuICAgICAgICAgICAgICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgY2FzZSBcIklTX05PVF9OQU5cIjpcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZnJvbUZpZWxkUGF0aFJlZmVyZW5jZShlLnVuYXJ5RmlsdGVyLmZpZWxkKTtcbiAgICAgICAgICAgIHJldHVybiBGaWVsZEZpbHRlci5jcmVhdGUociwgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyAsIHtcbiAgICAgICAgICAgICAgICBkb3VibGVWYWx1ZTogTmFOXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgIGNhc2UgXCJJU19OT1RfTlVMTFwiOlxuICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9mcm9tRmllbGRQYXRoUmVmZXJlbmNlKGUudW5hcnlGaWx0ZXIuZmllbGQpO1xuICAgICAgICAgICAgcmV0dXJuIEZpZWxkRmlsdGVyLmNyZWF0ZShpLCBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovICwge1xuICAgICAgICAgICAgICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgICAgIH1cbiAgICB9KGUpIDogdm9pZCAwICE9PSBlLmZpZWxkRmlsdGVyID8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21GaWVsZEZpbHRlcihlKSB7XG4gICAgICAgIHJldHVybiBGaWVsZEZpbHRlci5jcmVhdGUoX19QUklWQVRFX2Zyb21GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZEZpbHRlci5maWVsZCksIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tT3BlcmF0b3JOYW1lKGUpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgICAgICBjYXNlIFwiRVFVQUxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCI9PVwiIC8qIE9wZXJhdG9yLkVRVUFMICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJOT1RfRVFVQUxcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiR1JFQVRFUl9USEFOXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPlwiIC8qIE9wZXJhdG9yLkdSRUFURVJfVEhBTiAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiR1JFQVRFUl9USEFOX09SX0VRVUFMXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiPj1cIiAvKiBPcGVyYXRvci5HUkVBVEVSX1RIQU5fT1JfRVFVQUwgKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkxFU1NfVEhBTlwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIjxcIiAvKiBPcGVyYXRvci5MRVNTX1RIQU4gKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIkxFU1NfVEhBTl9PUl9FUVVBTFwiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcIjw9XCIgLyogT3BlcmF0b3IuTEVTU19USEFOX09SX0VRVUFMICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJBUlJBWV9DT05UQUlOU1wiOlxuICAgICAgICAgICAgICAgIHJldHVybiBcImFycmF5LWNvbnRhaW5zXCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlMgKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIklOXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLztcblxuICAgICAgICAgICAgICBjYXNlIFwiTk9UX0lOXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovO1xuXG4gICAgICAgICAgICAgIGNhc2UgXCJBUlJBWV9DT05UQUlOU19BTllcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi87XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KGUuZmllbGRGaWx0ZXIub3ApLCBlLmZpZWxkRmlsdGVyLnZhbHVlKTtcbiAgICB9KGUpIDogdm9pZCAwICE9PSBlLmNvbXBvc2l0ZUZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tQ29tcG9zaXRlRmlsdGVyKGUpIHtcbiAgICAgICAgcmV0dXJuIENvbXBvc2l0ZUZpbHRlci5jcmVhdGUoZS5jb21wb3NpdGVGaWx0ZXIuZmlsdGVycy5tYXAoKGUgPT4gX19QUklWQVRFX2Zyb21GaWx0ZXIoZSkpKSwgZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Db21wb3NpdGVPcGVyYXRvck5hbWUoZSkge1xuICAgICAgICAgICAgc3dpdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJBTkRcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJhbmRcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5BTkQgKi87XG5cbiAgICAgICAgICAgICAgY2FzZSBcIk9SXCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwib3JcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5PUiAqLztcblxuICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWlsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0oZS5jb21wb3NpdGVGaWx0ZXIub3ApKTtcbiAgICB9KGUpIDogZmFpbCgpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9EaXJlY3Rpb24oZSkge1xuICAgIHJldHVybiBJZVtlXTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvT3BlcmF0b3JOYW1lKGUpIHtcbiAgICByZXR1cm4gVGVbZV07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0NvbXBvc2l0ZU9wZXJhdG9yTmFtZShlKSB7XG4gICAgcmV0dXJuIEVlW2VdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UoZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGZpZWxkUGF0aDogZS5jYW5vbmljYWxTdHJpbmcoKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRmllbGRQYXRoUmVmZXJlbmNlKGUpIHtcbiAgICByZXR1cm4gRmllbGRQYXRoJDEuZnJvbVNlcnZlckZvcm1hdChlLmZpZWxkUGF0aCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0ZpbHRlcihlKSB7XG4gICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV90b1VuYXJ5T3JGaWVsZEZpbHRlcihlKSB7XG4gICAgICAgIGlmIChcIj09XCIgLyogT3BlcmF0b3IuRVFVQUwgKi8gPT09IGUub3ApIHtcbiAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfaXNOYW5WYWx1ZShlLnZhbHVlKSkgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1bmFyeUZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBmaWVsZDogX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlKGUuZmllbGQpLFxuICAgICAgICAgICAgICAgICAgICBvcDogXCJJU19OQU5cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoX19QUklWQVRFX2lzTnVsbFZhbHVlKGUudmFsdWUpKSByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVuYXJ5RmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksXG4gICAgICAgICAgICAgICAgICAgIG9wOiBcIklTX05VTExcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSBpZiAoXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyA9PT0gZS5vcCkge1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9pc05hblZhbHVlKGUudmFsdWUpKSByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVuYXJ5RmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksXG4gICAgICAgICAgICAgICAgICAgIG9wOiBcIklTX05PVF9OQU5cIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoX19QUklWQVRFX2lzTnVsbFZhbHVlKGUudmFsdWUpKSByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVuYXJ5RmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksXG4gICAgICAgICAgICAgICAgICAgIG9wOiBcIklTX05PVF9OVUxMXCJcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWVsZEZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGZpZWxkOiBfX1BSSVZBVEVfdG9GaWVsZFBhdGhSZWZlcmVuY2UoZS5maWVsZCksXG4gICAgICAgICAgICAgICAgb3A6IF9fUFJJVkFURV90b09wZXJhdG9yTmFtZShlLm9wKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogZS52YWx1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0oZSkgOiBlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyID8gZnVuY3Rpb24gX19QUklWQVRFX3RvQ29tcG9zaXRlRmlsdGVyKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuZ2V0RmlsdGVycygpLm1hcCgoZSA9PiBfX1BSSVZBVEVfdG9GaWx0ZXIoZSkpKTtcbiAgICAgICAgaWYgKDEgPT09IHQubGVuZ3RoKSByZXR1cm4gdFswXTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNvbXBvc2l0ZUZpbHRlcjoge1xuICAgICAgICAgICAgICAgIG9wOiBfX1BSSVZBVEVfdG9Db21wb3NpdGVPcGVyYXRvck5hbWUoZS5vcCksXG4gICAgICAgICAgICAgICAgZmlsdGVyczogdFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0oZSkgOiBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0RvY3VtZW50TWFzayhlKSB7XG4gICAgY29uc3QgdCA9IFtdO1xuICAgIHJldHVybiBlLmZpZWxkcy5mb3JFYWNoKChlID0+IHQucHVzaChlLmNhbm9uaWNhbFN0cmluZygpKSkpLCB7XG4gICAgICAgIGZpZWxkUGF0aHM6IHRcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfaXNWYWxpZFJlc291cmNlTmFtZShlKSB7XG4gICAgLy8gUmVzb3VyY2UgbmFtZXMgaGF2ZSBhdCBsZWFzdCA0IGNvbXBvbmVudHMgKHByb2plY3QgSUQsIGRhdGFiYXNlIElEKVxuICAgIHJldHVybiBlLmxlbmd0aCA+PSA0ICYmIFwicHJvamVjdHNcIiA9PT0gZS5nZXQoMCkgJiYgXCJkYXRhYmFzZXNcIiA9PT0gZS5nZXQoMik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGltbXV0YWJsZSBzZXQgb2YgbWV0YWRhdGEgdGhhdCB0aGUgbG9jYWwgc3RvcmUgdHJhY2tzIGZvciBlYWNoIHRhcmdldC5cbiAqLyBjbGFzcyBUYXJnZXREYXRhIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIHRhcmdldCBiZWluZyBsaXN0ZW5lZCB0by4gKi9cbiAgICBlLCBcbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IElEIHRvIHdoaWNoIHRoZSB0YXJnZXQgY29ycmVzcG9uZHM7IEFzc2lnbmVkIGJ5IHRoZVxuICAgICAqIExvY2FsU3RvcmUgZm9yIHVzZXIgbGlzdGVucyBhbmQgYnkgdGhlIFN5bmNFbmdpbmUgZm9yIGxpbWJvIHdhdGNoZXMuXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqIFRoZSBwdXJwb3NlIG9mIHRoZSB0YXJnZXQuICovXG4gICAgbiwgXG4gICAgLyoqXG4gICAgICogVGhlIHNlcXVlbmNlIG51bWJlciBvZiB0aGUgbGFzdCB0cmFuc2FjdGlvbiBkdXJpbmcgd2hpY2ggdGhpcyB0YXJnZXQgZGF0YVxuICAgICAqIHdhcyBtb2RpZmllZC5cbiAgICAgKi9cbiAgICByLCBcbiAgICAvKiogVGhlIGxhdGVzdCBzbmFwc2hvdCB2ZXJzaW9uIHNlZW4gZm9yIHRoaXMgdGFyZ2V0LiAqL1xuICAgIGkgPSBTbmFwc2hvdFZlcnNpb24ubWluKClcbiAgICAvKipcbiAgICAgKiBUaGUgbWF4aW11bSBzbmFwc2hvdCB2ZXJzaW9uIGF0IHdoaWNoIHRoZSBhc3NvY2lhdGVkIHZpZXdcbiAgICAgKiBjb250YWluZWQgbm8gbGltYm8gZG9jdW1lbnRzLlxuICAgICAqLyAsIHMgPSBTbmFwc2hvdFZlcnNpb24ubWluKClcbiAgICAvKipcbiAgICAgKiBBbiBvcGFxdWUsIHNlcnZlci1hc3NpZ25lZCB0b2tlbiB0aGF0IGFsbG93cyB3YXRjaGluZyBhIHRhcmdldCB0byBiZVxuICAgICAqIHJlc3VtZWQgYWZ0ZXIgZGlzY29ubmVjdGluZyB3aXRob3V0IHJldHJhbnNtaXR0aW5nIGFsbCB0aGUgZGF0YSB0aGF0XG4gICAgICogbWF0Y2hlcyB0aGUgdGFyZ2V0LiBUaGUgcmVzdW1lIHRva2VuIGVzc2VudGlhbGx5IGlkZW50aWZpZXMgYSBwb2ludCBpblxuICAgICAqIHRpbWUgZnJvbSB3aGljaCB0aGUgc2VydmVyIHNob3VsZCByZXN1bWUgc2VuZGluZyByZXN1bHRzLlxuICAgICAqLyAsIG8gPSBCeXRlU3RyaW5nLkVNUFRZX0JZVEVfU1RSSU5HXG4gICAgLyoqXG4gICAgICogVGhlIG51bWJlciBvZiBkb2N1bWVudHMgdGhhdCBsYXN0IG1hdGNoZWQgdGhlIHF1ZXJ5IGF0IHRoZSByZXN1bWUgdG9rZW4gb3JcbiAgICAgKiByZWFkIHRpbWUuIERvY3VtZW50cyBhcmUgY291bnRlZCBvbmx5IHdoZW4gbWFraW5nIGEgbGlzdGVuIHJlcXVlc3Qgd2l0aFxuICAgICAqIHJlc3VtZSB0b2tlbiBvciByZWFkIHRpbWUsIG90aGVyd2lzZSwga2VlcCBpdCBudWxsLlxuICAgICAqLyAsIF8gPSBudWxsKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gZSwgdGhpcy50YXJnZXRJZCA9IHQsIHRoaXMucHVycG9zZSA9IG4sIHRoaXMuc2VxdWVuY2VOdW1iZXIgPSByLCB0aGlzLnNuYXBzaG90VmVyc2lvbiA9IGksIFxuICAgICAgICB0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24gPSBzLCB0aGlzLnJlc3VtZVRva2VuID0gbywgdGhpcy5leHBlY3RlZENvdW50ID0gXztcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IGRhdGEgaW5zdGFuY2Ugd2l0aCBhbiB1cGRhdGVkIHNlcXVlbmNlIG51bWJlci4gKi8gICAgd2l0aFNlcXVlbmNlTnVtYmVyKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYXJnZXREYXRhKHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldElkLCB0aGlzLnB1cnBvc2UsIGUsIHRoaXMuc25hcHNob3RWZXJzaW9uLCB0aGlzLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sIHRoaXMucmVzdW1lVG9rZW4sIHRoaXMuZXhwZWN0ZWRDb3VudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IGRhdGEgaW5zdGFuY2Ugd2l0aCBhbiB1cGRhdGVkIHJlc3VtZSB0b2tlbiBhbmRcbiAgICAgKiBzbmFwc2hvdCB2ZXJzaW9uLlxuICAgICAqLyAgICB3aXRoUmVzdW1lVG9rZW4oZSwgdCkge1xuICAgICAgICByZXR1cm4gbmV3IFRhcmdldERhdGEodGhpcy50YXJnZXQsIHRoaXMudGFyZ2V0SWQsIHRoaXMucHVycG9zZSwgdGhpcy5zZXF1ZW5jZU51bWJlciwgdCwgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLCBlLCBcbiAgICAgICAgLyogZXhwZWN0ZWRDb3VudD0gKi8gbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdGFyZ2V0IGRhdGEgaW5zdGFuY2Ugd2l0aCBhbiB1cGRhdGVkIGV4cGVjdGVkIGNvdW50LlxuICAgICAqLyAgICB3aXRoRXhwZWN0ZWRDb3VudChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVGFyZ2V0RGF0YSh0aGlzLnRhcmdldCwgdGhpcy50YXJnZXRJZCwgdGhpcy5wdXJwb3NlLCB0aGlzLnNlcXVlbmNlTnVtYmVyLCB0aGlzLnNuYXBzaG90VmVyc2lvbiwgdGhpcy5sYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uLCB0aGlzLnJlc3VtZVRva2VuLCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyB0YXJnZXQgZGF0YSBpbnN0YW5jZSB3aXRoIGFuIHVwZGF0ZWQgbGFzdCBsaW1ibyBmcmVlXG4gICAgICogc25hcHNob3QgdmVyc2lvbiBudW1iZXIuXG4gICAgICovICAgIHdpdGhMYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBUYXJnZXREYXRhKHRoaXMudGFyZ2V0LCB0aGlzLnRhcmdldElkLCB0aGlzLnB1cnBvc2UsIHRoaXMuc2VxdWVuY2VOdW1iZXIsIHRoaXMuc25hcHNob3RWZXJzaW9uLCBlLCB0aGlzLnJlc3VtZVRva2VuLCB0aGlzLmV4cGVjdGVkQ291bnQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBTZXJpYWxpemVyIGZvciB2YWx1ZXMgc3RvcmVkIGluIHRoZSBMb2NhbFN0b3JlLiAqLyBjbGFzcyBfX1BSSVZBVEVfTG9jYWxTZXJpYWxpemVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuY3QgPSBlO1xuICAgIH1cbn1cblxuLyoqIERlY29kZXMgYSByZW1vdGUgZG9jdW1lbnQgZnJvbSBzdG9yYWdlIGxvY2FsbHkgdG8gYSBEb2N1bWVudC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYlJlbW90ZURvY3VtZW50KGUsIHQpIHtcbiAgICBsZXQgbjtcbiAgICBpZiAodC5kb2N1bWVudCkgbiA9IF9fUFJJVkFURV9mcm9tRG9jdW1lbnQoZS5jdCwgdC5kb2N1bWVudCwgISF0Lmhhc0NvbW1pdHRlZE11dGF0aW9ucyk7IGVsc2UgaWYgKHQubm9Eb2N1bWVudCkge1xuICAgICAgICBjb25zdCBlID0gRG9jdW1lbnRLZXkuZnJvbVNlZ21lbnRzKHQubm9Eb2N1bWVudC5wYXRoKSwgciA9IF9fUFJJVkFURV9mcm9tRGJUaW1lc3RhbXAodC5ub0RvY3VtZW50LnJlYWRUaW1lKTtcbiAgICAgICAgbiA9IE11dGFibGVEb2N1bWVudC5uZXdOb0RvY3VtZW50KGUsIHIpLCB0Lmhhc0NvbW1pdHRlZE11dGF0aW9ucyAmJiBuLnNldEhhc0NvbW1pdHRlZE11dGF0aW9ucygpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICghdC51bmtub3duRG9jdW1lbnQpIHJldHVybiBmYWlsKCk7XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBEb2N1bWVudEtleS5mcm9tU2VnbWVudHModC51bmtub3duRG9jdW1lbnQucGF0aCksIHIgPSBfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wKHQudW5rbm93bkRvY3VtZW50LnZlcnNpb24pO1xuICAgICAgICAgICAgbiA9IE11dGFibGVEb2N1bWVudC5uZXdVbmtub3duRG9jdW1lbnQoZSwgcik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHQucmVhZFRpbWUgJiYgbi5zZXRSZWFkVGltZShmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wS2V5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBUaW1lc3RhbXAoZVswXSwgZVsxXSk7XG4gICAgICAgIHJldHVybiBTbmFwc2hvdFZlcnNpb24uZnJvbVRpbWVzdGFtcCh0KTtcbiAgICB9KHQucmVhZFRpbWUpKSwgbjtcbn1cblxuLyoqIEVuY29kZXMgYSBkb2N1bWVudCBmb3Igc3RvcmFnZSBsb2NhbGx5LiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdG9EYlJlbW90ZURvY3VtZW50KGUsIHQpIHtcbiAgICBjb25zdCBuID0gdC5rZXksIHIgPSB7XG4gICAgICAgIHByZWZpeFBhdGg6IG4uZ2V0Q29sbGVjdGlvblBhdGgoKS5wb3BMYXN0KCkudG9BcnJheSgpLFxuICAgICAgICBjb2xsZWN0aW9uR3JvdXA6IG4uY29sbGVjdGlvbkdyb3VwLFxuICAgICAgICBkb2N1bWVudElkOiBuLnBhdGgubGFzdFNlZ21lbnQoKSxcbiAgICAgICAgcmVhZFRpbWU6IF9fUFJJVkFURV90b0RiVGltZXN0YW1wS2V5KHQucmVhZFRpbWUpLFxuICAgICAgICBoYXNDb21taXR0ZWRNdXRhdGlvbnM6IHQuaGFzQ29tbWl0dGVkTXV0YXRpb25zXG4gICAgfTtcbiAgICBpZiAodC5pc0ZvdW5kRG9jdW1lbnQoKSkgci5kb2N1bWVudCA9IGZ1bmN0aW9uIF9fUFJJVkFURV90b0RvY3VtZW50KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5hbWU6IF9fUFJJVkFURV90b05hbWUoZSwgdC5rZXkpLFxuICAgICAgICAgICAgZmllbGRzOiB0LmRhdGEudmFsdWUubWFwVmFsdWUuZmllbGRzLFxuICAgICAgICAgICAgdXBkYXRlVGltZTogdG9UaW1lc3RhbXAoZSwgdC52ZXJzaW9uLnRvVGltZXN0YW1wKCkpLFxuICAgICAgICAgICAgY3JlYXRlVGltZTogdG9UaW1lc3RhbXAoZSwgdC5jcmVhdGVUaW1lLnRvVGltZXN0YW1wKCkpXG4gICAgICAgIH07XG4gICAgfShlLmN0LCB0KTsgZWxzZSBpZiAodC5pc05vRG9jdW1lbnQoKSkgci5ub0RvY3VtZW50ID0ge1xuICAgICAgICBwYXRoOiBuLnBhdGgudG9BcnJheSgpLFxuICAgICAgICByZWFkVGltZTogX19QUklWQVRFX3RvRGJUaW1lc3RhbXAodC52ZXJzaW9uKVxuICAgIH07IGVsc2Uge1xuICAgICAgICBpZiAoIXQuaXNVbmtub3duRG9jdW1lbnQoKSkgcmV0dXJuIGZhaWwoKTtcbiAgICAgICAgci51bmtub3duRG9jdW1lbnQgPSB7XG4gICAgICAgICAgICBwYXRoOiBuLnBhdGgudG9BcnJheSgpLFxuICAgICAgICAgICAgdmVyc2lvbjogX19QUklWQVRFX3RvRGJUaW1lc3RhbXAodC52ZXJzaW9uKVxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcjtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RvRGJUaW1lc3RhbXBLZXkoZSkge1xuICAgIGNvbnN0IHQgPSBlLnRvVGltZXN0YW1wKCk7XG4gICAgcmV0dXJuIFsgdC5zZWNvbmRzLCB0Lm5hbm9zZWNvbmRzIF07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0RiVGltZXN0YW1wKGUpIHtcbiAgICBjb25zdCB0ID0gZS50b1RpbWVzdGFtcCgpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHNlY29uZHM6IHQuc2Vjb25kcyxcbiAgICAgICAgbmFub3NlY29uZHM6IHQubmFub3NlY29uZHNcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wKGUpIHtcbiAgICBjb25zdCB0ID0gbmV3IFRpbWVzdGFtcChlLnNlY29uZHMsIGUubmFub3NlY29uZHMpO1xuICAgIHJldHVybiBTbmFwc2hvdFZlcnNpb24uZnJvbVRpbWVzdGFtcCh0KTtcbn1cblxuLyoqIEVuY29kZXMgYSBiYXRjaCBvZiBtdXRhdGlvbnMgaW50byBhIERiTXV0YXRpb25CYXRjaCBmb3IgbG9jYWwgc3RvcmFnZS4gKi9cbi8qKiBEZWNvZGVzIGEgRGJNdXRhdGlvbkJhdGNoIGludG8gYSBNdXRhdGlvbkJhdGNoICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaChlLCB0KSB7XG4gICAgY29uc3QgbiA9ICh0LmJhc2VNdXRhdGlvbnMgfHwgW10pLm1hcCgodCA9PiBfX1BSSVZBVEVfZnJvbU11dGF0aW9uKGUuY3QsIHQpKSk7XG4gICAgLy8gU3F1YXNoIG9sZCB0cmFuc2Zvcm0gbXV0YXRpb25zIGludG8gZXhpc3RpbmcgcGF0Y2ggb3Igc2V0IG11dGF0aW9ucy5cbiAgICAvLyBUaGUgcmVwbGFjZW1lbnQgb2YgcmVwcmVzZW50aW5nIGB0cmFuc2Zvcm1zYCB3aXRoIGB1cGRhdGVfdHJhbnNmb3Jtc2BcbiAgICAvLyBvbiB0aGUgU0RLIG1lYW5zIHRoYXQgb2xkIGB0cmFuc2Zvcm1gIG11dGF0aW9ucyBzdG9yZWQgaW4gSW5kZXhlZERCIG5lZWRcbiAgICAvLyB0byBiZSB1cGRhdGVkIHRvIGB1cGRhdGVfdHJhbnNmb3Jtc2AuXG4gICAgLy8gVE9ETyhiLzE3NDYwODM3NCk6IFJlbW92ZSB0aGlzIGNvZGUgb25jZSB3ZSBwZXJmb3JtIGEgc2NoZW1hIG1pZ3JhdGlvbi5cbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IGUgPCB0Lm11dGF0aW9ucy5sZW5ndGggLSAxOyArK2UpIHtcbiAgICAgICAgY29uc3QgbiA9IHQubXV0YXRpb25zW2VdO1xuICAgICAgICBpZiAoZSArIDEgPCB0Lm11dGF0aW9ucy5sZW5ndGggJiYgdm9pZCAwICE9PSB0Lm11dGF0aW9uc1tlICsgMV0udHJhbnNmb3JtKSB7XG4gICAgICAgICAgICBjb25zdCByID0gdC5tdXRhdGlvbnNbZSArIDFdO1xuICAgICAgICAgICAgbi51cGRhdGVUcmFuc2Zvcm1zID0gci50cmFuc2Zvcm0uZmllbGRUcmFuc2Zvcm1zLCB0Lm11dGF0aW9ucy5zcGxpY2UoZSArIDEsIDEpLCBcbiAgICAgICAgICAgICsrZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByID0gdC5tdXRhdGlvbnMubWFwKCh0ID0+IF9fUFJJVkFURV9mcm9tTXV0YXRpb24oZS5jdCwgdCkpKSwgaSA9IFRpbWVzdGFtcC5mcm9tTWlsbGlzKHQubG9jYWxXcml0ZVRpbWVNcyk7XG4gICAgcmV0dXJuIG5ldyBNdXRhdGlvbkJhdGNoKHQuYmF0Y2hJZCwgaSwgbiwgcik7XG59XG5cbi8qKiBEZWNvZGVzIGEgRGJUYXJnZXQgaW50byBUYXJnZXREYXRhICovIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRGJUYXJnZXQoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wKGUucmVhZFRpbWUpLCBuID0gdm9pZCAwICE9PSBlLmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24gPyBfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wKGUubGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbikgOiBTbmFwc2hvdFZlcnNpb24ubWluKCk7XG4gICAgbGV0IHI7XG4gICAgcmV0dXJuIHIgPSBcbiAgICAvKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIGZvciBmaWd1cmluZyBvdXQgd2hhdCBraW5kIG9mIHF1ZXJ5IGhhcyBiZWVuIHN0b3JlZC5cbiAqL1xuICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9pc0RvY3VtZW50UXVlcnkoZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBlLmRvY3VtZW50cztcbiAgICB9XG4gICAgLyoqIEVuY29kZXMgYSBEYkJ1bmRsZSB0byBhIEJ1bmRsZU1ldGFkYXRhIG9iamVjdC4gKi8gKGUucXVlcnkpID8gZnVuY3Rpb24gX19QUklWQVRFX2Zyb21Eb2N1bWVudHNUYXJnZXQoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQoMSA9PT0gZS5kb2N1bWVudHMubGVuZ3RoKSwgX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoX19QUklWQVRFX25ld1F1ZXJ5Rm9yUGF0aChfX1BSSVZBVEVfZnJvbVF1ZXJ5UGF0aChlLmRvY3VtZW50c1swXSkpKTtcbiAgICB9KGUucXVlcnkpIDogZnVuY3Rpb24gX19QUklWQVRFX2Zyb21RdWVyeVRhcmdldChlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldChfX1BSSVZBVEVfY29udmVydFF1ZXJ5VGFyZ2V0VG9RdWVyeShlKSk7XG4gICAgfShlLnF1ZXJ5KSwgbmV3IFRhcmdldERhdGEociwgZS50YXJnZXRJZCwgXCJUYXJnZXRQdXJwb3NlTGlzdGVuXCIgLyogVGFyZ2V0UHVycG9zZS5MaXN0ZW4gKi8gLCBlLmxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciwgdCwgbiwgQnl0ZVN0cmluZy5mcm9tQmFzZTY0U3RyaW5nKGUucmVzdW1lVG9rZW4pKTtcbn1cblxuLyoqIEVuY29kZXMgVGFyZ2V0RGF0YSBpbnRvIGEgRGJUYXJnZXQgZm9yIHN0b3JhZ2UgbG9jYWxseS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3RvRGJUYXJnZXQoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcCh0LnNuYXBzaG90VmVyc2lvbiksIHIgPSBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcCh0Lmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24pO1xuICAgIGxldCBpO1xuICAgIGkgPSBfX1BSSVZBVEVfdGFyZ2V0SXNEb2N1bWVudFRhcmdldCh0LnRhcmdldCkgPyBfX1BSSVZBVEVfdG9Eb2N1bWVudHNUYXJnZXQoZS5jdCwgdC50YXJnZXQpIDogX19QUklWQVRFX3RvUXVlcnlUYXJnZXQoZS5jdCwgdC50YXJnZXQpLl90O1xuICAgIC8vIFdlIGNhbid0IHN0b3JlIHRoZSByZXN1bWVUb2tlbiBhcyBhIEJ5dGVTdHJpbmcgaW4gSW5kZXhlZERiLCBzbyB3ZVxuICAgIC8vIGNvbnZlcnQgaXQgdG8gYSBiYXNlNjQgc3RyaW5nIGZvciBzdG9yYWdlLlxuICAgICAgICBjb25zdCBzID0gdC5yZXN1bWVUb2tlbi50b0Jhc2U2NCgpO1xuICAgIC8vIGxhc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciBpcyBhbHdheXMgMCB1bnRpbCB3ZSBkbyByZWFsIEdDLlxuICAgICAgICByZXR1cm4ge1xuICAgICAgICB0YXJnZXRJZDogdC50YXJnZXRJZCxcbiAgICAgICAgY2Fub25pY2FsSWQ6IF9fUFJJVkFURV9jYW5vbmlmeVRhcmdldCh0LnRhcmdldCksXG4gICAgICAgIHJlYWRUaW1lOiBuLFxuICAgICAgICByZXN1bWVUb2tlbjogcyxcbiAgICAgICAgbGFzdExpc3RlblNlcXVlbmNlTnVtYmVyOiB0LnNlcXVlbmNlTnVtYmVyLFxuICAgICAgICBsYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uOiByLFxuICAgICAgICBxdWVyeTogaVxuICAgIH07XG59XG5cbi8qKlxuICogRW5jb2RlcyBhIGBCdW5kbGVkUXVlcnlgIGZyb20gYnVuZGxlIHByb3RvIHRvIGEgUXVlcnkgb2JqZWN0LlxuICpcbiAqIFRoaXMgcmVjb25zdHJ1Y3RzIHRoZSBvcmlnaW5hbCBxdWVyeSB1c2VkIHRvIGJ1aWxkIHRoZSBidW5kbGUgYmVpbmcgbG9hZGVkLFxuICogaW5jbHVkaW5nIGZlYXR1cmVzIGV4aXN0cyBvbmx5IGluIFNES3MgKGZvciBleGFtcGxlOiBsaW1pdC10by1sYXN0KS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21CdW5kbGVkUXVlcnkoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY29udmVydFF1ZXJ5VGFyZ2V0VG9RdWVyeSh7XG4gICAgICAgIHBhcmVudDogZS5wYXJlbnQsXG4gICAgICAgIHN0cnVjdHVyZWRRdWVyeTogZS5zdHJ1Y3R1cmVkUXVlcnlcbiAgICB9KTtcbiAgICByZXR1cm4gXCJMQVNUXCIgPT09IGUubGltaXRUeXBlID8gX19QUklWQVRFX3F1ZXJ5V2l0aExpbWl0KHQsIHQubGltaXQsIFwiTFwiIC8qIExpbWl0VHlwZS5MYXN0ICovKSA6IHQ7XG59XG5cbi8qKiBFbmNvZGVzIGEgTmFtZWRRdWVyeSBwcm90byBvYmplY3QgdG8gYSBOYW1lZFF1ZXJ5IG1vZGVsIG9iamVjdC4gKi9cbi8qKiBFbmNvZGVzIGEgRGJEb2N1bWVudE92ZXJsYXkgb2JqZWN0IHRvIGFuIE92ZXJsYXkgbW9kZWwgb2JqZWN0LiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2Zyb21EYkRvY3VtZW50T3ZlcmxheShlLCB0KSB7XG4gICAgcmV0dXJuIG5ldyBPdmVybGF5KHQubGFyZ2VzdEJhdGNoSWQsIF9fUFJJVkFURV9mcm9tTXV0YXRpb24oZS5jdCwgdC5vdmVybGF5TXV0YXRpb24pKTtcbn1cblxuLyoqIERlY29kZXMgYW4gT3ZlcmxheSBtb2RlbCBvYmplY3QgaW50byBhIERiRG9jdW1lbnRPdmVybGF5IG9iamVjdC4gKi9cbi8qKlxuICogUmV0dXJucyB0aGUgRGJEb2N1bWVudE92ZXJsYXlLZXkgY29ycmVzcG9uZGluZyB0byB0aGUgZ2l2ZW4gdXNlciBhbmRcbiAqIGRvY3VtZW50IGtleS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3RvRGJEb2N1bWVudE92ZXJsYXlLZXkoZSwgdCkge1xuICAgIGNvbnN0IG4gPSB0LnBhdGgubGFzdFNlZ21lbnQoKTtcbiAgICByZXR1cm4gWyBlLCBfX1BSSVZBVEVfZW5jb2RlUmVzb3VyY2VQYXRoKHQucGF0aC5wb3BMYXN0KCkpLCBuIF07XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV90b0RiSW5kZXhTdGF0ZShlLCB0LCBuLCByKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaW5kZXhJZDogZSxcbiAgICAgICAgdWlkOiB0LFxuICAgICAgICBzZXF1ZW5jZU51bWJlcjogbixcbiAgICAgICAgcmVhZFRpbWU6IF9fUFJJVkFURV90b0RiVGltZXN0YW1wKHIucmVhZFRpbWUpLFxuICAgICAgICBkb2N1bWVudEtleTogX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChyLmRvY3VtZW50S2V5LnBhdGgpLFxuICAgICAgICBsYXJnZXN0QmF0Y2hJZDogci5sYXJnZXN0QmF0Y2hJZFxuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJCdW5kbGVDYWNoZSB7XG4gICAgZ2V0QnVuZGxlTWV0YWRhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2J1bmRsZXNTdG9yZShlKS5nZXQodCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBpZiAoZSkgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRGJCdW5kbGUoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBlLmJ1bmRsZUlkLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiBfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wKGUuY3JlYXRlVGltZSksXG4gICAgICAgICAgICAgICAgICAgIHZlcnNpb246IGUudmVyc2lvblxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiogRW5jb2RlcyBhIEJ1bmRsZU1ldGFkYXRhIHRvIGEgRGJCdW5kbGUuICovIChlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzYXZlQnVuZGxlTWV0YWRhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2J1bmRsZXNTdG9yZShlKS5wdXQoZnVuY3Rpb24gX19QUklWQVRFX3RvRGJCdW5kbGUoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBidW5kbGVJZDogZS5pZCxcbiAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcChfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS5jcmVhdGVUaW1lKSksXG4gICAgICAgICAgICAgICAgdmVyc2lvbjogZS52ZXJzaW9uXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIC8qKiBFbmNvZGVzIGEgRGJOYW1lZFF1ZXJ5IHRvIGEgTmFtZWRRdWVyeS4gKi8gKHQpKTtcbiAgICB9XG4gICAgZ2V0TmFtZWRRdWVyeShlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbmFtZWRRdWVyaWVzU3RvcmUoZSkuZ2V0KHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUpIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZnJvbURiTmFtZWRRdWVyeShlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgICAgICAgICAgICAgICBxdWVyeTogX19QUklWQVRFX2Zyb21CdW5kbGVkUXVlcnkoZS5idW5kbGVkUXVlcnkpLFxuICAgICAgICAgICAgICAgICAgICByZWFkVGltZTogX19QUklWQVRFX2Zyb21EYlRpbWVzdGFtcChlLnJlYWRUaW1lKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiogRW5jb2RlcyBhIE5hbWVkUXVlcnkgZnJvbSBhIGJ1bmRsZSBwcm90byB0byBhIERiTmFtZWRRdWVyeS4gKi8gKGUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHNhdmVOYW1lZFF1ZXJ5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9uYW1lZFF1ZXJpZXNTdG9yZShlKS5wdXQoZnVuY3Rpb24gX19QUklWQVRFX3RvRGJOYW1lZFF1ZXJ5KGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgICAgICAgICAgIHJlYWRUaW1lOiBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcChfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS5yZWFkVGltZSkpLFxuICAgICAgICAgICAgICAgIGJ1bmRsZWRRdWVyeTogZS5idW5kbGVkUXVlcnlcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0odCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIGJ1bmRsZXMgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9idW5kbGVzU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJidW5kbGVzXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgbmFtZWRRdWVyaWVzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmFtZWRRdWVyaWVzU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJuYW1lZFF1ZXJpZXNcIik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEltcGxlbWVudGF0aW9uIG9mIERvY3VtZW50T3ZlcmxheUNhY2hlIHVzaW5nIEluZGV4ZWREYi5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiRG9jdW1lbnRPdmVybGF5Q2FjaGUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVyIC0gVGhlIGRvY3VtZW50IHNlcmlhbGl6ZXIuXG4gICAgICogQHBhcmFtIHVzZXJJZCAtIFRoZSB1c2VySWQgZm9yIHdoaWNoIHdlIGFyZSBhY2Nlc3Npbmcgb3ZlcmxheXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBlLCB0aGlzLnVzZXJJZCA9IHQ7XG4gICAgfVxuICAgIHN0YXRpYyBsdChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LnVpZCB8fCBcIlwiO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJEb2N1bWVudE92ZXJsYXlDYWNoZShlLCBuKTtcbiAgICB9XG4gICAgZ2V0T3ZlcmxheShlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRPdmVybGF5U3RvcmUoZSkuZ2V0KF9fUFJJVkFURV90b0RiRG9jdW1lbnRPdmVybGF5S2V5KHRoaXMudXNlcklkLCB0KSkubmV4dCgoZSA9PiBlID8gX19QUklWQVRFX2Zyb21EYkRvY3VtZW50T3ZlcmxheSh0aGlzLnNlcmlhbGl6ZXIsIGUpIDogbnVsbCkpO1xuICAgIH1cbiAgICBnZXRPdmVybGF5cyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbmV3T3ZlcmxheU1hcCgpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godCwgKHQgPT4gdGhpcy5nZXRPdmVybGF5KGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgbnVsbCAhPT0gZSAmJiBuLnNldCh0LCBlKTtcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICBzYXZlT3ZlcmxheXMoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgIHJldHVybiBuLmZvckVhY2goKChuLCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gbmV3IE92ZXJsYXkodCwgaSk7XG4gICAgICAgICAgICByLnB1c2godGhpcy5odChlLCBzKSk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3Iocik7XG4gICAgfVxuICAgIHJlbW92ZU92ZXJsYXlzRm9yQmF0Y2hJZChlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgU2V0O1xuICAgICAgICAvLyBHZXQgdGhlIHNldCBvZiB1bmlxdWUgY29sbGVjdGlvbiBwYXRocy5cbiAgICAgICAgICAgICAgICB0LmZvckVhY2goKGUgPT4gci5hZGQoX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChlLmdldENvbGxlY3Rpb25QYXRoKCkpKSkpO1xuICAgICAgICBjb25zdCBpID0gW107XG4gICAgICAgIHJldHVybiByLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IElEQktleVJhbmdlLmJvdW5kKFsgdGhpcy51c2VySWQsIHQsIG4gXSwgWyB0aGlzLnVzZXJJZCwgdCwgbiArIDEgXSwgXG4gICAgICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgICAgICAvKnVwcGVyT3Blbj0qLyAhMCk7XG4gICAgICAgICAgICBpLnB1c2goX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlKGUpLmooXCJjb2xsZWN0aW9uUGF0aE92ZXJsYXlJbmRleFwiLCByKSk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IoaSk7XG4gICAgfVxuICAgIGdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbihlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfbmV3T3ZlcmxheU1hcCgpLCBpID0gX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aCh0KSwgcyA9IElEQktleVJhbmdlLmJvdW5kKFsgdGhpcy51c2VySWQsIGksIG4gXSwgWyB0aGlzLnVzZXJJZCwgaSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRPdmVybGF5U3RvcmUoZSkuVShcImNvbGxlY3Rpb25QYXRoT3ZlcmxheUluZGV4XCIsIHMpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gX19QUklWQVRFX2Zyb21EYkRvY3VtZW50T3ZlcmxheSh0aGlzLnNlcmlhbGl6ZXIsIHQpO1xuICAgICAgICAgICAgICAgIHIuc2V0KGUuZ2V0S2V5KCksIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHI7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uR3JvdXAoZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKTtcbiAgICAgICAgbGV0IHM7XG4gICAgICAgIC8vIFdlIHdhbnQgYmF0Y2ggSURzIGxhcmdlciB0aGFuIGBzaW5jZUJhdGNoSWRgLCBhbmQgc28gdGhlIGxvd2VyIGJvdW5kXG4gICAgICAgIC8vIGlzIG5vdCBpbmNsdXNpdmUuXG4gICAgICAgICAgICAgICAgY29uc3QgbyA9IElEQktleVJhbmdlLmJvdW5kKFsgdGhpcy51c2VySWQsIHQsIG4gXSwgWyB0aGlzLnVzZXJJZCwgdCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRPdmVybGF5U3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJjb2xsZWN0aW9uR3JvdXBPdmVybGF5SW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBvXG4gICAgICAgIH0sICgoZSwgdCwgbikgPT4ge1xuICAgICAgICAgICAgLy8gV2UgZG8gbm90IHdhbnQgdG8gcmV0dXJuIHBhcnRpYWwgYmF0Y2ggb3ZlcmxheXMsIGV2ZW4gaWYgdGhlIHNpemVcbiAgICAgICAgICAgIC8vIG9mIHRoZSByZXN1bHQgc2V0IGV4Y2VlZHMgdGhlIGdpdmVuIGBjb3VudGAgYXJndW1lbnQuIFRoZXJlZm9yZSwgd2VcbiAgICAgICAgICAgIC8vIGNvbnRpbnVlIHRvIGFnZ3JlZ2F0ZSByZXN1bHRzIGV2ZW4gYWZ0ZXIgdGhlIHJlc3VsdCBzaXplIGV4Y2VlZHNcbiAgICAgICAgICAgIC8vIGBjb3VudGAgaWYgdGhlcmUgYXJlIG1vcmUgb3ZlcmxheXMgZnJvbSB0aGUgYGN1cnJlbnRCYXRjaElkYC5cbiAgICAgICAgICAgIGNvbnN0IG8gPSBfX1BSSVZBVEVfZnJvbURiRG9jdW1lbnRPdmVybGF5KHRoaXMuc2VyaWFsaXplciwgdCk7XG4gICAgICAgICAgICBpLnNpemUoKSA8IHIgfHwgby5sYXJnZXN0QmF0Y2hJZCA9PT0gcyA/IChpLnNldChvLmdldEtleSgpLCBvKSwgcyA9IG8ubGFyZ2VzdEJhdGNoSWQpIDogbi5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSk7XG4gICAgfVxuICAgIGh0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9kb2N1bWVudE92ZXJsYXlTdG9yZShlKS5wdXQoZnVuY3Rpb24gX19QUklWQVRFX3RvRGJEb2N1bWVudE92ZXJsYXkoZSwgdCwgbikge1xuICAgICAgICAgICAgY29uc3QgW3IsIGksIHNdID0gX19QUklWQVRFX3RvRGJEb2N1bWVudE92ZXJsYXlLZXkodCwgbi5tdXRhdGlvbi5rZXkpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB1c2VySWQ6IHQsXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvblBhdGg6IGksXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRJZDogcyxcbiAgICAgICAgICAgICAgICBjb2xsZWN0aW9uR3JvdXA6IG4ubXV0YXRpb24ua2V5LmdldENvbGxlY3Rpb25Hcm91cCgpLFxuICAgICAgICAgICAgICAgIGxhcmdlc3RCYXRjaElkOiBuLmxhcmdlc3RCYXRjaElkLFxuICAgICAgICAgICAgICAgIG92ZXJsYXlNdXRhdGlvbjogdG9NdXRhdGlvbihlLmN0LCBuLm11dGF0aW9uKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSh0aGlzLnNlcmlhbGl6ZXIsIHRoaXMudXNlcklkLCB0KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgZG9jdW1lbnQgb3ZlcmxheSBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RvY3VtZW50T3ZlcmxheVN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiZG9jdW1lbnRPdmVybGF5c1wiKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIE5vdGU6IFRoaXMgY29kZSBpcyBjb3BpZWQgZnJvbSB0aGUgYmFja2VuZC4gQ29kZSB0aGF0IGlzIG5vdCB1c2VkIGJ5XG4vLyBGaXJlc3RvcmUgd2FzIHJlbW92ZWQuXG4vKiogRmlyZXN0b3JlIGluZGV4IHZhbHVlIHdyaXRlci4gICovXG5jbGFzcyBfX1BSSVZBVEVfRmlyZXN0b3JlSW5kZXhWYWx1ZVdyaXRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7fVxuICAgIC8vIFRoZSB3cml0ZSBtZXRob2RzIGJlbG93IHNob3J0LWNpcmN1aXQgd3JpdGluZyB0ZXJtaW5hdG9ycyBmb3IgdmFsdWVzXG4gICAgLy8gY29udGFpbmluZyBhICh0ZXJtaW5hdGluZykgdHJ1bmNhdGVkIHZhbHVlLlxuICAgIC8vIEFzIGFuIGV4YW1wbGUsIGNvbnNpZGVyIHRoZSByZXN1bHRpbmcgZW5jb2RpbmcgZm9yOlxuICAgIC8vIFtcImJhclwiLCBbMiwgXCJmb29cIl1dIC0+IChTVFJJTkcsIFwiYmFyXCIsIFRFUk0sIEFSUkFZLCBOVU1CRVIsIDIsIFNUUklORywgXCJmb29cIiwgVEVSTSwgVEVSTSwgVEVSTSlcbiAgICAvLyBbXCJiYXJcIiwgWzIsIHRydW5jYXRlZChcImZvb1wiKV1dIC0+IChTVFJJTkcsIFwiYmFyXCIsIFRFUk0sIEFSUkFZLCBOVU1CRVIsIDIsIFNUUklORywgXCJmb29cIiwgVFJVTkMpXG4gICAgLy8gW1wiYmFyXCIsIHRydW5jYXRlZChbXCJmb29cIl0pXSAtPiAoU1RSSU5HLCBcImJhclwiLCBURVJNLCBBUlJBWS4gU1RSSU5HLCBcImZvb1wiLCBURVJNLCBUUlVOQylcbiAgICAvKiogV3JpdGVzIGFuIGluZGV4IHZhbHVlLiAgKi9cbiAgICBQdChlLCB0KSB7XG4gICAgICAgIHRoaXMuSXQoZSwgdCksIFxuICAgICAgICAvLyBXcml0ZSBzZXBhcmF0b3IgdG8gc3BsaXQgaW5kZXggdmFsdWVzXG4gICAgICAgIC8vIChzZWUgZ28vZmlyZXN0b3JlLXN0b3JhZ2UtZm9ybWF0I2VuY29kaW5ncykuXG4gICAgICAgIHQuVHQoKTtcbiAgICB9XG4gICAgSXQoZSwgdCkge1xuICAgICAgICBpZiAoXCJudWxsVmFsdWVcIiBpbiBlKSB0aGlzLkV0KHQsIDUpOyBlbHNlIGlmIChcImJvb2xlYW5WYWx1ZVwiIGluIGUpIHRoaXMuRXQodCwgMTApLCBcbiAgICAgICAgdC5kdChlLmJvb2xlYW5WYWx1ZSA/IDEgOiAwKTsgZWxzZSBpZiAoXCJpbnRlZ2VyVmFsdWVcIiBpbiBlKSB0aGlzLkV0KHQsIDE1KSwgdC5kdChfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyKGUuaW50ZWdlclZhbHVlKSk7IGVsc2UgaWYgKFwiZG91YmxlVmFsdWVcIiBpbiBlKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmRvdWJsZVZhbHVlKTtcbiAgICAgICAgICAgIGlzTmFOKG4pID8gdGhpcy5FdCh0LCAxMykgOiAodGhpcy5FdCh0LCAxNSksIF9fUFJJVkFURV9pc05lZ2F0aXZlWmVybyhuKSA/IFxuICAgICAgICAgICAgLy8gLTAuMCwgMCBhbmQgMC4wIGFyZSBhbGwgY29uc2lkZXJlZCB0aGUgc2FtZVxuICAgICAgICAgICAgdC5kdCgwKSA6IHQuZHQobikpO1xuICAgICAgICB9IGVsc2UgaWYgKFwidGltZXN0YW1wVmFsdWVcIiBpbiBlKSB7XG4gICAgICAgICAgICBsZXQgbiA9IGUudGltZXN0YW1wVmFsdWU7XG4gICAgICAgICAgICB0aGlzLkV0KHQsIDIwKSwgXCJzdHJpbmdcIiA9PSB0eXBlb2YgbiAmJiAobiA9IF9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAobikpLCB0LkF0KGAke24uc2Vjb25kcyB8fCBcIlwifWApLCBcbiAgICAgICAgICAgIHQuZHQobi5uYW5vcyB8fCAwKTtcbiAgICAgICAgfSBlbHNlIGlmIChcInN0cmluZ1ZhbHVlXCIgaW4gZSkgdGhpcy5SdChlLnN0cmluZ1ZhbHVlLCB0KSwgdGhpcy5WdCh0KTsgZWxzZSBpZiAoXCJieXRlc1ZhbHVlXCIgaW4gZSkgdGhpcy5FdCh0LCAzMCksIFxuICAgICAgICB0LmZ0KF9fUFJJVkFURV9ub3JtYWxpemVCeXRlU3RyaW5nKGUuYnl0ZXNWYWx1ZSkpLCB0aGlzLlZ0KHQpOyBlbHNlIGlmIChcInJlZmVyZW5jZVZhbHVlXCIgaW4gZSkgdGhpcy5ndChlLnJlZmVyZW5jZVZhbHVlLCB0KTsgZWxzZSBpZiAoXCJnZW9Qb2ludFZhbHVlXCIgaW4gZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IGUuZ2VvUG9pbnRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuRXQodCwgNDUpLCB0LmR0KG4ubGF0aXR1ZGUgfHwgMCksIHQuZHQobi5sb25naXR1ZGUgfHwgMCk7XG4gICAgICAgIH0gZWxzZSBcIm1hcFZhbHVlXCIgaW4gZSA/IF9fUFJJVkFURV9pc01heFZhbHVlKGUpID8gdGhpcy5FdCh0LCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUikgOiAodGhpcy55dChlLm1hcFZhbHVlLCB0KSwgXG4gICAgICAgIHRoaXMuVnQodCkpIDogXCJhcnJheVZhbHVlXCIgaW4gZSA/ICh0aGlzLnd0KGUuYXJyYXlWYWx1ZSwgdCksIHRoaXMuVnQodCkpIDogZmFpbCgpO1xuICAgIH1cbiAgICBSdChlLCB0KSB7XG4gICAgICAgIHRoaXMuRXQodCwgMjUpLCB0aGlzLlN0KGUsIHQpO1xuICAgIH1cbiAgICBTdChlLCB0KSB7XG4gICAgICAgIHQuQXQoZSk7XG4gICAgfVxuICAgIHl0KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IGUuZmllbGRzIHx8IHt9O1xuICAgICAgICB0aGlzLkV0KHQsIDU1KTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIE9iamVjdC5rZXlzKG4pKSB0aGlzLlJ0KGUsIHQpLCB0aGlzLkl0KG5bZV0sIHQpO1xuICAgIH1cbiAgICB3dChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBlLnZhbHVlcyB8fCBbXTtcbiAgICAgICAgdGhpcy5FdCh0LCA1MCk7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiBuKSB0aGlzLkl0KGUsIHQpO1xuICAgIH1cbiAgICBndChlLCB0KSB7XG4gICAgICAgIHRoaXMuRXQodCwgMzcpO1xuICAgICAgICBEb2N1bWVudEtleS5mcm9tTmFtZShlKS5wYXRoLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5FdCh0LCA2MCksIHRoaXMuU3QoZSwgdCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgRXQoZSwgdCkge1xuICAgICAgICBlLmR0KHQpO1xuICAgIH1cbiAgICBWdChlKSB7XG4gICAgICAgIC8vIFdoaWxlIHRoZSBTREsgZG9lcyBub3QgaW1wbGVtZW50IHRydW5jYXRpb24sIHRoZSB0cnVuY2F0aW9uIG1hcmtlciBpc1xuICAgICAgICAvLyB1c2VkIHRvIHRlcm1pbmF0ZSBhbGwgdmFyaWFibGUgbGVuZ3RoIHZhbHVlcyAod2hpY2ggYXJlIHN0cmluZ3MsIGJ5dGVzLFxuICAgICAgICAvLyByZWZlcmVuY2VzLCBhcnJheXMgYW5kIG1hcHMpLlxuICAgICAgICBlLmR0KDIpO1xuICAgIH1cbn1cblxuX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIuYnQgPSBuZXcgX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXI7XG5cbi8qKlxuICogQ291bnRzIHRoZSBudW1iZXIgb2YgemVyb3MgaW4gYSBieXRlLlxuICpcbiAqIFZpc2libGUgZm9yIHRlc3RpbmcuXG4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV9udW1iZXJPZkxlYWRpbmdaZXJvc0luQnl0ZShlKSB7XG4gICAgaWYgKDAgPT09IGUpIHJldHVybiA4O1xuICAgIGxldCB0ID0gMDtcbiAgICByZXR1cm4gZSA+PiA0ID09IDAgJiYgKFxuICAgIC8vIFRlc3QgaWYgdGhlIGZpcnN0IGZvdXIgYml0cyBhcmUgemVyby5cbiAgICB0ICs9IDQsIGUgPDw9IDQpLCBlID4+IDYgPT0gMCAmJiAoXG4gICAgLy8gVGVzdCBpZiB0aGUgZmlyc3QgdHdvIChvciBuZXh0IHR3bykgYml0cyBhcmUgemVyby5cbiAgICB0ICs9IDIsIGUgPDw9IDIpLCBlID4+IDcgPT0gMCAmJiAoXG4gICAgLy8gVGVzdCBpZiB0aGUgcmVtYWluaW5nIGJpdCBpcyB6ZXJvLlxuICAgIHQgKz0gMSksIHQ7XG59XG5cbi8qKiBDb3VudHMgdGhlIG51bWJlciBvZiBsZWFkaW5nIHplcm9zIGluIHRoZSBnaXZlbiBieXRlIGFycmF5LiAqL1xuLyoqXG4gKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgYnl0ZXMgcmVxdWlyZWQgdG8gc3RvcmUgXCJ2YWx1ZVwiLiBMZWFkaW5nIHplcm8gYnl0ZXNcbiAqIGFyZSBza2lwcGVkLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfdW5zaWduZWROdW1MZW5ndGgoZSkge1xuICAgIC8vIFRoaXMgaXMganVzdCB0aGUgbnVtYmVyIG9mIGJ5dGVzIGZvciB0aGUgdW5zaWduZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIG51bWJlci5cbiAgICBjb25zdCB0ID0gNjQgLSBmdW5jdGlvbiBfX1BSSVZBVEVfbnVtYmVyT2ZMZWFkaW5nWmVyb3MoZSkge1xuICAgICAgICBsZXQgdCA9IDA7XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgODsgKytuKSB7XG4gICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX251bWJlck9mTGVhZGluZ1plcm9zSW5CeXRlKDI1NSAmIGVbbl0pO1xuICAgICAgICAgICAgaWYgKHQgKz0gciwgOCAhPT0gcikgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfShlKTtcbiAgICByZXR1cm4gTWF0aC5jZWlsKHQgLyA4KTtcbn1cblxuLyoqXG4gKiBPcmRlcmVkQ29kZVdyaXRlciBpcyBhIG1pbmltYWwtYWxsb2NhdGlvbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgd3JpdGluZ1xuICogYmVoYXZpb3IgZGVmaW5lZCBieSB0aGUgYmFja2VuZC5cbiAqXG4gKiBUaGUgY29kZSBpcyBwb3J0ZWQgZnJvbSBpdHMgSmF2YSBjb3VudGVycGFydC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfT3JkZXJlZENvZGVXcml0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDEwMjQpLCB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICB9XG4gICAgRHQoZSkge1xuICAgICAgICBjb25zdCB0ID0gZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgICAgIGxldCBuID0gdC5uZXh0KCk7XG4gICAgICAgIGZvciAoOyFuLmRvbmU7ICkgdGhpcy5DdChuLnZhbHVlKSwgbiA9IHQubmV4dCgpO1xuICAgICAgICB0aGlzLnZ0KCk7XG4gICAgfVxuICAgIEZ0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGVbU3ltYm9sLml0ZXJhdG9yXSgpO1xuICAgICAgICBsZXQgbiA9IHQubmV4dCgpO1xuICAgICAgICBmb3IgKDshbi5kb25lOyApIHRoaXMuTXQobi52YWx1ZSksIG4gPSB0Lm5leHQoKTtcbiAgICAgICAgdGhpcy54dCgpO1xuICAgIH1cbiAgICAvKiogV3JpdGVzIHV0ZjggYnl0ZXMgaW50byB0aGlzIGJ5dGUgc2VxdWVuY2UsIGFzY2VuZGluZy4gKi8gICAgT3QoZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuY2hhckNvZGVBdCgwKTtcbiAgICAgICAgICAgIGlmIChlIDwgMTI4KSB0aGlzLkN0KGUpOyBlbHNlIGlmIChlIDwgMjA0OCkgdGhpcy5DdCg5NjAgfCBlID4+PiA2KSwgdGhpcy5DdCgxMjggfCA2MyAmIGUpOyBlbHNlIGlmICh0IDwgXCJcXHVkODAwXCIgfHwgXCJcXHVkYmZmXCIgPCB0KSB0aGlzLkN0KDQ4MCB8IGUgPj4+IDEyKSwgXG4gICAgICAgICAgICB0aGlzLkN0KDEyOCB8IDYzICYgZSA+Pj4gNiksIHRoaXMuQ3QoMTI4IHwgNjMgJiBlKTsgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZSA9IHQuY29kZVBvaW50QXQoMCk7XG4gICAgICAgICAgICAgICAgdGhpcy5DdCgyNDAgfCBlID4+PiAxOCksIHRoaXMuQ3QoMTI4IHwgNjMgJiBlID4+PiAxMiksIHRoaXMuQ3QoMTI4IHwgNjMgJiBlID4+PiA2KSwgXG4gICAgICAgICAgICAgICAgdGhpcy5DdCgxMjggfCA2MyAmIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMudnQoKTtcbiAgICB9XG4gICAgLyoqIFdyaXRlcyB1dGY4IGJ5dGVzIGludG8gdGhpcyBieXRlIHNlcXVlbmNlLCBkZXNjZW5kaW5nICovICAgIE50KGUpIHtcbiAgICAgICAgZm9yIChjb25zdCB0IG9mIGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSB0LmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBpZiAoZSA8IDEyOCkgdGhpcy5NdChlKTsgZWxzZSBpZiAoZSA8IDIwNDgpIHRoaXMuTXQoOTYwIHwgZSA+Pj4gNiksIHRoaXMuTXQoMTI4IHwgNjMgJiBlKTsgZWxzZSBpZiAodCA8IFwiXFx1ZDgwMFwiIHx8IFwiXFx1ZGJmZlwiIDwgdCkgdGhpcy5NdCg0ODAgfCBlID4+PiAxMiksIFxuICAgICAgICAgICAgdGhpcy5NdCgxMjggfCA2MyAmIGUgPj4+IDYpLCB0aGlzLk10KDEyOCB8IDYzICYgZSk7IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0LmNvZGVQb2ludEF0KDApO1xuICAgICAgICAgICAgICAgIHRoaXMuTXQoMjQwIHwgZSA+Pj4gMTgpLCB0aGlzLk10KDEyOCB8IDYzICYgZSA+Pj4gMTIpLCB0aGlzLk10KDEyOCB8IDYzICYgZSA+Pj4gNiksIFxuICAgICAgICAgICAgICAgIHRoaXMuTXQoMTI4IHwgNjMgJiBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnh0KCk7XG4gICAgfVxuICAgIEx0KGUpIHtcbiAgICAgICAgLy8gVmFsdWVzIGFyZSBlbmNvZGVkIHdpdGggYSBzaW5nbGUgYnl0ZSBsZW5ndGggcHJlZml4LCBmb2xsb3dlZCBieSB0aGVcbiAgICAgICAgLy8gYWN0dWFsIHZhbHVlIGluIGJpZy1lbmRpYW4gZm9ybWF0IHdpdGggbGVhZGluZyAwIGJ5dGVzIGRyb3BwZWQuXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLkJ0KGUpLCBuID0gX19QUklWQVRFX3Vuc2lnbmVkTnVtTGVuZ3RoKHQpO1xuICAgICAgICB0aGlzLmt0KDEgKyBuKSwgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IDI1NSAmIG47XG4gICAgICAgIC8vIFdyaXRlIHRoZSBsZW5ndGhcbiAgICAgICAgZm9yIChsZXQgZSA9IHQubGVuZ3RoIC0gbjsgZSA8IHQubGVuZ3RoOyArK2UpIHRoaXMuYnVmZmVyW3RoaXMucG9zaXRpb24rK10gPSAyNTUgJiB0W2VdO1xuICAgIH1cbiAgICBxdChlKSB7XG4gICAgICAgIC8vIFZhbHVlcyBhcmUgZW5jb2RlZCB3aXRoIGEgc2luZ2xlIGJ5dGUgbGVuZ3RoIHByZWZpeCwgZm9sbG93ZWQgYnkgdGhlXG4gICAgICAgIC8vIGludmVydGVkIHZhbHVlIGluIGJpZy1lbmRpYW4gZm9ybWF0IHdpdGggbGVhZGluZyAwIGJ5dGVzIGRyb3BwZWQuXG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLkJ0KGUpLCBuID0gX19QUklWQVRFX3Vuc2lnbmVkTnVtTGVuZ3RoKHQpO1xuICAgICAgICB0aGlzLmt0KDEgKyBuKSwgdGhpcy5idWZmZXJbdGhpcy5wb3NpdGlvbisrXSA9IH4oMjU1ICYgbik7XG4gICAgICAgIC8vIFdyaXRlIHRoZSBsZW5ndGhcbiAgICAgICAgZm9yIChsZXQgZSA9IHQubGVuZ3RoIC0gbjsgZSA8IHQubGVuZ3RoOyArK2UpIHRoaXMuYnVmZmVyW3RoaXMucG9zaXRpb24rK10gPSB+KDI1NSAmIHRbZV0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXcml0ZXMgdGhlIFwiaW5maW5pdHlcIiBieXRlIHNlcXVlbmNlIHRoYXQgc29ydHMgYWZ0ZXIgYWxsIG90aGVyIGJ5dGVcbiAgICAgKiBzZXF1ZW5jZXMgd3JpdHRlbiBpbiBhc2NlbmRpbmcgb3JkZXIuXG4gICAgICovICAgIFF0KCkge1xuICAgICAgICB0aGlzLkt0KDI1NSksIHRoaXMuS3QoMjU1KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV3JpdGVzIHRoZSBcImluZmluaXR5XCIgYnl0ZSBzZXF1ZW5jZSB0aGF0IHNvcnRzIGJlZm9yZSBhbGwgb3RoZXIgYnl0ZVxuICAgICAqIHNlcXVlbmNlcyB3cml0dGVuIGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICovICAgICR0KCkge1xuICAgICAgICB0aGlzLlV0KDI1NSksIHRoaXMuVXQoMjU1KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBidWZmZXIgc3VjaCB0aGF0IGl0IGlzIHRoZSBzYW1lIGFzIHdoZW4gaXQgd2FzIG5ld2x5XG4gICAgICogY29uc3RydWN0ZWQuXG4gICAgICovICAgIHJlc2V0KCkge1xuICAgICAgICB0aGlzLnBvc2l0aW9uID0gMDtcbiAgICB9XG4gICAgc2VlZChlKSB7XG4gICAgICAgIHRoaXMua3QoZS5sZW5ndGgpLCB0aGlzLmJ1ZmZlci5zZXQoZSwgdGhpcy5wb3NpdGlvbiksIHRoaXMucG9zaXRpb24gKz0gZS5sZW5ndGg7XG4gICAgfVxuICAgIC8qKiBNYWtlcyBhIGNvcHkgb2YgdGhlIGVuY29kZWQgYnl0ZXMgaW4gdGhpcyBidWZmZXIuICAqLyAgICBXdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLnNsaWNlKDAsIHRoaXMucG9zaXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbmNvZGVzIGB2YWxgIGludG8gYW4gZW5jb2Rpbmcgc28gdGhhdCB0aGUgb3JkZXIgbWF0Y2hlcyB0aGUgSUVFRSA3NTRcbiAgICAgKiBmbG9hdGluZy1wb2ludCBjb21wYXJpc29uIHJlc3VsdHMgd2l0aCB0aGUgZm9sbG93aW5nIGV4Y2VwdGlvbnM6XG4gICAgICogICAtMC4wIDwgMC4wXG4gICAgICogICBhbGwgbm9uLU5hTiA8IE5hTlxuICAgICAqICAgTmFOID0gTmFOXG4gICAgICovICAgIEJ0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFxuICAgICAgICAvKiogQ29udmVydHMgYSBKYXZhU2NyaXB0IG51bWJlciB0byBhIGJ5dGUgYXJyYXkgKHVzaW5nIGJpZyBlbmRpYW4gZW5jb2RpbmcpLiAqL1xuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfZG91YmxlVG9Mb25nQml0cyhlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gbmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcig4KSk7XG4gICAgICAgICAgICByZXR1cm4gdC5zZXRGbG9hdDY0KDAsIGUsIC8qIGxpdHRsZUVuZGlhbj0gKi8gITEpLCBuZXcgVWludDhBcnJheSh0LmJ1ZmZlcik7XG4gICAgICAgIH0oZSksIG4gPSAwICE9ICgxMjggJiB0WzBdKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZpcnN0IGJpdCBpcyBzZXQuIFdlIHVzZSBhIGJpdCBtYXNrIHNpbmNlIHZhbHVlWzBdIGlzXG4gICAgICAgIC8vIGVuY29kZWQgYXMgYSBudW1iZXIgZnJvbSAwIHRvIDI1NS5cbiAgICAgICAgICAgICAgICAvLyBSZXZlcnQgdGhlIHR3byBjb21wbGVtZW50IHRvIGdldCBuYXR1cmFsIG9yZGVyaW5nXG4gICAgICAgIHRbMF0gXj0gbiA/IDI1NSA6IDEyODtcbiAgICAgICAgZm9yIChsZXQgZSA9IDE7IGUgPCB0Lmxlbmd0aDsgKytlKSB0W2VdIF49IG4gPyAyNTUgOiAwO1xuICAgICAgICByZXR1cm4gdDtcbiAgICB9XG4gICAgLyoqIFdyaXRlcyBhIHNpbmdsZSBieXRlIGFzY2VuZGluZyB0byB0aGUgYnVmZmVyLiAqLyAgICBDdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSAyNTUgJiBlO1xuICAgICAgICAwID09PSB0ID8gKHRoaXMuS3QoMCksIHRoaXMuS3QoMjU1KSkgOiAyNTUgPT09IHQgPyAodGhpcy5LdCgyNTUpLCB0aGlzLkt0KDApKSA6IHRoaXMuS3QodCk7XG4gICAgfVxuICAgIC8qKiBXcml0ZXMgYSBzaW5nbGUgYnl0ZSBkZXNjZW5kaW5nIHRvIHRoZSBidWZmZXIuICAqLyAgICBNdChlKSB7XG4gICAgICAgIGNvbnN0IHQgPSAyNTUgJiBlO1xuICAgICAgICAwID09PSB0ID8gKHRoaXMuVXQoMCksIHRoaXMuVXQoMjU1KSkgOiAyNTUgPT09IHQgPyAodGhpcy5VdCgyNTUpLCB0aGlzLlV0KDApKSA6IHRoaXMuVXQoZSk7XG4gICAgfVxuICAgIHZ0KCkge1xuICAgICAgICB0aGlzLkt0KDApLCB0aGlzLkt0KDEpO1xuICAgIH1cbiAgICB4dCgpIHtcbiAgICAgICAgdGhpcy5VdCgwKSwgdGhpcy5VdCgxKTtcbiAgICB9XG4gICAgS3QoZSkge1xuICAgICAgICB0aGlzLmt0KDEpLCB0aGlzLmJ1ZmZlclt0aGlzLnBvc2l0aW9uKytdID0gZTtcbiAgICB9XG4gICAgVXQoZSkge1xuICAgICAgICB0aGlzLmt0KDEpLCB0aGlzLmJ1ZmZlclt0aGlzLnBvc2l0aW9uKytdID0gfmU7XG4gICAgfVxuICAgIGt0KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUgKyB0aGlzLnBvc2l0aW9uO1xuICAgICAgICBpZiAodCA8PSB0aGlzLmJ1ZmZlci5sZW5ndGgpIHJldHVybjtcbiAgICAgICAgLy8gVHJ5IGRvdWJsaW5nLlxuICAgICAgICAgICAgICAgIGxldCBuID0gMiAqIHRoaXMuYnVmZmVyLmxlbmd0aDtcbiAgICAgICAgLy8gU3RpbGwgbm90IGJpZyBlbm91Z2g/IEp1c3QgYWxsb2NhdGUgdGhlIHJpZ2h0IHNpemUuXG4gICAgICAgICAgICAgICAgbiA8IHQgJiYgKG4gPSB0KTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBuZXcgYnVmZmVyLlxuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgVWludDhBcnJheShuKTtcbiAgICAgICAgci5zZXQodGhpcy5idWZmZXIpLCAvLyBjb3B5IG9sZCBkYXRhXG4gICAgICAgIHRoaXMuYnVmZmVyID0gcjtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9Bc2NlbmRpbmdJbmRleEJ5dGVFbmNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuR3QgPSBlO1xuICAgIH1cbiAgICBmdChlKSB7XG4gICAgICAgIHRoaXMuR3QuRHQoZSk7XG4gICAgfVxuICAgIEF0KGUpIHtcbiAgICAgICAgdGhpcy5HdC5PdChlKTtcbiAgICB9XG4gICAgZHQoZSkge1xuICAgICAgICB0aGlzLkd0Lkx0KGUpO1xuICAgIH1cbiAgICBUdCgpIHtcbiAgICAgICAgdGhpcy5HdC5RdCgpO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0Rlc2NlbmRpbmdJbmRleEJ5dGVFbmNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuR3QgPSBlO1xuICAgIH1cbiAgICBmdChlKSB7XG4gICAgICAgIHRoaXMuR3QuRnQoZSk7XG4gICAgfVxuICAgIEF0KGUpIHtcbiAgICAgICAgdGhpcy5HdC5OdChlKTtcbiAgICB9XG4gICAgZHQoZSkge1xuICAgICAgICB0aGlzLkd0LnF0KGUpO1xuICAgIH1cbiAgICBUdCgpIHtcbiAgICAgICAgdGhpcy5HdC4kdCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbXBsZW1lbnRzIGBEaXJlY3Rpb25hbEluZGV4Qnl0ZUVuY29kZXJgIHVzaW5nIGBPcmRlcmVkQ29kZVdyaXRlcmAgZm9yIHRoZVxuICogYWN0dWFsIGVuY29kaW5nLlxuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleEJ5dGVFbmNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5HdCA9IG5ldyBfX1BSSVZBVEVfT3JkZXJlZENvZGVXcml0ZXIsIHRoaXMuenQgPSBuZXcgX19QUklWQVRFX0FzY2VuZGluZ0luZGV4Qnl0ZUVuY29kZXIodGhpcy5HdCksIFxuICAgICAgICB0aGlzLmp0ID0gbmV3IF9fUFJJVkFURV9EZXNjZW5kaW5nSW5kZXhCeXRlRW5jb2Rlcih0aGlzLkd0KTtcbiAgICB9XG4gICAgc2VlZChlKSB7XG4gICAgICAgIHRoaXMuR3Quc2VlZChlKTtcbiAgICB9XG4gICAgSHQoZSkge1xuICAgICAgICByZXR1cm4gMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovID09PSBlID8gdGhpcy56dCA6IHRoaXMuanQ7XG4gICAgfVxuICAgIFd0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5HdC5XdCgpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5HdC5yZXNldCgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBSZXByZXNlbnRzIGFuIGluZGV4IGVudHJ5IHNhdmVkIGJ5IHRoZSBTREsgaW4gcGVyc2lzdGVkIHN0b3JhZ2UuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleEVudHJ5IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMuaW5kZXhJZCA9IGUsIHRoaXMuZG9jdW1lbnRLZXkgPSB0LCB0aGlzLmFycmF5VmFsdWUgPSBuLCB0aGlzLmRpcmVjdGlvbmFsVmFsdWUgPSByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIEluZGV4RW50cnkgZW50cnkgdGhhdCBzb3J0cyBpbW1lZGlhdGVseSBhZnRlciB0aGUgY3VycmVudFxuICAgICAqIGRpcmVjdGlvbmFsIHZhbHVlLlxuICAgICAqLyAgICBKdCgpIHtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuZGlyZWN0aW9uYWxWYWx1ZS5sZW5ndGgsIHQgPSAwID09PSBlIHx8IDI1NSA9PT0gdGhpcy5kaXJlY3Rpb25hbFZhbHVlW2UgLSAxXSA/IGUgKyAxIDogZSwgbiA9IG5ldyBVaW50OEFycmF5KHQpO1xuICAgICAgICByZXR1cm4gbi5zZXQodGhpcy5kaXJlY3Rpb25hbFZhbHVlLCAwKSwgdCAhPT0gZSA/IG4uc2V0KFsgMCBdLCB0aGlzLmRpcmVjdGlvbmFsVmFsdWUubGVuZ3RoKSA6ICsrbltuLmxlbmd0aCAtIDFdLCBcbiAgICAgICAgbmV3IF9fUFJJVkFURV9JbmRleEVudHJ5KHRoaXMuaW5kZXhJZCwgdGhpcy5kb2N1bWVudEtleSwgdGhpcy5hcnJheVZhbHVlLCBuKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvcihlLCB0KSB7XG4gICAgbGV0IG4gPSBlLmluZGV4SWQgLSB0LmluZGV4SWQ7XG4gICAgcmV0dXJuIDAgIT09IG4gPyBuIDogKG4gPSBfX1BSSVZBVEVfY29tcGFyZUJ5dGVBcnJheXMoZS5hcnJheVZhbHVlLCB0LmFycmF5VmFsdWUpLCBcbiAgICAwICE9PSBuID8gbiA6IChuID0gX19QUklWQVRFX2NvbXBhcmVCeXRlQXJyYXlzKGUuZGlyZWN0aW9uYWxWYWx1ZSwgdC5kaXJlY3Rpb25hbFZhbHVlKSwgXG4gICAgMCAhPT0gbiA/IG4gOiBEb2N1bWVudEtleS5jb21wYXJhdG9yKGUuZG9jdW1lbnRLZXksIHQuZG9jdW1lbnRLZXkpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlQnl0ZUFycmF5cyhlLCB0KSB7XG4gICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLmxlbmd0aCAmJiBuIDwgdC5sZW5ndGg7ICsrbikge1xuICAgICAgICBjb25zdCByID0gZVtuXSAtIHRbbl07XG4gICAgICAgIGlmICgwICE9PSByKSByZXR1cm4gcjtcbiAgICB9XG4gICAgcmV0dXJuIGUubGVuZ3RoIC0gdC5sZW5ndGg7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgbGlnaHQgcXVlcnkgcGxhbm5lciBmb3IgRmlyZXN0b3JlLlxuICpcbiAqIFRoaXMgY2xhc3MgbWF0Y2hlcyBhIGBGaWVsZEluZGV4YCBhZ2FpbnN0IGEgRmlyZXN0b3JlIFF1ZXJ5IGBUYXJnZXRgLiBJdFxuICogZGV0ZXJtaW5lcyB3aGV0aGVyIGEgZ2l2ZW4gaW5kZXggY2FuIGJlIHVzZWQgdG8gc2VydmUgdGhlIHNwZWNpZmllZCB0YXJnZXQuXG4gKlxuICogVGhlIGZvbGxvd2luZyB0YWJsZSBzaG93Y2FzZXMgc29tZSBwb3NzaWJsZSBpbmRleCBjb25maWd1cmF0aW9uczpcbiAqXG4gKiBRdWVyeSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfCBJbmRleFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIHdoZXJlKCdhJywgJz09JywgJ2EnKS53aGVyZSgnYicsICc9PScsICdiJykgICAgICAgICB8IGEgQVNDLCBiIERFU0NcbiAqIHdoZXJlKCdhJywgJz09JywgJ2EnKS53aGVyZSgnYicsICc9PScsICdiJykgICAgICAgICB8IGEgQVNDXG4gKiB3aGVyZSgnYScsICc9PScsICdhJykud2hlcmUoJ2InLCAnPT0nLCAnYicpICAgICAgICAgfCBiIERFU0NcbiAqIHdoZXJlKCdhJywgJz49JywgJ2EnKS5vcmRlckJ5KCdhJykgICAgICAgICAgICAgICAgICB8IGEgQVNDXG4gKiB3aGVyZSgnYScsICc+PScsICdhJykub3JkZXJCeSgnYScsICdkZXNjJykgICAgICAgICAgfCBhIERFU0NcbiAqIHdoZXJlKCdhJywgJz49JywgJ2EnKS5vcmRlckJ5KCdhJykub3JkZXJCeSgnYicpICAgICB8IGEgQVNDLCBiIEFTQ1xuICogd2hlcmUoJ2EnLCAnPj0nLCAnYScpLm9yZGVyQnkoJ2EnKS5vcmRlckJ5KCdiJykgICAgIHwgYSBBU0NcbiAqIHdoZXJlKCdhJywgJ2FycmF5LWNvbnRhaW5zJywgJ2EnKS5vcmRlckJ5KCdiJykgICAgICB8IGEgQ09OVEFJTlMsIGIgQVNDRU5ESU5HXG4gKiB3aGVyZSgnYScsICdhcnJheS1jb250YWlucycsICdhJykub3JkZXJCeSgnYicpICAgICAgfCBhIENPTlRBSU5TXG4gKi8gY2xhc3MgX19QUklWQVRFX1RhcmdldEluZGV4TWF0Y2hlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICAvLyBUaGUgaW5lcXVhbGl0eSBmaWx0ZXJzIG9mIHRoZSB0YXJnZXQgKGlmIGl0IGV4aXN0cykuXG4gICAgICAgIC8vIE5vdGU6IFRoZSBzb3J0IG9uIEZpZWxkRmlsdGVycyBpcyBub3QgcmVxdWlyZWQuIFVzaW5nIFNvcnRlZFNldCBoZXJlIGp1c3QgdG8gdXRpbGl6ZSB0aGUgY3VzdG9tXG4gICAgICAgIC8vIGNvbXBhcmF0b3IuXG4gICAgICAgIHRoaXMuWXQgPSBuZXcgU29ydGVkU2V0KCgoZSwgdCkgPT4gRmllbGRQYXRoJDEuY29tcGFyYXRvcihlLmZpZWxkLCB0LmZpZWxkKSkpLCB0aGlzLmNvbGxlY3Rpb25JZCA9IG51bGwgIT0gZS5jb2xsZWN0aW9uR3JvdXAgPyBlLmNvbGxlY3Rpb25Hcm91cCA6IGUucGF0aC5sYXN0U2VnbWVudCgpLCBcbiAgICAgICAgdGhpcy5adCA9IGUub3JkZXJCeSwgdGhpcy5YdCA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5maWx0ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdDtcbiAgICAgICAgICAgIGUuaXNJbmVxdWFsaXR5KCkgPyB0aGlzLll0ID0gdGhpcy5ZdC5hZGQoZSkgOiB0aGlzLlh0LnB1c2goZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVuKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ZdC5zaXplID4gMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBpbmRleCBjYW4gYmUgdXNlZCB0byBzZXJ2ZSB0aGUgVGFyZ2V0SW5kZXhNYXRjaGVyJ3NcbiAgICAgKiB0YXJnZXQuXG4gICAgICpcbiAgICAgKiBBbiBpbmRleCBpcyBjb25zaWRlcmVkIGNhcGFibGUgb2Ygc2VydmluZyB0aGUgdGFyZ2V0IHdoZW46XG4gICAgICogLSBUaGUgdGFyZ2V0IHVzZXMgYWxsIGluZGV4IHNlZ21lbnRzIGZvciBpdHMgZmlsdGVycyBhbmQgb3JkZXJCeSBjbGF1c2VzLlxuICAgICAqICAgVGhlIHRhcmdldCBjYW4gaGF2ZSBhZGRpdGlvbmFsIGZpbHRlciBhbmQgb3JkZXJCeSBjbGF1c2VzLCBidXQgbm90XG4gICAgICogICBmZXdlci5cbiAgICAgKiAtIElmIGFuIEFycmF5Q29udGFpbnMvQXJyYXlDb250YWluc0FueWZpbHRlciBpcyB1c2VkLCB0aGUgaW5kZXggbXVzdCBhbHNvXG4gICAgICogICBoYXZlIGEgY29ycmVzcG9uZGluZyBgQ09OVEFJTlNgIHNlZ21lbnQuXG4gICAgICogLSBBbGwgZGlyZWN0aW9uYWwgaW5kZXggc2VnbWVudHMgY2FuIGJlIG1hcHBlZCB0byB0aGUgdGFyZ2V0IGFzIGEgc2VyaWVzIG9mXG4gICAgICogICBlcXVhbGl0eSBmaWx0ZXJzLCBhIHNpbmdsZSBpbmVxdWFsaXR5IGZpbHRlciBhbmQgYSBzZXJpZXMgb2Ygb3JkZXJCeVxuICAgICAqICAgY2xhdXNlcy5cbiAgICAgKiAtIFRoZSBzZWdtZW50cyB0aGF0IHJlcHJlc2VudCB0aGUgZXF1YWxpdHkgZmlsdGVycyBtYXkgYXBwZWFyIG91dCBvZiBvcmRlci5cbiAgICAgKiAtIFRoZSBvcHRpb25hbCBzZWdtZW50IGZvciB0aGUgaW5lcXVhbGl0eSBmaWx0ZXIgbXVzdCBhcHBlYXIgYWZ0ZXIgYWxsXG4gICAgICogICBlcXVhbGl0eSBzZWdtZW50cy5cbiAgICAgKiAtIFRoZSBzZWdtZW50cyB0aGF0IHJlcHJlc2VudCB0aGF0IG9yZGVyQnkgY2xhdXNlIG9mIHRoZSB0YXJnZXQgbXVzdCBhcHBlYXJcbiAgICAgKiAgIGluIG9yZGVyIGFmdGVyIGFsbCBlcXVhbGl0eSBhbmQgaW5lcXVhbGl0eSBzZWdtZW50cy4gU2luZ2xlIG9yZGVyQnlcbiAgICAgKiAgIGNsYXVzZXMgY2Fubm90IGJlIHNraXBwZWQsIGJ1dCBhIGNvbnRpbnVvdXMgb3JkZXJCeSBzdWZmaXggbWF5IGJlXG4gICAgICogICBvbWl0dGVkLlxuICAgICAqLyAgICB0bihlKSB7XG4gICAgICAgIGlmIChfX1BSSVZBVEVfaGFyZEFzc2VydChlLmNvbGxlY3Rpb25Hcm91cCA9PT0gdGhpcy5jb2xsZWN0aW9uSWQpLCB0aGlzLmVuKSBcbiAgICAgICAgLy8gT25seSBzaW5nbGUgaW5lcXVhbGl0eSBpcyBzdXBwb3J0ZWQgZm9yIG5vdy5cbiAgICAgICAgLy8gVE9ETyhBZGQgc3VwcG9ydCBmb3IgbXVsdGlwbGUgaW5lcXVhbGl0eSBxdWVyeSk6IGIvMjk4NDQxMDQzXG4gICAgICAgIHJldHVybiAhMTtcbiAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gYXJyYXkgZWxlbWVudCwgZmluZCBhIG1hdGNoaW5nIGZpbHRlci5cbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2ZpZWxkSW5kZXhHZXRBcnJheVNlZ21lbnQoZSk7XG4gICAgICAgIGlmICh2b2lkIDAgIT09IHQgJiYgIXRoaXMubm4odCkpIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyhlKTtcbiAgICAgICAgbGV0IHIgPSBuZXcgU2V0LCBpID0gMCwgcyA9IDA7XG4gICAgICAgIC8vIFByb2Nlc3MgYWxsIGVxdWFsaXRpZXMgZmlyc3QuIEVxdWFsaXRpZXMgY2FuIGFwcGVhciBvdXQgb2Ygb3JkZXIuXG4gICAgICAgIGZvciAoO2kgPCBuLmxlbmd0aCAmJiB0aGlzLm5uKG5baV0pOyArK2kpIHIgPSByLmFkZChuW2ldLmZpZWxkUGF0aC5jYW5vbmljYWxTdHJpbmcoKSk7XG4gICAgICAgIC8vIElmIHdlIGFscmVhZHkgaGF2ZSBwcm9jZXNzZWQgYWxsIHNlZ21lbnRzLCBhbGwgc2VnbWVudHMgYXJlIHVzZWQgdG8gc2VydmVcbiAgICAgICAgLy8gdGhlIGVxdWFsaXR5IGZpbHRlcnMgYW5kIHdlIGRvIG5vdCBuZWVkIHRvIG1hcCBhbnkgc2VnbWVudHMgdG8gdGhlXG4gICAgICAgIC8vIHRhcmdldCdzIGluZXF1YWxpdHkgYW5kIG9yZGVyQnkgY2xhdXNlcy5cbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gbi5sZW5ndGgpIHJldHVybiAhMDtcbiAgICAgICAgaWYgKHRoaXMuWXQuc2l6ZSA+IDApIHtcbiAgICAgICAgICAgIC8vIE9ubHkgYSBzaW5nbGUgaW5lcXVhbGl0eSBpcyBjdXJyZW50bHkgc3VwcG9ydGVkLiBHZXQgdGhlIG9ubHkgZW50cnkgaW4gdGhlIHNldC5cbiAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLll0LmdldEl0ZXJhdG9yKCkuZ2V0TmV4dCgpO1xuICAgICAgICAgICAgLy8gSWYgdGhlcmUgaXMgYW4gaW5lcXVhbGl0eSBmaWx0ZXIgYW5kIHRoZSBmaWVsZCB3YXMgbm90IGluIG9uZSBvZiB0aGVcbiAgICAgICAgICAgIC8vIGVxdWFsaXR5IGZpbHRlcnMgYWJvdmUsIHRoZSBuZXh0IHNlZ21lbnQgbXVzdCBtYXRjaCBib3RoIHRoZSBmaWx0ZXJcbiAgICAgICAgICAgIC8vIGFuZCB0aGUgZmlyc3Qgb3JkZXJCeSBjbGF1c2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXIuaGFzKGUuZmllbGQuY2Fub25pY2FsU3RyaW5nKCkpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IG5baV07XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnJuKGUsIHQpIHx8ICF0aGlzLnNuKHRoaXMuWnRbcysrXSwgdCkpIHJldHVybiAhMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICsraTtcbiAgICAgICAgfVxuICAgICAgICAvLyBBbGwgcmVtYWluaW5nIHNlZ21lbnRzIG5lZWQgdG8gcmVwcmVzZW50IHRoZSBwcmVmaXggb2YgdGhlIHRhcmdldCdzXG4gICAgICAgIC8vIG9yZGVyQnkuXG4gICAgICAgICAgICAgICAgZm9yICg7aSA8IG4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuW2ldO1xuICAgICAgICAgICAgaWYgKHMgPj0gdGhpcy5adC5sZW5ndGggfHwgIXRoaXMuc24odGhpcy5adFtzKytdLCBlKSkgcmV0dXJuICExO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bGwgbWF0Y2hlZCBmaWVsZCBpbmRleCBmb3IgdGhpcyB0YXJnZXQuIEN1cnJlbnRseSBtdWx0aXBsZVxuICAgICAqIGluZXF1YWxpdHkgcXVlcnkgaXMgbm90IHN1cHBvcnRlZCBzbyBmdW5jdGlvbiByZXR1cm5zIG51bGwuXG4gICAgICovICAgIG9uKCkge1xuICAgICAgICBpZiAodGhpcy5lbikgcmV0dXJuIG51bGw7XG4gICAgICAgIC8vIFdlIHdhbnQgdG8gbWFrZSBzdXJlIG9ubHkgb25lIHNlZ21lbnQgY3JlYXRlZCBmb3Igb25lIGZpZWxkLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgLy8gaW4gY2FzZSBsaWtlIGEgPT0gMyBhbmQgYSA+IDIsIEluZGV4IHthIEFTQ0VORElOR30gd2lsbCBvbmx5IGJlIGNyZWF0ZWRcbiAgICAgICAgLy8gb25jZS5cbiAgICAgICAgICAgICAgICBsZXQgZSA9IG5ldyBTb3J0ZWRTZXQoRmllbGRQYXRoJDEuY29tcGFyYXRvcik7XG4gICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIHRoaXMuWHQpIHtcbiAgICAgICAgICAgIGlmIChuLmZpZWxkLmlzS2V5RmllbGQoKSkgY29udGludWU7XG4gICAgICAgICAgICBpZiAoXCJhcnJheS1jb250YWluc1wiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TICovID09PSBuLm9wIHx8IFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovID09PSBuLm9wKSB0LnB1c2gobmV3IEluZGV4U2VnbWVudChuLmZpZWxkLCAyIC8qIEluZGV4S2luZC5DT05UQUlOUyAqLykpOyBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5oYXMobi5maWVsZCkpIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGUgPSBlLmFkZChuLmZpZWxkKSwgdC5wdXNoKG5ldyBJbmRleFNlZ21lbnQobi5maWVsZCwgMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gTm90ZTogV2UgZG8gbm90IGV4cGxpY2l0bHkgY2hlY2sgYHRoaXMuaW5lcXVhbGl0eUZpbHRlcmAgYnV0IHJhdGhlciByZWx5XG4gICAgICAgIC8vIG9uIHRoZSB0YXJnZXQgZGVmaW5pbmcgYW4gYXBwcm9wcmlhdGUgXCJvcmRlciBieVwiIHRvIGVuc3VyZSB0aGF0IHRoZVxuICAgICAgICAvLyByZXF1aXJlZCBpbmRleCBzZWdtZW50IGlzIGFkZGVkLiBUaGUgcXVlcnkgZW5naW5lIHdvdWxkIHJlamVjdCBhIHF1ZXJ5XG4gICAgICAgIC8vIHdpdGggYW4gaW5lcXVhbGl0eSBmaWx0ZXIgdGhhdCBsYWNrcyB0aGUgcmVxdWlyZWQgb3JkZXItYnkgY2xhdXNlLlxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiB0aGlzLlp0KSBcbiAgICAgICAgLy8gU3RvcCBhZGRpbmcgbW9yZSBzZWdtZW50cyBpZiB3ZSBzZWUgYSBvcmRlci1ieSBvbiBrZXkuIFR5cGljYWxseSB0aGlzXG4gICAgICAgIC8vIGlzIHRoZSBkZWZhdWx0IGltcGxpY2l0IG9yZGVyLWJ5IHdoaWNoIGlzIGNvdmVyZWQgaW4gdGhlIGluZGV4X2VudHJ5XG4gICAgICAgIC8vIHRhYmxlIGFzIGEgc2VwYXJhdGUgY29sdW1uLiBJZiBpdCBpcyBub3QgdGhlIGRlZmF1bHQgb3JkZXItYnksIHRoZVxuICAgICAgICAvLyBnZW5lcmF0ZWQgaW5kZXggd2lsbCBiZSBtaXNzaW5nIHNvbWUgc2VnbWVudHMgb3B0aW1pemVkIGZvciBvcmRlci1ieXMsXG4gICAgICAgIC8vIHdoaWNoIGlzIHByb2JhYmx5IGZpbmUuXG4gICAgICAgIG4uZmllbGQuaXNLZXlGaWVsZCgpIHx8IGUuaGFzKG4uZmllbGQpIHx8IChlID0gZS5hZGQobi5maWVsZCksIHQucHVzaChuZXcgSW5kZXhTZWdtZW50KG4uZmllbGQsIFwiYXNjXCIgLyogRGlyZWN0aW9uLkFTQ0VORElORyAqLyA9PT0gbi5kaXIgPyAwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8gOiAxIC8qIEluZGV4S2luZC5ERVNDRU5ESU5HICovKSkpO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkSW5kZXgoRmllbGRJbmRleC5VTktOT1dOX0lELCB0aGlzLmNvbGxlY3Rpb25JZCwgdCwgSW5kZXhTdGF0ZS5lbXB0eSgpKTtcbiAgICB9XG4gICAgbm4oZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5YdCkgaWYgKHRoaXMucm4odCwgZSkpIHJldHVybiAhMDtcbiAgICAgICAgcmV0dXJuICExO1xuICAgIH1cbiAgICBybihlLCB0KSB7XG4gICAgICAgIGlmICh2b2lkIDAgPT09IGUgfHwgIWUuZmllbGQuaXNFcXVhbCh0LmZpZWxkUGF0aCkpIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgbiA9IFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyA9PT0gZS5vcCB8fCBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyA9PT0gZS5vcDtcbiAgICAgICAgcmV0dXJuIDIgLyogSW5kZXhLaW5kLkNPTlRBSU5TICovID09PSB0LmtpbmQgPT09IG47XG4gICAgfVxuICAgIHNuKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuICEhZS5maWVsZC5pc0VxdWFsKHQuZmllbGRQYXRoKSAmJiAoMCAvKiBJbmRleEtpbmQuQVNDRU5ESU5HICovID09PSB0LmtpbmQgJiYgXCJhc2NcIiAvKiBEaXJlY3Rpb24uQVNDRU5ESU5HICovID09PSBlLmRpciB8fCAxIC8qIEluZGV4S2luZC5ERVNDRU5ESU5HICovID09PSB0LmtpbmQgJiYgXCJkZXNjXCIgLyogRGlyZWN0aW9uLkRFU0NFTkRJTkcgKi8gPT09IGUuZGlyKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFByb3ZpZGVzIHV0aWxpdHkgZnVuY3Rpb25zIHRoYXQgaGVscCB3aXRoIGJvb2xlYW4gbG9naWMgdHJhbnNmb3JtYXRpb25zIG5lZWRlZCBmb3IgaGFuZGxpbmdcbiAqIGNvbXBsZXggZmlsdGVycyB1c2VkIGluIHF1ZXJpZXMuXG4gKi9cbi8qKlxuICogVGhlIGBpbmAgZmlsdGVyIGlzIG9ubHkgYSBzeW50YWN0aWMgc3VnYXIgb3ZlciBhIGRpc2p1bmN0aW9uIG9mIGVxdWFsaXRpZXMuIEZvciBpbnN0YW5jZTogYGEgaW5cbiAqIFsxLDIsM11gIGlzIGluIGZhY3QgYGE9PTEgfHwgYT09MiB8fCBhPT0zYC4gVGhpcyBtZXRob2QgZXhwYW5kcyBhbnkgYGluYCBmaWx0ZXIgaW4gdGhlIGdpdmVuXG4gKiBpbnB1dCBpbnRvIGEgZGlzanVuY3Rpb24gb2YgZXF1YWxpdHkgZmlsdGVycyBhbmQgcmV0dXJucyB0aGUgZXhwYW5kZWQgZmlsdGVyLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wdXRlSW5FeHBhbnNpb24oZSkge1xuICAgIHZhciB0LCBuO1xuICAgIGlmIChfX1BSSVZBVEVfaGFyZEFzc2VydChlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgfHwgZSBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciksIFxuICAgIGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlcikge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9JbkZpbHRlcikge1xuICAgICAgICAgICAgY29uc3QgciA9IChudWxsID09PSAobiA9IG51bGwgPT09ICh0ID0gZS52YWx1ZS5hcnJheVZhbHVlKSB8fCB2b2lkIDAgPT09IHQgPyB2b2lkIDAgOiB0LnZhbHVlcykgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5tYXAoKHQgPT4gRmllbGRGaWx0ZXIuY3JlYXRlKGUuZmllbGQsIFwiPT1cIiAvKiBPcGVyYXRvci5FUVVBTCAqLyAsIHQpKSkpIHx8IFtdO1xuICAgICAgICAgICAgcmV0dXJuIENvbXBvc2l0ZUZpbHRlci5jcmVhdGUociwgXCJvclwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLk9SICovKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSBoYXZlIHJlYWNoZWQgb3RoZXIga2luZHMgb2YgZmllbGQgZmlsdGVycy5cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxuICAgIC8vIFdlIGhhdmUgYSBjb21wb3NpdGUgZmlsdGVyLlxuICAgICAgICBjb25zdCByID0gZS5maWx0ZXJzLm1hcCgoZSA9PiBfX1BSSVZBVEVfY29tcHV0ZUluRXhwYW5zaW9uKGUpKSk7XG4gICAgcmV0dXJuIENvbXBvc2l0ZUZpbHRlci5jcmVhdGUociwgZS5vcCk7XG59XG5cbi8qKlxuICogR2l2ZW4gYSBjb21wb3NpdGUgZmlsdGVyLCByZXR1cm5zIHRoZSBsaXN0IG9mIHRlcm1zIGluIGl0cyBkaXNqdW5jdGl2ZSBub3JtYWwgZm9ybS5cbiAqXG4gKiA8cD5FYWNoIGVsZW1lbnQgaW4gdGhlIHJldHVybiB2YWx1ZSBpcyBvbmUgdGVybSBvZiB0aGUgcmVzdWx0aW5nIERORi4gRm9yIGluc3RhbmNlOiBGb3IgdGhlXG4gKiBpbnB1dDogKEEgfHwgQikgJiYgQywgdGhlIERORiBmb3JtIGlzOiAoQSAmJiBDKSB8fCAoQiAmJiBDKSwgYW5kIHRoZSByZXR1cm4gdmFsdWUgaXMgYSBsaXN0XG4gKiB3aXRoIHR3byBlbGVtZW50czogYSBjb21wb3NpdGUgZmlsdGVyIHRoYXQgcGVyZm9ybXMgKEEgJiYgQyksIGFuZCBhIGNvbXBvc2l0ZSBmaWx0ZXIgdGhhdFxuICogcGVyZm9ybXMgKEIgJiYgQykuXG4gKlxuICogQHBhcmFtIGZpbHRlciB0aGUgY29tcG9zaXRlIGZpbHRlciB0byBjYWxjdWxhdGUgRE5GIHRyYW5zZm9ybSBmb3IuXG4gKiBAcmV0dXJuIHRoZSB0ZXJtcyBpbiB0aGUgRE5GIHRyYW5zZm9ybS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZ2V0RG5mVGVybXMoZSkge1xuICAgIGlmICgwID09PSBlLmdldEZpbHRlcnMoKS5sZW5ndGgpIHJldHVybiBbXTtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2NvbXB1dGVEaXN0cmlidXRlZE5vcm1hbEZvcm0oX19QUklWQVRFX2NvbXB1dGVJbkV4cGFuc2lvbihlKSk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9oYXJkQXNzZXJ0KF9fUFJJVkFURV9pc0Rpc2p1bmN0aXZlTm9ybWFsRm9ybSh0KSksIF9fUFJJVkFURV9pc1NpbmdsZUZpZWxkRmlsdGVyKHQpIHx8IF9fUFJJVkFURV9pc0ZsYXRDb25qdW5jdGlvbih0KSA/IFsgdCBdIDogdC5nZXRGaWx0ZXJzKCk7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGZpbHRlciBpcyBhIHNpbmdsZSBmaWVsZCBmaWx0ZXIuIGUuZy4gKGEgPT0gMTApLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNTaW5nbGVGaWVsZEZpbHRlcihlKSB7XG4gICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlcjtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGZpbHRlciBpcyB0aGUgY29uanVuY3Rpb24gb2Ygb25lIG9yIG1vcmUgZmllbGQgZmlsdGVycy4gZS5nLiAoYSA9PSAxMFxuICogJiYgYiA9PSAyMClcbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaXNGbGF0Q29uanVuY3Rpb24oZSkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyICYmIF9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0ZsYXRDb25qdW5jdGlvbihlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBnaXZlbiBmaWx0ZXIgaXMgaW4gZGlzanVuY3RpdmUgbm9ybWFsIGZvcm0gKERORikuXG4gKlxuICogPHA+SW4gYm9vbGVhbiBsb2dpYywgYSBkaXNqdW5jdGl2ZSBub3JtYWwgZm9ybSAoRE5GKSBpcyBhIGNhbm9uaWNhbCBub3JtYWwgZm9ybSBvZiBhIGxvZ2ljYWxcbiAqIGZvcm11bGEgY29uc2lzdGluZyBvZiBhIGRpc2p1bmN0aW9uIG9mIGNvbmp1bmN0aW9uczsgaXQgY2FuIGFsc28gYmUgZGVzY3JpYmVkIGFzIGFuIE9SIG9mIEFORHMuXG4gKlxuICogPHA+Rm9yIG1vcmUgaW5mbywgdmlzaXQ6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Rpc2p1bmN0aXZlX25vcm1hbF9mb3JtXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2lzRGlzanVuY3RpdmVOb3JtYWxGb3JtKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2lzU2luZ2xlRmllbGRGaWx0ZXIoZSkgfHwgX19QUklWQVRFX2lzRmxhdENvbmp1bmN0aW9uKGUpIHx8IFxuICAgIC8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBmaWx0ZXIgaXMgdGhlIGRpc2p1bmN0aW9uIG9mIG9uZSBvciBtb3JlIFwiZmxhdCBjb25qdW5jdGlvbnNcIiBhbmRcbiAqIGZpZWxkIGZpbHRlcnMuIGUuZy4gKGEgPT0gMTApIHx8IChiPT0yMCAmJiBjPT0zMClcbiAqL1xuICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9pc0Rpc2p1bmN0aW9uT2ZGaWVsZEZpbHRlcnNBbmRGbGF0Q29uanVuY3Rpb25zKGUpIHtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIgJiYgX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRGlzanVuY3Rpb24oZSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBlLmdldEZpbHRlcnMoKSkgaWYgKCFfX1BSSVZBVEVfaXNTaW5nbGVGaWVsZEZpbHRlcih0KSAmJiAhX19QUklWQVRFX2lzRmxhdENvbmp1bmN0aW9uKHQpKSByZXR1cm4gITE7XG4gICAgICAgICAgICByZXR1cm4gITA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICExO1xuICAgIH0oZSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jb21wdXRlRGlzdHJpYnV0ZWROb3JtYWxGb3JtKGUpIHtcbiAgICBpZiAoX19QUklWQVRFX2hhcmRBc3NlcnQoZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyIHx8IGUgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpLCBcbiAgICBlIGluc3RhbmNlb2YgRmllbGRGaWx0ZXIpIHJldHVybiBlO1xuICAgIGlmICgxID09PSBlLmZpbHRlcnMubGVuZ3RoKSByZXR1cm4gX19QUklWQVRFX2NvbXB1dGVEaXN0cmlidXRlZE5vcm1hbEZvcm0oZS5maWx0ZXJzWzBdKTtcbiAgICAvLyBDb21wdXRlIERORiBmb3IgZWFjaCBvZiB0aGUgc3ViZmlsdGVycyBmaXJzdFxuICAgICAgICBjb25zdCB0ID0gZS5maWx0ZXJzLm1hcCgoZSA9PiBfX1BSSVZBVEVfY29tcHV0ZURpc3RyaWJ1dGVkTm9ybWFsRm9ybShlKSkpO1xuICAgIGxldCBuID0gQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZSh0LCBlLm9wKTtcbiAgICByZXR1cm4gbiA9IF9fUFJJVkFURV9hcHBseUFzc29jaWF0aW9uKG4pLCBfX1BSSVZBVEVfaXNEaXNqdW5jdGl2ZU5vcm1hbEZvcm0obikgPyBuIDogKF9fUFJJVkFURV9oYXJkQXNzZXJ0KG4gaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpLCBcbiAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNDb25qdW5jdGlvbihuKSksIF9fUFJJVkFURV9oYXJkQXNzZXJ0KG4uZmlsdGVycy5sZW5ndGggPiAxKSwgXG4gICAgbi5maWx0ZXJzLnJlZHVjZSgoKGUsIHQpID0+IF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbihlLCB0KSkpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5RGlzdHJpYnV0aW9uKGUsIHQpIHtcbiAgICBsZXQgbjtcbiAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQoZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyIHx8IGUgaW5zdGFuY2VvZiBDb21wb3NpdGVGaWx0ZXIpLCBcbiAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCh0IGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgfHwgdCBpbnN0YW5jZW9mIENvbXBvc2l0ZUZpbHRlciksIFxuICAgIC8vIEZpZWxkRmlsdGVyIEZpZWxkRmlsdGVyXG4gICAgbiA9IGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciA/IHQgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciA/IGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbkZpZWxkRmlsdGVycyhlLCB0KSB7XG4gICAgICAgIC8vIENvbmp1bmN0aW9uIGRpc3RyaWJ1dGlvbiBmb3IgdHdvIGZpZWxkIGZpbHRlcnMgaXMgdGhlIGNvbmp1bmN0aW9uIG9mIHRoZW0uXG4gICAgICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKFsgZSwgdCBdLCBcImFuZFwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLkFORCAqLyk7XG4gICAgfShlLCB0KSA6IF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbkZpZWxkQW5kQ29tcG9zaXRlRmlsdGVycyhlLCB0KSA6IHQgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciA/IF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbkZpZWxkQW5kQ29tcG9zaXRlRmlsdGVycyh0LCBlKSA6IGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbkNvbXBvc2l0ZUZpbHRlcnMoZSwgdCkge1xuICAgICAgICAvLyBUaGVyZSBhcmUgZm91ciBjYXNlczpcbiAgICAgICAgLy8gKEEgJiBCKSAmIChDICYgRCkgLS0+IChBICYgQiAmIEMgJiBEKVxuICAgICAgICAvLyAoQSAmIEIpICYgKEMgfCBEKSAtLT4gKEEgJiBCICYgQykgfCAoQSAmIEIgJiBEKVxuICAgICAgICAvLyAoQSB8IEIpICYgKEMgJiBEKSAtLT4gKEMgJiBEICYgQSkgfCAoQyAmIEQgJiBCKVxuICAgICAgICAvLyAoQSB8IEIpICYgKEMgfCBEKSAtLT4gKEEgJiBDKSB8IChBICYgRCkgfCAoQiAmIEMpIHwgKEIgJiBEKVxuICAgICAgICAvLyBDYXNlIDEgaXMgYSBtZXJnZS5cbiAgICAgICAgaWYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUuZmlsdGVycy5sZW5ndGggPiAwICYmIHQuZmlsdGVycy5sZW5ndGggPiAwKSwgX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24oZSkgJiYgX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24odCkpIHJldHVybiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVyV2l0aEFkZGVkRmlsdGVycyhlLCB0LmdldEZpbHRlcnMoKSk7XG4gICAgICAgIC8vIENhc2UgMiwzLDQgYWxsIGhhdmUgYXQgbGVhc3Qgb25lIHNpZGUgKGxocyBvciByaHMpIHRoYXQgaXMgYSBkaXNqdW5jdGlvbi4gSW4gYWxsIHRocmVlIGNhc2VzXG4gICAgICAgIC8vIHdlIHNob3VsZCB0YWtlIGVhY2ggZWxlbWVudCBvZiB0aGUgZGlzanVuY3Rpb24gYW5kIGRpc3RyaWJ1dGUgaXQgb3ZlciB0aGUgb3RoZXIgc2lkZSwgYW5kXG4gICAgICAgIC8vIHJldHVybiB0aGUgZGlzanVuY3Rpb24gb2YgdGhlIGRpc3RyaWJ1dGlvbiByZXN1bHRzLlxuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNEaXNqdW5jdGlvbihlKSA/IGUgOiB0LCByID0gX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRGlzanVuY3Rpb24oZSkgPyB0IDogZSwgaSA9IG4uZmlsdGVycy5tYXAoKGUgPT4gX19QUklWQVRFX2FwcGx5RGlzdHJpYnV0aW9uKGUsIHIpKSk7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKGksIFwib3JcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5PUiAqLyk7XG4gICAgfShlLCB0KSwgX19QUklWQVRFX2FwcGx5QXNzb2NpYXRpb24obik7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbkZpZWxkQW5kQ29tcG9zaXRlRmlsdGVycyhlLCB0KSB7XG4gICAgLy8gVGhlcmUgYXJlIHR3byBjYXNlczpcbiAgICAvLyBBICYgKEIgJiBDKSAtLT4gKEEgJiBCICYgQylcbiAgICAvLyBBICYgKEIgfCBDKSAtLT4gKEEgJiBCKSB8IChBICYgQylcbiAgICBpZiAoX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzQ29uanVuY3Rpb24odCkpIFxuICAgIC8vIENhc2UgMVxuICAgIHJldHVybiBfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVyV2l0aEFkZGVkRmlsdGVycyh0LCBlLmdldEZpbHRlcnMoKSk7XG4gICAge1xuICAgICAgICAvLyBDYXNlIDJcbiAgICAgICAgY29uc3QgbiA9IHQuZmlsdGVycy5tYXAoKHQgPT4gX19QUklWQVRFX2FwcGx5RGlzdHJpYnV0aW9uKGUsIHQpKSk7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVGaWx0ZXIuY3JlYXRlKG4sIFwib3JcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5PUiAqLyk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFwcGxpZXMgdGhlIGFzc29jaWF0aXZpdHkgcHJvcGVydHkgdG8gdGhlIGdpdmVuIGZpbHRlciBhbmQgcmV0dXJucyB0aGUgcmVzdWx0aW5nIGZpbHRlci5cbiAqXG4gKiA8dWw+XG4gKiAgIDxsaT5BIHwgKEIgfCBDKSA9PSAoQSB8IEIpIHwgQyA9PSAoQSB8IEIgfCBDKVxuICogICA8bGk+QSAmIChCICYgQykgPT0gKEEgJiBCKSAmIEMgPT0gKEEgJiBCICYgQylcbiAqIDwvdWw+XG4gKlxuICogPHA+Rm9yIG1vcmUgaW5mbywgdmlzaXQ6IGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Fzc29jaWF0aXZlX3Byb3BlcnR5I1Byb3Bvc2l0aW9uYWxfbG9naWNcbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYXBwbHlBc3NvY2lhdGlvbihlKSB7XG4gICAgaWYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciB8fCBlIGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyKSwgXG4gICAgZSBpbnN0YW5jZW9mIEZpZWxkRmlsdGVyKSByZXR1cm4gZTtcbiAgICBjb25zdCB0ID0gZS5nZXRGaWx0ZXJzKCk7XG4gICAgLy8gSWYgdGhlIGNvbXBvc2l0ZSBmaWx0ZXIgb25seSBjb250YWlucyAxIGZpbHRlciwgYXBwbHkgYXNzb2NpYXRpdml0eSB0byBpdC5cbiAgICAgICAgaWYgKDEgPT09IHQubGVuZ3RoKSByZXR1cm4gX19QUklWQVRFX2FwcGx5QXNzb2NpYXRpb24odFswXSk7XG4gICAgLy8gQXNzb2NpYXRpdml0eSBhcHBsaWVkIHRvIGEgZmxhdCBjb21wb3NpdGUgZmlsdGVyIHJlc3VsdHMgaXMgaXRzZWxmLlxuICAgICAgICBpZiAoX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRmxhdChlKSkgcmV0dXJuIGU7XG4gICAgLy8gRmlyc3QgYXBwbHkgYXNzb2NpYXRpdml0eSB0byBhbGwgc3ViZmlsdGVycy4gVGhpcyB3aWxsIGluIHR1cm4gcmVjdXJzaXZlbHkgYXBwbHlcbiAgICAvLyBhc3NvY2lhdGl2aXR5IHRvIGFsbCBuZXN0ZWQgY29tcG9zaXRlIGZpbHRlcnMgYW5kIGZpZWxkIGZpbHRlcnMuXG4gICAgICAgIGNvbnN0IG4gPSB0Lm1hcCgoZSA9PiBfX1BSSVZBVEVfYXBwbHlBc3NvY2lhdGlvbihlKSkpLCByID0gW107XG4gICAgLy8gRm9yIGNvbXBvc2l0ZSBzdWJmaWx0ZXJzIHRoYXQgcGVyZm9ybSB0aGUgc2FtZSBraW5kIG9mIGxvZ2ljYWwgb3BlcmF0aW9uIGFzIGBjb21wb3NpdGVGaWx0ZXJgXG4gICAgLy8gdGFrZSBvdXQgdGhlaXIgZmlsdGVycyBhbmQgYWRkIHRoZW0gdG8gYGNvbXBvc2l0ZUZpbHRlcmAuIEZvciBleGFtcGxlOlxuICAgIC8vIGNvbXBvc2l0ZUZpbHRlciA9IChBIHwgKEIgfCBDIHwgRCkpXG4gICAgLy8gY29tcG9zaXRlU3ViZmlsdGVyID0gKEIgfCBDIHwgRClcbiAgICAvLyBSZXN1bHQ6IChBIHwgQiB8IEMgfCBEKVxuICAgIC8vIE5vdGUgdGhhdCB0aGUgYGNvbXBvc2l0ZVN1YmZpbHRlcmAgaGFzIGJlZW4gZWxpbWluYXRlZCwgYW5kIGl0cyBmaWx0ZXJzIChCLCBDLCBEKSBoYXZlIGJlZW5cbiAgICAvLyBhZGRlZCB0byB0aGUgdG9wLWxldmVsIFwiY29tcG9zaXRlRmlsdGVyXCIuXG4gICAgICAgIHJldHVybiBuLmZvckVhY2goKHQgPT4ge1xuICAgICAgICB0IGluc3RhbmNlb2YgRmllbGRGaWx0ZXIgPyByLnB1c2godCkgOiB0IGluc3RhbmNlb2YgQ29tcG9zaXRlRmlsdGVyICYmICh0Lm9wID09PSBlLm9wID8gXG4gICAgICAgIC8vIGNvbXBvc2l0ZUZpbHRlcjogKEEgfCAoQiB8IEMpKVxuICAgICAgICAvLyBjb21wb3NpdGVTdWJmaWx0ZXI6IChCIHwgQylcbiAgICAgICAgLy8gUmVzdWx0OiAoQSB8IEIgfCBDKVxuICAgICAgICByLnB1c2goLi4udC5maWx0ZXJzKSA6IFxuICAgICAgICAvLyBjb21wb3NpdGVGaWx0ZXI6IChBIHwgKEIgJiBDKSlcbiAgICAgICAgLy8gY29tcG9zaXRlU3ViZmlsdGVyOiAoQiAmIEMpXG4gICAgICAgIC8vIFJlc3VsdDogKEEgfCAoQiAmIEMpKVxuICAgICAgICByLnB1c2godCkpO1xuICAgIH0pKSwgMSA9PT0gci5sZW5ndGggPyByWzBdIDogQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShyLCBlLm9wKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gaW4tbWVtb3J5IGltcGxlbWVudGF0aW9uIG9mIEluZGV4TWFuYWdlci5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTWVtb3J5SW5kZXhNYW5hZ2VyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5fbiA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5Q29sbGVjdGlvblBhcmVudEluZGV4O1xuICAgIH1cbiAgICBhZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9uLmFkZCh0KSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0Q29sbGVjdGlvblBhcmVudHMoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5fbi5nZXRFbnRyaWVzKHQpKTtcbiAgICB9XG4gICAgYWRkRmllbGRJbmRleChlLCB0KSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBkZWxldGVGaWVsZEluZGV4KGUsIHQpIHtcbiAgICAgICAgLy8gRmllbGQgaW5kaWNlcyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIG1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGRlbGV0ZUFsbEZpZWxkSW5kZXhlcyhlKSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBjcmVhdGVUYXJnZXRJbmRleGVzKGUsIHQpIHtcbiAgICAgICAgLy8gRmllbGQgaW5kaWNlcyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIG1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgLy8gRmllbGQgaW5kaWNlcyBhcmUgbm90IHN1cHBvcnRlZCB3aXRoIG1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH1cbiAgICBnZXRJbmRleFR5cGUoZSwgdCkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoMCAvKiBJbmRleFR5cGUuTk9ORSAqLyk7XG4gICAgfVxuICAgIGdldEZpZWxkSW5kZXhlcyhlLCB0KSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShbXSk7XG4gICAgfVxuICAgIGdldE5leHRDb2xsZWN0aW9uR3JvdXBUb1VwZGF0ZShlKSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICB9XG4gICAgZ2V0TWluT2Zmc2V0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKEluZGV4T2Zmc2V0Lm1pbigpKTtcbiAgICB9XG4gICAgZ2V0TWluT2Zmc2V0RnJvbUNvbGxlY3Rpb25Hcm91cChlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShJbmRleE9mZnNldC5taW4oKSk7XG4gICAgfVxuICAgIHVwZGF0ZUNvbGxlY3Rpb25Hcm91cChlLCB0LCBuKSB7XG4gICAgICAgIC8vIEZpZWxkIGluZGljZXMgYXJlIG5vdCBzdXBwb3J0ZWQgd2l0aCBtZW1vcnkgcGVyc2lzdGVuY2UuXG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICB1cGRhdGVJbmRleEVudHJpZXMoZSwgdCkge1xuICAgICAgICAvLyBGaWVsZCBpbmRpY2VzIGFyZSBub3Qgc3VwcG9ydGVkIHdpdGggbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW50ZXJuYWwgaW1wbGVtZW50YXRpb24gb2YgdGhlIGNvbGxlY3Rpb24tcGFyZW50IGluZGV4IGV4cG9zZWQgYnkgTWVtb3J5SW5kZXhNYW5hZ2VyLlxuICogQWxzbyB1c2VkIGZvciBpbi1tZW1vcnkgY2FjaGluZyBieSBJbmRleGVkRGJJbmRleE1hbmFnZXIgYW5kIGluaXRpYWwgaW5kZXggcG9wdWxhdGlvblxuICogaW4gaW5kZXhlZGRiX3NjaGVtYS50c1xuICovIGNsYXNzIF9fUFJJVkFURV9NZW1vcnlDb2xsZWN0aW9uUGFyZW50SW5kZXgge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmluZGV4ID0ge307XG4gICAgfVxuICAgIC8vIFJldHVybnMgZmFsc2UgaWYgdGhlIGVudHJ5IGFscmVhZHkgZXhpc3RlZC5cbiAgICBhZGQoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5sYXN0U2VnbWVudCgpLCBuID0gZS5wb3BMYXN0KCksIHIgPSB0aGlzLmluZGV4W3RdIHx8IG5ldyBTb3J0ZWRTZXQoUmVzb3VyY2VQYXRoLmNvbXBhcmF0b3IpLCBpID0gIXIuaGFzKG4pO1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleFt0XSA9IHIuYWRkKG4pLCBpO1xuICAgIH1cbiAgICBoYXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5sYXN0U2VnbWVudCgpLCBuID0gZS5wb3BMYXN0KCksIHIgPSB0aGlzLmluZGV4W3RdO1xuICAgICAgICByZXR1cm4gciAmJiByLmhhcyhuKTtcbiAgICB9XG4gICAgZ2V0RW50cmllcyhlKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5pbmRleFtlXSB8fCBuZXcgU29ydGVkU2V0KFJlc291cmNlUGF0aC5jb21wYXJhdG9yKSkudG9BcnJheSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY29uc3QgZGUgPSBuZXcgVWludDhBcnJheSgwKTtcblxuLyoqXG4gKiBBIHBlcnNpc3RlZCBpbXBsZW1lbnRhdGlvbiBvZiBJbmRleE1hbmFnZXIuXG4gKlxuICogUE9SVElORyBOT1RFOiBVbmxpa2UgaU9TIGFuZCBBbmRyb2lkLCB0aGUgV2ViIFNESyBkb2VzIG5vdCBtZW1vaXplIGluZGV4XG4gKiBkYXRhIGFzIGl0IHN1cHBvcnRzIG11bHRpLXRhYiBhY2Nlc3MuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJJbmRleE1hbmFnZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5kYXRhYmFzZUlkID0gdCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBpbi1tZW1vcnkgY29weSBvZiB0aGUgaW5kZXggZW50cmllcyB3ZSd2ZSBhbHJlYWR5IHdyaXR0ZW4gc2luY2UgdGhlIFNES1xuICAgICAgICAgKiBsYXVuY2hlZC4gVXNlZCB0byBhdm9pZCByZS13cml0aW5nIHRoZSBzYW1lIGVudHJ5IHJlcGVhdGVkbHkuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgaXMgKk5PVCogYSBjb21wbGV0ZSBjYWNoZSBvZiB3aGF0J3MgaW4gcGVyc2lzdGVuY2UgYW5kIHNvIGNhbiBuZXZlciBiZVxuICAgICAgICAgKiB1c2VkIHRvIHNhdGlzZnkgcmVhZHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmFuID0gbmV3IF9fUFJJVkFURV9NZW1vcnlDb2xsZWN0aW9uUGFyZW50SW5kZXgsIFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwcyBmcm9tIGEgdGFyZ2V0IHRvIGl0cyBlcXVpdmFsZW50IGxpc3Qgb2Ygc3ViLXRhcmdldHMuIEVhY2ggc3ViLXRhcmdldFxuICAgICAgICAgKiBjb250YWlucyBvbmx5IG9uZSB0ZXJtIGZyb20gdGhlIHRhcmdldCdzIGRpc2p1bmN0aXZlIG5vcm1hbCBmb3JtIChETkYpLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy51biA9IG5ldyBPYmplY3RNYXAoKGUgPT4gX19QUklWQVRFX2Nhbm9uaWZ5VGFyZ2V0KGUpKSwgKChlLCB0KSA9PiBfX1BSSVZBVEVfdGFyZ2V0RXF1YWxzKGUsIHQpKSksIFxuICAgICAgICB0aGlzLnVpZCA9IGUudWlkIHx8IFwiXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgZW50cnkgdG8gdGhlIGNvbGxlY3Rpb24gcGFyZW50IGluZGV4LlxuICAgICAqXG4gICAgICogUmVwZWF0ZWQgY2FsbHMgZm9yIHRoZSBzYW1lIGNvbGxlY3Rpb25QYXRoIHNob3VsZCBiZSBhdm9pZGVkIHdpdGhpbiBhXG4gICAgICogdHJhbnNhY3Rpb24gYXMgSW5kZXhlZERiSW5kZXhNYW5hZ2VyIG9ubHkgY2FjaGVzIHdyaXRlcyBvbmNlIGEgdHJhbnNhY3Rpb25cbiAgICAgKiBoYXMgYmVlbiBjb21taXR0ZWQuXG4gICAgICovICAgIGFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4KGUsIHQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmFuLmhhcyh0KSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQubGFzdFNlZ21lbnQoKSwgciA9IHQucG9wTGFzdCgpO1xuICAgICAgICAgICAgZS5hZGRPbkNvbW1pdHRlZExpc3RlbmVyKCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBjb2xsZWN0aW9uIHRvIHRoZSBpbiBtZW1vcnkgY2FjaGUgb25seSBpZiB0aGUgdHJhbnNhY3Rpb24gd2FzXG4gICAgICAgICAgICAgICAgLy8gc3VjY2Vzc2Z1bGx5IGNvbW1pdHRlZC5cbiAgICAgICAgICAgICAgICB0aGlzLmFuLmFkZCh0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB7XG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbklkOiBuLFxuICAgICAgICAgICAgICAgIHBhcmVudDogX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfY29sbGVjdGlvblBhcmVudHNTdG9yZShlKS5wdXQoaSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldENvbGxlY3Rpb25QYXJlbnRzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IFtdLCByID0gSURCS2V5UmFuZ2UuYm91bmQoWyB0LCBcIlwiIF0sIFsgX19QUklWQVRFX2ltbWVkaWF0ZVN1Y2Nlc3Nvcih0KSwgXCJcIiBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITEsIFxuICAgICAgICAvKnVwcGVyT3Blbj0qLyAhMCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfY29sbGVjdGlvblBhcmVudHNTdG9yZShlKS5VKHIpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCByIG9mIGUpIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGNvbGxlY3Rpb25JZCBndWFyZCBzaG91bGRuJ3QgYmUgbmVjZXNzYXJ5IChhbmQgaXNuJ3QgYXMgbG9uZ1xuICAgICAgICAgICAgICAgIC8vIGFzIHdlJ3JlIHJ1bm5pbmcgaW4gYSByZWFsIGJyb3dzZXIpLCBidXQgdGhlcmUncyBhIGJ1ZyBpblxuICAgICAgICAgICAgICAgIC8vIGluZGV4ZWRkYnNoaW0gdGhhdCBicmVha3Mgb3VyIHJhbmdlIGluIG91ciB0ZXN0cyBydW5uaW5nIGluIG5vZGU6XG4gICAgICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2F4ZW1jbGlvbi9JbmRleGVkREJTaGltL2lzc3Vlcy8zMzRcbiAgICAgICAgICAgICAgICBpZiAoci5jb2xsZWN0aW9uSWQgIT09IHQpIGJyZWFrO1xuICAgICAgICAgICAgICAgIG4ucHVzaChfX1BSSVZBVEVfZGVjb2RlUmVzb3VyY2VQYXRoKHIucGFyZW50KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhZGRGaWVsZEluZGV4KGUsIHQpIHtcbiAgICAgICAgLy8gVE9ETyhpbmRleGluZyk6IFZlcmlmeSB0aGF0IHRoZSBhdXRvLWluY3JlbWVudGluZyBpbmRleCBJRCB3b3JrcyBpblxuICAgICAgICAvLyBTYWZhcmkgJiBGaXJlZm94LlxuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlKGUpLCByID0gZnVuY3Rpb24gX19QUklWQVRFX3RvRGJJbmRleENvbmZpZ3VyYXRpb24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpbmRleElkOiBlLmluZGV4SWQsXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbkdyb3VwOiBlLmNvbGxlY3Rpb25Hcm91cCxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGUuZmllbGRzLm1hcCgoZSA9PiBbIGUuZmllbGRQYXRoLmNhbm9uaWNhbFN0cmluZygpLCBlLmtpbmQgXSkpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KHQpO1xuICAgICAgICBkZWxldGUgci5pbmRleElkO1xuICAgICAgICAvLyBgaW5kZXhJZGAgaXMgYXV0by1wb3B1bGF0ZWQgYnkgSW5kZXhlZERiXG4gICAgICAgIGNvbnN0IGkgPSBuLmFkZChyKTtcbiAgICAgICAgaWYgKHQuaW5kZXhTdGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9pbmRleFN0YXRlU3RvcmUoZSk7XG4gICAgICAgICAgICByZXR1cm4gaS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBuLnB1dChfX1BSSVZBVEVfdG9EYkluZGV4U3RhdGUoZSwgdGhpcy51aWQsIHQuaW5kZXhTdGF0ZS5zZXF1ZW5jZU51bWJlciwgdC5pbmRleFN0YXRlLm9mZnNldCkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpLm5leHQoKTtcbiAgICB9XG4gICAgZGVsZXRlRmllbGRJbmRleChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhDb25maWd1cmF0aW9uU3RvcmUoZSksIHIgPSBfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlKGUpLCBpID0gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpO1xuICAgICAgICByZXR1cm4gbi5kZWxldGUodC5pbmRleElkKS5uZXh0KCgoKSA9PiByLmRlbGV0ZShJREJLZXlSYW5nZS5ib3VuZChbIHQuaW5kZXhJZCBdLCBbIHQuaW5kZXhJZCArIDEgXSwgXG4gICAgICAgIC8qbG93ZXJPcGVuPSovICExLCBcbiAgICAgICAgLyp1cHBlck9wZW49Ki8gITApKSkpLm5leHQoKCgpID0+IGkuZGVsZXRlKElEQktleVJhbmdlLmJvdW5kKFsgdC5pbmRleElkIF0sIFsgdC5pbmRleElkICsgMSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITEsIFxuICAgICAgICAvKnVwcGVyT3Blbj0qLyAhMCkpKSk7XG4gICAgfVxuICAgIGRlbGV0ZUFsbEZpZWxkSW5kZXhlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfaW5kZXhDb25maWd1cmF0aW9uU3RvcmUoZSksIG4gPSBfX1BSSVZBVEVfaW5kZXhFbnRyaWVzU3RvcmUoZSksIHIgPSBfX1BSSVZBVEVfaW5kZXhTdGF0ZVN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gdC5qKCkubmV4dCgoKCkgPT4gbi5qKCkpKS5uZXh0KCgoKSA9PiByLmooKSkpO1xuICAgIH1cbiAgICBjcmVhdGVUYXJnZXRJbmRleGVzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHRoaXMuY24odCksICh0ID0+IHRoaXMuZ2V0SW5kZXhUeXBlKGUsIHQpLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgaWYgKDAgLyogSW5kZXhUeXBlLk5PTkUgKi8gPT09IG4gfHwgMSAvKiBJbmRleFR5cGUuUEFSVElBTCAqLyA9PT0gbikge1xuICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX1RhcmdldEluZGV4TWF0Y2hlcih0KS5vbigpO1xuICAgICAgICAgICAgICAgIGlmIChudWxsICE9IG4pIHJldHVybiB0aGlzLmFkZEZpZWxkSW5kZXgoZSwgbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSkpO1xuICAgIH1cbiAgICBnZXREb2N1bWVudHNNYXRjaGluZ1RhcmdldChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfaW5kZXhFbnRyaWVzU3RvcmUoZSk7XG4gICAgICAgIGxldCByID0gITA7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgTWFwO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2godGhpcy5jbih0KSwgKHQgPT4gdGhpcy5sbihlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIHIgJiYgKHIgPSAhIWUpLCBpLnNldCh0LCBlKTtcbiAgICAgICAgfSkpKSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2goaSwgKChpLCBzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYkluZGV4TWFuYWdlclwiLCBgVXNpbmcgaW5kZXggJHtmdW5jdGlvbiBfX1BSSVZBVEVfZmllbGRJbmRleFRvU3RyaW5nKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBgaWQ9JHtlLmluZGV4SWR9fGNnPSR7ZS5jb2xsZWN0aW9uR3JvdXB9fGY9JHtlLmZpZWxkcy5tYXAoKGUgPT4gYCR7ZS5maWVsZFBhdGh9OiR7ZS5raW5kfWApKS5qb2luKFwiLFwiKX1gO1xuICAgICAgICAgICAgICAgICAgICB9KGkpfSB0byBleGVjdXRlICR7X19QUklWQVRFX2Nhbm9uaWZ5VGFyZ2V0KHQpfWApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBvID0gZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEdldEFycmF5VmFsdWVzKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZmllbGRJbmRleEdldEFycmF5U2VnbWVudCh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2b2lkIDAgPT09IG4pIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIF9fUFJJVkFURV90YXJnZXRHZXRGaWVsZEZpbHRlcnNGb3JQYXRoKGUsIG4uZmllbGRQYXRoKSkgc3dpdGNoICh0Lm9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0LnZhbHVlLmFycmF5VmFsdWUudmFsdWVzIHx8IFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJhcnJheS1jb250YWluc1wiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TICovIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyB0LnZhbHVlIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtYWluaW5nIGZpbHRlcnMgYXJlIG5vdCBhcnJheSBmaWx0ZXJzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIHRoZSBsaXN0IG9mIHZhbHVlcyB0aGF0IGFyZSB1c2VkIGluICE9IG9yIE5PVF9JTiBmaWx0ZXJzLiBSZXR1cm5zXG4gKiBgbnVsbGAgaWYgdGhlcmUgYXJlIG5vIHN1Y2ggZmlsdGVycy5cbiAqLyAocywgaSksIF8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0Tm90SW5WYWx1ZXMoZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IG5ldyBNYXA7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgX19QUklWQVRFX2ZpZWxkSW5kZXhHZXREaXJlY3Rpb25hbFNlZ21lbnRzKHQpKSBmb3IgKGNvbnN0IHQgb2YgX19QUklWQVRFX3RhcmdldEdldEZpZWxkRmlsdGVyc0ZvclBhdGgoZSwgci5maWVsZFBhdGgpKSBzd2l0Y2ggKHQub3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIj09XCIgLyogT3BlcmF0b3IuRVFVQUwgKi8gOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRW5jb2RlIGVxdWFsaXR5IHByZWZpeCwgd2hpY2ggaXMgZW5jb2RlZCBpbiB0aGUgaW5kZXggdmFsdWUgYmVmb3JlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGluZXF1YWxpdHkgKGUuZy4gYGEgPT0gJ2EnICYmIGIgIT0gJ2InYCBpcyBlbmNvZGVkIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYHZhbHVlICE9ICdhYidgKS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLnNldChyLmZpZWxkUGF0aC5jYW5vbmljYWxTdHJpbmcoKSwgdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTm90SW4vTm90RXF1YWwgaXMgYWx3YXlzIGEgc3VmZml4LiBUaGVyZSBjYW5ub3QgYmUgYW55IHJlbWFpbmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlZ21lbnRzIGFuZCBoZW5jZSB3ZSBjYW4gcmV0dXJuIGVhcmx5IGhlcmUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uc2V0KHIuZmllbGRQYXRoLmNhbm9uaWNhbFN0cmluZygpLCB0LnZhbHVlKSwgQXJyYXkuZnJvbShuLnZhbHVlcygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZW1haW5pbmcgZmlsdGVycyBjYW5ub3QgYmUgdXNlZCBhcyBub3RJbiBib3VuZHMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKipcbiAqIFJldHVybnMgYSBsb3dlciBib3VuZCBvZiBmaWVsZCB2YWx1ZXMgdGhhdCBjYW4gYmUgdXNlZCBhcyBhIHN0YXJ0aW5nIHBvaW50IHRvXG4gKiBzY2FuIHRoZSBpbmRleCBkZWZpbmVkIGJ5IGBmaWVsZEluZGV4YC4gUmV0dXJucyBgTUlOX1ZBTFVFYCBpZiBubyBsb3dlciBib3VuZFxuICogZXhpc3RzLlxuICovIChzLCBpKSwgYSA9IGZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRHZXRMb3dlckJvdW5kKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBzZWdtZW50LCByZXRyaWV2ZSBhIGxvd2VyIGJvdW5kIGlmIHRoZXJlIGlzIGEgc3VpdGFibGUgZmlsdGVyIG9yXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFydEF0LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyh0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSAwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8gPT09IGkua2luZCA/IF9fUFJJVkFURV90YXJnZXRHZXRBc2NlbmRpbmdCb3VuZChlLCBpLmZpZWxkUGF0aCwgZS5zdGFydEF0KSA6IF9fUFJJVkFURV90YXJnZXRHZXREZXNjZW5kaW5nQm91bmQoZSwgaS5maWVsZFBhdGgsIGUuc3RhcnRBdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbi5wdXNoKHQudmFsdWUpLCByICYmIChyID0gdC5pbmNsdXNpdmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBCb3VuZChuLCByKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKipcbiAqIFJldHVybnMgYW4gdXBwZXIgYm91bmQgb2YgZmllbGQgdmFsdWVzIHRoYXQgY2FuIGJlIHVzZWQgYXMgYW4gZW5kaW5nIHBvaW50XG4gKiB3aGVuIHNjYW5uaW5nIHRoZSBpbmRleCBkZWZpbmVkIGJ5IGBmaWVsZEluZGV4YC4gUmV0dXJucyBgTUFYX1ZBTFVFYCBpZiBub1xuICogdXBwZXIgYm91bmQgZXhpc3RzLlxuICovIChzLCBpKSwgdSA9IGZ1bmN0aW9uIF9fUFJJVkFURV90YXJnZXRHZXRVcHBlckJvdW5kKGUsIHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByID0gITA7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBGb3IgZWFjaCBzZWdtZW50LCByZXRyaWV2ZSBhbiB1cHBlciBib3VuZCBpZiB0aGVyZSBpcyBhIHN1aXRhYmxlIGZpbHRlciBvclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZW5kQXQuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGkgb2YgX19QUklWQVRFX2ZpZWxkSW5kZXhHZXREaXJlY3Rpb25hbFNlZ21lbnRzKHQpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLyA9PT0gaS5raW5kID8gX19QUklWQVRFX3RhcmdldEdldERlc2NlbmRpbmdCb3VuZChlLCBpLmZpZWxkUGF0aCwgZS5lbmRBdCkgOiBfX1BSSVZBVEVfdGFyZ2V0R2V0QXNjZW5kaW5nQm91bmQoZSwgaS5maWVsZFBhdGgsIGUuZW5kQXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG4ucHVzaCh0LnZhbHVlKSwgciAmJiAociA9IHQuaW5jbHVzaXZlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmQobiwgcik7XG4gICAgICAgICAgICAgICAgICAgIH0ocywgaSksIGMgPSB0aGlzLmhuKGksIHMsIGEpLCBsID0gdGhpcy5obihpLCBzLCB1KSwgaCA9IHRoaXMuUG4oaSwgcywgXyksIFAgPSB0aGlzLkluKGkuaW5kZXhJZCwgbywgYywgYS5pbmNsdXNpdmUsIGwsIHUuaW5jbHVzaXZlLCBoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKFAsIChpID0+IG4uRyhpLCB0LmxpbWl0KS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHQuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IERvY3VtZW50S2V5LmZyb21TZWdtZW50cyh0LmRvY3VtZW50S2V5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLmhhcyhuKSB8fCAoZSA9IGUuYWRkKG4pLCByLnB1c2gobikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICB9KSkpKTtcbiAgICAgICAgICAgICAgICB9KSkubmV4dCgoKCkgPT4gcikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNuKGUpIHtcbiAgICAgICAgbGV0IHQgPSB0aGlzLnVuLmdldChlKTtcbiAgICAgICAgaWYgKHQpIHJldHVybiB0O1xuICAgICAgICBpZiAoMCA9PT0gZS5maWx0ZXJzLmxlbmd0aCkgdCA9IFsgZSBdOyBlbHNlIHtcbiAgICAgICAgICAgIHQgPSBfX1BSSVZBVEVfZ2V0RG5mVGVybXMoQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZShlLmZpbHRlcnMsIFwiYW5kXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuQU5EICovKSkubWFwKCh0ID0+IF9fUFJJVkFURV9uZXdUYXJnZXQoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgZS5vcmRlckJ5LCB0LmdldEZpbHRlcnMoKSwgZS5saW1pdCwgZS5zdGFydEF0LCBlLmVuZEF0KSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnVuLnNldChlLCB0KSwgdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0cyBhIGtleSByYW5nZSBxdWVyeSBvbiBgRGJJbmRleEVudHJ5U3RvcmVgIHRoYXQgdW5pb25zIGFsbFxuICAgICAqIGJvdW5kcy5cbiAgICAgKi8gICAgSW4oZSwgdCwgbiwgciwgaSwgcywgbykge1xuICAgICAgICAvLyBUaGUgbnVtYmVyIG9mIHRvdGFsIGluZGV4IHNjYW5zIHdlIHVuaW9uIHRvZ2V0aGVyLiBUaGlzIGlzIHNpbWlsYXIgdG8gYVxuICAgICAgICAvLyBkaXN0cmlidXRlZCBub3JtYWwgZm9ybSwgYnV0IGFkYXB0ZWQgZm9yIGFycmF5IHZhbHVlcy4gV2UgY3JlYXRlIGEgc2luZ2xlXG4gICAgICAgIC8vIGluZGV4IHJhbmdlIHBlciB2YWx1ZSBpbiBhbiBBUlJBWV9DT05UQUlOUyBvciBBUlJBWV9DT05UQUlOU19BTlkgZmlsdGVyXG4gICAgICAgIC8vIGNvbWJpbmVkIHdpdGggdGhlIHZhbHVlcyBmcm9tIHRoZSBxdWVyeSBib3VuZHMuXG4gICAgICAgIGNvbnN0IF8gPSAobnVsbCAhPSB0ID8gdC5sZW5ndGggOiAxKSAqIE1hdGgubWF4KG4ubGVuZ3RoLCBpLmxlbmd0aCksIGEgPSBfIC8gKG51bGwgIT0gdCA/IHQubGVuZ3RoIDogMSksIHUgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgYyA9IDA7IGMgPCBfOyArK2MpIHtcbiAgICAgICAgICAgIGNvbnN0IF8gPSB0ID8gdGhpcy5Ubih0W2MgLyBhXSkgOiBkZSwgbCA9IHRoaXMuRW4oZSwgXywgbltjICUgYV0sIHIpLCBoID0gdGhpcy5kbihlLCBfLCBpW2MgJSBhXSwgcyksIFAgPSBvLm1hcCgodCA9PiB0aGlzLkVuKGUsIF8sIHQsIFxuICAgICAgICAgICAgLyogaW5jbHVzaXZlPSAqLyAhMCkpKTtcbiAgICAgICAgICAgIHUucHVzaCguLi50aGlzLmNyZWF0ZVJhbmdlKGwsIGgsIFApKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdTtcbiAgICB9XG4gICAgLyoqIEdlbmVyYXRlcyB0aGUgbG93ZXIgYm91bmQgZm9yIGBhcnJheVZhbHVlYCBhbmQgYGRpcmVjdGlvbmFsVmFsdWVgLiAqLyAgICBFbihlLCB0LCBuLCByKSB7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgX19QUklWQVRFX0luZGV4RW50cnkoZSwgRG9jdW1lbnRLZXkuZW1wdHkoKSwgdCwgbik7XG4gICAgICAgIHJldHVybiByID8gaSA6IGkuSnQoKTtcbiAgICB9XG4gICAgLyoqIEdlbmVyYXRlcyB0aGUgdXBwZXIgYm91bmQgZm9yIGBhcnJheVZhbHVlYCBhbmQgYGRpcmVjdGlvbmFsVmFsdWVgLiAqLyAgICBkbihlLCB0LCBuLCByKSB7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgX19QUklWQVRFX0luZGV4RW50cnkoZSwgRG9jdW1lbnRLZXkuZW1wdHkoKSwgdCwgbik7XG4gICAgICAgIHJldHVybiByID8gaS5KdCgpIDogaTtcbiAgICB9XG4gICAgbG4oZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9UYXJnZXRJbmRleE1hdGNoZXIodCksIHIgPSBudWxsICE9IHQuY29sbGVjdGlvbkdyb3VwID8gdC5jb2xsZWN0aW9uR3JvdXAgOiB0LnBhdGgubGFzdFNlZ21lbnQoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmllbGRJbmRleGVzKGUsIHIpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgLy8gUmV0dXJuIHRoZSBpbmRleCB3aXRoIHRoZSBtb3N0IG51bWJlciBvZiBzZWdtZW50cy5cbiAgICAgICAgICAgIGxldCB0ID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiBlKSB7XG4gICAgICAgICAgICAgICAgbi50bihyKSAmJiAoIXQgfHwgci5maWVsZHMubGVuZ3RoID4gdC5maWVsZHMubGVuZ3RoKSAmJiAodCA9IHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0SW5kZXhUeXBlKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSAyIC8qIEluZGV4VHlwZS5GVUxMICovO1xuICAgICAgICBjb25zdCByID0gdGhpcy5jbih0KTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHIsICh0ID0+IHRoaXMubG4oZSwgdCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBlID8gMCAvKiBJbmRleFR5cGUuTk9ORSAqLyAhPT0gbiAmJiBlLmZpZWxkcy5sZW5ndGggPCBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0R2V0U2VnbWVudENvdW50KGUpIHtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IG5ldyBTb3J0ZWRTZXQoRmllbGRQYXRoJDEuY29tcGFyYXRvciksIG4gPSAhMTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHIgb2YgZS5maWx0ZXJzKSBmb3IgKGNvbnN0IGUgb2Ygci5nZXRGbGF0dGVuZWRGaWx0ZXJzKCkpIFxuICAgICAgICAgICAgICAgIC8vIF9fbmFtZV9fIGlzIG5vdCBhbiBleHBsaWNpdCBzZWdtZW50IG9mIGFueSBpbmRleCwgc28gd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICAgICAgICAgIC8vIGNvdW50IGl0LlxuICAgICAgICAgICAgICAgIGUuZmllbGQuaXNLZXlGaWVsZCgpIHx8IChcbiAgICAgICAgICAgICAgICAvLyBBUlJBWV9DT05UQUlOUyBvciBBUlJBWV9DT05UQUlOU19BTlkgZmlsdGVycyBtdXN0IGJlIGNvdW50ZWQgc2VwYXJhdGVseS5cbiAgICAgICAgICAgICAgICAvLyBGb3IgaW5zdGFuY2UsIGl0IGlzIHBvc3NpYmxlIHRvIGhhdmUgYW4gaW5kZXggZm9yIFwiYSBBUlJBWSBhIEFTQ1wiLiBFdmVuXG4gICAgICAgICAgICAgICAgLy8gdGhvdWdoIHRoZXNlIGFyZSBvbiB0aGUgc2FtZSBmaWVsZCwgdGhleSBzaG91bGQgYmUgY291bnRlZCBhcyB0d29cbiAgICAgICAgICAgICAgICAvLyBzZXBhcmF0ZSBzZWdtZW50cyBpbiBhbiBpbmRleC5cbiAgICAgICAgICAgICAgICBcImFycmF5LWNvbnRhaW5zXCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlMgKi8gPT09IGUub3AgfHwgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gPT09IGUub3AgPyBuID0gITAgOiB0ID0gdC5hZGQoZS5maWVsZCkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbiBvZiBlLm9yZGVyQnkpIFxuICAgICAgICAgICAgICAgIC8vIF9fbmFtZV9fIGlzIG5vdCBhbiBleHBsaWNpdCBzZWdtZW50IG9mIGFueSBpbmRleCwgc28gd2UgZG9uJ3QgbmVlZCB0b1xuICAgICAgICAgICAgICAgIC8vIGNvdW50IGl0LlxuICAgICAgICAgICAgICAgIG4uZmllbGQuaXNLZXlGaWVsZCgpIHx8ICh0ID0gdC5hZGQobi5maWVsZCkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0LnNpemUgKyAobiA/IDEgOiAwKTtcbiAgICAgICAgICAgIH0odCkgJiYgKG4gPSAxIC8qIEluZGV4VHlwZS5QQVJUSUFMICovKSA6IG4gPSAwIC8qIEluZGV4VHlwZS5OT05FICovO1xuICAgICAgICB9KSkpKS5uZXh0KCgoKSA9PiBcbiAgICAgICAgLy8gT1IgcXVlcmllcyBoYXZlIG1vcmUgdGhhbiBvbmUgc3ViLXRhcmdldCAob25lIHN1Yi10YXJnZXQgcGVyIERORiB0ZXJtKS4gV2UgY3VycmVudGx5IGNvbnNpZGVyXG4gICAgICAgIC8vIE9SIHF1ZXJpZXMgdGhhdCBoYXZlIGEgYGxpbWl0YCB0byBoYXZlIGEgcGFydGlhbCBpbmRleC4gRm9yIHN1Y2ggcXVlcmllcyB3ZSBwZXJmb3JtIHNvcnRpbmdcbiAgICAgICAgLy8gYW5kIGFwcGx5IHRoZSBsaW1pdCBpbiBtZW1vcnkgYXMgYSBwb3N0LXByb2Nlc3Npbmcgc3RlcC5cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3RhcmdldEhhc0xpbWl0KGUpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsICE9PSBlLmxpbWl0O1xuICAgICAgICB9KHQpICYmIHIubGVuZ3RoID4gMSAmJiAyIC8qIEluZGV4VHlwZS5GVUxMICovID09PSBuID8gMSAvKiBJbmRleFR5cGUuUEFSVElBTCAqLyA6IG4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYnl0ZSBlbmNvZGVkIGZvcm0gb2YgdGhlIGRpcmVjdGlvbmFsIHZhbHVlcyBpbiB0aGUgZmllbGQgaW5kZXguXG4gICAgICogUmV0dXJucyBgbnVsbGAgaWYgdGhlIGRvY3VtZW50IGRvZXMgbm90IGhhdmUgYWxsIGZpZWxkcyBzcGVjaWZpZWQgaW4gdGhlXG4gICAgICogaW5kZXguXG4gICAgICovICAgIEFuKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2RlcjtcbiAgICAgICAgZm9yIChjb25zdCByIG9mIF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyhlKSkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHQuZGF0YS5maWVsZChyLmZpZWxkUGF0aCk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PSBlKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuLkh0KHIua2luZCk7XG4gICAgICAgICAgICBfX1BSSVZBVEVfRmlyZXN0b3JlSW5kZXhWYWx1ZVdyaXRlci5idC5QdChlLCBpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbi5XdCgpO1xuICAgIH1cbiAgICAvKiogRW5jb2RlcyBhIHNpbmdsZSB2YWx1ZSB0byB0aGUgYXNjZW5kaW5nIGluZGV4IGZvcm1hdC4gKi8gICAgVG4oZSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IF9fUFJJVkFURV9JbmRleEJ5dGVFbmNvZGVyO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIuYnQuUHQoZSwgdC5IdCgwIC8qIEluZGV4S2luZC5BU0NFTkRJTkcgKi8pKSwgXG4gICAgICAgIHQuV3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBlbmNvZGVkIGZvcm0gb2YgdGhlIGRvY3VtZW50IGtleSB0aGF0IHNvcnRzIGJhc2VkIG9uIHRoZSBrZXlcbiAgICAgKiBvcmRlcmluZyBvZiB0aGUgZmllbGQgaW5kZXguXG4gICAgICovICAgIFJuKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfSW5kZXhCeXRlRW5jb2RlcjtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9GaXJlc3RvcmVJbmRleFZhbHVlV3JpdGVyLmJ0LlB0KF9fUFJJVkFURV9yZWZWYWx1ZSh0aGlzLmRhdGFiYXNlSWQsIHQpLCBuLkh0KGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZEluZGV4R2V0S2V5T3JkZXIoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9maWVsZEluZGV4R2V0RGlyZWN0aW9uYWxTZWdtZW50cyhlKTtcbiAgICAgICAgICAgIHJldHVybiAwID09PSB0Lmxlbmd0aCA/IDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLyA6IHRbdC5sZW5ndGggLSAxXS5raW5kO1xuICAgICAgICB9KGUpKSksIG4uV3QoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyB0aGUgZ2l2ZW4gZmllbGQgdmFsdWVzIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWNhdGlvbiBpbiBgdGFyZ2V0YC5cbiAgICAgKiBGb3IgSU4gcXVlcmllcywgYSBsaXN0IG9mIHBvc3NpYmxlIHZhbHVlcyBpcyByZXR1cm5lZC5cbiAgICAgKi8gICAgUG4oZSwgdCwgbikge1xuICAgICAgICBpZiAobnVsbCA9PT0gbikgcmV0dXJuIFtdO1xuICAgICAgICBsZXQgciA9IFtdO1xuICAgICAgICByLnB1c2gobmV3IF9fUFJJVkFURV9JbmRleEJ5dGVFbmNvZGVyKTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICBmb3IgKGNvbnN0IHMgb2YgX19QUklWQVRFX2ZpZWxkSW5kZXhHZXREaXJlY3Rpb25hbFNlZ21lbnRzKGUpKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gbltpKytdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIHIpIGlmICh0aGlzLlZuKHQsIHMuZmllbGRQYXRoKSAmJiBpc0FycmF5KGUpKSByID0gdGhpcy5tbihyLCBzLCBlKTsgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IG4uSHQocy5raW5kKTtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfRmlyZXN0b3JlSW5kZXhWYWx1ZVdyaXRlci5idC5QdChlLCB0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5mbihyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5jb2RlcyB0aGUgZ2l2ZW4gYm91bmRzIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWNhdGlvbiBpbiBgdGFyZ2V0YC4gRm9yIElOXG4gICAgICogcXVlcmllcywgYSBsaXN0IG9mIHBvc3NpYmxlIHZhbHVlcyBpcyByZXR1cm5lZC5cbiAgICAgKi8gICAgaG4oZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5QbihlLCB0LCBuLnBvc2l0aW9uKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgdGhlIGJ5dGUgcmVwcmVzZW50YXRpb24gZm9yIHRoZSBwcm92aWRlZCBlbmNvZGVycy4gKi8gICAgZm4oZSkge1xuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIGZvciAobGV0IG4gPSAwOyBuIDwgZS5sZW5ndGg7ICsrbikgdFtuXSA9IGVbbl0uV3QoKTtcbiAgICAgICAgcmV0dXJuIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzZXBhcmF0ZSBlbmNvZGVyIGZvciBlYWNoIGVsZW1lbnQgb2YgYW4gYXJyYXkuXG4gICAgICpcbiAgICAgKiBUaGUgbWV0aG9kIGFwcGVuZHMgZWFjaCB2YWx1ZSB0byBhbGwgZXhpc3RpbmcgZW5jb2RlcnMgKGUuZy4gZmlsdGVyKFwiYVwiLFxuICAgICAqIFwiPT1cIiwgXCJhMVwiKS5maWx0ZXIoXCJiXCIsIFwiaW5cIiwgW1wiYjFcIiwgXCJiMlwiXSkgYmVjb21lcyBbXCJhMSxiMVwiLCBcImExLGIyXCJdKS4gQVxuICAgICAqIGxpc3Qgb2YgbmV3IGVuY29kZXJzIGlzIHJldHVybmVkLlxuICAgICAqLyAgICBtbihlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBbIC4uLmUgXSwgaSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2Ygbi5hcnJheVZhbHVlLnZhbHVlcyB8fCBbXSkgZm9yIChjb25zdCBuIG9mIHIpIHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX0luZGV4Qnl0ZUVuY29kZXI7XG4gICAgICAgICAgICByLnNlZWQobi5XdCgpKSwgX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIuYnQuUHQoZSwgci5IdCh0LmtpbmQpKSwgaS5wdXNoKHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICBWbihlLCB0KSB7XG4gICAgICAgIHJldHVybiAhIWUuZmlsdGVycy5maW5kKChlID0+IGUgaW5zdGFuY2VvZiBGaWVsZEZpbHRlciAmJiBlLmZpZWxkLmlzRXF1YWwodCkgJiYgKFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gZS5vcCB8fCBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA9PT0gZS5vcCkpKTtcbiAgICB9XG4gICAgZ2V0RmllbGRJbmRleGVzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9pbmRleENvbmZpZ3VyYXRpb25TdG9yZShlKSwgciA9IF9fUFJJVkFURV9pbmRleFN0YXRlU3RvcmUoZSk7XG4gICAgICAgIHJldHVybiAodCA/IG4uVShcImNvbGxlY3Rpb25Hcm91cEluZGV4XCIsIElEQktleVJhbmdlLmJvdW5kKHQsIHQpKSA6IG4uVSgpKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaChlLCAoZSA9PiByLmdldChbIGUuaW5kZXhJZCwgdGhpcy51aWQgXSkubmV4dCgobiA9PiB7XG4gICAgICAgICAgICAgICAgdC5wdXNoKGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tRGJJbmRleENvbmZpZ3VyYXRpb24oZSwgdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gdCA/IG5ldyBJbmRleFN0YXRlKHQuc2VxdWVuY2VOdW1iZXIsIG5ldyBJbmRleE9mZnNldChfX1BSSVZBVEVfZnJvbURiVGltZXN0YW1wKHQucmVhZFRpbWUpLCBuZXcgRG9jdW1lbnRLZXkoX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aCh0LmRvY3VtZW50S2V5KSksIHQubGFyZ2VzdEJhdGNoSWQpKSA6IEluZGV4U3RhdGUuZW1wdHkoKSwgciA9IGUuZmllbGRzLm1hcCgoKFtlLCB0XSkgPT4gbmV3IEluZGV4U2VnbWVudChGaWVsZFBhdGgkMS5mcm9tU2VydmVyRm9ybWF0KGUpLCB0KSkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEZpZWxkSW5kZXgoZS5pbmRleElkLCBlLmNvbGxlY3Rpb25Hcm91cCwgciwgbik7XG4gICAgICAgICAgICAgICAgfShlLCBuKSk7XG4gICAgICAgICAgICB9KSkpKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0TmV4dENvbGxlY3Rpb25Hcm91cFRvVXBkYXRlKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0RmllbGRJbmRleGVzKGUpLm5leHQoKGUgPT4gMCA9PT0gZS5sZW5ndGggPyBudWxsIDogKGUuc29ydCgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLmluZGV4U3RhdGUuc2VxdWVuY2VOdW1iZXIgLSB0LmluZGV4U3RhdGUuc2VxdWVuY2VOdW1iZXI7XG4gICAgICAgICAgICByZXR1cm4gMCAhPT0gbiA/IG4gOiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLmNvbGxlY3Rpb25Hcm91cCwgdC5jb2xsZWN0aW9uR3JvdXApO1xuICAgICAgICB9KSksIGVbMF0uY29sbGVjdGlvbkdyb3VwKSkpO1xuICAgIH1cbiAgICB1cGRhdGVDb2xsZWN0aW9uR3JvdXAoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2luZGV4Q29uZmlndXJhdGlvblN0b3JlKGUpLCBpID0gX19QUklWQVRFX2luZGV4U3RhdGVTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ24oZSkubmV4dCgoZSA9PiByLlUoXCJjb2xsZWN0aW9uR3JvdXBJbmRleFwiLCBJREJLZXlSYW5nZS5ib3VuZCh0LCB0KSkubmV4dCgodCA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAodCA9PiBpLnB1dChfX1BSSVZBVEVfdG9EYkluZGV4U3RhdGUodC5pbmRleElkLCB0aGlzLnVpZCwgZSwgbikpKSkpKSkpO1xuICAgIH1cbiAgICB1cGRhdGVJbmRleEVudHJpZXMoZSwgdCkge1xuICAgICAgICAvLyBQb3J0aW5nIE5vdGU6IGBnZXRGaWVsZEluZGV4ZXMoKWAgb24gV2ViIGRvZXMgbm90IGNhY2hlIGluZGV4IGxvb2t1cHMgYXNcbiAgICAgICAgLy8gaXQgY291bGQgYmUgdXNlZCBhY3Jvc3MgZGlmZmVyZW50IEluZGV4ZWREQiB0cmFuc2FjdGlvbnMuIEFzIGFueSBjYWNoZWRcbiAgICAgICAgLy8gZGF0YSBtaWdodCBiZSBpbnZhbGlkYXRlZCBieSBvdGhlciBtdWx0aS10YWIgY2xpZW50cywgd2UgY2FuIG9ubHkgdHJ1c3RcbiAgICAgICAgLy8gZGF0YSB3aXRoaW4gYSBzaW5nbGUgSW5kZXhlZERCIHRyYW5zYWN0aW9uLiBXZSB0aGVyZWZvcmUgYWRkIGEgY2FjaGVcbiAgICAgICAgLy8gaGVyZS5cbiAgICAgICAgY29uc3QgbiA9IG5ldyBNYXA7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAoKHQsIHIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBuLmdldCh0LmNvbGxlY3Rpb25Hcm91cCk7XG4gICAgICAgICAgICByZXR1cm4gKGkgPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShpKSA6IHRoaXMuZ2V0RmllbGRJbmRleGVzKGUsIHQuY29sbGVjdGlvbkdyb3VwKSkubmV4dCgoaSA9PiAobi5zZXQodC5jb2xsZWN0aW9uR3JvdXAsIGkpLCBcbiAgICAgICAgICAgIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKGksIChuID0+IHRoaXMucG4oZSwgdCwgbikubmV4dCgodCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHRoaXMueW4ociwgbik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQuaXNFcXVhbChpKSA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCkgOiB0aGlzLnduKGUsIHIsIG4sIHQsIGkpO1xuICAgICAgICAgICAgfSkpKSkpKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgU24oZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpLnB1dCh7XG4gICAgICAgICAgICBpbmRleElkOiByLmluZGV4SWQsXG4gICAgICAgICAgICB1aWQ6IHRoaXMudWlkLFxuICAgICAgICAgICAgYXJyYXlWYWx1ZTogci5hcnJheVZhbHVlLFxuICAgICAgICAgICAgZGlyZWN0aW9uYWxWYWx1ZTogci5kaXJlY3Rpb25hbFZhbHVlLFxuICAgICAgICAgICAgb3JkZXJlZERvY3VtZW50S2V5OiB0aGlzLlJuKG4sIHQua2V5KSxcbiAgICAgICAgICAgIGRvY3VtZW50S2V5OiB0LmtleS5wYXRoLnRvQXJyYXkoKVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYm4oZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2luZGV4RW50cmllc1N0b3JlKGUpLmRlbGV0ZShbIHIuaW5kZXhJZCwgdGhpcy51aWQsIHIuYXJyYXlWYWx1ZSwgci5kaXJlY3Rpb25hbFZhbHVlLCB0aGlzLlJuKG4sIHQua2V5KSwgdC5rZXkucGF0aC50b0FycmF5KCkgXSk7XG4gICAgfVxuICAgIHBuKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9pbmRleEVudHJpZXNTdG9yZShlKTtcbiAgICAgICAgbGV0IGkgPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvcik7XG4gICAgICAgIHJldHVybiByLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwiZG9jdW1lbnRLZXlJbmRleFwiLFxuICAgICAgICAgICAgcmFuZ2U6IElEQktleVJhbmdlLm9ubHkoWyBuLmluZGV4SWQsIHRoaXMudWlkLCB0aGlzLlJuKG4sIHQpIF0pXG4gICAgICAgIH0sICgoZSwgcikgPT4ge1xuICAgICAgICAgICAgaSA9IGkuYWRkKG5ldyBfX1BSSVZBVEVfSW5kZXhFbnRyeShuLmluZGV4SWQsIHQsIHIuYXJyYXlWYWx1ZSwgci5kaXJlY3Rpb25hbFZhbHVlKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSk7XG4gICAgfVxuICAgIC8qKiBDcmVhdGVzIHRoZSBpbmRleCBlbnRyaWVzIGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQuICovICAgIHluKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvcik7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLkFuKHQsIGUpO1xuICAgICAgICBpZiAobnVsbCA9PSByKSByZXR1cm4gbjtcbiAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9maWVsZEluZGV4R2V0QXJyYXlTZWdtZW50KHQpO1xuICAgICAgICBpZiAobnVsbCAhPSBpKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gZS5kYXRhLmZpZWxkKGkuZmllbGRQYXRoKTtcbiAgICAgICAgICAgIGlmIChpc0FycmF5KHMpKSBmb3IgKGNvbnN0IGkgb2Ygcy5hcnJheVZhbHVlLnZhbHVlcyB8fCBbXSkgbiA9IG4uYWRkKG5ldyBfX1BSSVZBVEVfSW5kZXhFbnRyeSh0LmluZGV4SWQsIGUua2V5LCB0aGlzLlRuKGkpLCByKSk7XG4gICAgICAgIH0gZWxzZSBuID0gbi5hZGQobmV3IF9fUFJJVkFURV9JbmRleEVudHJ5KHQuaW5kZXhJZCwgZS5rZXksIGRlLCByKSk7XG4gICAgICAgIHJldHVybiBuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBpbmRleCBlbnRyaWVzIGZvciB0aGUgcHJvdmlkZWQgZG9jdW1lbnQgYnkgZGVsZXRpbmcgZW50cmllc1xuICAgICAqIHRoYXQgYXJlIG5vIGxvbmdlciByZWZlcmVuY2VkIGluIGBuZXdFbnRyaWVzYCBhbmQgYWRkaW5nIGFsbCBuZXdseSBhZGRlZFxuICAgICAqIGVudHJpZXMuXG4gICAgICovICAgIHduKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhlZERiSW5kZXhNYW5hZ2VyXCIsIFwiVXBkYXRpbmcgaW5kZXggZW50cmllcyBmb3IgZG9jdW1lbnQgJyVzJ1wiLCB0LmtleSk7XG4gICAgICAgIGNvbnN0IHMgPSBbXTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9kaWZmU29ydGVkU2V0cyhlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgICAgICBjb25zdCBzID0gZS5nZXRJdGVyYXRvcigpLCBvID0gdC5nZXRJdGVyYXRvcigpO1xuICAgICAgICAgICAgbGV0IF8gPSBfX1BSSVZBVEVfYWR2YW5jZUl0ZXJhdG9yKHMpLCBhID0gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihvKTtcbiAgICAgICAgICAgIC8vIFdhbGsgdGhyb3VnaCB0aGUgdHdvIHNldHMgYXQgdGhlIHNhbWUgdGltZSwgdXNpbmcgdGhlIG9yZGVyaW5nIGRlZmluZWQgYnlcbiAgICAgICAgICAgIC8vIGBjb21wYXJhdG9yYC5cbiAgICAgICAgICAgIGZvciAoO18gfHwgYTsgKSB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSAhMSwgdCA9ICExO1xuICAgICAgICAgICAgICAgIGlmIChfICYmIGEpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IG4oXywgYSk7XG4gICAgICAgICAgICAgICAgICAgIHIgPCAwID8gXG4gICAgICAgICAgICAgICAgICAgIC8vIFRoZSBlbGVtZW50IHdhcyByZW1vdmVkIGlmIHRoZSBuZXh0IGVsZW1lbnQgaW4gb3VyIG9yZGVyZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gd2Fsa3Rocm91Z2ggaXMgb25seSBpbiBgYmVmb3JlYC5cbiAgICAgICAgICAgICAgICAgICAgdCA9ICEwIDogciA+IDAgJiYgKFxuICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCB3YXMgYWRkZWQgaWYgdGhlIG5leHQgZWxlbWVudCBpbiBvdXIgb3JkZXJlZCB3YWxrdGhyb3VnaFxuICAgICAgICAgICAgICAgICAgICAvLyBpcyBvbmx5IGluIGBhZnRlcmAuXG4gICAgICAgICAgICAgICAgICAgIGUgPSAhMCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIG51bGwgIT0gXyA/IHQgPSAhMCA6IGUgPSAhMDtcbiAgICAgICAgICAgICAgICBlID8gKHIoYSksIGEgPSBfX1BSSVZBVEVfYWR2YW5jZUl0ZXJhdG9yKG8pKSA6IHQgPyAoaShfKSwgXyA9IF9fUFJJVkFURV9hZHZhbmNlSXRlcmF0b3IocykpIDogKF8gPSBfX1BSSVZBVEVfYWR2YW5jZUl0ZXJhdG9yKHMpLCBcbiAgICAgICAgICAgICAgICBhID0gX19QUklWQVRFX2FkdmFuY2VJdGVyYXRvcihvKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0ociwgaSwgX19QUklWQVRFX2luZGV4RW50cnlDb21wYXJhdG9yLCAoXG4gICAgICAgIC8qIG9uQWRkPSAqLyByID0+IHtcbiAgICAgICAgICAgIHMucHVzaCh0aGlzLlNuKGUsIHQsIG4sIHIpKTtcbiAgICAgICAgfSksIChcbiAgICAgICAgLyogb25SZW1vdmU9ICovIHIgPT4ge1xuICAgICAgICAgICAgcy5wdXNoKHRoaXMuYm4oZSwgdCwgbiwgcikpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHMpO1xuICAgIH1cbiAgICBnbihlKSB7XG4gICAgICAgIGxldCB0ID0gMTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9pbmRleFN0YXRlU3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJzZXF1ZW5jZU51bWJlckluZGV4XCIsXG4gICAgICAgICAgICByZXZlcnNlOiAhMCxcbiAgICAgICAgICAgIHJhbmdlOiBJREJLZXlSYW5nZS51cHBlckJvdW5kKFsgdGhpcy51aWQsIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSIF0pXG4gICAgICAgIH0sICgoZSwgbiwgcikgPT4ge1xuICAgICAgICAgICAgci5kb25lKCksIHQgPSBuLnNlcXVlbmNlTnVtYmVyICsgMTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyBzZXQgb2YgSURCIHJhbmdlcyB0aGF0IHNwbGl0cyB0aGUgZXhpc3RpbmcgcmFuZ2UgYW5kIGV4Y2x1ZGVzXG4gICAgICogYW55IHZhbHVlcyB0aGF0IG1hdGNoIHRoZSBgbm90SW5WYWx1ZWAgZnJvbSB0aGVzZSByYW5nZXMuIEFzIGFuIGV4YW1wbGUsXG4gICAgICogJ1tmb28gPiAyICYmIGZvbyAhPSAzXWAgYmVjb21lcyAgYFtmb28gPiAyICYmIDwgMywgZm9vID4gM11gLlxuICAgICAqLyAgICBjcmVhdGVSYW5nZShlLCB0LCBuKSB7XG4gICAgICAgIC8vIFRoZSBub3RJbiB2YWx1ZXMgbmVlZCB0byBiZSBzb3J0ZWQgYW5kIHVuaXF1ZSBzbyB0aGF0IHdlIGNhbiByZXR1cm4gYVxuICAgICAgICAvLyBzb3J0ZWQgc2V0IG9mIG5vbi1vdmVybGFwcGluZyByYW5nZXMuXG4gICAgICAgIG4gPSBuLnNvcnQoKChlLCB0KSA9PiBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoZSwgdCkpKS5maWx0ZXIoKChlLCB0LCBuKSA9PiAhdCB8fCAwICE9PSBfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IoZSwgblt0IC0gMV0pKSk7XG4gICAgICAgIGNvbnN0IHIgPSBbXTtcbiAgICAgICAgci5wdXNoKGUpO1xuICAgICAgICBmb3IgKGNvbnN0IGkgb2Ygbikge1xuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvcihpLCBlKSwgcyA9IF9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvcihpLCB0KTtcbiAgICAgICAgICAgIGlmICgwID09PSBuKSBcbiAgICAgICAgICAgIC8vIGBub3RJblZhbHVlYCBpcyB0aGUgbG93ZXIgYm91bmQuIFdlIHRoZXJlZm9yZSBuZWVkIHRvIHJhaXNlIHRoZSBib3VuZFxuICAgICAgICAgICAgLy8gdG8gdGhlIG5leHQgdmFsdWUuXG4gICAgICAgICAgICByWzBdID0gZS5KdCgpOyBlbHNlIGlmIChuID4gMCAmJiBzIDwgMCkgXG4gICAgICAgICAgICAvLyBgbm90SW5WYWx1ZWAgaXMgaW4gdGhlIG1pZGRsZSBvZiB0aGUgcmFuZ2VcbiAgICAgICAgICAgIHIucHVzaChpKSwgci5wdXNoKGkuSnQoKSk7IGVsc2UgaWYgKHMgPiAwKSBcbiAgICAgICAgICAgIC8vIGBub3RJblZhbHVlYCAoYW5kIGFsbCBmb2xsb3dpbmcgdmFsdWVzKSBhcmUgb3V0IG9mIHRoZSByYW5nZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgci5wdXNoKHQpO1xuICAgICAgICBjb25zdCBpID0gW107XG4gICAgICAgIGZvciAobGV0IGUgPSAwOyBlIDwgci5sZW5ndGg7IGUgKz0gMikge1xuICAgICAgICAgICAgLy8gSWYgd2UgZW5jb3VudGVyIHR3byBib3VuZHMgdGhhdCB3aWxsIGNyZWF0ZSBhbiB1bm1hdGNoYWJsZSBrZXkgcmFuZ2UsXG4gICAgICAgICAgICAvLyB0aGVuIHdlIHJldHVybiBhbiBlbXB0eSBzZXQgb2Yga2V5IHJhbmdlcy5cbiAgICAgICAgICAgIGlmICh0aGlzLkRuKHJbZV0sIHJbZSArIDFdKSkgcmV0dXJuIFtdO1xuICAgICAgICAgICAgY29uc3QgdCA9IFsgcltlXS5pbmRleElkLCB0aGlzLnVpZCwgcltlXS5hcnJheVZhbHVlLCByW2VdLmRpcmVjdGlvbmFsVmFsdWUsIGRlLCBbXSBdLCBuID0gWyByW2UgKyAxXS5pbmRleElkLCB0aGlzLnVpZCwgcltlICsgMV0uYXJyYXlWYWx1ZSwgcltlICsgMV0uZGlyZWN0aW9uYWxWYWx1ZSwgZGUsIFtdIF07XG4gICAgICAgICAgICBpLnB1c2goSURCS2V5UmFuZ2UuYm91bmQodCwgbikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpO1xuICAgIH1cbiAgICBEbihlLCB0KSB7XG4gICAgICAgIC8vIElmIGxvd2VyIGJvdW5kIGlzIGdyZWF0ZXIgdGhhbiB0aGUgdXBwZXIgYm91bmQsIHRoZW4gdGhlIGtleVxuICAgICAgICAvLyByYW5nZSBjYW4gbmV2ZXIgYmUgbWF0Y2hlZC5cbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9pbmRleEVudHJ5Q29tcGFyYXRvcihlLCB0KSA+IDA7XG4gICAgfVxuICAgIGdldE1pbk9mZnNldEZyb21Db2xsZWN0aW9uR3JvdXAoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRGaWVsZEluZGV4ZXMoZSwgdCkubmV4dChfX1BSSVZBVEVfZ2V0TWluT2Zmc2V0RnJvbUZpZWxkSW5kZXhlcyk7XG4gICAgfVxuICAgIGdldE1pbk9mZnNldChlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UubWFwQXJyYXkodGhpcy5jbih0KSwgKHQgPT4gdGhpcy5sbihlLCB0KS5uZXh0KChlID0+IGUgfHwgZmFpbCgpKSkpKS5uZXh0KF9fUFJJVkFURV9nZXRNaW5PZmZzZXRGcm9tRmllbGRJbmRleGVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBjb2xsZWN0aW9uUGFyZW50c1xuICogZG9jdW1lbnQgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2NvbGxlY3Rpb25QYXJlbnRzU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJjb2xsZWN0aW9uUGFyZW50c1wiKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIGluZGV4IGVudHJ5IG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhFbnRyaWVzU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJpbmRleEVudHJpZXNcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBpbmRleCBjb25maWd1cmF0aW9uIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfaW5kZXhDb25maWd1cmF0aW9uU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJpbmRleENvbmZpZ3VyYXRpb25cIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBpbmRleCBzdGF0ZSBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2luZGV4U3RhdGVTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcImluZGV4U3RhdGVcIik7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRNaW5PZmZzZXRGcm9tRmllbGRJbmRleGVzKGUpIHtcbiAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCgwICE9PSBlLmxlbmd0aCk7XG4gICAgbGV0IHQgPSBlWzBdLmluZGV4U3RhdGUub2Zmc2V0LCBuID0gdC5sYXJnZXN0QmF0Y2hJZDtcbiAgICBmb3IgKGxldCByID0gMTsgciA8IGUubGVuZ3RoOyByKyspIHtcbiAgICAgICAgY29uc3QgaSA9IGVbcl0uaW5kZXhTdGF0ZS5vZmZzZXQ7XG4gICAgICAgIF9fUFJJVkFURV9pbmRleE9mZnNldENvbXBhcmF0b3IoaSwgdCkgPCAwICYmICh0ID0gaSksIG4gPCBpLmxhcmdlc3RCYXRjaElkICYmIChuID0gaS5sYXJnZXN0QmF0Y2hJZCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgSW5kZXhPZmZzZXQodC5yZWFkVGltZSwgdC5kb2N1bWVudEtleSwgbik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IEFlID0ge1xuICAgIGRpZFJ1bjogITEsXG4gICAgc2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkOiAwLFxuICAgIHRhcmdldHNSZW1vdmVkOiAwLFxuICAgIGRvY3VtZW50c1JlbW92ZWQ6IDBcbn07XG5cbmNsYXNzIExydVBhcmFtcyB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLy8gV2hlbiB3ZSBhdHRlbXB0IHRvIGNvbGxlY3QsIHdlIHdpbGwgb25seSBkbyBzbyBpZiB0aGUgY2FjaGUgc2l6ZSBpcyBncmVhdGVyIHRoYW4gdGhpc1xuICAgIC8vIHRocmVzaG9sZC4gUGFzc2luZyBgQ09MTEVDVElPTl9ESVNBQkxFRGAgaGVyZSB3aWxsIGNhdXNlIGNvbGxlY3Rpb24gdG8gYWx3YXlzIGJlIHNraXBwZWQuXG4gICAgZSwgXG4gICAgLy8gVGhlIHBlcmNlbnRhZ2Ugb2Ygc2VxdWVuY2UgbnVtYmVycyB0aGF0IHdlIHdpbGwgYXR0ZW1wdCB0byBjb2xsZWN0XG4gICAgdCwgXG4gICAgLy8gQSBjYXAgb24gdGhlIHRvdGFsIG51bWJlciBvZiBzZXF1ZW5jZSBudW1iZXJzIHRoYXQgd2lsbCBiZSBjb2xsZWN0ZWQuIFRoaXMgcHJldmVudHNcbiAgICAvLyB1cyBmcm9tIGNvbGxlY3RpbmcgYSBodWdlIG51bWJlciBvZiBzZXF1ZW5jZSBudW1iZXJzIGlmIHRoZSBjYWNoZSBoYXMgZ3Jvd24gdmVyeSBsYXJnZS5cbiAgICBuKSB7XG4gICAgICAgIHRoaXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZCA9IGUsIHRoaXMucGVyY2VudGlsZVRvQ29sbGVjdCA9IHQsIHRoaXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdCA9IG47XG4gICAgfVxuICAgIHN0YXRpYyB3aXRoQ2FjaGVTaXplKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMcnVQYXJhbXMoZSwgTHJ1UGFyYW1zLkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFLCBMcnVQYXJhbXMuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIERlbGV0ZSBhIG11dGF0aW9uIGJhdGNoIGFuZCB0aGUgYXNzb2NpYXRlZCBkb2N1bWVudCBtdXRhdGlvbnMuXG4gKiBAcmV0dXJucyBBIFBlcnNpc3RlbmNlUHJvbWlzZSBvZiB0aGUgZG9jdW1lbnQgbXV0YXRpb25zIHRoYXQgd2VyZSByZW1vdmVkLlxuICovXG5mdW5jdGlvbiByZW1vdmVNdXRhdGlvbkJhdGNoKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gZS5zdG9yZShcIm11dGF0aW9uc1wiKSwgaSA9IGUuc3RvcmUoXCJkb2N1bWVudE11dGF0aW9uc1wiKSwgcyA9IFtdLCBvID0gSURCS2V5UmFuZ2Uub25seShuLmJhdGNoSWQpO1xuICAgIGxldCBfID0gMDtcbiAgICBjb25zdCBhID0gci5KKHtcbiAgICAgICAgcmFuZ2U6IG9cbiAgICB9LCAoKGUsIHQsIG4pID0+IChfKyssIG4uZGVsZXRlKCkpKSk7XG4gICAgcy5wdXNoKGEubmV4dCgoKCkgPT4ge1xuICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCgxID09PSBfKTtcbiAgICB9KSkpO1xuICAgIGNvbnN0IHUgPSBbXTtcbiAgICBmb3IgKGNvbnN0IGUgb2Ygbi5tdXRhdGlvbnMpIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25LZXkodCwgZS5rZXkucGF0aCwgbi5iYXRjaElkKTtcbiAgICAgICAgcy5wdXNoKGkuZGVsZXRlKHIpKSwgdS5wdXNoKGUua2V5KTtcbiAgICB9XG4gICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHMpLm5leHQoKCgpID0+IHUpKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIGFwcHJveGltYXRlIHNpemUgZm9yIHRoZSBnaXZlbiBkb2N1bWVudC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZGJEb2N1bWVudFNpemUoZSkge1xuICAgIGlmICghZSkgcmV0dXJuIDA7XG4gICAgbGV0IHQ7XG4gICAgaWYgKGUuZG9jdW1lbnQpIHQgPSBlLmRvY3VtZW50OyBlbHNlIGlmIChlLnVua25vd25Eb2N1bWVudCkgdCA9IGUudW5rbm93bkRvY3VtZW50OyBlbHNlIHtcbiAgICAgICAgaWYgKCFlLm5vRG9jdW1lbnQpIHRocm93IGZhaWwoKTtcbiAgICAgICAgdCA9IGUubm9Eb2N1bWVudDtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpLmxlbmd0aDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBBIG11dGF0aW9uIHF1ZXVlIGZvciBhIHNwZWNpZmljIHVzZXIsIGJhY2tlZCBieSBJbmRleGVkREIuICovIExydVBhcmFtcy5ERUZBVUxUX0NPTExFQ1RJT05fUEVSQ0VOVElMRSA9IDEwLCBcbkxydVBhcmFtcy5ERUZBVUxUX01BWF9TRVFVRU5DRV9OVU1CRVJTX1RPX0NPTExFQ1QgPSAxZTMsIExydVBhcmFtcy5ERUZBVUxUID0gbmV3IExydVBhcmFtcyg0MTk0MzA0MCwgTHJ1UGFyYW1zLkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFLCBMcnVQYXJhbXMuREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUKSwgXG5McnVQYXJhbXMuRElTQUJMRUQgPSBuZXcgTHJ1UGFyYW1zKC0xLCAwLCAwKTtcblxuY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYk11dGF0aW9uUXVldWUge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBub3JtYWxpemVkIHVzZXJJZCAoZS5nLiBudWxsIFVJRCA9PiBcIlwiIHVzZXJJZCkgdXNlZCB0byBzdG9yZSAvXG4gICAgICogcmV0cmlldmUgbXV0YXRpb25zLlxuICAgICAqL1xuICAgIGUsIHQsIG4sIHIpIHtcbiAgICAgICAgdGhpcy51c2VySWQgPSBlLCB0aGlzLnNlcmlhbGl6ZXIgPSB0LCB0aGlzLmluZGV4TWFuYWdlciA9IG4sIHRoaXMucmVmZXJlbmNlRGVsZWdhdGUgPSByLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhY2hlcyB0aGUgZG9jdW1lbnQga2V5cyBmb3IgcGVuZGluZyBtdXRhdGlvbiBiYXRjaGVzLiBJZiB0aGUgbXV0YXRpb25cbiAgICAgICAgICogaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIEluZGV4ZWREYiwgdGhlIGNhY2hlZCB2YWx1ZSBtYXkgY29udGludWUgdG9cbiAgICAgICAgICogYmUgdXNlZCB0byByZXRyaWV2ZSB0aGUgYmF0Y2gncyBkb2N1bWVudCBrZXlzLiBUbyByZW1vdmUgYSBjYWNoZWQgdmFsdWVcbiAgICAgICAgICogbG9jYWxseSwgYHJlbW92ZUNhY2hlZE11dGF0aW9uS2V5cygpYCBzaG91bGQgYmUgaW52b2tlZCBlaXRoZXIgZGlyZWN0bHlcbiAgICAgICAgICogb3IgdGhyb3VnaCBgcmVtb3ZlTXV0YXRpb25CYXRjaGVzKClgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaXRoIG11bHRpLXRhYiwgd2hlbiB0aGUgcHJpbWFyeSBjbGllbnQgYWNrbm93bGVkZ2VzIG9yIHJlamVjdHMgYSBtdXRhdGlvbixcbiAgICAgICAgICogdGhpcyBjYWNoZSBpcyB1c2VkIGJ5IHNlY29uZGFyeSBjbGllbnRzIHRvIGludmFsaWRhdGUgdGhlIGxvY2FsXG4gICAgICAgICAqIHZpZXcgb2YgdGhlIGRvY3VtZW50cyB0aGF0IHdlcmUgcHJldmlvdXNseSBhZmZlY3RlZCBieSB0aGUgbXV0YXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgICAgICB0aGlzLkNuID0ge307XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgbXV0YXRpb24gcXVldWUgZm9yIHRoZSBnaXZlbiB1c2VyLlxuICAgICAqIEBwYXJhbSB1c2VyIC0gVGhlIHVzZXIgZm9yIHdoaWNoIHRvIGNyZWF0ZSBhIG11dGF0aW9uIHF1ZXVlLlxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVyIC0gVGhlIHNlcmlhbGl6ZXIgdG8gdXNlIHdoZW4gcGVyc2lzdGluZyB0byBJbmRleGVkRGIuXG4gICAgICovICAgIHN0YXRpYyBsdChlLCB0LCBuLCByKSB7XG4gICAgICAgIC8vIFRPRE8obWNnKTogRmlndXJlIG91dCB3aGF0IGNvbnN0cmFpbnRzIHRoZXJlIGFyZSBvbiB1c2VySURzXG4gICAgICAgIC8vIEluIHBhcnRpY3VsYXIsIGFyZSB0aGVyZSBhbnkgcmVzZXJ2ZWQgY2hhcmFjdGVycz8gYXJlIGVtcHR5IGlkcyBhbGxvd2VkP1xuICAgICAgICAvLyBGb3IgdGhlIG1vbWVudCBzdG9yZSB0aGVzZSB0b2dldGhlciBpbiB0aGUgc2FtZSBtdXRhdGlvbnMgdGFibGUgYXNzdW1pbmdcbiAgICAgICAgLy8gdGhhdCBlbXB0eSB1c2VySURzIGFyZW4ndCBhbGxvd2VkLlxuICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChcIlwiICE9PSBlLnVpZCk7XG4gICAgICAgIGNvbnN0IGkgPSBlLmlzQXV0aGVudGljYXRlZCgpID8gZS51aWQgOiBcIlwiO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJNdXRhdGlvblF1ZXVlKGksIHQsIG4sIHIpO1xuICAgIH1cbiAgICBjaGVja0VtcHR5KGUpIHtcbiAgICAgICAgbGV0IHQgPSAhMDtcbiAgICAgICAgY29uc3QgbiA9IElEQktleVJhbmdlLmJvdW5kKFsgdGhpcy51c2VySWQsIE51bWJlci5ORUdBVElWRV9JTkZJTklUWSBdLCBbIHRoaXMudXNlcklkLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgXSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJ1c2VyTXV0YXRpb25zSW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBuXG4gICAgICAgIH0sICgoZSwgbiwgcikgPT4ge1xuICAgICAgICAgICAgdCA9ICExLCByLmRvbmUoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHQpKTtcbiAgICB9XG4gICAgYWRkTXV0YXRpb25CYXRjaChlLCB0LCBuLCByKSB7XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZShlKSwgcyA9IF9fUFJJVkFURV9tdXRhdGlvbnNTdG9yZShlKTtcbiAgICAgICAgLy8gVGhlIEluZGV4ZWREYiBpbXBsZW1lbnRhdGlvbiBpbiBDaHJvbWUgKGFuZCBGaXJlZm94KSBkb2VzIG5vdCBoYW5kbGVcbiAgICAgICAgLy8gY29tcG91bmQgaW5kaWNlcyB0aGF0IGluY2x1ZGUgYXV0by1nZW5lcmF0ZWQga2V5cyBjb3JyZWN0bHkuIFRvIGVuc3VyZVxuICAgICAgICAvLyB0aGF0IHRoZSBpbmRleCBlbnRyeSBpcyBhZGRlZCBjb3JyZWN0bHkgaW4gYWxsIGJyb3dzZXJzLCB3ZSBwZXJmb3JtIHR3b1xuICAgICAgICAvLyB3cml0ZXM6IFRoZSBmaXJzdCB3cml0ZSBpcyB1c2VkIHRvIHJldHJpZXZlIHRoZSBuZXh0IGF1dG8tZ2VuZXJhdGVkIEJhdGNoXG4gICAgICAgIC8vIElELCBhbmQgdGhlIHNlY29uZCB3cml0ZSBwb3B1bGF0ZXMgdGhlIGluZGV4IGFuZCBzdG9yZXMgdGhlIGFjdHVhbFxuICAgICAgICAvLyBtdXRhdGlvbiBiYXRjaC5cbiAgICAgICAgLy8gU2VlOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD03MDE5NzJcbiAgICAgICAgLy8gV2Ugd3JpdGUgYW4gZW1wdHkgb2JqZWN0IHRvIG9idGFpbiBrZXlcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICAgICAgcmV0dXJuIHMuYWRkKHt9KS5uZXh0KChvID0+IHtcbiAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KFwibnVtYmVyXCIgPT0gdHlwZW9mIG8pO1xuICAgICAgICAgICAgY29uc3QgXyA9IG5ldyBNdXRhdGlvbkJhdGNoKG8sIHQsIG4sIHIpLCBhID0gZnVuY3Rpb24gX19QUklWQVRFX3RvRGJNdXRhdGlvbkJhdGNoKGUsIHQsIG4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gbi5iYXNlTXV0YXRpb25zLm1hcCgodCA9PiB0b011dGF0aW9uKGUuY3QsIHQpKSksIGkgPSBuLm11dGF0aW9ucy5tYXAoKHQgPT4gdG9NdXRhdGlvbihlLmN0LCB0KSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXJJZDogdCxcbiAgICAgICAgICAgICAgICAgICAgYmF0Y2hJZDogbi5iYXRjaElkLFxuICAgICAgICAgICAgICAgICAgICBsb2NhbFdyaXRlVGltZU1zOiBuLmxvY2FsV3JpdGVUaW1lLnRvTWlsbGlzKCksXG4gICAgICAgICAgICAgICAgICAgIGJhc2VNdXRhdGlvbnM6IHIsXG4gICAgICAgICAgICAgICAgICAgIG11dGF0aW9uczogaVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KHRoaXMuc2VyaWFsaXplciwgdGhpcy51c2VySWQsIF8pLCB1ID0gW107XG4gICAgICAgICAgICBsZXQgYyA9IG5ldyBTb3J0ZWRTZXQoKChlLCB0KSA9PiBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLmNhbm9uaWNhbFN0cmluZygpLCB0LmNhbm9uaWNhbFN0cmluZygpKSkpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX25ld0RiRG9jdW1lbnRNdXRhdGlvbktleSh0aGlzLnVzZXJJZCwgZS5rZXkucGF0aCwgbyk7XG4gICAgICAgICAgICAgICAgYyA9IGMuYWRkKGUua2V5LnBhdGgucG9wTGFzdCgpKSwgdS5wdXNoKHMucHV0KGEpKSwgdS5wdXNoKGkucHV0KHQsIE8pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgICAgIHUucHVzaCh0aGlzLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLCB0KSk7XG4gICAgICAgICAgICB9KSksIGUuYWRkT25Db21taXR0ZWRMaXN0ZW5lcigoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuQ25bb10gPSBfLmtleXMoKTtcbiAgICAgICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IodSkubmV4dCgoKCkgPT4gXykpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGxvb2t1cE11dGF0aW9uQmF0Y2goZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLmdldCh0KS5uZXh0KChlID0+IGUgPyAoX19QUklWQVRFX2hhcmRBc3NlcnQoZS51c2VySWQgPT09IHRoaXMudXNlcklkKSwgXG4gICAgICAgIF9fUFJJVkFURV9mcm9tRGJNdXRhdGlvbkJhdGNoKHRoaXMuc2VyaWFsaXplciwgZSkpIDogbnVsbCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBkb2N1bWVudCBrZXlzIGZvciB0aGUgbXV0YXRpb24gYmF0Y2ggd2l0aCB0aGUgZ2l2ZW4gYmF0Y2hJZC5cbiAgICAgKiBGb3IgcHJpbWFyeSBjbGllbnRzLCB0aGlzIG1ldGhvZCByZXR1cm5zIGBudWxsYCBhZnRlclxuICAgICAqIGByZW1vdmVNdXRhdGlvbkJhdGNoZXMoKWAgaGFzIGJlZW4gY2FsbGVkLiBTZWNvbmRhcnkgY2xpZW50cyByZXR1cm4gYVxuICAgICAqIGNhY2hlZCByZXN1bHQgdW50aWwgYHJlbW92ZUNhY2hlZE11dGF0aW9uS2V5cygpYCBpcyBpbnZva2VkLlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktdGFiIG9ubHkuXG4gICAgdm4oZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Dblt0XSA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuQ25bdF0pIDogdGhpcy5sb29rdXBNdXRhdGlvbkJhdGNoKGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gZS5rZXlzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ25bdF0gPSBuLCBuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdCArIDEsIHIgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKFsgdGhpcy51c2VySWQsIG4gXSk7XG4gICAgICAgIGxldCBpID0gbnVsbDtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcInVzZXJNdXRhdGlvbnNJbmRleFwiLFxuICAgICAgICAgICAgcmFuZ2U6IHJcbiAgICAgICAgfSwgKChlLCB0LCByKSA9PiB7XG4gICAgICAgICAgICB0LnVzZXJJZCA9PT0gdGhpcy51c2VySWQgJiYgKF9fUFJJVkFURV9oYXJkQXNzZXJ0KHQuYmF0Y2hJZCA+PSBuKSwgaSA9IF9fUFJJVkFURV9mcm9tRGJNdXRhdGlvbkJhdGNoKHRoaXMuc2VyaWFsaXplciwgdCkpLCBcbiAgICAgICAgICAgIHIuZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBnZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IElEQktleVJhbmdlLnVwcGVyQm91bmQoWyB0aGlzLnVzZXJJZCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0pO1xuICAgICAgICBsZXQgbiA9IC0xO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uc1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwidXNlck11dGF0aW9uc0luZGV4XCIsXG4gICAgICAgICAgICByYW5nZTogdCxcbiAgICAgICAgICAgIHJldmVyc2U6ICEwXG4gICAgICAgIH0sICgoZSwgdCwgcikgPT4ge1xuICAgICAgICAgICAgbiA9IHQuYmF0Y2hJZCwgci5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBJREJLZXlSYW5nZS5ib3VuZChbIHRoaXMudXNlcklkLCAtMSBdLCBbIHRoaXMudXNlcklkLCBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgXSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSkuVShcInVzZXJNdXRhdGlvbnNJbmRleFwiLCB0KS5uZXh0KChlID0+IGUubWFwKChlID0+IF9fUFJJVkFURV9mcm9tRGJNdXRhdGlvbkJhdGNoKHRoaXMuc2VyaWFsaXplciwgZSkpKSkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleShlLCB0KSB7XG4gICAgICAgIC8vIFNjYW4gdGhlIGRvY3VtZW50LW11dGF0aW9uIGluZGV4IHN0YXJ0aW5nIHdpdGggYSBwcmVmaXggc3RhcnRpbmcgd2l0aFxuICAgICAgICAvLyB0aGUgZ2l2ZW4gZG9jdW1lbnRLZXkuXG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yUGF0aCh0aGlzLnVzZXJJZCwgdC5wYXRoKSwgciA9IElEQktleVJhbmdlLmxvd2VyQm91bmQobiksIGkgPSBbXTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9kb2N1bWVudE11dGF0aW9uc1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgcmFuZ2U6IHJcbiAgICAgICAgfSwgKChuLCByLCBzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbbywgXywgYV0gPSBuLCB1ID0gX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChfKTtcbiAgICAgICAgICAgIC8vIE9ubHkgY29uc2lkZXIgcm93cyBtYXRjaGluZyBleGFjdGx5IHRoZSBzcGVjaWZpYyBrZXkgb2ZcbiAgICAgICAgICAgIC8vIGludGVyZXN0LiBOb3RlIHRoYXQgYmVjYXVzZSB3ZSBvcmRlciBieSBwYXRoIGZpcnN0LCBhbmQgd2VcbiAgICAgICAgICAgIC8vIG9yZGVyIHRlcm1pbmF0b3JzIGJlZm9yZSBwYXRoIHNlcGFyYXRvcnMsIHdlJ2xsIGVuY291bnRlciBhbGxcbiAgICAgICAgICAgIC8vIHRoZSBpbmRleCByb3dzIGZvciBkb2N1bWVudEtleSBjb250aWd1b3VzbHkuIEluIHBhcnRpY3VsYXIsIGFsbFxuICAgICAgICAgICAgLy8gdGhlIHJvd3MgZm9yIGRvY3VtZW50S2V5IHdpbGwgb2NjdXIgYmVmb3JlIGFueSByb3dzIGZvclxuICAgICAgICAgICAgLy8gZG9jdW1lbnRzIG5lc3RlZCBpbiBhIHN1YmNvbGxlY3Rpb24gYmVuZWF0aCBkb2N1bWVudEtleSBzbyB3ZVxuICAgICAgICAgICAgLy8gY2FuIHN0b3AgYXMgc29vbiBhcyB3ZSBoaXQgYW55IHN1Y2ggcm93LlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8gPT09IHRoaXMudXNlcklkICYmIHQucGF0aC5pc0VxdWFsKHUpKSBcbiAgICAgICAgICAgIC8vIExvb2sgdXAgdGhlIG11dGF0aW9uIGJhdGNoIGluIHRoZSBzdG9yZS5cbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSkuZ2V0KGEpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZSkgdGhyb3cgZmFpbCgpO1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KGUudXNlcklkID09PSB0aGlzLnVzZXJJZCksIGkucHVzaChfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIGUpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHMuZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICBnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleXMoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpO1xuICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25QcmVmaXhGb3JQYXRoKHRoaXMudXNlcklkLCB0LnBhdGgpLCBzID0gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChpKSwgbyA9IF9fUFJJVkFURV9kb2N1bWVudE11dGF0aW9uc1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgICAgIHJhbmdlOiBzXG4gICAgICAgICAgICB9LCAoKGUsIHIsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbcywgbywgX10gPSBlLCBhID0gX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChvKTtcbiAgICAgICAgICAgICAgICAvLyBPbmx5IGNvbnNpZGVyIHJvd3MgbWF0Y2hpbmcgZXhhY3RseSB0aGUgc3BlY2lmaWMga2V5IG9mXG4gICAgICAgICAgICAgICAgLy8gaW50ZXJlc3QuIE5vdGUgdGhhdCBiZWNhdXNlIHdlIG9yZGVyIGJ5IHBhdGggZmlyc3QsIGFuZCB3ZVxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIHRlcm1pbmF0b3JzIGJlZm9yZSBwYXRoIHNlcGFyYXRvcnMsIHdlJ2xsIGVuY291bnRlciBhbGxcbiAgICAgICAgICAgICAgICAvLyB0aGUgaW5kZXggcm93cyBmb3IgZG9jdW1lbnRLZXkgY29udGlndW91c2x5LiBJbiBwYXJ0aWN1bGFyLCBhbGxcbiAgICAgICAgICAgICAgICAvLyB0aGUgcm93cyBmb3IgZG9jdW1lbnRLZXkgd2lsbCBvY2N1ciBiZWZvcmUgYW55IHJvd3MgZm9yXG4gICAgICAgICAgICAgICAgLy8gZG9jdW1lbnRzIG5lc3RlZCBpbiBhIHN1YmNvbGxlY3Rpb24gYmVuZWF0aCBkb2N1bWVudEtleSBzbyB3ZVxuICAgICAgICAgICAgICAgIC8vIGNhbiBzdG9wIGFzIHNvb24gYXMgd2UgaGl0IGFueSBzdWNoIHJvdy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcyA9PT0gdGhpcy51c2VySWQgJiYgdC5wYXRoLmlzRXF1YWwoYSkgPyBuID0gbi5hZGQoXykgOiBpLmRvbmUoKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHIucHVzaChvKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihyKS5uZXh0KCgoKSA9PiB0aGlzLkZuKGUsIG4pKSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQucGF0aCwgciA9IG4ubGVuZ3RoICsgMSwgaSA9IF9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25QcmVmaXhGb3JQYXRoKHRoaXMudXNlcklkLCBuKSwgcyA9IElEQktleVJhbmdlLmxvd2VyQm91bmQoaSk7XG4gICAgICAgIC8vIENvbGxlY3QgdXAgdW5pcXVlIGJhdGNoSURzIGVuY291bnRlcmVkIGR1cmluZyBhIHNjYW4gb2YgdGhlIGluZGV4LiBVc2UgYVxuICAgICAgICAvLyBTb3J0ZWRTZXQgdG8gYWNjdW11bGF0ZSBiYXRjaCBJRHMgc28gdGhleSBjYW4gYmUgdHJhdmVyc2VkIGluIG9yZGVyIGluIGFcbiAgICAgICAgLy8gc2NhbiBvZiB0aGUgbWFpbiB0YWJsZS5cbiAgICAgICAgbGV0IG8gPSBuZXcgU29ydGVkU2V0KF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9kb2N1bWVudE11dGF0aW9uc1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgcmFuZ2U6IHNcbiAgICAgICAgfSwgKChlLCB0LCBpKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBbcywgXywgYV0gPSBlLCB1ID0gX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChfKTtcbiAgICAgICAgICAgIHMgPT09IHRoaXMudXNlcklkICYmIG4uaXNQcmVmaXhPZih1KSA/IFxuICAgICAgICAgICAgLy8gUm93cyB3aXRoIGRvY3VtZW50IGtleXMgbW9yZSB0aGFuIG9uZSBzZWdtZW50IGxvbmdlciB0aGFuIHRoZVxuICAgICAgICAgICAgLy8gcXVlcnkgcGF0aCBjYW4ndCBiZSBtYXRjaGVzLiBGb3IgZXhhbXBsZSwgYSBxdWVyeSBvbiAncm9vbXMnXG4gICAgICAgICAgICAvLyBjYW4ndCBtYXRjaCB0aGUgZG9jdW1lbnQgL3Jvb21zL2FiYy9tZXNzYWdlcy94eXguXG4gICAgICAgICAgICAvLyBUT0RPKG1jZyk6IHdlJ2xsIG5lZWQgYSBkaWZmZXJlbnQgc2Nhbm5lciB3aGVuIHdlIGltcGxlbWVudFxuICAgICAgICAgICAgLy8gYW5jZXN0b3IgcXVlcmllcy5cbiAgICAgICAgICAgIHUubGVuZ3RoID09PSByICYmIChvID0gby5hZGQoYSkpIDogaS5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0aGlzLkZuKGUsIG8pKSk7XG4gICAgfVxuICAgIEZuKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IFtdLCByID0gW107XG4gICAgICAgIC8vIFRPRE8ocm9ja3dvb2QpOiBJbXBsZW1lbnQgdGhpcyB1c2luZyBpdGVyYXRlLlxuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIHIucHVzaChfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSkuZ2V0KHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChudWxsID09PSBlKSB0aHJvdyBmYWlsKCk7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoZS51c2VySWQgPT09IHRoaXMudXNlcklkKSwgbi5wdXNoKF9fUFJJVkFURV9mcm9tRGJNdXRhdGlvbkJhdGNoKHRoaXMuc2VyaWFsaXplciwgZSkpO1xuICAgICAgICAgICAgfSkpKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihyKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgfVxuICAgIHJlbW92ZU11dGF0aW9uQmF0Y2goZSwgdCkge1xuICAgICAgICByZXR1cm4gcmVtb3ZlTXV0YXRpb25CYXRjaChlLl9lLCB0aGlzLnVzZXJJZCwgdCkubmV4dCgobiA9PiAoZS5hZGRPbkNvbW1pdHRlZExpc3RlbmVyKCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLk1uKHQuYmF0Y2hJZCk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2gobiwgKHQgPT4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5tYXJrUG90ZW50aWFsbHlPcnBoYW5lZChlLCB0KSkpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGNhY2hlZCBrZXlzIGZvciBhIG11dGF0aW9uIGJhdGNoLiBUaGlzIG1ldGhvZCBzaG91bGQgYmVcbiAgICAgKiBjYWxsZWQgYnkgc2Vjb25kYXJ5IGNsaWVudHMgYWZ0ZXIgdGhleSBwcm9jZXNzIG11dGF0aW9uIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyBtZXRob2QgZG9lcyBub3QgaGF2ZSB0byBiZSBjYWxsZWQgZnJvbSBwcmltYXJ5IGNsaWVudHMgYXNcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBjYWNoZSBlbnRyaWVzIGFyZSBjbGVhcmVkIHdoZW4gYW4gYWNrbm93bGVkZ2VkIG9yXG4gICAgICogcmVqZWN0ZWQgYmF0Y2ggaXMgcmVtb3ZlZCBmcm9tIHRoZSBtdXRhdGlvbiBxdWV1ZS5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5XG4gICAgTW4oZSkge1xuICAgICAgICBkZWxldGUgdGhpcy5DbltlXTtcbiAgICB9XG4gICAgcGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2soZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja0VtcHR5KGUpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgaWYgKCF0KSByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIC8vIFZlcmlmeSB0aGF0IHRoZXJlIGFyZSBubyBlbnRyaWVzIGluIHRoZSBkb2N1bWVudE11dGF0aW9ucyBpbmRleCBpZlxuICAgICAgICAgICAgLy8gdGhlIHF1ZXVlIGlzIGVtcHR5LlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IElEQktleVJhbmdlLmxvd2VyQm91bmQoXG4gICAgICAgICAgICAvKipcbiAqIENyZWF0ZXMgYSBbdXNlcklkXSBrZXkgZm9yIHVzZSBpbiB0aGUgRGJEb2N1bWVudE11dGF0aW9ucyBpbmRleCB0byBpdGVyYXRlXG4gKiBvdmVyIGFsbCBvZiBhIHVzZXIncyBkb2N1bWVudCBtdXRhdGlvbnMuXG4gKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25QcmVmaXhGb3JVc2VyKGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWyBlIF07XG4gICAgICAgICAgICB9KHRoaXMudXNlcklkKSksIHIgPSBbXTtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgICAgICByYW5nZTogblxuICAgICAgICAgICAgfSwgKChlLCB0LCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGVbMF0gPT09IHRoaXMudXNlcklkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVjb2RlUmVzb3VyY2VQYXRoKGVbMV0pO1xuICAgICAgICAgICAgICAgICAgICByLnB1c2godCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIG4uZG9uZSgpO1xuICAgICAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCgwID09PSByLmxlbmd0aCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgY29udGFpbnNLZXkoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX211dGF0aW9uUXVldWVDb250YWluc0tleShlLCB0aGlzLnVzZXJJZCwgdCk7XG4gICAgfVxuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktdGFiIG9ubHkgKHN0YXRlIGlzIGhlbGQgaW4gbWVtb3J5IGluIG90aGVyIGNsaWVudHMpLlxuICAgIC8qKiBSZXR1cm5zIHRoZSBtdXRhdGlvbiBxdWV1ZSdzIG1ldGFkYXRhIGZyb20gSW5kZXhlZERiLiAqL1xuICAgIHhuKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlc1N0b3JlKGUpLmdldCh0aGlzLnVzZXJJZCkubmV4dCgoZSA9PiBlIHx8IHtcbiAgICAgICAgICAgIHVzZXJJZDogdGhpcy51c2VySWQsXG4gICAgICAgICAgICBsYXN0QWNrbm93bGVkZ2VkQmF0Y2hJZDogLTEsXG4gICAgICAgICAgICBsYXN0U3RyZWFtVG9rZW46IFwiXCJcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBtdXRhdGlvbiBxdWV1ZSBmb3IgdGhlIGdpdmVuIHVzZXIgY29udGFpbnMgYSBwZW5kaW5nXG4gKiAgICAgICAgIG11dGF0aW9uIGZvciB0aGUgZ2l2ZW4ga2V5LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlQ29udGFpbnNLZXkoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yUGF0aCh0LCBuLnBhdGgpLCBpID0gclsxXSwgcyA9IElEQktleVJhbmdlLmxvd2VyQm91bmQocik7XG4gICAgbGV0IG8gPSAhMTtcbiAgICByZXR1cm4gX19QUklWQVRFX2RvY3VtZW50TXV0YXRpb25zU3RvcmUoZSkuSih7XG4gICAgICAgIHJhbmdlOiBzLFxuICAgICAgICBIOiAhMFxuICAgIH0sICgoZSwgbiwgcikgPT4ge1xuICAgICAgICBjb25zdCBbcywgXywgLypiYXRjaElEKi8gYV0gPSBlO1xuICAgICAgICBzID09PSB0ICYmIF8gPT09IGkgJiYgKG8gPSAhMCksIHIuZG9uZSgpO1xuICAgIH0pKS5uZXh0KCgoKSA9PiBvKSk7XG59XG5cbi8qKiBSZXR1cm5zIHRydWUgaWYgYW55IG11dGF0aW9uIHF1ZXVlIGNvbnRhaW5zIHRoZSBnaXZlbiBkb2N1bWVudC4gKi9cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBtdXRhdGlvbnMgb2JqZWN0IHN0b3JlLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25zU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJtdXRhdGlvbnNcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBtdXRhdGlvblF1ZXVlcyBvYmplY3Qgc3RvcmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2RvY3VtZW50TXV0YXRpb25zU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJkb2N1bWVudE11dGF0aW9uc1wiKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIG11dGF0aW9uUXVldWVzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbXV0YXRpb25RdWV1ZXNTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcIm11dGF0aW9uUXVldWVzXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIE9mZnNldCB0byBlbnN1cmUgbm9uLW92ZXJsYXBwaW5nIHRhcmdldCBpZHMuICovXG4vKipcbiAqIEdlbmVyYXRlcyBtb25vdG9uaWNhbGx5IGluY3JlYXNpbmcgdGFyZ2V0IElEcyBmb3Igc2VuZGluZyB0YXJnZXRzIHRvIHRoZVxuICogd2F0Y2ggc3RyZWFtLlxuICpcbiAqIFRoZSBjbGllbnQgY29uc3RydWN0cyB0d28gZ2VuZXJhdG9ycywgb25lIGZvciB0aGUgdGFyZ2V0IGNhY2hlLCBhbmQgb25lIGZvclxuICogZm9yIHRoZSBzeW5jIGVuZ2luZSAodG8gZ2VuZXJhdGUgbGltYm8gZG9jdW1lbnRzIHRhcmdldHMpLiBUaGVzZVxuICogZ2VuZXJhdG9ycyBwcm9kdWNlIG5vbi1vdmVybGFwcGluZyBJRHMgKGJ5IHVzaW5nIGV2ZW4gYW5kIG9kZCBJRHNcbiAqIHJlc3BlY3RpdmVseSkuXG4gKlxuICogQnkgc2VwYXJhdGluZyB0aGUgdGFyZ2V0IElEIHNwYWNlLCB0aGUgcXVlcnkgY2FjaGUgY2FuIGdlbmVyYXRlIHRhcmdldCBJRHNcbiAqIHRoYXQgcGVyc2lzdCBhY3Jvc3MgY2xpZW50IHJlc3RhcnRzLCB3aGlsZSBzeW5jIGVuZ2luZSBjYW4gaW5kZXBlbmRlbnRseVxuICogZ2VuZXJhdGUgaW4tbWVtb3J5IHRhcmdldCBJRHMgdGhhdCBhcmUgdHJhbnNpZW50IGFuZCBjYW4gYmUgcmV1c2VkIGFmdGVyIGFcbiAqIHJlc3RhcnQuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9UYXJnZXRJZEdlbmVyYXRvciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLk9uID0gZTtcbiAgICB9XG4gICAgbmV4dCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuT24gKz0gMiwgdGhpcy5PbjtcbiAgICB9XG4gICAgc3RhdGljIE5uKCkge1xuICAgICAgICAvLyBUaGUgdGFyZ2V0IGNhY2hlIGdlbmVyYXRvciBtdXN0IHJldHVybiAnMicgaW4gaXRzIGZpcnN0IGNhbGwgdG8gYG5leHQoKWBcbiAgICAgICAgLy8gYXMgdGhlcmUgaXMgbm8gZGlmZmVyZW50aWF0aW9uIGluIHRoZSBwcm90b2NvbCBsYXllciBiZXR3ZWVuIGFuIHVuc2V0XG4gICAgICAgIC8vIG51bWJlciBhbmQgdGhlIG51bWJlciAnMCcuIElmIHdlIHdlcmUgdG8gc2VudCBhIHRhcmdldCB3aXRoIHRhcmdldCBJRFxuICAgICAgICAvLyAnMCcsIHRoZSBiYWNrZW5kIHdvdWxkIGNvbnNpZGVyIGl0IHVuc2V0IGFuZCByZXBsYWNlIGl0IHdpdGggaXRzIG93biBJRC5cbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfVGFyZ2V0SWRHZW5lcmF0b3IoMCk7XG4gICAgfVxuICAgIHN0YXRpYyBMbigpIHtcbiAgICAgICAgLy8gU3luYyBlbmdpbmUgYXNzaWducyB0YXJnZXQgSURzIGZvciBsaW1ibyBkb2N1bWVudCBkZXRlY3Rpb24uXG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yKC0xKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJUYXJnZXRDYWNoZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZURlbGVnYXRlID0gZSwgdGhpcy5zZXJpYWxpemVyID0gdDtcbiAgICB9XG4gICAgLy8gUE9SVElORyBOT1RFOiBXZSBkb24ndCBjYWNoZSBnbG9iYWwgbWV0YWRhdGEgZm9yIHRoZSB0YXJnZXQgY2FjaGUsIHNpbmNlXG4gICAgLy8gc29tZSBvZiBpdCAoaW4gcGFydGljdWxhciBgaGlnaGVzdFRhcmdldElkYCkgY2FuIGJlIG1vZGlmaWVkIGJ5IHNlY29uZGFyeVxuICAgIC8vIHRhYnMuIFdlIGNvdWxkIHBlcmhhcHMgYmUgbW9yZSBncmFudWxhciAoYW5kIGUuZy4gc3RpbGwgY2FjaGVcbiAgICAvLyBgbGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbmAgaW4gbWVtb3J5KSBidXQgZm9yIHNpbXBsaWNpdHkgd2UgY3VycmVudGx5IGdvXG4gICAgLy8gdG8gSW5kZXhlZERiIHdoZW5ldmVyIHdlIG5lZWQgdG8gcmVhZCBtZXRhZGF0YS4gV2UgY2FuIHJldmlzaXQgaWYgaXQgdHVybnNcbiAgICAvLyBvdXQgdG8gaGF2ZSBhIG1lYW5pbmdmdWwgcGVyZm9ybWFuY2UgaW1wYWN0LlxuICAgIGFsbG9jYXRlVGFyZ2V0SWQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5CbihlKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX1RhcmdldElkR2VuZXJhdG9yKHQuaGlnaGVzdFRhcmdldElkKTtcbiAgICAgICAgICAgIHJldHVybiB0LmhpZ2hlc3RUYXJnZXRJZCA9IG4ubmV4dCgpLCB0aGlzLmtuKGUsIHQpLm5leHQoKCgpID0+IHQuaGlnaGVzdFRhcmdldElkKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLkJuKGUpLm5leHQoKGUgPT4gU25hcHNob3RWZXJzaW9uLmZyb21UaW1lc3RhbXAobmV3IFRpbWVzdGFtcChlLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24uc2Vjb25kcywgZS5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uLm5hbm9zZWNvbmRzKSkpKTtcbiAgICB9XG4gICAgZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuQm4oZSkubmV4dCgoZSA9PiBlLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlcikpO1xuICAgIH1cbiAgICBzZXRUYXJnZXRzTWV0YWRhdGEoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5CbihlKS5uZXh0KChyID0+IChyLmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciA9IHQsIG4gJiYgKHIubGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiA9IG4udG9UaW1lc3RhbXAoKSksIFxuICAgICAgICB0ID4gci5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgJiYgKHIuaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyID0gdCksIHRoaXMua24oZSwgcikpKSk7XG4gICAgfVxuICAgIGFkZFRhcmdldERhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xbihlLCB0KS5uZXh0KCgoKSA9PiB0aGlzLkJuKGUpLm5leHQoKG4gPT4gKG4udGFyZ2V0Q291bnQgKz0gMSwgdGhpcy5Rbih0LCBuKSwgXG4gICAgICAgIHRoaXMua24oZSwgbikpKSkpKTtcbiAgICB9XG4gICAgdXBkYXRlVGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnFuKGUsIHQpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXREYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdC50YXJnZXRJZCkubmV4dCgoKCkgPT4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5kZWxldGUodC50YXJnZXRJZCkpKS5uZXh0KCgoKSA9PiB0aGlzLkJuKGUpKSkubmV4dCgodCA9PiAoX19QUklWQVRFX2hhcmRBc3NlcnQodC50YXJnZXRDb3VudCA+IDApLCBcbiAgICAgICAgdC50YXJnZXRDb3VudCAtPSAxLCB0aGlzLmtuKGUsIHQpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEcm9wcyBhbnkgdGFyZ2V0cyB3aXRoIHNlcXVlbmNlIG51bWJlciBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHVwcGVyIGJvdW5kLCBleGNlcHRpbmcgdGhvc2VcbiAgICAgKiBwcmVzZW50IGluIGBhY3RpdmVUYXJnZXRJZHNgLiBEb2N1bWVudCBhc3NvY2lhdGlvbnMgZm9yIHRoZSByZW1vdmVkIHRhcmdldHMgYXJlIGFsc28gcmVtb3ZlZC5cbiAgICAgKiBSZXR1cm5zIHRoZSBudW1iZXIgb2YgdGFyZ2V0cyByZW1vdmVkLlxuICAgICAqLyAgICByZW1vdmVUYXJnZXRzKGUsIHQsIG4pIHtcbiAgICAgICAgbGV0IHIgPSAwO1xuICAgICAgICBjb25zdCBpID0gW107XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdGFyZ2V0c1N0b3JlKGUpLkooKChzLCBvKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBfID0gX19QUklWQVRFX2Zyb21EYlRhcmdldChvKTtcbiAgICAgICAgICAgIF8uc2VxdWVuY2VOdW1iZXIgPD0gdCAmJiBudWxsID09PSBuLmdldChfLnRhcmdldElkKSAmJiAocisrLCBpLnB1c2godGhpcy5yZW1vdmVUYXJnZXREYXRhKGUsIF8pKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihpKSkpLm5leHQoKCgpID0+IHIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCBwcm92aWRlZCBmdW5jdGlvbiB3aXRoIGVhY2ggYFRhcmdldERhdGFgIHRoYXQgd2UgaGF2ZSBjYWNoZWQuXG4gICAgICovICAgIGZvckVhY2hUYXJnZXQoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5KKCgoZSwgbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9mcm9tRGJUYXJnZXQobik7XG4gICAgICAgICAgICB0KHIpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIEJuKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9nbG9iYWxUYXJnZXRTdG9yZShlKS5nZXQoXCJ0YXJnZXRHbG9iYWxLZXlcIikubmV4dCgoZSA9PiAoX19QUklWQVRFX2hhcmRBc3NlcnQobnVsbCAhPT0gZSksIFxuICAgICAgICBlKSkpO1xuICAgIH1cbiAgICBrbihlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZ2xvYmFsVGFyZ2V0U3RvcmUoZSkucHV0KFwidGFyZ2V0R2xvYmFsS2V5XCIsIHQpO1xuICAgIH1cbiAgICBxbihlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdGFyZ2V0c1N0b3JlKGUpLnB1dChfX1BSSVZBVEVfdG9EYlRhcmdldCh0aGlzLnNlcmlhbGl6ZXIsIHQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW4tcGxhY2UgdXBkYXRlcyB0aGUgcHJvdmlkZWQgbWV0YWRhdGEgdG8gYWNjb3VudCBmb3IgdmFsdWVzIGluIHRoZSBnaXZlblxuICAgICAqIFRhcmdldERhdGEuIFNhdmluZyBpcyBkb25lIHNlcGFyYXRlbHkuIFJldHVybnMgdHJ1ZSBpZiB0aGVyZSB3ZXJlIGFueVxuICAgICAqIGNoYW5nZXMgdG8gdGhlIG1ldGFkYXRhLlxuICAgICAqLyAgICBRbihlLCB0KSB7XG4gICAgICAgIGxldCBuID0gITE7XG4gICAgICAgIHJldHVybiBlLnRhcmdldElkID4gdC5oaWdoZXN0VGFyZ2V0SWQgJiYgKHQuaGlnaGVzdFRhcmdldElkID0gZS50YXJnZXRJZCwgbiA9ICEwKSwgXG4gICAgICAgIGUuc2VxdWVuY2VOdW1iZXIgPiB0LmhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlciAmJiAodC5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIgPSBlLnNlcXVlbmNlTnVtYmVyLCBcbiAgICAgICAgbiA9ICEwKSwgbjtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0Q291bnQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5CbihlKS5uZXh0KChlID0+IGUudGFyZ2V0Q291bnQpKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIC8vIEl0ZXJhdGluZyBieSB0aGUgY2Fub25pY2FsSWQgbWF5IHlpZWxkIG1vcmUgdGhhbiBvbmUgcmVzdWx0IGJlY2F1c2VcbiAgICAgICAgLy8gY2Fub25pY2FsSWQgdmFsdWVzIGFyZSBub3QgcmVxdWlyZWQgdG8gYmUgdW5pcXVlIHBlciB0YXJnZXQuIFRoaXMgcXVlcnlcbiAgICAgICAgLy8gZGVwZW5kcyBvbiB0aGUgcXVlcnlUYXJnZXRzIGluZGV4IHRvIGJlIGVmZmljaWVudC5cbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9jYW5vbmlmeVRhcmdldCh0KSwgciA9IElEQktleVJhbmdlLmJvdW5kKFsgbiwgTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZIF0sIFsgbiwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIF0pO1xuICAgICAgICBsZXQgaSA9IG51bGw7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdGFyZ2V0c1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgcmFuZ2U6IHIsXG4gICAgICAgICAgICBpbmRleDogXCJxdWVyeVRhcmdldHNJbmRleFwiXG4gICAgICAgIH0sICgoZSwgbiwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9mcm9tRGJUYXJnZXQobik7XG4gICAgICAgICAgICAvLyBBZnRlciBmaW5kaW5nIGEgcG90ZW50aWFsIG1hdGNoLCBjaGVjayB0aGF0IHRoZSB0YXJnZXQgaXNcbiAgICAgICAgICAgIC8vIGFjdHVhbGx5IGVxdWFsIHRvIHRoZSByZXF1ZXN0ZWQgdGFyZ2V0LlxuICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX3RhcmdldEVxdWFscyh0LCBzLnRhcmdldCkgJiYgKGkgPSBzLCByLmRvbmUoKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSk7XG4gICAgfVxuICAgIGFkZE1hdGNoaW5nS2V5cyhlLCB0LCBuKSB7XG4gICAgICAgIC8vIFBPUlRJTkcgTk9URTogVGhlIHJldmVyc2UgaW5kZXggKGRvY3VtZW50c1RhcmdldHMpIGlzIG1haW50YWluZWQgYnlcbiAgICAgICAgLy8gSW5kZXhlZERiLlxuICAgICAgICBjb25zdCByID0gW10sIGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKTtcbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICBjb25zdCBzID0gX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aCh0LnBhdGgpO1xuICAgICAgICAgICAgci5wdXNoKGkucHV0KHtcbiAgICAgICAgICAgICAgICB0YXJnZXRJZDogbixcbiAgICAgICAgICAgICAgICBwYXRoOiBzXG4gICAgICAgICAgICB9KSksIHIucHVzaCh0aGlzLnJlZmVyZW5jZURlbGVnYXRlLmFkZFJlZmVyZW5jZShlLCBuLCB0KSk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3Iocik7XG4gICAgfVxuICAgIHJlbW92ZU1hdGNoaW5nS2V5cyhlLCB0LCBuKSB7XG4gICAgICAgIC8vIFBPUlRJTkcgTk9URTogVGhlIHJldmVyc2UgaW5kZXggKGRvY3VtZW50c1RhcmdldHMpIGlzIG1haW50YWluZWQgYnlcbiAgICAgICAgLy8gSW5kZXhlZERiLlxuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSk7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAodCA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aCh0LnBhdGgpO1xuICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKFsgci5kZWxldGUoWyBuLCBpIF0pLCB0aGlzLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVJlZmVyZW5jZShlLCBuLCB0KSBdKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKSwgciA9IElEQktleVJhbmdlLmJvdW5kKFsgdCBdLCBbIHQgKyAxIF0sIFxuICAgICAgICAvKmxvd2VyT3Blbj0qLyAhMSwgXG4gICAgICAgIC8qdXBwZXJPcGVuPSovICEwKTtcbiAgICAgICAgcmV0dXJuIG4uZGVsZXRlKHIpO1xuICAgIH1cbiAgICBnZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBJREJLZXlSYW5nZS5ib3VuZChbIHQgXSwgWyB0ICsgMSBdLCBcbiAgICAgICAgLypsb3dlck9wZW49Ki8gITEsIFxuICAgICAgICAvKnVwcGVyT3Blbj0qLyAhMCksIHIgPSBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKTtcbiAgICAgICAgbGV0IGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgcmV0dXJuIHIuSih7XG4gICAgICAgICAgICByYW5nZTogbixcbiAgICAgICAgICAgIEg6ICEwXG4gICAgICAgIH0sICgoZSwgdCwgbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWNvZGVSZXNvdXJjZVBhdGgoZVsxXSksIHMgPSBuZXcgRG9jdW1lbnRLZXkocik7XG4gICAgICAgICAgICBpID0gaS5hZGQocyk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSk7XG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgodC5wYXRoKSwgciA9IElEQktleVJhbmdlLmJvdW5kKFsgbiBdLCBbIF9fUFJJVkFURV9pbW1lZGlhdGVTdWNjZXNzb3IobikgXSwgXG4gICAgICAgIC8qbG93ZXJPcGVuPSovICExLCBcbiAgICAgICAgLyp1cHBlck9wZW49Ki8gITApO1xuICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50VGFyZ2V0c0luZGV4XCIsXG4gICAgICAgICAgICBIOiAhMCxcbiAgICAgICAgICAgIHJhbmdlOiByXG4gICAgICAgIH0sICgoW2UsIHRdLCBuLCByKSA9PiB7XG4gICAgICAgICAgICAvLyBIYXZpbmcgYSBzZW50aW5lbCByb3cgZm9yIGEgZG9jdW1lbnQgZG9lcyBub3QgY291bnQgYXMgY29udGFpbmluZyB0aGF0IGRvY3VtZW50O1xuICAgICAgICAgICAgLy8gRm9yIHRoZSB0YXJnZXQgY2FjaGUsIGNvbnRhaW5pbmcgdGhlIGRvY3VtZW50IG1lYW5zIHRoZSBkb2N1bWVudCBpcyBwYXJ0IG9mIHNvbWVcbiAgICAgICAgICAgIC8vIHRhcmdldC5cbiAgICAgICAgICAgIDAgIT09IGUgJiYgKGkrKywgci5kb25lKCkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gaSA+IDApKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYSBUYXJnZXREYXRhIGVudHJ5IGJ5IHRhcmdldCBJRC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YXJnZXRJZCAtIFRoZSB0YXJnZXQgSUQgb2YgdGhlIFRhcmdldERhdGEgZW50cnkgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2FjaGVkIFRhcmdldERhdGEgZW50cnksIG9yIG51bGwgaWYgdGhlIGNhY2hlIGhhcyBubyBlbnRyeSBmb3JcbiAgICAgKiB0aGUgdGFyZ2V0LlxuICAgICAqL1xuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktdGFiIG9ubHkuXG4gICAgb3QoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3RhcmdldHNTdG9yZShlKS5nZXQodCkubmV4dCgoZSA9PiBlID8gX19QUklWQVRFX2Zyb21EYlRhcmdldChlKSA6IG51bGwpKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBxdWVyaWVzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdGFyZ2V0c1N0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwidGFyZ2V0c1wiKTtcbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIHRhcmdldCBnbG9iYWxzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZ2xvYmFsVGFyZ2V0U3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJ0YXJnZXRHbG9iYWxcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBkb2N1bWVudCB0YXJnZXQgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudFRhcmdldFN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwidGFyZ2V0RG9jdW1lbnRzXCIpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYnVmZmVyRW50cnlDb21wYXJhdG9yKFtlLCB0XSwgW24sIHJdKSB7XG4gICAgY29uc3QgaSA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUsIG4pO1xuICAgIHJldHVybiAwID09PSBpID8gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IodCwgcikgOiBpO1xufVxuXG4vKipcbiAqIFVzZWQgdG8gY2FsY3VsYXRlIHRoZSBudGggc2VxdWVuY2UgbnVtYmVyLiBLZWVwcyBhIHJvbGxpbmcgYnVmZmVyIG9mIHRoZVxuICogbG93ZXN0IG4gdmFsdWVzIHBhc3NlZCB0byBgYWRkRWxlbWVudGAsIGFuZCBmaW5hbGx5IHJlcG9ydHMgdGhlIGxhcmdlc3Qgb2ZcbiAqIHRoZW0gaW4gYG1heFZhbHVlYC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfUm9sbGluZ1NlcXVlbmNlTnVtYmVyQnVmZmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuS24gPSBlLCB0aGlzLmJ1ZmZlciA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX2J1ZmZlckVudHJ5Q29tcGFyYXRvciksIHRoaXMuJG4gPSAwO1xuICAgIH1cbiAgICBVbigpIHtcbiAgICAgICAgcmV0dXJuICsrdGhpcy4kbjtcbiAgICB9XG4gICAgV24oZSkge1xuICAgICAgICBjb25zdCB0ID0gWyBlLCB0aGlzLlVuKCkgXTtcbiAgICAgICAgaWYgKHRoaXMuYnVmZmVyLnNpemUgPCB0aGlzLktuKSB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLmFkZCh0KTsgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5idWZmZXIubGFzdCgpO1xuICAgICAgICAgICAgX19QUklWQVRFX2J1ZmZlckVudHJ5Q29tcGFyYXRvcih0LCBlKSA8IDAgJiYgKHRoaXMuYnVmZmVyID0gdGhpcy5idWZmZXIuZGVsZXRlKGUpLmFkZCh0KSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IG1heFZhbHVlKCkge1xuICAgICAgICAvLyBHdWFyYW50ZWVkIHRvIGJlIG5vbi1lbXB0eS4gSWYgd2UgZGVjaWRlIHdlIGFyZSBub3QgY29sbGVjdGluZyBhbnlcbiAgICAgICAgLy8gc2VxdWVuY2UgbnVtYmVycywgbnRoU2VxdWVuY2VOdW1iZXIgYmVsb3cgc2hvcnQtY2lyY3VpdHMuIElmIHdlIGhhdmVcbiAgICAgICAgLy8gZGVjaWRlZCB0aGF0IHdlIGFyZSBjb2xsZWN0aW5nIG4gc2VxdWVuY2UgbnVtYmVycywgaXQncyBiZWNhdXNlIG4gaXMgc29tZVxuICAgICAgICAvLyBwZXJjZW50YWdlIG9mIHRoZSBleGlzdGluZyBzZXF1ZW5jZSBudW1iZXJzLiBUaGF0IG1lYW5zIHdlIHNob3VsZCBuZXZlclxuICAgICAgICAvLyBiZSBpbiBhIHNpdHVhdGlvbiB3aGVyZSB3ZSBhcmUgY29sbGVjdGluZyBzZXF1ZW5jZSBudW1iZXJzIGJ1dCBkb24ndFxuICAgICAgICAvLyBhY3R1YWxseSBoYXZlIGFueS5cbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmxhc3QoKVswXTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyByZXNwb25zaWJsZSBmb3IgdGhlIHNjaGVkdWxpbmcgb2YgTFJVIGdhcmJhZ2UgY29sbGVjdGlvbi4gSXQgaGFuZGxlcyBjaGVja2luZ1xuICogd2hldGhlciBvciBub3QgR0MgaXMgZW5hYmxlZCwgYXMgd2VsbCBhcyB3aGljaCBkZWxheSB0byB1c2UgYmVmb3JlIHRoZSBuZXh0IHJ1bi5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTHJ1U2NoZWR1bGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuZ2FyYmFnZUNvbGxlY3RvciA9IGUsIHRoaXMuYXN5bmNRdWV1ZSA9IHQsIHRoaXMubG9jYWxTdG9yZSA9IG4sIHRoaXMuR24gPSBudWxsO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgLTEgIT09IHRoaXMuZ2FyYmFnZUNvbGxlY3Rvci5wYXJhbXMuY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZCAmJiB0aGlzLnpuKDZlNCk7XG4gICAgfVxuICAgIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuR24gJiYgKHRoaXMuR24uY2FuY2VsKCksIHRoaXMuR24gPSBudWxsKTtcbiAgICB9XG4gICAgZ2V0IHN0YXJ0ZWQoKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0aGlzLkduO1xuICAgIH1cbiAgICB6bihlKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgYEdhcmJhZ2UgY29sbGVjdGlvbiBzY2hlZHVsZWQgaW4gJHtlfW1zYCksIFxuICAgICAgICB0aGlzLkduID0gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBZnRlckRlbGF5KFwibHJ1X2dhcmJhZ2VfY29sbGVjdGlvblwiIC8qIFRpbWVySWQuTHJ1R2FyYmFnZUNvbGxlY3Rpb24gKi8gLCBlLCAoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5HbiA9IG51bGw7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMubG9jYWxTdG9yZS5jb2xsZWN0R2FyYmFnZSh0aGlzLmdhcmJhZ2VDb2xsZWN0b3IpO1xuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9pc0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSkgPyBfX1BSSVZBVEVfbG9nRGVidWcoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIFwiSWdub3JpbmcgSW5kZXhlZERCIGVycm9yIGR1cmluZyBnYXJiYWdlIGNvbGxlY3Rpb246IFwiLCBlKSA6IGF3YWl0IF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCB0aGlzLnpuKDNlNSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW1wbGVtZW50cyB0aGUgc3RlcHMgZm9yIExSVSBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gKi8gY2xhc3MgX19QUklWQVRFX0xydUdhcmJhZ2VDb2xsZWN0b3JJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuam4gPSBlLCB0aGlzLnBhcmFtcyA9IHQ7XG4gICAgfVxuICAgIGNhbGN1bGF0ZVRhcmdldENvdW50KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuam4uSG4oZSkubmV4dCgoZSA9PiBNYXRoLmZsb29yKHQgLyAxMDAgKiBlKSkpO1xuICAgIH1cbiAgICBudGhTZXF1ZW5jZU51bWJlcihlLCB0KSB7XG4gICAgICAgIGlmICgwID09PSB0KSByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lKTtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfUm9sbGluZ1NlcXVlbmNlTnVtYmVyQnVmZmVyKHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5qbi5mb3JFYWNoVGFyZ2V0KGUsIChlID0+IG4uV24oZS5zZXF1ZW5jZU51bWJlcikpKS5uZXh0KCgoKSA9PiB0aGlzLmpuLkpuKGUsIChlID0+IG4uV24oZSkpKSkpLm5leHQoKCgpID0+IG4ubWF4VmFsdWUpKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0cyhlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmpuLnJlbW92ZVRhcmdldHMoZSwgdCwgbik7XG4gICAgfVxuICAgIHJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuam4ucmVtb3ZlT3JwaGFuZWREb2N1bWVudHMoZSwgdCk7XG4gICAgfVxuICAgIGNvbGxlY3QoZSwgdCkge1xuICAgICAgICByZXR1cm4gLTEgPT09IHRoaXMucGFyYW1zLmNhY2hlU2l6ZUNvbGxlY3Rpb25UaHJlc2hvbGQgPyAoX19QUklWQVRFX2xvZ0RlYnVnKFwiTHJ1R2FyYmFnZUNvbGxlY3RvclwiLCBcIkdhcmJhZ2UgY29sbGVjdGlvbiBza2lwcGVkOyBkaXNhYmxlZFwiKSwgXG4gICAgICAgIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKEFlKSkgOiB0aGlzLmdldENhY2hlU2l6ZShlKS5uZXh0KChuID0+IG4gPCB0aGlzLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkID8gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgYEdhcmJhZ2UgY29sbGVjdGlvbiBza2lwcGVkOyBDYWNoZSBzaXplICR7bn0gaXMgbG93ZXIgdGhhbiB0aHJlc2hvbGQgJHt0aGlzLnBhcmFtcy5jYWNoZVNpemVDb2xsZWN0aW9uVGhyZXNob2xkfWApLCBcbiAgICAgICAgQWUpIDogdGhpcy5ZbihlLCB0KSkpO1xuICAgIH1cbiAgICBnZXRDYWNoZVNpemUoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5qbi5nZXRDYWNoZVNpemUoZSk7XG4gICAgfVxuICAgIFluKGUsIHQpIHtcbiAgICAgICAgbGV0IG4sIHIsIGksIHMsIG8sIGEsIHU7XG4gICAgICAgIGNvbnN0IGMgPSBEYXRlLm5vdygpO1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxjdWxhdGVUYXJnZXRDb3VudChlLCB0aGlzLnBhcmFtcy5wZXJjZW50aWxlVG9Db2xsZWN0KS5uZXh0KCh0ID0+IChcbiAgICAgICAgLy8gQ2FwIGF0IHRoZSBjb25maWd1cmVkIG1heFxuICAgICAgICB0ID4gdGhpcy5wYXJhbXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdCA/IChfX1BSSVZBVEVfbG9nRGVidWcoXCJMcnVHYXJiYWdlQ29sbGVjdG9yXCIsIGBDYXBwaW5nIHNlcXVlbmNlIG51bWJlcnMgdG8gY29sbGVjdCBkb3duIHRvIHRoZSBtYXhpbXVtIG9mICR7dGhpcy5wYXJhbXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdH0gZnJvbSAke3R9YCksIFxuICAgICAgICByID0gdGhpcy5wYXJhbXMubWF4aW11bVNlcXVlbmNlTnVtYmVyc1RvQ29sbGVjdCkgOiByID0gdCwgcyA9IERhdGUubm93KCksIHRoaXMubnRoU2VxdWVuY2VOdW1iZXIoZSwgcikpKSkubmV4dCgociA9PiAobiA9IHIsIFxuICAgICAgICBvID0gRGF0ZS5ub3coKSwgdGhpcy5yZW1vdmVUYXJnZXRzKGUsIG4sIHQpKSkpLm5leHQoKHQgPT4gKGkgPSB0LCBhID0gRGF0ZS5ub3coKSwgXG4gICAgICAgIHRoaXMucmVtb3ZlT3JwaGFuZWREb2N1bWVudHMoZSwgbikpKSkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBpZiAodSA9IERhdGUubm93KCksIF9fUFJJVkFURV9nZXRMb2dMZXZlbCgpIDw9IGxvZ2dlci5Mb2dMZXZlbC5ERUJVRykge1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxydUdhcmJhZ2VDb2xsZWN0b3JcIiwgYExSVSBHYXJiYWdlIENvbGxlY3Rpb25cXG5cXHRDb3VudGVkIHRhcmdldHMgaW4gJHtzIC0gY31tc1xcblxcdERldGVybWluZWQgbGVhc3QgcmVjZW50bHkgdXNlZCAke3J9IGluIGAgKyAobyAtIHMpICsgXCJtc1xcblwiICsgYFxcdFJlbW92ZWQgJHtpfSB0YXJnZXRzIGluIGAgKyAoYSAtIG8pICsgXCJtc1xcblwiICsgYFxcdFJlbW92ZWQgJHtlfSBkb2N1bWVudHMgaW4gYCArICh1IC0gYSkgKyBcIm1zXFxuXCIgKyBgVG90YWwgRHVyYXRpb246ICR7dSAtIGN9bXNgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh7XG4gICAgICAgICAgICAgICAgZGlkUnVuOiAhMCxcbiAgICAgICAgICAgICAgICBzZXF1ZW5jZU51bWJlcnNDb2xsZWN0ZWQ6IHIsXG4gICAgICAgICAgICAgICAgdGFyZ2V0c1JlbW92ZWQ6IGksXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRzUmVtb3ZlZDogZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9uZXdMcnVHYXJiYWdlQ29sbGVjdG9yKGUsIHQpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9McnVHYXJiYWdlQ29sbGVjdG9ySW1wbChlLCB0KTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBQcm92aWRlcyBMUlUgZnVuY3Rpb25hbGl0eSBmb3IgSW5kZXhlZERCIHBlcnNpc3RlbmNlLiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiTHJ1RGVsZWdhdGVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuZGIgPSBlLCB0aGlzLmdhcmJhZ2VDb2xsZWN0b3IgPSBfX1BSSVZBVEVfbmV3THJ1R2FyYmFnZUNvbGxlY3Rvcih0aGlzLCB0KTtcbiAgICB9XG4gICAgSG4oZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5abihlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5nZXRUYXJnZXRDb3VudChlKS5uZXh0KChlID0+IHQubmV4dCgodCA9PiBlICsgdCkpKSk7XG4gICAgfVxuICAgIFpuKGUpIHtcbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5KbihlLCAoZSA9PiB7XG4gICAgICAgICAgICB0Kys7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgfVxuICAgIGZvckVhY2hUYXJnZXQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLmZvckVhY2hUYXJnZXQoZSwgdCk7XG4gICAgfVxuICAgIEpuKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWG4oZSwgKChlLCBuKSA9PiB0KG4pKSk7XG4gICAgfVxuICAgIGFkZFJlZmVyZW5jZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JpdGVTZW50aW5lbEtleShlLCBuKTtcbiAgICB9XG4gICAgcmVtb3ZlUmVmZXJlbmNlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV93cml0ZVNlbnRpbmVsS2V5KGUsIG4pO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXRzKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGIuZ2V0VGFyZ2V0Q2FjaGUoKS5yZW1vdmVUYXJnZXRzKGUsIHQsIG4pO1xuICAgIH1cbiAgICBtYXJrUG90ZW50aWFsbHlPcnBoYW5lZChlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfd3JpdGVTZW50aW5lbEtleShlLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIGFueXRoaW5nIHdvdWxkIHByZXZlbnQgdGhpcyBkb2N1bWVudCBmcm9tIGJlaW5nIGdhcmJhZ2VcbiAgICAgKiBjb2xsZWN0ZWQsIGdpdmVuIHRoYXQgdGhlIGRvY3VtZW50IGluIHF1ZXN0aW9uIGlzIG5vdCBwcmVzZW50IGluIGFueVxuICAgICAqIHRhcmdldHMgYW5kIGhhcyBhIHNlcXVlbmNlIG51bWJlciBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHVwcGVyIGJvdW5kIGZvclxuICAgICAqIHRoZSBjb2xsZWN0aW9uIHJ1bi5cbiAgICAgKi8gICAgZXIoZSwgdCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX211dGF0aW9uUXVldWVzQ29udGFpbktleShlLCB0KSB7XG4gICAgICAgICAgICBsZXQgbiA9ICExO1xuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9tdXRhdGlvblF1ZXVlc1N0b3JlKGUpLlkoKHIgPT4gX19QUklWQVRFX211dGF0aW9uUXVldWVDb250YWluc0tleShlLCByLCB0KS5uZXh0KChlID0+IChlICYmIChuID0gITApLCBcbiAgICAgICAgICAgIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCFlKSkpKSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICAgICAgfShlLCB0KTtcbiAgICB9XG4gICAgcmVtb3ZlT3JwaGFuZWREb2N1bWVudHMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5kYi5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkubmV3Q2hhbmdlQnVmZmVyKCksIHIgPSBbXTtcbiAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5YbihlLCAoKHMsIG8pID0+IHtcbiAgICAgICAgICAgIGlmIChvIDw9IHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gdGhpcy5lcihlLCBzKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0KSBcbiAgICAgICAgICAgICAgICAgICAgLy8gT3VyIHNpemUgYWNjb3VudGluZyByZXF1aXJlcyB1cyB0byByZWFkIGFsbCBkb2N1bWVudHMgYmVmb3JlXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlbW92aW5nIHRoZW0uXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpKyssIG4uZ2V0RW50cnkoZSwgcykubmV4dCgoKCkgPT4gKG4ucmVtb3ZlRW50cnkocywgU25hcHNob3RWZXJzaW9uLm1pbigpKSwgXG4gICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9kb2N1bWVudFRhcmdldFN0b3JlKGUpLmRlbGV0ZShmdW5jdGlvbiBfX1BSSVZBVEVfc2VudGluZWxLZXkkMShlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWyAwLCBfX1BSSVZBVEVfZW5jb2RlUmVzb3VyY2VQYXRoKGUucGF0aCkgXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvKipcbiAqIEByZXR1cm5zIEEgdmFsdWUgc3VpdGFibGUgZm9yIHdyaXRpbmcgYSBzZW50aW5lbCByb3cgaW4gdGhlIHRhcmdldC1kb2N1bWVudFxuICogc3RvcmUuXG4gKi8gKHMpKSkpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgci5wdXNoKHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSkubmV4dCgoKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IocikpKS5uZXh0KCgoKSA9PiBuLmFwcGx5KGUpKSkubmV4dCgoKCkgPT4gaSkpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdC53aXRoU2VxdWVuY2VOdW1iZXIoZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5nZXRUYXJnZXRDYWNoZSgpLnVwZGF0ZVRhcmdldERhdGEoZSwgbik7XG4gICAgfVxuICAgIHVwZGF0ZUxpbWJvRG9jdW1lbnQoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3dyaXRlU2VudGluZWxLZXkoZSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGwgcHJvdmlkZWQgZnVuY3Rpb24gZm9yIGVhY2ggZG9jdW1lbnQgaW4gdGhlIGNhY2hlIHRoYXQgaXMgJ29ycGhhbmVkJy4gT3JwaGFuZWRcbiAgICAgKiBtZWFucyBub3QgYSBwYXJ0IG9mIGFueSB0YXJnZXQsIHNvIHRoZSBvbmx5IGVudHJ5IGluIHRoZSB0YXJnZXQtZG9jdW1lbnQgaW5kZXggZm9yXG4gICAgICogdGhhdCBkb2N1bWVudCB3aWxsIGJlIHRoZSBzZW50aW5lbCByb3cgKHRhcmdldElkIDApLCB3aGljaCB3aWxsIGFsc28gaGF2ZSB0aGUgc2VxdWVuY2VcbiAgICAgKiBudW1iZXIgZm9yIHRoZSBsYXN0IHRpbWUgdGhlIGRvY3VtZW50IHdhcyBhY2Nlc3NlZC5cbiAgICAgKi8gICAgWG4oZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0U3RvcmUoZSk7XG4gICAgICAgIGxldCByLCBpID0gX19QUklWQVRFX0xpc3RlblNlcXVlbmNlLm9lO1xuICAgICAgICByZXR1cm4gbi5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50VGFyZ2V0c0luZGV4XCJcbiAgICAgICAgfSwgKChbZSwgbl0sIHtwYXRoOiBzLCBzZXF1ZW5jZU51bWJlcjogb30pID0+IHtcbiAgICAgICAgICAgIDAgPT09IGUgPyAoXG4gICAgICAgICAgICAvLyBpZiBuZXh0VG9SZXBvcnQgaXMgdmFsaWQsIHJlcG9ydCBpdCwgdGhpcyBpcyBhIG5ldyBrZXkgc28gdGhlXG4gICAgICAgICAgICAvLyBsYXN0IG9uZSBtdXN0IG5vdCBiZSBhIG1lbWJlciBvZiBhbnkgdGFyZ2V0cy5cbiAgICAgICAgICAgIGkgIT09IF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZSAmJiB0KG5ldyBEb2N1bWVudEtleShfX1BSSVZBVEVfZGVjb2RlUmVzb3VyY2VQYXRoKHIpKSwgaSksIFxuICAgICAgICAgICAgLy8gc2V0IG5leHRUb1JlcG9ydCB0byBiZSB0aGlzIHNlcXVlbmNlIG51bWJlci4gSXQncyB0aGUgbmV4dCBvbmUgd2VcbiAgICAgICAgICAgIC8vIG1pZ2h0IHJlcG9ydCwgaWYgd2UgZG9uJ3QgZmluZCBhbnkgdGFyZ2V0cyBmb3IgdGhpcyBkb2N1bWVudC5cbiAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgc2VxdWVuY2UgbnVtYmVyIG11c3QgYmUgZGVmaW5lZCB3aGVuIHRoZSB0YXJnZXRJZFxuICAgICAgICAgICAgLy8gaXMgMC5cbiAgICAgICAgICAgIGkgPSBvLCByID0gcykgOiBcbiAgICAgICAgICAgIC8vIHNldCBuZXh0VG9SZXBvcnQgdG8gYmUgaW52YWxpZCwgd2Uga25vdyB3ZSBkb24ndCBuZWVkIHRvIHJlcG9ydFxuICAgICAgICAgICAgLy8gdGhpcyBvbmUgc2luY2Ugd2UgZm91bmQgYSB0YXJnZXQgZm9yIGl0LlxuICAgICAgICAgICAgaSA9IF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIC8vIFNpbmNlIHdlIHJlcG9ydCBzZXF1ZW5jZSBudW1iZXJzIGFmdGVyIGdldHRpbmcgdG8gdGhlIG5leHQga2V5LCB3ZVxuICAgICAgICAgICAgLy8gbmVlZCB0byBjaGVjayBpZiB0aGUgbGFzdCBrZXkgd2UgaXRlcmF0ZWQgb3ZlciB3YXMgYW4gb3JwaGFuZWRcbiAgICAgICAgICAgIC8vIGRvY3VtZW50IGFuZCByZXBvcnQgaXQuXG4gICAgICAgICAgICBpICE9PSBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2UgJiYgdChuZXcgRG9jdW1lbnRLZXkoX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aChyKSksIGkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldENhY2hlU2l6ZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRiLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKS5nZXRTaXplKGUpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3dyaXRlU2VudGluZWxLZXkoZSwgdCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRUYXJnZXRTdG9yZShlKS5wdXQoZnVuY3Rpb24gX19QUklWQVRFX3NlbnRpbmVsUm93KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRhcmdldElkOiAwLFxuICAgICAgICAgICAgcGF0aDogX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChlLnBhdGgpLFxuICAgICAgICAgICAgc2VxdWVuY2VOdW1iZXI6IHRcbiAgICAgICAgfTtcbiAgICB9KHQsIGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGluLW1lbW9yeSBidWZmZXIgb2YgZW50cmllcyB0byBiZSB3cml0dGVuIHRvIGEgUmVtb3RlRG9jdW1lbnRDYWNoZS5cbiAqIEl0IGNhbiBiZSB1c2VkIHRvIGJhdGNoIHVwIGEgc2V0IG9mIGNoYW5nZXMgdG8gYmUgd3JpdHRlbiB0byB0aGUgY2FjaGUsIGJ1dFxuICogYWRkaXRpb25hbGx5IHN1cHBvcnRzIHJlYWRpbmcgZW50cmllcyBiYWNrIHdpdGggdGhlIGBnZXRFbnRyeSgpYCBtZXRob2QsXG4gKiBmYWxsaW5nIGJhY2sgdG8gdGhlIHVuZGVybHlpbmcgUmVtb3RlRG9jdW1lbnRDYWNoZSBpZiBubyBlbnRyeSBpc1xuICogYnVmZmVyZWQuXG4gKlxuICogRW50cmllcyBhZGRlZCB0byB0aGUgY2FjaGUgKm11c3QqIGJlIHJlYWQgZmlyc3QuIFRoaXMgaXMgdG8gZmFjaWxpdGF0ZVxuICogY2FsY3VsYXRpbmcgdGhlIHNpemUgZGVsdGEgb2YgdGhlIHBlbmRpbmcgY2hhbmdlcy5cbiAqXG4gKiBQT1JUSU5HIE5PVEU6IFRoaXMgY2xhc3Mgd2FzIGltcGxlbWVudGVkIHRoZW4gcmVtb3ZlZCBmcm9tIG90aGVyIHBsYXRmb3Jtcy5cbiAqIElmIGJ5dGUtY291bnRpbmcgZW5kcyB1cCBiZWluZyBuZWVkZWQgb24gdGhlIG90aGVyIHBsYXRmb3JtcywgY29uc2lkZXJcbiAqIHBvcnRpbmcgdGhpcyBjbGFzcyBhcyBwYXJ0IG9mIHRoYXQgaW1wbGVtZW50YXRpb24gd29yay5cbiAqLyBjbGFzcyBSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIC8vIEEgbWFwcGluZyBvZiBkb2N1bWVudCBrZXkgdG8gdGhlIG5ldyBjYWNoZSBlbnRyeSB0aGF0IHNob3VsZCBiZSB3cml0dGVuLlxuICAgICAgICB0aGlzLmNoYW5nZXMgPSBuZXcgT2JqZWN0TWFwKChlID0+IGUudG9TdHJpbmcoKSksICgoZSwgdCkgPT4gZS5pc0VxdWFsKHQpKSksIHRoaXMuY2hhbmdlc0FwcGxpZWQgPSAhMTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVmZmVycyBhIGBSZW1vdGVEb2N1bWVudENhY2hlLmFkZEVudHJ5KClgIGNhbGwuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIG9ubHkgbW9kaWZ5IGRvY3VtZW50cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHJldHJpZXZlZCB2aWFcbiAgICAgKiBgZ2V0RW50cnkoKS9nZXRFbnRyaWVzKClgIChlbmZvcmNlZCB2aWEgSW5kZXhlZERicyBgYXBwbHkoKWApLlxuICAgICAqLyAgICBhZGRFbnRyeShlKSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLCB0aGlzLmNoYW5nZXMuc2V0KGUua2V5LCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQnVmZmVycyBhIGBSZW1vdGVEb2N1bWVudENhY2hlLnJlbW92ZUVudHJ5KClgIGNhbGwuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIG9ubHkgcmVtb3ZlIGRvY3VtZW50cyB0aGF0IGhhdmUgYWxyZWFkeSBiZWVuIHJldHJpZXZlZCB2aWFcbiAgICAgKiBgZ2V0RW50cnkoKS9nZXRFbnRyaWVzKClgIChlbmZvcmNlZCB2aWEgSW5kZXhlZERicyBgYXBwbHkoKWApLlxuICAgICAqLyAgICByZW1vdmVFbnRyeShlLCB0KSB7XG4gICAgICAgIHRoaXMuYXNzZXJ0Tm90QXBwbGllZCgpLCB0aGlzLmNoYW5nZXMuc2V0KGUsIE11dGFibGVEb2N1bWVudC5uZXdJbnZhbGlkRG9jdW1lbnQoZSkuc2V0UmVhZFRpbWUodCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMb29rcyB1cCBhbiBlbnRyeSBpbiB0aGUgY2FjaGUuIFRoZSBidWZmZXJlZCBjaGFuZ2VzIHdpbGwgZmlyc3QgYmUgY2hlY2tlZCxcbiAgICAgKiBhbmQgaWYgbm8gYnVmZmVyZWQgY2hhbmdlIGFwcGxpZXMsIHRoaXMgd2lsbCBmb3J3YXJkIHRvXG4gICAgICogYFJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0RW50cnkoKWAuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdHJhbnNhY3Rpb24gLSBUaGUgdHJhbnNhY3Rpb24gaW4gd2hpY2ggdG8gcGVyZm9ybSBhbnkgcGVyc2lzdGVuY2VcbiAgICAgKiAgICAgb3BlcmF0aW9ucy5cbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRLZXkgLSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBsb29rIHVwLlxuICAgICAqIEByZXR1cm5zIFRoZSBjYWNoZWQgZG9jdW1lbnQgb3IgYW4gaW52YWxpZCBkb2N1bWVudCBpZiB3ZSBoYXZlIG5vdGhpbmdcbiAgICAgKiBjYWNoZWQuXG4gICAgICovICAgIGdldEVudHJ5KGUsIHQpIHtcbiAgICAgICAgdGhpcy5hc3NlcnROb3RBcHBsaWVkKCk7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLmNoYW5nZXMuZ2V0KHQpO1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBuID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobikgOiB0aGlzLmdldEZyb21DYWNoZShlLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgc2V2ZXJhbCBlbnRyaWVzIGluIHRoZSBjYWNoZSwgZm9yd2FyZGluZyB0b1xuICAgICAqIGBSZW1vdGVEb2N1bWVudENhY2hlLmdldEVudHJ5KClgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uIC0gVGhlIHRyYW5zYWN0aW9uIGluIHdoaWNoIHRvIHBlcmZvcm0gYW55IHBlcnNpc3RlbmNlXG4gICAgICogICAgIG9wZXJhdGlvbnMuXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5cyAtIFRoZSBrZXlzIG9mIHRoZSBlbnRyaWVzIHRvIGxvb2sgdXAuXG4gICAgICogQHJldHVybnMgQSBtYXAgb2YgY2FjaGVkIGRvY3VtZW50cywgaW5kZXhlZCBieSBrZXkuIElmIGFuIGVudHJ5IGNhbm5vdCBiZVxuICAgICAqICAgICBmb3VuZCwgdGhlIGNvcnJlc3BvbmRpbmcga2V5IHdpbGwgYmUgbWFwcGVkIHRvIGFuIGludmFsaWQgZG9jdW1lbnQuXG4gICAgICovICAgIGdldEVudHJpZXMoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxGcm9tQ2FjaGUoZSwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFwcGxpZXMgYnVmZmVyZWQgY2hhbmdlcyB0byB0aGUgdW5kZXJseWluZyBSZW1vdGVEb2N1bWVudENhY2hlLCB1c2luZ1xuICAgICAqIHRoZSBwcm92aWRlZCB0cmFuc2FjdGlvbi5cbiAgICAgKi8gICAgYXBwbHkoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hc3NlcnROb3RBcHBsaWVkKCksIHRoaXMuY2hhbmdlc0FwcGxpZWQgPSAhMCwgdGhpcy5hcHBseUNoYW5nZXMoZSk7XG4gICAgfVxuICAgIC8qKiBIZWxwZXIgdG8gYXNzZXJ0IHRoaXMuY2hhbmdlcyBpcyBub3QgbnVsbCAgKi8gICAgYXNzZXJ0Tm90QXBwbGllZCgpIHt9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSBSZW1vdGVEb2N1bWVudENhY2hlIGZvciBJbmRleGVkRGIuIFRvIGNvbnN0cnVjdCwgaW52b2tlXG4gKiBgbmV3SW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZSgpYC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gZTtcbiAgICB9XG4gICAgc2V0SW5kZXhNYW5hZ2VyKGUpIHtcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBzdXBwbGllZCBlbnRyaWVzIHRvIHRoZSBjYWNoZS5cbiAgICAgKlxuICAgICAqIEFsbCBjYWxscyBvZiBgYWRkRW50cnlgIGFyZSByZXF1aXJlZCB0byBnbyB0aHJvdWdoIHRoZSBSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlclxuICAgICAqIHJldHVybmVkIGJ5IGBuZXdDaGFuZ2VCdWZmZXIoKWAgdG8gZW5zdXJlIHByb3BlciBhY2NvdW50aW5nIG9mIG1ldGFkYXRhLlxuICAgICAqLyAgICBhZGRFbnRyeShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcmVtb3RlRG9jdW1lbnRzU3RvcmUoZSkucHV0KG4pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgZG9jdW1lbnQgZnJvbSB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBBbGwgY2FsbHMgb2YgYHJlbW92ZUVudHJ5YCAgYXJlIHJlcXVpcmVkIHRvIGdvIHRocm91Z2ggdGhlIFJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyXG4gICAgICogcmV0dXJuZWQgYnkgYG5ld0NoYW5nZUJ1ZmZlcigpYCB0byBlbnN1cmUgcHJvcGVyIGFjY291bnRpbmcgb2YgbWV0YWRhdGEuXG4gICAgICovICAgIHJlbW92ZUVudHJ5KGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZShlKS5kZWxldGUoXG4gICAgICAgIC8qKlxuICogUmV0dXJucyBhIGtleSB0aGF0IGNhbiBiZSB1c2VkIGZvciBkb2N1bWVudCBsb29rdXBzIHZpYSB0aGUgcHJpbWFyeSBrZXkgb2ZcbiAqIHRoZSBEYlJlbW90ZURvY3VtZW50IG9iamVjdCBzdG9yZS5cbiAqL1xuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfZGJSZWFkVGltZUtleShlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gZS5wYXRoLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIHJldHVybiBbIFxuICAgICAgICAgICAgLyogcHJlZml4IHBhdGggKi8gbi5zbGljZSgwLCBuLmxlbmd0aCAtIDIpLCBcbiAgICAgICAgICAgIC8qIGNvbGxlY3Rpb24gaWQgKi8gbltuLmxlbmd0aCAtIDJdLCBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcEtleSh0KSwgXG4gICAgICAgICAgICAvKiBkb2N1bWVudCBpZCAqLyBuW24ubGVuZ3RoIC0gMV0gXTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIFJldHVybnMgYSBrZXkgdGhhdCBjYW4gYmUgdXNlZCBmb3IgZG9jdW1lbnQgbG9va3VwcyBvbiB0aGVcbiAqIGBEYlJlbW90ZURvY3VtZW50RG9jdW1lbnRDb2xsZWN0aW9uR3JvdXBJbmRleGAgaW5kZXguXG4gKi8gKHQsIG4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgY3VycmVudCBjYWNoZSBzaXplLlxuICAgICAqXG4gICAgICogQ2FsbGVycyB0byBgYWRkRW50cnkoKWAgYW5kIGByZW1vdmVFbnRyeSgpYCAqbXVzdCogY2FsbCB0aGlzIGFmdGVyd2FyZHMgdG8gdXBkYXRlIHRoZVxuICAgICAqIGNhY2hlJ3MgbWV0YWRhdGEuXG4gICAgICovICAgIHVwZGF0ZU1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YWRhdGEoZSkubmV4dCgobiA9PiAobi5ieXRlU2l6ZSArPSB0LCB0aGlzLnRyKGUsIG4pKSkpO1xuICAgIH1cbiAgICBnZXRFbnRyeShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudCh0KTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZW1vdGVEb2N1bWVudHNTdG9yZShlKS5KKHtcbiAgICAgICAgICAgIGluZGV4OiBcImRvY3VtZW50S2V5SW5kZXhcIixcbiAgICAgICAgICAgIHJhbmdlOiBJREJLZXlSYW5nZS5vbmx5KF9fUFJJVkFURV9kYktleSh0KSlcbiAgICAgICAgfSwgKChlLCByKSA9PiB7XG4gICAgICAgICAgICBuID0gdGhpcy5ucih0LCByKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IG4pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9va3MgdXAgYW4gZW50cnkgaW4gdGhlIGNhY2hlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50S2V5IC0gVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyBUaGUgY2FjaGVkIGRvY3VtZW50IGVudHJ5IGFuZCBpdHMgc2l6ZS5cbiAgICAgKi8gICAgcnIoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IHtcbiAgICAgICAgICAgIHNpemU6IDAsXG4gICAgICAgICAgICBkb2N1bWVudDogTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudCh0KVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwiZG9jdW1lbnRLZXlJbmRleFwiLFxuICAgICAgICAgICAgcmFuZ2U6IElEQktleVJhbmdlLm9ubHkoX19QUklWQVRFX2RiS2V5KHQpKVxuICAgICAgICB9LCAoKGUsIHIpID0+IHtcbiAgICAgICAgICAgIG4gPSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQ6IHRoaXMubnIodCwgciksXG4gICAgICAgICAgICAgICAgc2l6ZTogX19QUklWQVRFX2RiRG9jdW1lbnRTaXplKHIpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICBnZXRFbnRyaWVzKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmlyKGUsIHQsICgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgciA9IHRoaXMubnIoZSwgdCk7XG4gICAgICAgICAgICBuID0gbi5pbnNlcnQoZSwgcik7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExvb2tzIHVwIHNldmVyYWwgZW50cmllcyBpbiB0aGUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRLZXlzIC0gVGhlIHNldCBvZiBrZXlzIGVudHJpZXMgdG8gbG9vayB1cC5cbiAgICAgKiBAcmV0dXJucyBBIG1hcCBvZiBkb2N1bWVudHMgaW5kZXhlZCBieSBrZXkgYW5kIGEgbWFwIG9mIHNpemVzIGluZGV4ZWQgYnlcbiAgICAgKiAgICAga2V5ICh6ZXJvIGlmIHRoZSBkb2N1bWVudCBkb2VzIG5vdCBleGlzdCkuXG4gICAgICovICAgIHNyKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCksIHIgPSBuZXcgU29ydGVkTWFwKERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gdGhpcy5pcihlLCB0LCAoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSB0aGlzLm5yKGUsIHQpO1xuICAgICAgICAgICAgbiA9IG4uaW5zZXJ0KGUsIGkpLCByID0gci5pbnNlcnQoZSwgX19QUklWQVRFX2RiRG9jdW1lbnRTaXplKHQpKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+ICh7XG4gICAgICAgICAgICBkb2N1bWVudHM6IG4sXG4gICAgICAgICAgICBfcjogclxuICAgICAgICB9KSkpO1xuICAgIH1cbiAgICBpcihlLCB0LCBuKSB7XG4gICAgICAgIGlmICh0LmlzRW1wdHkoKSkgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIGxldCByID0gbmV3IFNvcnRlZFNldChfX1BSSVZBVEVfZGJLZXlDb21wYXJhdG9yKTtcbiAgICAgICAgdC5mb3JFYWNoKChlID0+IHIgPSByLmFkZChlKSkpO1xuICAgICAgICBjb25zdCBpID0gSURCS2V5UmFuZ2UuYm91bmQoX19QUklWQVRFX2RiS2V5KHIuZmlyc3QoKSksIF9fUFJJVkFURV9kYktleShyLmxhc3QoKSkpLCBzID0gci5nZXRJdGVyYXRvcigpO1xuICAgICAgICBsZXQgbyA9IHMuZ2V0TmV4dCgpO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpLkooe1xuICAgICAgICAgICAgaW5kZXg6IFwiZG9jdW1lbnRLZXlJbmRleFwiLFxuICAgICAgICAgICAgcmFuZ2U6IGlcbiAgICAgICAgfSwgKChlLCB0LCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gRG9jdW1lbnRLZXkuZnJvbVNlZ21lbnRzKFsgLi4udC5wcmVmaXhQYXRoLCB0LmNvbGxlY3Rpb25Hcm91cCwgdC5kb2N1bWVudElkIF0pO1xuICAgICAgICAgICAgLy8gR28gdGhyb3VnaCBrZXlzIG5vdCBmb3VuZCBpbiBjYWNoZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoO28gJiYgX19QUklWQVRFX2RiS2V5Q29tcGFyYXRvcihvLCBpKSA8IDA7ICkgbihvLCBudWxsKSwgbyA9IHMuZ2V0TmV4dCgpO1xuICAgICAgICAgICAgbyAmJiBvLmlzRXF1YWwoaSkgJiYgKFxuICAgICAgICAgICAgLy8gS2V5IGZvdW5kIGluIGNhY2hlLlxuICAgICAgICAgICAgbihvLCB0KSwgbyA9IHMuaGFzTmV4dCgpID8gcy5nZXROZXh0KCkgOiBudWxsKSwgXG4gICAgICAgICAgICAvLyBTa2lwIHRvIHRoZSBuZXh0IGtleSAoaWYgdGhlcmUgaXMgb25lKS5cbiAgICAgICAgICAgIG8gPyByLiQoX19QUklWQVRFX2RiS2V5KG8pKSA6IHIuZG9uZSgpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgLy8gVGhlIHJlc3Qgb2YgdGhlIGtleXMgYXJlIG5vdCBpbiB0aGUgY2FjaGUuIE9uZSBjYXNlIHdoZXJlIGBpdGVyYXRlYFxuICAgICAgICAgICAgLy8gYWJvdmUgd29uJ3QgZ28gdGhyb3VnaCB0aGVtIGlzIHdoZW4gdGhlIGNhY2hlIGlzIGVtcHR5LlxuICAgICAgICAgICAgZm9yICg7bzsgKSBuKG8sIG51bGwpLCBvID0gcy5oYXNOZXh0KCkgPyBzLmdldE5leHQoKSA6IG51bGw7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIGNvbnN0IHMgPSB0LnBhdGgsIG8gPSBbIHMucG9wTGFzdCgpLnRvQXJyYXkoKSwgcy5sYXN0U2VnbWVudCgpLCBfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcEtleShuLnJlYWRUaW1lKSwgbi5kb2N1bWVudEtleS5wYXRoLmlzRW1wdHkoKSA/IFwiXCIgOiBuLmRvY3VtZW50S2V5LnBhdGgubGFzdFNlZ21lbnQoKSBdLCBfID0gWyBzLnBvcExhc3QoKS50b0FycmF5KCksIHMubGFzdFNlZ21lbnQoKSwgWyBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIgXSwgXCJcIiBdO1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlKGUpLlUoSURCS2V5UmFuZ2UuYm91bmQobywgXywgITApKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIG51bGwgPT0gaSB8fCBpLmluY3JlbWVudERvY3VtZW50UmVhZENvdW50KGUubGVuZ3RoKTtcbiAgICAgICAgICAgIGxldCBuID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpIG9mIGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5ucihEb2N1bWVudEtleS5mcm9tU2VnbWVudHMoaS5wcmVmaXhQYXRoLmNvbmNhdChpLmNvbGxlY3Rpb25Hcm91cCwgaS5kb2N1bWVudElkKSksIGkpO1xuICAgICAgICAgICAgICAgIGUuaXNGb3VuZERvY3VtZW50KCkgJiYgKF9fUFJJVkFURV9xdWVyeU1hdGNoZXModCwgZSkgfHwgci5oYXMoZS5rZXkpKSAmJiAoXG4gICAgICAgICAgICAgICAgLy8gRWl0aGVyIHRoZSBkb2N1bWVudCBtYXRjaGVzIHRoZSBnaXZlbiBxdWVyeSwgb3IgaXQgaXMgbXV0YXRlZC5cbiAgICAgICAgICAgICAgICBuID0gbi5pbnNlcnQoZS5rZXksIGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldEFsbEZyb21Db2xsZWN0aW9uR3JvdXAoZSwgdCwgbiwgcikge1xuICAgICAgICBsZXQgaSA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKTtcbiAgICAgICAgY29uc3QgcyA9IF9fUFJJVkFURV9kYkNvbGxlY3Rpb25Hcm91cEtleSh0LCBuKSwgbyA9IF9fUFJJVkFURV9kYkNvbGxlY3Rpb25Hcm91cEtleSh0LCBJbmRleE9mZnNldC5tYXgoKSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcmVtb3RlRG9jdW1lbnRzU3RvcmUoZSkuSih7XG4gICAgICAgICAgICBpbmRleDogXCJjb2xsZWN0aW9uR3JvdXBJbmRleFwiLFxuICAgICAgICAgICAgcmFuZ2U6IElEQktleVJhbmdlLmJvdW5kKHMsIG8sICEwKVxuICAgICAgICB9LCAoKGUsIHQsIG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLm5yKERvY3VtZW50S2V5LmZyb21TZWdtZW50cyh0LnByZWZpeFBhdGguY29uY2F0KHQuY29sbGVjdGlvbkdyb3VwLCB0LmRvY3VtZW50SWQpKSwgdCk7XG4gICAgICAgICAgICBpID0gaS5pbnNlcnQocy5rZXksIHMpLCBpLnNpemUgPT09IHIgJiYgbi5kb25lKCk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBpKSk7XG4gICAgfVxuICAgIG5ld0NoYW5nZUJ1ZmZlcihlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyKHRoaXMsICEhZSAmJiBlLnRyYWNrUmVtb3ZhbHMpO1xuICAgIH1cbiAgICBnZXRTaXplKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TWV0YWRhdGEoZSkubmV4dCgoZSA9PiBlLmJ5dGVTaXplKSk7XG4gICAgfVxuICAgIGdldE1ldGFkYXRhKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9kb2N1bWVudEdsb2JhbFN0b3JlKGUpLmdldChcInJlbW90ZURvY3VtZW50R2xvYmFsS2V5XCIpLm5leHQoKGUgPT4gKF9fUFJJVkFURV9oYXJkQXNzZXJ0KCEhZSksIFxuICAgICAgICBlKSkpO1xuICAgIH1cbiAgICB0cihlLCB0KSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRHbG9iYWxTdG9yZShlKS5wdXQoXCJyZW1vdGVEb2N1bWVudEdsb2JhbEtleVwiLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVjb2RlcyBgZGJSZW1vdGVEb2NgIGFuZCByZXR1cm5zIHRoZSBkb2N1bWVudCAob3IgYW4gaW52YWxpZCBkb2N1bWVudCBpZlxuICAgICAqIHRoZSBkb2N1bWVudCBjb3JyZXNwb25kcyB0byB0aGUgZm9ybWF0IHVzZWQgZm9yIHNlbnRpbmVsIGRlbGV0ZXMpLlxuICAgICAqLyAgICBucihlLCB0KSB7XG4gICAgICAgIGlmICh0KSB7XG4gICAgICAgICAgICBjb25zdCBlID0gX19QUklWQVRFX2Zyb21EYlJlbW90ZURvY3VtZW50KHRoaXMuc2VyaWFsaXplciwgdCk7XG4gICAgICAgICAgICAvLyBXaGV0aGVyIHRoZSBkb2N1bWVudCBpcyBhIHNlbnRpbmVsIHJlbW92YWwgYW5kIHNob3VsZCBvbmx5IGJlIHVzZWQgaW4gdGhlXG4gICAgICAgICAgICAvLyBgZ2V0TmV3RG9jdW1lbnRDaGFuZ2VzKClgXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShlLmlzTm9Eb2N1bWVudCgpICYmIGUudmVyc2lvbi5pc0VxdWFsKFNuYXBzaG90VmVyc2lvbi5taW4oKSkpKSByZXR1cm4gZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTXV0YWJsZURvY3VtZW50Lm5ld0ludmFsaWREb2N1bWVudChlKTtcbiAgICB9XG59XG5cbi8qKiBDcmVhdGVzIGEgbmV3IEluZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGUuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlKGUpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlSW1wbChlKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVzIHRoZSBkZXRhaWxzIG9mIGFkZGluZyBhbmQgdXBkYXRpbmcgZG9jdW1lbnRzIGluIHRoZSBJbmRleGVkRGJSZW1vdGVEb2N1bWVudENhY2hlLlxuICpcbiAqIFVubGlrZSB0aGUgTWVtb3J5UmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIsIHRoZSBJbmRleGVkRGIgaW1wbGVtZW50YXRpb24gY29tcHV0ZXMgdGhlIHNpemVcbiAqIGRlbHRhIGZvciBhbGwgc3VibWl0dGVkIGNoYW5nZXMuIFRoaXMgYXZvaWRzIGhhdmluZyB0byByZS1yZWFkIGFsbCBkb2N1bWVudHMgZnJvbSBJbmRleGVkRGJcbiAqIHdoZW4gd2UgYXBwbHkgdGhlIGNoYW5nZXMuXG4gKi8gY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2hhbmdlQnVmZmVyIGV4dGVuZHMgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudENhY2hlIC0gVGhlIEluZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGUgdG8gYXBwbHkgdGhlIGNoYW5nZXMgdG8uXG4gICAgICogQHBhcmFtIHRyYWNrUmVtb3ZhbHMgLSBXaGV0aGVyIHRvIGNyZWF0ZSBzZW50aW5lbCBkZWxldGVzIHRoYXQgY2FuIGJlIHRyYWNrZWQgYnlcbiAgICAgKiBgZ2V0TmV3RG9jdW1lbnRDaGFuZ2VzKClgLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5hciA9IGUsIHRoaXMudHJhY2tSZW1vdmFscyA9IHQsIFxuICAgICAgICAvLyBBIG1hcCBvZiBkb2N1bWVudCBzaXplcyBhbmQgcmVhZCB0aW1lcyBwcmlvciB0byBhcHBseWluZyB0aGUgY2hhbmdlcyBpblxuICAgICAgICAvLyB0aGlzIGJ1ZmZlci5cbiAgICAgICAgdGhpcy51ciA9IG5ldyBPYmplY3RNYXAoKGUgPT4gZS50b1N0cmluZygpKSwgKChlLCB0KSA9PiBlLmlzRXF1YWwodCkpKTtcbiAgICB9XG4gICAgYXBwbHlDaGFuZ2VzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICBsZXQgbiA9IDAsIHIgPSBuZXcgU29ydGVkU2V0KCgoZSwgdCkgPT4gX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IoZS5jYW5vbmljYWxTdHJpbmcoKSwgdC5jYW5vbmljYWxTdHJpbmcoKSkpKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hhbmdlcy5mb3JFYWNoKCgoaSwgcykgPT4ge1xuICAgICAgICAgICAgY29uc3QgbyA9IHRoaXMudXIuZ2V0KGkpO1xuICAgICAgICAgICAgaWYgKHQucHVzaCh0aGlzLmFyLnJlbW92ZUVudHJ5KGUsIGksIG8ucmVhZFRpbWUpKSwgcy5pc1ZhbGlkRG9jdW1lbnQoKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IF8gPSBfX1BSSVZBVEVfdG9EYlJlbW90ZURvY3VtZW50KHRoaXMuYXIuc2VyaWFsaXplciwgcyk7XG4gICAgICAgICAgICAgICAgciA9IHIuYWRkKGkucGF0aC5wb3BMYXN0KCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGEgPSBfX1BSSVZBVEVfZGJEb2N1bWVudFNpemUoXyk7XG4gICAgICAgICAgICAgICAgbiArPSBhIC0gby5zaXplLCB0LnB1c2godGhpcy5hci5hZGRFbnRyeShlLCBpLCBfKSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG4gLT0gby5zaXplLCB0aGlzLnRyYWNrUmVtb3ZhbHMpIHtcbiAgICAgICAgICAgICAgICAvLyBJbiBvcmRlciB0byB0cmFjayByZW1vdmFscywgd2Ugc3RvcmUgYSBcInNlbnRpbmVsIGRlbGV0ZVwiIGluIHRoZVxuICAgICAgICAgICAgICAgIC8vIFJlbW90ZURvY3VtZW50Q2FjaGUuIFRoaXMgZW50cnkgaXMgcmVwcmVzZW50ZWQgYnkgYSBOb0RvY3VtZW50XG4gICAgICAgICAgICAgICAgLy8gd2l0aCBhIHZlcnNpb24gb2YgMCBhbmQgaWdub3JlZCBieSBgbWF5YmVEZWNvZGVEb2N1bWVudCgpYCBidXRcbiAgICAgICAgICAgICAgICAvLyBwcmVzZXJ2ZWQgaW4gYGdldE5ld0RvY3VtZW50Q2hhbmdlcygpYC5cbiAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX3RvRGJSZW1vdGVEb2N1bWVudCh0aGlzLmFyLnNlcmlhbGl6ZXIsIHMuY29udmVydFRvTm9Eb2N1bWVudChTbmFwc2hvdFZlcnNpb24ubWluKCkpKTtcbiAgICAgICAgICAgICAgICB0LnB1c2godGhpcy5hci5hZGRFbnRyeShlLCBpLCBuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSwgci5mb3JFYWNoKChuID0+IHtcbiAgICAgICAgICAgIHQucHVzaCh0aGlzLmFyLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLCBuKSk7XG4gICAgICAgIH0pKSwgdC5wdXNoKHRoaXMuYXIudXBkYXRlTWV0YWRhdGEoZSwgbikpLCBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcih0KTtcbiAgICB9XG4gICAgZ2V0RnJvbUNhY2hlKGUsIHQpIHtcbiAgICAgICAgLy8gUmVjb3JkIHRoZSBzaXplIG9mIGV2ZXJ5dGhpbmcgd2UgbG9hZCBmcm9tIHRoZSBjYWNoZSBzbyB3ZSBjYW4gY29tcHV0ZSBhIGRlbHRhIGxhdGVyLlxuICAgICAgICByZXR1cm4gdGhpcy5hci5ycihlLCB0KS5uZXh0KChlID0+ICh0aGlzLnVyLnNldCh0LCB7XG4gICAgICAgICAgICBzaXplOiBlLnNpemUsXG4gICAgICAgICAgICByZWFkVGltZTogZS5kb2N1bWVudC5yZWFkVGltZVxuICAgICAgICB9KSwgZS5kb2N1bWVudCkpKTtcbiAgICB9XG4gICAgZ2V0QWxsRnJvbUNhY2hlKGUsIHQpIHtcbiAgICAgICAgLy8gUmVjb3JkIHRoZSBzaXplIG9mIGV2ZXJ5dGhpbmcgd2UgbG9hZCBmcm9tIHRoZSBjYWNoZSBzbyB3ZSBjYW4gY29tcHV0ZVxuICAgICAgICAvLyBhIGRlbHRhIGxhdGVyLlxuICAgICAgICByZXR1cm4gdGhpcy5hci5zcihlLCB0KS5uZXh0KCgoe2RvY3VtZW50czogZSwgX3I6IHR9KSA9PiAoXG4gICAgICAgIC8vIE5vdGU6IGBnZXRBbGxGcm9tQ2FjaGVgIHJldHVybnMgdHdvIG1hcHMgaW5zdGVhZCBvZiBhIHNpbmdsZSBtYXAgZnJvbVxuICAgICAgICAvLyBrZXlzIHRvIGBEb2N1bWVudFNpemVFbnRyeWBzLiBUaGlzIGlzIHRvIGFsbG93IHJldHVybmluZyB0aGVcbiAgICAgICAgLy8gYE11dGFibGVEb2N1bWVudE1hcGAgZGlyZWN0bHksIHdpdGhvdXQgYSBjb252ZXJzaW9uLlxuICAgICAgICB0LmZvckVhY2goKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnVyLnNldCh0LCB7XG4gICAgICAgICAgICAgICAgc2l6ZTogbixcbiAgICAgICAgICAgICAgICByZWFkVGltZTogZS5nZXQodCkucmVhZFRpbWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSksIGUpKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZG9jdW1lbnRHbG9iYWxTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9nZXRTdG9yZShlLCBcInJlbW90ZURvY3VtZW50R2xvYmFsXCIpO1xufVxuXG4vKipcbiAqIEhlbHBlciB0byBnZXQgYSB0eXBlZCBTaW1wbGVEYlN0b3JlIGZvciB0aGUgcmVtb3RlRG9jdW1lbnRzIG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3RlRG9jdW1lbnRzU3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJyZW1vdGVEb2N1bWVudHNWMTRcIik7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIGtleSB0aGF0IGNhbiBiZSB1c2VkIGZvciBkb2N1bWVudCBsb29rdXBzIG9uIHRoZVxuICogYERiUmVtb3RlRG9jdW1lbnREb2N1bWVudEtleUluZGV4YCBpbmRleC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZGJLZXkoZSkge1xuICAgIGNvbnN0IHQgPSBlLnBhdGgudG9BcnJheSgpO1xuICAgIHJldHVybiBbIFxuICAgIC8qIHByZWZpeCBwYXRoICovIHQuc2xpY2UoMCwgdC5sZW5ndGggLSAyKSwgXG4gICAgLyogY29sbGVjdGlvbiBpZCAqLyB0W3QubGVuZ3RoIC0gMl0sIFxuICAgIC8qIGRvY3VtZW50IGlkICovIHRbdC5sZW5ndGggLSAxXSBdO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZGJDb2xsZWN0aW9uR3JvdXBLZXkoZSwgdCkge1xuICAgIGNvbnN0IG4gPSB0LmRvY3VtZW50S2V5LnBhdGgudG9BcnJheSgpO1xuICAgIHJldHVybiBbIFxuICAgIC8qIGNvbGxlY3Rpb24gaWQgKi8gZSwgX19QUklWQVRFX3RvRGJUaW1lc3RhbXBLZXkodC5yZWFkVGltZSksIFxuICAgIC8qIHByZWZpeCBwYXRoICovIG4uc2xpY2UoMCwgbi5sZW5ndGggLSAyKSwgXG4gICAgLyogZG9jdW1lbnQgaWQgKi8gbi5sZW5ndGggPiAwID8gbltuLmxlbmd0aCAtIDFdIDogXCJcIiBdO1xufVxuXG4vKipcbiAqIENvbXBhcmF0b3IgdGhhdCBjb21wYXJlcyBkb2N1bWVudCBrZXlzIGFjY29yZGluZyB0byB0aGUgcHJpbWFyeSBrZXkgc29ydGluZ1xuICogdXNlZCBieSB0aGUgYERiUmVtb3RlRG9jdW1lbnREb2N1bWVudGAgc3RvcmUgKGJ5IHByZWZpeCBwYXRoLCBjb2xsZWN0aW9uIGlkXG4gKiBhbmQgdGhlbiBkb2N1bWVudCBJRCkuXG4gKlxuICogVmlzaWJsZSBmb3IgdGVzdGluZy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfZGJLZXlDb21wYXJhdG9yKGUsIHQpIHtcbiAgICBjb25zdCBuID0gZS5wYXRoLnRvQXJyYXkoKSwgciA9IHQucGF0aC50b0FycmF5KCk7XG4gICAgLy8gVGhlIG9yZGVyaW5nIGlzIGJhc2VkIG9uIGh0dHBzOi8vY2hyb21pdW0uZ29vZ2xlc291cmNlLmNvbS9jaHJvbWl1bS9ibGluay8rL2ZlNWMyMWZlZjk0ZGFlNzFjMWMzMzQ0Nzc1YjhkOGE3ZjdlNmQ5ZWMvU291cmNlL21vZHVsZXMvaW5kZXhlZGRiL0lEQktleS5jcHAjNzRcbiAgICBsZXQgaSA9IDA7XG4gICAgZm9yIChsZXQgZSA9IDA7IGUgPCBuLmxlbmd0aCAtIDIgJiYgZSA8IHIubGVuZ3RoIC0gMjsgKytlKSBpZiAoaSA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG5bZV0sIHJbZV0pLCBcbiAgICBpKSByZXR1cm4gaTtcbiAgICByZXR1cm4gaSA9IF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKG4ubGVuZ3RoLCByLmxlbmd0aCksIGkgfHwgKGkgPSBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihuW24ubGVuZ3RoIC0gMl0sIHJbci5sZW5ndGggLSAyXSksIFxuICAgIGkgfHwgX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IobltuLmxlbmd0aCAtIDFdLCByW3IubGVuZ3RoIC0gMV0pKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogU2NoZW1hIFZlcnNpb24gZm9yIHRoZSBXZWIgY2xpZW50OlxuICogMS4gIEluaXRpYWwgdmVyc2lvbiBpbmNsdWRpbmcgTXV0YXRpb24gUXVldWUsIFF1ZXJ5IENhY2hlLCBhbmQgUmVtb3RlXG4gKiAgICAgRG9jdW1lbnQgQ2FjaGVcbiAqIDIuICBVc2VkIHRvIGVuc3VyZSBhIHRhcmdldEdsb2JhbCBvYmplY3QgZXhpc3RzIGFuZCBhZGQgdGFyZ2V0Q291bnQgdG8gaXQuIE5vXG4gKiAgICAgbG9uZ2VyIHJlcXVpcmVkIGJlY2F1c2UgbWlncmF0aW9uIDMgdW5jb25kaXRpb25hbGx5IGNsZWFycyBpdC5cbiAqIDMuICBEcm9wcGVkIGFuZCByZS1jcmVhdGVkIFF1ZXJ5IENhY2hlIHRvIGRlYWwgd2l0aCBjYWNoZSBjb3JydXB0aW9uIHJlbGF0ZWRcbiAqICAgICB0byBsaW1ibyByZXNvbHV0aW9uLiBBZGRyZXNzZXNcbiAqICAgICBodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtaW9zLXNkay9pc3N1ZXMvMTU0OFxuICogNC4gIE11bHRpLVRhYiBTdXBwb3J0LlxuICogNS4gIFJlbW92YWwgb2YgaGVsZCB3cml0ZSBhY2tzLlxuICogNi4gIENyZWF0ZSBkb2N1bWVudCBnbG9iYWwgZm9yIHRyYWNraW5nIGRvY3VtZW50IGNhY2hlIHNpemUuXG4gKiA3LiAgRW5zdXJlIGV2ZXJ5IGNhY2hlZCBkb2N1bWVudCBoYXMgYSBzZW50aW5lbCByb3cgd2l0aCBhIHNlcXVlbmNlIG51bWJlci5cbiAqIDguICBBZGQgY29sbGVjdGlvbi1wYXJlbnQgaW5kZXggZm9yIENvbGxlY3Rpb24gR3JvdXAgcXVlcmllcy5cbiAqIDkuICBDaGFuZ2UgUmVtb3RlRG9jdW1lbnRDaGFuZ2VzIHN0b3JlIHRvIGJlIGtleWVkIGJ5IHJlYWRUaW1lIHJhdGhlciB0aGFuXG4gKiAgICAgYW4gYXV0by1pbmNyZW1lbnRpbmcgSUQuIFRoaXMgaXMgcmVxdWlyZWQgZm9yIEluZGV4LUZyZWUgcXVlcmllcy5cbiAqIDEwLiBSZXdyaXRlIHRoZSBjYW5vbmljYWwgSURzIHRvIHRoZSBleHBsaWNpdCBQcm90b2J1Zi1iYXNlZCBmb3JtYXQuXG4gKiAxMS4gQWRkIGJ1bmRsZXMgYW5kIG5hbWVkX3F1ZXJpZXMgZm9yIGJ1bmRsZSBzdXBwb3J0LlxuICogMTIuIEFkZCBkb2N1bWVudCBvdmVybGF5cy5cbiAqIDEzLiBSZXdyaXRlIHRoZSBrZXlzIG9mIHRoZSByZW1vdGUgZG9jdW1lbnQgY2FjaGUgdG8gYWxsb3cgZm9yIGVmZmljaWVudFxuICogICAgIGRvY3VtZW50IGxvb2t1cCB2aWEgYGdldEFsbCgpYC5cbiAqIDE0LiBBZGQgb3ZlcmxheXMuXG4gKiAxNS4gQWRkIGluZGV4aW5nIHN1cHBvcnQuXG4gKiAxNi4gUGFyc2UgdGltZXN0YW1wIHN0cmluZ3MgYmVmb3JlIGNyZWF0aW5nIGluZGV4IGVudHJpZXMuXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJlcHJlc2VudHMgYSBsb2NhbCB2aWV3IChvdmVybGF5KSBvZiBhIGRvY3VtZW50LCBhbmQgdGhlIGZpZWxkcyB0aGF0IGFyZVxuICogbG9jYWxseSBtdXRhdGVkLlxuICovXG5jbGFzcyBPdmVybGF5ZWREb2N1bWVudCB7XG4gICAgY29uc3RydWN0b3IoZSwgXG4gICAgLyoqXG4gICAgICogVGhlIGZpZWxkcyB0aGF0IGFyZSBsb2NhbGx5IG11dGF0ZWQgYnkgcGF0Y2ggbXV0YXRpb25zLlxuICAgICAqXG4gICAgICogSWYgdGhlIG92ZXJsYXllZFx0ZG9jdW1lbnQgaXMgZnJvbSBzZXQgb3IgZGVsZXRlIG11dGF0aW9ucywgdGhpcyBpcyBgbnVsbGAuXG4gICAgICogSWYgdGhlcmUgaXMgbm8gb3ZlcmxheSAobXV0YXRpb24pIGZvciB0aGUgZG9jdW1lbnQsIHRoaXMgaXMgYW4gZW1wdHkgYEZpZWxkTWFza2AuXG4gICAgICovXG4gICAgdCkge1xuICAgICAgICB0aGlzLm92ZXJsYXllZERvY3VtZW50ID0gZSwgdGhpcy5tdXRhdGVkRmllbGRzID0gdDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgcmVhZG9ubHkgdmlldyBvZiB0aGUgbG9jYWwgc3RhdGUgb2YgYWxsIGRvY3VtZW50cyB3ZSdyZSB0cmFja2luZyAoaS5lLiB3ZVxuICogaGF2ZSBhIGNhY2hlZCB2ZXJzaW9uIGluIHJlbW90ZURvY3VtZW50Q2FjaGUgb3IgbG9jYWwgbXV0YXRpb25zIGZvciB0aGVcbiAqIGRvY3VtZW50KS4gVGhlIHZpZXcgaXMgY29tcHV0ZWQgYnkgYXBwbHlpbmcgdGhlIG11dGF0aW9ucyBpbiB0aGVcbiAqIE11dGF0aW9uUXVldWUgdG8gdGhlIFJlbW90ZURvY3VtZW50Q2FjaGUuXG4gKi8gY2xhc3MgTG9jYWxEb2N1bWVudHNWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZSA9IGUsIHRoaXMubXV0YXRpb25RdWV1ZSA9IHQsIHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUgPSBuLCBcbiAgICAgICAgdGhpcy5pbmRleE1hbmFnZXIgPSByO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGxvY2FsIHZpZXcgb2YgdGhlIGRvY3VtZW50IGlkZW50aWZpZWQgYnkgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBMb2NhbCB2aWV3IG9mIHRoZSBkb2N1bWVudCBvciBudWxsIGlmIHdlIGRvbid0IGhhdmUgYW55IGNhY2hlZFxuICAgICAqIHN0YXRlIGZvciBpdC5cbiAgICAgKi8gICAgZ2V0RG9jdW1lbnQoZSwgdCkge1xuICAgICAgICBsZXQgbiA9IG51bGw7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlLmdldE92ZXJsYXkoZSwgdCkubmV4dCgociA9PiAobiA9IHIsIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyeShlLCB0KSkpKS5uZXh0KChlID0+IChudWxsICE9PSBuICYmIF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcobi5tdXRhdGlvbiwgZSwgRmllbGRNYXNrLmVtcHR5KCksIFRpbWVzdGFtcC5ub3coKSksIFxuICAgICAgICBlKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBsb2NhbCB2aWV3IG9mIHRoZSBkb2N1bWVudHMgaWRlbnRpZmllZCBieSBga2V5c2AuXG4gICAgICpcbiAgICAgKiBJZiB3ZSBkb24ndCBoYXZlIGNhY2hlZCBzdGF0ZSBmb3IgYSBkb2N1bWVudCBpbiBga2V5c2AsIGEgTm9Eb2N1bWVudCB3aWxsXG4gICAgICogYmUgc3RvcmVkIGZvciB0aGF0IGtleSBpbiB0aGUgcmVzdWx0aW5nIHNldC5cbiAgICAgKi8gICAgZ2V0RG9jdW1lbnRzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyaWVzKGUsIHQpLm5leHQoKHQgPT4gdGhpcy5nZXRMb2NhbFZpZXdPZkRvY3VtZW50cyhlLCB0LCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSkubmV4dCgoKCkgPT4gdCkpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNpbWlsYXIgdG8gYGdldERvY3VtZW50c2AsIGJ1dCBjcmVhdGVzIHRoZSBsb2NhbCB2aWV3IGZyb20gdGhlIGdpdmVuXG4gICAgICogYGJhc2VEb2NzYCB3aXRob3V0IHJldHJpZXZpbmcgZG9jdW1lbnRzIGZyb20gdGhlIGxvY2FsIHN0b3JlLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uIC0gVGhlIHRyYW5zYWN0aW9uIHRoaXMgb3BlcmF0aW9uIGlzIHNjb3BlZCB0by5cbiAgICAgKiBAcGFyYW0gZG9jcyAtIFRoZSBkb2N1bWVudHMgdG8gYXBwbHkgbG9jYWwgbXV0YXRpb25zIHRvIGdldCB0aGUgbG9jYWwgdmlld3MuXG4gICAgICogQHBhcmFtIGV4aXN0ZW5jZVN0YXRlQ2hhbmdlZCAtIFRoZSBzZXQgb2YgZG9jdW1lbnQga2V5cyB3aG9zZSBleGlzdGVuY2Ugc3RhdGVcbiAgICAgKiAgIGlzIGNoYW5nZWQuIFRoaXMgaXMgdXNlZnVsIHRvIGRldGVybWluZSBpZiBzb21lIGRvY3VtZW50cyBvdmVybGF5IG5lZWRzXG4gICAgICogICB0byBiZSByZWNhbGN1bGF0ZWQuXG4gICAgICovICAgIGdldExvY2FsVmlld09mRG9jdW1lbnRzKGUsIHQsIG4gPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSkge1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9wdWxhdGVPdmVybGF5cyhlLCByLCB0KS5uZXh0KCgoKSA9PiB0aGlzLmNvbXB1dGVWaWV3cyhlLCB0LCByLCBuKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGxldCB0ID0gZG9jdW1lbnRNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBlLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgdCA9IHQuaW5zZXJ0KGUsIG4ub3ZlcmxheWVkRG9jdW1lbnQpO1xuICAgICAgICAgICAgfSkpLCB0O1xuICAgICAgICB9KSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgb3ZlcmxheWVkIGRvY3VtZW50cyBmb3IgdGhlIGdpdmVuIGRvY3VtZW50IG1hcCwgd2hpY2ggd2lsbCBpbmNsdWRlXG4gICAgICogdGhlIGxvY2FsIHZpZXcgb2YgdGhvc2UgZG9jdW1lbnRzIGFuZCBhIGBGaWVsZE1hc2tgIGluZGljYXRpbmcgd2hpY2ggZmllbGRzXG4gICAgICogYXJlIG11dGF0ZWQgbG9jYWxseSwgYG51bGxgIGlmIG92ZXJsYXkgaXMgYSBTZXQgb3IgRGVsZXRlIG11dGF0aW9uLlxuICAgICAqLyAgICBnZXRPdmVybGF5ZWREb2N1bWVudHMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucG9wdWxhdGVPdmVybGF5cyhlLCBuLCB0KS5uZXh0KCgoKSA9PiB0aGlzLmNvbXB1dGVWaWV3cyhlLCB0LCBuLCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmV0Y2hlcyB0aGUgb3ZlcmxheXMgZm9yIHtAY29kZSBkb2NzfSBhbmQgYWRkcyB0aGVtIHRvIHByb3ZpZGVkIG92ZXJsYXkgbWFwXG4gICAgICogaWYgdGhlIG1hcCBkb2VzIG5vdCBhbHJlYWR5IGNvbnRhaW4gYW4gZW50cnkgZm9yIHRoZSBnaXZlbiBkb2N1bWVudCBrZXkuXG4gICAgICovICAgIHBvcHVsYXRlT3ZlcmxheXMoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgIHJldHVybiBuLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdC5oYXMoZSkgfHwgci5wdXNoKGUpO1xuICAgICAgICB9KSksIHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUuZ2V0T3ZlcmxheXMoZSwgcikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBlLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgdC5zZXQoZSwgbik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIGxvY2FsIHZpZXcgZm9yIHRoZSBnaXZlbiBkb2N1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9jcyAtIFRoZSBkb2N1bWVudHMgdG8gY29tcHV0ZSB2aWV3cyBmb3IuIEl0IGFsc28gaGFzIHRoZSBiYXNlXG4gICAgICogICB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudHMuXG4gICAgICogQHBhcmFtIG92ZXJsYXlzIC0gVGhlIG92ZXJsYXlzIHRoYXQgbmVlZCB0byBiZSBhcHBsaWVkIHRvIHRoZSBnaXZlbiBiYXNlXG4gICAgICogICB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudHMuXG4gICAgICogQHBhcmFtIGV4aXN0ZW5jZVN0YXRlQ2hhbmdlZCAtIEEgc2V0IG9mIGRvY3VtZW50cyB3aG9zZSBleGlzdGVuY2Ugc3RhdGVzXG4gICAgICogICBtaWdodCBoYXZlIGNoYW5nZWQuIFRoaXMgaXMgdXNlZCB0byBkZXRlcm1pbmUgaWYgd2UgbmVlZCB0byByZS1jYWxjdWxhdGVcbiAgICAgKiAgIG92ZXJsYXlzIGZyb20gbXV0YXRpb24gcXVldWVzLlxuICAgICAqIEByZXR1cm4gQSBtYXAgcmVwcmVzZW50cyB0aGUgbG9jYWwgZG9jdW1lbnRzIHZpZXcuXG4gICAgICovICAgIGNvbXB1dGVWaWV3cyhlLCB0LCBuLCByKSB7XG4gICAgICAgIGxldCBpID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgICAgICBjb25zdCBzID0gX19QUklWQVRFX25ld0RvY3VtZW50S2V5TWFwKCksIG8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3T3ZlcmxheWVkRG9jdW1lbnRNYXAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX25ld0RvY3VtZW50S2V5TWFwKCk7XG4gICAgICAgIH0oKTtcbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG8gPSBuLmdldCh0LmtleSk7XG4gICAgICAgICAgICAvLyBSZWNhbGN1bGF0ZSBhbiBvdmVybGF5IGlmIHRoZSBkb2N1bWVudCdzIGV4aXN0ZW5jZSBzdGF0ZSBjaGFuZ2VkIGR1ZSB0b1xuICAgICAgICAgICAgLy8gYSByZW1vdGUgZXZlbnQgKmFuZCogdGhlIG92ZXJsYXkgaXMgYSBQYXRjaE11dGF0aW9uLiBUaGlzIGlzIGJlY2F1c2VcbiAgICAgICAgICAgIC8vIGRvY3VtZW50IGV4aXN0ZW5jZSBzdGF0ZSBjYW4gY2hhbmdlIGlmIHNvbWUgcGF0Y2ggbXV0YXRpb24nc1xuICAgICAgICAgICAgLy8gcHJlY29uZGl0aW9ucyBhcmUgbWV0LlxuICAgICAgICAgICAgLy8gTk9URTogd2UgcmVjYWxjdWxhdGUgd2hlbiBgb3ZlcmxheWAgaXMgdW5kZWZpbmVkIGFzIHdlbGwsIGJlY2F1c2UgdGhlcmVcbiAgICAgICAgICAgIC8vIG1pZ2h0IGJlIGEgcGF0Y2ggbXV0YXRpb24gd2hvc2UgcHJlY29uZGl0aW9uIGRvZXMgbm90IG1hdGNoIGJlZm9yZSB0aGVcbiAgICAgICAgICAgIC8vIGNoYW5nZSAoaGVuY2Ugb3ZlcmxheSBpcyB1bmRlZmluZWQpLCBidXQgd291bGQgbm93IG1hdGNoLlxuICAgICAgICAgICAgICAgICAgICAgICAgci5oYXModC5rZXkpICYmICh2b2lkIDAgPT09IG8gfHwgby5tdXRhdGlvbiBpbnN0YW5jZW9mIF9fUFJJVkFURV9QYXRjaE11dGF0aW9uKSA/IGkgPSBpLmluc2VydCh0LmtleSwgdCkgOiB2b2lkIDAgIT09IG8gPyAocy5zZXQodC5rZXksIG8ubXV0YXRpb24uZ2V0RmllbGRNYXNrKCkpLCBcbiAgICAgICAgICAgIF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcoby5tdXRhdGlvbiwgdCwgby5tdXRhdGlvbi5nZXRGaWVsZE1hc2soKSwgVGltZXN0YW1wLm5vdygpKSkgOiBcbiAgICAgICAgICAgIC8vIG5vIG92ZXJsYXkgZXhpc3RzXG4gICAgICAgICAgICAvLyBVc2luZyBFTVBUWSB0byBpbmRpY2F0ZSB0aGVyZSBpcyBubyBvdmVybGF5IGZvciB0aGUgZG9jdW1lbnQuXG4gICAgICAgICAgICBzLnNldCh0LmtleSwgRmllbGRNYXNrLmVtcHR5KCkpO1xuICAgICAgICB9KSksIHRoaXMucmVjYWxjdWxhdGVBbmRTYXZlT3ZlcmxheXMoZSwgaSkubmV4dCgoZSA9PiAoZS5mb3JFYWNoKCgoZSwgdCkgPT4gcy5zZXQoZSwgdCkpKSwgXG4gICAgICAgIHQuZm9yRWFjaCgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgcmV0dXJuIG8uc2V0KGUsIG5ldyBPdmVybGF5ZWREb2N1bWVudCh0LCBudWxsICE9PSAobiA9IHMuZ2V0KGUpKSAmJiB2b2lkIDAgIT09IG4gPyBuIDogbnVsbCkpO1xuICAgICAgICB9KSksIG8pKSk7XG4gICAgfVxuICAgIHJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9uZXdEb2N1bWVudEtleU1hcCgpO1xuICAgICAgICAvLyBBIHJldmVyc2UgbG9va3VwIG1hcCBmcm9tIGJhdGNoIGlkIHRvIHRoZSBkb2N1bWVudHMgd2l0aGluIHRoYXQgYmF0Y2guXG4gICAgICAgICAgICAgICAgbGV0IHIgPSBuZXcgU29ydGVkTWFwKCgoZSwgdCkgPT4gZSAtIHQpKSwgaSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICByZXR1cm4gdGhpcy5tdXRhdGlvblF1ZXVlLmdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cyhlLCB0KS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBlKSBpLmtleXMoKS5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gdC5nZXQoZSk7XG4gICAgICAgICAgICAgICAgaWYgKG51bGwgPT09IHMpIHJldHVybjtcbiAgICAgICAgICAgICAgICBsZXQgbyA9IG4uZ2V0KGUpIHx8IEZpZWxkTWFzay5lbXB0eSgpO1xuICAgICAgICAgICAgICAgIG8gPSBpLmFwcGx5VG9Mb2NhbFZpZXcocywgbyksIG4uc2V0KGUsIG8pO1xuICAgICAgICAgICAgICAgIGNvbnN0IF8gPSAoci5nZXQoaS5iYXRjaElkKSB8fCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSkuYWRkKGUpO1xuICAgICAgICAgICAgICAgIHIgPSByLmluc2VydChpLmJhdGNoSWQsIF8pO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcyA9IFtdLCBvID0gci5nZXRSZXZlcnNlSXRlcmF0b3IoKTtcbiAgICAgICAgICAgIC8vIEl0ZXJhdGUgaW4gZGVzY2VuZGluZyBvcmRlciBvZiBiYXRjaCBJRHMsIGFuZCBza2lwIGRvY3VtZW50cyB0aGF0IGFyZVxuICAgICAgICAgICAgLy8gYWxyZWFkeSBzYXZlZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoO28uaGFzTmV4dCgpOyApIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gby5nZXROZXh0KCksIF8gPSByLmtleSwgYSA9IHIudmFsdWUsIHUgPSBfX1BSSVZBVEVfbmV3TXV0YXRpb25NYXAoKTtcbiAgICAgICAgICAgICAgICBhLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWkuaGFzKGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2NhbGN1bGF0ZU92ZXJsYXlNdXRhdGlvbih0LmdldChlKSwgbi5nZXQoZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbCAhPT0gciAmJiB1LnNldChlLCByKSwgaSA9IGkuYWRkKGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpLCBzLnB1c2godGhpcy5kb2N1bWVudE92ZXJsYXlDYWNoZS5zYXZlT3ZlcmxheXMoZSwgXywgdSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKHMpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWNhbGN1bGF0ZXMgb3ZlcmxheXMgYnkgcmVhZGluZyB0aGUgZG9jdW1lbnRzIGZyb20gcmVtb3RlIGRvY3VtZW50IGNhY2hlXG4gICAgICogZmlyc3QsIGFuZCBzYXZlcyB0aGVtIGFmdGVyIHRoZXkgYXJlIGNhbGN1bGF0ZWQuXG4gICAgICovICAgIHJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzRm9yRG9jdW1lbnRLZXlzKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXRFbnRyaWVzKGUsIHQpLm5leHQoKHQgPT4gdGhpcy5yZWNhbGN1bGF0ZUFuZFNhdmVPdmVybGF5cyhlLCB0KSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHF1ZXJ5IGFnYWluc3QgdGhlIGxvY2FsIHZpZXcgb2YgYWxsIGRvY3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0cmFuc2FjdGlvbiAtIFRoZSBwZXJzaXN0ZW5jZSB0cmFuc2FjdGlvbi5cbiAgICAgKiBAcGFyYW0gcXVlcnkgLSBUaGUgcXVlcnkgdG8gbWF0Y2ggZG9jdW1lbnRzIGFnYWluc3QuXG4gICAgICogQHBhcmFtIG9mZnNldCAtIFJlYWQgdGltZSBhbmQga2V5IHRvIHN0YXJ0IHNjYW5uaW5nIGJ5IChleGNsdXNpdmUpLlxuICAgICAqIEBwYXJhbSBjb250ZXh0IC0gQSBvcHRpb25hbCB0cmFja2VyIHRvIGtlZXAgYSByZWNvcmQgb2YgaW1wb3J0YW50IGRldGFpbHNcbiAgICAgKiAgIGR1cmluZyBkYXRhYmFzZSBsb2NhbCBxdWVyeSBleGVjdXRpb24uXG4gICAgICovICAgIGdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSwgdCwgbiwgcikge1xuICAgICAgICAvKipcbiAqIFJldHVybnMgd2hldGhlciB0aGUgcXVlcnkgbWF0Y2hlcyBhIHNpbmdsZSBkb2N1bWVudCBieSBwYXRoIChyYXRoZXIgdGhhbiBhXG4gKiBjb2xsZWN0aW9uKS5cbiAqL1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2lzRG9jdW1lbnRRdWVyeSQxKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBEb2N1bWVudEtleS5pc0RvY3VtZW50S2V5KGUucGF0aCkgJiYgbnVsbCA9PT0gZS5jb2xsZWN0aW9uR3JvdXAgJiYgMCA9PT0gZS5maWx0ZXJzLmxlbmd0aDtcbiAgICAgICAgfSh0KSA/IHRoaXMuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdEb2N1bWVudFF1ZXJ5KGUsIHQucGF0aCkgOiBfX1BSSVZBVEVfaXNDb2xsZWN0aW9uR3JvdXBRdWVyeSh0KSA/IHRoaXMuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uR3JvdXBRdWVyeShlLCB0LCBuLCByKSA6IHRoaXMuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uUXVlcnkoZSwgdCwgbiwgcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgY29sbGVjdGlvbiBncm91cCwgcmV0dXJucyB0aGUgbmV4dCBkb2N1bWVudHMgdGhhdCBmb2xsb3cgdGhlIHByb3ZpZGVkIG9mZnNldCwgYWxvbmdcbiAgICAgKiB3aXRoIGFuIHVwZGF0ZWQgYmF0Y2ggSUQuXG4gICAgICpcbiAgICAgKiA8cD5UaGUgZG9jdW1lbnRzIHJldHVybmVkIGJ5IHRoaXMgbWV0aG9kIGFyZSBvcmRlcmVkIGJ5IHJlbW90ZSB2ZXJzaW9uIGZyb20gdGhlIHByb3ZpZGVkXG4gICAgICogb2Zmc2V0LiBJZiB0aGVyZSBhcmUgbm8gbW9yZSByZW1vdGUgZG9jdW1lbnRzIGFmdGVyIHRoZSBwcm92aWRlZCBvZmZzZXQsIGRvY3VtZW50cyB3aXRoXG4gICAgICogbXV0YXRpb25zIGluIG9yZGVyIG9mIGJhdGNoIGlkIGZyb20gdGhlIG9mZnNldCBhcmUgcmV0dXJuZWQuIFNpbmNlIGFsbCBkb2N1bWVudHMgaW4gYSBiYXRjaCBhcmVcbiAgICAgKiByZXR1cm5lZCB0b2dldGhlciwgdGhlIHRvdGFsIG51bWJlciBvZiBkb2N1bWVudHMgcmV0dXJuZWQgY2FuIGV4Y2VlZCB7QGNvZGUgY291bnR9LlxuICAgICAqXG4gICAgICogQHBhcmFtIHRyYW5zYWN0aW9uXG4gICAgICogQHBhcmFtIGNvbGxlY3Rpb25Hcm91cCBUaGUgY29sbGVjdGlvbiBncm91cCBmb3IgdGhlIGRvY3VtZW50cy5cbiAgICAgKiBAcGFyYW0gb2Zmc2V0IFRoZSBvZmZzZXQgdG8gaW5kZXggaW50by5cbiAgICAgKiBAcGFyYW0gY291bnQgVGhlIG51bWJlciBvZiBkb2N1bWVudHMgdG8gcmV0dXJuXG4gICAgICogQHJldHVybiBBIExvY2FsV3JpdGVSZXN1bHQgd2l0aCB0aGUgZG9jdW1lbnRzIHRoYXQgZm9sbG93IHRoZSBwcm92aWRlZCBvZmZzZXQgYW5kIHRoZSBsYXN0IHByb2Nlc3NlZCBiYXRjaCBpZC5cbiAgICAgKi8gICAgZ2V0TmV4dERvY3VtZW50cyhlLCB0LCBuLCByKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUuZ2V0QWxsRnJvbUNvbGxlY3Rpb25Hcm91cChlLCB0LCBuLCByKS5uZXh0KChpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSByIC0gaS5zaXplID4gMCA/IHRoaXMuZG9jdW1lbnRPdmVybGF5Q2FjaGUuZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uR3JvdXAoZSwgdCwgbi5sYXJnZXN0QmF0Y2hJZCwgciAtIGkuc2l6ZSkgOiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShfX1BSSVZBVEVfbmV3T3ZlcmxheU1hcCgpKTtcbiAgICAgICAgICAgIC8vIFRoZSBjYWxsc2l0ZSB3aWxsIHVzZSB0aGUgbGFyZ2VzdCBiYXRjaCBJRCB0b2dldGhlciB3aXRoIHRoZSBsYXRlc3QgcmVhZCB0aW1lIHRvIGNyZWF0ZVxuICAgICAgICAgICAgLy8gYSBuZXcgaW5kZXggb2Zmc2V0LiBTaW5jZSB3ZSBvbmx5IHByb2Nlc3MgYmF0Y2ggSURzIGlmIGFsbCByZW1vdGUgZG9jdW1lbnRzIGhhdmUgYmVlbiByZWFkLFxuICAgICAgICAgICAgLy8gbm8gb3ZlcmxheSB3aWxsIGluY3JlYXNlIHRoZSBvdmVyYWxsIHJlYWQgdGltZS4gVGhpcyBpcyB3aHkgd2Ugb25seSBuZWVkIHRvIHNwZWNpYWwgY2FzZVxuICAgICAgICAgICAgLy8gdGhlIGJhdGNoIGlkLlxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IG8gPSAtMSwgXyA9IGk7XG4gICAgICAgICAgICByZXR1cm4gcy5uZXh0KCh0ID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHQsICgodCwgbikgPT4gKG8gPCBuLmxhcmdlc3RCYXRjaElkICYmIChvID0gbi5sYXJnZXN0QmF0Y2hJZCksIFxuICAgICAgICAgICAgaS5nZXQodCkgPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpIDogdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlLmdldEVudHJ5KGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgIF8gPSBfLmluc2VydCh0LCBlKTtcbiAgICAgICAgICAgIH0pKSkpKS5uZXh0KCgoKSA9PiB0aGlzLnBvcHVsYXRlT3ZlcmxheXMoZSwgdCwgaSkpKS5uZXh0KCgoKSA9PiB0aGlzLmNvbXB1dGVWaWV3cyhlLCBfLCB0LCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSkpKS5uZXh0KChlID0+ICh7XG4gICAgICAgICAgICAgICAgYmF0Y2hJZDogbyxcbiAgICAgICAgICAgICAgICBjaGFuZ2VzOiBfX1BSSVZBVEVfY29udmVydE92ZXJsYXllZERvY3VtZW50TWFwVG9Eb2N1bWVudE1hcChlKVxuICAgICAgICAgICAgfSkpKSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nRG9jdW1lbnRRdWVyeShlLCB0KSB7XG4gICAgICAgIC8vIEp1c3QgZG8gYSBzaW1wbGUgZG9jdW1lbnQgbG9va3VwLlxuICAgICAgICByZXR1cm4gdGhpcy5nZXREb2N1bWVudChlLCBuZXcgRG9jdW1lbnRLZXkodCkpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgbGV0IHQgPSBkb2N1bWVudE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIGUuaXNGb3VuZERvY3VtZW50KCkgJiYgKHQgPSB0Lmluc2VydChlLmtleSwgZSkpLCB0O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGdldERvY3VtZW50c01hdGNoaW5nQ29sbGVjdGlvbkdyb3VwUXVlcnkoZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gdC5jb2xsZWN0aW9uR3JvdXA7XG4gICAgICAgIGxldCBzID0gZG9jdW1lbnRNYXAoKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhNYW5hZ2VyLmdldENvbGxlY3Rpb25QYXJlbnRzKGUsIGkpLm5leHQoKG8gPT4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2gobywgKG8gPT4ge1xuICAgICAgICAgICAgY29uc3QgXyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9hc0NvbGxlY3Rpb25RdWVyeUF0UGF0aChlLCB0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKHQsIFxuICAgICAgICAgICAgICAgIC8qY29sbGVjdGlvbkdyb3VwPSovIG51bGwsIGUuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksIGUuZmlsdGVycy5zbGljZSgpLCBlLmxpbWl0LCBlLmxpbWl0VHlwZSwgZS5zdGFydEF0LCBlLmVuZEF0KTtcbiAgICAgICAgICAgIH0odCwgby5jaGlsZChpKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXREb2N1bWVudHNNYXRjaGluZ0NvbGxlY3Rpb25RdWVyeShlLCBfLCBuLCByKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBlLmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHMgPSBzLmluc2VydChlLCB0KTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBzKSkpKTtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uUXVlcnkoZSwgdCwgbiwgcikge1xuICAgICAgICAvLyBRdWVyeSB0aGUgcmVtb3RlIGRvY3VtZW50cyBhbmQgb3ZlcmxheSBtdXRhdGlvbnMuXG4gICAgICAgIGxldCBpO1xuICAgICAgICByZXR1cm4gdGhpcy5kb2N1bWVudE92ZXJsYXlDYWNoZS5nZXRPdmVybGF5c0ZvckNvbGxlY3Rpb24oZSwgdC5wYXRoLCBuLmxhcmdlc3RCYXRjaElkKS5uZXh0KChzID0+IChpID0gcywgXG4gICAgICAgIHRoaXMucmVtb3RlRG9jdW1lbnRDYWNoZS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsIHQsIG4sIGksIHIpKSkpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgLy8gQXMgZG9jdW1lbnRzIG1pZ2h0IG1hdGNoIHRoZSBxdWVyeSBiZWNhdXNlIG9mIHRoZWlyIG92ZXJsYXkgd2UgbmVlZCB0b1xuICAgICAgICAgICAgLy8gaW5jbHVkZSBkb2N1bWVudHMgZm9yIGFsbCBvdmVybGF5cyBpbiB0aGUgaW5pdGlhbCBkb2N1bWVudCBzZXQuXG4gICAgICAgICAgICBpLmZvckVhY2goKCh0LCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IG4uZ2V0S2V5KCk7XG4gICAgICAgICAgICAgICAgbnVsbCA9PT0gZS5nZXQocikgJiYgKGUgPSBlLmluc2VydChyLCBNdXRhYmxlRG9jdW1lbnQubmV3SW52YWxpZERvY3VtZW50KHIpKSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAvLyBBcHBseSB0aGUgb3ZlcmxheXMgYW5kIG1hdGNoIGFnYWluc3QgdGhlIHF1ZXJ5LlxuICAgICAgICAgICAgbGV0IG4gPSBkb2N1bWVudE1hcCgpO1xuICAgICAgICAgICAgcmV0dXJuIGUuZm9yRWFjaCgoKGUsIHIpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzID0gaS5nZXQoZSk7XG4gICAgICAgICAgICAgICAgdm9pZCAwICE9PSBzICYmIF9fUFJJVkFURV9tdXRhdGlvbkFwcGx5VG9Mb2NhbFZpZXcocy5tdXRhdGlvbiwgciwgRmllbGRNYXNrLmVtcHR5KCksIFRpbWVzdGFtcC5ub3coKSksIFxuICAgICAgICAgICAgICAgIC8vIEZpbmFsbHksIGluc2VydCB0aGUgZG9jdW1lbnRzIHRoYXQgc3RpbGwgbWF0Y2ggdGhlIHF1ZXJ5XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyh0LCByKSAmJiAobiA9IG4uaW5zZXJ0KGUsIHIpKTtcbiAgICAgICAgICAgIH0pKSwgbjtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX01lbW9yeUJ1bmRsZUNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IGUsIHRoaXMuY3IgPSBuZXcgTWFwLCB0aGlzLmxyID0gbmV3IE1hcDtcbiAgICB9XG4gICAgZ2V0QnVuZGxlTWV0YWRhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5jci5nZXQodCkpO1xuICAgIH1cbiAgICBzYXZlQnVuZGxlTWV0YWRhdGEoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jci5zZXQodC5pZCwgXG4gICAgICAgIC8qKiBEZWNvZGVzIGEgQnVuZGxlTWV0YWRhdGEgcHJvdG8gaW50byBhIEJ1bmRsZU1ldGFkYXRhIG9iamVjdC4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2Zyb21CdW5kbGVNZXRhZGF0YShlKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlkOiBlLmlkLFxuICAgICAgICAgICAgICAgIHZlcnNpb246IGUudmVyc2lvbixcbiAgICAgICAgICAgICAgICBjcmVhdGVUaW1lOiBfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS5jcmVhdGVUaW1lKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSh0KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldE5hbWVkUXVlcnkoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5sci5nZXQodCkpO1xuICAgIH1cbiAgICBzYXZlTmFtZWRRdWVyeShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxyLnNldCh0Lm5hbWUsIGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tUHJvdG9OYW1lZFF1ZXJ5KGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogZS5uYW1lLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBfX1BSSVZBVEVfZnJvbUJ1bmRsZWRRdWVyeShlLmJ1bmRsZWRRdWVyeSksXG4gICAgICAgICAgICAgICAgcmVhZFRpbWU6IF9fUFJJVkFURV9mcm9tVmVyc2lvbihlLnJlYWRUaW1lKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSh0KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbi1tZW1vcnkgaW1wbGVtZW50YXRpb24gb2YgRG9jdW1lbnRPdmVybGF5Q2FjaGUuXG4gKi8gY2xhc3MgX19QUklWQVRFX01lbW9yeURvY3VtZW50T3ZlcmxheUNhY2hlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gQSBtYXAgc29ydGVkIGJ5IERvY3VtZW50S2V5LCB3aG9zZSB2YWx1ZSBpcyBhIHBhaXIgb2YgdGhlIGxhcmdlc3QgYmF0Y2ggaWRcbiAgICAgICAgLy8gZm9yIHRoZSBvdmVybGF5IGFuZCB0aGUgb3ZlcmxheSBpdHNlbGYuXG4gICAgICAgIHRoaXMub3ZlcmxheXMgPSBuZXcgU29ydGVkTWFwKERvY3VtZW50S2V5LmNvbXBhcmF0b3IpLCB0aGlzLmhyID0gbmV3IE1hcDtcbiAgICB9XG4gICAgZ2V0T3ZlcmxheShlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLm92ZXJsYXlzLmdldCh0KSk7XG4gICAgfVxuICAgIGdldE92ZXJsYXlzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9uZXdPdmVybGF5TWFwKCk7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAodCA9PiB0aGlzLmdldE92ZXJsYXkoZSwgdCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBudWxsICE9PSBlICYmIG4uc2V0KHQsIGUpO1xuICAgICAgICB9KSkpKS5uZXh0KCgoKSA9PiBuKSk7XG4gICAgfVxuICAgIHNhdmVPdmVybGF5cyhlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBuLmZvckVhY2goKChuLCByKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmh0KGUsIHQsIHIpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZU92ZXJsYXlzRm9yQmF0Y2hJZChlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLmhyLmdldChuKTtcbiAgICAgICAgcmV0dXJuIHZvaWQgMCAhPT0gciAmJiAoci5mb3JFYWNoKChlID0+IHRoaXMub3ZlcmxheXMgPSB0aGlzLm92ZXJsYXlzLnJlbW92ZShlKSkpLCBcbiAgICAgICAgdGhpcy5oci5kZWxldGUobikpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXRPdmVybGF5c0ZvckNvbGxlY3Rpb24oZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSwgaSA9IHQubGVuZ3RoICsgMSwgcyA9IG5ldyBEb2N1bWVudEtleSh0LmNoaWxkKFwiXCIpKSwgbyA9IHRoaXMub3ZlcmxheXMuZ2V0SXRlcmF0b3JGcm9tKHMpO1xuICAgICAgICBmb3IgKDtvLmhhc05leHQoKTsgKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gby5nZXROZXh0KCkudmFsdWUsIHMgPSBlLmdldEtleSgpO1xuICAgICAgICAgICAgaWYgKCF0LmlzUHJlZml4T2Yocy5wYXRoKSkgYnJlYWs7XG4gICAgICAgICAgICAvLyBEb2N1bWVudHMgZnJvbSBzdWItY29sbGVjdGlvbnNcbiAgICAgICAgICAgICAgICAgICAgICAgIHMucGF0aC5sZW5ndGggPT09IGkgJiYgKGUubGFyZ2VzdEJhdGNoSWQgPiBuICYmIHIuc2V0KGUuZ2V0S2V5KCksIGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUocik7XG4gICAgfVxuICAgIGdldE92ZXJsYXlzRm9yQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgbGV0IGkgPSBuZXcgU29ydGVkTWFwKCgoZSwgdCkgPT4gZSAtIHQpKTtcbiAgICAgICAgY29uc3QgcyA9IHRoaXMub3ZlcmxheXMuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgZm9yICg7cy5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHMuZ2V0TmV4dCgpLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGUuZ2V0S2V5KCkuZ2V0Q29sbGVjdGlvbkdyb3VwKCkgPT09IHQgJiYgZS5sYXJnZXN0QmF0Y2hJZCA+IG4pIHtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IGkuZ2V0KGUubGFyZ2VzdEJhdGNoSWQpO1xuICAgICAgICAgICAgICAgIG51bGwgPT09IHQgJiYgKHQgPSBfX1BSSVZBVEVfbmV3T3ZlcmxheU1hcCgpLCBpID0gaS5pbnNlcnQoZS5sYXJnZXN0QmF0Y2hJZCwgdCkpLCBcbiAgICAgICAgICAgICAgICB0LnNldChlLmdldEtleSgpLCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvID0gX19QUklWQVRFX25ld092ZXJsYXlNYXAoKSwgXyA9IGkuZ2V0SXRlcmF0b3IoKTtcbiAgICAgICAgZm9yICg7Xy5oYXNOZXh0KCk7ICkge1xuICAgICAgICAgICAgaWYgKF8uZ2V0TmV4dCgpLnZhbHVlLmZvckVhY2goKChlLCB0KSA9PiBvLnNldChlLCB0KSkpLCBvLnNpemUoKSA+PSByKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobyk7XG4gICAgfVxuICAgIGh0KGUsIHQsIG4pIHtcbiAgICAgICAgLy8gUmVtb3ZlIHRoZSBhc3NvY2lhdGlvbiBvZiB0aGUgb3ZlcmxheSB0byBpdHMgYmF0Y2ggaWQuXG4gICAgICAgIGNvbnN0IHIgPSB0aGlzLm92ZXJsYXlzLmdldChuLmtleSk7XG4gICAgICAgIGlmIChudWxsICE9PSByKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdGhpcy5oci5nZXQoci5sYXJnZXN0QmF0Y2hJZCkuZGVsZXRlKG4ua2V5KTtcbiAgICAgICAgICAgIHRoaXMuaHIuc2V0KHIubGFyZ2VzdEJhdGNoSWQsIGUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMub3ZlcmxheXMgPSB0aGlzLm92ZXJsYXlzLmluc2VydChuLmtleSwgbmV3IE92ZXJsYXkodCwgbikpO1xuICAgICAgICAvLyBDcmVhdGUgdGhlIGFzc29jaWF0aW9uIG9mIHRoaXMgb3ZlcmxheSB0byB0aGUgZ2l2ZW4gbGFyZ2VzdEJhdGNoSWQuXG4gICAgICAgIGxldCBpID0gdGhpcy5oci5nZXQodCk7XG4gICAgICAgIHZvaWQgMCA9PT0gaSAmJiAoaSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCB0aGlzLmhyLnNldCh0LCBpKSksIHRoaXMuaHIuc2V0KHQsIGkuYWRkKG4ua2V5KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGNvbGxlY3Rpb24gb2YgcmVmZXJlbmNlcyB0byBhIGRvY3VtZW50IGZyb20gc29tZSBraW5kIG9mIG51bWJlcmVkIGVudGl0eVxuICogKGVpdGhlciBhIHRhcmdldCBJRCBvciBiYXRjaCBJRCkuIEFzIHJlZmVyZW5jZXMgYXJlIGFkZGVkIHRvIG9yIHJlbW92ZWQgZnJvbVxuICogdGhlIHNldCBjb3JyZXNwb25kaW5nIGV2ZW50cyBhcmUgZW1pdHRlZCB0byBhIHJlZ2lzdGVyZWQgZ2FyYmFnZSBjb2xsZWN0b3IuXG4gKlxuICogRWFjaCByZWZlcmVuY2UgaXMgcmVwcmVzZW50ZWQgYnkgYSBEb2N1bWVudFJlZmVyZW5jZSBvYmplY3QuIEVhY2ggb2YgdGhlbVxuICogY29udGFpbnMgZW5vdWdoIGluZm9ybWF0aW9uIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IHRoZSByZWZlcmVuY2UuIFRoZXkgYXJlIGFsbFxuICogc3RvcmVkIHByaW1hcmlseSBpbiBhIHNldCBzb3J0ZWQgYnkga2V5LiBBIGRvY3VtZW50IGlzIGNvbnNpZGVyZWQgZ2FyYmFnZSBpZlxuICogdGhlcmUncyBubyByZWZlcmVuY2VzIGluIHRoYXQgc2V0ICh0aGlzIGNhbiBiZSBlZmZpY2llbnRseSBjaGVja2VkIHRoYW5rcyB0b1xuICogc29ydGluZyBieSBrZXkpLlxuICpcbiAqIFJlZmVyZW5jZVNldCBhbHNvIGtlZXBzIGEgc2Vjb25kYXJ5IHNldCB0aGF0IGNvbnRhaW5zIHJlZmVyZW5jZXMgc29ydGVkIGJ5XG4gKiBJRHMuIFRoaXMgb25lIGlzIHVzZWQgdG8gZWZmaWNpZW50bHkgaW1wbGVtZW50IHJlbW92YWwgb2YgYWxsIHJlZmVyZW5jZXMgYnlcbiAqIHNvbWUgdGFyZ2V0IElELlxuICovIGNsYXNzIF9fUFJJVkFURV9SZWZlcmVuY2VTZXQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICAvLyBBIHNldCBvZiBvdXRzdGFuZGluZyByZWZlcmVuY2VzIHRvIGEgZG9jdW1lbnQgc29ydGVkIGJ5IGtleS5cbiAgICAgICAgdGhpcy5QciA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX0RvY1JlZmVyZW5jZS5JciksIFxuICAgICAgICAvLyBBIHNldCBvZiBvdXRzdGFuZGluZyByZWZlcmVuY2VzIHRvIGEgZG9jdW1lbnQgc29ydGVkIGJ5IHRhcmdldCBpZC5cbiAgICAgICAgdGhpcy5UciA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX0RvY1JlZmVyZW5jZS5Fcik7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgaWYgdGhlIHJlZmVyZW5jZSBzZXQgY29udGFpbnMgbm8gcmVmZXJlbmNlcy4gKi8gICAgaXNFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuUHIuaXNFbXB0eSgpO1xuICAgIH1cbiAgICAvKiogQWRkcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQga2V5IGZvciB0aGUgZ2l2ZW4gSUQuICovICAgIGFkZFJlZmVyZW5jZShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZShlLCB0KTtcbiAgICAgICAgdGhpcy5QciA9IHRoaXMuUHIuYWRkKG4pLCB0aGlzLlRyID0gdGhpcy5Uci5hZGQobik7XG4gICAgfVxuICAgIC8qKiBBZGQgcmVmZXJlbmNlcyB0byB0aGUgZ2l2ZW4gZG9jdW1lbnQga2V5cyBmb3IgdGhlIGdpdmVuIElELiAqLyAgICBkcihlLCB0KSB7XG4gICAgICAgIGUuZm9yRWFjaCgoZSA9PiB0aGlzLmFkZFJlZmVyZW5jZShlLCB0KSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgcmVmZXJlbmNlIHRvIHRoZSBnaXZlbiBkb2N1bWVudCBrZXkgZm9yIHRoZSBnaXZlblxuICAgICAqIElELlxuICAgICAqLyAgICByZW1vdmVSZWZlcmVuY2UoZSwgdCkge1xuICAgICAgICB0aGlzLkFyKG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKGUsIHQpKTtcbiAgICB9XG4gICAgUnIoZSwgdCkge1xuICAgICAgICBlLmZvckVhY2goKGUgPT4gdGhpcy5yZW1vdmVSZWZlcmVuY2UoZSwgdCkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCByZWZlcmVuY2VzIHdpdGggYSBnaXZlbiBJRC4gQ2FsbHMgcmVtb3ZlUmVmKCkgZm9yIGVhY2gga2V5XG4gICAgICogcmVtb3ZlZC5cbiAgICAgKi8gICAgVnIoZSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IERvY3VtZW50S2V5KG5ldyBSZXNvdXJjZVBhdGgoW10pKSwgbiA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIGUpLCByID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UodCwgZSArIDEpLCBpID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLlRyLmZvckVhY2hJblJhbmdlKFsgbiwgciBdLCAoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLkFyKGUpLCBpLnB1c2goZS5rZXkpO1xuICAgICAgICB9KSksIGk7XG4gICAgfVxuICAgIG1yKCkge1xuICAgICAgICB0aGlzLlByLmZvckVhY2goKGUgPT4gdGhpcy5BcihlKSkpO1xuICAgIH1cbiAgICBBcihlKSB7XG4gICAgICAgIHRoaXMuUHIgPSB0aGlzLlByLmRlbGV0ZShlKSwgdGhpcy5UciA9IHRoaXMuVHIuZGVsZXRlKGUpO1xuICAgIH1cbiAgICBncihlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBuZXcgRG9jdW1lbnRLZXkobmV3IFJlc291cmNlUGF0aChbXSkpLCBuID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UodCwgZSksIHIgPSBuZXcgX19QUklWQVRFX0RvY1JlZmVyZW5jZSh0LCBlICsgMSk7XG4gICAgICAgIGxldCBpID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgICAgIHJldHVybiB0aGlzLlRyLmZvckVhY2hJblJhbmdlKFsgbiwgciBdLCAoZSA9PiB7XG4gICAgICAgICAgICBpID0gaS5hZGQoZS5rZXkpO1xuICAgICAgICB9KSksIGk7XG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKGUsIDApLCBuID0gdGhpcy5Qci5maXJzdEFmdGVyT3JFcXVhbCh0KTtcbiAgICAgICAgcmV0dXJuIG51bGwgIT09IG4gJiYgZS5pc0VxdWFsKG4ua2V5KTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9Eb2NSZWZlcmVuY2Uge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBlLCB0aGlzLnByID0gdDtcbiAgICB9XG4gICAgLyoqIENvbXBhcmUgYnkga2V5IHRoZW4gYnkgSUQgKi8gICAgc3RhdGljIElyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIERvY3VtZW50S2V5LmNvbXBhcmF0b3IoZS5rZXksIHQua2V5KSB8fCBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcihlLnByLCB0LnByKTtcbiAgICB9XG4gICAgLyoqIENvbXBhcmUgYnkgSUQgdGhlbiBieSBrZXkgKi8gICAgc3RhdGljIEVyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKGUucHIsIHQucHIpIHx8IERvY3VtZW50S2V5LmNvbXBhcmF0b3IoZS5rZXksIHQua2V5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9NZW1vcnlNdXRhdGlvblF1ZXVlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuaW5kZXhNYW5hZ2VyID0gZSwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSA9IHQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIHNldCBvZiBhbGwgbXV0YXRpb25zIHRoYXQgaGF2ZSBiZWVuIHNlbnQgYnV0IG5vdCB5ZXQgYmVlbiBhcHBsaWVkIHRvXG4gICAgICAgICAqIHRoZSBiYWNrZW5kLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tdXRhdGlvblF1ZXVlID0gW10sIFxuICAgICAgICAvKiogTmV4dCB2YWx1ZSB0byB1c2Ugd2hlbiBhc3NpZ25pbmcgc2VxdWVudGlhbCBJRHMgdG8gZWFjaCBtdXRhdGlvbiBiYXRjaC4gKi9cbiAgICAgICAgdGhpcy55ciA9IDEsIFxuICAgICAgICAvKiogQW4gb3JkZXJlZCBtYXBwaW5nIGJldHdlZW4gZG9jdW1lbnRzIGFuZCB0aGUgbXV0YXRpb25zIGJhdGNoIElEcy4gKi9cbiAgICAgICAgdGhpcy53ciA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX0RvY1JlZmVyZW5jZS5Jcik7XG4gICAgfVxuICAgIGNoZWNrRW1wdHkoZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoMCA9PT0gdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCk7XG4gICAgfVxuICAgIGFkZE11dGF0aW9uQmF0Y2goZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gdGhpcy55cjtcbiAgICAgICAgdGhpcy55cisrLCB0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoID4gMCAmJiB0aGlzLm11dGF0aW9uUXVldWVbdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCAtIDFdO1xuICAgICAgICBjb25zdCBzID0gbmV3IE11dGF0aW9uQmF0Y2goaSwgdCwgbiwgcik7XG4gICAgICAgIHRoaXMubXV0YXRpb25RdWV1ZS5wdXNoKHMpO1xuICAgICAgICAvLyBUcmFjayByZWZlcmVuY2VzIGJ5IGRvY3VtZW50IGtleSBhbmQgaW5kZXggY29sbGVjdGlvbiBwYXJlbnRzLlxuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgcikgdGhpcy53ciA9IHRoaXMud3IuYWRkKG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQua2V5LCBpKSksIFxuICAgICAgICB0aGlzLmluZGV4TWFuYWdlci5hZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleChlLCB0LmtleS5wYXRoLnBvcExhc3QoKSk7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShzKTtcbiAgICB9XG4gICAgbG9va3VwTXV0YXRpb25CYXRjaChlLCB0KSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLlNyKHQpKTtcbiAgICB9XG4gICAgZ2V0TmV4dE11dGF0aW9uQmF0Y2hBZnRlckJhdGNoSWQoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdCArIDEsIHIgPSB0aGlzLmJyKG4pLCBpID0gciA8IDAgPyAwIDogcjtcbiAgICAgICAgLy8gVGhlIHJlcXVlc3RlZCBiYXRjaElkIG1heSBzdGlsbCBiZSBvdXQgb2YgcmFuZ2Ugc28gbm9ybWFsaXplIGl0IHRvIHRoZVxuICAgICAgICAvLyBzdGFydCBvZiB0aGUgcXVldWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGggPiBpID8gdGhpcy5tdXRhdGlvblF1ZXVlW2ldIDogbnVsbCk7XG4gICAgfVxuICAgIGdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQoKSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgwID09PSB0aGlzLm11dGF0aW9uUXVldWUubGVuZ3RoID8gLTEgOiB0aGlzLnlyIC0gMSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlcyhlKSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLm11dGF0aW9uUXVldWUuc2xpY2UoKSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHQsIDApLCByID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UodCwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSwgaSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy53ci5mb3JFYWNoSW5SYW5nZShbIG4sIHIgXSwgKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuU3IoZS5wcik7XG4gICAgICAgICAgICBpLnB1c2godCk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoaSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cyhlLCB0KSB7XG4gICAgICAgIGxldCBuID0gbmV3IFNvcnRlZFNldChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcik7XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKGUsIDApLCByID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UoZSwgTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICAgICAgICAgIHRoaXMud3IuZm9yRWFjaEluUmFuZ2UoWyB0LCByIF0sIChlID0+IHtcbiAgICAgICAgICAgICAgICBuID0gbi5hZGQoZS5wcik7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5EcihuKSk7XG4gICAgfVxuICAgIGdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ1F1ZXJ5KGUsIHQpIHtcbiAgICAgICAgLy8gVXNlIHRoZSBxdWVyeSBwYXRoIGFzIGEgcHJlZml4IGZvciB0ZXN0aW5nIGlmIGEgZG9jdW1lbnQgbWF0Y2hlcyB0aGVcbiAgICAgICAgLy8gcXVlcnkuXG4gICAgICAgIGNvbnN0IG4gPSB0LnBhdGgsIHIgPSBuLmxlbmd0aCArIDE7XG4gICAgICAgIC8vIENvbnN0cnVjdCBhIGRvY3VtZW50IHJlZmVyZW5jZSBmb3IgYWN0dWFsbHkgc2Nhbm5pbmcgdGhlIGluZGV4LiBVbmxpa2VcbiAgICAgICAgLy8gdGhlIHByZWZpeCB0aGUgZG9jdW1lbnQga2V5IGluIHRoaXMgcmVmZXJlbmNlIG11c3QgaGF2ZSBhbiBldmVuIG51bWJlciBvZlxuICAgICAgICAvLyBzZWdtZW50cy4gVGhlIGVtcHR5IHNlZ21lbnQgY2FuIGJlIHVzZWQgYSBzdWZmaXggb2YgdGhlIHF1ZXJ5IHBhdGhcbiAgICAgICAgLy8gYmVjYXVzZSBpdCBwcmVjZWRlcyBhbGwgb3RoZXIgc2VnbWVudHMgaW4gYW4gb3JkZXJlZCB0cmF2ZXJzYWwuXG4gICAgICAgIGxldCBpID0gbjtcbiAgICAgICAgRG9jdW1lbnRLZXkuaXNEb2N1bWVudEtleShpKSB8fCAoaSA9IGkuY2hpbGQoXCJcIikpO1xuICAgICAgICBjb25zdCBzID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UobmV3IERvY3VtZW50S2V5KGkpLCAwKTtcbiAgICAgICAgLy8gRmluZCB1bmlxdWUgYmF0Y2hJRHMgcmVmZXJlbmNlZCBieSBhbGwgZG9jdW1lbnRzIHBvdGVudGlhbGx5IG1hdGNoaW5nIHRoZVxuICAgICAgICAvLyBxdWVyeS5cbiAgICAgICAgICAgICAgICBsZXQgbyA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpO1xuICAgICAgICByZXR1cm4gdGhpcy53ci5mb3JFYWNoV2hpbGUoKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgdCA9IGUua2V5LnBhdGg7XG4gICAgICAgICAgICByZXR1cm4gISFuLmlzUHJlZml4T2YodCkgJiYgKFxuICAgICAgICAgICAgLy8gUm93cyB3aXRoIGRvY3VtZW50IGtleXMgbW9yZSB0aGFuIG9uZSBzZWdtZW50IGxvbmdlciB0aGFuIHRoZSBxdWVyeVxuICAgICAgICAgICAgLy8gcGF0aCBjYW4ndCBiZSBtYXRjaGVzLiBGb3IgZXhhbXBsZSwgYSBxdWVyeSBvbiAncm9vbXMnIGNhbid0IG1hdGNoXG4gICAgICAgICAgICAvLyB0aGUgZG9jdW1lbnQgL3Jvb21zL2FiYy9tZXNzYWdlcy94eXguXG4gICAgICAgICAgICAvLyBUT0RPKG1jZyk6IHdlJ2xsIG5lZWQgYSBkaWZmZXJlbnQgc2Nhbm5lciB3aGVuIHdlIGltcGxlbWVudFxuICAgICAgICAgICAgLy8gYW5jZXN0b3IgcXVlcmllcy5cbiAgICAgICAgICAgIHQubGVuZ3RoID09PSByICYmIChvID0gby5hZGQoZS5wcikpLCAhMCk7XG4gICAgICAgIH0pLCBzKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5EcihvKSk7XG4gICAgfVxuICAgIERyKGUpIHtcbiAgICAgICAgLy8gQ29uc3RydWN0IGFuIGFycmF5IG9mIG1hdGNoaW5nIGJhdGNoZXMsIHNvcnRlZCBieSBiYXRjaElEIHRvIGVuc3VyZSB0aGF0XG4gICAgICAgIC8vIG11bHRpcGxlIG11dGF0aW9ucyBhZmZlY3RpbmcgdGhlIHNhbWUgZG9jdW1lbnQga2V5IGFyZSBhcHBsaWVkIGluIG9yZGVyLlxuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIHJldHVybiBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgY29uc3QgbiA9IHRoaXMuU3IoZSk7XG4gICAgICAgICAgICBudWxsICE9PSBuICYmIHQucHVzaChuKTtcbiAgICAgICAgfSkpLCB0O1xuICAgIH1cbiAgICByZW1vdmVNdXRhdGlvbkJhdGNoKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoMCA9PT0gdGhpcy5Dcih0LmJhdGNoSWQsIFwicmVtb3ZlZFwiKSksIHRoaXMubXV0YXRpb25RdWV1ZS5zaGlmdCgpO1xuICAgICAgICBsZXQgbiA9IHRoaXMud3I7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0Lm11dGF0aW9ucywgKHIgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBfX1BSSVZBVEVfRG9jUmVmZXJlbmNlKHIua2V5LCB0LmJhdGNoSWQpO1xuICAgICAgICAgICAgcmV0dXJuIG4gPSBuLmRlbGV0ZShpKSwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5tYXJrUG90ZW50aWFsbHlPcnBoYW5lZChlLCByLmtleSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLndyID0gbjtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBNbihlKSB7XG4gICAgICAgIC8vIE5vLW9wIHNpbmNlIHRoZSBtZW1vcnkgbXV0YXRpb24gcXVldWUgZG9lcyBub3QgbWFpbnRhaW4gYSBzZXBhcmF0ZSBjYWNoZS5cbiAgICB9XG4gICAgY29udGFpbnNLZXkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9Eb2NSZWZlcmVuY2UodCwgMCksIHIgPSB0aGlzLndyLmZpcnN0QWZ0ZXJPckVxdWFsKG4pO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodC5pc0VxdWFsKHIgJiYgci5rZXkpKTtcbiAgICB9XG4gICAgcGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2soZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tdXRhdGlvblF1ZXVlLmxlbmd0aCwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZHMgdGhlIGluZGV4IG9mIHRoZSBnaXZlbiBiYXRjaElkIGluIHRoZSBtdXRhdGlvbiBxdWV1ZSBhbmQgYXNzZXJ0cyB0aGF0XG4gICAgICogdGhlIHJlc3VsdGluZyBpbmRleCBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgcXVldWUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYmF0Y2hJZCAtIFRoZSBiYXRjaElkIHRvIHNlYXJjaCBmb3JcbiAgICAgKiBAcGFyYW0gYWN0aW9uIC0gQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoZSBjYWxsZXIgaXMgZG9pbmcsIHBocmFzZWQgaW4gcGFzc2l2ZVxuICAgICAqIGZvcm0gKGUuZy4gXCJhY2tub3dsZWRnZWRcIiBpbiBhIHJvdXRpbmUgdGhhdCBhY2tub3dsZWRnZXMgYmF0Y2hlcykuXG4gICAgICovICAgIENyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnIoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmRzIHRoZSBpbmRleCBvZiB0aGUgZ2l2ZW4gYmF0Y2hJZCBpbiB0aGUgbXV0YXRpb24gcXVldWUuIFRoaXMgb3BlcmF0aW9uXG4gICAgICogaXMgTygxKS5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBjb21wdXRlZCBpbmRleCBvZiB0aGUgYmF0Y2ggd2l0aCB0aGUgZ2l2ZW4gYmF0Y2hJZCwgYmFzZWQgb25cbiAgICAgKiB0aGUgc3RhdGUgb2YgdGhlIHF1ZXVlLiBOb3RlIHRoaXMgaW5kZXggY2FuIGJlIG5lZ2F0aXZlIGlmIHRoZSByZXF1ZXN0ZWRcbiAgICAgKiBiYXRjaElkIGhhcyBhbHJlYWR5IGJlZW4gcmVtdm9lZCBmcm9tIHRoZSBxdWV1ZSBvciBwYXN0IHRoZSBlbmQgb2YgdGhlXG4gICAgICogcXVldWUgaWYgdGhlIGJhdGNoSWQgaXMgbGFyZ2VyIHRoYW4gdGhlIGxhc3QgYWRkZWQgYmF0Y2guXG4gICAgICovICAgIGJyKGUpIHtcbiAgICAgICAgaWYgKDAgPT09IHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGgpIFxuICAgICAgICAvLyBBcyBhbiBpbmRleCB0aGlzIGlzIHBhc3QgdGhlIGVuZCBvZiB0aGUgcXVldWVcbiAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIC8vIEV4YW1pbmUgdGhlIGZyb250IG9mIHRoZSBxdWV1ZSB0byBmaWd1cmUgb3V0IHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gdGhlXG4gICAgICAgIC8vIGJhdGNoSWQgYW5kIGluZGV4ZXMgaW4gdGhlIGFycmF5LiBOb3RlIHRoYXQgc2luY2UgdGhlIHF1ZXVlIGlzIG9yZGVyZWRcbiAgICAgICAgLy8gYnkgYmF0Y2hJZCwgaWYgdGhlIGZpcnN0IGJhdGNoIGhhcyBhIGxhcmdlciBiYXRjaElkIHRoZW4gdGhlIHJlcXVlc3RlZFxuICAgICAgICAvLyBiYXRjaElkIGRvZXNuJ3QgZXhpc3QgaW4gdGhlIHF1ZXVlLlxuICAgICAgICAgICAgICAgIHJldHVybiBlIC0gdGhpcy5tdXRhdGlvblF1ZXVlWzBdLmJhdGNoSWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgdmVyc2lvbiBvZiBsb29rdXBNdXRhdGlvbkJhdGNoIHRoYXQgZG9lc24ndCByZXR1cm4gYSBwcm9taXNlLCB0aGlzIG1ha2VzXG4gICAgICogb3RoZXIgZnVuY3Rpb25zIHRoYXQgdXNlcyB0aGlzIGNvZGUgZWFzaWVyIHRvIHJlYWQgYW5kIG1vcmUgZWZmaWNlbnQuXG4gICAgICovICAgIFNyKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuYnIoZSk7XG4gICAgICAgIGlmICh0IDwgMCB8fCB0ID49IHRoaXMubXV0YXRpb25RdWV1ZS5sZW5ndGgpIHJldHVybiBudWxsO1xuICAgICAgICByZXR1cm4gdGhpcy5tdXRhdGlvblF1ZXVlW3RdO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogVGhlIG1lbW9yeS1vbmx5IFJlbW90ZURvY3VtZW50Q2FjaGUgZm9yIEluZGV4ZWREYi4gVG8gY29uc3RydWN0LCBpbnZva2VcbiAqIGBuZXdNZW1vcnlSZW1vdGVEb2N1bWVudENhY2hlKClgLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZUltcGwge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBzaXplciAtIFVzZWQgdG8gYXNzZXNzIHRoZSBzaXplIG9mIGEgZG9jdW1lbnQuIEZvciBlYWdlciBHQywgdGhpcyBpc1xuICAgICAqIGV4cGVjdGVkIHRvIGp1c3QgcmV0dXJuIDAgdG8gYXZvaWQgdW5uZWNlc3NhcmlseSBkb2luZyB0aGUgd29yayBvZlxuICAgICAqIGNhbGN1bGF0aW5nIHRoZSBzaXplLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy52ciA9IGUsIFxuICAgICAgICAvKiogVW5kZXJseWluZyBjYWNoZSBvZiBkb2N1bWVudHMgYW5kIHRoZWlyIHJlYWQgdGltZXMuICovXG4gICAgICAgIHRoaXMuZG9jcyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9kb2N1bWVudEVudHJ5TWFwKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG4gICAgICAgIH0oKSwgXG4gICAgICAgIC8qKiBTaXplIG9mIGFsbCBjYWNoZWQgZG9jdW1lbnRzLiAqL1xuICAgICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cbiAgICBzZXRJbmRleE1hbmFnZXIoZSkge1xuICAgICAgICB0aGlzLmluZGV4TWFuYWdlciA9IGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIHN1cHBsaWVkIGVudHJ5IHRvIHRoZSBjYWNoZSBhbmQgdXBkYXRlcyB0aGUgY2FjaGUgc2l6ZSBhcyBhcHByb3ByaWF0ZS5cbiAgICAgKlxuICAgICAqIEFsbCBjYWxscyBvZiBgYWRkRW50cnlgICBhcmUgcmVxdWlyZWQgdG8gZ28gdGhyb3VnaCB0aGUgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXJcbiAgICAgKiByZXR1cm5lZCBieSBgbmV3Q2hhbmdlQnVmZmVyKClgLlxuICAgICAqLyAgICBhZGRFbnRyeShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LmtleSwgciA9IHRoaXMuZG9jcy5nZXQobiksIGkgPSByID8gci5zaXplIDogMCwgcyA9IHRoaXMudnIodCk7XG4gICAgICAgIHJldHVybiB0aGlzLmRvY3MgPSB0aGlzLmRvY3MuaW5zZXJ0KG4sIHtcbiAgICAgICAgICAgIGRvY3VtZW50OiB0Lm11dGFibGVDb3B5KCksXG4gICAgICAgICAgICBzaXplOiBzXG4gICAgICAgIH0pLCB0aGlzLnNpemUgKz0gcyAtIGksIHRoaXMuaW5kZXhNYW5hZ2VyLmFkZFRvQ29sbGVjdGlvblBhcmVudEluZGV4KGUsIG4ucGF0aC5wb3BMYXN0KCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgZW50cnkgZnJvbSB0aGUgY2FjaGUgYW5kIHVwZGF0ZXMgdGhlIGNhY2hlIHNpemUgYXMgYXBwcm9wcmlhdGUuXG4gICAgICpcbiAgICAgKiBBbGwgY2FsbHMgb2YgYHJlbW92ZUVudHJ5YCBhcmUgcmVxdWlyZWQgdG8gZ28gdGhyb3VnaCB0aGUgUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXJcbiAgICAgKiByZXR1cm5lZCBieSBgbmV3Q2hhbmdlQnVmZmVyKClgLlxuICAgICAqLyAgICByZW1vdmVFbnRyeShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmRvY3MuZ2V0KGUpO1xuICAgICAgICB0ICYmICh0aGlzLmRvY3MgPSB0aGlzLmRvY3MucmVtb3ZlKGUpLCB0aGlzLnNpemUgLT0gdC5zaXplKTtcbiAgICB9XG4gICAgZ2V0RW50cnkoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5kb2NzLmdldCh0KTtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG4gPyBuLmRvY3VtZW50Lm11dGFibGVDb3B5KCkgOiBNdXRhYmxlRG9jdW1lbnQubmV3SW52YWxpZERvY3VtZW50KHQpKTtcbiAgICB9XG4gICAgZ2V0RW50cmllcyhlLCB0KSB7XG4gICAgICAgIGxldCBuID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgICAgICByZXR1cm4gdC5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB0aGlzLmRvY3MuZ2V0KGUpO1xuICAgICAgICAgICAgbiA9IG4uaW5zZXJ0KGUsIHQgPyB0LmRvY3VtZW50Lm11dGFibGVDb3B5KCkgOiBNdXRhYmxlRG9jdW1lbnQubmV3SW52YWxpZERvY3VtZW50KGUpKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShuKTtcbiAgICB9XG4gICAgZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCB0LCBuLCByKSB7XG4gICAgICAgIGxldCBpID0gX19QUklWQVRFX211dGFibGVEb2N1bWVudE1hcCgpO1xuICAgICAgICAvLyBEb2N1bWVudHMgYXJlIG9yZGVyZWQgYnkga2V5LCBzbyB3ZSBjYW4gdXNlIGEgcHJlZml4IHNjYW4gdG8gbmFycm93IGRvd25cbiAgICAgICAgLy8gdGhlIGRvY3VtZW50cyB3ZSBuZWVkIHRvIG1hdGNoIHRoZSBxdWVyeSBhZ2FpbnN0LlxuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSB0LnBhdGgsIG8gPSBuZXcgRG9jdW1lbnRLZXkocy5jaGlsZChcIlwiKSksIF8gPSB0aGlzLmRvY3MuZ2V0SXRlcmF0b3JGcm9tKG8pO1xuICAgICAgICBmb3IgKDtfLmhhc05leHQoKTsgKSB7XG4gICAgICAgICAgICBjb25zdCB7a2V5OiBlLCB2YWx1ZToge2RvY3VtZW50OiBvfX0gPSBfLmdldE5leHQoKTtcbiAgICAgICAgICAgIGlmICghcy5pc1ByZWZpeE9mKGUucGF0aCkpIGJyZWFrO1xuICAgICAgICAgICAgZS5wYXRoLmxlbmd0aCA+IHMubGVuZ3RoICsgMSB8fCAoX19QUklWQVRFX2luZGV4T2Zmc2V0Q29tcGFyYXRvcihfX1BSSVZBVEVfbmV3SW5kZXhPZmZzZXRGcm9tRG9jdW1lbnQobyksIG4pIDw9IDAgfHwgKHIuaGFzKG8ua2V5KSB8fCBfX1BSSVZBVEVfcXVlcnlNYXRjaGVzKHQsIG8pKSAmJiAoaSA9IGkuaW5zZXJ0KG8ua2V5LCBvLm11dGFibGVDb3B5KCkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKGkpO1xuICAgIH1cbiAgICBnZXRBbGxGcm9tQ29sbGVjdGlvbkdyb3VwKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgLy8gVGhpcyBtZXRob2Qgc2hvdWxkIG9ubHkgYmUgY2FsbGVkIGZyb20gdGhlIEluZGV4QmFja2ZpbGxlciBpZiBwZXJzaXN0ZW5jZVxuICAgICAgICAvLyBpcyBlbmFibGVkLlxuICAgICAgICBmYWlsKCk7XG4gICAgfVxuICAgIEZyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHRoaXMuZG9jcywgKGUgPT4gdChlKSkpO1xuICAgIH1cbiAgICBuZXdDaGFuZ2VCdWZmZXIoZSkge1xuICAgICAgICAvLyBgdHJhY2tSZW1vdmFsc2AgaXMgaWdub3JlcyBzaW5jZSB0aGUgTWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZSBrZWVwc1xuICAgICAgICAvLyBhIHNlcGFyYXRlIGNoYW5nZWxvZyBhbmQgZG9lcyBub3QgbmVlZCBzcGVjaWFsIGhhbmRsaW5nIGZvciByZW1vdmFscy5cbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5UmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIodGhpcyk7XG4gICAgfVxuICAgIGdldFNpemUoZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5zaXplKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBtZW1vcnktb25seSBSZW1vdGVEb2N1bWVudENhY2hlLlxuICpcbiAqIEBwYXJhbSBzaXplciAtIFVzZWQgdG8gYXNzZXNzIHRoZSBzaXplIG9mIGEgZG9jdW1lbnQuIEZvciBlYWdlciBHQywgdGhpcyBpc1xuICogZXhwZWN0ZWQgdG8ganVzdCByZXR1cm4gMCB0byBhdm9pZCB1bm5lY2Vzc2FyaWx5IGRvaW5nIHRoZSB3b3JrIG9mXG4gKiBjYWxjdWxhdGluZyB0aGUgc2l6ZS5cbiAqL1xuLyoqXG4gKiBIYW5kbGVzIHRoZSBkZXRhaWxzIG9mIGFkZGluZyBhbmQgdXBkYXRpbmcgZG9jdW1lbnRzIGluIHRoZSBNZW1vcnlSZW1vdGVEb2N1bWVudENhY2hlLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5UmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIgZXh0ZW5kcyBSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmFyID0gZTtcbiAgICB9XG4gICAgYXBwbHlDaGFuZ2VzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGFuZ2VzLmZvckVhY2goKChuLCByKSA9PiB7XG4gICAgICAgICAgICByLmlzVmFsaWREb2N1bWVudCgpID8gdC5wdXNoKHRoaXMuYXIuYWRkRW50cnkoZSwgcikpIDogdGhpcy5hci5yZW1vdmVFbnRyeShuKTtcbiAgICAgICAgfSkpLCBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcih0KTtcbiAgICB9XG4gICAgZ2V0RnJvbUNhY2hlKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXIuZ2V0RW50cnkoZSwgdCk7XG4gICAgfVxuICAgIGdldEFsbEZyb21DYWNoZShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFyLmdldEVudHJpZXMoZSwgdCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTWVtb3J5VGFyZ2V0Q2FjaGUge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZSA9IGUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogTWFwcyBhIHRhcmdldCB0byB0aGUgZGF0YSBhYm91dCB0aGF0IHRhcmdldFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5NciA9IG5ldyBPYmplY3RNYXAoKGUgPT4gX19QUklWQVRFX2Nhbm9uaWZ5VGFyZ2V0KGUpKSwgX19QUklWQVRFX3RhcmdldEVxdWFscyksIFxuICAgICAgICAvKiogVGhlIGxhc3QgcmVjZWl2ZWQgc25hcHNob3QgdmVyc2lvbi4gKi9cbiAgICAgICAgdGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uID0gU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyoqIFRoZSBoaWdoZXN0IG51bWJlcmVkIHRhcmdldCBJRCBlbmNvdW50ZXJlZC4gKi9cbiAgICAgICAgdGhpcy5oaWdoZXN0VGFyZ2V0SWQgPSAwLCBcbiAgICAgICAgLyoqIFRoZSBoaWdoZXN0IHNlcXVlbmNlIG51bWJlciBlbmNvdW50ZXJlZC4gKi9cbiAgICAgICAgdGhpcy5PciA9IDAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBvcmRlcmVkIGJpZGlyZWN0aW9uYWwgbWFwcGluZyBiZXR3ZWVuIGRvY3VtZW50cyBhbmQgdGhlIHJlbW90ZSB0YXJnZXRcbiAgICAgICAgICogSURzLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5OciA9IG5ldyBfX1BSSVZBVEVfUmVmZXJlbmNlU2V0LCB0aGlzLnRhcmdldENvdW50ID0gMCwgdGhpcy5MciA9IF9fUFJJVkFURV9UYXJnZXRJZEdlbmVyYXRvci5ObigpO1xuICAgIH1cbiAgICBmb3JFYWNoVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTXIuZm9yRWFjaCgoKGUsIG4pID0+IHQobikpKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZ2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihlKSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLmxhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24pO1xuICAgIH1cbiAgICBnZXRIaWdoZXN0U2VxdWVuY2VOdW1iZXIoZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5Pcik7XG4gICAgfVxuICAgIGFsbG9jYXRlVGFyZ2V0SWQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5oaWdoZXN0VGFyZ2V0SWQgPSB0aGlzLkxyLm5leHQoKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5oaWdoZXN0VGFyZ2V0SWQpO1xuICAgIH1cbiAgICBzZXRUYXJnZXRzTWV0YWRhdGEoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gbiAmJiAodGhpcy5sYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uID0gbiksIHQgPiB0aGlzLk9yICYmICh0aGlzLk9yID0gdCksIFxuICAgICAgICBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBxbihlKSB7XG4gICAgICAgIHRoaXMuTXIuc2V0KGUudGFyZ2V0LCBlKTtcbiAgICAgICAgY29uc3QgdCA9IGUudGFyZ2V0SWQ7XG4gICAgICAgIHQgPiB0aGlzLmhpZ2hlc3RUYXJnZXRJZCAmJiAodGhpcy5MciA9IG5ldyBfX1BSSVZBVEVfVGFyZ2V0SWRHZW5lcmF0b3IodCksIHRoaXMuaGlnaGVzdFRhcmdldElkID0gdCksIFxuICAgICAgICBlLnNlcXVlbmNlTnVtYmVyID4gdGhpcy5PciAmJiAodGhpcy5PciA9IGUuc2VxdWVuY2VOdW1iZXIpO1xuICAgIH1cbiAgICBhZGRUYXJnZXREYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucW4odCksIHRoaXMudGFyZ2V0Q291bnQgKz0gMSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdXBkYXRlVGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnFuKHQpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVUYXJnZXREYXRhKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuTXIuZGVsZXRlKHQudGFyZ2V0KSwgdGhpcy5Oci5Wcih0LnRhcmdldElkKSwgdGhpcy50YXJnZXRDb3VudCAtPSAxLCBcbiAgICAgICAgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0cyhlLCB0LCBuKSB7XG4gICAgICAgIGxldCByID0gMDtcbiAgICAgICAgY29uc3QgaSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5Nci5mb3JFYWNoKCgocywgbykgPT4ge1xuICAgICAgICAgICAgby5zZXF1ZW5jZU51bWJlciA8PSB0ICYmIG51bGwgPT09IG4uZ2V0KG8udGFyZ2V0SWQpICYmICh0aGlzLk1yLmRlbGV0ZShzKSwgaS5wdXNoKHRoaXMucmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgby50YXJnZXRJZCkpLCBcbiAgICAgICAgICAgIHIrKyk7XG4gICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IoaSkubmV4dCgoKCkgPT4gcikpO1xuICAgIH1cbiAgICBnZXRUYXJnZXRDb3VudChlKSB7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSh0aGlzLnRhcmdldENvdW50KTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0RGF0YShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLk1yLmdldCh0KSB8fCBudWxsO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobik7XG4gICAgfVxuICAgIGFkZE1hdGNoaW5nS2V5cyhlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLk5yLmRyKHQsIG4pLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZW1vdmVNYXRjaGluZ0tleXMoZSwgdCwgbikge1xuICAgICAgICB0aGlzLk5yLlJyKHQsIG4pO1xuICAgICAgICBjb25zdCByID0gdGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZSwgaSA9IFtdO1xuICAgICAgICByZXR1cm4gciAmJiB0LmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgaS5wdXNoKHIubWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgdCkpO1xuICAgICAgICB9KSksIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKGkpO1xuICAgIH1cbiAgICByZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLk5yLlZyKHQpLCBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBnZXRNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLk5yLmdyKHQpO1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobik7XG4gICAgfVxuICAgIGNvbnRhaW5zS2V5KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHRoaXMuTnIuY29udGFpbnNLZXkodCkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBtZW1vcnktYmFja2VkIGluc3RhbmNlIG9mIFBlcnNpc3RlbmNlLiBEYXRhIGlzIHN0b3JlZCBvbmx5IGluIFJBTSBhbmRcbiAqIG5vdCBwZXJzaXN0ZWQgYWNyb3NzIHNlc3Npb25zLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5UGVyc2lzdGVuY2Uge1xuICAgIC8qKlxuICAgICAqIFRoZSBjb25zdHJ1Y3RvciBhY2NlcHRzIGEgZmFjdG9yeSBmb3IgY3JlYXRpbmcgYSByZWZlcmVuY2UgZGVsZWdhdGUuIFRoaXNcbiAgICAgKiBhbGxvd3MgYm90aCB0aGUgZGVsZWdhdGUgYW5kIHRoaXMgaW5zdGFuY2UgdG8gaGF2ZSBzdHJvbmcgcmVmZXJlbmNlcyB0b1xuICAgICAqIGVhY2ggb3RoZXIgd2l0aG91dCBoYXZpbmcgbnVsbGFibGUgZmllbGRzIHRoYXQgd291bGQgdGhlbiBuZWVkIHRvIGJlXG4gICAgICogY2hlY2tlZCBvciBhc3NlcnRlZCBvbiBldmVyeSBhY2Nlc3MuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLkJyID0ge30sIHRoaXMub3ZlcmxheXMgPSB7fSwgdGhpcy5rciA9IG5ldyBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2UoMCksIHRoaXMucXIgPSAhMSwgXG4gICAgICAgIHRoaXMucXIgPSAhMCwgdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZSA9IGUodGhpcyksIHRoaXMuUXIgPSBuZXcgX19QUklWQVRFX01lbW9yeVRhcmdldENhY2hlKHRoaXMpO1xuICAgICAgICB0aGlzLmluZGV4TWFuYWdlciA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5SW5kZXhNYW5hZ2VyLCB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGUgPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3TWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZShlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NZW1vcnlSZW1vdGVEb2N1bWVudENhY2hlSW1wbChlKTtcbiAgICAgICAgfSgoZSA9PiB0aGlzLnJlZmVyZW5jZURlbGVnYXRlLktyKGUpKSksIHRoaXMuc2VyaWFsaXplciA9IG5ldyBfX1BSSVZBVEVfTG9jYWxTZXJpYWxpemVyKHQpLCBcbiAgICAgICAgdGhpcy4kciA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5QnVuZGxlQ2FjaGUodGhpcy5zZXJpYWxpemVyKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIC8vIE5vIGR1cmFibGUgc3RhdGUgdG8gZW5zdXJlIGlzIGNsb3NlZCBvbiBzaHV0ZG93bi5cbiAgICAgICAgcmV0dXJuIHRoaXMucXIgPSAhMSwgUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIGdldCBzdGFydGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5xcjtcbiAgICB9XG4gICAgc2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXIoKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBzZXROZXR3b3JrRW5hYmxlZCgpIHtcbiAgICAgICAgLy8gTm8gb3AuXG4gICAgfVxuICAgIGdldEluZGV4TWFuYWdlcihlKSB7XG4gICAgICAgIC8vIFdlIGRvIG5vdCBjdXJyZW50bHkgc3VwcG9ydCBpbmRpY2VzIGZvciBtZW1vcnkgcGVyc2lzdGVuY2UsIHNvIHdlIGNhblxuICAgICAgICAvLyByZXR1cm4gdGhlIHNhbWUgc2hhcmVkIGluc3RhbmNlIG9mIHRoZSBtZW1vcnkgaW5kZXggbWFuYWdlci5cbiAgICAgICAgcmV0dXJuIHRoaXMuaW5kZXhNYW5hZ2VyO1xuICAgIH1cbiAgICBnZXREb2N1bWVudE92ZXJsYXlDYWNoZShlKSB7XG4gICAgICAgIGxldCB0ID0gdGhpcy5vdmVybGF5c1tlLnRvS2V5KCldO1xuICAgICAgICByZXR1cm4gdCB8fCAodCA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5RG9jdW1lbnRPdmVybGF5Q2FjaGUsIHRoaXMub3ZlcmxheXNbZS50b0tleSgpXSA9IHQpLCBcbiAgICAgICAgdDtcbiAgICB9XG4gICAgZ2V0TXV0YXRpb25RdWV1ZShlLCB0KSB7XG4gICAgICAgIGxldCBuID0gdGhpcy5CcltlLnRvS2V5KCldO1xuICAgICAgICByZXR1cm4gbiB8fCAobiA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5TXV0YXRpb25RdWV1ZSh0LCB0aGlzLnJlZmVyZW5jZURlbGVnYXRlKSwgdGhpcy5CcltlLnRvS2V5KCldID0gbiksIFxuICAgICAgICBuO1xuICAgIH1cbiAgICBnZXRUYXJnZXRDYWNoZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuUXI7XG4gICAgfVxuICAgIGdldFJlbW90ZURvY3VtZW50Q2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlbW90ZURvY3VtZW50Q2FjaGU7XG4gICAgfVxuICAgIGdldEJ1bmRsZUNhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy4kcjtcbiAgICB9XG4gICAgcnVuVHJhbnNhY3Rpb24oZSwgdCwgbikge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJNZW1vcnlQZXJzaXN0ZW5jZVwiLCBcIlN0YXJ0aW5nIHRyYW5zYWN0aW9uOlwiLCBlKTtcbiAgICAgICAgY29uc3QgciA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5VHJhbnNhY3Rpb24odGhpcy5rci5uZXh0KCkpO1xuICAgICAgICByZXR1cm4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5VcigpLCBuKHIpLm5leHQoKGUgPT4gdGhpcy5yZWZlcmVuY2VEZWxlZ2F0ZS5XcihyKS5uZXh0KCgoKSA9PiBlKSkpKS50b1Byb21pc2UoKS50aGVuKChlID0+IChyLnJhaXNlT25Db21taXR0ZWRFdmVudCgpLCBcbiAgICAgICAgZSkpKTtcbiAgICB9XG4gICAgR3IoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLm9yKE9iamVjdC52YWx1ZXModGhpcy5CcikubWFwKChuID0+ICgpID0+IG4uY29udGFpbnNLZXkoZSwgdCkpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIE1lbW9yeSBwZXJzaXN0ZW5jZSBpcyBub3QgYWN0dWFsbHkgdHJhbnNhY3Rpb25hbCwgYnV0IGZ1dHVyZSBpbXBsZW1lbnRhdGlvbnNcbiAqIG1heSBoYXZlIHRyYW5zYWN0aW9uLXNjb3BlZCBzdGF0ZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTWVtb3J5VHJhbnNhY3Rpb24gZXh0ZW5kcyBQZXJzaXN0ZW5jZVRyYW5zYWN0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuY3VycmVudFNlcXVlbmNlTnVtYmVyID0gZTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9NZW1vcnlFYWdlckRlbGVnYXRlIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMucGVyc2lzdGVuY2UgPSBlLCBcbiAgICAgICAgLyoqIFRyYWNrcyBhbGwgZG9jdW1lbnRzIHRoYXQgYXJlIGFjdGl2ZSBpbiBRdWVyeSB2aWV3cy4gKi9cbiAgICAgICAgdGhpcy56ciA9IG5ldyBfX1BSSVZBVEVfUmVmZXJlbmNlU2V0LCBcbiAgICAgICAgLyoqIFRoZSBsaXN0IG9mIGRvY3VtZW50cyB0aGF0IGFyZSBwb3RlbnRpYWxseSBHQ2VkIGFmdGVyIGVhY2ggdHJhbnNhY3Rpb24uICovXG4gICAgICAgIHRoaXMuanIgPSBudWxsO1xuICAgIH1cbiAgICBzdGF0aWMgSHIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NZW1vcnlFYWdlckRlbGVnYXRlKGUpO1xuICAgIH1cbiAgICBnZXQgSnIoKSB7XG4gICAgICAgIGlmICh0aGlzLmpyKSByZXR1cm4gdGhpcy5qcjtcbiAgICAgICAgdGhyb3cgZmFpbCgpO1xuICAgIH1cbiAgICBhZGRSZWZlcmVuY2UoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy56ci5hZGRSZWZlcmVuY2UobiwgdCksIHRoaXMuSnIuZGVsZXRlKG4udG9TdHJpbmcoKSksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVJlZmVyZW5jZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnpyLnJlbW92ZVJlZmVyZW5jZShuLCB0KSwgdGhpcy5Kci5hZGQobi50b1N0cmluZygpKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgbWFya1BvdGVudGlhbGx5T3JwaGFuZWQoZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5Kci5hZGQodC50b1N0cmluZygpKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgdGhpcy56ci5Wcih0LnRhcmdldElkKS5mb3JFYWNoKChlID0+IHRoaXMuSnIuYWRkKGUudG9TdHJpbmcoKSkpKTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKTtcbiAgICAgICAgcmV0dXJuIG4uZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdC50YXJnZXRJZCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBlLmZvckVhY2goKGUgPT4gdGhpcy5Kci5hZGQoZS50b1N0cmluZygpKSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gbi5yZW1vdmVUYXJnZXREYXRhKGUsIHQpKSk7XG4gICAgfVxuICAgIFVyKCkge1xuICAgICAgICB0aGlzLmpyID0gbmV3IFNldDtcbiAgICB9XG4gICAgV3IoZSkge1xuICAgICAgICAvLyBSZW1vdmUgbmV3bHkgb3JwaGFuZWQgZG9jdW1lbnRzLlxuICAgICAgICBjb25zdCB0ID0gdGhpcy5wZXJzaXN0ZW5jZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCkubmV3Q2hhbmdlQnVmZmVyKCk7XG4gICAgICAgIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0aGlzLkpyLCAobiA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gRG9jdW1lbnRLZXkuZnJvbVBhdGgobik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5ZcihlLCByKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBlIHx8IHQucmVtb3ZlRW50cnkociwgU25hcHNob3RWZXJzaW9uLm1pbigpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+ICh0aGlzLmpyID0gbnVsbCwgdC5hcHBseShlKSkpKTtcbiAgICB9XG4gICAgdXBkYXRlTGltYm9Eb2N1bWVudChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLllyKGUsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZSA/IHRoaXMuSnIuZGVsZXRlKHQudG9TdHJpbmcoKSkgOiB0aGlzLkpyLmFkZCh0LnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIEtyKGUpIHtcbiAgICAgICAgLy8gRm9yIGVhZ2VyIEdDLCB3ZSBkb24ndCBjYXJlIGFib3V0IHRoZSBkb2N1bWVudCBzaXplLCB0aGVyZSBhcmUgbm8gc2l6ZSB0aHJlc2hvbGRzLlxuICAgICAgICByZXR1cm4gMDtcbiAgICB9XG4gICAgWXIoZSwgdCkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLm9yKFsgKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy56ci5jb250YWluc0tleSh0KSksICgpID0+IHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5jb250YWluc0tleShlLCB0KSwgKCkgPT4gdGhpcy5wZXJzaXN0ZW5jZS5HcihlLCB0KSBdKTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9NZW1vcnlMcnVEZWxlZ2F0ZSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLnBlcnNpc3RlbmNlID0gZSwgdGhpcy5aciA9IG5ldyBPYmplY3RNYXAoKGUgPT4gX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChlLnBhdGgpKSwgKChlLCB0KSA9PiBlLmlzRXF1YWwodCkpKSwgXG4gICAgICAgIHRoaXMuZ2FyYmFnZUNvbGxlY3RvciA9IF9fUFJJVkFURV9uZXdMcnVHYXJiYWdlQ29sbGVjdG9yKHRoaXMsIHQpO1xuICAgIH1cbiAgICBzdGF0aWMgSHIoZSwgdCkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NZW1vcnlMcnVEZWxlZ2F0ZShlLCB0KTtcbiAgICB9XG4gICAgLy8gTm8tb3BzLCBwcmVzZW50IHNvIG1lbW9yeSBwZXJzaXN0ZW5jZSBkb2Vzbid0IGhhdmUgdG8gY2FyZSB3aGljaCBkZWxlZ2F0ZVxuICAgIC8vIGl0IGhhcy5cbiAgICBVcigpIHt9XG4gICAgV3IoZSkge1xuICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgZm9yRWFjaFRhcmdldChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkuZm9yRWFjaFRhcmdldChlLCB0KTtcbiAgICB9XG4gICAgSG4oZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5abihlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5nZXRUYXJnZXRDb3VudChlKS5uZXh0KChlID0+IHQubmV4dCgodCA9PiBlICsgdCkpKSk7XG4gICAgfVxuICAgIFpuKGUpIHtcbiAgICAgICAgbGV0IHQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcy5KbihlLCAoZSA9PiB7XG4gICAgICAgICAgICB0Kys7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB0KSk7XG4gICAgfVxuICAgIEpuKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHRoaXMuWnIsICgobiwgcikgPT4gdGhpcy5lcihlLCBuLCByKS5uZXh0KChlID0+IGUgPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpIDogdChyKSkpKSk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldHMoZSwgdCwgbikge1xuICAgICAgICByZXR1cm4gdGhpcy5wZXJzaXN0ZW5jZS5nZXRUYXJnZXRDYWNoZSgpLnJlbW92ZVRhcmdldHMoZSwgdCwgbik7XG4gICAgfVxuICAgIHJlbW92ZU9ycGhhbmVkRG9jdW1lbnRzKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSAwO1xuICAgICAgICBjb25zdCByID0gdGhpcy5wZXJzaXN0ZW5jZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCksIGkgPSByLm5ld0NoYW5nZUJ1ZmZlcigpO1xuICAgICAgICByZXR1cm4gci5GcihlLCAociA9PiB0aGlzLmVyKGUsIHIsIHQpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgZSB8fCAobisrLCBpLnJlbW92ZUVudHJ5KHIsIFNuYXBzaG90VmVyc2lvbi5taW4oKSkpO1xuICAgICAgICB9KSkpKS5uZXh0KCgoKSA9PiBpLmFwcGx5KGUpKSkubmV4dCgoKCkgPT4gbikpO1xuICAgIH1cbiAgICBtYXJrUG90ZW50aWFsbHlPcnBoYW5lZChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLlpyLnNldCh0LCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJlbW92ZVRhcmdldChlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LndpdGhTZXF1ZW5jZU51bWJlcihlLmN1cnJlbnRTZXF1ZW5jZU51bWJlcik7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLmdldFRhcmdldENhY2hlKCkudXBkYXRlVGFyZ2V0RGF0YShlLCBuKTtcbiAgICB9XG4gICAgYWRkUmVmZXJlbmNlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWnIuc2V0KG4sIGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmVtb3ZlUmVmZXJlbmNlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuWnIuc2V0KG4sIGUuY3VycmVudFNlcXVlbmNlTnVtYmVyKSwgUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgdXBkYXRlTGltYm9Eb2N1bWVudChlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLlpyLnNldCh0LCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIEtyKGUpIHtcbiAgICAgICAgbGV0IHQgPSBlLmtleS50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgcmV0dXJuIGUuaXNGb3VuZERvY3VtZW50KCkgJiYgKHQgKz0gX19QUklWQVRFX2VzdGltYXRlQnl0ZVNpemUoZS5kYXRhLnZhbHVlKSksIHQ7XG4gICAgfVxuICAgIGVyKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5vcihbICgpID0+IHRoaXMucGVyc2lzdGVuY2UuR3IoZSwgdCksICgpID0+IHRoaXMucGVyc2lzdGVuY2UuZ2V0VGFyZ2V0Q2FjaGUoKS5jb250YWluc0tleShlLCB0KSwgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuWnIuZ2V0KHQpO1xuICAgICAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHZvaWQgMCAhPT0gZSAmJiBlID4gbik7XG4gICAgICAgIH0gXSk7XG4gICAgfVxuICAgIGdldENhY2hlU2l6ZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLmdldFJlbW90ZURvY3VtZW50Q2FjaGUoKS5nZXRTaXplKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBQZXJmb3JtcyBkYXRhYmFzZSBjcmVhdGlvbiBhbmQgc2NoZW1hIHVwZ3JhZGVzLiAqLyBjbGFzcyBfX1BSSVZBVEVfU2NoZW1hQ29udmVydGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGRhdGFiYXNlIGNyZWF0aW9uIGFuZCBzY2hlbWEgdXBncmFkZXMuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgaW4gcHJvZHVjdGlvbiwgdGhpcyBtZXRob2QgaXMgb25seSBldmVyIHVzZWQgdG8gdXBncmFkZSB0aGUgc2NoZW1hXG4gICAgICogdG8gU0NIRU1BX1ZFUlNJT04uIERpZmZlcmVudCB2YWx1ZXMgb2YgdG9WZXJzaW9uIGFyZSBvbmx5IHVzZWQgZm9yIHRlc3RpbmdcbiAgICAgKiBhbmQgbG9jYWwgZmVhdHVyZSBkZXZlbG9wbWVudC5cbiAgICAgKi8gICAgTyhlLCB0LCBuLCByKSB7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgX19QUklWQVRFX1NpbXBsZURiVHJhbnNhY3Rpb24oXCJjcmVhdGVPclVwZ3JhZGVcIiwgdCk7XG4gICAgICAgIG4gPCAxICYmIHIgPj0gMSAmJiAoIWZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVQcmltYXJ5Q2xpZW50U3RvcmUoZSkge1xuICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcIm93bmVyXCIpO1xuICAgICAgICB9KGUpLCBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlTXV0YXRpb25RdWV1ZShlKSB7XG4gICAgICAgICAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwibXV0YXRpb25RdWV1ZXNcIiwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IFwidXNlcklkXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcIm11dGF0aW9uc1wiLCB7XG4gICAgICAgICAgICAgICAga2V5UGF0aDogXCJiYXRjaElkXCIsXG4gICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogITBcbiAgICAgICAgICAgIH0pLmNyZWF0ZUluZGV4KFwidXNlck11dGF0aW9uc0luZGV4XCIsIHgsIHtcbiAgICAgICAgICAgICAgICB1bmlxdWU6ICEwXG4gICAgICAgICAgICB9KSwgZS5jcmVhdGVPYmplY3RTdG9yZShcImRvY3VtZW50TXV0YXRpb25zXCIpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogVXBncmFkZSBmdW5jdGlvbiB0byBtaWdyYXRlIHRoZSAnbXV0YXRpb25zJyBzdG9yZSBmcm9tIFYxIHRvIFYzLiBMb2Fkc1xuICogYW5kIHJld3JpdGVzIGFsbCBkYXRhLlxuICovIChlKSwgX19QUklWQVRFX2NyZWF0ZVF1ZXJ5Q2FjaGUoZSksIGZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVMZWdhY3lSZW1vdGVEb2N1bWVudENhY2hlKGUpIHtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJyZW1vdGVEb2N1bWVudHNcIik7XG4gICAgICAgIH0oZSkpO1xuICAgICAgICAvLyBNaWdyYXRpb24gMiB0byBwb3B1bGF0ZSB0aGUgdGFyZ2V0R2xvYmFsIG9iamVjdCBubyBsb25nZXIgbmVlZGVkIHNpbmNlXG4gICAgICAgIC8vIG1pZ3JhdGlvbiAzIHVuY29uZGl0aW9uYWxseSBjbGVhcnMgaXQuXG4gICAgICAgICAgICAgICAgbGV0IHMgPSBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICByZXR1cm4gbiA8IDMgJiYgciA+PSAzICYmIChcbiAgICAgICAgLy8gQnJhbmQgbmV3IGNsaWVudHMgZG9uJ3QgbmVlZCB0byBkcm9wIGFuZCByZWNyZWF0ZS0tb25seSBjbGllbnRzIHRoYXRcbiAgICAgICAgLy8gcG90ZW50aWFsbHkgaGF2ZSBjb3JydXB0IGRhdGEuXG4gICAgICAgIDAgIT09IG4gJiYgKCFmdW5jdGlvbiBfX1BSSVZBVEVfZHJvcFF1ZXJ5Q2FjaGUoZSkge1xuICAgICAgICAgICAgZS5kZWxldGVPYmplY3RTdG9yZShcInRhcmdldERvY3VtZW50c1wiKSwgZS5kZWxldGVPYmplY3RTdG9yZShcInRhcmdldHNcIiksIGUuZGVsZXRlT2JqZWN0U3RvcmUoXCJ0YXJnZXRHbG9iYWxcIik7XG4gICAgICAgIH0oZSksIF9fUFJJVkFURV9jcmVhdGVRdWVyeUNhY2hlKGUpKSwgcyA9IHMubmV4dCgoKCkgPT4gXG4gICAgICAgIC8qKlxuICogQ3JlYXRlcyB0aGUgdGFyZ2V0IGdsb2JhbCBzaW5nbGV0b24gcm93LlxuICpcbiAqIEBwYXJhbSB0eG4gLSBUaGUgdmVyc2lvbiB1cGdyYWRlIHRyYW5zYWN0aW9uIGZvciBpbmRleGVkZGJcbiAqL1xuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfd3JpdGVFbXB0eVRhcmdldEdsb2JhbEVudHJ5KGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLnN0b3JlKFwidGFyZ2V0R2xvYmFsXCIpLCBuID0ge1xuICAgICAgICAgICAgICAgIGhpZ2hlc3RUYXJnZXRJZDogMCxcbiAgICAgICAgICAgICAgICBoaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXI6IDAsXG4gICAgICAgICAgICAgICAgbGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbjogU25hcHNob3RWZXJzaW9uLm1pbigpLnRvVGltZXN0YW1wKCksXG4gICAgICAgICAgICAgICAgdGFyZ2V0Q291bnQ6IDBcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gdC5wdXQoXCJ0YXJnZXRHbG9iYWxLZXlcIiwgbik7XG4gICAgICAgIH0oaSkpKSksIG4gPCA0ICYmIHIgPj0gNCAmJiAoMCAhPT0gbiAmJiAoXG4gICAgICAgIC8vIFNjaGVtYSB2ZXJzaW9uIDMgdXNlcyBhdXRvLWdlbmVyYXRlZCBrZXlzIHRvIGdlbmVyYXRlIGdsb2JhbGx5IHVuaXF1ZVxuICAgICAgICAvLyBtdXRhdGlvbiBiYXRjaCBJRHMgKHRoaXMgd2FzIHByZXZpb3VzbHkgZW5zdXJlZCBpbnRlcm5hbGx5IGJ5IHRoZVxuICAgICAgICAvLyBjbGllbnQpLiBUbyBtaWdyYXRlIHRvIHRoZSBuZXcgc2NoZW1hLCB3ZSBoYXZlIHRvIHJlYWQgYWxsIG11dGF0aW9uc1xuICAgICAgICAvLyBhbmQgd3JpdGUgdGhlbSBiYWNrIG91dC4gV2UgcHJlc2VydmUgdGhlIGV4aXN0aW5nIGJhdGNoIElEcyB0byBndWFyYW50ZWVcbiAgICAgICAgLy8gY29uc2lzdGVuY3kgd2l0aCBvdGhlciBvYmplY3Qgc3RvcmVzLiBBbnkgZnVydGhlciBtdXRhdGlvbiBiYXRjaCBJRHMgd2lsbFxuICAgICAgICAvLyBiZSBhdXRvLWdlbmVyYXRlZC5cbiAgICAgICAgcyA9IHMubmV4dCgoKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX3VwZ3JhZGVNdXRhdGlvbkJhdGNoU2NoZW1hQW5kTWlncmF0ZURhdGEoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIHQuc3RvcmUoXCJtdXRhdGlvbnNcIikuVSgpLm5leHQoKG4gPT4ge1xuICAgICAgICAgICAgICAgIGUuZGVsZXRlT2JqZWN0U3RvcmUoXCJtdXRhdGlvbnNcIik7XG4gICAgICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcIm11dGF0aW9uc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IFwiYmF0Y2hJZFwiLFxuICAgICAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50OiAhMFxuICAgICAgICAgICAgICAgIH0pLmNyZWF0ZUluZGV4KFwidXNlck11dGF0aW9uc0luZGV4XCIsIHgsIHtcbiAgICAgICAgICAgICAgICAgICAgdW5pcXVlOiAhMFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0LnN0b3JlKFwibXV0YXRpb25zXCIpLCBpID0gbi5tYXAoKGUgPT4gci5wdXQoZSkpKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IoaSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0oZSwgaSkpKSksIHMgPSBzLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgICFmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlQ2xpZW50TWV0YWRhdGFTdG9yZShlKSB7XG4gICAgICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcImNsaWVudE1ldGFkYXRhXCIsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aDogXCJjbGllbnRJZFwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KGUpO1xuICAgICAgICB9KSkpLCBuIDwgNSAmJiByID49IDUgJiYgKHMgPSBzLm5leHQoKCgpID0+IHRoaXMuWHIoaSkpKSksIG4gPCA2ICYmIHIgPj0gNiAmJiAocyA9IHMubmV4dCgoKCkgPT4gKGZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVEb2N1bWVudEdsb2JhbFN0b3JlKGUpIHtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJyZW1vdGVEb2N1bWVudEdsb2JhbFwiKTtcbiAgICAgICAgfShlKSwgdGhpcy5laShpKSkpKSksIG4gPCA3ICYmIHIgPj0gNyAmJiAocyA9IHMubmV4dCgoKCkgPT4gdGhpcy50aShpKSkpKSwgbiA8IDggJiYgciA+PSA4ICYmIChzID0gcy5uZXh0KCgoKSA9PiB0aGlzLm5pKGUsIGkpKSkpLCBcbiAgICAgICAgbiA8IDkgJiYgciA+PSA5ICYmIChzID0gcy5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBNdWx0aS1UYWIgdXNlZCB0byBtYW5hZ2UgaXRzIG93biBjaGFuZ2Vsb2csIGJ1dCB0aGlzIGhhcyBiZWVuIG1vdmVkXG4gICAgICAgICAgICAvLyB0byB0aGUgRGJSZW1vdGVEb2N1bWVudCBvYmplY3Qgc3RvcmUgaXRzZWxmLiBTaW5jZSB0aGUgcHJldmlvdXMgY2hhbmdlXG4gICAgICAgICAgICAvLyBsb2cgb25seSBjb250YWluZWQgdHJhbnNpZW50IGRhdGEsIHdlIGNhbiBkcm9wIGl0cyBvYmplY3Qgc3RvcmUuXG4gICAgICAgICAgICAhZnVuY3Rpb24gX19QUklWQVRFX2Ryb3BSZW1vdGVEb2N1bWVudENoYW5nZXNTdG9yZShlKSB7XG4gICAgICAgICAgICAgICAgZS5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKFwicmVtb3RlRG9jdW1lbnRDaGFuZ2VzXCIpICYmIGUuZGVsZXRlT2JqZWN0U3RvcmUoXCJyZW1vdGVEb2N1bWVudENoYW5nZXNcIik7XG4gICAgICAgICAgICB9KGUpO1xuICAgICAgICAgICAgLy8gTm90ZTogU2NoZW1hIHZlcnNpb24gOSB1c2VkIHRvIGNyZWF0ZSBhIHJlYWQgdGltZSBpbmRleCBmb3IgdGhlXG4gICAgICAgICAgICAvLyBSZW1vdGVEb2N1bWVudENhY2hlLiBUaGlzIGlzIG5vdyBkb25lIHdpdGggc2NoZW1hIHZlcnNpb24gMTMuXG4gICAgICAgICAgICAgICAgfSkpKSwgbiA8IDEwICYmIHIgPj0gMTAgJiYgKHMgPSBzLm5leHQoKCgpID0+IHRoaXMucmkoaSkpKSksIG4gPCAxMSAmJiByID49IDExICYmIChzID0gcy5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICAhZnVuY3Rpb24gX19QUklWQVRFX2NyZWF0ZUJ1bmRsZXNTdG9yZShlKSB7XG4gICAgICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcImJ1bmRsZXNcIiwge1xuICAgICAgICAgICAgICAgICAgICBrZXlQYXRoOiBcImJ1bmRsZUlkXCJcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0oZSksIGZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVOYW1lZFF1ZXJpZXNTdG9yZShlKSB7XG4gICAgICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcIm5hbWVkUXVlcmllc1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGtleVBhdGg6IFwibmFtZVwiXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KGUpO1xuICAgICAgICB9KSkpLCBuIDwgMTIgJiYgciA+PSAxMiAmJiAocyA9IHMubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgIWZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVEb2N1bWVudE92ZXJsYXlTdG9yZShlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJkb2N1bWVudE92ZXJsYXlzXCIsIHtcbiAgICAgICAgICAgICAgICAgICAga2V5UGF0aDogelxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHQuY3JlYXRlSW5kZXgoXCJjb2xsZWN0aW9uUGF0aE92ZXJsYXlJbmRleFwiLCBqLCB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogITFcbiAgICAgICAgICAgICAgICB9KSwgdC5jcmVhdGVJbmRleChcImNvbGxlY3Rpb25Hcm91cE92ZXJsYXlJbmRleFwiLCBILCB7XG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZTogITFcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0oZSk7XG4gICAgICAgIH0pKSksIG4gPCAxMyAmJiByID49IDEzICYmIChzID0gcy5uZXh0KCgoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlUmVtb3RlRG9jdW1lbnRDYWNoZShlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS5jcmVhdGVPYmplY3RTdG9yZShcInJlbW90ZURvY3VtZW50c1YxNFwiLCB7XG4gICAgICAgICAgICAgICAga2V5UGF0aDogTlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0LmNyZWF0ZUluZGV4KFwiZG9jdW1lbnRLZXlJbmRleFwiLCBMKSwgdC5jcmVhdGVJbmRleChcImNvbGxlY3Rpb25Hcm91cEluZGV4XCIsIEIpO1xuICAgICAgICB9KGUpKSkubmV4dCgoKCkgPT4gdGhpcy5paShlLCBpKSkpLm5leHQoKCgpID0+IGUuZGVsZXRlT2JqZWN0U3RvcmUoXCJyZW1vdGVEb2N1bWVudHNcIikpKSksIFxuICAgICAgICBuIDwgMTQgJiYgciA+PSAxNCAmJiAocyA9IHMubmV4dCgoKCkgPT4gdGhpcy5zaShlLCBpKSkpKSwgbiA8IDE1ICYmIHIgPj0gMTUgJiYgKHMgPSBzLm5leHQoKCgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVGaWVsZEluZGV4KGUpIHtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJpbmRleENvbmZpZ3VyYXRpb25cIiwge1xuICAgICAgICAgICAgICAgIGtleVBhdGg6IFwiaW5kZXhJZFwiLFxuICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6ICEwXG4gICAgICAgICAgICB9KS5jcmVhdGVJbmRleChcImNvbGxlY3Rpb25Hcm91cEluZGV4XCIsIFwiY29sbGVjdGlvbkdyb3VwXCIsIHtcbiAgICAgICAgICAgICAgICB1bmlxdWU6ICExXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJpbmRleFN0YXRlXCIsIHtcbiAgICAgICAgICAgICAgICBrZXlQYXRoOiAkXG4gICAgICAgICAgICB9KS5jcmVhdGVJbmRleChcInNlcXVlbmNlTnVtYmVySW5kZXhcIiwgVSwge1xuICAgICAgICAgICAgICAgIHVuaXF1ZTogITFcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZS5jcmVhdGVPYmplY3RTdG9yZShcImluZGV4RW50cmllc1wiLCB7XG4gICAgICAgICAgICAgICAga2V5UGF0aDogV1xuICAgICAgICAgICAgfSkuY3JlYXRlSW5kZXgoXCJkb2N1bWVudEtleUluZGV4XCIsIEcsIHtcbiAgICAgICAgICAgICAgICB1bmlxdWU6ICExXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfShlKSkpKSwgbiA8IDE2ICYmIHIgPj0gMTYgJiYgKFxuICAgICAgICAvLyBDbGVhciB0aGUgb2JqZWN0IHN0b3JlcyB0byByZW1vdmUgcG9zc2libHkgY29ycnVwdGVkIGluZGV4IGVudHJpZXNcbiAgICAgICAgcyA9IHMubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgdC5vYmplY3RTdG9yZShcImluZGV4U3RhdGVcIikuY2xlYXIoKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIHQub2JqZWN0U3RvcmUoXCJpbmRleEVudHJpZXNcIikuY2xlYXIoKTtcbiAgICAgICAgfSkpKSwgcztcbiAgICB9XG4gICAgZWkoZSkge1xuICAgICAgICBsZXQgdCA9IDA7XG4gICAgICAgIHJldHVybiBlLnN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpLkooKChlLCBuKSA9PiB7XG4gICAgICAgICAgICB0ICs9IF9fUFJJVkFURV9kYkRvY3VtZW50U2l6ZShuKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSB7XG4gICAgICAgICAgICAgICAgYnl0ZVNpemU6IHRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gZS5zdG9yZShcInJlbW90ZURvY3VtZW50R2xvYmFsXCIpLnB1dChcInJlbW90ZURvY3VtZW50R2xvYmFsS2V5XCIsIG4pO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIFhyKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuc3RvcmUoXCJtdXRhdGlvblF1ZXVlc1wiKSwgbiA9IGUuc3RvcmUoXCJtdXRhdGlvbnNcIik7XG4gICAgICAgIHJldHVybiB0LlUoKS5uZXh0KCh0ID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHQsICh0ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBJREJLZXlSYW5nZS5ib3VuZChbIHQudXNlcklkLCAtMSBdLCBbIHQudXNlcklkLCB0Lmxhc3RBY2tub3dsZWRnZWRCYXRjaElkIF0pO1xuICAgICAgICAgICAgcmV0dXJuIG4uVShcInVzZXJNdXRhdGlvbnNJbmRleFwiLCByKS5uZXh0KChuID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKG4sIChuID0+IHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChuLnVzZXJJZCA9PT0gdC51c2VySWQpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCh0aGlzLnNlcmlhbGl6ZXIsIG4pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZW1vdmVNdXRhdGlvbkJhdGNoKGUsIHQudXNlcklkLCByKS5uZXh0KCgoKSA9PiB7fSkpO1xuICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgIH0pKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFbnN1cmVzIHRoYXQgZXZlcnkgZG9jdW1lbnQgaW4gdGhlIHJlbW90ZSBkb2N1bWVudCBjYWNoZSBoYXMgYSBjb3JyZXNwb25kaW5nIHNlbnRpbmVsIHJvd1xuICAgICAqIHdpdGggYSBzZXF1ZW5jZSBudW1iZXIuIE1pc3Npbmcgcm93cyBhcmUgZ2l2ZW4gdGhlIG1vc3QgcmVjZW50bHkgdXNlZCBzZXF1ZW5jZSBudW1iZXIuXG4gICAgICovICAgIHRpKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGUuc3RvcmUoXCJ0YXJnZXREb2N1bWVudHNcIiksIG4gPSBlLnN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpO1xuICAgICAgICByZXR1cm4gZS5zdG9yZShcInRhcmdldEdsb2JhbFwiKS5nZXQoXCJ0YXJnZXRHbG9iYWxLZXlcIikubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gW107XG4gICAgICAgICAgICByZXR1cm4gbi5KKCgobiwgaSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuZXcgUmVzb3VyY2VQYXRoKG4pLCBvID0gZnVuY3Rpb24gX19QUklWQVRFX3NlbnRpbmVsS2V5KGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsgMCwgX19QUklWQVRFX2VuY29kZVJlc291cmNlUGF0aChlKSBdO1xuICAgICAgICAgICAgICAgIH0ocyk7XG4gICAgICAgICAgICAgICAgci5wdXNoKHQuZ2V0KG8pLm5leHQoKG4gPT4gbiA/IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCkgOiAobiA9PiB0LnB1dCh7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldElkOiAwLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBfX1BSSVZBVEVfZW5jb2RlUmVzb3VyY2VQYXRoKG4pLFxuICAgICAgICAgICAgICAgICAgICBzZXF1ZW5jZU51bWJlcjogZS5oaWdoZXN0TGlzdGVuU2VxdWVuY2VOdW1iZXJcbiAgICAgICAgICAgICAgICB9KSkocykpKSk7XG4gICAgICAgICAgICB9KSkubmV4dCgoKCkgPT4gUGVyc2lzdGVuY2VQcm9taXNlLndhaXRGb3IocikpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBuaShlLCB0KSB7XG4gICAgICAgIC8vIENyZWF0ZSB0aGUgaW5kZXguXG4gICAgICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJjb2xsZWN0aW9uUGFyZW50c1wiLCB7XG4gICAgICAgICAgICBrZXlQYXRoOiBLXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBuID0gdC5zdG9yZShcImNvbGxlY3Rpb25QYXJlbnRzXCIpLCByID0gbmV3IF9fUFJJVkFURV9NZW1vcnlDb2xsZWN0aW9uUGFyZW50SW5kZXgsIGFkZEVudHJ5ID0gZSA9PiB7XG4gICAgICAgICAgICBpZiAoci5hZGQoZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZS5sYXN0U2VnbWVudCgpLCByID0gZS5wb3BMYXN0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ucHV0KHtcbiAgICAgICAgICAgICAgICAgICAgY29sbGVjdGlvbklkOiB0LFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IF9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgocilcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgLy8gSGVscGVyIHRvIGFkZCBhbiBpbmRleCBlbnRyeSBpZmYgd2UgaGF2ZW4ndCBhbHJlYWR5IHdyaXR0ZW4gaXQuXG4gICAgICAgICAgICAgICAgLy8gSW5kZXggZXhpc3RpbmcgcmVtb3RlIGRvY3VtZW50cy5cbiAgICAgICAgcmV0dXJuIHQuc3RvcmUoXCJyZW1vdGVEb2N1bWVudHNcIikuSih7XG4gICAgICAgICAgICBIOiAhMFxuICAgICAgICB9LCAoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgUmVzb3VyY2VQYXRoKGUpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZEVudHJ5KG4ucG9wTGFzdCgpKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IHQuc3RvcmUoXCJkb2N1bWVudE11dGF0aW9uc1wiKS5KKHtcbiAgICAgICAgICAgIEg6ICEwXG4gICAgICAgIH0sICgoW2UsIHQsIG5dLCByKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2RlY29kZVJlc291cmNlUGF0aCh0KTtcbiAgICAgICAgICAgIHJldHVybiBhZGRFbnRyeShpLnBvcExhc3QoKSk7XG4gICAgICAgIH0pKSkpO1xuICAgIH1cbiAgICByaShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLnN0b3JlKFwidGFyZ2V0c1wiKTtcbiAgICAgICAgcmV0dXJuIHQuSigoKGUsIG4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZnJvbURiVGFyZ2V0KG4pLCBpID0gX19QUklWQVRFX3RvRGJUYXJnZXQodGhpcy5zZXJpYWxpemVyLCByKTtcbiAgICAgICAgICAgIHJldHVybiB0LnB1dChpKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBpaShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LnN0b3JlKFwicmVtb3RlRG9jdW1lbnRzXCIpLCByID0gW107XG4gICAgICAgIHJldHVybiBuLkooKChlLCBuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpID0gdC5zdG9yZShcInJlbW90ZURvY3VtZW50c1YxNFwiKSwgcyA9IGZ1bmN0aW9uIF9fUFJJVkFURV9leHRyYWN0S2V5KGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5kb2N1bWVudCA/IG5ldyBEb2N1bWVudEtleShSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhlLmRvY3VtZW50Lm5hbWUpLnBvcEZpcnN0KDUpKSA6IGUubm9Eb2N1bWVudCA/IERvY3VtZW50S2V5LmZyb21TZWdtZW50cyhlLm5vRG9jdW1lbnQucGF0aCkgOiBlLnVua25vd25Eb2N1bWVudCA/IERvY3VtZW50S2V5LmZyb21TZWdtZW50cyhlLnVua25vd25Eb2N1bWVudC5wYXRoKSA6IGZhaWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIChuKS5wYXRoLnRvQXJyYXkoKSwgbyA9IHtcbiAgICAgICAgICAgICAgICBwcmVmaXhQYXRoOiBzLnNsaWNlKDAsIHMubGVuZ3RoIC0gMiksXG4gICAgICAgICAgICAgICAgY29sbGVjdGlvbkdyb3VwOiBzW3MubGVuZ3RoIC0gMl0sXG4gICAgICAgICAgICAgICAgZG9jdW1lbnRJZDogc1tzLmxlbmd0aCAtIDFdLFxuICAgICAgICAgICAgICAgIHJlYWRUaW1lOiBuLnJlYWRUaW1lIHx8IFsgMCwgMCBdLFxuICAgICAgICAgICAgICAgIHVua25vd25Eb2N1bWVudDogbi51bmtub3duRG9jdW1lbnQsXG4gICAgICAgICAgICAgICAgbm9Eb2N1bWVudDogbi5ub0RvY3VtZW50LFxuICAgICAgICAgICAgICAgIGRvY3VtZW50OiBuLmRvY3VtZW50LFxuICAgICAgICAgICAgICAgIGhhc0NvbW1pdHRlZE11dGF0aW9uczogISFuLmhhc0NvbW1pdHRlZE11dGF0aW9uc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHIucHVzaChpLnB1dChvKSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihyKSkpO1xuICAgIH1cbiAgICBzaShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSB0LnN0b3JlKFwibXV0YXRpb25zXCIpLCByID0gX19QUklWQVRFX25ld0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGUodGhpcy5zZXJpYWxpemVyKSwgaSA9IG5ldyBfX1BSSVZBVEVfTWVtb3J5UGVyc2lzdGVuY2UoX19QUklWQVRFX01lbW9yeUVhZ2VyRGVsZWdhdGUuSHIsIHRoaXMuc2VyaWFsaXplci5jdCk7XG4gICAgICAgIHJldHVybiBuLlUoKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgTWFwO1xuICAgICAgICAgICAgcmV0dXJuIGUuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIHQ7XG4gICAgICAgICAgICAgICAgbGV0IHIgPSBudWxsICE9PSAodCA9IG4uZ2V0KGUudXNlcklkKSkgJiYgdm9pZCAwICE9PSB0ID8gdCA6IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICAgICAgICAgIF9fUFJJVkFURV9mcm9tRGJNdXRhdGlvbkJhdGNoKHRoaXMuc2VyaWFsaXplciwgZSkua2V5cygpLmZvckVhY2goKGUgPT4gciA9IHIuYWRkKGUpKSksIFxuICAgICAgICAgICAgICAgIG4uc2V0KGUudXNlcklkLCByKTtcbiAgICAgICAgICAgIH0pKSwgUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2gobiwgKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IG5ldyBVc2VyKG4pLCBvID0gX19QUklWQVRFX0luZGV4ZWREYkRvY3VtZW50T3ZlcmxheUNhY2hlLmx0KHRoaXMuc2VyaWFsaXplciwgcyksIF8gPSBpLmdldEluZGV4TWFuYWdlcihzKSwgYSA9IF9fUFJJVkFURV9JbmRleGVkRGJNdXRhdGlvblF1ZXVlLmx0KHMsIHRoaXMuc2VyaWFsaXplciwgXywgaS5yZWZlcmVuY2VEZWxlZ2F0ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhbERvY3VtZW50c1ZpZXcociwgYSwgbywgXykucmVjYWxjdWxhdGVBbmRTYXZlT3ZlcmxheXNGb3JEb2N1bWVudEtleXMobmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbih0LCBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2UpLCBlKS5uZXh0KCk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVRdWVyeUNhY2hlKGUpIHtcbiAgICBlLmNyZWF0ZU9iamVjdFN0b3JlKFwidGFyZ2V0RG9jdW1lbnRzXCIsIHtcbiAgICAgICAga2V5UGF0aDogcVxuICAgIH0pLmNyZWF0ZUluZGV4KFwiZG9jdW1lbnRUYXJnZXRzSW5kZXhcIiwgUSwge1xuICAgICAgICB1bmlxdWU6ICEwXG4gICAgfSk7XG4gICAgLy8gTk9URTogVGhpcyBpcyB1bmlxdWUgb25seSBiZWNhdXNlIHRoZSBUYXJnZXRJZCBpcyB0aGUgc3VmZml4LlxuICAgIGUuY3JlYXRlT2JqZWN0U3RvcmUoXCJ0YXJnZXRzXCIsIHtcbiAgICAgICAga2V5UGF0aDogXCJ0YXJnZXRJZFwiXG4gICAgfSkuY3JlYXRlSW5kZXgoXCJxdWVyeVRhcmdldHNJbmRleFwiLCBrLCB7XG4gICAgICAgIHVuaXF1ZTogITBcbiAgICB9KSwgZS5jcmVhdGVPYmplY3RTdG9yZShcInRhcmdldEdsb2JhbFwiKTtcbn1cblxuY29uc3QgUmUgPSBcIkZhaWxlZCB0byBvYnRhaW4gZXhjbHVzaXZlIGFjY2VzcyB0byB0aGUgcGVyc2lzdGVuY2UgbGF5ZXIuIFRvIGFsbG93IHNoYXJlZCBhY2Nlc3MsIG11bHRpLXRhYiBzeW5jaHJvbml6YXRpb24gaGFzIHRvIGJlIGVuYWJsZWQgaW4gYWxsIHRhYnMuIElmIHlvdSBhcmUgdXNpbmcgYGV4cGVyaW1lbnRhbEZvcmNlT3duaW5nVGFiOnRydWVgLCBtYWtlIHN1cmUgdGhhdCBvbmx5IG9uZSB0YWIgaGFzIHBlcnNpc3RlbmNlIGVuYWJsZWQgYXQgYW55IGdpdmVuIHRpbWUuXCI7XG5cbi8qKlxuICogT2xkZXN0IGFjY2VwdGFibGUgYWdlIGluIG1pbGxpc2Vjb25kcyBmb3IgY2xpZW50IG1ldGFkYXRhIGJlZm9yZSB0aGUgY2xpZW50XG4gKiBpcyBjb25zaWRlcmVkIGluYWN0aXZlIGFuZCBpdHMgYXNzb2NpYXRlZCBkYXRhIGlzIGdhcmJhZ2UgY29sbGVjdGVkLlxuICovXG4vKipcbiAqIEFuIEluZGV4ZWREQi1iYWNrZWQgaW5zdGFuY2Ugb2YgUGVyc2lzdGVuY2UuIERhdGEgaXMgc3RvcmVkIHBlcnNpc3RlbnRseVxuICogYWNyb3NzIHNlc3Npb25zLlxuICpcbiAqIE9uIFdlYiBvbmx5LCB0aGUgRmlyZXN0b3JlIFNES3Mgc3VwcG9ydCBzaGFyZWQgYWNjZXNzIHRvIGl0cyBwZXJzaXN0ZW5jZVxuICogbGF5ZXIuIFRoaXMgYWxsb3dzIG11bHRpcGxlIGJyb3dzZXIgdGFicyB0byByZWFkIGFuZCB3cml0ZSB0byBJbmRleGVkRGIgYW5kXG4gKiB0byBzeW5jaHJvbml6ZSBzdGF0ZSBldmVuIHdpdGhvdXQgbmV0d29yayBjb25uZWN0aXZpdHkuIFNoYXJlZCBhY2Nlc3MgaXNcbiAqIGN1cnJlbnRseSBvcHRpb25hbCBhbmQgbm90IGVuYWJsZWQgdW5sZXNzIGFsbCBjbGllbnRzIGludm9rZVxuICogYGVuYWJsZVBlcnNpc3RlbmNlKClgIHdpdGggYHtzeW5jaHJvbml6ZVRhYnM6dHJ1ZX1gLlxuICpcbiAqIEluIG11bHRpLXRhYiBtb2RlLCBpZiBtdWx0aXBsZSBjbGllbnRzIGFyZSBhY3RpdmUgYXQgdGhlIHNhbWUgdGltZSwgdGhlIFNES1xuICogd2lsbCBkZXNpZ25hdGUgb25lIGNsaWVudCBhcyB0aGUg4oCccHJpbWFyeSBjbGllbnTigJ0uIEFuIGVmZm9ydCBpcyBtYWRlIHRvIHBpY2tcbiAqIGEgdmlzaWJsZSwgbmV0d29yay1jb25uZWN0ZWQgYW5kIGFjdGl2ZSBjbGllbnQsIGFuZCB0aGlzIGNsaWVudCBpc1xuICogcmVzcG9uc2libGUgZm9yIGxldHRpbmcgb3RoZXIgY2xpZW50cyBrbm93IGFib3V0IGl0cyBwcmVzZW5jZS4gVGhlIHByaW1hcnlcbiAqIGNsaWVudCB3cml0ZXMgYSB1bmlxdWUgY2xpZW50LWdlbmVyYXRlZCBpZGVudGlmaWVyICh0aGUgY2xpZW50IElEKSB0b1xuICogSW5kZXhlZERi4oCZcyDigJxvd25lcuKAnSBzdG9yZSBldmVyeSA0IHNlY29uZHMuIElmIHRoZSBwcmltYXJ5IGNsaWVudCBmYWlscyB0b1xuICogdXBkYXRlIHRoaXMgZW50cnksIGFub3RoZXIgY2xpZW50IGNhbiBhY3F1aXJlIHRoZSBsZWFzZSBhbmQgdGFrZSBvdmVyIGFzXG4gKiBwcmltYXJ5LlxuICpcbiAqIFNvbWUgcGVyc2lzdGVuY2Ugb3BlcmF0aW9ucyBpbiB0aGUgU0RLIGFyZSBkZXNpZ25hdGVkIGFzIHByaW1hcnktY2xpZW50IG9ubHlcbiAqIG9wZXJhdGlvbnMuIFRoaXMgaW5jbHVkZXMgdGhlIGFja25vd2xlZGdtZW50IG9mIG11dGF0aW9ucyBhbmQgYWxsIHVwZGF0ZXMgb2ZcbiAqIHJlbW90ZSBkb2N1bWVudHMuIFRoZSBlZmZlY3RzIG9mIHRoZXNlIG9wZXJhdGlvbnMgYXJlIHdyaXR0ZW4gdG8gcGVyc2lzdGVuY2VcbiAqIGFuZCB0aGVuIGJyb2FkY2FzdCB0byBvdGhlciB0YWJzIHZpYSBMb2NhbFN0b3JhZ2UgKHNlZVxuICogYFdlYlN0b3JhZ2VTaGFyZWRDbGllbnRTdGF0ZWApLCB3aGljaCB0aGVuIHJlZnJlc2ggdGhlaXIgc3RhdGUgZnJvbVxuICogcGVyc2lzdGVuY2UuXG4gKlxuICogU2ltaWxhcmx5LCB0aGUgcHJpbWFyeSBjbGllbnQgbGlzdGVucyB0byBub3RpZmljYXRpb25zIHNlbnQgYnkgc2Vjb25kYXJ5XG4gKiBjbGllbnRzIHRvIGRpc2NvdmVyIHBlcnNpc3RlbmNlIGNoYW5nZXMgd3JpdHRlbiBieSBzZWNvbmRhcnkgY2xpZW50cywgc3VjaCBhc1xuICogdGhlIGFkZGl0aW9uIG9mIG5ldyBtdXRhdGlvbnMgYW5kIHF1ZXJ5IHRhcmdldHMuXG4gKlxuICogSWYgbXVsdGktdGFiIGlzIG5vdCBlbmFibGVkIGFuZCBhbm90aGVyIHRhYiBhbHJlYWR5IG9idGFpbmVkIHRoZSBwcmltYXJ5XG4gKiBsZWFzZSwgSW5kZXhlZERiUGVyc2lzdGVuY2UgZW50ZXJzIGEgZmFpbGVkIHN0YXRlIGFuZCBhbGwgc3Vic2VxdWVudFxuICogb3BlcmF0aW9ucyB3aWxsIGF1dG9tYXRpY2FsbHkgZmFpbC5cbiAqXG4gKiBBZGRpdGlvbmFsbHksIHRoZXJlIGlzIGFuIG9wdGltaXphdGlvbiBzbyB0aGF0IHdoZW4gYSB0YWIgaXMgY2xvc2VkLCB0aGVcbiAqIHByaW1hcnkgbGVhc2UgaXMgcmVsZWFzZWQgaW1tZWRpYXRlbHkgKHRoaXMgaXMgZXNwZWNpYWxseSBpbXBvcnRhbnQgdG8gbWFrZVxuICogc3VyZSB0aGF0IGEgcmVmcmVzaGVkIHRhYiBpcyBhYmxlIHRvIGltbWVkaWF0ZWx5IHJlLWFjcXVpcmUgdGhlIHByaW1hcnlcbiAqIGxlYXNlKS4gVW5mb3J0dW5hdGVseSwgSW5kZXhlZERCIGNhbm5vdCBiZSByZWxpYWJseSB1c2VkIGluIHdpbmRvdy51bmxvYWRcbiAqIHNpbmNlIGl0IGlzIGFuIGFzeW5jaHJvbm91cyBBUEkuIFNvIGluIGFkZGl0aW9uIHRvIGF0dGVtcHRpbmcgdG8gZ2l2ZSB1cCB0aGVcbiAqIGxlYXNlLCB0aGUgbGVhc2Vob2xkZXIgd3JpdGVzIGl0cyBjbGllbnQgSUQgdG8gYSBcInpvbWJpZWRDbGllbnRcIiBlbnRyeSBpblxuICogTG9jYWxTdG9yYWdlIHdoaWNoIGFjdHMgYXMgYW4gaW5kaWNhdG9yIHRoYXQgYW5vdGhlciB0YWIgc2hvdWxkIGdvIGFoZWFkIGFuZFxuICogdGFrZSB0aGUgcHJpbWFyeSBsZWFzZSBpbW1lZGlhdGVseSByZWdhcmRsZXNzIG9mIHRoZSBjdXJyZW50IGxlYXNlIHRpbWVzdGFtcC5cbiAqXG4gKiBUT0RPKGIvMTE0MjI2MjM0KTogUmVtb3ZlIGBzeW5jaHJvbml6ZVRhYnNgIHNlY3Rpb24gd2hlbiBtdWx0aS10YWIgaXMgbm9cbiAqIGxvbmdlciBvcHRpb25hbC5cbiAqL1xuY2xhc3MgX19QUklWQVRFX0luZGV4ZWREYlBlcnNpc3RlbmNlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRvIHN5bmNocm9uaXplIHRoZSBpbi1tZW1vcnkgc3RhdGUgb2YgbXVsdGlwbGUgdGFicyBhbmQgc2hhcmVcbiAgICAgKiBhY2Nlc3MgdG8gbG9jYWwgcGVyc2lzdGVuY2UuXG4gICAgICovXG4gICAgZSwgdCwgbiwgciwgaSwgcywgbywgXywgYSwgXG4gICAgLyoqXG4gICAgICogSWYgc2V0IHRvIHRydWUsIGZvcmNlZnVsbHkgb2J0YWlucyBkYXRhYmFzZSBhY2Nlc3MuIEV4aXN0aW5nIHRhYnMgd2lsbFxuICAgICAqIG5vIGxvbmdlciBiZSBhYmxlIHRvIGFjY2VzcyBJbmRleGVkREIuXG4gICAgICovXG4gICAgdSwgYyA9IDE2KSB7XG4gICAgICAgIGlmICh0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uID0gZSwgdGhpcy5wZXJzaXN0ZW5jZUtleSA9IHQsIHRoaXMuY2xpZW50SWQgPSBuLCBcbiAgICAgICAgdGhpcy5vaSA9IGksIHRoaXMud2luZG93ID0gcywgdGhpcy5kb2N1bWVudCA9IG8sIHRoaXMuX2kgPSBhLCB0aGlzLmFpID0gdSwgdGhpcy51aSA9IGMsIFxuICAgICAgICB0aGlzLmtyID0gbnVsbCwgdGhpcy5xciA9ICExLCB0aGlzLmlzUHJpbWFyeSA9ICExLCB0aGlzLm5ldHdvcmtFbmFibGVkID0gITAsIFxuICAgICAgICAvKiogT3VyIHdpbmRvdy51bmxvYWQgaGFuZGxlciwgaWYgcmVnaXN0ZXJlZC4gKi9cbiAgICAgICAgdGhpcy5jaSA9IG51bGwsIHRoaXMuaW5Gb3JlZ3JvdW5kID0gITEsIFxuICAgICAgICAvKiogT3VyICd2aXNpYmlsaXR5Y2hhbmdlJyBsaXN0ZW5lciBpZiByZWdpc3RlcmVkLiAqL1xuICAgICAgICB0aGlzLmxpID0gbnVsbCwgXG4gICAgICAgIC8qKiBUaGUgY2xpZW50IG1ldGFkYXRhIHJlZnJlc2ggdGFzay4gKi9cbiAgICAgICAgdGhpcy5oaSA9IG51bGwsIFxuICAgICAgICAvKiogVGhlIGxhc3QgdGltZSB3ZSBnYXJiYWdlIGNvbGxlY3RlZCB0aGUgY2xpZW50IG1ldGFkYXRhIG9iamVjdCBzdG9yZS4gKi9cbiAgICAgICAgdGhpcy5QaSA9IE51bWJlci5ORUdBVElWRV9JTkZJTklUWSwgXG4gICAgICAgIC8qKiBBIGxpc3RlbmVyIHRvIG5vdGlmeSBvbiBwcmltYXJ5IHN0YXRlIGNoYW5nZXMuICovXG4gICAgICAgIHRoaXMuSWkgPSBlID0+IFByb21pc2UucmVzb2x2ZSgpLCAhX19QUklWQVRFX0luZGV4ZWREYlBlcnNpc3RlbmNlLkQoKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuVU5JTVBMRU1FTlRFRCwgXCJUaGlzIHBsYXRmb3JtIGlzIGVpdGhlciBtaXNzaW5nIEluZGV4ZWREQiBvciBpcyBrbm93biB0byBoYXZlIGFuIGluY29tcGxldGUgaW1wbGVtZW50YXRpb24uIE9mZmxpbmUgcGVyc2lzdGVuY2UgaGFzIGJlZW4gZGlzYWJsZWQuXCIpO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZURlbGVnYXRlID0gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJMcnVEZWxlZ2F0ZUltcGwodGhpcywgciksIHRoaXMuVGkgPSB0ICsgXCJtYWluXCIsIFxuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBuZXcgX19QUklWQVRFX0xvY2FsU2VyaWFsaXplcihfKSwgdGhpcy5FaSA9IG5ldyBfX1BSSVZBVEVfU2ltcGxlRGIodGhpcy5UaSwgdGhpcy51aSwgbmV3IF9fUFJJVkFURV9TY2hlbWFDb252ZXJ0ZXIodGhpcy5zZXJpYWxpemVyKSksIFxuICAgICAgICB0aGlzLlFyID0gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJUYXJnZXRDYWNoZSh0aGlzLnJlZmVyZW5jZURlbGVnYXRlLCB0aGlzLnNlcmlhbGl6ZXIpLCBcbiAgICAgICAgdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlID0gX19QUklWQVRFX25ld0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGUodGhpcy5zZXJpYWxpemVyKSwgXG4gICAgICAgIHRoaXMuJHIgPSBuZXcgX19QUklWQVRFX0luZGV4ZWREYkJ1bmRsZUNhY2hlLCB0aGlzLndpbmRvdyAmJiB0aGlzLndpbmRvdy5sb2NhbFN0b3JhZ2UgPyB0aGlzLmRpID0gdGhpcy53aW5kb3cubG9jYWxTdG9yYWdlIDogKHRoaXMuZGkgPSBudWxsLCBcbiAgICAgICAgITEgPT09IHUgJiYgX19QUklWQVRFX2xvZ0Vycm9yKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIiwgXCJMb2NhbFN0b3JhZ2UgaXMgdW5hdmFpbGFibGUuIEFzIGEgcmVzdWx0LCBwZXJzaXN0ZW5jZSBtYXkgbm90IHdvcmsgcmVsaWFibHkuIEluIHBhcnRpY3VsYXIgZW5hYmxlUGVyc2lzdGVuY2UoKSBjb3VsZCBmYWlsIGltbWVkaWF0ZWx5IGFmdGVyIHJlZnJlc2hpbmcgdGhlIHBhZ2UuXCIpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXR0ZW1wdCB0byBzdGFydCBJbmRleGVkRGIgcGVyc2lzdGVuY2UuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBXaGV0aGVyIHBlcnNpc3RlbmNlIHdhcyBlbmFibGVkLlxuICAgICAqLyAgICBzdGFydCgpIHtcbiAgICAgICAgLy8gTk9URTogVGhpcyBpcyBleHBlY3RlZCB0byBmYWlsIHNvbWV0aW1lcyAoaW4gdGhlIGNhc2Ugb2YgYW5vdGhlciB0YWJcbiAgICAgICAgLy8gYWxyZWFkeSBoYXZpbmcgdGhlIHBlcnNpc3RlbmNlIGxvY2spLCBzbyBpdCdzIHRoZSBmaXJzdCB0aGluZyB3ZSBzaG91bGRcbiAgICAgICAgLy8gZG8uXG4gICAgICAgIHJldHVybiB0aGlzLkFpKCkudGhlbigoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUHJpbWFyeSAmJiAhdGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbikgXG4gICAgICAgICAgICAvLyBGYWlsIGBzdGFydCgpYCBpZiBgc3luY2hyb25pemVUYWJzYCBpcyBkaXNhYmxlZCBhbmQgd2UgY2Fubm90XG4gICAgICAgICAgICAvLyBvYnRhaW4gdGhlIHByaW1hcnkgbGVhc2UuXG4gICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBSZSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5SaSgpLCB0aGlzLlZpKCksIHRoaXMubWkoKSwgdGhpcy5ydW5UcmFuc2FjdGlvbihcImdldEhpZ2hlc3RMaXN0ZW5TZXF1ZW5jZU51bWJlclwiLCBcInJlYWRvbmx5XCIsIChlID0+IHRoaXMuUXIuZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyKGUpKSk7XG4gICAgICAgIH0pKS50aGVuKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMua3IgPSBuZXcgX19QUklWQVRFX0xpc3RlblNlcXVlbmNlKGUsIHRoaXMuX2kpO1xuICAgICAgICB9KSkudGhlbigoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5xciA9ICEwO1xuICAgICAgICB9KSkuY2F0Y2goKGUgPT4gKHRoaXMuRWkgJiYgdGhpcy5FaS5jbG9zZSgpLCBQcm9taXNlLnJlamVjdChlKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgbGlzdGVuZXIgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIHRoZSBwcmltYXJ5IHN0YXRlIG9mIHRoZVxuICAgICAqIGluc3RhbmNlIGNoYW5nZXMuIFVwb24gcmVnaXN0ZXJpbmcsIHRoaXMgbGlzdGVuZXIgaXMgaW52b2tlZCBpbW1lZGlhdGVseVxuICAgICAqIHdpdGggdGhlIGN1cnJlbnQgcHJpbWFyeSBzdGF0ZS5cbiAgICAgKlxuICAgICAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgZm9yIFdlYiBtdWx0aS10YWIuXG4gICAgICovICAgIGZpKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuSWkgPSBhc3luYyB0ID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXJ0ZWQpIHJldHVybiBlKHQpO1xuICAgICAgICB9LCBlKHRoaXMuaXNQcmltYXJ5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgbGlzdGVuZXIgdGhhdCBnZXRzIGNhbGxlZCB3aGVuIHRoZSBkYXRhYmFzZSByZWNlaXZlcyBhXG4gICAgICogdmVyc2lvbiBjaGFuZ2UgZXZlbnQgaW5kaWNhdGluZyB0aGF0IGl0IGhhcyBkZWxldGVkLlxuICAgICAqXG4gICAgICogUE9SVElORyBOT1RFOiBUaGlzIGlzIG9ubHkgdXNlZCBmb3IgV2ViIG11bHRpLXRhYi5cbiAgICAgKi8gICAgc2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXIoZSkge1xuICAgICAgICB0aGlzLkVpLkwoKGFzeW5jIHQgPT4ge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYW4gYXR0ZW1wdCBpcyBtYWRlIHRvIGRlbGV0ZSBJbmRleGVkREIuXG4gICAgICAgICAgICBudWxsID09PSB0Lm5ld1ZlcnNpb24gJiYgYXdhaXQgZSgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkanVzdHMgdGhlIGN1cnJlbnQgbmV0d29yayBzdGF0ZSBpbiB0aGUgY2xpZW50J3MgbWV0YWRhdGEsIHBvdGVudGlhbGx5XG4gICAgICogYWZmZWN0aW5nIHRoZSBwcmltYXJ5IGxlYXNlLlxuICAgICAqXG4gICAgICogUE9SVElORyBOT1RFOiBUaGlzIGlzIG9ubHkgdXNlZCBmb3IgV2ViIG11bHRpLXRhYi5cbiAgICAgKi8gICAgc2V0TmV0d29ya0VuYWJsZWQoZSkge1xuICAgICAgICB0aGlzLm5ldHdvcmtFbmFibGVkICE9PSBlICYmICh0aGlzLm5ldHdvcmtFbmFibGVkID0gZSwgXG4gICAgICAgIC8vIFNjaGVkdWxlIGEgcHJpbWFyeSBsZWFzZSByZWZyZXNoIGZvciBpbW1lZGlhdGUgZXhlY3V0aW9uLiBUaGUgZXZlbnR1YWxcbiAgICAgICAgLy8gbGVhc2UgdXBkYXRlIHdpbGwgYmUgcHJvcGFnYXRlZCB2aWEgYHByaW1hcnlTdGF0ZUxpc3RlbmVyYC5cbiAgICAgICAgdGhpcy5vaS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0ZWQgJiYgYXdhaXQgdGhpcy5BaSgpO1xuICAgICAgICB9KSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjbGllbnQgbWV0YWRhdGEgaW4gSW5kZXhlZERiIGFuZCBhdHRlbXB0cyB0byBlaXRoZXIgb2J0YWluIG9yXG4gICAgICogZXh0ZW5kIHRoZSBwcmltYXJ5IGxlYXNlIGZvciB0aGUgbG9jYWwgY2xpZW50LiBBc3luY2hyb25vdXNseSBub3RpZmllcyB0aGVcbiAgICAgKiBwcmltYXJ5IHN0YXRlIGxpc3RlbmVyIGlmIHRoZSBjbGllbnQgZWl0aGVyIG5ld2x5IG9idGFpbmVkIG9yIHJlbGVhc2VkIGl0c1xuICAgICAqIHByaW1hcnkgbGVhc2UuXG4gICAgICovICAgIEFpKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5UcmFuc2FjdGlvbihcInVwZGF0ZUNsaWVudE1ldGFkYXRhQW5kVHJ5QmVjb21lUHJpbWFyeVwiLCBcInJlYWR3cml0ZVwiLCAoZSA9PiBfX1BSSVZBVEVfY2xpZW50TWV0YWRhdGFTdG9yZShlKS5wdXQoe1xuICAgICAgICAgICAgY2xpZW50SWQ6IHRoaXMuY2xpZW50SWQsXG4gICAgICAgICAgICB1cGRhdGVUaW1lTXM6IERhdGUubm93KCksXG4gICAgICAgICAgICBuZXR3b3JrRW5hYmxlZDogdGhpcy5uZXR3b3JrRW5hYmxlZCxcbiAgICAgICAgICAgIGluRm9yZWdyb3VuZDogdGhpcy5pbkZvcmVncm91bmRcbiAgICAgICAgfSkubmV4dCgoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNQcmltYXJ5KSByZXR1cm4gdGhpcy5naShlKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBlIHx8ICh0aGlzLmlzUHJpbWFyeSA9ICExLCB0aGlzLm9pLmVucXVldWVSZXRyeWFibGUoKCgpID0+IHRoaXMuSWkoITEpKSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSkubmV4dCgoKCkgPT4gdGhpcy5waShlKSkpLm5leHQoKHQgPT4gdGhpcy5pc1ByaW1hcnkgJiYgIXQgPyB0aGlzLnlpKGUpLm5leHQoKCgpID0+ICExKSkgOiAhIXQgJiYgdGhpcy53aShlKS5uZXh0KCgoKSA9PiAhMCkpKSkpKS5jYXRjaCgoZSA9PiB7XG4gICAgICAgICAgICBpZiAoX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcihlKSkgXG4gICAgICAgICAgICAvLyBQcm9jZWVkIHdpdGggdGhlIGV4aXN0aW5nIHN0YXRlLiBBbnkgc3Vic2VxdWVudCBhY2Nlc3MgdG9cbiAgICAgICAgICAgIC8vIEluZGV4ZWREQiB3aWxsIHZlcmlmeSB0aGUgbGVhc2UuXG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIiwgXCJGYWlsZWQgdG8gZXh0ZW5kIG93bmVyIGxlYXNlOiBcIiwgZSksIFxuICAgICAgICAgICAgdGhpcy5pc1ByaW1hcnk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWxsb3dUYWJTeW5jaHJvbml6YXRpb24pIHRocm93IGU7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIiwgXCJSZWxlYXNpbmcgb3duZXIgbGVhc2UgYWZ0ZXIgZXJyb3IgZHVyaW5nIGxlYXNlIHJlZnJlc2hcIiwgZSksIFxuICAgICAgICAgICAgLyogaXNQcmltYXJ5PSAqLyAhMTtcbiAgICAgICAgfSkpLnRoZW4oKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5pc1ByaW1hcnkgIT09IGUgJiYgdGhpcy5vaS5lbnF1ZXVlUmV0cnlhYmxlKCgoKSA9PiB0aGlzLklpKGUpKSksIHRoaXMuaXNQcmltYXJ5ID0gZTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBnaShlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWFyeUNsaWVudFN0b3JlKGUpLmdldChcIm93bmVyXCIpLm5leHQoKGUgPT4gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUodGhpcy5TaShlKSkpKTtcbiAgICB9XG4gICAgYmkoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2NsaWVudE1ldGFkYXRhU3RvcmUoZSkuZGVsZXRlKHRoaXMuY2xpZW50SWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB0aGUgZ2FyYmFnZSBjb2xsZWN0aW9uIHRocmVzaG9sZCBoYXMgcGFzc2VkLCBwcnVuZXMgdGhlXG4gICAgICogUmVtb3RlRG9jdW1lbnRDaGFuZ2VzIGFuZCB0aGUgQ2xpZW50TWV0YWRhdGEgc3RvcmUgYmFzZWQgb24gdGhlIGxhc3QgdXBkYXRlXG4gICAgICogdGltZSBvZiBhbGwgY2xpZW50cy5cbiAgICAgKi8gICAgYXN5bmMgRGkoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzUHJpbWFyeSAmJiAhdGhpcy5DaSh0aGlzLlBpLCAxOGU1KSkge1xuICAgICAgICAgICAgdGhpcy5QaSA9IERhdGUubm93KCk7XG4gICAgICAgICAgICBjb25zdCBlID0gYXdhaXQgdGhpcy5ydW5UcmFuc2FjdGlvbihcIm1heWJlR2FyYmFnZUNvbGxlY3RNdWx0aUNsaWVudFN0YXRlXCIsIFwicmVhZHdyaXRlLXByaW1hcnlcIiwgKGUgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZ2V0U3RvcmUoZSwgXCJjbGllbnRNZXRhZGF0YVwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdC5VKCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG4gPSB0aGlzLnZpKGUsIDE4ZTUpLCByID0gZS5maWx0ZXIoKGUgPT4gLTEgPT09IG4uaW5kZXhPZihlKSkpO1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWxldGUgbWV0YWRhdGEgZm9yIGNsaWVudHMgdGhhdCBhcmUgbm8gbG9uZ2VyIGNvbnNpZGVyZWQgYWN0aXZlLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gUGVyc2lzdGVuY2VQcm9taXNlLmZvckVhY2gociwgKGUgPT4gdC5kZWxldGUoZS5jbGllbnRJZCkpKS5uZXh0KCgoKSA9PiByKSk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfSkpLmNhdGNoKCgoKSA9PiBbXSkpO1xuICAgICAgICAgICAgLy8gRGVsZXRlIHBvdGVudGlhbCBsZWZ0b3ZlciBlbnRyaWVzIHRoYXQgbWF5IGNvbnRpbnVlIHRvIG1hcmsgdGhlXG4gICAgICAgICAgICAvLyBpbmFjdGl2ZSBjbGllbnRzIGFzIHpvbWJpZWQgaW4gTG9jYWxTdG9yYWdlLlxuICAgICAgICAgICAgLy8gSWRlYWxseSB3ZSdkIGRlbGV0ZSB0aGUgSW5kZXhlZERiIGFuZCBMb2NhbFN0b3JhZ2Ugem9tYmllIGVudHJpZXMgZm9yXG4gICAgICAgICAgICAvLyB0aGUgY2xpZW50IGF0b21pY2FsbHksIGJ1dCB3ZSBjYW4ndC4gU28gd2Ugb3B0IHRvIGRlbGV0ZSB0aGUgSW5kZXhlZERiXG4gICAgICAgICAgICAvLyBlbnRyaWVzIGZpcnN0IHRvIGF2b2lkIHBvdGVudGlhbGx5IHJldml2aW5nIGEgem9tYmllZCBjbGllbnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5kaSkgZm9yIChjb25zdCB0IG9mIGUpIHRoaXMuZGkucmVtb3ZlSXRlbSh0aGlzLkZpKHQuY2xpZW50SWQpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTY2hlZHVsZXMgYSByZWN1cnJpbmcgdGltZXIgdG8gdXBkYXRlIHRoZSBjbGllbnQgbWV0YWRhdGEgYW5kIHRvIGVpdGhlclxuICAgICAqIGV4dGVuZCBvciBhY3F1aXJlIHRoZSBwcmltYXJ5IGxlYXNlIGlmIHRoZSBjbGllbnQgaXMgZWxpZ2libGUuXG4gICAgICovICAgIG1pKCkge1xuICAgICAgICB0aGlzLmhpID0gdGhpcy5vaS5lbnF1ZXVlQWZ0ZXJEZWxheShcImNsaWVudF9tZXRhZGF0YV9yZWZyZXNoXCIgLyogVGltZXJJZC5DbGllbnRNZXRhZGF0YVJlZnJlc2ggKi8gLCA0ZTMsICgoKSA9PiB0aGlzLkFpKCkudGhlbigoKCkgPT4gdGhpcy5EaSgpKSkudGhlbigoKCkgPT4gdGhpcy5taSgpKSkpKTtcbiAgICB9XG4gICAgLyoqIENoZWNrcyB3aGV0aGVyIGBjbGllbnRgIGlzIHRoZSBsb2NhbCBjbGllbnQuICovICAgIFNpKGUpIHtcbiAgICAgICAgcmV0dXJuICEhZSAmJiBlLm93bmVySWQgPT09IHRoaXMuY2xpZW50SWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV2YWx1YXRlIHRoZSBzdGF0ZSBvZiBhbGwgYWN0aXZlIGNsaWVudHMgYW5kIGRldGVybWluZSB3aGV0aGVyIHRoZSBsb2NhbFxuICAgICAqIGNsaWVudCBpcyBvciBjYW4gYWN0IGFzIHRoZSBob2xkZXIgb2YgdGhlIHByaW1hcnkgbGVhc2UuIFJldHVybnMgd2hldGhlclxuICAgICAqIHRoZSBjbGllbnQgaXMgZWxpZ2libGUgZm9yIHRoZSBsZWFzZSwgYnV0IGRvZXMgbm90IGFjdHVhbGx5IGFjcXVpcmUgaXQuXG4gICAgICogTWF5IHJldHVybiAnZmFsc2UnIGV2ZW4gaWYgdGhlcmUgaXMgbm8gYWN0aXZlIGxlYXNlaG9sZGVyIGFuZCBhbm90aGVyXG4gICAgICogKGZvcmVncm91bmQpIGNsaWVudCBzaG91bGQgYmVjb21lIGxlYXNlaG9sZGVyIGluc3RlYWQuXG4gICAgICovICAgIHBpKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuYWkpIHJldHVybiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSghMCk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWFyeUNsaWVudFN0b3JlKGUpLmdldChcIm93bmVyXCIpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgLy8gQSBjbGllbnQgaXMgZWxpZ2libGUgZm9yIHRoZSBwcmltYXJ5IGxlYXNlIGlmOlxuICAgICAgICAgICAgLy8gLSBpdHMgbmV0d29yayBpcyBlbmFibGVkIGFuZCB0aGUgY2xpZW50J3MgdGFiIGlzIGluIHRoZSBmb3JlZ3JvdW5kLlxuICAgICAgICAgICAgLy8gLSBpdHMgbmV0d29yayBpcyBlbmFibGVkIGFuZCBubyBvdGhlciBjbGllbnQncyB0YWIgaXMgaW4gdGhlXG4gICAgICAgICAgICAvLyAgIGZvcmVncm91bmQuXG4gICAgICAgICAgICAvLyAtIGV2ZXJ5IGNsaWVudHMgbmV0d29yayBpcyBkaXNhYmxlZCBhbmQgdGhlIGNsaWVudCdzIHRhYiBpcyBpbiB0aGVcbiAgICAgICAgICAgIC8vICAgZm9yZWdyb3VuZC5cbiAgICAgICAgICAgIC8vIC0gZXZlcnkgY2xpZW50cyBuZXR3b3JrIGlzIGRpc2FibGVkIGFuZCBubyBvdGhlciBjbGllbnQncyB0YWIgaXMgaW5cbiAgICAgICAgICAgIC8vICAgdGhlIGZvcmVncm91bmQuXG4gICAgICAgICAgICAvLyAtIHRoZSBgZm9yY2VPd25pbmdUYWJgIHNldHRpbmcgd2FzIHBhc3NlZCBpbi5cbiAgICAgICAgICAgIGlmIChudWxsICE9PSB0ICYmIHRoaXMuQ2kodC5sZWFzZVRpbWVzdGFtcE1zLCA1ZTMpICYmICF0aGlzLk1pKHQub3duZXJJZCkpIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5TaSh0KSAmJiB0aGlzLm5ldHdvcmtFbmFibGVkKSByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLlNpKHQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdC5hbGxvd1RhYlN5bmNocm9uaXphdGlvbikgXG4gICAgICAgICAgICAgICAgICAgIC8vIEZhaWwgdGhlIGBjYW5BY3RBc1ByaW1hcnlgIGNoZWNrIGlmIHRoZSBjdXJyZW50IGxlYXNlaG9sZGVyIGhhc1xuICAgICAgICAgICAgICAgICAgICAvLyBub3Qgb3B0ZWQgaW50byBtdWx0aS10YWIgc3luY2hyb25pemF0aW9uLiBJZiB0aGlzIGhhcHBlbnMgYXRcbiAgICAgICAgICAgICAgICAgICAgLy8gY2xpZW50IHN0YXJ0dXAsIHdlIHJlamVjdCB0aGUgUHJvbWlzZSByZXR1cm5lZCBieVxuICAgICAgICAgICAgICAgICAgICAvLyBgZW5hYmxlUGVyc2lzdGVuY2UoKWAgYW5kIHRoZSB1c2VyIGNhbiBjb250aW51ZSB0byB1c2UgRmlyZXN0b3JlXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpdGggaW4tbWVtb3J5IHBlcnNpc3RlbmNlLlxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0aGlzIGZhaWxzIGR1cmluZyBhIGxlYXNlIHJlZnJlc2gsIHdlIHdpbGwgaW5zdGVhZCBibG9jayB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gQXN5bmNRdWV1ZSBmcm9tIGV4ZWN1dGluZyBmdXJ0aGVyIG9wZXJhdGlvbnMuIE5vdGUgdGhhdCB0aGlzIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGFjY2VwdGFibGUgc2luY2UgbWl4aW5nICYgbWF0Y2hpbmcgZGlmZmVyZW50IGBzeW5jaHJvbml6ZVRhYnNgXG4gICAgICAgICAgICAgICAgICAgIC8vIHNldHRpbmdzIGlzIG5vdCBzdXBwb3J0ZWQuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE8oYi8xMTQyMjYyMzQpOiBSZW1vdmUgdGhpcyBjaGVjayB3aGVuIGBzeW5jaHJvbml6ZVRhYnNgIGNhblxuICAgICAgICAgICAgICAgICAgICAvLyBubyBsb25nZXIgYmUgdHVybmVkIG9mZi5cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgUmUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICEoIXRoaXMubmV0d29ya0VuYWJsZWQgfHwgIXRoaXMuaW5Gb3JlZ3JvdW5kKSB8fCBfX1BSSVZBVEVfY2xpZW50TWV0YWRhdGFTdG9yZShlKS5VKCkubmV4dCgoZSA9PiB2b2lkIDAgPT09IHRoaXMudmkoZSwgNWUzKS5maW5kKChlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGllbnRJZCAhPT0gZS5jbGllbnRJZCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gIXRoaXMubmV0d29ya0VuYWJsZWQgJiYgZS5uZXR3b3JrRW5hYmxlZCwgbiA9ICF0aGlzLmluRm9yZWdyb3VuZCAmJiBlLmluRm9yZWdyb3VuZCwgciA9IHRoaXMubmV0d29ya0VuYWJsZWQgPT09IGUubmV0d29ya0VuYWJsZWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0IHx8IG4gJiYgcikgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gITE7XG4gICAgICAgICAgICB9KSkpKTtcbiAgICAgICAgfSkpLm5leHQoKGUgPT4gKHRoaXMuaXNQcmltYXJ5ICE9PSBlICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIGBDbGllbnQgJHtlID8gXCJpc1wiIDogXCJpcyBub3RcIn0gZWxpZ2libGUgZm9yIGEgcHJpbWFyeSBsZWFzZS5gKSwgXG4gICAgICAgIGUpKSk7XG4gICAgfVxuICAgIGFzeW5jIHNodXRkb3duKCkge1xuICAgICAgICAvLyBUaGUgc2h1dGRvd24oKSBvcGVyYXRpb25zIGFyZSBpZGVtcG90ZW50IGFuZCBjYW4gYmUgY2FsbGVkIGV2ZW4gd2hlblxuICAgICAgICAvLyBzdGFydCgpIGFib3J0ZWQgKGUuZy4gYmVjYXVzZSBpdCBjb3VsZG4ndCBhY3F1aXJlIHRoZSBwZXJzaXN0ZW5jZSBsZWFzZSkuXG4gICAgICAgIHRoaXMucXIgPSAhMSwgdGhpcy54aSgpLCB0aGlzLmhpICYmICh0aGlzLmhpLmNhbmNlbCgpLCB0aGlzLmhpID0gbnVsbCksIHRoaXMuT2koKSwgXG4gICAgICAgIHRoaXMuTmkoKSwgXG4gICAgICAgIC8vIFVzZSBgU2ltcGxlRGIucnVuVHJhbnNhY3Rpb25gIGRpcmVjdGx5IHRvIGF2b2lkIGZhaWxpbmcgaWYgYW5vdGhlciB0YWJcbiAgICAgICAgLy8gaGFzIG9idGFpbmVkIHRoZSBwcmltYXJ5IGxlYXNlLlxuICAgICAgICBhd2FpdCB0aGlzLkVpLnJ1blRyYW5zYWN0aW9uKFwic2h1dGRvd25cIiwgXCJyZWFkd3JpdGVcIiwgWyBcIm93bmVyXCIsIFwiY2xpZW50TWV0YWRhdGFcIiBdLCAoZSA9PiB7XG4gICAgICAgICAgICBjb25zdCB0ID0gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbihlLCBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2UpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueWkodCkubmV4dCgoKCkgPT4gdGhpcy5iaSh0KSkpO1xuICAgICAgICB9KSksIHRoaXMuRWkuY2xvc2UoKSwgXG4gICAgICAgIC8vIFJlbW92ZSB0aGUgZW50cnkgbWFya2luZyB0aGUgY2xpZW50IGFzIHpvbWJpZWQgZnJvbSBMb2NhbFN0b3JhZ2Ugc2luY2VcbiAgICAgICAgLy8gd2Ugc3VjY2Vzc2Z1bGx5IGRlbGV0ZWQgaXRzIG1ldGFkYXRhIGZyb20gSW5kZXhlZERiLlxuICAgICAgICB0aGlzLkxpKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgY2xpZW50cyB0aGF0IGFyZSBub3Qgem9tYmllZCBhbmQgaGF2ZSBhbiB1cGRhdGVUaW1lIHdpdGhpbiB0aGVcbiAgICAgKiBwcm92aWRlZCB0aHJlc2hvbGQuXG4gICAgICovICAgIHZpKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGUuZmlsdGVyKChlID0+IHRoaXMuQ2koZS51cGRhdGVUaW1lTXMsIHQpICYmICF0aGlzLk1pKGUuY2xpZW50SWQpKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIElEcyBvZiB0aGUgY2xpZW50cyB0aGF0IGFyZSBjdXJyZW50bHkgYWN0aXZlLiBJZiBtdWx0aS10YWJcbiAgICAgKiBpcyBub3Qgc3VwcG9ydGVkLCByZXR1cm5zIGFuIGFycmF5IHRoYXQgb25seSBjb250YWlucyB0aGUgbG9jYWwgY2xpZW50J3NcbiAgICAgKiBJRC5cbiAgICAgKlxuICAgICAqIFBPUlRJTkcgTk9URTogVGhpcyBpcyBvbmx5IHVzZWQgZm9yIFdlYiBtdWx0aS10YWIuXG4gICAgICovICAgIEJpKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ydW5UcmFuc2FjdGlvbihcImdldEFjdGl2ZUNsaWVudHNcIiwgXCJyZWFkb25seVwiLCAoZSA9PiBfX1BSSVZBVEVfY2xpZW50TWV0YWRhdGFTdG9yZShlKS5VKCkubmV4dCgoZSA9PiB0aGlzLnZpKGUsIDE4ZTUpLm1hcCgoZSA9PiBlLmNsaWVudElkKSkpKSkpO1xuICAgIH1cbiAgICBnZXQgc3RhcnRlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucXI7XG4gICAgfVxuICAgIGdldE11dGF0aW9uUXVldWUoZSwgdCkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX0luZGV4ZWREYk11dGF0aW9uUXVldWUubHQoZSwgdGhpcy5zZXJpYWxpemVyLCB0LCB0aGlzLnJlZmVyZW5jZURlbGVnYXRlKTtcbiAgICB9XG4gICAgZ2V0VGFyZ2V0Q2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlFyO1xuICAgIH1cbiAgICBnZXRSZW1vdGVEb2N1bWVudENhY2hlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZW1vdGVEb2N1bWVudENhY2hlO1xuICAgIH1cbiAgICBnZXRJbmRleE1hbmFnZXIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJJbmRleE1hbmFnZXIoZSwgdGhpcy5zZXJpYWxpemVyLmN0LmRhdGFiYXNlSWQpO1xuICAgIH1cbiAgICBnZXREb2N1bWVudE92ZXJsYXlDYWNoZShlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfSW5kZXhlZERiRG9jdW1lbnRPdmVybGF5Q2FjaGUubHQodGhpcy5zZXJpYWxpemVyLCBlKTtcbiAgICB9XG4gICAgZ2V0QnVuZGxlQ2FjaGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLiRyO1xuICAgIH1cbiAgICBydW5UcmFuc2FjdGlvbihlLCB0LCBuKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiU3RhcnRpbmcgdHJhbnNhY3Rpb246XCIsIGUpO1xuICAgICAgICBjb25zdCByID0gXCJyZWFkb25seVwiID09PSB0ID8gXCJyZWFkb25seVwiIDogXCJyZWFkd3JpdGVcIiwgaSA9IFxuICAgICAgICAvKiogUmV0dXJucyB0aGUgb2JqZWN0IHN0b3JlcyBmb3IgdGhlIHByb3ZpZGVkIHNjaGVtYS4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2dldE9iamVjdFN0b3JlcyhlKSB7XG4gICAgICAgICAgICByZXR1cm4gMTYgPT09IGUgPyB0ZSA6IDE1ID09PSBlID8gZWUgOiAxNCA9PT0gZSA/IFggOiAxMyA9PT0gZSA/IFogOiAxMiA9PT0gZSA/IFkgOiAxMSA9PT0gZSA/IEogOiB2b2lkIGZhaWwoKTtcbiAgICAgICAgfSh0aGlzLnVpKTtcbiAgICAgICAgbGV0IHM7XG4gICAgICAgIC8vIERvIGFsbCB0cmFuc2FjdGlvbnMgYXMgcmVhZHdyaXRlIGFnYWluc3QgYWxsIG9iamVjdCBzdG9yZXMsIHNpbmNlIHdlXG4gICAgICAgIC8vIGFyZSB0aGUgb25seSByZWFkZXIvd3JpdGVyLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLkVpLnJ1blRyYW5zYWN0aW9uKGUsIHIsIGksIChyID0+IChzID0gbmV3IF9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbihyLCB0aGlzLmtyID8gdGhpcy5rci5uZXh0KCkgOiBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2UpLCBcbiAgICAgICAgXCJyZWFkd3JpdGUtcHJpbWFyeVwiID09PSB0ID8gdGhpcy5naShzKS5uZXh0KChlID0+ICEhZSB8fCB0aGlzLnBpKHMpKSkubmV4dCgodCA9PiB7XG4gICAgICAgICAgICBpZiAoIXQpIHRocm93IF9fUFJJVkFURV9sb2dFcnJvcihgRmFpbGVkIHRvIG9idGFpbiBwcmltYXJ5IGxlYXNlIGZvciBhY3Rpb24gJyR7ZX0nLmApLCBcbiAgICAgICAgICAgIHRoaXMuaXNQcmltYXJ5ID0gITEsIHRoaXMub2kuZW5xdWV1ZVJldHJ5YWJsZSgoKCkgPT4gdGhpcy5JaSghMSkpKSwgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgRik7XG4gICAgICAgICAgICByZXR1cm4gbihzKTtcbiAgICAgICAgfSkpLm5leHQoKGUgPT4gdGhpcy53aShzKS5uZXh0KCgoKSA9PiBlKSkpKSA6IHRoaXMua2kocykubmV4dCgoKCkgPT4gbihzKSkpKSkpLnRoZW4oKGUgPT4gKHMucmFpc2VPbkNvbW1pdHRlZEV2ZW50KCksIFxuICAgICAgICBlKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBWZXJpZmllcyB0aGF0IHRoZSBjdXJyZW50IHRhYiBpcyB0aGUgcHJpbWFyeSBsZWFzZWhvbGRlciBvciBhbHRlcm5hdGl2ZWx5XG4gICAgICogdGhhdCB0aGUgbGVhc2Vob2xkZXIgaGFzIG9wdGVkIGludG8gbXVsdGktdGFiIHN5bmNocm9uaXphdGlvbi5cbiAgICAgKi9cbiAgICAvLyBUT0RPKGIvMTE0MjI2MjM0KTogUmVtb3ZlIHRoaXMgY2hlY2sgd2hlbiBgc3luY2hyb25pemVUYWJzYCBjYW4gbm8gbG9uZ2VyXG4gICAgLy8gYmUgdHVybmVkIG9mZi5cbiAgICBraShlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcHJpbWFyeUNsaWVudFN0b3JlKGUpLmdldChcIm93bmVyXCIpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGUgJiYgdGhpcy5DaShlLmxlYXNlVGltZXN0YW1wTXMsIDVlMykgJiYgIXRoaXMuTWkoZS5vd25lcklkKSAmJiAhdGhpcy5TaShlKSAmJiAhKHRoaXMuYWkgfHwgdGhpcy5hbGxvd1RhYlN5bmNocm9uaXphdGlvbiAmJiBlLmFsbG93VGFiU3luY2hyb25pemF0aW9uKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgUmUpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE9idGFpbnMgb3IgZXh0ZW5kcyB0aGUgbmV3IHByaW1hcnkgbGVhc2UgZm9yIHRoZSBsb2NhbCBjbGllbnQuIFRoaXNcbiAgICAgKiBtZXRob2QgZG9lcyBub3QgdmVyaWZ5IHRoYXQgdGhlIGNsaWVudCBpcyBlbGlnaWJsZSBmb3IgdGhpcyBsZWFzZS5cbiAgICAgKi8gICAgd2koZSkge1xuICAgICAgICBjb25zdCB0ID0ge1xuICAgICAgICAgICAgb3duZXJJZDogdGhpcy5jbGllbnRJZCxcbiAgICAgICAgICAgIGFsbG93VGFiU3luY2hyb25pemF0aW9uOiB0aGlzLmFsbG93VGFiU3luY2hyb25pemF0aW9uLFxuICAgICAgICAgICAgbGVhc2VUaW1lc3RhbXBNczogRGF0ZS5ub3coKVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX3ByaW1hcnlDbGllbnRTdG9yZShlKS5wdXQoXCJvd25lclwiLCB0KTtcbiAgICB9XG4gICAgc3RhdGljIEQoKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfU2ltcGxlRGIuRCgpO1xuICAgIH1cbiAgICAvKiogQ2hlY2tzIHRoZSBwcmltYXJ5IGxlYXNlIGFuZCByZW1vdmVzIGl0IGlmIHdlIGFyZSB0aGUgY3VycmVudCBwcmltYXJ5LiAqLyAgICB5aShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfcHJpbWFyeUNsaWVudFN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gdC5nZXQoXCJvd25lclwiKS5uZXh0KChlID0+IHRoaXMuU2koZSkgPyAoX19QUklWQVRFX2xvZ0RlYnVnKFwiSW5kZXhlZERiUGVyc2lzdGVuY2VcIiwgXCJSZWxlYXNpbmcgcHJpbWFyeSBsZWFzZS5cIiksIFxuICAgICAgICB0LmRlbGV0ZShcIm93bmVyXCIpKSA6IFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCkpKTtcbiAgICB9XG4gICAgLyoqIFZlcmlmaWVzIHRoYXQgYHVwZGF0ZVRpbWVNc2AgaXMgd2l0aGluIGBtYXhBZ2VNc2AuICovICAgIENpKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IERhdGUubm93KCk7XG4gICAgICAgIHJldHVybiAhKGUgPCBuIC0gdCkgJiYgKCEoZSA+IG4pIHx8IChfX1BSSVZBVEVfbG9nRXJyb3IoYERldGVjdGVkIGFuIHVwZGF0ZSB0aW1lIHRoYXQgaXMgaW4gdGhlIGZ1dHVyZTogJHtlfSA+ICR7bn1gKSwgXG4gICAgICAgICExKSk7XG4gICAgfVxuICAgIFJpKCkge1xuICAgICAgICBudWxsICE9PSB0aGlzLmRvY3VtZW50ICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgdGhpcy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyICYmICh0aGlzLmxpID0gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5vaS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiAodGhpcy5pbkZvcmVncm91bmQgPSBcInZpc2libGVcIiA9PT0gdGhpcy5kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUsIFxuICAgICAgICAgICAgdGhpcy5BaSgpKSkpO1xuICAgICAgICB9LCB0aGlzLmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMubGkpLCB0aGlzLmluRm9yZWdyb3VuZCA9IFwidmlzaWJsZVwiID09PSB0aGlzLmRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSk7XG4gICAgfVxuICAgIE9pKCkge1xuICAgICAgICB0aGlzLmxpICYmICh0aGlzLmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsIHRoaXMubGkpLCB0aGlzLmxpID0gbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaGVzIGEgd2luZG93LnVubG9hZCBoYW5kbGVyIHRoYXQgd2lsbCBzeW5jaHJvbm91c2x5IHdyaXRlIG91clxuICAgICAqIGNsaWVudElkIHRvIGEgXCJ6b21iaWUgY2xpZW50IGlkXCIgbG9jYXRpb24gaW4gTG9jYWxTdG9yYWdlLiBUaGlzIGNhbiBiZSB1c2VkXG4gICAgICogYnkgdGFicyB0cnlpbmcgdG8gYWNxdWlyZSB0aGUgcHJpbWFyeSBsZWFzZSB0byBkZXRlcm1pbmUgdGhhdCB0aGUgbGVhc2VcbiAgICAgKiBpcyBubyBsb25nZXIgdmFsaWQgZXZlbiBpZiB0aGUgdGltZXN0YW1wIGlzIHJlY2VudC4gVGhpcyBpcyBwYXJ0aWN1bGFybHlcbiAgICAgKiBpbXBvcnRhbnQgZm9yIHRoZSByZWZyZXNoIGNhc2UgKHNvIHRoZSB0YWIgY29ycmVjdGx5IHJlLWFjcXVpcmVzIHRoZVxuICAgICAqIHByaW1hcnkgbGVhc2UpLiBMb2NhbFN0b3JhZ2UgaXMgdXNlZCBmb3IgdGhpcyByYXRoZXIgdGhhbiBJbmRleGVkRGIgYmVjYXVzZVxuICAgICAqIGl0IGlzIGEgc3luY2hyb25vdXMgQVBJIGFuZCBzbyBjYW4gYmUgdXNlZCByZWxpYWJseSBmcm9tICBhbiB1bmxvYWRcbiAgICAgKiBoYW5kbGVyLlxuICAgICAqLyAgICBWaSgpIHtcbiAgICAgICAgdmFyIGU7XG4gICAgICAgIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgKG51bGwgPT09IChlID0gdGhpcy53aW5kb3cpIHx8IHZvaWQgMCA9PT0gZSA/IHZvaWQgMCA6IGUuYWRkRXZlbnRMaXN0ZW5lcikgJiYgKHRoaXMuY2kgPSAoKSA9PiB7XG4gICAgICAgICAgICAvLyBOb3RlOiBJbiB0aGVvcnksIHRoaXMgc2hvdWxkIGJlIHNjaGVkdWxlZCBvbiB0aGUgQXN5bmNRdWV1ZSBzaW5jZSBpdFxuICAgICAgICAgICAgLy8gYWNjZXNzZXMgaW50ZXJuYWwgc3RhdGUuIFdlIGV4ZWN1dGUgdGhpcyBjb2RlIGRpcmVjdGx5IGR1cmluZyBzaHV0ZG93blxuICAgICAgICAgICAgLy8gdG8gbWFrZSBzdXJlIGl0IGdldHMgYSBjaGFuY2UgdG8gcnVuLlxuICAgICAgICAgICAgdGhpcy54aSgpO1xuICAgICAgICAgICAgY29uc3QgZSA9IC8oPzpWZXJzaW9ufE1vYmlsZSlcXC8xWzQ1Nl0vO1xuICAgICAgICAgICAgdXRpbC5pc1NhZmFyaSgpICYmIChuYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaChlKSB8fCBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKGUpKSAmJiBcbiAgICAgICAgICAgIC8vIE9uIFNhZmFyaSAxNCwgMTUsIGFuZCAxNiwgd2UgZG8gbm90IHJ1biBhbnkgY2xlYW51cCBhY3Rpb25zIGFzIGl0IG1pZ2h0XG4gICAgICAgICAgICAvLyB0cmlnZ2VyIGEgYnVnIHRoYXQgcHJldmVudHMgU2FmYXJpIGZyb20gcmUtb3BlbmluZyBJbmRleGVkREIgZHVyaW5nXG4gICAgICAgICAgICAvLyB0aGUgbmV4dCBwYWdlIGxvYWQuXG4gICAgICAgICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTIyNjU0N1xuICAgICAgICAgICAgdGhpcy5vaS5lbnRlclJlc3RyaWN0ZWRNb2RlKC8qIHB1cmdlRXhpc3RpbmdUYXNrcz0gKi8gITApLCB0aGlzLm9pLmVucXVldWVBbmRGb3JnZXQoKCgpID0+IHRoaXMuc2h1dGRvd24oKSkpO1xuICAgICAgICB9LCB0aGlzLndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicGFnZWhpZGVcIiwgdGhpcy5jaSkpO1xuICAgIH1cbiAgICBOaSgpIHtcbiAgICAgICAgdGhpcy5jaSAmJiAodGhpcy53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsIHRoaXMuY2kpLCB0aGlzLmNpID0gbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgd2hldGhlciBhIGNsaWVudCBpcyBcInpvbWJpZWRcIiBiYXNlZCBvbiBpdHMgTG9jYWxTdG9yYWdlIGVudHJ5LlxuICAgICAqIENsaWVudHMgYmVjb21lIHpvbWJpZWQgd2hlbiB0aGVpciB0YWIgY2xvc2VzIHdpdGhvdXQgcnVubmluZyBhbGwgb2YgdGhlXG4gICAgICogY2xlYW51cCBsb2dpYyBpbiBgc2h1dGRvd24oKWAuXG4gICAgICovICAgIE1pKGUpIHtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBuID0gbnVsbCAhPT0gKG51bGwgPT09ICh0ID0gdGhpcy5kaSkgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5nZXRJdGVtKHRoaXMuRmkoZSkpKTtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbG9nRGVidWcoXCJJbmRleGVkRGJQZXJzaXN0ZW5jZVwiLCBgQ2xpZW50ICcke2V9JyAke24gPyBcImlzXCIgOiBcImlzIG5vdFwifSB6b21iaWVkIGluIExvY2FsU3RvcmFnZWApLCBcbiAgICAgICAgICAgIG47XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIC8vIEdyYWNlZnVsbHkgaGFuZGxlIGlmIExvY2FsU3RvcmFnZSBpc24ndCB3b3JraW5nLlxuICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9sb2dFcnJvcihcIkluZGV4ZWREYlBlcnNpc3RlbmNlXCIsIFwiRmFpbGVkIHRvIGdldCB6b21iaWVkIGNsaWVudCBpZC5cIiwgZSksIFxuICAgICAgICAgICAgITE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVjb3JkIGNsaWVudCBhcyB6b21iaWVkIChhIGNsaWVudCB0aGF0IGhhZCBpdHMgdGFiIGNsb3NlZCkuIFpvbWJpZWRcbiAgICAgKiBjbGllbnRzIGFyZSBpZ25vcmVkIGR1cmluZyBwcmltYXJ5IHRhYiBzZWxlY3Rpb24uXG4gICAgICovICAgIHhpKCkge1xuICAgICAgICBpZiAodGhpcy5kaSkgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMuZGkuc2V0SXRlbSh0aGlzLkZpKHRoaXMuY2xpZW50SWQpLCBTdHJpbmcoRGF0ZS5ub3coKSkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBHcmFjZWZ1bGx5IGhhbmRsZSBpZiBMb2NhbFN0b3JhZ2UgaXNuJ3QgYXZhaWxhYmxlIC8gd29ya2luZy5cbiAgICAgICAgICAgIF9fUFJJVkFURV9sb2dFcnJvcihcIkZhaWxlZCB0byBzZXQgem9tYmllIGNsaWVudCBpZC5cIiwgZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIFJlbW92ZXMgdGhlIHpvbWJpZWQgY2xpZW50IGVudHJ5IGlmIGl0IGV4aXN0cy4gKi8gICAgTGkoKSB7XG4gICAgICAgIGlmICh0aGlzLmRpKSB0cnkge1xuICAgICAgICAgICAgdGhpcy5kaS5yZW1vdmVJdGVtKHRoaXMuRmkodGhpcy5jbGllbnRJZCkpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBJZ25vcmVcbiAgICAgICAgfVxuICAgIH1cbiAgICBGaShlKSB7XG4gICAgICAgIHJldHVybiBgZmlyZXN0b3JlX3pvbWJpZV8ke3RoaXMucGVyc2lzdGVuY2VLZXl9XyR7ZX1gO1xuICAgIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgdG8gZ2V0IGEgdHlwZWQgU2ltcGxlRGJTdG9yZSBmb3IgdGhlIHByaW1hcnkgY2xpZW50IG9iamVjdCBzdG9yZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcHJpbWFyeUNsaWVudFN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwib3duZXJcIik7XG59XG5cbi8qKlxuICogSGVscGVyIHRvIGdldCBhIHR5cGVkIFNpbXBsZURiU3RvcmUgZm9yIHRoZSBjbGllbnQgbWV0YWRhdGEgb2JqZWN0IHN0b3JlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9jbGllbnRNZXRhZGF0YVN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2dldFN0b3JlKGUsIFwiY2xpZW50TWV0YWRhdGFcIik7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGEgc3RyaW5nIHVzZWQgYXMgYSBwcmVmaXggd2hlbiBzdG9yaW5nIGRhdGEgaW4gSW5kZXhlZERCIGFuZFxuICogTG9jYWxTdG9yYWdlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9pbmRleGVkRGJTdG9yYWdlUHJlZml4KGUsIHQpIHtcbiAgICAvLyBVc2UgdHdvIGRpZmZlcmVudCBwcmVmaXggZm9ybWF0czpcbiAgICAvLyAgICogZmlyZXN0b3JlIC8gcGVyc2lzdGVuY2VLZXkgLyBwcm9qZWN0SUQgLiBkYXRhYmFzZUlEIC8gLi4uXG4gICAgLy8gICAqIGZpcmVzdG9yZSAvIHBlcnNpc3RlbmNlS2V5IC8gcHJvamVjdElEIC8gLi4uXG4gICAgLy8gcHJvamVjdElEcyBhcmUgRE5TLWNvbXBhdGlibGUgbmFtZXMgYW5kIGNhbm5vdCBjb250YWluIGRvdHNcbiAgICAvLyBzbyB0aGVyZSdzIG5vIGRhbmdlciBvZiBjb2xsaXNpb25zLlxuICAgIGxldCBuID0gZS5wcm9qZWN0SWQ7XG4gICAgcmV0dXJuIGUuaXNEZWZhdWx0RGF0YWJhc2UgfHwgKG4gKz0gXCIuXCIgKyBlLmRhdGFiYXNlKSwgXCJmaXJlc3RvcmUvXCIgKyB0ICsgXCIvXCIgKyBuICsgXCIvXCI7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgc2V0IG9mIGNoYW5nZXMgdG8gd2hhdCBkb2N1bWVudHMgYXJlIGN1cnJlbnRseSBpbiB2aWV3IGFuZCBvdXQgb2YgdmlldyBmb3JcbiAqIGEgZ2l2ZW4gcXVlcnkuIFRoZXNlIGNoYW5nZXMgYXJlIHNlbnQgdG8gdGhlIExvY2FsU3RvcmUgYnkgdGhlIFZpZXcgKHZpYVxuICogdGhlIFN5bmNFbmdpbmUpIGFuZCBhcmUgdXNlZCB0byBwaW4gLyB1bnBpbiBkb2N1bWVudHMgYXMgYXBwcm9wcmlhdGUuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9Mb2NhbFZpZXdDaGFuZ2VzIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMudGFyZ2V0SWQgPSBlLCB0aGlzLmZyb21DYWNoZSA9IHQsIHRoaXMucWkgPSBuLCB0aGlzLlFpID0gcjtcbiAgICB9XG4gICAgc3RhdGljIEtpKGUsIHQpIHtcbiAgICAgICAgbGV0IG4gPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgciA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdC5kb2NDaGFuZ2VzKSBzd2l0Y2ggKGUudHlwZSkge1xuICAgICAgICAgIGNhc2UgMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovIDpcbiAgICAgICAgICAgIG4gPSBuLmFkZChlLmRvYy5rZXkpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDEgLyogQ2hhbmdlVHlwZS5SZW1vdmVkICovIDpcbiAgICAgICAgICAgIHIgPSByLmFkZChlLmRvYy5rZXkpO1xuIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0xvY2FsVmlld0NoYW5nZXMoZSwgdC5mcm9tQ2FjaGUsIG4sIHIpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSB0cmFja2VyIHRvIGtlZXAgYSByZWNvcmQgb2YgaW1wb3J0YW50IGRldGFpbHMgZHVyaW5nIGRhdGFiYXNlIGxvY2FsIHF1ZXJ5XG4gKiBleGVjdXRpb24uXG4gKi8gY2xhc3MgUXVlcnlDb250ZXh0IHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvdW50cyB0aGUgbnVtYmVyIG9mIGRvY3VtZW50cyBwYXNzZWQgdGhyb3VnaCBkdXJpbmcgbG9jYWwgcXVlcnkgZXhlY3V0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fZG9jdW1lbnRSZWFkQ291bnQgPSAwO1xuICAgIH1cbiAgICBnZXQgZG9jdW1lbnRSZWFkQ291bnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kb2N1bWVudFJlYWRDb3VudDtcbiAgICB9XG4gICAgaW5jcmVtZW50RG9jdW1lbnRSZWFkQ291bnQoZSkge1xuICAgICAgICB0aGlzLl9kb2N1bWVudFJlYWRDb3VudCArPSBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogVGhlIEZpcmVzdG9yZSBxdWVyeSBlbmdpbmUuXG4gKlxuICogRmlyZXN0b3JlIHF1ZXJpZXMgY2FuIGJlIGV4ZWN1dGVkIGluIHRocmVlIG1vZGVzLiBUaGUgUXVlcnkgRW5naW5lIGRldGVybWluZXNcbiAqIHdoYXQgbW9kZSB0byB1c2UgYmFzZWQgb24gd2hhdCBkYXRhIGlzIHBlcnNpc3RlZC4gVGhlIG1vZGUgb25seSBkZXRlcm1pbmVzXG4gKiB0aGUgcnVudGltZSBjb21wbGV4aXR5IG9mIHRoZSBxdWVyeSAtIHRoZSByZXN1bHQgc2V0IGlzIGVxdWl2YWxlbnQgYWNyb3NzIGFsbFxuICogaW1wbGVtZW50YXRpb25zLlxuICpcbiAqIFRoZSBRdWVyeSBlbmdpbmUgd2lsbCB1c2UgaW5kZXhlZC1iYXNlZCBleGVjdXRpb24gaWYgYSB1c2VyIGhhcyBjb25maWd1cmVkXG4gKiBhbnkgaW5kZXggdGhhdCBjYW4gYmUgdXNlZCB0byBleGVjdXRlIHF1ZXJ5ICh2aWEgYHNldEluZGV4Q29uZmlndXJhdGlvbigpYCkuXG4gKiBPdGhlcndpc2UsIHRoZSBlbmdpbmUgd2lsbCB0cnkgdG8gb3B0aW1pemUgdGhlIHF1ZXJ5IGJ5IHJlLXVzaW5nIGEgcHJldmlvdXNseVxuICogcGVyc2lzdGVkIHF1ZXJ5IHJlc3VsdC4gSWYgdGhhdCBpcyBub3QgcG9zc2libGUsIHRoZSBxdWVyeSB3aWxsIGJlIGV4ZWN1dGVkXG4gKiB2aWEgYSBmdWxsIGNvbGxlY3Rpb24gc2Nhbi5cbiAqXG4gKiBJbmRleC1iYXNlZCBleGVjdXRpb24gaXMgdGhlIGRlZmF1bHQgd2hlbiBhdmFpbGFibGUuIFRoZSBxdWVyeSBlbmdpbmVcbiAqIHN1cHBvcnRzIHBhcnRpYWwgaW5kZXhlZCBleGVjdXRpb24gYW5kIG1lcmdlcyB0aGUgcmVzdWx0IGZyb20gdGhlIGluZGV4XG4gKiBsb29rdXAgd2l0aCBkb2N1bWVudHMgdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBpbmRleGVkLiBUaGUgaW5kZXggZXZhbHVhdGlvblxuICogbWF0Y2hlcyB0aGUgYmFja2VuZCdzIGZvcm1hdCBhbmQgYXMgc3VjaCwgdGhlIFNESyBjYW4gdXNlIGluZGV4aW5nIGZvciBhbGxcbiAqIHF1ZXJpZXMgdGhhdCB0aGUgYmFja2VuZCBzdXBwb3J0cy5cbiAqXG4gKiBJZiBubyBpbmRleCBleGlzdHMsIHRoZSBxdWVyeSBlbmdpbmUgdHJpZXMgdG8gdGFrZSBhZHZhbnRhZ2Ugb2YgdGhlIHRhcmdldFxuICogZG9jdW1lbnQgbWFwcGluZyBpbiB0aGUgVGFyZ2V0Q2FjaGUuIFRoZXNlIG1hcHBpbmdzIGV4aXN0cyBmb3IgYWxsIHF1ZXJpZXNcbiAqIHRoYXQgaGF2ZSBiZWVuIHN5bmNlZCB3aXRoIHRoZSBiYWNrZW5kIGF0IGxlYXN0IG9uY2UgYW5kIGFsbG93IHRoZSBxdWVyeVxuICogZW5naW5lIHRvIG9ubHkgcmVhZCBkb2N1bWVudHMgdGhhdCBwcmV2aW91c2x5IG1hdGNoZWQgYSBxdWVyeSBwbHVzIGFueVxuICogZG9jdW1lbnRzIHRoYXQgd2VyZSBlZGl0ZWQgYWZ0ZXIgdGhlIHF1ZXJ5IHdhcyBsYXN0IGxpc3RlbmVkIHRvLlxuICpcbiAqIFRoZXJlIGFyZSBzb21lIGNhc2VzIHdoZW4gdGhpcyBvcHRpbWl6YXRpb24gaXMgbm90IGd1YXJhbnRlZWQgdG8gcHJvZHVjZVxuICogdGhlIHNhbWUgcmVzdWx0cyBhcyBmdWxsIGNvbGxlY3Rpb24gc2NhbnMuIEluIHRoZXNlIGNhc2VzLCBxdWVyeVxuICogcHJvY2Vzc2luZyBmYWxscyBiYWNrIHRvIGZ1bGwgc2NhbnMuIFRoZXNlIGNhc2VzIGFyZTpcbiAqXG4gKiAtIExpbWl0IHF1ZXJpZXMgd2hlcmUgYSBkb2N1bWVudCB0aGF0IG1hdGNoZWQgdGhlIHF1ZXJ5IHByZXZpb3VzbHkgbm8gbG9uZ2VyXG4gKiAgIG1hdGNoZXMgdGhlIHF1ZXJ5LlxuICpcbiAqIC0gTGltaXQgcXVlcmllcyB3aGVyZSBhIGRvY3VtZW50IGVkaXQgbWF5IGNhdXNlIHRoZSBkb2N1bWVudCB0byBzb3J0IGJlbG93XG4gKiAgIGFub3RoZXIgZG9jdW1lbnQgdGhhdCBpcyBpbiB0aGUgbG9jYWwgY2FjaGUuXG4gKlxuICogLSBRdWVyaWVzIHRoYXQgaGF2ZSBuZXZlciBiZWVuIENVUlJFTlQgb3IgZnJlZSBvZiBsaW1ibyBkb2N1bWVudHMuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9RdWVyeUVuZ2luZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuJGkgPSAhMSwgdGhpcy5VaSA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNESyBvbmx5IGRlY2lkZXMgd2hldGhlciBpdCBzaG91bGQgY3JlYXRlIGluZGV4IHdoZW4gY29sbGVjdGlvbiBzaXplIGlzXG4gICAgICAgICAqIGxhcmdlciB0aGFuIHRoaXMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLldpID0gMTAwLCB0aGlzLkdpID0gXG4gICAgICAgIC8qKlxuICogVGhpcyBjb3N0IHJlcHJlc2VudHMgdGhlIGV2YWx1YXRpb24gcmVzdWx0IG9mXG4gKiAoKFtpbmRleCwgZG9jS2V5XSArIFtkb2NLZXksIGRvY0NvbnRlbnRdKSBwZXIgZG9jdW1lbnQgaW4gdGhlIHJlc3VsdCBzZXQpXG4gKiAvIChbZG9jS2V5LCBkb2NDb250ZW50XSBwZXIgZG9jdW1lbnRzIGluIGZ1bGwgY29sbGVjdGlvbiBzY2FuKSBjb21pbmcgZnJvbVxuICogZXhwZXJpbWVudCBbZW50ZXIgUFIgZXhwZXJpbWVudCBVUkwgaGVyZV0uXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2dldERlZmF1bHRSZWxhdGl2ZUluZGV4UmVhZENvc3RQZXJEb2N1bWVudCgpIHtcbiAgICAgICAgICAgIC8vIFRoZXNlIHZhbHVlcyB3ZXJlIGRlcml2ZWQgZnJvbSBhbiBleHBlcmltZW50IHdoZXJlIHNldmVyYWwgbWVtYmVycyBvZiB0aGVcbiAgICAgICAgICAgIC8vIEZpcmVzdG9yZSBTREsgdGVhbSByYW4gYSBwZXJmb3JtYW5jZSB0ZXN0IGluIHZhcmlvdXMgZW52aXJvbm1lbnRzLlxuICAgICAgICAgICAgLy8gR29vZ2xlcnMgY2FuIHNlZSBiLzI5OTI4NDI4NyBmb3IgZGV0YWlscy5cbiAgICAgICAgICAgIHJldHVybiB1dGlsLmlzU2FmYXJpKCkgPyA4IDogX19QUklWQVRFX2dldEFuZHJvaWRWZXJzaW9uKHV0aWwuZ2V0VUEoKSkgPiAwID8gNiA6IDQ7XG4gICAgICAgIH0oKTtcbiAgICB9XG4gICAgLyoqIFNldHMgdGhlIGRvY3VtZW50IHZpZXcgdG8gcXVlcnkgYWdhaW5zdC4gKi8gICAgaW5pdGlhbGl6ZShlLCB0KSB7XG4gICAgICAgIHRoaXMuemkgPSBlLCB0aGlzLmluZGV4TWFuYWdlciA9IHQsIHRoaXMuJGkgPSAhMDtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYWxsIGxvY2FsIGRvY3VtZW50cyBtYXRjaGluZyB0aGUgc3BlY2lmaWVkIHF1ZXJ5LiAqLyAgICBnZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsIHQsIG4sIHIpIHtcbiAgICAgICAgLy8gU3RvcmVzIHRoZSByZXN1bHQgZnJvbSBleGVjdXRpbmcgdGhlIHF1ZXJ5OyB1c2luZyB0aGlzIG9iamVjdCBpcyBtb3JlXG4gICAgICAgIC8vIGNvbnZlbmllbnQgdGhhbiBwYXNzaW5nIHRoZSByZXN1bHQgYmV0d2VlbiBzdGVwcyBvZiB0aGUgcGVyc2lzdGVuY2VcbiAgICAgICAgLy8gdHJhbnNhY3Rpb24gYW5kIGltcHJvdmVzIHJlYWRhYmlsaXR5IGNvbXBhcmF0aXZlbHkuXG4gICAgICAgIGNvbnN0IGkgPSB7XG4gICAgICAgICAgICByZXN1bHQ6IG51bGxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuamkoZSwgdCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBpLnJlc3VsdCA9IGU7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoIWkucmVzdWx0KSByZXR1cm4gdGhpcy5IaShlLCB0LCByLCBuKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgICAgICBpLnJlc3VsdCA9IGU7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKS5uZXh0KCgoKSA9PiB7XG4gICAgICAgICAgICBpZiAoaS5yZXN1bHQpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBuZXcgUXVlcnlDb250ZXh0O1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuSmkoZSwgdCwgbikubmV4dCgociA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGkucmVzdWx0ID0gciwgdGhpcy5VaSkgcmV0dXJuIHRoaXMuWWkoZSwgdCwgbiwgci5zaXplKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLm5leHQoKCgpID0+IGkucmVzdWx0KSk7XG4gICAgfVxuICAgIFlpKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgcmV0dXJuIG4uZG9jdW1lbnRSZWFkQ291bnQgPCB0aGlzLldpID8gKF9fUFJJVkFURV9nZXRMb2dMZXZlbCgpIDw9IGxvZ2dlci5Mb2dMZXZlbC5ERUJVRyAmJiBfX1BSSVZBVEVfbG9nRGVidWcoXCJRdWVyeUVuZ2luZVwiLCBcIlNESyB3aWxsIG5vdCBjcmVhdGUgY2FjaGUgaW5kZXhlcyBmb3IgcXVlcnk6XCIsIF9fUFJJVkFURV9zdHJpbmdpZnlRdWVyeSh0KSwgXCJzaW5jZSBpdCBvbmx5IGNyZWF0ZXMgY2FjaGUgaW5kZXhlcyBmb3IgY29sbGVjdGlvbiBjb250YWluc1wiLCBcIm1vcmUgdGhhbiBvciBlcXVhbCB0b1wiLCB0aGlzLldpLCBcImRvY3VtZW50c1wiKSwgXG4gICAgICAgIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKCkpIDogKF9fUFJJVkFURV9nZXRMb2dMZXZlbCgpIDw9IGxvZ2dlci5Mb2dMZXZlbC5ERUJVRyAmJiBfX1BSSVZBVEVfbG9nRGVidWcoXCJRdWVyeUVuZ2luZVwiLCBcIlF1ZXJ5OlwiLCBfX1BSSVZBVEVfc3RyaW5naWZ5UXVlcnkodCksIFwic2NhbnNcIiwgbi5kb2N1bWVudFJlYWRDb3VudCwgXCJsb2NhbCBkb2N1bWVudHMgYW5kIHJldHVybnNcIiwgciwgXCJkb2N1bWVudHMgYXMgcmVzdWx0cy5cIiksIFxuICAgICAgICBuLmRvY3VtZW50UmVhZENvdW50ID4gdGhpcy5HaSAqIHIgPyAoX19QUklWQVRFX2dldExvZ0xldmVsKCkgPD0gbG9nZ2VyLkxvZ0xldmVsLkRFQlVHICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlF1ZXJ5RW5naW5lXCIsIFwiVGhlIFNESyBkZWNpZGVzIHRvIGNyZWF0ZSBjYWNoZSBpbmRleGVzIGZvciBxdWVyeTpcIiwgX19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5KHQpLCBcImFzIHVzaW5nIGNhY2hlIGluZGV4ZXMgbWF5IGhlbHAgaW1wcm92ZSBwZXJmb3JtYW5jZS5cIiksIFxuICAgICAgICB0aGlzLmluZGV4TWFuYWdlci5jcmVhdGVUYXJnZXRJbmRleGVzKGUsIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KHQpKSkgOiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZSgpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYW4gaW5kZXhlZCBxdWVyeSB0aGF0IGV2YWx1YXRlcyB0aGUgcXVlcnkgYmFzZWQgb24gYSBjb2xsZWN0aW9uJ3NcbiAgICAgKiBwZXJzaXN0ZWQgaW5kZXggdmFsdWVzLiBSZXR1cm5zIGBudWxsYCBpZiBhbiBpbmRleCBpcyBub3QgYXZhaWxhYmxlLlxuICAgICAqLyAgICBqaShlLCB0KSB7XG4gICAgICAgIGlmIChfX1BSSVZBVEVfcXVlcnlNYXRjaGVzQWxsRG9jdW1lbnRzKHQpKSBcbiAgICAgICAgLy8gUXVlcmllcyB0aGF0IG1hdGNoIGFsbCBkb2N1bWVudHMgZG9uJ3QgYmVuZWZpdCBmcm9tIHVzaW5nXG4gICAgICAgIC8vIGtleS1iYXNlZCBsb29rdXBzLiBJdCBpcyBtb3JlIGVmZmljaWVudCB0byBzY2FuIGFsbCBkb2N1bWVudHMgaW4gYVxuICAgICAgICAvLyBjb2xsZWN0aW9uLCByYXRoZXIgdGhhbiB0byBwZXJmb3JtIGluZGl2aWR1YWwgbG9va3Vwcy5cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICBsZXQgbiA9IF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KHQpO1xuICAgICAgICByZXR1cm4gdGhpcy5pbmRleE1hbmFnZXIuZ2V0SW5kZXhUeXBlKGUsIG4pLm5leHQoKHIgPT4gMCAvKiBJbmRleFR5cGUuTk9ORSAqLyA9PT0gciA/IG51bGwgOiAobnVsbCAhPT0gdC5saW1pdCAmJiAxIC8qIEluZGV4VHlwZS5QQVJUSUFMICovID09PSByICYmIChcbiAgICAgICAgLy8gV2UgY2Fubm90IGFwcGx5IGEgbGltaXQgZm9yIHRhcmdldHMgdGhhdCBhcmUgc2VydmVkIHVzaW5nIGEgcGFydGlhbFxuICAgICAgICAvLyBpbmRleC4gSWYgYSBwYXJ0aWFsIGluZGV4IHdpbGwgYmUgdXNlZCB0byBzZXJ2ZSB0aGUgdGFyZ2V0LCB0aGVcbiAgICAgICAgLy8gcXVlcnkgbWF5IHJldHVybiBhIHN1cGVyc2V0IG9mIGRvY3VtZW50cyB0aGF0IG1hdGNoIHRoZSB0YXJnZXRcbiAgICAgICAgLy8gKGUuZy4gaWYgdGhlIGluZGV4IGRvZXNuJ3QgaW5jbHVkZSBhbGwgdGhlIHRhcmdldCdzIGZpbHRlcnMpLCBvclxuICAgICAgICAvLyBtYXkgcmV0dXJuIHRoZSBjb3JyZWN0IHNldCBvZiBkb2N1bWVudHMgaW4gdGhlIHdyb25nIG9yZGVyIChlLmcuIGlmXG4gICAgICAgIC8vIHRoZSBpbmRleCBkb2Vzbid0IGluY2x1ZGUgYSBzZWdtZW50IGZvciBvbmUgb2YgdGhlIG9yZGVyQnlzKS5cbiAgICAgICAgLy8gVGhlcmVmb3JlLCBhIGxpbWl0IHNob3VsZCBub3QgYmUgYXBwbGllZCBpbiBzdWNoIGNhc2VzLlxuICAgICAgICB0ID0gX19QUklWQVRFX3F1ZXJ5V2l0aExpbWl0KHQsIG51bGwsIFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyksIG4gPSBfX1BSSVZBVEVfcXVlcnlUb1RhcmdldCh0KSksIFxuICAgICAgICB0aGlzLmluZGV4TWFuYWdlci5nZXREb2N1bWVudHNNYXRjaGluZ1RhcmdldChlLCBuKS5uZXh0KChyID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoLi4ucik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy56aS5nZXREb2N1bWVudHMoZSwgaSkubmV4dCgociA9PiB0aGlzLmluZGV4TWFuYWdlci5nZXRNaW5PZmZzZXQoZSwgbikubmV4dCgobiA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcyA9IHRoaXMuWmkodCwgcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuWGkodCwgcywgaSwgbi5yZWFkVGltZSkgPyB0aGlzLmppKGUsIF9fUFJJVkFURV9xdWVyeVdpdGhMaW1pdCh0LCBudWxsLCBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8pKSA6IHRoaXMuZXMoZSwgcywgdCwgbik7XG4gICAgICAgICAgICB9KSkpKTtcbiAgICAgICAgfSkpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIHF1ZXJ5IGJhc2VkIG9uIHRoZSB0YXJnZXQncyBwZXJzaXN0ZWQgcXVlcnkgbWFwcGluZy4gUmV0dXJuc1xuICAgICAqIGBudWxsYCBpZiB0aGUgbWFwcGluZyBpcyBub3QgYXZhaWxhYmxlIG9yIGNhbm5vdCBiZSB1c2VkLlxuICAgICAqLyAgICBIaShlLCB0LCBuLCByKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfcXVlcnlNYXRjaGVzQWxsRG9jdW1lbnRzKHQpIHx8IHIuaXNFcXVhbChTbmFwc2hvdFZlcnNpb24ubWluKCkpID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUobnVsbCkgOiB0aGlzLnppLmdldERvY3VtZW50cyhlLCBuKS5uZXh0KChpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHMgPSB0aGlzLlppKHQsIGkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuWGkodCwgcywgbiwgcikgPyBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKSA6IChfX1BSSVZBVEVfZ2V0TG9nTGV2ZWwoKSA8PSBsb2dnZXIuTG9nTGV2ZWwuREVCVUcgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiUXVlcnlFbmdpbmVcIiwgXCJSZS11c2luZyBwcmV2aW91cyByZXN1bHQgZnJvbSAlcyB0byBleGVjdXRlIHF1ZXJ5OiAlc1wiLCByLnRvU3RyaW5nKCksIF9fUFJJVkFURV9zdHJpbmdpZnlRdWVyeSh0KSksIFxuICAgICAgICAgICAgdGhpcy5lcyhlLCBzLCB0LCBfX1BSSVZBVEVfbmV3SW5kZXhPZmZzZXRTdWNjZXNzb3JGcm9tUmVhZFRpbWUociwgLTEpKS5uZXh0KChlID0+IGUpKSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgLy8gUXVlcmllcyB0aGF0IGhhdmUgbmV2ZXIgc2VlbiBhIHNuYXBzaG90IHdpdGhvdXQgbGltYm8gZnJlZSBkb2N1bWVudHNcbiAgICAgICAgLy8gc2hvdWxkIGFsc28gYmUgcnVuIGFzIGEgZnVsbCBjb2xsZWN0aW9uIHNjYW4uXG4gICAgICAgIH1cbiAgICAvKiogQXBwbGllcyB0aGUgcXVlcnkgZmlsdGVyIGFuZCBzb3J0aW5nIHRvIHRoZSBwcm92aWRlZCBkb2N1bWVudHMuICAqLyAgICBaaShlLCB0KSB7XG4gICAgICAgIC8vIFNvcnQgdGhlIGRvY3VtZW50cyBhbmQgcmUtYXBwbHkgdGhlIHF1ZXJ5IGZpbHRlciBzaW5jZSBwcmV2aW91c2x5XG4gICAgICAgIC8vIG1hdGNoaW5nIGRvY3VtZW50cyBkbyBub3QgbmVjZXNzYXJpbHkgc3RpbGwgbWF0Y2ggdGhlIHF1ZXJ5LlxuICAgICAgICBsZXQgbiA9IG5ldyBTb3J0ZWRTZXQoX19QUklWQVRFX25ld1F1ZXJ5Q29tcGFyYXRvcihlKSk7XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKCh0LCByKSA9PiB7XG4gICAgICAgICAgICBfX1BSSVZBVEVfcXVlcnlNYXRjaGVzKGUsIHIpICYmIChuID0gbi5hZGQocikpO1xuICAgICAgICB9KSksIG47XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERldGVybWluZXMgaWYgYSBsaW1pdCBxdWVyeSBuZWVkcyB0byBiZSByZWZpbGxlZCBmcm9tIGNhY2hlLCBtYWtpbmcgaXRcbiAgICAgKiBpbmVsaWdpYmxlIGZvciBpbmRleC1mcmVlIGV4ZWN1dGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBxdWVyeSAtIFRoZSBxdWVyeS5cbiAgICAgKiBAcGFyYW0gc29ydGVkUHJldmlvdXNSZXN1bHRzIC0gVGhlIGRvY3VtZW50cyB0aGF0IG1hdGNoZWQgdGhlIHF1ZXJ5IHdoZW4gaXRcbiAgICAgKiB3YXMgbGFzdCBzeW5jaHJvbml6ZWQsIHNvcnRlZCBieSB0aGUgcXVlcnkncyBjb21wYXJhdG9yLlxuICAgICAqIEBwYXJhbSByZW1vdGVLZXlzIC0gVGhlIGRvY3VtZW50IGtleXMgdGhhdCBtYXRjaGVkIHRoZSBxdWVyeSBhdCB0aGUgbGFzdFxuICAgICAqIHNuYXBzaG90LlxuICAgICAqIEBwYXJhbSBsaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24gLSBUaGUgdmVyc2lvbiBvZiB0aGUgc25hcHNob3Qgd2hlbiB0aGVcbiAgICAgKiBxdWVyeSB3YXMgbGFzdCBzeW5jaHJvbml6ZWQuXG4gICAgICovICAgIFhpKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgaWYgKG51bGwgPT09IGUubGltaXQpIFxuICAgICAgICAvLyBRdWVyaWVzIHdpdGhvdXQgbGltaXRzIGRvIG5vdCBuZWVkIHRvIGJlIHJlZmlsbGVkLlxuICAgICAgICByZXR1cm4gITE7XG4gICAgICAgIGlmIChuLnNpemUgIT09IHQuc2l6ZSkgXG4gICAgICAgIC8vIFRoZSBxdWVyeSBuZWVkcyB0byBiZSByZWZpbGxlZCBpZiBhIHByZXZpb3VzbHkgbWF0Y2hpbmcgZG9jdW1lbnQgbm9cbiAgICAgICAgLy8gbG9uZ2VyIG1hdGNoZXMuXG4gICAgICAgIHJldHVybiAhMDtcbiAgICAgICAgLy8gTGltaXQgcXVlcmllcyBhcmUgbm90IGVsaWdpYmxlIGZvciBpbmRleC1mcmVlIHF1ZXJ5IGV4ZWN1dGlvbiBpZiB0aGVyZSBpc1xuICAgICAgICAvLyBhIHBvdGVudGlhbCB0aGF0IGFuIG9sZGVyIGRvY3VtZW50IGZyb20gY2FjaGUgbm93IHNvcnRzIGJlZm9yZSBhIGRvY3VtZW50XG4gICAgICAgIC8vIHRoYXQgd2FzIHByZXZpb3VzbHkgcGFydCBvZiB0aGUgbGltaXQuIFRoaXMsIGhvd2V2ZXIsIGNhbiBvbmx5IGhhcHBlbiBpZlxuICAgICAgICAvLyB0aGUgZG9jdW1lbnQgYXQgdGhlIGVkZ2Ugb2YgdGhlIGxpbWl0IGdvZXMgb3V0IG9mIGxpbWl0LlxuICAgICAgICAvLyBJZiBhIGRvY3VtZW50IHRoYXQgaXMgbm90IHRoZSBsaW1pdCBib3VuZGFyeSBzb3J0cyBkaWZmZXJlbnRseSxcbiAgICAgICAgLy8gdGhlIGJvdW5kYXJ5IG9mIHRoZSBsaW1pdCBpdHNlbGYgZGlkIG5vdCBjaGFuZ2UgYW5kIGRvY3VtZW50cyBmcm9tIGNhY2hlXG4gICAgICAgIC8vIHdpbGwgY29udGludWUgdG8gYmUgXCJyZWplY3RlZFwiIGJ5IHRoaXMgYm91bmRhcnkuIFRoZXJlZm9yZSwgd2UgY2FuIGlnbm9yZVxuICAgICAgICAvLyBhbnkgbW9kaWZpY2F0aW9ucyB0aGF0IGRvbid0IGFmZmVjdCB0aGUgbGFzdCBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICBjb25zdCBpID0gXCJGXCIgLyogTGltaXRUeXBlLkZpcnN0ICovID09PSBlLmxpbWl0VHlwZSA/IHQubGFzdCgpIDogdC5maXJzdCgpO1xuICAgICAgICByZXR1cm4gISFpICYmIChpLmhhc1BlbmRpbmdXcml0ZXMgfHwgaS52ZXJzaW9uLmNvbXBhcmVUbyhyKSA+IDApO1xuICAgIH1cbiAgICBKaShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZ2V0TG9nTGV2ZWwoKSA8PSBsb2dnZXIuTG9nTGV2ZWwuREVCVUcgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiUXVlcnlFbmdpbmVcIiwgXCJVc2luZyBmdWxsIGNvbGxlY3Rpb24gc2NhbiB0byBleGVjdXRlIHF1ZXJ5OlwiLCBfX1BSSVZBVEVfc3RyaW5naWZ5UXVlcnkodCkpLCBcbiAgICAgICAgdGhpcy56aS5nZXREb2N1bWVudHNNYXRjaGluZ1F1ZXJ5KGUsIHQsIEluZGV4T2Zmc2V0Lm1pbigpLCBuKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29tYmluZXMgdGhlIHJlc3VsdHMgZnJvbSBhbiBpbmRleGVkIGV4ZWN1dGlvbiB3aXRoIHRoZSByZW1haW5pbmcgZG9jdW1lbnRzXG4gICAgICogdGhhdCBoYXZlIG5vdCB5ZXQgYmVlbiBpbmRleGVkLlxuICAgICAqLyAgICBlcyhlLCB0LCBuLCByKSB7XG4gICAgICAgIC8vIFJldHJpZXZlIGFsbCByZXN1bHRzIGZvciBkb2N1bWVudHMgdGhhdCB3ZXJlIHVwZGF0ZWQgc2luY2UgdGhlIG9mZnNldC5cbiAgICAgICAgcmV0dXJuIHRoaXMuemkuZ2V0RG9jdW1lbnRzTWF0Y2hpbmdRdWVyeShlLCBuLCByKS5uZXh0KChlID0+IChcbiAgICAgICAgLy8gTWVyZ2Ugd2l0aCBleGlzdGluZyByZXN1bHRzXG4gICAgICAgIHQuZm9yRWFjaCgodCA9PiB7XG4gICAgICAgICAgICBlID0gZS5pbnNlcnQodC5rZXksIHQpO1xuICAgICAgICB9KSksIGUpKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBJbXBsZW1lbnRzIGBMb2NhbFN0b3JlYCBpbnRlcmZhY2UuXG4gKlxuICogTm90ZTogc29tZSBmaWVsZCBkZWZpbmVkIGluIHRoaXMgY2xhc3MgbWlnaHQgaGF2ZSBwdWJsaWMgYWNjZXNzIGxldmVsLCBidXRcbiAqIHRoZSBjbGFzcyBpcyBub3QgZXhwb3J0ZWQgc28gdGhleSBhcmUgb25seSBhY2Nlc3NpYmxlIGZyb20gdGhpcyBtb2R1bGUuXG4gKiBUaGlzIGlzIHVzZWZ1bCB0byBpbXBsZW1lbnQgb3B0aW9uYWwgZmVhdHVyZXMgKGxpa2UgYnVuZGxlcykgaW4gZnJlZVxuICogZnVuY3Rpb25zLCBzdWNoIHRoYXQgdGhleSBhcmUgdHJlZS1zaGFrZWFibGUuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9Mb2NhbFN0b3JlSW1wbCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIE1hbmFnZXMgb3VyIGluLW1lbW9yeSBvciBkdXJhYmxlIHBlcnNpc3RlbmNlLiAqL1xuICAgIGUsIHQsIG4sIHIpIHtcbiAgICAgICAgdGhpcy5wZXJzaXN0ZW5jZSA9IGUsIHRoaXMudHMgPSB0LCB0aGlzLnNlcmlhbGl6ZXIgPSByLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1hcHMgYSB0YXJnZXRJRCB0byBkYXRhIGFib3V0IGl0cyB0YXJnZXQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBPUlRJTkcgTk9URTogV2UgYXJlIHVzaW5nIGFuIGltbXV0YWJsZSBkYXRhIHN0cnVjdHVyZSBvbiBXZWIgdG8gbWFrZSByZS1ydW5zXG4gICAgICAgICAqIG9mIGBhcHBseVJlbW90ZUV2ZW50KClgIGlkZW1wb3RlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLm5zID0gbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvciksIFxuICAgICAgICAvKiogTWFwcyBhIHRhcmdldCB0byBpdHMgdGFyZ2V0SUQuICovXG4gICAgICAgIC8vIFRPRE8od3VhbmR5KTogRXZhbHVhdGUgaWYgVGFyZ2V0SWQgY2FuIGJlIHBhcnQgb2YgVGFyZ2V0LlxuICAgICAgICB0aGlzLnJzID0gbmV3IE9iamVjdE1hcCgoZSA9PiBfX1BSSVZBVEVfY2Fub25pZnlUYXJnZXQoZSkpLCBfX1BSSVZBVEVfdGFyZ2V0RXF1YWxzKSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHBlciBjb2xsZWN0aW9uIGdyb3VwIGluZGV4IG9mIHRoZSBsYXN0IHJlYWQgdGltZSBwcm9jZXNzZWQgYnlcbiAgICAgICAgICogYGdldE5ld0RvY3VtZW50Q2hhbmdlcygpYC5cbiAgICAgICAgICpcbiAgICAgICAgICogUE9SVElORyBOT1RFOiBUaGlzIGlzIG9ubHkgdXNlZCBmb3IgbXVsdGktdGFiIHN5bmNocm9uaXphdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuc3MgPSBuZXcgTWFwLCB0aGlzLm9zID0gZS5nZXRSZW1vdGVEb2N1bWVudENhY2hlKCksIHRoaXMuUXIgPSBlLmdldFRhcmdldENhY2hlKCksIFxuICAgICAgICB0aGlzLiRyID0gZS5nZXRCdW5kbGVDYWNoZSgpLCB0aGlzLl9zKG4pO1xuICAgIH1cbiAgICBfcyhlKSB7XG4gICAgICAgIC8vIFRPRE8oaW5kZXhpbmcpOiBBZGQgc3BlYyB0ZXN0cyB0aGF0IHRlc3QgdGhlc2UgY29tcG9uZW50cyBjaGFuZ2UgYWZ0ZXIgYVxuICAgICAgICAvLyB1c2VyIGNoYW5nZVxuICAgICAgICB0aGlzLmRvY3VtZW50T3ZlcmxheUNhY2hlID0gdGhpcy5wZXJzaXN0ZW5jZS5nZXREb2N1bWVudE92ZXJsYXlDYWNoZShlKSwgdGhpcy5pbmRleE1hbmFnZXIgPSB0aGlzLnBlcnNpc3RlbmNlLmdldEluZGV4TWFuYWdlcihlKSwgXG4gICAgICAgIHRoaXMubXV0YXRpb25RdWV1ZSA9IHRoaXMucGVyc2lzdGVuY2UuZ2V0TXV0YXRpb25RdWV1ZShlLCB0aGlzLmluZGV4TWFuYWdlciksIHRoaXMubG9jYWxEb2N1bWVudHMgPSBuZXcgTG9jYWxEb2N1bWVudHNWaWV3KHRoaXMub3MsIHRoaXMubXV0YXRpb25RdWV1ZSwgdGhpcy5kb2N1bWVudE92ZXJsYXlDYWNoZSwgdGhpcy5pbmRleE1hbmFnZXIpLCBcbiAgICAgICAgdGhpcy5vcy5zZXRJbmRleE1hbmFnZXIodGhpcy5pbmRleE1hbmFnZXIpLCB0aGlzLnRzLmluaXRpYWxpemUodGhpcy5sb2NhbERvY3VtZW50cywgdGhpcy5pbmRleE1hbmFnZXIpO1xuICAgIH1cbiAgICBjb2xsZWN0R2FyYmFnZShlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQ29sbGVjdCBnYXJiYWdlXCIsIFwicmVhZHdyaXRlLXByaW1hcnlcIiwgKHQgPT4gZS5jb2xsZWN0KHQsIHRoaXMubnMpKSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbmV3TG9jYWxTdG9yZShcbi8qKiBNYW5hZ2VzIG91ciBpbi1tZW1vcnkgb3IgZHVyYWJsZSBwZXJzaXN0ZW5jZS4gKi9cbmUsIHQsIG4sIHIpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9Mb2NhbFN0b3JlSW1wbChlLCB0LCBuLCByKTtcbn1cblxuLyoqXG4gKiBUZWxscyB0aGUgTG9jYWxTdG9yZSB0aGF0IHRoZSBjdXJyZW50bHkgYXV0aGVudGljYXRlZCB1c2VyIGhhcyBjaGFuZ2VkLlxuICpcbiAqIEluIHJlc3BvbnNlIHRoZSBsb2NhbCBzdG9yZSBzd2l0Y2hlcyB0aGUgbXV0YXRpb24gcXVldWUgdG8gdGhlIG5ldyB1c2VyIGFuZFxuICogcmV0dXJucyBhbnkgcmVzdWx0aW5nIGRvY3VtZW50IGNoYW5nZXMuXG4gKi9cbi8vIFBPUlRJTkcgTk9URTogQW5kcm9pZCBhbmQgaU9TIG9ubHkgcmV0dXJuIHRoZSBkb2N1bWVudHMgYWZmZWN0ZWQgYnkgdGhlXG4vLyBjaGFuZ2UuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUhhbmRsZVVzZXJDaGFuZ2UoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHJldHVybiBhd2FpdCBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiSGFuZGxlIHVzZXIgY2hhbmdlXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4ge1xuICAgICAgICAvLyBTd2FwIG91dCB0aGUgbXV0YXRpb24gcXVldWUsIGdyYWJiaW5nIHRoZSBwZW5kaW5nIG11dGF0aW9uIGJhdGNoZXNcbiAgICAgICAgLy8gYmVmb3JlIGFuZCBhZnRlci5cbiAgICAgICAgbGV0IHI7XG4gICAgICAgIHJldHVybiBuLm11dGF0aW9uUXVldWUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzKGUpLm5leHQoKGkgPT4gKHIgPSBpLCBuLl9zKHQpLCBuLm11dGF0aW9uUXVldWUuZ2V0QWxsTXV0YXRpb25CYXRjaGVzKGUpKSkpLm5leHQoKHQgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IFtdLCBzID0gW107XG4gICAgICAgICAgICAvLyBVbmlvbiB0aGUgb2xkL25ldyBjaGFuZ2VkIGtleXMuXG4gICAgICAgICAgICBsZXQgbyA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHIpIHtcbiAgICAgICAgICAgICAgICBpLnB1c2goZS5iYXRjaElkKTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZS5tdXRhdGlvbnMpIG8gPSBvLmFkZCh0LmtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdCkge1xuICAgICAgICAgICAgICAgIHMucHVzaChlLmJhdGNoSWQpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdCBvZiBlLm11dGF0aW9ucykgbyA9IG8uYWRkKHQua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFJldHVybiB0aGUgc2V0IG9mIGFsbCAocG90ZW50aWFsbHkpIGNoYW5nZWQgZG9jdW1lbnRzIGFuZCB0aGUgbGlzdFxuICAgICAgICAgICAgLy8gb2YgbXV0YXRpb24gYmF0Y2ggSURzIHRoYXQgd2VyZSBhZmZlY3RlZCBieSBjaGFuZ2UuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudHMoZSwgbykubmV4dCgoZSA9PiAoe1xuICAgICAgICAgICAgICAgIHVzOiBlLFxuICAgICAgICAgICAgICAgIHJlbW92ZWRCYXRjaElkczogaSxcbiAgICAgICAgICAgICAgICBhZGRlZEJhdGNoSWRzOiBzXG4gICAgICAgICAgICB9KSkpO1xuICAgICAgICB9KSk7XG4gICAgfSkpO1xufVxuXG4vKiBBY2NlcHRzIGxvY2FsbHkgZ2VuZXJhdGVkIE11dGF0aW9ucyBhbmQgY29tbWl0IHRoZW0gdG8gc3RvcmFnZS4gKi9cbi8qKlxuICogQWNrbm93bGVkZ2VzIHRoZSBnaXZlbiBiYXRjaC5cbiAqXG4gKiBPbiB0aGUgaGFwcHkgcGF0aCB3aGVuIGEgYmF0Y2ggaXMgYWNrbm93bGVkZ2VkLCB0aGUgbG9jYWwgc3RvcmUgd2lsbFxuICpcbiAqICArIHJlbW92ZSB0aGUgYmF0Y2ggZnJvbSB0aGUgbXV0YXRpb24gcXVldWU7XG4gKiAgKyBhcHBseSB0aGUgY2hhbmdlcyB0byB0aGUgcmVtb3RlIGRvY3VtZW50IGNhY2hlO1xuICogICsgcmVjYWxjdWxhdGUgdGhlIGxhdGVuY3kgY29tcGVuc2F0ZWQgdmlldyBpbXBsaWVkIGJ5IHRob3NlIGNoYW5nZXMgKHRoZXJlXG4gKiAgICBtYXkgYmUgbXV0YXRpb25zIGluIHRoZSBxdWV1ZSB0aGF0IGFmZmVjdCB0aGUgZG9jdW1lbnRzIGJ1dCBoYXZlbid0IGJlZW5cbiAqICAgIGFja25vd2xlZGdlZCB5ZXQpOyBhbmRcbiAqICArIGdpdmUgdGhlIGNoYW5nZWQgZG9jdW1lbnRzIGJhY2sgdGhlIHN5bmMgZW5naW5lXG4gKlxuICogQHJldHVybnMgVGhlIHJlc3VsdGluZyAobW9kaWZpZWQpIGRvY3VtZW50cy5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVBY2tub3dsZWRnZUJhdGNoKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkFja25vd2xlZGdlIGJhdGNoXCIsIFwicmVhZHdyaXRlLXByaW1hcnlcIiwgKGUgPT4ge1xuICAgICAgICBjb25zdCByID0gdC5iYXRjaC5rZXlzKCksIGkgPSBuLm9zLm5ld0NoYW5nZUJ1ZmZlcih7XG4gICAgICAgICAgICB0cmFja1JlbW92YWxzOiAhMFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseVdyaXRlVG9SZW1vdGVEb2N1bWVudHMoZSwgdCwgbiwgcikge1xuICAgICAgICAgICAgY29uc3QgaSA9IG4uYmF0Y2gsIHMgPSBpLmtleXMoKTtcbiAgICAgICAgICAgIGxldCBvID0gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIHJldHVybiBzLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIG8gPSBvLm5leHQoKCgpID0+IHIuZ2V0RW50cnkodCwgZSkpKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcyA9IG4uZG9jVmVyc2lvbnMuZ2V0KGUpO1xuICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChudWxsICE9PSBzKSwgdC52ZXJzaW9uLmNvbXBhcmVUbyhzKSA8IDAgJiYgKGkuYXBwbHlUb1JlbW90ZURvY3VtZW50KHQsIG4pLCBcbiAgICAgICAgICAgICAgICAgICAgdC5pc1ZhbGlkRG9jdW1lbnQoKSAmJiAoXG4gICAgICAgICAgICAgICAgICAgIC8vIFdlIHVzZSB0aGUgY29tbWl0VmVyc2lvbiBhcyB0aGUgcmVhZFRpbWUgcmF0aGVyIHRoYW4gdGhlXG4gICAgICAgICAgICAgICAgICAgIC8vIGRvY3VtZW50J3MgdXBkYXRlVGltZSBzaW5jZSB0aGUgdXBkYXRlVGltZSBpcyBub3QgYWR2YW5jZWRcbiAgICAgICAgICAgICAgICAgICAgLy8gZm9yIHVwZGF0ZXMgdGhhdCBkbyBub3QgbW9kaWZ5IHRoZSB1bmRlcmx5aW5nIGRvY3VtZW50LlxuICAgICAgICAgICAgICAgICAgICB0LnNldFJlYWRUaW1lKG4uY29tbWl0VmVyc2lvbiksIHIuYWRkRW50cnkodCkpKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSksIG8ubmV4dCgoKCkgPT4gZS5tdXRhdGlvblF1ZXVlLnJlbW92ZU11dGF0aW9uQmF0Y2godCwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICAvKiogUmV0dXJucyB0aGUgbG9jYWwgdmlldyBvZiB0aGUgZG9jdW1lbnRzIGFmZmVjdGVkIGJ5IGEgbXV0YXRpb24gYmF0Y2guICovXG4gICAgICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG4gICAgICAgIChuLCBlLCB0LCBpKS5uZXh0KCgoKSA9PiBpLmFwcGx5KGUpKSkubmV4dCgoKCkgPT4gbi5tdXRhdGlvblF1ZXVlLnBlcmZvcm1Db25zaXN0ZW5jeUNoZWNrKGUpKSkubmV4dCgoKCkgPT4gbi5kb2N1bWVudE92ZXJsYXlDYWNoZS5yZW1vdmVPdmVybGF5c0ZvckJhdGNoSWQoZSwgciwgdC5iYXRjaC5iYXRjaElkKSkpLm5leHQoKCgpID0+IG4ubG9jYWxEb2N1bWVudHMucmVjYWxjdWxhdGVBbmRTYXZlT3ZlcmxheXNGb3JEb2N1bWVudEtleXMoZSwgZnVuY3Rpb24gX19QUklWQVRFX2dldEtleXNXaXRoVHJhbnNmb3JtUmVzdWx0cyhlKSB7XG4gICAgICAgICAgICBsZXQgdCA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICAgICAgZm9yIChsZXQgbiA9IDA7IG4gPCBlLm11dGF0aW9uUmVzdWx0cy5sZW5ndGg7ICsrbikge1xuICAgICAgICAgICAgICAgIGUubXV0YXRpb25SZXN1bHRzW25dLnRyYW5zZm9ybVJlc3VsdHMubGVuZ3RoID4gMCAmJiAodCA9IHQuYWRkKGUuYmF0Y2gubXV0YXRpb25zW25dLmtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBSZW1vdmVzIG11dGF0aW9ucyBmcm9tIHRoZSBNdXRhdGlvblF1ZXVlIGZvciB0aGUgc3BlY2lmaWVkIGJhdGNoO1xuICogTG9jYWxEb2N1bWVudHMgd2lsbCBiZSByZWNhbGN1bGF0ZWQuXG4gKlxuICogQHJldHVybnMgVGhlIHJlc3VsdGluZyBtb2RpZmllZCBkb2N1bWVudHMuXG4gKi8gKHQpKSkpLm5leHQoKCgpID0+IG4ubG9jYWxEb2N1bWVudHMuZ2V0RG9jdW1lbnRzKGUsIHIpKSk7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGxhc3QgY29uc2lzdGVudCBzbmFwc2hvdCBwcm9jZXNzZWQgKHVzZWQgYnkgdGhlIFJlbW90ZVN0b3JlIHRvXG4gKiBkZXRlcm1pbmUgd2hldGhlciB0byBidWZmZXIgaW5jb21pbmcgc25hcHNob3RzIGZyb20gdGhlIGJhY2tlbmQpLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHJldHVybiB0LnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IGxhc3QgcmVtb3RlIHNuYXBzaG90IHZlcnNpb25cIiwgXCJyZWFkb25seVwiLCAoZSA9PiB0LlFyLmdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24oZSkpKTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBcImdyb3VuZC1zdGF0ZVwiIChyZW1vdGUpIGRvY3VtZW50cy4gV2UgYXNzdW1lIHRoYXQgdGhlIHJlbW90ZVxuICogZXZlbnQgcmVmbGVjdHMgYW55IHdyaXRlIGJhdGNoZXMgdGhhdCBoYXZlIGJlZW4gYWNrbm93bGVkZ2VkIG9yIHJlamVjdGVkXG4gKiAoaS5lLiB3ZSBkbyBub3QgcmUtYXBwbHkgbG9jYWwgbXV0YXRpb25zIHRvIHVwZGF0ZXMgZnJvbSB0aGlzIGV2ZW50KS5cbiAqXG4gKiBMb2NhbERvY3VtZW50cyBhcmUgcmUtY2FsY3VsYXRlZCBpZiB0aGVyZSBhcmUgcmVtYWluaW5nIG11dGF0aW9ucyBpbiB0aGVcbiAqIHF1ZXVlLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlQXBwbHlSZW1vdGVFdmVudFRvTG9jYWxDYWNoZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSB0LnNuYXBzaG90VmVyc2lvbjtcbiAgICBsZXQgaSA9IG4ubnM7XG4gICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBcHBseSByZW1vdGUgZXZlbnRcIiwgXCJyZWFkd3JpdGUtcHJpbWFyeVwiLCAoZSA9PiB7XG4gICAgICAgIGNvbnN0IHMgPSBuLm9zLm5ld0NoYW5nZUJ1ZmZlcih7XG4gICAgICAgICAgICB0cmFja1JlbW92YWxzOiAhMFxuICAgICAgICB9KTtcbiAgICAgICAgLy8gUmVzZXQgbmV3VGFyZ2V0RGF0YUJ5VGFyZ2V0TWFwIGluIGNhc2UgdGhpcyB0cmFuc2FjdGlvbiBnZXRzIHJlLXJ1bi5cbiAgICAgICAgICAgICAgICBpID0gbi5ucztcbiAgICAgICAgY29uc3QgbyA9IFtdO1xuICAgICAgICB0LnRhcmdldENoYW5nZXMuZm9yRWFjaCgoKHMsIF8pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBpLmdldChfKTtcbiAgICAgICAgICAgIGlmICghYSkgcmV0dXJuO1xuICAgICAgICAgICAgLy8gT25seSB1cGRhdGUgdGhlIHJlbW90ZSBrZXlzIGlmIHRoZSB0YXJnZXQgaXMgc3RpbGwgYWN0aXZlLiBUaGlzXG4gICAgICAgICAgICAvLyBlbnN1cmVzIHRoYXQgd2UgY2FuIHBlcnNpc3QgdGhlIHVwZGF0ZWQgdGFyZ2V0IGRhdGEgYWxvbmcgd2l0aFxuICAgICAgICAgICAgLy8gdGhlIHVwZGF0ZWQgYXNzaWdubWVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucHVzaChuLlFyLnJlbW92ZU1hdGNoaW5nS2V5cyhlLCBzLnJlbW92ZWREb2N1bWVudHMsIF8pLm5leHQoKCgpID0+IG4uUXIuYWRkTWF0Y2hpbmdLZXlzKGUsIHMuYWRkZWREb2N1bWVudHMsIF8pKSkpO1xuICAgICAgICAgICAgbGV0IHUgPSBhLndpdGhTZXF1ZW5jZU51bWJlcihlLmN1cnJlbnRTZXF1ZW5jZU51bWJlcik7XG4gICAgICAgICAgICBudWxsICE9PSB0LnRhcmdldE1pc21hdGNoZXMuZ2V0KF8pID8gdSA9IHUud2l0aFJlc3VtZVRva2VuKEJ5dGVTdHJpbmcuRU1QVFlfQllURV9TVFJJTkcsIFNuYXBzaG90VmVyc2lvbi5taW4oKSkud2l0aExhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24oU25hcHNob3RWZXJzaW9uLm1pbigpKSA6IHMucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpID4gMCAmJiAodSA9IHUud2l0aFJlc3VtZVRva2VuKHMucmVzdW1lVG9rZW4sIHIpKSwgXG4gICAgICAgICAgICBpID0gaS5pbnNlcnQoXywgdSksIFxuICAgICAgICAgICAgLy8gVXBkYXRlIHRoZSB0YXJnZXQgZGF0YSBpZiB0aGVyZSBhcmUgdGFyZ2V0IGNoYW5nZXMgKG9yIGlmXG4gICAgICAgICAgICAvLyBzdWZmaWNpZW50IHRpbWUgaGFzIHBhc3NlZCBzaW5jZSB0aGUgbGFzdCB1cGRhdGUpLlxuICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIG5ld1RhcmdldERhdGEgc2hvdWxkIGJlIHBlcnNpc3RlZCBkdXJpbmcgYW4gdXBkYXRlIG9mXG4gKiBhbiBhY3RpdmUgdGFyZ2V0LiBUYXJnZXREYXRhIHNob3VsZCBhbHdheXMgYmUgcGVyc2lzdGVkIHdoZW4gYSB0YXJnZXQgaXNcbiAqIGJlaW5nIHJlbGVhc2VkIGFuZCBzaG91bGQgbm90IGNhbGwgdGhpcyBmdW5jdGlvbi5cbiAqXG4gKiBXaGlsZSB0aGUgdGFyZ2V0IGlzIGFjdGl2ZSwgVGFyZ2V0RGF0YSB1cGRhdGVzIGNhbiBiZSBvbWl0dGVkIHdoZW4gbm90aGluZ1xuICogYWJvdXQgdGhlIHRhcmdldCBoYXMgY2hhbmdlZCBleGNlcHQgbWV0YWRhdGEgbGlrZSB0aGUgcmVzdW1lIHRva2VuIG9yXG4gKiBzbmFwc2hvdCB2ZXJzaW9uLiBPY2Nhc2lvbmFsbHkgaXQncyB3b3J0aCB0aGUgZXh0cmEgd3JpdGUgdG8gcHJldmVudCB0aGVzZVxuICogdmFsdWVzIGZyb20gZ2V0dGluZyB0b28gc3RhbGUgYWZ0ZXIgYSBjcmFzaCwgYnV0IHRoaXMgZG9lc24ndCBoYXZlIHRvIGJlXG4gKiB0b28gZnJlcXVlbnQuXG4gKi9cbiAgICAgICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9zaG91bGRQZXJzaXN0VGFyZ2V0RGF0YShlLCB0LCBuKSB7XG4gICAgICAgICAgICAgICAgLy8gQWx3YXlzIHBlcnNpc3QgdGFyZ2V0IGRhdGEgaWYgd2UgZG9uJ3QgYWxyZWFkeSBoYXZlIGEgcmVzdW1lIHRva2VuLlxuICAgICAgICAgICAgICAgIGlmICgwID09PSBlLnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSkgcmV0dXJuICEwO1xuICAgICAgICAgICAgICAgIC8vIERvbid0IGFsbG93IHJlc3VtZSB0b2tlbiBjaGFuZ2VzIHRvIGJlIGJ1ZmZlcmVkIGluZGVmaW5pdGVseS4gVGhpc1xuICAgICAgICAgICAgICAgIC8vIGFsbG93cyB1cyB0byBiZSByZWFzb25hYmx5IHVwLXRvLWRhdGUgYWZ0ZXIgYSBjcmFzaCBhbmQgYXZvaWRzIG5lZWRpbmdcbiAgICAgICAgICAgICAgICAvLyB0byBsb29wIG92ZXIgYWxsIGFjdGl2ZSBxdWVyaWVzIG9uIHNodXRkb3duLiBFc3BlY2lhbGx5IGluIHRoZSBicm93c2VyXG4gICAgICAgICAgICAgICAgLy8gd2UgbWF5IG5vdCBnZXQgdGltZSB0byBkbyBhbnl0aGluZyBpbnRlcmVzdGluZyB3aGlsZSB0aGUgY3VycmVudCB0YWIgaXNcbiAgICAgICAgICAgICAgICAvLyBjbG9zaW5nLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodC5zbmFwc2hvdFZlcnNpb24udG9NaWNyb3NlY29uZHMoKSAtIGUuc25hcHNob3RWZXJzaW9uLnRvTWljcm9zZWNvbmRzKCkgPj0gM2U4KSByZXR1cm4gITA7XG4gICAgICAgICAgICAgICAgLy8gT3RoZXJ3aXNlIGlmIHRoZSBvbmx5IHRoaW5nIHRoYXQgaGFzIGNoYW5nZWQgYWJvdXQgYSB0YXJnZXQgaXMgaXRzIHJlc3VtZVxuICAgICAgICAgICAgICAgIC8vIHRva2VuIGl0J3Mgbm90IHdvcnRoIHBlcnNpc3RpbmcuIE5vdGUgdGhhdCB0aGUgUmVtb3RlU3RvcmUga2VlcHMgYW5cbiAgICAgICAgICAgICAgICAvLyBpbi1tZW1vcnkgdmlldyBvZiB0aGUgY3VycmVudGx5IGFjdGl2ZSB0YXJnZXRzIHdoaWNoIGluY2x1ZGVzIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgLy8gcmVzdW1lIHRva2VuLCBzbyBzdHJlYW0gZmFpbHVyZSBvciB1c2VyIGNoYW5nZXMgd2lsbCBzdGlsbCB1c2UgYW5cbiAgICAgICAgICAgICAgICAvLyB1cC10by1kYXRlIHJlc3VtZSB0b2tlbiByZWdhcmRsZXNzIG9mIHdoYXQgd2UgZG8gaGVyZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uYWRkZWREb2N1bWVudHMuc2l6ZSArIG4ubW9kaWZpZWREb2N1bWVudHMuc2l6ZSArIG4ucmVtb3ZlZERvY3VtZW50cy5zaXplID4gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qKlxuICogTm90aWZpZXMgbG9jYWwgc3RvcmUgb2YgdGhlIGNoYW5nZWQgdmlld3MgdG8gbG9jYWxseSBwaW4gZG9jdW1lbnRzLlxuICovIChhLCB1LCBzKSAmJiBvLnB1c2gobi5Rci51cGRhdGVUYXJnZXREYXRhKGUsIHUpKTtcbiAgICAgICAgfSkpO1xuICAgICAgICBsZXQgXyA9IF9fUFJJVkFURV9tdXRhYmxlRG9jdW1lbnRNYXAoKSwgYSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgICAgICAvLyBIQUNLOiBUaGUgb25seSByZWFzb24gd2UgYWxsb3cgYSBudWxsIHNuYXBzaG90IHZlcnNpb24gaXMgc28gdGhhdCB3ZVxuICAgICAgICAvLyBjYW4gc3ludGhlc2l6ZSByZW1vdGUgZXZlbnRzIHdoZW4gd2UgZ2V0IHBlcm1pc3Npb24gZGVuaWVkIGVycm9ycyB3aGlsZVxuICAgICAgICAvLyB0cnlpbmcgdG8gcmVzb2x2ZSB0aGUgc3RhdGUgb2YgYSBsb2NhbGx5IGNhY2hlZCBkb2N1bWVudCB0aGF0IGlzIGluXG4gICAgICAgIC8vIGxpbWJvLlxuICAgICAgICBpZiAodC5kb2N1bWVudFVwZGF0ZXMuZm9yRWFjaCgociA9PiB7XG4gICAgICAgICAgICB0LnJlc29sdmVkTGltYm9Eb2N1bWVudHMuaGFzKHIpICYmIG8ucHVzaChuLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnVwZGF0ZUxpbWJvRG9jdW1lbnQoZSwgcikpO1xuICAgICAgICB9KSksIFxuICAgICAgICAvLyBFYWNoIGxvb3AgaXRlcmF0aW9uIG9ubHkgYWZmZWN0cyBpdHMgXCJvd25cIiBkb2MsIHNvIGl0J3Mgc2FmZSB0byBnZXQgYWxsXG4gICAgICAgIC8vIHRoZSByZW1vdGUgZG9jdW1lbnRzIGluIGFkdmFuY2UgaW4gYSBzaW5nbGUgY2FsbC5cbiAgICAgICAgby5wdXNoKF9fUFJJVkFURV9wb3B1bGF0ZURvY3VtZW50Q2hhbmdlQnVmZmVyKGUsIHMsIHQuZG9jdW1lbnRVcGRhdGVzKS5uZXh0KChlID0+IHtcbiAgICAgICAgICAgIF8gPSBlLmNzLCBhID0gZS5scztcbiAgICAgICAgfSkpKSwgIXIuaXNFcXVhbChTbmFwc2hvdFZlcnNpb24ubWluKCkpKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gbi5Rci5nZXRMYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uKGUpLm5leHQoKHQgPT4gbi5Rci5zZXRUYXJnZXRzTWV0YWRhdGEoZSwgZS5jdXJyZW50U2VxdWVuY2VOdW1iZXIsIHIpKSk7XG4gICAgICAgICAgICBvLnB1c2godCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFBlcnNpc3RlbmNlUHJvbWlzZS53YWl0Rm9yKG8pLm5leHQoKCgpID0+IHMuYXBwbHkoZSkpKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLmdldExvY2FsVmlld09mRG9jdW1lbnRzKGUsIF8sIGEpKSkubmV4dCgoKCkgPT4gXykpO1xuICAgIH0pKS50aGVuKChlID0+IChuLm5zID0gaSwgZSkpKTtcbn1cblxuLyoqXG4gKiBQb3B1bGF0ZXMgZG9jdW1lbnQgY2hhbmdlIGJ1ZmZlciB3aXRoIGRvY3VtZW50cyBmcm9tIGJhY2tlbmQgb3IgYSBidW5kbGUuXG4gKiBSZXR1cm5zIHRoZSBkb2N1bWVudCBjaGFuZ2VzIHJlc3VsdGluZyBmcm9tIGFwcGx5aW5nIHRob3NlIGRvY3VtZW50cywgYW5kXG4gKiBhbHNvIGEgc2V0IG9mIGRvY3VtZW50cyB3aG9zZSBleGlzdGVuY2Ugc3RhdGUgYXJlIGNoYW5nZWQgYXMgYSByZXN1bHQuXG4gKlxuICogQHBhcmFtIHR4biAtIFRyYW5zYWN0aW9uIHRvIHVzZSB0byByZWFkIGV4aXN0aW5nIGRvY3VtZW50cyBmcm9tIHN0b3JhZ2UuXG4gKiBAcGFyYW0gZG9jdW1lbnRCdWZmZXIgLSBEb2N1bWVudCBidWZmZXIgdG8gY29sbGVjdCB0aGUgcmVzdWx0ZWQgY2hhbmdlcyB0byBiZVxuICogICAgICAgIGFwcGxpZWQgdG8gc3RvcmFnZS5cbiAqIEBwYXJhbSBkb2N1bWVudHMgLSBEb2N1bWVudHMgdG8gYmUgYXBwbGllZC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcG9wdWxhdGVEb2N1bWVudENoYW5nZUJ1ZmZlcihlLCB0LCBuKSB7XG4gICAgbGV0IHIgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSwgaSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpO1xuICAgIHJldHVybiBuLmZvckVhY2goKGUgPT4gciA9IHIuYWRkKGUpKSksIHQuZ2V0RW50cmllcyhlLCByKS5uZXh0KChlID0+IHtcbiAgICAgICAgbGV0IHIgPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCk7XG4gICAgICAgIHJldHVybiBuLmZvckVhY2goKChuLCBzKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBvID0gZS5nZXQobik7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiBzZWUgaWYgdGhlcmUgaXMgYSBleGlzdGVuY2Ugc3RhdGUgY2hhbmdlIGZvciB0aGlzIGRvY3VtZW50LlxuICAgICAgICAgICAgICAgICAgICAgICAgcy5pc0ZvdW5kRG9jdW1lbnQoKSAhPT0gby5pc0ZvdW5kRG9jdW1lbnQoKSAmJiAoaSA9IGkuYWRkKG4pKSwgXG4gICAgICAgICAgICAvLyBOb3RlOiBUaGUgb3JkZXIgb2YgdGhlIHN0ZXBzIGJlbG93IGlzIGltcG9ydGFudCwgc2luY2Ugd2Ugd2FudFxuICAgICAgICAgICAgLy8gdG8gZW5zdXJlIHRoYXQgcmVqZWN0ZWQgbGltYm8gcmVzb2x1dGlvbnMgKHdoaWNoIGZhYnJpY2F0ZVxuICAgICAgICAgICAgLy8gTm9Eb2N1bWVudHMgd2l0aCBTbmFwc2hvdFZlcnNpb24ubWluKCkpIG5ldmVyIGFkZCBkb2N1bWVudHMgdG9cbiAgICAgICAgICAgIC8vIGNhY2hlLlxuICAgICAgICAgICAgcy5pc05vRG9jdW1lbnQoKSAmJiBzLnZlcnNpb24uaXNFcXVhbChTbmFwc2hvdFZlcnNpb24ubWluKCkpID8gKFxuICAgICAgICAgICAgLy8gTm9Eb2N1bWVudHMgd2l0aCBTbmFwc2hvdFZlcnNpb24ubWluKCkgYXJlIHVzZWQgaW4gbWFudWZhY3R1cmVkXG4gICAgICAgICAgICAvLyBldmVudHMuIFdlIHJlbW92ZSB0aGVzZSBkb2N1bWVudHMgZnJvbSBjYWNoZSBzaW5jZSB3ZSBsb3N0XG4gICAgICAgICAgICAvLyBhY2Nlc3MuXG4gICAgICAgICAgICB0LnJlbW92ZUVudHJ5KG4sIHMucmVhZFRpbWUpLCByID0gci5pbnNlcnQobiwgcykpIDogIW8uaXNWYWxpZERvY3VtZW50KCkgfHwgcy52ZXJzaW9uLmNvbXBhcmVUbyhvLnZlcnNpb24pID4gMCB8fCAwID09PSBzLnZlcnNpb24uY29tcGFyZVRvKG8udmVyc2lvbikgJiYgby5oYXNQZW5kaW5nV3JpdGVzID8gKHQuYWRkRW50cnkocyksIFxuICAgICAgICAgICAgciA9IHIuaW5zZXJ0KG4sIHMpKSA6IF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxvY2FsU3RvcmVcIiwgXCJJZ25vcmluZyBvdXRkYXRlZCB3YXRjaCB1cGRhdGUgZm9yIFwiLCBuLCBcIi4gQ3VycmVudCB2ZXJzaW9uOlwiLCBvLnZlcnNpb24sIFwiIFdhdGNoIHZlcnNpb246XCIsIHMudmVyc2lvbik7XG4gICAgICAgIH0pKSwge1xuICAgICAgICAgICAgY3M6IHIsXG4gICAgICAgICAgICBsczogaVxuICAgICAgICB9O1xuICAgIH0pKTtcbn1cblxuLyoqXG4gKiBHZXRzIHRoZSBtdXRhdGlvbiBiYXRjaCBhZnRlciB0aGUgcGFzc2VkIGluIGJhdGNoSWQgaW4gdGhlIG11dGF0aW9uIHF1ZXVlXG4gKiBvciBudWxsIGlmIGVtcHR5LlxuICogQHBhcmFtIGFmdGVyQmF0Y2hJZCAtIElmIHByb3ZpZGVkLCB0aGUgYmF0Y2ggdG8gc2VhcmNoIGFmdGVyLlxuICogQHJldHVybnMgVGhlIG5leHQgbXV0YXRpb24gb3IgbnVsbCBpZiB0aGVyZSB3YXNuJ3Qgb25lLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldE5leHRNdXRhdGlvbkJhdGNoKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBuZXh0IG11dGF0aW9uIGJhdGNoXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gKHZvaWQgMCA9PT0gdCAmJiAodCA9IC0xKSwgXG4gICAgbi5tdXRhdGlvblF1ZXVlLmdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkKGUsIHQpKSkpO1xufVxuXG4vKipcbiAqIFJlYWRzIHRoZSBjdXJyZW50IHZhbHVlIG9mIGEgRG9jdW1lbnQgd2l0aCBhIGdpdmVuIGtleSBvciBudWxsIGlmIG5vdFxuICogZm91bmQgLSB1c2VkIGZvciB0ZXN0aW5nLlxuICovXG4vKipcbiAqIEFzc2lnbnMgdGhlIGdpdmVuIHRhcmdldCBhbiBpbnRlcm5hbCBJRCBzbyB0aGF0IGl0cyByZXN1bHRzIGNhbiBiZSBwaW5uZWQgc29cbiAqIHRoZXkgZG9uJ3QgZ2V0IEdDJ2QuIEEgdGFyZ2V0IG11c3QgYmUgYWxsb2NhdGVkIGluIHRoZSBsb2NhbCBzdG9yZSBiZWZvcmVcbiAqIHRoZSBzdG9yZSBjYW4gYmUgdXNlZCB0byBtYW5hZ2UgaXRzIHZpZXcuXG4gKlxuICogQWxsb2NhdGluZyBhbiBhbHJlYWR5IGFsbG9jYXRlZCBgVGFyZ2V0YCB3aWxsIHJldHVybiB0aGUgZXhpc3RpbmcgYFRhcmdldERhdGFgXG4gKiBmb3IgdGhhdCBgVGFyZ2V0YC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVBbGxvY2F0ZVRhcmdldChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJBbGxvY2F0ZSB0YXJnZXRcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4ge1xuICAgICAgICBsZXQgcjtcbiAgICAgICAgcmV0dXJuIG4uUXIuZ2V0VGFyZ2V0RGF0YShlLCB0KS5uZXh0KChpID0+IGkgPyAoXG4gICAgICAgIC8vIFRoaXMgdGFyZ2V0IGhhcyBiZWVuIGxpc3RlbmVkIHRvIHByZXZpb3VzbHksIHNvIHJldXNlIHRoZVxuICAgICAgICAvLyBwcmV2aW91cyB0YXJnZXRJRC5cbiAgICAgICAgLy8gVE9ETyhtY2cpOiBmcmVzaGVuIGxhc3QgYWNjZXNzZWQgZGF0ZT9cbiAgICAgICAgciA9IGksIFBlcnNpc3RlbmNlUHJvbWlzZS5yZXNvbHZlKHIpKSA6IG4uUXIuYWxsb2NhdGVUYXJnZXRJZChlKS5uZXh0KChpID0+IChyID0gbmV3IFRhcmdldERhdGEodCwgaSwgXCJUYXJnZXRQdXJwb3NlTGlzdGVuXCIgLyogVGFyZ2V0UHVycG9zZS5MaXN0ZW4gKi8gLCBlLmN1cnJlbnRTZXF1ZW5jZU51bWJlciksIFxuICAgICAgICBuLlFyLmFkZFRhcmdldERhdGEoZSwgcikubmV4dCgoKCkgPT4gcikpKSkpKSk7XG4gICAgfSkpLnRoZW4oKGUgPT4ge1xuICAgICAgICAvLyBJZiBNdWx0aS1UYWIgaXMgZW5hYmxlZCwgdGhlIGV4aXN0aW5nIHRhcmdldCBkYXRhIG1heSBiZSBuZXdlciB0aGFuXG4gICAgICAgIC8vIHRoZSBpbi1tZW1vcnkgZGF0YVxuICAgICAgICBjb25zdCByID0gbi5ucy5nZXQoZS50YXJnZXRJZCk7XG4gICAgICAgIHJldHVybiAobnVsbCA9PT0gciB8fCBlLnNuYXBzaG90VmVyc2lvbi5jb21wYXJlVG8oci5zbmFwc2hvdFZlcnNpb24pID4gMCkgJiYgKG4ubnMgPSBuLm5zLmluc2VydChlLnRhcmdldElkLCBlKSwgXG4gICAgICAgIG4ucnMuc2V0KHQsIGUudGFyZ2V0SWQpKSwgZTtcbiAgICB9KSk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgVGFyZ2V0RGF0YSBhcyBzZWVuIGJ5IHRoZSBMb2NhbFN0b3JlLCBpbmNsdWRpbmcgdXBkYXRlcyB0aGF0IG1heVxuICogaGF2ZSBub3QgeWV0IGJlZW4gcGVyc2lzdGVkIHRvIHRoZSBUYXJnZXRDYWNoZS5cbiAqL1xuLy8gVmlzaWJsZSBmb3IgdGVzdGluZy5cbi8qKlxuICogVW5waW5zIGFsbCB0aGUgZG9jdW1lbnRzIGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0LiBJZlxuICogYGtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhYCBpcyBzZXQgdG8gZmFsc2UgYW5kIEVhZ2VyIEdDIGVuYWJsZWQsIHRoZSBtZXRob2RcbiAqIGRpcmVjdGx5IHJlbW92ZXMgdGhlIGFzc29jaWF0ZWQgdGFyZ2V0IGRhdGEgZnJvbSB0aGUgdGFyZ2V0IGNhY2hlLlxuICpcbiAqIFJlbGVhc2luZyBhIG5vbi1leGlzdGluZyBgVGFyZ2V0YCBpcyBhIG5vLW9wLlxuICovXG4vLyBQT1JUSU5HIE5PVEU6IGBrZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YWAgaXMgbXVsdGktdGFiIG9ubHkuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlbGVhc2VUYXJnZXQoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBpID0gci5ucy5nZXQodCksIHMgPSBuID8gXCJyZWFkd3JpdGVcIiA6IFwicmVhZHdyaXRlLXByaW1hcnlcIjtcbiAgICB0cnkge1xuICAgICAgICBuIHx8IGF3YWl0IHIucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJSZWxlYXNlIHRhcmdldFwiLCBzLCAoZSA9PiByLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLnJlbW92ZVRhcmdldChlLCBpKSkpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKCFfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpKSB0aHJvdyBlO1xuICAgICAgICAvLyBBbGwgYHJlbGVhc2VUYXJnZXRgIGRvZXMgaXMgcmVjb3JkIHRoZSBmaW5hbCBtZXRhZGF0YSBzdGF0ZSBmb3IgdGhlXG4gICAgICAgIC8vIHRhcmdldCwgYnV0IHdlJ3ZlIGJlZW4gcmVjb3JkaW5nIHRoaXMgcGVyaW9kaWNhbGx5IGR1cmluZyB0YXJnZXRcbiAgICAgICAgLy8gYWN0aXZpdHkuIElmIHdlIGxvc2UgdGhpcyB3cml0ZSB0aGlzIGNvdWxkIGNhdXNlIGEgdmVyeSBzbGlnaHRcbiAgICAgICAgLy8gZGlmZmVyZW5jZSBpbiB0aGUgb3JkZXIgb2YgdGFyZ2V0IGRlbGV0aW9uIGR1cmluZyBHQywgYnV0IHdlXG4gICAgICAgIC8vIGRvbid0IGRlZmluZSBleGFjdCBMUlUgc2VtYW50aWNzIHNvIHRoaXMgaXMgYWNjZXB0YWJsZS5cbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiTG9jYWxTdG9yZVwiLCBgRmFpbGVkIHRvIHVwZGF0ZSBzZXF1ZW5jZSBudW1iZXJzIGZvciB0YXJnZXQgJHt0fTogJHtlfWApO1xuICAgIH1cbiAgICByLm5zID0gci5ucy5yZW1vdmUodCksIHIucnMuZGVsZXRlKGkudGFyZ2V0KTtcbn1cblxuLyoqXG4gKiBSdW5zIHRoZSBzcGVjaWZpZWQgcXVlcnkgYWdhaW5zdCB0aGUgbG9jYWwgc3RvcmUgYW5kIHJldHVybnMgdGhlIHJlc3VsdHMsXG4gKiBwb3RlbnRpYWxseSB0YWtpbmcgYWR2YW50YWdlIG9mIHF1ZXJ5IGRhdGEgZnJvbSBwcmV2aW91cyBleGVjdXRpb25zIChzdWNoXG4gKiBhcyB0aGUgc2V0IG9mIHJlbW90ZSBrZXlzKS5cbiAqXG4gKiBAcGFyYW0gdXNlUHJldmlvdXNSZXN1bHRzIC0gV2hldGhlciByZXN1bHRzIGZyb20gcHJldmlvdXMgZXhlY3V0aW9ucyBjYW5cbiAqIGJlIHVzZWQgdG8gb3B0aW1pemUgdGhpcyBxdWVyeSBleGVjdXRpb24uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVFeGVjdXRlUXVlcnkoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGxldCBpID0gU25hcHNob3RWZXJzaW9uLm1pbigpLCBzID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCk7XG4gICAgcmV0dXJuIHIucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJFeGVjdXRlIHF1ZXJ5XCIsIFwicmVhZHdyaXRlXCIsICgvLyBVc2UgcmVhZHdyaXRlIGluc3RlYWQgb2YgcmVhZG9ubHkgc28gaW5kZXhlcyBjYW4gYmUgY3JlYXRlZFxuICAgIC8vIFVzZSByZWFkd3JpdGUgaW5zdGVhZCBvZiByZWFkb25seSBzbyBpbmRleGVzIGNhbiBiZSBjcmVhdGVkXG4gICAgZSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldFRhcmdldERhdGEoZSwgdCwgbikge1xuICAgICAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgaSA9IHIucnMuZ2V0KG4pO1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSBpID8gUGVyc2lzdGVuY2VQcm9taXNlLnJlc29sdmUoci5ucy5nZXQoaSkpIDogci5Rci5nZXRUYXJnZXREYXRhKHQsIG4pO1xuICAgIH0ociwgZSwgX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQodCkpLm5leHQoKHQgPT4ge1xuICAgICAgICBpZiAodCkgcmV0dXJuIGkgPSB0Lmxhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24sIHIuUXIuZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQoZSwgdC50YXJnZXRJZCkubmV4dCgoZSA9PiB7XG4gICAgICAgICAgICBzID0gZTtcbiAgICAgICAgfSkpO1xuICAgIH0pKS5uZXh0KCgoKSA9PiByLnRzLmdldERvY3VtZW50c01hdGNoaW5nUXVlcnkoZSwgdCwgbiA/IGkgOiBTbmFwc2hvdFZlcnNpb24ubWluKCksIG4gPyBzIDogX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpKSkubmV4dCgoZSA9PiAoX19QUklWQVRFX3NldE1heFJlYWRUaW1lKHIsIF9fUFJJVkFURV9xdWVyeUNvbGxlY3Rpb25Hcm91cCh0KSwgZSksIFxuICAgIHtcbiAgICAgICAgZG9jdW1lbnRzOiBlLFxuICAgICAgICBoczogc1xuICAgIH0pKSkpKTtcbn1cblxuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0Q2FjaGVkVGFyZ2V0KGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3Qobi5RciksIGkgPSBuLm5zLmdldCh0KTtcbiAgICByZXR1cm4gaSA/IFByb21pc2UucmVzb2x2ZShpLnRhcmdldCkgOiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiR2V0IHRhcmdldCBkYXRhXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gci5vdChlLCB0KS5uZXh0KChlID0+IGUgPyBlLnRhcmdldCA6IG51bGwpKSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHNldCBvZiBkb2N1bWVudHMgdGhhdCBoYXZlIGJlZW4gdXBkYXRlZCBzaW5jZSB0aGUgbGFzdCBjYWxsLlxuICogSWYgdGhpcyBpcyB0aGUgZmlyc3QgY2FsbCwgcmV0dXJucyB0aGUgc2V0IG9mIGNoYW5nZXMgc2luY2UgY2xpZW50XG4gKiBpbml0aWFsaXphdGlvbi4gRnVydGhlciBpbnZvY2F0aW9ucyB3aWxsIHJldHVybiBkb2N1bWVudCB0aGF0IGhhdmUgY2hhbmdlZFxuICogc2luY2UgdGhlIHByaW9yIGNhbGwuXG4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5mdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldE5ld0RvY3VtZW50Q2hhbmdlcyhlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBuLnNzLmdldCh0KSB8fCBTbmFwc2hvdFZlcnNpb24ubWluKCk7XG4gICAgLy8gR2V0IHRoZSBjdXJyZW50IG1heGltdW0gcmVhZCB0aW1lIGZvciB0aGUgY29sbGVjdGlvbi4gVGhpcyBzaG91bGQgYWx3YXlzXG4gICAgLy8gZXhpc3QsIGJ1dCB0byByZWR1Y2UgdGhlIGNoYW5jZSBmb3IgcmVncmVzc2lvbnMgd2UgZGVmYXVsdCB0b1xuICAgIC8vIFNuYXBzaG90VmVyc2lvbi5NaW4oKVxuICAgIC8vIFRPRE8oaW5kZXhpbmcpOiBDb25zaWRlciByZW1vdmluZyB0aGUgZGVmYXVsdCB2YWx1ZS5cbiAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgbmV3IGRvY3VtZW50IGNoYW5nZXNcIiwgXCJyZWFkb25seVwiLCAoZSA9PiBuLm9zLmdldEFsbEZyb21Db2xsZWN0aW9uR3JvdXAoZSwgdCwgX19QUklWQVRFX25ld0luZGV4T2Zmc2V0U3VjY2Vzc29yRnJvbVJlYWRUaW1lKHIsIC0xKSwgXG4gICAgLyogbGltaXQ9ICovIE51bWJlci5NQVhfU0FGRV9JTlRFR0VSKSkpLnRoZW4oKGUgPT4gKF9fUFJJVkFURV9zZXRNYXhSZWFkVGltZShuLCB0LCBlKSwgXG4gICAgZSkpKTtcbn1cblxuLyoqIFNldHMgdGhlIGNvbGxlY3Rpb24gZ3JvdXAncyBtYXhpbXVtIHJlYWQgdGltZSBmcm9tIHRoZSBnaXZlbiBkb2N1bWVudHMuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuZnVuY3Rpb24gX19QUklWQVRFX3NldE1heFJlYWRUaW1lKGUsIHQsIG4pIHtcbiAgICBsZXQgciA9IGUuc3MuZ2V0KHQpIHx8IFNuYXBzaG90VmVyc2lvbi5taW4oKTtcbiAgICBuLmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgIHQucmVhZFRpbWUuY29tcGFyZVRvKHIpID4gMCAmJiAociA9IHQucmVhZFRpbWUpO1xuICAgIH0pKSwgZS5zcy5zZXQodCwgcik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyB0YXJnZXQgdXNpbmcgdGhlIGdpdmVuIGJ1bmRsZSBuYW1lLCB3aGljaCB3aWxsIGJlIHVzZWQgdG9cbiAqIGhvbGQgdGhlIGtleXMgb2YgYWxsIGRvY3VtZW50cyBmcm9tIHRoZSBidW5kbGUgaW4gcXVlcnktZG9jdW1lbnQgbWFwcGluZ3MuXG4gKiBUaGlzIGVuc3VyZXMgdGhhdCB0aGUgbG9hZGVkIGRvY3VtZW50cyBkbyBub3QgZ2V0IGdhcmJhZ2UgY29sbGVjdGVkXG4gKiByaWdodCBhd2F5LlxuICovXG4vKipcbiAqIEFwcGxpZXMgdGhlIGRvY3VtZW50cyBmcm9tIGEgYnVuZGxlIHRvIHRoZSBcImdyb3VuZC1zdGF0ZVwiIChyZW1vdGUpXG4gKiBkb2N1bWVudHMuXG4gKlxuICogTG9jYWxEb2N1bWVudHMgYXJlIHJlLWNhbGN1bGF0ZWQgaWYgdGhlcmUgYXJlIHJlbWFpbmluZyBtdXRhdGlvbnMgaW4gdGhlXG4gKiBxdWV1ZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVBcHBseUJ1bmRsZWREb2N1bWVudHMoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGxldCBzID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIG8gPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCk7XG4gICAgZm9yIChjb25zdCBlIG9mIG4pIHtcbiAgICAgICAgY29uc3QgbiA9IHQuUHMoZS5tZXRhZGF0YS5uYW1lKTtcbiAgICAgICAgZS5kb2N1bWVudCAmJiAocyA9IHMuYWRkKG4pKTtcbiAgICAgICAgY29uc3QgciA9IHQuSXMoZSk7XG4gICAgICAgIHIuc2V0UmVhZFRpbWUodC5UcyhlLm1ldGFkYXRhLnJlYWRUaW1lKSksIG8gPSBvLmluc2VydChuLCByKTtcbiAgICB9XG4gICAgY29uc3QgXyA9IGkub3MubmV3Q2hhbmdlQnVmZmVyKHtcbiAgICAgICAgdHJhY2tSZW1vdmFsczogITBcbiAgICB9KSwgYSA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQWxsb2NhdGVUYXJnZXQoaSwgZnVuY3Rpb24gX19QUklWQVRFX3VtYnJlbGxhVGFyZ2V0KGUpIHtcbiAgICAgICAgLy8gSXQgaXMgT0sgdGhhdCB0aGUgcGF0aCB1c2VkIGZvciB0aGUgcXVlcnkgaXMgbm90IHZhbGlkLCBiZWNhdXNlIHRoaXMgd2lsbFxuICAgICAgICAvLyBub3QgYmUgcmVhZCBhbmQgcXVlcmllZC5cbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcoYF9fYnVuZGxlX18vZG9jcy8ke2V9YCkpKTtcbiAgICB9KHIpKTtcbiAgICAvLyBBbGxvY2F0ZXMgYSB0YXJnZXQgdG8gaG9sZCBhbGwgZG9jdW1lbnQga2V5cyBmcm9tIHRoZSBidW5kbGUsIHN1Y2ggdGhhdFxuICAgIC8vIHRoZXkgd2lsbCBub3QgZ2V0IGdhcmJhZ2UgY29sbGVjdGVkIHJpZ2h0IGF3YXkuXG4gICAgICAgIHJldHVybiBpLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQXBwbHkgYnVuZGxlIGRvY3VtZW50c1wiLCBcInJlYWR3cml0ZVwiLCAoZSA9PiBfX1BSSVZBVEVfcG9wdWxhdGVEb2N1bWVudENoYW5nZUJ1ZmZlcihlLCBfLCBvKS5uZXh0KCh0ID0+IChfLmFwcGx5KGUpLCBcbiAgICB0KSkpLm5leHQoKHQgPT4gaS5Rci5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLCBhLnRhcmdldElkKS5uZXh0KCgoKSA9PiBpLlFyLmFkZE1hdGNoaW5nS2V5cyhlLCBzLCBhLnRhcmdldElkKSkpLm5leHQoKCgpID0+IGkubG9jYWxEb2N1bWVudHMuZ2V0TG9jYWxWaWV3T2ZEb2N1bWVudHMoZSwgdC5jcywgdC5scykpKS5uZXh0KCgoKSA9PiB0LmNzKSkpKSkpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBwcm9taXNlIG9mIGEgYm9vbGVhbiB0byBpbmRpY2F0ZSBpZiB0aGUgZ2l2ZW4gYnVuZGxlIGhhcyBhbHJlYWR5XG4gKiBiZWVuIGxvYWRlZCBhbmQgdGhlIGNyZWF0ZSB0aW1lIGlzIG5ld2VyIHRoYW4gdGhlIGN1cnJlbnQgbG9hZGluZyBidW5kbGUuXG4gKi9cbi8qKlxuICogU2F2ZXMgdGhlIGdpdmVuIGBOYW1lZFF1ZXJ5YCB0byBsb2NhbCBwZXJzaXN0ZW5jZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVTYXZlTmFtZWRRdWVyeShlLCB0LCBuID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpIHtcbiAgICAvLyBBbGxvY2F0ZSBhIHRhcmdldCBmb3IgdGhlIG5hbWVkIHF1ZXJ5IHN1Y2ggdGhhdCBpdCBjYW4gYmUgcmVzdW1lZFxuICAgIC8vIGZyb20gYXNzb2NpYXRlZCByZWFkIHRpbWUgaWYgdXNlcnMgdXNlIGl0IHRvIGxpc3Rlbi5cbiAgICAvLyBOT1RFOiB0aGlzIGFsc28gbWVhbnMgaWYgbm8gY29ycmVzcG9uZGluZyB0YXJnZXQgZXhpc3RzLCB0aGUgbmV3IHRhcmdldFxuICAgIC8vIHdpbGwgcmVtYWluIGFjdGl2ZSBhbmQgd2lsbCBub3QgZ2V0IGNvbGxlY3RlZCwgdW5sZXNzIHVzZXJzIGhhcHBlbiB0b1xuICAgIC8vIHVubGlzdGVuIHRoZSBxdWVyeSBzb21laG93LlxuICAgIGNvbnN0IHIgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFsbG9jYXRlVGFyZ2V0KGUsIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KF9fUFJJVkFURV9mcm9tQnVuZGxlZFF1ZXJ5KHQuYnVuZGxlZFF1ZXJ5KSkpLCBpID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gaS5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIlNhdmUgbmFtZWQgcXVlcnlcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4ge1xuICAgICAgICBjb25zdCBzID0gX19QUklWQVRFX2Zyb21WZXJzaW9uKHQucmVhZFRpbWUpO1xuICAgICAgICAvLyBTaW1wbHkgc2F2ZSB0aGUgcXVlcnkgaXRzZWxmIGlmIGl0IGlzIG9sZGVyIHRoYW4gd2hhdCB0aGUgU0RLIGFscmVhZHlcbiAgICAgICAgLy8gaGFzLlxuICAgICAgICAgICAgICAgIGlmIChyLnNuYXBzaG90VmVyc2lvbi5jb21wYXJlVG8ocykgPj0gMCkgcmV0dXJuIGkuJHIuc2F2ZU5hbWVkUXVlcnkoZSwgdCk7XG4gICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyB0YXJnZXQgZGF0YSBiZWNhdXNlIHRoZSBxdWVyeSBmcm9tIHRoZSBidW5kbGUgaXMgbmV3ZXIuXG4gICAgICAgICAgICAgICAgY29uc3QgbyA9IHIud2l0aFJlc3VtZVRva2VuKEJ5dGVTdHJpbmcuRU1QVFlfQllURV9TVFJJTkcsIHMpO1xuICAgICAgICByZXR1cm4gaS5ucyA9IGkubnMuaW5zZXJ0KG8udGFyZ2V0SWQsIG8pLCBpLlFyLnVwZGF0ZVRhcmdldERhdGEoZSwgbykubmV4dCgoKCkgPT4gaS5Rci5yZW1vdmVNYXRjaGluZ0tleXNGb3JUYXJnZXRJZChlLCByLnRhcmdldElkKSkpLm5leHQoKCgpID0+IGkuUXIuYWRkTWF0Y2hpbmdLZXlzKGUsIG4sIHIudGFyZ2V0SWQpKSkubmV4dCgoKCkgPT4gaS4kci5zYXZlTmFtZWRRdWVyeShlLCB0KSkpO1xuICAgIH0pKTtcbn1cblxuLyoqIEFzc2VtYmxlcyB0aGUga2V5IGZvciBhIGNsaWVudCBzdGF0ZSBpbiBXZWJTdG9yYWdlICovXG5mdW5jdGlvbiBjcmVhdGVXZWJTdG9yYWdlQ2xpZW50U3RhdGVLZXkoZSwgdCkge1xuICAgIHJldHVybiBgZmlyZXN0b3JlX2NsaWVudHNfJHtlfV8ke3R9YDtcbn1cblxuLy8gVGhlIGZvcm1hdCBvZiB0aGUgV2ViU3RvcmFnZSBrZXkgdGhhdCBzdG9yZXMgdGhlIG11dGF0aW9uIHN0YXRlIGlzOlxuLy8gICAgIGZpcmVzdG9yZV9tdXRhdGlvbnNfPHBlcnNpc3RlbmNlX3ByZWZpeD5fPGJhdGNoX2lkPlxuLy8gICAgIChmb3IgdW5hdXRoZW50aWNhdGVkIHVzZXJzKVxuLy8gb3I6IGZpcmVzdG9yZV9tdXRhdGlvbnNfPHBlcnNpc3RlbmNlX3ByZWZpeD5fPGJhdGNoX2lkPl88dXNlcl91aWQ+XG5cbi8vICd1c2VyX3VpZCcgaXMgbGFzdCB0byBhdm9pZCBuZWVkaW5nIHRvIGVzY2FwZSAnXycgY2hhcmFjdGVycyB0aGF0IGl0IG1pZ2h0XG4vLyBjb250YWluLlxuLyoqIEFzc2VtYmxlcyB0aGUga2V5IGZvciBhIG11dGF0aW9uIGJhdGNoIGluIFdlYlN0b3JhZ2UgKi9cbmZ1bmN0aW9uIGNyZWF0ZVdlYlN0b3JhZ2VNdXRhdGlvbkJhdGNoS2V5KGUsIHQsIG4pIHtcbiAgICBsZXQgciA9IGBmaXJlc3RvcmVfbXV0YXRpb25zXyR7ZX1fJHtufWA7XG4gICAgcmV0dXJuIHQuaXNBdXRoZW50aWNhdGVkKCkgJiYgKHIgKz0gYF8ke3QudWlkfWApLCByO1xufVxuXG4vLyBUaGUgZm9ybWF0IG9mIHRoZSBXZWJTdG9yYWdlIGtleSB0aGF0IHN0b3JlcyBhIHF1ZXJ5IHRhcmdldCdzIG1ldGFkYXRhIGlzOlxuLy8gICAgIGZpcmVzdG9yZV90YXJnZXRzXzxwZXJzaXN0ZW5jZV9wcmVmaXg+Xzx0YXJnZXRfaWQ+XG4vKiogQXNzZW1ibGVzIHRoZSBrZXkgZm9yIGEgcXVlcnkgc3RhdGUgaW4gV2ViU3RvcmFnZSAqL1xuZnVuY3Rpb24gY3JlYXRlV2ViU3RvcmFnZVF1ZXJ5VGFyZ2V0TWV0YWRhdGFLZXkoZSwgdCkge1xuICAgIHJldHVybiBgZmlyZXN0b3JlX3RhcmdldHNfJHtlfV8ke3R9YDtcbn1cblxuLy8gVGhlIFdlYlN0b3JhZ2UgcHJlZml4IHRoYXQgc3RvcmVzIHRoZSBwcmltYXJ5IHRhYidzIG9ubGluZSBzdGF0ZS4gVGhlXG4vLyBmb3JtYXQgb2YgdGhlIGtleSBpczpcbi8vICAgICBmaXJlc3RvcmVfb25saW5lX3N0YXRlXzxwZXJzaXN0ZW5jZV9wcmVmaXg+XG4vKipcbiAqIEhvbGRzIHRoZSBzdGF0ZSBvZiBhIG11dGF0aW9uIGJhdGNoLCBpbmNsdWRpbmcgaXRzIHVzZXIgSUQsIGJhdGNoIElEIGFuZFxuICogd2hldGhlciB0aGUgYmF0Y2ggaXMgJ3BlbmRpbmcnLCAnYWNrbm93bGVkZ2VkJyBvciAncmVqZWN0ZWQnLlxuICovXG4vLyBWaXNpYmxlIGZvciB0ZXN0aW5nXG5jbGFzcyBfX1BSSVZBVEVfTXV0YXRpb25NZXRhZGF0YSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgcikge1xuICAgICAgICB0aGlzLnVzZXIgPSBlLCB0aGlzLmJhdGNoSWQgPSB0LCB0aGlzLnN0YXRlID0gbiwgdGhpcy5lcnJvciA9IHI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIE11dGF0aW9uTWV0YWRhdGEgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbiBpbiBXZWJTdG9yYWdlLlxuICAgICAqIExvZ3MgYSB3YXJuaW5nIGFuZCByZXR1cm5zIG51bGwgaWYgdGhlIGZvcm1hdCBvZiB0aGUgZGF0YSBpcyBub3QgdmFsaWQuXG4gICAgICovICAgIHN0YXRpYyBFcyhlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBKU09OLnBhcnNlKG4pO1xuICAgICAgICBsZXQgaSwgcyA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIHIgJiYgLTEgIT09IFsgXCJwZW5kaW5nXCIsIFwiYWNrbm93bGVkZ2VkXCIsIFwicmVqZWN0ZWRcIiBdLmluZGV4T2Yoci5zdGF0ZSkgJiYgKHZvaWQgMCA9PT0gci5lcnJvciB8fCBcIm9iamVjdFwiID09IHR5cGVvZiByLmVycm9yKTtcbiAgICAgICAgcmV0dXJuIHMgJiYgci5lcnJvciAmJiAocyA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIHIuZXJyb3IubWVzc2FnZSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiByLmVycm9yLmNvZGUsIFxuICAgICAgICBzICYmIChpID0gbmV3IEZpcmVzdG9yZUVycm9yKHIuZXJyb3IuY29kZSwgci5lcnJvci5tZXNzYWdlKSkpLCBzID8gbmV3IF9fUFJJVkFURV9NdXRhdGlvbk1ldGFkYXRhKGUsIHQsIHIuc3RhdGUsIGkpIDogKF9fUFJJVkFURV9sb2dFcnJvcihcIlNoYXJlZENsaWVudFN0YXRlXCIsIGBGYWlsZWQgdG8gcGFyc2UgbXV0YXRpb24gc3RhdGUgZm9yIElEICcke3R9JzogJHtufWApLCBcbiAgICAgICAgbnVsbCk7XG4gICAgfVxuICAgIGRzKCkge1xuICAgICAgICBjb25zdCBlID0ge1xuICAgICAgICAgICAgc3RhdGU6IHRoaXMuc3RhdGUsXG4gICAgICAgICAgICB1cGRhdGVUaW1lTXM6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3IgJiYgKGUuZXJyb3IgPSB7XG4gICAgICAgICAgICBjb2RlOiB0aGlzLmVycm9yLmNvZGUsXG4gICAgICAgICAgICBtZXNzYWdlOiB0aGlzLmVycm9yLm1lc3NhZ2VcbiAgICAgICAgfSksIEpTT04uc3RyaW5naWZ5KGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBIb2xkcyB0aGUgc3RhdGUgb2YgYSBxdWVyeSB0YXJnZXQsIGluY2x1ZGluZyBpdHMgdGFyZ2V0IElEIGFuZCB3aGV0aGVyIHRoZVxuICogdGFyZ2V0IGlzICdub3QtY3VycmVudCcsICdjdXJyZW50JyBvciAncmVqZWN0ZWQnLlxuICovXG4vLyBWaXNpYmxlIGZvciB0ZXN0aW5nXG5jbGFzcyBfX1BSSVZBVEVfUXVlcnlUYXJnZXRNZXRhZGF0YSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLnRhcmdldElkID0gZSwgdGhpcy5zdGF0ZSA9IHQsIHRoaXMuZXJyb3IgPSBuO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBRdWVyeVRhcmdldE1ldGFkYXRhIGZyb20gaXRzIEpTT04gcmVwcmVzZW50YXRpb24gaW4gV2ViU3RvcmFnZS5cbiAgICAgKiBMb2dzIGEgd2FybmluZyBhbmQgcmV0dXJucyBudWxsIGlmIHRoZSBmb3JtYXQgb2YgdGhlIGRhdGEgaXMgbm90IHZhbGlkLlxuICAgICAqLyAgICBzdGF0aWMgRXMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gSlNPTi5wYXJzZSh0KTtcbiAgICAgICAgbGV0IHIsIGkgPSBcIm9iamVjdFwiID09IHR5cGVvZiBuICYmIC0xICE9PSBbIFwibm90LWN1cnJlbnRcIiwgXCJjdXJyZW50XCIsIFwicmVqZWN0ZWRcIiBdLmluZGV4T2Yobi5zdGF0ZSkgJiYgKHZvaWQgMCA9PT0gbi5lcnJvciB8fCBcIm9iamVjdFwiID09IHR5cGVvZiBuLmVycm9yKTtcbiAgICAgICAgcmV0dXJuIGkgJiYgbi5lcnJvciAmJiAoaSA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIG4uZXJyb3IubWVzc2FnZSAmJiBcInN0cmluZ1wiID09IHR5cGVvZiBuLmVycm9yLmNvZGUsIFxuICAgICAgICBpICYmIChyID0gbmV3IEZpcmVzdG9yZUVycm9yKG4uZXJyb3IuY29kZSwgbi5lcnJvci5tZXNzYWdlKSkpLCBpID8gbmV3IF9fUFJJVkFURV9RdWVyeVRhcmdldE1ldGFkYXRhKGUsIG4uc3RhdGUsIHIpIDogKF9fUFJJVkFURV9sb2dFcnJvcihcIlNoYXJlZENsaWVudFN0YXRlXCIsIGBGYWlsZWQgdG8gcGFyc2UgdGFyZ2V0IHN0YXRlIGZvciBJRCAnJHtlfSc6ICR7dH1gKSwgXG4gICAgICAgIG51bGwpO1xuICAgIH1cbiAgICBkcygpIHtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgdXBkYXRlVGltZU1zOiBEYXRlLm5vdygpXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLmVycm9yICYmIChlLmVycm9yID0ge1xuICAgICAgICAgICAgY29kZTogdGhpcy5lcnJvci5jb2RlLFxuICAgICAgICAgICAgbWVzc2FnZTogdGhpcy5lcnJvci5tZXNzYWdlXG4gICAgICAgIH0pLCBKU09OLnN0cmluZ2lmeShlKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIHRoZSBpbW11dGFibGUgQ2xpZW50U3RhdGUgZm9yIGEgY2xpZW50IHJlYWQgZnJvbVxuICogV2ViU3RvcmFnZSwgY29udGFpbmluZyB0aGUgbGlzdCBvZiBhY3RpdmUgcXVlcnkgdGFyZ2V0cy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfUmVtb3RlQ2xpZW50U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5jbGllbnRJZCA9IGUsIHRoaXMuYWN0aXZlVGFyZ2V0SWRzID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgUmVtb3RlQ2xpZW50U3RhdGUgZnJvbSB0aGUgSlNPTiByZXByZXNlbnRhdGlvbiBpbiBXZWJTdG9yYWdlLlxuICAgICAqIExvZ3MgYSB3YXJuaW5nIGFuZCByZXR1cm5zIG51bGwgaWYgdGhlIGZvcm1hdCBvZiB0aGUgZGF0YSBpcyBub3QgdmFsaWQuXG4gICAgICovICAgIHN0YXRpYyBFcyhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBKU09OLnBhcnNlKHQpO1xuICAgICAgICBsZXQgciA9IFwib2JqZWN0XCIgPT0gdHlwZW9mIG4gJiYgbi5hY3RpdmVUYXJnZXRJZHMgaW5zdGFuY2VvZiBBcnJheSwgaSA9IF9fUFJJVkFURV90YXJnZXRJZFNldCgpO1xuICAgICAgICBmb3IgKGxldCBlID0gMDsgciAmJiBlIDwgbi5hY3RpdmVUYXJnZXRJZHMubGVuZ3RoOyArK2UpIHIgPSBpc1NhZmVJbnRlZ2VyKG4uYWN0aXZlVGFyZ2V0SWRzW2VdKSwgXG4gICAgICAgIGkgPSBpLmFkZChuLmFjdGl2ZVRhcmdldElkc1tlXSk7XG4gICAgICAgIHJldHVybiByID8gbmV3IF9fUFJJVkFURV9SZW1vdGVDbGllbnRTdGF0ZShlLCBpKSA6IChfX1BSSVZBVEVfbG9nRXJyb3IoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgRmFpbGVkIHRvIHBhcnNlIGNsaWVudCBkYXRhIGZvciBpbnN0YW5jZSAnJHtlfSc6ICR7dH1gKSwgXG4gICAgICAgIG51bGwpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgdGhlIG9ubGluZSBzdGF0ZSBmb3IgYWxsIGNsaWVudHMgcGFydGljaXBhdGluZyBpblxuICogbXVsdGktdGFiLiBUaGUgb25saW5lIHN0YXRlIGlzIG9ubHkgd3JpdHRlbiB0byBieSB0aGUgcHJpbWFyeSBjbGllbnQsIGFuZFxuICogdXNlZCBpbiBzZWNvbmRhcnkgY2xpZW50cyB0byB1cGRhdGUgdGhlaXIgcXVlcnkgdmlld3MuXG4gKi8gY2xhc3MgX19QUklWQVRFX1NoYXJlZE9ubGluZVN0YXRlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHRoaXMuY2xpZW50SWQgPSBlLCB0aGlzLm9ubGluZVN0YXRlID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgU2hhcmVkT25saW5lU3RhdGUgZnJvbSBpdHMgSlNPTiByZXByZXNlbnRhdGlvbiBpbiBXZWJTdG9yYWdlLlxuICAgICAqIExvZ3MgYSB3YXJuaW5nIGFuZCByZXR1cm5zIG51bGwgaWYgdGhlIGZvcm1hdCBvZiB0aGUgZGF0YSBpcyBub3QgdmFsaWQuXG4gICAgICovICAgIHN0YXRpYyBFcyhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBKU09OLnBhcnNlKGUpO1xuICAgICAgICByZXR1cm4gXCJvYmplY3RcIiA9PSB0eXBlb2YgdCAmJiAtMSAhPT0gWyBcIlVua25vd25cIiwgXCJPbmxpbmVcIiwgXCJPZmZsaW5lXCIgXS5pbmRleE9mKHQub25saW5lU3RhdGUpICYmIFwic3RyaW5nXCIgPT0gdHlwZW9mIHQuY2xpZW50SWQgPyBuZXcgX19QUklWQVRFX1NoYXJlZE9ubGluZVN0YXRlKHQuY2xpZW50SWQsIHQub25saW5lU3RhdGUpIDogKF9fUFJJVkFURV9sb2dFcnJvcihcIlNoYXJlZENsaWVudFN0YXRlXCIsIGBGYWlsZWQgdG8gcGFyc2Ugb25saW5lIHN0YXRlOiAke2V9YCksIFxuICAgICAgICBudWxsKTtcbiAgICB9XG59XG5cbi8qKlxuICogTWV0YWRhdGEgc3RhdGUgb2YgdGhlIGxvY2FsIGNsaWVudC4gVW5saWtlIGBSZW1vdGVDbGllbnRTdGF0ZWAsIHRoaXMgY2xhc3MgaXNcbiAqIG11dGFibGUgYW5kIGtlZXBzIHRyYWNrIG9mIGFsbCBwZW5kaW5nIG11dGF0aW9ucywgd2hpY2ggYWxsb3dzIHVzIHRvXG4gKiB1cGRhdGUgdGhlIHJhbmdlIG9mIHBlbmRpbmcgbXV0YXRpb24gYmF0Y2ggSURzIGFzIG5ldyBtdXRhdGlvbnMgYXJlIGFkZGVkIG9yXG4gKiByZW1vdmVkLlxuICpcbiAqIFRoZSBkYXRhIGluIGBMb2NhbENsaWVudFN0YXRlYCBpcyBub3QgcmVhZCBmcm9tIFdlYlN0b3JhZ2UgYW5kIGluc3RlYWRcbiAqIHVwZGF0ZWQgdmlhIGl0cyBpbnN0YW5jZSBtZXRob2RzLiBUaGUgdXBkYXRlZCBzdGF0ZSBjYW4gYmUgc2VyaWFsaXplZCB2aWFcbiAqIGB0b1dlYlN0b3JhZ2VKU09OKClgLlxuICovXG4vLyBWaXNpYmxlIGZvciB0ZXN0aW5nLlxuY2xhc3MgX19QUklWQVRFX0xvY2FsQ2xpZW50U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZVRhcmdldElkcyA9IF9fUFJJVkFURV90YXJnZXRJZFNldCgpO1xuICAgIH1cbiAgICBBcyhlKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0SWRzID0gdGhpcy5hY3RpdmVUYXJnZXRJZHMuYWRkKGUpO1xuICAgIH1cbiAgICBScyhlKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0SWRzID0gdGhpcy5hY3RpdmVUYXJnZXRJZHMuZGVsZXRlKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGlzIGVudHJ5IGludG8gYSBKU09OLWVuY29kZWQgZm9ybWF0IHdlIGNhbiB1c2UgZm9yIFdlYlN0b3JhZ2UuXG4gICAgICogRG9lcyBub3QgZW5jb2RlIGBjbGllbnRJZGAgYXMgaXQgaXMgcGFydCBvZiB0aGUga2V5IGluIFdlYlN0b3JhZ2UuXG4gICAgICovICAgIGRzKCkge1xuICAgICAgICBjb25zdCBlID0ge1xuICAgICAgICAgICAgYWN0aXZlVGFyZ2V0SWRzOiB0aGlzLmFjdGl2ZVRhcmdldElkcy50b0FycmF5KCksXG4gICAgICAgICAgICB1cGRhdGVUaW1lTXM6IERhdGUubm93KClcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBgV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlYCB1c2VzIFdlYlN0b3JhZ2UgKHdpbmRvdy5sb2NhbFN0b3JhZ2UpIGFzIHRoZVxuICogYmFja2luZyBzdG9yZSBmb3IgdGhlIFNoYXJlZENsaWVudFN0YXRlLiBJdCBrZWVwcyB0cmFjayBvZiBhbGwgYWN0aXZlXG4gKiBjbGllbnRzIGFuZCBzdXBwb3J0cyBtb2RpZmljYXRpb25zIG9mIHRoZSBsb2NhbCBjbGllbnQncyBkYXRhLlxuICovIGNsYXNzIF9fUFJJVkFURV9XZWJTdG9yYWdlU2hhcmVkQ2xpZW50U3RhdGUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgdGhpcy53aW5kb3cgPSBlLCB0aGlzLm9pID0gdCwgdGhpcy5wZXJzaXN0ZW5jZUtleSA9IG4sIHRoaXMuVnMgPSByLCB0aGlzLnN5bmNFbmdpbmUgPSBudWxsLCBcbiAgICAgICAgdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXIgPSBudWxsLCB0aGlzLnNlcXVlbmNlTnVtYmVySGFuZGxlciA9IG51bGwsIHRoaXMuZnMgPSB0aGlzLmdzLmJpbmQodGhpcyksIFxuICAgICAgICB0aGlzLnBzID0gbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvciksIHRoaXMuc3RhcnRlZCA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhcHR1cmVzIFdlYlN0b3JhZ2UgZXZlbnRzIHRoYXQgb2NjdXIgYmVmb3JlIGBzdGFydCgpYCBpcyBjYWxsZWQuIFRoZXNlXG4gICAgICAgICAqIGV2ZW50cyBhcmUgcmVwbGF5ZWQgb25jZSBgV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlYCBpcyBzdGFydGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy55cyA9IFtdO1xuICAgICAgICAvLyBFc2NhcGUgdGhlIHNwZWNpYWwgY2hhcmFjdGVycyBtZW50aW9uZWQgaGVyZTpcbiAgICAgICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9HdWlkZS9SZWd1bGFyX0V4cHJlc3Npb25zXG4gICAgICAgIGNvbnN0IHMgPSBuLnJlcGxhY2UoL1suKis/XiR7fSgpfFtcXF1cXFxcXS9nLCBcIlxcXFwkJlwiKTtcbiAgICAgICAgdGhpcy5zdG9yYWdlID0gdGhpcy53aW5kb3cubG9jYWxTdG9yYWdlLCB0aGlzLmN1cnJlbnRVc2VyID0gaSwgdGhpcy53cyA9IGNyZWF0ZVdlYlN0b3JhZ2VDbGllbnRTdGF0ZUtleSh0aGlzLnBlcnNpc3RlbmNlS2V5LCB0aGlzLlZzKSwgXG4gICAgICAgIHRoaXMuU3MgPSBcbiAgICAgICAgLyoqIEFzc2VtYmxlcyB0aGUga2V5IGZvciB0aGUgY3VycmVudCBzZXF1ZW5jZSBudW1iZXIuICovXG4gICAgICAgIGZ1bmN0aW9uIGNyZWF0ZVdlYlN0b3JhZ2VTZXF1ZW5jZU51bWJlcktleShlKSB7XG4gICAgICAgICAgICByZXR1cm4gYGZpcmVzdG9yZV9zZXF1ZW5jZV9udW1iZXJfJHtlfWA7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTggR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gKHRoaXMucGVyc2lzdGVuY2VLZXkpLCB0aGlzLnBzID0gdGhpcy5wcy5pbnNlcnQodGhpcy5WcywgbmV3IF9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlKSwgXG4gICAgICAgIHRoaXMuYnMgPSBuZXcgUmVnRXhwKGBeZmlyZXN0b3JlX2NsaWVudHNfJHtzfV8oW15fXSopJGApLCB0aGlzLkRzID0gbmV3IFJlZ0V4cChgXmZpcmVzdG9yZV9tdXRhdGlvbnNfJHtzfV8oXFxcXGQrKSg/Ol8oLiopKT8kYCksIFxuICAgICAgICB0aGlzLkNzID0gbmV3IFJlZ0V4cChgXmZpcmVzdG9yZV90YXJnZXRzXyR7c31fKFxcXFxkKykkYCksIHRoaXMudnMgPSBcbiAgICAgICAgLyoqIEFzc2VtYmxlcyB0aGUga2V5IGZvciB0aGUgb25saW5lIHN0YXRlIG9mIHRoZSBwcmltYXJ5IHRhYi4gKi9cbiAgICAgICAgZnVuY3Rpb24gY3JlYXRlV2ViU3RvcmFnZU9ubGluZVN0YXRlS2V5KGUpIHtcbiAgICAgICAgICAgIHJldHVybiBgZmlyZXN0b3JlX29ubGluZV9zdGF0ZV8ke2V9YDtcbiAgICAgICAgfVxuICAgICAgICAvLyBUaGUgV2ViU3RvcmFnZSBwcmVmaXggdGhhdCBwbGF5cyBhcyBhIGV2ZW50IHRvIGluZGljYXRlIHRoZSByZW1vdGUgZG9jdW1lbnRzXG4gICAgICAgIC8vIG1pZ2h0IGhhdmUgY2hhbmdlZCBkdWUgdG8gc29tZSBzZWNvbmRhcnkgdGFicyBsb2FkaW5nIGEgYnVuZGxlLlxuICAgICAgICAvLyBmb3JtYXQgb2YgdGhlIGtleSBpczpcbiAgICAgICAgLy8gICAgIGZpcmVzdG9yZV9idW5kbGVfbG9hZGVkX3YyXzxwZXJzaXN0ZW5jZUtleT5cbiAgICAgICAgLy8gVGhlIHZlcnNpb24gZW5kaW5nIHdpdGggXCJ2MlwiIHN0b3JlcyB0aGUgbGlzdCBvZiBtb2RpZmllZCBjb2xsZWN0aW9uIGdyb3Vwcy5cbiAgICAgICAgKHRoaXMucGVyc2lzdGVuY2VLZXkpLCB0aGlzLkZzID0gZnVuY3Rpb24gY3JlYXRlQnVuZGxlTG9hZGVkS2V5KGUpIHtcbiAgICAgICAgICAgIHJldHVybiBgZmlyZXN0b3JlX2J1bmRsZV9sb2FkZWRfdjJfJHtlfWA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhlIFdlYlN0b3JhZ2Uga2V5IHByZWZpeCBmb3IgdGhlIGtleSB0aGF0IHN0b3JlcyB0aGUgbGFzdCBzZXF1ZW5jZSBudW1iZXIgYWxsb2NhdGVkLiBUaGUga2V5XG4gICAgICAgIC8vIGxvb2tzIGxpa2UgJ2ZpcmVzdG9yZV9zZXF1ZW5jZV9udW1iZXJfPHBlcnNpc3RlbmNlX3ByZWZpeD4nLlxuICAgICAgICAodGhpcy5wZXJzaXN0ZW5jZUtleSksIFxuICAgICAgICAvLyBSYXRoZXIgdGhhbiBhZGRpbmcgdGhlIHN0b3JhZ2Ugb2JzZXJ2ZXIgZHVyaW5nIHN0YXJ0KCksIHdlIGFkZCB0aGVcbiAgICAgICAgLy8gc3RvcmFnZSBvYnNlcnZlciBkdXJpbmcgaW5pdGlhbGl6YXRpb24uIFRoaXMgZW5zdXJlcyB0aGF0IHdlIGNvbGxlY3RcbiAgICAgICAgLy8gZXZlbnRzIGJlZm9yZSBvdGhlciBjb21wb25lbnRzIHBvcHVsYXRlIHRoZWlyIGluaXRpYWwgc3RhdGUgKGR1cmluZyB0aGVpclxuICAgICAgICAvLyByZXNwZWN0aXZlIHN0YXJ0KCkgY2FsbHMpLiBPdGhlcndpc2UsIHdlIG1pZ2h0IGZvciBleGFtcGxlIG1pc3MgYVxuICAgICAgICAvLyBtdXRhdGlvbiB0aGF0IGlzIGFkZGVkIGFmdGVyIExvY2FsU3RvcmUncyBzdGFydCgpIHByb2Nlc3NlZCB0aGUgZXhpc3RpbmdcbiAgICAgICAgLy8gbXV0YXRpb25zIGJ1dCBiZWZvcmUgd2Ugb2JzZXJ2ZSBXZWJTdG9yYWdlIGV2ZW50cy5cbiAgICAgICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgdGhpcy5mcyk7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zICd0cnVlJyBpZiBXZWJTdG9yYWdlIGlzIGF2YWlsYWJsZSBpbiB0aGUgY3VycmVudCBlbnZpcm9ubWVudC4gKi8gICAgc3RhdGljIEQoZSkge1xuICAgICAgICByZXR1cm4gISghZSB8fCAhZS5sb2NhbFN0b3JhZ2UpO1xuICAgIH1cbiAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgLy8gUmV0cmlldmUgdGhlIGxpc3Qgb2YgZXhpc3RpbmcgY2xpZW50cyB0byBiYWNrZmlsbCB0aGUgZGF0YSBpblxuICAgICAgICAvLyBTaGFyZWRDbGllbnRTdGF0ZS5cbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IHRoaXMuc3luY0VuZ2luZS5CaSgpO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgZSkge1xuICAgICAgICAgICAgaWYgKHQgPT09IHRoaXMuVnMpIGNvbnRpbnVlO1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuZ2V0SXRlbShjcmVhdGVXZWJTdG9yYWdlQ2xpZW50U3RhdGVLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgdCkpO1xuICAgICAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX1JlbW90ZUNsaWVudFN0YXRlLkVzKHQsIGUpO1xuICAgICAgICAgICAgICAgIG4gJiYgKHRoaXMucHMgPSB0aGlzLnBzLmluc2VydChuLmNsaWVudElkLCBuKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5NcygpO1xuICAgICAgICAvLyBDaGVjayBpZiB0aGVyZSBpcyBhbiBleGlzdGluZyBvbmxpbmUgc3RhdGUgYW5kIGNhbGwgdGhlIGNhbGxiYWNrIGhhbmRsZXJcbiAgICAgICAgLy8gaWYgYXBwbGljYWJsZS5cbiAgICAgICAgY29uc3QgdCA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKHRoaXMudnMpO1xuICAgICAgICBpZiAodCkge1xuICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMueHModCk7XG4gICAgICAgICAgICBlICYmIHRoaXMuT3MoZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMueXMpIHRoaXMuZ3MoZSk7XG4gICAgICAgIHRoaXMueXMgPSBbXSwgXG4gICAgICAgIC8vIFJlZ2lzdGVyIGEgd2luZG93IHVubG9hZCBob29rIHRvIHJlbW92ZSB0aGUgY2xpZW50IG1ldGFkYXRhIGVudHJ5IGZyb21cbiAgICAgICAgLy8gV2ViU3RvcmFnZSBldmVuIGlmIGBzaHV0ZG93bigpYCB3YXMgbm90IGNhbGxlZC5cbiAgICAgICAgdGhpcy53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInBhZ2VoaWRlXCIsICgoKSA9PiB0aGlzLnNodXRkb3duKCkpKSwgdGhpcy5zdGFydGVkID0gITA7XG4gICAgfVxuICAgIHdyaXRlU2VxdWVuY2VOdW1iZXIoZSkge1xuICAgICAgICB0aGlzLnNldEl0ZW0odGhpcy5TcywgSlNPTi5zdHJpbmdpZnkoZSkpO1xuICAgIH1cbiAgICBnZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLk5zKHRoaXMucHMpO1xuICAgIH1cbiAgICBpc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgbGV0IHQgPSAhMTtcbiAgICAgICAgcmV0dXJuIHRoaXMucHMuZm9yRWFjaCgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgIHIuYWN0aXZlVGFyZ2V0SWRzLmhhcyhlKSAmJiAodCA9ICEwKTtcbiAgICAgICAgfSkpLCB0O1xuICAgIH1cbiAgICBhZGRQZW5kaW5nTXV0YXRpb24oZSkge1xuICAgICAgICB0aGlzLkxzKGUsIFwicGVuZGluZ1wiKTtcbiAgICB9XG4gICAgdXBkYXRlTXV0YXRpb25TdGF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHRoaXMuTHMoZSwgdCwgbiksIFxuICAgICAgICAvLyBPbmNlIGEgZmluYWwgbXV0YXRpb24gcmVzdWx0IGlzIG9ic2VydmVkIGJ5IG90aGVyIGNsaWVudHMsIHRoZXkgbm8gbG9uZ2VyXG4gICAgICAgIC8vIGFjY2VzcyB0aGUgbXV0YXRpb24ncyBtZXRhZGF0YSBlbnRyeS4gU2luY2UgV2ViU3RvcmFnZSByZXBsYXlzIGV2ZW50c1xuICAgICAgICAvLyBpbiBvcmRlciwgaXQgaXMgc2FmZSB0byBkZWxldGUgdGhlIGVudHJ5IHJpZ2h0IGFmdGVyIHVwZGF0aW5nIGl0LlxuICAgICAgICB0aGlzLkJzKGUpO1xuICAgIH1cbiAgICBhZGRMb2NhbFF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgbGV0IHQgPSBcIm5vdC1jdXJyZW50XCI7XG4gICAgICAgIC8vIExvb2t1cCBhbiBleGlzdGluZyBxdWVyeSBzdGF0ZSBpZiB0aGUgdGFyZ2V0IElEIHdhcyBhbHJlYWR5IHJlZ2lzdGVyZWRcbiAgICAgICAgLy8gYnkgYW5vdGhlciB0YWJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZVF1ZXJ5VGFyZ2V0KGUpKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oY3JlYXRlV2ViU3RvcmFnZVF1ZXJ5VGFyZ2V0TWV0YWRhdGFLZXkodGhpcy5wZXJzaXN0ZW5jZUtleSwgZSkpO1xuICAgICAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gX19QUklWQVRFX1F1ZXJ5VGFyZ2V0TWV0YWRhdGEuRXMoZSwgbik7XG4gICAgICAgICAgICAgICAgciAmJiAodCA9IHIuc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmtzLkFzKGUpLCB0aGlzLk1zKCksIHQ7XG4gICAgfVxuICAgIHJlbW92ZUxvY2FsUXVlcnlUYXJnZXQoZSkge1xuICAgICAgICB0aGlzLmtzLlJzKGUpLCB0aGlzLk1zKCk7XG4gICAgfVxuICAgIGlzTG9jYWxRdWVyeVRhcmdldChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmtzLmFjdGl2ZVRhcmdldElkcy5oYXMoZSk7XG4gICAgfVxuICAgIGNsZWFyUXVlcnlTdGF0ZShlKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlSXRlbShjcmVhdGVXZWJTdG9yYWdlUXVlcnlUYXJnZXRNZXRhZGF0YUtleSh0aGlzLnBlcnNpc3RlbmNlS2V5LCBlKSk7XG4gICAgfVxuICAgIHVwZGF0ZVF1ZXJ5U3RhdGUoZSwgdCwgbikge1xuICAgICAgICB0aGlzLnFzKGUsIHQsIG4pO1xuICAgIH1cbiAgICBoYW5kbGVVc2VyQ2hhbmdlKGUsIHQsIG4pIHtcbiAgICAgICAgdC5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgICAgIHRoaXMuQnMoZSk7XG4gICAgICAgIH0pKSwgdGhpcy5jdXJyZW50VXNlciA9IGUsIG4uZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmFkZFBlbmRpbmdNdXRhdGlvbihlKTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBzZXRPbmxpbmVTdGF0ZShlKSB7XG4gICAgICAgIHRoaXMuUXMoZSk7XG4gICAgfVxuICAgIG5vdGlmeUJ1bmRsZUxvYWRlZChlKSB7XG4gICAgICAgIHRoaXMuS3MoZSk7XG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICB0aGlzLnN0YXJ0ZWQgJiYgKHRoaXMud2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIHRoaXMuZnMpLCB0aGlzLnJlbW92ZUl0ZW0odGhpcy53cyksIFxuICAgICAgICB0aGlzLnN0YXJ0ZWQgPSAhMSk7XG4gICAgfVxuICAgIGdldEl0ZW0oZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5zdG9yYWdlLmdldEl0ZW0oZSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBcIlJFQURcIiwgZSwgdCksIHQ7XG4gICAgfVxuICAgIHNldEl0ZW0oZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBcIlNFVFwiLCBlLCB0KSwgdGhpcy5zdG9yYWdlLnNldEl0ZW0oZSwgdCk7XG4gICAgfVxuICAgIHJlbW92ZUl0ZW0oZSkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBcIlJFTU9WRVwiLCBlKSwgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0oZSk7XG4gICAgfVxuICAgIGdzKGUpIHtcbiAgICAgICAgLy8gTm90ZTogVGhlIGZ1bmN0aW9uIGlzIHR5cGVkIHRvIHRha2UgRXZlbnQgdG8gYmUgaW50ZXJmYWNlLWNvbXBhdGlibGUgd2l0aFxuICAgICAgICAvLyBgV2luZG93LmFkZEV2ZW50TGlzdGVuZXJgLlxuICAgICAgICBjb25zdCB0ID0gZTtcbiAgICAgICAgaWYgKHQuc3RvcmFnZUFyZWEgPT09IHRoaXMuc3RvcmFnZSkge1xuICAgICAgICAgICAgaWYgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlNoYXJlZENsaWVudFN0YXRlXCIsIFwiRVZFTlRcIiwgdC5rZXksIHQubmV3VmFsdWUpLCB0LmtleSA9PT0gdGhpcy53cykgcmV0dXJuIHZvaWQgX19QUklWQVRFX2xvZ0Vycm9yKFwiUmVjZWl2ZWQgV2ViU3RvcmFnZSBub3RpZmljYXRpb24gZm9yIGxvY2FsIGNoYW5nZS4gQW5vdGhlciBjbGllbnQgbWlnaHQgaGF2ZSBnYXJiYWdlLWNvbGxlY3RlZCBvdXIgc3RhdGVcIik7XG4gICAgICAgICAgICB0aGlzLm9pLmVucXVldWVSZXRyeWFibGUoKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zdGFydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChudWxsICE9PSB0LmtleSkgaWYgKHRoaXMuYnMudGVzdCh0LmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudWxsID09IHQubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy4kcyh0LmtleSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuVXMoZSwgbnVsbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IHRoaXMuV3ModC5rZXksIHQubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKSByZXR1cm4gdGhpcy5VcyhlLmNsaWVudElkLCBlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLkRzLnRlc3QodC5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gdC5uZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLkdzKHQua2V5LCB0Lm5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZSkgcmV0dXJuIHRoaXMuenMoZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5Dcy50ZXN0KHQua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG51bGwgIT09IHQubmV3VmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5qcyh0LmtleSwgdC5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUpIHJldHVybiB0aGlzLkhzKGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHQua2V5ID09PSB0aGlzLnZzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPT0gdC5uZXdWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLnhzKHQubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKSByZXR1cm4gdGhpcy5PcyhlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0LmtleSA9PT0gdGhpcy5Tcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZSA9IGZ1bmN0aW9uIF9fUFJJVkFURV9mcm9tV2ViU3RvcmFnZVNlcXVlbmNlTnVtYmVyKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdCA9IF9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZS5vZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVsbCAhPSBlKSB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gSlNPTi5wYXJzZShlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoXCJudW1iZXJcIiA9PSB0eXBlb2YgbiksIHQgPSBuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0Vycm9yKFwiU2hhcmVkQ2xpZW50U3RhdGVcIiwgXCJGYWlsZWQgdG8gcmVhZCBzZXF1ZW5jZSBudW1iZXIgZnJvbSBXZWJTdG9yYWdlXCIsIGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8qKlxuICogYE1lbW9yeVNoYXJlZENsaWVudFN0YXRlYCBpcyBhIHNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiBTaGFyZWRDbGllbnRTdGF0ZSBmb3JcbiAqIGNsaWVudHMgdXNpbmcgbWVtb3J5IHBlcnNpc3RlbmNlLiBUaGUgc3RhdGUgaW4gdGhpcyBjbGFzcyByZW1haW5zIGZ1bGx5XG4gKiBpc29sYXRlZCBhbmQgbm8gc3luY2hyb25pemF0aW9uIGlzIHBlcmZvcm1lZC5cbiAqLyAodC5uZXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlICE9PSBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2UgJiYgdGhpcy5zZXF1ZW5jZU51bWJlckhhbmRsZXIoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodC5rZXkgPT09IHRoaXMuRnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSB0aGlzLkpzKHQubmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoZS5tYXAoKGUgPT4gdGhpcy5zeW5jRW5naW5lLllzKGUpKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMueXMucHVzaCh0KTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQga3MoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBzLmdldCh0aGlzLlZzKTtcbiAgICB9XG4gICAgTXMoKSB7XG4gICAgICAgIHRoaXMuc2V0SXRlbSh0aGlzLndzLCB0aGlzLmtzLmRzKCkpO1xuICAgIH1cbiAgICBMcyhlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX011dGF0aW9uTWV0YWRhdGEodGhpcy5jdXJyZW50VXNlciwgZSwgdCwgbiksIGkgPSBjcmVhdGVXZWJTdG9yYWdlTXV0YXRpb25CYXRjaEtleSh0aGlzLnBlcnNpc3RlbmNlS2V5LCB0aGlzLmN1cnJlbnRVc2VyLCBlKTtcbiAgICAgICAgdGhpcy5zZXRJdGVtKGksIHIuZHMoKSk7XG4gICAgfVxuICAgIEJzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGNyZWF0ZVdlYlN0b3JhZ2VNdXRhdGlvbkJhdGNoS2V5KHRoaXMucGVyc2lzdGVuY2VLZXksIHRoaXMuY3VycmVudFVzZXIsIGUpO1xuICAgICAgICB0aGlzLnJlbW92ZUl0ZW0odCk7XG4gICAgfVxuICAgIFFzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHtcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLlZzLFxuICAgICAgICAgICAgb25saW5lU3RhdGU6IGVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0odGhpcy52cywgSlNPTi5zdHJpbmdpZnkodCkpO1xuICAgIH1cbiAgICBxcyhlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBjcmVhdGVXZWJTdG9yYWdlUXVlcnlUYXJnZXRNZXRhZGF0YUtleSh0aGlzLnBlcnNpc3RlbmNlS2V5LCBlKSwgaSA9IG5ldyBfX1BSSVZBVEVfUXVlcnlUYXJnZXRNZXRhZGF0YShlLCB0LCBuKTtcbiAgICAgICAgdGhpcy5zZXRJdGVtKHIsIGkuZHMoKSk7XG4gICAgfVxuICAgIEtzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IEpTT04uc3RyaW5naWZ5KEFycmF5LmZyb20oZSkpO1xuICAgICAgICB0aGlzLnNldEl0ZW0odGhpcy5GcywgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIGNsaWVudCBzdGF0ZSBrZXkgaW4gV2ViU3RvcmFnZS4gUmV0dXJucyBudWxsIGlmIHRoZSBrZXkgZG9lcyBub3RcbiAgICAgKiBtYXRjaCB0aGUgZXhwZWN0ZWQga2V5IGZvcm1hdC5cbiAgICAgKi8gICAgJHMoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5icy5leGVjKGUpO1xuICAgICAgICByZXR1cm4gdCA/IHRbMV0gOiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBjbGllbnQgc3RhdGUgaW4gV2ViU3RvcmFnZS4gUmV0dXJucyAnbnVsbCcgaWYgdGhlIHZhbHVlIGNvdWxkIG5vdFxuICAgICAqIGJlIHBhcnNlZC5cbiAgICAgKi8gICAgV3MoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy4kcyhlKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9SZW1vdGVDbGllbnRTdGF0ZS5FcyhuLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgbXV0YXRpb24gYmF0Y2ggc3RhdGUgaW4gV2ViU3RvcmFnZS4gUmV0dXJucyAnbnVsbCcgaWYgdGhlIHZhbHVlXG4gICAgICogY291bGQgbm90IGJlIHBhcnNlZC5cbiAgICAgKi8gICAgR3MoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5Ecy5leGVjKGUpLCByID0gTnVtYmVyKG5bMV0pLCBpID0gdm9pZCAwICE9PSBuWzJdID8gblsyXSA6IG51bGw7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfTXV0YXRpb25NZXRhZGF0YS5FcyhuZXcgVXNlcihpKSwgciwgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIHF1ZXJ5IHRhcmdldCBzdGF0ZSBmcm9tIFdlYlN0b3JhZ2UuIFJldHVybnMgJ251bGwnIGlmIHRoZSB2YWx1ZVxuICAgICAqIGNvdWxkIG5vdCBiZSBwYXJzZWQuXG4gICAgICovICAgIGpzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuQ3MuZXhlYyhlKSwgciA9IE51bWJlcihuWzFdKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9RdWVyeVRhcmdldE1ldGFkYXRhLkVzKHIsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYW4gb25saW5lIHN0YXRlIGZyb20gV2ViU3RvcmFnZS4gUmV0dXJucyAnbnVsbCcgaWYgdGhlIHZhbHVlXG4gICAgICogY291bGQgbm90IGJlIHBhcnNlZC5cbiAgICAgKi8gICAgeHMoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX1NoYXJlZE9ubGluZVN0YXRlLkVzKGUpO1xuICAgIH1cbiAgICBKcyhlKSB7XG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKGUpO1xuICAgIH1cbiAgICBhc3luYyB6cyhlKSB7XG4gICAgICAgIGlmIChlLnVzZXIudWlkID09PSB0aGlzLmN1cnJlbnRVc2VyLnVpZCkgcmV0dXJuIHRoaXMuc3luY0VuZ2luZS5acyhlLmJhdGNoSWQsIGUuc3RhdGUsIGUuZXJyb3IpO1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTaGFyZWRDbGllbnRTdGF0ZVwiLCBgSWdub3JpbmcgbXV0YXRpb24gZm9yIG5vbi1hY3RpdmUgdXNlciAke2UudXNlci51aWR9YCk7XG4gICAgfVxuICAgIEhzKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3luY0VuZ2luZS5YcyhlLnRhcmdldElkLCBlLnN0YXRlLCBlLmVycm9yKTtcbiAgICB9XG4gICAgVXMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdCA/IHRoaXMucHMuaW5zZXJ0KGUsIHQpIDogdGhpcy5wcy5yZW1vdmUoZSksIHIgPSB0aGlzLk5zKHRoaXMucHMpLCBpID0gdGhpcy5OcyhuKSwgcyA9IFtdLCBvID0gW107XG4gICAgICAgIHJldHVybiBpLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgci5oYXMoZSkgfHwgcy5wdXNoKGUpO1xuICAgICAgICB9KSksIHIuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICBpLmhhcyhlKSB8fCBvLnB1c2goZSk7XG4gICAgICAgIH0pKSwgdGhpcy5zeW5jRW5naW5lLmVvKHMsIG8pLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMucHMgPSBuO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIE9zKGUpIHtcbiAgICAgICAgLy8gV2UgY2hlY2sgd2hldGhlciB0aGUgY2xpZW50IHRoYXQgd3JvdGUgdGhpcyBvbmxpbmUgc3RhdGUgaXMgc3RpbGwgYWN0aXZlXG4gICAgICAgIC8vIGJ5IGNvbXBhcmluZyBpdHMgY2xpZW50IElEIHRvIHRoZSBsaXN0IG9mIGNsaWVudHMga2VwdCBhY3RpdmUgaW5cbiAgICAgICAgLy8gSW5kZXhlZERiLiBJZiBhIGNsaWVudCBkb2VzIG5vdCB1cGRhdGUgdGhlaXIgSW5kZXhlZERiIGNsaWVudCBzdGF0ZVxuICAgICAgICAvLyB3aXRoaW4gNSBzZWNvbmRzLCBpdCBpcyBjb25zaWRlcmVkIGluYWN0aXZlIGFuZCB3ZSBkb24ndCBlbWl0IGFuIG9ubGluZVxuICAgICAgICAvLyBzdGF0ZSBldmVudC5cbiAgICAgICAgdGhpcy5wcy5nZXQoZS5jbGllbnRJZCkgJiYgdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXIoZS5vbmxpbmVTdGF0ZSk7XG4gICAgfVxuICAgIE5zKGUpIHtcbiAgICAgICAgbGV0IHQgPSBfX1BSSVZBVEVfdGFyZ2V0SWRTZXQoKTtcbiAgICAgICAgcmV0dXJuIGUuZm9yRWFjaCgoKGUsIG4pID0+IHtcbiAgICAgICAgICAgIHQgPSB0LnVuaW9uV2l0aChuLmFjdGl2ZVRhcmdldElkcyk7XG4gICAgICAgIH0pKSwgdDtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9NZW1vcnlTaGFyZWRDbGllbnRTdGF0ZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMubm8gPSBuZXcgX19QUklWQVRFX0xvY2FsQ2xpZW50U3RhdGUsIHRoaXMucm8gPSB7fSwgdGhpcy5vbmxpbmVTdGF0ZUhhbmRsZXIgPSBudWxsLCBcbiAgICAgICAgdGhpcy5zZXF1ZW5jZU51bWJlckhhbmRsZXIgPSBudWxsO1xuICAgIH1cbiAgICBhZGRQZW5kaW5nTXV0YXRpb24oZSkge1xuICAgICAgICAvLyBObyBvcC5cbiAgICB9XG4gICAgdXBkYXRlTXV0YXRpb25TdGF0ZShlLCB0LCBuKSB7XG4gICAgICAgIC8vIE5vIG9wLlxuICAgIH1cbiAgICBhZGRMb2NhbFF1ZXJ5VGFyZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm8uQXMoZSksIHRoaXMucm9bZV0gfHwgXCJub3QtY3VycmVudFwiO1xuICAgIH1cbiAgICB1cGRhdGVRdWVyeVN0YXRlKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5yb1tlXSA9IHQ7XG4gICAgfVxuICAgIHJlbW92ZUxvY2FsUXVlcnlUYXJnZXQoZSkge1xuICAgICAgICB0aGlzLm5vLlJzKGUpO1xuICAgIH1cbiAgICBpc0xvY2FsUXVlcnlUYXJnZXQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5uby5hY3RpdmVUYXJnZXRJZHMuaGFzKGUpO1xuICAgIH1cbiAgICBjbGVhclF1ZXJ5U3RhdGUoZSkge1xuICAgICAgICBkZWxldGUgdGhpcy5yb1tlXTtcbiAgICB9XG4gICAgZ2V0QWxsQWN0aXZlUXVlcnlUYXJnZXRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uby5hY3RpdmVUYXJnZXRJZHM7XG4gICAgfVxuICAgIGlzQWN0aXZlUXVlcnlUYXJnZXQoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5uby5hY3RpdmVUYXJnZXRJZHMuaGFzKGUpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm8gPSBuZXcgX19QUklWQVRFX0xvY2FsQ2xpZW50U3RhdGUsIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBoYW5kbGVVc2VyQ2hhbmdlKGUsIHQsIG4pIHtcbiAgICAgICAgLy8gTm8gb3AuXG4gICAgfVxuICAgIHNldE9ubGluZVN0YXRlKGUpIHtcbiAgICAgICAgLy8gTm8gb3AuXG4gICAgfVxuICAgIHNodXRkb3duKCkge31cbiAgICB3cml0ZVNlcXVlbmNlTnVtYmVyKGUpIHt9XG4gICAgbm90aWZ5QnVuZGxlTG9hZGVkKGUpIHtcbiAgICAgICAgLy8gTm8gb3AuXG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTm9vcENvbm5lY3Rpdml0eU1vbml0b3Ige1xuICAgIGlvKGUpIHtcbiAgICAgICAgLy8gTm8tb3AuXG4gICAgfVxuICAgIHNodXRkb3duKCkge1xuICAgICAgICAvLyBOby1vcC5cbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE5IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vLyBSZWZlcmVuY2VzIHRvIGB3aW5kb3dgIGFyZSBndWFyZGVkIGJ5IEJyb3dzZXJDb25uZWN0aXZpdHlNb25pdG9yLmlzQXZhaWxhYmxlKClcbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuLyoqXG4gKiBCcm93c2VyIGltcGxlbWVudGF0aW9uIG9mIENvbm5lY3Rpdml0eU1vbml0b3IuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9Ccm93c2VyQ29ubmVjdGl2aXR5TW9uaXRvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc28gPSAoKSA9PiB0aGlzLm9vKCksIHRoaXMuX28gPSAoKSA9PiB0aGlzLmFvKCksIHRoaXMudW8gPSBbXSwgdGhpcy5jbygpO1xuICAgIH1cbiAgICBpbyhlKSB7XG4gICAgICAgIHRoaXMudW8ucHVzaChlKTtcbiAgICB9XG4gICAgc2h1dGRvd24oKSB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwib25saW5lXCIsIHRoaXMuc28pLCB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwgdGhpcy5fbyk7XG4gICAgfVxuICAgIGNvKCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCB0aGlzLnNvKSwgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsIHRoaXMuX28pO1xuICAgIH1cbiAgICBvbygpIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiQ29ubmVjdGl2aXR5TW9uaXRvclwiLCBcIk5ldHdvcmsgY29ubmVjdGl2aXR5IGNoYW5nZWQ6IEFWQUlMQUJMRVwiKTtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHRoaXMudW8pIGUoMCAvKiBOZXR3b3JrU3RhdHVzLkFWQUlMQUJMRSAqLyk7XG4gICAgfVxuICAgIGFvKCkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJDb25uZWN0aXZpdHlNb25pdG9yXCIsIFwiTmV0d29yayBjb25uZWN0aXZpdHkgY2hhbmdlZDogVU5BVkFJTEFCTEVcIik7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0aGlzLnVvKSBlKDEgLyogTmV0d29ya1N0YXR1cy5VTkFWQUlMQUJMRSAqLyk7XG4gICAgfVxuICAgIC8vIFRPRE8oY2hlbmJyaWFuKTogQ29uc2lkZXIgcGFzc2luZyBpbiB3aW5kb3cgZWl0aGVyIGludG8gdGhpcyBjb21wb25lbnQgb3JcbiAgICAvLyBoZXJlIGZvciB0ZXN0aW5nIHZpYSBGYWtlV2luZG93LlxuICAgIC8qKiBDaGVja3MgdGhhdCBhbGwgdXNlZCBhdHRyaWJ1dGVzIG9mIHdpbmRvdyBhcmUgYXZhaWxhYmxlLiAqL1xuICAgIHN0YXRpYyBEKCkge1xuICAgICAgICByZXR1cm4gXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2Ygd2luZG93ICYmIHZvaWQgMCAhPT0gd2luZG93LmFkZEV2ZW50TGlzdGVuZXIgJiYgdm9pZCAwICE9PSB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRoZSB2YWx1ZSByZXR1cm5lZCBmcm9tIHRoZSBtb3N0IHJlY2VudCBpbnZvY2F0aW9uIG9mXG4gKiBgZ2VuZXJhdGVVbmlxdWVEZWJ1Z0lkKClgLCBvciBudWxsIGlmIGl0IGhhcyBuZXZlciBiZWVuIGludm9rZWQuXG4gKi8gbGV0IFZlID0gbnVsbDtcblxuLyoqXG4gKiBHZW5lcmF0ZXMgYW5kIHJldHVybnMgYW4gaW5pdGlhbCB2YWx1ZSBmb3IgYGxhc3RVbmlxdWVEZWJ1Z0lkYC5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgdmFsdWUgaXMgcmFuZG9tbHkgc2VsZWN0ZWQgZnJvbSBhIHJhbmdlIG9mIGludGVnZXJzIHRoYXQgYXJlXG4gKiByZXByZXNlbnRlZCBhcyA4IGhleGFkZWNpbWFsIGRpZ2l0cy4gVGhpcyBtZWFucyB0aGF0ICh3aXRoaW4gcmVhc29uKSBhbnlcbiAqIG51bWJlcnMgZ2VuZXJhdGVkIGJ5IGluY3JlbWVudGluZyB0aGUgcmV0dXJuZWQgbnVtYmVyIGJ5IDEgd2lsbCBhbHNvIGJlXG4gKiByZXByZXNlbnRlZCBieSA4IGhleGFkZWNpbWFsIGRpZ2l0cy4gVGhpcyBsZWFkcyB0byBhbGwgXCJJRHNcIiBoYXZpbmcgdGhlIHNhbWVcbiAqIGxlbmd0aCB3aGVuIGNvbnZlcnRlZCB0byBhIGhleGFkZWNpbWFsIHN0cmluZywgbWFraW5nIHJlYWRpbmcgbG9ncyBjb250YWluaW5nXG4gKiB0aGVzZSBJRHMgZWFzaWVyIHRvIGZvbGxvdy4gQW5kIHNpbmNlIHRoZSByZXR1cm4gdmFsdWUgaXMgcmFuZG9tbHkgc2VsZWN0ZWRcbiAqIGl0IHdpbGwgaGVscCB0byBkaWZmZXJlbnRpYXRlIGJldHdlZW4gbG9ncyBmcm9tIGRpZmZlcmVudCBleGVjdXRpb25zLlxuICovXG4vKipcbiAqIEdlbmVyYXRlcyBhbmQgcmV0dXJucyBhIHVuaXF1ZSBJRCBhcyBhIGhleGFkZWNpbWFsIHN0cmluZy5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgSUQgaXMgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbiBkZWJ1ZyBsb2dnaW5nIG1lc3NhZ2VzIHRvIGhlbHBcbiAqIGNvcnJlbGF0ZSBsb2cgbWVzc2FnZXMgdGhhdCBtYXkgYmUgc3BhdGlhbGx5IHNlcGFyYXRlZCBpbiB0aGUgbG9ncywgYnV0XG4gKiBsb2dpY2FsbHkgcmVsYXRlZC4gRm9yIGV4YW1wbGUsIGEgbmV0d29yayBjb25uZWN0aW9uIGNvdWxkIGluY2x1ZGUgdGhlIHNhbWVcbiAqIFwiZGVidWcgSURcIiBzdHJpbmcgaW4gYWxsIG9mIGl0cyBsb2cgbWVzc2FnZXMgdG8gaGVscCB0cmFjZSBhIHNwZWNpZmljXG4gKiBjb25uZWN0aW9uIG92ZXIgdGltZS5cbiAqXG4gKiBAcmV0dXJuIHRoZSAxMC1jaGFyYWN0ZXIgZ2VuZXJhdGVkIElEIChlLmcuIFwiMHhhMWIyYzNkNFwiKS5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2dlbmVyYXRlVW5pcXVlRGVidWdJZCgpIHtcbiAgICByZXR1cm4gbnVsbCA9PT0gVmUgPyBWZSA9IGZ1bmN0aW9uIF9fUFJJVkFURV9nZW5lcmF0ZUluaXRpYWxVbmlxdWVEZWJ1Z0lkKCkge1xuICAgICAgICByZXR1cm4gMjY4NDM1NDU2ICsgTWF0aC5yb3VuZCgyMTQ3NDgzNjQ4ICogTWF0aC5yYW5kb20oKSk7XG4gICAgfSgpIDogVmUrKywgXCIweFwiICsgVmUudG9TdHJpbmcoMTYpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjb25zdCBtZSA9IHtcbiAgICBCYXRjaEdldERvY3VtZW50czogXCJiYXRjaEdldFwiLFxuICAgIENvbW1pdDogXCJjb21taXRcIixcbiAgICBSdW5RdWVyeTogXCJydW5RdWVyeVwiLFxuICAgIFJ1bkFnZ3JlZ2F0aW9uUXVlcnk6IFwicnVuQWdncmVnYXRpb25RdWVyeVwiXG59O1xuXG4vKipcbiAqIE1hcHMgUlBDIG5hbWVzIHRvIHRoZSBjb3JyZXNwb25kaW5nIFJFU1QgZW5kcG9pbnQgbmFtZS5cbiAqXG4gKiBXZSB1c2UgYXJyYXkgbm90YXRpb24gdG8gYXZvaWQgbWFuZ2xpbmcuXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFByb3ZpZGVzIGEgc2ltcGxlIGhlbHBlciBjbGFzcyB0aGF0IGltcGxlbWVudHMgdGhlIFN0cmVhbSBpbnRlcmZhY2UgdG9cbiAqIGJyaWRnZSB0byBvdGhlciBpbXBsZW1lbnRhdGlvbnMgdGhhdCBhcmUgc3RyZWFtcyBidXQgZG8gbm90IGltcGxlbWVudCB0aGVcbiAqIGludGVyZmFjZS4gVGhlIHN0cmVhbSBjYWxsYmFja3MgYXJlIGludm9rZWQgd2l0aCB0aGUgY2FsbE9uLi4uIG1ldGhvZHMuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9TdHJlYW1CcmlkZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5sbyA9IGUubG8sIHRoaXMuaG8gPSBlLmhvO1xuICAgIH1cbiAgICBQbyhlKSB7XG4gICAgICAgIHRoaXMuSW8gPSBlO1xuICAgIH1cbiAgICBUbyhlKSB7XG4gICAgICAgIHRoaXMuRW8gPSBlO1xuICAgIH1cbiAgICBBbyhlKSB7XG4gICAgICAgIHRoaXMuUm8gPSBlO1xuICAgIH1cbiAgICBvbk1lc3NhZ2UoZSkge1xuICAgICAgICB0aGlzLlZvID0gZTtcbiAgICB9XG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuaG8oKTtcbiAgICB9XG4gICAgc2VuZChlKSB7XG4gICAgICAgIHRoaXMubG8oZSk7XG4gICAgfVxuICAgIG1vKCkge1xuICAgICAgICB0aGlzLklvKCk7XG4gICAgfVxuICAgIGZvKCkge1xuICAgICAgICB0aGlzLkVvKCk7XG4gICAgfVxuICAgIHBvKGUpIHtcbiAgICAgICAgdGhpcy5SbyhlKTtcbiAgICB9XG4gICAgeW8oZSkge1xuICAgICAgICB0aGlzLlZvKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY29uc3QgZmUgPSBcIldlYkNoYW5uZWxDb25uZWN0aW9uXCI7XG5cbmNsYXNzIF9fUFJJVkFURV9XZWJDaGFubmVsQ29ubmVjdGlvbiBleHRlbmRzIFxuLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgUmVzdC1iYXNlZCBjb25uZWN0aW9ucyB0byB0aGUgYmFja2VuZCAoV2ViQ2hhbm5lbCBhbmRcbiAqIEhUVFApLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfUmVzdENvbm5lY3Rpb24ge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5kYXRhYmFzZUluZm8gPSBlLCB0aGlzLmRhdGFiYXNlSWQgPSBlLmRhdGFiYXNlSWQ7XG4gICAgICAgIGNvbnN0IHQgPSBlLnNzbCA/IFwiaHR0cHNcIiA6IFwiaHR0cFwiLCBuID0gZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZGF0YWJhc2VJZC5wcm9qZWN0SWQpLCByID0gZW5jb2RlVVJJQ29tcG9uZW50KHRoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZSk7XG4gICAgICAgIHRoaXMud28gPSB0ICsgXCI6Ly9cIiArIGUuaG9zdCwgdGhpcy5TbyA9IGBwcm9qZWN0cy8ke259L2RhdGFiYXNlcy8ke3J9YCwgdGhpcy5ibyA9IFwiKGRlZmF1bHQpXCIgPT09IHRoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZSA/IGBwcm9qZWN0X2lkPSR7bn1gIDogYHByb2plY3RfaWQ9JHtufSZkYXRhYmFzZV9pZD0ke3J9YDtcbiAgICB9XG4gICAgZ2V0IERvKCkge1xuICAgICAgICAvLyBCb3RoIGBpbnZva2VSUEMoKWAgYW5kIGBpbnZva2VTdHJlYW1pbmdSUEMoKWAgdXNlIHRoZWlyIGBwYXRoYCBhcmd1bWVudHMgdG8gZGV0ZXJtaW5lXG4gICAgICAgIC8vIHdoZXJlIHRvIHJ1biB0aGUgcXVlcnksIGFuZCBleHBlY3QgdGhlIGByZXF1ZXN0YCB0byBOT1Qgc3BlY2lmeSB0aGUgXCJwYXRoXCIuXG4gICAgICAgIHJldHVybiAhMTtcbiAgICB9XG4gICAgQ28oZSwgdCwgbiwgciwgaSkge1xuICAgICAgICBjb25zdCBzID0gX19QUklWQVRFX2dlbmVyYXRlVW5pcXVlRGVidWdJZCgpLCBvID0gdGhpcy52byhlLCB0LnRvVXJpRW5jb2RlZFN0cmluZygpKTtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiUmVzdENvbm5lY3Rpb25cIiwgYFNlbmRpbmcgUlBDICcke2V9JyAke3N9OmAsIG8sIG4pO1xuICAgICAgICBjb25zdCBfID0ge1xuICAgICAgICAgICAgXCJnb29nbGUtY2xvdWQtcmVzb3VyY2UtcHJlZml4XCI6IHRoaXMuU28sXG4gICAgICAgICAgICBcIngtZ29vZy1yZXF1ZXN0LXBhcmFtc1wiOiB0aGlzLmJvXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB0aGlzLkZvKF8sIHIsIGkpLCB0aGlzLk1vKGUsIG8sIF8sIG4pLnRoZW4oKHQgPT4gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlc3RDb25uZWN0aW9uXCIsIGBSZWNlaXZlZCBSUEMgJyR7ZX0nICR7c306IGAsIHQpLCBcbiAgICAgICAgdCkpLCAodCA9PiB7XG4gICAgICAgICAgICB0aHJvdyBfX1BSSVZBVEVfbG9nV2FybihcIlJlc3RDb25uZWN0aW9uXCIsIGBSUEMgJyR7ZX0nICR7c30gZmFpbGVkIHdpdGggZXJyb3I6IGAsIHQsIFwidXJsOiBcIiwgbywgXCJyZXF1ZXN0OlwiLCBuKSwgXG4gICAgICAgICAgICB0O1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHhvKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgLy8gVGhlIFJFU1QgQVBJIGF1dG9tYXRpY2FsbHkgYWdncmVnYXRlcyBhbGwgb2YgdGhlIHN0cmVhbWVkIHJlc3VsdHMsIHNvIHdlXG4gICAgICAgIC8vIGNhbiBqdXN0IHVzZSB0aGUgbm9ybWFsIGludm9rZSgpIG1ldGhvZC5cbiAgICAgICAgcmV0dXJuIHRoaXMuQ28oZSwgdCwgbiwgciwgaSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIHRoZSBoZWFkZXJzIGZvciBhIHJlcXVlc3QsIGFkZGluZyBhbnkgYXV0aG9yaXphdGlvbiB0b2tlbiBpZlxuICAgICAqIHByZXNlbnQgYW5kIGFueSBhZGRpdGlvbmFsIGhlYWRlcnMgZm9yIHRoZSByZXF1ZXN0LlxuICAgICAqLyAgICBGbyhlLCB0LCBuKSB7XG4gICAgICAgIGVbXCJYLUdvb2ctQXBpLUNsaWVudFwiXSA9IFxuICAgICAgICAvLyBTREtfVkVSU0lPTiBpcyB1cGRhdGVkIHRvIGRpZmZlcmVudCB2YWx1ZSBhdCBydW50aW1lIGRlcGVuZGluZyBvbiB0aGUgZW50cnkgcG9pbnQsXG4gICAgICAgIC8vIHNvIHdlIG5lZWQgdG8gZ2V0IGl0cyB2YWx1ZSB3aGVuIHdlIG5lZWQgaXQgaW4gYSBmdW5jdGlvbi5cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2dldEdvb2dBcGlDbGllbnRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBcImdsLWpzLyBmaXJlL1wiICsgYjtcbiAgICAgICAgfSgpLCBcbiAgICAgICAgLy8gQ29udGVudC1UeXBlOiB0ZXh0L3BsYWluIHdpbGwgYXZvaWQgcHJlZmxpZ2h0IHJlcXVlc3RzIHdoaWNoIG1pZ2h0XG4gICAgICAgIC8vIG1lc3Mgd2l0aCBDT1JTIGFuZCByZWRpcmVjdHMgYnkgcHJveGllcy4gSWYgd2UgYWRkIGN1c3RvbSBoZWFkZXJzXG4gICAgICAgIC8vIHdlIHdpbGwgbmVlZCB0byBjaGFuZ2UgdGhpcyBjb2RlIHRvIHBvdGVudGlhbGx5IHVzZSB0aGUgJGh0dHBPdmVyd3JpdGVcbiAgICAgICAgLy8gcGFyYW1ldGVyIHN1cHBvcnRlZCBieSBFU0YgdG8gYXZvaWQgdHJpZ2dlcmluZyBwcmVmbGlnaHQgcmVxdWVzdHMuXG4gICAgICAgIGVbXCJDb250ZW50LVR5cGVcIl0gPSBcInRleHQvcGxhaW5cIiwgdGhpcy5kYXRhYmFzZUluZm8uYXBwSWQgJiYgKGVbXCJYLUZpcmViYXNlLUdNUElEXCJdID0gdGhpcy5kYXRhYmFzZUluZm8uYXBwSWQpLCBcbiAgICAgICAgdCAmJiB0LmhlYWRlcnMuZm9yRWFjaCgoKHQsIG4pID0+IGVbbl0gPSB0KSksIG4gJiYgbi5oZWFkZXJzLmZvckVhY2goKCh0LCBuKSA9PiBlW25dID0gdCkpO1xuICAgIH1cbiAgICB2byhlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBtZVtlXTtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMud299L3YxLyR7dH06JHtufWA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyBhbmQgY2xlYW5zIHVwIGFueSByZXNvdXJjZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBjb25uZWN0aW9uLiBUaGlzXG4gICAgICogaW1wbGVtZW50YXRpb24gaXMgYSBuby1vcCBiZWNhdXNlIHRoZXJlIGFyZSBubyByZXNvdXJjZXMgYXNzb2NpYXRlZFxuICAgICAqIHdpdGggdGhlIFJlc3RDb25uZWN0aW9uIHRoYXQgbmVlZCB0byBiZSBjbGVhbmVkIHVwLlxuICAgICAqLyAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIC8vIE5vLW9wXG4gICAgfVxufSB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcihlKSwgdGhpcy5mb3JjZUxvbmdQb2xsaW5nID0gZS5mb3JjZUxvbmdQb2xsaW5nLCB0aGlzLmF1dG9EZXRlY3RMb25nUG9sbGluZyA9IGUuYXV0b0RldGVjdExvbmdQb2xsaW5nLCBcbiAgICAgICAgdGhpcy51c2VGZXRjaFN0cmVhbXMgPSBlLnVzZUZldGNoU3RyZWFtcywgdGhpcy5sb25nUG9sbGluZ09wdGlvbnMgPSBlLmxvbmdQb2xsaW5nT3B0aW9ucztcbiAgICB9XG4gICAgTW8oZSwgdCwgbiwgcikge1xuICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2dlbmVyYXRlVW5pcXVlRGVidWdJZCgpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKChzLCBvKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBfID0gbmV3IHdlYmNoYW5uZWxCbG9iLlhocklvO1xuICAgICAgICAgICAgXy5zZXRXaXRoQ3JlZGVudGlhbHMoITApLCBfLmxpc3Rlbk9uY2Uod2ViY2hhbm5lbEJsb2IuRXZlbnRUeXBlLkNPTVBMRVRFLCAoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoXy5nZXRMYXN0RXJyb3JDb2RlKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYXNlIHdlYmNoYW5uZWxCbG9iLkVycm9yQ29kZS5OT19FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfLmdldFJlc3BvbnNlSnNvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgWEhSIGZvciBSUEMgJyR7ZX0nICR7aX0gcmVjZWl2ZWQ6YCwgSlNPTi5zdHJpbmdpZnkodCkpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgIHModCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2ViY2hhbm5lbEJsb2IuRXJyb3JDb2RlLlRJTUVPVVQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBSUEMgJyR7ZX0nICR7aX0gdGltZWQgb3V0YCksIG8obmV3IEZpcmVzdG9yZUVycm9yKEMuREVBRExJTkVfRVhDRUVERUQsIFwiUmVxdWVzdCB0aW1lIG91dFwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgICAgICAgIGNhc2Ugd2ViY2hhbm5lbEJsb2IuRXJyb3JDb2RlLkhUVFBfRVJST1I6XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuID0gXy5nZXRTdGF0dXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBSUEMgJyR7ZX0nICR7aX0gZmFpbGVkIHdpdGggc3RhdHVzOmAsIG4sIFwicmVzcG9uc2UgdGV4dDpcIiwgXy5nZXRSZXNwb25zZVRleHQoKSksIFxuICAgICAgICAgICAgICAgICAgICAgICAgbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgZSA9IF8uZ2V0UmVzcG9uc2VKc29uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShlKSAmJiAoZSA9IGVbMF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBudWxsID09IGUgPyB2b2lkIDAgOiBlLmVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIHQuc3RhdHVzICYmIHQubWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gZnVuY3Rpb24gX19QUklWQVRFX21hcENvZGVGcm9tSHR0cFJlc3BvbnNlRXJyb3JTdGF0dXMoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGUudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csIFwiLVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKEMpLmluZGV4T2YodCkgPj0gMCA/IHQgOiBDLlVOS05PV047XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0odC5zdGF0dXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvKG5ldyBGaXJlc3RvcmVFcnJvcihlLCB0Lm1lc3NhZ2UpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgbyhuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTktOT1dOLCBcIlNlcnZlciByZXNwb25kZWQgd2l0aCBzdGF0dXMgXCIgKyBfLmdldFN0YXR1cygpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSByZWNlaXZlZCBhbiBIVFRQX0VSUk9SIGJ1dCB0aGVyZSdzIG5vIHN0YXR1cyBjb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQncyBtb3N0IHByb2JhYmx5IGEgY29ubmVjdGlvbiBpc3N1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgbyhuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTkFWQUlMQUJMRSwgXCJDb25uZWN0aW9uIGZhaWxlZC5cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyAke2l9IGNvbXBsZXRlZC5gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICBjb25zdCBhID0gSlNPTi5zdHJpbmdpZnkocik7XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBSUEMgJyR7ZX0nICR7aX0gc2VuZGluZyByZXF1ZXN0OmAsIHIpLCBfLnNlbmQodCwgXCJQT1NUXCIsIGEsIG4sIDE1KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBPbyhlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZ2VuZXJhdGVVbmlxdWVEZWJ1Z0lkKCksIGkgPSBbIHRoaXMud28sIFwiL1wiLCBcImdvb2dsZS5maXJlc3RvcmUudjEuRmlyZXN0b3JlXCIsIFwiL1wiLCBlLCBcIi9jaGFubmVsXCIgXSwgcyA9IHdlYmNoYW5uZWxCbG9iLmNyZWF0ZVdlYkNoYW5uZWxUcmFuc3BvcnQoKSwgbyA9IHdlYmNoYW5uZWxCbG9iLmdldFN0YXRFdmVudFRhcmdldCgpLCBfID0ge1xuICAgICAgICAgICAgLy8gUmVxdWlyZWQgZm9yIGJhY2tlbmQgc3RpY2tpbmVzcywgcm91dGluZyBiZWhhdmlvciBpcyBiYXNlZCBvbiB0aGlzXG4gICAgICAgICAgICAvLyBwYXJhbWV0ZXIuXG4gICAgICAgICAgICBodHRwU2Vzc2lvbklkUGFyYW06IFwiZ3Nlc3Npb25pZFwiLFxuICAgICAgICAgICAgaW5pdE1lc3NhZ2VIZWFkZXJzOiB7fSxcbiAgICAgICAgICAgIG1lc3NhZ2VVcmxQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIHBhcmFtIGlzIHVzZWQgdG8gaW1wcm92ZSByb3V0aW5nIGFuZCBwcm9qZWN0IGlzb2xhdGlvbiBieSB0aGVcbiAgICAgICAgICAgICAgICAvLyBiYWNrZW5kIGFuZCBtdXN0IGJlIGluY2x1ZGVkIGluIGV2ZXJ5IHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgZGF0YWJhc2U6IGBwcm9qZWN0cy8ke3RoaXMuZGF0YWJhc2VJZC5wcm9qZWN0SWR9L2RhdGFiYXNlcy8ke3RoaXMuZGF0YWJhc2VJZC5kYXRhYmFzZX1gXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VuZFJhd0pzb246ICEwLFxuICAgICAgICAgICAgc3VwcG9ydHNDcm9zc0RvbWFpblhocjogITAsXG4gICAgICAgICAgICBpbnRlcm5hbENoYW5uZWxQYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAvLyBPdmVycmlkZSB0aGUgZGVmYXVsdCB0aW1lb3V0IChyYW5kb21pemVkIGJldHdlZW4gMTAtMjAgc2Vjb25kcykgc2luY2VcbiAgICAgICAgICAgICAgICAvLyBhIGxhcmdlIHdyaXRlIGJhdGNoIG9uIGEgc2xvdyBpbnRlcm5ldCBjb25uZWN0aW9uIG1heSB0YWtlIGEgbG9uZ1xuICAgICAgICAgICAgICAgIC8vIHRpbWUgdG8gc2VuZCB0byB0aGUgYmFja2VuZC4gUmF0aGVyIHRoYW4gaGF2ZSBXZWJDaGFubmVsIGltcG9zZSBhXG4gICAgICAgICAgICAgICAgLy8gdGlnaHQgdGltZW91dCB3aGljaCBjb3VsZCBsZWFkIHRvIGluZmluaXRlIHRpbWVvdXRzIGFuZCByZXRyaWVzLCB3ZVxuICAgICAgICAgICAgICAgIC8vIHNldCBpdCB2ZXJ5IGxhcmdlICg1LTEwIG1pbnV0ZXMpIGFuZCByZWx5IG9uIHRoZSBicm93c2VyJ3MgYnVpbHRpblxuICAgICAgICAgICAgICAgIC8vIHRpbWVvdXRzIHRvIGtpY2sgaW4gaWYgdGhlIHJlcXVlc3QgaXNuJ3Qgd29ya2luZy5cbiAgICAgICAgICAgICAgICBmb3J3YXJkQ2hhbm5lbFJlcXVlc3RUaW1lb3V0TXM6IDZlNVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcmNlTG9uZ1BvbGxpbmc6IHRoaXMuZm9yY2VMb25nUG9sbGluZyxcbiAgICAgICAgICAgIGRldGVjdEJ1ZmZlcmluZ1Byb3h5OiB0aGlzLmF1dG9EZXRlY3RMb25nUG9sbGluZ1xuICAgICAgICB9LCBhID0gdGhpcy5sb25nUG9sbGluZ09wdGlvbnMudGltZW91dFNlY29uZHM7XG4gICAgICAgIHZvaWQgMCAhPT0gYSAmJiAoXy5sb25nUG9sbGluZ1RpbWVvdXQgPSBNYXRoLnJvdW5kKDFlMyAqIGEpKSwgdGhpcy51c2VGZXRjaFN0cmVhbXMgJiYgKF8ueG1sSHR0cEZhY3RvcnkgPSBuZXcgd2ViY2hhbm5lbEJsb2IuRmV0Y2hYbWxIdHRwRmFjdG9yeSh7fSkpLCBcbiAgICAgICAgdGhpcy5GbyhfLmluaXRNZXNzYWdlSGVhZGVycywgdCwgbiksIFxuICAgICAgICAvLyBTZW5kaW5nIHRoZSBjdXN0b20gaGVhZGVycyB3ZSBqdXN0IGFkZGVkIHRvIHJlcXVlc3QuaW5pdE1lc3NhZ2VIZWFkZXJzXG4gICAgICAgIC8vIChBdXRob3JpemF0aW9uLCBldGMuKSB3aWxsIHRyaWdnZXIgdGhlIGJyb3dzZXIgdG8gbWFrZSBhIENPUlMgcHJlZmxpZ2h0XG4gICAgICAgIC8vIHJlcXVlc3QgYmVjYXVzZSB0aGUgWEhSIHdpbGwgbm8gbG9uZ2VyIG1lZXQgdGhlIGNyaXRlcmlhIGZvciBhIFwic2ltcGxlXCJcbiAgICAgICAgLy8gQ09SUyByZXF1ZXN0OlxuICAgICAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0NPUlMjU2ltcGxlX3JlcXVlc3RzXG4gICAgICAgIC8vIFRoZXJlZm9yZSB0byBhdm9pZCB0aGUgQ09SUyBwcmVmbGlnaHQgcmVxdWVzdCAoYW4gZXh0cmEgbmV0d29ya1xuICAgICAgICAvLyByb3VuZHRyaXApLCB3ZSB1c2UgdGhlIGVuY29kZUluaXRNZXNzYWdlSGVhZGVycyBvcHRpb24gdG8gc3BlY2lmeSB0aGF0XG4gICAgICAgIC8vIHRoZSBoZWFkZXJzIHNob3VsZCBpbnN0ZWFkIGJlIGVuY29kZWQgaW4gdGhlIHJlcXVlc3QncyBQT1NUIHBheWxvYWQsXG4gICAgICAgIC8vIHdoaWNoIGlzIHJlY29nbml6ZWQgYnkgdGhlIHdlYmNoYW5uZWwgYmFja2VuZC5cbiAgICAgICAgXy5lbmNvZGVJbml0TWVzc2FnZUhlYWRlcnMgPSAhMDtcbiAgICAgICAgY29uc3QgdSA9IGkuam9pbihcIlwiKTtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgQ3JlYXRpbmcgUlBDICcke2V9JyBzdHJlYW0gJHtyfTogJHt1fWAsIF8pO1xuICAgICAgICBjb25zdCBjID0gcy5jcmVhdGVXZWJDaGFubmVsKHUsIF8pO1xuICAgICAgICAvLyBXZWJDaGFubmVsIHN1cHBvcnRzIHNlbmRpbmcgdGhlIGZpcnN0IG1lc3NhZ2Ugd2l0aCB0aGUgaGFuZHNoYWtlIC0gc2F2aW5nXG4gICAgICAgIC8vIGEgbmV0d29yayByb3VuZCB0cmlwLiBIb3dldmVyLCBpdCB3aWxsIGhhdmUgdG8gY2FsbCBzZW5kIGluIHRoZSBzYW1lXG4gICAgICAgIC8vIEpTIGV2ZW50IGxvb3AgYXMgb3Blbi4gSW4gb3JkZXIgdG8gZW5mb3JjZSB0aGlzLCB3ZSBkZWxheSBhY3R1YWxseVxuICAgICAgICAvLyBvcGVuaW5nIHRoZSBXZWJDaGFubmVsIHVudGlsIHNlbmQgaXMgY2FsbGVkLiBXaGV0aGVyIHdlIGhhdmUgY2FsbGVkXG4gICAgICAgIC8vIG9wZW4gaXMgdHJhY2tlZCB3aXRoIHRoaXMgdmFyaWFibGUuXG4gICAgICAgICAgICAgICAgbGV0IGwgPSAhMSwgaCA9ICExO1xuICAgICAgICAvLyBBIGZsYWcgdG8gZGV0ZXJtaW5lIHdoZXRoZXIgdGhlIHN0cmVhbSB3YXMgY2xvc2VkIChieSB1cyBvciB0aHJvdWdoIGFuXG4gICAgICAgIC8vIGVycm9yL2Nsb3NlIGV2ZW50KSB0byBhdm9pZCBkZWxpdmVyaW5nIG11bHRpcGxlIGNsb3NlIGV2ZW50cyBvciBzZW5kaW5nXG4gICAgICAgIC8vIG9uIGEgY2xvc2VkIHN0cmVhbVxuICAgICAgICAgICAgICAgIGNvbnN0IFAgPSBuZXcgX19QUklWQVRFX1N0cmVhbUJyaWRnZSh7XG4gICAgICAgICAgICBsbzogdCA9PiB7XG4gICAgICAgICAgICAgICAgaCA/IF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYE5vdCBzZW5kaW5nIGJlY2F1c2UgUlBDICcke2V9JyBzdHJlYW0gJHtyfSBpcyBjbG9zZWQ6YCwgdCkgOiAobCB8fCAoX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgT3BlbmluZyBSUEMgJyR7ZX0nIHN0cmVhbSAke3J9IHRyYW5zcG9ydC5gKSwgXG4gICAgICAgICAgICAgICAgYy5vcGVuKCksIGwgPSAhMCksIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gc2VuZGluZzpgLCB0KSwgXG4gICAgICAgICAgICAgICAgYy5zZW5kKHQpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBobzogKCkgPT4gYy5jbG9zZSgpXG4gICAgICAgIH0pLCBfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4gPSAoZSwgdCwgbikgPT4ge1xuICAgICAgICAgICAgLy8gVE9ETyhkaW1vbmQpOiBjbG9zdXJlIHR5cGluZyBzZWVtcyBicm9rZW4gYmVjYXVzZSBXZWJDaGFubmVsIGRvZXNcbiAgICAgICAgICAgIC8vIG5vdCBpbXBsZW1lbnQgZ29vZy5ldmVudHMuTGlzdGVuYWJsZVxuICAgICAgICAgICAgZS5saXN0ZW4odCwgKGUgPT4ge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIG4oZSk7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICB9KSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICAvLyBDbG9zdXJlIGV2ZW50cyBhcmUgZ3VhcmRlZCBhbmQgZXhjZXB0aW9ucyBhcmUgc3dhbGxvd2VkLCBzbyBjYXRjaCBhbnlcbiAgICAgICAgLy8gZXhjZXB0aW9uIGFuZCByZXRocm93IHVzaW5nIGEgc2V0VGltZW91dCBzbyB0aGV5IGJlY29tZSB2aXNpYmxlIGFnYWluLlxuICAgICAgICAvLyBOb3RlIHRoYXQgZXZlbnR1YWxseSB0aGlzIGZ1bmN0aW9uIGNvdWxkIGdvIGF3YXkgaWYgd2UgYXJlIGNvbmZpZGVudFxuICAgICAgICAvLyBlbm91Z2ggdGhlIGNvZGUgaXMgZXhjZXB0aW9uIGZyZWUuXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9fUFJJVkFURV91bmd1YXJkZWRFdmVudExpc3RlbihjLCB3ZWJjaGFubmVsQmxvYi5XZWJDaGFubmVsLkV2ZW50VHlwZS5PUEVOLCAoKCkgPT4ge1xuICAgICAgICAgICAgaCB8fCAoX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyBzdHJlYW0gJHtyfSB0cmFuc3BvcnQgb3BlbmVkLmApLCBQLm1vKCkpO1xuICAgICAgICB9KSksIF9fUFJJVkFURV91bmd1YXJkZWRFdmVudExpc3RlbihjLCB3ZWJjaGFubmVsQmxvYi5XZWJDaGFubmVsLkV2ZW50VHlwZS5DTE9TRSwgKCgpID0+IHtcbiAgICAgICAgICAgIGggfHwgKGggPSAhMCwgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyBzdHJlYW0gJHtyfSB0cmFuc3BvcnQgY2xvc2VkYCksIFxuICAgICAgICAgICAgUC5wbygpKTtcbiAgICAgICAgfSkpLCBfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4oYywgd2ViY2hhbm5lbEJsb2IuV2ViQ2hhbm5lbC5FdmVudFR5cGUuRVJST1IsICh0ID0+IHtcbiAgICAgICAgICAgIGggfHwgKGggPSAhMCwgX19QUklWQVRFX2xvZ1dhcm4oZmUsIGBSUEMgJyR7ZX0nIHN0cmVhbSAke3J9IHRyYW5zcG9ydCBlcnJvcmVkOmAsIHQpLCBcbiAgICAgICAgICAgIFAucG8obmV3IEZpcmVzdG9yZUVycm9yKEMuVU5BVkFJTEFCTEUsIFwiVGhlIG9wZXJhdGlvbiBjb3VsZCBub3QgYmUgY29tcGxldGVkXCIpKSk7XG4gICAgICAgIH0pKSwgX19QUklWQVRFX3VuZ3VhcmRlZEV2ZW50TGlzdGVuKGMsIHdlYmNoYW5uZWxCbG9iLldlYkNoYW5uZWwuRXZlbnRUeXBlLk1FU1NBR0UsICh0ID0+IHtcbiAgICAgICAgICAgIHZhciBuO1xuICAgICAgICAgICAgaWYgKCFoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IHQuZGF0YVswXTtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCghIWkpO1xuICAgICAgICAgICAgICAgIC8vIFRPRE8oYi8zNTE0Mzg5MSk6IFRoZXJlIGlzIGEgYnVnIGluIE9uZSBQbGF0Zm9ybSB0aGF0IGNhdXNlZCBlcnJvcnNcbiAgICAgICAgICAgICAgICAvLyAoYW5kIG9ubHkgZXJyb3JzKSB0byBiZSB3cmFwcGVkIGluIGFuIGV4dHJhIGFycmF5LiBUbyBiZSBmb3J3YXJkXG4gICAgICAgICAgICAgICAgLy8gY29tcGF0aWJsZSB3aXRoIHRoZSBidWcgd2UgbmVlZCB0byBjaGVjayBlaXRoZXIgY29uZGl0aW9uLiBUaGUgbGF0dGVyXG4gICAgICAgICAgICAgICAgLy8gY2FuIGJlIHJlbW92ZWQgb25jZSB0aGUgZml4IGhhcyBiZWVuIHJvbGxlZCBvdXQuXG4gICAgICAgICAgICAgICAgLy8gVXNlIGFueSBiZWNhdXNlIG1zZ0RhdGEuZXJyb3IgaXMgbm90IHR5cGVkLlxuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBpLCBvID0gcy5lcnJvciB8fCAobnVsbCA9PT0gKG4gPSBzWzBdKSB8fCB2b2lkIDAgPT09IG4gPyB2b2lkIDAgOiBuLmVycm9yKTtcbiAgICAgICAgICAgICAgICBpZiAobykge1xuICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoZmUsIGBSUEMgJyR7ZX0nIHN0cmVhbSAke3J9IHJlY2VpdmVkIGVycm9yOmAsIG8pO1xuICAgICAgICAgICAgICAgICAgICAvLyBlcnJvci5zdGF0dXMgd2lsbCBiZSBhIHN0cmluZyBsaWtlICdPSycgb3IgJ05PVF9GT1VORCcuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBvLnN0YXR1cztcbiAgICAgICAgICAgICAgICAgICAgbGV0IG4gPSBcbiAgICAgICAgICAgICAgICAgICAgLyoqXG4gKiBNYXBzIGFuIGVycm9yIENvZGUgZnJvbSBhIEdSUEMgc3RhdHVzIGlkZW50aWZpZXIgbGlrZSAnTk9UX0ZPVU5EJy5cbiAqXG4gKiBAcmV0dXJucyBUaGUgQ29kZSBlcXVpdmFsZW50IHRvIHRoZSBnaXZlbiBzdGF0dXMgc3RyaW5nIG9yIHVuZGVmaW5lZCBpZlxuICogICAgIHRoZXJlIGlzIG5vIG1hdGNoLlxuICovXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9tYXBDb2RlRnJvbVJwY1N0YXR1cyhlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsb29rdXAgYnkgc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IGNlW2VdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gdCkgcmV0dXJuIF9fUFJJVkFURV9tYXBDb2RlRnJvbVJwY0NvZGUodCk7XG4gICAgICAgICAgICAgICAgICAgIH0odCksIGkgPSBvLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgIHZvaWQgMCA9PT0gbiAmJiAobiA9IEMuSU5URVJOQUwsIGkgPSBcIlVua25vd24gZXJyb3Igc3RhdHVzOiBcIiArIHQgKyBcIiB3aXRoIG1lc3NhZ2UgXCIgKyBvLm1lc3NhZ2UpLCBcbiAgICAgICAgICAgICAgICAgICAgLy8gTWFyayBjbG9zZWQgc28gbm8gZnVydGhlciBldmVudHMgYXJlIHByb3BhZ2F0ZWRcbiAgICAgICAgICAgICAgICAgICAgaCA9ICEwLCBQLnBvKG5ldyBGaXJlc3RvcmVFcnJvcihuLCBpKSksIGMuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyBzdHJlYW0gJHtyfSByZWNlaXZlZDpgLCBpKSwgUC55byhpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkpLCBfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4obywgd2ViY2hhbm5lbEJsb2IuRXZlbnQuU1RBVF9FVkVOVCwgKHQgPT4ge1xuICAgICAgICAgICAgdC5zdGF0ID09PSB3ZWJjaGFubmVsQmxvYi5TdGF0LlBST1hZID8gX19QUklWQVRFX2xvZ0RlYnVnKGZlLCBgUlBDICcke2V9JyBzdHJlYW0gJHtyfSBkZXRlY3RlZCBidWZmZXJpbmcgcHJveHlgKSA6IHQuc3RhdCA9PT0gd2ViY2hhbm5lbEJsb2IuU3RhdC5OT1BST1hZICYmIF9fUFJJVkFURV9sb2dEZWJ1ZyhmZSwgYFJQQyAnJHtlfScgc3RyZWFtICR7cn0gZGV0ZWN0ZWQgbm8gYnVmZmVyaW5nIHByb3h5YCk7XG4gICAgICAgIH0pKSwgc2V0VGltZW91dCgoKCkgPT4ge1xuICAgICAgICAgICAgLy8gVGVjaG5pY2FsbHkgd2UgY291bGQvc2hvdWxkIHdhaXQgZm9yIHRoZSBXZWJDaGFubmVsIG9wZW5lZCBldmVudCxcbiAgICAgICAgICAgIC8vIGJ1dCBiZWNhdXNlIHdlIHdhbnQgdG8gc2VuZCB0aGUgZmlyc3QgbWVzc2FnZSB3aXRoIHRoZSBXZWJDaGFubmVsXG4gICAgICAgICAgICAvLyBoYW5kc2hha2Ugd2UgcHJldGVuZCB0aGUgY2hhbm5lbCBvcGVuZWQgaGVyZSAoYXN5bmNocm9ub3VzbHkpLCBhbmRcbiAgICAgICAgICAgIC8vIHRoZW4gZGVsYXkgdGhlIGFjdHVhbCBvcGVuIHVudGlsIHRoZSBmaXJzdCBtZXNzYWdlIGlzIHNlbnQuXG4gICAgICAgICAgICBQLmZvKCk7XG4gICAgICAgIH0pLCAwKSwgUDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogSW5pdGlhbGl6ZXMgdGhlIFdlYkNoYW5uZWxDb25uZWN0aW9uIGZvciB0aGUgYnJvd3Nlci4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKiogVGhlIFBsYXRmb3JtJ3MgJ3dpbmRvdycgaW1wbGVtZW50YXRpb24gb3IgbnVsbCBpZiBub3QgYXZhaWxhYmxlLiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX2dldFdpbmRvdygpIHtcbiAgICAvLyBgd2luZG93YCBpcyBub3QgYWx3YXlzIGF2YWlsYWJsZSwgZS5nLiBpbiBSZWFjdE5hdGl2ZSBhbmQgV2ViV29ya2Vycy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIHdpbmRvdyA/IHdpbmRvdyA6IG51bGw7XG59XG5cbi8qKiBUaGUgUGxhdGZvcm0ncyAnZG9jdW1lbnQnIGltcGxlbWVudGF0aW9uIG9yIG51bGwgaWYgbm90IGF2YWlsYWJsZS4gKi8gZnVuY3Rpb24gZ2V0RG9jdW1lbnQoKSB7XG4gICAgLy8gYGRvY3VtZW50YCBpcyBub3QgYWx3YXlzIGF2YWlsYWJsZSwgZS5nLiBpbiBSZWFjdE5hdGl2ZSBhbmQgV2ViV29ya2Vycy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzXG4gICAgcmV0dXJuIFwidW5kZWZpbmVkXCIgIT0gdHlwZW9mIGRvY3VtZW50ID8gZG9jdW1lbnQgOiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3U2VyaWFsaXplcihlKSB7XG4gICAgcmV0dXJuIG5ldyBKc29uUHJvdG9TZXJpYWxpemVyKGUsIC8qIHVzZVByb3RvM0pzb249ICovICEwKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBoZWxwZXIgZm9yIHJ1bm5pbmcgZGVsYXllZCB0YXNrcyBmb2xsb3dpbmcgYW4gZXhwb25lbnRpYWwgYmFja29mZiBjdXJ2ZVxuICogYmV0d2VlbiBhdHRlbXB0cy5cbiAqXG4gKiBFYWNoIGRlbGF5IGlzIG1hZGUgdXAgb2YgYSBcImJhc2VcIiBkZWxheSB3aGljaCBmb2xsb3dzIHRoZSBleHBvbmVudGlhbFxuICogYmFja29mZiBjdXJ2ZSwgYW5kIGEgKy8tIDUwJSBcImppdHRlclwiIHRoYXQgaXMgY2FsY3VsYXRlZCBhbmQgYWRkZWQgdG8gdGhlXG4gKiBiYXNlIGRlbGF5LiBUaGlzIHByZXZlbnRzIGNsaWVudHMgZnJvbSBhY2NpZGVudGFsbHkgc3luY2hyb25pemluZyB0aGVpclxuICogZGVsYXlzIGNhdXNpbmcgc3Bpa2VzIG9mIGxvYWQgdG8gdGhlIGJhY2tlbmQuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9FeHBvbmVudGlhbEJhY2tvZmYge1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKlxuICAgICAqIFRoZSBBc3luY1F1ZXVlIHRvIHJ1biBiYWNrb2ZmIG9wZXJhdGlvbnMgb24uXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqXG4gICAgICogVGhlIElEIHRvIHVzZSB3aGVuIHNjaGVkdWxpbmcgYmFja29mZiBvcGVyYXRpb25zIG9uIHRoZSBBc3luY1F1ZXVlLlxuICAgICAqL1xuICAgIHQsIFxuICAgIC8qKlxuICAgICAqIFRoZSBpbml0aWFsIGRlbGF5ICh1c2VkIGFzIHRoZSBiYXNlIGRlbGF5IG9uIHRoZSBmaXJzdCByZXRyeSBhdHRlbXB0KS5cbiAgICAgKiBOb3RlIHRoYXQgaml0dGVyIHdpbGwgc3RpbGwgYmUgYXBwbGllZCwgc28gdGhlIGFjdHVhbCBkZWxheSBjb3VsZCBiZSBhc1xuICAgICAqIGxpdHRsZSBhcyAwLjUqaW5pdGlhbERlbGF5TXMuXG4gICAgICovXG4gICAgbiA9IDFlM1xuICAgIC8qKlxuICAgICAqIFRoZSBtdWx0aXBsaWVyIHRvIHVzZSB0byBkZXRlcm1pbmUgdGhlIGV4dGVuZGVkIGJhc2UgZGVsYXkgYWZ0ZXIgZWFjaFxuICAgICAqIGF0dGVtcHQuXG4gICAgICovICwgciA9IDEuNVxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIGJhc2UgZGVsYXkgYWZ0ZXIgd2hpY2ggbm8gZnVydGhlciBiYWNrb2ZmIGlzIHBlcmZvcm1lZC5cbiAgICAgKiBOb3RlIHRoYXQgaml0dGVyIHdpbGwgc3RpbGwgYmUgYXBwbGllZCwgc28gdGhlIGFjdHVhbCBkZWxheSBjb3VsZCBiZSBhc1xuICAgICAqIG11Y2ggYXMgMS41Km1heERlbGF5TXMuXG4gICAgICovICwgaSA9IDZlNCkge1xuICAgICAgICB0aGlzLm9pID0gZSwgdGhpcy50aW1lcklkID0gdCwgdGhpcy5ObyA9IG4sIHRoaXMuTG8gPSByLCB0aGlzLkJvID0gaSwgdGhpcy5rbyA9IDAsIFxuICAgICAgICB0aGlzLnFvID0gbnVsbCwgXG4gICAgICAgIC8qKiBUaGUgbGFzdCBiYWNrb2ZmIGF0dGVtcHQsIGFzIGVwb2NoIG1pbGxpc2Vjb25kcy4gKi9cbiAgICAgICAgdGhpcy5RbyA9IERhdGUubm93KCksIHRoaXMucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBiYWNrb2ZmIGRlbGF5LlxuICAgICAqXG4gICAgICogVGhlIHZlcnkgbmV4dCBiYWNrb2ZmQW5kV2FpdCgpIHdpbGwgaGF2ZSBubyBkZWxheS4gSWYgaXQgaXMgY2FsbGVkIGFnYWluXG4gICAgICogKGkuZS4gZHVlIHRvIGFuIGVycm9yKSwgaW5pdGlhbERlbGF5TXMgKHBsdXMgaml0dGVyKSB3aWxsIGJlIHVzZWQsIGFuZFxuICAgICAqIHN1YnNlcXVlbnQgb25lcyB3aWxsIGluY3JlYXNlIGFjY29yZGluZyB0byB0aGUgYmFja29mZkZhY3Rvci5cbiAgICAgKi8gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMua28gPSAwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGJhY2tvZmYgZGVsYXkgdG8gdGhlIG1heGltdW0gZGVsYXkgKGUuZy4gZm9yIHVzZSBhZnRlciBhXG4gICAgICogUkVTT1VSQ0VfRVhIQVVTVEVEIGVycm9yKS5cbiAgICAgKi8gICAgS28oKSB7XG4gICAgICAgIHRoaXMua28gPSB0aGlzLkJvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIGFmdGVyIGN1cnJlbnREZWxheU1zLCBhbmQgaW5jcmVhc2VzIHRoZVxuICAgICAqIGRlbGF5IGZvciBhbnkgc3Vic2VxdWVudCBhdHRlbXB0cy4gSWYgdGhlcmUgd2FzIGEgcGVuZGluZyBiYWNrb2ZmIG9wZXJhdGlvblxuICAgICAqIGFscmVhZHksIGl0IHdpbGwgYmUgY2FuY2VsZWQuXG4gICAgICovICAgICRvKGUpIHtcbiAgICAgICAgLy8gQ2FuY2VsIGFueSBwZW5kaW5nIGJhY2tvZmYgb3BlcmF0aW9uLlxuICAgICAgICB0aGlzLmNhbmNlbCgpO1xuICAgICAgICAvLyBGaXJzdCBzY2hlZHVsZSB1c2luZyB0aGUgY3VycmVudCBiYXNlICh3aGljaCBtYXkgYmUgMCBhbmQgc2hvdWxkIGJlXG4gICAgICAgIC8vIGhvbm9yZWQgYXMgc3VjaCkuXG4gICAgICAgIGNvbnN0IHQgPSBNYXRoLmZsb29yKHRoaXMua28gKyB0aGlzLlVvKCkpLCBuID0gTWF0aC5tYXgoMCwgRGF0ZS5ub3coKSAtIHRoaXMuUW8pLCByID0gTWF0aC5tYXgoMCwgdCAtIG4pO1xuICAgICAgICAvLyBHdWFyZCBhZ2FpbnN0IGxhc3RBdHRlbXB0VGltZSBiZWluZyBpbiB0aGUgZnV0dXJlIGR1ZSB0byBhIGNsb2NrIGNoYW5nZS5cbiAgICAgICAgICAgICAgICByID4gMCAmJiBfX1BSSVZBVEVfbG9nRGVidWcoXCJFeHBvbmVudGlhbEJhY2tvZmZcIiwgYEJhY2tpbmcgb2ZmIGZvciAke3J9IG1zIChiYXNlIGRlbGF5OiAke3RoaXMua299IG1zLCBkZWxheSB3aXRoIGppdHRlcjogJHt0fSBtcywgbGFzdCBhdHRlbXB0OiAke259IG1zIGFnbylgKSwgXG4gICAgICAgIHRoaXMucW8gPSB0aGlzLm9pLmVucXVldWVBZnRlckRlbGF5KHRoaXMudGltZXJJZCwgciwgKCgpID0+ICh0aGlzLlFvID0gRGF0ZS5ub3coKSwgXG4gICAgICAgIGUoKSkpKSwgXG4gICAgICAgIC8vIEFwcGx5IGJhY2tvZmYgZmFjdG9yIHRvIGRldGVybWluZSBuZXh0IGRlbGF5IGFuZCBlbnN1cmUgaXQgaXMgd2l0aGluXG4gICAgICAgIC8vIGJvdW5kcy5cbiAgICAgICAgdGhpcy5rbyAqPSB0aGlzLkxvLCB0aGlzLmtvIDwgdGhpcy5ObyAmJiAodGhpcy5rbyA9IHRoaXMuTm8pLCB0aGlzLmtvID4gdGhpcy5CbyAmJiAodGhpcy5rbyA9IHRoaXMuQm8pO1xuICAgIH1cbiAgICBXbygpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy5xbyAmJiAodGhpcy5xby5za2lwRGVsYXkoKSwgdGhpcy5xbyA9IG51bGwpO1xuICAgIH1cbiAgICBjYW5jZWwoKSB7XG4gICAgICAgIG51bGwgIT09IHRoaXMucW8gJiYgKHRoaXMucW8uY2FuY2VsKCksIHRoaXMucW8gPSBudWxsKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSByYW5kb20gdmFsdWUgaW4gdGhlIHJhbmdlIFstY3VycmVudEJhc2VNcy8yLCBjdXJyZW50QmFzZU1zLzJdICovICAgIFVvKCkge1xuICAgICAgICByZXR1cm4gKE1hdGgucmFuZG9tKCkgLSAuNSkgKiB0aGlzLmtvO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBQZXJzaXN0ZW50U3RyZWFtIGlzIGFuIGFic3RyYWN0IGJhc2UgY2xhc3MgdGhhdCByZXByZXNlbnRzIGEgc3RyZWFtaW5nIFJQQ1xuICogdG8gdGhlIEZpcmVzdG9yZSBiYWNrZW5kLiBJdCdzIGJ1aWx0IG9uIHRvcCBvZiB0aGUgY29ubmVjdGlvbnMgb3duIHN1cHBvcnRcbiAqIGZvciBzdHJlYW1pbmcgUlBDcywgYW5kIGFkZHMgc2V2ZXJhbCBjcml0aWNhbCBmZWF0dXJlcyBmb3Igb3VyIGNsaWVudHM6XG4gKlxuICogICAtIEV4cG9uZW50aWFsIGJhY2tvZmYgb24gZmFpbHVyZVxuICogICAtIEF1dGhlbnRpY2F0aW9uIHZpYSBDcmVkZW50aWFsc1Byb3ZpZGVyXG4gKiAgIC0gRGlzcGF0Y2hpbmcgYWxsIGNhbGxiYWNrcyBpbnRvIHRoZSBzaGFyZWQgd29ya2VyIHF1ZXVlXG4gKiAgIC0gQ2xvc2luZyBpZGxlIHN0cmVhbXMgYWZ0ZXIgNjAgc2Vjb25kcyBvZiBpbmFjdGl2aXR5XG4gKlxuICogU3ViY2xhc3NlcyBvZiBQZXJzaXN0ZW50U3RyZWFtIGltcGxlbWVudCBzZXJpYWxpemF0aW9uIG9mIG1vZGVscyB0byBhbmRcbiAqIGZyb20gdGhlIEpTT04gcmVwcmVzZW50YXRpb24gb2YgdGhlIHByb3RvY29sIGJ1ZmZlcnMgZm9yIGEgc3BlY2lmaWNcbiAqIHN0cmVhbWluZyBSUEMuXG4gKlxuICogIyMgU3RhcnRpbmcgYW5kIFN0b3BwaW5nXG4gKlxuICogU3RyZWFtaW5nIFJQQ3MgYXJlIHN0YXRlZnVsIGFuZCBuZWVkIHRvIGJlIHN0YXJ0KCllZCBiZWZvcmUgbWVzc2FnZXMgY2FuXG4gKiBiZSBzZW50IGFuZCByZWNlaXZlZC4gVGhlIFBlcnNpc3RlbnRTdHJlYW0gd2lsbCBjYWxsIHRoZSBvbk9wZW4oKSBmdW5jdGlvblxuICogb2YgdGhlIGxpc3RlbmVyIG9uY2UgdGhlIHN0cmVhbSBpcyByZWFkeSB0byBhY2NlcHQgcmVxdWVzdHMuXG4gKlxuICogU2hvdWxkIGEgc3RhcnQoKSBmYWlsLCBQZXJzaXN0ZW50U3RyZWFtIHdpbGwgY2FsbCB0aGUgcmVnaXN0ZXJlZCBvbkNsb3NlKClcbiAqIGxpc3RlbmVyIHdpdGggYSBGaXJlc3RvcmVFcnJvciBpbmRpY2F0aW5nIHdoYXQgd2VudCB3cm9uZy5cbiAqXG4gKiBBIFBlcnNpc3RlbnRTdHJlYW0gY2FuIGJlIHN0YXJ0ZWQgYW5kIHN0b3BwZWQgcmVwZWF0ZWRseS5cbiAqXG4gKiBHZW5lcmljIHR5cGVzOlxuICogIFNlbmRUeXBlOiBUaGUgdHlwZSBvZiB0aGUgb3V0Z29pbmcgbWVzc2FnZSBvZiB0aGUgdW5kZXJseWluZ1xuICogICAgY29ubmVjdGlvbiBzdHJlYW1cbiAqICBSZWNlaXZlVHlwZTogVGhlIHR5cGUgb2YgdGhlIGluY29taW5nIG1lc3NhZ2Ugb2YgdGhlIHVuZGVybHlpbmdcbiAqICAgIGNvbm5lY3Rpb24gc3RyZWFtXG4gKiAgTGlzdGVuZXJUeXBlOiBUaGUgdHlwZSBvZiB0aGUgbGlzdGVuZXIgdGhhdCB3aWxsIGJlIHVzZWQgZm9yIGNhbGxiYWNrc1xuICovXG5jbGFzcyBfX1BSSVZBVEVfUGVyc2lzdGVudFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSwgcywgbywgXykge1xuICAgICAgICB0aGlzLm9pID0gZSwgdGhpcy5HbyA9IG4sIHRoaXMuem8gPSByLCB0aGlzLmNvbm5lY3Rpb24gPSBpLCB0aGlzLmF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyID0gcywgXG4gICAgICAgIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFsc1Byb3ZpZGVyID0gbywgdGhpcy5saXN0ZW5lciA9IF8sIHRoaXMuc3RhdGUgPSAwIC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5Jbml0aWFsICovICwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNsb3NlIGNvdW50IHRoYXQncyBpbmNyZW1lbnRlZCBldmVyeSB0aW1lIHRoZSBzdHJlYW0gaXMgY2xvc2VkOyB1c2VkIGJ5XG4gICAgICAgICAqIGdldENsb3NlR3VhcmRlZERpc3BhdGNoZXIoKSB0byBpbnZhbGlkYXRlIGNhbGxiYWNrcyB0aGF0IGhhcHBlbiBhZnRlclxuICAgICAgICAgKiBjbG9zZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuam8gPSAwLCB0aGlzLkhvID0gbnVsbCwgdGhpcy5KbyA9IG51bGwsIHRoaXMuc3RyZWFtID0gbnVsbCwgdGhpcy5ZbyA9IG5ldyBfX1BSSVZBVEVfRXhwb25lbnRpYWxCYWNrb2ZmKGUsIHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgc3RhcnQoKSBoYXMgYmVlbiBjYWxsZWQgYW5kIG5vIGVycm9yIGhhcyBvY2N1cnJlZC4gVHJ1ZVxuICAgICAqIGluZGljYXRlcyB0aGUgc3RyZWFtIGlzIG9wZW4gb3IgaW4gdGhlIHByb2Nlc3Mgb2Ygb3BlbmluZyAod2hpY2hcbiAgICAgKiBlbmNvbXBhc3NlcyByZXNwZWN0aW5nIGJhY2tvZmYsIGdldHRpbmcgYXV0aCB0b2tlbnMsIGFuZCBzdGFydGluZyB0aGVcbiAgICAgKiBhY3R1YWwgUlBDKS4gVXNlIGlzT3BlbigpIHRvIGRldGVybWluZSBpZiB0aGUgc3RyZWFtIGlzIG9wZW4gYW5kIHJlYWR5IGZvclxuICAgICAqIG91dGJvdW5kIHJlcXVlc3RzLlxuICAgICAqLyAgICBabygpIHtcbiAgICAgICAgcmV0dXJuIDEgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLlN0YXJ0aW5nICovID09PSB0aGlzLnN0YXRlIHx8IDUgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkJhY2tvZmYgKi8gPT09IHRoaXMuc3RhdGUgfHwgdGhpcy5YbygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIHVuZGVybHlpbmcgUlBDIGlzIG9wZW4gKHRoZSBvbk9wZW4oKSBsaXN0ZW5lciBoYXMgYmVlblxuICAgICAqIGNhbGxlZCkgYW5kIHRoZSBzdHJlYW0gaXMgcmVhZHkgZm9yIG91dGJvdW5kIHJlcXVlc3RzLlxuICAgICAqLyAgICBYbygpIHtcbiAgICAgICAgcmV0dXJuIDIgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLk9wZW4gKi8gPT09IHRoaXMuc3RhdGUgfHwgMyAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuSGVhbHRoeSAqLyA9PT0gdGhpcy5zdGF0ZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU3RhcnRzIHRoZSBSUEMuIE9ubHkgYWxsb3dlZCBpZiBpc1N0YXJ0ZWQoKSByZXR1cm5zIGZhbHNlLiBUaGUgc3RyZWFtIGlzXG4gICAgICogbm90IGltbWVkaWF0ZWx5IHJlYWR5IGZvciB1c2U6IG9uT3BlbigpIHdpbGwgYmUgaW52b2tlZCB3aGVuIHRoZSBSUEMgaXNcbiAgICAgKiByZWFkeSBmb3Igb3V0Ym91bmQgcmVxdWVzdHMsIGF0IHdoaWNoIHBvaW50IGlzT3BlbigpIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICpcbiAgICAgKiBXaGVuIHN0YXJ0IHJldHVybnMsIGlzU3RhcnRlZCgpIHdpbGwgcmV0dXJuIHRydWUuXG4gICAgICovICAgIHN0YXJ0KCkge1xuICAgICAgICA0IC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5FcnJvciAqLyAhPT0gdGhpcy5zdGF0ZSA/IHRoaXMuYXV0aCgpIDogdGhpcy5lXygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wcyB0aGUgUlBDLiBUaGlzIGNhbGwgaXMgaWRlbXBvdGVudCBhbmQgYWxsb3dlZCByZWdhcmRsZXNzIG9mIHRoZVxuICAgICAqIGN1cnJlbnQgaXNTdGFydGVkKCkgc3RhdGUuXG4gICAgICpcbiAgICAgKiBXaGVuIHN0b3AgcmV0dXJucywgaXNTdGFydGVkKCkgYW5kIGlzT3BlbigpIHdpbGwgYm90aCByZXR1cm4gZmFsc2UuXG4gICAgICovICAgIGFzeW5jIHN0b3AoKSB7XG4gICAgICAgIHRoaXMuWm8oKSAmJiBhd2FpdCB0aGlzLmNsb3NlKDAgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkluaXRpYWwgKi8pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZnRlciBhbiBlcnJvciB0aGUgc3RyZWFtIHdpbGwgdXN1YWxseSBiYWNrIG9mZiBvbiB0aGUgbmV4dCBhdHRlbXB0IHRvXG4gICAgICogc3RhcnQgaXQuIElmIHRoZSBlcnJvciB3YXJyYW50cyBhbiBpbW1lZGlhdGUgcmVzdGFydCBvZiB0aGUgc3RyZWFtLCB0aGVcbiAgICAgKiBzZW5kZXIgY2FuIHVzZSB0aGlzIHRvIGluZGljYXRlIHRoYXQgdGhlIHJlY2VpdmVyIHNob3VsZCBub3QgYmFjayBvZmYuXG4gICAgICpcbiAgICAgKiBFYWNoIGVycm9yIHdpbGwgY2FsbCB0aGUgb25DbG9zZSgpIGxpc3RlbmVyLiBUaGF0IGZ1bmN0aW9uIGNhbiBkZWNpZGUgdG9cbiAgICAgKiBpbmhpYml0IGJhY2tvZmYgaWYgcmVxdWlyZWQuXG4gICAgICovICAgIHRfKCkge1xuICAgICAgICB0aGlzLnN0YXRlID0gMCAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuSW5pdGlhbCAqLyAsIHRoaXMuWW8ucmVzZXQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTWFya3MgdGhpcyBzdHJlYW0gYXMgaWRsZS4gSWYgbm8gZnVydGhlciBhY3Rpb25zIGFyZSBwZXJmb3JtZWQgb24gdGhlXG4gICAgICogc3RyZWFtIGZvciBvbmUgbWludXRlLCB0aGUgc3RyZWFtIHdpbGwgYXV0b21hdGljYWxseSBjbG9zZSBpdHNlbGYgYW5kXG4gICAgICogbm90aWZ5IHRoZSBzdHJlYW0ncyBvbkNsb3NlKCkgaGFuZGxlciB3aXRoIFN0YXR1cy5PSy4gVGhlIHN0cmVhbSB3aWxsIHRoZW5cbiAgICAgKiBiZSBpbiBhICFpc1N0YXJ0ZWQoKSBzdGF0ZSwgcmVxdWlyaW5nIHRoZSBjYWxsZXIgdG8gc3RhcnQgdGhlIHN0cmVhbSBhZ2FpblxuICAgICAqIGJlZm9yZSBmdXJ0aGVyIHVzZS5cbiAgICAgKlxuICAgICAqIE9ubHkgc3RyZWFtcyB0aGF0IGFyZSBpbiBzdGF0ZSAnT3BlbicgY2FuIGJlIG1hcmtlZCBpZGxlLCBhcyBhbGwgb3RoZXJcbiAgICAgKiBzdGF0ZXMgaW1wbHkgcGVuZGluZyBuZXR3b3JrIG9wZXJhdGlvbnMuXG4gICAgICovICAgIG5fKCkge1xuICAgICAgICAvLyBTdGFydHMgdGhlIGlkbGUgdGltZSBpZiB3ZSBhcmUgaW4gc3RhdGUgJ09wZW4nIGFuZCBhcmUgbm90IHlldCBhbHJlYWR5XG4gICAgICAgIC8vIHJ1bm5pbmcgYSB0aW1lciAoaW4gd2hpY2ggY2FzZSB0aGUgcHJldmlvdXMgaWRsZSB0aW1lb3V0IHN0aWxsIGFwcGxpZXMpLlxuICAgICAgICB0aGlzLlhvKCkgJiYgbnVsbCA9PT0gdGhpcy5IbyAmJiAodGhpcy5IbyA9IHRoaXMub2kuZW5xdWV1ZUFmdGVyRGVsYXkodGhpcy5HbywgNmU0LCAoKCkgPT4gdGhpcy5yXygpKSkpO1xuICAgIH1cbiAgICAvKiogU2VuZHMgYSBtZXNzYWdlIHRvIHRoZSB1bmRlcmx5aW5nIHN0cmVhbS4gKi8gICAgaV8oZSkge1xuICAgICAgICB0aGlzLnNfKCksIHRoaXMuc3RyZWFtLnNlbmQoZSk7XG4gICAgfVxuICAgIC8qKiBDYWxsZWQgYnkgdGhlIGlkbGUgdGltZXIgd2hlbiB0aGUgc3RyZWFtIHNob3VsZCBjbG9zZSBkdWUgdG8gaW5hY3Rpdml0eS4gKi8gICAgYXN5bmMgcl8oKSB7XG4gICAgICAgIGlmICh0aGlzLlhvKCkpIFxuICAgICAgICAvLyBXaGVuIHRpbWluZyBvdXQgYW4gaWRsZSBzdHJlYW0gdGhlcmUncyBubyByZWFzb24gdG8gZm9yY2UgdGhlIHN0cmVhbSBpbnRvIGJhY2tvZmYgd2hlblxuICAgICAgICAvLyBpdCByZXN0YXJ0cyBzbyBzZXQgdGhlIHN0cmVhbSBzdGF0ZSB0byBJbml0aWFsIGluc3RlYWQgb2YgRXJyb3IuXG4gICAgICAgIHJldHVybiB0aGlzLmNsb3NlKDAgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkluaXRpYWwgKi8pO1xuICAgIH1cbiAgICAvKiogTWFya3MgdGhlIHN0cmVhbSBhcyBhY3RpdmUgYWdhaW4uICovICAgIHNfKCkge1xuICAgICAgICB0aGlzLkhvICYmICh0aGlzLkhvLmNhbmNlbCgpLCB0aGlzLkhvID0gbnVsbCk7XG4gICAgfVxuICAgIC8qKiBDYW5jZWxzIHRoZSBoZWFsdGggY2hlY2sgZGVsYXllZCBvcGVyYXRpb24uICovICAgIG9fKCkge1xuICAgICAgICB0aGlzLkpvICYmICh0aGlzLkpvLmNhbmNlbCgpLCB0aGlzLkpvID0gbnVsbCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgc3RyZWFtIGFuZCBjbGVhbnMgdXAgYXMgbmVjZXNzYXJ5OlxuICAgICAqXG4gICAgICogKiBjbG9zZXMgdGhlIHVuZGVybHlpbmcgR1JQQyBzdHJlYW07XG4gICAgICogKiBjYWxscyB0aGUgb25DbG9zZSBoYW5kbGVyIHdpdGggdGhlIGdpdmVuICdlcnJvcic7XG4gICAgICogKiBzZXRzIGludGVybmFsIHN0cmVhbSBzdGF0ZSB0byAnZmluYWxTdGF0ZSc7XG4gICAgICogKiBhZGp1c3RzIHRoZSBiYWNrb2ZmIHRpbWVyIGJhc2VkIG9uIHRoZSBlcnJvclxuICAgICAqXG4gICAgICogQSBuZXcgc3RyZWFtIGNhbiBiZSBvcGVuZWQgYnkgY2FsbGluZyBzdGFydCgpLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpbmFsU3RhdGUgLSB0aGUgaW50ZW5kZWQgc3RhdGUgb2YgdGhlIHN0cmVhbSBhZnRlciBjbG9zaW5nLlxuICAgICAqIEBwYXJhbSBlcnJvciAtIHRoZSBlcnJvciB0aGUgY29ubmVjdGlvbiB3YXMgY2xvc2VkIHdpdGguXG4gICAgICovICAgIGFzeW5jIGNsb3NlKGUsIHQpIHtcbiAgICAgICAgLy8gQ2FuY2VsIGFueSBvdXRzdGFuZGluZyB0aW1lcnMgKHRoZXkncmUgZ3VhcmFudGVlZCBub3QgdG8gZXhlY3V0ZSkuXG4gICAgICAgIHRoaXMuc18oKSwgdGhpcy5vXygpLCB0aGlzLllvLmNhbmNlbCgpLCBcbiAgICAgICAgLy8gSW52YWxpZGF0ZXMgYW55IHN0cmVhbS1yZWxhdGVkIGNhbGxiYWNrcyAoZS5nLiBmcm9tIGF1dGggb3IgdGhlXG4gICAgICAgIC8vIHVuZGVybHlpbmcgc3RyZWFtKSwgZ3VhcmFudGVlaW5nIHRoZXkgd29uJ3QgZXhlY3V0ZS5cbiAgICAgICAgdGhpcy5qbysrLCA0IC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5FcnJvciAqLyAhPT0gZSA/IFxuICAgICAgICAvLyBJZiB0aGlzIGlzIGFuIGludGVudGlvbmFsIGNsb3NlIGVuc3VyZSB3ZSBkb24ndCBkZWxheSBvdXIgbmV4dCBjb25uZWN0aW9uIGF0dGVtcHQuXG4gICAgICAgIHRoaXMuWW8ucmVzZXQoKSA6IHQgJiYgdC5jb2RlID09PSBDLlJFU09VUkNFX0VYSEFVU1RFRCA/IChcbiAgICAgICAgLy8gTG9nIHRoZSBlcnJvci4gKFByb2JhYmx5IGVpdGhlciAncXVvdGEgZXhjZWVkZWQnIG9yICdtYXggcXVldWUgbGVuZ3RoIHJlYWNoZWQnLilcbiAgICAgICAgX19QUklWQVRFX2xvZ0Vycm9yKHQudG9TdHJpbmcoKSksIF9fUFJJVkFURV9sb2dFcnJvcihcIlVzaW5nIG1heGltdW0gYmFja29mZiBkZWxheSB0byBwcmV2ZW50IG92ZXJsb2FkaW5nIHRoZSBiYWNrZW5kLlwiKSwgXG4gICAgICAgIHRoaXMuWW8uS28oKSkgOiB0ICYmIHQuY29kZSA9PT0gQy5VTkFVVEhFTlRJQ0FURUQgJiYgMyAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuSGVhbHRoeSAqLyAhPT0gdGhpcy5zdGF0ZSAmJiAoXG4gICAgICAgIC8vIFwidW5hdXRoZW50aWNhdGVkXCIgZXJyb3IgbWVhbnMgdGhlIHRva2VuIHdhcyByZWplY3RlZC4gVGhpcyBzaG91bGQgcmFyZWx5XG4gICAgICAgIC8vIGhhcHBlbiBzaW5jZSBib3RoIEF1dGggYW5kIEFwcENoZWNrIGVuc3VyZSBhIHN1ZmZpY2llbnQgVFRMIHdoZW4gd2VcbiAgICAgICAgLy8gcmVxdWVzdCBhIHRva2VuLiBJZiBhIHVzZXIgbWFudWFsbHkgcmVzZXRzIHRoZWlyIHN5c3RlbSBjbG9jayB0aGlzIGNhblxuICAgICAgICAvLyBmYWlsLCBob3dldmVyLiBJbiB0aGlzIGNhc2UsIHdlIHNob3VsZCBnZXQgYSBDb2RlLlVOQVVUSEVOVElDQVRFRCBlcnJvclxuICAgICAgICAvLyBiZWZvcmUgd2UgcmVjZWl2ZWQgdGhlIGZpcnN0IG1lc3NhZ2UgYW5kIHdlIG5lZWQgdG8gaW52YWxpZGF0ZSB0aGUgdG9rZW5cbiAgICAgICAgLy8gdG8gZW5zdXJlIHRoYXQgd2UgZmV0Y2ggYSBuZXcgdG9rZW4uXG4gICAgICAgIHRoaXMuYXV0aENyZWRlbnRpYWxzUHJvdmlkZXIuaW52YWxpZGF0ZVRva2VuKCksIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFsc1Byb3ZpZGVyLmludmFsaWRhdGVUb2tlbigpKSwgXG4gICAgICAgIC8vIENsZWFuIHVwIHRoZSB1bmRlcmx5aW5nIHN0cmVhbSBiZWNhdXNlIHdlIGFyZSBubyBsb25nZXIgaW50ZXJlc3RlZCBpbiBldmVudHMuXG4gICAgICAgIG51bGwgIT09IHRoaXMuc3RyZWFtICYmICh0aGlzLl9fKCksIHRoaXMuc3RyZWFtLmNsb3NlKCksIHRoaXMuc3RyZWFtID0gbnVsbCksIFxuICAgICAgICAvLyBUaGlzIHN0YXRlIG11c3QgYmUgYXNzaWduZWQgYmVmb3JlIGNhbGxpbmcgb25DbG9zZSgpIHRvIGFsbG93IHRoZSBjYWxsYmFjayB0b1xuICAgICAgICAvLyBpbmhpYml0IGJhY2tvZmYgb3Igb3RoZXJ3aXNlIG1hbmlwdWxhdGUgdGhlIHN0YXRlIGluIGl0cyBub24tc3RhcnRlZCBzdGF0ZS5cbiAgICAgICAgdGhpcy5zdGF0ZSA9IGUsIFxuICAgICAgICAvLyBOb3RpZnkgdGhlIGxpc3RlbmVyIHRoYXQgdGhlIHN0cmVhbSBjbG9zZWQuXG4gICAgICAgIGF3YWl0IHRoaXMubGlzdGVuZXIuQW8odCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbiBiZSBvdmVycmlkZGVuIHRvIHBlcmZvcm0gYWRkaXRpb25hbCBjbGVhbnVwIGJlZm9yZSB0aGUgc3RyZWFtIGlzIGNsb3NlZC5cbiAgICAgKiBDYWxsaW5nIHN1cGVyLnRlYXJEb3duKCkgaXMgbm90IHJlcXVpcmVkLlxuICAgICAqLyAgICBfXygpIHt9XG4gICAgYXV0aCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IDEgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLlN0YXJ0aW5nICovO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5hXyh0aGlzLmpvKSwgdCA9IHRoaXMuam87XG4gICAgICAgIC8vIFRPRE8obWlrZWxlaGVuKTogSnVzdCB1c2UgZGlzcGF0Y2hJZk5vdENsb3NlZCwgYnV0IHNlZSBUT0RPIGJlbG93LlxuICAgICAgICAgICAgICAgIFByb21pc2UuYWxsKFsgdGhpcy5hdXRoQ3JlZGVudGlhbHNQcm92aWRlci5nZXRUb2tlbigpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlci5nZXRUb2tlbigpIF0pLnRoZW4oKChbZSwgbl0pID0+IHtcbiAgICAgICAgICAgIC8vIFN0cmVhbSBjYW4gYmUgc3RvcHBlZCB3aGlsZSB3YWl0aW5nIGZvciBhdXRoZW50aWNhdGlvbi5cbiAgICAgICAgICAgIC8vIFRPRE8obWlrZWxlaGVuKTogV2UgcmVhbGx5IHNob3VsZCBqdXN0IHVzZSBkaXNwYXRjaElmTm90Q2xvc2VkXG4gICAgICAgICAgICAvLyBhbmQgbGV0IHRoaXMgZGlzcGF0Y2ggb250byB0aGUgcXVldWUsIGJ1dCB0aGF0IG9wZW5lZCBhIHNwZWMgdGVzdCBjYW5cbiAgICAgICAgICAgIC8vIG9mIHdvcm1zIHRoYXQgSSBkb24ndCB3YW50IHRvIGRlYWwgd2l0aCBpbiB0aGlzIFBSLlxuICAgICAgICAgICAgdGhpcy5qbyA9PT0gdCAmJiBcbiAgICAgICAgICAgIC8vIE5vcm1hbGx5IHdlJ2QgaGF2ZSB0byBzY2hlZHVsZSB0aGUgY2FsbGJhY2sgb24gdGhlIEFzeW5jUXVldWUuXG4gICAgICAgICAgICAvLyBIb3dldmVyLCB0aGUgZm9sbG93aW5nIGNhbGxzIGFyZSBzYWZlIHRvIGJlIGNhbGxlZCBvdXRzaWRlIHRoZVxuICAgICAgICAgICAgLy8gQXN5bmNRdWV1ZSBzaW5jZSB0aGV5IGRvbid0IGNoYWluIGFzeW5jaHJvbm91cyBjYWxsc1xuICAgICAgICAgICAgdGhpcy51XyhlLCBuKTtcbiAgICAgICAgfSksICh0ID0+IHtcbiAgICAgICAgICAgIGUoKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gbmV3IEZpcmVzdG9yZUVycm9yKEMuVU5LTk9XTiwgXCJGZXRjaGluZyBhdXRoIHRva2VuIGZhaWxlZDogXCIgKyB0Lm1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNfKGUpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHVfKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuYV8odGhpcy5qbyk7XG4gICAgICAgIHRoaXMuc3RyZWFtID0gdGhpcy5sXyhlLCB0KSwgdGhpcy5zdHJlYW0uUG8oKCgpID0+IHtcbiAgICAgICAgICAgIG4oKCgpID0+IHRoaXMubGlzdGVuZXIuUG8oKSkpO1xuICAgICAgICB9KSksIHRoaXMuc3RyZWFtLlRvKCgoKSA9PiB7XG4gICAgICAgICAgICBuKCgoKSA9PiAodGhpcy5zdGF0ZSA9IDIgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLk9wZW4gKi8gLCB0aGlzLkpvID0gdGhpcy5vaS5lbnF1ZXVlQWZ0ZXJEZWxheSh0aGlzLnpvLCAxZTQsICgoKSA9PiAodGhpcy5YbygpICYmICh0aGlzLnN0YXRlID0gMyAvKiBQZXJzaXN0ZW50U3RyZWFtU3RhdGUuSGVhbHRoeSAqLyksIFxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkpKSksIHRoaXMubGlzdGVuZXIuVG8oKSkpKTtcbiAgICAgICAgfSkpLCB0aGlzLnN0cmVhbS5BbygoZSA9PiB7XG4gICAgICAgICAgICBuKCgoKSA9PiB0aGlzLmNfKGUpKSk7XG4gICAgICAgIH0pKSwgdGhpcy5zdHJlYW0ub25NZXNzYWdlKChlID0+IHtcbiAgICAgICAgICAgIG4oKCgpID0+IHRoaXMub25NZXNzYWdlKGUpKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgZV8oKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSA1IC8qIFBlcnNpc3RlbnRTdHJlYW1TdGF0ZS5CYWNrb2ZmICovICwgdGhpcy5Zby4kbygoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IDAgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkluaXRpYWwgKi8gLCB0aGlzLnN0YXJ0KCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLy8gVmlzaWJsZSBmb3IgdGVzdHNcbiAgICBjXyhlKSB7XG4gICAgICAgIC8vIEluIHRoZW9yeSB0aGUgc3RyZWFtIGNvdWxkIGNsb3NlIGNsZWFubHksIGhvd2V2ZXIsIGluIG91ciBjdXJyZW50IG1vZGVsXG4gICAgICAgIC8vIHdlIG5ldmVyIGV4cGVjdCB0aGlzIHRvIGhhcHBlbiBiZWNhdXNlIGlmIHdlIHN0b3AgYSBzdHJlYW0gb3Vyc2VsdmVzLFxuICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIHdpbGwgbmV2ZXIgYmUgY2FsbGVkLiBUbyBwcmV2ZW50IGNhc2VzIHdoZXJlIHdlIHJldHJ5XG4gICAgICAgIC8vIHdpdGhvdXQgYSBiYWNrb2ZmIGFjY2lkZW50YWxseSwgd2Ugc2V0IHRoZSBzdHJlYW0gdG8gZXJyb3IgaW4gYWxsIGNhc2VzLlxuICAgICAgICByZXR1cm4gX19QUklWQVRFX2xvZ0RlYnVnKFwiUGVyc2lzdGVudFN0cmVhbVwiLCBgY2xvc2Ugd2l0aCBlcnJvcjogJHtlfWApLCB0aGlzLnN0cmVhbSA9IG51bGwsIFxuICAgICAgICB0aGlzLmNsb3NlKDQgLyogUGVyc2lzdGVudFN0cmVhbVN0YXRlLkVycm9yICovICwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBcImRpc3BhdGNoZXJcIiBmdW5jdGlvbiB0aGF0IGRpc3BhdGNoZXMgb3BlcmF0aW9ucyBvbnRvIHRoZVxuICAgICAqIEFzeW5jUXVldWUgYnV0IG9ubHkgcnVucyB0aGVtIGlmIGNsb3NlQ291bnQgcmVtYWlucyB1bmNoYW5nZWQuIFRoaXMgYWxsb3dzXG4gICAgICogdXMgdG8gdHVybiBhdXRoIC8gc3RyZWFtIGNhbGxiYWNrcyBpbnRvIG5vLW9wcyBpZiB0aGUgc3RyZWFtIGlzIGNsb3NlZCAvXG4gICAgICogcmUtb3BlbmVkLCBldGMuXG4gICAgICovICAgIGFfKGUpIHtcbiAgICAgICAgcmV0dXJuIHQgPT4ge1xuICAgICAgICAgICAgdGhpcy5vaS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiB0aGlzLmpvID09PSBlID8gdCgpIDogKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlBlcnNpc3RlbnRTdHJlYW1cIiwgXCJzdHJlYW0gY2FsbGJhY2sgc2tpcHBlZCBieSBnZXRDbG9zZUd1YXJkZWREaXNwYXRjaGVyLlwiKSwgXG4gICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoKSkpKTtcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBQZXJzaXN0ZW50U3RyZWFtIHRoYXQgaW1wbGVtZW50cyB0aGUgTGlzdGVuIFJQQy5cbiAqXG4gKiBPbmNlIHRoZSBMaXN0ZW4gc3RyZWFtIGhhcyBjYWxsZWQgdGhlIG9uT3BlbigpIGxpc3RlbmVyLCBhbnkgbnVtYmVyIG9mXG4gKiBsaXN0ZW4oKSBhbmQgdW5saXN0ZW4oKSBjYWxscyBjYW4gYmUgbWFkZSB0byBjb250cm9sIHdoYXQgY2hhbmdlcyB3aWxsIGJlXG4gKiBzZW50IGZyb20gdGhlIHNlcnZlciBmb3IgTGlzdGVuUmVzcG9uc2VzLlxuICovIGNsYXNzIF9fUFJJVkFURV9QZXJzaXN0ZW50TGlzdGVuU3RyZWFtIGV4dGVuZHMgX19QUklWQVRFX1BlcnNpc3RlbnRTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgc3VwZXIoZSwgXCJsaXN0ZW5fc3RyZWFtX2Nvbm5lY3Rpb25fYmFja29mZlwiIC8qIFRpbWVySWQuTGlzdGVuU3RyZWFtQ29ubmVjdGlvbkJhY2tvZmYgKi8gLCBcImxpc3Rlbl9zdHJlYW1faWRsZVwiIC8qIFRpbWVySWQuTGlzdGVuU3RyZWFtSWRsZSAqLyAsIFwiaGVhbHRoX2NoZWNrX3RpbWVvdXRcIiAvKiBUaW1lcklkLkhlYWx0aENoZWNrVGltZW91dCAqLyAsIHQsIG4sIHIsIHMpLCBcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gaTtcbiAgICB9XG4gICAgbF8oZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLk9vKFwiTGlzdGVuXCIsIGUsIHQpO1xuICAgIH1cbiAgICBvbk1lc3NhZ2UoZSkge1xuICAgICAgICAvLyBBIHN1Y2Nlc3NmdWwgcmVzcG9uc2UgbWVhbnMgdGhlIHN0cmVhbSBpcyBoZWFsdGh5XG4gICAgICAgIHRoaXMuWW8ucmVzZXQoKTtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9mcm9tV2F0Y2hDaGFuZ2UodGhpcy5zZXJpYWxpemVyLCBlKSwgbiA9IGZ1bmN0aW9uIF9fUFJJVkFURV92ZXJzaW9uRnJvbUxpc3RlblJlc3BvbnNlKGUpIHtcbiAgICAgICAgICAgIC8vIFdlIGhhdmUgb25seSByZWFjaGVkIGEgY29uc2lzdGVudCBzbmFwc2hvdCBmb3IgdGhlIGVudGlyZSBzdHJlYW0gaWYgdGhlcmVcbiAgICAgICAgICAgIC8vIGlzIGEgcmVhZF90aW1lIHNldCBhbmQgaXQgYXBwbGllcyB0byBhbGwgdGFyZ2V0cyAoaS5lLiB0aGUgbGlzdCBvZlxuICAgICAgICAgICAgLy8gdGFyZ2V0cyBpcyBlbXB0eSkuIFRoZSBiYWNrZW5kIGlzIGd1YXJhbnRlZWQgdG8gc2VuZCBzdWNoIHJlc3BvbnNlcy5cbiAgICAgICAgICAgIGlmICghKFwidGFyZ2V0Q2hhbmdlXCIgaW4gZSkpIHJldHVybiBTbmFwc2hvdFZlcnNpb24ubWluKCk7XG4gICAgICAgICAgICBjb25zdCB0ID0gZS50YXJnZXRDaGFuZ2U7XG4gICAgICAgICAgICByZXR1cm4gdC50YXJnZXRJZHMgJiYgdC50YXJnZXRJZHMubGVuZ3RoID8gU25hcHNob3RWZXJzaW9uLm1pbigpIDogdC5yZWFkVGltZSA/IF9fUFJJVkFURV9mcm9tVmVyc2lvbih0LnJlYWRUaW1lKSA6IFNuYXBzaG90VmVyc2lvbi5taW4oKTtcbiAgICAgICAgfShlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuaF8odCwgbik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBpbnRlcmVzdCBpbiB0aGUgcmVzdWx0cyBvZiB0aGUgZ2l2ZW4gdGFyZ2V0LiBJZiB0aGUgdGFyZ2V0XG4gICAgICogaW5jbHVkZXMgYSByZXN1bWVUb2tlbiBpdCB3aWxsIGJlIGluY2x1ZGVkIGluIHRoZSByZXF1ZXN0LiBSZXN1bHRzIHRoYXRcbiAgICAgKiBhZmZlY3QgdGhlIHRhcmdldCB3aWxsIGJlIHN0cmVhbWVkIGJhY2sgYXMgV2F0Y2hDaGFuZ2UgbWVzc2FnZXMgdGhhdFxuICAgICAqIHJlZmVyZW5jZSB0aGUgdGFyZ2V0SWQuXG4gICAgICovICAgIFBfKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHt9O1xuICAgICAgICB0LmRhdGFiYXNlID0gX19QUklWQVRFX2dldEVuY29kZWREYXRhYmFzZUlkKHRoaXMuc2VyaWFsaXplciksIHQuYWRkVGFyZ2V0ID0gZnVuY3Rpb24gX19QUklWQVRFX3RvVGFyZ2V0KGUsIHQpIHtcbiAgICAgICAgICAgIGxldCBuO1xuICAgICAgICAgICAgY29uc3QgciA9IHQudGFyZ2V0O1xuICAgICAgICAgICAgaWYgKG4gPSBfX1BSSVZBVEVfdGFyZ2V0SXNEb2N1bWVudFRhcmdldChyKSA/IHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudHM6IF9fUFJJVkFURV90b0RvY3VtZW50c1RhcmdldChlLCByKVxuICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICBxdWVyeTogX19QUklWQVRFX3RvUXVlcnlUYXJnZXQoZSwgcikuX3RcbiAgICAgICAgICAgIH0sIG4udGFyZ2V0SWQgPSB0LnRhcmdldElkLCB0LnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDApIHtcbiAgICAgICAgICAgICAgICBuLnJlc3VtZVRva2VuID0gX19QUklWQVRFX3RvQnl0ZXMoZSwgdC5yZXN1bWVUb2tlbik7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV90b0ludDMyUHJvdG8oZSwgdC5leHBlY3RlZENvdW50KTtcbiAgICAgICAgICAgICAgICBudWxsICE9PSByICYmIChuLmV4cGVjdGVkQ291bnQgPSByKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodC5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKFNuYXBzaG90VmVyc2lvbi5taW4oKSkgPiAwKSB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETyh3dWFuZHkpOiBDb25zaWRlciByZW1vdmluZyBhYm92ZSBjaGVjayBiZWNhdXNlIGl0IGlzIG1vc3QgbGlrZWx5IHRydWUuXG4gICAgICAgICAgICAgICAgLy8gUmlnaHQgbm93LCBtYW55IHRlc3RzIGRlcGVuZCBvbiB0aGlzIGJlaGF2aW91ciB0aG91Z2ggKGxlYXZpbmcgbWluKCkgb3V0XG4gICAgICAgICAgICAgICAgLy8gb2Ygc2VyaWFsaXphdGlvbikuXG4gICAgICAgICAgICAgICAgbi5yZWFkVGltZSA9IHRvVGltZXN0YW1wKGUsIHQuc25hcHNob3RWZXJzaW9uLnRvVGltZXN0YW1wKCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfdG9JbnQzMlByb3RvKGUsIHQuZXhwZWN0ZWRDb3VudCk7XG4gICAgICAgICAgICAgICAgbnVsbCAhPT0gciAmJiAobi5leHBlY3RlZENvdW50ID0gcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbjtcbiAgICAgICAgfSh0aGlzLnNlcmlhbGl6ZXIsIGUpO1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX3RvTGlzdGVuUmVxdWVzdExhYmVscyh0aGlzLnNlcmlhbGl6ZXIsIGUpO1xuICAgICAgICBuICYmICh0LmxhYmVscyA9IG4pLCB0aGlzLmlfKHQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVbnJlZ2lzdGVycyBpbnRlcmVzdCBpbiB0aGUgcmVzdWx0cyBvZiB0aGUgdGFyZ2V0IGFzc29jaWF0ZWQgd2l0aCB0aGVcbiAgICAgKiBnaXZlbiB0YXJnZXRJZC5cbiAgICAgKi8gICAgSV8oZSkge1xuICAgICAgICBjb25zdCB0ID0ge307XG4gICAgICAgIHQuZGF0YWJhc2UgPSBfX1BSSVZBVEVfZ2V0RW5jb2RlZERhdGFiYXNlSWQodGhpcy5zZXJpYWxpemVyKSwgdC5yZW1vdmVUYXJnZXQgPSBlLCBcbiAgICAgICAgdGhpcy5pXyh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBTdHJlYW0gdGhhdCBpbXBsZW1lbnRzIHRoZSBXcml0ZSBSUEMuXG4gKlxuICogVGhlIFdyaXRlIFJQQyByZXF1aXJlcyB0aGUgY2FsbGVyIHRvIG1haW50YWluIHNwZWNpYWwgc3RyZWFtVG9rZW5cbiAqIHN0YXRlIGluIGJldHdlZW4gY2FsbHMsIHRvIGhlbHAgdGhlIHNlcnZlciB1bmRlcnN0YW5kIHdoaWNoIHJlc3BvbnNlcyB0aGVcbiAqIGNsaWVudCBoYXMgcHJvY2Vzc2VkIGJ5IHRoZSB0aW1lIHRoZSBuZXh0IHJlcXVlc3QgaXMgbWFkZS4gRXZlcnkgcmVzcG9uc2VcbiAqIHdpbGwgY29udGFpbiBhIHN0cmVhbVRva2VuOyB0aGlzIHZhbHVlIG11c3QgYmUgcGFzc2VkIHRvIHRoZSBuZXh0XG4gKiByZXF1ZXN0LlxuICpcbiAqIEFmdGVyIGNhbGxpbmcgc3RhcnQoKSBvbiB0aGlzIHN0cmVhbSwgdGhlIG5leHQgcmVxdWVzdCBtdXN0IGJlIGEgaGFuZHNoYWtlLFxuICogY29udGFpbmluZyB3aGF0ZXZlciBzdHJlYW1Ub2tlbiBpcyBvbiBoYW5kLiBPbmNlIGEgcmVzcG9uc2UgdG8gdGhpc1xuICogcmVxdWVzdCBpcyByZWNlaXZlZCwgYWxsIHBlbmRpbmcgbXV0YXRpb25zIG1heSBiZSBzdWJtaXR0ZWQuIFdoZW5cbiAqIHN1Ym1pdHRpbmcgbXVsdGlwbGUgYmF0Y2hlcyBvZiBtdXRhdGlvbnMgYXQgdGhlIHNhbWUgdGltZSwgaXQnc1xuICogb2theSB0byB1c2UgdGhlIHNhbWUgc3RyZWFtVG9rZW4gZm9yIHRoZSBjYWxscyB0byB3cml0ZU11dGF0aW9ucy5cbiAqXG4gKiBUT0RPKGIvMzMyNzEyMzUpOiBVc2UgcHJvdG8gdHlwZXNcbiAqLyBjbGFzcyBfX1BSSVZBVEVfUGVyc2lzdGVudFdyaXRlU3RyZWFtIGV4dGVuZHMgX19QUklWQVRFX1BlcnNpc3RlbnRTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICAgICAgc3VwZXIoZSwgXCJ3cml0ZV9zdHJlYW1fY29ubmVjdGlvbl9iYWNrb2ZmXCIgLyogVGltZXJJZC5Xcml0ZVN0cmVhbUNvbm5lY3Rpb25CYWNrb2ZmICovICwgXCJ3cml0ZV9zdHJlYW1faWRsZVwiIC8qIFRpbWVySWQuV3JpdGVTdHJlYW1JZGxlICovICwgXCJoZWFsdGhfY2hlY2tfdGltZW91dFwiIC8qIFRpbWVySWQuSGVhbHRoQ2hlY2tUaW1lb3V0ICovICwgdCwgbiwgciwgcyksIFxuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBpLCB0aGlzLlRfID0gITE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRyYWNrcyB3aGV0aGVyIG9yIG5vdCBhIGhhbmRzaGFrZSBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgZXhjaGFuZ2VkIGFuZFxuICAgICAqIHRoZSBzdHJlYW0gaXMgcmVhZHkgdG8gYWNjZXB0IG11dGF0aW9ucy5cbiAgICAgKi8gICAgZ2V0IEVfKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5UXztcbiAgICB9XG4gICAgLy8gT3ZlcnJpZGUgb2YgUGVyc2lzdGVudFN0cmVhbS5zdGFydFxuICAgIHN0YXJ0KCkge1xuICAgICAgICB0aGlzLlRfID0gITEsIHRoaXMubGFzdFN0cmVhbVRva2VuID0gdm9pZCAwLCBzdXBlci5zdGFydCgpO1xuICAgIH1cbiAgICBfXygpIHtcbiAgICAgICAgdGhpcy5UXyAmJiB0aGlzLmRfKFtdKTtcbiAgICB9XG4gICAgbF8oZSwgdCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb25uZWN0aW9uLk9vKFwiV3JpdGVcIiwgZSwgdCk7XG4gICAgfVxuICAgIG9uTWVzc2FnZShlKSB7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gQWx3YXlzIGNhcHR1cmUgdGhlIGxhc3Qgc3RyZWFtIHRva2VuLlxuICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCghIWUuc3RyZWFtVG9rZW4pLCB0aGlzLmxhc3RTdHJlYW1Ub2tlbiA9IGUuc3RyZWFtVG9rZW4sIHRoaXMuVF8pIHtcbiAgICAgICAgICAgIC8vIEEgc3VjY2Vzc2Z1bCBmaXJzdCB3cml0ZSByZXNwb25zZSBtZWFucyB0aGUgc3RyZWFtIGlzIGhlYWx0aHksXG4gICAgICAgICAgICAvLyBOb3RlLCB0aGF0IHdlIGNvdWxkIGNvbnNpZGVyIGEgc3VjY2Vzc2Z1bCBoYW5kc2hha2UgaGVhbHRoeSwgaG93ZXZlcixcbiAgICAgICAgICAgIC8vIHRoZSB3cml0ZSBpdHNlbGYgbWlnaHQgYmUgY2F1c2luZyBhbiBlcnJvciB3ZSB3YW50IHRvIGJhY2sgb2ZmIGZyb20uXG4gICAgICAgICAgICB0aGlzLllvLnJlc2V0KCk7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2Zyb21Xcml0ZVJlc3VsdHMoZS53cml0ZVJlc3VsdHMsIGUuY29tbWl0VGltZSksIG4gPSBfX1BSSVZBVEVfZnJvbVZlcnNpb24oZS5jb21taXRUaW1lKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLkFfKG4sIHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFRoZSBmaXJzdCByZXNwb25zZSBpcyBhbHdheXMgdGhlIGhhbmRzaGFrZSByZXNwb25zZVxuICAgICAgICByZXR1cm4gX19QUklWQVRFX2hhcmRBc3NlcnQoIWUud3JpdGVSZXN1bHRzIHx8IDAgPT09IGUud3JpdGVSZXN1bHRzLmxlbmd0aCksIHRoaXMuVF8gPSAhMCwgXG4gICAgICAgIHRoaXMubGlzdGVuZXIuUl8oKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYW4gaW5pdGlhbCBzdHJlYW1Ub2tlbiB0byB0aGUgc2VydmVyLCBwZXJmb3JtaW5nIHRoZSBoYW5kc2hha2VcbiAgICAgKiByZXF1aXJlZCB0byBtYWtlIHRoZSBTdHJlYW1pbmdXcml0ZSBSUEMgd29yay4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHNob3VsZCB3YWl0IHVudGlsIG9uSGFuZHNoYWtlQ29tcGxldGUgd2FzIGNhbGxlZC5cbiAgICAgKi8gICAgVl8oKSB7XG4gICAgICAgIC8vIFRPRE8oZGltb25kKTogU3VwcG9ydCBzdHJlYW0gcmVzdW1wdGlvbi4gV2UgaW50ZW50aW9uYWxseSBkbyBub3Qgc2V0IHRoZVxuICAgICAgICAvLyBzdHJlYW0gdG9rZW4gb24gdGhlIGhhbmRzaGFrZSwgaWdub3JpbmcgYW55IHN0cmVhbSB0b2tlbiB3ZSBtaWdodCBoYXZlLlxuICAgICAgICBjb25zdCBlID0ge307XG4gICAgICAgIGUuZGF0YWJhc2UgPSBfX1BSSVZBVEVfZ2V0RW5jb2RlZERhdGFiYXNlSWQodGhpcy5zZXJpYWxpemVyKSwgdGhpcy5pXyhlKTtcbiAgICB9XG4gICAgLyoqIFNlbmRzIGEgZ3JvdXAgb2YgbXV0YXRpb25zIHRvIHRoZSBGaXJlc3RvcmUgYmFja2VuZCB0byBhcHBseS4gKi8gICAgZF8oZSkge1xuICAgICAgICBjb25zdCB0ID0ge1xuICAgICAgICAgICAgc3RyZWFtVG9rZW46IHRoaXMubGFzdFN0cmVhbVRva2VuLFxuICAgICAgICAgICAgd3JpdGVzOiBlLm1hcCgoZSA9PiB0b011dGF0aW9uKHRoaXMuc2VyaWFsaXplciwgZSkpKVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlfKHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogRGF0YXN0b3JlIGFuZCBpdHMgcmVsYXRlZCBtZXRob2RzIGFyZSBhIHdyYXBwZXIgYXJvdW5kIHRoZSBleHRlcm5hbCBHb29nbGVcbiAqIENsb3VkIERhdGFzdG9yZSBncnBjIEFQSSwgd2hpY2ggcHJvdmlkZXMgYW4gaW50ZXJmYWNlIHRoYXQgaXMgbW9yZSBjb252ZW5pZW50XG4gKiBmb3IgdGhlIHJlc3Qgb2YgdGhlIGNsaWVudCBTREsgYXJjaGl0ZWN0dXJlIHRvIGNvbnN1bWUuXG4gKi9cbi8qKlxuICogQW4gaW1wbGVtZW50YXRpb24gb2YgRGF0YXN0b3JlIHRoYXQgZXhwb3NlcyBhZGRpdGlvbmFsIHN0YXRlIGZvciBpbnRlcm5hbFxuICogY29uc3VtcHRpb24uXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9EYXRhc3RvcmVJbXBsIGV4dGVuZHMgY2xhc3MgRGF0YXN0b3JlIHt9IHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuYXV0aENyZWRlbnRpYWxzID0gZSwgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzID0gdCwgdGhpcy5jb25uZWN0aW9uID0gbiwgXG4gICAgICAgIHRoaXMuc2VyaWFsaXplciA9IHIsIHRoaXMubV8gPSAhMTtcbiAgICB9XG4gICAgZl8oKSB7XG4gICAgICAgIGlmICh0aGlzLm1fKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIlRoZSBjbGllbnQgaGFzIGFscmVhZHkgYmVlbiB0ZXJtaW5hdGVkLlwiKTtcbiAgICB9XG4gICAgLyoqIEludm9rZXMgdGhlIHByb3ZpZGVkIFJQQyB3aXRoIGF1dGggYW5kIEFwcENoZWNrIHRva2Vucy4gKi8gICAgQ28oZSwgdCwgbiwgcikge1xuICAgICAgICByZXR1cm4gdGhpcy5mXygpLCBQcm9taXNlLmFsbChbIHRoaXMuYXV0aENyZWRlbnRpYWxzLmdldFRva2VuKCksIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscy5nZXRUb2tlbigpIF0pLnRoZW4oKChbaSwgc10pID0+IHRoaXMuY29ubmVjdGlvbi5DbyhlLCBfX1BSSVZBVEVfdG9SZXNvdXJjZVBhdGgodCwgbiksIHIsIGksIHMpKSkuY2F0Y2goKGUgPT4ge1xuICAgICAgICAgICAgdGhyb3cgXCJGaXJlYmFzZUVycm9yXCIgPT09IGUubmFtZSA/IChlLmNvZGUgPT09IEMuVU5BVVRIRU5USUNBVEVEICYmICh0aGlzLmF1dGhDcmVkZW50aWFscy5pbnZhbGlkYXRlVG9rZW4oKSwgXG4gICAgICAgICAgICB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCkpLCBlKSA6IG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOS05PV04sIGUudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgLyoqIEludm9rZXMgdGhlIHByb3ZpZGVkIFJQQyB3aXRoIHN0cmVhbWVkIHJlc3VsdHMgd2l0aCBhdXRoIGFuZCBBcHBDaGVjayB0b2tlbnMuICovICAgIHhvKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZl8oKSwgUHJvbWlzZS5hbGwoWyB0aGlzLmF1dGhDcmVkZW50aWFscy5nZXRUb2tlbigpLCB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbHMuZ2V0VG9rZW4oKSBdKS50aGVuKCgoW3MsIG9dKSA9PiB0aGlzLmNvbm5lY3Rpb24ueG8oZSwgX19QUklWQVRFX3RvUmVzb3VyY2VQYXRoKHQsIG4pLCByLCBzLCBvLCBpKSkpLmNhdGNoKChlID0+IHtcbiAgICAgICAgICAgIHRocm93IFwiRmlyZWJhc2VFcnJvclwiID09PSBlLm5hbWUgPyAoZS5jb2RlID09PSBDLlVOQVVUSEVOVElDQVRFRCAmJiAodGhpcy5hdXRoQ3JlZGVudGlhbHMuaW52YWxpZGF0ZVRva2VuKCksIFxuICAgICAgICAgICAgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzLmludmFsaWRhdGVUb2tlbigpKSwgZSkgOiBuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTktOT1dOLCBlLnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgdGhpcy5tXyA9ICEwLCB0aGlzLmNvbm5lY3Rpb24udGVybWluYXRlKCk7XG4gICAgfVxufVxuXG4vLyBUT0RPKGZpcmVzdG9yZXhwKTogTWFrZSBzdXJlIHRoZXJlIGlzIG9ubHkgb25lIERhdGFzdG9yZSBpbnN0YW5jZSBwZXJcbi8vIGZpcmVzdG9yZS1leHAgY2xpZW50LlxuLyoqXG4gKiBBIGNvbXBvbmVudCB1c2VkIGJ5IHRoZSBSZW1vdGVTdG9yZSB0byB0cmFjayB0aGUgT25saW5lU3RhdGUgKHRoYXQgaXMsXG4gKiB3aGV0aGVyIG9yIG5vdCB0aGUgY2xpZW50IGFzIGEgd2hvbGUgc2hvdWxkIGJlIGNvbnNpZGVyZWQgdG8gYmUgb25saW5lIG9yXG4gKiBvZmZsaW5lKSwgaW1wbGVtZW50aW5nIHRoZSBhcHByb3ByaWF0ZSBoZXVyaXN0aWNzLlxuICpcbiAqIEluIHBhcnRpY3VsYXIsIHdoZW4gdGhlIGNsaWVudCBpcyB0cnlpbmcgdG8gY29ubmVjdCB0byB0aGUgYmFja2VuZCwgd2VcbiAqIGFsbG93IHVwIHRvIE1BWF9XQVRDSF9TVFJFQU1fRkFJTFVSRVMgd2l0aGluIE9OTElORV9TVEFURV9USU1FT1VUX01TIGZvclxuICogYSBjb25uZWN0aW9uIHRvIHN1Y2NlZWQuIElmIHdlIGhhdmUgdG9vIG1hbnkgZmFpbHVyZXMgb3IgdGhlIHRpbWVvdXQgZWxhcHNlcyxcbiAqIHRoZW4gd2Ugc2V0IHRoZSBPbmxpbmVTdGF0ZSB0byBPZmZsaW5lLCBhbmQgdGhlIGNsaWVudCB3aWxsIGJlaGF2ZSBhcyBpZlxuICogaXQgaXMgb2ZmbGluZSAoZ2V0KClzIHdpbGwgcmV0dXJuIGNhY2hlZCBkYXRhLCBldGMuKS5cbiAqL1xuY2xhc3MgX19QUklWQVRFX09ubGluZVN0YXRlVHJhY2tlciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLmFzeW5jUXVldWUgPSBlLCB0aGlzLm9ubGluZVN0YXRlSGFuZGxlciA9IHQsIFxuICAgICAgICAvKiogVGhlIGN1cnJlbnQgT25saW5lU3RhdGUuICovXG4gICAgICAgIHRoaXMuc3RhdGUgPSBcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovICwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGNvdW50IG9mIGNvbnNlY3V0aXZlIGZhaWx1cmVzIHRvIG9wZW4gdGhlIHN0cmVhbS4gSWYgaXQgcmVhY2hlcyB0aGVcbiAgICAgICAgICogbWF4aW11bSBkZWZpbmVkIGJ5IE1BWF9XQVRDSF9TVFJFQU1fRkFJTFVSRVMsIHdlJ2xsIHNldCB0aGUgT25saW5lU3RhdGUgdG9cbiAgICAgICAgICogT2ZmbGluZS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ18gPSAwLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgdGltZXIgdGhhdCBlbGFwc2VzIGFmdGVyIE9OTElORV9TVEFURV9USU1FT1VUX01TLCBhdCB3aGljaCBwb2ludCB3ZVxuICAgICAgICAgKiB0cmFuc2l0aW9uIGZyb20gT25saW5lU3RhdGUuVW5rbm93biB0byBPbmxpbmVTdGF0ZS5PZmZsaW5lIHdpdGhvdXQgd2FpdGluZ1xuICAgICAgICAgKiBmb3IgdGhlIHN0cmVhbSB0byBhY3R1YWxseSBmYWlsIChNQVhfV0FUQ0hfU1RSRUFNX0ZBSUxVUkVTIHRpbWVzKS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucF8gPSBudWxsLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhlIGNsaWVudCBzaG91bGQgbG9nIGEgd2FybmluZyBtZXNzYWdlIGlmIGl0IGZhaWxzIHRvIGNvbm5lY3QgdG9cbiAgICAgICAgICogdGhlIGJhY2tlbmQgKGluaXRpYWxseSB0cnVlLCBjbGVhcmVkIGFmdGVyIGEgc3VjY2Vzc2Z1bCBzdHJlYW0sIG9yIGlmIHdlJ3ZlXG4gICAgICAgICAqIGxvZ2dlZCB0aGUgbWVzc2FnZSBhbHJlYWR5KS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMueV8gPSAhMDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbGVkIGJ5IFJlbW90ZVN0b3JlIHdoZW4gYSB3YXRjaCBzdHJlYW0gaXMgc3RhcnRlZCAoaW5jbHVkaW5nIG9uIGVhY2hcbiAgICAgKiBiYWNrb2ZmIGF0dGVtcHQpLlxuICAgICAqXG4gICAgICogSWYgdGhpcyBpcyB0aGUgZmlyc3QgYXR0ZW1wdCwgaXQgc2V0cyB0aGUgT25saW5lU3RhdGUgdG8gVW5rbm93biBhbmQgc3RhcnRzXG4gICAgICogdGhlIG9ubGluZVN0YXRlVGltZXIuXG4gICAgICovICAgIHdfKCkge1xuICAgICAgICAwID09PSB0aGlzLmdfICYmICh0aGlzLlNfKFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pLCB0aGlzLnBfID0gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBZnRlckRlbGF5KFwib25saW5lX3N0YXRlX3RpbWVvdXRcIiAvKiBUaW1lcklkLk9ubGluZVN0YXRlVGltZW91dCAqLyAsIDFlNCwgKCgpID0+ICh0aGlzLnBfID0gbnVsbCwgXG4gICAgICAgIHRoaXMuYl8oXCJCYWNrZW5kIGRpZG4ndCByZXNwb25kIHdpdGhpbiAxMCBzZWNvbmRzLlwiKSwgdGhpcy5TXyhcIk9mZmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PZmZsaW5lICovKSwgXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpKSkpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBkYXRlcyBvdXIgT25saW5lU3RhdGUgYXMgYXBwcm9wcmlhdGUgYWZ0ZXIgdGhlIHdhdGNoIHN0cmVhbSByZXBvcnRzIGFcbiAgICAgKiBmYWlsdXJlLiBUaGUgZmlyc3QgZmFpbHVyZSBtb3ZlcyB1cyB0byB0aGUgJ1Vua25vd24nIHN0YXRlLiBXZSB0aGVuIG1heVxuICAgICAqIGFsbG93IG11bHRpcGxlIGZhaWx1cmVzIChiYXNlZCBvbiBNQVhfV0FUQ0hfU1RSRUFNX0ZBSUxVUkVTKSBiZWZvcmUgd2VcbiAgICAgKiBhY3R1YWxseSB0cmFuc2l0aW9uIHRvIHRoZSAnT2ZmbGluZScgc3RhdGUuXG4gICAgICovICAgIERfKGUpIHtcbiAgICAgICAgXCJPbmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PbmxpbmUgKi8gPT09IHRoaXMuc3RhdGUgPyB0aGlzLlNfKFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pIDogKHRoaXMuZ18rKywgXG4gICAgICAgIHRoaXMuZ18gPj0gMSAmJiAodGhpcy5DXygpLCB0aGlzLmJfKGBDb25uZWN0aW9uIGZhaWxlZCAxIHRpbWVzLiBNb3N0IHJlY2VudCBlcnJvcjogJHtlLnRvU3RyaW5nKCl9YCksIFxuICAgICAgICB0aGlzLlNfKFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8pKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEV4cGxpY2l0bHkgc2V0cyB0aGUgT25saW5lU3RhdGUgdG8gdGhlIHNwZWNpZmllZCBzdGF0ZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHJlc2V0cyBvdXIgdGltZXJzIC8gZmFpbHVyZSBjb3VudGVycywgZXRjLiB1c2VkIGJ5IG91clxuICAgICAqIE9mZmxpbmUgaGV1cmlzdGljcywgc28gbXVzdCBub3QgYmUgdXNlZCBpbiBwbGFjZSBvZlxuICAgICAqIGhhbmRsZVdhdGNoU3RyZWFtU3RhcnQoKSBhbmQgaGFuZGxlV2F0Y2hTdHJlYW1GYWlsdXJlKCkuXG4gICAgICovICAgIHNldChlKSB7XG4gICAgICAgIHRoaXMuQ18oKSwgdGhpcy5nXyA9IDAsIFwiT25saW5lXCIgLyogT25saW5lU3RhdGUuT25saW5lICovID09PSBlICYmIChcbiAgICAgICAgLy8gV2UndmUgY29ubmVjdGVkIHRvIHdhdGNoIGF0IGxlYXN0IG9uY2UuIERvbid0IHdhcm4gdGhlIGRldmVsb3BlclxuICAgICAgICAvLyBhYm91dCBiZWluZyBvZmZsaW5lIGdvaW5nIGZvcndhcmQuXG4gICAgICAgIHRoaXMueV8gPSAhMSksIHRoaXMuU18oZSk7XG4gICAgfVxuICAgIFNfKGUpIHtcbiAgICAgICAgZSAhPT0gdGhpcy5zdGF0ZSAmJiAodGhpcy5zdGF0ZSA9IGUsIHRoaXMub25saW5lU3RhdGVIYW5kbGVyKGUpKTtcbiAgICB9XG4gICAgYl8oZSkge1xuICAgICAgICBjb25zdCB0ID0gYENvdWxkIG5vdCByZWFjaCBDbG91ZCBGaXJlc3RvcmUgYmFja2VuZC4gJHtlfVxcblRoaXMgdHlwaWNhbGx5IGluZGljYXRlcyB0aGF0IHlvdXIgZGV2aWNlIGRvZXMgbm90IGhhdmUgYSBoZWFsdGh5IEludGVybmV0IGNvbm5lY3Rpb24gYXQgdGhlIG1vbWVudC4gVGhlIGNsaWVudCB3aWxsIG9wZXJhdGUgaW4gb2ZmbGluZSBtb2RlIHVudGlsIGl0IGlzIGFibGUgdG8gc3VjY2Vzc2Z1bGx5IGNvbm5lY3QgdG8gdGhlIGJhY2tlbmQuYDtcbiAgICAgICAgdGhpcy55XyA/IChfX1BSSVZBVEVfbG9nRXJyb3IodCksIHRoaXMueV8gPSAhMSkgOiBfX1BSSVZBVEVfbG9nRGVidWcoXCJPbmxpbmVTdGF0ZVRyYWNrZXJcIiwgdCk7XG4gICAgfVxuICAgIENfKCkge1xuICAgICAgICBudWxsICE9PSB0aGlzLnBfICYmICh0aGlzLnBfLmNhbmNlbCgpLCB0aGlzLnBfID0gbnVsbCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfUmVtb3RlU3RvcmVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgbG9jYWwgc3RvcmUsIHVzZWQgdG8gZmlsbCB0aGUgd3JpdGUgcGlwZWxpbmUgd2l0aCBvdXRib3VuZCBtdXRhdGlvbnMuXG4gICAgICovXG4gICAgZSwgXG4gICAgLyoqIFRoZSBjbGllbnQtc2lkZSBwcm94eSBmb3IgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgYmFja2VuZC4gKi9cbiAgICB0LCBuLCByLCBpKSB7XG4gICAgICAgIHRoaXMubG9jYWxTdG9yZSA9IGUsIHRoaXMuZGF0YXN0b3JlID0gdCwgdGhpcy5hc3luY1F1ZXVlID0gbiwgdGhpcy5yZW1vdGVTeW5jZXIgPSB7fSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIGxpc3Qgb2YgdXAgdG8gTUFYX1BFTkRJTkdfV1JJVEVTIHdyaXRlcyB0aGF0IHdlIGhhdmUgZmV0Y2hlZCBmcm9tIHRoZVxuICAgICAgICAgKiBMb2NhbFN0b3JlIHZpYSBmaWxsV3JpdGVQaXBlbGluZSgpIGFuZCBoYXZlIG9yIHdpbGwgc2VuZCB0byB0aGUgd3JpdGVcbiAgICAgICAgICogc3RyZWFtLlxuICAgICAgICAgKlxuICAgICAgICAgKiBXaGVuZXZlciB3cml0ZVBpcGVsaW5lLmxlbmd0aCA+IDAgdGhlIFJlbW90ZVN0b3JlIHdpbGwgYXR0ZW1wdCB0byBzdGFydCBvclxuICAgICAgICAgKiByZXN0YXJ0IHRoZSB3cml0ZSBzdHJlYW0uIFdoZW4gdGhlIHN0cmVhbSBpcyBlc3RhYmxpc2hlZCB0aGUgd3JpdGVzIGluIHRoZVxuICAgICAgICAgKiBwaXBlbGluZSB3aWxsIGJlIHNlbnQgaW4gb3JkZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdyaXRlcyByZW1haW4gaW4gd3JpdGVQaXBlbGluZSB1bnRpbCB0aGV5IGFyZSBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmRcbiAgICAgICAgICogYW5kIHRodXMgd2lsbCBhdXRvbWF0aWNhbGx5IGJlIHJlLXNlbnQgaWYgdGhlIHN0cmVhbSBpcyBpbnRlcnJ1cHRlZCAvXG4gICAgICAgICAqIHJlc3RhcnRlZCBiZWZvcmUgdGhleSdyZSBhY2tub3dsZWRnZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFdyaXRlIHJlc3BvbnNlcyBmcm9tIHRoZSBiYWNrZW5kIGFyZSBsaW5rZWQgdG8gdGhlaXIgb3JpZ2luYXRpbmcgcmVxdWVzdFxuICAgICAgICAgKiBwdXJlbHkgYmFzZWQgb24gb3JkZXIsIGFuZCBzbyB3ZSBjYW4ganVzdCBzaGlmdCgpIHdyaXRlcyBmcm9tIHRoZSBmcm9udCBvZlxuICAgICAgICAgKiB0aGUgd3JpdGVQaXBlbGluZSBhcyB3ZSByZWNlaXZlIHJlc3BvbnNlcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMudl8gPSBbXSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIG1hcHBpbmcgb2Ygd2F0Y2hlZCB0YXJnZXRzIHRoYXQgdGhlIGNsaWVudCBjYXJlcyBhYm91dCB0cmFja2luZyBhbmQgdGhlXG4gICAgICAgICAqIHVzZXIgaGFzIGV4cGxpY2l0bHkgY2FsbGVkIGEgJ2xpc3RlbicgZm9yIHRoaXMgdGFyZ2V0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGVzZSB0YXJnZXRzIG1heSBvciBtYXkgbm90IGhhdmUgYmVlbiBzZW50IHRvIG9yIGFja25vd2xlZGdlZCBieSB0aGVcbiAgICAgICAgICogc2VydmVyLiBPbiByZS1lc3RhYmxpc2hpbmcgdGhlIGxpc3RlbiBzdHJlYW0sIHRoZXNlIHRhcmdldHMgc2hvdWxkIGJlIHNlbnRcbiAgICAgICAgICogdG8gdGhlIHNlcnZlci4gVGhlIHRhcmdldHMgcmVtb3ZlZCB3aXRoIHVubGlzdGVucyBhcmUgcmVtb3ZlZCBlYWdlcmx5XG4gICAgICAgICAqIHdpdGhvdXQgd2FpdGluZyBmb3IgY29uZmlybWF0aW9uIGZyb20gdGhlIGxpc3RlbiBzdHJlYW0uXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLkZfID0gbmV3IE1hcCwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNldCBvZiByZWFzb25zIGZvciB3aHkgdGhlIFJlbW90ZVN0b3JlIG1heSBiZSBvZmZsaW5lLiBJZiBlbXB0eSwgdGhlXG4gICAgICAgICAqIFJlbW90ZVN0b3JlIG1heSBzdGFydCBpdHMgbmV0d29yayBjb25uZWN0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuTV8gPSBuZXcgU2V0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV2ZW50IGhhbmRsZXJzIHRoYXQgZ2V0IGNhbGxlZCB3aGVuIHRoZSBuZXR3b3JrIGlzIGRpc2FibGVkIG9yIGVuYWJsZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFBPUlRJTkcgTk9URTogVGhlc2UgZnVuY3Rpb25zIGFyZSB1c2VkIG9uIHRoZSBXZWIgY2xpZW50IHRvIGNyZWF0ZSB0aGVcbiAgICAgICAgICogdW5kZXJseWluZyBzdHJlYW1zICh0byBzdXBwb3J0IHRyZWUtc2hha2VhYmxlIHN0cmVhbXMpLiBPbiBBbmRyb2lkIGFuZCBpT1MsXG4gICAgICAgICAqIHRoZSBzdHJlYW1zIGFyZSBjcmVhdGVkIGR1cmluZyBjb25zdHJ1Y3Rpb24gb2YgUmVtb3RlU3RvcmUuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnhfID0gW10sIHRoaXMuT18gPSBpLCB0aGlzLk9fLmlvKChlID0+IHtcbiAgICAgICAgICAgIG4uZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFBvcnRpbmcgTm90ZTogVW5saWtlIGlPUywgYHJlc3RhcnROZXR3b3JrKClgIGlzIGNhbGxlZCBldmVuIHdoZW4gdGhlXG4gICAgICAgICAgICAgICAgLy8gbmV0d29yayBiZWNvbWVzIHVucmVhY2hhYmxlIGFzIHdlIGRvbid0IGhhdmUgYW55IG90aGVyIHdheSB0byB0ZWFyXG4gICAgICAgICAgICAgICAgLy8gZG93biBvdXIgc3RyZWFtcy5cbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayh0aGlzKSAmJiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiUmVtb3RlU3RvcmVcIiwgXCJSZXN0YXJ0aW5nIHN0cmVhbXMgZm9yIG5ldHdvcmsgcmVhY2hhYmlsaXR5IGNoYW5nZS5cIiksIFxuICAgICAgICAgICAgICAgIGF3YWl0IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9yZXN0YXJ0TmV0d29yayhlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgICAgICAgICB0Lk1fLmFkZCg0IC8qIE9mZmxpbmVDYXVzZS5Db25uZWN0aXZpdHlDaGFuZ2UgKi8pLCBhd2FpdCBfX1BSSVZBVEVfZGlzYWJsZU5ldHdvcmtJbnRlcm5hbCh0KSwgXG4gICAgICAgICAgICAgICAgICAgIHQuTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pLCB0Lk1fLmRlbGV0ZSg0IC8qIE9mZmxpbmVDYXVzZS5Db25uZWN0aXZpdHlDaGFuZ2UgKi8pLCBcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX2VuYWJsZU5ldHdvcmtJbnRlcm5hbCh0KTtcbiAgICAgICAgICAgICAgICB9KHRoaXMpKTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfSkpLCB0aGlzLk5fID0gbmV3IF9fUFJJVkFURV9PbmxpbmVTdGF0ZVRyYWNrZXIobiwgcik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZW5hYmxlTmV0d29ya0ludGVybmFsKGUpIHtcbiAgICBpZiAoX19QUklWQVRFX2NhblVzZU5ldHdvcmsoZSkpIGZvciAoY29uc3QgdCBvZiBlLnhfKSBhd2FpdCB0KC8qIGVuYWJsZWQ9ICovICEwKTtcbn1cblxuLyoqXG4gKiBUZW1wb3JhcmlseSBkaXNhYmxlcyB0aGUgbmV0d29yay4gVGhlIG5ldHdvcmsgY2FuIGJlIHJlLWVuYWJsZWQgdXNpbmdcbiAqIGVuYWJsZU5ldHdvcmsoKS5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZGlzYWJsZU5ldHdvcmtJbnRlcm5hbChlKSB7XG4gICAgZm9yIChjb25zdCB0IG9mIGUueF8pIGF3YWl0IHQoLyogZW5hYmxlZD0gKi8gITEpO1xufVxuXG4vKipcbiAqIFN0YXJ0cyBuZXcgbGlzdGVuIGZvciB0aGUgZ2l2ZW4gdGFyZ2V0LiBVc2VzIHJlc3VtZSB0b2tlbiBpZiBwcm92aWRlZC4gSXRcbiAqIGlzIGEgbm8tb3AgaWYgdGhlIHRhcmdldCBvZiBnaXZlbiBgVGFyZ2V0RGF0YWAgaXMgYWxyZWFkeSBiZWluZyBsaXN0ZW5lZCB0by5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZVN0b3JlTGlzdGVuKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICBuLkZfLmhhcyh0LnRhcmdldElkKSB8fCAoXG4gICAgLy8gTWFyayB0aGlzIGFzIHNvbWV0aGluZyB0aGUgY2xpZW50IGlzIGN1cnJlbnRseSBsaXN0ZW5pbmcgZm9yLlxuICAgIG4uRl8uc2V0KHQudGFyZ2V0SWQsIHQpLCBfX1BSSVZBVEVfc2hvdWxkU3RhcnRXYXRjaFN0cmVhbShuKSA/IFxuICAgIC8vIFRoZSBsaXN0ZW4gd2lsbCBiZSBzZW50IGluIG9uV2F0Y2hTdHJlYW1PcGVuXG4gICAgX19QUklWQVRFX3N0YXJ0V2F0Y2hTdHJlYW0obikgOiBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hTdHJlYW0obikuWG8oKSAmJiBfX1BSSVZBVEVfc2VuZFdhdGNoUmVxdWVzdChuLCB0KSk7XG59XG5cbi8qKlxuICogUmVtb3ZlcyB0aGUgbGlzdGVuIGZyb20gc2VydmVyLiBJdCBpcyBhIG5vLW9wIGlmIHRoZSBnaXZlbiB0YXJnZXQgaWQgaXNcbiAqIG5vdCBiZWluZyBsaXN0ZW5lZCB0by5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbihlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hTdHJlYW0obik7XG4gICAgbi5GXy5kZWxldGUodCksIHIuWG8oKSAmJiBfX1BSSVZBVEVfc2VuZFVud2F0Y2hSZXF1ZXN0KG4sIHQpLCAwID09PSBuLkZfLnNpemUgJiYgKHIuWG8oKSA/IHIubl8oKSA6IF9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrKG4pICYmIFxuICAgIC8vIFJldmVydCB0byBPbmxpbmVTdGF0ZS5Vbmtub3duIGlmIHRoZSB3YXRjaCBzdHJlYW0gaXMgbm90IG9wZW4gYW5kIHdlXG4gICAgLy8gaGF2ZSBubyBsaXN0ZW5lcnMsIHNpbmNlIHdpdGhvdXQgYW55IGxpc3RlbnMgdG8gc2VuZCB3ZSBjYW5ub3RcbiAgICAvLyBjb25maXJtIGlmIHRoZSBzdHJlYW0gaXMgaGVhbHRoeSBhbmQgdXBncmFkZSB0byBPbmxpbmVTdGF0ZS5PbmxpbmUuXG4gICAgbi5OXy5zZXQoXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLykpO1xufVxuXG4vKipcbiAqIFdlIG5lZWQgdG8gaW5jcmVtZW50IHRoZSB0aGUgZXhwZWN0ZWQgbnVtYmVyIG9mIHBlbmRpbmcgcmVzcG9uc2VzIHdlJ3JlIGR1ZVxuICogZnJvbSB3YXRjaCBzbyB3ZSB3YWl0IGZvciB0aGUgYWNrIHRvIHByb2Nlc3MgYW55IG1lc3NhZ2VzIGZyb20gdGhpcyB0YXJnZXQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QoZSwgdCkge1xuICAgIGlmIChlLkxfLnhlKHQudGFyZ2V0SWQpLCB0LnJlc3VtZVRva2VuLmFwcHJveGltYXRlQnl0ZVNpemUoKSA+IDAgfHwgdC5zbmFwc2hvdFZlcnNpb24uY29tcGFyZVRvKFNuYXBzaG90VmVyc2lvbi5taW4oKSkgPiAwKSB7XG4gICAgICAgIGNvbnN0IG4gPSBlLnJlbW90ZVN5bmNlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KHQudGFyZ2V0SWQpLnNpemU7XG4gICAgICAgIHQgPSB0LndpdGhFeHBlY3RlZENvdW50KG4pO1xuICAgIH1cbiAgICBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hTdHJlYW0oZSkuUF8odCk7XG59XG5cbi8qKlxuICogV2UgbmVlZCB0byBpbmNyZW1lbnQgdGhlIGV4cGVjdGVkIG51bWJlciBvZiBwZW5kaW5nIHJlc3BvbnNlcyB3ZSdyZSBkdWVcbiAqIGZyb20gd2F0Y2ggc28gd2Ugd2FpdCBmb3IgdGhlIHJlbW92YWwgb24gdGhlIHNlcnZlciBiZWZvcmUgd2UgcHJvY2VzcyBhbnlcbiAqIG1lc3NhZ2VzIGZyb20gdGhpcyB0YXJnZXQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3NlbmRVbndhdGNoUmVxdWVzdChlLCB0KSB7XG4gICAgZS5MXy54ZSh0KSwgX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKGUpLklfKHQpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfc3RhcnRXYXRjaFN0cmVhbShlKSB7XG4gICAgZS5MXyA9IG5ldyBfX1BSSVZBVEVfV2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yKHtcbiAgICAgICAgZ2V0UmVtb3RlS2V5c0ZvclRhcmdldDogdCA9PiBlLnJlbW90ZVN5bmNlci5nZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KHQpLFxuICAgICAgICBvdDogdCA9PiBlLkZfLmdldCh0KSB8fCBudWxsLFxuICAgICAgICB0dDogKCkgPT4gZS5kYXRhc3RvcmUuc2VyaWFsaXplci5kYXRhYmFzZUlkXG4gICAgfSksIF9fUFJJVkFURV9lbnN1cmVXYXRjaFN0cmVhbShlKS5zdGFydCgpLCBlLk5fLndfKCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB3aGV0aGVyIHRoZSB3YXRjaCBzdHJlYW0gc2hvdWxkIGJlIHN0YXJ0ZWQgYmVjYXVzZSBpdCdzIG5lY2Vzc2FyeVxuICogYW5kIGhhcyBub3QgeWV0IGJlZW4gc3RhcnRlZC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfc2hvdWxkU3RhcnRXYXRjaFN0cmVhbShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrKGUpICYmICFfX1BSSVZBVEVfZW5zdXJlV2F0Y2hTdHJlYW0oZSkuWm8oKSAmJiBlLkZfLnNpemUgPiAwO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhlKSB7XG4gICAgcmV0dXJuIDAgPT09IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSkuTV8uc2l6ZTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NsZWFuVXBXYXRjaFN0cmVhbVN0YXRlKGUpIHtcbiAgICBlLkxfID0gdm9pZCAwO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25XYXRjaFN0cmVhbUNvbm5lY3RlZChlKSB7XG4gICAgLy8gTWFyayB0aGUgY2xpZW50IGFzIG9ubGluZSBzaW5jZSB3ZSBnb3QgYSBcImNvbm5lY3RlZFwiIG5vdGlmaWNhdGlvbi5cbiAgICBlLk5fLnNldChcIk9ubGluZVwiIC8qIE9ubGluZVN0YXRlLk9ubGluZSAqLyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9vbldhdGNoU3RyZWFtT3BlbihlKSB7XG4gICAgZS5GXy5mb3JFYWNoKCgodCwgbikgPT4ge1xuICAgICAgICBfX1BSSVZBVEVfc2VuZFdhdGNoUmVxdWVzdChlLCB0KTtcbiAgICB9KSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ2xvc2UoZSwgdCkge1xuICAgIF9fUFJJVkFURV9jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZShlKSwgXG4gICAgLy8gSWYgd2Ugc3RpbGwgbmVlZCB0aGUgd2F0Y2ggc3RyZWFtLCByZXRyeSB0aGUgY29ubmVjdGlvbi5cbiAgICBfX1BSSVZBVEVfc2hvdWxkU3RhcnRXYXRjaFN0cmVhbShlKSA/IChlLk5fLkRfKHQpLCBfX1BSSVZBVEVfc3RhcnRXYXRjaFN0cmVhbShlKSkgOiBcbiAgICAvLyBObyBuZWVkIHRvIHJlc3RhcnQgd2F0Y2ggc3RyZWFtIGJlY2F1c2UgdGhlcmUgYXJlIG5vIGFjdGl2ZSB0YXJnZXRzLlxuICAgIC8vIFRoZSBvbmxpbmUgc3RhdGUgaXMgc2V0IHRvIHVua25vd24gYmVjYXVzZSB0aGVyZSBpcyBubyBhY3RpdmUgYXR0ZW1wdFxuICAgIC8vIGF0IGVzdGFibGlzaGluZyBhIGNvbm5lY3Rpb25cbiAgICBlLk5fLnNldChcIlVua25vd25cIiAvKiBPbmxpbmVTdGF0ZS5Vbmtub3duICovKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX29uV2F0Y2hTdHJlYW1DaGFuZ2UoZSwgdCwgbikge1xuICAgIGlmIChcbiAgICAvLyBNYXJrIHRoZSBjbGllbnQgYXMgb25saW5lIHNpbmNlIHdlIGdvdCBhIG1lc3NhZ2UgZnJvbSB0aGUgc2VydmVyXG4gICAgZS5OXy5zZXQoXCJPbmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PbmxpbmUgKi8pLCB0IGluc3RhbmNlb2YgX19QUklWQVRFX1dhdGNoVGFyZ2V0Q2hhbmdlICYmIDIgLyogV2F0Y2hUYXJnZXRDaGFuZ2VTdGF0ZS5SZW1vdmVkICovID09PSB0LnN0YXRlICYmIHQuY2F1c2UpIFxuICAgIC8vIFRoZXJlIHdhcyBhbiBlcnJvciBvbiBhIHRhcmdldCwgZG9uJ3Qgd2FpdCBmb3IgYSBjb25zaXN0ZW50IHNuYXBzaG90XG4gICAgLy8gdG8gcmFpc2UgZXZlbnRzXG4gICAgdHJ5IHtcbiAgICAgICAgYXdhaXQgXG4gICAgICAgIC8qKiBIYW5kbGVzIGFuIGVycm9yIG9uIGEgdGFyZ2V0ICovXG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9oYW5kbGVUYXJnZXRFcnJvcihlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdC5jYXVzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgciBvZiB0LnRhcmdldElkcykgXG4gICAgICAgICAgICAvLyBBIHdhdGNoZWQgdGFyZ2V0IG1pZ2h0IGhhdmUgYmVlbiByZW1vdmVkIGFscmVhZHkuXG4gICAgICAgICAgICBlLkZfLmhhcyhyKSAmJiAoYXdhaXQgZS5yZW1vdGVTeW5jZXIucmVqZWN0TGlzdGVuKHIsIG4pLCBlLkZfLmRlbGV0ZShyKSwgZS5MXy5yZW1vdmVUYXJnZXQocikpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQXR0ZW1wdHMgdG8gZmlsbCBvdXIgd3JpdGUgcGlwZWxpbmUgd2l0aCB3cml0ZXMgZnJvbSB0aGUgTG9jYWxTdG9yZS5cbiAqXG4gKiBDYWxsZWQgaW50ZXJuYWxseSB0byBib290c3RyYXAgb3IgcmVmaWxsIHRoZSB3cml0ZSBwaXBlbGluZSBhbmQgYnlcbiAqIFN5bmNFbmdpbmUgd2hlbmV2ZXIgdGhlcmUgYXJlIG5ldyBtdXRhdGlvbnMgdG8gcHJvY2Vzcy5cbiAqXG4gKiBTdGFydHMgdGhlIHdyaXRlIHN0cmVhbSBpZiBuZWNlc3NhcnkuXG4gKi8gKGUsIHQpO1xuICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiUmVtb3RlU3RvcmVcIiwgXCJGYWlsZWQgdG8gcmVtb3ZlIHRhcmdldHMgJXM6ICVzIFwiLCB0LnRhcmdldElkcy5qb2luKFwiLFwiKSwgbiksIFxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfZGlzYWJsZU5ldHdvcmtVbnRpbFJlY292ZXJ5KGUsIG4pO1xuICAgIH0gZWxzZSBpZiAodCBpbnN0YW5jZW9mIF9fUFJJVkFURV9Eb2N1bWVudFdhdGNoQ2hhbmdlID8gZS5MXy5LZSh0KSA6IHQgaW5zdGFuY2VvZiBfX1BSSVZBVEVfRXhpc3RlbmNlRmlsdGVyQ2hhbmdlID8gZS5MXy5IZSh0KSA6IGUuTF8uV2UodCksIFxuICAgICFuLmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSkgdHJ5IHtcbiAgICAgICAgY29uc3QgdCA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihlLmxvY2FsU3RvcmUpO1xuICAgICAgICBuLmNvbXBhcmVUbyh0KSA+PSAwICYmIFxuICAgICAgICAvLyBXZSBoYXZlIHJlY2VpdmVkIGEgdGFyZ2V0IGNoYW5nZSB3aXRoIGEgZ2xvYmFsIHNuYXBzaG90IGlmIHRoZSBzbmFwc2hvdFxuICAgICAgICAvLyB2ZXJzaW9uIGlzIG5vdCBlcXVhbCB0byBTbmFwc2hvdFZlcnNpb24ubWluKCkuXG4gICAgICAgIGF3YWl0IFxuICAgICAgICAvKipcbiAqIFRha2VzIGEgYmF0Y2ggb2YgY2hhbmdlcyBmcm9tIHRoZSBEYXRhc3RvcmUsIHJlcGFja2FnZXMgdGhlbSBhcyBhXG4gKiBSZW1vdGVFdmVudCwgYW5kIHBhc3NlcyB0aGF0IG9uIHRvIHRoZSBsaXN0ZW5lciwgd2hpY2ggaXMgdHlwaWNhbGx5IHRoZVxuICogU3luY0VuZ2luZS5cbiAqL1xuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfcmFpc2VXYXRjaFNuYXBzaG90KGUsIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBlLkxfLnJ0KHQpO1xuICAgICAgICAgICAgLy8gVXBkYXRlIGluLW1lbW9yeSByZXN1bWUgdG9rZW5zLiBMb2NhbFN0b3JlIHdpbGwgdXBkYXRlIHRoZVxuICAgICAgICAgICAgLy8gcGVyc2lzdGVudCB2aWV3IG9mIHRoZXNlIHdoZW4gYXBwbHlpbmcgdGhlIGNvbXBsZXRlZCBSZW1vdGVFdmVudC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuLnRhcmdldENoYW5nZXMuZm9yRWFjaCgoKG4sIHIpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobi5yZXN1bWVUb2tlbi5hcHByb3hpbWF0ZUJ5dGVTaXplKCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBlLkZfLmdldChyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gQSB3YXRjaGVkIHRhcmdldCBtaWdodCBoYXZlIGJlZW4gcmVtb3ZlZCBhbHJlYWR5LlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgJiYgZS5GXy5zZXQociwgaS53aXRoUmVzdW1lVG9rZW4obi5yZXN1bWVUb2tlbiwgdCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pKSwgXG4gICAgICAgICAgICAvLyBSZS1lc3RhYmxpc2ggbGlzdGVucyBmb3IgdGhlIHRhcmdldHMgdGhhdCBoYXZlIGJlZW4gaW52YWxpZGF0ZWQgYnlcbiAgICAgICAgICAgIC8vIGV4aXN0ZW5jZSBmaWx0ZXIgbWlzbWF0Y2hlcy5cbiAgICAgICAgICAgIG4udGFyZ2V0TWlzbWF0Y2hlcy5mb3JFYWNoKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSBlLkZfLmdldCh0KTtcbiAgICAgICAgICAgICAgICBpZiAoIXIpIFxuICAgICAgICAgICAgICAgIC8vIEEgd2F0Y2hlZCB0YXJnZXQgbWlnaHQgaGF2ZSBiZWVuIHJlbW92ZWQgYWxyZWFkeS5cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgLy8gQ2xlYXIgdGhlIHJlc3VtZSB0b2tlbiBmb3IgdGhlIHRhcmdldCwgc2luY2Ugd2UncmUgaW4gYSBrbm93biBtaXNtYXRjaFxuICAgICAgICAgICAgICAgIC8vIHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLkZfLnNldCh0LCByLndpdGhSZXN1bWVUb2tlbihCeXRlU3RyaW5nLkVNUFRZX0JZVEVfU1RSSU5HLCByLnNuYXBzaG90VmVyc2lvbikpLCBcbiAgICAgICAgICAgICAgICAvLyBDYXVzZSBhIGhhcmQgcmVzZXQgYnkgdW53YXRjaGluZyBhbmQgcmV3YXRjaGluZyBpbW1lZGlhdGVseSwgYnV0XG4gICAgICAgICAgICAgICAgLy8gZGVsaWJlcmF0ZWx5IGRvbid0IHNlbmQgYSByZXN1bWUgdG9rZW4gc28gdGhhdCB3ZSBnZXQgYSBmdWxsIHVwZGF0ZS5cbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfc2VuZFVud2F0Y2hSZXF1ZXN0KGUsIHQpO1xuICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhlIHRhcmdldCB3ZSBzZW5kIGFzIGJlaW5nIG9uIGJlaGFsZiBvZiBhbiBleGlzdGVuY2UgZmlsdGVyXG4gICAgICAgICAgICAgICAgLy8gbWlzbWF0Y2gsIGJ1dCBkb24ndCBhY3R1YWxseSByZXRhaW4gdGhhdCBpbiBsaXN0ZW5UYXJnZXRzLiBUaGlzIGVuc3VyZXNcbiAgICAgICAgICAgICAgICAvLyB0aGF0IHdlIGZsYWcgdGhlIGZpcnN0IHJlLWxpc3RlbiB0aGlzIHdheSB3aXRob3V0IGltcGFjdGluZyBmdXR1cmVcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW5zIG9mIHRoaXMgdGFyZ2V0ICh0aGF0IG1pZ2h0IGhhcHBlbiBlLmcuIG9uIHJlY29ubmVjdCkuXG4gICAgICAgICAgICAgICAgY29uc3QgaSA9IG5ldyBUYXJnZXREYXRhKHIudGFyZ2V0LCB0LCBuLCByLnNlcXVlbmNlTnVtYmVyKTtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfc2VuZFdhdGNoUmVxdWVzdChlLCBpKTtcbiAgICAgICAgICAgIH0pKSwgZS5yZW1vdGVTeW5jZXIuYXBwbHlSZW1vdGVFdmVudChuKTtcbiAgICAgICAgfShlLCBuKTtcbiAgICB9IGNhdGNoICh0KSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIFwiRmFpbGVkIHRvIHJhaXNlIHNuYXBzaG90OlwiLCB0KSwgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeShlLCB0KTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVjb3ZlcnkgbG9naWMgZm9yIEluZGV4ZWREQiBlcnJvcnMgdGhhdCB0YWtlcyB0aGUgbmV0d29yayBvZmZsaW5lIHVudGlsXG4gKiBgb3BgIHN1Y2NlZWRzLiBSZXRyaWVzIGFyZSBzY2hlZHVsZWQgd2l0aCBiYWNrb2ZmIHVzaW5nXG4gKiBgZW5xdWV1ZVJldHJ5YWJsZSgpYC4gSWYgYG9wKClgIGlzIG5vdCBwcm92aWRlZCwgSW5kZXhlZERCIGFjY2VzcyBpc1xuICogdmFsaWRhdGVkIHZpYSBhIGdlbmVyaWMgb3BlcmF0aW9uLlxuICpcbiAqIFRoZSByZXR1cm5lZCBQcm9taXNlIGlzIHJlc29sdmVkIG9uY2UgdGhlIG5ldHdvcmsgaXMgZGlzYWJsZWQgYW5kIGJlZm9yZVxuICogYW55IHJldHJ5IGF0dGVtcHQuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeShlLCB0LCBuKSB7XG4gICAgaWYgKCFfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKHQpKSB0aHJvdyB0O1xuICAgIGUuTV8uYWRkKDEgLyogT2ZmbGluZUNhdXNlLkluZGV4ZWREYkZhaWxlZCAqLyksIFxuICAgIC8vIERpc2FibGUgbmV0d29yayBhbmQgcmFpc2Ugb2ZmbGluZSBzbmFwc2hvdHNcbiAgICBhd2FpdCBfX1BSSVZBVEVfZGlzYWJsZU5ldHdvcmtJbnRlcm5hbChlKSwgZS5OXy5zZXQoXCJPZmZsaW5lXCIgLyogT25saW5lU3RhdGUuT2ZmbGluZSAqLyksIFxuICAgIG4gfHwgKFxuICAgIC8vIFVzZSBhIHNpbXBsZSByZWFkIG9wZXJhdGlvbiB0byBkZXRlcm1pbmUgaWYgSW5kZXhlZERCIHJlY292ZXJlZC5cbiAgICAvLyBJZGVhbGx5LCB3ZSB3b3VsZCBleHBvc2UgYSBoZWFsdGggY2hlY2sgZGlyZWN0bHkgb24gU2ltcGxlRGIsIGJ1dFxuICAgIC8vIFJlbW90ZVN0b3JlIG9ubHkgaGFzIGFjY2VzcyB0byBwZXJzaXN0ZW5jZSB0aHJvdWdoIExvY2FsU3RvcmUuXG4gICAgbiA9ICgpID0+IF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbihlLmxvY2FsU3RvcmUpKSwgXG4gICAgLy8gUHJvYmUgSW5kZXhlZERCIHBlcmlvZGljYWxseSBhbmQgcmUtZW5hYmxlIG5ldHdvcmtcbiAgICBlLmFzeW5jUXVldWUuZW5xdWV1ZVJldHJ5YWJsZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJSZW1vdGVTdG9yZVwiLCBcIlJldHJ5aW5nIEluZGV4ZWREQiBhY2Nlc3NcIiksIGF3YWl0IG4oKSwgZS5NXy5kZWxldGUoMSAvKiBPZmZsaW5lQ2F1c2UuSW5kZXhlZERiRmFpbGVkICovKSwgXG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwoZSk7XG4gICAgfSkpO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIGBvcGAuIElmIGBvcGAgZmFpbHMsIHRha2VzIHRoZSBuZXR3b3JrIG9mZmxpbmUgdW50aWwgYG9wYFxuICogc3VjY2VlZHMuIFJldHVybnMgYWZ0ZXIgdGhlIGZpcnN0IGF0dGVtcHQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2V4ZWN1dGVXaXRoUmVjb3ZlcnkoZSwgdCkge1xuICAgIHJldHVybiB0KCkuY2F0Y2goKG4gPT4gX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeShlLCBuLCB0KSkpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZmlsbFdyaXRlUGlwZWxpbmUoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCBuID0gX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKHQpO1xuICAgIGxldCByID0gdC52Xy5sZW5ndGggPiAwID8gdC52X1t0LnZfLmxlbmd0aCAtIDFdLmJhdGNoSWQgOiAtMTtcbiAgICBmb3IgKDtfX1BSSVZBVEVfY2FuQWRkVG9Xcml0ZVBpcGVsaW5lKHQpOyApIHRyeSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldE5leHRNdXRhdGlvbkJhdGNoKHQubG9jYWxTdG9yZSwgcik7XG4gICAgICAgIGlmIChudWxsID09PSBlKSB7XG4gICAgICAgICAgICAwID09PSB0LnZfLmxlbmd0aCAmJiBuLm5fKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByID0gZS5iYXRjaElkLCBfX1BSSVZBVEVfYWRkVG9Xcml0ZVBpcGVsaW5lKHQsIGUpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeSh0LCBlKTtcbiAgICB9XG4gICAgX19QUklWQVRFX3Nob3VsZFN0YXJ0V3JpdGVTdHJlYW0odCkgJiYgX19QUklWQVRFX3N0YXJ0V3JpdGVTdHJlYW0odCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHdlIGNhbiBhZGQgdG8gdGhlIHdyaXRlIHBpcGVsaW5lIChpLmUuIHRoZSBuZXR3b3JrIGlzXG4gKiBlbmFibGVkIGFuZCB0aGUgd3JpdGUgcGlwZWxpbmUgaXMgbm90IGZ1bGwpLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5BZGRUb1dyaXRlUGlwZWxpbmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhlKSAmJiBlLnZfLmxlbmd0aCA8IDEwO1xufVxuXG4vKipcbiAqIFF1ZXVlcyBhZGRpdGlvbmFsIHdyaXRlcyB0byBiZSBzZW50IHRvIHRoZSB3cml0ZSBzdHJlYW0sIHNlbmRpbmcgdGhlbVxuICogaW1tZWRpYXRlbHkgaWYgdGhlIHdyaXRlIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYWRkVG9Xcml0ZVBpcGVsaW5lKGUsIHQpIHtcbiAgICBlLnZfLnB1c2godCk7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbShlKTtcbiAgICBuLlhvKCkgJiYgbi5FXyAmJiBuLmRfKHQubXV0YXRpb25zKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3Nob3VsZFN0YXJ0V3JpdGVTdHJlYW0oZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfY2FuVXNlTmV0d29yayhlKSAmJiAhX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpLlpvKCkgJiYgZS52Xy5sZW5ndGggPiAwO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfc3RhcnRXcml0ZVN0cmVhbShlKSB7XG4gICAgX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpLnN0YXJ0KCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9vbldyaXRlU3RyZWFtT3BlbihlKSB7XG4gICAgX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpLlZfKCk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9vbldyaXRlSGFuZHNoYWtlQ29tcGxldGUoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZW5zdXJlV3JpdGVTdHJlYW0oZSk7XG4gICAgLy8gU2VuZCB0aGUgd3JpdGUgcGlwZWxpbmUgbm93IHRoYXQgdGhlIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGUudl8pIHQuZF8obi5tdXRhdGlvbnMpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25NdXRhdGlvblJlc3VsdChlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IGUudl8uc2hpZnQoKSwgaSA9IE11dGF0aW9uQmF0Y2hSZXN1bHQuZnJvbShyLCB0LCBuKTtcbiAgICBhd2FpdCBfX1BSSVZBVEVfZXhlY3V0ZVdpdGhSZWNvdmVyeShlLCAoKCkgPT4gZS5yZW1vdGVTeW5jZXIuYXBwbHlTdWNjZXNzZnVsV3JpdGUoaSkpKSwgXG4gICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHdpdGggdGhlIGNvbXBsZXRpb24gb2YgdGhpcyBtdXRhdGlvbiBhbm90aGVyXG4gICAgLy8gc2xvdCBoYXMgZnJlZWQgdXAuXG4gICAgYXdhaXQgX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKGUpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfb25Xcml0ZVN0cmVhbUNsb3NlKGUsIHQpIHtcbiAgICAvLyBJZiB0aGUgd3JpdGUgc3RyZWFtIGNsb3NlZCBhZnRlciB0aGUgd3JpdGUgaGFuZHNoYWtlIGNvbXBsZXRlcywgYSB3cml0ZVxuICAgIC8vIG9wZXJhdGlvbiBmYWlsZWQgYW5kIHdlIGZhaWwgdGhlIHBlbmRpbmcgb3BlcmF0aW9uLlxuICAgIHQgJiYgX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpLkVfICYmIFxuICAgIC8vIFRoaXMgZXJyb3IgYWZmZWN0cyB0aGUgYWN0dWFsIHdyaXRlLlxuICAgIGF3YWl0IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9oYW5kbGVXcml0ZUVycm9yKGUsIHQpIHtcbiAgICAgICAgLy8gT25seSBoYW5kbGUgcGVybWFuZW50IGVycm9ycyBoZXJlLiBJZiBpdCdzIHRyYW5zaWVudCwganVzdCBsZXQgdGhlIHJldHJ5XG4gICAgICAgIC8vIGxvZ2ljIGtpY2sgaW4uXG4gICAgICAgIGlmIChmdW5jdGlvbiBfX1BSSVZBVEVfaXNQZXJtYW5lbnRXcml0ZUVycm9yKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfaXNQZXJtYW5lbnRFcnJvcihlKSAmJiBlICE9PSBDLkFCT1JURUQ7XG4gICAgICAgIH0odC5jb2RlKSkge1xuICAgICAgICAgICAgLy8gVGhpcyB3YXMgYSBwZXJtYW5lbnQgZXJyb3IsIHRoZSByZXF1ZXN0IGl0c2VsZiB3YXMgdGhlIHByb2JsZW1cbiAgICAgICAgICAgIC8vIHNvIGl0J3Mgbm90IGdvaW5nIHRvIHN1Y2NlZWQgaWYgd2UgcmVzZW5kIGl0LlxuICAgICAgICAgICAgY29uc3QgbiA9IGUudl8uc2hpZnQoKTtcbiAgICAgICAgICAgIC8vIEluIHRoaXMgY2FzZSBpdCdzIGFsc28gdW5saWtlbHkgdGhhdCB0aGUgc2VydmVyIGl0c2VsZiBpcyBtZWx0aW5nXG4gICAgICAgICAgICAvLyBkb3duIC0tIHRoaXMgd2FzIGp1c3QgYSBiYWQgcmVxdWVzdCBzbyBpbmhpYml0IGJhY2tvZmYgb24gdGhlIG5leHRcbiAgICAgICAgICAgIC8vIHJlc3RhcnQuXG4gICAgICAgICAgICAgICAgICAgICAgICBfX1BSSVZBVEVfZW5zdXJlV3JpdGVTdHJlYW0oZSkudF8oKSwgYXdhaXQgX19QUklWQVRFX2V4ZWN1dGVXaXRoUmVjb3ZlcnkoZSwgKCgpID0+IGUucmVtb3RlU3luY2VyLnJlamVjdEZhaWxlZFdyaXRlKG4uYmF0Y2hJZCwgdCkpKSwgXG4gICAgICAgICAgICAvLyBJdCdzIHBvc3NpYmxlIHRoYXQgd2l0aCB0aGUgY29tcGxldGlvbiBvZiB0aGlzIG11dGF0aW9uXG4gICAgICAgICAgICAvLyBhbm90aGVyIHNsb3QgaGFzIGZyZWVkIHVwLlxuICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKGUpO1xuICAgICAgICB9XG4gICAgfShlLCB0KSwgXG4gICAgLy8gVGhlIHdyaXRlIHN0cmVhbSBtaWdodCBoYXZlIGJlZW4gc3RhcnRlZCBieSByZWZpbGxpbmcgdGhlIHdyaXRlXG4gICAgLy8gcGlwZWxpbmUgZm9yIGZhaWxlZCB3cml0ZXNcbiAgICBfX1BSSVZBVEVfc2hvdWxkU3RhcnRXcml0ZVN0cmVhbShlKSAmJiBfX1BSSVZBVEVfc3RhcnRXcml0ZVN0cmVhbShlKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZVN0b3JlSGFuZGxlQ3JlZGVudGlhbENoYW5nZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgbi5hc3luY1F1ZXVlLnZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MoKSwgX19QUklWQVRFX2xvZ0RlYnVnKFwiUmVtb3RlU3RvcmVcIiwgXCJSZW1vdGVTdG9yZSByZWNlaXZlZCBuZXcgY3JlZGVudGlhbHNcIik7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrKG4pO1xuICAgIC8vIFRlYXIgZG93biBhbmQgcmUtY3JlYXRlIG91ciBuZXR3b3JrIHN0cmVhbXMuIFRoaXMgd2lsbCBlbnN1cmUgd2UgZ2V0IGFcbiAgICAvLyBmcmVzaCBhdXRoIHRva2VuIGZvciB0aGUgbmV3IHVzZXIgYW5kIHJlLWZpbGwgdGhlIHdyaXRlIHBpcGVsaW5lIHdpdGhcbiAgICAvLyBuZXcgbXV0YXRpb25zIGZyb20gdGhlIExvY2FsU3RvcmUgKHNpbmNlIG11dGF0aW9ucyBhcmUgcGVyLXVzZXIpLlxuICAgICAgICBuLk1fLmFkZCgzIC8qIE9mZmxpbmVDYXVzZS5DcmVkZW50aWFsQ2hhbmdlICovKSwgYXdhaXQgX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwobiksIFxuICAgIHIgJiYgXG4gICAgLy8gRG9uJ3Qgc2V0IHRoZSBuZXR3b3JrIHN0YXR1cyB0byBVbmtub3duIGlmIHdlIGFyZSBvZmZsaW5lLlxuICAgIG4uTl8uc2V0KFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8pLCBhd2FpdCBuLnJlbW90ZVN5bmNlci5oYW5kbGVDcmVkZW50aWFsQ2hhbmdlKHQpLCBcbiAgICBuLk1fLmRlbGV0ZSgzIC8qIE9mZmxpbmVDYXVzZS5DcmVkZW50aWFsQ2hhbmdlICovKSwgYXdhaXQgX19QUklWQVRFX2VuYWJsZU5ldHdvcmtJbnRlcm5hbChuKTtcbn1cblxuLyoqXG4gKiBUb2dnbGVzIHRoZSBuZXR3b3JrIHN0YXRlIHdoZW4gdGhlIGNsaWVudCBnYWlucyBvciBsb3NlcyBpdHMgcHJpbWFyeSBsZWFzZS5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVBcHBseVByaW1hcnlTdGF0ZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgdCA/IChuLk1fLmRlbGV0ZSgyIC8qIE9mZmxpbmVDYXVzZS5Jc1NlY29uZGFyeSAqLyksIGF3YWl0IF9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwobikpIDogdCB8fCAobi5NXy5hZGQoMiAvKiBPZmZsaW5lQ2F1c2UuSXNTZWNvbmRhcnkgKi8pLCBcbiAgICBhd2FpdCBfX1BSSVZBVEVfZGlzYWJsZU5ldHdvcmtJbnRlcm5hbChuKSwgbi5OXy5zZXQoXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLykpO1xufVxuXG4vKipcbiAqIElmIG5vdCB5ZXQgaW5pdGlhbGl6ZWQsIHJlZ2lzdGVycyB0aGUgV2F0Y2hTdHJlYW0gYW5kIGl0cyBuZXR3b3JrIHN0YXRlXG4gKiBjYWxsYmFjayB3aXRoIGByZW1vdGVTdG9yZUltcGxgLiBSZXR1cm5zIHRoZSBleGlzdGluZyBzdHJlYW0gaWYgb25lIGlzXG4gKiBhbHJlYWR5IGF2YWlsYWJsZS5cbiAqXG4gKiBQT1JUSU5HIE5PVEU6IE9uIGlPUyBhbmQgQW5kcm9pZCwgdGhlIFdhdGNoU3RyZWFtIGdldHMgcmVnaXN0ZXJlZCBvbiBzdGFydHVwLlxuICogVGhpcyBpcyBub3QgZG9uZSBvbiBXZWIgdG8gYWxsb3cgaXQgdG8gYmUgdHJlZS1zaGFrZW4uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtKGUpIHtcbiAgICByZXR1cm4gZS5CXyB8fCAoXG4gICAgLy8gQ3JlYXRlIHN0cmVhbSAoYnV0IG5vdGUgdGhhdCBpdCBpcyBub3Qgc3RhcnRlZCB5ZXQpLlxuICAgIGUuQl8gPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UGVyc2lzdGVudFdhdGNoU3RyZWFtKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgIHJldHVybiByLmZfKCksIG5ldyBfX1BSSVZBVEVfUGVyc2lzdGVudExpc3RlblN0cmVhbSh0LCByLmNvbm5lY3Rpb24sIHIuYXV0aENyZWRlbnRpYWxzLCByLmFwcENoZWNrQ3JlZGVudGlhbHMsIHIuc2VyaWFsaXplciwgbik7XG4gICAgfVxuICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE4IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIChlLmRhdGFzdG9yZSwgZS5hc3luY1F1ZXVlLCB7XG4gICAgICAgIFBvOiBfX1BSSVZBVEVfb25XYXRjaFN0cmVhbUNvbm5lY3RlZC5iaW5kKG51bGwsIGUpLFxuICAgICAgICBUbzogX19QUklWQVRFX29uV2F0Y2hTdHJlYW1PcGVuLmJpbmQobnVsbCwgZSksXG4gICAgICAgIEFvOiBfX1BSSVZBVEVfb25XYXRjaFN0cmVhbUNsb3NlLmJpbmQobnVsbCwgZSksXG4gICAgICAgIGhfOiBfX1BSSVZBVEVfb25XYXRjaFN0cmVhbUNoYW5nZS5iaW5kKG51bGwsIGUpXG4gICAgfSksIGUueF8ucHVzaCgoYXN5bmMgdCA9PiB7XG4gICAgICAgIHQgPyAoZS5CXy50XygpLCBfX1BSSVZBVEVfc2hvdWxkU3RhcnRXYXRjaFN0cmVhbShlKSA/IF9fUFJJVkFURV9zdGFydFdhdGNoU3RyZWFtKGUpIDogZS5OXy5zZXQoXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLykpIDogKGF3YWl0IGUuQl8uc3RvcCgpLCBcbiAgICAgICAgX19QUklWQVRFX2NsZWFuVXBXYXRjaFN0cmVhbVN0YXRlKGUpKTtcbiAgICB9KSkpLCBlLkJfO1xufVxuXG4vKipcbiAqIElmIG5vdCB5ZXQgaW5pdGlhbGl6ZWQsIHJlZ2lzdGVycyB0aGUgV3JpdGVTdHJlYW0gYW5kIGl0cyBuZXR3b3JrIHN0YXRlXG4gKiBjYWxsYmFjayB3aXRoIGByZW1vdGVTdG9yZUltcGxgLiBSZXR1cm5zIHRoZSBleGlzdGluZyBzdHJlYW0gaWYgb25lIGlzXG4gKiBhbHJlYWR5IGF2YWlsYWJsZS5cbiAqXG4gKiBQT1JUSU5HIE5PVEU6IE9uIGlPUyBhbmQgQW5kcm9pZCwgdGhlIFdyaXRlU3RyZWFtIGdldHMgcmVnaXN0ZXJlZCBvbiBzdGFydHVwLlxuICogVGhpcyBpcyBub3QgZG9uZSBvbiBXZWIgdG8gYWxsb3cgaXQgdG8gYmUgdHJlZS1zaGFrZW4uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2Vuc3VyZVdyaXRlU3RyZWFtKGUpIHtcbiAgICByZXR1cm4gZS5rXyB8fCAoXG4gICAgLy8gQ3JlYXRlIHN0cmVhbSAoYnV0IG5vdGUgdGhhdCBpdCBpcyBub3Qgc3RhcnRlZCB5ZXQpLlxuICAgIGUua18gPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UGVyc2lzdGVudFdyaXRlU3RyZWFtKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgIHJldHVybiByLmZfKCksIG5ldyBfX1BSSVZBVEVfUGVyc2lzdGVudFdyaXRlU3RyZWFtKHQsIHIuY29ubmVjdGlvbiwgci5hdXRoQ3JlZGVudGlhbHMsIHIuYXBwQ2hlY2tDcmVkZW50aWFscywgci5zZXJpYWxpemVyLCBuKTtcbiAgICB9KGUuZGF0YXN0b3JlLCBlLmFzeW5jUXVldWUsIHtcbiAgICAgICAgUG86ICgpID0+IFByb21pc2UucmVzb2x2ZSgpLFxuICAgICAgICBUbzogX19QUklWQVRFX29uV3JpdGVTdHJlYW1PcGVuLmJpbmQobnVsbCwgZSksXG4gICAgICAgIEFvOiBfX1BSSVZBVEVfb25Xcml0ZVN0cmVhbUNsb3NlLmJpbmQobnVsbCwgZSksXG4gICAgICAgIFJfOiBfX1BSSVZBVEVfb25Xcml0ZUhhbmRzaGFrZUNvbXBsZXRlLmJpbmQobnVsbCwgZSksXG4gICAgICAgIEFfOiBfX1BSSVZBVEVfb25NdXRhdGlvblJlc3VsdC5iaW5kKG51bGwsIGUpXG4gICAgfSksIGUueF8ucHVzaCgoYXN5bmMgdCA9PiB7XG4gICAgICAgIHQgPyAoZS5rXy50XygpLCBcbiAgICAgICAgLy8gVGhpcyB3aWxsIHN0YXJ0IHRoZSB3cml0ZSBzdHJlYW0gaWYgbmVjZXNzYXJ5LlxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfZmlsbFdyaXRlUGlwZWxpbmUoZSkpIDogKGF3YWl0IGUua18uc3RvcCgpLCBlLnZfLmxlbmd0aCA+IDAgJiYgKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlJlbW90ZVN0b3JlXCIsIGBTdG9wcGluZyB3cml0ZSBzdHJlYW0gd2l0aCAke2Uudl8ubGVuZ3RofSBwZW5kaW5nIHdyaXRlc2ApLCBcbiAgICAgICAgZS52XyA9IFtdKSk7XG4gICAgfSkpKSwgZS5rXztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhbiBvcGVyYXRpb24gc2NoZWR1bGVkIHRvIGJlIHJ1biBpbiB0aGUgZnV0dXJlIG9uIGFuIEFzeW5jUXVldWUuXG4gKlxuICogSXQgaXMgY3JlYXRlZCB2aWEgRGVsYXllZE9wZXJhdGlvbi5jcmVhdGVBbmRTY2hlZHVsZSgpLlxuICpcbiAqIFN1cHBvcnRzIGNhbmNlbGxhdGlvbiAodmlhIGNhbmNlbCgpKSBhbmQgZWFybHkgZXhlY3V0aW9uICh2aWEgc2tpcERlbGF5KCkpLlxuICpcbiAqIE5vdGU6IFdlIGltcGxlbWVudCBgUHJvbWlzZUxpa2VgIGluc3RlYWQgb2YgYFByb21pc2VgLCBhcyB0aGUgYFByb21pc2VgIHR5cGVcbiAqIGluIG5ld2VyIHZlcnNpb25zIG9mIFR5cGVTY3JpcHQgZGVmaW5lcyBgZmluYWxseWAsIHdoaWNoIGlzIG5vdCBhdmFpbGFibGUgaW5cbiAqIElFLlxuICovXG5jbGFzcyBEZWxheWVkT3BlcmF0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIHRoaXMuYXN5bmNRdWV1ZSA9IGUsIHRoaXMudGltZXJJZCA9IHQsIHRoaXMudGFyZ2V0VGltZU1zID0gbiwgdGhpcy5vcCA9IHIsIHRoaXMucmVtb3ZhbENhbGxiYWNrID0gaSwgXG4gICAgICAgIHRoaXMuZGVmZXJyZWQgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkLCB0aGlzLnRoZW4gPSB0aGlzLmRlZmVycmVkLnByb21pc2UudGhlbi5iaW5kKHRoaXMuZGVmZXJyZWQucHJvbWlzZSksIFxuICAgICAgICAvLyBJdCdzIG5vcm1hbCBmb3IgdGhlIGRlZmVycmVkIHByb21pc2UgdG8gYmUgY2FuY2VsZWQgKGR1ZSB0byBjYW5jZWxsYXRpb24pXG4gICAgICAgIC8vIGFuZCBzbyB3ZSBhdHRhY2ggYSBkdW1teSBjYXRjaCBjYWxsYmFjayB0byBhdm9pZFxuICAgICAgICAvLyAnVW5oYW5kbGVkUHJvbWlzZVJlamVjdGlvbldhcm5pbmcnIGxvZyBzcGFtLlxuICAgICAgICB0aGlzLmRlZmVycmVkLnByb21pc2UuY2F0Y2goKGUgPT4ge30pKTtcbiAgICB9XG4gICAgZ2V0IHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkLnByb21pc2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBEZWxheWVkT3BlcmF0aW9uIHRoYXQgaGFzIGJlZW4gc2NoZWR1bGVkIHRvIGJlXG4gICAgICogZXhlY3V0ZWQgb24gdGhlIHByb3ZpZGVkIGFzeW5jUXVldWUgYWZ0ZXIgdGhlIHByb3ZpZGVkIGRlbGF5TXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYXN5bmNRdWV1ZSAtIFRoZSBxdWV1ZSB0byBzY2hlZHVsZSB0aGUgb3BlcmF0aW9uIG9uLlxuICAgICAqIEBwYXJhbSBpZCAtIEEgVGltZXIgSUQgaWRlbnRpZnlpbmcgdGhlIHR5cGUgb2Ygb3BlcmF0aW9uIHRoaXMgaXMuXG4gICAgICogQHBhcmFtIGRlbGF5TXMgLSBUaGUgZGVsYXkgKG1zKSBiZWZvcmUgdGhlIG9wZXJhdGlvbiBzaG91bGQgYmUgc2NoZWR1bGVkLlxuICAgICAqIEBwYXJhbSBvcCAtIFRoZSBvcGVyYXRpb24gdG8gcnVuLlxuICAgICAqIEBwYXJhbSByZW1vdmFsQ2FsbGJhY2sgLSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCBzeW5jaHJvbm91c2x5IG9uY2UgdGhlXG4gICAgICogICBvcGVyYXRpb24gaXMgZXhlY3V0ZWQgb3IgY2FuY2VsZWQsIG5vdGlmeWluZyB0aGUgQXN5bmNRdWV1ZSB0byByZW1vdmUgaXRcbiAgICAgKiAgIGZyb20gaXRzIGRlbGF5ZWRPcGVyYXRpb25zIGxpc3QuXG4gICAgICogICBQT1JUSU5HIE5PVEU6IFRoaXMgZXhpc3RzIHRvIHByZXZlbnQgbWFraW5nIHJlbW92ZURlbGF5ZWRPcGVyYXRpb24oKSBhbmRcbiAgICAgKiAgIHRoZSBEZWxheWVkT3BlcmF0aW9uIGNsYXNzIHB1YmxpYy5cbiAgICAgKi8gICAgc3RhdGljIGNyZWF0ZUFuZFNjaGVkdWxlKGUsIHQsIG4sIHIsIGkpIHtcbiAgICAgICAgY29uc3QgcyA9IERhdGUubm93KCkgKyBuLCBvID0gbmV3IERlbGF5ZWRPcGVyYXRpb24oZSwgdCwgcywgciwgaSk7XG4gICAgICAgIHJldHVybiBvLnN0YXJ0KG4pLCBvO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdGFydHMgdGhlIHRpbWVyLiBUaGlzIGlzIGNhbGxlZCBpbW1lZGlhdGVseSBhZnRlciBjb25zdHJ1Y3Rpb24gYnlcbiAgICAgKiBjcmVhdGVBbmRTY2hlZHVsZSgpLlxuICAgICAqLyAgICBzdGFydChlKSB7XG4gICAgICAgIHRoaXMudGltZXJIYW5kbGUgPSBzZXRUaW1lb3V0KCgoKSA9PiB0aGlzLmhhbmRsZURlbGF5RWxhcHNlZCgpKSwgZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFF1ZXVlcyB0aGUgb3BlcmF0aW9uIHRvIHJ1biBpbW1lZGlhdGVseSAoaWYgaXQgaGFzbid0IGFscmVhZHkgYmVlbiBydW4gb3JcbiAgICAgKiBjYW5jZWxlZCkuXG4gICAgICovICAgIHNraXBEZWxheSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlRGVsYXlFbGFwc2VkKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgdGhlIG9wZXJhdGlvbiBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuIGV4ZWN1dGVkIG9yIGNhbmNlbGVkLiBUaGVcbiAgICAgKiBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQuXG4gICAgICpcbiAgICAgKiBBcyBsb25nIGFzIHRoZSBvcGVyYXRpb24gaGFzIG5vdCB5ZXQgYmVlbiBydW4sIGNhbGxpbmcgY2FuY2VsKCkgcHJvdmlkZXMgYVxuICAgICAqIGd1YXJhbnRlZSB0aGF0IHRoZSBvcGVyYXRpb24gd2lsbCBub3QgYmUgcnVuLlxuICAgICAqLyAgICBjYW5jZWwoZSkge1xuICAgICAgICBudWxsICE9PSB0aGlzLnRpbWVySGFuZGxlICYmICh0aGlzLmNsZWFyVGltZW91dCgpLCB0aGlzLmRlZmVycmVkLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5DQU5DRUxMRUQsIFwiT3BlcmF0aW9uIGNhbmNlbGxlZFwiICsgKGUgPyBcIjogXCIgKyBlIDogXCJcIikpKSk7XG4gICAgfVxuICAgIGhhbmRsZURlbGF5RWxhcHNlZCgpIHtcbiAgICAgICAgdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKCgpID0+IG51bGwgIT09IHRoaXMudGltZXJIYW5kbGUgPyAodGhpcy5jbGVhclRpbWVvdXQoKSwgXG4gICAgICAgIHRoaXMub3AoKS50aGVuKChlID0+IHRoaXMuZGVmZXJyZWQucmVzb2x2ZShlKSkpKSA6IFByb21pc2UucmVzb2x2ZSgpKSk7XG4gICAgfVxuICAgIGNsZWFyVGltZW91dCgpIHtcbiAgICAgICAgbnVsbCAhPT0gdGhpcy50aW1lckhhbmRsZSAmJiAodGhpcy5yZW1vdmFsQ2FsbGJhY2sodGhpcyksIGNsZWFyVGltZW91dCh0aGlzLnRpbWVySGFuZGxlKSwgXG4gICAgICAgIHRoaXMudGltZXJIYW5kbGUgPSBudWxsKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIEZpcmVzdG9yZUVycm9yIHRoYXQgY2FuIGJlIHN1cmZhY2VkIHRvIHRoZSB1c2VyIGlmIHRoZSBwcm92aWRlZFxuICogZXJyb3IgaXMgYW4gSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvci4gUmUtdGhyb3dzIHRoZSBlcnJvciBvdGhlcndpc2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3dyYXBJblVzZXJFcnJvcklmUmVjb3ZlcmFibGUoZSwgdCkge1xuICAgIGlmIChfX1BSSVZBVEVfbG9nRXJyb3IoXCJBc3luY1F1ZXVlXCIsIGAke3R9OiAke2V9YCksIF9fUFJJVkFURV9pc0luZGV4ZWREYlRyYW5zYWN0aW9uRXJyb3IoZSkpIHJldHVybiBuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTkFWQUlMQUJMRSwgYCR7dH06ICR7ZX1gKTtcbiAgICB0aHJvdyBlO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBEb2N1bWVudFNldCBpcyBhbiBpbW11dGFibGUgKGNvcHktb24td3JpdGUpIGNvbGxlY3Rpb24gdGhhdCBob2xkcyBkb2N1bWVudHNcbiAqIGluIG9yZGVyIHNwZWNpZmllZCBieSB0aGUgcHJvdmlkZWQgY29tcGFyYXRvci4gV2UgYWx3YXlzIGFkZCBhIGRvY3VtZW50IGtleVxuICogY29tcGFyYXRvciBvbiB0b3Agb2Ygd2hhdCBpcyBwcm92aWRlZCB0byBndWFyYW50ZWUgZG9jdW1lbnQgZXF1YWxpdHkgYmFzZWQgb25cbiAqIHRoZSBrZXkuXG4gKi8gY2xhc3MgRG9jdW1lbnRTZXQge1xuICAgIC8qKiBUaGUgZGVmYXVsdCBvcmRlcmluZyBpcyBieSBrZXkgaWYgdGhlIGNvbXBhcmF0b3IgaXMgb21pdHRlZCAqL1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgLy8gV2UgYXJlIGFkZGluZyBkb2N1bWVudCBrZXkgY29tcGFyYXRvciB0byB0aGUgZW5kIGFzIGl0J3MgdGhlIG9ubHlcbiAgICAgICAgLy8gZ3VhcmFudGVlZCB1bmlxdWUgcHJvcGVydHkgb2YgYSBkb2N1bWVudC5cbiAgICAgICAgdGhpcy5jb21wYXJhdG9yID0gZSA/ICh0LCBuKSA9PiBlKHQsIG4pIHx8IERvY3VtZW50S2V5LmNvbXBhcmF0b3IodC5rZXksIG4ua2V5KSA6IChlLCB0KSA9PiBEb2N1bWVudEtleS5jb21wYXJhdG9yKGUua2V5LCB0LmtleSksIFxuICAgICAgICB0aGlzLmtleWVkTWFwID0gZG9jdW1lbnRNYXAoKSwgdGhpcy5zb3J0ZWRTZXQgPSBuZXcgU29ydGVkTWFwKHRoaXMuY29tcGFyYXRvcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gZW1wdHkgY29weSBvZiB0aGUgZXhpc3RpbmcgRG9jdW1lbnRTZXQsIHVzaW5nIHRoZSBzYW1lXG4gICAgICogY29tcGFyYXRvci5cbiAgICAgKi8gICAgc3RhdGljIGVtcHR5U2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudFNldChlLmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICBoYXMoZSkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPSB0aGlzLmtleWVkTWFwLmdldChlKTtcbiAgICB9XG4gICAgZ2V0KGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5ZWRNYXAuZ2V0KGUpO1xuICAgIH1cbiAgICBmaXJzdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkU2V0Lm1pbktleSgpO1xuICAgIH1cbiAgICBsYXN0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zb3J0ZWRTZXQubWF4S2V5KCk7XG4gICAgfVxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNvcnRlZFNldC5pc0VtcHR5KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBwcm92aWRlZCBrZXkgaW4gdGhlIGRvY3VtZW50IHNldCwgb3IgLTEgaWYgdGhlXG4gICAgICogZG9jdW1lbnQga2V5IGlzIG5vdCBwcmVzZW50IGluIHRoZSBzZXQ7XG4gICAgICovICAgIGluZGV4T2YoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5rZXllZE1hcC5nZXQoZSk7XG4gICAgICAgIHJldHVybiB0ID8gdGhpcy5zb3J0ZWRTZXQuaW5kZXhPZih0KSA6IC0xO1xuICAgIH1cbiAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc29ydGVkU2V0LnNpemU7XG4gICAgfVxuICAgIC8qKiBJdGVyYXRlcyBkb2N1bWVudHMgaW4gb3JkZXIgZGVmaW5lZCBieSBcImNvbXBhcmF0b3JcIiAqLyAgICBmb3JFYWNoKGUpIHtcbiAgICAgICAgdGhpcy5zb3J0ZWRTZXQuaW5vcmRlclRyYXZlcnNhbCgoKHQsIG4pID0+IChlKHQpLCAhMSkpKTtcbiAgICB9XG4gICAgLyoqIEluc2VydHMgb3IgdXBkYXRlcyBhIGRvY3VtZW50IHdpdGggdGhlIHNhbWUga2V5ICovICAgIGFkZChlKSB7XG4gICAgICAgIC8vIEZpcnN0IHJlbW92ZSB0aGUgZWxlbWVudCBpZiB3ZSBoYXZlIGl0LlxuICAgICAgICBjb25zdCB0ID0gdGhpcy5kZWxldGUoZS5rZXkpO1xuICAgICAgICByZXR1cm4gdC5jb3B5KHQua2V5ZWRNYXAuaW5zZXJ0KGUua2V5LCBlKSwgdC5zb3J0ZWRTZXQuaW5zZXJ0KGUsIG51bGwpKTtcbiAgICB9XG4gICAgLyoqIERlbGV0ZXMgYSBkb2N1bWVudCB3aXRoIGEgZ2l2ZW4ga2V5ICovICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmdldChlKTtcbiAgICAgICAgcmV0dXJuIHQgPyB0aGlzLmNvcHkodGhpcy5rZXllZE1hcC5yZW1vdmUoZSksIHRoaXMuc29ydGVkU2V0LnJlbW92ZSh0KSkgOiB0aGlzO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIERvY3VtZW50U2V0KSkgcmV0dXJuICExO1xuICAgICAgICBpZiAodGhpcy5zaXplICE9PSBlLnNpemUpIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuc29ydGVkU2V0LmdldEl0ZXJhdG9yKCksIG4gPSBlLnNvcnRlZFNldC5nZXRJdGVyYXRvcigpO1xuICAgICAgICBmb3IgKDt0Lmhhc05leHQoKTsgKSB7XG4gICAgICAgICAgICBjb25zdCBlID0gdC5nZXROZXh0KCkua2V5LCByID0gbi5nZXROZXh0KCkua2V5O1xuICAgICAgICAgICAgaWYgKCFlLmlzRXF1YWwocikpIHJldHVybiAhMTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITA7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgZS5wdXNoKHQudG9TdHJpbmcoKSk7XG4gICAgICAgIH0pKSwgMCA9PT0gZS5sZW5ndGggPyBcIkRvY3VtZW50U2V0ICgpXCIgOiBcIkRvY3VtZW50U2V0IChcXG4gIFwiICsgZS5qb2luKFwiICBcXG5cIikgKyBcIlxcbilcIjtcbiAgICB9XG4gICAgY29weShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBuZXcgRG9jdW1lbnRTZXQ7XG4gICAgICAgIHJldHVybiBuLmNvbXBhcmF0b3IgPSB0aGlzLmNvbXBhcmF0b3IsIG4ua2V5ZWRNYXAgPSBlLCBuLnNvcnRlZFNldCA9IHQsIG47XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBEb2N1bWVudENoYW5nZVNldCBrZWVwcyB0cmFjayBvZiBhIHNldCBvZiBjaGFuZ2VzIHRvIGRvY3MgaW4gYSBxdWVyeSwgbWVyZ2luZ1xuICogZHVwbGljYXRlIGV2ZW50cyBmb3IgdGhlIHNhbWUgZG9jLlxuICovIGNsYXNzIF9fUFJJVkFURV9Eb2N1bWVudENoYW5nZVNldCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucV8gPSBuZXcgU29ydGVkTWFwKERvY3VtZW50S2V5LmNvbXBhcmF0b3IpO1xuICAgIH1cbiAgICB0cmFjayhlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBlLmRvYy5rZXksIG4gPSB0aGlzLnFfLmdldCh0KTtcbiAgICAgICAgbiA/IFxuICAgICAgICAvLyBNZXJnZSB0aGUgbmV3IGNoYW5nZSB3aXRoIHRoZSBleGlzdGluZyBjaGFuZ2UuXG4gICAgICAgIDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLyAhPT0gZS50eXBlICYmIDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyA9PT0gbi50eXBlID8gdGhpcy5xXyA9IHRoaXMucV8uaW5zZXJ0KHQsIGUpIDogMyAvKiBDaGFuZ2VUeXBlLk1ldGFkYXRhICovID09PSBlLnR5cGUgJiYgMSAvKiBDaGFuZ2VUeXBlLlJlbW92ZWQgKi8gIT09IG4udHlwZSA/IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCB7XG4gICAgICAgICAgICB0eXBlOiBuLnR5cGUsXG4gICAgICAgICAgICBkb2M6IGUuZG9jXG4gICAgICAgIH0pIDogMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovID09PSBlLnR5cGUgJiYgMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovID09PSBuLnR5cGUgPyB0aGlzLnFfID0gdGhpcy5xXy5pbnNlcnQodCwge1xuICAgICAgICAgICAgdHlwZTogMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovICxcbiAgICAgICAgICAgIGRvYzogZS5kb2NcbiAgICAgICAgfSkgOiAyIC8qIENoYW5nZVR5cGUuTW9kaWZpZWQgKi8gPT09IGUudHlwZSAmJiAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gPT09IG4udHlwZSA/IHRoaXMucV8gPSB0aGlzLnFfLmluc2VydCh0LCB7XG4gICAgICAgICAgICB0eXBlOiAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gLFxuICAgICAgICAgICAgZG9jOiBlLmRvY1xuICAgICAgICB9KSA6IDEgLyogQ2hhbmdlVHlwZS5SZW1vdmVkICovID09PSBlLnR5cGUgJiYgMCAvKiBDaGFuZ2VUeXBlLkFkZGVkICovID09PSBuLnR5cGUgPyB0aGlzLnFfID0gdGhpcy5xXy5yZW1vdmUodCkgOiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA9PT0gZS50eXBlICYmIDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyA9PT0gbi50eXBlID8gdGhpcy5xXyA9IHRoaXMucV8uaW5zZXJ0KHQsIHtcbiAgICAgICAgICAgIHR5cGU6IDEgLyogQ2hhbmdlVHlwZS5SZW1vdmVkICovICxcbiAgICAgICAgICAgIGRvYzogbi5kb2NcbiAgICAgICAgfSkgOiAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gPT09IGUudHlwZSAmJiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA9PT0gbi50eXBlID8gdGhpcy5xXyA9IHRoaXMucV8uaW5zZXJ0KHQsIHtcbiAgICAgICAgICAgIHR5cGU6IDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyAsXG4gICAgICAgICAgICBkb2M6IGUuZG9jXG4gICAgICAgIH0pIDogXG4gICAgICAgIC8vIFRoaXMgaW5jbHVkZXMgdGhlc2UgY2FzZXMsIHdoaWNoIGRvbid0IG1ha2Ugc2Vuc2U6XG4gICAgICAgIC8vIEFkZGVkLT5BZGRlZFxuICAgICAgICAvLyBSZW1vdmVkLT5SZW1vdmVkXG4gICAgICAgIC8vIE1vZGlmaWVkLT5BZGRlZFxuICAgICAgICAvLyBSZW1vdmVkLT5Nb2RpZmllZFxuICAgICAgICAvLyBNZXRhZGF0YS0+QWRkZWRcbiAgICAgICAgLy8gUmVtb3ZlZC0+TWV0YWRhdGFcbiAgICAgICAgZmFpbCgpIDogdGhpcy5xXyA9IHRoaXMucV8uaW5zZXJ0KHQsIGUpO1xuICAgIH1cbiAgICBRXygpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICByZXR1cm4gdGhpcy5xXy5pbm9yZGVyVHJhdmVyc2FsKCgodCwgbikgPT4ge1xuICAgICAgICAgICAgZS5wdXNoKG4pO1xuICAgICAgICB9KSksIGU7XG4gICAgfVxufVxuXG5jbGFzcyBWaWV3U25hcHNob3Qge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIsIGksIHMsIG8sIF8sIGEpIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGUsIHRoaXMuZG9jcyA9IHQsIHRoaXMub2xkRG9jcyA9IG4sIHRoaXMuZG9jQ2hhbmdlcyA9IHIsIHRoaXMubXV0YXRlZEtleXMgPSBpLCBcbiAgICAgICAgdGhpcy5mcm9tQ2FjaGUgPSBzLCB0aGlzLnN5bmNTdGF0ZUNoYW5nZWQgPSBvLCB0aGlzLmV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzID0gXywgXG4gICAgICAgIHRoaXMuaGFzQ2FjaGVkUmVzdWx0cyA9IGE7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgdmlldyBzbmFwc2hvdCBhcyBpZiBhbGwgZG9jdW1lbnRzIGluIHRoZSBzbmFwc2hvdCB3ZXJlIGFkZGVkLiAqLyAgICBzdGF0aWMgZnJvbUluaXRpYWxEb2N1bWVudHMoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICBjb25zdCBzID0gW107XG4gICAgICAgIHJldHVybiB0LmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgcy5wdXNoKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gLFxuICAgICAgICAgICAgICAgIGRvYzogZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKSwgbmV3IFZpZXdTbmFwc2hvdChlLCB0LCBEb2N1bWVudFNldC5lbXB0eVNldCh0KSwgcywgbiwgciwgXG4gICAgICAgIC8qIHN5bmNTdGF0ZUNoYW5nZWQ9ICovICEwLCBcbiAgICAgICAgLyogZXhjbHVkZXNNZXRhZGF0YUNoYW5nZXM9ICovICExLCBpKTtcbiAgICB9XG4gICAgZ2V0IGhhc1BlbmRpbmdXcml0ZXMoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5tdXRhdGVkS2V5cy5pc0VtcHR5KCk7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICBpZiAoISh0aGlzLmZyb21DYWNoZSA9PT0gZS5mcm9tQ2FjaGUgJiYgdGhpcy5oYXNDYWNoZWRSZXN1bHRzID09PSBlLmhhc0NhY2hlZFJlc3VsdHMgJiYgdGhpcy5zeW5jU3RhdGVDaGFuZ2VkID09PSBlLnN5bmNTdGF0ZUNoYW5nZWQgJiYgdGhpcy5tdXRhdGVkS2V5cy5pc0VxdWFsKGUubXV0YXRlZEtleXMpICYmIF9fUFJJVkFURV9xdWVyeUVxdWFscyh0aGlzLnF1ZXJ5LCBlLnF1ZXJ5KSAmJiB0aGlzLmRvY3MuaXNFcXVhbChlLmRvY3MpICYmIHRoaXMub2xkRG9jcy5pc0VxdWFsKGUub2xkRG9jcykpKSByZXR1cm4gITE7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmRvY0NoYW5nZXMsIG4gPSBlLmRvY0NoYW5nZXM7XG4gICAgICAgIGlmICh0Lmxlbmd0aCAhPT0gbi5sZW5ndGgpIHJldHVybiAhMTtcbiAgICAgICAgZm9yIChsZXQgZSA9IDA7IGUgPCB0Lmxlbmd0aDsgZSsrKSBpZiAodFtlXS50eXBlICE9PSBuW2VdLnR5cGUgfHwgIXRbZV0uZG9jLmlzRXF1YWwobltlXS5kb2MpKSByZXR1cm4gITE7XG4gICAgICAgIHJldHVybiAhMDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEhvbGRzIHRoZSBsaXN0ZW5lcnMgYW5kIHRoZSBsYXN0IHJlY2VpdmVkIFZpZXdTbmFwc2hvdCBmb3IgYSBxdWVyeSBiZWluZ1xuICogdHJhY2tlZCBieSBFdmVudE1hbmFnZXIuXG4gKi8gY2xhc3MgX19QUklWQVRFX1F1ZXJ5TGlzdGVuZXJzSW5mbyB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuS18gPSB2b2lkIDAsIHRoaXMuVV8gPSBbXTtcbiAgICB9XG4gICAgLy8gSGVscGVyIG1ldGhvZHMgdGhhdCBjaGVja3MgaWYgdGhlIHF1ZXJ5IGhhcyBsaXN0ZW5lcnMgdGhhdCBsaXN0ZW5pbmcgdG8gcmVtb3RlIHN0b3JlXG4gICAgV18oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLlVfLnNvbWUoKGUgPT4gZS5HXygpKSk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfRXZlbnRNYW5hZ2VySW1wbCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMucXVlcmllcyA9IG5ldyBPYmplY3RNYXAoKGUgPT4gX19QUklWQVRFX2Nhbm9uaWZ5UXVlcnkoZSkpLCBfX1BSSVZBVEVfcXVlcnlFcXVhbHMpLCBcbiAgICAgICAgdGhpcy5vbmxpbmVTdGF0ZSA9IFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8gLCB0aGlzLnpfID0gbmV3IFNldDtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9ldmVudE1hbmFnZXJMaXN0ZW4oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGxldCByID0gMyAvKiBMaXN0ZW5lclNldHVwQWN0aW9uLk5vQWN0aW9uUmVxdWlyZWQgKi87XG4gICAgY29uc3QgaSA9IHQucXVlcnk7XG4gICAgbGV0IHMgPSBuLnF1ZXJpZXMuZ2V0KGkpO1xuICAgIHMgPyAhcy5XXygpICYmIHQuR18oKSAmJiAoXG4gICAgLy8gUXVlcnkgaGFzIGJlZW4gbGlzdGVuaW5nIHRvIGxvY2FsIGNhY2hlLCBhbmQgdHJpZXMgdG8gYWRkIGEgbmV3IGxpc3RlbmVyIHNvdXJjZWQgZnJvbSB3YXRjaC5cbiAgICByID0gMiAvKiBMaXN0ZW5lclNldHVwQWN0aW9uLlJlcXVpcmVXYXRjaENvbm5lY3Rpb25Pbmx5ICovKSA6IChzID0gbmV3IF9fUFJJVkFURV9RdWVyeUxpc3RlbmVyc0luZm8sIFxuICAgIHIgPSB0LkdfKCkgPyAwIC8qIExpc3RlbmVyU2V0dXBBY3Rpb24uSW5pdGlhbGl6ZUxvY2FsTGlzdGVuQW5kUmVxdWlyZVdhdGNoQ29ubmVjdGlvbiAqLyA6IDEgLyogTGlzdGVuZXJTZXR1cEFjdGlvbi5Jbml0aWFsaXplTG9jYWxMaXN0ZW5Pbmx5ICovKTtcbiAgICB0cnkge1xuICAgICAgICBzd2l0Y2ggKHIpIHtcbiAgICAgICAgICBjYXNlIDAgLyogTGlzdGVuZXJTZXR1cEFjdGlvbi5Jbml0aWFsaXplTG9jYWxMaXN0ZW5BbmRSZXF1aXJlV2F0Y2hDb25uZWN0aW9uICovIDpcbiAgICAgICAgICAgIHMuS18gPSBhd2FpdCBuLm9uTGlzdGVuKGksIFxuICAgICAgICAgICAgLyoqIGVuYWJsZVJlbW90ZUxpc3Rlbj0gKi8gITApO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDEgLyogTGlzdGVuZXJTZXR1cEFjdGlvbi5Jbml0aWFsaXplTG9jYWxMaXN0ZW5Pbmx5ICovIDpcbiAgICAgICAgICAgIHMuS18gPSBhd2FpdCBuLm9uTGlzdGVuKGksIFxuICAgICAgICAgICAgLyoqIGVuYWJsZVJlbW90ZUxpc3Rlbj0gKi8gITEpO1xuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICBjYXNlIDIgLyogTGlzdGVuZXJTZXR1cEFjdGlvbi5SZXF1aXJlV2F0Y2hDb25uZWN0aW9uT25seSAqLyA6XG4gICAgICAgICAgICBhd2FpdCBuLm9uRmlyc3RSZW1vdGVTdG9yZUxpc3RlbihpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKGUsIGBJbml0aWFsaXphdGlvbiBvZiBxdWVyeSAnJHtfX1BSSVZBVEVfc3RyaW5naWZ5UXVlcnkodC5xdWVyeSl9JyBmYWlsZWRgKTtcbiAgICAgICAgcmV0dXJuIHZvaWQgdC5vbkVycm9yKG4pO1xuICAgIH1cbiAgICBpZiAobi5xdWVyaWVzLnNldChpLCBzKSwgcy5VXy5wdXNoKHQpLCBcbiAgICAvLyBSdW4gZ2xvYmFsIHNuYXBzaG90IGxpc3RlbmVycyBpZiBhIGNvbnNpc3RlbnQgc25hcHNob3QgaGFzIGJlZW4gZW1pdHRlZC5cbiAgICB0LmpfKG4ub25saW5lU3RhdGUpLCBzLktfKSB7XG4gICAgICAgIHQuSF8ocy5LXykgJiYgX19QUklWQVRFX3JhaXNlU25hcHNob3RzSW5TeW5jRXZlbnQobik7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyVW5saXN0ZW4oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gdC5xdWVyeTtcbiAgICBsZXQgaSA9IDMgLyogTGlzdGVuZXJSZW1vdmFsQWN0aW9uLk5vQWN0aW9uUmVxdWlyZWQgKi87XG4gICAgY29uc3QgcyA9IG4ucXVlcmllcy5nZXQocik7XG4gICAgaWYgKHMpIHtcbiAgICAgICAgY29uc3QgZSA9IHMuVV8uaW5kZXhPZih0KTtcbiAgICAgICAgZSA+PSAwICYmIChzLlVfLnNwbGljZShlLCAxKSwgMCA9PT0gcy5VXy5sZW5ndGggPyBpID0gdC5HXygpID8gMCAvKiBMaXN0ZW5lclJlbW92YWxBY3Rpb24uVGVybWluYXRlTG9jYWxMaXN0ZW5BbmRSZXF1aXJlV2F0Y2hEaXNjb25uZWN0aW9uICovIDogMSAvKiBMaXN0ZW5lclJlbW92YWxBY3Rpb24uVGVybWluYXRlTG9jYWxMaXN0ZW5Pbmx5ICovIDogIXMuV18oKSAmJiB0LkdfKCkgJiYgKFxuICAgICAgICAvLyBUaGUgcmVtb3ZlZCBsaXN0ZW5lciBpcyB0aGUgbGFzdCBvbmUgdGhhdCBzb3VyY2VkIGZyb20gd2F0Y2guXG4gICAgICAgIGkgPSAyIC8qIExpc3RlbmVyUmVtb3ZhbEFjdGlvbi5SZXF1aXJlV2F0Y2hEaXNjb25uZWN0aW9uT25seSAqLykpO1xuICAgIH1cbiAgICBzd2l0Y2ggKGkpIHtcbiAgICAgIGNhc2UgMCAvKiBMaXN0ZW5lclJlbW92YWxBY3Rpb24uVGVybWluYXRlTG9jYWxMaXN0ZW5BbmRSZXF1aXJlV2F0Y2hEaXNjb25uZWN0aW9uICovIDpcbiAgICAgICAgcmV0dXJuIG4ucXVlcmllcy5kZWxldGUociksIG4ub25Vbmxpc3RlbihyLCBcbiAgICAgICAgLyoqIGRpc2FibGVSZW1vdGVMaXN0ZW49ICovICEwKTtcblxuICAgICAgY2FzZSAxIC8qIExpc3RlbmVyUmVtb3ZhbEFjdGlvbi5UZXJtaW5hdGVMb2NhbExpc3Rlbk9ubHkgKi8gOlxuICAgICAgICByZXR1cm4gbi5xdWVyaWVzLmRlbGV0ZShyKSwgbi5vblVubGlzdGVuKHIsIFxuICAgICAgICAvKiogZGlzYWJsZVJlbW90ZUxpc3Rlbj0gKi8gITEpO1xuXG4gICAgICBjYXNlIDIgLyogTGlzdGVuZXJSZW1vdmFsQWN0aW9uLlJlcXVpcmVXYXRjaERpc2Nvbm5lY3Rpb25Pbmx5ICovIDpcbiAgICAgICAgcmV0dXJuIG4ub25MYXN0UmVtb3RlU3RvcmVVbmxpc3RlbihyKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2V2ZW50TWFuYWdlck9uV2F0Y2hDaGFuZ2UoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGxldCByID0gITE7XG4gICAgZm9yIChjb25zdCBlIG9mIHQpIHtcbiAgICAgICAgY29uc3QgdCA9IGUucXVlcnksIGkgPSBuLnF1ZXJpZXMuZ2V0KHQpO1xuICAgICAgICBpZiAoaSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIGkuVV8pIHQuSF8oZSkgJiYgKHIgPSAhMCk7XG4gICAgICAgICAgICBpLktfID0gZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByICYmIF9fUFJJVkFURV9yYWlzZVNuYXBzaG90c0luU3luY0V2ZW50KG4pO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyT25XYXRjaEVycm9yKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgaSA9IHIucXVlcmllcy5nZXQodCk7XG4gICAgaWYgKGkpIGZvciAoY29uc3QgZSBvZiBpLlVfKSBlLm9uRXJyb3Iobik7XG4gICAgLy8gUmVtb3ZlIGFsbCBsaXN0ZW5lcnMuIE5PVEU6IFdlIGRvbid0IG5lZWQgdG8gY2FsbCBzeW5jRW5naW5lLnVubGlzdGVuKClcbiAgICAvLyBhZnRlciBhbiBlcnJvci5cbiAgICAgICAgci5xdWVyaWVzLmRlbGV0ZSh0KTtcbn1cblxuLy8gQ2FsbCBhbGwgZ2xvYmFsIHNuYXBzaG90IGxpc3RlbmVycyB0aGF0IGhhdmUgYmVlbiBzZXQuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcmFpc2VTbmFwc2hvdHNJblN5bmNFdmVudChlKSB7XG4gICAgZS56Xy5mb3JFYWNoKChlID0+IHtcbiAgICAgICAgZS5uZXh0KCk7XG4gICAgfSkpO1xufVxuXG52YXIgZ2UsIHBlO1xuXG4vKiogTGlzdGVuIHRvIGJvdGggY2FjaGUgYW5kIHNlcnZlciBjaGFuZ2VzICovXG4ocGUgPSBnZSB8fCAoZ2UgPSB7fSkpLkpfID0gXCJkZWZhdWx0XCIsIFxuLyoqIExpc3RlbiB0byBjaGFuZ2VzIGluIGNhY2hlIG9ubHkgKi9cbnBlLkNhY2hlID0gXCJjYWNoZVwiO1xuXG4vKipcbiAqIFF1ZXJ5TGlzdGVuZXIgdGFrZXMgYSBzZXJpZXMgb2YgaW50ZXJuYWwgdmlldyBzbmFwc2hvdHMgYW5kIGRldGVybWluZXNcbiAqIHdoZW4gdG8gcmFpc2UgdGhlIGV2ZW50LlxuICpcbiAqIEl0IHVzZXMgYW4gT2JzZXJ2ZXIgdG8gZGlzcGF0Y2ggZXZlbnRzLlxuICovXG5jbGFzcyBfX1BSSVZBVEVfUXVlcnlMaXN0ZW5lciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLnF1ZXJ5ID0gZSwgdGhpcy5ZXyA9IHQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogSW5pdGlhbCBzbmFwc2hvdHMgKGUuZy4gZnJvbSBjYWNoZSkgbWF5IG5vdCBiZSBwcm9wYWdhdGVkIHRvIHRoZSB3cmFwcGVkXG4gICAgICAgICAqIG9ic2VydmVyLiBUaGlzIGZsYWcgaXMgc2V0IHRvIHRydWUgb25jZSB3ZSd2ZSBhY3R1YWxseSByYWlzZWQgYW4gZXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLlpfID0gITEsIHRoaXMuWF8gPSBudWxsLCB0aGlzLm9ubGluZVN0YXRlID0gXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLyAsIFxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBuIHx8IHt9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBuZXcgVmlld1NuYXBzaG90IHRvIHRoaXMgbGlzdGVuZXIsIHJhaXNpbmcgYSB1c2VyLWZhY2luZyBldmVudFxuICAgICAqIGlmIGFwcGxpY2FibGUgKGRlcGVuZGluZyBvbiB3aGF0IGNoYW5nZWQsIHdoZXRoZXIgdGhlIHVzZXIgaGFzIG9wdGVkIGludG9cbiAgICAgKiBtZXRhZGF0YS1vbmx5IGNoYW5nZXMsIGV0Yy4pLiBSZXR1cm5zIHRydWUgaWYgYSB1c2VyLWZhY2luZyBldmVudCB3YXNcbiAgICAgKiBpbmRlZWQgcmFpc2VkLlxuICAgICAqLyAgICBIXyhlKSB7XG4gICAgICAgIGlmICghdGhpcy5vcHRpb25zLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXMpIHtcbiAgICAgICAgICAgIC8vIFJlbW92ZSB0aGUgbWV0YWRhdGEgb25seSBjaGFuZ2VzLlxuICAgICAgICAgICAgY29uc3QgdCA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIGUuZG9jQ2hhbmdlcykgMyAvKiBDaGFuZ2VUeXBlLk1ldGFkYXRhICovICE9PSBuLnR5cGUgJiYgdC5wdXNoKG4pO1xuICAgICAgICAgICAgZSA9IG5ldyBWaWV3U25hcHNob3QoZS5xdWVyeSwgZS5kb2NzLCBlLm9sZERvY3MsIHQsIGUubXV0YXRlZEtleXMsIGUuZnJvbUNhY2hlLCBlLnN5bmNTdGF0ZUNoYW5nZWQsIFxuICAgICAgICAgICAgLyogZXhjbHVkZXNNZXRhZGF0YUNoYW5nZXM9ICovICEwLCBlLmhhc0NhY2hlZFJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0ID0gITE7XG4gICAgICAgIHJldHVybiB0aGlzLlpfID8gdGhpcy5lYShlKSAmJiAodGhpcy5ZXy5uZXh0KGUpLCB0ID0gITApIDogdGhpcy50YShlLCB0aGlzLm9ubGluZVN0YXRlKSAmJiAodGhpcy5uYShlKSwgXG4gICAgICAgIHQgPSAhMCksIHRoaXMuWF8gPSBlLCB0O1xuICAgIH1cbiAgICBvbkVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5ZXy5lcnJvcihlKTtcbiAgICB9XG4gICAgLyoqIFJldHVybnMgd2hldGhlciBhIHNuYXBzaG90IHdhcyByYWlzZWQuICovICAgIGpfKGUpIHtcbiAgICAgICAgdGhpcy5vbmxpbmVTdGF0ZSA9IGU7XG4gICAgICAgIGxldCB0ID0gITE7XG4gICAgICAgIHJldHVybiB0aGlzLlhfICYmICF0aGlzLlpfICYmIHRoaXMudGEodGhpcy5YXywgZSkgJiYgKHRoaXMubmEodGhpcy5YXyksIHQgPSAhMCksIFxuICAgICAgICB0O1xuICAgIH1cbiAgICB0YShlLCB0KSB7XG4gICAgICAgIC8vIEFsd2F5cyByYWlzZSB0aGUgZmlyc3QgZXZlbnQgd2hlbiB3ZSdyZSBzeW5jZWRcbiAgICAgICAgaWYgKCFlLmZyb21DYWNoZSkgcmV0dXJuICEwO1xuICAgICAgICAvLyBBbHdheXMgcmFpc2UgZXZlbnQgaWYgbGlzdGVuaW5nIHRvIGNhY2hlXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLkdfKCkpIHJldHVybiAhMDtcbiAgICAgICAgLy8gTk9URTogV2UgY29uc2lkZXIgT25saW5lU3RhdGUuVW5rbm93biBhcyBvbmxpbmUgKGl0IHNob3VsZCBiZWNvbWUgT2ZmbGluZVxuICAgICAgICAvLyBvciBPbmxpbmUgaWYgd2Ugd2FpdCBsb25nIGVub3VnaCkuXG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8gIT09IHQ7XG4gICAgICAgIC8vIERvbid0IHJhaXNlIHRoZSBldmVudCBpZiB3ZSdyZSBvbmxpbmUsIGFyZW4ndCBzeW5jZWQgeWV0IChjaGVja2VkXG4gICAgICAgIC8vIGFib3ZlKSBhbmQgYXJlIHdhaXRpbmcgZm9yIGEgc3luYy5cbiAgICAgICAgICAgICAgICByZXR1cm4gKCF0aGlzLm9wdGlvbnMucmEgfHwgIW4pICYmICghZS5kb2NzLmlzRW1wdHkoKSB8fCBlLmhhc0NhY2hlZFJlc3VsdHMgfHwgXCJPZmZsaW5lXCIgLyogT25saW5lU3RhdGUuT2ZmbGluZSAqLyA9PT0gdCk7XG4gICAgICAgIC8vIFJhaXNlIGRhdGEgZnJvbSBjYWNoZSBpZiB3ZSBoYXZlIGFueSBkb2N1bWVudHMsIGhhdmUgY2FjaGVkIHJlc3VsdHMgYmVmb3JlLFxuICAgICAgICAvLyBvciB3ZSBhcmUgb2ZmbGluZS5cbiAgICAgICAgfVxuICAgIGVhKGUpIHtcbiAgICAgICAgLy8gV2UgZG9uJ3QgbmVlZCB0byBoYW5kbGUgaW5jbHVkZURvY3VtZW50TWV0YWRhdGFDaGFuZ2VzIGhlcmUgYmVjYXVzZVxuICAgICAgICAvLyB0aGUgTWV0YWRhdGEgb25seSBjaGFuZ2VzIGhhdmUgYWxyZWFkeSBiZWVuIHN0cmlwcGVkIG91dCBpZiBuZWVkZWQuXG4gICAgICAgIC8vIEF0IHRoaXMgcG9pbnQgdGhlIG9ubHkgY2hhbmdlcyB3ZSB3aWxsIHNlZSBhcmUgdGhlIG9uZXMgd2Ugc2hvdWxkXG4gICAgICAgIC8vIHByb3BhZ2F0ZS5cbiAgICAgICAgaWYgKGUuZG9jQ2hhbmdlcy5sZW5ndGggPiAwKSByZXR1cm4gITA7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLlhfICYmIHRoaXMuWF8uaGFzUGVuZGluZ1dyaXRlcyAhPT0gZS5oYXNQZW5kaW5nV3JpdGVzO1xuICAgICAgICByZXR1cm4gISghZS5zeW5jU3RhdGVDaGFuZ2VkICYmICF0KSAmJiAhMCA9PT0gdGhpcy5vcHRpb25zLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXM7XG4gICAgICAgIC8vIEdlbmVyYWxseSB3ZSBzaG91bGQgaGF2ZSBoaXQgb25lIG9mIHRoZSBjYXNlcyBhYm92ZSwgYnV0IGl0J3MgcG9zc2libGVcbiAgICAgICAgLy8gdG8gZ2V0IGhlcmUgaWYgdGhlcmUgd2VyZSBvbmx5IG1ldGFkYXRhIGRvY0NoYW5nZXMgYW5kIHRoZXkgZ290XG4gICAgICAgIC8vIHN0cmlwcGVkIG91dC5cbiAgICAgICAgfVxuICAgIG5hKGUpIHtcbiAgICAgICAgZSA9IFZpZXdTbmFwc2hvdC5mcm9tSW5pdGlhbERvY3VtZW50cyhlLnF1ZXJ5LCBlLmRvY3MsIGUubXV0YXRlZEtleXMsIGUuZnJvbUNhY2hlLCBlLmhhc0NhY2hlZFJlc3VsdHMpLCBcbiAgICAgICAgdGhpcy5aXyA9ICEwLCB0aGlzLllfLm5leHQoZSk7XG4gICAgfVxuICAgIEdfKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zLnNvdXJjZSAhPT0gZ2UuQ2FjaGU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGNvbXBsZXRlIGVsZW1lbnQgaW4gdGhlIGJ1bmRsZSBzdHJlYW0sIHRvZ2V0aGVyIHdpdGggdGhlIGJ5dGUgbGVuZ3RoIGl0XG4gKiBvY2N1cGllcyBpbiB0aGUgc3RyZWFtLlxuICovIGNsYXNzIF9fUFJJVkFURV9TaXplZEJ1bmRsZUVsZW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGUsIFxuICAgIC8vIEhvdyBtYW55IGJ5dGVzIHRoaXMgZWxlbWVudCB0YWtlcyB0byBzdG9yZSBpbiB0aGUgYnVuZGxlLlxuICAgIHQpIHtcbiAgICAgICAgdGhpcy5pYSA9IGUsIHRoaXMuYnl0ZUxlbmd0aCA9IHQ7XG4gICAgfVxuICAgIHNhKCkge1xuICAgICAgICByZXR1cm4gXCJtZXRhZGF0YVwiIGluIHRoaXMuaWE7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBIZWxwZXIgdG8gY29udmVydCBvYmplY3RzIGZyb20gYnVuZGxlcyB0byBtb2RlbCBvYmplY3RzIGluIHRoZSBTREsuXG4gKi8gY2xhc3MgX19QUklWQVRFX0J1bmRsZUNvbnZlcnRlckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5zZXJpYWxpemVyID0gZTtcbiAgICB9XG4gICAgUHMoZSkge1xuICAgICAgICByZXR1cm4gZnJvbU5hbWUodGhpcy5zZXJpYWxpemVyLCBlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYSBCdW5kbGVEb2N1bWVudCB0byBhIE11dGFibGVEb2N1bWVudC5cbiAgICAgKi8gICAgSXMoZSkge1xuICAgICAgICByZXR1cm4gZS5tZXRhZGF0YS5leGlzdHMgPyBfX1BSSVZBVEVfZnJvbURvY3VtZW50KHRoaXMuc2VyaWFsaXplciwgZS5kb2N1bWVudCwgITEpIDogTXV0YWJsZURvY3VtZW50Lm5ld05vRG9jdW1lbnQodGhpcy5QcyhlLm1ldGFkYXRhLm5hbWUpLCB0aGlzLlRzKGUubWV0YWRhdGEucmVhZFRpbWUpKTtcbiAgICB9XG4gICAgVHMoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2Zyb21WZXJzaW9uKGUpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGNsYXNzIHRvIHByb2Nlc3MgdGhlIGVsZW1lbnRzIGZyb20gYSBidW5kbGUsIGxvYWQgdGhlbSBpbnRvIGxvY2FsXG4gKiBzdG9yYWdlIGFuZCBwcm92aWRlIHByb2dyZXNzIHVwZGF0ZSB3aGlsZSBsb2FkaW5nLlxuICovIGNsYXNzIF9fUFJJVkFURV9CdW5kbGVMb2FkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5vYSA9IGUsIHRoaXMubG9jYWxTdG9yZSA9IHQsIHRoaXMuc2VyaWFsaXplciA9IG4sIFxuICAgICAgICAvKiogQmF0Y2hlZCBxdWVyaWVzIHRvIGJlIHNhdmVkIGludG8gc3RvcmFnZSAqL1xuICAgICAgICB0aGlzLnF1ZXJpZXMgPSBbXSwgXG4gICAgICAgIC8qKiBCYXRjaGVkIGRvY3VtZW50cyB0byBiZSBzYXZlZCBpbnRvIHN0b3JhZ2UgKi9cbiAgICAgICAgdGhpcy5kb2N1bWVudHMgPSBbXSwgXG4gICAgICAgIC8qKiBUaGUgY29sbGVjdGlvbiBncm91cHMgYWZmZWN0ZWQgYnkgdGhpcyBidW5kbGUuICovXG4gICAgICAgIHRoaXMuY29sbGVjdGlvbkdyb3VwcyA9IG5ldyBTZXQsIHRoaXMucHJvZ3Jlc3MgPSBfX1BSSVZBVEVfYnVuZGxlSW5pdGlhbFByb2dyZXNzKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGFuIGVsZW1lbnQgZnJvbSB0aGUgYnVuZGxlIHRvIHRoZSBsb2FkZXIuXG4gICAgICpcbiAgICAgKiBSZXR1cm5zIGEgbmV3IHByb2dyZXNzIGlmIGFkZGluZyB0aGUgZWxlbWVudCBsZWFkcyB0byBhIG5ldyBwcm9ncmVzcyxcbiAgICAgKiBvdGhlcndpc2UgcmV0dXJucyBudWxsLlxuICAgICAqLyAgICBfYShlKSB7XG4gICAgICAgIHRoaXMucHJvZ3Jlc3MuYnl0ZXNMb2FkZWQgKz0gZS5ieXRlTGVuZ3RoO1xuICAgICAgICBsZXQgdCA9IHRoaXMucHJvZ3Jlc3MuZG9jdW1lbnRzTG9hZGVkO1xuICAgICAgICBpZiAoZS5pYS5uYW1lZFF1ZXJ5KSB0aGlzLnF1ZXJpZXMucHVzaChlLmlhLm5hbWVkUXVlcnkpOyBlbHNlIGlmIChlLmlhLmRvY3VtZW50TWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiBlLmlhLmRvY3VtZW50TWV0YWRhdGFcbiAgICAgICAgICAgIH0pLCBlLmlhLmRvY3VtZW50TWV0YWRhdGEuZXhpc3RzIHx8ICsrdDtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhlLmlhLmRvY3VtZW50TWV0YWRhdGEubmFtZSk7XG4gICAgICAgICAgICB0aGlzLmNvbGxlY3Rpb25Hcm91cHMuYWRkKG4uZ2V0KG4ubGVuZ3RoIC0gMikpO1xuICAgICAgICB9IGVsc2UgZS5pYS5kb2N1bWVudCAmJiAodGhpcy5kb2N1bWVudHNbdGhpcy5kb2N1bWVudHMubGVuZ3RoIC0gMV0uZG9jdW1lbnQgPSBlLmlhLmRvY3VtZW50LCBcbiAgICAgICAgKyt0KTtcbiAgICAgICAgcmV0dXJuIHQgIT09IHRoaXMucHJvZ3Jlc3MuZG9jdW1lbnRzTG9hZGVkID8gKHRoaXMucHJvZ3Jlc3MuZG9jdW1lbnRzTG9hZGVkID0gdCwgXG4gICAgICAgIE9iamVjdC5hc3NpZ24oe30sIHRoaXMucHJvZ3Jlc3MpKSA6IG51bGw7XG4gICAgfVxuICAgIGFhKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IG5ldyBNYXAsIG4gPSBuZXcgX19QUklWQVRFX0J1bmRsZUNvbnZlcnRlckltcGwodGhpcy5zZXJpYWxpemVyKTtcbiAgICAgICAgZm9yIChjb25zdCByIG9mIGUpIGlmIChyLm1ldGFkYXRhLnF1ZXJpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuLlBzKHIubWV0YWRhdGEubmFtZSk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2Ygci5tZXRhZGF0YS5xdWVyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgciA9ICh0LmdldChuKSB8fCBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKSkuYWRkKGUpO1xuICAgICAgICAgICAgICAgIHQuc2V0KG4sIHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIHByb2dyZXNzIHRvICdTdWNjZXNzJyBhbmQgcmV0dXJuIHRoZSB1cGRhdGVkIHByb2dyZXNzLlxuICAgICAqLyAgICBhc3luYyBjb21wbGV0ZSgpIHtcbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQXBwbHlCdW5kbGVkRG9jdW1lbnRzKHRoaXMubG9jYWxTdG9yZSwgbmV3IF9fUFJJVkFURV9CdW5kbGVDb252ZXJ0ZXJJbXBsKHRoaXMuc2VyaWFsaXplciksIHRoaXMuZG9jdW1lbnRzLCB0aGlzLm9hLmlkKSwgdCA9IHRoaXMuYWEodGhpcy5kb2N1bWVudHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdGhpcy5xdWVyaWVzKSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZVNhdmVOYW1lZFF1ZXJ5KHRoaXMubG9jYWxTdG9yZSwgZSwgdC5nZXQoZS5uYW1lKSk7XG4gICAgICAgIHJldHVybiB0aGlzLnByb2dyZXNzLnRhc2tTdGF0ZSA9IFwiU3VjY2Vzc1wiLCB7XG4gICAgICAgICAgICBwcm9ncmVzczogdGhpcy5wcm9ncmVzcyxcbiAgICAgICAgICAgIHVhOiB0aGlzLmNvbGxlY3Rpb25Hcm91cHMsXG4gICAgICAgICAgICBjYTogZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgYExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3NgIHJlcHJlc2VudGluZyB0aGUgaW5pdGlhbCBwcm9ncmVzcyBvZlxuICogbG9hZGluZyBhIGJ1bmRsZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfYnVuZGxlSW5pdGlhbFByb2dyZXNzKGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB0YXNrU3RhdGU6IFwiUnVubmluZ1wiLFxuICAgICAgICBkb2N1bWVudHNMb2FkZWQ6IDAsXG4gICAgICAgIGJ5dGVzTG9hZGVkOiAwLFxuICAgICAgICB0b3RhbERvY3VtZW50czogZS50b3RhbERvY3VtZW50cyxcbiAgICAgICAgdG90YWxCeXRlczogZS50b3RhbEJ5dGVzXG4gICAgfTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgYExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3NgIHJlcHJlc2VudGluZyB0aGUgcHJvZ3Jlc3MgdGhhdCB0aGUgbG9hZGluZ1xuICogaGFzIHN1Y2NlZWRlZC5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9BZGRlZExpbWJvRG9jdW1lbnQge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBlO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX1JlbW92ZWRMaW1ib0RvY3VtZW50IHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMua2V5ID0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogVmlldyBpcyByZXNwb25zaWJsZSBmb3IgY29tcHV0aW5nIHRoZSBmaW5hbCBtZXJnZWQgdHJ1dGggb2Ygd2hhdCBkb2NzIGFyZSBpblxuICogYSBxdWVyeS4gSXQgZ2V0cyBub3RpZmllZCBvZiBsb2NhbCBhbmQgcmVtb3RlIGNoYW5nZXMgdG8gZG9jcywgYW5kIGFwcGxpZXNcbiAqIHRoZSBxdWVyeSBmaWx0ZXJzIGFuZCBsaW1pdHMgdG8gZGV0ZXJtaW5lIHRoZSBtb3N0IGNvcnJlY3QgcG9zc2libGUgcmVzdWx0cy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfVmlldyB7XG4gICAgY29uc3RydWN0b3IoZSwgXG4gICAgLyoqIERvY3VtZW50cyBpbmNsdWRlZCBpbiB0aGUgcmVtb3RlIHRhcmdldCAqL1xuICAgIHQpIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGUsIHRoaXMubGEgPSB0LCB0aGlzLmhhID0gbnVsbCwgdGhpcy5oYXNDYWNoZWRSZXN1bHRzID0gITEsIFxuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGFnIHdoZXRoZXIgdGhlIHZpZXcgaXMgY3VycmVudCB3aXRoIHRoZSBiYWNrZW5kLiBBIHZpZXcgaXMgY29uc2lkZXJlZFxuICAgICAgICAgKiBjdXJyZW50IGFmdGVyIGl0IGhhcyBzZWVuIHRoZSBjdXJyZW50IGZsYWcgZnJvbSB0aGUgYmFja2VuZCBhbmQgZGlkIG5vdFxuICAgICAgICAgKiBsb3NlIGNvbnNpc3RlbmN5IHdpdGhpbiB0aGUgd2F0Y2ggc3RyZWFtIChlLmcuIGJlY2F1c2Ugb2YgYW4gZXhpc3RlbmNlXG4gICAgICAgICAqIGZpbHRlciBtaXNtYXRjaCkuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmN1cnJlbnQgPSAhMSwgXG4gICAgICAgIC8qKiBEb2N1bWVudHMgaW4gdGhlIHZpZXcgYnV0IG5vdCBpbiB0aGUgcmVtb3RlIHRhcmdldCAqL1xuICAgICAgICB0aGlzLlBhID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIFxuICAgICAgICAvKiogRG9jdW1lbnQgS2V5cyB0aGF0IGhhdmUgbG9jYWwgY2hhbmdlcyAqL1xuICAgICAgICB0aGlzLm11dGF0ZWRLZXlzID0gX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCksIHRoaXMuSWEgPSBfX1BSSVZBVEVfbmV3UXVlcnlDb21wYXJhdG9yKGUpLCBcbiAgICAgICAgdGhpcy5UYSA9IG5ldyBEb2N1bWVudFNldCh0aGlzLklhKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIHNldCBvZiByZW1vdGUgZG9jdW1lbnRzIHRoYXQgdGhlIHNlcnZlciBoYXMgdG9sZCB1cyBiZWxvbmdzIHRvIHRoZSB0YXJnZXQgYXNzb2NpYXRlZCB3aXRoXG4gICAgICogdGhpcyB2aWV3LlxuICAgICAqLyAgICBnZXQgRWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmxhO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGEgc2V0IG9mIGRvYyBjaGFuZ2VzLCBhcHBsaWVzIHRoZSBxdWVyeSBsaW1pdCwgYW5kIGNvbXB1dGVzXG4gICAgICogd2hhdCB0aGUgbmV3IHJlc3VsdHMgc2hvdWxkIGJlLCB3aGF0IHRoZSBjaGFuZ2VzIHdlcmUsIGFuZCB3aGV0aGVyIHdlIG1heVxuICAgICAqIG5lZWQgdG8gZ28gYmFjayB0byB0aGUgbG9jYWwgY2FjaGUgZm9yIG1vcmUgcmVzdWx0cy4gRG9lcyBub3QgbWFrZSBhbnlcbiAgICAgKiBjaGFuZ2VzIHRvIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSBkb2NDaGFuZ2VzIC0gVGhlIGRvYyBjaGFuZ2VzIHRvIGFwcGx5IHRvIHRoaXMgdmlldy5cbiAgICAgKiBAcGFyYW0gcHJldmlvdXNDaGFuZ2VzIC0gSWYgdGhpcyBpcyBiZWluZyBjYWxsZWQgd2l0aCBhIHJlZmlsbCwgdGhlbiBzdGFydFxuICAgICAqICAgICAgICB3aXRoIHRoaXMgc2V0IG9mIGRvY3MgYW5kIGNoYW5nZXMgaW5zdGVhZCBvZiB0aGUgY3VycmVudCB2aWV3LlxuICAgICAqIEByZXR1cm5zIGEgbmV3IHNldCBvZiBkb2NzLCBjaGFuZ2VzLCBhbmQgcmVmaWxsIGZsYWcuXG4gICAgICovICAgIGRhKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IHQgPyB0LkFhIDogbmV3IF9fUFJJVkFURV9Eb2N1bWVudENoYW5nZVNldCwgciA9IHQgPyB0LlRhIDogdGhpcy5UYTtcbiAgICAgICAgbGV0IGkgPSB0ID8gdC5tdXRhdGVkS2V5cyA6IHRoaXMubXV0YXRlZEtleXMsIHMgPSByLCBvID0gITE7XG4gICAgICAgIC8vIFRyYWNrIHRoZSBsYXN0IGRvYyBpbiBhIChmdWxsKSBsaW1pdC4gVGhpcyBpcyBuZWNlc3NhcnksIGJlY2F1c2Ugc29tZVxuICAgICAgICAvLyB1cGRhdGUgKGEgZGVsZXRlLCBvciBhbiB1cGRhdGUgbW92aW5nIGEgZG9jIHBhc3QgdGhlIG9sZCBsaW1pdCkgbWlnaHRcbiAgICAgICAgLy8gbWVhbiB0aGVyZSBpcyBzb21lIG90aGVyIGRvY3VtZW50IGluIHRoZSBsb2NhbCBjYWNoZSB0aGF0IGVpdGhlciBzaG91bGRcbiAgICAgICAgLy8gY29tZSAoMSkgYmV0d2VlbiB0aGUgb2xkIGxhc3QgbGltaXQgZG9jIGFuZCB0aGUgbmV3IGxhc3QgZG9jdW1lbnQsIGluIHRoZVxuICAgICAgICAvLyBjYXNlIG9mIHVwZGF0ZXMsIG9yICgyKSBhZnRlciB0aGUgbmV3IGxhc3QgZG9jdW1lbnQsIGluIHRoZSBjYXNlIG9mXG4gICAgICAgIC8vIGRlbGV0ZXMuIFNvIHdlIGtlZXAgdGhpcyBkb2MgYXQgdGhlIG9sZCBsaW1pdCB0byBjb21wYXJlIHRoZSB1cGRhdGVzIHRvLlxuICAgICAgICAvLyBOb3RlIHRoYXQgdGhpcyBzaG91bGQgbmV2ZXIgZ2V0IHVzZWQgaW4gYSByZWZpbGwgKHdoZW4gcHJldmlvdXNDaGFuZ2VzIGlzXG4gICAgICAgIC8vIHNldCksIGJlY2F1c2UgdGhlcmUgd2lsbCBvbmx5IGJlIGFkZHMgLS0gbm8gZGVsZXRlcyBvciB1cGRhdGVzLlxuICAgICAgICBjb25zdCBfID0gXCJGXCIgLyogTGltaXRUeXBlLkZpcnN0ICovID09PSB0aGlzLnF1ZXJ5LmxpbWl0VHlwZSAmJiByLnNpemUgPT09IHRoaXMucXVlcnkubGltaXQgPyByLmxhc3QoKSA6IG51bGwsIGEgPSBcIkxcIiAvKiBMaW1pdFR5cGUuTGFzdCAqLyA9PT0gdGhpcy5xdWVyeS5saW1pdFR5cGUgJiYgci5zaXplID09PSB0aGlzLnF1ZXJ5LmxpbWl0ID8gci5maXJzdCgpIDogbnVsbDtcbiAgICAgICAgLy8gRHJvcCBkb2N1bWVudHMgb3V0IHRvIG1lZXQgbGltaXQvbGltaXRUb0xhc3QgcmVxdWlyZW1lbnQuXG4gICAgICAgIGlmIChlLmlub3JkZXJUcmF2ZXJzYWwoKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB1ID0gci5nZXQoZSksIGMgPSBfX1BSSVZBVEVfcXVlcnlNYXRjaGVzKHRoaXMucXVlcnksIHQpID8gdCA6IG51bGwsIGwgPSAhIXUgJiYgdGhpcy5tdXRhdGVkS2V5cy5oYXModS5rZXkpLCBoID0gISFjICYmIChjLmhhc0xvY2FsTXV0YXRpb25zIHx8IFxuICAgICAgICAgICAgLy8gV2Ugb25seSBjb25zaWRlciBjb21taXR0ZWQgbXV0YXRpb25zIGZvciBkb2N1bWVudHMgdGhhdCB3ZXJlXG4gICAgICAgICAgICAvLyBtdXRhdGVkIGR1cmluZyB0aGUgbGlmZXRpbWUgb2YgdGhlIHZpZXcuXG4gICAgICAgICAgICB0aGlzLm11dGF0ZWRLZXlzLmhhcyhjLmtleSkgJiYgYy5oYXNDb21taXR0ZWRNdXRhdGlvbnMpO1xuICAgICAgICAgICAgbGV0IFAgPSAhMTtcbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBjaGFuZ2VcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh1ICYmIGMpIHtcbiAgICAgICAgICAgICAgICB1LmRhdGEuaXNFcXVhbChjLmRhdGEpID8gbCAhPT0gaCAmJiAobi50cmFjayh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDMgLyogQ2hhbmdlVHlwZS5NZXRhZGF0YSAqLyAsXG4gICAgICAgICAgICAgICAgICAgIGRvYzogY1xuICAgICAgICAgICAgICAgIH0pLCBQID0gITApIDogdGhpcy5SYSh1LCBjKSB8fCAobi50cmFjayh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IDIgLyogQ2hhbmdlVHlwZS5Nb2RpZmllZCAqLyAsXG4gICAgICAgICAgICAgICAgICAgIGRvYzogY1xuICAgICAgICAgICAgICAgIH0pLCBQID0gITAsIChfICYmIHRoaXMuSWEoYywgXykgPiAwIHx8IGEgJiYgdGhpcy5JYShjLCBhKSA8IDApICYmIChcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGRvYyBtb3ZlZCBmcm9tIGluc2lkZSB0aGUgbGltaXQgdG8gb3V0c2lkZSB0aGUgbGltaXQuXG4gICAgICAgICAgICAgICAgLy8gVGhhdCBtZWFucyB0aGVyZSBtYXkgYmUgc29tZSBvdGhlciBkb2MgaW4gdGhlIGxvY2FsIGNhY2hlXG4gICAgICAgICAgICAgICAgLy8gdGhhdCBzaG91bGQgYmUgaW5jbHVkZWQgaW5zdGVhZC5cbiAgICAgICAgICAgICAgICBvID0gITApKTtcbiAgICAgICAgICAgIH0gZWxzZSAhdSAmJiBjID8gKG4udHJhY2soe1xuICAgICAgICAgICAgICAgIHR5cGU6IDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLyAsXG4gICAgICAgICAgICAgICAgZG9jOiBjXG4gICAgICAgICAgICB9KSwgUCA9ICEwKSA6IHUgJiYgIWMgJiYgKG4udHJhY2soe1xuICAgICAgICAgICAgICAgIHR5cGU6IDEgLyogQ2hhbmdlVHlwZS5SZW1vdmVkICovICxcbiAgICAgICAgICAgICAgICBkb2M6IHVcbiAgICAgICAgICAgIH0pLCBQID0gITAsIChfIHx8IGEpICYmIChcbiAgICAgICAgICAgIC8vIEEgZG9jIHdhcyByZW1vdmVkIGZyb20gYSBmdWxsIGxpbWl0IHF1ZXJ5LiBXZSdsbCBuZWVkIHRvXG4gICAgICAgICAgICAvLyByZXF1ZXJ5IGZyb20gdGhlIGxvY2FsIGNhY2hlIHRvIHNlZSBpZiB3ZSBrbm93IGFib3V0IHNvbWUgb3RoZXJcbiAgICAgICAgICAgIC8vIGRvYyB0aGF0IHNob3VsZCBiZSBpbiB0aGUgcmVzdWx0cy5cbiAgICAgICAgICAgIG8gPSAhMCkpO1xuICAgICAgICAgICAgUCAmJiAoYyA/IChzID0gcy5hZGQoYyksIGkgPSBoID8gaS5hZGQoZSkgOiBpLmRlbGV0ZShlKSkgOiAocyA9IHMuZGVsZXRlKGUpLCBpID0gaS5kZWxldGUoZSkpKTtcbiAgICAgICAgfSkpLCBudWxsICE9PSB0aGlzLnF1ZXJ5LmxpbWl0KSBmb3IgKDtzLnNpemUgPiB0aGlzLnF1ZXJ5LmxpbWl0OyApIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBcIkZcIiAvKiBMaW1pdFR5cGUuRmlyc3QgKi8gPT09IHRoaXMucXVlcnkubGltaXRUeXBlID8gcy5sYXN0KCkgOiBzLmZpcnN0KCk7XG4gICAgICAgICAgICBzID0gcy5kZWxldGUoZS5rZXkpLCBpID0gaS5kZWxldGUoZS5rZXkpLCBuLnRyYWNrKHtcbiAgICAgICAgICAgICAgICB0eXBlOiAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyAsXG4gICAgICAgICAgICAgICAgZG9jOiBlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgVGE6IHMsXG4gICAgICAgICAgICBBYTogbixcbiAgICAgICAgICAgIFhpOiBvLFxuICAgICAgICAgICAgbXV0YXRlZEtleXM6IGlcbiAgICAgICAgfTtcbiAgICB9XG4gICAgUmEoZSwgdCkge1xuICAgICAgICAvLyBXZSBzdXBwcmVzcyB0aGUgaW5pdGlhbCBjaGFuZ2UgZXZlbnQgZm9yIGRvY3VtZW50cyB0aGF0IHdlcmUgbW9kaWZpZWQgYXNcbiAgICAgICAgLy8gcGFydCBvZiBhIHdyaXRlIGFja25vd2xlZGdtZW50IChlLmcuIHdoZW4gdGhlIHZhbHVlIG9mIGEgc2VydmVyIHRyYW5zZm9ybVxuICAgICAgICAvLyBpcyBhcHBsaWVkKSBhcyBXYXRjaCB3aWxsIHNlbmQgdXMgdGhlIHNhbWUgZG9jdW1lbnQgYWdhaW4uXG4gICAgICAgIC8vIEJ5IHN1cHByZXNzaW5nIHRoZSBldmVudCwgd2Ugb25seSByYWlzZSB0d28gdXNlciB2aXNpYmxlIGV2ZW50cyAob25lIHdpdGhcbiAgICAgICAgLy8gYGhhc1BlbmRpbmdXcml0ZXNgIGFuZCB0aGUgZmluYWwgc3RhdGUgb2YgdGhlIGRvY3VtZW50KSBpbnN0ZWFkIG9mIHRocmVlXG4gICAgICAgIC8vIChvbmUgd2l0aCBgaGFzUGVuZGluZ1dyaXRlc2AsIHRoZSBtb2RpZmllZCBkb2N1bWVudCB3aXRoXG4gICAgICAgIC8vIGBoYXNQZW5kaW5nV3JpdGVzYCBhbmQgdGhlIGZpbmFsIHN0YXRlIG9mIHRoZSBkb2N1bWVudCkuXG4gICAgICAgIHJldHVybiBlLmhhc0xvY2FsTXV0YXRpb25zICYmIHQuaGFzQ29tbWl0dGVkTXV0YXRpb25zICYmICF0Lmhhc0xvY2FsTXV0YXRpb25zO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSB2aWV3IHdpdGggdGhlIGdpdmVuIFZpZXdEb2N1bWVudENoYW5nZXMgYW5kIG9wdGlvbmFsbHkgdXBkYXRlc1xuICAgICAqIGxpbWJvIGRvY3MgYW5kIHN5bmMgc3RhdGUgZnJvbSB0aGUgcHJvdmlkZWQgdGFyZ2V0IGNoYW5nZS5cbiAgICAgKiBAcGFyYW0gZG9jQ2hhbmdlcyAtIFRoZSBzZXQgb2YgY2hhbmdlcyB0byBtYWtlIHRvIHRoZSB2aWV3J3MgZG9jcy5cbiAgICAgKiBAcGFyYW0gbGltYm9SZXNvbHV0aW9uRW5hYmxlZCAtIFdoZXRoZXIgdG8gdXBkYXRlIGxpbWJvIGRvY3VtZW50cyBiYXNlZCBvblxuICAgICAqICAgICAgICB0aGlzIGNoYW5nZS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0Q2hhbmdlIC0gQSB0YXJnZXQgY2hhbmdlIHRvIGFwcGx5IGZvciBjb21wdXRpbmcgbGltYm8gZG9jcyBhbmRcbiAgICAgKiAgICAgICAgc3luYyBzdGF0ZS5cbiAgICAgKiBAcGFyYW0gdGFyZ2V0SXNQZW5kaW5nUmVzZXQgLSBXaGV0aGVyIHRoZSB0YXJnZXQgaXMgcGVuZGluZyB0byByZXNldCBkdWUgdG9cbiAgICAgKiAgICAgICAgZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaC4gSWYgbm90IGV4cGxpY2l0bHkgc3BlY2lmaWVkLCBpdCBpcyB0cmVhdGVkXG4gICAgICogICAgICAgIGVxdWl2YWxlbnRseSB0byBgZmFsc2VgLlxuICAgICAqIEByZXR1cm5zIEEgbmV3IFZpZXdDaGFuZ2Ugd2l0aCB0aGUgZ2l2ZW4gZG9jcywgY2hhbmdlcywgYW5kIHN5bmMgc3RhdGUuXG4gICAgICovXG4gICAgLy8gUE9SVElORyBOT1RFOiBUaGUgaU9TL0FuZHJvaWQgY2xpZW50cyBhbHdheXMgY29tcHV0ZSBsaW1ibyBkb2N1bWVudCBjaGFuZ2VzLlxuICAgIGFwcGx5Q2hhbmdlcyhlLCB0LCBuLCByKSB7XG4gICAgICAgIGNvbnN0IGkgPSB0aGlzLlRhO1xuICAgICAgICB0aGlzLlRhID0gZS5UYSwgdGhpcy5tdXRhdGVkS2V5cyA9IGUubXV0YXRlZEtleXM7XG4gICAgICAgIC8vIFNvcnQgY2hhbmdlcyBiYXNlZCBvbiB0eXBlIGFuZCBxdWVyeSBjb21wYXJhdG9yXG4gICAgICAgIGNvbnN0IHMgPSBlLkFhLlFfKCk7XG4gICAgICAgIHMuc29ydCgoKGUsIHQpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9jb21wYXJlQ2hhbmdlVHlwZShlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBvcmRlciA9IGUgPT4ge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgY2FzZSAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMTtcblxuICAgICAgICAgICAgICAgICAgY2FzZSAyIC8qIENoYW5nZVR5cGUuTW9kaWZpZWQgKi8gOlxuICAgICAgICAgICAgICAgICAgY2FzZSAzIC8qIENoYW5nZVR5cGUuTWV0YWRhdGEgKi8gOlxuICAgICAgICAgICAgICAgICAgICAvLyBBIG1ldGFkYXRhIGNoYW5nZSBpcyBjb252ZXJ0ZWQgdG8gYSBtb2RpZmllZCBjaGFuZ2UgYXQgdGhlIHB1YmxpY1xuICAgICAgICAgICAgICAgICAgICAvLyBhcGkgbGF5ZXIuICBTaW5jZSB3ZSBzb3J0IGJ5IGRvY3VtZW50IGtleSBhbmQgdGhlbiBjaGFuZ2UgdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgLy8gbWV0YWRhdGEgYW5kIG1vZGlmaWVkIGNoYW5nZXMgbXVzdCBiZSBzb3J0ZWQgZXF1aXZhbGVudGx5LlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gMjtcblxuICAgICAgICAgICAgICAgICAgY2FzZSAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwO1xuXG4gICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFpbCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gb3JkZXIoZSkgLSBvcmRlcih0KTtcbiAgICAgICAgfVxuICAgICAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAoZS50eXBlLCB0LnR5cGUpIHx8IHRoaXMuSWEoZS5kb2MsIHQuZG9jKSkpLCB0aGlzLlZhKG4pLCByID0gbnVsbCAhPSByICYmIHI7XG4gICAgICAgIGNvbnN0IG8gPSB0ICYmICFyID8gdGhpcy5tYSgpIDogW10sIF8gPSAwID09PSB0aGlzLlBhLnNpemUgJiYgdGhpcy5jdXJyZW50ICYmICFyID8gMSAvKiBTeW5jU3RhdGUuU3luY2VkICovIDogMCAvKiBTeW5jU3RhdGUuTG9jYWwgKi8gLCBhID0gXyAhPT0gdGhpcy5oYTtcbiAgICAgICAgLy8gV2UgYXJlIGF0IHN5bmNlZCBzdGF0ZSBpZiB0aGVyZSBpcyBubyBsaW1ibyBkb2NzIGFyZSB3YWl0aW5nIHRvIGJlIHJlc29sdmVkLCB2aWV3IGlzIGN1cnJlbnRcbiAgICAgICAgLy8gd2l0aCB0aGUgYmFja2VuZCwgYW5kIHRoZSBxdWVyeSBpcyBub3QgcGVuZGluZyB0byByZXNldCBkdWUgdG8gZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaC5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5oYSA9IF8sIDAgIT09IHMubGVuZ3RoIHx8IGEpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc25hcHNob3Q6IG5ldyBWaWV3U25hcHNob3QodGhpcy5xdWVyeSwgZS5UYSwgaSwgcywgZS5tdXRhdGVkS2V5cywgMCAvKiBTeW5jU3RhdGUuTG9jYWwgKi8gPT09IF8sIGEsIFxuICAgICAgICAgICAgICAgIC8qIGV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzPSAqLyAhMSwgISFuICYmIG4ucmVzdW1lVG9rZW4uYXBwcm94aW1hdGVCeXRlU2l6ZSgpID4gMCksXG4gICAgICAgICAgICAgICAgZmE6IG9cbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gY2hhbmdlc1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZmE6IG9cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQXBwbGllcyBhbiBPbmxpbmVTdGF0ZSBjaGFuZ2UgdG8gdGhlIHZpZXcsIHBvdGVudGlhbGx5IGdlbmVyYXRpbmcgYVxuICAgICAqIFZpZXdDaGFuZ2UgaWYgdGhlIHZpZXcncyBzeW5jU3RhdGUgY2hhbmdlcyBhcyBhIHJlc3VsdC5cbiAgICAgKi8gICAgal8oZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50ICYmIFwiT2ZmbGluZVwiIC8qIE9ubGluZVN0YXRlLk9mZmxpbmUgKi8gPT09IGUgPyAoXG4gICAgICAgIC8vIElmIHdlJ3JlIG9mZmxpbmUsIHNldCBgY3VycmVudGAgdG8gZmFsc2UgYW5kIHRoZW4gY2FsbCBhcHBseUNoYW5nZXMoKVxuICAgICAgICAvLyB0byByZWZyZXNoIG91ciBzeW5jU3RhdGUgYW5kIGdlbmVyYXRlIGEgVmlld0NoYW5nZSBhcyBhcHByb3ByaWF0ZS4gV2VcbiAgICAgICAgLy8gYXJlIGd1YXJhbnRlZWQgdG8gZ2V0IGEgbmV3IFRhcmdldENoYW5nZSB0aGF0IHNldHMgYGN1cnJlbnRgIGJhY2sgdG9cbiAgICAgICAgLy8gdHJ1ZSBvbmNlIHRoZSBjbGllbnQgaXMgYmFjayBvbmxpbmUuXG4gICAgICAgIHRoaXMuY3VycmVudCA9ICExLCB0aGlzLmFwcGx5Q2hhbmdlcyh7XG4gICAgICAgICAgICBUYTogdGhpcy5UYSxcbiAgICAgICAgICAgIEFhOiBuZXcgX19QUklWQVRFX0RvY3VtZW50Q2hhbmdlU2V0LFxuICAgICAgICAgICAgbXV0YXRlZEtleXM6IHRoaXMubXV0YXRlZEtleXMsXG4gICAgICAgICAgICBYaTogITFcbiAgICAgICAgfSwgXG4gICAgICAgIC8qIGxpbWJvUmVzb2x1dGlvbkVuYWJsZWQ9ICovICExKSkgOiB7XG4gICAgICAgICAgICBmYTogW11cbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBkb2MgZm9yIHRoZSBnaXZlbiBrZXkgc2hvdWxkIGJlIGluIGxpbWJvLlxuICAgICAqLyAgICBnYShlKSB7XG4gICAgICAgIC8vIElmIHRoZSByZW1vdGUgZW5kIHNheXMgaXQncyBwYXJ0IG9mIHRoaXMgcXVlcnksIGl0J3Mgbm90IGluIGxpbWJvLlxuICAgICAgICByZXR1cm4gIXRoaXMubGEuaGFzKGUpICYmIChcbiAgICAgICAgLy8gVGhlIGxvY2FsIHN0b3JlIGRvZXNuJ3QgdGhpbmsgaXQncyBhIHJlc3VsdCwgc28gaXQgc2hvdWxkbid0IGJlIGluIGxpbWJvLlxuICAgICAgICAhIXRoaXMuVGEuaGFzKGUpICYmICF0aGlzLlRhLmdldChlKS5oYXNMb2NhbE11dGF0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgc3luY2VkRG9jdW1lbnRzLCBjdXJyZW50LCBhbmQgbGltYm8gZG9jcyBiYXNlZCBvbiB0aGUgZ2l2ZW4gY2hhbmdlLlxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2YgY2hhbmdlcyB0byB3aGljaCBkb2NzIGFyZSBpbiBsaW1iby5cbiAgICAgKi8gICAgVmEoZSkge1xuICAgICAgICBlICYmIChlLmFkZGVkRG9jdW1lbnRzLmZvckVhY2goKGUgPT4gdGhpcy5sYSA9IHRoaXMubGEuYWRkKGUpKSksIGUubW9kaWZpZWREb2N1bWVudHMuZm9yRWFjaCgoZSA9PiB7fSkpLCBcbiAgICAgICAgZS5yZW1vdmVkRG9jdW1lbnRzLmZvckVhY2goKGUgPT4gdGhpcy5sYSA9IHRoaXMubGEuZGVsZXRlKGUpKSksIHRoaXMuY3VycmVudCA9IGUuY3VycmVudCk7XG4gICAgfVxuICAgIG1hKCkge1xuICAgICAgICAvLyBXZSBjYW4gb25seSBkZXRlcm1pbmUgbGltYm8gZG9jdW1lbnRzIHdoZW4gd2UncmUgaW4tc3luYyB3aXRoIHRoZSBzZXJ2ZXIuXG4gICAgICAgIGlmICghdGhpcy5jdXJyZW50KSByZXR1cm4gW107XG4gICAgICAgIC8vIFRPRE8oa2xpbXQpOiBEbyB0aGlzIGluY3JlbWVudGFsbHkgc28gdGhhdCBpdCdzIG5vdCBxdWFkcmF0aWMgd2hlblxuICAgICAgICAvLyB1cGRhdGluZyBtYW55IGRvY3VtZW50cy5cbiAgICAgICAgICAgICAgICBjb25zdCBlID0gdGhpcy5QYTtcbiAgICAgICAgdGhpcy5QYSA9IF9fUFJJVkFURV9kb2N1bWVudEtleVNldCgpLCB0aGlzLlRhLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5nYShlLmtleSkgJiYgKHRoaXMuUGEgPSB0aGlzLlBhLmFkZChlLmtleSkpO1xuICAgICAgICB9KSk7XG4gICAgICAgIC8vIERpZmYgdGhlIG5ldyBsaW1ibyBkb2NzIHdpdGggdGhlIG9sZCBsaW1ibyBkb2NzLlxuICAgICAgICBjb25zdCB0ID0gW107XG4gICAgICAgIHJldHVybiBlLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgdGhpcy5QYS5oYXMoZSkgfHwgdC5wdXNoKG5ldyBfX1BSSVZBVEVfUmVtb3ZlZExpbWJvRG9jdW1lbnQoZSkpO1xuICAgICAgICB9KSksIHRoaXMuUGEuZm9yRWFjaCgobiA9PiB7XG4gICAgICAgICAgICBlLmhhcyhuKSB8fCB0LnB1c2gobmV3IF9fUFJJVkFURV9BZGRlZExpbWJvRG9jdW1lbnQobikpO1xuICAgICAgICB9KSksIHQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgaW4tbWVtb3J5IHN0YXRlIG9mIHRoZSBjdXJyZW50IHZpZXcgd2l0aCB0aGUgc3RhdGUgcmVhZCBmcm9tXG4gICAgICogcGVyc2lzdGVuY2UuXG4gICAgICpcbiAgICAgKiBXZSB1cGRhdGUgdGhlIHF1ZXJ5IHZpZXcgd2hlbmV2ZXIgYSBjbGllbnQncyBwcmltYXJ5IHN0YXR1cyBjaGFuZ2VzOlxuICAgICAqIC0gV2hlbiBhIGNsaWVudCB0cmFuc2l0aW9ucyBmcm9tIHByaW1hcnkgdG8gc2Vjb25kYXJ5LCBpdCBjYW4gbWlzc1xuICAgICAqICAgTG9jYWxTdG9yYWdlIHVwZGF0ZXMgYW5kIGl0cyBxdWVyeSB2aWV3cyBtYXkgdGVtcG9yYXJpbHkgbm90IGJlXG4gICAgICogICBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgc3RhdGUgb24gZGlzay5cbiAgICAgKiAtIEZvciBzZWNvbmRhcnkgdG8gcHJpbWFyeSB0cmFuc2l0aW9ucywgdGhlIGNsaWVudCBuZWVkcyB0byB1cGRhdGUgdGhlIGxpc3RcbiAgICAgKiAgIG9mIGBzeW5jZWREb2N1bWVudHNgIHNpbmNlIHNlY29uZGFyeSBjbGllbnRzIHVwZGF0ZSB0aGVpciBxdWVyeSB2aWV3c1xuICAgICAqICAgYmFzZWQgcHVyZWx5IG9uIHN5bnRoZXNpemVkIFJlbW90ZUV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBxdWVyeVJlc3VsdC5kb2N1bWVudHMgLSBUaGUgZG9jdW1lbnRzIHRoYXQgbWF0Y2ggdGhlIHF1ZXJ5IGFjY29yZGluZ1xuICAgICAqIHRvIHRoZSBMb2NhbFN0b3JlLlxuICAgICAqIEBwYXJhbSBxdWVyeVJlc3VsdC5yZW1vdGVLZXlzIC0gVGhlIGtleXMgb2YgdGhlIGRvY3VtZW50cyB0aGF0IG1hdGNoIHRoZVxuICAgICAqIHF1ZXJ5IGFjY29yZGluZyB0byB0aGUgYmFja2VuZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBWaWV3Q2hhbmdlIHRoYXQgcmVzdWx0ZWQgZnJvbSB0aGlzIHN5bmNocm9uaXphdGlvbi5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgIHBhKGUpIHtcbiAgICAgICAgdGhpcy5sYSA9IGUuaHMsIHRoaXMuUGEgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuZGEoZS5kb2N1bWVudHMpO1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBseUNoYW5nZXModCwgLyogbGltYm9SZXNvbHV0aW9uRW5hYmxlZD0gKi8gITApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgdmlldyBzbmFwc2hvdCBhcyBpZiB0aGlzIHF1ZXJ5IHdhcyBqdXN0IGxpc3RlbmVkIHRvLiBDb250YWluc1xuICAgICAqIGEgZG9jdW1lbnQgYWRkIGZvciBldmVyeSBleGlzdGluZyBkb2N1bWVudCBhbmQgdGhlIGBmcm9tQ2FjaGVgIGFuZFxuICAgICAqIGBoYXNQZW5kaW5nV3JpdGVzYCBzdGF0dXMgb2YgdGhlIGFscmVhZHkgZXN0YWJsaXNoZWQgdmlldy5cbiAgICAgKi9cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgIHlhKCkge1xuICAgICAgICByZXR1cm4gVmlld1NuYXBzaG90LmZyb21Jbml0aWFsRG9jdW1lbnRzKHRoaXMucXVlcnksIHRoaXMuVGEsIHRoaXMubXV0YXRlZEtleXMsIDAgLyogU3luY1N0YXRlLkxvY2FsICovID09PSB0aGlzLmhhLCB0aGlzLmhhc0NhY2hlZFJlc3VsdHMpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBRdWVyeVZpZXcgY29udGFpbnMgYWxsIG9mIHRoZSBkYXRhIHRoYXQgU3luY0VuZ2luZSBuZWVkcyB0byBrZWVwIHRyYWNrIG9mIGZvclxuICogYSBwYXJ0aWN1bGFyIHF1ZXJ5LlxuICovXG5jbGFzcyBfX1BSSVZBVEVfUXVlcnlWaWV3IHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBUaGUgcXVlcnkgaXRzZWxmLlxuICAgICAqL1xuICAgIGUsIFxuICAgIC8qKlxuICAgICAqIFRoZSB0YXJnZXQgbnVtYmVyIGNyZWF0ZWQgYnkgdGhlIGNsaWVudCB0aGF0IGlzIHVzZWQgaW4gdGhlIHdhdGNoXG4gICAgICogc3RyZWFtIHRvIGlkZW50aWZ5IHRoaXMgcXVlcnkuXG4gICAgICovXG4gICAgdCwgXG4gICAgLyoqXG4gICAgICogVGhlIHZpZXcgaXMgcmVzcG9uc2libGUgZm9yIGNvbXB1dGluZyB0aGUgZmluYWwgbWVyZ2VkIHRydXRoIG9mIHdoYXRcbiAgICAgKiBkb2NzIGFyZSBpbiB0aGUgcXVlcnkuIEl0IGdldHMgbm90aWZpZWQgb2YgbG9jYWwgYW5kIHJlbW90ZSBjaGFuZ2VzLFxuICAgICAqIGFuZCBhcHBsaWVzIHRoZSBxdWVyeSBmaWx0ZXJzIGFuZCBsaW1pdHMgdG8gZGV0ZXJtaW5lIHRoZSBtb3N0IGNvcnJlY3RcbiAgICAgKiBwb3NzaWJsZSByZXN1bHRzLlxuICAgICAqL1xuICAgIG4pIHtcbiAgICAgICAgdGhpcy5xdWVyeSA9IGUsIHRoaXMudGFyZ2V0SWQgPSB0LCB0aGlzLnZpZXcgPSBuO1xuICAgIH1cbn1cblxuLyoqIFRyYWNrcyBhIGxpbWJvIHJlc29sdXRpb24uICovIGNsYXNzIExpbWJvUmVzb2x1dGlvbiB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICB0aGlzLmtleSA9IGUsIFxuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRvIHRydWUgb25jZSB3ZSd2ZSByZWNlaXZlZCBhIGRvY3VtZW50LiBUaGlzIGlzIHVzZWQgaW5cbiAgICAgICAgICogZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCgpIGFuZCB1bHRpbWF0ZWx5IHVzZWQgYnkgV2F0Y2hDaGFuZ2VBZ2dyZWdhdG9yIHRvXG4gICAgICAgICAqIGRlY2lkZSB3aGV0aGVyIGl0IG5lZWRzIHRvIG1hbnVmYWN0dXJlIGEgZGVsZXRlIGV2ZW50IGZvciB0aGUgdGFyZ2V0IG9uY2VcbiAgICAgICAgICogdGhlIHRhcmdldCBpcyBDVVJSRU5ULlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy53YSA9ICExO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBbiBpbXBsZW1lbnRhdGlvbiBvZiBgU3luY0VuZ2luZWAgY29vcmRpbmF0aW5nIHdpdGggb3RoZXIgcGFydHMgb2YgU0RLLlxuICpcbiAqIFRoZSBwYXJ0cyBvZiBTeW5jRW5naW5lIHRoYXQgYWN0IGFzIGEgY2FsbGJhY2sgdG8gUmVtb3RlU3RvcmUgbmVlZCB0byBiZVxuICogcmVnaXN0ZXJlZCBpbmRpdmlkdWFsbHkuIFRoaXMgaXMgZG9uZSBpbiBgc3luY0VuZ2luZVdyaXRlKClgIGFuZFxuICogYHN5bmNFbmdpbmVMaXN0ZW4oKWAgKGFzIHdlbGwgYXMgYGFwcGx5UHJpbWFyeVN0YXRlKClgKSBhcyB0aGVzZSBtZXRob2RzXG4gKiBzZXJ2ZSBhcyBlbnRyeSBwb2ludHMgdG8gUmVtb3RlU3RvcmUncyBmdW5jdGlvbmFsaXR5LlxuICpcbiAqIE5vdGU6IHNvbWUgZmllbGQgZGVmaW5lZCBpbiB0aGlzIGNsYXNzIG1pZ2h0IGhhdmUgcHVibGljIGFjY2VzcyBsZXZlbCwgYnV0XG4gKiB0aGUgY2xhc3MgaXMgbm90IGV4cG9ydGVkIHNvIHRoZXkgYXJlIG9ubHkgYWNjZXNzaWJsZSBmcm9tIHRoaXMgbW9kdWxlLlxuICogVGhpcyBpcyB1c2VmdWwgdG8gaW1wbGVtZW50IG9wdGlvbmFsIGZlYXR1cmVzIChsaWtlIGJ1bmRsZXMpIGluIGZyZWVcbiAqIGZ1bmN0aW9ucywgc3VjaCB0aGF0IHRoZXkgYXJlIHRyZWUtc2hha2VhYmxlLlxuICovIGNsYXNzIF9fUFJJVkFURV9TeW5jRW5naW5lSW1wbCB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgXG4gICAgLy8gUE9SVElORyBOT1RFOiBNYW5hZ2VzIHN0YXRlIHN5bmNocm9uaXphdGlvbiBpbiBtdWx0aS10YWIgZW52aXJvbm1lbnRzLlxuICAgIHIsIGksIHMpIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JlID0gZSwgdGhpcy5yZW1vdGVTdG9yZSA9IHQsIHRoaXMuZXZlbnRNYW5hZ2VyID0gbiwgdGhpcy5zaGFyZWRDbGllbnRTdGF0ZSA9IHIsIFxuICAgICAgICB0aGlzLmN1cnJlbnRVc2VyID0gaSwgdGhpcy5tYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9ucyA9IHMsIHRoaXMuU2EgPSB7fSwgdGhpcy5iYSA9IG5ldyBPYmplY3RNYXAoKGUgPT4gX19QUklWQVRFX2Nhbm9uaWZ5UXVlcnkoZSkpLCBfX1BSSVZBVEVfcXVlcnlFcXVhbHMpLCBcbiAgICAgICAgdGhpcy5EYSA9IG5ldyBNYXAsIFxuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGtleXMgb2YgZG9jdW1lbnRzIHRoYXQgYXJlIGluIGxpbWJvIGZvciB3aGljaCB3ZSBoYXZlbid0IHlldCBzdGFydGVkIGFcbiAgICAgICAgICogbGltYm8gcmVzb2x1dGlvbiBxdWVyeS4gVGhlIHN0cmluZ3MgaW4gdGhpcyBzZXQgYXJlIHRoZSByZXN1bHQgb2YgY2FsbGluZ1xuICAgICAgICAgKiBga2V5LnBhdGguY2Fub25pY2FsU3RyaW5nKClgIHdoZXJlIGBrZXlgIGlzIGEgYERvY3VtZW50S2V5YCBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBgU2V0YCB0eXBlIHdhcyBjaG9zZW4gYmVjYXVzZSBpdCBwcm92aWRlcyBlZmZpY2llbnQgbG9va3VwIGFuZCByZW1vdmFsXG4gICAgICAgICAqIG9mIGFyYml0cmFyeSBlbGVtZW50cyBhbmQgaXQgYWxzbyBtYWludGFpbnMgaW5zZXJ0aW9uIG9yZGVyLCBwcm92aWRpbmcgdGhlXG4gICAgICAgICAqIGRlc2lyZWQgcXVldWUtbGlrZSBGSUZPIHNlbWFudGljcy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuQ2EgPSBuZXcgU2V0LCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEtlZXBzIHRyYWNrIG9mIHRoZSB0YXJnZXQgSUQgZm9yIGVhY2ggZG9jdW1lbnQgdGhhdCBpcyBpbiBsaW1ibyB3aXRoIGFuXG4gICAgICAgICAqIGFjdGl2ZSB0YXJnZXQuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnZhID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKSwgXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBLZWVwcyB0cmFjayBvZiB0aGUgaW5mb3JtYXRpb24gYWJvdXQgYW4gYWN0aXZlIGxpbWJvIHJlc29sdXRpb24gZm9yIGVhY2hcbiAgICAgICAgICogYWN0aXZlIHRhcmdldCBJRCB0aGF0IHdhcyBzdGFydGVkIGZvciB0aGUgcHVycG9zZSBvZiBsaW1ibyByZXNvbHV0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5GYSA9IG5ldyBNYXAsIHRoaXMuTWEgPSBuZXcgX19QUklWQVRFX1JlZmVyZW5jZVNldCwgXG4gICAgICAgIC8qKiBTdG9yZXMgdXNlciBjb21wbGV0aW9uIGhhbmRsZXJzLCBpbmRleGVkIGJ5IFVzZXIgYW5kIEJhdGNoSWQuICovXG4gICAgICAgIHRoaXMueGEgPSB7fSwgXG4gICAgICAgIC8qKiBTdG9yZXMgdXNlciBjYWxsYmFja3Mgd2FpdGluZyBmb3IgYWxsIHBlbmRpbmcgd3JpdGVzIHRvIGJlIGFja25vd2xlZGdlZC4gKi9cbiAgICAgICAgdGhpcy5PYSA9IG5ldyBNYXAsIHRoaXMuTmEgPSBfX1BSSVZBVEVfVGFyZ2V0SWRHZW5lcmF0b3IuTG4oKSwgdGhpcy5vbmxpbmVTdGF0ZSA9IFwiVW5rbm93blwiIC8qIE9ubGluZVN0YXRlLlVua25vd24gKi8gLCBcbiAgICAgICAgLy8gVGhlIHByaW1hcnkgc3RhdGUgaXMgc2V0IHRvIGB0cnVlYCBvciBgZmFsc2VgIGltbWVkaWF0ZWx5IGFmdGVyIEZpcmVzdG9yZVxuICAgICAgICAvLyBzdGFydHVwLiBJbiB0aGUgaW50ZXJpbSwgYSBjbGllbnQgc2hvdWxkIG9ubHkgYmUgY29uc2lkZXJlZCBwcmltYXJ5IGlmXG4gICAgICAgIC8vIGBpc1ByaW1hcnlgIGlzIHRydWUuXG4gICAgICAgIHRoaXMuTGEgPSB2b2lkIDA7XG4gICAgfVxuICAgIGdldCBpc1ByaW1hcnlDbGllbnQoKSB7XG4gICAgICAgIHJldHVybiAhMCA9PT0gdGhpcy5MYTtcbiAgICB9XG59XG5cbi8qKlxuICogSW5pdGlhdGVzIHRoZSBuZXcgbGlzdGVuLCByZXNvbHZlcyBwcm9taXNlIHdoZW4gbGlzdGVuIGVucXVldWVkIHRvIHRoZVxuICogc2VydmVyLiBBbGwgdGhlIHN1YnNlcXVlbnQgdmlldyBzbmFwc2hvdHMgb3IgZXJyb3JzIGFyZSBzZW50IHRvIHRoZVxuICogc3Vic2NyaWJlZCBoYW5kbGVycy4gUmV0dXJucyB0aGUgaW5pdGlhbCBzbmFwc2hvdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVMaXN0ZW4oZSwgdCwgbiA9ICEwKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9lbnN1cmVXYXRjaENhbGxiYWNrcyhlKTtcbiAgICBsZXQgaTtcbiAgICBjb25zdCBzID0gci5iYS5nZXQodCk7XG4gICAgcmV0dXJuIHMgPyAoXG4gICAgLy8gUE9SVElORyBOT1RFOiBXaXRoIE11bHRpLVRhYiBXZWIsIGl0IGlzIHBvc3NpYmxlIHRoYXQgYSBxdWVyeSB2aWV3XG4gICAgLy8gYWxyZWFkeSBleGlzdHMgd2hlbiBFdmVudE1hbmFnZXIgY2FsbHMgdXMgZm9yIHRoZSBmaXJzdCB0aW1lLiBUaGlzXG4gICAgLy8gaGFwcGVucyB3aGVuIHRoZSBwcmltYXJ5IHRhYiBpcyBhbHJlYWR5IGxpc3RlbmluZyB0byB0aGlzIHF1ZXJ5IG9uXG4gICAgLy8gYmVoYWxmIG9mIGFub3RoZXIgdGFiIGFuZCB0aGUgdXNlciBvZiB0aGUgcHJpbWFyeSBhbHNvIHN0YXJ0cyBsaXN0ZW5pbmdcbiAgICAvLyB0byB0aGUgcXVlcnkuIEV2ZW50TWFuYWdlciB3aWxsIG5vdCBoYXZlIGFuIGFzc2lnbmVkIHRhcmdldCBJRCBpbiB0aGlzXG4gICAgLy8gY2FzZSBhbmQgY2FsbHMgYGxpc3RlbmAgdG8gb2J0YWluIHRoaXMgSUQuXG4gICAgci5zaGFyZWRDbGllbnRTdGF0ZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0KHMudGFyZ2V0SWQpLCBpID0gcy52aWV3LnlhKCkpIDogaSA9IGF3YWl0IF9fUFJJVkFURV9hbGxvY2F0ZVRhcmdldEFuZE1heWJlTGlzdGVuKHIsIHQsIG4sIFxuICAgIC8qKiBzaG91bGRJbml0aWFsaXplVmlldz0gKi8gITApLCBpO1xufVxuXG4vKiogUXVlcnkgaGFzIGJlZW4gbGlzdGVuaW5nIHRvIHRoZSBjYWNoZSwgYW5kIHRyaWVzIHRvIGluaXRpYXRlIHRoZSByZW1vdGUgc3RvcmUgbGlzdGVuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV90cmlnZ2VyUmVtb3RlU3RvcmVMaXN0ZW4oZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hDYWxsYmFja3MoZSk7XG4gICAgYXdhaXQgX19QUklWQVRFX2FsbG9jYXRlVGFyZ2V0QW5kTWF5YmVMaXN0ZW4obiwgdCwgXG4gICAgLyoqIHNob3VsZExpc3RlblRvUmVtb3RlPSAqLyAhMCwgXG4gICAgLyoqIHNob3VsZEluaXRpYWxpemVWaWV3PSAqLyAhMSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9hbGxvY2F0ZVRhcmdldEFuZE1heWJlTGlzdGVuKGUsIHQsIG4sIHIpIHtcbiAgICBjb25zdCBpID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBbGxvY2F0ZVRhcmdldChlLmxvY2FsU3RvcmUsIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KHQpKSwgcyA9IGkudGFyZ2V0SWQsIG8gPSBuID8gZS5zaGFyZWRDbGllbnRTdGF0ZS5hZGRMb2NhbFF1ZXJ5VGFyZ2V0KHMpIDogXCJub3QtY3VycmVudFwiO1xuICAgIGxldCBfO1xuICAgIHJldHVybiByICYmIChfID0gYXdhaXQgX19QUklWQVRFX2luaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KGUsIHQsIHMsIFwiY3VycmVudFwiID09PSBvLCBpLnJlc3VtZVRva2VuKSksIFxuICAgIGUuaXNQcmltYXJ5Q2xpZW50ICYmIG4gJiYgX19QUklWQVRFX3JlbW90ZVN0b3JlTGlzdGVuKGUucmVtb3RlU3RvcmUsIGkpLCBfO1xufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIHZpZXcgZm9yIGEgcHJldmlvdXNseSB1bmtub3duIHF1ZXJ5IGFuZCBjb21wdXRlcyBpdHMgaW5pdGlhbFxuICogc25hcHNob3QuXG4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2luaXRpYWxpemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KGUsIHQsIG4sIHIsIGkpIHtcbiAgICAvLyBQT1JUSU5HIE5PVEU6IE9uIFdlYiBvbmx5LCB3ZSBpbmplY3QgdGhlIGNvZGUgdGhhdCByZWdpc3RlcnMgbmV3IExpbWJvXG4gICAgLy8gdGFyZ2V0cyBiYXNlZCBvbiB2aWV3IGNoYW5nZXMuIFRoaXMgYWxsb3dzIHVzIHRvIG9ubHkgZGVwZW5kIG9uIExpbWJvXG4gICAgLy8gY2hhbmdlcyB3aGVuIHVzZXIgY29kZSBpbmNsdWRlcyBxdWVyaWVzLlxuICAgIGUuQmEgPSAodCwgbiwgcikgPT4gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2FwcGx5RG9jQ2hhbmdlcyhlLCB0LCBuLCByKSB7XG4gICAgICAgIGxldCBpID0gdC52aWV3LmRhKG4pO1xuICAgICAgICBpLlhpICYmIChcbiAgICAgICAgLy8gVGhlIHF1ZXJ5IGhhcyBhIGxpbWl0IGFuZCBzb21lIGRvY3Mgd2VyZSByZW1vdmVkLCBzbyB3ZSBuZWVkXG4gICAgICAgIC8vIHRvIHJlLXJ1biB0aGUgcXVlcnkgYWdhaW5zdCB0aGUgbG9jYWwgc3RvcmUgdG8gbWFrZSBzdXJlIHdlXG4gICAgICAgIC8vIGRpZG4ndCBsb3NlIGFueSBnb29kIGRvY3MgdGhhdCBoYWQgYmVlbiBwYXN0IHRoZSBsaW1pdC5cbiAgICAgICAgaSA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlRXhlY3V0ZVF1ZXJ5KGUubG9jYWxTdG9yZSwgdC5xdWVyeSwgXG4gICAgICAgIC8qIHVzZVByZXZpb3VzUmVzdWx0cz0gKi8gITEpLnRoZW4oKCh7ZG9jdW1lbnRzOiBlfSkgPT4gdC52aWV3LmRhKGUsIGkpKSkpO1xuICAgICAgICBjb25zdCBzID0gciAmJiByLnRhcmdldENoYW5nZXMuZ2V0KHQudGFyZ2V0SWQpLCBvID0gciAmJiBudWxsICE9IHIudGFyZ2V0TWlzbWF0Y2hlcy5nZXQodC50YXJnZXRJZCksIF8gPSB0LnZpZXcuYXBwbHlDaGFuZ2VzKGksIFxuICAgICAgICAvKiBsaW1ib1Jlc29sdXRpb25FbmFibGVkPSAqLyBlLmlzUHJpbWFyeUNsaWVudCwgcywgbyk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdXBkYXRlVHJhY2tlZExpbWJvcyhlLCB0LnRhcmdldElkLCBfLmZhKSwgXy5zbmFwc2hvdDtcbiAgICB9KGUsIHQsIG4sIHIpO1xuICAgIGNvbnN0IHMgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUV4ZWN1dGVRdWVyeShlLmxvY2FsU3RvcmUsIHQsIFxuICAgIC8qIHVzZVByZXZpb3VzUmVzdWx0cz0gKi8gITApLCBvID0gbmV3IF9fUFJJVkFURV9WaWV3KHQsIHMuaHMpLCBfID0gby5kYShzLmRvY3VtZW50cyksIGEgPSBUYXJnZXRDaGFuZ2UuY3JlYXRlU3ludGhlc2l6ZWRUYXJnZXRDaGFuZ2VGb3JDdXJyZW50Q2hhbmdlKG4sIHIgJiYgXCJPZmZsaW5lXCIgLyogT25saW5lU3RhdGUuT2ZmbGluZSAqLyAhPT0gZS5vbmxpbmVTdGF0ZSwgaSksIHUgPSBvLmFwcGx5Q2hhbmdlcyhfLCBcbiAgICAvKiBsaW1ib1Jlc29sdXRpb25FbmFibGVkPSAqLyBlLmlzUHJpbWFyeUNsaWVudCwgYSk7XG4gICAgX19QUklWQVRFX3VwZGF0ZVRyYWNrZWRMaW1ib3MoZSwgbiwgdS5mYSk7XG4gICAgY29uc3QgYyA9IG5ldyBfX1BSSVZBVEVfUXVlcnlWaWV3KHQsIG4sIG8pO1xuICAgIHJldHVybiBlLmJhLnNldCh0LCBjKSwgZS5EYS5oYXMobikgPyBlLkRhLmdldChuKS5wdXNoKHQpIDogZS5EYS5zZXQobiwgWyB0IF0pLCB1LnNuYXBzaG90O1xufVxuXG4vKiogU3RvcHMgbGlzdGVuaW5nIHRvIHRoZSBxdWVyeS4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVVbmxpc3RlbihlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIGkgPSByLmJhLmdldCh0KSwgcyA9IHIuRGEuZ2V0KGkudGFyZ2V0SWQpO1xuICAgIGlmIChzLmxlbmd0aCA+IDEpIHJldHVybiByLkRhLnNldChpLnRhcmdldElkLCBzLmZpbHRlcigoZSA9PiAhX19QUklWQVRFX3F1ZXJ5RXF1YWxzKGUsIHQpKSkpLCBcbiAgICB2b2lkIHIuYmEuZGVsZXRlKHQpO1xuICAgIC8vIE5vIG90aGVyIHF1ZXJpZXMgYXJlIG1hcHBlZCB0byB0aGUgdGFyZ2V0LCBjbGVhbiB1cCB0aGUgcXVlcnkgYW5kIHRoZSB0YXJnZXQuXG4gICAgICAgIGlmIChyLmlzUHJpbWFyeUNsaWVudCkge1xuICAgICAgICAvLyBXZSBuZWVkIHRvIHJlbW92ZSB0aGUgbG9jYWwgcXVlcnkgdGFyZ2V0IGZpcnN0IHRvIGFsbG93IHVzIHRvIHZlcmlmeVxuICAgICAgICAvLyB3aGV0aGVyIGFueSBvdGhlciBjbGllbnQgaXMgc3RpbGwgaW50ZXJlc3RlZCBpbiB0aGlzIHRhcmdldC5cbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KGkudGFyZ2V0SWQpO1xuICAgICAgICByLnNoYXJlZENsaWVudFN0YXRlLmlzQWN0aXZlUXVlcnlUYXJnZXQoaS50YXJnZXRJZCkgfHwgYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KHIubG9jYWxTdG9yZSwgaS50YXJnZXRJZCwgXG4gICAgICAgIC8qa2VlcFBlcnNpc3RlZFRhcmdldERhdGE9Ki8gITEpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUuY2xlYXJRdWVyeVN0YXRlKGkudGFyZ2V0SWQpLCBuICYmIF9fUFJJVkFURV9yZW1vdGVTdG9yZVVubGlzdGVuKHIucmVtb3RlU3RvcmUsIGkudGFyZ2V0SWQpLCBcbiAgICAgICAgICAgIF9fUFJJVkFURV9yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KHIsIGkudGFyZ2V0SWQpO1xuICAgICAgICB9KSkuY2F0Y2goX19QUklWQVRFX2lnbm9yZUlmUHJpbWFyeUxlYXNlTG9zcyk7XG4gICAgfSBlbHNlIF9fUFJJVkFURV9yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KHIsIGkudGFyZ2V0SWQpLCBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlbGVhc2VUYXJnZXQoci5sb2NhbFN0b3JlLCBpLnRhcmdldElkLCBcbiAgICAvKmtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhPSovICEwKTtcbn1cblxuLyoqIFVubGlzdGVucyB0byB0aGUgcmVtb3RlIHN0b3JlIHdoaWxlIHN0aWxsIGxpc3RlbmluZyB0byB0aGUgY2FjaGUuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV90cmlnZ2VyUmVtb3RlU3RvcmVVbmxpc3RlbihlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBuLmJhLmdldCh0KSwgaSA9IG4uRGEuZ2V0KHIudGFyZ2V0SWQpO1xuICAgIG4uaXNQcmltYXJ5Q2xpZW50ICYmIDEgPT09IGkubGVuZ3RoICYmIChcbiAgICAvLyBQT1JUSU5HIE5PVEU6IFVucmVnaXN0ZXIgdGhlIHRhcmdldCBJRCB3aXRoIGxvY2FsIEZpcmVzdG9yZSBjbGllbnQgYXNcbiAgICAvLyB3YXRjaCB0YXJnZXQuXG4gICAgbi5zaGFyZWRDbGllbnRTdGF0ZS5yZW1vdmVMb2NhbFF1ZXJ5VGFyZ2V0KHIudGFyZ2V0SWQpLCBfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbihuLnJlbW90ZVN0b3JlLCByLnRhcmdldElkKSk7XG59XG5cbi8qKlxuICogSW5pdGlhdGVzIHRoZSB3cml0ZSBvZiBsb2NhbCBtdXRhdGlvbiBiYXRjaCB3aGljaCBpbnZvbHZlcyBhZGRpbmcgdGhlXG4gKiB3cml0ZXMgdG8gdGhlIG11dGF0aW9uIHF1ZXVlLCBub3RpZnlpbmcgdGhlIHJlbW90ZSBzdG9yZSBhYm91dCBuZXdcbiAqIG11dGF0aW9ucyBhbmQgcmFpc2luZyBldmVudHMgZm9yIGFueSBjaGFuZ2VzIHRoaXMgd3JpdGUgY2F1c2VkLlxuICpcbiAqIFRoZSBwcm9taXNlIHJldHVybmVkIGJ5IHRoaXMgY2FsbCBpcyByZXNvbHZlZCB3aGVuIHRoZSBhYm92ZSBzdGVwc1xuICogaGF2ZSBjb21wbGV0ZWQsICpub3QqIHdoZW4gdGhlIHdyaXRlIHdhcyBhY2tlZCBieSB0aGUgYmFja2VuZC4gVGhlXG4gKiB1c2VyQ2FsbGJhY2sgaXMgcmVzb2x2ZWQgb25jZSB0aGUgd3JpdGUgd2FzIGFja2VkL3JlamVjdGVkIGJ5IHRoZVxuICogYmFja2VuZCAob3IgZmFpbGVkIGxvY2FsbHkgZm9yIGFueSBvdGhlciByZWFzb24pLlxuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lV3JpdGUoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfc3luY0VuZ2luZUVuc3VyZVdyaXRlQ2FsbGJhY2tzKGUpO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVdyaXRlTG9jYWxseShlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IFRpbWVzdGFtcC5ub3coKSwgaSA9IHQucmVkdWNlKCgoZSwgdCkgPT4gZS5hZGQodC5rZXkpKSwgX19QUklWQVRFX2RvY3VtZW50S2V5U2V0KCkpO1xuICAgICAgICAgICAgbGV0IHMsIG87XG4gICAgICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkxvY2FsbHkgd3JpdGUgbXV0YXRpb25zXCIsIFwicmVhZHdyaXRlXCIsIChlID0+IHtcbiAgICAgICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGtleXMgZG8gbm90IGhhdmUgYSByZW1vdGUgdmVyc2lvbiBpbiB0aGUgY2FjaGUsIHRoaXNcbiAgICAgICAgICAgICAgICAvLyBpcyBuZWVkZWQgdG8gY3JlYXRlIHRoZSByaWdodCBvdmVybGF5IG11dGF0aW9uOiBpZiBubyByZW1vdGUgdmVyc2lvblxuICAgICAgICAgICAgICAgIC8vIHByZXNlbnRzLCB3ZSBkbyBub3QgbmVlZCB0byBjcmVhdGUgb3ZlcmxheXMgYXMgcGF0Y2ggbXV0YXRpb25zLlxuICAgICAgICAgICAgICAgIC8vIFRPRE8oT3ZlcmxheSk6IElzIHRoZXJlIGEgYmV0dGVyIHdheSB0byBkZXRlcm1pbmUgdGhpcz8gVXNpbmcgdGhlXG4gICAgICAgICAgICAgICAgLy8gIGRvY3VtZW50IHZlcnNpb24gZG9lcyBub3Qgd29yayBiZWNhdXNlIGxvY2FsIG11dGF0aW9ucyBzZXQgdGhlbSBiYWNrXG4gICAgICAgICAgICAgICAgLy8gIHRvIDAuXG4gICAgICAgICAgICAgICAgbGV0IF8gPSBfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwKCksIGEgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5vcy5nZXRFbnRyaWVzKGUsIGkpLm5leHQoKGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICBfID0gZSwgXy5mb3JFYWNoKCgoZSwgdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdC5pc1ZhbGlkRG9jdW1lbnQoKSB8fCAoYSA9IGEuYWRkKGUpKTtcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLmdldE92ZXJsYXllZERvY3VtZW50cyhlLCBfKSkpLm5leHQoKGkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzID0gaTtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIG5vbi1pZGVtcG90ZW50IG11dGF0aW9ucyAoc3VjaCBhcyBgRmllbGRWYWx1ZS5pbmNyZW1lbnQoKWApLFxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSByZWNvcmQgdGhlIGJhc2Ugc3RhdGUgaW4gYSBzZXBhcmF0ZSBwYXRjaCBtdXRhdGlvbi4gVGhpcyBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBsYXRlciB1c2VkIHRvIGd1YXJhbnRlZSBjb25zaXN0ZW50IHZhbHVlcyBhbmQgcHJldmVudHMgZmxpY2tlclxuICAgICAgICAgICAgICAgICAgICAvLyBldmVuIGlmIHRoZSBiYWNrZW5kIHNlbmRzIHVzIGFuIHVwZGF0ZSB0aGF0IGFscmVhZHkgaW5jbHVkZXMgb3VyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRyYW5zZm9ybS5cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9tdXRhdGlvbkV4dHJhY3RCYXNlVmFsdWUoZSwgcy5nZXQoZS5rZXkpLm92ZXJsYXllZERvY3VtZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGwgIT0gdCAmJiBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE5PVEU6IFRoZSBiYXNlIHN0YXRlIHNob3VsZCBvbmx5IGJlIGFwcGxpZWQgaWYgdGhlcmUncyBzb21lXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBleGlzdGluZyBkb2N1bWVudCB0byBvdmVycmlkZSwgc28gdXNlIGEgUHJlY29uZGl0aW9uIG9mXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBleGlzdHM9dHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgby5wdXNoKG5ldyBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbihlLmtleSwgdCwgX19QUklWQVRFX2V4dHJhY3RGaWVsZE1hc2sodC52YWx1ZS5tYXBWYWx1ZSksIFByZWNvbmRpdGlvbi5leGlzdHMoITApKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4ubXV0YXRpb25RdWV1ZS5hZGRNdXRhdGlvbkJhdGNoKGUsIHIsIG8sIHQpO1xuICAgICAgICAgICAgICAgIH0pKS5uZXh0KCh0ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbyA9IHQ7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB0LmFwcGx5VG9Mb2NhbERvY3VtZW50U2V0KHMsIGEpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbi5kb2N1bWVudE92ZXJsYXlDYWNoZS5zYXZlT3ZlcmxheXMoZSwgdC5iYXRjaElkLCByKTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KSkudGhlbigoKCkgPT4gKHtcbiAgICAgICAgICAgICAgICBiYXRjaElkOiBvLmJhdGNoSWQsXG4gICAgICAgICAgICAgICAgY2hhbmdlczogX19QUklWQVRFX2NvbnZlcnRPdmVybGF5ZWREb2N1bWVudE1hcFRvRG9jdW1lbnRNYXAocylcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH0oci5sb2NhbFN0b3JlLCB0KTtcbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS5hZGRQZW5kaW5nTXV0YXRpb24oZS5iYXRjaElkKSwgZnVuY3Rpb24gX19QUklWQVRFX2FkZE11dGF0aW9uQ2FsbGJhY2soZSwgdCwgbikge1xuICAgICAgICAgICAgbGV0IHIgPSBlLnhhW2UuY3VycmVudFVzZXIudG9LZXkoKV07XG4gICAgICAgICAgICByIHx8IChyID0gbmV3IFNvcnRlZE1hcChfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcikpO1xuICAgICAgICAgICAgciA9IHIuaW5zZXJ0KHQsIG4pLCBlLnhhW2UuY3VycmVudFVzZXIudG9LZXkoKV0gPSByO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUmVzb2x2ZXMgb3IgcmVqZWN0cyB0aGUgdXNlciBjYWxsYmFjayBmb3IgdGhlIGdpdmVuIGJhdGNoIGFuZCB0aGVuIGRpc2NhcmRzXG4gKiBpdC5cbiAqLyAociwgZS5iYXRjaElkLCBuKSwgYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVFbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKHIsIGUuY2hhbmdlcyksIFxuICAgICAgICBhd2FpdCBfX1BSSVZBVEVfZmlsbFdyaXRlUGlwZWxpbmUoci5yZW1vdGVTdG9yZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBJZiB3ZSBjYW4ndCBwZXJzaXN0IHRoZSBtdXRhdGlvbiwgd2UgcmVqZWN0IHRoZSB1c2VyIGNhbGxiYWNrIGFuZFxuICAgICAgICAvLyBkb24ndCBzZW5kIHRoZSBtdXRhdGlvbi4gVGhlIHVzZXIgY2FuIHRoZW4gcmV0cnkgdGhlIHdyaXRlLlxuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3dyYXBJblVzZXJFcnJvcklmUmVjb3ZlcmFibGUoZSwgXCJGYWlsZWQgdG8gcGVyc2lzdCB3cml0ZVwiKTtcbiAgICAgICAgbi5yZWplY3QodCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEFwcGxpZXMgb25lIHJlbW90ZSBldmVudCB0byB0aGUgc3luYyBlbmdpbmUsIG5vdGlmeWluZyBhbnkgdmlld3Mgb2YgdGhlXG4gKiBjaGFuZ2VzLCBhbmQgcmVsZWFzaW5nIGFueSBwZW5kaW5nIG11dGF0aW9uIGJhdGNoZXMgdGhhdCB3b3VsZCBiZWNvbWVcbiAqIHZpc2libGUgYmVjYXVzZSBvZiB0aGUgc25hcHNob3QgdmVyc2lvbiB0aGUgcmVtb3RlIGV2ZW50IGNvbnRhaW5zLlxuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlSZW1vdGVFdmVudChlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlQXBwbHlSZW1vdGVFdmVudFRvTG9jYWxDYWNoZShuLmxvY2FsU3RvcmUsIHQpO1xuICAgICAgICAvLyBVcGRhdGUgYHJlY2VpdmVkRG9jdW1lbnRgIGFzIGFwcHJvcHJpYXRlIGZvciBhbnkgbGltYm8gdGFyZ2V0cy5cbiAgICAgICAgICAgICAgICB0LnRhcmdldENoYW5nZXMuZm9yRWFjaCgoKGUsIHQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBuLkZhLmdldCh0KTtcbiAgICAgICAgICAgIHIgJiYgKFxuICAgICAgICAgICAgLy8gU2luY2UgdGhpcyBpcyBhIGxpbWJvIHJlc29sdXRpb24gbG9va3VwLCBpdCdzIGZvciBhIHNpbmdsZSBkb2N1bWVudFxuICAgICAgICAgICAgLy8gYW5kIGl0IGNvdWxkIGJlIGFkZGVkLCBtb2RpZmllZCwgb3IgcmVtb3ZlZCwgYnV0IG5vdCBhIGNvbWJpbmF0aW9uLlxuICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoZS5hZGRlZERvY3VtZW50cy5zaXplICsgZS5tb2RpZmllZERvY3VtZW50cy5zaXplICsgZS5yZW1vdmVkRG9jdW1lbnRzLnNpemUgPD0gMSksIFxuICAgICAgICAgICAgZS5hZGRlZERvY3VtZW50cy5zaXplID4gMCA/IHIud2EgPSAhMCA6IGUubW9kaWZpZWREb2N1bWVudHMuc2l6ZSA+IDAgPyBfX1BSSVZBVEVfaGFyZEFzc2VydChyLndhKSA6IGUucmVtb3ZlZERvY3VtZW50cy5zaXplID4gMCAmJiAoX19QUklWQVRFX2hhcmRBc3NlcnQoci53YSksIFxuICAgICAgICAgICAgci53YSA9ICExKSk7XG4gICAgICAgIH0pKSwgYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVFbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKG4sIGUsIHQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2lnbm9yZUlmUHJpbWFyeUxlYXNlTG9zcyhlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQXBwbGllcyBhbiBPbmxpbmVTdGF0ZSBjaGFuZ2UgdG8gdGhlIHN5bmMgZW5naW5lIGFuZCBub3RpZmllcyBhbnkgdmlld3Mgb2ZcbiAqIHRoZSBjaGFuZ2UuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseU9ubGluZVN0YXRlQ2hhbmdlKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAvLyBJZiB3ZSBhcmUgdGhlIHNlY29uZGFyeSBjbGllbnQsIHdlIGV4cGxpY2l0bHkgaWdub3JlIHRoZSByZW1vdGUgc3RvcmUnc1xuICAgIC8vIG9ubGluZSBzdGF0ZSAodGhlIGxvY2FsIGNsaWVudCBtYXkgZ28gb2ZmbGluZSwgZXZlbiB0aG91Z2ggdGhlIHByaW1hcnlcbiAgICAvLyB0YWIgcmVtYWlucyBvbmxpbmUpIGFuZCBvbmx5IGFwcGx5IHRoZSBwcmltYXJ5IHRhYidzIG9ubGluZSBzdGF0ZSBmcm9tXG4gICAgLy8gU2hhcmVkQ2xpZW50U3RhdGUuXG4gICAgICAgIGlmIChyLmlzUHJpbWFyeUNsaWVudCAmJiAwIC8qIE9ubGluZVN0YXRlU291cmNlLlJlbW90ZVN0b3JlICovID09PSBuIHx8ICFyLmlzUHJpbWFyeUNsaWVudCAmJiAxIC8qIE9ubGluZVN0YXRlU291cmNlLlNoYXJlZENsaWVudFN0YXRlICovID09PSBuKSB7XG4gICAgICAgIGNvbnN0IGUgPSBbXTtcbiAgICAgICAgci5iYS5mb3JFYWNoKCgobiwgcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IHIudmlldy5qXyh0KTtcbiAgICAgICAgICAgIGkuc25hcHNob3QgJiYgZS5wdXNoKGkuc25hcHNob3QpO1xuICAgICAgICB9KSksIGZ1bmN0aW9uIF9fUFJJVkFURV9ldmVudE1hbmFnZXJPbk9ubGluZVN0YXRlQ2hhbmdlKGUsIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgbi5vbmxpbmVTdGF0ZSA9IHQ7XG4gICAgICAgICAgICBsZXQgciA9ICExO1xuICAgICAgICAgICAgbi5xdWVyaWVzLmZvckVhY2goKChlLCBuKSA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIG4uVV8pIFxuICAgICAgICAgICAgICAgIC8vIFJ1biBnbG9iYWwgc25hcHNob3QgbGlzdGVuZXJzIGlmIGEgY29uc2lzdGVudCBzbmFwc2hvdCBoYXMgYmVlbiBlbWl0dGVkLlxuICAgICAgICAgICAgICAgIGUual8odCkgJiYgKHIgPSAhMCk7XG4gICAgICAgICAgICB9KSksIHIgJiYgX19QUklWQVRFX3JhaXNlU25hcHNob3RzSW5TeW5jRXZlbnQobik7XG4gICAgICAgIH0oci5ldmVudE1hbmFnZXIsIHQpLCBlLmxlbmd0aCAmJiByLlNhLmhfKGUpLCByLm9ubGluZVN0YXRlID0gdCwgci5pc1ByaW1hcnlDbGllbnQgJiYgci5zaGFyZWRDbGllbnRTdGF0ZS5zZXRPbmxpbmVTdGF0ZSh0KTtcbiAgICB9XG59XG5cbi8qKlxuICogUmVqZWN0cyB0aGUgbGlzdGVuIGZvciB0aGUgZ2l2ZW4gdGFyZ2V0SUQuIFRoaXMgY2FuIGJlIHRyaWdnZXJlZCBieSB0aGVcbiAqIGJhY2tlbmQgZm9yIGFueSBhY3RpdmUgdGFyZ2V0LlxuICpcbiAqIEBwYXJhbSBzeW5jRW5naW5lIC0gVGhlIHN5bmMgZW5naW5lIGltcGxlbWVudGF0aW9uLlxuICogQHBhcmFtIHRhcmdldElkIC0gVGhlIHRhcmdldElEIGNvcnJlc3BvbmRzIHRvIG9uZSBwcmV2aW91c2x5IGluaXRpYXRlZCBieSB0aGVcbiAqIHVzZXIgYXMgcGFydCBvZiBUYXJnZXREYXRhIHBhc3NlZCB0byBsaXN0ZW4oKSBvbiBSZW1vdGVTdG9yZS5cbiAqIEBwYXJhbSBlcnIgLSBBIGRlc2NyaXB0aW9uIG9mIHRoZSBjb25kaXRpb24gdGhhdCBoYXMgZm9yY2VkIHRoZSByZWplY3Rpb24uXG4gKiBOZWFybHkgYWx3YXlzIHRoaXMgd2lsbCBiZSBhbiBpbmRpY2F0aW9uIHRoYXQgdGhlIHVzZXIgaXMgbm8gbG9uZ2VyXG4gKiBhdXRob3JpemVkIHRvIHNlZSB0aGUgZGF0YSBtYXRjaGluZyB0aGUgdGFyZ2V0LlxuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lUmVqZWN0TGlzdGVuKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLXRhYiBvbmx5LlxuICAgICAgICByLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZVF1ZXJ5U3RhdGUodCwgXCJyZWplY3RlZFwiLCBuKTtcbiAgICBjb25zdCBpID0gci5GYS5nZXQodCksIHMgPSBpICYmIGkua2V5O1xuICAgIGlmIChzKSB7XG4gICAgICAgIC8vIFRPRE8oa2xpbXQpOiBXZSByZWFsbHkgb25seSBzaG91bGQgZG8gdGhlIGZvbGxvd2luZyBvbiBwZXJtaXNzaW9uXG4gICAgICAgIC8vIGRlbmllZCBlcnJvcnMsIGJ1dCB3ZSBkb24ndCBoYXZlIHRoZSBjYXVzZSBjb2RlIGhlcmUuXG4gICAgICAgIC8vIEl0J3MgYSBsaW1ibyBkb2MuIENyZWF0ZSBhIHN5bnRoZXRpYyBldmVudCBzYXlpbmcgaXQgd2FzIGRlbGV0ZWQuXG4gICAgICAgIC8vIFRoaXMgaXMga2luZCBvZiBhIGhhY2suIElkZWFsbHksIHdlIHdvdWxkIGhhdmUgYSBtZXRob2QgaW4gdGhlIGxvY2FsXG4gICAgICAgIC8vIHN0b3JlIHRvIHB1cmdlIGEgZG9jdW1lbnQuIEhvd2V2ZXIsIGl0IHdvdWxkIGJlIHRyaWNreSB0byBrZWVwIGFsbCBvZlxuICAgICAgICAvLyB0aGUgbG9jYWwgc3RvcmUncyBpbnZhcmlhbnRzIHdpdGggYW5vdGhlciBtZXRob2QuXG4gICAgICAgIGxldCBlID0gbmV3IFNvcnRlZE1hcChEb2N1bWVudEtleS5jb21wYXJhdG9yKTtcbiAgICAgICAgLy8gVE9ETyhiLzIxNzE4OTIxNik6IFRoaXMgbGltYm8gZG9jdW1lbnQgc2hvdWxkIGlkZWFsbHkgaGF2ZSBhIHJlYWQgdGltZSxcbiAgICAgICAgLy8gc28gdGhhdCBpdCBpcyBwaWNrZWQgdXAgYnkgYW55IHJlYWQtdGltZSBiYXNlZCBzY2Fucy4gVGhlIGJhY2tlbmQsXG4gICAgICAgIC8vIGhvd2V2ZXIsIGRvZXMgbm90IHNlbmQgYSByZWFkIHRpbWUgZm9yIHRhcmdldCByZW1vdmFscy5cbiAgICAgICAgICAgICAgICBlID0gZS5pbnNlcnQocywgTXV0YWJsZURvY3VtZW50Lm5ld05vRG9jdW1lbnQocywgU25hcHNob3RWZXJzaW9uLm1pbigpKSk7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKS5hZGQocyksIGkgPSBuZXcgUmVtb3RlRXZlbnQoU25hcHNob3RWZXJzaW9uLm1pbigpLCBcbiAgICAgICAgLyogdGFyZ2V0Q2hhbmdlcz0gKi8gbmV3IE1hcCwgXG4gICAgICAgIC8qIHRhcmdldE1pc21hdGNoZXM9ICovIG5ldyBTb3J0ZWRNYXAoX19QUklWQVRFX3ByaW1pdGl2ZUNvbXBhcmF0b3IpLCBlLCBuKTtcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseVJlbW90ZUV2ZW50KHIsIGkpLCBcbiAgICAgICAgLy8gU2luY2UgdGhpcyBxdWVyeSBmYWlsZWQsIHdlIHdvbid0IHdhbnQgdG8gbWFudWFsbHkgdW5saXN0ZW4gdG8gaXQuXG4gICAgICAgIC8vIFdlIG9ubHkgcmVtb3ZlIGl0IGZyb20gYm9va2tlZXBpbmcgYWZ0ZXIgd2Ugc3VjY2Vzc2Z1bGx5IGFwcGxpZWQgdGhlXG4gICAgICAgIC8vIFJlbW90ZUV2ZW50LiBJZiBgYXBwbHlSZW1vdGVFdmVudCgpYCB0aHJvd3MsIHdlIHdhbnQgdG8gcmUtbGlzdGVuIHRvXG4gICAgICAgIC8vIHRoaXMgcXVlcnkgd2hlbiB0aGUgUmVtb3RlU3RvcmUgcmVzdGFydHMgdGhlIFdhdGNoIHN0cmVhbSwgd2hpY2ggc2hvdWxkXG4gICAgICAgIC8vIHJlLXRyaWdnZXIgdGhlIHRhcmdldCBmYWlsdXJlLlxuICAgICAgICByLnZhID0gci52YS5yZW1vdmUocyksIHIuRmEuZGVsZXRlKHQpLCBfX1BSSVZBVEVfcHVtcEVucXVldWVkTGltYm9SZXNvbHV0aW9ucyhyKTtcbiAgICB9IGVsc2UgYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KHIubG9jYWxTdG9yZSwgdCwgXG4gICAgLyoga2VlcFBlcnNpc3RlZFRhcmdldERhdGEgKi8gITEpLnRoZW4oKCgpID0+IF9fUFJJVkFURV9yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KHIsIHQsIG4pKSkuY2F0Y2goX19QUklWQVRFX2lnbm9yZUlmUHJpbWFyeUxlYXNlTG9zcyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlTdWNjZXNzZnVsV3JpdGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0gdC5iYXRjaC5iYXRjaElkO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFja25vd2xlZGdlQmF0Y2gobi5sb2NhbFN0b3JlLCB0KTtcbiAgICAgICAgLy8gVGhlIGxvY2FsIHN0b3JlIG1heSBvciBtYXkgbm90IGJlIGFibGUgdG8gYXBwbHkgdGhlIHdyaXRlIHJlc3VsdCBhbmRcbiAgICAgICAgLy8gcmFpc2UgZXZlbnRzIGltbWVkaWF0ZWx5IChkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgd2F0Y2hlciBpcyBjYXVnaHRcbiAgICAgICAgLy8gdXApLCBzbyB3ZSByYWlzZSB1c2VyIGNhbGxiYWNrcyBmaXJzdCBzbyB0aGF0IHRoZXkgY29uc2lzdGVudGx5IGhhcHBlblxuICAgICAgICAvLyBiZWZvcmUgbGlzdGVuIGV2ZW50cy5cbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfcHJvY2Vzc1VzZXJDYWxsYmFjayhuLCByLCAvKmVycm9yPSovIG51bGwpLCBfX1BSSVZBVEVfdHJpZ2dlclBlbmRpbmdXcml0ZXNDYWxsYmFja3MobiwgciksIFxuICAgICAgICBuLnNoYXJlZENsaWVudFN0YXRlLnVwZGF0ZU11dGF0aW9uU3RhdGUociwgXCJhY2tub3dsZWRnZWRcIiksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuLCBlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3MoZSk7XG4gICAgfVxufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZVJlamVjdEZhaWxlZFdyaXRlKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVSZWplY3RCYXRjaChlLCB0KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiUmVqZWN0IGJhdGNoXCIsIFwicmVhZHdyaXRlLXByaW1hcnlcIiwgKGUgPT4ge1xuICAgICAgICAgICAgICAgIGxldCByO1xuICAgICAgICAgICAgICAgIHJldHVybiBuLm11dGF0aW9uUXVldWUubG9va3VwTXV0YXRpb25CYXRjaChlLCB0KS5uZXh0KCh0ID0+IChfX1BSSVZBVEVfaGFyZEFzc2VydChudWxsICE9PSB0KSwgXG4gICAgICAgICAgICAgICAgciA9IHQua2V5cygpLCBuLm11dGF0aW9uUXVldWUucmVtb3ZlTXV0YXRpb25CYXRjaChlLCB0KSkpKS5uZXh0KCgoKSA9PiBuLm11dGF0aW9uUXVldWUucGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2soZSkpKS5uZXh0KCgoKSA9PiBuLmRvY3VtZW50T3ZlcmxheUNhY2hlLnJlbW92ZU92ZXJsYXlzRm9yQmF0Y2hJZChlLCByLCB0KSkpLm5leHQoKCgpID0+IG4ubG9jYWxEb2N1bWVudHMucmVjYWxjdWxhdGVBbmRTYXZlT3ZlcmxheXNGb3JEb2N1bWVudEtleXMoZSwgcikpKS5uZXh0KCgoKSA9PiBuLmxvY2FsRG9jdW1lbnRzLmdldERvY3VtZW50cyhlLCByKSkpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogUmV0dXJucyB0aGUgbGFyZ2VzdCAobGF0ZXN0KSBiYXRjaCBpZCBpbiBtdXRhdGlvbiBxdWV1ZSB0aGF0IGlzIHBlbmRpbmdcbiAqIHNlcnZlciByZXNwb25zZS5cbiAqXG4gKiBSZXR1cm5zIGBCQVRDSElEX1VOS05PV05gIGlmIHRoZSBxdWV1ZSBpcyBlbXB0eS5cbiAqLyAoci5sb2NhbFN0b3JlLCB0KTtcbiAgICAgICAgLy8gVGhlIGxvY2FsIHN0b3JlIG1heSBvciBtYXkgbm90IGJlIGFibGUgdG8gYXBwbHkgdGhlIHdyaXRlIHJlc3VsdCBhbmRcbiAgICAgICAgLy8gcmFpc2UgZXZlbnRzIGltbWVkaWF0ZWx5IChkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgd2F0Y2hlciBpcyBjYXVnaHQgdXApLFxuICAgICAgICAvLyBzbyB3ZSByYWlzZSB1c2VyIGNhbGxiYWNrcyBmaXJzdCBzbyB0aGF0IHRoZXkgY29uc2lzdGVudGx5IGhhcHBlbiBiZWZvcmVcbiAgICAgICAgLy8gbGlzdGVuIGV2ZW50cy5cbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfcHJvY2Vzc1VzZXJDYWxsYmFjayhyLCB0LCBuKSwgX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzKHIsIHQpLCBcbiAgICAgICAgci5zaGFyZWRDbGllbnRTdGF0ZS51cGRhdGVNdXRhdGlvblN0YXRlKHQsIFwicmVqZWN0ZWRcIiwgbiksIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShyLCBlKTtcbiAgICB9IGNhdGNoIChuKSB7XG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9pZ25vcmVJZlByaW1hcnlMZWFzZUxvc3Mobik7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlZ2lzdGVycyBhIHVzZXIgY2FsbGJhY2sgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCBwZW5kaW5nIG11dGF0aW9ucyBhdCB0aGUgbW9tZW50IG9mIGNhbGxpbmdcbiAqIGFyZSBhY2tub3dsZWRnZWQgLlxuICovIGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lUmVnaXN0ZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2soZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIF9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrKG4ucmVtb3RlU3RvcmUpIHx8IF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlN5bmNFbmdpbmVcIiwgXCJUaGUgbmV0d29yayBpcyBkaXNhYmxlZC4gVGhlIHRhc2sgcmV0dXJuZWQgYnkgJ2F3YWl0UGVuZGluZ1dyaXRlcygpJyB3aWxsIG5vdCBjb21wbGV0ZSB1bnRpbCB0aGUgbmV0d29yayBpcyBlbmFibGVkLlwiKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlID0gYXdhaXQgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVHZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgcmV0dXJuIHQucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJHZXQgaGlnaGVzdCB1bmFja25vd2xlZGdlZCBiYXRjaCBpZFwiLCBcInJlYWRvbmx5XCIsIChlID0+IHQubXV0YXRpb25RdWV1ZS5nZXRIaWdoZXN0VW5hY2tub3dsZWRnZWRCYXRjaElkKGUpKSk7XG4gICAgICAgIH0obi5sb2NhbFN0b3JlKTtcbiAgICAgICAgaWYgKC0xID09PSBlKSBcbiAgICAgICAgLy8gVHJpZ2dlciB0aGUgY2FsbGJhY2sgcmlnaHQgYXdheSBpZiB0aGVyZSBpcyBubyBwZW5kaW5nIHdyaXRlcyBhdCB0aGUgbW9tZW50LlxuICAgICAgICByZXR1cm4gdm9pZCB0LnJlc29sdmUoKTtcbiAgICAgICAgY29uc3QgciA9IG4uT2EuZ2V0KGUpIHx8IFtdO1xuICAgICAgICByLnB1c2godCksIG4uT2Euc2V0KGUsIHIpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKGUsIFwiSW5pdGlhbGl6YXRpb24gb2Ygd2FpdEZvclBlbmRpbmdXcml0ZXMoKSBvcGVyYXRpb24gZmFpbGVkXCIpO1xuICAgICAgICB0LnJlamVjdChuKTtcbiAgICB9XG59XG5cbi8qKlxuICogVHJpZ2dlcnMgdGhlIGNhbGxiYWNrcyB0aGF0IGFyZSB3YWl0aW5nIGZvciB0aGlzIGJhdGNoIGlkIHRvIGdldCBhY2tub3dsZWRnZWQgYnkgc2VydmVyLFxuICogaWYgdGhlcmUgYXJlIGFueS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdHJpZ2dlclBlbmRpbmdXcml0ZXNDYWxsYmFja3MoZSwgdCkge1xuICAgIChlLk9hLmdldCh0KSB8fCBbXSkuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgIGUucmVzb2x2ZSgpO1xuICAgIH0pKSwgZS5PYS5kZWxldGUodCk7XG59XG5cbi8qKiBSZWplY3QgYWxsIG91dHN0YW5kaW5nIGNhbGxiYWNrcyB3YWl0aW5nIGZvciBwZW5kaW5nIHdyaXRlcyB0byBjb21wbGV0ZS4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3Byb2Nlc3NVc2VyQ2FsbGJhY2soZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGxldCBpID0gci54YVtyLmN1cnJlbnRVc2VyLnRvS2V5KCldO1xuICAgIC8vIE5PVEU6IE11dGF0aW9ucyByZXN0b3JlZCBmcm9tIHBlcnNpc3RlbmNlIHdvbid0IGhhdmUgY2FsbGJhY2tzLCBzbyBpdCdzXG4gICAgLy8gb2theSBmb3IgdGhlcmUgdG8gYmUgbm8gY2FsbGJhY2sgZm9yIHRoaXMgSUQuXG4gICAgICAgIGlmIChpKSB7XG4gICAgICAgIGNvbnN0IGUgPSBpLmdldCh0KTtcbiAgICAgICAgZSAmJiAobiA/IGUucmVqZWN0KG4pIDogZS5yZXNvbHZlKCksIGkgPSBpLnJlbW92ZSh0KSksIHIueGFbci5jdXJyZW50VXNlci50b0tleSgpXSA9IGk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChlLCB0LCBuID0gbnVsbCkge1xuICAgIGUuc2hhcmVkQ2xpZW50U3RhdGUucmVtb3ZlTG9jYWxRdWVyeVRhcmdldCh0KTtcbiAgICBmb3IgKGNvbnN0IHIgb2YgZS5EYS5nZXQodCkpIGUuYmEuZGVsZXRlKHIpLCBuICYmIGUuU2Eua2Eociwgbik7XG4gICAgaWYgKGUuRGEuZGVsZXRlKHQpLCBlLmlzUHJpbWFyeUNsaWVudCkge1xuICAgICAgICBlLk1hLlZyKHQpLmZvckVhY2goKHQgPT4ge1xuICAgICAgICAgICAgZS5NYS5jb250YWluc0tleSh0KSB8fCBcbiAgICAgICAgICAgIC8vIFdlIHJlbW92ZWQgdGhlIGxhc3QgcmVmZXJlbmNlIGZvciB0aGlzIGtleVxuICAgICAgICAgICAgX19QUklWQVRFX3JlbW92ZUxpbWJvVGFyZ2V0KGUsIHQpO1xuICAgICAgICB9KSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3ZlTGltYm9UYXJnZXQoZSwgdCkge1xuICAgIGUuQ2EuZGVsZXRlKHQucGF0aC5jYW5vbmljYWxTdHJpbmcoKSk7XG4gICAgLy8gSXQncyBwb3NzaWJsZSB0aGF0IHRoZSB0YXJnZXQgYWxyZWFkeSBnb3QgcmVtb3ZlZCBiZWNhdXNlIHRoZSBxdWVyeSBmYWlsZWQuIEluIHRoYXQgY2FzZSxcbiAgICAvLyB0aGUga2V5IHdvbid0IGV4aXN0IGluIGBsaW1ib1RhcmdldHNCeUtleWAuIE9ubHkgZG8gdGhlIGNsZWFudXAgaWYgd2Ugc3RpbGwgaGF2ZSB0aGUgdGFyZ2V0LlxuICAgIGNvbnN0IG4gPSBlLnZhLmdldCh0KTtcbiAgICBudWxsICE9PSBuICYmIChfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbihlLnJlbW90ZVN0b3JlLCBuKSwgZS52YSA9IGUudmEucmVtb3ZlKHQpLCBcbiAgICBlLkZhLmRlbGV0ZShuKSwgX19QUklWQVRFX3B1bXBFbnF1ZXVlZExpbWJvUmVzb2x1dGlvbnMoZSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdXBkYXRlVHJhY2tlZExpbWJvcyhlLCB0LCBuKSB7XG4gICAgZm9yIChjb25zdCByIG9mIG4pIGlmIChyIGluc3RhbmNlb2YgX19QUklWQVRFX0FkZGVkTGltYm9Eb2N1bWVudCkgZS5NYS5hZGRSZWZlcmVuY2Uoci5rZXksIHQpLCBcbiAgICBfX1BSSVZBVEVfdHJhY2tMaW1ib0NoYW5nZShlLCByKTsgZWxzZSBpZiAociBpbnN0YW5jZW9mIF9fUFJJVkFURV9SZW1vdmVkTGltYm9Eb2N1bWVudCkge1xuICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiRG9jdW1lbnQgbm8gbG9uZ2VyIGluIGxpbWJvOiBcIiArIHIua2V5KSwgZS5NYS5yZW1vdmVSZWZlcmVuY2Uoci5rZXksIHQpO1xuICAgICAgICBlLk1hLmNvbnRhaW5zS2V5KHIua2V5KSB8fCBcbiAgICAgICAgLy8gV2UgcmVtb3ZlZCB0aGUgbGFzdCByZWZlcmVuY2UgZm9yIHRoaXMga2V5XG4gICAgICAgIF9fUFJJVkFURV9yZW1vdmVMaW1ib1RhcmdldChlLCByLmtleSk7XG4gICAgfSBlbHNlIGZhaWwoKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RyYWNrTGltYm9DaGFuZ2UoZSwgdCkge1xuICAgIGNvbnN0IG4gPSB0LmtleSwgciA9IG4ucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICBlLnZhLmdldChuKSB8fCBlLkNhLmhhcyhyKSB8fCAoX19QUklWQVRFX2xvZ0RlYnVnKFwiU3luY0VuZ2luZVwiLCBcIk5ldyBkb2N1bWVudCBpbiBsaW1ibzogXCIgKyBuKSwgXG4gICAgZS5DYS5hZGQociksIF9fUFJJVkFURV9wdW1wRW5xdWV1ZWRMaW1ib1Jlc29sdXRpb25zKGUpKTtcbn1cblxuLyoqXG4gKiBTdGFydHMgbGlzdGVucyBmb3IgZG9jdW1lbnRzIGluIGxpbWJvIHRoYXQgYXJlIGVucXVldWVkIGZvciByZXNvbHV0aW9uLFxuICogc3ViamVjdCB0byBhIG1heGltdW0gbnVtYmVyIG9mIGNvbmN1cnJlbnQgcmVzb2x1dGlvbnMuXG4gKlxuICogV2l0aG91dCBib3VuZGluZyB0aGUgbnVtYmVyIG9mIGNvbmN1cnJlbnQgcmVzb2x1dGlvbnMsIHRoZSBzZXJ2ZXIgY2FuIGZhaWxcbiAqIHdpdGggXCJyZXNvdXJjZSBleGhhdXN0ZWRcIiBlcnJvcnMgd2hpY2ggY2FuIGxlYWQgdG8gcGF0aG9sb2dpY2FsIGNsaWVudFxuICogYmVoYXZpb3IgYXMgc2VlbiBpbiBodHRwczovL2dpdGh1Yi5jb20vZmlyZWJhc2UvZmlyZWJhc2UtanMtc2RrL2lzc3Vlcy8yNjgzLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wdW1wRW5xdWV1ZWRMaW1ib1Jlc29sdXRpb25zKGUpIHtcbiAgICBmb3IgKDtlLkNhLnNpemUgPiAwICYmIGUudmEuc2l6ZSA8IGUubWF4Q29uY3VycmVudExpbWJvUmVzb2x1dGlvbnM7ICkge1xuICAgICAgICBjb25zdCB0ID0gZS5DYS52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG4gICAgICAgIGUuQ2EuZGVsZXRlKHQpO1xuICAgICAgICBjb25zdCBuID0gbmV3IERvY3VtZW50S2V5KFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKHQpKSwgciA9IGUuTmEubmV4dCgpO1xuICAgICAgICBlLkZhLnNldChyLCBuZXcgTGltYm9SZXNvbHV0aW9uKG4pKSwgZS52YSA9IGUudmEuaW5zZXJ0KG4sIHIpLCBfX1BSSVZBVEVfcmVtb3RlU3RvcmVMaXN0ZW4oZS5yZW1vdGVTdG9yZSwgbmV3IFRhcmdldERhdGEoX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoX19QUklWQVRFX25ld1F1ZXJ5Rm9yUGF0aChuLnBhdGgpKSwgciwgXCJUYXJnZXRQdXJwb3NlTGltYm9SZXNvbHV0aW9uXCIgLyogVGFyZ2V0UHVycG9zZS5MaW1ib1Jlc29sdXRpb24gKi8gLCBfX1BSSVZBVEVfTGlzdGVuU2VxdWVuY2Uub2UpKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIGkgPSBbXSwgcyA9IFtdLCBvID0gW107XG4gICAgci5iYS5pc0VtcHR5KCkgfHwgKHIuYmEuZm9yRWFjaCgoKGUsIF8pID0+IHtcbiAgICAgICAgby5wdXNoKHIuQmEoXywgdCwgbikudGhlbigoZSA9PiB7XG4gICAgICAgICAgICB2YXIgdDtcbiAgICAgICAgICAgIC8vIElmIHRoZXJlIGFyZSBjaGFuZ2VzLCBvciB3ZSBhcmUgaGFuZGxpbmcgYSBnbG9iYWwgc25hcHNob3QsIG5vdGlmeVxuICAgICAgICAgICAgLy8gc2Vjb25kYXJ5IGNsaWVudHMgdG8gdXBkYXRlIHF1ZXJ5IHN0YXRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKChlIHx8IG4pICYmIHIuaXNQcmltYXJ5Q2xpZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gUXVlcnkgc3RhdGUgaXMgc2V0IHRvIGBjdXJyZW50YCBpZjpcbiAgICAgICAgICAgICAgICAvLyAtIFRoZXJlIGlzIGEgdmlldyBjaGFuZ2UgYW5kIGl0IGlzIHVwLXRvLWRhdGUsIG9yLFxuICAgICAgICAgICAgICAgIC8vIC0gVGhlcmUgaXMgYSBnbG9iYWwgc25hcHNob3QsIHRoZSBUYXJnZXQgaXMgY3VycmVudCwgYW5kIG5vIGNoYW5nZXMgdG8gYmUgcmVzb2x2ZWRcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gZSA/ICFlLmZyb21DYWNoZSA6IG51bGwgPT09ICh0ID0gbnVsbCA9PSBuID8gdm9pZCAwIDogbi50YXJnZXRDaGFuZ2VzLmdldChfLnRhcmdldElkKSkgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5jdXJyZW50O1xuICAgICAgICAgICAgICAgIHIuc2hhcmVkQ2xpZW50U3RhdGUudXBkYXRlUXVlcnlTdGF0ZShfLnRhcmdldElkLCBpID8gXCJjdXJyZW50XCIgOiBcIm5vdC1jdXJyZW50XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVXBkYXRlIHZpZXdzIGlmIHRoZXJlIGFyZSBhY3R1YWwgY2hhbmdlcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICAgICAgaS5wdXNoKGUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfTG9jYWxWaWV3Q2hhbmdlcy5LaShfLnRhcmdldElkLCBlKTtcbiAgICAgICAgICAgICAgICBzLnB1c2godCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSk7XG4gICAgfSkpLCBhd2FpdCBQcm9taXNlLmFsbChvKSwgci5TYS5oXyhpKSwgYXdhaXQgYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVOb3RpZnlMb2NhbFZpZXdDaGFuZ2VzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBhd2FpdCBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwibm90aWZ5TG9jYWxWaWV3Q2hhbmdlc1wiLCBcInJlYWR3cml0ZVwiLCAoZSA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LCAodCA9PiBQZXJzaXN0ZW5jZVByb21pc2UuZm9yRWFjaCh0LnFpLCAociA9PiBuLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlLmFkZFJlZmVyZW5jZShlLCB0LnRhcmdldElkLCByKSkpLm5leHQoKCgpID0+IFBlcnNpc3RlbmNlUHJvbWlzZS5mb3JFYWNoKHQuUWksIChyID0+IG4ucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUucmVtb3ZlUmVmZXJlbmNlKGUsIHQudGFyZ2V0SWQsIHIpKSkpKSkpKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmICghX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvcihlKSkgdGhyb3cgZTtcbiAgICAgICAgICAgIC8vIElmIGBub3RpZnlMb2NhbFZpZXdDaGFuZ2VzYCBmYWlscywgd2UgZGlkIG5vdCBhZHZhbmNlIHRoZSBzZXF1ZW5jZVxuICAgICAgICAgICAgLy8gbnVtYmVyIGZvciB0aGUgZG9jdW1lbnRzIHRoYXQgd2VyZSBpbmNsdWRlZCBpbiB0aGlzIHRyYW5zYWN0aW9uLlxuICAgICAgICAgICAgLy8gVGhpcyBtaWdodCB0cmlnZ2VyIHRoZW0gdG8gYmUgZGVsZXRlZCBlYXJsaWVyIHRoYW4gdGhleSBvdGhlcndpc2VcbiAgICAgICAgICAgIC8vIHdvdWxkIGhhdmUsIGJ1dCBpdCBzaG91bGQgbm90IGludmFsaWRhdGUgdGhlIGludGVncml0eSBvZiB0aGUgZGF0YS5cbiAgICAgICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkxvY2FsU3RvcmVcIiwgXCJGYWlsZWQgdG8gdXBkYXRlIHNlcXVlbmNlIG51bWJlcnM6IFwiICsgZSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLnRhcmdldElkO1xuICAgICAgICAgICAgaWYgKCFlLmZyb21DYWNoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuLm5zLmdldCh0KSwgciA9IGUuc25hcHNob3RWZXJzaW9uLCBpID0gZS53aXRoTGFzdExpbWJvRnJlZVNuYXBzaG90VmVyc2lvbihyKTtcbiAgICAgICAgICAgICAgICAvLyBBZHZhbmNlIHRoZSBsYXN0IGxpbWJvIGZyZWUgc25hcHNob3QgdmVyc2lvblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuLm5zID0gbi5ucy5pbnNlcnQodCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KHIubG9jYWxTdG9yZSwgcykpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGlmICghbi5jdXJyZW50VXNlci5pc0VxdWFsKHQpKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlN5bmNFbmdpbmVcIiwgXCJVc2VyIGNoYW5nZS4gTmV3IHVzZXI6XCIsIHQudG9LZXkoKSk7XG4gICAgICAgIGNvbnN0IGUgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUhhbmRsZVVzZXJDaGFuZ2Uobi5sb2NhbFN0b3JlLCB0KTtcbiAgICAgICAgbi5jdXJyZW50VXNlciA9IHQsIFxuICAgICAgICAvLyBGYWlscyB0YXNrcyB3YWl0aW5nIGZvciBwZW5kaW5nIHdyaXRlcyByZXF1ZXN0ZWQgYnkgcHJldmlvdXMgdXNlci5cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3JlamVjdE91dHN0YW5kaW5nUGVuZGluZ1dyaXRlc0NhbGxiYWNrcyhlLCB0KSB7XG4gICAgICAgICAgICBlLk9hLmZvckVhY2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIGUuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGUucmVqZWN0KG5ldyBGaXJlc3RvcmVFcnJvcihDLkNBTkNFTExFRCwgdCkpO1xuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIH0pKSwgZS5PYS5jbGVhcigpO1xuICAgICAgICB9KG4sIFwiJ3dhaXRGb3JQZW5kaW5nV3JpdGVzJyBwcm9taXNlIGlzIHJlamVjdGVkIGR1ZSB0byBhIHVzZXIgY2hhbmdlLlwiKSwgXG4gICAgICAgIC8vIFRPRE8oYi8xMTQyMjY0MTcpOiBDb25zaWRlciBjYWxsaW5nIHRoaXMgb25seSBpbiB0aGUgcHJpbWFyeSB0YWIuXG4gICAgICAgIG4uc2hhcmVkQ2xpZW50U3RhdGUuaGFuZGxlVXNlckNoYW5nZSh0LCBlLnJlbW92ZWRCYXRjaElkcywgZS5hZGRlZEJhdGNoSWRzKSwgYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVFbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKG4sIGUudXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVHZXRSZW1vdGVLZXlzRm9yVGFyZ2V0KGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IG4uRmEuZ2V0KHQpO1xuICAgIGlmIChyICYmIHIud2EpIHJldHVybiBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKS5hZGQoci5rZXkpO1xuICAgIHtcbiAgICAgICAgbGV0IGUgPSBfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQoKTtcbiAgICAgICAgY29uc3QgciA9IG4uRGEuZ2V0KHQpO1xuICAgICAgICBpZiAoIXIpIHJldHVybiBlO1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2Ygcikge1xuICAgICAgICAgICAgY29uc3QgciA9IG4uYmEuZ2V0KHQpO1xuICAgICAgICAgICAgZSA9IGUudW5pb25XaXRoKHIudmlldy5FYSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGU7XG4gICAgfVxufVxuXG4vKipcbiAqIFJlY29uY2lsZSB0aGUgbGlzdCBvZiBzeW5jZWQgZG9jdW1lbnRzIGluIGFuIGV4aXN0aW5nIHZpZXcgd2l0aCB0aG9zZVxuICogZnJvbSBwZXJzaXN0ZW5jZS5cbiAqLyBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY2hyb25pemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90KGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlRXhlY3V0ZVF1ZXJ5KG4ubG9jYWxTdG9yZSwgdC5xdWVyeSwgXG4gICAgLyogdXNlUHJldmlvdXNSZXN1bHRzPSAqLyAhMCksIGkgPSB0LnZpZXcucGEocik7XG4gICAgcmV0dXJuIG4uaXNQcmltYXJ5Q2xpZW50ICYmIF9fUFJJVkFURV91cGRhdGVUcmFja2VkTGltYm9zKG4sIHQudGFyZ2V0SWQsIGkuZmEpLCBcbiAgICBpO1xufVxuXG4vKipcbiAqIFJldHJpZXZlcyBuZXdseSBjaGFuZ2VkIGRvY3VtZW50cyBmcm9tIHJlbW90ZSBkb2N1bWVudCBjYWNoZSBhbmQgcmFpc2VzXG4gKiBzbmFwc2hvdHMgaWYgbmVlZGVkLlxuICovXG4vLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVTeW5jaHJvbml6ZVdpdGhDaGFuZ2VkRG9jdW1lbnRzKGUsIHQpIHtcbiAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICByZXR1cm4gX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXdEb2N1bWVudENoYW5nZXMobi5sb2NhbFN0b3JlLCB0KS50aGVuKChlID0+IF9fUFJJVkFURV9zeW5jRW5naW5lRW1pdE5ld1NuYXBzQW5kTm90aWZ5TG9jYWxTdG9yZShuLCBlKSkpO1xufVxuXG4vKiogQXBwbGllcyBhIG11dGF0aW9uIHN0YXRlIHRvIGFuIGV4aXN0aW5nIGJhdGNoLiAgKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5QmF0Y2hTdGF0ZShlLCB0LCBuLCByKSB7XG4gICAgY29uc3QgaSA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHMgPSBhd2FpdCBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUxvb2t1cE11dGF0aW9uRG9jdW1lbnRzKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBfX1BSSVZBVEVfZGVidWdDYXN0KG4ubXV0YXRpb25RdWV1ZSk7XG4gICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiTG9va3VwIG11dGF0aW9uIGRvY3VtZW50c1wiLCBcInJlYWRvbmx5XCIsIChlID0+IHIudm4oZSwgdCkubmV4dCgodCA9PiB0ID8gbi5sb2NhbERvY3VtZW50cy5nZXREb2N1bWVudHMoZSwgdCkgOiBQZXJzaXN0ZW5jZVByb21pc2UucmVzb2x2ZShudWxsKSkpKSk7XG4gICAgfVxuICAgIC8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG4gICAgKGkubG9jYWxTdG9yZSwgdCk7XG4gICAgbnVsbCAhPT0gcyA/IChcInBlbmRpbmdcIiA9PT0gbiA/IFxuICAgIC8vIElmIHdlIGFyZSB0aGUgcHJpbWFyeSBjbGllbnQsIHdlIG5lZWQgdG8gc2VuZCB0aGlzIHdyaXRlIHRvIHRoZVxuICAgIC8vIGJhY2tlbmQuIFNlY29uZGFyeSBjbGllbnRzIHdpbGwgaWdub3JlIHRoZXNlIHdyaXRlcyBzaW5jZSB0aGVpciByZW1vdGVcbiAgICAvLyBjb25uZWN0aW9uIGlzIGRpc2FibGVkLlxuICAgIGF3YWl0IF9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZShpLnJlbW90ZVN0b3JlKSA6IFwiYWNrbm93bGVkZ2VkXCIgPT09IG4gfHwgXCJyZWplY3RlZFwiID09PSBuID8gKFxuICAgIC8vIE5PVEU6IEJvdGggdGhlc2UgbWV0aG9kcyBhcmUgbm8tb3BzIGZvciBiYXRjaGVzIHRoYXQgb3JpZ2luYXRlZCBmcm9tXG4gICAgLy8gb3RoZXIgY2xpZW50cy5cbiAgICBfX1BSSVZBVEVfcHJvY2Vzc1VzZXJDYWxsYmFjayhpLCB0LCByIHx8IG51bGwpLCBfX1BSSVZBVEVfdHJpZ2dlclBlbmRpbmdXcml0ZXNDYWxsYmFja3MoaSwgdCksIFxuICAgIGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlUmVtb3ZlQ2FjaGVkTXV0YXRpb25CYXRjaE1ldGFkYXRhKGUsIHQpIHtcbiAgICAgICAgX19QUklWQVRFX2RlYnVnQ2FzdChfX1BSSVZBVEVfZGVidWdDYXN0KGUpLm11dGF0aW9uUXVldWUpLk1uKHQpO1xuICAgIH1cbiAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuICAgIChpLmxvY2FsU3RvcmUsIHQpKSA6IGZhaWwoKSwgYXdhaXQgX19QUklWQVRFX3N5bmNFbmdpbmVFbWl0TmV3U25hcHNBbmROb3RpZnlMb2NhbFN0b3JlKGksIHMpKSA6IFxuICAgIC8vIEEgdGhyb3R0bGVkIHRhYiBtYXkgbm90IGhhdmUgc2VlbiB0aGUgbXV0YXRpb24gYmVmb3JlIGl0IHdhcyBjb21wbGV0ZWRcbiAgICAvLyBhbmQgcmVtb3ZlZCBmcm9tIHRoZSBtdXRhdGlvbiBxdWV1ZSwgaW4gd2hpY2ggY2FzZSB3ZSB3b24ndCBoYXZlIGNhY2hlZFxuICAgIC8vIHRoZSBhZmZlY3RlZCBkb2N1bWVudHMuIEluIHRoaXMgY2FzZSB3ZSBjYW4gc2FmZWx5IGlnbm9yZSB0aGUgdXBkYXRlXG4gICAgLy8gc2luY2UgdGhhdCBtZWFucyB3ZSBkaWRuJ3QgYXBwbHkgdGhlIG11dGF0aW9uIGxvY2FsbHkgYXQgYWxsIChpZiB3ZVxuICAgIC8vIGhhZCwgd2Ugd291bGQgaGF2ZSBjYWNoZWQgdGhlIGFmZmVjdGVkIGRvY3VtZW50cyksIGFuZCBzbyB3ZSB3aWxsIGp1c3RcbiAgICAvLyBzZWUgYW55IHJlc3VsdGluZyBkb2N1bWVudCBjaGFuZ2VzIHZpYSBub3JtYWwgcmVtb3RlIGRvY3VtZW50IHVwZGF0ZXNcbiAgICAvLyBhcyBhcHBsaWNhYmxlLlxuICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlN5bmNFbmdpbmVcIiwgXCJDYW5ub3QgYXBwbHkgbXV0YXRpb24gYmF0Y2ggd2l0aCBpZDogXCIgKyB0KTtcbn1cblxuLyoqIEFwcGxpZXMgYSBxdWVyeSB0YXJnZXQgY2hhbmdlIGZyb20gYSBkaWZmZXJlbnQgdGFiLiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlQcmltYXJ5U3RhdGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIGlmIChfX1BSSVZBVEVfZW5zdXJlV2F0Y2hDYWxsYmFja3MobiksIF9fUFJJVkFURV9zeW5jRW5naW5lRW5zdXJlV3JpdGVDYWxsYmFja3MobiksIFxuICAgICEwID09PSB0ICYmICEwICE9PSBuLkxhKSB7XG4gICAgICAgIC8vIFNlY29uZGFyeSB0YWJzIG9ubHkgbWFpbnRhaW4gVmlld3MgZm9yIHRoZWlyIGxvY2FsIGxpc3RlbmVycyBhbmQgdGhlXG4gICAgICAgIC8vIFZpZXdzIGludGVybmFsIHN0YXRlIG1heSBub3QgYmUgMTAwJSBwb3B1bGF0ZWQgKGluIHBhcnRpY3VsYXJcbiAgICAgICAgLy8gc2Vjb25kYXJ5IHRhYnMgZG9uJ3QgdHJhY2sgc3luY2VkRG9jdW1lbnRzLCB0aGUgc2V0IG9mIGRvY3VtZW50cyB0aGVcbiAgICAgICAgLy8gc2VydmVyIGNvbnNpZGVycyB0byBiZSBpbiB0aGUgdGFyZ2V0KS4gU28gd2hlbiBhIHNlY29uZGFyeSBiZWNvbWVzXG4gICAgICAgIC8vIHByaW1hcnksIHdlIG5lZWQgdG8gbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBhbGwgdmlld3MgZm9yIGFsbCB0YXJnZXRzXG4gICAgICAgIC8vIG1hdGNoIHRoZSBzdGF0ZSBvbiBkaXNrLlxuICAgICAgICBjb25zdCBlID0gbi5zaGFyZWRDbGllbnRTdGF0ZS5nZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMoKSwgdCA9IGF3YWl0IF9fUFJJVkFURV9zeW5jaHJvbml6ZVF1ZXJ5Vmlld3NBbmRSYWlzZVNuYXBzaG90cyhuLCBlLnRvQXJyYXkoKSk7XG4gICAgICAgIG4uTGEgPSAhMCwgYXdhaXQgX19QUklWQVRFX3JlbW90ZVN0b3JlQXBwbHlQcmltYXJ5U3RhdGUobi5yZW1vdGVTdG9yZSwgITApO1xuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgdCkgX19QUklWQVRFX3JlbW90ZVN0b3JlTGlzdGVuKG4ucmVtb3RlU3RvcmUsIGUpO1xuICAgIH0gZWxzZSBpZiAoITEgPT09IHQgJiYgITEgIT09IG4uTGEpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICBsZXQgdCA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICBuLkRhLmZvckVhY2goKChyLCBpKSA9PiB7XG4gICAgICAgICAgICBuLnNoYXJlZENsaWVudFN0YXRlLmlzTG9jYWxRdWVyeVRhcmdldChpKSA/IGUucHVzaChpKSA6IHQgPSB0LnRoZW4oKCgpID0+IChfX1BSSVZBVEVfcmVtb3ZlQW5kQ2xlYW51cFRhcmdldChuLCBpKSwgXG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9jYWxTdG9yZVJlbGVhc2VUYXJnZXQobi5sb2NhbFN0b3JlLCBpLCBcbiAgICAgICAgICAgIC8qa2VlcFBlcnNpc3RlZFRhcmdldERhdGE9Ki8gITApKSkpLCBfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbihuLnJlbW90ZVN0b3JlLCBpKTtcbiAgICAgICAgfSkpLCBhd2FpdCB0LCBhd2FpdCBfX1BSSVZBVEVfc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMobiwgZSksIFxuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IE11bHRpLVRhYiBvbmx5LlxuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfcmVzZXRMaW1ib0RvY3VtZW50cyhlKSB7XG4gICAgICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgIHQuRmEuZm9yRWFjaCgoKGUsIG4pID0+IHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3Rlbih0LnJlbW90ZVN0b3JlLCBuKTtcbiAgICAgICAgICAgIH0pKSwgdC5NYS5tcigpLCB0LkZhID0gbmV3IE1hcCwgdC52YSA9IG5ldyBTb3J0ZWRNYXAoRG9jdW1lbnRLZXkuY29tcGFyYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBSZWNvbmNpbGUgdGhlIHF1ZXJ5IHZpZXdzIG9mIHRoZSBwcm92aWRlZCBxdWVyeSB0YXJnZXRzIHdpdGggdGhlIHN0YXRlIGZyb21cbiAqIHBlcnNpc3RlbmNlLiBSYWlzZXMgc25hcHNob3RzIGZvciBhbnkgY2hhbmdlcyB0aGF0IGFmZmVjdCB0aGUgbG9jYWxcbiAqIGNsaWVudCBhbmQgcmV0dXJucyB0aGUgdXBkYXRlZCBzdGF0ZSBvZiBhbGwgdGFyZ2V0J3MgcXVlcnkgZGF0YS5cbiAqXG4gKiBAcGFyYW0gc3luY0VuZ2luZSAtIFRoZSBzeW5jIGVuZ2luZSBpbXBsZW1lbnRhdGlvblxuICogQHBhcmFtIHRhcmdldHMgLSB0aGUgbGlzdCBvZiB0YXJnZXRzIHdpdGggdmlld3MgdGhhdCBuZWVkIHRvIGJlIHJlY29tcHV0ZWRcbiAqIEBwYXJhbSB0cmFuc2l0aW9uVG9QcmltYXJ5IC0gYHRydWVgIGlmZiB0aGUgdGFiIHRyYW5zaXRpb25zIGZyb20gYSBzZWNvbmRhcnlcbiAqIHRhYiB0byBhIHByaW1hcnkgdGFiXG4gKi9cbiAgICAgICAgLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbiAgICAgICAgKG4pLCBuLkxhID0gITEsIGF3YWl0IF9fUFJJVkFURV9yZW1vdGVTdG9yZUFwcGx5UHJpbWFyeVN0YXRlKG4ucmVtb3RlU3RvcmUsICExKTtcbiAgICB9XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jaHJvbml6ZVF1ZXJ5Vmlld3NBbmRSYWlzZVNuYXBzaG90cyhlLCB0LCBuKSB7XG4gICAgY29uc3QgciA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIGkgPSBbXSwgcyA9IFtdO1xuICAgIGZvciAoY29uc3QgZSBvZiB0KSB7XG4gICAgICAgIGxldCB0O1xuICAgICAgICBjb25zdCBuID0gci5EYS5nZXQoZSk7XG4gICAgICAgIGlmIChuICYmIDAgIT09IG4ubGVuZ3RoKSB7XG4gICAgICAgICAgICAvLyBGb3IgcXVlcmllcyB0aGF0IGhhdmUgYSBsb2NhbCBWaWV3LCB3ZSBmZXRjaCB0aGVpciBjdXJyZW50IHN0YXRlXG4gICAgICAgICAgICAvLyBmcm9tIExvY2FsU3RvcmUgKGFzIHRoZSByZXN1bWUgdG9rZW4gYW5kIHRoZSBzbmFwc2hvdCB2ZXJzaW9uXG4gICAgICAgICAgICAvLyBtaWdodCBoYXZlIGNoYW5nZWQpIGFuZCByZWNvbmNpbGUgdGhlaXIgdmlld3Mgd2l0aCB0aGUgcGVyc2lzdGVkXG4gICAgICAgICAgICAvLyBzdGF0ZSAodGhlIGxpc3Qgb2Ygc3luY2VkRG9jdW1lbnRzIG1heSBoYXZlIGdvdHRlbiBvdXQgb2Ygc3luYykuXG4gICAgICAgICAgICB0ID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBbGxvY2F0ZVRhcmdldChyLmxvY2FsU3RvcmUsIF9fUFJJVkFURV9xdWVyeVRvVGFyZ2V0KG5bMF0pKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZSBvZiBuKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IHIuYmEuZ2V0KGUpLCBuID0gYXdhaXQgX19QUklWQVRFX3N5bmNocm9uaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdChyLCB0KTtcbiAgICAgICAgICAgICAgICBuLnNuYXBzaG90ICYmIHMucHVzaChuLnNuYXBzaG90KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEZvciBxdWVyaWVzIHRoYXQgbmV2ZXIgZXhlY3V0ZWQgb24gdGhpcyBjbGllbnQsIHdlIG5lZWQgdG9cbiAgICAgICAgICAgIC8vIGFsbG9jYXRlIHRoZSB0YXJnZXQgaW4gTG9jYWxTdG9yZSBhbmQgaW5pdGlhbGl6ZSBhIG5ldyBWaWV3LlxuICAgICAgICAgICAgY29uc3QgbiA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0Q2FjaGVkVGFyZ2V0KHIubG9jYWxTdG9yZSwgZSk7XG4gICAgICAgICAgICB0ID0gYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVBbGxvY2F0ZVRhcmdldChyLmxvY2FsU3RvcmUsIG4pLCBhd2FpdCBfX1BSSVZBVEVfaW5pdGlhbGl6ZVZpZXdBbmRDb21wdXRlU25hcHNob3QociwgX19QUklWQVRFX3N5bnRoZXNpemVUYXJnZXRUb1F1ZXJ5KG4pLCBlLCBcbiAgICAgICAgICAgIC8qY3VycmVudD0qLyAhMSwgdC5yZXN1bWVUb2tlbik7XG4gICAgICAgIH1cbiAgICAgICAgaS5wdXNoKHQpO1xuICAgIH1cbiAgICByZXR1cm4gci5TYS5oXyhzKSwgaTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgYFF1ZXJ5YCBvYmplY3QgZnJvbSB0aGUgc3BlY2lmaWVkIGBUYXJnZXRgLiBUaGVyZSBpcyBubyB3YXkgdG9cbiAqIG9idGFpbiB0aGUgb3JpZ2luYWwgYFF1ZXJ5YCwgc28gd2Ugc3ludGhlc2l6ZSBhIGBRdWVyeWAgZnJvbSB0aGUgYFRhcmdldGBcbiAqIG9iamVjdC5cbiAqXG4gKiBUaGUgc3ludGhlc2l6ZWQgcmVzdWx0IG1pZ2h0IGJlIGRpZmZlcmVudCBmcm9tIHRoZSBvcmlnaW5hbCBgUXVlcnlgLCBidXRcbiAqIHNpbmNlIHRoZSBzeW50aGVzaXplZCBgUXVlcnlgIHNob3VsZCByZXR1cm4gdGhlIHNhbWUgcmVzdWx0cyBhcyB0aGVcbiAqIG9yaWdpbmFsIG9uZSAob25seSB0aGUgcHJlc2VudGF0aW9uIG9mIHJlc3VsdHMgbWlnaHQgZGlmZmVyKSwgdGhlIHBvdGVudGlhbFxuICogZGlmZmVyZW5jZSB3aWxsIG5vdCBjYXVzZSBpc3N1ZXMuXG4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5mdW5jdGlvbiBfX1BSSVZBVEVfc3ludGhlc2l6ZVRhcmdldFRvUXVlcnkoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfbmV3UXVlcnkoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgZS5vcmRlckJ5LCBlLmZpbHRlcnMsIGUubGltaXQsIFwiRlwiIC8qIExpbWl0VHlwZS5GaXJzdCAqLyAsIGUuc3RhcnRBdCwgZS5lbmRBdCk7XG59XG5cbi8qKiBSZXR1cm5zIHRoZSBJRHMgb2YgdGhlIGNsaWVudHMgdGhhdCBhcmUgY3VycmVudGx5IGFjdGl2ZS4gKi9cbi8vIFBPUlRJTkcgTk9URTogTXVsdGktVGFiIG9ubHkuXG5mdW5jdGlvbiBfX1BSSVZBVEVfc3luY0VuZ2luZUdldEFjdGl2ZUNsaWVudHMoZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldEFjdGl2ZUNsaWVudHMoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX2RlYnVnQ2FzdChfX1BSSVZBVEVfZGVidWdDYXN0KGUpLnBlcnNpc3RlbmNlKS5CaSgpO1xuICAgIH0oX19QUklWQVRFX2RlYnVnQ2FzdChlKS5sb2NhbFN0b3JlKTtcbn1cblxuLyoqIEFwcGxpZXMgYSBxdWVyeSB0YXJnZXQgY2hhbmdlIGZyb20gYSBkaWZmZXJlbnQgdGFiLiAqL1xuLy8gUE9SVElORyBOT1RFOiBNdWx0aS1UYWIgb25seS5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlUYXJnZXRTdGF0ZShlLCB0LCBuLCByKSB7XG4gICAgY29uc3QgaSA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgaWYgKGkuTGEpIFxuICAgIC8vIElmIHdlIHJlY2VpdmUgYSB0YXJnZXQgc3RhdGUgbm90aWZpY2F0aW9uIHZpYSBXZWJTdG9yYWdlLCB3ZSBhcmVcbiAgICAvLyBlaXRoZXIgYWxyZWFkeSBzZWNvbmRhcnkgb3IgYW5vdGhlciB0YWIgaGFzIHRha2VuIHRoZSBwcmltYXJ5IGxlYXNlLlxuICAgIHJldHVybiB2b2lkIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIlN5bmNFbmdpbmVcIiwgXCJJZ25vcmluZyB1bmV4cGVjdGVkIHF1ZXJ5IHN0YXRlIG5vdGlmaWNhdGlvbi5cIik7XG4gICAgY29uc3QgcyA9IGkuRGEuZ2V0KHQpO1xuICAgIGlmIChzICYmIHMubGVuZ3RoID4gMCkgc3dpdGNoIChuKSB7XG4gICAgICBjYXNlIFwiY3VycmVudFwiOlxuICAgICAgY2FzZSBcIm5vdC1jdXJyZW50XCI6XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUdldE5ld0RvY3VtZW50Q2hhbmdlcyhpLmxvY2FsU3RvcmUsIF9fUFJJVkFURV9xdWVyeUNvbGxlY3Rpb25Hcm91cChzWzBdKSksIHIgPSBSZW1vdGVFdmVudC5jcmVhdGVTeW50aGVzaXplZFJlbW90ZUV2ZW50Rm9yQ3VycmVudENoYW5nZSh0LCBcImN1cnJlbnRcIiA9PT0gbiwgQnl0ZVN0cmluZy5FTVBUWV9CWVRFX1NUUklORyk7XG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUoaSwgZSwgcik7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlIFwicmVqZWN0ZWRcIjpcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0KGkubG9jYWxTdG9yZSwgdCwgXG4gICAgICAgIC8qIGtlZXBQZXJzaXN0ZWRUYXJnZXREYXRhICovICEwKSwgX19QUklWQVRFX3JlbW92ZUFuZENsZWFudXBUYXJnZXQoaSwgdCwgcik7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBmYWlsKCk7XG4gICAgfVxufVxuXG4vKiogQWRkcyBvciByZW1vdmVzIFdhdGNoIHRhcmdldHMgZm9yIHF1ZXJpZXMgZnJvbSBkaWZmZXJlbnQgdGFicy4gKi8gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUFjdGl2ZVRhcmdldHNDaGFuZ2UoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hDYWxsYmFja3MoZSk7XG4gICAgaWYgKHIuTGEpIHtcbiAgICAgICAgZm9yIChjb25zdCBlIG9mIHQpIHtcbiAgICAgICAgICAgIGlmIChyLkRhLmhhcyhlKSAmJiByLnNoYXJlZENsaWVudFN0YXRlLmlzQWN0aXZlUXVlcnlUYXJnZXQoZSkpIHtcbiAgICAgICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJTeW5jRW5naW5lXCIsIFwiQWRkaW5nIGFuIGFscmVhZHkgYWN0aXZlIHRhcmdldCBcIiArIGUpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdCA9IGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0Q2FjaGVkVGFyZ2V0KHIubG9jYWxTdG9yZSwgZSksIG4gPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUFsbG9jYXRlVGFyZ2V0KHIubG9jYWxTdG9yZSwgdCk7XG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfaW5pdGlhbGl6ZVZpZXdBbmRDb21wdXRlU25hcHNob3QociwgX19QUklWQVRFX3N5bnRoZXNpemVUYXJnZXRUb1F1ZXJ5KHQpLCBuLnRhcmdldElkLCBcbiAgICAgICAgICAgIC8qY3VycmVudD0qLyAhMSwgbi5yZXN1bWVUb2tlbiksIF9fUFJJVkFURV9yZW1vdGVTdG9yZUxpc3RlbihyLnJlbW90ZVN0b3JlLCBuKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGNvbnN0IGUgb2YgbikgXG4gICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIHRhcmdldCBpcyBzdGlsbCBhY3RpdmUgc2luY2UgdGhlIHRhcmdldCBtaWdodCBoYXZlIGJlZW5cbiAgICAgICAgLy8gcmVtb3ZlZCBpZiBpdCBoYXMgYmVlbiByZWplY3RlZCBieSB0aGUgYmFja2VuZC5cbiAgICAgICAgci5EYS5oYXMoZSkgJiYgXG4gICAgICAgIC8vIFJlbGVhc2UgcXVlcmllcyB0aGF0IGFyZSBzdGlsbCBhY3RpdmUuXG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlUmVsZWFzZVRhcmdldChyLmxvY2FsU3RvcmUsIGUsIFxuICAgICAgICAvKiBrZWVwUGVyc2lzdGVkVGFyZ2V0RGF0YSAqLyAhMSkudGhlbigoKCkgPT4ge1xuICAgICAgICAgICAgX19QUklWQVRFX3JlbW90ZVN0b3JlVW5saXN0ZW4oci5yZW1vdGVTdG9yZSwgZSksIF9fUFJJVkFURV9yZW1vdmVBbmRDbGVhbnVwVGFyZ2V0KHIsIGUpO1xuICAgICAgICB9KSkuY2F0Y2goX19QUklWQVRFX2lnbm9yZUlmUHJpbWFyeUxlYXNlTG9zcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZW5zdXJlV2F0Y2hDYWxsYmFja3MoZSkge1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgIHJldHVybiB0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5hcHBseVJlbW90ZUV2ZW50ID0gX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseVJlbW90ZUV2ZW50LmJpbmQobnVsbCwgdCksIFxuICAgIHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmdldFJlbW90ZUtleXNGb3JUYXJnZXQgPSBfX1BSSVZBVEVfc3luY0VuZ2luZUdldFJlbW90ZUtleXNGb3JUYXJnZXQuYmluZChudWxsLCB0KSwgXG4gICAgdC5yZW1vdGVTdG9yZS5yZW1vdGVTeW5jZXIucmVqZWN0TGlzdGVuID0gX19QUklWQVRFX3N5bmNFbmdpbmVSZWplY3RMaXN0ZW4uYmluZChudWxsLCB0KSwgXG4gICAgdC5TYS5oXyA9IF9fUFJJVkFURV9ldmVudE1hbmFnZXJPbldhdGNoQ2hhbmdlLmJpbmQobnVsbCwgdC5ldmVudE1hbmFnZXIpLCB0LlNhLmthID0gX19QUklWQVRFX2V2ZW50TWFuYWdlck9uV2F0Y2hFcnJvci5iaW5kKG51bGwsIHQuZXZlbnRNYW5hZ2VyKSwgXG4gICAgdDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVFbnN1cmVXcml0ZUNhbGxiYWNrcyhlKSB7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgcmV0dXJuIHQucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmFwcGx5U3VjY2Vzc2Z1bFdyaXRlID0gX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseVN1Y2Nlc3NmdWxXcml0ZS5iaW5kKG51bGwsIHQpLCBcbiAgICB0LnJlbW90ZVN0b3JlLnJlbW90ZVN5bmNlci5yZWplY3RGYWlsZWRXcml0ZSA9IF9fUFJJVkFURV9zeW5jRW5naW5lUmVqZWN0RmFpbGVkV3JpdGUuYmluZChudWxsLCB0KSwgXG4gICAgdDtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIEZpcmVzdG9yZSBidW5kbGUgaW50byB0aGUgU0RLLiBUaGUgcmV0dXJuZWQgcHJvbWlzZSByZXNvbHZlcyB3aGVuXG4gKiB0aGUgYnVuZGxlIGZpbmlzaGVkIGxvYWRpbmcuXG4gKlxuICogQHBhcmFtIHN5bmNFbmdpbmUgLSBTeW5jRW5naW5lIHRvIHVzZS5cbiAqIEBwYXJhbSBidW5kbGVSZWFkZXIgLSBCdW5kbGUgdG8gbG9hZCBpbnRvIHRoZSBTREsuXG4gKiBAcGFyYW0gdGFzayAtIExvYWRCdW5kbGVUYXNrIHVzZWQgdG8gdXBkYXRlIHRoZSBsb2FkaW5nIHByb2dyZXNzIHRvIHB1YmxpYyBBUEkuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3N5bmNFbmdpbmVMb2FkQnVuZGxlKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIChcbiAgICAvKiogTG9hZHMgYSBidW5kbGUgYW5kIHJldHVybnMgdGhlIGxpc3Qgb2YgYWZmZWN0ZWQgY29sbGVjdGlvbiBncm91cHMuICovXG4gICAgYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvYWRCdW5kbGVJbXBsKGUsIHQsIG4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCB0LmdldE1ldGFkYXRhKCk7XG4gICAgICAgICAgICBpZiAoYXdhaXQgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVIYXNOZXdlckJ1bmRsZShlLCB0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSksIHIgPSBfX1BSSVZBVEVfZnJvbVZlcnNpb24odC5jcmVhdGVUaW1lKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcImhhc05ld2VyQnVuZGxlXCIsIFwicmVhZG9ubHlcIiwgKGUgPT4gbi4kci5nZXRCdW5kbGVNZXRhZGF0YShlLCB0LmlkKSkpLnRoZW4oKGUgPT4gISFlICYmIGUuY3JlYXRlVGltZS5jb21wYXJlVG8ocikgPj0gMCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gKiBTYXZlcyB0aGUgZ2l2ZW4gYEJ1bmRsZU1ldGFkYXRhYCB0byBsb2NhbCBwZXJzaXN0ZW5jZS5cbiAqLyAoZS5sb2NhbFN0b3JlLCByKSkgcmV0dXJuIGF3YWl0IHQuY2xvc2UoKSwgbi5fY29tcGxldGVXaXRoKGZ1bmN0aW9uIF9fUFJJVkFURV9idW5kbGVTdWNjZXNzUHJvZ3Jlc3MoZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHRhc2tTdGF0ZTogXCJTdWNjZXNzXCIsXG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50c0xvYWRlZDogZS50b3RhbERvY3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgYnl0ZXNMb2FkZWQ6IGUudG90YWxCeXRlcyxcbiAgICAgICAgICAgICAgICAgICAgdG90YWxEb2N1bWVudHM6IGUudG90YWxEb2N1bWVudHMsXG4gICAgICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXM6IGUudG90YWxCeXRlc1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KHIpKSwgUHJvbWlzZS5yZXNvbHZlKG5ldyBTZXQpO1xuICAgICAgICAgICAgbi5fdXBkYXRlUHJvZ3Jlc3MoX19QUklWQVRFX2J1bmRsZUluaXRpYWxQcm9ncmVzcyhyKSk7XG4gICAgICAgICAgICBjb25zdCBpID0gbmV3IF9fUFJJVkFURV9CdW5kbGVMb2FkZXIociwgZS5sb2NhbFN0b3JlLCB0LnNlcmlhbGl6ZXIpO1xuICAgICAgICAgICAgbGV0IHMgPSBhd2FpdCB0LnFhKCk7XG4gICAgICAgICAgICBmb3IgKDtzOyApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlID0gYXdhaXQgaS5fYShzKTtcbiAgICAgICAgICAgICAgICBlICYmIG4uX3VwZGF0ZVByb2dyZXNzKGUpLCBzID0gYXdhaXQgdC5xYSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbyA9IGF3YWl0IGkuY29tcGxldGUoKTtcbiAgICAgICAgICAgIHJldHVybiBhd2FpdCBfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUoZSwgby5jYSwgXG4gICAgICAgICAgICAvKiByZW1vdGVFdmVudCAqLyB2b2lkIDApLCBcbiAgICAgICAgICAgIC8vIFNhdmUgbWV0YWRhdGEsIHNvIGxvYWRpbmcgdGhlIHNhbWUgYnVuZGxlIHdpbGwgc2tpcC5cbiAgICAgICAgICAgIGF3YWl0IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlU2F2ZUJ1bmRsZShlLCB0KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG4ucGVyc2lzdGVuY2UucnVuVHJhbnNhY3Rpb24oXCJTYXZlIGJ1bmRsZVwiLCBcInJlYWR3cml0ZVwiLCAoZSA9PiBuLiRyLnNhdmVCdW5kbGVNZXRhZGF0YShlLCB0KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gKiBSZXR1cm5zIGEgcHJvbWlzZSBvZiBhIGBOYW1lZFF1ZXJ5YCBhc3NvY2lhdGVkIHdpdGggZ2l2ZW4gcXVlcnkgbmFtZS4gUHJvbWlzZVxuICogcmVzb2x2ZXMgdG8gdW5kZWZpbmVkIGlmIG5vIHBlcnNpc3RlZCBkYXRhIGNhbiBiZSBmb3VuZC5cbiAqLyAoZS5sb2NhbFN0b3JlLCByKSwgbi5fY29tcGxldGVXaXRoKG8ucHJvZ3Jlc3MpLCBQcm9taXNlLnJlc29sdmUoby51YSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBfX1BSSVZBVEVfbG9nV2FybihcIlN5bmNFbmdpbmVcIiwgYExvYWRpbmcgYnVuZGxlIGZhaWxlZCB3aXRoICR7ZX1gKSwgbi5fZmFpbFdpdGgoZSksIFxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKG5ldyBTZXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4gICAgLyoqXG4gKiBQcm92aWRlcyBhbGwgY29tcG9uZW50cyBuZWVkZWQgZm9yIEZpcmVzdG9yZSB3aXRoIGluLW1lbW9yeSBwZXJzaXN0ZW5jZS5cbiAqIFVzZXMgRWFnZXJHQyBnYXJiYWdlIGNvbGxlY3Rpb24uXG4gKi8pKHIsIHQsIG4pLnRoZW4oKGUgPT4ge1xuICAgICAgICByLnNoYXJlZENsaWVudFN0YXRlLm5vdGlmeUJ1bmRsZUxvYWRlZChlKTtcbiAgICB9KSk7XG59XG5cbmNsYXNzIE1lbW9yeU9mZmxpbmVDb21wb25lbnRQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc3luY2hyb25pemVUYWJzID0gITE7XG4gICAgfVxuICAgIGFzeW5jIGluaXRpYWxpemUoZSkge1xuICAgICAgICB0aGlzLnNlcmlhbGl6ZXIgPSBfX1BSSVZBVEVfbmV3U2VyaWFsaXplcihlLmRhdGFiYXNlSW5mby5kYXRhYmFzZUlkKSwgdGhpcy5zaGFyZWRDbGllbnRTdGF0ZSA9IHRoaXMuY3JlYXRlU2hhcmVkQ2xpZW50U3RhdGUoZSksIFxuICAgICAgICB0aGlzLnBlcnNpc3RlbmNlID0gdGhpcy5jcmVhdGVQZXJzaXN0ZW5jZShlKSwgYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZS5zdGFydCgpLCB0aGlzLmxvY2FsU3RvcmUgPSB0aGlzLmNyZWF0ZUxvY2FsU3RvcmUoZSksIFxuICAgICAgICB0aGlzLmdjU2NoZWR1bGVyID0gdGhpcy5jcmVhdGVHYXJiYWdlQ29sbGVjdGlvblNjaGVkdWxlcihlLCB0aGlzLmxvY2FsU3RvcmUpLCB0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlciA9IHRoaXMuY3JlYXRlSW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyKGUsIHRoaXMubG9jYWxTdG9yZSk7XG4gICAgfVxuICAgIGNyZWF0ZUdhcmJhZ2VDb2xsZWN0aW9uU2NoZWR1bGVyKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNyZWF0ZUluZGV4QmFja2ZpbGxlclNjaGVkdWxlcihlLCB0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjcmVhdGVMb2NhbFN0b3JlKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9uZXdMb2NhbFN0b3JlKHRoaXMucGVyc2lzdGVuY2UsIG5ldyBfX1BSSVZBVEVfUXVlcnlFbmdpbmUsIGUuaW5pdGlhbFVzZXIsIHRoaXMuc2VyaWFsaXplcik7XG4gICAgfVxuICAgIGNyZWF0ZVBlcnNpc3RlbmNlKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5UGVyc2lzdGVuY2UoX19QUklWQVRFX01lbW9yeUVhZ2VyRGVsZWdhdGUuSHIsIHRoaXMuc2VyaWFsaXplcik7XG4gICAgfVxuICAgIGNyZWF0ZVNoYXJlZENsaWVudFN0YXRlKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5U2hhcmVkQ2xpZW50U3RhdGU7XG4gICAgfVxuICAgIGFzeW5jIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgdmFyIGUsIHQ7XG4gICAgICAgIG51bGwgPT09IChlID0gdGhpcy5nY1NjaGVkdWxlcikgfHwgdm9pZCAwID09PSBlIHx8IGUuc3RvcCgpLCBudWxsID09PSAodCA9IHRoaXMuaW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyKSB8fCB2b2lkIDAgPT09IHQgfHwgdC5zdG9wKCksIFxuICAgICAgICB0aGlzLnNoYXJlZENsaWVudFN0YXRlLnNodXRkb3duKCksIGF3YWl0IHRoaXMucGVyc2lzdGVuY2Uuc2h1dGRvd24oKTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9McnVHY01lbW9yeU9mZmxpbmVDb21wb25lbnRQcm92aWRlciBleHRlbmRzIE1lbW9yeU9mZmxpbmVDb21wb25lbnRQcm92aWRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmNhY2hlU2l6ZUJ5dGVzID0gZTtcbiAgICB9XG4gICAgY3JlYXRlR2FyYmFnZUNvbGxlY3Rpb25TY2hlZHVsZXIoZSwgdCkge1xuICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydCh0aGlzLnBlcnNpc3RlbmNlLnJlZmVyZW5jZURlbGVnYXRlIGluc3RhbmNlb2YgX19QUklWQVRFX01lbW9yeUxydURlbGVnYXRlKTtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMucGVyc2lzdGVuY2UucmVmZXJlbmNlRGVsZWdhdGUuZ2FyYmFnZUNvbGxlY3RvcjtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTHJ1U2NoZWR1bGVyKG4sIGUuYXN5bmNRdWV1ZSwgdCk7XG4gICAgfVxuICAgIGNyZWF0ZVBlcnNpc3RlbmNlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHZvaWQgMCAhPT0gdGhpcy5jYWNoZVNpemVCeXRlcyA/IExydVBhcmFtcy53aXRoQ2FjaGVTaXplKHRoaXMuY2FjaGVTaXplQnl0ZXMpIDogTHJ1UGFyYW1zLkRFRkFVTFQ7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlKChlID0+IF9fUFJJVkFURV9NZW1vcnlMcnVEZWxlZ2F0ZS5IcihlLCB0KSksIHRoaXMuc2VyaWFsaXplcik7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGFsbCBjb21wb25lbnRzIG5lZWRlZCBmb3IgRmlyZXN0b3JlIHdpdGggSW5kZXhlZERCIHBlcnNpc3RlbmNlLlxuICovIGNsYXNzIF9fUFJJVkFURV9JbmRleGVkRGJPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgZXh0ZW5kcyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5RYSA9IGUsIHRoaXMuY2FjaGVTaXplQnl0ZXMgPSB0LCB0aGlzLmZvcmNlT3duZXJzaGlwID0gbiwgdGhpcy5zeW5jaHJvbml6ZVRhYnMgPSAhMTtcbiAgICB9XG4gICAgYXN5bmMgaW5pdGlhbGl6ZShlKSB7XG4gICAgICAgIGF3YWl0IHN1cGVyLmluaXRpYWxpemUoZSksIGF3YWl0IHRoaXMuUWEuaW5pdGlhbGl6ZSh0aGlzLCBlKSwgXG4gICAgICAgIC8vIEVucXVldWUgd3JpdGVzIGZyb20gYSBwcmV2aW91cyBzZXNzaW9uXG4gICAgICAgIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lRW5zdXJlV3JpdGVDYWxsYmFja3ModGhpcy5RYS5zeW5jRW5naW5lKSwgYXdhaXQgX19QUklWQVRFX2ZpbGxXcml0ZVBpcGVsaW5lKHRoaXMuUWEucmVtb3RlU3RvcmUpLCBcbiAgICAgICAgLy8gTk9URTogVGhpcyB3aWxsIGltbWVkaWF0ZWx5IGNhbGwgdGhlIGxpc3RlbmVyLCBzbyB3ZSBtYWtlIHN1cmUgdG9cbiAgICAgICAgLy8gc2V0IGl0IGFmdGVyIGxvY2FsU3RvcmUgLyByZW1vdGVTdG9yZSBhcmUgc3RhcnRlZC5cbiAgICAgICAgYXdhaXQgdGhpcy5wZXJzaXN0ZW5jZS5maSgoKCkgPT4gKHRoaXMuZ2NTY2hlZHVsZXIgJiYgIXRoaXMuZ2NTY2hlZHVsZXIuc3RhcnRlZCAmJiB0aGlzLmdjU2NoZWR1bGVyLnN0YXJ0KCksIFxuICAgICAgICB0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlciAmJiAhdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIuc3RhcnRlZCAmJiB0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlci5zdGFydCgpLCBcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkpKSk7XG4gICAgfVxuICAgIGNyZWF0ZUxvY2FsU3RvcmUoZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX25ld0xvY2FsU3RvcmUodGhpcy5wZXJzaXN0ZW5jZSwgbmV3IF9fUFJJVkFURV9RdWVyeUVuZ2luZSwgZS5pbml0aWFsVXNlciwgdGhpcy5zZXJpYWxpemVyKTtcbiAgICB9XG4gICAgY3JlYXRlR2FyYmFnZUNvbGxlY3Rpb25TY2hlZHVsZXIoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gdGhpcy5wZXJzaXN0ZW5jZS5yZWZlcmVuY2VEZWxlZ2F0ZS5nYXJiYWdlQ29sbGVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9McnVTY2hlZHVsZXIobiwgZS5hc3luY1F1ZXVlLCB0KTtcbiAgICB9XG4gICAgY3JlYXRlSW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyKGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfSW5kZXhCYWNrZmlsbGVyKHQsIHRoaXMucGVyc2lzdGVuY2UpO1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9JbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIoZS5hc3luY1F1ZXVlLCBuKTtcbiAgICB9XG4gICAgY3JlYXRlUGVyc2lzdGVuY2UoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2luZGV4ZWREYlN0b3JhZ2VQcmVmaXgoZS5kYXRhYmFzZUluZm8uZGF0YWJhc2VJZCwgZS5kYXRhYmFzZUluZm8ucGVyc2lzdGVuY2VLZXkpLCBuID0gdm9pZCAwICE9PSB0aGlzLmNhY2hlU2l6ZUJ5dGVzID8gTHJ1UGFyYW1zLndpdGhDYWNoZVNpemUodGhpcy5jYWNoZVNpemVCeXRlcykgOiBMcnVQYXJhbXMuREVGQVVMVDtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiUGVyc2lzdGVuY2UodGhpcy5zeW5jaHJvbml6ZVRhYnMsIHQsIGUuY2xpZW50SWQsIG4sIGUuYXN5bmNRdWV1ZSwgX19QUklWQVRFX2dldFdpbmRvdygpLCBnZXREb2N1bWVudCgpLCB0aGlzLnNlcmlhbGl6ZXIsIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUsICEhdGhpcy5mb3JjZU93bmVyc2hpcCk7XG4gICAgfVxuICAgIGNyZWF0ZVNoYXJlZENsaWVudFN0YXRlKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5U2hhcmVkQ2xpZW50U3RhdGU7XG4gICAgfVxufVxuXG4vKipcbiAqIFByb3ZpZGVzIGFsbCBjb21wb25lbnRzIG5lZWRlZCBmb3IgRmlyZXN0b3JlIHdpdGggbXVsdGktdGFiIEluZGV4ZWREQlxuICogcGVyc2lzdGVuY2UuXG4gKlxuICogSW4gdGhlIGxlZ2FjeSBjbGllbnQsIHRoaXMgcHJvdmlkZXIgaXMgdXNlZCB0byBwcm92aWRlIGJvdGggbXVsdGktdGFiIGFuZFxuICogbm9uLW11bHRpLXRhYiBwZXJzaXN0ZW5jZSBzaW5jZSB3ZSBjYW5ub3QgdGVsbCBhdCBidWlsZCB0aW1lIHdoZXRoZXJcbiAqIGBzeW5jaHJvbml6ZVRhYnNgIHdpbGwgYmUgZW5hYmxlZC5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfTXVsdGlUYWJPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgZXh0ZW5kcyBfX1BSSVZBVEVfSW5kZXhlZERiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUsIHQsIC8qIGZvcmNlT3duZXJzaGlwPSAqLyAhMSksIHRoaXMuUWEgPSBlLCB0aGlzLmNhY2hlU2l6ZUJ5dGVzID0gdCwgdGhpcy5zeW5jaHJvbml6ZVRhYnMgPSAhMDtcbiAgICB9XG4gICAgYXN5bmMgaW5pdGlhbGl6ZShlKSB7XG4gICAgICAgIGF3YWl0IHN1cGVyLmluaXRpYWxpemUoZSk7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLlFhLnN5bmNFbmdpbmU7XG4gICAgICAgIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlICYmICh0aGlzLnNoYXJlZENsaWVudFN0YXRlLnN5bmNFbmdpbmUgPSB7XG4gICAgICAgICAgICBaczogX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUJhdGNoU3RhdGUuYmluZChudWxsLCB0KSxcbiAgICAgICAgICAgIFhzOiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5VGFyZ2V0U3RhdGUuYmluZChudWxsLCB0KSxcbiAgICAgICAgICAgIGVvOiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5QWN0aXZlVGFyZ2V0c0NoYW5nZS5iaW5kKG51bGwsIHQpLFxuICAgICAgICAgICAgQmk6IF9fUFJJVkFURV9zeW5jRW5naW5lR2V0QWN0aXZlQ2xpZW50cy5iaW5kKG51bGwsIHQpLFxuICAgICAgICAgICAgWXM6IF9fUFJJVkFURV9zeW5jRW5naW5lU3luY2hyb25pemVXaXRoQ2hhbmdlZERvY3VtZW50cy5iaW5kKG51bGwsIHQpXG4gICAgICAgIH0sIGF3YWl0IHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUuc3RhcnQoKSksIFxuICAgICAgICAvLyBOT1RFOiBUaGlzIHdpbGwgaW1tZWRpYXRlbHkgY2FsbCB0aGUgbGlzdGVuZXIsIHNvIHdlIG1ha2Ugc3VyZSB0b1xuICAgICAgICAvLyBzZXQgaXQgYWZ0ZXIgbG9jYWxTdG9yZSAvIHJlbW90ZVN0b3JlIGFyZSBzdGFydGVkLlxuICAgICAgICBhd2FpdCB0aGlzLnBlcnNpc3RlbmNlLmZpKChhc3luYyBlID0+IHtcbiAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlQcmltYXJ5U3RhdGUodGhpcy5RYS5zeW5jRW5naW5lLCBlKSwgdGhpcy5nY1NjaGVkdWxlciAmJiAoZSAmJiAhdGhpcy5nY1NjaGVkdWxlci5zdGFydGVkID8gdGhpcy5nY1NjaGVkdWxlci5zdGFydCgpIDogZSB8fCB0aGlzLmdjU2NoZWR1bGVyLnN0b3AoKSksIFxuICAgICAgICAgICAgdGhpcy5pbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIgJiYgKGUgJiYgIXRoaXMuaW5kZXhCYWNrZmlsbGVyU2NoZWR1bGVyLnN0YXJ0ZWQgPyB0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlci5zdGFydCgpIDogZSB8fCB0aGlzLmluZGV4QmFja2ZpbGxlclNjaGVkdWxlci5zdG9wKCkpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGNyZWF0ZVNoYXJlZENsaWVudFN0YXRlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9nZXRXaW5kb3coKTtcbiAgICAgICAgaWYgKCFfX1BSSVZBVEVfV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlLkQodCkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOSU1QTEVNRU5URUQsIFwiSW5kZXhlZERCIHBlcnNpc3RlbmNlIGlzIG9ubHkgYXZhaWxhYmxlIG9uIHBsYXRmb3JtcyB0aGF0IHN1cHBvcnQgTG9jYWxTdG9yYWdlLlwiKTtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9pbmRleGVkRGJTdG9yYWdlUHJlZml4KGUuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQsIGUuZGF0YWJhc2VJbmZvLnBlcnNpc3RlbmNlS2V5KTtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfV2ViU3RvcmFnZVNoYXJlZENsaWVudFN0YXRlKHQsIGUuYXN5bmNRdWV1ZSwgbiwgZS5jbGllbnRJZCwgZS5pbml0aWFsVXNlcik7XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXRpYWxpemVzIGFuZCB3aXJlcyB0aGUgY29tcG9uZW50cyB0aGF0IGFyZSBuZWVkZWQgdG8gaW50ZXJmYWNlIHdpdGggdGhlXG4gKiBuZXR3b3JrLlxuICovIGNsYXNzIE9ubGluZUNvbXBvbmVudFByb3ZpZGVyIHtcbiAgICBhc3luYyBpbml0aWFsaXplKGUsIHQpIHtcbiAgICAgICAgdGhpcy5sb2NhbFN0b3JlIHx8ICh0aGlzLmxvY2FsU3RvcmUgPSBlLmxvY2FsU3RvcmUsIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUgPSBlLnNoYXJlZENsaWVudFN0YXRlLCBcbiAgICAgICAgdGhpcy5kYXRhc3RvcmUgPSB0aGlzLmNyZWF0ZURhdGFzdG9yZSh0KSwgdGhpcy5yZW1vdGVTdG9yZSA9IHRoaXMuY3JlYXRlUmVtb3RlU3RvcmUodCksIFxuICAgICAgICB0aGlzLmV2ZW50TWFuYWdlciA9IHRoaXMuY3JlYXRlRXZlbnRNYW5hZ2VyKHQpLCB0aGlzLnN5bmNFbmdpbmUgPSB0aGlzLmNyZWF0ZVN5bmNFbmdpbmUodCwgXG4gICAgICAgIC8qIHN0YXJ0QXNQcmltYXJ5PSovICFlLnN5bmNocm9uaXplVGFicyksIHRoaXMuc2hhcmVkQ2xpZW50U3RhdGUub25saW5lU3RhdGVIYW5kbGVyID0gZSA9PiBfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5T25saW5lU3RhdGVDaGFuZ2UodGhpcy5zeW5jRW5naW5lLCBlLCAxIC8qIE9ubGluZVN0YXRlU291cmNlLlNoYXJlZENsaWVudFN0YXRlICovKSwgXG4gICAgICAgIHRoaXMucmVtb3RlU3RvcmUucmVtb3RlU3luY2VyLmhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UgPSBfX1BSSVZBVEVfc3luY0VuZ2luZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UuYmluZChudWxsLCB0aGlzLnN5bmNFbmdpbmUpLCBcbiAgICAgICAgYXdhaXQgX19QUklWQVRFX3JlbW90ZVN0b3JlQXBwbHlQcmltYXJ5U3RhdGUodGhpcy5yZW1vdGVTdG9yZSwgdGhpcy5zeW5jRW5naW5lLmlzUHJpbWFyeUNsaWVudCkpO1xuICAgIH1cbiAgICBjcmVhdGVFdmVudE1hbmFnZXIoZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX25ld0V2ZW50TWFuYWdlcigpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0V2ZW50TWFuYWdlckltcGw7XG4gICAgICAgIH0oKTtcbiAgICB9XG4gICAgY3JlYXRlRGF0YXN0b3JlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9uZXdTZXJpYWxpemVyKGUuZGF0YWJhc2VJbmZvLmRhdGFiYXNlSWQpLCBuID0gZnVuY3Rpb24gX19QUklWQVRFX25ld0Nvbm5lY3Rpb24oZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfV2ViQ2hhbm5lbENvbm5lY3Rpb24oZSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJldHVybiB0aGUgUGxhdGZvcm0tc3BlY2lmaWMgY29ubmVjdGl2aXR5IG1vbml0b3IuICovIChlLmRhdGFiYXNlSW5mbyk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3RGF0YXN0b3JlKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX0RhdGFzdG9yZUltcGwoZSwgdCwgbiwgcik7XG4gICAgICAgIH0oZS5hdXRoQ3JlZGVudGlhbHMsIGUuYXBwQ2hlY2tDcmVkZW50aWFscywgbiwgdCk7XG4gICAgfVxuICAgIGNyZWF0ZVJlbW90ZVN0b3JlKGUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdSZW1vdGVTdG9yZShlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9SZW1vdGVTdG9yZUltcGwoZSwgdCwgbiwgciwgaSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqIFJlLWVuYWJsZXMgdGhlIG5ldHdvcmsuIElkZW1wb3RlbnQuICovICh0aGlzLmxvY2FsU3RvcmUsIHRoaXMuZGF0YXN0b3JlLCBlLmFzeW5jUXVldWUsIChlID0+IF9fUFJJVkFURV9zeW5jRW5naW5lQXBwbHlPbmxpbmVTdGF0ZUNoYW5nZSh0aGlzLnN5bmNFbmdpbmUsIGUsIDAgLyogT25saW5lU3RhdGVTb3VyY2UuUmVtb3RlU3RvcmUgKi8pKSwgZnVuY3Rpb24gX19QUklWQVRFX25ld0Nvbm5lY3Rpdml0eU1vbml0b3IoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX0Jyb3dzZXJDb25uZWN0aXZpdHlNb25pdG9yLkQoKSA/IG5ldyBfX1BSSVZBVEVfQnJvd3NlckNvbm5lY3Rpdml0eU1vbml0b3IgOiBuZXcgX19QUklWQVRFX05vb3BDb25uZWN0aXZpdHlNb25pdG9yO1xuICAgICAgICB9KCkpO1xuICAgIH1cbiAgICBjcmVhdGVTeW5jRW5naW5lKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdTeW5jRW5naW5lKGUsIHQsIG4sIFxuICAgICAgICAvLyBQT1JUSU5HIE5PVEU6IE1hbmFnZXMgc3RhdGUgc3luY2hyb25pemF0aW9uIGluIG11bHRpLXRhYiBlbnZpcm9ubWVudHMuXG4gICAgICAgIHIsIGksIHMsIG8pIHtcbiAgICAgICAgICAgIGNvbnN0IF8gPSBuZXcgX19QUklWQVRFX1N5bmNFbmdpbmVJbXBsKGUsIHQsIG4sIHIsIGksIHMpO1xuICAgICAgICAgICAgcmV0dXJuIG8gJiYgKF8uTGEgPSAhMCksIF87XG4gICAgICAgIH0odGhpcy5sb2NhbFN0b3JlLCB0aGlzLnJlbW90ZVN0b3JlLCB0aGlzLmV2ZW50TWFuYWdlciwgdGhpcy5zaGFyZWRDbGllbnRTdGF0ZSwgZS5pbml0aWFsVXNlciwgZS5tYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9ucywgdCk7XG4gICAgfVxuICAgIGFzeW5jIHRlcm1pbmF0ZSgpIHtcbiAgICAgICAgdmFyIGU7XG4gICAgICAgIGF3YWl0IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdGVTdG9yZVNodXRkb3duKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiUmVtb3RlU3RvcmVcIiwgXCJSZW1vdGVTdG9yZSBzaHV0dGluZyBkb3duLlwiKSwgdC5NXy5hZGQoNSAvKiBPZmZsaW5lQ2F1c2UuU2h1dGRvd24gKi8pLCBcbiAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9kaXNhYmxlTmV0d29ya0ludGVybmFsKHQpLCB0Lk9fLnNodXRkb3duKCksIFxuICAgICAgICAgICAgLy8gU2V0IHRoZSBPbmxpbmVTdGF0ZSB0byBVbmtub3duIChyYXRoZXIgdGhhbiBPZmZsaW5lKSB0byBhdm9pZCBwb3RlbnRpYWxseVxuICAgICAgICAgICAgLy8gdHJpZ2dlcmluZyBzcHVyaW91cyBsaXN0ZW5lciBldmVudHMgd2l0aCBjYWNoZWQgZGF0YSwgZXRjLlxuICAgICAgICAgICAgdC5OXy5zZXQoXCJVbmtub3duXCIgLyogT25saW5lU3RhdGUuVW5rbm93biAqLyk7XG4gICAgICAgIH0odGhpcy5yZW1vdGVTdG9yZSksIG51bGwgPT09IChlID0gdGhpcy5kYXRhc3RvcmUpIHx8IHZvaWQgMCA9PT0gZSB8fCBlLnRlcm1pbmF0ZSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSG93IG1hbnkgYnl0ZXMgdG8gcmVhZCBlYWNoIHRpbWUgd2hlbiBgUmVhZGFibGVTdHJlYW1SZWFkZXIucmVhZCgpYCBpc1xuICogY2FsbGVkLiBPbmx5IGFwcGxpY2FibGUgZm9yIGJ5dGUgc3RyZWFtcyB0aGF0IHdlIGNvbnRyb2wgKGUuZy4gdGhvc2UgYmFja2VkXG4gKiBieSBhbiBVSW50OEFycmF5KS5cbiAqL1xuLyoqXG4gKiBCdWlsZHMgYSBgQnl0ZVN0cmVhbVJlYWRlcmAgZnJvbSBhIFVJbnQ4QXJyYXkuXG4gKiBAcGFyYW0gc291cmNlIC0gVGhlIGRhdGEgc291cmNlIHRvIHVzZS5cbiAqIEBwYXJhbSBieXRlc1BlclJlYWQgLSBIb3cgbWFueSBieXRlcyBlYWNoIGByZWFkKClgIGZyb20gdGhlIHJldHVybmVkIHJlYWRlclxuICogICAgICAgIHdpbGwgcmVhZC5cbiAqL1xuZnVuY3Rpb24gX19QUklWQVRFX3RvQnl0ZVN0cmVhbVJlYWRlckhlbHBlcihlLCB0ID0gMTAyNDApIHtcbiAgICBsZXQgbiA9IDA7XG4gICAgLy8gVGhlIFR5cGVTY3JpcHQgZGVmaW5pdGlvbiBmb3IgUmVhZGFibGVTdHJlYW1SZWFkZXIgY2hhbmdlZC4gV2UgdXNlXG4gICAgLy8gYGFueWAgaGVyZSB0byBhbGxvdyB0aGlzIGNvZGUgdG8gY29tcGlsZSB3aXRoIGRpZmZlcmVudCB2ZXJzaW9ucy5cbiAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL21pY3Jvc29mdC9UeXBlU2NyaXB0L2lzc3Vlcy80Mjk3MFxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgICAgIGFzeW5jIHJlYWQoKSB7XG4gICAgICAgICAgICBpZiAobiA8IGUuYnl0ZUxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHIgPSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBlLnNsaWNlKG4sIG4gKyB0KSxcbiAgICAgICAgICAgICAgICAgICAgZG9uZTogITFcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBuICs9IHQsIHI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGRvbmU6ICEwXG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjYW5jZWwoKSB7fSxcbiAgICAgICAgcmVsZWFzZUxvY2soKSB7fSxcbiAgICAgICAgY2xvc2VkOiBQcm9taXNlLnJlc29sdmUoKVxuICAgIH07XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIE9uIHdlYiwgYSBgUmVhZGFibGVTdHJlYW1gIGlzIHdyYXBwZWQgYXJvdW5kIGJ5IGEgYEJ5dGVTdHJlYW1SZWFkZXJgLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLypcbiAqIEEgd3JhcHBlciBpbXBsZW1lbnRhdGlvbiBvZiBPYnNlcnZlcjxUPiB0aGF0IHdpbGwgZGlzcGF0Y2ggZXZlbnRzXG4gKiBhc3luY2hyb25vdXNseS4gVG8gYWxsb3cgaW1tZWRpYXRlIHNpbGVuY2luZywgYSBtdXRlIGNhbGwgaXMgYWRkZWQgd2hpY2hcbiAqIGNhdXNlcyBldmVudHMgc2NoZWR1bGVkIHRvIG5vIGxvbmdlciBiZSByYWlzZWQuXG4gKi9cbmNsYXNzIF9fUFJJVkFURV9Bc3luY09ic2VydmVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSBlLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZW4gc2V0IHRvIHRydWUsIHdpbGwgbm90IHJhaXNlIGZ1dHVyZSBldmVudHMuIE5lY2Vzc2FyeSB0byBkZWFsIHdpdGhcbiAgICAgICAgICogYXN5bmMgZGV0YWNobWVudCBvZiBsaXN0ZW5lci5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubXV0ZWQgPSAhMTtcbiAgICB9XG4gICAgbmV4dChlKSB7XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIubmV4dCAmJiB0aGlzLkthKHRoaXMub2JzZXJ2ZXIubmV4dCwgZSk7XG4gICAgfVxuICAgIGVycm9yKGUpIHtcbiAgICAgICAgdGhpcy5vYnNlcnZlci5lcnJvciA/IHRoaXMuS2EodGhpcy5vYnNlcnZlci5lcnJvciwgZSkgOiBfX1BSSVZBVEVfbG9nRXJyb3IoXCJVbmNhdWdodCBFcnJvciBpbiBzbmFwc2hvdCBsaXN0ZW5lcjpcIiwgZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgJGEoKSB7XG4gICAgICAgIHRoaXMubXV0ZWQgPSAhMDtcbiAgICB9XG4gICAgS2EoZSwgdCkge1xuICAgICAgICB0aGlzLm11dGVkIHx8IHNldFRpbWVvdXQoKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMubXV0ZWQgfHwgZSh0KTtcbiAgICAgICAgfSksIDApO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBjbGFzcyByZXByZXNlbnRpbmcgYSBidW5kbGUuXG4gKlxuICogVGFrZXMgYSBidW5kbGUgc3RyZWFtIG9yIGJ1ZmZlciwgYW5kIHByZXNlbnRzIGFic3RyYWN0aW9ucyB0byByZWFkIGJ1bmRsZWRcbiAqIGVsZW1lbnRzIG91dCBvZiB0aGUgdW5kZXJseWluZyBjb250ZW50LlxuICovIGNsYXNzIF9fUFJJVkFURV9CdW5kbGVSZWFkZXJJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIHJlYWRlciB0byByZWFkIGZyb20gdW5kZXJseWluZyBiaW5hcnkgYnVuZGxlIGRhdGEgc291cmNlLiAqL1xuICAgIGUsIHQpIHtcbiAgICAgICAgdGhpcy5VYSA9IGUsIHRoaXMuc2VyaWFsaXplciA9IHQsIFxuICAgICAgICAvKiogQ2FjaGVkIGJ1bmRsZSBtZXRhZGF0YS4gKi9cbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQsIFxuICAgICAgICAvKipcbiAgICAgICAgICogSW50ZXJuYWwgYnVmZmVyIHRvIGhvbGQgYnVuZGxlIGNvbnRlbnQsIGFjY3VtdWxhdGluZyBpbmNvbXBsZXRlIGVsZW1lbnRcbiAgICAgICAgICogY29udGVudC5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuYnVmZmVyID0gbmV3IFVpbnQ4QXJyYXksIHRoaXMuV2EgPSBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3VGV4dERlY29kZXIoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHREZWNvZGVyKFwidXRmLThcIik7XG4gICAgICAgIH0oKSwgXG4gICAgICAgIC8vIFJlYWQgdGhlIG1ldGFkYXRhICh3aGljaCBpcyB0aGUgZmlyc3QgZWxlbWVudCkuXG4gICAgICAgIHRoaXMuR2EoKS50aGVuKChlID0+IHtcbiAgICAgICAgICAgIGUgJiYgZS5zYSgpID8gdGhpcy5tZXRhZGF0YS5yZXNvbHZlKGUuaWEubWV0YWRhdGEpIDogdGhpcy5tZXRhZGF0YS5yZWplY3QobmV3IEVycm9yKGBUaGUgZmlyc3QgZWxlbWVudCBvZiB0aGUgYnVuZGxlIGlzIG5vdCBhIG1ldGFkYXRhLCBpdCBpc1xcbiAgICAgICAgICAgICAke0pTT04uc3RyaW5naWZ5KG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuaWEpfWApKTtcbiAgICAgICAgfSksIChlID0+IHRoaXMubWV0YWRhdGEucmVqZWN0KGUpKSk7XG4gICAgfVxuICAgIGNsb3NlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5VYS5jYW5jZWwoKTtcbiAgICB9XG4gICAgYXN5bmMgZ2V0TWV0YWRhdGEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGFkYXRhLnByb21pc2U7XG4gICAgfVxuICAgIGFzeW5jIHFhKCkge1xuICAgICAgICAvLyBNYWtlcyBzdXJlIG1ldGFkYXRhIGlzIHJlYWQgYmVmb3JlIHByb2NlZWRpbmcuXG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmdldE1ldGFkYXRhKCksIHRoaXMuR2EoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZHMgZnJvbSB0aGUgaGVhZCBvZiBpbnRlcm5hbCBidWZmZXIsIGFuZCBwdWxsaW5nIG1vcmUgZGF0YSBmcm9tXG4gICAgICogdW5kZXJseWluZyBzdHJlYW0gaWYgYSBjb21wbGV0ZSBlbGVtZW50IGNhbm5vdCBiZSBmb3VuZCwgdW50aWwgYW5cbiAgICAgKiBlbGVtZW50KGluY2x1ZGluZyB0aGUgcHJlZml4ZWQgbGVuZ3RoIGFuZCB0aGUgSlNPTiBzdHJpbmcpIGlzIGZvdW5kLlxuICAgICAqXG4gICAgICogT25jZSBhIGNvbXBsZXRlIGVsZW1lbnQgaXMgcmVhZCwgaXQgaXMgZHJvcHBlZCBmcm9tIGludGVybmFsIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIFJldHVybnMgZWl0aGVyIHRoZSBidW5kbGVkIGVsZW1lbnQsIG9yIG51bGwgaWYgd2UgaGF2ZSByZWFjaGVkIHRoZSBlbmQgb2ZcbiAgICAgKiB0aGUgc3RyZWFtLlxuICAgICAqLyAgICBhc3luYyBHYSgpIHtcbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IHRoaXMuemEoKTtcbiAgICAgICAgaWYgKG51bGwgPT09IGUpIHJldHVybiBudWxsO1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5XYS5kZWNvZGUoZSksIG4gPSBOdW1iZXIodCk7XG4gICAgICAgIGlzTmFOKG4pICYmIHRoaXMuamEoYGxlbmd0aCBzdHJpbmcgKCR7dH0pIGlzIG5vdCB2YWxpZCBudW1iZXJgKTtcbiAgICAgICAgY29uc3QgciA9IGF3YWl0IHRoaXMuSGEobik7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1NpemVkQnVuZGxlRWxlbWVudChKU09OLnBhcnNlKHIpLCBlLmxlbmd0aCArIG4pO1xuICAgIH1cbiAgICAvKiogRmlyc3QgaW5kZXggb2YgJ3snIGZyb20gdGhlIHVuZGVybHlpbmcgYnVmZmVyLiAqLyAgICBKYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYnVmZmVyLmZpbmRJbmRleCgoZSA9PiBlID09PSBcIntcIi5jaGFyQ29kZUF0KDApKSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgaW50ZXJuYWwgYnVmZmVyLCB1bnRpbCB0aGUgZmlyc3QgJ3snLCBhbmRcbiAgICAgKiByZXR1cm4gdGhlIGNvbnRlbnQuXG4gICAgICpcbiAgICAgKiBJZiByZWFjaGVkIGVuZCBvZiB0aGUgc3RyZWFtLCByZXR1cm5zIGEgbnVsbC5cbiAgICAgKi8gICAgYXN5bmMgemEoKSB7XG4gICAgICAgIGZvciAoO3RoaXMuSmEoKSA8IDA7ICkge1xuICAgICAgICAgICAgaWYgKGF3YWl0IHRoaXMuWWEoKSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQnJva2Ugb3V0IG9mIHRoZSBsb29wIGJlY2F1c2UgdW5kZXJseWluZyBzdHJlYW0gaXMgY2xvc2VkLCBhbmQgdGhlcmVcbiAgICAgICAgLy8gaGFwcGVucyB0byBiZSBubyBtb3JlIGRhdGEgdG8gcHJvY2Vzcy5cbiAgICAgICAgICAgICAgICBpZiAoMCA9PT0gdGhpcy5idWZmZXIubGVuZ3RoKSByZXR1cm4gbnVsbDtcbiAgICAgICAgY29uc3QgZSA9IHRoaXMuSmEoKTtcbiAgICAgICAgLy8gQnJva2Ugb3V0IG9mIHRoZSBsb29wIGJlY2F1c2UgdW5kZXJseWluZyBzdHJlYW0gaXMgY2xvc2VkLCBidXQgc3RpbGxcbiAgICAgICAgLy8gY2Fubm90IGZpbmQgYW4gb3BlbiBicmFja2V0LlxuICAgICAgICAgICAgICAgIGUgPCAwICYmIHRoaXMuamEoXCJSZWFjaGVkIHRoZSBlbmQgb2YgYnVuZGxlIHdoZW4gYSBsZW5ndGggc3RyaW5nIGlzIGV4cGVjdGVkLlwiKTtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuYnVmZmVyLnNsaWNlKDAsIGUpO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGludGVybmFsIGJ1ZmZlciB0byBkcm9wIHRoZSByZWFkIGxlbmd0aC5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWZmZXIgPSB0aGlzLmJ1ZmZlci5zbGljZShlKSwgdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVhZHMgZnJvbSBhIHNwZWNpZmllZCBwb3NpdGlvbiBmcm9tIHRoZSBpbnRlcm5hbCBidWZmZXIsIGZvciBhIHNwZWNpZmllZFxuICAgICAqIG51bWJlciBvZiBieXRlcywgcHVsbGluZyBtb3JlIGRhdGEgZnJvbSB0aGUgdW5kZXJseWluZyBzdHJlYW0gaWYgbmVlZGVkLlxuICAgICAqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyBkZWNvZGVkIGZyb20gdGhlIHJlYWQgYnl0ZXMuXG4gICAgICovICAgIGFzeW5jIEhhKGUpIHtcbiAgICAgICAgZm9yICg7dGhpcy5idWZmZXIubGVuZ3RoIDwgZTsgKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLllhKCkgJiYgdGhpcy5qYShcIlJlYWNoZWQgdGhlIGVuZCBvZiBidW5kbGUgd2hlbiBtb3JlIGlzIGV4cGVjdGVkLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0ID0gdGhpcy5XYS5kZWNvZGUodGhpcy5idWZmZXIuc2xpY2UoMCwgZSkpO1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGludGVybmFsIGJ1ZmZlciB0byBkcm9wIHRoZSByZWFkIGpzb24gc3RyaW5nLlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1ZmZlciA9IHRoaXMuYnVmZmVyLnNsaWNlKGUpLCB0O1xuICAgIH1cbiAgICBqYShlKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcbiAgICAgICAgdGhyb3cgdGhpcy5VYS5jYW5jZWwoKSwgbmV3IEVycm9yKGBJbnZhbGlkIGJ1bmRsZSBmb3JtYXQ6ICR7ZX1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUHVsbHMgbW9yZSBkYXRhIGZyb20gdW5kZXJseWluZyBzdHJlYW0gdG8gaW50ZXJuYWwgYnVmZmVyLlxuICAgICAqIFJldHVybnMgYSBib29sZWFuIGluZGljYXRpbmcgd2hldGhlciB0aGUgc3RyZWFtIGlzIGZpbmlzaGVkLlxuICAgICAqLyAgICBhc3luYyBZYSgpIHtcbiAgICAgICAgY29uc3QgZSA9IGF3YWl0IHRoaXMuVWEucmVhZCgpO1xuICAgICAgICBpZiAoIWUuZG9uZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBVaW50OEFycmF5KHRoaXMuYnVmZmVyLmxlbmd0aCArIGUudmFsdWUubGVuZ3RoKTtcbiAgICAgICAgICAgIHQuc2V0KHRoaXMuYnVmZmVyKSwgdC5zZXQoZS52YWx1ZSwgdGhpcy5idWZmZXIubGVuZ3RoKSwgdGhpcy5idWZmZXIgPSB0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlLmRvbmU7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBJbnRlcm5hbCB0cmFuc2FjdGlvbiBvYmplY3QgcmVzcG9uc2libGUgZm9yIGFjY3VtdWxhdGluZyB0aGUgbXV0YXRpb25zIHRvXG4gKiBwZXJmb3JtIGFuZCB0aGUgYmFzZSB2ZXJzaW9ucyBmb3IgYW55IGRvY3VtZW50cyByZWFkLlxuICovXG5jbGFzcyBUcmFuc2FjdGlvbiQyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuZGF0YXN0b3JlID0gZSwgXG4gICAgICAgIC8vIFRoZSB2ZXJzaW9uIG9mIGVhY2ggZG9jdW1lbnQgdGhhdCB3YXMgcmVhZCBkdXJpbmcgdGhpcyB0cmFuc2FjdGlvbi5cbiAgICAgICAgdGhpcy5yZWFkVmVyc2lvbnMgPSBuZXcgTWFwLCB0aGlzLm11dGF0aW9ucyA9IFtdLCB0aGlzLmNvbW1pdHRlZCA9ICExLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgZGVmZXJyZWQgdXNhZ2UgZXJyb3IgdGhhdCBvY2N1cnJlZCBwcmV2aW91c2x5IGluIHRoaXMgdHJhbnNhY3Rpb24gdGhhdFxuICAgICAgICAgKiB3aWxsIGNhdXNlIHRoZSB0cmFuc2FjdGlvbiB0byBmYWlsIG9uY2UgaXQgYWN0dWFsbHkgY29tbWl0cy5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMubGFzdFRyYW5zYWN0aW9uRXJyb3IgPSBudWxsLCBcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCBvZiBkb2N1bWVudHMgdGhhdCBoYXZlIGJlZW4gd3JpdHRlbiBpbiB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFdoZW4gdGhlcmUncyBtb3JlIHRoYW4gb25lIHdyaXRlIHRvIHRoZSBzYW1lIGtleSBpbiBhIHRyYW5zYWN0aW9uLCBhbnlcbiAgICAgICAgICogd3JpdGVzIGFmdGVyIHRoZSBmaXJzdCBhcmUgaGFuZGxlZCBkaWZmZXJlbnRseS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMud3JpdHRlbkRvY3MgPSBuZXcgU2V0O1xuICAgIH1cbiAgICBhc3luYyBsb29rdXAoZSkge1xuICAgICAgICBpZiAodGhpcy5lbnN1cmVDb21taXROb3RDYWxsZWQoKSwgdGhpcy5tdXRhdGlvbnMubGVuZ3RoID4gMCkgdGhyb3cgdGhpcy5sYXN0VHJhbnNhY3Rpb25FcnJvciA9IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiRmlyZXN0b3JlIHRyYW5zYWN0aW9ucyByZXF1aXJlIGFsbCByZWFkcyB0byBiZSBleGVjdXRlZCBiZWZvcmUgYWxsIHdyaXRlcy5cIiksIFxuICAgICAgICB0aGlzLmxhc3RUcmFuc2FjdGlvbkVycm9yO1xuICAgICAgICBjb25zdCB0ID0gYXdhaXQgYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2ludm9rZUJhdGNoR2V0RG9jdW1lbnRzUnBjKGUsIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0ge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50czogdC5tYXAoKGUgPT4gX19QUklWQVRFX3RvTmFtZShuLnNlcmlhbGl6ZXIsIGUpKSlcbiAgICAgICAgICAgIH0sIGkgPSBhd2FpdCBuLnhvKFwiQmF0Y2hHZXREb2N1bWVudHNcIiwgbi5zZXJpYWxpemVyLmRhdGFiYXNlSWQsIFJlc291cmNlUGF0aC5lbXB0eVBhdGgoKSwgciwgdC5sZW5ndGgpLCBzID0gbmV3IE1hcDtcbiAgICAgICAgICAgIGkuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9mcm9tQmF0Y2hHZXREb2N1bWVudHNSZXNwb25zZShuLnNlcmlhbGl6ZXIsIGUpO1xuICAgICAgICAgICAgICAgIHMuc2V0KHQua2V5LnRvU3RyaW5nKCksIHQpO1xuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3QgbyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IHMuZ2V0KGUudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgX19QUklWQVRFX2hhcmRBc3NlcnQoISF0KSwgby5wdXNoKHQpO1xuICAgICAgICAgICAgfSkpLCBvO1xuICAgICAgICB9KHRoaXMuZGF0YXN0b3JlLCBlKTtcbiAgICAgICAgcmV0dXJuIHQuZm9yRWFjaCgoZSA9PiB0aGlzLnJlY29yZFZlcnNpb24oZSkpKSwgdDtcbiAgICB9XG4gICAgc2V0KGUsIHQpIHtcbiAgICAgICAgdGhpcy53cml0ZSh0LnRvTXV0YXRpb24oZSwgdGhpcy5wcmVjb25kaXRpb24oZSkpKSwgdGhpcy53cml0dGVuRG9jcy5hZGQoZS50b1N0cmluZygpKTtcbiAgICB9XG4gICAgdXBkYXRlKGUsIHQpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHRoaXMud3JpdGUodC50b011dGF0aW9uKGUsIHRoaXMucHJlY29uZGl0aW9uRm9yVXBkYXRlKGUpKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHRoaXMubGFzdFRyYW5zYWN0aW9uRXJyb3IgPSBlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMud3JpdHRlbkRvY3MuYWRkKGUudG9TdHJpbmcoKSk7XG4gICAgfVxuICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmV3IF9fUFJJVkFURV9EZWxldGVNdXRhdGlvbihlLCB0aGlzLnByZWNvbmRpdGlvbihlKSkpLCB0aGlzLndyaXR0ZW5Eb2NzLmFkZChlLnRvU3RyaW5nKCkpO1xuICAgIH1cbiAgICBhc3luYyBjb21taXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuc3VyZUNvbW1pdE5vdENhbGxlZCgpLCB0aGlzLmxhc3RUcmFuc2FjdGlvbkVycm9yKSB0aHJvdyB0aGlzLmxhc3RUcmFuc2FjdGlvbkVycm9yO1xuICAgICAgICBjb25zdCBlID0gdGhpcy5yZWFkVmVyc2lvbnM7XG4gICAgICAgIC8vIEZvciBlYWNoIG11dGF0aW9uLCBub3RlIHRoYXQgdGhlIGRvYyB3YXMgd3JpdHRlbi5cbiAgICAgICAgICAgICAgICB0aGlzLm11dGF0aW9ucy5mb3JFYWNoKCh0ID0+IHtcbiAgICAgICAgICAgIGUuZGVsZXRlKHQua2V5LnRvU3RyaW5nKCkpO1xuICAgICAgICB9KSksIFxuICAgICAgICAvLyBGb3IgZWFjaCBkb2N1bWVudCB0aGF0IHdhcyByZWFkIGJ1dCBub3Qgd3JpdHRlbiB0bywgd2Ugd2FudCB0byBwZXJmb3JtXG4gICAgICAgIC8vIGEgYHZlcmlmeWAgb3BlcmF0aW9uLlxuICAgICAgICBlLmZvckVhY2goKChlLCB0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBuID0gRG9jdW1lbnRLZXkuZnJvbVBhdGgodCk7XG4gICAgICAgICAgICB0aGlzLm11dGF0aW9ucy5wdXNoKG5ldyBfX1BSSVZBVEVfVmVyaWZ5TXV0YXRpb24obiwgdGhpcy5wcmVjb25kaXRpb24obikpKTtcbiAgICAgICAgfSkpLCBhd2FpdCBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfaW52b2tlQ29tbWl0UnBjKGUsIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpLCByID0ge1xuICAgICAgICAgICAgICAgIHdyaXRlczogdC5tYXAoKGUgPT4gdG9NdXRhdGlvbihuLnNlcmlhbGl6ZXIsIGUpKSlcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhd2FpdCBuLkNvKFwiQ29tbWl0XCIsIG4uc2VyaWFsaXplci5kYXRhYmFzZUlkLCBSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCksIHIpO1xuICAgICAgICB9KHRoaXMuZGF0YXN0b3JlLCB0aGlzLm11dGF0aW9ucyksIHRoaXMuY29tbWl0dGVkID0gITA7XG4gICAgfVxuICAgIHJlY29yZFZlcnNpb24oZSkge1xuICAgICAgICBsZXQgdDtcbiAgICAgICAgaWYgKGUuaXNGb3VuZERvY3VtZW50KCkpIHQgPSBlLnZlcnNpb247IGVsc2Uge1xuICAgICAgICAgICAgaWYgKCFlLmlzTm9Eb2N1bWVudCgpKSB0aHJvdyBmYWlsKCk7XG4gICAgICAgICAgICAvLyBSZXByZXNlbnQgYSBkZWxldGVkIGRvYyB1c2luZyBTbmFwc2hvdFZlcnNpb24ubWluKCkuXG4gICAgICAgICAgICB0ID0gU25hcHNob3RWZXJzaW9uLm1pbigpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLnJlYWRWZXJzaW9ucy5nZXQoZS5rZXkudG9TdHJpbmcoKSk7XG4gICAgICAgIGlmIChuKSB7XG4gICAgICAgICAgICBpZiAoIXQuaXNFcXVhbChuKSkgXG4gICAgICAgICAgICAvLyBUaGlzIHRyYW5zYWN0aW9uIHdpbGwgZmFpbCBubyBtYXR0ZXIgd2hhdC5cbiAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkFCT1JURUQsIFwiRG9jdW1lbnQgdmVyc2lvbiBjaGFuZ2VkIGJldHdlZW4gdHdvIHJlYWRzLlwiKTtcbiAgICAgICAgfSBlbHNlIHRoaXMucmVhZFZlcnNpb25zLnNldChlLmtleS50b1N0cmluZygpLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmVyc2lvbiBvZiB0aGlzIGRvY3VtZW50IHdoZW4gaXQgd2FzIHJlYWQgaW4gdGhpcyB0cmFuc2FjdGlvbixcbiAgICAgKiBhcyBhIHByZWNvbmRpdGlvbiwgb3Igbm8gcHJlY29uZGl0aW9uIGlmIGl0IHdhcyBub3QgcmVhZC5cbiAgICAgKi8gICAgcHJlY29uZGl0aW9uKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMucmVhZFZlcnNpb25zLmdldChlLnRvU3RyaW5nKCkpO1xuICAgICAgICByZXR1cm4gIXRoaXMud3JpdHRlbkRvY3MuaGFzKGUudG9TdHJpbmcoKSkgJiYgdCA/IHQuaXNFcXVhbChTbmFwc2hvdFZlcnNpb24ubWluKCkpID8gUHJlY29uZGl0aW9uLmV4aXN0cyghMSkgOiBQcmVjb25kaXRpb24udXBkYXRlVGltZSh0KSA6IFByZWNvbmRpdGlvbi5ub25lKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHByZWNvbmRpdGlvbiBmb3IgYSBkb2N1bWVudCBpZiB0aGUgb3BlcmF0aW9uIGlzIGFuIHVwZGF0ZS5cbiAgICAgKi8gICAgcHJlY29uZGl0aW9uRm9yVXBkYXRlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMucmVhZFZlcnNpb25zLmdldChlLnRvU3RyaW5nKCkpO1xuICAgICAgICAvLyBUaGUgZmlyc3QgdGltZSBhIGRvY3VtZW50IGlzIHdyaXR0ZW4sIHdlIHdhbnQgdG8gdGFrZSBpbnRvIGFjY291bnQgdGhlXG4gICAgICAgIC8vIHJlYWQgdGltZSBhbmQgZXhpc3RlbmNlXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLndyaXR0ZW5Eb2NzLmhhcyhlLnRvU3RyaW5nKCkpICYmIHQpIHtcbiAgICAgICAgICAgIGlmICh0LmlzRXF1YWwoU25hcHNob3RWZXJzaW9uLm1pbigpKSkgXG4gICAgICAgICAgICAvLyBUaGUgZG9jdW1lbnQgZG9lc24ndCBleGlzdCwgc28gZmFpbCB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAgICAvLyBUaGlzIGhhcyB0byBiZSB2YWxpZGF0ZWQgbG9jYWxseSBiZWNhdXNlIHlvdSBjYW4ndCBzZW5kIGFcbiAgICAgICAgICAgIC8vIHByZWNvbmRpdGlvbiB0aGF0IGEgZG9jdW1lbnQgZG9lcyBub3QgZXhpc3Qgd2l0aG91dCBjaGFuZ2luZyB0aGVcbiAgICAgICAgICAgIC8vIHNlbWFudGljcyBvZiB0aGUgYmFja2VuZCB3cml0ZSB0byBiZSBhbiBpbnNlcnQuIFRoaXMgaXMgdGhlIHJldmVyc2VcbiAgICAgICAgICAgIC8vIG9mIHdoYXQgd2Ugd2FudCwgc2luY2Ugd2Ugd2FudCB0byBhc3NlcnQgdGhhdCB0aGUgZG9jdW1lbnQgZG9lc24ndFxuICAgICAgICAgICAgLy8gZXhpc3QgYnV0IHRoZW4gc2VuZCB0aGUgdXBkYXRlIGFuZCBoYXZlIGl0IGZhaWwuIFNpbmNlIHdlIGNhbid0XG4gICAgICAgICAgICAvLyBleHByZXNzIHRoYXQgdG8gdGhlIGJhY2tlbmQsIHdlIGhhdmUgdG8gdmFsaWRhdGUgbG9jYWxseS5cbiAgICAgICAgICAgIC8vIE5vdGU6IHRoaXMgY2FuIGNoYW5nZSBvbmNlIHdlIGNhbiBzZW5kIHNlcGFyYXRlIHZlcmlmeSB3cml0ZXMgaW4gdGhlXG4gICAgICAgICAgICAvLyB0cmFuc2FjdGlvbi5cbiAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiQ2FuJ3QgdXBkYXRlIGEgZG9jdW1lbnQgdGhhdCBkb2Vzbid0IGV4aXN0LlwiKTtcbiAgICAgICAgICAgIC8vIERvY3VtZW50IGV4aXN0cywgYmFzZSBwcmVjb25kaXRpb24gb24gZG9jdW1lbnQgdXBkYXRlIHRpbWUuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJlY29uZGl0aW9uLnVwZGF0ZVRpbWUodCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRG9jdW1lbnQgd2FzIG5vdCByZWFkLCBzbyB3ZSBqdXN0IHVzZSB0aGUgcHJlY29uZGl0aW9ucyBmb3IgYSBibGluZFxuICAgICAgICAvLyB1cGRhdGUuXG4gICAgICAgIHJldHVybiBQcmVjb25kaXRpb24uZXhpc3RzKCEwKTtcbiAgICB9XG4gICAgd3JpdGUoZSkge1xuICAgICAgICB0aGlzLmVuc3VyZUNvbW1pdE5vdENhbGxlZCgpLCB0aGlzLm11dGF0aW9ucy5wdXNoKGUpO1xuICAgIH1cbiAgICBlbnN1cmVDb21taXROb3RDYWxsZWQoKSB7fVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUcmFuc2FjdGlvblJ1bm5lciBlbmNhcHN1bGF0ZXMgdGhlIGxvZ2ljIG5lZWRlZCB0byBydW4gYW5kIHJldHJ5IHRyYW5zYWN0aW9uc1xuICogd2l0aCBiYWNrb2ZmLlxuICovIGNsYXNzIF9fUFJJVkFURV9UcmFuc2FjdGlvblJ1bm5lciB7XG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICB0aGlzLmFzeW5jUXVldWUgPSBlLCB0aGlzLmRhdGFzdG9yZSA9IHQsIHRoaXMub3B0aW9ucyA9IG4sIHRoaXMudXBkYXRlRnVuY3Rpb24gPSByLCBcbiAgICAgICAgdGhpcy5kZWZlcnJlZCA9IGksIHRoaXMuWmEgPSBuLm1heEF0dGVtcHRzLCB0aGlzLllvID0gbmV3IF9fUFJJVkFURV9FeHBvbmVudGlhbEJhY2tvZmYodGhpcy5hc3luY1F1ZXVlLCBcInRyYW5zYWN0aW9uX3JldHJ5XCIgLyogVGltZXJJZC5UcmFuc2FjdGlvblJldHJ5ICovKTtcbiAgICB9XG4gICAgLyoqIFJ1bnMgdGhlIHRyYW5zYWN0aW9uIGFuZCBzZXRzIHRoZSByZXN1bHQgb24gZGVmZXJyZWQuICovICAgIFhhKCkge1xuICAgICAgICB0aGlzLlphIC09IDEsIHRoaXMuZXUoKTtcbiAgICB9XG4gICAgZXUoKSB7XG4gICAgICAgIHRoaXMuWW8uJG8oKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgVHJhbnNhY3Rpb24kMih0aGlzLmRhdGFzdG9yZSksIHQgPSB0aGlzLnR1KGUpO1xuICAgICAgICAgICAgdCAmJiB0LnRoZW4oKHQgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiBlLmNvbW1pdCgpLnRoZW4oKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWZlcnJlZC5yZXNvbHZlKHQpO1xuICAgICAgICAgICAgICAgIH0pKS5jYXRjaCgoZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubnUoZSk7XG4gICAgICAgICAgICAgICAgfSkpKSk7XG4gICAgICAgICAgICB9KSkuY2F0Y2goKGUgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMubnUoZSk7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgdHUoZSkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMudXBkYXRlRnVuY3Rpb24oZSk7XG4gICAgICAgICAgICByZXR1cm4gIV9fUFJJVkFURV9pc051bGxPclVuZGVmaW5lZCh0KSAmJiB0LmNhdGNoICYmIHQudGhlbiA/IHQgOiAodGhpcy5kZWZlcnJlZC5yZWplY3QoRXJyb3IoXCJUcmFuc2FjdGlvbiBjYWxsYmFjayBtdXN0IHJldHVybiBhIFByb21pc2VcIikpLCBcbiAgICAgICAgICAgIG51bGwpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAvLyBEbyBub3QgcmV0cnkgZXJyb3JzIHRocm93biBieSB1c2VyIHByb3ZpZGVkIHVwZGF0ZUZ1bmN0aW9uLlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmZXJyZWQucmVqZWN0KGUpLCBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIG51KGUpIHtcbiAgICAgICAgdGhpcy5aYSA+IDAgJiYgdGhpcy5ydShlKSA/ICh0aGlzLlphIC09IDEsIHRoaXMuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiAodGhpcy5ldSgpLCBcbiAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkpKSkpIDogdGhpcy5kZWZlcnJlZC5yZWplY3QoZSk7XG4gICAgfVxuICAgIHJ1KGUpIHtcbiAgICAgICAgaWYgKFwiRmlyZWJhc2VFcnJvclwiID09PSBlLm5hbWUpIHtcbiAgICAgICAgICAgIC8vIEluIHRyYW5zYWN0aW9ucywgdGhlIGJhY2tlbmQgd2lsbCBmYWlsIG91dGRhdGVkIHJlYWRzIHdpdGggRkFJTEVEX1BSRUNPTkRJVElPTiBhbmRcbiAgICAgICAgICAgIC8vIG5vbi1tYXRjaGluZyBkb2N1bWVudCB2ZXJzaW9ucyB3aXRoIEFCT1JURUQuIFRoZXNlIGVycm9ycyBzaG91bGQgYmUgcmV0cmllZC5cbiAgICAgICAgICAgIGNvbnN0IHQgPSBlLmNvZGU7XG4gICAgICAgICAgICByZXR1cm4gXCJhYm9ydGVkXCIgPT09IHQgfHwgXCJmYWlsZWQtcHJlY29uZGl0aW9uXCIgPT09IHQgfHwgXCJhbHJlYWR5LWV4aXN0c1wiID09PSB0IHx8ICFfX1BSSVZBVEVfaXNQZXJtYW5lbnRFcnJvcih0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBGaXJlc3RvcmVDbGllbnQgaXMgYSB0b3AtbGV2ZWwgY2xhc3MgdGhhdCBjb25zdHJ1Y3RzIGFuZCBvd25zIGFsbCBvZiB0aGUgLy9cbiAqIHBpZWNlcyBvZiB0aGUgY2xpZW50IFNESyBhcmNoaXRlY3R1cmUuIEl0IGlzIHJlc3BvbnNpYmxlIGZvciBjcmVhdGluZyB0aGUgLy9cbiAqIGFzeW5jIHF1ZXVlIHRoYXQgaXMgc2hhcmVkIGJ5IGFsbCBvZiB0aGUgb3RoZXIgY29tcG9uZW50cyBpbiB0aGUgc3lzdGVtLiAvL1xuICovXG5jbGFzcyBGaXJlc3RvcmVDbGllbnQge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIFxuICAgIC8qKlxuICAgICAqIEFzeW5jaHJvbm91cyBxdWV1ZSByZXNwb25zaWJsZSBmb3IgYWxsIG9mIG91ciBpbnRlcm5hbCBwcm9jZXNzaW5nLiBXaGVuXG4gICAgICogd2UgZ2V0IGluY29taW5nIHdvcmsgZnJvbSB0aGUgdXNlciAodmlhIHB1YmxpYyBBUEkpIG9yIHRoZSBuZXR3b3JrXG4gICAgICogKGluY29taW5nIEdSUEMgbWVzc2FnZXMpLCB3ZSBzaG91bGQgYWx3YXlzIHNjaGVkdWxlIG9udG8gdGhpcyBxdWV1ZS5cbiAgICAgKiBUaGlzIGVuc3VyZXMgYWxsIG9mIG91ciB3b3JrIGlzIHByb3Blcmx5IHNlcmlhbGl6ZWQgKGUuZy4gd2UgZG9uJ3RcbiAgICAgKiBzdGFydCBwcm9jZXNzaW5nIGEgbmV3IG9wZXJhdGlvbiB3aGlsZSB0aGUgcHJldmlvdXMgb25lIGlzIHdhaXRpbmcgZm9yXG4gICAgICogYW4gYXN5bmMgSS9PIHRvIGNvbXBsZXRlKS5cbiAgICAgKi9cbiAgICBuLCByKSB7XG4gICAgICAgIHRoaXMuYXV0aENyZWRlbnRpYWxzID0gZSwgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxzID0gdCwgdGhpcy5hc3luY1F1ZXVlID0gbiwgdGhpcy5kYXRhYmFzZUluZm8gPSByLCBcbiAgICAgICAgdGhpcy51c2VyID0gVXNlci5VTkFVVEhFTlRJQ0FURUQsIHRoaXMuY2xpZW50SWQgPSBfX1BSSVZBVEVfQXV0b0lkLm5ld0lkKCksIHRoaXMuYXV0aENyZWRlbnRpYWxMaXN0ZW5lciA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpLCBcbiAgICAgICAgdGhpcy5hcHBDaGVja0NyZWRlbnRpYWxMaXN0ZW5lciA9ICgpID0+IFByb21pc2UucmVzb2x2ZSgpLCB0aGlzLmF1dGhDcmVkZW50aWFscy5zdGFydChuLCAoYXN5bmMgZSA9PiB7XG4gICAgICAgICAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJSZWNlaXZlZCB1c2VyPVwiLCBlLnVpZCksIGF3YWl0IHRoaXMuYXV0aENyZWRlbnRpYWxMaXN0ZW5lcihlKSwgXG4gICAgICAgICAgICB0aGlzLnVzZXIgPSBlO1xuICAgICAgICB9KSksIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscy5zdGFydChuLCAoZSA9PiAoX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiUmVjZWl2ZWQgbmV3IGFwcCBjaGVjayB0b2tlbj1cIiwgZSksIFxuICAgICAgICB0aGlzLmFwcENoZWNrQ3JlZGVudGlhbExpc3RlbmVyKGUsIHRoaXMudXNlcikpKSk7XG4gICAgfVxuICAgIGdldCBjb25maWd1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXN5bmNRdWV1ZTogdGhpcy5hc3luY1F1ZXVlLFxuICAgICAgICAgICAgZGF0YWJhc2VJbmZvOiB0aGlzLmRhdGFiYXNlSW5mbyxcbiAgICAgICAgICAgIGNsaWVudElkOiB0aGlzLmNsaWVudElkLFxuICAgICAgICAgICAgYXV0aENyZWRlbnRpYWxzOiB0aGlzLmF1dGhDcmVkZW50aWFscyxcbiAgICAgICAgICAgIGFwcENoZWNrQ3JlZGVudGlhbHM6IHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscyxcbiAgICAgICAgICAgIGluaXRpYWxVc2VyOiB0aGlzLnVzZXIsXG4gICAgICAgICAgICBtYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9uczogMTAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIHNldENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lcihlKSB7XG4gICAgICAgIHRoaXMuYXV0aENyZWRlbnRpYWxMaXN0ZW5lciA9IGU7XG4gICAgfVxuICAgIHNldEFwcENoZWNrVG9rZW5DaGFuZ2VMaXN0ZW5lcihlKSB7XG4gICAgICAgIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFsTGlzdGVuZXIgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDaGVja3MgdGhhdCB0aGUgY2xpZW50IGhhcyBub3QgYmVlbiB0ZXJtaW5hdGVkLiBFbnN1cmVzIHRoYXQgb3RoZXIgbWV0aG9kcyBvbiAvL1xuICAgICAqIHRoaXMgY2xhc3MgY2Fubm90IGJlIGNhbGxlZCBhZnRlciB0aGUgY2xpZW50IGlzIHRlcm1pbmF0ZWQuIC8vXG4gICAgICovICAgIHZlcmlmeU5vdFRlcm1pbmF0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmFzeW5jUXVldWUuaXNTaHV0dGluZ0Rvd24pIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiVGhlIGNsaWVudCBoYXMgYWxyZWFkeSBiZWVuIHRlcm1pbmF0ZWQuXCIpO1xuICAgIH1cbiAgICB0ZXJtaW5hdGUoKSB7XG4gICAgICAgIHRoaXMuYXN5bmNRdWV1ZS5lbnRlclJlc3RyaWN0ZWRNb2RlKCk7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgICAgICByZXR1cm4gdGhpcy5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXRFdmVuV2hpbGVSZXN0cmljdGVkKChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHRoaXMuX29ubGluZUNvbXBvbmVudHMgJiYgYXdhaXQgdGhpcy5fb25saW5lQ29tcG9uZW50cy50ZXJtaW5hdGUoKSwgdGhpcy5fb2ZmbGluZUNvbXBvbmVudHMgJiYgYXdhaXQgdGhpcy5fb2ZmbGluZUNvbXBvbmVudHMudGVybWluYXRlKCksIFxuICAgICAgICAgICAgICAgIC8vIFRoZSBjcmVkZW50aWFscyBwcm92aWRlciBtdXN0IGJlIHRlcm1pbmF0ZWQgYWZ0ZXIgc2h1dHRpbmcgZG93biB0aGVcbiAgICAgICAgICAgICAgICAvLyBSZW1vdGVTdG9yZSBhcyBpdCB3aWxsIHByZXZlbnQgdGhlIFJlbW90ZVN0b3JlIGZyb20gcmV0cmlldmluZyBhdXRoXG4gICAgICAgICAgICAgICAgLy8gdG9rZW5zLlxuICAgICAgICAgICAgICAgIHRoaXMuYXV0aENyZWRlbnRpYWxzLnNodXRkb3duKCksIHRoaXMuYXBwQ2hlY2tDcmVkZW50aWFscy5zaHV0ZG93bigpLCBlLnJlc29sdmUoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX3dyYXBJblVzZXJFcnJvcklmUmVjb3ZlcmFibGUodCwgXCJGYWlsZWQgdG8gc2h1dGRvd24gcGVyc2lzdGVuY2VcIik7XG4gICAgICAgICAgICAgICAgZS5yZWplY3Qobik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pKSwgZS5wcm9taXNlO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlcihlLCB0KSB7XG4gICAgZS5hc3luY1F1ZXVlLnZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MoKSwgX19QUklWQVRFX2xvZ0RlYnVnKFwiRmlyZXN0b3JlQ2xpZW50XCIsIFwiSW5pdGlhbGl6aW5nIE9mZmxpbmVDb21wb25lbnRQcm92aWRlclwiKTtcbiAgICBjb25zdCBuID0gZS5jb25maWd1cmF0aW9uO1xuICAgIGF3YWl0IHQuaW5pdGlhbGl6ZShuKTtcbiAgICBsZXQgciA9IG4uaW5pdGlhbFVzZXI7XG4gICAgZS5zZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIoKGFzeW5jIGUgPT4ge1xuICAgICAgICByLmlzRXF1YWwoZSkgfHwgKGF3YWl0IF9fUFJJVkFURV9sb2NhbFN0b3JlSGFuZGxlVXNlckNoYW5nZSh0LmxvY2FsU3RvcmUsIGUpLCByID0gZSk7XG4gICAgfSkpLCBcbiAgICAvLyBXaGVuIGEgdXNlciBjYWxscyBjbGVhclBlcnNpc3RlbmNlKCkgaW4gb25lIGNsaWVudCwgYWxsIG90aGVyIGNsaWVudHNcbiAgICAvLyBuZWVkIHRvIGJlIHRlcm1pbmF0ZWQgdG8gYWxsb3cgdGhlIGRlbGV0ZSB0byBzdWNjZWVkLlxuICAgIHQucGVyc2lzdGVuY2Uuc2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXIoKCgpID0+IGUudGVybWluYXRlKCkpKSwgZS5fb2ZmbGluZUNvbXBvbmVudHMgPSB0O1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfc2V0T25saW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgdCkge1xuICAgIGUuYXN5bmNRdWV1ZS52ZXJpZnlPcGVyYXRpb25JblByb2dyZXNzKCk7XG4gICAgY29uc3QgbiA9IGF3YWl0IF9fUFJJVkFURV9lbnN1cmVPZmZsaW5lQ29tcG9uZW50cyhlKTtcbiAgICBfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJJbml0aWFsaXppbmcgT25saW5lQ29tcG9uZW50UHJvdmlkZXJcIiksIGF3YWl0IHQuaW5pdGlhbGl6ZShuLCBlLmNvbmZpZ3VyYXRpb24pLCBcbiAgICAvLyBUaGUgQ3JlZGVudGlhbENoYW5nZUxpc3RlbmVyIG9mIHRoZSBvbmxpbmUgY29tcG9uZW50IHByb3ZpZGVyIHRha2VzXG4gICAgLy8gcHJlY2VkZW5jZSBvdmVyIHRoZSBvZmZsaW5lIGNvbXBvbmVudCBwcm92aWRlci5cbiAgICBlLnNldENyZWRlbnRpYWxDaGFuZ2VMaXN0ZW5lcigoZSA9PiBfX1BSSVZBVEVfcmVtb3RlU3RvcmVIYW5kbGVDcmVkZW50aWFsQ2hhbmdlKHQucmVtb3RlU3RvcmUsIGUpKSksIFxuICAgIGUuc2V0QXBwQ2hlY2tUb2tlbkNoYW5nZUxpc3RlbmVyKCgoZSwgbikgPT4gX19QUklWQVRFX3JlbW90ZVN0b3JlSGFuZGxlQ3JlZGVudGlhbENoYW5nZSh0LnJlbW90ZVN0b3JlLCBuKSkpLCBcbiAgICBlLl9vbmxpbmVDb21wb25lbnRzID0gdDtcbn1cblxuLyoqXG4gKiBEZWNpZGVzIHdoZXRoZXIgdGhlIHByb3ZpZGVkIGVycm9yIGFsbG93cyB1cyB0byBncmFjZWZ1bGx5IGRpc2FibGVcbiAqIHBlcnNpc3RlbmNlIChhcyBvcHBvc2VkIHRvIGNyYXNoaW5nIHRoZSBjbGllbnQpLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9jYW5GYWxsYmFja0Zyb21JbmRleGVkRGJFcnJvcihlKSB7XG4gICAgcmV0dXJuIFwiRmlyZWJhc2VFcnJvclwiID09PSBlLm5hbWUgPyBlLmNvZGUgPT09IEMuRkFJTEVEX1BSRUNPTkRJVElPTiB8fCBlLmNvZGUgPT09IEMuVU5JTVBMRU1FTlRFRCA6ICEoXCJ1bmRlZmluZWRcIiAhPSB0eXBlb2YgRE9NRXhjZXB0aW9uICYmIGUgaW5zdGFuY2VvZiBET01FeGNlcHRpb24pIHx8IChcbiAgICAvLyBXaGVuIHRoZSBicm93c2VyIGlzIG91dCBvZiBxdW90YSB3ZSBjb3VsZCBnZXQgZWl0aGVyIHF1b3RhIGV4Y2VlZGVkXG4gICAgLy8gb3IgYW4gYWJvcnRlZCBlcnJvciBkZXBlbmRpbmcgb24gd2hldGhlciB0aGUgZXJyb3IgaGFwcGVuZWQgZHVyaW5nXG4gICAgLy8gc2NoZW1hIG1pZ3JhdGlvbi5cbiAgICAyMiA9PT0gZS5jb2RlIHx8IDIwID09PSBlLmNvZGUgfHwgXG4gICAgLy8gRmlyZWZveCBQcml2YXRlIEJyb3dzaW5nIG1vZGUgZGlzYWJsZXMgSW5kZXhlZERiIGFuZCByZXR1cm5zXG4gICAgLy8gSU5WQUxJRF9TVEFURSBmb3IgYW55IHVzYWdlLlxuICAgIDExID09PSBlLmNvZGUpO1xufVxuXG5hc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZW5zdXJlT2ZmbGluZUNvbXBvbmVudHMoZSkge1xuICAgIGlmICghZS5fb2ZmbGluZUNvbXBvbmVudHMpIGlmIChlLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyKSB7XG4gICAgICAgIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmVzdG9yZUNsaWVudFwiLCBcIlVzaW5nIHVzZXIgcHJvdmlkZWQgT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyXCIpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgYXdhaXQgX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlcihlLCBlLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyLl9vZmZsaW5lKTtcbiAgICAgICAgfSBjYXRjaCAodCkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQ7XG4gICAgICAgICAgICBpZiAoIV9fUFJJVkFURV9jYW5GYWxsYmFja0Zyb21JbmRleGVkRGJFcnJvcihuKSkgdGhyb3cgbjtcbiAgICAgICAgICAgIF9fUFJJVkFURV9sb2dXYXJuKFwiRXJyb3IgdXNpbmcgdXNlciBwcm92aWRlZCBjYWNoZS4gRmFsbGluZyBiYWNrIHRvIG1lbW9yeSBjYWNoZTogXCIgKyBuKSwgXG4gICAgICAgICAgICBhd2FpdCBfX1BSSVZBVEVfc2V0T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKGUsIG5ldyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmVzdG9yZUNsaWVudFwiLCBcIlVzaW5nIGRlZmF1bHQgT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLCBcbiAgICBhd2FpdCBfX1BSSVZBVEVfc2V0T2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKGUsIG5ldyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIpO1xuICAgIHJldHVybiBlLl9vZmZsaW5lQ29tcG9uZW50cztcbn1cblxuYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2Vuc3VyZU9ubGluZUNvbXBvbmVudHMoZSkge1xuICAgIHJldHVybiBlLl9vbmxpbmVDb21wb25lbnRzIHx8IChlLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyID8gKF9fUFJJVkFURV9sb2dEZWJ1ZyhcIkZpcmVzdG9yZUNsaWVudFwiLCBcIlVzaW5nIHVzZXIgcHJvdmlkZWQgT25saW5lQ29tcG9uZW50UHJvdmlkZXJcIiksIFxuICAgIGF3YWl0IF9fUFJJVkFURV9zZXRPbmxpbmVDb21wb25lbnRQcm92aWRlcihlLCBlLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyLl9vbmxpbmUpKSA6IChfX1BSSVZBVEVfbG9nRGVidWcoXCJGaXJlc3RvcmVDbGllbnRcIiwgXCJVc2luZyBkZWZhdWx0IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyXCIpLCBcbiAgICBhd2FpdCBfX1BSSVZBVEVfc2V0T25saW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgbmV3IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyKSkpLCBlLl9vbmxpbmVDb21wb25lbnRzO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0UGVyc2lzdGVuY2UoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZW5zdXJlT2ZmbGluZUNvbXBvbmVudHMoZSkudGhlbigoZSA9PiBlLnBlcnNpc3RlbmNlKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRMb2NhbFN0b3JlKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2Vuc3VyZU9mZmxpbmVDb21wb25lbnRzKGUpLnRoZW4oKGUgPT4gZS5sb2NhbFN0b3JlKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXRSZW1vdGVTdG9yZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9lbnN1cmVPbmxpbmVDb21wb25lbnRzKGUpLnRoZW4oKGUgPT4gZS5yZW1vdGVTdG9yZSkpO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZ2V0U3luY0VuZ2luZShlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9lbnN1cmVPbmxpbmVDb21wb25lbnRzKGUpLnRoZW4oKGUgPT4gZS5zeW5jRW5naW5lKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9nZXREYXRhc3RvcmUoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyhlKS50aGVuKChlID0+IGUuZGF0YXN0b3JlKSk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIoZSkge1xuICAgIGNvbnN0IHQgPSBhd2FpdCBfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyhlKSwgbiA9IHQuZXZlbnRNYW5hZ2VyO1xuICAgIHJldHVybiBuLm9uTGlzdGVuID0gX19QUklWQVRFX3N5bmNFbmdpbmVMaXN0ZW4uYmluZChudWxsLCB0LnN5bmNFbmdpbmUpLCBuLm9uVW5saXN0ZW4gPSBfX1BSSVZBVEVfc3luY0VuZ2luZVVubGlzdGVuLmJpbmQobnVsbCwgdC5zeW5jRW5naW5lKSwgXG4gICAgbi5vbkZpcnN0UmVtb3RlU3RvcmVMaXN0ZW4gPSBfX1BSSVZBVEVfdHJpZ2dlclJlbW90ZVN0b3JlTGlzdGVuLmJpbmQobnVsbCwgdC5zeW5jRW5naW5lKSwgXG4gICAgbi5vbkxhc3RSZW1vdGVTdG9yZVVubGlzdGVuID0gX19QUklWQVRFX3RyaWdnZXJSZW1vdGVTdG9yZVVubGlzdGVuLmJpbmQobnVsbCwgdC5zeW5jRW5naW5lKSwgXG4gICAgbjtcbn1cblxuLyoqIEVuYWJsZXMgdGhlIG5ldHdvcmsgY29ubmVjdGlvbiBhbmQgcmUtZW5xdWV1ZXMgYWxsIHBlbmRpbmcgb3BlcmF0aW9ucy4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEVuYWJsZU5ldHdvcmsoZSkge1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB0ID0gYXdhaXQgX19QUklWQVRFX2dldFBlcnNpc3RlbmNlKGUpLCBuID0gYXdhaXQgX19QUklWQVRFX2dldFJlbW90ZVN0b3JlKGUpO1xuICAgICAgICByZXR1cm4gdC5zZXROZXR3b3JrRW5hYmxlZCghMCksIGZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdGVTdG9yZUVuYWJsZU5ldHdvcmsoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICByZXR1cm4gdC5NXy5kZWxldGUoMCAvKiBPZmZsaW5lQ2F1c2UuVXNlckRpc2FibGVkICovKSwgX19QUklWQVRFX2VuYWJsZU5ldHdvcmtJbnRlcm5hbCh0KTtcbiAgICAgICAgfShuKTtcbiAgICB9KSk7XG59XG5cbi8qKiBEaXNhYmxlcyB0aGUgbmV0d29yayBjb25uZWN0aW9uLiBQZW5kaW5nIG9wZXJhdGlvbnMgd2lsbCBub3QgY29tcGxldGUuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnREaXNhYmxlTmV0d29yayhlKSB7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlKChhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHQgPSBhd2FpdCBfX1BSSVZBVEVfZ2V0UGVyc2lzdGVuY2UoZSksIG4gPSBhd2FpdCBfX1BSSVZBVEVfZ2V0UmVtb3RlU3RvcmUoZSk7XG4gICAgICAgIHJldHVybiB0LnNldE5ldHdvcmtFbmFibGVkKCExKSwgYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX3JlbW90ZVN0b3JlRGlzYWJsZU5ldHdvcmsoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSk7XG4gICAgICAgICAgICB0Lk1fLmFkZCgwIC8qIE9mZmxpbmVDYXVzZS5Vc2VyRGlzYWJsZWQgKi8pLCBhd2FpdCBfX1BSSVZBVEVfZGlzYWJsZU5ldHdvcmtJbnRlcm5hbCh0KSwgXG4gICAgICAgICAgICAvLyBTZXQgdGhlIE9ubGluZVN0YXRlIHRvIE9mZmxpbmUgc28gZ2V0KClzIHJldHVybiBmcm9tIGNhY2hlLCBldGMuXG4gICAgICAgICAgICB0Lk5fLnNldChcIk9mZmxpbmVcIiAvKiBPbmxpbmVTdGF0ZS5PZmZsaW5lICovKTtcbiAgICAgICAgfShuKTtcbiAgICB9KSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFsbCB3cml0ZXMgdGhhdCB3ZXJlIHBlbmRpbmcgYXQgdGhlIHRpbWVcbiAqIHRoaXMgbWV0aG9kIHdhcyBjYWxsZWQgcmVjZWl2ZWQgc2VydmVyIGFja25vd2xlZGdlbWVudC4gQW4gYWNrbm93bGVkZ2VtZW50XG4gKiBjYW4gYmUgZWl0aGVyIGFjY2VwdGFuY2Ugb3IgcmVqZWN0aW9uLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudEZyb21Mb2NhbENhY2hlKGUsIHQpIHtcbiAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9yZWFkRG9jdW1lbnRGcm9tQ2FjaGUoZSwgdCwgbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgciA9IGF3YWl0IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlUmVhZERvY3VtZW50KGUsIHQpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcInJlYWQgZG9jdW1lbnRcIiwgXCJyZWFkb25seVwiLCAoZSA9PiBuLmxvY2FsRG9jdW1lbnRzLmdldERvY3VtZW50KGUsIHQpKSk7XG4gICAgICAgICAgICB9KGUsIHQpO1xuICAgICAgICAgICAgci5pc0ZvdW5kRG9jdW1lbnQoKSA/IG4ucmVzb2x2ZShyKSA6IHIuaXNOb0RvY3VtZW50KCkgPyBuLnJlc29sdmUobnVsbCkgOiBuLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTkFWQUlMQUJMRSwgXCJGYWlsZWQgdG8gZ2V0IGRvY3VtZW50IGZyb20gY2FjaGUuIChIb3dldmVyLCB0aGlzIGRvY3VtZW50IG1heSBleGlzdCBvbiB0aGUgc2VydmVyLiBSdW4gYWdhaW4gd2l0aG91dCBzZXR0aW5nICdzb3VyY2UnIGluIHRoZSBHZXRPcHRpb25zIHRvIGF0dGVtcHQgdG8gcmV0cmlldmUgdGhlIGRvY3VtZW50IGZyb20gdGhlIHNlcnZlci4pXCIpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKGUsIGBGYWlsZWQgdG8gZ2V0IGRvY3VtZW50ICcke3R9IGZyb20gY2FjaGVgKTtcbiAgICAgICAgICAgIG4ucmVqZWN0KHIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICogUmV0cmlldmVzIGEgbGF0ZW5jeS1jb21wZW5zYXRlZCBkb2N1bWVudCBmcm9tIHRoZSBiYWNrZW5kIHZpYSBhXG4gKiBTbmFwc2hvdExpc3RlbmVyLlxuICovIChhd2FpdCBfX1BSSVZBVEVfZ2V0TG9jYWxTdG9yZShlKSwgdCwgbikpKSwgbi5wcm9taXNlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRWaWFTbmFwc2hvdExpc3RlbmVyKGUsIHQsIG4gPSB7fSkge1xuICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkO1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX3JlYWREb2N1bWVudFZpYVNuYXBzaG90TGlzdGVuZXIoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICBjb25zdCBzID0gbmV3IF9fUFJJVkFURV9Bc3luY09ic2VydmVyKHtcbiAgICAgICAgICAgIG5leHQ6IHMgPT4ge1xuICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBxdWVyeSBmaXJzdCBiZWZvcmUgcGFzc2luZyBldmVudCB0byB1c2VyIHRvIGF2b2lkXG4gICAgICAgICAgICAgICAgLy8gdXNlciBhY3Rpb25zIGFmZmVjdGluZyB0aGUgbm93IHN0YWxlIHF1ZXJ5LlxuICAgICAgICAgICAgICAgIHQuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gX19QUklWQVRFX2V2ZW50TWFuYWdlclVubGlzdGVuKGUsIG8pKSk7XG4gICAgICAgICAgICAgICAgY29uc3QgXyA9IHMuZG9jcy5oYXMobik7XG4gICAgICAgICAgICAgICAgIV8gJiYgcy5mcm9tQ2FjaGUgPyBcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGRpbW9uZCk6IElmIHdlJ3JlIG9ubGluZSBhbmQgdGhlIGRvY3VtZW50IGRvZXNuJ3RcbiAgICAgICAgICAgICAgICAvLyBleGlzdCB0aGVuIHdlIHJlc29sdmUgd2l0aCBhIGRvYy5leGlzdHMgc2V0IHRvIGZhbHNlLiBJZlxuICAgICAgICAgICAgICAgIC8vIHdlJ3JlIG9mZmxpbmUgaG93ZXZlciwgd2UgcmVqZWN0IHRoZSBQcm9taXNlIGluIHRoaXNcbiAgICAgICAgICAgICAgICAvLyBjYXNlLiBUd28gb3B0aW9uczogMSkgQ2FjaGUgdGhlIG5lZ2F0aXZlIHJlc3BvbnNlIGZyb21cbiAgICAgICAgICAgICAgICAvLyB0aGUgc2VydmVyIHNvIHdlIGNhbiBkZWxpdmVyIHRoYXQgZXZlbiB3aGVuIHlvdSdyZVxuICAgICAgICAgICAgICAgIC8vIG9mZmxpbmUgMikgQWN0dWFsbHkgcmVqZWN0IHRoZSBQcm9taXNlIGluIHRoZSBvbmxpbmUgY2FzZVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBkb2N1bWVudCBkb2Vzbid0IGV4aXN0LlxuICAgICAgICAgICAgICAgIGkucmVqZWN0KG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOQVZBSUxBQkxFLCBcIkZhaWxlZCB0byBnZXQgZG9jdW1lbnQgYmVjYXVzZSB0aGUgY2xpZW50IGlzIG9mZmxpbmUuXCIpKSA6IF8gJiYgcy5mcm9tQ2FjaGUgJiYgciAmJiBcInNlcnZlclwiID09PSByLnNvdXJjZSA/IGkucmVqZWN0KG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOQVZBSUxBQkxFLCAnRmFpbGVkIHRvIGdldCBkb2N1bWVudCBmcm9tIHNlcnZlci4gKEhvd2V2ZXIsIHRoaXMgZG9jdW1lbnQgZG9lcyBleGlzdCBpbiB0aGUgbG9jYWwgY2FjaGUuIFJ1biBhZ2FpbiB3aXRob3V0IHNldHRpbmcgc291cmNlIHRvIFwic2VydmVyXCIgdG8gcmV0cmlldmUgdGhlIGNhY2hlZCBkb2N1bWVudC4pJykpIDogaS5yZXNvbHZlKHMpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBlID0+IGkucmVqZWN0KGUpXG4gICAgICAgIH0pLCBvID0gbmV3IF9fUFJJVkFURV9RdWVyeUxpc3RlbmVyKF9fUFJJVkFURV9uZXdRdWVyeUZvclBhdGgobi5wYXRoKSwgcywge1xuICAgICAgICAgICAgaW5jbHVkZU1ldGFkYXRhQ2hhbmdlczogITAsXG4gICAgICAgICAgICByYTogITBcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyTGlzdGVuKGUsIG8pO1xuICAgIH0oYXdhaXQgX19QUklWQVRFX2dldEV2ZW50TWFuYWdlcihlKSwgZS5hc3luY1F1ZXVlLCB0LCBuLCByKSkpLCByLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudHNGcm9tTG9jYWxDYWNoZShlLCB0KSB7XG4gICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBhc3luYyBmdW5jdGlvbiBfX1BSSVZBVEVfZXhlY3V0ZVF1ZXJ5RnJvbUNhY2hlKGUsIHQsIG4pIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBhd2FpdCBfX1BSSVZBVEVfbG9jYWxTdG9yZUV4ZWN1dGVRdWVyeShlLCB0LCBcbiAgICAgICAgICAgIC8qIHVzZVByZXZpb3VzUmVzdWx0cz0gKi8gITApLCBpID0gbmV3IF9fUFJJVkFURV9WaWV3KHQsIHIuaHMpLCBzID0gaS5kYShyLmRvY3VtZW50cyksIG8gPSBpLmFwcGx5Q2hhbmdlcyhzLCBcbiAgICAgICAgICAgIC8qIGxpbWJvUmVzb2x1dGlvbkVuYWJsZWQ9ICovICExKTtcbiAgICAgICAgICAgIG4ucmVzb2x2ZShvLnNuYXBzaG90KTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV93cmFwSW5Vc2VyRXJyb3JJZlJlY292ZXJhYmxlKGUsIGBGYWlsZWQgdG8gZXhlY3V0ZSBxdWVyeSAnJHt0fSBhZ2FpbnN0IGNhY2hlYCk7XG4gICAgICAgICAgICBuLnJlamVjdChyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAqIFJldHJpZXZlcyBhIGxhdGVuY3ktY29tcGVuc2F0ZWQgcXVlcnkgc25hcHNob3QgZnJvbSB0aGUgYmFja2VuZCB2aWEgYVxuICogU25hcHNob3RMaXN0ZW5lci5cbiAqLyAoYXdhaXQgX19QUklWQVRFX2dldExvY2FsU3RvcmUoZSksIHQsIG4pKSksIG4ucHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c1ZpYVNuYXBzaG90TGlzdGVuZXIoZSwgdCwgbiA9IHt9KSB7XG4gICAgY29uc3QgciA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfZXhlY3V0ZVF1ZXJ5VmlhU25hcHNob3RMaXN0ZW5lcihlLCB0LCBuLCByLCBpKSB7XG4gICAgICAgIGNvbnN0IHMgPSBuZXcgX19QUklWQVRFX0FzeW5jT2JzZXJ2ZXIoe1xuICAgICAgICAgICAgbmV4dDogbiA9PiB7XG4gICAgICAgICAgICAgICAgLy8gUmVtb3ZlIHF1ZXJ5IGZpcnN0IGJlZm9yZSBwYXNzaW5nIGV2ZW50IHRvIHVzZXIgdG8gYXZvaWRcbiAgICAgICAgICAgICAgICAvLyB1c2VyIGFjdGlvbnMgYWZmZWN0aW5nIHRoZSBub3cgc3RhbGUgcXVlcnkuXG4gICAgICAgICAgICAgICAgdC5lbnF1ZXVlQW5kRm9yZ2V0KCgoKSA9PiBfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyVW5saXN0ZW4oZSwgbykpKSwgbi5mcm9tQ2FjaGUgJiYgXCJzZXJ2ZXJcIiA9PT0gci5zb3VyY2UgPyBpLnJlamVjdChuZXcgRmlyZXN0b3JlRXJyb3IoQy5VTkFWQUlMQUJMRSwgJ0ZhaWxlZCB0byBnZXQgZG9jdW1lbnRzIGZyb20gc2VydmVyLiAoSG93ZXZlciwgdGhlc2UgZG9jdW1lbnRzIG1heSBleGlzdCBpbiB0aGUgbG9jYWwgY2FjaGUuIFJ1biBhZ2FpbiB3aXRob3V0IHNldHRpbmcgc291cmNlIHRvIFwic2VydmVyXCIgdG8gcmV0cmlldmUgdGhlIGNhY2hlZCBkb2N1bWVudHMuKScpKSA6IGkucmVzb2x2ZShuKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZSA9PiBpLnJlamVjdChlKVxuICAgICAgICB9KSwgbyA9IG5ldyBfX1BSSVZBVEVfUXVlcnlMaXN0ZW5lcihuLCBzLCB7XG4gICAgICAgICAgICBpbmNsdWRlTWV0YWRhdGFDaGFuZ2VzOiAhMCxcbiAgICAgICAgICAgIHJhOiAhMFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9ldmVudE1hbmFnZXJMaXN0ZW4oZSwgbyk7XG4gICAgfShhd2FpdCBfX1BSSVZBVEVfZ2V0RXZlbnRNYW5hZ2VyKGUpLCBlLmFzeW5jUXVldWUsIHQsIG4sIHIpKSksIHIucHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFJ1bkFnZ3JlZ2F0ZVF1ZXJ5KGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gSW1wbGVtZW50IGFuZCBjYWxsIGV4ZWN1dGVBZ2dyZWdhdGVRdWVyeVZpYVNuYXBzaG90TGlzdGVuZXIsIHNpbWlsYXJcbiAgICAgICAgLy8gdG8gdGhlIGltcGxlbWVudGF0aW9uIGluIGZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c1ZpYVNuYXBzaG90TGlzdGVuZXJcbiAgICAgICAgLy8gYWJvdmVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFRPRE8oYi8yNzc2MjgzODQpOiBjaGVjayBgY2FuVXNlTmV0d29yaygpYCBhbmQgaGFuZGxlIG11bHRpLXRhYi5cbiAgICAgICAgICAgIGNvbnN0IGkgPSBhd2FpdCBfX1BSSVZBVEVfZ2V0RGF0YXN0b3JlKGUpO1xuICAgICAgICAgICAgci5yZXNvbHZlKGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9pbnZva2VSdW5BZ2dyZWdhdGlvblF1ZXJ5UnBjKGUsIHQsIG4pIHtcbiAgICAgICAgICAgICAgICB2YXIgcjtcbiAgICAgICAgICAgICAgICBjb25zdCBpID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwge3JlcXVlc3Q6IHMsIHV0OiBvLCBwYXJlbnQ6IF99ID0gX19QUklWQVRFX3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QoaS5zZXJpYWxpemVyLCBfX1BSSVZBVEVfcXVlcnlUb0FnZ3JlZ2F0ZVRhcmdldCh0KSwgbik7XG4gICAgICAgICAgICAgICAgaS5jb25uZWN0aW9uLkRvIHx8IGRlbGV0ZSBzLnBhcmVudDtcbiAgICAgICAgICAgICAgICBjb25zdCBhID0gKGF3YWl0IGkueG8oXCJSdW5BZ2dyZWdhdGlvblF1ZXJ5XCIsIGkuc2VyaWFsaXplci5kYXRhYmFzZUlkLCBfLCBzLCBcbiAgICAgICAgICAgICAgICAvKmV4cGVjdGVkUmVzcG9uc2VDb3VudD0qLyAxKSkuZmlsdGVyKChlID0+ICEhZS5yZXN1bHQpKTtcbiAgICAgICAgICAgICAgICAvLyBPbWl0IFJ1bkFnZ3JlZ2F0aW9uUXVlcnlSZXNwb25zZSB0aGF0IG9ubHkgY29udGFpbiByZWFkVGltZXMuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV9oYXJkQXNzZXJ0KDEgPT09IGEubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAvLyBSZW1hcCB0aGUgc2hvcnQtZm9ybSBhbGlhc2VzIHRoYXQgd2VyZSBzZW50IHRvIHRoZSBzZXJ2ZXJcbiAgICAgICAgICAgICAgICAvLyB0byB0aGUgY2xpZW50LXNpZGUgYWxpYXNlcy4gVXNlcnMgd2lsbCBhY2Nlc3MgdGhlIHJlc3VsdHNcbiAgICAgICAgICAgICAgICAvLyB1c2luZyB0aGUgY2xpZW50LXNpZGUgYWxpYXMuXG4gICAgICAgICAgICAgICAgY29uc3QgdSA9IG51bGwgPT09IChyID0gYVswXS5yZXN1bHQpIHx8IHZvaWQgMCA9PT0gciA/IHZvaWQgMCA6IHIuYWdncmVnYXRlRmllbGRzO1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh1KS5yZWR1Y2UoKChlLCB0KSA9PiAoZVtvW3RdXSA9IHVbdF0sIGUpKSwge30pO1xuICAgICAgICAgICAgfShpLCB0LCBuKSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHIucmVqZWN0KGUpO1xuICAgICAgICB9XG4gICAgfSkpLCByLnByb21pc2U7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRBZGRTbmFwc2hvdHNJblN5bmNMaXN0ZW5lcihlLCB0KSB7XG4gICAgY29uc3QgbiA9IG5ldyBfX1BSSVZBVEVfQXN5bmNPYnNlcnZlcih0KTtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9hZGRTbmFwc2hvdHNJblN5bmNMaXN0ZW5lcihlLCB0KSB7XG4gICAgICAgIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSkuel8uYWRkKHQpLCBcbiAgICAgICAgLy8gSW1tZWRpYXRlbHkgZmlyZSBhbiBpbml0aWFsIGV2ZW50LCBpbmRpY2F0aW5nIGFsbCBleGlzdGluZyBsaXN0ZW5lcnNcbiAgICAgICAgLy8gYXJlIGluLXN5bmMuXG4gICAgICAgIHQubmV4dCgpO1xuICAgIH0oYXdhaXQgX19QUklWQVRFX2dldEV2ZW50TWFuYWdlcihlKSwgbikpKSwgKCkgPT4ge1xuICAgICAgICBuLiRhKCksIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfcmVtb3ZlU25hcHNob3RzSW5TeW5jTGlzdGVuZXIoZSwgdCkge1xuICAgICAgICAgICAgX19QUklWQVRFX2RlYnVnQ2FzdChlKS56Xy5kZWxldGUodCk7XG4gICAgICAgIH0oYXdhaXQgX19QUklWQVRFX2dldEV2ZW50TWFuYWdlcihlKSwgbikpKTtcbiAgICB9O1xufVxuXG4vKipcbiAqIFRha2VzIGFuIHVwZGF0ZUZ1bmN0aW9uIGluIHdoaWNoIGEgc2V0IG9mIHJlYWRzIGFuZCB3cml0ZXMgY2FuIGJlIHBlcmZvcm1lZFxuICogYXRvbWljYWxseS4gSW4gdGhlIHVwZGF0ZUZ1bmN0aW9uLCB0aGUgY2xpZW50IGNhbiByZWFkIGFuZCB3cml0ZSB2YWx1ZXNcbiAqIHVzaW5nIHRoZSBzdXBwbGllZCB0cmFuc2FjdGlvbiBvYmplY3QuIEFmdGVyIHRoZSB1cGRhdGVGdW5jdGlvbiwgYWxsXG4gKiBjaGFuZ2VzIHdpbGwgYmUgY29tbWl0dGVkLiBJZiBhIHJldHJ5YWJsZSBlcnJvciBvY2N1cnMgKGV4OiBzb21lIG90aGVyXG4gKiBjbGllbnQgaGFzIGNoYW5nZWQgYW55IG9mIHRoZSBkYXRhIHJlZmVyZW5jZWQpLCB0aGVuIHRoZSB1cGRhdGVGdW5jdGlvblxuICogd2lsbCBiZSBjYWxsZWQgYWdhaW4gYWZ0ZXIgYSBiYWNrb2ZmLiBJZiB0aGUgdXBkYXRlRnVuY3Rpb24gc3RpbGwgZmFpbHNcbiAqIGFmdGVyIGFsbCByZXRyaWVzLCB0aGVuIHRoZSB0cmFuc2FjdGlvbiB3aWxsIGJlIHJlamVjdGVkLlxuICpcbiAqIFRoZSB0cmFuc2FjdGlvbiBvYmplY3QgcGFzc2VkIHRvIHRoZSB1cGRhdGVGdW5jdGlvbiBjb250YWlucyBtZXRob2RzIGZvclxuICogYWNjZXNzaW5nIGRvY3VtZW50cyBhbmQgY29sbGVjdGlvbnMuIFVubGlrZSBvdGhlciBkYXRhc3RvcmUgYWNjZXNzLCBkYXRhXG4gKiBhY2Nlc3NlZCB3aXRoIHRoZSB0cmFuc2FjdGlvbiB3aWxsIG5vdCByZWZsZWN0IGxvY2FsIGNoYW5nZXMgdGhhdCBoYXZlIG5vdFxuICogYmVlbiBjb21taXR0ZWQuIEZvciB0aGlzIHJlYXNvbiwgaXQgaXMgcmVxdWlyZWQgdGhhdCBhbGwgcmVhZHMgYXJlXG4gKiBwZXJmb3JtZWQgYmVmb3JlIGFueSB3cml0ZXMuIFRyYW5zYWN0aW9ucyBtdXN0IGJlIHBlcmZvcm1lZCB3aGlsZSBvbmxpbmUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudExvYWRCdW5kbGUoZSwgdCwgbiwgcikge1xuICAgIGNvbnN0IGkgPSBmdW5jdGlvbiBfX1BSSVZBVEVfY3JlYXRlQnVuZGxlUmVhZGVyKGUsIHQpIHtcbiAgICAgICAgbGV0IG47XG4gICAgICAgIG4gPSBcInN0cmluZ1wiID09IHR5cGVvZiBlID8gX19QUklWQVRFX25ld1RleHRFbmNvZGVyKCkuZW5jb2RlKGUpIDogZTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdCdW5kbGVSZWFkZXIoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfQnVuZGxlUmVhZGVySW1wbChlLCB0KTtcbiAgICAgICAgfShmdW5jdGlvbiBfX1BSSVZBVEVfdG9CeXRlU3RyZWFtUmVhZGVyKGUsIHQpIHtcbiAgICAgICAgICAgIGlmIChlIGluc3RhbmNlb2YgVWludDhBcnJheSkgcmV0dXJuIF9fUFJJVkFURV90b0J5dGVTdHJlYW1SZWFkZXJIZWxwZXIoZSwgdCk7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSByZXR1cm4gX19QUklWQVRFX3RvQnl0ZVN0cmVhbVJlYWRlckhlbHBlcihuZXcgVWludDhBcnJheShlKSwgdCk7XG4gICAgICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFJlYWRhYmxlU3RyZWFtKSByZXR1cm4gZS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlNvdXJjZSBvZiBgdG9CeXRlU3RyZWFtUmVhZGVyYCBoYXMgdG8gYmUgYSBBcnJheUJ1ZmZlciBvciBSZWFkYWJsZVN0cmVhbVwiKTtcbiAgICAgICAgfShuKSwgdCk7XG4gICAgfShuLCBfX1BSSVZBVEVfbmV3U2VyaWFsaXplcih0KSk7XG4gICAgZS5hc3luY1F1ZXVlLmVucXVldWVBbmRGb3JnZXQoKGFzeW5jICgpID0+IHtcbiAgICAgICAgX19QUklWQVRFX3N5bmNFbmdpbmVMb2FkQnVuZGxlKGF3YWl0IF9fUFJJVkFURV9nZXRTeW5jRW5naW5lKGUpLCBpLCByKTtcbiAgICB9KSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXROYW1lZFF1ZXJ5KGUsIHQpIHtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWUoKGFzeW5jICgpID0+IGZ1bmN0aW9uIF9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TmFtZWRRdWVyeShlLCB0KSB7XG4gICAgICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfZGVidWdDYXN0KGUpO1xuICAgICAgICByZXR1cm4gbi5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkdldCBuYW1lZCBxdWVyeVwiLCBcInJlYWRvbmx5XCIsIChlID0+IG4uJHIuZ2V0TmFtZWRRdWVyeShlLCB0KSkpO1xuICAgIH0oYXdhaXQgX19QUklWQVRFX2dldExvY2FsU3RvcmUoZSksIHQpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRTZXRJbmRleENvbmZpZ3VyYXRpb24oZSwgdCkge1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4gYXN5bmMgZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVDb25maWd1cmVGaWVsZEluZGV4ZXMoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgciA9IG4uaW5kZXhNYW5hZ2VyLCBpID0gW107XG4gICAgICAgIHJldHVybiBuLnBlcnNpc3RlbmNlLnJ1blRyYW5zYWN0aW9uKFwiQ29uZmlndXJlIGluZGV4ZXNcIiwgXCJyZWFkd3JpdGVcIiwgKGUgPT4gci5nZXRGaWVsZEluZGV4ZXMoZSkubmV4dCgobiA9PiBcbiAgICAgICAgLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbiAgICAgICAgLyoqXG4gKiBDb21wYXJlcyB0d28gYXJyYXkgZm9yIGVxdWFsaXR5IHVzaW5nIGNvbXBhcmF0b3IuIFRoZSBtZXRob2QgY29tcHV0ZXMgdGhlXG4gKiBpbnRlcnNlY3Rpb24gYW5kIGludm9rZXMgYG9uQWRkYCBmb3IgZXZlcnkgZWxlbWVudCB0aGF0IGlzIGluIGBhZnRlcmAgYnV0IG5vdFxuICogYGJlZm9yZWAuIGBvblJlbW92ZWAgaXMgaW52b2tlZCBmb3IgZXZlcnkgZWxlbWVudCBpbiBgYmVmb3JlYCBidXQgbWlzc2luZ1xuICogZnJvbSBgYWZ0ZXJgLlxuICpcbiAqIFRoZSBtZXRob2QgY3JlYXRlcyBhIGNvcHkgb2YgYm90aCBgYmVmb3JlYCBhbmQgYGFmdGVyYCBhbmQgcnVucyBpbiBPKG4gbG9nXG4gKiBuKSwgd2hlcmUgbiBpcyB0aGUgc2l6ZSBvZiB0aGUgdHdvIGxpc3RzLlxuICpcbiAqIEBwYXJhbSBiZWZvcmUgLSBUaGUgZWxlbWVudHMgdGhhdCBleGlzdCBpbiB0aGUgb3JpZ2luYWwgYXJyYXkuXG4gKiBAcGFyYW0gYWZ0ZXIgLSBUaGUgZWxlbWVudHMgdG8gZGlmZiBhZ2FpbnN0IHRoZSBvcmlnaW5hbCBhcnJheS5cbiAqIEBwYXJhbSBjb21wYXJhdG9yIC0gVGhlIGNvbXBhcmF0b3IgZm9yIHRoZSBlbGVtZW50cyBpbiBiZWZvcmUgYW5kIGFmdGVyLlxuICogQHBhcmFtIG9uQWRkIC0gQSBmdW5jdGlvbiB0byBpbnZva2UgZm9yIGV2ZXJ5IGVsZW1lbnQgdGhhdCBpcyBwYXJ0IG9mIGBcbiAqIGFmdGVyYCBidXQgbm90IGBiZWZvcmVgLlxuICogQHBhcmFtIG9uUmVtb3ZlIC0gQSBmdW5jdGlvbiB0byBpbnZva2UgZm9yIGV2ZXJ5IGVsZW1lbnQgdGhhdCBpcyBwYXJ0IG9mXG4gKiBgYmVmb3JlYCBidXQgbm90IGBhZnRlcmAuXG4gKi9cbiAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX2RpZmZBcnJheXMoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICAgICAgZSA9IFsgLi4uZSBdLCB0ID0gWyAuLi50IF0sIGUuc29ydChuKSwgdC5zb3J0KG4pO1xuICAgICAgICAgICAgY29uc3QgcyA9IGUubGVuZ3RoLCBvID0gdC5sZW5ndGg7XG4gICAgICAgICAgICBsZXQgXyA9IDAsIGEgPSAwO1xuICAgICAgICAgICAgZm9yICg7XyA8IG8gJiYgYSA8IHM7ICkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHMgPSBuKGVbYV0sIHRbX10pO1xuICAgICAgICAgICAgICAgIHMgPCAwID8gXG4gICAgICAgICAgICAgICAgLy8gVGhlIGVsZW1lbnQgd2FzIHJlbW92ZWQgaWYgdGhlIG5leHQgZWxlbWVudCBpbiBvdXIgb3JkZXJlZFxuICAgICAgICAgICAgICAgIC8vIHdhbGt0aHJvdWdoIGlzIG9ubHkgaW4gYGJlZm9yZWAuXG4gICAgICAgICAgICAgICAgaShlW2ErK10pIDogcyA+IDAgPyBcbiAgICAgICAgICAgICAgICAvLyBUaGUgZWxlbWVudCB3YXMgYWRkZWQgaWYgdGhlIG5leHQgZWxlbWVudCBpbiBvdXIgb3JkZXJlZCB3YWxrdGhyb3VnaFxuICAgICAgICAgICAgICAgIC8vIGlzIG9ubHkgaW4gYGFmdGVyYC5cbiAgICAgICAgICAgICAgICByKHRbXysrXSkgOiAoXysrLCBhKyspO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICg7XyA8IG87ICkgcih0W18rK10pO1xuICAgICAgICAgICAgZm9yICg7YSA8IHM7ICkgaShlW2ErK10pO1xuICAgICAgICB9KG4sIHQsIF9fUFJJVkFURV9maWVsZEluZGV4U2VtYW50aWNDb21wYXJhdG9yLCAodCA9PiB7XG4gICAgICAgICAgICBpLnB1c2goci5hZGRGaWVsZEluZGV4KGUsIHQpKTtcbiAgICAgICAgfSksICh0ID0+IHtcbiAgICAgICAgICAgIGkucHVzaChyLmRlbGV0ZUZpZWxkSW5kZXgoZSwgdCkpO1xuICAgICAgICB9KSkpKS5uZXh0KCgoKSA9PiBQZXJzaXN0ZW5jZVByb21pc2Uud2FpdEZvcihpKSkpKSk7XG4gICAgfShhd2FpdCBfX1BSSVZBVEVfZ2V0TG9jYWxTdG9yZShlKSwgdCkpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFNldFBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uRW5hYmxlZChlLCB0KSB7XG4gICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlKChhc3luYyAoKSA9PiBmdW5jdGlvbiBfX1BSSVZBVEVfbG9jYWxTdG9yZVNldEluZGV4QXV0b0NyZWF0aW9uRW5hYmxlZChlLCB0KSB7XG4gICAgICAgIF9fUFJJVkFURV9kZWJ1Z0Nhc3QoZSkudHMuVWkgPSB0O1xuICAgIH0oYXdhaXQgX19QUklWQVRFX2dldExvY2FsU3RvcmUoZSksIHQpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnREZWxldGVBbGxGaWVsZEluZGV4ZXMoZSkge1xuICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZSgoYXN5bmMgKCkgPT4gZnVuY3Rpb24gX19QUklWQVRFX2xvY2FsU3RvcmVEZWxldGVBbGxGaWVsZEluZGV4ZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX2RlYnVnQ2FzdChlKSwgbiA9IHQuaW5kZXhNYW5hZ2VyO1xuICAgICAgICByZXR1cm4gdC5wZXJzaXN0ZW5jZS5ydW5UcmFuc2FjdGlvbihcIkRlbGV0ZSBBbGwgSW5kZXhlc1wiLCBcInJlYWR3cml0ZVwiLCAoZSA9PiBuLmRlbGV0ZUFsbEZpZWxkSW5kZXhlcyhlKSkpO1xuICAgIH1cbiAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuICAgIC8vIFRoZSBmb3JtYXQgb2YgdGhlIExvY2FsU3RvcmFnZSBrZXkgdGhhdCBzdG9yZXMgdGhlIGNsaWVudCBzdGF0ZSBpczpcbiAgICAvLyAgICAgZmlyZXN0b3JlX2NsaWVudHNfPHBlcnNpc3RlbmNlX3ByZWZpeD5fPGluc3RhbmNlX2tleT5cbiAgICAoYXdhaXQgX19QUklWQVRFX2dldExvY2FsU3RvcmUoZSkpKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENvbXBhcmVzIHR3byBgRXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zYCBvYmplY3RzIGZvciBlcXVhbGl0eS5cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGFuZCByZXR1cm5zIGEgbmV3IGBFeHBlcmltZW50YWxMb25nUG9sbGluZ09wdGlvbnNgIHdpdGggdGhlIHNhbWVcbiAqIG9wdGlvbiB2YWx1ZXMgYXMgdGhlIGdpdmVuIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfY2xvbmVMb25nUG9sbGluZ09wdGlvbnMoZSkge1xuICAgIGNvbnN0IHQgPSB7fTtcbiAgICByZXR1cm4gdm9pZCAwICE9PSBlLnRpbWVvdXRTZWNvbmRzICYmICh0LnRpbWVvdXRTZWNvbmRzID0gZS50aW1lb3V0U2Vjb25kcyksIHQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IHllID0gbmV3IE1hcDtcblxuLyoqXG4gKiBBbiBpbnN0YW5jZSBtYXAgdGhhdCBlbnN1cmVzIG9ubHkgb25lIERhdGFzdG9yZSBleGlzdHMgcGVyIEZpcmVzdG9yZVxuICogaW5zdGFuY2UuXG4gKi9cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVOb25FbXB0eUFyZ3VtZW50KGUsIHQsIG4pIHtcbiAgICBpZiAoIW4pIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBGdW5jdGlvbiAke2V9KCkgY2Fubm90IGJlIGNhbGxlZCB3aXRoIGFuIGVtcHR5ICR7dH0uYCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgdHdvIGJvb2xlYW4gb3B0aW9ucyBhcmUgbm90IHNldCBhdCB0aGUgc2FtZSB0aW1lLlxuICogQGludGVybmFsXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIoZSwgdCwgbiwgcikge1xuICAgIGlmICghMCA9PT0gdCAmJiAhMCA9PT0gcikgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYCR7ZX0gYW5kICR7bn0gY2Fubm90IGJlIHVzZWQgdG9nZXRoZXIuYCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgYHBhdGhgIHJlZmVycyB0byBhIGRvY3VtZW50IChpbmRpY2F0ZWQgYnkgdGhlIGZhY3QgaXQgY29udGFpbnNcbiAqIGFuIGV2ZW4gbnVtYmVycyBvZiBzZWdtZW50cykuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlRG9jdW1lbnRQYXRoKGUpIHtcbiAgICBpZiAoIURvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkoZSkpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIGRvY3VtZW50IHJlZmVyZW5jZS4gRG9jdW1lbnQgcmVmZXJlbmNlcyBtdXN0IGhhdmUgYW4gZXZlbiBudW1iZXIgb2Ygc2VnbWVudHMsIGJ1dCAke2V9IGhhcyAke2UubGVuZ3RofS5gKTtcbn1cblxuLyoqXG4gKiBWYWxpZGF0ZXMgdGhhdCBgcGF0aGAgcmVmZXJzIHRvIGEgY29sbGVjdGlvbiAoaW5kaWNhdGVkIGJ5IHRoZSBmYWN0IGl0XG4gKiBjb250YWlucyBhbiBvZGQgbnVtYmVycyBvZiBzZWdtZW50cykuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlQ29sbGVjdGlvblBhdGgoZSkge1xuICAgIGlmIChEb2N1bWVudEtleS5pc0RvY3VtZW50S2V5KGUpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBjb2xsZWN0aW9uIHJlZmVyZW5jZS4gQ29sbGVjdGlvbiByZWZlcmVuY2VzIG11c3QgaGF2ZSBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzLCBidXQgJHtlfSBoYXMgJHtlLmxlbmd0aH0uYCk7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGl0J3MgYSBub24tbnVsbCBvYmplY3Qgd2l0aG91dCBhIGN1c3RvbSBwcm90b3R5cGVcbiAqIChpLmUuIGV4Y2x1ZGVzIEFycmF5LCBEYXRlLCBldGMuKS5cbiAqL1xuLyoqIFJldHVybnMgYSBzdHJpbmcgZGVzY3JpYmluZyB0aGUgdHlwZSAvIHZhbHVlIG9mIHRoZSBwcm92aWRlZCBpbnB1dC4gKi9cbmZ1bmN0aW9uIF9fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uKGUpIHtcbiAgICBpZiAodm9pZCAwID09PSBlKSByZXR1cm4gXCJ1bmRlZmluZWRcIjtcbiAgICBpZiAobnVsbCA9PT0gZSkgcmV0dXJuIFwibnVsbFwiO1xuICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiBlKSByZXR1cm4gZS5sZW5ndGggPiAyMCAmJiAoZSA9IGAke2Uuc3Vic3RyaW5nKDAsIDIwKX0uLi5gKSwgXG4gICAgSlNPTi5zdHJpbmdpZnkoZSk7XG4gICAgaWYgKFwibnVtYmVyXCIgPT0gdHlwZW9mIGUgfHwgXCJib29sZWFuXCIgPT0gdHlwZW9mIGUpIHJldHVybiBcIlwiICsgZTtcbiAgICBpZiAoXCJvYmplY3RcIiA9PSB0eXBlb2YgZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEFycmF5KSByZXR1cm4gXCJhbiBhcnJheVwiO1xuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0ID0gXG4gICAgICAgICAgICAvKiogdHJ5IHRvIGdldCB0aGUgY29uc3RydWN0b3IgbmFtZSBmb3IgYW4gb2JqZWN0LiAqL1xuICAgICAgICAgICAgZnVuY3Rpb24gX19QUklWQVRFX3RyeUdldEN1c3RvbU9iamVjdFR5cGUoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLmNvbnN0cnVjdG9yKSByZXR1cm4gZS5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLyoqXG4gKiBDYXN0cyBgb2JqYCB0byBgVGAsIG9wdGlvbmFsbHkgdW53cmFwcGluZyBDb21wYXQgdHlwZXMgdG8gZXhwb3NlIHRoZVxuICogdW5kZXJseWluZyBpbnN0YW5jZS4gVGhyb3dzIGlmICBgb2JqYCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgYFRgLlxuICpcbiAqIFRoaXMgY2FzdCBpcyB1c2VkIGluIHRoZSBMaXRlIGFuZCBGdWxsIFNESyB0byB2ZXJpZnkgaW5zdGFuY2UgdHlwZXMgZm9yXG4gKiBhcmd1bWVudHMgcGFzc2VkIHRvIHRoZSBwdWJsaWMgQVBJLlxuICogQGludGVybmFsXG4gKi8gKGUpO1xuICAgICAgICAgICAgcmV0dXJuIHQgPyBgYSBjdXN0b20gJHt0fSBvYmplY3RgIDogXCJhbiBvYmplY3RcIjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJmdW5jdGlvblwiID09IHR5cGVvZiBlID8gXCJhIGZ1bmN0aW9uXCIgOiBmYWlsKCk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jYXN0KGUsIFxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbnQpIHtcbiAgICBpZiAoXCJfZGVsZWdhdGVcIiBpbiBlICYmIChcbiAgICAvLyBVbndyYXAgQ29tcGF0IHR5cGVzXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcbiAgICBlID0gZS5fZGVsZWdhdGUpLCAhKGUgaW5zdGFuY2VvZiB0KSkge1xuICAgICAgICBpZiAodC5uYW1lID09PSBlLmNvbnN0cnVjdG9yLm5hbWUpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiVHlwZSBkb2VzIG5vdCBtYXRjaCB0aGUgZXhwZWN0ZWQgaW5zdGFuY2UuIERpZCB5b3UgcGFzcyBhIHJlZmVyZW5jZSBmcm9tIGEgZGlmZmVyZW50IEZpcmVzdG9yZSBTREs/XCIpO1xuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBuID0gX19QUklWQVRFX3ZhbHVlRGVzY3JpcHRpb24oZSk7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgRXhwZWN0ZWQgdHlwZSAnJHt0Lm5hbWV9JywgYnV0IGl0IHdhczogJHtufWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBlO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVQb3NpdGl2ZU51bWJlcihlLCB0KSB7XG4gICAgaWYgKHQgPD0gMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEZ1bmN0aW9uICR7ZX0oKSByZXF1aXJlcyBhIHBvc2l0aXZlIG51bWJlciwgYnV0IGl0IHdhczogJHt0fS5gKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIHNldHRpbmdzKCkgZGVmYXVsdHM6XG4vKipcbiAqIEEgY29uY3JldGUgdHlwZSBkZXNjcmliaW5nIGFsbCB0aGUgdmFsdWVzIHRoYXQgY2FuIGJlIGFwcGxpZWQgdmlhIGFcbiAqIHVzZXItc3VwcGxpZWQgYEZpcmVzdG9yZVNldHRpbmdzYCBvYmplY3QuIFRoaXMgaXMgYSBzZXBhcmF0ZSB0eXBlIHNvIHRoYXRcbiAqIGRlZmF1bHRzIGNhbiBiZSBzdXBwbGllZCBhbmQgdGhlIHZhbHVlIGNhbiBiZSBjaGVja2VkIGZvciBlcXVhbGl0eS5cbiAqL1xuY2xhc3MgRmlyZXN0b3JlU2V0dGluZ3NJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHZhciB0LCBuO1xuICAgICAgICBpZiAodm9pZCAwID09PSBlLmhvc3QpIHtcbiAgICAgICAgICAgIGlmICh2b2lkIDAgIT09IGUuc3NsKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkNhbid0IHByb3ZpZGUgc3NsIG9wdGlvbiBpZiBob3N0IG9wdGlvbiBpcyBub3Qgc2V0XCIpO1xuICAgICAgICAgICAgdGhpcy5ob3N0ID0gXCJmaXJlc3RvcmUuZ29vZ2xlYXBpcy5jb21cIiwgdGhpcy5zc2wgPSB0cnVlO1xuICAgICAgICB9IGVsc2UgdGhpcy5ob3N0ID0gZS5ob3N0LCB0aGlzLnNzbCA9IG51bGwgPT09ICh0ID0gZS5zc2wpIHx8IHZvaWQgMCA9PT0gdCB8fCB0O1xuICAgICAgICBpZiAodGhpcy5jcmVkZW50aWFscyA9IGUuY3JlZGVudGlhbHMsIHRoaXMuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyA9ICEhZS5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzLCBcbiAgICAgICAgdGhpcy5sb2NhbENhY2hlID0gZS5sb2NhbENhY2hlLCB2b2lkIDAgPT09IGUuY2FjaGVTaXplQnl0ZXMpIHRoaXMuY2FjaGVTaXplQnl0ZXMgPSA0MTk0MzA0MDsgZWxzZSB7XG4gICAgICAgICAgICBpZiAoLTEgIT09IGUuY2FjaGVTaXplQnl0ZXMgJiYgZS5jYWNoZVNpemVCeXRlcyA8IDEwNDg1NzYpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiY2FjaGVTaXplQnl0ZXMgbXVzdCBiZSBhdCBsZWFzdCAxMDQ4NTc2XCIpO1xuICAgICAgICAgICAgdGhpcy5jYWNoZVNpemVCeXRlcyA9IGUuY2FjaGVTaXplQnl0ZXM7XG4gICAgICAgIH1cbiAgICAgICAgX19QUklWQVRFX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIoXCJleHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nXCIsIGUuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZywgXCJleHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmdcIiwgZS5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcpLCBcbiAgICAgICAgdGhpcy5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nID0gISFlLmV4cGVyaW1lbnRhbEZvcmNlTG9uZ1BvbGxpbmcsIHRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyA/IHRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nID0gITEgOiB2b2lkIDAgPT09IGUuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nID8gdGhpcy5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcgPSB0cnVlIDogXG4gICAgICAgIC8vIEZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgY29lcmNlIHRoZSB2YWx1ZSB0byBib29sZWFuIGV2ZW4gdGhvdWdoXG4gICAgICAgIC8vIHRoZSBUeXBlU2NyaXB0IGNvbXBpbGVyIGhhcyBuYXJyb3dlZCB0aGUgdHlwZSB0byBib29sZWFuIGFscmVhZHkuXG4gICAgICAgIC8vIG5vaW5zcGVjdGlvbiBQb2ludGxlc3NCb29sZWFuRXhwcmVzc2lvbkpTXG4gICAgICAgIHRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nID0gISFlLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZywgXG4gICAgICAgIHRoaXMuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zID0gX19QUklWQVRFX2Nsb25lTG9uZ1BvbGxpbmdPcHRpb25zKG51bGwgIT09IChuID0gZS5leHBlcmltZW50YWxMb25nUG9sbGluZ09wdGlvbnMpICYmIHZvaWQgMCAhPT0gbiA/IG4gOiB7fSksIFxuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVMb25nUG9sbGluZ09wdGlvbnMoZSkge1xuICAgICAgICAgICAgaWYgKHZvaWQgMCAhPT0gZS50aW1lb3V0U2Vjb25kcykge1xuICAgICAgICAgICAgICAgIGlmIChpc05hTihlLnRpbWVvdXRTZWNvbmRzKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYGludmFsaWQgbG9uZyBwb2xsaW5nIHRpbWVvdXQ6ICR7ZS50aW1lb3V0U2Vjb25kc30gKG11c3Qgbm90IGJlIE5hTilgKTtcbiAgICAgICAgICAgICAgICBpZiAoZS50aW1lb3V0U2Vjb25kcyA8IDUpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBpbnZhbGlkIGxvbmcgcG9sbGluZyB0aW1lb3V0OiAke2UudGltZW91dFNlY29uZHN9IChtaW5pbXVtIGFsbG93ZWQgdmFsdWUgaXMgNSlgKTtcbiAgICAgICAgICAgICAgICBpZiAoZS50aW1lb3V0U2Vjb25kcyA+IDMwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgaW52YWxpZCBsb25nIHBvbGxpbmcgdGltZW91dDogJHtlLnRpbWVvdXRTZWNvbmRzfSAobWF4aW11bSBhbGxvd2VkIHZhbHVlIGlzIDMwKWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4gICAgICAgIC8qKlxuICogVGhlIENsb3VkIEZpcmVzdG9yZSBzZXJ2aWNlIGludGVyZmFjZS5cbiAqXG4gKiBEbyBub3QgY2FsbCB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBJbnN0ZWFkLCB1c2Uge0BsaW5rIChnZXRGaXJlc3RvcmU6MSl9LlxuICovICh0aGlzLmV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9ucyksIHRoaXMudXNlRmV0Y2hTdHJlYW1zID0gISFlLnVzZUZldGNoU3RyZWFtcztcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhvc3QgPT09IGUuaG9zdCAmJiB0aGlzLnNzbCA9PT0gZS5zc2wgJiYgdGhpcy5jcmVkZW50aWFscyA9PT0gZS5jcmVkZW50aWFscyAmJiB0aGlzLmNhY2hlU2l6ZUJ5dGVzID09PSBlLmNhY2hlU2l6ZUJ5dGVzICYmIHRoaXMuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZyA9PT0gZS5leHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nICYmIHRoaXMuZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nID09PSBlLmV4cGVyaW1lbnRhbEF1dG9EZXRlY3RMb25nUG9sbGluZyAmJiBmdW5jdGlvbiBfX1BSSVZBVEVfbG9uZ1BvbGxpbmdPcHRpb25zRXF1YWwoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIGUudGltZW91dFNlY29uZHMgPT09IHQudGltZW91dFNlY29uZHM7XG4gICAgICAgIH0odGhpcy5leHBlcmltZW50YWxMb25nUG9sbGluZ09wdGlvbnMsIGUuZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zKSAmJiB0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMgPT09IGUuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyAmJiB0aGlzLnVzZUZldGNoU3RyZWFtcyA9PT0gZS51c2VGZXRjaFN0cmVhbXM7XG4gICAgfVxufVxuXG5jbGFzcyBGaXJlc3RvcmUkMSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMuX2F1dGhDcmVkZW50aWFscyA9IGUsIHRoaXMuX2FwcENoZWNrQ3JlZGVudGlhbHMgPSB0LCB0aGlzLl9kYXRhYmFzZUlkID0gbiwgXG4gICAgICAgIHRoaXMuX2FwcCA9IHIsIFxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBpdCdzIGEgRmlyZXN0b3JlIG9yIEZpcmVzdG9yZSBMaXRlIGluc3RhbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJmaXJlc3RvcmUtbGl0ZVwiLCB0aGlzLl9wZXJzaXN0ZW5jZUtleSA9IFwiKGxpdGUpXCIsIHRoaXMuX3NldHRpbmdzID0gbmV3IEZpcmVzdG9yZVNldHRpbmdzSW1wbCh7fSksIFxuICAgICAgICB0aGlzLl9zZXR0aW5nc0Zyb3plbiA9ICExO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IGFzc29jaWF0ZWQgd2l0aCB0aGlzIGBGaXJlc3RvcmVgIHNlcnZpY2VcbiAgICAgKiBpbnN0YW5jZS5cbiAgICAgKi8gICAgZ2V0IGFwcCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hcHApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiRmlyZXN0b3JlIHdhcyBub3QgaW5pdGlhbGl6ZWQgdXNpbmcgdGhlIEZpcmViYXNlIFNESy4gJ2FwcCcgaXMgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FwcDtcbiAgICB9XG4gICAgZ2V0IF9pbml0aWFsaXplZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzRnJvemVuO1xuICAgIH1cbiAgICBnZXQgX3Rlcm1pbmF0ZWQoKSB7XG4gICAgICAgIHJldHVybiB2b2lkIDAgIT09IHRoaXMuX3Rlcm1pbmF0ZVRhc2s7XG4gICAgfVxuICAgIF9zZXRTZXR0aW5ncyhlKSB7XG4gICAgICAgIGlmICh0aGlzLl9zZXR0aW5nc0Zyb3plbikgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJGaXJlc3RvcmUgaGFzIGFscmVhZHkgYmVlbiBzdGFydGVkIGFuZCBpdHMgc2V0dGluZ3MgY2FuIG5vIGxvbmdlciBiZSBjaGFuZ2VkLiBZb3UgY2FuIG9ubHkgbW9kaWZ5IHNldHRpbmdzIGJlZm9yZSBjYWxsaW5nIGFueSBvdGhlciBtZXRob2RzIG9uIGEgRmlyZXN0b3JlIG9iamVjdC5cIik7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0gbmV3IEZpcmVzdG9yZVNldHRpbmdzSW1wbChlKSwgdm9pZCAwICE9PSBlLmNyZWRlbnRpYWxzICYmICh0aGlzLl9hdXRoQ3JlZGVudGlhbHMgPSBmdW5jdGlvbiBfX1BSSVZBVEVfbWFrZUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyKGUpIHtcbiAgICAgICAgICAgIGlmICghZSkgcmV0dXJuIG5ldyBfX1BSSVZBVEVfRW1wdHlBdXRoQ3JlZGVudGlhbHNQcm92aWRlcjtcbiAgICAgICAgICAgIHN3aXRjaCAoZS50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJmaXJzdFBhcnR5XCI6XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfRmlyc3RQYXJ0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyKGUuc2Vzc2lvbkluZGV4IHx8IFwiMFwiLCBlLmlhbVRva2VuIHx8IG51bGwsIGUuYXV0aFRva2VuRmFjdG9yeSB8fCBudWxsKTtcblxuICAgICAgICAgICAgICBjYXNlIFwicHJvdmlkZXJcIjpcbiAgICAgICAgICAgICAgICByZXR1cm4gZS5jbGllbnQ7XG5cbiAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIm1ha2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlciBmYWlsZWQgZHVlIHRvIGludmFsaWQgY3JlZGVudGlhbCB0eXBlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KGUuY3JlZGVudGlhbHMpKTtcbiAgICB9XG4gICAgX2dldFNldHRpbmdzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2V0dGluZ3M7XG4gICAgfVxuICAgIF9mcmVlemVTZXR0aW5ncygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzRnJvemVuID0gITAsIHRoaXMuX3NldHRpbmdzO1xuICAgIH1cbiAgICBfZGVsZXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGVybWluYXRlVGFzayB8fCAodGhpcy5fdGVybWluYXRlVGFzayA9IHRoaXMuX3Rlcm1pbmF0ZSgpKSwgdGhpcy5fdGVybWluYXRlVGFzaztcbiAgICB9XG4gICAgLyoqIFJldHVybnMgYSBKU09OLXNlcmlhbGl6YWJsZSByZXByZXNlbnRhdGlvbiBvZiB0aGlzIGBGaXJlc3RvcmVgIGluc3RhbmNlLiAqLyAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhcHA6IHRoaXMuX2FwcCxcbiAgICAgICAgICAgIGRhdGFiYXNlSWQ6IHRoaXMuX2RhdGFiYXNlSWQsXG4gICAgICAgICAgICBzZXR0aW5nczogdGhpcy5fc2V0dGluZ3NcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGVybWluYXRlcyBhbGwgY29tcG9uZW50cyB1c2VkIGJ5IHRoaXMgY2xpZW50LiBTdWJjbGFzc2VzIGNhbiBvdmVycmlkZVxuICAgICAqIHRoaXMgbWV0aG9kIHRvIGNsZWFuIHVwIHRoZWlyIG93biBkZXBlbmRlbmNpZXMsIGJ1dCBtdXN0IGFsc28gY2FsbCB0aGlzXG4gICAgICogbWV0aG9kLlxuICAgICAqXG4gICAgICogT25seSBldmVyIGNhbGxlZCBvbmNlLlxuICAgICAqLyAgICBfdGVybWluYXRlKCkge1xuICAgICAgICAvKipcbiAqIFJlbW92ZXMgYWxsIGNvbXBvbmVudHMgYXNzb2NpYXRlZCB3aXRoIHRoZSBwcm92aWRlZCBpbnN0YW5jZS4gTXVzdCBiZSBjYWxsZWRcbiAqIHdoZW4gdGhlIGBGaXJlc3RvcmVgIGluc3RhbmNlIGlzIHRlcm1pbmF0ZWQuXG4gKi9cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9yZW1vdmVDb21wb25lbnRzKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSB5ZS5nZXQoZSk7XG4gICAgICAgICAgICB0ICYmIChfX1BSSVZBVEVfbG9nRGVidWcoXCJDb21wb25lbnRQcm92aWRlclwiLCBcIlJlbW92aW5nIERhdGFzdG9yZVwiKSwgeWUuZGVsZXRlKGUpLCBcbiAgICAgICAgICAgIHQudGVybWluYXRlKCkpO1xuICAgICAgICB9KHRoaXMpLCBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogTW9kaWZ5IHRoaXMgaW5zdGFuY2UgdG8gY29tbXVuaWNhdGUgd2l0aCB0aGUgQ2xvdWQgRmlyZXN0b3JlIGVtdWxhdG9yLlxuICpcbiAqIE5vdGU6IFRoaXMgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIHRoaXMgaW5zdGFuY2UgaGFzIGJlZW4gdXNlZCB0byBkbyBhbnlcbiAqIG9wZXJhdGlvbnMuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIFRoZSBgRmlyZXN0b3JlYCBpbnN0YW5jZSB0byBjb25maWd1cmUgdG8gY29ubmVjdCB0byB0aGVcbiAqIGVtdWxhdG9yLlxuICogQHBhcmFtIGhvc3QgLSB0aGUgZW11bGF0b3IgaG9zdCAoZXg6IGxvY2FsaG9zdCkuXG4gKiBAcGFyYW0gcG9ydCAtIHRoZSBlbXVsYXRvciBwb3J0IChleDogOTAwMCkuXG4gKiBAcGFyYW0gb3B0aW9ucy5tb2NrVXNlclRva2VuIC0gdGhlIG1vY2sgYXV0aCB0b2tlbiB0byB1c2UgZm9yIHVuaXQgdGVzdGluZ1xuICogU2VjdXJpdHkgUnVsZXMuXG4gKi8gZnVuY3Rpb24gY29ubmVjdEZpcmVzdG9yZUVtdWxhdG9yKGUsIHQsIG4sIHIgPSB7fSkge1xuICAgIHZhciBpO1xuICAgIGNvbnN0IHMgPSAoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSQxKSkuX2dldFNldHRpbmdzKCksIG8gPSBgJHt0fToke259YDtcbiAgICBpZiAoXCJmaXJlc3RvcmUuZ29vZ2xlYXBpcy5jb21cIiAhPT0gcy5ob3N0ICYmIHMuaG9zdCAhPT0gbyAmJiBfX1BSSVZBVEVfbG9nV2FybihcIkhvc3QgaGFzIGJlZW4gc2V0IGluIGJvdGggc2V0dGluZ3MoKSBhbmQgY29ubmVjdEZpcmVzdG9yZUVtdWxhdG9yKCksIGVtdWxhdG9yIGhvc3Qgd2lsbCBiZSB1c2VkLlwiKSwgXG4gICAgZS5fc2V0U2V0dGluZ3MoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzKSwge1xuICAgICAgICBob3N0OiBvLFxuICAgICAgICBzc2w6ICExXG4gICAgfSkpLCByLm1vY2tVc2VyVG9rZW4pIHtcbiAgICAgICAgbGV0IHQsIG47XG4gICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZiByLm1vY2tVc2VyVG9rZW4pIHQgPSByLm1vY2tVc2VyVG9rZW4sIG4gPSBVc2VyLk1PQ0tfVVNFUjsgZWxzZSB7XG4gICAgICAgICAgICAvLyBMZXQgY3JlYXRlTW9ja1VzZXJUb2tlbiB2YWxpZGF0ZSBmaXJzdCAoY2F0Y2hlcyBjb21tb24gbWlzdGFrZXMgbGlrZVxuICAgICAgICAgICAgLy8gaW52YWxpZCBmaWVsZCBcInVpZFwiIGFuZCBtaXNzaW5nIGZpZWxkIFwic3ViXCIgLyBcInVzZXJfaWRcIi4pXG4gICAgICAgICAgICB0ID0gdXRpbC5jcmVhdGVNb2NrVXNlclRva2VuKHIubW9ja1VzZXJUb2tlbiwgbnVsbCA9PT0gKGkgPSBlLl9hcHApIHx8IHZvaWQgMCA9PT0gaSA/IHZvaWQgMCA6IGkub3B0aW9ucy5wcm9qZWN0SWQpO1xuICAgICAgICAgICAgY29uc3QgcyA9IHIubW9ja1VzZXJUb2tlbi5zdWIgfHwgci5tb2NrVXNlclRva2VuLnVzZXJfaWQ7XG4gICAgICAgICAgICBpZiAoIXMpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwibW9ja1VzZXJUb2tlbiBtdXN0IGNvbnRhaW4gJ3N1Yicgb3IgJ3VzZXJfaWQnIGZpZWxkIVwiKTtcbiAgICAgICAgICAgIG4gPSBuZXcgVXNlcihzKTtcbiAgICAgICAgfVxuICAgICAgICBlLl9hdXRoQ3JlZGVudGlhbHMgPSBuZXcgX19QUklWQVRFX0VtdWxhdG9yQXV0aENyZWRlbnRpYWxzUHJvdmlkZXIobmV3IF9fUFJJVkFURV9PQXV0aFRva2VuKHQsIG4pKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgYFF1ZXJ5YCByZWZlcnMgdG8gYSBxdWVyeSB3aGljaCB5b3UgY2FuIHJlYWQgb3IgbGlzdGVuIHRvLiBZb3UgY2FuIGFsc29cbiAqIGNvbnN0cnVjdCByZWZpbmVkIGBRdWVyeWAgb2JqZWN0cyBieSBhZGRpbmcgZmlsdGVycyBhbmQgb3JkZXJpbmcuXG4gKi8gY2xhc3MgUXVlcnkge1xuICAgIC8vIFRoaXMgaXMgdGhlIGxpdGUgdmVyc2lvbiBvZiB0aGUgUXVlcnkgY2xhc3MgaW4gdGhlIG1haW4gU0RLLlxuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yIHByb3RlY3RlZCAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIFxuICAgIC8qKlxuICAgICAqIElmIHByb3ZpZGVkLCB0aGUgYEZpcmVzdG9yZURhdGFDb252ZXJ0ZXJgIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGluc3RhbmNlLlxuICAgICAqL1xuICAgIHQsIG4pIHtcbiAgICAgICAgdGhpcy5jb252ZXJ0ZXIgPSB0LCB0aGlzLl9xdWVyeSA9IG4sIFxuICAgICAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBGaXJlc3RvcmUgcmVmZXJlbmNlLiAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcInF1ZXJ5XCIsIHRoaXMuZmlyZXN0b3JlID0gZTtcbiAgICB9XG4gICAgd2l0aENvbnZlcnRlcihlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnkodGhpcy5maXJlc3RvcmUsIGUsIHRoaXMuX3F1ZXJ5KTtcbiAgICB9XG59XG5cbi8qKlxuICogQSBgRG9jdW1lbnRSZWZlcmVuY2VgIHJlZmVycyB0byBhIGRvY3VtZW50IGxvY2F0aW9uIGluIGEgRmlyZXN0b3JlIGRhdGFiYXNlXG4gKiBhbmQgY2FuIGJlIHVzZWQgdG8gd3JpdGUsIHJlYWQsIG9yIGxpc3RlbiB0byB0aGUgbG9jYXRpb24uIFRoZSBkb2N1bWVudCBhdFxuICogdGhlIHJlZmVyZW5jZWQgbG9jYXRpb24gbWF5IG9yIG1heSBub3QgZXhpc3QuXG4gKi8gY2xhc3MgRG9jdW1lbnRSZWZlcmVuY2Uge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSwgXG4gICAgLyoqXG4gICAgICogSWYgcHJvdmlkZWQsIHRoZSBgRmlyZXN0b3JlRGF0YUNvbnZlcnRlcmAgYXNzb2NpYXRlZCB3aXRoIHRoaXMgaW5zdGFuY2UuXG4gICAgICovXG4gICAgdCwgbikge1xuICAgICAgICB0aGlzLmNvbnZlcnRlciA9IHQsIHRoaXMuX2tleSA9IG4sIFxuICAgICAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBGaXJlc3RvcmUgcmVmZXJlbmNlLiAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcImRvY3VtZW50XCIsIHRoaXMuZmlyZXN0b3JlID0gZTtcbiAgICB9XG4gICAgZ2V0IF9wYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fa2V5LnBhdGg7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBkb2N1bWVudCdzIGlkZW50aWZpZXIgd2l0aGluIGl0cyBjb2xsZWN0aW9uLlxuICAgICAqLyAgICBnZXQgaWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXkucGF0aC5sYXN0U2VnbWVudCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIHBhdGggb2YgdGhlIHJlZmVyZW5jZWQgZG9jdW1lbnQgKHJlbGF0aXZlXG4gICAgICogdG8gdGhlIHJvb3Qgb2YgdGhlIGRhdGFiYXNlKS5cbiAgICAgKi8gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9rZXkucGF0aC5jYW5vbmljYWxTdHJpbmcoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGNvbGxlY3Rpb24gdGhpcyBgRG9jdW1lbnRSZWZlcmVuY2VgIGJlbG9uZ3MgdG8uXG4gICAgICovICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvblJlZmVyZW5jZSh0aGlzLmZpcmVzdG9yZSwgdGhpcy5jb252ZXJ0ZXIsIHRoaXMuX2tleS5wYXRoLnBvcExhc3QoKSk7XG4gICAgfVxuICAgIHdpdGhDb252ZXJ0ZXIoZSkge1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50UmVmZXJlbmNlKHRoaXMuZmlyZXN0b3JlLCBlLCB0aGlzLl9rZXkpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBDb2xsZWN0aW9uUmVmZXJlbmNlYCBvYmplY3QgY2FuIGJlIHVzZWQgZm9yIGFkZGluZyBkb2N1bWVudHMsIGdldHRpbmdcbiAqIGRvY3VtZW50IHJlZmVyZW5jZXMsIGFuZCBxdWVyeWluZyBmb3IgZG9jdW1lbnRzICh1c2luZyB7QGxpbmsgKHF1ZXJ5OjEpfSkuXG4gKi8gY2xhc3MgQ29sbGVjdGlvblJlZmVyZW5jZSBleHRlbmRzIFF1ZXJ5IHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoZSwgdCwgX19QUklWQVRFX25ld1F1ZXJ5Rm9yUGF0aChuKSksIHRoaXMuX3BhdGggPSBuLCBcbiAgICAgICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgRmlyZXN0b3JlIHJlZmVyZW5jZS4gKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJjb2xsZWN0aW9uXCI7XG4gICAgfVxuICAgIC8qKiBUaGUgY29sbGVjdGlvbidzIGlkZW50aWZpZXIuICovICAgIGdldCBpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3F1ZXJ5LnBhdGgubGFzdFNlZ21lbnQoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBwYXRoIG9mIHRoZSByZWZlcmVuY2VkIGNvbGxlY3Rpb24gKHJlbGF0aXZlXG4gICAgICogdG8gdGhlIHJvb3Qgb2YgdGhlIGRhdGFiYXNlKS5cbiAgICAgKi8gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9xdWVyeS5wYXRoLmNhbm9uaWNhbFN0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgY29udGFpbmluZyBgRG9jdW1lbnRSZWZlcmVuY2VgIGlmIHRoaXMgaXMgYVxuICAgICAqIHN1YmNvbGxlY3Rpb24uIElmIHRoaXMgaXNuJ3QgYSBzdWJjb2xsZWN0aW9uLCB0aGUgcmVmZXJlbmNlIGlzIG51bGwuXG4gICAgICovICAgIGdldCBwYXJlbnQoKSB7XG4gICAgICAgIGNvbnN0IGUgPSB0aGlzLl9wYXRoLnBvcExhc3QoKTtcbiAgICAgICAgcmV0dXJuIGUuaXNFbXB0eSgpID8gbnVsbCA6IG5ldyBEb2N1bWVudFJlZmVyZW5jZSh0aGlzLmZpcmVzdG9yZSwgXG4gICAgICAgIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgbmV3IERvY3VtZW50S2V5KGUpKTtcbiAgICB9XG4gICAgd2l0aENvbnZlcnRlcihlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sbGVjdGlvblJlZmVyZW5jZSh0aGlzLmZpcmVzdG9yZSwgZSwgdGhpcy5fcGF0aCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjb2xsZWN0aW9uKGUsIHQsIC4uLm4pIHtcbiAgICBpZiAoZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpLCBfX1BSSVZBVEVfdmFsaWRhdGVOb25FbXB0eUFyZ3VtZW50KFwiY29sbGVjdGlvblwiLCBcInBhdGhcIiwgdCksIGUgaW5zdGFuY2VvZiBGaXJlc3RvcmUkMSkge1xuICAgICAgICBjb25zdCByID0gUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcodCwgLi4ubik7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVDb2xsZWN0aW9uUGF0aChyKSwgbmV3IENvbGxlY3Rpb25SZWZlcmVuY2UoZSwgLyogY29udmVydGVyPSAqLyBudWxsLCByKTtcbiAgICB9XG4gICAge1xuICAgICAgICBpZiAoIShlIGluc3RhbmNlb2YgRG9jdW1lbnRSZWZlcmVuY2UgfHwgZSBpbnN0YW5jZW9mIENvbGxlY3Rpb25SZWZlcmVuY2UpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkV4cGVjdGVkIGZpcnN0IGFyZ3VtZW50IHRvIGNvbGxlY3Rpb24oKSB0byBiZSBhIENvbGxlY3Rpb25SZWZlcmVuY2UsIGEgRG9jdW1lbnRSZWZlcmVuY2Ugb3IgRmlyZWJhc2VGaXJlc3RvcmVcIik7XG4gICAgICAgIGNvbnN0IHIgPSBlLl9wYXRoLmNoaWxkKFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKHQsIC4uLm4pKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV92YWxpZGF0ZUNvbGxlY3Rpb25QYXRoKHIpLCBuZXcgQ29sbGVjdGlvblJlZmVyZW5jZShlLmZpcmVzdG9yZSwgXG4gICAgICAgIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgcik7XG4gICAgfVxufVxuXG4vLyBUT0RPKGZpcmVzdG9yZWxpdGUpOiBDb25zaWRlciB1c2luZyBFcnJvckZhY3RvcnkgLVxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWpzLXNkay9ibG9iLzAxMzFlMWYvcGFja2FnZXMvdXRpbC9zcmMvZXJyb3JzLnRzI0wxMDZcbi8qKlxuICogQ3JlYXRlcyBhbmQgcmV0dXJucyBhIG5ldyBgUXVlcnlgIGluc3RhbmNlIHRoYXQgaW5jbHVkZXMgYWxsIGRvY3VtZW50cyBpbiB0aGVcbiAqIGRhdGFiYXNlIHRoYXQgYXJlIGNvbnRhaW5lZCBpbiBhIGNvbGxlY3Rpb24gb3Igc3ViY29sbGVjdGlvbiB3aXRoIHRoZVxuICogZ2l2ZW4gYGNvbGxlY3Rpb25JZGAuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSByb290IGBGaXJlc3RvcmVgIGluc3RhbmNlLlxuICogQHBhcmFtIGNvbGxlY3Rpb25JZCAtIElkZW50aWZpZXMgdGhlIGNvbGxlY3Rpb25zIHRvIHF1ZXJ5IG92ZXIuIEV2ZXJ5XG4gKiBjb2xsZWN0aW9uIG9yIHN1YmNvbGxlY3Rpb24gd2l0aCB0aGlzIElEIGFzIHRoZSBsYXN0IHNlZ21lbnQgb2YgaXRzIHBhdGhcbiAqIHdpbGwgYmUgaW5jbHVkZWQuIENhbm5vdCBjb250YWluIGEgc2xhc2guXG4gKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBgUXVlcnlgLlxuICovIGZ1bmN0aW9uIGNvbGxlY3Rpb25Hcm91cChlLCB0KSB7XG4gICAgaWYgKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUkMSksIF9fUFJJVkFURV92YWxpZGF0ZU5vbkVtcHR5QXJndW1lbnQoXCJjb2xsZWN0aW9uR3JvdXBcIiwgXCJjb2xsZWN0aW9uIGlkXCIsIHQpLCBcbiAgICB0LmluZGV4T2YoXCIvXCIpID49IDApIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIGNvbGxlY3Rpb24gSUQgJyR7dH0nIHBhc3NlZCB0byBmdW5jdGlvbiBjb2xsZWN0aW9uR3JvdXAoKS4gQ29sbGVjdGlvbiBJRHMgbXVzdCBub3QgY29udGFpbiAnLycuYCk7XG4gICAgcmV0dXJuIG5ldyBRdWVyeShlLCBcbiAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUZvckNvbGxlY3Rpb25Hcm91cChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1F1ZXJ5SW1wbChSZXNvdXJjZVBhdGguZW1wdHlQYXRoKCksIGUpO1xuICAgIH0odCkpO1xufVxuXG5mdW5jdGlvbiBkb2MoZSwgdCwgLi4ubikge1xuICAgIGlmIChlID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UoZSksIFxuICAgIC8vIFdlIGFsbG93IG9taXNzaW9uIG9mICdwYXRoU3RyaW5nJyBidXQgZXhwbGljaXRseSBwcm9oaWJpdCBwYXNzaW5nIGluIGJvdGhcbiAgICAvLyAndW5kZWZpbmVkJyBhbmQgJ251bGwnLlxuICAgIDEgPT09IGFyZ3VtZW50cy5sZW5ndGggJiYgKHQgPSBfX1BSSVZBVEVfQXV0b0lkLm5ld0lkKCkpLCBfX1BSSVZBVEVfdmFsaWRhdGVOb25FbXB0eUFyZ3VtZW50KFwiZG9jXCIsIFwicGF0aFwiLCB0KSwgXG4gICAgZSBpbnN0YW5jZW9mIEZpcmVzdG9yZSQxKSB7XG4gICAgICAgIGNvbnN0IHIgPSBSZXNvdXJjZVBhdGguZnJvbVN0cmluZyh0LCAuLi5uKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV92YWxpZGF0ZURvY3VtZW50UGF0aChyKSwgbmV3IERvY3VtZW50UmVmZXJlbmNlKGUsIFxuICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIG5ldyBEb2N1bWVudEtleShyKSk7XG4gICAgfVxuICAgIHtcbiAgICAgICAgaWYgKCEoZSBpbnN0YW5jZW9mIERvY3VtZW50UmVmZXJlbmNlIHx8IGUgaW5zdGFuY2VvZiBDb2xsZWN0aW9uUmVmZXJlbmNlKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJFeHBlY3RlZCBmaXJzdCBhcmd1bWVudCB0byBjb2xsZWN0aW9uKCkgdG8gYmUgYSBDb2xsZWN0aW9uUmVmZXJlbmNlLCBhIERvY3VtZW50UmVmZXJlbmNlIG9yIEZpcmViYXNlRmlyZXN0b3JlXCIpO1xuICAgICAgICBjb25zdCByID0gZS5fcGF0aC5jaGlsZChSZXNvdXJjZVBhdGguZnJvbVN0cmluZyh0LCAuLi5uKSk7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVEb2N1bWVudFBhdGgociksIG5ldyBEb2N1bWVudFJlZmVyZW5jZShlLmZpcmVzdG9yZSwgZSBpbnN0YW5jZW9mIENvbGxlY3Rpb25SZWZlcmVuY2UgPyBlLmNvbnZlcnRlciA6IG51bGwsIG5ldyBEb2N1bWVudEtleShyKSk7XG4gICAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgcHJvdmlkZWQgcmVmZXJlbmNlcyBhcmUgZXF1YWwuXG4gKlxuICogQHBhcmFtIGxlZnQgLSBBIHJlZmVyZW5jZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHJpZ2h0IC0gQSByZWZlcmVuY2UgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHRydWUgaWYgdGhlIHJlZmVyZW5jZXMgcG9pbnQgdG8gdGhlIHNhbWUgbG9jYXRpb24gaW4gdGhlIHNhbWVcbiAqIEZpcmVzdG9yZSBkYXRhYmFzZS5cbiAqLyBmdW5jdGlvbiByZWZFcXVhbChlLCB0KSB7XG4gICAgcmV0dXJuIGUgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShlKSwgdCA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKHQpLCAoZSBpbnN0YW5jZW9mIERvY3VtZW50UmVmZXJlbmNlIHx8IGUgaW5zdGFuY2VvZiBDb2xsZWN0aW9uUmVmZXJlbmNlKSAmJiAodCBpbnN0YW5jZW9mIERvY3VtZW50UmVmZXJlbmNlIHx8IHQgaW5zdGFuY2VvZiBDb2xsZWN0aW9uUmVmZXJlbmNlKSAmJiAoZS5maXJlc3RvcmUgPT09IHQuZmlyZXN0b3JlICYmIGUucGF0aCA9PT0gdC5wYXRoICYmIGUuY29udmVydGVyID09PSB0LmNvbnZlcnRlcik7XG59XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBwcm92aWRlZCBxdWVyaWVzIHBvaW50IHRvIHRoZSBzYW1lIGNvbGxlY3Rpb24gYW5kIGFwcGx5XG4gKiB0aGUgc2FtZSBjb25zdHJhaW50cy5cbiAqXG4gKiBAcGFyYW0gbGVmdCAtIEEgYFF1ZXJ5YCB0byBjb21wYXJlLlxuICogQHBhcmFtIHJpZ2h0IC0gQSBgUXVlcnlgIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSByZWZlcmVuY2VzIHBvaW50IHRvIHRoZSBzYW1lIGxvY2F0aW9uIGluIHRoZSBzYW1lXG4gKiBGaXJlc3RvcmUgZGF0YWJhc2UuXG4gKi8gZnVuY3Rpb24gcXVlcnlFcXVhbChlLCB0KSB7XG4gICAgcmV0dXJuIGUgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShlKSwgdCA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKHQpLCBlIGluc3RhbmNlb2YgUXVlcnkgJiYgdCBpbnN0YW5jZW9mIFF1ZXJ5ICYmIChlLmZpcmVzdG9yZSA9PT0gdC5maXJlc3RvcmUgJiYgX19QUklWQVRFX3F1ZXJ5RXF1YWxzKGUuX3F1ZXJ5LCB0Ll9xdWVyeSkgJiYgZS5jb252ZXJ0ZXIgPT09IHQuY29udmVydGVyKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gY2xhc3MgX19QUklWQVRFX0FzeW5jUXVldWVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8gVGhlIGxhc3QgcHJvbWlzZSBpbiB0aGUgcXVldWUuXG4gICAgICAgIHRoaXMuaXUgPSBQcm9taXNlLnJlc29sdmUoKSwgXG4gICAgICAgIC8vIEEgbGlzdCBvZiByZXRyeWFibGUgb3BlcmF0aW9ucy4gUmV0cnlhYmxlIG9wZXJhdGlvbnMgYXJlIHJ1biBpbiBvcmRlciBhbmRcbiAgICAgICAgLy8gcmV0cmllZCB3aXRoIGJhY2tvZmYuXG4gICAgICAgIHRoaXMuc3UgPSBbXSwgXG4gICAgICAgIC8vIElzIHRoaXMgQXN5bmNRdWV1ZSBiZWluZyBzaHV0IGRvd24/IE9uY2UgaXQgaXMgc2V0IHRvIHRydWUsIGl0IHdpbGwgbm90XG4gICAgICAgIC8vIGJlIGNoYW5nZWQgYWdhaW4uXG4gICAgICAgIHRoaXMub3UgPSAhMSwgXG4gICAgICAgIC8vIE9wZXJhdGlvbnMgc2NoZWR1bGVkIHRvIGJlIHF1ZXVlZCBpbiB0aGUgZnV0dXJlLiBPcGVyYXRpb25zIGFyZVxuICAgICAgICAvLyBhdXRvbWF0aWNhbGx5IHJlbW92ZWQgYWZ0ZXIgdGhleSBhcmUgcnVuIG9yIGNhbmNlbGVkLlxuICAgICAgICB0aGlzLl91ID0gW10sIFxuICAgICAgICAvLyB2aXNpYmxlIGZvciB0ZXN0aW5nXG4gICAgICAgIHRoaXMuYXUgPSBudWxsLCBcbiAgICAgICAgLy8gRmxhZyBzZXQgd2hpbGUgdGhlcmUncyBhbiBvdXRzdGFuZGluZyBBc3luY1F1ZXVlIG9wZXJhdGlvbiwgdXNlZCBmb3JcbiAgICAgICAgLy8gYXNzZXJ0aW9uIHNhbml0eS1jaGVja3MuXG4gICAgICAgIHRoaXMudXUgPSAhMSwgXG4gICAgICAgIC8vIEVuYWJsZWQgZHVyaW5nIHNodXRkb3duIG9uIFNhZmFyaSB0byBwcmV2ZW50IGZ1dHVyZSBhY2Nlc3MgdG8gSW5kZXhlZERCLlxuICAgICAgICB0aGlzLmN1ID0gITEsIFxuICAgICAgICAvLyBMaXN0IG9mIFRpbWVySWRzIHRvIGZhc3QtZm9yd2FyZCBkZWxheXMgZm9yLlxuICAgICAgICB0aGlzLmx1ID0gW10sIFxuICAgICAgICAvLyBCYWNrb2ZmIHRpbWVyIHVzZWQgdG8gc2NoZWR1bGUgcmV0cmllcyBmb3IgcmV0cnlhYmxlIG9wZXJhdGlvbnNcbiAgICAgICAgdGhpcy5ZbyA9IG5ldyBfX1BSSVZBVEVfRXhwb25lbnRpYWxCYWNrb2ZmKHRoaXMsIFwiYXN5bmNfcXVldWVfcmV0cnlcIiAvKiBUaW1lcklkLkFzeW5jUXVldWVSZXRyeSAqLyksIFxuICAgICAgICAvLyBWaXNpYmlsaXR5IGhhbmRsZXIgdGhhdCB0cmlnZ2VycyBhbiBpbW1lZGlhdGUgcmV0cnkgb2YgYWxsIHJldHJ5YWJsZVxuICAgICAgICAvLyBvcGVyYXRpb25zLiBNZWFudCB0byBzcGVlZCB1cCByZWNvdmVyeSB3aGVuIHdlIHJlZ2FpbiBmaWxlIHN5c3RlbSBhY2Nlc3NcbiAgICAgICAgLy8gYWZ0ZXIgcGFnZSBjb21lcyBpbnRvIGZvcmVncm91bmQuXG4gICAgICAgIHRoaXMuaHUgPSAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBlID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgICAgIGUgJiYgX19QUklWQVRFX2xvZ0RlYnVnKFwiQXN5bmNRdWV1ZVwiLCBcIlZpc2liaWxpdHkgc3RhdGUgY2hhbmdlZCB0byBcIiArIGUudmlzaWJpbGl0eVN0YXRlKSwgXG4gICAgICAgICAgICB0aGlzLllvLldvKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGUgPSBnZXREb2N1bWVudCgpO1xuICAgICAgICBlICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgZS5hZGRFdmVudExpc3RlbmVyICYmIGUuYWRkRXZlbnRMaXN0ZW5lcihcInZpc2liaWxpdHljaGFuZ2VcIiwgdGhpcy5odSk7XG4gICAgfVxuICAgIGdldCBpc1NodXR0aW5nRG93bigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBuZXcgb3BlcmF0aW9uIHRvIHRoZSBxdWV1ZSB3aXRob3V0IHdhaXRpbmcgZm9yIGl0IHRvIGNvbXBsZXRlIChpLmUuXG4gICAgICogd2UgaWdub3JlIHRoZSBQcm9taXNlIHJlc3VsdCkuXG4gICAgICovICAgIGVucXVldWVBbmRGb3JnZXQoZSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIHRoaXMuZW5xdWV1ZShlKTtcbiAgICB9XG4gICAgZW5xdWV1ZUFuZEZvcmdldEV2ZW5XaGlsZVJlc3RyaWN0ZWQoZSkge1xuICAgICAgICB0aGlzLlB1KCksIFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIHRoaXMuSXUoZSk7XG4gICAgfVxuICAgIGVudGVyUmVzdHJpY3RlZE1vZGUoZSkge1xuICAgICAgICBpZiAoIXRoaXMub3UpIHtcbiAgICAgICAgICAgIHRoaXMub3UgPSAhMCwgdGhpcy5jdSA9IGUgfHwgITE7XG4gICAgICAgICAgICBjb25zdCB0ID0gZ2V0RG9jdW1lbnQoKTtcbiAgICAgICAgICAgIHQgJiYgXCJmdW5jdGlvblwiID09IHR5cGVvZiB0LnJlbW92ZUV2ZW50TGlzdGVuZXIgJiYgdC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLCB0aGlzLmh1KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbnF1ZXVlKGUpIHtcbiAgICAgICAgaWYgKHRoaXMuUHUoKSwgdGhpcy5vdSkgXG4gICAgICAgIC8vIFJldHVybiBhIFByb21pc2Ugd2hpY2ggbmV2ZXIgcmVzb2x2ZXMuXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgoKCkgPT4ge30pKTtcbiAgICAgICAgLy8gQ3JlYXRlIGEgZGVmZXJyZWQgUHJvbWlzZSB0aGF0IHdlIGNhbiByZXR1cm4gdG8gdGhlIGNhbGxlZS4gVGhpc1xuICAgICAgICAvLyBhbGxvd3MgdXMgdG8gcmV0dXJuIGEgXCJoYW5naW5nIFByb21pc2VcIiBvbmx5IHRvIHRoZSBjYWxsZWUgYW5kIHN0aWxsXG4gICAgICAgIC8vIGFkdmFuY2UgdGhlIHF1ZXVlIGV2ZW4gd2hlbiB0aGUgb3BlcmF0aW9uIGlzIG5vdCBydW4uXG4gICAgICAgICAgICAgICAgY29uc3QgdCA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgICAgIHJldHVybiB0aGlzLkl1KCgoKSA9PiB0aGlzLm91ICYmIHRoaXMuY3UgPyBQcm9taXNlLnJlc29sdmUoKSA6IChlKCkudGhlbih0LnJlc29sdmUsIHQucmVqZWN0KSwgXG4gICAgICAgIHQucHJvbWlzZSkpKS50aGVuKCgoKSA9PiB0LnByb21pc2UpKTtcbiAgICB9XG4gICAgZW5xdWV1ZVJldHJ5YWJsZShlKSB7XG4gICAgICAgIHRoaXMuZW5xdWV1ZUFuZEZvcmdldCgoKCkgPT4gKHRoaXMuc3UucHVzaChlKSwgdGhpcy5UdSgpKSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSdW5zIHRoZSBuZXh0IG9wZXJhdGlvbiBmcm9tIHRoZSByZXRyeWFibGUgcXVldWUuIElmIHRoZSBvcGVyYXRpb24gZmFpbHMsXG4gICAgICogcmVzY2hlZHVsZXMgd2l0aCBiYWNrb2ZmLlxuICAgICAqLyAgICBhc3luYyBUdSgpIHtcbiAgICAgICAgaWYgKDAgIT09IHRoaXMuc3UubGVuZ3RoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuc3VbMF0oKSwgdGhpcy5zdS5zaGlmdCgpLCB0aGlzLllvLnJlc2V0KCk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFfX1BSSVZBVEVfaXNJbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yKGUpKSB0aHJvdyBlO1xuIC8vIEZhaWx1cmUgd2lsbCBiZSBoYW5kbGVkIGJ5IEFzeW5jUXVldWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX19QUklWQVRFX2xvZ0RlYnVnKFwiQXN5bmNRdWV1ZVwiLCBcIk9wZXJhdGlvbiBmYWlsZWQgd2l0aCByZXRyeWFibGUgZXJyb3I6IFwiICsgZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN1Lmxlbmd0aCA+IDAgJiYgXG4gICAgICAgICAgICAvLyBJZiB0aGVyZSBhcmUgYWRkaXRpb25hbCBvcGVyYXRpb25zLCB3ZSByZS1zY2hlZHVsZSBgcmV0cnlOZXh0T3AoKWAuXG4gICAgICAgICAgICAvLyBUaGlzIGlzIG5lY2Vzc2FyeSB0byBydW4gcmV0cnlhYmxlIG9wZXJhdGlvbnMgdGhhdCBmYWlsZWQgZHVyaW5nXG4gICAgICAgICAgICAvLyB0aGVpciBpbml0aWFsIGF0dGVtcHQgc2luY2Ugd2UgZG9uJ3Qga25vdyB3aGV0aGVyIHRoZXkgYXJlIGFscmVhZHlcbiAgICAgICAgICAgIC8vIGVucXVldWVkLiBJZiwgZm9yIGV4YW1wbGUsIGBvcDFgLCBgb3AyYCwgYG9wM2AgYXJlIGVucXVldWVkIGFuZCBgb3AxYFxuICAgICAgICAgICAgLy8gbmVlZHMgdG8gIGJlIHJlLXJ1biwgd2Ugd2lsbCBydW4gYG9wMWAsIGBvcDFgLCBgb3AyYCB1c2luZyB0aGVcbiAgICAgICAgICAgIC8vIGFscmVhZHkgZW5xdWV1ZWQgY2FsbHMgdG8gYHJldHJ5TmV4dE9wKClgLiBgb3AzKClgIHdpbGwgdGhlbiBydW4gaW4gdGhlXG4gICAgICAgICAgICAvLyBjYWxsIHNjaGVkdWxlZCBoZXJlLlxuICAgICAgICAgICAgLy8gU2luY2UgYGJhY2tvZmZBbmRSdW4oKWAgY2FuY2VscyBhbiBleGlzdGluZyBiYWNrb2ZmIGFuZCBzY2hlZHVsZXMgYVxuICAgICAgICAgICAgLy8gbmV3IGJhY2tvZmYgb24gZXZlcnkgY2FsbCwgdGhlcmUgaXMgb25seSBldmVyIGEgc2luZ2xlIGFkZGl0aW9uYWxcbiAgICAgICAgICAgIC8vIG9wZXJhdGlvbiBpbiB0aGUgcXVldWUuXG4gICAgICAgICAgICB0aGlzLllvLiRvKCgoKSA9PiB0aGlzLlR1KCkpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBJdShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLml1LnRoZW4oKCgpID0+ICh0aGlzLnV1ID0gITAsIGUoKS5jYXRjaCgoZSA9PiB7XG4gICAgICAgICAgICB0aGlzLmF1ID0gZSwgdGhpcy51dSA9ICExO1xuICAgICAgICAgICAgY29uc3QgdCA9IFxuICAgICAgICAgICAgLyoqXG4gKiBDaHJvbWUgaW5jbHVkZXMgRXJyb3IubWVzc2FnZSBpbiBFcnJvci5zdGFjay4gT3RoZXIgYnJvd3NlcnMgZG8gbm90LlxuICogVGhpcyByZXR1cm5zIGV4cGVjdGVkIG91dHB1dCBvZiBtZXNzYWdlICsgc3RhY2sgd2hlbiBhdmFpbGFibGUuXG4gKiBAcGFyYW0gZXJyb3IgLSBFcnJvciBvciBGaXJlc3RvcmVFcnJvclxuICovXG4gICAgICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfZ2V0TWVzc2FnZU9yU3RhY2soZSkge1xuICAgICAgICAgICAgICAgIGxldCB0ID0gZS5tZXNzYWdlIHx8IFwiXCI7XG4gICAgICAgICAgICAgICAgZS5zdGFjayAmJiAodCA9IGUuc3RhY2suaW5jbHVkZXMoZS5tZXNzYWdlKSA/IGUuc3RhY2sgOiBlLm1lc3NhZ2UgKyBcIlxcblwiICsgZS5zdGFjayk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyAoZSk7XG4gICAgICAgICAgICAvLyBSZS10aHJvdyB0aGUgZXJyb3Igc28gdGhhdCB0aGlzLnRhaWwgYmVjb21lcyBhIHJlamVjdGVkIFByb21pc2UgYW5kXG4gICAgICAgICAgICAvLyBhbGwgZnVydGhlciBhdHRlbXB0cyB0byBjaGFpbiAodmlhIC50aGVuKSB3aWxsIGp1c3Qgc2hvcnQtY2lyY3VpdFxuICAgICAgICAgICAgLy8gYW5kIHJldHVybiB0aGUgcmVqZWN0ZWQgUHJvbWlzZS5cbiAgICAgICAgICAgIHRocm93IF9fUFJJVkFURV9sb2dFcnJvcihcIklOVEVSTkFMIFVOSEFORExFRCBFUlJPUjogXCIsIHQpLCBlO1xuICAgICAgICB9KSkudGhlbigoZSA9PiAodGhpcy51dSA9ICExLCBlKSkpKSkpO1xuICAgICAgICByZXR1cm4gdGhpcy5pdSA9IHQsIHQ7XG4gICAgfVxuICAgIGVucXVldWVBZnRlckRlbGF5KGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5QdSgpLCBcbiAgICAgICAgLy8gRmFzdC1mb3J3YXJkIGRlbGF5cyBmb3IgdGltZXJJZHMgdGhhdCBoYXZlIGJlZW4gb3ZlcnJpZGVuLlxuICAgICAgICB0aGlzLmx1LmluZGV4T2YoZSkgPiAtMSAmJiAodCA9IDApO1xuICAgICAgICBjb25zdCByID0gRGVsYXllZE9wZXJhdGlvbi5jcmVhdGVBbmRTY2hlZHVsZSh0aGlzLCBlLCB0LCBuLCAoZSA9PiB0aGlzLkV1KGUpKSk7XG4gICAgICAgIHJldHVybiB0aGlzLl91LnB1c2gociksIHI7XG4gICAgfVxuICAgIFB1KCkge1xuICAgICAgICB0aGlzLmF1ICYmIGZhaWwoKTtcbiAgICB9XG4gICAgdmVyaWZ5T3BlcmF0aW9uSW5Qcm9ncmVzcygpIHt9XG4gICAgLyoqXG4gICAgICogV2FpdHMgdW50aWwgYWxsIGN1cnJlbnRseSBxdWV1ZWQgdGFza3MgYXJlIGZpbmlzaGVkIGV4ZWN1dGluZy4gRGVsYXllZFxuICAgICAqIG9wZXJhdGlvbnMgYXJlIG5vdCBydW4uXG4gICAgICovICAgIGFzeW5jIGR1KCkge1xuICAgICAgICAvLyBPcGVyYXRpb25zIGluIHRoZSBxdWV1ZSBwcmlvciB0byBkcmFpbmluZyBtYXkgaGF2ZSBlbnF1ZXVlZCBhZGRpdGlvbmFsXG4gICAgICAgIC8vIG9wZXJhdGlvbnMuIEtlZXAgZHJhaW5pbmcgdGhlIHF1ZXVlIHVudGlsIHRoZSB0YWlsIGlzIG5vIGxvbmdlciBhZHZhbmNlZCxcbiAgICAgICAgLy8gd2hpY2ggaW5kaWNhdGVzIHRoYXQgbm8gbW9yZSBuZXcgb3BlcmF0aW9ucyB3ZXJlIGVucXVldWVkIGFuZCB0aGF0IGFsbFxuICAgICAgICAvLyBvcGVyYXRpb25zIHdlcmUgZXhlY3V0ZWQuXG4gICAgICAgIGxldCBlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBlID0gdGhpcy5pdSwgYXdhaXQgZTtcbiAgICAgICAgfSB3aGlsZSAoZSAhPT0gdGhpcy5pdSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBUZXN0czogRGV0ZXJtaW5lIGlmIGEgZGVsYXllZCBvcGVyYXRpb24gd2l0aCBhIHBhcnRpY3VsYXIgVGltZXJJZFxuICAgICAqIGV4aXN0cy5cbiAgICAgKi8gICAgQXUoZSkge1xuICAgICAgICBmb3IgKGNvbnN0IHQgb2YgdGhpcy5fdSkgaWYgKHQudGltZXJJZCA9PT0gZSkgcmV0dXJuICEwO1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBUZXN0czogUnVucyBzb21lIG9yIGFsbCBkZWxheWVkIG9wZXJhdGlvbnMgZWFybHkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbGFzdFRpbWVySWQgLSBEZWxheWVkIG9wZXJhdGlvbnMgdXAgdG8gYW5kIGluY2x1ZGluZyB0aGlzIFRpbWVySWRcbiAgICAgKiB3aWxsIGJlIGRyYWluZWQuIFBhc3MgVGltZXJJZC5BbGwgdG8gcnVuIGFsbCBkZWxheWVkIG9wZXJhdGlvbnMuXG4gICAgICogQHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgb25jZSBhbGwgb3BlcmF0aW9ucyBoYXZlIGJlZW4gcnVuLlxuICAgICAqLyAgICBSdShlKSB7XG4gICAgICAgIC8vIE5vdGUgdGhhdCBkcmFpbmluZyBtYXkgZ2VuZXJhdGUgbW9yZSBkZWxheWVkIG9wcywgc28gd2UgZG8gdGhhdCBmaXJzdC5cbiAgICAgICAgcmV0dXJuIHRoaXMuZHUoKS50aGVuKCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBSdW4gb3BzIGluIHRoZSBzYW1lIG9yZGVyIHRoZXknZCBydW4gaWYgdGhleSByYW4gbmF0dXJhbGx5LlxuICAgICAgICAgICAgdGhpcy5fdS5zb3J0KCgoZSwgdCkgPT4gZS50YXJnZXRUaW1lTXMgLSB0LnRhcmdldFRpbWVNcykpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0IG9mIHRoaXMuX3UpIGlmICh0LnNraXBEZWxheSgpLCBcImFsbFwiIC8qIFRpbWVySWQuQWxsICovICE9PSBlICYmIHQudGltZXJJZCA9PT0gZSkgYnJlYWs7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kdSgpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZvciBUZXN0czogU2tpcCBhbGwgc3Vic2VxdWVudCBkZWxheXMgZm9yIGEgdGltZXIgaWQuXG4gICAgICovICAgIFZ1KGUpIHtcbiAgICAgICAgdGhpcy5sdS5wdXNoKGUpO1xuICAgIH1cbiAgICAvKiogQ2FsbGVkIG9uY2UgYSBEZWxheWVkT3BlcmF0aW9uIGlzIHJ1biBvciBjYW5jZWxlZC4gKi8gICAgRXUoZSkge1xuICAgICAgICAvLyBOT1RFOiBpbmRleE9mIC8gc2xpY2UgYXJlIE8obiksIGJ1dCBkZWxheWVkT3BlcmF0aW9ucyBpcyBleHBlY3RlZCB0byBiZSBzbWFsbC5cbiAgICAgICAgY29uc3QgdCA9IHRoaXMuX3UuaW5kZXhPZihlKTtcbiAgICAgICAgdGhpcy5fdS5zcGxpY2UodCwgMSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIoZSkge1xuICAgIC8qKlxuICogUmV0dXJucyB0cnVlIGlmIG9iaiBpcyBhbiBvYmplY3QgYW5kIGNvbnRhaW5zIGF0IGxlYXN0IG9uZSBvZiB0aGUgc3BlY2lmaWVkXG4gKiBtZXRob2RzLlxuICovXG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9pbXBsZW1lbnRzQW55TWV0aG9kcyhlLCB0KSB7XG4gICAgICAgIGlmIChcIm9iamVjdFwiICE9IHR5cGVvZiBlIHx8IG51bGwgPT09IGUpIHJldHVybiAhMTtcbiAgICAgICAgY29uc3QgbiA9IGU7XG4gICAgICAgIGZvciAoY29uc3QgZSBvZiB0KSBpZiAoZSBpbiBuICYmIFwiZnVuY3Rpb25cIiA9PSB0eXBlb2YgbltlXSkgcmV0dXJuICEwO1xuICAgICAgICByZXR1cm4gITE7XG4gICAgfVxuICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4gICAgLyoqXG4gKiBSZXByZXNlbnRzIHRoZSB0YXNrIG9mIGxvYWRpbmcgYSBGaXJlc3RvcmUgYnVuZGxlLiBJdCBwcm92aWRlcyBwcm9ncmVzcyBvZiBidW5kbGVcbiAqIGxvYWRpbmcsIGFzIHdlbGwgYXMgdGFzayBjb21wbGV0aW9uIGFuZCBlcnJvciBldmVudHMuXG4gKlxuICogVGhlIEFQSSBpcyBjb21wYXRpYmxlIHdpdGggYFByb21pc2U8TG9hZEJ1bmRsZVRhc2tQcm9ncmVzcz5gLlxuICovIChlLCBbIFwibmV4dFwiLCBcImVycm9yXCIsIFwiY29tcGxldGVcIiBdKTtcbn1cblxuY2xhc3MgTG9hZEJ1bmRsZVRhc2sge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLl9wcm9ncmVzc09ic2VydmVyID0ge30sIHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIgPSBuZXcgX19QUklWQVRFX0RlZmVycmVkLCBcbiAgICAgICAgdGhpcy5fbGFzdFByb2dyZXNzID0ge1xuICAgICAgICAgICAgdGFza1N0YXRlOiBcIlJ1bm5pbmdcIixcbiAgICAgICAgICAgIHRvdGFsQnl0ZXM6IDAsXG4gICAgICAgICAgICB0b3RhbERvY3VtZW50czogMCxcbiAgICAgICAgICAgIGJ5dGVzTG9hZGVkOiAwLFxuICAgICAgICAgICAgZG9jdW1lbnRzTG9hZGVkOiAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBmdW5jdGlvbnMgdG8gbGlzdGVuIHRvIGJ1bmRsZSBsb2FkaW5nIHByb2dyZXNzIGV2ZW50cy5cbiAgICAgKiBAcGFyYW0gbmV4dCAtIENhbGxlZCB3aGVuIHRoZXJlIGlzIGEgcHJvZ3Jlc3MgdXBkYXRlIGZyb20gYnVuZGxlIGxvYWRpbmcuIFR5cGljYWxseSBgbmV4dGAgY2FsbHMgb2NjdXJcbiAgICAgKiAgIGVhY2ggdGltZSBhIEZpcmVzdG9yZSBkb2N1bWVudCBpcyBsb2FkZWQgZnJvbSB0aGUgYnVuZGxlLlxuICAgICAqIEBwYXJhbSBlcnJvciAtIENhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgYnVuZGxlIGxvYWRpbmcuIFRoZSB0YXNrIGFib3J0cyBhZnRlciByZXBvcnRpbmcgdGhlXG4gICAgICogICBlcnJvciwgYW5kIHRoZXJlIHNob3VsZCBiZSBubyBtb3JlIHVwZGF0ZXMgYWZ0ZXIgdGhpcy5cbiAgICAgKiBAcGFyYW0gY29tcGxldGUgLSBDYWxsZWQgd2hlbiB0aGUgbG9hZGluZyB0YXNrIGlzIGNvbXBsZXRlLlxuICAgICAqLyAgICBvblByb2dyZXNzKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlciA9IHtcbiAgICAgICAgICAgIG5leHQ6IGUsXG4gICAgICAgICAgICBlcnJvcjogdCxcbiAgICAgICAgICAgIGNvbXBsZXRlOiBuXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltcGxlbWVudHMgdGhlIGBQcm9taXNlPExvYWRCdW5kbGVUYXNrUHJvZ3Jlc3M+LmNhdGNoYCBpbnRlcmZhY2UuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb25SZWplY3RlZCAtIENhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBkdXJpbmcgYnVuZGxlIGxvYWRpbmcuXG4gICAgICovICAgIGNhdGNoKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIucHJvbWlzZS5jYXRjaChlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogSW1wbGVtZW50cyB0aGUgYFByb21pc2U8TG9hZEJ1bmRsZVRhc2tQcm9ncmVzcz4udGhlbmAgaW50ZXJmYWNlLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9uRnVsZmlsbGVkIC0gQ2FsbGVkIG9uIHRoZSBjb21wbGV0aW9uIG9mIHRoZSBsb2FkaW5nIHRhc2sgd2l0aCBhIGZpbmFsIGBMb2FkQnVuZGxlVGFza1Byb2dyZXNzYCB1cGRhdGUuXG4gICAgICogICBUaGUgdXBkYXRlIHdpbGwgYWx3YXlzIGhhdmUgaXRzIGB0YXNrU3RhdGVgIHNldCB0byBgXCJTdWNjZXNzXCJgLlxuICAgICAqIEBwYXJhbSBvblJlamVjdGVkIC0gQ2FsbGVkIHdoZW4gYW4gZXJyb3Igb2NjdXJzIGR1cmluZyBidW5kbGUgbG9hZGluZy5cbiAgICAgKi8gICAgdGhlbihlLCB0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnByb21pc2UudGhlbihlLCB0KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgYWxsIG9ic2VydmVycyB0aGF0IGJ1bmRsZSBsb2FkaW5nIGhhcyBjb21wbGV0ZWQsIHdpdGggYSBwcm92aWRlZFxuICAgICAqIGBMb2FkQnVuZGxlVGFza1Byb2dyZXNzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqLyAgICBfY29tcGxldGVXaXRoKGUpIHtcbiAgICAgICAgdGhpcy5fdXBkYXRlUHJvZ3Jlc3MoZSksIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIuY29tcGxldGUgJiYgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5jb21wbGV0ZSgpLCBcbiAgICAgICAgdGhpcy5fdGFza0NvbXBsZXRpb25SZXNvbHZlci5yZXNvbHZlKGUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBOb3RpZmllcyBhbGwgb2JzZXJ2ZXJzIHRoYXQgYnVuZGxlIGxvYWRpbmcgaGFzIGZhaWxlZCwgd2l0aCBhIHByb3ZpZGVkXG4gICAgICogYEVycm9yYCBhcyB0aGUgcmVhc29uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi8gICAgX2ZhaWxXaXRoKGUpIHtcbiAgICAgICAgdGhpcy5fbGFzdFByb2dyZXNzLnRhc2tTdGF0ZSA9IFwiRXJyb3JcIiwgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5uZXh0ICYmIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dCh0aGlzLl9sYXN0UHJvZ3Jlc3MpLCBcbiAgICAgICAgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5lcnJvciAmJiB0aGlzLl9wcm9ncmVzc09ic2VydmVyLmVycm9yKGUpLCB0aGlzLl90YXNrQ29tcGxldGlvblJlc29sdmVyLnJlamVjdChlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTm90aWZpZXMgYSBwcm9ncmVzcyB1cGRhdGUgb2YgbG9hZGluZyBhIGJ1bmRsZS5cbiAgICAgKiBAcGFyYW0gcHJvZ3Jlc3MgLSBUaGUgbmV3IHByb2dyZXNzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKi8gICAgX3VwZGF0ZVByb2dyZXNzKGUpIHtcbiAgICAgICAgdGhpcy5fbGFzdFByb2dyZXNzID0gZSwgdGhpcy5fcHJvZ3Jlc3NPYnNlcnZlci5uZXh0ICYmIHRoaXMuX3Byb2dyZXNzT2JzZXJ2ZXIubmV4dChlKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENvbnN0YW50IHVzZWQgdG8gaW5kaWNhdGUgdGhlIExSVSBnYXJiYWdlIGNvbGxlY3Rpb24gc2hvdWxkIGJlIGRpc2FibGVkLlxuICogU2V0IHRoaXMgdmFsdWUgYXMgdGhlIGBjYWNoZVNpemVCeXRlc2Agb24gdGhlIHNldHRpbmdzIHBhc3NlZCB0byB0aGVcbiAqIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlLlxuICovIGNvbnN0IHdlID0gLTE7XG5cbi8qKlxuICogVGhlIENsb3VkIEZpcmVzdG9yZSBzZXJ2aWNlIGludGVyZmFjZS5cbiAqXG4gKiBEbyBub3QgY2FsbCB0aGlzIGNvbnN0cnVjdG9yIGRpcmVjdGx5LiBJbnN0ZWFkLCB1c2Uge0BsaW5rIChnZXRGaXJlc3RvcmU6MSl9LlxuICovIGNsYXNzIEZpcmVzdG9yZSBleHRlbmRzIEZpcmVzdG9yZSQxIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4sIHIpIHtcbiAgICAgICAgc3VwZXIoZSwgdCwgbiwgciksIFxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciBpdCdzIGEge0BsaW5rIEZpcmVzdG9yZX0gb3IgRmlyZXN0b3JlIExpdGUgaW5zdGFuY2UuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcImZpcmVzdG9yZVwiLCB0aGlzLl9xdWV1ZSA9IGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdBc3luY1F1ZXVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfQXN5bmNRdWV1ZUltcGw7XG4gICAgICAgIH0oKSwgdGhpcy5fcGVyc2lzdGVuY2VLZXkgPSAobnVsbCA9PSByID8gdm9pZCAwIDogci5uYW1lKSB8fCBcIltERUZBVUxUXVwiO1xuICAgIH1cbiAgICBfdGVybWluYXRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZmlyZXN0b3JlQ2xpZW50IHx8IFxuICAgICAgICAvLyBUaGUgY2xpZW50IG11c3QgYmUgaW5pdGlhbGl6ZWQgdG8gZW5zdXJlIHRoYXQgYWxsIHN1YnNlcXVlbnQgQVBJXG4gICAgICAgIC8vIHVzYWdlIHRocm93cyBhbiBleGNlcHRpb24uXG4gICAgICAgIF9fUFJJVkFURV9jb25maWd1cmVGaXJlc3RvcmUodGhpcyksIHRoaXMuX2ZpcmVzdG9yZUNsaWVudC50ZXJtaW5hdGUoKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgYSBuZXcgaW5zdGFuY2Ugb2Yge0BsaW5rIEZpcmVzdG9yZX0gd2l0aCB0aGUgcHJvdmlkZWQgc2V0dGluZ3MuXG4gKiBDYW4gb25seSBiZSBjYWxsZWQgYmVmb3JlIGFueSBvdGhlciBmdW5jdGlvbiwgaW5jbHVkaW5nXG4gKiB7QGxpbmsgKGdldEZpcmVzdG9yZToxKX0uIElmIHRoZSBjdXN0b20gc2V0dGluZ3MgYXJlIGVtcHR5LCB0aGlzIGZ1bmN0aW9uIGlzXG4gKiBlcXVpdmFsZW50IHRvIGNhbGxpbmcge0BsaW5rIChnZXRGaXJlc3RvcmU6MSl9LlxuICpcbiAqIEBwYXJhbSBhcHAgLSBUaGUge0BsaW5rIEBmaXJlYmFzZS9hcHAjRmlyZWJhc2VBcHB9IHdpdGggd2hpY2ggdGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIHdpbGxcbiAqIGJlIGFzc29jaWF0ZWQuXG4gKiBAcGFyYW0gc2V0dGluZ3MgLSBBIHNldHRpbmdzIG9iamVjdCB0byBjb25maWd1cmUgdGhlIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlLlxuICogQHBhcmFtIGRhdGFiYXNlSWQgLSBUaGUgbmFtZSBvZiB0aGUgZGF0YWJhc2UuXG4gKiBAcmV0dXJucyBBIG5ld2x5IGluaXRpYWxpemVkIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlLlxuICovIGZ1bmN0aW9uIGluaXRpYWxpemVGaXJlc3RvcmUoZSwgdCwgbikge1xuICAgIG4gfHwgKG4gPSBcIihkZWZhdWx0KVwiKTtcbiAgICBjb25zdCByID0gYXBwLl9nZXRQcm92aWRlcihlLCBcImZpcmVzdG9yZVwiKTtcbiAgICBpZiAoci5pc0luaXRpYWxpemVkKG4pKSB7XG4gICAgICAgIGNvbnN0IGUgPSByLmdldEltbWVkaWF0ZSh7XG4gICAgICAgICAgICBpZGVudGlmaWVyOiBuXG4gICAgICAgIH0pLCBpID0gci5nZXRPcHRpb25zKG4pO1xuICAgICAgICBpZiAodXRpbC5kZWVwRXF1YWwoaSwgdCkpIHJldHVybiBlO1xuICAgICAgICB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcImluaXRpYWxpemVGaXJlc3RvcmUoKSBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZCB3aXRoIGRpZmZlcmVudCBvcHRpb25zLiBUbyBhdm9pZCB0aGlzIGVycm9yLCBjYWxsIGluaXRpYWxpemVGaXJlc3RvcmUoKSB3aXRoIHRoZSBzYW1lIG9wdGlvbnMgYXMgd2hlbiBpdCB3YXMgb3JpZ2luYWxseSBjYWxsZWQsIG9yIGNhbGwgZ2V0RmlyZXN0b3JlKCkgdG8gcmV0dXJuIHRoZSBhbHJlYWR5IGluaXRpYWxpemVkIGluc3RhbmNlLlwiKTtcbiAgICB9XG4gICAgaWYgKHZvaWQgMCAhPT0gdC5jYWNoZVNpemVCeXRlcyAmJiB2b2lkIDAgIT09IHQubG9jYWxDYWNoZSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJjYWNoZSBhbmQgY2FjaGVTaXplQnl0ZXMgY2Fubm90IGJlIHNwZWNpZmllZCBhdCB0aGUgc2FtZSB0aW1lIGFzIGNhY2hlU2l6ZUJ5dGVzIHdpbGxiZSBkZXByZWNhdGVkLiBJbnN0ZWFkLCBzcGVjaWZ5IHRoZSBjYWNoZSBzaXplIGluIHRoZSBjYWNoZSBvYmplY3RcIik7XG4gICAgaWYgKHZvaWQgMCAhPT0gdC5jYWNoZVNpemVCeXRlcyAmJiAtMSAhPT0gdC5jYWNoZVNpemVCeXRlcyAmJiB0LmNhY2hlU2l6ZUJ5dGVzIDwgMTA0ODU3NikgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJjYWNoZVNpemVCeXRlcyBtdXN0IGJlIGF0IGxlYXN0IDEwNDg1NzZcIik7XG4gICAgcmV0dXJuIHIuaW5pdGlhbGl6ZSh7XG4gICAgICAgIG9wdGlvbnM6IHQsXG4gICAgICAgIGluc3RhbmNlSWRlbnRpZmllcjogblxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBnZXRGaXJlc3RvcmUodCwgbikge1xuICAgIGNvbnN0IHIgPSBcIm9iamVjdFwiID09IHR5cGVvZiB0ID8gdCA6IGFwcC5nZXRBcHAoKSwgaSA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgPyB0IDogbiB8fCBcIihkZWZhdWx0KVwiLCBzID0gYXBwLl9nZXRQcm92aWRlcihyLCBcImZpcmVzdG9yZVwiKS5nZXRJbW1lZGlhdGUoe1xuICAgICAgICBpZGVudGlmaWVyOiBpXG4gICAgfSk7XG4gICAgaWYgKCFzLl9pbml0aWFsaXplZCkge1xuICAgICAgICBjb25zdCBlID0gdXRpbC5nZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQoXCJmaXJlc3RvcmVcIik7XG4gICAgICAgIGUgJiYgY29ubmVjdEZpcmVzdG9yZUVtdWxhdG9yKHMsIC4uLmUpO1xuICAgIH1cbiAgICByZXR1cm4gcztcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUpIHtcbiAgICByZXR1cm4gZS5fZmlyZXN0b3JlQ2xpZW50IHx8IF9fUFJJVkFURV9jb25maWd1cmVGaXJlc3RvcmUoZSksIGUuX2ZpcmVzdG9yZUNsaWVudC52ZXJpZnlOb3RUZXJtaW5hdGVkKCksIFxuICAgIGUuX2ZpcmVzdG9yZUNsaWVudDtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2NvbmZpZ3VyZUZpcmVzdG9yZShlKSB7XG4gICAgdmFyIHQsIG4sIHI7XG4gICAgY29uc3QgaSA9IGUuX2ZyZWV6ZVNldHRpbmdzKCksIHMgPSBmdW5jdGlvbiBfX1BSSVZBVEVfbWFrZURhdGFiYXNlSW5mbyhlLCB0LCBuLCByKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0YWJhc2VJbmZvKGUsIHQsIG4sIHIuaG9zdCwgci5zc2wsIHIuZXhwZXJpbWVudGFsRm9yY2VMb25nUG9sbGluZywgci5leHBlcmltZW50YWxBdXRvRGV0ZWN0TG9uZ1BvbGxpbmcsIF9fUFJJVkFURV9jbG9uZUxvbmdQb2xsaW5nT3B0aW9ucyhyLmV4cGVyaW1lbnRhbExvbmdQb2xsaW5nT3B0aW9ucyksIHIudXNlRmV0Y2hTdHJlYW1zKTtcbiAgICB9KGUuX2RhdGFiYXNlSWQsIChudWxsID09PSAodCA9IGUuX2FwcCkgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5vcHRpb25zLmFwcElkKSB8fCBcIlwiLCBlLl9wZXJzaXN0ZW5jZUtleSwgaSk7XG4gICAgZS5fZmlyZXN0b3JlQ2xpZW50ID0gbmV3IEZpcmVzdG9yZUNsaWVudChlLl9hdXRoQ3JlZGVudGlhbHMsIGUuX2FwcENoZWNrQ3JlZGVudGlhbHMsIGUuX3F1ZXVlLCBzKSwgXG4gICAgKG51bGwgPT09IChuID0gaS5sb2NhbENhY2hlKSB8fCB2b2lkIDAgPT09IG4gPyB2b2lkIDAgOiBuLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIpICYmIChudWxsID09PSAociA9IGkubG9jYWxDYWNoZSkgfHwgdm9pZCAwID09PSByID8gdm9pZCAwIDogci5fb25saW5lQ29tcG9uZW50UHJvdmlkZXIpICYmIChlLl9maXJlc3RvcmVDbGllbnQuX3VuaW5pdGlhbGl6ZWRDb21wb25lbnRzUHJvdmlkZXIgPSB7XG4gICAgICAgIF9vZmZsaW5lS2luZDogaS5sb2NhbENhY2hlLmtpbmQsXG4gICAgICAgIF9vZmZsaW5lOiBpLmxvY2FsQ2FjaGUuX29mZmxpbmVDb21wb25lbnRQcm92aWRlcixcbiAgICAgICAgX29ubGluZTogaS5sb2NhbENhY2hlLl9vbmxpbmVDb21wb25lbnRQcm92aWRlclxuICAgIH0pO1xufVxuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGVuYWJsZSBwZXJzaXN0ZW50IHN0b3JhZ2UsIGlmIHBvc3NpYmxlLlxuICpcbiAqIE9uIGZhaWx1cmUsIGBlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZSBvclxuICogdGhyb3cgYW4gZXhjZXB0aW9uLiBUaGVyZSBhcmUgc2V2ZXJhbCByZWFzb25zIHdoeSB0aGlzIGNhbiBmYWlsLCB3aGljaCBjYW4gYmVcbiAqIGlkZW50aWZpZWQgYnkgdGhlIGBjb2RlYCBvbiB0aGUgZXJyb3IuXG4gKlxuICogICAqIGZhaWxlZC1wcmVjb25kaXRpb246IFRoZSBhcHAgaXMgYWxyZWFkeSBvcGVuIGluIGFub3RoZXIgYnJvd3NlciB0YWIuXG4gKiAgICogdW5pbXBsZW1lbnRlZDogVGhlIGJyb3dzZXIgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIG9mZmxpbmUgcGVyc2lzdGVuY2VcbiAqICAgICBpbXBsZW1lbnRhdGlvbi5cbiAqXG4gKiBOb3RlIHRoYXQgZXZlbiBhZnRlciBhIGZhaWx1cmUsIHRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB3aWxsIHJlbWFpblxuICogdXNhYmxlLCBob3dldmVyIG9mZmxpbmUgcGVyc2lzdGVuY2Ugd2lsbCBiZSBkaXNhYmxlZC5cbiAqXG4gKiBOb3RlOiBgZW5hYmxlSW5kZXhlZERiUGVyc2lzdGVuY2UoKWAgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGFueSBvdGhlciBmdW5jdGlvbnNcbiAqIChvdGhlciB0aGFuIHtAbGluayBpbml0aWFsaXplRmlyZXN0b3JlfSwge0BsaW5rIChnZXRGaXJlc3RvcmU6MSl9IG9yXG4gKiB7QGxpbmsgY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZX0uXG4gKlxuICogUGVyc2lzdGVuY2UgY2Fubm90IGJlIHVzZWQgaW4gYSBOb2RlLmpzIGVudmlyb25tZW50LlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gZW5hYmxlIHBlcnNpc3RlbmNlIGZvci5cbiAqIEBwYXJhbSBwZXJzaXN0ZW5jZVNldHRpbmdzIC0gT3B0aW9uYWwgc2V0dGluZ3Mgb2JqZWN0IHRvIGNvbmZpZ3VyZVxuICogcGVyc2lzdGVuY2UuXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IHJlcHJlc2VudHMgc3VjY2Vzc2Z1bGx5IGVuYWJsaW5nIHBlcnNpc3RlbnQgc3RvcmFnZS5cbiAqIEBkZXByZWNhdGVkIFRoaXMgZnVuY3Rpb24gd2lsbCBiZSByZW1vdmVkIGluIGEgZnV0dXJlIG1ham9yIHJlbGVhc2UuIEluc3RlYWQsIHNldFxuICogYEZpcmVzdG9yZVNldHRpbmdzLmxvY2FsQ2FjaGVgIHRvIGFuIGluc3RhbmNlIG9mIGBQZXJzaXN0ZW50TG9jYWxDYWNoZWAgdG9cbiAqIHR1cm4gb24gSW5kZXhlZERiIGNhY2hlLiBDYWxsaW5nIHRoaXMgZnVuY3Rpb24gd2hlbiBgRmlyZXN0b3JlU2V0dGluZ3MubG9jYWxDYWNoZWBcbiAqIGlzIGFscmVhZHkgc3BlY2lmaWVkIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uLlxuICovIGZ1bmN0aW9uIGVuYWJsZUluZGV4ZWREYlBlcnNpc3RlbmNlKGUsIHQpIHtcbiAgICBfX1BSSVZBVEVfdmVyaWZ5Tm90SW5pdGlhbGl6ZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpO1xuICAgIGNvbnN0IG4gPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUpO1xuICAgIGlmIChuLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIlNESyBjYWNoZSBpcyBhbHJlYWR5IHNwZWNpZmllZC5cIik7XG4gICAgX19QUklWQVRFX2xvZ1dhcm4oXCJlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZSgpIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB0aGUgZnV0dXJlLCB5b3UgY2FuIHVzZSBgRmlyZXN0b3JlU2V0dGluZ3MuY2FjaGVgIGluc3RlYWQuXCIpO1xuICAgIGNvbnN0IHIgPSBlLl9mcmVlemVTZXR0aW5ncygpLCBpID0gbmV3IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyO1xuICAgIHJldHVybiBfX1BSSVZBVEVfc2V0UGVyc2lzdGVuY2VQcm92aWRlcnMobiwgaSwgbmV3IF9fUFJJVkFURV9JbmRleGVkRGJPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIoaSwgci5jYWNoZVNpemVCeXRlcywgbnVsbCA9PSB0ID8gdm9pZCAwIDogdC5mb3JjZU93bmVyc2hpcCkpO1xufVxuXG4vKipcbiAqIEF0dGVtcHRzIHRvIGVuYWJsZSBtdWx0aS10YWIgcGVyc2lzdGVudCBzdG9yYWdlLCBpZiBwb3NzaWJsZS4gSWYgZW5hYmxlZFxuICogYWNyb3NzIGFsbCB0YWJzLCBhbGwgb3BlcmF0aW9ucyBzaGFyZSBhY2Nlc3MgdG8gbG9jYWwgcGVyc2lzdGVuY2UsIGluY2x1ZGluZ1xuICogc2hhcmVkIGV4ZWN1dGlvbiBvZiBxdWVyaWVzIGFuZCBsYXRlbmN5LWNvbXBlbnNhdGVkIGxvY2FsIGRvY3VtZW50IHVwZGF0ZXNcbiAqIGFjcm9zcyBhbGwgY29ubmVjdGVkIGluc3RhbmNlcy5cbiAqXG4gKiBPbiBmYWlsdXJlLCBgZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpYCB3aWxsIHJlamVjdCB0aGUgcHJvbWlzZSBvclxuICogdGhyb3cgYW4gZXhjZXB0aW9uLiBUaGVyZSBhcmUgc2V2ZXJhbCByZWFzb25zIHdoeSB0aGlzIGNhbiBmYWlsLCB3aGljaCBjYW4gYmVcbiAqIGlkZW50aWZpZWQgYnkgdGhlIGBjb2RlYCBvbiB0aGUgZXJyb3IuXG4gKlxuICogICAqIGZhaWxlZC1wcmVjb25kaXRpb246IFRoZSBhcHAgaXMgYWxyZWFkeSBvcGVuIGluIGFub3RoZXIgYnJvd3NlciB0YWIgYW5kXG4gKiAgICAgbXVsdGktdGFiIGlzIG5vdCBlbmFibGVkLlxuICogICAqIHVuaW1wbGVtZW50ZWQ6IFRoZSBicm93c2VyIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBvZmZsaW5lIHBlcnNpc3RlbmNlXG4gKiAgICAgaW1wbGVtZW50YXRpb24uXG4gKlxuICogTm90ZSB0aGF0IGV2ZW4gYWZ0ZXIgYSBmYWlsdXJlLCB0aGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2Ugd2lsbCByZW1haW5cbiAqIHVzYWJsZSwgaG93ZXZlciBvZmZsaW5lIHBlcnNpc3RlbmNlIHdpbGwgYmUgZGlzYWJsZWQuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIFRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB0byBlbmFibGUgcGVyc2lzdGVuY2UgZm9yLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXByZXNlbnRzIHN1Y2Nlc3NmdWxseSBlbmFibGluZyBwZXJzaXN0ZW50XG4gKiBzdG9yYWdlLlxuICogQGRlcHJlY2F0ZWQgVGhpcyBmdW5jdGlvbiB3aWxsIGJlIHJlbW92ZWQgaW4gYSBmdXR1cmUgbWFqb3IgcmVsZWFzZS4gSW5zdGVhZCwgc2V0XG4gKiBgRmlyZXN0b3JlU2V0dGluZ3MubG9jYWxDYWNoZWAgdG8gYW4gaW5zdGFuY2Ugb2YgYFBlcnNpc3RlbnRMb2NhbENhY2hlYCB0b1xuICogdHVybiBvbiBpbmRleGVkZGIgY2FjaGUuIENhbGxpbmcgdGhpcyBmdW5jdGlvbiB3aGVuIGBGaXJlc3RvcmVTZXR0aW5ncy5sb2NhbENhY2hlYFxuICogaXMgYWxyZWFkeSBzcGVjaWZpZWQgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24uXG4gKi8gZnVuY3Rpb24gZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZShlKSB7XG4gICAgX19QUklWQVRFX3ZlcmlmeU5vdEluaXRpYWxpemVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKTtcbiAgICBjb25zdCB0ID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlKTtcbiAgICBpZiAodC5fdW5pbml0aWFsaXplZENvbXBvbmVudHNQcm92aWRlcikgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJTREsgY2FjaGUgaXMgYWxyZWFkeSBzcGVjaWZpZWQuXCIpO1xuICAgIF9fUFJJVkFURV9sb2dXYXJuKFwiZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZSgpIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB0aGUgZnV0dXJlLCB5b3UgY2FuIHVzZSBgRmlyZXN0b3JlU2V0dGluZ3MuY2FjaGVgIGluc3RlYWQuXCIpO1xuICAgIGNvbnN0IG4gPSBlLl9mcmVlemVTZXR0aW5ncygpLCByID0gbmV3IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyO1xuICAgIHJldHVybiBfX1BSSVZBVEVfc2V0UGVyc2lzdGVuY2VQcm92aWRlcnModCwgciwgbmV3IF9fUFJJVkFURV9NdWx0aVRhYk9mZmxpbmVDb21wb25lbnRQcm92aWRlcihyLCBuLmNhY2hlU2l6ZUJ5dGVzKSk7XG59XG5cbi8qKlxuICogUmVnaXN0ZXJzIGJvdGggdGhlIGBPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXJgIGFuZCBgT25saW5lQ29tcG9uZW50UHJvdmlkZXJgLlxuICogSWYgdGhlIG9wZXJhdGlvbiBmYWlscyB3aXRoIGEgcmVjb3ZlcmFibGUgZXJyb3IgKHNlZVxuICogYGNhblJlY292ZXJGcm9tSW5kZXhlZERiRXJyb3IoKWAgYmVsb3cpLCB0aGUgcmV0dXJuZWQgUHJvbWlzZSBpcyByZWplY3RlZFxuICogYnV0IHRoZSBjbGllbnQgcmVtYWlucyB1c2FibGUuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3NldFBlcnNpc3RlbmNlUHJvdmlkZXJzKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICByZXR1cm4gZS5hc3luY1F1ZXVlLmVucXVldWUoKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9zZXRPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIoZSwgbiksIGF3YWl0IF9fUFJJVkFURV9zZXRPbmxpbmVDb21wb25lbnRQcm92aWRlcihlLCB0KSwgXG4gICAgICAgICAgICByLnJlc29sdmUoKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgY29uc3QgdCA9IGU7XG4gICAgICAgICAgICBpZiAoIV9fUFJJVkFURV9jYW5GYWxsYmFja0Zyb21JbmRleGVkRGJFcnJvcih0KSkgdGhyb3cgdDtcbiAgICAgICAgICAgIF9fUFJJVkFURV9sb2dXYXJuKFwiRXJyb3IgZW5hYmxpbmcgaW5kZXhlZGRiIGNhY2hlLiBGYWxsaW5nIGJhY2sgdG8gbWVtb3J5IGNhY2hlOiBcIiArIHQpLCBcbiAgICAgICAgICAgIHIucmVqZWN0KHQpO1xuICAgICAgICB9XG4gICAgfSkpLnRoZW4oKCgpID0+IHIucHJvbWlzZSkpO1xufVxuXG4vKipcbiAqIENsZWFycyB0aGUgcGVyc2lzdGVudCBzdG9yYWdlLiBUaGlzIGluY2x1ZGVzIHBlbmRpbmcgd3JpdGVzIGFuZCBjYWNoZWRcbiAqIGRvY3VtZW50cy5cbiAqXG4gKiBNdXN0IGJlIGNhbGxlZCB3aGlsZSB0aGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgaXMgbm90IHN0YXJ0ZWQgKGFmdGVyIHRoZSBhcHAgaXNcbiAqIHRlcm1pbmF0ZWQgb3Igd2hlbiB0aGUgYXBwIGlzIGZpcnN0IGluaXRpYWxpemVkKS4gT24gc3RhcnR1cCwgdGhpcyBmdW5jdGlvblxuICogbXVzdCBiZSBjYWxsZWQgYmVmb3JlIG90aGVyIGZ1bmN0aW9ucyAob3RoZXIgdGhhbiB7QGxpbmtcbiAqIGluaXRpYWxpemVGaXJlc3RvcmV9IG9yIHtAbGluayAoZ2V0RmlyZXN0b3JlOjEpfSkpLiBJZiB0aGUge0BsaW5rIEZpcmVzdG9yZX1cbiAqIGluc3RhbmNlIGlzIHN0aWxsIHJ1bm5pbmcsIHRoZSBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCB0aGUgZXJyb3IgY29kZVxuICogb2YgYGZhaWxlZC1wcmVjb25kaXRpb25gLlxuICpcbiAqIE5vdGU6IGBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlKClgIGlzIHByaW1hcmlseSBpbnRlbmRlZCB0byBoZWxwIHdyaXRlXG4gKiByZWxpYWJsZSB0ZXN0cyB0aGF0IHVzZSBDbG91ZCBGaXJlc3RvcmUuIEl0IHVzZXMgYW4gZWZmaWNpZW50IG1lY2hhbmlzbSBmb3JcbiAqIGRyb3BwaW5nIGV4aXN0aW5nIGRhdGEgYnV0IGRvZXMgbm90IGF0dGVtcHQgdG8gc2VjdXJlbHkgb3ZlcndyaXRlIG9yXG4gKiBvdGhlcndpc2UgbWFrZSBjYWNoZWQgZGF0YSB1bnJlY292ZXJhYmxlLiBGb3IgYXBwbGljYXRpb25zIHRoYXQgYXJlIHNlbnNpdGl2ZVxuICogdG8gdGhlIGRpc2Nsb3N1cmUgb2YgY2FjaGVkIGRhdGEgaW4gYmV0d2VlbiB1c2VyIHNlc3Npb25zLCB3ZSBzdHJvbmdseVxuICogcmVjb21tZW5kIG5vdCBlbmFibGluZyBwZXJzaXN0ZW5jZSBhdCBhbGwuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIFRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB0byBjbGVhciBwZXJzaXN0ZW5jZSBmb3IuXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IGlzIHJlc29sdmVkIHdoZW4gdGhlIHBlcnNpc3RlbnQgc3RvcmFnZSBpc1xuICogY2xlYXJlZC4gT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSBpcyByZWplY3RlZCB3aXRoIGFuIGVycm9yLlxuICovIGZ1bmN0aW9uIGNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2UoZSkge1xuICAgIGlmIChlLl9pbml0aWFsaXplZCAmJiAhZS5fdGVybWluYXRlZCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuRkFJTEVEX1BSRUNPTkRJVElPTiwgXCJQZXJzaXN0ZW5jZSBjYW4gb25seSBiZSBjbGVhcmVkIGJlZm9yZSBhIEZpcmVzdG9yZSBpbnN0YW5jZSBpcyBpbml0aWFsaXplZCBvciBhZnRlciBpdCBpcyB0ZXJtaW5hdGVkLlwiKTtcbiAgICBjb25zdCB0ID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICByZXR1cm4gZS5fcXVldWUuZW5xdWV1ZUFuZEZvcmdldEV2ZW5XaGlsZVJlc3RyaWN0ZWQoKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGF3YWl0IGFzeW5jIGZ1bmN0aW9uIF9fUFJJVkFURV9pbmRleGVkRGJDbGVhclBlcnNpc3RlbmNlKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIV9fUFJJVkFURV9TaW1wbGVEYi5EKCkpIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gZSArIFwibWFpblwiO1xuICAgICAgICAgICAgICAgIGF3YWl0IF9fUFJJVkFURV9TaW1wbGVEYi5kZWxldGUodCk7XG4gICAgICAgICAgICB9KF9fUFJJVkFURV9pbmRleGVkRGJTdG9yYWdlUHJlZml4KGUuX2RhdGFiYXNlSWQsIGUuX3BlcnNpc3RlbmNlS2V5KSksIHQucmVzb2x2ZSgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICB0LnJlamVjdChlKTtcbiAgICAgICAgfVxuICAgIH0pKSwgdC5wcm9taXNlO1xufVxuXG4vKipcbiAqIFdhaXRzIHVudGlsIGFsbCBjdXJyZW50bHkgcGVuZGluZyB3cml0ZXMgZm9yIHRoZSBhY3RpdmUgdXNlciBoYXZlIGJlZW5cbiAqIGFja25vd2xlZGdlZCBieSB0aGUgYmFja2VuZC5cbiAqXG4gKiBUaGUgcmV0dXJuZWQgcHJvbWlzZSByZXNvbHZlcyBpbW1lZGlhdGVseSBpZiB0aGVyZSBhcmUgbm8gb3V0c3RhbmRpbmcgd3JpdGVzLlxuICogT3RoZXJ3aXNlLCB0aGUgcHJvbWlzZSB3YWl0cyBmb3IgYWxsIHByZXZpb3VzbHkgaXNzdWVkIHdyaXRlcyAoaW5jbHVkaW5nXG4gKiB0aG9zZSB3cml0dGVuIGluIGEgcHJldmlvdXMgYXBwIHNlc3Npb24pLCBidXQgaXQgZG9lcyBub3Qgd2FpdCBmb3Igd3JpdGVzXG4gKiB0aGF0IHdlcmUgYWRkZWQgYWZ0ZXIgdGhlIGZ1bmN0aW9uIGlzIGNhbGxlZC4gSWYgeW91IHdhbnQgdG8gd2FpdCBmb3JcbiAqIGFkZGl0aW9uYWwgd3JpdGVzLCBjYWxsIGB3YWl0Rm9yUGVuZGluZ1dyaXRlcygpYCBhZ2Fpbi5cbiAqXG4gKiBBbnkgb3V0c3RhbmRpbmcgYHdhaXRGb3JQZW5kaW5nV3JpdGVzKClgIHByb21pc2VzIGFyZSByZWplY3RlZCBkdXJpbmcgdXNlclxuICogY2hhbmdlcy5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB3aGljaCByZXNvbHZlcyB3aGVuIGFsbCBjdXJyZW50bHkgcGVuZGluZyB3cml0ZXMgaGF2ZSBiZWVuXG4gKiBhY2tub3dsZWRnZWQgYnkgdGhlIGJhY2tlbmQuXG4gKi8gZnVuY3Rpb24gd2FpdEZvclBlbmRpbmdXcml0ZXMoZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50V2FpdEZvclBlbmRpbmdXcml0ZXMoZSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICAgICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBfX1BSSVZBVEVfc3luY0VuZ2luZVJlZ2lzdGVyUGVuZGluZ1dyaXRlc0NhbGxiYWNrKGF3YWl0IF9fUFJJVkFURV9nZXRTeW5jRW5naW5lKGUpLCB0KSkpLCBcbiAgICAgICAgdC5wcm9taXNlO1xuICAgIH0oZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSkpO1xufVxuXG4vKipcbiAqIFJlLWVuYWJsZXMgdXNlIG9mIHRoZSBuZXR3b3JrIGZvciB0aGlzIHtAbGluayBGaXJlc3RvcmV9IGluc3RhbmNlIGFmdGVyIGEgcHJpb3JcbiAqIGNhbGwgdG8ge0BsaW5rIGRpc2FibGVOZXR3b3JrfS5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IGlzIHJlc29sdmVkIG9uY2UgdGhlIG5ldHdvcmsgaGFzIGJlZW4gZW5hYmxlZC5cbiAqLyBmdW5jdGlvbiBlbmFibGVOZXR3b3JrKGUpIHtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEVuYWJsZU5ldHdvcmsoZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSkpO1xufVxuXG4vKipcbiAqIERpc2FibGVzIG5ldHdvcmsgdXNhZ2UgZm9yIHRoaXMgaW5zdGFuY2UuIEl0IGNhbiBiZSByZS1lbmFibGVkIHZpYSB7QGxpbmtcbiAqIGVuYWJsZU5ldHdvcmt9LiBXaGlsZSB0aGUgbmV0d29yayBpcyBkaXNhYmxlZCwgYW55IHNuYXBzaG90IGxpc3RlbmVycyxcbiAqIGBnZXREb2MoKWAgb3IgYGdldERvY3MoKWAgY2FsbHMgd2lsbCByZXR1cm4gcmVzdWx0cyBmcm9tIGNhY2hlLCBhbmQgYW55IHdyaXRlXG4gKiBvcGVyYXRpb25zIHdpbGwgYmUgcXVldWVkIHVudGlsIHRoZSBuZXR3b3JrIGlzIHJlc3RvcmVkLlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgaXMgcmVzb2x2ZWQgb25jZSB0aGUgbmV0d29yayBoYXMgYmVlbiBkaXNhYmxlZC5cbiAqLyBmdW5jdGlvbiBkaXNhYmxlTmV0d29yayhlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnREaXNhYmxlTmV0d29yayhlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKSk7XG59XG5cbi8qKlxuICogVGVybWluYXRlcyB0aGUgcHJvdmlkZWQge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UuXG4gKlxuICogQWZ0ZXIgY2FsbGluZyBgdGVybWluYXRlKClgIG9ubHkgdGhlIGBjbGVhckluZGV4ZWREYlBlcnNpc3RlbmNlKClgIGZ1bmN0aW9uXG4gKiBtYXkgYmUgdXNlZC4gQW55IG90aGVyIGZ1bmN0aW9uIHdpbGwgdGhyb3cgYSBgRmlyZXN0b3JlRXJyb3JgLlxuICpcbiAqIFRvIHJlc3RhcnQgYWZ0ZXIgdGVybWluYXRpb24sIGNyZWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiBGaXJlYmFzZUZpcmVzdG9yZSB3aXRoXG4gKiB7QGxpbmsgKGdldEZpcmVzdG9yZToxKX0uXG4gKlxuICogVGVybWluYXRpb24gZG9lcyBub3QgY2FuY2VsIGFueSBwZW5kaW5nIHdyaXRlcywgYW5kIGFueSBwcm9taXNlcyB0aGF0IGFyZVxuICogYXdhaXRpbmcgYSByZXNwb25zZSBmcm9tIHRoZSBzZXJ2ZXIgd2lsbCBub3QgYmUgcmVzb2x2ZWQuIElmIHlvdSBoYXZlXG4gKiBwZXJzaXN0ZW5jZSBlbmFibGVkLCB0aGUgbmV4dCB0aW1lIHlvdSBzdGFydCB0aGlzIGluc3RhbmNlLCBpdCB3aWxsIHJlc3VtZVxuICogc2VuZGluZyB0aGVzZSB3cml0ZXMgdG8gdGhlIHNlcnZlci5cbiAqXG4gKiBOb3RlOiBVbmRlciBub3JtYWwgY2lyY3Vtc3RhbmNlcywgY2FsbGluZyBgdGVybWluYXRlKClgIGlzIG5vdCByZXF1aXJlZC4gVGhpc1xuICogZnVuY3Rpb24gaXMgdXNlZnVsIG9ubHkgd2hlbiB5b3Ugd2FudCB0byBmb3JjZSB0aGlzIGluc3RhbmNlIHRvIHJlbGVhc2UgYWxsXG4gKiBvZiBpdHMgcmVzb3VyY2VzIG9yIGluIGNvbWJpbmF0aW9uIHdpdGggYGNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2UoKWAgdG9cbiAqIGVuc3VyZSB0aGF0IGFsbCBsb2NhbCBzdGF0ZSBpcyBkZXN0cm95ZWQgYmV0d2VlbiB0ZXN0IHJ1bnMuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCBpcyByZXNvbHZlZCB3aGVuIHRoZSBpbnN0YW5jZSBoYXMgYmVlbiBzdWNjZXNzZnVsbHlcbiAqIHRlcm1pbmF0ZWQuXG4gKi8gZnVuY3Rpb24gdGVybWluYXRlKGUpIHtcbiAgICByZXR1cm4gYXBwLl9yZW1vdmVTZXJ2aWNlSW5zdGFuY2UoZS5hcHAsIFwiZmlyZXN0b3JlXCIsIGUuX2RhdGFiYXNlSWQuZGF0YWJhc2UpLCBlLl9kZWxldGUoKTtcbn1cblxuLyoqXG4gKiBMb2FkcyBhIEZpcmVzdG9yZSBidW5kbGUgaW50byB0aGUgbG9jYWwgY2FjaGUuXG4gKlxuICogQHBhcmFtIGZpcmVzdG9yZSAtIFRoZSB7QGxpbmsgRmlyZXN0b3JlfSBpbnN0YW5jZSB0byBsb2FkIGJ1bmRsZXMgZm9yLlxuICogQHBhcmFtIGJ1bmRsZURhdGEgLSBBbiBvYmplY3QgcmVwcmVzZW50aW5nIHRoZSBidW5kbGUgdG8gYmUgbG9hZGVkLiBWYWxpZFxuICogb2JqZWN0cyBhcmUgYEFycmF5QnVmZmVyYCwgYFJlYWRhYmxlU3RyZWFtPFVpbnQ4QXJyYXk+YCBvciBgc3RyaW5nYC5cbiAqXG4gKiBAcmV0dXJucyBBIGBMb2FkQnVuZGxlVGFza2Agb2JqZWN0LCB3aGljaCBub3RpZmllcyBjYWxsZXJzIHdpdGggcHJvZ3Jlc3NcbiAqIHVwZGF0ZXMsIGFuZCBjb21wbGV0aW9uIG9yIGVycm9yIGV2ZW50cy4gSXQgY2FuIGJlIHVzZWQgYXMgYVxuICogYFByb21pc2U8TG9hZEJ1bmRsZVRhc2tQcm9ncmVzcz5gLlxuICovIGZ1bmN0aW9uIGxvYWRCdW5kbGUoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUgPSBfX1BSSVZBVEVfY2FzdChlLCBGaXJlc3RvcmUpKSwgciA9IG5ldyBMb2FkQnVuZGxlVGFzaztcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudExvYWRCdW5kbGUobiwgZS5fZGF0YWJhc2VJZCwgdCwgciksIHI7XG59XG5cbi8qKlxuICogUmVhZHMgYSBGaXJlc3RvcmUge0BsaW5rIFF1ZXJ5fSBmcm9tIGxvY2FsIGNhY2hlLCBpZGVudGlmaWVkIGJ5IHRoZSBnaXZlblxuICogbmFtZS5cbiAqXG4gKiBUaGUgbmFtZWQgcXVlcmllcyBhcmUgcGFja2FnZWQgIGludG8gYnVuZGxlcyBvbiB0aGUgc2VydmVyIHNpZGUgKGFsb25nXG4gKiB3aXRoIHJlc3VsdGluZyBkb2N1bWVudHMpLCBhbmQgbG9hZGVkIHRvIGxvY2FsIGNhY2hlIHVzaW5nIGBsb2FkQnVuZGxlYC4gT25jZVxuICogaW4gbG9jYWwgY2FjaGUsIHVzZSB0aGlzIG1ldGhvZCB0byBleHRyYWN0IGEge0BsaW5rIFF1ZXJ5fSBieSBuYW1lLlxuICpcbiAqIEBwYXJhbSBmaXJlc3RvcmUgLSBUaGUge0BsaW5rIEZpcmVzdG9yZX0gaW5zdGFuY2UgdG8gcmVhZCB0aGUgcXVlcnkgZnJvbS5cbiAqIEBwYXJhbSBuYW1lIC0gVGhlIG5hbWUgb2YgdGhlIHF1ZXJ5LlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCBpcyByZXNvbHZlZCB3aXRoIHRoZSBRdWVyeSBvciBgbnVsbGAuXG4gKi8gZnVuY3Rpb24gbmFtZWRRdWVyeShlLCB0KSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXROYW1lZFF1ZXJ5KGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpLCB0KS50aGVuKCh0ID0+IHQgPyBuZXcgUXVlcnkoZSwgbnVsbCwgdC5xdWVyeSkgOiBudWxsKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV92ZXJpZnlOb3RJbml0aWFsaXplZChlKSB7XG4gICAgaWYgKGUuX2luaXRpYWxpemVkIHx8IGUuX3Rlcm1pbmF0ZWQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLkZBSUxFRF9QUkVDT05ESVRJT04sIFwiRmlyZXN0b3JlIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBhbmQgcGVyc2lzdGVuY2UgY2FuIG5vIGxvbmdlciBiZSBlbmFibGVkLiBZb3UgY2FuIG9ubHkgZW5hYmxlIHBlcnNpc3RlbmNlIGJlZm9yZSBjYWxsaW5nIGFueSBvdGhlciBtZXRob2RzIG9uIGEgRmlyZXN0b3JlIG9iamVjdC5cIik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGFuIGFnZ3JlZ2F0aW9uIHRoYXQgY2FuIGJlIHBlcmZvcm1lZCBieSBGaXJlc3RvcmUuXG4gKi9cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbmNsYXNzIEFnZ3JlZ2F0ZUZpZWxkIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgQWdncmVnYXRlRmllbGQ8VD5cbiAgICAgKiBAcGFyYW0gYWdncmVnYXRlVHlwZSBTcGVjaWZpZXMgdGhlIHR5cGUgb2YgYWdncmVnYXRpb24gb3BlcmF0aW9uIHRvIHBlcmZvcm0uXG4gICAgICogQHBhcmFtIF9pbnRlcm5hbEZpZWxkUGF0aCBPcHRpb25hbGx5IHNwZWNpZmllcyB0aGUgZmllbGQgdGhhdCBpcyBhZ2dyZWdhdGVkLlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUgPSBcImNvdW50XCIsIHQpIHtcbiAgICAgICAgdGhpcy5faW50ZXJuYWxGaWVsZFBhdGggPSB0LCBcbiAgICAgICAgLyoqIEEgdHlwZSBzdHJpbmcgdG8gdW5pcXVlbHkgaWRlbnRpZnkgaW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MuICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwiQWdncmVnYXRlRmllbGRcIiwgdGhpcy5hZ2dyZWdhdGVUeXBlID0gZTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIHJlc3VsdHMgb2YgZXhlY3V0aW5nIGFuIGFnZ3JlZ2F0aW9uIHF1ZXJ5LlxuICovIGNsYXNzIEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3Qge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbikge1xuICAgICAgICB0aGlzLl91c2VyRGF0YVdyaXRlciA9IHQsIHRoaXMuX2RhdGEgPSBuLCBcbiAgICAgICAgLyoqIEEgdHlwZSBzdHJpbmcgdG8gdW5pcXVlbHkgaWRlbnRpZnkgaW5zdGFuY2VzIG9mIHRoaXMgY2xhc3MuICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwiQWdncmVnYXRlUXVlcnlTbmFwc2hvdFwiLCB0aGlzLnF1ZXJ5ID0gZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcmVzdWx0cyBvZiB0aGUgYWdncmVnYXRpb25zIHBlcmZvcm1lZCBvdmVyIHRoZSB1bmRlcmx5aW5nXG4gICAgICogcXVlcnkuXG4gICAgICpcbiAgICAgKiBUaGUga2V5cyBvZiB0aGUgcmV0dXJuZWQgb2JqZWN0IHdpbGwgYmUgdGhlIHNhbWUgYXMgdGhvc2Ugb2YgdGhlXG4gICAgICogYEFnZ3JlZ2F0ZVNwZWNgIG9iamVjdCBzcGVjaWZpZWQgdG8gdGhlIGFnZ3JlZ2F0aW9uIG1ldGhvZCwgYW5kIHRoZSB2YWx1ZXNcbiAgICAgKiB3aWxsIGJlIHRoZSBjb3JyZXNwb25kaW5nIGFnZ3JlZ2F0aW9uIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSByZXN1bHRzIG9mIHRoZSBhZ2dyZWdhdGlvbnMgcGVyZm9ybWVkIG92ZXIgdGhlIHVuZGVybHlpbmdcbiAgICAgKiBxdWVyeS5cbiAgICAgKi8gICAgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRPYmplY3RNYXAodGhpcy5fZGF0YSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBpbW11dGFibGUgb2JqZWN0IHJlcHJlc2VudGluZyBhbiBhcnJheSBvZiBieXRlcy5cbiAqLyBjbGFzcyBCeXRlcyB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuX2J5dGVTdHJpbmcgPSBlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGBCeXRlc2Agb2JqZWN0IGZyb20gdGhlIGdpdmVuIEJhc2U2NCBzdHJpbmcsIGNvbnZlcnRpbmcgaXQgdG9cbiAgICAgKiBieXRlcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBiYXNlNjQgLSBUaGUgQmFzZTY0IHN0cmluZyB1c2VkIHRvIGNyZWF0ZSB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHN0YXRpYyBmcm9tQmFzZTY0U3RyaW5nKGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQnl0ZXMoQnl0ZVN0cmluZy5mcm9tQmFzZTY0U3RyaW5nKGUpKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJGYWlsZWQgdG8gY29uc3RydWN0IGRhdGEgZnJvbSBCYXNlNjQgc3RyaW5nOiBcIiArIGUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgYEJ5dGVzYCBvYmplY3QgZnJvbSB0aGUgZ2l2ZW4gVWludDhBcnJheS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhcnJheSAtIFRoZSBVaW50OEFycmF5IHVzZWQgdG8gY3JlYXRlIHRoZSBgQnl0ZXNgIG9iamVjdC5cbiAgICAgKi8gICAgc3RhdGljIGZyb21VaW50OEFycmF5KGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCeXRlcyhCeXRlU3RyaW5nLmZyb21VaW50OEFycmF5KGUpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdW5kZXJseWluZyBieXRlcyBhcyBhIEJhc2U2NC1lbmNvZGVkIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIFRoZSBCYXNlNjQtZW5jb2RlZCBzdHJpbmcgY3JlYXRlZCBmcm9tIHRoZSBgQnl0ZXNgIG9iamVjdC5cbiAgICAgKi8gICAgdG9CYXNlNjQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9ieXRlU3RyaW5nLnRvQmFzZTY0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuZGVybHlpbmcgYnl0ZXMgaW4gYSBuZXcgYFVpbnQ4QXJyYXlgLlxuICAgICAqXG4gICAgICogQHJldHVybnMgVGhlIFVpbnQ4QXJyYXkgY3JlYXRlZCBmcm9tIHRoZSBgQnl0ZXNgIG9iamVjdC5cbiAgICAgKi8gICAgdG9VaW50OEFycmF5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYnl0ZVN0cmluZy50b1VpbnQ4QXJyYXkoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgYEJ5dGVzYCBvYmplY3QuXG4gICAgICovICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gXCJCeXRlcyhiYXNlNjQ6IFwiICsgdGhpcy50b0Jhc2U2NCgpICsgXCIpXCI7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBCeXRlc2Agb2JqZWN0IGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3RoZXIgLSBUaGUgYEJ5dGVzYCBvYmplY3QgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhpcyBgQnl0ZXNgIG9iamVjdCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2J5dGVTdHJpbmcuaXNFcXVhbChlLl9ieXRlU3RyaW5nKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEEgYEZpZWxkUGF0aGAgcmVmZXJzIHRvIGEgZmllbGQgaW4gYSBkb2N1bWVudC4gVGhlIHBhdGggbWF5IGNvbnNpc3Qgb2YgYVxuICogc2luZ2xlIGZpZWxkIG5hbWUgKHJlZmVycmluZyB0byBhIHRvcC1sZXZlbCBmaWVsZCBpbiB0aGUgZG9jdW1lbnQpLCBvciBhXG4gKiBsaXN0IG9mIGZpZWxkIG5hbWVzIChyZWZlcnJpbmcgdG8gYSBuZXN0ZWQgZmllbGQgaW4gdGhlIGRvY3VtZW50KS5cbiAqXG4gKiBDcmVhdGUgYSBgRmllbGRQYXRoYCBieSBwcm92aWRpbmcgZmllbGQgbmFtZXMuIElmIG1vcmUgdGhhbiBvbmUgZmllbGRcbiAqIG5hbWUgaXMgcHJvdmlkZWQsIHRoZSBwYXRoIHdpbGwgcG9pbnQgdG8gYSBuZXN0ZWQgZmllbGQgaW4gYSBkb2N1bWVudC5cbiAqLyBjbGFzcyBGaWVsZFBhdGgge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgRmllbGRQYXRoYCBmcm9tIHRoZSBwcm92aWRlZCBmaWVsZCBuYW1lcy4gSWYgbW9yZSB0aGFuIG9uZSBmaWVsZFxuICAgICAqIG5hbWUgaXMgcHJvdmlkZWQsIHRoZSBwYXRoIHdpbGwgcG9pbnQgdG8gYSBuZXN0ZWQgZmllbGQgaW4gYSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWVsZE5hbWVzIC0gQSBsaXN0IG9mIGZpZWxkIG5hbWVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKC4uLmUpIHtcbiAgICAgICAgZm9yIChsZXQgdCA9IDA7IHQgPCBlLmxlbmd0aDsgKyt0KSBpZiAoMCA9PT0gZVt0XS5sZW5ndGgpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiSW52YWxpZCBmaWVsZCBuYW1lIGF0IGFyZ3VtZW50ICQoaSArIDEpLiBGaWVsZCBuYW1lcyBtdXN0IG5vdCBiZSBlbXB0eS5cIik7XG4gICAgICAgIHRoaXMuX2ludGVybmFsUGF0aCA9IG5ldyBGaWVsZFBhdGgkMShlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoaXMgYEZpZWxkUGF0aGAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlciAtIFRoZSBgRmllbGRQYXRoYCB0byBjb21wYXJlIGFnYWluc3QuXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGlzIGBGaWVsZFBhdGhgIGlzIGVxdWFsIHRvIHRoZSBwcm92aWRlZCBvbmUuXG4gICAgICovICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5faW50ZXJuYWxQYXRoLmlzRXF1YWwoZS5faW50ZXJuYWxQYXRoKTtcbiAgICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNwZWNpYWwgc2VudGluZWwgYEZpZWxkUGF0aGAgdG8gcmVmZXIgdG8gdGhlIElEIG9mIGEgZG9jdW1lbnQuXG4gKiBJdCBjYW4gYmUgdXNlZCBpbiBxdWVyaWVzIHRvIHNvcnQgb3IgZmlsdGVyIGJ5IHRoZSBkb2N1bWVudCBJRC5cbiAqLyBmdW5jdGlvbiBkb2N1bWVudElkKCkge1xuICAgIHJldHVybiBuZXcgRmllbGRQYXRoKFwiX19uYW1lX19cIik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFNlbnRpbmVsIHZhbHVlcyB0aGF0IGNhbiBiZSB1c2VkIHdoZW4gd3JpdGluZyBkb2N1bWVudCBmaWVsZHMgd2l0aCBgc2V0KClgXG4gKiBvciBgdXBkYXRlKClgLlxuICovIGNsYXNzIEZpZWxkVmFsdWUge1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBfbWV0aG9kTmFtZSAtIFRoZSBwdWJsaWMgQVBJIGVuZHBvaW50IHRoYXQgcmV0dXJucyB0aGlzIGNsYXNzLlxuICAgICAqIEBoaWRlY29uc3RydWN0b3JcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHRoaXMuX21ldGhvZE5hbWUgPSBlO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gaW1tdXRhYmxlIG9iamVjdCByZXByZXNlbnRpbmcgYSBnZW9ncmFwaGljIGxvY2F0aW9uIGluIEZpcmVzdG9yZS4gVGhlXG4gKiBsb2NhdGlvbiBpcyByZXByZXNlbnRlZCBhcyBsYXRpdHVkZS9sb25naXR1ZGUgcGFpci5cbiAqXG4gKiBMYXRpdHVkZSB2YWx1ZXMgYXJlIGluIHRoZSByYW5nZSBvZiBbLTkwLCA5MF0uXG4gKiBMb25naXR1ZGUgdmFsdWVzIGFyZSBpbiB0aGUgcmFuZ2Ugb2YgWy0xODAsIDE4MF0uXG4gKi8gY2xhc3MgR2VvUG9pbnQge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgaW1tdXRhYmxlIGBHZW9Qb2ludGAgb2JqZWN0IHdpdGggdGhlIHByb3ZpZGVkIGxhdGl0dWRlIGFuZFxuICAgICAqIGxvbmdpdHVkZSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIGxhdGl0dWRlIC0gVGhlIGxhdGl0dWRlIGFzIG51bWJlciBiZXR3ZWVuIC05MCBhbmQgOTAuXG4gICAgICogQHBhcmFtIGxvbmdpdHVkZSAtIFRoZSBsb25naXR1ZGUgYXMgbnVtYmVyIGJldHdlZW4gLTE4MCBhbmQgMTgwLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZShlKSB8fCBlIDwgLTkwIHx8IGUgPiA5MCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJMYXRpdHVkZSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gLTkwIGFuZCA5MCwgYnV0IHdhczogXCIgKyBlKTtcbiAgICAgICAgaWYgKCFpc0Zpbml0ZSh0KSB8fCB0IDwgLTE4MCB8fCB0ID4gMTgwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkxvbmdpdHVkZSBtdXN0IGJlIGEgbnVtYmVyIGJldHdlZW4gLTE4MCBhbmQgMTgwLCBidXQgd2FzOiBcIiArIHQpO1xuICAgICAgICB0aGlzLl9sYXQgPSBlLCB0aGlzLl9sb25nID0gdDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGxhdGl0dWRlIG9mIHRoaXMgYEdlb1BvaW50YCBpbnN0YW5jZS5cbiAgICAgKi8gICAgZ2V0IGxhdGl0dWRlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGF0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbG9uZ2l0dWRlIG9mIHRoaXMgYEdlb1BvaW50YCBpbnN0YW5jZS5cbiAgICAgKi8gICAgZ2V0IGxvbmdpdHVkZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvbmc7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGlzIGBHZW9Qb2ludGAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlciAtIFRoZSBgR2VvUG9pbnRgIHRvIGNvbXBhcmUgYWdhaW5zdC5cbiAgICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoaXMgYEdlb1BvaW50YCBpcyBlcXVhbCB0byB0aGUgcHJvdmlkZWQgb25lLlxuICAgICAqLyAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xhdCA9PT0gZS5fbGF0ICYmIHRoaXMuX2xvbmcgPT09IGUuX2xvbmc7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgSlNPTi1zZXJpYWxpemFibGUgcmVwcmVzZW50YXRpb24gb2YgdGhpcyBHZW9Qb2ludC4gKi8gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGF0aXR1ZGU6IHRoaXMuX2xhdCxcbiAgICAgICAgICAgIGxvbmdpdHVkZTogdGhpcy5fbG9uZ1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBY3R1YWxseSBwcml2YXRlIHRvIEpTIGNvbnN1bWVycyBvZiBvdXIgQVBJLCBzbyB0aGlzIGZ1bmN0aW9uIGlzIHByZWZpeGVkXG4gICAgICogd2l0aCBhbiB1bmRlcnNjb3JlLlxuICAgICAqLyAgICBfY29tcGFyZVRvKGUpIHtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9wcmltaXRpdmVDb21wYXJhdG9yKHRoaXMuX2xhdCwgZS5fbGF0KSB8fCBfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvcih0aGlzLl9sb25nLCBlLl9sb25nKTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IFNlID0gL15fXy4qX18kLztcblxuLyoqIFRoZSByZXN1bHQgb2YgcGFyc2luZyBkb2N1bWVudCBkYXRhIChlLmcuIGZvciBhIHNldERhdGEgY2FsbCkuICovIGNsYXNzIFBhcnNlZFNldERhdGEge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5kYXRhID0gZSwgdGhpcy5maWVsZE1hc2sgPSB0LCB0aGlzLmZpZWxkVHJhbnNmb3JtcyA9IG47XG4gICAgfVxuICAgIHRvTXV0YXRpb24oZSwgdCkge1xuICAgICAgICByZXR1cm4gbnVsbCAhPT0gdGhpcy5maWVsZE1hc2sgPyBuZXcgX19QUklWQVRFX1BhdGNoTXV0YXRpb24oZSwgdGhpcy5kYXRhLCB0aGlzLmZpZWxkTWFzaywgdCwgdGhpcy5maWVsZFRyYW5zZm9ybXMpIDogbmV3IF9fUFJJVkFURV9TZXRNdXRhdGlvbihlLCB0aGlzLmRhdGEsIHQsIHRoaXMuZmllbGRUcmFuc2Zvcm1zKTtcbiAgICB9XG59XG5cbi8qKiBUaGUgcmVzdWx0IG9mIHBhcnNpbmcgXCJ1cGRhdGVcIiBkYXRhIChpLmUuIGZvciBhbiB1cGRhdGVEYXRhIGNhbGwpLiAqLyBjbGFzcyBQYXJzZWRVcGRhdGVEYXRhIHtcbiAgICBjb25zdHJ1Y3RvcihlLCBcbiAgICAvLyBUaGUgZmllbGRNYXNrIGRvZXMgbm90IGluY2x1ZGUgZG9jdW1lbnQgdHJhbnNmb3Jtcy5cbiAgICB0LCBuKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IGUsIHRoaXMuZmllbGRNYXNrID0gdCwgdGhpcy5maWVsZFRyYW5zZm9ybXMgPSBuO1xuICAgIH1cbiAgICB0b011dGF0aW9uKGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUGF0Y2hNdXRhdGlvbihlLCB0aGlzLmRhdGEsIHRoaXMuZmllbGRNYXNrLCB0LCB0aGlzLmZpZWxkVHJhbnNmb3Jtcyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfaXNXcml0ZShlKSB7XG4gICAgc3dpdGNoIChlKSB7XG4gICAgICBjYXNlIDAgLyogVXNlckRhdGFTb3VyY2UuU2V0ICovIDpcbiAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgICAgICAgY2FzZSAyIC8qIFVzZXJEYXRhU291cmNlLk1lcmdlU2V0ICovIDpcbiAvLyBmYWxsIHRocm91Z2hcbiAgICAgICAgICAgICAgY2FzZSAxIC8qIFVzZXJEYXRhU291cmNlLlVwZGF0ZSAqLyA6XG4gICAgICAgIHJldHVybiAhMDtcblxuICAgICAgY2FzZSAzIC8qIFVzZXJEYXRhU291cmNlLkFyZ3VtZW50ICovIDpcbiAgICAgIGNhc2UgNCAvKiBVc2VyRGF0YVNvdXJjZS5BcnJheUFyZ3VtZW50ICovIDpcbiAgICAgICAgcmV0dXJuICExO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgfVxufVxuXG4vKiogQSBcImNvbnRleHRcIiBvYmplY3QgcGFzc2VkIGFyb3VuZCB3aGlsZSBwYXJzaW5nIHVzZXIgZGF0YS4gKi8gY2xhc3MgX19QUklWQVRFX1BhcnNlQ29udGV4dEltcGwge1xuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGEgUGFyc2VDb250ZXh0IHdpdGggdGhlIGdpdmVuIHNvdXJjZSBhbmQgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzZXR0aW5ncyAtIFRoZSBzZXR0aW5ncyBmb3IgdGhlIHBhcnNlci5cbiAgICAgKiBAcGFyYW0gZGF0YWJhc2VJZCAtIFRoZSBkYXRhYmFzZSBJRCBvZiB0aGUgRmlyZXN0b3JlIGluc3RhbmNlLlxuICAgICAqIEBwYXJhbSBzZXJpYWxpemVyIC0gVGhlIHNlcmlhbGl6ZXIgdG8gdXNlIHRvIGdlbmVyYXRlIHRoZSBWYWx1ZSBwcm90by5cbiAgICAgKiBAcGFyYW0gaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyAtIFdoZXRoZXIgdG8gaWdub3JlIHVuZGVmaW5lZCBwcm9wZXJ0aWVzXG4gICAgICogcmF0aGVyIHRoYW4gdGhyb3cuXG4gICAgICogQHBhcmFtIGZpZWxkVHJhbnNmb3JtcyAtIEEgbXV0YWJsZSBsaXN0IG9mIGZpZWxkIHRyYW5zZm9ybXMgZW5jb3VudGVyZWRcbiAgICAgKiB3aGlsZSBwYXJzaW5nIHRoZSBkYXRhLlxuICAgICAqIEBwYXJhbSBmaWVsZE1hc2sgLSBBIG11dGFibGUgbGlzdCBvZiBmaWVsZCBwYXRocyBlbmNvdW50ZXJlZCB3aGlsZSBwYXJzaW5nXG4gICAgICogdGhlIGRhdGEuXG4gICAgICpcbiAgICAgKiBUT0RPKGIvMzQ4NzExMzEpOiBXZSBkb24ndCBzdXBwb3J0IGFycmF5IHBhdGhzIHJpZ2h0IG5vdywgc28gcGF0aCBjYW4gYmVcbiAgICAgKiBudWxsIHRvIGluZGljYXRlIHRoZSBjb250ZXh0IHJlcHJlc2VudHMgYW55IGxvY2F0aW9uIHdpdGhpbiBhbiBhcnJheSAoaW5cbiAgICAgKiB3aGljaCBjYXNlIGNlcnRhaW4gZmVhdHVyZXMgd2lsbCBub3Qgd29yayBhbmQgZXJyb3JzIHdpbGwgYmUgc29tZXdoYXRcbiAgICAgKiBjb21wcm9taXNlZCkuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSwgcykge1xuICAgICAgICB0aGlzLnNldHRpbmdzID0gZSwgdGhpcy5kYXRhYmFzZUlkID0gdCwgdGhpcy5zZXJpYWxpemVyID0gbiwgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzID0gciwgXG4gICAgICAgIC8vIE1pbm9yIGhhY2s6IElmIGZpZWxkVHJhbnNmb3JtcyBpcyB1bmRlZmluZWQsIHdlIGFzc3VtZSB0aGlzIGlzIGFuXG4gICAgICAgIC8vIGV4dGVybmFsIGNhbGwgYW5kIHdlIG5lZWQgdG8gdmFsaWRhdGUgdGhlIGVudGlyZSBwYXRoLlxuICAgICAgICB2b2lkIDAgPT09IGkgJiYgdGhpcy5tdSgpLCB0aGlzLmZpZWxkVHJhbnNmb3JtcyA9IGkgfHwgW10sIHRoaXMuZmllbGRNYXNrID0gcyB8fCBbXTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnBhdGg7XG4gICAgfVxuICAgIGdldCBmdSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MuZnU7XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIGEgbmV3IGNvbnRleHQgd2l0aCB0aGUgc3BlY2lmaWVkIHNldHRpbmdzIG92ZXJ3cml0dGVuLiAqLyAgICBndShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgX19QUklWQVRFX1BhcnNlQ29udGV4dEltcGwoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLnNldHRpbmdzKSwgZSksIHRoaXMuZGF0YWJhc2VJZCwgdGhpcy5zZXJpYWxpemVyLCB0aGlzLmlnbm9yZVVuZGVmaW5lZFByb3BlcnRpZXMsIHRoaXMuZmllbGRUcmFuc2Zvcm1zLCB0aGlzLmZpZWxkTWFzayk7XG4gICAgfVxuICAgIHB1KGUpIHtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIGNvbnN0IG4gPSBudWxsID09PSAodCA9IHRoaXMucGF0aCkgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5jaGlsZChlKSwgciA9IHRoaXMuZ3Uoe1xuICAgICAgICAgICAgcGF0aDogbixcbiAgICAgICAgICAgIHl1OiAhMVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHIud3UoZSksIHI7XG4gICAgfVxuICAgIFN1KGUpIHtcbiAgICAgICAgdmFyIHQ7XG4gICAgICAgIGNvbnN0IG4gPSBudWxsID09PSAodCA9IHRoaXMucGF0aCkgfHwgdm9pZCAwID09PSB0ID8gdm9pZCAwIDogdC5jaGlsZChlKSwgciA9IHRoaXMuZ3Uoe1xuICAgICAgICAgICAgcGF0aDogbixcbiAgICAgICAgICAgIHl1OiAhMVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHIubXUoKSwgcjtcbiAgICB9XG4gICAgYnUoZSkge1xuICAgICAgICAvLyBUT0RPKGIvMzQ4NzExMzEpOiBXZSBkb24ndCBzdXBwb3J0IGFycmF5IHBhdGhzIHJpZ2h0IG5vdzsgc28gbWFrZSBwYXRoXG4gICAgICAgIC8vIHVuZGVmaW5lZC5cbiAgICAgICAgcmV0dXJuIHRoaXMuZ3Uoe1xuICAgICAgICAgICAgcGF0aDogdm9pZCAwLFxuICAgICAgICAgICAgeXU6ICEwXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBEdShlKSB7XG4gICAgICAgIHJldHVybiBfX1BSSVZBVEVfY3JlYXRlRXJyb3IoZSwgdGhpcy5zZXR0aW5ncy5tZXRob2ROYW1lLCB0aGlzLnNldHRpbmdzLkN1IHx8ICExLCB0aGlzLnBhdGgsIHRoaXMuc2V0dGluZ3MudnUpO1xuICAgIH1cbiAgICAvKiogUmV0dXJucyAndHJ1ZScgaWYgJ2ZpZWxkUGF0aCcgd2FzIHRyYXZlcnNlZCB3aGVuIGNyZWF0aW5nIHRoaXMgY29udGV4dC4gKi8gICAgY29udGFpbnMoZSkge1xuICAgICAgICByZXR1cm4gdm9pZCAwICE9PSB0aGlzLmZpZWxkTWFzay5maW5kKCh0ID0+IGUuaXNQcmVmaXhPZih0KSkpIHx8IHZvaWQgMCAhPT0gdGhpcy5maWVsZFRyYW5zZm9ybXMuZmluZCgodCA9PiBlLmlzUHJlZml4T2YodC5maWVsZCkpKTtcbiAgICB9XG4gICAgbXUoKSB7XG4gICAgICAgIC8vIFRPRE8oYi8zNDg3MTEzMSk6IFJlbW92ZSBudWxsIGNoZWNrIG9uY2Ugd2UgaGF2ZSBwcm9wZXIgcGF0aHMgZm9yIGZpZWxkc1xuICAgICAgICAvLyB3aXRoaW4gYXJyYXlzLlxuICAgICAgICBpZiAodGhpcy5wYXRoKSBmb3IgKGxldCBlID0gMDsgZSA8IHRoaXMucGF0aC5sZW5ndGg7IGUrKykgdGhpcy53dSh0aGlzLnBhdGguZ2V0KGUpKTtcbiAgICB9XG4gICAgd3UoZSkge1xuICAgICAgICBpZiAoMCA9PT0gZS5sZW5ndGgpIHRocm93IHRoaXMuRHUoXCJEb2N1bWVudCBmaWVsZHMgbXVzdCBub3QgYmUgZW1wdHlcIik7XG4gICAgICAgIGlmIChfX1BSSVZBVEVfaXNXcml0ZSh0aGlzLmZ1KSAmJiBTZS50ZXN0KGUpKSB0aHJvdyB0aGlzLkR1KCdEb2N1bWVudCBmaWVsZHMgY2Fubm90IGJlZ2luIGFuZCBlbmQgd2l0aCBcIl9fXCInKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIGZvciBwYXJzaW5nIHJhdyB1c2VyIGlucHV0IChwcm92aWRlZCB2aWEgdGhlIEFQSSkgaW50byBpbnRlcm5hbCBtb2RlbFxuICogY2xhc3Nlcy5cbiAqLyBjbGFzcyBfX1BSSVZBVEVfVXNlckRhdGFSZWFkZXIge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5kYXRhYmFzZUlkID0gZSwgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzID0gdCwgdGhpcy5zZXJpYWxpemVyID0gbiB8fCBfX1BSSVZBVEVfbmV3U2VyaWFsaXplcihlKTtcbiAgICB9XG4gICAgLyoqIENyZWF0ZXMgYSBuZXcgdG9wLWxldmVsIHBhcnNlIGNvbnRleHQuICovICAgIEZ1KGUsIHQsIG4sIHIgPSAhMSkge1xuICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9QYXJzZUNvbnRleHRJbXBsKHtcbiAgICAgICAgICAgIGZ1OiBlLFxuICAgICAgICAgICAgbWV0aG9kTmFtZTogdCxcbiAgICAgICAgICAgIHZ1OiBuLFxuICAgICAgICAgICAgcGF0aDogRmllbGRQYXRoJDEuZW1wdHlQYXRoKCksXG4gICAgICAgICAgICB5dTogITEsXG4gICAgICAgICAgICBDdTogclxuICAgICAgICB9LCB0aGlzLmRhdGFiYXNlSWQsIHRoaXMuc2VyaWFsaXplciwgdGhpcy5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlcihlKSB7XG4gICAgY29uc3QgdCA9IGUuX2ZyZWV6ZVNldHRpbmdzKCksIG4gPSBfX1BSSVZBVEVfbmV3U2VyaWFsaXplcihlLl9kYXRhYmFzZUlkKTtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9Vc2VyRGF0YVJlYWRlcihlLl9kYXRhYmFzZUlkLCAhIXQuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcywgbik7XG59XG5cbi8qKiBQYXJzZSBkb2N1bWVudCBkYXRhIGZyb20gYSBzZXQoKSBjYWxsLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VTZXREYXRhKGUsIHQsIG4sIHIsIGksIHMgPSB7fSkge1xuICAgIGNvbnN0IG8gPSBlLkZ1KHMubWVyZ2UgfHwgcy5tZXJnZUZpZWxkcyA/IDIgLyogVXNlckRhdGFTb3VyY2UuTWVyZ2VTZXQgKi8gOiAwIC8qIFVzZXJEYXRhU291cmNlLlNldCAqLyAsIHQsIG4sIGkpO1xuICAgIF9fUFJJVkFURV92YWxpZGF0ZVBsYWluT2JqZWN0KFwiRGF0YSBtdXN0IGJlIGFuIG9iamVjdCwgYnV0IGl0IHdhczpcIiwgbywgcik7XG4gICAgY29uc3QgXyA9IF9fUFJJVkFURV9wYXJzZU9iamVjdChyLCBvKTtcbiAgICBsZXQgYSwgdTtcbiAgICBpZiAocy5tZXJnZSkgYSA9IG5ldyBGaWVsZE1hc2soby5maWVsZE1hc2spLCB1ID0gby5maWVsZFRyYW5zZm9ybXM7IGVsc2UgaWYgKHMubWVyZ2VGaWVsZHMpIHtcbiAgICAgICAgY29uc3QgZSA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IHIgb2Ygcy5tZXJnZUZpZWxkcykge1xuICAgICAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQkMSh0LCByLCBuKTtcbiAgICAgICAgICAgIGlmICghby5jb250YWlucyhpKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEZpZWxkICcke2l9JyBpcyBzcGVjaWZpZWQgaW4geW91ciBmaWVsZCBtYXNrIGJ1dCBtaXNzaW5nIGZyb20geW91ciBpbnB1dCBkYXRhLmApO1xuICAgICAgICAgICAgX19QUklWQVRFX2ZpZWxkTWFza0NvbnRhaW5zKGUsIGkpIHx8IGUucHVzaChpKTtcbiAgICAgICAgfVxuICAgICAgICBhID0gbmV3IEZpZWxkTWFzayhlKSwgdSA9IG8uZmllbGRUcmFuc2Zvcm1zLmZpbHRlcigoZSA9PiBhLmNvdmVycyhlLmZpZWxkKSkpO1xuICAgIH0gZWxzZSBhID0gbnVsbCwgdSA9IG8uZmllbGRUcmFuc2Zvcm1zO1xuICAgIHJldHVybiBuZXcgUGFyc2VkU2V0RGF0YShuZXcgT2JqZWN0VmFsdWUoXyksIGEsIHUpO1xufVxuXG5jbGFzcyBfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGwgZXh0ZW5kcyBGaWVsZFZhbHVlIHtcbiAgICBfdG9GaWVsZFRyYW5zZm9ybShlKSB7XG4gICAgICAgIGlmICgyIC8qIFVzZXJEYXRhU291cmNlLk1lcmdlU2V0ICovICE9PSBlLmZ1KSB0aHJvdyAxIC8qIFVzZXJEYXRhU291cmNlLlVwZGF0ZSAqLyA9PT0gZS5mdSA/IGUuRHUoYCR7dGhpcy5fbWV0aG9kTmFtZX0oKSBjYW4gb25seSBhcHBlYXIgYXQgdGhlIHRvcCBsZXZlbCBvZiB5b3VyIHVwZGF0ZSBkYXRhYCkgOiBlLkR1KGAke3RoaXMuX21ldGhvZE5hbWV9KCkgY2Fubm90IGJlIHVzZWQgd2l0aCBzZXQoKSB1bmxlc3MgeW91IHBhc3Mge21lcmdlOnRydWV9YCk7XG4gICAgICAgIC8vIE5vIHRyYW5zZm9ybSB0byBhZGQgZm9yIGEgZGVsZXRlLCBidXQgd2UgbmVlZCB0byBhZGQgaXQgdG8gb3VyXG4gICAgICAgIC8vIGZpZWxkTWFzayBzbyBpdCBnZXRzIGRlbGV0ZWQuXG4gICAgICAgIHJldHVybiBlLmZpZWxkTWFzay5wdXNoKGUucGF0aCksIG51bGw7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9EZWxldGVGaWVsZFZhbHVlSW1wbDtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIGNoaWxkIGNvbnRleHQgZm9yIHBhcnNpbmcgU2VyaWFsaXphYmxlRmllbGRWYWx1ZXMuXG4gKlxuICogVGhpcyBpcyBkaWZmZXJlbnQgdGhhbiBjYWxsaW5nIGBQYXJzZUNvbnRleHQuY29udGV4dFdpdGhgIGJlY2F1c2UgaXQga2VlcHNcbiAqIHRoZSBmaWVsZFRyYW5zZm9ybXMgYW5kIGZpZWxkTWFzayBzZXBhcmF0ZS5cbiAqXG4gKiBUaGUgY3JlYXRlZCBjb250ZXh0IGhhcyBpdHMgYGRhdGFTb3VyY2VgIHNldCB0byBgVXNlckRhdGFTb3VyY2UuQXJndW1lbnRgLlxuICogQWx0aG91Z2ggdGhlc2UgdmFsdWVzIGFyZSB1c2VkIHdpdGggd3JpdGVzLCBhbnkgZWxlbWVudHMgaW4gdGhlc2UgRmllbGRWYWx1ZXNcbiAqIGFyZSBub3QgY29uc2lkZXJlZCB3cml0ZXMgc2luY2UgdGhleSBjYW5ub3QgY29udGFpbiBhbnkgRmllbGRWYWx1ZSBzZW50aW5lbHMsXG4gKiBldGMuXG4gKlxuICogQHBhcmFtIGZpZWxkVmFsdWUgLSBUaGUgc2VudGluZWwgRmllbGRWYWx1ZSBmb3Igd2hpY2ggdG8gY3JlYXRlIGEgY2hpbGRcbiAqICAgICBjb250ZXh0LlxuICogQHBhcmFtIGNvbnRleHQgLSBUaGUgcGFyZW50IGNvbnRleHQuXG4gKiBAcGFyYW0gYXJyYXlFbGVtZW50IC0gV2hldGhlciBvciBub3QgdGhlIEZpZWxkVmFsdWUgaGFzIGFuIGFycmF5LlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVTZW50aW5lbENoaWxkQ29udGV4dChlLCB0LCBuKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUGFyc2VDb250ZXh0SW1wbCh7XG4gICAgICAgIGZ1OiAzIC8qIFVzZXJEYXRhU291cmNlLkFyZ3VtZW50ICovICxcbiAgICAgICAgdnU6IHQuc2V0dGluZ3MudnUsXG4gICAgICAgIG1ldGhvZE5hbWU6IGUuX21ldGhvZE5hbWUsXG4gICAgICAgIHl1OiBuXG4gICAgfSwgdC5kYXRhYmFzZUlkLCB0LnNlcmlhbGl6ZXIsIHQuaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyk7XG59XG5cbmNsYXNzIF9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBGaWVsZFZhbHVlSW1wbCBleHRlbmRzIEZpZWxkVmFsdWUge1xuICAgIF90b0ZpZWxkVHJhbnNmb3JtKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFRyYW5zZm9ybShlLnBhdGgsIG5ldyBfX1BSSVZBVEVfU2VydmVyVGltZXN0YW1wVHJhbnNmb3JtKTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcEZpZWxkVmFsdWVJbXBsO1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX0FycmF5VW5pb25GaWVsZFZhbHVlSW1wbCBleHRlbmRzIEZpZWxkVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSksIHRoaXMuTXUgPSB0O1xuICAgIH1cbiAgICBfdG9GaWVsZFRyYW5zZm9ybShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY3JlYXRlU2VudGluZWxDaGlsZENvbnRleHQodGhpcywgZSwgXG4gICAgICAgIC8qYXJyYXk9Ki8gITApLCBuID0gdGhpcy5NdS5tYXAoKGUgPT4gX19QUklWQVRFX3BhcnNlRGF0YShlLCB0KSkpLCByID0gbmV3IF9fUFJJVkFURV9BcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uKG4pO1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkVHJhbnNmb3JtKGUucGF0aCwgcik7XG4gICAgfVxuICAgIGlzRXF1YWwoZSkge1xuICAgICAgICByZXR1cm4gZSBpbnN0YW5jZW9mIF9fUFJJVkFURV9BcnJheVVuaW9uRmllbGRWYWx1ZUltcGwgJiYgdXRpbC5kZWVwRXF1YWwodGhpcy5NdSwgZS5NdSk7XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfQXJyYXlSZW1vdmVGaWVsZFZhbHVlSW1wbCBleHRlbmRzIEZpZWxkVmFsdWUge1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSksIHRoaXMuTXUgPSB0O1xuICAgIH1cbiAgICBfdG9GaWVsZFRyYW5zZm9ybShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY3JlYXRlU2VudGluZWxDaGlsZENvbnRleHQodGhpcywgZSwgXG4gICAgICAgIC8qYXJyYXk9Ki8gITApLCBuID0gdGhpcy5NdS5tYXAoKGUgPT4gX19QUklWQVRFX3BhcnNlRGF0YShlLCB0KSkpLCByID0gbmV3IF9fUFJJVkFURV9BcnJheVJlbW92ZVRyYW5zZm9ybU9wZXJhdGlvbihuKTtcbiAgICAgICAgcmV0dXJuIG5ldyBGaWVsZFRyYW5zZm9ybShlLnBhdGgsIHIpO1xuICAgIH1cbiAgICBpc0VxdWFsKGUpIHtcbiAgICAgICAgcmV0dXJuIGUgaW5zdGFuY2VvZiBfX1BSSVZBVEVfQXJyYXlSZW1vdmVGaWVsZFZhbHVlSW1wbCAmJiB1dGlsLmRlZXBFcXVhbCh0aGlzLk11LCBlLk11KTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50RmllbGRWYWx1ZUltcGwgZXh0ZW5kcyBGaWVsZFZhbHVlIHtcbiAgICBjb25zdHJ1Y3RvcihlLCB0KSB7XG4gICAgICAgIHN1cGVyKGUpLCB0aGlzLnh1ID0gdDtcbiAgICB9XG4gICAgX3RvRmllbGRUcmFuc2Zvcm0oZSkge1xuICAgICAgICBjb25zdCB0ID0gbmV3IF9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uKGUuc2VyaWFsaXplciwgdG9OdW1iZXIoZS5zZXJpYWxpemVyLCB0aGlzLnh1KSk7XG4gICAgICAgIHJldHVybiBuZXcgRmllbGRUcmFuc2Zvcm0oZS5wYXRoLCB0KTtcbiAgICB9XG4gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgX19QUklWQVRFX051bWVyaWNJbmNyZW1lbnRGaWVsZFZhbHVlSW1wbCAmJiB0aGlzLnh1ID09PSBlLnh1O1xuICAgIH1cbn1cblxuLyoqIFBhcnNlIHVwZGF0ZSBkYXRhIGZyb20gYW4gdXBkYXRlKCkgY2FsbC4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlVXBkYXRlRGF0YShlLCB0LCBuLCByKSB7XG4gICAgY29uc3QgaSA9IGUuRnUoMSAvKiBVc2VyRGF0YVNvdXJjZS5VcGRhdGUgKi8gLCB0LCBuKTtcbiAgICBfX1BSSVZBVEVfdmFsaWRhdGVQbGFpbk9iamVjdChcIkRhdGEgbXVzdCBiZSBhbiBvYmplY3QsIGJ1dCBpdCB3YXM6XCIsIGksIHIpO1xuICAgIGNvbnN0IHMgPSBbXSwgbyA9IE9iamVjdFZhbHVlLmVtcHR5KCk7XG4gICAgZm9yRWFjaChyLCAoKGUsIHIpID0+IHtcbiAgICAgICAgY29uc3QgXyA9IF9fUFJJVkFURV9maWVsZFBhdGhGcm9tRG90U2VwYXJhdGVkU3RyaW5nKHQsIGUsIG4pO1xuICAgICAgICAvLyBGb3IgQ29tcGF0IHR5cGVzLCB3ZSBoYXZlIHRvIFwiZXh0cmFjdFwiIHRoZSB1bmRlcmx5aW5nIHR5cGVzIGJlZm9yZVxuICAgICAgICAvLyBwZXJmb3JtaW5nIHZhbGlkYXRpb24uXG4gICAgICAgICAgICAgICAgciA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKHIpO1xuICAgICAgICBjb25zdCBhID0gaS5TdShfKTtcbiAgICAgICAgaWYgKHIgaW5zdGFuY2VvZiBfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGwpIFxuICAgICAgICAvLyBBZGQgaXQgdG8gdGhlIGZpZWxkIG1hc2ssIGJ1dCBkb24ndCBhZGQgYW55dGhpbmcgdG8gdXBkYXRlRGF0YS5cbiAgICAgICAgcy5wdXNoKF8pOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSBfX1BSSVZBVEVfcGFyc2VEYXRhKHIsIGEpO1xuICAgICAgICAgICAgbnVsbCAhPSBlICYmIChzLnB1c2goXyksIG8uc2V0KF8sIGUpKTtcbiAgICAgICAgfVxuICAgIH0pKTtcbiAgICBjb25zdCBfID0gbmV3IEZpZWxkTWFzayhzKTtcbiAgICByZXR1cm4gbmV3IFBhcnNlZFVwZGF0ZURhdGEobywgXywgaS5maWVsZFRyYW5zZm9ybXMpO1xufVxuXG4vKiogUGFyc2UgdXBkYXRlIGRhdGEgZnJvbSBhIGxpc3Qgb2YgZmllbGQvdmFsdWUgYXJndW1lbnRzLiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VVcGRhdGVWYXJhcmdzKGUsIHQsIG4sIHIsIGksIHMpIHtcbiAgICBjb25zdCBvID0gZS5GdSgxIC8qIFVzZXJEYXRhU291cmNlLlVwZGF0ZSAqLyAsIHQsIG4pLCBfID0gWyBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEodCwgciwgbikgXSwgYSA9IFsgaSBdO1xuICAgIGlmIChzLmxlbmd0aCAlIDIgIT0gMCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEZ1bmN0aW9uICR7dH0oKSBuZWVkcyB0byBiZSBjYWxsZWQgd2l0aCBhbiBldmVuIG51bWJlciBvZiBhcmd1bWVudHMgdGhhdCBhbHRlcm5hdGUgYmV0d2VlbiBmaWVsZCBuYW1lcyBhbmQgdmFsdWVzLmApO1xuICAgIGZvciAobGV0IGUgPSAwOyBlIDwgcy5sZW5ndGg7IGUgKz0gMikgXy5wdXNoKF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQkMSh0LCBzW2VdKSksIFxuICAgIGEucHVzaChzW2UgKyAxXSk7XG4gICAgY29uc3QgdSA9IFtdLCBjID0gT2JqZWN0VmFsdWUuZW1wdHkoKTtcbiAgICAvLyBXZSBpdGVyYXRlIGluIHJldmVyc2Ugb3JkZXIgdG8gcGljayB0aGUgbGFzdCB2YWx1ZSBmb3IgYSBmaWVsZCBpZiB0aGVcbiAgICAvLyB1c2VyIHNwZWNpZmllZCB0aGUgZmllbGQgbXVsdGlwbGUgdGltZXMuXG4gICAgZm9yIChsZXQgZSA9IF8ubGVuZ3RoIC0gMTsgZSA+PSAwOyAtLWUpIGlmICghX19QUklWQVRFX2ZpZWxkTWFza0NvbnRhaW5zKHUsIF9bZV0pKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfW2VdO1xuICAgICAgICBsZXQgbiA9IGFbZV07XG4gICAgICAgIC8vIEZvciBDb21wYXQgdHlwZXMsIHdlIGhhdmUgdG8gXCJleHRyYWN0XCIgdGhlIHVuZGVybHlpbmcgdHlwZXMgYmVmb3JlXG4gICAgICAgIC8vIHBlcmZvcm1pbmcgdmFsaWRhdGlvbi5cbiAgICAgICAgICAgICAgICBuID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2Uobik7XG4gICAgICAgIGNvbnN0IHIgPSBvLlN1KHQpO1xuICAgICAgICBpZiAobiBpbnN0YW5jZW9mIF9fUFJJVkFURV9EZWxldGVGaWVsZFZhbHVlSW1wbCkgXG4gICAgICAgIC8vIEFkZCBpdCB0byB0aGUgZmllbGQgbWFzaywgYnV0IGRvbid0IGFkZCBhbnl0aGluZyB0byB1cGRhdGVEYXRhLlxuICAgICAgICB1LnB1c2godCk7IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZSA9IF9fUFJJVkFURV9wYXJzZURhdGEobiwgcik7XG4gICAgICAgICAgICBudWxsICE9IGUgJiYgKHUucHVzaCh0KSwgYy5zZXQodCwgZSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGwgPSBuZXcgRmllbGRNYXNrKHUpO1xuICAgIHJldHVybiBuZXcgUGFyc2VkVXBkYXRlRGF0YShjLCBsLCBvLmZpZWxkVHJhbnNmb3Jtcyk7XG59XG5cbi8qKlxuICogUGFyc2UgYSBcInF1ZXJ5IHZhbHVlXCIgKGUuZy4gdmFsdWUgaW4gYSB3aGVyZSBmaWx0ZXIgb3IgYSB2YWx1ZSBpbiBhIGN1cnNvclxuICogYm91bmQpLlxuICpcbiAqIEBwYXJhbSBhbGxvd0FycmF5cyAtIFdoZXRoZXIgdGhlIHF1ZXJ5IHZhbHVlIGlzIGFuIGFycmF5IHRoYXQgbWF5IGRpcmVjdGx5XG4gKiBjb250YWluIGFkZGl0aW9uYWwgYXJyYXlzIChlLmcuIHRoZSBvcGVyYW5kIG9mIGFuIGBpbmAgcXVlcnkpLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZVF1ZXJ5VmFsdWUoZSwgdCwgbiwgciA9ICExKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9wYXJzZURhdGEobiwgZS5GdShyID8gNCAvKiBVc2VyRGF0YVNvdXJjZS5BcnJheUFyZ3VtZW50ICovIDogMyAvKiBVc2VyRGF0YVNvdXJjZS5Bcmd1bWVudCAqLyAsIHQpKTtcbn1cblxuLyoqXG4gKiBQYXJzZXMgdXNlciBkYXRhIHRvIFByb3RvYnVmIFZhbHVlcy5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBEYXRhIHRvIGJlIHBhcnNlZC5cbiAqIEBwYXJhbSBjb250ZXh0IC0gQSBjb250ZXh0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcGF0aCBiZWluZyBwYXJzZWQsXG4gKiB0aGUgc291cmNlIG9mIHRoZSBkYXRhIGJlaW5nIHBhcnNlZCwgZXRjLlxuICogQHJldHVybnMgVGhlIHBhcnNlZCB2YWx1ZSwgb3IgbnVsbCBpZiB0aGUgdmFsdWUgd2FzIGEgRmllbGRWYWx1ZSBzZW50aW5lbFxuICogdGhhdCBzaG91bGQgbm90IGJlIGluY2x1ZGVkIGluIHRoZSByZXN1bHRpbmcgcGFyc2VkIGRhdGEuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlRGF0YShlLCB0KSB7XG4gICAgaWYgKF9fUFJJVkFURV9sb29rc0xpa2VKc29uT2JqZWN0KFxuICAgIC8vIFVud3JhcCB0aGUgQVBJIHR5cGUgZnJvbSB0aGUgQ29tcGF0IFNESy4gVGhpcyB3aWxsIHJldHVybiB0aGUgQVBJIHR5cGVcbiAgICAvLyBmcm9tIGZpcmVzdG9yZS1leHAuXG4gICAgZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpKSkgcmV0dXJuIF9fUFJJVkFURV92YWxpZGF0ZVBsYWluT2JqZWN0KFwiVW5zdXBwb3J0ZWQgZmllbGQgdmFsdWU6XCIsIHQsIGUpLCBcbiAgICBfX1BSSVZBVEVfcGFyc2VPYmplY3QoZSwgdCk7XG4gICAgaWYgKGUgaW5zdGFuY2VvZiBGaWVsZFZhbHVlKSBcbiAgICAvLyBGaWVsZFZhbHVlcyB1c3VhbGx5IHBhcnNlIGludG8gdHJhbnNmb3JtcyAoZXhjZXB0IGRlbGV0ZUZpZWxkKCkpXG4gICAgLy8gaW4gd2hpY2ggY2FzZSB3ZSBkbyBub3Qgd2FudCB0byBpbmNsdWRlIHRoaXMgZmllbGQgaW4gb3VyIHBhcnNlZCBkYXRhXG4gICAgLy8gKGFzIGRvaW5nIHNvIHdpbGwgb3ZlcndyaXRlIHRoZSBmaWVsZCBkaXJlY3RseSBwcmlvciB0byB0aGUgdHJhbnNmb3JtXG4gICAgLy8gdHJ5aW5nIHRvIHRyYW5zZm9ybSBpdCkuIFNvIHdlIGRvbid0IGFkZCB0aGlzIGxvY2F0aW9uIHRvXG4gICAgLy8gY29udGV4dC5maWVsZE1hc2sgYW5kIHdlIHJldHVybiBudWxsIGFzIG91ciBwYXJzaW5nIHJlc3VsdC5cbiAgICAvKipcbiAqIFwiUGFyc2VzXCIgdGhlIHByb3ZpZGVkIEZpZWxkVmFsdWVJbXBsLCBhZGRpbmcgYW55IG5lY2Vzc2FyeSB0cmFuc2Zvcm1zIHRvXG4gKiBjb250ZXh0LmZpZWxkVHJhbnNmb3Jtcy5cbiAqL1xuICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VTZW50aW5lbEZpZWxkVmFsdWUoZSwgdCkge1xuICAgICAgICAvLyBTZW50aW5lbHMgYXJlIG9ubHkgc3VwcG9ydGVkIHdpdGggd3JpdGVzLCBhbmQgbm90IHdpdGhpbiBhcnJheXMuXG4gICAgICAgIGlmICghX19QUklWQVRFX2lzV3JpdGUodC5mdSkpIHRocm93IHQuRHUoYCR7ZS5fbWV0aG9kTmFtZX0oKSBjYW4gb25seSBiZSB1c2VkIHdpdGggdXBkYXRlKCkgYW5kIHNldCgpYCk7XG4gICAgICAgIGlmICghdC5wYXRoKSB0aHJvdyB0LkR1KGAke2UuX21ldGhvZE5hbWV9KCkgaXMgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQgaW5zaWRlIGFycmF5c2ApO1xuICAgICAgICBjb25zdCBuID0gZS5fdG9GaWVsZFRyYW5zZm9ybSh0KTtcbiAgICAgICAgbiAmJiB0LmZpZWxkVHJhbnNmb3Jtcy5wdXNoKG4pO1xuICAgIH1cbiAgICAvKipcbiAqIEhlbHBlciB0byBwYXJzZSBhIHNjYWxhciB2YWx1ZSAoaS5lLiBub3QgYW4gT2JqZWN0LCBBcnJheSwgb3IgRmllbGRWYWx1ZSlcbiAqXG4gKiBAcmV0dXJucyBUaGUgcGFyc2VkIHZhbHVlXG4gKi8gKGUsIHQpLCBudWxsO1xuICAgIGlmICh2b2lkIDAgPT09IGUgJiYgdC5pZ25vcmVVbmRlZmluZWRQcm9wZXJ0aWVzKSBcbiAgICAvLyBJZiB0aGUgaW5wdXQgaXMgdW5kZWZpbmVkIGl0IGNhbiBuZXZlciBwYXJ0aWNpcGF0ZSBpbiB0aGUgZmllbGRNYXNrLCBzb1xuICAgIC8vIGRvbid0IGhhbmRsZSB0aGlzIGJlbG93LiBJZiBgaWdub3JlVW5kZWZpbmVkUHJvcGVydGllc2AgaXMgZmFsc2UsXG4gICAgLy8gYHBhcnNlU2NhbGFyVmFsdWVgIHdpbGwgcmVqZWN0IGFuIHVuZGVmaW5lZCB2YWx1ZS5cbiAgICByZXR1cm4gbnVsbDtcbiAgICBpZiAoXG4gICAgLy8gSWYgY29udGV4dC5wYXRoIGlzIG51bGwgd2UgYXJlIGluc2lkZSBhbiBhcnJheSBhbmQgd2UgZG9uJ3Qgc3VwcG9ydFxuICAgIC8vIGZpZWxkIG1hc2sgcGF0aHMgbW9yZSBncmFudWxhciB0aGFuIHRoZSB0b3AtbGV2ZWwgYXJyYXkuXG4gICAgdC5wYXRoICYmIHQuZmllbGRNYXNrLnB1c2godC5wYXRoKSwgZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIC8vIFRPRE8oYi8zNDg3MTEzMSk6IEluY2x1ZGUgdGhlIHBhdGggY29udGFpbmluZyB0aGUgYXJyYXkgaW4gdGhlIGVycm9yXG4gICAgICAgIC8vIG1lc3NhZ2UuXG4gICAgICAgIC8vIEluIHRoZSBjYXNlIG9mIElOIHF1ZXJpZXMsIHRoZSBwYXJzZWQgZGF0YSBpcyBhbiBhcnJheSAocmVwcmVzZW50aW5nXG4gICAgICAgIC8vIHRoZSBzZXQgb2YgdmFsdWVzIHRvIGJlIGluY2x1ZGVkIGZvciB0aGUgSU4gcXVlcnkpIHRoYXQgbWF5IGRpcmVjdGx5XG4gICAgICAgIC8vIGNvbnRhaW4gYWRkaXRpb25hbCBhcnJheXMgKGVhY2ggcmVwcmVzZW50aW5nIGFuIGluZGl2aWR1YWwgZmllbGRcbiAgICAgICAgLy8gdmFsdWUpLCBzbyB3ZSBkaXNhYmxlIHRoaXMgdmFsaWRhdGlvbi5cbiAgICAgICAgaWYgKHQuc2V0dGluZ3MueXUgJiYgNCAvKiBVc2VyRGF0YVNvdXJjZS5BcnJheUFyZ3VtZW50ICovICE9PSB0LmZ1KSB0aHJvdyB0LkR1KFwiTmVzdGVkIGFycmF5cyBhcmUgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZUFycmF5KGUsIHQpIHtcbiAgICAgICAgICAgIGNvbnN0IG4gPSBbXTtcbiAgICAgICAgICAgIGxldCByID0gMDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaSBvZiBlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGUgPSBfX1BSSVZBVEVfcGFyc2VEYXRhKGksIHQuYnUocikpO1xuICAgICAgICAgICAgICAgIG51bGwgPT0gZSAmJiAoXG4gICAgICAgICAgICAgICAgLy8gSnVzdCBpbmNsdWRlIG51bGxzIGluIHRoZSBhcnJheSBmb3IgZmllbGRzIGJlaW5nIHJlcGxhY2VkIHdpdGggYVxuICAgICAgICAgICAgICAgIC8vIHNlbnRpbmVsLlxuICAgICAgICAgICAgICAgIGUgPSB7XG4gICAgICAgICAgICAgICAgICAgIG51bGxWYWx1ZTogXCJOVUxMX1ZBTFVFXCJcbiAgICAgICAgICAgICAgICB9KSwgbi5wdXNoKGUpLCByKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGFycmF5VmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzOiBuXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfShlLCB0KTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIF9fUFJJVkFURV9wYXJzZVNjYWxhclZhbHVlKGUsIHQpIHtcbiAgICAgICAgaWYgKG51bGwgPT09IChlID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UoZSkpKSByZXR1cm4ge1xuICAgICAgICAgICAgbnVsbFZhbHVlOiBcIk5VTExfVkFMVUVcIlxuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJudW1iZXJcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIHRvTnVtYmVyKHQuc2VyaWFsaXplciwgZSk7XG4gICAgICAgIGlmIChcImJvb2xlYW5cIiA9PSB0eXBlb2YgZSkgcmV0dXJuIHtcbiAgICAgICAgICAgIGJvb2xlYW5WYWx1ZTogZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgZSkgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0cmluZ1ZhbHVlOiBlXG4gICAgICAgIH07XG4gICAgICAgIGlmIChlIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IFRpbWVzdGFtcC5mcm9tRGF0ZShlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wVmFsdWU6IHRvVGltZXN0YW1wKHQuc2VyaWFsaXplciwgbilcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBUaW1lc3RhbXApIHtcbiAgICAgICAgICAgIC8vIEZpcmVzdG9yZSBiYWNrZW5kIHRydW5jYXRlcyBwcmVjaXNpb24gZG93biB0byBtaWNyb3NlY29uZHMuIFRvIGVuc3VyZVxuICAgICAgICAgICAgLy8gb2ZmbGluZSBtb2RlIHdvcmtzIHRoZSBzYW1lIHdpdGggcmVnYXJkcyB0byB0cnVuY2F0aW9uLCBwZXJmb3JtIHRoZVxuICAgICAgICAgICAgLy8gdHJ1bmNhdGlvbiBpbW1lZGlhdGVseSB3aXRob3V0IHdhaXRpbmcgZm9yIHRoZSBiYWNrZW5kIHRvIGRvIHRoYXQuXG4gICAgICAgICAgICBjb25zdCBuID0gbmV3IFRpbWVzdGFtcChlLnNlY29uZHMsIDFlMyAqIE1hdGguZmxvb3IoZS5uYW5vc2Vjb25kcyAvIDFlMykpO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXBWYWx1ZTogdG9UaW1lc3RhbXAodC5zZXJpYWxpemVyLCBuKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIEdlb1BvaW50KSByZXR1cm4ge1xuICAgICAgICAgICAgZ2VvUG9pbnRWYWx1ZToge1xuICAgICAgICAgICAgICAgIGxhdGl0dWRlOiBlLmxhdGl0dWRlLFxuICAgICAgICAgICAgICAgIGxvbmdpdHVkZTogZS5sb25naXR1ZGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBCeXRlcykgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ5dGVzVmFsdWU6IF9fUFJJVkFURV90b0J5dGVzKHQuc2VyaWFsaXplciwgZS5fYnl0ZVN0cmluZylcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGUgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSkge1xuICAgICAgICAgICAgY29uc3QgbiA9IHQuZGF0YWJhc2VJZCwgciA9IGUuZmlyZXN0b3JlLl9kYXRhYmFzZUlkO1xuICAgICAgICAgICAgaWYgKCFyLmlzRXF1YWwobikpIHRocm93IHQuRHUoYERvY3VtZW50IHJlZmVyZW5jZSBpcyBmb3IgZGF0YWJhc2UgJHtyLnByb2plY3RJZH0vJHtyLmRhdGFiYXNlfSBidXQgc2hvdWxkIGJlIGZvciBkYXRhYmFzZSAke24ucHJvamVjdElkfS8ke24uZGF0YWJhc2V9YCk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlZmVyZW5jZVZhbHVlOiBfX1BSSVZBVEVfdG9SZXNvdXJjZU5hbWUoZS5maXJlc3RvcmUuX2RhdGFiYXNlSWQgfHwgdC5kYXRhYmFzZUlkLCBlLl9rZXkucGF0aClcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgdC5EdShgVW5zdXBwb3J0ZWQgZmllbGQgdmFsdWU6ICR7X19QUklWQVRFX3ZhbHVlRGVzY3JpcHRpb24oZSl9YCk7XG4gICAgfVxuICAgIC8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYW4gb2JqZWN0IGxvb2tzIGxpa2UgYSBKU09OIG9iamVjdCB0aGF0IHNob3VsZCBiZSBjb252ZXJ0ZWRcbiAqIGludG8gYSBzdHJ1Y3QuIE5vcm1hbCBjbGFzcy9wcm90b3R5cGUgaW5zdGFuY2VzIGFyZSBjb25zaWRlcmVkIHRvIGxvb2sgbGlrZVxuICogSlNPTiBvYmplY3RzIHNpbmNlIHRoZXkgc2hvdWxkIGJlIGNvbnZlcnRlZCB0byBhIHN0cnVjdCB2YWx1ZS4gQXJyYXlzLCBEYXRlcyxcbiAqIEdlb1BvaW50cywgZXRjLiBhcmUgbm90IGNvbnNpZGVyZWQgdG8gbG9vayBsaWtlIEpTT04gb2JqZWN0cyBzaW5jZSB0aGV5IG1hcFxuICogdG8gc3BlY2lmaWMgRmllbGRWYWx1ZSB0eXBlcyBvdGhlciB0aGFuIE9iamVjdFZhbHVlLlxuICovIChlLCB0KTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlT2JqZWN0KGUsIHQpIHtcbiAgICBjb25zdCBuID0ge307XG4gICAgcmV0dXJuIGlzRW1wdHkoZSkgPyBcbiAgICAvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZW1wdHkgb2JqZWN0LCB3ZSBleHBsaWNpdGx5IGFkZCBpdCB0byB0aGUgdXBkYXRlXG4gICAgLy8gbWFzayB0byBlbnN1cmUgdGhhdCB0aGUgc2VydmVyIGNyZWF0ZXMgYSBtYXAgZW50cnkuXG4gICAgdC5wYXRoICYmIHQucGF0aC5sZW5ndGggPiAwICYmIHQuZmllbGRNYXNrLnB1c2godC5wYXRoKSA6IGZvckVhY2goZSwgKChlLCByKSA9PiB7XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfcGFyc2VEYXRhKHIsIHQucHUoZSkpO1xuICAgICAgICBudWxsICE9IGkgJiYgKG5bZV0gPSBpKTtcbiAgICB9KSksIHtcbiAgICAgICAgbWFwVmFsdWU6IHtcbiAgICAgICAgICAgIGZpZWxkczogblxuICAgICAgICB9XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX2xvb2tzTGlrZUpzb25PYmplY3QoZSkge1xuICAgIHJldHVybiAhKFwib2JqZWN0XCIgIT0gdHlwZW9mIGUgfHwgbnVsbCA9PT0gZSB8fCBlIGluc3RhbmNlb2YgQXJyYXkgfHwgZSBpbnN0YW5jZW9mIERhdGUgfHwgZSBpbnN0YW5jZW9mIFRpbWVzdGFtcCB8fCBlIGluc3RhbmNlb2YgR2VvUG9pbnQgfHwgZSBpbnN0YW5jZW9mIEJ5dGVzIHx8IGUgaW5zdGFuY2VvZiBEb2N1bWVudFJlZmVyZW5jZSB8fCBlIGluc3RhbmNlb2YgRmllbGRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV92YWxpZGF0ZVBsYWluT2JqZWN0KGUsIHQsIG4pIHtcbiAgICBpZiAoIV9fUFJJVkFURV9sb29rc0xpa2VKc29uT2JqZWN0KG4pIHx8ICFmdW5jdGlvbiBfX1BSSVZBVEVfaXNQbGFpbk9iamVjdChlKSB7XG4gICAgICAgIHJldHVybiBcIm9iamVjdFwiID09IHR5cGVvZiBlICYmIG51bGwgIT09IGUgJiYgKE9iamVjdC5nZXRQcm90b3R5cGVPZihlKSA9PT0gT2JqZWN0LnByb3RvdHlwZSB8fCBudWxsID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSkpO1xuICAgIH0obikpIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uKG4pO1xuICAgICAgICB0aHJvdyBcImFuIG9iamVjdFwiID09PSByID8gdC5EdShlICsgXCIgYSBjdXN0b20gb2JqZWN0XCIpIDogdC5EdShlICsgXCIgXCIgKyByKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRoYXQgY2FsbHMgZnJvbURvdFNlcGFyYXRlZFN0cmluZygpIGJ1dCB3cmFwcyBhbnkgZXJyb3IgdGhyb3duLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQkMShlLCB0LCBuKSB7XG4gICAgaWYgKChcbiAgICAvLyBJZiByZXF1aXJlZCwgcmVwbGFjZSB0aGUgRmllbGRQYXRoIENvbXBhdCBjbGFzcyB3aXRoIHdpdGggdGhlIGZpcmVzdG9yZS1leHBcbiAgICAvLyBGaWVsZFBhdGguXG4gICAgdCA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKHQpKSBpbnN0YW5jZW9mIEZpZWxkUGF0aCkgcmV0dXJuIHQuX2ludGVybmFsUGF0aDtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgdCkgcmV0dXJuIF9fUFJJVkFURV9maWVsZFBhdGhGcm9tRG90U2VwYXJhdGVkU3RyaW5nKGUsIHQpO1xuICAgIHRocm93IF9fUFJJVkFURV9jcmVhdGVFcnJvcihcIkZpZWxkIHBhdGggYXJndW1lbnRzIG11c3QgYmUgb2YgdHlwZSBzdHJpbmcgb3IgXCIsIGUsIFxuICAgIC8qIGhhc0NvbnZlcnRlcj0gKi8gITEsIFxuICAgIC8qIHBhdGg9ICovIHZvaWQgMCwgbik7XG59XG5cbi8qKlxuICogTWF0Y2hlcyBhbnkgY2hhcmFjdGVycyBpbiBhIGZpZWxkIHBhdGggc3RyaW5nIHRoYXQgYXJlIHJlc2VydmVkLlxuICovIGNvbnN0IGJlID0gbmV3IFJlZ0V4cChcIlt+XFxcXCovXFxcXFtcXFxcXV1cIik7XG5cbi8qKlxuICogV3JhcHMgZnJvbURvdFNlcGFyYXRlZFN0cmluZyB3aXRoIGFuIGVycm9yIG1lc3NhZ2UgYWJvdXQgdGhlIG1ldGhvZCB0aGF0XG4gKiB3YXMgdGhyb3duLlxuICogQHBhcmFtIG1ldGhvZE5hbWUgLSBUaGUgcHVibGljbHkgdmlzaWJsZSBtZXRob2QgbmFtZVxuICogQHBhcmFtIHBhdGggLSBUaGUgZG90LXNlcGFyYXRlZCBzdHJpbmcgZm9ybSBvZiBhIGZpZWxkIHBhdGggd2hpY2ggd2lsbCBiZVxuICogc3BsaXQgb24gZG90cy5cbiAqIEBwYXJhbSB0YXJnZXREb2MgLSBUaGUgZG9jdW1lbnQgYWdhaW5zdCB3aGljaCB0aGUgZmllbGQgcGF0aCB3aWxsIGJlXG4gKiBldmFsdWF0ZWQuXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoZSwgdCwgbikge1xuICAgIGlmICh0LnNlYXJjaChiZSkgPj0gMCkgdGhyb3cgX19QUklWQVRFX2NyZWF0ZUVycm9yKGBJbnZhbGlkIGZpZWxkIHBhdGggKCR7dH0pLiBQYXRocyBtdXN0IG5vdCBjb250YWluICd+JywgJyonLCAnLycsICdbJywgb3IgJ10nYCwgZSwgXG4gICAgLyogaGFzQ29udmVydGVyPSAqLyAhMSwgXG4gICAgLyogcGF0aD0gKi8gdm9pZCAwLCBuKTtcbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IEZpZWxkUGF0aCguLi50LnNwbGl0KFwiLlwiKSkuX2ludGVybmFsUGF0aDtcbiAgICB9IGNhdGNoIChyKSB7XG4gICAgICAgIHRocm93IF9fUFJJVkFURV9jcmVhdGVFcnJvcihgSW52YWxpZCBmaWVsZCBwYXRoICgke3R9KS4gUGF0aHMgbXVzdCBub3QgYmUgZW1wdHksIGJlZ2luIHdpdGggJy4nLCBlbmQgd2l0aCAnLicsIG9yIGNvbnRhaW4gJy4uJ2AsIGUsIFxuICAgICAgICAvKiBoYXNDb252ZXJ0ZXI9ICovICExLCBcbiAgICAgICAgLyogcGF0aD0gKi8gdm9pZCAwLCBuKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9jcmVhdGVFcnJvcihlLCB0LCBuLCByLCBpKSB7XG4gICAgY29uc3QgcyA9IHIgJiYgIXIuaXNFbXB0eSgpLCBvID0gdm9pZCAwICE9PSBpO1xuICAgIGxldCBfID0gYEZ1bmN0aW9uICR7dH0oKSBjYWxsZWQgd2l0aCBpbnZhbGlkIGRhdGFgO1xuICAgIG4gJiYgKF8gKz0gXCIgKHZpYSBgdG9GaXJlc3RvcmUoKWApXCIpLCBfICs9IFwiLiBcIjtcbiAgICBsZXQgYSA9IFwiXCI7XG4gICAgcmV0dXJuIChzIHx8IG8pICYmIChhICs9IFwiIChmb3VuZFwiLCBzICYmIChhICs9IGAgaW4gZmllbGQgJHtyfWApLCBvICYmIChhICs9IGAgaW4gZG9jdW1lbnQgJHtpfWApLCBcbiAgICBhICs9IFwiKVwiKSwgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXyArIGUgKyBhKTtcbn1cblxuLyoqIENoZWNrcyBgaGF5c3RhY2tgIGlmIEZpZWxkUGF0aCBgbmVlZGxlYCBpcyBwcmVzZW50LiBSdW5zIGluIE8obikuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9maWVsZE1hc2tDb250YWlucyhlLCB0KSB7XG4gICAgcmV0dXJuIGUuc29tZSgoZSA9PiBlLmlzRXF1YWwodCkpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSBgRG9jdW1lbnRTbmFwc2hvdGAgY29udGFpbnMgZGF0YSByZWFkIGZyb20gYSBkb2N1bWVudCBpbiB5b3VyIEZpcmVzdG9yZVxuICogZGF0YWJhc2UuIFRoZSBkYXRhIGNhbiBiZSBleHRyYWN0ZWQgd2l0aCBgLmRhdGEoKWAgb3IgYC5nZXQoPGZpZWxkPilgIHRvXG4gKiBnZXQgYSBzcGVjaWZpYyBmaWVsZC5cbiAqXG4gKiBGb3IgYSBgRG9jdW1lbnRTbmFwc2hvdGAgdGhhdCBwb2ludHMgdG8gYSBub24tZXhpc3RpbmcgZG9jdW1lbnQsIGFueSBkYXRhXG4gKiBhY2Nlc3Mgd2lsbCByZXR1cm4gJ3VuZGVmaW5lZCcuIFlvdSBjYW4gdXNlIHRoZSBgZXhpc3RzKClgIG1ldGhvZCB0b1xuICogZXhwbGljaXRseSB2ZXJpZnkgYSBkb2N1bWVudCdzIGV4aXN0ZW5jZS5cbiAqLyBjbGFzcyBEb2N1bWVudFNuYXBzaG90JDEge1xuICAgIC8vIE5vdGU6IFRoaXMgY2xhc3MgaXMgc3RyaXBwZWQgZG93biB2ZXJzaW9uIG9mIHRoZSBEb2N1bWVudFNuYXBzaG90IGluXG4gICAgLy8gdGhlIGxlZ2FjeSBTREsuIFRoZSBjaGFuZ2VzIGFyZTpcbiAgICAvLyAtIE5vIHN1cHBvcnQgZm9yIFNuYXBzaG90TWV0YWRhdGEuXG4gICAgLy8gLSBObyBzdXBwb3J0IGZvciBTbmFwc2hvdE9wdGlvbnMuXG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgcHJvdGVjdGVkICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICB0aGlzLl9maXJlc3RvcmUgPSBlLCB0aGlzLl91c2VyRGF0YVdyaXRlciA9IHQsIHRoaXMuX2tleSA9IG4sIHRoaXMuX2RvY3VtZW50ID0gciwgXG4gICAgICAgIHRoaXMuX2NvbnZlcnRlciA9IGk7XG4gICAgfVxuICAgIC8qKiBQcm9wZXJ0eSBvZiB0aGUgYERvY3VtZW50U25hcHNob3RgIHRoYXQgcHJvdmlkZXMgdGhlIGRvY3VtZW50J3MgSUQuICovICAgIGdldCBpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2tleS5wYXRoLmxhc3RTZWdtZW50KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgRG9jdW1lbnRSZWZlcmVuY2VgIGZvciB0aGUgZG9jdW1lbnQgaW5jbHVkZWQgaW4gdGhlIGBEb2N1bWVudFNuYXBzaG90YC5cbiAgICAgKi8gICAgZ2V0IHJlZigpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEb2N1bWVudFJlZmVyZW5jZSh0aGlzLl9maXJlc3RvcmUsIHRoaXMuX2NvbnZlcnRlciwgdGhpcy5fa2V5KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2lnbmFscyB3aGV0aGVyIG9yIG5vdCB0aGUgZG9jdW1lbnQgYXQgdGhlIHNuYXBzaG90J3MgbG9jYXRpb24gZXhpc3RzLlxuICAgICAqXG4gICAgICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgZG9jdW1lbnQgZXhpc3RzLlxuICAgICAqLyAgICBleGlzdHMoKSB7XG4gICAgICAgIHJldHVybiBudWxsICE9PSB0aGlzLl9kb2N1bWVudDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50IGFzIGFuIGBPYmplY3RgLiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmXG4gICAgICogdGhlIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3QuXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyBBbiBgT2JqZWN0YCBjb250YWluaW5nIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50IG9yIGB1bmRlZmluZWRgXG4gICAgICogaWYgdGhlIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3QuXG4gICAgICovICAgIGRhdGEoKSB7XG4gICAgICAgIGlmICh0aGlzLl9kb2N1bWVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnZlcnRlcikge1xuICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgd2FudCB0byB1c2UgdGhlIGNvbnZlcnRlciBhbmQgY3JlYXRlIGEgbmV3IERvY3VtZW50U25hcHNob3RcbiAgICAgICAgICAgICAgICAvLyBpZiBhIGNvbnZlcnRlciBoYXMgYmVlbiBwcm92aWRlZC5cbiAgICAgICAgICAgICAgICBjb25zdCBlID0gbmV3IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCQxKHRoaXMuX2ZpcmVzdG9yZSwgdGhpcy5fdXNlckRhdGFXcml0ZXIsIHRoaXMuX2tleSwgdGhpcy5fZG9jdW1lbnQsIFxuICAgICAgICAgICAgICAgIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2NvbnZlcnRlci5mcm9tRmlyZXN0b3JlKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJEYXRhV3JpdGVyLmNvbnZlcnRWYWx1ZSh0aGlzLl9kb2N1bWVudC5kYXRhLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGZpZWxkIHNwZWNpZmllZCBieSBgZmllbGRQYXRoYC4gUmV0dXJucyBgdW5kZWZpbmVkYCBpZiB0aGVcbiAgICAgKiBkb2N1bWVudCBvciBmaWVsZCBkb2Vzbid0IGV4aXN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpZWxkUGF0aCAtIFRoZSBwYXRoIChmb3IgZXhhbXBsZSAnZm9vJyBvciAnZm9vLmJhcicpIHRvIGEgc3BlY2lmaWNcbiAgICAgKiBmaWVsZC5cbiAgICAgKiBAcmV0dXJucyBUaGUgZGF0YSBhdCB0aGUgc3BlY2lmaWVkIGZpZWxkIGxvY2F0aW9uIG9yIHVuZGVmaW5lZCBpZiBubyBzdWNoXG4gICAgICogZmllbGQgZXhpc3RzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKi9cbiAgICAvLyBXZSBhcmUgdXNpbmcgYGFueWAgaGVyZSB0byBhdm9pZCBhbiBleHBsaWNpdCBjYXN0IGJ5IG91ciB1c2Vycy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGdldChlKSB7XG4gICAgICAgIGlmICh0aGlzLl9kb2N1bWVudCkge1xuICAgICAgICAgICAgY29uc3QgdCA9IHRoaXMuX2RvY3VtZW50LmRhdGEuZmllbGQoX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudChcIkRvY3VtZW50U25hcHNob3QuZ2V0XCIsIGUpKTtcbiAgICAgICAgICAgIGlmIChudWxsICE9PSB0KSByZXR1cm4gdGhpcy5fdXNlckRhdGFXcml0ZXIuY29udmVydFZhbHVlKHQpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEEgYFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdGAgY29udGFpbnMgZGF0YSByZWFkIGZyb20gYSBkb2N1bWVudCBpbiB5b3VyXG4gKiBGaXJlc3RvcmUgZGF0YWJhc2UgYXMgcGFydCBvZiBhIHF1ZXJ5LiBUaGUgZG9jdW1lbnQgaXMgZ3VhcmFudGVlZCB0byBleGlzdFxuICogYW5kIGl0cyBkYXRhIGNhbiBiZSBleHRyYWN0ZWQgd2l0aCBgLmRhdGEoKWAgb3IgYC5nZXQoPGZpZWxkPilgIHRvIGdldCBhXG4gKiBzcGVjaWZpYyBmaWVsZC5cbiAqXG4gKiBBIGBRdWVyeURvY3VtZW50U25hcHNob3RgIG9mZmVycyB0aGUgc2FtZSBBUEkgc3VyZmFjZSBhcyBhXG4gKiBgRG9jdW1lbnRTbmFwc2hvdGAuIFNpbmNlIHF1ZXJ5IHJlc3VsdHMgY29udGFpbiBvbmx5IGV4aXN0aW5nIGRvY3VtZW50cywgdGhlXG4gKiBgZXhpc3RzYCBwcm9wZXJ0eSB3aWxsIGFsd2F5cyBiZSB0cnVlIGFuZCBgZGF0YSgpYCB3aWxsIG5ldmVyIHJldHVyblxuICogJ3VuZGVmaW5lZCcuXG4gKi8gY2xhc3MgUXVlcnlEb2N1bWVudFNuYXBzaG90JDEgZXh0ZW5kcyBEb2N1bWVudFNuYXBzaG90JDEge1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBhcyBhbiBgT2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqIEByZXR1cm5zIEFuIGBPYmplY3RgIGNvbnRhaW5pbmcgYWxsIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgZGF0YSgpIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmRhdGEoKTtcbiAgICB9XG59XG5cbi8qKlxuICogSGVscGVyIHRoYXQgY2FsbHMgYGZyb21Eb3RTZXBhcmF0ZWRTdHJpbmcoKWAgYnV0IHdyYXBzIGFueSBlcnJvciB0aHJvd24uXG4gKi8gZnVuY3Rpb24gX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudChlLCB0KSB7XG4gICAgcmV0dXJuIFwic3RyaW5nXCIgPT0gdHlwZW9mIHQgPyBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyhlLCB0KSA6IHQgaW5zdGFuY2VvZiBGaWVsZFBhdGggPyB0Ll9pbnRlcm5hbFBhdGggOiB0Ll9kZWxlZ2F0ZS5faW50ZXJuYWxQYXRoO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVIYXNFeHBsaWNpdE9yZGVyQnlGb3JMaW1pdFRvTGFzdChlKSB7XG4gICAgaWYgKFwiTFwiIC8qIExpbWl0VHlwZS5MYXN0ICovID09PSBlLmxpbWl0VHlwZSAmJiAwID09PSBlLmV4cGxpY2l0T3JkZXJCeS5sZW5ndGgpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLlVOSU1QTEVNRU5URUQsIFwibGltaXRUb0xhc3QoKSBxdWVyaWVzIHJlcXVpcmUgc3BlY2lmeWluZyBhdCBsZWFzdCBvbmUgb3JkZXJCeSgpIGNsYXVzZVwiKTtcbn1cblxuLyoqXG4gKiBBbiBgQXBwbGlhYmxlQ29uc3RyYWludGAgaXMgYW4gYWJzdHJhY3Rpb24gb2YgYSBjb25zdHJhaW50IHRoYXQgY2FuIGJlIGFwcGxpZWRcbiAqIHRvIGEgRmlyZXN0b3JlIHF1ZXJ5LlxuICovIGNsYXNzIEFwcGxpYWJsZUNvbnN0cmFpbnQge31cblxuLyoqXG4gKiBBIGBRdWVyeUNvbnN0cmFpbnRgIGlzIHVzZWQgdG8gbmFycm93IHRoZSBzZXQgb2YgZG9jdW1lbnRzIHJldHVybmVkIGJ5IGFcbiAqIEZpcmVzdG9yZSBxdWVyeS4gYFF1ZXJ5Q29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nIHtAbGluayB3aGVyZX0sXG4gKiB7QGxpbmsgb3JkZXJCeX0sIHtAbGluayAoc3RhcnRBdDoxKX0sIHtAbGluayAoc3RhcnRBZnRlcjoxKX0sIHtAbGlua1xuICogKGVuZEJlZm9yZToxKX0sIHtAbGluayAoZW5kQXQ6MSl9LCB7QGxpbmsgbGltaXR9LCB7QGxpbmsgbGltaXRUb0xhc3R9IGFuZFxuICogY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhIG5ldyBxdWVyeSBpbnN0YW5jZSB0aGF0XG4gKiBhbHNvIGNvbnRhaW5zIHRoaXMgYFF1ZXJ5Q29uc3RyYWludGAuXG4gKi8gY2xhc3MgUXVlcnlDb25zdHJhaW50IGV4dGVuZHMgQXBwbGlhYmxlQ29uc3RyYWludCB7fVxuXG5mdW5jdGlvbiBxdWVyeShlLCB0LCAuLi5uKSB7XG4gICAgbGV0IHIgPSBbXTtcbiAgICB0IGluc3RhbmNlb2YgQXBwbGlhYmxlQ29uc3RyYWludCAmJiByLnB1c2godCksIHIgPSByLmNvbmNhdChuKSwgZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlUXVlcnlDb25zdHJhaW50QXJyYXkoZSkge1xuICAgICAgICBjb25zdCB0ID0gZS5maWx0ZXIoKGUgPT4gZSBpbnN0YW5jZW9mIFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludCkpLmxlbmd0aCwgbiA9IGUuZmlsdGVyKChlID0+IGUgaW5zdGFuY2VvZiBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludCkpLmxlbmd0aDtcbiAgICAgICAgaWYgKHQgPiAxIHx8IHQgPiAwICYmIG4gPiAwKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIkludmFsaWRRdWVyeS4gV2hlbiB1c2luZyBjb21wb3NpdGUgZmlsdGVycywgeW91IGNhbm5vdCB1c2UgbW9yZSB0aGFuIG9uZSBmaWx0ZXIgYXQgdGhlIHRvcCBsZXZlbC4gQ29uc2lkZXIgbmVzdGluZyB0aGUgbXVsdGlwbGUgZmlsdGVycyB3aXRoaW4gYW4gYGFuZCguLi4pYCBzdGF0ZW1lbnQuIEZvciBleGFtcGxlOiBjaGFuZ2UgYHF1ZXJ5KHF1ZXJ5LCB3aGVyZSguLi4pLCBvciguLi4pKWAgdG8gYHF1ZXJ5KHF1ZXJ5LCBhbmQod2hlcmUoLi4uKSwgb3IoLi4uKSkpYC5cIik7XG4gICAgfVxuICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4gICAgLyoqXG4gKiBDb252ZXJ0cyBGaXJlc3RvcmUncyBpbnRlcm5hbCB0eXBlcyB0byB0aGUgSmF2YVNjcmlwdCB0eXBlcyB0aGF0IHdlIGV4cG9zZVxuICogdG8gdGhlIHVzZXIuXG4gKlxuICogQGludGVybmFsXG4gKi8gKHIpO1xuICAgIGZvciAoY29uc3QgdCBvZiByKSBlID0gdC5fYXBwbHkoZSk7XG4gICAgcmV0dXJuIGU7XG59XG5cbi8qKlxuICogQSBgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnRgIGlzIHVzZWQgdG8gbmFycm93IHRoZSBzZXQgb2YgZG9jdW1lbnRzIHJldHVybmVkIGJ5XG4gKiBhIEZpcmVzdG9yZSBxdWVyeSBieSBmaWx0ZXJpbmcgb24gb25lIG9yIG1vcmUgZG9jdW1lbnQgZmllbGRzLlxuICogYFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50YHMgYXJlIGNyZWF0ZWQgYnkgaW52b2tpbmcge0BsaW5rIHdoZXJlfSBhbmQgY2FuIHRoZW5cbiAqIGJlIHBhc3NlZCB0byB7QGxpbmsgKHF1ZXJ5OjEpfSB0byBjcmVhdGUgYSBuZXcgcXVlcnkgaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zXG4gKiB0aGlzIGBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludGAuXG4gKi8gY2xhc3MgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQgZXh0ZW5kcyBRdWVyeUNvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy5fZmllbGQgPSBlLCB0aGlzLl9vcCA9IHQsIHRoaXMuX3ZhbHVlID0gbiwgXG4gICAgICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIHF1ZXJ5IGNvbnN0cmFpbnQgKi9cbiAgICAgICAgdGhpcy50eXBlID0gXCJ3aGVyZVwiO1xuICAgIH1cbiAgICBzdGF0aWMgX2NyZWF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQoZSwgdCwgbik7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLl9wYXJzZShlKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV92YWxpZGF0ZU5ld0ZpZWxkRmlsdGVyKGUuX3F1ZXJ5LCB0KSwgbmV3IFF1ZXJ5KGUuZmlyZXN0b3JlLCBlLmNvbnZlcnRlciwgX19QUklWQVRFX3F1ZXJ5V2l0aEFkZGVkRmlsdGVyKGUuX3F1ZXJ5LCB0KSk7XG4gICAgfVxuICAgIF9wYXJzZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoZS5maXJlc3RvcmUpLCBuID0gZnVuY3Rpb24gX19QUklWQVRFX25ld1F1ZXJ5RmlsdGVyKGUsIHQsIG4sIHIsIGksIHMsIG8pIHtcbiAgICAgICAgICAgIGxldCBfO1xuICAgICAgICAgICAgaWYgKGkuaXNLZXlGaWVsZCgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKFwiYXJyYXktY29udGFpbnNcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOUyAqLyA9PT0gcyB8fCBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyA9PT0gcykgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgUXVlcnkuIFlvdSBjYW4ndCBwZXJmb3JtICcke3N9JyBxdWVyaWVzIG9uIGRvY3VtZW50SWQoKS5gKTtcbiAgICAgICAgICAgICAgICBpZiAoXCJpblwiIC8qIE9wZXJhdG9yLklOICovID09PSBzIHx8IFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovID09PSBzKSB7XG4gICAgICAgICAgICAgICAgICAgIF9fUFJJVkFURV92YWxpZGF0ZURpc2p1bmN0aXZlRmlsdGVyRWxlbWVudHMobywgcyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBuIG9mIG8pIHQucHVzaChfX1BSSVZBVEVfcGFyc2VEb2N1bWVudElkVmFsdWUociwgZSwgbikpO1xuICAgICAgICAgICAgICAgICAgICBfID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXJyYXlWYWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlczogdFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBfID0gX19QUklWQVRFX3BhcnNlRG9jdW1lbnRJZFZhbHVlKHIsIGUsIG8pO1xuICAgICAgICAgICAgfSBlbHNlIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyAhPT0gcyAmJiBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyAhPT0gcyAmJiBcImFycmF5LWNvbnRhaW5zLWFueVwiIC8qIE9wZXJhdG9yLkFSUkFZX0NPTlRBSU5TX0FOWSAqLyAhPT0gcyB8fCBfX1BSSVZBVEVfdmFsaWRhdGVEaXNqdW5jdGl2ZUZpbHRlckVsZW1lbnRzKG8sIHMpLCBcbiAgICAgICAgICAgIF8gPSBfX1BSSVZBVEVfcGFyc2VRdWVyeVZhbHVlKG4sIHQsIG8sIFxuICAgICAgICAgICAgLyogYWxsb3dBcnJheXM9ICovIFwiaW5cIiAvKiBPcGVyYXRvci5JTiAqLyA9PT0gcyB8fCBcIm5vdC1pblwiIC8qIE9wZXJhdG9yLk5PVF9JTiAqLyA9PT0gcyk7XG4gICAgICAgICAgICByZXR1cm4gRmllbGRGaWx0ZXIuY3JlYXRlKGksIHMsIF8pO1xuICAgICAgICB9KGUuX3F1ZXJ5LCBcIndoZXJlXCIsIHQsIGUuZmlyZXN0b3JlLl9kYXRhYmFzZUlkLCB0aGlzLl9maWVsZCwgdGhpcy5fb3AsIHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgcmV0dXJuIG47XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnR9IHRoYXQgZW5mb3JjZXMgdGhhdCBkb2N1bWVudHNcbiAqIG11c3QgY29udGFpbiB0aGUgc3BlY2lmaWVkIGZpZWxkIGFuZCB0aGF0IHRoZSB2YWx1ZSBzaG91bGQgc2F0aXNmeSB0aGVcbiAqIHJlbGF0aW9uIGNvbnN0cmFpbnQgcHJvdmlkZWQuXG4gKlxuICogQHBhcmFtIGZpZWxkUGF0aCAtIFRoZSBwYXRoIHRvIGNvbXBhcmVcbiAqIEBwYXJhbSBvcFN0ciAtIFRoZSBvcGVyYXRpb24gc3RyaW5nIChlLmcgXCImbHQ7XCIsIFwiJmx0Oz1cIiwgXCI9PVwiLCBcIiZsdDtcIixcbiAqICAgXCImbHQ7PVwiLCBcIiE9XCIpLlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIGZvciBjb21wYXJpc29uXG4gKiBAcmV0dXJucyBUaGUgY3JlYXRlZCB7QGxpbmsgUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnR9LlxuICovIGZ1bmN0aW9uIHdoZXJlKGUsIHQsIG4pIHtcbiAgICBjb25zdCByID0gdCwgaSA9IF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQoXCJ3aGVyZVwiLCBlKTtcbiAgICByZXR1cm4gUXVlcnlGaWVsZEZpbHRlckNvbnN0cmFpbnQuX2NyZWF0ZShpLCByLCBuKTtcbn1cblxuLyoqXG4gKiBBIGBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnRgIGlzIHVzZWQgdG8gbmFycm93IHRoZSBzZXQgb2YgZG9jdW1lbnRzXG4gKiByZXR1cm5lZCBieSBhIEZpcmVzdG9yZSBxdWVyeSBieSBwZXJmb3JtaW5nIHRoZSBsb2dpY2FsIE9SIG9yIEFORCBvZiBtdWx0aXBsZVxuICoge0BsaW5rIFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50fXMgb3Ige0BsaW5rIFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludH1zLlxuICogYFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludGBzIGFyZSBjcmVhdGVkIGJ5IGludm9raW5nIHtAbGluayBvcn0gb3JcbiAqIHtAbGluayBhbmR9IGFuZCBjYW4gdGhlbiBiZSBwYXNzZWQgdG8ge0BsaW5rIChxdWVyeToxKX0gdG8gY3JlYXRlIGEgbmV3IHF1ZXJ5XG4gKiBpbnN0YW5jZSB0aGF0IGFsc28gY29udGFpbnMgdGhlIGBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnRgLlxuICovIGNsYXNzIFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludCBleHRlbmRzIEFwcGxpYWJsZUNvbnN0cmFpbnQge1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgIC8qKiBUaGUgdHlwZSBvZiB0aGlzIHF1ZXJ5IGNvbnN0cmFpbnQgKi9cbiAgICBlLCB0KSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMudHlwZSA9IGUsIHRoaXMuX3F1ZXJ5Q29uc3RyYWludHMgPSB0O1xuICAgIH1cbiAgICBzdGF0aWMgX2NyZWF0ZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50KGUsIHQpO1xuICAgIH1cbiAgICBfcGFyc2UoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5fcXVlcnlDb25zdHJhaW50cy5tYXAoKHQgPT4gdC5fcGFyc2UoZSkpKS5maWx0ZXIoKGUgPT4gZS5nZXRGaWx0ZXJzKCkubGVuZ3RoID4gMCkpO1xuICAgICAgICByZXR1cm4gMSA9PT0gdC5sZW5ndGggPyB0WzBdIDogQ29tcG9zaXRlRmlsdGVyLmNyZWF0ZSh0LCB0aGlzLl9nZXRPcGVyYXRvcigpKTtcbiAgICB9XG4gICAgX2FwcGx5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IHRoaXMuX3BhcnNlKGUpO1xuICAgICAgICByZXR1cm4gMCA9PT0gdC5nZXRGaWx0ZXJzKCkubGVuZ3RoID8gZSA6IChmdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVOZXdGaWx0ZXIoZSwgdCkge1xuICAgICAgICAgICAgbGV0IG4gPSBlO1xuICAgICAgICAgICAgY29uc3QgciA9IHQuZ2V0RmxhdHRlbmVkRmlsdGVycygpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBlIG9mIHIpIF9fUFJJVkFURV92YWxpZGF0ZU5ld0ZpZWxkRmlsdGVyKG4sIGUpLCBuID0gX19QUklWQVRFX3F1ZXJ5V2l0aEFkZGVkRmlsdGVyKG4sIGUpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENoZWNrcyBpZiBhbnkgb2YgdGhlIHByb3ZpZGVkIGZpbHRlciBvcGVyYXRvcnMgYXJlIGluY2x1ZGVkIGluIHRoZSBnaXZlbiBsaXN0IG9mIGZpbHRlcnMgYW5kXG4gICAgICAgIC8vIHJldHVybnMgdGhlIGZpcnN0IG9uZSB0aGF0IGlzLCBvciBudWxsIGlmIG5vbmUgYXJlLlxuICAgICAgICAoZS5fcXVlcnksIHQpLCBuZXcgUXVlcnkoZS5maXJlc3RvcmUsIGUuY29udmVydGVyLCBfX1BSSVZBVEVfcXVlcnlXaXRoQWRkZWRGaWx0ZXIoZS5fcXVlcnksIHQpKSk7XG4gICAgfVxuICAgIF9nZXRRdWVyeUNvbnN0cmFpbnRzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcXVlcnlDb25zdHJhaW50cztcbiAgICB9XG4gICAgX2dldE9wZXJhdG9yKCkge1xuICAgICAgICByZXR1cm4gXCJhbmRcIiA9PT0gdGhpcy50eXBlID8gXCJhbmRcIiAvKiBDb21wb3NpdGVPcGVyYXRvci5BTkQgKi8gOiBcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi87XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcge0BsaW5rIFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludH0gdGhhdCBpcyBhIGRpc2p1bmN0aW9uIG9mXG4gKiB0aGUgZ2l2ZW4gZmlsdGVyIGNvbnN0cmFpbnRzLiBBIGRpc2p1bmN0aW9uIGZpbHRlciBpbmNsdWRlcyBhIGRvY3VtZW50IGlmIGl0XG4gKiBzYXRpc2ZpZXMgYW55IG9mIHRoZSBnaXZlbiBmaWx0ZXJzLlxuICpcbiAqIEBwYXJhbSBxdWVyeUNvbnN0cmFpbnRzIC0gT3B0aW9uYWwuIFRoZSBsaXN0IG9mXG4gKiB7QGxpbmsgUXVlcnlGaWx0ZXJDb25zdHJhaW50fXMgdG8gcGVyZm9ybSBhIGRpc2p1bmN0aW9uIGZvci4gVGhlc2UgbXVzdCBiZVxuICogY3JlYXRlZCB3aXRoIGNhbGxzIHRvIHtAbGluayB3aGVyZX0sIHtAbGluayBvcn0sIG9yIHtAbGluayBhbmR9LlxuICogQHJldHVybnMgVGhlIG5ld2x5IGNyZWF0ZWQge0BsaW5rIFF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludH0uXG4gKi8gZnVuY3Rpb24gb3IoLi4uZSkge1xuICAgIC8vIE9ubHkgc3VwcG9ydCBRdWVyeUZpbHRlckNvbnN0cmFpbnRzXG4gICAgcmV0dXJuIGUuZm9yRWFjaCgoZSA9PiBfX1BSSVZBVEVfdmFsaWRhdGVRdWVyeUZpbHRlckNvbnN0cmFpbnQoXCJvclwiLCBlKSkpLCBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnQuX2NyZWF0ZShcIm9yXCIgLyogQ29tcG9zaXRlT3BlcmF0b3IuT1IgKi8gLCBlKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHtAbGluayBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnR9IHRoYXQgaXMgYSBjb25qdW5jdGlvbiBvZlxuICogdGhlIGdpdmVuIGZpbHRlciBjb25zdHJhaW50cy4gQSBjb25qdW5jdGlvbiBmaWx0ZXIgaW5jbHVkZXMgYSBkb2N1bWVudCBpZiBpdFxuICogc2F0aXNmaWVzIGFsbCBvZiB0aGUgZ2l2ZW4gZmlsdGVycy5cbiAqXG4gKiBAcGFyYW0gcXVlcnlDb25zdHJhaW50cyAtIE9wdGlvbmFsLiBUaGUgbGlzdCBvZlxuICoge0BsaW5rIFF1ZXJ5RmlsdGVyQ29uc3RyYWludH1zIHRvIHBlcmZvcm0gYSBjb25qdW5jdGlvbiBmb3IuIFRoZXNlIG11c3QgYmVcbiAqIGNyZWF0ZWQgd2l0aCBjYWxscyB0byB7QGxpbmsgd2hlcmV9LCB7QGxpbmsgb3J9LCBvciB7QGxpbmsgYW5kfS5cbiAqIEByZXR1cm5zIFRoZSBuZXdseSBjcmVhdGVkIHtAbGluayBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnR9LlxuICovIGZ1bmN0aW9uIGFuZCguLi5lKSB7XG4gICAgLy8gT25seSBzdXBwb3J0IFF1ZXJ5RmlsdGVyQ29uc3RyYWludHNcbiAgICByZXR1cm4gZS5mb3JFYWNoKChlID0+IF9fUFJJVkFURV92YWxpZGF0ZVF1ZXJ5RmlsdGVyQ29uc3RyYWludChcImFuZFwiLCBlKSkpLCBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnQuX2NyZWF0ZShcImFuZFwiIC8qIENvbXBvc2l0ZU9wZXJhdG9yLkFORCAqLyAsIGUpO1xufVxuXG4vKipcbiAqIEEgYFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnRgIGlzIHVzZWQgdG8gc29ydCB0aGUgc2V0IG9mIGRvY3VtZW50cyByZXR1cm5lZCBieSBhXG4gKiBGaXJlc3RvcmUgcXVlcnkuIGBRdWVyeU9yZGVyQnlDb25zdHJhaW50YHMgYXJlIGNyZWF0ZWQgYnkgaW52b2tpbmdcbiAqIHtAbGluayBvcmRlckJ5fSBhbmQgY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhIG5ldyBxdWVyeVxuICogaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zIHRoaXMgYFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnRgLlxuICpcbiAqIE5vdGU6IERvY3VtZW50cyB0aGF0IGRvIG5vdCBjb250YWluIHRoZSBvcmRlckJ5IGZpZWxkIHdpbGwgbm90IGJlIHByZXNlbnQgaW5cbiAqIHRoZSBxdWVyeSByZXN1bHQuXG4gKi8gY2xhc3MgUXVlcnlPcmRlckJ5Q29uc3RyYWludCBleHRlbmRzIFF1ZXJ5Q29uc3RyYWludCB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLl9maWVsZCA9IGUsIHRoaXMuX2RpcmVjdGlvbiA9IHQsIFxuICAgICAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBxdWVyeSBjb25zdHJhaW50ICovXG4gICAgICAgIHRoaXMudHlwZSA9IFwib3JkZXJCeVwiO1xuICAgIH1cbiAgICBzdGF0aWMgX2NyZWF0ZShlLCB0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlPcmRlckJ5Q29uc3RyYWludChlLCB0KTtcbiAgICB9XG4gICAgX2FwcGx5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeU9yZGVyQnkoZSwgdCwgbikge1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IGUuc3RhcnRBdCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJJbnZhbGlkIHF1ZXJ5LiBZb3UgbXVzdCBub3QgY2FsbCBzdGFydEF0KCkgb3Igc3RhcnRBZnRlcigpIGJlZm9yZSBjYWxsaW5nIG9yZGVyQnkoKS5cIik7XG4gICAgICAgICAgICBpZiAobnVsbCAhPT0gZS5lbmRBdCkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJJbnZhbGlkIHF1ZXJ5LiBZb3UgbXVzdCBub3QgY2FsbCBlbmRBdCgpIG9yIGVuZEJlZm9yZSgpIGJlZm9yZSBjYWxsaW5nIG9yZGVyQnkoKS5cIik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE9yZGVyQnkodCwgbik7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBDcmVhdGUgYSBgQm91bmRgIGZyb20gYSBxdWVyeSBhbmQgYSBkb2N1bWVudC5cbiAqXG4gKiBOb3RlIHRoYXQgdGhlIGBCb3VuZGAgd2lsbCBhbHdheXMgaW5jbHVkZSB0aGUga2V5IG9mIHRoZSBkb2N1bWVudFxuICogYW5kIHNvIG9ubHkgdGhlIHByb3ZpZGVkIGRvY3VtZW50IHdpbGwgY29tcGFyZSBlcXVhbCB0byB0aGUgcmV0dXJuZWRcbiAqIHBvc2l0aW9uLlxuICpcbiAqIFdpbGwgdGhyb3cgaWYgdGhlIGRvY3VtZW50IGRvZXMgbm90IGNvbnRhaW4gYWxsIGZpZWxkcyBvZiB0aGUgb3JkZXIgYnlcbiAqIG9mIHRoZSBxdWVyeSBvciBpZiBhbnkgb2YgdGhlIGZpZWxkcyBpbiB0aGUgb3JkZXIgYnkgYXJlIGFuIHVuY29tbWl0dGVkXG4gKiBzZXJ2ZXIgdGltZXN0YW1wLlxuICovIChlLl9xdWVyeSwgdGhpcy5fZmllbGQsIHRoaXMuX2RpcmVjdGlvbik7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnkoZS5maXJlc3RvcmUsIGUuY29udmVydGVyLCBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlXaXRoQWRkZWRPcmRlckJ5KGUsIHQpIHtcbiAgICAgICAgICAgIC8vIFRPRE8oZGltb25kKTogdmFsaWRhdGUgdGhhdCBvcmRlckJ5IGRvZXMgbm90IGxpc3QgdGhlIHNhbWUga2V5IHR3aWNlLlxuICAgICAgICAgICAgY29uc3QgbiA9IGUuZXhwbGljaXRPcmRlckJ5LmNvbmNhdChbIHQgXSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9RdWVyeUltcGwoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgbiwgZS5maWx0ZXJzLnNsaWNlKCksIGUubGltaXQsIGUubGltaXRUeXBlLCBlLnN0YXJ0QXQsIGUuZW5kQXQpO1xuICAgICAgICB9KGUuX3F1ZXJ5LCB0KSk7XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYSB7QGxpbmsgUXVlcnlPcmRlckJ5Q29uc3RyYWludH0gdGhhdCBzb3J0cyB0aGUgcXVlcnkgcmVzdWx0IGJ5IHRoZVxuICogc3BlY2lmaWVkIGZpZWxkLCBvcHRpb25hbGx5IGluIGRlc2NlbmRpbmcgb3JkZXIgaW5zdGVhZCBvZiBhc2NlbmRpbmcuXG4gKlxuICogTm90ZTogRG9jdW1lbnRzIHRoYXQgZG8gbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCBmaWVsZCB3aWxsIG5vdCBiZSBwcmVzZW50XG4gKiBpbiB0aGUgcXVlcnkgcmVzdWx0LlxuICpcbiAqIEBwYXJhbSBmaWVsZFBhdGggLSBUaGUgZmllbGQgdG8gc29ydCBieS5cbiAqIEBwYXJhbSBkaXJlY3Rpb25TdHIgLSBPcHRpb25hbCBkaXJlY3Rpb24gdG8gc29ydCBieSAoJ2FzYycgb3IgJ2Rlc2MnKS4gSWZcbiAqIG5vdCBzcGVjaWZpZWQsIG9yZGVyIHdpbGwgYmUgYXNjZW5kaW5nLlxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQge0BsaW5rIFF1ZXJ5T3JkZXJCeUNvbnN0cmFpbnR9LlxuICovIGZ1bmN0aW9uIG9yZGVyQnkoZSwgdCA9IFwiYXNjXCIpIHtcbiAgICBjb25zdCBuID0gdCwgciA9IF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQoXCJvcmRlckJ5XCIsIGUpO1xuICAgIHJldHVybiBRdWVyeU9yZGVyQnlDb25zdHJhaW50Ll9jcmVhdGUociwgbik7XG59XG5cbi8qKlxuICogQSBgUXVlcnlMaW1pdENvbnN0cmFpbnRgIGlzIHVzZWQgdG8gbGltaXQgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgcmV0dXJuZWQgYnlcbiAqIGEgRmlyZXN0b3JlIHF1ZXJ5LlxuICogYFF1ZXJ5TGltaXRDb25zdHJhaW50YHMgYXJlIGNyZWF0ZWQgYnkgaW52b2tpbmcge0BsaW5rIGxpbWl0fSBvclxuICoge0BsaW5rIGxpbWl0VG9MYXN0fSBhbmQgY2FuIHRoZW4gYmUgcGFzc2VkIHRvIHtAbGluayAocXVlcnk6MSl9IHRvIGNyZWF0ZSBhIG5ld1xuICogcXVlcnkgaW5zdGFuY2UgdGhhdCBhbHNvIGNvbnRhaW5zIHRoaXMgYFF1ZXJ5TGltaXRDb25zdHJhaW50YC5cbiAqLyBjbGFzcyBRdWVyeUxpbWl0Q29uc3RyYWludCBleHRlbmRzIFF1ZXJ5Q29uc3RyYWludCB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgcXVlcnkgY29uc3RyYWludCAqL1xuICAgIGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy50eXBlID0gZSwgdGhpcy5fbGltaXQgPSB0LCB0aGlzLl9saW1pdFR5cGUgPSBuO1xuICAgIH1cbiAgICBzdGF0aWMgX2NyZWF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlMaW1pdENvbnN0cmFpbnQoZSwgdCwgbik7XG4gICAgfVxuICAgIF9hcHBseShlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnkoZS5maXJlc3RvcmUsIGUuY29udmVydGVyLCBfX1BSSVZBVEVfcXVlcnlXaXRoTGltaXQoZS5fcXVlcnksIHRoaXMuX2xpbWl0LCB0aGlzLl9saW1pdFR5cGUpKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIHtAbGluayBRdWVyeUxpbWl0Q29uc3RyYWludH0gdGhhdCBvbmx5IHJldHVybnMgdGhlIGZpcnN0IG1hdGNoaW5nXG4gKiBkb2N1bWVudHMuXG4gKlxuICogQHBhcmFtIGxpbWl0IC0gVGhlIG1heGltdW0gbnVtYmVyIG9mIGl0ZW1zIHRvIHJldHVybi5cbiAqIEByZXR1cm5zIFRoZSBjcmVhdGVkIHtAbGluayBRdWVyeUxpbWl0Q29uc3RyYWludH0uXG4gKi8gZnVuY3Rpb24gbGltaXQoZSkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVQb3NpdGl2ZU51bWJlcihcImxpbWl0XCIsIGUpLCBRdWVyeUxpbWl0Q29uc3RyYWludC5fY3JlYXRlKFwibGltaXRcIiwgZSwgXCJGXCIgLyogTGltaXRUeXBlLkZpcnN0ICovKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEge0BsaW5rIFF1ZXJ5TGltaXRDb25zdHJhaW50fSB0aGF0IG9ubHkgcmV0dXJucyB0aGUgbGFzdCBtYXRjaGluZ1xuICogZG9jdW1lbnRzLlxuICpcbiAqIFlvdSBtdXN0IHNwZWNpZnkgYXQgbGVhc3Qgb25lIGBvcmRlckJ5YCBjbGF1c2UgZm9yIGBsaW1pdFRvTGFzdGAgcXVlcmllcyxcbiAqIG90aGVyd2lzZSBhbiBleGNlcHRpb24gd2lsbCBiZSB0aHJvd24gZHVyaW5nIGV4ZWN1dGlvbi5cbiAqXG4gKiBAcGFyYW0gbGltaXQgLSBUaGUgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMgdG8gcmV0dXJuLlxuICogQHJldHVybnMgVGhlIGNyZWF0ZWQge0BsaW5rIFF1ZXJ5TGltaXRDb25zdHJhaW50fS5cbiAqLyBmdW5jdGlvbiBsaW1pdFRvTGFzdChlKSB7XG4gICAgcmV0dXJuIF9fUFJJVkFURV92YWxpZGF0ZVBvc2l0aXZlTnVtYmVyKFwibGltaXRUb0xhc3RcIiwgZSksIFF1ZXJ5TGltaXRDb25zdHJhaW50Ll9jcmVhdGUoXCJsaW1pdFRvTGFzdFwiLCBlLCBcIkxcIiAvKiBMaW1pdFR5cGUuTGFzdCAqLyk7XG59XG5cbi8qKlxuICogQSBgUXVlcnlTdGFydEF0Q29uc3RyYWludGAgaXMgdXNlZCB0byBleGNsdWRlIGRvY3VtZW50cyBmcm9tIHRoZSBzdGFydCBvZiBhXG4gKiByZXN1bHQgc2V0IHJldHVybmVkIGJ5IGEgRmlyZXN0b3JlIHF1ZXJ5LlxuICogYFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnRgcyBhcmUgY3JlYXRlZCBieSBpbnZva2luZyB7QGxpbmsgKHN0YXJ0QXQ6MSl9IG9yXG4gKiB7QGxpbmsgKHN0YXJ0QWZ0ZXI6MSl9IGFuZCBjYW4gdGhlbiBiZSBwYXNzZWQgdG8ge0BsaW5rIChxdWVyeToxKX0gdG8gY3JlYXRlIGFcbiAqIG5ldyBxdWVyeSBpbnN0YW5jZSB0aGF0IGFsc28gY29udGFpbnMgdGhpcyBgUXVlcnlTdGFydEF0Q29uc3RyYWludGAuXG4gKi8gY2xhc3MgUXVlcnlTdGFydEF0Q29uc3RyYWludCBleHRlbmRzIFF1ZXJ5Q29uc3RyYWludCB7XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIFRoZSB0eXBlIG9mIHRoaXMgcXVlcnkgY29uc3RyYWludCAqL1xuICAgIGUsIHQsIG4pIHtcbiAgICAgICAgc3VwZXIoKSwgdGhpcy50eXBlID0gZSwgdGhpcy5fZG9jT3JGaWVsZHMgPSB0LCB0aGlzLl9pbmNsdXNpdmUgPSBuO1xuICAgIH1cbiAgICBzdGF0aWMgX2NyZWF0ZShlLCB0LCBuKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlTdGFydEF0Q29uc3RyYWludChlLCB0LCBuKTtcbiAgICB9XG4gICAgX2FwcGx5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9uZXdRdWVyeUJvdW5kRnJvbURvY09yRmllbGRzKGUsIHRoaXMudHlwZSwgdGhpcy5fZG9jT3JGaWVsZHMsIHRoaXMuX2luY2x1c2l2ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnkoZS5maXJlc3RvcmUsIGUuY29udmVydGVyLCBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlXaXRoU3RhcnRBdChlLCB0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9RdWVyeUltcGwoZS5wYXRoLCBlLmNvbGxlY3Rpb25Hcm91cCwgZS5leHBsaWNpdE9yZGVyQnkuc2xpY2UoKSwgZS5maWx0ZXJzLnNsaWNlKCksIGUubGltaXQsIGUubGltaXRUeXBlLCB0LCBlLmVuZEF0KTtcbiAgICAgICAgfShlLl9xdWVyeSwgdCkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc3RhcnRBdCguLi5lKSB7XG4gICAgcmV0dXJuIFF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQuX2NyZWF0ZShcInN0YXJ0QXRcIiwgZSwgXG4gICAgLyppbmNsdXNpdmU9Ki8gITApO1xufVxuXG5mdW5jdGlvbiBzdGFydEFmdGVyKC4uLmUpIHtcbiAgICByZXR1cm4gUXVlcnlTdGFydEF0Q29uc3RyYWludC5fY3JlYXRlKFwic3RhcnRBZnRlclwiLCBlLCBcbiAgICAvKmluY2x1c2l2ZT0qLyAhMSk7XG59XG5cbi8qKlxuICogQSBgUXVlcnlFbmRBdENvbnN0cmFpbnRgIGlzIHVzZWQgdG8gZXhjbHVkZSBkb2N1bWVudHMgZnJvbSB0aGUgZW5kIG9mIGFcbiAqIHJlc3VsdCBzZXQgcmV0dXJuZWQgYnkgYSBGaXJlc3RvcmUgcXVlcnkuXG4gKiBgUXVlcnlFbmRBdENvbnN0cmFpbnRgcyBhcmUgY3JlYXRlZCBieSBpbnZva2luZyB7QGxpbmsgKGVuZEF0OjEpfSBvclxuICoge0BsaW5rIChlbmRCZWZvcmU6MSl9IGFuZCBjYW4gdGhlbiBiZSBwYXNzZWQgdG8ge0BsaW5rIChxdWVyeToxKX0gdG8gY3JlYXRlIGEgbmV3XG4gKiBxdWVyeSBpbnN0YW5jZSB0aGF0IGFsc28gY29udGFpbnMgdGhpcyBgUXVlcnlFbmRBdENvbnN0cmFpbnRgLlxuICovIGNsYXNzIFF1ZXJ5RW5kQXRDb25zdHJhaW50IGV4dGVuZHMgUXVlcnlDb25zdHJhaW50IHtcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKiogVGhlIHR5cGUgb2YgdGhpcyBxdWVyeSBjb25zdHJhaW50ICovXG4gICAgZSwgdCwgbikge1xuICAgICAgICBzdXBlcigpLCB0aGlzLnR5cGUgPSBlLCB0aGlzLl9kb2NPckZpZWxkcyA9IHQsIHRoaXMuX2luY2x1c2l2ZSA9IG47XG4gICAgfVxuICAgIHN0YXRpYyBfY3JlYXRlKGUsIHQsIG4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeUVuZEF0Q29uc3RyYWludChlLCB0LCBuKTtcbiAgICB9XG4gICAgX2FwcGx5KGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV9uZXdRdWVyeUJvdW5kRnJvbURvY09yRmllbGRzKGUsIHRoaXMudHlwZSwgdGhpcy5fZG9jT3JGaWVsZHMsIHRoaXMuX2luY2x1c2l2ZSk7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnkoZS5maXJlc3RvcmUsIGUuY29udmVydGVyLCBmdW5jdGlvbiBfX1BSSVZBVEVfcXVlcnlXaXRoRW5kQXQoZSwgdCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUXVlcnlJbXBsKGUucGF0aCwgZS5jb2xsZWN0aW9uR3JvdXAsIGUuZXhwbGljaXRPcmRlckJ5LnNsaWNlKCksIGUuZmlsdGVycy5zbGljZSgpLCBlLmxpbWl0LCBlLmxpbWl0VHlwZSwgZS5zdGFydEF0LCB0KTtcbiAgICAgICAgfShlLl9xdWVyeSwgdCkpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZW5kQmVmb3JlKC4uLmUpIHtcbiAgICByZXR1cm4gUXVlcnlFbmRBdENvbnN0cmFpbnQuX2NyZWF0ZShcImVuZEJlZm9yZVwiLCBlLCBcbiAgICAvKmluY2x1c2l2ZT0qLyAhMSk7XG59XG5cbmZ1bmN0aW9uIGVuZEF0KC4uLmUpIHtcbiAgICByZXR1cm4gUXVlcnlFbmRBdENvbnN0cmFpbnQuX2NyZWF0ZShcImVuZEF0XCIsIGUsIFxuICAgIC8qaW5jbHVzaXZlPSovICEwKTtcbn1cblxuLyoqIEhlbHBlciBmdW5jdGlvbiB0byBjcmVhdGUgYSBib3VuZCBmcm9tIGEgZG9jdW1lbnQgb3IgZmllbGRzICovIGZ1bmN0aW9uIF9fUFJJVkFURV9uZXdRdWVyeUJvdW5kRnJvbURvY09yRmllbGRzKGUsIHQsIG4sIHIpIHtcbiAgICBpZiAoblswXSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKG5bMF0pLCBuWzBdIGluc3RhbmNlb2YgRG9jdW1lbnRTbmFwc2hvdCQxKSByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX25ld1F1ZXJ5Qm91bmRGcm9tRG9jdW1lbnQoZSwgdCwgbiwgciwgaSkge1xuICAgICAgICBpZiAoIXIpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLk5PVF9GT1VORCwgYENhbid0IHVzZSBhIERvY3VtZW50U25hcHNob3QgdGhhdCBkb2Vzbid0IGV4aXN0IGZvciAke259KCkuYCk7XG4gICAgICAgIGNvbnN0IHMgPSBbXTtcbiAgICAgICAgLy8gQmVjYXVzZSBwZW9wbGUgZXhwZWN0IHRvIGNvbnRpbnVlL2VuZCBhIHF1ZXJ5IGF0IHRoZSBleGFjdCBkb2N1bWVudFxuICAgICAgICAvLyBwcm92aWRlZCwgd2UgbmVlZCB0byB1c2UgdGhlIGltcGxpY2l0IHNvcnQgb3JkZXIgcmF0aGVyIHRoYW4gdGhlIGV4cGxpY2l0XG4gICAgICAgIC8vIHNvcnQgb3JkZXIsIGJlY2F1c2UgaXQncyBndWFyYW50ZWVkIHRvIGNvbnRhaW4gdGhlIGRvY3VtZW50IGtleS4gVGhhdCB3YXlcbiAgICAgICAgLy8gdGhlIHBvc2l0aW9uIGJlY29tZXMgdW5hbWJpZ3VvdXMgYW5kIHRoZSBxdWVyeSBjb250aW51ZXMvZW5kcyBleGFjdGx5IGF0XG4gICAgICAgIC8vIHRoZSBwcm92aWRlZCBkb2N1bWVudC4gV2l0aG91dCB0aGUga2V5IChieSB1c2luZyB0aGUgZXhwbGljaXQgc29ydFxuICAgICAgICAvLyBvcmRlcnMpLCBtdWx0aXBsZSBkb2N1bWVudHMgY291bGQgbWF0Y2ggdGhlIHBvc2l0aW9uLCB5aWVsZGluZyBkdXBsaWNhdGVcbiAgICAgICAgLy8gcmVzdWx0cy5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG4gb2YgX19QUklWQVRFX3F1ZXJ5Tm9ybWFsaXplZE9yZGVyQnkoZSkpIGlmIChuLmZpZWxkLmlzS2V5RmllbGQoKSkgcy5wdXNoKF9fUFJJVkFURV9yZWZWYWx1ZSh0LCByLmtleSkpOyBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGUgPSByLmRhdGEuZmllbGQobi5maWVsZCk7XG4gICAgICAgICAgICBpZiAoX19QUklWQVRFX2lzU2VydmVyVGltZXN0YW1wKGUpKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCAnSW52YWxpZCBxdWVyeS4gWW91IGFyZSB0cnlpbmcgdG8gc3RhcnQgb3IgZW5kIGEgcXVlcnkgdXNpbmcgYSBkb2N1bWVudCBmb3Igd2hpY2ggdGhlIGZpZWxkIFwiJyArIG4uZmllbGQgKyAnXCIgaXMgYW4gdW5jb21taXR0ZWQgc2VydmVyIHRpbWVzdGFtcC4gKFNpbmNlIHRoZSB2YWx1ZSBvZiB0aGlzIGZpZWxkIGlzIHVua25vd24sIHlvdSBjYW5ub3Qgc3RhcnQvZW5kIGEgcXVlcnkgd2l0aCBpdC4pJyk7XG4gICAgICAgICAgICBpZiAobnVsbCA9PT0gZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuLmZpZWxkLmNhbm9uaWNhbFN0cmluZygpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBZb3UgYXJlIHRyeWluZyB0byBzdGFydCBvciBlbmQgYSBxdWVyeSB1c2luZyBhIGRvY3VtZW50IGZvciB3aGljaCB0aGUgZmllbGQgJyR7ZX0nICh1c2VkIGFzIHRoZSBvcmRlckJ5KSBkb2VzIG5vdCBleGlzdC5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMucHVzaChlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEJvdW5kKHMsIGkpO1xuICAgIH1cbiAgICAvKipcbiAqIENvbnZlcnRzIGEgbGlzdCBvZiBmaWVsZCB2YWx1ZXMgdG8gYSBgQm91bmRgIGZvciB0aGUgZ2l2ZW4gcXVlcnkuXG4gKi8gKGUuX3F1ZXJ5LCBlLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCwgdCwgblswXS5fZG9jdW1lbnQsIHIpO1xuICAgIHtcbiAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlcihlLmZpcmVzdG9yZSk7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfbmV3UXVlcnlCb3VuZEZyb21GaWVsZHMoZSwgdCwgbiwgciwgaSwgcykge1xuICAgICAgICAgICAgLy8gVXNlIGV4cGxpY2l0IG9yZGVyIGJ5J3MgYmVjYXVzZSBpdCBoYXMgdG8gbWF0Y2ggdGhlIHF1ZXJ5IHRoZSB1c2VyIG1hZGVcbiAgICAgICAgICAgIGNvbnN0IG8gPSBlLmV4cGxpY2l0T3JkZXJCeTtcbiAgICAgICAgICAgIGlmIChpLmxlbmd0aCA+IG8ubGVuZ3RoKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgVG9vIG1hbnkgYXJndW1lbnRzIHByb3ZpZGVkIHRvICR7cn0oKS4gVGhlIG51bWJlciBvZiBhcmd1bWVudHMgbXVzdCBiZSBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIG51bWJlciBvZiBvcmRlckJ5KCkgY2xhdXNlc2ApO1xuICAgICAgICAgICAgY29uc3QgXyA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgcyA9IDA7IHMgPCBpLmxlbmd0aDsgcysrKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYSA9IGlbc107XG4gICAgICAgICAgICAgICAgaWYgKG9bc10uZmllbGQuaXNLZXlGaWVsZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiICE9IHR5cGVvZiBhKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBgSW52YWxpZCBxdWVyeS4gRXhwZWN0ZWQgYSBzdHJpbmcgZm9yIGRvY3VtZW50IElEIGluICR7cn0oKSwgYnV0IGdvdCBhICR7dHlwZW9mIGF9YCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghX19QUklWQVRFX2lzQ29sbGVjdGlvbkdyb3VwUXVlcnkoZSkgJiYgLTEgIT09IGEuaW5kZXhPZihcIi9cIikpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBhbmQgb3JkZXJpbmcgYnkgZG9jdW1lbnRJZCgpLCB0aGUgdmFsdWUgcGFzc2VkIHRvICR7cn0oKSBtdXN0IGJlIGEgcGxhaW4gZG9jdW1lbnQgSUQsIGJ1dCAnJHthfScgY29udGFpbnMgYSBzbGFzaC5gKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbiA9IGUucGF0aC5jaGlsZChSZXNvdXJjZVBhdGguZnJvbVN0cmluZyhhKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghRG9jdW1lbnRLZXkuaXNEb2N1bWVudEtleShuKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgYSBjb2xsZWN0aW9uIGdyb3VwIGFuZCBvcmRlcmluZyBieSBkb2N1bWVudElkKCksIHRoZSB2YWx1ZSBwYXNzZWQgdG8gJHtyfSgpIG11c3QgcmVzdWx0IGluIGEgdmFsaWQgZG9jdW1lbnQgcGF0aCwgYnV0ICcke259JyBpcyBub3QgYmVjYXVzZSBpdCBjb250YWlucyBhbiBvZGQgbnVtYmVyIG9mIHNlZ21lbnRzLmApO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBpID0gbmV3IERvY3VtZW50S2V5KG4pO1xuICAgICAgICAgICAgICAgICAgICBfLnB1c2goX19QUklWQVRFX3JlZlZhbHVlKHQsIGkpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlID0gX19QUklWQVRFX3BhcnNlUXVlcnlWYWx1ZShuLCByLCBhKTtcbiAgICAgICAgICAgICAgICAgICAgXy5wdXNoKGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBuZXcgQm91bmQoXywgcyk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gKiBQYXJzZXMgdGhlIGdpdmVuIGBkb2N1bWVudElkVmFsdWVgIGludG8gYSBgUmVmZXJlbmNlVmFsdWVgLCB0aHJvd2luZ1xuICogYXBwcm9wcmlhdGUgZXJyb3JzIGlmIHRoZSB2YWx1ZSBpcyBhbnl0aGluZyBvdGhlciB0aGFuIGEgYERvY3VtZW50UmVmZXJlbmNlYFxuICogb3IgYHN0cmluZ2AsIG9yIGlmIHRoZSBzdHJpbmcgaXMgbWFsZm9ybWVkLlxuICovIChlLl9xdWVyeSwgZS5maXJlc3RvcmUuX2RhdGFiYXNlSWQsIGksIHQsIG4sIHIpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3BhcnNlRG9jdW1lbnRJZFZhbHVlKGUsIHQsIG4pIHtcbiAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YgKG4gPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZShuKSkpIHtcbiAgICAgICAgaWYgKFwiXCIgPT09IG4pIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiSW52YWxpZCBxdWVyeS4gV2hlbiBxdWVyeWluZyB3aXRoIGRvY3VtZW50SWQoKSwgeW91IG11c3QgcHJvdmlkZSBhIHZhbGlkIGRvY3VtZW50IElELCBidXQgaXQgd2FzIGFuIGVtcHR5IHN0cmluZy5cIik7XG4gICAgICAgIGlmICghX19QUklWQVRFX2lzQ29sbGVjdGlvbkdyb3VwUXVlcnkodCkgJiYgLTEgIT09IG4uaW5kZXhPZihcIi9cIikpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBieSBkb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSBwbGFpbiBkb2N1bWVudCBJRCwgYnV0ICcke259JyBjb250YWlucyBhICcvJyBjaGFyYWN0ZXIuYCk7XG4gICAgICAgIGNvbnN0IHIgPSB0LnBhdGguY2hpbGQoUmVzb3VyY2VQYXRoLmZyb21TdHJpbmcobikpO1xuICAgICAgICBpZiAoIURvY3VtZW50S2V5LmlzRG9jdW1lbnRLZXkocikpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIHF1ZXJ5LiBXaGVuIHF1ZXJ5aW5nIGEgY29sbGVjdGlvbiBncm91cCBieSBkb2N1bWVudElkKCksIHRoZSB2YWx1ZSBwcm92aWRlZCBtdXN0IHJlc3VsdCBpbiBhIHZhbGlkIGRvY3VtZW50IHBhdGgsIGJ1dCAnJHtyfScgaXMgbm90IGJlY2F1c2UgaXQgaGFzIGFuIG9kZCBudW1iZXIgb2Ygc2VnbWVudHMgKCR7ci5sZW5ndGh9KS5gKTtcbiAgICAgICAgcmV0dXJuIF9fUFJJVkFURV9yZWZWYWx1ZShlLCBuZXcgRG9jdW1lbnRLZXkocikpO1xuICAgIH1cbiAgICBpZiAobiBpbnN0YW5jZW9mIERvY3VtZW50UmVmZXJlbmNlKSByZXR1cm4gX19QUklWQVRFX3JlZlZhbHVlKGUsIG4uX2tleSk7XG4gICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFdoZW4gcXVlcnlpbmcgd2l0aCBkb2N1bWVudElkKCksIHlvdSBtdXN0IHByb3ZpZGUgYSB2YWxpZCBzdHJpbmcgb3IgYSBEb2N1bWVudFJlZmVyZW5jZSwgYnV0IGl0IHdhczogJHtfX1BSSVZBVEVfdmFsdWVEZXNjcmlwdGlvbihuKX0uYCk7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoYXQgdGhlIHZhbHVlIHBhc3NlZCBpbnRvIGEgZGlzanVuY3RpdmUgZmlsdGVyIHNhdGlzZmllcyBhbGxcbiAqIGFycmF5IHJlcXVpcmVtZW50cy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVEaXNqdW5jdGl2ZUZpbHRlckVsZW1lbnRzKGUsIHQpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZSkgfHwgMCA9PT0gZS5sZW5ndGgpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIGBJbnZhbGlkIFF1ZXJ5LiBBIG5vbi1lbXB0eSBhcnJheSBpcyByZXF1aXJlZCBmb3IgJyR7dC50b1N0cmluZygpfScgZmlsdGVycy5gKTtcbn1cblxuLyoqXG4gKiBHaXZlbiBhbiBvcGVyYXRvciwgcmV0dXJucyB0aGUgc2V0IG9mIG9wZXJhdG9ycyB0aGF0IGNhbm5vdCBiZSB1c2VkIHdpdGggaXQuXG4gKlxuICogVGhpcyBpcyBub3QgYSBjb21wcmVoZW5zaXZlIGNoZWNrLCBhbmQgdGhpcyBmdW5jdGlvbiBzaG91bGQgYmUgcmVtb3ZlZCBpbiB0aGVcbiAqIGxvbmcgdGVybS4gVmFsaWRhdGlvbnMgc2hvdWxkIG9jY3VyIGluIHRoZSBGaXJlc3RvcmUgYmFja2VuZC5cbiAqXG4gKiBPcGVyYXRvcnMgaW4gYSBxdWVyeSBtdXN0IGFkaGVyZSB0byB0aGUgZm9sbG93aW5nIHNldCBvZiBydWxlczpcbiAqIDEuIE9ubHkgb25lIGluZXF1YWxpdHkgcGVyIHF1ZXJ5LlxuICogMi4gYE5PVF9JTmAgY2Fubm90IGJlIHVzZWQgd2l0aCBhcnJheSwgZGlzanVuY3RpdmUsIG9yIGBOT1RfRVFVQUxgIG9wZXJhdG9ycy5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVOZXdGaWVsZEZpbHRlcihlLCB0KSB7XG4gICAgY29uc3QgbiA9IGZ1bmN0aW9uIF9fUFJJVkFURV9maW5kT3BJbnNpZGVGaWx0ZXJzKGUsIHQpIHtcbiAgICAgICAgZm9yIChjb25zdCBuIG9mIGUpIGZvciAoY29uc3QgZSBvZiBuLmdldEZsYXR0ZW5lZEZpbHRlcnMoKSkgaWYgKHQuaW5kZXhPZihlLm9wKSA+PSAwKSByZXR1cm4gZS5vcDtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfShlLmZpbHRlcnMsIGZ1bmN0aW9uIF9fUFJJVkFURV9jb25mbGljdGluZ09wcyhlKSB7XG4gICAgICAgIHN3aXRjaCAoZSkge1xuICAgICAgICAgIGNhc2UgXCIhPVwiIC8qIE9wZXJhdG9yLk5PVF9FUVVBTCAqLyA6XG4gICAgICAgICAgICByZXR1cm4gWyBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovICwgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gXTtcblxuICAgICAgICAgIGNhc2UgXCJhcnJheS1jb250YWlucy1hbnlcIiAvKiBPcGVyYXRvci5BUlJBWV9DT05UQUlOU19BTlkgKi8gOlxuICAgICAgICAgIGNhc2UgXCJpblwiIC8qIE9wZXJhdG9yLklOICovIDpcbiAgICAgICAgICAgIHJldHVybiBbIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIF07XG5cbiAgICAgICAgICBjYXNlIFwibm90LWluXCIgLyogT3BlcmF0b3IuTk9UX0lOICovIDpcbiAgICAgICAgICAgIHJldHVybiBbIFwiYXJyYXktY29udGFpbnMtYW55XCIgLyogT3BlcmF0b3IuQVJSQVlfQ09OVEFJTlNfQU5ZICovICwgXCJpblwiIC8qIE9wZXJhdG9yLklOICovICwgXCJub3QtaW5cIiAvKiBPcGVyYXRvci5OT1RfSU4gKi8gLCBcIiE9XCIgLyogT3BlcmF0b3IuTk9UX0VRVUFMICovIF07XG5cbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfSh0Lm9wKSk7XG4gICAgaWYgKG51bGwgIT09IG4pIFxuICAgIC8vIFNwZWNpYWwgY2FzZSB3aGVuIGl0J3MgYSBkdXBsaWNhdGUgb3AgdG8gZ2l2ZSBhIHNsaWdodGx5IGNsZWFyZXIgZXJyb3IgbWVzc2FnZS5cbiAgICB0aHJvdyBuID09PSB0Lm9wID8gbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlIG1vcmUgdGhhbiBvbmUgJyR7dC5vcC50b1N0cmluZygpfScgZmlsdGVyLmApIDogbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEludmFsaWQgcXVlcnkuIFlvdSBjYW5ub3QgdXNlICcke3Qub3AudG9TdHJpbmcoKX0nIGZpbHRlcnMgd2l0aCAnJHtuLnRvU3RyaW5nKCl9JyBmaWx0ZXJzLmApO1xufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVRdWVyeUZpbHRlckNvbnN0cmFpbnQoZSwgdCkge1xuICAgIGlmICghKHQgaW5zdGFuY2VvZiBRdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludCB8fCB0IGluc3RhbmNlb2YgUXVlcnlDb21wb3NpdGVGaWx0ZXJDb25zdHJhaW50KSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgYEZ1bmN0aW9uICR7ZX0oKSByZXF1aXJlcyBBcHBsaWFibGVDb25zdHJhaW50cyBjcmVhdGVkIHdpdGggYSBjYWxsIHRvICd3aGVyZSguLi4pJywgJ29yKC4uLiknLCBvciAnYW5kKC4uLiknLmApO1xufVxuXG5jbGFzcyBBYnN0cmFjdFVzZXJEYXRhV3JpdGVyIHtcbiAgICBjb252ZXJ0VmFsdWUoZSwgdCA9IFwibm9uZVwiKSB7XG4gICAgICAgIHN3aXRjaCAoX19QUklWQVRFX3R5cGVPcmRlcihlKSkge1xuICAgICAgICAgIGNhc2UgMCAvKiBUeXBlT3JkZXIuTnVsbFZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgICAgY2FzZSAxIC8qIFR5cGVPcmRlci5Cb29sZWFuVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIGUuYm9vbGVhblZhbHVlO1xuXG4gICAgICAgICAgY2FzZSAyIC8qIFR5cGVPcmRlci5OdW1iZXJWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmludGVnZXJWYWx1ZSB8fCBlLmRvdWJsZVZhbHVlKTtcblxuICAgICAgICAgIGNhc2UgMyAvKiBUeXBlT3JkZXIuVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydFRpbWVzdGFtcChlLnRpbWVzdGFtcFZhbHVlKTtcblxuICAgICAgICAgIGNhc2UgNCAvKiBUeXBlT3JkZXIuU2VydmVyVGltZXN0YW1wVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydFNlcnZlclRpbWVzdGFtcChlLCB0KTtcblxuICAgICAgICAgIGNhc2UgNSAvKiBUeXBlT3JkZXIuU3RyaW5nVmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIGUuc3RyaW5nVmFsdWU7XG5cbiAgICAgICAgICBjYXNlIDYgLyogVHlwZU9yZGVyLkJsb2JWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJ0Qnl0ZXMoX19QUklWQVRFX25vcm1hbGl6ZUJ5dGVTdHJpbmcoZS5ieXRlc1ZhbHVlKSk7XG5cbiAgICAgICAgICBjYXNlIDcgLyogVHlwZU9yZGVyLlJlZlZhbHVlICovIDpcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnZlcnRSZWZlcmVuY2UoZS5yZWZlcmVuY2VWYWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIDggLyogVHlwZU9yZGVyLkdlb1BvaW50VmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydEdlb1BvaW50KGUuZ2VvUG9pbnRWYWx1ZSk7XG5cbiAgICAgICAgICBjYXNlIDkgLyogVHlwZU9yZGVyLkFycmF5VmFsdWUgKi8gOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydEFycmF5KGUuYXJyYXlWYWx1ZSwgdCk7XG5cbiAgICAgICAgICBjYXNlIDEwIC8qIFR5cGVPcmRlci5PYmplY3RWYWx1ZSAqLyA6XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb252ZXJ0T2JqZWN0KGUubWFwVmFsdWUsIHQpO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IGZhaWwoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb252ZXJ0T2JqZWN0KGUsIHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydE9iamVjdE1hcChlLmZpZWxkcywgdCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqLyAgICBjb252ZXJ0T2JqZWN0TWFwKGUsIHQgPSBcIm5vbmVcIikge1xuICAgICAgICBjb25zdCBuID0ge307XG4gICAgICAgIHJldHVybiBmb3JFYWNoKGUsICgoZSwgcikgPT4ge1xuICAgICAgICAgICAgbltlXSA9IHRoaXMuY29udmVydFZhbHVlKHIsIHQpO1xuICAgICAgICB9KSksIG47XG4gICAgfVxuICAgIGNvbnZlcnRHZW9Qb2ludChlKSB7XG4gICAgICAgIHJldHVybiBuZXcgR2VvUG9pbnQoX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmxhdGl0dWRlKSwgX19QUklWQVRFX25vcm1hbGl6ZU51bWJlcihlLmxvbmdpdHVkZSkpO1xuICAgIH1cbiAgICBjb252ZXJ0QXJyYXkoZSwgdCkge1xuICAgICAgICByZXR1cm4gKGUudmFsdWVzIHx8IFtdKS5tYXAoKGUgPT4gdGhpcy5jb252ZXJ0VmFsdWUoZSwgdCkpKTtcbiAgICB9XG4gICAgY29udmVydFNlcnZlclRpbWVzdGFtcChlLCB0KSB7XG4gICAgICAgIHN3aXRjaCAodCkge1xuICAgICAgICAgIGNhc2UgXCJwcmV2aW91c1wiOlxuICAgICAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9nZXRQcmV2aW91c1ZhbHVlKGUpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGwgPT0gbiA/IG51bGwgOiB0aGlzLmNvbnZlcnRWYWx1ZShuLCB0KTtcblxuICAgICAgICAgIGNhc2UgXCJlc3RpbWF0ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29udmVydFRpbWVzdGFtcChfX1BSSVZBVEVfZ2V0TG9jYWxXcml0ZVRpbWUoZSkpO1xuXG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnZlcnRUaW1lc3RhbXAoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX25vcm1hbGl6ZVRpbWVzdGFtcChlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBUaW1lc3RhbXAodC5zZWNvbmRzLCB0Lm5hbm9zKTtcbiAgICB9XG4gICAgY29udmVydERvY3VtZW50S2V5KGUsIHQpIHtcbiAgICAgICAgY29uc3QgbiA9IFJlc291cmNlUGF0aC5mcm9tU3RyaW5nKGUpO1xuICAgICAgICBfX1BSSVZBVEVfaGFyZEFzc2VydChfX1BSSVZBVEVfaXNWYWxpZFJlc291cmNlTmFtZShuKSk7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgRGF0YWJhc2VJZChuLmdldCgxKSwgbi5nZXQoMykpLCBpID0gbmV3IERvY3VtZW50S2V5KG4ucG9wRmlyc3QoNSkpO1xuICAgICAgICByZXR1cm4gci5pc0VxdWFsKHQpIHx8IFxuICAgICAgICAvLyBUT0RPKGIvNjQxMzAyMDIpOiBTb21laG93IHN1cHBvcnQgZm9yZWlnbiByZWZlcmVuY2VzLlxuICAgICAgICBfX1BSSVZBVEVfbG9nRXJyb3IoYERvY3VtZW50ICR7aX0gY29udGFpbnMgYSBkb2N1bWVudCByZWZlcmVuY2Ugd2l0aGluIGEgZGlmZmVyZW50IGRhdGFiYXNlICgke3IucHJvamVjdElkfS8ke3IuZGF0YWJhc2V9KSB3aGljaCBpcyBub3Qgc3VwcG9ydGVkLiBJdCB3aWxsIGJlIHRyZWF0ZWQgYXMgYSByZWZlcmVuY2UgaW4gdGhlIGN1cnJlbnQgZGF0YWJhc2UgKCR7dC5wcm9qZWN0SWR9LyR7dC5kYXRhYmFzZX0pIGluc3RlYWQuYCksIFxuICAgICAgICBpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQ29udmVydHMgY3VzdG9tIG1vZGVsIG9iamVjdCBvZiB0eXBlIFQgaW50byBgRG9jdW1lbnREYXRhYCBieSBhcHBseWluZyB0aGVcbiAqIGNvbnZlcnRlciBpZiBpdCBleGlzdHMuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyB1c2VkIHdoZW4gY29udmVydGluZyB1c2VyIG9iamVjdHMgdG8gYERvY3VtZW50RGF0YWBcbiAqIGJlY2F1c2Ugd2Ugd2FudCB0byBwcm92aWRlIHRoZSB1c2VyIHdpdGggYSBtb3JlIHNwZWNpZmljIGVycm9yIG1lc3NhZ2UgaWZcbiAqIHRoZWlyIGBzZXQoKWAgb3IgZmFpbHMgZHVlIHRvIGludmFsaWQgZGF0YSBvcmlnaW5hdGluZyBmcm9tIGEgYHRvRmlyZXN0b3JlKClgXG4gKiBjYWxsLlxuICovIGZ1bmN0aW9uIF9fUFJJVkFURV9hcHBseUZpcmVzdG9yZURhdGFDb252ZXJ0ZXIoZSwgdCwgbikge1xuICAgIGxldCByO1xuICAgIC8vIENhc3QgdG8gYGFueWAgaW4gb3JkZXIgdG8gc2F0aXNmeSB0aGUgdW5pb24gdHlwZSBjb25zdHJhaW50IG9uXG4gICAgLy8gdG9GaXJlc3RvcmUoKS5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIHJldHVybiByID0gZSA/IG4gJiYgKG4ubWVyZ2UgfHwgbi5tZXJnZUZpZWxkcykgPyBlLnRvRmlyZXN0b3JlKHQsIG4pIDogZS50b0ZpcmVzdG9yZSh0KSA6IHQsIFxuICAgIHI7XG59XG5cbmNsYXNzIF9fUFJJVkFURV9MaXRlVXNlckRhdGFXcml0ZXIgZXh0ZW5kcyBBYnN0cmFjdFVzZXJEYXRhV3JpdGVyIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIHN1cGVyKCksIHRoaXMuZmlyZXN0b3JlID0gZTtcbiAgICB9XG4gICAgY29udmVydEJ5dGVzKGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBCeXRlcyhlKTtcbiAgICB9XG4gICAgY29udmVydFJlZmVyZW5jZShlKSB7XG4gICAgICAgIGNvbnN0IHQgPSB0aGlzLmNvbnZlcnREb2N1bWVudEtleShlLCB0aGlzLmZpcmVzdG9yZS5fZGF0YWJhc2VJZCk7XG4gICAgICAgIHJldHVybiBuZXcgRG9jdW1lbnRSZWZlcmVuY2UodGhpcy5maXJlc3RvcmUsIC8qIGNvbnZlcnRlcj0gKi8gbnVsbCwgdCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDcmVhdGUgYW4gQWdncmVnYXRlRmllbGQgb2JqZWN0IHRoYXQgY2FuIGJlIHVzZWQgdG8gY29tcHV0ZSB0aGUgc3VtIG9mXG4gKiBhIHNwZWNpZmllZCBmaWVsZCBvdmVyIGEgcmFuZ2Ugb2YgZG9jdW1lbnRzIGluIHRoZSByZXN1bHQgc2V0IG9mIGEgcXVlcnkuXG4gKiBAcGFyYW0gZmllbGQgU3BlY2lmaWVzIHRoZSBmaWVsZCB0byBzdW0gYWNyb3NzIHRoZSByZXN1bHQgc2V0LlxuICovIGZ1bmN0aW9uIHN1bShlKSB7XG4gICAgcmV0dXJuIG5ldyBBZ2dyZWdhdGVGaWVsZChcInN1bVwiLCBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEoXCJzdW1cIiwgZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBBZ2dyZWdhdGVGaWVsZCBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byBjb21wdXRlIHRoZSBhdmVyYWdlIG9mXG4gKiBhIHNwZWNpZmllZCBmaWVsZCBvdmVyIGEgcmFuZ2Ugb2YgZG9jdW1lbnRzIGluIHRoZSByZXN1bHQgc2V0IG9mIGEgcXVlcnkuXG4gKiBAcGFyYW0gZmllbGQgU3BlY2lmaWVzIHRoZSBmaWVsZCB0byBhdmVyYWdlIGFjcm9zcyB0aGUgcmVzdWx0IHNldC5cbiAqLyBmdW5jdGlvbiBhdmVyYWdlKGUpIHtcbiAgICByZXR1cm4gbmV3IEFnZ3JlZ2F0ZUZpZWxkKFwiYXZnXCIsIF9fUFJJVkFURV9maWVsZFBhdGhGcm9tQXJndW1lbnQkMShcImF2ZXJhZ2VcIiwgZSkpO1xufVxuXG4vKipcbiAqIENyZWF0ZSBhbiBBZ2dyZWdhdGVGaWVsZCBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byBjb21wdXRlIHRoZSBjb3VudCBvZlxuICogZG9jdW1lbnRzIGluIHRoZSByZXN1bHQgc2V0IG9mIGEgcXVlcnkuXG4gKi8gZnVuY3Rpb24gY291bnQoKSB7XG4gICAgcmV0dXJuIG5ldyBBZ2dyZWdhdGVGaWVsZChcImNvdW50XCIpO1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHR3byAnQWdncmVnYXRlRmllbGRgIGluc3RhbmNlcyBmb3IgZXF1YWxpdHkuXG4gKlxuICogQHBhcmFtIGxlZnQgQ29tcGFyZSB0aGlzIEFnZ3JlZ2F0ZUZpZWxkIHRvIHRoZSBgcmlnaHRgLlxuICogQHBhcmFtIHJpZ2h0IENvbXBhcmUgdGhpcyBBZ2dyZWdhdGVGaWVsZCB0byB0aGUgYGxlZnRgLlxuICovIGZ1bmN0aW9uIGFnZ3JlZ2F0ZUZpZWxkRXF1YWwoZSwgdCkge1xuICAgIHZhciBuLCByO1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgQWdncmVnYXRlRmllbGQgJiYgdCBpbnN0YW5jZW9mIEFnZ3JlZ2F0ZUZpZWxkICYmIGUuYWdncmVnYXRlVHlwZSA9PT0gdC5hZ2dyZWdhdGVUeXBlICYmIChudWxsID09PSAobiA9IGUuX2ludGVybmFsRmllbGRQYXRoKSB8fCB2b2lkIDAgPT09IG4gPyB2b2lkIDAgOiBuLmNhbm9uaWNhbFN0cmluZygpKSA9PT0gKG51bGwgPT09IChyID0gdC5faW50ZXJuYWxGaWVsZFBhdGgpIHx8IHZvaWQgMCA9PT0gciA/IHZvaWQgMCA6IHIuY2Fub25pY2FsU3RyaW5nKCkpO1xufVxuXG4vKipcbiAqIENvbXBhcmVzIHR3byBgQWdncmVnYXRlUXVlcnlTbmFwc2hvdGAgaW5zdGFuY2VzIGZvciBlcXVhbGl0eS5cbiAqXG4gKiBUd28gYEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RgIGluc3RhbmNlcyBhcmUgY29uc2lkZXJlZCBcImVxdWFsXCIgaWYgdGhleSBoYXZlXG4gKiB1bmRlcmx5aW5nIHF1ZXJpZXMgdGhhdCBjb21wYXJlIGVxdWFsLCBhbmQgdGhlIHNhbWUgZGF0YS5cbiAqXG4gKiBAcGFyYW0gbGVmdCAtIFRoZSBmaXJzdCBgQWdncmVnYXRlUXVlcnlTbmFwc2hvdGAgdG8gY29tcGFyZS5cbiAqIEBwYXJhbSByaWdodCAtIFRoZSBzZWNvbmQgYEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3RgIHRvIGNvbXBhcmUuXG4gKlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSBvYmplY3RzIGFyZSBcImVxdWFsXCIsIGFzIGRlZmluZWQgYWJvdmUsIG9yIGBmYWxzZWBcbiAqIG90aGVyd2lzZS5cbiAqLyBmdW5jdGlvbiBhZ2dyZWdhdGVRdWVyeVNuYXBzaG90RXF1YWwoZSwgdCkge1xuICAgIHJldHVybiBxdWVyeUVxdWFsKGUucXVlcnksIHQucXVlcnkpICYmIHV0aWwuZGVlcEVxdWFsKGUuZGF0YSgpLCB0LmRhdGEoKSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIE1ldGFkYXRhIGFib3V0IGEgc25hcHNob3QsIGRlc2NyaWJpbmcgdGhlIHN0YXRlIG9mIHRoZSBzbmFwc2hvdC5cbiAqLyBjbGFzcyBTbmFwc2hvdE1ldGFkYXRhIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgdGhpcy5oYXNQZW5kaW5nV3JpdGVzID0gZSwgdGhpcy5mcm9tQ2FjaGUgPSB0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhpcyBgU25hcHNob3RNZXRhZGF0YWAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBvdGhlciAtIFRoZSBgU25hcHNob3RNZXRhZGF0YWAgdG8gY29tcGFyZSBhZ2FpbnN0LlxuICAgICAqIEByZXR1cm5zIHRydWUgaWYgdGhpcyBgU25hcHNob3RNZXRhZGF0YWAgaXMgZXF1YWwgdG8gdGhlIHByb3ZpZGVkIG9uZS5cbiAgICAgKi8gICAgaXNFcXVhbChlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc1BlbmRpbmdXcml0ZXMgPT09IGUuaGFzUGVuZGluZ1dyaXRlcyAmJiB0aGlzLmZyb21DYWNoZSA9PT0gZS5mcm9tQ2FjaGU7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgYERvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91ciBGaXJlc3RvcmVcbiAqIGRhdGFiYXNlLiBUaGUgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0b1xuICogZ2V0IGEgc3BlY2lmaWMgZmllbGQuXG4gKlxuICogRm9yIGEgYERvY3VtZW50U25hcHNob3RgIHRoYXQgcG9pbnRzIHRvIGEgbm9uLWV4aXN0aW5nIGRvY3VtZW50LCBhbnkgZGF0YVxuICogYWNjZXNzIHdpbGwgcmV0dXJuICd1bmRlZmluZWQnLiBZb3UgY2FuIHVzZSB0aGUgYGV4aXN0cygpYCBtZXRob2QgdG9cbiAqIGV4cGxpY2l0bHkgdmVyaWZ5IGEgZG9jdW1lbnQncyBleGlzdGVuY2UuXG4gKi8gY2xhc3MgRG9jdW1lbnRTbmFwc2hvdCBleHRlbmRzIERvY3VtZW50U25hcHNob3QkMSB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgcHJvdGVjdGVkICovXG4gICAgY29uc3RydWN0b3IoZSwgdCwgbiwgciwgaSwgcykge1xuICAgICAgICBzdXBlcihlLCB0LCBuLCByLCBzKSwgdGhpcy5fZmlyZXN0b3JlID0gZSwgdGhpcy5fZmlyZXN0b3JlSW1wbCA9IGUsIHRoaXMubWV0YWRhdGEgPSBpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHdoZXRoZXIgb3Igbm90IHRoZSBkYXRhIGV4aXN0cy4gVHJ1ZSBpZiB0aGUgZG9jdW1lbnQgZXhpc3RzLlxuICAgICAqLyAgICBleGlzdHMoKSB7XG4gICAgICAgIHJldHVybiBzdXBlci5leGlzdHMoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50IGFzIGFuIGBPYmplY3RgLiBSZXR1cm5zIGB1bmRlZmluZWRgIGlmXG4gICAgICogdGhlIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3QuXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCBgc2VydmVyVGltZXN0YW1wKClgIHZhbHVlcyB0aGF0IGhhdmUgbm90IHlldCBiZWVuXG4gICAgICogc2V0IHRvIHRoZWlyIGZpbmFsIHZhbHVlIHdpbGwgYmUgcmV0dXJuZWQgYXMgYG51bGxgLiBZb3UgY2FuIG92ZXJyaWRlXG4gICAgICogdGhpcyBieSBwYXNzaW5nIGFuIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBBbiBvcHRpb25zIG9iamVjdCB0byBjb25maWd1cmUgaG93IGRhdGEgaXMgcmV0cmlldmVkIGZyb21cbiAgICAgKiB0aGUgc25hcHNob3QgKGZvciBleGFtcGxlIHRoZSBkZXNpcmVkIGJlaGF2aW9yIGZvciBzZXJ2ZXIgdGltZXN0YW1wcyB0aGF0XG4gICAgICogaGF2ZSBub3QgeWV0IGJlZW4gc2V0IHRvIHRoZWlyIGZpbmFsIHZhbHVlKS5cbiAgICAgKiBAcmV0dXJucyBBbiBgT2JqZWN0YCBjb250YWluaW5nIGFsbCBmaWVsZHMgaW4gdGhlIGRvY3VtZW50IG9yIGB1bmRlZmluZWRgIGlmXG4gICAgICogdGhlIGRvY3VtZW50IGRvZXNuJ3QgZXhpc3QuXG4gICAgICovICAgIGRhdGEoZSA9IHt9KSB7XG4gICAgICAgIGlmICh0aGlzLl9kb2N1bWVudCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX2NvbnZlcnRlcikge1xuICAgICAgICAgICAgICAgIC8vIFdlIG9ubHkgd2FudCB0byB1c2UgdGhlIGNvbnZlcnRlciBhbmQgY3JlYXRlIGEgbmV3IERvY3VtZW50U25hcHNob3RcbiAgICAgICAgICAgICAgICAvLyBpZiBhIGNvbnZlcnRlciBoYXMgYmVlbiBwcm92aWRlZC5cbiAgICAgICAgICAgICAgICBjb25zdCB0ID0gbmV3IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCh0aGlzLl9maXJlc3RvcmUsIHRoaXMuX3VzZXJEYXRhV3JpdGVyLCB0aGlzLl9rZXksIHRoaXMuX2RvY3VtZW50LCB0aGlzLm1ldGFkYXRhLCBcbiAgICAgICAgICAgICAgICAvKiBjb252ZXJ0ZXI9ICovIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb252ZXJ0ZXIuZnJvbUZpcmVzdG9yZSh0LCBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUodGhpcy5fZG9jdW1lbnQuZGF0YS52YWx1ZSwgZS5zZXJ2ZXJUaW1lc3RhbXBzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgdGhlIGZpZWxkIHNwZWNpZmllZCBieSBgZmllbGRQYXRoYC4gUmV0dXJucyBgdW5kZWZpbmVkYCBpZiB0aGVcbiAgICAgKiBkb2N1bWVudCBvciBmaWVsZCBkb2Vzbid0IGV4aXN0LlxuICAgICAqXG4gICAgICogQnkgZGVmYXVsdCwgYSBgc2VydmVyVGltZXN0YW1wKClgIHRoYXQgaGFzIG5vdCB5ZXQgYmVlbiBzZXQgdG9cbiAgICAgKiBpdHMgZmluYWwgdmFsdWUgd2lsbCBiZSByZXR1cm5lZCBhcyBgbnVsbGAuIFlvdSBjYW4gb3ZlcnJpZGUgdGhpcyBieVxuICAgICAqIHBhc3NpbmcgYW4gb3B0aW9ucyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZmllbGRQYXRoIC0gVGhlIHBhdGggKGZvciBleGFtcGxlICdmb28nIG9yICdmb28uYmFyJykgdG8gYSBzcGVjaWZpY1xuICAgICAqIGZpZWxkLlxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gQW4gb3B0aW9ucyBvYmplY3QgdG8gY29uZmlndXJlIGhvdyB0aGUgZmllbGQgaXMgcmV0cmlldmVkXG4gICAgICogZnJvbSB0aGUgc25hcHNob3QgKGZvciBleGFtcGxlIHRoZSBkZXNpcmVkIGJlaGF2aW9yIGZvciBzZXJ2ZXIgdGltZXN0YW1wc1xuICAgICAqIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW4gc2V0IHRvIHRoZWlyIGZpbmFsIHZhbHVlKS5cbiAgICAgKiBAcmV0dXJucyBUaGUgZGF0YSBhdCB0aGUgc3BlY2lmaWVkIGZpZWxkIGxvY2F0aW9uIG9yIHVuZGVmaW5lZCBpZiBubyBzdWNoXG4gICAgICogZmllbGQgZXhpc3RzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKi9cbiAgICAvLyBXZSBhcmUgdXNpbmcgYGFueWAgaGVyZSB0byBhdm9pZCBhbiBleHBsaWNpdCBjYXN0IGJ5IG91ciB1c2Vycy5cbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGdldChlLCB0ID0ge30pIHtcbiAgICAgICAgaWYgKHRoaXMuX2RvY3VtZW50KSB7XG4gICAgICAgICAgICBjb25zdCBuID0gdGhpcy5fZG9jdW1lbnQuZGF0YS5maWVsZChfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50KFwiRG9jdW1lbnRTbmFwc2hvdC5nZXRcIiwgZSkpO1xuICAgICAgICAgICAgaWYgKG51bGwgIT09IG4pIHJldHVybiB0aGlzLl91c2VyRGF0YVdyaXRlci5jb252ZXJ0VmFsdWUobiwgdC5zZXJ2ZXJUaW1lc3RhbXBzKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBBIGBRdWVyeURvY3VtZW50U25hcHNob3RgIGNvbnRhaW5zIGRhdGEgcmVhZCBmcm9tIGEgZG9jdW1lbnQgaW4geW91clxuICogRmlyZXN0b3JlIGRhdGFiYXNlIGFzIHBhcnQgb2YgYSBxdWVyeS4gVGhlIGRvY3VtZW50IGlzIGd1YXJhbnRlZWQgdG8gZXhpc3RcbiAqIGFuZCBpdHMgZGF0YSBjYW4gYmUgZXh0cmFjdGVkIHdpdGggYC5kYXRhKClgIG9yIGAuZ2V0KDxmaWVsZD4pYCB0byBnZXQgYVxuICogc3BlY2lmaWMgZmllbGQuXG4gKlxuICogQSBgUXVlcnlEb2N1bWVudFNuYXBzaG90YCBvZmZlcnMgdGhlIHNhbWUgQVBJIHN1cmZhY2UgYXMgYVxuICogYERvY3VtZW50U25hcHNob3RgLiBTaW5jZSBxdWVyeSByZXN1bHRzIGNvbnRhaW4gb25seSBleGlzdGluZyBkb2N1bWVudHMsIHRoZVxuICogYGV4aXN0c2AgcHJvcGVydHkgd2lsbCBhbHdheXMgYmUgdHJ1ZSBhbmQgYGRhdGEoKWAgd2lsbCBuZXZlciByZXR1cm5cbiAqICd1bmRlZmluZWQnLlxuICovIGNsYXNzIFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdCBleHRlbmRzIERvY3VtZW50U25hcHNob3Qge1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbGwgZmllbGRzIGluIHRoZSBkb2N1bWVudCBhcyBhbiBgT2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEJ5IGRlZmF1bHQsIGBzZXJ2ZXJUaW1lc3RhbXAoKWAgdmFsdWVzIHRoYXQgaGF2ZSBub3QgeWV0IGJlZW5cbiAgICAgKiBzZXQgdG8gdGhlaXIgZmluYWwgdmFsdWUgd2lsbCBiZSByZXR1cm5lZCBhcyBgbnVsbGAuIFlvdSBjYW4gb3ZlcnJpZGVcbiAgICAgKiB0aGlzIGJ5IHBhc3NpbmcgYW4gb3B0aW9ucyBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAb3ZlcnJpZGVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIGNvbmZpZ3VyZSBob3cgZGF0YSBpcyByZXRyaWV2ZWQgZnJvbVxuICAgICAqIHRoZSBzbmFwc2hvdCAoZm9yIGV4YW1wbGUgdGhlIGRlc2lyZWQgYmVoYXZpb3IgZm9yIHNlcnZlciB0aW1lc3RhbXBzIHRoYXRcbiAgICAgKiBoYXZlIG5vdCB5ZXQgYmVlbiBzZXQgdG8gdGhlaXIgZmluYWwgdmFsdWUpLlxuICAgICAqIEByZXR1cm5zIEFuIGBPYmplY3RgIGNvbnRhaW5pbmcgYWxsIGZpZWxkcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICovXG4gICAgZGF0YShlID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHN1cGVyLmRhdGEoZSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEEgYFF1ZXJ5U25hcHNob3RgIGNvbnRhaW5zIHplcm8gb3IgbW9yZSBgRG9jdW1lbnRTbmFwc2hvdGAgb2JqZWN0c1xuICogcmVwcmVzZW50aW5nIHRoZSByZXN1bHRzIG9mIGEgcXVlcnkuIFRoZSBkb2N1bWVudHMgY2FuIGJlIGFjY2Vzc2VkIGFzIGFuXG4gKiBhcnJheSB2aWEgdGhlIGBkb2NzYCBwcm9wZXJ0eSBvciBlbnVtZXJhdGVkIHVzaW5nIHRoZSBgZm9yRWFjaGAgbWV0aG9kLiBUaGVcbiAqIG51bWJlciBvZiBkb2N1bWVudHMgY2FuIGJlIGRldGVybWluZWQgdmlhIHRoZSBgZW1wdHlgIGFuZCBgc2l6ZWBcbiAqIHByb3BlcnRpZXMuXG4gKi8gY2xhc3MgUXVlcnlTbmFwc2hvdCB7XG4gICAgLyoqIEBoaWRlY29uc3RydWN0b3IgKi9cbiAgICBjb25zdHJ1Y3RvcihlLCB0LCBuLCByKSB7XG4gICAgICAgIHRoaXMuX2ZpcmVzdG9yZSA9IGUsIHRoaXMuX3VzZXJEYXRhV3JpdGVyID0gdCwgdGhpcy5fc25hcHNob3QgPSByLCB0aGlzLm1ldGFkYXRhID0gbmV3IFNuYXBzaG90TWV0YWRhdGEoci5oYXNQZW5kaW5nV3JpdGVzLCByLmZyb21DYWNoZSksIFxuICAgICAgICB0aGlzLnF1ZXJ5ID0gbjtcbiAgICB9XG4gICAgLyoqIEFuIGFycmF5IG9mIGFsbCB0aGUgZG9jdW1lbnRzIGluIHRoZSBgUXVlcnlTbmFwc2hvdGAuICovICAgIGdldCBkb2NzKCkge1xuICAgICAgICBjb25zdCBlID0gW107XG4gICAgICAgIHJldHVybiB0aGlzLmZvckVhY2goKHQgPT4gZS5wdXNoKHQpKSksIGU7XG4gICAgfVxuICAgIC8qKiBUaGUgbnVtYmVyIG9mIGRvY3VtZW50cyBpbiB0aGUgYFF1ZXJ5U25hcHNob3RgLiAqLyAgICBnZXQgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NuYXBzaG90LmRvY3Muc2l6ZTtcbiAgICB9XG4gICAgLyoqIFRydWUgaWYgdGhlcmUgYXJlIG5vIGRvY3VtZW50cyBpbiB0aGUgYFF1ZXJ5U25hcHNob3RgLiAqLyAgICBnZXQgZW1wdHkoKSB7XG4gICAgICAgIHJldHVybiAwID09PSB0aGlzLnNpemU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVudW1lcmF0ZXMgYWxsIG9mIHRoZSBkb2N1bWVudHMgaW4gdGhlIGBRdWVyeVNuYXBzaG90YC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayAtIEEgY2FsbGJhY2sgdG8gYmUgY2FsbGVkIHdpdGggYSBgUXVlcnlEb2N1bWVudFNuYXBzaG90YCBmb3JcbiAgICAgKiBlYWNoIGRvY3VtZW50IGluIHRoZSBzbmFwc2hvdC5cbiAgICAgKiBAcGFyYW0gdGhpc0FyZyAtIFRoZSBgdGhpc2AgYmluZGluZyBmb3IgdGhlIGNhbGxiYWNrLlxuICAgICAqLyAgICBmb3JFYWNoKGUsIHQpIHtcbiAgICAgICAgdGhpcy5fc25hcHNob3QuZG9jcy5mb3JFYWNoKChuID0+IHtcbiAgICAgICAgICAgIGUuY2FsbCh0LCBuZXcgUXVlcnlEb2N1bWVudFNuYXBzaG90KHRoaXMuX2ZpcmVzdG9yZSwgdGhpcy5fdXNlckRhdGFXcml0ZXIsIG4ua2V5LCBuLCBuZXcgU25hcHNob3RNZXRhZGF0YSh0aGlzLl9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXMobi5rZXkpLCB0aGlzLl9zbmFwc2hvdC5mcm9tQ2FjaGUpLCB0aGlzLnF1ZXJ5LmNvbnZlcnRlcikpO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgdGhlIGRvY3VtZW50cyBjaGFuZ2VzIHNpbmNlIHRoZSBsYXN0IHNuYXBzaG90LiBJZiB0aGlzXG4gICAgICogaXMgdGhlIGZpcnN0IHNuYXBzaG90LCBhbGwgZG9jdW1lbnRzIHdpbGwgYmUgaW4gdGhlIGxpc3QgYXMgJ2FkZGVkJ1xuICAgICAqIGNoYW5nZXMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIGBTbmFwc2hvdExpc3Rlbk9wdGlvbnNgIHRoYXQgY29udHJvbCB3aGV0aGVyIG1ldGFkYXRhLW9ubHlcbiAgICAgKiBjaGFuZ2VzIChpLmUuIG9ubHkgYERvY3VtZW50U25hcHNob3QubWV0YWRhdGFgIGNoYW5nZWQpIHNob3VsZCB0cmlnZ2VyXG4gICAgICogc25hcHNob3QgZXZlbnRzLlxuICAgICAqLyAgICBkb2NDaGFuZ2VzKGUgPSB7fSkge1xuICAgICAgICBjb25zdCB0ID0gISFlLmluY2x1ZGVNZXRhZGF0YUNoYW5nZXM7XG4gICAgICAgIGlmICh0ICYmIHRoaXMuX3NuYXBzaG90LmV4Y2x1ZGVzTWV0YWRhdGFDaGFuZ2VzKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIlRvIGluY2x1ZGUgbWV0YWRhdGEgY2hhbmdlcyB3aXRoIHlvdXIgZG9jdW1lbnQgY2hhbmdlcywgeW91IG11c3QgYWxzbyBwYXNzIHsgaW5jbHVkZU1ldGFkYXRhQ2hhbmdlczp0cnVlIH0gdG8gb25TbmFwc2hvdCgpLlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NhY2hlZENoYW5nZXMgJiYgdGhpcy5fY2FjaGVkQ2hhbmdlc0luY2x1ZGVNZXRhZGF0YUNoYW5nZXMgPT09IHQgfHwgKHRoaXMuX2NhY2hlZENoYW5nZXMgPSBcbiAgICAgICAgLyoqIENhbGN1bGF0ZXMgdGhlIGFycmF5IG9mIGBEb2N1bWVudENoYW5nZWBzIGZvciBhIGdpdmVuIGBWaWV3U25hcHNob3RgLiAqL1xuICAgICAgICBmdW5jdGlvbiBfX1BSSVZBVEVfY2hhbmdlc0Zyb21TbmFwc2hvdChlLCB0KSB7XG4gICAgICAgICAgICBpZiAoZS5fc25hcHNob3Qub2xkRG9jcy5pc0VtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICBsZXQgdCA9IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuX3NuYXBzaG90LmRvY0NoYW5nZXMubWFwKChuID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgciA9IG5ldyBRdWVyeURvY3VtZW50U25hcHNob3QoZS5fZmlyZXN0b3JlLCBlLl91c2VyRGF0YVdyaXRlciwgbi5kb2Mua2V5LCBuLmRvYywgbmV3IFNuYXBzaG90TWV0YWRhdGEoZS5fc25hcHNob3QubXV0YXRlZEtleXMuaGFzKG4uZG9jLmtleSksIGUuX3NuYXBzaG90LmZyb21DYWNoZSksIGUucXVlcnkuY29udmVydGVyKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG4uZG9jLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImFkZGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBkb2M6IHIsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbGRJbmRleDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdJbmRleDogdCsrXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIEEgYERvY3VtZW50U2V0YCB0aGF0IGlzIHVwZGF0ZWQgaW5jcmVtZW50YWxseSBhcyBjaGFuZ2VzIGFyZSBhcHBsaWVkIHRvIHVzZVxuICAgICAgICAgICAgICAgIC8vIHRvIGxvb2t1cCB0aGUgaW5kZXggb2YgYSBkb2N1bWVudC5cbiAgICAgICAgICAgICAgICBsZXQgbiA9IGUuX3NuYXBzaG90Lm9sZERvY3M7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGUuX3NuYXBzaG90LmRvY0NoYW5nZXMuZmlsdGVyKChlID0+IHQgfHwgMyAvKiBDaGFuZ2VUeXBlLk1ldGFkYXRhICovICE9PSBlLnR5cGUpKS5tYXAoKHQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByID0gbmV3IFF1ZXJ5RG9jdW1lbnRTbmFwc2hvdChlLl9maXJlc3RvcmUsIGUuX3VzZXJEYXRhV3JpdGVyLCB0LmRvYy5rZXksIHQuZG9jLCBuZXcgU25hcHNob3RNZXRhZGF0YShlLl9zbmFwc2hvdC5tdXRhdGVkS2V5cy5oYXModC5kb2Mua2V5KSwgZS5fc25hcHNob3QuZnJvbUNhY2hlKSwgZS5xdWVyeS5jb252ZXJ0ZXIpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaSA9IC0xLCBzID0gLTE7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAwIC8qIENoYW5nZVR5cGUuQWRkZWQgKi8gIT09IHQudHlwZSAmJiAoaSA9IG4uaW5kZXhPZih0LmRvYy5rZXkpLCBuID0gbi5kZWxldGUodC5kb2Mua2V5KSksIFxuICAgICAgICAgICAgICAgICAgICAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyAhPT0gdC50eXBlICYmIChuID0gbi5hZGQodC5kb2MpLCBzID0gbi5pbmRleE9mKHQuZG9jLmtleSkpLCBcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogX19QUklWQVRFX3Jlc3VsdENoYW5nZVR5cGUodC50eXBlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvYzogcixcbiAgICAgICAgICAgICAgICAgICAgICAgIG9sZEluZGV4OiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3SW5kZXg6IHNcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0odGhpcywgdCksIHRoaXMuX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzID0gdCksIHRoaXMuX2NhY2hlZENoYW5nZXM7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfcmVzdWx0Q2hhbmdlVHlwZShlKSB7XG4gICAgc3dpdGNoIChlKSB7XG4gICAgICBjYXNlIDAgLyogQ2hhbmdlVHlwZS5BZGRlZCAqLyA6XG4gICAgICAgIHJldHVybiBcImFkZGVkXCI7XG5cbiAgICAgIGNhc2UgMiAvKiBDaGFuZ2VUeXBlLk1vZGlmaWVkICovIDpcbiAgICAgIGNhc2UgMyAvKiBDaGFuZ2VUeXBlLk1ldGFkYXRhICovIDpcbiAgICAgICAgcmV0dXJuIFwibW9kaWZpZWRcIjtcblxuICAgICAgY2FzZSAxIC8qIENoYW5nZVR5cGUuUmVtb3ZlZCAqLyA6XG4gICAgICAgIHJldHVybiBcInJlbW92ZWRcIjtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIGZhaWwoKTtcbiAgICB9XG59XG5cbi8vIFRPRE8oZmlyZXN0b3JlZXhwKTogQWRkIHRlc3RzIGZvciBzbmFwc2hvdEVxdWFsIHdpdGggZGlmZmVyZW50IHNuYXBzaG90XG4vLyBtZXRhZGF0YVxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIHByb3ZpZGVkIHNuYXBzaG90cyBhcmUgZXF1YWwuXG4gKlxuICogQHBhcmFtIGxlZnQgLSBBIHNuYXBzaG90IHRvIGNvbXBhcmUuXG4gKiBAcGFyYW0gcmlnaHQgLSBBIHNuYXBzaG90IHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyB0cnVlIGlmIHRoZSBzbmFwc2hvdHMgYXJlIGVxdWFsLlxuICovIGZ1bmN0aW9uIHNuYXBzaG90RXF1YWwoZSwgdCkge1xuICAgIHJldHVybiBlIGluc3RhbmNlb2YgRG9jdW1lbnRTbmFwc2hvdCAmJiB0IGluc3RhbmNlb2YgRG9jdW1lbnRTbmFwc2hvdCA/IGUuX2ZpcmVzdG9yZSA9PT0gdC5fZmlyZXN0b3JlICYmIGUuX2tleS5pc0VxdWFsKHQuX2tleSkgJiYgKG51bGwgPT09IGUuX2RvY3VtZW50ID8gbnVsbCA9PT0gdC5fZG9jdW1lbnQgOiBlLl9kb2N1bWVudC5pc0VxdWFsKHQuX2RvY3VtZW50KSkgJiYgZS5fY29udmVydGVyID09PSB0Ll9jb252ZXJ0ZXIgOiBlIGluc3RhbmNlb2YgUXVlcnlTbmFwc2hvdCAmJiB0IGluc3RhbmNlb2YgUXVlcnlTbmFwc2hvdCAmJiAoZS5fZmlyZXN0b3JlID09PSB0Ll9maXJlc3RvcmUgJiYgcXVlcnlFcXVhbChlLnF1ZXJ5LCB0LnF1ZXJ5KSAmJiBlLm1ldGFkYXRhLmlzRXF1YWwodC5tZXRhZGF0YSkgJiYgZS5fc25hcHNob3QuaXNFcXVhbCh0Ll9zbmFwc2hvdCkpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJyZWQgdG8gYnkgdGhpcyBgRG9jdW1lbnRSZWZlcmVuY2VgLlxuICpcbiAqIE5vdGU6IGBnZXREb2MoKWAgYXR0ZW1wdHMgdG8gcHJvdmlkZSB1cC10by1kYXRlIGRhdGEgd2hlbiBwb3NzaWJsZSBieSB3YWl0aW5nXG4gKiBmb3IgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIsIGJ1dCBpdCBtYXkgcmV0dXJuIGNhY2hlZCBkYXRhIG9yIGZhaWwgaWYgeW91IGFyZVxuICogb2ZmbGluZSBhbmQgdGhlIHNlcnZlciBjYW5ub3QgYmUgcmVhY2hlZC4gVG8gc3BlY2lmeSB0aGlzIGJlaGF2aW9yLCBpbnZva2VcbiAqIHtAbGluayBnZXREb2NGcm9tQ2FjaGV9IG9yIHtAbGluayBnZXREb2NGcm9tU2VydmVyfS5cbiAqXG4gKiBAcGFyYW0gcmVmZXJlbmNlIC0gVGhlIHJlZmVyZW5jZSBvZiB0aGUgZG9jdW1lbnQgdG8gZmV0Y2guXG4gKiBAcmV0dXJucyBBIFByb21pc2UgcmVzb2x2ZWQgd2l0aCBhIGBEb2N1bWVudFNuYXBzaG90YCBjb250YWluaW5nIHRoZVxuICogY3VycmVudCBkb2N1bWVudCBjb250ZW50cy5cbiAqLyBmdW5jdGlvbiBnZXREb2MoZSkge1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBEb2N1bWVudFJlZmVyZW5jZSk7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRWaWFTbmFwc2hvdExpc3RlbmVyKGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQodCksIGUuX2tleSkudGhlbigobiA9PiBfX1BSSVZBVEVfY29udmVydFRvRG9jU25hcHNob3QodCwgZSwgbikpKTtcbn1cblxuY2xhc3MgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyIGV4dGVuZHMgQWJzdHJhY3RVc2VyRGF0YVdyaXRlciB7XG4gICAgY29uc3RydWN0b3IoZSkge1xuICAgICAgICBzdXBlcigpLCB0aGlzLmZpcmVzdG9yZSA9IGU7XG4gICAgfVxuICAgIGNvbnZlcnRCeXRlcyhlKSB7XG4gICAgICAgIHJldHVybiBuZXcgQnl0ZXMoZSk7XG4gICAgfVxuICAgIGNvbnZlcnRSZWZlcmVuY2UoZSkge1xuICAgICAgICBjb25zdCB0ID0gdGhpcy5jb252ZXJ0RG9jdW1lbnRLZXkoZSwgdGhpcy5maXJlc3RvcmUuX2RhdGFiYXNlSWQpO1xuICAgICAgICByZXR1cm4gbmV3IERvY3VtZW50UmVmZXJlbmNlKHRoaXMuZmlyZXN0b3JlLCAvKiBjb252ZXJ0ZXI9ICovIG51bGwsIHQpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZWFkcyB0aGUgZG9jdW1lbnQgcmVmZXJyZWQgdG8gYnkgdGhpcyBgRG9jdW1lbnRSZWZlcmVuY2VgIGZyb20gY2FjaGUuXG4gKiBSZXR1cm5zIGFuIGVycm9yIGlmIHRoZSBkb2N1bWVudCBpcyBub3QgY3VycmVudGx5IGNhY2hlZC5cbiAqXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCByZXNvbHZlZCB3aXRoIGEgYERvY3VtZW50U25hcHNob3RgIGNvbnRhaW5pbmcgdGhlXG4gKiBjdXJyZW50IGRvY3VtZW50IGNvbnRlbnRzLlxuICovIGZ1bmN0aW9uIGdldERvY0Zyb21DYWNoZShlKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIERvY3VtZW50UmVmZXJlbmNlKTtcbiAgICBjb25zdCB0ID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIG4gPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHQpLCByID0gbmV3IF9fUFJJVkFURV9FeHBVc2VyRGF0YVdyaXRlcih0KTtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50RnJvbUxvY2FsQ2FjaGUobiwgZS5fa2V5KS50aGVuKChuID0+IG5ldyBEb2N1bWVudFNuYXBzaG90KHQsIHIsIGUuX2tleSwgbiwgbmV3IFNuYXBzaG90TWV0YWRhdGEobnVsbCAhPT0gbiAmJiBuLmhhc0xvY2FsTXV0YXRpb25zLCBcbiAgICAvKiBmcm9tQ2FjaGU9ICovICEwKSwgZS5jb252ZXJ0ZXIpKSk7XG59XG5cbi8qKlxuICogUmVhZHMgdGhlIGRvY3VtZW50IHJlZmVycmVkIHRvIGJ5IHRoaXMgYERvY3VtZW50UmVmZXJlbmNlYCBmcm9tIHRoZSBzZXJ2ZXIuXG4gKiBSZXR1cm5zIGFuIGVycm9yIGlmIHRoZSBuZXR3b3JrIGlzIG5vdCBhdmFpbGFibGUuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgcmVzb2x2ZWQgd2l0aCBhIGBEb2N1bWVudFNuYXBzaG90YCBjb250YWluaW5nIHRoZVxuICogY3VycmVudCBkb2N1bWVudCBjb250ZW50cy5cbiAqLyBmdW5jdGlvbiBnZXREb2NGcm9tU2VydmVyKGUpIHtcbiAgICBlID0gX19QUklWQVRFX2Nhc3QoZSwgRG9jdW1lbnRSZWZlcmVuY2UpO1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKTtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50VmlhU25hcHNob3RMaXN0ZW5lcihlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHQpLCBlLl9rZXksIHtcbiAgICAgICAgc291cmNlOiBcInNlcnZlclwiXG4gICAgfSkudGhlbigobiA9PiBfX1BSSVZBVEVfY29udmVydFRvRG9jU25hcHNob3QodCwgZSwgbikpKTtcbn1cblxuLyoqXG4gKiBFeGVjdXRlcyB0aGUgcXVlcnkgYW5kIHJldHVybnMgdGhlIHJlc3VsdHMgYXMgYSBgUXVlcnlTbmFwc2hvdGAuXG4gKlxuICogTm90ZTogYGdldERvY3MoKWAgYXR0ZW1wdHMgdG8gcHJvdmlkZSB1cC10by1kYXRlIGRhdGEgd2hlbiBwb3NzaWJsZSBieVxuICogd2FpdGluZyBmb3IgZGF0YSBmcm9tIHRoZSBzZXJ2ZXIsIGJ1dCBpdCBtYXkgcmV0dXJuIGNhY2hlZCBkYXRhIG9yIGZhaWwgaWZcbiAqIHlvdSBhcmUgb2ZmbGluZSBhbmQgdGhlIHNlcnZlciBjYW5ub3QgYmUgcmVhY2hlZC4gVG8gc3BlY2lmeSB0aGlzIGJlaGF2aW9yLFxuICogaW52b2tlIHtAbGluayBnZXREb2NzRnJvbUNhY2hlfSBvciB7QGxpbmsgZ2V0RG9jc0Zyb21TZXJ2ZXJ9LlxuICpcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIHRoZSByZXN1bHRzIG9mIHRoZSBxdWVyeS5cbiAqLyBmdW5jdGlvbiBnZXREb2NzKGUpIHtcbiAgICBlID0gX19QUklWQVRFX2Nhc3QoZSwgUXVlcnkpO1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgbiA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQodCksIHIgPSBuZXcgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyKHQpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfdmFsaWRhdGVIYXNFeHBsaWNpdE9yZGVyQnlGb3JMaW1pdFRvTGFzdChlLl9xdWVyeSksIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudHNWaWFTbmFwc2hvdExpc3RlbmVyKG4sIGUuX3F1ZXJ5KS50aGVuKChuID0+IG5ldyBRdWVyeVNuYXBzaG90KHQsIHIsIGUsIG4pKSk7XG59XG5cbi8qKlxuICogRXhlY3V0ZXMgdGhlIHF1ZXJ5IGFuZCByZXR1cm5zIHRoZSByZXN1bHRzIGFzIGEgYFF1ZXJ5U25hcHNob3RgIGZyb20gY2FjaGUuXG4gKiBSZXR1cm5zIGFuIGVtcHR5IHJlc3VsdCBzZXQgaWYgbm8gZG9jdW1lbnRzIG1hdGNoaW5nIHRoZSBxdWVyeSBhcmUgY3VycmVudGx5XG4gKiBjYWNoZWQuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5LlxuICovIGZ1bmN0aW9uIGdldERvY3NGcm9tQ2FjaGUoZSkge1xuICAgIGUgPSBfX1BSSVZBVEVfY2FzdChlLCBRdWVyeSk7XG4gICAgY29uc3QgdCA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCBuID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZCh0KSwgciA9IG5ldyBfX1BSSVZBVEVfRXhwVXNlckRhdGFXcml0ZXIodCk7XG4gICAgcmV0dXJuIF9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudHNGcm9tTG9jYWxDYWNoZShuLCBlLl9xdWVyeSkudGhlbigobiA9PiBuZXcgUXVlcnlTbmFwc2hvdCh0LCByLCBlLCBuKSkpO1xufVxuXG4vKipcbiAqIEV4ZWN1dGVzIHRoZSBxdWVyeSBhbmQgcmV0dXJucyB0aGUgcmVzdWx0cyBhcyBhIGBRdWVyeVNuYXBzaG90YCBmcm9tIHRoZVxuICogc2VydmVyLiBSZXR1cm5zIGFuIGVycm9yIGlmIHRoZSBuZXR3b3JrIGlzIG5vdCBhdmFpbGFibGUuXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIHJlc3VsdHMgb2YgdGhlIHF1ZXJ5LlxuICovIGZ1bmN0aW9uIGdldERvY3NGcm9tU2VydmVyKGUpIHtcbiAgICBlID0gX19QUklWQVRFX2Nhc3QoZSwgUXVlcnkpO1xuICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgbiA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQodCksIHIgPSBuZXcgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyKHQpO1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRzVmlhU25hcHNob3RMaXN0ZW5lcihuLCBlLl9xdWVyeSwge1xuICAgICAgICBzb3VyY2U6IFwic2VydmVyXCJcbiAgICB9KS50aGVuKChuID0+IG5ldyBRdWVyeVNuYXBzaG90KHQsIHIsIGUsIG4pKSk7XG59XG5cbmZ1bmN0aW9uIHNldERvYyhlLCB0LCBuKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIERvY3VtZW50UmVmZXJlbmNlKTtcbiAgICBjb25zdCByID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIGkgPSBfX1BSSVZBVEVfYXBwbHlGaXJlc3RvcmVEYXRhQ29udmVydGVyKGUuY29udmVydGVyLCB0LCBuKTtcbiAgICByZXR1cm4gZXhlY3V0ZVdyaXRlKHIsIFsgX19QUklWQVRFX3BhcnNlU2V0RGF0YShfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIociksIFwic2V0RG9jXCIsIGUuX2tleSwgaSwgbnVsbCAhPT0gZS5jb252ZXJ0ZXIsIG4pLnRvTXV0YXRpb24oZS5fa2V5LCBQcmVjb25kaXRpb24ubm9uZSgpKSBdKTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRG9jKGUsIHQsIG4sIC4uLnIpIHtcbiAgICBlID0gX19QUklWQVRFX2Nhc3QoZSwgRG9jdW1lbnRSZWZlcmVuY2UpO1xuICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgcyA9IF9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlcihpKTtcbiAgICBsZXQgbztcbiAgICBvID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgKFxuICAgIC8vIEZvciBDb21wYXQgdHlwZXMsIHdlIGhhdmUgdG8gXCJleHRyYWN0XCIgdGhlIHVuZGVybHlpbmcgdHlwZXMgYmVmb3JlXG4gICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgIHQgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZSh0KSkgfHwgdCBpbnN0YW5jZW9mIEZpZWxkUGF0aCA/IF9fUFJJVkFURV9wYXJzZVVwZGF0ZVZhcmFyZ3MocywgXCJ1cGRhdGVEb2NcIiwgZS5fa2V5LCB0LCBuLCByKSA6IF9fUFJJVkFURV9wYXJzZVVwZGF0ZURhdGEocywgXCJ1cGRhdGVEb2NcIiwgZS5fa2V5LCB0KTtcbiAgICByZXR1cm4gZXhlY3V0ZVdyaXRlKGksIFsgby50b011dGF0aW9uKGUuX2tleSwgUHJlY29uZGl0aW9uLmV4aXN0cyghMCkpIF0pO1xufVxuXG4vKipcbiAqIERlbGV0ZXMgdGhlIGRvY3VtZW50IHJlZmVycmVkIHRvIGJ5IHRoZSBzcGVjaWZpZWQgYERvY3VtZW50UmVmZXJlbmNlYC5cbiAqXG4gKiBAcGFyYW0gcmVmZXJlbmNlIC0gQSByZWZlcmVuY2UgdG8gdGhlIGRvY3VtZW50IHRvIGRlbGV0ZS5cbiAqIEByZXR1cm5zIEEgUHJvbWlzZSByZXNvbHZlZCBvbmNlIHRoZSBkb2N1bWVudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHlcbiAqIGRlbGV0ZWQgZnJvbSB0aGUgYmFja2VuZCAobm90ZSB0aGF0IGl0IHdvbid0IHJlc29sdmUgd2hpbGUgeW91J3JlIG9mZmxpbmUpLlxuICovIGZ1bmN0aW9uIGRlbGV0ZURvYyhlKSB7XG4gICAgcmV0dXJuIGV4ZWN1dGVXcml0ZShfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgWyBuZXcgX19QUklWQVRFX0RlbGV0ZU11dGF0aW9uKGUuX2tleSwgUHJlY29uZGl0aW9uLm5vbmUoKSkgXSk7XG59XG5cbi8qKlxuICogQWRkIGEgbmV3IGRvY3VtZW50IHRvIHNwZWNpZmllZCBgQ29sbGVjdGlvblJlZmVyZW5jZWAgd2l0aCB0aGUgZ2l2ZW4gZGF0YSxcbiAqIGFzc2lnbmluZyBpdCBhIGRvY3VtZW50IElEIGF1dG9tYXRpY2FsbHkuXG4gKlxuICogQHBhcmFtIHJlZmVyZW5jZSAtIEEgcmVmZXJlbmNlIHRvIHRoZSBjb2xsZWN0aW9uIHRvIGFkZCB0aGlzIGRvY3VtZW50IHRvLlxuICogQHBhcmFtIGRhdGEgLSBBbiBPYmplY3QgY29udGFpbmluZyB0aGUgZGF0YSBmb3IgdGhlIG5ldyBkb2N1bWVudC5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHJlc29sdmVkIHdpdGggYSBgRG9jdW1lbnRSZWZlcmVuY2VgIHBvaW50aW5nIHRvIHRoZVxuICogbmV3bHkgY3JlYXRlZCBkb2N1bWVudCBhZnRlciBpdCBoYXMgYmVlbiB3cml0dGVuIHRvIHRoZSBiYWNrZW5kIChOb3RlIHRoYXQgaXRcbiAqIHdvbid0IHJlc29sdmUgd2hpbGUgeW91J3JlIG9mZmxpbmUpLlxuICovIGZ1bmN0aW9uIGFkZERvYyhlLCB0KSB7XG4gICAgY29uc3QgbiA9IF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCByID0gZG9jKGUpLCBpID0gX19QUklWQVRFX2FwcGx5RmlyZXN0b3JlRGF0YUNvbnZlcnRlcihlLmNvbnZlcnRlciwgdCk7XG4gICAgcmV0dXJuIGV4ZWN1dGVXcml0ZShuLCBbIF9fUFJJVkFURV9wYXJzZVNldERhdGEoX19QUklWQVRFX25ld1VzZXJEYXRhUmVhZGVyKGUuZmlyZXN0b3JlKSwgXCJhZGREb2NcIiwgci5fa2V5LCBpLCBudWxsICE9PSBlLmNvbnZlcnRlciwge30pLnRvTXV0YXRpb24oci5fa2V5LCBQcmVjb25kaXRpb24uZXhpc3RzKCExKSkgXSkudGhlbigoKCkgPT4gcikpO1xufVxuXG5mdW5jdGlvbiBvblNuYXBzaG90KGUsIC4uLnQpIHtcbiAgICB2YXIgbiwgciwgaTtcbiAgICBlID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UoZSk7XG4gICAgbGV0IHMgPSB7XG4gICAgICAgIGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6ICExLFxuICAgICAgICBzb3VyY2U6IFwiZGVmYXVsdFwiXG4gICAgfSwgbyA9IDA7XG4gICAgXCJvYmplY3RcIiAhPSB0eXBlb2YgdFtvXSB8fCBfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIodFtvXSkgfHwgKHMgPSB0W29dLCBvKyspO1xuICAgIGNvbnN0IF8gPSB7XG4gICAgICAgIGluY2x1ZGVNZXRhZGF0YUNoYW5nZXM6IHMuaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyxcbiAgICAgICAgc291cmNlOiBzLnNvdXJjZVxuICAgIH07XG4gICAgaWYgKF9fUFJJVkFURV9pc1BhcnRpYWxPYnNlcnZlcih0W29dKSkge1xuICAgICAgICBjb25zdCBlID0gdFtvXTtcbiAgICAgICAgdFtvXSA9IG51bGwgPT09IChuID0gZS5uZXh0KSB8fCB2b2lkIDAgPT09IG4gPyB2b2lkIDAgOiBuLmJpbmQoZSksIHRbbyArIDFdID0gbnVsbCA9PT0gKHIgPSBlLmVycm9yKSB8fCB2b2lkIDAgPT09IHIgPyB2b2lkIDAgOiByLmJpbmQoZSksIFxuICAgICAgICB0W28gKyAyXSA9IG51bGwgPT09IChpID0gZS5jb21wbGV0ZSkgfHwgdm9pZCAwID09PSBpID8gdm9pZCAwIDogaS5iaW5kKGUpO1xuICAgIH1cbiAgICBsZXQgYSwgdSwgYztcbiAgICBpZiAoZSBpbnN0YW5jZW9mIERvY3VtZW50UmVmZXJlbmNlKSB1ID0gX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSksIFxuICAgIGMgPSBfX1BSSVZBVEVfbmV3UXVlcnlGb3JQYXRoKGUuX2tleS5wYXRoKSwgYSA9IHtcbiAgICAgICAgbmV4dDogbiA9PiB7XG4gICAgICAgICAgICB0W29dICYmIHRbb10oX19QUklWQVRFX2NvbnZlcnRUb0RvY1NuYXBzaG90KHUsIGUsIG4pKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXJyb3I6IHRbbyArIDFdLFxuICAgICAgICBjb21wbGV0ZTogdFtvICsgMl1cbiAgICB9OyBlbHNlIHtcbiAgICAgICAgY29uc3QgbiA9IF9fUFJJVkFURV9jYXN0KGUsIFF1ZXJ5KTtcbiAgICAgICAgdSA9IF9fUFJJVkFURV9jYXN0KG4uZmlyZXN0b3JlLCBGaXJlc3RvcmUpLCBjID0gbi5fcXVlcnk7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyKHUpO1xuICAgICAgICBhID0ge1xuICAgICAgICAgICAgbmV4dDogZSA9PiB7XG4gICAgICAgICAgICAgICAgdFtvXSAmJiB0W29dKG5ldyBRdWVyeVNuYXBzaG90KHUsIHIsIG4sIGUpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogdFtvICsgMV0sXG4gICAgICAgICAgICBjb21wbGV0ZTogdFtvICsgMl1cbiAgICAgICAgfSwgX19QUklWQVRFX3ZhbGlkYXRlSGFzRXhwbGljaXRPcmRlckJ5Rm9yTGltaXRUb0xhc3QoZS5fcXVlcnkpO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudExpc3RlbihlLCB0LCBuLCByKSB7XG4gICAgICAgIGNvbnN0IGkgPSBuZXcgX19QUklWQVRFX0FzeW5jT2JzZXJ2ZXIociksIHMgPSBuZXcgX19QUklWQVRFX1F1ZXJ5TGlzdGVuZXIodCwgaSwgbik7XG4gICAgICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gX19QUklWQVRFX2V2ZW50TWFuYWdlckxpc3Rlbihhd2FpdCBfX1BSSVZBVEVfZ2V0RXZlbnRNYW5hZ2VyKGUpLCBzKSkpLCBcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgaS4kYSgpLCBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4gX19QUklWQVRFX2V2ZW50TWFuYWdlclVubGlzdGVuKGF3YWl0IF9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIoZSksIHMpKSk7XG4gICAgICAgIH07XG4gICAgfShlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKHUpLCBjLCBfLCBhKTtcbn1cblxuZnVuY3Rpb24gb25TbmFwc2hvdHNJblN5bmMoZSwgdCkge1xuICAgIHJldHVybiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50QWRkU25hcHNob3RzSW5TeW5jTGlzdGVuZXIoZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSksIF9fUFJJVkFURV9pc1BhcnRpYWxPYnNlcnZlcih0KSA/IHQgOiB7XG4gICAgICAgIG5leHQ6IHRcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBMb2NhbGx5IHdyaXRlcyBgbXV0YXRpb25zYCBvbiB0aGUgYXN5bmMgcXVldWUuXG4gKiBAaW50ZXJuYWxcbiAqLyBmdW5jdGlvbiBleGVjdXRlV3JpdGUoZSwgdCkge1xuICAgIHJldHVybiBmdW5jdGlvbiBfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50V3JpdGUoZSwgdCkge1xuICAgICAgICBjb25zdCBuID0gbmV3IF9fUFJJVkFURV9EZWZlcnJlZDtcbiAgICAgICAgcmV0dXJuIGUuYXN5bmNRdWV1ZS5lbnF1ZXVlQW5kRm9yZ2V0KChhc3luYyAoKSA9PiBfX1BSSVZBVEVfc3luY0VuZ2luZVdyaXRlKGF3YWl0IF9fUFJJVkFURV9nZXRTeW5jRW5naW5lKGUpLCB0LCBuKSkpLCBcbiAgICAgICAgbi5wcm9taXNlO1xuICAgIH0oZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlKSwgdCk7XG59XG5cbi8qKlxuICogQ29udmVydHMgYSB7QGxpbmsgVmlld1NuYXBzaG90fSB0aGF0IGNvbnRhaW5zIHRoZSBzaW5nbGUgZG9jdW1lbnQgc3BlY2lmaWVkIGJ5IGByZWZgXG4gKiB0byBhIHtAbGluayBEb2N1bWVudFNuYXBzaG90fS5cbiAqLyBmdW5jdGlvbiBfX1BSSVZBVEVfY29udmVydFRvRG9jU25hcHNob3QoZSwgdCwgbikge1xuICAgIGNvbnN0IHIgPSBuLmRvY3MuZ2V0KHQuX2tleSksIGkgPSBuZXcgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyKGUpO1xuICAgIHJldHVybiBuZXcgRG9jdW1lbnRTbmFwc2hvdChlLCBpLCB0Ll9rZXksIHIsIG5ldyBTbmFwc2hvdE1ldGFkYXRhKG4uaGFzUGVuZGluZ1dyaXRlcywgbi5mcm9tQ2FjaGUpLCB0LmNvbnZlcnRlcik7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENhbGN1bGF0ZXMgdGhlIG51bWJlciBvZiBkb2N1bWVudHMgaW4gdGhlIHJlc3VsdCBzZXQgb2YgdGhlIGdpdmVuIHF1ZXJ5XG4gKiB3aXRob3V0IGFjdHVhbGx5IGRvd25sb2FkaW5nIHRoZSBkb2N1bWVudHMuXG4gKlxuICogVXNpbmcgdGhpcyBmdW5jdGlvbiB0byBjb3VudCB0aGUgZG9jdW1lbnRzIGlzIGVmZmljaWVudCBiZWNhdXNlIG9ubHkgdGhlXG4gKiBmaW5hbCBjb3VudCwgbm90IHRoZSBkb2N1bWVudHMnIGRhdGEsIGlzIGRvd25sb2FkZWQuIFRoaXMgZnVuY3Rpb24gY2FuXG4gKiBjb3VudCB0aGUgZG9jdW1lbnRzIGluIGNhc2VzIHdoZXJlIHRoZSByZXN1bHQgc2V0IGlzIHByb2hpYml0aXZlbHkgbGFyZ2UgdG9cbiAqIGRvd25sb2FkIGVudGlyZWx5ICh0aG91c2FuZHMgb2YgZG9jdW1lbnRzKS5cbiAqXG4gKiBUaGUgcmVzdWx0IHJlY2VpdmVkIGZyb20gdGhlIHNlcnZlciBpcyBwcmVzZW50ZWQsIHVuYWx0ZXJlZCwgd2l0aG91dFxuICogY29uc2lkZXJpbmcgYW55IGxvY2FsIHN0YXRlLiBUaGF0IGlzLCBkb2N1bWVudHMgaW4gdGhlIGxvY2FsIGNhY2hlIGFyZSBub3RcbiAqIHRha2VuIGludG8gY29uc2lkZXJhdGlvbiwgbmVpdGhlciBhcmUgbG9jYWwgbW9kaWZpY2F0aW9ucyBub3QgeWV0XG4gKiBzeW5jaHJvbml6ZWQgd2l0aCB0aGUgc2VydmVyLiBQcmV2aW91c2x5LWRvd25sb2FkZWQgcmVzdWx0cywgaWYgYW55LCBhcmUgbm90XG4gKiB1c2VkLiBFdmVyeSBpbnZvY2F0aW9uIG9mIHRoaXMgZnVuY3Rpb24gbmVjZXNzYXJpbHkgaW52b2x2ZXMgYSByb3VuZCB0cmlwIHRvXG4gKiB0aGUgc2VydmVyLlxuICpcbiAqIEBwYXJhbSBxdWVyeSBUaGUgcXVlcnkgd2hvc2UgcmVzdWx0IHNldCBzaXplIGlzIGNhbGN1bGF0ZWQuXG4gKiBAcmV0dXJucyBBIFByb21pc2UgdGhhdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggdGhlIGNvdW50OyB0aGUgY291bnQgY2FuIGJlXG4gKiByZXRyaWV2ZWQgZnJvbSBgc25hcHNob3QuZGF0YSgpLmNvdW50YCwgd2hlcmUgYHNuYXBzaG90YCBpcyB0aGVcbiAqIGBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90YCB0byB3aGljaCB0aGUgcmV0dXJuZWQgUHJvbWlzZSByZXNvbHZlcy5cbiAqLyBmdW5jdGlvbiBnZXRDb3VudEZyb21TZXJ2ZXIoZSkge1xuICAgIHJldHVybiBnZXRBZ2dyZWdhdGVGcm9tU2VydmVyKGUsIHtcbiAgICAgICAgY291bnQ6IGNvdW50KClcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBDYWxjdWxhdGVzIHRoZSBzcGVjaWZpZWQgYWdncmVnYXRpb25zIG92ZXIgdGhlIGRvY3VtZW50cyBpbiB0aGUgcmVzdWx0XG4gKiBzZXQgb2YgdGhlIGdpdmVuIHF1ZXJ5IHdpdGhvdXQgYWN0dWFsbHkgZG93bmxvYWRpbmcgdGhlIGRvY3VtZW50cy5cbiAqXG4gKiBVc2luZyB0aGlzIGZ1bmN0aW9uIHRvIHBlcmZvcm0gYWdncmVnYXRpb25zIGlzIGVmZmljaWVudCBiZWNhdXNlIG9ubHkgdGhlXG4gKiBmaW5hbCBhZ2dyZWdhdGlvbiB2YWx1ZXMsIG5vdCB0aGUgZG9jdW1lbnRzJyBkYXRhLCBhcmUgZG93bmxvYWRlZC4gVGhpc1xuICogZnVuY3Rpb24gY2FuIHBlcmZvcm0gYWdncmVnYXRpb25zIG9mIHRoZSBkb2N1bWVudHMgaW4gY2FzZXMgd2hlcmUgdGhlIHJlc3VsdFxuICogc2V0IGlzIHByb2hpYml0aXZlbHkgbGFyZ2UgdG8gZG93bmxvYWQgZW50aXJlbHkgKHRob3VzYW5kcyBvZiBkb2N1bWVudHMpLlxuICpcbiAqIFRoZSByZXN1bHQgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyIGlzIHByZXNlbnRlZCwgdW5hbHRlcmVkLCB3aXRob3V0XG4gKiBjb25zaWRlcmluZyBhbnkgbG9jYWwgc3RhdGUuIFRoYXQgaXMsIGRvY3VtZW50cyBpbiB0aGUgbG9jYWwgY2FjaGUgYXJlIG5vdFxuICogdGFrZW4gaW50byBjb25zaWRlcmF0aW9uLCBuZWl0aGVyIGFyZSBsb2NhbCBtb2RpZmljYXRpb25zIG5vdCB5ZXRcbiAqIHN5bmNocm9uaXplZCB3aXRoIHRoZSBzZXJ2ZXIuIFByZXZpb3VzbHktZG93bmxvYWRlZCByZXN1bHRzLCBpZiBhbnksIGFyZSBub3RcbiAqIHVzZWQuIEV2ZXJ5IGludm9jYXRpb24gb2YgdGhpcyBmdW5jdGlvbiBuZWNlc3NhcmlseSBpbnZvbHZlcyBhIHJvdW5kIHRyaXAgdG9cbiAqIHRoZSBzZXJ2ZXIuXG4gKlxuICogQHBhcmFtIHF1ZXJ5IFRoZSBxdWVyeSB3aG9zZSByZXN1bHQgc2V0IGlzIGFnZ3JlZ2F0ZWQgb3Zlci5cbiAqIEBwYXJhbSBhZ2dyZWdhdGVTcGVjIEFuIGBBZ2dyZWdhdGVTcGVjYCBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIGFnZ3JlZ2F0ZXNcbiAqIHRvIHBlcmZvcm0gb3ZlciB0aGUgcmVzdWx0IHNldC4gVGhlIEFnZ3JlZ2F0ZVNwZWMgc3BlY2lmaWVzIGFsaWFzZXMgZm9yIGVhY2hcbiAqIGFnZ3JlZ2F0ZSwgd2hpY2ggY2FuIGJlIHVzZWQgdG8gcmV0cmlldmUgdGhlIGFnZ3JlZ2F0ZSByZXN1bHQuXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3QgYWdncmVnYXRlU25hcHNob3QgPSBhd2FpdCBnZXRBZ2dyZWdhdGVGcm9tU2VydmVyKHF1ZXJ5LCB7XG4gKiAgIGNvdW50T2ZEb2NzOiBjb3VudCgpLFxuICogICB0b3RhbEhvdXJzOiBzdW0oJ2hvdXJzJyksXG4gKiAgIGF2ZXJhZ2VTY29yZTogYXZlcmFnZSgnc2NvcmUnKVxuICogfSk7XG4gKlxuICogY29uc3QgY291bnRPZkRvY3M6IG51bWJlciA9IGFnZ3JlZ2F0ZVNuYXBzaG90LmRhdGEoKS5jb3VudE9mRG9jcztcbiAqIGNvbnN0IHRvdGFsSG91cnM6IG51bWJlciA9IGFnZ3JlZ2F0ZVNuYXBzaG90LmRhdGEoKS50b3RhbEhvdXJzO1xuICogY29uc3QgYXZlcmFnZVNjb3JlOiBudW1iZXIgfCBudWxsID0gYWdncmVnYXRlU25hcHNob3QuZGF0YSgpLmF2ZXJhZ2VTY29yZTtcbiAqIGBgYFxuICovIGZ1bmN0aW9uIGdldEFnZ3JlZ2F0ZUZyb21TZXJ2ZXIoZSwgdCkge1xuICAgIGNvbnN0IG4gPSBfX1BSSVZBVEVfY2FzdChlLmZpcmVzdG9yZSwgRmlyZXN0b3JlKSwgciA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQobiksIGkgPSBfX1BSSVZBVEVfbWFwVG9BcnJheSh0LCAoKGUsIHQpID0+IG5ldyBfX1BSSVZBVEVfQWdncmVnYXRlSW1wbCh0LCBlLmFnZ3JlZ2F0ZVR5cGUsIGUuX2ludGVybmFsRmllbGRQYXRoKSkpO1xuICAgIC8vIFJ1biB0aGUgYWdncmVnYXRpb24gYW5kIGNvbnZlcnQgdGhlIHJlc3VsdHNcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFJ1bkFnZ3JlZ2F0ZVF1ZXJ5KHIsIGUuX3F1ZXJ5LCBpKS50aGVuKCh0ID0+IFxuICAgIC8qKlxuICogQ29udmVydHMgdGhlIGNvcmUgYWdncmVncmF0aW9uIHJlc3VsdCB0byBhbiBgQWdncmVnYXRlUXVlcnlTbmFwc2hvdGBcbiAqIHRoYXQgY2FuIGJlIHJldHVybmVkIHRvIHRoZSBjb25zdW1lci5cbiAqIEBwYXJhbSBxdWVyeVxuICogQHBhcmFtIGFnZ3JlZ2F0ZVJlc3VsdCBDb3JlIGFnZ3JlZ2F0aW9uIHJlc3VsdFxuICogQGludGVybmFsXG4gKi9cbiAgICBmdW5jdGlvbiBfX1BSSVZBVEVfY29udmVydFRvQWdncmVnYXRlUXVlcnlTbmFwc2hvdChlLCB0LCBuKSB7XG4gICAgICAgIGNvbnN0IHIgPSBuZXcgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyKGUpO1xuICAgICAgICByZXR1cm4gbmV3IEFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3QodCwgciwgbik7XG4gICAgfVxuICAgIC8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIzIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIChuLCBlLCB0KSkpO1xufVxuXG5jbGFzcyBfX1BSSVZBVEVfTWVtb3J5TG9jYWxDYWNoZUltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5raW5kID0gXCJtZW1vcnlcIiwgdGhpcy5fb25saW5lQ29tcG9uZW50UHJvdmlkZXIgPSBuZXcgT25saW5lQ29tcG9uZW50UHJvdmlkZXIsIFxuICAgICAgICAobnVsbCA9PSBlID8gdm9pZCAwIDogZS5nYXJiYWdlQ29sbGVjdG9yKSA/IHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IGUuZ2FyYmFnZUNvbGxlY3Rvci5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIDogdGhpcy5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IE1lbW9yeU9mZmxpbmVDb21wb25lbnRQcm92aWRlcjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogdGhpcy5raW5kXG4gICAgICAgIH07XG4gICAgfVxufVxuXG5jbGFzcyBfX1BSSVZBVEVfUGVyc2lzdGVudExvY2FsQ2FjaGVJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihlKSB7XG4gICAgICAgIGxldCB0O1xuICAgICAgICB0aGlzLmtpbmQgPSBcInBlcnNpc3RlbnRcIiwgKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUudGFiTWFuYWdlcikgPyAoZS50YWJNYW5hZ2VyLl9pbml0aWFsaXplKGUpLCBcbiAgICAgICAgdCA9IGUudGFiTWFuYWdlcikgOiAodCA9IHBlcnNpc3RlbnRTaW5nbGVUYWJNYW5hZ2VyKHZvaWQgMCksIHQuX2luaXRpYWxpemUoZSkpLCBcbiAgICAgICAgdGhpcy5fb25saW5lQ29tcG9uZW50UHJvdmlkZXIgPSB0Ll9vbmxpbmVDb21wb25lbnRQcm92aWRlciwgdGhpcy5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyID0gdC5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiB0aGlzLmtpbmRcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9NZW1vcnlFYWdlckdhYmFnZUNvbGxlY3RvckltcGwge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmtpbmQgPSBcIm1lbW9yeUVhZ2VyXCIsIHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IG5ldyBNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXI7XG4gICAgfVxuICAgIHRvSlNPTigpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtpbmQ6IHRoaXMua2luZFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuY2xhc3MgX19QUklWQVRFX01lbW9yeUxydUdhYmFnZUNvbGxlY3RvckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5raW5kID0gXCJtZW1vcnlMcnVcIiwgdGhpcy5fb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IF9fUFJJVkFURV9McnVHY01lbW9yeU9mZmxpbmVDb21wb25lbnRQcm92aWRlcihlKTtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogdGhpcy5raW5kXG4gICAgICAgIH07XG4gICAgfVxufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYE1lbW9yeUVhZ2VyR2FyYmFnZUNvbGxlY3RvcmAuIFRoaXMgaXMgYWxzbyB0aGVcbiAqIGRlZmF1bHQgZ2FyYmFnZSBjb2xsZWN0b3IgdW5sZXNzIGl0IGlzIGV4cGxpY2l0bHkgc3BlY2lmaWVkIG90aGVyd2lzZS5cbiAqLyBmdW5jdGlvbiBtZW1vcnlFYWdlckdhcmJhZ2VDb2xsZWN0b3IoKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTWVtb3J5RWFnZXJHYWJhZ2VDb2xsZWN0b3JJbXBsO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYE1lbW9yeUxydUdhcmJhZ2VDb2xsZWN0b3JgLlxuICpcbiAqIEEgdGFyZ2V0IHNpemUgY2FuIGJlIHNwZWNpZmllZCBhcyBwYXJ0IG9mIHRoZSBzZXR0aW5nIHBhcmFtZXRlci4gVGhlXG4gKiBjb2xsZWN0b3Igd2lsbCBzdGFydCBkZWxldGluZyBkb2N1bWVudHMgb25jZSB0aGUgY2FjaGUgc2l6ZSBleGNlZWRzXG4gKiB0aGUgZ2l2ZW4gc2l6ZS4gVGhlIGRlZmF1bHQgY2FjaGUgc2l6ZSBpcyA0ME1CICg0MCAqIDEwMjQgKiAxMDI0IGJ5dGVzKS5cbiAqLyBmdW5jdGlvbiBtZW1vcnlMcnVHYXJiYWdlQ29sbGVjdG9yKGUpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9NZW1vcnlMcnVHYWJhZ2VDb2xsZWN0b3JJbXBsKG51bGwgPT0gZSA/IHZvaWQgMCA6IGUuY2FjaGVTaXplQnl0ZXMpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYE1lbW9yeUxvY2FsQ2FjaGVgLiBUaGUgaW5zdGFuY2UgY2FuIGJlIHNldCB0b1xuICogYEZpcmVzdG9yZVNldHRpbmdzLmNhY2hlYCB0byB0ZWxsIHRoZSBTREsgd2hpY2ggY2FjaGUgbGF5ZXIgdG8gdXNlLlxuICovIGZ1bmN0aW9uIG1lbW9yeUxvY2FsQ2FjaGUoZSkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX01lbW9yeUxvY2FsQ2FjaGVJbXBsKGUpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgYFBlcnNpc3RlbnRMb2NhbENhY2hlYC4gVGhlIGluc3RhbmNlIGNhbiBiZSBzZXQgdG9cbiAqIGBGaXJlc3RvcmVTZXR0aW5ncy5jYWNoZWAgdG8gdGVsbCB0aGUgU0RLIHdoaWNoIGNhY2hlIGxheWVyIHRvIHVzZS5cbiAqXG4gKiBQZXJzaXN0ZW50IGNhY2hlIGNhbm5vdCBiZSB1c2VkIGluIGEgTm9kZS5qcyBlbnZpcm9ubWVudC5cbiAqLyBmdW5jdGlvbiBwZXJzaXN0ZW50TG9jYWxDYWNoZShlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfUGVyc2lzdGVudExvY2FsQ2FjaGVJbXBsKGUpO1xufVxuXG5jbGFzcyBfX1BSSVZBVEVfU2luZ2xlVGFiTWFuYWdlckltcGwge1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5mb3JjZU93bmVyc2hpcCA9IGUsIHRoaXMua2luZCA9IFwicGVyc2lzdGVudFNpbmdsZVRhYlwiO1xuICAgIH1cbiAgICB0b0pTT04oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBraW5kOiB0aGlzLmtpbmRcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGludGVybmFsXG4gICAgICovICAgIF9pbml0aWFsaXplKGUpIHtcbiAgICAgICAgdGhpcy5fb25saW5lQ29tcG9uZW50UHJvdmlkZXIgPSBuZXcgT25saW5lQ29tcG9uZW50UHJvdmlkZXIsIHRoaXMuX29mZmxpbmVDb21wb25lbnRQcm92aWRlciA9IG5ldyBfX1BSSVZBVEVfSW5kZXhlZERiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyLCBudWxsID09IGUgPyB2b2lkIDAgOiBlLmNhY2hlU2l6ZUJ5dGVzLCB0aGlzLmZvcmNlT3duZXJzaGlwKTtcbiAgICB9XG59XG5cbmNsYXNzIF9fUFJJVkFURV9NdWx0aVRhYk1hbmFnZXJJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5raW5kID0gXCJQZXJzaXN0ZW50TXVsdGlwbGVUYWJcIjtcbiAgICB9XG4gICAgdG9KU09OKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2luZDogdGhpcy5raW5kXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqLyAgICBfaW5pdGlhbGl6ZShlKSB7XG4gICAgICAgIHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyID0gbmV3IE9ubGluZUNvbXBvbmVudFByb3ZpZGVyLCB0aGlzLl9vZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIgPSBuZXcgX19QUklWQVRFX011bHRpVGFiT2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyKHRoaXMuX29ubGluZUNvbXBvbmVudFByb3ZpZGVyLCBudWxsID09IGUgPyB2b2lkIDAgOiBlLmNhY2hlU2l6ZUJ5dGVzKTtcbiAgICB9XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBpbnN0YW5jZSBvZiBgUGVyc2lzdGVudFNpbmdsZVRhYk1hbmFnZXJgLlxuICpcbiAqIEBwYXJhbSBzZXR0aW5ncyBDb25maWd1cmVzIHRoZSBjcmVhdGVkIHRhYiBtYW5hZ2VyLlxuICovIGZ1bmN0aW9uIHBlcnNpc3RlbnRTaW5nbGVUYWJNYW5hZ2VyKGUpIHtcbiAgICByZXR1cm4gbmV3IF9fUFJJVkFURV9TaW5nbGVUYWJNYW5hZ2VySW1wbChudWxsID09IGUgPyB2b2lkIDAgOiBlLmZvcmNlT3duZXJzaGlwKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGFuIGluc3RhbmNlIG9mIGBQZXJzaXN0ZW50TXVsdGlwbGVUYWJNYW5hZ2VyYC5cbiAqLyBmdW5jdGlvbiBwZXJzaXN0ZW50TXVsdGlwbGVUYWJNYW5hZ2VyKCkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX011bHRpVGFiTWFuYWdlckltcGw7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovIGNvbnN0IERlID0ge1xuICAgIG1heEF0dGVtcHRzOiA1XG59O1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIHdyaXRlIGJhdGNoLCB1c2VkIHRvIHBlcmZvcm0gbXVsdGlwbGUgd3JpdGVzIGFzIGEgc2luZ2xlIGF0b21pYyB1bml0LlxuICpcbiAqIEEgYFdyaXRlQmF0Y2hgIG9iamVjdCBjYW4gYmUgYWNxdWlyZWQgYnkgY2FsbGluZyB7QGxpbmsgd3JpdGVCYXRjaH0uIEl0XG4gKiBwcm92aWRlcyBtZXRob2RzIGZvciBhZGRpbmcgd3JpdGVzIHRvIHRoZSB3cml0ZSBiYXRjaC4gTm9uZSBvZiB0aGUgd3JpdGVzXG4gKiB3aWxsIGJlIGNvbW1pdHRlZCAob3IgdmlzaWJsZSBsb2NhbGx5KSB1bnRpbCB7QGxpbmsgV3JpdGVCYXRjaC5jb21taXR9IGlzXG4gKiBjYWxsZWQuXG4gKi9cbmNsYXNzIFdyaXRlQmF0Y2gge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLl9maXJlc3RvcmUgPSBlLCB0aGlzLl9jb21taXRIYW5kbGVyID0gdCwgdGhpcy5fbXV0YXRpb25zID0gW10sIHRoaXMuX2NvbW1pdHRlZCA9ICExLCBcbiAgICAgICAgdGhpcy5fZGF0YVJlYWRlciA9IF9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlcihlKTtcbiAgICB9XG4gICAgc2V0KGUsIHQsIG4pIHtcbiAgICAgICAgdGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCk7XG4gICAgICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdGhpcy5fZmlyZXN0b3JlKSwgaSA9IF9fUFJJVkFURV9hcHBseUZpcmVzdG9yZURhdGFDb252ZXJ0ZXIoci5jb252ZXJ0ZXIsIHQsIG4pLCBzID0gX19QUklWQVRFX3BhcnNlU2V0RGF0YSh0aGlzLl9kYXRhUmVhZGVyLCBcIldyaXRlQmF0Y2guc2V0XCIsIHIuX2tleSwgaSwgbnVsbCAhPT0gci5jb252ZXJ0ZXIsIG4pO1xuICAgICAgICByZXR1cm4gdGhpcy5fbXV0YXRpb25zLnB1c2gocy50b011dGF0aW9uKHIuX2tleSwgUHJlY29uZGl0aW9uLm5vbmUoKSkpLCB0aGlzO1xuICAgIH1cbiAgICB1cGRhdGUoZSwgdCwgbiwgLi4ucikge1xuICAgICAgICB0aGlzLl92ZXJpZnlOb3RDb21taXR0ZWQoKTtcbiAgICAgICAgY29uc3QgaSA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpO1xuICAgICAgICAvLyBGb3IgQ29tcGF0IHR5cGVzLCB3ZSBoYXZlIHRvIFwiZXh0cmFjdFwiIHRoZSB1bmRlcmx5aW5nIHR5cGVzIGJlZm9yZVxuICAgICAgICAvLyBwZXJmb3JtaW5nIHZhbGlkYXRpb24uXG4gICAgICAgICAgICAgICAgbGV0IHM7XG4gICAgICAgIHJldHVybiBzID0gXCJzdHJpbmdcIiA9PSB0eXBlb2YgKHQgPSB1dGlsLmdldE1vZHVsYXJJbnN0YW5jZSh0KSkgfHwgdCBpbnN0YW5jZW9mIEZpZWxkUGF0aCA/IF9fUFJJVkFURV9wYXJzZVVwZGF0ZVZhcmFyZ3ModGhpcy5fZGF0YVJlYWRlciwgXCJXcml0ZUJhdGNoLnVwZGF0ZVwiLCBpLl9rZXksIHQsIG4sIHIpIDogX19QUklWQVRFX3BhcnNlVXBkYXRlRGF0YSh0aGlzLl9kYXRhUmVhZGVyLCBcIldyaXRlQmF0Y2gudXBkYXRlXCIsIGkuX2tleSwgdCksIFxuICAgICAgICB0aGlzLl9tdXRhdGlvbnMucHVzaChzLnRvTXV0YXRpb24oaS5fa2V5LCBQcmVjb25kaXRpb24uZXhpc3RzKCEwKSkpLCB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIHRoZSBkb2N1bWVudCByZWZlcnJlZCB0byBieSB0aGUgcHJvdmlkZWQge0BsaW5rIERvY3VtZW50UmVmZXJlbmNlfS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBkb2N1bWVudFJlZiAtIEEgcmVmZXJlbmNlIHRvIHRoZSBkb2N1bWVudCB0byBiZSBkZWxldGVkLlxuICAgICAqIEByZXR1cm5zIFRoaXMgYFdyaXRlQmF0Y2hgIGluc3RhbmNlLiBVc2VkIGZvciBjaGFpbmluZyBtZXRob2QgY2FsbHMuXG4gICAgICovICAgIGRlbGV0ZShlKSB7XG4gICAgICAgIHRoaXMuX3ZlcmlmeU5vdENvbW1pdHRlZCgpO1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHRoaXMuX2ZpcmVzdG9yZSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9tdXRhdGlvbnMgPSB0aGlzLl9tdXRhdGlvbnMuY29uY2F0KG5ldyBfX1BSSVZBVEVfRGVsZXRlTXV0YXRpb24odC5fa2V5LCBQcmVjb25kaXRpb24ubm9uZSgpKSksIFxuICAgICAgICB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21taXRzIGFsbCBvZiB0aGUgd3JpdGVzIGluIHRoaXMgd3JpdGUgYmF0Y2ggYXMgYSBzaW5nbGUgYXRvbWljIHVuaXQuXG4gICAgICpcbiAgICAgKiBUaGUgcmVzdWx0IG9mIHRoZXNlIHdyaXRlcyB3aWxsIG9ubHkgYmUgcmVmbGVjdGVkIGluIGRvY3VtZW50IHJlYWRzIHRoYXRcbiAgICAgKiBvY2N1ciBhZnRlciB0aGUgcmV0dXJuZWQgcHJvbWlzZSByZXNvbHZlcy4gSWYgdGhlIGNsaWVudCBpcyBvZmZsaW5lLCB0aGVcbiAgICAgKiB3cml0ZSBmYWlscy4gSWYgeW91IHdvdWxkIGxpa2UgdG8gc2VlIGxvY2FsIG1vZGlmaWNhdGlvbnMgb3IgYnVmZmVyIHdyaXRlc1xuICAgICAqIHVudGlsIHRoZSBjbGllbnQgaXMgb25saW5lLCB1c2UgdGhlIGZ1bGwgRmlyZXN0b3JlIFNESy5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIEEgYFByb21pc2VgIHJlc29sdmVkIG9uY2UgYWxsIG9mIHRoZSB3cml0ZXMgaW4gdGhlIGJhdGNoIGhhdmUgYmVlblxuICAgICAqIHN1Y2Nlc3NmdWxseSB3cml0dGVuIHRvIHRoZSBiYWNrZW5kIGFzIGFuIGF0b21pYyB1bml0IChub3RlIHRoYXQgaXQgd29uJ3RcbiAgICAgKiByZXNvbHZlIHdoaWxlIHlvdSdyZSBvZmZsaW5lKS5cbiAgICAgKi8gICAgY29tbWl0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmVyaWZ5Tm90Q29tbWl0dGVkKCksIHRoaXMuX2NvbW1pdHRlZCA9ICEwLCB0aGlzLl9tdXRhdGlvbnMubGVuZ3RoID4gMCA/IHRoaXMuX2NvbW1pdEhhbmRsZXIodGhpcy5fbXV0YXRpb25zKSA6IFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICBfdmVyaWZ5Tm90Q29tbWl0dGVkKCkge1xuICAgICAgICBpZiAodGhpcy5fY29tbWl0dGVkKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5GQUlMRURfUFJFQ09ORElUSU9OLCBcIkEgd3JpdGUgYmF0Y2ggY2FuIG5vIGxvbmdlciBiZSB1c2VkIGFmdGVyIGNvbW1pdCgpIGhhcyBiZWVuIGNhbGxlZC5cIik7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdCkge1xuICAgIGlmICgoZSA9IHV0aWwuZ2V0TW9kdWxhckluc3RhbmNlKGUpKS5maXJlc3RvcmUgIT09IHQpIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiUHJvdmlkZWQgZG9jdW1lbnQgcmVmZXJlbmNlIGlzIGZyb20gYSBkaWZmZXJlbnQgRmlyZXN0b3JlIGluc3RhbmNlLlwiKTtcbiAgICByZXR1cm4gZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8vIFRPRE8obXJzY2htaWR0KSBDb25zaWRlciB1c2luZyBgQmFzZVRyYW5zYWN0aW9uYCBhcyB0aGUgYmFzZSBjbGFzcyBpbiB0aGVcbi8vIGxlZ2FjeSBTREsuXG4vKipcbiAqIEEgcmVmZXJlbmNlIHRvIGEgdHJhbnNhY3Rpb24uXG4gKlxuICogVGhlIGBUcmFuc2FjdGlvbmAgb2JqZWN0IHBhc3NlZCB0byBhIHRyYW5zYWN0aW9uJ3MgYHVwZGF0ZUZ1bmN0aW9uYCBwcm92aWRlc1xuICogdGhlIG1ldGhvZHMgdG8gcmVhZCBhbmQgd3JpdGUgZGF0YSB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uIGNvbnRleHQuIFNlZVxuICoge0BsaW5rIHJ1blRyYW5zYWN0aW9ufS5cbiAqL1xuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQSByZWZlcmVuY2UgdG8gYSB0cmFuc2FjdGlvbi5cbiAqXG4gKiBUaGUgYFRyYW5zYWN0aW9uYCBvYmplY3QgcGFzc2VkIHRvIGEgdHJhbnNhY3Rpb24ncyBgdXBkYXRlRnVuY3Rpb25gIHByb3ZpZGVzXG4gKiB0aGUgbWV0aG9kcyB0byByZWFkIGFuZCB3cml0ZSBkYXRhIHdpdGhpbiB0aGUgdHJhbnNhY3Rpb24gY29udGV4dC4gU2VlXG4gKiB7QGxpbmsgcnVuVHJhbnNhY3Rpb259LlxuICovXG5jbGFzcyBUcmFuc2FjdGlvbiBleHRlbmRzIGNsYXNzIFRyYW5zYWN0aW9uJDEge1xuICAgIC8qKiBAaGlkZWNvbnN0cnVjdG9yICovXG4gICAgY29uc3RydWN0b3IoZSwgdCkge1xuICAgICAgICB0aGlzLl9maXJlc3RvcmUgPSBlLCB0aGlzLl90cmFuc2FjdGlvbiA9IHQsIHRoaXMuX2RhdGFSZWFkZXIgPSBfX1BSSVZBVEVfbmV3VXNlckRhdGFSZWFkZXIoZSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIHRoZSBkb2N1bWVudCByZWZlcmVuY2VkIGJ5IHRoZSBwcm92aWRlZCB7QGxpbmsgRG9jdW1lbnRSZWZlcmVuY2V9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50UmVmIC0gQSByZWZlcmVuY2UgdG8gdGhlIGRvY3VtZW50IHRvIGJlIHJlYWQuXG4gICAgICogQHJldHVybnMgQSBgRG9jdW1lbnRTbmFwc2hvdGAgd2l0aCB0aGUgcmVhZCBkYXRhLlxuICAgICAqLyAgICBnZXQoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHRoaXMuX2ZpcmVzdG9yZSksIG4gPSBuZXcgX19QUklWQVRFX0xpdGVVc2VyRGF0YVdyaXRlcih0aGlzLl9maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24ubG9va3VwKFsgdC5fa2V5IF0pLnRoZW4oKGUgPT4ge1xuICAgICAgICAgICAgaWYgKCFlIHx8IDEgIT09IGUubGVuZ3RoKSByZXR1cm4gZmFpbCgpO1xuICAgICAgICAgICAgY29uc3QgciA9IGVbMF07XG4gICAgICAgICAgICBpZiAoci5pc0ZvdW5kRG9jdW1lbnQoKSkgcmV0dXJuIG5ldyBEb2N1bWVudFNuYXBzaG90JDEodGhpcy5fZmlyZXN0b3JlLCBuLCByLmtleSwgciwgdC5jb252ZXJ0ZXIpO1xuICAgICAgICAgICAgaWYgKHIuaXNOb0RvY3VtZW50KCkpIHJldHVybiBuZXcgRG9jdW1lbnRTbmFwc2hvdCQxKHRoaXMuX2ZpcmVzdG9yZSwgbiwgdC5fa2V5LCBudWxsLCB0LmNvbnZlcnRlcik7XG4gICAgICAgICAgICB0aHJvdyBmYWlsKCk7XG4gICAgICAgIH0pKTtcbiAgICB9XG4gICAgc2V0KGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpLCBpID0gX19QUklWQVRFX2FwcGx5RmlyZXN0b3JlRGF0YUNvbnZlcnRlcihyLmNvbnZlcnRlciwgdCwgbiksIHMgPSBfX1BSSVZBVEVfcGFyc2VTZXREYXRhKHRoaXMuX2RhdGFSZWFkZXIsIFwiVHJhbnNhY3Rpb24uc2V0XCIsIHIuX2tleSwgaSwgbnVsbCAhPT0gci5jb252ZXJ0ZXIsIG4pO1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uc2V0KHIuX2tleSwgcyksIHRoaXM7XG4gICAgfVxuICAgIHVwZGF0ZShlLCB0LCBuLCAuLi5yKSB7XG4gICAgICAgIGNvbnN0IGkgPSBfX1BSSVZBVEVfdmFsaWRhdGVSZWZlcmVuY2UoZSwgdGhpcy5fZmlyZXN0b3JlKTtcbiAgICAgICAgLy8gRm9yIENvbXBhdCB0eXBlcywgd2UgaGF2ZSB0byBcImV4dHJhY3RcIiB0aGUgdW5kZXJseWluZyB0eXBlcyBiZWZvcmVcbiAgICAgICAgLy8gcGVyZm9ybWluZyB2YWxpZGF0aW9uLlxuICAgICAgICAgICAgICAgIGxldCBzO1xuICAgICAgICByZXR1cm4gcyA9IFwic3RyaW5nXCIgPT0gdHlwZW9mICh0ID0gdXRpbC5nZXRNb2R1bGFySW5zdGFuY2UodCkpIHx8IHQgaW5zdGFuY2VvZiBGaWVsZFBhdGggPyBfX1BSSVZBVEVfcGFyc2VVcGRhdGVWYXJhcmdzKHRoaXMuX2RhdGFSZWFkZXIsIFwiVHJhbnNhY3Rpb24udXBkYXRlXCIsIGkuX2tleSwgdCwgbiwgcikgOiBfX1BSSVZBVEVfcGFyc2VVcGRhdGVEYXRhKHRoaXMuX2RhdGFSZWFkZXIsIFwiVHJhbnNhY3Rpb24udXBkYXRlXCIsIGkuX2tleSwgdCksIFxuICAgICAgICB0aGlzLl90cmFuc2FjdGlvbi51cGRhdGUoaS5fa2V5LCBzKSwgdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyB0aGUgZG9jdW1lbnQgcmVmZXJyZWQgdG8gYnkgdGhlIHByb3ZpZGVkIHtAbGluayBEb2N1bWVudFJlZmVyZW5jZX0uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gZG9jdW1lbnRSZWYgLSBBIHJlZmVyZW5jZSB0byB0aGUgZG9jdW1lbnQgdG8gYmUgZGVsZXRlZC5cbiAgICAgKiBAcmV0dXJucyBUaGlzIGBUcmFuc2FjdGlvbmAgaW5zdGFuY2UuIFVzZWQgZm9yIGNoYWluaW5nIG1ldGhvZCBjYWxscy5cbiAgICAgKi8gICAgZGVsZXRlKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IF9fUFJJVkFURV92YWxpZGF0ZVJlZmVyZW5jZShlLCB0aGlzLl9maXJlc3RvcmUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fdHJhbnNhY3Rpb24uZGVsZXRlKHQuX2tleSksIHRoaXM7XG4gICAgfVxufSB7XG4gICAgLy8gVGhpcyBjbGFzcyBpbXBsZW1lbnRzIHRoZSBzYW1lIGxvZ2ljIGFzIHRoZSBUcmFuc2FjdGlvbiBBUEkgaW4gdGhlIExpdGUgU0RLXG4gICAgLy8gYnV0IGlzIHN1YmNsYXNzZWQgaW4gb3JkZXIgdG8gcmV0dXJuIGl0cyBvd24gRG9jdW1lbnRTbmFwc2hvdCB0eXBlcy5cbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUsIHQpIHtcbiAgICAgICAgc3VwZXIoZSwgdCksIHRoaXMuX2ZpcmVzdG9yZSA9IGU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlYWRzIHRoZSBkb2N1bWVudCByZWZlcmVuY2VkIGJ5IHRoZSBwcm92aWRlZCB7QGxpbmsgRG9jdW1lbnRSZWZlcmVuY2V9LlxuICAgICAqXG4gICAgICogQHBhcmFtIGRvY3VtZW50UmVmIC0gQSByZWZlcmVuY2UgdG8gdGhlIGRvY3VtZW50IHRvIGJlIHJlYWQuXG4gICAgICogQHJldHVybnMgQSBgRG9jdW1lbnRTbmFwc2hvdGAgd2l0aCB0aGUgcmVhZCBkYXRhLlxuICAgICAqLyAgICBnZXQoZSkge1xuICAgICAgICBjb25zdCB0ID0gX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlKGUsIHRoaXMuX2ZpcmVzdG9yZSksIG4gPSBuZXcgX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyKHRoaXMuX2ZpcmVzdG9yZSk7XG4gICAgICAgIHJldHVybiBzdXBlci5nZXQoZSkudGhlbigoZSA9PiBuZXcgRG9jdW1lbnRTbmFwc2hvdCh0aGlzLl9maXJlc3RvcmUsIG4sIHQuX2tleSwgZS5fZG9jdW1lbnQsIG5ldyBTbmFwc2hvdE1ldGFkYXRhKFxuICAgICAgICAvKiBoYXNQZW5kaW5nV3JpdGVzPSAqLyAhMSwgXG4gICAgICAgIC8qIGZyb21DYWNoZT0gKi8gITEpLCB0LmNvbnZlcnRlcikpKTtcbiAgICB9XG59XG5cbi8qKlxuICogRXhlY3V0ZXMgdGhlIGdpdmVuIGB1cGRhdGVGdW5jdGlvbmAgYW5kIHRoZW4gYXR0ZW1wdHMgdG8gY29tbWl0IHRoZSBjaGFuZ2VzXG4gKiBhcHBsaWVkIHdpdGhpbiB0aGUgdHJhbnNhY3Rpb24uIElmIGFueSBkb2N1bWVudCByZWFkIHdpdGhpbiB0aGUgdHJhbnNhY3Rpb25cbiAqIGhhcyBjaGFuZ2VkLCBDbG91ZCBGaXJlc3RvcmUgcmV0cmllcyB0aGUgYHVwZGF0ZUZ1bmN0aW9uYC4gSWYgaXQgZmFpbHMgdG9cbiAqIGNvbW1pdCBhZnRlciA1IGF0dGVtcHRzLCB0aGUgdHJhbnNhY3Rpb24gZmFpbHMuXG4gKlxuICogVGhlIG1heGltdW0gbnVtYmVyIG9mIHdyaXRlcyBhbGxvd2VkIGluIGEgc2luZ2xlIHRyYW5zYWN0aW9uIGlzIDUwMC5cbiAqXG4gKiBAcGFyYW0gZmlyZXN0b3JlIC0gQSByZWZlcmVuY2UgdG8gdGhlIEZpcmVzdG9yZSBkYXRhYmFzZSB0byBydW4gdGhpc1xuICogdHJhbnNhY3Rpb24gYWdhaW5zdC5cbiAqIEBwYXJhbSB1cGRhdGVGdW5jdGlvbiAtIFRoZSBmdW5jdGlvbiB0byBleGVjdXRlIHdpdGhpbiB0aGUgdHJhbnNhY3Rpb25cbiAqIGNvbnRleHQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEFuIG9wdGlvbnMgb2JqZWN0IHRvIGNvbmZpZ3VyZSBtYXhpbXVtIG51bWJlciBvZiBhdHRlbXB0cyB0b1xuICogY29tbWl0LlxuICogQHJldHVybnMgSWYgdGhlIHRyYW5zYWN0aW9uIGNvbXBsZXRlZCBzdWNjZXNzZnVsbHkgb3Igd2FzIGV4cGxpY2l0bHkgYWJvcnRlZFxuICogKHRoZSBgdXBkYXRlRnVuY3Rpb25gIHJldHVybmVkIGEgZmFpbGVkIHByb21pc2UpLCB0aGUgcHJvbWlzZSByZXR1cm5lZCBieSB0aGVcbiAqIGB1cGRhdGVGdW5jdGlvbiBgaXMgcmV0dXJuZWQgaGVyZS4gT3RoZXJ3aXNlLCBpZiB0aGUgdHJhbnNhY3Rpb24gZmFpbGVkLCBhXG4gKiByZWplY3RlZCBwcm9taXNlIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgZmFpbHVyZSBlcnJvciBpcyByZXR1cm5lZC5cbiAqLyBmdW5jdGlvbiBydW5UcmFuc2FjdGlvbihlLCB0LCBuKSB7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSk7XG4gICAgY29uc3QgciA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgRGUpLCBuKTtcbiAgICAhZnVuY3Rpb24gX19QUklWQVRFX3ZhbGlkYXRlVHJhbnNhY3Rpb25PcHRpb25zKGUpIHtcbiAgICAgICAgaWYgKGUubWF4QXR0ZW1wdHMgPCAxKSB0aHJvdyBuZXcgRmlyZXN0b3JlRXJyb3IoQy5JTlZBTElEX0FSR1VNRU5ULCBcIk1heCBhdHRlbXB0cyBtdXN0IGJlIGF0IGxlYXN0IDFcIik7XG4gICAgfShyKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFRyYW5zYWN0aW9uKGUsIHQsIG4pIHtcbiAgICAgICAgY29uc3QgciA9IG5ldyBfX1BSSVZBVEVfRGVmZXJyZWQ7XG4gICAgICAgIHJldHVybiBlLmFzeW5jUXVldWUuZW5xdWV1ZUFuZEZvcmdldCgoYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaSA9IGF3YWl0IF9fUFJJVkFURV9nZXREYXRhc3RvcmUoZSk7XG4gICAgICAgICAgICBuZXcgX19QUklWQVRFX1RyYW5zYWN0aW9uUnVubmVyKGUuYXN5bmNRdWV1ZSwgaSwgbiwgdCwgcikuWGEoKTtcbiAgICAgICAgfSkpLCByLnByb21pc2U7XG4gICAgfShlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKGUpLCAobiA9PiB0KG5ldyBUcmFuc2FjdGlvbihlLCBuKSkpLCByKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmV0dXJucyBhIHNlbnRpbmVsIGZvciB1c2Ugd2l0aCB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyh1cGRhdGVEb2M6MSl9IG9yXG4gKiB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyhzZXREb2M6MSl9IHdpdGggYHttZXJnZTogdHJ1ZX1gIHRvIG1hcmsgYSBmaWVsZCBmb3IgZGVsZXRpb24uXG4gKi8gZnVuY3Rpb24gZGVsZXRlRmllbGQoKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGwoXCJkZWxldGVGaWVsZFwiKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc2VudGluZWwgdXNlZCB3aXRoIHtAbGluayBAZmlyZWJhc2UvZmlyZXN0b3JlL2xpdGUjKHNldERvYzoxKX0gb3Ige0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSModXBkYXRlRG9jOjEpfSB0b1xuICogaW5jbHVkZSBhIHNlcnZlci1nZW5lcmF0ZWQgdGltZXN0YW1wIGluIHRoZSB3cml0dGVuIGRhdGEuXG4gKi8gZnVuY3Rpb24gc2VydmVyVGltZXN0YW1wKCkge1xuICAgIHJldHVybiBuZXcgX19QUklWQVRFX1NlcnZlclRpbWVzdGFtcEZpZWxkVmFsdWVJbXBsKFwic2VydmVyVGltZXN0YW1wXCIpO1xufVxuXG4vKipcbiAqIFJldHVybnMgYSBzcGVjaWFsIHZhbHVlIHRoYXQgY2FuIGJlIHVzZWQgd2l0aCB7QGxpbmsgQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyhzZXREb2M6MSl9IG9yIHtAbGlua1xuICogQGZpcmViYXNlL2ZpcmVzdG9yZS9saXRlIyh1cGRhdGVEb2M6MSl9IHRoYXQgdGVsbHMgdGhlIHNlcnZlciB0byB1bmlvbiB0aGUgZ2l2ZW4gZWxlbWVudHMgd2l0aCBhbnkgYXJyYXlcbiAqIHZhbHVlIHRoYXQgYWxyZWFkeSBleGlzdHMgb24gdGhlIHNlcnZlci4gRWFjaCBzcGVjaWZpZWQgZWxlbWVudCB0aGF0IGRvZXNuJ3RcbiAqIGFscmVhZHkgZXhpc3QgaW4gdGhlIGFycmF5IHdpbGwgYmUgYWRkZWQgdG8gdGhlIGVuZC4gSWYgdGhlIGZpZWxkIGJlaW5nXG4gKiBtb2RpZmllZCBpcyBub3QgYWxyZWFkeSBhbiBhcnJheSBpdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggYW4gYXJyYXlcbiAqIGNvbnRhaW5pbmcgZXhhY3RseSB0aGUgc3BlY2lmaWVkIGVsZW1lbnRzLlxuICpcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byB1bmlvbiBpbnRvIHRoZSBhcnJheS5cbiAqIEByZXR1cm5zIFRoZSBgRmllbGRWYWx1ZWAgc2VudGluZWwgZm9yIHVzZSBpbiBhIGNhbGwgdG8gYHNldERvYygpYCBvclxuICogYHVwZGF0ZURvYygpYC5cbiAqLyBmdW5jdGlvbiBhcnJheVVuaW9uKC4uLmUpIHtcbiAgICAvLyBOT1RFOiBXZSBkb24ndCBhY3R1YWxseSBwYXJzZSB0aGUgZGF0YSB1bnRpbCBpdCdzIHVzZWQgaW4gc2V0KCkgb3JcbiAgICAvLyB1cGRhdGUoKSBzaW5jZSB3ZSdkIG5lZWQgdGhlIEZpcmVzdG9yZSBpbnN0YW5jZSB0byBkbyB0aGlzLlxuICAgIHJldHVybiBuZXcgX19QUklWQVRFX0FycmF5VW5pb25GaWVsZFZhbHVlSW1wbChcImFycmF5VW5pb25cIiwgZSk7XG59XG5cbi8qKlxuICogUmV0dXJucyBhIHNwZWNpYWwgdmFsdWUgdGhhdCBjYW4gYmUgdXNlZCB3aXRoIHtAbGluayAoc2V0RG9jOjEpfSBvciB7QGxpbmtcbiAqIHVwZGF0ZURvYzoxfSB0aGF0IHRlbGxzIHRoZSBzZXJ2ZXIgdG8gcmVtb3ZlIHRoZSBnaXZlbiBlbGVtZW50cyBmcm9tIGFueVxuICogYXJyYXkgdmFsdWUgdGhhdCBhbHJlYWR5IGV4aXN0cyBvbiB0aGUgc2VydmVyLiBBbGwgaW5zdGFuY2VzIG9mIGVhY2ggZWxlbWVudFxuICogc3BlY2lmaWVkIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHRoZSBhcnJheS4gSWYgdGhlIGZpZWxkIGJlaW5nIG1vZGlmaWVkIGlzIG5vdFxuICogYWxyZWFkeSBhbiBhcnJheSBpdCB3aWxsIGJlIG92ZXJ3cml0dGVuIHdpdGggYW4gZW1wdHkgYXJyYXkuXG4gKlxuICogQHBhcmFtIGVsZW1lbnRzIC0gVGhlIGVsZW1lbnRzIHRvIHJlbW92ZSBmcm9tIHRoZSBhcnJheS5cbiAqIEByZXR1cm5zIFRoZSBgRmllbGRWYWx1ZWAgc2VudGluZWwgZm9yIHVzZSBpbiBhIGNhbGwgdG8gYHNldERvYygpYCBvclxuICogYHVwZGF0ZURvYygpYFxuICovIGZ1bmN0aW9uIGFycmF5UmVtb3ZlKC4uLmUpIHtcbiAgICAvLyBOT1RFOiBXZSBkb24ndCBhY3R1YWxseSBwYXJzZSB0aGUgZGF0YSB1bnRpbCBpdCdzIHVzZWQgaW4gc2V0KCkgb3JcbiAgICAvLyB1cGRhdGUoKSBzaW5jZSB3ZSdkIG5lZWQgdGhlIEZpcmVzdG9yZSBpbnN0YW5jZSB0byBkbyB0aGlzLlxuICAgIHJldHVybiBuZXcgX19QUklWQVRFX0FycmF5UmVtb3ZlRmllbGRWYWx1ZUltcGwoXCJhcnJheVJlbW92ZVwiLCBlKTtcbn1cblxuLyoqXG4gKiBSZXR1cm5zIGEgc3BlY2lhbCB2YWx1ZSB0aGF0IGNhbiBiZSB1c2VkIHdpdGgge0BsaW5rIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSMoc2V0RG9jOjEpfSBvciB7QGxpbmtcbiAqIEBmaXJlYmFzZS9maXJlc3RvcmUvbGl0ZSModXBkYXRlRG9jOjEpfSB0aGF0IHRlbGxzIHRoZSBzZXJ2ZXIgdG8gaW5jcmVtZW50IHRoZSBmaWVsZCdzIGN1cnJlbnQgdmFsdWUgYnlcbiAqIHRoZSBnaXZlbiB2YWx1ZS5cbiAqXG4gKiBJZiBlaXRoZXIgdGhlIG9wZXJhbmQgb3IgdGhlIGN1cnJlbnQgZmllbGQgdmFsdWUgdXNlcyBmbG9hdGluZyBwb2ludFxuICogcHJlY2lzaW9uLCBhbGwgYXJpdGhtZXRpYyBmb2xsb3dzIElFRUUgNzU0IHNlbWFudGljcy4gSWYgYm90aCB2YWx1ZXMgYXJlXG4gKiBpbnRlZ2VycywgdmFsdWVzIG91dHNpZGUgb2YgSmF2YVNjcmlwdCdzIHNhZmUgbnVtYmVyIHJhbmdlXG4gKiAoYE51bWJlci5NSU5fU0FGRV9JTlRFR0VSYCB0byBgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVJgKSBhcmUgYWxzbyBzdWJqZWN0IHRvXG4gKiBwcmVjaXNpb24gbG9zcy4gRnVydGhlcm1vcmUsIG9uY2UgcHJvY2Vzc2VkIGJ5IHRoZSBGaXJlc3RvcmUgYmFja2VuZCwgYWxsXG4gKiBpbnRlZ2VyIG9wZXJhdGlvbnMgYXJlIGNhcHBlZCBiZXR3ZWVuIC0yXjYzIGFuZCAyXjYzLTEuXG4gKlxuICogSWYgdGhlIGN1cnJlbnQgZmllbGQgdmFsdWUgaXMgbm90IG9mIHR5cGUgYG51bWJlcmAsIG9yIGlmIHRoZSBmaWVsZCBkb2VzIG5vdFxuICogeWV0IGV4aXN0LCB0aGUgdHJhbnNmb3JtYXRpb24gc2V0cyB0aGUgZmllbGQgdG8gdGhlIGdpdmVuIHZhbHVlLlxuICpcbiAqIEBwYXJhbSBuIC0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBieS5cbiAqIEByZXR1cm5zIFRoZSBgRmllbGRWYWx1ZWAgc2VudGluZWwgZm9yIHVzZSBpbiBhIGNhbGwgdG8gYHNldERvYygpYCBvclxuICogYHVwZGF0ZURvYygpYFxuICovIGZ1bmN0aW9uIGluY3JlbWVudChlKSB7XG4gICAgcmV0dXJuIG5ldyBfX1BSSVZBVEVfTnVtZXJpY0luY3JlbWVudEZpZWxkVmFsdWVJbXBsKFwiaW5jcmVtZW50XCIsIGUpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBDcmVhdGVzIGEgd3JpdGUgYmF0Y2gsIHVzZWQgZm9yIHBlcmZvcm1pbmcgbXVsdGlwbGUgd3JpdGVzIGFzIGEgc2luZ2xlXG4gKiBhdG9taWMgb3BlcmF0aW9uLiBUaGUgbWF4aW11bSBudW1iZXIgb2Ygd3JpdGVzIGFsbG93ZWQgaW4gYSBzaW5nbGUge0BsaW5rIFdyaXRlQmF0Y2h9XG4gKiBpcyA1MDAuXG4gKlxuICogVW5saWtlIHRyYW5zYWN0aW9ucywgd3JpdGUgYmF0Y2hlcyBhcmUgcGVyc2lzdGVkIG9mZmxpbmUgYW5kIHRoZXJlZm9yZSBhcmVcbiAqIHByZWZlcmFibGUgd2hlbiB5b3UgZG9uJ3QgbmVlZCB0byBjb25kaXRpb24geW91ciB3cml0ZXMgb24gcmVhZCBkYXRhLlxuICpcbiAqIEByZXR1cm5zIEEge0BsaW5rIFdyaXRlQmF0Y2h9IHRoYXQgY2FuIGJlIHVzZWQgdG8gYXRvbWljYWxseSBleGVjdXRlIG11bHRpcGxlXG4gKiB3cml0ZXMuXG4gKi8gZnVuY3Rpb24gd3JpdGVCYXRjaChlKSB7XG4gICAgcmV0dXJuIGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSkpLCBuZXcgV3JpdGVCYXRjaChlLCAodCA9PiBleGVjdXRlV3JpdGUoZSwgdCkpKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjEgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi8gZnVuY3Rpb24gc2V0SW5kZXhDb25maWd1cmF0aW9uKGUsIHQpIHtcbiAgICB2YXIgbjtcbiAgICBjb25zdCByID0gZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZChlID0gX19QUklWQVRFX2Nhc3QoZSwgRmlyZXN0b3JlKSk7XG4gICAgaWYgKCFyLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyIHx8IFwibWVtb3J5XCIgPT09IChudWxsID09PSAobiA9IHIuX3VuaW5pdGlhbGl6ZWRDb21wb25lbnRzUHJvdmlkZXIpIHx8IHZvaWQgMCA9PT0gbiA/IHZvaWQgMCA6IG4uX29mZmxpbmVLaW5kKSkgXG4gICAgLy8gUE9SVElORyBOT1RFOiBXZSBkb24ndCByZXR1cm4gYW4gZXJyb3IgaWYgdGhlIHVzZXIgaGFzIG5vdCBlbmFibGVkXG4gICAgLy8gcGVyc2lzdGVuY2Ugc2luY2UgYGVuYWJsZUluZGV4ZWRkYlBlcnNpc3RlbmNlKClgIGNhbiBmYWlsIG9uIHRoZSBXZWIuXG4gICAgcmV0dXJuIF9fUFJJVkFURV9sb2dXYXJuKFwiQ2Fubm90IGVuYWJsZSBpbmRleGVzIHdoZW4gcGVyc2lzdGVuY2UgaXMgZGlzYWJsZWRcIiksIFxuICAgIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIGNvbnN0IGkgPSBmdW5jdGlvbiBfX1BSSVZBVEVfcGFyc2VJbmRleGVzKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFwic3RyaW5nXCIgPT0gdHlwZW9mIGUgPyBmdW5jdGlvbiBfX1BSSVZBVEVfdHJ5UGFyc2VKc29uKGUpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgXCJGYWlsZWQgdG8gcGFyc2UgSlNPTjogXCIgKyAobnVsbCA9PSBlID8gdm9pZCAwIDogZS5tZXNzYWdlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0oZSkgOiBlLCBuID0gW107XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHQuaW5kZXhlcykpIGZvciAoY29uc3QgZSBvZiB0LmluZGV4ZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHQgPSBfX1BSSVZBVEVfdHJ5R2V0U3RyaW5nKGUsIFwiY29sbGVjdGlvbkdyb3VwXCIpLCByID0gW107XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShlLmZpZWxkcykpIGZvciAoY29uc3QgdCBvZiBlLmZpZWxkcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyhcInNldEluZGV4Q29uZmlndXJhdGlvblwiLCBfX1BSSVZBVEVfdHJ5R2V0U3RyaW5nKHQsIFwiZmllbGRQYXRoXCIpKTtcbiAgICAgICAgICAgICAgICBcIkNPTlRBSU5TXCIgPT09IHQuYXJyYXlDb25maWcgPyByLnB1c2gobmV3IEluZGV4U2VnbWVudChlLCAyIC8qIEluZGV4S2luZC5DT05UQUlOUyAqLykpIDogXCJBU0NFTkRJTkdcIiA9PT0gdC5vcmRlciA/IHIucHVzaChuZXcgSW5kZXhTZWdtZW50KGUsIDAgLyogSW5kZXhLaW5kLkFTQ0VORElORyAqLykpIDogXCJERVNDRU5ESU5HXCIgPT09IHQub3JkZXIgJiYgci5wdXNoKG5ldyBJbmRleFNlZ21lbnQoZSwgMSAvKiBJbmRleEtpbmQuREVTQ0VORElORyAqLykpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbi5wdXNoKG5ldyBGaWVsZEluZGV4KEZpZWxkSW5kZXguVU5LTk9XTl9JRCwgdCwgciwgSW5kZXhTdGF0ZS5lbXB0eSgpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG47XG4gICAgfSh0KTtcbiAgICByZXR1cm4gX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFNldEluZGV4Q29uZmlndXJhdGlvbihyLCBpKTtcbn1cblxuZnVuY3Rpb24gX19QUklWQVRFX3RyeUdldFN0cmluZyhlLCB0KSB7XG4gICAgaWYgKFwic3RyaW5nXCIgIT0gdHlwZW9mIGVbdF0pIHRocm93IG5ldyBGaXJlc3RvcmVFcnJvcihDLklOVkFMSURfQVJHVU1FTlQsIFwiTWlzc2luZyBzdHJpbmcgdmFsdWUgZm9yOiBcIiArIHQpO1xuICAgIHJldHVybiBlW3RdO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBIGBQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXJgIGZvciBjb25maWd1cmluZyBwZXJzaXN0ZW50IGNhY2hlIGluZGV4ZXMgdXNlZFxuICogZm9yIGxvY2FsIHF1ZXJ5IGV4ZWN1dGlvbi5cbiAqXG4gKiBUbyB1c2UsIGNhbGwgYGdldFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlcigpYCB0byBnZXQgYW4gaW5zdGFuY2UuXG4gKi8gY2xhc3MgUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyIHtcbiAgICAvKiogQGhpZGVjb25zdHJ1Y3RvciAqL1xuICAgIGNvbnN0cnVjdG9yKGUpIHtcbiAgICAgICAgdGhpcy5fY2xpZW50ID0gZSwgXG4gICAgICAgIC8qKiBBIHR5cGUgc3RyaW5nIHRvIHVuaXF1ZWx5IGlkZW50aWZ5IGluc3RhbmNlcyBvZiB0aGlzIGNsYXNzLiAqL1xuICAgICAgICB0aGlzLnR5cGUgPSBcIlBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlclwiO1xuICAgIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBQZXJzaXN0ZW50Q2FjaGUgSW5kZXggTWFuYWdlciB1c2VkIGJ5IHRoZSBnaXZlbiBgRmlyZXN0b3JlYFxuICogb2JqZWN0LlxuICpcbiAqIEByZXR1cm4gVGhlIGBQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXJgIGluc3RhbmNlLCBvciBgbnVsbGAgaWYgbG9jYWxcbiAqIHBlcnNpc3RlbnQgc3RvcmFnZSBpcyBub3QgaW4gdXNlLlxuICovIGZ1bmN0aW9uIGdldFBlcnNpc3RlbnRDYWNoZUluZGV4TWFuYWdlcihlKSB7XG4gICAgdmFyIHQ7XG4gICAgZSA9IF9fUFJJVkFURV9jYXN0KGUsIEZpcmVzdG9yZSk7XG4gICAgY29uc3QgbiA9IENlLmdldChlKTtcbiAgICBpZiAobikgcmV0dXJuIG47XG4gICAgY29uc3QgciA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoZSk7XG4gICAgaWYgKFwicGVyc2lzdGVudFwiICE9PSAobnVsbCA9PT0gKHQgPSByLl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyKSB8fCB2b2lkIDAgPT09IHQgPyB2b2lkIDAgOiB0Ll9vZmZsaW5lS2luZCkpIHJldHVybiBudWxsO1xuICAgIGNvbnN0IGkgPSBuZXcgUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyKHIpO1xuICAgIHJldHVybiBDZS5zZXQoZSwgaSksIGk7XG59XG5cbi8qKlxuICogRW5hYmxlcyB0aGUgU0RLIHRvIGNyZWF0ZSBwZXJzaXN0ZW50IGNhY2hlIGluZGV4ZXMgYXV0b21hdGljYWxseSBmb3IgbG9jYWxcbiAqIHF1ZXJ5IGV4ZWN1dGlvbiB3aGVuIHRoZSBTREsgYmVsaWV2ZXMgY2FjaGUgaW5kZXhlcyBjYW4gaGVscCBpbXByb3ZlXG4gKiBwZXJmb3JtYW5jZS5cbiAqXG4gKiBUaGlzIGZlYXR1cmUgaXMgZGlzYWJsZWQgYnkgZGVmYXVsdC5cbiAqLyBmdW5jdGlvbiBlbmFibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbihlKSB7XG4gICAgX19QUklWQVRFX3NldFBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uRW5hYmxlZChlLCAhMCk7XG59XG5cbi8qKlxuICogU3RvcHMgY3JlYXRpbmcgcGVyc2lzdGVudCBjYWNoZSBpbmRleGVzIGF1dG9tYXRpY2FsbHkgZm9yIGxvY2FsIHF1ZXJ5XG4gKiBleGVjdXRpb24uIFRoZSBpbmRleGVzIHdoaWNoIGhhdmUgYmVlbiBjcmVhdGVkIGJ5IGNhbGxpbmdcbiAqIGBlbmFibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbigpYCBzdGlsbCB0YWtlIGVmZmVjdC5cbiAqLyBmdW5jdGlvbiBkaXNhYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb24oZSkge1xuICAgIF9fUFJJVkFURV9zZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZSwgITEpO1xufVxuXG4vKipcbiAqIFJlbW92ZXMgYWxsIHBlcnNpc3RlbnQgY2FjaGUgaW5kZXhlcy5cbiAqXG4gKiBQbGVhc2Ugbm90ZSB0aGlzIGZ1bmN0aW9uIHdpbGwgYWxzbyBkZWxldGVzIGluZGV4ZXMgZ2VuZXJhdGVkIGJ5XG4gKiBgc2V0SW5kZXhDb25maWd1cmF0aW9uKClgLCB3aGljaCBpcyBkZXByZWNhdGVkLlxuICovIGZ1bmN0aW9uIGRlbGV0ZUFsbFBlcnNpc3RlbnRDYWNoZUluZGV4ZXMoZSkge1xuICAgIGUuX2NsaWVudC52ZXJpZnlOb3RUZXJtaW5hdGVkKCk7XG4gICAgX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudERlbGV0ZUFsbEZpZWxkSW5kZXhlcyhlLl9jbGllbnQpLnRoZW4oKGUgPT4gX19QUklWQVRFX2xvZ0RlYnVnKFwiZGVsZXRpbmcgYWxsIHBlcnNpc3RlbnQgY2FjaGUgaW5kZXhlcyBzdWNjZWVkZWRcIikpKS5jYXRjaCgoZSA9PiBfX1BSSVZBVEVfbG9nV2FybihcImRlbGV0aW5nIGFsbCBwZXJzaXN0ZW50IGNhY2hlIGluZGV4ZXMgZmFpbGVkXCIsIGUpKSk7XG59XG5cbmZ1bmN0aW9uIF9fUFJJVkFURV9zZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQoZSwgdCkge1xuICAgIGUuX2NsaWVudC52ZXJpZnlOb3RUZXJtaW5hdGVkKCk7XG4gICAgX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFNldFBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uRW5hYmxlZChlLl9jbGllbnQsIHQpLnRoZW4oKGUgPT4gX19QUklWQVRFX2xvZ0RlYnVnKGBzZXR0aW5nIHBlcnNpc3RlbnQgY2FjaGUgaW5kZXggYXV0byBjcmVhdGlvbiBpc0VuYWJsZWQ9JHt0fSBzdWNjZWVkZWRgKSkpLmNhdGNoKChlID0+IF9fUFJJVkFURV9sb2dXYXJuKGBzZXR0aW5nIHBlcnNpc3RlbnQgY2FjaGUgaW5kZXggYXV0byBjcmVhdGlvbiBpc0VuYWJsZWQ9JHt0fSBmYWlsZWRgLCBlKSkpO1xufVxuXG4vKipcbiAqIE1hcHMgYEZpcmVzdG9yZWAgaW5zdGFuY2VzIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAqIGBQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXJgIGluc3RhbmNlcy5cbiAqXG4gKiBVc2UgYSBgV2Vha01hcGAgc28gdGhhdCB0aGUgbWFwcGluZyB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgZHJvcHBlZCB3aGVuIHRoZVxuICogYEZpcmVzdG9yZWAgaW5zdGFuY2UgaXMgZ2FyYmFnZSBjb2xsZWN0ZWQuIFRoaXMgZW11bGF0ZXMgYSBwcml2YXRlIG1lbWJlclxuICogYXMgZGVzY3JpYmVkIGluIGh0dHBzOi8vZ29vLmdsZS80NTR5dnVnLlxuICovIGNvbnN0IENlID0gbmV3IFdlYWtNYXA7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEBpbnRlcm5hbFxuICogQHByaXZhdGVcbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIGlzIGZvciBpbnRlcm5hbCB1c2Ugb25seS5cbiAqXG4gKiBSZXR1cm5zIHRoZSBgUXVlcnlUYXJnZXRgIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBnaXZlbiBxdWVyeS4gUmV0dXJucyBgbnVsbGBcbiAqIGlmIHRoZSBGaXJlc3RvcmUgY2xpZW50IGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gcXVlcnkgaGFzIG5vdCBiZWVuXG4gKiBpbml0aWFsaXplZCBvciBoYXMgYmVlbiB0ZXJtaW5hdGVkLlxuICpcbiAqIEBwYXJhbSBxdWVyeSAtIFRoZSBRdWVyeSB0byBjb252ZXJ0IHRvIHByb3RvIHJlcHJlc2VudGF0aW9uLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuZnVuY3Rpb24gX2ludGVybmFsUXVlcnlUb1Byb3RvUXVlcnlUYXJnZXQoZSkge1xuICAgIHZhciB0O1xuICAgIGNvbnN0IG4gPSBudWxsID09PSAodCA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQoX19QUklWQVRFX2Nhc3QoZS5maXJlc3RvcmUsIEZpcmVzdG9yZSkpLl9vbmxpbmVDb21wb25lbnRzKSB8fCB2b2lkIDAgPT09IHQgPyB2b2lkIDAgOiB0LmRhdGFzdG9yZS5zZXJpYWxpemVyO1xuICAgIHJldHVybiB2b2lkIDAgPT09IG4gPyBudWxsIDogX19QUklWQVRFX3RvUXVlcnlUYXJnZXQobiwgX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQoZS5fcXVlcnkpKS5fdDtcbn1cblxuLyoqXG4gKiBAaW50ZXJuYWxcbiAqIEBwcml2YXRlXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBmb3IgaW50ZXJuYWwgdXNlIG9ubHkuXG4gKlxuICogUmV0dXJucyBgUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3RgIHdoaWNoIGNvbnRhaW5zIHRoZSBwcm90byByZXByZXNlbnRhdGlvblxuICogb2YgdGhlIGdpdmVuIGFnZ3JlZ2F0aW9uIHF1ZXJ5IHJlcXVlc3QuIFJldHVybnMgbnVsbCBpZiB0aGUgRmlyZXN0b3JlIGNsaWVudFxuICogYXNzb2NpYXRlZCB3aXRoIHRoZSBnaXZlbiBxdWVyeSBoYXMgbm90IGJlZW4gaW5pdGlhbGl6ZWQgb3IgaGFzIGJlZW5cbiAqIHRlcm1pbmF0ZWQuXG4gKlxuICogQHBhcmFtIHF1ZXJ5IC0gVGhlIFF1ZXJ5IHRvIGNvbnZlcnQgdG8gcHJvdG8gcmVwcmVzZW50YXRpb24uXG4gKiBAcGFyYW0gYWdncmVnYXRlU3BlYyAtIFRoZSBzZXQgb2YgYWdncmVnYXRpb25zIGFuZCB0aGVpciBhbGlhc2VzLlxuICovIGZ1bmN0aW9uIF9pbnRlcm5hbEFnZ3JlZ2F0aW9uUXVlcnlUb1Byb3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QoZSwgdCkge1xuICAgIHZhciBuO1xuICAgIGNvbnN0IHIgPSBfX1BSSVZBVEVfbWFwVG9BcnJheSh0LCAoKGUsIHQpID0+IG5ldyBfX1BSSVZBVEVfQWdncmVnYXRlSW1wbCh0LCBlLmFnZ3JlZ2F0ZVR5cGUsIGUuX2ludGVybmFsRmllbGRQYXRoKSkpLCBpID0gbnVsbCA9PT0gKG4gPSBlbnN1cmVGaXJlc3RvcmVDb25maWd1cmVkKF9fUFJJVkFURV9jYXN0KGUuZmlyZXN0b3JlLCBGaXJlc3RvcmUpKS5fb25saW5lQ29tcG9uZW50cykgfHwgdm9pZCAwID09PSBuID8gdm9pZCAwIDogbi5kYXRhc3RvcmUuc2VyaWFsaXplcjtcbiAgICByZXR1cm4gdm9pZCAwID09PSBpID8gbnVsbCA6IF9fUFJJVkFURV90b1J1bkFnZ3JlZ2F0aW9uUXVlcnlSZXF1ZXN0KGksIF9fUFJJVkFURV9xdWVyeVRvQWdncmVnYXRlVGFyZ2V0KGUuX3F1ZXJ5KSwgciwgXG4gICAgLyogc2tpcEFsaWFzaW5nPSAqLyAhMCkucmVxdWVzdDtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMjMgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogVGVzdGluZyBob29rcyBmb3IgdXNlIGJ5IEZpcmVzdG9yZSdzIGludGVncmF0aW9uIHRlc3Qgc3VpdGUgdG8gcmVhY2ggaW50byB0aGVcbiAqIFNESyBpbnRlcm5hbHMgdG8gdmFsaWRhdGUgbG9naWMgYW5kIGJlaGF2aW9yIHRoYXQgaXMgbm90IHZpc2libGUgZnJvbSB0aGVcbiAqIHB1YmxpYyBBUEkgc3VyZmFjZS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqLyBjbGFzcyBUZXN0aW5nSG9va3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJpbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBzaG91bGQgbm90IGJlIGNyZWF0ZWRcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVycyBhIGNhbGxiYWNrIHRvIGJlIG5vdGlmaWVkIHdoZW4gYW4gZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaFxuICAgICAqIG9jY3VycyBpbiB0aGUgV2F0Y2ggbGlzdGVuIHN0cmVhbS5cbiAgICAgKlxuICAgICAqIFRoZSByZWxhdGl2ZSBvcmRlciBpbiB3aGljaCBjYWxsYmFja3MgYXJlIG5vdGlmaWVkIGlzIHVuc3BlY2lmaWVkOyBkbyBub3RcbiAgICAgKiByZWx5IG9uIGFueSBwYXJ0aWN1bGFyIG9yZGVyaW5nLiBJZiBhIGdpdmVuIGNhbGxiYWNrIGlzIHJlZ2lzdGVyZWQgbXVsdGlwbGVcbiAgICAgKiB0aW1lcyB0aGVuIGl0IHdpbGwgYmUgbm90aWZpZWQgbXVsdGlwbGUgdGltZXMsIG9uY2UgcGVyIHJlZ2lzdHJhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjYWxsYmFjayB0aGUgY2FsbGJhY2sgdG8gaW52b2tlIHVwb24gZXhpc3RlbmNlIGZpbHRlciBtaXNtYXRjaC5cbiAgICAgKlxuICAgICAqIEByZXR1cm4gYSBmdW5jdGlvbiB0aGF0LCB3aGVuIGNhbGxlZCwgdW5yZWdpc3RlcnMgdGhlIGdpdmVuIGNhbGxiYWNrOyBvbmx5XG4gICAgICogdGhlIGZpcnN0IGludm9jYXRpb24gb2YgdGhlIHJldHVybmVkIGZ1bmN0aW9uIGRvZXMgYW55dGhpbmc7IGFsbCBzdWJzZXF1ZW50XG4gICAgICogaW52b2NhdGlvbnMgZG8gbm90aGluZy5cbiAgICAgKi8gICAgc3RhdGljIG9uRXhpc3RlbmNlRmlsdGVyTWlzbWF0Y2goZSkge1xuICAgICAgICByZXR1cm4gX19QUklWQVRFX1Rlc3RpbmdIb29rc1NwaUltcGwuaW5zdGFuY2Uub25FeGlzdGVuY2VGaWx0ZXJNaXNtYXRjaChlKTtcbiAgICB9XG59XG5cbi8qKlxuICogVGhlIGltcGxlbWVudGF0aW9uIG9mIGBUZXN0aW5nSG9va3NTcGlgLlxuICovIGNsYXNzIF9fUFJJVkFURV9UZXN0aW5nSG9va3NTcGlJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5PdSA9IG5ldyBNYXA7XG4gICAgfVxuICAgIHN0YXRpYyBnZXQgaW5zdGFuY2UoKSB7XG4gICAgICAgIHJldHVybiB2ZSB8fCAodmUgPSBuZXcgX19QUklWQVRFX1Rlc3RpbmdIb29rc1NwaUltcGwsIGZ1bmN0aW9uIF9fUFJJVkFURV9zZXRUZXN0aW5nSG9va3NTcGkoZSkge1xuICAgICAgICAgICAgaWYgKGhlKSB0aHJvdyBuZXcgRXJyb3IoXCJhIFRlc3RpbmdIb29rc1NwaSBpbnN0YW5jZSBpcyBhbHJlYWR5IHNldFwiKTtcbiAgICAgICAgICAgIGhlID0gZTtcbiAgICAgICAgfSh2ZSkpLCB2ZTtcbiAgICB9XG4gICAgZXQoZSkge1xuICAgICAgICB0aGlzLk91LmZvckVhY2goKHQgPT4gdChlKSkpO1xuICAgIH1cbiAgICBvbkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoKGUpIHtcbiAgICAgICAgY29uc3QgdCA9IFN5bWJvbCgpLCBuID0gdGhpcy5PdTtcbiAgICAgICAgcmV0dXJuIG4uc2V0KHQsIGUpLCAoKSA9PiBuLmRlbGV0ZSh0KTtcbiAgICB9XG59XG5cbmxldCB2ZSA9IG51bGw7XG5cbi8qKlxuICogQ2xvdWQgRmlyZXN0b3JlXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi8gIWZ1bmN0aW9uIF9fUFJJVkFURV9yZWdpc3RlckZpcmVzdG9yZShlLCB0ID0gITApIHtcbiAgICAhZnVuY3Rpb24gX19QUklWQVRFX3NldFNES1ZlcnNpb24oZSkge1xuICAgICAgICBiID0gZTtcbiAgICB9KGFwcC5TREtfVkVSU0lPTiksIGFwcC5fcmVnaXN0ZXJDb21wb25lbnQobmV3IGNvbXBvbmVudC5Db21wb25lbnQoXCJmaXJlc3RvcmVcIiwgKChlLCB7aW5zdGFuY2VJZGVudGlmaWVyOiBuLCBvcHRpb25zOiByfSkgPT4ge1xuICAgICAgICBjb25zdCBpID0gZS5nZXRQcm92aWRlcihcImFwcFwiKS5nZXRJbW1lZGlhdGUoKSwgcyA9IG5ldyBGaXJlc3RvcmUobmV3IF9fUFJJVkFURV9GaXJlYmFzZUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyKGUuZ2V0UHJvdmlkZXIoXCJhdXRoLWludGVybmFsXCIpKSwgbmV3IF9fUFJJVkFURV9GaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlcihlLmdldFByb3ZpZGVyKFwiYXBwLWNoZWNrLWludGVybmFsXCIpKSwgZnVuY3Rpb24gX19QUklWQVRFX2RhdGFiYXNlSWRGcm9tQXBwKGUsIHQpIHtcbiAgICAgICAgICAgIGlmICghT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5hcHBseShlLm9wdGlvbnMsIFsgXCJwcm9qZWN0SWRcIiBdKSkgdGhyb3cgbmV3IEZpcmVzdG9yZUVycm9yKEMuSU5WQUxJRF9BUkdVTUVOVCwgJ1wicHJvamVjdElkXCIgbm90IHByb3ZpZGVkIGluIGZpcmViYXNlLmluaXRpYWxpemVBcHAuJyk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGFiYXNlSWQoZS5vcHRpb25zLnByb2plY3RJZCwgdCk7XG4gICAgICAgIH0oaSwgbiksIGkpO1xuICAgICAgICByZXR1cm4gciA9IE9iamVjdC5hc3NpZ24oe1xuICAgICAgICAgICAgdXNlRmV0Y2hTdHJlYW1zOiB0XG4gICAgICAgIH0sIHIpLCBzLl9zZXRTZXR0aW5ncyhyKSwgcztcbiAgICB9KSwgXCJQVUJMSUNcIikuc2V0TXVsdGlwbGVJbnN0YW5jZXMoITApKSwgYXBwLnJlZ2lzdGVyVmVyc2lvbihTLCBcIjQuNi40XCIsIGUpLCBcbiAgICAvLyBCVUlMRF9UQVJHRVQgd2lsbCBiZSByZXBsYWNlZCBieSB2YWx1ZXMgbGlrZSBlc201LCBlc20yMDE3LCBjanM1LCBldGMgZHVyaW5nIHRoZSBjb21waWxhdGlvblxuICAgIGFwcC5yZWdpc3RlclZlcnNpb24oUywgXCI0LjYuNFwiLCBcImNqczIwMTdcIik7XG59KCk7XG5cbmV4cG9ydHMuQWJzdHJhY3RVc2VyRGF0YVdyaXRlciA9IEFic3RyYWN0VXNlckRhdGFXcml0ZXI7XG5leHBvcnRzLkFnZ3JlZ2F0ZUZpZWxkID0gQWdncmVnYXRlRmllbGQ7XG5leHBvcnRzLkFnZ3JlZ2F0ZVF1ZXJ5U25hcHNob3QgPSBBZ2dyZWdhdGVRdWVyeVNuYXBzaG90O1xuZXhwb3J0cy5CeXRlcyA9IEJ5dGVzO1xuZXhwb3J0cy5DQUNIRV9TSVpFX1VOTElNSVRFRCA9IHdlO1xuZXhwb3J0cy5Db2xsZWN0aW9uUmVmZXJlbmNlID0gQ29sbGVjdGlvblJlZmVyZW5jZTtcbmV4cG9ydHMuRG9jdW1lbnRSZWZlcmVuY2UgPSBEb2N1bWVudFJlZmVyZW5jZTtcbmV4cG9ydHMuRG9jdW1lbnRTbmFwc2hvdCA9IERvY3VtZW50U25hcHNob3Q7XG5leHBvcnRzLkZpZWxkUGF0aCA9IEZpZWxkUGF0aDtcbmV4cG9ydHMuRmllbGRWYWx1ZSA9IEZpZWxkVmFsdWU7XG5leHBvcnRzLkZpcmVzdG9yZSA9IEZpcmVzdG9yZTtcbmV4cG9ydHMuRmlyZXN0b3JlRXJyb3IgPSBGaXJlc3RvcmVFcnJvcjtcbmV4cG9ydHMuR2VvUG9pbnQgPSBHZW9Qb2ludDtcbmV4cG9ydHMuTG9hZEJ1bmRsZVRhc2sgPSBMb2FkQnVuZGxlVGFzaztcbmV4cG9ydHMuUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyID0gUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyO1xuZXhwb3J0cy5RdWVyeSA9IFF1ZXJ5O1xuZXhwb3J0cy5RdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnQgPSBRdWVyeUNvbXBvc2l0ZUZpbHRlckNvbnN0cmFpbnQ7XG5leHBvcnRzLlF1ZXJ5Q29uc3RyYWludCA9IFF1ZXJ5Q29uc3RyYWludDtcbmV4cG9ydHMuUXVlcnlEb2N1bWVudFNuYXBzaG90ID0gUXVlcnlEb2N1bWVudFNuYXBzaG90O1xuZXhwb3J0cy5RdWVyeUVuZEF0Q29uc3RyYWludCA9IFF1ZXJ5RW5kQXRDb25zdHJhaW50O1xuZXhwb3J0cy5RdWVyeUZpZWxkRmlsdGVyQ29uc3RyYWludCA9IFF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50O1xuZXhwb3J0cy5RdWVyeUxpbWl0Q29uc3RyYWludCA9IFF1ZXJ5TGltaXRDb25zdHJhaW50O1xuZXhwb3J0cy5RdWVyeU9yZGVyQnlDb25zdHJhaW50ID0gUXVlcnlPcmRlckJ5Q29uc3RyYWludDtcbmV4cG9ydHMuUXVlcnlTbmFwc2hvdCA9IFF1ZXJ5U25hcHNob3Q7XG5leHBvcnRzLlF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQgPSBRdWVyeVN0YXJ0QXRDb25zdHJhaW50O1xuZXhwb3J0cy5TbmFwc2hvdE1ldGFkYXRhID0gU25hcHNob3RNZXRhZGF0YTtcbmV4cG9ydHMuVGltZXN0YW1wID0gVGltZXN0YW1wO1xuZXhwb3J0cy5UcmFuc2FjdGlvbiA9IFRyYW5zYWN0aW9uO1xuZXhwb3J0cy5Xcml0ZUJhdGNoID0gV3JpdGVCYXRjaDtcbmV4cG9ydHMuX0F1dG9JZCA9IF9fUFJJVkFURV9BdXRvSWQ7XG5leHBvcnRzLl9CeXRlU3RyaW5nID0gQnl0ZVN0cmluZztcbmV4cG9ydHMuX0RhdGFiYXNlSWQgPSBEYXRhYmFzZUlkO1xuZXhwb3J0cy5fRG9jdW1lbnRLZXkgPSBEb2N1bWVudEtleTtcbmV4cG9ydHMuX0VtcHR5QXBwQ2hlY2tUb2tlblByb3ZpZGVyID0gX19QUklWQVRFX0VtcHR5QXBwQ2hlY2tUb2tlblByb3ZpZGVyO1xuZXhwb3J0cy5fRW1wdHlBdXRoQ3JlZGVudGlhbHNQcm92aWRlciA9IF9fUFJJVkFURV9FbXB0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyO1xuZXhwb3J0cy5fRmllbGRQYXRoID0gRmllbGRQYXRoJDE7XG5leHBvcnRzLl9UZXN0aW5nSG9va3MgPSBUZXN0aW5nSG9va3M7XG5leHBvcnRzLl9jYXN0ID0gX19QUklWQVRFX2Nhc3Q7XG5leHBvcnRzLl9kZWJ1Z0Fzc2VydCA9IF9fUFJJVkFURV9kZWJ1Z0Fzc2VydDtcbmV4cG9ydHMuX2ludGVybmFsQWdncmVnYXRpb25RdWVyeVRvUHJvdG9SdW5BZ2dyZWdhdGlvblF1ZXJ5UmVxdWVzdCA9IF9pbnRlcm5hbEFnZ3JlZ2F0aW9uUXVlcnlUb1Byb3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3Q7XG5leHBvcnRzLl9pbnRlcm5hbFF1ZXJ5VG9Qcm90b1F1ZXJ5VGFyZ2V0ID0gX2ludGVybmFsUXVlcnlUb1Byb3RvUXVlcnlUYXJnZXQ7XG5leHBvcnRzLl9pc0Jhc2U2NEF2YWlsYWJsZSA9IF9fUFJJVkFURV9pc0Jhc2U2NEF2YWlsYWJsZTtcbmV4cG9ydHMuX2xvZ1dhcm4gPSBfX1BSSVZBVEVfbG9nV2FybjtcbmV4cG9ydHMuX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIgPSBfX1BSSVZBVEVfdmFsaWRhdGVJc05vdFVzZWRUb2dldGhlcjtcbmV4cG9ydHMuYWRkRG9jID0gYWRkRG9jO1xuZXhwb3J0cy5hZ2dyZWdhdGVGaWVsZEVxdWFsID0gYWdncmVnYXRlRmllbGRFcXVhbDtcbmV4cG9ydHMuYWdncmVnYXRlUXVlcnlTbmFwc2hvdEVxdWFsID0gYWdncmVnYXRlUXVlcnlTbmFwc2hvdEVxdWFsO1xuZXhwb3J0cy5hbmQgPSBhbmQ7XG5leHBvcnRzLmFycmF5UmVtb3ZlID0gYXJyYXlSZW1vdmU7XG5leHBvcnRzLmFycmF5VW5pb24gPSBhcnJheVVuaW9uO1xuZXhwb3J0cy5hdmVyYWdlID0gYXZlcmFnZTtcbmV4cG9ydHMuY2xlYXJJbmRleGVkRGJQZXJzaXN0ZW5jZSA9IGNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2U7XG5leHBvcnRzLmNvbGxlY3Rpb24gPSBjb2xsZWN0aW9uO1xuZXhwb3J0cy5jb2xsZWN0aW9uR3JvdXAgPSBjb2xsZWN0aW9uR3JvdXA7XG5leHBvcnRzLmNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvciA9IGNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvcjtcbmV4cG9ydHMuY291bnQgPSBjb3VudDtcbmV4cG9ydHMuZGVsZXRlQWxsUGVyc2lzdGVudENhY2hlSW5kZXhlcyA9IGRlbGV0ZUFsbFBlcnNpc3RlbnRDYWNoZUluZGV4ZXM7XG5leHBvcnRzLmRlbGV0ZURvYyA9IGRlbGV0ZURvYztcbmV4cG9ydHMuZGVsZXRlRmllbGQgPSBkZWxldGVGaWVsZDtcbmV4cG9ydHMuZGlzYWJsZU5ldHdvcmsgPSBkaXNhYmxlTmV0d29yaztcbmV4cG9ydHMuZGlzYWJsZVBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uID0gZGlzYWJsZVBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uO1xuZXhwb3J0cy5kb2MgPSBkb2M7XG5leHBvcnRzLmRvY3VtZW50SWQgPSBkb2N1bWVudElkO1xuZXhwb3J0cy5lbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZSA9IGVuYWJsZUluZGV4ZWREYlBlcnNpc3RlbmNlO1xuZXhwb3J0cy5lbmFibGVNdWx0aVRhYkluZGV4ZWREYlBlcnNpc3RlbmNlID0gZW5hYmxlTXVsdGlUYWJJbmRleGVkRGJQZXJzaXN0ZW5jZTtcbmV4cG9ydHMuZW5hYmxlTmV0d29yayA9IGVuYWJsZU5ldHdvcms7XG5leHBvcnRzLmVuYWJsZVBlcnNpc3RlbnRDYWNoZUluZGV4QXV0b0NyZWF0aW9uID0gZW5hYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb247XG5leHBvcnRzLmVuZEF0ID0gZW5kQXQ7XG5leHBvcnRzLmVuZEJlZm9yZSA9IGVuZEJlZm9yZTtcbmV4cG9ydHMuZW5zdXJlRmlyZXN0b3JlQ29uZmlndXJlZCA9IGVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQ7XG5leHBvcnRzLmV4ZWN1dGVXcml0ZSA9IGV4ZWN1dGVXcml0ZTtcbmV4cG9ydHMuZ2V0QWdncmVnYXRlRnJvbVNlcnZlciA9IGdldEFnZ3JlZ2F0ZUZyb21TZXJ2ZXI7XG5leHBvcnRzLmdldENvdW50RnJvbVNlcnZlciA9IGdldENvdW50RnJvbVNlcnZlcjtcbmV4cG9ydHMuZ2V0RG9jID0gZ2V0RG9jO1xuZXhwb3J0cy5nZXREb2NGcm9tQ2FjaGUgPSBnZXREb2NGcm9tQ2FjaGU7XG5leHBvcnRzLmdldERvY0Zyb21TZXJ2ZXIgPSBnZXREb2NGcm9tU2VydmVyO1xuZXhwb3J0cy5nZXREb2NzID0gZ2V0RG9jcztcbmV4cG9ydHMuZ2V0RG9jc0Zyb21DYWNoZSA9IGdldERvY3NGcm9tQ2FjaGU7XG5leHBvcnRzLmdldERvY3NGcm9tU2VydmVyID0gZ2V0RG9jc0Zyb21TZXJ2ZXI7XG5leHBvcnRzLmdldEZpcmVzdG9yZSA9IGdldEZpcmVzdG9yZTtcbmV4cG9ydHMuZ2V0UGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyID0gZ2V0UGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyO1xuZXhwb3J0cy5pbmNyZW1lbnQgPSBpbmNyZW1lbnQ7XG5leHBvcnRzLmluaXRpYWxpemVGaXJlc3RvcmUgPSBpbml0aWFsaXplRmlyZXN0b3JlO1xuZXhwb3J0cy5saW1pdCA9IGxpbWl0O1xuZXhwb3J0cy5saW1pdFRvTGFzdCA9IGxpbWl0VG9MYXN0O1xuZXhwb3J0cy5sb2FkQnVuZGxlID0gbG9hZEJ1bmRsZTtcbmV4cG9ydHMubWVtb3J5RWFnZXJHYXJiYWdlQ29sbGVjdG9yID0gbWVtb3J5RWFnZXJHYXJiYWdlQ29sbGVjdG9yO1xuZXhwb3J0cy5tZW1vcnlMb2NhbENhY2hlID0gbWVtb3J5TG9jYWxDYWNoZTtcbmV4cG9ydHMubWVtb3J5THJ1R2FyYmFnZUNvbGxlY3RvciA9IG1lbW9yeUxydUdhcmJhZ2VDb2xsZWN0b3I7XG5leHBvcnRzLm5hbWVkUXVlcnkgPSBuYW1lZFF1ZXJ5O1xuZXhwb3J0cy5vblNuYXBzaG90ID0gb25TbmFwc2hvdDtcbmV4cG9ydHMub25TbmFwc2hvdHNJblN5bmMgPSBvblNuYXBzaG90c0luU3luYztcbmV4cG9ydHMub3IgPSBvcjtcbmV4cG9ydHMub3JkZXJCeSA9IG9yZGVyQnk7XG5leHBvcnRzLnBlcnNpc3RlbnRMb2NhbENhY2hlID0gcGVyc2lzdGVudExvY2FsQ2FjaGU7XG5leHBvcnRzLnBlcnNpc3RlbnRNdWx0aXBsZVRhYk1hbmFnZXIgPSBwZXJzaXN0ZW50TXVsdGlwbGVUYWJNYW5hZ2VyO1xuZXhwb3J0cy5wZXJzaXN0ZW50U2luZ2xlVGFiTWFuYWdlciA9IHBlcnNpc3RlbnRTaW5nbGVUYWJNYW5hZ2VyO1xuZXhwb3J0cy5xdWVyeSA9IHF1ZXJ5O1xuZXhwb3J0cy5xdWVyeUVxdWFsID0gcXVlcnlFcXVhbDtcbmV4cG9ydHMucmVmRXF1YWwgPSByZWZFcXVhbDtcbmV4cG9ydHMucnVuVHJhbnNhY3Rpb24gPSBydW5UcmFuc2FjdGlvbjtcbmV4cG9ydHMuc2VydmVyVGltZXN0YW1wID0gc2VydmVyVGltZXN0YW1wO1xuZXhwb3J0cy5zZXREb2MgPSBzZXREb2M7XG5leHBvcnRzLnNldEluZGV4Q29uZmlndXJhdGlvbiA9IHNldEluZGV4Q29uZmlndXJhdGlvbjtcbmV4cG9ydHMuc2V0TG9nTGV2ZWwgPSBzZXRMb2dMZXZlbDtcbmV4cG9ydHMuc25hcHNob3RFcXVhbCA9IHNuYXBzaG90RXF1YWw7XG5leHBvcnRzLnN0YXJ0QWZ0ZXIgPSBzdGFydEFmdGVyO1xuZXhwb3J0cy5zdGFydEF0ID0gc3RhcnRBdDtcbmV4cG9ydHMuc3VtID0gc3VtO1xuZXhwb3J0cy50ZXJtaW5hdGUgPSB0ZXJtaW5hdGU7XG5leHBvcnRzLnVwZGF0ZURvYyA9IHVwZGF0ZURvYztcbmV4cG9ydHMud2FpdEZvclBlbmRpbmdXcml0ZXMgPSB3YWl0Rm9yUGVuZGluZ1dyaXRlcztcbmV4cG9ydHMud2hlcmUgPSB3aGVyZTtcbmV4cG9ydHMud3JpdGVCYXRjaCA9IHdyaXRlQmF0Y2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5janMuanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciB0c2xpYiA9IHJlcXVpcmUoJ3RzbGliJyk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbnZhciBfYTtcclxuLyoqXHJcbiAqIEEgY29udGFpbmVyIGZvciBhbGwgb2YgdGhlIExvZ2dlciBpbnN0YW5jZXNcclxuICovXHJcbnZhciBpbnN0YW5jZXMgPSBbXTtcclxuLyoqXHJcbiAqIFRoZSBKUyBTREsgc3VwcG9ydHMgNSBsb2cgbGV2ZWxzIGFuZCBhbHNvIGFsbG93cyBhIHVzZXIgdGhlIGFiaWxpdHkgdG9cclxuICogc2lsZW5jZSB0aGUgbG9ncyBhbHRvZ2V0aGVyLlxyXG4gKlxyXG4gKiBUaGUgb3JkZXIgaXMgYSBmb2xsb3dzOlxyXG4gKiBERUJVRyA8IFZFUkJPU0UgPCBJTkZPIDwgV0FSTiA8IEVSUk9SXHJcbiAqXHJcbiAqIEFsbCBvZiB0aGUgbG9nIHR5cGVzIGFib3ZlIHRoZSBjdXJyZW50IGxvZyBsZXZlbCB3aWxsIGJlIGNhcHR1cmVkIChpLmUuIGlmXHJcbiAqIHlvdSBzZXQgdGhlIGxvZyBsZXZlbCB0byBgSU5GT2AsIGVycm9ycyB3aWxsIHN0aWxsIGJlIGxvZ2dlZCwgYnV0IGBERUJVR2AgYW5kXHJcbiAqIGBWRVJCT1NFYCBsb2dzIHdpbGwgbm90KVxyXG4gKi9cclxuZXhwb3J0cy5Mb2dMZXZlbCA9IHZvaWQgMDtcclxuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJERUJVR1wiXSA9IDBdID0gXCJERUJVR1wiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJWRVJCT1NFXCJdID0gMV0gPSBcIlZFUkJPU0VcIjtcclxuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiSU5GT1wiXSA9IDJdID0gXCJJTkZPXCI7XHJcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIldBUk5cIl0gPSAzXSA9IFwiV0FSTlwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJFUlJPUlwiXSA9IDRdID0gXCJFUlJPUlwiO1xyXG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJTSUxFTlRcIl0gPSA1XSA9IFwiU0lMRU5UXCI7XHJcbn0pKGV4cG9ydHMuTG9nTGV2ZWwgfHwgKGV4cG9ydHMuTG9nTGV2ZWwgPSB7fSkpO1xyXG52YXIgbGV2ZWxTdHJpbmdUb0VudW0gPSB7XHJcbiAgICAnZGVidWcnOiBleHBvcnRzLkxvZ0xldmVsLkRFQlVHLFxyXG4gICAgJ3ZlcmJvc2UnOiBleHBvcnRzLkxvZ0xldmVsLlZFUkJPU0UsXHJcbiAgICAnaW5mbyc6IGV4cG9ydHMuTG9nTGV2ZWwuSU5GTyxcclxuICAgICd3YXJuJzogZXhwb3J0cy5Mb2dMZXZlbC5XQVJOLFxyXG4gICAgJ2Vycm9yJzogZXhwb3J0cy5Mb2dMZXZlbC5FUlJPUixcclxuICAgICdzaWxlbnQnOiBleHBvcnRzLkxvZ0xldmVsLlNJTEVOVFxyXG59O1xyXG4vKipcclxuICogVGhlIGRlZmF1bHQgbG9nIGxldmVsXHJcbiAqL1xyXG52YXIgZGVmYXVsdExvZ0xldmVsID0gZXhwb3J0cy5Mb2dMZXZlbC5JTkZPO1xyXG4vKipcclxuICogQnkgZGVmYXVsdCwgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBkaXNwbGF5ZWQgaW4gdGhlIGRldmVsb3BlciBjb25zb2xlIChpblxyXG4gKiBjaHJvbWUpLiBUbyBhdm9pZCBmb3JjaW5nIHVzZXJzIHRvIGhhdmUgdG8gb3B0LWluIHRvIHRoZXNlIGxvZ3MgdHdpY2VcclxuICogKGkuZS4gb25jZSBmb3IgZmlyZWJhc2UsIGFuZCBvbmNlIGluIHRoZSBjb25zb2xlKSwgd2UgYXJlIHNlbmRpbmcgYERFQlVHYFxyXG4gKiBsb2dzIHRvIHRoZSBgY29uc29sZS5sb2dgIGZ1bmN0aW9uLlxyXG4gKi9cclxudmFyIENvbnNvbGVNZXRob2QgPSAoX2EgPSB7fSxcclxuICAgIF9hW2V4cG9ydHMuTG9nTGV2ZWwuREVCVUddID0gJ2xvZycsXHJcbiAgICBfYVtleHBvcnRzLkxvZ0xldmVsLlZFUkJPU0VdID0gJ2xvZycsXHJcbiAgICBfYVtleHBvcnRzLkxvZ0xldmVsLklORk9dID0gJ2luZm8nLFxyXG4gICAgX2FbZXhwb3J0cy5Mb2dMZXZlbC5XQVJOXSA9ICd3YXJuJyxcclxuICAgIF9hW2V4cG9ydHMuTG9nTGV2ZWwuRVJST1JdID0gJ2Vycm9yJyxcclxuICAgIF9hKTtcclxuLyoqXHJcbiAqIFRoZSBkZWZhdWx0IGxvZyBoYW5kbGVyIHdpbGwgZm9yd2FyZCBERUJVRywgVkVSQk9TRSwgSU5GTywgV0FSTiwgYW5kIEVSUk9SXHJcbiAqIG1lc3NhZ2VzIG9uIHRvIHRoZWlyIGNvcnJlc3BvbmRpbmcgY29uc29sZSBjb3VudGVycGFydHMgKGlmIHRoZSBsb2cgbWV0aG9kXHJcbiAqIGlzIHN1cHBvcnRlZCBieSB0aGUgY3VycmVudCBsb2cgbGV2ZWwpXHJcbiAqL1xyXG52YXIgZGVmYXVsdExvZ0hhbmRsZXIgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIGxvZ1R5cGUpIHtcclxuICAgIHZhciBhcmdzID0gW107XHJcbiAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICBpZiAobG9nVHlwZSA8IGluc3RhbmNlLmxvZ0xldmVsKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdmFyIG5vdyA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcclxuICAgIHZhciBtZXRob2QgPSBDb25zb2xlTWV0aG9kW2xvZ1R5cGVdO1xyXG4gICAgaWYgKG1ldGhvZCkge1xyXG4gICAgICAgIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCB0c2xpYi5fX3NwcmVhZEFycmF5KFtcIltcIi5jb25jYXQobm93LCBcIl0gIFwiKS5jb25jYXQoaW5zdGFuY2UubmFtZSwgXCI6XCIpXSwgYXJncywgZmFsc2UpKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkF0dGVtcHRlZCB0byBsb2cgYSBtZXNzYWdlIHdpdGggYW4gaW52YWxpZCBsb2dUeXBlICh2YWx1ZTogXCIuY29uY2F0KGxvZ1R5cGUsIFwiKVwiKSk7XHJcbiAgICB9XHJcbn07XHJcbnZhciBMb2dnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICAvKipcclxuICAgICAqIEdpdmVzIHlvdSBhbiBpbnN0YW5jZSBvZiBhIExvZ2dlciB0byBjYXB0dXJlIG1lc3NhZ2VzIGFjY29yZGluZyB0b1xyXG4gICAgICogRmlyZWJhc2UncyBsb2dnaW5nIHNjaGVtZS5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgbmFtZSB0aGF0IHRoZSBsb2dzIHdpbGwgYmUgYXNzb2NpYXRlZCB3aXRoXHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIExvZ2dlcihuYW1lKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBUaGUgbG9nIGxldmVsIG9mIHRoZSBnaXZlbiBMb2dnZXIgaW5zdGFuY2UuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbG9nTGV2ZWwgPSBkZWZhdWx0TG9nTGV2ZWw7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogVGhlIG1haW4gKGludGVybmFsKSBsb2cgaGFuZGxlciBmb3IgdGhlIExvZ2dlciBpbnN0YW5jZS5cclxuICAgICAgICAgKiBDYW4gYmUgc2V0IHRvIGEgbmV3IGZ1bmN0aW9uIGluIGludGVybmFsIHBhY2thZ2UgY29kZSBidXQgbm90IGJ5IHVzZXIuXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlciA9IGRlZmF1bHRMb2dIYW5kbGVyO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFRoZSBvcHRpb25hbCwgYWRkaXRpb25hbCwgdXNlci1kZWZpbmVkIGxvZyBoYW5kbGVyIGZvciB0aGUgTG9nZ2VyIGluc3RhbmNlLlxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyID0gbnVsbDtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYXB0dXJlIHRoZSBjdXJyZW50IGluc3RhbmNlIGZvciBsYXRlciB1c2VcclxuICAgICAgICAgKi9cclxuICAgICAgICBpbnN0YW5jZXMucHVzaCh0aGlzKTtcclxuICAgIH1cclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXIucHJvdG90eXBlLCBcImxvZ0xldmVsXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvZ0xldmVsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIGlmICghKHZhbCBpbiBleHBvcnRzLkxvZ0xldmVsKSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdmFsdWUgXFxcIlwiLmNvbmNhdCh2YWwsIFwiXFxcIiBhc3NpZ25lZCB0byBgbG9nTGV2ZWxgXCIpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IHZhbDtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxyXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICAvLyBXb3JrYXJvdW5kIGZvciBzZXR0ZXIvZ2V0dGVyIGhhdmluZyB0byBiZSB0aGUgc2FtZSB0eXBlLlxyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5zZXRMb2dMZXZlbCA9IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICB0aGlzLl9sb2dMZXZlbCA9IHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gbGV2ZWxTdHJpbmdUb0VudW1bdmFsXSA6IHZhbDtcclxuICAgIH07XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoTG9nZ2VyLnByb3RvdHlwZSwgXCJsb2dIYW5kbGVyXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvZ0hhbmRsZXI7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXQ6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1ZhbHVlIGFzc2lnbmVkIHRvIGBsb2dIYW5kbGVyYCBtdXN0IGJlIGEgZnVuY3Rpb24nKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLl9sb2dIYW5kbGVyID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShMb2dnZXIucHJvdG90eXBlLCBcInVzZXJMb2dIYW5kbGVyXCIsIHtcclxuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3VzZXJMb2dIYW5kbGVyO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyID0gdmFsO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXHJcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXHJcbiAgICB9KTtcclxuICAgIC8qKlxyXG4gICAgICogVGhlIGZ1bmN0aW9ucyBiZWxvdyBhcmUgYWxsIGJhc2VkIG9uIHRoZSBgY29uc29sZWAgaW50ZXJmYWNlXHJcbiAgICAgKi9cclxuICAgIExvZ2dlci5wcm90b3R5cGUuZGVidWcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuREVCVUddLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5ERUJVR10sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS5sb2cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX3VzZXJMb2dIYW5kbGVyICYmIHRoaXMuX3VzZXJMb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuVkVSQk9TRV0sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICAgICAgdGhpcy5fbG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLlZFUkJPU0VdLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgfTtcclxuICAgIExvZ2dlci5wcm90b3R5cGUuaW5mbyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fdXNlckxvZ0hhbmRsZXIgJiYgdGhpcy5fdXNlckxvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5JTkZPXSwgYXJncywgZmFsc2UpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuSU5GT10sIGFyZ3MsIGZhbHNlKSk7XHJcbiAgICB9O1xyXG4gICAgTG9nZ2VyLnByb3RvdHlwZS53YXJuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLldBUk5dLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgICAgIHRoaXMuX2xvZ0hhbmRsZXIuYXBwbHkodGhpcywgdHNsaWIuX19zcHJlYWRBcnJheShbdGhpcywgZXhwb3J0cy5Mb2dMZXZlbC5XQVJOXSwgYXJncywgZmFsc2UpKTtcclxuICAgIH07XHJcbiAgICBMb2dnZXIucHJvdG90eXBlLmVycm9yID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl91c2VyTG9nSGFuZGxlciAmJiB0aGlzLl91c2VyTG9nSGFuZGxlci5hcHBseSh0aGlzLCB0c2xpYi5fX3NwcmVhZEFycmF5KFt0aGlzLCBleHBvcnRzLkxvZ0xldmVsLkVSUk9SXSwgYXJncywgZmFsc2UpKTtcclxuICAgICAgICB0aGlzLl9sb2dIYW5kbGVyLmFwcGx5KHRoaXMsIHRzbGliLl9fc3ByZWFkQXJyYXkoW3RoaXMsIGV4cG9ydHMuTG9nTGV2ZWwuRVJST1JdLCBhcmdzLCBmYWxzZSkpO1xyXG4gICAgfTtcclxuICAgIHJldHVybiBMb2dnZXI7XHJcbn0oKSk7XHJcbmZ1bmN0aW9uIHNldExvZ0xldmVsKGxldmVsKSB7XHJcbiAgICBpbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbiAoaW5zdCkge1xyXG4gICAgICAgIGluc3Quc2V0TG9nTGV2ZWwobGV2ZWwpO1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2V0VXNlckxvZ0hhbmRsZXIobG9nQ2FsbGJhY2ssIG9wdGlvbnMpIHtcclxuICAgIHZhciBfbG9vcF8xID0gZnVuY3Rpb24gKGluc3RhbmNlKSB7XHJcbiAgICAgICAgdmFyIGN1c3RvbUxvZ0xldmVsID0gbnVsbDtcclxuICAgICAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLmxldmVsKSB7XHJcbiAgICAgICAgICAgIGN1c3RvbUxvZ0xldmVsID0gbGV2ZWxTdHJpbmdUb0VudW1bb3B0aW9ucy5sZXZlbF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChsb2dDYWxsYmFjayA9PT0gbnVsbCkge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS51c2VyTG9nSGFuZGxlciA9IG51bGw7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbnN0YW5jZS51c2VyTG9nSGFuZGxlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgbGV2ZWwpIHtcclxuICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW107XHJcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgbWVzc2FnZSA9IGFyZ3NcclxuICAgICAgICAgICAgICAgICAgICAubWFwKGZ1bmN0aW9uIChhcmcpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoYXJnID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmc7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhcmcgPT09ICdudW1iZXInIHx8IHR5cGVvZiBhcmcgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXJnLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcmcubWVzc2FnZTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoaWdub3JlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5maWx0ZXIoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnOyB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5qb2luKCcgJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPj0gKGN1c3RvbUxvZ0xldmVsICE9PSBudWxsICYmIGN1c3RvbUxvZ0xldmVsICE9PSB2b2lkIDAgPyBjdXN0b21Mb2dMZXZlbCA6IGluc3RhbmNlLmxvZ0xldmVsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxvZ0NhbGxiYWNrKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV2ZWw6IGV4cG9ydHMuTG9nTGV2ZWxbbGV2ZWxdLnRvTG93ZXJDYXNlKCksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3M6IGFyZ3MsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IGluc3RhbmNlLm5hbWVcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBpbnN0YW5jZXNfMSA9IGluc3RhbmNlczsgX2kgPCBpbnN0YW5jZXNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIgaW5zdGFuY2UgPSBpbnN0YW5jZXNfMVtfaV07XHJcbiAgICAgICAgX2xvb3BfMShpbnN0YW5jZSk7XHJcbiAgICB9XHJcbn1cblxuZXhwb3J0cy5Mb2dnZXIgPSBMb2dnZXI7XG5leHBvcnRzLnNldExvZ0xldmVsID0gc2V0TG9nTGV2ZWw7XG5leHBvcnRzLnNldFVzZXJMb2dIYW5kbGVyID0gc2V0VXNlckxvZ0hhbmRsZXI7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5janMuanMubWFwXG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IEZpcmViYXNlIGNvbnN0YW50cy4gIFNvbWUgb2YgdGhlc2UgKEBkZWZpbmVzKSBjYW4gYmUgb3ZlcnJpZGRlbiBhdCBjb21waWxlLXRpbWUuXHJcbiAqL1xyXG5jb25zdCBDT05TVEFOVFMgPSB7XHJcbiAgICAvKipcclxuICAgICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgY2xpZW50IE5vZGUuanMgU0RLLlxyXG4gICAgICovXHJcbiAgICBOT0RFX0NMSUVOVDogZmFsc2UsXHJcbiAgICAvKipcclxuICAgICAqIEBkZWZpbmUge2Jvb2xlYW59IFdoZXRoZXIgdGhpcyBpcyB0aGUgQWRtaW4gTm9kZS5qcyBTREsuXHJcbiAgICAgKi9cclxuICAgIE5PREVfQURNSU46IGZhbHNlLFxyXG4gICAgLyoqXHJcbiAgICAgKiBGaXJlYmFzZSBTREsgVmVyc2lvblxyXG4gICAgICovXHJcbiAgICBTREtfVkVSU0lPTjogJyR7SlNDT1JFX1ZFUlNJT059J1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBwcm92aWRlZCBhc3NlcnRpb24gaXMgZmFsc3lcclxuICovXHJcbmNvbnN0IGFzc2VydCA9IGZ1bmN0aW9uIChhc3NlcnRpb24sIG1lc3NhZ2UpIHtcclxuICAgIGlmICghYXNzZXJ0aW9uKSB7XHJcbiAgICAgICAgdGhyb3cgYXNzZXJ0aW9uRXJyb3IobWVzc2FnZSk7XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBSZXR1cm5zIGFuIEVycm9yIG9iamVjdCBzdWl0YWJsZSBmb3IgdGhyb3dpbmcuXHJcbiAqL1xyXG5jb25zdCBhc3NlcnRpb25FcnJvciA9IGZ1bmN0aW9uIChtZXNzYWdlKSB7XHJcbiAgICByZXR1cm4gbmV3IEVycm9yKCdGaXJlYmFzZSBEYXRhYmFzZSAoJyArXHJcbiAgICAgICAgQ09OU1RBTlRTLlNES19WRVJTSU9OICtcclxuICAgICAgICAnKSBJTlRFUk5BTCBBU1NFUlQgRkFJTEVEOiAnICtcclxuICAgICAgICBtZXNzYWdlKTtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuY29uc3Qgc3RyaW5nVG9CeXRlQXJyYXkkMSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXHJcbiAgICBjb25zdCBvdXQgPSBbXTtcclxuICAgIGxldCBwID0gMDtcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgbGV0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IGM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gNikgfCAxOTI7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKChjICYgMHhmYzAwKSA9PT0gMHhkODAwICYmXHJcbiAgICAgICAgICAgIGkgKyAxIDwgc3RyLmxlbmd0aCAmJlxyXG4gICAgICAgICAgICAoc3RyLmNoYXJDb2RlQXQoaSArIDEpICYgMHhmYzAwKSA9PT0gMHhkYzAwKSB7XHJcbiAgICAgICAgICAgIC8vIFN1cnJvZ2F0ZSBQYWlyXHJcbiAgICAgICAgICAgIGMgPSAweDEwMDAwICsgKChjICYgMHgwM2ZmKSA8PCAxMCkgKyAoc3RyLmNoYXJDb2RlQXQoKytpKSAmIDB4MDNmZik7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgPj4gMTgpIHwgMjQwO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9ICgoYyA+PiAxMikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBvdXQ7XHJcbn07XHJcbi8qKlxyXG4gKiBUdXJucyBhbiBhcnJheSBvZiBudW1iZXJzIGludG8gdGhlIHN0cmluZyBnaXZlbiBieSB0aGUgY29uY2F0ZW5hdGlvbiBvZiB0aGVcclxuICogY2hhcmFjdGVycyB0byB3aGljaCB0aGUgbnVtYmVycyBjb3JyZXNwb25kLlxyXG4gKiBAcGFyYW0gYnl0ZXMgQXJyYXkgb2YgbnVtYmVycyByZXByZXNlbnRpbmcgY2hhcmFjdGVycy5cclxuICogQHJldHVybiBTdHJpbmdpZmljYXRpb24gb2YgdGhlIGFycmF5LlxyXG4gKi9cclxuY29uc3QgYnl0ZUFycmF5VG9TdHJpbmcgPSBmdW5jdGlvbiAoYnl0ZXMpIHtcclxuICAgIC8vIFRPRE8odXNlcik6IFVzZSBuYXRpdmUgaW1wbGVtZW50YXRpb25zIGlmL3doZW4gYXZhaWxhYmxlXHJcbiAgICBjb25zdCBvdXQgPSBbXTtcclxuICAgIGxldCBwb3MgPSAwLCBjID0gMDtcclxuICAgIHdoaWxlIChwb3MgPCBieXRlcy5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBjMSA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICBpZiAoYzEgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGMxKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYzEgPiAxOTEgJiYgYzEgPCAyMjQpIHtcclxuICAgICAgICAgICAgY29uc3QgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIG91dFtjKytdID0gU3RyaW5nLmZyb21DaGFyQ29kZSgoKGMxICYgMzEpIDw8IDYpIHwgKGMyICYgNjMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYzEgPiAyMzkgJiYgYzEgPCAzNjUpIHtcclxuICAgICAgICAgICAgLy8gU3Vycm9nYXRlIFBhaXJcclxuICAgICAgICAgICAgY29uc3QgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIGNvbnN0IGMzID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBjb25zdCBjNCA9IGJ5dGVzW3BvcysrXTtcclxuICAgICAgICAgICAgY29uc3QgdSA9ICgoKGMxICYgNykgPDwgMTgpIHwgKChjMiAmIDYzKSA8PCAxMikgfCAoKGMzICYgNjMpIDw8IDYpIHwgKGM0ICYgNjMpKSAtXHJcbiAgICAgICAgICAgICAgICAweDEwMDAwO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoMHhkODAwICsgKHUgPj4gMTApKTtcclxuICAgICAgICAgICAgb3V0W2MrK10gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4ZGMwMCArICh1ICYgMTAyMykpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgYzIgPSBieXRlc1twb3MrK107XHJcbiAgICAgICAgICAgIGNvbnN0IGMzID0gYnl0ZXNbcG9zKytdO1xyXG4gICAgICAgICAgICBvdXRbYysrXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoKChjMSAmIDE1KSA8PCAxMikgfCAoKGMyICYgNjMpIDw8IDYpIHwgKGMzICYgNjMpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3V0LmpvaW4oJycpO1xyXG59O1xyXG4vLyBXZSBkZWZpbmUgaXQgYXMgYW4gb2JqZWN0IGxpdGVyYWwgaW5zdGVhZCBvZiBhIGNsYXNzIGJlY2F1c2UgYSBjbGFzcyBjb21waWxlZCBkb3duIHRvIGVzNSBjYW4ndFxyXG4vLyBiZSB0cmVlc2hha2VkLiBodHRwczovL2dpdGh1Yi5jb20vcm9sbHVwL3JvbGx1cC9pc3N1ZXMvMTY5MVxyXG4vLyBTdGF0aWMgbG9va3VwIG1hcHMsIGxhemlseSBwb3B1bGF0ZWQgYnkgaW5pdF8oKVxyXG5jb25zdCBiYXNlNjQgPSB7XHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgYnl0ZXMgdG8gY2hhcmFjdGVycy5cclxuICAgICAqL1xyXG4gICAgYnl0ZVRvQ2hhck1hcF86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgY2hhcmFjdGVycyB0byBieXRlcy5cclxuICAgICAqL1xyXG4gICAgY2hhclRvQnl0ZU1hcF86IG51bGwsXHJcbiAgICAvKipcclxuICAgICAqIE1hcHMgYnl0ZXMgdG8gd2Vic2FmZSBjaGFyYWN0ZXJzLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgYnl0ZVRvQ2hhck1hcFdlYlNhZmVfOiBudWxsLFxyXG4gICAgLyoqXHJcbiAgICAgKiBNYXBzIHdlYnNhZmUgY2hhcmFjdGVycyB0byBieXRlcy5cclxuICAgICAqIEBwcml2YXRlXHJcbiAgICAgKi9cclxuICAgIGNoYXJUb0J5dGVNYXBXZWJTYWZlXzogbnVsbCxcclxuICAgIC8qKlxyXG4gICAgICogT3VyIGRlZmF1bHQgYWxwaGFiZXQsIHNoYXJlZCBiZXR3ZWVuXHJcbiAgICAgKiBFTkNPREVEX1ZBTFMgYW5kIEVOQ09ERURfVkFMU19XRUJTQUZFXHJcbiAgICAgKi9cclxuICAgIEVOQ09ERURfVkFMU19CQVNFOiAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVonICsgJ2FiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6JyArICcwMTIzNDU2Nzg5JyxcclxuICAgIC8qKlxyXG4gICAgICogT3VyIGRlZmF1bHQgYWxwaGFiZXQuIFZhbHVlIDY0ICg9KSBpcyBzcGVjaWFsOyBpdCBtZWFucyBcIm5vdGhpbmcuXCJcclxuICAgICAqL1xyXG4gICAgZ2V0IEVOQ09ERURfVkFMUygpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSArICcrLz0nO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogT3VyIHdlYnNhZmUgYWxwaGFiZXQuXHJcbiAgICAgKi9cclxuICAgIGdldCBFTkNPREVEX1ZBTFNfV0VCU0FGRSgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRSArICctXy4nO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogV2hldGhlciB0aGlzIGJyb3dzZXIgc3VwcG9ydHMgdGhlIGF0b2IgYW5kIGJ0b2EgZnVuY3Rpb25zLiBUaGlzIGV4dGVuc2lvblxyXG4gICAgICogc3RhcnRlZCBhdCBNb3ppbGxhIGJ1dCBpcyBub3cgaW1wbGVtZW50ZWQgYnkgbWFueSBicm93c2Vycy4gV2UgdXNlIHRoZVxyXG4gICAgICogQVNTVU1FXyogdmFyaWFibGVzIHRvIGF2b2lkIHB1bGxpbmcgaW4gdGhlIGZ1bGwgdXNlcmFnZW50IGRldGVjdGlvbiBsaWJyYXJ5XHJcbiAgICAgKiBidXQgc3RpbGwgYWxsb3dpbmcgdGhlIHN0YW5kYXJkIHBlci1icm93c2VyIGNvbXBpbGF0aW9ucy5cclxuICAgICAqXHJcbiAgICAgKi9cclxuICAgIEhBU19OQVRJVkVfU1VQUE9SVDogdHlwZW9mIGF0b2IgPT09ICdmdW5jdGlvbicsXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1lbmNvZGUgYW4gYXJyYXkgb2YgYnl0ZXMuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IEFuIGFycmF5IG9mIGJ5dGVzIChudW1iZXJzIHdpdGhcclxuICAgICAqICAgICB2YWx1ZSBpbiBbMCwgMjU1XSkgdG8gZW5jb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgQm9vbGVhbiBpbmRpY2F0aW5nIHdlIHNob3VsZCB1c2UgdGhlXHJcbiAgICAgKiAgICAgYWx0ZXJuYXRpdmUgYWxwaGFiZXQuXHJcbiAgICAgKiBAcmV0dXJuIFRoZSBiYXNlNjQgZW5jb2RlZCBzdHJpbmcuXHJcbiAgICAgKi9cclxuICAgIGVuY29kZUJ5dGVBcnJheShpbnB1dCwgd2ViU2FmZSkge1xyXG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcclxuICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ2VuY29kZUJ5dGVBcnJheSB0YWtlcyBhbiBhcnJheSBhcyBhIHBhcmFtZXRlcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmluaXRfKCk7XHJcbiAgICAgICAgY29uc3QgYnl0ZVRvQ2hhck1hcCA9IHdlYlNhZmVcclxuICAgICAgICAgICAgPyB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1xyXG4gICAgICAgICAgICA6IHRoaXMuYnl0ZVRvQ2hhck1hcF87XHJcbiAgICAgICAgY29uc3Qgb3V0cHV0ID0gW107XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkgKz0gMykge1xyXG4gICAgICAgICAgICBjb25zdCBieXRlMSA9IGlucHV0W2ldO1xyXG4gICAgICAgICAgICBjb25zdCBoYXZlQnl0ZTIgPSBpICsgMSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTIgPSBoYXZlQnl0ZTIgPyBpbnB1dFtpICsgMV0gOiAwO1xyXG4gICAgICAgICAgICBjb25zdCBoYXZlQnl0ZTMgPSBpICsgMiA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTMgPSBoYXZlQnl0ZTMgPyBpbnB1dFtpICsgMl0gOiAwO1xyXG4gICAgICAgICAgICBjb25zdCBvdXRCeXRlMSA9IGJ5dGUxID4+IDI7XHJcbiAgICAgICAgICAgIGNvbnN0IG91dEJ5dGUyID0gKChieXRlMSAmIDB4MDMpIDw8IDQpIHwgKGJ5dGUyID4+IDQpO1xyXG4gICAgICAgICAgICBsZXQgb3V0Qnl0ZTMgPSAoKGJ5dGUyICYgMHgwZikgPDwgMikgfCAoYnl0ZTMgPj4gNik7XHJcbiAgICAgICAgICAgIGxldCBvdXRCeXRlNCA9IGJ5dGUzICYgMHgzZjtcclxuICAgICAgICAgICAgaWYgKCFoYXZlQnl0ZTMpIHtcclxuICAgICAgICAgICAgICAgIG91dEJ5dGU0ID0gNjQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWhhdmVCeXRlMikge1xyXG4gICAgICAgICAgICAgICAgICAgIG91dEJ5dGUzID0gNjQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3V0cHV0LnB1c2goYnl0ZVRvQ2hhck1hcFtvdXRCeXRlMV0sIGJ5dGVUb0NoYXJNYXBbb3V0Qnl0ZTJdLCBieXRlVG9DaGFyTWFwW291dEJ5dGUzXSwgYnl0ZVRvQ2hhck1hcFtvdXRCeXRlNF0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oJycpO1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQmFzZTY0LWVuY29kZSBhIHN0cmluZy5cclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0gaW5wdXQgQSBzdHJpbmcgdG8gZW5jb2RlLlxyXG4gICAgICogQHBhcmFtIHdlYlNhZmUgSWYgdHJ1ZSwgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gVGhlIGJhc2U2NCBlbmNvZGVkIHN0cmluZy5cclxuICAgICAqL1xyXG4gICAgZW5jb2RlU3RyaW5nKGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcclxuICAgICAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXHJcbiAgICAgICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICF3ZWJTYWZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBidG9hKGlucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZW5jb2RlQnl0ZUFycmF5KHN0cmluZ1RvQnl0ZUFycmF5JDEoaW5wdXQpLCB3ZWJTYWZlKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1kZWNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIGlucHV0IHRvIGRlY29kZS5cclxuICAgICAqIEBwYXJhbSB3ZWJTYWZlIFRydWUgaWYgd2Ugc2hvdWxkIHVzZSB0aGVcclxuICAgICAqICAgICBhbHRlcm5hdGl2ZSBhbHBoYWJldC5cclxuICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGluZyB0aGUgZGVjb2RlZCB2YWx1ZS5cclxuICAgICAqL1xyXG4gICAgZGVjb2RlU3RyaW5nKGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgLy8gU2hvcnRjdXQgZm9yIE1vemlsbGEgYnJvd3NlcnMgdGhhdCBpbXBsZW1lbnRcclxuICAgICAgICAvLyBhIG5hdGl2ZSBiYXNlNjQgZW5jb2RlciBpbiB0aGUgZm9ybSBvZiBcImJ0b2EvYXRvYlwiXHJcbiAgICAgICAgaWYgKHRoaXMuSEFTX05BVElWRV9TVVBQT1JUICYmICF3ZWJTYWZlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBhdG9iKGlucHV0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGJ5dGVBcnJheVRvU3RyaW5nKHRoaXMuZGVjb2RlU3RyaW5nVG9CeXRlQXJyYXkoaW5wdXQsIHdlYlNhZmUpKTtcclxuICAgIH0sXHJcbiAgICAvKipcclxuICAgICAqIEJhc2U2NC1kZWNvZGUgYSBzdHJpbmcuXHJcbiAgICAgKlxyXG4gICAgICogSW4gYmFzZS02NCBkZWNvZGluZywgZ3JvdXBzIG9mIGZvdXIgY2hhcmFjdGVycyBhcmUgY29udmVydGVkIGludG8gdGhyZWVcclxuICAgICAqIGJ5dGVzLiAgSWYgdGhlIGVuY29kZXIgZGlkIG5vdCBhcHBseSBwYWRkaW5nLCB0aGUgaW5wdXQgbGVuZ3RoIG1heSBub3RcclxuICAgICAqIGJlIGEgbXVsdGlwbGUgb2YgNC5cclxuICAgICAqXHJcbiAgICAgKiBJbiB0aGlzIGNhc2UsIHRoZSBsYXN0IGdyb3VwIHdpbGwgaGF2ZSBmZXdlciB0aGFuIDQgY2hhcmFjdGVycywgYW5kXHJcbiAgICAgKiBwYWRkaW5nIHdpbGwgYmUgaW5mZXJyZWQuICBJZiB0aGUgZ3JvdXAgaGFzIG9uZSBvciB0d28gY2hhcmFjdGVycywgaXQgZGVjb2Rlc1xyXG4gICAgICogdG8gb25lIGJ5dGUuICBJZiB0aGUgZ3JvdXAgaGFzIHRocmVlIGNoYXJhY3RlcnMsIGl0IGRlY29kZXMgdG8gdHdvIGJ5dGVzLlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSBpbnB1dCBJbnB1dCB0byBkZWNvZGUuXHJcbiAgICAgKiBAcGFyYW0gd2ViU2FmZSBUcnVlIGlmIHdlIHNob3VsZCB1c2UgdGhlIHdlYi1zYWZlIGFscGhhYmV0LlxyXG4gICAgICogQHJldHVybiBieXRlcyByZXByZXNlbnRpbmcgdGhlIGRlY29kZWQgdmFsdWUuXHJcbiAgICAgKi9cclxuICAgIGRlY29kZVN0cmluZ1RvQnl0ZUFycmF5KGlucHV0LCB3ZWJTYWZlKSB7XHJcbiAgICAgICAgdGhpcy5pbml0XygpO1xyXG4gICAgICAgIGNvbnN0IGNoYXJUb0J5dGVNYXAgPSB3ZWJTYWZlXHJcbiAgICAgICAgICAgID8gdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9cclxuICAgICAgICAgICAgOiB0aGlzLmNoYXJUb0J5dGVNYXBfO1xyXG4gICAgICAgIGNvbnN0IG91dHB1dCA9IFtdO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOykge1xyXG4gICAgICAgICAgICBjb25zdCBieXRlMSA9IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkrKyldO1xyXG4gICAgICAgICAgICBjb25zdCBoYXZlQnl0ZTIgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBieXRlMiA9IGhhdmVCeXRlMiA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDA7XHJcbiAgICAgICAgICAgICsraTtcclxuICAgICAgICAgICAgY29uc3QgaGF2ZUJ5dGUzID0gaSA8IGlucHV0Lmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgYnl0ZTMgPSBoYXZlQnl0ZTMgPyBjaGFyVG9CeXRlTWFwW2lucHV0LmNoYXJBdChpKV0gOiA2NDtcclxuICAgICAgICAgICAgKytpO1xyXG4gICAgICAgICAgICBjb25zdCBoYXZlQnl0ZTQgPSBpIDwgaW5wdXQubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBieXRlNCA9IGhhdmVCeXRlNCA/IGNoYXJUb0J5dGVNYXBbaW5wdXQuY2hhckF0KGkpXSA6IDY0O1xyXG4gICAgICAgICAgICArK2k7XHJcbiAgICAgICAgICAgIGlmIChieXRlMSA9PSBudWxsIHx8IGJ5dGUyID09IG51bGwgfHwgYnl0ZTMgPT0gbnVsbCB8fCBieXRlNCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBvdXRCeXRlMSA9IChieXRlMSA8PCAyKSB8IChieXRlMiA+PiA0KTtcclxuICAgICAgICAgICAgb3V0cHV0LnB1c2gob3V0Qnl0ZTEpO1xyXG4gICAgICAgICAgICBpZiAoYnl0ZTMgIT09IDY0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRCeXRlMiA9ICgoYnl0ZTIgPDwgNCkgJiAweGYwKSB8IChieXRlMyA+PiAyKTtcclxuICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUyKTtcclxuICAgICAgICAgICAgICAgIGlmIChieXRlNCAhPT0gNjQpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCBvdXRCeXRlMyA9ICgoYnl0ZTMgPDwgNikgJiAweGMwKSB8IGJ5dGU0O1xyXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5wdXNoKG91dEJ5dGUzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gb3V0cHV0O1xyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogTGF6eSBzdGF0aWMgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24uIENhbGxlZCBiZWZvcmVcclxuICAgICAqIGFjY2Vzc2luZyBhbnkgb2YgdGhlIHN0YXRpYyBtYXAgdmFyaWFibGVzLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgaW5pdF8oKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmJ5dGVUb0NoYXJNYXBfKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYnl0ZVRvQ2hhck1hcF8gPSB7fTtcclxuICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwXyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlXyA9IHt9O1xyXG4gICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBXZWJTYWZlXyA9IHt9O1xyXG4gICAgICAgICAgICAvLyBXZSB3YW50IHF1aWNrIG1hcHBpbmdzIGJhY2sgYW5kIGZvcnRoLCBzbyB3ZSBwcmVjb21wdXRlIHR3byBtYXBzLlxyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuRU5DT0RFRF9WQUxTLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBfW2ldID0gdGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwX1t0aGlzLmJ5dGVUb0NoYXJNYXBfW2ldXSA9IGk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJ5dGVUb0NoYXJNYXBXZWJTYWZlX1tpXSA9IHRoaXMuRU5DT0RFRF9WQUxTX1dFQlNBRkUuY2hhckF0KGkpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9bdGhpcy5ieXRlVG9DaGFyTWFwV2ViU2FmZV9baV1dID0gaTtcclxuICAgICAgICAgICAgICAgIC8vIEJlIGZvcmdpdmluZyB3aGVuIGRlY29kaW5nIGFuZCBjb3JyZWN0bHkgZGVjb2RlIGJvdGggZW5jb2RpbmdzLlxyXG4gICAgICAgICAgICAgICAgaWYgKGkgPj0gdGhpcy5FTkNPREVEX1ZBTFNfQkFTRS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYXJUb0J5dGVNYXBfW3RoaXMuRU5DT0RFRF9WQUxTX1dFQlNBRkUuY2hhckF0KGkpXSA9IGk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFyVG9CeXRlTWFwV2ViU2FmZV9bdGhpcy5FTkNPREVEX1ZBTFMuY2hhckF0KGkpXSA9IGk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn07XHJcbi8qKlxyXG4gKiBBbiBlcnJvciBlbmNvdW50ZXJlZCB3aGlsZSBkZWNvZGluZyBiYXNlNjQgc3RyaW5nLlxyXG4gKi9cclxuY2xhc3MgRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xyXG4gICAgICAgIHRoaXMubmFtZSA9ICdEZWNvZGVCYXNlNjRTdHJpbmdFcnJvcic7XHJcbiAgICB9XHJcbn1cclxuLyoqXHJcbiAqIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZ1xyXG4gKi9cclxuY29uc3QgYmFzZTY0RW5jb2RlID0gZnVuY3Rpb24gKHN0cikge1xyXG4gICAgY29uc3QgdXRmOEJ5dGVzID0gc3RyaW5nVG9CeXRlQXJyYXkkMShzdHIpO1xyXG4gICAgcmV0dXJuIGJhc2U2NC5lbmNvZGVCeXRlQXJyYXkodXRmOEJ5dGVzLCB0cnVlKTtcclxufTtcclxuLyoqXHJcbiAqIFVSTC1zYWZlIGJhc2U2NCBlbmNvZGluZyAod2l0aG91dCBcIi5cIiBwYWRkaW5nIGluIHRoZSBlbmQpLlxyXG4gKiBlLmcuIFVzZWQgaW4gSlNPTiBXZWIgVG9rZW4gKEpXVCkgcGFydHMuXHJcbiAqL1xyXG5jb25zdCBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIC8vIFVzZSBiYXNlNjR1cmwgZW5jb2RpbmcgYW5kIHJlbW92ZSBwYWRkaW5nIGluIHRoZSBlbmQgKGRvdCBjaGFyYWN0ZXJzKS5cclxuICAgIHJldHVybiBiYXNlNjRFbmNvZGUoc3RyKS5yZXBsYWNlKC9cXC4vZywgJycpO1xyXG59O1xyXG4vKipcclxuICogVVJMLXNhZmUgYmFzZTY0IGRlY29kaW5nXHJcbiAqXHJcbiAqIE5PVEU6IERPIE5PVCB1c2UgdGhlIGdsb2JhbCBhdG9iKCkgZnVuY3Rpb24gLSBpdCBkb2VzIE5PVCBzdXBwb3J0IHRoZVxyXG4gKiBiYXNlNjRVcmwgdmFyaWFudCBlbmNvZGluZy5cclxuICpcclxuICogQHBhcmFtIHN0ciBUbyBiZSBkZWNvZGVkXHJcbiAqIEByZXR1cm4gRGVjb2RlZCByZXN1bHQsIGlmIHBvc3NpYmxlXHJcbiAqL1xyXG5jb25zdCBiYXNlNjREZWNvZGUgPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiBiYXNlNjQuZGVjb2RlU3RyaW5nKHN0ciwgdHJ1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Jhc2U2NERlY29kZSBmYWlsZWQ6ICcsIGUpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG51bGw7XHJcbn07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBEbyBhIGRlZXAtY29weSBvZiBiYXNpYyBKYXZhU2NyaXB0IE9iamVjdHMgb3IgQXJyYXlzLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcENvcHkodmFsdWUpIHtcclxuICAgIHJldHVybiBkZWVwRXh0ZW5kKHVuZGVmaW5lZCwgdmFsdWUpO1xyXG59XHJcbi8qKlxyXG4gKiBDb3B5IHByb3BlcnRpZXMgZnJvbSBzb3VyY2UgdG8gdGFyZ2V0IChyZWN1cnNpdmVseSBhbGxvd3MgZXh0ZW5zaW9uXHJcbiAqIG9mIE9iamVjdHMgYW5kIEFycmF5cykuICBTY2FsYXIgdmFsdWVzIGluIHRoZSB0YXJnZXQgYXJlIG92ZXItd3JpdHRlbi5cclxuICogSWYgdGFyZ2V0IGlzIHVuZGVmaW5lZCwgYW4gb2JqZWN0IG9mIHRoZSBhcHByb3ByaWF0ZSB0eXBlIHdpbGwgYmUgY3JlYXRlZFxyXG4gKiAoYW5kIHJldHVybmVkKS5cclxuICpcclxuICogV2UgcmVjdXJzaXZlbHkgY29weSBhbGwgY2hpbGQgcHJvcGVydGllcyBvZiBwbGFpbiBPYmplY3RzIGluIHRoZSBzb3VyY2UtIHNvXHJcbiAqIHRoYXQgbmFtZXNwYWNlLSBsaWtlIGRpY3Rpb25hcmllcyBhcmUgbWVyZ2VkLlxyXG4gKlxyXG4gKiBOb3RlIHRoYXQgdGhlIHRhcmdldCBjYW4gYmUgYSBmdW5jdGlvbiwgaW4gd2hpY2ggY2FzZSB0aGUgcHJvcGVydGllcyBpblxyXG4gKiB0aGUgc291cmNlIE9iamVjdCBhcmUgY29waWVkIG9udG8gaXQgYXMgc3RhdGljIHByb3BlcnRpZXMgb2YgdGhlIEZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBOb3RlOiB3ZSBkb24ndCBtZXJnZSBfX3Byb3RvX18gdG8gcHJldmVudCBwcm90b3R5cGUgcG9sbHV0aW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBkZWVwRXh0ZW5kKHRhcmdldCwgc291cmNlKSB7XHJcbiAgICBpZiAoIShzb3VyY2UgaW5zdGFuY2VvZiBPYmplY3QpKSB7XHJcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcclxuICAgIH1cclxuICAgIHN3aXRjaCAoc291cmNlLmNvbnN0cnVjdG9yKSB7XHJcbiAgICAgICAgY2FzZSBEYXRlOlxyXG4gICAgICAgICAgICAvLyBUcmVhdCBEYXRlcyBsaWtlIHNjYWxhcnM7IGlmIHRoZSB0YXJnZXQgZGF0ZSBvYmplY3QgaGFkIGFueSBjaGlsZFxyXG4gICAgICAgICAgICAvLyBwcm9wZXJ0aWVzIC0gdGhleSB3aWxsIGJlIGxvc3QhXHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGVWYWx1ZSA9IHNvdXJjZTtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKGRhdGVWYWx1ZS5nZXRUaW1lKCkpO1xyXG4gICAgICAgIGNhc2UgT2JqZWN0OlxyXG4gICAgICAgICAgICBpZiAodGFyZ2V0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRhcmdldCA9IHt9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgQXJyYXk6XHJcbiAgICAgICAgICAgIC8vIEFsd2F5cyBjb3B5IHRoZSBhcnJheSBzb3VyY2UgYW5kIG92ZXJ3cml0ZSB0aGUgdGFyZ2V0LlxyXG4gICAgICAgICAgICB0YXJnZXQgPSBbXTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy8gTm90IGEgcGxhaW4gT2JqZWN0IC0gdHJlYXQgaXQgYXMgYSBzY2FsYXIuXHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gc291cmNlKSB7XHJcbiAgICAgICAgLy8gdXNlIGlzVmFsaWRLZXkgdG8gZ3VhcmQgYWdhaW5zdCBwcm90b3R5cGUgcG9sbHV0aW9uLiBTZWUgaHR0cHM6Ly9zbnlrLmlvL3Z1bG4vU05ZSy1KUy1MT0RBU0gtNDUwMjAyXHJcbiAgICAgICAgaWYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkocHJvcCkgfHwgIWlzVmFsaWRLZXkocHJvcCkpIHtcclxuICAgICAgICAgICAgY29udGludWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IGRlZXBFeHRlbmQodGFyZ2V0W3Byb3BdLCBzb3VyY2VbcHJvcF0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRhcmdldDtcclxufVxyXG5mdW5jdGlvbiBpc1ZhbGlkS2V5KGtleSkge1xyXG4gICAgcmV0dXJuIGtleSAhPT0gJ19fcHJvdG9fXyc7XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIFBvbHlmaWxsIGZvciBgZ2xvYmFsVGhpc2Agb2JqZWN0LlxyXG4gKiBAcmV0dXJucyB0aGUgYGdsb2JhbFRoaXNgIG9iamVjdCBmb3IgdGhlIGdpdmVuIGVudmlyb25tZW50LlxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRHbG9iYWwoKSB7XHJcbiAgICBpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHNlbGY7XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm4gd2luZG93O1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGdsb2JhbDtcclxuICAgIH1cclxuICAgIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0LicpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMiBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRzRnJvbUdsb2JhbCA9ICgpID0+IGdldEdsb2JhbCgpLl9fRklSRUJBU0VfREVGQVVMVFNfXztcclxuLyoqXHJcbiAqIEF0dGVtcHQgdG8gcmVhZCBkZWZhdWx0cyBmcm9tIGEgSlNPTiBzdHJpbmcgcHJvdmlkZWQgdG9cclxuICogcHJvY2VzcyguKWVudiguKV9fRklSRUJBU0VfREVGQVVMVFNfXyBvciBhIEpTT04gZmlsZSB3aG9zZSBwYXRoIGlzIGluXHJcbiAqIHByb2Nlc3MoLillbnYoLilfX0ZJUkVCQVNFX0RFRkFVTFRTX1BBVEhfX1xyXG4gKiBUaGUgZG90cyBhcmUgaW4gcGFyZW5zIGJlY2F1c2UgY2VydGFpbiBjb21waWxlcnMgKFZpdGU/KSBjYW5ub3RcclxuICogaGFuZGxlIHNlZWluZyB0aGF0IHZhcmlhYmxlIGluIGNvbW1lbnRzLlxyXG4gKiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2ZpcmViYXNlL2ZpcmViYXNlLWpzLXNkay9pc3N1ZXMvNjgzOFxyXG4gKi9cclxuY29uc3QgZ2V0RGVmYXVsdHNGcm9tRW52VmFyaWFibGUgPSAoKSA9PiB7XHJcbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBwcm9jZXNzLmVudiA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zdCBkZWZhdWx0c0pzb25TdHJpbmcgPSBwcm9jZXNzLmVudi5fX0ZJUkVCQVNFX0RFRkFVTFRTX187XHJcbiAgICBpZiAoZGVmYXVsdHNKc29uU3RyaW5nKSB7XHJcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGVmYXVsdHNKc29uU3RyaW5nKTtcclxuICAgIH1cclxufTtcclxuY29uc3QgZ2V0RGVmYXVsdHNGcm9tQ29va2llID0gKCkgPT4ge1xyXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCA9PT0gJ3VuZGVmaW5lZCcpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgbWF0Y2g7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIG1hdGNoID0gZG9jdW1lbnQuY29va2llLm1hdGNoKC9fX0ZJUkVCQVNFX0RFRkFVTFRTX189KFteO10rKS8pO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAvLyBTb21lIGVudmlyb25tZW50cyBzdWNoIGFzIEFuZ3VsYXIgVW5pdmVyc2FsIFNTUiBoYXZlIGFcclxuICAgICAgICAvLyBgZG9jdW1lbnRgIG9iamVjdCBidXQgZXJyb3Igb24gYWNjZXNzaW5nIGBkb2N1bWVudC5jb29raWVgLlxyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGRlY29kZWQgPSBtYXRjaCAmJiBiYXNlNjREZWNvZGUobWF0Y2hbMV0pO1xyXG4gICAgcmV0dXJuIGRlY29kZWQgJiYgSlNPTi5wYXJzZShkZWNvZGVkKTtcclxufTtcclxuLyoqXHJcbiAqIEdldCB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdC4gSXQgY2hlY2tzIGluIG9yZGVyOlxyXG4gKiAoMSkgaWYgc3VjaCBhbiBvYmplY3QgZXhpc3RzIGFzIGEgcHJvcGVydHkgb2YgYGdsb2JhbFRoaXNgXHJcbiAqICgyKSBpZiBzdWNoIGFuIG9iamVjdCB3YXMgcHJvdmlkZWQgb24gYSBzaGVsbCBlbnZpcm9ubWVudCB2YXJpYWJsZVxyXG4gKiAoMykgaWYgc3VjaCBhbiBvYmplY3QgZXhpc3RzIGluIGEgY29va2llXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRzID0gKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gKGdldERlZmF1bHRzRnJvbUdsb2JhbCgpIHx8XHJcbiAgICAgICAgICAgIGdldERlZmF1bHRzRnJvbUVudlZhcmlhYmxlKCkgfHxcclxuICAgICAgICAgICAgZ2V0RGVmYXVsdHNGcm9tQ29va2llKCkpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBDYXRjaC1hbGwgZm9yIGJlaW5nIHVuYWJsZSB0byBnZXQgX19GSVJFQkFTRV9ERUZBVUxUU19fIGR1ZVxyXG4gICAgICAgICAqIHRvIGFueSBlbnZpcm9ubWVudCBjYXNlIHdlIGhhdmUgbm90IGFjY291bnRlZCBmb3IuIExvZyB0b1xyXG4gICAgICAgICAqIGluZm8gaW5zdGVhZCBvZiBzd2FsbG93aW5nIHNvIHdlIGNhbiBmaW5kIHRoZXNlIHVua25vd24gY2FzZXNcclxuICAgICAgICAgKiBhbmQgYWRkIHBhdGhzIGZvciB0aGVtIGlmIG5lZWRlZC5cclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zb2xlLmluZm8oYFVuYWJsZSB0byBnZXQgX19GSVJFQkFTRV9ERUZBVUxUU19fIGR1ZSB0bzogJHtlfWApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIFJldHVybnMgZW11bGF0b3IgaG9zdCBzdG9yZWQgaW4gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3RcclxuICogZm9yIHRoZSBnaXZlbiBwcm9kdWN0LlxyXG4gKiBAcmV0dXJucyBhIFVSTCBob3N0IGZvcm1hdHRlZCBsaWtlIGAxMjcuMC4wLjE6OTk5OWAgb3IgYFs6OjFdOjQwMDBgIGlmIGF2YWlsYWJsZVxyXG4gKiBAcHVibGljXHJcbiAqL1xyXG5jb25zdCBnZXREZWZhdWx0RW11bGF0b3JIb3N0ID0gKHByb2R1Y3ROYW1lKSA9PiB7IHZhciBfYSwgX2I7IHJldHVybiAoX2IgPSAoX2EgPSBnZXREZWZhdWx0cygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZW11bGF0b3JIb3N0cykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iW3Byb2R1Y3ROYW1lXTsgfTtcclxuLyoqXHJcbiAqIFJldHVybnMgZW11bGF0b3IgaG9zdG5hbWUgYW5kIHBvcnQgc3RvcmVkIGluIHRoZSBfX0ZJUkVCQVNFX0RFRkFVTFRTX18gb2JqZWN0XHJcbiAqIGZvciB0aGUgZ2l2ZW4gcHJvZHVjdC5cclxuICogQHJldHVybnMgYSBwYWlyIG9mIGhvc3RuYW1lIGFuZCBwb3J0IGxpa2UgYFtcIjo6MVwiLCA0MDAwXWAgaWYgYXZhaWxhYmxlXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IGdldERlZmF1bHRFbXVsYXRvckhvc3RuYW1lQW5kUG9ydCA9IChwcm9kdWN0TmFtZSkgPT4ge1xyXG4gICAgY29uc3QgaG9zdCA9IGdldERlZmF1bHRFbXVsYXRvckhvc3QocHJvZHVjdE5hbWUpO1xyXG4gICAgaWYgKCFob3N0KSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxuICAgIGNvbnN0IHNlcGFyYXRvckluZGV4ID0gaG9zdC5sYXN0SW5kZXhPZignOicpOyAvLyBGaW5kaW5nIHRoZSBsYXN0IHNpbmNlIElQdjYgYWRkciBhbHNvIGhhcyBjb2xvbnMuXHJcbiAgICBpZiAoc2VwYXJhdG9ySW5kZXggPD0gMCB8fCBzZXBhcmF0b3JJbmRleCArIDEgPT09IGhvc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGhvc3QgJHtob3N0fSB3aXRoIG5vIHNlcGFyYXRlIGhvc3RuYW1lIGFuZCBwb3J0IWApO1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtZ2xvYmFsc1xyXG4gICAgY29uc3QgcG9ydCA9IHBhcnNlSW50KGhvc3Quc3Vic3RyaW5nKHNlcGFyYXRvckluZGV4ICsgMSksIDEwKTtcclxuICAgIGlmIChob3N0WzBdID09PSAnWycpIHtcclxuICAgICAgICAvLyBCcmFja2V0LXF1b3RlZCBgW2lwdjZhZGRyXTpwb3J0YCA9PiByZXR1cm4gXCJpcHY2YWRkclwiICh3aXRob3V0IGJyYWNrZXRzKS5cclxuICAgICAgICByZXR1cm4gW2hvc3Quc3Vic3RyaW5nKDEsIHNlcGFyYXRvckluZGV4IC0gMSksIHBvcnRdO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIFtob3N0LnN1YnN0cmluZygwLCBzZXBhcmF0b3JJbmRleCksIHBvcnRdO1xyXG4gICAgfVxyXG59O1xyXG4vKipcclxuICogUmV0dXJucyBGaXJlYmFzZSBhcHAgY29uZmlnIHN0b3JlZCBpbiB0aGUgX19GSVJFQkFTRV9ERUZBVUxUU19fIG9iamVjdC5cclxuICogQHB1YmxpY1xyXG4gKi9cclxuY29uc3QgZ2V0RGVmYXVsdEFwcENvbmZpZyA9ICgpID0+IHsgdmFyIF9hOyByZXR1cm4gKF9hID0gZ2V0RGVmYXVsdHMoKSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNvbmZpZzsgfTtcclxuLyoqXHJcbiAqIFJldHVybnMgYW4gZXhwZXJpbWVudGFsIHNldHRpbmcgb24gdGhlIF9fRklSRUJBU0VfREVGQVVMVFNfXyBvYmplY3QgKHByb3BlcnRpZXNcclxuICogcHJlZml4ZWQgYnkgXCJfXCIpXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IGdldEV4cGVyaW1lbnRhbFNldHRpbmcgPSAobmFtZSkgPT4geyB2YXIgX2E7IHJldHVybiAoX2EgPSBnZXREZWZhdWx0cygpKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbYF8ke25hbWV9YF07IH07XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmNsYXNzIERlZmVycmVkIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMucmVqZWN0ID0gKCkgPT4geyB9O1xyXG4gICAgICAgIHRoaXMucmVzb2x2ZSA9ICgpID0+IHsgfTtcclxuICAgICAgICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMucmVzb2x2ZSA9IHJlc29sdmU7XHJcbiAgICAgICAgICAgIHRoaXMucmVqZWN0ID0gcmVqZWN0O1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBPdXIgQVBJIGludGVybmFscyBhcmUgbm90IHByb21pc2VpZmllZCBhbmQgY2Fubm90IGJlY2F1c2Ugb3VyIGNhbGxiYWNrIEFQSXMgaGF2ZSBzdWJ0bGUgZXhwZWN0YXRpb25zIGFyb3VuZFxyXG4gICAgICogaW52b2tpbmcgcHJvbWlzZXMgaW5saW5lLCB3aGljaCBQcm9taXNlcyBhcmUgZm9yYmlkZGVuIHRvIGRvLiBUaGlzIG1ldGhvZCBhY2NlcHRzIGFuIG9wdGlvbmFsIG5vZGUtc3R5bGUgY2FsbGJhY2tcclxuICAgICAqIGFuZCByZXR1cm5zIGEgbm9kZS1zdHlsZSBjYWxsYmFjayB3aGljaCB3aWxsIHJlc29sdmUgb3IgcmVqZWN0IHRoZSBEZWZlcnJlZCdzIHByb21pc2UuXHJcbiAgICAgKi9cclxuICAgIHdyYXBDYWxsYmFjayhjYWxsYmFjaykge1xyXG4gICAgICAgIHJldHVybiAoZXJyb3IsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWplY3QoZXJyb3IpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlKHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNhbGxiYWNrID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBBdHRhY2hpbmcgbm9vcCBoYW5kbGVyIGp1c3QgaW4gY2FzZSBkZXZlbG9wZXIgd2Fzbid0IGV4cGVjdGluZ1xyXG4gICAgICAgICAgICAgICAgLy8gcHJvbWlzZXNcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvbWlzZS5jYXRjaCgoKSA9PiB7IH0pO1xyXG4gICAgICAgICAgICAgICAgLy8gU29tZSBvZiBvdXIgY2FsbGJhY2tzIGRvbid0IGV4cGVjdCBhIHZhbHVlIGFuZCBvdXIgb3duIHRlc3RzXHJcbiAgICAgICAgICAgICAgICAvLyBhc3NlcnQgdGhhdCB0aGUgcGFyYW1ldGVyIGxlbmd0aCBpcyAxXHJcbiAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2subGVuZ3RoID09PSAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soZXJyb3IsIHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDIxIEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlTW9ja1VzZXJUb2tlbih0b2tlbiwgcHJvamVjdElkKSB7XHJcbiAgICBpZiAodG9rZW4udWlkKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJ1aWRcIiBmaWVsZCBpcyBubyBsb25nZXIgc3VwcG9ydGVkIGJ5IG1vY2tVc2VyVG9rZW4uIFBsZWFzZSB1c2UgXCJzdWJcIiBpbnN0ZWFkIGZvciBGaXJlYmFzZSBBdXRoIFVzZXIgSUQuJyk7XHJcbiAgICB9XHJcbiAgICAvLyBVbnNlY3VyZWQgSldUcyB1c2UgXCJub25lXCIgYXMgdGhlIGFsZ29yaXRobS5cclxuICAgIGNvbnN0IGhlYWRlciA9IHtcclxuICAgICAgICBhbGc6ICdub25lJyxcclxuICAgICAgICB0eXBlOiAnSldUJ1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHByb2plY3QgPSBwcm9qZWN0SWQgfHwgJ2RlbW8tcHJvamVjdCc7XHJcbiAgICBjb25zdCBpYXQgPSB0b2tlbi5pYXQgfHwgMDtcclxuICAgIGNvbnN0IHN1YiA9IHRva2VuLnN1YiB8fCB0b2tlbi51c2VyX2lkO1xyXG4gICAgaWYgKCFzdWIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJtb2NrVXNlclRva2VuIG11c3QgY29udGFpbiAnc3ViJyBvciAndXNlcl9pZCcgZmllbGQhXCIpO1xyXG4gICAgfVxyXG4gICAgY29uc3QgcGF5bG9hZCA9IE9iamVjdC5hc3NpZ24oeyBcclxuICAgICAgICAvLyBTZXQgYWxsIHJlcXVpcmVkIGZpZWxkcyB0byBkZWNlbnQgZGVmYXVsdHNcclxuICAgICAgICBpc3M6IGBodHRwczovL3NlY3VyZXRva2VuLmdvb2dsZS5jb20vJHtwcm9qZWN0fWAsIGF1ZDogcHJvamVjdCwgaWF0LCBleHA6IGlhdCArIDM2MDAsIGF1dGhfdGltZTogaWF0LCBzdWIsIHVzZXJfaWQ6IHN1YiwgZmlyZWJhc2U6IHtcclxuICAgICAgICAgICAgc2lnbl9pbl9wcm92aWRlcjogJ2N1c3RvbScsXHJcbiAgICAgICAgICAgIGlkZW50aXRpZXM6IHt9XHJcbiAgICAgICAgfSB9LCB0b2tlbik7XHJcbiAgICAvLyBVbnNlY3VyZWQgSldUcyB1c2UgdGhlIGVtcHR5IHN0cmluZyBhcyBhIHNpZ25hdHVyZS5cclxuICAgIGNvbnN0IHNpZ25hdHVyZSA9ICcnO1xyXG4gICAgcmV0dXJuIFtcclxuICAgICAgICBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeShoZWFkZXIpKSxcclxuICAgICAgICBiYXNlNjR1cmxFbmNvZGVXaXRob3V0UGFkZGluZyhKU09OLnN0cmluZ2lmeShwYXlsb2FkKSksXHJcbiAgICAgICAgc2lnbmF0dXJlXHJcbiAgICBdLmpvaW4oJy4nKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmV0dXJucyBuYXZpZ2F0b3IudXNlckFnZW50IHN0cmluZyBvciAnJyBpZiBpdCdzIG5vdCBkZWZpbmVkLlxyXG4gKiBAcmV0dXJuIHVzZXIgYWdlbnQgc3RyaW5nXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRVQSgpIHtcclxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3JbJ3VzZXJBZ2VudCddID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgIHJldHVybiBuYXZpZ2F0b3JbJ3VzZXJBZ2VudCddO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgQ29yZG92YSAvIFBob25lR2FwIC8gSW9uaWMgZnJhbWV3b3JrcyBvbiBhIG1vYmlsZSBkZXZpY2UuXHJcbiAqXHJcbiAqIERlbGliZXJhdGVseSBkb2VzIG5vdCByZWx5IG9uIGNoZWNraW5nIGBmaWxlOi8vYCBVUkxzIChhcyB0aGlzIGZhaWxzIFBob25lR2FwXHJcbiAqIGluIHRoZSBSaXBwbGUgZW11bGF0b3IpIG5vciBDb3Jkb3ZhIGBvbkRldmljZVJlYWR5YCwgd2hpY2ggd291bGQgbm9ybWFsbHlcclxuICogd2FpdCBmb3IgYSBjYWxsYmFjay5cclxuICovXHJcbmZ1bmN0aW9uIGlzTW9iaWxlQ29yZG92YSgpIHtcclxuICAgIHJldHVybiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcclxuICAgICAgICAvLyBAdHMtaWdub3JlIFNldHRpbmcgdXAgYW4gYnJvYWRseSBhcHBsaWNhYmxlIGluZGV4IHNpZ25hdHVyZSBmb3IgV2luZG93XHJcbiAgICAgICAgLy8ganVzdCB0byBkZWFsIHdpdGggdGhpcyBjYXNlIHdvdWxkIHByb2JhYmx5IGJlIGEgYmFkIGlkZWEuXHJcbiAgICAgICAgISEod2luZG93Wydjb3Jkb3ZhJ10gfHwgd2luZG93WydwaG9uZWdhcCddIHx8IHdpbmRvd1snUGhvbmVHYXAnXSkgJiZcclxuICAgICAgICAvaW9zfGlwaG9uZXxpcG9kfGlwYWR8YW5kcm9pZHxibGFja2JlcnJ5fGllbW9iaWxlL2kudGVzdChnZXRVQSgpKSk7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBOb2RlLmpzLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgTm9kZS5qcyBlbnZpcm9ubWVudCBpcyBkZXRlY3RlZCBvciBzcGVjaWZpZWQuXHJcbiAqL1xyXG4vLyBOb2RlIGRldGVjdGlvbiBsb2dpYyBmcm9tOiBodHRwczovL2dpdGh1Yi5jb20vaWxpYWthbi9kZXRlY3Qtbm9kZS9cclxuZnVuY3Rpb24gaXNOb2RlKCkge1xyXG4gICAgdmFyIF9hO1xyXG4gICAgY29uc3QgZm9yY2VFbnZpcm9ubWVudCA9IChfYSA9IGdldERlZmF1bHRzKCkpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5mb3JjZUVudmlyb25tZW50O1xyXG4gICAgaWYgKGZvcmNlRW52aXJvbm1lbnQgPT09ICdub2RlJykge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoZm9yY2VFbnZpcm9ubWVudCA9PT0gJ2Jyb3dzZXInKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuICAgICAgICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2VzcykgPT09ICdbb2JqZWN0IHByb2Nlc3NdJyk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZSkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufVxyXG4vKipcclxuICogRGV0ZWN0IEJyb3dzZXIgRW52aXJvbm1lbnRcclxuICovXHJcbmZ1bmN0aW9uIGlzQnJvd3NlcigpIHtcclxuICAgIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyB8fCBpc1dlYldvcmtlcigpO1xyXG59XHJcbi8qKlxyXG4gKiBEZXRlY3QgV2ViIFdvcmtlciBjb250ZXh0XHJcbiAqL1xyXG5mdW5jdGlvbiBpc1dlYldvcmtlcigpIHtcclxuICAgIHJldHVybiAodHlwZW9mIFdvcmtlckdsb2JhbFNjb3BlICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgIHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyAmJlxyXG4gICAgICAgIHNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSk7XHJcbn1cclxuZnVuY3Rpb24gaXNCcm93c2VyRXh0ZW5zaW9uKCkge1xyXG4gICAgY29uc3QgcnVudGltZSA9IHR5cGVvZiBjaHJvbWUgPT09ICdvYmplY3QnXHJcbiAgICAgICAgPyBjaHJvbWUucnVudGltZVxyXG4gICAgICAgIDogdHlwZW9mIGJyb3dzZXIgPT09ICdvYmplY3QnXHJcbiAgICAgICAgICAgID8gYnJvd3Nlci5ydW50aW1lXHJcbiAgICAgICAgICAgIDogdW5kZWZpbmVkO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBydW50aW1lID09PSAnb2JqZWN0JyAmJiBydW50aW1lLmlkICE9PSB1bmRlZmluZWQ7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCBSZWFjdCBOYXRpdmUuXHJcbiAqXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBSZWFjdE5hdGl2ZSBlbnZpcm9ubWVudCBpcyBkZXRlY3RlZC5cclxuICovXHJcbmZ1bmN0aW9uIGlzUmVhY3ROYXRpdmUoKSB7XHJcbiAgICByZXR1cm4gKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICdvYmplY3QnICYmIG5hdmlnYXRvclsncHJvZHVjdCddID09PSAnUmVhY3ROYXRpdmUnKTtcclxufVxyXG4vKiogRGV0ZWN0cyBFbGVjdHJvbiBhcHBzLiAqL1xyXG5mdW5jdGlvbiBpc0VsZWN0cm9uKCkge1xyXG4gICAgcmV0dXJuIGdldFVBKCkuaW5kZXhPZignRWxlY3Ryb24vJykgPj0gMDtcclxufVxyXG4vKiogRGV0ZWN0cyBJbnRlcm5ldCBFeHBsb3Jlci4gKi9cclxuZnVuY3Rpb24gaXNJRSgpIHtcclxuICAgIGNvbnN0IHVhID0gZ2V0VUEoKTtcclxuICAgIHJldHVybiB1YS5pbmRleE9mKCdNU0lFICcpID49IDAgfHwgdWEuaW5kZXhPZignVHJpZGVudC8nKSA+PSAwO1xyXG59XHJcbi8qKiBEZXRlY3RzIFVuaXZlcnNhbCBXaW5kb3dzIFBsYXRmb3JtIGFwcHMuICovXHJcbmZ1bmN0aW9uIGlzVVdQKCkge1xyXG4gICAgcmV0dXJuIGdldFVBKCkuaW5kZXhPZignTVNBcHBIb3N0LycpID49IDA7XHJcbn1cclxuLyoqXHJcbiAqIERldGVjdCB3aGV0aGVyIHRoZSBjdXJyZW50IFNESyBidWlsZCBpcyB0aGUgTm9kZSB2ZXJzaW9uLlxyXG4gKlxyXG4gKiBAcmV0dXJuIHRydWUgaWYgaXQncyB0aGUgTm9kZSBTREsgYnVpbGQuXHJcbiAqL1xyXG5mdW5jdGlvbiBpc05vZGVTZGsoKSB7XHJcbiAgICByZXR1cm4gQ09OU1RBTlRTLk5PREVfQ0xJRU5UID09PSB0cnVlIHx8IENPTlNUQU5UUy5OT0RFX0FETUlOID09PSB0cnVlO1xyXG59XHJcbi8qKiBSZXR1cm5zIHRydWUgaWYgd2UgYXJlIHJ1bm5pbmcgaW4gU2FmYXJpLiAqL1xyXG5mdW5jdGlvbiBpc1NhZmFyaSgpIHtcclxuICAgIHJldHVybiAoIWlzTm9kZSgpICYmXHJcbiAgICAgICAgISFuYXZpZ2F0b3IudXNlckFnZW50ICYmXHJcbiAgICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnU2FmYXJpJykgJiZcclxuICAgICAgICAhbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygnQ2hyb21lJykpO1xyXG59XHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCBjaGVja3MgaWYgaW5kZXhlZERCIGlzIHN1cHBvcnRlZCBieSBjdXJyZW50IGJyb3dzZXIvc2VydmljZSB3b3JrZXIgY29udGV4dFxyXG4gKiBAcmV0dXJuIHRydWUgaWYgaW5kZXhlZERCIGlzIHN1cHBvcnRlZCBieSBjdXJyZW50IGJyb3dzZXIvc2VydmljZSB3b3JrZXIgY29udGV4dFxyXG4gKi9cclxuZnVuY3Rpb24gaXNJbmRleGVkREJBdmFpbGFibGUoKSB7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHJldHVybiB0eXBlb2YgaW5kZXhlZERCID09PSAnb2JqZWN0JztcclxuICAgIH1cclxuICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcbi8qKlxyXG4gKiBUaGlzIG1ldGhvZCB2YWxpZGF0ZXMgYnJvd3Nlci9zdyBjb250ZXh0IGZvciBpbmRleGVkREIgYnkgb3BlbmluZyBhIGR1bW15IGluZGV4ZWREQiBkYXRhYmFzZSBhbmQgcmVqZWN0XHJcbiAqIGlmIGVycm9ycyBvY2N1ciBkdXJpbmcgdGhlIGRhdGFiYXNlIG9wZW4gb3BlcmF0aW9uLlxyXG4gKlxyXG4gKiBAdGhyb3dzIGV4Y2VwdGlvbiBpZiBjdXJyZW50IGJyb3dzZXIvc3cgY29udGV4dCBjYW4ndCBydW4gaWRiLm9wZW4gKGV4OiBTYWZhcmkgaWZyYW1lLCBGaXJlZm94XHJcbiAqIHByaXZhdGUgYnJvd3NpbmcpXHJcbiAqL1xyXG5mdW5jdGlvbiB2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlKCkge1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgcHJlRXhpc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zdCBEQl9DSEVDS19OQU1FID0gJ3ZhbGlkYXRlLWJyb3dzZXItY29udGV4dC1mb3ItaW5kZXhlZGRiLWFuYWx5dGljcy1tb2R1bGUnO1xyXG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gc2VsZi5pbmRleGVkREIub3BlbihEQl9DSEVDS19OQU1FKTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnN1Y2Nlc3MgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICByZXF1ZXN0LnJlc3VsdC5jbG9zZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gZGVsZXRlIGRhdGFiYXNlIG9ubHkgd2hlbiBpdCBkb2Vzbid0IHByZS1leGlzdFxyXG4gICAgICAgICAgICAgICAgaWYgKCFwcmVFeGlzdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKERCX0NIRUNLX05BTUUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgcmVxdWVzdC5vbnVwZ3JhZGVuZWVkZWQgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBwcmVFeGlzdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXF1ZXN0Lm9uZXJyb3IgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgICAgICAgICByZWplY3QoKChfYSA9IHJlcXVlc3QuZXJyb3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5tZXNzYWdlKSB8fCAnJyk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICByZWplY3QoZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbi8qKlxyXG4gKlxyXG4gKiBUaGlzIG1ldGhvZCBjaGVja3Mgd2hldGhlciBjb29raWUgaXMgZW5hYmxlZCB3aXRoaW4gY3VycmVudCBicm93c2VyXHJcbiAqIEByZXR1cm4gdHJ1ZSBpZiBjb29raWUgaXMgZW5hYmxlZCB3aXRoaW4gY3VycmVudCBicm93c2VyXHJcbiAqL1xyXG5mdW5jdGlvbiBhcmVDb29raWVzRW5hYmxlZCgpIHtcclxuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJyB8fCAhbmF2aWdhdG9yLmNvb2tpZUVuYWJsZWQpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQGZpbGVvdmVydmlldyBTdGFuZGFyZGl6ZWQgRmlyZWJhc2UgRXJyb3IuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKlxyXG4gKiAgIC8vIFR5cGVzY3JpcHQgc3RyaW5nIGxpdGVyYWxzIGZvciB0eXBlLXNhZmUgY29kZXNcclxuICogICB0eXBlIEVyciA9XHJcbiAqICAgICAndW5rbm93bicgfFxyXG4gKiAgICAgJ29iamVjdC1ub3QtZm91bmQnXHJcbiAqICAgICA7XHJcbiAqXHJcbiAqICAgLy8gQ2xvc3VyZSBlbnVtIGZvciB0eXBlLXNhZmUgZXJyb3IgY29kZXNcclxuICogICAvLyBhdC1lbnVtIHtzdHJpbmd9XHJcbiAqICAgdmFyIEVyciA9IHtcclxuICogICAgIFVOS05PV046ICd1bmtub3duJyxcclxuICogICAgIE9CSkVDVF9OT1RfRk9VTkQ6ICdvYmplY3Qtbm90LWZvdW5kJyxcclxuICogICB9XHJcbiAqXHJcbiAqICAgbGV0IGVycm9yczogTWFwPEVyciwgc3RyaW5nPiA9IHtcclxuICogICAgICdnZW5lcmljLWVycm9yJzogXCJVbmtub3duIGVycm9yXCIsXHJcbiAqICAgICAnZmlsZS1ub3QtZm91bmQnOiBcIkNvdWxkIG5vdCBmaW5kIGZpbGU6IHskZmlsZX1cIixcclxuICogICB9O1xyXG4gKlxyXG4gKiAgIC8vIFR5cGUtc2FmZSBmdW5jdGlvbiAtIG11c3QgcGFzcyBhIHZhbGlkIGVycm9yIGNvZGUgYXMgcGFyYW0uXHJcbiAqICAgbGV0IGVycm9yID0gbmV3IEVycm9yRmFjdG9yeTxFcnI+KCdzZXJ2aWNlJywgJ1NlcnZpY2UnLCBlcnJvcnMpO1xyXG4gKlxyXG4gKiAgIC4uLlxyXG4gKiAgIHRocm93IGVycm9yLmNyZWF0ZShFcnIuR0VORVJJQyk7XHJcbiAqICAgLi4uXHJcbiAqICAgdGhyb3cgZXJyb3IuY3JlYXRlKEVyci5GSUxFX05PVF9GT1VORCwgeydmaWxlJzogZmlsZU5hbWV9KTtcclxuICogICAuLi5cclxuICogICAvLyBTZXJ2aWNlOiBDb3VsZCBub3QgZmlsZSBmaWxlOiBmb28udHh0IChzZXJ2aWNlL2ZpbGUtbm90LWZvdW5kKS5cclxuICpcclxuICogICBjYXRjaCAoZSkge1xyXG4gKiAgICAgYXNzZXJ0KGUubWVzc2FnZSA9PT0gXCJDb3VsZCBub3QgZmluZCBmaWxlOiBmb28udHh0LlwiKTtcclxuICogICAgIGlmICgoZSBhcyBGaXJlYmFzZUVycm9yKT8uY29kZSA9PT0gJ3NlcnZpY2UvZmlsZS1ub3QtZm91bmQnKSB7XHJcbiAqICAgICAgIGNvbnNvbGUubG9nKFwiQ291bGQgbm90IHJlYWQgZmlsZTogXCIgKyBlWydmaWxlJ10pO1xyXG4gKiAgICAgfVxyXG4gKiAgIH1cclxuICovXHJcbmNvbnN0IEVSUk9SX05BTUUgPSAnRmlyZWJhc2VFcnJvcic7XHJcbi8vIEJhc2VkIG9uIGNvZGUgZnJvbTpcclxuLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvRXJyb3IjQ3VzdG9tX0Vycm9yX1R5cGVzXHJcbmNsYXNzIEZpcmViYXNlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XHJcbiAgICBjb25zdHJ1Y3RvcihcclxuICAgIC8qKiBUaGUgZXJyb3IgY29kZSBmb3IgdGhpcyBlcnJvci4gKi9cclxuICAgIGNvZGUsIG1lc3NhZ2UsIFxyXG4gICAgLyoqIEN1c3RvbSBkYXRhIGZvciB0aGlzIGVycm9yLiAqL1xyXG4gICAgY3VzdG9tRGF0YSkge1xyXG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xyXG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XHJcbiAgICAgICAgdGhpcy5jdXN0b21EYXRhID0gY3VzdG9tRGF0YTtcclxuICAgICAgICAvKiogVGhlIGN1c3RvbSBuYW1lIGZvciBhbGwgRmlyZWJhc2VFcnJvcnMuICovXHJcbiAgICAgICAgdGhpcy5uYW1lID0gRVJST1JfTkFNRTtcclxuICAgICAgICAvLyBGaXggRm9yIEVTNVxyXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9NaWNyb3NvZnQvVHlwZVNjcmlwdC13aWtpL2Jsb2IvbWFzdGVyL0JyZWFraW5nLUNoYW5nZXMubWQjZXh0ZW5kaW5nLWJ1aWx0LWlucy1saWtlLWVycm9yLWFycmF5LWFuZC1tYXAtbWF5LW5vLWxvbmdlci13b3JrXHJcbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIEZpcmViYXNlRXJyb3IucHJvdG90eXBlKTtcclxuICAgICAgICAvLyBNYWludGFpbnMgcHJvcGVyIHN0YWNrIHRyYWNlIGZvciB3aGVyZSBvdXIgZXJyb3Igd2FzIHRocm93bi5cclxuICAgICAgICAvLyBPbmx5IGF2YWlsYWJsZSBvbiBWOC5cclxuICAgICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpIHtcclxuICAgICAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXJyb3JGYWN0b3J5LnByb3RvdHlwZS5jcmVhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5jbGFzcyBFcnJvckZhY3Rvcnkge1xyXG4gICAgY29uc3RydWN0b3Ioc2VydmljZSwgc2VydmljZU5hbWUsIGVycm9ycykge1xyXG4gICAgICAgIHRoaXMuc2VydmljZSA9IHNlcnZpY2U7XHJcbiAgICAgICAgdGhpcy5zZXJ2aWNlTmFtZSA9IHNlcnZpY2VOYW1lO1xyXG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xyXG4gICAgfVxyXG4gICAgY3JlYXRlKGNvZGUsIC4uLmRhdGEpIHtcclxuICAgICAgICBjb25zdCBjdXN0b21EYXRhID0gZGF0YVswXSB8fCB7fTtcclxuICAgICAgICBjb25zdCBmdWxsQ29kZSA9IGAke3RoaXMuc2VydmljZX0vJHtjb2RlfWA7XHJcbiAgICAgICAgY29uc3QgdGVtcGxhdGUgPSB0aGlzLmVycm9yc1tjb2RlXTtcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gdGVtcGxhdGUgPyByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGUsIGN1c3RvbURhdGEpIDogJ0Vycm9yJztcclxuICAgICAgICAvLyBTZXJ2aWNlIE5hbWU6IEVycm9yIG1lc3NhZ2UgKHNlcnZpY2UvY29kZSkuXHJcbiAgICAgICAgY29uc3QgZnVsbE1lc3NhZ2UgPSBgJHt0aGlzLnNlcnZpY2VOYW1lfTogJHttZXNzYWdlfSAoJHtmdWxsQ29kZX0pLmA7XHJcbiAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRmlyZWJhc2VFcnJvcihmdWxsQ29kZSwgZnVsbE1lc3NhZ2UsIGN1c3RvbURhdGEpO1xyXG4gICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiByZXBsYWNlVGVtcGxhdGUodGVtcGxhdGUsIGRhdGEpIHtcclxuICAgIHJldHVybiB0ZW1wbGF0ZS5yZXBsYWNlKFBBVFRFUk4sIChfLCBrZXkpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGRhdGFba2V5XTtcclxuICAgICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCA/IFN0cmluZyh2YWx1ZSkgOiBgPCR7a2V5fT8+YDtcclxuICAgIH0pO1xyXG59XHJcbmNvbnN0IFBBVFRFUk4gPSAvXFx7XFwkKFtefV0rKX0vZztcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLyoqXHJcbiAqIEV2YWx1YXRlcyBhIEpTT04gc3RyaW5nIGludG8gYSBqYXZhc2NyaXB0IG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtzdHJpbmd9IHN0ciBBIHN0cmluZyBjb250YWluaW5nIEpTT04uXHJcbiAqIEByZXR1cm4geyp9IFRoZSBqYXZhc2NyaXB0IG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHNwZWNpZmllZCBKU09OLlxyXG4gKi9cclxuZnVuY3Rpb24ganNvbkV2YWwoc3RyKSB7XHJcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xyXG59XHJcbi8qKlxyXG4gKiBSZXR1cm5zIEpTT04gcmVwcmVzZW50aW5nIGEgamF2YXNjcmlwdCBvYmplY3QuXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBKYXZhc2NyaXB0IG9iamVjdCB0byBiZSBzdHJpbmdpZmllZC5cclxuICogQHJldHVybiB7c3RyaW5nfSBUaGUgSlNPTiBjb250ZW50cyBvZiB0aGUgb2JqZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gc3RyaW5naWZ5KGRhdGEpIHtcclxuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGludG8gY29uc3RpdHVlbnQgcGFydHMuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gd2l0aCBpbnZhbGlkIC8gaW5jb21wbGV0ZSBjbGFpbXMgaWYgdGhlcmUncyBubyBuYXRpdmUgYmFzZTY0IGRlY29kaW5nIHN1cHBvcnQuXHJcbiAqIC0gRG9lc24ndCBjaGVjayBpZiB0aGUgdG9rZW4gaXMgYWN0dWFsbHkgdmFsaWQuXHJcbiAqL1xyXG5jb25zdCBkZWNvZGUgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGxldCBoZWFkZXIgPSB7fSwgY2xhaW1zID0ge30sIGRhdGEgPSB7fSwgc2lnbmF0dXJlID0gJyc7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gdG9rZW4uc3BsaXQoJy4nKTtcclxuICAgICAgICBoZWFkZXIgPSBqc29uRXZhbChiYXNlNjREZWNvZGUocGFydHNbMF0pIHx8ICcnKTtcclxuICAgICAgICBjbGFpbXMgPSBqc29uRXZhbChiYXNlNjREZWNvZGUocGFydHNbMV0pIHx8ICcnKTtcclxuICAgICAgICBzaWduYXR1cmUgPSBwYXJ0c1syXTtcclxuICAgICAgICBkYXRhID0gY2xhaW1zWydkJ10gfHwge307XHJcbiAgICAgICAgZGVsZXRlIGNsYWltc1snZCddO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGUpIHsgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBoZWFkZXIsXHJcbiAgICAgICAgY2xhaW1zLFxyXG4gICAgICAgIGRhdGEsXHJcbiAgICAgICAgc2lnbmF0dXJlXHJcbiAgICB9O1xyXG59O1xyXG4vKipcclxuICogRGVjb2RlcyBhIEZpcmViYXNlIGF1dGguIHRva2VuIGFuZCBjaGVja3MgdGhlIHZhbGlkaXR5IG9mIGl0cyB0aW1lLWJhc2VkIGNsYWltcy4gV2lsbCByZXR1cm4gdHJ1ZSBpZiB0aGVcclxuICogdG9rZW4gaXMgd2l0aGluIHRoZSB0aW1lIHdpbmRvdyBhdXRob3JpemVkIGJ5IHRoZSAnbmJmJyAobm90LWJlZm9yZSkgYW5kICdpYXQnIChpc3N1ZWQtYXQpIGNsYWltcy5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBhIGZhbHNlIG5lZ2F0aXZlIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxuY29uc3QgaXNWYWxpZFRpbWVzdGFtcCA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgY29uc3QgY2xhaW1zID0gZGVjb2RlKHRva2VuKS5jbGFpbXM7XHJcbiAgICBjb25zdCBub3cgPSBNYXRoLmZsb29yKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCk7XHJcbiAgICBsZXQgdmFsaWRTaW5jZSA9IDAsIHZhbGlkVW50aWwgPSAwO1xyXG4gICAgaWYgKHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnKSB7XHJcbiAgICAgICAgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnbmJmJykpIHtcclxuICAgICAgICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snbmJmJ107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGNsYWltcy5oYXNPd25Qcm9wZXJ0eSgnaWF0JykpIHtcclxuICAgICAgICAgICAgdmFsaWRTaW5jZSA9IGNsYWltc1snaWF0J107XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2V4cCcpKSB7XHJcbiAgICAgICAgICAgIHZhbGlkVW50aWwgPSBjbGFpbXNbJ2V4cCddO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgLy8gdG9rZW4gd2lsbCBleHBpcmUgYWZ0ZXIgMjRoIGJ5IGRlZmF1bHRcclxuICAgICAgICAgICAgdmFsaWRVbnRpbCA9IHZhbGlkU2luY2UgKyA4NjQwMDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gKCEhbm93ICYmXHJcbiAgICAgICAgISF2YWxpZFNpbmNlICYmXHJcbiAgICAgICAgISF2YWxpZFVudGlsICYmXHJcbiAgICAgICAgbm93ID49IHZhbGlkU2luY2UgJiZcclxuICAgICAgICBub3cgPD0gdmFsaWRVbnRpbCk7XHJcbn07XHJcbi8qKlxyXG4gKiBEZWNvZGVzIGEgRmlyZWJhc2UgYXV0aC4gdG9rZW4gYW5kIHJldHVybnMgaXRzIGlzc3VlZCBhdCB0aW1lIGlmIHZhbGlkLCBudWxsIG90aGVyd2lzZS5cclxuICpcclxuICogTm90ZXM6XHJcbiAqIC0gTWF5IHJldHVybiBudWxsIGlmIHRoZXJlJ3Mgbm8gbmF0aXZlIGJhc2U2NCBkZWNvZGluZyBzdXBwb3J0LlxyXG4gKiAtIERvZXNuJ3QgY2hlY2sgaWYgdGhlIHRva2VuIGlzIGFjdHVhbGx5IHZhbGlkLlxyXG4gKi9cclxuY29uc3QgaXNzdWVkQXRUaW1lID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICBjb25zdCBjbGFpbXMgPSBkZWNvZGUodG9rZW4pLmNsYWltcztcclxuICAgIGlmICh0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsYWltc1snaWF0J107XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbnVsbDtcclxufTtcclxuLyoqXHJcbiAqIERlY29kZXMgYSBGaXJlYmFzZSBhdXRoLiB0b2tlbiBhbmQgY2hlY2tzIHRoZSB2YWxpZGl0eSBvZiBpdHMgZm9ybWF0LiBFeHBlY3RzIGEgdmFsaWQgaXNzdWVkLWF0IHRpbWUuXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGlzVmFsaWRGb3JtYXQgPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGNvbnN0IGRlY29kZWQgPSBkZWNvZGUodG9rZW4pLCBjbGFpbXMgPSBkZWNvZGVkLmNsYWltcztcclxuICAgIHJldHVybiAhIWNsYWltcyAmJiB0eXBlb2YgY2xhaW1zID09PSAnb2JqZWN0JyAmJiBjbGFpbXMuaGFzT3duUHJvcGVydHkoJ2lhdCcpO1xyXG59O1xyXG4vKipcclxuICogQXR0ZW1wdHMgdG8gcGVlciBpbnRvIGFuIGF1dGggdG9rZW4gYW5kIGRldGVybWluZSBpZiBpdCdzIGFuIGFkbWluIGF1dGggdG9rZW4gYnkgbG9va2luZyBhdCB0aGUgY2xhaW1zIHBvcnRpb24uXHJcbiAqXHJcbiAqIE5vdGVzOlxyXG4gKiAtIE1heSByZXR1cm4gYSBmYWxzZSBuZWdhdGl2ZSBpZiB0aGVyZSdzIG5vIG5hdGl2ZSBiYXNlNjQgZGVjb2Rpbmcgc3VwcG9ydC5cclxuICogLSBEb2Vzbid0IGNoZWNrIGlmIHRoZSB0b2tlbiBpcyBhY3R1YWxseSB2YWxpZC5cclxuICovXHJcbmNvbnN0IGlzQWRtaW4gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgIGNvbnN0IGNsYWltcyA9IGRlY29kZSh0b2tlbikuY2xhaW1zO1xyXG4gICAgcmV0dXJuIHR5cGVvZiBjbGFpbXMgPT09ICdvYmplY3QnICYmIGNsYWltc1snYWRtaW4nXSA9PT0gdHJ1ZTtcclxufTtcblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuZnVuY3Rpb24gY29udGFpbnMob2JqLCBrZXkpIHtcclxuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpO1xyXG59XHJcbmZ1bmN0aW9uIHNhZmVHZXQob2JqLCBrZXkpIHtcclxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIG9ialtrZXldO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH1cclxufVxyXG5mdW5jdGlvbiBpc0VtcHR5KG9iaikge1xyXG4gICAgZm9yIChjb25zdCBrZXkgaW4gb2JqKSB7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIG1hcChvYmosIGZuLCBjb250ZXh0T2JqKSB7XHJcbiAgICBjb25zdCByZXMgPSB7fTtcclxuICAgIGZvciAoY29uc3Qga2V5IGluIG9iaikge1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XHJcbiAgICAgICAgICAgIHJlc1trZXldID0gZm4uY2FsbChjb250ZXh0T2JqLCBvYmpba2V5XSwga2V5LCBvYmopO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXM7XHJcbn1cclxuLyoqXHJcbiAqIERlZXAgZXF1YWwgdHdvIG9iamVjdHMuIFN1cHBvcnQgQXJyYXlzIGFuZCBPYmplY3RzLlxyXG4gKi9cclxuZnVuY3Rpb24gZGVlcEVxdWFsKGEsIGIpIHtcclxuICAgIGlmIChhID09PSBiKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcbiAgICBjb25zdCBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xyXG4gICAgY29uc3QgYktleXMgPSBPYmplY3Qua2V5cyhiKTtcclxuICAgIGZvciAoY29uc3QgayBvZiBhS2V5cykge1xyXG4gICAgICAgIGlmICghYktleXMuaW5jbHVkZXMoaykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhUHJvcCA9IGFba107XHJcbiAgICAgICAgY29uc3QgYlByb3AgPSBiW2tdO1xyXG4gICAgICAgIGlmIChpc09iamVjdChhUHJvcCkgJiYgaXNPYmplY3QoYlByb3ApKSB7XHJcbiAgICAgICAgICAgIGlmICghZGVlcEVxdWFsKGFQcm9wLCBiUHJvcCkpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChhUHJvcCAhPT0gYlByb3ApIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGZvciAoY29uc3QgayBvZiBiS2V5cykge1xyXG4gICAgICAgIGlmICghYUtleXMuaW5jbHVkZXMoaykpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcbmZ1bmN0aW9uIGlzT2JqZWN0KHRoaW5nKSB7XHJcbiAgICByZXR1cm4gdGhpbmcgIT09IG51bGwgJiYgdHlwZW9mIHRoaW5nID09PSAnb2JqZWN0JztcclxufVxuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogUmVqZWN0cyBpZiB0aGUgZ2l2ZW4gcHJvbWlzZSBkb2Vzbid0IHJlc29sdmUgaW4gdGltZUluTVMgbWlsbGlzZWNvbmRzLlxyXG4gKiBAaW50ZXJuYWxcclxuICovXHJcbmZ1bmN0aW9uIHByb21pc2VXaXRoVGltZW91dChwcm9taXNlLCB0aW1lSW5NUyA9IDIwMDApIHtcclxuICAgIGNvbnN0IGRlZmVycmVkUHJvbWlzZSA9IG5ldyBEZWZlcnJlZCgpO1xyXG4gICAgc2V0VGltZW91dCgoKSA9PiBkZWZlcnJlZFByb21pc2UucmVqZWN0KCd0aW1lb3V0IScpLCB0aW1lSW5NUyk7XHJcbiAgICBwcm9taXNlLnRoZW4oZGVmZXJyZWRQcm9taXNlLnJlc29sdmUsIGRlZmVycmVkUHJvbWlzZS5yZWplY3QpO1xyXG4gICAgcmV0dXJuIGRlZmVycmVkUHJvbWlzZS5wcm9taXNlO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBSZXR1cm5zIGEgcXVlcnlzdHJpbmctZm9ybWF0dGVkIHN0cmluZyAoZS5nLiAmYXJnPXZhbCZhcmcyPXZhbDIpIGZyb20gYVxyXG4gKiBwYXJhbXMgb2JqZWN0IChlLmcuIHthcmc6ICd2YWwnLCBhcmcyOiAndmFsMid9KVxyXG4gKiBOb3RlOiBZb3UgbXVzdCBwcmVwZW5kIGl0IHdpdGggPyB3aGVuIGFkZGluZyBpdCB0byBhIFVSTC5cclxuICovXHJcbmZ1bmN0aW9uIHF1ZXJ5c3RyaW5nKHF1ZXJ5c3RyaW5nUGFyYW1zKSB7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcclxuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHF1ZXJ5c3RyaW5nUGFyYW1zKSkge1xyXG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xyXG4gICAgICAgICAgICB2YWx1ZS5mb3JFYWNoKGFycmF5VmFsID0+IHtcclxuICAgICAgICAgICAgICAgIHBhcmFtcy5wdXNoKGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KGFycmF5VmFsKSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcGFyYW1zLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQodmFsdWUpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGFyYW1zLmxlbmd0aCA/ICcmJyArIHBhcmFtcy5qb2luKCcmJykgOiAnJztcclxufVxyXG4vKipcclxuICogRGVjb2RlcyBhIHF1ZXJ5c3RyaW5nIChlLmcuID9hcmc9dmFsJmFyZzI9dmFsMikgaW50byBhIHBhcmFtcyBvYmplY3RcclxuICogKGUuZy4ge2FyZzogJ3ZhbCcsIGFyZzI6ICd2YWwyJ30pXHJcbiAqL1xyXG5mdW5jdGlvbiBxdWVyeXN0cmluZ0RlY29kZShxdWVyeXN0cmluZykge1xyXG4gICAgY29uc3Qgb2JqID0ge307XHJcbiAgICBjb25zdCB0b2tlbnMgPSBxdWVyeXN0cmluZy5yZXBsYWNlKC9eXFw/LywgJycpLnNwbGl0KCcmJyk7XHJcbiAgICB0b2tlbnMuZm9yRWFjaCh0b2tlbiA9PiB7XHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIHZhbHVlXSA9IHRva2VuLnNwbGl0KCc9Jyk7XHJcbiAgICAgICAgICAgIG9ialtkZWNvZGVVUklDb21wb25lbnQoa2V5KV0gPSBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIG9iajtcclxufVxyXG4vKipcclxuICogRXh0cmFjdCB0aGUgcXVlcnkgc3RyaW5nIHBhcnQgb2YgYSBVUkwsIGluY2x1ZGluZyB0aGUgbGVhZGluZyBxdWVzdGlvbiBtYXJrIChpZiBwcmVzZW50KS5cclxuICovXHJcbmZ1bmN0aW9uIGV4dHJhY3RRdWVyeXN0cmluZyh1cmwpIHtcclxuICAgIGNvbnN0IHF1ZXJ5U3RhcnQgPSB1cmwuaW5kZXhPZignPycpO1xyXG4gICAgaWYgKCFxdWVyeVN0YXJ0KSB7XHJcbiAgICAgICAgcmV0dXJuICcnO1xyXG4gICAgfVxyXG4gICAgY29uc3QgZnJhZ21lbnRTdGFydCA9IHVybC5pbmRleE9mKCcjJywgcXVlcnlTdGFydCk7XHJcbiAgICByZXR1cm4gdXJsLnN1YnN0cmluZyhxdWVyeVN0YXJ0LCBmcmFnbWVudFN0YXJ0ID4gMCA/IGZyYWdtZW50U3RhcnQgOiB1bmRlZmluZWQpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBAZmlsZW92ZXJ2aWV3IFNIQS0xIGNyeXB0b2dyYXBoaWMgaGFzaC5cclxuICogVmFyaWFibGUgbmFtZXMgZm9sbG93IHRoZSBub3RhdGlvbiBpbiBGSVBTIFBVQiAxODAtMzpcclxuICogaHR0cDovL2NzcmMubmlzdC5nb3YvcHVibGljYXRpb25zL2ZpcHMvZmlwczE4MC0zL2ZpcHMxODAtM19maW5hbC5wZGYuXHJcbiAqXHJcbiAqIFVzYWdlOlxyXG4gKiAgIHZhciBzaGExID0gbmV3IHNoYTEoKTtcclxuICogICBzaGExLnVwZGF0ZShieXRlcyk7XHJcbiAqICAgdmFyIGhhc2ggPSBzaGExLmRpZ2VzdCgpO1xyXG4gKlxyXG4gKiBQZXJmb3JtYW5jZTpcclxuICogICBDaHJvbWUgMjM6ICAgfjQwMCBNYml0L3NcclxuICogICBGaXJlZm94IDE2OiAgfjI1MCBNYml0L3NcclxuICpcclxuICovXHJcbi8qKlxyXG4gKiBTSEEtMSBjcnlwdG9ncmFwaGljIGhhc2ggY29uc3RydWN0b3IuXHJcbiAqXHJcbiAqIFRoZSBwcm9wZXJ0aWVzIGRlY2xhcmVkIGhlcmUgYXJlIGRpc2N1c3NlZCBpbiB0aGUgYWJvdmUgYWxnb3JpdGhtIGRvY3VtZW50LlxyXG4gKiBAY29uc3RydWN0b3JcclxuICogQGZpbmFsXHJcbiAqIEBzdHJ1Y3RcclxuICovXHJcbmNsYXNzIFNoYTEge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogSG9sZHMgdGhlIHByZXZpb3VzIHZhbHVlcyBvZiBhY2N1bXVsYXRlZCB2YXJpYWJsZXMgYS1lIGluIHRoZSBjb21wcmVzc19cclxuICAgICAgICAgKiBmdW5jdGlvbi5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuY2hhaW5fID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQSBidWZmZXIgaG9sZGluZyB0aGUgcGFydGlhbGx5IGNvbXB1dGVkIGhhc2ggcmVzdWx0LlxyXG4gICAgICAgICAqIEBwcml2YXRlXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5idWZfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQW4gYXJyYXkgb2YgODAgYnl0ZXMsIGVhY2ggYSBwYXJ0IG9mIHRoZSBtZXNzYWdlIHRvIGJlIGhhc2hlZC4gIFJlZmVycmVkIHRvXHJcbiAgICAgICAgICogYXMgdGhlIG1lc3NhZ2Ugc2NoZWR1bGUgaW4gdGhlIGRvY3MuXHJcbiAgICAgICAgICogQHByaXZhdGVcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLldfID0gW107XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogQ29udGFpbnMgZGF0YSBuZWVkZWQgdG8gcGFkIG1lc3NhZ2VzIGxlc3MgdGhhbiA2NCBieXRlcy5cclxuICAgICAgICAgKiBAcHJpdmF0ZVxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucGFkXyA9IFtdO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSAwO1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIEBwcml2YXRlIHtudW1iZXJ9XHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy50b3RhbF8gPSAwO1xyXG4gICAgICAgIHRoaXMuYmxvY2tTaXplID0gNTEyIC8gODtcclxuICAgICAgICB0aGlzLnBhZF9bMF0gPSAxMjg7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPCB0aGlzLmJsb2NrU2l6ZTsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFkX1tpXSA9IDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuICAgIH1cclxuICAgIHJlc2V0KCkge1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzBdID0gMHg2NzQ1MjMwMTtcclxuICAgICAgICB0aGlzLmNoYWluX1sxXSA9IDB4ZWZjZGFiODk7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMl0gPSAweDk4YmFkY2ZlO1xyXG4gICAgICAgIHRoaXMuY2hhaW5fWzNdID0gMHgxMDMyNTQ3NjtcclxuICAgICAgICB0aGlzLmNoYWluX1s0XSA9IDB4YzNkMmUxZjA7XHJcbiAgICAgICAgdGhpcy5pbmJ1Zl8gPSAwO1xyXG4gICAgICAgIHRoaXMudG90YWxfID0gMDtcclxuICAgIH1cclxuICAgIC8qKlxyXG4gICAgICogSW50ZXJuYWwgY29tcHJlc3MgaGVscGVyIGZ1bmN0aW9uLlxyXG4gICAgICogQHBhcmFtIGJ1ZiBCbG9jayB0byBjb21wcmVzcy5cclxuICAgICAqIEBwYXJhbSBvZmZzZXQgT2Zmc2V0IG9mIHRoZSBibG9jayBpbiB0aGUgYnVmZmVyLlxyXG4gICAgICogQHByaXZhdGVcclxuICAgICAqL1xyXG4gICAgY29tcHJlc3NfKGJ1Ziwgb2Zmc2V0KSB7XHJcbiAgICAgICAgaWYgKCFvZmZzZXQpIHtcclxuICAgICAgICAgICAgb2Zmc2V0ID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgVyA9IHRoaXMuV187XHJcbiAgICAgICAgLy8gZ2V0IDE2IGJpZyBlbmRpYW4gd29yZHNcclxuICAgICAgICBpZiAodHlwZW9mIGJ1ZiA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPKHVzZXIpOiBbYnVnIDgxNDAxMjJdIFJlY2VudCB2ZXJzaW9ucyBvZiBTYWZhcmkgZm9yIE1hYyBPUyBhbmQgaU9TXHJcbiAgICAgICAgICAgICAgICAvLyBoYXZlIGEgYnVnIHRoYXQgdHVybnMgdGhlIHBvc3QtaW5jcmVtZW50ICsrIG9wZXJhdG9yIGludG8gcHJlLWluY3JlbWVudFxyXG4gICAgICAgICAgICAgICAgLy8gZHVyaW5nIEpJVCBjb21waWxhdGlvbi4gIFdlIGhhdmUgY29kZSB0aGF0IGRlcGVuZHMgaGVhdmlseSBvbiBTSEEtMSBmb3JcclxuICAgICAgICAgICAgICAgIC8vIGNvcnJlY3RuZXNzIGFuZCB3aGljaCBpcyBhZmZlY3RlZCBieSB0aGlzIGJ1Zywgc28gSSd2ZSByZW1vdmVkIGFsbCB1c2VzXHJcbiAgICAgICAgICAgICAgICAvLyBvZiBwb3N0LWluY3JlbWVudCArKyBpbiB3aGljaCB0aGUgcmVzdWx0IHZhbHVlIGlzIHVzZWQuICBXZSBjYW4gcmV2ZXJ0XHJcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGNoYW5nZSBvbmNlIHRoZSBTYWZhcmkgYnVnXHJcbiAgICAgICAgICAgICAgICAvLyAoaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTEwOTAzNikgaGFzIGJlZW4gZml4ZWQgYW5kXHJcbiAgICAgICAgICAgICAgICAvLyBtb3N0IGNsaWVudHMgaGF2ZSBiZWVuIHVwZGF0ZWQuXHJcbiAgICAgICAgICAgICAgICBXW2ldID1cclxuICAgICAgICAgICAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0KSA8PCAyNCkgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMSkgPDwgMTYpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1Zi5jaGFyQ29kZUF0KG9mZnNldCArIDIpIDw8IDgpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmLmNoYXJDb2RlQXQob2Zmc2V0ICsgMyk7XHJcbiAgICAgICAgICAgICAgICBvZmZzZXQgKz0gNDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCAxNjsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBXW2ldID1cclxuICAgICAgICAgICAgICAgICAgICAoYnVmW29mZnNldF0gPDwgMjQpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgKGJ1ZltvZmZzZXQgKyAxXSA8PCAxNikgfFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAoYnVmW29mZnNldCArIDJdIDw8IDgpIHxcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnVmW29mZnNldCArIDNdO1xyXG4gICAgICAgICAgICAgICAgb2Zmc2V0ICs9IDQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXhwYW5kIHRvIDgwIHdvcmRzXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDE2OyBpIDwgODA7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCB0ID0gV1tpIC0gM10gXiBXW2kgLSA4XSBeIFdbaSAtIDE0XSBeIFdbaSAtIDE2XTtcclxuICAgICAgICAgICAgV1tpXSA9ICgodCA8PCAxKSB8ICh0ID4+PiAzMSkpICYgMHhmZmZmZmZmZjtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGEgPSB0aGlzLmNoYWluX1swXTtcclxuICAgICAgICBsZXQgYiA9IHRoaXMuY2hhaW5fWzFdO1xyXG4gICAgICAgIGxldCBjID0gdGhpcy5jaGFpbl9bMl07XHJcbiAgICAgICAgbGV0IGQgPSB0aGlzLmNoYWluX1szXTtcclxuICAgICAgICBsZXQgZSA9IHRoaXMuY2hhaW5fWzRdO1xyXG4gICAgICAgIGxldCBmLCBrO1xyXG4gICAgICAgIC8vIFRPRE8odXNlcik6IFRyeSB0byB1bnJvbGwgdGhpcyBsb29wIHRvIHNwZWVkIHVwIHRoZSBjb21wdXRhdGlvbi5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDgwOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGkgPCA0MCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGkgPCAyMCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBkIF4gKGIgJiAoYyBeIGQpKTtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHg1YTgyNzk5OTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGYgPSBiIF4gYyBeIGQ7XHJcbiAgICAgICAgICAgICAgICAgICAgayA9IDB4NmVkOWViYTE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaSA8IDYwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IChiICYgYykgfCAoZCAmIChiIHwgYykpO1xyXG4gICAgICAgICAgICAgICAgICAgIGsgPSAweDhmMWJiY2RjO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZiA9IGIgXiBjIF4gZDtcclxuICAgICAgICAgICAgICAgICAgICBrID0gMHhjYTYyYzFkNjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB0ID0gKCgoYSA8PCA1KSB8IChhID4+PiAyNykpICsgZiArIGUgKyBrICsgV1tpXSkgJiAweGZmZmZmZmZmO1xyXG4gICAgICAgICAgICBlID0gZDtcclxuICAgICAgICAgICAgZCA9IGM7XHJcbiAgICAgICAgICAgIGMgPSAoKGIgPDwgMzApIHwgKGIgPj4+IDIpKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgICAgIGIgPSBhO1xyXG4gICAgICAgICAgICBhID0gdDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMF0gPSAodGhpcy5jaGFpbl9bMF0gKyBhKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMV0gPSAodGhpcy5jaGFpbl9bMV0gKyBiKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bMl0gPSAodGhpcy5jaGFpbl9bMl0gKyBjKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bM10gPSAodGhpcy5jaGFpbl9bM10gKyBkKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICAgICAgdGhpcy5jaGFpbl9bNF0gPSAodGhpcy5jaGFpbl9bNF0gKyBlKSAmIDB4ZmZmZmZmZmY7XHJcbiAgICB9XHJcbiAgICB1cGRhdGUoYnl0ZXMsIGxlbmd0aCkge1xyXG4gICAgICAgIC8vIFRPRE8oam9obmxlbnopOiB0aWdodGVuIHRoZSBmdW5jdGlvbiBzaWduYXR1cmUgYW5kIHJlbW92ZSB0aGlzIGNoZWNrXHJcbiAgICAgICAgaWYgKGJ5dGVzID09IG51bGwpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAobGVuZ3RoID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgbGVuZ3RoID0gYnl0ZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBsZW5ndGhNaW51c0Jsb2NrID0gbGVuZ3RoIC0gdGhpcy5ibG9ja1NpemU7XHJcbiAgICAgICAgbGV0IG4gPSAwO1xyXG4gICAgICAgIC8vIFVzaW5nIGxvY2FsIGluc3RlYWQgb2YgbWVtYmVyIHZhcmlhYmxlcyBnaXZlcyB+NSUgc3BlZWR1cCBvbiBGaXJlZm94IDE2LlxyXG4gICAgICAgIGNvbnN0IGJ1ZiA9IHRoaXMuYnVmXztcclxuICAgICAgICBsZXQgaW5idWYgPSB0aGlzLmluYnVmXztcclxuICAgICAgICAvLyBUaGUgb3V0ZXIgd2hpbGUgbG9vcCBzaG91bGQgZXhlY3V0ZSBhdCBtb3N0IHR3aWNlLlxyXG4gICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgaGF2ZSBubyBkYXRhIGluIHRoZSBibG9jayB0byB0b3AgdXAsIHdlIGNhbiBkaXJlY3RseSBwcm9jZXNzIHRoZVxyXG4gICAgICAgICAgICAvLyBpbnB1dCBidWZmZXIgKGFzc3VtaW5nIGl0IGNvbnRhaW5zIHN1ZmZpY2llbnQgZGF0YSkuIFRoaXMgZ2l2ZXMgfjI1JVxyXG4gICAgICAgICAgICAvLyBzcGVlZHVwIG9uIENocm9tZSAyMyBhbmQgfjE1JSBzcGVlZHVwIG9uIEZpcmVmb3ggMTYsIGJ1dCByZXF1aXJlcyB0aGF0XHJcbiAgICAgICAgICAgIC8vIHRoZSBkYXRhIGlzIHByb3ZpZGVkIGluIGxhcmdlIGNodW5rcyAob3IgaW4gbXVsdGlwbGVzIG9mIDY0IGJ5dGVzKS5cclxuICAgICAgICAgICAgaWYgKGluYnVmID09PSAwKSB7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAobiA8PSBsZW5ndGhNaW51c0Jsb2NrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wcmVzc18oYnl0ZXMsIG4pO1xyXG4gICAgICAgICAgICAgICAgICAgIG4gKz0gdGhpcy5ibG9ja1NpemU7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgIHdoaWxlIChuIDwgbGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYnVmW2luYnVmXSA9IGJ5dGVzLmNoYXJDb2RlQXQobik7XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmJ1ZiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgd2hpbGUgKG4gPCBsZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBidWZbaW5idWZdID0gYnl0ZXNbbl07XHJcbiAgICAgICAgICAgICAgICAgICAgKytpbmJ1ZjtcclxuICAgICAgICAgICAgICAgICAgICArK247XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluYnVmID09PSB0aGlzLmJsb2NrU2l6ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXByZXNzXyhidWYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmJ1ZiA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEp1bXAgdG8gdGhlIG91dGVyIGxvb3Agc28gd2UgdXNlIHRoZSBmdWxsLWJsb2NrIG9wdGltaXphdGlvbi5cclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuaW5idWZfID0gaW5idWY7XHJcbiAgICAgICAgdGhpcy50b3RhbF8gKz0gbGVuZ3RoO1xyXG4gICAgfVxyXG4gICAgLyoqIEBvdmVycmlkZSAqL1xyXG4gICAgZGlnZXN0KCkge1xyXG4gICAgICAgIGNvbnN0IGRpZ2VzdCA9IFtdO1xyXG4gICAgICAgIGxldCB0b3RhbEJpdHMgPSB0aGlzLnRvdGFsXyAqIDg7XHJcbiAgICAgICAgLy8gQWRkIHBhZCAweDgwIDB4MDAqLlxyXG4gICAgICAgIGlmICh0aGlzLmluYnVmXyA8IDU2KSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlKHRoaXMucGFkXywgNTYgLSB0aGlzLmluYnVmXyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLnVwZGF0ZSh0aGlzLnBhZF8sIHRoaXMuYmxvY2tTaXplIC0gKHRoaXMuaW5idWZfIC0gNTYpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQWRkICMgYml0cy5cclxuICAgICAgICBmb3IgKGxldCBpID0gdGhpcy5ibG9ja1NpemUgLSAxOyBpID49IDU2OyBpLS0pIHtcclxuICAgICAgICAgICAgdGhpcy5idWZfW2ldID0gdG90YWxCaXRzICYgMjU1O1xyXG4gICAgICAgICAgICB0b3RhbEJpdHMgLz0gMjU2OyAvLyBEb24ndCB1c2UgYml0LXNoaWZ0aW5nIGhlcmUhXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY29tcHJlc3NfKHRoaXMuYnVmXyk7XHJcbiAgICAgICAgbGV0IG4gPSAwO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAyNDsgaiA+PSAwOyBqIC09IDgpIHtcclxuICAgICAgICAgICAgICAgIGRpZ2VzdFtuXSA9ICh0aGlzLmNoYWluX1tpXSA+PiBqKSAmIDI1NTtcclxuICAgICAgICAgICAgICAgICsrbjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZGlnZXN0O1xyXG4gICAgfVxyXG59XG5cbi8qKlxyXG4gKiBIZWxwZXIgdG8gbWFrZSBhIFN1YnNjcmliZSBmdW5jdGlvbiAoanVzdCBsaWtlIFByb21pc2UgaGVscHMgbWFrZSBhXHJcbiAqIFRoZW5hYmxlKS5cclxuICpcclxuICogQHBhcmFtIGV4ZWN1dG9yIEZ1bmN0aW9uIHdoaWNoIGNhbiBtYWtlIGNhbGxzIHRvIGEgc2luZ2xlIE9ic2VydmVyXHJcbiAqICAgICBhcyBhIHByb3h5LlxyXG4gKiBAcGFyYW0gb25Ob09ic2VydmVycyBDYWxsYmFjayB3aGVuIGNvdW50IG9mIE9ic2VydmVycyBnb2VzIHRvIHplcm8uXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTdWJzY3JpYmUoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpIHtcclxuICAgIGNvbnN0IHByb3h5ID0gbmV3IE9ic2VydmVyUHJveHkoZXhlY3V0b3IsIG9uTm9PYnNlcnZlcnMpO1xyXG4gICAgcmV0dXJuIHByb3h5LnN1YnNjcmliZS5iaW5kKHByb3h5KTtcclxufVxyXG4vKipcclxuICogSW1wbGVtZW50IGZhbi1vdXQgZm9yIGFueSBudW1iZXIgb2YgT2JzZXJ2ZXJzIGF0dGFjaGVkIHZpYSBhIHN1YnNjcmliZVxyXG4gKiBmdW5jdGlvbi5cclxuICovXHJcbmNsYXNzIE9ic2VydmVyUHJveHkge1xyXG4gICAgLyoqXHJcbiAgICAgKiBAcGFyYW0gZXhlY3V0b3IgRnVuY3Rpb24gd2hpY2ggY2FuIG1ha2UgY2FsbHMgdG8gYSBzaW5nbGUgT2JzZXJ2ZXJcclxuICAgICAqICAgICBhcyBhIHByb3h5LlxyXG4gICAgICogQHBhcmFtIG9uTm9PYnNlcnZlcnMgQ2FsbGJhY2sgd2hlbiBjb3VudCBvZiBPYnNlcnZlcnMgZ29lcyB0byB6ZXJvLlxyXG4gICAgICovXHJcbiAgICBjb25zdHJ1Y3RvcihleGVjdXRvciwgb25Ob09ic2VydmVycykge1xyXG4gICAgICAgIHRoaXMub2JzZXJ2ZXJzID0gW107XHJcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZXMgPSBbXTtcclxuICAgICAgICB0aGlzLm9ic2VydmVyQ291bnQgPSAwO1xyXG4gICAgICAgIC8vIE1pY3JvLXRhc2sgc2NoZWR1bGluZyBieSBjYWxsaW5nIHRhc2sudGhlbigpLlxyXG4gICAgICAgIHRoaXMudGFzayA9IFByb21pc2UucmVzb2x2ZSgpO1xyXG4gICAgICAgIHRoaXMuZmluYWxpemVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5vbk5vT2JzZXJ2ZXJzID0gb25Ob09ic2VydmVycztcclxuICAgICAgICAvLyBDYWxsIHRoZSBleGVjdXRvciBhc3luY2hyb25vdXNseSBzbyBzdWJzY3JpYmVycyB0aGF0IGFyZSBjYWxsZWRcclxuICAgICAgICAvLyBzeW5jaHJvbm91c2x5IGFmdGVyIHRoZSBjcmVhdGlvbiBvZiB0aGUgc3Vic2NyaWJlIGZ1bmN0aW9uXHJcbiAgICAgICAgLy8gY2FuIHN0aWxsIHJlY2VpdmUgdGhlIHZlcnkgZmlyc3QgdmFsdWUgZ2VuZXJhdGVkIGluIHRoZSBleGVjdXRvci5cclxuICAgICAgICB0aGlzLnRhc2tcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBleGVjdXRvcih0aGlzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBuZXh0KHZhbHVlKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLm5leHQodmFsdWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgZXJyb3IoZXJyb3IpIHtcclxuICAgICAgICB0aGlzLmZvckVhY2hPYnNlcnZlcigob2JzZXJ2ZXIpID0+IHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3IpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY2xvc2UoZXJyb3IpO1xyXG4gICAgfVxyXG4gICAgY29tcGxldGUoKSB7XHJcbiAgICAgICAgdGhpcy5mb3JFYWNoT2JzZXJ2ZXIoKG9ic2VydmVyKSA9PiB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gICAgLyoqXHJcbiAgICAgKiBTdWJzY3JpYmUgZnVuY3Rpb24gdGhhdCBjYW4gYmUgdXNlZCB0byBhZGQgYW4gT2JzZXJ2ZXIgdG8gdGhlIGZhbi1vdXQgbGlzdC5cclxuICAgICAqXHJcbiAgICAgKiAtIFdlIHJlcXVpcmUgdGhhdCBubyBldmVudCBpcyBzZW50IHRvIGEgc3Vic2NyaWJlciBzeWNocm9ub3VzbHkgdG8gdGhlaXJcclxuICAgICAqICAgY2FsbCB0byBzdWJzY3JpYmUoKS5cclxuICAgICAqL1xyXG4gICAgc3Vic2NyaWJlKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcclxuICAgICAgICBsZXQgb2JzZXJ2ZXI7XHJcbiAgICAgICAgaWYgKG5leHRPck9ic2VydmVyID09PSB1bmRlZmluZWQgJiZcclxuICAgICAgICAgICAgZXJyb3IgPT09IHVuZGVmaW5lZCAmJlxyXG4gICAgICAgICAgICBjb21wbGV0ZSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZyBPYnNlcnZlci4nKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gQXNzZW1ibGUgYW4gT2JzZXJ2ZXIgb2JqZWN0IHdoZW4gcGFzc2VkIGFzIGNhbGxiYWNrIGZ1bmN0aW9ucy5cclxuICAgICAgICBpZiAoaW1wbGVtZW50c0FueU1ldGhvZHMobmV4dE9yT2JzZXJ2ZXIsIFtcclxuICAgICAgICAgICAgJ25leHQnLFxyXG4gICAgICAgICAgICAnZXJyb3InLFxyXG4gICAgICAgICAgICAnY29tcGxldGUnXHJcbiAgICAgICAgXSkpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIgPSBuZXh0T3JPYnNlcnZlcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyID0ge1xyXG4gICAgICAgICAgICAgICAgbmV4dDogbmV4dE9yT2JzZXJ2ZXIsXHJcbiAgICAgICAgICAgICAgICBlcnJvcixcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5uZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCA9IG5vb3A7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChvYnNlcnZlci5lcnJvciA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIG9ic2VydmVyLmVycm9yID0gbm9vcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKG9ic2VydmVyLmNvbXBsZXRlID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUgPSBub29wO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB1bnN1YiA9IHRoaXMudW5zdWJzY3JpYmVPbmUuYmluZCh0aGlzLCB0aGlzLm9ic2VydmVycy5sZW5ndGgpO1xyXG4gICAgICAgIC8vIEF0dGVtcHQgdG8gc3Vic2NyaWJlIHRvIGEgdGVybWluYXRlZCBPYnNlcnZhYmxlIC0gd2VcclxuICAgICAgICAvLyBqdXN0IHJlc3BvbmQgdG8gdGhlIE9ic2VydmVyIHdpdGggdGhlIGZpbmFsIGVycm9yIG9yIGNvbXBsZXRlXHJcbiAgICAgICAgLy8gZXZlbnQuXHJcbiAgICAgICAgaWYgKHRoaXMuZmluYWxpemVkKSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICAgICAgdGhpcy50YXNrLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maW5hbEVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKHRoaXMuZmluYWxFcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gbm90aGluZ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vYnNlcnZlcnMucHVzaChvYnNlcnZlcik7XHJcbiAgICAgICAgcmV0dXJuIHVuc3ViO1xyXG4gICAgfVxyXG4gICAgLy8gVW5zdWJzY3JpYmUgaXMgc3luY2hyb25vdXMgLSB3ZSBndWFyYW50ZWUgdGhhdCBubyBldmVudHMgYXJlIHNlbnQgdG9cclxuICAgIC8vIGFueSB1bnN1YnNjcmliZWQgT2JzZXJ2ZXIuXHJcbiAgICB1bnN1YnNjcmliZU9uZShpKSB7XHJcbiAgICAgICAgaWYgKHRoaXMub2JzZXJ2ZXJzID09PSB1bmRlZmluZWQgfHwgdGhpcy5vYnNlcnZlcnNbaV0gPT09IHVuZGVmaW5lZCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLm9ic2VydmVyc1tpXTtcclxuICAgICAgICB0aGlzLm9ic2VydmVyQ291bnQgLT0gMTtcclxuICAgICAgICBpZiAodGhpcy5vYnNlcnZlckNvdW50ID09PSAwICYmIHRoaXMub25Ob09ic2VydmVycyAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMub25Ob09ic2VydmVycyh0aGlzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBmb3JFYWNoT2JzZXJ2ZXIoZm4pIHtcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgLy8gQWxyZWFkeSBjbG9zZWQgYnkgcHJldmlvdXMgZXZlbnQuLi4uanVzdCBlYXQgdGhlIGFkZGl0aW9uYWwgdmFsdWVzLlxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIFNpbmNlIHNlbmRPbmUgY2FsbHMgYXN5bmNocm9ub3VzbHkgLSB0aGVyZSBpcyBubyBjaGFuY2UgdGhhdFxyXG4gICAgICAgIC8vIHRoaXMub2JzZXJ2ZXJzIHdpbGwgYmVjb21lIHVuZGVmaW5lZC5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMub2JzZXJ2ZXJzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2VuZE9uZShpLCBmbik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgLy8gQ2FsbCB0aGUgT2JzZXJ2ZXIgdmlhIG9uZSBvZiBpdCdzIGNhbGxiYWNrIGZ1bmN0aW9uLiBXZSBhcmUgY2FyZWZ1bCB0b1xyXG4gICAgLy8gY29uZmlybSB0aGF0IHRoZSBvYnNlcnZlIGhhcyBub3QgYmVlbiB1bnN1YnNjcmliZWQgc2luY2UgdGhpcyBhc3luY2hyb25vdXNcclxuICAgIC8vIGZ1bmN0aW9uIGhhZCBiZWVuIHF1ZXVlZC5cclxuICAgIHNlbmRPbmUoaSwgZm4pIHtcclxuICAgICAgICAvLyBFeGVjdXRlIHRoZSBjYWxsYmFjayBhc3luY2hyb25vdXNseVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZmxvYXRpbmctcHJvbWlzZXNcclxuICAgICAgICB0aGlzLnRhc2sudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLm9ic2VydmVycyAhPT0gdW5kZWZpbmVkICYmIHRoaXMub2JzZXJ2ZXJzW2ldICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm4odGhpcy5vYnNlcnZlcnNbaV0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZXhjZXB0aW9ucyByYWlzZWQgaW4gT2JzZXJ2ZXJzIG9yIG1pc3NpbmcgbWV0aG9kcyBvZiBhblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIE9ic2VydmVyLlxyXG4gICAgICAgICAgICAgICAgICAgIC8vIExvZyBlcnJvciB0byBjb25zb2xlLiBiLzMxNDA0ODA2XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiBjb25zb2xlLmVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICBjbG9zZShlcnIpIHtcclxuICAgICAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLmZpbmFsaXplZCA9IHRydWU7XHJcbiAgICAgICAgaWYgKGVyciAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZmluYWxFcnJvciA9IGVycjtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gUHJveHkgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIGdhcmJhZ2UgY29sbGVjdCByZWZlcmVuY2VzXHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xyXG4gICAgICAgIHRoaXMudGFzay50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgdGhpcy5vYnNlcnZlcnMgPSB1bmRlZmluZWQ7XHJcbiAgICAgICAgICAgIHRoaXMub25Ob09ic2VydmVycyA9IHVuZGVmaW5lZDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4vKiogVHVybiBzeW5jaHJvbm91cyBmdW5jdGlvbiBpbnRvIG9uZSBjYWxsZWQgYXN5bmNocm9ub3VzbHkuICovXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXHJcbmZ1bmN0aW9uIGFzeW5jKGZuLCBvbkVycm9yKSB7XHJcbiAgICByZXR1cm4gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgICBQcm9taXNlLnJlc29sdmUodHJ1ZSlcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBmbiguLi5hcmdzKTtcclxuICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBvbkVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxufVxyXG4vKipcclxuICogUmV0dXJuIHRydWUgaWYgdGhlIG9iamVjdCBwYXNzZWQgaW4gaW1wbGVtZW50cyBhbnkgb2YgdGhlIG5hbWVkIG1ldGhvZHMuXHJcbiAqL1xyXG5mdW5jdGlvbiBpbXBsZW1lbnRzQW55TWV0aG9kcyhvYmosIG1ldGhvZHMpIHtcclxuICAgIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBvYmogPT09IG51bGwpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBmb3IgKGNvbnN0IG1ldGhvZCBvZiBtZXRob2RzKSB7XHJcbiAgICAgICAgaWYgKG1ldGhvZCBpbiBvYmogJiYgdHlwZW9mIG9ialttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5mdW5jdGlvbiBub29wKCkge1xyXG4gICAgLy8gZG8gbm90aGluZ1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBDaGVjayB0byBtYWtlIHN1cmUgdGhlIGFwcHJvcHJpYXRlIG51bWJlciBvZiBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIGZvciBhIHB1YmxpYyBmdW5jdGlvbi5cclxuICogVGhyb3dzIGFuIGVycm9yIGlmIGl0IGZhaWxzLlxyXG4gKlxyXG4gKiBAcGFyYW0gZm5OYW1lIFRoZSBmdW5jdGlvbiBuYW1lXHJcbiAqIEBwYXJhbSBtaW5Db3VudCBUaGUgbWluaW11bSBudW1iZXIgb2YgYXJndW1lbnRzIHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0gbWF4Q291bnQgVGhlIG1heGltdW0gbnVtYmVyIG9mIGFyZ3VtZW50IHRvIGFsbG93IGZvciB0aGUgZnVuY3Rpb24gY2FsbFxyXG4gKiBAcGFyYW0gYXJnQ291bnQgVGhlIGFjdHVhbCBudW1iZXIgb2YgYXJndW1lbnRzIHByb3ZpZGVkLlxyXG4gKi9cclxuY29uc3QgdmFsaWRhdGVBcmdDb3VudCA9IGZ1bmN0aW9uIChmbk5hbWUsIG1pbkNvdW50LCBtYXhDb3VudCwgYXJnQ291bnQpIHtcclxuICAgIGxldCBhcmdFcnJvcjtcclxuICAgIGlmIChhcmdDb3VudCA8IG1pbkNvdW50KSB7XHJcbiAgICAgICAgYXJnRXJyb3IgPSAnYXQgbGVhc3QgJyArIG1pbkNvdW50O1xyXG4gICAgfVxyXG4gICAgZWxzZSBpZiAoYXJnQ291bnQgPiBtYXhDb3VudCkge1xyXG4gICAgICAgIGFyZ0Vycm9yID0gbWF4Q291bnQgPT09IDAgPyAnbm9uZScgOiAnbm8gbW9yZSB0aGFuICcgKyBtYXhDb3VudDtcclxuICAgIH1cclxuICAgIGlmIChhcmdFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IGVycm9yID0gZm5OYW1lICtcclxuICAgICAgICAgICAgJyBmYWlsZWQ6IFdhcyBjYWxsZWQgd2l0aCAnICtcclxuICAgICAgICAgICAgYXJnQ291bnQgK1xyXG4gICAgICAgICAgICAoYXJnQ291bnQgPT09IDEgPyAnIGFyZ3VtZW50LicgOiAnIGFyZ3VtZW50cy4nKSArXHJcbiAgICAgICAgICAgICcgRXhwZWN0cyAnICtcclxuICAgICAgICAgICAgYXJnRXJyb3IgK1xyXG4gICAgICAgICAgICAnLic7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yKTtcclxuICAgIH1cclxufTtcclxuLyoqXHJcbiAqIEdlbmVyYXRlcyBhIHN0cmluZyB0byBwcmVmaXggYW4gZXJyb3IgbWVzc2FnZSBhYm91dCBmYWlsZWQgYXJndW1lbnQgdmFsaWRhdGlvblxyXG4gKlxyXG4gKiBAcGFyYW0gZm5OYW1lIFRoZSBmdW5jdGlvbiBuYW1lXHJcbiAqIEBwYXJhbSBhcmdOYW1lIFRoZSBuYW1lIG9mIHRoZSBhcmd1bWVudFxyXG4gKiBAcmV0dXJuIFRoZSBwcmVmaXggdG8gYWRkIHRvIHRoZSBlcnJvciB0aHJvd24gZm9yIHZhbGlkYXRpb24uXHJcbiAqL1xyXG5mdW5jdGlvbiBlcnJvclByZWZpeChmbk5hbWUsIGFyZ05hbWUpIHtcclxuICAgIHJldHVybiBgJHtmbk5hbWV9IGZhaWxlZDogJHthcmdOYW1lfSBhcmd1bWVudCBgO1xyXG59XHJcbi8qKlxyXG4gKiBAcGFyYW0gZm5OYW1lXHJcbiAqIEBwYXJhbSBhcmd1bWVudE51bWJlclxyXG4gKiBAcGFyYW0gbmFtZXNwYWNlXHJcbiAqIEBwYXJhbSBvcHRpb25hbFxyXG4gKi9cclxuZnVuY3Rpb24gdmFsaWRhdGVOYW1lc3BhY2UoZm5OYW1lLCBuYW1lc3BhY2UsIG9wdGlvbmFsKSB7XHJcbiAgICBpZiAob3B0aW9uYWwgJiYgIW5hbWVzcGFjZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlICE9PSAnc3RyaW5nJykge1xyXG4gICAgICAgIC8vVE9ETzogSSBzaG91bGQgZG8gbW9yZSB2YWxpZGF0aW9uIGhlcmUuIFdlIG9ubHkgYWxsb3cgY2VydGFpbiBjaGFycyBpbiBuYW1lc3BhY2VzLlxyXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvclByZWZpeChmbk5hbWUsICduYW1lc3BhY2UnKSArICdtdXN0IGJlIGEgdmFsaWQgZmlyZWJhc2UgbmFtZXNwYWNlLicpO1xyXG4gICAgfVxyXG59XHJcbmZ1bmN0aW9uIHZhbGlkYXRlQ2FsbGJhY2soZm5OYW1lLCBhcmd1bWVudE5hbWUsIFxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xyXG5jYWxsYmFjaywgb3B0aW9uYWwpIHtcclxuICAgIGlmIChvcHRpb25hbCAmJiAhY2FsbGJhY2spIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROYW1lKSArICdtdXN0IGJlIGEgdmFsaWQgZnVuY3Rpb24uJyk7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gdmFsaWRhdGVDb250ZXh0T2JqZWN0KGZuTmFtZSwgYXJndW1lbnROYW1lLCBjb250ZXh0LCBvcHRpb25hbCkge1xyXG4gICAgaWYgKG9wdGlvbmFsICYmICFjb250ZXh0KSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHR5cGVvZiBjb250ZXh0ICE9PSAnb2JqZWN0JyB8fCBjb250ZXh0ID09PSBudWxsKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycm9yUHJlZml4KGZuTmFtZSwgYXJndW1lbnROYW1lKSArICdtdXN0IGJlIGEgdmFsaWQgY29udGV4dCBvYmplY3QuJyk7XHJcbiAgICB9XHJcbn1cblxuLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKi9cclxuLy8gQ29kZSBvcmlnaW5hbGx5IGNhbWUgZnJvbSBnb29nLmNyeXB0LnN0cmluZ1RvVXRmOEJ5dGVBcnJheSwgYnV0IGZvciBzb21lIHJlYXNvbiB0aGV5XHJcbi8vIGF1dG9tYXRpY2FsbHkgcmVwbGFjZWQgJ1xcclxcbicgd2l0aCAnXFxuJywgYW5kIHRoZXkgZGlkbid0IGhhbmRsZSBzdXJyb2dhdGUgcGFpcnMsXHJcbi8vIHNvIGl0J3MgYmVlbiBtb2RpZmllZC5cclxuLy8gTm90ZSB0aGF0IG5vdCBhbGwgVW5pY29kZSBjaGFyYWN0ZXJzIGFwcGVhciBhcyBzaW5nbGUgY2hhcmFjdGVycyBpbiBKYXZhU2NyaXB0IHN0cmluZ3MuXHJcbi8vIGZyb21DaGFyQ29kZSByZXR1cm5zIHRoZSBVVEYtMTYgZW5jb2Rpbmcgb2YgYSBjaGFyYWN0ZXIgLSBzbyBzb21lIFVuaWNvZGUgY2hhcmFjdGVyc1xyXG4vLyB1c2UgMiBjaGFyYWN0ZXJzIGluIEphdmFzY3JpcHQuICBBbGwgNC1ieXRlIFVURi04IGNoYXJhY3RlcnMgYmVnaW4gd2l0aCBhIGZpcnN0XHJcbi8vIGNoYXJhY3RlciBpbiB0aGUgcmFuZ2UgMHhEODAwIC0gMHhEQkZGICh0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGEgc28tY2FsbGVkIHN1cnJvZ2F0ZVxyXG4vLyBwYWlyKS5cclxuLy8gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi81LjEvI3NlYy0xNS4xLjNcclxuLyoqXHJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcclxuICogQHJldHVybiB7QXJyYXl9XHJcbiAqL1xyXG5jb25zdCBzdHJpbmdUb0J5dGVBcnJheSA9IGZ1bmN0aW9uIChzdHIpIHtcclxuICAgIGNvbnN0IG91dCA9IFtdO1xyXG4gICAgbGV0IHAgPSAwO1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBsZXQgYyA9IHN0ci5jaGFyQ29kZUF0KGkpO1xyXG4gICAgICAgIC8vIElzIHRoaXMgdGhlIGxlYWQgc3Vycm9nYXRlIGluIGEgc3Vycm9nYXRlIHBhaXI/XHJcbiAgICAgICAgaWYgKGMgPj0gMHhkODAwICYmIGMgPD0gMHhkYmZmKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGhpZ2ggPSBjIC0gMHhkODAwOyAvLyB0aGUgaGlnaCAxMCBiaXRzLlxyXG4gICAgICAgICAgICBpKys7XHJcbiAgICAgICAgICAgIGFzc2VydChpIDwgc3RyLmxlbmd0aCwgJ1N1cnJvZ2F0ZSBwYWlyIG1pc3NpbmcgdHJhaWwgc3Vycm9nYXRlLicpO1xyXG4gICAgICAgICAgICBjb25zdCBsb3cgPSBzdHIuY2hhckNvZGVBdChpKSAtIDB4ZGMwMDsgLy8gdGhlIGxvdyAxMCBiaXRzLlxyXG4gICAgICAgICAgICBjID0gMHgxMDAwMCArIChoaWdoIDw8IDEwKSArIGxvdztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGMgPCAxMjgpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSBjO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgMjA0OCkge1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjID4+IDYpIHwgMTkyO1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChjIDwgNjU1MzYpIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxMikgfCAyMjQ7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDYpICYgNjMpIHwgMTI4O1xyXG4gICAgICAgICAgICBvdXRbcCsrXSA9IChjICYgNjMpIHwgMTI4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoYyA+PiAxOCkgfCAyNDA7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKChjID4+IDEyKSAmIDYzKSB8IDEyODtcclxuICAgICAgICAgICAgb3V0W3ArK10gPSAoKGMgPj4gNikgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgICAgIG91dFtwKytdID0gKGMgJiA2MykgfCAxMjg7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIG91dDtcclxufTtcclxuLyoqXHJcbiAqIENhbGN1bGF0ZSBsZW5ndGggd2l0aG91dCBhY3R1YWxseSBjb252ZXJ0aW5nOyB1c2VmdWwgZm9yIGRvaW5nIGNoZWFwZXIgdmFsaWRhdGlvbi5cclxuICogQHBhcmFtIHtzdHJpbmd9IHN0clxyXG4gKiBAcmV0dXJuIHtudW1iZXJ9XHJcbiAqL1xyXG5jb25zdCBzdHJpbmdMZW5ndGggPSBmdW5jdGlvbiAoc3RyKSB7XHJcbiAgICBsZXQgcCA9IDA7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGMgPSBzdHIuY2hhckNvZGVBdChpKTtcclxuICAgICAgICBpZiAoYyA8IDEyOCkge1xyXG4gICAgICAgICAgICBwKys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2UgaWYgKGMgPCAyMDQ4KSB7XHJcbiAgICAgICAgICAgIHAgKz0gMjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAoYyA+PSAweGQ4MDAgJiYgYyA8PSAweGRiZmYpIHtcclxuICAgICAgICAgICAgLy8gTGVhZCBzdXJyb2dhdGUgb2YgYSBzdXJyb2dhdGUgcGFpci4gIFRoZSBwYWlyIHRvZ2V0aGVyIHdpbGwgdGFrZSA0IGJ5dGVzIHRvIHJlcHJlc2VudC5cclxuICAgICAgICAgICAgcCArPSA0O1xyXG4gICAgICAgICAgICBpKys7IC8vIHNraXAgdHJhaWwgc3Vycm9nYXRlLlxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcCArPSAzO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjIgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogQ29waWVkIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcclxuICogR2VuZXJhdGVzIGEgbmV3IHV1aWQuXHJcbiAqIEBwdWJsaWNcclxuICovXHJcbmNvbnN0IHV1aWR2NCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGMgPT4ge1xyXG4gICAgICAgIGNvbnN0IHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsIHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMpIHwgMHg4O1xyXG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcclxuICAgIH0pO1xyXG59O1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG4vKipcclxuICogVGhlIGFtb3VudCBvZiBtaWxsaXNlY29uZHMgdG8gZXhwb25lbnRpYWxseSBpbmNyZWFzZS5cclxuICovXHJcbmNvbnN0IERFRkFVTFRfSU5URVJWQUxfTUlMTElTID0gMTAwMDtcclxuLyoqXHJcbiAqIFRoZSBmYWN0b3IgdG8gYmFja29mZiBieS5cclxuICogU2hvdWxkIGJlIGEgbnVtYmVyIGdyZWF0ZXIgdGhhbiAxLlxyXG4gKi9cclxuY29uc3QgREVGQVVMVF9CQUNLT0ZGX0ZBQ1RPUiA9IDI7XHJcbi8qKlxyXG4gKiBUaGUgbWF4aW11bSBtaWxsaXNlY29uZHMgdG8gaW5jcmVhc2UgdG8uXHJcbiAqXHJcbiAqIDxwPlZpc2libGUgZm9yIHRlc3RpbmdcclxuICovXHJcbmNvbnN0IE1BWF9WQUxVRV9NSUxMSVMgPSA0ICogNjAgKiA2MCAqIDEwMDA7IC8vIEZvdXIgaG91cnMsIGxpa2UgaU9TIGFuZCBBbmRyb2lkLlxyXG4vKipcclxuICogVGhlIHBlcmNlbnRhZ2Ugb2YgYmFja29mZiB0aW1lIHRvIHJhbmRvbWl6ZSBieS5cclxuICogU2VlXHJcbiAqIGh0dHA6Ly9nby9zYWZlLWNsaWVudC1iZWhhdmlvciNzdGVwLTEtZGV0ZXJtaW5lLXRoZS1hcHByb3ByaWF0ZS1yZXRyeS1pbnRlcnZhbC10by1oYW5kbGUtc3Bpa2UtdHJhZmZpY1xyXG4gKiBmb3IgY29udGV4dC5cclxuICpcclxuICogPHA+VmlzaWJsZSBmb3IgdGVzdGluZ1xyXG4gKi9cclxuY29uc3QgUkFORE9NX0ZBQ1RPUiA9IDAuNTtcclxuLyoqXHJcbiAqIEJhc2VkIG9uIHRoZSBiYWNrb2ZmIG1ldGhvZCBmcm9tXHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGUvY2xvc3VyZS1saWJyYXJ5L2Jsb2IvbWFzdGVyL2Nsb3N1cmUvZ29vZy9tYXRoL2V4cG9uZW50aWFsYmFja29mZi5qcy5cclxuICogRXh0cmFjdGVkIGhlcmUgc28gd2UgZG9uJ3QgbmVlZCB0byBwYXNzIG1ldGFkYXRhIGFuZCBhIHN0YXRlZnVsIEV4cG9uZW50aWFsQmFja29mZiBvYmplY3QgYXJvdW5kLlxyXG4gKi9cclxuZnVuY3Rpb24gY2FsY3VsYXRlQmFja29mZk1pbGxpcyhiYWNrb2ZmQ291bnQsIGludGVydmFsTWlsbGlzID0gREVGQVVMVF9JTlRFUlZBTF9NSUxMSVMsIGJhY2tvZmZGYWN0b3IgPSBERUZBVUxUX0JBQ0tPRkZfRkFDVE9SKSB7XHJcbiAgICAvLyBDYWxjdWxhdGVzIGFuIGV4cG9uZW50aWFsbHkgaW5jcmVhc2luZyB2YWx1ZS5cclxuICAgIC8vIERldmlhdGlvbjogY2FsY3VsYXRlcyB2YWx1ZSBmcm9tIGNvdW50IGFuZCBhIGNvbnN0YW50IGludGVydmFsLCBzbyB3ZSBvbmx5IG5lZWQgdG8gc2F2ZSB2YWx1ZVxyXG4gICAgLy8gYW5kIGNvdW50IHRvIHJlc3RvcmUgc3RhdGUuXHJcbiAgICBjb25zdCBjdXJyQmFzZVZhbHVlID0gaW50ZXJ2YWxNaWxsaXMgKiBNYXRoLnBvdyhiYWNrb2ZmRmFjdG9yLCBiYWNrb2ZmQ291bnQpO1xyXG4gICAgLy8gQSByYW5kb20gXCJmdXp6XCIgdG8gYXZvaWQgd2F2ZXMgb2YgcmV0cmllcy5cclxuICAgIC8vIERldmlhdGlvbjogcmFuZG9tRmFjdG9yIGlzIHJlcXVpcmVkLlxyXG4gICAgY29uc3QgcmFuZG9tV2FpdCA9IE1hdGgucm91bmQoXHJcbiAgICAvLyBBIGZyYWN0aW9uIG9mIHRoZSBiYWNrb2ZmIHZhbHVlIHRvIGFkZC9zdWJ0cmFjdC5cclxuICAgIC8vIERldmlhdGlvbjogY2hhbmdlcyBtdWx0aXBsaWNhdGlvbiBvcmRlciB0byBpbXByb3ZlIHJlYWRhYmlsaXR5LlxyXG4gICAgUkFORE9NX0ZBQ1RPUiAqXHJcbiAgICAgICAgY3VyckJhc2VWYWx1ZSAqXHJcbiAgICAgICAgLy8gQSByYW5kb20gZmxvYXQgKHJvdW5kZWQgdG8gaW50IGJ5IE1hdGgucm91bmQgYWJvdmUpIGluIHRoZSByYW5nZSBbLTEsIDFdLiBEZXRlcm1pbmVzXHJcbiAgICAgICAgLy8gaWYgd2UgYWRkIG9yIHN1YnRyYWN0LlxyXG4gICAgICAgIChNYXRoLnJhbmRvbSgpIC0gMC41KSAqXHJcbiAgICAgICAgMik7XHJcbiAgICAvLyBMaW1pdHMgYmFja29mZiB0byBtYXggdG8gYXZvaWQgZWZmZWN0aXZlbHkgcGVybWFuZW50IGJhY2tvZmYuXHJcbiAgICByZXR1cm4gTWF0aC5taW4oTUFYX1ZBTFVFX01JTExJUywgY3VyckJhc2VWYWx1ZSArIHJhbmRvbVdhaXQpO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbi8qKlxyXG4gKiBQcm92aWRlIEVuZ2xpc2ggb3JkaW5hbCBsZXR0ZXJzIGFmdGVyIGEgbnVtYmVyXHJcbiAqL1xyXG5mdW5jdGlvbiBvcmRpbmFsKGkpIHtcclxuICAgIGlmICghTnVtYmVyLmlzRmluaXRlKGkpKSB7XHJcbiAgICAgICAgcmV0dXJuIGAke2l9YDtcclxuICAgIH1cclxuICAgIHJldHVybiBpICsgaW5kaWNhdG9yKGkpO1xyXG59XHJcbmZ1bmN0aW9uIGluZGljYXRvcihpKSB7XHJcbiAgICBpID0gTWF0aC5hYnMoaSk7XHJcbiAgICBjb25zdCBjZW50ID0gaSAlIDEwMDtcclxuICAgIGlmIChjZW50ID49IDEwICYmIGNlbnQgPD0gMjApIHtcclxuICAgICAgICByZXR1cm4gJ3RoJztcclxuICAgIH1cclxuICAgIGNvbnN0IGRlYyA9IGkgJSAxMDtcclxuICAgIGlmIChkZWMgPT09IDEpIHtcclxuICAgICAgICByZXR1cm4gJ3N0JztcclxuICAgIH1cclxuICAgIGlmIChkZWMgPT09IDIpIHtcclxuICAgICAgICByZXR1cm4gJ25kJztcclxuICAgIH1cclxuICAgIGlmIChkZWMgPT09IDMpIHtcclxuICAgICAgICByZXR1cm4gJ3JkJztcclxuICAgIH1cclxuICAgIHJldHVybiAndGgnO1xyXG59XG5cbi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICovXHJcbmZ1bmN0aW9uIGdldE1vZHVsYXJJbnN0YW5jZShzZXJ2aWNlKSB7XHJcbiAgICBpZiAoc2VydmljZSAmJiBzZXJ2aWNlLl9kZWxlZ2F0ZSkge1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlLl9kZWxlZ2F0ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiBzZXJ2aWNlO1xyXG4gICAgfVxyXG59XG5cbmV4cG9ydHMuQ09OU1RBTlRTID0gQ09OU1RBTlRTO1xuZXhwb3J0cy5EZWNvZGVCYXNlNjRTdHJpbmdFcnJvciA9IERlY29kZUJhc2U2NFN0cmluZ0Vycm9yO1xuZXhwb3J0cy5EZWZlcnJlZCA9IERlZmVycmVkO1xuZXhwb3J0cy5FcnJvckZhY3RvcnkgPSBFcnJvckZhY3Rvcnk7XG5leHBvcnRzLkZpcmViYXNlRXJyb3IgPSBGaXJlYmFzZUVycm9yO1xuZXhwb3J0cy5NQVhfVkFMVUVfTUlMTElTID0gTUFYX1ZBTFVFX01JTExJUztcbmV4cG9ydHMuUkFORE9NX0ZBQ1RPUiA9IFJBTkRPTV9GQUNUT1I7XG5leHBvcnRzLlNoYTEgPSBTaGExO1xuZXhwb3J0cy5hcmVDb29raWVzRW5hYmxlZCA9IGFyZUNvb2tpZXNFbmFibGVkO1xuZXhwb3J0cy5hc3NlcnQgPSBhc3NlcnQ7XG5leHBvcnRzLmFzc2VydGlvbkVycm9yID0gYXNzZXJ0aW9uRXJyb3I7XG5leHBvcnRzLmFzeW5jID0gYXN5bmM7XG5leHBvcnRzLmJhc2U2NCA9IGJhc2U2NDtcbmV4cG9ydHMuYmFzZTY0RGVjb2RlID0gYmFzZTY0RGVjb2RlO1xuZXhwb3J0cy5iYXNlNjRFbmNvZGUgPSBiYXNlNjRFbmNvZGU7XG5leHBvcnRzLmJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nID0gYmFzZTY0dXJsRW5jb2RlV2l0aG91dFBhZGRpbmc7XG5leHBvcnRzLmNhbGN1bGF0ZUJhY2tvZmZNaWxsaXMgPSBjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzO1xuZXhwb3J0cy5jb250YWlucyA9IGNvbnRhaW5zO1xuZXhwb3J0cy5jcmVhdGVNb2NrVXNlclRva2VuID0gY3JlYXRlTW9ja1VzZXJUb2tlbjtcbmV4cG9ydHMuY3JlYXRlU3Vic2NyaWJlID0gY3JlYXRlU3Vic2NyaWJlO1xuZXhwb3J0cy5kZWNvZGUgPSBkZWNvZGU7XG5leHBvcnRzLmRlZXBDb3B5ID0gZGVlcENvcHk7XG5leHBvcnRzLmRlZXBFcXVhbCA9IGRlZXBFcXVhbDtcbmV4cG9ydHMuZGVlcEV4dGVuZCA9IGRlZXBFeHRlbmQ7XG5leHBvcnRzLmVycm9yUHJlZml4ID0gZXJyb3JQcmVmaXg7XG5leHBvcnRzLmV4dHJhY3RRdWVyeXN0cmluZyA9IGV4dHJhY3RRdWVyeXN0cmluZztcbmV4cG9ydHMuZ2V0RGVmYXVsdEFwcENvbmZpZyA9IGdldERlZmF1bHRBcHBDb25maWc7XG5leHBvcnRzLmdldERlZmF1bHRFbXVsYXRvckhvc3QgPSBnZXREZWZhdWx0RW11bGF0b3JIb3N0O1xuZXhwb3J0cy5nZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQgPSBnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQ7XG5leHBvcnRzLmdldERlZmF1bHRzID0gZ2V0RGVmYXVsdHM7XG5leHBvcnRzLmdldEV4cGVyaW1lbnRhbFNldHRpbmcgPSBnZXRFeHBlcmltZW50YWxTZXR0aW5nO1xuZXhwb3J0cy5nZXRHbG9iYWwgPSBnZXRHbG9iYWw7XG5leHBvcnRzLmdldE1vZHVsYXJJbnN0YW5jZSA9IGdldE1vZHVsYXJJbnN0YW5jZTtcbmV4cG9ydHMuZ2V0VUEgPSBnZXRVQTtcbmV4cG9ydHMuaXNBZG1pbiA9IGlzQWRtaW47XG5leHBvcnRzLmlzQnJvd3NlciA9IGlzQnJvd3NlcjtcbmV4cG9ydHMuaXNCcm93c2VyRXh0ZW5zaW9uID0gaXNCcm93c2VyRXh0ZW5zaW9uO1xuZXhwb3J0cy5pc0VsZWN0cm9uID0gaXNFbGVjdHJvbjtcbmV4cG9ydHMuaXNFbXB0eSA9IGlzRW1wdHk7XG5leHBvcnRzLmlzSUUgPSBpc0lFO1xuZXhwb3J0cy5pc0luZGV4ZWREQkF2YWlsYWJsZSA9IGlzSW5kZXhlZERCQXZhaWxhYmxlO1xuZXhwb3J0cy5pc01vYmlsZUNvcmRvdmEgPSBpc01vYmlsZUNvcmRvdmE7XG5leHBvcnRzLmlzTm9kZSA9IGlzTm9kZTtcbmV4cG9ydHMuaXNOb2RlU2RrID0gaXNOb2RlU2RrO1xuZXhwb3J0cy5pc1JlYWN0TmF0aXZlID0gaXNSZWFjdE5hdGl2ZTtcbmV4cG9ydHMuaXNTYWZhcmkgPSBpc1NhZmFyaTtcbmV4cG9ydHMuaXNVV1AgPSBpc1VXUDtcbmV4cG9ydHMuaXNWYWxpZEZvcm1hdCA9IGlzVmFsaWRGb3JtYXQ7XG5leHBvcnRzLmlzVmFsaWRUaW1lc3RhbXAgPSBpc1ZhbGlkVGltZXN0YW1wO1xuZXhwb3J0cy5pc1dlYldvcmtlciA9IGlzV2ViV29ya2VyO1xuZXhwb3J0cy5pc3N1ZWRBdFRpbWUgPSBpc3N1ZWRBdFRpbWU7XG5leHBvcnRzLmpzb25FdmFsID0ganNvbkV2YWw7XG5leHBvcnRzLm1hcCA9IG1hcDtcbmV4cG9ydHMub3JkaW5hbCA9IG9yZGluYWw7XG5leHBvcnRzLnByb21pc2VXaXRoVGltZW91dCA9IHByb21pc2VXaXRoVGltZW91dDtcbmV4cG9ydHMucXVlcnlzdHJpbmcgPSBxdWVyeXN0cmluZztcbmV4cG9ydHMucXVlcnlzdHJpbmdEZWNvZGUgPSBxdWVyeXN0cmluZ0RlY29kZTtcbmV4cG9ydHMuc2FmZUdldCA9IHNhZmVHZXQ7XG5leHBvcnRzLnN0cmluZ0xlbmd0aCA9IHN0cmluZ0xlbmd0aDtcbmV4cG9ydHMuc3RyaW5nVG9CeXRlQXJyYXkgPSBzdHJpbmdUb0J5dGVBcnJheTtcbmV4cG9ydHMuc3RyaW5naWZ5ID0gc3RyaW5naWZ5O1xuZXhwb3J0cy51dWlkdjQgPSB1dWlkdjQ7XG5leHBvcnRzLnZhbGlkYXRlQXJnQ291bnQgPSB2YWxpZGF0ZUFyZ0NvdW50O1xuZXhwb3J0cy52YWxpZGF0ZUNhbGxiYWNrID0gdmFsaWRhdGVDYWxsYmFjaztcbmV4cG9ydHMudmFsaWRhdGVDb250ZXh0T2JqZWN0ID0gdmFsaWRhdGVDb250ZXh0T2JqZWN0O1xuZXhwb3J0cy52YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlID0gdmFsaWRhdGVJbmRleGVkREJPcGVuYWJsZTtcbmV4cG9ydHMudmFsaWRhdGVOYW1lc3BhY2UgPSB2YWxpZGF0ZU5hbWVzcGFjZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmNqcy5qcy5tYXBcbiIsIi8qKiBAbGljZW5zZVxuQ29weXJpZ2h0IFRoZSBDbG9zdXJlIExpYnJhcnkgQXV0aG9ycy5cblNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xuKGZ1bmN0aW9uKCkgeyd1c2Ugc3RyaWN0Jzt2YXIgaDsvKiogQGxpY2Vuc2VcblxuIENvcHlyaWdodCBUaGUgQ2xvc3VyZSBMaWJyYXJ5IEF1dGhvcnMuXG4gU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiovXG5mdW5jdGlvbiBrKGYsYSl7ZnVuY3Rpb24gYygpe31jLnByb3RvdHlwZT1hLnByb3RvdHlwZTtmLkQ9YS5wcm90b3R5cGU7Zi5wcm90b3R5cGU9bmV3IGM7Zi5wcm90b3R5cGUuY29uc3RydWN0b3I9ZjtmLkM9ZnVuY3Rpb24oZCxlLGcpe2Zvcih2YXIgYj1BcnJheShhcmd1bWVudHMubGVuZ3RoLTIpLHI9MjtyPGFyZ3VtZW50cy5sZW5ndGg7cisrKWJbci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIGEucHJvdG90eXBlW2VdLmFwcGx5KGQsYil9fTtmdW5jdGlvbiBsKCl7dGhpcy5ibG9ja1NpemU9LTF9O2Z1bmN0aW9uIG0oKXt0aGlzLmJsb2NrU2l6ZT0tMTt0aGlzLmJsb2NrU2l6ZT02NDt0aGlzLmc9QXJyYXkoNCk7dGhpcy5CPUFycmF5KHRoaXMuYmxvY2tTaXplKTt0aGlzLm89dGhpcy5oPTA7dGhpcy5zKCl9ayhtLGwpO20ucHJvdG90eXBlLnM9ZnVuY3Rpb24oKXt0aGlzLmdbMF09MTczMjU4NDE5Mzt0aGlzLmdbMV09NDAyMzIzMzQxNzt0aGlzLmdbMl09MjU2MjM4MzEwMjt0aGlzLmdbM109MjcxNzMzODc4O3RoaXMubz10aGlzLmg9MH07XG5mdW5jdGlvbiBuKGYsYSxjKXtjfHwoYz0wKTt2YXIgZD1BcnJheSgxNik7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKWZvcih2YXIgZT0wOzE2PmU7KytlKWRbZV09YS5jaGFyQ29kZUF0KGMrKyl8YS5jaGFyQ29kZUF0KGMrKyk8PDh8YS5jaGFyQ29kZUF0KGMrKyk8PDE2fGEuY2hhckNvZGVBdChjKyspPDwyNDtlbHNlIGZvcihlPTA7MTY+ZTsrK2UpZFtlXT1hW2MrK118YVtjKytdPDw4fGFbYysrXTw8MTZ8YVtjKytdPDwyNDthPWYuZ1swXTtjPWYuZ1sxXTtlPWYuZ1syXTt2YXIgZz1mLmdbM107dmFyIGI9YSsoZ15jJihlXmcpKStkWzBdKzM2MTQwOTAzNjAmNDI5NDk2NzI5NTthPWMrKGI8PDcmNDI5NDk2NzI5NXxiPj4+MjUpO2I9ZysoZV5hJihjXmUpKStkWzFdKzM5MDU0MDI3MTAmNDI5NDk2NzI5NTtnPWErKGI8PDEyJjQyOTQ5NjcyOTV8Yj4+PjIwKTtiPWUrKGNeZyYoYV5jKSkrZFsyXSs2MDYxMDU4MTkmNDI5NDk2NzI5NTtlPWcrKGI8PDE3JjQyOTQ5NjcyOTV8Yj4+PjE1KTtcbmI9YysoYV5lJihnXmEpKStkWzNdKzMyNTA0NDE5NjYmNDI5NDk2NzI5NTtjPWUrKGI8PDIyJjQyOTQ5NjcyOTV8Yj4+PjEwKTtiPWErKGdeYyYoZV5nKSkrZFs0XSs0MTE4NTQ4Mzk5JjQyOTQ5NjcyOTU7YT1jKyhiPDw3JjQyOTQ5NjcyOTV8Yj4+PjI1KTtiPWcrKGVeYSYoY15lKSkrZFs1XSsxMjAwMDgwNDI2JjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMiY0Mjk0OTY3Mjk1fGI+Pj4yMCk7Yj1lKyhjXmcmKGFeYykpK2RbNl0rMjgyMTczNTk1NSY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTcmNDI5NDk2NzI5NXxiPj4+MTUpO2I9YysoYV5lJihnXmEpKStkWzddKzQyNDkyNjEzMTMmNDI5NDk2NzI5NTtjPWUrKGI8PDIyJjQyOTQ5NjcyOTV8Yj4+PjEwKTtiPWErKGdeYyYoZV5nKSkrZFs4XSsxNzcwMDM1NDE2JjQyOTQ5NjcyOTU7YT1jKyhiPDw3JjQyOTQ5NjcyOTV8Yj4+PjI1KTtiPWcrKGVeYSYoY15lKSkrZFs5XSsyMzM2NTUyODc5JjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMiY0Mjk0OTY3Mjk1fFxuYj4+PjIwKTtiPWUrKGNeZyYoYV5jKSkrZFsxMF0rNDI5NDkyNTIzMyY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTcmNDI5NDk2NzI5NXxiPj4+MTUpO2I9YysoYV5lJihnXmEpKStkWzExXSsyMzA0NTYzMTM0JjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMiY0Mjk0OTY3Mjk1fGI+Pj4xMCk7Yj1hKyhnXmMmKGVeZykpK2RbMTJdKzE4MDQ2MDM2ODImNDI5NDk2NzI5NTthPWMrKGI8PDcmNDI5NDk2NzI5NXxiPj4+MjUpO2I9ZysoZV5hJihjXmUpKStkWzEzXSs0MjU0NjI2MTk1JjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMiY0Mjk0OTY3Mjk1fGI+Pj4yMCk7Yj1lKyhjXmcmKGFeYykpK2RbMTRdKzI3OTI5NjUwMDYmNDI5NDk2NzI5NTtlPWcrKGI8PDE3JjQyOTQ5NjcyOTV8Yj4+PjE1KTtiPWMrKGFeZSYoZ15hKSkrZFsxNV0rMTIzNjUzNTMyOSY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjImNDI5NDk2NzI5NXxiPj4+MTApO2I9YSsoZV5nJihjXmUpKStkWzFdKzQxMjkxNzA3ODYmNDI5NDk2NzI5NTthPWMrKGI8PFxuNSY0Mjk0OTY3Mjk1fGI+Pj4yNyk7Yj1nKyhjXmUmKGFeYykpK2RbNl0rMzIyNTQ2NTY2NCY0Mjk0OTY3Mjk1O2c9YSsoYjw8OSY0Mjk0OTY3Mjk1fGI+Pj4yMyk7Yj1lKyhhXmMmKGdeYSkpK2RbMTFdKzY0MzcxNzcxMyY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTQmNDI5NDk2NzI5NXxiPj4+MTgpO2I9YysoZ15hJihlXmcpKStkWzBdKzM5MjEwNjk5OTQmNDI5NDk2NzI5NTtjPWUrKGI8PDIwJjQyOTQ5NjcyOTV8Yj4+PjEyKTtiPWErKGVeZyYoY15lKSkrZFs1XSszNTkzNDA4NjA1JjQyOTQ5NjcyOTU7YT1jKyhiPDw1JjQyOTQ5NjcyOTV8Yj4+PjI3KTtiPWcrKGNeZSYoYV5jKSkrZFsxMF0rMzgwMTYwODMmNDI5NDk2NzI5NTtnPWErKGI8PDkmNDI5NDk2NzI5NXxiPj4+MjMpO2I9ZSsoYV5jJihnXmEpKStkWzE1XSszNjM0NDg4OTYxJjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNCY0Mjk0OTY3Mjk1fGI+Pj4xOCk7Yj1jKyhnXmEmKGVeZykpK2RbNF0rMzg4OTQyOTQ0OCY0Mjk0OTY3Mjk1O2M9XG5lKyhiPDwyMCY0Mjk0OTY3Mjk1fGI+Pj4xMik7Yj1hKyhlXmcmKGNeZSkpK2RbOV0rNTY4NDQ2NDM4JjQyOTQ5NjcyOTU7YT1jKyhiPDw1JjQyOTQ5NjcyOTV8Yj4+PjI3KTtiPWcrKGNeZSYoYV5jKSkrZFsxNF0rMzI3NTE2MzYwNiY0Mjk0OTY3Mjk1O2c9YSsoYjw8OSY0Mjk0OTY3Mjk1fGI+Pj4yMyk7Yj1lKyhhXmMmKGdeYSkpK2RbM10rNDEwNzYwMzMzNSY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTQmNDI5NDk2NzI5NXxiPj4+MTgpO2I9YysoZ15hJihlXmcpKStkWzhdKzExNjM1MzE1MDEmNDI5NDk2NzI5NTtjPWUrKGI8PDIwJjQyOTQ5NjcyOTV8Yj4+PjEyKTtiPWErKGVeZyYoY15lKSkrZFsxM10rMjg1MDI4NTgyOSY0Mjk0OTY3Mjk1O2E9YysoYjw8NSY0Mjk0OTY3Mjk1fGI+Pj4yNyk7Yj1nKyhjXmUmKGFeYykpK2RbMl0rNDI0MzU2MzUxMiY0Mjk0OTY3Mjk1O2c9YSsoYjw8OSY0Mjk0OTY3Mjk1fGI+Pj4yMyk7Yj1lKyhhXmMmKGdeYSkpK2RbN10rMTczNTMyODQ3MyY0Mjk0OTY3Mjk1O1xuZT1nKyhiPDwxNCY0Mjk0OTY3Mjk1fGI+Pj4xOCk7Yj1jKyhnXmEmKGVeZykpK2RbMTJdKzIzNjgzNTk1NjImNDI5NDk2NzI5NTtjPWUrKGI8PDIwJjQyOTQ5NjcyOTV8Yj4+PjEyKTtiPWErKGNeZV5nKStkWzVdKzQyOTQ1ODg3MzgmNDI5NDk2NzI5NTthPWMrKGI8PDQmNDI5NDk2NzI5NXxiPj4+MjgpO2I9ZysoYV5jXmUpK2RbOF0rMjI3MjM5MjgzMyY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTEmNDI5NDk2NzI5NXxiPj4+MjEpO2I9ZSsoZ15hXmMpK2RbMTFdKzE4MzkwMzA1NjImNDI5NDk2NzI5NTtlPWcrKGI8PDE2JjQyOTQ5NjcyOTV8Yj4+PjE2KTtiPWMrKGVeZ15hKStkWzE0XSs0MjU5NjU3NzQwJjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMyY0Mjk0OTY3Mjk1fGI+Pj45KTtiPWErKGNeZV5nKStkWzFdKzI3NjM5NzUyMzYmNDI5NDk2NzI5NTthPWMrKGI8PDQmNDI5NDk2NzI5NXxiPj4+MjgpO2I9ZysoYV5jXmUpK2RbNF0rMTI3Mjg5MzM1MyY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTEmNDI5NDk2NzI5NXxcbmI+Pj4yMSk7Yj1lKyhnXmFeYykrZFs3XSs0MTM5NDY5NjY0JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNiY0Mjk0OTY3Mjk1fGI+Pj4xNik7Yj1jKyhlXmdeYSkrZFsxMF0rMzIwMDIzNjY1NiY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjMmNDI5NDk2NzI5NXxiPj4+OSk7Yj1hKyhjXmVeZykrZFsxM10rNjgxMjc5MTc0JjQyOTQ5NjcyOTU7YT1jKyhiPDw0JjQyOTQ5NjcyOTV8Yj4+PjI4KTtiPWcrKGFeY15lKStkWzBdKzM5MzY0MzAwNzQmNDI5NDk2NzI5NTtnPWErKGI8PDExJjQyOTQ5NjcyOTV8Yj4+PjIxKTtiPWUrKGdeYV5jKStkWzNdKzM1NzI0NDUzMTcmNDI5NDk2NzI5NTtlPWcrKGI8PDE2JjQyOTQ5NjcyOTV8Yj4+PjE2KTtiPWMrKGVeZ15hKStkWzZdKzc2MDI5MTg5JjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMyY0Mjk0OTY3Mjk1fGI+Pj45KTtiPWErKGNeZV5nKStkWzldKzM2NTQ2MDI4MDkmNDI5NDk2NzI5NTthPWMrKGI8PDQmNDI5NDk2NzI5NXxiPj4+MjgpO2I9ZysoYV5jXmUpK2RbMTJdK1xuMzg3MzE1MTQ2MSY0Mjk0OTY3Mjk1O2c9YSsoYjw8MTEmNDI5NDk2NzI5NXxiPj4+MjEpO2I9ZSsoZ15hXmMpK2RbMTVdKzUzMDc0MjUyMCY0Mjk0OTY3Mjk1O2U9ZysoYjw8MTYmNDI5NDk2NzI5NXxiPj4+MTYpO2I9YysoZV5nXmEpK2RbMl0rMzI5OTYyODY0NSY0Mjk0OTY3Mjk1O2M9ZSsoYjw8MjMmNDI5NDk2NzI5NXxiPj4+OSk7Yj1hKyhlXihjfH5nKSkrZFswXSs0MDk2MzM2NDUyJjQyOTQ5NjcyOTU7YT1jKyhiPDw2JjQyOTQ5NjcyOTV8Yj4+PjI2KTtiPWcrKGNeKGF8fmUpKStkWzddKzExMjY4OTE0MTUmNDI5NDk2NzI5NTtnPWErKGI8PDEwJjQyOTQ5NjcyOTV8Yj4+PjIyKTtiPWUrKGFeKGd8fmMpKStkWzE0XSsyODc4NjEyMzkxJjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNSY0Mjk0OTY3Mjk1fGI+Pj4xNyk7Yj1jKyhnXihlfH5hKSkrZFs1XSs0MjM3NTMzMjQxJjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMSY0Mjk0OTY3Mjk1fGI+Pj4xMSk7Yj1hKyhlXihjfH5nKSkrZFsxMl0rMTcwMDQ4NTU3MSZcbjQyOTQ5NjcyOTU7YT1jKyhiPDw2JjQyOTQ5NjcyOTV8Yj4+PjI2KTtiPWcrKGNeKGF8fmUpKStkWzNdKzIzOTk5ODA2OTAmNDI5NDk2NzI5NTtnPWErKGI8PDEwJjQyOTQ5NjcyOTV8Yj4+PjIyKTtiPWUrKGFeKGd8fmMpKStkWzEwXSs0MjkzOTE1NzczJjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNSY0Mjk0OTY3Mjk1fGI+Pj4xNyk7Yj1jKyhnXihlfH5hKSkrZFsxXSsyMjQwMDQ0NDk3JjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMSY0Mjk0OTY3Mjk1fGI+Pj4xMSk7Yj1hKyhlXihjfH5nKSkrZFs4XSsxODczMzEzMzU5JjQyOTQ5NjcyOTU7YT1jKyhiPDw2JjQyOTQ5NjcyOTV8Yj4+PjI2KTtiPWcrKGNeKGF8fmUpKStkWzE1XSs0MjY0MzU1NTUyJjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMCY0Mjk0OTY3Mjk1fGI+Pj4yMik7Yj1lKyhhXihnfH5jKSkrZFs2XSsyNzM0NzY4OTE2JjQyOTQ5NjcyOTU7ZT1nKyhiPDwxNSY0Mjk0OTY3Mjk1fGI+Pj4xNyk7Yj1jKyhnXihlfH5hKSkrZFsxM10rMTMwOTE1MTY0OSZcbjQyOTQ5NjcyOTU7Yz1lKyhiPDwyMSY0Mjk0OTY3Mjk1fGI+Pj4xMSk7Yj1hKyhlXihjfH5nKSkrZFs0XSs0MTQ5NDQ0MjI2JjQyOTQ5NjcyOTU7YT1jKyhiPDw2JjQyOTQ5NjcyOTV8Yj4+PjI2KTtiPWcrKGNeKGF8fmUpKStkWzExXSszMTc0NzU2OTE3JjQyOTQ5NjcyOTU7Zz1hKyhiPDwxMCY0Mjk0OTY3Mjk1fGI+Pj4yMik7Yj1lKyhhXihnfH5jKSkrZFsyXSs3MTg3ODcyNTkmNDI5NDk2NzI5NTtlPWcrKGI8PDE1JjQyOTQ5NjcyOTV8Yj4+PjE3KTtiPWMrKGdeKGV8fmEpKStkWzldKzM5NTE0ODE3NDUmNDI5NDk2NzI5NTtmLmdbMF09Zi5nWzBdK2EmNDI5NDk2NzI5NTtmLmdbMV09Zi5nWzFdKyhlKyhiPDwyMSY0Mjk0OTY3Mjk1fGI+Pj4xMSkpJjQyOTQ5NjcyOTU7Zi5nWzJdPWYuZ1syXStlJjQyOTQ5NjcyOTU7Zi5nWzNdPWYuZ1szXStnJjQyOTQ5NjcyOTV9XG5tLnByb3RvdHlwZS51PWZ1bmN0aW9uKGYsYSl7dm9pZCAwPT09YSYmKGE9Zi5sZW5ndGgpO2Zvcih2YXIgYz1hLXRoaXMuYmxvY2tTaXplLGQ9dGhpcy5CLGU9dGhpcy5oLGc9MDtnPGE7KXtpZigwPT1lKWZvcig7Zzw9Yzspbih0aGlzLGYsZyksZys9dGhpcy5ibG9ja1NpemU7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBmKWZvcig7ZzxhOyl7aWYoZFtlKytdPWYuY2hhckNvZGVBdChnKyspLGU9PXRoaXMuYmxvY2tTaXplKXtuKHRoaXMsZCk7ZT0wO2JyZWFrfX1lbHNlIGZvcig7ZzxhOylpZihkW2UrK109ZltnKytdLGU9PXRoaXMuYmxvY2tTaXplKXtuKHRoaXMsZCk7ZT0wO2JyZWFrfX10aGlzLmg9ZTt0aGlzLm8rPWF9O1xubS5wcm90b3R5cGUudj1mdW5jdGlvbigpe3ZhciBmPUFycmF5KCg1Nj50aGlzLmg/dGhpcy5ibG9ja1NpemU6Mip0aGlzLmJsb2NrU2l6ZSktdGhpcy5oKTtmWzBdPTEyODtmb3IodmFyIGE9MTthPGYubGVuZ3RoLTg7KythKWZbYV09MDt2YXIgYz04KnRoaXMubztmb3IoYT1mLmxlbmd0aC04O2E8Zi5sZW5ndGg7KythKWZbYV09YyYyNTUsYy89MjU2O3RoaXMudShmKTtmPUFycmF5KDE2KTtmb3IoYT1jPTA7ND5hOysrYSlmb3IodmFyIGQ9MDszMj5kO2QrPTgpZltjKytdPXRoaXMuZ1thXT4+PmQmMjU1O3JldHVybiBmfTtmdW5jdGlvbiBwKGYsYSl7dmFyIGM9cTtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGMsZik/Y1tmXTpjW2ZdPWEoZil9O2Z1bmN0aW9uIHQoZixhKXt0aGlzLmg9YTtmb3IodmFyIGM9W10sZD0hMCxlPWYubGVuZ3RoLTE7MDw9ZTtlLS0pe3ZhciBnPWZbZV18MDtkJiZnPT1hfHwoY1tlXT1nLGQ9ITEpfXRoaXMuZz1jfXZhciBxPXt9O2Z1bmN0aW9uIHUoZil7cmV0dXJuLTEyODw9ZiYmMTI4PmY/cChmLGZ1bmN0aW9uKGEpe3JldHVybiBuZXcgdChbYXwwXSwwPmE/LTE6MCl9KTpuZXcgdChbZnwwXSwwPmY/LTE6MCl9ZnVuY3Rpb24gdihmKXtpZihpc05hTihmKXx8IWlzRmluaXRlKGYpKXJldHVybiB3O2lmKDA+ZilyZXR1cm4geCh2KC1mKSk7Zm9yKHZhciBhPVtdLGM9MSxkPTA7Zj49YztkKyspYVtkXT1mL2N8MCxjKj00Mjk0OTY3Mjk2O3JldHVybiBuZXcgdChhLDApfVxuZnVuY3Rpb24geShmLGEpe2lmKDA9PWYubGVuZ3RoKXRocm93IEVycm9yKFwibnVtYmVyIGZvcm1hdCBlcnJvcjogZW1wdHkgc3RyaW5nXCIpO2E9YXx8MTA7aWYoMj5hfHwzNjxhKXRocm93IEVycm9yKFwicmFkaXggb3V0IG9mIHJhbmdlOiBcIithKTtpZihcIi1cIj09Zi5jaGFyQXQoMCkpcmV0dXJuIHgoeShmLnN1YnN0cmluZygxKSxhKSk7aWYoMDw9Zi5pbmRleE9mKFwiLVwiKSl0aHJvdyBFcnJvcignbnVtYmVyIGZvcm1hdCBlcnJvcjogaW50ZXJpb3IgXCItXCIgY2hhcmFjdGVyJyk7Zm9yKHZhciBjPXYoTWF0aC5wb3coYSw4KSksZD13LGU9MDtlPGYubGVuZ3RoO2UrPTgpe3ZhciBnPU1hdGgubWluKDgsZi5sZW5ndGgtZSksYj1wYXJzZUludChmLnN1YnN0cmluZyhlLGUrZyksYSk7OD5nPyhnPXYoTWF0aC5wb3coYSxnKSksZD1kLmooZykuYWRkKHYoYikpKTooZD1kLmooYyksZD1kLmFkZCh2KGIpKSl9cmV0dXJuIGR9dmFyIHc9dSgwKSx6PXUoMSksQT11KDE2Nzc3MjE2KTtoPXQucHJvdG90eXBlO1xuaC5tPWZ1bmN0aW9uKCl7aWYoQih0aGlzKSlyZXR1cm4teCh0aGlzKS5tKCk7Zm9yKHZhciBmPTAsYT0xLGM9MDtjPHRoaXMuZy5sZW5ndGg7YysrKXt2YXIgZD10aGlzLmkoYyk7Zis9KDA8PWQ/ZDo0Mjk0OTY3Mjk2K2QpKmE7YSo9NDI5NDk2NzI5Nn1yZXR1cm4gZn07aC50b1N0cmluZz1mdW5jdGlvbihmKXtmPWZ8fDEwO2lmKDI+Znx8MzY8Zil0aHJvdyBFcnJvcihcInJhZGl4IG91dCBvZiByYW5nZTogXCIrZik7aWYoQyh0aGlzKSlyZXR1cm5cIjBcIjtpZihCKHRoaXMpKXJldHVyblwiLVwiK3godGhpcykudG9TdHJpbmcoZik7Zm9yKHZhciBhPXYoTWF0aC5wb3coZiw2KSksYz10aGlzLGQ9XCJcIjs7KXt2YXIgZT1EKGMsYSkuZztjPUYoYyxlLmooYSkpO3ZhciBnPSgoMDxjLmcubGVuZ3RoP2MuZ1swXTpjLmgpPj4+MCkudG9TdHJpbmcoZik7Yz1lO2lmKEMoYykpcmV0dXJuIGcrZDtmb3IoOzY+Zy5sZW5ndGg7KWc9XCIwXCIrZztkPWcrZH19O1xuaC5pPWZ1bmN0aW9uKGYpe3JldHVybiAwPmY/MDpmPHRoaXMuZy5sZW5ndGg/dGhpcy5nW2ZdOnRoaXMuaH07ZnVuY3Rpb24gQyhmKXtpZigwIT1mLmgpcmV0dXJuITE7Zm9yKHZhciBhPTA7YTxmLmcubGVuZ3RoO2ErKylpZigwIT1mLmdbYV0pcmV0dXJuITE7cmV0dXJuITB9ZnVuY3Rpb24gQihmKXtyZXR1cm4tMT09Zi5ofWgubD1mdW5jdGlvbihmKXtmPUYodGhpcyxmKTtyZXR1cm4gQihmKT8tMTpDKGYpPzA6MX07ZnVuY3Rpb24geChmKXtmb3IodmFyIGE9Zi5nLmxlbmd0aCxjPVtdLGQ9MDtkPGE7ZCsrKWNbZF09fmYuZ1tkXTtyZXR1cm4obmV3IHQoYyx+Zi5oKSkuYWRkKHopfWguYWJzPWZ1bmN0aW9uKCl7cmV0dXJuIEIodGhpcyk/eCh0aGlzKTp0aGlzfTtcbmguYWRkPWZ1bmN0aW9uKGYpe2Zvcih2YXIgYT1NYXRoLm1heCh0aGlzLmcubGVuZ3RoLGYuZy5sZW5ndGgpLGM9W10sZD0wLGU9MDtlPD1hO2UrKyl7dmFyIGc9ZCsodGhpcy5pKGUpJjY1NTM1KSsoZi5pKGUpJjY1NTM1KSxiPShnPj4+MTYpKyh0aGlzLmkoZSk+Pj4xNikrKGYuaShlKT4+PjE2KTtkPWI+Pj4xNjtnJj02NTUzNTtiJj02NTUzNTtjW2VdPWI8PDE2fGd9cmV0dXJuIG5ldyB0KGMsY1tjLmxlbmd0aC0xXSYtMjE0NzQ4MzY0OD8tMTowKX07ZnVuY3Rpb24gRihmLGEpe3JldHVybiBmLmFkZCh4KGEpKX1cbmguaj1mdW5jdGlvbihmKXtpZihDKHRoaXMpfHxDKGYpKXJldHVybiB3O2lmKEIodGhpcykpcmV0dXJuIEIoZik/eCh0aGlzKS5qKHgoZikpOngoeCh0aGlzKS5qKGYpKTtpZihCKGYpKXJldHVybiB4KHRoaXMuaih4KGYpKSk7aWYoMD50aGlzLmwoQSkmJjA+Zi5sKEEpKXJldHVybiB2KHRoaXMubSgpKmYubSgpKTtmb3IodmFyIGE9dGhpcy5nLmxlbmd0aCtmLmcubGVuZ3RoLGM9W10sZD0wO2Q8MiphO2QrKyljW2RdPTA7Zm9yKGQ9MDtkPHRoaXMuZy5sZW5ndGg7ZCsrKWZvcih2YXIgZT0wO2U8Zi5nLmxlbmd0aDtlKyspe3ZhciBnPXRoaXMuaShkKT4+PjE2LGI9dGhpcy5pKGQpJjY1NTM1LHI9Zi5pKGUpPj4+MTYsRT1mLmkoZSkmNjU1MzU7Y1syKmQrMiplXSs9YipFO0coYywyKmQrMiplKTtjWzIqZCsyKmUrMV0rPWcqRTtHKGMsMipkKzIqZSsxKTtjWzIqZCsyKmUrMV0rPWIqcjtHKGMsMipkKzIqZSsxKTtjWzIqZCsyKmUrMl0rPWcqcjtHKGMsMipkKzIqZSsyKX1mb3IoZD0wO2Q8XG5hO2QrKyljW2RdPWNbMipkKzFdPDwxNnxjWzIqZF07Zm9yKGQ9YTtkPDIqYTtkKyspY1tkXT0wO3JldHVybiBuZXcgdChjLDApfTtmdW5jdGlvbiBHKGYsYSl7Zm9yKDsoZlthXSY2NTUzNSkhPWZbYV07KWZbYSsxXSs9ZlthXT4+PjE2LGZbYV0mPTY1NTM1LGErK31mdW5jdGlvbiBIKGYsYSl7dGhpcy5nPWY7dGhpcy5oPWF9XG5mdW5jdGlvbiBEKGYsYSl7aWYoQyhhKSl0aHJvdyBFcnJvcihcImRpdmlzaW9uIGJ5IHplcm9cIik7aWYoQyhmKSlyZXR1cm4gbmV3IEgodyx3KTtpZihCKGYpKXJldHVybiBhPUQoeChmKSxhKSxuZXcgSCh4KGEuZykseChhLmgpKTtpZihCKGEpKXJldHVybiBhPUQoZix4KGEpKSxuZXcgSCh4KGEuZyksYS5oKTtpZigzMDxmLmcubGVuZ3RoKXtpZihCKGYpfHxCKGEpKXRocm93IEVycm9yKFwic2xvd0RpdmlkZV8gb25seSB3b3JrcyB3aXRoIHBvc2l0aXZlIGludGVnZXJzLlwiKTtmb3IodmFyIGM9eixkPWE7MD49ZC5sKGYpOyljPUkoYyksZD1JKGQpO3ZhciBlPUooYywxKSxnPUooZCwxKTtkPUooZCwyKTtmb3IoYz1KKGMsMik7IUMoZCk7KXt2YXIgYj1nLmFkZChkKTswPj1iLmwoZikmJihlPWUuYWRkKGMpLGc9Yik7ZD1KKGQsMSk7Yz1KKGMsMSl9YT1GKGYsZS5qKGEpKTtyZXR1cm4gbmV3IEgoZSxhKX1mb3IoZT13OzA8PWYubChhKTspe2M9TWF0aC5tYXgoMSxNYXRoLmZsb29yKGYubSgpL1xuYS5tKCkpKTtkPU1hdGguY2VpbChNYXRoLmxvZyhjKS9NYXRoLkxOMik7ZD00OD49ZD8xOk1hdGgucG93KDIsZC00OCk7Zz12KGMpO2ZvcihiPWcuaihhKTtCKGIpfHwwPGIubChmKTspYy09ZCxnPXYoYyksYj1nLmooYSk7QyhnKSYmKGc9eik7ZT1lLmFkZChnKTtmPUYoZixiKX1yZXR1cm4gbmV3IEgoZSxmKX1oLkE9ZnVuY3Rpb24oZil7cmV0dXJuIEQodGhpcyxmKS5ofTtoLmFuZD1mdW5jdGlvbihmKXtmb3IodmFyIGE9TWF0aC5tYXgodGhpcy5nLmxlbmd0aCxmLmcubGVuZ3RoKSxjPVtdLGQ9MDtkPGE7ZCsrKWNbZF09dGhpcy5pKGQpJmYuaShkKTtyZXR1cm4gbmV3IHQoYyx0aGlzLmgmZi5oKX07aC5vcj1mdW5jdGlvbihmKXtmb3IodmFyIGE9TWF0aC5tYXgodGhpcy5nLmxlbmd0aCxmLmcubGVuZ3RoKSxjPVtdLGQ9MDtkPGE7ZCsrKWNbZF09dGhpcy5pKGQpfGYuaShkKTtyZXR1cm4gbmV3IHQoYyx0aGlzLmh8Zi5oKX07XG5oLnhvcj1mdW5jdGlvbihmKXtmb3IodmFyIGE9TWF0aC5tYXgodGhpcy5nLmxlbmd0aCxmLmcubGVuZ3RoKSxjPVtdLGQ9MDtkPGE7ZCsrKWNbZF09dGhpcy5pKGQpXmYuaShkKTtyZXR1cm4gbmV3IHQoYyx0aGlzLmheZi5oKX07ZnVuY3Rpb24gSShmKXtmb3IodmFyIGE9Zi5nLmxlbmd0aCsxLGM9W10sZD0wO2Q8YTtkKyspY1tkXT1mLmkoZCk8PDF8Zi5pKGQtMSk+Pj4zMTtyZXR1cm4gbmV3IHQoYyxmLmgpfWZ1bmN0aW9uIEooZixhKXt2YXIgYz1hPj41O2ElPTMyO2Zvcih2YXIgZD1mLmcubGVuZ3RoLWMsZT1bXSxnPTA7ZzxkO2crKyllW2ddPTA8YT9mLmkoZytjKT4+PmF8Zi5pKGcrYysxKTw8MzItYTpmLmkoZytjKTtyZXR1cm4gbmV3IHQoZSxmLmgpfTttLnByb3RvdHlwZS5kaWdlc3Q9bS5wcm90b3R5cGUudjttLnByb3RvdHlwZS5yZXNldD1tLnByb3RvdHlwZS5zO20ucHJvdG90eXBlLnVwZGF0ZT1tLnByb3RvdHlwZS51O21vZHVsZS5leHBvcnRzLk1kNT1tO3QucHJvdG90eXBlLmFkZD10LnByb3RvdHlwZS5hZGQ7dC5wcm90b3R5cGUubXVsdGlwbHk9dC5wcm90b3R5cGUuajt0LnByb3RvdHlwZS5tb2R1bG89dC5wcm90b3R5cGUuQTt0LnByb3RvdHlwZS5jb21wYXJlPXQucHJvdG90eXBlLmw7dC5wcm90b3R5cGUudG9OdW1iZXI9dC5wcm90b3R5cGUubTt0LnByb3RvdHlwZS50b1N0cmluZz10LnByb3RvdHlwZS50b1N0cmluZzt0LnByb3RvdHlwZS5nZXRCaXRzPXQucHJvdG90eXBlLmk7dC5mcm9tTnVtYmVyPXY7dC5mcm9tU3RyaW5nPXk7bW9kdWxlLmV4cG9ydHMuSW50ZWdlcj10O30pLmFwcGx5KCB0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbCA6IHR5cGVvZiBzZWxmICE9PSAndW5kZWZpbmVkJyA/IHNlbGYgIDogdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgIDoge30pO1xuIiwiLyoqIEBsaWNlbnNlXG5Db3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuU1BEWC1MaWNlbnNlLUlkZW50aWZpZXI6IEFwYWNoZS0yLjBcbiovXG4oZnVuY3Rpb24oKSB7J3VzZSBzdHJpY3QnO3ZhciBoLGFhPVwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzP09iamVjdC5kZWZpbmVQcm9wZXJ0eTpmdW5jdGlvbihhLGIsYyl7aWYoYT09QXJyYXkucHJvdG90eXBlfHxhPT1PYmplY3QucHJvdG90eXBlKXJldHVybiBhO2FbYl09Yy52YWx1ZTtyZXR1cm4gYX07ZnVuY3Rpb24gYmEoYSl7YT1bXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMsYSxcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3csXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYsXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbCYmZ2xvYmFsXTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGM9YVtiXTtpZihjJiZjLk1hdGg9PU1hdGgpcmV0dXJuIGN9dGhyb3cgRXJyb3IoXCJDYW5ub3QgZmluZCBnbG9iYWwgb2JqZWN0XCIpO312YXIgY2E9YmEodGhpcyk7XG5mdW5jdGlvbiBkYShhLGIpe2lmKGIpYTp7dmFyIGM9Y2E7YT1hLnNwbGl0KFwiLlwiKTtmb3IodmFyIGQ9MDtkPGEubGVuZ3RoLTE7ZCsrKXt2YXIgZT1hW2RdO2lmKCEoZSBpbiBjKSlicmVhayBhO2M9Y1tlXX1hPWFbYS5sZW5ndGgtMV07ZD1jW2FdO2I9YihkKTtiIT1kJiZudWxsIT1iJiZhYShjLGEse2NvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMCx2YWx1ZTpifSl9fWZ1bmN0aW9uIGVhKGEsYil7YSBpbnN0YW5jZW9mIFN0cmluZyYmKGErPVwiXCIpO3ZhciBjPTAsZD0hMSxlPXtuZXh0OmZ1bmN0aW9uKCl7aWYoIWQmJmM8YS5sZW5ndGgpe3ZhciBmPWMrKztyZXR1cm57dmFsdWU6YihmLGFbZl0pLGRvbmU6ITF9fWQ9ITA7cmV0dXJue2RvbmU6ITAsdmFsdWU6dm9pZCAwfX19O2VbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiBlfTtyZXR1cm4gZX1cbmRhKFwiQXJyYXkucHJvdG90eXBlLnZhbHVlc1wiLGZ1bmN0aW9uKGEpe3JldHVybiBhP2E6ZnVuY3Rpb24oKXtyZXR1cm4gZWEodGhpcyxmdW5jdGlvbihiLGMpe3JldHVybiBjfSl9fSk7LyoqIEBsaWNlbnNlXG5cbiBDb3B5cmlnaHQgVGhlIENsb3N1cmUgTGlicmFyeSBBdXRob3JzLlxuIFNQRFgtTGljZW5zZS1JZGVudGlmaWVyOiBBcGFjaGUtMi4wXG4qL1xudmFyIGZhPWZhfHx7fSxrPXRoaXN8fHNlbGY7ZnVuY3Rpb24gaGEoYSl7dmFyIGI9dHlwZW9mIGE7Yj1cIm9iamVjdFwiIT1iP2I6YT9BcnJheS5pc0FycmF5KGEpP1wiYXJyYXlcIjpiOlwibnVsbFwiO3JldHVyblwiYXJyYXlcIj09Ynx8XCJvYmplY3RcIj09YiYmXCJudW1iZXJcIj09dHlwZW9mIGEubGVuZ3RofWZ1bmN0aW9uIG4oYSl7dmFyIGI9dHlwZW9mIGE7cmV0dXJuXCJvYmplY3RcIj09YiYmbnVsbCE9YXx8XCJmdW5jdGlvblwiPT1ifWZ1bmN0aW9uIGlhKGEsYixjKXtyZXR1cm4gYS5jYWxsLmFwcGx5KGEuYmluZCxhcmd1bWVudHMpfVxuZnVuY3Rpb24gamEoYSxiLGMpe2lmKCFhKXRocm93IEVycm9yKCk7aWYoMjxhcmd1bWVudHMubGVuZ3RoKXt2YXIgZD1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMik7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKTtBcnJheS5wcm90b3R5cGUudW5zaGlmdC5hcHBseShlLGQpO3JldHVybiBhLmFwcGx5KGIsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBhLmFwcGx5KGIsYXJndW1lbnRzKX19ZnVuY3Rpb24gcChhLGIsYyl7cD1GdW5jdGlvbi5wcm90b3R5cGUuYmluZCYmLTEhPUZ1bmN0aW9uLnByb3RvdHlwZS5iaW5kLnRvU3RyaW5nKCkuaW5kZXhPZihcIm5hdGl2ZSBjb2RlXCIpP2lhOmphO3JldHVybiBwLmFwcGx5KG51bGwsYXJndW1lbnRzKX1cbmZ1bmN0aW9uIGthKGEsYil7dmFyIGM9QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDEpO3JldHVybiBmdW5jdGlvbigpe3ZhciBkPWMuc2xpY2UoKTtkLnB1c2guYXBwbHkoZCxhcmd1bWVudHMpO3JldHVybiBhLmFwcGx5KHRoaXMsZCl9fWZ1bmN0aW9uIHIoYSxiKXtmdW5jdGlvbiBjKCl7fWMucHJvdG90eXBlPWIucHJvdG90eXBlO2EuYWE9Yi5wcm90b3R5cGU7YS5wcm90b3R5cGU9bmV3IGM7YS5wcm90b3R5cGUuY29uc3RydWN0b3I9YTthLlFiPWZ1bmN0aW9uKGQsZSxmKXtmb3IodmFyIGc9QXJyYXkoYXJndW1lbnRzLmxlbmd0aC0yKSxtPTI7bTxhcmd1bWVudHMubGVuZ3RoO20rKylnW20tMl09YXJndW1lbnRzW21dO3JldHVybiBiLnByb3RvdHlwZVtlXS5hcHBseShkLGcpfX07ZnVuY3Rpb24gbGEoYSl7Y29uc3QgYj1hLmxlbmd0aDtpZigwPGIpe2NvbnN0IGM9QXJyYXkoYik7Zm9yKGxldCBkPTA7ZDxiO2QrKyljW2RdPWFbZF07cmV0dXJuIGN9cmV0dXJuW119ZnVuY3Rpb24gbWEoYSxiKXtmb3IobGV0IGM9MTtjPGFyZ3VtZW50cy5sZW5ndGg7YysrKXtjb25zdCBkPWFyZ3VtZW50c1tjXTtpZihoYShkKSl7Y29uc3QgZT1hLmxlbmd0aHx8MCxmPWQubGVuZ3RofHwwO2EubGVuZ3RoPWUrZjtmb3IobGV0IGc9MDtnPGY7ZysrKWFbZStnXT1kW2ddfWVsc2UgYS5wdXNoKGQpfX07Y2xhc3MgbmF7Y29uc3RydWN0b3IoYSxiKXt0aGlzLmk9YTt0aGlzLmo9Yjt0aGlzLmg9MDt0aGlzLmc9bnVsbH1nZXQoKXtsZXQgYTswPHRoaXMuaD8odGhpcy5oLS0sYT10aGlzLmcsdGhpcy5nPWEubmV4dCxhLm5leHQ9bnVsbCk6YT10aGlzLmkoKTtyZXR1cm4gYX19O2Z1bmN0aW9uIHQoYSl7cmV0dXJuL15bXFxzXFx4YTBdKiQvLnRlc3QoYSl9O2Z1bmN0aW9uIHUoKXt2YXIgYT1rLm5hdmlnYXRvcjtyZXR1cm4gYSYmKGE9YS51c2VyQWdlbnQpP2E6XCJcIn07ZnVuY3Rpb24gb2EoYSl7b2FbXCIgXCJdKGEpO3JldHVybiBhfW9hW1wiIFwiXT1mdW5jdGlvbigpe307dmFyIHBhPS0xIT11KCkuaW5kZXhPZihcIkdlY2tvXCIpJiYhKC0xIT11KCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwid2Via2l0XCIpJiYtMT09dSgpLmluZGV4T2YoXCJFZGdlXCIpKSYmISgtMSE9dSgpLmluZGV4T2YoXCJUcmlkZW50XCIpfHwtMSE9dSgpLmluZGV4T2YoXCJNU0lFXCIpKSYmLTE9PXUoKS5pbmRleE9mKFwiRWRnZVwiKTtmdW5jdGlvbiBxYShhLGIsYyl7Zm9yKGNvbnN0IGQgaW4gYSliLmNhbGwoYyxhW2RdLGQsYSl9ZnVuY3Rpb24gcmEoYSxiKXtmb3IoY29uc3QgYyBpbiBhKWIuY2FsbCh2b2lkIDAsYVtjXSxjLGEpfWZ1bmN0aW9uIHNhKGEpe2NvbnN0IGI9e307Zm9yKGNvbnN0IGMgaW4gYSliW2NdPWFbY107cmV0dXJuIGJ9Y29uc3QgdGE9XCJjb25zdHJ1Y3RvciBoYXNPd25Qcm9wZXJ0eSBpc1Byb3RvdHlwZU9mIHByb3BlcnR5SXNFbnVtZXJhYmxlIHRvTG9jYWxlU3RyaW5nIHRvU3RyaW5nIHZhbHVlT2ZcIi5zcGxpdChcIiBcIik7ZnVuY3Rpb24gdWEoYSxiKXtsZXQgYyxkO2ZvcihsZXQgZT0xO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspe2Q9YXJndW1lbnRzW2VdO2ZvcihjIGluIGQpYVtjXT1kW2NdO2ZvcihsZXQgZj0wO2Y8dGEubGVuZ3RoO2YrKyljPXRhW2ZdLE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkLGMpJiYoYVtjXT1kW2NdKX19O2Z1bmN0aW9uIHZhKGEpe3ZhciBiPTE7YT1hLnNwbGl0KFwiOlwiKTtjb25zdCBjPVtdO2Zvcig7MDxiJiZhLmxlbmd0aDspYy5wdXNoKGEuc2hpZnQoKSksYi0tO2EubGVuZ3RoJiZjLnB1c2goYS5qb2luKFwiOlwiKSk7cmV0dXJuIGN9O2Z1bmN0aW9uIHdhKGEpe2suc2V0VGltZW91dCgoKT0+e3Rocm93IGE7fSwwKX07ZnVuY3Rpb24geGEoKXt2YXIgYT16YTtsZXQgYj1udWxsO2EuZyYmKGI9YS5nLGEuZz1hLmcubmV4dCxhLmd8fChhLmg9bnVsbCksYi5uZXh0PW51bGwpO3JldHVybiBifWNsYXNzIEFhe2NvbnN0cnVjdG9yKCl7dGhpcy5oPXRoaXMuZz1udWxsfWFkZChhLGIpe2NvbnN0IGM9QmEuZ2V0KCk7Yy5zZXQoYSxiKTt0aGlzLmg/dGhpcy5oLm5leHQ9Yzp0aGlzLmc9Yzt0aGlzLmg9Y319dmFyIEJhPW5ldyBuYSgoKT0+bmV3IENhLGE9PmEucmVzZXQoKSk7Y2xhc3MgQ2F7Y29uc3RydWN0b3IoKXt0aGlzLm5leHQ9dGhpcy5nPXRoaXMuaD1udWxsfXNldChhLGIpe3RoaXMuaD1hO3RoaXMuZz1iO3RoaXMubmV4dD1udWxsfXJlc2V0KCl7dGhpcy5uZXh0PXRoaXMuZz10aGlzLmg9bnVsbH19O2xldCB4LHk9ITEsemE9bmV3IEFhLEVhPSgpPT57Y29uc3QgYT1rLlByb21pc2UucmVzb2x2ZSh2b2lkIDApO3g9KCk9PnthLnRoZW4oRGEpfX07dmFyIERhPSgpPT57Zm9yKHZhciBhO2E9eGEoKTspe3RyeXthLmguY2FsbChhLmcpfWNhdGNoKGMpe3dhKGMpfXZhciBiPUJhO2IuaihhKTsxMDA+Yi5oJiYoYi5oKyssYS5uZXh0PWIuZyxiLmc9YSl9eT0hMX07ZnVuY3Rpb24geigpe3RoaXMucz10aGlzLnM7dGhpcy5DPXRoaXMuQ316LnByb3RvdHlwZS5zPSExO3oucHJvdG90eXBlLm1hPWZ1bmN0aW9uKCl7dGhpcy5zfHwodGhpcy5zPSEwLHRoaXMuTigpKX07ei5wcm90b3R5cGUuTj1mdW5jdGlvbigpe2lmKHRoaXMuQylmb3IoO3RoaXMuQy5sZW5ndGg7KXRoaXMuQy5zaGlmdCgpKCl9O2Z1bmN0aW9uIEEoYSxiKXt0aGlzLnR5cGU9YTt0aGlzLmc9dGhpcy50YXJnZXQ9Yjt0aGlzLmRlZmF1bHRQcmV2ZW50ZWQ9ITF9QS5wcm90b3R5cGUuaD1mdW5jdGlvbigpe3RoaXMuZGVmYXVsdFByZXZlbnRlZD0hMH07dmFyIEZhPWZ1bmN0aW9uKCl7aWYoIWsuYWRkRXZlbnRMaXN0ZW5lcnx8IU9iamVjdC5kZWZpbmVQcm9wZXJ0eSlyZXR1cm4hMTt2YXIgYT0hMSxiPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSh7fSxcInBhc3NpdmVcIix7Z2V0OmZ1bmN0aW9uKCl7YT0hMH19KTt0cnl7Y29uc3QgYz0oKT0+e307ay5hZGRFdmVudExpc3RlbmVyKFwidGVzdFwiLGMsYik7ay5yZW1vdmVFdmVudExpc3RlbmVyKFwidGVzdFwiLGMsYil9Y2F0Y2goYyl7fXJldHVybiBhfSgpO2Z1bmN0aW9uIEMoYSxiKXtBLmNhbGwodGhpcyxhP2EudHlwZTpcIlwiKTt0aGlzLnJlbGF0ZWRUYXJnZXQ9dGhpcy5nPXRoaXMudGFyZ2V0PW51bGw7dGhpcy5idXR0b249dGhpcy5zY3JlZW5ZPXRoaXMuc2NyZWVuWD10aGlzLmNsaWVudFk9dGhpcy5jbGllbnRYPTA7dGhpcy5rZXk9XCJcIjt0aGlzLm1ldGFLZXk9dGhpcy5zaGlmdEtleT10aGlzLmFsdEtleT10aGlzLmN0cmxLZXk9ITE7dGhpcy5zdGF0ZT1udWxsO3RoaXMucG9pbnRlcklkPTA7dGhpcy5wb2ludGVyVHlwZT1cIlwiO3RoaXMuaT1udWxsO2lmKGEpe3ZhciBjPXRoaXMudHlwZT1hLnR5cGUsZD1hLmNoYW5nZWRUb3VjaGVzJiZhLmNoYW5nZWRUb3VjaGVzLmxlbmd0aD9hLmNoYW5nZWRUb3VjaGVzWzBdOm51bGw7dGhpcy50YXJnZXQ9YS50YXJnZXR8fGEuc3JjRWxlbWVudDt0aGlzLmc9YjtpZihiPWEucmVsYXRlZFRhcmdldCl7aWYocGEpe2E6e3RyeXtvYShiLm5vZGVOYW1lKTt2YXIgZT0hMDticmVhayBhfWNhdGNoKGYpe31lPVxuITF9ZXx8KGI9bnVsbCl9fWVsc2VcIm1vdXNlb3ZlclwiPT1jP2I9YS5mcm9tRWxlbWVudDpcIm1vdXNlb3V0XCI9PWMmJihiPWEudG9FbGVtZW50KTt0aGlzLnJlbGF0ZWRUYXJnZXQ9YjtkPyh0aGlzLmNsaWVudFg9dm9pZCAwIT09ZC5jbGllbnRYP2QuY2xpZW50WDpkLnBhZ2VYLHRoaXMuY2xpZW50WT12b2lkIDAhPT1kLmNsaWVudFk/ZC5jbGllbnRZOmQucGFnZVksdGhpcy5zY3JlZW5YPWQuc2NyZWVuWHx8MCx0aGlzLnNjcmVlblk9ZC5zY3JlZW5ZfHwwKToodGhpcy5jbGllbnRYPXZvaWQgMCE9PWEuY2xpZW50WD9hLmNsaWVudFg6YS5wYWdlWCx0aGlzLmNsaWVudFk9dm9pZCAwIT09YS5jbGllbnRZP2EuY2xpZW50WTphLnBhZ2VZLHRoaXMuc2NyZWVuWD1hLnNjcmVlblh8fDAsdGhpcy5zY3JlZW5ZPWEuc2NyZWVuWXx8MCk7dGhpcy5idXR0b249YS5idXR0b247dGhpcy5rZXk9YS5rZXl8fFwiXCI7dGhpcy5jdHJsS2V5PWEuY3RybEtleTt0aGlzLmFsdEtleT1hLmFsdEtleTt0aGlzLnNoaWZ0S2V5PVxuYS5zaGlmdEtleTt0aGlzLm1ldGFLZXk9YS5tZXRhS2V5O3RoaXMucG9pbnRlcklkPWEucG9pbnRlcklkfHwwO3RoaXMucG9pbnRlclR5cGU9XCJzdHJpbmdcIj09PXR5cGVvZiBhLnBvaW50ZXJUeXBlP2EucG9pbnRlclR5cGU6R2FbYS5wb2ludGVyVHlwZV18fFwiXCI7dGhpcy5zdGF0ZT1hLnN0YXRlO3RoaXMuaT1hO2EuZGVmYXVsdFByZXZlbnRlZCYmQy5hYS5oLmNhbGwodGhpcyl9fXIoQyxBKTt2YXIgR2E9ezI6XCJ0b3VjaFwiLDM6XCJwZW5cIiw0OlwibW91c2VcIn07Qy5wcm90b3R5cGUuaD1mdW5jdGlvbigpe0MuYWEuaC5jYWxsKHRoaXMpO3ZhciBhPXRoaXMuaTthLnByZXZlbnREZWZhdWx0P2EucHJldmVudERlZmF1bHQoKTphLnJldHVyblZhbHVlPSExfTt2YXIgRD1cImNsb3N1cmVfbGlzdGVuYWJsZV9cIisoMUU2Kk1hdGgucmFuZG9tKCl8MCk7dmFyIEhhPTA7ZnVuY3Rpb24gSWEoYSxiLGMsZCxlKXt0aGlzLmxpc3RlbmVyPWE7dGhpcy5wcm94eT1udWxsO3RoaXMuc3JjPWI7dGhpcy50eXBlPWM7dGhpcy5jYXB0dXJlPSEhZDt0aGlzLmhhPWU7dGhpcy5rZXk9KytIYTt0aGlzLmRhPXRoaXMuZmE9ITF9ZnVuY3Rpb24gSmEoYSl7YS5kYT0hMDthLmxpc3RlbmVyPW51bGw7YS5wcm94eT1udWxsO2Euc3JjPW51bGw7YS5oYT1udWxsfTtmdW5jdGlvbiBLYShhKXt0aGlzLnNyYz1hO3RoaXMuZz17fTt0aGlzLmg9MH1LYS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGEsYixjLGQsZSl7dmFyIGY9YS50b1N0cmluZygpO2E9dGhpcy5nW2ZdO2F8fChhPXRoaXMuZ1tmXT1bXSx0aGlzLmgrKyk7dmFyIGc9TGEoYSxiLGQsZSk7LTE8Zz8oYj1hW2ddLGN8fChiLmZhPSExKSk6KGI9bmV3IElhKGIsdGhpcy5zcmMsZiwhIWQsZSksYi5mYT1jLGEucHVzaChiKSk7cmV0dXJuIGJ9O2Z1bmN0aW9uIE1hKGEsYil7dmFyIGM9Yi50eXBlO2lmKGMgaW4gYS5nKXt2YXIgZD1hLmdbY10sZT1BcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGQsYix2b2lkIDApLGY7KGY9MDw9ZSkmJkFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChkLGUsMSk7ZiYmKEphKGIpLDA9PWEuZ1tjXS5sZW5ndGgmJihkZWxldGUgYS5nW2NdLGEuaC0tKSl9fVxuZnVuY3Rpb24gTGEoYSxiLGMsZCl7Zm9yKHZhciBlPTA7ZTxhLmxlbmd0aDsrK2Upe3ZhciBmPWFbZV07aWYoIWYuZGEmJmYubGlzdGVuZXI9PWImJmYuY2FwdHVyZT09ISFjJiZmLmhhPT1kKXJldHVybiBlfXJldHVybi0xfTt2YXIgTmE9XCJjbG9zdXJlX2xtX1wiKygxRTYqTWF0aC5yYW5kb20oKXwwKSxPYT17fSxQYT0wO2Z1bmN0aW9uIFFhKGEsYixjLGQsZSl7aWYoZCYmZC5vbmNlKXJldHVybiBSYShhLGIsYyxkLGUpO2lmKEFycmF5LmlzQXJyYXkoYikpe2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKVFhKGEsYltmXSxjLGQsZSk7cmV0dXJuIG51bGx9Yz1TYShjKTtyZXR1cm4gYSYmYVtEXT9hLksoYixjLG4oZCk/ISFkLmNhcHR1cmU6ISFkLGUpOlRhKGEsYixjLCExLGQsZSl9XG5mdW5jdGlvbiBUYShhLGIsYyxkLGUsZil7aWYoIWIpdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGV2ZW50IHR5cGVcIik7dmFyIGc9bihlKT8hIWUuY2FwdHVyZTohIWUsbT1VYShhKTttfHwoYVtOYV09bT1uZXcgS2EoYSkpO2M9bS5hZGQoYixjLGQsZyxmKTtpZihjLnByb3h5KXJldHVybiBjO2Q9VmEoKTtjLnByb3h5PWQ7ZC5zcmM9YTtkLmxpc3RlbmVyPWM7aWYoYS5hZGRFdmVudExpc3RlbmVyKUZhfHwoZT1nKSx2b2lkIDA9PT1lJiYoZT0hMSksYS5hZGRFdmVudExpc3RlbmVyKGIudG9TdHJpbmcoKSxkLGUpO2Vsc2UgaWYoYS5hdHRhY2hFdmVudClhLmF0dGFjaEV2ZW50KFdhKGIudG9TdHJpbmcoKSksZCk7ZWxzZSBpZihhLmFkZExpc3RlbmVyJiZhLnJlbW92ZUxpc3RlbmVyKWEuYWRkTGlzdGVuZXIoZCk7ZWxzZSB0aHJvdyBFcnJvcihcImFkZEV2ZW50TGlzdGVuZXIgYW5kIGF0dGFjaEV2ZW50IGFyZSB1bmF2YWlsYWJsZS5cIik7UGErKztyZXR1cm4gY31cbmZ1bmN0aW9uIFZhKCl7ZnVuY3Rpb24gYShjKXtyZXR1cm4gYi5jYWxsKGEuc3JjLGEubGlzdGVuZXIsYyl9Y29uc3QgYj1YYTtyZXR1cm4gYX1mdW5jdGlvbiBSYShhLGIsYyxkLGUpe2lmKEFycmF5LmlzQXJyYXkoYikpe2Zvcih2YXIgZj0wO2Y8Yi5sZW5ndGg7ZisrKVJhKGEsYltmXSxjLGQsZSk7cmV0dXJuIG51bGx9Yz1TYShjKTtyZXR1cm4gYSYmYVtEXT9hLkwoYixjLG4oZCk/ISFkLmNhcHR1cmU6ISFkLGUpOlRhKGEsYixjLCEwLGQsZSl9XG5mdW5jdGlvbiBZYShhLGIsYyxkLGUpe2lmKEFycmF5LmlzQXJyYXkoYikpZm9yKHZhciBmPTA7ZjxiLmxlbmd0aDtmKyspWWEoYSxiW2ZdLGMsZCxlKTtlbHNlKGQ9bihkKT8hIWQuY2FwdHVyZTohIWQsYz1TYShjKSxhJiZhW0RdKT8oYT1hLmksYj1TdHJpbmcoYikudG9TdHJpbmcoKSxiIGluIGEuZyYmKGY9YS5nW2JdLGM9TGEoZixjLGQsZSksLTE8YyYmKEphKGZbY10pLEFycmF5LnByb3RvdHlwZS5zcGxpY2UuY2FsbChmLGMsMSksMD09Zi5sZW5ndGgmJihkZWxldGUgYS5nW2JdLGEuaC0tKSkpKTphJiYoYT1VYShhKSkmJihiPWEuZ1tiLnRvU3RyaW5nKCldLGE9LTEsYiYmKGE9TGEoYixjLGQsZSkpLChjPS0xPGE/YlthXTpudWxsKSYmWmEoYykpfVxuZnVuY3Rpb24gWmEoYSl7aWYoXCJudW1iZXJcIiE9PXR5cGVvZiBhJiZhJiYhYS5kYSl7dmFyIGI9YS5zcmM7aWYoYiYmYltEXSlNYShiLmksYSk7ZWxzZXt2YXIgYz1hLnR5cGUsZD1hLnByb3h5O2IucmVtb3ZlRXZlbnRMaXN0ZW5lcj9iLnJlbW92ZUV2ZW50TGlzdGVuZXIoYyxkLGEuY2FwdHVyZSk6Yi5kZXRhY2hFdmVudD9iLmRldGFjaEV2ZW50KFdhKGMpLGQpOmIuYWRkTGlzdGVuZXImJmIucmVtb3ZlTGlzdGVuZXImJmIucmVtb3ZlTGlzdGVuZXIoZCk7UGEtLTsoYz1VYShiKSk/KE1hKGMsYSksMD09Yy5oJiYoYy5zcmM9bnVsbCxiW05hXT1udWxsKSk6SmEoYSl9fX1mdW5jdGlvbiBXYShhKXtyZXR1cm4gYSBpbiBPYT9PYVthXTpPYVthXT1cIm9uXCIrYX1mdW5jdGlvbiBYYShhLGIpe2lmKGEuZGEpYT0hMDtlbHNle2I9bmV3IEMoYix0aGlzKTt2YXIgYz1hLmxpc3RlbmVyLGQ9YS5oYXx8YS5zcmM7YS5mYSYmWmEoYSk7YT1jLmNhbGwoZCxiKX1yZXR1cm4gYX1cbmZ1bmN0aW9uIFVhKGEpe2E9YVtOYV07cmV0dXJuIGEgaW5zdGFuY2VvZiBLYT9hOm51bGx9dmFyICRhPVwiX19jbG9zdXJlX2V2ZW50c19mbl9cIisoMUU5Kk1hdGgucmFuZG9tKCk+Pj4wKTtmdW5jdGlvbiBTYShhKXtpZihcImZ1bmN0aW9uXCI9PT10eXBlb2YgYSlyZXR1cm4gYTthWyRhXXx8KGFbJGFdPWZ1bmN0aW9uKGIpe3JldHVybiBhLmhhbmRsZUV2ZW50KGIpfSk7cmV0dXJuIGFbJGFdfTtmdW5jdGlvbiBFKCl7ei5jYWxsKHRoaXMpO3RoaXMuaT1uZXcgS2EodGhpcyk7dGhpcy5NPXRoaXM7dGhpcy5GPW51bGx9cihFLHopO0UucHJvdG90eXBlW0RdPSEwO0UucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXI9ZnVuY3Rpb24oYSxiLGMsZCl7WWEodGhpcyxhLGIsYyxkKX07XG5mdW5jdGlvbiBGKGEsYil7dmFyIGMsZD1hLkY7aWYoZClmb3IoYz1bXTtkO2Q9ZC5GKWMucHVzaChkKTthPWEuTTtkPWIudHlwZXx8YjtpZihcInN0cmluZ1wiPT09dHlwZW9mIGIpYj1uZXcgQShiLGEpO2Vsc2UgaWYoYiBpbnN0YW5jZW9mIEEpYi50YXJnZXQ9Yi50YXJnZXR8fGE7ZWxzZXt2YXIgZT1iO2I9bmV3IEEoZCxhKTt1YShiLGUpfWU9ITA7aWYoYylmb3IodmFyIGY9Yy5sZW5ndGgtMTswPD1mO2YtLSl7dmFyIGc9Yi5nPWNbZl07ZT1hYihnLGQsITAsYikmJmV9Zz1iLmc9YTtlPWFiKGcsZCwhMCxiKSYmZTtlPWFiKGcsZCwhMSxiKSYmZTtpZihjKWZvcihmPTA7ZjxjLmxlbmd0aDtmKyspZz1iLmc9Y1tmXSxlPWFiKGcsZCwhMSxiKSYmZX1cbkUucHJvdG90eXBlLk49ZnVuY3Rpb24oKXtFLmFhLk4uY2FsbCh0aGlzKTtpZih0aGlzLmkpe3ZhciBhPXRoaXMuaSxiPTAsYztmb3IoYyBpbiBhLmcpe2Zvcih2YXIgZD1hLmdbY10sZT0wO2U8ZC5sZW5ndGg7ZSsrKSsrYixKYShkW2VdKTtkZWxldGUgYS5nW2NdO2EuaC0tfX10aGlzLkY9bnVsbH07RS5wcm90b3R5cGUuSz1mdW5jdGlvbihhLGIsYyxkKXtyZXR1cm4gdGhpcy5pLmFkZChTdHJpbmcoYSksYiwhMSxjLGQpfTtFLnByb3RvdHlwZS5MPWZ1bmN0aW9uKGEsYixjLGQpe3JldHVybiB0aGlzLmkuYWRkKFN0cmluZyhhKSxiLCEwLGMsZCl9O1xuZnVuY3Rpb24gYWIoYSxiLGMsZCl7Yj1hLmkuZ1tTdHJpbmcoYildO2lmKCFiKXJldHVybiEwO2I9Yi5jb25jYXQoKTtmb3IodmFyIGU9ITAsZj0wO2Y8Yi5sZW5ndGg7KytmKXt2YXIgZz1iW2ZdO2lmKGcmJiFnLmRhJiZnLmNhcHR1cmU9PWMpe3ZhciBtPWcubGlzdGVuZXIscT1nLmhhfHxnLnNyYztnLmZhJiZNYShhLmksZyk7ZT0hMSE9PW0uY2FsbChxLGQpJiZlfX1yZXR1cm4gZSYmIWQuZGVmYXVsdFByZXZlbnRlZH07ZnVuY3Rpb24gYmIoYSxiLGMpe2lmKFwiZnVuY3Rpb25cIj09PXR5cGVvZiBhKWMmJihhPXAoYSxjKSk7ZWxzZSBpZihhJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhLmhhbmRsZUV2ZW50KWE9cChhLmhhbmRsZUV2ZW50LGEpO2Vsc2UgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIGxpc3RlbmVyIGFyZ3VtZW50XCIpO3JldHVybiAyMTQ3NDgzNjQ3PE51bWJlcihiKT8tMTprLnNldFRpbWVvdXQoYSxifHwwKX07ZnVuY3Rpb24gY2IoYSl7YS5nPWJiKCgpPT57YS5nPW51bGw7YS5pJiYoYS5pPSExLGNiKGEpKX0sYS5sKTtjb25zdCBiPWEuaDthLmg9bnVsbDthLm0uYXBwbHkobnVsbCxiKX1jbGFzcyBlYiBleHRlbmRzIHp7Y29uc3RydWN0b3IoYSxiKXtzdXBlcigpO3RoaXMubT1hO3RoaXMubD1iO3RoaXMuaD1udWxsO3RoaXMuaT0hMTt0aGlzLmc9bnVsbH1qKGEpe3RoaXMuaD1hcmd1bWVudHM7dGhpcy5nP3RoaXMuaT0hMDpjYih0aGlzKX1OKCl7c3VwZXIuTigpO3RoaXMuZyYmKGsuY2xlYXJUaW1lb3V0KHRoaXMuZyksdGhpcy5nPW51bGwsdGhpcy5pPSExLHRoaXMuaD1udWxsKX19O2Z1bmN0aW9uIEcoYSl7ei5jYWxsKHRoaXMpO3RoaXMuaD1hO3RoaXMuZz17fX1yKEcseik7dmFyIGZiPVtdO2Z1bmN0aW9uIGdiKGEpe3FhKGEuZyxmdW5jdGlvbihiLGMpe3RoaXMuZy5oYXNPd25Qcm9wZXJ0eShjKSYmWmEoYil9LGEpO2EuZz17fX1HLnByb3RvdHlwZS5OPWZ1bmN0aW9uKCl7Ry5hYS5OLmNhbGwodGhpcyk7Z2IodGhpcyl9O0cucHJvdG90eXBlLmhhbmRsZUV2ZW50PWZ1bmN0aW9uKCl7dGhyb3cgRXJyb3IoXCJFdmVudEhhbmRsZXIuaGFuZGxlRXZlbnQgbm90IGltcGxlbWVudGVkXCIpO307dmFyIGhiPWsuSlNPTi5zdHJpbmdpZnk7dmFyIGliPWsuSlNPTi5wYXJzZTt2YXIgamI9Y2xhc3N7c3RyaW5naWZ5KGEpe3JldHVybiBrLkpTT04uc3RyaW5naWZ5KGEsdm9pZCAwKX1wYXJzZShhKXtyZXR1cm4gay5KU09OLnBhcnNlKGEsdm9pZCAwKX19O2Z1bmN0aW9uIGtiKCl7fWtiLnByb3RvdHlwZS5oPW51bGw7ZnVuY3Rpb24gbGIoYSl7cmV0dXJuIGEuaHx8KGEuaD1hLmkoKSl9O2Z1bmN0aW9uIG1iKCl7fXZhciBIPXtPUEVOOlwiYVwiLGtiOlwiYlwiLEphOlwiY1wiLHdiOlwiZFwifTtmdW5jdGlvbiBuYigpe0EuY2FsbCh0aGlzLFwiZFwiKX1yKG5iLEEpO2Z1bmN0aW9uIG9iKCl7QS5jYWxsKHRoaXMsXCJjXCIpfXIob2IsQSk7dmFyIEk9e30scGI9bnVsbDtmdW5jdGlvbiBxYigpe3JldHVybiBwYj1wYnx8bmV3IEV9SS5MYT1cInNlcnZlcnJlYWNoYWJpbGl0eVwiO2Z1bmN0aW9uIHJiKGEpe0EuY2FsbCh0aGlzLEkuTGEsYSl9cihyYixBKTtmdW5jdGlvbiBKKGEpe2NvbnN0IGI9cWIoKTtGKGIsbmV3IHJiKGIsYSkpfUkuU1RBVF9FVkVOVD1cInN0YXRldmVudFwiO2Z1bmN0aW9uIHNiKGEsYil7QS5jYWxsKHRoaXMsSS5TVEFUX0VWRU5ULGEpO3RoaXMuc3RhdD1ifXIoc2IsQSk7ZnVuY3Rpb24gSyhhKXtjb25zdCBiPXFiKCk7RihiLG5ldyBzYihiLGEpKX1JLk1hPVwidGltaW5nZXZlbnRcIjtmdW5jdGlvbiB0YihhLGIpe0EuY2FsbCh0aGlzLEkuTWEsYSk7dGhpcy5zaXplPWJ9cih0YixBKTtcbmZ1bmN0aW9uIHViKGEsYil7aWYoXCJmdW5jdGlvblwiIT09dHlwZW9mIGEpdGhyb3cgRXJyb3IoXCJGbiBtdXN0IG5vdCBiZSBudWxsIGFuZCBtdXN0IGJlIGEgZnVuY3Rpb25cIik7cmV0dXJuIGsuc2V0VGltZW91dChmdW5jdGlvbigpe2EoKX0sYil9O2Z1bmN0aW9uIHZiKCl7dGhpcy5nPSEwfXZiLnByb3RvdHlwZS54YT1mdW5jdGlvbigpe3RoaXMuZz0hMX07ZnVuY3Rpb24gd2IoYSxiLGMsZCxlLGYpe2EuaW5mbyhmdW5jdGlvbigpe2lmKGEuZylpZihmKXt2YXIgZz1cIlwiO2Zvcih2YXIgbT1mLnNwbGl0KFwiJlwiKSxxPTA7cTxtLmxlbmd0aDtxKyspe3ZhciBsPW1bcV0uc3BsaXQoXCI9XCIpO2lmKDE8bC5sZW5ndGgpe3ZhciB2PWxbMF07bD1sWzFdO3ZhciB3PXYuc3BsaXQoXCJfXCIpO2c9Mjw9dy5sZW5ndGgmJlwidHlwZVwiPT13WzFdP2crKHYrXCI9XCIrbCtcIiZcIik6ZysoditcIj1yZWRhY3RlZCZcIil9fX1lbHNlIGc9bnVsbDtlbHNlIGc9ZjtyZXR1cm5cIlhNTEhUVFAgUkVRIChcIitkK1wiKSBbYXR0ZW1wdCBcIitlK1wiXTogXCIrYitcIlxcblwiK2MrXCJcXG5cIitnfSl9XG5mdW5jdGlvbiB4YihhLGIsYyxkLGUsZixnKXthLmluZm8oZnVuY3Rpb24oKXtyZXR1cm5cIlhNTEhUVFAgUkVTUCAoXCIrZCtcIikgWyBhdHRlbXB0IFwiK2UrXCJdOiBcIitiK1wiXFxuXCIrYytcIlxcblwiK2YrXCIgXCIrZ30pfWZ1bmN0aW9uIEwoYSxiLGMsZCl7YS5pbmZvKGZ1bmN0aW9uKCl7cmV0dXJuXCJYTUxIVFRQIFRFWFQgKFwiK2IrXCIpOiBcIit5YihhLGMpKyhkP1wiIFwiK2Q6XCJcIil9KX1mdW5jdGlvbiB6YihhLGIpe2EuaW5mbyhmdW5jdGlvbigpe3JldHVyblwiVElNRU9VVDogXCIrYn0pfXZiLnByb3RvdHlwZS5pbmZvPWZ1bmN0aW9uKCl7fTtcbmZ1bmN0aW9uIHliKGEsYil7aWYoIWEuZylyZXR1cm4gYjtpZighYilyZXR1cm4gbnVsbDt0cnl7dmFyIGM9SlNPTi5wYXJzZShiKTtpZihjKWZvcihhPTA7YTxjLmxlbmd0aDthKyspaWYoQXJyYXkuaXNBcnJheShjW2FdKSl7dmFyIGQ9Y1thXTtpZighKDI+ZC5sZW5ndGgpKXt2YXIgZT1kWzFdO2lmKEFycmF5LmlzQXJyYXkoZSkmJiEoMT5lLmxlbmd0aCkpe3ZhciBmPWVbMF07aWYoXCJub29wXCIhPWYmJlwic3RvcFwiIT1mJiZcImNsb3NlXCIhPWYpZm9yKHZhciBnPTE7ZzxlLmxlbmd0aDtnKyspZVtnXT1cIlwifX19cmV0dXJuIGhiKGMpfWNhdGNoKG0pe3JldHVybiBifX07dmFyIEFiPXtOT19FUlJPUjowLGdiOjEsdGI6MixzYjozLG5iOjQscmI6NSx1Yjo2LElhOjcsVElNRU9VVDo4LHhiOjl9O3ZhciBCYj17bGI6XCJjb21wbGV0ZVwiLEhiOlwic3VjY2Vzc1wiLEphOlwiZXJyb3JcIixJYTpcImFib3J0XCIsemI6XCJyZWFkeVwiLEFiOlwicmVhZHlzdGF0ZWNoYW5nZVwiLFRJTUVPVVQ6XCJ0aW1lb3V0XCIsdmI6XCJpbmNyZW1lbnRhbGRhdGFcIix5YjpcInByb2dyZXNzXCIsb2I6XCJkb3dubG9hZHByb2dyZXNzXCIsUGI6XCJ1cGxvYWRwcm9ncmVzc1wifTt2YXIgQ2I7ZnVuY3Rpb24gRGIoKXt9cihEYixrYik7RGIucHJvdG90eXBlLmc9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFhNTEh0dHBSZXF1ZXN0fTtEYi5wcm90b3R5cGUuaT1mdW5jdGlvbigpe3JldHVybnt9fTtDYj1uZXcgRGI7ZnVuY3Rpb24gTShhLGIsYyxkKXt0aGlzLmo9YTt0aGlzLmk9Yjt0aGlzLmw9Yzt0aGlzLlI9ZHx8MTt0aGlzLlU9bmV3IEcodGhpcyk7dGhpcy5JPTQ1RTM7dGhpcy5IPW51bGw7dGhpcy5vPSExO3RoaXMubT10aGlzLkE9dGhpcy52PXRoaXMuTD10aGlzLkY9dGhpcy5TPXRoaXMuQj1udWxsO3RoaXMuRD1bXTt0aGlzLmc9bnVsbDt0aGlzLkM9MDt0aGlzLnM9dGhpcy51PW51bGw7dGhpcy5YPS0xO3RoaXMuSj0hMTt0aGlzLk89MDt0aGlzLk09bnVsbDt0aGlzLlc9dGhpcy5LPXRoaXMuVD10aGlzLlA9ITE7dGhpcy5oPW5ldyBFYn1mdW5jdGlvbiBFYigpe3RoaXMuaT1udWxsO3RoaXMuZz1cIlwiO3RoaXMuaD0hMX12YXIgRmI9e30sR2I9e307ZnVuY3Rpb24gSGIoYSxiLGMpe2EuTD0xO2Eudj1JYihOKGIpKTthLm09YzthLlA9ITA7SmIoYSxudWxsKX1cbmZ1bmN0aW9uIEpiKGEsYil7YS5GPURhdGUubm93KCk7S2IoYSk7YS5BPU4oYS52KTt2YXIgYz1hLkEsZD1hLlI7QXJyYXkuaXNBcnJheShkKXx8KGQ9W1N0cmluZyhkKV0pO0xiKGMuaSxcInRcIixkKTthLkM9MDtjPWEuai5KO2EuaD1uZXcgRWI7YS5nPU1iKGEuaixjP2I6bnVsbCwhYS5tKTswPGEuTyYmKGEuTT1uZXcgZWIocChhLlksYSxhLmcpLGEuTykpO2I9YS5VO2M9YS5nO2Q9YS5jYTt2YXIgZT1cInJlYWR5c3RhdGVjaGFuZ2VcIjtBcnJheS5pc0FycmF5KGUpfHwoZSYmKGZiWzBdPWUudG9TdHJpbmcoKSksZT1mYik7Zm9yKHZhciBmPTA7ZjxlLmxlbmd0aDtmKyspe3ZhciBnPVFhKGMsZVtmXSxkfHxiLmhhbmRsZUV2ZW50LCExLGIuaHx8Yik7aWYoIWcpYnJlYWs7Yi5nW2cua2V5XT1nfWI9YS5IP3NhKGEuSCk6e307YS5tPyhhLnV8fChhLnU9XCJQT1NUXCIpLGJbXCJDb250ZW50LVR5cGVcIl09XCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcIixhLmcuZWEoYS5BLGEudSxcbmEubSxiKSk6KGEudT1cIkdFVFwiLGEuZy5lYShhLkEsYS51LG51bGwsYikpO0ooMSk7d2IoYS5pLGEudSxhLkEsYS5sLGEuUixhLm0pfU0ucHJvdG90eXBlLmNhPWZ1bmN0aW9uKGEpe2E9YS50YXJnZXQ7Y29uc3QgYj10aGlzLk07YiYmMz09UChhKT9iLmooKTp0aGlzLlkoYSl9O1xuTS5wcm90b3R5cGUuWT1mdW5jdGlvbihhKXt0cnl7aWYoYT09dGhpcy5nKWE6e2NvbnN0IHc9UCh0aGlzLmcpO3ZhciBiPXRoaXMuZy5CYSgpO2NvbnN0IE89dGhpcy5nLlooKTtpZighKDM+dykmJigzIT13fHx0aGlzLmcmJih0aGlzLmguaHx8dGhpcy5nLm9hKCl8fE5iKHRoaXMuZykpKSl7dGhpcy5KfHw0IT13fHw3PT1ifHwoOD09Ynx8MD49Tz9KKDMpOkooMikpO09iKHRoaXMpO3ZhciBjPXRoaXMuZy5aKCk7dGhpcy5YPWM7YjppZihQYih0aGlzKSl7dmFyIGQ9TmIodGhpcy5nKTthPVwiXCI7dmFyIGU9ZC5sZW5ndGgsZj00PT1QKHRoaXMuZyk7aWYoIXRoaXMuaC5pKXtpZihcInVuZGVmaW5lZFwiPT09dHlwZW9mIFRleHREZWNvZGVyKXtRKHRoaXMpO1FiKHRoaXMpO3ZhciBnPVwiXCI7YnJlYWsgYn10aGlzLmguaT1uZXcgay5UZXh0RGVjb2Rlcn1mb3IoYj0wO2I8ZTtiKyspdGhpcy5oLmg9ITAsYSs9dGhpcy5oLmkuZGVjb2RlKGRbYl0se3N0cmVhbTohKGYmJmI9PWUtMSl9KTtkLmxlbmd0aD1cbjA7dGhpcy5oLmcrPWE7dGhpcy5DPTA7Zz10aGlzLmguZ31lbHNlIGc9dGhpcy5nLm9hKCk7dGhpcy5vPTIwMD09Yzt4Yih0aGlzLmksdGhpcy51LHRoaXMuQSx0aGlzLmwsdGhpcy5SLHcsYyk7aWYodGhpcy5vKXtpZih0aGlzLlQmJiF0aGlzLkspe2I6e2lmKHRoaXMuZyl7dmFyIG0scT10aGlzLmc7aWYoKG09cS5nP3EuZy5nZXRSZXNwb25zZUhlYWRlcihcIlgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlXCIpOm51bGwpJiYhdChtKSl7dmFyIGw9bTticmVhayBifX1sPW51bGx9aWYoYz1sKUwodGhpcy5pLHRoaXMubCxjLFwiSW5pdGlhbCBoYW5kc2hha2UgcmVzcG9uc2UgdmlhIFgtSFRUUC1Jbml0aWFsLVJlc3BvbnNlXCIpLHRoaXMuSz0hMCxSYih0aGlzLGMpO2Vsc2V7dGhpcy5vPSExO3RoaXMucz0zO0soMTIpO1EodGhpcyk7UWIodGhpcyk7YnJlYWsgYX19aWYodGhpcy5QKXtjPSEwO2xldCBCO2Zvcig7IXRoaXMuSiYmdGhpcy5DPGcubGVuZ3RoOylpZihCPVNiKHRoaXMsZyksQj09R2IpezQ9PVxudyYmKHRoaXMucz00LEsoMTQpLGM9ITEpO0wodGhpcy5pLHRoaXMubCxudWxsLFwiW0luY29tcGxldGUgUmVzcG9uc2VdXCIpO2JyZWFrfWVsc2UgaWYoQj09RmIpe3RoaXMucz00O0soMTUpO0wodGhpcy5pLHRoaXMubCxnLFwiW0ludmFsaWQgQ2h1bmtdXCIpO2M9ITE7YnJlYWt9ZWxzZSBMKHRoaXMuaSx0aGlzLmwsQixudWxsKSxSYih0aGlzLEIpO1BiKHRoaXMpJiYwIT10aGlzLkMmJih0aGlzLmguZz10aGlzLmguZy5zbGljZSh0aGlzLkMpLHRoaXMuQz0wKTs0IT13fHwwIT1nLmxlbmd0aHx8dGhpcy5oLmh8fCh0aGlzLnM9MSxLKDE2KSxjPSExKTt0aGlzLm89dGhpcy5vJiZjO2lmKCFjKUwodGhpcy5pLHRoaXMubCxnLFwiW0ludmFsaWQgQ2h1bmtlZCBSZXNwb25zZV1cIiksUSh0aGlzKSxRYih0aGlzKTtlbHNlIGlmKDA8Zy5sZW5ndGgmJiF0aGlzLlcpe3RoaXMuVz0hMDt2YXIgdj10aGlzLmo7di5nPT10aGlzJiZ2LmJhJiYhdi5NJiYodi5qLmluZm8oXCJHcmVhdCwgbm8gYnVmZmVyaW5nIHByb3h5IGRldGVjdGVkLiBCeXRlcyByZWNlaXZlZDogXCIrXG5nLmxlbmd0aCksVGIodiksdi5NPSEwLEsoMTEpKX19ZWxzZSBMKHRoaXMuaSx0aGlzLmwsZyxudWxsKSxSYih0aGlzLGcpOzQ9PXcmJlEodGhpcyk7dGhpcy5vJiYhdGhpcy5KJiYoND09dz9VYih0aGlzLmosdGhpcyk6KHRoaXMubz0hMSxLYih0aGlzKSkpfWVsc2UgVmIodGhpcy5nKSw0MDA9PWMmJjA8Zy5pbmRleE9mKFwiVW5rbm93biBTSURcIik/KHRoaXMucz0zLEsoMTIpKToodGhpcy5zPTAsSygxMykpLFEodGhpcyksUWIodGhpcyl9fX1jYXRjaCh3KXt9ZmluYWxseXt9fTtmdW5jdGlvbiBQYihhKXtyZXR1cm4gYS5nP1wiR0VUXCI9PWEudSYmMiE9YS5MJiZhLmouQ2E6ITF9XG5mdW5jdGlvbiBTYihhLGIpe3ZhciBjPWEuQyxkPWIuaW5kZXhPZihcIlxcblwiLGMpO2lmKC0xPT1kKXJldHVybiBHYjtjPU51bWJlcihiLnN1YnN0cmluZyhjLGQpKTtpZihpc05hTihjKSlyZXR1cm4gRmI7ZCs9MTtpZihkK2M+Yi5sZW5ndGgpcmV0dXJuIEdiO2I9Yi5zbGljZShkLGQrYyk7YS5DPWQrYztyZXR1cm4gYn1NLnByb3RvdHlwZS5jYW5jZWw9ZnVuY3Rpb24oKXt0aGlzLko9ITA7USh0aGlzKX07ZnVuY3Rpb24gS2IoYSl7YS5TPURhdGUubm93KCkrYS5JO1diKGEsYS5JKX1mdW5jdGlvbiBXYihhLGIpe2lmKG51bGwhPWEuQil0aHJvdyBFcnJvcihcIldhdGNoRG9nIHRpbWVyIG5vdCBudWxsXCIpO2EuQj11YihwKGEuYmEsYSksYil9ZnVuY3Rpb24gT2IoYSl7YS5CJiYoay5jbGVhclRpbWVvdXQoYS5CKSxhLkI9bnVsbCl9XG5NLnByb3RvdHlwZS5iYT1mdW5jdGlvbigpe3RoaXMuQj1udWxsO2NvbnN0IGE9RGF0ZS5ub3coKTswPD1hLXRoaXMuUz8oemIodGhpcy5pLHRoaXMuQSksMiE9dGhpcy5MJiYoSigzKSxLKDE3KSksUSh0aGlzKSx0aGlzLnM9MixRYih0aGlzKSk6V2IodGhpcyx0aGlzLlMtYSl9O2Z1bmN0aW9uIFFiKGEpezA9PWEuai5HfHxhLkp8fFViKGEuaixhKX1mdW5jdGlvbiBRKGEpe09iKGEpO3ZhciBiPWEuTTtiJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBiLm1hJiZiLm1hKCk7YS5NPW51bGw7Z2IoYS5VKTthLmcmJihiPWEuZyxhLmc9bnVsbCxiLmFib3J0KCksYi5tYSgpKX1cbmZ1bmN0aW9uIFJiKGEsYil7dHJ5e3ZhciBjPWEuajtpZigwIT1jLkcmJihjLmc9PWF8fFhiKGMuaCxhKSkpaWYoIWEuSyYmWGIoYy5oLGEpJiYzPT1jLkcpe3RyeXt2YXIgZD1jLkRhLmcucGFyc2UoYil9Y2F0Y2gobCl7ZD1udWxsfWlmKEFycmF5LmlzQXJyYXkoZCkmJjM9PWQubGVuZ3RoKXt2YXIgZT1kO2lmKDA9PWVbMF0pYTp7aWYoIWMudSl7aWYoYy5nKWlmKGMuZy5GKzNFMzxhLkYpWWIoYyksWmIoYyk7ZWxzZSBicmVhayBhOyRiKGMpO0soMTgpfX1lbHNlIGMuemE9ZVsxXSwwPGMuemEtYy5UJiYzNzUwMD5lWzJdJiZjLkYmJjA9PWMudiYmIWMuQyYmKGMuQz11YihwKGMuWmEsYyksNkUzKSk7aWYoMT49YWMoYy5oKSYmYy5jYSl7dHJ5e2MuY2EoKX1jYXRjaChsKXt9Yy5jYT12b2lkIDB9fWVsc2UgUihjLDExKX1lbHNlIGlmKChhLkt8fGMuZz09YSkmJlliKGMpLCF0KGIpKWZvcihlPWMuRGEuZy5wYXJzZShiKSxiPTA7YjxlLmxlbmd0aDtiKyspe2xldCBsPWVbYl07Yy5UPVxubFswXTtsPWxbMV07aWYoMj09Yy5HKWlmKFwiY1wiPT1sWzBdKXtjLks9bFsxXTtjLmlhPWxbMl07Y29uc3Qgdj1sWzNdO251bGwhPXYmJihjLmxhPXYsYy5qLmluZm8oXCJWRVI9XCIrYy5sYSkpO2NvbnN0IHc9bFs0XTtudWxsIT13JiYoYy5BYT13LGMuai5pbmZvKFwiU1ZFUj1cIitjLkFhKSk7Y29uc3QgTz1sWzVdO251bGwhPU8mJlwibnVtYmVyXCI9PT10eXBlb2YgTyYmMDxPJiYoZD0xLjUqTyxjLkw9ZCxjLmouaW5mbyhcImJhY2tDaGFubmVsUmVxdWVzdFRpbWVvdXRNc189XCIrZCkpO2Q9Yztjb25zdCBCPWEuZztpZihCKXtjb25zdCB5YT1CLmc/Qi5nLmdldFJlc3BvbnNlSGVhZGVyKFwiWC1DbGllbnQtV2lyZS1Qcm90b2NvbFwiKTpudWxsO2lmKHlhKXt2YXIgZj1kLmg7Zi5nfHwtMT09eWEuaW5kZXhPZihcInNwZHlcIikmJi0xPT15YS5pbmRleE9mKFwicXVpY1wiKSYmLTE9PXlhLmluZGV4T2YoXCJoMlwiKXx8KGYuaj1mLmwsZi5nPW5ldyBTZXQsZi5oJiYoYmMoZixmLmgpLGYuaD1udWxsKSl9aWYoZC5EKXtjb25zdCBkYj1cbkIuZz9CLmcuZ2V0UmVzcG9uc2VIZWFkZXIoXCJYLUhUVFAtU2Vzc2lvbi1JZFwiKTpudWxsO2RiJiYoZC55YT1kYixTKGQuSSxkLkQsZGIpKX19Yy5HPTM7Yy5sJiZjLmwudWEoKTtjLmJhJiYoYy5SPURhdGUubm93KCktYS5GLGMuai5pbmZvKFwiSGFuZHNoYWtlIFJUVDogXCIrYy5SK1wibXNcIikpO2Q9Yzt2YXIgZz1hO2QucWE9Y2MoZCxkLko/ZC5pYTpudWxsLGQuVyk7aWYoZy5LKXtkYyhkLmgsZyk7dmFyIG09ZyxxPWQuTDtxJiYobS5JPXEpO20uQiYmKE9iKG0pLEtiKG0pKTtkLmc9Z31lbHNlIGVjKGQpOzA8Yy5pLmxlbmd0aCYmZmMoYyl9ZWxzZVwic3RvcFwiIT1sWzBdJiZcImNsb3NlXCIhPWxbMF18fFIoYyw3KTtlbHNlIDM9PWMuRyYmKFwic3RvcFwiPT1sWzBdfHxcImNsb3NlXCI9PWxbMF0/XCJzdG9wXCI9PWxbMF0/UihjLDcpOmdjKGMpOlwibm9vcFwiIT1sWzBdJiZjLmwmJmMubC50YShsKSxjLnY9MCl9Sig0KX1jYXRjaChsKXt9fTt2YXIgaGM9Y2xhc3N7Y29uc3RydWN0b3IoYSxiKXt0aGlzLmc9YTt0aGlzLm1hcD1ifX07ZnVuY3Rpb24gaWMoYSl7dGhpcy5sPWF8fDEwO2suUGVyZm9ybWFuY2VOYXZpZ2F0aW9uVGltaW5nPyhhPWsucGVyZm9ybWFuY2UuZ2V0RW50cmllc0J5VHlwZShcIm5hdmlnYXRpb25cIiksYT0wPGEubGVuZ3RoJiYoXCJocVwiPT1hWzBdLm5leHRIb3BQcm90b2NvbHx8XCJoMlwiPT1hWzBdLm5leHRIb3BQcm90b2NvbCkpOmE9ISEoay5jaHJvbWUmJmsuY2hyb21lLmxvYWRUaW1lcyYmay5jaHJvbWUubG9hZFRpbWVzKCkmJmsuY2hyb21lLmxvYWRUaW1lcygpLndhc0ZldGNoZWRWaWFTcGR5KTt0aGlzLmo9YT90aGlzLmw6MTt0aGlzLmc9bnVsbDsxPHRoaXMuaiYmKHRoaXMuZz1uZXcgU2V0KTt0aGlzLmg9bnVsbDt0aGlzLmk9W119ZnVuY3Rpb24gamMoYSl7cmV0dXJuIGEuaD8hMDphLmc/YS5nLnNpemU+PWEuajohMX1mdW5jdGlvbiBhYyhhKXtyZXR1cm4gYS5oPzE6YS5nP2EuZy5zaXplOjB9ZnVuY3Rpb24gWGIoYSxiKXtyZXR1cm4gYS5oP2EuaD09YjphLmc/YS5nLmhhcyhiKTohMX1cbmZ1bmN0aW9uIGJjKGEsYil7YS5nP2EuZy5hZGQoYik6YS5oPWJ9ZnVuY3Rpb24gZGMoYSxiKXthLmgmJmEuaD09Yj9hLmg9bnVsbDphLmcmJmEuZy5oYXMoYikmJmEuZy5kZWxldGUoYil9aWMucHJvdG90eXBlLmNhbmNlbD1mdW5jdGlvbigpe3RoaXMuaT1rYyh0aGlzKTtpZih0aGlzLmgpdGhpcy5oLmNhbmNlbCgpLHRoaXMuaD1udWxsO2Vsc2UgaWYodGhpcy5nJiYwIT09dGhpcy5nLnNpemUpe2Zvcihjb25zdCBhIG9mIHRoaXMuZy52YWx1ZXMoKSlhLmNhbmNlbCgpO3RoaXMuZy5jbGVhcigpfX07ZnVuY3Rpb24ga2MoYSl7aWYobnVsbCE9YS5oKXJldHVybiBhLmkuY29uY2F0KGEuaC5EKTtpZihudWxsIT1hLmcmJjAhPT1hLmcuc2l6ZSl7bGV0IGI9YS5pO2Zvcihjb25zdCBjIG9mIGEuZy52YWx1ZXMoKSliPWIuY29uY2F0KGMuRCk7cmV0dXJuIGJ9cmV0dXJuIGxhKGEuaSl9O2Z1bmN0aW9uIGxjKGEpe2lmKGEuViYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5WKXJldHVybiBhLlYoKTtpZihcInVuZGVmaW5lZFwiIT09dHlwZW9mIE1hcCYmYSBpbnN0YW5jZW9mIE1hcHx8XCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBTZXQmJmEgaW5zdGFuY2VvZiBTZXQpcmV0dXJuIEFycmF5LmZyb20oYS52YWx1ZXMoKSk7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXJldHVybiBhLnNwbGl0KFwiXCIpO2lmKGhhKGEpKXtmb3IodmFyIGI9W10sYz1hLmxlbmd0aCxkPTA7ZDxjO2QrKyliLnB1c2goYVtkXSk7cmV0dXJuIGJ9Yj1bXTtjPTA7Zm9yKGQgaW4gYSliW2MrK109YVtkXTtyZXR1cm4gYn1cbmZ1bmN0aW9uIG1jKGEpe2lmKGEubmEmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGEubmEpcmV0dXJuIGEubmEoKTtpZighYS5WfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBhLlYpe2lmKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgTWFwJiZhIGluc3RhbmNlb2YgTWFwKXJldHVybiBBcnJheS5mcm9tKGEua2V5cygpKTtpZighKFwidW5kZWZpbmVkXCIhPT10eXBlb2YgU2V0JiZhIGluc3RhbmNlb2YgU2V0KSl7aWYoaGEoYSl8fFwic3RyaW5nXCI9PT10eXBlb2YgYSl7dmFyIGI9W107YT1hLmxlbmd0aDtmb3IodmFyIGM9MDtjPGE7YysrKWIucHVzaChjKTtyZXR1cm4gYn1iPVtdO2M9MDtmb3IoY29uc3QgZCBpbiBhKWJbYysrXT1kO3JldHVybiBifX19XG5mdW5jdGlvbiBuYyhhLGIpe2lmKGEuZm9yRWFjaCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYS5mb3JFYWNoKWEuZm9yRWFjaChiLHZvaWQgMCk7ZWxzZSBpZihoYShhKXx8XCJzdHJpbmdcIj09PXR5cGVvZiBhKUFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoYSxiLHZvaWQgMCk7ZWxzZSBmb3IodmFyIGM9bWMoYSksZD1sYyhhKSxlPWQubGVuZ3RoLGY9MDtmPGU7ZisrKWIuY2FsbCh2b2lkIDAsZFtmXSxjJiZjW2ZdLGEpfTt2YXIgb2M9UmVnRXhwKFwiXig/OihbXjovPyMuXSspOik/KD86Ly8oPzooW15cXFxcXFxcXC8/I10qKUApPyhbXlxcXFxcXFxcLz8jXSo/KSg/OjooWzAtOV0rKSk/KD89W1xcXFxcXFxcLz8jXXwkKSk/KFtePyNdKyk/KD86XFxcXD8oW14jXSopKT8oPzojKFtcXFxcc1xcXFxTXSopKT8kXCIpO2Z1bmN0aW9uIHBjKGEsYil7aWYoYSl7YT1hLnNwbGl0KFwiJlwiKTtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyl7dmFyIGQ9YVtjXS5pbmRleE9mKFwiPVwiKSxlPW51bGw7aWYoMDw9ZCl7dmFyIGY9YVtjXS5zdWJzdHJpbmcoMCxkKTtlPWFbY10uc3Vic3RyaW5nKGQrMSl9ZWxzZSBmPWFbY107YihmLGU/ZGVjb2RlVVJJQ29tcG9uZW50KGUucmVwbGFjZSgvXFwrL2csXCIgXCIpKTpcIlwiKX19fTtmdW5jdGlvbiBUKGEpe3RoaXMuZz10aGlzLm89dGhpcy5qPVwiXCI7dGhpcy5zPW51bGw7dGhpcy5tPXRoaXMubD1cIlwiO3RoaXMuaD0hMTtpZihhIGluc3RhbmNlb2YgVCl7dGhpcy5oPWEuaDtxYyh0aGlzLGEuaik7dGhpcy5vPWEubzt0aGlzLmc9YS5nO3JjKHRoaXMsYS5zKTt0aGlzLmw9YS5sO3ZhciBiPWEuaTt2YXIgYz1uZXcgc2M7Yy5pPWIuaTtiLmcmJihjLmc9bmV3IE1hcChiLmcpLGMuaD1iLmgpO3RjKHRoaXMsYyk7dGhpcy5tPWEubX1lbHNlIGEmJihiPVN0cmluZyhhKS5tYXRjaChvYykpPyh0aGlzLmg9ITEscWModGhpcyxiWzFdfHxcIlwiLCEwKSx0aGlzLm89dWMoYlsyXXx8XCJcIiksdGhpcy5nPXVjKGJbM118fFwiXCIsITApLHJjKHRoaXMsYls0XSksdGhpcy5sPXVjKGJbNV18fFwiXCIsITApLHRjKHRoaXMsYls2XXx8XCJcIiwhMCksdGhpcy5tPXVjKGJbN118fFwiXCIpKToodGhpcy5oPSExLHRoaXMuaT1uZXcgc2MobnVsbCx0aGlzLmgpKX1cblQucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7dmFyIGE9W10sYj10aGlzLmo7YiYmYS5wdXNoKHZjKGIsd2MsITApLFwiOlwiKTt2YXIgYz10aGlzLmc7aWYoY3x8XCJmaWxlXCI9PWIpYS5wdXNoKFwiLy9cIiksKGI9dGhpcy5vKSYmYS5wdXNoKHZjKGIsd2MsITApLFwiQFwiKSxhLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhjKSkucmVwbGFjZSgvJTI1KFswLTlhLWZBLUZdezJ9KS9nLFwiJSQxXCIpKSxjPXRoaXMucyxudWxsIT1jJiZhLnB1c2goXCI6XCIsU3RyaW5nKGMpKTtpZihjPXRoaXMubCl0aGlzLmcmJlwiL1wiIT1jLmNoYXJBdCgwKSYmYS5wdXNoKFwiL1wiKSxhLnB1c2godmMoYyxcIi9cIj09Yy5jaGFyQXQoMCk/eGM6eWMsITApKTsoYz10aGlzLmkudG9TdHJpbmcoKSkmJmEucHVzaChcIj9cIixjKTsoYz10aGlzLm0pJiZhLnB1c2goXCIjXCIsdmMoYyx6YykpO3JldHVybiBhLmpvaW4oXCJcIil9O2Z1bmN0aW9uIE4oYSl7cmV0dXJuIG5ldyBUKGEpfVxuZnVuY3Rpb24gcWMoYSxiLGMpe2Euaj1jP3VjKGIsITApOmI7YS5qJiYoYS5qPWEuai5yZXBsYWNlKC86JC8sXCJcIikpfWZ1bmN0aW9uIHJjKGEsYil7aWYoYil7Yj1OdW1iZXIoYik7aWYoaXNOYU4oYil8fDA+Yil0aHJvdyBFcnJvcihcIkJhZCBwb3J0IG51bWJlciBcIitiKTthLnM9Yn1lbHNlIGEucz1udWxsfWZ1bmN0aW9uIHRjKGEsYixjKXtiIGluc3RhbmNlb2Ygc2M/KGEuaT1iLEFjKGEuaSxhLmgpKTooY3x8KGI9dmMoYixCYykpLGEuaT1uZXcgc2MoYixhLmgpKX1mdW5jdGlvbiBTKGEsYixjKXthLmkuc2V0KGIsYyl9ZnVuY3Rpb24gSWIoYSl7UyhhLFwienhcIixNYXRoLmZsb29yKDIxNDc0ODM2NDgqTWF0aC5yYW5kb20oKSkudG9TdHJpbmcoMzYpK01hdGguYWJzKE1hdGguZmxvb3IoMjE0NzQ4MzY0OCpNYXRoLnJhbmRvbSgpKV5EYXRlLm5vdygpKS50b1N0cmluZygzNikpO3JldHVybiBhfVxuZnVuY3Rpb24gdWMoYSxiKXtyZXR1cm4gYT9iP2RlY29kZVVSSShhLnJlcGxhY2UoLyUyNS9nLFwiJTI1MjVcIikpOmRlY29kZVVSSUNvbXBvbmVudChhKTpcIlwifWZ1bmN0aW9uIHZjKGEsYixjKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixDYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csXCIlJDFcIikpLGEpOm51bGx9ZnVuY3Rpb24gQ2MoYSl7YT1hLmNoYXJDb2RlQXQoMCk7cmV0dXJuXCIlXCIrKGE+PjQmMTUpLnRvU3RyaW5nKDE2KSsoYSYxNSkudG9TdHJpbmcoMTYpfXZhciB3Yz0vWyNcXC9cXD9AXS9nLHljPS9bI1xcPzpdL2cseGM9L1sjXFw/XS9nLEJjPS9bI1xcP0BdL2csemM9LyMvZztmdW5jdGlvbiBzYyhhLGIpe3RoaXMuaD10aGlzLmc9bnVsbDt0aGlzLmk9YXx8bnVsbDt0aGlzLmo9ISFifVxuZnVuY3Rpb24gVShhKXthLmd8fChhLmc9bmV3IE1hcCxhLmg9MCxhLmkmJnBjKGEuaSxmdW5jdGlvbihiLGMpe2EuYWRkKGRlY29kZVVSSUNvbXBvbmVudChiLnJlcGxhY2UoL1xcKy9nLFwiIFwiKSksYyl9KSl9aD1zYy5wcm90b3R5cGU7aC5hZGQ9ZnVuY3Rpb24oYSxiKXtVKHRoaXMpO3RoaXMuaT1udWxsO2E9Vih0aGlzLGEpO3ZhciBjPXRoaXMuZy5nZXQoYSk7Y3x8dGhpcy5nLnNldChhLGM9W10pO2MucHVzaChiKTt0aGlzLmgrPTE7cmV0dXJuIHRoaXN9O2Z1bmN0aW9uIERjKGEsYil7VShhKTtiPVYoYSxiKTthLmcuaGFzKGIpJiYoYS5pPW51bGwsYS5oLT1hLmcuZ2V0KGIpLmxlbmd0aCxhLmcuZGVsZXRlKGIpKX1mdW5jdGlvbiBFYyhhLGIpe1UoYSk7Yj1WKGEsYik7cmV0dXJuIGEuZy5oYXMoYil9XG5oLmZvckVhY2g9ZnVuY3Rpb24oYSxiKXtVKHRoaXMpO3RoaXMuZy5mb3JFYWNoKGZ1bmN0aW9uKGMsZCl7Yy5mb3JFYWNoKGZ1bmN0aW9uKGUpe2EuY2FsbChiLGUsZCx0aGlzKX0sdGhpcyl9LHRoaXMpfTtoLm5hPWZ1bmN0aW9uKCl7VSh0aGlzKTtjb25zdCBhPUFycmF5LmZyb20odGhpcy5nLnZhbHVlcygpKSxiPUFycmF5LmZyb20odGhpcy5nLmtleXMoKSksYz1bXTtmb3IobGV0IGQ9MDtkPGIubGVuZ3RoO2QrKyl7Y29uc3QgZT1hW2RdO2ZvcihsZXQgZj0wO2Y8ZS5sZW5ndGg7ZisrKWMucHVzaChiW2RdKX1yZXR1cm4gY307aC5WPWZ1bmN0aW9uKGEpe1UodGhpcyk7bGV0IGI9W107aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKUVjKHRoaXMsYSkmJihiPWIuY29uY2F0KHRoaXMuZy5nZXQoVih0aGlzLGEpKSkpO2Vsc2V7YT1BcnJheS5mcm9tKHRoaXMuZy52YWx1ZXMoKSk7Zm9yKGxldCBjPTA7YzxhLmxlbmd0aDtjKyspYj1iLmNvbmNhdChhW2NdKX1yZXR1cm4gYn07XG5oLnNldD1mdW5jdGlvbihhLGIpe1UodGhpcyk7dGhpcy5pPW51bGw7YT1WKHRoaXMsYSk7RWModGhpcyxhKSYmKHRoaXMuaC09dGhpcy5nLmdldChhKS5sZW5ndGgpO3RoaXMuZy5zZXQoYSxbYl0pO3RoaXMuaCs9MTtyZXR1cm4gdGhpc307aC5nZXQ9ZnVuY3Rpb24oYSxiKXtpZighYSlyZXR1cm4gYjthPXRoaXMuVihhKTtyZXR1cm4gMDxhLmxlbmd0aD9TdHJpbmcoYVswXSk6Yn07ZnVuY3Rpb24gTGIoYSxiLGMpe0RjKGEsYik7MDxjLmxlbmd0aCYmKGEuaT1udWxsLGEuZy5zZXQoVihhLGIpLGxhKGMpKSxhLmgrPWMubGVuZ3RoKX1cbmgudG9TdHJpbmc9ZnVuY3Rpb24oKXtpZih0aGlzLmkpcmV0dXJuIHRoaXMuaTtpZighdGhpcy5nKXJldHVyblwiXCI7Y29uc3QgYT1bXSxiPUFycmF5LmZyb20odGhpcy5nLmtleXMoKSk7Zm9yKHZhciBjPTA7YzxiLmxlbmd0aDtjKyspe3ZhciBkPWJbY107Y29uc3QgZj1lbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGQpKSxnPXRoaXMuVihkKTtmb3IoZD0wO2Q8Zy5sZW5ndGg7ZCsrKXt2YXIgZT1mO1wiXCIhPT1nW2RdJiYoZSs9XCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KFN0cmluZyhnW2RdKSkpO2EucHVzaChlKX19cmV0dXJuIHRoaXMuaT1hLmpvaW4oXCImXCIpfTtmdW5jdGlvbiBWKGEsYil7Yj1TdHJpbmcoYik7YS5qJiYoYj1iLnRvTG93ZXJDYXNlKCkpO3JldHVybiBifVxuZnVuY3Rpb24gQWMoYSxiKXtiJiYhYS5qJiYoVShhKSxhLmk9bnVsbCxhLmcuZm9yRWFjaChmdW5jdGlvbihjLGQpe3ZhciBlPWQudG9Mb3dlckNhc2UoKTtkIT1lJiYoRGModGhpcyxkKSxMYih0aGlzLGUsYykpfSxhKSk7YS5qPWJ9O2Z1bmN0aW9uIEZjKGEsYil7Y29uc3QgYz1uZXcgdmI7aWYoay5JbWFnZSl7Y29uc3QgZD1uZXcgSW1hZ2U7ZC5vbmxvYWQ9a2EoVyxjLFwiVGVzdExvYWRJbWFnZTogbG9hZGVkXCIsITAsYixkKTtkLm9uZXJyb3I9a2EoVyxjLFwiVGVzdExvYWRJbWFnZTogZXJyb3JcIiwhMSxiLGQpO2Qub25hYm9ydD1rYShXLGMsXCJUZXN0TG9hZEltYWdlOiBhYm9ydFwiLCExLGIsZCk7ZC5vbnRpbWVvdXQ9a2EoVyxjLFwiVGVzdExvYWRJbWFnZTogdGltZW91dFwiLCExLGIsZCk7ay5zZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aWYoZC5vbnRpbWVvdXQpZC5vbnRpbWVvdXQoKX0sMUU0KTtkLnNyYz1hfWVsc2UgYighMSl9XG5mdW5jdGlvbiBHYyhhLGIpe2NvbnN0IGM9bmV3IHZiLGQ9bmV3IEFib3J0Q29udHJvbGxlcixlPXNldFRpbWVvdXQoKCk9PntkLmFib3J0KCk7VyhjLFwiVGVzdFBpbmdTZXJ2ZXI6IHRpbWVvdXRcIiwhMSxiKX0sMUU0KTtmZXRjaChhLHtzaWduYWw6ZC5zaWduYWx9KS50aGVuKGY9PntjbGVhclRpbWVvdXQoZSk7Zi5vaz9XKGMsXCJUZXN0UGluZ1NlcnZlcjogb2tcIiwhMCxiKTpXKGMsXCJUZXN0UGluZ1NlcnZlcjogc2VydmVyIGVycm9yXCIsITEsYil9KS5jYXRjaCgoKT0+e2NsZWFyVGltZW91dChlKTtXKGMsXCJUZXN0UGluZ1NlcnZlcjogZXJyb3JcIiwhMSxiKX0pfWZ1bmN0aW9uIFcoYSxiLGMsZCxlKXt0cnl7ZSYmKGUub25sb2FkPW51bGwsZS5vbmVycm9yPW51bGwsZS5vbmFib3J0PW51bGwsZS5vbnRpbWVvdXQ9bnVsbCksZChjKX1jYXRjaChmKXt9fTtmdW5jdGlvbiBIYygpe3RoaXMuZz1uZXcgamJ9ZnVuY3Rpb24gSWMoYSxiLGMpe2NvbnN0IGQ9Y3x8XCJcIjt0cnl7bmMoYSxmdW5jdGlvbihlLGYpe2xldCBnPWU7bihlKSYmKGc9aGIoZSkpO2IucHVzaChkK2YrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KGcpKX0pfWNhdGNoKGUpe3Rocm93IGIucHVzaChkK1widHlwZT1cIitlbmNvZGVVUklDb21wb25lbnQoXCJfYmFkbWFwXCIpKSxlO319O2Z1bmN0aW9uIEpjKGEpe3RoaXMubD1hLlVifHxudWxsO3RoaXMuaj1hLmVifHwhMX1yKEpjLGtiKTtKYy5wcm90b3R5cGUuZz1mdW5jdGlvbigpe3JldHVybiBuZXcgS2ModGhpcy5sLHRoaXMuail9O0pjLnByb3RvdHlwZS5pPWZ1bmN0aW9uKGEpe3JldHVybiBmdW5jdGlvbigpe3JldHVybiBhfX0oe30pO2Z1bmN0aW9uIEtjKGEsYil7RS5jYWxsKHRoaXMpO3RoaXMuRD1hO3RoaXMubz1iO3RoaXMubT12b2lkIDA7dGhpcy5zdGF0dXM9dGhpcy5yZWFkeVN0YXRlPTA7dGhpcy5yZXNwb25zZVR5cGU9dGhpcy5yZXNwb25zZVRleHQ9dGhpcy5yZXNwb25zZT10aGlzLnN0YXR1c1RleHQ9XCJcIjt0aGlzLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsO3RoaXMudT1uZXcgSGVhZGVyczt0aGlzLmg9bnVsbDt0aGlzLkI9XCJHRVRcIjt0aGlzLkE9XCJcIjt0aGlzLmc9ITE7dGhpcy52PXRoaXMuaj10aGlzLmw9bnVsbH1yKEtjLEUpO2g9S2MucHJvdG90eXBlO1xuaC5vcGVuPWZ1bmN0aW9uKGEsYil7aWYoMCE9dGhpcy5yZWFkeVN0YXRlKXRocm93IHRoaXMuYWJvcnQoKSxFcnJvcihcIkVycm9yIHJlb3BlbmluZyBhIGNvbm5lY3Rpb25cIik7dGhpcy5CPWE7dGhpcy5BPWI7dGhpcy5yZWFkeVN0YXRlPTE7TGModGhpcyl9O2guc2VuZD1mdW5jdGlvbihhKXtpZigxIT10aGlzLnJlYWR5U3RhdGUpdGhyb3cgdGhpcy5hYm9ydCgpLEVycm9yKFwibmVlZCB0byBjYWxsIG9wZW4oKSBmaXJzdC4gXCIpO3RoaXMuZz0hMDtjb25zdCBiPXtoZWFkZXJzOnRoaXMudSxtZXRob2Q6dGhpcy5CLGNyZWRlbnRpYWxzOnRoaXMubSxjYWNoZTp2b2lkIDB9O2EmJihiLmJvZHk9YSk7KHRoaXMuRHx8aykuZmV0Y2gobmV3IFJlcXVlc3QodGhpcy5BLGIpKS50aGVuKHRoaXMuU2EuYmluZCh0aGlzKSx0aGlzLmdhLmJpbmQodGhpcykpfTtcbmguYWJvcnQ9ZnVuY3Rpb24oKXt0aGlzLnJlc3BvbnNlPXRoaXMucmVzcG9uc2VUZXh0PVwiXCI7dGhpcy51PW5ldyBIZWFkZXJzO3RoaXMuc3RhdHVzPTA7dGhpcy5qJiZ0aGlzLmouY2FuY2VsKFwiUmVxdWVzdCB3YXMgYWJvcnRlZC5cIikuY2F0Y2goKCk9Pnt9KTsxPD10aGlzLnJlYWR5U3RhdGUmJnRoaXMuZyYmNCE9dGhpcy5yZWFkeVN0YXRlJiYodGhpcy5nPSExLE1jKHRoaXMpKTt0aGlzLnJlYWR5U3RhdGU9MH07XG5oLlNhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuZyYmKHRoaXMubD1hLHRoaXMuaHx8KHRoaXMuc3RhdHVzPXRoaXMubC5zdGF0dXMsdGhpcy5zdGF0dXNUZXh0PXRoaXMubC5zdGF0dXNUZXh0LHRoaXMuaD1hLmhlYWRlcnMsdGhpcy5yZWFkeVN0YXRlPTIsTGModGhpcykpLHRoaXMuZyYmKHRoaXMucmVhZHlTdGF0ZT0zLExjKHRoaXMpLHRoaXMuZykpKWlmKFwiYXJyYXlidWZmZXJcIj09PXRoaXMucmVzcG9uc2VUeXBlKWEuYXJyYXlCdWZmZXIoKS50aGVuKHRoaXMuUWEuYmluZCh0aGlzKSx0aGlzLmdhLmJpbmQodGhpcykpO2Vsc2UgaWYoXCJ1bmRlZmluZWRcIiE9PXR5cGVvZiBrLlJlYWRhYmxlU3RyZWFtJiZcImJvZHlcImluIGEpe3RoaXMuaj1hLmJvZHkuZ2V0UmVhZGVyKCk7aWYodGhpcy5vKXtpZih0aGlzLnJlc3BvbnNlVHlwZSl0aHJvdyBFcnJvcigncmVzcG9uc2VUeXBlIG11c3QgYmUgZW1wdHkgZm9yIFwic3RyZWFtQmluYXJ5Q2h1bmtzXCIgbW9kZSByZXNwb25zZXMuJyk7dGhpcy5yZXNwb25zZT1cbltdfWVsc2UgdGhpcy5yZXNwb25zZT10aGlzLnJlc3BvbnNlVGV4dD1cIlwiLHRoaXMudj1uZXcgVGV4dERlY29kZXI7TmModGhpcyl9ZWxzZSBhLnRleHQoKS50aGVuKHRoaXMuUmEuYmluZCh0aGlzKSx0aGlzLmdhLmJpbmQodGhpcykpfTtmdW5jdGlvbiBOYyhhKXthLmoucmVhZCgpLnRoZW4oYS5QYS5iaW5kKGEpKS5jYXRjaChhLmdhLmJpbmQoYSkpfWguUGE9ZnVuY3Rpb24oYSl7aWYodGhpcy5nKXtpZih0aGlzLm8mJmEudmFsdWUpdGhpcy5yZXNwb25zZS5wdXNoKGEudmFsdWUpO2Vsc2UgaWYoIXRoaXMubyl7dmFyIGI9YS52YWx1ZT9hLnZhbHVlOm5ldyBVaW50OEFycmF5KDApO2lmKGI9dGhpcy52LmRlY29kZShiLHtzdHJlYW06IWEuZG9uZX0pKXRoaXMucmVzcG9uc2U9dGhpcy5yZXNwb25zZVRleHQrPWJ9YS5kb25lP01jKHRoaXMpOkxjKHRoaXMpOzM9PXRoaXMucmVhZHlTdGF0ZSYmTmModGhpcyl9fTtcbmguUmE9ZnVuY3Rpb24oYSl7dGhpcy5nJiYodGhpcy5yZXNwb25zZT10aGlzLnJlc3BvbnNlVGV4dD1hLE1jKHRoaXMpKX07aC5RYT1mdW5jdGlvbihhKXt0aGlzLmcmJih0aGlzLnJlc3BvbnNlPWEsTWModGhpcykpfTtoLmdhPWZ1bmN0aW9uKCl7dGhpcy5nJiZNYyh0aGlzKX07ZnVuY3Rpb24gTWMoYSl7YS5yZWFkeVN0YXRlPTQ7YS5sPW51bGw7YS5qPW51bGw7YS52PW51bGw7TGMoYSl9aC5zZXRSZXF1ZXN0SGVhZGVyPWZ1bmN0aW9uKGEsYil7dGhpcy51LmFwcGVuZChhLGIpfTtoLmdldFJlc3BvbnNlSGVhZGVyPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmg/dGhpcy5oLmdldChhLnRvTG93ZXJDYXNlKCkpfHxcIlwiOlwiXCJ9O1xuaC5nZXRBbGxSZXNwb25zZUhlYWRlcnM9ZnVuY3Rpb24oKXtpZighdGhpcy5oKXJldHVyblwiXCI7Y29uc3QgYT1bXSxiPXRoaXMuaC5lbnRyaWVzKCk7Zm9yKHZhciBjPWIubmV4dCgpOyFjLmRvbmU7KWM9Yy52YWx1ZSxhLnB1c2goY1swXStcIjogXCIrY1sxXSksYz1iLm5leHQoKTtyZXR1cm4gYS5qb2luKFwiXFxyXFxuXCIpfTtmdW5jdGlvbiBMYyhhKXthLm9ucmVhZHlzdGF0ZWNoYW5nZSYmYS5vbnJlYWR5c3RhdGVjaGFuZ2UuY2FsbChhKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoS2MucHJvdG90eXBlLFwid2l0aENyZWRlbnRpYWxzXCIse2dldDpmdW5jdGlvbigpe3JldHVyblwiaW5jbHVkZVwiPT09dGhpcy5tfSxzZXQ6ZnVuY3Rpb24oYSl7dGhpcy5tPWE/XCJpbmNsdWRlXCI6XCJzYW1lLW9yaWdpblwifX0pO2Z1bmN0aW9uIE9jKGEpe2xldCBiPVwiXCI7cWEoYSxmdW5jdGlvbihjLGQpe2IrPWQ7Yis9XCI6XCI7Yis9YztiKz1cIlxcclxcblwifSk7cmV0dXJuIGJ9ZnVuY3Rpb24gUGMoYSxiLGMpe2E6e2ZvcihkIGluIGMpe3ZhciBkPSExO2JyZWFrIGF9ZD0hMH1kfHwoYz1PYyhjKSxcInN0cmluZ1wiPT09dHlwZW9mIGE/KGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYikpLG51bGwhPWMmJmVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoYykpKTpTKGEsYixjKSl9O2Z1bmN0aW9uIFgoYSl7RS5jYWxsKHRoaXMpO3RoaXMuaGVhZGVycz1uZXcgTWFwO3RoaXMubz1hfHxudWxsO3RoaXMuaD0hMTt0aGlzLnY9dGhpcy5nPW51bGw7dGhpcy5EPVwiXCI7dGhpcy5tPTA7dGhpcy5sPVwiXCI7dGhpcy5qPXRoaXMuQj10aGlzLnU9dGhpcy5BPSExO3RoaXMuST1udWxsO3RoaXMuSD1cIlwiO3RoaXMuSj0hMX1yKFgsRSk7dmFyIFFjPS9eaHR0cHM/JC9pLFJjPVtcIlBPU1RcIixcIlBVVFwiXTtoPVgucHJvdG90eXBlO2guSGE9ZnVuY3Rpb24oYSl7dGhpcy5KPWF9O1xuaC5lYT1mdW5jdGlvbihhLGIsYyxkKXtpZih0aGlzLmcpdGhyb3cgRXJyb3IoXCJbZ29vZy5uZXQuWGhySW9dIE9iamVjdCBpcyBhY3RpdmUgd2l0aCBhbm90aGVyIHJlcXVlc3Q9XCIrdGhpcy5EK1wiOyBuZXdVcmk9XCIrYSk7Yj1iP2IudG9VcHBlckNhc2UoKTpcIkdFVFwiO3RoaXMuRD1hO3RoaXMubD1cIlwiO3RoaXMubT0wO3RoaXMuQT0hMTt0aGlzLmg9ITA7dGhpcy5nPXRoaXMubz90aGlzLm8uZygpOkNiLmcoKTt0aGlzLnY9dGhpcy5vP2xiKHRoaXMubyk6bGIoQ2IpO3RoaXMuZy5vbnJlYWR5c3RhdGVjaGFuZ2U9cCh0aGlzLkVhLHRoaXMpO3RyeXt0aGlzLkI9ITAsdGhpcy5nLm9wZW4oYixTdHJpbmcoYSksITApLHRoaXMuQj0hMX1jYXRjaChmKXtTYyh0aGlzLGYpO3JldHVybn1hPWN8fFwiXCI7Yz1uZXcgTWFwKHRoaXMuaGVhZGVycyk7aWYoZClpZihPYmplY3QuZ2V0UHJvdG90eXBlT2YoZCk9PT1PYmplY3QucHJvdG90eXBlKWZvcih2YXIgZSBpbiBkKWMuc2V0KGUsZFtlXSk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PT1cbnR5cGVvZiBkLmtleXMmJlwiZnVuY3Rpb25cIj09PXR5cGVvZiBkLmdldClmb3IoY29uc3QgZiBvZiBkLmtleXMoKSljLnNldChmLGQuZ2V0KGYpKTtlbHNlIHRocm93IEVycm9yKFwiVW5rbm93biBpbnB1dCB0eXBlIGZvciBvcHRfaGVhZGVyczogXCIrU3RyaW5nKGQpKTtkPUFycmF5LmZyb20oYy5rZXlzKCkpLmZpbmQoZj0+XCJjb250ZW50LXR5cGVcIj09Zi50b0xvd2VyQ2FzZSgpKTtlPWsuRm9ybURhdGEmJmEgaW5zdGFuY2VvZiBrLkZvcm1EYXRhOyEoMDw9QXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChSYyxiLHZvaWQgMCkpfHxkfHxlfHxjLnNldChcIkNvbnRlbnQtVHlwZVwiLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLThcIik7Zm9yKGNvbnN0IFtmLGddb2YgYyl0aGlzLmcuc2V0UmVxdWVzdEhlYWRlcihmLGcpO3RoaXMuSCYmKHRoaXMuZy5yZXNwb25zZVR5cGU9dGhpcy5IKTtcIndpdGhDcmVkZW50aWFsc1wiaW4gdGhpcy5nJiZ0aGlzLmcud2l0aENyZWRlbnRpYWxzIT09XG50aGlzLkomJih0aGlzLmcud2l0aENyZWRlbnRpYWxzPXRoaXMuSik7dHJ5e1RjKHRoaXMpLHRoaXMudT0hMCx0aGlzLmcuc2VuZChhKSx0aGlzLnU9ITF9Y2F0Y2goZil7U2ModGhpcyxmKX19O2Z1bmN0aW9uIFNjKGEsYil7YS5oPSExO2EuZyYmKGEuaj0hMCxhLmcuYWJvcnQoKSxhLmo9ITEpO2EubD1iO2EubT01O1VjKGEpO1ZjKGEpfWZ1bmN0aW9uIFVjKGEpe2EuQXx8KGEuQT0hMCxGKGEsXCJjb21wbGV0ZVwiKSxGKGEsXCJlcnJvclwiKSl9aC5hYm9ydD1mdW5jdGlvbihhKXt0aGlzLmcmJnRoaXMuaCYmKHRoaXMuaD0hMSx0aGlzLmo9ITAsdGhpcy5nLmFib3J0KCksdGhpcy5qPSExLHRoaXMubT1hfHw3LEYodGhpcyxcImNvbXBsZXRlXCIpLEYodGhpcyxcImFib3J0XCIpLFZjKHRoaXMpKX07aC5OPWZ1bmN0aW9uKCl7dGhpcy5nJiYodGhpcy5oJiYodGhpcy5oPSExLHRoaXMuaj0hMCx0aGlzLmcuYWJvcnQoKSx0aGlzLmo9ITEpLFZjKHRoaXMsITApKTtYLmFhLk4uY2FsbCh0aGlzKX07XG5oLkVhPWZ1bmN0aW9uKCl7dGhpcy5zfHwodGhpcy5CfHx0aGlzLnV8fHRoaXMuaj9XYyh0aGlzKTp0aGlzLmJiKCkpfTtoLmJiPWZ1bmN0aW9uKCl7V2ModGhpcyl9O1xuZnVuY3Rpb24gV2MoYSl7aWYoYS5oJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgZmEmJighYS52WzFdfHw0IT1QKGEpfHwyIT1hLlooKSkpaWYoYS51JiY0PT1QKGEpKWJiKGEuRWEsMCxhKTtlbHNlIGlmKEYoYSxcInJlYWR5c3RhdGVjaGFuZ2VcIiksND09UChhKSl7YS5oPSExO3RyeXtjb25zdCBnPWEuWigpO2E6c3dpdGNoKGcpe2Nhc2UgMjAwOmNhc2UgMjAxOmNhc2UgMjAyOmNhc2UgMjA0OmNhc2UgMjA2OmNhc2UgMzA0OmNhc2UgMTIyMzp2YXIgYj0hMDticmVhayBhO2RlZmF1bHQ6Yj0hMX12YXIgYztpZighKGM9Yikpe3ZhciBkO2lmKGQ9MD09PWcpe3ZhciBlPVN0cmluZyhhLkQpLm1hdGNoKG9jKVsxXXx8bnVsbDshZSYmay5zZWxmJiZrLnNlbGYubG9jYXRpb24mJihlPWsuc2VsZi5sb2NhdGlvbi5wcm90b2NvbC5zbGljZSgwLC0xKSk7ZD0hUWMudGVzdChlP2UudG9Mb3dlckNhc2UoKTpcIlwiKX1jPWR9aWYoYylGKGEsXCJjb21wbGV0ZVwiKSxGKGEsXCJzdWNjZXNzXCIpO2Vsc2V7YS5tPVxuNjt0cnl7dmFyIGY9MjxQKGEpP2EuZy5zdGF0dXNUZXh0OlwiXCJ9Y2F0Y2gobSl7Zj1cIlwifWEubD1mK1wiIFtcIithLlooKStcIl1cIjtVYyhhKX19ZmluYWxseXtWYyhhKX19fWZ1bmN0aW9uIFZjKGEsYil7aWYoYS5nKXtUYyhhKTtjb25zdCBjPWEuZyxkPWEudlswXT8oKT0+e306bnVsbDthLmc9bnVsbDthLnY9bnVsbDtifHxGKGEsXCJyZWFkeVwiKTt0cnl7Yy5vbnJlYWR5c3RhdGVjaGFuZ2U9ZH1jYXRjaChlKXt9fX1mdW5jdGlvbiBUYyhhKXthLkkmJihrLmNsZWFyVGltZW91dChhLkkpLGEuST1udWxsKX1oLmlzQWN0aXZlPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmd9O2Z1bmN0aW9uIFAoYSl7cmV0dXJuIGEuZz9hLmcucmVhZHlTdGF0ZTowfWguWj1mdW5jdGlvbigpe3RyeXtyZXR1cm4gMjxQKHRoaXMpP3RoaXMuZy5zdGF0dXM6LTF9Y2F0Y2goYSl7cmV0dXJuLTF9fTtoLm9hPWZ1bmN0aW9uKCl7dHJ5e3JldHVybiB0aGlzLmc/dGhpcy5nLnJlc3BvbnNlVGV4dDpcIlwifWNhdGNoKGEpe3JldHVyblwiXCJ9fTtcbmguT2E9ZnVuY3Rpb24oYSl7aWYodGhpcy5nKXt2YXIgYj10aGlzLmcucmVzcG9uc2VUZXh0O2EmJjA9PWIuaW5kZXhPZihhKSYmKGI9Yi5zdWJzdHJpbmcoYS5sZW5ndGgpKTtyZXR1cm4gaWIoYil9fTtmdW5jdGlvbiBOYihhKXt0cnl7aWYoIWEuZylyZXR1cm4gbnVsbDtpZihcInJlc3BvbnNlXCJpbiBhLmcpcmV0dXJuIGEuZy5yZXNwb25zZTtzd2l0Y2goYS5IKXtjYXNlIFwiXCI6Y2FzZSBcInRleHRcIjpyZXR1cm4gYS5nLnJlc3BvbnNlVGV4dDtjYXNlIFwiYXJyYXlidWZmZXJcIjppZihcIm1velJlc3BvbnNlQXJyYXlCdWZmZXJcImluIGEuZylyZXR1cm4gYS5nLm1velJlc3BvbnNlQXJyYXlCdWZmZXJ9cmV0dXJuIG51bGx9Y2F0Y2goYil7cmV0dXJuIG51bGx9fVxuZnVuY3Rpb24gVmIoYSl7Y29uc3QgYj17fTthPShhLmcmJjI8PVAoYSk/YS5nLmdldEFsbFJlc3BvbnNlSGVhZGVycygpfHxcIlwiOlwiXCIpLnNwbGl0KFwiXFxyXFxuXCIpO2ZvcihsZXQgZD0wO2Q8YS5sZW5ndGg7ZCsrKXtpZih0KGFbZF0pKWNvbnRpbnVlO3ZhciBjPXZhKGFbZF0pO2NvbnN0IGU9Y1swXTtjPWNbMV07aWYoXCJzdHJpbmdcIiE9PXR5cGVvZiBjKWNvbnRpbnVlO2M9Yy50cmltKCk7Y29uc3QgZj1iW2VdfHxbXTtiW2VdPWY7Zi5wdXNoKGMpfXJhKGIsZnVuY3Rpb24oZCl7cmV0dXJuIGQuam9pbihcIiwgXCIpfSl9aC5CYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O2guS2E9ZnVuY3Rpb24oKXtyZXR1cm5cInN0cmluZ1wiPT09dHlwZW9mIHRoaXMubD90aGlzLmw6U3RyaW5nKHRoaXMubCl9O2Z1bmN0aW9uIFhjKGEsYixjKXtyZXR1cm4gYyYmYy5pbnRlcm5hbENoYW5uZWxQYXJhbXM/Yy5pbnRlcm5hbENoYW5uZWxQYXJhbXNbYV18fGI6Yn1cbmZ1bmN0aW9uIFljKGEpe3RoaXMuQWE9MDt0aGlzLmk9W107dGhpcy5qPW5ldyB2Yjt0aGlzLmlhPXRoaXMucWE9dGhpcy5JPXRoaXMuVz10aGlzLmc9dGhpcy55YT10aGlzLkQ9dGhpcy5IPXRoaXMubT10aGlzLlM9dGhpcy5vPW51bGw7dGhpcy5ZYT10aGlzLlU9MDt0aGlzLlZhPVhjKFwiZmFpbEZhc3RcIiwhMSxhKTt0aGlzLkY9dGhpcy5DPXRoaXMudT10aGlzLnM9dGhpcy5sPW51bGw7dGhpcy5YPSEwO3RoaXMuemE9dGhpcy5UPS0xO3RoaXMuWT10aGlzLnY9dGhpcy5CPTA7dGhpcy5UYT1YYyhcImJhc2VSZXRyeURlbGF5TXNcIiw1RTMsYSk7dGhpcy5jYj1YYyhcInJldHJ5RGVsYXlTZWVkTXNcIiwxRTQsYSk7dGhpcy5XYT1YYyhcImZvcndhcmRDaGFubmVsTWF4UmV0cmllc1wiLDIsYSk7dGhpcy53YT1YYyhcImZvcndhcmRDaGFubmVsUmVxdWVzdFRpbWVvdXRNc1wiLDJFNCxhKTt0aGlzLnBhPWEmJmEueG1sSHR0cEZhY3Rvcnl8fHZvaWQgMDt0aGlzLlhhPWEmJmEuVGJ8fHZvaWQgMDt0aGlzLkNhPVxuYSYmYS51c2VGZXRjaFN0cmVhbXN8fCExO3RoaXMuTD12b2lkIDA7dGhpcy5KPWEmJmEuc3VwcG9ydHNDcm9zc0RvbWFpblhocnx8ITE7dGhpcy5LPVwiXCI7dGhpcy5oPW5ldyBpYyhhJiZhLmNvbmN1cnJlbnRSZXF1ZXN0TGltaXQpO3RoaXMuRGE9bmV3IEhjO3RoaXMuUD1hJiZhLmZhc3RIYW5kc2hha2V8fCExO3RoaXMuTz1hJiZhLmVuY29kZUluaXRNZXNzYWdlSGVhZGVyc3x8ITE7dGhpcy5QJiZ0aGlzLk8mJih0aGlzLk89ITEpO3RoaXMuVWE9YSYmYS5SYnx8ITE7YSYmYS54YSYmdGhpcy5qLnhhKCk7YSYmYS5mb3JjZUxvbmdQb2xsaW5nJiYodGhpcy5YPSExKTt0aGlzLmJhPSF0aGlzLlAmJnRoaXMuWCYmYSYmYS5kZXRlY3RCdWZmZXJpbmdQcm94eXx8ITE7dGhpcy5qYT12b2lkIDA7YSYmYS5sb25nUG9sbGluZ1RpbWVvdXQmJjA8YS5sb25nUG9sbGluZ1RpbWVvdXQmJih0aGlzLmphPWEubG9uZ1BvbGxpbmdUaW1lb3V0KTt0aGlzLmNhPXZvaWQgMDt0aGlzLlI9MDt0aGlzLk09XG4hMTt0aGlzLmthPXRoaXMuQT1udWxsfWg9WWMucHJvdG90eXBlO2gubGE9ODtoLkc9MTtoLmNvbm5lY3Q9ZnVuY3Rpb24oYSxiLGMsZCl7SygwKTt0aGlzLlc9YTt0aGlzLkg9Ynx8e307YyYmdm9pZCAwIT09ZCYmKHRoaXMuSC5PU0lEPWMsdGhpcy5ILk9BSUQ9ZCk7dGhpcy5GPXRoaXMuWDt0aGlzLkk9Y2ModGhpcyxudWxsLHRoaXMuVyk7ZmModGhpcyl9O1xuZnVuY3Rpb24gZ2MoYSl7WmMoYSk7aWYoMz09YS5HKXt2YXIgYj1hLlUrKyxjPU4oYS5JKTtTKGMsXCJTSURcIixhLkspO1MoYyxcIlJJRFwiLGIpO1MoYyxcIlRZUEVcIixcInRlcm1pbmF0ZVwiKTskYyhhLGMpO2I9bmV3IE0oYSxhLmosYik7Yi5MPTI7Yi52PUliKE4oYykpO2M9ITE7aWYoay5uYXZpZ2F0b3ImJmsubmF2aWdhdG9yLnNlbmRCZWFjb24pdHJ5e2M9ay5uYXZpZ2F0b3Iuc2VuZEJlYWNvbihiLnYudG9TdHJpbmcoKSxcIlwiKX1jYXRjaChkKXt9IWMmJmsuSW1hZ2UmJigobmV3IEltYWdlKS5zcmM9Yi52LGM9ITApO2N8fChiLmc9TWIoYi5qLG51bGwpLGIuZy5lYShiLnYpKTtiLkY9RGF0ZS5ub3coKTtLYihiKX1hZChhKX1mdW5jdGlvbiBaYihhKXthLmcmJihUYihhKSxhLmcuY2FuY2VsKCksYS5nPW51bGwpfVxuZnVuY3Rpb24gWmMoYSl7WmIoYSk7YS51JiYoay5jbGVhclRpbWVvdXQoYS51KSxhLnU9bnVsbCk7WWIoYSk7YS5oLmNhbmNlbCgpO2EucyYmKFwibnVtYmVyXCI9PT10eXBlb2YgYS5zJiZrLmNsZWFyVGltZW91dChhLnMpLGEucz1udWxsKX1mdW5jdGlvbiBmYyhhKXtpZighamMoYS5oKSYmIWEucyl7YS5zPSEwO3ZhciBiPWEuR2E7eHx8RWEoKTt5fHwoeCgpLHk9ITApO3phLmFkZChiLGEpO2EuQj0wfX1mdW5jdGlvbiBiZChhLGIpe2lmKGFjKGEuaCk+PWEuaC5qLShhLnM/MTowKSlyZXR1cm4hMTtpZihhLnMpcmV0dXJuIGEuaT1iLkQuY29uY2F0KGEuaSksITA7aWYoMT09YS5HfHwyPT1hLkd8fGEuQj49KGEuVmE/MDphLldhKSlyZXR1cm4hMTthLnM9dWIocChhLkdhLGEsYiksY2QoYSxhLkIpKTthLkIrKztyZXR1cm4hMH1cbmguR2E9ZnVuY3Rpb24oYSl7aWYodGhpcy5zKWlmKHRoaXMucz1udWxsLDE9PXRoaXMuRyl7aWYoIWEpe3RoaXMuVT1NYXRoLmZsb29yKDFFNSpNYXRoLnJhbmRvbSgpKTthPXRoaXMuVSsrO2NvbnN0IGU9bmV3IE0odGhpcyx0aGlzLmosYSk7bGV0IGY9dGhpcy5vO3RoaXMuUyYmKGY/KGY9c2EoZiksdWEoZix0aGlzLlMpKTpmPXRoaXMuUyk7bnVsbCE9PXRoaXMubXx8dGhpcy5PfHwoZS5IPWYsZj1udWxsKTtpZih0aGlzLlApYTp7dmFyIGI9MDtmb3IodmFyIGM9MDtjPHRoaXMuaS5sZW5ndGg7YysrKXtiOnt2YXIgZD10aGlzLmlbY107aWYoXCJfX2RhdGFfX1wiaW4gZC5tYXAmJihkPWQubWFwLl9fZGF0YV9fLFwic3RyaW5nXCI9PT10eXBlb2YgZCkpe2Q9ZC5sZW5ndGg7YnJlYWsgYn1kPXZvaWQgMH1pZih2b2lkIDA9PT1kKWJyZWFrO2IrPWQ7aWYoNDA5NjxiKXtiPWM7YnJlYWsgYX1pZig0MDk2PT09Ynx8Yz09PXRoaXMuaS5sZW5ndGgtMSl7Yj1jKzE7YnJlYWsgYX19Yj0xRTN9ZWxzZSBiPVxuMUUzO2I9ZGQodGhpcyxlLGIpO2M9Tih0aGlzLkkpO1MoYyxcIlJJRFwiLGEpO1MoYyxcIkNWRVJcIiwyMik7dGhpcy5EJiZTKGMsXCJYLUhUVFAtU2Vzc2lvbi1JZFwiLHRoaXMuRCk7JGModGhpcyxjKTtmJiYodGhpcy5PP2I9XCJoZWFkZXJzPVwiK2VuY29kZVVSSUNvbXBvbmVudChTdHJpbmcoT2MoZikpKStcIiZcIitiOnRoaXMubSYmUGMoYyx0aGlzLm0sZikpO2JjKHRoaXMuaCxlKTt0aGlzLlVhJiZTKGMsXCJUWVBFXCIsXCJpbml0XCIpO3RoaXMuUD8oUyhjLFwiJHJlcVwiLGIpLFMoYyxcIlNJRFwiLFwibnVsbFwiKSxlLlQ9ITAsSGIoZSxjLG51bGwpKTpIYihlLGMsYik7dGhpcy5HPTJ9fWVsc2UgMz09dGhpcy5HJiYoYT9lZCh0aGlzLGEpOjA9PXRoaXMuaS5sZW5ndGh8fGpjKHRoaXMuaCl8fGVkKHRoaXMpKX07XG5mdW5jdGlvbiBlZChhLGIpe3ZhciBjO2I/Yz1iLmw6Yz1hLlUrKztjb25zdCBkPU4oYS5JKTtTKGQsXCJTSURcIixhLkspO1MoZCxcIlJJRFwiLGMpO1MoZCxcIkFJRFwiLGEuVCk7JGMoYSxkKTthLm0mJmEubyYmUGMoZCxhLm0sYS5vKTtjPW5ldyBNKGEsYS5qLGMsYS5CKzEpO251bGw9PT1hLm0mJihjLkg9YS5vKTtiJiYoYS5pPWIuRC5jb25jYXQoYS5pKSk7Yj1kZChhLGMsMUUzKTtjLkk9TWF0aC5yb3VuZCguNSphLndhKStNYXRoLnJvdW5kKC41KmEud2EqTWF0aC5yYW5kb20oKSk7YmMoYS5oLGMpO0hiKGMsZCxiKX1mdW5jdGlvbiAkYyhhLGIpe2EuSCYmcWEoYS5ILGZ1bmN0aW9uKGMsZCl7UyhiLGQsYyl9KTthLmwmJm5jKHt9LGZ1bmN0aW9uKGMsZCl7UyhiLGQsYyl9KX1cbmZ1bmN0aW9uIGRkKGEsYixjKXtjPU1hdGgubWluKGEuaS5sZW5ndGgsYyk7dmFyIGQ9YS5sP3AoYS5sLk5hLGEubCxhKTpudWxsO2E6e3ZhciBlPWEuaTtsZXQgZj0tMTtmb3IoOzspe2NvbnN0IGc9W1wiY291bnQ9XCIrY107LTE9PWY/MDxjPyhmPWVbMF0uZyxnLnB1c2goXCJvZnM9XCIrZikpOmY9MDpnLnB1c2goXCJvZnM9XCIrZik7bGV0IG09ITA7Zm9yKGxldCBxPTA7cTxjO3ErKyl7bGV0IGw9ZVtxXS5nO2NvbnN0IHY9ZVtxXS5tYXA7bC09ZjtpZigwPmwpZj1NYXRoLm1heCgwLGVbcV0uZy0xMDApLG09ITE7ZWxzZSB0cnl7SWModixnLFwicmVxXCIrbCtcIl9cIil9Y2F0Y2godyl7ZCYmZCh2KX19aWYobSl7ZD1nLmpvaW4oXCImXCIpO2JyZWFrIGF9fX1hPWEuaS5zcGxpY2UoMCxjKTtiLkQ9YTtyZXR1cm4gZH1mdW5jdGlvbiBlYyhhKXtpZighYS5nJiYhYS51KXthLlk9MTt2YXIgYj1hLkZhO3h8fEVhKCk7eXx8KHgoKSx5PSEwKTt6YS5hZGQoYixhKTthLnY9MH19XG5mdW5jdGlvbiAkYihhKXtpZihhLmd8fGEudXx8Mzw9YS52KXJldHVybiExO2EuWSsrO2EudT11YihwKGEuRmEsYSksY2QoYSxhLnYpKTthLnYrKztyZXR1cm4hMH1oLkZhPWZ1bmN0aW9uKCl7dGhpcy51PW51bGw7ZmQodGhpcyk7aWYodGhpcy5iYSYmISh0aGlzLk18fG51bGw9PXRoaXMuZ3x8MD49dGhpcy5SKSl7dmFyIGE9Mip0aGlzLlI7dGhpcy5qLmluZm8oXCJCUCBkZXRlY3Rpb24gdGltZXIgZW5hYmxlZDogXCIrYSk7dGhpcy5BPXViKHAodGhpcy5hYix0aGlzKSxhKX19O2guYWI9ZnVuY3Rpb24oKXt0aGlzLkEmJih0aGlzLkE9bnVsbCx0aGlzLmouaW5mbyhcIkJQIGRldGVjdGlvbiB0aW1lb3V0IHJlYWNoZWQuXCIpLHRoaXMuai5pbmZvKFwiQnVmZmVyaW5nIHByb3h5IGRldGVjdGVkIGFuZCBzd2l0Y2ggdG8gbG9uZy1wb2xsaW5nIVwiKSx0aGlzLkY9ITEsdGhpcy5NPSEwLEsoMTApLFpiKHRoaXMpLGZkKHRoaXMpKX07XG5mdW5jdGlvbiBUYihhKXtudWxsIT1hLkEmJihrLmNsZWFyVGltZW91dChhLkEpLGEuQT1udWxsKX1mdW5jdGlvbiBmZChhKXthLmc9bmV3IE0oYSxhLmosXCJycGNcIixhLlkpO251bGw9PT1hLm0mJihhLmcuSD1hLm8pO2EuZy5PPTA7dmFyIGI9TihhLnFhKTtTKGIsXCJSSURcIixcInJwY1wiKTtTKGIsXCJTSURcIixhLkspO1MoYixcIkFJRFwiLGEuVCk7UyhiLFwiQ0lcIixhLkY/XCIwXCI6XCIxXCIpOyFhLkYmJmEuamEmJlMoYixcIlRPXCIsYS5qYSk7UyhiLFwiVFlQRVwiLFwieG1saHR0cFwiKTskYyhhLGIpO2EubSYmYS5vJiZQYyhiLGEubSxhLm8pO2EuTCYmKGEuZy5JPWEuTCk7dmFyIGM9YS5nO2E9YS5pYTtjLkw9MTtjLnY9SWIoTihiKSk7Yy5tPW51bGw7Yy5QPSEwO0piKGMsYSl9aC5aYT1mdW5jdGlvbigpe251bGwhPXRoaXMuQyYmKHRoaXMuQz1udWxsLFpiKHRoaXMpLCRiKHRoaXMpLEsoMTkpKX07ZnVuY3Rpb24gWWIoYSl7bnVsbCE9YS5DJiYoay5jbGVhclRpbWVvdXQoYS5DKSxhLkM9bnVsbCl9XG5mdW5jdGlvbiBVYihhLGIpe3ZhciBjPW51bGw7aWYoYS5nPT1iKXtZYihhKTtUYihhKTthLmc9bnVsbDt2YXIgZD0yfWVsc2UgaWYoWGIoYS5oLGIpKWM9Yi5ELGRjKGEuaCxiKSxkPTE7ZWxzZSByZXR1cm47aWYoMCE9YS5HKWlmKGIubylpZigxPT1kKXtjPWIubT9iLm0ubGVuZ3RoOjA7Yj1EYXRlLm5vdygpLWIuRjt2YXIgZT1hLkI7ZD1xYigpO0YoZCxuZXcgdGIoZCxjLGIsZSkpO2ZjKGEpfWVsc2UgZWMoYSk7ZWxzZSBpZihlPWIucywzPT1lfHwwPT1lJiYwPGIuWHx8ISgxPT1kJiZiZChhLGIpfHwyPT1kJiYkYihhKSkpc3dpdGNoKGMmJjA8Yy5sZW5ndGgmJihiPWEuaCxiLmk9Yi5pLmNvbmNhdChjKSksZSl7Y2FzZSAxOlIoYSw1KTticmVhaztjYXNlIDQ6UihhLDEwKTticmVhaztjYXNlIDM6UihhLDYpO2JyZWFrO2RlZmF1bHQ6UihhLDIpfX1cbmZ1bmN0aW9uIGNkKGEsYil7bGV0IGM9YS5UYStNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqYS5jYik7YS5pc0FjdGl2ZSgpfHwoYyo9Mik7cmV0dXJuIGMqYn1mdW5jdGlvbiBSKGEsYil7YS5qLmluZm8oXCJFcnJvciBjb2RlIFwiK2IpO2lmKDI9PWIpe3ZhciBjPXAoYS5mYixhKSxkPWEuWGE7Y29uc3QgZT0hZDtkPW5ldyBUKGR8fFwiLy93d3cuZ29vZ2xlLmNvbS9pbWFnZXMvY2xlYXJkb3QuZ2lmXCIpO2subG9jYXRpb24mJlwiaHR0cFwiPT1rLmxvY2F0aW9uLnByb3RvY29sfHxxYyhkLFwiaHR0cHNcIik7SWIoZCk7ZT9GYyhkLnRvU3RyaW5nKCksYyk6R2MoZC50b1N0cmluZygpLGMpfWVsc2UgSygyKTthLkc9MDthLmwmJmEubC5zYShiKTthZChhKTtaYyhhKX1oLmZiPWZ1bmN0aW9uKGEpe2E/KHRoaXMuai5pbmZvKFwiU3VjY2Vzc2Z1bGx5IHBpbmdlZCBnb29nbGUuY29tXCIpLEsoMikpOih0aGlzLmouaW5mbyhcIkZhaWxlZCB0byBwaW5nIGdvb2dsZS5jb21cIiksSygxKSl9O1xuZnVuY3Rpb24gYWQoYSl7YS5HPTA7YS5rYT1bXTtpZihhLmwpe2NvbnN0IGI9a2MoYS5oKTtpZigwIT1iLmxlbmd0aHx8MCE9YS5pLmxlbmd0aCltYShhLmthLGIpLG1hKGEua2EsYS5pKSxhLmguaS5sZW5ndGg9MCxsYShhLmkpLGEuaS5sZW5ndGg9MDthLmwucmEoKX19ZnVuY3Rpb24gY2MoYSxiLGMpe3ZhciBkPWMgaW5zdGFuY2VvZiBUP04oYyk6bmV3IFQoYyk7aWYoXCJcIiE9ZC5nKWImJihkLmc9YitcIi5cIitkLmcpLHJjKGQsZC5zKTtlbHNle3ZhciBlPWsubG9jYXRpb247ZD1lLnByb3RvY29sO2I9Yj9iK1wiLlwiK2UuaG9zdG5hbWU6ZS5ob3N0bmFtZTtlPStlLnBvcnQ7dmFyIGY9bmV3IFQobnVsbCk7ZCYmcWMoZixkKTtiJiYoZi5nPWIpO2UmJnJjKGYsZSk7YyYmKGYubD1jKTtkPWZ9Yz1hLkQ7Yj1hLnlhO2MmJmImJlMoZCxjLGIpO1MoZCxcIlZFUlwiLGEubGEpOyRjKGEsZCk7cmV0dXJuIGR9XG5mdW5jdGlvbiBNYihhLGIsYyl7aWYoYiYmIWEuSil0aHJvdyBFcnJvcihcIkNhbid0IGNyZWF0ZSBzZWNvbmRhcnkgZG9tYWluIGNhcGFibGUgWGhySW8gb2JqZWN0LlwiKTtiPWEuQ2EmJiFhLnBhP25ldyBYKG5ldyBKYyh7ZWI6Y30pKTpuZXcgWChhLnBhKTtiLkhhKGEuSik7cmV0dXJuIGJ9aC5pc0FjdGl2ZT1mdW5jdGlvbigpe3JldHVybiEhdGhpcy5sJiZ0aGlzLmwuaXNBY3RpdmUodGhpcyl9O2Z1bmN0aW9uIGdkKCl7fWg9Z2QucHJvdG90eXBlO2gudWE9ZnVuY3Rpb24oKXt9O2gudGE9ZnVuY3Rpb24oKXt9O2guc2E9ZnVuY3Rpb24oKXt9O2gucmE9ZnVuY3Rpb24oKXt9O2guaXNBY3RpdmU9ZnVuY3Rpb24oKXtyZXR1cm4hMH07aC5OYT1mdW5jdGlvbigpe307ZnVuY3Rpb24gaGQoKXt9aGQucHJvdG90eXBlLmc9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gbmV3IFkoYSxiKX07XG5mdW5jdGlvbiBZKGEsYil7RS5jYWxsKHRoaXMpO3RoaXMuZz1uZXcgWWMoYik7dGhpcy5sPWE7dGhpcy5oPWImJmIubWVzc2FnZVVybFBhcmFtc3x8bnVsbDthPWImJmIubWVzc2FnZUhlYWRlcnN8fG51bGw7YiYmYi5jbGllbnRQcm90b2NvbEhlYWRlclJlcXVpcmVkJiYoYT9hW1wiWC1DbGllbnQtUHJvdG9jb2xcIl09XCJ3ZWJjaGFubmVsXCI6YT17XCJYLUNsaWVudC1Qcm90b2NvbFwiOlwid2ViY2hhbm5lbFwifSk7dGhpcy5nLm89YTthPWImJmIuaW5pdE1lc3NhZ2VIZWFkZXJzfHxudWxsO2ImJmIubWVzc2FnZUNvbnRlbnRUeXBlJiYoYT9hW1wiWC1XZWJDaGFubmVsLUNvbnRlbnQtVHlwZVwiXT1iLm1lc3NhZ2VDb250ZW50VHlwZTphPXtcIlgtV2ViQ2hhbm5lbC1Db250ZW50LVR5cGVcIjpiLm1lc3NhZ2VDb250ZW50VHlwZX0pO2ImJmIudmEmJihhP2FbXCJYLVdlYkNoYW5uZWwtQ2xpZW50LVByb2ZpbGVcIl09Yi52YTphPXtcIlgtV2ViQ2hhbm5lbC1DbGllbnQtUHJvZmlsZVwiOmIudmF9KTt0aGlzLmcuUz1cbmE7KGE9YiYmYi5TYikmJiF0KGEpJiYodGhpcy5nLm09YSk7dGhpcy52PWImJmIuc3VwcG9ydHNDcm9zc0RvbWFpblhocnx8ITE7dGhpcy51PWImJmIuc2VuZFJhd0pzb258fCExOyhiPWImJmIuaHR0cFNlc3Npb25JZFBhcmFtKSYmIXQoYikmJih0aGlzLmcuRD1iLGE9dGhpcy5oLG51bGwhPT1hJiZiIGluIGEmJihhPXRoaXMuaCxiIGluIGEmJmRlbGV0ZSBhW2JdKSk7dGhpcy5qPW5ldyBaKHRoaXMpfXIoWSxFKTtZLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7dGhpcy5nLmw9dGhpcy5qO3RoaXMudiYmKHRoaXMuZy5KPSEwKTt0aGlzLmcuY29ubmVjdCh0aGlzLmwsdGhpcy5ofHx2b2lkIDApfTtZLnByb3RvdHlwZS5jbG9zZT1mdW5jdGlvbigpe2djKHRoaXMuZyl9O1xuWS5wcm90b3R5cGUubz1mdW5jdGlvbihhKXt2YXIgYj10aGlzLmc7aWYoXCJzdHJpbmdcIj09PXR5cGVvZiBhKXt2YXIgYz17fTtjLl9fZGF0YV9fPWE7YT1jfWVsc2UgdGhpcy51JiYoYz17fSxjLl9fZGF0YV9fPWhiKGEpLGE9Yyk7Yi5pLnB1c2gobmV3IGhjKGIuWWErKyxhKSk7Mz09Yi5HJiZmYyhiKX07WS5wcm90b3R5cGUuTj1mdW5jdGlvbigpe3RoaXMuZy5sPW51bGw7ZGVsZXRlIHRoaXMuajtnYyh0aGlzLmcpO2RlbGV0ZSB0aGlzLmc7WS5hYS5OLmNhbGwodGhpcyl9O1xuZnVuY3Rpb24gaWQoYSl7bmIuY2FsbCh0aGlzKTthLl9faGVhZGVyc19fJiYodGhpcy5oZWFkZXJzPWEuX19oZWFkZXJzX18sdGhpcy5zdGF0dXNDb2RlPWEuX19zdGF0dXNfXyxkZWxldGUgYS5fX2hlYWRlcnNfXyxkZWxldGUgYS5fX3N0YXR1c19fKTt2YXIgYj1hLl9fc21fXztpZihiKXthOntmb3IoY29uc3QgYyBpbiBiKXthPWM7YnJlYWsgYX1hPXZvaWQgMH1pZih0aGlzLmk9YSlhPXRoaXMuaSxiPW51bGwhPT1iJiZhIGluIGI/YlthXTp2b2lkIDA7dGhpcy5kYXRhPWJ9ZWxzZSB0aGlzLmRhdGE9YX1yKGlkLG5iKTtmdW5jdGlvbiBqZCgpe29iLmNhbGwodGhpcyk7dGhpcy5zdGF0dXM9MX1yKGpkLG9iKTtmdW5jdGlvbiBaKGEpe3RoaXMuZz1hfXIoWixnZCk7Wi5wcm90b3R5cGUudWE9ZnVuY3Rpb24oKXtGKHRoaXMuZyxcImFcIil9O1oucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe0YodGhpcy5nLG5ldyBpZChhKSl9O1xuWi5wcm90b3R5cGUuc2E9ZnVuY3Rpb24oYSl7Rih0aGlzLmcsbmV3IGpkKGEpKX07Wi5wcm90b3R5cGUucmE9ZnVuY3Rpb24oKXtGKHRoaXMuZyxcImJcIil9O2hkLnByb3RvdHlwZS5jcmVhdGVXZWJDaGFubmVsPWhkLnByb3RvdHlwZS5nO1kucHJvdG90eXBlLnNlbmQ9WS5wcm90b3R5cGUubztZLnByb3RvdHlwZS5vcGVuPVkucHJvdG90eXBlLm07WS5wcm90b3R5cGUuY2xvc2U9WS5wcm90b3R5cGUuY2xvc2U7bW9kdWxlLmV4cG9ydHMuY3JlYXRlV2ViQ2hhbm5lbFRyYW5zcG9ydD1mdW5jdGlvbigpe3JldHVybiBuZXcgaGR9O21vZHVsZS5leHBvcnRzLmdldFN0YXRFdmVudFRhcmdldD1mdW5jdGlvbigpe3JldHVybiBxYigpfTttb2R1bGUuZXhwb3J0cy5FdmVudD1JO21vZHVsZS5leHBvcnRzLlN0YXQ9e21iOjAscGI6MSxxYjoyLEpiOjMsT2I6NCxMYjo1LE1iOjYsS2I6NyxJYjo4LE5iOjksUFJPWFk6MTAsTk9QUk9YWToxMSxHYjoxMixDYjoxMyxEYjoxNCxCYjoxNSxFYjoxNixGYjoxNyxpYjoxOCxoYjoxOSxqYjoyMH07QWIuTk9fRVJST1I9MDtBYi5USU1FT1VUPTg7QWIuSFRUUF9FUlJPUj02O1xubW9kdWxlLmV4cG9ydHMuRXJyb3JDb2RlPUFiO0JiLkNPTVBMRVRFPVwiY29tcGxldGVcIjttb2R1bGUuZXhwb3J0cy5FdmVudFR5cGU9QmI7bWIuRXZlbnRUeXBlPUg7SC5PUEVOPVwiYVwiO0guQ0xPU0U9XCJiXCI7SC5FUlJPUj1cImNcIjtILk1FU1NBR0U9XCJkXCI7RS5wcm90b3R5cGUubGlzdGVuPUUucHJvdG90eXBlLks7bW9kdWxlLmV4cG9ydHMuV2ViQ2hhbm5lbD1tYjttb2R1bGUuZXhwb3J0cy5GZXRjaFhtbEh0dHBGYWN0b3J5PUpjO1gucHJvdG90eXBlLmxpc3Rlbk9uY2U9WC5wcm90b3R5cGUuTDtYLnByb3RvdHlwZS5nZXRMYXN0RXJyb3I9WC5wcm90b3R5cGUuS2E7WC5wcm90b3R5cGUuZ2V0TGFzdEVycm9yQ29kZT1YLnByb3RvdHlwZS5CYTtYLnByb3RvdHlwZS5nZXRTdGF0dXM9WC5wcm90b3R5cGUuWjtYLnByb3RvdHlwZS5nZXRSZXNwb25zZUpzb249WC5wcm90b3R5cGUuT2E7WC5wcm90b3R5cGUuZ2V0UmVzcG9uc2VUZXh0PVgucHJvdG90eXBlLm9hO1xuWC5wcm90b3R5cGUuc2VuZD1YLnByb3RvdHlwZS5lYTtYLnByb3RvdHlwZS5zZXRXaXRoQ3JlZGVudGlhbHM9WC5wcm90b3R5cGUuSGE7bW9kdWxlLmV4cG9ydHMuWGhySW89WDt9KS5hcHBseSggdHlwZW9mIGdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcgPyBzZWxmICA6IHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnID8gd2luZG93ICA6IHt9KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcblxudmFyIGFwcCA9IHJlcXVpcmUoJ0BmaXJlYmFzZS9hcHAnKTtcblxudmFyIG5hbWUgPSBcImZpcmViYXNlXCI7XG52YXIgdmVyc2lvbiA9IFwiMTAuMTIuM1wiO1xuXG4vKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjAgR29vZ2xlIExMQ1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5hcHAucmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sICdhcHAnKTtcblxuT2JqZWN0LmtleXMoYXBwKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG4gIGlmIChrICE9PSAnZGVmYXVsdCcgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkoaykpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrLCB7XG4gICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFwcFtrXTsgfVxuICB9KTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgZmlyZXN0b3JlID0gcmVxdWlyZSgnQGZpcmViYXNlL2ZpcmVzdG9yZScpO1xuXG5cblxuT2JqZWN0LmtleXMoZmlyZXN0b3JlKS5mb3JFYWNoKGZ1bmN0aW9uIChrKSB7XG5cdGlmIChrICE9PSAnZGVmYXVsdCcgJiYgIWV4cG9ydHMuaGFzT3duUHJvcGVydHkoaykpIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrLCB7XG5cdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGZpcmVzdG9yZVtrXTsgfVxuXHR9KTtcbn0pO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguY2pzLmpzLm1hcFxuIiwiY29uc3QgaW5zdGFuY2VPZkFueSA9IChvYmplY3QsIGNvbnN0cnVjdG9ycykgPT4gY29uc3RydWN0b3JzLnNvbWUoKGMpID0+IG9iamVjdCBpbnN0YW5jZW9mIGMpO1xuXG5sZXQgaWRiUHJveHlhYmxlVHlwZXM7XG5sZXQgY3Vyc29yQWR2YW5jZU1ldGhvZHM7XG4vLyBUaGlzIGlzIGEgZnVuY3Rpb24gdG8gcHJldmVudCBpdCB0aHJvd2luZyB1cCBpbiBub2RlIGVudmlyb25tZW50cy5cbmZ1bmN0aW9uIGdldElkYlByb3h5YWJsZVR5cGVzKCkge1xuICAgIHJldHVybiAoaWRiUHJveHlhYmxlVHlwZXMgfHxcbiAgICAgICAgKGlkYlByb3h5YWJsZVR5cGVzID0gW1xuICAgICAgICAgICAgSURCRGF0YWJhc2UsXG4gICAgICAgICAgICBJREJPYmplY3RTdG9yZSxcbiAgICAgICAgICAgIElEQkluZGV4LFxuICAgICAgICAgICAgSURCQ3Vyc29yLFxuICAgICAgICAgICAgSURCVHJhbnNhY3Rpb24sXG4gICAgICAgIF0pKTtcbn1cbi8vIFRoaXMgaXMgYSBmdW5jdGlvbiB0byBwcmV2ZW50IGl0IHRocm93aW5nIHVwIGluIG5vZGUgZW52aXJvbm1lbnRzLlxuZnVuY3Rpb24gZ2V0Q3Vyc29yQWR2YW5jZU1ldGhvZHMoKSB7XG4gICAgcmV0dXJuIChjdXJzb3JBZHZhbmNlTWV0aG9kcyB8fFxuICAgICAgICAoY3Vyc29yQWR2YW5jZU1ldGhvZHMgPSBbXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmFkdmFuY2UsXG4gICAgICAgICAgICBJREJDdXJzb3IucHJvdG90eXBlLmNvbnRpbnVlLFxuICAgICAgICAgICAgSURCQ3Vyc29yLnByb3RvdHlwZS5jb250aW51ZVByaW1hcnlLZXksXG4gICAgICAgIF0pKTtcbn1cbmNvbnN0IGN1cnNvclJlcXVlc3RNYXAgPSBuZXcgV2Vha01hcCgpO1xuY29uc3QgdHJhbnNhY3Rpb25Eb25lTWFwID0gbmV3IFdlYWtNYXAoKTtcbmNvbnN0IHRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCB0cmFuc2Zvcm1DYWNoZSA9IG5ldyBXZWFrTWFwKCk7XG5jb25zdCByZXZlcnNlVHJhbnNmb3JtQ2FjaGUgPSBuZXcgV2Vha01hcCgpO1xuZnVuY3Rpb24gcHJvbWlzaWZ5UmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgY29uc3QgdW5saXN0ZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3N1Y2Nlc3MnLCBzdWNjZXNzKTtcbiAgICAgICAgICAgIHJlcXVlc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHN1Y2Nlc3MgPSAoKSA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHdyYXAocmVxdWVzdC5yZXN1bHQpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHJlcXVlc3QuZXJyb3IpO1xuICAgICAgICAgICAgdW5saXN0ZW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdzdWNjZXNzJywgc3VjY2Vzcyk7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBlcnJvcik7XG4gICAgfSk7XG4gICAgcHJvbWlzZVxuICAgICAgICAudGhlbigodmFsdWUpID0+IHtcbiAgICAgICAgLy8gU2luY2UgY3Vyc29yaW5nIHJldXNlcyB0aGUgSURCUmVxdWVzdCAoKnNpZ2gqKSwgd2UgY2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbFxuICAgICAgICAvLyAoc2VlIHdyYXBGdW5jdGlvbikuXG4gICAgICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQkN1cnNvcikge1xuICAgICAgICAgICAgY3Vyc29yUmVxdWVzdE1hcC5zZXQodmFsdWUsIHJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgICAgIC8vIENhdGNoaW5nIHRvIGF2b2lkIFwiVW5jYXVnaHQgUHJvbWlzZSBleGNlcHRpb25zXCJcbiAgICB9KVxuICAgICAgICAuY2F0Y2goKCkgPT4geyB9KTtcbiAgICAvLyBUaGlzIG1hcHBpbmcgZXhpc3RzIGluIHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBidXQgZG9lc24ndCBkb2Vzbid0IGV4aXN0IGluIHRyYW5zZm9ybUNhY2hlLiBUaGlzXG4gICAgLy8gaXMgYmVjYXVzZSB3ZSBjcmVhdGUgbWFueSBwcm9taXNlcyBmcm9tIGEgc2luZ2xlIElEQlJlcXVlc3QuXG4gICAgcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLnNldChwcm9taXNlLCByZXF1ZXN0KTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbn1cbmZ1bmN0aW9uIGNhY2hlRG9uZVByb21pc2VGb3JUcmFuc2FjdGlvbih0eCkge1xuICAgIC8vIEVhcmx5IGJhaWwgaWYgd2UndmUgYWxyZWFkeSBjcmVhdGVkIGEgZG9uZSBwcm9taXNlIGZvciB0aGlzIHRyYW5zYWN0aW9uLlxuICAgIGlmICh0cmFuc2FjdGlvbkRvbmVNYXAuaGFzKHR4KSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IGRvbmUgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgIGNvbnN0IHVubGlzdGVuID0gKCkgPT4ge1xuICAgICAgICAgICAgdHgucmVtb3ZlRXZlbnRMaXN0ZW5lcignY29tcGxldGUnLCBjb21wbGV0ZSk7XG4gICAgICAgICAgICB0eC5yZW1vdmVFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgICAgIHR4LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgZXJyb3IpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBjb21wbGV0ZSA9ICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGVycm9yID0gKCkgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KHR4LmVycm9yIHx8IG5ldyBET01FeGNlcHRpb24oJ0Fib3J0RXJyb3InLCAnQWJvcnRFcnJvcicpKTtcbiAgICAgICAgICAgIHVubGlzdGVuKCk7XG4gICAgICAgIH07XG4gICAgICAgIHR4LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgY29tcGxldGUpO1xuICAgICAgICB0eC5hZGRFdmVudExpc3RlbmVyKCdlcnJvcicsIGVycm9yKTtcbiAgICAgICAgdHguYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBlcnJvcik7XG4gICAgfSk7XG4gICAgLy8gQ2FjaGUgaXQgZm9yIGxhdGVyIHJldHJpZXZhbC5cbiAgICB0cmFuc2FjdGlvbkRvbmVNYXAuc2V0KHR4LCBkb25lKTtcbn1cbmxldCBpZGJQcm94eVRyYXBzID0ge1xuICAgIGdldCh0YXJnZXQsIHByb3AsIHJlY2VpdmVyKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbikge1xuICAgICAgICAgICAgLy8gU3BlY2lhbCBoYW5kbGluZyBmb3IgdHJhbnNhY3Rpb24uZG9uZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnZG9uZScpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRyYW5zYWN0aW9uRG9uZU1hcC5nZXQodGFyZ2V0KTtcbiAgICAgICAgICAgIC8vIFBvbHlmaWxsIGZvciBvYmplY3RTdG9yZU5hbWVzIGJlY2F1c2Ugb2YgRWRnZS5cbiAgICAgICAgICAgIGlmIChwcm9wID09PSAnb2JqZWN0U3RvcmVOYW1lcycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0Lm9iamVjdFN0b3JlTmFtZXMgfHwgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLmdldCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFrZSB0eC5zdG9yZSByZXR1cm4gdGhlIG9ubHkgc3RvcmUgaW4gdGhlIHRyYW5zYWN0aW9uLCBvciB1bmRlZmluZWQgaWYgdGhlcmUgYXJlIG1hbnkuXG4gICAgICAgICAgICBpZiAocHJvcCA9PT0gJ3N0b3JlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWNlaXZlci5vYmplY3RTdG9yZU5hbWVzWzFdXG4gICAgICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgICAgIDogcmVjZWl2ZXIub2JqZWN0U3RvcmUocmVjZWl2ZXIub2JqZWN0U3RvcmVOYW1lc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRWxzZSB0cmFuc2Zvcm0gd2hhdGV2ZXIgd2UgZ2V0IGJhY2suXG4gICAgICAgIHJldHVybiB3cmFwKHRhcmdldFtwcm9wXSk7XG4gICAgfSxcbiAgICBzZXQodGFyZ2V0LCBwcm9wLCB2YWx1ZSkge1xuICAgICAgICB0YXJnZXRbcHJvcF0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBoYXModGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBJREJUcmFuc2FjdGlvbiAmJlxuICAgICAgICAgICAgKHByb3AgPT09ICdkb25lJyB8fCBwcm9wID09PSAnc3RvcmUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3AgaW4gdGFyZ2V0O1xuICAgIH0sXG59O1xuZnVuY3Rpb24gcmVwbGFjZVRyYXBzKGNhbGxiYWNrKSB7XG4gICAgaWRiUHJveHlUcmFwcyA9IGNhbGxiYWNrKGlkYlByb3h5VHJhcHMpO1xufVxuZnVuY3Rpb24gd3JhcEZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAvLyBEdWUgdG8gZXhwZWN0ZWQgb2JqZWN0IGVxdWFsaXR5ICh3aGljaCBpcyBlbmZvcmNlZCBieSB0aGUgY2FjaGluZyBpbiBgd3JhcGApLCB3ZVxuICAgIC8vIG9ubHkgY3JlYXRlIG9uZSBuZXcgZnVuYyBwZXIgZnVuYy5cbiAgICAvLyBFZGdlIGRvZXNuJ3Qgc3VwcG9ydCBvYmplY3RTdG9yZU5hbWVzIChib29vKSwgc28gd2UgcG9seWZpbGwgaXQgaGVyZS5cbiAgICBpZiAoZnVuYyA9PT0gSURCRGF0YWJhc2UucHJvdG90eXBlLnRyYW5zYWN0aW9uICYmXG4gICAgICAgICEoJ29iamVjdFN0b3JlTmFtZXMnIGluIElEQlRyYW5zYWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChzdG9yZU5hbWVzLCAuLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCB0eCA9IGZ1bmMuY2FsbCh1bndyYXAodGhpcyksIHN0b3JlTmFtZXMsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgdHJhbnNhY3Rpb25TdG9yZU5hbWVzTWFwLnNldCh0eCwgc3RvcmVOYW1lcy5zb3J0ID8gc3RvcmVOYW1lcy5zb3J0KCkgOiBbc3RvcmVOYW1lc10pO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAodHgpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvLyBDdXJzb3IgbWV0aG9kcyBhcmUgc3BlY2lhbCwgYXMgdGhlIGJlaGF2aW91ciBpcyBhIGxpdHRsZSBtb3JlIGRpZmZlcmVudCB0byBzdGFuZGFyZCBJREIuIEluXG4gICAgLy8gSURCLCB5b3UgYWR2YW5jZSB0aGUgY3Vyc29yIGFuZCB3YWl0IGZvciBhIG5ldyAnc3VjY2Vzcycgb24gdGhlIElEQlJlcXVlc3QgdGhhdCBnYXZlIHlvdSB0aGVcbiAgICAvLyBjdXJzb3IuIEl0J3Mga2luZGEgbGlrZSBhIHByb21pc2UgdGhhdCBjYW4gcmVzb2x2ZSB3aXRoIG1hbnkgdmFsdWVzLiBUaGF0IGRvZXNuJ3QgbWFrZSBzZW5zZVxuICAgIC8vIHdpdGggcmVhbCBwcm9taXNlcywgc28gZWFjaCBhZHZhbmNlIG1ldGhvZHMgcmV0dXJucyBhIG5ldyBwcm9taXNlIGZvciB0aGUgY3Vyc29yIG9iamVjdCwgb3JcbiAgICAvLyB1bmRlZmluZWQgaWYgdGhlIGVuZCBvZiB0aGUgY3Vyc29yIGhhcyBiZWVuIHJlYWNoZWQuXG4gICAgaWYgKGdldEN1cnNvckFkdmFuY2VNZXRob2RzKCkuaW5jbHVkZXMoZnVuYykpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICAvLyBDYWxsaW5nIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiB3aXRoIHRoZSBwcm94eSBhcyAndGhpcycgY2F1c2VzIElMTEVHQUwgSU5WT0NBVElPTiwgc28gd2UgdXNlXG4gICAgICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICAgICAgZnVuYy5hcHBseSh1bndyYXAodGhpcyksIGFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuIHdyYXAoY3Vyc29yUmVxdWVzdE1hcC5nZXQodGhpcykpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gQ2FsbGluZyB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gd2l0aCB0aGUgcHJveHkgYXMgJ3RoaXMnIGNhdXNlcyBJTExFR0FMIElOVk9DQVRJT04sIHNvIHdlIHVzZVxuICAgICAgICAvLyB0aGUgb3JpZ2luYWwgb2JqZWN0LlxuICAgICAgICByZXR1cm4gd3JhcChmdW5jLmFwcGx5KHVud3JhcCh0aGlzKSwgYXJncykpO1xuICAgIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgcmV0dXJuIHdyYXBGdW5jdGlvbih2YWx1ZSk7XG4gICAgLy8gVGhpcyBkb2Vzbid0IHJldHVybiwgaXQganVzdCBjcmVhdGVzIGEgJ2RvbmUnIHByb21pc2UgZm9yIHRoZSB0cmFuc2FjdGlvbixcbiAgICAvLyB3aGljaCBpcyBsYXRlciByZXR1cm5lZCBmb3IgdHJhbnNhY3Rpb24uZG9uZSAoc2VlIGlkYk9iamVjdEhhbmRsZXIpLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlRyYW5zYWN0aW9uKVxuICAgICAgICBjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24odmFsdWUpO1xuICAgIGlmIChpbnN0YW5jZU9mQW55KHZhbHVlLCBnZXRJZGJQcm94eWFibGVUeXBlcygpKSlcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eSh2YWx1ZSwgaWRiUHJveHlUcmFwcyk7XG4gICAgLy8gUmV0dXJuIHRoZSBzYW1lIHZhbHVlIGJhY2sgaWYgd2UncmUgbm90IGdvaW5nIHRvIHRyYW5zZm9ybSBpdC5cbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiB3cmFwKHZhbHVlKSB7XG4gICAgLy8gV2Ugc29tZXRpbWVzIGdlbmVyYXRlIG11bHRpcGxlIHByb21pc2VzIGZyb20gYSBzaW5nbGUgSURCUmVxdWVzdCAoZWcgd2hlbiBjdXJzb3JpbmcpLCBiZWNhdXNlXG4gICAgLy8gSURCIGlzIHdlaXJkIGFuZCBhIHNpbmdsZSBJREJSZXF1ZXN0IGNhbiB5aWVsZCBtYW55IHJlc3BvbnNlcywgc28gdGhlc2UgY2FuJ3QgYmUgY2FjaGVkLlxuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIElEQlJlcXVlc3QpXG4gICAgICAgIHJldHVybiBwcm9taXNpZnlSZXF1ZXN0KHZhbHVlKTtcbiAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IHRyYW5zZm9ybWVkIHRoaXMgdmFsdWUgYmVmb3JlLCByZXVzZSB0aGUgdHJhbnNmb3JtZWQgdmFsdWUuXG4gICAgLy8gVGhpcyBpcyBmYXN0ZXIsIGJ1dCBpdCBhbHNvIHByb3ZpZGVzIG9iamVjdCBlcXVhbGl0eS5cbiAgICBpZiAodHJhbnNmb3JtQ2FjaGUuaGFzKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG4gICAgY29uc3QgbmV3VmFsdWUgPSB0cmFuc2Zvcm1DYWNoYWJsZVZhbHVlKHZhbHVlKTtcbiAgICAvLyBOb3QgYWxsIHR5cGVzIGFyZSB0cmFuc2Zvcm1lZC5cbiAgICAvLyBUaGVzZSBtYXkgYmUgcHJpbWl0aXZlIHR5cGVzLCBzbyB0aGV5IGNhbid0IGJlIFdlYWtNYXAga2V5cy5cbiAgICBpZiAobmV3VmFsdWUgIT09IHZhbHVlKSB7XG4gICAgICAgIHRyYW5zZm9ybUNhY2hlLnNldCh2YWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICByZXZlcnNlVHJhbnNmb3JtQ2FjaGUuc2V0KG5ld1ZhbHVlLCB2YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdWYWx1ZTtcbn1cbmNvbnN0IHVud3JhcCA9ICh2YWx1ZSkgPT4gcmV2ZXJzZVRyYW5zZm9ybUNhY2hlLmdldCh2YWx1ZSk7XG5cbmV4cG9ydCB7IHJldmVyc2VUcmFuc2Zvcm1DYWNoZSBhcyBhLCBpbnN0YW5jZU9mQW55IGFzIGksIHJlcGxhY2VUcmFwcyBhcyByLCB1bndyYXAgYXMgdSwgd3JhcCBhcyB3IH07XG4iLCJpbXBvcnQgeyB3IGFzIHdyYXAsIHIgYXMgcmVwbGFjZVRyYXBzIH0gZnJvbSAnLi93cmFwLWlkYi12YWx1ZS5qcyc7XG5leHBvcnQgeyB1IGFzIHVud3JhcCwgdyBhcyB3cmFwIH0gZnJvbSAnLi93cmFwLWlkYi12YWx1ZS5qcyc7XG5cbi8qKlxuICogT3BlbiBhIGRhdGFiYXNlLlxuICpcbiAqIEBwYXJhbSBuYW1lIE5hbWUgb2YgdGhlIGRhdGFiYXNlLlxuICogQHBhcmFtIHZlcnNpb24gU2NoZW1hIHZlcnNpb24uXG4gKiBAcGFyYW0gY2FsbGJhY2tzIEFkZGl0aW9uYWwgY2FsbGJhY2tzLlxuICovXG5mdW5jdGlvbiBvcGVuREIobmFtZSwgdmVyc2lvbiwgeyBibG9ja2VkLCB1cGdyYWRlLCBibG9ja2luZywgdGVybWluYXRlZCB9ID0ge30pIHtcbiAgICBjb25zdCByZXF1ZXN0ID0gaW5kZXhlZERCLm9wZW4obmFtZSwgdmVyc2lvbik7XG4gICAgY29uc3Qgb3BlblByb21pc2UgPSB3cmFwKHJlcXVlc3QpO1xuICAgIGlmICh1cGdyYWRlKSB7XG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigndXBncmFkZW5lZWRlZCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgdXBncmFkZSh3cmFwKHJlcXVlc3QucmVzdWx0KSwgZXZlbnQub2xkVmVyc2lvbiwgZXZlbnQubmV3VmVyc2lvbiwgd3JhcChyZXF1ZXN0LnRyYW5zYWN0aW9uKSwgZXZlbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGJsb2NrZWQpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgKGV2ZW50KSA9PiBibG9ja2VkKFxuICAgICAgICAvLyBDYXN0aW5nIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQtRE9NLWxpYi1nZW5lcmF0b3IvcHVsbC8xNDA1XG4gICAgICAgIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50Lm5ld1ZlcnNpb24sIGV2ZW50KSk7XG4gICAgfVxuICAgIG9wZW5Qcm9taXNlXG4gICAgICAgIC50aGVuKChkYikgPT4ge1xuICAgICAgICBpZiAodGVybWluYXRlZClcbiAgICAgICAgICAgIGRiLmFkZEV2ZW50TGlzdGVuZXIoJ2Nsb3NlJywgKCkgPT4gdGVybWluYXRlZCgpKTtcbiAgICAgICAgaWYgKGJsb2NraW5nKSB7XG4gICAgICAgICAgICBkYi5hZGRFdmVudExpc3RlbmVyKCd2ZXJzaW9uY2hhbmdlJywgKGV2ZW50KSA9PiBibG9ja2luZyhldmVudC5vbGRWZXJzaW9uLCBldmVudC5uZXdWZXJzaW9uLCBldmVudCkpO1xuICAgICAgICB9XG4gICAgfSlcbiAgICAgICAgLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgcmV0dXJuIG9wZW5Qcm9taXNlO1xufVxuLyoqXG4gKiBEZWxldGUgYSBkYXRhYmFzZS5cbiAqXG4gKiBAcGFyYW0gbmFtZSBOYW1lIG9mIHRoZSBkYXRhYmFzZS5cbiAqL1xuZnVuY3Rpb24gZGVsZXRlREIobmFtZSwgeyBibG9ja2VkIH0gPSB7fSkge1xuICAgIGNvbnN0IHJlcXVlc3QgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UobmFtZSk7XG4gICAgaWYgKGJsb2NrZWQpIHtcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdibG9ja2VkJywgKGV2ZW50KSA9PiBibG9ja2VkKFxuICAgICAgICAvLyBDYXN0aW5nIGR1ZSB0byBodHRwczovL2dpdGh1Yi5jb20vbWljcm9zb2Z0L1R5cGVTY3JpcHQtRE9NLWxpYi1nZW5lcmF0b3IvcHVsbC8xNDA1XG4gICAgICAgIGV2ZW50Lm9sZFZlcnNpb24sIGV2ZW50KSk7XG4gICAgfVxuICAgIHJldHVybiB3cmFwKHJlcXVlc3QpLnRoZW4oKCkgPT4gdW5kZWZpbmVkKTtcbn1cblxuY29uc3QgcmVhZE1ldGhvZHMgPSBbJ2dldCcsICdnZXRLZXknLCAnZ2V0QWxsJywgJ2dldEFsbEtleXMnLCAnY291bnQnXTtcbmNvbnN0IHdyaXRlTWV0aG9kcyA9IFsncHV0JywgJ2FkZCcsICdkZWxldGUnLCAnY2xlYXInXTtcbmNvbnN0IGNhY2hlZE1ldGhvZHMgPSBuZXcgTWFwKCk7XG5mdW5jdGlvbiBnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB7XG4gICAgaWYgKCEodGFyZ2V0IGluc3RhbmNlb2YgSURCRGF0YWJhc2UgJiZcbiAgICAgICAgIShwcm9wIGluIHRhcmdldCkgJiZcbiAgICAgICAgdHlwZW9mIHByb3AgPT09ICdzdHJpbmcnKSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChjYWNoZWRNZXRob2RzLmdldChwcm9wKSlcbiAgICAgICAgcmV0dXJuIGNhY2hlZE1ldGhvZHMuZ2V0KHByb3ApO1xuICAgIGNvbnN0IHRhcmdldEZ1bmNOYW1lID0gcHJvcC5yZXBsYWNlKC9Gcm9tSW5kZXgkLywgJycpO1xuICAgIGNvbnN0IHVzZUluZGV4ID0gcHJvcCAhPT0gdGFyZ2V0RnVuY05hbWU7XG4gICAgY29uc3QgaXNXcml0ZSA9IHdyaXRlTWV0aG9kcy5pbmNsdWRlcyh0YXJnZXRGdW5jTmFtZSk7XG4gICAgaWYgKFxuICAgIC8vIEJhaWwgaWYgdGhlIHRhcmdldCBkb2Vzbid0IGV4aXN0IG9uIHRoZSB0YXJnZXQuIEVnLCBnZXRBbGwgaXNuJ3QgaW4gRWRnZS5cbiAgICAhKHRhcmdldEZ1bmNOYW1lIGluICh1c2VJbmRleCA/IElEQkluZGV4IDogSURCT2JqZWN0U3RvcmUpLnByb3RvdHlwZSkgfHxcbiAgICAgICAgIShpc1dyaXRlIHx8IHJlYWRNZXRob2RzLmluY2x1ZGVzKHRhcmdldEZ1bmNOYW1lKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSBhc3luYyBmdW5jdGlvbiAoc3RvcmVOYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIC8vIGlzV3JpdGUgPyAncmVhZHdyaXRlJyA6IHVuZGVmaW5lZCBnemlwcHMgYmV0dGVyLCBidXQgZmFpbHMgaW4gRWRnZSA6KFxuICAgICAgICBjb25zdCB0eCA9IHRoaXMudHJhbnNhY3Rpb24oc3RvcmVOYW1lLCBpc1dyaXRlID8gJ3JlYWR3cml0ZScgOiAncmVhZG9ubHknKTtcbiAgICAgICAgbGV0IHRhcmdldCA9IHR4LnN0b3JlO1xuICAgICAgICBpZiAodXNlSW5kZXgpXG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQuaW5kZXgoYXJncy5zaGlmdCgpKTtcbiAgICAgICAgLy8gTXVzdCByZWplY3QgaWYgb3AgcmVqZWN0cy5cbiAgICAgICAgLy8gSWYgaXQncyBhIHdyaXRlIG9wZXJhdGlvbiwgbXVzdCByZWplY3QgaWYgdHguZG9uZSByZWplY3RzLlxuICAgICAgICAvLyBNdXN0IHJlamVjdCB3aXRoIG9wIHJlamVjdGlvbiBmaXJzdC5cbiAgICAgICAgLy8gTXVzdCByZXNvbHZlIHdpdGggb3AgdmFsdWUuXG4gICAgICAgIC8vIE11c3QgaGFuZGxlIGJvdGggcHJvbWlzZXMgKG5vIHVuaGFuZGxlZCByZWplY3Rpb25zKVxuICAgICAgICByZXR1cm4gKGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgIHRhcmdldFt0YXJnZXRGdW5jTmFtZV0oLi4uYXJncyksXG4gICAgICAgICAgICBpc1dyaXRlICYmIHR4LmRvbmUsXG4gICAgICAgIF0pKVswXTtcbiAgICB9O1xuICAgIGNhY2hlZE1ldGhvZHMuc2V0KHByb3AsIG1ldGhvZCk7XG4gICAgcmV0dXJuIG1ldGhvZDtcbn1cbnJlcGxhY2VUcmFwcygob2xkVHJhcHMpID0+ICh7XG4gICAgLi4ub2xkVHJhcHMsXG4gICAgZ2V0OiAodGFyZ2V0LCBwcm9wLCByZWNlaXZlcikgPT4gZ2V0TWV0aG9kKHRhcmdldCwgcHJvcCkgfHwgb2xkVHJhcHMuZ2V0KHRhcmdldCwgcHJvcCwgcmVjZWl2ZXIpLFxuICAgIGhhczogKHRhcmdldCwgcHJvcCkgPT4gISFnZXRNZXRob2QodGFyZ2V0LCBwcm9wKSB8fCBvbGRUcmFwcy5oYXModGFyZ2V0LCBwcm9wKSxcbn0pKTtcblxuZXhwb3J0IHsgZGVsZXRlREIsIG9wZW5EQiB9O1xuIiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXG5cblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxuXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcbkFORCBGSVRORVNTLiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SIEJFIExJQUJMRSBGT1IgQU5ZIFNQRUNJQUwsIERJUkVDVCxcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1Jcbk9USEVSIFRPUlRJT1VTIEFDVElPTiwgQVJJU0lORyBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBVU0UgT1JcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UsIFN1cHByZXNzZWRFcnJvciwgU3ltYm9sICovXG5cbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xuICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XG4gICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XG4gICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoYiwgcCkpIGRbcF0gPSBiW3BdOyB9O1xuICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xuICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNsYXNzIGV4dGVuZHMgdmFsdWUgXCIgKyBTdHJpbmcoYikgKyBcIiBpcyBub3QgYSBjb25zdHJ1Y3RvciBvciBudWxsXCIpO1xuICBleHRlbmRTdGF0aWNzKGQsIGIpO1xuICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cbiAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xufVxuXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XG4gIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XG4gICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xuICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XG4gICAgICB9XG4gICAgICByZXR1cm4gdDtcbiAgfVxuICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XG4gIHZhciB0ID0ge307XG4gIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxuICAgICAgdFtwXSA9IHNbcF07XG4gIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXG4gICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgICAgfVxuICByZXR1cm4gdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XG4gIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX19lc0RlY29yYXRlKGN0b3IsIGRlc2NyaXB0b3JJbiwgZGVjb3JhdG9ycywgY29udGV4dEluLCBpbml0aWFsaXplcnMsIGV4dHJhSW5pdGlhbGl6ZXJzKSB7XG4gIGZ1bmN0aW9uIGFjY2VwdChmKSB7IGlmIChmICE9PSB2b2lkIDAgJiYgdHlwZW9mIGYgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZ1bmN0aW9uIGV4cGVjdGVkXCIpOyByZXR1cm4gZjsgfVxuICB2YXIga2luZCA9IGNvbnRleHRJbi5raW5kLCBrZXkgPSBraW5kID09PSBcImdldHRlclwiID8gXCJnZXRcIiA6IGtpbmQgPT09IFwic2V0dGVyXCIgPyBcInNldFwiIDogXCJ2YWx1ZVwiO1xuICB2YXIgdGFyZ2V0ID0gIWRlc2NyaXB0b3JJbiAmJiBjdG9yID8gY29udGV4dEluW1wic3RhdGljXCJdID8gY3RvciA6IGN0b3IucHJvdG90eXBlIDogbnVsbDtcbiAgdmFyIGRlc2NyaXB0b3IgPSBkZXNjcmlwdG9ySW4gfHwgKHRhcmdldCA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSkgOiB7fSk7XG4gIHZhciBfLCBkb25lID0gZmFsc2U7XG4gIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHt9O1xuICAgICAgZm9yICh2YXIgcCBpbiBjb250ZXh0SW4pIGNvbnRleHRbcF0gPSBwID09PSBcImFjY2Vzc1wiID8ge30gOiBjb250ZXh0SW5bcF07XG4gICAgICBmb3IgKHZhciBwIGluIGNvbnRleHRJbi5hY2Nlc3MpIGNvbnRleHQuYWNjZXNzW3BdID0gY29udGV4dEluLmFjY2Vzc1twXTtcbiAgICAgIGNvbnRleHQuYWRkSW5pdGlhbGl6ZXIgPSBmdW5jdGlvbiAoZikgeyBpZiAoZG9uZSkgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBhZGQgaW5pdGlhbGl6ZXJzIGFmdGVyIGRlY29yYXRpb24gaGFzIGNvbXBsZXRlZFwiKTsgZXh0cmFJbml0aWFsaXplcnMucHVzaChhY2NlcHQoZiB8fCBudWxsKSk7IH07XG4gICAgICB2YXIgcmVzdWx0ID0gKDAsIGRlY29yYXRvcnNbaV0pKGtpbmQgPT09IFwiYWNjZXNzb3JcIiA/IHsgZ2V0OiBkZXNjcmlwdG9yLmdldCwgc2V0OiBkZXNjcmlwdG9yLnNldCB9IDogZGVzY3JpcHRvcltrZXldLCBjb250ZXh0KTtcbiAgICAgIGlmIChraW5kID09PSBcImFjY2Vzc29yXCIpIHtcbiAgICAgICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIGNvbnRpbnVlO1xuICAgICAgICAgIGlmIChyZXN1bHQgPT09IG51bGwgfHwgdHlwZW9mIHJlc3VsdCAhPT0gXCJvYmplY3RcIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZFwiKTtcbiAgICAgICAgICBpZiAoXyA9IGFjY2VwdChyZXN1bHQuZ2V0KSkgZGVzY3JpcHRvci5nZXQgPSBfO1xuICAgICAgICAgIGlmIChfID0gYWNjZXB0KHJlc3VsdC5zZXQpKSBkZXNjcmlwdG9yLnNldCA9IF87XG4gICAgICAgICAgaWYgKF8gPSBhY2NlcHQocmVzdWx0LmluaXQpKSBpbml0aWFsaXplcnMudW5zaGlmdChfKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKF8gPSBhY2NlcHQocmVzdWx0KSkge1xuICAgICAgICAgIGlmIChraW5kID09PSBcImZpZWxkXCIpIGluaXRpYWxpemVycy51bnNoaWZ0KF8pO1xuICAgICAgICAgIGVsc2UgZGVzY3JpcHRvcltrZXldID0gXztcbiAgICAgIH1cbiAgfVxuICBpZiAodGFyZ2V0KSBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBjb250ZXh0SW4ubmFtZSwgZGVzY3JpcHRvcik7XG4gIGRvbmUgPSB0cnVlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fcnVuSW5pdGlhbGl6ZXJzKHRoaXNBcmcsIGluaXRpYWxpemVycywgdmFsdWUpIHtcbiAgdmFyIHVzZVZhbHVlID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgaW5pdGlhbGl6ZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YWx1ZSA9IHVzZVZhbHVlID8gaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZywgdmFsdWUpIDogaW5pdGlhbGl6ZXJzW2ldLmNhbGwodGhpc0FyZyk7XG4gIH1cbiAgcmV0dXJuIHVzZVZhbHVlID8gdmFsdWUgOiB2b2lkIDA7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19wcm9wS2V5KHgpIHtcbiAgcmV0dXJuIHR5cGVvZiB4ID09PSBcInN5bWJvbFwiID8geCA6IFwiXCIuY29uY2F0KHgpO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fc2V0RnVuY3Rpb25OYW1lKGYsIG5hbWUsIHByZWZpeCkge1xuICBpZiAodHlwZW9mIG5hbWUgPT09IFwic3ltYm9sXCIpIG5hbWUgPSBuYW1lLmRlc2NyaXB0aW9uID8gXCJbXCIuY29uY2F0KG5hbWUuZGVzY3JpcHRpb24sIFwiXVwiKSA6IFwiXCI7XG4gIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoZiwgXCJuYW1lXCIsIHsgY29uZmlndXJhYmxlOiB0cnVlLCB2YWx1ZTogcHJlZml4ID8gXCJcIi5jb25jYXQocHJlZml4LCBcIiBcIiwgbmFtZSkgOiBuYW1lIH0pO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XG4gIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XG4gICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxuICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcbiAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcbiAgcmV0dXJuIGcgPSB7IG5leHQ6IHZlcmIoMCksIFwidGhyb3dcIjogdmVyYigxKSwgXCJyZXR1cm5cIjogdmVyYigyKSB9LCB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgKGdbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpczsgfSksIGc7XG4gIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxuICBmdW5jdGlvbiBzdGVwKG9wKSB7XG4gICAgICBpZiAoZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7XG4gICAgICB3aGlsZSAoZyAmJiAoZyA9IDAsIG9wWzBdICYmIChfID0gMCkpLCBfKSB0cnkge1xuICAgICAgICAgIGlmIChmID0gMSwgeSAmJiAodCA9IG9wWzBdICYgMiA/IHlbXCJyZXR1cm5cIl0gOiBvcFswXSA/IHlbXCJ0aHJvd1wiXSB8fCAoKHQgPSB5W1wicmV0dXJuXCJdKSAmJiB0LmNhbGwoeSksIDApIDogeS5uZXh0KSAmJiAhKHQgPSB0LmNhbGwoeSwgb3BbMV0pKS5kb25lKSByZXR1cm4gdDtcbiAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XG4gICAgICAgICAgc3dpdGNoIChvcFswXSkge1xuICAgICAgICAgICAgICBjYXNlIDA6IGNhc2UgMTogdCA9IG9wOyBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xuICAgICAgICAgICAgICBjYXNlIDc6IG9wID0gXy5vcHMucG9wKCk7IF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cbiAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gMyAmJiAoIXQgfHwgKG9wWzFdID4gdFswXSAmJiBvcFsxXSA8IHRbM10pKSkgeyBfLmxhYmVsID0gb3BbMV07IGJyZWFrOyB9XG4gICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cbiAgICAgICAgICAgICAgICAgIGlmICh0WzJdKSBfLm9wcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9wID0gYm9keS5jYWxsKHRoaXNBcmcsIF8pO1xuICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxuICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XG4gIH1cbn1cblxuZXhwb3J0IHZhciBfX2NyZWF0ZUJpbmRpbmcgPSBPYmplY3QuY3JlYXRlID8gKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIHZhciBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihtLCBrKTtcbiAgaWYgKCFkZXNjIHx8IChcImdldFwiIGluIGRlc2MgPyAhbS5fX2VzTW9kdWxlIDogZGVzYy53cml0YWJsZSB8fCBkZXNjLmNvbmZpZ3VyYWJsZSkpIHtcbiAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XG4gIH1cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIGsyLCBkZXNjKTtcbn0pIDogKGZ1bmN0aW9uKG8sIG0sIGssIGsyKSB7XG4gIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XG4gIG9bazJdID0gbVtrXTtcbn0pO1xuXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcbiAgZm9yICh2YXIgcCBpbiBtKSBpZiAocCAhPT0gXCJkZWZhdWx0XCIgJiYgIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvLCBwKSkgX19jcmVhdGVCaW5kaW5nKG8sIG0sIHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xuICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xuICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcbiAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSBcIm51bWJlclwiKSByZXR1cm4ge1xuICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XG4gICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9O1xuICAgICAgfVxuICB9O1xuICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyBcIk9iamVjdCBpcyBub3QgaXRlcmFibGUuXCIgOiBcIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX3JlYWQobywgbikge1xuICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XG4gIGlmICghbSkgcmV0dXJuIG87XG4gIHZhciBpID0gbS5jYWxsKG8pLCByLCBhciA9IFtdLCBlO1xuICB0cnkge1xuICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XG4gIH1cbiAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XG4gIGZpbmFsbHkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcbiAgICAgIH1cbiAgICAgIGZpbmFsbHkgeyBpZiAoZSkgdGhyb3cgZS5lcnJvcjsgfVxuICB9XG4gIHJldHVybiBhcjtcbn1cblxuLyoqIEBkZXByZWNhdGVkICovXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWQoKSB7XG4gIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xuICByZXR1cm4gYXI7XG59XG5cbi8qKiBAZGVwcmVjYXRlZCAqL1xuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xuICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcbiAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxuICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXG4gICAgICAgICAgcltrXSA9IGFbal07XG4gIHJldHVybiByO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xuICBpZiAocGFjayB8fCBhcmd1bWVudHMubGVuZ3RoID09PSAyKSBmb3IgKHZhciBpID0gMCwgbCA9IGZyb20ubGVuZ3RoLCBhcjsgaSA8IGw7IGkrKykge1xuICAgICAgaWYgKGFyIHx8ICEoaSBpbiBmcm9tKSkge1xuICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XG4gICAgICAgICAgYXJbaV0gPSBmcm9tW2ldO1xuICAgICAgfVxuICB9XG4gIHJldHVybiB0by5jb25jYXQoYXIgfHwgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSkpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XG4gIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcbiAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiLCBhd2FpdFJldHVybiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcbiAgZnVuY3Rpb24gYXdhaXRSZXR1cm4oZikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGYsIHJlamVjdCk7IH07IH1cbiAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlmIChnW25dKSB7IGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IGlmIChmKSBpW25dID0gZihpW25dKTsgfSB9XG4gIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cbiAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XG4gIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cbiAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxuICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcbiAgdmFyIGksIHA7XG4gIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XG4gIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IGZhbHNlIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcbiAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcbiAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcbiAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xuICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XG4gIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XG4gIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XG4gIHJldHVybiBjb29rZWQ7XG59O1xuXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBcImRlZmF1bHRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdiB9KTtcbn0pIDogZnVuY3Rpb24obywgdikge1xuICBvW1wiZGVmYXVsdFwiXSA9IHY7XG59O1xuXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xuICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xuICB2YXIgcmVzdWx0ID0ge307XG4gIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChrICE9PSBcImRlZmF1bHRcIiAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgX19jcmVhdGVCaW5kaW5nKHJlc3VsdCwgbW9kLCBrKTtcbiAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcbiAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRHZXQocmVjZWl2ZXIsIHN0YXRlLCBraW5kLCBmKSB7XG4gIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVhZCBwcml2YXRlIG1lbWJlciBmcm9tIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiBraW5kID09PSBcIm1cIiA/IGYgOiBraW5kID09PSBcImFcIiA/IGYuY2FsbChyZWNlaXZlcikgOiBmID8gZi52YWx1ZSA6IHN0YXRlLmdldChyZWNlaXZlcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xuICBpZiAoa2luZCA9PT0gXCJhXCIgJiYgIWYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIGFjY2Vzc29yIHdhcyBkZWZpbmVkIHdpdGhvdXQgYSBzZXR0ZXJcIik7XG4gIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xuICBpZiAocmVjZWl2ZXIgPT09IG51bGwgfHwgKHR5cGVvZiByZWNlaXZlciAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgcmVjZWl2ZXIgIT09IFwiZnVuY3Rpb25cIikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgdXNlICdpbicgb3BlcmF0b3Igb24gbm9uLW9iamVjdFwiKTtcbiAgcmV0dXJuIHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgPT09IHN0YXRlIDogc3RhdGUuaGFzKHJlY2VpdmVyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlKGVudiwgdmFsdWUsIGFzeW5jKSB7XG4gIGlmICh2YWx1ZSAhPT0gbnVsbCAmJiB2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgdmFsdWUgIT09IFwiZnVuY3Rpb25cIikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIk9iamVjdCBleHBlY3RlZC5cIik7XG4gICAgdmFyIGRpc3Bvc2UsIGlubmVyO1xuICAgIGlmIChhc3luYykge1xuICAgICAgaWYgKCFTeW1ib2wuYXN5bmNEaXNwb3NlKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jRGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmFzeW5jRGlzcG9zZV07XG4gICAgfVxuICAgIGlmIChkaXNwb3NlID09PSB2b2lkIDApIHtcbiAgICAgIGlmICghU3ltYm9sLmRpc3Bvc2UpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuZGlzcG9zZSBpcyBub3QgZGVmaW5lZC5cIik7XG4gICAgICBkaXNwb3NlID0gdmFsdWVbU3ltYm9sLmRpc3Bvc2VdO1xuICAgICAgaWYgKGFzeW5jKSBpbm5lciA9IGRpc3Bvc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGlzcG9zZSAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IG5vdCBkaXNwb3NhYmxlLlwiKTtcbiAgICBpZiAoaW5uZXIpIGRpc3Bvc2UgPSBmdW5jdGlvbigpIHsgdHJ5IHsgaW5uZXIuY2FsbCh0aGlzKTsgfSBjYXRjaCAoZSkgeyByZXR1cm4gUHJvbWlzZS5yZWplY3QoZSk7IH0gfTtcbiAgICBlbnYuc3RhY2sucHVzaCh7IHZhbHVlOiB2YWx1ZSwgZGlzcG9zZTogZGlzcG9zZSwgYXN5bmM6IGFzeW5jIH0pO1xuICB9XG4gIGVsc2UgaWYgKGFzeW5jKSB7XG4gICAgZW52LnN0YWNrLnB1c2goeyBhc3luYzogdHJ1ZSB9KTtcbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbnZhciBfU3VwcHJlc3NlZEVycm9yID0gdHlwZW9mIFN1cHByZXNzZWRFcnJvciA9PT0gXCJmdW5jdGlvblwiID8gU3VwcHJlc3NlZEVycm9yIDogZnVuY3Rpb24gKGVycm9yLCBzdXBwcmVzc2VkLCBtZXNzYWdlKSB7XG4gIHZhciBlID0gbmV3IEVycm9yKG1lc3NhZ2UpO1xuICByZXR1cm4gZS5uYW1lID0gXCJTdXBwcmVzc2VkRXJyb3JcIiwgZS5lcnJvciA9IGVycm9yLCBlLnN1cHByZXNzZWQgPSBzdXBwcmVzc2VkLCBlO1xufTtcblxuZXhwb3J0IGZ1bmN0aW9uIF9fZGlzcG9zZVJlc291cmNlcyhlbnYpIHtcbiAgZnVuY3Rpb24gZmFpbChlKSB7XG4gICAgZW52LmVycm9yID0gZW52Lmhhc0Vycm9yID8gbmV3IF9TdXBwcmVzc2VkRXJyb3IoZSwgZW52LmVycm9yLCBcIkFuIGVycm9yIHdhcyBzdXBwcmVzc2VkIGR1cmluZyBkaXNwb3NhbC5cIikgOiBlO1xuICAgIGVudi5oYXNFcnJvciA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICB3aGlsZSAoZW52LnN0YWNrLmxlbmd0aCkge1xuICAgICAgdmFyIHJlYyA9IGVudi5zdGFjay5wb3AoKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciByZXN1bHQgPSByZWMuZGlzcG9zZSAmJiByZWMuZGlzcG9zZS5jYWxsKHJlYy52YWx1ZSk7XG4gICAgICAgIGlmIChyZWMuYXN5bmMpIHJldHVybiBQcm9taXNlLnJlc29sdmUocmVzdWx0KS50aGVuKG5leHQsIGZ1bmN0aW9uKGUpIHsgZmFpbChlKTsgcmV0dXJuIG5leHQoKTsgfSk7XG4gICAgICB9XG4gICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgIGZhaWwoZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChlbnYuaGFzRXJyb3IpIHRocm93IGVudi5lcnJvcjtcbiAgfVxuICByZXR1cm4gbmV4dCgpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB7XG4gIF9fZXh0ZW5kcyxcbiAgX19hc3NpZ24sXG4gIF9fcmVzdCxcbiAgX19kZWNvcmF0ZSxcbiAgX19wYXJhbSxcbiAgX19tZXRhZGF0YSxcbiAgX19hd2FpdGVyLFxuICBfX2dlbmVyYXRvcixcbiAgX19jcmVhdGVCaW5kaW5nLFxuICBfX2V4cG9ydFN0YXIsXG4gIF9fdmFsdWVzLFxuICBfX3JlYWQsXG4gIF9fc3ByZWFkLFxuICBfX3NwcmVhZEFycmF5cyxcbiAgX19zcHJlYWRBcnJheSxcbiAgX19hd2FpdCxcbiAgX19hc3luY0dlbmVyYXRvcixcbiAgX19hc3luY0RlbGVnYXRvcixcbiAgX19hc3luY1ZhbHVlcyxcbiAgX19tYWtlVGVtcGxhdGVPYmplY3QsXG4gIF9faW1wb3J0U3RhcixcbiAgX19pbXBvcnREZWZhdWx0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0LFxuICBfX2NsYXNzUHJpdmF0ZUZpZWxkSW4sXG4gIF9fYWRkRGlzcG9zYWJsZVJlc291cmNlLFxuICBfX2Rpc3Bvc2VSZXNvdXJjZXMsXG59O1xuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18uZyA9IChmdW5jdGlvbigpIHtcblx0aWYgKHR5cGVvZiBnbG9iYWxUaGlzID09PSAnb2JqZWN0JykgcmV0dXJuIGdsb2JhbFRoaXM7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIHRoaXMgfHwgbmV3IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5cdH0gY2F0Y2ggKGUpIHtcblx0XHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcpIHJldHVybiB3aW5kb3c7XG5cdH1cbn0pKCk7IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIi8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uciA9IChleHBvcnRzKSA9PiB7XG5cdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuXHR9XG5cdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG59OyIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXygxNTYpO1xuIl0sIm5hbWVzIjpbImFwcCIsImluaXRpYWxpemVBcHAiLCJhcGlLZXkiLCJhdXRoRG9tYWluIiwicHJvamVjdElkIiwic3RvcmFnZUJ1Y2tldCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiYXBwSWQiLCJtZWFzdXJlbWVudElkIiwiZGIiLCJnZXRGaXJlc3RvcmUiLCJjb2NrdGFpbHNEYXRhIiwibHV4dXJ5RGF0YSIsImJlZXJEYXRhIiwidXBkYXRlRHJpbmtDb3VudCIsImRyaW5rIiwiY2F0ZWdvcnkiLCJkcmlua1JlZiIsImRvYyIsInJlcGxhY2UiLCJkb2NTbmFwIiwiZ2V0RG9jIiwiZXhpc3RzIiwiY3VycmVudENvdW50IiwiZGF0YSIsImNvdW50IiwidXBkYXRlRG9jIiwiY29uc29sZSIsImxvZyIsInNldERvYyIsImVycm9yIiwiaW5pdGlhbGl6ZVJlc3VsdHMiLCJjYXRlZ29yaWVzIiwiZHJpbmtzIiwiY291bnRFbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRvTG93ZXJDYXNlIiwiaW5uZXJUZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJxdWVyeVNlbGVjdG9yIiwic3R5bGUiLCJkaXNwbGF5IiwiZnVsbE5hbWUiLCJ2YWx1ZSIsImd1ZXN0UmVmIiwiYWRkR3Vlc3QiLCJhbGVydCIsImd1ZXN0c0NvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwib25TbmFwc2hvdCIsInNuYXBzaG90IiwiZ3Vlc3RMaXN0IiwiaW5uZXJIVE1MIiwiZm9yRWFjaCIsImd1ZXN0Iiwicm93IiwiY3JlYXRlRWxlbWVudCIsIm5hbWVDZWxsIiwidGV4dENvbnRlbnQiLCJhcHBlbmRDaGlsZCIsInVwZGF0ZUd1ZXN0TGlzdEluSFRNTCIsImluaXRpYWxpemVHdWVzdExpc3QiLCJzdXJ2ZXlGb3JtIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJ0YXJnZXQiLCJjb2NrdGFpbERyaW5rcyIsImdldEFsbCIsInRvU3RyaW5nIiwibHV4dXJ5RHJpbmtzIiwiYmVlckRyaW5rcyIsInNldEl0ZW0iLCJkb2NTbmFwc2hvdCIsInVwZGF0ZVJlc3VsdEluSFRNTCIsImNvY2t0YWlscyIsImx1eHVyeSIsImJlZXIiLCJPYmplY3QiLCJlbnRyaWVzIiwiaW5pdGlhbGl6ZUZpcmVzdG9yZURhdGEiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJfYSQxIiwiX2EiLCJjb21wb25lbnQiLCJ0c2xpYiIsImxvZ2dlciQxIiwidXRpbCIsImlkYiIsIlBsYXRmb3JtTG9nZ2VyU2VydmljZUltcGwiLCJjb250YWluZXIiLCJ0aGlzIiwicHJvdG90eXBlIiwiZ2V0UGxhdGZvcm1JbmZvU3RyaW5nIiwiZ2V0UHJvdmlkZXJzIiwibWFwIiwicHJvdmlkZXIiLCJnZXRDb21wb25lbnQiLCJ0eXBlIiwiaXNWZXJzaW9uU2VydmljZVByb3ZpZGVyIiwic2VydmljZSIsImdldEltbWVkaWF0ZSIsImNvbmNhdCIsImxpYnJhcnkiLCJ2ZXJzaW9uIiwiZmlsdGVyIiwibG9nU3RyaW5nIiwiam9pbiIsIm5hbWUkcCIsInZlcnNpb24kMSIsImxvZ2dlciIsIkxvZ2dlciIsIkRFRkFVTFRfRU5UUllfTkFNRSIsIlBMQVRGT1JNX0xPR19TVFJJTkciLCJfYXBwcyIsIk1hcCIsIl9zZXJ2ZXJBcHBzIiwiX2NvbXBvbmVudHMiLCJfYWRkQ29tcG9uZW50IiwiYWRkQ29tcG9uZW50IiwiZSIsImRlYnVnIiwibmFtZSIsIl9yZWdpc3RlckNvbXBvbmVudCIsImVfMSIsImVfMiIsIl9iIiwiY29tcG9uZW50TmFtZSIsImhhcyIsInNldCIsIl9jIiwiX192YWx1ZXMiLCJ2YWx1ZXMiLCJfZCIsIm5leHQiLCJkb25lIiwiZV8xXzEiLCJyZXR1cm4iLCJjYWxsIiwiX2UiLCJfZiIsImVfMl8xIiwiX2dldFByb3ZpZGVyIiwiaGVhcnRiZWF0Q29udHJvbGxlciIsImdldFByb3ZpZGVyIiwib3B0aW9uYWwiLCJ0cmlnZ2VySGVhcnRiZWF0IiwiX2lzRmlyZWJhc2VBcHAiLCJvYmoiLCJ1bmRlZmluZWQiLCJvcHRpb25zIiwiRVJST1JTIiwiRVJST1JfRkFDVE9SWSIsIkVycm9yRmFjdG9yeSIsIkZpcmViYXNlQXBwSW1wbCIsImNvbmZpZyIsIl90aGlzIiwiX2lzRGVsZXRlZCIsIl9vcHRpb25zIiwiX19hc3NpZ24iLCJfY29uZmlnIiwiX25hbWUiLCJfYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiYXV0b21hdGljRGF0YUNvbGxlY3Rpb25FbmFibGVkIiwiX2NvbnRhaW5lciIsIkNvbXBvbmVudCIsImdldCIsImNoZWNrRGVzdHJveWVkIiwidmFsIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsImlzRGVsZXRlZCIsImNyZWF0ZSIsImFwcE5hbWUiLCJGaXJlYmFzZVNlcnZlckFwcEltcGwiLCJfc3VwZXIiLCJzZXJ2ZXJDb25maWciLCJhcHBJbXBsIiwiX3NlcnZlckNvbmZpZyIsIl9maW5hbGl6YXRpb25SZWdpc3RyeSIsIkZpbmFsaXphdGlvblJlZ2lzdHJ5IiwiYXV0b21hdGljQ2xlYW51cCIsIl9yZWZDb3VudCIsImluY1JlZkNvdW50IiwicmVsZWFzZU9uRGVyZWYiLCJyZWdpc3RlclZlcnNpb24iLCJfX2V4dGVuZHMiLCJ0b0pTT04iLCJyZWdpc3RlciIsImRlY1JlZkNvdW50IiwiZGVsZXRlQXBwIiwicmF3Q29uZmlnIiwiU3RyaW5nIiwiZ2V0RGVmYXVsdEFwcENvbmZpZyIsImV4aXN0aW5nQXBwIiwiZGVlcEVxdWFsIiwiQ29tcG9uZW50Q29udGFpbmVyIiwiY29tcG9uZW50JDEiLCJuZXdBcHAiLCJfX2F3YWl0ZXIiLCJjbGVhbnVwUHJvdmlkZXJzIiwiX19nZW5lcmF0b3IiLCJsYWJlbCIsImRlbGV0ZSIsIlByb21pc2UiLCJhbGwiLCJzZW50IiwibGlicmFyeUtleU9yTmFtZSIsInZhcmlhbnQiLCJsaWJyYXJ5TWlzbWF0Y2giLCJtYXRjaCIsInZlcnNpb25NaXNtYXRjaCIsIndhcm5pbmciLCJwdXNoIiwid2FybiIsIkRCX05BTUUiLCJEQl9WRVJTSU9OIiwiU1RPUkVfTkFNRSIsImRiUHJvbWlzZSIsImdldERiUHJvbWlzZSIsIm9wZW5EQiIsInVwZ3JhZGUiLCJvbGRWZXJzaW9uIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJjYXRjaCIsIm9yaWdpbmFsRXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsInJlYWRIZWFydGJlYXRzRnJvbUluZGV4ZWREQiIsInR4IiwicmVzdWx0IiwiaWRiR2V0RXJyb3IiLCJ0cnlzIiwidHJhbnNhY3Rpb24iLCJvYmplY3RTdG9yZSIsImNvbXB1dGVLZXkiLCJGaXJlYmFzZUVycm9yIiwid3JpdGVIZWFydGJlYXRzVG9JbmRleGVkREIiLCJoZWFydGJlYXRPYmplY3QiLCJwdXQiLCJIZWFydGJlYXRTZXJ2aWNlSW1wbCIsIl9oZWFydGJlYXRzQ2FjaGUiLCJfc3RvcmFnZSIsIkhlYXJ0YmVhdFN0b3JhZ2VJbXBsIiwiX2hlYXJ0YmVhdHNDYWNoZVByb21pc2UiLCJyZWFkIiwidGhlbiIsInBsYXRmb3JtTG9nZ2VyIiwiYWdlbnQiLCJkYXRlIiwiZ2V0VVRDRGF0ZVN0cmluZyIsImhlYXJ0YmVhdHMiLCJsYXN0U2VudEhlYXJ0YmVhdERhdGUiLCJzb21lIiwic2luZ2xlRGF0ZUhlYXJ0YmVhdCIsImhiVGltZXN0YW1wIiwiRGF0ZSIsInZhbHVlT2YiLCJub3ciLCJvdmVyd3JpdGUiLCJnZXRIZWFydGJlYXRzSGVhZGVyIiwiaGVhcnRiZWF0c1RvU2VuZCIsInVuc2VudEVudHJpZXMiLCJoZWFkZXJTdHJpbmciLCJsZW5ndGgiLCJoZWFydGJlYXRzQ2FjaGUiLCJtYXhTaXplIiwic2xpY2UiLCJfbG9vcF8xIiwiaGVhcnRiZWF0RW50cnkiLCJmaW5kIiwiaGIiLCJkYXRlcyIsImNvdW50Qnl0ZXMiLCJwb3AiLCJoZWFydGJlYXRzQ2FjaGVfMSIsImhlYXJ0YmVhdHNDYWNoZV8xXzEiLCJleHRyYWN0SGVhcnRiZWF0c0ZvckhlYWRlciIsImJhc2U2NHVybEVuY29kZVdpdGhvdXRQYWRkaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvSVNPU3RyaW5nIiwic3Vic3RyaW5nIiwiX2NhblVzZUluZGV4ZWREQlByb21pc2UiLCJydW5JbmRleGVkREJFbnZpcm9ubWVudENoZWNrIiwiaXNJbmRleGVkREJBdmFpbGFibGUiLCJ2YWxpZGF0ZUluZGV4ZWREQk9wZW5hYmxlIiwiaWRiSGVhcnRiZWF0T2JqZWN0IiwiaGVhcnRiZWF0c09iamVjdCIsImV4aXN0aW5nSGVhcnRiZWF0c09iamVjdCIsIl9fc3ByZWFkQXJyYXkiLCJfX3JlYWQiLCJTREtfVkVSU0lPTiIsIl9ERUZBVUxUX0VOVFJZX05BTUUiLCJfYWRkT3JPdmVyd3JpdGVDb21wb25lbnQiLCJhZGRPck92ZXJ3cml0ZUNvbXBvbmVudCIsIl9jbGVhckNvbXBvbmVudHMiLCJjbGVhciIsIl9pc0ZpcmViYXNlU2VydmVyQXBwIiwic2V0dGluZ3MiLCJfcmVtb3ZlU2VydmljZUluc3RhbmNlIiwiaW5zdGFuY2VJZGVudGlmaWVyIiwiY2xlYXJJbnN0YW5jZSIsImdldEFwcCIsImdldEFwcHMiLCJBcnJheSIsImZyb20iLCJpbml0aWFsaXplU2VydmVyQXBwIiwiX3NlcnZlckFwcENvbmZpZyIsImFwcE9wdGlvbnMiLCJpc0Jyb3dzZXIiLCJpc1dlYldvcmtlciIsIm5hbWVPYmoiLCJzIiwibmFtZVN0cmluZyIsInJlZHVjZSIsImhhc2giLCJjIiwiTWF0aCIsImltdWwiLCJjaGFyQ29kZUF0Iiwib25Mb2ciLCJsb2dDYWxsYmFjayIsInNldFVzZXJMb2dIYW5kbGVyIiwic2V0TG9nTGV2ZWwiLCJsb2dMZXZlbCIsImluc3RhbmNlRmFjdG9yeSIsIm11bHRpcGxlSW5zdGFuY2VzIiwic2VydmljZVByb3BzIiwiaW5zdGFudGlhdGlvbk1vZGUiLCJvbkluc3RhbmNlQ3JlYXRlZCIsInNldEluc3RhbnRpYXRpb25Nb2RlIiwibW9kZSIsInNldE11bHRpcGxlSW5zdGFuY2VzIiwic2V0U2VydmljZVByb3BzIiwicHJvcHMiLCJzZXRJbnN0YW5jZUNyZWF0ZWRDYWxsYmFjayIsImNhbGxiYWNrIiwiUHJvdmlkZXIiLCJpbnN0YW5jZXMiLCJpbnN0YW5jZXNEZWZlcnJlZCIsImluc3RhbmNlc09wdGlvbnMiLCJvbkluaXRDYWxsYmFja3MiLCJpZGVudGlmaWVyIiwibm9ybWFsaXplZElkZW50aWZpZXIiLCJub3JtYWxpemVJbnN0YW5jZUlkZW50aWZpZXIiLCJkZWZlcnJlZCIsIkRlZmVycmVkIiwiaXNJbml0aWFsaXplZCIsInNob3VsZEF1dG9Jbml0aWFsaXplIiwiaW5zdGFuY2UiLCJnZXRPckluaXRpYWxpemVTZXJ2aWNlIiwicmVzb2x2ZSIsInByb21pc2UiLCJFcnJvciIsInNldENvbXBvbmVudCIsImlzQ29tcG9uZW50RWFnZXIiLCJpbnN0YW5jZURlZmVycmVkIiwic2VydmljZXMiLCJJTlRFUk5BTCIsIl9kZWxldGUiLCJpc0NvbXBvbmVudFNldCIsImdldE9wdGlvbnMiLCJpbml0aWFsaXplIiwib3B0cyIsIm9uSW5pdCIsImV4aXN0aW5nQ2FsbGJhY2tzIiwiU2V0IiwiZXhpc3RpbmdJbnN0YW5jZSIsImludm9rZU9uSW5pdENhbGxiYWNrcyIsImVfMyIsImNhbGxiYWNrcyIsImNhbGxiYWNrc18xIiwiY2FsbGJhY2tzXzFfMSIsImVfM18xIiwicHJvdmlkZXJzIiwiYmxvb21CbG9iIiwid2ViY2hhbm5lbEJsb2IiLCJTIiwiVXNlciIsImNvbnN0cnVjdG9yIiwidWlkIiwiaXNBdXRoZW50aWNhdGVkIiwidG9LZXkiLCJpc0VxdWFsIiwiVU5BVVRIRU5USUNBVEVEIiwiR09PR0xFX0NSRURFTlRJQUxTIiwiRklSU1RfUEFSVFkiLCJNT0NLX1VTRVIiLCJiIiwiRCIsIl9fUFJJVkFURV9nZXRMb2dMZXZlbCIsIl9fUFJJVkFURV9sb2dEZWJ1ZyIsInQiLCJMb2dMZXZlbCIsIkRFQlVHIiwibiIsIl9fUFJJVkFURV9hcmdUb1N0cmluZyIsIl9fUFJJVkFURV9sb2dFcnJvciIsIkVSUk9SIiwiX19QUklWQVRFX2xvZ1dhcm4iLCJXQVJOIiwiZmFpbCIsIl9fUFJJVkFURV9oYXJkQXNzZXJ0IiwiX19QUklWQVRFX2RlYnVnQ2FzdCIsIkMiLCJPSyIsIkNBTkNFTExFRCIsIlVOS05PV04iLCJJTlZBTElEX0FSR1VNRU5UIiwiREVBRExJTkVfRVhDRUVERUQiLCJOT1RfRk9VTkQiLCJBTFJFQURZX0VYSVNUUyIsIlBFUk1JU1NJT05fREVOSUVEIiwiUkVTT1VSQ0VfRVhIQVVTVEVEIiwiRkFJTEVEX1BSRUNPTkRJVElPTiIsIkFCT1JURUQiLCJPVVRfT0ZfUkFOR0UiLCJVTklNUExFTUVOVEVEIiwiVU5BVkFJTEFCTEUiLCJEQVRBX0xPU1MiLCJGaXJlc3RvcmVFcnJvciIsInN1cGVyIiwiY29kZSIsIl9fUFJJVkFURV9EZWZlcnJlZCIsInJlamVjdCIsIl9fUFJJVkFURV9PQXV0aFRva2VuIiwidXNlciIsImhlYWRlcnMiLCJfX1BSSVZBVEVfRW1wdHlBdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsImdldFRva2VuIiwiaW52YWxpZGF0ZVRva2VuIiwic3RhcnQiLCJlbnF1ZXVlUmV0cnlhYmxlIiwic2h1dGRvd24iLCJfX1BSSVZBVEVfRW11bGF0b3JBdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsInRva2VuIiwiY2hhbmdlTGlzdGVuZXIiLCJfX1BSSVZBVEVfRmlyZWJhc2VBdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsImN1cnJlbnRVc2VyIiwiaSIsImZvcmNlUmVmcmVzaCIsImF1dGgiLCJfX1BSSVZBVEVfZ3VhcmRlZENoYW5nZUxpc3RlbmVyIiwiciIsIm8iLCJ1IiwiX19QUklWQVRFX2F3YWl0TmV4dFRva2VuIiwiX19QUklWQVRFX3JlZ2lzdGVyQXV0aCIsImFkZEF1dGhUb2tlbkxpc3RlbmVyIiwic2V0VGltZW91dCIsImFjY2Vzc1Rva2VuIiwicmVtb3ZlQXV0aFRva2VuTGlzdGVuZXIiLCJnZXRVaWQiLCJfX1BSSVZBVEVfRmlyc3RQYXJ0eVRva2VuIiwibCIsImgiLCJQIiwiSSIsIlQiLCJfX1BSSVZBVEVfRmlyc3RQYXJ0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIiwiQXBwQ2hlY2tUb2tlbiIsIl9fUFJJVkFURV9GaXJlYmFzZUFwcENoZWNrVG9rZW5Qcm92aWRlciIsIkEiLCJhcHBDaGVjayIsIlIiLCJvblRva2VuQ2hhbmdlZCIsIl9fUFJJVkFURV9yZWdpc3RlckFwcENoZWNrIiwiYWRkVG9rZW5MaXN0ZW5lciIsInJlbW92ZVRva2VuTGlzdGVuZXIiLCJfX1BSSVZBVEVfcmFuZG9tQnl0ZXMiLCJzZWxmIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJVaW50OEFycmF5IiwiZ2V0UmFuZG9tVmFsdWVzIiwiZmxvb3IiLCJyYW5kb20iLCJfX1BSSVZBVEVfQXV0b0lkIiwibmV3SWQiLCJjaGFyQXQiLCJfX1BSSVZBVEVfcHJpbWl0aXZlQ29tcGFyYXRvciIsIl9fUFJJVkFURV9hcnJheUVxdWFscyIsImV2ZXJ5IiwiX19QUklWQVRFX2ltbWVkaWF0ZVN1Y2Nlc3NvciIsIlRpbWVzdGFtcCIsInNlY29uZHMiLCJuYW5vc2Vjb25kcyIsImZyb21NaWxsaXMiLCJmcm9tRGF0ZSIsImdldFRpbWUiLCJ0b0RhdGUiLCJ0b01pbGxpcyIsIl9jb21wYXJlVG8iLCJwYWRTdGFydCIsIlNuYXBzaG90VmVyc2lvbiIsInRpbWVzdGFtcCIsImZyb21UaW1lc3RhbXAiLCJtaW4iLCJtYXgiLCJjb21wYXJlVG8iLCJ0b01pY3Jvc2Vjb25kcyIsInRvVGltZXN0YW1wIiwiQmFzZVBhdGgiLCJzZWdtZW50cyIsIm9mZnNldCIsImxlbiIsImNvbXBhcmF0b3IiLCJjaGlsZCIsImxpbWl0IiwiY29uc3RydWN0IiwicG9wRmlyc3QiLCJwb3BMYXN0IiwiZmlyc3RTZWdtZW50IiwibGFzdFNlZ21lbnQiLCJpc0VtcHR5IiwiaXNQcmVmaXhPZiIsImlzSW1tZWRpYXRlUGFyZW50T2YiLCJ0b0FycmF5IiwiUmVzb3VyY2VQYXRoIiwiY2Fub25pY2FsU3RyaW5nIiwidG9VcmlFbmNvZGVkU3RyaW5nIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZnJvbVN0cmluZyIsImluZGV4T2YiLCJzcGxpdCIsImVtcHR5UGF0aCIsInYiLCJGaWVsZFBhdGgkMSIsImlzVmFsaWRJZGVudGlmaWVyIiwidGVzdCIsImlzS2V5RmllbGQiLCJrZXlGaWVsZCIsImZyb21TZXJ2ZXJGb3JtYXQiLCJfX1BSSVZBVEVfYWRkQ3VycmVudFNlZ21lbnQiLCJEb2N1bWVudEtleSIsInBhdGgiLCJmcm9tUGF0aCIsImZyb21OYW1lIiwiZW1wdHkiLCJjb2xsZWN0aW9uR3JvdXAiLCJoYXNDb2xsZWN0aW9uSWQiLCJnZXRDb2xsZWN0aW9uR3JvdXAiLCJnZXRDb2xsZWN0aW9uUGF0aCIsImlzRG9jdW1lbnRLZXkiLCJmcm9tU2VnbWVudHMiLCJGaWVsZEluZGV4IiwiaW5kZXhJZCIsImZpZWxkcyIsImluZGV4U3RhdGUiLCJfX1BSSVZBVEVfZmllbGRJbmRleEdldEFycmF5U2VnbWVudCIsImtpbmQiLCJfX1BSSVZBVEVfZmllbGRJbmRleEdldERpcmVjdGlvbmFsU2VnbWVudHMiLCJfX1BSSVZBVEVfZmllbGRJbmRleFNlbWFudGljQ29tcGFyYXRvciIsIl9fUFJJVkFURV9pbmRleFNlZ21lbnRDb21wYXJhdG9yIiwiVU5LTk9XTl9JRCIsIkluZGV4U2VnbWVudCIsImZpZWxkUGF0aCIsIkluZGV4U3RhdGUiLCJzZXF1ZW5jZU51bWJlciIsIkluZGV4T2Zmc2V0IiwiX19QUklWQVRFX25ld0luZGV4T2Zmc2V0U3VjY2Vzc29yRnJvbVJlYWRUaW1lIiwiX19QUklWQVRFX25ld0luZGV4T2Zmc2V0RnJvbURvY3VtZW50IiwicmVhZFRpbWUiLCJrZXkiLCJkb2N1bWVudEtleSIsImxhcmdlc3RCYXRjaElkIiwiX19QUklWQVRFX2luZGV4T2Zmc2V0Q29tcGFyYXRvciIsIkYiLCJQZXJzaXN0ZW5jZVRyYW5zYWN0aW9uIiwib25Db21taXR0ZWRMaXN0ZW5lcnMiLCJhZGRPbkNvbW1pdHRlZExpc3RlbmVyIiwicmFpc2VPbkNvbW1pdHRlZEV2ZW50IiwiYXN5bmMiLCJfX1BSSVZBVEVfaWdub3JlSWZQcmltYXJ5TGVhc2VMb3NzIiwiUGVyc2lzdGVuY2VQcm9taXNlIiwibmV4dENhbGxiYWNrIiwiY2F0Y2hDYWxsYmFjayIsImlzRG9uZSIsImNhbGxiYWNrQXR0YWNoZWQiLCJ3cmFwRmFpbHVyZSIsIndyYXBTdWNjZXNzIiwidG9Qcm9taXNlIiwid3JhcFVzZXJGdW5jdGlvbiIsIndhaXRGb3IiLCJvciIsIm1hcEFycmF5IiwiXyIsImEiLCJkb1doaWxlIiwicHJvY2VzcyIsIl9fUFJJVkFURV9TaW1wbGVEYlRyYW5zYWN0aW9uIiwiYWN0aW9uIiwiYWJvcnRlZCIsIlYiLCJvbmNvbXBsZXRlIiwib25hYm9ydCIsIl9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbkVycm9yIiwib25lcnJvciIsIl9fUFJJVkFURV9jaGVja0ZvckFuZFJlcG9ydGlPU0Vycm9yIiwib3BlbiIsIm0iLCJhYm9ydCIsImciLCJjb21taXQiLCJzdG9yZSIsIl9fUFJJVkFURV9TaW1wbGVEYlN0b3JlIiwiX19QUklWQVRFX1NpbXBsZURiIiwicCIsImdldFVBIiwiX19QUklWQVRFX3dyYXBSZXF1ZXN0Iiwid2luZG93IiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJfX1BSSVZBVEVfZ2V0QW5kcm9pZFZlcnNpb24iLCJfX1BSSVZBVEVfZW52IiwiTnVtYmVyIiwiTSIsIm9uc3VjY2VzcyIsIm9uYmxvY2tlZCIsIm9udXBncmFkZW5lZWRlZCIsIk8iLCJOIiwib252ZXJzaW9uY2hhbmdlIiwiTCIsInJ1blRyYW5zYWN0aW9uIiwiY2xvc2UiLCJfX1BSSVZBVEVfSXRlcmF0aW9uQ29udHJvbGxlciIsIkIiLCJrIiwicSIsIksiLCJjdXJzb3IiLCIkIiwiX19QUklWQVRFX2lzSW5kZXhlZERiVHJhbnNhY3Rpb25FcnJvciIsIlUiLCJpbmRleCIsInJhbmdlIiwiVyIsIkciLCJqIiwiSCIsIkoiLCJZIiwicHJpbWFyeUtleSIsImNvbnRpbnVlIiwicmV2ZXJzZSIsIm9wZW5LZXlDdXJzb3IiLCJvcGVuQ3Vyc29yIiwiX19QUklWQVRFX0luZGV4QmFja2ZpbGxlclNjaGVkdWxlciIsImFzeW5jUXVldWUiLCJaIiwidGFzayIsIlgiLCJzdG9wIiwiY2FuY2VsIiwic3RhcnRlZCIsImVucXVldWVBZnRlckRlbGF5IiwiZWUiLCJfX1BSSVZBVEVfSW5kZXhCYWNrZmlsbGVyIiwibG9jYWxTdG9yZSIsInBlcnNpc3RlbmNlIiwidGUiLCJpbmRleE1hbmFnZXIiLCJnZXROZXh0Q29sbGVjdGlvbkdyb3VwVG9VcGRhdGUiLCJuZSIsImdldE1pbk9mZnNldEZyb21Db2xsZWN0aW9uR3JvdXAiLCJsb2NhbERvY3VtZW50cyIsImdldE5leHREb2N1bWVudHMiLCJjaGFuZ2VzIiwidXBkYXRlSW5kZXhFbnRyaWVzIiwicmUiLCJ1cGRhdGVDb2xsZWN0aW9uR3JvdXAiLCJzaXplIiwiYmF0Y2hJZCIsIl9fUFJJVkFURV9MaXN0ZW5TZXF1ZW5jZSIsInByZXZpb3VzVmFsdWUiLCJzZXF1ZW5jZU51bWJlckhhbmRsZXIiLCJpZSIsInNlIiwid3JpdGVTZXF1ZW5jZU51bWJlciIsIl9fUFJJVkFURV9pc051bGxPclVuZGVmaW5lZCIsIl9fUFJJVkFURV9pc05lZ2F0aXZlWmVybyIsImlzU2FmZUludGVnZXIiLCJpc0ludGVnZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwiTUlOX1NBRkVfSU5URUdFUiIsIl9fUFJJVkFURV9lbmNvZGVSZXNvdXJjZVBhdGgiLCJfX1BSSVZBVEVfZW5jb2RlU2VwYXJhdG9yIiwiX19QUklWQVRFX2VuY29kZVNlZ21lbnQiLCJfX1BSSVZBVEVfZGVjb2RlUmVzb3VyY2VQYXRoIiwiX19QUklWQVRFX2xhc3RSZWFzb25hYmxlRXNjYXBlSW5kZXgiLCJvZSIsIngiLCJfX1BSSVZBVEVfbmV3RGJEb2N1bWVudE11dGF0aW9uUHJlZml4Rm9yUGF0aCIsIl9fUFJJVkFURV9uZXdEYkRvY3VtZW50TXV0YXRpb25LZXkiLCJRIiwieiIsIl9fUFJJVkFURV9JbmRleGVkRGJUcmFuc2FjdGlvbiIsImN1cnJlbnRTZXF1ZW5jZU51bWJlciIsIl9fUFJJVkFURV9nZXRTdG9yZSIsIl9fUFJJVkFURV9vYmplY3RTaXplIiwiaGFzT3duUHJvcGVydHkiLCJfX1BSSVZBVEVfbWFwVG9BcnJheSIsIlNvcnRlZE1hcCIsInJvb3QiLCJMTFJCTm9kZSIsIkVNUFRZIiwiaW5zZXJ0IiwiY29weSIsIkJMQUNLIiwibGVmdCIsInJpZ2h0IiwibWluS2V5IiwibWF4S2V5IiwiaW5vcmRlclRyYXZlcnNhbCIsInJldmVyc2VUcmF2ZXJzYWwiLCJnZXRJdGVyYXRvciIsIlNvcnRlZE1hcEl0ZXJhdG9yIiwiZ2V0SXRlcmF0b3JGcm9tIiwiZ2V0UmV2ZXJzZUl0ZXJhdG9yIiwiZ2V0UmV2ZXJzZUl0ZXJhdG9yRnJvbSIsImlzUmV2ZXJzZSIsIm5vZGVTdGFjayIsImdldE5leHQiLCJoYXNOZXh0IiwicGVlayIsImNvbG9yIiwiUkVEIiwiZml4VXAiLCJyZW1vdmVNaW4iLCJpc1JlZCIsIm1vdmVSZWRMZWZ0Iiwicm90YXRlUmlnaHQiLCJtb3ZlUmVkUmlnaHQiLCJyb3RhdGVMZWZ0IiwiY29sb3JGbGlwIiwiY2hlY2tNYXhEZXB0aCIsImNoZWNrIiwicG93IiwiU29ydGVkU2V0IiwiZmlyc3QiLCJsYXN0IiwiZm9yRWFjaEluUmFuZ2UiLCJmb3JFYWNoV2hpbGUiLCJmaXJzdEFmdGVyT3JFcXVhbCIsIlNvcnRlZFNldEl0ZXJhdG9yIiwidW5pb25XaXRoIiwiaXRlciIsIl9fUFJJVkFURV9hZHZhbmNlSXRlcmF0b3IiLCJGaWVsZE1hc2siLCJzb3J0IiwiY292ZXJzIiwiX19QUklWQVRFX0Jhc2U2NERlY29kZUVycm9yIiwiYXJndW1lbnRzIiwiQnl0ZVN0cmluZyIsImJpbmFyeVN0cmluZyIsImZyb21CYXNlNjRTdHJpbmciLCJhdG9iIiwiRE9NRXhjZXB0aW9uIiwiZnJvbVVpbnQ4QXJyYXkiLCJmcm9tQ2hhckNvZGUiLCJTeW1ib2wiLCJpdGVyYXRvciIsInRvQmFzZTY0IiwiYnRvYSIsInRvVWludDhBcnJheSIsImFwcHJveGltYXRlQnl0ZVNpemUiLCJFTVBUWV9CWVRFX1NUUklORyIsIlJlZ0V4cCIsIl9fUFJJVkFURV9ub3JtYWxpemVUaW1lc3RhbXAiLCJleGVjIiwic3Vic3RyIiwibmFub3MiLCJfX1BSSVZBVEVfbm9ybWFsaXplTnVtYmVyIiwiX19QUklWQVRFX25vcm1hbGl6ZUJ5dGVTdHJpbmciLCJfX1BSSVZBVEVfaXNTZXJ2ZXJUaW1lc3RhbXAiLCJtYXBWYWx1ZSIsIl9fdHlwZV9fIiwic3RyaW5nVmFsdWUiLCJfX1BSSVZBVEVfZ2V0UHJldmlvdXNWYWx1ZSIsIl9fcHJldmlvdXNfdmFsdWVfXyIsIl9fUFJJVkFURV9nZXRMb2NhbFdyaXRlVGltZSIsIl9fbG9jYWxfd3JpdGVfdGltZV9fIiwidGltZXN0YW1wVmFsdWUiLCJEYXRhYmFzZUluZm8iLCJkYXRhYmFzZUlkIiwicGVyc2lzdGVuY2VLZXkiLCJob3N0Iiwic3NsIiwiZm9yY2VMb25nUG9sbGluZyIsImF1dG9EZXRlY3RMb25nUG9sbGluZyIsImxvbmdQb2xsaW5nT3B0aW9ucyIsInVzZUZldGNoU3RyZWFtcyIsIkRhdGFiYXNlSWQiLCJkYXRhYmFzZSIsImlzRGVmYXVsdERhdGFiYXNlIiwibnVsbFZhbHVlIiwiX19QUklWQVRFX3R5cGVPcmRlciIsIl9fUFJJVkFURV9pc01heFZhbHVlIiwiX19QUklWQVRFX3ZhbHVlRXF1YWxzIiwiYm9vbGVhblZhbHVlIiwiYnl0ZXNWYWx1ZSIsInJlZmVyZW5jZVZhbHVlIiwiZ2VvUG9pbnRWYWx1ZSIsImxhdGl0dWRlIiwibG9uZ2l0dWRlIiwiaW50ZWdlclZhbHVlIiwiZG91YmxlVmFsdWUiLCJpc05hTiIsImFycmF5VmFsdWUiLCJfX1BSSVZBVEVfYXJyYXlWYWx1ZUNvbnRhaW5zIiwiX19QUklWQVRFX3ZhbHVlQ29tcGFyZSIsIl9fUFJJVkFURV9jb21wYXJlVGltZXN0YW1wcyIsImtleXMiLCJjYW5vbmljYWxJZCIsIl9fUFJJVkFURV9jYW5vbmlmeVZhbHVlIiwiX19QUklWQVRFX2VzdGltYXRlQnl0ZVNpemUiLCJfX1BSSVZBVEVfcmVmVmFsdWUiLCJpc0FycmF5IiwiX19QUklWQVRFX2lzTnVsbFZhbHVlIiwiX19QUklWQVRFX2lzTmFuVmFsdWUiLCJfX1BSSVZBVEVfaXNNYXBWYWx1ZSIsIl9fUFJJVkFURV9kZWVwQ2xvbmUiLCJhc3NpZ24iLCJfX1BSSVZBVEVfdmFsdWVzR2V0TG93ZXJCb3VuZCIsIk5hTiIsIl9fUFJJVkFURV92YWx1ZXNHZXRVcHBlckJvdW5kIiwiX19QUklWQVRFX2xvd2VyQm91bmRDb21wYXJlIiwiaW5jbHVzaXZlIiwiX19QUklWQVRFX3VwcGVyQm91bmRDb21wYXJlIiwiT2JqZWN0VmFsdWUiLCJmaWVsZCIsImdldEZpZWxkc01hcCIsInNldEFsbCIsImFwcGx5Q2hhbmdlcyIsImNsb25lIiwiX19QUklWQVRFX2V4dHJhY3RGaWVsZE1hc2siLCJNdXRhYmxlRG9jdW1lbnQiLCJkb2N1bWVudFR5cGUiLCJjcmVhdGVUaW1lIiwiZG9jdW1lbnRTdGF0ZSIsIm5ld0ludmFsaWREb2N1bWVudCIsIm5ld0ZvdW5kRG9jdW1lbnQiLCJuZXdOb0RvY3VtZW50IiwibmV3VW5rbm93bkRvY3VtZW50IiwiY29udmVydFRvRm91bmREb2N1bWVudCIsImNvbnZlcnRUb05vRG9jdW1lbnQiLCJjb252ZXJ0VG9Vbmtub3duRG9jdW1lbnQiLCJzZXRIYXNDb21taXR0ZWRNdXRhdGlvbnMiLCJzZXRIYXNMb2NhbE11dGF0aW9ucyIsInNldFJlYWRUaW1lIiwiaGFzTG9jYWxNdXRhdGlvbnMiLCJoYXNDb21taXR0ZWRNdXRhdGlvbnMiLCJoYXNQZW5kaW5nV3JpdGVzIiwiaXNWYWxpZERvY3VtZW50IiwiaXNGb3VuZERvY3VtZW50IiwiaXNOb0RvY3VtZW50IiwiaXNVbmtub3duRG9jdW1lbnQiLCJtdXRhYmxlQ29weSIsIkJvdW5kIiwicG9zaXRpb24iLCJfX1BSSVZBVEVfYm91bmRDb21wYXJlVG9Eb2N1bWVudCIsImRpciIsIl9fUFJJVkFURV9ib3VuZEVxdWFscyIsIk9yZGVyQnkiLCJfX1BSSVZBVEVfb3JkZXJCeUVxdWFscyIsIkZpbHRlciIsIkZpZWxkRmlsdGVyIiwib3AiLCJjcmVhdGVLZXlGaWVsZEluRmlsdGVyIiwiX19QUklWQVRFX0tleUZpZWxkRmlsdGVyIiwiX19QUklWQVRFX0FycmF5Q29udGFpbnNGaWx0ZXIiLCJfX1BSSVZBVEVfSW5GaWx0ZXIiLCJfX1BSSVZBVEVfTm90SW5GaWx0ZXIiLCJfX1BSSVZBVEVfQXJyYXlDb250YWluc0FueUZpbHRlciIsIl9fUFJJVkFURV9LZXlGaWVsZEluRmlsdGVyIiwiX19QUklWQVRFX0tleUZpZWxkTm90SW5GaWx0ZXIiLCJtYXRjaGVzIiwibWF0Y2hlc0NvbXBhcmlzb24iLCJpc0luZXF1YWxpdHkiLCJnZXRGbGF0dGVuZWRGaWx0ZXJzIiwiZ2V0RmlsdGVycyIsIkNvbXBvc2l0ZUZpbHRlciIsImZpbHRlcnMiLCJhZSIsIl9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJJc0Nvbmp1bmN0aW9uIiwiX19QUklWQVRFX2NvbXBvc2l0ZUZpbHRlcklzRGlzanVuY3Rpb24iLCJfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0Q29uanVuY3Rpb24iLCJfX1BSSVZBVEVfY29tcG9zaXRlRmlsdGVySXNGbGF0IiwiX19QUklWQVRFX2Nhbm9uaWZ5RmlsdGVyIiwiX19QUklWQVRFX2ZpbHRlckVxdWFscyIsIl9fUFJJVkFURV9jb21wb3NpdGVGaWx0ZXJXaXRoQWRkZWRGaWx0ZXJzIiwiX19QUklWQVRFX3N0cmluZ2lmeUZpbHRlciIsIl9fUFJJVkFURV9leHRyYWN0RG9jdW1lbnRLZXlzRnJvbUFycmF5VmFsdWUiLCJfX1BSSVZBVEVfVGFyZ2V0SW1wbCIsIm9yZGVyQnkiLCJzdGFydEF0IiwiZW5kQXQiLCJ1ZSIsIl9fUFJJVkFURV9uZXdUYXJnZXQiLCJfX1BSSVZBVEVfY2Fub25pZnlUYXJnZXQiLCJfX1BSSVZBVEVfdGFyZ2V0RXF1YWxzIiwiX19QUklWQVRFX3RhcmdldElzRG9jdW1lbnRUYXJnZXQiLCJfX1BSSVZBVEVfdGFyZ2V0R2V0RmllbGRGaWx0ZXJzRm9yUGF0aCIsIl9fUFJJVkFURV90YXJnZXRHZXRBc2NlbmRpbmdCb3VuZCIsIl9fUFJJVkFURV90YXJnZXRHZXREZXNjZW5kaW5nQm91bmQiLCJfX1BSSVZBVEVfUXVlcnlJbXBsIiwiZXhwbGljaXRPcmRlckJ5IiwibGltaXRUeXBlIiwiY2UiLCJsZSIsImhlIiwiX19QUklWQVRFX25ld1F1ZXJ5IiwiX19QUklWQVRFX25ld1F1ZXJ5Rm9yUGF0aCIsIl9fUFJJVkFURV9xdWVyeU1hdGNoZXNBbGxEb2N1bWVudHMiLCJfX1BSSVZBVEVfaXNDb2xsZWN0aW9uR3JvdXBRdWVyeSIsIl9fUFJJVkFURV9xdWVyeU5vcm1hbGl6ZWRPcmRlckJ5IiwiX19QUklWQVRFX3F1ZXJ5VG9UYXJnZXQiLCJfX1BSSVZBVEVfX3F1ZXJ5VG9UYXJnZXQiLCJfX1BSSVZBVEVfcXVlcnlUb0FnZ3JlZ2F0ZVRhcmdldCIsIl9fUFJJVkFURV9xdWVyeVdpdGhBZGRlZEZpbHRlciIsIl9fUFJJVkFURV9xdWVyeVdpdGhMaW1pdCIsIl9fUFJJVkFURV9xdWVyeUVxdWFscyIsIl9fUFJJVkFURV9jYW5vbmlmeVF1ZXJ5IiwiX19QUklWQVRFX3N0cmluZ2lmeVF1ZXJ5IiwiX19QUklWQVRFX3F1ZXJ5TWF0Y2hlcyIsIl9fUFJJVkFURV9xdWVyeUNvbGxlY3Rpb25Hcm91cCIsIl9fUFJJVkFURV9uZXdRdWVyeUNvbXBhcmF0b3IiLCJfX1BSSVZBVEVfY29tcGFyZURvY3MiLCJPYmplY3RNYXAiLCJtYXBLZXlGbiIsImVxdWFsc0ZuIiwiaW5uZXIiLCJpbm5lclNpemUiLCJzcGxpY2UiLCJfX1BSSVZBVEVfbXV0YWJsZURvY3VtZW50TWFwIiwiZG9jdW1lbnRNYXAiLCJfX1BSSVZBVEVfY29udmVydE92ZXJsYXllZERvY3VtZW50TWFwVG9Eb2N1bWVudE1hcCIsIm92ZXJsYXllZERvY3VtZW50IiwiX19QUklWQVRFX25ld092ZXJsYXlNYXAiLCJfX1BSSVZBVEVfbmV3RG9jdW1lbnRLZXlNYXAiLCJfX1BSSVZBVEVfbmV3TXV0YXRpb25NYXAiLCJfX1BSSVZBVEVfZG9jdW1lbnRLZXlTZXQiLCJfX1BSSVZBVEVfdGFyZ2V0SWRTZXQiLCJfX1BSSVZBVEVfdG9Eb3VibGUiLCJ1c2VQcm90bzNKc29uIiwiX19QUklWQVRFX3RvSW50ZWdlciIsInRvTnVtYmVyIiwiVHJhbnNmb3JtT3BlcmF0aW9uIiwiX19QUklWQVRFX2FwcGx5VHJhbnNmb3JtT3BlcmF0aW9uVG9Mb2NhbFZpZXciLCJfX1BSSVZBVEVfU2VydmVyVGltZXN0YW1wVHJhbnNmb3JtIiwiX19QUklWQVRFX0FycmF5VW5pb25UcmFuc2Zvcm1PcGVyYXRpb24iLCJfX1BSSVZBVEVfYXBwbHlBcnJheVVuaW9uVHJhbnNmb3JtT3BlcmF0aW9uIiwiX19QUklWQVRFX0FycmF5UmVtb3ZlVHJhbnNmb3JtT3BlcmF0aW9uIiwiX19QUklWQVRFX2FwcGx5QXJyYXlSZW1vdmVUcmFuc2Zvcm1PcGVyYXRpb24iLCJfX1BSSVZBVEVfY29tcHV0ZVRyYW5zZm9ybU9wZXJhdGlvbkJhc2VWYWx1ZSIsImFzTnVtYmVyIiwiUGUiLCJzZXJpYWxpemVyIiwiX19QUklWQVRFX2FwcGx5VHJhbnNmb3JtT3BlcmF0aW9uVG9SZW1vdGVEb2N1bWVudCIsIl9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50VHJhbnNmb3JtT3BlcmF0aW9uIiwiZWxlbWVudHMiLCJfX1BSSVZBVEVfY29lcmNlZEZpZWxkVmFsdWVzQXJyYXkiLCJGaWVsZFRyYW5zZm9ybSIsInRyYW5zZm9ybSIsIk11dGF0aW9uUmVzdWx0IiwidHJhbnNmb3JtUmVzdWx0cyIsIlByZWNvbmRpdGlvbiIsInVwZGF0ZVRpbWUiLCJub25lIiwiaXNOb25lIiwiX19QUklWQVRFX3ByZWNvbmRpdGlvbklzVmFsaWRGb3JEb2N1bWVudCIsIk11dGF0aW9uIiwiX19QUklWQVRFX2NhbGN1bGF0ZU92ZXJsYXlNdXRhdGlvbiIsIl9fUFJJVkFURV9EZWxldGVNdXRhdGlvbiIsIl9fUFJJVkFURV9TZXRNdXRhdGlvbiIsIl9fUFJJVkFURV9QYXRjaE11dGF0aW9uIiwiX19QUklWQVRFX211dGF0aW9uQXBwbHlUb1JlbW90ZURvY3VtZW50IiwiX19QUklWQVRFX3NlcnZlclRyYW5zZm9ybVJlc3VsdHMiLCJmaWVsZFRyYW5zZm9ybXMiLCJwcmVjb25kaXRpb24iLCJfX1BSSVZBVEVfZ2V0UGF0Y2giLCJfX1BSSVZBVEVfbXV0YXRpb25BcHBseVRvTG9jYWxWaWV3IiwiX19QUklWQVRFX2xvY2FsVHJhbnNmb3JtUmVzdWx0cyIsImZpZWxkTWFzayIsIl9fUFJJVkFURV9tdXRhdGlvbkV4dHJhY3RCYXNlVmFsdWUiLCJfX1BSSVZBVEVfbXV0YXRpb25FcXVhbHMiLCJfX1BSSVZBVEVfZmllbGRUcmFuc2Zvcm1FcXVhbHMiLCJnZXRGaWVsZE1hc2siLCJfX1BSSVZBVEVfVmVyaWZ5TXV0YXRpb24iLCJNdXRhdGlvbkJhdGNoIiwibG9jYWxXcml0ZVRpbWUiLCJiYXNlTXV0YXRpb25zIiwibXV0YXRpb25zIiwiYXBwbHlUb1JlbW90ZURvY3VtZW50IiwibXV0YXRpb25SZXN1bHRzIiwiYXBwbHlUb0xvY2FsVmlldyIsImFwcGx5VG9Mb2NhbERvY3VtZW50U2V0IiwibXV0YXRlZEZpZWxkcyIsIk11dGF0aW9uQmF0Y2hSZXN1bHQiLCJiYXRjaCIsImNvbW1pdFZlcnNpb24iLCJkb2NWZXJzaW9ucyIsIk92ZXJsYXkiLCJtdXRhdGlvbiIsImdldEtleSIsIl9fUFJJVkFURV9BZ2dyZWdhdGVJbXBsIiwiYWxpYXMiLCJhZ2dyZWdhdGVUeXBlIiwiRXhpc3RlbmNlRmlsdGVyIiwidW5jaGFuZ2VkTmFtZXMiLCJfX1BSSVZBVEVfaXNQZXJtYW5lbnRFcnJvciIsIl9fUFJJVkFURV9tYXBDb2RlRnJvbVJwY0NvZGUiLCJfX1BSSVZBVEVfbmV3VGV4dEVuY29kZXIiLCJUZXh0RW5jb2RlciIsIkludGVnZXIiLCJfX1BSSVZBVEVfZ2V0TWQ1SGFzaFZhbHVlIiwiZW5jb2RlIiwiTWQ1IiwidXBkYXRlIiwiZGlnZXN0IiwiX19QUklWQVRFX2dldDY0Qml0VWludHMiLCJEYXRhVmlldyIsImJ1ZmZlciIsImdldFVpbnQzMiIsIkJsb29tRmlsdGVyIiwiYml0bWFwIiwicGFkZGluZyIsImhhc2hDb3VudCIsIl9fUFJJVkFURV9CbG9vbUZpbHRlckVycm9yIiwiSWUiLCJUZSIsImZyb21OdW1iZXIiLCJFZSIsIm11bHRpcGx5IiwiY29tcGFyZSIsImdldEJpdHMiLCJtb2R1bG8iLCJkZSIsIm1pZ2h0Q29udGFpbiIsImNlaWwiLCJBZSIsIlJlbW90ZUV2ZW50Iiwic25hcHNob3RWZXJzaW9uIiwidGFyZ2V0Q2hhbmdlcyIsInRhcmdldE1pc21hdGNoZXMiLCJkb2N1bWVudFVwZGF0ZXMiLCJyZXNvbHZlZExpbWJvRG9jdW1lbnRzIiwiY3JlYXRlU3ludGhlc2l6ZWRSZW1vdGVFdmVudEZvckN1cnJlbnRDaGFuZ2UiLCJUYXJnZXRDaGFuZ2UiLCJjcmVhdGVTeW50aGVzaXplZFRhcmdldENoYW5nZUZvckN1cnJlbnRDaGFuZ2UiLCJyZXN1bWVUb2tlbiIsImN1cnJlbnQiLCJhZGRlZERvY3VtZW50cyIsIm1vZGlmaWVkRG9jdW1lbnRzIiwicmVtb3ZlZERvY3VtZW50cyIsIl9fUFJJVkFURV9Eb2N1bWVudFdhdGNoQ2hhbmdlIiwiUmUiLCJyZW1vdmVkVGFyZ2V0SWRzIiwiVmUiLCJfX1BSSVZBVEVfRXhpc3RlbmNlRmlsdGVyQ2hhbmdlIiwidGFyZ2V0SWQiLCJtZSIsIl9fUFJJVkFURV9XYXRjaFRhcmdldENoYW5nZSIsInN0YXRlIiwidGFyZ2V0SWRzIiwiY2F1c2UiLCJfX1BSSVZBVEVfVGFyZ2V0U3RhdGUiLCJmZSIsImdlIiwiX19QUklWQVRFX3NuYXBzaG90Q2hhbmdlc01hcCIsInBlIiwieWUiLCJ3ZSIsIlNlIiwiYmUiLCJEZSIsIkNlIiwidmUiLCJGZSIsIk1lIiwieGUiLCJPZSIsIk5lIiwiX19QUklWQVRFX1dhdGNoQ2hhbmdlQWdncmVnYXRvciIsIkxlIiwiQmUiLCJrZSIsInFlIiwiX19QUklWQVRFX2RvY3VtZW50VGFyZ2V0TWFwIiwiUWUiLCJLZSIsIiRlIiwiVWUiLCJXZSIsImZvckVhY2hUYXJnZXQiLCJHZSIsInplIiwicmVtb3ZlVGFyZ2V0IiwiamUiLCJIZSIsIkplIiwiWWUiLCJaZSIsIlhlIiwiZXQiLCJsb2NhbENhY2hlQ291bnQiLCJleGlzdGVuY2VGaWx0ZXJDb3VudCIsImJsb29tRmlsdGVyIiwiYXBwbGllZCIsImJpdG1hcExlbmd0aCIsImJpdHMiLCJ0dCIsIm50IiwiZ2V0UmVtb3RlS2V5c0ZvclRhcmdldCIsInJ0IiwiaXQiLCJwdXJwb3NlIiwic3QiLCJvdCIsImFzYyIsImRlc2MiLCJpbiIsImFuZCIsIkpzb25Qcm90b1NlcmlhbGl6ZXIiLCJfX1BSSVZBVEVfdG9JbnQzMlByb3RvIiwiX19QUklWQVRFX3RvQnl0ZXMiLCJfX1BSSVZBVEVfdG9WZXJzaW9uIiwiX19QUklWQVRFX2Zyb21WZXJzaW9uIiwiX19QUklWQVRFX3RvUmVzb3VyY2VOYW1lIiwiX19QUklWQVRFX3RvUmVzb3VyY2VQYXRoIiwiX19QUklWQVRFX2Zyb21SZXNvdXJjZU5hbWUiLCJfX1BSSVZBVEVfaXNWYWxpZFJlc291cmNlTmFtZSIsIl9fUFJJVkFURV90b05hbWUiLCJfX1BSSVZBVEVfZXh0cmFjdExvY2FsUGF0aEZyb21SZXNvdXJjZU5hbWUiLCJfX1BSSVZBVEVfdG9RdWVyeVBhdGgiLCJfX1BSSVZBVEVfZnJvbVF1ZXJ5UGF0aCIsIl9fUFJJVkFURV9nZXRFbmNvZGVkRGF0YWJhc2VJZCIsIl9fUFJJVkFURV90b011dGF0aW9uRG9jdW1lbnQiLCJfX1BSSVZBVEVfZnJvbURvY3VtZW50IiwidG9NdXRhdGlvbiIsInVwZGF0ZU1hc2siLCJfX1BSSVZBVEVfdG9Eb2N1bWVudE1hc2siLCJ2ZXJpZnkiLCJ1cGRhdGVUcmFuc2Zvcm1zIiwic2V0VG9TZXJ2ZXJWYWx1ZSIsImFwcGVuZE1pc3NpbmdFbGVtZW50cyIsInJlbW92ZUFsbEZyb21BcnJheSIsImluY3JlbWVudCIsImN1cnJlbnREb2N1bWVudCIsIl9fUFJJVkFURV9mcm9tTXV0YXRpb24iLCJmaWVsZFBhdGhzIiwiX19QUklWQVRFX3RvRG9jdW1lbnRzVGFyZ2V0IiwiZG9jdW1lbnRzIiwiX19QUklWQVRFX3RvUXVlcnlUYXJnZXQiLCJzdHJ1Y3R1cmVkUXVlcnkiLCJjb2xsZWN0aW9uSWQiLCJhbGxEZXNjZW5kYW50cyIsInBhcmVudCIsIl9fUFJJVkFURV90b0ZpbHRlciIsIndoZXJlIiwiX19QUklWQVRFX3RvRmllbGRQYXRoUmVmZXJlbmNlIiwiZGlyZWN0aW9uIiwiX19QUklWQVRFX3RvRGlyZWN0aW9uIiwiYmVmb3JlIiwiX3QiLCJfX1BSSVZBVEVfdG9SdW5BZ2dyZWdhdGlvblF1ZXJ5UmVxdWVzdCIsImF2ZyIsInN1bSIsInJlcXVlc3QiLCJzdHJ1Y3R1cmVkQWdncmVnYXRpb25RdWVyeSIsImFnZ3JlZ2F0aW9ucyIsInV0IiwiX19QUklWQVRFX2NvbnZlcnRRdWVyeVRhcmdldFRvUXVlcnkiLCJfX1BSSVZBVEVfZnJvbUZpbHRlciIsIl9fUFJJVkFURV9mcm9tRmllbGRQYXRoUmVmZXJlbmNlIiwidW5hcnlGaWx0ZXIiLCJmaWVsZEZpbHRlciIsImNvbXBvc2l0ZUZpbHRlciIsIl9fUFJJVkFURV90b09wZXJhdG9yTmFtZSIsIl9fUFJJVkFURV90b0NvbXBvc2l0ZU9wZXJhdG9yTmFtZSIsIlRhcmdldERhdGEiLCJsYXN0TGltYm9GcmVlU25hcHNob3RWZXJzaW9uIiwiZXhwZWN0ZWRDb3VudCIsIndpdGhTZXF1ZW5jZU51bWJlciIsIndpdGhSZXN1bWVUb2tlbiIsIndpdGhFeHBlY3RlZENvdW50Iiwid2l0aExhc3RMaW1ib0ZyZWVTbmFwc2hvdFZlcnNpb24iLCJfX1BSSVZBVEVfTG9jYWxTZXJpYWxpemVyIiwiY3QiLCJfX1BSSVZBVEVfdG9EYlJlbW90ZURvY3VtZW50IiwicHJlZml4UGF0aCIsImRvY3VtZW50SWQiLCJfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcEtleSIsIm5vRG9jdW1lbnQiLCJfX1BSSVZBVEVfdG9EYlRpbWVzdGFtcCIsInVua25vd25Eb2N1bWVudCIsIl9fUFJJVkFURV9mcm9tRGJUaW1lc3RhbXAiLCJfX1BSSVZBVEVfZnJvbURiTXV0YXRpb25CYXRjaCIsImxvY2FsV3JpdGVUaW1lTXMiLCJfX1BSSVZBVEVfZnJvbURiVGFyZ2V0IiwicXVlcnkiLCJsYXN0TGlzdGVuU2VxdWVuY2VOdW1iZXIiLCJfX1BSSVZBVEVfdG9EYlRhcmdldCIsIl9fUFJJVkFURV9mcm9tQnVuZGxlZFF1ZXJ5IiwiX19QUklWQVRFX2Zyb21EYkRvY3VtZW50T3ZlcmxheSIsIm92ZXJsYXlNdXRhdGlvbiIsIl9fUFJJVkFURV90b0RiRG9jdW1lbnRPdmVybGF5S2V5IiwiX19QUklWQVRFX3RvRGJJbmRleFN0YXRlIiwiX19QUklWQVRFX0luZGV4ZWREYkJ1bmRsZUNhY2hlIiwiZ2V0QnVuZGxlTWV0YWRhdGEiLCJfX1BSSVZBVEVfYnVuZGxlc1N0b3JlIiwiaWQiLCJidW5kbGVJZCIsInNhdmVCdW5kbGVNZXRhZGF0YSIsImdldE5hbWVkUXVlcnkiLCJfX1BSSVZBVEVfbmFtZWRRdWVyaWVzU3RvcmUiLCJidW5kbGVkUXVlcnkiLCJzYXZlTmFtZWRRdWVyeSIsIl9fUFJJVkFURV9JbmRleGVkRGJEb2N1bWVudE92ZXJsYXlDYWNoZSIsInVzZXJJZCIsImx0IiwiZ2V0T3ZlcmxheSIsIl9fUFJJVkFURV9kb2N1bWVudE92ZXJsYXlTdG9yZSIsImdldE92ZXJsYXlzIiwic2F2ZU92ZXJsYXlzIiwiaHQiLCJyZW1vdmVPdmVybGF5c0ZvckJhdGNoSWQiLCJJREJLZXlSYW5nZSIsImJvdW5kIiwiZ2V0T3ZlcmxheXNGb3JDb2xsZWN0aW9uIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJnZXRPdmVybGF5c0ZvckNvbGxlY3Rpb25Hcm91cCIsImNvbGxlY3Rpb25QYXRoIiwiX19QUklWQVRFX0ZpcmVzdG9yZUluZGV4VmFsdWVXcml0ZXIiLCJQdCIsIkl0IiwiVHQiLCJFdCIsImR0IiwiQXQiLCJSdCIsIlZ0IiwiZnQiLCJndCIsInl0Iiwid3QiLCJTdCIsIl9fUFJJVkFURV9udW1iZXJPZkxlYWRpbmdaZXJvc0luQnl0ZSIsIl9fUFJJVkFURV91bnNpZ25lZE51bUxlbmd0aCIsImJ0IiwiX19QUklWQVRFX09yZGVyZWRDb2RlV3JpdGVyIiwiRHQiLCJDdCIsInZ0IiwiRnQiLCJNdCIsInh0IiwiT3QiLCJjb2RlUG9pbnRBdCIsIk50IiwiTHQiLCJCdCIsImt0IiwicXQiLCJRdCIsIkt0IiwiJHQiLCJVdCIsInJlc2V0Iiwic2VlZCIsIld0IiwiQXJyYXlCdWZmZXIiLCJzZXRGbG9hdDY0IiwiX19QUklWQVRFX0FzY2VuZGluZ0luZGV4Qnl0ZUVuY29kZXIiLCJHdCIsIl9fUFJJVkFURV9EZXNjZW5kaW5nSW5kZXhCeXRlRW5jb2RlciIsIl9fUFJJVkFURV9JbmRleEJ5dGVFbmNvZGVyIiwienQiLCJqdCIsIkh0IiwiX19QUklWQVRFX0luZGV4RW50cnkiLCJkaXJlY3Rpb25hbFZhbHVlIiwiSnQiLCJfX1BSSVZBVEVfaW5kZXhFbnRyeUNvbXBhcmF0b3IiLCJfX1BSSVZBVEVfY29tcGFyZUJ5dGVBcnJheXMiLCJfX1BSSVZBVEVfVGFyZ2V0SW5kZXhNYXRjaGVyIiwiWXQiLCJadCIsIlh0IiwiZW4iLCJ0biIsIm5uIiwicm4iLCJzbiIsIm9uIiwiX19QUklWQVRFX2NvbXB1dGVJbkV4cGFuc2lvbiIsIl9fUFJJVkFURV9nZXREbmZUZXJtcyIsIl9fUFJJVkFURV9jb21wdXRlRGlzdHJpYnV0ZWROb3JtYWxGb3JtIiwiX19QUklWQVRFX2lzRGlzanVuY3RpdmVOb3JtYWxGb3JtIiwiX19QUklWQVRFX2lzU2luZ2xlRmllbGRGaWx0ZXIiLCJfX1BSSVZBVEVfaXNGbGF0Q29uanVuY3Rpb24iLCJfX1BSSVZBVEVfYXBwbHlBc3NvY2lhdGlvbiIsIl9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbiIsIl9fUFJJVkFURV9hcHBseURpc3RyaWJ1dGlvbkZpZWxkQW5kQ29tcG9zaXRlRmlsdGVycyIsIl9fUFJJVkFURV9NZW1vcnlJbmRleE1hbmFnZXIiLCJfbiIsIl9fUFJJVkFURV9NZW1vcnlDb2xsZWN0aW9uUGFyZW50SW5kZXgiLCJhZGRUb0NvbGxlY3Rpb25QYXJlbnRJbmRleCIsImdldENvbGxlY3Rpb25QYXJlbnRzIiwiZ2V0RW50cmllcyIsImFkZEZpZWxkSW5kZXgiLCJkZWxldGVGaWVsZEluZGV4IiwiZGVsZXRlQWxsRmllbGRJbmRleGVzIiwiY3JlYXRlVGFyZ2V0SW5kZXhlcyIsImdldERvY3VtZW50c01hdGNoaW5nVGFyZ2V0IiwiZ2V0SW5kZXhUeXBlIiwiZ2V0RmllbGRJbmRleGVzIiwiZ2V0TWluT2Zmc2V0IiwiX19QUklWQVRFX0luZGV4ZWREYkluZGV4TWFuYWdlciIsImFuIiwidW4iLCJfX1BSSVZBVEVfY29sbGVjdGlvblBhcmVudHNTdG9yZSIsIl9fUFJJVkFURV9pbmRleENvbmZpZ3VyYXRpb25TdG9yZSIsIl9fUFJJVkFURV9pbmRleFN0YXRlU3RvcmUiLCJfX1BSSVZBVEVfaW5kZXhFbnRyaWVzU3RvcmUiLCJjbiIsImxuIiwiaG4iLCJQbiIsIkluIiwiVG4iLCJFbiIsImRuIiwiY3JlYXRlUmFuZ2UiLCJBbiIsIlJuIiwiVm4iLCJtbiIsImZuIiwiZ24iLCJwbiIsInluIiwid24iLCJTbiIsIm9yZGVyZWREb2N1bWVudEtleSIsImJuIiwib25seSIsInVwcGVyQm91bmQiLCJEbiIsIl9fUFJJVkFURV9nZXRNaW5PZmZzZXRGcm9tRmllbGRJbmRleGVzIiwiZGlkUnVuIiwic2VxdWVuY2VOdW1iZXJzQ29sbGVjdGVkIiwidGFyZ2V0c1JlbW92ZWQiLCJkb2N1bWVudHNSZW1vdmVkIiwiTHJ1UGFyYW1zIiwiY2FjaGVTaXplQ29sbGVjdGlvblRocmVzaG9sZCIsInBlcmNlbnRpbGVUb0NvbGxlY3QiLCJtYXhpbXVtU2VxdWVuY2VOdW1iZXJzVG9Db2xsZWN0Iiwid2l0aENhY2hlU2l6ZSIsIkRFRkFVTFRfQ09MTEVDVElPTl9QRVJDRU5USUxFIiwiREVGQVVMVF9NQVhfU0VRVUVOQ0VfTlVNQkVSU19UT19DT0xMRUNUIiwicmVtb3ZlTXV0YXRpb25CYXRjaCIsIl9fUFJJVkFURV9kYkRvY3VtZW50U2l6ZSIsIkRFRkFVTFQiLCJESVNBQkxFRCIsIl9fUFJJVkFURV9JbmRleGVkRGJNdXRhdGlvblF1ZXVlIiwicmVmZXJlbmNlRGVsZWdhdGUiLCJDbiIsImNoZWNrRW1wdHkiLCJORUdBVElWRV9JTkZJTklUWSIsIl9fUFJJVkFURV9tdXRhdGlvbnNTdG9yZSIsImFkZE11dGF0aW9uQmF0Y2giLCJfX1BSSVZBVEVfZG9jdW1lbnRNdXRhdGlvbnNTdG9yZSIsImxvb2t1cE11dGF0aW9uQmF0Y2giLCJ2biIsImdldE5leHRNdXRhdGlvbkJhdGNoQWZ0ZXJCYXRjaElkIiwibG93ZXJCb3VuZCIsImdldEhpZ2hlc3RVbmFja25vd2xlZGdlZEJhdGNoSWQiLCJnZXRBbGxNdXRhdGlvbkJhdGNoZXMiLCJnZXRBbGxNdXRhdGlvbkJhdGNoZXNBZmZlY3RpbmdEb2N1bWVudEtleSIsImdldEFsbE11dGF0aW9uQmF0Y2hlc0FmZmVjdGluZ0RvY3VtZW50S2V5cyIsIkZuIiwiZ2V0QWxsTXV0YXRpb25CYXRjaGVzQWZmZWN0aW5nUXVlcnkiLCJNbiIsIm1hcmtQb3RlbnRpYWxseU9ycGhhbmVkIiwicGVyZm9ybUNvbnNpc3RlbmN5Q2hlY2siLCJjb250YWluc0tleSIsIl9fUFJJVkFURV9tdXRhdGlvblF1ZXVlQ29udGFpbnNLZXkiLCJ4biIsIl9fUFJJVkFURV9tdXRhdGlvblF1ZXVlc1N0b3JlIiwibGFzdEFja25vd2xlZGdlZEJhdGNoSWQiLCJsYXN0U3RyZWFtVG9rZW4iLCJfX1BSSVZBVEVfVGFyZ2V0SWRHZW5lcmF0b3IiLCJPbiIsIk5uIiwiTG4iLCJfX1BSSVZBVEVfSW5kZXhlZERiVGFyZ2V0Q2FjaGUiLCJhbGxvY2F0ZVRhcmdldElkIiwiQm4iLCJoaWdoZXN0VGFyZ2V0SWQiLCJrbiIsImdldExhc3RSZW1vdGVTbmFwc2hvdFZlcnNpb24iLCJsYXN0UmVtb3RlU25hcHNob3RWZXJzaW9uIiwiZ2V0SGlnaGVzdFNlcXVlbmNlTnVtYmVyIiwiaGlnaGVzdExpc3RlblNlcXVlbmNlTnVtYmVyIiwic2V0VGFyZ2V0c01ldGFkYXRhIiwiYWRkVGFyZ2V0RGF0YSIsInFuIiwidGFyZ2V0Q291bnQiLCJRbiIsInVwZGF0ZVRhcmdldERhdGEiLCJyZW1vdmVUYXJnZXREYXRhIiwicmVtb3ZlTWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQiLCJfX1BSSVZBVEVfdGFyZ2V0c1N0b3JlIiwicmVtb3ZlVGFyZ2V0cyIsIl9fUFJJVkFURV9nbG9iYWxUYXJnZXRTdG9yZSIsImdldFRhcmdldENvdW50IiwiZ2V0VGFyZ2V0RGF0YSIsImFkZE1hdGNoaW5nS2V5cyIsIl9fUFJJVkFURV9kb2N1bWVudFRhcmdldFN0b3JlIiwiYWRkUmVmZXJlbmNlIiwicmVtb3ZlTWF0Y2hpbmdLZXlzIiwicmVtb3ZlUmVmZXJlbmNlIiwiZ2V0TWF0Y2hpbmdLZXlzRm9yVGFyZ2V0SWQiLCJfX1BSSVZBVEVfYnVmZmVyRW50cnlDb21wYXJhdG9yIiwiX19QUklWQVRFX1JvbGxpbmdTZXF1ZW5jZU51bWJlckJ1ZmZlciIsIktuIiwiJG4iLCJVbiIsIlduIiwibWF4VmFsdWUiLCJfX1BSSVZBVEVfTHJ1U2NoZWR1bGVyIiwiZ2FyYmFnZUNvbGxlY3RvciIsIkduIiwicGFyYW1zIiwiem4iLCJjb2xsZWN0R2FyYmFnZSIsIl9fUFJJVkFURV9McnVHYXJiYWdlQ29sbGVjdG9ySW1wbCIsImpuIiwiY2FsY3VsYXRlVGFyZ2V0Q291bnQiLCJIbiIsIm50aFNlcXVlbmNlTnVtYmVyIiwiSm4iLCJyZW1vdmVPcnBoYW5lZERvY3VtZW50cyIsImNvbGxlY3QiLCJnZXRDYWNoZVNpemUiLCJZbiIsIl9fUFJJVkFURV9uZXdMcnVHYXJiYWdlQ29sbGVjdG9yIiwiX19QUklWQVRFX0luZGV4ZWREYkxydURlbGVnYXRlSW1wbCIsIlpuIiwiZ2V0VGFyZ2V0Q2FjaGUiLCJYbiIsIl9fUFJJVkFURV93cml0ZVNlbnRpbmVsS2V5IiwiZXIiLCJnZXRSZW1vdGVEb2N1bWVudENhY2hlIiwibmV3Q2hhbmdlQnVmZmVyIiwiZ2V0RW50cnkiLCJyZW1vdmVFbnRyeSIsImFwcGx5IiwidXBkYXRlTGltYm9Eb2N1bWVudCIsImdldFNpemUiLCJSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciIsImNoYW5nZXNBcHBsaWVkIiwiYWRkRW50cnkiLCJhc3NlcnROb3RBcHBsaWVkIiwiZ2V0RnJvbUNhY2hlIiwiZ2V0QWxsRnJvbUNhY2hlIiwiX19QUklWQVRFX0luZGV4ZWREYlJlbW90ZURvY3VtZW50Q2FjaGVJbXBsIiwic2V0SW5kZXhNYW5hZ2VyIiwiX19QUklWQVRFX3JlbW90ZURvY3VtZW50c1N0b3JlIiwidXBkYXRlTWV0YWRhdGEiLCJnZXRNZXRhZGF0YSIsImJ5dGVTaXplIiwidHIiLCJfX1BSSVZBVEVfZGJLZXkiLCJuciIsInJyIiwiaXIiLCJzciIsIl9yIiwiX19QUklWQVRFX2RiS2V5Q29tcGFyYXRvciIsImdldERvY3VtZW50c01hdGNoaW5nUXVlcnkiLCJpbmNyZW1lbnREb2N1bWVudFJlYWRDb3VudCIsImdldEFsbEZyb21Db2xsZWN0aW9uR3JvdXAiLCJfX1BSSVZBVEVfZGJDb2xsZWN0aW9uR3JvdXBLZXkiLCJfX1BSSVZBVEVfSW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDaGFuZ2VCdWZmZXIiLCJ0cmFja1JlbW92YWxzIiwiX19QUklWQVRFX2RvY3VtZW50R2xvYmFsU3RvcmUiLCJfX1BSSVZBVEVfZnJvbURiUmVtb3RlRG9jdW1lbnQiLCJfX1BSSVZBVEVfbmV3SW5kZXhlZERiUmVtb3RlRG9jdW1lbnRDYWNoZSIsImFyIiwidXIiLCJPdmVybGF5ZWREb2N1bWVudCIsIkxvY2FsRG9jdW1lbnRzVmlldyIsInJlbW90ZURvY3VtZW50Q2FjaGUiLCJtdXRhdGlvblF1ZXVlIiwiZG9jdW1lbnRPdmVybGF5Q2FjaGUiLCJnZXREb2N1bWVudCIsImdldERvY3VtZW50cyIsImdldExvY2FsVmlld09mRG9jdW1lbnRzIiwicG9wdWxhdGVPdmVybGF5cyIsImNvbXB1dGVWaWV3cyIsImdldE92ZXJsYXllZERvY3VtZW50cyIsInJlY2FsY3VsYXRlQW5kU2F2ZU92ZXJsYXlzIiwicmVjYWxjdWxhdGVBbmRTYXZlT3ZlcmxheXNGb3JEb2N1bWVudEtleXMiLCJnZXREb2N1bWVudHNNYXRjaGluZ0RvY3VtZW50UXVlcnkiLCJnZXREb2N1bWVudHNNYXRjaGluZ0NvbGxlY3Rpb25Hcm91cFF1ZXJ5IiwiZ2V0RG9jdW1lbnRzTWF0Y2hpbmdDb2xsZWN0aW9uUXVlcnkiLCJfX1BSSVZBVEVfTWVtb3J5QnVuZGxlQ2FjaGUiLCJjciIsImxyIiwiX19QUklWQVRFX01lbW9yeURvY3VtZW50T3ZlcmxheUNhY2hlIiwib3ZlcmxheXMiLCJociIsIl9fUFJJVkFURV9SZWZlcmVuY2VTZXQiLCJQciIsIl9fUFJJVkFURV9Eb2NSZWZlcmVuY2UiLCJJciIsIlRyIiwiRXIiLCJkciIsIkFyIiwiUnIiLCJWciIsIm1yIiwiZ3IiLCJwciIsIl9fUFJJVkFURV9NZW1vcnlNdXRhdGlvblF1ZXVlIiwieXIiLCJ3ciIsIlNyIiwiYnIiLCJEciIsIkNyIiwic2hpZnQiLCJfX1BSSVZBVEVfTWVtb3J5UmVtb3RlRG9jdW1lbnRDYWNoZUltcGwiLCJ2ciIsImRvY3MiLCJGciIsIl9fUFJJVkFURV9NZW1vcnlSZW1vdGVEb2N1bWVudENoYW5nZUJ1ZmZlciIsIl9fUFJJVkFURV9NZW1vcnlUYXJnZXRDYWNoZSIsIk1yIiwiT3IiLCJOciIsIkxyIiwiX19QUklWQVRFX01lbW9yeVBlcnNpc3RlbmNlIiwiQnIiLCJrciIsInFyIiwiUXIiLCJLciIsIiRyIiwic2V0RGF0YWJhc2VEZWxldGVkTGlzdGVuZXIiLCJzZXROZXR3b3JrRW5hYmxlZCIsImdldEluZGV4TWFuYWdlciIsImdldERvY3VtZW50T3ZlcmxheUNhY2hlIiwiZ2V0TXV0YXRpb25RdWV1ZSIsImdldEJ1bmRsZUNhY2hlIiwiX19QUklWQVRFX01lbW9yeVRyYW5zYWN0aW9uIiwiVXIiLCJXciIsIkdyIiwiX19QUklWQVRFX01lbW9yeUVhZ2VyRGVsZWdhdGUiLCJ6ciIsImpyIiwiSHIiLCJKciIsIllyIiwiX19QUklWQVRFX01lbW9yeUxydURlbGVnYXRlIiwiWnIiLCJfX1BSSVZBVEVfU2NoZW1hQ29udmVydGVyIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsIl9fUFJJVkFURV9jcmVhdGVRdWVyeUNhY2hlIiwiZGVsZXRlT2JqZWN0U3RvcmUiLCJYciIsImVpIiwidGkiLCJuaSIsIm9iamVjdFN0b3JlTmFtZXMiLCJjb250YWlucyIsInJpIiwiaWkiLCJzaSIsIl9fUFJJVkFURV9JbmRleGVkRGJQZXJzaXN0ZW5jZSIsImFsbG93VGFiU3luY2hyb25pemF0aW9uIiwiY2xpZW50SWQiLCJvaSIsIl9pIiwiYWkiLCJ1aSIsImlzUHJpbWFyeSIsIm5ldHdvcmtFbmFibGVkIiwiY2kiLCJpbkZvcmVncm91bmQiLCJsaSIsImhpIiwiUGkiLCJJaSIsIlRpIiwiRWkiLCJkaSIsIkFpIiwiUmkiLCJWaSIsIm1pIiwiZmkiLCJuZXdWZXJzaW9uIiwiZW5xdWV1ZUFuZEZvcmdldCIsIl9fUFJJVkFURV9jbGllbnRNZXRhZGF0YVN0b3JlIiwidXBkYXRlVGltZU1zIiwiZ2kiLCJwaSIsInlpIiwid2kiLCJfX1BSSVZBVEVfcHJpbWFyeUNsaWVudFN0b3JlIiwiU2kiLCJiaSIsIkRpIiwiQ2kiLCJ2aSIsInJlbW92ZUl0ZW0iLCJGaSIsIm93bmVySWQiLCJsZWFzZVRpbWVzdGFtcE1zIiwiTWkiLCJ4aSIsIk9pIiwiTmkiLCJMaSIsIkJpIiwia2kiLCJ2aXNpYmlsaXR5U3RhdGUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaXNTYWZhcmkiLCJuYXZpZ2F0b3IiLCJhcHBWZXJzaW9uIiwidXNlckFnZW50IiwiZW50ZXJSZXN0cmljdGVkTW9kZSIsIl9fUFJJVkFURV9pbmRleGVkRGJTdG9yYWdlUHJlZml4IiwiX19QUklWQVRFX0xvY2FsVmlld0NoYW5nZXMiLCJmcm9tQ2FjaGUiLCJxaSIsIlFpIiwiS2kiLCJkb2NDaGFuZ2VzIiwiUXVlcnlDb250ZXh0IiwiX2RvY3VtZW50UmVhZENvdW50IiwiZG9jdW1lbnRSZWFkQ291bnQiLCJfX1BSSVZBVEVfUXVlcnlFbmdpbmUiLCIkaSIsIlVpIiwiV2kiLCJHaSIsInppIiwiamkiLCJIaSIsIkppIiwiWWkiLCJaaSIsIlhpIiwiZXMiLCJfX1BSSVZBVEVfTG9jYWxTdG9yZUltcGwiLCJ0cyIsIm5zIiwicnMiLCJzcyIsIm9zIiwiX3MiLCJfX1BSSVZBVEVfbmV3TG9jYWxTdG9yZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlSGFuZGxlVXNlckNoYW5nZSIsInVzIiwicmVtb3ZlZEJhdGNoSWRzIiwiYWRkZWRCYXRjaElkcyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TGFzdFJlbW90ZVNuYXBzaG90VmVyc2lvbiIsIl9fUFJJVkFURV9wb3B1bGF0ZURvY3VtZW50Q2hhbmdlQnVmZmVyIiwiY3MiLCJscyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0TmV4dE11dGF0aW9uQmF0Y2giLCJfX1BSSVZBVEVfbG9jYWxTdG9yZUFsbG9jYXRlVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVSZWxlYXNlVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVFeGVjdXRlUXVlcnkiLCJfX1BSSVZBVEVfc2V0TWF4UmVhZFRpbWUiLCJocyIsIl9fUFJJVkFURV9sb2NhbFN0b3JlR2V0Q2FjaGVkVGFyZ2V0IiwiX19QUklWQVRFX2xvY2FsU3RvcmVHZXROZXdEb2N1bWVudENoYW5nZXMiLCJfX1BSSVZBVEVfbG9jYWxTdG9yZVNhdmVOYW1lZFF1ZXJ5IiwiY3JlYXRlV2ViU3RvcmFnZUNsaWVudFN0YXRlS2V5IiwiY3JlYXRlV2ViU3RvcmFnZU11dGF0aW9uQmF0Y2hLZXkiLCJjcmVhdGVXZWJTdG9yYWdlUXVlcnlUYXJnZXRNZXRhZGF0YUtleSIsIl9fUFJJVkFURV9NdXRhdGlvbk1ldGFkYXRhIiwiRXMiLCJwYXJzZSIsImRzIiwiX19QUklWQVRFX1F1ZXJ5VGFyZ2V0TWV0YWRhdGEiLCJfX1BSSVZBVEVfUmVtb3RlQ2xpZW50U3RhdGUiLCJhY3RpdmVUYXJnZXRJZHMiLCJfX1BSSVZBVEVfU2hhcmVkT25saW5lU3RhdGUiLCJvbmxpbmVTdGF0ZSIsIl9fUFJJVkFURV9Mb2NhbENsaWVudFN0YXRlIiwiQXMiLCJScyIsIl9fUFJJVkFURV9XZWJTdG9yYWdlU2hhcmVkQ2xpZW50U3RhdGUiLCJWcyIsInN5bmNFbmdpbmUiLCJvbmxpbmVTdGF0ZUhhbmRsZXIiLCJmcyIsImdzIiwiYmluZCIsInBzIiwieXMiLCJzdG9yYWdlIiwid3MiLCJTcyIsImJzIiwiRHMiLCJDcyIsInZzIiwiRnMiLCJNcyIsInhzIiwiT3MiLCJnZXRBbGxBY3RpdmVRdWVyeVRhcmdldHMiLCJOcyIsImlzQWN0aXZlUXVlcnlUYXJnZXQiLCJhZGRQZW5kaW5nTXV0YXRpb24iLCJMcyIsInVwZGF0ZU11dGF0aW9uU3RhdGUiLCJCcyIsImFkZExvY2FsUXVlcnlUYXJnZXQiLCJrcyIsInJlbW92ZUxvY2FsUXVlcnlUYXJnZXQiLCJpc0xvY2FsUXVlcnlUYXJnZXQiLCJjbGVhclF1ZXJ5U3RhdGUiLCJ1cGRhdGVRdWVyeVN0YXRlIiwicXMiLCJoYW5kbGVVc2VyQ2hhbmdlIiwic2V0T25saW5lU3RhdGUiLCJRcyIsIm5vdGlmeUJ1bmRsZUxvYWRlZCIsIktzIiwic3RvcmFnZUFyZWEiLCJuZXdWYWx1ZSIsIiRzIiwiVXMiLCJXcyIsIkdzIiwienMiLCJqcyIsIkhzIiwiSnMiLCJZcyIsIlpzIiwiWHMiLCJlbyIsIl9fUFJJVkFURV9NZW1vcnlTaGFyZWRDbGllbnRTdGF0ZSIsIm5vIiwicm8iLCJfX1BSSVZBVEVfTm9vcENvbm5lY3Rpdml0eU1vbml0b3IiLCJpbyIsIl9fUFJJVkFURV9Ccm93c2VyQ29ubmVjdGl2aXR5TW9uaXRvciIsInNvIiwib28iLCJfbyIsImFvIiwidW8iLCJjbyIsIl9fUFJJVkFURV9nZW5lcmF0ZVVuaXF1ZURlYnVnSWQiLCJyb3VuZCIsIkJhdGNoR2V0RG9jdW1lbnRzIiwiQ29tbWl0IiwiUnVuUXVlcnkiLCJSdW5BZ2dyZWdhdGlvblF1ZXJ5IiwiX19QUklWQVRFX1N0cmVhbUJyaWRnZSIsImxvIiwiaG8iLCJQbyIsIklvIiwiVG8iLCJFbyIsIkFvIiwiUm8iLCJvbk1lc3NhZ2UiLCJWbyIsInNlbmQiLCJtbyIsImZvIiwicG8iLCJ5byIsIl9fUFJJVkFURV9XZWJDaGFubmVsQ29ubmVjdGlvbiIsImRhdGFiYXNlSW5mbyIsIndvIiwiU28iLCJibyIsIkRvIiwiQ28iLCJ2byIsIkZvIiwiTW8iLCJ4byIsInRlcm1pbmF0ZSIsIlhocklvIiwic2V0V2l0aENyZWRlbnRpYWxzIiwibGlzdGVuT25jZSIsIkV2ZW50VHlwZSIsIkNPTVBMRVRFIiwiZ2V0TGFzdEVycm9yQ29kZSIsIkVycm9yQ29kZSIsIk5PX0VSUk9SIiwiZ2V0UmVzcG9uc2VKc29uIiwiVElNRU9VVCIsIkhUVFBfRVJST1IiLCJnZXRTdGF0dXMiLCJnZXRSZXNwb25zZVRleHQiLCJzdGF0dXMiLCJPbyIsImNyZWF0ZVdlYkNoYW5uZWxUcmFuc3BvcnQiLCJnZXRTdGF0RXZlbnRUYXJnZXQiLCJodHRwU2Vzc2lvbklkUGFyYW0iLCJpbml0TWVzc2FnZUhlYWRlcnMiLCJtZXNzYWdlVXJsUGFyYW1zIiwic2VuZFJhd0pzb24iLCJzdXBwb3J0c0Nyb3NzRG9tYWluWGhyIiwiaW50ZXJuYWxDaGFubmVsUGFyYW1zIiwiZm9yd2FyZENoYW5uZWxSZXF1ZXN0VGltZW91dE1zIiwiZGV0ZWN0QnVmZmVyaW5nUHJveHkiLCJ0aW1lb3V0U2Vjb25kcyIsImxvbmdQb2xsaW5nVGltZW91dCIsInhtbEh0dHBGYWN0b3J5IiwiRmV0Y2hYbWxIdHRwRmFjdG9yeSIsImVuY29kZUluaXRNZXNzYWdlSGVhZGVycyIsImNyZWF0ZVdlYkNoYW5uZWwiLCJfX1BSSVZBVEVfdW5ndWFyZGVkRXZlbnRMaXN0ZW4iLCJsaXN0ZW4iLCJXZWJDaGFubmVsIiwiT1BFTiIsIkNMT1NFIiwiTUVTU0FHRSIsIkV2ZW50IiwiU1RBVF9FVkVOVCIsInN0YXQiLCJTdGF0IiwiUFJPWFkiLCJOT1BST1hZIiwiX19QUklWQVRFX2dldFdpbmRvdyIsIl9fUFJJVkFURV9uZXdTZXJpYWxpemVyIiwiX19QUklWQVRFX0V4cG9uZW50aWFsQmFja29mZiIsInRpbWVySWQiLCJObyIsIkxvIiwiQm8iLCJrbyIsInFvIiwiUW8iLCJLbyIsIiRvIiwiVW8iLCJXbyIsInNraXBEZWxheSIsIl9fUFJJVkFURV9QZXJzaXN0ZW50U3RyZWFtIiwiR28iLCJ6byIsImNvbm5lY3Rpb24iLCJhdXRoQ3JlZGVudGlhbHNQcm92aWRlciIsImFwcENoZWNrQ3JlZGVudGlhbHNQcm92aWRlciIsImxpc3RlbmVyIiwiam8iLCJIbyIsIkpvIiwic3RyZWFtIiwiWW8iLCJabyIsIlhvIiwiZV8iLCJ0XyIsIm5fIiwicl8iLCJpXyIsInNfIiwib18iLCJfXyIsImFfIiwidV8iLCJjXyIsImxfIiwiX19QUklWQVRFX1BlcnNpc3RlbnRMaXN0ZW5TdHJlYW0iLCJ0YXJnZXRDaGFuZ2UiLCJ0YXJnZXRDaGFuZ2VUeXBlIiwiQnVmZmVyIiwiZG9jdW1lbnRDaGFuZ2UiLCJkb2N1bWVudERlbGV0ZSIsImRvY3VtZW50UmVtb3ZlIiwiX19QUklWQVRFX2Zyb21XYXRjaENoYW5nZSIsImhfIiwiUF8iLCJhZGRUYXJnZXQiLCJfX1BSSVZBVEVfdG9MaXN0ZW5SZXF1ZXN0TGFiZWxzIiwibGFiZWxzIiwiSV8iLCJfX1BSSVZBVEVfUGVyc2lzdGVudFdyaXRlU3RyZWFtIiwiVF8iLCJFXyIsImRfIiwic3RyZWFtVG9rZW4iLCJfX1BSSVZBVEVfZnJvbVdyaXRlUmVzdWx0cyIsIndyaXRlUmVzdWx0cyIsImNvbW1pdFRpbWUiLCJBXyIsIlJfIiwiVl8iLCJ3cml0ZXMiLCJfX1BSSVZBVEVfRGF0YXN0b3JlSW1wbCIsImF1dGhDcmVkZW50aWFscyIsImFwcENoZWNrQ3JlZGVudGlhbHMiLCJtXyIsImZfIiwiX19QUklWQVRFX09ubGluZVN0YXRlVHJhY2tlciIsImdfIiwicF8iLCJ5XyIsIndfIiwiU18iLCJiXyIsIkRfIiwiQ18iLCJfX1BSSVZBVEVfUmVtb3RlU3RvcmVJbXBsIiwiZGF0YXN0b3JlIiwicmVtb3RlU3luY2VyIiwidl8iLCJGXyIsIk1fIiwieF8iLCJPXyIsIl9fUFJJVkFURV9jYW5Vc2VOZXR3b3JrIiwiX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrSW50ZXJuYWwiLCJOXyIsIl9fUFJJVkFURV9lbmFibGVOZXR3b3JrSW50ZXJuYWwiLCJfX1BSSVZBVEVfcmVtb3RlU3RvcmVMaXN0ZW4iLCJfX1BSSVZBVEVfc2hvdWxkU3RhcnRXYXRjaFN0cmVhbSIsIl9fUFJJVkFURV9zdGFydFdhdGNoU3RyZWFtIiwiX19QUklWQVRFX2Vuc3VyZVdhdGNoU3RyZWFtIiwiX19QUklWQVRFX3NlbmRXYXRjaFJlcXVlc3QiLCJfX1BSSVZBVEVfcmVtb3RlU3RvcmVVbmxpc3RlbiIsIl9fUFJJVkFURV9zZW5kVW53YXRjaFJlcXVlc3QiLCJMXyIsIl9fUFJJVkFURV9jbGVhblVwV2F0Y2hTdHJlYW1TdGF0ZSIsIl9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ29ubmVjdGVkIiwiX19QUklWQVRFX29uV2F0Y2hTdHJlYW1PcGVuIiwiX19QUklWQVRFX29uV2F0Y2hTdHJlYW1DbG9zZSIsIl9fUFJJVkFURV9vbldhdGNoU3RyZWFtQ2hhbmdlIiwicmVqZWN0TGlzdGVuIiwiX19QUklWQVRFX2Rpc2FibGVOZXR3b3JrVW50aWxSZWNvdmVyeSIsImFwcGx5UmVtb3RlRXZlbnQiLCJfX1BSSVZBVEVfZXhlY3V0ZVdpdGhSZWNvdmVyeSIsIl9fUFJJVkFURV9maWxsV3JpdGVQaXBlbGluZSIsIl9fUFJJVkFURV9lbnN1cmVXcml0ZVN0cmVhbSIsIl9fUFJJVkFURV9jYW5BZGRUb1dyaXRlUGlwZWxpbmUiLCJfX1BSSVZBVEVfYWRkVG9Xcml0ZVBpcGVsaW5lIiwiX19QUklWQVRFX3Nob3VsZFN0YXJ0V3JpdGVTdHJlYW0iLCJfX1BSSVZBVEVfc3RhcnRXcml0ZVN0cmVhbSIsIl9fUFJJVkFURV9vbldyaXRlU3RyZWFtT3BlbiIsIl9fUFJJVkFURV9vbldyaXRlSGFuZHNoYWtlQ29tcGxldGUiLCJfX1BSSVZBVEVfb25NdXRhdGlvblJlc3VsdCIsImFwcGx5U3VjY2Vzc2Z1bFdyaXRlIiwiX19QUklWQVRFX29uV3JpdGVTdHJlYW1DbG9zZSIsInJlamVjdEZhaWxlZFdyaXRlIiwiX19QUklWQVRFX3JlbW90ZVN0b3JlSGFuZGxlQ3JlZGVudGlhbENoYW5nZSIsInZlcmlmeU9wZXJhdGlvbkluUHJvZ3Jlc3MiLCJoYW5kbGVDcmVkZW50aWFsQ2hhbmdlIiwiX19QUklWQVRFX3JlbW90ZVN0b3JlQXBwbHlQcmltYXJ5U3RhdGUiLCJCXyIsImtfIiwiRGVsYXllZE9wZXJhdGlvbiIsInRhcmdldFRpbWVNcyIsInJlbW92YWxDYWxsYmFjayIsImNyZWF0ZUFuZFNjaGVkdWxlIiwidGltZXJIYW5kbGUiLCJoYW5kbGVEZWxheUVsYXBzZWQiLCJjbGVhclRpbWVvdXQiLCJfX1BSSVZBVEVfd3JhcEluVXNlckVycm9ySWZSZWNvdmVyYWJsZSIsIkRvY3VtZW50U2V0Iiwia2V5ZWRNYXAiLCJzb3J0ZWRTZXQiLCJlbXB0eVNldCIsIl9fUFJJVkFURV9Eb2N1bWVudENoYW5nZVNldCIsInFfIiwidHJhY2siLCJRXyIsIlZpZXdTbmFwc2hvdCIsIm9sZERvY3MiLCJtdXRhdGVkS2V5cyIsInN5bmNTdGF0ZUNoYW5nZWQiLCJleGNsdWRlc01ldGFkYXRhQ2hhbmdlcyIsImhhc0NhY2hlZFJlc3VsdHMiLCJmcm9tSW5pdGlhbERvY3VtZW50cyIsIl9fUFJJVkFURV9RdWVyeUxpc3RlbmVyc0luZm8iLCJLXyIsIlVfIiwiV18iLCJHXyIsIl9fUFJJVkFURV9FdmVudE1hbmFnZXJJbXBsIiwicXVlcmllcyIsInpfIiwiX19QUklWQVRFX2V2ZW50TWFuYWdlckxpc3RlbiIsIm9uTGlzdGVuIiwib25GaXJzdFJlbW90ZVN0b3JlTGlzdGVuIiwib25FcnJvciIsImpfIiwiSF8iLCJfX1BSSVZBVEVfcmFpc2VTbmFwc2hvdHNJblN5bmNFdmVudCIsIl9fUFJJVkFURV9ldmVudE1hbmFnZXJVbmxpc3RlbiIsIm9uVW5saXN0ZW4iLCJvbkxhc3RSZW1vdGVTdG9yZVVubGlzdGVuIiwiX19QUklWQVRFX2V2ZW50TWFuYWdlck9uV2F0Y2hDaGFuZ2UiLCJfX1BSSVZBVEVfZXZlbnRNYW5hZ2VyT25XYXRjaEVycm9yIiwiSl8iLCJDYWNoZSIsIl9fUFJJVkFURV9RdWVyeUxpc3RlbmVyIiwiWV8iLCJaXyIsIlhfIiwiaW5jbHVkZU1ldGFkYXRhQ2hhbmdlcyIsImVhIiwidGEiLCJuYSIsInJhIiwic291cmNlIiwiX19QUklWQVRFX1NpemVkQnVuZGxlRWxlbWVudCIsImlhIiwiYnl0ZUxlbmd0aCIsInNhIiwiX19QUklWQVRFX0J1bmRsZUNvbnZlcnRlckltcGwiLCJQcyIsIklzIiwibWV0YWRhdGEiLCJUcyIsIl9fUFJJVkFURV9CdW5kbGVMb2FkZXIiLCJvYSIsImNvbGxlY3Rpb25Hcm91cHMiLCJwcm9ncmVzcyIsIl9fUFJJVkFURV9idW5kbGVJbml0aWFsUHJvZ3Jlc3MiLCJieXRlc0xvYWRlZCIsImRvY3VtZW50c0xvYWRlZCIsIm5hbWVkUXVlcnkiLCJkb2N1bWVudE1ldGFkYXRhIiwiYWEiLCJjb21wbGV0ZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlQXBwbHlCdW5kbGVkRG9jdW1lbnRzIiwidGFza1N0YXRlIiwidWEiLCJjYSIsInRvdGFsRG9jdW1lbnRzIiwidG90YWxCeXRlcyIsIl9fUFJJVkFURV9BZGRlZExpbWJvRG9jdW1lbnQiLCJfX1BSSVZBVEVfUmVtb3ZlZExpbWJvRG9jdW1lbnQiLCJfX1BSSVZBVEVfVmlldyIsImxhIiwiaGEiLCJQYSIsIklhIiwiVGEiLCJFYSIsImRhIiwiQWEiLCJSYSIsIm9yZGVyIiwiVmEiLCJtYSIsImZhIiwiZ2EiLCJwYSIsInlhIiwiX19QUklWQVRFX1F1ZXJ5VmlldyIsInZpZXciLCJMaW1ib1Jlc29sdXRpb24iLCJ3YSIsIl9fUFJJVkFURV9TeW5jRW5naW5lSW1wbCIsInJlbW90ZVN0b3JlIiwiZXZlbnRNYW5hZ2VyIiwic2hhcmVkQ2xpZW50U3RhdGUiLCJtYXhDb25jdXJyZW50TGltYm9SZXNvbHV0aW9ucyIsIlNhIiwiYmEiLCJEYSIsIkNhIiwidmEiLCJGYSIsIk1hIiwieGEiLCJPYSIsIk5hIiwiTGEiLCJpc1ByaW1hcnlDbGllbnQiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUxpc3RlbiIsIl9fUFJJVkFURV9lbnN1cmVXYXRjaENhbGxiYWNrcyIsIl9fUFJJVkFURV9hbGxvY2F0ZVRhcmdldEFuZE1heWJlTGlzdGVuIiwiX19QUklWQVRFX3RyaWdnZXJSZW1vdGVTdG9yZUxpc3RlbiIsIl9fUFJJVkFURV9pbml0aWFsaXplVmlld0FuZENvbXB1dGVTbmFwc2hvdCIsIkJhIiwiX19QUklWQVRFX3VwZGF0ZVRyYWNrZWRMaW1ib3MiLCJfX1BSSVZBVEVfc3luY0VuZ2luZVVubGlzdGVuIiwiX19QUklWQVRFX3JlbW92ZUFuZENsZWFudXBUYXJnZXQiLCJfX1BSSVZBVEVfdHJpZ2dlclJlbW90ZVN0b3JlVW5saXN0ZW4iLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UmVtb3RlRXZlbnQiLCJfX1BSSVZBVEVfbG9jYWxTdG9yZUFwcGx5UmVtb3RlRXZlbnRUb0xvY2FsQ2FjaGUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUVtaXROZXdTbmFwc0FuZE5vdGlmeUxvY2FsU3RvcmUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5T25saW5lU3RhdGVDaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZVJlamVjdExpc3RlbiIsIl9fUFJJVkFURV9wdW1wRW5xdWV1ZWRMaW1ib1Jlc29sdXRpb25zIiwiX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseVN1Y2Nlc3NmdWxXcml0ZSIsIl9fUFJJVkFURV9sb2NhbFN0b3JlQWNrbm93bGVkZ2VCYXRjaCIsIl9fUFJJVkFURV9wcm9jZXNzVXNlckNhbGxiYWNrIiwiX19QUklWQVRFX3RyaWdnZXJQZW5kaW5nV3JpdGVzQ2FsbGJhY2tzIiwiX19QUklWQVRFX3N5bmNFbmdpbmVSZWplY3RGYWlsZWRXcml0ZSIsImthIiwiX19QUklWQVRFX3JlbW92ZUxpbWJvVGFyZ2V0IiwiX19QUklWQVRFX3RyYWNrTGltYm9DaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUhhbmRsZUNyZWRlbnRpYWxDaGFuZ2UiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUdldFJlbW90ZUtleXNGb3JUYXJnZXQiLCJfX1BSSVZBVEVfc3luY2hyb25pemVWaWV3QW5kQ29tcHV0ZVNuYXBzaG90IiwiX19QUklWQVRFX3N5bmNFbmdpbmVTeW5jaHJvbml6ZVdpdGhDaGFuZ2VkRG9jdW1lbnRzIiwiX19QUklWQVRFX3N5bmNFbmdpbmVBcHBseUJhdGNoU3RhdGUiLCJfX1BSSVZBVEVfc3luY2hyb25pemVRdWVyeVZpZXdzQW5kUmFpc2VTbmFwc2hvdHMiLCJfX1BSSVZBVEVfc3ludGhlc2l6ZVRhcmdldFRvUXVlcnkiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUdldEFjdGl2ZUNsaWVudHMiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5VGFyZ2V0U3RhdGUiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5QWN0aXZlVGFyZ2V0c0NoYW5nZSIsIl9fUFJJVkFURV9zeW5jRW5naW5lRW5zdXJlV3JpdGVDYWxsYmFja3MiLCJNZW1vcnlPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIiLCJzeW5jaHJvbml6ZVRhYnMiLCJjcmVhdGVTaGFyZWRDbGllbnRTdGF0ZSIsImNyZWF0ZVBlcnNpc3RlbmNlIiwiY3JlYXRlTG9jYWxTdG9yZSIsImdjU2NoZWR1bGVyIiwiY3JlYXRlR2FyYmFnZUNvbGxlY3Rpb25TY2hlZHVsZXIiLCJpbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIiLCJjcmVhdGVJbmRleEJhY2tmaWxsZXJTY2hlZHVsZXIiLCJpbml0aWFsVXNlciIsIl9fUFJJVkFURV9McnVHY01lbW9yeU9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsImNhY2hlU2l6ZUJ5dGVzIiwiX19QUklWQVRFX0luZGV4ZWREYk9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsIlFhIiwiZm9yY2VPd25lcnNoaXAiLCJfX1BSSVZBVEVfTXVsdGlUYWJPZmZsaW5lQ29tcG9uZW50UHJvdmlkZXIiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUFwcGx5UHJpbWFyeVN0YXRlIiwiT25saW5lQ29tcG9uZW50UHJvdmlkZXIiLCJjcmVhdGVEYXRhc3RvcmUiLCJjcmVhdGVSZW1vdGVTdG9yZSIsImNyZWF0ZUV2ZW50TWFuYWdlciIsImNyZWF0ZVN5bmNFbmdpbmUiLCJfX1BSSVZBVEVfdG9CeXRlU3RyZWFtUmVhZGVySGVscGVyIiwicmVsZWFzZUxvY2siLCJjbG9zZWQiLCJfX1BSSVZBVEVfQXN5bmNPYnNlcnZlciIsIm9ic2VydmVyIiwibXV0ZWQiLCJLYSIsIiRhIiwiX19QUklWQVRFX0J1bmRsZVJlYWRlckltcGwiLCJVYSIsIldhIiwiVGV4dERlY29kZXIiLCJHYSIsInFhIiwiemEiLCJkZWNvZGUiLCJqYSIsIkhhIiwiSmEiLCJmaW5kSW5kZXgiLCJZYSIsIlRyYW5zYWN0aW9uJDIiLCJyZWFkVmVyc2lvbnMiLCJjb21taXR0ZWQiLCJsYXN0VHJhbnNhY3Rpb25FcnJvciIsIndyaXR0ZW5Eb2NzIiwibG9va3VwIiwiZW5zdXJlQ29tbWl0Tm90Q2FsbGVkIiwiZm91bmQiLCJtaXNzaW5nIiwiX19QUklWQVRFX2Zyb21CYXRjaEdldERvY3VtZW50c1Jlc3BvbnNlIiwicmVjb3JkVmVyc2lvbiIsIndyaXRlIiwicHJlY29uZGl0aW9uRm9yVXBkYXRlIiwiX19QUklWQVRFX1RyYW5zYWN0aW9uUnVubmVyIiwidXBkYXRlRnVuY3Rpb24iLCJaYSIsIm1heEF0dGVtcHRzIiwiWGEiLCJldSIsInR1IiwibnUiLCJydSIsIkZpcmVzdG9yZUNsaWVudCIsImF1dGhDcmVkZW50aWFsTGlzdGVuZXIiLCJhcHBDaGVja0NyZWRlbnRpYWxMaXN0ZW5lciIsImNvbmZpZ3VyYXRpb24iLCJzZXRDcmVkZW50aWFsQ2hhbmdlTGlzdGVuZXIiLCJzZXRBcHBDaGVja1Rva2VuQ2hhbmdlTGlzdGVuZXIiLCJ2ZXJpZnlOb3RUZXJtaW5hdGVkIiwiaXNTaHV0dGluZ0Rvd24iLCJlbnF1ZXVlQW5kRm9yZ2V0RXZlbldoaWxlUmVzdHJpY3RlZCIsIl9vbmxpbmVDb21wb25lbnRzIiwiX29mZmxpbmVDb21wb25lbnRzIiwiX19QUklWQVRFX3NldE9mZmxpbmVDb21wb25lbnRQcm92aWRlciIsIl9fUFJJVkFURV9zZXRPbmxpbmVDb21wb25lbnRQcm92aWRlciIsIl9fUFJJVkFURV9lbnN1cmVPZmZsaW5lQ29tcG9uZW50cyIsIl9fUFJJVkFURV9jYW5GYWxsYmFja0Zyb21JbmRleGVkRGJFcnJvciIsIl91bmluaXRpYWxpemVkQ29tcG9uZW50c1Byb3ZpZGVyIiwiX29mZmxpbmUiLCJfX1BSSVZBVEVfZW5zdXJlT25saW5lQ29tcG9uZW50cyIsIl9vbmxpbmUiLCJfX1BSSVZBVEVfZ2V0UGVyc2lzdGVuY2UiLCJfX1BSSVZBVEVfZ2V0TG9jYWxTdG9yZSIsIl9fUFJJVkFURV9nZXRSZW1vdGVTdG9yZSIsIl9fUFJJVkFURV9nZXRTeW5jRW5naW5lIiwiX19QUklWQVRFX2dldERhdGFzdG9yZSIsIl9fUFJJVkFURV9nZXRFdmVudE1hbmFnZXIiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50R2V0RG9jdW1lbnRWaWFTbmFwc2hvdExpc3RlbmVyIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c1ZpYVNuYXBzaG90TGlzdGVuZXIiLCJfX1BSSVZBVEVfY2xvbmVMb25nUG9sbGluZ09wdGlvbnMiLCJfX1BSSVZBVEVfdmFsaWRhdGVOb25FbXB0eUFyZ3VtZW50IiwiX19QUklWQVRFX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIiLCJfX1BSSVZBVEVfdmFsaWRhdGVEb2N1bWVudFBhdGgiLCJfX1BSSVZBVEVfdmFsaWRhdGVDb2xsZWN0aW9uUGF0aCIsIl9fUFJJVkFURV92YWx1ZURlc2NyaXB0aW9uIiwiX19QUklWQVRFX2Nhc3QiLCJfZGVsZWdhdGUiLCJfX1BSSVZBVEVfdmFsaWRhdGVQb3NpdGl2ZU51bWJlciIsIkZpcmVzdG9yZVNldHRpbmdzSW1wbCIsImNyZWRlbnRpYWxzIiwiaWdub3JlVW5kZWZpbmVkUHJvcGVydGllcyIsImxvY2FsQ2FjaGUiLCJleHBlcmltZW50YWxGb3JjZUxvbmdQb2xsaW5nIiwiZXhwZXJpbWVudGFsQXV0b0RldGVjdExvbmdQb2xsaW5nIiwiZXhwZXJpbWVudGFsTG9uZ1BvbGxpbmdPcHRpb25zIiwiRmlyZXN0b3JlJDEiLCJfYXV0aENyZWRlbnRpYWxzIiwiX2FwcENoZWNrQ3JlZGVudGlhbHMiLCJfZGF0YWJhc2VJZCIsIl9hcHAiLCJfcGVyc2lzdGVuY2VLZXkiLCJfc2V0dGluZ3MiLCJfc2V0dGluZ3NGcm96ZW4iLCJfaW5pdGlhbGl6ZWQiLCJfdGVybWluYXRlZCIsIl90ZXJtaW5hdGVUYXNrIiwiX3NldFNldHRpbmdzIiwic2Vzc2lvbkluZGV4IiwiaWFtVG9rZW4iLCJhdXRoVG9rZW5GYWN0b3J5IiwiY2xpZW50IiwiX2dldFNldHRpbmdzIiwiX2ZyZWV6ZVNldHRpbmdzIiwiX3Rlcm1pbmF0ZSIsImNvbm5lY3RGaXJlc3RvcmVFbXVsYXRvciIsIm1vY2tVc2VyVG9rZW4iLCJjcmVhdGVNb2NrVXNlclRva2VuIiwic3ViIiwidXNlcl9pZCIsIlF1ZXJ5IiwiY29udmVydGVyIiwiX3F1ZXJ5IiwiZmlyZXN0b3JlIiwid2l0aENvbnZlcnRlciIsIkRvY3VtZW50UmVmZXJlbmNlIiwiX2tleSIsIl9wYXRoIiwiQ29sbGVjdGlvblJlZmVyZW5jZSIsImdldE1vZHVsYXJJbnN0YW5jZSIsInF1ZXJ5RXF1YWwiLCJfX1BSSVZBVEVfQXN5bmNRdWV1ZUltcGwiLCJpdSIsInN1Iiwib3UiLCJfdSIsImF1IiwidXUiLCJjdSIsImx1IiwiaHUiLCJlbnF1ZXVlIiwiUHUiLCJJdSIsIlR1Iiwic3RhY2siLCJpbmNsdWRlcyIsIkV1IiwiZHUiLCJBdSIsIlJ1IiwiVnUiLCJfX1BSSVZBVEVfaXNQYXJ0aWFsT2JzZXJ2ZXIiLCJMb2FkQnVuZGxlVGFzayIsIl9wcm9ncmVzc09ic2VydmVyIiwiX3Rhc2tDb21wbGV0aW9uUmVzb2x2ZXIiLCJfbGFzdFByb2dyZXNzIiwib25Qcm9ncmVzcyIsIl9jb21wbGV0ZVdpdGgiLCJfdXBkYXRlUHJvZ3Jlc3MiLCJfZmFpbFdpdGgiLCJGaXJlc3RvcmUiLCJfcXVldWUiLCJfZmlyZXN0b3JlQ2xpZW50IiwiX19QUklWQVRFX2NvbmZpZ3VyZUZpcmVzdG9yZSIsImVuc3VyZUZpcmVzdG9yZUNvbmZpZ3VyZWQiLCJfb2ZmbGluZUNvbXBvbmVudFByb3ZpZGVyIiwiX29ubGluZUNvbXBvbmVudFByb3ZpZGVyIiwiX29mZmxpbmVLaW5kIiwiX19QUklWQVRFX3NldFBlcnNpc3RlbmNlUHJvdmlkZXJzIiwiX19QUklWQVRFX3ZlcmlmeU5vdEluaXRpYWxpemVkIiwiQWdncmVnYXRlRmllbGQiLCJfaW50ZXJuYWxGaWVsZFBhdGgiLCJBZ2dyZWdhdGVRdWVyeVNuYXBzaG90IiwiX3VzZXJEYXRhV3JpdGVyIiwiX2RhdGEiLCJjb252ZXJ0T2JqZWN0TWFwIiwiQnl0ZXMiLCJfYnl0ZVN0cmluZyIsIkZpZWxkUGF0aCIsIl9pbnRlcm5hbFBhdGgiLCJGaWVsZFZhbHVlIiwiX21ldGhvZE5hbWUiLCJHZW9Qb2ludCIsImlzRmluaXRlIiwiX2xhdCIsIl9sb25nIiwiUGFyc2VkU2V0RGF0YSIsIlBhcnNlZFVwZGF0ZURhdGEiLCJfX1BSSVZBVEVfaXNXcml0ZSIsIl9fUFJJVkFURV9QYXJzZUNvbnRleHRJbXBsIiwibXUiLCJmdSIsImd1IiwicHUiLCJ5dSIsInd1IiwiU3UiLCJidSIsIkR1IiwiX19QUklWQVRFX2NyZWF0ZUVycm9yIiwibWV0aG9kTmFtZSIsIkN1IiwidnUiLCJfX1BSSVZBVEVfVXNlckRhdGFSZWFkZXIiLCJGdSIsIl9fUFJJVkFURV9uZXdVc2VyRGF0YVJlYWRlciIsIl9fUFJJVkFURV9wYXJzZVNldERhdGEiLCJtZXJnZSIsIm1lcmdlRmllbGRzIiwiX19QUklWQVRFX3ZhbGlkYXRlUGxhaW5PYmplY3QiLCJfX1BSSVZBVEVfcGFyc2VPYmplY3QiLCJfX1BSSVZBVEVfZmllbGRQYXRoRnJvbUFyZ3VtZW50JDEiLCJfX1BSSVZBVEVfZmllbGRNYXNrQ29udGFpbnMiLCJfX1BSSVZBVEVfRGVsZXRlRmllbGRWYWx1ZUltcGwiLCJfdG9GaWVsZFRyYW5zZm9ybSIsIl9fUFJJVkFURV9jcmVhdGVTZW50aW5lbENoaWxkQ29udGV4dCIsIl9fUFJJVkFURV9TZXJ2ZXJUaW1lc3RhbXBGaWVsZFZhbHVlSW1wbCIsIl9fUFJJVkFURV9BcnJheVVuaW9uRmllbGRWYWx1ZUltcGwiLCJNdSIsIl9fUFJJVkFURV9wYXJzZURhdGEiLCJfX1BSSVZBVEVfQXJyYXlSZW1vdmVGaWVsZFZhbHVlSW1wbCIsIl9fUFJJVkFURV9OdW1lcmljSW5jcmVtZW50RmllbGRWYWx1ZUltcGwiLCJ4dSIsIl9fUFJJVkFURV9wYXJzZVVwZGF0ZURhdGEiLCJfX1BSSVZBVEVfZmllbGRQYXRoRnJvbURvdFNlcGFyYXRlZFN0cmluZyIsIl9fUFJJVkFURV9wYXJzZVVwZGF0ZVZhcmFyZ3MiLCJfX1BSSVZBVEVfcGFyc2VRdWVyeVZhbHVlIiwiX19QUklWQVRFX2xvb2tzTGlrZUpzb25PYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsInNlYXJjaCIsIkRvY3VtZW50U25hcHNob3QkMSIsIl9maXJlc3RvcmUiLCJfZG9jdW1lbnQiLCJfY29udmVydGVyIiwicmVmIiwiUXVlcnlEb2N1bWVudFNuYXBzaG90JDEiLCJmcm9tRmlyZXN0b3JlIiwiY29udmVydFZhbHVlIiwiX19QUklWQVRFX2ZpZWxkUGF0aEZyb21Bcmd1bWVudCIsIl9fUFJJVkFURV92YWxpZGF0ZUhhc0V4cGxpY2l0T3JkZXJCeUZvckxpbWl0VG9MYXN0IiwiQXBwbGlhYmxlQ29uc3RyYWludCIsIlF1ZXJ5Q29uc3RyYWludCIsIlF1ZXJ5RmllbGRGaWx0ZXJDb25zdHJhaW50IiwiX2ZpZWxkIiwiX29wIiwiX3ZhbHVlIiwiX2NyZWF0ZSIsIl9hcHBseSIsIl9wYXJzZSIsIl9fUFJJVkFURV92YWxpZGF0ZU5ld0ZpZWxkRmlsdGVyIiwiX19QUklWQVRFX3ZhbGlkYXRlRGlzanVuY3RpdmVGaWx0ZXJFbGVtZW50cyIsIl9fUFJJVkFURV9wYXJzZURvY3VtZW50SWRWYWx1ZSIsIlF1ZXJ5Q29tcG9zaXRlRmlsdGVyQ29uc3RyYWludCIsIl9xdWVyeUNvbnN0cmFpbnRzIiwiX2dldE9wZXJhdG9yIiwiX2dldFF1ZXJ5Q29uc3RyYWludHMiLCJRdWVyeU9yZGVyQnlDb25zdHJhaW50IiwiX2RpcmVjdGlvbiIsIlF1ZXJ5TGltaXRDb25zdHJhaW50IiwiX2xpbWl0IiwiX2xpbWl0VHlwZSIsIlF1ZXJ5U3RhcnRBdENvbnN0cmFpbnQiLCJfZG9jT3JGaWVsZHMiLCJfaW5jbHVzaXZlIiwiX19QUklWQVRFX25ld1F1ZXJ5Qm91bmRGcm9tRG9jT3JGaWVsZHMiLCJRdWVyeUVuZEF0Q29uc3RyYWludCIsIl9fUFJJVkFURV92YWxpZGF0ZVF1ZXJ5RmlsdGVyQ29uc3RyYWludCIsIkFic3RyYWN0VXNlckRhdGFXcml0ZXIiLCJjb252ZXJ0VGltZXN0YW1wIiwiY29udmVydFNlcnZlclRpbWVzdGFtcCIsImNvbnZlcnRCeXRlcyIsImNvbnZlcnRSZWZlcmVuY2UiLCJjb252ZXJ0R2VvUG9pbnQiLCJjb252ZXJ0QXJyYXkiLCJjb252ZXJ0T2JqZWN0IiwiY29udmVydERvY3VtZW50S2V5IiwiX19QUklWQVRFX2FwcGx5RmlyZXN0b3JlRGF0YUNvbnZlcnRlciIsInRvRmlyZXN0b3JlIiwiX19QUklWQVRFX0xpdGVVc2VyRGF0YVdyaXRlciIsIlNuYXBzaG90TWV0YWRhdGEiLCJEb2N1bWVudFNuYXBzaG90IiwiX2ZpcmVzdG9yZUltcGwiLCJRdWVyeURvY3VtZW50U25hcHNob3QiLCJzZXJ2ZXJUaW1lc3RhbXBzIiwiUXVlcnlTbmFwc2hvdCIsIl9zbmFwc2hvdCIsIl9jYWNoZWRDaGFuZ2VzIiwiX2NhY2hlZENoYW5nZXNJbmNsdWRlTWV0YWRhdGFDaGFuZ2VzIiwib2xkSW5kZXgiLCJuZXdJbmRleCIsIl9fUFJJVkFURV9yZXN1bHRDaGFuZ2VUeXBlIiwiX19QUklWQVRFX0V4cFVzZXJEYXRhV3JpdGVyIiwiZXhlY3V0ZVdyaXRlIiwiX19QUklWQVRFX3N5bmNFbmdpbmVXcml0ZSIsIl9fUFJJVkFURV9jb252ZXJ0VG9Eb2NTbmFwc2hvdCIsImdldEFnZ3JlZ2F0ZUZyb21TZXJ2ZXIiLCJhZ2dyZWdhdGVGaWVsZHMiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50UnVuQWdncmVnYXRlUXVlcnkiLCJfX1BSSVZBVEVfTWVtb3J5TG9jYWxDYWNoZUltcGwiLCJfX1BSSVZBVEVfUGVyc2lzdGVudExvY2FsQ2FjaGVJbXBsIiwidGFiTWFuYWdlciIsIl9pbml0aWFsaXplIiwicGVyc2lzdGVudFNpbmdsZVRhYk1hbmFnZXIiLCJfX1BSSVZBVEVfTWVtb3J5RWFnZXJHYWJhZ2VDb2xsZWN0b3JJbXBsIiwiX19QUklWQVRFX01lbW9yeUxydUdhYmFnZUNvbGxlY3RvckltcGwiLCJfX1BSSVZBVEVfU2luZ2xlVGFiTWFuYWdlckltcGwiLCJfX1BSSVZBVEVfTXVsdGlUYWJNYW5hZ2VySW1wbCIsIldyaXRlQmF0Y2giLCJfY29tbWl0SGFuZGxlciIsIl9tdXRhdGlvbnMiLCJfY29tbWl0dGVkIiwiX2RhdGFSZWFkZXIiLCJfdmVyaWZ5Tm90Q29tbWl0dGVkIiwiX19QUklWQVRFX3ZhbGlkYXRlUmVmZXJlbmNlIiwiVHJhbnNhY3Rpb24iLCJfdHJhbnNhY3Rpb24iLCJfX1BSSVZBVEVfdHJ5R2V0U3RyaW5nIiwiUGVyc2lzdGVudENhY2hlSW5kZXhNYW5hZ2VyIiwiX2NsaWVudCIsIl9fUFJJVkFURV9zZXRQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbkVuYWJsZWQiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50U2V0UGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb25FbmFibGVkIiwiV2Vha01hcCIsIl9fUFJJVkFURV9UZXN0aW5nSG9va3NTcGlJbXBsIiwiT3UiLCJvbkV4aXN0ZW5jZUZpbHRlck1pc21hdGNoIiwiQ0FDSEVfU0laRV9VTkxJTUlURUQiLCJfQXV0b0lkIiwiX0J5dGVTdHJpbmciLCJfRGF0YWJhc2VJZCIsIl9Eb2N1bWVudEtleSIsIl9FbXB0eUFwcENoZWNrVG9rZW5Qcm92aWRlciIsIl9FbXB0eUF1dGhDcmVkZW50aWFsc1Byb3ZpZGVyIiwiX0ZpZWxkUGF0aCIsIl9UZXN0aW5nSG9va3MiLCJfY2FzdCIsIl9kZWJ1Z0Fzc2VydCIsIl9pbnRlcm5hbEFnZ3JlZ2F0aW9uUXVlcnlUb1Byb3RvUnVuQWdncmVnYXRpb25RdWVyeVJlcXVlc3QiLCJfaW50ZXJuYWxRdWVyeVRvUHJvdG9RdWVyeVRhcmdldCIsIl9pc0Jhc2U2NEF2YWlsYWJsZSIsIl9sb2dXYXJuIiwiX3ZhbGlkYXRlSXNOb3RVc2VkVG9nZXRoZXIiLCJhZGREb2MiLCJhZ2dyZWdhdGVGaWVsZEVxdWFsIiwiYWdncmVnYXRlUXVlcnlTbmFwc2hvdEVxdWFsIiwiYXJyYXlSZW1vdmUiLCJhcnJheVVuaW9uIiwiYXZlcmFnZSIsImNsZWFySW5kZXhlZERiUGVyc2lzdGVuY2UiLCJkZWxldGVBbGxQZXJzaXN0ZW50Q2FjaGVJbmRleGVzIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudERlbGV0ZUFsbEZpZWxkSW5kZXhlcyIsImRlbGV0ZURvYyIsImRlbGV0ZUZpZWxkIiwiZGlzYWJsZU5ldHdvcmsiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50RGlzYWJsZU5ldHdvcmsiLCJkaXNhYmxlUGVyc2lzdGVudENhY2hlSW5kZXhBdXRvQ3JlYXRpb24iLCJlbmFibGVJbmRleGVkRGJQZXJzaXN0ZW5jZSIsImVuYWJsZU11bHRpVGFiSW5kZXhlZERiUGVyc2lzdGVuY2UiLCJlbmFibGVOZXR3b3JrIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEVuYWJsZU5ldHdvcmsiLCJlbmFibGVQZXJzaXN0ZW50Q2FjaGVJbmRleEF1dG9DcmVhdGlvbiIsImVuZEJlZm9yZSIsImdldENvdW50RnJvbVNlcnZlciIsImdldERvY0Zyb21DYWNoZSIsIl9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRHZXREb2N1bWVudEZyb21Mb2NhbENhY2hlIiwiZ2V0RG9jRnJvbVNlcnZlciIsImdldERvY3MiLCJnZXREb2NzRnJvbUNhY2hlIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldERvY3VtZW50c0Zyb21Mb2NhbENhY2hlIiwiZ2V0RG9jc0Zyb21TZXJ2ZXIiLCJnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQiLCJnZXRQZXJzaXN0ZW50Q2FjaGVJbmRleE1hbmFnZXIiLCJpbml0aWFsaXplRmlyZXN0b3JlIiwibGltaXRUb0xhc3QiLCJsb2FkQnVuZGxlIiwiUmVhZGFibGVTdHJlYW0iLCJnZXRSZWFkZXIiLCJfX1BSSVZBVEVfc3luY0VuZ2luZUxvYWRCdW5kbGUiLCJfX1BSSVZBVEVfZmlyZXN0b3JlQ2xpZW50TG9hZEJ1bmRsZSIsIm1lbW9yeUVhZ2VyR2FyYmFnZUNvbGxlY3RvciIsIm1lbW9yeUxvY2FsQ2FjaGUiLCJtZW1vcnlMcnVHYXJiYWdlQ29sbGVjdG9yIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudEdldE5hbWVkUXVlcnkiLCJvblNuYXBzaG90c0luU3luYyIsIl9fUFJJVkFURV9maXJlc3RvcmVDbGllbnRBZGRTbmFwc2hvdHNJblN5bmNMaXN0ZW5lciIsInBlcnNpc3RlbnRMb2NhbENhY2hlIiwicGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlciIsInJlZkVxdWFsIiwic2VydmVyVGltZXN0YW1wIiwic2V0SW5kZXhDb25maWd1cmF0aW9uIiwiaW5kZXhlcyIsImFycmF5Q29uZmlnIiwiX19QUklWQVRFX2ZpcmVzdG9yZUNsaWVudFNldEluZGV4Q29uZmlndXJhdGlvbiIsInNuYXBzaG90RXF1YWwiLCJzdGFydEFmdGVyIiwid2FpdEZvclBlbmRpbmdXcml0ZXMiLCJfX1BSSVZBVEVfc3luY0VuZ2luZVJlZ2lzdGVyUGVuZGluZ1dyaXRlc0NhbGxiYWNrIiwid3JpdGVCYXRjaCIsImxldmVsU3RyaW5nVG9FbnVtIiwiVkVSQk9TRSIsIklORk8iLCJTSUxFTlQiLCJkZWZhdWx0TG9nTGV2ZWwiLCJDb25zb2xlTWV0aG9kIiwiZGVmYXVsdExvZ0hhbmRsZXIiLCJsb2dUeXBlIiwiYXJncyIsIm1ldGhvZCIsIl9sb2dMZXZlbCIsIl9sb2dIYW5kbGVyIiwiX3VzZXJMb2dIYW5kbGVyIiwiVHlwZUVycm9yIiwiaW5mbyIsImxldmVsIiwiaW5zdCIsImN1c3RvbUxvZ0xldmVsIiwidXNlckxvZ0hhbmRsZXIiLCJhcmciLCJpZ25vcmVkIiwiaW5zdGFuY2VzXzEiLCJDT05TVEFOVFMiLCJOT0RFX0NMSUVOVCIsIk5PREVfQURNSU4iLCJhc3NlcnQiLCJhc3NlcnRpb24iLCJhc3NlcnRpb25FcnJvciIsInN0cmluZ1RvQnl0ZUFycmF5JDEiLCJzdHIiLCJvdXQiLCJiYXNlNjQiLCJieXRlVG9DaGFyTWFwXyIsImNoYXJUb0J5dGVNYXBfIiwiYnl0ZVRvQ2hhck1hcFdlYlNhZmVfIiwiY2hhclRvQnl0ZU1hcFdlYlNhZmVfIiwiRU5DT0RFRF9WQUxTX0JBU0UiLCJFTkNPREVEX1ZBTFMiLCJFTkNPREVEX1ZBTFNfV0VCU0FGRSIsIkhBU19OQVRJVkVfU1VQUE9SVCIsImVuY29kZUJ5dGVBcnJheSIsImlucHV0Iiwid2ViU2FmZSIsImluaXRfIiwiYnl0ZVRvQ2hhck1hcCIsIm91dHB1dCIsImJ5dGUxIiwiaGF2ZUJ5dGUyIiwiYnl0ZTIiLCJoYXZlQnl0ZTMiLCJieXRlMyIsIm91dEJ5dGUxIiwib3V0Qnl0ZTIiLCJvdXRCeXRlMyIsIm91dEJ5dGU0IiwiZW5jb2RlU3RyaW5nIiwiZGVjb2RlU3RyaW5nIiwiYnl0ZXMiLCJwb3MiLCJjMSIsImMyIiwiYzMiLCJieXRlQXJyYXlUb1N0cmluZyIsImRlY29kZVN0cmluZ1RvQnl0ZUFycmF5IiwiY2hhclRvQnl0ZU1hcCIsImJ5dGU0IiwiRGVjb2RlQmFzZTY0U3RyaW5nRXJyb3IiLCJiYXNlNjRFbmNvZGUiLCJ1dGY4Qnl0ZXMiLCJiYXNlNjREZWNvZGUiLCJkZWVwRXh0ZW5kIiwicHJvcCIsImdldEdsb2JhbCIsImdldERlZmF1bHRzIiwiX19GSVJFQkFTRV9ERUZBVUxUU19fIiwiZGVmYXVsdHNKc29uU3RyaW5nIiwiZ2V0RGVmYXVsdHNGcm9tRW52VmFyaWFibGUiLCJjb29raWUiLCJkZWNvZGVkIiwiZ2V0RGVmYXVsdHNGcm9tQ29va2llIiwiZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdCIsInByb2R1Y3ROYW1lIiwiZW11bGF0b3JIb3N0cyIsIndyYXBDYWxsYmFjayIsImlzTm9kZSIsImZvcmNlRW52aXJvbm1lbnQiLCJXb3JrZXJHbG9iYWxTY29wZSIsImN1c3RvbURhdGEiLCJzZXRQcm90b3R5cGVPZiIsImNhcHR1cmVTdGFja1RyYWNlIiwic2VydmljZU5hbWUiLCJlcnJvcnMiLCJmdWxsQ29kZSIsInRlbXBsYXRlIiwiUEFUVEVSTiIsInJlcGxhY2VUZW1wbGF0ZSIsImZ1bGxNZXNzYWdlIiwianNvbkV2YWwiLCJoZWFkZXIiLCJjbGFpbXMiLCJzaWduYXR1cmUiLCJwYXJ0cyIsImlzT2JqZWN0IiwidGhpbmciLCJPYnNlcnZlclByb3h5IiwiZXhlY3V0b3IiLCJvbk5vT2JzZXJ2ZXJzIiwib2JzZXJ2ZXJzIiwidW5zdWJzY3JpYmVzIiwib2JzZXJ2ZXJDb3VudCIsImZpbmFsaXplZCIsImZvckVhY2hPYnNlcnZlciIsInN1YnNjcmliZSIsIm5leHRPck9ic2VydmVyIiwibWV0aG9kcyIsImltcGxlbWVudHNBbnlNZXRob2RzIiwibm9vcCIsInVuc3ViIiwidW5zdWJzY3JpYmVPbmUiLCJmaW5hbEVycm9yIiwic2VuZE9uZSIsImVyciIsImVycm9yUHJlZml4IiwiZm5OYW1lIiwiYXJnTmFtZSIsIk1BWF9WQUxVRV9NSUxMSVMiLCJSQU5ET01fRkFDVE9SIiwiU2hhMSIsImNoYWluXyIsImJ1Zl8iLCJwYWRfIiwiaW5idWZfIiwidG90YWxfIiwiYmxvY2tTaXplIiwiY29tcHJlc3NfIiwiYnVmIiwiZiIsImQiLCJsZW5ndGhNaW51c0Jsb2NrIiwiaW5idWYiLCJ0b3RhbEJpdHMiLCJhcmVDb29raWVzRW5hYmxlZCIsImNvb2tpZUVuYWJsZWQiLCJjYWxjdWxhdGVCYWNrb2ZmTWlsbGlzIiwiYmFja29mZkNvdW50IiwiaW50ZXJ2YWxNaWxsaXMiLCJiYWNrb2ZmRmFjdG9yIiwiY3VyckJhc2VWYWx1ZSIsInJhbmRvbVdhaXQiLCJwcm9qZWN0IiwiaWF0IiwicGF5bG9hZCIsImlzcyIsImF1ZCIsImV4cCIsImF1dGhfdGltZSIsImZpcmViYXNlIiwic2lnbl9pbl9wcm92aWRlciIsImlkZW50aXRpZXMiLCJhbGciLCJjcmVhdGVTdWJzY3JpYmUiLCJwcm94eSIsImRlZXBDb3B5IiwiYUtleXMiLCJiS2V5cyIsImFQcm9wIiwiYlByb3AiLCJleHRyYWN0UXVlcnlzdHJpbmciLCJ1cmwiLCJxdWVyeVN0YXJ0IiwiZnJhZ21lbnRTdGFydCIsInNlcGFyYXRvckluZGV4IiwibGFzdEluZGV4T2YiLCJwb3J0IiwicGFyc2VJbnQiLCJnZXRFeHBlcmltZW50YWxTZXR0aW5nIiwiaXNBZG1pbiIsImlzQnJvd3NlckV4dGVuc2lvbiIsInJ1bnRpbWUiLCJjaHJvbWUiLCJicm93c2VyIiwiaXNFbGVjdHJvbiIsImlzSUUiLCJpc01vYmlsZUNvcmRvdmEiLCJpc05vZGVTZGsiLCJpc1JlYWN0TmF0aXZlIiwiaXNVV1AiLCJpc1ZhbGlkRm9ybWF0IiwiaXNWYWxpZFRpbWVzdGFtcCIsInZhbGlkU2luY2UiLCJ2YWxpZFVudGlsIiwiaXNzdWVkQXRUaW1lIiwiY29udGV4dE9iaiIsInJlcyIsIm9yZGluYWwiLCJjZW50IiwiYWJzIiwiZGVjIiwiaW5kaWNhdG9yIiwicHJvbWlzZVdpdGhUaW1lb3V0IiwidGltZUluTVMiLCJkZWZlcnJlZFByb21pc2UiLCJxdWVyeXN0cmluZyIsInF1ZXJ5c3RyaW5nUGFyYW1zIiwiYXJyYXlWYWwiLCJxdWVyeXN0cmluZ0RlY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsInNhZmVHZXQiLCJzdHJpbmdMZW5ndGgiLCJzdHJpbmdUb0J5dGVBcnJheSIsImhpZ2giLCJ1dWlkdjQiLCJ2YWxpZGF0ZUFyZ0NvdW50IiwibWluQ291bnQiLCJtYXhDb3VudCIsImFyZ0NvdW50IiwiYXJnRXJyb3IiLCJ2YWxpZGF0ZUNhbGxiYWNrIiwiYXJndW1lbnROYW1lIiwidmFsaWRhdGVDb250ZXh0T2JqZWN0IiwiY29udGV4dCIsInByZUV4aXN0IiwiREJfQ0hFQ0tfTkFNRSIsInZhbGlkYXRlTmFtZXNwYWNlIiwibmFtZXNwYWNlIiwidyIsIkxOMiIsIkUiLCJ4b3IiLCJtb2R1bGUiLCJ5IiwiZGVmaW5lUHJvcGVydGllcyIsImdsb2JhbFRoaXMiLCJ3cml0YWJsZSIsInVuc2hpZnQiLCJGdW5jdGlvbiIsIlFiIiwiZGVmYXVsdFByZXZlbnRlZCIsInJlbGF0ZWRUYXJnZXQiLCJidXR0b24iLCJzY3JlZW5ZIiwic2NyZWVuWCIsImNsaWVudFkiLCJjbGllbnRYIiwibWV0YUtleSIsInNoaWZ0S2V5IiwiYWx0S2V5IiwiY3RybEtleSIsInBvaW50ZXJJZCIsInBvaW50ZXJUeXBlIiwiY2hhbmdlZFRvdWNoZXMiLCJzcmNFbGVtZW50Iiwibm9kZU5hbWUiLCJmcm9tRWxlbWVudCIsInRvRWxlbWVudCIsInBhZ2VYIiwicGFnZVkiLCJyZXR1cm5WYWx1ZSIsInNyYyIsImNhcHR1cmUiLCJvbmNlIiwiYXR0YWNoRXZlbnQiLCJhZGRMaXN0ZW5lciIsInJlbW92ZUxpc3RlbmVyIiwiZGV0YWNoRXZlbnQiLCJoYW5kbGVFdmVudCIsImFiIiwiYmIiLCJjYiIsImViIiwiZmIiLCJnYiIsImliIiwiamIiLCJrYiIsImxiIiwibWIiLCJ3YiIsIm5iIiwib2IiLCJwYiIsInFiIiwicmIiLCJzYiIsInRiIiwidWIiLCJ2YiIsInliIiwiQ2IiLCJBYiIsInhiIiwiQmIiLCJIYiIsInpiIiwiUGIiLCJEYiIsIkViIiwiWE1MSHR0cFJlcXVlc3QiLCJGYiIsIkdiIiwiSWIiLCJKYiIsIktiIiwiTGIiLCJNYiIsIlNiIiwiV2IiLCJPYiIsIlViIiwiUmIiLCJYYiIsIlliIiwiWmIiLCIkYiIsImFjIiwiZ2V0UmVzcG9uc2VIZWFkZXIiLCJiYyIsImNjIiwiZGMiLCJlYyIsImZjIiwiZ2MiLCJOYiIsIlRiIiwiZ2V0QWxsUmVzcG9uc2VIZWFkZXJzIiwidHJpbSIsIlZiIiwiaGMiLCJpYyIsIlBlcmZvcm1hbmNlTmF2aWdhdGlvblRpbWluZyIsInBlcmZvcm1hbmNlIiwiZ2V0RW50cmllc0J5VHlwZSIsIm5leHRIb3BQcm90b2NvbCIsImxvYWRUaW1lcyIsIndhc0ZldGNoZWRWaWFTcGR5IiwiamMiLCJrYyIsIm5jIiwibWMiLCJsYyIsIm9jIiwicWMiLCJyYyIsInNjIiwidGMiLCJ1YyIsIkRjIiwiQWMiLCJ2YyIsIkJjIiwiZGVjb2RlVVJJIiwiZW5jb2RlVVJJIiwiQ2MiLCJ3YyIsInhjIiwieWMiLCJ6YyIsInBjIiwiRWMiLCJvbmxvYWQiLCJvbnRpbWVvdXQiLCJIYyIsIkljIiwiSmMiLCJLYyIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZVRleHQiLCJyZXNwb25zZSIsInN0YXR1c1RleHQiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJIZWFkZXJzIiwiTmMiLCJNYyIsIkxjIiwiT2MiLCJQYyIsImNhY2hlIiwiYm9keSIsImZldGNoIiwiUmVxdWVzdCIsImFycmF5QnVmZmVyIiwidGV4dCIsInNldFJlcXVlc3RIZWFkZXIiLCJhcHBlbmQiLCJRYyIsIlJjIiwiU2MiLCJVYyIsIlZjIiwiV2MiLCJsb2NhdGlvbiIsInByb3RvY29sIiwiVGMiLCJtb3pSZXNwb25zZUFycmF5QnVmZmVyIiwiWGMiLCJZYyIsImNvbmN1cnJlbnRSZXF1ZXN0TGltaXQiLCJmYXN0SGFuZHNoYWtlIiwiWmMiLCIkYyIsInNlbmRCZWFjb24iLCJJbWFnZSIsImFkIiwiZWQiLCJkZCIsImNkIiwiZmQiLCJiZCIsImlzQWN0aXZlIiwiRmMiLCJBYm9ydENvbnRyb2xsZXIiLCJzaWduYWwiLCJvayIsIkdjIiwiaG9zdG5hbWUiLCJnZCIsImhkIiwibWVzc2FnZUhlYWRlcnMiLCJjbGllbnRQcm90b2NvbEhlYWRlclJlcXVpcmVkIiwibWVzc2FnZUNvbnRlbnRUeXBlIiwiX19oZWFkZXJzX18iLCJzdGF0dXNDb2RlIiwiX19zdGF0dXNfXyIsIl9fc21fXyIsImpkIiwidG9VcHBlckNhc2UiLCJ3aXRoQ3JlZGVudGlhbHMiLCJjb25uZWN0IiwiT1NJRCIsIk9BSUQiLCJfX2RhdGFfXyIsImdldExhc3RFcnJvciIsImluc3RhbmNlT2ZBbnkiLCJvYmplY3QiLCJjb25zdHJ1Y3RvcnMiLCJpZGJQcm94eWFibGVUeXBlcyIsImN1cnNvckFkdmFuY2VNZXRob2RzIiwiY3Vyc29yUmVxdWVzdE1hcCIsInRyYW5zYWN0aW9uRG9uZU1hcCIsInRyYW5zYWN0aW9uU3RvcmVOYW1lc01hcCIsInRyYW5zZm9ybUNhY2hlIiwicmV2ZXJzZVRyYW5zZm9ybUNhY2hlIiwiaWRiUHJveHlUcmFwcyIsInJlY2VpdmVyIiwiSURCVHJhbnNhY3Rpb24iLCJ3cmFwIiwidHJhbnNmb3JtQ2FjaGFibGVWYWx1ZSIsImZ1bmMiLCJJREJEYXRhYmFzZSIsIklEQkN1cnNvciIsImFkdmFuY2UiLCJjb250aW51ZVByaW1hcnlLZXkiLCJ1bndyYXAiLCJzdG9yZU5hbWVzIiwidW5saXN0ZW4iLCJjYWNoZURvbmVQcm9taXNlRm9yVHJhbnNhY3Rpb24iLCJJREJPYmplY3RTdG9yZSIsIklEQkluZGV4IiwiUHJveHkiLCJJREJSZXF1ZXN0Iiwic3VjY2VzcyIsInByb21pc2lmeVJlcXVlc3QiLCJibG9ja2VkIiwiYmxvY2tpbmciLCJ0ZXJtaW5hdGVkIiwib3BlblByb21pc2UiLCJkZWxldGVEQiIsInJlYWRNZXRob2RzIiwid3JpdGVNZXRob2RzIiwiY2FjaGVkTWV0aG9kcyIsImdldE1ldGhvZCIsInRhcmdldEZ1bmNOYW1lIiwidXNlSW5kZXgiLCJpc1dyaXRlIiwic3RvcmVOYW1lIiwib2xkVHJhcHMiLCJleHRlbmRTdGF0aWNzIiwiX19wcm90b19fIiwiX19yZXN0IiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJfX2RlY29yYXRlIiwiZGVjb3JhdG9ycyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsIl9fcGFyYW0iLCJwYXJhbUluZGV4IiwiZGVjb3JhdG9yIiwiX19lc0RlY29yYXRlIiwiY3RvciIsImRlc2NyaXB0b3JJbiIsImNvbnRleHRJbiIsImluaXRpYWxpemVycyIsImV4dHJhSW5pdGlhbGl6ZXJzIiwiYWNjZXB0IiwiZGVzY3JpcHRvciIsImFjY2VzcyIsImFkZEluaXRpYWxpemVyIiwiaW5pdCIsIl9fcnVuSW5pdGlhbGl6ZXJzIiwidGhpc0FyZyIsInVzZVZhbHVlIiwiX19wcm9wS2V5IiwiX19zZXRGdW5jdGlvbk5hbWUiLCJwcmVmaXgiLCJkZXNjcmlwdGlvbiIsIl9fbWV0YWRhdGEiLCJtZXRhZGF0YUtleSIsIm1ldGFkYXRhVmFsdWUiLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwiZnVsZmlsbGVkIiwic3RlcCIsInJlamVjdGVkIiwib3BzIiwidmVyYiIsIl9fY3JlYXRlQmluZGluZyIsImsyIiwiX19lc01vZHVsZSIsIl9fZXhwb3J0U3RhciIsIl9fc3ByZWFkIiwiX19zcHJlYWRBcnJheXMiLCJpbCIsImpsIiwidG8iLCJwYWNrIiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJhc3luY0l0ZXJhdG9yIiwicmVzdW1lIiwiZnVsZmlsbCIsInNldHRsZSIsIl9fYXN5bmNEZWxlZ2F0b3IiLCJfX2FzeW5jVmFsdWVzIiwiX19tYWtlVGVtcGxhdGVPYmplY3QiLCJjb29rZWQiLCJyYXciLCJfX3NldE1vZHVsZURlZmF1bHQiLCJfX2ltcG9ydFN0YXIiLCJtb2QiLCJfX2ltcG9ydERlZmF1bHQiLCJkZWZhdWx0IiwiX19jbGFzc1ByaXZhdGVGaWVsZEdldCIsIl9fY2xhc3NQcml2YXRlRmllbGRTZXQiLCJfX2NsYXNzUHJpdmF0ZUZpZWxkSW4iLCJfX2FkZERpc3Bvc2FibGVSZXNvdXJjZSIsImVudiIsImRpc3Bvc2UiLCJhc3luY0Rpc3Bvc2UiLCJfU3VwcHJlc3NlZEVycm9yIiwiU3VwcHJlc3NlZEVycm9yIiwic3VwcHJlc3NlZCIsIl9fZGlzcG9zZVJlc291cmNlcyIsImhhc0Vycm9yIiwicmVjIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImRlZmluaXRpb24iLCJ0b1N0cmluZ1RhZyJdLCJzb3VyY2VSb290IjoiIn0=